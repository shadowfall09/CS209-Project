{"items":[{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":18190857,"reputation":24,"user_id":13236731,"display_name":"Ankit Arora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1627492084,"creation_date":1627492084,"answer_id":68564655,"question_id":68564552,"body_markdown":"Go to \r\nFile | Settings | Build, Execution, Deployment | Build Tools | Gradle\r\n\r\nHere Select the Gradle JDK required by your project, Rebuild your project it should work fine[menu sample][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2FN73.png","title":"Invalid Gradle JDK configuration found. Open Gradle Settings Change JDK location in Android Studio And JDK can&#39;t found anywhere","body":"<p>Go to\nFile | Settings | Build, Execution, Deployment | Build Tools | Gradle</p>\n<p>Here Select the Gradle JDK required by your project, Rebuild your project it should work fine<a href=\"https://i.stack.imgur.com/2FN73.png\" rel=\"nofollow noreferrer\">menu sample</a></p>\n"}],"owner":{"account_id":20598906,"reputation":3,"user_id":15120601,"display_name":"Harshit Tyagi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68564655,"answer_count":1,"score":0,"last_activity_date":1676130287,"creation_date":1627491590,"question_id":68564552,"body_markdown":"I opened my Android Studio and it shows me error &quot;Invalid Gradle JDK configuration found. Open Gradle Settings \r\nChange JDK location.&quot;\r\n\r\nAnd then when i clicked on &quot;Change JDK Location.&quot;\r\nIt shows me that instead of jdk it shows me jre but jdk can not be found anywhere[This is the Screeshot of the jre showing][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5JWmC.png","title":"Invalid Gradle JDK configuration found. Open Gradle Settings Change JDK location in Android Studio And JDK can&#39;t found anywhere","body":"<p>I opened my Android Studio and it shows me error &quot;Invalid Gradle JDK configuration found. Open Gradle Settings\nChange JDK location.&quot;</p>\n<p>And then when i clicked on &quot;Change JDK Location.&quot;\nIt shows me that instead of jdk it shows me jre but jdk can not be found anywhere<a href=\"https://i.stack.imgur.com/5JWmC.png\" rel=\"nofollow noreferrer\">This is the Screeshot of the jre showing</a></p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":16744354,"reputation":504,"user_id":12103109,"display_name":"CaptainAye"},"score":0,"creation_date":1676131537,"post_id":75421275,"comment_id":133077916,"body_markdown":"Would simple database level unique constraint on tuple &lt;studentId, courseId&gt; work for you. Then, you could catch the exception to handle it gracefully.","body":"Would simple database level unique constraint on tuple &lt;studentId, courseId&gt; work for you. Then, you could catch the exception to handle it gracefully."}],"owner":{"account_id":24611012,"reputation":1,"user_id":19803521,"display_name":"Yadier Betancourt Mart&#237;nez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676130124,"creation_date":1676129837,"question_id":75421275,"body_markdown":"There is a many-to-many relationship between students and an edition of a course, which would be the enrollment in that course. This relationship can be seen in the EditionEnrollment class.\r\n\r\n```java\r\npublic class EditionEnrollment {\r\n\r\n    @EmbeddedId\r\n    private Id id;\r\n\r\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;student_id&quot;, insertable = false, updatable = false)\r\n    protected Student student;\r\n\r\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;edition_id&quot;, insertable = false, updatable = false)\r\n    protected E edition;\r\n\r\n    @ColumnDefault(&quot;false&quot;)\r\n    @Column(nullable = false)\r\n    protected Boolean isDropped = false;\r\n\r\n    public EditionEnrollment() {\r\n    }\r\n\r\n    public EditionEnrollment(Student student, E edition) {\r\n        this(student, edition, false);\r\n    }\r\n\r\n    public EditionEnrollment(Student student, E edition, Boolean isDropped) {\r\n        id = new Id(student.getId(), edition.getId());\r\n        this.student = student;\r\n        this.edition = edition;\r\n        this.isDropped = isDropped;\r\n    }\r\n    // methods\r\n    \r\n    @Embeddable\r\n    public static class Id implements Serializable {\r\n\r\n        @Column(name = &quot;student_id&quot;)\r\n        private Long studentId;\r\n\r\n        @Column(name = &quot;edition_id&quot;)\r\n        private Long editionId;\r\n\r\n        public Id() {\r\n        }\r\n\r\n        public Id(Long studentId, Long editionId) {\r\n            this.studentId = studentId;\r\n            this.editionId = editionId;\r\n        }\r\n        //methods\r\n    }\r\n\r\n```\r\n\r\nRepository\r\n\r\n```java\r\npublic interface EditionEnrollmentRepository extends JpaRepository&lt;EditionEnrollment, EditionEnrollment.Id&gt; {}\r\n```\r\nService\r\n\r\n```java\r\n@Service\r\npublic record EditionEnrollmentService(CourseEnrollmentRepository repository) {\r\n\r\n    public void save(CourseEnrollment courseEnrollment) {\r\n        repository.save(courseEnrollment);\r\n    }\r\n    public Optional&lt;CourseEnrollment&gt; findById(CourseEnrollment.Id id) {\r\n        return repository.findById(id);\r\n    }\r\n    // other methods\r\n}\r\n\r\n```\r\n\r\nThere is a list of students to be enrolled, but it is possible that some of them are already enrolled before and they cannot be enrolled again. My solution to this problem was to ask if said enrollment existed and in that case, then I did not call the save method.\r\n\r\n```java\r\nAtomicInteger count = new AtomicInteger();\r\nAtomicInteger saved = new AtomicInteger();\r\nselectedStudents.getListDataView().getItems().forEach(student -&gt; {\r\n        count.getAndIncrement();\r\n        CourseEnrollment ce = new CourseEnrollment(student, edition);\r\n        if (courseEnrollmentService.findById(ce.getId()).isEmpty()) {\r\n              courseEnrollmentService.save(ce);\r\n              saved.getAndIncrement();\r\n        }\r\n});\r\n                        \r\n```\r\n\r\nBut with this solution, although it works, a query is executed twice when the student has not been enrolled, the one of the findById of the if and another that executes the save method\r\n\r\n```sql\r\nselect ...\r\nfrom course_enrollment courseenro0_\r\nwhere courseenro0_.edition_id=?\r\n  and courseenro0_.student_id =?;\r\n\r\nselect ...\r\nfrom course_enrollment courseenro0_\r\nwhere courseenro0_.edition_id=?\r\n  and courseenro0_.student_id =?;\r\n\r\ninsert\r\n    into course_enrollment (is_dropped, evaluation_id, edition_id, student_id)\r\nvalues (?, ?, ?, ?)\r\n```\r\nHow could I improve this?","title":"Save with Spring data jpa save method in Many to Many","body":"<p>There is a many-to-many relationship between students and an edition of a course, which would be the enrollment in that course. This relationship can be seen in the EditionEnrollment class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EditionEnrollment {\n\n    @EmbeddedId\n    private Id id;\n\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;student_id&quot;, insertable = false, updatable = false)\n    protected Student student;\n\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;edition_id&quot;, insertable = false, updatable = false)\n    protected E edition;\n\n    @ColumnDefault(&quot;false&quot;)\n    @Column(nullable = false)\n    protected Boolean isDropped = false;\n\n    public EditionEnrollment() {\n    }\n\n    public EditionEnrollment(Student student, E edition) {\n        this(student, edition, false);\n    }\n\n    public EditionEnrollment(Student student, E edition, Boolean isDropped) {\n        id = new Id(student.getId(), edition.getId());\n        this.student = student;\n        this.edition = edition;\n        this.isDropped = isDropped;\n    }\n    // methods\n    \n    @Embeddable\n    public static class Id implements Serializable {\n\n        @Column(name = &quot;student_id&quot;)\n        private Long studentId;\n\n        @Column(name = &quot;edition_id&quot;)\n        private Long editionId;\n\n        public Id() {\n        }\n\n        public Id(Long studentId, Long editionId) {\n            this.studentId = studentId;\n            this.editionId = editionId;\n        }\n        //methods\n    }\n\n</code></pre>\n<p>Repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface EditionEnrollmentRepository extends JpaRepository&lt;EditionEnrollment, EditionEnrollment.Id&gt; {}\n</code></pre>\n<p>Service</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic record EditionEnrollmentService(CourseEnrollmentRepository repository) {\n\n    public void save(CourseEnrollment courseEnrollment) {\n        repository.save(courseEnrollment);\n    }\n    public Optional&lt;CourseEnrollment&gt; findById(CourseEnrollment.Id id) {\n        return repository.findById(id);\n    }\n    // other methods\n}\n\n</code></pre>\n<p>There is a list of students to be enrolled, but it is possible that some of them are already enrolled before and they cannot be enrolled again. My solution to this problem was to ask if said enrollment existed and in that case, then I did not call the save method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>AtomicInteger count = new AtomicInteger();\nAtomicInteger saved = new AtomicInteger();\nselectedStudents.getListDataView().getItems().forEach(student -&gt; {\n        count.getAndIncrement();\n        CourseEnrollment ce = new CourseEnrollment(student, edition);\n        if (courseEnrollmentService.findById(ce.getId()).isEmpty()) {\n              courseEnrollmentService.save(ce);\n              saved.getAndIncrement();\n        }\n});\n                        \n</code></pre>\n<p>But with this solution, although it works, a query is executed twice when the student has not been enrolled, the one of the findById of the if and another that executes the save method</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select ...\nfrom course_enrollment courseenro0_\nwhere courseenro0_.edition_id=?\n  and courseenro0_.student_id =?;\n\nselect ...\nfrom course_enrollment courseenro0_\nwhere courseenro0_.edition_id=?\n  and courseenro0_.student_id =?;\n\ninsert\n    into course_enrollment (is_dropped, evaluation_id, edition_id, student_id)\nvalues (?, ?, ?, ?)\n</code></pre>\n<p>How could I improve this?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1676129996,"post_id":75418953,"comment_id":133077646,"body_markdown":"The quickstart guide, with the correct command syntax, from the Kafka website shouldn&#39;t take two days to go over.","body":"The quickstart guide, with the correct command syntax, from the Kafka website shouldn&#39;t take two days to go over."}],"answers":[{"tags":[],"owner":{"account_id":2594887,"reputation":341,"user_id":2248840,"accept_rate":71,"display_name":"Erms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676119768,"creation_date":1676119768,"answer_id":75420323,"question_id":75418953,"body_markdown":"In your topic creation command there is an error on the value of the parameter `--bootstrap-server ip1:port,ip2:port,ip3:port/test`\r\n\r\nThis parameter should only consist of a comma-separated list of ip:port.\r\n\r\nThe error comes from the fact that you added /test at the end of this connection string, remove /test to correct your problem","title":"Exception in thread &quot;main&quot; org.apache.kafka.common.KafkaException: Failed to create new KafkaAdminClient","body":"<p>In your topic creation command there is an error on the value of the parameter <code>--bootstrap-server ip1:port,ip2:port,ip3:port/test</code></p>\n<p>This parameter should only consist of a comma-separated list of ip:port.</p>\n<p>The error comes from the fact that you added /test at the end of this connection string, remove /test to correct your problem</p>\n"}],"owner":{"account_id":24119941,"reputation":97,"user_id":18089273,"display_name":"humanlearning"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75420323,"answer_count":1,"score":0,"last_activity_date":1676129919,"creation_date":1676104127,"question_id":75418953,"body_markdown":"while I create topic on mac os the error occur.&lt;br&gt;\r\nwhen I tried on server where the kafka run the same error occur\r\nwith additive error message\r\n```OpenJDK 64-Bit Server VM warning: If the number of processors is expected to increase from one, then you should configure the number of parallel GC threads appropriately using -XX:ParallelGCThreads=N```\r\n\r\nthe command I use is ```/opt/homebrew/bin/kafka-topics --create --bootstrap-server ip1:port,ip2:port,ip3:port/test --replication-factor 3 --partitions 1 --topic test```\r\n\r\nzookeeper version(linux ec2 t2.micro) : 3.8.1 &lt;br&gt;\r\nkafka version(linux ec2 t2.micro) 3.4.0\r\n\r\n\r\nlocal(mac os) kafka version : 3.3.2\r\n\r\nIf you need more information(zoo.cfg, server.properties etc.), question me\r\n\r\nI spend 2 days to find out a solution\r\n\r\nfull error msg:\r\n```\r\nException in thread &quot;main&quot; org.apache.kafka.common.KafkaException: Failed to create new KafkaAdminClient\r\n\tat org.apache.kafka.clients.admin.KafkaAdminClient.createInternal(KafkaAdminClient.java:553)\r\n\tat org.apache.kafka.clients.admin.KafkaAdminClient.createInternal(KafkaAdminClient.java:485)\r\n\tat org.apache.kafka.clients.admin.Admin.create(Admin.java:134)\r\n\tat kafka.admin.TopicCommand$TopicService$.createAdminClient(TopicCommand.scala:205)\r\n\tat kafka.admin.TopicCommand$TopicService$.apply(TopicCommand.scala:209)\r\n\tat kafka.admin.TopicCommand$.main(TopicCommand.scala:50)\r\n\tat kafka.admin.TopicCommand.main(TopicCommand.scala)\r\nCaused by: org.apache.kafka.common.config.ConfigException: Invalid url in bootstrap.servers: 54.165.35.70:9092/test\r\n\tat org.apache.kafka.clients.ClientUtils.parseAndValidateAddresses(ClientUtils.java:59)\r\n\tat org.apache.kafka.clients.ClientUtils.parseAndValidateAddresses(ClientUtils.java:48)\r\n\tat org.apache.kafka.clients.admin.KafkaAdminClient.createInternal(KafkaAdminClient.java:505)\r\n\t... 6 more\r\n```","title":"Exception in thread &quot;main&quot; org.apache.kafka.common.KafkaException: Failed to create new KafkaAdminClient","body":"<p>while I create topic on mac os the error occur.<br>\nwhen I tried on server where the kafka run the same error occur\nwith additive error message\n<code>OpenJDK 64-Bit Server VM warning: If the number of processors is expected to increase from one, then you should configure the number of parallel GC threads appropriately using -XX:ParallelGCThreads=N</code></p>\n<p>the command I use is <code>/opt/homebrew/bin/kafka-topics --create --bootstrap-server ip1:port,ip2:port,ip3:port/test --replication-factor 3 --partitions 1 --topic test</code></p>\n<p>zookeeper version(linux ec2 t2.micro) : 3.8.1 <br>\nkafka version(linux ec2 t2.micro) 3.4.0</p>\n<p>local(mac os) kafka version : 3.3.2</p>\n<p>If you need more information(zoo.cfg, server.properties etc.), question me</p>\n<p>I spend 2 days to find out a solution</p>\n<p>full error msg:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.kafka.common.KafkaException: Failed to create new KafkaAdminClient\n    at org.apache.kafka.clients.admin.KafkaAdminClient.createInternal(KafkaAdminClient.java:553)\n    at org.apache.kafka.clients.admin.KafkaAdminClient.createInternal(KafkaAdminClient.java:485)\n    at org.apache.kafka.clients.admin.Admin.create(Admin.java:134)\n    at kafka.admin.TopicCommand$TopicService$.createAdminClient(TopicCommand.scala:205)\n    at kafka.admin.TopicCommand$TopicService$.apply(TopicCommand.scala:209)\n    at kafka.admin.TopicCommand$.main(TopicCommand.scala:50)\n    at kafka.admin.TopicCommand.main(TopicCommand.scala)\nCaused by: org.apache.kafka.common.config.ConfigException: Invalid url in bootstrap.servers: 54.165.35.70:9092/test\n    at org.apache.kafka.clients.ClientUtils.parseAndValidateAddresses(ClientUtils.java:59)\n    at org.apache.kafka.clients.ClientUtils.parseAndValidateAddresses(ClientUtils.java:48)\n    at org.apache.kafka.clients.admin.KafkaAdminClient.createInternal(KafkaAdminClient.java:505)\n    ... 6 more\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","android-custom-view"],"answers":[{"tags":[],"owner":{"account_id":11172549,"reputation":124,"user_id":8199125,"display_name":"Ali Babadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638895030,"creation_date":1638895030,"answer_id":70263788,"question_id":70263701,"body_markdown":"You can either add Swipeable behavior to your `RecyclerView` like this :\r\n\r\n[Add Swipeable Behavior][1] \r\n\r\n\r\nor use an external library to do that for you :\r\n\r\n[Use External Lib][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/64366919/how-to-add-swipe-left-to-right-in-recyclerview\r\n  [2]: https://medium.com/android-news/android-recyclerview-swipeable-items-46a3c763498d","title":"How can I create &#39;Swipe on a message to reply on WhatsApp&#39; kind of view using custom view on list?","body":"<p>You can either add Swipeable behavior to your <code>RecyclerView</code> like this :</p>\n<p><a href=\"https://stackoverflow.com/questions/64366919/how-to-add-swipe-left-to-right-in-recyclerview\">Add Swipeable Behavior</a></p>\n<p>or use an external library to do that for you :</p>\n<p><a href=\"https://medium.com/android-news/android-recyclerview-swipeable-items-46a3c763498d\" rel=\"nofollow noreferrer\">Use External Lib</a></p>\n"},{"tags":[],"owner":{"account_id":13122694,"reputation":392,"user_id":9479660,"display_name":"lastbreath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676129667,"creation_date":1676129667,"answer_id":75421258,"question_id":70263701,"body_markdown":"I think the following post gives the most detailed equation for this behaviour. It relates the finger position to the bubble position and can be customised easily.\r\n\r\n    xb = min( xf, f * sqrt(W) * sqrt(xf) )\r\n    \r\n    xb = x-displacement of bubble from its initial position\r\n    xf = x-displacement of finger from its initial position\r\n    W  = screen width or maximum finger displacement possible\r\n    f  = maximum bubble displacement fraction or xb(max)/xf(max)\r\n\r\n\r\nHere is the complete post\r\n https://medium.com/@duolop/swipe-to-reply-animation-a-physics-based-approach-5ef646c396e4\r\n    ","title":"How can I create &#39;Swipe on a message to reply on WhatsApp&#39; kind of view using custom view on list?","body":"<p>I think the following post gives the most detailed equation for this behaviour. It relates the finger position to the bubble position and can be customised easily.</p>\n<pre><code>xb = min( xf, f * sqrt(W) * sqrt(xf) )\n\nxb = x-displacement of bubble from its initial position\nxf = x-displacement of finger from its initial position\nW  = screen width or maximum finger displacement possible\nf  = maximum bubble displacement fraction or xb(max)/xf(max)\n</code></pre>\n<p>Here is the complete post\n<a href=\"https://medium.com/@duolop/swipe-to-reply-animation-a-physics-based-approach-5ef646c396e4\" rel=\"nofollow noreferrer\">https://medium.com/@duolop/swipe-to-reply-animation-a-physics-based-approach-5ef646c396e4</a></p>\n"}],"owner":{"account_id":23553644,"reputation":3,"user_id":17595977,"display_name":"Ashwin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70263788,"answer_count":2,"score":0,"last_activity_date":1676129667,"creation_date":1638894571,"question_id":70263701,"body_markdown":"I have a list of items in list view, I want to display the item that user swipes left on, in a new fragment or activity as a textview. I want the entire list to animate and move a bit to left as if it has been pulled to left with the finger. I want to execute the same using **custom views**.\r\n\r\n![image reference][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r9Vc3.jpg","title":"How can I create &#39;Swipe on a message to reply on WhatsApp&#39; kind of view using custom view on list?","body":"<p>I have a list of items in list view, I want to display the item that user swipes left on, in a new fragment or activity as a textview. I want the entire list to animate and move a bit to left as if it has been pulled to left with the finger. I want to execute the same using <strong>custom views</strong>.</p>\n<p><img src=\"https://i.stack.imgur.com/r9Vc3.jpg\" alt=\"image reference\" /></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":4218279,"reputation":1719,"user_id":3453727,"display_name":"Alex Chernyshev"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1580004034,"creation_date":1580004034,"answer_id":59914983,"question_id":59914965,"body_markdown":"There is a setting responsible for such behavior:\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerMapping.html#setUseTrailingSlashMatch-boolean-\r\n\r\nJust turn it off:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig implements WebMvcConfigurer {\r\n    \r\n      @Override\r\n      public void configurePathMatch(PathMatchConfigurer configurer) {\r\n          configurer.setUseTrailingSlashMatch(false);\r\n      }\r\n    }","title":"Spring MVC RequestMapping requires trailing slash","body":"<p>There is a setting responsible for such behavior:</p>\n\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerMapping.html#setUseTrailingSlashMatch-boolean-\" rel=\"noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/RequestMappingHandlerMapping.html#setUseTrailingSlashMatch-boolean-</a></p>\n\n<p>Just turn it off:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n  @Override\n  public void configurePathMatch(PathMatchConfigurer configurer) {\n      configurer.setUseTrailingSlashMatch(false);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4806420,"reputation":3411,"user_id":3881320,"display_name":"Davide Patti"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1671538465,"creation_date":1671538465,"answer_id":74862934,"question_id":59914965,"body_markdown":"Note that the default behaviour of [setUseTrailingSlashMatch][1] changed **from true to false** since 6.0 in order to support the deprecation of the property.\r\n\r\nIf you want this to be enabled you have to set it to true now. But as it is marked deprecated, probably best not to do it and instead follow the advice in this [Spring Boot 3.0.0 M4 Release Notes][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/PathMatchConfigurer.html#setUseTrailingSlashMatch(java.lang.Boolean)\r\n  [2]: https://github.com/spring-projects-experimental/spring-boot-migrator/issues/206\r\n\r\n&gt; Developers should instead configure explicit redirects/rewrites through a proxy, a Servlet/web filter, or even declare the additional route explicitly on the controller handler (like @GetMapping(&quot;/some/greeting&quot;, &quot;/some/greeting/&quot;) for more targeted cases.","title":"Spring MVC RequestMapping requires trailing slash","body":"<p>Note that the default behaviour of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/PathMatchConfigurer.html#setUseTrailingSlashMatch(java.lang.Boolean)\" rel=\"noreferrer\">setUseTrailingSlashMatch</a> changed <strong>from true to false</strong> since 6.0 in order to support the deprecation of the property.</p>\n<p>If you want this to be enabled you have to set it to true now. But as it is marked deprecated, probably best not to do it and instead follow the advice in this <a href=\"https://github.com/spring-projects-experimental/spring-boot-migrator/issues/206\" rel=\"noreferrer\">Spring Boot 3.0.0 M4 Release Notes</a></p>\n<blockquote>\n<p>Developers should instead configure explicit redirects/rewrites through a proxy, a Servlet/web filter, or even declare the additional route explicitly on the controller handler (like @GetMapping(&quot;/some/greeting&quot;, &quot;/some/greeting/&quot;) for more targeted cases.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676128747,"creation_date":1676128424,"answer_id":75421122,"question_id":59914965,"body_markdown":"Spring Boot 3+ **TLDR**\r\n\r\n```java\r\n@Configuration\r\npublic class WebConfiguration implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void configurePathMatch(PathMatchConfigurer configurer) {\r\n      configurer.setUseTrailingSlashMatch(true);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nBe sure to use as above for Spring Boot 3+ (that uses Spring 6)\r\nto have URL ending with &#39;/&#39; still being processed by mapping in Controllers without ending &#39;/&#39;.\r\n\r\n**Longer answer:**\r\n\r\nNote for the snippet the value is exactly `true`  \r\nand `@EnableWebMvc` is not used with Spring Boot \r\n(as it would in fact disable autoconfiguration for web MVC)\r\n\r\nThat was exactly recommended in \r\nhttps://github.com/spring-projects-experimental/spring-boot-migrator/issues/206\r\n&quot;Spring Boot 3.0.0 M4 Release Notes&quot;\r\n\r\n\r\nAnd because there are reasons why Spring became less forgiving, \r\n( see &quot;Deprecate trailing slash match and change default value from true to false&quot;\r\nhttps://github.com/spring-projects/spring-framework/issues/28552 )\r\nI think we should better to think as bad habit to use URLs ending with &#39;/&#39;, that now require extra attention.","title":"Spring MVC RequestMapping requires trailing slash","body":"<p>Spring Boot 3+ <strong>TLDR</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n      configurer.setUseTrailingSlashMatch(true);\n    }\n  }\n}\n</code></pre>\n<p>Be sure to use as above for Spring Boot 3+ (that uses Spring 6)\nto have URL ending with '/' still being processed by mapping in Controllers without ending '/'.</p>\n<p><strong>Longer answer:</strong></p>\n<p>Note for the snippet the value is exactly <code>true</code><br />\nand <code>@EnableWebMvc</code> is not used with Spring Boot\n(as it would in fact disable autoconfiguration for web MVC)</p>\n<p>That was exactly recommended in\n<a href=\"https://github.com/spring-projects-experimental/spring-boot-migrator/issues/206\" rel=\"nofollow noreferrer\">https://github.com/spring-projects-experimental/spring-boot-migrator/issues/206</a>\n&quot;Spring Boot 3.0.0 M4 Release Notes&quot;</p>\n<p>And because there are reasons why Spring became less forgiving,\n( see &quot;Deprecate trailing slash match and change default value from true to false&quot;\n<a href=\"https://github.com/spring-projects/spring-framework/issues/28552\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/28552</a> )\nI think we should better to think as bad habit to use URLs ending with '/', that now require extra attention.</p>\n"}],"owner":{"account_id":13064909,"reputation":173,"user_id":9440642,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7932,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":59914983,"answer_count":3,"score":11,"last_activity_date":1676128747,"creation_date":1580003656,"question_id":59914965,"body_markdown":"There seems to be weird behavior which I can&#39;t seem to pinpoint the reason for. When I access a particular url I get a 404 response while other urls that are handled by the same controller class works. I have to add a trailing / to the end of the url in order for the method to be called.\r\n\r\n**This method DOES NOT get called when accessing localhost:8080/newprofile**\r\n\r\n     @RequestMapping(value=&quot;/newprofile&quot;, method=RequestMethod.GET)\r\n    \tpublic String newProfile(Model model, Principal principal) {\r\n    \t\treturn &quot;newprofile&quot;;\r\n    \t}\r\n\r\n**However, this one DOES get called when accessing localhost:8080/login**\r\n\r\n\t@GetMapping(&quot;/login&quot;)\r\n\tpublic String login() {\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\nI have tried both GetMapping and RequestMapping but the methods are never called.\r\n\r\n**Both methods are contained in my controller class**\r\n\r\n        @Controller\r\n        public class HomeResources {\r\n        //login\r\n        //new profile\r\n        \t}\r\n\r\n","title":"Spring MVC RequestMapping requires trailing slash","body":"<p>There seems to be weird behavior which I can't seem to pinpoint the reason for. When I access a particular url I get a 404 response while other urls that are handled by the same controller class works. I have to add a trailing / to the end of the url in order for the method to be called.</p>\n\n<p><strong>This method DOES NOT get called when accessing localhost:8080/newprofile</strong></p>\n\n<pre><code> @RequestMapping(value=\"/newprofile\", method=RequestMethod.GET)\n    public String newProfile(Model model, Principal principal) {\n        return \"newprofile\";\n    }\n</code></pre>\n\n<p><strong>However, this one DOES get called when accessing localhost:8080/login</strong></p>\n\n<pre><code>@GetMapping(\"/login\")\npublic String login() {\n    return \"login\";\n}\n</code></pre>\n\n<p>I have tried both GetMapping and RequestMapping but the methods are never called.</p>\n\n<p><strong>Both methods are contained in my controller class</strong></p>\n\n<pre><code>    @Controller\n    public class HomeResources {\n    //login\n    //new profile\n        }\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":22184689,"reputation":110,"user_id":16427804,"display_name":"PJH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676128625,"creation_date":1676128625,"answer_id":75421153,"question_id":75417139,"body_markdown":"When switching fragments, existing fragments aren&#39;t deleted. \r\nAlso, songsList isn&#39;t initialized; `onViewCreated()` is called at this time, so it seems that the transition adds the item to the `songsList`.\r\nIn order to solve the problem, it seems that it is necessary to do a good comparison so that the same item as the previously saved item is not added, or to not add an item every time in onViewCreated.","title":"Recycler View double items on change fragment","body":"<p>When switching fragments, existing fragments aren't deleted.\nAlso, songsList isn't initialized; <code>onViewCreated()</code> is called at this time, so it seems that the transition adds the item to the <code>songsList</code>.\nIn order to solve the problem, it seems that it is necessary to do a good comparison so that the same item as the previously saved item is not added, or to not add an item every time in onViewCreated.</p>\n"}],"owner":{"account_id":21264341,"reputation":1,"user_id":15644766,"display_name":"Dragon 313"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676128625,"creation_date":1676072740,"question_id":75417139,"body_markdown":"I have a problem with the recyclerview in my app i have 2 fragments in the first one there is the recycler view which has to find the songs present in the device and put them in line in the second for now nothing. when I switch from one fragment to another the recycler view items double each time.\r\nCODE: \r\n\r\nHomeActvity\r\n \r\n\r\n    public class HomeActivity extends AppCompatActivity {\r\n     \r\n        BottomNavigationView bottomNavigationView;\r\n        RecyclerView recyclerView;\r\n        TextView noMusicTextView;\r\n     \r\n        HomeFragment homeFragment = new HomeFragment();\r\n        ProvaFragment provaFragment = new ProvaFragment();\r\n     \r\n     \r\n        @SuppressLint(&quot;MissingInflatedId&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_home);\r\n     \r\n     \r\n            getSupportActionBar().hide();\r\n     \r\n            noMusicTextView = findViewById(R.id.noSongs);\r\n            recyclerView = findViewById(R.id.recycler_view);\r\n            bottomNavigationView = findViewById(R.id.barra_navigazione);\r\n     \r\n            getSupportFragmentManager().beginTransaction().replace(R.id.contenitore_frammenti, homeFragment).commit();\r\n     \r\n            bottomNavigationView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\r\n                @Override\r\n                public boolean onNavigationItemSelected(MenuItem item) {\r\n                    switch (item.getItemId()) {\r\n                        case R.id.home:\r\n                            getSupportFragmentManager().beginTransaction().replace(R.id.contenitore_frammenti, homeFragment).commit();\r\n                            return true;\r\n                        case R.id.prova:\r\n                            getSupportFragmentManager().beginTransaction().replace(R.id.contenitore_frammenti, provaFragment).commit();\r\n                            return true;\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n     \r\n     \r\n     \r\n     \r\n        }\r\n     \r\n     \r\n    }\r\n\r\n \r\nHomeFragment\r\n \r\n\r\n    public class HomeFragment extends Fragment {\r\n     \r\n        ArrayList&lt;AudioModel&gt; songsList = new ArrayList&lt;&gt;();\r\n     \r\n     \r\n        RecyclerView recyclerView;\r\n        TextView noMusicTextView;\r\n     \r\n        @SuppressLint(&quot;MissingInflatedId&quot;)\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n     \r\n            View view = inflater.inflate(R.layout.fragment_home, container, false);\r\n     \r\n            recyclerView = view.findViewById(R.id.recycler_view);\r\n            noMusicTextView = view.findViewById(R.id.noSongs);\r\n     \r\n            String[] projection = {\r\n                    MediaStore.Audio.Media.TITLE,\r\n                    MediaStore.Audio.Media.DATA,\r\n                    MediaStore.Audio.Media.DURATION,\r\n     \r\n            };\r\n     \r\n     \r\n            String selection = MediaStore.Audio.Media.IS_MUSIC + &quot; !=0&quot;;\r\n     \r\n            Cursor cursor = getActivity().getContentResolver().query(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI,projection,selection,null,null);\r\n            while(cursor.moveToNext()){\r\n                AudioModel songData = new AudioModel(cursor.getString(1), cursor.getString(0),cursor.getString(2));\r\n                if(new File(songData.getPath()).exists())\r\n                    songsList.add(songData);\r\n     \r\n            }\r\n     \r\n            if(songsList.size() == 0){\r\n                noMusicTextView.setVisibility(View.VISIBLE);\r\n            }else{\r\n                recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n                recyclerView.setAdapter(new MusicListAdapter(songsList, getContext()));\r\n     \r\n            }\r\n     \r\n     \r\n            return view;\r\n        }\r\n     \r\n    }\r\n     \r\n\r\nMusicListAdapter\r\n \r\n\r\n    public class MusicListAdapter extends RecyclerView.Adapter&lt;MusicListAdapter.ViewHolder&gt;{\r\n     \r\n        ArrayList&lt;AudioModel&gt; songsList;\r\n        Context context;\r\n     \r\n     \r\n        public MusicListAdapter(ArrayList&lt;AudioModel&gt; songsList, Context context) {\r\n            this.songsList = songsList;\r\n            this.context = context;\r\n        }\r\n     \r\n        @Override\r\n        public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(context).inflate(R.layout.recycler_item,parent,false);\r\n            return new MusicListAdapter.ViewHolder(view);\r\n     \r\n        }\r\n     \r\n        @Override\r\n        public void onBindViewHolder(ViewHolder holder, int position) {\r\n            AudioModel songData = songsList.get(position);\r\n            holder.titleTextView.setText(songData.getTitle());\r\n     \r\n        }\r\n     \r\n        @Override\r\n        public int getItemCount() {\r\n            return songsList.size();\r\n        }\r\n     \r\n        public class ViewHolder extends RecyclerView.ViewHolder{\r\n     \r\n            TextView titleTextView;\r\n            ImageView iconImageView;\r\n     \r\n            public ViewHolder(View itemView) {\r\n                super(itemView);\r\n                titleTextView = itemView.findViewById(R.id.music_title_text);\r\n                iconImageView = itemView.findViewById(R.id.icon_view);\r\n            }\r\n        }\r\n    }\r\n\r\nI have tryed to use songsList.clear(); but this don&#39;t work(Sorry for my english).","title":"Recycler View double items on change fragment","body":"<p>I have a problem with the recyclerview in my app i have 2 fragments in the first one there is the recycler view which has to find the songs present in the device and put them in line in the second for now nothing. when I switch from one fragment to another the recycler view items double each time.\nCODE:</p>\n<p>HomeActvity</p>\n<pre><code>public class HomeActivity extends AppCompatActivity {\n \n    BottomNavigationView bottomNavigationView;\n    RecyclerView recyclerView;\n    TextView noMusicTextView;\n \n    HomeFragment homeFragment = new HomeFragment();\n    ProvaFragment provaFragment = new ProvaFragment();\n \n \n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n \n \n        getSupportActionBar().hide();\n \n        noMusicTextView = findViewById(R.id.noSongs);\n        recyclerView = findViewById(R.id.recycler_view);\n        bottomNavigationView = findViewById(R.id.barra_navigazione);\n \n        getSupportFragmentManager().beginTransaction().replace(R.id.contenitore_frammenti, homeFragment).commit();\n \n        bottomNavigationView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(MenuItem item) {\n                switch (item.getItemId()) {\n                    case R.id.home:\n                        getSupportFragmentManager().beginTransaction().replace(R.id.contenitore_frammenti, homeFragment).commit();\n                        return true;\n                    case R.id.prova:\n                        getSupportFragmentManager().beginTransaction().replace(R.id.contenitore_frammenti, provaFragment).commit();\n                        return true;\n                }\n                return false;\n            }\n        });\n \n \n \n \n    }\n \n \n}\n</code></pre>\n<p>HomeFragment</p>\n<pre><code>public class HomeFragment extends Fragment {\n \n    ArrayList&lt;AudioModel&gt; songsList = new ArrayList&lt;&gt;();\n \n \n    RecyclerView recyclerView;\n    TextView noMusicTextView;\n \n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n \n        View view = inflater.inflate(R.layout.fragment_home, container, false);\n \n        recyclerView = view.findViewById(R.id.recycler_view);\n        noMusicTextView = view.findViewById(R.id.noSongs);\n \n        String[] projection = {\n                MediaStore.Audio.Media.TITLE,\n                MediaStore.Audio.Media.DATA,\n                MediaStore.Audio.Media.DURATION,\n \n        };\n \n \n        String selection = MediaStore.Audio.Media.IS_MUSIC + &quot; !=0&quot;;\n \n        Cursor cursor = getActivity().getContentResolver().query(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI,projection,selection,null,null);\n        while(cursor.moveToNext()){\n            AudioModel songData = new AudioModel(cursor.getString(1), cursor.getString(0),cursor.getString(2));\n            if(new File(songData.getPath()).exists())\n                songsList.add(songData);\n \n        }\n \n        if(songsList.size() == 0){\n            noMusicTextView.setVisibility(View.VISIBLE);\n        }else{\n            recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n            recyclerView.setAdapter(new MusicListAdapter(songsList, getContext()));\n \n        }\n \n \n        return view;\n    }\n \n}\n \n</code></pre>\n<p>MusicListAdapter</p>\n<pre><code>public class MusicListAdapter extends RecyclerView.Adapter&lt;MusicListAdapter.ViewHolder&gt;{\n \n    ArrayList&lt;AudioModel&gt; songsList;\n    Context context;\n \n \n    public MusicListAdapter(ArrayList&lt;AudioModel&gt; songsList, Context context) {\n        this.songsList = songsList;\n        this.context = context;\n    }\n \n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.recycler_item,parent,false);\n        return new MusicListAdapter.ViewHolder(view);\n \n    }\n \n    @Override\n    public void onBindViewHolder(ViewHolder holder, int position) {\n        AudioModel songData = songsList.get(position);\n        holder.titleTextView.setText(songData.getTitle());\n \n    }\n \n    @Override\n    public int getItemCount() {\n        return songsList.size();\n    }\n \n    public class ViewHolder extends RecyclerView.ViewHolder{\n \n        TextView titleTextView;\n        ImageView iconImageView;\n \n        public ViewHolder(View itemView) {\n            super(itemView);\n            titleTextView = itemView.findViewById(R.id.music_title_text);\n            iconImageView = itemView.findViewById(R.id.icon_view);\n        }\n    }\n}\n</code></pre>\n<p>I have tryed to use songsList.clear(); but this don't work(Sorry for my english).</p>\n"},{"tags":["java","hadoop","mapreduce","word-count"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1676127893,"post_id":75420968,"comment_id":133077304,"body_markdown":"No one seriously writes mapreduce anymore. Have you seen how short Spark code is that [does the same thing](https://github.com/apache/spark/blob/master/examples/src/main/java/org/apache/spark/examples/JavaWordCount.java)?","body":"No one seriously writes mapreduce anymore. Have you seen how short Spark code is that <a href=\"https://github.com/apache/spark/blob/master/examples/src/main/java/org/apache/spark/examples/JavaWordCount.java\" rel=\"nofollow noreferrer\">does the same thing</a>?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676128043,"creation_date":1676128043,"answer_id":75421081,"question_id":75420968,"body_markdown":"&gt; Know whether it is working or not\r\n\r\nOpen `The url to track the job` from the logs in your browser and look at the _actual_ logs of the application in the YARN UI\r\n\r\nOr use `yarn logs` command, given the application ID from the line above in a separate terminal ","title":"hadoop : is somehting wrong when I run a MapReduce program to count words?","body":"<blockquote>\n<p>Know whether it is working or not</p>\n</blockquote>\n<p>Open <code>The url to track the job</code> from the logs in your browser and look at the <em>actual</em> logs of the application in the YARN UI</p>\n<p>Or use <code>yarn logs</code> command, given the application ID from the line above in a separate terminal</p>\n"}],"owner":{"account_id":27191081,"reputation":11,"user_id":20724834,"display_name":"marietar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676128242,"creation_date":1676126999,"question_id":75420968,"body_markdown":"I&#39;m trying to learn to use Hadoop.\r\nI have an old laptop and I installed Linux Mint 21.\r\nI was able to install hadoop.\r\n\r\nThe commands belows are ok:\r\nwhen I do `hdfs dfs -ls /`  I can see this:\r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/home/dell/hadoop/share/hadoop/common/lib/hadoop-auth-2.7.3.jar) to method sun.security.krb5.Config.getInstance()\r\nWARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\nFound 2 items\r\ndrwxr-xr-x   - nenn supergroup          0 2023-02-11 15:30 /my_data\r\ndrwx------   - nenn supergroup          0 2023-02-11 15:21 /tmp\r\n```\r\n\r\nIn in my_data, i have a txt file \r\nwhen I do `hdfs dfs -ls -R /`  here is an extract of what i see:\r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/home/dell/hadoop/share/hadoop/common/lib/hadoop-auth-2.7.3.jar) to method sun.security.krb5.Config.getInstance()\r\nWARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\ndrwxr-xr-x   - nenn supergroup          0 2023-02-11 15:30 /my_data\r\n&gt; -rw-r--r--   1 nenn supergroup    1174876 2023-02-11 15:01 /my_data/book1.txt\r\ndrwx------   - nenn supergroup          0 2023-02-11 15:21 /tmp\r\ndrwx------   - nenn supergroup          0 2023-02-11 15:21 /tmp/hadoop-yarn\r\ndrwx------   - nenn supergroup          0 2023-02-11 15:29 /tmp/hadoop-yarn/staging\r\ndrwx------   - nenn supergroup          0 2023-02-11 15:21 /tmp/hadoop-yarn/staging/d\r\n```\r\n\r\nI want to run a scrip which count the words which are in **book1.txt**.\r\nI started YARN with `~/hadoop/sbin/start-yarn.sh`\r\n\r\nThen I run the script\r\n`hadoop jar /home/nenn/wordcount.jar WordCount /my_data/book1.txt /my_data/output_wordcount`\r\n\r\nAnd i see this:\r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/home/dell/hadoop/share/hadoop/common/lib/hadoop-auth-2.7.3.jar) to method sun.security.krb5.Config.getInstance()\r\nWARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n23/02/11 15:33:55 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032\r\n23/02/11 15:33:55 WARN mapreduce.JobResourceUploader: Hadoop command-line option parsing not performed. Implement the Tool interface and execute your application with ToolRunner to remedy this.\r\n23/02/11 15:33:56 INFO input.FileInputFormat: Total input paths to process : 1\r\n23/02/11 15:33:56 INFO mapreduce.JobSubmitter: number of splits:1\r\n23/02/11 15:33:56 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1676124615395_0004\r\n23/02/11 15:33:56 INFO impl.YarnClientImpl: Submitted application application_1676124615395_0004\r\n23/02/11 15:33:56 INFO mapreduce.Job: The url to track the job: http://my-computer-05:8088/proxy/application_1676124615395_0004/\r\n23/02/11 15:33:56 INFO mapreduce.Job: Running job: job_1676124615395_0004\r\n```\r\nI see this for at least 5 min or more.\r\nis the script still counting the words or is something wrong?\r\n \r\nthe script **wordcount.jar** was given by my school. When I tried in my school, it worked. But Now I want to try on my own computer and I know whether it is working or not.\r\n\r\ncan you help me?\r\n\r\nwordcout.jar has this code:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.util.StringTokenizer;\r\nimport org.apache.hadoop.conf.Configuration;\r\nimport org.apache.hadoop.fs.Path;\r\nimport org.apache.hadoop.io.IntWritable;\r\nimport org.apache.hadoop.io.Text;\r\nimport org.apache.hadoop.mapreduce.Job;\r\nimport org.apache.hadoop.mapreduce.Mapper;\r\nimport org.apache.hadoop.mapreduce.Reducer;\r\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\r\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\r\n\r\n// defining the class WordCount\r\npublic class WordCount {\r\n\r\n  // defining the class TokenizerMapper\r\n  // this class is in charge of the mapping process\r\n  public static class TokenizerMapper\r\n       extends Mapper&lt;Object, Text, Text, IntWritable&gt;{\r\n    // it extends the class Mapper from mapreduce api\r\n    // this mapper takes as input an Object (identifier of the partition) and a Text (the partition of the text)\r\n    // it outputs a Text (a word) and an Integer (1)\r\n\r\n    // defining the value to emit\r\n    private final static IntWritable one = new IntWritable(1);\r\n    // initializing the word to emit\r\n    private Text word = new Text();\r\n\r\n    // defining the function performed during map\r\n    public void map(Object key, Text value, Context context\r\n                    ) throws IOException, InterruptedException {\r\n      // tokenizing the text partition\r\n      StringTokenizer itr = new StringTokenizer(value.toString());\r\n\r\n      // running through the tokens\r\n      while (itr.hasMoreTokens()) {\r\n        // setting the value of word\r\n        word.set(itr.nextToken().toLowerCase().replaceAll(&quot;[^a-z 0-9A-Z]&quot;,&quot;&quot;));\r\n        // emitting the key-value pair\r\n        context.write(word, one);\r\n      }\r\n    }\r\n  }\r\n\r\n  // defining the class IntSumReducer\r\n  // this class is in charge of the reducing process\r\n  public static class IntSumReducer\r\n       extends Reducer&lt;Text,IntWritable,Text,IntWritable&gt; {\r\n    // it extends the class Reducer from mapreduce api\r\n    // it takes as input a Text (a word) and a list of integers (1s)\r\n    // it outputs a Text (a word) and an integer (the frequency of the word)\r\n\r\n    // initializing the frequency\r\n    private IntWritable result = new IntWritable();\r\n\r\n    // defining the function performed during reduce\r\n    public void reduce(Text key, Iterable&lt;IntWritable&gt; values,\r\n                       Context context\r\n                       ) throws IOException, InterruptedException {\r\n      // initializing the the sum\r\n      int sum = 0;\r\n      // running through the values associated to this key\r\n      for (IntWritable val : values) {\r\n        // incrementing the sum\r\n        sum += val.get();\r\n      }\r\n      // attributing the sum to the value to emit\r\n      result.set(sum);\r\n      // emitting the key-value pair\r\n      context.write(key, result);\r\n    }\r\n  }\r\n\r\n  // defining the main class containing the parameters of the job\r\n  public static void main(String[] args) throws Exception {\r\n    // initializing configuration\r\n    Configuration conf = new Configuration();\r\n    // initializing job\r\n    Job job = Job.getInstance(conf, &quot;word count&quot;);\r\n    // providing job with the classes for mapper and reducer\r\n    job.setJarByClass(WordCount.class);\r\n    job.setMapperClass(TokenizerMapper.class); // mapper\r\n    job.setCombinerClass(IntSumReducer.class); // combiner\r\n    job.setReducerClass(IntSumReducer.class); // reducer\r\n    // providing job with the output classes\r\n    job.setOutputKeyClass(Text.class);\r\n    job.setOutputValueClass(IntWritable.class);\r\n\r\n    // arguments to interpret\r\n    FileInputFormat.addInputPath(job, new Path(args[0]));\r\n    FileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n    // completion of the job\r\n    System.exit(job.waitForCompletion(true) ? 0 : 1);\r\n  }\r\n}\r\n```","title":"hadoop : is somehting wrong when I run a MapReduce program to count words?","body":"<p>I'm trying to learn to use Hadoop.\nI have an old laptop and I installed Linux Mint 21.\nI was able to install hadoop.</p>\n<p>The commands belows are ok:\nwhen I do <code>hdfs dfs -ls /</code>  I can see this:</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/home/dell/hadoop/share/hadoop/common/lib/hadoop-auth-2.7.3.jar) to method sun.security.krb5.Config.getInstance()\nWARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nFound 2 items\ndrwxr-xr-x   - nenn supergroup          0 2023-02-11 15:30 /my_data\ndrwx------   - nenn supergroup          0 2023-02-11 15:21 /tmp\n</code></pre>\n<p>In in my_data, i have a txt file\nwhen I do <code>hdfs dfs -ls -R /</code>  here is an extract of what i see:</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/home/dell/hadoop/share/hadoop/common/lib/hadoop-auth-2.7.3.jar) to method sun.security.krb5.Config.getInstance()\nWARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\ndrwxr-xr-x   - nenn supergroup          0 2023-02-11 15:30 /my_data\n&gt; -rw-r--r--   1 nenn supergroup    1174876 2023-02-11 15:01 /my_data/book1.txt\ndrwx------   - nenn supergroup          0 2023-02-11 15:21 /tmp\ndrwx------   - nenn supergroup          0 2023-02-11 15:21 /tmp/hadoop-yarn\ndrwx------   - nenn supergroup          0 2023-02-11 15:29 /tmp/hadoop-yarn/staging\ndrwx------   - nenn supergroup          0 2023-02-11 15:21 /tmp/hadoop-yarn/staging/d\n</code></pre>\n<p>I want to run a scrip which count the words which are in <strong>book1.txt</strong>.\nI started YARN with <code>~/hadoop/sbin/start-yarn.sh</code></p>\n<p>Then I run the script\n<code>hadoop jar /home/nenn/wordcount.jar WordCount /my_data/book1.txt /my_data/output_wordcount</code></p>\n<p>And i see this:</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.apache.hadoop.security.authentication.util.KerberosUtil (file:/home/dell/hadoop/share/hadoop/common/lib/hadoop-auth-2.7.3.jar) to method sun.security.krb5.Config.getInstance()\nWARNING: Please consider reporting this to the maintainers of org.apache.hadoop.security.authentication.util.KerberosUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n23/02/11 15:33:55 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032\n23/02/11 15:33:55 WARN mapreduce.JobResourceUploader: Hadoop command-line option parsing not performed. Implement the Tool interface and execute your application with ToolRunner to remedy this.\n23/02/11 15:33:56 INFO input.FileInputFormat: Total input paths to process : 1\n23/02/11 15:33:56 INFO mapreduce.JobSubmitter: number of splits:1\n23/02/11 15:33:56 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1676124615395_0004\n23/02/11 15:33:56 INFO impl.YarnClientImpl: Submitted application application_1676124615395_0004\n23/02/11 15:33:56 INFO mapreduce.Job: The url to track the job: http://my-computer-05:8088/proxy/application_1676124615395_0004/\n23/02/11 15:33:56 INFO mapreduce.Job: Running job: job_1676124615395_0004\n</code></pre>\n<p>I see this for at least 5 min or more.\nis the script still counting the words or is something wrong?</p>\n<p>the script <strong>wordcount.jar</strong> was given by my school. When I tried in my school, it worked. But Now I want to try on my own computer and I know whether it is working or not.</p>\n<p>can you help me?</p>\n<p>wordcout.jar has this code:</p>\n<pre><code>import java.io.IOException;\nimport java.util.StringTokenizer;\nimport org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.Mapper;\nimport org.apache.hadoop.mapreduce.Reducer;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n\n// defining the class WordCount\npublic class WordCount {\n\n  // defining the class TokenizerMapper\n  // this class is in charge of the mapping process\n  public static class TokenizerMapper\n       extends Mapper&lt;Object, Text, Text, IntWritable&gt;{\n    // it extends the class Mapper from mapreduce api\n    // this mapper takes as input an Object (identifier of the partition) and a Text (the partition of the text)\n    // it outputs a Text (a word) and an Integer (1)\n\n    // defining the value to emit\n    private final static IntWritable one = new IntWritable(1);\n    // initializing the word to emit\n    private Text word = new Text();\n\n    // defining the function performed during map\n    public void map(Object key, Text value, Context context\n                    ) throws IOException, InterruptedException {\n      // tokenizing the text partition\n      StringTokenizer itr = new StringTokenizer(value.toString());\n\n      // running through the tokens\n      while (itr.hasMoreTokens()) {\n        // setting the value of word\n        word.set(itr.nextToken().toLowerCase().replaceAll(&quot;[^a-z 0-9A-Z]&quot;,&quot;&quot;));\n        // emitting the key-value pair\n        context.write(word, one);\n      }\n    }\n  }\n\n  // defining the class IntSumReducer\n  // this class is in charge of the reducing process\n  public static class IntSumReducer\n       extends Reducer&lt;Text,IntWritable,Text,IntWritable&gt; {\n    // it extends the class Reducer from mapreduce api\n    // it takes as input a Text (a word) and a list of integers (1s)\n    // it outputs a Text (a word) and an integer (the frequency of the word)\n\n    // initializing the frequency\n    private IntWritable result = new IntWritable();\n\n    // defining the function performed during reduce\n    public void reduce(Text key, Iterable&lt;IntWritable&gt; values,\n                       Context context\n                       ) throws IOException, InterruptedException {\n      // initializing the the sum\n      int sum = 0;\n      // running through the values associated to this key\n      for (IntWritable val : values) {\n        // incrementing the sum\n        sum += val.get();\n      }\n      // attributing the sum to the value to emit\n      result.set(sum);\n      // emitting the key-value pair\n      context.write(key, result);\n    }\n  }\n\n  // defining the main class containing the parameters of the job\n  public static void main(String[] args) throws Exception {\n    // initializing configuration\n    Configuration conf = new Configuration();\n    // initializing job\n    Job job = Job.getInstance(conf, &quot;word count&quot;);\n    // providing job with the classes for mapper and reducer\n    job.setJarByClass(WordCount.class);\n    job.setMapperClass(TokenizerMapper.class); // mapper\n    job.setCombinerClass(IntSumReducer.class); // combiner\n    job.setReducerClass(IntSumReducer.class); // reducer\n    // providing job with the output classes\n    job.setOutputKeyClass(Text.class);\n    job.setOutputValueClass(IntWritable.class);\n\n    // arguments to interpret\n    FileInputFormat.addInputPath(job, new Path(args[0]));\n    FileOutputFormat.setOutputPath(job, new Path(args[1]));\n    // completion of the job\n    System.exit(job.waitForCompletion(true) ? 0 : 1);\n  }\n}\n</code></pre>\n"},{"tags":["java","maven","doclet"],"answers":[{"tags":[],"owner":{"account_id":5805279,"reputation":517,"user_id":4578092,"display_name":"Milind J"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1432351670,"creation_date":1432171608,"answer_id":30363037,"question_id":30151870,"body_markdown":"  \r\nYou&#39;d have to specify the directory to be included in your class path by adding the following to your POM anywhere under build. This is true for your classes under the meta-inf folder under resource, in cases of bugs to pick up from the default implicit resource folder.\r\n \r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n     &lt;project&gt;\r\n         ...\r\n         &lt;build&gt;\r\n           ...\r\n           &lt;resources&gt;\r\n             &lt;resource&gt;\r\n               &lt;directory&gt;[your folder containing the class or to be in the classpath here]&lt;/directory&gt;\r\n             &lt;/resource&gt;\r\n           &lt;/resources&gt;\r\n           ...\r\n         &lt;/build&gt;\r\n         ...\r\n        &lt;/project&gt;","title":"Add jar to doclet classpath using maven-javadoc-plugin","body":"<p>You'd have to specify the directory to be included in your class path by adding the following to your POM anywhere under build. This is true for your classes under the meta-inf folder under resource, in cases of bugs to pick up from the default implicit resource folder.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;project&gt;\n     ...\n     &lt;build&gt;\n       ...\n       &lt;resources&gt;\n         &lt;resource&gt;\n           &lt;directory&gt;[your folder containing the class or to be in the classpath here]&lt;/directory&gt;\n         &lt;/resource&gt;\n       &lt;/resources&gt;\n       ...\n     &lt;/build&gt;\n     ...\n    &lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640028617,"creation_date":1640028617,"answer_id":70427038,"question_id":30151870,"body_markdown":"I had a similar problem with a multi-release jar providing Doclet implementations for Java 8 and Java9+. I used the javadoc plugin option `docletPath`:\r\n\r\n~~~xml\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;javadoc9-test1&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;javadoc-no-fork&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;doclet&gt;de.ohmesoftware.javadoctoproperties.Converter9&lt;/doclet&gt;\r\n                            &lt;additionalOptions&gt;-prefix rest.description -output mydocs.properties&lt;/additionalOptions&gt;\r\n                            &lt;debug&gt;true&lt;/debug&gt;\r\n                            &lt;docletPath&gt;${project.build.outputDirectory}/META-INF/versions/9&lt;/docletPath&gt;\r\n                            &lt;sourcepath&gt;${project.basedir}/src/test/java/de/ohmesoftware/javadoctoproperties/model\r\n                            &lt;/sourcepath&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n             &lt;configuration&gt;\r\n                    &lt;useStandardDocletOptions&gt;false&lt;/useStandardDocletOptions&gt;\r\n                    &lt;javadocExecutable&gt;${java.home}/bin/javadoc&lt;/javadocExecutable&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n~~~","title":"Add jar to doclet classpath using maven-javadoc-plugin","body":"<p>I had a similar problem with a multi-release jar providing Doclet implementations for Java 8 and Java9+. I used the javadoc plugin option <code>docletPath</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;javadoc9-test1&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;javadoc-no-fork&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;doclet&gt;de.ohmesoftware.javadoctoproperties.Converter9&lt;/doclet&gt;\n                            &lt;additionalOptions&gt;-prefix rest.description -output mydocs.properties&lt;/additionalOptions&gt;\n                            &lt;debug&gt;true&lt;/debug&gt;\n                            &lt;docletPath&gt;${project.build.outputDirectory}/META-INF/versions/9&lt;/docletPath&gt;\n                            &lt;sourcepath&gt;${project.basedir}/src/test/java/de/ohmesoftware/javadoctoproperties/model\n                            &lt;/sourcepath&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n             &lt;configuration&gt;\n                    &lt;useStandardDocletOptions&gt;false&lt;/useStandardDocletOptions&gt;\n                    &lt;javadocExecutable&gt;${java.home}/bin/javadoc&lt;/javadocExecutable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1782404,"reputation":659,"user_id":1624781,"display_name":"Stefano Chizzolini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676128022,"creation_date":1676014588,"answer_id":75408137,"question_id":30151870,"body_markdown":"My scenario was exactly the same as yours (using `ServiceLoader` to dynamically provide my doclet with an implementation from a decoupled artifact). Unfortunately, maven plugins documentation was bare &amp; sketchy as usual, so I had to investigate a little bit to wrap my head around this issue...\r\n\r\n---\r\n\r\nOur goal is to load service providers implementing our interface. To do so, we need to honor the `ServiceLoader` protocol and to make our providers available to the correct class loader.\r\n\r\nAssuming that you honored the `ServiceLoader` protocol, two combined problems related to class loading appear in your attempts:\r\n\r\n1) **wrong configuration**: don&#39;t place your service provider in `additionalDependency` or `pluginDependency`, the right way is to assign another `docletArtifact` in order to make both the doclet artifact and the service-provider artifact visible to the same docletpath-based class loader (`URLCLassLoader`, as defined by `jdk.javadoc.internal.tool.Start.preprocess(List&lt;String&gt;)` in openjdk 17) — under the hood, maven-javadoc-plugin translates `docletArtifact` elements into the `-docletpath` javadoc option; explicitly using the latter (as [suggested by k_o_][1]) is extremely inconvenient, as you would lose the fundamental dependency resolution provided by maven!\r\nHere we go:\r\n\r\n       &lt;doclet&gt;test.TestDoclet&lt;/doclet&gt;\r\n       &lt;docletArtifacts&gt;\r\n         &lt;docletArtifact&gt;\r\n           &lt;groupId&gt;test&lt;/groupId&gt;\r\n           &lt;artifactId&gt;test-doclet&lt;/artifactId&gt;\r\n           &lt;version&gt;${project.version}&lt;/version&gt;\r\n         &lt;/docletArtifact&gt;\r\n         &lt;docletArtifact&gt;\r\n           &lt;groupId&gt;test&lt;/groupId&gt;\r\n           &lt;artifactId&gt;test-doclet-test-reporter&lt;/artifactId&gt;\r\n           &lt;version&gt;${project.version}&lt;/version&gt;\r\n         &lt;/docletArtifact&gt;\r\n       &lt;/docletArtifacts&gt;\r\n\r\n2) **wrong class loader**: a correct configuration is not enough if we don&#39;t pay attention also to the proper class loader to use for service loading; DON&#39;T invoke\r\n\r\n       ServiceLoader.load(TestReporter.class)\r\n\r\n    as it uses the current thread&#39;s context class loader — take a look to my class loader hierarchy as seen from my doclet constructor:\r\n\r\n       jdk.internal.loader.ClassLoaders$PlatformClassLoader@3d82c5f3\r\n         jdk.internal.loader.ClassLoaders$AppClassLoader@251a69d7 // context class loader\r\n           java.net.URLClassLoader@61e4705b // docletpath class loader\r\n           \r\n    As you can see, the context class loader is the *parent* of our docletpath class loader: because of the visibility principle, our service provider (which is placed inside the docletpath) is NOT visible to the context class loader and therefore, in turn, the `ServiceLoader` cannot succeed using the default (context) class loader. Use this overload instead:\r\n\r\n       ServiceLoader.load(TestReporter.class, getClass().getClassLoader())\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70427038/1624781","title":"Add jar to doclet classpath using maven-javadoc-plugin","body":"<p>My scenario was exactly the same as yours (using <code>ServiceLoader</code> to dynamically provide my doclet with an implementation from a decoupled artifact). Unfortunately, maven plugins documentation was bare &amp; sketchy as usual, so I had to investigate a little bit to wrap my head around this issue...</p>\n<hr />\n<p>Our goal is to load service providers implementing our interface. To do so, we need to honor the <code>ServiceLoader</code> protocol and to make our providers available to the correct class loader.</p>\n<p>Assuming that you honored the <code>ServiceLoader</code> protocol, two combined problems related to class loading appear in your attempts:</p>\n<ol>\n<li><p><strong>wrong configuration</strong>: don't place your service provider in <code>additionalDependency</code> or <code>pluginDependency</code>, the right way is to assign another <code>docletArtifact</code> in order to make both the doclet artifact and the service-provider artifact visible to the same docletpath-based class loader (<code>URLCLassLoader</code>, as defined by <code>jdk.javadoc.internal.tool.Start.preprocess(List&lt;String&gt;)</code> in openjdk 17) — under the hood, maven-javadoc-plugin translates <code>docletArtifact</code> elements into the <code>-docletpath</code> javadoc option; explicitly using the latter (as <a href=\"https://stackoverflow.com/a/70427038/1624781\">suggested by k_o_</a>) is extremely inconvenient, as you would lose the fundamental dependency resolution provided by maven!\nHere we go:</p>\n<pre><code>&lt;doclet&gt;test.TestDoclet&lt;/doclet&gt;\n&lt;docletArtifacts&gt;\n  &lt;docletArtifact&gt;\n    &lt;groupId&gt;test&lt;/groupId&gt;\n    &lt;artifactId&gt;test-doclet&lt;/artifactId&gt;\n    &lt;version&gt;${project.version}&lt;/version&gt;\n  &lt;/docletArtifact&gt;\n  &lt;docletArtifact&gt;\n    &lt;groupId&gt;test&lt;/groupId&gt;\n    &lt;artifactId&gt;test-doclet-test-reporter&lt;/artifactId&gt;\n    &lt;version&gt;${project.version}&lt;/version&gt;\n  &lt;/docletArtifact&gt;\n&lt;/docletArtifacts&gt;\n</code></pre>\n</li>\n<li><p><strong>wrong class loader</strong>: a correct configuration is not enough if we don't pay attention also to the proper class loader to use for service loading; DON'T invoke</p>\n<pre><code>ServiceLoader.load(TestReporter.class)\n</code></pre>\n<p>as it uses the current thread's context class loader — take a look to my class loader hierarchy as seen from my doclet constructor:</p>\n<pre><code>jdk.internal.loader.ClassLoaders$PlatformClassLoader@3d82c5f3\n  jdk.internal.loader.ClassLoaders$AppClassLoader@251a69d7 // context class loader\n    java.net.URLClassLoader@61e4705b // docletpath class loader\n</code></pre>\n<p>As you can see, the context class loader is the <em>parent</em> of our docletpath class loader: because of the visibility principle, our service provider (which is placed inside the docletpath) is NOT visible to the context class loader and therefore, in turn, the <code>ServiceLoader</code> cannot succeed using the default (context) class loader. Use this overload instead:</p>\n<pre><code>ServiceLoader.load(TestReporter.class, getClass().getClassLoader())\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":2485918,"reputation":1387,"user_id":2164347,"accept_rate":50,"display_name":"Sven Tschui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1094,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1676128022,"creation_date":1431263795,"question_id":30151870,"body_markdown":"I wrote a doclet that collects some data and passes it to a reporter. I want this reporter to be exchangeable. I tried to add a reporter implementation to the doclet classpath using an additionalDependency and/or a pluginDependency. I can&#39;t load the reporter implementation with the Java 6 service loader and it also doesn&#39;t work to get the class using the doclets class loader or the threads context class loader.\r\n\r\nHow can I get the test.TestReporterImpl into the test-doclet classpath?\r\n\r\nIn the doclet:\r\n\r\n    apiReporterServiceLoader = ServiceLoader.load(TestReporter.class); // test.TestReporter\r\n    \r\n    apiReporterServiceLoader.iterator().hasNext(); // false\r\n\r\n    Thread.currentThread().getContextClassLoader().loadClass(&quot;test.TestReporterImpl&quot;); // ClassNotFoundException\r\n\r\n    getClass().getClassLoader().loadClass(&quot;test.TestReporterImpl&quot;); // ClassNotFoundException\r\n\r\n\r\nin the pom executing the doclet\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.3&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;run-my-doclet&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;javadoc&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;test&lt;/groupId&gt;\r\n                &lt;artifactId&gt;test-doclet-test-reporter&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;configuration&gt;\r\n            &lt;doclet&gt;test.TestDoclet&lt;/doclet&gt;\r\n            &lt;docletArtifact&gt;\r\n                &lt;groupId&gt;test&lt;/groupId&gt;\r\n                &lt;artifactId&gt;test-doclet&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;/docletArtifact&gt;\r\n            &lt;additionalDependencies&gt;\r\n                &lt;additionalDependency&gt;\r\n                    &lt;groupId&gt;test&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;test-doclet-test-reporter&lt;/artifactId&gt;\r\n                    &lt;version&gt;${project.version}&lt;/version&gt;\r\n                &lt;/additionalDependency&gt;\r\n            &lt;/additionalDependencies&gt;\r\n            &lt;useStandardDocletOptions&gt;false&lt;/useStandardDocletOptions&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\ntest-doclet-test-reporter/src/main/resources/META-INF/services/test.TestReporter\r\n\r\n    test.TestReporterImpl","title":"Add jar to doclet classpath using maven-javadoc-plugin","body":"<p>I wrote a doclet that collects some data and passes it to a reporter. I want this reporter to be exchangeable. I tried to add a reporter implementation to the doclet classpath using an additionalDependency and/or a pluginDependency. I can't load the reporter implementation with the Java 6 service loader and it also doesn't work to get the class using the doclets class loader or the threads context class loader.</p>\n\n<p>How can I get the test.TestReporterImpl into the test-doclet classpath?</p>\n\n<p>In the doclet:</p>\n\n<pre><code>apiReporterServiceLoader = ServiceLoader.load(TestReporter.class); // test.TestReporter\n\napiReporterServiceLoader.iterator().hasNext(); // false\n\nThread.currentThread().getContextClassLoader().loadClass(\"test.TestReporterImpl\"); // ClassNotFoundException\n\ngetClass().getClassLoader().loadClass(\"test.TestReporterImpl\"); // ClassNotFoundException\n</code></pre>\n\n<p>in the pom executing the doclet</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.10.3&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;run-my-doclet&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;javadoc&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;test&lt;/groupId&gt;\n            &lt;artifactId&gt;test-doclet-test-reporter&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;configuration&gt;\n        &lt;doclet&gt;test.TestDoclet&lt;/doclet&gt;\n        &lt;docletArtifact&gt;\n            &lt;groupId&gt;test&lt;/groupId&gt;\n            &lt;artifactId&gt;test-doclet&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/docletArtifact&gt;\n        &lt;additionalDependencies&gt;\n            &lt;additionalDependency&gt;\n                &lt;groupId&gt;test&lt;/groupId&gt;\n                &lt;artifactId&gt;test-doclet-test-reporter&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;/additionalDependency&gt;\n        &lt;/additionalDependencies&gt;\n        &lt;useStandardDocletOptions&gt;false&lt;/useStandardDocletOptions&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>test-doclet-test-reporter/src/main/resources/META-INF/services/test.TestReporter</p>\n\n<pre><code>test.TestReporterImpl\n</code></pre>\n"},{"tags":["java","android","android-networking"],"answers":[{"tags":[],"owner":{"account_id":26468745,"reputation":162,"user_id":20109632,"display_name":"Chintan Bhanderi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676127593,"creation_date":1676049404,"answer_id":75414224,"question_id":75414142,"body_markdown":"Note that you need to add the ```ACCESS_NETWORK_STATE``` permission to your app&#39;s ```AndroidManifest.xml``` file in order to use the ```ConnectivityManager``` class:\r\n\r\n```&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;```\r\n\r\nTo check for the availability of mobile data in an Android app, you can use the ```ConnectivityManager``` class provided by the Android framework. \r\n\r\n```\r\npublic boolean isMobileDataAvailable() {\r\n    ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\r\n\r\n    return activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected() &amp;&amp; activeNetworkInfo.getType() == ConnectivityManager.TYPE_MOBILE;\r\n}\r\n```\r\n\r\nYou can then call this method in your code and check its return value to determine whether mobile data is available:\r\n\r\n```\r\nif (isMobileDataAvailable()) {\r\n    // Mobile data is available\r\n} else {\r\n    // Mobile data is not available\r\n}\r\n```\r\n\r\nYes, the updated code I provided checks for both mobile data and Wi-Fi.\r\n\r\n```\r\npublic boolean isMobileDataAvailable() {\r\n    ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\r\n\r\n    return activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected() &amp;&amp;\r\n            (activeNetworkInfo.getType() == ConnectivityManager.TYPE_MOBILE ||\r\n             activeNetworkInfo.getType() == ConnectivityManager.TYPE_WIFI);\r\n}\r\n```","title":"How to have the app check for mobile data ONLY in Android Studio","body":"<p>Note that you need to add the <code>ACCESS_NETWORK_STATE</code> permission to your app's <code>AndroidManifest.xml</code> file in order to use the <code>ConnectivityManager</code> class:</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;</code></p>\n<p>To check for the availability of mobile data in an Android app, you can use the <code>ConnectivityManager</code> class provided by the Android framework.</p>\n<pre><code>public boolean isMobileDataAvailable() {\n    ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\n    NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\n\n    return activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected() &amp;&amp; activeNetworkInfo.getType() == ConnectivityManager.TYPE_MOBILE;\n}\n</code></pre>\n<p>You can then call this method in your code and check its return value to determine whether mobile data is available:</p>\n<pre><code>if (isMobileDataAvailable()) {\n    // Mobile data is available\n} else {\n    // Mobile data is not available\n}\n</code></pre>\n<p>Yes, the updated code I provided checks for both mobile data and Wi-Fi.</p>\n<pre><code>public boolean isMobileDataAvailable() {\n    ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\n    NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\n\n    return activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected() &amp;&amp;\n            (activeNetworkInfo.getType() == ConnectivityManager.TYPE_MOBILE ||\n             activeNetworkInfo.getType() == ConnectivityManager.TYPE_WIFI);\n}\n</code></pre>\n"}],"owner":{"account_id":19471482,"reputation":351,"user_id":14243745,"display_name":"OEThe11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75414224,"answer_count":1,"score":0,"last_activity_date":1676127593,"creation_date":1676048943,"question_id":75414142,"body_markdown":"So in this app, it is required to use some sort of network because there&#39;s API calls involved. There&#39;s an error that pops up when there&#39;s no mobile data around. The thing is, it also pops up when I turn the WiFi off, while the mobile data is still on. Is there a way to only have the error message pop up for the mobile data status only and not both the WiFi and mobile data. Here&#39;s the code I believe is verifying the network state.\r\n\r\n    public static boolean verifyNetWork(@NonNull Context context) {\r\n            ConnectivityManager cm = (ConnectivityManager)context\r\n                    .getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            if (cm == null) {\r\n                return false;\r\n            }\r\n            NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\r\n            return activeNetwork != null &amp;&amp; activeNetwork.isConnectedOrConnecting();\r\n        } \r\n\r\nAny help and advice is appreciated. Thanks\r\n\r\n                                                                                                                                                                                                                                                                                                                                ","title":"How to have the app check for mobile data ONLY in Android Studio","body":"<p>So in this app, it is required to use some sort of network because there's API calls involved. There's an error that pops up when there's no mobile data around. The thing is, it also pops up when I turn the WiFi off, while the mobile data is still on. Is there a way to only have the error message pop up for the mobile data status only and not both the WiFi and mobile data. Here's the code I believe is verifying the network state.</p>\n<pre><code>public static boolean verifyNetWork(@NonNull Context context) {\n        ConnectivityManager cm = (ConnectivityManager)context\n                .getSystemService(Context.CONNECTIVITY_SERVICE);\n        if (cm == null) {\n            return false;\n        }\n        NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\n        return activeNetwork != null &amp;&amp; activeNetwork.isConnectedOrConnecting();\n    } \n</code></pre>\n<p>Any help and advice is appreciated. Thanks</p>\n"},{"tags":["java","swing","oop","design-patterns","mediator"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1675943256,"post_id":75398013,"comment_id":133038390,"body_markdown":"why do you think any of this is related to what IDE you use?","body":"why do you think any of this is related to what IDE you use?"},{"owner":{"account_id":25171588,"reputation":1,"user_id":19014354,"display_name":"Milos"},"score":0,"creation_date":1675944499,"post_id":75398013,"comment_id":133038808,"body_markdown":"Well i want to use netbeans gui builder but i don&#39;t know how to implement mediator around created buttons and fields.","body":"Well i want to use netbeans gui builder but i don&#39;t know how to implement mediator around created buttons and fields."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1675945738,"post_id":75398013,"comment_id":133039125,"body_markdown":"hint: this is not netbeans or netbeans editor related at all","body":"hint: this is not netbeans or netbeans editor related at all"},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":0,"creation_date":1675956590,"post_id":75398013,"comment_id":133043000,"body_markdown":"Mediator is rarely a pattern to follow any more. Take a look at the code that netbeans is generating for listeners - that&#39;s an Observer pattern, which is a better way to handle a user interface than a mediator. (The problem with a mediator is that the UI components need to know about the business logic; with Observer, the components can stay agnostic - you don&#39;t need to subclass them.)\n\nBasically, the code that creates the JButton/JTextField instances attaches listeners. It&#39;s much simpler than a mediator as well.","body":"Mediator is rarely a pattern to follow any more. Take a look at the code that netbeans is generating for listeners - that&#39;s an Observer pattern, which is a better way to handle a user interface than a mediator. (The problem with a mediator is that the UI components need to know about the business logic; with Observer, the components can stay agnostic - you don&#39;t need to subclass them.)  Basically, the code that creates the JButton/JTextField instances attaches listeners. It&#39;s much simpler than a mediator as well."},{"owner":{"account_id":25171588,"reputation":1,"user_id":19014354,"display_name":"Milos"},"score":0,"creation_date":1675958057,"post_id":75398013,"comment_id":133043518,"body_markdown":"Thanks everyone for the replies and edits. I will try out Observer next.","body":"Thanks everyone for the replies and edits. I will try out Observer next."}],"owner":{"account_id":25171588,"reputation":1,"user_id":19014354,"display_name":"Milos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676126916,"creation_date":1675942441,"question_id":75398013,"body_markdown":"I am trying to implement something similar to this example on refactoring guru: [Mediator in Java](https://refactoring.guru/design-patterns/mediator/java/example) in my project.\r\n\r\nI have created additional package with simple login form frame and some of the classes to test how it might work.\r\nHere is some code for more context...\r\n\r\nComponent interface:\r\n```\r\npackage mediator;\r\n\r\npublic interface Component {\r\n\r\n    void setMediator(Mediator mediator);\r\n\r\n    String getName();\r\n}\r\n```\r\nMediator interface:\r\n```\r\npackage mediator;\r\n\r\npublic interface Mediator {\r\n\r\n    void login();\r\n\r\n    void registerComponent(Component component);\r\n}\r\n```\r\nLogin button:\r\n```\r\npackage mediator;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport javax.swing.JButton;\r\n\r\npublic class LoginButton extends JButton implements Component {\r\n\r\n    private Mediator mediator;\r\n\r\n    public LoginButton() {\r\n        super(&quot;Log in&quot;);\r\n    }\r\n\r\n    @Override\r\n    protected void fireActionPerformed(ActionEvent actionEvent) {\r\n        mediator.login();\r\n    }\r\n\r\n    @Override\r\n    public void setMediator(Mediator mediator) {\r\n        this.mediator = mediator;\r\n    }\r\n\r\n    @Override\r\n    public String getName() {\r\n        return &quot;LoginButton&quot;;\r\n    }\r\n}\r\n```\r\nUsername field:\r\n```\r\npackage mediator;\r\n\r\nimport java.awt.event.KeyEvent;\r\nimport javax.swing.JTextField;\r\n\r\npublic class UsernameField extends JTextField implements Component {\r\n\r\n    private Mediator mediator;\r\n\r\n    @Override\r\n    public void setMediator(Mediator mediator) {\r\n        this.mediator = mediator;\r\n    }\r\n\r\n    @Override\r\n    protected void processComponentKeyEvent(KeyEvent keyEvent) {\r\n        mediator.login();\r\n    }\r\n\r\n    @Override\r\n    public String getName() {\r\n        return &quot;UsernameField&quot;;\r\n    }\r\n}\r\n```\r\nPassoword field:\r\n```\r\npackage mediator;\r\n\r\nimport java.awt.event.KeyEvent;\r\nimport javax.swing.JTextField;\r\n\r\npublic class PasswordField extends JTextField implements Component {\r\n\r\n    private Mediator mediator;\r\n\r\n    @Override\r\n    public void setMediator(Mediator mediator) {\r\n        this.mediator = mediator;\r\n    }\r\n\r\n    @Override\r\n    protected void processComponentKeyEvent(KeyEvent keyEvent) {\r\n        mediator.login();\r\n    }\r\n\r\n    @Override\r\n    public String getName() {\r\n        return &quot;PasswordField&quot;;\r\n    }\r\n}\r\n```\r\nMediator:\r\n```\r\npackage mediator;\r\n\r\npublic class Dialog implements Mediator {\r\n\r\n    private UsernameField username;\r\n    private PasswordField password;\r\n    private LoginButton login;\r\n\r\n    @Override\r\n    public void login() {\r\n        if (username.getText().trim().isEmpty()) {\r\n            System.out.println(&quot;Username is empty!&quot;);\r\n            return;\r\n        }\r\n        if (password.getText().trim().isEmpty()) {\r\n            System.out.println(&quot;Password is empty!&quot;);\r\n            return;\r\n        }\r\n        System.out.println(&quot;All good!&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerComponent(Component component) {\r\n        component.setMediator(this);\r\n        switch (component.getName()) {\r\n            case &quot;LoginButton&quot;:\r\n                login = (LoginButton) component;\r\n                break;\r\n            case &quot;UsernameField&quot;:\r\n                username = (UsernameField) component;\r\n                break;\r\n            case &quot;PasswordField&quot;:\r\n                password = (PasswordField) component;\r\n                break;\r\n        }\r\n    }\r\n}\r\n```\r\nFrame:\r\n```\r\npackage mediator;\r\n\r\npublic class LoginFrame extends javax.swing.JFrame {\r\n\r\n    Mediator mediator;\r\n\r\n    /**\r\n     * Creates new form LoginFrame\r\n     */\r\n    public LoginFrame() {\r\n        initComponents();\r\n        mediator = new Dialog();\r\n        mediator.registerComponent(new LoginButton());\r\n        mediator.registerComponent(new UsernameField());\r\n        mediator.registerComponent(new PasswordField());\r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n\r\n    private void login_Button_MouseClicked(java.awt.event.MouseEvent evt) {\r\n\r\n        mediator.login();\r\n    }\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new LoginFrame().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n    // Variables declaration - do not modify\r\n    private javax.swing.JButton login_Button_;\r\n    private javax.swing.JTextField password_Field_;\r\n    private javax.swing.JLabel password_Label_;\r\n    private javax.swing.JTextField username_Field_;\r\n    private javax.swing.JLabel username_Label_;\r\n    // End of variables declaration\r\n}\r\n```\r\n\r\n\r\nI want to be able to validate and dynamically change components on jframe when action is called from mediator.\r\n\r\nThe problem is i dont know how to do it because of netbeans built in gui builder and action listeners.\r\nI have similar jframes in my project where i used gui builder and i would like to keep it that way.\r\n\r\nDo i send for example the whole jbutton i created in jframe as a parameter and then cast it to a class?\r\nWhat is the general best practice to follow when doing something similar?\r\nI am generally confused :).\r\n\r\nDoes enyone know what is the best way to do this?\r\n\r\nWhen i run the code above and click login button a couple of times with the text displayed i get this output:\r\n[Output picture!](https://i.stack.imgur.com/bpSv8.png)\r\nI have also tried to pass `login_Button_` variable to a `LoginButton` class to type cast it but i was not able to do it.\r\n\r\nI know i missed something crucial but i just don&#39;t know what.\r\n\r\nAny help will be appreciated!","title":"How to implement Mediator Design Pattern in Java?","body":"<p>I am trying to implement something similar to this example on refactoring guru: <a href=\"https://refactoring.guru/design-patterns/mediator/java/example\" rel=\"nofollow noreferrer\">Mediator in Java</a> in my project.</p>\n<p>I have created additional package with simple login form frame and some of the classes to test how it might work.\nHere is some code for more context...</p>\n<p>Component interface:</p>\n<pre><code>package mediator;\n\npublic interface Component {\n\n    void setMediator(Mediator mediator);\n\n    String getName();\n}\n</code></pre>\n<p>Mediator interface:</p>\n<pre><code>package mediator;\n\npublic interface Mediator {\n\n    void login();\n\n    void registerComponent(Component component);\n}\n</code></pre>\n<p>Login button:</p>\n<pre><code>package mediator;\n\nimport java.awt.event.ActionEvent;\nimport javax.swing.JButton;\n\npublic class LoginButton extends JButton implements Component {\n\n    private Mediator mediator;\n\n    public LoginButton() {\n        super(&quot;Log in&quot;);\n    }\n\n    @Override\n    protected void fireActionPerformed(ActionEvent actionEvent) {\n        mediator.login();\n    }\n\n    @Override\n    public void setMediator(Mediator mediator) {\n        this.mediator = mediator;\n    }\n\n    @Override\n    public String getName() {\n        return &quot;LoginButton&quot;;\n    }\n}\n</code></pre>\n<p>Username field:</p>\n<pre><code>package mediator;\n\nimport java.awt.event.KeyEvent;\nimport javax.swing.JTextField;\n\npublic class UsernameField extends JTextField implements Component {\n\n    private Mediator mediator;\n\n    @Override\n    public void setMediator(Mediator mediator) {\n        this.mediator = mediator;\n    }\n\n    @Override\n    protected void processComponentKeyEvent(KeyEvent keyEvent) {\n        mediator.login();\n    }\n\n    @Override\n    public String getName() {\n        return &quot;UsernameField&quot;;\n    }\n}\n</code></pre>\n<p>Passoword field:</p>\n<pre><code>package mediator;\n\nimport java.awt.event.KeyEvent;\nimport javax.swing.JTextField;\n\npublic class PasswordField extends JTextField implements Component {\n\n    private Mediator mediator;\n\n    @Override\n    public void setMediator(Mediator mediator) {\n        this.mediator = mediator;\n    }\n\n    @Override\n    protected void processComponentKeyEvent(KeyEvent keyEvent) {\n        mediator.login();\n    }\n\n    @Override\n    public String getName() {\n        return &quot;PasswordField&quot;;\n    }\n}\n</code></pre>\n<p>Mediator:</p>\n<pre><code>package mediator;\n\npublic class Dialog implements Mediator {\n\n    private UsernameField username;\n    private PasswordField password;\n    private LoginButton login;\n\n    @Override\n    public void login() {\n        if (username.getText().trim().isEmpty()) {\n            System.out.println(&quot;Username is empty!&quot;);\n            return;\n        }\n        if (password.getText().trim().isEmpty()) {\n            System.out.println(&quot;Password is empty!&quot;);\n            return;\n        }\n        System.out.println(&quot;All good!&quot;);\n    }\n\n    @Override\n    public void registerComponent(Component component) {\n        component.setMediator(this);\n        switch (component.getName()) {\n            case &quot;LoginButton&quot;:\n                login = (LoginButton) component;\n                break;\n            case &quot;UsernameField&quot;:\n                username = (UsernameField) component;\n                break;\n            case &quot;PasswordField&quot;:\n                password = (PasswordField) component;\n                break;\n        }\n    }\n}\n</code></pre>\n<p>Frame:</p>\n<pre><code>package mediator;\n\npublic class LoginFrame extends javax.swing.JFrame {\n\n    Mediator mediator;\n\n    /**\n     * Creates new form LoginFrame\n     */\n    public LoginFrame() {\n        initComponents();\n        mediator = new Dialog();\n        mediator.registerComponent(new LoginButton());\n        mediator.registerComponent(new UsernameField());\n        mediator.registerComponent(new PasswordField());\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n\n    private void login_Button_MouseClicked(java.awt.event.MouseEvent evt) {\n\n        mediator.login();\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new LoginFrame().setVisible(true);\n            }\n        });\n    }\n    // Variables declaration - do not modify\n    private javax.swing.JButton login_Button_;\n    private javax.swing.JTextField password_Field_;\n    private javax.swing.JLabel password_Label_;\n    private javax.swing.JTextField username_Field_;\n    private javax.swing.JLabel username_Label_;\n    // End of variables declaration\n}\n</code></pre>\n<p>I want to be able to validate and dynamically change components on jframe when action is called from mediator.</p>\n<p>The problem is i dont know how to do it because of netbeans built in gui builder and action listeners.\nI have similar jframes in my project where i used gui builder and i would like to keep it that way.</p>\n<p>Do i send for example the whole jbutton i created in jframe as a parameter and then cast it to a class?\nWhat is the general best practice to follow when doing something similar?\nI am generally confused :).</p>\n<p>Does enyone know what is the best way to do this?</p>\n<p>When i run the code above and click login button a couple of times with the text displayed i get this output:\n<a href=\"https://i.stack.imgur.com/bpSv8.png\" rel=\"nofollow noreferrer\">Output picture!</a>\nI have also tried to pass <code>login_Button_</code> variable to a <code>LoginButton</code> class to type cast it but i was not able to do it.</p>\n<p>I know i missed something crucial but i just don't know what.</p>\n<p>Any help will be appreciated!</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676087107,"post_id":75417970,"comment_id":133072401,"body_markdown":"Uh, `String` is a reference type, so you can&#39;t really use `&lt;`, `&lt;=`, `&gt;`, `&gt;=` relational operators.  You should get a compiler error for the &quot;original&quot; code you are trying to convert. The same will apply to `&lt;AnyType&gt;`.","body":"Uh, <code>String</code> is a reference type, so you can&#39;t really use <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code> relational operators.  You should get a compiler error for the &quot;original&quot; code you are trying to convert. The same will apply to <code>&lt;AnyType&gt;</code>."},{"owner":{"account_id":18445698,"reputation":7,"user_id":13437069,"display_name":"Daniel Thayne"},"score":0,"creation_date":1676087963,"post_id":75417970,"comment_id":133072440,"body_markdown":"You&#39;re right. I didn&#39;t know about the anytype one though. I&#39;ll try that and see what happens","body":"You&#39;re right. I didn&#39;t know about the anytype one though. I&#39;ll try that and see what happens"}],"answers":[{"tags":[],"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676089350,"creation_date":1676089350,"answer_id":75418076,"question_id":75417970,"body_markdown":"You have to ensure that `AnyType` is comparable.\r\n\r\n    public static &lt;AnyType extends Comparable&lt;AnyType&gt;&gt; AnyType min(AnyType a, AnyType b) {\r\n        return a.compareTo(b) &lt; 0 ? a : b;\r\n    }\r\n\r\n    public static &lt;AnyType extends Comparable&lt;AnyType&gt;&gt; AnyType max(AnyType a, AnyType b) {\r\n        return a.compareTo(b) &gt; 0 ? a : b;\r\n    }\r\n","title":"Properly implementing comparable and generics","body":"<p>You have to ensure that <code>AnyType</code> is comparable.</p>\n<pre><code>public static &lt;AnyType extends Comparable&lt;AnyType&gt;&gt; AnyType min(AnyType a, AnyType b) {\n    return a.compareTo(b) &lt; 0 ? a : b;\n}\n\npublic static &lt;AnyType extends Comparable&lt;AnyType&gt;&gt; AnyType max(AnyType a, AnyType b) {\n    return a.compareTo(b) &gt; 0 ? a : b;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676126861,"creation_date":1676089477,"answer_id":75418083,"question_id":75417970,"body_markdown":"You are not going to be able to write a single `compareTo` method that will work for any type. But, you can write a `min` and `max` that will work on any type that properly `implements Comparable`.\r\n\r\n\r\n[Comparable](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html) is a Java [interface](https://docs.oracle.com/javase/tutorial/java/concepts/interface.html). It has a method `compareTo`, which contains no code. Using it *requires* a `compareTo` method be implemented for each class that uses it. \r\n\r\nUse of the `Comparable` interface looks something like this:\r\n\r\n     public class Foo implements Comparable&lt;Foo&gt; { \r\n\r\nThat requires, somewhere in class Foo, this:\r\n\r\n         public int compareTo (Foo someFoo) { ... }\r\n\r\nWhere `...` is replaced by code specific to `Foo`.  \r\n\r\nThen, a class that needs to compare two variables of type `Foo` might have code like this:\r\n\r\n      Foo bar = new Foo();\r\n      Foo bin = new Foo();\r\n      ...\r\n      if (bar.compareTo(bin) &lt; 0) { ...\r\n\r\nIf there were another class that `implements Comparable`, that class would also need a `compareTo` method specific to that class.\r\n\r\nYou could write generic `min` and `max` methods that would work on several classes, *as long as those classes implement `Comparable`*. The `&lt;T extends Comparable&lt;T&gt;&gt;` enforces that. \r\n\r\n     \r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; T min (T a, T b) {\r\n        if (a.compareTo(b) &lt;= 0) return a;\r\n        return b;\r\n    }\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; T max (T a, T b) {\r\n        if (a.compareTo(b) &gt;= 0) return a;\r\n        return b;\r\n    }\r\n\r\nHowever, generics are not necessary in this case. Java allows the name of an interface to be used as a type:\r\n\r\n    public static Comparable min (Comparable a, Comparable b) {\r\n        if (a.compareTo(b) &lt;= 0) return a;\r\n        return b;\r\n    }\r\n    public static Comparable max (Comparable a, Comparable b) {\r\n        if (a.compareTo(b) &gt;= 0) return a;\r\n        return b;\r\n    }\r\n","title":"Properly implementing comparable and generics","body":"<p>You are not going to be able to write a single <code>compareTo</code> method that will work for any type. But, you can write a <code>min</code> and <code>max</code> that will work on any type that properly <code>implements Comparable</code>.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a> is a Java <a href=\"https://docs.oracle.com/javase/tutorial/java/concepts/interface.html\" rel=\"nofollow noreferrer\">interface</a>. It has a method <code>compareTo</code>, which contains no code. Using it <em>requires</em> a <code>compareTo</code> method be implemented for each class that uses it.</p>\n<p>Use of the <code>Comparable</code> interface looks something like this:</p>\n<pre><code> public class Foo implements Comparable&lt;Foo&gt; { \n</code></pre>\n<p>That requires, somewhere in class Foo, this:</p>\n<pre><code>     public int compareTo (Foo someFoo) { ... }\n</code></pre>\n<p>Where <code>...</code> is replaced by code specific to <code>Foo</code>.</p>\n<p>Then, a class that needs to compare two variables of type <code>Foo</code> might have code like this:</p>\n<pre><code>  Foo bar = new Foo();\n  Foo bin = new Foo();\n  ...\n  if (bar.compareTo(bin) &lt; 0) { ...\n</code></pre>\n<p>If there were another class that <code>implements Comparable</code>, that class would also need a <code>compareTo</code> method specific to that class.</p>\n<p>You could write generic <code>min</code> and <code>max</code> methods that would work on several classes, <em>as long as those classes implement <code>Comparable</code></em>. The <code>&lt;T extends Comparable&lt;T&gt;&gt;</code> enforces that.</p>\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; T min (T a, T b) {\n    if (a.compareTo(b) &lt;= 0) return a;\n    return b;\n}\npublic static &lt;T extends Comparable&lt;T&gt;&gt; T max (T a, T b) {\n    if (a.compareTo(b) &gt;= 0) return a;\n    return b;\n}\n</code></pre>\n<p>However, generics are not necessary in this case. Java allows the name of an interface to be used as a type:</p>\n<pre><code>public static Comparable min (Comparable a, Comparable b) {\n    if (a.compareTo(b) &lt;= 0) return a;\n    return b;\n}\npublic static Comparable max (Comparable a, Comparable b) {\n    if (a.compareTo(b) &gt;= 0) return a;\n    return b;\n}\n</code></pre>\n"}],"owner":{"account_id":18445698,"reputation":7,"user_id":13437069,"display_name":"Daniel Thayne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75418076,"answer_count":2,"score":0,"last_activity_date":1676126861,"creation_date":1676086815,"question_id":75417970,"body_markdown":"I am struggling to understand how to implement generics and comparable into my code. I am tasked with converting the method below to proper generic methods. I also need to switch out the parameters with proper generics.\r\n\r\n```    \t\r\npublic static String min(String a, String b) {\r\n    if (a &lt; b)\r\n         return a;\r\n    else\r\n         return b;\r\n}\r\n\t\r\npublic static String max(String a, String b) {\r\n    if (a &lt; b)\r\n         return b;\r\n    else\r\n         return a;\r\n}\r\n```\r\nAnd this is my attempt\r\n```\r\npublic static &lt;AnyType&gt; min(&lt;AnyType&gt; a, &lt;AnyType&gt; b) {\r\n    if (a &lt; b)\r\n         return a;\r\n    else\r\n         return b;\r\n}\r\n\t\r\npublic static &lt;AnyType&gt; max(&lt;AnyType&gt; a, &lt;AnyType&gt; b) {\r\n    if (a &lt; b)\r\n         return b;\r\n    else\r\n         return a;\r\n}","title":"Properly implementing comparable and generics","body":"<p>I am struggling to understand how to implement generics and comparable into my code. I am tasked with converting the method below to proper generic methods. I also need to switch out the parameters with proper generics.</p>\n<pre><code>public static String min(String a, String b) {\n    if (a &lt; b)\n         return a;\n    else\n         return b;\n}\n    \npublic static String max(String a, String b) {\n    if (a &lt; b)\n         return b;\n    else\n         return a;\n}\n</code></pre>\n<p>And this is my attempt</p>\n<pre><code>public static &lt;AnyType&gt; min(&lt;AnyType&gt; a, &lt;AnyType&gt; b) {\n    if (a &lt; b)\n         return a;\n    else\n         return b;\n}\n    \npublic static &lt;AnyType&gt; max(&lt;AnyType&gt; a, &lt;AnyType&gt; b) {\n    if (a &lt; b)\n         return b;\n    else\n         return a;\n}\n</code></pre>\n"},{"tags":["java","parsing","jsoup","html-parsing"],"comments":[{"owner":{"account_id":25358479,"reputation":11,"user_id":19174200,"display_name":"Artist "},"score":0,"creation_date":1676117258,"post_id":75420101,"comment_id":133075574,"body_markdown":"I forgot to add &quot;Today at 13:52&quot; dynamic, so it makes no sense to search simply by text.","body":"I forgot to add &quot;Today at 13:52&quot; dynamic, so it makes no sense to search simply by text."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1676121072,"post_id":75420101,"comment_id":133076206,"body_markdown":"Can you share the link to the page? If the content is filled with JavaScript after the page loads Jsoup might be not the right tool.","body":"Can you share the link to the page? If the content is filled with JavaScript after the page loads Jsoup might be not the right tool."}],"answers":[{"tags":[],"owner":{"account_id":13737609,"reputation":50,"user_id":12114118,"display_name":"Vikram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676119480,"creation_date":1676119480,"answer_id":75420305,"question_id":75420101,"body_markdown":"I have assumed that you are aiming for text of last child of dl element\r\n\r\n    Document doc =  Jsoup.parse(&quot;&lt;li data-test-component=\\&quot;ProductStats\\&quot; class=\\&quot;sc-qVkRw dDEgow\\&quot;&gt;&lt;dl data-test-component=\\&quot;DescriptionList\\&quot; class=\\&quot;sc-ejxegM hEIIuR\\&quot;&gt;&lt;dt labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO\\&quot;&gt;В избранном&lt;/dt&gt;&lt;dd labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV\\&quot;&gt;1&lt;/dd&gt;&lt;dt labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO\\&quot;&gt;Просмотры&lt;/dt&gt;&lt;dd labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV\\&quot;&gt;2&lt;/dd&gt;&lt;dt labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO\\&quot;&gt;Размещено&lt;/dt&gt;&lt;dd labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV\\&quot;&gt;Сегодня в 13:52&lt;/dd&gt;&lt;/dl&gt;&lt;/li&gt;&quot;);\r\n\t\tElements elList = doc.body().select(&quot;li[data-test-component=&#39;ProductStats&#39;]&quot;);\r\n\t\tif(elList!=null &amp;&amp; elList.size()&gt;0 &amp;&amp; elList.get(0).childNodeSize()&gt;0){\r\n\t\t\tElement liElement= elList.get(0);\r\n\t\t\tif(liElement.childNodeSize()&gt;0){\r\n\t\t\t\tif(liElement.childNodeSize()&gt;0){\r\n\t\t\t\t\tElement firstChildElOfLi = liElement.child(0);\r\n\t\t\t\t\tElement targetEl = firstChildElOfLi.child(firstChildElOfLi.childNodeSize()-1);\r\n\t\t\t\t\tSystem.out.println(targetEl.text());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n ","title":"how to get Jsoup element","body":"<p>I have assumed that you are aiming for text of last child of dl element</p>\n<pre><code>Document doc =  Jsoup.parse(&quot;&lt;li data-test-component=\\&quot;ProductStats\\&quot; class=\\&quot;sc-qVkRw dDEgow\\&quot;&gt;&lt;dl data-test-component=\\&quot;DescriptionList\\&quot; class=\\&quot;sc-ejxegM hEIIuR\\&quot;&gt;&lt;dt labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO\\&quot;&gt;В избранном&lt;/dt&gt;&lt;dd labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV\\&quot;&gt;1&lt;/dd&gt;&lt;dt labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO\\&quot;&gt;Просмотры&lt;/dt&gt;&lt;dd labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV\\&quot;&gt;2&lt;/dd&gt;&lt;dt labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO\\&quot;&gt;Размещено&lt;/dt&gt;&lt;dd labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV\\&quot;&gt;Сегодня в 13:52&lt;/dd&gt;&lt;/dl&gt;&lt;/li&gt;&quot;);\n    Elements elList = doc.body().select(&quot;li[data-test-component='ProductStats']&quot;);\n    if(elList!=null &amp;&amp; elList.size()&gt;0 &amp;&amp; elList.get(0).childNodeSize()&gt;0){\n        Element liElement= elList.get(0);\n        if(liElement.childNodeSize()&gt;0){\n            if(liElement.childNodeSize()&gt;0){\n                Element firstChildElOfLi = liElement.child(0);\n                Element targetEl = firstChildElOfLi.child(firstChildElOfLi.childNodeSize()-1);\n                System.out.println(targetEl.text());\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23090314,"reputation":385,"user_id":20607467,"display_name":"ﾓｷｬﾃﾞ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676126218,"creation_date":1676126218,"answer_id":75420902,"question_id":75420101,"body_markdown":"You can get what you need with a single `selectFirst` method.\r\n\r\n    String html = &quot;&lt;li data-test-component=\\&quot;ProductStats\\&quot; class=\\&quot;sc-qVkRw dDEgow\\&quot;&gt;\\r\\n&quot;\r\n        + &quot;    &lt;dl data-test-component=\\&quot;DescriptionList\\&quot; class=\\&quot;sc-ejxegM hEIIuR\\&quot;&gt;\\r\\n&quot;\r\n        + &quot;        &lt;dt labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO\\&quot;&gt;В избранном&lt;/dt&gt;\\r\\n&quot;\r\n        + &quot;        &lt;dd labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV\\&quot;&gt;1&lt;/dd&gt;\\r\\n&quot;\r\n        + &quot;        &lt;dt labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO\\&quot;&gt;Просмотры&lt;/dt&gt;\\r\\n&quot;\r\n        + &quot;        &lt;dd labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV\\&quot;&gt;2&lt;/dd&gt;\\r\\n&quot;\r\n        + &quot;        &lt;dt labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO\\&quot;&gt;Размещено&lt;/dt&gt;\\r\\n&quot;\r\n        + &quot;        &lt;dd labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV\\&quot;&gt;Сегодня в 13:52&lt;/dd&gt;\\r\\n&quot;\r\n        + &quot;    &lt;/dl&gt;\\r\\n&quot;\r\n        + &quot;&lt;/li&gt;&quot;;\r\n    Document doc = Jsoup.parse(html);\r\n    Element e = doc.selectFirst(&quot;li[data-test-component=ProductStats] &gt; dl &gt; :last-child&quot;);\r\n    System.out.println(e.text());\r\n\r\nOUTPUT:\r\n\r\n    Сегодня в 13:52","title":"how to get Jsoup element","body":"<p>You can get what you need with a single <code>selectFirst</code> method.</p>\n<pre><code>String html = &quot;&lt;li data-test-component=\\&quot;ProductStats\\&quot; class=\\&quot;sc-qVkRw dDEgow\\&quot;&gt;\\r\\n&quot;\n    + &quot;    &lt;dl data-test-component=\\&quot;DescriptionList\\&quot; class=\\&quot;sc-ejxegM hEIIuR\\&quot;&gt;\\r\\n&quot;\n    + &quot;        &lt;dt labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO\\&quot;&gt;В избранном&lt;/dt&gt;\\r\\n&quot;\n    + &quot;        &lt;dd labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV\\&quot;&gt;1&lt;/dd&gt;\\r\\n&quot;\n    + &quot;        &lt;dt labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO\\&quot;&gt;Просмотры&lt;/dt&gt;\\r\\n&quot;\n    + &quot;        &lt;dd labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV\\&quot;&gt;2&lt;/dd&gt;\\r\\n&quot;\n    + &quot;        &lt;dt labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO\\&quot;&gt;Размещено&lt;/dt&gt;\\r\\n&quot;\n    + &quot;        &lt;dd labelwidth=\\&quot;208px\\&quot; labelwidthmobile=\\&quot;168px\\&quot; class=\\&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV\\&quot;&gt;Сегодня в 13:52&lt;/dd&gt;\\r\\n&quot;\n    + &quot;    &lt;/dl&gt;\\r\\n&quot;\n    + &quot;&lt;/li&gt;&quot;;\nDocument doc = Jsoup.parse(html);\nElement e = doc.selectFirst(&quot;li[data-test-component=ProductStats] &gt; dl &gt; :last-child&quot;);\nSystem.out.println(e.text());\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>Сегодня в 13:52\n</code></pre>\n"}],"owner":{"account_id":25358479,"reputation":11,"user_id":19174200,"display_name":"Artist "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676126218,"creation_date":1676117194,"question_id":75420101,"body_markdown":"    &lt;li data-test-component=&quot;ProductStats&quot; class=&quot;sc-qVkRw dDEgow&quot;&gt;\r\n        &lt;dl data-test-component=&quot;DescriptionList&quot; class=&quot;sc-ejxegM hEIIuR&quot;&gt;\r\n    \t\t&lt;dt labelwidth=&quot;208px&quot; labelwidthmobile=&quot;168px&quot; class=&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO&quot;&gt;В избранном&lt;/dt&gt;\r\n    \t\t&lt;dd labelwidth=&quot;208px&quot; labelwidthmobile=&quot;168px&quot; class=&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV&quot;&gt;1&lt;/dd&gt;\r\n    \t\t&lt;dt labelwidth=&quot;208px&quot; labelwidthmobile=&quot;168px&quot; class=&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO&quot;&gt;Просмотры&lt;/dt&gt;\r\n    \t\t&lt;dd labelwidth=&quot;208px&quot; labelwidthmobile=&quot;168px&quot; class=&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV&quot;&gt;2&lt;/dd&gt;\r\n    \t\t&lt;dt labelwidth=&quot;208px&quot; labelwidthmobile=&quot;168px&quot; class=&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO&quot;&gt;Размещено&lt;/dt&gt;\r\n    \t\t&lt;dd labelwidth=&quot;208px&quot; labelwidthmobile=&quot;168px&quot; class=&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV&quot;&gt;Сегодня в 13:52&lt;/dd&gt;\r\n    \t&lt;/dl&gt;\r\n    &lt;/li&gt;\r\n\r\nThe element itself looks like this. I need to get &quot;Сегодня в 13:52&quot;.\r\n\r\nThrough xpath, this would be done like this &gt;&gt; //li [@data-test-component = &#39;ProductStats&#39;], And further through href. I don&#39;t understand how to implement selector in jsoup\r\n\r\nTried to copy the selector via F12","title":"how to get Jsoup element","body":"<pre><code>&lt;li data-test-component=&quot;ProductStats&quot; class=&quot;sc-qVkRw dDEgow&quot;&gt;\n    &lt;dl data-test-component=&quot;DescriptionList&quot; class=&quot;sc-ejxegM hEIIuR&quot;&gt;\n        &lt;dt labelwidth=&quot;208px&quot; labelwidthmobile=&quot;168px&quot; class=&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO&quot;&gt;В избранном&lt;/dt&gt;\n        &lt;dd labelwidth=&quot;208px&quot; labelwidthmobile=&quot;168px&quot; class=&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV&quot;&gt;1&lt;/dd&gt;\n        &lt;dt labelwidth=&quot;208px&quot; labelwidthmobile=&quot;168px&quot; class=&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO&quot;&gt;Просмотры&lt;/dt&gt;\n        &lt;dd labelwidth=&quot;208px&quot; labelwidthmobile=&quot;168px&quot; class=&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV&quot;&gt;2&lt;/dd&gt;\n        &lt;dt labelwidth=&quot;208px&quot; labelwidthmobile=&quot;168px&quot; class=&quot;sc-cOxWqc sc-hIsuHl kWkcWl fhKhnO&quot;&gt;Размещено&lt;/dt&gt;\n        &lt;dd labelwidth=&quot;208px&quot; labelwidthmobile=&quot;168px&quot; class=&quot;sc-cOxWqc sc-fVmuvm eOPaPs dVayGV&quot;&gt;Сегодня в 13:52&lt;/dd&gt;\n    &lt;/dl&gt;\n&lt;/li&gt;\n</code></pre>\n<p>The element itself looks like this. I need to get &quot;Сегодня в 13:52&quot;.</p>\n<p>Through xpath, this would be done like this &gt;&gt; //li [@data-test-component = 'ProductStats'], And further through href. I don't understand how to implement selector in jsoup</p>\n<p>Tried to copy the selector via F12</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":16232474,"reputation":366,"user_id":11720841,"display_name":"ISquared"},"score":0,"creation_date":1675623916,"post_id":75354646,"comment_id":132964777,"body_markdown":"I did, it says &#39;Cannot resolve symbol&#39; for BinaryConverter","body":"I did, it says &#39;Cannot resolve symbol&#39; for BinaryConverter"}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1675690414,"creation_date":1675690414,"answer_id":75361973,"question_id":75354646,"body_markdown":"You have not really given enough information here, but *probably* the solution is:\r\n\r\n    @JdbcType(VarbinaryJdbcType.class)\r\n\r\nor:\r\n\r\n    @JdbcTypeCode(Types.VARBINARY)","title":"Using @Type for Binary data in Hibernate &gt;6","body":"<p>You have not really given enough information here, but <em>probably</em> the solution is:</p>\n<pre><code>@JdbcType(VarbinaryJdbcType.class)\n</code></pre>\n<p>or:</p>\n<pre><code>@JdbcTypeCode(Types.VARBINARY)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16232474,"reputation":366,"user_id":11720841,"display_name":"ISquared"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1676125806,"creation_date":1676125806,"answer_id":75420859,"question_id":75354646,"body_markdown":"Quick update in case anyone else encounters this, it appears Hibernate 6 is taking care of this exact type conversion on its own, without the need for additional settings, so simply getting rid off the attribute: \r\n\r\n```\r\n@Type(type=&quot;org.hibernate.type.BinaryType&quot;)\r\n\r\n```\r\nsolved the problem and the project appears to be running fine. ","title":"Using @Type for Binary data in Hibernate &gt;6","body":"<p>Quick update in case anyone else encounters this, it appears Hibernate 6 is taking care of this exact type conversion on its own, without the need for additional settings, so simply getting rid off the attribute:</p>\n<pre><code>@Type(type=&quot;org.hibernate.type.BinaryType&quot;)\n\n</code></pre>\n<p>solved the problem and the project appears to be running fine.</p>\n"}],"owner":{"account_id":16232474,"reputation":366,"user_id":11720841,"display_name":"ISquared"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3461,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1676125806,"creation_date":1675622475,"question_id":75354646,"body_markdown":"I am doing a Spring Boot course written in Spring Boot 2.19, Hibernate 5.3.12 and Java 8. \r\nI am using Java 17, Hibernate 6.1.6 and Spring Boot 3.0.2. \r\n\r\nI sorted many things that didn&#39;t match, but one problem I can&#39;t find the solution to is that : \r\n\r\n```\r\n@Type(type=&quot;org.hibernate.type.BinaryType&quot;)\r\n```\r\n\r\nis apparently deprecated since Hibernate 6 (I get the error &quot;Cannot resolve method **type**&quot;)\r\n\r\nHowever, none of the solutions I found were related to binary data and I couldn&#39;t find anything relevant in the docs .. I guess because I&#39;m so new to this area I probably can&#39;t see the answer when it hits me! \r\n\r\nBased on various sources I tried: \r\n\r\n```\r\n@Convert(converter = org.hibernate.type.BinaryConverter.class)\r\n```\r\n```\r\n@Type(BinaryType) \r\n```\r\nIDE does not suggest anything for Binary.. in either of the cases..\r\n\r\nI guess I could just download the lower version dependency of hibernate, but I am curious still how does this work in the newest Hibernate version? \r\n\r\n\r\n\r\n","title":"Using @Type for Binary data in Hibernate &gt;6","body":"<p>I am doing a Spring Boot course written in Spring Boot 2.19, Hibernate 5.3.12 and Java 8.\nI am using Java 17, Hibernate 6.1.6 and Spring Boot 3.0.2.</p>\n<p>I sorted many things that didn't match, but one problem I can't find the solution to is that :</p>\n<pre><code>@Type(type=&quot;org.hibernate.type.BinaryType&quot;)\n</code></pre>\n<p>is apparently deprecated since Hibernate 6 (I get the error &quot;Cannot resolve method <strong>type</strong>&quot;)</p>\n<p>However, none of the solutions I found were related to binary data and I couldn't find anything relevant in the docs .. I guess because I'm so new to this area I probably can't see the answer when it hits me!</p>\n<p>Based on various sources I tried:</p>\n<pre><code>@Convert(converter = org.hibernate.type.BinaryConverter.class)\n</code></pre>\n<pre><code>@Type(BinaryType) \n</code></pre>\n<p>IDE does not suggest anything for Binary.. in either of the cases..</p>\n<p>I guess I could just download the lower version dependency of hibernate, but I am curious still how does this work in the newest Hibernate version?</p>\n"},{"tags":["java","multithreading","thread-safety","threadpool"],"answers":[{"tags":[],"owner":{"account_id":289607,"reputation":377,"user_id":590689,"display_name":"m.genova"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301869686,"creation_date":1301869686,"answer_id":5532975,"question_id":5532864,"body_markdown":"I use your second approach in developed software (printserver), but threads have a long run so &quot;setName()&quot; don&#39;t add latency in processing.\r\nThe logging phase is very good showing thread name.\r\n\r\nI think &quot;setName()&quot; is a problema in two case:\r\n\r\n\r\n 1. very short run;\r\n 2. thread used by more actors with different id (but this is not your context, or not?).\r\n\r\nbye.\r\n\r\n\r\n","title":"Thread.setName(name) caveats","body":"<p>I use your second approach in developed software (printserver), but threads have a long run so \"setName()\" don't add latency in processing.\nThe logging phase is very good showing thread name.</p>\n\n<p>I think \"setName()\" is a problema in two case:</p>\n\n<ol>\n<li>very short run;</li>\n<li>thread used by more actors with different id (but this is not your context, or not?).</li>\n</ol>\n\n<p>bye.</p>\n"},{"tags":[],"owner":{"account_id":95724,"reputation":963,"user_id":260541,"display_name":"rhu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1301871559,"creation_date":1301871559,"answer_id":5533107,"question_id":5532864,"body_markdown":"If you use Log4j, there is a specific mechanism for handling this type of logging pattern, split between two classes [org.apache.log4j.NDC][1] and [org.apache.log4j.MDC][2] (&#39;Nested and Mapped Diagnostic Contexts&#39;).\r\n\r\nHave a browse at [NDC vs MDC - Which one should I use?][3] to see which is the best to use for your particular situation.\r\n\r\nHere&#39;s another link which describes MDC use in a bit more practical detail: [Build Flexible Logs With log4j - O&#39;Reilly Media][4]\r\n\r\nNote that underlying storage mechanism MDC/NDC uses (I believe) is ThreadLocal anyway.\r\n\r\n  [1]: http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/NDC.html\r\n  [2]: http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/NDC.html\r\n  [3]: http://wiki.apache.org/logging-log4j/NDCvsMDC\r\n  [4]: http://onjava.com/pub/a/onjava/2002/08/07/log4j.html?page=3","title":"Thread.setName(name) caveats","body":"<p>If you use Log4j, there is a specific mechanism for handling this type of logging pattern, split between two classes <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/NDC.html\" rel=\"nofollow\">org.apache.log4j.NDC</a> and <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/NDC.html\" rel=\"nofollow\">org.apache.log4j.MDC</a> ('Nested and Mapped Diagnostic Contexts').</p>\n\n<p>Have a browse at <a href=\"http://wiki.apache.org/logging-log4j/NDCvsMDC\" rel=\"nofollow\">NDC vs MDC - Which one should I use?</a> to see which is the best to use for your particular situation.</p>\n\n<p>Here's another link which describes MDC use in a bit more practical detail: <a href=\"http://onjava.com/pub/a/onjava/2002/08/07/log4j.html?page=3\" rel=\"nofollow\">Build Flexible Logs With log4j - O'Reilly Media</a></p>\n\n<p>Note that underlying storage mechanism MDC/NDC uses (I believe) is ThreadLocal anyway.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676124875,"creation_date":1301873225,"answer_id":5533219,"question_id":5532864,"body_markdown":"&gt; What are the caveats for using thread.setName() apart from those mentioned in the javadoc? How does it affect performance? The peak frequency of calling thread.setName() would be about 200 per second and average about 0.3 per second.\r\n\r\nPerformance should not be a significant issue.  `Thread.setName()` does a security check and then copies / sets an attribute.  The security check should be cheap unless your code is privileged code running in a security sandbox that forbids unprivileged calls to the `Thread.setName()` method.\r\n\r\n&lt;sup&gt;In Java 9 and later, `setName` is going to tell the OS to change the native thread&#39;s name.  For Linux, Solaris, AIX and BSD (e.g. MacOS) this is done via a call to `pthread_setname_np` which makes a syscall under the hood.  With Windows, it does some weird thing with the Windows debugger ... and only works if there is a debugger already attached.  In Java 8, no attempt is made to change the native thread name.&lt;/sup&gt;\r\n\r\nThe only other caveat I can think of is that thread names changing all of the time could be confusing if you are trying to debug threading behavior; e.g. looking at thread dumps, etc.o","title":"Thread.setName(name) caveats","body":"<blockquote>\n<p>What are the caveats for using thread.setName() apart from those mentioned in the javadoc? How does it affect performance? The peak frequency of calling thread.setName() would be about 200 per second and average about 0.3 per second.</p>\n</blockquote>\n<p>Performance should not be a significant issue.  <code>Thread.setName()</code> does a security check and then copies / sets an attribute.  The security check should be cheap unless your code is privileged code running in a security sandbox that forbids unprivileged calls to the <code>Thread.setName()</code> method.</p>\n<p><sup>In Java 9 and later, <code>setName</code> is going to tell the OS to change the native thread's name.  For Linux, Solaris, AIX and BSD (e.g. MacOS) this is done via a call to <code>pthread_setname_np</code> which makes a syscall under the hood.  With Windows, it does some weird thing with the Windows debugger ... and only works if there is a debugger already attached.  In Java 8, no attempt is made to change the native thread name.</sup></p>\n<p>The only other caveat I can think of is that thread names changing all of the time could be confusing if you are trying to debug threading behavior; e.g. looking at thread dumps, etc.o</p>\n"}],"owner":{"account_id":347517,"reputation":5454,"user_id":681671,"accept_rate":59,"display_name":"Dojo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5580,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":5533107,"answer_count":3,"score":9,"last_activity_date":1676124875,"creation_date":1301868387,"question_id":5532864,"body_markdown":"I have a multi threaded client server application which uses Sockets. When a new connection is found, further execution is transferred to a new thread using the new Executors thread pool.\r\n\r\nI want to log the client id in all logging statements for that client. The problem is that I don&#39;t want to modify method signatures just to pass the client id. \r\n\r\nThe solutions that I thought of are:\r\n\r\n1. Using ThreadLocal to hold client value. \r\n2. In run(), I can set the client id into Thread using Thread.currentThread().setName(clientId);\r\n\r\nFirst one should work. But I like second option because \r\na. I can find the client id from the debugger\r\nb. The logger library can be configured to show thread name. So no changes would be required to the log statements and it would also work for loggers inside libraries.\r\n\r\nWhat are the caveats for using thread.setName() apart from those mentioned in the javadoc? How does it affect performance? The peak frequency of calling thread.setName() would be about 200 per second and average about 0.3 per second.\r\n \r\n","title":"Thread.setName(name) caveats","body":"<p>I have a multi threaded client server application which uses Sockets. When a new connection is found, further execution is transferred to a new thread using the new Executors thread pool.</p>\n\n<p>I want to log the client id in all logging statements for that client. The problem is that I don't want to modify method signatures just to pass the client id. </p>\n\n<p>The solutions that I thought of are:</p>\n\n<ol>\n<li>Using ThreadLocal to hold client value. </li>\n<li>In run(), I can set the client id into Thread using Thread.currentThread().setName(clientId);</li>\n</ol>\n\n<p>First one should work. But I like second option because \na. I can find the client id from the debugger\nb. The logger library can be configured to show thread name. So no changes would be required to the log statements and it would also work for loggers inside libraries.</p>\n\n<p>What are the caveats for using thread.setName() apart from those mentioned in the javadoc? How does it affect performance? The peak frequency of calling thread.setName() would be about 200 per second and average about 0.3 per second.</p>\n"},{"tags":["java","spring-boot","micrometer-tracing"],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676124521,"creation_date":1674506865,"question_id":75214884,"body_markdown":"I have an issue related to traces after the migration of a Sping CLoud Stream app to SpringBoot 3.\r\n\r\nThe code of the app is just in one class:\r\n\r\n\r\n```\r\npackage com.example.micrometer;\r\n\r\nimport io.micrometer.observation.ObservationRegistry;\r\nimport io.micrometer.tracing.Tracer;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.WebApplicationType;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.messaging.Message;\r\nimport reactor.core.publisher.Flux;\r\n\r\nimport java.util.function.Consumer;\r\n\r\n@SpringBootApplication\r\npublic class StreamReactiveConsumerApplication implements CommandLineRunner {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(StreamReactiveConsumerApplication.class);\r\n\r\n    public static void main(String... args) {\r\n        new SpringApplicationBuilder(StreamReactiveConsumerApplication.class).web(WebApplicationType.NONE).run(args);\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        log.warn(&quot;Remember about calling &lt;.subscribe()&gt; at the end of your Consumer&lt;Flux&gt; bean!&quot;);\r\n        log.warn(&quot;Remember about finishing the span manually before calling subscribe!&quot;);\r\n    }\r\n\r\n    @Bean\r\n    Consumer&lt;Flux&lt;Message&lt;String&gt;&gt;&gt; channel(Tracer tracer, ObservationRegistry observationRegistry) {\r\n        return flux -&gt; flux.doOnNext(msg -&gt; log.info(&quot;&lt;ACCEPTANCE_TEST&gt; &lt;TRACE:{}&gt; Hello from consumer&quot;,\r\n                tracer.currentSpan().context().traceId()))\r\n                .subscribe();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\nspring:\r\n  application:\r\n    name: stream-reactive-consumer\r\n  cloud:\r\n    stream:\r\n      bindings:\r\n        channel-in-0.destination: myinput\r\n      kafka:\r\n        streams:\r\n          binder:\r\n            functions:\r\n              kafkaStreamCountWords:\r\n                configuration:\r\n                  client.id: client-id-kafkaStreamCount\r\n\r\n# For tests\r\nlogging:\r\n  pattern:\r\n    console: &#39;%d{yyyy-MM-dd HH:mm:ss} [${spring.application.name:},%X{traceId:-},%X{spanId:-}] %logger{36} : %msg%n&#39;\r\n\r\n\r\n```\r\n\r\n\r\nPlease note I did add the logging pattern in application.properties, as well as having the context-propagation library\r\n\r\nDespite of\r\n\r\nhttps://micrometer.io/docs/observation#instrumentation_of_reactive_libraries\r\n\r\nhttps://github.com/micrometer-metrics/tracing/wiki/Spring-Cloud-Sleuth-3.1-Migration-Guide\r\n\r\nHowever, all trace are lost.\r\n\r\nCould you please help?","title":"All traces lost after migration to SpringBoot 3","body":"<p>I have an issue related to traces after the migration of a Sping CLoud Stream app to SpringBoot 3.</p>\n<p>The code of the app is just in one class:</p>\n<pre><code>package com.example.micrometer;\n\nimport io.micrometer.observation.ObservationRegistry;\nimport io.micrometer.tracing.Tracer;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.WebApplicationType;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.messaging.Message;\nimport reactor.core.publisher.Flux;\n\nimport java.util.function.Consumer;\n\n@SpringBootApplication\npublic class StreamReactiveConsumerApplication implements CommandLineRunner {\n\n    private static final Logger log = LoggerFactory.getLogger(StreamReactiveConsumerApplication.class);\n\n    public static void main(String... args) {\n        new SpringApplicationBuilder(StreamReactiveConsumerApplication.class).web(WebApplicationType.NONE).run(args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        log.warn(&quot;Remember about calling &lt;.subscribe()&gt; at the end of your Consumer&lt;Flux&gt; bean!&quot;);\n        log.warn(&quot;Remember about finishing the span manually before calling subscribe!&quot;);\n    }\n\n    @Bean\n    Consumer&lt;Flux&lt;Message&lt;String&gt;&gt;&gt; channel(Tracer tracer, ObservationRegistry observationRegistry) {\n        return flux -&gt; flux.doOnNext(msg -&gt; log.info(&quot;&lt;ACCEPTANCE_TEST&gt; &lt;TRACE:{}&gt; Hello from consumer&quot;,\n                tracer.currentSpan().context().traceId()))\n                .subscribe();\n    }\n\n}\n\n</code></pre>\n<pre><code>spring:\n  application:\n    name: stream-reactive-consumer\n  cloud:\n    stream:\n      bindings:\n        channel-in-0.destination: myinput\n      kafka:\n        streams:\n          binder:\n            functions:\n              kafkaStreamCountWords:\n                configuration:\n                  client.id: client-id-kafkaStreamCount\n\n# For tests\nlogging:\n  pattern:\n    console: '%d{yyyy-MM-dd HH:mm:ss} [${spring.application.name:},%X{traceId:-},%X{spanId:-}] %logger{36} : %msg%n'\n\n\n</code></pre>\n<p>Please note I did add the logging pattern in application.properties, as well as having the context-propagation library</p>\n<p>Despite of</p>\n<p><a href=\"https://micrometer.io/docs/observation#instrumentation_of_reactive_libraries\" rel=\"nofollow noreferrer\">https://micrometer.io/docs/observation#instrumentation_of_reactive_libraries</a></p>\n<p><a href=\"https://github.com/micrometer-metrics/tracing/wiki/Spring-Cloud-Sleuth-3.1-Migration-Guide\" rel=\"nofollow noreferrer\">https://github.com/micrometer-metrics/tracing/wiki/Spring-Cloud-Sleuth-3.1-Migration-Guide</a></p>\n<p>However, all trace are lost.</p>\n<p>Could you please help?</p>\n"},{"tags":["java","jframe","keylistener"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675857347,"post_id":75385422,"comment_id":133017054,"body_markdown":"I see nothing wrong at first glance, but I can&#39;t see how you&#39;d verify if the necessary changes are done, there doesn&#39;t seem to be any visual feedback. Could you [edit] it to turn that code into a [mre] that actually demonstrates the problem (i.e. add a `main` method and some output)?","body":"I see nothing wrong at first glance, but I can&#39;t see how you&#39;d verify if the necessary changes are done, there doesn&#39;t seem to be any visual feedback. Could you <a href=\"https://stackoverflow.com/posts/75385422/edit\">edit</a> it to turn that code into a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that actually demonstrates the problem (i.e. add a <code>main</code> method and some output)?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675857574,"post_id":75385422,"comment_id":133017115,"body_markdown":"And, unrelated to your problem: `remove()` with a `char` will call `remove(int)` (i.e. remove an object by its index). You need to force the use of the Object version by using `remove((Object) char)`. Also, checking `contains` first is unnecessary, as `remove` will simply do nothing if it doesn&#39;t find the value. Is your Canvas passing through the key presses, or is it swallowing them?","body":"And, unrelated to your problem: <code>remove()</code> with a <code>char</code> will call <code>remove(int)</code> (i.e. remove an object by its index). You need to force the use of the Object version by using <code>remove((Object) char)</code>. Also, checking <code>contains</code> first is unnecessary, as <code>remove</code> will simply do nothing if it doesn&#39;t find the value. Is your Canvas passing through the key presses, or is it swallowing them?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675857822,"post_id":75385422,"comment_id":133017191,"body_markdown":"Oh, and I&#39;m now remembering that one shouldn&#39;t mix plain AWT components and Swing. `Canvas` is an AWT component, you [shouldn&#39;t use it in a Swing application](https://stackoverflow.com/questions/776180/how-to-make-canvas-with-swing).","body":"Oh, and I&#39;m now remembering that one shouldn&#39;t mix plain AWT components and Swing. <code>Canvas</code> is an AWT component, you <a href=\"https://stackoverflow.com/questions/776180/how-to-make-canvas-with-swing\">shouldn&#39;t use it in a Swing application</a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675869226,"post_id":75385422,"comment_id":133021078,"body_markdown":"`getKeyChar()` will *never* return a valid value for keyPressed or keyReleased events.  It is only meaningful in keyTyped events.  For keyPressed and keyReleased, you need to call `getKeyCode()`.  All of this is well documented in [the KeyEvent documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/event/KeyEvent.html).","body":"<code>getKeyChar()</code> will <i>never</i> return a valid value for keyPressed or keyReleased events.  It is only meaningful in keyTyped events.  For keyPressed and keyReleased, you need to call <code>getKeyCode()</code>.  All of this is well documented in <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/event/KeyEvent.html\" rel=\"nofollow noreferrer\">the KeyEvent documentation</a>."}],"answers":[{"tags":[],"owner":{"account_id":24314093,"reputation":13,"user_id":18255597,"display_name":"RandomHumanPerson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675866006,"creation_date":1675866006,"answer_id":75387107,"question_id":75385422,"body_markdown":"It turns out I had to call `addKeyListener()` in the Game class.","title":"keyPressed() and keyReleased() not being called KeyListener","body":"<p>It turns out I had to call <code>addKeyListener()</code> in the Game class.</p>\n"}],"owner":{"account_id":24314093,"reputation":13,"user_id":18255597,"display_name":"RandomHumanPerson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75387107,"answer_count":1,"score":1,"last_activity_date":1676124296,"creation_date":1675857123,"question_id":75385422,"body_markdown":"I am trying to create a LinkedList of all the keys pressed, but the keyPressed() and keyReleased() methods aren&#39;t being called. I&#39;ve already tried `frame.setFocusable(true)`.\r\nHere is my code (also sorry if&#39;s a big pile of spaghetti):\r\n\r\nWindow.java\r\n```\r\npublic class Window {\r\n    protected JFrame frame;\r\n\r\n    private boolean clicked = false; // TODO: Mouse input\r\n    private LinkedList&lt;Character&gt; keysDown = new LinkedList&lt;&gt;();\r\n\r\n    public Window(String title, Dimension resolution, Canvas display) {\r\n        frame = new JFrame(title);\r\n        Dimension decoratedResolution = new Dimension(resolution.width + 16, resolution.height + 38); // The resolution of the window is mismatched, this makes it so resolution.height is actually the bottom of the screen and not a little further below and the same for resolution.width.\r\n\r\n        frame.setPreferredSize(decoratedResolution);\r\n        frame.setMinimumSize(decoratedResolution);\r\n        frame.setMaximumSize(decoratedResolution);\r\n        frame.setResizable(false);\r\n\r\n        frame.setLocationRelativeTo(null); // Center the window\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setFocusable(true);\r\n\r\n        frame.addKeyListener(new KeyListener() {\r\n            @Override\r\n            public void keyTyped(KeyEvent e) {}\r\n\r\n            @Override\r\n            public void keyPressed(KeyEvent e) {\r\n                char character = e.getKeyChar();\r\n\r\n                if (!keysDown.contains(character))\r\n                    keysDown.add(character);\r\n            }\r\n\r\n            @Override\r\n            public void keyReleased(KeyEvent e) {\r\n                char character = e.getKeyChar();\r\n                \r\n                keysDown.remove((Object)character);\r\n            }\r\n        });\r\n\r\n        frame.add(display);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public boolean isMouseDown() {\r\n        return clicked;\r\n    }\r\n\r\n    public Vector2 getMousePosition() {\r\n        Point point = MouseInfo.getPointerInfo().getLocation();\r\n        SwingUtilities.convertPointFromScreen(point, frame);\r\n\r\n        return new Vector2(point);\r\n    }\r\n\r\n    public LinkedList&lt;Character&gt; getKeysDown() {\r\n        return keysDown;\r\n    }\r\n}\r\n```\r\n\r\nEdit: All the other code relevant is below\r\n\r\nP.S. This is one of my first times using stack overflow so If I made a mistake in formatting the question, let me know.\r\n\r\nGame.java\r\n```\r\npublic class Game extends Canvas implements Runnable {\r\n    // General Settings\r\n    public static final String TITLE = &quot;Game&quot;;\r\n    public static final Dimension RESOLUTION = new Dimension(800, 450);\r\n    public static final int FPS = 60;\r\n\r\n    // Do not modify\r\n    protected static final long NANO_SECOND = 1000000000;\r\n\r\n    public float timeScale = 1f;\r\n    public volatile boolean running = false; // Set to false to stop the game\r\n\r\n    public Thread thread;\r\n    public Window window;\r\n    public Renderer renderer;\r\n\r\n    public static void main(String[] args) {\r\n        new Game();\r\n    }\r\n\r\n    public Game() {\r\n        start();\r\n    }\r\n\r\n    public void start() {\r\n        init();\r\n    }\r\n\r\n    public void init() {\r\n        window = new Window(TITLE, RESOLUTION, this);\r\n    }\r\n\r\n    public void run() {\r\n        final float RENDER_INTERVAL = 1f / FPS;\r\n\r\n        long then = System.nanoTime();\r\n        long now = then;\r\n\r\n        float deltaTime = 0f;\r\n\r\n        int frames = 0;\r\n\r\n        while (running) {\r\n            now = System.nanoTime();\r\n            deltaTime = (float)(now - then) / NANO_SECOND;\r\n\r\n            update(deltaTime * timeScale);\r\n\r\n            if (!running)\r\n                break;\r\n\r\n            then = now;\r\n            Thread.onSpinWait();\r\n        }\r\n    }\r\n\r\n    public void update(float deltaTime) {\r\n        if (window.getKeysDown().contains(&#39;d&#39;))\r\n            System.out.println(&quot;d pressed&quot;);\r\n    }\r\n```","title":"keyPressed() and keyReleased() not being called KeyListener","body":"<p>I am trying to create a LinkedList of all the keys pressed, but the keyPressed() and keyReleased() methods aren't being called. I've already tried <code>frame.setFocusable(true)</code>.\nHere is my code (also sorry if's a big pile of spaghetti):</p>\n<p>Window.java</p>\n<pre><code>public class Window {\n    protected JFrame frame;\n\n    private boolean clicked = false; // TODO: Mouse input\n    private LinkedList&lt;Character&gt; keysDown = new LinkedList&lt;&gt;();\n\n    public Window(String title, Dimension resolution, Canvas display) {\n        frame = new JFrame(title);\n        Dimension decoratedResolution = new Dimension(resolution.width + 16, resolution.height + 38); // The resolution of the window is mismatched, this makes it so resolution.height is actually the bottom of the screen and not a little further below and the same for resolution.width.\n\n        frame.setPreferredSize(decoratedResolution);\n        frame.setMinimumSize(decoratedResolution);\n        frame.setMaximumSize(decoratedResolution);\n        frame.setResizable(false);\n\n        frame.setLocationRelativeTo(null); // Center the window\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setFocusable(true);\n\n        frame.addKeyListener(new KeyListener() {\n            @Override\n            public void keyTyped(KeyEvent e) {}\n\n            @Override\n            public void keyPressed(KeyEvent e) {\n                char character = e.getKeyChar();\n\n                if (!keysDown.contains(character))\n                    keysDown.add(character);\n            }\n\n            @Override\n            public void keyReleased(KeyEvent e) {\n                char character = e.getKeyChar();\n                \n                keysDown.remove((Object)character);\n            }\n        });\n\n        frame.add(display);\n        frame.setVisible(true);\n    }\n\n    public boolean isMouseDown() {\n        return clicked;\n    }\n\n    public Vector2 getMousePosition() {\n        Point point = MouseInfo.getPointerInfo().getLocation();\n        SwingUtilities.convertPointFromScreen(point, frame);\n\n        return new Vector2(point);\n    }\n\n    public LinkedList&lt;Character&gt; getKeysDown() {\n        return keysDown;\n    }\n}\n</code></pre>\n<p>Edit: All the other code relevant is below</p>\n<p>P.S. This is one of my first times using stack overflow so If I made a mistake in formatting the question, let me know.</p>\n<p>Game.java</p>\n<pre><code>public class Game extends Canvas implements Runnable {\n    // General Settings\n    public static final String TITLE = &quot;Game&quot;;\n    public static final Dimension RESOLUTION = new Dimension(800, 450);\n    public static final int FPS = 60;\n\n    // Do not modify\n    protected static final long NANO_SECOND = 1000000000;\n\n    public float timeScale = 1f;\n    public volatile boolean running = false; // Set to false to stop the game\n\n    public Thread thread;\n    public Window window;\n    public Renderer renderer;\n\n    public static void main(String[] args) {\n        new Game();\n    }\n\n    public Game() {\n        start();\n    }\n\n    public void start() {\n        init();\n    }\n\n    public void init() {\n        window = new Window(TITLE, RESOLUTION, this);\n    }\n\n    public void run() {\n        final float RENDER_INTERVAL = 1f / FPS;\n\n        long then = System.nanoTime();\n        long now = then;\n\n        float deltaTime = 0f;\n\n        int frames = 0;\n\n        while (running) {\n            now = System.nanoTime();\n            deltaTime = (float)(now - then) / NANO_SECOND;\n\n            update(deltaTime * timeScale);\n\n            if (!running)\n                break;\n\n            then = now;\n            Thread.onSpinWait();\n        }\n    }\n\n    public void update(float deltaTime) {\n        if (window.getKeysDown().contains('d'))\n            System.out.println(&quot;d pressed&quot;);\n    }\n</code></pre>\n"},{"tags":["java","inno-setup","pascalscript"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676124225,"creation_date":1477073385,"answer_id":40182971,"question_id":40180783,"body_markdown":"I do not have the `JavaSoft` key in `HKLM\\Software`. I have it in `HKLM\\SOFTWARE\\WOW6432Node`. What is actually the `HKLM\\SOFTWARE` in Inno Setup (being 32-bit application).\r\n\r\nSo it looks like you just need to remove the `if IsWin64 then regRoot := HKLM64` block to make it working. Or try both options.\r\n\r\n&lt;!-- language: lang-pascal --&gt;\r\n\r\n    function CutJavaVersionPart(var V: string): Integer;\r\n    var\r\n      S: string;\r\n      P: Integer;\r\n    begin\r\n      if Length(V) = 0 then\r\n      begin\r\n        Result := 0;\r\n      end\r\n        else\r\n      begin\r\n        P := Pos(&#39;.&#39;, V);\r\n        if P = 0 then P := Pos(&#39;_&#39;, V);\r\n    \r\n        if P &gt; 0 then\r\n        begin\r\n          S := Copy(V, 1, P - 1);\r\n          Delete(V, 1, P);\r\n        end\r\n          else\r\n        begin\r\n          S := V;\r\n          V := &#39;&#39;;\r\n        end;\r\n        Result := StrToIntDef(S, 0);\r\n      end;\r\n    end;\r\n    \r\n    function MaxJavaVersion(V1, V2: string): string;\r\n    var\r\n      Part1, Part2: Integer;\r\n      Buf1, Buf2: string;\r\n    begin\r\n      Buf1 := V1;\r\n      Buf2 := V2;\r\n      Result := &#39;&#39;;\r\n      while (Result = &#39;&#39;) and\r\n            ((Buf1 &lt;&gt; &#39;&#39;) or (Buf2 &lt;&gt; &#39;&#39;)) do\r\n      begin\r\n        Part1 := CutJavaVersionPart(Buf1);\r\n        Part2 := CutJavaVersionPart(Buf2);\r\n        if Part1 &gt; Part2 then Result := V1\r\n          else\r\n        if Part2 &gt; Part1 then Result := V2;\r\n      end;\r\n    end;\r\n    \r\n    function GetJavaVersionFromSubKey(RootKey: Integer; SubKeyName: string): string;\r\n    var\r\n      Versions: TArrayOfString;\r\n      I: Integer;\r\n    begin\r\n      if RegGetSubkeyNames(RootKey, SubKeyName, Versions) then\r\n      begin\r\n        for I := 0 to GetArrayLength(Versions) - 1 do\r\n        begin\r\n          Result := MaxJavaVersion(Result, Versions[I]);\r\n        end;\r\n      end;\r\n    end;\r\n    \r\n    function GetJavaVersionFromRootKey(RootKey: Integer): string;\r\n    begin\r\n      Result := \r\n        MaxJavaVersion(\r\n          GetJavaVersionFromSubKey(\r\n            RootKey, &#39;SOFTWARE\\JavaSoft\\Java Runtime Environment&#39;),\r\n          GetJavaVersionFromSubKey(\r\n            RootKey, &#39;SOFTWARE\\JavaSoft\\Java Development Kit&#39;));\r\n    end;\r\n    \r\n    function GetJavaVersion: string;\r\n    begin\r\n      Result := GetJavaVersionFromRootKey(HKLM);\r\n      if IsWin64 then\r\n      begin\r\n        Result := MaxJavaVersion(Result, GetJavaVersionFromRootKey(HKLM64));\r\n      end;\r\n    end;\r\n    \r\nFor your specific needs, you can check, if Java 1.7 or newer is installed like this:\r\n\r\n&lt;!-- language: lang-pascal --&gt;\r\n\r\n    function HasJava1Dot7OrNewer: Boolean;\r\n    begin\r\n      Result := (MaxJavaVersion(&#39;1.6.9&#39;, GetJavaVersion) &lt;&gt; &#39;1.6.9&#39;);\r\n    end;\r\n\r\n---\r\n\r\nOr did you consider running `java -version` instead?\r\n\r\n&lt;!-- language: lang-pascal --&gt;\r\n\r\n    function GetJavaVersion2: string;\r\n    var\r\n      TempFile: string;\r\n      ResultCode: Integer;\r\n      S: AnsiString;\r\n      P: Integer;\r\n    begin\r\n      TempFile := ExpandConstant(&#39;{tmp}\\javaversion.txt&#39;);\r\n      if (not ExecAsOriginalUser(\r\n                ExpandConstant(&#39;{cmd}&#39;), &#39;/c java -version 2&gt; &quot;&#39; + TempFile + &#39;&quot;&#39;, &#39;&#39;,\r\n                SW_HIDE, ewWaitUntilTerminated, ResultCode)) or\r\n         (ResultCode &lt;&gt; 0) then\r\n      begin\r\n        Log(&#39;Failed to execute java -version&#39;);\r\n      end\r\n        else\r\n      if not LoadStringFromFile(TempFile, S) then\r\n      begin\r\n        Log(Format(&#39;Error reading file %s&#39;, [TempFile]));\r\n      end\r\n        else\r\n      if Copy(S, 1, 14) &lt;&gt; &#39;java version &quot;&#39; then\r\n      begin\r\n        Log(&#39;Output of the java -version not as expected&#39;);\r\n      end\r\n        else\r\n      begin\r\n        Delete(S, 1, 14);\r\n        P := Pos(&#39;&quot;&#39;, S);\r\n        if P = 0 then\r\n        begin\r\n          Log(&#39;Output of the java -version not as expected&#39;);\r\n        end\r\n          else\r\n        begin\r\n          SetLength(S, P - 1);\r\n          Result := S;\r\n        end;\r\n      end;\r\n      \r\n      DeleteFile(TempFile);\r\n    end;\r\n\r\n---\r\n\r\nA bit more efficient implementation of the `InitializeSetup`:\r\n\r\n&lt;!-- language: lang-pascal --&gt;\r\n\r\n    function InitializeSetup(): Boolean;\r\n    var\r\n      ErrorCode: Integer;\r\n    begin\r\n      Result := HasJava1Dot7OrNewer;\r\n      if not Result then\r\n      begin\r\n        Result :=\r\n          MsgBox(ExpandConstant(&#39;{cm:JavaRequired}&#39;), mbConfirmation, MB_YESNO) =\r\n            idYes;\r\n        if Result then\r\n        begin\r\n          ShellExec(\r\n            &#39;open&#39;, &#39;https://www.java.com/getjava/&#39;, &#39;&#39;, &#39;&#39;, SW_SHOWNORMAL,\r\n            ewNoWait, ErrorCode);\r\n        end;\r\n      end;\r\n    end;\r\n\r\n","title":"Detect Java version in Inno Setup","body":"<p>I do not have the <code>JavaSoft</code> key in <code>HKLM\\Software</code>. I have it in <code>HKLM\\SOFTWARE\\WOW6432Node</code>. What is actually the <code>HKLM\\SOFTWARE</code> in Inno Setup (being 32-bit application).</p>\n<p>So it looks like you just need to remove the <code>if IsWin64 then regRoot := HKLM64</code> block to make it working. Or try both options.</p>\n<pre class=\"lang-pascal prettyprint-override\"><code>function CutJavaVersionPart(var V: string): Integer;\nvar\n  S: string;\n  P: Integer;\nbegin\n  if Length(V) = 0 then\n  begin\n    Result := 0;\n  end\n    else\n  begin\n    P := Pos('.', V);\n    if P = 0 then P := Pos('_', V);\n\n    if P &gt; 0 then\n    begin\n      S := Copy(V, 1, P - 1);\n      Delete(V, 1, P);\n    end\n      else\n    begin\n      S := V;\n      V := '';\n    end;\n    Result := StrToIntDef(S, 0);\n  end;\nend;\n\nfunction MaxJavaVersion(V1, V2: string): string;\nvar\n  Part1, Part2: Integer;\n  Buf1, Buf2: string;\nbegin\n  Buf1 := V1;\n  Buf2 := V2;\n  Result := '';\n  while (Result = '') and\n        ((Buf1 &lt;&gt; '') or (Buf2 &lt;&gt; '')) do\n  begin\n    Part1 := CutJavaVersionPart(Buf1);\n    Part2 := CutJavaVersionPart(Buf2);\n    if Part1 &gt; Part2 then Result := V1\n      else\n    if Part2 &gt; Part1 then Result := V2;\n  end;\nend;\n\nfunction GetJavaVersionFromSubKey(RootKey: Integer; SubKeyName: string): string;\nvar\n  Versions: TArrayOfString;\n  I: Integer;\nbegin\n  if RegGetSubkeyNames(RootKey, SubKeyName, Versions) then\n  begin\n    for I := 0 to GetArrayLength(Versions) - 1 do\n    begin\n      Result := MaxJavaVersion(Result, Versions[I]);\n    end;\n  end;\nend;\n\nfunction GetJavaVersionFromRootKey(RootKey: Integer): string;\nbegin\n  Result := \n    MaxJavaVersion(\n      GetJavaVersionFromSubKey(\n        RootKey, 'SOFTWARE\\JavaSoft\\Java Runtime Environment'),\n      GetJavaVersionFromSubKey(\n        RootKey, 'SOFTWARE\\JavaSoft\\Java Development Kit'));\nend;\n\nfunction GetJavaVersion: string;\nbegin\n  Result := GetJavaVersionFromRootKey(HKLM);\n  if IsWin64 then\n  begin\n    Result := MaxJavaVersion(Result, GetJavaVersionFromRootKey(HKLM64));\n  end;\nend;\n</code></pre>\n<p>For your specific needs, you can check, if Java 1.7 or newer is installed like this:</p>\n<pre class=\"lang-pascal prettyprint-override\"><code>function HasJava1Dot7OrNewer: Boolean;\nbegin\n  Result := (MaxJavaVersion('1.6.9', GetJavaVersion) &lt;&gt; '1.6.9');\nend;\n</code></pre>\n<hr />\n<p>Or did you consider running <code>java -version</code> instead?</p>\n<pre class=\"lang-pascal prettyprint-override\"><code>function GetJavaVersion2: string;\nvar\n  TempFile: string;\n  ResultCode: Integer;\n  S: AnsiString;\n  P: Integer;\nbegin\n  TempFile := ExpandConstant('{tmp}\\javaversion.txt');\n  if (not ExecAsOriginalUser(\n            ExpandConstant('{cmd}'), '/c java -version 2&gt; &quot;' + TempFile + '&quot;', '',\n            SW_HIDE, ewWaitUntilTerminated, ResultCode)) or\n     (ResultCode &lt;&gt; 0) then\n  begin\n    Log('Failed to execute java -version');\n  end\n    else\n  if not LoadStringFromFile(TempFile, S) then\n  begin\n    Log(Format('Error reading file %s', [TempFile]));\n  end\n    else\n  if Copy(S, 1, 14) &lt;&gt; 'java version &quot;' then\n  begin\n    Log('Output of the java -version not as expected');\n  end\n    else\n  begin\n    Delete(S, 1, 14);\n    P := Pos('&quot;', S);\n    if P = 0 then\n    begin\n      Log('Output of the java -version not as expected');\n    end\n      else\n    begin\n      SetLength(S, P - 1);\n      Result := S;\n    end;\n  end;\n  \n  DeleteFile(TempFile);\nend;\n</code></pre>\n<hr />\n<p>A bit more efficient implementation of the <code>InitializeSetup</code>:</p>\n<pre class=\"lang-pascal prettyprint-override\"><code>function InitializeSetup(): Boolean;\nvar\n  ErrorCode: Integer;\nbegin\n  Result := HasJava1Dot7OrNewer;\n  if not Result then\n  begin\n    Result :=\n      MsgBox(ExpandConstant('{cm:JavaRequired}'), mbConfirmation, MB_YESNO) =\n        idYes;\n    if Result then\n    begin\n      ShellExec(\n        'open', 'https://www.java.com/getjava/', '', '', SW_SHOWNORMAL,\n        ewNoWait, ErrorCode);\n    end;\n  end;\nend;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":56970,"reputation":1143,"user_id":170637,"display_name":"Olivier G&#233;rardin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547649564,"creation_date":1547648876,"answer_id":54219232,"question_id":40180783,"body_markdown":"Answering my own comment, here&#39;s my variation which should work regardless of whether the installed JRE is Oracle&#39;s or OpenJDK&#39;s, and for Java versions prior to and after Java 9.\r\n\r\nThe `GetJavaMajorVersion()` function returns the Java version as an integer. For versions where `java -version` reports &quot;1.x.*&quot; (up to and including Java 8) it will return x, otherwise (Java 9 and later) it will return the actual major number. If for some reason the call to `java -version` fails it will return 0.\r\n\r\n&lt;!-- language: lang-pascal --&gt;\r\n\r\n    function GetJavaMajorVersion(): integer;\r\n    var\r\n      TempFile: string;\r\n      ResultCode: Integer;\r\n      S: AnsiString;\r\n      P: Integer;\r\n    begin\r\n      Result := 0;\r\n    \r\n      { execute java -version and redirect output to a temp file }\r\n      TempFile := ExpandConstant(&#39;{tmp}\\javaversion.txt&#39;);\r\n      if (not ExecAsOriginalUser(ExpandConstant(&#39;{cmd}&#39;), &#39;/c java -version 2&gt; &quot;&#39; + TempFile + &#39;&quot;&#39;, &#39;&#39;,SW_HIDE, ewWaitUntilTerminated, ResultCode)) \r\n        or (ResultCode &lt;&gt; 0) then\r\n      begin\r\n        Log(&#39;Failed to execute java -version&#39;);\r\n        exit;\r\n      end;\r\n      \r\n      { read file into variable S }\r\n      LoadStringFromFile(TempFile, S)\r\n      DeleteFile(TempFile);\r\n      Log(Format(&#39;java -version output: &#39; + #13#10 + &#39;%s&#39;, [S]));\r\n    \r\n      { extract version (between quotes) }\r\n      P := Pos(&#39;&quot;&#39;, S);\r\n      Delete(S, 1, P);\r\n      P := Pos(&#39;&quot;&#39;, S);\r\n      SetLength(S, P - 1);\r\n      Log(Format(&#39;Extracted version: %s&#39;, [S]));\r\n    \r\n      { extract major }\r\n      if Copy(S, 1, 2) = &#39;1.&#39; then\r\n      begin\r\n        Delete(S, 1, 2)\r\n      end;\r\n      P := Pos(&#39;.&#39;, S);\r\n      SetLength(S, P - 1);\r\n      Log(Format(&#39;Major version: %s&#39;, [S]));\r\n    \r\n      Result := StrToIntDef(S, 0);\r\n    end;\r\n    \r\n    function InitializeSetup(): boolean;\r\n    var\r\n      ResultCode: Integer;\r\n    begin\r\n      if GetJavaMajorVersion &gt;= 8 then\r\n      begin\r\n        Result := true;    \r\n        exit;\r\n      end;\r\n    \r\n      if MsgBox(&#39;This tool requires a Java Runtime Environment version 1.8 or newer to run. &#39; +\r\n        &#39;Please download and install the JRE and run this setup again. &#39; +\r\n        &#39;Would you like to open the JRE download page now?&#39;, mbCriticalError, MB_YESNO) = idYes then \r\n      begin\r\n        Result := false;\r\n        ShellExec(&#39;open&#39;, &#39;https://java.com/download/&#39;, &#39;&#39;, &#39;&#39;, SW_SHOWNORMAL, ewNoWait, ResultCode);\r\n      end;  \r\n    end;\r\n\r\nLots of room for improvement, but it does the job.\r\n\r\n","title":"Detect Java version in Inno Setup","body":"<p>Answering my own comment, here's my variation which should work regardless of whether the installed JRE is Oracle's or OpenJDK's, and for Java versions prior to and after Java 9.</p>\n\n<p>The <code>GetJavaMajorVersion()</code> function returns the Java version as an integer. For versions where <code>java -version</code> reports \"1.x.*\" (up to and including Java 8) it will return x, otherwise (Java 9 and later) it will return the actual major number. If for some reason the call to <code>java -version</code> fails it will return 0.</p>\n\n<pre class=\"lang-pascal prettyprint-override\"><code>function GetJavaMajorVersion(): integer;\nvar\n  TempFile: string;\n  ResultCode: Integer;\n  S: AnsiString;\n  P: Integer;\nbegin\n  Result := 0;\n\n  { execute java -version and redirect output to a temp file }\n  TempFile := ExpandConstant('{tmp}\\javaversion.txt');\n  if (not ExecAsOriginalUser(ExpandConstant('{cmd}'), '/c java -version 2&gt; \"' + TempFile + '\"', '',SW_HIDE, ewWaitUntilTerminated, ResultCode)) \n    or (ResultCode &lt;&gt; 0) then\n  begin\n    Log('Failed to execute java -version');\n    exit;\n  end;\n\n  { read file into variable S }\n  LoadStringFromFile(TempFile, S)\n  DeleteFile(TempFile);\n  Log(Format('java -version output: ' + #13#10 + '%s', [S]));\n\n  { extract version (between quotes) }\n  P := Pos('\"', S);\n  Delete(S, 1, P);\n  P := Pos('\"', S);\n  SetLength(S, P - 1);\n  Log(Format('Extracted version: %s', [S]));\n\n  { extract major }\n  if Copy(S, 1, 2) = '1.' then\n  begin\n    Delete(S, 1, 2)\n  end;\n  P := Pos('.', S);\n  SetLength(S, P - 1);\n  Log(Format('Major version: %s', [S]));\n\n  Result := StrToIntDef(S, 0);\nend;\n\nfunction InitializeSetup(): boolean;\nvar\n  ResultCode: Integer;\nbegin\n  if GetJavaMajorVersion &gt;= 8 then\n  begin\n    Result := true;    \n    exit;\n  end;\n\n  if MsgBox('This tool requires a Java Runtime Environment version 1.8 or newer to run. ' +\n    'Please download and install the JRE and run this setup again. ' +\n    'Would you like to open the JRE download page now?', mbCriticalError, MB_YESNO) = idYes then \n  begin\n    Result := false;\n    ShellExec('open', 'https://java.com/download/', '', '', SW_SHOWNORMAL, ewNoWait, ResultCode);\n  end;  \nend;\n</code></pre>\n\n<p>Lots of room for improvement, but it does the job.</p>\n"},{"tags":[],"owner":{"account_id":876760,"reputation":23300,"user_id":2102693,"display_name":"Bill_Stewart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609436444,"creation_date":1609434450,"answer_id":65523710,"question_id":40180783,"body_markdown":"I wanted something I could use across multiple Inno Setup projects, so I wrote a DLL for detecting Java details (home directory, etc.):\r\n\r\nhttps://github.com/Bill-Stewart/JavaInfo\r\n\r\nDownload from here: https://github.com/Bill-Stewart/JavaInfo/releases\r\n\r\nThe download includes a sample Inno Setup `.iss` script that demonstrates how to use the DLL functions.","title":"Detect Java version in Inno Setup","body":"<p>I wanted something I could use across multiple Inno Setup projects, so I wrote a DLL for detecting Java details (home directory, etc.):</p>\n<p><a href=\"https://github.com/Bill-Stewart/JavaInfo\" rel=\"nofollow noreferrer\">https://github.com/Bill-Stewart/JavaInfo</a></p>\n<p>Download from here: <a href=\"https://github.com/Bill-Stewart/JavaInfo/releases\" rel=\"nofollow noreferrer\">https://github.com/Bill-Stewart/JavaInfo/releases</a></p>\n<p>The download includes a sample Inno Setup <code>.iss</code> script that demonstrates how to use the DLL functions.</p>\n"}],"owner":{"account_id":2229924,"reputation":5666,"user_id":1967800,"accept_rate":78,"display_name":"Sharcoux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2644,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":40182971,"answer_count":3,"score":2,"last_activity_date":1676124225,"creation_date":1477064877,"question_id":40180783,"body_markdown":"When installing my Java app with Inno Setup, I would like the installer to check if Java 7 or above is present, and install it if needed. But apparently, my current code fails to detect Java 8 on the computer of some of my clients. I couldn&#39;t reproduce the bug, though. Do you see something that I could be missing? Maybe this code doesn&#39;t work with recent Windows?\r\n\r\nBasically, I just check the registry for Java &gt;= 1.7.\r\n\r\n&lt;!-- language-all: lang-pascal --&gt;\r\n\r\n    [Code]\r\n\r\n    function InitializeSetup(): Boolean;\r\n    var\r\n     ErrorCode: Integer;\r\n     JavaInstalled : Boolean;\r\n     ResultMsg : Boolean;\r\n     Versions: TArrayOfString;\r\n     I: Integer;\r\n     regRoot: Integer;\r\n    begin\r\n     // Check which view of registry should be taken:\r\n     regRoot := HKLM\r\n     begin\r\n      if IsWin64 then\r\n      begin\r\n       regRoot := HKLM64\r\n      end;\r\n     end;\r\n     if RegGetSubkeyNames(\r\n          regRoot, &#39;SOFTWARE\\JavaSoft\\Java Runtime Environment&#39;, Versions) or\r\n        RegGetSubkeyNames(\r\n          regRoot, &#39;SOFTWARE\\JavaSoft\\Java Development Kit&#39;, Versions) then\r\n     begin\r\n      for I := 0 to GetArrayLength(Versions)-1 do\r\n       if JavaInstalled = true then\r\n       begin\r\n        // do nothing\r\n       end else\r\n       begin\r\n        if (Versions[I][2] = &#39;.&#39;) and\r\n           ((StrToInt(Versions[I][1]) &gt; 1) or\r\n            ((StrToInt(Versions[I][1]) = 1) and (StrToInt(Versions[I][3]) &gt;= 7))) then\r\n        begin\r\n         JavaInstalled := true;\r\n        end else\r\n        begin\r\n         JavaInstalled := false;\r\n        end;\r\n       end;\r\n     end else\r\n     begin\r\n      JavaInstalled := false;\r\n     end;\r\n    \r\n     if JavaInstalled then\r\n     begin\r\n      Result := true;\r\n     end else\r\n     begin\r\n      ResultMsg :=\r\n        MsgBox(ExpandConstant(&#39;{cm:JavaRequired}&#39;), mbConfirmation, MB_YESNO) = idYes;\r\n      if ResultMsg = false then\r\n      begin\r\n       Result := false;\r\n      end else\r\n      begin\r\n       Result := true;\r\n       ShellExec(\r\n         &#39;open&#39;, &#39;http://www.java.com/getjava/&#39;, &#39;&#39;, &#39;&#39;,\r\n         SW_SHOWNORMAL, ewNoWait, ErrorCode);\r\n      end;\r\n     end;\r\n    end;\r\n\r\n----\r\n\r\nEdit: This is the final result based on Martin&#39;s answer.\r\n\r\n    [Code]\r\n    function CutJavaVersionPart(var V: string): Integer;\r\n    var\r\n      S: string;\r\n      P: Integer;\r\n    begin\r\n      if Length(V) = 0 then\r\n      begin\r\n        Result := 0;\r\n      end\r\n        else\r\n      begin\r\n        P := Pos(&#39;.&#39;, V);\r\n        if P = 0 then P := Pos(&#39;_&#39;, V);\r\n    \r\n        if P &gt; 0 then\r\n        begin\r\n          S := Copy(V, 1, P - 1);\r\n          Delete(V, 1, P);\r\n        end\r\n          else\r\n        begin\r\n          S := V;\r\n          V := &#39;&#39;;\r\n        end;\r\n        Result := StrToIntDef(S, 0);\r\n      end;\r\n    end;\r\n    \r\n    function MaxJavaVersion(V1, V2: string): string;\r\n    var\r\n      Part1, Part2: Integer;\r\n      Buf1, Buf2: string;\r\n    begin\r\n      Buf1 := V1;\r\n      Buf2 := V2;\r\n      Result := &#39;&#39;;\r\n      while (Result = &#39;&#39;) and\r\n            ((Buf1 &lt;&gt; &#39;&#39;) or (Buf2 &lt;&gt; &#39;&#39;)) do\r\n      begin\r\n        Part1 := CutJavaVersionPart(Buf1);\r\n        Part2 := CutJavaVersionPart(Buf2);\r\n        if Part1 &gt; Part2 then Result := V1\r\n          else\r\n        if Part2 &gt; Part1 then Result := V2;\r\n      end;\r\n    end;\r\n    \r\n    function GetJavaVersion(): string;\r\n    var\r\n      TempFile: string;\r\n      ResultCode: Integer;\r\n      S: AnsiString;\r\n      P: Integer;\r\n    begin\r\n      TempFile := ExpandConstant(&#39;{tmp}\\javaversion.txt&#39;);\r\n      if (not ExecAsOriginalUser(\r\n                ExpandConstant(&#39;{cmd}&#39;), &#39;/c java -version 2&gt; &quot;&#39; + TempFile + &#39;&quot;&#39;, &#39;&#39;,\r\n                SW_HIDE, ewWaitUntilTerminated, ResultCode)) or\r\n         (ResultCode &lt;&gt; 0) then\r\n      begin\r\n        Log(&#39;Failed to execute java -version&#39;);\r\n      end\r\n        else\r\n      if not LoadStringFromFile(TempFile, S) then\r\n      begin\r\n        Log(Format(&#39;Error reading file %s&#39;, [TempFile]));\r\n      end\r\n        else\r\n      if Copy(S, 1, 14) &lt;&gt; &#39;java version &quot;&#39; then\r\n      begin\r\n        Log(&#39;Output of the java -version not as expected&#39;);\r\n      end\r\n        else\r\n      begin\r\n        Delete(S, 1, 14);\r\n        P := Pos(&#39;&quot;&#39;, S);\r\n        if P = 0 then\r\n        begin\r\n          Log(&#39;Output of the java -version not as expected&#39;);\r\n        end\r\n          else\r\n        begin\r\n          SetLength(S, P - 1);\r\n          Result := S;\r\n        end;\r\n      end;\r\n    \r\n      DeleteFile(TempFile);\r\n    end;\r\n    \r\n    function HasJava1Dot7OrNewer: Boolean;\r\n    begin\r\n      Result := (MaxJavaVersion(&#39;1.6.9&#39;, GetJavaVersion) &lt;&gt; &#39;1.6.9&#39;);\r\n    end;\r\n    \r\n    function InitializeSetup(): Boolean;\r\n    var\r\n      ErrorCode: Integer;\r\n    begin\r\n      Result := HasJava1Dot7OrNewer;\r\n      if not Result then\r\n      begin\r\n        Result :=\r\n          MsgBox(ExpandConstant(&#39;{cm:JavaRequired}&#39;), mbConfirmation, MB_YESNO) =\r\n            idYes;\r\n        if Result then\r\n        begin\r\n          ShellExec(\r\n            &#39;open&#39;, &#39;https://www.java.com/getjava/&#39;, &#39;&#39;, &#39;&#39;,\r\n            SW_SHOWNORMAL, ewNoWait, ErrorCode);\r\n        end;\r\n      end;\r\n    end;\r\n\r\n","title":"Detect Java version in Inno Setup","body":"<p>When installing my Java app with Inno Setup, I would like the installer to check if Java 7 or above is present, and install it if needed. But apparently, my current code fails to detect Java 8 on the computer of some of my clients. I couldn't reproduce the bug, though. Do you see something that I could be missing? Maybe this code doesn't work with recent Windows?</p>\n<p>Basically, I just check the registry for Java &gt;= 1.7.</p>\n\n<pre class=\"lang-pascal prettyprint-override\"><code>[Code]\n\nfunction InitializeSetup(): Boolean;\nvar\n ErrorCode: Integer;\n JavaInstalled : Boolean;\n ResultMsg : Boolean;\n Versions: TArrayOfString;\n I: Integer;\n regRoot: Integer;\nbegin\n // Check which view of registry should be taken:\n regRoot := HKLM\n begin\n  if IsWin64 then\n  begin\n   regRoot := HKLM64\n  end;\n end;\n if RegGetSubkeyNames(\n      regRoot, 'SOFTWARE\\JavaSoft\\Java Runtime Environment', Versions) or\n    RegGetSubkeyNames(\n      regRoot, 'SOFTWARE\\JavaSoft\\Java Development Kit', Versions) then\n begin\n  for I := 0 to GetArrayLength(Versions)-1 do\n   if JavaInstalled = true then\n   begin\n    // do nothing\n   end else\n   begin\n    if (Versions[I][2] = '.') and\n       ((StrToInt(Versions[I][1]) &gt; 1) or\n        ((StrToInt(Versions[I][1]) = 1) and (StrToInt(Versions[I][3]) &gt;= 7))) then\n    begin\n     JavaInstalled := true;\n    end else\n    begin\n     JavaInstalled := false;\n    end;\n   end;\n end else\n begin\n  JavaInstalled := false;\n end;\n\n if JavaInstalled then\n begin\n  Result := true;\n end else\n begin\n  ResultMsg :=\n    MsgBox(ExpandConstant('{cm:JavaRequired}'), mbConfirmation, MB_YESNO) = idYes;\n  if ResultMsg = false then\n  begin\n   Result := false;\n  end else\n  begin\n   Result := true;\n   ShellExec(\n     'open', 'http://www.java.com/getjava/', '', '',\n     SW_SHOWNORMAL, ewNoWait, ErrorCode);\n  end;\n end;\nend;\n</code></pre>\n<hr />\n<p>Edit: This is the final result based on Martin's answer.</p>\n<pre class=\"lang-pascal prettyprint-override\"><code>[Code]\nfunction CutJavaVersionPart(var V: string): Integer;\nvar\n  S: string;\n  P: Integer;\nbegin\n  if Length(V) = 0 then\n  begin\n    Result := 0;\n  end\n    else\n  begin\n    P := Pos('.', V);\n    if P = 0 then P := Pos('_', V);\n\n    if P &gt; 0 then\n    begin\n      S := Copy(V, 1, P - 1);\n      Delete(V, 1, P);\n    end\n      else\n    begin\n      S := V;\n      V := '';\n    end;\n    Result := StrToIntDef(S, 0);\n  end;\nend;\n\nfunction MaxJavaVersion(V1, V2: string): string;\nvar\n  Part1, Part2: Integer;\n  Buf1, Buf2: string;\nbegin\n  Buf1 := V1;\n  Buf2 := V2;\n  Result := '';\n  while (Result = '') and\n        ((Buf1 &lt;&gt; '') or (Buf2 &lt;&gt; '')) do\n  begin\n    Part1 := CutJavaVersionPart(Buf1);\n    Part2 := CutJavaVersionPart(Buf2);\n    if Part1 &gt; Part2 then Result := V1\n      else\n    if Part2 &gt; Part1 then Result := V2;\n  end;\nend;\n\nfunction GetJavaVersion(): string;\nvar\n  TempFile: string;\n  ResultCode: Integer;\n  S: AnsiString;\n  P: Integer;\nbegin\n  TempFile := ExpandConstant('{tmp}\\javaversion.txt');\n  if (not ExecAsOriginalUser(\n            ExpandConstant('{cmd}'), '/c java -version 2&gt; &quot;' + TempFile + '&quot;', '',\n            SW_HIDE, ewWaitUntilTerminated, ResultCode)) or\n     (ResultCode &lt;&gt; 0) then\n  begin\n    Log('Failed to execute java -version');\n  end\n    else\n  if not LoadStringFromFile(TempFile, S) then\n  begin\n    Log(Format('Error reading file %s', [TempFile]));\n  end\n    else\n  if Copy(S, 1, 14) &lt;&gt; 'java version &quot;' then\n  begin\n    Log('Output of the java -version not as expected');\n  end\n    else\n  begin\n    Delete(S, 1, 14);\n    P := Pos('&quot;', S);\n    if P = 0 then\n    begin\n      Log('Output of the java -version not as expected');\n    end\n      else\n    begin\n      SetLength(S, P - 1);\n      Result := S;\n    end;\n  end;\n\n  DeleteFile(TempFile);\nend;\n\nfunction HasJava1Dot7OrNewer: Boolean;\nbegin\n  Result := (MaxJavaVersion('1.6.9', GetJavaVersion) &lt;&gt; '1.6.9');\nend;\n\nfunction InitializeSetup(): Boolean;\nvar\n  ErrorCode: Integer;\nbegin\n  Result := HasJava1Dot7OrNewer;\n  if not Result then\n  begin\n    Result :=\n      MsgBox(ExpandConstant('{cm:JavaRequired}'), mbConfirmation, MB_YESNO) =\n        idYes;\n    if Result then\n    begin\n      ShellExec(\n        'open', 'https://www.java.com/getjava/', '', '',\n        SW_SHOWNORMAL, ewNoWait, ErrorCode);\n    end;\n  end;\nend;\n</code></pre>\n"},{"tags":["java","json","spring-mvc","jackson","dto"],"answers":[{"tags":[],"owner":{"account_id":5678648,"reputation":151,"user_id":4490757,"display_name":"Veton Kuleta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1483904600,"creation_date":1483904600,"answer_id":41537037,"question_id":40300539,"body_markdown":"Please try firstly to remove @JsonBackReference and @JsoonManagedReference and add this \r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class , property = &quot;id&quot;) , i Hope this works with you because i had this same problem and it worked for me :) ","title":"Jackson: Can not handle managed/back reference &#39;defaultReference&#39; with nested DTOs","body":"<p>Please try firstly to remove @JsonBackReference and @JsoonManagedReference and add this \n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class , property = \"id\") , i Hope this works with you because i had this same problem and it worked for me :) </p>\n"}],"owner":{"account_id":89193,"reputation":526,"user_id":246219,"display_name":"flux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4634,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41537037,"answer_count":1,"score":0,"last_activity_date":1676123772,"creation_date":1477641372,"question_id":40300539,"body_markdown":"recently with these two DTO I got this error\r\n\r\n&gt; MappingJackson2HttpMessageConverter:163 - Failed to evaluate Jackson\r\n&gt; deserialization for type [simple type, class seml.dto.PoiDto]:\r\n&gt; java.lang.IllegalArgumentException: Can not handle managed/back\r\n&gt; reference &#39;defaultReference&#39;: back reference type (java.util.Set) not\r\n&gt; compatible with managed type (seml.dto.ConceptDto)\r\n\r\nAs you can see in the code below, I have a Set of ConceptDto objects, that have respectively some sets of broaders/narrowers/relateds ConceptDto object. Surely I was wrong to use @JsonManagedReference/@JsonBackReference but I don&#39;t understand how. \r\nCan anybody help me with this issue? Thanks to everyone.\r\n\r\nPoiDto.java\r\n    \r\n\r\n    public class PoiDto extends GenericDto&lt;String&gt;{\r\n        \t\r\n       \tprivate String id;\r\n       \tprivate String uri;\r\n       \tprivate String title = &quot;&quot;;\r\n       \tprivate String description = &quot;&quot;;\r\n    \r\n       \t@JsonManagedReference\r\n       \tprivate Set&lt;ConceptDto&gt; concepts = new HashSet&lt;ConceptDto&gt;();\r\n        \t\r\n       \t@JsonManagedReference\r\n       \t@JsonBackReference\r\n       \tprivate Set&lt;PoiDto&gt; relatedPOIs = new HashSet&lt;PoiDto&gt;();\r\n        \t\r\n       \tprivate Set&lt;ProductOrServiceDto&gt; relatedProductOrServices = new HashSet&lt;ProductOrServiceDto&gt;();\r\n    [...]\r\n\r\nConceptDto.java\r\n\r\n    public class ConceptDto extends GenericDto&lt;String&gt; {\r\n    \r\n    \tprivate String prefLabelIt;\r\n    \tprivate String prefLabelEn;\r\n    \tprivate String code;\r\n    \tprivate double rating;\r\n    \t\r\n    \t\r\n    \t@JsonBackReference\r\n    \tprivate Set&lt;ConceptDto&gt; broaders = new HashSet&lt;ConceptDto&gt;();\r\n    \t\r\n    \t@JsonManagedReference\r\n    \tprivate Set&lt;ConceptDto&gt; narrowers = new HashSet&lt;ConceptDto&gt;();\r\n    \t\r\n    \t@JsonIgnore\r\n    \tprivate Set&lt;ConceptDto&gt; relateds = new HashSet&lt;ConceptDto&gt;();\r\n    \r\n    [...]","title":"Jackson: Can not handle managed/back reference &#39;defaultReference&#39; with nested DTOs","body":"<p>recently with these two DTO I got this error</p>\n\n<blockquote>\n  <p>MappingJackson2HttpMessageConverter:163 - Failed to evaluate Jackson\n  deserialization for type [simple type, class seml.dto.PoiDto]:\n  java.lang.IllegalArgumentException: Can not handle managed/back\n  reference 'defaultReference': back reference type (java.util.Set) not\n  compatible with managed type (seml.dto.ConceptDto)</p>\n</blockquote>\n\n<p>As you can see in the code below, I have a Set of ConceptDto objects, that have respectively some sets of broaders/narrowers/relateds ConceptDto object. Surely I was wrong to use @JsonManagedReference/@JsonBackReference but I don't understand how. \nCan anybody help me with this issue? Thanks to everyone.</p>\n\n<p>PoiDto.java</p>\n\n<pre><code>public class PoiDto extends GenericDto&lt;String&gt;{\n\n    private String id;\n    private String uri;\n    private String title = \"\";\n    private String description = \"\";\n\n    @JsonManagedReference\n    private Set&lt;ConceptDto&gt; concepts = new HashSet&lt;ConceptDto&gt;();\n\n    @JsonManagedReference\n    @JsonBackReference\n    private Set&lt;PoiDto&gt; relatedPOIs = new HashSet&lt;PoiDto&gt;();\n\n    private Set&lt;ProductOrServiceDto&gt; relatedProductOrServices = new HashSet&lt;ProductOrServiceDto&gt;();\n[...]\n</code></pre>\n\n<p>ConceptDto.java</p>\n\n<pre><code>public class ConceptDto extends GenericDto&lt;String&gt; {\n\n    private String prefLabelIt;\n    private String prefLabelEn;\n    private String code;\n    private double rating;\n\n\n    @JsonBackReference\n    private Set&lt;ConceptDto&gt; broaders = new HashSet&lt;ConceptDto&gt;();\n\n    @JsonManagedReference\n    private Set&lt;ConceptDto&gt; narrowers = new HashSet&lt;ConceptDto&gt;();\n\n    @JsonIgnore\n    private Set&lt;ConceptDto&gt; relateds = new HashSet&lt;ConceptDto&gt;();\n\n[...]\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-studio","android-preferences"],"comments":[{"owner":{"account_id":345151,"reputation":6511,"user_id":1811719,"accept_rate":78,"display_name":"Stan"},"score":0,"creation_date":1428407980,"post_id":29491022,"comment_id":47141077,"body_markdown":"actually `Fragment` is much like `Activity` and it has `onResume` and `onPause` methods.","body":"actually <code>Fragment</code> is much like <code>Activity</code> and it has <code>onResume</code> and <code>onPause</code> methods."},{"owner":{"account_id":2897826,"reputation":1856,"user_id":2485196,"accept_rate":45,"display_name":"Asha Soman"},"score":0,"creation_date":1428408010,"post_id":29491022,"comment_id":47141097,"body_markdown":"Add this code inside onResume()","body":"Add this code inside onResume()"},{"owner":{"account_id":5640709,"reputation":1054,"user_id":4464680,"accept_rate":70,"display_name":"justdeko"},"score":0,"creation_date":1428408067,"post_id":29491022,"comment_id":47141139,"body_markdown":"what code? the one which makes the textview change? (textView.setText())","body":"what code? the one which makes the textview change? (textView.setText())"}],"answers":[{"tags":[],"owner":{"account_id":2897826,"reputation":1856,"user_id":2485196,"accept_rate":45,"display_name":"Asha Soman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1428410673,"creation_date":1428408353,"answer_id":29491163,"question_id":29491022,"body_markdown":"Create an interface like this\r\n\r\n    public interface NameChangedListener {\r\n    \tvoid nameChanged(String name);\r\n    }\r\n\r\nAdd the following code to your `MainActvity`\r\n\t\r\n\r\n    private WeakHashMap&lt;NameChangedListener, String&gt; nameChangedListenerHashMap;\r\n    \r\n    \tpublic void addNameChangedListener(\r\n    \t\t\tNameChangedListener nameChangedListener) {\r\n    \t\tif (nameChangedListenerHashMap == null) {\r\n    \t\t\tnameChangedListenerHashMap = new WeakHashMap&lt;NameChangedListener, String&gt;();\r\n    \t\t}\r\n    \t\tnameChangedListenerHashMap.put(nameChangedListener,\r\n    \t\t\t\t&quot;entry&quot;);\r\n    \t}\r\n    \r\n    \tprivate void fireNameChange() {\r\n    \t\tif (nameChangedListenerHashMap != null) {\r\n    \t\t\tIterator&lt;NameChangedListener&gt; iterator = nameChangedListenerHashMap\r\n    \t\t\t\t\t.keySet().iterator();\r\n    \t\t\twhile (iterator.hasNext()) {\r\n    \t\t\t\tNameChangedListener nameChangedListener = iterator.next();\r\n    \t\t\t\tif (nameChangedListener != null) {\r\n    \t\t\t\t\tSharedPreferences pref = PreferenceManager\r\n    \t\t\t\t\t\t\t.getDefaultSharedPreferences(this);\r\n    \t\t\t\t\tString name = pref.getString(&quot;example_text&quot;, &quot;&quot;);\r\n    \t\t\t\t\tnameChangedListener.nameChanged(name);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n        \t// TODO Auto-generated method stub\r\n        \tsuper.onResume();\r\n        \tfireNameChange();\r\n        }\r\n\r\nEdit your Fragment \r\n\r\n    public class PlaceholderFragment extends Fragment implements NameChangedListener{\r\n    \r\n    \tprivate TextView textView;\r\n    \r\n    \tprivate String previousName = null;\r\n    \r\n    \tpublic PlaceholderFragment() {\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n    \t\t\tBundle savedInstanceState) {\r\n    \r\n    \t\tLayoutInflater lf = getActivity().getLayoutInflater();\r\n    \t\tView rootView = lf.inflate(R.layout.fragment_frontpage, container,\r\n    \t\t\t\tfalse);\r\n    \t\tSharedPreferences pref = PreferenceManager\r\n    \t\t\t\t.getDefaultSharedPreferences(getActivity());\r\n    \t\tpreviousName = pref.getString(&quot;example_text&quot;, &quot;&quot;);\r\n    \t\ttextView = (TextView) rootView.findViewById(R.id.NameView);\r\n    \t\ttextView.setText(previousName);\r\n    \t\treturn rootView;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onAttach(Activity activity) {\r\n    \t\tsuper.onAttach(activity);\r\n    \t\t((MainActivity)activity).addNameChangedListener(this);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void nameChanged(String name) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tif (!name.equals(previousName)) {\r\n    \t\t\ttextView.setText(name);\r\n    \t\t\tpreviousName = name;\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nRefer : http://simpledeveloper.com/how-to-communicate-between-fragments-and-activities/\r\n\r\n","title":"Update Fragment after going back from another activity","body":"<p>Create an interface like this</p>\n\n<pre><code>public interface NameChangedListener {\n    void nameChanged(String name);\n}\n</code></pre>\n\n<p>Add the following code to your <code>MainActvity</code></p>\n\n<pre><code>private WeakHashMap&lt;NameChangedListener, String&gt; nameChangedListenerHashMap;\n\n    public void addNameChangedListener(\n            NameChangedListener nameChangedListener) {\n        if (nameChangedListenerHashMap == null) {\n            nameChangedListenerHashMap = new WeakHashMap&lt;NameChangedListener, String&gt;();\n        }\n        nameChangedListenerHashMap.put(nameChangedListener,\n                \"entry\");\n    }\n\n    private void fireNameChange() {\n        if (nameChangedListenerHashMap != null) {\n            Iterator&lt;NameChangedListener&gt; iterator = nameChangedListenerHashMap\n                    .keySet().iterator();\n            while (iterator.hasNext()) {\n                NameChangedListener nameChangedListener = iterator.next();\n                if (nameChangedListener != null) {\n                    SharedPreferences pref = PreferenceManager\n                            .getDefaultSharedPreferences(this);\n                    String name = pref.getString(\"example_text\", \"\");\n                    nameChangedListener.nameChanged(name);\n                }\n            }\n        }\n    }\n\n    @Override\n    protected void onResume() {\n        // TODO Auto-generated method stub\n        super.onResume();\n        fireNameChange();\n    }\n</code></pre>\n\n<p>Edit your Fragment </p>\n\n<pre><code>public class PlaceholderFragment extends Fragment implements NameChangedListener{\n\n    private TextView textView;\n\n    private String previousName = null;\n\n    public PlaceholderFragment() {\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState) {\n\n        LayoutInflater lf = getActivity().getLayoutInflater();\n        View rootView = lf.inflate(R.layout.fragment_frontpage, container,\n                false);\n        SharedPreferences pref = PreferenceManager\n                .getDefaultSharedPreferences(getActivity());\n        previousName = pref.getString(\"example_text\", \"\");\n        textView = (TextView) rootView.findViewById(R.id.NameView);\n        textView.setText(previousName);\n        return rootView;\n    }\n\n    @Override\n    public void onAttach(Activity activity) {\n        super.onAttach(activity);\n        ((MainActivity)activity).addNameChangedListener(this);\n    }\n\n    @Override\n    public void nameChanged(String name) {\n        // TODO Auto-generated method stub\n        if (!name.equals(previousName)) {\n            textView.setText(name);\n            previousName = name;\n        }\n    }\n\n}\n</code></pre>\n\n<p>Refer : <a href=\"http://simpledeveloper.com/how-to-communicate-between-fragments-and-activities/\" rel=\"nofollow\">http://simpledeveloper.com/how-to-communicate-between-fragments-and-activities/</a></p>\n"}],"owner":{"account_id":5640709,"reputation":1054,"user_id":4464680,"accept_rate":70,"display_name":"justdeko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1782,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29491163,"answer_count":1,"score":1,"last_activity_date":1676123598,"creation_date":1428407832,"question_id":29491022,"body_markdown":"In my app, I have my MainActivity, in this activity there is a fragment which displays the following thing: &quot;Hello, (yourname)&quot;. You can change &quot;yourname&quot; in the preferences activity. Here is the code for changing the name in the fragment:\r\n\r\n    public static class PlaceholderFragment extends Fragment {\r\n    \r\n            public PlaceholderFragment() {\r\n            }\r\n    \r\n            @Override\r\n            public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                     Bundle savedInstanceState) {\r\n    \r\n                LayoutInflater lf = getActivity().getLayoutInflater();\r\n                View rootView = lf.inflate(R.layout.fragment_frontpage, container, false);\r\n                SharedPreferences pref= PreferenceManager.getDefaultSharedPreferences(getActivity());\r\n                String text = pref.getString(&quot;example_text&quot;,&quot;&quot;);\r\n                TextView textView = (TextView) rootView.findViewById(R.id.NameView);\r\n                textView.setText(text);\r\n                return rootView;\r\n            }\r\n    \r\n    \r\n        }\r\nNameView is the id of the Textview for the name, &quot;example_text&quot; is the id for the preference key of the name-changer preference. Sounds good so far, right?\r\n\r\nWell, now the problem: When changing the name in the preference activity, and thus the preference value of &quot;example_text&quot;, I press back and the frontpage (my MainActivity), appears. BUT, the name doesn&#39;t change immediately, I have to kill the app in my taskmanager, or go to &quot;about this app&quot; and terminate the process. After that, and only then, the new name is being displayed in my fragment if I reopen the app again. \r\n\r\nWell, I have figured I need somehow to update the fragment when going back to my MainActivity. Probably use onBackPressed. But the question is, how?\r\n\r\nEDIT: Error when switching to landscape:\r\n\r\n    4-07 19:51:37.825    7831-7831/com.package.appname E/AndroidRuntime﹕ FATAL EXCEPTION: main\r\n    Process: com.package.appname, PID: 7831\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.package.appname/com.package.appname.Frontpage}: android.support.v4.app.Fragment$InstantiationException: Unable to instantiate fragment com.package.appname.Frontpage$PlaceholderFragment: make sure class name exists, is public, and has an empty constructor that is public\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2298)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2360)\r\n            at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3912)\r\n            at android.app.ActivityThread.access$900(ActivityThread.java:144)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1284)\r\n            at android.os.Handler.dispatchMessage(Handler.java:102)\r\n            at android.os.Looper.loop(Looper.java:135)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5221)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:372)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\r\n     Caused by: android.support.v4.app.Fragment$InstantiationException: Unable to instantiate fragment com.package.appname.Frontpage$PlaceholderFragment: make sure class name exists, is public, and has an empty constructor that is public\r\n            at android.support.v4.app.Fragment.instantiate(Fragment.java:431)\r\n            at android.support.v4.app.FragmentState.instantiate(Fragment.java:101)\r\n            at android.support.v4.app.FragmentManagerImpl.restoreAllState(FragmentManager.java:1833)\r\n            at android.support.v4.app.FragmentActivity.onCreate(FragmentActivity.java:264)\r\n            at android.support.v7.app.ActionBarActivity.onCreate(ActionBarActivity.java:122)\r\n            at com.package.appname.Frontpage.onCreate(Frontpage.java:68)\r\n            at android.app.Activity.performCreate(Activity.java:5933)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2251)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2360)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3912)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.access$900(ActivityThread.java:144)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1284)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Looper.loop(Looper.java:135)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.main(ActivityThread.java:5221)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invoke(Native Method)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invoke(Method.java:372)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\r\n     Caused by: java.lang.InstantiationException: class com.package.appname.Frontpage$PlaceholderFragment has no zero argument constructor\r\n            at java.lang.Class.newInstance(Class.java:1563)\r\n            at android.support.v4.app.Fragment.instantiate(Fragment.java:420)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.support.v4.app.FragmentState.instantiate(Fragment.java:101)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.support.v4.app.FragmentManagerImpl.restoreAllState(FragmentManager.java:1833)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.support.v4.app.FragmentActivity.onCreate(FragmentActivity.java:264)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.support.v7.app.ActionBarActivity.onCreate(ActionBarActivity.java:122)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.package.appname.Frontpage.onCreate(Frontpage.java:68)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.Activity.performCreate(Activity.java:5933)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2251)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2360)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3912)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.access$900(ActivityThread.java:144)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1284)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Looper.loop(Looper.java:135)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.main(ActivityThread.java:5221)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invoke(Native Method)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invoke(Method.java:372)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\r\n     Caused by: java.lang.NoSuchMethodException: &lt;init&gt; []\r\n            at java.lang.Class.getConstructor(Class.java:531)\r\n            at java.lang.Class.getDeclaredConstructor(Class.java:510)\r\n            at java.lang.Class.newInstance(Class.java:1561)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.support.v4.app.Fragment.instantiate(Fragment.java:420)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.support.v4.app.FragmentState.instantiate(Fragment.java:101)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.support.v4.app.FragmentManagerImpl.restoreAllState(FragmentManager.java:1833)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.support.v4.app.FragmentActivity.onCreate(FragmentActivity.java:264)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.support.v7.app.ActionBarActivity.onCreate(ActionBarActivity.java:122)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.package.appname.Frontpage.onCreate(Frontpage.java:68)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.Activity.performCreate(Activity.java:5933)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2251)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2360)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3912)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.access$900(ActivityThread.java:144)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1284)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Looper.loop(Looper.java:135)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.main(ActivityThread.java:5221)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invoke(Native Method)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invoke(Method.java:372)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)","title":"Update Fragment after going back from another activity","body":"<p>In my app, I have my MainActivity, in this activity there is a fragment which displays the following thing: &quot;Hello, (yourname)&quot;. You can change &quot;yourname&quot; in the preferences activity. Here is the code for changing the name in the fragment:</p>\n<pre><code>public static class PlaceholderFragment extends Fragment {\n\n        public PlaceholderFragment() {\n        }\n\n        @Override\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                                 Bundle savedInstanceState) {\n\n            LayoutInflater lf = getActivity().getLayoutInflater();\n            View rootView = lf.inflate(R.layout.fragment_frontpage, container, false);\n            SharedPreferences pref= PreferenceManager.getDefaultSharedPreferences(getActivity());\n            String text = pref.getString(&quot;example_text&quot;,&quot;&quot;);\n            TextView textView = (TextView) rootView.findViewById(R.id.NameView);\n            textView.setText(text);\n            return rootView;\n        }\n\n\n    }\n</code></pre>\n<p>NameView is the id of the Textview for the name, &quot;example_text&quot; is the id for the preference key of the name-changer preference. Sounds good so far, right?</p>\n<p>Well, now the problem: When changing the name in the preference activity, and thus the preference value of &quot;example_text&quot;, I press back and the frontpage (my MainActivity), appears. BUT, the name doesn't change immediately, I have to kill the app in my taskmanager, or go to &quot;about this app&quot; and terminate the process. After that, and only then, the new name is being displayed in my fragment if I reopen the app again.</p>\n<p>Well, I have figured I need somehow to update the fragment when going back to my MainActivity. Probably use onBackPressed. But the question is, how?</p>\n<p>EDIT: Error when switching to landscape:</p>\n<pre><code>4-07 19:51:37.825    7831-7831/com.package.appname E/AndroidRuntime﹕ FATAL EXCEPTION: main\nProcess: com.package.appname, PID: 7831\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.package.appname/com.package.appname.Frontpage}: android.support.v4.app.Fragment$InstantiationException: Unable to instantiate fragment com.package.appname.Frontpage$PlaceholderFragment: make sure class name exists, is public, and has an empty constructor that is public\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2298)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2360)\n        at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3912)\n        at android.app.ActivityThread.access$900(ActivityThread.java:144)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1284)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5221)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\n Caused by: android.support.v4.app.Fragment$InstantiationException: Unable to instantiate fragment com.package.appname.Frontpage$PlaceholderFragment: make sure class name exists, is public, and has an empty constructor that is public\n        at android.support.v4.app.Fragment.instantiate(Fragment.java:431)\n        at android.support.v4.app.FragmentState.instantiate(Fragment.java:101)\n        at android.support.v4.app.FragmentManagerImpl.restoreAllState(FragmentManager.java:1833)\n        at android.support.v4.app.FragmentActivity.onCreate(FragmentActivity.java:264)\n        at android.support.v7.app.ActionBarActivity.onCreate(ActionBarActivity.java:122)\n        at com.package.appname.Frontpage.onCreate(Frontpage.java:68)\n        at android.app.Activity.performCreate(Activity.java:5933)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2251)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2360)\n            at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3912)\n            at android.app.ActivityThread.access$900(ActivityThread.java:144)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1284)\n            at android.os.Handler.dispatchMessage(Handler.java:102)\n            at android.os.Looper.loop(Looper.java:135)\n            at android.app.ActivityThread.main(ActivityThread.java:5221)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:372)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\n Caused by: java.lang.InstantiationException: class com.package.appname.Frontpage$PlaceholderFragment has no zero argument constructor\n        at java.lang.Class.newInstance(Class.java:1563)\n        at android.support.v4.app.Fragment.instantiate(Fragment.java:420)\n            at android.support.v4.app.FragmentState.instantiate(Fragment.java:101)\n            at android.support.v4.app.FragmentManagerImpl.restoreAllState(FragmentManager.java:1833)\n            at android.support.v4.app.FragmentActivity.onCreate(FragmentActivity.java:264)\n            at android.support.v7.app.ActionBarActivity.onCreate(ActionBarActivity.java:122)\n            at com.package.appname.Frontpage.onCreate(Frontpage.java:68)\n            at android.app.Activity.performCreate(Activity.java:5933)\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2251)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2360)\n            at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3912)\n            at android.app.ActivityThread.access$900(ActivityThread.java:144)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1284)\n            at android.os.Handler.dispatchMessage(Handler.java:102)\n            at android.os.Looper.loop(Looper.java:135)\n            at android.app.ActivityThread.main(ActivityThread.java:5221)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:372)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\n Caused by: java.lang.NoSuchMethodException: &lt;init&gt; []\n        at java.lang.Class.getConstructor(Class.java:531)\n        at java.lang.Class.getDeclaredConstructor(Class.java:510)\n        at java.lang.Class.newInstance(Class.java:1561)\n            at android.support.v4.app.Fragment.instantiate(Fragment.java:420)\n            at android.support.v4.app.FragmentState.instantiate(Fragment.java:101)\n            at android.support.v4.app.FragmentManagerImpl.restoreAllState(FragmentManager.java:1833)\n            at android.support.v4.app.FragmentActivity.onCreate(FragmentActivity.java:264)\n            at android.support.v7.app.ActionBarActivity.onCreate(ActionBarActivity.java:122)\n            at com.package.appname.Frontpage.onCreate(Frontpage.java:68)\n            at android.app.Activity.performCreate(Activity.java:5933)\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2251)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2360)\n            at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:3912)\n            at android.app.ActivityThread.access$900(ActivityThread.java:144)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1284)\n            at android.os.Handler.dispatchMessage(Handler.java:102)\n            at android.os.Looper.loop(Looper.java:135)\n            at android.app.ActivityThread.main(ActivityThread.java:5221)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:372)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\n</code></pre>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":158872,"reputation":2509,"user_id":377816,"accept_rate":81,"display_name":"Moataz Elmasry"},"score":0,"creation_date":1359119214,"post_id":14522239,"comment_id":20248307,"body_markdown":"so in summary, you have two directory structures with files and you want to compare the two structures together?","body":"so in summary, you have two directory structures with files and you want to compare the two structures together?"},{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1359119295,"post_id":14522239,"comment_id":20248344,"body_markdown":"Yes. That&#39;s right. For now, I don&#39;t even care what the differences are. I just need to know if they are equal or not.","body":"Yes. That&#39;s right. For now, I don&#39;t even care what the differences are. I just need to know if they are equal or not."},{"owner":{"account_id":50566,"reputation":9545,"user_id":150884,"accept_rate":83,"display_name":"hertzsprung"},"score":1,"creation_date":1359301812,"post_id":14522239,"comment_id":20295284,"body_markdown":"If you&#39;re using Java 7, perhaps you could create two [FileVisitors](http://docs.oracle.com/javase/7/docs/api/java/nio/file/FileVisitor.html) and walk the trees?","body":"If you&#39;re using Java 7, perhaps you could create two <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/FileVisitor.html\" rel=\"nofollow noreferrer\">FileVisitors</a> and walk the trees?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1486917437,"post_id":14522239,"comment_id":71542221,"body_markdown":"Are you on Unix? `diff -r`","body":"Are you on Unix? <code>diff -r</code>"},{"owner":{"account_id":3011114,"reputation":1412,"user_id":2554622,"display_name":"Ashish Shetkar"},"score":0,"creation_date":1596037262,"post_id":14522239,"comment_id":111683029,"body_markdown":"there one very nice example here -   http://coddicted.com/to-compare-two-folders-recursively-in-java-2/","body":"there one very nice example here -   <a href=\"http://coddicted.com/to-compare-two-folders-recursively-in-java-2/\" rel=\"nofollow noreferrer\">coddicted.com/to-compare-two-folders-recursively-in-java-2</a>"}],"answers":[{"tags":[],"owner":{"account_id":1453812,"reputation":3793,"user_id":1369992,"accept_rate":58,"display_name":"Aakash Anuj"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1359118800,"creation_date":1359118800,"answer_id":14522311,"question_id":14522239,"body_markdown":"    import java.io.File;\r\n    \r\n    /**\r\n     * \r\n     * FileUtils is a collection of routines for common file system operations.\r\n     * \r\n     * @author Dan Jemiolo (danj)\r\n     * \r\n     */\r\n    \r\n    public final class FileUtils {\r\n    \r\n      /**\r\n       * \r\n       * This is a convenience method that calls find(File, String, boolean) with\r\n       * the last parameter set to &quot;false&quot; (does not match directories).\r\n       * \r\n       * @see #find(File, String, boolean)\r\n       * \r\n       */\r\n      public static File find(File contextRoot, String fileName) {\r\n        return find(contextRoot, fileName, false);\r\n      }\r\n    \r\n      /**\r\n       * \r\n       * Searches through the directory tree under the given context directory and\r\n       * finds the first file that matches the file name. If the third parameter is\r\n       * true, the method will also try to match directories, not just &quot;regular&quot;\r\n       * files.\r\n       * \r\n       * @param contextRoot\r\n       *          The directory to start the search from.\r\n       * \r\n       * @param fileName\r\n       *          The name of the file (or directory) to search for.\r\n       * \r\n       * @param matchDirectories\r\n       *          True if the method should try and match the name against directory\r\n       *          names, not just file names.\r\n       * \r\n       * @return The java.io.File representing the &lt;em&gt;first&lt;/em&gt; file or\r\n       *         directory with the given name, or null if it was not found.\r\n       * \r\n       */\r\n      public static File find(File contextRoot, String fileName, boolean matchDirectories) {\r\n        if (contextRoot == null)\r\n          throw new NullPointerException(&quot;NullContextRoot&quot;);\r\n    \r\n        if (fileName == null)\r\n          throw new NullPointerException(&quot;NullFileName&quot;);\r\n    \r\n        if (!contextRoot.isDirectory()) {\r\n          Object[] filler = { contextRoot.getAbsolutePath() };\r\n          String message = &quot;NotDirectory&quot;;\r\n          throw new IllegalArgumentException(message);\r\n        }\r\n    \r\n        File[] files = contextRoot.listFiles();\r\n    \r\n        //\r\n        // for all children of the current directory...\r\n        //\r\n        for (int n = 0; n &lt; files.length; ++n) {\r\n          String nextName = files[n].getName();\r\n    \r\n          //\r\n          // if we find a directory, there are two possibilities:\r\n          //\r\n          // 1. the names match, AND we are told to match directories.\r\n          // in this case we&#39;re done\r\n          //\r\n          // 2. not told to match directories, so recurse\r\n          //\r\n          if (files[n].isDirectory()) {\r\n            if (nextName.equals(fileName) &amp;&amp; matchDirectories)\r\n              return files[n];\r\n    \r\n            File match = find(files[n], fileName);\r\n    \r\n            if (match != null)\r\n              return match;\r\n          }\r\n    \r\n          //\r\n          // in the case of regular files, just check the names\r\n          //\r\n          else if (nextName.equals(fileName))\r\n            return files[n];\r\n        }\r\n    \r\n        return null;\r\n      }\r\n    \r\n    }","title":"Test two directory trees for equality","body":"<pre><code>import java.io.File;\n\n/**\n * \n * FileUtils is a collection of routines for common file system operations.\n * \n * @author Dan Jemiolo (danj)\n * \n */\n\npublic final class FileUtils {\n\n  /**\n   * \n   * This is a convenience method that calls find(File, String, boolean) with\n   * the last parameter set to \"false\" (does not match directories).\n   * \n   * @see #find(File, String, boolean)\n   * \n   */\n  public static File find(File contextRoot, String fileName) {\n    return find(contextRoot, fileName, false);\n  }\n\n  /**\n   * \n   * Searches through the directory tree under the given context directory and\n   * finds the first file that matches the file name. If the third parameter is\n   * true, the method will also try to match directories, not just \"regular\"\n   * files.\n   * \n   * @param contextRoot\n   *          The directory to start the search from.\n   * \n   * @param fileName\n   *          The name of the file (or directory) to search for.\n   * \n   * @param matchDirectories\n   *          True if the method should try and match the name against directory\n   *          names, not just file names.\n   * \n   * @return The java.io.File representing the &lt;em&gt;first&lt;/em&gt; file or\n   *         directory with the given name, or null if it was not found.\n   * \n   */\n  public static File find(File contextRoot, String fileName, boolean matchDirectories) {\n    if (contextRoot == null)\n      throw new NullPointerException(\"NullContextRoot\");\n\n    if (fileName == null)\n      throw new NullPointerException(\"NullFileName\");\n\n    if (!contextRoot.isDirectory()) {\n      Object[] filler = { contextRoot.getAbsolutePath() };\n      String message = \"NotDirectory\";\n      throw new IllegalArgumentException(message);\n    }\n\n    File[] files = contextRoot.listFiles();\n\n    //\n    // for all children of the current directory...\n    //\n    for (int n = 0; n &lt; files.length; ++n) {\n      String nextName = files[n].getName();\n\n      //\n      // if we find a directory, there are two possibilities:\n      //\n      // 1. the names match, AND we are told to match directories.\n      // in this case we're done\n      //\n      // 2. not told to match directories, so recurse\n      //\n      if (files[n].isDirectory()) {\n        if (nextName.equals(fileName) &amp;&amp; matchDirectories)\n          return files[n];\n\n        File match = find(files[n], fileName);\n\n        if (match != null)\n          return match;\n      }\n\n      //\n      // in the case of regular files, just check the names\n      //\n      else if (nextName.equals(fileName))\n        return files[n];\n    }\n\n    return null;\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":158872,"reputation":2509,"user_id":377816,"accept_rate":81,"display_name":"Moataz Elmasry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359119806,"creation_date":1359119806,"answer_id":14522575,"question_id":14522239,"body_markdown":"OK so I don&#39;t know of any ready piece of code that does that and search didn&#39;t help either. So here is how I would implement it\r\n\r\n 1. iterate recursively on all folders and files\r\n 2. save all file names with relative path from root in a hashset, where the relative path is the key/value\r\n 3. iterate recursively on the second directory structure and create a from each path to match the keys in the hashet (if the folder/file exists)\r\n\r\nIf you just want to mark the tree as changed/not changed, you can save the hash of each file, then you need a hashmap instead of hashset, where the hash of the contents of each file is the value of the hashmap\r\n\r\nhope this helps","title":"Test two directory trees for equality","body":"<p>OK so I don't know of any ready piece of code that does that and search didn't help either. So here is how I would implement it</p>\n\n<ol>\n<li>iterate recursively on all folders and files</li>\n<li>save all file names with relative path from root in a hashset, where the relative path is the key/value</li>\n<li>iterate recursively on the second directory structure and create a from each path to match the keys in the hashet (if the folder/file exists)</li>\n</ol>\n\n<p>If you just want to mark the tree as changed/not changed, you can save the hash of each file, then you need a hashmap instead of hashset, where the hash of the contents of each file is the value of the hashmap</p>\n\n<p>hope this helps</p>\n"},{"tags":[],"owner":{"account_id":461690,"reputation":7669,"user_id":863564,"accept_rate":93,"display_name":"Lorenzo Dematt&#233;"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1359120904,"creation_date":1359120479,"answer_id":14522747,"question_id":14522239,"body_markdown":"I am not aware of any `areDirsEqual` library; the closest I can think of is the listFiles method in Commons [`FileUtils`](http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html). \r\n\r\nIf you put the resulting collections in a `HashSet`, you should be able to compare the two sets efficiently. And it can be done in 2 lines, maybe even a one-liner.\r\n\r\nSomething on this line:\r\n\r\n    public static boolean areDirsEqual(File dir, File dir2) {\r\n      return (new HashSet&lt;File&gt;(FileUtils.listFiles(dir1,..))).\r\n              containsAll(FileUtils.listFiles(dir2, ..))\r\n    }","title":"Test two directory trees for equality","body":"<p>I am not aware of any <code>areDirsEqual</code> library; the closest I can think of is the listFiles method in Commons <a href=\"http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html\" rel=\"nofollow\"><code>FileUtils</code></a>. </p>\n\n<p>If you put the resulting collections in a <code>HashSet</code>, you should be able to compare the two sets efficiently. And it can be done in 2 lines, maybe even a one-liner.</p>\n\n<p>Something on this line:</p>\n\n<pre><code>public static boolean areDirsEqual(File dir, File dir2) {\n  return (new HashSet&lt;File&gt;(FileUtils.listFiles(dir1,..))).\n          containsAll(FileUtils.listFiles(dir2, ..))\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":139857,"reputation":799,"user_id":345718,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1676123009,"creation_date":1474333514,"answer_id":39584230,"question_id":14522239,"body_markdown":"I am not using a third party lib but standard jdk lib.\r\n\r\n\r\n```java\r\nimport java.io.File\r\nimport java.io.IOException\r\nimport java.nio.file.FileVisitResult\r\nimport java.nio.file.Path\r\nimport java.nio.file.Files\r\nimport java.nio.file.SimpleFileVisitor\r\nimport java.nio.file.attribute.BasicFileAttributes\r\nimport java.util.Arrays\r\n\r\nprivate static void verifyDirsAreEqual(Path one, Path other) throws IOException {\r\n    Files.walkFileTree(one, new SimpleFileVisitor&lt;Path&gt;() {\r\n        @Override\r\n        public FileVisitResult visitFile(Path file,\r\n               BasicFileAttributes attrs)\r\n                throws IOException {\r\n            FileVisitResult result = super.visitFile(file, attrs);\r\n\r\n            // get the relative file name from path &quot;one&quot;\r\n            Path relativize = one.relativize(file);\r\n            // construct the path for the counterpart file in &quot;other&quot;\r\n            Path fileInOther = other.resolve(relativize);\r\n            log.debug(&quot;=== comparing: {} to {}&quot;, file, fileInOther);\r\n\r\n            byte[] otherBytes = Files.readAllBytes(fileInOther);\r\n            byte[] theseBytes = Files.readAllBytes(file);\r\n            if (!Arrays.equals(otherBytes, theseBytes)) {\r\n                throw new AssertionFailedError(file + &quot; is not equal to &quot; + fileInOther);\r\n            }  \r\n            return result;\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nNote: this is just comparing actual files under two folders. If you have empty folders etc you want to compare too, you may need to do some extra things.","title":"Test two directory trees for equality","body":"<p>I am not using a third party lib but standard jdk lib.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File\nimport java.io.IOException\nimport java.nio.file.FileVisitResult\nimport java.nio.file.Path\nimport java.nio.file.Files\nimport java.nio.file.SimpleFileVisitor\nimport java.nio.file.attribute.BasicFileAttributes\nimport java.util.Arrays\n\nprivate static void verifyDirsAreEqual(Path one, Path other) throws IOException {\n    Files.walkFileTree(one, new SimpleFileVisitor&lt;Path&gt;() {\n        @Override\n        public FileVisitResult visitFile(Path file,\n               BasicFileAttributes attrs)\n                throws IOException {\n            FileVisitResult result = super.visitFile(file, attrs);\n\n            // get the relative file name from path &quot;one&quot;\n            Path relativize = one.relativize(file);\n            // construct the path for the counterpart file in &quot;other&quot;\n            Path fileInOther = other.resolve(relativize);\n            log.debug(&quot;=== comparing: {} to {}&quot;, file, fileInOther);\n\n            byte[] otherBytes = Files.readAllBytes(fileInOther);\n            byte[] theseBytes = Files.readAllBytes(file);\n            if (!Arrays.equals(otherBytes, theseBytes)) {\n                throw new AssertionFailedError(file + &quot; is not equal to &quot; + fileInOther);\n            }  \n            return result;\n        }\n    });\n}\n</code></pre>\n<p>Note: this is just comparing actual files under two folders. If you have empty folders etc you want to compare too, you may need to do some extra things.</p>\n"},{"tags":[],"owner":{"account_id":4584169,"reputation":2531,"user_id":3819421,"display_name":"Lety"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1479994511,"creation_date":1479994511,"answer_id":40787814,"question_id":14522239,"body_markdown":"I had same problem and following Patrick and Lorenzo Dematt&#233; I found a solution that works for me. The following code walks through folder and:\r\n\r\n - for each sub-folder checks if file lists are the same\r\n - for each file compares the contents (in my case I have to compare two folders that contain csv files)\r\n\r\nI tested it on linux.\r\n \r\n\r\n      private static void verifyDirsAreEqual(File expected, File generated) \r\n                    throws IOException {\r\n    \r\n    \t// Checks parameters \r\n    \tassertTrue(&quot;Generated Folder doesn&#39;t exist: &quot; + generated,generated.exists());\r\n    \tassertTrue(&quot;Generated is not a folder?!?!: &quot; + generated,generated.isDirectory());\r\n    \t\r\n    \tassertTrue(&quot;Expected Folder doesn&#39;t exist: &quot; + expected,expected.exists());\r\n    \tassertTrue(&quot;Expected is not a folder?!?!: &quot; + expected,expected.isDirectory());\t\t\r\n    \t\r\n    \tFiles.walkFileTree(expected.toPath(), new SimpleFileVisitor&lt;Path&gt;() {\r\n            @Override\r\n    \t\tpublic FileVisitResult preVisitDirectory(Path dir,\r\n                    BasicFileAttributes attrs)\r\n                      throws IOException {\r\n            \tFileVisitResult result = super.preVisitDirectory(dir, attrs);\r\n            \t\r\n            \t// get the relative file name from path &quot;expected&quot;\r\n                Path relativize = expected.toPath().relativize(dir);\r\n                // construct the path for the counterpart file in &quot;generated&quot;\r\n                File otherDir = generated.toPath().resolve(relativize).toFile();\r\n                log.debug(&quot;=== preVisitDirectory === compare &quot; + dir + &quot; to &quot; + otherDir);\r\n                assertEquals(&quot;Folders doesn&#39;t contain same file!?!?&quot;,\r\n                        Arrays.toString(dir.toFile().list()),\r\n                        Arrays.toString(otherDir.list()));\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t\t@Override\r\n            public FileVisitResult visitFile(Path file,\r\n                    BasicFileAttributes attrs)\r\n                    throws IOException {\r\n                FileVisitResult result = super.visitFile(file, attrs);\r\n    \r\n                // get the relative file name from path &quot;expected&quot;\r\n                Path relativize = expected.toPath().relativize(file);\r\n                // construct the path for the counterpart file in &quot;generated&quot;\r\n                File fileInOther = generated.toPath().resolve(relativize).toFile();\r\n                log.debug(&quot;=== comparing: &quot; + file + &quot; to &quot; + fileInOther);\r\n                String expectedContents = FileUtils.readFileToString(file.toFile());\r\n                String generatedContents = FileUtils.readFileToString(fileInOther);\r\n    \t\t\tassertEquals(&quot;(&quot;+fileInOther+&quot;)  csv standard doesn&#39;t match expected (&quot;+file+&quot;)!&quot;, expectedContents, generatedContents);\t\t\t\t\t\r\n                return result;\r\n            }\r\n        });\r\n    }\r\n\r\n","title":"Test two directory trees for equality","body":"<p>I had same problem and following Patrick and Lorenzo Dematté I found a solution that works for me. The following code walks through folder and:</p>\n\n<ul>\n<li>for each sub-folder checks if file lists are the same</li>\n<li>for each file compares the contents (in my case I have to compare two folders that contain csv files)</li>\n</ul>\n\n<p>I tested it on linux.</p>\n\n<pre><code>  private static void verifyDirsAreEqual(File expected, File generated) \n                throws IOException {\n\n    // Checks parameters \n    assertTrue(\"Generated Folder doesn't exist: \" + generated,generated.exists());\n    assertTrue(\"Generated is not a folder?!?!: \" + generated,generated.isDirectory());\n\n    assertTrue(\"Expected Folder doesn't exist: \" + expected,expected.exists());\n    assertTrue(\"Expected is not a folder?!?!: \" + expected,expected.isDirectory());     \n\n    Files.walkFileTree(expected.toPath(), new SimpleFileVisitor&lt;Path&gt;() {\n        @Override\n        public FileVisitResult preVisitDirectory(Path dir,\n                BasicFileAttributes attrs)\n                  throws IOException {\n            FileVisitResult result = super.preVisitDirectory(dir, attrs);\n\n            // get the relative file name from path \"expected\"\n            Path relativize = expected.toPath().relativize(dir);\n            // construct the path for the counterpart file in \"generated\"\n            File otherDir = generated.toPath().resolve(relativize).toFile();\n            log.debug(\"=== preVisitDirectory === compare \" + dir + \" to \" + otherDir);\n            assertEquals(\"Folders doesn't contain same file!?!?\",\n                    Arrays.toString(dir.toFile().list()),\n                    Arrays.toString(otherDir.list()));\n            return result;\n        }\n        @Override\n        public FileVisitResult visitFile(Path file,\n                BasicFileAttributes attrs)\n                throws IOException {\n            FileVisitResult result = super.visitFile(file, attrs);\n\n            // get the relative file name from path \"expected\"\n            Path relativize = expected.toPath().relativize(file);\n            // construct the path for the counterpart file in \"generated\"\n            File fileInOther = generated.toPath().resolve(relativize).toFile();\n            log.debug(\"=== comparing: \" + file + \" to \" + fileInOther);\n            String expectedContents = FileUtils.readFileToString(file.toFile());\n            String generatedContents = FileUtils.readFileToString(fileInOther);\n            assertEquals(\"(\"+fileInOther+\")  csv standard doesn't match expected (\"+file+\")!\", expectedContents, generatedContents);                    \n            return result;\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5691245,"reputation":365,"user_id":4499265,"display_name":"jfx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487436727,"creation_date":1486915357,"answer_id":42189853,"question_id":14522239,"body_markdown":"This is a simple iterative solution using the Java NIO package (without using the Visitor pattern, so it can be adapted for earlier Java versions as well).\r\n\r\nOf course it could be tuned, but for now this is an easy solution checking from the view of both directories if every file occurs and optionally compare the file content using the Apache Commons FileUtils.\r\n\r\n    /**\r\n     * checks if the directory file lists and file content is equal\r\n     * \r\n     * @param directory\r\n     *            the directory\r\n     * @param compareDirectory\r\n     *            the directory to compare with\r\n     * @param checkFileContent\r\n     *            also compare file content\r\n     * @return true if directory and compareDirectory are equal\r\n     * @throws IOException\r\n     */\r\n    public static boolean isEqualDirectories(Path directory, Path compareDirectory, boolean checkFileContent) throws IOException {\r\n        boolean check = isEverythingInCompareDirectory(directory, compareDirectory, checkFileContent);\r\n        boolean checkOpposite = check &amp;&amp; isEverythingInCompareDirectory(directory, compareDirectory, checkFileContent);\r\n        return check &amp;&amp; checkOpposite;\r\n\r\n    }\r\n\r\n    /**\r\n     * checks if the directory file lists and file content is equal\r\n     * \r\n     * @param directory\r\n     *            the directory\r\n     * @param compareDirectory\r\n     *            the directory to compare with\r\n     * @param checkFileContent\r\n     *            also compare file content\r\n     * @return true if directory and compareDirectory are equal\r\n     * @throws IOException\r\n     */\r\n    public static boolean isEverythingInCompareDirectory(Path directory, Path compareDirectory, boolean checkFileContent)\r\n            throws IOException {\r\n\r\n        try {\r\n            LOGGER.info(&quot;checking directory &quot; + directory);\r\n\r\n            File directoryFile = directory.toFile();\r\n            File compareFile = compareDirectory.toFile();\r\n            \r\n            // check, if there is the same number of files/subdirectories\r\n            File[] directoryFiles = directoryFile.listFiles();\r\n            File[] compareFiles = compareFile.listFiles();\r\n            \r\n            if (directoryFiles.length == compareFiles.length) {\r\n                return compareDirectoryContents(directory, compareDirectory, checkFileContent);\r\n\r\n            } else {\r\n                LOGGER.info(&quot;number of files in directory are different &quot; + directoryFiles.length + &quot; vs compareDirectory: &quot; + compareFiles.length);\r\n                return false;\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Failed to assert that all files are equal&quot;, e);\r\n        }\r\n    }\r\n\r\n    public static boolean compareDirectoryContents(Path directory, Path compareDirectory, boolean checkFileContent) throws IOException {\r\n        try (DirectoryStream&lt;Path&gt; directoryStream = Files.newDirectoryStream(directory)) {\r\n\r\n            for (Path directoryFilePath : directoryStream) {\r\n\r\n                // search for directoryFile in the compareDirectory\r\n                Path compareFilePath = compareDirectory.resolve(directoryFilePath.getFileName());\r\n\r\n                if (compareFilePath != null) {\r\n\r\n                    File directoryFile = directoryFilePath.toFile();\r\n                    if (directoryFile.isFile()) {\r\n                        LOGGER.info(&quot;checking file &quot; + directoryFilePath);\r\n                        if (checkFileContent &amp;&amp; !FileUtils.contentEquals(compareFilePath.toFile(), directoryFile)) {\r\n                            LOGGER.info(&quot;files not equal: compare: &quot; + compareFilePath.toFile() + &quot;, directory: &quot; + directoryFilePath.getFileName() + &quot;!&quot;);\r\n                            return false;\r\n                        }\r\n\r\n                    } else {\r\n                        LOGGER.info(&quot;going into recursion with directory &quot; + directoryFilePath);\r\n                        boolean result = isEverythingInCompareDirectory(directoryFilePath, compareFilePath, checkFileContent);\r\n                        // cancel if not equal, otherwise continue processing\r\n                        if (!result) {\r\n                            return false;\r\n                        }\r\n\r\n                    }\r\n                } else {\r\n                    LOGGER.info(directoryFilePath.toString() + &quot;: compareFilepath not found&quot;);\r\n                    return false;\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }","title":"Test two directory trees for equality","body":"<p>This is a simple iterative solution using the Java NIO package (without using the Visitor pattern, so it can be adapted for earlier Java versions as well).</p>\n\n<p>Of course it could be tuned, but for now this is an easy solution checking from the view of both directories if every file occurs and optionally compare the file content using the Apache Commons FileUtils.</p>\n\n<pre><code>/**\n * checks if the directory file lists and file content is equal\n * \n * @param directory\n *            the directory\n * @param compareDirectory\n *            the directory to compare with\n * @param checkFileContent\n *            also compare file content\n * @return true if directory and compareDirectory are equal\n * @throws IOException\n */\npublic static boolean isEqualDirectories(Path directory, Path compareDirectory, boolean checkFileContent) throws IOException {\n    boolean check = isEverythingInCompareDirectory(directory, compareDirectory, checkFileContent);\n    boolean checkOpposite = check &amp;&amp; isEverythingInCompareDirectory(directory, compareDirectory, checkFileContent);\n    return check &amp;&amp; checkOpposite;\n\n}\n\n/**\n * checks if the directory file lists and file content is equal\n * \n * @param directory\n *            the directory\n * @param compareDirectory\n *            the directory to compare with\n * @param checkFileContent\n *            also compare file content\n * @return true if directory and compareDirectory are equal\n * @throws IOException\n */\npublic static boolean isEverythingInCompareDirectory(Path directory, Path compareDirectory, boolean checkFileContent)\n        throws IOException {\n\n    try {\n        LOGGER.info(\"checking directory \" + directory);\n\n        File directoryFile = directory.toFile();\n        File compareFile = compareDirectory.toFile();\n\n        // check, if there is the same number of files/subdirectories\n        File[] directoryFiles = directoryFile.listFiles();\n        File[] compareFiles = compareFile.listFiles();\n\n        if (directoryFiles.length == compareFiles.length) {\n            return compareDirectoryContents(directory, compareDirectory, checkFileContent);\n\n        } else {\n            LOGGER.info(\"number of files in directory are different \" + directoryFiles.length + \" vs compareDirectory: \" + compareFiles.length);\n            return false;\n        }\n\n    } catch (IOException e) {\n        throw new RuntimeException(\"Failed to assert that all files are equal\", e);\n    }\n}\n\npublic static boolean compareDirectoryContents(Path directory, Path compareDirectory, boolean checkFileContent) throws IOException {\n    try (DirectoryStream&lt;Path&gt; directoryStream = Files.newDirectoryStream(directory)) {\n\n        for (Path directoryFilePath : directoryStream) {\n\n            // search for directoryFile in the compareDirectory\n            Path compareFilePath = compareDirectory.resolve(directoryFilePath.getFileName());\n\n            if (compareFilePath != null) {\n\n                File directoryFile = directoryFilePath.toFile();\n                if (directoryFile.isFile()) {\n                    LOGGER.info(\"checking file \" + directoryFilePath);\n                    if (checkFileContent &amp;&amp; !FileUtils.contentEquals(compareFilePath.toFile(), directoryFile)) {\n                        LOGGER.info(\"files not equal: compare: \" + compareFilePath.toFile() + \", directory: \" + directoryFilePath.getFileName() + \"!\");\n                        return false;\n                    }\n\n                } else {\n                    LOGGER.info(\"going into recursion with directory \" + directoryFilePath);\n                    boolean result = isEverythingInCompareDirectory(directoryFilePath, compareFilePath, checkFileContent);\n                    // cancel if not equal, otherwise continue processing\n                    if (!result) {\n                        return false;\n                    }\n\n                }\n            } else {\n                LOGGER.info(directoryFilePath.toString() + \": compareFilepath not found\");\n                return false;\n            }\n\n        }\n    }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":655946,"reputation":323,"user_id":455741,"accept_rate":25,"display_name":"Rob Yart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511707134,"creation_date":1511707134,"answer_id":47497275,"question_id":14522239,"body_markdown":"I wrote this small code in Kotlin. It does not check the contents of the files, but relies completely on md5 from apache.\r\n    \r\n    import org.apache.commons.codec.digest.DigestUtils\r\n\r\n    fun File.calcMD5() = DigestUtils.md5Hex(FileUtils.readFileToByteArray(this))\r\n\r\n    fun compareTwoDirs(dir1: File, dir2: File): Boolean {\r\n        val files1 = dir1.listFiles().sorted()\r\n        val files2 = dir2.listFiles().sorted()\r\n        if (files1.size != files2.size) return false\r\n        return files1.zip(files2).all { equate(it.first, it.second) }\r\n    }\r\n\r\n    fun equate(fl: File, fl2: File): Boolean {\r\n        if (fl.isFile &amp;&amp; fl2.isFile) return fl.calcMD5() == fl2.calcMD5()\r\n        if (fl.isDirectory &amp;&amp; fl2.isDirectory) return compareTwoDirs(fl, fl2)\r\n        return false\r\n    }\r\n","title":"Test two directory trees for equality","body":"<p>I wrote this small code in Kotlin. It does not check the contents of the files, but relies completely on md5 from apache.</p>\n\n<pre><code>import org.apache.commons.codec.digest.DigestUtils\n\nfun File.calcMD5() = DigestUtils.md5Hex(FileUtils.readFileToByteArray(this))\n\nfun compareTwoDirs(dir1: File, dir2: File): Boolean {\n    val files1 = dir1.listFiles().sorted()\n    val files2 = dir2.listFiles().sorted()\n    if (files1.size != files2.size) return false\n    return files1.zip(files2).all { equate(it.first, it.second) }\n}\n\nfun equate(fl: File, fl2: File): Boolean {\n    if (fl.isFile &amp;&amp; fl2.isFile) return fl.calcMD5() == fl2.calcMD5()\n    if (fl.isDirectory &amp;&amp; fl2.isDirectory) return compareTwoDirs(fl, fl2)\n    return false\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11925380,"reputation":53,"user_id":8726827,"display_name":"Lorenzo Dimitri Bono"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519927010,"creation_date":1519927010,"answer_id":49055888,"question_id":14522239,"body_markdown":"for me the solution of Patrick seems to be a good solution, but in combination with camel (Fuse ESB) I had the problem that the last parent folder was still blocked by Fuse process =&gt; for me the follow solutions semms to be better way. I iterate over ther directories by SimpleVistor and made a comparable Set of booth directories\r\n\r\n    public boolean compareFolders(final Path pathOne, final Path pathSecond) throws IOException {\r\n\r\n        // get content of first directory\r\n        final TreeSet&lt;String&gt; treeOne = new TreeSet();\r\n        Files.walkFileTree(pathOne, new SimpleFileVisitor&lt;Path&gt;() {\r\n            @Override\r\n            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n                Path relPath = pathOne.relativize(file);\r\n                String entry = relPath.toString();\r\n                treeOne.add(entry);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n        });\r\n\r\n        // get content of second directory\r\n        final TreeSet&lt;String&gt; treeSecond = new TreeSet();\r\n        Files.walkFileTree(pathSecond, new SimpleFileVisitor&lt;Path&gt;() {\r\n            @Override\r\n            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n                Path relPath = pathSecond.relativize(file);\r\n                String entry = relPath.toString();\r\n                treeSecond.add(entry);\r\n                return FileVisitResult.CONTINUE;\r\n            }\r\n        });\r\n        return treeOne.equals(treeSecond);\r\n    }","title":"Test two directory trees for equality","body":"<p>for me the solution of Patrick seems to be a good solution, but in combination with camel (Fuse ESB) I had the problem that the last parent folder was still blocked by Fuse process => for me the follow solutions semms to be better way. I iterate over ther directories by SimpleVistor and made a comparable Set of booth directories</p>\n\n<pre><code>public boolean compareFolders(final Path pathOne, final Path pathSecond) throws IOException {\n\n    // get content of first directory\n    final TreeSet&lt;String&gt; treeOne = new TreeSet();\n    Files.walkFileTree(pathOne, new SimpleFileVisitor&lt;Path&gt;() {\n        @Override\n        public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n            Path relPath = pathOne.relativize(file);\n            String entry = relPath.toString();\n            treeOne.add(entry);\n            return FileVisitResult.CONTINUE;\n        }\n    });\n\n    // get content of second directory\n    final TreeSet&lt;String&gt; treeSecond = new TreeSet();\n    Files.walkFileTree(pathSecond, new SimpleFileVisitor&lt;Path&gt;() {\n        @Override\n        public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n            Path relPath = pathSecond.relativize(file);\n            String entry = relPath.toString();\n            treeSecond.add(entry);\n            return FileVisitResult.CONTINUE;\n        }\n    });\n    return treeOne.equals(treeSecond);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10567133,"reputation":192,"user_id":7785052,"display_name":"le Mandarin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559171164,"creation_date":1559170825,"answer_id":56369576,"question_id":14522239,"body_markdown":"I know this is an old question but I will try to solve it.\r\nHere is a code that opens 2 directories and compares their contents.\r\nIt returns false if the files found in one are missing in the other or if their contents are distinct.\r\nTo do this, I browse the content of the 2 directories and I recursively compare the files and directories found (in alphabetical order).\r\n\r\n    // Comparison of 2 files\r\n    private static boolean compareFiles(File f1, File f2) {\r\n        long i1 = f1.length();\r\n        long i2 = f2.length();\r\n        if (i1 != i2) {\r\n            return false;\r\n        }\r\n        try {\r\n            byte b1, b2;\r\n            DataInputStream dis = new DataInputStream(\r\n                    new BufferedInputStream(\r\n                            new FileInputStream(f1)));\r\n            DataInputStream dis1 = new DataInputStream(\r\n                    new BufferedInputStream(\r\n                            new FileInputStream(f2)));\r\n            while (true) {\r\n                b1 = dis.readByte();\r\n                b2 = dis1.readByte();\r\n                if (b1 != b2) {\r\n                    return false;\r\n                }\r\n            }\r\n        } catch (IOException ex) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n    // Recursive comparison of 2 files.\r\n    // The idea is that if 2 directories are the same, \r\n    // they will have the same files and the same under directories\r\n    private static boolean areDirsEqual(File dir1, File dir2) {\r\n        File[] list1 = dir1.listFiles(), list2 = dir2.listFiles();\r\n        if (list1.length != list2.length) {\r\n            return false;\r\n        }\r\n        for (int i = 0; i &lt; list2.length; i++) {\r\n            if (list1[i].isFile() &amp;&amp; list2[i].isFile()) {\r\n                if (!compareFiles(list1[i], list2[i])) {\r\n                    return false;\r\n                }\r\n            } else if (list1[i].isDirectory() &amp;&amp; list2[i].isDirectory()) {\r\n                if (!areDirsEqual(list1[i], list2[i])) {\r\n                    return false;\r\n                }\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"Test two directory trees for equality","body":"<p>I know this is an old question but I will try to solve it.\nHere is a code that opens 2 directories and compares their contents.\nIt returns false if the files found in one are missing in the other or if their contents are distinct.\nTo do this, I browse the content of the 2 directories and I recursively compare the files and directories found (in alphabetical order).</p>\n\n<pre><code>// Comparison of 2 files\nprivate static boolean compareFiles(File f1, File f2) {\n    long i1 = f1.length();\n    long i2 = f2.length();\n    if (i1 != i2) {\n        return false;\n    }\n    try {\n        byte b1, b2;\n        DataInputStream dis = new DataInputStream(\n                new BufferedInputStream(\n                        new FileInputStream(f1)));\n        DataInputStream dis1 = new DataInputStream(\n                new BufferedInputStream(\n                        new FileInputStream(f2)));\n        while (true) {\n            b1 = dis.readByte();\n            b2 = dis1.readByte();\n            if (b1 != b2) {\n                return false;\n            }\n        }\n    } catch (IOException ex) {\n        return true;\n    }\n}\n\n\n// Recursive comparison of 2 files.\n// The idea is that if 2 directories are the same, \n// they will have the same files and the same under directories\nprivate static boolean areDirsEqual(File dir1, File dir2) {\n    File[] list1 = dir1.listFiles(), list2 = dir2.listFiles();\n    if (list1.length != list2.length) {\n        return false;\n    }\n    for (int i = 0; i &lt; list2.length; i++) {\n        if (list1[i].isFile() &amp;&amp; list2[i].isFile()) {\n            if (!compareFiles(list1[i], list2[i])) {\n                return false;\n            }\n        } else if (list1[i].isDirectory() &amp;&amp; list2[i].isDirectory()) {\n            if (!areDirsEqual(list1[i], list2[i])) {\n                return false;\n            }\n        } else {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7283686,"reputation":13,"user_id":7756804,"display_name":"Tall Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654843228,"creation_date":1654701521,"answer_id":72548257,"question_id":14522239,"body_markdown":"This util class solves the problem.  Based on the comment by MasterHD\r\n\r\n1. Checks if file structure is equal\r\n2. Checks that all file sizes are the same\r\n3. Checks that the contents are the same\r\n\r\nI use Assertions.fail if there is a mismatch but you can throw an exception or whatever you want.\r\n\r\n\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.FileVisitResult;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.SimpleFileVisitor;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    import java.util.Arrays;\r\n\r\n    import org.assertj.core.api.Assertions;\r\n    \r\n    public class DirEquality {\r\n    \r\n    /**\r\n     * Verify that\r\n     * &lt;ol&gt;\r\n     * &lt;li&gt;the two folders have the same file structure&lt;/li&gt;\r\n     * &lt;li&gt;that all the files have the same size&lt;/li&gt;\r\n     * &lt;li&gt;that all files in subtree {@code one} is present in {@code other} and their contents are the same&lt;/li&gt;\r\n     * &lt;/ol&gt;\r\n     */\r\n    public static void verifySubtreeEquality(Path one, Path other) throws IOException {\r\n        verifyStructure(one, other);\r\n        verifySize(one, other);\r\n        verifyContents(one, other);\r\n    }\r\n    \r\n    private static void verifyStructure(Path root1, Path root2) throws IOException {\r\n        verifyPresence(root1, root2);\r\n        verifyPresence(root2, root1);\r\n    }\r\n    \r\n    private static void verifyPresence(Path fileSource, Path examinee) throws IOException {\r\n        Files.walkFileTree(fileSource, new SimpleFileVisitor&lt;Path&gt;() {\r\n            @Override\r\n            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n                FileVisitResult result = super.visitFile(file, attrs);\r\n                \r\n                Path filePathFromRoot = fileSource.relativize(file);\r\n                File targetFile = examinee.resolve(filePathFromRoot).toFile();\r\n                \r\n                if (!targetFile.exists()) {\r\n                    Assertions.fail(filePathFromRoot + &quot; was present in &quot; + fileSource + &quot; but not in &quot; + examinee\r\n                            + System.lineSeparator() + &quot;Expected file: &quot; + targetFile.getAbsolutePath());\r\n                }\r\n                return result;\r\n            }\r\n        });\r\n    }\r\n    \r\n    private static void verifySize(Path one, Path other) throws IOException {\r\n        Files.walkFileTree(one, new SimpleFileVisitor&lt;Path&gt;() {\r\n            @Override\r\n            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n                FileVisitResult result = super.visitFile(file, attrs);\r\n                \r\n                Path filePathFromRoot = one.relativize(file);\r\n                Path path1 = one.resolve(filePathFromRoot);\r\n                long size1 = Files.size(path1);\r\n                Path path2 = other.resolve(filePathFromRoot);\r\n                long size2 = Files.size(path2);\r\n                \r\n                if (size1 != size2) {\r\n                    Assertions.fail(&quot;Expected equal file sizes but &quot;\r\n                            + System.lineSeparator() + path1.toAbsolutePath() + &quot; is &quot; + size1 + &quot; bytes, whereas &quot;\r\n                            + System.lineSeparator() + path2.toAbsolutePath() + &quot; is &quot; + size2 + &quot; bytes&quot;);\r\n                }\r\n                return result;\r\n            }\r\n        });\r\n    }\r\n    \r\n    private static void verifyContents(Path one, Path other) throws IOException {\r\n        Files.walkFileTree(one, new SimpleFileVisitor&lt;Path&gt;() {\r\n            @Override\r\n            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n                FileVisitResult result = super.visitFile(file, attrs);\r\n                Path relativize = one.relativize(file);\r\n                Path fileInOther = other.resolve(relativize);\r\n                \r\n                byte[] otherBytes = Files.readAllBytes(fileInOther);\r\n                byte[] theseBytes = Files.readAllBytes(file);\r\n                if (!Arrays.equals(otherBytes, theseBytes)) {\r\n                    Assertions.fail(file + &quot; contents differ from &quot; + fileInOther);\r\n                }\r\n                return result;\r\n            }\r\n        });\r\n    }\r\n    }","title":"Test two directory trees for equality","body":"<p>This util class solves the problem.  Based on the comment by MasterHD</p>\n<ol>\n<li>Checks if file structure is equal</li>\n<li>Checks that all file sizes are the same</li>\n<li>Checks that the contents are the same</li>\n</ol>\n<p>I use Assertions.fail if there is a mismatch but you can throw an exception or whatever you want.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.nio.file.FileVisitResult;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.SimpleFileVisitor;\nimport java.nio.file.attribute.BasicFileAttributes;\nimport java.util.Arrays;\n\nimport org.assertj.core.api.Assertions;\n\npublic class DirEquality {\n\n/**\n * Verify that\n * &lt;ol&gt;\n * &lt;li&gt;the two folders have the same file structure&lt;/li&gt;\n * &lt;li&gt;that all the files have the same size&lt;/li&gt;\n * &lt;li&gt;that all files in subtree {@code one} is present in {@code other} and their contents are the same&lt;/li&gt;\n * &lt;/ol&gt;\n */\npublic static void verifySubtreeEquality(Path one, Path other) throws IOException {\n    verifyStructure(one, other);\n    verifySize(one, other);\n    verifyContents(one, other);\n}\n\nprivate static void verifyStructure(Path root1, Path root2) throws IOException {\n    verifyPresence(root1, root2);\n    verifyPresence(root2, root1);\n}\n\nprivate static void verifyPresence(Path fileSource, Path examinee) throws IOException {\n    Files.walkFileTree(fileSource, new SimpleFileVisitor&lt;Path&gt;() {\n        @Override\n        public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n            FileVisitResult result = super.visitFile(file, attrs);\n            \n            Path filePathFromRoot = fileSource.relativize(file);\n            File targetFile = examinee.resolve(filePathFromRoot).toFile();\n            \n            if (!targetFile.exists()) {\n                Assertions.fail(filePathFromRoot + &quot; was present in &quot; + fileSource + &quot; but not in &quot; + examinee\n                        + System.lineSeparator() + &quot;Expected file: &quot; + targetFile.getAbsolutePath());\n            }\n            return result;\n        }\n    });\n}\n\nprivate static void verifySize(Path one, Path other) throws IOException {\n    Files.walkFileTree(one, new SimpleFileVisitor&lt;Path&gt;() {\n        @Override\n        public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n            FileVisitResult result = super.visitFile(file, attrs);\n            \n            Path filePathFromRoot = one.relativize(file);\n            Path path1 = one.resolve(filePathFromRoot);\n            long size1 = Files.size(path1);\n            Path path2 = other.resolve(filePathFromRoot);\n            long size2 = Files.size(path2);\n            \n            if (size1 != size2) {\n                Assertions.fail(&quot;Expected equal file sizes but &quot;\n                        + System.lineSeparator() + path1.toAbsolutePath() + &quot; is &quot; + size1 + &quot; bytes, whereas &quot;\n                        + System.lineSeparator() + path2.toAbsolutePath() + &quot; is &quot; + size2 + &quot; bytes&quot;);\n            }\n            return result;\n        }\n    });\n}\n\nprivate static void verifyContents(Path one, Path other) throws IOException {\n    Files.walkFileTree(one, new SimpleFileVisitor&lt;Path&gt;() {\n        @Override\n        public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n            FileVisitResult result = super.visitFile(file, attrs);\n            Path relativize = one.relativize(file);\n            Path fileInOther = other.resolve(relativize);\n            \n            byte[] otherBytes = Files.readAllBytes(fileInOther);\n            byte[] theseBytes = Files.readAllBytes(file);\n            if (!Arrays.equals(otherBytes, theseBytes)) {\n                Assertions.fail(file + &quot; contents differ from &quot; + fileInOther);\n            }\n            return result;\n        }\n    });\n}\n}\n</code></pre>\n"}],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22786,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":10,"score":21,"last_activity_date":1676123009,"creation_date":1359118509,"question_id":14522239,"body_markdown":"I am working on integration testing some part of my code that creates directory trees under SVN. This requires me to test if the directory structure and the files within are what I expect them to be.\r\n\r\nOn one hand I have the expected directory tree with the files I want and on the other, an export of the files from SVN (prefer `svn export` over `svn co` to avoid the `.svn` noise).\r\n\r\nHowever, is there any library that can assert two directory trees? The last resort I have in mind is to do an iterative comparison myself.\r\n\r\nBasically I am looking for an API that can just accept two directories and tell me if they are equal or not.\r\n\r\nSomething on the lines of\r\n\r\n    boolean areDirectoriesEqual(File dir1, File dir2)","title":"Test two directory trees for equality","body":"<p>I am working on integration testing some part of my code that creates directory trees under SVN. This requires me to test if the directory structure and the files within are what I expect them to be.</p>\n\n<p>On one hand I have the expected directory tree with the files I want and on the other, an export of the files from SVN (prefer <code>svn export</code> over <code>svn co</code> to avoid the <code>.svn</code> noise).</p>\n\n<p>However, is there any library that can assert two directory trees? The last resort I have in mind is to do an iterative comparison myself.</p>\n\n<p>Basically I am looking for an API that can just accept two directories and tell me if they are equal or not.</p>\n\n<p>Something on the lines of</p>\n\n<pre><code>boolean areDirectoriesEqual(File dir1, File dir2)\n</code></pre>\n"},{"tags":["java","android","xml","android-studio","figma"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676114171,"post_id":75419612,"comment_id":133075134,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27759807,"reputation":1,"user_id":21192469,"display_name":"tsk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676121144,"creation_date":1676112092,"question_id":75419612,"body_markdown":"I created a new app with no activity and replaced files generated from figma to android studio in standard directory format.\r\nThe export plugin gave me java, res and manifest file which I pasted into my app src/main directory.\r\nNow I am getting render problem for the &#39;xml&#39; file after I rebuild the project.\r\n\r\n\r\nFollowing is the error stack for the render problem:\r\n\r\n\r\n```\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat android.view.BridgeInflater.lambda$createViewFromCustomInflater$0(BridgeInflater.java:259)\r\n\tat android.view.BridgeInflater.createViewFromCustomInflater(BridgeInflater.java:285)\r\n\tat android.view.BridgeInflater.onCreateView(BridgeInflater.java:122)\r\n\tat android.view.LayoutInflater.onCreateView(LayoutInflater.java:934)\r\n\tat android.view.LayoutInflater.onCreateView(LayoutInflater.java:954)\r\n\tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1008)\r\n\tat android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:309)\r\n\tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:965)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1127)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n\tat android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\r\n\tat android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\r\n\tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\r\n\tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:686)\r\n\tat android.view.LayoutInflater.inflate(LayoutInflater.java:505)\r\n\tat com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:359)\r\n\tat com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:436)\r\n\tat com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:121)\r\n\tat com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:717)\r\n\tat com.android.tools.idea.rendering.RenderTask.lambda$inflate$9(RenderTask.java:873)\r\n\tat com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$3.run(RenderExecutor.kt:192)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.NullPointerException\r\n\tat android.graphics.fonts.Font_Builder_Delegate.createBuffer(Font_Builder_Delegate.java:52)\r\n\tat android.graphics.fonts.Font$Builder.createBuffer(Font.java:264)\r\n\tat android.graphics.fonts.Font$Builder.&lt;init&gt;(Font.java:200)\r\n\tat android.graphics.Typeface$Builder.&lt;init&gt;(Typeface.java:517)\r\n\tat android.graphics.Typeface_Delegate.createFromDisk(Typeface_Delegate.java:91)\r\n\tat com.android.layoutlib.bridge.impl.ResourceHelper.getFont(ResourceHelper.java:488)\r\n\tat com.android.layoutlib.bridge.impl.ResourceHelper.getFont(ResourceHelper.java:500)\r\n\tat android.content.res.BridgeTypedArray.getFont(BridgeTypedArray.java:723)\r\n\tat android.widget.TextView.readTextAppearance(TextView.java:4087)\r\n\tat android.widget.TextView.&lt;init&gt;(TextView.java:1125)\r\n\tat android.widget.TextView.&lt;init&gt;(TextView.java:1026)\r\n\tat androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:113)\r\n\tat androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:108)\r\n\tat androidx.appcompat.app.AppCompatViewInflater.createTextView(AppCompatViewInflater.java:228)\r\n\tat androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:148)\r\n\t... 43 more\r\n\r\n```\r\n\r\nsplash_screen.xml\r\n```\r\n&lt;HorizontalScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n\tandroid:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; &gt;\r\n\t&lt;!-- \r\n\t/*\r\n\t *\tThis content is generated from the API File Info.\r\n\t *\t(Alt+Shift+Ctrl+I).\r\n\t *\r\n\t *\t@desc \t\t\r\n\t *\t@file \t\tsplash_screen\r\n\t *\t@date \t\tSaturday 11th of February 2023 10:12:52 AM\r\n\t *\t@title \t\tPage 1\r\n\t *\t@author \t\r\n\t *\t@keywords \t\r\n\t *\t@generator \tExport Kit v1.3.figma\r\n\t *\r\n\t */\r\n\t--&gt;\r\n\t&lt;ScrollView android:id=&quot;@+id/splash_screen&quot; \r\n\t\tandroid:layout_width=&quot;wrap_content&quot; \r\n\t\tandroid:layout_height=&quot;match_parent&quot; &gt;\r\n\r\n\t\t&lt;RelativeLayout android:id=&quot;@+id/content_container&quot; \r\n\t\t\tandroid:layout_width=&quot;wrap_content&quot; \r\n\t\t\tandroid:layout_height=&quot;wrap_content&quot; &gt;\r\n\r\n\r\n\r\n\t\t\t&lt;RelativeLayout android:id=&quot;@+id/page_splash_screen_ek1&quot;\r\n\t\t\t\tandroid:layout_marginTop=&quot;0dp&quot;\r\n\t\t\t\tandroid:layout_marginStart=&quot;0dp&quot;\r\n\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\t&gt;\r\n\r\n\t\t\t\t&lt;View   android:id=&quot;@+id/_bg__splash_screen_ek2&quot;\r\n\t\t\t\t\tandroid:background=&quot;@drawable/_bg__splash_screen_ek2_shape&quot;\r\n\t\t\t\t\t android:layout_marginStart=&quot;0dp&quot;\r\n\t\t\t\t\tandroid:layout_marginTop=&quot;0dp&quot;\r\n\t\t\t\t\tandroid:layout_width=&quot;360dp&quot;\r\n\t\t\t\t\tandroid:layout_height=&quot;800dp&quot; /&gt;\r\n\r\n\r\n\t\t\t\t&lt;RelativeLayout android:id=&quot;@+id/device_device_frame_components_status_bar&quot;\r\n\t\t\t\t\tandroid:layout_marginTop=&quot;0dp&quot;\r\n\t\t\t\t\tandroid:layout_marginStart=&quot;0dp&quot;\r\n\t\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\t\t&gt;\r\n\r\n\t\t\t\t\t&lt;TextView android:id=&quot;@+id/time&quot;\r\n\t\t\t\t\t\tandroid:fontFamily=&quot;Roboto&quot;\r\n\t\t\t\t\t\tandroid:textSize=&quot;14sp&quot;\r\n\t\t\t\t\t\tandroid:textColor=&quot;@color/time_color&quot;\r\n\t\t\t\t\t\tandroid:layout_marginLeft=&quot;24dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;13dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;48dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;30dp&quot;\r\n\t\t\t\t\t\tandroid:text=&quot;@string/time_string&quot;\r\n\t\t\t\t\t\t /&gt;\r\n\r\n\t\t\t\t\t&lt;ImageView android:id=&quot;@+id/__img___right_icons&quot;\r\n\t\t\t\t\t\tandroid:src=&quot;@drawable/__img___right_icons&quot;\r\n\t\t\t\t\t\tandroid:contentDescription=&quot;__img___right_icons&quot;\r\n\t\t\t\t\t\t android:layout_marginStart=&quot;290dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;16dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;46dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;17dp&quot; /&gt;\r\n\r\n\t\t\t\t&lt;/RelativeLayout&gt;\r\n\r\n\r\n\t\t\t\t&lt;RelativeLayout android:id=&quot;@+id/device_device_frame_components_navigation&quot;\r\n\t\t\t\t\tandroid:layout_marginTop=&quot;772dp&quot;\r\n\t\t\t\t\tandroid:layout_marginStart=&quot;0dp&quot;\r\n\t\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\t\t&gt;\r\n\r\n\t\t\t\t\t&lt;View   android:id=&quot;@+id/home&quot;\r\n\t\t\t\t\t\tandroid:background=&quot;@drawable/home_shape&quot;\r\n\t\t\t\t\t\t android:layout_marginStart=&quot;144dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;18dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;72dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;2dp&quot; /&gt;\r\n\r\n\t\t\t\t&lt;/RelativeLayout&gt;\r\n\r\n\t\t\t\t&lt;ImageView android:id=&quot;@+id/__img___3d_avatars___21&quot;\r\n\t\t\t\t\tandroid:src=&quot;@drawable/__img___3d_avatars___21&quot;\r\n\t\t\t\t\tandroid:contentDescription=&quot;__img___3d_avatars___21&quot;\r\n\t\t\t\t\t android:layout_marginStart=&quot;20dp&quot;\r\n\t\t\t\t\tandroid:layout_marginTop=&quot;43dp&quot;\r\n\t\t\t\t\tandroid:layout_width=&quot;45dp&quot;\r\n\t\t\t\t\tandroid:layout_height=&quot;45dp&quot; /&gt;\r\n\r\n\t\t\t\t&lt;TextView android:id=&quot;@+id/hello__tushadi_&quot;\r\n\t\t\t\t\tandroid:fontFamily=&quot;Roboto&quot;\r\n\t\t\t\t\tandroid:textStyle=&quot;bold&quot;\r\n\t\t\t\t\tandroid:layout_gravity=&quot;center_horizontal|center&quot;\r\n\t\t\t\t\tandroid:gravity=&quot;center&quot;\r\n\t\t\t\t\tandroid:textSize=&quot;20sp&quot;\r\n\t\t\t\t\tandroid:textColor=&quot;@color/hello__tushadi__color&quot;\r\n\t\t\t\t\tandroid:layout_marginLeft=&quot;109dp&quot;\r\n\t\t\t\t\tandroid:layout_marginTop=&quot;55dp&quot;\r\n\t\t\t\t\tandroid:layout_width=&quot;152dp&quot;\r\n\t\t\t\t\tandroid:layout_height=&quot;34dp&quot;\r\n\t\t\t\t\tandroid:text=&quot;@string/hello__tushadi__string&quot;\r\n\t\t\t\t\t /&gt;\r\n\r\n\t\t\t\t&lt;ImageView android:id=&quot;@+id/__img___notification__1__1&quot;\r\n\t\t\t\t\tandroid:src=&quot;@drawable/__img___notification__1__1&quot;\r\n\t\t\t\t\tandroid:contentDescription=&quot;__img___notification__1__1&quot;\r\n\t\t\t\t\t android:layout_marginStart=&quot;300dp&quot;\r\n\t\t\t\t\tandroid:layout_marginTop=&quot;43dp&quot;\r\n\t\t\t\t\tandroid:layout_width=&quot;40dp&quot;\r\n\t\t\t\t\tandroid:layout_height=&quot;40dp&quot; /&gt;\r\n\r\n\r\n\t\t\t\t&lt;RelativeLayout android:id=&quot;@+id/group_5&quot;\r\n\t\t\t\t\tandroid:layout_marginTop=&quot;152dp&quot;\r\n\t\t\t\t\tandroid:layout_marginStart=&quot;24dp&quot;\r\n\t\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\t\t&gt;\r\n\r\n\t\t\t\t\t&lt;View   android:id=&quot;@+id/rectangle_1&quot;\r\n\t\t\t\t\t\tandroid:background=&quot;@drawable/rectangle_1_shape&quot;\r\n\t\t\t\t\t\t android:layout_marginStart=&quot;1dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;0dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;80dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;60dp&quot; /&gt;\r\n\r\n\t\t\t\t\t&lt;View   android:id=&quot;@+id/rectangle_7&quot;\r\n\t\t\t\t\t\tandroid:background=&quot;@drawable/rectangle_7_shape&quot;\r\n\t\t\t\t\t\t android:layout_marginStart=&quot;1dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;0dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;80dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;60dp&quot; /&gt;\r\n\r\n\t\t\t\t\t&lt;View   android:id=&quot;@+id/rectangle_4&quot;\r\n\t\t\t\t\t\tandroid:background=&quot;@drawable/rectangle_4_shape&quot;\r\n\t\t\t\t\t\t android:layout_marginStart=&quot;1dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;145dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;80dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;60dp&quot; /&gt;\r\n\r\n\t\t\t\t\t&lt;ImageView android:id=&quot;@+id/__img___colored___dhol&quot;\r\n\t\t\t\t\t\tandroid:src=&quot;@drawable/__img___colored___dhol&quot;\r\n\t\t\t\t\t\tandroid:contentDescription=&quot;__img___colored___dhol&quot;\r\n\t\t\t\t\t\t android:layout_marginStart=&quot;17dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;11dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;42.42dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;40dp&quot; /&gt;\r\n\r\n\t\t\t\t\t&lt;ImageView android:id=&quot;@+id/__img___colored___dhol_ek1&quot;\r\n\t\t\t\t\t\tandroid:src=&quot;@drawable/__img___colored___dhol_ek1&quot;\r\n\t\t\t\t\t\tandroid:contentDescription=&quot;__img___colored___dhol_ek1&quot;\r\n\t\t\t\t\t\t android:layout_marginStart=&quot;17dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;156dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;42.42dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;40dp&quot; /&gt;\r\n\r\n\t\t\t\t\t&lt;TextView android:id=&quot;@+id/wedding_photography&quot;\r\n\t\t\t\t\t\tandroid:fontFamily=&quot;Arial&quot;\r\n\t\t\t\t\t\tandroid:layout_gravity=&quot;center_horizontal|center&quot;\r\n\t\t\t\t\t\tandroid:gravity=&quot;center&quot;\r\n\t\t\t\t\t\tandroid:textSize=&quot;14sp&quot;\r\n\t\t\t\t\t\tandroid:textColor=&quot;@color/wedding_photography_color&quot;\r\n\t\t\t\t\t\tandroid:layout_marginLeft=&quot;-2dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;63dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;93dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;50dp&quot;\r\n\t\t\t\t\t\tandroid:text=&quot;@string/wedding_photography_string&quot;\r\n\t\t\t\t\t\t /&gt;\r\n\r\n\t\t\t\t\t&lt;TextView android:id=&quot;@+id/wedding_photography_ek1&quot;\r\n\t\t\t\t\t\tandroid:fontFamily=&quot;Arial&quot;\r\n\t\t\t\t\t\tandroid:layout_gravity=&quot;center_horizontal|center&quot;\r\n\t\t\t\t\t\tandroid:gravity=&quot;center&quot;\r\n\t\t\t\t\t\tandroid:textSize=&quot;14sp&quot;\r\n\t\t\t\t\t\tandroid:textColor=&quot;@color/wedding_photography_color&quot;\r\n\t\t\t\t\t\tandroid:layout_marginLeft=&quot;-2dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;208dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;93dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;50dp&quot;\r\n\t\t\t\t\t\tandroid:text=&quot;@string/wedding_photography_ek1_string&quot;\r\n\t\t\t\t\t\t /&gt;\r\n\r\n\t\t\t\t\t&lt;View   android:id=&quot;@+id/rectangle_2&quot;\r\n\t\t\t\t\t\tandroid:background=&quot;@drawable/rectangle_2_shape&quot;\r\n\t\t\t\t\t\t android:layout_marginStart=&quot;111dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;0dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;80dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;60dp&quot; /&gt;\r\n\r\n\t\t\t\t\t&lt;View   android:id=&quot;@+id/rectangle_5&quot;\r\n\t\t\t\t\t\tandroid:background=&quot;@drawable/rectangle_5_shape&quot;\r\n\t\t\t\t\t\t android:layout_marginStart=&quot;111dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;145dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;80dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;60dp&quot; /&gt;\r\n\r\n\t\t\t\t\t&lt;TextView android:id=&quot;@+id/baby_photography&quot;\r\n\t\t\t\t\t\tandroid:fontFamily=&quot;Arial&quot;\r\n\t\t\t\t\t\tandroid:layout_gravity=&quot;center_horizontal|center&quot;\r\n\t\t\t\t\t\tandroid:gravity=&quot;center&quot;\r\n\t\t\t\t\t\tandroid:textSize=&quot;14sp&quot;\r\n\t\t\t\t\t\tandroid:textColor=&quot;@color/wedding_photography_color&quot;\r\n\t\t\t\t\t\tandroid:layout_marginLeft=&quot;108dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;63dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;93dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;50dp&quot;\r\n\t\t\t\t\t\tandroid:text=&quot;@string/baby_photography_string&quot;\r\n\t\t\t\t\t\t /&gt;\r\n\r\n\t\t\t\t\t&lt;TextView android:id=&quot;@+id/baby_photography_ek1&quot;\r\n\t\t\t\t\t\tandroid:fontFamily=&quot;Arial&quot;\r\n\t\t\t\t\t\tandroid:layout_gravity=&quot;center_horizontal|center&quot;\r\n\t\t\t\t\t\tandroid:gravity=&quot;center&quot;\r\n\t\t\t\t\t\tandroid:textSize=&quot;14sp&quot;\r\n\t\t\t\t\t\tandroid:textColor=&quot;@color/wedding_photography_color&quot;\r\n\t\t\t\t\t\tandroid:layout_marginLeft=&quot;108dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;208dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;93dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;50dp&quot;\r\n\t\t\t\t\t\tandroid:text=&quot;@string/baby_photography_ek1_string&quot;\r\n\t\t\t\t\t\t /&gt;\r\n\r\n\t\t\t\t\t&lt;View   android:id=&quot;@+id/rectangle_3&quot;\r\n\t\t\t\t\t\tandroid:background=&quot;@drawable/rectangle_3_shape&quot;\r\n\t\t\t\t\t\t android:layout_marginStart=&quot;229dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;0dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;80dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;60dp&quot; /&gt;\r\n\r\n\t\t\t\t\t&lt;View   android:id=&quot;@+id/rectangle_6&quot;\r\n\t\t\t\t\t\tandroid:background=&quot;@drawable/rectangle_6_shape&quot;\r\n\t\t\t\t\t\t android:layout_marginStart=&quot;229dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;145dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;80dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;60dp&quot; /&gt;\r\n\r\n\t\t\t\t\t&lt;ImageView android:id=&quot;@+id/__img___colored___dhol_ek2&quot;\r\n\t\t\t\t\t\tandroid:src=&quot;@drawable/__img___colored___dhol_ek2&quot;\r\n\t\t\t\t\t\tandroid:contentDescription=&quot;__img___colored___dhol_ek2&quot;\r\n\t\t\t\t\t\t android:layout_marginStart=&quot;248dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;154dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;42.42dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;40dp&quot; /&gt;\r\n\r\n\t\t\t\t\t&lt;TextView android:id=&quot;@+id/maternity_photography&quot;\r\n\t\t\t\t\t\tandroid:fontFamily=&quot;Arial&quot;\r\n\t\t\t\t\t\tandroid:layout_gravity=&quot;center_horizontal|center&quot;\r\n\t\t\t\t\t\tandroid:gravity=&quot;center&quot;\r\n\t\t\t\t\t\tandroid:textSize=&quot;14sp&quot;\r\n\t\t\t\t\t\tandroid:textColor=&quot;@color/wedding_photography_color&quot;\r\n\t\t\t\t\t\tandroid:layout_marginLeft=&quot;226dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;63dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;93dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;50dp&quot;\r\n\t\t\t\t\t\tandroid:text=&quot;@string/maternity_photography_string&quot;\r\n\t\t\t\t\t\t /&gt;\r\n\r\n\t\t\t\t\t&lt;TextView android:id=&quot;@+id/wedding_photography_ek2&quot;\r\n\t\t\t\t\t\tandroid:fontFamily=&quot;Arial&quot;\r\n\t\t\t\t\t\tandroid:layout_gravity=&quot;center_horizontal|center&quot;\r\n\t\t\t\t\t\tandroid:gravity=&quot;center&quot;\r\n\t\t\t\t\t\tandroid:textSize=&quot;14sp&quot;\r\n\t\t\t\t\t\tandroid:textColor=&quot;@color/wedding_photography_color&quot;\r\n\t\t\t\t\t\tandroid:layout_marginLeft=&quot;226dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;208dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;93dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;50dp&quot;\r\n\t\t\t\t\t\tandroid:text=&quot;@string/wedding_photography_ek2_string&quot;\r\n\t\t\t\t\t\t /&gt;\r\n\r\n\t\t\t\t\t&lt;ImageView android:id=&quot;@+id/baby_1&quot;\r\n\t\t\t\t\t\tandroid:src=&quot;@drawable/baby_1&quot;\r\n\t\t\t\t\t\tandroid:contentDescription=&quot;baby_1&quot;\r\n\t\t\t\t\t\t android:layout_marginStart=&quot;120dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;2dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;62dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;54dp&quot; /&gt;\r\n\r\n\t\t\t\t\t&lt;ImageView android:id=&quot;@+id/baby_2&quot;\r\n\t\t\t\t\t\tandroid:src=&quot;@drawable/baby_2&quot;\r\n\t\t\t\t\t\tandroid:contentDescription=&quot;baby_2&quot;\r\n\t\t\t\t\t\t android:layout_marginStart=&quot;120dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;147dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;62dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;54dp&quot; /&gt;\r\n\r\n\t\t\t\t\t&lt;ImageView android:id=&quot;@+id/_8dqu8xx6_1&quot;\r\n\t\t\t\t\t\tandroid:src=&quot;@drawable/_8dqu8xx6_1&quot;\r\n\t\t\t\t\t\tandroid:contentDescription=&quot;_8dqu8xx6_1&quot;\r\n\t\t\t\t\t\t android:layout_marginStart=&quot;244dp&quot;\r\n\t\t\t\t\t\tandroid:layout_marginTop=&quot;0dp&quot;\r\n\t\t\t\t\t\tandroid:layout_width=&quot;51dp&quot;\r\n\t\t\t\t\t\tandroid:layout_height=&quot;59dp&quot; /&gt;\r\n\r\n\t\t\t\t&lt;/RelativeLayout&gt;\r\n\r\n\t\t\t&lt;/RelativeLayout&gt;\r\n\t\t&lt;/RelativeLayout&gt;\r\n\r\n\t&lt;/ScrollView&gt;\r\n&lt;/HorizontalScrollView&gt;\r\n```\r\n\r\nAndroidManifest.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\tpackage=&quot;exportkit.figma&quot; &gt;\r\n\r\n\t\r\n\r\n\t&lt;application\r\n\t\tandroid:allowBackup=&quot;true&quot;\r\n\t\tandroid:theme=&quot;@style/AppTheme&quot;\r\n\t\tandroid:label=&quot;@string/app_name&quot; &gt;\r\n\t\t&lt;activity\r\n\t\tandroid:name=&quot;.splash_screen_activity&quot;\r\n\t\tandroid:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\r\n\t\tandroid:label=&quot;@string/app_name&quot;\r\n\t\tandroid:exported=&quot;true&quot;  &gt;\r\n\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t&lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t&lt;/activity&gt;\r\n\r\n\t&lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\t\r\n\t\r\n```\r\n\r\nsplash_screen_activity.xml\r\n```\r\n\r\n\t \r\n\t/*\r\n\t *\tThis content is generated from the API File Info.\r\n\t *\t(Alt+Shift+Ctrl+I).\r\n\t *\r\n\t *\t@desc \t\t\r\n\t *\t@file \t\tsplash_screen\r\n\t *\t@date \t\tSaturday 11th of February 2023 10:12:52 AM\r\n\t *\t@title \t\tPage 1\r\n\t *\t@author \t\r\n\t *\t@keywords \t\r\n\t *\t@generator \tExport Kit v1.3.figma\r\n\t *\r\n\t */\r\n\t\r\n\r\npackage exportkit.figma;\r\n\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\n\r\n\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\nimport android.widget.ImageView;\r\n\r\nimport com.example.demo_trial2.R;\r\n\r\n\tpublic class splash_screen_activity extends Activity {\r\n\r\n\t\r\n\tprivate View _bg__splash_screen_ek2;\r\n\tprivate TextView time;\r\n\tprivate ImageView __img___right_icons;\r\n\tprivate View home;\r\n\tprivate ImageView __img___3d_avatars___21;\r\n\tprivate TextView hello__tushadi_;\r\n\tprivate ImageView __img___notification__1__1;\r\n\tprivate View rectangle_1;\r\n\tprivate View rectangle_7;\r\n\tprivate View rectangle_4;\r\n\tprivate ImageView __img___colored___dhol;\r\n\tprivate ImageView __img___colored___dhol_ek1;\r\n\tprivate TextView wedding_photography;\r\n\tprivate TextView wedding_photography_ek1;\r\n\tprivate View rectangle_2;\r\n\tprivate View rectangle_5;\r\n\tprivate TextView baby_photography;\r\n\tprivate TextView baby_photography_ek1;\r\n\tprivate View rectangle_3;\r\n\tprivate View rectangle_6;\r\n\tprivate ImageView __img___colored___dhol_ek2;\r\n\tprivate TextView maternity_photography;\r\n\tprivate TextView wedding_photography_ek2;\r\n\tprivate ImageView baby_1;\r\n\tprivate ImageView baby_2;\r\n\tprivate ImageView _8dqu8xx6_1;\r\n\r\n\t@Override\r\n\tpublic void onCreate(Bundle savedInstanceState) {\r\n\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.splash_screen);\r\n\r\n\t\t\r\n\t\t_bg__splash_screen_ek2 = (View) findViewById(R.id._bg__splash_screen_ek2);\r\n\t\ttime = (TextView) findViewById(R.id.time);\r\n\t\t__img___right_icons = (ImageView) findViewById(R.id.__img___right_icons);\r\n\t\thome = (View) findViewById(R.id.home);\r\n\t\t__img___3d_avatars___21 = (ImageView) findViewById(R.id.__img___3d_avatars___21);\r\n\t\thello__tushadi_ = (TextView) findViewById(R.id.hello__tushadi_);\r\n\t\t__img___notification__1__1 = (ImageView) findViewById(R.id.__img___notification__1__1);\r\n\t\trectangle_1 = (View) findViewById(R.id.rectangle_1);\r\n\t\trectangle_7 = (View) findViewById(R.id.rectangle_7);\r\n\t\trectangle_4 = (View) findViewById(R.id.rectangle_4);\r\n\t\t__img___colored___dhol = (ImageView) findViewById(R.id.__img___colored___dhol);\r\n\t\t__img___colored___dhol_ek1 = (ImageView) findViewById(R.id.__img___colored___dhol_ek1);\r\n\t\twedding_photography = (TextView) findViewById(R.id.wedding_photography);\r\n\t\twedding_photography_ek1 = (TextView) findViewById(R.id.wedding_photography_ek1);\r\n\t\trectangle_2 = (View) findViewById(R.id.rectangle_2);\r\n\t\trectangle_5 = (View) findViewById(R.id.rectangle_5);\r\n\t\tbaby_photography = (TextView) findViewById(R.id.baby_photography);\r\n\t\tbaby_photography_ek1 = (TextView) findViewById(R.id.baby_photography_ek1);\r\n\t\trectangle_3 = (View) findViewById(R.id.rectangle_3);\r\n\t\trectangle_6 = (View) findViewById(R.id.rectangle_6);\r\n\t\t__img___colored___dhol_ek2 = (ImageView) findViewById(R.id.__img___colored___dhol_ek2);\r\n\t\tmaternity_photography = (TextView) findViewById(R.id.maternity_photography);\r\n\t\twedding_photography_ek2 = (TextView) findViewById(R.id.wedding_photography_ek2);\r\n\t\tbaby_1 = (ImageView) findViewById(R.id.baby_1);\r\n\t\tbaby_2 = (ImageView) findViewById(R.id.baby_2);\r\n\t\t_8dqu8xx6_1 = (ImageView) findViewById(R.id._8dqu8xx6_1);\r\n\t\r\n\t\t\r\n\t\t//custom code goes here\r\n\t\r\n\t}\r\n}\r\n\t\r\n\t\r\n```\r\n\r\n\r\nTried following things as well but nothing worked:\r\n1. Clean Project and then rebuild\r\n2. Invalidate cache-&gt;restart-&gt;rebuild project","title":"Render Problem with java.lang.reflect.InvocationTargetException (Android Studio)","body":"<p>I created a new app with no activity and replaced files generated from figma to android studio in standard directory format.\nThe export plugin gave me java, res and manifest file which I pasted into my app src/main directory.\nNow I am getting render problem for the 'xml' file after I rebuild the project.</p>\n<p>Following is the error stack for the render problem:</p>\n<pre><code>java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at android.view.BridgeInflater.lambda$createViewFromCustomInflater$0(BridgeInflater.java:259)\n    at android.view.BridgeInflater.createViewFromCustomInflater(BridgeInflater.java:285)\n    at android.view.BridgeInflater.onCreateView(BridgeInflater.java:122)\n    at android.view.LayoutInflater.onCreateView(LayoutInflater.java:934)\n    at android.view.LayoutInflater.onCreateView(LayoutInflater.java:954)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1008)\n    at android.view.BridgeInflater.createViewFromTag(BridgeInflater.java:309)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:965)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1127)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\n    at android.view.LayoutInflater.rInflate_Original(LayoutInflater.java:1130)\n    at android.view.LayoutInflater_Delegate.rInflate(LayoutInflater_Delegate.java:72)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1101)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:686)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:505)\n    at com.android.layoutlib.bridge.impl.RenderSessionImpl.inflate(RenderSessionImpl.java:359)\n    at com.android.layoutlib.bridge.Bridge.createSession(Bridge.java:436)\n    at com.android.tools.idea.layoutlib.LayoutLibrary.createSession(LayoutLibrary.java:121)\n    at com.android.tools.idea.rendering.RenderTask.createRenderSession(RenderTask.java:717)\n    at com.android.tools.idea.rendering.RenderTask.lambda$inflate$9(RenderTask.java:873)\n    at com.android.tools.idea.rendering.RenderExecutor$runAsyncActionWithTimeout$3.run(RenderExecutor.kt:192)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.NullPointerException\n    at android.graphics.fonts.Font_Builder_Delegate.createBuffer(Font_Builder_Delegate.java:52)\n    at android.graphics.fonts.Font$Builder.createBuffer(Font.java:264)\n    at android.graphics.fonts.Font$Builder.&lt;init&gt;(Font.java:200)\n    at android.graphics.Typeface$Builder.&lt;init&gt;(Typeface.java:517)\n    at android.graphics.Typeface_Delegate.createFromDisk(Typeface_Delegate.java:91)\n    at com.android.layoutlib.bridge.impl.ResourceHelper.getFont(ResourceHelper.java:488)\n    at com.android.layoutlib.bridge.impl.ResourceHelper.getFont(ResourceHelper.java:500)\n    at android.content.res.BridgeTypedArray.getFont(BridgeTypedArray.java:723)\n    at android.widget.TextView.readTextAppearance(TextView.java:4087)\n    at android.widget.TextView.&lt;init&gt;(TextView.java:1125)\n    at android.widget.TextView.&lt;init&gt;(TextView.java:1026)\n    at androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:113)\n    at androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:108)\n    at androidx.appcompat.app.AppCompatViewInflater.createTextView(AppCompatViewInflater.java:228)\n    at androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:148)\n    ... 43 more\n\n</code></pre>\n<p>splash_screen.xml</p>\n<pre><code>&lt;HorizontalScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot; &gt;\n    &lt;!-- \n    /*\n     *  This content is generated from the API File Info.\n     *  (Alt+Shift+Ctrl+I).\n     *\n     *  @desc       \n     *  @file       splash_screen\n     *  @date       Saturday 11th of February 2023 10:12:52 AM\n     *  @title      Page 1\n     *  @author     \n     *  @keywords   \n     *  @generator  Export Kit v1.3.figma\n     *\n     */\n    --&gt;\n    &lt;ScrollView android:id=&quot;@+id/splash_screen&quot; \n        android:layout_width=&quot;wrap_content&quot; \n        android:layout_height=&quot;match_parent&quot; &gt;\n\n        &lt;RelativeLayout android:id=&quot;@+id/content_container&quot; \n            android:layout_width=&quot;wrap_content&quot; \n            android:layout_height=&quot;wrap_content&quot; &gt;\n\n\n\n            &lt;RelativeLayout android:id=&quot;@+id/page_splash_screen_ek1&quot;\n                android:layout_marginTop=&quot;0dp&quot;\n                android:layout_marginStart=&quot;0dp&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                &gt;\n\n                &lt;View   android:id=&quot;@+id/_bg__splash_screen_ek2&quot;\n                    android:background=&quot;@drawable/_bg__splash_screen_ek2_shape&quot;\n                     android:layout_marginStart=&quot;0dp&quot;\n                    android:layout_marginTop=&quot;0dp&quot;\n                    android:layout_width=&quot;360dp&quot;\n                    android:layout_height=&quot;800dp&quot; /&gt;\n\n\n                &lt;RelativeLayout android:id=&quot;@+id/device_device_frame_components_status_bar&quot;\n                    android:layout_marginTop=&quot;0dp&quot;\n                    android:layout_marginStart=&quot;0dp&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    &gt;\n\n                    &lt;TextView android:id=&quot;@+id/time&quot;\n                        android:fontFamily=&quot;Roboto&quot;\n                        android:textSize=&quot;14sp&quot;\n                        android:textColor=&quot;@color/time_color&quot;\n                        android:layout_marginLeft=&quot;24dp&quot;\n                        android:layout_marginTop=&quot;13dp&quot;\n                        android:layout_width=&quot;48dp&quot;\n                        android:layout_height=&quot;30dp&quot;\n                        android:text=&quot;@string/time_string&quot;\n                         /&gt;\n\n                    &lt;ImageView android:id=&quot;@+id/__img___right_icons&quot;\n                        android:src=&quot;@drawable/__img___right_icons&quot;\n                        android:contentDescription=&quot;__img___right_icons&quot;\n                         android:layout_marginStart=&quot;290dp&quot;\n                        android:layout_marginTop=&quot;16dp&quot;\n                        android:layout_width=&quot;46dp&quot;\n                        android:layout_height=&quot;17dp&quot; /&gt;\n\n                &lt;/RelativeLayout&gt;\n\n\n                &lt;RelativeLayout android:id=&quot;@+id/device_device_frame_components_navigation&quot;\n                    android:layout_marginTop=&quot;772dp&quot;\n                    android:layout_marginStart=&quot;0dp&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    &gt;\n\n                    &lt;View   android:id=&quot;@+id/home&quot;\n                        android:background=&quot;@drawable/home_shape&quot;\n                         android:layout_marginStart=&quot;144dp&quot;\n                        android:layout_marginTop=&quot;18dp&quot;\n                        android:layout_width=&quot;72dp&quot;\n                        android:layout_height=&quot;2dp&quot; /&gt;\n\n                &lt;/RelativeLayout&gt;\n\n                &lt;ImageView android:id=&quot;@+id/__img___3d_avatars___21&quot;\n                    android:src=&quot;@drawable/__img___3d_avatars___21&quot;\n                    android:contentDescription=&quot;__img___3d_avatars___21&quot;\n                     android:layout_marginStart=&quot;20dp&quot;\n                    android:layout_marginTop=&quot;43dp&quot;\n                    android:layout_width=&quot;45dp&quot;\n                    android:layout_height=&quot;45dp&quot; /&gt;\n\n                &lt;TextView android:id=&quot;@+id/hello__tushadi_&quot;\n                    android:fontFamily=&quot;Roboto&quot;\n                    android:textStyle=&quot;bold&quot;\n                    android:layout_gravity=&quot;center_horizontal|center&quot;\n                    android:gravity=&quot;center&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textColor=&quot;@color/hello__tushadi__color&quot;\n                    android:layout_marginLeft=&quot;109dp&quot;\n                    android:layout_marginTop=&quot;55dp&quot;\n                    android:layout_width=&quot;152dp&quot;\n                    android:layout_height=&quot;34dp&quot;\n                    android:text=&quot;@string/hello__tushadi__string&quot;\n                     /&gt;\n\n                &lt;ImageView android:id=&quot;@+id/__img___notification__1__1&quot;\n                    android:src=&quot;@drawable/__img___notification__1__1&quot;\n                    android:contentDescription=&quot;__img___notification__1__1&quot;\n                     android:layout_marginStart=&quot;300dp&quot;\n                    android:layout_marginTop=&quot;43dp&quot;\n                    android:layout_width=&quot;40dp&quot;\n                    android:layout_height=&quot;40dp&quot; /&gt;\n\n\n                &lt;RelativeLayout android:id=&quot;@+id/group_5&quot;\n                    android:layout_marginTop=&quot;152dp&quot;\n                    android:layout_marginStart=&quot;24dp&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    &gt;\n\n                    &lt;View   android:id=&quot;@+id/rectangle_1&quot;\n                        android:background=&quot;@drawable/rectangle_1_shape&quot;\n                         android:layout_marginStart=&quot;1dp&quot;\n                        android:layout_marginTop=&quot;0dp&quot;\n                        android:layout_width=&quot;80dp&quot;\n                        android:layout_height=&quot;60dp&quot; /&gt;\n\n                    &lt;View   android:id=&quot;@+id/rectangle_7&quot;\n                        android:background=&quot;@drawable/rectangle_7_shape&quot;\n                         android:layout_marginStart=&quot;1dp&quot;\n                        android:layout_marginTop=&quot;0dp&quot;\n                        android:layout_width=&quot;80dp&quot;\n                        android:layout_height=&quot;60dp&quot; /&gt;\n\n                    &lt;View   android:id=&quot;@+id/rectangle_4&quot;\n                        android:background=&quot;@drawable/rectangle_4_shape&quot;\n                         android:layout_marginStart=&quot;1dp&quot;\n                        android:layout_marginTop=&quot;145dp&quot;\n                        android:layout_width=&quot;80dp&quot;\n                        android:layout_height=&quot;60dp&quot; /&gt;\n\n                    &lt;ImageView android:id=&quot;@+id/__img___colored___dhol&quot;\n                        android:src=&quot;@drawable/__img___colored___dhol&quot;\n                        android:contentDescription=&quot;__img___colored___dhol&quot;\n                         android:layout_marginStart=&quot;17dp&quot;\n                        android:layout_marginTop=&quot;11dp&quot;\n                        android:layout_width=&quot;42.42dp&quot;\n                        android:layout_height=&quot;40dp&quot; /&gt;\n\n                    &lt;ImageView android:id=&quot;@+id/__img___colored___dhol_ek1&quot;\n                        android:src=&quot;@drawable/__img___colored___dhol_ek1&quot;\n                        android:contentDescription=&quot;__img___colored___dhol_ek1&quot;\n                         android:layout_marginStart=&quot;17dp&quot;\n                        android:layout_marginTop=&quot;156dp&quot;\n                        android:layout_width=&quot;42.42dp&quot;\n                        android:layout_height=&quot;40dp&quot; /&gt;\n\n                    &lt;TextView android:id=&quot;@+id/wedding_photography&quot;\n                        android:fontFamily=&quot;Arial&quot;\n                        android:layout_gravity=&quot;center_horizontal|center&quot;\n                        android:gravity=&quot;center&quot;\n                        android:textSize=&quot;14sp&quot;\n                        android:textColor=&quot;@color/wedding_photography_color&quot;\n                        android:layout_marginLeft=&quot;-2dp&quot;\n                        android:layout_marginTop=&quot;63dp&quot;\n                        android:layout_width=&quot;93dp&quot;\n                        android:layout_height=&quot;50dp&quot;\n                        android:text=&quot;@string/wedding_photography_string&quot;\n                         /&gt;\n\n                    &lt;TextView android:id=&quot;@+id/wedding_photography_ek1&quot;\n                        android:fontFamily=&quot;Arial&quot;\n                        android:layout_gravity=&quot;center_horizontal|center&quot;\n                        android:gravity=&quot;center&quot;\n                        android:textSize=&quot;14sp&quot;\n                        android:textColor=&quot;@color/wedding_photography_color&quot;\n                        android:layout_marginLeft=&quot;-2dp&quot;\n                        android:layout_marginTop=&quot;208dp&quot;\n                        android:layout_width=&quot;93dp&quot;\n                        android:layout_height=&quot;50dp&quot;\n                        android:text=&quot;@string/wedding_photography_ek1_string&quot;\n                         /&gt;\n\n                    &lt;View   android:id=&quot;@+id/rectangle_2&quot;\n                        android:background=&quot;@drawable/rectangle_2_shape&quot;\n                         android:layout_marginStart=&quot;111dp&quot;\n                        android:layout_marginTop=&quot;0dp&quot;\n                        android:layout_width=&quot;80dp&quot;\n                        android:layout_height=&quot;60dp&quot; /&gt;\n\n                    &lt;View   android:id=&quot;@+id/rectangle_5&quot;\n                        android:background=&quot;@drawable/rectangle_5_shape&quot;\n                         android:layout_marginStart=&quot;111dp&quot;\n                        android:layout_marginTop=&quot;145dp&quot;\n                        android:layout_width=&quot;80dp&quot;\n                        android:layout_height=&quot;60dp&quot; /&gt;\n\n                    &lt;TextView android:id=&quot;@+id/baby_photography&quot;\n                        android:fontFamily=&quot;Arial&quot;\n                        android:layout_gravity=&quot;center_horizontal|center&quot;\n                        android:gravity=&quot;center&quot;\n                        android:textSize=&quot;14sp&quot;\n                        android:textColor=&quot;@color/wedding_photography_color&quot;\n                        android:layout_marginLeft=&quot;108dp&quot;\n                        android:layout_marginTop=&quot;63dp&quot;\n                        android:layout_width=&quot;93dp&quot;\n                        android:layout_height=&quot;50dp&quot;\n                        android:text=&quot;@string/baby_photography_string&quot;\n                         /&gt;\n\n                    &lt;TextView android:id=&quot;@+id/baby_photography_ek1&quot;\n                        android:fontFamily=&quot;Arial&quot;\n                        android:layout_gravity=&quot;center_horizontal|center&quot;\n                        android:gravity=&quot;center&quot;\n                        android:textSize=&quot;14sp&quot;\n                        android:textColor=&quot;@color/wedding_photography_color&quot;\n                        android:layout_marginLeft=&quot;108dp&quot;\n                        android:layout_marginTop=&quot;208dp&quot;\n                        android:layout_width=&quot;93dp&quot;\n                        android:layout_height=&quot;50dp&quot;\n                        android:text=&quot;@string/baby_photography_ek1_string&quot;\n                         /&gt;\n\n                    &lt;View   android:id=&quot;@+id/rectangle_3&quot;\n                        android:background=&quot;@drawable/rectangle_3_shape&quot;\n                         android:layout_marginStart=&quot;229dp&quot;\n                        android:layout_marginTop=&quot;0dp&quot;\n                        android:layout_width=&quot;80dp&quot;\n                        android:layout_height=&quot;60dp&quot; /&gt;\n\n                    &lt;View   android:id=&quot;@+id/rectangle_6&quot;\n                        android:background=&quot;@drawable/rectangle_6_shape&quot;\n                         android:layout_marginStart=&quot;229dp&quot;\n                        android:layout_marginTop=&quot;145dp&quot;\n                        android:layout_width=&quot;80dp&quot;\n                        android:layout_height=&quot;60dp&quot; /&gt;\n\n                    &lt;ImageView android:id=&quot;@+id/__img___colored___dhol_ek2&quot;\n                        android:src=&quot;@drawable/__img___colored___dhol_ek2&quot;\n                        android:contentDescription=&quot;__img___colored___dhol_ek2&quot;\n                         android:layout_marginStart=&quot;248dp&quot;\n                        android:layout_marginTop=&quot;154dp&quot;\n                        android:layout_width=&quot;42.42dp&quot;\n                        android:layout_height=&quot;40dp&quot; /&gt;\n\n                    &lt;TextView android:id=&quot;@+id/maternity_photography&quot;\n                        android:fontFamily=&quot;Arial&quot;\n                        android:layout_gravity=&quot;center_horizontal|center&quot;\n                        android:gravity=&quot;center&quot;\n                        android:textSize=&quot;14sp&quot;\n                        android:textColor=&quot;@color/wedding_photography_color&quot;\n                        android:layout_marginLeft=&quot;226dp&quot;\n                        android:layout_marginTop=&quot;63dp&quot;\n                        android:layout_width=&quot;93dp&quot;\n                        android:layout_height=&quot;50dp&quot;\n                        android:text=&quot;@string/maternity_photography_string&quot;\n                         /&gt;\n\n                    &lt;TextView android:id=&quot;@+id/wedding_photography_ek2&quot;\n                        android:fontFamily=&quot;Arial&quot;\n                        android:layout_gravity=&quot;center_horizontal|center&quot;\n                        android:gravity=&quot;center&quot;\n                        android:textSize=&quot;14sp&quot;\n                        android:textColor=&quot;@color/wedding_photography_color&quot;\n                        android:layout_marginLeft=&quot;226dp&quot;\n                        android:layout_marginTop=&quot;208dp&quot;\n                        android:layout_width=&quot;93dp&quot;\n                        android:layout_height=&quot;50dp&quot;\n                        android:text=&quot;@string/wedding_photography_ek2_string&quot;\n                         /&gt;\n\n                    &lt;ImageView android:id=&quot;@+id/baby_1&quot;\n                        android:src=&quot;@drawable/baby_1&quot;\n                        android:contentDescription=&quot;baby_1&quot;\n                         android:layout_marginStart=&quot;120dp&quot;\n                        android:layout_marginTop=&quot;2dp&quot;\n                        android:layout_width=&quot;62dp&quot;\n                        android:layout_height=&quot;54dp&quot; /&gt;\n\n                    &lt;ImageView android:id=&quot;@+id/baby_2&quot;\n                        android:src=&quot;@drawable/baby_2&quot;\n                        android:contentDescription=&quot;baby_2&quot;\n                         android:layout_marginStart=&quot;120dp&quot;\n                        android:layout_marginTop=&quot;147dp&quot;\n                        android:layout_width=&quot;62dp&quot;\n                        android:layout_height=&quot;54dp&quot; /&gt;\n\n                    &lt;ImageView android:id=&quot;@+id/_8dqu8xx6_1&quot;\n                        android:src=&quot;@drawable/_8dqu8xx6_1&quot;\n                        android:contentDescription=&quot;_8dqu8xx6_1&quot;\n                         android:layout_marginStart=&quot;244dp&quot;\n                        android:layout_marginTop=&quot;0dp&quot;\n                        android:layout_width=&quot;51dp&quot;\n                        android:layout_height=&quot;59dp&quot; /&gt;\n\n                &lt;/RelativeLayout&gt;\n\n            &lt;/RelativeLayout&gt;\n        &lt;/RelativeLayout&gt;\n\n    &lt;/ScrollView&gt;\n&lt;/HorizontalScrollView&gt;\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;exportkit.figma&quot; &gt;\n\n    \n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        android:label=&quot;@string/app_name&quot; &gt;\n        &lt;activity\n        android:name=&quot;.splash_screen_activity&quot;\n        android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:exported=&quot;true&quot;  &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n    \n    \n</code></pre>\n<p>splash_screen_activity.xml</p>\n<pre><code>\n     \n    /*\n     *  This content is generated from the API File Info.\n     *  (Alt+Shift+Ctrl+I).\n     *\n     *  @desc       \n     *  @file       splash_screen\n     *  @date       Saturday 11th of February 2023 10:12:52 AM\n     *  @title      Page 1\n     *  @author     \n     *  @keywords   \n     *  @generator  Export Kit v1.3.figma\n     *\n     */\n    \n\npackage exportkit.figma;\n\nimport android.app.Activity;\nimport android.os.Bundle;\n\n\nimport android.view.View;\nimport android.widget.TextView;\nimport android.widget.ImageView;\n\nimport com.example.demo_trial2.R;\n\n    public class splash_screen_activity extends Activity {\n\n    \n    private View _bg__splash_screen_ek2;\n    private TextView time;\n    private ImageView __img___right_icons;\n    private View home;\n    private ImageView __img___3d_avatars___21;\n    private TextView hello__tushadi_;\n    private ImageView __img___notification__1__1;\n    private View rectangle_1;\n    private View rectangle_7;\n    private View rectangle_4;\n    private ImageView __img___colored___dhol;\n    private ImageView __img___colored___dhol_ek1;\n    private TextView wedding_photography;\n    private TextView wedding_photography_ek1;\n    private View rectangle_2;\n    private View rectangle_5;\n    private TextView baby_photography;\n    private TextView baby_photography_ek1;\n    private View rectangle_3;\n    private View rectangle_6;\n    private ImageView __img___colored___dhol_ek2;\n    private TextView maternity_photography;\n    private TextView wedding_photography_ek2;\n    private ImageView baby_1;\n    private ImageView baby_2;\n    private ImageView _8dqu8xx6_1;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.splash_screen);\n\n        \n        _bg__splash_screen_ek2 = (View) findViewById(R.id._bg__splash_screen_ek2);\n        time = (TextView) findViewById(R.id.time);\n        __img___right_icons = (ImageView) findViewById(R.id.__img___right_icons);\n        home = (View) findViewById(R.id.home);\n        __img___3d_avatars___21 = (ImageView) findViewById(R.id.__img___3d_avatars___21);\n        hello__tushadi_ = (TextView) findViewById(R.id.hello__tushadi_);\n        __img___notification__1__1 = (ImageView) findViewById(R.id.__img___notification__1__1);\n        rectangle_1 = (View) findViewById(R.id.rectangle_1);\n        rectangle_7 = (View) findViewById(R.id.rectangle_7);\n        rectangle_4 = (View) findViewById(R.id.rectangle_4);\n        __img___colored___dhol = (ImageView) findViewById(R.id.__img___colored___dhol);\n        __img___colored___dhol_ek1 = (ImageView) findViewById(R.id.__img___colored___dhol_ek1);\n        wedding_photography = (TextView) findViewById(R.id.wedding_photography);\n        wedding_photography_ek1 = (TextView) findViewById(R.id.wedding_photography_ek1);\n        rectangle_2 = (View) findViewById(R.id.rectangle_2);\n        rectangle_5 = (View) findViewById(R.id.rectangle_5);\n        baby_photography = (TextView) findViewById(R.id.baby_photography);\n        baby_photography_ek1 = (TextView) findViewById(R.id.baby_photography_ek1);\n        rectangle_3 = (View) findViewById(R.id.rectangle_3);\n        rectangle_6 = (View) findViewById(R.id.rectangle_6);\n        __img___colored___dhol_ek2 = (ImageView) findViewById(R.id.__img___colored___dhol_ek2);\n        maternity_photography = (TextView) findViewById(R.id.maternity_photography);\n        wedding_photography_ek2 = (TextView) findViewById(R.id.wedding_photography_ek2);\n        baby_1 = (ImageView) findViewById(R.id.baby_1);\n        baby_2 = (ImageView) findViewById(R.id.baby_2);\n        _8dqu8xx6_1 = (ImageView) findViewById(R.id._8dqu8xx6_1);\n    \n        \n        //custom code goes here\n    \n    }\n}\n    \n    \n</code></pre>\n<p>Tried following things as well but nothing worked:</p>\n<ol>\n<li>Clean Project and then rebuild</li>\n<li>Invalidate cache-&gt;restart-&gt;rebuild project</li>\n</ol>\n"},{"tags":["java","arrays","string","merge","singly-linked-list"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1676121034,"post_id":75420258,"comment_id":133076194,"body_markdown":"_I tried to change them into integers instead of a string but it won&#39;t work and only give me errors everywhere._ Then you need to [edit] your question and post that code, as well as details of the errors you are getting. I easily changed the `String` to `Integer` and the code in your question produced the expected result.","body":"<i>I tried to change them into integers instead of a string but it won&#39;t work and only give me errors everywhere.</i> Then you need to <a href=\"https://stackoverflow.com/posts/75420258/edit\">edit</a> your question and post that code, as well as details of the errors you are getting. I easily changed the <code>String</code> to <code>Integer</code> and the code in your question produced the expected result."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1676122231,"post_id":75420258,"comment_id":133076392,"body_markdown":"Strings don&#39;t sort the same as integers.  You will need to change to integers to get this to work.  Please show the code you are having problems with, this code sorts (strings) correctly.","body":"Strings don&#39;t sort the same as integers.  You will need to change to integers to get this to work.  Please show the code you are having problems with, this code sorts (strings) correctly."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1676123911,"post_id":75420258,"comment_id":133076655,"body_markdown":"a quick fix is to parse whatever int you want out from the string before doing any sort of comparison using Integer.parseInt(). Though the more logical answer would be to use Integer wrapper class from the start (it supports compareTo()), or you could just use an int, and use an equality operator instead","body":"a quick fix is to parse whatever int you want out from the string before doing any sort of comparison using Integer.parseInt(). Though the more logical answer would be to use Integer wrapper class from the start (it supports compareTo()), or you could just use an int, and use an equality operator instead"}],"answers":[{"tags":[],"owner":{"account_id":15074809,"reputation":51,"user_id":12253435,"display_name":"Gil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676120995,"creation_date":1676120995,"answer_id":75420417,"question_id":75420258,"body_markdown":"Return is correct: \r\n\r\n    3 2 9 10 =&gt;  9     3 2 10  \r\n    1 8 0 4  =&gt;    8 4        1 0\r\n    result:      9 8 4 3 2 10 1 0\r\n\r\nJust missing the sorting","title":"java code merge two listed llink arrays and order it in decreasing order to new array","body":"<p>Return is correct:</p>\n<pre><code>3 2 9 10 =&gt;  9     3 2 10  \n1 8 0 4  =&gt;    8 4        1 0\nresult:      9 8 4 3 2 10 1 0\n</code></pre>\n<p>Just missing the sorting</p>\n"}],"owner":{"account_id":25284267,"reputation":1,"user_id":19111600,"display_name":"Maram uwu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676120995,"creation_date":1676118933,"question_id":75420258,"body_markdown":"I&#39;m trying to have the user input integers for first linked list and second linked list then merge them into a new array in decreasing order. The problem is when it print out the result it identify two digits number as one number and ordering it wrong.\r\n\r\nExample:\r\n```none\r\nenter first sentence:\r\n1 8 0 4\r\nenter second sentence:\r\n3 2 9 10\r\nresult:\r\n9 8 4 3 2 10 1 0\r\n```\r\nThe problem is\r\nit counted 10 as 1 \r\n\r\nThe desired result\r\n```none\r\n10 9 8 4 3 2 1 0\r\n```\r\nHere my codes and classes\r\n```java\r\npackage homework;\r\n\r\nimport static homework.Cipher.decode;\r\nimport static homework.Cipher.encode;\r\nimport java.util.Scanner;\r\n\r\npublic class HOMEWORK {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        int x = 0;\r\n        while (x != 5) {\r\n            System.out.println(&quot;-_-_-_-_-MENU-_-_-_-_-\\n1-Encrypt Text&quot;\r\n                    + &quot;\\n2-Decrypt Text&quot;\r\n                    + &quot;\\n3-Merge two sorted list in decreasing order&quot;\r\n                    + &quot;\\n4- Reverse Linked List Recursively &quot;\r\n                    + &quot;\\n5- Exit &quot;);\r\n            System.out.println(&quot;Please enter your choice: &quot;);\r\n            x = input.nextInt();\r\n            input.nextLine();\r\n            switch (x) {\r\n                case 1:\r\n                    System.out.println(&quot;Please enter Line to encode: &quot;);\r\n                    String plaintext = input.nextLine();\r\n                    System.out.println(&quot;Please enter Shift  Number:&quot;);\r\n                    int number = input.nextInt();\r\n                    input.nextLine();\r\n\r\n                    String encoded = encode(plaintext, number);\r\n                    System.out.println(&quot;Result:&quot;);\r\n                    System.out.println(encoded);\r\n                    break;\r\n                case 2:\r\n                    System.out.println(&quot;Please enter Line to decode: &quot;);\r\n                    String code = input.nextLine();\r\n                    System.out.println(&quot;Please enter Shift  Number:&quot;);\r\n                    int number1 = input.nextInt();\r\n                    input.nextLine();\r\n\r\n                    System.out.println(&quot;Result:&quot;);\r\n                    System.out.println(decode(code, number1));\r\n                    break;\r\n                case 3:\r\n                    Merge list1 = new Merge();\r\n                    Merge list2 = new Merge();\r\n                    System.out.println(&quot;Enter first scentence :&quot;);\r\n                    String[] string1 = input.nextLine().split(&quot; &quot;);\r\n\r\n                    System.out.println(&quot;Enter second scentence :&quot;);\r\n                    String[] string2 = input.nextLine().split(&quot; &quot;);\r\n                    for (int i = 0; i &lt; string1.length; i++) {\r\n                        list1.insert(string1[i]);\r\n                    }\r\n                    for (int i = 0; i &lt; string2.length; i++) {\r\n                        list2.insert(string2[i]);\r\n                    }\r\n                    Merge merged = list1.merge(list1, list2);\r\n\r\n                    System.out.println(&quot;Result &quot;);\r\n                    merged.Display();\r\n                    System.out.println();\r\n                    break;\r\n                case 4:\r\n                    SinglyLinkedList LL = new SinglyLinkedList();\r\n                    System.out.println(&quot;Enter  scentence to reverse :&quot;);\r\n                    String[] string = input.nextLine().split(&quot; &quot;);\r\n                    for (int i = 0; i &lt; string.length; i++) {\r\n                        LL.addLast(string[i]);\r\n                    }\r\n                    System.out.println(&quot;REVERSED&quot;);\r\n                    System.out.println(LL.reverse());\r\n                    break;\r\n                case 5:\r\n                default:\r\n                    System.out.println(&quot; Goodbye &quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nMy `Merge` class\r\n```\r\npackage homework;\r\n\r\npublic class Merge {\r\n    public Node head = null; // head node of the list (or null if empty) \r\n    // access methods \r\n    int size = 0;\r\n\r\n// update methods \r\n    public void addFirst(String e) { // adds data e to the front of the list \r\n        head = new Node(e, head);// create and link a new node \r\n        size++;\r\n    }\r\n\r\n    public String deleteFirst() {\r\n        if (size == 0) {\r\n            return &quot;&quot;;\r\n        }\r\n        String remo = head.element;\r\n        head = head.next;\r\n        size--;\r\n        return remo;\r\n    }\r\n\r\n    public void insert(String element) {\r\n        if (head == null || head.element.compareTo(element) &gt;= 0) {\r\n            addFirst(element);\r\n        } else {\r\n            Node p = head;\r\n            Node c = p.next;\r\n            while (c != null &amp;&amp; c.element.compareTo(element) &lt;= 0) {\r\n                p = c;\r\n                c = c.next;\r\n            }\r\n            Node newest = new Node(element, c); // node will eventually be the tail \r\n            p.next = newest;\r\n        }\r\n    }\r\n\r\n    public void Display() {\r\n        Node N = head;\r\n        while (N != null) {\r\n            System.out.print(N.element + &quot; &quot;);\r\n            N = N.next;\r\n        }\r\n    }\r\n\r\n    public Merge merge(Merge list1, Merge list2) {\r\n        Merge merged = new Merge();\r\n        Node head1 = list1.head;\r\n        Node head2 = list2.head;\r\n        if (head1 == null) {\r\n            return list2;\r\n        }\r\n        if (head2 == null) {\r\n            return list1;\r\n        }\r\n        merged.head = null;\r\n        if (head1.element.compareTo(head2.element) &lt;= 0) {\r\n            merged.head = head1;\r\n            head1 = head1.next;\r\n        } else {\r\n            merged.head = head2;\r\n            head2 = head2.next;\r\n        }\r\n        Node mergedTail = merged.head;\r\n        while (head1 != null &amp;&amp; head2 != null) {\r\n            Node temp = null;\r\n            if (head1.element.compareTo(head2.element) &lt;= 0) {\r\n                temp = head1;\r\n                head1 = head1.next;\r\n            } else {\r\n                temp = head2;\r\n                head2 = head2.next;\r\n            }\r\n            mergedTail.next = temp;\r\n            mergedTail = temp;\r\n        }\r\n        if (head1 != null) {\r\n            mergedTail.next = head1;\r\n        } else if (head2 != null) {\r\n            mergedTail.next = head2;\r\n        }\r\n        Node p = null;\r\n        Node c = merged.head;\r\n        Node next = null;\r\n        while (c != null) {\r\n            next = c.next;\r\n            c.next = p;\r\n            p = c;\r\n            c = next;\r\n        }\r\n        merged.head = p;\r\n        return merged;\r\n    }\r\n\r\n    public static class Node {\r\n        private String element;\r\n        private Node next;\r\n\r\n// reference to the data stored at this node // reference to the subsequent node in the list\r\n        public Node(String e, Node n) {\r\n            element = e;\r\n            next = n;\r\n        }\r\n    }\r\n}\r\n```\r\nI tried to change them into integers instead of a string but it won&#39;t work and only give me errors everywhere.\r\n","title":"java code merge two listed llink arrays and order it in decreasing order to new array","body":"<p>I'm trying to have the user input integers for first linked list and second linked list then merge them into a new array in decreasing order. The problem is when it print out the result it identify two digits number as one number and ordering it wrong.</p>\n<p>Example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>enter first sentence:\n1 8 0 4\nenter second sentence:\n3 2 9 10\nresult:\n9 8 4 3 2 10 1 0\n</code></pre>\n<p>The problem is\nit counted 10 as 1</p>\n<p>The desired result</p>\n<pre class=\"lang-none prettyprint-override\"><code>10 9 8 4 3 2 1 0\n</code></pre>\n<p>Here my codes and classes</p>\n<pre class=\"lang-java prettyprint-override\"><code>package homework;\n\nimport static homework.Cipher.decode;\nimport static homework.Cipher.encode;\nimport java.util.Scanner;\n\npublic class HOMEWORK {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int x = 0;\n        while (x != 5) {\n            System.out.println(&quot;-_-_-_-_-MENU-_-_-_-_-\\n1-Encrypt Text&quot;\n                    + &quot;\\n2-Decrypt Text&quot;\n                    + &quot;\\n3-Merge two sorted list in decreasing order&quot;\n                    + &quot;\\n4- Reverse Linked List Recursively &quot;\n                    + &quot;\\n5- Exit &quot;);\n            System.out.println(&quot;Please enter your choice: &quot;);\n            x = input.nextInt();\n            input.nextLine();\n            switch (x) {\n                case 1:\n                    System.out.println(&quot;Please enter Line to encode: &quot;);\n                    String plaintext = input.nextLine();\n                    System.out.println(&quot;Please enter Shift  Number:&quot;);\n                    int number = input.nextInt();\n                    input.nextLine();\n\n                    String encoded = encode(plaintext, number);\n                    System.out.println(&quot;Result:&quot;);\n                    System.out.println(encoded);\n                    break;\n                case 2:\n                    System.out.println(&quot;Please enter Line to decode: &quot;);\n                    String code = input.nextLine();\n                    System.out.println(&quot;Please enter Shift  Number:&quot;);\n                    int number1 = input.nextInt();\n                    input.nextLine();\n\n                    System.out.println(&quot;Result:&quot;);\n                    System.out.println(decode(code, number1));\n                    break;\n                case 3:\n                    Merge list1 = new Merge();\n                    Merge list2 = new Merge();\n                    System.out.println(&quot;Enter first scentence :&quot;);\n                    String[] string1 = input.nextLine().split(&quot; &quot;);\n\n                    System.out.println(&quot;Enter second scentence :&quot;);\n                    String[] string2 = input.nextLine().split(&quot; &quot;);\n                    for (int i = 0; i &lt; string1.length; i++) {\n                        list1.insert(string1[i]);\n                    }\n                    for (int i = 0; i &lt; string2.length; i++) {\n                        list2.insert(string2[i]);\n                    }\n                    Merge merged = list1.merge(list1, list2);\n\n                    System.out.println(&quot;Result &quot;);\n                    merged.Display();\n                    System.out.println();\n                    break;\n                case 4:\n                    SinglyLinkedList LL = new SinglyLinkedList();\n                    System.out.println(&quot;Enter  scentence to reverse :&quot;);\n                    String[] string = input.nextLine().split(&quot; &quot;);\n                    for (int i = 0; i &lt; string.length; i++) {\n                        LL.addLast(string[i]);\n                    }\n                    System.out.println(&quot;REVERSED&quot;);\n                    System.out.println(LL.reverse());\n                    break;\n                case 5:\n                default:\n                    System.out.println(&quot; Goodbye &quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>My <code>Merge</code> class</p>\n<pre><code>package homework;\n\npublic class Merge {\n    public Node head = null; // head node of the list (or null if empty) \n    // access methods \n    int size = 0;\n\n// update methods \n    public void addFirst(String e) { // adds data e to the front of the list \n        head = new Node(e, head);// create and link a new node \n        size++;\n    }\n\n    public String deleteFirst() {\n        if (size == 0) {\n            return &quot;&quot;;\n        }\n        String remo = head.element;\n        head = head.next;\n        size--;\n        return remo;\n    }\n\n    public void insert(String element) {\n        if (head == null || head.element.compareTo(element) &gt;= 0) {\n            addFirst(element);\n        } else {\n            Node p = head;\n            Node c = p.next;\n            while (c != null &amp;&amp; c.element.compareTo(element) &lt;= 0) {\n                p = c;\n                c = c.next;\n            }\n            Node newest = new Node(element, c); // node will eventually be the tail \n            p.next = newest;\n        }\n    }\n\n    public void Display() {\n        Node N = head;\n        while (N != null) {\n            System.out.print(N.element + &quot; &quot;);\n            N = N.next;\n        }\n    }\n\n    public Merge merge(Merge list1, Merge list2) {\n        Merge merged = new Merge();\n        Node head1 = list1.head;\n        Node head2 = list2.head;\n        if (head1 == null) {\n            return list2;\n        }\n        if (head2 == null) {\n            return list1;\n        }\n        merged.head = null;\n        if (head1.element.compareTo(head2.element) &lt;= 0) {\n            merged.head = head1;\n            head1 = head1.next;\n        } else {\n            merged.head = head2;\n            head2 = head2.next;\n        }\n        Node mergedTail = merged.head;\n        while (head1 != null &amp;&amp; head2 != null) {\n            Node temp = null;\n            if (head1.element.compareTo(head2.element) &lt;= 0) {\n                temp = head1;\n                head1 = head1.next;\n            } else {\n                temp = head2;\n                head2 = head2.next;\n            }\n            mergedTail.next = temp;\n            mergedTail = temp;\n        }\n        if (head1 != null) {\n            mergedTail.next = head1;\n        } else if (head2 != null) {\n            mergedTail.next = head2;\n        }\n        Node p = null;\n        Node c = merged.head;\n        Node next = null;\n        while (c != null) {\n            next = c.next;\n            c.next = p;\n            p = c;\n            c = next;\n        }\n        merged.head = p;\n        return merged;\n    }\n\n    public static class Node {\n        private String element;\n        private Node next;\n\n// reference to the data stored at this node // reference to the subsequent node in the list\n        public Node(String e, Node n) {\n            element = e;\n            next = n;\n        }\n    }\n}\n</code></pre>\n<p>I tried to change them into integers instead of a string but it won't work and only give me errors everywhere.</p>\n"},{"tags":["java","jpa","relationship"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1676115660,"post_id":75419873,"comment_id":133075344,"body_markdown":"Can you please show code for the example, how you try to insert the data now?","body":"Can you please show code for the example, how you try to insert the data now?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676306358,"post_id":75419873,"comment_id":133106423,"body_markdown":"I&#39;m not sure how you haven&#39;t found an answer - every JPA tutorial that deals with an object model (ie relationships) normally have to explain this in detail. I don&#39;t know why you&#39;d have businessKey duplicated in all your entities in this graph - it seems very denormalized; why didn&#39;t you use is as the order ID? JPA would then set this in the Items for you based on the relationship instead of you having to generate something entirely different. Otherwise, I don&#39;t see why you&#39;d have it in Item at all.","body":"I&#39;m not sure how you haven&#39;t found an answer - every JPA tutorial that deals with an object model (ie relationships) normally have to explain this in detail. I don&#39;t know why you&#39;d have businessKey duplicated in all your entities in this graph - it seems very denormalized; why didn&#39;t you use is as the order ID? JPA would then set this in the Items for you based on the relationship instead of you having to generate something entirely different. Otherwise, I don&#39;t see why you&#39;d have it in Item at all."}],"owner":{"account_id":27759822,"reputation":1,"user_id":21192481,"display_name":"Marco_85"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676120144,"creation_date":1676115006,"question_id":75419873,"body_markdown":"Yes, i know there&#39;s lots of this questions about jpa and foreign keys\r\nBut i dont found any answer for my case.\r\n\r\nI need to import json data in a mysql database. The data looks like this example\r\n\r\norder -(1:n)&gt; item\r\n``` lang-json\r\n{\r\n  type: &quot;order&quot;,\r\n  name: &quot;abcd&quot;,\r\n  business_key: &quot;2020_0001&quot;,\r\n}\r\n\r\n[\r\n{\r\n  type: &quot;item&quot;,\r\n  desc: &quot;xxxx&quot;,\r\n  business_key: &quot;2020_0001&quot;,\r\n  date: &quot;2020-01-01&quot;,\r\n},\r\n\r\n{\r\n  type:&quot;item&quot;,\r\n  desc: &quot;aaaaa&quot;,\r\n  business_key: &quot;2020_0001&quot;,\r\n  date: &quot;2020-01-01&quot;,\r\n}\r\n]\r\n```\r\n\r\nThe business_key is in the old datasource the foreign key.\r\n\r\nWhat i tried was to create a java entity class for order with a oneToMany items.\r\n\r\n``` lang-java\r\npublic class Order {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;business_key&quot;)\r\n    private String businessKey;\r\n\r\n    @OneToMany(mappedBy = &quot;order&quot;)\r\n    private List&lt;Item&gt; items;\r\n}\r\n\r\npublic class Item {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;business_key&quot;)\r\n    private String businessKey;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;order_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Order order;\r\n}\r\n```\r\n\r\nAnd here is the part to insert the data in the database\r\n\r\n``` lang-java\r\nprivate void processObjectMapping(String className, File file) throws IOException {\r\n        if (className.matches(&quot;^item.json$&quot;)) {\r\n            List&lt;Item&gt; list = mapper.readValue(file, new TypeReference&lt;List&lt;Item&gt;&gt;() {\r\n            });\r\n            itemRepository.saveAll(list);\r\n        } else if (className.matches(&quot;^order.json$&quot;)) {\r\n            Order order = mapper.readValue(file, new TypeReference&lt;Order&gt;() {\r\n            });\r\n    orderRepository.save(order);\r\n    }\r\n\r\n```\r\n\r\n\r\nOf course the JPA cant insert a value in the Foreign_key column all objects were created independently.\r\n\r\n*Question:* is there a way to build a relationship between the entities in jpa with the existing business_key. \r\nOr what i thought is to run after the import is done a process which set the releationships?\r\nCould help me here a JPA Entity Graph?\r\nOr maybe other recommendations?","title":"set a relationship in jpa","body":"<p>Yes, i know there's lots of this questions about jpa and foreign keys\nBut i dont found any answer for my case.</p>\n<p>I need to import json data in a mysql database. The data looks like this example</p>\n<p>order -(1:n)&gt; item</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  type: &quot;order&quot;,\n  name: &quot;abcd&quot;,\n  business_key: &quot;2020_0001&quot;,\n}\n\n[\n{\n  type: &quot;item&quot;,\n  desc: &quot;xxxx&quot;,\n  business_key: &quot;2020_0001&quot;,\n  date: &quot;2020-01-01&quot;,\n},\n\n{\n  type:&quot;item&quot;,\n  desc: &quot;aaaaa&quot;,\n  business_key: &quot;2020_0001&quot;,\n  date: &quot;2020-01-01&quot;,\n}\n]\n</code></pre>\n<p>The business_key is in the old datasource the foreign key.</p>\n<p>What i tried was to create a java entity class for order with a oneToMany items.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Order {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;business_key&quot;)\n    private String businessKey;\n\n    @OneToMany(mappedBy = &quot;order&quot;)\n    private List&lt;Item&gt; items;\n}\n\npublic class Item {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;business_key&quot;)\n    private String businessKey;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;order_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Order order;\n}\n</code></pre>\n<p>And here is the part to insert the data in the database</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void processObjectMapping(String className, File file) throws IOException {\n        if (className.matches(&quot;^item.json$&quot;)) {\n            List&lt;Item&gt; list = mapper.readValue(file, new TypeReference&lt;List&lt;Item&gt;&gt;() {\n            });\n            itemRepository.saveAll(list);\n        } else if (className.matches(&quot;^order.json$&quot;)) {\n            Order order = mapper.readValue(file, new TypeReference&lt;Order&gt;() {\n            });\n    orderRepository.save(order);\n    }\n\n</code></pre>\n<p>Of course the JPA cant insert a value in the Foreign_key column all objects were created independently.</p>\n<p><em>Question:</em> is there a way to build a relationship between the entities in jpa with the existing business_key.\nOr what i thought is to run after the import is done a process which set the releationships?\nCould help me here a JPA Entity Graph?\nOr maybe other recommendations?</p>\n"},{"tags":["java","hex","bcd"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675424312,"post_id":75334650,"comment_id":132930924,"body_markdown":"*String textRead = new String(reply, 0, bytesRead);* You seem to be creating strings. That would be ok if the source is string-based but 7E2466490CE1A430 is certainly not a valid UTF-8 string. Also, BCD is for encoding *digits*, not arbitrary strings, so I&#39;m not sure where you&#39;re going with all this...","body":"<i>String textRead = new String(reply, 0, bytesRead);</i> You seem to be creating strings. That would be ok if the source is string-based but 7E2466490CE1A430 is certainly not a valid UTF-8 string. Also, BCD is for encoding <i>digits</i>, not arbitrary strings, so I&#39;m not sure where you&#39;re going with all this..."},{"owner":{"account_id":13982358,"reputation":55,"user_id":10098210,"display_name":"Mohamed Nazir"},"score":0,"creation_date":1675432772,"post_id":75334650,"comment_id":132933413,"body_markdown":"Actually, our client will send the message in BCD format, which I need to receive and convert it back to HEX. I wrote the client in this example as a test program, so I could test it.","body":"Actually, our client will send the message in BCD format, which I need to receive and convert it back to HEX. I wrote the client in this example as a test program, so I could test it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675434007,"post_id":75334650,"comment_id":132933884,"body_markdown":"*which I need to receive and convert it back to HEX.* Why would you convert digits to hex? That would take up twice as much space and be not readily readable. `01` would become `3031`","body":"<i>which I need to receive and convert it back to HEX.</i> Why would you convert digits to hex? That would take up twice as much space and be not readily readable. <code>01</code> would become <code>3031</code>"}],"answers":[{"tags":[],"owner":{"account_id":2268261,"reputation":117,"user_id":1996331,"display_name":"Shadaksharayya H A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676119979,"creation_date":1676119979,"answer_id":75420340,"question_id":75334650,"body_markdown":"Try below change to deserialize() method\r\n\r\n    public void deserialize(InputStream inputStream) throws IOException {\r\n        byte[] reply = new byte[1024];\r\n        int bytesRead;\r\n        while (-1 != (bytesRead = inputStream.read(reply))) {\r\n            String message = Hex.encodeHexString (reply);\r\n            LOGGER.info(&quot;MESSAGE ::&quot;+ message);\r\n        }\r\n    }\r\n\r\nencodeHexString() is used from below library\r\n\r\nhttps://github.com/apache/commons-codec/blob/master/src/main/java/org/apache/commons/codec/binary/Hex.java\r\n\r\n    /**\r\n     * Converts an array of bytes into a String representing the hexadecimal values of each byte in order. The returned\r\n     * String will be double the length of the passed array, as it takes two characters to represent any given byte.\r\n     *\r\n     * @param data a byte[] to convert to hex characters\r\n     * @return A String containing lower-case hexadecimal characters\r\n     * @since 1.4 strong text\r\n     */\r\n    public static String encodeHexString(final byte[] data) {\r\n        return new String(encodeHex(data));\r\n    }","title":"Hexa to BCD conversion","body":"<p>Try below change to deserialize() method</p>\n<pre><code>public void deserialize(InputStream inputStream) throws IOException {\n    byte[] reply = new byte[1024];\n    int bytesRead;\n    while (-1 != (bytesRead = inputStream.read(reply))) {\n        String message = Hex.encodeHexString (reply);\n        LOGGER.info(&quot;MESSAGE ::&quot;+ message);\n    }\n}\n</code></pre>\n<p>encodeHexString() is used from below library</p>\n<p><a href=\"https://github.com/apache/commons-codec/blob/master/src/main/java/org/apache/commons/codec/binary/Hex.java\" rel=\"nofollow noreferrer\">https://github.com/apache/commons-codec/blob/master/src/main/java/org/apache/commons/codec/binary/Hex.java</a></p>\n<pre><code>/**\n * Converts an array of bytes into a String representing the hexadecimal values of each byte in order. The returned\n * String will be double the length of the passed array, as it takes two characters to represent any given byte.\n *\n * @param data a byte[] to convert to hex characters\n * @return A String containing lower-case hexadecimal characters\n * @since 1.4 strong text\n */\npublic static String encodeHexString(final byte[] data) {\n    return new String(encodeHex(data));\n}\n</code></pre>\n"}],"owner":{"account_id":13982358,"reputation":55,"user_id":10098210,"display_name":"Mohamed Nazir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75420340,"answer_count":1,"score":0,"last_activity_date":1676119979,"creation_date":1675421508,"question_id":75334650,"body_markdown":"I have the HEXA String as **7E2466490CE1A430** which I am converting into BCD and sending this value from a TCP client program.\r\n\r\n     String message = &quot;7E2466490CE1A430&quot;;\r\n     byte[] result = Hex.decodeHex(message);\r\n\r\n    Socket socket = SocketFactory.getDefault().createSocket(HOST, PORT);\r\n    socket.getOutputStream().write(result);\r\n\r\nOn the other side of my TCP server, I am consuming this byte[] and converting it back to HEX, but, the value has changed to **7E2466490CEFBFBD30**, and Any Idea what I am doing wrong?\r\n\r\n      public void deserialize(InputStream inputStream) throws IOException {\r\n        byte[] reply = new byte[1024];\r\n        int bytesRead;\r\n\r\n        while (-1 != (bytesRead = inputStream.read(reply))) {\r\n            String textRead = new String(reply, 0, bytesRead);\r\n            String message = convertStringToHex(textRead);\r\n            LOGGER.info(&quot;MESSAGE ::&quot;+ message);\r\n        }\r\n    }\r\n\r\n    public static String convertStringToHex(String str) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (byte b : str.getBytes(StandardCharsets.UTF_8)) {\r\n            sb.append(String.format(&quot;%02X&quot;, b));\r\n        }\r\n        return sb.toString();\r\n    }","title":"Hexa to BCD conversion","body":"<p>I have the HEXA String as <strong>7E2466490CE1A430</strong> which I am converting into BCD and sending this value from a TCP client program.</p>\n<pre><code> String message = &quot;7E2466490CE1A430&quot;;\n byte[] result = Hex.decodeHex(message);\n\nSocket socket = SocketFactory.getDefault().createSocket(HOST, PORT);\nsocket.getOutputStream().write(result);\n</code></pre>\n<p>On the other side of my TCP server, I am consuming this byte[] and converting it back to HEX, but, the value has changed to <strong>7E2466490CEFBFBD30</strong>, and Any Idea what I am doing wrong?</p>\n<pre><code>  public void deserialize(InputStream inputStream) throws IOException {\n    byte[] reply = new byte[1024];\n    int bytesRead;\n\n    while (-1 != (bytesRead = inputStream.read(reply))) {\n        String textRead = new String(reply, 0, bytesRead);\n        String message = convertStringToHex(textRead);\n        LOGGER.info(&quot;MESSAGE ::&quot;+ message);\n    }\n}\n\npublic static String convertStringToHex(String str) {\n    StringBuilder sb = new StringBuilder();\n    for (byte b : str.getBytes(StandardCharsets.UTF_8)) {\n        sb.append(String.format(&quot;%02X&quot;, b));\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1675965801,"post_id":75402642,"comment_id":133046342,"body_markdown":"Perhaps like this `^[^(]*\\(([^*]+)\\*.*` and replace with group 1 https://regex101.com/r/ZpAjbD/1","body":"Perhaps like this <code>^[^(]*\\(([^*]+)\\*.*</code> and replace with group 1 <a href=\"https://regex101.com/r/ZpAjbD/1\" rel=\"nofollow noreferrer\">regex101.com/r/ZpAjbD/1</a>"}],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675966284,"creation_date":1675965943,"answer_id":75402700,"question_id":75402642,"body_markdown":"You may use this regex to match:\r\n\r\n```sh\r\n[^(]*\\(|\\*.*\r\n```\r\n\r\nand replace with an empty string.\r\n\r\n[RegEx Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/pi04fN/1\r\n\r\n**RegEx Demo:**\r\n\r\n- `[^(]*\\(`: Match 0 or more characters that are not `(` followed by a `(`\r\n- `|`: OR\r\n- `\\*.*`: Match `*` and everything after that\r\n\r\n**Java Code:**\r\n\r\n```sh\r\nString s = &quot;1.2.3 (1.234*xY)&quot;;\r\nString r = s.replaceAll(&quot;[^(]*\\\\(|\\\\*.*&quot;, &quot;&quot;);\r\n//=&gt; &quot;1.234&quot;\r\n```","title":"Replace all characters before and after specific characters","body":"<p>You may use this regex to match:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[^(]*\\(|\\*.*\n</code></pre>\n<p>and replace with an empty string.</p>\n<p><a href=\"https://regex101.com/r/pi04fN/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Demo:</strong></p>\n<ul>\n<li><code>[^(]*\\(</code>: Match 0 or more characters that are not <code>(</code> followed by a <code>(</code></li>\n<li><code>|</code>: OR</li>\n<li><code>\\*.*</code>: Match <code>*</code> and everything after that</li>\n</ul>\n<p><strong>Java Code:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>String s = &quot;1.2.3 (1.234*xY)&quot;;\nString r = s.replaceAll(&quot;[^(]*\\\\(|\\\\*.*&quot;, &quot;&quot;);\n//=&gt; &quot;1.234&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675967983,"creation_date":1675966198,"answer_id":75402747,"question_id":75402642,"body_markdown":"You could try matching the whole string, and replace with capture group 1\r\n\r\n    ^[^(]*\\(([^*]+)\\*.*\r\n\r\nThe pattern matches:\r\n\r\n- `^` start of string\r\n- `[^(]*\\(` Match any char except `(` and then match `(`\r\n- `([^*]+)` Capture in group 1 matching any char except `*`\r\n- `\\*.*` Match an asterix and the rest of the line\r\n\r\n[Regex demo](https://regex101.com/r/ic8MEr/1) | [Java demo](https://ideone.com/pjwQUV)\r\n\r\n    String string = &quot;1.2.3 (1.234*xY)&quot;;\r\n    System.out.println(string.replaceFirst(&quot;^[^(]*\\\\(([^*]+)\\\\*.*&quot;, &quot;$1&quot;));\r\n\r\nOutput\r\n\r\n    1.234","title":"Replace all characters before and after specific characters","body":"<p>You could try matching the whole string, and replace with capture group 1</p>\n<pre><code>^[^(]*\\(([^*]+)\\*.*\n</code></pre>\n<p>The pattern matches:</p>\n<ul>\n<li><code>^</code> start of string</li>\n<li><code>[^(]*\\(</code> Match any char except <code>(</code> and then match <code>(</code></li>\n<li><code>([^*]+)</code> Capture in group 1 matching any char except <code>*</code></li>\n<li><code>\\*.*</code> Match an asterix and the rest of the line</li>\n</ul>\n<p><a href=\"https://regex101.com/r/ic8MEr/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/pjwQUV\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<pre><code>String string = &quot;1.2.3 (1.234*xY)&quot;;\nSystem.out.println(string.replaceFirst(&quot;^[^(]*\\\\(([^*]+)\\\\*.*&quot;, &quot;$1&quot;));\n</code></pre>\n<p>Output</p>\n<pre><code>1.234\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7750510,"reputation":131491,"user_id":5866580,"accept_rate":25,"display_name":"RavinderSingh13"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676119509,"creation_date":1676081881,"answer_id":75417725,"question_id":75402642,"body_markdown":"With your shown samples and attempts please try following regex:\r\n\r\n```bash\r\n^.*?\\(([^*]*)\\*\\S+\\)$\r\n```\r\n\r\nHere is the [Regex Online Demo][1] and here is the [Java code Demo][2] for used regex.\r\n\r\n***Explanation:*** Adding detailed explanation for used Regex.\r\n\r\n```bash\r\n^       ##Matching starting of the value here.\r\n.*?\\(   ##Using lazy match here to match till ( here.\r\n(       ##Creating one and only capturing group of this regex here.\r\n  [^*]* ##Matching everything till * here.\r\n)       ##Closing capturing group here.\r\n\\*      ##Matching * here.\r\n\\S+     ##Matching non-spaces 1 or more occurrences here.\r\n\\)$     ##Matching literal ) here at the end of the value.\r\n```\r\n  [1]:  https://regex101.com/r/4C5cUB/1\r\n  [2]: https://ideone.com/lwWY9o","title":"Replace all characters before and after specific characters","body":"<p>With your shown samples and attempts please try following regex:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>^.*?\\(([^*]*)\\*\\S+\\)$\n</code></pre>\n<p>Here is the <a href=\"https://regex101.com/r/4C5cUB/1\" rel=\"nofollow noreferrer\">Regex Online Demo</a> and here is the <a href=\"https://ideone.com/lwWY9o\" rel=\"nofollow noreferrer\">Java code Demo</a> for used regex.</p>\n<p><em><strong>Explanation:</strong></em> Adding detailed explanation for used Regex.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>^       ##Matching starting of the value here.\n.*?\\(   ##Using lazy match here to match till ( here.\n(       ##Creating one and only capturing group of this regex here.\n  [^*]* ##Matching everything till * here.\n)       ##Closing capturing group here.\n\\*      ##Matching * here.\n\\S+     ##Matching non-spaces 1 or more occurrences here.\n\\)$     ##Matching literal ) here at the end of the value.\n</code></pre>\n"}],"owner":{"account_id":16263663,"reputation":43,"user_id":11744376,"display_name":"mlg dog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75402747,"answer_count":3,"score":4,"last_activity_date":1676119509,"creation_date":1675965663,"question_id":75402642,"body_markdown":"I need to replace all characters in a string which come before an open parenthesis but come after an asterisk:\r\n\r\nInput:\r\n`1.2.3 (1.234*xY)`\r\n\r\nNeeded Output:\r\n1.234\r\n\r\n\r\nI tried the following:\r\n\r\n\r\n    string.replaceAll(&quot;.*\\\\(|\\\\*.*&quot;, &quot;&quot;);\r\n\r\n\r\nbut I ran into an issue here where `Matcher.matches()` is `false` even though there are two matches... What is the most elegant way to solve this?","title":"Replace all characters before and after specific characters","body":"<p>I need to replace all characters in a string which come before an open parenthesis but come after an asterisk:</p>\n<p>Input:\n<code>1.2.3 (1.234*xY)</code></p>\n<p>Needed Output:\n1.234</p>\n<p>I tried the following:</p>\n<pre><code>string.replaceAll(&quot;.*\\\\(|\\\\*.*&quot;, &quot;&quot;);\n</code></pre>\n<p>but I ran into an issue here where <code>Matcher.matches()</code> is <code>false</code> even though there are two matches... What is the most elegant way to solve this?</p>\n"},{"tags":["java","bit","bitwise-operators","bit-shift","bitwise-and"],"answers":[{"tags":[],"owner":{"account_id":82504,"reputation":6723,"user_id":231929,"accept_rate":88,"display_name":"Peter Hull"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675944834,"creation_date":1675944834,"answer_id":75398457,"question_id":75398306,"body_markdown":"It&#39;s just back-to-front, the first bit you print should be the highest bit, i.e. corresponding to 2^7 (128).\r\n```\r\nfor (int i = 0; i &lt; 8; i++) {\r\n sb.append((b &amp; (128 &gt;&gt; i)) != 0 ? &#39;1&#39; : &#39;0&#39;);\r\n}\r\n```\r\n\r\nalternatively \r\n\r\n```\r\nfor (int i = 7; i &gt;= 0; i--) {\r\n sb.append((b &amp; (1 &lt;&lt; i) != 0 ? &#39;1&#39; : &#39;0&#39;);\r\n}\r\n```","title":"What is the proper implementation of building a string representation of the contents of a byte array?","body":"<p>It's just back-to-front, the first bit you print should be the highest bit, i.e. corresponding to 2^7 (128).</p>\n<pre><code>for (int i = 0; i &lt; 8; i++) {\n sb.append((b &amp; (128 &gt;&gt; i)) != 0 ? '1' : '0');\n}\n</code></pre>\n<p>alternatively</p>\n<pre><code>for (int i = 7; i &gt;= 0; i--) {\n sb.append((b &amp; (1 &lt;&lt; i) != 0 ? '1' : '0');\n}\n</code></pre>\n"}],"owner":{"account_id":6559832,"reputation":17,"user_id":5071355,"display_name":"Harley Fioretti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75398457,"answer_count":1,"score":-1,"last_activity_date":1676117806,"creation_date":1675944051,"question_id":75398306,"body_markdown":"Appending the string builder with the following method is yielding incorrect results. The bytes in the byte array do not match the &#39;1&#39;s and &#39;0&#39;s represented within the resulting string.\r\n  ```java\r\n  InputStream is = new FileInputStream(bout);\r\n  StringBuilder sb = new StringBuilder();\r\n  byte[] a = is.readAllBytes();\r\n  for (byte b : a) {\r\n    for (int i = 0; i &lt; 8; i++) {\r\n      sb.append((b &amp; (1 &lt;&lt; i)) != 0 ? &#39;1&#39; : &#39;0&#39;);\r\n    }\r\n  }\r\n  is.close();\r\n```\r\nAm I improperly using bitwise manipulation?\r\n\r\nFor example: \r\n\r\n&gt; 10111001\r\n\r\nreturns\r\n\r\n&gt; 10011101\r\n\r\n","title":"What is the proper implementation of building a string representation of the contents of a byte array?","body":"<p>Appending the string builder with the following method is yielding incorrect results. The bytes in the byte array do not match the '1's and '0's represented within the resulting string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream is = new FileInputStream(bout);\nStringBuilder sb = new StringBuilder();\nbyte[] a = is.readAllBytes();\nfor (byte b : a) {\n  for (int i = 0; i &lt; 8; i++) {\n    sb.append((b &amp; (1 &lt;&lt; i)) != 0 ? '1' : '0');\n  }\n}\nis.close();\n</code></pre>\n<p>Am I improperly using bitwise manipulation?</p>\n<p>For example:</p>\n<blockquote>\n<p>10111001</p>\n</blockquote>\n<p>returns</p>\n<blockquote>\n<p>10011101</p>\n</blockquote>\n"},{"tags":["java","xslt","xalan"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1407407618,"post_id":25177437,"comment_id":39206787,"body_markdown":"Can you show us the signature of the `calculate` method, which arguments does it expect, which Java types do they have?","body":"Can you show us the signature of the <code>calculate</code> method, which arguments does it expect, which Java types do they have?"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1407419051,"post_id":25177437,"comment_id":39214099,"body_markdown":"It all depends on which XSLT processor you are using: you need to tell us. (Ah, from the depths of the stack trace, it looks like Xalan. I have added a tag.)","body":"It all depends on which XSLT processor you are using: you need to tell us. (Ah, from the depths of the stack trace, it looks like Xalan. I have added a tag.)"},{"owner":{"account_id":4576211,"reputation":11,"user_id":3714587,"display_name":"rohit31dec91"},"score":0,"creation_date":1407467288,"post_id":25177437,"comment_id":39235901,"body_markdown":"the calulate method is nothing,,,just simple if else statement @MartinHonnen","body":"the calulate method is nothing,,,just simple if else statement @MartinHonnen"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1407486196,"post_id":25177437,"comment_id":39242334,"body_markdown":"@rohit31dec91, we need to see the definition of the number and of the types of arguments the `calcuate` method has so please edit your question and show that information.","body":"@rohit31dec91, we need to see the definition of the number and of the types of arguments the <code>calcuate</code> method has so please edit your question and show that information."},{"owner":{"account_id":4576211,"reputation":11,"user_id":3714587,"display_name":"rohit31dec91"},"score":0,"creation_date":1407494366,"post_id":25177437,"comment_id":39246870,"body_markdown":"@MartinHonnen i have added the calulate function of java. See if u can correct me in some ways.","body":"@MartinHonnen i have added the calulate function of java. See if u can correct me in some ways."},{"owner":{"account_id":22226004,"reputation":13332,"user_id":16462950,"display_name":"Heiko Thei&#223;en"},"score":0,"creation_date":1676197598,"post_id":25177437,"comment_id":133085667,"body_markdown":"Does `&lt;xsl:value-of select=&quot;test:calculate(number($VALUE))&quot;/&gt;` work?","body":"Does <code>&lt;xsl:value-of select=&quot;test:calculate(number($VALUE))&quot;&#47;&gt;</code> work?"}],"owner":{"account_id":4576211,"reputation":11,"user_id":3714587,"display_name":"rohit31dec91"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2071,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676117553,"creation_date":1407399421,"question_id":25177437,"body_markdown":"I have case study of using java call method in xslt.\r\n\r\n\r\nBelow is my XSLT:\r\n\r\n```xml\r\n&lt;xsl:stylesheet version=&quot;1.0&quot;\r\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n    xmlns:test=&quot;java:com.package_name.com.Test&quot;&gt;\r\n  &lt;xsl:output method=&quot;xml&quot; omit-xml-declaration=&quot;yes&quot;/&gt;\r\n  &lt;xsl:template match=&quot;/&quot; &gt;\r\n \t&lt;xsl:for-each select=&quot;info/data&quot;&gt;\r\n \t  &lt;xsl:variable name=&quot;VALUE&quot; select=&quot;number&quot;/&gt;\r\n      &lt;int&gt;\r\n         &lt;xsl:value-of select=&quot;test:calculate($VALUE)&quot;/&gt;\r\n      &lt;/int&gt;\r\n    &lt;/xsl:for-each&gt;\r\n  &lt;/xsl:template&gt;\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nJava function:\r\n```java\r\npublic static String calculate(int n) {\r\n\tString message=&quot;The NUmber is Right&quot;;\r\n\tString error=&quot;Wrongggg&quot;;\r\n    if (n == 5) \r\n       return (message);\r\n    else\r\n       return (error);\r\n}\r\n```\r\n\r\nI am getting error message as follows:\r\n\r\n```none\r\nType:INTEGER:5\r\n\t\t\t\t\t\t\t\t\tText:CHARACTER:Transformation failure when processing Stylesheet deployed:./Test.xsl\r\njavax.xml.transform.TransformerConfigurationException: javax.xml.transform.TransformerException: The XSL processor reported a possibly fatal error.\r\nMessage: java.lang.IllegalArgumentException: name\r\n\tat org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:1017)\r\n\tat com.ibm.xsl.exmlt.StylesheetCache.preprocessStylesheet(StylesheetCache.java:763)\r\n\tat com.ibm.xsl.exmlt.StylesheetCache.getPreprocessedStylesheet(StylesheetCache.java:686)\r\n\tat com.ibm.xsl.exmlt.StylesheetSelector.getTransformer(StylesheetSelector.java:372)\r\n\tat com.ibm.xsl.exmlt.StylesheetSelector.performSelection(StylesheetSelector.java:681)\r\n\tat com.ibm.xsl.exmlt.EnhancedXMLTransform.transformDocument(EnhancedXMLTransform.java:615)\r\n\tat com.ibm.xsl.mqsi.XMLTransformData.transformData(XMLTransformData.java:555)\r\n\tat com.ibm.xsl.mqsi.XMLTransformNode.evaluate(XMLTransformNode.java:965)\r\n\tat com.ibm.broker.plugin.MbNode.evaluate(MbNode.java:1480)\r\nCaused by: javax.xml.transform.TransformerException: The XSL processor reported a possibly fatal error.\r\nMessage: java.lang.IllegalArgumentException: name\r\n\tat com.ibm.xsl.exmlt.StylesheetSelector.fatalError(StylesheetSelector.java:1725)\r\n\tat org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:1009)\r\n```\r\n\r\nCan any one correct me how to call java function inside XSLT.\r\n","title":"Call Java function in XSLT","body":"<p>I have case study of using java call method in xslt.</p>\n<p>Below is my XSLT:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:stylesheet version=&quot;1.0&quot;\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    xmlns:test=&quot;java:com.package_name.com.Test&quot;&gt;\n  &lt;xsl:output method=&quot;xml&quot; omit-xml-declaration=&quot;yes&quot;/&gt;\n  &lt;xsl:template match=&quot;/&quot; &gt;\n    &lt;xsl:for-each select=&quot;info/data&quot;&gt;\n      &lt;xsl:variable name=&quot;VALUE&quot; select=&quot;number&quot;/&gt;\n      &lt;int&gt;\n         &lt;xsl:value-of select=&quot;test:calculate($VALUE)&quot;/&gt;\n      &lt;/int&gt;\n    &lt;/xsl:for-each&gt;\n  &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>Java function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String calculate(int n) {\n    String message=&quot;The NUmber is Right&quot;;\n    String error=&quot;Wrongggg&quot;;\n    if (n == 5) \n       return (message);\n    else\n       return (error);\n}\n</code></pre>\n<p>I am getting error message as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Type:INTEGER:5\n                                    Text:CHARACTER:Transformation failure when processing Stylesheet deployed:./Test.xsl\njavax.xml.transform.TransformerConfigurationException: javax.xml.transform.TransformerException: The XSL processor reported a possibly fatal error.\nMessage: java.lang.IllegalArgumentException: name\n    at org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:1017)\n    at com.ibm.xsl.exmlt.StylesheetCache.preprocessStylesheet(StylesheetCache.java:763)\n    at com.ibm.xsl.exmlt.StylesheetCache.getPreprocessedStylesheet(StylesheetCache.java:686)\n    at com.ibm.xsl.exmlt.StylesheetSelector.getTransformer(StylesheetSelector.java:372)\n    at com.ibm.xsl.exmlt.StylesheetSelector.performSelection(StylesheetSelector.java:681)\n    at com.ibm.xsl.exmlt.EnhancedXMLTransform.transformDocument(EnhancedXMLTransform.java:615)\n    at com.ibm.xsl.mqsi.XMLTransformData.transformData(XMLTransformData.java:555)\n    at com.ibm.xsl.mqsi.XMLTransformNode.evaluate(XMLTransformNode.java:965)\n    at com.ibm.broker.plugin.MbNode.evaluate(MbNode.java:1480)\nCaused by: javax.xml.transform.TransformerException: The XSL processor reported a possibly fatal error.\nMessage: java.lang.IllegalArgumentException: name\n    at com.ibm.xsl.exmlt.StylesheetSelector.fatalError(StylesheetSelector.java:1725)\n    at org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:1009)\n</code></pre>\n<p>Can any one correct me how to call java function inside XSLT.</p>\n"},{"tags":["java","macos","process-mining"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675156772,"post_id":75284671,"comment_id":132862884,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":27656985,"reputation":1,"user_id":21110653,"display_name":"debuman8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676116399,"creation_date":1676116399,"answer_id":75420030,"question_id":75284671,"body_markdown":"The issue was finally resolved by rolling back the Java version to version 8. More details are available on this [link][1]. \r\n\r\n\r\n  [1]: https://promforum.win.tue.nl/discussion/1554/java-lang-reflect-invocationtargetexception-error-in-prom-6-12-during-csv-file-import#latest","title":"java.lang.reflect.InvocationTargetException error in ProM process mining software during csv file import","body":"<p>The issue was finally resolved by rolling back the Java version to version 8. More details are available on this <a href=\"https://promforum.win.tue.nl/discussion/1554/java-lang-reflect-invocationtargetexception-error-in-prom-6-12-during-csv-file-import#latest\" rel=\"nofollow noreferrer\">link</a>.</p>\n"}],"owner":{"account_id":27656985,"reputation":1,"user_id":21110653,"display_name":"debuman8"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75420030,"answer_count":1,"score":-1,"last_activity_date":1676116399,"creation_date":1675083171,"question_id":75284671,"body_markdown":"I have installed ProM 6.12 process mining software on my Mac M1, and followed the steps listed here: https://promtools.org/prom-6-12/ . Java version is 19.0.2. On trying to import a csv file, I get the the following error:\r\n\r\n**java.lang.reflect.InvocationTargetException**\r\n\r\nThis is what the console prints: \r\n\r\n```\r\nStart plug-in Import a CSV file and convert it to XES\r\n-------- The following exception was logged by the framework: \r\n         The exception was probalby handled properly. \r\njava.util.concurrent.ExecutionException: java.lang.reflect.InvocationTargetException\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat java.desktop/javax.swing.SwingWorker.get(SwingWorker.java:613)\r\n\tat org.processmining.framework.plugin.ProMFuture.get(ProMFuture.java:119)\r\n\tat org.processmining.framework.plugin.impl.PluginExecutionResultImpl.synchronize(PluginExecutionResultImpl.java:106)\r\n\tat org.processmining.contexts.uitopia.hub.ProMResourceManager.importResourceNotInEDT(ProMResourceManager.java:585)\r\n\tat org.processmining.contexts.uitopia.hub.ProMResourceManager.access$200(ProMResourceManager.java:58)\r\n\tat org.processmining.contexts.uitopia.hub.ProMResourceManager$10.run(ProMResourceManager.java:554)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.processmining.framework.plugin.impl.PluginDescriptorImpl.execute(PluginDescriptorImpl.java:331)\r\n\tat org.processmining.framework.plugin.impl.AbstractPluginDescriptor$1.doInBackground(AbstractPluginDescriptor.java:155)\r\n\tat org.processmining.framework.plugin.ProMFuture$1.doInBackground(ProMFuture.java:56)\r\n\tat java.desktop/javax.swing.SwingWorker$1.call(SwingWorker.java:304)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n\tat java.desktop/javax.swing.SwingWorker.run(SwingWorker.java:343)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\t... 1 more\r\nCaused by: java.lang.NoClassDefFoundError: com/univocity/parsers/common/TextParsingException\r\n\tat org.processmining.log.csvimport.CSVImportPluginUnivocity.importFromStream(CSVImportPluginUnivocity.java:28)\r\n\tat org.processmining.log.csvimport.CSVImportPluginUnivocity.importFromStream(CSVImportPluginUnivocity.java:20)\r\n\tat org.processmining.framework.abstractplugins.AbstractImportPlugin.importFile(AbstractImportPlugin.java:92)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 10 more\r\nCaused by: java.lang.ClassNotFoundException: com.univocity.parsers.common.TextParsingException\r\n\tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 14 more\r\n--------------------------------------------------------------\r\n-------- The following exception was logged by the framework: \r\n         The exception was probalby handled properly. \r\njava.util.concurrent.ExecutionException: java.lang.reflect.InvocationTargetException\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat java.desktop/javax.swing.SwingWorker.get(SwingWorker.java:613)\r\n\tat org.processmining.framework.plugin.ProMFuture.get(ProMFuture.java:119)\r\n\tat org.processmining.framework.plugin.impl.AbstractPluginDescriptor$1.done(AbstractPluginDescriptor.java:193)\r\n\tat org.processmining.framework.plugin.ProMFuture$1.done(ProMFuture.java:66)\r\n\tat java.desktop/javax.swing.SwingWorker$5.run(SwingWorker.java:750)\r\n\tat java.desktop/javax.swing.SwingWorker$DoSubmitAccumulativeRunnable.run(SwingWorker.java:848)\r\n\tat java.desktop/sun.swing.AccumulativeRunnable.run(AccumulativeRunnable.java:112)\r\n\tat java.desktop/javax.swing.SwingWorker$DoSubmitAccumulativeRunnable.actionPerformed(SwingWorker.java:858)\r\n\tat java.desktop/javax.swing.Timer.fireActionPerformed(Timer.java:311)\r\n\tat java.desktop/javax.swing.Timer$DoPostEvent.run(Timer.java:243)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:117)\r\n\tat java.desktop/java.awt.WaitDispatchSupport$2.run(WaitDispatchSupport.java:191)\r\n\tat java.desktop/java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:236)\r\n\tat java.desktop/java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:234)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\tat java.desktop/java.awt.WaitDispatchSupport.enter(WaitDispatchSupport.java:234)\r\n\tat java.desktop/java.awt.Dialog.show(Dialog.java:1080)\r\n\tat java.desktop/javax.swing.JOptionPane.showOptionDialog(JOptionPane.java:881)\r\n\tat java.desktop/javax.swing.JOptionPane.showMessageDialog(JOptionPane.java:677)\r\n\tat java.desktop/javax.swing.JOptionPane.showMessageDialog(JOptionPane.java:648)\r\n\tat org.processmining.contexts.uitopia.hub.ProMResourceManager$12.run(ProMResourceManager.java:600)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.processmining.framework.plugin.impl.PluginDescriptorImpl.execute(PluginDescriptorImpl.java:331)\r\n\tat org.processmining.framework.plugin.impl.AbstractPluginDescriptor$1.doInBackground(AbstractPluginDescriptor.java:155)\r\n\tat org.processmining.framework.plugin.ProMFuture$1.doInBackground(ProMFuture.java:56)\r\n\tat java.desktop/javax.swing.SwingWorker$1.call(SwingWorker.java:304)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n\tat java.desktop/javax.swing.SwingWorker.run(SwingWorker.java:343)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: java.lang.NoClassDefFoundError: com/univocity/parsers/common/TextParsingException\r\n\tat org.processmining.log.csvimport.CSVImportPluginUnivocity.importFromStream(CSVImportPluginUnivocity.java:28)\r\n\tat org.processmining.log.csvimport.CSVImportPluginUnivocity.importFromStream(CSVImportPluginUnivocity.java:20)\r\n\tat org.processmining.framework.abstractplugins.AbstractImportPlugin.importFile(AbstractImportPlugin.java:92)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 10 more\r\nCaused by: java.lang.ClassNotFoundException: com.univocity.parsers.common.TextParsingException\r\n\tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 14 more\r\n\r\n```\r\n\r\nDid anyone face this issue? Can someone help me with it?\r\n\r\n\r\n\r\n\r\nI tried removing the XES packages from the ProM packpage manager and reinstalled them, following the cue of this particular solution: https://promforum.win.tue.nl/discussion/1298/java-lang-reflect-invocationtargetexception . It did nothing for me.","title":"java.lang.reflect.InvocationTargetException error in ProM process mining software during csv file import","body":"<p>I have installed ProM 6.12 process mining software on my Mac M1, and followed the steps listed here: <a href=\"https://promtools.org/prom-6-12/\" rel=\"nofollow noreferrer\">https://promtools.org/prom-6-12/</a> . Java version is 19.0.2. On trying to import a csv file, I get the the following error:</p>\n<p><strong>java.lang.reflect.InvocationTargetException</strong></p>\n<p>This is what the console prints:</p>\n<pre><code>Start plug-in Import a CSV file and convert it to XES\n-------- The following exception was logged by the framework: \n         The exception was probalby handled properly. \njava.util.concurrent.ExecutionException: java.lang.reflect.InvocationTargetException\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at java.desktop/javax.swing.SwingWorker.get(SwingWorker.java:613)\n    at org.processmining.framework.plugin.ProMFuture.get(ProMFuture.java:119)\n    at org.processmining.framework.plugin.impl.PluginExecutionResultImpl.synchronize(PluginExecutionResultImpl.java:106)\n    at org.processmining.contexts.uitopia.hub.ProMResourceManager.importResourceNotInEDT(ProMResourceManager.java:585)\n    at org.processmining.contexts.uitopia.hub.ProMResourceManager.access$200(ProMResourceManager.java:58)\n    at org.processmining.contexts.uitopia.hub.ProMResourceManager$10.run(ProMResourceManager.java:554)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.processmining.framework.plugin.impl.PluginDescriptorImpl.execute(PluginDescriptorImpl.java:331)\n    at org.processmining.framework.plugin.impl.AbstractPluginDescriptor$1.doInBackground(AbstractPluginDescriptor.java:155)\n    at org.processmining.framework.plugin.ProMFuture$1.doInBackground(ProMFuture.java:56)\n    at java.desktop/javax.swing.SwingWorker$1.call(SwingWorker.java:304)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n    at java.desktop/javax.swing.SwingWorker.run(SwingWorker.java:343)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n    ... 1 more\nCaused by: java.lang.NoClassDefFoundError: com/univocity/parsers/common/TextParsingException\n    at org.processmining.log.csvimport.CSVImportPluginUnivocity.importFromStream(CSVImportPluginUnivocity.java:28)\n    at org.processmining.log.csvimport.CSVImportPluginUnivocity.importFromStream(CSVImportPluginUnivocity.java:20)\n    at org.processmining.framework.abstractplugins.AbstractImportPlugin.importFile(AbstractImportPlugin.java:92)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 10 more\nCaused by: java.lang.ClassNotFoundException: com.univocity.parsers.common.TextParsingException\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 14 more\n--------------------------------------------------------------\n-------- The following exception was logged by the framework: \n         The exception was probalby handled properly. \njava.util.concurrent.ExecutionException: java.lang.reflect.InvocationTargetException\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at java.desktop/javax.swing.SwingWorker.get(SwingWorker.java:613)\n    at org.processmining.framework.plugin.ProMFuture.get(ProMFuture.java:119)\n    at org.processmining.framework.plugin.impl.AbstractPluginDescriptor$1.done(AbstractPluginDescriptor.java:193)\n    at org.processmining.framework.plugin.ProMFuture$1.done(ProMFuture.java:66)\n    at java.desktop/javax.swing.SwingWorker$5.run(SwingWorker.java:750)\n    at java.desktop/javax.swing.SwingWorker$DoSubmitAccumulativeRunnable.run(SwingWorker.java:848)\n    at java.desktop/sun.swing.AccumulativeRunnable.run(AccumulativeRunnable.java:112)\n    at java.desktop/javax.swing.SwingWorker$DoSubmitAccumulativeRunnable.actionPerformed(SwingWorker.java:858)\n    at java.desktop/javax.swing.Timer.fireActionPerformed(Timer.java:311)\n    at java.desktop/javax.swing.Timer$DoPostEvent.run(Timer.java:243)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:117)\n    at java.desktop/java.awt.WaitDispatchSupport$2.run(WaitDispatchSupport.java:191)\n    at java.desktop/java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:236)\n    at java.desktop/java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:234)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at java.desktop/java.awt.WaitDispatchSupport.enter(WaitDispatchSupport.java:234)\n    at java.desktop/java.awt.Dialog.show(Dialog.java:1080)\n    at java.desktop/javax.swing.JOptionPane.showOptionDialog(JOptionPane.java:881)\n    at java.desktop/javax.swing.JOptionPane.showMessageDialog(JOptionPane.java:677)\n    at java.desktop/javax.swing.JOptionPane.showMessageDialog(JOptionPane.java:648)\n    at org.processmining.contexts.uitopia.hub.ProMResourceManager$12.run(ProMResourceManager.java:600)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.processmining.framework.plugin.impl.PluginDescriptorImpl.execute(PluginDescriptorImpl.java:331)\n    at org.processmining.framework.plugin.impl.AbstractPluginDescriptor$1.doInBackground(AbstractPluginDescriptor.java:155)\n    at org.processmining.framework.plugin.ProMFuture$1.doInBackground(ProMFuture.java:56)\n    at java.desktop/javax.swing.SwingWorker$1.call(SwingWorker.java:304)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n    at java.desktop/javax.swing.SwingWorker.run(SwingWorker.java:343)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.lang.NoClassDefFoundError: com/univocity/parsers/common/TextParsingException\n    at org.processmining.log.csvimport.CSVImportPluginUnivocity.importFromStream(CSVImportPluginUnivocity.java:28)\n    at org.processmining.log.csvimport.CSVImportPluginUnivocity.importFromStream(CSVImportPluginUnivocity.java:20)\n    at org.processmining.framework.abstractplugins.AbstractImportPlugin.importFile(AbstractImportPlugin.java:92)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 10 more\nCaused by: java.lang.ClassNotFoundException: com.univocity.parsers.common.TextParsingException\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 14 more\n\n</code></pre>\n<p>Did anyone face this issue? Can someone help me with it?</p>\n<p>I tried removing the XES packages from the ProM packpage manager and reinstalled them, following the cue of this particular solution: <a href=\"https://promforum.win.tue.nl/discussion/1298/java-lang-reflect-invocationtargetexception\" rel=\"nofollow noreferrer\">https://promforum.win.tue.nl/discussion/1298/java-lang-reflect-invocationtargetexception</a> . It did nothing for me.</p>\n"},{"tags":["java","nodes"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1676113360,"post_id":75417729,"comment_id":133074991,"body_markdown":"Does this answer your question? [Compare two objects with .equals() and == operator](https://stackoverflow.com/questions/13387742/compare-two-objects-with-equals-and-operator)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13387742/compare-two-objects-with-equals-and-operator\">Compare two objects with .equals() and == operator</a>"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676116153,"creation_date":1676116153,"answer_id":75419996,"question_id":75417729,"body_markdown":"Your solution using `==` only works with primitives.\r\n\r\nYo have to change it to use Object.equals:\r\n\r\n    if(n.data.equals(anEntry)){\r\n        return false;\r\n    }\r\n\r\nObviously the objects being stored have to implement `equals` and `hashcode()` for this to work.","title":"How to add an element to a Node while checking to make sure it&#39;s not pre-existing?","body":"<p>Your solution using <code>==</code> only works with primitives.</p>\n<p>Yo have to change it to use Object.equals:</p>\n<pre><code>if(n.data.equals(anEntry)){\n    return false;\n}\n</code></pre>\n<p>Obviously the objects being stored have to implement <code>equals</code> and <code>hashcode()</code> for this to work.</p>\n"}],"owner":{"account_id":27256905,"reputation":5,"user_id":20780322,"display_name":"NoobCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676116153,"creation_date":1676081922,"question_id":75417729,"body_markdown":"```\r\npublic class LinkedBag&lt;T&gt; implements BagInterface&lt;T&gt;{\r\n    private Node firstNode;\r\n    private int numberOfEntries;\r\n\r\n    public LinkedBag() {\r\n      firstNode = null;\r\n      numberOfEntries = 0;\r\n    }\r\n\r\n\r\n    public int getCurrentSize(){\r\n       return numberOfEntries;\r\n    }\r\n}\r\n\r\n\r\npublic static class  Node&lt;T&gt; {\r\n    private T data;\r\n    private Node&lt;T&gt; next;\r\n    public Node(T dataPortion, Node&lt;T&gt; nextNode) {\r\n        data = dataPortion;\r\n        next = nextNode;\r\n    } // end constructor\r\n    public Node(T dataPortion) {\r\n        this(dataPortion, null);\r\n    } // end constructor\r\n    public Node&lt;T&gt; getNext() {\r\n        return next;\r\n    }\r\n    public void setNext(Node&lt;T&gt; newNext) {\r\n        next = newNext;\r\n    }\r\n    public T getData() {\r\n        return data;\r\n    }\r\n    public void setData(T data) {\r\n        this.data = data;\r\n    }\r\n}\r\n\r\n//Answer:\r\n\r\npublic boolean addLikeASet (T anEntry) {\r\n  \tif(anEntry == null) {\r\n        return false;\r\n    }\r\n    else if(firstNode == null){\r\n         firstNode.setData(anEntry);\r\n        return true;\r\n    }\r\n    \r\n    else if(firstNode.data == anEntry){\r\n        return false;\r\n    }\r\n    \r\n    Node n = firstNode;\r\n    while(n.next != null){\r\n        n = n.next;\r\n        if(n.data == anEntry){\r\n            return false;\r\n        }\r\n     \r\n        \r\n    }\r\n    \r\n   \tn.setData(anEntry);\r\n    \r\n    return true;\r\n        \r\n```\r\n\r\nI am trying to create a method called addLikeASet where it adds anEntry to the Node only if there isn&#39;t pre-existing data that equals the parameter &quot;anEntry&quot; in which case it will return false\r\n\r\nFor example, if a LinkedBag contained &quot;A&quot;, &quot;B&quot;, and &quot;C&quot;:\r\n\r\nCalling addLikeASet(&quot;D&quot;) would return true and add &quot;D&quot; to the LinkedBag.\r\n\r\n- However, calling addLikeASet(&quot;C&quot;)would return \\`false\\` and no value would be added.\r\n\r\nStill, my code only works partially and doesn&#39;t cover all the possibilities.","title":"How to add an element to a Node while checking to make sure it&#39;s not pre-existing?","body":"<pre><code>public class LinkedBag&lt;T&gt; implements BagInterface&lt;T&gt;{\n    private Node firstNode;\n    private int numberOfEntries;\n\n    public LinkedBag() {\n      firstNode = null;\n      numberOfEntries = 0;\n    }\n\n\n    public int getCurrentSize(){\n       return numberOfEntries;\n    }\n}\n\n\npublic static class  Node&lt;T&gt; {\n    private T data;\n    private Node&lt;T&gt; next;\n    public Node(T dataPortion, Node&lt;T&gt; nextNode) {\n        data = dataPortion;\n        next = nextNode;\n    } // end constructor\n    public Node(T dataPortion) {\n        this(dataPortion, null);\n    } // end constructor\n    public Node&lt;T&gt; getNext() {\n        return next;\n    }\n    public void setNext(Node&lt;T&gt; newNext) {\n        next = newNext;\n    }\n    public T getData() {\n        return data;\n    }\n    public void setData(T data) {\n        this.data = data;\n    }\n}\n\n//Answer:\n\npublic boolean addLikeASet (T anEntry) {\n    if(anEntry == null) {\n        return false;\n    }\n    else if(firstNode == null){\n         firstNode.setData(anEntry);\n        return true;\n    }\n    \n    else if(firstNode.data == anEntry){\n        return false;\n    }\n    \n    Node n = firstNode;\n    while(n.next != null){\n        n = n.next;\n        if(n.data == anEntry){\n            return false;\n        }\n     \n        \n    }\n    \n    n.setData(anEntry);\n    \n    return true;\n        \n</code></pre>\n<p>I am trying to create a method called addLikeASet where it adds anEntry to the Node only if there isn't pre-existing data that equals the parameter &quot;anEntry&quot; in which case it will return false</p>\n<p>For example, if a LinkedBag contained &quot;A&quot;, &quot;B&quot;, and &quot;C&quot;:</p>\n<p>Calling addLikeASet(&quot;D&quot;) would return true and add &quot;D&quot; to the LinkedBag.</p>\n<ul>\n<li>However, calling addLikeASet(&quot;C&quot;)would return `false` and no value would be added.</li>\n</ul>\n<p>Still, my code only works partially and doesn't cover all the possibilities.</p>\n"},{"tags":["java","xml","xml-parsing","jaxb","unmarshalling"],"comments":[{"owner":{"account_id":1702915,"reputation":11261,"user_id":1562558,"accept_rate":60,"display_name":"Festus Tamakloe"},"score":0,"creation_date":1356083842,"post_id":13987708,"comment_id":19304267,"body_markdown":"You need to put package-info.java in your generated jaxb package.","body":"You need to put package-info.java in your generated jaxb package."},{"owner":{"account_id":1180771,"reputation":6820,"user_id":1155739,"accept_rate":56,"display_name":"Thinker"},"score":0,"creation_date":1356083918,"post_id":13987708,"comment_id":19304308,"body_markdown":"@Festus I am not getting your point. Can you please explain.","body":"@Festus I am not getting your point. Can you please explain."},{"owner":{"account_id":71070,"reputation":9825,"user_id":205585,"accept_rate":73,"display_name":"Senthil Kumar"},"score":0,"creation_date":1356084157,"post_id":13987708,"comment_id":19304403,"body_markdown":"you may want to use &lt;P1&gt;\n\t&lt;CTSELEMENTS&gt;\n\t    &lt;CTS&gt;\n\t        Hello\n\t    &lt;/CTS&gt;\n\t    &lt;CTS&gt;\n\t        World\n\t    &lt;/CTS&gt;\n\t &lt;/CTSELEMENTS&gt;\n&lt;P1&gt; better to wrap group of same elements in a wrapper.","body":"you may want to use &lt;P1&gt; \t&lt;CTSELEMENTS&gt; \t    &lt;CTS&gt; \t        Hello \t    &lt;/CTS&gt; \t    &lt;CTS&gt; \t        World \t    &lt;/CTS&gt; \t &lt;/CTSELEMENTS&gt; &lt;P1&gt; better to wrap group of same elements in a wrapper."},{"owner":{"account_id":1702915,"reputation":11261,"user_id":1562558,"accept_rate":60,"display_name":"Festus Tamakloe"},"score":0,"creation_date":1356084215,"post_id":13987708,"comment_id":19304437,"body_markdown":"Normally you have to create a xml schemata that generates automatically the java objects for you. until you want to do it manually you have to create package-info.java by yourselves","body":"Normally you have to create a xml schemata that generates automatically the java objects for you. until you want to do it manually you have to create package-info.java by yourselves"},{"owner":{"account_id":1180771,"reputation":6820,"user_id":1155739,"accept_rate":56,"display_name":"Thinker"},"score":0,"creation_date":1356084250,"post_id":13987708,"comment_id":19304453,"body_markdown":"@Senthil Kumar  Doesn&#39;t P1 acts as a wrapper.?","body":"@Senthil Kumar  Doesn&#39;t P1 acts as a wrapper.?"},{"owner":{"account_id":71070,"reputation":9825,"user_id":205585,"accept_rate":73,"display_name":"Senthil Kumar"},"score":0,"creation_date":1356085721,"post_id":13987708,"comment_id":19305126,"body_markdown":"it would but you declared P1 as XMLRootELement. I would have done like P1 as XMLRootElement, CTSWrapper as XMLELementWrapper, CTS as XMLElement. This way i have never faced issues with marshalling/unmarshalling and works good with json (jackson) too.","body":"it would but you declared P1 as XMLRootELement. I would have done like P1 as XMLRootElement, CTSWrapper as XMLELementWrapper, CTS as XMLElement. This way i have never faced issues with marshalling/unmarshalling and works good with json (jackson) too."}],"answers":[{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356083737,"creation_date":1356083737,"answer_id":13987883,"question_id":13987708,"body_markdown":"Two issues I can see:\r\n\r\n1) You need to use `P1.class` in your `JAXBContext`. You haven&#39;t said what the `Presentation` class is, but if your root element is `P1`, that&#39;s what you need in the context:\r\n\r\n    JAXBContext jaxbContext = JAXBContext.newInstance(P1.class);\r\n\r\n2) You need to specify the name of the root xml element:\r\n\r\n    @XmlRootElement(name=&quot;P1&quot;)\r\n    public class P1 {\r\n    ...\r\n\r\n","title":"&quot;Class has two properties of the same name&quot; error when converting an XML file into a Java object","body":"<p>Two issues I can see:</p>\n\n<p>1) You need to use <code>P1.class</code> in your <code>JAXBContext</code>. You haven't said what the <code>Presentation</code> class is, but if your root element is <code>P1</code>, that's what you need in the context:</p>\n\n<pre><code>JAXBContext jaxbContext = JAXBContext.newInstance(P1.class);\n</code></pre>\n\n<p>2) You need to specify the name of the root xml element:</p>\n\n<pre><code>@XmlRootElement(name=\"P1\")\npublic class P1 {\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2153626,"reputation":201,"user_id":1909321,"display_name":"Florin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356084700,"creation_date":1356084700,"answer_id":13988133,"question_id":13987708,"body_markdown":"\r\nYour XML looks like this:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;P1&gt;\r\n      &lt;CTS&gt;\r\n        Hello\r\n      &lt;/CTS&gt;\r\n      &lt;CTS&gt;\r\n        World\r\n      &lt;/CTS&gt;\r\n    &lt;/P1&gt;\r\n\r\nBut considering your mapping it should look like:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;p1&gt;\r\n      &lt;CTS&gt;\r\n        &lt;CT&gt;\r\n        Hello\r\n        &lt;/CT&gt;\r\n      &lt;/CTS&gt;\r\n      &lt;CTS&gt;\r\n        &lt;CT&gt;\r\n        World\r\n        &lt;/CT&gt;\r\n      &lt;/CTS&gt;\r\n    &lt;/p1&gt;\r\n\r\nIn order to change root element from p1 to P1 use attribute `name` from `@XmlRootElement`.\r\n\r\nIf you want to parse the first version of XML you posted, change your P1 class like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @XmlRootElement(name=&quot;P1&quot;)\r\n    public class P1 {\r\n        @XmlElement(name = &quot;CTS&quot;)\r\n        List&lt;String&gt; cts;\r\n     }\r\n","title":"&quot;Class has two properties of the same name&quot; error when converting an XML file into a Java object","body":"<p>Your XML looks like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;P1&gt;\n  &lt;CTS&gt;\n    Hello\n  &lt;/CTS&gt;\n  &lt;CTS&gt;\n    World\n  &lt;/CTS&gt;\n&lt;/P1&gt;\n</code></pre>\n\n<p>But considering your mapping it should look like:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;p1&gt;\n  &lt;CTS&gt;\n    &lt;CT&gt;\n    Hello\n    &lt;/CT&gt;\n  &lt;/CTS&gt;\n  &lt;CTS&gt;\n    &lt;CT&gt;\n    World\n    &lt;/CT&gt;\n  &lt;/CTS&gt;\n&lt;/p1&gt;\n</code></pre>\n\n<p>In order to change root element from p1 to P1 use attribute <code>name</code> from <code>@XmlRootElement</code>.</p>\n\n<p>If you want to parse the first version of XML you posted, change your P1 class like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement(name=\"P1\")\npublic class P1 {\n    @XmlElement(name = \"CTS\")\n    List&lt;String&gt; cts;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676062381,"creation_date":1356085699,"answer_id":13988362,"question_id":13987708,"body_markdown":"&gt; com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException:  \r\n&gt; 2 counts of IllegalAnnotationExceptions  \r\n&gt; Class has two properties of the same name &quot;cts&quot;\r\n\r\nBy default a [**JAXB (JSR-222)**][1] implementation creates mappings based on properties and annotated fields.  When you annotate a field for which there is also a property it will cause this error.\r\n\r\nYou have two options:\r\n\r\n1. **Use `@XmlAccessorType(XmlAccessType.FIELD)`**\r\n\r\n   You could annotate the field you need to specify `@XmlAccessorType(XmlAccessType.FIELD)` on the class.\r\n\r\n   &lt;!-- language: java --&gt;\r\n\r\n       @XmlRootElement(name=&quot;P1)\r\n       @XmlAccessorType(XmlAccessType.FIELD)\r\n       public class P1 {\r\n    \r\n           @XmlElement(name = &quot;CTS&quot;)\r\n           List&lt;CTS&gt; cts;\r\n    \r\n       }\r\n\r\n2. Option #2 - Annotate the Property (get method)**\r\n\r\n   Alternatively you could annotate the `get` method.\r\n\r\n   &lt;!-- language: java --&gt;\r\n\r\n       @XmlRootElement(name=&quot;P1)\r\n       public class P1 {\r\n    \r\n           List&lt;CTS&gt; cts;\r\n            \r\n           @XmlElement(name = &quot;CTS&quot;)\r\n           public List&lt;CTS&gt; getCts() {\r\n               return cts;\r\n           }\r\n\r\n       }\r\n\r\n**For More Information**\r\n\r\n  - http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html\r\n\r\n---\r\n\r\n**FULL EXAMPLE**\r\n\r\n**CTS**\r\n\r\nYou can use the `@XmlValue` annotation to map to Java class to a complex type with simple content.\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class CTS {\r\n    \r\n        @XmlValue\r\n        String ct;\r\n    \r\n    }\r\n\r\n**P1**\r\n\r\n    import java.util.List;\r\n    import javax.xml.bind.annotation.*;\r\n    \r\n    @XmlRootElement(name=&quot;P1&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class P1 {\r\n    \r\n        @XmlElement(name = &quot;CTS&quot;)\r\n        List&lt;CTS&gt; cts;\r\n    \r\n    }\r\n\r\n**Demo**\r\n\r\n    import java.io.File;\r\n    import javax.xml.bind.*;\r\n    \r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            JAXBContext jc = JAXBContext.newInstance(P1.class);\r\n            \r\n            Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n            File xml = new File(&quot;src/forum13987708/input.xml&quot;);\r\n            P1 p1 = (P1) unmarshaller.unmarshal(xml);\r\n            \r\n            Marshaller marshaller = jc.createMarshaller();\r\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n            marshaller.marshal(p1, System.out);\r\n        }\r\n        \r\n    }\r\n\r\n**input.xml/Output**\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;P1&gt;\r\n        &lt;CTS&gt;\r\n            Hello\r\n        &lt;/CTS&gt;\r\n        &lt;CTS&gt;\r\n            World\r\n        &lt;/CTS&gt;\r\n    &lt;/P1&gt;\r\n\r\n**For More Information**\r\n\r\n- http://blog.bdoughan.com/2011/06/jaxb-and-complex-types-with-simple.html\r\n\r\n\r\n  [1]: http://jcp.org/en/jsr/detail?id=222","title":"&quot;Class has two properties of the same name&quot; error when converting an XML file into a Java object","body":"<blockquote>\n<p>com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException:<br />\n2 counts of IllegalAnnotationExceptions<br />\nClass has two properties of the same name &quot;cts&quot;</p>\n</blockquote>\n<p>By default a <a href=\"http://jcp.org/en/jsr/detail?id=222\" rel=\"nofollow noreferrer\"><strong>JAXB (JSR-222)</strong></a> implementation creates mappings based on properties and annotated fields.  When you annotate a field for which there is also a property it will cause this error.</p>\n<p>You have two options:</p>\n<ol>\n<li><p><strong>Use <code>@XmlAccessorType(XmlAccessType.FIELD)</code></strong></p>\n<p>You could annotate the field you need to specify <code>@XmlAccessorType(XmlAccessType.FIELD)</code> on the class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement(name=&quot;P1)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class P1 {\n\n    @XmlElement(name = &quot;CTS&quot;)\n    List&lt;CTS&gt; cts;\n\n}\n</code></pre>\n</li>\n<li><p>Option #2 - Annotate the Property (get method)**</p>\n<p>Alternatively you could annotate the <code>get</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement(name=&quot;P1)\npublic class P1 {\n\n    List&lt;CTS&gt; cts;\n\n    @XmlElement(name = &quot;CTS&quot;)\n    public List&lt;CTS&gt; getCts() {\n        return cts;\n    }\n\n}\n</code></pre>\n</li>\n</ol>\n<p><strong>For More Information</strong></p>\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html\" rel=\"nofollow noreferrer\">http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html</a></li>\n</ul>\n<hr />\n<p><strong>FULL EXAMPLE</strong></p>\n<p><strong>CTS</strong></p>\n<p>You can use the <code>@XmlValue</code> annotation to map to Java class to a complex type with simple content.</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\npublic class CTS {\n\n    @XmlValue\n    String ct;\n\n}\n</code></pre>\n<p><strong>P1</strong></p>\n<pre><code>import java.util.List;\nimport javax.xml.bind.annotation.*;\n\n@XmlRootElement(name=&quot;P1&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class P1 {\n\n    @XmlElement(name = &quot;CTS&quot;)\n    List&lt;CTS&gt; cts;\n\n}\n</code></pre>\n<p><strong>Demo</strong></p>\n<pre><code>import java.io.File;\nimport javax.xml.bind.*;\n\npublic class Demo {\n\n    public static void main(String[] args) throws Exception {\n        JAXBContext jc = JAXBContext.newInstance(P1.class);\n        \n        Unmarshaller unmarshaller = jc.createUnmarshaller();\n        File xml = new File(&quot;src/forum13987708/input.xml&quot;);\n        P1 p1 = (P1) unmarshaller.unmarshal(xml);\n        \n        Marshaller marshaller = jc.createMarshaller();\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        marshaller.marshal(p1, System.out);\n    }\n    \n}\n</code></pre>\n<p><strong>input.xml/Output</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;P1&gt;\n    &lt;CTS&gt;\n        Hello\n    &lt;/CTS&gt;\n    &lt;CTS&gt;\n        World\n    &lt;/CTS&gt;\n&lt;/P1&gt;\n</code></pre>\n<p><strong>For More Information</strong></p>\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2011/06/jaxb-and-complex-types-with-simple.html\" rel=\"nofollow noreferrer\">http://blog.bdoughan.com/2011/06/jaxb-and-complex-types-with-simple.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":71070,"reputation":9825,"user_id":205585,"accept_rate":73,"display_name":"Senthil Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356086590,"creation_date":1356086002,"answer_id":13988436,"question_id":13987708,"body_markdown":"You could try the following,\r\n\r\nIf you could, make xml as of the following structure.\r\n\r\n    &lt;P1&gt;\r\n        &lt;CTSList&gt;\r\n           &lt;CTS value=&quot;Hello&quot;/&gt;\r\n           &lt;CTS value=&quot;World&quot;/&gt;\r\n        &lt;/CTSList&gt;\r\n    &lt;P1&gt;\r\n\r\nAnd use,\r\n\r\n    @XMLRootElement(name=&quot;P1&quot;)\r\n    public class P1 {\r\n      List CTSList;\r\n    \r\n      @XMLElementWrapper(name=&quot;CTSList&quot;)\r\n      @XMLELement(name=&quot;CTS&quot;)\r\n      public void setCTSList(List&lt;CTS&gt; ctsList) {\r\n         this.CTSList = ctsList;\r\n      }\r\n    \r\n      public List&lt;CTS&gt; getCTSList() {\r\n        return this.CTSList;\r\n      }\r\n    }\r\n\r\n    @XMLRootElement(name=&quot;CTS&quot;)\r\n    public class CTS {\r\n       String cts;\r\n    \r\n       @XMLAttribute(name = &quot;value&quot;)\r\n       public String getCts() {\r\n         return this.cts;\r\n       }\r\n    \r\n       public void set setCts(String cts) {\r\n         this.cts = cts;\r\n       }\r\n    }","title":"&quot;Class has two properties of the same name&quot; error when converting an XML file into a Java object","body":"<p>You could try the following,</p>\n\n<p>If you could, make xml as of the following structure.</p>\n\n<pre><code>&lt;P1&gt;\n    &lt;CTSList&gt;\n       &lt;CTS value=\"Hello\"/&gt;\n       &lt;CTS value=\"World\"/&gt;\n    &lt;/CTSList&gt;\n&lt;P1&gt;\n</code></pre>\n\n<p>And use,</p>\n\n<pre><code>@XMLRootElement(name=\"P1\")\npublic class P1 {\n  List CTSList;\n\n  @XMLElementWrapper(name=\"CTSList\")\n  @XMLELement(name=\"CTS\")\n  public void setCTSList(List&lt;CTS&gt; ctsList) {\n     this.CTSList = ctsList;\n  }\n\n  public List&lt;CTS&gt; getCTSList() {\n    return this.CTSList;\n  }\n}\n\n@XMLRootElement(name=\"CTS\")\npublic class CTS {\n   String cts;\n\n   @XMLAttribute(name = \"value\")\n   public String getCts() {\n     return this.cts;\n   }\n\n   public void set setCts(String cts) {\n     this.cts = cts;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":1180771,"reputation":6820,"user_id":1155739,"accept_rate":56,"display_name":"Thinker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9040,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"closed_date":1676456952,"accepted_answer_id":13988362,"answer_count":4,"score":2,"last_activity_date":1676115436,"creation_date":1356083107,"question_id":13987708,"body_markdown":"I have an XML file like below, and I want to convert it into a Java object.\n\n    &lt;P1&gt;\n    \t&lt;CTS&gt;\n    \t\tHello\n    \t&lt;/CTS&gt;\n    \t&lt;CTS&gt;\n    \t\tWorld\n    \t&lt;/CTS&gt;\n    &lt;P1&gt;\t\n\nSo I created the following Java classes with their properties.\n\nP1 class\n\n    @XmlRootElement\n    public class P1 {\n    \t@XmlElement(name = &quot;CTS&quot;)\n    \tList&lt;CTS&gt; cts;\n    }\n\nCTS class\n\n    public class CTS {\n    \tString ct;\n    }\n\nTest Class\n\n    File file = new File(&quot;D:\\\\ContentTemp.xml&quot;);\n    \t\t\tJAXBContext jaxbContext = JAXBContext.newInstance(P1.class);\n    \t \n    \t\t\tUnmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n    \t\t\tP1 p = (P1) jaxbUnmarshaller.unmarshal(file);\n\nBut I am getting the following error:\n\n&gt;  com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException:  \n&gt;  2 counts of IllegalAnnotationExceptions  \n&gt;  Class has two properties of the same name &quot;cts&quot;","title":"&quot;Class has two properties of the same name&quot; error when converting an XML file into a Java object","body":"<p>I have an XML file like below, and I want to convert it into a Java object.</p>\n<pre><code>&lt;P1&gt;\n    &lt;CTS&gt;\n        Hello\n    &lt;/CTS&gt;\n    &lt;CTS&gt;\n        World\n    &lt;/CTS&gt;\n&lt;P1&gt;    \n</code></pre>\n<p>So I created the following Java classes with their properties.</p>\n<p>P1 class</p>\n<pre><code>@XmlRootElement\npublic class P1 {\n    @XmlElement(name = &quot;CTS&quot;)\n    List&lt;CTS&gt; cts;\n}\n</code></pre>\n<p>CTS class</p>\n<pre><code>public class CTS {\n    String ct;\n}\n</code></pre>\n<p>Test Class</p>\n<pre><code>File file = new File(&quot;D:\\\\ContentTemp.xml&quot;);\n            JAXBContext jaxbContext = JAXBContext.newInstance(P1.class);\n     \n            Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n            P1 p = (P1) jaxbUnmarshaller.unmarshal(file);\n</code></pre>\n<p>But I am getting the following error:</p>\n<blockquote>\n<p>com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException:<br />\n2 counts of IllegalAnnotationExceptions<br />\nClass has two properties of the same name &quot;cts&quot;</p>\n</blockquote>\n"},{"tags":["java","keycode"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1675693100,"post_id":75345000,"comment_id":132977999,"body_markdown":"I don&#39;t understand your question. Are you talking about the letter D or the letter P? If it&#39;s P, then where do you get this &quot;25&quot; from? It&#39;s 0x50, both in Java and Microsoft.","body":"I don&#39;t understand your question. Are you talking about the letter D or the letter P? If it&#39;s P, then where do you get this &quot;25&quot; from? It&#39;s 0x50, both in Java and Microsoft."},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1675693849,"post_id":75345000,"comment_id":132978278,"body_markdown":"@k314159 25 was a wild guess. I was supprised that 25 gives the charater P. I talk about P. I had a typo in the question, I hope the confusion is gone.","body":"@k314159 25 was a wild guess. I was supprised that 25 gives the charater P. I talk about P. I had a typo in the question, I hope the confusion is gone."},{"owner":{"account_id":446135,"reputation":20184,"user_id":838992,"display_name":"J Richard Snape"},"score":0,"creation_date":1675694451,"post_id":75345000,"comment_id":132978469,"body_markdown":"Keyboard scan codes are not ascii - they are dependent on keyboard layouts.  Is the fundamental question - &quot;how do I know the scan codes for characters on my keyboard?&quot; or something similar?  See e.g. https://en.wikipedia.org/wiki/Scancode.  Note - it gets a bit complex, you have to send one for key down, one for key up etc.  What are you trying to send longer term?","body":"Keyboard scan codes are not ascii - they are dependent on keyboard layouts.  Is the fundamental question - &quot;how do I know the scan codes for characters on my keyboard?&quot; or something similar?  See e.g. <a href=\"https://en.wikipedia.org/wiki/Scancode\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Scancode</a>.  Note - it gets a bit complex, you have to send one for key down, one for key up etc.  What are you trying to send longer term?"},{"owner":{"account_id":446135,"reputation":20184,"user_id":838992,"display_name":"J Richard Snape"},"score":1,"creation_date":1675694751,"post_id":75345000,"comment_id":132978576,"body_markdown":"Look at Appendix C in this doc for the mappings for USB keyboards: https://download.microsoft.com/download/1/6/1/161ba512-40e2-4cc9-843a-923143f3456c/scancode.doc  .  You can see that key P is in position 26, if the scan codes are 0-indexed instead of 1-indexed like the table, then P would be 25.  If this is what you&#39;re after, I can write it up into a proper answer.","body":"Look at Appendix C in this doc for the mappings for USB keyboards: <a href=\"https://download.microsoft.com/download/1/6/1/161ba512-40e2-4cc9-843a-923143f3456c/scancode.doc\" rel=\"nofollow noreferrer\">download.microsoft.com/download/1/6/1/&hellip;</a>  .  You can see that key P is in position 26, if the scan codes are 0-indexed instead of 1-indexed like the table, then P would be 25.  If this is what you&#39;re after, I can write it up into a proper answer."},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1675696845,"post_id":75345000,"comment_id":132979320,"body_markdown":"I thought about scancodes too, but since P is 25, not 26 I neglect this idea. Are you guys sure there is not a different approach? I can not imagine that oracle mixed up 0-indexed and 1-indexed.","body":"I thought about scancodes too, but since P is 25, not 26 I neglect this idea. Are you guys sure there is not a different approach? I can not imagine that oracle mixed up 0-indexed and 1-indexed."},{"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"score":0,"creation_date":1676100151,"post_id":75345000,"comment_id":133073372,"body_markdown":"Yeah it is scancodes, I built the same thing to control VirtualBox VM a few years ago in Rust, see my scancode table at the time: https://github.com/laech/arch-zfs-iso/blob/fa1ca01a3c5be532d386ac5dcba9dcbf5088b68f/test/src/scancode.rs#L55-L103 and how I was translating strings to scancodes: https://github.com/laech/arch-zfs-iso/blob/fa1ca01a3c5be532d386ac5dcba9dcbf5088b68f/test/src/vm.rs#L118-L129","body":"Yeah it is scancodes, I built the same thing to control VirtualBox VM a few years ago in Rust, see my scancode table at the time: <a href=\"https://github.com/laech/arch-zfs-iso/blob/fa1ca01a3c5be532d386ac5dcba9dcbf5088b68f/test/src/scancode.rs#L55-L103\" rel=\"nofollow noreferrer\">github.com/laech/arch-zfs-iso/blob/&hellip;</a> and how I was translating strings to scancodes: <a href=\"https://github.com/laech/arch-zfs-iso/blob/fa1ca01a3c5be532d386ac5dcba9dcbf5088b68f/test/src/vm.rs#L118-L129\" rel=\"nofollow noreferrer\">github.com/laech/arch-zfs-iso/blob/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":446135,"reputation":20184,"user_id":838992,"display_name":"J Richard Snape"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675695544,"creation_date":1675695205,"answer_id":75362908,"question_id":75345000,"body_markdown":"Scan codes are keyboard layout dependent mappings to key layouts.  You can send codes based on the scan codes for a USB keyboard, which all modern systems are likely to understand.  The codes are documented in Appendix C of the Microsoft document &quot;Keyboard Scan Code Specification&quot;.  You will see there that character `P` is in position 26 in the 1-indexed table of key location.  This would explain a 0-indexed code of 25 producing the character `P`.  \r\n\r\nYou will see that &quot;key down&quot; needs you to send 25 as the scan code (0x19) and then 0x99 for key up.  This is what your (25 | 0x80) is doing.  So your code at the moment sends a message meaning &quot;Key P has been pressed (make in the table)&quot; followed by &quot;Key P has been released (break in the table)&quot;\r\n\r\n\r\nThe direct link to the doc I&#39;m referencing here is: https://download.microsoft.com/download/1/6/1/161ba512-40e2-4cc9-843a-923143f3456c/scancode.doc\r\n\r\n**N.B.** These codes are quite different to ASCII codes, which are where you are getting the 0x50 from.\r\n\r\n### Sending strings via the keyboard\r\n\r\nIf you want to send a whole string via the keyboard this way, what you will need is a mapping table from ASCII codes for each character to key make and key break codes.  You can then take the string character by character and work out which scan code pairs to send for each character. Note - you&#39;ll need to deal with case by adding a &quot;Shift down&quot; before the pair and &quot;Shift up&quot; afterwards.  This is do-able with a fairly long mapping table, I&#39;d use a `WeakHashMap`\r\n\r\n","title":"Encoding of key codes (virtual?) send to virtualbox-guest-system","body":"<p>Scan codes are keyboard layout dependent mappings to key layouts.  You can send codes based on the scan codes for a USB keyboard, which all modern systems are likely to understand.  The codes are documented in Appendix C of the Microsoft document &quot;Keyboard Scan Code Specification&quot;.  You will see there that character <code>P</code> is in position 26 in the 1-indexed table of key location.  This would explain a 0-indexed code of 25 producing the character <code>P</code>.</p>\n<p>You will see that &quot;key down&quot; needs you to send 25 as the scan code (0x19) and then 0x99 for key up.  This is what your (25 | 0x80) is doing.  So your code at the moment sends a message meaning &quot;Key P has been pressed (make in the table)&quot; followed by &quot;Key P has been released (break in the table)&quot;</p>\n<p>The direct link to the doc I'm referencing here is: <a href=\"https://download.microsoft.com/download/1/6/1/161ba512-40e2-4cc9-843a-923143f3456c/scancode.doc\" rel=\"nofollow noreferrer\">https://download.microsoft.com/download/1/6/1/161ba512-40e2-4cc9-843a-923143f3456c/scancode.doc</a></p>\n<p><strong>N.B.</strong> These codes are quite different to ASCII codes, which are where you are getting the 0x50 from.</p>\n<h3>Sending strings via the keyboard</h3>\n<p>If you want to send a whole string via the keyboard this way, what you will need is a mapping table from ASCII codes for each character to key make and key break codes.  You can then take the string character by character and work out which scan code pairs to send for each character. Note - you'll need to deal with case by adding a &quot;Shift down&quot; before the pair and &quot;Shift up&quot; afterwards.  This is do-able with a fairly long mapping table, I'd use a <code>WeakHashMap</code></p>\n"},{"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675696282,"creation_date":1675695211,"answer_id":75362909,"question_id":75345000,"body_markdown":"Virtual key codes and keyboard scan codes are two different things.\r\n\r\nKeyboards (still) talk to PCs using a really dusty old protocol. Many years ago I implemented a toy version of the protocol in an OS driver and it was quite annoying. Making it worse, keyboards can use 3 different sets of keyboard scancodes which originated with different flavors of old PCs.\r\n\r\nHere is a reference for the 3 sets: https://www.vetra.com/scancodes.html\r\n\r\nThe constants you discovered line up with Set 1. Note that Set 1 has different codes used to press the key and release the key!\r\n\r\nThe virtual key constants used by the Java KeyEvent class and by that Windows list both seem to be based closely on ASCII characters, since &#39;P&#39; = 0x50 in ASCII. But it&#39;s the job of the operating system keyboard driver to translate from keyboard scancodes to more logical sets of constants. There is no universal constant for a key.\r\n\r\nSince VirtualBox is emulating the physical keyboard interface to the guest OS, its `IKeyboard` API takes raw scancodes.\r\n\r\nFor the VirtualBox GUI, it must have a function which translates from host OS key constants back to scancodes for the guest OS, which might be easier if you can use that, but `IKeyboard` appears to be a very low-level interface which bypasses that.\r\n\r\nDepending on your use case, perhaps there is a different API you can also use here; or perhaps you can control your VM with guest software like SSH or VNC.","title":"Encoding of key codes (virtual?) send to virtualbox-guest-system","body":"<p>Virtual key codes and keyboard scan codes are two different things.</p>\n<p>Keyboards (still) talk to PCs using a really dusty old protocol. Many years ago I implemented a toy version of the protocol in an OS driver and it was quite annoying. Making it worse, keyboards can use 3 different sets of keyboard scancodes which originated with different flavors of old PCs.</p>\n<p>Here is a reference for the 3 sets: <a href=\"https://www.vetra.com/scancodes.html\" rel=\"nofollow noreferrer\">https://www.vetra.com/scancodes.html</a></p>\n<p>The constants you discovered line up with Set 1. Note that Set 1 has different codes used to press the key and release the key!</p>\n<p>The virtual key constants used by the Java KeyEvent class and by that Windows list both seem to be based closely on ASCII characters, since 'P' = 0x50 in ASCII. But it's the job of the operating system keyboard driver to translate from keyboard scancodes to more logical sets of constants. There is no universal constant for a key.</p>\n<p>Since VirtualBox is emulating the physical keyboard interface to the guest OS, its <code>IKeyboard</code> API takes raw scancodes.</p>\n<p>For the VirtualBox GUI, it must have a function which translates from host OS key constants back to scancodes for the guest OS, which might be easier if you can use that, but <code>IKeyboard</code> appears to be a very low-level interface which bypasses that.</p>\n<p>Depending on your use case, perhaps there is a different API you can also use here; or perhaps you can control your VM with guest software like SSH or VNC.</p>\n"}],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1676114830,"creation_date":1675512722,"question_id":75345000,"body_markdown":"How to send a string to a virtualbox-guest-machine?\r\n\r\nThis is my code: \r\n\r\n\tpublic void testKeyboard() throws Exception {\r\n\t\tIVirtualBox b = connect();\r\n\t\tList&lt;IMachine&gt; machines = b.getMachines();\r\n\t\tfor (IMachine m : machines) {\r\n\t\t\tMachineState d = b.getMachineStates(Arrays.asList(m)).iterator().next();\r\n\t\t\tif (d == MachineState.Running) {\r\n\t\t\t\tISession s = manager.getSessionObject();\r\n\t\t\t\tm.lockMachine(s, LockType.Shared);\r\n\t\t\t\tIConsole console = s.getConsole();\r\n\t\t\t\tIKeyboard k = console.getKeyboard();\r\n\t\t\t\tk.putScancodes(Arrays.asList(25, 25 | 0x80)); // &lt;- sends the character P\r\n\t\t\t\ts.unlockMachine();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n[Microsoft say its 0x50][1]\r\n\r\njava.awt.event.KeyEvent also say its 0x50:\r\n\r\n\r\n    /** Constant for the &quot;P&quot; key. */\r\n     public static final int VK_P = 0x50; \r\n\r\nIn virtualbox its different.\r\nP=25\r\n2=0x50\r\nb=0x30\r\n\r\n\r\nWhy in the world is the code of P = 25 in virtualbox?\r\n\r\n  [1]: https://learn.microsoft.com/de-de/windows/win32/inputdev/virtual-key-codes","title":"Encoding of key codes (virtual?) send to virtualbox-guest-system","body":"<p>How to send a string to a virtualbox-guest-machine?</p>\n<p>This is my code:</p>\n<pre><code>public void testKeyboard() throws Exception {\n    IVirtualBox b = connect();\n    List&lt;IMachine&gt; machines = b.getMachines();\n    for (IMachine m : machines) {\n        MachineState d = b.getMachineStates(Arrays.asList(m)).iterator().next();\n        if (d == MachineState.Running) {\n            ISession s = manager.getSessionObject();\n            m.lockMachine(s, LockType.Shared);\n            IConsole console = s.getConsole();\n            IKeyboard k = console.getKeyboard();\n            k.putScancodes(Arrays.asList(25, 25 | 0x80)); // &lt;- sends the character P\n            s.unlockMachine();\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://learn.microsoft.com/de-de/windows/win32/inputdev/virtual-key-codes\" rel=\"nofollow noreferrer\">Microsoft say its 0x50</a></p>\n<p>java.awt.event.KeyEvent also say its 0x50:</p>\n<pre><code>/** Constant for the &quot;P&quot; key. */\n public static final int VK_P = 0x50; \n</code></pre>\n<p>In virtualbox its different.\nP=25\n2=0x50\nb=0x30</p>\n<p>Why in the world is the code of P = 25 in virtualbox?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676115063,"post_id":75419500,"comment_id":133075261,"body_markdown":"You may want to explain the domain and what the numbers mean. For a greater chance that someone will feel they are ready to look through your code and try to understand it.","body":"You may want to explain the domain and what the numbers mean. For a greater chance that someone will feel they are ready to look through your code and try to understand it."},{"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"score":1,"creation_date":1676115221,"post_id":75419500,"comment_id":133075280,"body_markdown":"in the method `computeWaitingTime()` you assign the value 0 for each element of the `burstTime` array - so you will always have 0 in the output.\nFor faster error detection, I would recommend initializing the arrays in the code, e.g.: `static int n = 4;` and `processId = new int[]{1, 0, 5, 1};`, so you don&#39;t have to use the scanner every time.","body":"in the method <code>computeWaitingTime()</code> you assign the value 0 for each element of the <code>burstTime</code> array - so you will always have 0 in the output. For faster error detection, I would recommend initializing the arrays in the code, e.g.: <code>static int n = 4;</code> and <code>processId = new int[]{1, 0, 5, 1};</code>, so you don&#39;t have to use the scanner every time."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1676116877,"post_id":75419500,"comment_id":133075526,"body_markdown":"Why does your `computeWaitingTime()` manipulate the value of `burstTime[minIndex]` ?","body":"Why does your <code>computeWaitingTime()</code> manipulate the value of <code>burstTime[minIndex]</code> ?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676117893,"post_id":75419500,"comment_id":133075666,"body_markdown":"@Mio Correct. I don’t know why you deleted your answer. I think you can undelete it. (Waiting times look funny after applying your change, but that may considered a separate problem.)","body":"@Mio Correct. I don’t know why you deleted your answer. I think you can undelete it. (Waiting times look funny after applying your change, but that may considered a separate problem.)"}],"owner":{"account_id":27759699,"reputation":1,"user_id":21192385,"display_name":"Toonas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676114600,"creation_date":1676110825,"question_id":75419500,"body_markdown":"The code displays `0` instead of every 3rd input in the given values. What should I do in order to print out the `5 3 8 6` in the input?\r\n\r\nThe output should be like this (burst time reference only):\r\n[![burst time reference only][1]][1]\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class PreemptivePriorityScheduling {\r\n    static int[] processId, arrivalTime, burstTime, priority, waitingTime, turnAroundTime;\r\n    static int n;\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the number of processes: &quot;);\r\n        n = input.nextInt();\r\n        processId = new int[n];\r\n        arrivalTime = new int[n];\r\n        burstTime = new int[n];\r\n        priority = new int[n];\r\n        waitingTime = new int[n];\r\n        turnAroundTime = new int[n];\r\n\r\n        getInput(input);\r\n        computeWaitingTime();\r\n        computeTurnAroundTime();\r\n        displayTable();\r\n        displayAverages();\r\n    }\r\n\r\n    public static void getInput(Scanner input) {\r\n        for (int i = 0; i &lt; n; i++) {\r\n            System.out.print(&quot;Enter process ID, arrival time, burst time, and priority for process &quot; + (i + 1) + &quot;: &quot;);\r\n            processId[i] = input.nextInt();\r\n            arrivalTime[i] = input.nextInt();\r\n            burstTime[i] = input.nextInt();\r\n            priority[i] = input.nextInt();\r\n        }\r\n    }\r\n\r\n    public static void computeWaitingTime() {\r\n        int complete = 0, minPriority, minIndex = 0;\r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            minPriority = Integer.MAX_VALUE;\r\n            for (int j = 0; j &lt; n; j++) {\r\n                if (arrivalTime[j] &lt;= complete &amp;&amp; priority[j] &lt; minPriority &amp;&amp; burstTime[j] &gt; 0) {\r\n                    minPriority = priority[j];\r\n                    minIndex = j;\r\n                }\r\n            }\r\n            complete += burstTime[minIndex];\r\n            waitingTime[minIndex] = complete - arrivalTime[minIndex] - burstTime[minIndex];\r\n            burstTime[minIndex] = 0;\r\n        }\r\n    }\r\n\r\n    public static void computeTurnAroundTime() {\r\n        for (int i = 0; i &lt; n; i++) {\r\n            turnAroundTime[i] = waitingTime[i] + burstTime[i];\r\n        }\r\n    }\r\n\r\n    public static void displayTable() {\r\n        System.out.println(&quot;Process ID\\tArrival Time\\tBurst Time\\tPriority\\tWaiting Time\\tTurn Around Time&quot;);\r\n        for (int i = 0; i &lt; n; i++) {\r\n            System.out.println(processId[i] + &quot;\\t\\t&quot; + arrivalTime[i] + &quot;\\t\\t&quot; + burstTime[i] + &quot;\\t\\t&quot; + priority[i] + &quot;\\t\\t&quot; + waitingTime[i] + &quot;\\t\\t&quot; + turnAroundTime[i]);\r\n        }\r\n    }\r\n\r\n    public static void displayAverages() {\r\n        int totalWaitingTime = 0, totalTurnAroundTime = 0;\r\n        for (int i = 0; i &lt; n; i++) {\r\n            totalWaitingTime += waitingTime[i];\r\n            totalTurnAroundTime += turnAroundTime[i];\r\n        }\r\n        System.out.println(&quot;\\nAverage Waiting Time: &quot; + (float)totalWaitingTime / n);\r\n        System.out.println(&quot;Average Turn Around Time: &quot; + (float)totalTurnAroundTime / n);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/et3UJ.png","title":"How do I change the output of burst time","body":"<p>The code displays <code>0</code> instead of every 3rd input in the given values. What should I do in order to print out the <code>5 3 8 6</code> in the input?</p>\n<p>The output should be like this (burst time reference only):\n<a href=\"https://i.stack.imgur.com/et3UJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/et3UJ.png\" alt=\"burst time reference only\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class PreemptivePriorityScheduling {\n    static int[] processId, arrivalTime, burstTime, priority, waitingTime, turnAroundTime;\n    static int n;\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Enter the number of processes: &quot;);\n        n = input.nextInt();\n        processId = new int[n];\n        arrivalTime = new int[n];\n        burstTime = new int[n];\n        priority = new int[n];\n        waitingTime = new int[n];\n        turnAroundTime = new int[n];\n\n        getInput(input);\n        computeWaitingTime();\n        computeTurnAroundTime();\n        displayTable();\n        displayAverages();\n    }\n\n    public static void getInput(Scanner input) {\n        for (int i = 0; i &lt; n; i++) {\n            System.out.print(&quot;Enter process ID, arrival time, burst time, and priority for process &quot; + (i + 1) + &quot;: &quot;);\n            processId[i] = input.nextInt();\n            arrivalTime[i] = input.nextInt();\n            burstTime[i] = input.nextInt();\n            priority[i] = input.nextInt();\n        }\n    }\n\n    public static void computeWaitingTime() {\n        int complete = 0, minPriority, minIndex = 0;\n\n        for (int i = 0; i &lt; n; i++) {\n            minPriority = Integer.MAX_VALUE;\n            for (int j = 0; j &lt; n; j++) {\n                if (arrivalTime[j] &lt;= complete &amp;&amp; priority[j] &lt; minPriority &amp;&amp; burstTime[j] &gt; 0) {\n                    minPriority = priority[j];\n                    minIndex = j;\n                }\n            }\n            complete += burstTime[minIndex];\n            waitingTime[minIndex] = complete - arrivalTime[minIndex] - burstTime[minIndex];\n            burstTime[minIndex] = 0;\n        }\n    }\n\n    public static void computeTurnAroundTime() {\n        for (int i = 0; i &lt; n; i++) {\n            turnAroundTime[i] = waitingTime[i] + burstTime[i];\n        }\n    }\n\n    public static void displayTable() {\n        System.out.println(&quot;Process ID\\tArrival Time\\tBurst Time\\tPriority\\tWaiting Time\\tTurn Around Time&quot;);\n        for (int i = 0; i &lt; n; i++) {\n            System.out.println(processId[i] + &quot;\\t\\t&quot; + arrivalTime[i] + &quot;\\t\\t&quot; + burstTime[i] + &quot;\\t\\t&quot; + priority[i] + &quot;\\t\\t&quot; + waitingTime[i] + &quot;\\t\\t&quot; + turnAroundTime[i]);\n        }\n    }\n\n    public static void displayAverages() {\n        int totalWaitingTime = 0, totalTurnAroundTime = 0;\n        for (int i = 0; i &lt; n; i++) {\n            totalWaitingTime += waitingTime[i];\n            totalTurnAroundTime += turnAroundTime[i];\n        }\n        System.out.println(&quot;\\nAverage Waiting Time: &quot; + (float)totalWaitingTime / n);\n        System.out.println(&quot;Average Turn Around Time: &quot; + (float)totalTurnAroundTime / n);\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":14438772,"reputation":702,"user_id":10430074,"display_name":"Ankit"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1602075220,"creation_date":1602075220,"answer_id":64244414,"question_id":64244178,"body_markdown":"You should use the latest version of `protobuf-gradle-plugin` which is `0.8.13`. It requires at least Gradle 5.6 and Java 8.   \r\nUpdate your build script:\r\n```\r\nbuildscript {\r\n  repositories {\r\n    mavenCentral()\r\n  }\r\n  dependencies {\r\n    classpath &#39;com.google.protobuf:protobuf-gradle-plugin:0.8.13&#39;\r\n  }\r\n}\r\n```\r\nand this line:\r\n```\r\nid &quot;com.google.protobuf&quot; version &quot;0.8.13&quot;\r\n```","title":"Failed to apply plugin &#39;com.google.protobuf&#39;","body":"<p>You should use the latest version of <code>protobuf-gradle-plugin</code> which is <code>0.8.13</code>. It requires at least Gradle 5.6 and Java 8.<br />\nUpdate your build script:</p>\n<pre><code>buildscript {\n  repositories {\n    mavenCentral()\n  }\n  dependencies {\n    classpath 'com.google.protobuf:protobuf-gradle-plugin:0.8.13'\n  }\n}\n</code></pre>\n<p>and this line:</p>\n<pre><code>id &quot;com.google.protobuf&quot; version &quot;0.8.13&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":418826,"reputation":691,"user_id":795616,"display_name":"reznic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641461224,"creation_date":1641461224,"answer_id":70604960,"question_id":64244178,"body_markdown":"root build.gradle.kts\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenLocal()\r\n            google()\r\n            mavenCentral()\r\n            maven(uri(&quot;https://jitpack.io&quot;))\r\n        }\r\n    \r\n        dependencies {\r\n            //...\r\n            classpath(&quot;com.google.protobuf:protobuf-gradle-plugin:0.8.18&quot;)\r\n        }\r\n    }\r\n\r\napp \r\n\r\n    plugins {\r\n        id(&quot;com.android.library&quot;)\r\n        id(&quot;kotlin-android&quot;)\r\n        kotlin(&quot;kapt&quot;)\r\n        id(&quot;kotlin-parcelize&quot;)\r\n        kotlin(&quot;plugin.serialization&quot;)\r\n        id(&quot;com.google.protobuf&quot;) //remove version\r\n    }\r\n\r\n**remove version**\r\n\r\n    id &quot;com.google.protobuf&quot;\r\n\r\nOR Kotlin DSL \r\n\r\n    id(&quot;com.google.protobuf&quot;)\r\n\r\n\r\n","title":"Failed to apply plugin &#39;com.google.protobuf&#39;","body":"<p>root build.gradle.kts</p>\n<pre><code>buildscript {\n    repositories {\n        mavenLocal()\n        google()\n        mavenCentral()\n        maven(uri(&quot;https://jitpack.io&quot;))\n    }\n\n    dependencies {\n        //...\n        classpath(&quot;com.google.protobuf:protobuf-gradle-plugin:0.8.18&quot;)\n    }\n}\n</code></pre>\n<p>app</p>\n<pre><code>plugins {\n    id(&quot;com.android.library&quot;)\n    id(&quot;kotlin-android&quot;)\n    kotlin(&quot;kapt&quot;)\n    id(&quot;kotlin-parcelize&quot;)\n    kotlin(&quot;plugin.serialization&quot;)\n    id(&quot;com.google.protobuf&quot;) //remove version\n}\n</code></pre>\n<p><strong>remove version</strong></p>\n<pre><code>id &quot;com.google.protobuf&quot;\n</code></pre>\n<p>OR Kotlin DSL</p>\n<pre><code>id(&quot;com.google.protobuf&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13086277,"reputation":389,"user_id":9455137,"display_name":"Roshan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676113844,"creation_date":1676113844,"answer_id":75419762,"question_id":64244178,"body_markdown":"For me, I was getting the error: `The com.google.protobuf plugin could not be applied during project evaluation. The Java plugin or one of the Android plugins must be applied to the project first`.\r\n\r\nI fixed it by adding `id &#39;java&#39;` before `id &quot;com.google.protobuf&quot; version &quot;0.9.2&quot;` in root project gradle plugins.\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.4.1&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.4.1&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.10&#39; apply false\r\n        id &quot;org.jetbrains.kotlin.plugin.serialization&quot; version &quot;1.8.10&quot;\r\n        id &#39;java&#39;\r\n        id &quot;com.google.protobuf&quot; version &quot;0.9.2&quot;\r\n        id &#39;com.google.dagger.hilt.android&#39; version &#39;2.45&#39; apply false\r\n    }","title":"Failed to apply plugin &#39;com.google.protobuf&#39;","body":"<p>For me, I was getting the error: <code>The com.google.protobuf plugin could not be applied during project evaluation. The Java plugin or one of the Android plugins must be applied to the project first</code>.</p>\n<p>I fixed it by adding <code>id 'java'</code> before <code>id &quot;com.google.protobuf&quot; version &quot;0.9.2&quot;</code> in root project gradle plugins.</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.4.1' apply false\n    id 'com.android.library' version '7.4.1' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.10' apply false\n    id &quot;org.jetbrains.kotlin.plugin.serialization&quot; version &quot;1.8.10&quot;\n    id 'java'\n    id &quot;com.google.protobuf&quot; version &quot;0.9.2&quot;\n    id 'com.google.dagger.hilt.android' version '2.45' apply false\n}\n</code></pre>\n"}],"owner":{"account_id":25808,"reputation":8252,"user_id":66634,"accept_rate":83,"display_name":"Erik Engheim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15761,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":64244414,"answer_count":3,"score":7,"last_activity_date":1676113844,"creation_date":1602074211,"question_id":64244178,"body_markdown":"I am trying to troubleshoot an error in a build script for a plugin. I am able to run this from inside IntelliJ IDEA, but when I try to build from the command line I get an exception.\r\n\r\nI have been able to reduce the build script to a bare minimum as seen below: \r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.google.protobuf:protobuf-gradle-plugin:0.8.6&#39;\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.jetbrains.intellij&#39; version &#39;0.3.12&#39;\r\n        id &quot;maven&quot;\r\n        id &quot;de.undercouch.download&quot; version &quot;3.2.0&quot;\r\n        id &quot;com.google.protobuf&quot; version &quot;0.8.6&quot;\r\n        id &quot;idea&quot;\r\n    }\r\n\r\nWhen I try to perform a build using this script I get the following errors:\r\n\r\n    $ gradle buildPlugin\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * Where:\r\n    Build file &#39;/Users/erikengheim/Development/Java/experiment/build.gradle&#39; line: 17\r\n    \r\n    * What went wrong:\r\n    An exception occurred applying plugin request [id: &#39;com.google.protobuf&#39;, version: &#39;0.8.6&#39;]\r\n    &gt; Failed to apply plugin &#39;com.google.protobuf&#39;.\r\n       &gt; Could not create an instance of type com.google.protobuf.gradle.ProtobufSourceDirectorySet.\r\n          &gt; &#39;void org.gradle.api.internal.file.DefaultSourceDirectorySet.&lt;init&gt;(java.lang.String, java.lang.String, org.gradle.api.internal.file.FileResolver, org.gradle.api.internal.file.collections.DirectoryFileTreeFactory)&#39;\r\n\r\nI can get all of this to work if I only comment out the line:\r\n\r\n    id &quot;com.google.protobuf&quot; version &quot;0.8.6&quot;\r\n\r\nI am not very familiar with Gradle or Java, so I don&#39;t know how to interpret the stack backtrace of the exception. ","title":"Failed to apply plugin &#39;com.google.protobuf&#39;","body":"<p>I am trying to troubleshoot an error in a build script for a plugin. I am able to run this from inside IntelliJ IDEA, but when I try to build from the command line I get an exception.</p>\n<p>I have been able to reduce the build script to a bare minimum as seen below:</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.google.protobuf:protobuf-gradle-plugin:0.8.6'\n    }\n}\n\nplugins {\n    id 'java'\n    id 'org.jetbrains.intellij' version '0.3.12'\n    id &quot;maven&quot;\n    id &quot;de.undercouch.download&quot; version &quot;3.2.0&quot;\n    id &quot;com.google.protobuf&quot; version &quot;0.8.6&quot;\n    id &quot;idea&quot;\n}\n</code></pre>\n<p>When I try to perform a build using this script I get the following errors:</p>\n<pre><code>$ gradle buildPlugin\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/Users/erikengheim/Development/Java/experiment/build.gradle' line: 17\n\n* What went wrong:\nAn exception occurred applying plugin request [id: 'com.google.protobuf', version: '0.8.6']\n&gt; Failed to apply plugin 'com.google.protobuf'.\n   &gt; Could not create an instance of type com.google.protobuf.gradle.ProtobufSourceDirectorySet.\n      &gt; 'void org.gradle.api.internal.file.DefaultSourceDirectorySet.&lt;init&gt;(java.lang.String, java.lang.String, org.gradle.api.internal.file.FileResolver, org.gradle.api.internal.file.collections.DirectoryFileTreeFactory)'\n</code></pre>\n<p>I can get all of this to work if I only comment out the line:</p>\n<pre><code>id &quot;com.google.protobuf&quot; version &quot;0.8.6&quot;\n</code></pre>\n<p>I am not very familiar with Gradle or Java, so I don't know how to interpret the stack backtrace of the exception.</p>\n"},{"tags":["java","spring-boot","foreign-keys","h2"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676113803,"creation_date":1676113803,"answer_id":75419756,"question_id":75419654,"body_markdown":"Are you setting both sides of the joins?\r\n\r\n    public class Customer {\r\n      public void setStb(Stb stb) {\r\n        this.stb = stb;\r\n        stb.customer = this;\r\n      }\r\n    }\r\n\r\nor outside maybe?\r\n\r\n    public void setCustomerStb(Customer customer, Stb stb) {\r\n      customer.setStb(stb);\r\n      stb.setCustomer(customer);\r\n    }\r\n\r\nThe same also applies to the other joins.","title":"foreign key is null Springboot jpa","body":"<p>Are you setting both sides of the joins?</p>\n<pre><code>public class Customer {\n  public void setStb(Stb stb) {\n    this.stb = stb;\n    stb.customer = this;\n  }\n}\n</code></pre>\n<p>or outside maybe?</p>\n<pre><code>public void setCustomerStb(Customer customer, Stb stb) {\n  customer.setStb(stb);\n  stb.setCustomer(customer);\n}\n</code></pre>\n<p>The same also applies to the other joins.</p>\n"}],"owner":{"account_id":26127151,"reputation":1,"user_id":19818410,"display_name":"karthik baalaji M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676113803,"creation_date":1676112651,"question_id":75419654,"body_markdown":"customer\r\n```\r\n\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n\r\n@Entity\r\n@Table(name = &quot;customer&quot;)\r\npublic class Customer {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;customer_id&quot;)\r\n    private Long customerId;\r\n\r\n    @NonNull\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @NonNull\r\n    @Column(name = &quot;address&quot;)\r\n    private String address;\r\n\r\n    @NonNull\r\n    @Column(name = &quot;house_no&quot;)\r\n    private String houseNo;\r\n\r\n    \r\n    @Column(name = &quot;active&quot;)\r\n    private boolean active = true;\r\n\r\n    @NonNull\r\n    @Column(name = &quot;customer_type&quot;)\r\n    private String customerType;\r\n\r\n    @NonNull\r\n    @Column(name = &quot;pack&quot;)\r\n    private String pack;\r\n\r\n    @JsonIgnore\r\n    @OneToOne(mappedBy = &quot;customer&quot;,cascade = CascadeType.ALL)\r\n    private Stb stb;\r\n\r\n    @JsonIgnore\r\n     @OneToOne(mappedBy = &quot;customer&quot;,cascade = CascadeType.ALL )\r\n    private Payment payment;\r\n\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;customer&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;History&gt; history;\r\n\r\n}\r\n\r\n```\r\nHistory\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n\r\n@Entity\r\n@Table(name = &quot;history&quot;)\r\npublic class History {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;history_id&quot;)\r\n    private Long historyId;\r\n\r\n    @Column(name = &quot;amount_paid&quot;)\r\n    private Long AmountPaid;\r\n\r\n    \r\n\r\n    @LastModifiedDate\r\n    @Column(name = &quot;payment_date&quot;)\r\n    private String paymentDate;\r\n\r\n   \r\n    @Column(name = &quot;due&quot;)\r\n    private Long due;\r\n\r\n    @JsonIgnore\r\n    @ManyToOne(optional = false,fetch=FetchType.LAZY)\r\n    @JoinColumn(name = &quot;customer_f_id&quot;,referencedColumnName = &quot;customer_id&quot;)\r\n    private Customer customer;\r\n```\r\npayment\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;payment&quot;)\r\npublic class Payment {\r\n    public Long normalPrice =220L;\r\n    public Long sportsPrice = 250L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;payment_id&quot;)\r\n    private Long paymentId;\r\n\r\n    @Nonnull\r\n    @Column(name = &quot;amount_paid&quot;)\r\n    private Long paid;\r\n\r\n    @Nullable\r\n    @LastModifiedDate\r\n    @Column(name = &quot;payment_date&quot;)\r\n    private String paymentDate;\r\n\r\n    @Nullable\r\n    @Column(name = &quot;due&quot;)\r\n    private Long due;\r\n\r\n\r\n    @JsonIgnore\r\n    @OneToOne(fetch=FetchType.EAGER,optional=false)\r\n    @JoinColumn(name = &quot;customer_f_id&quot;,referencedColumnName = &quot;customer_id&quot;)\r\n    private Customer customer;\r\n```\r\nstb\r\n\r\n```\r\n\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;stbox&quot;)\r\npublic class Stb {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;stb_id&quot;)\r\n    private Long StbId;\r\n\r\n    @NonNull\r\n    @Column(name = &quot;stbox_number&quot;)\r\n    private String StboxNumber;\r\n\r\n    @NonNull\r\n    @Column(name = &quot;stbox_id&quot;)\r\n    private String StboxId;\r\n\r\n    @NonNull\r\n    @Column(name = &quot;stbox_cust_number&quot;)\r\n    private String StboxCustNumber;\r\n    \r\n    @NonNull\r\n    @Column(name = &quot;stbox_type&quot;)\r\n    private String StboxType;\r\n    \r\n    @JsonIgnore\r\n    @OneToOne(optional = false,fetch=FetchType.LAZY)\r\n    @JoinColumn(name = &quot;customer_f_id&quot;,referencedColumnName = &quot;customer_id&quot;)\r\n    private Customer customer;\r\n```\r\n\r\nim new to springboot , i just assigned foreign key in many ways i watched many tutorials and blogs and tried it out but it all failed , the foreign key is always set to null, anybody help , thanks in advance :) .\r\n\r\n\r\nim trying to create a foreign key in stb , payment ,history but i refered it correctly but it ssets to null","title":"foreign key is null Springboot jpa","body":"<p>customer</p>\n<pre><code>\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n\n@Entity\n@Table(name = &quot;customer&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;customer_id&quot;)\n    private Long customerId;\n\n    @NonNull\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @NonNull\n    @Column(name = &quot;address&quot;)\n    private String address;\n\n    @NonNull\n    @Column(name = &quot;house_no&quot;)\n    private String houseNo;\n\n    \n    @Column(name = &quot;active&quot;)\n    private boolean active = true;\n\n    @NonNull\n    @Column(name = &quot;customer_type&quot;)\n    private String customerType;\n\n    @NonNull\n    @Column(name = &quot;pack&quot;)\n    private String pack;\n\n    @JsonIgnore\n    @OneToOne(mappedBy = &quot;customer&quot;,cascade = CascadeType.ALL)\n    private Stb stb;\n\n    @JsonIgnore\n     @OneToOne(mappedBy = &quot;customer&quot;,cascade = CascadeType.ALL )\n    private Payment payment;\n\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;customer&quot;, cascade = CascadeType.ALL)\n    private List&lt;History&gt; history;\n\n}\n\n</code></pre>\n<p>History</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n\n@Entity\n@Table(name = &quot;history&quot;)\npublic class History {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;history_id&quot;)\n    private Long historyId;\n\n    @Column(name = &quot;amount_paid&quot;)\n    private Long AmountPaid;\n\n    \n\n    @LastModifiedDate\n    @Column(name = &quot;payment_date&quot;)\n    private String paymentDate;\n\n   \n    @Column(name = &quot;due&quot;)\n    private Long due;\n\n    @JsonIgnore\n    @ManyToOne(optional = false,fetch=FetchType.LAZY)\n    @JoinColumn(name = &quot;customer_f_id&quot;,referencedColumnName = &quot;customer_id&quot;)\n    private Customer customer;\n</code></pre>\n<p>payment</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;payment&quot;)\npublic class Payment {\n    public Long normalPrice =220L;\n    public Long sportsPrice = 250L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;payment_id&quot;)\n    private Long paymentId;\n\n    @Nonnull\n    @Column(name = &quot;amount_paid&quot;)\n    private Long paid;\n\n    @Nullable\n    @LastModifiedDate\n    @Column(name = &quot;payment_date&quot;)\n    private String paymentDate;\n\n    @Nullable\n    @Column(name = &quot;due&quot;)\n    private Long due;\n\n\n    @JsonIgnore\n    @OneToOne(fetch=FetchType.EAGER,optional=false)\n    @JoinColumn(name = &quot;customer_f_id&quot;,referencedColumnName = &quot;customer_id&quot;)\n    private Customer customer;\n</code></pre>\n<p>stb</p>\n<pre><code>\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;stbox&quot;)\npublic class Stb {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;stb_id&quot;)\n    private Long StbId;\n\n    @NonNull\n    @Column(name = &quot;stbox_number&quot;)\n    private String StboxNumber;\n\n    @NonNull\n    @Column(name = &quot;stbox_id&quot;)\n    private String StboxId;\n\n    @NonNull\n    @Column(name = &quot;stbox_cust_number&quot;)\n    private String StboxCustNumber;\n    \n    @NonNull\n    @Column(name = &quot;stbox_type&quot;)\n    private String StboxType;\n    \n    @JsonIgnore\n    @OneToOne(optional = false,fetch=FetchType.LAZY)\n    @JoinColumn(name = &quot;customer_f_id&quot;,referencedColumnName = &quot;customer_id&quot;)\n    private Customer customer;\n</code></pre>\n<p>im new to springboot , i just assigned foreign key in many ways i watched many tutorials and blogs and tried it out but it all failed , the foreign key is always set to null, anybody help , thanks in advance :) .</p>\n<p>im trying to create a foreign key in stb , payment ,history but i refered it correctly but it ssets to null</p>\n"},{"tags":["java","xml","hibernate"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1676128339,"post_id":75419753,"comment_id":133077378,"body_markdown":"Does this answer your question? [javax.xml.bind.JAXBException Implementation of JAXB-API has not been found on module path or classpath](https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo\">javax.xml.bind.JAXBException Implementation of JAXB-API has not been found on module path or classpath</a>"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676128387,"post_id":75419753,"comment_id":133077385,"body_markdown":"You can also research [these related questions](https://www.google.com/search?q=Implementation+of+JAXB-API+has+not+been+found+site:stackoverflow.com).","body":"You can also research <a href=\"https://www.google.com/search?q=Implementation+of+JAXB-API+has+not+been+found+site:stackoverflow.com\" rel=\"nofollow noreferrer\">these related questions</a>."}],"owner":{"account_id":21920912,"reputation":31,"user_id":16204165,"display_name":"harshita aggarwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676199836,"answer_count":0,"score":0,"last_activity_date":1676113754,"creation_date":1676113754,"question_id":75419753,"body_markdown":"I am trying to set up a simple Hibernate program setup. Below is my file structure in eclipse:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J2VSv.jpg\r\n\r\nStudents.java code (POJO)\r\n```\r\npackage com.Hibernate;\r\n\r\npublic class Students {\r\n\r\n\tprivate int id;\r\n\tprivate String name;\r\n\t\r\n\tpublic Students() {\r\n\t\r\n\t}\r\n\t\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id =id;\r\n\t}\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name= name;\r\n\t}\r\n\r\n}\r\n```\r\nStudents.hbm.xml code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\r\n&lt;hibernate-mapping&gt;\r\n\t&lt;class name =&quot;com.Hibernate.Students&quot; table=&quot;students&quot;&gt;\r\n\t\t&lt;id name=&quot;id&quot; column=&quot;sid&quot; type=&quot;int&quot;&gt;\r\n\t\t\t&lt;generator class=&quot;assigned&quot;/&gt;\r\n\t\t&lt;/id&gt;\r\n\t\t&lt;property name=&quot;name&quot; column=&quot;sname&quot; type=&quot;string&quot;/&gt;\r\n\t&lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n```\r\nhibernate.cfg.xml code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC \r\n  &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; \r\n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\t&lt;!-- mysql dialect --&gt;\r\n\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n\t&lt;!-- database connection settings --&gt;\r\n\t&lt;property name =&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n\t&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://http://localhost/phpmyadmin/&lt;/property&gt;\r\n\t&lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n\t&lt;property name=&quot;hibernate.connection.password&quot;&gt;&lt;/property&gt;\r\n\t\r\n\t&lt;!-- Echo all executed SQL to stdout --&gt;\r\n\t&lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n\t\r\n\t&lt;!-- Mapping file entry --&gt;\r\n\t&lt;mapping resource=&quot;Students.hbm.xml&quot;/&gt;\r\n\t&lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\nHibernateUtil.java code:\r\n```\r\npackage com.Hibernate;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n\r\npublic class HibernateUtil {\r\n\tprivate static final SessionFactory sessionFactory;\r\n\t\r\n\tstatic {\r\n\t\ttry {\r\n\t\t\t//create session factory from standard config file\r\n\t\t\tsessionFactory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).buildSessionFactory();\r\n\t\t\t\r\n\t\t}catch(Throwable ex) {\r\n\t\t\t//log the exception\r\n\t\t\tSystem.out.println(&quot;Initial Session Factory creation failed &quot;+ex);\r\n\t\t\tthrow new ExceptionInInitializerError(ex);\r\n\t\t}\r\n\t}\r\n\tpublic static SessionFactory getSessionFactory() {\r\n\t\treturn sessionFactory;\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\nClient.java code:\r\n```\r\npackage com.Hibernate;\r\nimport org.hibernate.*;\r\n\r\npublic class Client {\r\n\tpublic static void main(String[] args) {\r\n\t\t//create session object\r\n\t\tSession session = HibernateUtil.getSessionFactory().openSession();\r\n\t\t\r\n\t\tTransaction tx = null;\r\n\t\ttry {\r\n\t\t\ttx= session.beginTransaction();\r\n\t\t\t\r\n\t\t\tStudents s1 = new Students();\r\n\t\t\ts1.setId(33);\r\n\t\t\ts1.setName(&quot;Assama&quot;);\r\n\t\t\tsession.save(s1);\r\n\t\t\ttx.commit();\r\n\t\t}catch(HibernateException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}finally {\r\n\t\t\tsession.close();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\nI am getting an error in console as below:\r\n```\r\nFeb 11, 2023 4:37:39 PM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate Core {5.3.1.Final}\r\nFeb 11, 2023 4:37:39 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\nINFO: HHH000206: hibernate.properties not found\r\nInitial Session Factory creation failed org.hibernate.internal.util.config.ConfigurationException: Unable to perform unmarshalling at line number 0 and column 0 in RESOURCE hibernate.cfg.xml. Message: null\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\tat com.Hibernate.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:24)\r\n\tat com.Hibernate.Client.main(Client.java:7)\r\nCaused by: org.hibernate.internal.util.config.ConfigurationException: Unable to perform unmarshalling at line number 0 and column 0 in RESOURCE hibernate.cfg.xml. Message: null\r\n\tat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:133)\r\n\tat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:65)\r\n\tat org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlResource(ConfigLoader.java:57)\r\n\tat org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:165)\r\n\tat org.hibernate.cfg.Configuration.configure(Configuration.java:258)\r\n\tat com.Hibernate.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:15)\r\n\t... 1 more\r\nCaused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n - with linked exception:\r\n[java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory]\r\n\tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:278)\r\n\tat javax.xml.bind.ContextFinder.find(ContextFinder.java:421)\r\n\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\r\n\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\r\n\tat org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:122)\r\n\t... 6 more\r\nCaused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\r\n\tat javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\r\n\tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:276)\r\n\t... 10 more\r\n```\r\nHow can I resolve these errors. I have tried specifying the pat of cfg.xml in configure(), but didn&#39;t work.","title":"org.hibernate.internal.util.config.ConfigurationException: Unable to perform unmarshalling at line number 0 column 0 in RESOURCE hibernate.cfg.xml","body":"<p>I am trying to set up a simple Hibernate program setup. Below is my file structure in eclipse:</p>\n<p><a href=\"https://i.stack.imgur.com/J2VSv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J2VSv.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Students.java code (POJO)</p>\n<pre><code>package com.Hibernate;\n\npublic class Students {\n\n    private int id;\n    private String name;\n    \n    public Students() {\n    \n    }\n    \n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id =id;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name= name;\n    }\n\n}\n</code></pre>\n<p>Students.hbm.xml code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot; &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\n&lt;hibernate-mapping&gt;\n    &lt;class name =&quot;com.Hibernate.Students&quot; table=&quot;students&quot;&gt;\n        &lt;id name=&quot;id&quot; column=&quot;sid&quot; type=&quot;int&quot;&gt;\n            &lt;generator class=&quot;assigned&quot;/&gt;\n        &lt;/id&gt;\n        &lt;property name=&quot;name&quot; column=&quot;sname&quot; type=&quot;string&quot;/&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n<p>hibernate.cfg.xml code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC \n  &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; \n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n    &lt;!-- mysql dialect --&gt;\n    &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n    &lt;!-- database connection settings --&gt;\n    &lt;property name =&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://http://localhost/phpmyadmin/&lt;/property&gt;\n    &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n    &lt;property name=&quot;hibernate.connection.password&quot;&gt;&lt;/property&gt;\n    \n    &lt;!-- Echo all executed SQL to stdout --&gt;\n    &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n    \n    &lt;!-- Mapping file entry --&gt;\n    &lt;mapping resource=&quot;Students.hbm.xml&quot;/&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>HibernateUtil.java code:</p>\n<pre><code>package com.Hibernate;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\n\npublic class HibernateUtil {\n    private static final SessionFactory sessionFactory;\n    \n    static {\n        try {\n            //create session factory from standard config file\n            sessionFactory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).buildSessionFactory();\n            \n        }catch(Throwable ex) {\n            //log the exception\n            System.out.println(&quot;Initial Session Factory creation failed &quot;+ex);\n            throw new ExceptionInInitializerError(ex);\n        }\n    }\n    public static SessionFactory getSessionFactory() {\n        return sessionFactory;\n        \n    }\n\n}\n\n</code></pre>\n<p>Client.java code:</p>\n<pre><code>package com.Hibernate;\nimport org.hibernate.*;\n\npublic class Client {\n    public static void main(String[] args) {\n        //create session object\n        Session session = HibernateUtil.getSessionFactory().openSession();\n        \n        Transaction tx = null;\n        try {\n            tx= session.beginTransaction();\n            \n            Students s1 = new Students();\n            s1.setId(33);\n            s1.setName(&quot;Assama&quot;);\n            session.save(s1);\n            tx.commit();\n        }catch(HibernateException e) {\n            e.printStackTrace();\n        }finally {\n            session.close();\n        }\n    }\n}\n\n</code></pre>\n<p>I am getting an error in console as below:</p>\n<pre><code>Feb 11, 2023 4:37:39 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.3.1.Final}\nFeb 11, 2023 4:37:39 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nInitial Session Factory creation failed org.hibernate.internal.util.config.ConfigurationException: Unable to perform unmarshalling at line number 0 and column 0 in RESOURCE hibernate.cfg.xml. Message: null\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n    at com.Hibernate.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:24)\n    at com.Hibernate.Client.main(Client.java:7)\nCaused by: org.hibernate.internal.util.config.ConfigurationException: Unable to perform unmarshalling at line number 0 and column 0 in RESOURCE hibernate.cfg.xml. Message: null\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:133)\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:65)\n    at org.hibernate.boot.cfgxml.internal.ConfigLoader.loadConfigXmlResource(ConfigLoader.java:57)\n    at org.hibernate.boot.registry.StandardServiceRegistryBuilder.configure(StandardServiceRegistryBuilder.java:165)\n    at org.hibernate.cfg.Configuration.configure(Configuration.java:258)\n    at com.Hibernate.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:15)\n    ... 1 more\nCaused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\n - with linked exception:\n[java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory]\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:278)\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:421)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662)\n    at org.hibernate.boot.cfgxml.internal.JaxbCfgProcessor.unmarshal(JaxbCfgProcessor.java:122)\n    ... 6 more\nCaused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\n    at javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:276)\n    ... 10 more\n</code></pre>\n<p>How can I resolve these errors. I have tried specifying the pat of cfg.xml in configure(), but didn't work.</p>\n"},{"tags":["java"],"owner":{"account_id":20301088,"reputation":1,"user_id":14890465,"display_name":"冰凝凝"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676113284,"creation_date":1676113159,"question_id":75419706,"body_markdown":"I encountered a problem when using gradle to build a project and using versionCatalogs to uniformly manage dependencies according to the gradle user manual:\r\n\r\n**settings.gradle.kts**\r\n```kts\r\nversionCatalogs {\r\n        create(&quot;libs&quot;) {\r\n            // ...\r\n\r\n            @Suppress(&quot;SpellCheckingInspection&quot;)\r\n            library(&quot;lombok&quot;, &quot;org.projectlombok:lombok:1.18.26&quot;)\r\n\r\n            // ...\r\n        }\r\n}\r\n```\r\n\r\n**build.gradle.kts**\r\n```kts\r\nsubprojects {\r\n    apply(plugin = &quot;java&quot;)\r\n\r\n    @Suppress(&quot;SpellCheckingInspection&quot;)\r\n    dependencies {\r\n        compileOnly(libs.lombok)\r\n        annotationProcessor(libs.lombok)\r\n        testCompileOnly(libs.lombok)\r\n        testAnnotationProcessor(libs.lombok)\r\n    }\r\n\r\n    tasks.getByName&lt;Test&gt;(&quot;test&quot;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nError executing build:\r\n```log\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;C:\\code\\test\\test-jdbc\\build.gradle.kts&#39; line: 36\r\n\r\n* What went wrong:\r\nExtension with name &#39;libs&#39; does not exist. Currently registered extension names: [ext, base, defaultArtifacts, sourceSets, reporting, javaToolchains, java, testing]\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nCONFIGURE FAILED in 441ms\r\n\r\n```\r\n\r\nCan&#39;t I use the accessor provided by versionCatalogs in subprojects?\r\n\r\n### environmental information\r\ngradle 7.6  \r\nJDK 19\r\n\r\n\r\nI can only fall back to the general dependency statement:\r\n```kts\r\nsubprojects {\r\n    apply(plugin = &quot;java&quot;)\r\n\r\n    dependencies {\r\n        compileOnly(&quot;org.projectlombok:lombok:1.18.26&quot;)\r\n        // ...\r\n    }\r\n\r\n    tasks.getByName&lt;Test&gt;(&quot;test&quot;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nWhat a pity!","title":"Can&#39;t versionCatalogs be used in the gradle build script subprojects?","body":"<p>I encountered a problem when using gradle to build a project and using versionCatalogs to uniformly manage dependencies according to the gradle user manual:</p>\n<p><strong>settings.gradle.kts</strong></p>\n<pre><code>versionCatalogs {\n        create(&quot;libs&quot;) {\n            // ...\n\n            @Suppress(&quot;SpellCheckingInspection&quot;)\n            library(&quot;lombok&quot;, &quot;org.projectlombok:lombok:1.18.26&quot;)\n\n            // ...\n        }\n}\n</code></pre>\n<p><strong>build.gradle.kts</strong></p>\n<pre><code>subprojects {\n    apply(plugin = &quot;java&quot;)\n\n    @Suppress(&quot;SpellCheckingInspection&quot;)\n    dependencies {\n        compileOnly(libs.lombok)\n        annotationProcessor(libs.lombok)\n        testCompileOnly(libs.lombok)\n        testAnnotationProcessor(libs.lombok)\n    }\n\n    tasks.getByName&lt;Test&gt;(&quot;test&quot;) {\n        useJUnitPlatform()\n    }\n\n}\n\n</code></pre>\n<p>Error executing build:</p>\n<pre><code>\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'C:\\code\\test\\test-jdbc\\build.gradle.kts' line: 36\n\n* What went wrong:\nExtension with name 'libs' does not exist. Currently registered extension names: [ext, base, defaultArtifacts, sourceSets, reporting, javaToolchains, java, testing]\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nCONFIGURE FAILED in 441ms\n\n</code></pre>\n<p>Can't I use the accessor provided by versionCatalogs in subprojects?</p>\n<h3>environmental information</h3>\n<p>gradle 7.6<br />\nJDK 19</p>\n<p>I can only fall back to the general dependency statement:</p>\n<pre><code>subprojects {\n    apply(plugin = &quot;java&quot;)\n\n    dependencies {\n        compileOnly(&quot;org.projectlombok:lombok:1.18.26&quot;)\n        // ...\n    }\n\n    tasks.getByName&lt;Test&gt;(&quot;test&quot;) {\n        useJUnitPlatform()\n    }\n\n}\n\n</code></pre>\n<p>What a pity!</p>\n"},{"tags":["java","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676113097,"creation_date":1676113097,"answer_id":75419697,"question_id":75409721,"body_markdown":"You are well describing your issue, and if you apply strictly your description to your code, you will get what you need.\r\n\r\nIn your code sample, you create a pipeline that fetch a key, then fetch data. Therefore, the retry is applied to the entire chain, because it receive a publisher that already chain both actions.\r\n\r\nYou want:\r\n\r\n1. to fetch a key with 3 max retries:\r\n    ```java\r\n    Mono&lt;Key&gt; getKeyWithRetry = Mono.defer(() -&gt; getKeys()).retry(3);\r\n    ```\r\n2. Fetch data from an input key, with retry:\r\n    ```java\r\n    Function&lt;Key, Mono&lt;Data&gt;&gt; fetchDataWithRetry = key -&gt; fetchData(key).retry(3)\r\n    ```\r\n3. And finally, assemble all that with error handling:\r\n    ```java\r\n    getKeyWithRetry()\r\n        .flatMap(fetchDataWithRetry)\r\n        .map(this::processResponse)\r\n        .doOnError(this::handleError)\r\n        .subscribe();\r\n    ```","title":"Chained Monos and retry","body":"<p>You are well describing your issue, and if you apply strictly your description to your code, you will get what you need.</p>\n<p>In your code sample, you create a pipeline that fetch a key, then fetch data. Therefore, the retry is applied to the entire chain, because it receive a publisher that already chain both actions.</p>\n<p>You want:</p>\n<ol>\n<li>to fetch a key with 3 max retries:\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;Key&gt; getKeyWithRetry = Mono.defer(() -&gt; getKeys()).retry(3);\n</code></pre>\n</li>\n<li>Fetch data from an input key, with retry:\n<pre class=\"lang-java prettyprint-override\"><code>Function&lt;Key, Mono&lt;Data&gt;&gt; fetchDataWithRetry = key -&gt; fetchData(key).retry(3)\n</code></pre>\n</li>\n<li>And finally, assemble all that with error handling:\n<pre class=\"lang-java prettyprint-override\"><code>getKeyWithRetry()\n    .flatMap(fetchDataWithRetry)\n    .map(this::processResponse)\n    .doOnError(this::handleError)\n    .subscribe();\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676113097,"creation_date":1676024376,"question_id":75409721,"body_markdown":"Wrote a class as below:\r\n\r\n    class KeyFetcher {\r\n    \tString key = &quot;&quot;;\r\n    \r\n    \tMono getKeys() {\r\n    \t\ttry {\r\n    \t\t    key = keyService.getKeys();\r\n    \t\t\tif(key == null) {\r\n    \t\t\t\tthrow new RuntimeException(&quot;key value is null&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tthis.key = key;\r\n    \t\t\t}\r\n    \t\t} catch(Exception e) {\r\n    \t\t\treturn Mono.error(e);\r\n    \t\t}\r\n    \t\treturn Mono.just(key)\r\n    \t}\r\n    \r\n    \t@Scheduled // spring scheduler\r\n    \tvoid fetchDataFromExternalService() {\r\n    \t\tclient.fetchData(key) // returns Mono\r\n    \t\t.retry(3)\r\n    \t\t.map(this::processResponse)\r\n    \t\t.doOnError(this::handleError)\r\n    \t\t.subscribe();\r\n    \t}\r\n    }\r\n\r\nI want to modify the `fetchDataFromExternalService` method to include the getKeys() also before calling external service, and retry three times on both methods. Retry will be like:\r\n\r\n 1. get keys - try 3 times on failure - then go to handleError and do not call external service.\r\n 2. if key are fetched within 3 retry boundary, then now fetch data from external service with max 3 retries.\r\n 3. if error encountered in client.fetchData(), then go to handleError but not retry getKeys9) again.\r\n\r\nI tried below:\r\n\r\n    Mono.defer(()-&gt; getKeys())\r\n    \t.flatMap(obj -&gt; client.fetchData(key))\r\n    \t.retry(3)\r\n    \t.map(this::processResponse)\r\n    \t.doOnError(this::handleError)\r\n    \t.subscribe();\r\n\r\nBut the problem is that when getKey() returns response in say 2nd retry, it enters fetchData(), but if this methods throws exception, it enters handleError() **before again re-entering getKey() which is not desirable**. All I want is once getKey() retry is exhausted, control should enter handleError() and close the Mono. Same for fetchData(). I think I am doing something wrong above, but need suggestion as I am new to this. Thanks.","title":"Chained Monos and retry","body":"<p>Wrote a class as below:</p>\n<pre><code>class KeyFetcher {\n    String key = &quot;&quot;;\n\n    Mono getKeys() {\n        try {\n            key = keyService.getKeys();\n            if(key == null) {\n                throw new RuntimeException(&quot;key value is null&quot;);\n            } else {\n                this.key = key;\n            }\n        } catch(Exception e) {\n            return Mono.error(e);\n        }\n        return Mono.just(key)\n    }\n\n    @Scheduled // spring scheduler\n    void fetchDataFromExternalService() {\n        client.fetchData(key) // returns Mono\n        .retry(3)\n        .map(this::processResponse)\n        .doOnError(this::handleError)\n        .subscribe();\n    }\n}\n</code></pre>\n<p>I want to modify the <code>fetchDataFromExternalService</code> method to include the getKeys() also before calling external service, and retry three times on both methods. Retry will be like:</p>\n<ol>\n<li>get keys - try 3 times on failure - then go to handleError and do not call external service.</li>\n<li>if key are fetched within 3 retry boundary, then now fetch data from external service with max 3 retries.</li>\n<li>if error encountered in client.fetchData(), then go to handleError but not retry getKeys9) again.</li>\n</ol>\n<p>I tried below:</p>\n<pre><code>Mono.defer(()-&gt; getKeys())\n    .flatMap(obj -&gt; client.fetchData(key))\n    .retry(3)\n    .map(this::processResponse)\n    .doOnError(this::handleError)\n    .subscribe();\n</code></pre>\n<p>But the problem is that when getKey() returns response in say 2nd retry, it enters fetchData(), but if this methods throws exception, it enters handleError() <strong>before again re-entering getKey() which is not desirable</strong>. All I want is once getKey() retry is exhausted, control should enter handleError() and close the Mono. Same for fetchData(). I think I am doing something wrong above, but need suggestion as I am new to this. Thanks.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676045209,"post_id":75413350,"comment_id":133064599,"body_markdown":"I think you should schedule a task to run in 800ms that checks for conditions. Right now you&#39;re using shared data. If mouse pressed happens once, it starts the loop. Then if mouse pressed happens again, it changes the criteria for the loop which means the condition for edit mode might be satisfied, even though it wasn&#39;t. Is your HBox accumulating more and more handlers? You never remove them, but you add them in a while loop.","body":"I think you should schedule a task to run in 800ms that checks for conditions. Right now you&#39;re using shared data. If mouse pressed happens once, it starts the loop. Then if mouse pressed happens again, it changes the criteria for the loop which means the condition for edit mode might be satisfied, even though it wasn&#39;t. Is your HBox accumulating more and more handlers? You never remove them, but you add them in a while loop."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676045263,"post_id":75413350,"comment_id":133064619,"body_markdown":"Maybe you should change your question, to what you&#39;re trying to do. How can I have a mouse event trigger an action if the mouse is held down, within the component long enough.","body":"Maybe you should change your question, to what you&#39;re trying to do. How can I have a mouse event trigger an action if the mouse is held down, within the component long enough."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1676045414,"post_id":75413350,"comment_id":133064661,"body_markdown":"Maybe [this](https://stackoverflow.com/questions/27162374/javafx-2-user-idle-detection/27163223#27163223) can help? Create a minimal, complete, working example that demos the current issue.","body":"Maybe <a href=\"https://stackoverflow.com/questions/27162374/javafx-2-user-idle-detection/27163223#27163223\">this</a> can help? Create a minimal, complete, working example that demos the current issue."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1676045567,"post_id":75413350,"comment_id":133064708,"body_markdown":"[mcve] please .. please read that help page to understand what&#39;s needed :)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. please read that help page to understand what&#39;s needed :)"},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1676045626,"post_id":75413350,"comment_id":133064725,"body_markdown":"Do you want edit mode to start while the mouse button is still pressed down?  Or is it OK to enter it when the mouse button is released after at least 800 milliseconds?  If the latter, then just set a time stamp when the mouse button is pressed, and check it when the mouse button is released.  No need for looping, tasks and potential concurrency issues.","body":"Do you want edit mode to start while the mouse button is still pressed down?  Or is it OK to enter it when the mouse button is released after at least 800 milliseconds?  If the latter, then just set a time stamp when the mouse button is pressed, and check it when the mouse button is released.  No need for looping, tasks and potential concurrency issues."},{"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"score":0,"creation_date":1676046994,"post_id":75413350,"comment_id":133065177,"body_markdown":"@matt : All the issues that you have seen here are adressed in other parts of the code (a handler for mouse release sets mouse pressed to false and there is a method for deleting all the HBoxes)","body":"@matt : All the issues that you have seen here are adressed in other parts of the code (a handler for mouse release sets mouse pressed to false and there is a method for deleting all the HBoxes)"},{"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"score":0,"creation_date":1676047126,"post_id":75413350,"comment_id":133065228,"body_markdown":"@DaveB : I do want to enter edit mode when the mouse has been pressed for longer than 800ms, and I don&#39;t want it to check this only when the mouse is released because it would make the UI less clear. There is probably a concurrency issue here.","body":"@DaveB : I do want to enter edit mode when the mouse has been pressed for longer than 800ms, and I don&#39;t want it to check this only when the mouse is released because it would make the UI less clear. There is probably a concurrency issue here."},{"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"score":0,"creation_date":1676047752,"post_id":75413350,"comment_id":133065461,"body_markdown":"I&#39;ll try to make a a minimal complete working example if I could recreate the issue again in different code. The issue arose when I made a change to the handleEdit method to be able to remove all selected items from the list. Before this update I would send the specific pillHub that was pressed and only deleting it when handleRemoved was called. Now when updating whether a pillHub is selected it iterating through the list to remove selected items it broke, it is probably something to do with the loop if I would guess, -","body":"I&#39;ll try to make a a minimal complete working example if I could recreate the issue again in different code. The issue arose when I made a change to the handleEdit method to be able to remove all selected items from the list. Before this update I would send the specific pillHub that was pressed and only deleting it when handleRemoved was called. Now when updating whether a pillHub is selected it iterating through the list to remove selected items it broke, it is probably something to do with the loop if I would guess, -"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676047768,"post_id":75413350,"comment_id":133065467,"body_markdown":"You really didn&#39;t address any of the issues I raised. Your using some mousePressed field it is being modified any number of threads along with any time an action is activated. You could reduce this down to a button. &quot;How do I get an action to happen after the button is pressed for 800ms?&quot; Minimal reproducible example. Your whole busy loop can be replaced with a ScheduledExecutor running the task in 800ms.","body":"You really didn&#39;t address any of the issues I raised. Your using some mousePressed field it is being modified any number of threads along with any time an action is activated. You could reduce this down to a button. &quot;How do I get an action to happen after the button is pressed for 800ms?&quot; Minimal reproducible example. Your whole busy loop can be replaced with a ScheduledExecutor running the task in 800ms."},{"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"score":0,"creation_date":1676048032,"post_id":75413350,"comment_id":133065562,"body_markdown":"- this is weird because the loop is called only when the handleRemove. This method isn&#39;t called when the bug occures.","body":"- this is weird because the loop is called only when the handleRemove. This method isn&#39;t called when the bug occures."},{"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"score":0,"creation_date":1676048392,"post_id":75413350,"comment_id":133065662,"body_markdown":"@matt : I updated it and removed the unnecessary loop but it still has the same issue. It enters the the handleRemove method multiple times.","body":"@matt : I updated it and removed the unnecessary loop but it still has the same issue. It enters the the handleRemove method multiple times."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676048495,"post_id":75413350,"comment_id":133065691,"body_markdown":"There is still a loop. &quot; while (true) {&quot; You&#39;ve said what you need to do, make a minimal example. Either you&#39;ll find the bug in the process or somebody might be able to help.","body":"There is still a loop. &quot; while (true) {&quot; You&#39;ve said what you need to do, make a minimal example. Either you&#39;ll find the bug in the process or somebody might be able to help."},{"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"score":0,"creation_date":1676048654,"post_id":75413350,"comment_id":133065739,"body_markdown":"sorry, I have updated it in my code but not here. Will do. Trying to repreduce this bug on a javafx application.","body":"sorry, I have updated it in my code but not here. Will do. Trying to repreduce this bug on a javafx application."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1676050917,"post_id":75413350,"comment_id":133066352,"body_markdown":"Don&#39;t use the loop.  Create a global variable, `lastClick`, to hold the click time.  Update it with the current time when the mouse button is clicked.  Then start a `PauseTransition` for 800ms.  In its `onFinished` action, check to see if `lastClick` is still equal to the same value.  When the mouse button is released set `lastClick` to zero or `Null`.","body":"Don&#39;t use the loop.  Create a global variable, <code>lastClick</code>, to hold the click time.  Update it with the current time when the mouse button is clicked.  Then start a <code>PauseTransition</code> for 800ms.  In its <code>onFinished</code> action, check to see if <code>lastClick</code> is still equal to the same value.  When the mouse button is released set <code>lastClick</code> to zero or <code>Null</code>."}],"answers":[{"tags":[],"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676112845,"creation_date":1676112845,"answer_id":75419672,"question_id":75413350,"body_markdown":"I found out the issue. It isn&#39;t possible to solve with the info you had (very very sorry for that). Every time I opened the view that had this event handler it attached it again. The result is that every hbox got addtional event handlers every time I entered this window. Sorry again for this. I would be glad if a mod closed this.","title":"run being called multiple times when its impossible","body":"<p>I found out the issue. It isn't possible to solve with the info you had (very very sorry for that). Every time I opened the view that had this event handler it attached it again. The result is that every hbox got addtional event handlers every time I entered this window. Sorry again for this. I would be glad if a mod closed this.</p>\n"}],"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75419672,"answer_count":1,"score":-1,"last_activity_date":1676112845,"creation_date":1676044392,"question_id":75413350,"body_markdown":"I have an event handler for checking if the hbox was pressed. This event handler uses a parallel thread to check if the button was pressed longer than a set ammount of time. If it is, it sets editMode true. This worked for me but suddenly it started to randomly enter the method when it coudn&#39;t. It shoudn&#39;t be possible for the loop to enter the if statement for checking if more than 800ms have passed, more than one time, because it sets edit mode to true which should break the loop on the next iteration.\r\nBut I have noticed that it does eneter that if statement again. It does so randomly and a random ammount of times, sometimes two and sometimes even 5 or 6 times.\r\nthis is the code\r\n\r\n    hBox.addEventHandler(MouseEvent.MOUSE_PRESSED, new EventHandler&lt;MouseEvent&gt;() {\r\n                @Override\r\n                public void handle(javafx.scene.input.MouseEvent e) {\r\n                    mousePressed = true;\r\n                    pillReminder.setSelected(true);\r\n\r\n                    double pressedTime = System.currentTimeMillis();\r\n                    hBox.setBackground(new Background(new BackgroundFill(Color.CYAN, CornerRadii.EMPTY, Insets.EMPTY)));\r\n\r\n                    new Thread() {\r\n                        @Override\r\n                        public void run() {\r\n                            try {\r\n                                Thread.sleep(800);\r\n                            } catch (InterruptedException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n\r\n                            if (mousePressed) {\r\n                                editMode = true;\r\n\r\n                                //cannot thread javafx so need to use platform\r\n                                Platform.runLater(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        handleEditMode();\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n                    }.start();\r\n                }\r\n            });\r\n\r\n            hBox.addEventHandler(MouseEvent.MOUSE_RELEASED, new EventHandler&lt;MouseEvent&gt;() {\r\n                @Override\r\n                public void handle(MouseEvent mouseEvent) {\r\n                    if (!editMode) {\r\n                        mousePressed = false;\r\n                        hBox.setBackground(new Background(new BackgroundFill(Color.LIGHTCYAN, CornerRadii.EMPTY, Insets.EMPTY)));\r\n                        if (hBox.getBoundsInLocal().contains(new Point2D(mouseEvent.getX(), mouseEvent.getY())))\r\n                            handleReminderHubReleased(pillReminder);\r\n                    }\r\n                }\r\n            });\r\n\r\nThis is the handleEditMode method and its sub methods:\r\n\r\n    private void handleEditMode() {\r\n        home.getAppManager().getAppBar().getActionItems().add(MaterialDesignIcon.DELETE.button(e -&gt;\r\n                handleRemove()));\r\n\r\n        home.getAppManager().getAppBar().getActionItems().add(MaterialDesignIcon.CANCEL.button(e -&gt;\r\n                handleCancelEdit()));\r\n    }\r\n\r\n    private void handleRemove() {\r\n        ListIterator&lt;PillHub&gt; iter = HubData.getInstance().getHubs().listIterator();\r\n\r\n        while (iter.hasNext()) {\r\n            if(iter.next().isSelected()) {\r\n                iter.previous();\r\n                iter.remove();\r\n            }\r\n        }\r\n\r\n        handleCancelEdit();\r\n\r\n        //redo the hub list in home\r\n        hubVBox.getChildren().clear();\r\n        initialize();\r\n    }\r\n\r\n    private void handleCancelEdit() {\r\n        editMode = false;\r\n\r\n        for(PillHub ph : HubData.getInstance().getHubs()) {\r\n            if(ph.isSelected()) {\r\n                ph.gethBox().setBackground(new Background(new BackgroundFill(Color.LIGHTCYAN, CornerRadii.EMPTY, Insets.EMPTY)));\r\n                ph.setSelected(false);\r\n            }\r\n        }\r\n\r\n        home.getAppManager().getAppBar().getActionItems().clear();\r\n    }\r\n\r\n","title":"run being called multiple times when its impossible","body":"<p>I have an event handler for checking if the hbox was pressed. This event handler uses a parallel thread to check if the button was pressed longer than a set ammount of time. If it is, it sets editMode true. This worked for me but suddenly it started to randomly enter the method when it coudn't. It shoudn't be possible for the loop to enter the if statement for checking if more than 800ms have passed, more than one time, because it sets edit mode to true which should break the loop on the next iteration.\nBut I have noticed that it does eneter that if statement again. It does so randomly and a random ammount of times, sometimes two and sometimes even 5 or 6 times.\nthis is the code</p>\n<pre><code>hBox.addEventHandler(MouseEvent.MOUSE_PRESSED, new EventHandler&lt;MouseEvent&gt;() {\n            @Override\n            public void handle(javafx.scene.input.MouseEvent e) {\n                mousePressed = true;\n                pillReminder.setSelected(true);\n\n                double pressedTime = System.currentTimeMillis();\n                hBox.setBackground(new Background(new BackgroundFill(Color.CYAN, CornerRadii.EMPTY, Insets.EMPTY)));\n\n                new Thread() {\n                    @Override\n                    public void run() {\n                        try {\n                            Thread.sleep(800);\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n\n                        if (mousePressed) {\n                            editMode = true;\n\n                            //cannot thread javafx so need to use platform\n                            Platform.runLater(new Runnable() {\n                                @Override\n                                public void run() {\n                                    handleEditMode();\n                                }\n                            });\n                        }\n                    }\n                }.start();\n            }\n        });\n\n        hBox.addEventHandler(MouseEvent.MOUSE_RELEASED, new EventHandler&lt;MouseEvent&gt;() {\n            @Override\n            public void handle(MouseEvent mouseEvent) {\n                if (!editMode) {\n                    mousePressed = false;\n                    hBox.setBackground(new Background(new BackgroundFill(Color.LIGHTCYAN, CornerRadii.EMPTY, Insets.EMPTY)));\n                    if (hBox.getBoundsInLocal().contains(new Point2D(mouseEvent.getX(), mouseEvent.getY())))\n                        handleReminderHubReleased(pillReminder);\n                }\n            }\n        });\n</code></pre>\n<p>This is the handleEditMode method and its sub methods:</p>\n<pre><code>private void handleEditMode() {\n    home.getAppManager().getAppBar().getActionItems().add(MaterialDesignIcon.DELETE.button(e -&gt;\n            handleRemove()));\n\n    home.getAppManager().getAppBar().getActionItems().add(MaterialDesignIcon.CANCEL.button(e -&gt;\n            handleCancelEdit()));\n}\n\nprivate void handleRemove() {\n    ListIterator&lt;PillHub&gt; iter = HubData.getInstance().getHubs().listIterator();\n\n    while (iter.hasNext()) {\n        if(iter.next().isSelected()) {\n            iter.previous();\n            iter.remove();\n        }\n    }\n\n    handleCancelEdit();\n\n    //redo the hub list in home\n    hubVBox.getChildren().clear();\n    initialize();\n}\n\nprivate void handleCancelEdit() {\n    editMode = false;\n\n    for(PillHub ph : HubData.getInstance().getHubs()) {\n        if(ph.isSelected()) {\n            ph.gethBox().setBackground(new Background(new BackgroundFill(Color.LIGHTCYAN, CornerRadii.EMPTY, Insets.EMPTY)));\n            ph.setSelected(false);\n        }\n    }\n\n    home.getAppManager().getAppBar().getActionItems().clear();\n}\n</code></pre>\n"},{"tags":["java","kotlin","gradle","groovy","gradle-kotlin-dsl"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676106915,"post_id":75419011,"comment_id":133074072,"body_markdown":"Try `&quot;api&quot;(&quot;my-dependency&quot;)`. See https://docs.gradle.org/current/userguide/migrating_from_groovy_to_kotlin_dsl.html#configurations-and-dependencies","body":"Try <code>&quot;api&quot;(&quot;my-dependency&quot;)</code>. See <a href=\"https://docs.gradle.org/current/userguide/migrating_from_groovy_to_kotlin_dsl.html#configurations-and-dependencies\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":2546573,"reputation":1284,"user_id":2211267,"accept_rate":58,"display_name":"Whizzil"},"score":0,"creation_date":1676107034,"post_id":75419011,"comment_id":133074091,"body_markdown":"No, that doesn&#39;t work either. What do you mean cross-configuring? I merely have a project with submodules.","body":"No, that doesn&#39;t work either. What do you mean cross-configuring? I merely have a project with submodules."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676107078,"post_id":75419011,"comment_id":133074096,"body_markdown":"You&#39;re &quot;cross-configuring&quot; those subprojects (i.e., you&#39;re trying to configure a subproject from another project&#39;s build file via the `subprojects` block).","body":"You&#39;re &quot;cross-configuring&quot; those subprojects (i.e., you&#39;re trying to configure a subproject from another project&#39;s build file via the <code>subprojects</code> block)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676107169,"post_id":75419011,"comment_id":133074116,"body_markdown":"Not sure if it matters, but what if you put the `dependencies` block _after_ all those `apply` calls (with or without using `&quot;api&quot;` instead of `api`)?","body":"Not sure if it matters, but what if you put the <code>dependencies</code> block <i>after</i> all those <code>apply</code> calls (with or without using <code>&quot;api&quot;</code> instead of <code>api</code>)?"},{"owner":{"account_id":2546573,"reputation":1284,"user_id":2211267,"accept_rate":58,"display_name":"Whizzil"},"score":0,"creation_date":1676107234,"post_id":75419011,"comment_id":133074129,"body_markdown":"I&#39;ll be damned this worked. You sir are a genious. Thank you!","body":"I&#39;ll be damned this worked. You sir are a genious. Thank you!"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1676107512,"post_id":75419011,"comment_id":133074166,"body_markdown":"Glad you could get it to work :) You may also want to check out so-called [convention plugins](https://docs.gradle.org/current/userguide/sharing_build_logic_between_subprojects.html#sec:convention_plugins) (and here&#39;s a [sample](https://docs.gradle.org/current/samples/sample_convention_plugins.html)). It uses [`buildSrc`](https://docs.gradle.org/current/userguide/organizing_gradle_projects.html#sec:build_sources).","body":"Glad you could get it to work :) You may also want to check out so-called <a href=\"https://docs.gradle.org/current/userguide/sharing_build_logic_between_subprojects.html#sec:convention_plugins\" rel=\"nofollow noreferrer\">convention plugins</a> (and here&#39;s a <a href=\"https://docs.gradle.org/current/samples/sample_convention_plugins.html\" rel=\"nofollow noreferrer\">sample</a>). It uses <a href=\"https://docs.gradle.org/current/userguide/organizing_gradle_projects.html#sec:build_sources\" rel=\"nofollow noreferrer\"><code>buildSrc</code></a>."}],"owner":{"account_id":2546573,"reputation":1284,"user_id":2211267,"accept_rate":58,"display_name":"Whizzil"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676112589,"creation_date":1676104884,"question_id":75419011,"body_markdown":"I have a weird error `Configuration with name &#39;api&#39; not found` in my Kotlin Gradle project.\r\n\r\nInteresting, it works if I **don&#39;t add any sub-modules**, but as soon as I add the sub-module it starts complaining.\r\n\r\nHere is the root build.gradle:\r\n\r\n``` \r\nplugins {\r\n    id(&quot;java-library&quot;)\r\n    kotlin(&quot;jvm&quot;) version &quot;1.8.0&quot;\r\n}\r\n\r\nbuildscript {\r\n    val kotlinVersion = &quot;1.8.0&quot;\r\n    val kotlinterVersion = &quot;3.13.0&quot;\r\n\r\n    repositories {\r\n        mavenCentral()\r\n        maven { url = uri(&quot;https://plugins.gradle.org/m2/&quot;) }\r\n        google()\r\n    }\r\n\r\n    dependencies {\r\n        classpath(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot;)\r\n        classpath(&quot;org.jmailen.gradle:kotlinter-gradle:$kotlinterVersion&quot;)\r\n        classpath(&quot;com.adarshr:gradle-test-logger-plugin:3.2.0&quot;)\r\n    }\r\n}\r\n\r\nallprojects {\r\n    group = &quot;com.proj&quot;\r\n    version = &quot;1.0.0&quot;\r\n\r\n    configurations.all {\r\n        resolutionStrategy.preferProjectModules()\r\n    }\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n}\r\n\r\nsubprojects {\r\n    val kotlinVersion = &quot;1.8.0&quot;\r\n\r\n    tasks.withType&lt;JavaCompile&gt;().configureEach {\r\n        options.encoding = &quot;UTF-8&quot;\r\n        options.compilerArgs.addAll(listOf(&quot;-Xlint:all&quot;, &quot;-Xlint:-serial&quot;))\r\n    }\r\n\r\n    dependencies {\r\n        api(&quot;my-dependency&quot;)\r\n    }\r\n\r\n    apply(plugin = &quot;org.jetbrains.kotlin.jvm&quot;)\r\n    apply(plugin = &quot;java&quot;)\r\n    apply(plugin = &quot;java-library&quot;)\r\n    apply(plugin = &quot;maven-publish&quot;)\r\n    apply(plugin = &quot;kotlin&quot;)\r\n    apply(plugin = &quot;org.jmailen.kotlinter&quot;)\r\n\r\n    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile::class) {\r\n        kotlinOptions {\r\n            jvmTarget = &quot;17&quot;\r\n            javaParameters = true\r\n        }\r\n    }\r\n\r\n    java {\r\n        withSourcesJar()\r\n    }\r\n}\r\n\r\n```\r\n\r\nSo this alone works. But as soon as I add an empty sub-module with any build.gradle, it breaks. Here&#39;s an example of child module.\r\n\r\n```\r\nplugins {\r\n    id(&quot;java-library&quot;)\r\n    kotlin(&quot;jvm&quot;) version &quot;1.8.0&quot;\r\n}\r\n\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n        maven { url = &quot;https://repo.spring.io/libs-snapshot&quot; }\r\n    }\r\n\r\n    dependencies {\r\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:3.0.2&quot;)\r\n    }\r\n}\r\n\r\napply(plugin = &quot;org.springframework.boot&quot;)\r\n\r\ntasks.withType&lt;BootJar&gt; {\r\n    archiveFileName.set(&quot;$archiveBaseName.$archiveExtension&quot;)\r\n}\r\ntasks.getByName(&quot;jar&quot;).enabled = true\r\n\r\ntasks.withType&lt;BootRun&gt; {\r\n    systemProperties = System.getProperties()\r\n}\r\n\r\ndependencies {\r\n\r\n}\r\n\r\n```\r\n\r\nBut it breaks with any other sub-module too. Any ideas?","title":"Kotlin Gradle api configuration not found","body":"<p>I have a weird error <code>Configuration with name 'api' not found</code> in my Kotlin Gradle project.</p>\n<p>Interesting, it works if I <strong>don't add any sub-modules</strong>, but as soon as I add the sub-module it starts complaining.</p>\n<p>Here is the root build.gradle:</p>\n<pre><code>plugins {\n    id(&quot;java-library&quot;)\n    kotlin(&quot;jvm&quot;) version &quot;1.8.0&quot;\n}\n\nbuildscript {\n    val kotlinVersion = &quot;1.8.0&quot;\n    val kotlinterVersion = &quot;3.13.0&quot;\n\n    repositories {\n        mavenCentral()\n        maven { url = uri(&quot;https://plugins.gradle.org/m2/&quot;) }\n        google()\n    }\n\n    dependencies {\n        classpath(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot;)\n        classpath(&quot;org.jmailen.gradle:kotlinter-gradle:$kotlinterVersion&quot;)\n        classpath(&quot;com.adarshr:gradle-test-logger-plugin:3.2.0&quot;)\n    }\n}\n\nallprojects {\n    group = &quot;com.proj&quot;\n    version = &quot;1.0.0&quot;\n\n    configurations.all {\n        resolutionStrategy.preferProjectModules()\n    }\n\n    repositories {\n        mavenCentral()\n    }\n}\n\nsubprojects {\n    val kotlinVersion = &quot;1.8.0&quot;\n\n    tasks.withType&lt;JavaCompile&gt;().configureEach {\n        options.encoding = &quot;UTF-8&quot;\n        options.compilerArgs.addAll(listOf(&quot;-Xlint:all&quot;, &quot;-Xlint:-serial&quot;))\n    }\n\n    dependencies {\n        api(&quot;my-dependency&quot;)\n    }\n\n    apply(plugin = &quot;org.jetbrains.kotlin.jvm&quot;)\n    apply(plugin = &quot;java&quot;)\n    apply(plugin = &quot;java-library&quot;)\n    apply(plugin = &quot;maven-publish&quot;)\n    apply(plugin = &quot;kotlin&quot;)\n    apply(plugin = &quot;org.jmailen.kotlinter&quot;)\n\n    tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile::class) {\n        kotlinOptions {\n            jvmTarget = &quot;17&quot;\n            javaParameters = true\n        }\n    }\n\n    java {\n        withSourcesJar()\n    }\n}\n\n</code></pre>\n<p>So this alone works. But as soon as I add an empty sub-module with any build.gradle, it breaks. Here's an example of child module.</p>\n<pre><code>plugins {\n    id(&quot;java-library&quot;)\n    kotlin(&quot;jvm&quot;) version &quot;1.8.0&quot;\n}\n\nbuildscript {\n    repositories {\n        mavenCentral()\n        maven { url = &quot;https://repo.spring.io/libs-snapshot&quot; }\n    }\n\n    dependencies {\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:3.0.2&quot;)\n    }\n}\n\napply(plugin = &quot;org.springframework.boot&quot;)\n\ntasks.withType&lt;BootJar&gt; {\n    archiveFileName.set(&quot;$archiveBaseName.$archiveExtension&quot;)\n}\ntasks.getByName(&quot;jar&quot;).enabled = true\n\ntasks.withType&lt;BootRun&gt; {\n    systemProperties = System.getProperties()\n}\n\ndependencies {\n\n}\n\n</code></pre>\n<p>But it breaks with any other sub-module too. Any ideas?</p>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676112323,"creation_date":1676112323,"answer_id":75419630,"question_id":75419615,"body_markdown":"You&#39;re never making your frame visible.\r\n\r\nThere may well be better approaches to this - it&#39;s years since I&#39;ve written any Swing - but just adding `frame.setVisible(true);` at the bottom of your main method seems to do the trick.","title":"JPanel not showing up. What is missing or where did I go wrong","body":"<p>You're never making your frame visible.</p>\n<p>There may well be better approaches to this - it's years since I've written any Swing - but just adding <code>frame.setVisible(true);</code> at the bottom of your main method seems to do the trick.</p>\n"}],"owner":{"account_id":26384413,"reputation":33,"user_id":20037175,"display_name":"Pieter Zeelie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75419630,"answer_count":1,"score":-1,"last_activity_date":1676112323,"creation_date":1676112111,"question_id":75419615,"body_markdown":"What is missing in my code as when I run the code it gives no errors but the panel doesn&#39;t show. Is there a way to display the input fields from my code?    \r\n\r\nthe code needs to take inputs from the user an click on a button then calculate the balance due to display all the information like the customer name, name, balance, discount, service charge, balance due and the category code.\r\n\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    \r\n    public class CustomerInformation {\r\n        private static final double DISCOUNT_RATE = 0.03;\r\n        private static final double SERVICE_CHARGE_RATE = 0.015;\r\n    \r\n        public static void main(String[] args) {\r\n            JFrame frame = new JFrame(&quot;Customer Information&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setSize(400, 300);\r\n            frame.setLayout(new GridLayout(0, 1));\r\n    \r\n            JPanel panel1 = new JPanel();\r\n            panel1.add(new JLabel(&quot;Customer Number:&quot;));\r\n            JTextField customerNumberField = new JTextField(20);\r\n            panel1.add(customerNumberField);\r\n            frame.add(panel1);\r\n    \r\n            JPanel panel2 = new JPanel();\r\n            panel2.add(new JLabel(&quot;Name:&quot;));\r\n            JTextField nameField = new JTextField(20);\r\n            panel2.add(nameField);\r\n            frame.add(panel2);\r\n    \r\n            JPanel panel3 = new JPanel();\r\n            panel3.add(new JLabel(&quot;Balance:&quot;));\r\n            JTextField balanceField = new JTextField(20);\r\n            panel3.add(balanceField);\r\n            frame.add(panel3);\r\n    \r\n            JPanel panel4 = new JPanel();\r\n            panel4.add(new JLabel(&quot;Code:&quot;));\r\n            JTextField codeField = new JTextField(20);\r\n            panel4.add(codeField);\r\n            frame.add(panel4);\r\n    \r\n            JButton button = new JButton(&quot;Submit&quot;);\r\n            frame.add(button);\r\n    \r\n            button.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    String customerNumber = customerNumberField.getText();\r\n                    String name = nameField.getText();\r\n                    double balance = Double.parseDouble(balanceField.getText());\r\n                    int code = Integer.parseInt(codeField.getText());\r\n    \r\n                    double balanceDue = 0;\r\n                    String codeCategory = &quot;&quot;;\r\n    \r\n                    switch (code) {\r\n                        case 1:\r\n                            balanceDue = balance - (balance * DISCOUNT_RATE);\r\n                            codeCategory = &quot;current&quot;;\r\n                            break;\r\n                        case 2:\r\n                            balanceDue = balance;\r\n                            codeCategory = &quot;no discount&quot;;\r\n                            break;\r\n                        case 3:\r\n                            balanceDue = balance + (balance * SERVICE_CHARGE_RATE);\r\n                            codeCategory = &quot;no discount&quot;;\r\n                            break;\r\n                        default:\r\n                            codeCategory = &quot;invalid code&quot;;\r\n                            break;\r\n                    }\r\n    \r\n                    JOptionPane.showMessageDialog(frame,\r\n                &quot;Customer Number: &quot; + customerNumber + &quot;\\n&quot; +\r\n                        &quot;Name: &quot; + name + &quot;.n&quot; +\r\n                        &quot;Balance&quot; + balance + &quot;/n&quot; +\r\n                        &quot;Discount&quot; + DISCOUNT_RATE + &quot;/n&quot; +\r\n                        &quot;Service rate&quot; + SERVICE_CHARGE_RATE + &quot;/n&quot; +\r\n                        &quot;Balance due&quot; + balanceDue + &quot;/n&quot; +\r\n                        &quot;Code category&quot; + codeCategory\r\n                    );\r\n                }\r\n            });\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n        ","title":"JPanel not showing up. What is missing or where did I go wrong","body":"<p>What is missing in my code as when I run the code it gives no errors but the panel doesn't show. Is there a way to display the input fields from my code?</p>\n<p>the code needs to take inputs from the user an click on a button then calculate the balance due to display all the information like the customer name, name, balance, discount, service charge, balance due and the category code.</p>\n<pre><code>import java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\n\npublic class CustomerInformation {\n    private static final double DISCOUNT_RATE = 0.03;\n    private static final double SERVICE_CHARGE_RATE = 0.015;\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(&quot;Customer Information&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400, 300);\n        frame.setLayout(new GridLayout(0, 1));\n\n        JPanel panel1 = new JPanel();\n        panel1.add(new JLabel(&quot;Customer Number:&quot;));\n        JTextField customerNumberField = new JTextField(20);\n        panel1.add(customerNumberField);\n        frame.add(panel1);\n\n        JPanel panel2 = new JPanel();\n        panel2.add(new JLabel(&quot;Name:&quot;));\n        JTextField nameField = new JTextField(20);\n        panel2.add(nameField);\n        frame.add(panel2);\n\n        JPanel panel3 = new JPanel();\n        panel3.add(new JLabel(&quot;Balance:&quot;));\n        JTextField balanceField = new JTextField(20);\n        panel3.add(balanceField);\n        frame.add(panel3);\n\n        JPanel panel4 = new JPanel();\n        panel4.add(new JLabel(&quot;Code:&quot;));\n        JTextField codeField = new JTextField(20);\n        panel4.add(codeField);\n        frame.add(panel4);\n\n        JButton button = new JButton(&quot;Submit&quot;);\n        frame.add(button);\n\n        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                String customerNumber = customerNumberField.getText();\n                String name = nameField.getText();\n                double balance = Double.parseDouble(balanceField.getText());\n                int code = Integer.parseInt(codeField.getText());\n\n                double balanceDue = 0;\n                String codeCategory = &quot;&quot;;\n\n                switch (code) {\n                    case 1:\n                        balanceDue = balance - (balance * DISCOUNT_RATE);\n                        codeCategory = &quot;current&quot;;\n                        break;\n                    case 2:\n                        balanceDue = balance;\n                        codeCategory = &quot;no discount&quot;;\n                        break;\n                    case 3:\n                        balanceDue = balance + (balance * SERVICE_CHARGE_RATE);\n                        codeCategory = &quot;no discount&quot;;\n                        break;\n                    default:\n                        codeCategory = &quot;invalid code&quot;;\n                        break;\n                }\n\n                JOptionPane.showMessageDialog(frame,\n            &quot;Customer Number: &quot; + customerNumber + &quot;\\n&quot; +\n                    &quot;Name: &quot; + name + &quot;.n&quot; +\n                    &quot;Balance&quot; + balance + &quot;/n&quot; +\n                    &quot;Discount&quot; + DISCOUNT_RATE + &quot;/n&quot; +\n                    &quot;Service rate&quot; + SERVICE_CHARGE_RATE + &quot;/n&quot; +\n                    &quot;Balance due&quot; + balanceDue + &quot;/n&quot; +\n                    &quot;Code category&quot; + codeCategory\n                );\n            }\n        });\n    }\n}\n\n\n\n\n    \n</code></pre>\n"},{"tags":["java","amazon-web-services","jenkins","devops"],"comments":[{"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"score":0,"creation_date":1676112363,"post_id":75418633,"comment_id":133074828,"body_markdown":"Check why `jdk.sh` seems to have  an html tag","body":"Check why <code>jdk.sh</code> seems to have  an html tag"}],"owner":{"account_id":19162179,"reputation":11,"user_id":13997722,"display_name":"Ramanand mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676112224,"creation_date":1676099302,"question_id":75418633,"body_markdown":"When we run the jenkins job , and jdk configured using global manage config.\r\n```\r\n`Running as SYSTEM\r\nBuilding in workspace /var/lib/jenkins/workspace/maven_git\r\nInstalling JDK jdk-8u221-oth-JPR\r\nDownloading JDK from https://download.oracle.com/otn/java/jdk/8u221-b11/230deb18db3e4014bb8e3e8324f81b43/jdk-8u221-linux-x64.tar.gz\r\nDownloading 4106 bytes\r\nInstalling /var/lib/jenkins/tools/hudson.model.JDK/java8/jdk.sh\r\n[java8] $ /var/lib/jenkins/tools/hudson.model.JDK/java8/jdk.sh -noregister\r\n/var/lib/jenkins/tools/hudson.model.JDK/java8/jdk.sh: line 1: syntax error near unexpected token `newline&#39;\r\n/var/lib/jenkins/tools/hudson.model.JDK/java8/jdk.sh: line 1: `&lt;html&gt;&#39;\r\nERROR: Failed to install JDK. Exit code=2`\r\n```\r\nWhen we run the jenkins job , and jdk configured using global manage config.\r\n```\r\n`Running as SYSTEM\r\nBuilding in workspace /var/lib/jenkins/workspace/maven_git\r\nInstalling JDK jdk-8u221-oth-JPR\r\nDownloading JDK from https://download.oracle.com/otn/java/jdk/8u221-b11/230deb18db3e4014bb8e3e8324f81b43/jdk-8u221-linux-x64.tar.gz\r\nDownloading 4106 bytes\r\nInstalling /var/lib/jenkins/tools/hudson.model.JDK/java8/jdk.sh\r\n[java8] $ /var/lib/jenkins/tools/hudson.model.JDK/java8/jdk.sh -noregister\r\n/var/lib/jenkins/tools/hudson.model.JDK/java8/jdk.sh: line 1: syntax error near unexpected token `newline&#39;\r\n/var/lib/jenkins/tools/hudson.model.JDK/java8/jdk.sh: line 1: `&lt;html&gt;&#39;\r\nERROR: Failed to install JDK. Exit code=2`\r\n```","title":"ERROR: Failed to install JDK when we install jdk in jenkins using manage config","body":"<p>When we run the jenkins job , and jdk configured using global manage config.</p>\n<pre><code>`Running as SYSTEM\nBuilding in workspace /var/lib/jenkins/workspace/maven_git\nInstalling JDK jdk-8u221-oth-JPR\nDownloading JDK from https://download.oracle.com/otn/java/jdk/8u221-b11/230deb18db3e4014bb8e3e8324f81b43/jdk-8u221-linux-x64.tar.gz\nDownloading 4106 bytes\nInstalling /var/lib/jenkins/tools/hudson.model.JDK/java8/jdk.sh\n[java8] $ /var/lib/jenkins/tools/hudson.model.JDK/java8/jdk.sh -noregister\n/var/lib/jenkins/tools/hudson.model.JDK/java8/jdk.sh: line 1: syntax error near unexpected token `newline'\n/var/lib/jenkins/tools/hudson.model.JDK/java8/jdk.sh: line 1: `&lt;html&gt;'\nERROR: Failed to install JDK. Exit code=2`\n</code></pre>\n<p>When we run the jenkins job , and jdk configured using global manage config.</p>\n<pre><code>`Running as SYSTEM\nBuilding in workspace /var/lib/jenkins/workspace/maven_git\nInstalling JDK jdk-8u221-oth-JPR\nDownloading JDK from https://download.oracle.com/otn/java/jdk/8u221-b11/230deb18db3e4014bb8e3e8324f81b43/jdk-8u221-linux-x64.tar.gz\nDownloading 4106 bytes\nInstalling /var/lib/jenkins/tools/hudson.model.JDK/java8/jdk.sh\n[java8] $ /var/lib/jenkins/tools/hudson.model.JDK/java8/jdk.sh -noregister\n/var/lib/jenkins/tools/hudson.model.JDK/java8/jdk.sh: line 1: syntax error near unexpected token `newline'\n/var/lib/jenkins/tools/hudson.model.JDK/java8/jdk.sh: line 1: `&lt;html&gt;'\nERROR: Failed to install JDK. Exit code=2`\n</code></pre>\n"},{"tags":["java","oauth-2.0","github-api","github-enterprise","github-app"],"owner":{"account_id":13641298,"reputation":37,"user_id":9841279,"display_name":"amalicode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676111762,"creation_date":1676111424,"question_id":75419543,"body_markdown":"I&#39;m trying to get a token from my GitHubApp using the step by step tutorial on GitHub.\r\n\r\nStep 1 is to get the code with http GET https://{GitHubEntreprise}/login/oauth/authorize\r\n\r\n```\r\n        URL url = new URL(&quot;https://{GitHubEntreprise}/login/oauth/authorize&quot;);\r\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n        con.setRequestMethod(&quot;GET&quot;);\r\n\r\n        Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\r\n        parameters.put(&quot;client_id&quot;, &quot;Iv1...&quot;);\r\n        ParameterStringBuilder parameterStringBuilder = new ParameterStringBuilder();\r\n        con.setDoOutput(true);\r\n        DataOutputStream out = new DataOutputStream(con.getOutputStream());\r\n        out.writeBytes(parameterStringBuilder.getParamsString(parameters));\r\n        out.flush();\r\n        out.close();\r\n        con.getResponseCode();\r\n```\r\n\r\nThe response code is 403. Trying to call it by Postman and it return me a html page... i don&#39;t really understand. \r\n\r\nThe goal of this subject is to be able to read a file on a private git hub organisation\r\n\r\nHave you got an idea ? \r\n","title":"Http error 403 when trying to request a user&#39;s GitHub identity","body":"<p>I'm trying to get a token from my GitHubApp using the step by step tutorial on GitHub.</p>\n<p>Step 1 is to get the code with http GET https://{GitHubEntreprise}/login/oauth/authorize</p>\n<pre><code>        URL url = new URL(&quot;https://{GitHubEntreprise}/login/oauth/authorize&quot;);\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\n        con.setRequestMethod(&quot;GET&quot;);\n\n        Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\n        parameters.put(&quot;client_id&quot;, &quot;Iv1...&quot;);\n        ParameterStringBuilder parameterStringBuilder = new ParameterStringBuilder();\n        con.setDoOutput(true);\n        DataOutputStream out = new DataOutputStream(con.getOutputStream());\n        out.writeBytes(parameterStringBuilder.getParamsString(parameters));\n        out.flush();\n        out.close();\n        con.getResponseCode();\n</code></pre>\n<p>The response code is 403. Trying to call it by Postman and it return me a html page... i don't really understand.</p>\n<p>The goal of this subject is to be able to read a file on a private git hub organisation</p>\n<p>Have you got an idea ?</p>\n"},{"tags":["java","xml","sign","xml-dsig"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1675539079,"post_id":75325436,"comment_id":132952477,"body_markdown":"Please show your attempts you have tried and the problems/error messages you get from your attempts.\nIt is unclear what you are asking or what the problem is. Are you talking about [xmldsig](https://www.w3.org/TR/xmldsig-core1/)?","body":"Please show your attempts you have tried and the problems/error messages you get from your attempts. It is unclear what you are asking or what the problem is. Are you talking about <a href=\"https://www.w3.org/TR/xmldsig-core1/\" rel=\"nofollow noreferrer\">xmldsig</a>?"},{"owner":{"account_id":7440798,"reputation":1877,"user_id":5658642,"display_name":"beat"},"score":0,"creation_date":1675602954,"post_id":75325436,"comment_id":132960678,"body_markdown":"Yes, xml-dsig is to be used. What I have done so far: I am able to sign and verify a given xml file with a _local_ keystore. I am able to extract the signature and the certificate from the supplied pkcs#7 (CMS) response. I have no idea how to replace the local keystore and supply instead the extracted signature and x509 certificate.","body":"Yes, xml-dsig is to be used. What I have done so far: I am able to sign and verify a given xml file with a <i>local</i> keystore. I am able to extract the signature and the certificate from the supplied pkcs#7 (CMS) response. I have no idea how to replace the local keystore and supply instead the extracted signature and x509 certificate."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1675603791,"post_id":75325436,"comment_id":132960847,"body_markdown":"Please [edit] your question to include the source code you have or what you have tried so far. Also include the sample data on how your XML file is or should be signed from your local keystore and from the external service. If possible provide a [mcve]. Also include the response you get from the external service and include your desired result of your finished XML file.","body":"Please <a href=\"https://stackoverflow.com/posts/75325436/edit\">edit</a> your question to include the source code you have or what you have tried so far. Also include the sample data on how your XML file is or should be signed from your local keystore and from the external service. If possible provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also include the response you get from the external service and include your desired result of your finished XML file."},{"owner":{"account_id":6805198,"reputation":1269,"user_id":5458310,"accept_rate":100,"display_name":"Bitcoin Murderous Maniac"},"score":0,"creation_date":1676078067,"post_id":75325436,"comment_id":133071641,"body_markdown":"Read over https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/cert/jcajce/JcaX509CertificateHolder.html and https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/operator/ContentVerifierProvider.html and see if throwing those in with your logic you can get to other pieces you&#39;re missing put together. You did a good job writing all that code, so play with those a little incorporating accordingly for my &quot;hint&quot; to you as you mentioned. @beat one more here https://www.bouncycastle.org/docs/pkixdocs1.8on/org/bouncycastle/operator/jcajce/JcaContentVerifierProviderBuilder.html","body":"Read over <a href=\"https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/cert/jcajce/JcaX509CertificateHolder.html\" rel=\"nofollow noreferrer\">bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/cert/&hellip;</a> and <a href=\"https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/operator/ContentVerifierProvider.html\" rel=\"nofollow noreferrer\">bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/operato&zwnj;&#8203;r/&hellip;</a> and see if throwing those in with your logic you can get to other pieces you&#39;re missing put together. You did a good job writing all that code, so play with those a little incorporating accordingly for my &quot;hint&quot; to you as you mentioned. @beat one more here <a href=\"https://www.bouncycastle.org/docs/pkixdocs1.8on/org/bouncycastle/operator/jcajce/JcaContentVerifierProviderBuilder.html\" rel=\"nofollow noreferrer\">bouncycastle.org/docs/pkixdocs1.8on/org/bouncycastle/operato&zwnj;&#8203;r/&hellip;</a>"}],"owner":{"account_id":7440798,"reputation":1877,"user_id":5658642,"display_name":"beat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676110200,"creation_date":1675351963,"question_id":75325436,"body_markdown":"We need to send a hash / digest of an XML file to a remote signing service.\r\n\r\nThe signing service returns a PKCS#7 response. This includes the signature and the short-lived-x509 certificate that was used.\r\n\r\nQuestion: what is the easiest solution to apply the information from the PKCS#7 to the XML file so that it is correctly signed? I am looking for an example (Plain Java or Apache Santuario).\r\n\r\nUpdate:\r\n\r\nThis is the code used for signing (xml-dsig) an XML with Apache Santuario given a _local_ keystore:\r\n\r\n    package test.signer.signer;\r\n\r\n    import org.apache.commons.io.IOUtils;\r\n    import org.apache.xml.security.Init;\r\n    import org.apache.xml.security.c14n.Canonicalizer;\r\n    import org.apache.xml.security.signature.XMLSignature;\r\n    import org.apache.xml.security.transforms.Transforms;\r\n    import org.apache.xml.security.utils.Constants;\r\n    import org.w3c.dom.Document;\r\n    \r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import java.io.*;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.security.Key;\r\n    import java.security.KeyStore;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    /**\r\n     * from: https://stackoverflow.com/a/15911581/5658642\r\n     */\r\n    public class CreateSignature\r\n    {\r\n    \r\n      private static final String PRIVATE_KEY_ALIAS = &quot;sgw-sign-client-keystore&quot;;\r\n    \r\n      private static final String PRIVATE_KEY_PASS = &quot;password&quot;;\r\n    \r\n      private static final String KEY_STORE_PASS = &quot;&quot;;\r\n    \r\n      private static final String KEY_STORE_TYPE = &quot;JKS&quot;;\r\n    \r\n      public static void main(String... unused) throws Exception\r\n      {\r\n        final InputStream fileInputStream = Files.newInputStream(Paths.get(&quot;unsigned_DEV.xml&quot;));\r\n        try\r\n        {\r\n          output(signFile(fileInputStream, new File(&quot;sgw-sign-client-keystore.jks&quot;)), &quot;signed-test.xml&quot;);\r\n        } finally\r\n        {\r\n          IOUtils.closeQuietly(fileInputStream);\r\n        }\r\n      }\r\n    \r\n      public static ByteArrayOutputStream signFile(InputStream xmlFile, File privateKeyFile) throws Exception\r\n      {\r\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n        dbf.setNamespaceAware(true);\r\n        dbf.setFeature(&quot;http://javax.xml.XMLConstants/feature/secure-processing&quot;, true);\r\n        DocumentBuilder db = dbf.newDocumentBuilder();\r\n        Document doc = db.parse(xmlFile);\r\n        Init.init();\r\n    \r\n        final KeyStore keyStore = loadKeyStore(privateKeyFile);\r\n        final XMLSignature sig = new XMLSignature(doc, null, XMLSignature.ALGO_ID_SIGNATURE_RSA);\r\n        doc.getDocumentElement().appendChild(sig.getElement());\r\n        final Transforms transforms = new Transforms(doc);\r\n        transforms.addTransform(Transforms.TRANSFORM_ENVELOPED_SIGNATURE);\r\n        sig.addDocument(&quot;&quot;, transforms, Constants.ALGO_ID_DIGEST_SHA1);\r\n    \r\n        // TODO replace with external signature\r\n        final Key privateKey = keyStore.getKey(PRIVATE_KEY_ALIAS, PRIVATE_KEY_PASS.toCharArray());\r\n        final X509Certificate cert = (X509Certificate) keyStore.getCertificate(PRIVATE_KEY_ALIAS);\r\n        sig.addKeyInfo(cert);\r\n        sig.addKeyInfo(cert.getPublicKey());\r\n    \r\n        sig.sign(privateKey);\r\n    \r\n        final ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        outputStream.write(Canonicalizer.getInstance(Canonicalizer.ALGO_ID_C14N_WITH_COMMENTS).canonicalizeSubtree(doc));\r\n        return outputStream;\r\n      }\r\n    \r\n      private static KeyStore loadKeyStore(File privateKeyFile) throws Exception\r\n      {\r\n        final InputStream fileInputStream = Files.newInputStream(privateKeyFile.toPath());\r\n        try\r\n        {\r\n          final KeyStore keyStore = KeyStore.getInstance(KEY_STORE_TYPE);\r\n          keyStore.load(fileInputStream, null);\r\n          return keyStore;\r\n        } finally\r\n        {\r\n          IOUtils.closeQuietly(fileInputStream);\r\n        }\r\n      }\r\n    \r\n      private static void output(ByteArrayOutputStream signedOutputStream, String fileName) throws IOException\r\n      {\r\n        final OutputStream fileOutputStream = Files.newOutputStream(Paths.get(fileName));\r\n        try\r\n        {\r\n          fileOutputStream.write(signedOutputStream.toByteArray());\r\n          fileOutputStream.flush();\r\n        } finally\r\n        {\r\n          IOUtils.closeQuietly(fileOutputStream);\r\n        }\r\n      }\r\n    }\r\n\r\nThis works so far. I now must replace the _local_ keystore with a &quot;remote keystore&quot;. The remote signing service takes a digest / hash and signs it. The response is a valid PKCS#7, which contains the certificate and the signature.\r\n\r\nI am able to extract both with the following code (based on CMSSignedData from BouncyCastle):\r\n\r\n    String hashB64 = Base64.getEncoder().encodeToString(digest);\r\n    byte[] pkcs7Signature = remoteServiceClientService.sign(hashB64);\r\n    \r\n    CMSSignedData cms = null;\r\n    try\r\n    {\r\n      cms = new CMSSignedData(pkcs7Signature);\r\n    \r\n      SignerInformationStore signers = cms.getSignerInfos();\r\n      Collection&lt;SignerInformation&gt; c = signers.getSigners();\r\n      for (SignerInformation signer : c) {\r\n        // this collection will contain the signer certificate, if present\r\n        Collection&lt;X509CertificateHolder&gt; signerCol = cms.getCertificates().getMatches(signer.getSID());\r\n        SIG_CERT = new JcaX509CertificateConverter().getCertificate(signerCol.stream().findFirst().get());\r\n      }\r\n    \r\n      List&lt;byte[]&gt; signatures = cms.getSignerInfos().getSigners().stream().map(SignerInformation::getSignature)\r\n          .collect(Collectors.toList());\r\n      byte[] pkcs1Signature = signatures.get(0);\r\n      SOPLogger.log(&quot;Plain Signature&quot;, pkcs1Signature);\r\n    \r\n      return pkcs1Signature;\r\n    } catch (CMSException e)\r\n    {\r\n      throw new RuntimeException(e);\r\n    } catch (CertificateException e)\r\n    {\r\n      throw new RuntimeException(e);\r\n    }\r\n\r\nI have no idea how to apply the extracted information instead of using a _local_ keystore and are happy to try any hints.","title":"XML Signature remote","body":"<p>We need to send a hash / digest of an XML file to a remote signing service.</p>\n<p>The signing service returns a PKCS#7 response. This includes the signature and the short-lived-x509 certificate that was used.</p>\n<p>Question: what is the easiest solution to apply the information from the PKCS#7 to the XML file so that it is correctly signed? I am looking for an example (Plain Java or Apache Santuario).</p>\n<p>Update:</p>\n<p>This is the code used for signing (xml-dsig) an XML with Apache Santuario given a <em>local</em> keystore:</p>\n<pre><code>package test.signer.signer;\n\nimport org.apache.commons.io.IOUtils;\nimport org.apache.xml.security.Init;\nimport org.apache.xml.security.c14n.Canonicalizer;\nimport org.apache.xml.security.signature.XMLSignature;\nimport org.apache.xml.security.transforms.Transforms;\nimport org.apache.xml.security.utils.Constants;\nimport org.w3c.dom.Document;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport java.io.*;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.security.Key;\nimport java.security.KeyStore;\nimport java.security.cert.X509Certificate;\n\n/**\n * from: https://stackoverflow.com/a/15911581/5658642\n */\npublic class CreateSignature\n{\n\n  private static final String PRIVATE_KEY_ALIAS = &quot;sgw-sign-client-keystore&quot;;\n\n  private static final String PRIVATE_KEY_PASS = &quot;password&quot;;\n\n  private static final String KEY_STORE_PASS = &quot;&quot;;\n\n  private static final String KEY_STORE_TYPE = &quot;JKS&quot;;\n\n  public static void main(String... unused) throws Exception\n  {\n    final InputStream fileInputStream = Files.newInputStream(Paths.get(&quot;unsigned_DEV.xml&quot;));\n    try\n    {\n      output(signFile(fileInputStream, new File(&quot;sgw-sign-client-keystore.jks&quot;)), &quot;signed-test.xml&quot;);\n    } finally\n    {\n      IOUtils.closeQuietly(fileInputStream);\n    }\n  }\n\n  public static ByteArrayOutputStream signFile(InputStream xmlFile, File privateKeyFile) throws Exception\n  {\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n    dbf.setNamespaceAware(true);\n    dbf.setFeature(&quot;http://javax.xml.XMLConstants/feature/secure-processing&quot;, true);\n    DocumentBuilder db = dbf.newDocumentBuilder();\n    Document doc = db.parse(xmlFile);\n    Init.init();\n\n    final KeyStore keyStore = loadKeyStore(privateKeyFile);\n    final XMLSignature sig = new XMLSignature(doc, null, XMLSignature.ALGO_ID_SIGNATURE_RSA);\n    doc.getDocumentElement().appendChild(sig.getElement());\n    final Transforms transforms = new Transforms(doc);\n    transforms.addTransform(Transforms.TRANSFORM_ENVELOPED_SIGNATURE);\n    sig.addDocument(&quot;&quot;, transforms, Constants.ALGO_ID_DIGEST_SHA1);\n\n    // TODO replace with external signature\n    final Key privateKey = keyStore.getKey(PRIVATE_KEY_ALIAS, PRIVATE_KEY_PASS.toCharArray());\n    final X509Certificate cert = (X509Certificate) keyStore.getCertificate(PRIVATE_KEY_ALIAS);\n    sig.addKeyInfo(cert);\n    sig.addKeyInfo(cert.getPublicKey());\n\n    sig.sign(privateKey);\n\n    final ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    outputStream.write(Canonicalizer.getInstance(Canonicalizer.ALGO_ID_C14N_WITH_COMMENTS).canonicalizeSubtree(doc));\n    return outputStream;\n  }\n\n  private static KeyStore loadKeyStore(File privateKeyFile) throws Exception\n  {\n    final InputStream fileInputStream = Files.newInputStream(privateKeyFile.toPath());\n    try\n    {\n      final KeyStore keyStore = KeyStore.getInstance(KEY_STORE_TYPE);\n      keyStore.load(fileInputStream, null);\n      return keyStore;\n    } finally\n    {\n      IOUtils.closeQuietly(fileInputStream);\n    }\n  }\n\n  private static void output(ByteArrayOutputStream signedOutputStream, String fileName) throws IOException\n  {\n    final OutputStream fileOutputStream = Files.newOutputStream(Paths.get(fileName));\n    try\n    {\n      fileOutputStream.write(signedOutputStream.toByteArray());\n      fileOutputStream.flush();\n    } finally\n    {\n      IOUtils.closeQuietly(fileOutputStream);\n    }\n  }\n}\n</code></pre>\n<p>This works so far. I now must replace the <em>local</em> keystore with a &quot;remote keystore&quot;. The remote signing service takes a digest / hash and signs it. The response is a valid PKCS#7, which contains the certificate and the signature.</p>\n<p>I am able to extract both with the following code (based on CMSSignedData from BouncyCastle):</p>\n<pre><code>String hashB64 = Base64.getEncoder().encodeToString(digest);\nbyte[] pkcs7Signature = remoteServiceClientService.sign(hashB64);\n\nCMSSignedData cms = null;\ntry\n{\n  cms = new CMSSignedData(pkcs7Signature);\n\n  SignerInformationStore signers = cms.getSignerInfos();\n  Collection&lt;SignerInformation&gt; c = signers.getSigners();\n  for (SignerInformation signer : c) {\n    // this collection will contain the signer certificate, if present\n    Collection&lt;X509CertificateHolder&gt; signerCol = cms.getCertificates().getMatches(signer.getSID());\n    SIG_CERT = new JcaX509CertificateConverter().getCertificate(signerCol.stream().findFirst().get());\n  }\n\n  List&lt;byte[]&gt; signatures = cms.getSignerInfos().getSigners().stream().map(SignerInformation::getSignature)\n      .collect(Collectors.toList());\n  byte[] pkcs1Signature = signatures.get(0);\n  SOPLogger.log(&quot;Plain Signature&quot;, pkcs1Signature);\n\n  return pkcs1Signature;\n} catch (CMSException e)\n{\n  throw new RuntimeException(e);\n} catch (CertificateException e)\n{\n  throw new RuntimeException(e);\n}\n</code></pre>\n<p>I have no idea how to apply the extracted information instead of using a <em>local</em> keystore and are happy to try any hints.</p>\n"},{"tags":["java","spring","hibernate","thymeleaf","hql"],"answers":[{"tags":[],"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676109487,"creation_date":1676109487,"answer_id":75419377,"question_id":75403765,"body_markdown":"i solved it with:             Query query = session.createSQLQuery(&quot;INSERT INTO orders (text, status, customer) VALUES (:text, :status, :customer)&quot;);\r\n(sql request)","title":"Order is not mapped(INSERT HQL)","body":"<p>i solved it with:             Query query = session.createSQLQuery(&quot;INSERT INTO orders (text, status, customer) VALUES (:text, :status, :customer)&quot;);\n(sql request)</p>\n"}],"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75419377,"answer_count":1,"score":0,"last_activity_date":1676109487,"creation_date":1675972395,"question_id":75403765,"body_markdown":"I have a problem. I need to display the value from the line and transfer it to the database. I&#39;m using a timelif, and so, I get the error &quot;Order is not mapped&quot;, and points to line 31, in fact, to my HQL query. Structure: I enter a word in the field, the timelif transfers it to the post request of the spring, and the same transfers it to the function. It is necessary to write the request somehow correctly so that the text is entered into the database. My code:\r\n``` \t@PostMapping(&quot;/&quot;)\r\n\tpublic String createOrder (@ModelAttribute(&quot;order&quot;) Orderdao orderdao, String text){\r\n\t\torderdao.createOrder(text);\r\n\t\treturn &quot;redirect:/&quot;;\r\n\t}\r\n```\r\nFunction: \r\n``` public void createOrder(String text) {\r\npublic void createOrder(String text) {\r\n        Transaction tx = null;\r\n        try (Session session = BogPomogi.getSessionFactory().openSession()) {\r\n            session.beginTransaction();\r\n            System.out.println(text);\r\n            Query create = session.createQuery(&quot;insert into Order(text)&quot; + &quot;select text from text&quot;);\r\n            int result = create.executeUpdate();\r\n            session.getTransaction().commit();\r\n            session.close();\r\n    }\r\n```\r\n\r\nHelp me please","title":"Order is not mapped(INSERT HQL)","body":"<p>I have a problem. I need to display the value from the line and transfer it to the database. I'm using a timelif, and so, I get the error &quot;Order is not mapped&quot;, and points to line 31, in fact, to my HQL query. Structure: I enter a word in the field, the timelif transfers it to the post request of the spring, and the same transfers it to the function. It is necessary to write the request somehow correctly so that the text is entered into the database. My code:</p>\n<pre><code>    public String createOrder (@ModelAttribute(&quot;order&quot;) Orderdao orderdao, String text){\n        orderdao.createOrder(text);\n        return &quot;redirect:/&quot;;\n    }\n</code></pre>\n<p>Function:</p>\n<pre><code>public void createOrder(String text) {\n        Transaction tx = null;\n        try (Session session = BogPomogi.getSessionFactory().openSession()) {\n            session.beginTransaction();\n            System.out.println(text);\n            Query create = session.createQuery(&quot;insert into Order(text)&quot; + &quot;select text from text&quot;);\n            int result = create.executeUpdate();\n            session.getTransaction().commit();\n            session.close();\n    }\n</code></pre>\n<p>Help me please</p>\n"},{"tags":["java","python","subprocess"],"answers":[{"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1437082454,"creation_date":1437082152,"answer_id":31464854,"question_id":31464354,"body_markdown":"You may run your java file with extension `.class` the following way:\r\n\r\n    java your.path.Main arg1 arg2\r\n\r\nwhere, \r\n\r\n - `java` - command, which runs the Java interpreter\r\n - `your.path.Main` - full name of your class (without `.class`)\r\n - `arg1 arg2` - the arguments (written by spaces or between `&quot;`) \r\n\r\nFurther, when you formatted this line, it transmits in `subprocess.Popen()` as argument.\r\n\r\n    subprocess.Popen(&#39;java your.path.Main arg1 arg2&#39;)\r\n\r\nI&#39;m not Python programmer, because I advice you to read [documentation about this method][1].\r\n\r\n\r\n  [1]: https://docs.python.org/2/library/subprocess.html","title":"running java main class using subprocess.Popen in python","body":"<p>You may run your java file with extension <code>.class</code> the following way:</p>\n\n<pre><code>java your.path.Main arg1 arg2\n</code></pre>\n\n<p>where, </p>\n\n<ul>\n<li><code>java</code> - command, which runs the Java interpreter</li>\n<li><code>your.path.Main</code> - full name of your class (without <code>.class</code>)</li>\n<li><code>arg1 arg2</code> - the arguments (written by spaces or between <code>\"</code>) </li>\n</ul>\n\n<p>Further, when you formatted this line, it transmits in <code>subprocess.Popen()</code> as argument.</p>\n\n<pre><code>subprocess.Popen('java your.path.Main arg1 arg2')\n</code></pre>\n\n<p>I'm not Python programmer, because I advice you to read <a href=\"https://docs.python.org/2/library/subprocess.html\" rel=\"nofollow\">documentation about this method</a>.</p>\n"}],"owner":{"account_id":3433435,"reputation":466,"user_id":2877127,"accept_rate":89,"display_name":"RLe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7515,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":31464854,"answer_count":1,"score":3,"last_activity_date":1676108956,"creation_date":1437080127,"question_id":31464354,"body_markdown":"I want to execute java main class `main.java` by python using `subprocess.Popen()`. `main.java` takes 3 args.\r\n\r\nI wonder how to do it? For example I have a `HelloWorld.java` class:\r\n\r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello World!&quot; + args[0]);\r\n        } }\r\n\r\nI tried to call it in python using the command: \r\n\r\n&gt; print (subprocess.Popen(&#39;java C:/Users/testing/Hello.Main sayHello&#39;,\r\n&gt; shell=True, stdout=subprocess.PIPE).stdout.read())\r\n\r\nwhere &#39;sayHello&#39; is the string args I want to pass in. It said\r\n\r\n**Error: Could not find or load main class C:.Users.testing.Hello.Main**\r\n\r\nThanks","title":"running java main class using subprocess.Popen in python","body":"<p>I want to execute java main class <code>main.java</code> by python using <code>subprocess.Popen()</code>. <code>main.java</code> takes 3 args.</p>\n\n<p>I wonder how to do it? For example I have a <code>HelloWorld.java</code> class:</p>\n\n<pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(\"Hello World!\" + args[0]);\n    } }\n</code></pre>\n\n<p>I tried to call it in python using the command: </p>\n\n<blockquote>\n  <p>print (subprocess.Popen('java C:/Users/testing/Hello.Main sayHello',\n  shell=True, stdout=subprocess.PIPE).stdout.read())</p>\n</blockquote>\n\n<p>where 'sayHello' is the string args I want to pass in. It said</p>\n\n<p><strong>Error: Could not find or load main class C:.Users.testing.Hello.Main</strong></p>\n\n<p>Thanks</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1676107658,"post_id":75418979,"comment_id":133074182,"body_markdown":"Are the conf and lib folders packed into the non-maven jar? Does the non-maven jars META-INF/MANIFEST.MF include references to these locations in the jar.","body":"Are the conf and lib folders packed into the non-maven jar? Does the non-maven jars META-INF/MANIFEST.MF include references to these locations in the jar."},{"owner":{"account_id":18201145,"reputation":121,"user_id":13245271,"display_name":"k_plan"},"score":0,"creation_date":1676251029,"post_id":75418979,"comment_id":133094088,"body_markdown":"@JohnWilliams There are contents in the said MANIFEST.MF, however while they are about some of the jars, but none explicitly pointed them to the said folders","body":"@JohnWilliams There are contents in the said MANIFEST.MF, however while they are about some of the jars, but none explicitly pointed them to the said folders"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1676311098,"post_id":75418979,"comment_id":133107837,"body_markdown":"The references to sub-dependency jars needs to be in MANIFEST.MF and these jars need to be META-INF/lib for Java to access them. Perhaps maven-dependency-plugin and the dependency:copy mojo suggested by BIll&#39;s answer below does this.","body":"The references to sub-dependency jars needs to be in MANIFEST.MF and these jars need to be META-INF/lib for Java to access them. Perhaps maven-dependency-plugin and the dependency:copy mojo suggested by BIll&#39;s answer below does this."}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676108418,"creation_date":1676108418,"answer_id":75419283,"question_id":75418979,"body_markdown":"This is done using the `maven-dependency-plugin` and the `dependency:copy` mojo.\r\n\r\nSee https://maven.apache.org/plugins/maven-dependency-plugin/copy-mojo.html#dependency-copy","title":"How to install custom folders and jars from non-maven project into maven project","body":"<p>This is done using the <code>maven-dependency-plugin</code> and the <code>dependency:copy</code> mojo.</p>\n<p>See <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/copy-mojo.html#dependency-copy\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/copy-mojo.html#dependency-copy</a></p>\n"}],"owner":{"account_id":18201145,"reputation":121,"user_id":13245271,"display_name":"k_plan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676108418,"creation_date":1676104511,"question_id":75418979,"body_markdown":"I have been trying to install/use a non-maven project as a dependency to my maven project. I was able to get it installed following this guide I have found - [here][1]\r\n\r\nHowever, my non-maven jar only partially works in my maven project. Reason being it is unable to read its conf/ and its custom lib/ (which contains other jars) folders.\r\n\r\nThe folder structure of the non-maven project is as follows:\r\n\r\n    |-- non-maven-proj\r\n    |--|-- conf/\r\n    |--|-- lib/\r\n    |--|-- src/\r\n    |--|-- target/ \r\n\r\nAnd so, are they any ways in which I can configure my maven project pom.xml such that it will copies/ install the non-maven-project conf/ and lib/ into the maven project target/ folder upon build?\r\n\r\nBelow is the folder structure I am trying to achieve.\r\nPS. The lib/ folder is suppose to contain all the jars that the maven project is using alongside with the jars that were used in the non-maven-project too.\r\n\r\n    |-- maven-project\r\n    |--|-- src/\r\n    |--|-- target/\r\n    |--|--|-- conf/\r\n    |--|--|-- lib/\r\n\r\nI have tried looking for ways to do it but unable to find any results.\r\n\r\nAppreciate in advance for any advices.\r\n\r\n  [1]: https://gist.github.com/mnadeem/3dbb3f3d23d46e81d995a7f3bf2b208e","title":"How to install custom folders and jars from non-maven project into maven project","body":"<p>I have been trying to install/use a non-maven project as a dependency to my maven project. I was able to get it installed following this guide I have found - <a href=\"https://gist.github.com/mnadeem/3dbb3f3d23d46e81d995a7f3bf2b208e\" rel=\"nofollow noreferrer\">here</a></p>\n<p>However, my non-maven jar only partially works in my maven project. Reason being it is unable to read its conf/ and its custom lib/ (which contains other jars) folders.</p>\n<p>The folder structure of the non-maven project is as follows:</p>\n<pre><code>|-- non-maven-proj\n|--|-- conf/\n|--|-- lib/\n|--|-- src/\n|--|-- target/ \n</code></pre>\n<p>And so, are they any ways in which I can configure my maven project pom.xml such that it will copies/ install the non-maven-project conf/ and lib/ into the maven project target/ folder upon build?</p>\n<p>Below is the folder structure I am trying to achieve.\nPS. The lib/ folder is suppose to contain all the jars that the maven project is using alongside with the jars that were used in the non-maven-project too.</p>\n<pre><code>|-- maven-project\n|--|-- src/\n|--|-- target/\n|--|--|-- conf/\n|--|--|-- lib/\n</code></pre>\n<p>I have tried looking for ways to do it but unable to find any results.</p>\n<p>Appreciate in advance for any advices.</p>\n"},{"tags":["java","postgresql","hibernate","jpa","replication"],"comments":[{"owner":{"account_id":171331,"reputation":310904,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"score":0,"creation_date":1411049216,"post_id":25911359,"comment_id":40564318,"body_markdown":"I&#39;d have two persistence units - one for read-only, and one for read-write, work. The read-only one might point to a PgBouncer that backs on to multiple PostgreSQL replicas. Then I&#39;d pick which to use based on the particular method invoked on my data access abstraction objects and other relevant context. You have to think very carefully about logical consistency if you do this though, and avoid read/modify/write cycles.","body":"I&#39;d have two persistence units - one for read-only, and one for read-write, work. The read-only one might point to a PgBouncer that backs on to multiple PostgreSQL replicas. Then I&#39;d pick which to use based on the particular method invoked on my data access abstraction objects and other relevant context. You have to think very carefully about logical consistency if you do this though, and avoid read/modify/write cycles."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1411385422,"post_id":25911359,"comment_id":40668212,"body_markdown":"**User tracking** is an area that can be optimized, if not already done: separation into R/O + R+W tables, session held cache, written out. **Archiving tables** that only receive new records, but the records being immutable, can be split too in R/O and R+W, possibly with DB triggers.","body":"<b>User tracking</b> is an area that can be optimized, if not already done: separation into R/O + R+W tables, session held cache, written out. <b>Archiving tables</b> that only receive new records, but the records being immutable, can be split too in R/O and R+W, possibly with DB triggers."}],"answers":[{"tags":[],"owner":{"account_id":367127,"reputation":15366,"user_id":713106,"accept_rate":100,"display_name":"Brad"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1411512967,"creation_date":1411512967,"answer_id":26005985,"question_id":25911359,"body_markdown":"You are saying that your application URL&#39;s are only 10% read only so the other 90% have at least some form of database writing.\r\n\r\n**10% READ**\r\n\r\nYou can think about using a [CQRS design][1] that may improve your database read performance. It can certainly read from the secondary database, and possibly be made more efficient by designing the queries and domain models specifically for the read/view layer.\r\n\r\nYou haven&#39;t said whether the 10% requests are expensive or not (e.g. running reports)\r\n\r\nI would prefer to use a separate sessionFactory if you were to follow the CQRS design as the objects being loaded/cached will most likely be different to those being written.\r\n\r\n**90% WRITE**\r\n\r\nAs far as the other 90% go, you wouldn&#39;t want to read from the secondary database (while writing to the primary) during some write logic as you will not want potentially stale data involved.\r\n\r\nSome of these reads are likely to be looking up &quot;static&quot; data. If Hibernate&#39;s caching is not reducing database hits for reads, I would consider an in memory cache like [Memcached][2] or Redis for this type of data. This same cache could be used by both 10%-Read and 90%-write processes.\r\n\r\nFor reads that are not static (i.e. reading data you have recently written) Hibernate should hold data in its object cache if its&#39; sized appropriately. Can you determine your cache hit/miss performance?\r\n\r\n**QUARTZ**\r\n\r\nIf you know for sure that a scheduled job won&#39;t impact the same set of data as another job, you could run them against different databases, however if in doubt always perform batch updates to one (primary) server and replicate changes out. It is better to be logically correct, than to introduce replication issues.\r\n\r\n**DB PARTITIONING**\r\n\r\nIf your 1,000 requests per second are writing a lot of data, look at [partitioning][3] your database. You may find you have ever growing tables. Partitioning is one way to address this without archiving data.\r\n\r\nSometimes you need little or no change to your application code.\r\n\r\nArchiving is obviously another option\r\n\r\n*Disclaimer: Any question like this is always going to be application specific. Always try to keep your architecture as simple as possible.* \r\n\r\n\r\n  [1]: http://martinfowler.com/bliki/CQRS.html\r\n  [2]: https://code.google.com/p/hibernate-memcached/\r\n  [3]: http://www.postgresql.org/docs/9.1/static/ddl-partitioning.html\r\n  [4]: http://en.wikipedia.org/wiki/Shard_(database_architecture)","title":"How to split read-only and read-write transactions with JPA and Hibernate","body":"<p>You are saying that your application URL's are only 10% read only so the other 90% have at least some form of database writing.</p>\n\n<p><strong>10% READ</strong></p>\n\n<p>You can think about using a <a href=\"http://martinfowler.com/bliki/CQRS.html\" rel=\"noreferrer\">CQRS design</a> that may improve your database read performance. It can certainly read from the secondary database, and possibly be made more efficient by designing the queries and domain models specifically for the read/view layer.</p>\n\n<p>You haven't said whether the 10% requests are expensive or not (e.g. running reports)</p>\n\n<p>I would prefer to use a separate sessionFactory if you were to follow the CQRS design as the objects being loaded/cached will most likely be different to those being written.</p>\n\n<p><strong>90% WRITE</strong></p>\n\n<p>As far as the other 90% go, you wouldn't want to read from the secondary database (while writing to the primary) during some write logic as you will not want potentially stale data involved.</p>\n\n<p>Some of these reads are likely to be looking up \"static\" data. If Hibernate's caching is not reducing database hits for reads, I would consider an in memory cache like <a href=\"https://code.google.com/p/hibernate-memcached/\" rel=\"noreferrer\">Memcached</a> or Redis for this type of data. This same cache could be used by both 10%-Read and 90%-write processes.</p>\n\n<p>For reads that are not static (i.e. reading data you have recently written) Hibernate should hold data in its object cache if its' sized appropriately. Can you determine your cache hit/miss performance?</p>\n\n<p><strong>QUARTZ</strong></p>\n\n<p>If you know for sure that a scheduled job won't impact the same set of data as another job, you could run them against different databases, however if in doubt always perform batch updates to one (primary) server and replicate changes out. It is better to be logically correct, than to introduce replication issues.</p>\n\n<p><strong>DB PARTITIONING</strong></p>\n\n<p>If your 1,000 requests per second are writing a lot of data, look at <a href=\"http://www.postgresql.org/docs/9.1/static/ddl-partitioning.html\" rel=\"noreferrer\">partitioning</a> your database. You may find you have ever growing tables. Partitioning is one way to address this without archiving data.</p>\n\n<p>Sometimes you need little or no change to your application code.</p>\n\n<p>Archiving is obviously another option</p>\n\n<p><em>Disclaimer: Any question like this is always going to be application specific. Always try to keep your architecture as simple as possible.</em> </p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":1,"up_vote_count":63,"is_accepted":true,"score":62,"last_activity_date":1665554669,"creation_date":1411591862,"answer_id":26026237,"question_id":25911359,"body_markdown":"Spring transaction routing\r\n--------------------------\r\n\r\nFirst, we will create a `DataSourceType` Java Enum that defines our transaction routing options:\r\n\r\n    public enum  DataSourceType {\r\n        READ_WRITE,\r\n        READ_ONLY\r\n    }\r\n\r\n\r\nTo route the read-write transactions to the Primary node and read-only transactions to the Replica node, we can define a `ReadWriteDataSource` that connects to the Primary node and a `ReadOnlyDataSource` that connect to the Replica node.\r\n\r\nThe read-write and read-only transaction routing is done by the Spring [`AbstractRoutingDataSource`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/datasource/lookup/AbstractRoutingDataSource.html) abstraction, which is implemented by the `TransactionRoutingDatasource`, as illustrated by the following diagram:\r\n\r\n[![Read-write and read-only transaction routing with Spring][1]][1]\r\n\r\nThe `TransactionRoutingDataSource` is very easy to implement and looks as follows:\r\n\r\n    public class TransactionRoutingDataSource \r\n            extends AbstractRoutingDataSource {\r\n    \r\n        @Nullable\r\n        @Override\r\n        protected Object determineCurrentLookupKey() {\r\n            return TransactionSynchronizationManager\r\n                .isCurrentTransactionReadOnly() ?\r\n                DataSourceType.READ_ONLY :\r\n                DataSourceType.READ_WRITE;\r\n        }\r\n    }\r\n\r\nBasically, we inspect the Spring `TransactionSynchronizationManager` class that stores the current transactional context to check whether the currently running Spring transaction is read-only or not.\r\n\r\nThe `determineCurrentLookupKey` method returns the discriminator value that will be used to choose either the read-write or the read-only JDBC `DataSource`.\r\n\r\n\r\nSpring read-write and read-only JDBC DataSource configuration\r\n-------------------------------------------------------------\r\n\r\nThe `DataSource` configuration looks as follows:\r\n\r\n    @Configuration\r\n    @ComponentScan(\r\n        basePackages = &quot;com.vladmihalcea.book.hpjp.util.spring.routing&quot;\r\n    )\r\n    @PropertySource(\r\n        &quot;/META-INF/jdbc-postgresql-replication.properties&quot;\r\n    )\r\n    public class TransactionRoutingConfiguration \r\n            extends AbstractJPAConfiguration {\r\n    \r\n        @Value(&quot;${jdbc.url.primary}&quot;)\r\n        private String primaryUrl;\r\n    \r\n        @Value(&quot;${jdbc.url.replica}&quot;)\r\n        private String replicaUrl;\r\n    \r\n        @Value(&quot;${jdbc.username}&quot;)\r\n        private String username;\r\n    \r\n        @Value(&quot;${jdbc.password}&quot;)\r\n        private String password;\r\n    \r\n        @Bean\r\n        public DataSource readWriteDataSource() {\r\n            PGSimpleDataSource dataSource = new PGSimpleDataSource();\r\n            dataSource.setURL(primaryUrl);\r\n            dataSource.setUser(username);\r\n            dataSource.setPassword(password);\r\n            return connectionPoolDataSource(dataSource);\r\n        }\r\n    \r\n        @Bean\r\n        public DataSource readOnlyDataSource() {\r\n            PGSimpleDataSource dataSource = new PGSimpleDataSource();\r\n            dataSource.setURL(replicaUrl);\r\n            dataSource.setUser(username);\r\n            dataSource.setPassword(password);\r\n            return connectionPoolDataSource(dataSource);\r\n        }\r\n    \r\n        @Bean\r\n        public TransactionRoutingDataSource actualDataSource() {\r\n            TransactionRoutingDataSource routingDataSource = \r\n                new TransactionRoutingDataSource();\r\n    \r\n            Map&lt;Object, Object&gt; dataSourceMap = new HashMap&lt;&gt;();\r\n            dataSourceMap.put(\r\n                DataSourceType.READ_WRITE, \r\n                readWriteDataSource()\r\n            );\r\n            dataSourceMap.put(\r\n                DataSourceType.READ_ONLY, \r\n                readOnlyDataSource()\r\n            );\r\n    \r\n            routingDataSource.setTargetDataSources(dataSourceMap);\r\n            return routingDataSource;\r\n        }\r\n    \r\n        @Override\r\n        protected Properties additionalProperties() {\r\n            Properties properties = super.additionalProperties();\r\n            properties.setProperty(\r\n                &quot;hibernate.connection.provider_disables_autocommit&quot;,\r\n                Boolean.TRUE.toString()\r\n            );\r\n            return properties;\r\n        }\r\n    \r\n        @Override\r\n        protected String[] packagesToScan() {\r\n            return new String[]{\r\n                &quot;com.vladmihalcea.book.hpjp.hibernate.transaction.forum&quot;\r\n            };\r\n        }\r\n    \r\n        @Override\r\n        protected String databaseType() {\r\n            return Database.POSTGRESQL.name().toLowerCase();\r\n        }\r\n    \r\n        protected HikariConfig hikariConfig(\r\n                DataSource dataSource) {\r\n            HikariConfig hikariConfig = new HikariConfig();\r\n            int cpuCores = Runtime.getRuntime().availableProcessors();\r\n            hikariConfig.setMaximumPoolSize(cpuCores * 4);\r\n            hikariConfig.setDataSource(dataSource);\r\n    \r\n            hikariConfig.setAutoCommit(false);\r\n            return hikariConfig;\r\n        }\r\n    \r\n        protected HikariDataSource connectionPoolDataSource(\r\n                DataSource dataSource) {\r\n            return new HikariDataSource(hikariConfig(dataSource));\r\n        }\r\n    }\r\n\r\nThe `/META-INF/jdbc-postgresql-replication.properties` resource file provides the configuration for the read-write and read-only JDBC `DataSource` components:\r\n\r\n    hibernate.dialect=org.hibernate.dialect.PostgreSQL10Dialect\r\n    \r\n    jdbc.url.primary=jdbc:postgresql://localhost:5432/high_performance_java_persistence\r\n    jdbc.url.replica=jdbc:postgresql://localhost:5432/high_performance_java_persistence_replica\r\n    \r\n    jdbc.username=postgres\r\n    jdbc.password=admin\r\n\r\nThe `jdbc.url.primary` property defines the URL of the Primary node while the `jdbc.url.replica` defines the URL of the Replica node.\r\n\r\nThe `readWriteDataSource` Spring component defines the read-write JDBC `DataSource` while the `readOnlyDataSource` component define the read-only JDBC `DataSource`.\r\n\r\n&gt; Note that both the read-write and read-only data sources use HikariCP for connection pooling. \r\n\r\nThe `actualDataSource` acts as a facade for the read-write and read-only data sources and is implemented using the `TransactionRoutingDataSource` utility.\r\n\r\nThe `readWriteDataSource` is registered using the `DataSourceType.READ_WRITE` key and the `readOnlyDataSource` using the `DataSourceType.READ_ONLY` key.\r\n\r\nSo, when executing a read-write `@Transactional` method, the `readWriteDataSource` will be used while when executing a `@Transactional(readOnly = true)` method, the `readOnlyDataSource` will be used instead.\r\n\r\n&gt; Note that the `additionalProperties` method defines the `hibernate.connection.provider_disables_autocommit` Hibernate property, which I added to Hibernate to postpone the database acquisition for RESOURCE_LOCAL JPA transactions.\r\n&gt; \r\n&gt; Not only that the [`hibernate.connection.provider_disables_autocommit`](https://vladmihalcea.com/why-you-should-always-use-hibernate-connection-provider_disables_autocommit-for-resource-local-jpa-transactions/) allows you to make better use of database connections, but it&#39;s the only way we can make this example work since, without this configuration, the connection is acquired prior to calling the `determineCurrentLookupKey` method `TransactionRoutingDataSource`.\r\n\r\nThe remaining Spring components needed for building the JPA `EntityManagerFactory` are defined by the [`AbstractJPAConfiguration`](https://github.com/vladmihalcea/high-performance-java-persistence/blob/master/core/src/test/java/com/vladmihalcea/book/hpjp/util/spring/config/jpa/AbstractJPAConfiguration.java) base class.\r\n\r\nBasically, the `actualDataSource` is further wrapped by DataSource-Proxy and provided to the JPA `EntityManagerFactory`. You can check the [source code on GitHub](https://github.com/vladmihalcea/high-performance-java-persistence) for more details.\r\n\r\nTesting time\r\n------------\r\n\r\nTo check if the transaction routing works, we are going to enable the PostgreSQL query log by setting the following properties in the `postgresql.conf` configuration file:\r\n\r\n    log_min_duration_statement = 0\r\n    log_line_prefix = &#39;[%d] &#39;\r\n\r\nThe `log_min_duration_statement` property setting is for logging all PostgreSQL statements while the second one adds the database name to the SQL log.\r\n\r\nSo, when calling the `newPost` and `findAllPostsByTitle` methods, like this:\r\n\r\n    Post post = forumService.newPost(\r\n        &quot;High-Performance Java Persistence&quot;,\r\n        &quot;JDBC&quot;, &quot;JPA&quot;, &quot;Hibernate&quot;\r\n    );\r\n    \r\n    List&lt;Post&gt; posts = forumService.findAllPostsByTitle(\r\n        &quot;High-Performance Java Persistence&quot;\r\n    );\r\n\r\nWe can see that PostgreSQL logs the following messages:\r\n\r\n    [high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \r\n        BEGIN\r\n    \r\n    [high_performance_java_persistence] DETAIL:  \r\n        parameters: $1 = &#39;JDBC&#39;, $2 = &#39;JPA&#39;, $3 = &#39;Hibernate&#39;\r\n    [high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \r\n        select tag0_.id as id1_4_, tag0_.name as name2_4_ \r\n        from tag tag0_ where tag0_.name in ($1 , $2 , $3)\r\n    \r\n    [high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \r\n        select nextval (&#39;hibernate_sequence&#39;)\r\n    \r\n    [high_performance_java_persistence] DETAIL:  \r\n        parameters: $1 = &#39;High-Performance Java Persistence&#39;, $2 = &#39;4&#39;\r\n    [high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \r\n        insert into post (title, id) values ($1, $2)\r\n    \r\n    [high_performance_java_persistence] DETAIL:  \r\n        parameters: $1 = &#39;4&#39;, $2 = &#39;1&#39;\r\n    [high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \r\n        insert into post_tag (post_id, tag_id) values ($1, $2)\r\n    \r\n    [high_performance_java_persistence] DETAIL:  \r\n        parameters: $1 = &#39;4&#39;, $2 = &#39;2&#39;\r\n    [high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \r\n        insert into post_tag (post_id, tag_id) values ($1, $2)\r\n    \r\n    [high_performance_java_persistence] DETAIL:  \r\n        parameters: $1 = &#39;4&#39;, $2 = &#39;3&#39;\r\n    [high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \r\n        insert into post_tag (post_id, tag_id) values ($1, $2)\r\n    \r\n    [high_performance_java_persistence] LOG:  execute S_3: \r\n        COMMIT\r\n        \r\n    [high_performance_java_persistence_replica] LOG:  execute &lt;unnamed&gt;: \r\n        BEGIN\r\n        \r\n    [high_performance_java_persistence_replica] DETAIL:  \r\n        parameters: $1 = &#39;High-Performance Java Persistence&#39;\r\n    [high_performance_java_persistence_replica] LOG:  execute &lt;unnamed&gt;: \r\n        select post0_.id as id1_0_, post0_.title as title2_0_ \r\n        from post post0_ where post0_.title=$1\r\n    \r\n    [high_performance_java_persistence_replica] LOG:  execute S_1: \r\n        COMMIT\r\n\r\nThe log statements using the `high_performance_java_persistence` prefix were executed on the Primary node while the ones using the `high_performance_java_persistence_replica` on the Replica node.\r\n\r\nGitHub Repository\r\n-----------------\r\n\r\nThis is not just theory. It&#39;s all on GitHub and works like a charm. Use [this test case](https://github.com/vladmihalcea/high-performance-java-persistence/blob/master/core/src/test/java/com/vladmihalcea/book/hpjp/spring/transaction/routing/TransactionRoutingDataSourceTest.java) as a reference.\r\n\r\nSo you can you use it a starting point for your transaction routing solution, as you have a fully-functional example.\r\n\r\nSecond-level caching\r\n--------------------\r\n\r\nOnce you are using replication, you are operating in a distributed environment, so you need to use a distributed caching solution, like [Infinispan](https://infinispan.org/).\r\n\r\nSince we are using replication to distribute traffic to more database nodes, it&#39;s obvious that we also have multiple application nodes which have to connect to those database nodes.\r\n\r\nTherefore, using the `READ_WRITE` `CacheConcurrencyStrategy` in such an environment is a terrible anti-pattern as each distributed node will keep its own copy of the cached entries, leading you to consistency issues even if you didn&#39;t use transaction routing. \r\n\r\nNot to mention the cold cache issue you&#39;d face if you employed auto-scaling for your application nodes, as they would amplify the database traffic because new nodes would start with a cold cache.\r\n\r\n&gt; So, if you plan to use transaction routing with the second-level cache mechanism, then you can do better than this.\r\n&gt; \r\n&gt; Use the `NONSTRICT_READ_WRITE` cache concurrency strategy with a second-level caching provider that can store the cached data in a distributed system of nodes that are readily available even when you create new application nodes.\r\n\r\nConclusion\r\n----------\r\n\r\nYou need to make sure you set the right size for your connection pools because that can make a huge difference. For this, I recommend using [Flexy Pool][3].\r\n\r\nYou need to be very diligent and make sure you mark all read-only transactions accordingly. It&#39;s unusual that only 10% of your transactions are read-only. Could it be that you have such a write-most application or you are using write transactions where you only issue query statements?\r\n\r\nFor batch processing, you definitely need read-write transactions, so make sure you enable JDBC batching, like this:\r\n\r\n\t&lt;property name=&quot;hibernate.order_updates&quot; value=&quot;true&quot;/&gt;\r\n\t&lt;property name=&quot;hibernate.order_inserts&quot; value=&quot;true&quot;/&gt;\r\n\t&lt;property name=&quot;hibernate.jdbc.batch_size&quot; value=&quot;25&quot;/&gt;\r\n\r\nFor batching you can also use a separate `DataSource` that uses a different connection pool that connects to the Primary node.\r\n\r\nJust make sure your total connection size of all connection pools is less than the number of connections PostgreSQL has been configured with.\r\n\r\nEach batch job must use a dedicated transaction, so make sure you use a reasonable batch size. \r\n\r\nMore, you want to hold locks and to finish transactions as fast as possible. If the batch processor is using concurrent processing workers, make sure the associated connection pool size is equal to the number of workers, so they don&#39;t wait for others to release connections.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HvHzs.png\r\n  [3]: https://github.com/vladmihalcea/flexy-pool","title":"How to split read-only and read-write transactions with JPA and Hibernate","body":"<h2>Spring transaction routing</h2>\n<p>First, we will create a <code>DataSourceType</code> Java Enum that defines our transaction routing options:</p>\n<pre><code>public enum  DataSourceType {\n    READ_WRITE,\n    READ_ONLY\n}\n</code></pre>\n<p>To route the read-write transactions to the Primary node and read-only transactions to the Replica node, we can define a <code>ReadWriteDataSource</code> that connects to the Primary node and a <code>ReadOnlyDataSource</code> that connect to the Replica node.</p>\n<p>The read-write and read-only transaction routing is done by the Spring <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/datasource/lookup/AbstractRoutingDataSource.html\" rel=\"noreferrer\"><code>AbstractRoutingDataSource</code></a> abstraction, which is implemented by the <code>TransactionRoutingDatasource</code>, as illustrated by the following diagram:</p>\n<p><a href=\"https://i.stack.imgur.com/HvHzs.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HvHzs.png\" alt=\"Read-write and read-only transaction routing with Spring\" /></a></p>\n<p>The <code>TransactionRoutingDataSource</code> is very easy to implement and looks as follows:</p>\n<pre><code>public class TransactionRoutingDataSource \n        extends AbstractRoutingDataSource {\n\n    @Nullable\n    @Override\n    protected Object determineCurrentLookupKey() {\n        return TransactionSynchronizationManager\n            .isCurrentTransactionReadOnly() ?\n            DataSourceType.READ_ONLY :\n            DataSourceType.READ_WRITE;\n    }\n}\n</code></pre>\n<p>Basically, we inspect the Spring <code>TransactionSynchronizationManager</code> class that stores the current transactional context to check whether the currently running Spring transaction is read-only or not.</p>\n<p>The <code>determineCurrentLookupKey</code> method returns the discriminator value that will be used to choose either the read-write or the read-only JDBC <code>DataSource</code>.</p>\n<h2>Spring read-write and read-only JDBC DataSource configuration</h2>\n<p>The <code>DataSource</code> configuration looks as follows:</p>\n<pre><code>@Configuration\n@ComponentScan(\n    basePackages = &quot;com.vladmihalcea.book.hpjp.util.spring.routing&quot;\n)\n@PropertySource(\n    &quot;/META-INF/jdbc-postgresql-replication.properties&quot;\n)\npublic class TransactionRoutingConfiguration \n        extends AbstractJPAConfiguration {\n\n    @Value(&quot;${jdbc.url.primary}&quot;)\n    private String primaryUrl;\n\n    @Value(&quot;${jdbc.url.replica}&quot;)\n    private String replicaUrl;\n\n    @Value(&quot;${jdbc.username}&quot;)\n    private String username;\n\n    @Value(&quot;${jdbc.password}&quot;)\n    private String password;\n\n    @Bean\n    public DataSource readWriteDataSource() {\n        PGSimpleDataSource dataSource = new PGSimpleDataSource();\n        dataSource.setURL(primaryUrl);\n        dataSource.setUser(username);\n        dataSource.setPassword(password);\n        return connectionPoolDataSource(dataSource);\n    }\n\n    @Bean\n    public DataSource readOnlyDataSource() {\n        PGSimpleDataSource dataSource = new PGSimpleDataSource();\n        dataSource.setURL(replicaUrl);\n        dataSource.setUser(username);\n        dataSource.setPassword(password);\n        return connectionPoolDataSource(dataSource);\n    }\n\n    @Bean\n    public TransactionRoutingDataSource actualDataSource() {\n        TransactionRoutingDataSource routingDataSource = \n            new TransactionRoutingDataSource();\n\n        Map&lt;Object, Object&gt; dataSourceMap = new HashMap&lt;&gt;();\n        dataSourceMap.put(\n            DataSourceType.READ_WRITE, \n            readWriteDataSource()\n        );\n        dataSourceMap.put(\n            DataSourceType.READ_ONLY, \n            readOnlyDataSource()\n        );\n\n        routingDataSource.setTargetDataSources(dataSourceMap);\n        return routingDataSource;\n    }\n\n    @Override\n    protected Properties additionalProperties() {\n        Properties properties = super.additionalProperties();\n        properties.setProperty(\n            &quot;hibernate.connection.provider_disables_autocommit&quot;,\n            Boolean.TRUE.toString()\n        );\n        return properties;\n    }\n\n    @Override\n    protected String[] packagesToScan() {\n        return new String[]{\n            &quot;com.vladmihalcea.book.hpjp.hibernate.transaction.forum&quot;\n        };\n    }\n\n    @Override\n    protected String databaseType() {\n        return Database.POSTGRESQL.name().toLowerCase();\n    }\n\n    protected HikariConfig hikariConfig(\n            DataSource dataSource) {\n        HikariConfig hikariConfig = new HikariConfig();\n        int cpuCores = Runtime.getRuntime().availableProcessors();\n        hikariConfig.setMaximumPoolSize(cpuCores * 4);\n        hikariConfig.setDataSource(dataSource);\n\n        hikariConfig.setAutoCommit(false);\n        return hikariConfig;\n    }\n\n    protected HikariDataSource connectionPoolDataSource(\n            DataSource dataSource) {\n        return new HikariDataSource(hikariConfig(dataSource));\n    }\n}\n</code></pre>\n<p>The <code>/META-INF/jdbc-postgresql-replication.properties</code> resource file provides the configuration for the read-write and read-only JDBC <code>DataSource</code> components:</p>\n<pre><code>hibernate.dialect=org.hibernate.dialect.PostgreSQL10Dialect\n\njdbc.url.primary=jdbc:postgresql://localhost:5432/high_performance_java_persistence\njdbc.url.replica=jdbc:postgresql://localhost:5432/high_performance_java_persistence_replica\n\njdbc.username=postgres\njdbc.password=admin\n</code></pre>\n<p>The <code>jdbc.url.primary</code> property defines the URL of the Primary node while the <code>jdbc.url.replica</code> defines the URL of the Replica node.</p>\n<p>The <code>readWriteDataSource</code> Spring component defines the read-write JDBC <code>DataSource</code> while the <code>readOnlyDataSource</code> component define the read-only JDBC <code>DataSource</code>.</p>\n<blockquote>\n<p>Note that both the read-write and read-only data sources use HikariCP for connection pooling.</p>\n</blockquote>\n<p>The <code>actualDataSource</code> acts as a facade for the read-write and read-only data sources and is implemented using the <code>TransactionRoutingDataSource</code> utility.</p>\n<p>The <code>readWriteDataSource</code> is registered using the <code>DataSourceType.READ_WRITE</code> key and the <code>readOnlyDataSource</code> using the <code>DataSourceType.READ_ONLY</code> key.</p>\n<p>So, when executing a read-write <code>@Transactional</code> method, the <code>readWriteDataSource</code> will be used while when executing a <code>@Transactional(readOnly = true)</code> method, the <code>readOnlyDataSource</code> will be used instead.</p>\n<blockquote>\n<p>Note that the <code>additionalProperties</code> method defines the <code>hibernate.connection.provider_disables_autocommit</code> Hibernate property, which I added to Hibernate to postpone the database acquisition for RESOURCE_LOCAL JPA transactions.</p>\n<p>Not only that the <a href=\"https://vladmihalcea.com/why-you-should-always-use-hibernate-connection-provider_disables_autocommit-for-resource-local-jpa-transactions/\" rel=\"noreferrer\"><code>hibernate.connection.provider_disables_autocommit</code></a> allows you to make better use of database connections, but it's the only way we can make this example work since, without this configuration, the connection is acquired prior to calling the <code>determineCurrentLookupKey</code> method <code>TransactionRoutingDataSource</code>.</p>\n</blockquote>\n<p>The remaining Spring components needed for building the JPA <code>EntityManagerFactory</code> are defined by the <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence/blob/master/core/src/test/java/com/vladmihalcea/book/hpjp/util/spring/config/jpa/AbstractJPAConfiguration.java\" rel=\"noreferrer\"><code>AbstractJPAConfiguration</code></a> base class.</p>\n<p>Basically, the <code>actualDataSource</code> is further wrapped by DataSource-Proxy and provided to the JPA <code>EntityManagerFactory</code>. You can check the <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence\" rel=\"noreferrer\">source code on GitHub</a> for more details.</p>\n<h2>Testing time</h2>\n<p>To check if the transaction routing works, we are going to enable the PostgreSQL query log by setting the following properties in the <code>postgresql.conf</code> configuration file:</p>\n<pre><code>log_min_duration_statement = 0\nlog_line_prefix = '[%d] '\n</code></pre>\n<p>The <code>log_min_duration_statement</code> property setting is for logging all PostgreSQL statements while the second one adds the database name to the SQL log.</p>\n<p>So, when calling the <code>newPost</code> and <code>findAllPostsByTitle</code> methods, like this:</p>\n<pre><code>Post post = forumService.newPost(\n    &quot;High-Performance Java Persistence&quot;,\n    &quot;JDBC&quot;, &quot;JPA&quot;, &quot;Hibernate&quot;\n);\n\nList&lt;Post&gt; posts = forumService.findAllPostsByTitle(\n    &quot;High-Performance Java Persistence&quot;\n);\n</code></pre>\n<p>We can see that PostgreSQL logs the following messages:</p>\n<pre><code>[high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \n    BEGIN\n\n[high_performance_java_persistence] DETAIL:  \n    parameters: $1 = 'JDBC', $2 = 'JPA', $3 = 'Hibernate'\n[high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \n    select tag0_.id as id1_4_, tag0_.name as name2_4_ \n    from tag tag0_ where tag0_.name in ($1 , $2 , $3)\n\n[high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \n    select nextval ('hibernate_sequence')\n\n[high_performance_java_persistence] DETAIL:  \n    parameters: $1 = 'High-Performance Java Persistence', $2 = '4'\n[high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \n    insert into post (title, id) values ($1, $2)\n\n[high_performance_java_persistence] DETAIL:  \n    parameters: $1 = '4', $2 = '1'\n[high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \n    insert into post_tag (post_id, tag_id) values ($1, $2)\n\n[high_performance_java_persistence] DETAIL:  \n    parameters: $1 = '4', $2 = '2'\n[high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \n    insert into post_tag (post_id, tag_id) values ($1, $2)\n\n[high_performance_java_persistence] DETAIL:  \n    parameters: $1 = '4', $2 = '3'\n[high_performance_java_persistence] LOG:  execute &lt;unnamed&gt;: \n    insert into post_tag (post_id, tag_id) values ($1, $2)\n\n[high_performance_java_persistence] LOG:  execute S_3: \n    COMMIT\n    \n[high_performance_java_persistence_replica] LOG:  execute &lt;unnamed&gt;: \n    BEGIN\n    \n[high_performance_java_persistence_replica] DETAIL:  \n    parameters: $1 = 'High-Performance Java Persistence'\n[high_performance_java_persistence_replica] LOG:  execute &lt;unnamed&gt;: \n    select post0_.id as id1_0_, post0_.title as title2_0_ \n    from post post0_ where post0_.title=$1\n\n[high_performance_java_persistence_replica] LOG:  execute S_1: \n    COMMIT\n</code></pre>\n<p>The log statements using the <code>high_performance_java_persistence</code> prefix were executed on the Primary node while the ones using the <code>high_performance_java_persistence_replica</code> on the Replica node.</p>\n<h2>GitHub Repository</h2>\n<p>This is not just theory. It's all on GitHub and works like a charm. Use <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence/blob/master/core/src/test/java/com/vladmihalcea/book/hpjp/spring/transaction/routing/TransactionRoutingDataSourceTest.java\" rel=\"noreferrer\">this test case</a> as a reference.</p>\n<p>So you can you use it a starting point for your transaction routing solution, as you have a fully-functional example.</p>\n<h2>Second-level caching</h2>\n<p>Once you are using replication, you are operating in a distributed environment, so you need to use a distributed caching solution, like <a href=\"https://infinispan.org/\" rel=\"noreferrer\">Infinispan</a>.</p>\n<p>Since we are using replication to distribute traffic to more database nodes, it's obvious that we also have multiple application nodes which have to connect to those database nodes.</p>\n<p>Therefore, using the <code>READ_WRITE</code> <code>CacheConcurrencyStrategy</code> in such an environment is a terrible anti-pattern as each distributed node will keep its own copy of the cached entries, leading you to consistency issues even if you didn't use transaction routing.</p>\n<p>Not to mention the cold cache issue you'd face if you employed auto-scaling for your application nodes, as they would amplify the database traffic because new nodes would start with a cold cache.</p>\n<blockquote>\n<p>So, if you plan to use transaction routing with the second-level cache mechanism, then you can do better than this.</p>\n<p>Use the <code>NONSTRICT_READ_WRITE</code> cache concurrency strategy with a second-level caching provider that can store the cached data in a distributed system of nodes that are readily available even when you create new application nodes.</p>\n</blockquote>\n<h2>Conclusion</h2>\n<p>You need to make sure you set the right size for your connection pools because that can make a huge difference. For this, I recommend using <a href=\"https://github.com/vladmihalcea/flexy-pool\" rel=\"noreferrer\">Flexy Pool</a>.</p>\n<p>You need to be very diligent and make sure you mark all read-only transactions accordingly. It's unusual that only 10% of your transactions are read-only. Could it be that you have such a write-most application or you are using write transactions where you only issue query statements?</p>\n<p>For batch processing, you definitely need read-write transactions, so make sure you enable JDBC batching, like this:</p>\n<pre><code>&lt;property name=&quot;hibernate.order_updates&quot; value=&quot;true&quot;/&gt;\n&lt;property name=&quot;hibernate.order_inserts&quot; value=&quot;true&quot;/&gt;\n&lt;property name=&quot;hibernate.jdbc.batch_size&quot; value=&quot;25&quot;/&gt;\n</code></pre>\n<p>For batching you can also use a separate <code>DataSource</code> that uses a different connection pool that connects to the Primary node.</p>\n<p>Just make sure your total connection size of all connection pools is less than the number of connections PostgreSQL has been configured with.</p>\n<p>Each batch job must use a dedicated transaction, so make sure you use a reasonable batch size.</p>\n<p>More, you want to hold locks and to finish transactions as fast as possible. If the batch processor is using concurrent processing workers, make sure the associated connection pool size is equal to the number of workers, so they don't wait for others to release connections.</p>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411970464,"creation_date":1411970464,"answer_id":26093384,"question_id":25911359,"body_markdown":"If I correctly understand, 90% of the HTTP requests to your webapp involve at least one write and have to operate on master database. You can direct read only transactions to the copy database, but the improvement will only affect 10% of global databases operation and even those read only operations will hit a database.\r\n\r\nThe common architecture here is to use a good database cache (Infinispan or Ehcache). If you can offer a big enough cache, you can hope the a good part of the database reads only hit the cache and become memory only operations, either being part of a read only transaction or not. Cache tuning is a delicate operation, but IMHO is necessary to achieve high performance gain. Those cache even allow for distributed front ends even if the configuration is a bit harder in that case (you might have to look for Terracotta clusters if you want to use Ehcache).\r\n\r\nCurrently, database replication is mainly used to secure the data, and is used as an concurrency improvement mechanizme only if you have high parts of the Information Systems that only read data - and it is not what you are describing.\r\n\r\n","title":"How to split read-only and read-write transactions with JPA and Hibernate","body":"<p>If I correctly understand, 90% of the HTTP requests to your webapp involve at least one write and have to operate on master database. You can direct read only transactions to the copy database, but the improvement will only affect 10% of global databases operation and even those read only operations will hit a database.</p>\n\n<p>The common architecture here is to use a good database cache (Infinispan or Ehcache). If you can offer a big enough cache, you can hope the a good part of the database reads only hit the cache and become memory only operations, either being part of a read only transaction or not. Cache tuning is a delicate operation, but IMHO is necessary to achieve high performance gain. Those cache even allow for distributed front ends even if the configuration is a bit harder in that case (you might have to look for Terracotta clusters if you want to use Ehcache).</p>\n\n<p>Currently, database replication is mainly used to secure the data, and is used as an concurrency improvement mechanizme only if you have high parts of the Information Systems that only read data - and it is not what you are describing.</p>\n"},{"tags":[],"owner":{"account_id":4641422,"reputation":1287,"user_id":3761154,"display_name":"R&#233;da Housni Alaoui"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1676107658,"creation_date":1631649128,"answer_id":69183807,"question_id":25911359,"body_markdown":"Since the replication is async, the [accepted solution](https://web.archive.org/web/20221010091826/https://stackoverflow.com/questions/25911359/how-to-split-read-only-and-read-write-transactions-with-jpa-and-hibernate/26026237) will cause hard to debug and hard to reproduce bugs with the second level cache. This is demonstrated [here](https://github.com/reda-alaoui/ro-rw-routing) .\r\n\r\n[This automated test](https://github.com/reda-alaoui/ro-rw-routing/blob/af4502dffd266b8457f0f5f49670c461d7a9a399/src/test/java/me/redaalaoui/ro_rw_routing/RoRwRoutingApplicationTests.java) shows this can lead to manipulate incomplete entity graphs.\r\n\r\nThe cleanest path is to have one EntityManagerFactory per DataSource.","title":"How to split read-only and read-write transactions with JPA and Hibernate","body":"<p>Since the replication is async, the <a href=\"https://web.archive.org/web/20221010091826/https://stackoverflow.com/questions/25911359/how-to-split-read-only-and-read-write-transactions-with-jpa-and-hibernate/26026237\" rel=\"nofollow noreferrer\">accepted solution</a> will cause hard to debug and hard to reproduce bugs with the second level cache. This is demonstrated <a href=\"https://github.com/reda-alaoui/ro-rw-routing\" rel=\"nofollow noreferrer\">here</a> .</p>\n<p><a href=\"https://github.com/reda-alaoui/ro-rw-routing/blob/af4502dffd266b8457f0f5f49670c461d7a9a399/src/test/java/me/redaalaoui/ro_rw_routing/RoRwRoutingApplicationTests.java\" rel=\"nofollow noreferrer\">This automated test</a> shows this can lead to manipulate incomplete entity graphs.</p>\n<p>The cleanest path is to have one EntityManagerFactory per DataSource.</p>\n"},{"tags":[],"owner":{"account_id":9933956,"reputation":385,"user_id":7352894,"accept_rate":0,"display_name":"utsav anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662461315,"creation_date":1662461315,"answer_id":73620739,"question_id":25911359,"body_markdown":"You can also run a proxySQL infront of your DB nodes (Can be a galera cluster setup), and set query read write split rules, the proxy will distribute traffic according to the defined rule. Ex: SELECT query routed to read node whereas UPDATE queries or read-write transaction goes to write node.","title":"How to split read-only and read-write transactions with JPA and Hibernate","body":"<p>You can also run a proxySQL infront of your DB nodes (Can be a galera cluster setup), and set query read write split rules, the proxy will distribute traffic according to the defined rule. Ex: SELECT query routed to read node whereas UPDATE queries or read-write transaction goes to write node.</p>\n"},{"tags":[],"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675225480,"creation_date":1675225480,"answer_id":75305637,"question_id":25911359,"body_markdown":"I think the question is general, not sure why the preferred answer steers it into Spring internals? Anyway, you may want to take a look [Apache ShardingSphere][1], which has this feature:\r\n```\r\nRead/write Splitting\r\n---------------------\t\r\n\r\nRead/write splitting can be used to cope with business access with high stress. ShardingSphere provides flexible read/write splitting capabilities and can achieve read access load balancing based on the understanding of SQL semantics and the ability to perceive the underlying database topology.\r\n```\r\n\r\nOne thing I am concerned about is the &quot;understanding of SQL semantics&quot; claim, because how would any library &quot;understand&quot; if:```select myfunct(1) from dual``` changes data in the function, or not.\r\n\r\n\r\n\r\n\r\n  [1]: https://shardingsphere.apache.org/","title":"How to split read-only and read-write transactions with JPA and Hibernate","body":"<p>I think the question is general, not sure why the preferred answer steers it into Spring internals? Anyway, you may want to take a look <a href=\"https://shardingsphere.apache.org/\" rel=\"nofollow noreferrer\">Apache ShardingSphere</a>, which has this feature:</p>\n<pre><code>Read/write Splitting\n---------------------   \n\nRead/write splitting can be used to cope with business access with high stress. ShardingSphere provides flexible read/write splitting capabilities and can achieve read access load balancing based on the understanding of SQL semantics and the ability to perceive the underlying database topology.\n</code></pre>\n<p>One thing I am concerned about is the &quot;understanding of SQL semantics&quot; claim, because how would any library &quot;understand&quot; if:<code>select myfunct(1) from dual</code> changes data in the function, or not.</p>\n"}],"owner":{"account_id":2846759,"reputation":3710,"user_id":2444921,"accept_rate":50,"display_name":"Sachin Verma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25395,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":26026237,"answer_count":6,"score":42,"last_activity_date":1676107658,"creation_date":1411039388,"question_id":25911359,"body_markdown":"I have a quite heavy java webapp that serves thousands of requests/sec and it uses a master Postgresql db which replicates itself to one secondary (read-only) database using streaming (asynchronous) replication.\r\n\r\nSo, I separate the request from primary to secondary(read-only) using URLs to avoid read-only calls to bug primary database considering replication time is minimal.\r\n\r\n**NOTE**: *I use one sessionFactory with a RoutingDataSource provided by spring that looks up db to use based on a key. I am interested in multitenancy as I am using hibernate 4.3.4 that supports it.*\r\n\r\nI have two questions:\r\n&lt;br&gt;\r\n\r\n 1. I dont think splitting on the basis of URLs is efficient as I can\r\n    only move 10% of traffic around means there are not many read-only \r\n    URLs. What approach should I consider?\r\n 2. May be,somehow, on the basis of URLs I achieve some level of\r\n    distribution among both nodes but what would I do with my quartz\r\n        jobs(that even have separate JVM)? What pragmatic approach should I \r\n        take?\r\n\r\nI know I might not get a perfect answer here as this really is broad but I just want your opinion for the context.\r\n\r\nDudes I have in my team:\r\n\r\n - Spring4\r\n - Hibernate4\r\n - Quartz2.2\r\n - Java7 / Tomcat7\r\n\r\nPlease take interest. Thanks in advance.\r\n","title":"How to split read-only and read-write transactions with JPA and Hibernate","body":"<p>I have a quite heavy java webapp that serves thousands of requests/sec and it uses a master Postgresql db which replicates itself to one secondary (read-only) database using streaming (asynchronous) replication.</p>\n\n<p>So, I separate the request from primary to secondary(read-only) using URLs to avoid read-only calls to bug primary database considering replication time is minimal.</p>\n\n<p><strong>NOTE</strong>: <em>I use one sessionFactory with a RoutingDataSource provided by spring that looks up db to use based on a key. I am interested in multitenancy as I am using hibernate 4.3.4 that supports it.</em></p>\n\n<p>I have two questions:\n<br></p>\n\n<ol>\n<li>I dont think splitting on the basis of URLs is efficient as I can\nonly move 10% of traffic around means there are not many read-only \nURLs. What approach should I consider?</li>\n<li>May be,somehow, on the basis of URLs I achieve some level of\ndistribution among both nodes but what would I do with my quartz\n    jobs(that even have separate JVM)? What pragmatic approach should I \n    take?</li>\n</ol>\n\n<p>I know I might not get a perfect answer here as this really is broad but I just want your opinion for the context.</p>\n\n<p>Dudes I have in my team:</p>\n\n<ul>\n<li>Spring4</li>\n<li>Hibernate4</li>\n<li>Quartz2.2</li>\n<li>Java7 / Tomcat7</li>\n</ul>\n\n<p>Please take interest. Thanks in advance.</p>\n"},{"tags":["java","css-selectors","jsoup"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1676047431,"post_id":75413731,"comment_id":133065345,"body_markdown":"The `#select` method will essentially use CSS3 selectors as the syntax, so that would be the first thing to learn. An understanding of those selectors and how html is hierarchically ordered will help a long in building a scraper.","body":"The <code>#select</code> method will essentially use CSS3 selectors as the syntax, so that would be the first thing to learn. An understanding of those selectors and how html is hierarchically ordered will help a long in building a scraper."}],"answers":[{"tags":[],"owner":{"account_id":9970255,"reputation":197,"user_id":7376577,"display_name":"Peter F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676107198,"creation_date":1676107198,"answer_id":75419178,"question_id":75413731,"body_markdown":"The comments are not in the HTML file. Youtube uses Javascript to load the comments, but JSoup can only read the HTML file.\r\n\r\nYour web browser&#39;s developer tools show you what is *currently in the webpage*, which may be different from what is in the HTML file.\r\n\r\nTo view the HTML file, you can open the Youtube page in your browser then right-click and choose &#39;View Page Source&#39;, or go to this URL:\r\n```\r\nview-source:https://www.youtube.com/watch?v=C33Rw0AA3aU\r\n```\r\n\r\nThen you will be able to confirm that the source does not contain `yt-formatted-string` or `ytd-comment-renderer`.\r\n\r\nYoutube probably does this for two reasons:\r\n\r\n1. To make the page load faster (only load the comments if you scroll down to view the comment)\r\n2. To prevent people from scraping their website :)\r\n\r\nMy suggestion is to choose a different website to learn JSoup with.\r\n\r\n\r\nI confirmed that the selectors below DO work if you:\r\n\r\n1. Open the Youtube page in a web browser\r\n2. Scroll down so the comments load\r\n3. Open your web browser developer tools\r\n\r\nNote that if you use the `class=` form, the class to select must be in quotes.\r\n\r\nComments:\r\n\r\n```javascript\r\ndocument.querySelectorAll(&quot;yt-formatted-string[class=\\&quot;style-scope ytd-comment-renderer\\&quot;]&quot;);\r\n//or\r\ndocument.querySelectorAll(&quot;yt-formatted-string.style-scope.ytd-comment-renderer&quot;);\r\n```\r\n\r\nCommentators:\r\n\r\n```javascript\r\ndocument.querySelectorAll(&quot;span[class=\\&quot;style-scope ytd-comment-renderer\\&quot;]&quot;);\r\n//or\r\ndocument.querySelectorAll(&quot;span.style-scope.ytd-comment-renderer&quot;);\r\n```","title":"Scraping youtube comments with Java Jsoup","body":"<p>The comments are not in the HTML file. Youtube uses Javascript to load the comments, but JSoup can only read the HTML file.</p>\n<p>Your web browser's developer tools show you what is <em>currently in the webpage</em>, which may be different from what is in the HTML file.</p>\n<p>To view the HTML file, you can open the Youtube page in your browser then right-click and choose 'View Page Source', or go to this URL:</p>\n<pre><code>view-source:https://www.youtube.com/watch?v=C33Rw0AA3aU\n</code></pre>\n<p>Then you will be able to confirm that the source does not contain <code>yt-formatted-string</code> or <code>ytd-comment-renderer</code>.</p>\n<p>Youtube probably does this for two reasons:</p>\n<ol>\n<li>To make the page load faster (only load the comments if you scroll down to view the comment)</li>\n<li>To prevent people from scraping their website :)</li>\n</ol>\n<p>My suggestion is to choose a different website to learn JSoup with.</p>\n<p>I confirmed that the selectors below DO work if you:</p>\n<ol>\n<li>Open the Youtube page in a web browser</li>\n<li>Scroll down so the comments load</li>\n<li>Open your web browser developer tools</li>\n</ol>\n<p>Note that if you use the <code>class=</code> form, the class to select must be in quotes.</p>\n<p>Comments:</p>\n<pre class=\"lang-js prettyprint-override\"><code>document.querySelectorAll(&quot;yt-formatted-string[class=\\&quot;style-scope ytd-comment-renderer\\&quot;]&quot;);\n//or\ndocument.querySelectorAll(&quot;yt-formatted-string.style-scope.ytd-comment-renderer&quot;);\n</code></pre>\n<p>Commentators:</p>\n<pre class=\"lang-js prettyprint-override\"><code>document.querySelectorAll(&quot;span[class=\\&quot;style-scope ytd-comment-renderer\\&quot;]&quot;);\n//or\ndocument.querySelectorAll(&quot;span.style-scope.ytd-comment-renderer&quot;);\n</code></pre>\n"}],"owner":{"account_id":25506622,"reputation":45,"user_id":19298991,"display_name":"Robbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75419178,"answer_count":1,"score":0,"last_activity_date":1676107198,"creation_date":1676046602,"question_id":75413731,"body_markdown":"I&#39;m learning Java JSoup, and I want to scrape the comments and the names of the people commenting from a youtube video.\r\n\r\nI chose an arbitrary youtube video, and inspected the elements of interest. I&#39;ve looked at https://jsoup.org/cookbook/extracting-data/selector-syntax and https://stackoverflow.com/questions/27252239/why-exception-raised-while-retrieving-the-youtube-elements-using-iterator-in-jso, but I don&#39;t really understand how to use the syntax. \r\n\r\nCurrently, the output of my code is two empty lists. I want the output to be one list with the comments, and the other list with the names of the commentators. \r\n\r\nThanks for any help! \r\n\r\n\r\n```\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport org.jsoup.Jsoup;  \r\nimport org.jsoup.nodes.Document;  \r\nimport org.jsoup.nodes.Element;  \r\nimport org.jsoup.select.Elements;  \r\n\r\npublic class FirstJsoupExample {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\r\n\t\tDocument page = Jsoup.connect(&quot;https://www.youtube.com/watch?v=C33Rw0AA3aU&quot;).get();\r\n\t\t\r\n\t\t// Comments\r\n\t\tElements Comments = page.select(&quot;yt-formatted-string[class=style-scope ytd-comment-renderer]&quot;);\r\n\t\tArrayList&lt;String&gt; CommentsList = new ArrayList&lt;String&gt;(); \r\n\t\tfor (Element comment : Comments) {\r\n\t\t\tCommentsList.add(&quot;Comment: &quot; + comment.text());\r\n\t\t}\r\n\t\t\r\n\t\t// Commentators\r\n\t\tElements Comentators = page.select(&quot;span[class= style-scope ytd-comment-renderer]&quot;);\r\n\t\tArrayList&lt;String&gt; ComentatorList = new ArrayList&lt;String&gt;(); \r\n\t\tfor (Element comentator : Comentators) {\r\n\t\t\tComentatorList.add(&quot;Comentator: &quot; + comentator.text());\r\n\t\t}\t\t\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(ComentatorList);\r\n\t\tSystem.out.println(CommentsList);\r\n\t\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n","title":"Scraping youtube comments with Java Jsoup","body":"<p>I'm learning Java JSoup, and I want to scrape the comments and the names of the people commenting from a youtube video.</p>\n<p>I chose an arbitrary youtube video, and inspected the elements of interest. I've looked at <a href=\"https://jsoup.org/cookbook/extracting-data/selector-syntax\" rel=\"nofollow noreferrer\">https://jsoup.org/cookbook/extracting-data/selector-syntax</a> and <a href=\"https://stackoverflow.com/questions/27252239/why-exception-raised-while-retrieving-the-youtube-elements-using-iterator-in-jso\">Why Exception Raised while Retrieving the Youtube Elements using iterator in Jsoup?</a>, but I don't really understand how to use the syntax.</p>\n<p>Currently, the output of my code is two empty lists. I want the output to be one list with the comments, and the other list with the names of the commentators.</p>\n<p>Thanks for any help!</p>\n<pre><code>\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport org.jsoup.Jsoup;  \nimport org.jsoup.nodes.Document;  \nimport org.jsoup.nodes.Element;  \nimport org.jsoup.select.Elements;  \n\npublic class FirstJsoupExample {\n\n    public static void main(String[] args) throws IOException {\n        // TODO Auto-generated method stub\n    \n        Document page = Jsoup.connect(&quot;https://www.youtube.com/watch?v=C33Rw0AA3aU&quot;).get();\n        \n        // Comments\n        Elements Comments = page.select(&quot;yt-formatted-string[class=style-scope ytd-comment-renderer]&quot;);\n        ArrayList&lt;String&gt; CommentsList = new ArrayList&lt;String&gt;(); \n        for (Element comment : Comments) {\n            CommentsList.add(&quot;Comment: &quot; + comment.text());\n        }\n        \n        // Commentators\n        Elements Comentators = page.select(&quot;span[class= style-scope ytd-comment-renderer]&quot;);\n        ArrayList&lt;String&gt; ComentatorList = new ArrayList&lt;String&gt;(); \n        for (Element comentator : Comentators) {\n            ComentatorList.add(&quot;Comentator: &quot; + comentator.text());\n        }       \n        \n        \n        System.out.println(ComentatorList);\n        System.out.println(CommentsList);\n            \n        \n        \n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":1573031,"reputation":151,"user_id":1460282,"accept_rate":62,"display_name":"alaska"},"score":0,"creation_date":1365728851,"post_id":15961418,"comment_id":22748594,"body_markdown":"what do you mean by return carriage?","body":"what do you mean by return carriage?"},{"owner":{"display_name":"user1131435"},"score":0,"creation_date":1365728887,"post_id":15961418,"comment_id":22748601,"body_markdown":"`\\n` is a carriage return character","body":"<code>\\n</code> is a carriage return character"},{"owner":{"account_id":1573031,"reputation":151,"user_id":1460282,"accept_rate":62,"display_name":"alaska"},"score":0,"creation_date":1365728902,"post_id":15961418,"comment_id":22748603,"body_markdown":"how is the return carriage difference will effect this result?","body":"how is the return carriage difference will effect this result?"},{"owner":{"account_id":2509375,"reputation":1260,"user_id":2182220,"display_name":"Ray Stojonic"},"score":0,"creation_date":1365729137,"post_id":15961418,"comment_id":22748651,"body_markdown":"`how is the return carriage difference will effect this result?` it won&#39;t however, the code you supplied won&#39;t even compile","body":"<code>how is the return carriage difference will effect this result?</code> it won&#39;t however, the code you supplied won&#39;t even compile"},{"owner":{"account_id":2509375,"reputation":1260,"user_id":2182220,"display_name":"Ray Stojonic"},"score":2,"creation_date":1365729317,"post_id":15961418,"comment_id":22748690,"body_markdown":"That&#39;s not the problem. `public test(sc)` is neither a proper method definition nor a proper constructor for this class.","body":"That&#39;s not the problem. <code>public test(sc)</code> is neither a proper method definition nor a proper constructor for this class."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1365729351,"post_id":15961418,"comment_id":22748699,"body_markdown":"Have you added `System.out.println(str);` to `main()` after the 1st try and before the second?","body":"Have you added <code>System.out.println(str);</code> to <code>main()</code> after the 1st try and before the second?"},{"owner":{"account_id":2394191,"reputation":2340,"user_id":2093375,"accept_rate":25,"display_name":"Ravi Trivedi"},"score":0,"creation_date":1365730237,"post_id":15961418,"comment_id":22748906,"body_markdown":"Ray, alaska has changed it to public void test() means its a function. But her main code is still calling parameterised constructor which is non existent.","body":"Ray, alaska has changed it to public void test() means its a function. But her main code is still calling parameterised constructor which is non existent."},{"owner":{"account_id":2509375,"reputation":1260,"user_id":2182220,"display_name":"Ray Stojonic"},"score":0,"creation_date":1365730436,"post_id":15961418,"comment_id":22748935,"body_markdown":"@Ravi: Good catch. Do I leave the comment as sort of &#39;thread history&#39; then?","body":"@Ravi: Good catch. Do I leave the comment as sort of &#39;thread history&#39; then?"},{"owner":{"account_id":2394191,"reputation":2340,"user_id":2093375,"accept_rate":25,"display_name":"Ravi Trivedi"},"score":0,"creation_date":1365731790,"post_id":15961418,"comment_id":22749210,"body_markdown":"One more intriguing thing about this code is that, it says &quot;here is the input file&quot; but in fact her program is reading console(system.in) and not file which will definitely change the output because the moment you hit enter it will display output straight and not wait for next line input.","body":"One more intriguing thing about this code is that, it says &quot;here is the input file&quot; but in fact her program is reading console(system.in) and not file which will definitely change the output because the moment you hit enter it will display output straight and not wait for next line input."},{"owner":{"account_id":1573031,"reputation":151,"user_id":1460282,"accept_rate":62,"display_name":"alaska"},"score":0,"creation_date":1365736504,"post_id":15961418,"comment_id":22750244,"body_markdown":"@RaviTrivedi that is not a problem, just use command line &quot;cat input.txt | java Test&quot;","body":"@RaviTrivedi that is not a problem, just use command line &quot;cat input.txt | java Test&quot;"}],"answers":[{"tags":[],"owner":{"account_id":232333,"reputation":21533,"user_id":497106,"display_name":"Patashu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365728938,"creation_date":1365728938,"answer_id":15961473,"question_id":15961418,"body_markdown":"The scanner is the same object in both methods - you&#39;re passing around references to the same scanner. So, it has no clue it&#39;s being used from a new place in the program - it will faithfully do the same thing no matter what code is using it if the same methods are called.","title":"passing a scanner object to a method","body":"<p>The scanner is the same object in both methods - you're passing around references to the same scanner. So, it has no clue it's being used from a new place in the program - it will faithfully do the same thing no matter what code is using it if the same methods are called.</p>\n"},{"tags":[],"owner":{"account_id":2394191,"reputation":2340,"user_id":2093375,"accept_rate":25,"display_name":"Ravi Trivedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365730743,"creation_date":1365729507,"answer_id":15961554,"question_id":15961418,"body_markdown":"First of all, there is an error in your code &gt;&gt; Test t = new Test(sc). It uses parameterised constructor but I don&#39;t see any.\r\n\r\n\r\n    Q. if I pass a scanner object to a method, will the scanner scan from the beginning of\r\n    the input or continued to scan for the remaining part of the input ?\r\n\r\nIn Java, Objects are passed by Ref(reference to object heap address) not by values(as in primitive types). And that is why passing an Object to a function does not change the Object. The Object remains the same.\r\n\r\nRegards,\r\nRavi","title":"passing a scanner object to a method","body":"<p>First of all, there is an error in your code >> Test t = new Test(sc). It uses parameterised constructor but I don't see any.</p>\n\n<pre><code>Q. if I pass a scanner object to a method, will the scanner scan from the beginning of\nthe input or continued to scan for the remaining part of the input ?\n</code></pre>\n\n<p>In Java, Objects are passed by Ref(reference to object heap address) not by values(as in primitive types). And that is why passing an Object to a function does not change the Object. The Object remains the same.</p>\n\n<p>Regards,\nRavi</p>\n"},{"tags":[],"owner":{"account_id":383085,"reputation":3075,"user_id":738711,"display_name":"VirtualTroll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366028145,"creation_date":1366028145,"answer_id":16014912,"question_id":15961418,"body_markdown":"I think your problem has to [the break line][1].\r\n\r\nA new line is defined in a different manner from one OS to another. If you print the value of \r\n\r\n    System.getProperty(&quot;line.separator&quot;);\r\n\r\nYou will see the value of the property is not the same in Windows and Linux.\r\n\r\nI do not know where did you write your input file but it probably contain an OS specific line separator. When you run your program on another OS, you would end but a different result.\r\n\r\nI suggest that you define the delimiters of your scanner file like this\r\n\r\n    sc .useDelimiter(&quot;\\n|\\r\\n&quot;);\r\n\r\nIf I am not mistaken, **\\n** represents the linux new line while  **\\r\\n** represents the windows new line. \r\n\r\n  [1]: http://en.wikipedia.org/wiki/Line_break_%28computing%29","title":"passing a scanner object to a method","body":"<p>I think your problem has to <a href=\"http://en.wikipedia.org/wiki/Line_break_%28computing%29\" rel=\"nofollow\">the break line</a>.</p>\n\n<p>A new line is defined in a different manner from one OS to another. If you print the value of </p>\n\n<pre><code>System.getProperty(\"line.separator\");\n</code></pre>\n\n<p>You will see the value of the property is not the same in Windows and Linux.</p>\n\n<p>I do not know where did you write your input file but it probably contain an OS specific line separator. When you run your program on another OS, you would end but a different result.</p>\n\n<p>I suggest that you define the delimiters of your scanner file like this</p>\n\n<pre><code>sc .useDelimiter(\"\\n|\\r\\n\");\n</code></pre>\n\n<p>If I am not mistaken, <strong>\\n</strong> represents the linux new line while  <strong>\\r\\n</strong> represents the windows new line. </p>\n"}],"owner":{"account_id":1573031,"reputation":151,"user_id":1460282,"accept_rate":62,"display_name":"alaska"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1676106215,"creation_date":1365728491,"question_id":15961418,"body_markdown":"If I pass a scanner object to a method, will the scanner scan from the beginning of the input or continued to scan for the remaining part of the input. Here is my code:\r\n\r\n    public class Test {\r\n      public void test(Scanner sc) {\r\n        System.out.println(sc.nextLine());\r\n      }\r\n\r\n      public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        String str = sc.nextLine();\r\n        System.out.println(str);\r\n        \r\n        Test t = new Test(sc);\r\n        t.test();\r\n      }\r\n    }\r\n\r\n    // here is the input file:\r\n    1 2 3 4 \r\n    5 6 7 8\r\n    9 1 2 3\r\n\r\nI have test this code on both on Windows and Linux, but I got two different result\r\n\r\nThe first result is in the method test, it print 5 6 7 8\r\n\r\nthe second result is difficult to understand, it print 1 2 3 4, still the first line of the input.\r\n\r\nIs this related to the different version of Java, Can someone explain this for me, thank you!","title":"passing a scanner object to a method","body":"<p>If I pass a scanner object to a method, will the scanner scan from the beginning of the input or continued to scan for the remaining part of the input. Here is my code:</p>\n\n<pre><code>public class Test {\n  public void test(Scanner sc) {\n    System.out.println(sc.nextLine());\n  }\n\n  public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    String str = sc.nextLine();\n    System.out.println(str);\n\n    Test t = new Test(sc);\n    t.test();\n  }\n}\n\n// here is the input file:\n1 2 3 4 \n5 6 7 8\n9 1 2 3\n</code></pre>\n\n<p>I have test this code on both on Windows and Linux, but I got two different result</p>\n\n<p>The first result is in the method test, it print 5 6 7 8</p>\n\n<p>the second result is difficult to understand, it print 1 2 3 4, still the first line of the input.</p>\n\n<p>Is this related to the different version of Java, Can someone explain this for me, thank you!</p>\n"},{"tags":["java","loops","colors","intellij-14"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1676119575,"post_id":75419103,"comment_id":133075963,"body_markdown":"You need to create a logical model using plain Java getter/setter classes to keep the colors as they are randomly generated, so you can replay the previous colors.","body":"You need to create a logical model using plain Java getter/setter classes to keep the colors as they are randomly generated, so you can replay the previous colors."}],"owner":{"account_id":27759282,"reputation":1,"user_id":21192038,"display_name":"Lee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676106172,"creation_date":1676106172,"question_id":75419103,"body_markdown":"I&#39;ve been sitting infront of my screen for the past 4 hours trying to figure out how to continue the logic of my game, Simon Says. \r\n\r\nFor example, if the random flash of color is red and it&#39;s the player&#39;s turn to click on the same color button, I need the game to flash again the previous color/s, then a new random color to continue the chain of colors.\r\n\r\nCan someone help me with this? Without the use of graphics?\r\n\r\n\r\n\r\n\r\n```\r\n    //game round\r\n    public void Round () {\r\n        flashnum++;\r\n        for (int i = 0; i != flashnum; i++) {\r\n            Flash[i] = new flashcolor();\r\n            sequence[i] = Flash[i].flash;\r\n            ans[i] = sequence[i];\r\n\r\n            if (ans[i] == sequence[i]) {\r\n                if (sequence[0] == 0) {\r\n                    ans[0] = 0;\r\n                    MFC.color();\r\n                    Flash[i].flash++;\r\n                } else if (sequence[1] == 1) {\r\n                    ans[1] = 1;\r\n                    MFC.color();\r\n                    Flash[i].flash++;\r\n                } else if (sequence[2] == 2) {\r\n                    ans[2] = 2;\r\n                    MFC.color();\r\n                    Flash[i].flash++;\r\n                } else if (sequence[3] == 3) {\r\n                    ans[3] = 3;\r\n                    MFC.color();\r\n                    Flash[i].flash++;\r\n                }\r\n                flashnum++;\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n\r\n        startWin.redButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (turn){\r\n                    if (ans[0] == sequence[0]){\r\n                        MFC.changeColor(true);\r\n                        Round();\r\n                        turn = true;\r\n                    }\r\n                }else{\r\n                    gameover();\r\n                }\r\n            }\r\n        });\r\n\r\n        startWin.yellowButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (turn){\r\n                    if (ans[1] == sequence[1]){\r\n                        MFC.changeColor(true);\r\n                        Round();\r\n                        turn = true;\r\n                    }\r\n                }else{\r\n                    gameover();\r\n                }\r\n            }\r\n        });\r\n\r\n        startWin.greenButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (turn){\r\n                    if (ans[2] == sequence[2]){\r\n                        MFC.changeColor(true);\r\n                        Round();\r\n                        turn = true;\r\n                    }\r\n                }else{\r\n                    gameover();\r\n                }\r\n            }\r\n        });\r\n\r\n        startWin.blueButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (turn){\r\n                    if (ans[3] == sequence[3]){\r\n                        MFC.changeColor(true);\r\n                        Round();\r\n                        turn = true;\r\n                    }\r\n                }else{\r\n                    gameover();\r\n                }\r\n            }\r\n        });\r\n\r\n        startWin.redButton.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                if (ans == sequence) {\r\n                    if (ans[0] == sequence[0]) {\r\n                        MFC.color();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        startWin.yellowButton.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                if (ans == sequence) {\r\n                    if (ans[1] == sequence[1]) {\r\n                        MFC.color();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        startWin.greenButton.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                if (ans == sequence) {\r\n                    if (ans[2] == sequence[2]) {\r\n                        MFC.color();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        startWin.blueButton.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                if (ans == sequence) {\r\n                    if (ans[3] == sequence[3]) {\r\n                        MFC.color();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"Any ideas how to continue the flashing random colors after the player click the correct color button?","body":"<p>I've been sitting infront of my screen for the past 4 hours trying to figure out how to continue the logic of my game, Simon Says.</p>\n<p>For example, if the random flash of color is red and it's the player's turn to click on the same color button, I need the game to flash again the previous color/s, then a new random color to continue the chain of colors.</p>\n<p>Can someone help me with this? Without the use of graphics?</p>\n<pre><code>    //game round\n    public void Round () {\n        flashnum++;\n        for (int i = 0; i != flashnum; i++) {\n            Flash[i] = new flashcolor();\n            sequence[i] = Flash[i].flash;\n            ans[i] = sequence[i];\n\n            if (ans[i] == sequence[i]) {\n                if (sequence[0] == 0) {\n                    ans[0] = 0;\n                    MFC.color();\n                    Flash[i].flash++;\n                } else if (sequence[1] == 1) {\n                    ans[1] = 1;\n                    MFC.color();\n                    Flash[i].flash++;\n                } else if (sequence[2] == 2) {\n                    ans[2] = 2;\n                    MFC.color();\n                    Flash[i].flash++;\n                } else if (sequence[3] == 3) {\n                    ans[3] = 3;\n                    MFC.color();\n                    Flash[i].flash++;\n                }\n                flashnum++;\n            } else {\n                break;\n            }\n        }\n\n        startWin.redButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (turn){\n                    if (ans[0] == sequence[0]){\n                        MFC.changeColor(true);\n                        Round();\n                        turn = true;\n                    }\n                }else{\n                    gameover();\n                }\n            }\n        });\n\n        startWin.yellowButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (turn){\n                    if (ans[1] == sequence[1]){\n                        MFC.changeColor(true);\n                        Round();\n                        turn = true;\n                    }\n                }else{\n                    gameover();\n                }\n            }\n        });\n\n        startWin.greenButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (turn){\n                    if (ans[2] == sequence[2]){\n                        MFC.changeColor(true);\n                        Round();\n                        turn = true;\n                    }\n                }else{\n                    gameover();\n                }\n            }\n        });\n\n        startWin.blueButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (turn){\n                    if (ans[3] == sequence[3]){\n                        MFC.changeColor(true);\n                        Round();\n                        turn = true;\n                    }\n                }else{\n                    gameover();\n                }\n            }\n        });\n\n        startWin.redButton.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                if (ans == sequence) {\n                    if (ans[0] == sequence[0]) {\n                        MFC.color();\n                    }\n                }\n            }\n        });\n\n        startWin.yellowButton.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                if (ans == sequence) {\n                    if (ans[1] == sequence[1]) {\n                        MFC.color();\n                    }\n                }\n            }\n        });\n\n        startWin.greenButton.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                if (ans == sequence) {\n                    if (ans[2] == sequence[2]) {\n                        MFC.color();\n                    }\n                }\n            }\n        });\n\n        startWin.blueButton.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                if (ans == sequence) {\n                    if (ans[3] == sequence[3]) {\n                        MFC.color();\n                    }\n                }\n            }\n        });\n    }\n\n}\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":0,"creation_date":1499785703,"post_id":45038141,"comment_id":77050639,"body_markdown":"Apologize, copy-paste issue. Fixed it","body":"Apologize, copy-paste issue. Fixed it"},{"owner":{"account_id":1908489,"reputation":9264,"user_id":1722882,"accept_rate":100,"display_name":"Plog"},"score":0,"creation_date":1499785765,"post_id":45038141,"comment_id":77050683,"body_markdown":"So are your unit tests failing? What error message are you getting?","body":"So are your unit tests failing? What error message are you getting?"},{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":0,"creation_date":1499785969,"post_id":45038141,"comment_id":77050850,"body_markdown":"The first one is passing, the second one is not getting through. Syntactically incorrect as per mockito. Not sure if my production code needs some rework or my unit test. Please guide","body":"The first one is passing, the second one is not getting through. Syntactically incorrect as per mockito. Not sure if my production code needs some rework or my unit test. Please guide"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1499798176,"creation_date":1499785689,"answer_id":45038324,"question_id":45038141,"body_markdown":"Unfortunately there are simply many things wrong with the code given in the question. For example: you instruct your test to **throw** an exception. And to *expect* that exception to make it up into the test.\r\n\r\nBut: \r\n\r\n      try {\r\n            mailSender.send(message);\r\n        } catch (MailException e) {\r\n            LOG.error(&quot;Error while sending notification email: &quot;, e);\r\n        }\r\n\r\nYour production code is **catching** the exception. So you wrote a test that can only pass when your production code is *incorrect*!\r\n\r\nNow, if the test is wrong: you *could* look into mocking that logger object; to verify that a call to it happens. And you would change the test case to **not** expect any exception. That&#39;s the whole point of try/catch; isn&#39;t it.\r\n\r\nOr the other way round: if not catching is what you want; your unit test told you that the try/catch has to go away. \r\n\r\nAs said, that is just one problem here - the other answers do a good job listing them. \r\n\r\nFrom that point of view may answer is: don&#39;t try to learn unit testing by trial and error. Instead: get a good book or tutorial and *learn* how to do unit testing - including how to use mocking frameworks correctly. ","title":"Not able to unit test the exception thrown in this method using mockito","body":"<p>Unfortunately there are simply many things wrong with the code given in the question. For example: you instruct your test to <strong>throw</strong> an exception. And to <em>expect</em> that exception to make it up into the test.</p>\n\n<p>But: </p>\n\n<pre><code>  try {\n        mailSender.send(message);\n    } catch (MailException e) {\n        LOG.error(\"Error while sending notification email: \", e);\n    }\n</code></pre>\n\n<p>Your production code is <strong>catching</strong> the exception. So you wrote a test that can only pass when your production code is <em>incorrect</em>!</p>\n\n<p>Now, if the test is wrong: you <em>could</em> look into mocking that logger object; to verify that a call to it happens. And you would change the test case to <strong>not</strong> expect any exception. That's the whole point of try/catch; isn't it.</p>\n\n<p>Or the other way round: if not catching is what you want; your unit test told you that the try/catch has to go away. </p>\n\n<p>As said, that is just one problem here - the other answers do a good job listing them. </p>\n\n<p>From that point of view may answer is: don't try to learn unit testing by trial and error. Instead: get a good book or tutorial and <em>learn</em> how to do unit testing - including how to use mocking frameworks correctly. </p>\n"},{"tags":[],"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676106157,"creation_date":1499786125,"answer_id":45038466,"question_id":45038141,"body_markdown":"1) See [this][1] doc on how to mock `void` methods with exception:\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.mockito/mockito-core/2.8.47/org/mockito/Mockito.html#5\r\n\r\nIn your case it should be something like this:\r\n\r\n    doThrow(new MailException()).when(mockEmailService).notify( anyString() );\r\n\r\n2) Your `testNotify` does not do proper testing. After calling actual `notify` method is does not check the expected outcome.\r\n\r\n3) Your `testNotifyMailException` first mocks `notify` and then calls actual `notify` method on non mocked EmailService. **The whole point of mocking `notify` is to test the code that calls it and not the actual method you are mocking.**\r\n\r\n\r","title":"Not able to unit test the exception thrown in this method using mockito","body":"<ol>\n<li>See <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.8.47/org/mockito/Mockito.html#5\" rel=\"nofollow noreferrer\">this</a> doc on how to mock <code>void</code> methods with exception:</li>\n</ol>\n<p>In your case it should be something like this:</p>\n<pre><code>doThrow(new MailException()).when(mockEmailService).notify( anyString() );\n</code></pre>\n<ol start=\"2\">\n<li><p>Your <code>testNotify</code> does not do proper testing. After calling actual <code>notify</code> method is does not check the expected outcome.</p>\n</li>\n<li><p>Your <code>testNotifyMailException</code> first mocks <code>notify</code> and then calls actual <code>notify</code> method on non mocked EmailService. <strong>The whole point of mocking <code>notify</code> is to test the code that calls it and not the actual method you are mocking.</strong></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1908489,"reputation":9264,"user_id":1722882,"accept_rate":100,"display_name":"Plog"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1499786487,"creation_date":1499786487,"answer_id":45038603,"question_id":45038141,"body_markdown":"You shouldn&#39;t really be mocking a class that you are trying to test. I think what you really want to do here is to mock the MailSender to throw an exception. I notice you&#39;re already using a mock MailSender in your successful test. Just use this again and set the expectation:\r\n\r\n     when(mailSender.send(any(SimpleMailMessage.class))).thenThrow(MailException.class);\r\n\r\nBut as mentioned in @GhostCat&#39;s answer you are doing exception handling in the method so the you&#39;d need to specify a different expectation other than the exception to be thrown. You could mock the logger but mocking static loggers is usually a lot more effort that it&#39;s worth. You might want to consider reworking your exception handling to make it easier to test.","title":"Not able to unit test the exception thrown in this method using mockito","body":"<p>You shouldn't really be mocking a class that you are trying to test. I think what you really want to do here is to mock the MailSender to throw an exception. I notice you're already using a mock MailSender in your successful test. Just use this again and set the expectation:</p>\n\n<pre><code> when(mailSender.send(any(SimpleMailMessage.class))).thenThrow(MailException.class);\n</code></pre>\n\n<p>But as mentioned in @GhostCat's answer you are doing exception handling in the method so the you'd need to specify a different expectation other than the exception to be thrown. You could mock the logger but mocking static loggers is usually a lot more effort that it's worth. You might want to consider reworking your exception handling to make it easier to test.</p>\n"},{"tags":[],"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499790617,"creation_date":1499790617,"answer_id":45040046,"question_id":45038141,"body_markdown":"Based on the above-mentioned responses I got it working by modifying both my actual class and unit test. \r\n\r\n\r\n**EmailSendException.java (New class added in order to promote testablity)**\r\n\r\n    public class EmailSendException extends RuntimeException {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        public EmailSendException(String message) {\r\n            super(message);\r\n        }\r\n    \r\n        public EmailSendException(String message, Throwable cause) {\r\n            super(message, cause);\r\n        }\r\n    }\r\n\r\n**EmailService.java (Instead of catching, throwing a RuntimeException)**\r\n\r\n    public class EmailService {\r\n        private static final Log LOG = LogFactory.getLog(EmailService.class);\r\n        private static final String EMAIL_SUBJECT = &quot;:: Risk Assessment Job Summary Results::&quot;;\r\n        private final MailSender mailSender;\r\n        private final String emailRecipientAddress;\r\n        private final String emailSenderAddress;\r\n        private static final String ERROR_MSG = &quot;Error while sending notification email&quot;;\r\n    \r\n        public EmailService(MailSender mailSender, String emailRecipientAddress,\r\n                                  String emailSenderAddress) {\r\n            this.mailSender = mailSender;\r\n            this.emailRecipientAddress = emailRecipientAddress;\r\n            this.emailSenderAddress = emailSenderAddress;\r\n        }\r\n    \r\n        public void notify(String messageBody) {\r\n            SimpleMailMessage message = new SimpleMailMessage();\r\n            message.setSubject(EMAIL_SUBJECT);\r\n            message.setTo(emailRecipientAddress);\r\n            message.setFrom(emailSenderAddress);\r\n            message.setText(messageBody);\r\n            try {\r\n                mailSender.send(message);\r\n            } catch (MailException e) {\r\n                throw new EmailSendException(ERROR_MSG, e);\r\n            }\r\n        }\r\n    }\r\n\r\n**EmailServiceTest.java (Mocking and testing )**\r\n\r\n    public class EmailServiceTest {\r\n    \r\n        @Rule\r\n        public MockitoJUnitRule rule = new MockitoJUnitRule(this);\r\n    \r\n        @Mock\r\n        private MailSender mailSender;\r\n        private String emailRecipientAddress = &quot;recipient@abc.com&quot;;\r\n        private String emailSenderAddress = &quot;sender@abc.com&quot;;\r\n        private String messageBody = &quot;Hello Message Body!!!&quot;;\r\n        @Mock\r\n        private EmailService mockEmailService;\r\n    \r\n        @Test\r\n        public void testNotify() {\r\n            EmailService EmailService = new EmailService(mailSender, emailRecipientAddress, emailSenderAddress);\r\n            EmailService.notify(messageBody);\r\n        }\r\n    \r\n        @Test(expected = KlarnaEmailSendException.class)\r\n        public void testNotifyMailException() {\r\n            doThrow(new KlarnaEmailSendException(&quot;Some error message&quot;)).when(mockKlarnaEmailService).notify(anyString());\r\n            mockKlarnaEmailService.notify(messageBody);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Not able to unit test the exception thrown in this method using mockito","body":"<p>Based on the above-mentioned responses I got it working by modifying both my actual class and unit test. </p>\n\n<p><strong>EmailSendException.java (New class added in order to promote testablity)</strong></p>\n\n<pre><code>public class EmailSendException extends RuntimeException {\n    private static final long serialVersionUID = 1L;\n\n    public EmailSendException(String message) {\n        super(message);\n    }\n\n    public EmailSendException(String message, Throwable cause) {\n        super(message, cause);\n    }\n}\n</code></pre>\n\n<p><strong>EmailService.java (Instead of catching, throwing a RuntimeException)</strong></p>\n\n<pre><code>public class EmailService {\n    private static final Log LOG = LogFactory.getLog(EmailService.class);\n    private static final String EMAIL_SUBJECT = \":: Risk Assessment Job Summary Results::\";\n    private final MailSender mailSender;\n    private final String emailRecipientAddress;\n    private final String emailSenderAddress;\n    private static final String ERROR_MSG = \"Error while sending notification email\";\n\n    public EmailService(MailSender mailSender, String emailRecipientAddress,\n                              String emailSenderAddress) {\n        this.mailSender = mailSender;\n        this.emailRecipientAddress = emailRecipientAddress;\n        this.emailSenderAddress = emailSenderAddress;\n    }\n\n    public void notify(String messageBody) {\n        SimpleMailMessage message = new SimpleMailMessage();\n        message.setSubject(EMAIL_SUBJECT);\n        message.setTo(emailRecipientAddress);\n        message.setFrom(emailSenderAddress);\n        message.setText(messageBody);\n        try {\n            mailSender.send(message);\n        } catch (MailException e) {\n            throw new EmailSendException(ERROR_MSG, e);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>EmailServiceTest.java (Mocking and testing )</strong></p>\n\n<pre><code>public class EmailServiceTest {\n\n    @Rule\n    public MockitoJUnitRule rule = new MockitoJUnitRule(this);\n\n    @Mock\n    private MailSender mailSender;\n    private String emailRecipientAddress = \"recipient@abc.com\";\n    private String emailSenderAddress = \"sender@abc.com\";\n    private String messageBody = \"Hello Message Body!!!\";\n    @Mock\n    private EmailService mockEmailService;\n\n    @Test\n    public void testNotify() {\n        EmailService EmailService = new EmailService(mailSender, emailRecipientAddress, emailSenderAddress);\n        EmailService.notify(messageBody);\n    }\n\n    @Test(expected = KlarnaEmailSendException.class)\n    public void testNotifyMailException() {\n        doThrow(new KlarnaEmailSendException(\"Some error message\")).when(mockKlarnaEmailService).notify(anyString());\n        mockKlarnaEmailService.notify(messageBody);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11134040,"reputation":442,"user_id":8173142,"display_name":"mymarkers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1499806825,"creation_date":1499806825,"answer_id":45044379,"question_id":45038141,"body_markdown":"I&#39;m going to assume that the `EmailService` implementation here is correct and focus on the tests. They&#39;re both flawed. While the `testNotify` executes without errors, it isn&#39;t actually testing anything. Technically, it will at least confirm that `notify` does not throw an exception when `mailService` does not throw an exception. We can do better.\r\n\r\nThe key to writing good tests is to ask yourself, &quot;What is this method supposed to do?&quot; You should be able to answer that question before you even write the method. For specific tests, ask &quot;What should it do with this input?&quot; or &quot;What should it do when its dependency does this?&quot;\r\n\r\nIn the first case, you create a `MailService` passing it a `MailSender` and the to and from addresses. What is that `MailService` instance supposed to do when its `notify` method is called? It&#39;s supposed pass a `SimpleMailMessage` to `MailSender` through the `send` method. Here&#39;s how you do that (Note, I assumed that `MailSender` actually takes a `MailMessage` interface instead of `SimpleMailMessage`):\r\n\r\n    @Mock\r\n    private MailSender mailSender;\r\n    private EmailService emailService;\r\n    private String emailRecipientAddress = &quot;recipient@abc.com&quot;;\r\n    private String emailSenderAddress = &quot;sender@abc.com&quot;;\r\n    private String messageBody = &quot;Hello Message Body!!!&quot;;\r\n\r\n    @Before\r\n    public void setUp(){\r\n        MockitoAnnotations.initMocks(this);\r\n        emailService = new EmailService(mailSender, emailRecipientAddress, emailSenderAddress);\r\n    }\r\n\r\n    @Test\r\n    public void testMessageSent() throws MailException {\r\n\r\n        ArgumentCaptor&lt;MailMessage&gt; argument = ArgumentCaptor.forClass(MailMessage.class);\r\n\r\n        emailService.notify(messageBody);\r\n\r\n        Mockito.verify(mailSender).send(argument.capture());\r\n        Assert.assertEquals(emailRecipientAddress, argument.getValue().getTo());\r\n        Assert.assertEquals(emailSenderAddress, argument.getValue().getFrom());\r\n        Assert.assertEquals(messageBody, argument.getValue().getText());\r\n\r\n    }\r\n\r\nThis makes sure that `EmailService` actually sends the message you&#39;d expect based on arguments passed to its constructor and `notify` method. We do not care whether or not `MailSender` does its job correctly in this test. We just assume it works- presumably because it&#39;s either tested elsewhere or part of a provided library.\r\n\r\nThe test for the exception is a little more subtle. Since the exception is caught, logged, and then ignored there&#39;s not as much to test. I personally don&#39;t bother checking that anything is logged. What we really want to do is confirm that if `MailSender` throws `MailException` then `notify` will not throw an exception. If `MailException` is a `RuntimeException` then we should test this. Basically, you just mock `mailSender` to throw an exception. If `EmailService` does not handle it correctly, then it will throw an exception and the test will fail (This uses the same setup as the previous example):\r\n\r\n    @Test\r\n    public void testMailException() throws MailException {\r\n\r\n        Mockito.doThrow(Mockito.mock(MailException.class)).when(mailSender).send(Mockito.any(MailMessage.class));\r\n        emailService.notify(messageBody);\r\n\r\n    }\r\n\r\nAlternatively, we can catch the `MailException` and then explicitly fail the test:\r\n\r\n    @Test\r\n    public void testMailExceptionAlternate() {\r\n        try {\r\n            Mockito.doThrow(Mockito.mock(MailException.class)).when(mailSender).send(Mockito.any(MailMessage.class));\r\n            emailService.notify(messageBody);\r\n        } catch (MailException ex){\r\n            Assert.fail(&quot;MailException was supposed to be caught.&quot;);\r\n        }\r\n    }\r\n\r\nBoth approaches confirm the desired behavior. The second is more clear in what it&#39;s testing. The downside, though, is that if `notify` were allowed to throw a `MailException` in other circumstances, then that test might not work.\r\n\r\nFinally, if `MailException` is a checked exception- that is it *not* a `RuntimeException`- then you would not even need to test this. If `notify` could possibly throw a `MailException` then the compiler would require it declare it in the method signature.","title":"Not able to unit test the exception thrown in this method using mockito","body":"<p>I'm going to assume that the <code>EmailService</code> implementation here is correct and focus on the tests. They're both flawed. While the <code>testNotify</code> executes without errors, it isn't actually testing anything. Technically, it will at least confirm that <code>notify</code> does not throw an exception when <code>mailService</code> does not throw an exception. We can do better.</p>\n\n<p>The key to writing good tests is to ask yourself, \"What is this method supposed to do?\" You should be able to answer that question before you even write the method. For specific tests, ask \"What should it do with this input?\" or \"What should it do when its dependency does this?\"</p>\n\n<p>In the first case, you create a <code>MailService</code> passing it a <code>MailSender</code> and the to and from addresses. What is that <code>MailService</code> instance supposed to do when its <code>notify</code> method is called? It's supposed pass a <code>SimpleMailMessage</code> to <code>MailSender</code> through the <code>send</code> method. Here's how you do that (Note, I assumed that <code>MailSender</code> actually takes a <code>MailMessage</code> interface instead of <code>SimpleMailMessage</code>):</p>\n\n<pre><code>@Mock\nprivate MailSender mailSender;\nprivate EmailService emailService;\nprivate String emailRecipientAddress = \"recipient@abc.com\";\nprivate String emailSenderAddress = \"sender@abc.com\";\nprivate String messageBody = \"Hello Message Body!!!\";\n\n@Before\npublic void setUp(){\n    MockitoAnnotations.initMocks(this);\n    emailService = new EmailService(mailSender, emailRecipientAddress, emailSenderAddress);\n}\n\n@Test\npublic void testMessageSent() throws MailException {\n\n    ArgumentCaptor&lt;MailMessage&gt; argument = ArgumentCaptor.forClass(MailMessage.class);\n\n    emailService.notify(messageBody);\n\n    Mockito.verify(mailSender).send(argument.capture());\n    Assert.assertEquals(emailRecipientAddress, argument.getValue().getTo());\n    Assert.assertEquals(emailSenderAddress, argument.getValue().getFrom());\n    Assert.assertEquals(messageBody, argument.getValue().getText());\n\n}\n</code></pre>\n\n<p>This makes sure that <code>EmailService</code> actually sends the message you'd expect based on arguments passed to its constructor and <code>notify</code> method. We do not care whether or not <code>MailSender</code> does its job correctly in this test. We just assume it works- presumably because it's either tested elsewhere or part of a provided library.</p>\n\n<p>The test for the exception is a little more subtle. Since the exception is caught, logged, and then ignored there's not as much to test. I personally don't bother checking that anything is logged. What we really want to do is confirm that if <code>MailSender</code> throws <code>MailException</code> then <code>notify</code> will not throw an exception. If <code>MailException</code> is a <code>RuntimeException</code> then we should test this. Basically, you just mock <code>mailSender</code> to throw an exception. If <code>EmailService</code> does not handle it correctly, then it will throw an exception and the test will fail (This uses the same setup as the previous example):</p>\n\n<pre><code>@Test\npublic void testMailException() throws MailException {\n\n    Mockito.doThrow(Mockito.mock(MailException.class)).when(mailSender).send(Mockito.any(MailMessage.class));\n    emailService.notify(messageBody);\n\n}\n</code></pre>\n\n<p>Alternatively, we can catch the <code>MailException</code> and then explicitly fail the test:</p>\n\n<pre><code>@Test\npublic void testMailExceptionAlternate() {\n    try {\n        Mockito.doThrow(Mockito.mock(MailException.class)).when(mailSender).send(Mockito.any(MailMessage.class));\n        emailService.notify(messageBody);\n    } catch (MailException ex){\n        Assert.fail(\"MailException was supposed to be caught.\");\n    }\n}\n</code></pre>\n\n<p>Both approaches confirm the desired behavior. The second is more clear in what it's testing. The downside, though, is that if <code>notify</code> were allowed to throw a <code>MailException</code> in other circumstances, then that test might not work.</p>\n\n<p>Finally, if <code>MailException</code> is a checked exception- that is it <em>not</em> a <code>RuntimeException</code>- then you would not even need to test this. If <code>notify</code> could possibly throw a <code>MailException</code> then the compiler would require it declare it in the method signature.</p>\n"}],"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4978,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45044379,"answer_count":5,"score":2,"last_activity_date":1676106157,"creation_date":1499785168,"question_id":45038141,"body_markdown":"I have written the following unit test using `mockito` to test my `EmailService.java` class. What I am not sure is if I am testing this correctly or not (both happy path and exception scenario).\r\n\r\nMoreover I am getting this `Error: &#39;void&#39; type not allowed here`\r\nin the following code snippet in my unit test \r\n\r\n    when(mockEmailService.notify(anyString())).thenThrow(MailException.class);\r\n\r\nI understand that since my `notify()` method is returning void I am getting that exception. But not sure how to resolve this. Is there any code change required in my unit test or actual class or both?\r\n\r\nCan somebody please guide.\r\n\r\n**EmailServiceTest.java**\r\n\r\n    public class EmailServiceTest {\r\n    \r\n        @Rule\r\n        public MockitoJUnitRule rule = new MockitoJUnitRule(this);\r\n    \r\n        @Mock\r\n        private MailSender mailSender;\r\n        @Mock\r\n        private EmailService mockEmailService;\r\n        private String emailRecipientAddress = &quot;recipient@abc.com&quot;;\r\n        private String emailSenderAddress = &quot;sender@abc.com&quot;;\r\n        private String messageBody = &quot;Hello Message Body!!!&quot;;\r\n    \r\n        @Test\r\n        public void testNotify() {\r\n            EmailService emailService = new EmailService(mailSender, emailRecipientAddress, emailSenderAddress);\r\n            emailService.notify(messageBody);\r\n        }\r\n    \r\n        @Test(expected = MailException.class)\r\n        public void testNotifyMailException() {\r\n            when(mockEmailService.notify(anyString())).thenThrow(MailException.class);\r\n            EmailService emailService = new EmailService(mailSender, emailRecipientAddress, emailSenderAddress);\r\n            emailService.notify(messageBody);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**EmailService.java**\r\n\r\n    public class EmailService {\r\n        private static final Log LOG = LogFactory.getLog(EmailService.class);\r\n        private static final String EMAIL_SUBJECT = &quot;:: Risk Assessment Job Summary Results::&quot;;\r\n        private final MailSender mailSender;\r\n        private final String emailRecipientAddress;\r\n        private final String emailSenderAddress;\r\n    \r\n        public EmailService(MailSender mailSender, String emailRecipientAddress,\r\n                String emailSenderAddress) {\r\n            this.mailSender = mailSender;\r\n            this.emailRecipientAddress = emailRecipientAddress;\r\n            this.emailSenderAddress = emailSenderAddress;\r\n        }\r\n    \r\n        public void notify(String messageBody) {\r\n            SimpleMailMessage message = new SimpleMailMessage();\r\n            message.setSubject(EMAIL_SUBJECT);\r\n            message.setTo(emailRecipientAddress);\r\n            message.setFrom(emailSenderAddress);\r\n            message.setText(messageBody);\r\n            try {\r\n                mailSender.send(message);\r\n            } catch (MailException e) {\r\n                LOG.error(&quot;Error while sending notification email: &quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Not able to unit test the exception thrown in this method using mockito","body":"<p>I have written the following unit test using <code>mockito</code> to test my <code>EmailService.java</code> class. What I am not sure is if I am testing this correctly or not (both happy path and exception scenario).</p>\n\n<p>Moreover I am getting this <code>Error: 'void' type not allowed here</code>\nin the following code snippet in my unit test </p>\n\n<pre><code>when(mockEmailService.notify(anyString())).thenThrow(MailException.class);\n</code></pre>\n\n<p>I understand that since my <code>notify()</code> method is returning void I am getting that exception. But not sure how to resolve this. Is there any code change required in my unit test or actual class or both?</p>\n\n<p>Can somebody please guide.</p>\n\n<p><strong>EmailServiceTest.java</strong></p>\n\n<pre><code>public class EmailServiceTest {\n\n    @Rule\n    public MockitoJUnitRule rule = new MockitoJUnitRule(this);\n\n    @Mock\n    private MailSender mailSender;\n    @Mock\n    private EmailService mockEmailService;\n    private String emailRecipientAddress = \"recipient@abc.com\";\n    private String emailSenderAddress = \"sender@abc.com\";\n    private String messageBody = \"Hello Message Body!!!\";\n\n    @Test\n    public void testNotify() {\n        EmailService emailService = new EmailService(mailSender, emailRecipientAddress, emailSenderAddress);\n        emailService.notify(messageBody);\n    }\n\n    @Test(expected = MailException.class)\n    public void testNotifyMailException() {\n        when(mockEmailService.notify(anyString())).thenThrow(MailException.class);\n        EmailService emailService = new EmailService(mailSender, emailRecipientAddress, emailSenderAddress);\n        emailService.notify(messageBody);\n    }\n\n}\n</code></pre>\n\n<p><strong>EmailService.java</strong></p>\n\n<pre><code>public class EmailService {\n    private static final Log LOG = LogFactory.getLog(EmailService.class);\n    private static final String EMAIL_SUBJECT = \":: Risk Assessment Job Summary Results::\";\n    private final MailSender mailSender;\n    private final String emailRecipientAddress;\n    private final String emailSenderAddress;\n\n    public EmailService(MailSender mailSender, String emailRecipientAddress,\n            String emailSenderAddress) {\n        this.mailSender = mailSender;\n        this.emailRecipientAddress = emailRecipientAddress;\n        this.emailSenderAddress = emailSenderAddress;\n    }\n\n    public void notify(String messageBody) {\n        SimpleMailMessage message = new SimpleMailMessage();\n        message.setSubject(EMAIL_SUBJECT);\n        message.setTo(emailRecipientAddress);\n        message.setFrom(emailSenderAddress);\n        message.setText(messageBody);\n        try {\n            mailSender.send(message);\n        } catch (MailException e) {\n            LOG.error(\"Error while sending notification email: \", e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":2,"creation_date":1469267050,"post_id":38539213,"comment_id":64473329,"body_markdown":"(Initialise &quot;current minimum variables&quot; with (`Integer.`)[`MAX_VALUE`](http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#field.summary)) The problem linked reads `Given an array of integers, replace every element with the least greater element [to] its right`: please state whether you want to _find_ or _replace_.","body":"(Initialise &quot;current minimum variables&quot; with (<code>Integer.</code>)<a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#field.summary\" rel=\"nofollow noreferrer\"><code>MAX_VALUE</code></a>) The problem linked reads <code>Given an array of integers, replace every element with the least greater element [to] its right</code>: please state whether you want to <i>find</i> or <i>replace</i>."},{"owner":{"account_id":1282323,"reputation":4466,"user_id":1236153,"accept_rate":86,"display_name":"underdog"},"score":0,"creation_date":1469267357,"post_id":38539213,"comment_id":64473407,"body_markdown":"Once I find I can easily replace, so the prb was finding. Now it&#39;s fixed once I initialized the leastGreatest variable with Integer.MAX_VALUE","body":"Once I find I can easily replace, so the prb was finding. Now it&#39;s fixed once I initialized the leastGreatest variable with Integer.MAX_VALUE"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1469267512,"post_id":38539213,"comment_id":64473439,"body_markdown":"Please state in no uncertain terms, in the question, whether you want to _find_ or _replace_: for _replace_, I&#39;d suggest `a simpler solution`.","body":"Please state in no uncertain terms, in the question, whether you want to <i>find</i> or <i>replace</i>: for <i>replace</i>, I&#39;d suggest <code>a simpler solution</code>."}],"answers":[{"tags":[],"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469259987,"creation_date":1469259987,"answer_id":38539456,"question_id":38539213,"body_markdown":"The second snippet is almost ok:\r\n\r\n    for (int i = 0; i &lt; arr.length; i++) { // (1)\r\n        int leastGreater = -1; // (2)\r\n        for (int j = i + 1; j &lt; arr.length; j++) {\r\n            if ((arr[j] &gt; arr[i])) {\r\n                if(leastGreater == -1 || arr[j]&lt;leastGreater){ // (3)\r\n                    leastGreater = arr[j];\r\n                }\r\n            }\r\n        }\r\n        arr[i] = leastGrater; // (4)\r\n    }\r\n\r\n 1. We need to set the last element of the array as well, let the loop run over the whole array\r\n 2. If nothing is found the value should be -1, so initialize to that\r\n 3. need to replace also if nothing found yet\r\n 4. set the new value into the array","title":"Find the least greater element on the right","body":"<p>The second snippet is almost ok:</p>\n\n<pre><code>for (int i = 0; i &lt; arr.length; i++) { // (1)\n    int leastGreater = -1; // (2)\n    for (int j = i + 1; j &lt; arr.length; j++) {\n        if ((arr[j] &gt; arr[i])) {\n            if(leastGreater == -1 || arr[j]&lt;leastGreater){ // (3)\n                leastGreater = arr[j];\n            }\n        }\n    }\n    arr[i] = leastGrater; // (4)\n}\n</code></pre>\n\n<ol>\n<li>We need to set the last element of the array as well, let the loop run over the whole array</li>\n<li>If nothing is found the value should be -1, so initialize to that</li>\n<li>need to replace also if nothing found yet</li>\n<li>set the new value into the array</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4168927,"reputation":801,"user_id":3417226,"display_name":"Loki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644464158,"creation_date":1469260912,"answer_id":38539564,"question_id":38539213,"body_markdown":"This should work\r\n    \r\n    int a[] = {8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28};\r\n\t\tint n = a.length;\r\n\t\tfor (int i = 0; i &lt; n-1; i++){\r\n\t\t\tint diff = Integer.MAX_VALUE;\r\n\t\t\tint leastGreater = Integer.MAX_VALUE;\r\n\t\t\tfor (int j = i+1; j &lt; n; j++){\r\n\t\t\t\tif(a[j] - a[i] &gt; 0 &amp;&amp; diff &gt; a[j] - a[i]){\r\n\t\t\t\t\tdiff = a[j] - a[i];\r\n\t\t\t\t\tleastGreater = a[j];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (leastGreater == Integer.MAX_VALUE){\r\n\t\t\t\tSystem.out.println(&quot;Not Found for index &quot; + i);\r\n\t\t\t}else {\r\n\t\t\t\tSystem.out.println(leastGreater + &quot; found for index &quot; + i);\r\n\t\t\t}\r\n\t\t}\r\n\r\nIt checks for difference to the right of current element which should be &gt; 0 i.e right element should be greater than the current one.","title":"Find the least greater element on the right","body":"<p>This should work</p>\n<pre><code>int a[] = {8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28};\n    int n = a.length;\n    for (int i = 0; i &lt; n-1; i++){\n        int diff = Integer.MAX_VALUE;\n        int leastGreater = Integer.MAX_VALUE;\n        for (int j = i+1; j &lt; n; j++){\n            if(a[j] - a[i] &gt; 0 &amp;&amp; diff &gt; a[j] - a[i]){\n                diff = a[j] - a[i];\n                leastGreater = a[j];\n            }\n        }\n        if (leastGreater == Integer.MAX_VALUE){\n            System.out.println(&quot;Not Found for index &quot; + i);\n        }else {\n            System.out.println(leastGreater + &quot; found for index &quot; + i);\n        }\n    }\n</code></pre>\n<p>It checks for difference to the right of current element which should be &gt; 0 i.e right element should be greater than the current one.</p>\n"},{"tags":[],"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1469273056,"creation_date":1469262540,"answer_id":38539769,"question_id":38539213,"body_markdown":"Can use a temp variable of location of the current/ smallest value greater than the target and one loop. Boolean is optional, more clear. Can  also use the temp var initialized to -1 &amp; use as a flag in place of the boolean. \r\nUsing one loop is faster for a bigger array and many calls. [Full source][1]   \r\n\t\t\r\n\t\t\tint[] arr = { 8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28 };\r\n\t\t\t// Test cases\r\n\t\t\tap.findLeasterGreater(arr, 0);\r\n\t\t\tap.findLeasterGreater(arr, 1);\r\n\t\t\tap.findLeasterGreater(arr, 11);\r\n\t\t\tap.findLeasterGreater(arr, 6);\r\n\t\t\t// without boolean\r\n\t\t\tap.findLeasterGreater2(arr, 0);\r\n\t\t\tap.findLeasterGreater2(arr, 1);\r\n\t\t\tap.findLeasterGreater2(arr, 11);\r\n\t\t\tap.findLeasterGreater2(arr, 6);\r\n\t\r\n\t\t/*\r\n\t\t * One loop L-R, check if first greater val encountered. Ini currGreater, when a new value that &gt; orig but &lt; currGreater, use that as\r\n\t\t * the currGreater Using the location of curr greater so can return that. More useful.\r\n\t\t */\r\n\t\tint findLeasterGreater(int[] arr, int loc) {\r\n\t\t\tint nextGreaterLoc = -1;\r\n\t\t\tboolean first = true;\r\n\t\t\tfor (int i = loc + 1; i &lt; arr.length; i++) {\r\n\t\t\t\tif (first &amp;&amp; arr[loc] &lt; arr[i]) {\r\n\t\t\t\t\tfirst = false;\r\n\t\t\t\t\tnextGreaterLoc = i;\r\n\t\t\t\t} else if (arr[loc] &lt; arr[i] &amp;&amp; arr[nextGreaterLoc] &gt; arr[i]) {\r\n\t\t\t\t\tnextGreaterLoc = i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (nextGreaterLoc == -1) {\r\n\t\t\t\tSystem.out.println(&quot;Not found a value bigger than &quot; + arr[loc] + &quot; (after location &quot; + loc + &quot;)&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Found a value bigger :&quot; + arr[nextGreaterLoc] + &quot; at location &quot; + nextGreaterLoc + &quot; bigger than &quot;\r\n\t\t\t\t\t\t+ arr[loc] + &quot; (after location &quot; + loc + &quot;)&quot;);\r\n\t\t\t}\r\n\t\t\treturn nextGreaterLoc;\r\n\t\t}\r\n\t\r\n\t\t/*\r\n\t\t * with 1 less local var - no boolean\r\n\t\t */\r\n\t\tint findLeasterGreater2(int[] arr, int loc) {\r\n\t\t\tint nextGreaterLoc = -1;\r\n\t\t\tfor (int i = loc + 1; i &lt; arr.length; i++) {\r\n\t\t\t\tif (nextGreaterLoc == -1 &amp;&amp; arr[loc] &lt; arr[i]) {\r\n\t\t\t\t\tnextGreaterLoc = i;\r\n\t\t\t\t} else if (nextGreaterLoc &gt; -1 &amp;&amp; arr[loc] &lt; arr[i] &amp;&amp; arr[nextGreaterLoc] &gt; arr[i]) {\r\n\t\t\t\t\tnextGreaterLoc = i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (nextGreaterLoc == -1) {\r\n\t\t\t\tSystem.out.println(&quot;Not found a value bigger than &quot; + arr[loc] + &quot; (after location &quot; + loc + &quot;)&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Found a value bigger :&quot; + arr[nextGreaterLoc] + &quot; at location &quot; + nextGreaterLoc + &quot; bigger than &quot;\r\n\t\t\t\t\t\t+ arr[loc] + &quot; (after location &quot; + loc + &quot;)&quot;);\r\n\t\t\t}\r\n\t\t\treturn nextGreaterLoc;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n  [1]: https://github.com/tgkprog/academic/blob/master/src/main/java/arr/LeastGreater.java%20least%20greater","title":"Find the least greater element on the right","body":"<p>Can use a temp variable of location of the current/ smallest value greater than the target and one loop. Boolean is optional, more clear. Can  also use the temp var initialized to -1 &amp; use as a flag in place of the boolean. \nUsing one loop is faster for a bigger array and many calls. <a href=\"https://github.com/tgkprog/academic/blob/master/src/main/java/arr/LeastGreater.java%20least%20greater\" rel=\"nofollow\">Full source</a>   </p>\n\n<pre><code>        int[] arr = { 8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28 };\n        // Test cases\n        ap.findLeasterGreater(arr, 0);\n        ap.findLeasterGreater(arr, 1);\n        ap.findLeasterGreater(arr, 11);\n        ap.findLeasterGreater(arr, 6);\n        // without boolean\n        ap.findLeasterGreater2(arr, 0);\n        ap.findLeasterGreater2(arr, 1);\n        ap.findLeasterGreater2(arr, 11);\n        ap.findLeasterGreater2(arr, 6);\n\n    /*\n     * One loop L-R, check if first greater val encountered. Ini currGreater, when a new value that &gt; orig but &lt; currGreater, use that as\n     * the currGreater Using the location of curr greater so can return that. More useful.\n     */\n    int findLeasterGreater(int[] arr, int loc) {\n        int nextGreaterLoc = -1;\n        boolean first = true;\n        for (int i = loc + 1; i &lt; arr.length; i++) {\n            if (first &amp;&amp; arr[loc] &lt; arr[i]) {\n                first = false;\n                nextGreaterLoc = i;\n            } else if (arr[loc] &lt; arr[i] &amp;&amp; arr[nextGreaterLoc] &gt; arr[i]) {\n                nextGreaterLoc = i;\n            }\n        }\n        if (nextGreaterLoc == -1) {\n            System.out.println(\"Not found a value bigger than \" + arr[loc] + \" (after location \" + loc + \")\");\n        } else {\n            System.out.println(\"Found a value bigger :\" + arr[nextGreaterLoc] + \" at location \" + nextGreaterLoc + \" bigger than \"\n                    + arr[loc] + \" (after location \" + loc + \")\");\n        }\n        return nextGreaterLoc;\n    }\n\n    /*\n     * with 1 less local var - no boolean\n     */\n    int findLeasterGreater2(int[] arr, int loc) {\n        int nextGreaterLoc = -1;\n        for (int i = loc + 1; i &lt; arr.length; i++) {\n            if (nextGreaterLoc == -1 &amp;&amp; arr[loc] &lt; arr[i]) {\n                nextGreaterLoc = i;\n            } else if (nextGreaterLoc &gt; -1 &amp;&amp; arr[loc] &lt; arr[i] &amp;&amp; arr[nextGreaterLoc] &gt; arr[i]) {\n                nextGreaterLoc = i;\n            }\n        }\n        if (nextGreaterLoc == -1) {\n            System.out.println(\"Not found a value bigger than \" + arr[loc] + \" (after location \" + loc + \")\");\n        } else {\n            System.out.println(\"Found a value bigger :\" + arr[nextGreaterLoc] + \" at location \" + nextGreaterLoc + \" bigger than \"\n                    + arr[loc] + \" (after location \" + loc + \")\");\n        }\n        return nextGreaterLoc;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401512,"reputation":47090,"user_id":768110,"accept_rate":77,"display_name":"RiaD"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1469275540,"creation_date":1469262908,"answer_id":38539822,"question_id":38539213,"body_markdown":" To solve it `O(n log n)` you may use `TreeSet` and go from right to left.\r\n\r\n    TreeSet&lt;Integer&gt; set = new TreeSet&lt;Integer&gt;();\r\n    for (int i = ar.length - 1; i &gt;= 0; --i) {\r\n        set.higher(ar[i]); // what you need, may be null\r\n        set.add(ar[i]);\r\n    }","title":"Find the least greater element on the right","body":"<p>To solve it <code>O(n log n)</code> you may use <code>TreeSet</code> and go from right to left.</p>\n\n<pre><code>TreeSet&lt;Integer&gt; set = new TreeSet&lt;Integer&gt;();\nfor (int i = ar.length - 1; i &gt;= 0; --i) {\n    set.higher(ar[i]); // what you need, may be null\n    set.add(ar[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1469269590,"creation_date":1469268496,"answer_id":38540548,"question_id":38539213,"body_markdown":"This is very easy solvable in O(n), just have to look if the number you are currently expecting is between the current solution and the number corresponding to the input, then you can update the solution:\r\n\r\n    public static int getNextIntToTheRight(int[] arr, int index) {\r\n      int ret = Integer.MAX_VALUE; // initialize\r\n      for (int i = index + 1; i &lt; arr.length; i++) // for all items to the right of index\r\n        if (arr[i] &lt; ret &amp;&amp; arr[i] &gt; arr[index]) // if the inspected item is better\r\n          ret = arr[i]; // update on the fly\r\n      return ret; // this is now the solution, if there is any, otherwise Integer.MAX_VALUE\r\n    }","title":"Find the least greater element on the right","body":"<p>This is very easy solvable in O(n), just have to look if the number you are currently expecting is between the current solution and the number corresponding to the input, then you can update the solution:</p>\n\n<pre><code>public static int getNextIntToTheRight(int[] arr, int index) {\n  int ret = Integer.MAX_VALUE; // initialize\n  for (int i = index + 1; i &lt; arr.length; i++) // for all items to the right of index\n    if (arr[i] &lt; ret &amp;&amp; arr[i] &gt; arr[index]) // if the inspected item is better\n      ret = arr[i]; // update on the fly\n  return ret; // this is now the solution, if there is any, otherwise Integer.MAX_VALUE\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4730190,"reputation":1805,"user_id":3826059,"accept_rate":47,"display_name":"Mojtaba Khooryani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585915647,"creation_date":1469268792,"answer_id":38540595,"question_id":38539213,"body_markdown":"use binary search and two-pointer technique. first sort the array, this function returns the index of least greater in `O(log n)` if exist otherwise returns -1\r\n\r\n    int LeasterGreater(int[] a, int value, int left, int right) {\r\n        int low = left;\r\n        int high = right;\r\n        while (low != high) {\r\n            int mid = (low + high) / 2;\r\n            if (a[mid] &lt;= value) {\r\n                low = mid + 1;\r\n            } else {\r\n                high = mid;\r\n            }\r\n        }\r\n        if (low == right) {\r\n            return -1;\r\n        }\r\n        return low;\r\n    }\r\n\r\nexample 1:\r\n\r\n    int[] arr = {8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28};\r\n        Arrays.sort(arr);\r\n        int leastGreaterIndex = LeasterGreater(arr, 58, 0, arr.length);\r\n        if (leastGreaterIndex &gt;= 0) {\r\n            System.out.println(arr[leastGreaterIndex]);\r\n        } else {\r\n            System.out.println(&quot;doesn&#39;t exist!&quot;);\r\n        }\r\n\r\noutput:\r\n\r\n&gt; 63\r\n\r\nexample 2:\r\n\r\n    int[] arr = {8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28};\r\n        Arrays.sort(arr);\r\n        int leastGreaterIndex = LeasterGreater(arr, 93, 0, arr.length);\r\n        if (leastGreaterIndex &gt;= 0) {\r\n            System.out.println(arr[leastGreaterIndex]);\r\n        } else {\r\n            System.out.println(&quot;doesn&#39;t exist!&quot;);\r\n        }\r\n\r\n&gt; doesn&#39;t exist!","title":"Find the least greater element on the right","body":"<p>use binary search and two-pointer technique. first sort the array, this function returns the index of least greater in <code>O(log n)</code> if exist otherwise returns -1</p>\n\n<pre><code>int LeasterGreater(int[] a, int value, int left, int right) {\n    int low = left;\n    int high = right;\n    while (low != high) {\n        int mid = (low + high) / 2;\n        if (a[mid] &lt;= value) {\n            low = mid + 1;\n        } else {\n            high = mid;\n        }\n    }\n    if (low == right) {\n        return -1;\n    }\n    return low;\n}\n</code></pre>\n\n<p>example 1:</p>\n\n<pre><code>int[] arr = {8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28};\n    Arrays.sort(arr);\n    int leastGreaterIndex = LeasterGreater(arr, 58, 0, arr.length);\n    if (leastGreaterIndex &gt;= 0) {\n        System.out.println(arr[leastGreaterIndex]);\n    } else {\n        System.out.println(\"doesn't exist!\");\n    }\n</code></pre>\n\n<p>output:</p>\n\n<blockquote>\n  <p>63</p>\n</blockquote>\n\n<p>example 2:</p>\n\n<pre><code>int[] arr = {8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28};\n    Arrays.sort(arr);\n    int leastGreaterIndex = LeasterGreater(arr, 93, 0, arr.length);\n    if (leastGreaterIndex &gt;= 0) {\n        System.out.println(arr[leastGreaterIndex]);\n    } else {\n        System.out.println(\"doesn't exist!\");\n    }\n</code></pre>\n\n<blockquote>\n  <p>doesn't exist!</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21591231,"reputation":1,"user_id":15920810,"display_name":"HARIPRAKASH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648317439,"creation_date":1648317061,"answer_id":71630481,"question_id":38539213,"body_markdown":"    public class code44 {\r\n    public static void main(String[] args){\r\n        int[] arr = {1,9,7,56,36,91,42};\r\n        int n = arr.length;\r\n        for (int i = 0; i &lt; n; i++) {\r\n            int min = -1;\r\n            for (int j = i + 1; j &lt; n; j++) {\r\n                if (arr[j] &gt; arr[i]) {\r\n                    if (min == -1) {\r\n                        min = arr[j];\r\n                    } else {\r\n                        min = min &gt; arr[j] ? arr[j] : min;\r\n                    }\r\n                }\r\n            }\r\n            arr[i] = min;\r\n        }\r\n        for(int i =0; i &lt; 7; i++)\r\n            System.out.print(arr[i] + &quot; &quot;); \r\n        }\r\n    }\r\n\r\n\r\n(or)\r\n\r\n\r\n    import java.util.Scanner;\r\n \r\n    class code4{\r\n        public static int MAX = 10000;\r\n        public static void main(String[] args){\r\n            Scanner sc = new Scanner(System.in);\r\n            int[] array = {1, 9, 7, 56, 36, 91, 42};\r\n\r\n            for(int i = 0; i &lt; 7; i++){\r\n                int min = MAX;\r\n\r\n                for(int j = i + 1; j &lt; 7; j++){\r\n                    if(array[j] &gt;= array[i] &amp;&amp; min &gt; array[j]){\r\n                        min = array[j];\r\n                    }\r\n                }\r\n                array[i] = min != MAX ? min : -1;\r\n            }\r\n\r\n            printArray(array, 7);\r\n            sc.close();\r\n        }\r\n\r\n        public static void printArray(int[] array, int n){\r\n            for(int i = 0; i &lt; n; i++){\r\n                System.out.print(array[i] + &quot; &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\ninput : 1, 9, 7, 56, 36, 91, 42\r\noutput : 7, 36, 36, 91, 42, -1, -1","title":"Find the least greater element on the right","body":"<pre><code>public class code44 {\npublic static void main(String[] args){\n    int[] arr = {1,9,7,56,36,91,42};\n    int n = arr.length;\n    for (int i = 0; i &lt; n; i++) {\n        int min = -1;\n        for (int j = i + 1; j &lt; n; j++) {\n            if (arr[j] &gt; arr[i]) {\n                if (min == -1) {\n                    min = arr[j];\n                } else {\n                    min = min &gt; arr[j] ? arr[j] : min;\n                }\n            }\n        }\n        arr[i] = min;\n    }\n    for(int i =0; i &lt; 7; i++)\n        System.out.print(arr[i] + &quot; &quot;); \n    }\n}\n</code></pre>\n<p>(or)</p>\n<pre><code>import java.util.Scanner;\n\nclass code4{\n    public static int MAX = 10000;\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        int[] array = {1, 9, 7, 56, 36, 91, 42};\n\n        for(int i = 0; i &lt; 7; i++){\n            int min = MAX;\n\n            for(int j = i + 1; j &lt; 7; j++){\n                if(array[j] &gt;= array[i] &amp;&amp; min &gt; array[j]){\n                    min = array[j];\n                }\n            }\n            array[i] = min != MAX ? min : -1;\n        }\n\n        printArray(array, 7);\n        sc.close();\n    }\n\n    public static void printArray(int[] array, int n){\n        for(int i = 0; i &lt; n; i++){\n            System.out.print(array[i] + &quot; &quot;);\n        }\n    }\n}\n</code></pre>\n<p>input : 1, 9, 7, 56, 36, 91, 42\noutput : 7, 36, 36, 91, 42, -1, -1</p>\n"},{"tags":[],"owner":{"account_id":22976949,"reputation":1,"user_id":17104428,"display_name":"18sit43 Siva"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676105973,"creation_date":1676105973,"answer_id":75419087,"question_id":38539213,"body_markdown":"what if the array is cirular form\r\n\r\nGiven a circular integer array nums .return the next greater number for every element in nums.\r\n\r\n    `Input=[9,1,2,4,3,5,8]\r\n\r\n     Output=[-1,2,3,5,4,8,9]\r\n\r\n    9-&gt;-1 \r\n    1-&gt;2\r\n    2-&gt;3\r\n    4-&gt;5\r\n    3-&gt;4\r\n    5-&gt;8\r\n    8-9\r\n\r\n","title":"Find the least greater element on the right","body":"<p>what if the array is cirular form</p>\n<p>Given a circular integer array nums .return the next greater number for every element in nums.</p>\n<pre><code>`Input=[9,1,2,4,3,5,8]\n\n Output=[-1,2,3,5,4,8,9]\n\n9-&gt;-1 \n1-&gt;2\n2-&gt;3\n4-&gt;5\n3-&gt;4\n5-&gt;8\n8-9\n</code></pre>\n"}],"owner":{"account_id":1282323,"reputation":4466,"user_id":1236153,"accept_rate":86,"display_name":"underdog"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2021,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38539822,"answer_count":8,"score":1,"last_activity_date":1676105973,"creation_date":1469258131,"question_id":38539213,"body_markdown":"I am trying to solve an algorithm wherein I have to find the least greater element on the right of an array                    [reference][1]\r\n\r\nFor an instance in the below array \r\nInput: [8, 58, 71, 18, 31, 32, 63, 92, \r\n         43, 3, 91, 93, 25, 80, 28]\r\n\r\nThe least greater element on the right for the first element 8 is 18, for the second element 58 is 63 &amp; so on. I need help with the logic to solve the algorithm. I intend to first solve with with brute force with a complexity of O(n^2). \r\n\r\nThe code I&#39;ve written till now is below \r\n\r\n    public class Tmp {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tint[] arr = { 8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28 };\r\n\t\tint[] tmpArr = new int[arr.length];\r\n\t\tint pos = 0;\r\n\t\tint k=0;\r\n\t\t\t\t\r\n\t\tfor (int i = 0; i &lt; arr.length-1; i++) { \r\n\t\t\t//int next = arr[i];\r\n\t\t\tfor (int j = i + 1; j &lt; arr.length; j++) {\r\n\t\t\t\tif ((arr[j] &gt; arr[i])) {\r\n\t\t\t\t tmpArr[k]=arr[j]; // take all the values to the right of the element which are greater than it\r\n\t\t\t\t k++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\nI&#39;ve created the second array tmpArr to take all the values on the right of an element which are greater than an it. Probably sort that array then &amp; take the first value. But that logic doesn&#39;t seem ok to me. \r\n\r\nAnother solution can be \r\n\r\n    for (int i = 0; i &lt; arr.length-1; i++) { \r\n    \tint leastGreater = ? //Don&#39;t know what to initialize with\r\n    \t\t\tfor (int j = i + 1; j &lt; arr.length; j++) {\r\n    \t\t\t\tif ((arr[j] &gt; arr[i])) {\r\n                       if(arr[j]&lt;leastGreater){\r\n    \t\t\t\t leastGreater = arr[j];\r\n                      }\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n\r\n\r\nCan anyone help with a simpler solution?\r\n  [1]: http://www.geeksforgeeks.org/replace-every-element-with-the-least-greater-element-on-its-right/\r\n","title":"Find the least greater element on the right","body":"<p>I am trying to solve an algorithm wherein I have to find the least greater element on the right of an array                    <a href=\"http://www.geeksforgeeks.org/replace-every-element-with-the-least-greater-element-on-its-right/\" rel=\"nofollow\">reference</a></p>\n\n<p>For an instance in the below array \nInput: [8, 58, 71, 18, 31, 32, 63, 92, \n         43, 3, 91, 93, 25, 80, 28]</p>\n\n<p>The least greater element on the right for the first element 8 is 18, for the second element 58 is 63 &amp; so on. I need help with the logic to solve the algorithm. I intend to first solve with with brute force with a complexity of O(n^2). </p>\n\n<p>The code I've written till now is below </p>\n\n<pre><code>public class Tmp {\n\npublic static void main(String[] args) {\n\n    int[] arr = { 8, 58, 71, 18, 31, 32, 63, 92, 43, 3, 91, 93, 25, 80, 28 };\n    int[] tmpArr = new int[arr.length];\n    int pos = 0;\n    int k=0;\n\n    for (int i = 0; i &lt; arr.length-1; i++) { \n        //int next = arr[i];\n        for (int j = i + 1; j &lt; arr.length; j++) {\n            if ((arr[j] &gt; arr[i])) {\n             tmpArr[k]=arr[j]; // take all the values to the right of the element which are greater than it\n             k++;\n            }\n        }\n</code></pre>\n\n<p>I've created the second array tmpArr to take all the values on the right of an element which are greater than an it. Probably sort that array then &amp; take the first value. But that logic doesn't seem ok to me. </p>\n\n<p>Another solution can be </p>\n\n<pre><code>for (int i = 0; i &lt; arr.length-1; i++) { \n    int leastGreater = ? //Don't know what to initialize with\n            for (int j = i + 1; j &lt; arr.length; j++) {\n                if ((arr[j] &gt; arr[i])) {\n                   if(arr[j]&lt;leastGreater){\n                 leastGreater = arr[j];\n                  }\n                }\n            }\n</code></pre>\n\n<p>Can anyone help with a simpler solution?</p>\n"},{"tags":["java","eclipse","efxclipse"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676106168,"post_id":75419070,"comment_id":133073990,"body_markdown":"Can you create a normal main class extending `Application` and calling `Application.launch` in the main? Is there anything shown in the Error log view (`Window`&gt;`Show View`&gt;`Error Log`)?","body":"Can you create a normal main class extending <code>Application</code> and calling <code>Application.launch</code> in the main? Is there anything shown in the Error log view (<code>Window</code>&gt;<code>Show View</code>&gt;<code>Error Log</code>)?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1676169232,"post_id":75419070,"comment_id":133083164,"body_markdown":"Sounds like the same cause as https://stackoverflow.com/questions/74758570/cant-create-new-fxml-file-in-eclipse/74758879, but there&#39;s no way to tell without the error log.","body":"Sounds like the same cause as <a href=\"https://stackoverflow.com/questions/74758570/cant-create-new-fxml-file-in-eclipse/74758879\" title=\"cant create new fxml file in eclipse\">stackoverflow.com/questions/74758570/&hellip;</a>, but there&#39;s no way to tell without the error log."},{"owner":{"account_id":8953679,"reputation":33,"user_id":6678860,"display_name":"Walter Taus"},"score":0,"creation_date":1676197435,"post_id":75419070,"comment_id":133085644,"body_markdown":"@nitind The error log shows: Unhandled event loop exception (org.eclipse.ui)","body":"@nitind The error log shows: Unhandled event loop exception (org.eclipse.ui)"},{"owner":{"account_id":8953679,"reputation":33,"user_id":6678860,"display_name":"Walter Taus"},"score":0,"creation_date":1676197565,"post_id":75419070,"comment_id":133085661,"body_markdown":"@dan1st: creating  a normal main class and turning it into extends Application does work without a problem","body":"@dan1st: creating  a normal main class and turning it into extends Application does work without a problem"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676197721,"post_id":75419070,"comment_id":133085686,"body_markdown":"Can you show the full stack trace from the error log? Until this problem is resolved, just work around it by creating a normal main class inheriting from `Application`.","body":"Can you show the full stack trace from the error log? Until this problem is resolved, just work around it by creating a normal main class inheriting from <code>Application</code>."},{"owner":{"account_id":8953679,"reputation":33,"user_id":6678860,"display_name":"Walter Taus"},"score":0,"creation_date":1676198704,"post_id":75419070,"comment_id":133085827,"body_markdown":"@nitind I just tried with Eclipse 2023-03 M2. The problem is still there","body":"@nitind I just tried with Eclipse 2023-03 M2. The problem is still there"},{"owner":{"account_id":8953679,"reputation":33,"user_id":6678860,"display_name":"Walter Taus"},"score":0,"creation_date":1676199161,"post_id":75419070,"comment_id":133085898,"body_markdown":"@dan1st eclipse.buildId=4.26.0.20221201-1200\njava.version=17.0.6\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=de_DE\nFramework arguments:  -product org.eclipse.epp.package.jee.product\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product\n\norg.eclipse.ui\nError\nSun Feb 12 11:47:39 CET 2023\nUnhandled event loop exception\n\njava.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties","body":"@dan1st eclipse.buildId=4.26.0.20221201-1200 java.version=17.0.6 java.vendor=Eclipse Adoptium BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=de_DE Framework arguments:  -product org.eclipse.epp.package.jee.product Command-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product  org.eclipse.ui Error Sun Feb 12 11:47:39 CET 2023 Unhandled event loop exception  java.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676212989,"post_id":75419070,"comment_id":133088028,"body_markdown":"That class [has been removed in 2022](https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Fguide%2Feditors_actions.htm&amp;cp%3D2_0_13_8). Try updating e(fx)clipse if it is fixed on their side.","body":"That class <a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Fguide%2Feditors_actions.htm&amp;cp%3D2_0_13_8\" rel=\"nofollow noreferrer\">has been removed in 2022</a>. Try updating e(fx)clipse if it is fixed on their side."}],"owner":{"account_id":8953679,"reputation":33,"user_id":6678860,"display_name":"Walter Taus"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676295020,"answer_count":0,"score":0,"last_activity_date":1676105780,"creation_date":1676105780,"question_id":75419070,"body_markdown":"I installed Eclipse jee 2022-12 and then installed from the Marketplace e(fx)clipse 3.8.0. I am unable to create a JavaFX Main class. I use the package explorer and then New -&gt; Other -&gt; JavaFX -&gt; Classes -&gt; JavaFX Main class. When I press the Next button, nothing happens - the window where I could enter the name of the class is not displayed. I am using Windows 10 and I tried this on two different systems - with the same result.\r\nThe same process works perfectly fine when using Eclipse jee 2022-09\r\nThanks\r\nWalter Taus","title":"Eclipse jee 2022-12 and e(fx)clipse 3.8.0","body":"<p>I installed Eclipse jee 2022-12 and then installed from the Marketplace e(fx)clipse 3.8.0. I am unable to create a JavaFX Main class. I use the package explorer and then New -&gt; Other -&gt; JavaFX -&gt; Classes -&gt; JavaFX Main class. When I press the Next button, nothing happens - the window where I could enter the name of the class is not displayed. I am using Windows 10 and I tried this on two different systems - with the same result.\nThe same process works perfectly fine when using Eclipse jee 2022-09\nThanks\nWalter Taus</p>\n"},{"tags":["java","gson","kotlin","json-deserialization"],"comments":[{"owner":{"account_id":2273196,"reputation":1734,"user_id":2000099,"accept_rate":56,"display_name":"vmtrue"},"score":0,"creation_date":1510655767,"post_id":47283216,"comment_id":81517054,"body_markdown":"Have you tired https://github.com/SalomonBrys/Kotson?","body":"Have you tired <a href=\"https://github.com/SalomonBrys/Kotson\" rel=\"nofollow noreferrer\">github.com/SalomonBrys/Kotson</a>?"},{"owner":{"account_id":4118423,"reputation":9783,"user_id":3379437,"accept_rate":72,"display_name":"Beloo"},"score":0,"creation_date":1510655876,"post_id":47283216,"comment_id":81517125,"body_markdown":"@fisher3421 No, i haven&#39;t. Does this library have a solution for this? And if possible i want to avoid additional dependency","body":"@fisher3421 No, i haven&#39;t. Does this library have a solution for this? And if possible i want to avoid additional dependency"}],"answers":[{"tags":[],"owner":{"account_id":5044456,"reputation":1228,"user_id":4050911,"display_name":"osipxd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1510655514,"creation_date":1510655514,"answer_id":47283411,"question_id":47283216,"body_markdown":"You can use custom `JsonDeserializer` that will validate fields annotated by something like `@RequiredField` and automatically throw exception if it is null.\r\n\r\nHow to do it you can find here: https://stackoverflow.com/questions/21626690/gson-optional-and-required-fields","title":"Null-safe network response using Gson and Kotlin","body":"<p>You can use custom <code>JsonDeserializer</code> that will validate fields annotated by something like <code>@RequiredField</code> and automatically throw exception if it is null.</p>\n\n<p>How to do it you can find here: <a href=\"https://stackoverflow.com/questions/21626690/gson-optional-and-required-fields\">Gson optional and required fields</a></p>\n"}],"owner":{"account_id":4118423,"reputation":9783,"user_id":3379437,"accept_rate":72,"display_name":"Beloo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2545,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":47283411,"answer_count":1,"score":3,"last_activity_date":1676105512,"creation_date":1510654961,"question_id":47283216,"body_markdown":"Assuming you have such data-class pojo, which represents typical gson-based representation of a response which comes from a server.\r\n\r\n    data class User(\r\n            @field:SerializedName(&quot;id&quot;)\r\n            val id: String,\r\n            @field:SerializedName(&quot;name&quot;)\r\n            val name: String,\r\n            @field:SerializedName(&quot;user_phone&quot;)\r\n            val phone: String?)\r\n\r\n**id** and **name** fields are required, **phone** field is optional    \r\nSo the appropriate json this model expects, for example:\r\n\r\n    {\r\n       &quot;id&quot;: &quot;someHash&quot;,\r\n       &quot;name&quot;: &quot;John Snow&quot;\r\n    }\r\n\r\nSometimes server  can send json like: \r\n\r\n    {\r\n       &quot;id&quot;: &quot;someHash&quot;      \r\n    }\r\n\r\nUnfortunately such json is parsed successfully without any error, because gson uses *unsafe reflection* and was written for java. So as a result there will be corrupted kotlin model with **null** stored in **non-null** field\r\n\r\nI want to provide validation for this model on the json-deserialization layer, because it is better to receive an error right there, not in any other part of application, which expects non-null field.    \r\nAnd i&#39;m looking for any consize solution for this problem.    \r\n\r\nOf course you can provide some explicit validation function for each model like\r\n\r\n    fun User.validate() {\r\n        if (id == null) throw JsonParseException(&quot;&#39;id&#39; is null!&quot;)\r\n        if (name == null) throw JsonParseException(&quot;&#39;name&#39; is null!&quot;)\r\n    }\r\nand call it by hand in any place but it produces a lot boilerplate code, which we always try to avoid. And also ide warns this as it thinks unnecessary null checking\r\n","title":"Null-safe network response using Gson and Kotlin","body":"<p>Assuming you have such data-class pojo, which represents typical gson-based representation of a response which comes from a server.</p>\n<pre><code>data class User(\n        @field:SerializedName(&quot;id&quot;)\n        val id: String,\n        @field:SerializedName(&quot;name&quot;)\n        val name: String,\n        @field:SerializedName(&quot;user_phone&quot;)\n        val phone: String?)\n</code></pre>\n<p><strong>id</strong> and <strong>name</strong> fields are required, <strong>phone</strong> field is optional<br />\nSo the appropriate json this model expects, for example:</p>\n<pre><code>{\n   &quot;id&quot;: &quot;someHash&quot;,\n   &quot;name&quot;: &quot;John Snow&quot;\n}\n</code></pre>\n<p>Sometimes server  can send json like:</p>\n<pre><code>{\n   &quot;id&quot;: &quot;someHash&quot;      \n}\n</code></pre>\n<p>Unfortunately such json is parsed successfully without any error, because gson uses <em>unsafe reflection</em> and was written for java. So as a result there will be corrupted kotlin model with <strong>null</strong> stored in <strong>non-null</strong> field</p>\n<p>I want to provide validation for this model on the json-deserialization layer, because it is better to receive an error right there, not in any other part of application, which expects non-null field.<br />\nAnd i'm looking for any consize solution for this problem.</p>\n<p>Of course you can provide some explicit validation function for each model like</p>\n<pre><code>fun User.validate() {\n    if (id == null) throw JsonParseException(&quot;'id' is null!&quot;)\n    if (name == null) throw JsonParseException(&quot;'name' is null!&quot;)\n}\n</code></pre>\n<p>and call it by hand in any place but it produces a lot boilerplate code, which we always try to avoid. And also ide warns this as it thinks unnecessary null checking</p>\n"},{"tags":["java","android","flutter","gradle"],"answers":[{"tags":[],"owner":{"account_id":8133754,"reputation":662,"user_id":6126100,"display_name":"tn2000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676104481,"creation_date":1676104481,"answer_id":75418976,"question_id":73679588,"body_markdown":"Try to create a new flutter project and copy the files from the current project.","title":"Execution failed for ExtractAarTransform. ZipException, message: invalid entry CRC gradle","body":"<p>Try to create a new flutter project and copy the files from the current project.</p>\n"}],"owner":{"account_id":18064682,"reputation":36,"user_id":13130926,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676104481,"creation_date":1662902248,"question_id":73679588,"body_markdown":"I used to work with Flutter v2.8 as much as I expected. because of the Firebase, I had to update flutter to v3 to get it to work.\r\nAfter updating Flutter to v3, flutter said, &quot;You have to get JDK version 11 or newer&quot;. I got confused why it was saying that because &quot;flutter.dev&quot; has mentioned the appropriate version of JDK for flutter is 8 so far!\r\n\r\nI updated my JDK to 11 then, I got these weird errors that I&#39;ve never had before! every time that I run or build an app it says something like the following pictures:\r\n[![failed to load image][1]][1]\r\n\r\n\r\n[![failed to load image][2]][2]\r\n\r\n\r\n\r\nI created this project by using this command: `flutter create projectName`\r\n\r\nFlutter doctor:\r\n```\r\n[✓] Flutter (Channel stable, 3.3.0, on Arch Linux 5.17.4-arch1-1, locale en_US.UTF-8)\r\n    • Flutter version 3.3.0 on channel stable at /home/john/Android/Flutter/flutter\r\n    • Upstream repository https://github.com/flutter/flutter.git\r\n    • Framework revision ffccd96b62 (10 days ago), 2022-08-29 17:28:57 -0700\r\n    • Engine revision 5e9e0e0aa8\r\n    • Dart version 2.10\r\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\r\n    • Android SDK at /home/john/Android/Android/android-sdk\r\n    • Platform android-33, build-tools 33.0.0\r\n    • ANDROID_HOME = /home/john/Android/Android/android-sdk\r\n    • Java binary at: /usr/bin/java\r\n    • Java version OpenJDK Runtime Environment (build 11.0.15+10)\r\n    • All Android licenses accepted\r\n\r\n[✗] Chrome - develop for the web (Cannot find Chrome executable at google-chrome)\r\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\r\n\r\n[✓] Linux toolchain - develop for Linux desktop\r\n    • clang version 13.0.1\r\n    • cmake version 3.23.1\r\n    • ninja version 1.10.2\r\n    • pkg-config version 1.8.0\r\n\r\n[!] Android Studio (not installed)\r\n    • Android Studio not found; download from https://developer.android.com/studio/index.html\r\n      (or visit https://flutter.dev/docs/get-started/install/linux#android-setup for detailed instructions).\r\n\r\n[✓] IntelliJ IDEA Community Edition (version 2021.3)\r\n    • IntelliJ at /usr/share/idea\r\n    • Flutter plugin version 70.0.3\r\n    • Dart plugin version 213.5744.122\r\n\r\n[✓] Connected device (1 available)\r\n    • Linux (desktop) • linux • linux-x64 • Arch Linux 5.17.4-arch1-1\r\n\r\n[✓] HTTP Host Availability\r\n    • All required HTTP hosts are available\r\n\r\n! Doctor found issues in 2 categories.\r\n```\r\n\r\nI&#39;ve tried to delete ~/.gradle/cache all the time. but cannot produce an .apk app.\r\ntried to downgrade flutter to version 2.8 but again still have the error.\r\nfor more information [see this GitHub link][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bxhYl.png\r\n  [2]: https://i.stack.imgur.com/pHu8g.png\r\n\r\n(I created this project by using this command: `flutter create projectName`)\r\n\r\n\r\n  [3]: https://github.com/flutter/flutter/issues/111256","title":"Execution failed for ExtractAarTransform. ZipException, message: invalid entry CRC gradle","body":"<p>I used to work with Flutter v2.8 as much as I expected. because of the Firebase, I had to update flutter to v3 to get it to work.\nAfter updating Flutter to v3, flutter said, &quot;You have to get JDK version 11 or newer&quot;. I got confused why it was saying that because &quot;flutter.dev&quot; has mentioned the appropriate version of JDK for flutter is 8 so far!</p>\n<p>I updated my JDK to 11 then, I got these weird errors that I've never had before! every time that I run or build an app it says something like the following pictures:\n<a href=\"https://i.stack.imgur.com/bxhYl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bxhYl.png\" alt=\"failed to load image\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/pHu8g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pHu8g.png\" alt=\"failed to load image\" /></a></p>\n<p>I created this project by using this command: <code>flutter create projectName</code></p>\n<p>Flutter doctor:</p>\n<pre><code>[✓] Flutter (Channel stable, 3.3.0, on Arch Linux 5.17.4-arch1-1, locale en_US.UTF-8)\n    • Flutter version 3.3.0 on channel stable at /home/john/Android/Flutter/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision ffccd96b62 (10 days ago), 2022-08-29 17:28:57 -0700\n    • Engine revision 5e9e0e0aa8\n    • Dart version 2.10\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\n    • Android SDK at /home/john/Android/Android/android-sdk\n    • Platform android-33, build-tools 33.0.0\n    • ANDROID_HOME = /home/john/Android/Android/android-sdk\n    • Java binary at: /usr/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.15+10)\n    • All Android licenses accepted\n\n[✗] Chrome - develop for the web (Cannot find Chrome executable at google-chrome)\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n\n[✓] Linux toolchain - develop for Linux desktop\n    • clang version 13.0.1\n    • cmake version 3.23.1\n    • ninja version 1.10.2\n    • pkg-config version 1.8.0\n\n[!] Android Studio (not installed)\n    • Android Studio not found; download from https://developer.android.com/studio/index.html\n      (or visit https://flutter.dev/docs/get-started/install/linux#android-setup for detailed instructions).\n\n[✓] IntelliJ IDEA Community Edition (version 2021.3)\n    • IntelliJ at /usr/share/idea\n    • Flutter plugin version 70.0.3\n    • Dart plugin version 213.5744.122\n\n[✓] Connected device (1 available)\n    • Linux (desktop) • linux • linux-x64 • Arch Linux 5.17.4-arch1-1\n\n[✓] HTTP Host Availability\n    • All required HTTP hosts are available\n\n! Doctor found issues in 2 categories.\n</code></pre>\n<p>I've tried to delete ~/.gradle/cache all the time. but cannot produce an .apk app.\ntried to downgrade flutter to version 2.8 but again still have the error.\nfor more information <a href=\"https://github.com/flutter/flutter/issues/111256\" rel=\"nofollow noreferrer\">see this GitHub link</a></p>\n<p>(I created this project by using this command: <code>flutter create projectName</code>)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1167770,"reputation":33137,"user_id":1145666,"accept_rate":75,"display_name":"Bart Friederichs"},"score":1,"creation_date":1530103462,"post_id":51063096,"comment_id":89116025,"body_markdown":"&quot;without using loops,bit wise operators,logical operators,if-else,switch-case or ternary operators&quot;. So without programming....","body":"&quot;without using loops,bit wise operators,logical operators,if-else,switch-case or ternary operators&quot;. So without programming...."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1530103493,"post_id":51063096,"comment_id":89116046,"body_markdown":"do you mean you are looking for a build-in method or a library to do that? Because  it seems you want to write code without code","body":"do you mean you are looking for a build-in method or a library to do that? Because  it seems you want to write code without code"},{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":4,"creation_date":1530103519,"post_id":51063096,"comment_id":89116070,"body_markdown":"`x = 1 - x`. The `If input is not 0 or 1 then print &quot;error&quot;` part is hard to do without any branching though...","body":"<code>x = 1 - x</code>. The <code>If input is not 0 or 1 then print &quot;error&quot;</code> part is hard to do without any branching though..."},{"owner":{"account_id":11147483,"reputation":1772,"user_id":8181750,"display_name":"L.Spillner"},"score":0,"creation_date":1530104081,"post_id":51063096,"comment_id":89116476,"body_markdown":"Okay I cannot hold back my curiosity.... **Why** would you not use all these wonderful tools?","body":"Okay I cannot hold back my curiosity.... <b>Why</b> would you not use all these wonderful tools?"},{"owner":{"account_id":1167770,"reputation":33137,"user_id":1145666,"accept_rate":75,"display_name":"Bart Friederichs"},"score":1,"creation_date":1530104238,"post_id":51063096,"comment_id":89116589,"body_markdown":"@L.Spillner probably a homework puzzle.","body":"@L.Spillner probably a homework puzzle."},{"owner":{"account_id":9455170,"reputation":1235,"user_id":7030705,"display_name":"Carrol"},"score":0,"creation_date":1571476406,"post_id":51063096,"comment_id":103260123,"body_markdown":"Possible duplicate of [Most elegant way to change 0 to 1 and vice versa](https://stackoverflow.com/questions/2411023/most-elegant-way-to-change-0-to-1-and-vice-versa)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/2411023/most-elegant-way-to-change-0-to-1-and-vice-versa\">Most elegant way to change 0 to 1 and vice versa</a>"}],"answers":[{"tags":[],"owner":{"account_id":2155038,"reputation":2751,"user_id":1910483,"accept_rate":25,"display_name":"Michel_T."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530103651,"creation_date":1530103651,"answer_id":51063203,"question_id":51063096,"body_markdown":"Well, just flip values is simple:\r\n\r\n    int i = 0;\r\n    i = (i + 1) % 2;\r\n    System.out.println(i); // prints 1\r\n    i = (i + 1) % 2;\r\n    System.out.println(i);  // prints 0\r\n\r\nI don&#39;t know how about &quot;error&quot;","title":"Java code to flip 0 to 1","body":"<p>Well, just flip values is simple:</p>\n\n<pre><code>int i = 0;\ni = (i + 1) % 2;\nSystem.out.println(i); // prints 1\ni = (i + 1) % 2;\nSystem.out.println(i);  // prints 0\n</code></pre>\n\n<p>I don't know how about \"error\"</p>\n"},{"tags":[],"owner":{"account_id":1167770,"reputation":33137,"user_id":1145666,"accept_rate":75,"display_name":"Bart Friederichs"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1530103853,"creation_date":1530103749,"answer_id":51063238,"question_id":51063096,"body_markdown":"some pseudocode, &quot;without using loops,bit wise operators,logical operators,if-else,switch-case or ternary operators&quot; :\r\n\r\n    int[] s = { 1, 0 }\r\n    \r\n    try {\r\n      x = s[x];\r\n    catch (OutofBoundsException) {\r\n      print &quot;error&quot;;\r\n    }\r\n\r\n","title":"Java code to flip 0 to 1","body":"<p>some pseudocode, \"without using loops,bit wise operators,logical operators,if-else,switch-case or ternary operators\" :</p>\n\n<pre><code>int[] s = { 1, 0 }\n\ntry {\n  x = s[x];\ncatch (OutofBoundsException) {\n  print \"error\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530104366,"creation_date":1530104366,"answer_id":51063444,"question_id":51063096,"body_markdown":"Here&#39;s another solution using different exception:\r\n\r\n    public static void checkX (int x) {\r\n        String message = &quot;error&quot;;\r\n        try {\r\n            int y = 1/x;\r\n            y = 1/(x-1);\r\n        }\r\n        catch (ArithmeticException exc) {\r\n            x = 1 - x;\r\n            message = Integer.toString (x);\r\n        }\r\n        System.out.println(message);\r\n    }\r\n\r\nTesting:\r\n\r\n    checkX(1);\r\n    checkX(0);\r\n    checkX(5);\r\n\r\nOutput:\r\n\r\n    0\r\n    1\r\n    error","title":"Java code to flip 0 to 1","body":"<p>Here's another solution using different exception:</p>\n\n<pre><code>public static void checkX (int x) {\n    String message = \"error\";\n    try {\n        int y = 1/x;\n        y = 1/(x-1);\n    }\n    catch (ArithmeticException exc) {\n        x = 1 - x;\n        message = Integer.toString (x);\n    }\n    System.out.println(message);\n}\n</code></pre>\n\n<p>Testing:</p>\n\n<pre><code>checkX(1);\ncheckX(0);\ncheckX(5);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0\n1\nerror\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21336473,"reputation":41,"user_id":15707639,"display_name":"Agiltrue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676103435,"creation_date":1676103435,"answer_id":75418904,"question_id":51063096,"body_markdown":"You could just use `x = 1 - x` as it has already been mentioned in comments.\r\n\r\nIt&#39;s clear to see that:\r\n- `1 - 0` gives `1`\r\n- `1 - 1` gives `0`\r\n\r\nWhich could be simply used as flip :)","title":"Java code to flip 0 to 1","body":"<p>You could just use <code>x = 1 - x</code> as it has already been mentioned in comments.</p>\n<p>It's clear to see that:</p>\n<ul>\n<li><code>1 - 0</code> gives <code>1</code></li>\n<li><code>1 - 1</code> gives <code>0</code></li>\n</ul>\n<p>Which could be simply used as flip :)</p>\n"}],"owner":{"account_id":5416204,"reputation":13,"user_id":4311283,"display_name":"Surbhi Singh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":6,"up_vote_count":2,"accepted_answer_id":51063238,"answer_count":4,"score":-4,"last_activity_date":1676103435,"creation_date":1530103371,"question_id":51063096,"body_markdown":" How to write a java code to flip 0 to 1 and vise versa without using loops,bit wise operators,logical operators,if-else,switch-case or ternary operators. If input is not 0 or 1 then print &quot;error&quot;\r\n\r\n","title":"Java code to flip 0 to 1","body":"<p>How to write a java code to flip 0 to 1 and vise versa without using loops,bit wise operators,logical operators,if-else,switch-case or ternary operators. If input is not 0 or 1 then print \"error\"</p>\n"},{"tags":["python","java","postgresql","apache-flink","pyflink"],"comments":[{"owner":{"account_id":3597044,"reputation":169,"user_id":3001411,"display_name":"Raghavendar"},"score":0,"creation_date":1676014148,"post_id":75018833,"comment_id":133055314,"body_markdown":"How did you patch PostgresTypeMapper.java? I tried to duplicate flink-connector-jdbc jar as a separate maven project. But I am facing many dependency issues.","body":"How did you patch PostgresTypeMapper.java? I tried to duplicate flink-connector-jdbc jar as a separate maven project. But I am facing many dependency issues."},{"owner":{"account_id":4204909,"reputation":987,"user_id":3444107,"accept_rate":50,"display_name":"Sami Badawi"},"score":0,"creation_date":1676103266,"post_id":75018833,"comment_id":133073650,"body_markdown":"Hi @Raghavendar, I could not really write code in comment so added patching details to question.","body":"Hi @Raghavendar, I could not really write code in comment so added patching details to question."}],"owner":{"account_id":4204909,"reputation":987,"user_id":3444107,"accept_rate":50,"display_name":"Sami Badawi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676103178,"creation_date":1672923732,"question_id":75018833,"body_markdown":"I am using PyFlink 1.16 and flink-connector-jdbc-1.16.0.jar to query Postgres table with a jsonb column\r\n\r\n    sql = &quot;SELECT entity_id FROM event_files&quot;\r\n    table2 = table_env.sql_query(sql)\r\n    table2.execute().print()\r\n\r\nIt failed with this error:\r\n\r\n```\r\nCaused by: java.lang.UnsupportedOperationException: Doesn&#39;t support Postgres type &#39;jsonb&#39; yet\r\n\tat org.apache.flink.connector.jdbc.dialect.psql.PostgresTypeMapper.mapping(PostgresTypeMapper.java:173)\r\n```\r\n\r\nI get this error despite not using the jsonb column.\r\n\r\n\r\nI patched PostgresTypeMapper.java to map `jsonb` to `varchar`. Now the above code is working. But I want to query by jsonb column, payload. So I tried to cast it to varchar a column, P1:\r\n\r\n    sql = &quot;SELECT entity_id, CAST(payload AS varchar) AS P1 FROM event_files&quot;\r\n    table2 = table_env.sql_query(sql)\r\n    table2.execute().print()\r\n\r\nbut that fails with:\r\n\r\n```\r\nCaused by: java.lang.ClassCastException: class org.postgresql.util.PGobject cannot be cast to class java.lang.String (org.postgresql.util.PGobject is in unnamed module of loader org.apache.flink.util.ChildFirstClassLoader @38c50913; java.lang.String is in module java.base of loader &#39;bootstrap&#39;)\r\n\tat org.apache.flink.connector.jdbc.converter.AbstractJdbcRowConverter.lambda$createInternalConverter$224afae6$10(AbstractJdbcRowConverter.java:176)\r\n```\r\n\r\nI have been trying to find ways around this including creating a view from event_files, but nothing has worked so far.\r\n\r\n### Details on patching flink-connector-jdbc\r\n\r\nCloned the flink-connector-jdbc project from GitHub and add a few lines to flink-connector-jdbc/src/main/java/org/apache/flink/connector/jdbc/dialect/psql/PostgresTypeMapper.java:\r\n\r\n```java\r\n    private static final String PG_CHARACTER_VARYING_ARRAY = &quot;_varchar&quot;;\r\n    private static final String PG_JSONB = &quot;jsonb&quot;;\r\n\r\n            case PG_DATE_ARRAY:\r\n                return DataTypes.ARRAY(DataTypes.DATE());\r\n            case PG_JSONB:\r\n                return DataTypes.STRING();\r\n```\r\n\r\nI build it with Maven.","title":"Flink Postgres query to jsonb column gives jdbc failure","body":"<p>I am using PyFlink 1.16 and flink-connector-jdbc-1.16.0.jar to query Postgres table with a jsonb column</p>\n<pre><code>sql = &quot;SELECT entity_id FROM event_files&quot;\ntable2 = table_env.sql_query(sql)\ntable2.execute().print()\n</code></pre>\n<p>It failed with this error:</p>\n<pre><code>Caused by: java.lang.UnsupportedOperationException: Doesn't support Postgres type 'jsonb' yet\n    at org.apache.flink.connector.jdbc.dialect.psql.PostgresTypeMapper.mapping(PostgresTypeMapper.java:173)\n</code></pre>\n<p>I get this error despite not using the jsonb column.</p>\n<p>I patched PostgresTypeMapper.java to map <code>jsonb</code> to <code>varchar</code>. Now the above code is working. But I want to query by jsonb column, payload. So I tried to cast it to varchar a column, P1:</p>\n<pre><code>sql = &quot;SELECT entity_id, CAST(payload AS varchar) AS P1 FROM event_files&quot;\ntable2 = table_env.sql_query(sql)\ntable2.execute().print()\n</code></pre>\n<p>but that fails with:</p>\n<pre><code>Caused by: java.lang.ClassCastException: class org.postgresql.util.PGobject cannot be cast to class java.lang.String (org.postgresql.util.PGobject is in unnamed module of loader org.apache.flink.util.ChildFirstClassLoader @38c50913; java.lang.String is in module java.base of loader 'bootstrap')\n    at org.apache.flink.connector.jdbc.converter.AbstractJdbcRowConverter.lambda$createInternalConverter$224afae6$10(AbstractJdbcRowConverter.java:176)\n</code></pre>\n<p>I have been trying to find ways around this including creating a view from event_files, but nothing has worked so far.</p>\n<h3>Details on patching flink-connector-jdbc</h3>\n<p>Cloned the flink-connector-jdbc project from GitHub and add a few lines to flink-connector-jdbc/src/main/java/org/apache/flink/connector/jdbc/dialect/psql/PostgresTypeMapper.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final String PG_CHARACTER_VARYING_ARRAY = &quot;_varchar&quot;;\n    private static final String PG_JSONB = &quot;jsonb&quot;;\n\n            case PG_DATE_ARRAY:\n                return DataTypes.ARRAY(DataTypes.DATE());\n            case PG_JSONB:\n                return DataTypes.STRING();\n</code></pre>\n<p>I build it with Maven.</p>\n"},{"tags":["java","spring-boot","mongodb-query"],"owner":{"account_id":9371512,"reputation":1243,"user_id":8958651,"accept_rate":10,"display_name":"Jonio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676103101,"creation_date":1676100194,"question_id":75418694,"body_markdown":"What is the best approach, giving more of these documents in my Mongo collection, to return a result that for each name in Tokio city contains the number of each name has logged via Google and Facebook, and how many times gived the consent as true or false ?\r\n\r\n    class User{\r\n    \tprivate String name;\r\n    \tprivate String city;\r\n    \tprivate String login; //can be only Google or Facebook\r\n    \tprivate Boolean consent // true or false\r\n    \r\n    }\r\n\r\nResult can be an array of these object like :\r\n\r\n    {\r\n        &quot;name&quot;: &quot;Paul&quot;,\r\n        &quot;registration&quot;: {\r\n          &quot;Google&quot;: 55,\r\n          &quot;Facebook&quot;: 22\r\n        },\r\n        &quot;consent&quot;: {\r\n          &quot;true&quot;: 6,\r\n          &quot;false&quot;: 1\r\n        }\r\n      }\r\n\r\nAnd I&#39;m approaching with :\r\n\r\n        Aggregation aggregation = Aggregation.newAggregation(\r\n                Aggregation.match(Criteria.where(&quot;city&quot;).is(&quot;Tokio&quot;)),\r\n                Aggregation.group // how build here\r\n        );\r\n        AggregationResults&lt;Result&gt; res = mongoTemplate.aggregate(aggregation, &quot;event&quot;, Result.class);\r\n\r\nWhat&#39;s the best way to make group and count?\r\n","title":"Group and count MongoDB java spring aggregation","body":"<p>What is the best approach, giving more of these documents in my Mongo collection, to return a result that for each name in Tokio city contains the number of each name has logged via Google and Facebook, and how many times gived the consent as true or false ?</p>\n<pre><code>class User{\n    private String name;\n    private String city;\n    private String login; //can be only Google or Facebook\n    private Boolean consent // true or false\n\n}\n</code></pre>\n<p>Result can be an array of these object like :</p>\n<pre><code>{\n    &quot;name&quot;: &quot;Paul&quot;,\n    &quot;registration&quot;: {\n      &quot;Google&quot;: 55,\n      &quot;Facebook&quot;: 22\n    },\n    &quot;consent&quot;: {\n      &quot;true&quot;: 6,\n      &quot;false&quot;: 1\n    }\n  }\n</code></pre>\n<p>And I'm approaching with :</p>\n<pre><code>    Aggregation aggregation = Aggregation.newAggregation(\n            Aggregation.match(Criteria.where(&quot;city&quot;).is(&quot;Tokio&quot;)),\n            Aggregation.group // how build here\n    );\n    AggregationResults&lt;Result&gt; res = mongoTemplate.aggregate(aggregation, &quot;event&quot;, Result.class);\n</code></pre>\n<p>What's the best way to make group and count?</p>\n"},{"tags":["java","elasticsearch","nexus","orientdb","nexus3"],"comments":[{"owner":{"account_id":3471610,"reputation":15218,"user_id":2905768,"accept_rate":80,"display_name":"PMF"},"score":0,"creation_date":1676105497,"post_id":75418864,"comment_id":133073912,"body_markdown":"How much time does it take before you get these problems?","body":"How much time does it take before you get these problems?"},{"owner":{"account_id":2488420,"reputation":5122,"user_id":2166420,"display_name":"rseddon"},"score":2,"creation_date":1676246979,"post_id":75418864,"comment_id":133093724,"body_markdown":"Have you tried upgrading? Version 3.4.0 is very old, there have been over 40 releases since that came out.","body":"Have you tried upgrading? Version 3.4.0 is very old, there have been over 40 releases since that came out."}],"owner":{"account_id":27758697,"reputation":11,"user_id":21191566,"display_name":"buildwithjz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676103022,"creation_date":1676103022,"question_id":75418864,"body_markdown":"We&#39;ve encountered a sudden issue with our Nexus Repository Manager OSS 3.4.0 server running on a VM. The nexus UI, docker pulls/pushes all began timing out. Initial logs indicated a JVM OOM during garbage collection, which we attempted to address with a nexus service restart.\r\n\r\nFollowing this, each restart of both the nexus service and the VM itself allowed a few minutes of normality until users started experiencing timeouts once again.\r\n\r\nEach time, we observed errors from `org.elasticsearch.monitor.jvm`, implying there is a memory leak somewhere\r\n\r\n```\r\n-------------------------------------------------\r\n\r\nStarted Sonatype Nexus OSS 3.4.0-02\r\n\r\n-------------------------------------------------\r\n2023-02-11 05:43:43,849+0000 INFO  [jetty-main-1] *SYSTEM org.eclipse.jetty.server.ServerConnector - Started ServerConnector@222517ad{SSL,[ssl, http/1.1]}{0.0.0.0:8082}\r\n2023-02-11 05:43:43,850+0000 INFO  [jetty-main-1] *SYSTEM org.eclipse.jetty.server.ServerConnector - Started ServerConnector@6aa47140{SSL,[ssl, http/1.1]}{0.0.0.0:8083}\r\n2023-02-11 05:43:47,997+0000 INFO  [quartz-2-thread-2] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task &#39;Health Check: maven-central&#39; [healthcheck] state change WAITING -&gt; RUNNING\r\n2023-02-11 05:43:49,377+0000 INFO  [quartz-2-thread-2] *SYSTEM org.sonatype.nexus.scheduling.internal.TaskSchedulerImpl - Task &#39;Health Check: maven-central&#39; [healthcheck] scheduled: hourly\r\n2023-02-11 05:43:49,381+0000 INFO  [quartz-2-thread-2] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task &#39;Health Check: maven-central&#39; [healthcheck] state change RUNNING -&gt; WAITING (OK)\r\n2023-02-11 05:46:09,341+0000 INFO  [qtp1622059521-199] *UNKNOWN org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Enabling session validation scheduler...\r\n2023-02-11 05:46:09,353+0000 INFO  [qtp1622059521-199] *UNKNOWN org.sonatype.nexus.internal.security.anonymous.AnonymousManagerImpl - Loaded configuration: AnonymousConfiguration{enabled=true, userId=&#39;anonymous&#39;, realmName=&#39;NexusAuthenticatingRealm&#39;}\r\n2023-02-11 05:47:33,161+0000 INFO  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][young][215][270] duration [708ms], collections [1]/[1.2s], total [708ms]/[1.9m], memory [8gb]-&gt;[7.8gb]/[12gb], all_pools {[young] [0b]-&gt;[4mb]/[0b]}{[survivor] [56mb]-&gt;[60mb]/[0b]}{[old] [7.9gb]-&gt;[7.7gb]/[12gb]}\r\n2023-02-11 05:47:34,426+0000 INFO  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][young][216][271] duration [727ms], collections [1]/[1.2s], total [727ms]/[1.9m], memory [7.8gb]-&gt;[7.7gb]/[12gb], all_pools {[young] [4mb]-&gt;[0b]/[0b]}{[survivor] [60mb]-&gt;[60mb]/[0b]}{[old] [7.7gb]-&gt;[7.6gb]/[12gb]}\r\n2023-02-11 05:50:02,078+0000 WARN  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][old][331][1] duration [29.1s], collections [1]/[30.9s], total [29.1s]/[29.1s], memory [11.4gb]-&gt;[9.1gb]/[12gb], all_pools {[young] [0b]-&gt;[4mb]/[0b]}{[survivor] [32mb]-&gt;[0b]/[0b]}{[old] [11.4gb]-&gt;[9.1gb]/[12gb]}\r\n2023-02-11 05:50:02,092+0000 INFO  [quartz-2-thread-3] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task &#39;Storage facet cleanup&#39; [repository.storage-facet-cleanup] state change WAITING -&gt; RUNNING\r\n2023-02-11 05:50:02,106+0000 INFO  [quartz-2-thread-3] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task &#39;Storage facet cleanup&#39; [repository.storage-facet-cleanup] state change RUNNING -&gt; WAITING (OK)\r\n2023-02-11 05:51:13,155+0000 INFO  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][young][400][466] duration [891ms], collections [1]/[1.3s], total [891ms]/[3.4m], memory [11.5gb]-&gt;[11.8gb]/[12gb], all_pools {[young] [128mb]-&gt;[0b]/[0b]}{[survivor] [48mb]-&gt;[16mb]/[0b]}{[old] [11.3gb]-&gt;[11.8gb]/[12gb]}\r\n2023-02-11 05:51:46,711+0000 WARN  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][old][401][2] duration [33.1s], collections [1]/[33.5s], total [33.1s]/[1m], memory [11.8gb]-&gt;[10.8gb]/[12gb], all_pools {[young] [0b]-&gt;[0b]/[0b]}{[survivor] [16mb]-&gt;[0b]/[0b]}{[old] [11.8gb]-&gt;[10.8gb]/[12gb]}\r\n2023-02-11 05:52:04,488+0000 WARN  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][young][418][486] duration [1.2s], collections [1]/[1.4s], total [1.2s]/[3.5m], memory [11.7gb]-&gt;[11.9gb]/[12gb], all_pools {[young] [340mb]-&gt;[0b]/[0b]}{[survivor] [40mb]-&gt;[4mb]/[0b]}{[old] [11.3gb]-&gt;[11.9gb]/[12gb]}\r\n\r\n```\r\n\r\nGiven the further details are below, is there anything I can do to recover our Nexus server from this state? Thanks in advance\r\n\r\n# What we expect\r\n\r\n* Normal CPU/memory usage following a restart\r\n* Graceful shutdown of nexus during `service nexus stop`\r\n\r\n# What we&#39;ve tried\r\n\r\n* Increasing both the host memory and JVM memory *significantly* to the following\r\n```\r\n-Xms12G\r\n-Xmx12G\r\n-XX:MaxDirectMemorySize=15G\r\n```\r\n* Disabling all deployments from our CI pipelines and microservice clusters - there should be no load on Nexus\r\n* Cancelling / deleting 5 duplicated repository reindex tasks in the Nexus UI \r\n\r\n# What we observed\r\n\r\n* Consistent timeouts after a few minutes of normal usage - nexus memory is at 100%\r\n* Inability for nexus to gracefully shutdown - I&#39;ve had to resort to `kill -9 [PID]` to restart the service\r\n* Memory \r\n* Elasticsearch GC is using all of the JVM heap - according to logs \r\n* Multiple repository reindexing tasks are stuck in in `Cancelling` (unsure if related, but is identical to the issue described here - https://issues.sonatype.org/browse/NEXUS-13121)\r\n","title":"Nexus Repository OSS 3.4.0 Unusable due to memory leak","body":"<p>We've encountered a sudden issue with our Nexus Repository Manager OSS 3.4.0 server running on a VM. The nexus UI, docker pulls/pushes all began timing out. Initial logs indicated a JVM OOM during garbage collection, which we attempted to address with a nexus service restart.</p>\n<p>Following this, each restart of both the nexus service and the VM itself allowed a few minutes of normality until users started experiencing timeouts once again.</p>\n<p>Each time, we observed errors from <code>org.elasticsearch.monitor.jvm</code>, implying there is a memory leak somewhere</p>\n<pre><code>-------------------------------------------------\n\nStarted Sonatype Nexus OSS 3.4.0-02\n\n-------------------------------------------------\n2023-02-11 05:43:43,849+0000 INFO  [jetty-main-1] *SYSTEM org.eclipse.jetty.server.ServerConnector - Started ServerConnector@222517ad{SSL,[ssl, http/1.1]}{0.0.0.0:8082}\n2023-02-11 05:43:43,850+0000 INFO  [jetty-main-1] *SYSTEM org.eclipse.jetty.server.ServerConnector - Started ServerConnector@6aa47140{SSL,[ssl, http/1.1]}{0.0.0.0:8083}\n2023-02-11 05:43:47,997+0000 INFO  [quartz-2-thread-2] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task 'Health Check: maven-central' [healthcheck] state change WAITING -&gt; RUNNING\n2023-02-11 05:43:49,377+0000 INFO  [quartz-2-thread-2] *SYSTEM org.sonatype.nexus.scheduling.internal.TaskSchedulerImpl - Task 'Health Check: maven-central' [healthcheck] scheduled: hourly\n2023-02-11 05:43:49,381+0000 INFO  [quartz-2-thread-2] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task 'Health Check: maven-central' [healthcheck] state change RUNNING -&gt; WAITING (OK)\n2023-02-11 05:46:09,341+0000 INFO  [qtp1622059521-199] *UNKNOWN org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Enabling session validation scheduler...\n2023-02-11 05:46:09,353+0000 INFO  [qtp1622059521-199] *UNKNOWN org.sonatype.nexus.internal.security.anonymous.AnonymousManagerImpl - Loaded configuration: AnonymousConfiguration{enabled=true, userId='anonymous', realmName='NexusAuthenticatingRealm'}\n2023-02-11 05:47:33,161+0000 INFO  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][young][215][270] duration [708ms], collections [1]/[1.2s], total [708ms]/[1.9m], memory [8gb]-&gt;[7.8gb]/[12gb], all_pools {[young] [0b]-&gt;[4mb]/[0b]}{[survivor] [56mb]-&gt;[60mb]/[0b]}{[old] [7.9gb]-&gt;[7.7gb]/[12gb]}\n2023-02-11 05:47:34,426+0000 INFO  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][young][216][271] duration [727ms], collections [1]/[1.2s], total [727ms]/[1.9m], memory [7.8gb]-&gt;[7.7gb]/[12gb], all_pools {[young] [4mb]-&gt;[0b]/[0b]}{[survivor] [60mb]-&gt;[60mb]/[0b]}{[old] [7.7gb]-&gt;[7.6gb]/[12gb]}\n2023-02-11 05:50:02,078+0000 WARN  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][old][331][1] duration [29.1s], collections [1]/[30.9s], total [29.1s]/[29.1s], memory [11.4gb]-&gt;[9.1gb]/[12gb], all_pools {[young] [0b]-&gt;[4mb]/[0b]}{[survivor] [32mb]-&gt;[0b]/[0b]}{[old] [11.4gb]-&gt;[9.1gb]/[12gb]}\n2023-02-11 05:50:02,092+0000 INFO  [quartz-2-thread-3] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task 'Storage facet cleanup' [repository.storage-facet-cleanup] state change WAITING -&gt; RUNNING\n2023-02-11 05:50:02,106+0000 INFO  [quartz-2-thread-3] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task 'Storage facet cleanup' [repository.storage-facet-cleanup] state change RUNNING -&gt; WAITING (OK)\n2023-02-11 05:51:13,155+0000 INFO  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][young][400][466] duration [891ms], collections [1]/[1.3s], total [891ms]/[3.4m], memory [11.5gb]-&gt;[11.8gb]/[12gb], all_pools {[young] [128mb]-&gt;[0b]/[0b]}{[survivor] [48mb]-&gt;[16mb]/[0b]}{[old] [11.3gb]-&gt;[11.8gb]/[12gb]}\n2023-02-11 05:51:46,711+0000 WARN  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][old][401][2] duration [33.1s], collections [1]/[33.5s], total [33.1s]/[1m], memory [11.8gb]-&gt;[10.8gb]/[12gb], all_pools {[young] [0b]-&gt;[0b]/[0b]}{[survivor] [16mb]-&gt;[0b]/[0b]}{[old] [11.8gb]-&gt;[10.8gb]/[12gb]}\n2023-02-11 05:52:04,488+0000 WARN  [elasticsearch[12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480][scheduler][T#1]] *SYSTEM org.elasticsearch.monitor.jvm - [12DEA86D-AA14EDFA-783CB331-3D44898F-42A9D480] [gc][young][418][486] duration [1.2s], collections [1]/[1.4s], total [1.2s]/[3.5m], memory [11.7gb]-&gt;[11.9gb]/[12gb], all_pools {[young] [340mb]-&gt;[0b]/[0b]}{[survivor] [40mb]-&gt;[4mb]/[0b]}{[old] [11.3gb]-&gt;[11.9gb]/[12gb]}\n\n</code></pre>\n<p>Given the further details are below, is there anything I can do to recover our Nexus server from this state? Thanks in advance</p>\n<h1>What we expect</h1>\n<ul>\n<li>Normal CPU/memory usage following a restart</li>\n<li>Graceful shutdown of nexus during <code>service nexus stop</code></li>\n</ul>\n<h1>What we've tried</h1>\n<ul>\n<li>Increasing both the host memory and JVM memory <em>significantly</em> to the following</li>\n</ul>\n<pre><code>-Xms12G\n-Xmx12G\n-XX:MaxDirectMemorySize=15G\n</code></pre>\n<ul>\n<li>Disabling all deployments from our CI pipelines and microservice clusters - there should be no load on Nexus</li>\n<li>Cancelling / deleting 5 duplicated repository reindex tasks in the Nexus UI</li>\n</ul>\n<h1>What we observed</h1>\n<ul>\n<li>Consistent timeouts after a few minutes of normal usage - nexus memory is at 100%</li>\n<li>Inability for nexus to gracefully shutdown - I've had to resort to <code>kill -9 [PID]</code> to restart the service</li>\n<li>Memory</li>\n<li>Elasticsearch GC is using all of the JVM heap - according to logs</li>\n<li>Multiple repository reindexing tasks are stuck in in <code>Cancelling</code> (unsure if related, but is identical to the issue described here - <a href=\"https://issues.sonatype.org/browse/NEXUS-13121\" rel=\"nofollow noreferrer\">https://issues.sonatype.org/browse/NEXUS-13121</a>)</li>\n</ul>\n"},{"tags":["java","android","android-studio","android-studio-electric-eel"],"comments":[{"owner":{"account_id":270025,"reputation":6187,"user_id":3649629,"accept_rate":67,"display_name":"Gleichmut"},"score":0,"creation_date":1674047341,"post_id":75159353,"comment_id":132630771,"body_markdown":"It is recommended to use ```jdk``` supplied together with ```Gradle JDK```.","body":"It is recommended to use <code>jdk</code> supplied together with <code>Gradle JDK</code>."},{"owner":{"account_id":10286042,"reputation":527,"user_id":7589309,"accept_rate":100,"display_name":"Mike"},"score":0,"creation_date":1676431460,"post_id":75159353,"comment_id":133133991,"body_markdown":"I have the same issue. after Eel upgrade.  When it fails, this notification appears at the bottom: \n\nMultiple Gradle daemons might be spawned because the Gradle JDK and JAVA_HOME locations are different. Project &#39;Auth Module&#39; is using the following JDK location when running Gradle: &#39;C:/Users/Mike/.jdks/corretto-1.8.0_332&#39; The system environment variable JAVA_HOME is: &#39;C:\\Program Files\\Android\\Android Studio\\jbr&#39; If you dont need to use different paths (or if JAVA_HOME is undefined), youcan avoid spawning multiple daemons by setting JAVA_HOME and the JDK locationto the same path.","body":"I have the same issue. after Eel upgrade.  When it fails, this notification appears at the bottom:   Multiple Gradle daemons might be spawned because the Gradle JDK and JAVA_HOME locations are different. Project &#39;Auth Module&#39; is using the following JDK location when running Gradle: &#39;C:/Users/Mike/.jdks/corretto-1.8.0_332&#39; The system environment variable JAVA_HOME is: &#39;C:\\Program Files\\Android\\Android Studio\\jbr&#39; If you dont need to use different paths (or if JAVA_HOME is undefined), youcan avoid spawning multiple daemons by setting JAVA_HOME and the JDK locationto the same path."},{"owner":{"account_id":10286042,"reputation":527,"user_id":7589309,"accept_rate":100,"display_name":"Mike"},"score":0,"creation_date":1676431552,"post_id":75159353,"comment_id":133134000,"body_markdown":"It is fixed (temporarily) by selecting one of the others like &quot;Use embedded LDK version&quot;","body":"It is fixed (temporarily) by selecting one of the others like &quot;Use embedded LDK version&quot;"}],"answers":[{"tags":[],"owner":{"account_id":14710769,"reputation":1,"user_id":10624174,"display_name":"Md Fazle Rabby"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676102333,"creation_date":1676102333,"answer_id":75418828,"question_id":75159353,"body_markdown":"Update JAVA_HOME to C:\\Program Files\\Android\\Android Studio\\jbr\r\n\r\nOpen File Explorer and Navigate to C:\\Program Files\\Android\\Android Studio\\jbr and copy everything and paste it to C:\\Program Files\\Android\\Android Studio\\jre\r\n\r\nRestart your PC and try to run the project again.","title":"How can I set Android Studio Electric Eel to automatically choice my java home version?","body":"<p>Update JAVA_HOME to C:\\Program Files\\Android\\Android Studio\\jbr</p>\n<p>Open File Explorer and Navigate to C:\\Program Files\\Android\\Android Studio\\jbr and copy everything and paste it to C:\\Program Files\\Android\\Android Studio\\jre</p>\n<p>Restart your PC and try to run the project again.</p>\n"}],"owner":{"account_id":26860630,"reputation":85,"user_id":20444195,"display_name":"Sezai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":910,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1676102333,"creation_date":1674045483,"question_id":75159353,"body_markdown":"I updated my Android Studio to Electric Eel. The problem is that every time I create a new project, I have to select the correct Gradle JDK from the Gradle of Settings. Otherwise, it gets the wrong JDK path and throws an error. In Dolphin, it was always getting the correct JDK. \r\n\r\nHow can I set Android Studio to automatically choice my java home version?\r\n\r\nThe other JDK choices are in below. Should I delete others? Or should I give specified location?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z0VI6.jpg","title":"How can I set Android Studio Electric Eel to automatically choice my java home version?","body":"<p>I updated my Android Studio to Electric Eel. The problem is that every time I create a new project, I have to select the correct Gradle JDK from the Gradle of Settings. Otherwise, it gets the wrong JDK path and throws an error. In Dolphin, it was always getting the correct JDK.</p>\n<p>How can I set Android Studio to automatically choice my java home version?</p>\n<p>The other JDK choices are in below. Should I delete others? Or should I give specified location?</p>\n<p><a href=\"https://i.stack.imgur.com/Z0VI6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z0VI6.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","google-maps"],"comments":[{"owner":{"account_id":3111878,"reputation":1597,"user_id":2633467,"accept_rate":80,"display_name":"Dhaval"},"score":1,"creation_date":1385986368,"post_id":20327863,"comment_id":30337580,"body_markdown":"Because of low connection speed, map might be blurry. When you Zoom in, new frames are loaded, and that requires more data, which on low speed connection will cause blurry map at first.","body":"Because of low connection speed, map might be blurry. When you Zoom in, new frames are loaded, and that requires more data, which on low speed connection will cause blurry map at first."},{"owner":{"account_id":1226929,"reputation":51,"user_id":1192308,"display_name":"Amit Shtober"},"score":0,"creation_date":1385986611,"post_id":20327863,"comment_id":30337751,"body_markdown":"@Dhaval No, this is not the problem. My connection speed is more than great. And also, as I said, it does not happen in the google maps application.","body":"@Dhaval No, this is not the problem. My connection speed is more than great. And also, as I said, it does not happen in the google maps application."},{"owner":{"account_id":3039693,"reputation":1695,"user_id":2577020,"accept_rate":20,"display_name":"Tomero Indonesia"},"score":0,"creation_date":1571236034,"post_id":20327863,"comment_id":103174146,"body_markdown":"Do you have solution? I have same issue.","body":"Do you have solution? I have same issue."}],"answers":[{"tags":[],"owner":{"account_id":4782126,"reputation":1272,"user_id":3863575,"accept_rate":50,"display_name":"SlyBeaver"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1427771629,"creation_date":1427771629,"answer_id":29359987,"question_id":20327863,"body_markdown":"You can try to start the camera in the Ui Thread. This improves the situation for me.\r\n\r\n    activity.runOnUiThread(new Runnable() {\r\n\r\n                    @Override\r\n                    public void run() {\r\n                        CameraPosition cameraPosition =\r\n                                new CameraPosition.Builder()\r\n                                        .target(new LatLng(myLocation.getLatitude(), myLocation.getLongitude()))\r\n                                        .tilt(70)\r\n                                        .zoom(zoom)\r\n                                        .build();\r\n                        googleMap.animateCamera(CameraUpdateFactory.newCameraPosition(cameraPosition));\r\n                    }\r\n                });","title":"Blur google map v2 after zooming in android","body":"<p>You can try to start the camera in the Ui Thread. This improves the situation for me.</p>\n\n<pre><code>activity.runOnUiThread(new Runnable() {\n\n                @Override\n                public void run() {\n                    CameraPosition cameraPosition =\n                            new CameraPosition.Builder()\n                                    .target(new LatLng(myLocation.getLatitude(), myLocation.getLongitude()))\n                                    .tilt(70)\n                                    .zoom(zoom)\n                                    .build();\n                    googleMap.animateCamera(CameraUpdateFactory.newCameraPosition(cameraPosition));\n                }\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6152031,"reputation":1,"user_id":4796190,"display_name":"Mihai Kato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676101933,"creation_date":1676101933,"answer_id":75418802,"question_id":20327863,"body_markdown":"NEW: I did implement the new map renderer from SDK 18+  and improved my maps, now 5x faster &amp; smoother. https://developers.google.com/maps/documentation/android-sdk/renderer\r\n\r\nAdd this to your build.Gradle\r\n**implementation &quot;com.google.android.gms:play-services-maps:18.1.0&quot;**\r\n\r\nIn your app (MainActivity)\r\n\r\n    import com.google.android.gms.maps.MapsInitializer;\r\n    import com.google.android.gms.maps.MapsInitializer.Renderer;\r\n    import com.google.android.gms.maps.OnMapsSdkInitializedCallback;\r\n    \r\n    class MapRendererOptInApplication extends Application implements **OnMapsSdkInitializedCallback** {\r\n    \r\n      @Override\r\n      public void onCreate() {\r\n        super.onCreate();\r\n        **MapsInitializer.initialize(getApplicationContext(), Renderer.LATEST, this);**\r\n      }\r\n    \r\n      @Override\r\n      public void onMapsSdkInitialized(MapsInitializer.Renderer renderer) {\r\n        switch (renderer) {\r\n          case LATEST:\r\n            Log.d(&quot;MapsDemo&quot;, &quot;The latest version of the renderer is used.&quot;);\r\n            break;\r\n          case LEGACY:\r\n            Log.d(&quot;MapsDemo&quot;, &quot;The legacy version of the renderer is used.&quot;);\r\n            break;\r\n        }\r\n      }\r\n    }\r\n\r\n      \r\n","title":"Blur google map v2 after zooming in android","body":"<p>NEW: I did implement the new map renderer from SDK 18+  and improved my maps, now 5x faster &amp; smoother. <a href=\"https://developers.google.com/maps/documentation/android-sdk/renderer\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/android-sdk/renderer</a></p>\n<p>Add this to your build.Gradle\n<strong>implementation &quot;com.google.android.gms:play-services-maps:18.1.0&quot;</strong></p>\n<p>In your app (MainActivity)</p>\n<pre><code>import com.google.android.gms.maps.MapsInitializer;\nimport com.google.android.gms.maps.MapsInitializer.Renderer;\nimport com.google.android.gms.maps.OnMapsSdkInitializedCallback;\n\nclass MapRendererOptInApplication extends Application implements **OnMapsSdkInitializedCallback** {\n\n  @Override\n  public void onCreate() {\n    super.onCreate();\n    **MapsInitializer.initialize(getApplicationContext(), Renderer.LATEST, this);**\n  }\n\n  @Override\n  public void onMapsSdkInitialized(MapsInitializer.Renderer renderer) {\n    switch (renderer) {\n      case LATEST:\n        Log.d(&quot;MapsDemo&quot;, &quot;The latest version of the renderer is used.&quot;);\n        break;\n      case LEGACY:\n        Log.d(&quot;MapsDemo&quot;, &quot;The legacy version of the renderer is used.&quot;);\n        break;\n    }\n  }\n}\n\n  \n</code></pre>\n"}],"owner":{"account_id":1226929,"reputation":51,"user_id":1192308,"display_name":"Amit Shtober"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1523,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676101933,"creation_date":1385985800,"question_id":20327863,"body_markdown":"I&#39;m developing a program in android with googlemapsv2 api.\r\n\r\nThere is a small problem - At first, when the map is first initialized, it is looking great. But after i am trying to zoom and see roads, the map becomes blur and not clear.\r\n\r\nIs there any attribute that I should put in order that the zoom will work fine?\r\nIn google maps application it works just fine.\r\n\r\nThank you.\r\n","title":"Blur google map v2 after zooming in android","body":"<p>I'm developing a program in android with googlemapsv2 api.</p>\n\n<p>There is a small problem - At first, when the map is first initialized, it is looking great. But after i am trying to zoom and see roads, the map becomes blur and not clear.</p>\n\n<p>Is there any attribute that I should put in order that the zoom will work fine?\nIn google maps application it works just fine.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","xsd","type-conversion","jaxb","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":13113269,"reputation":86,"user_id":9473464,"display_name":"Elie Azoury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676101673,"creation_date":1651841390,"answer_id":72141740,"question_id":72141627,"body_markdown":"You can use model mapper library : https://www.baeldung.com/java-modelmapper\r\n\r\nExample of what you can do:\r\n\r\n    List&lt;Carb&gt; lb = new ArrayList();\r\n\r\n    for (Cara a : la )\r\n        lb.add(mapper.map(a, Carb.class))","title":"Pojo Conversion with HibernateMapping &amp; Jaxb","body":"<p>You can use model mapper library : <a href=\"https://www.baeldung.com/java-modelmapper\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-modelmapper</a></p>\n<p>Example of what you can do:</p>\n<pre><code>List&lt;Carb&gt; lb = new ArrayList();\n\nfor (Cara a : la )\n    lb.add(mapper.map(a, Carb.class))\n</code></pre>\n"}],"owner":{"account_id":24507162,"reputation":1,"user_id":18422013,"display_name":"ekwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676101673,"creation_date":1651840838,"question_id":72141627,"body_markdown":"I have two Pojo classes, one for hibernate mapping and one for jaxb.\r\nSo I get a `List&lt;CarA&gt;` using `Criteria.list()` and I would like to transform it into a `List&lt;CarB&gt;` in order to send it back to my client as a SOAP message.\r\n\r\nWould you have any idea how to do the conversion from `CarA` to `CarB`? \r\n\r\nMy list contains more than 100 elements and the construction gets expensive very fast.\r\n\r\nI wish I didn&#39;t have to build a list from A to Z.\r\n\r\nThanks for your help\r\n","title":"Pojo Conversion with HibernateMapping &amp; Jaxb","body":"<p>I have two Pojo classes, one for hibernate mapping and one for jaxb.\nSo I get a <code>List&lt;CarA&gt;</code> using <code>Criteria.list()</code> and I would like to transform it into a <code>List&lt;CarB&gt;</code> in order to send it back to my client as a SOAP message.</p>\n<p>Would you have any idea how to do the conversion from <code>CarA</code> to <code>CarB</code>?</p>\n<p>My list contains more than 100 elements and the construction gets expensive very fast.</p>\n<p>I wish I didn't have to build a list from A to Z.</p>\n<p>Thanks for your help</p>\n"},{"tags":["java","image","user-interface","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1676103366,"post_id":75418728,"comment_id":133073664,"body_markdown":"Since the image is in the src directory, it’s likely embedded, so you’ll need to use Class#getResource to get a reference to and you should probably use ImageIO.read to load the image","body":"Since the image is in the src directory, it’s likely embedded, so you’ll need to use Class#getResource to get a reference to and you should probably use ImageIO.read to load the image"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676114325,"post_id":75418728,"comment_id":133075160,"body_markdown":"Good advice from @MadProgrammer. Use `introBackground = new ImageIcon(getClass().getResourceAsStream(&quot;/images/introBackground.jpg&quot;)).getImage();` and get rid of `screenDraw` - it&#39;s likely to cause infinite recursion.","body":"Good advice from @MadProgrammer. Use <code>introBackground = new ImageIcon(getClass().getResourceAsStream(&quot;&#47;images&#47;introBackg&zwnj;&#8203;round.jpg&quot;)).getImag&zwnj;&#8203;e();</code> and get rid of <code>screenDraw</code> - it&#39;s likely to cause infinite recursion."}],"owner":{"account_id":27000200,"reputation":1,"user_id":20561601,"display_name":"Raina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676100747,"creation_date":1676100747,"question_id":75418728,"body_markdown":"I am a new java learner :&gt;\r\n\r\nI want to display the image to GUI program using JFrame in java.\r\nBut the image is not showed up..\r\n\r\n\r\n\r\n---\r\n\r\n\r\nDynamicBeat.java\r\n~~~lang-java\r\npackage dynamic_beat_2;\r\n\r\nimport java.awt.Graphics;\r\nimport java.awt.Image;\r\n\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JFrame;\r\n\r\npublic class DynamicBeat extends JFrame{\r\n\t\r\n\tprivate Image screenImage;\r\n\tprivate Graphics screenGraphic;\r\n\t\r\n\tprivate Image introBackground;\r\n\t\r\n\tpublic DynamicBeat() {\r\n\t\tsetTitle(&quot;Dynamic Beat&quot;);\r\n\t\tsetSize(Main.SCREEN_WIDTH, Main.SCREEN_HEIGHT);\t\r\n\t\tsetResizable(false); \r\n\t\tsetLocationRelativeTo(null); \r\n\t\t\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \r\n\t\t\r\n\t\tsetVisible(true);\t\r\n\t\t\r\n\t\tintroBackground = new ImageIcon(&quot;../images/introBackground.jpg&quot;).getImage();\r\n\t}\r\n\r\n\tpublic void paint(Graphics g) {\r\n\t\tscreenImage = createImage(Main.SCREEN_WIDTH, Main.SCREEN_HEIGHT);\r\n\t\tscreenGraphic = screenImage.getGraphics();\r\n\t\tscreenDraw(screenGraphic);\r\n\t\tg.drawImage(screenImage, 0, 0, null);\r\n\t\r\n\tpublic void screenDraw(Graphics g) {\r\n\t\tg.drawImage(introBackground, 0, 0, null);\r\n\t\tthis.repaint();\t\r\n~~~\r\n\r\n---\r\n\r\nMain.java\r\n~~~lang-java\r\npackage dynamic_beat_2;\r\n\r\npublic class Main {\r\n\r\n\tpublic static final int SCREEN_WIDTH = 1280;\r\n\tpublic static final int SCREEN_HEIGHT = 720;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tnew DynamicBeat();\r\n\t}\r\n\r\n}\r\n\r\n~~~\r\n\r\n---\r\n\r\ndynamic_beat2 =&gt; C:\\Tech\\project\\DynamicBeat\\src\\dynamic_beat_2\r\n\r\nintroBackground =&gt; C:\\Tech\\project\\DynamicBeat\\src\\images\\introBackground.jpg\r\n\r\n\r\n---\r\n\r\n\r\n1. I tried changing &#39;paint()&#39; to &#39;paintComponent()&#39;.\r\n2. I tried changing form of the resource\r\n  - (&quot;../images/introBackground.jpg&quot;)\r\n  - (&quot;/images/introBackground.jpg&quot;)\r\n  - (&quot;introBackground.jpg&quot;)\r\n  - ...\r\n \r\n3. It was my code before changing to present code as above.\r\n~~~lang-java\r\nintroBackground = new ImageIcon(Main.class.getResource(&quot;../images/introBackground.jpg&quot;)).getImage();\r\n\t}\r\n~~~\r\n  but I got the error from this code. \r\n\r\n```\r\n Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot;\r\n\r\n\r\n```\r\n4. Eclipes (Version: 2022-12 (4.26.0))\r\n\r\nJava (Version: 17.0.6)\r\n\r\n\r\n\r\n\r\n","title":"I tried to show up the image file to gui program using JFrame in java","body":"<p>I am a new java learner :&gt;</p>\n<p>I want to display the image to GUI program using JFrame in java.\nBut the image is not showed up..</p>\n<hr />\n<p>DynamicBeat.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package dynamic_beat_2;\n\nimport java.awt.Graphics;\nimport java.awt.Image;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\n\npublic class DynamicBeat extends JFrame{\n    \n    private Image screenImage;\n    private Graphics screenGraphic;\n    \n    private Image introBackground;\n    \n    public DynamicBeat() {\n        setTitle(&quot;Dynamic Beat&quot;);\n        setSize(Main.SCREEN_WIDTH, Main.SCREEN_HEIGHT); \n        setResizable(false); \n        setLocationRelativeTo(null); \n        \n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \n        \n        setVisible(true);   \n        \n        introBackground = new ImageIcon(&quot;../images/introBackground.jpg&quot;).getImage();\n    }\n\n    public void paint(Graphics g) {\n        screenImage = createImage(Main.SCREEN_WIDTH, Main.SCREEN_HEIGHT);\n        screenGraphic = screenImage.getGraphics();\n        screenDraw(screenGraphic);\n        g.drawImage(screenImage, 0, 0, null);\n    \n    public void screenDraw(Graphics g) {\n        g.drawImage(introBackground, 0, 0, null);\n        this.repaint(); \n</code></pre>\n<hr />\n<p>Main.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package dynamic_beat_2;\n\npublic class Main {\n\n    public static final int SCREEN_WIDTH = 1280;\n    public static final int SCREEN_HEIGHT = 720;\n    \n    public static void main(String[] args) {\n        new DynamicBeat();\n    }\n\n}\n\n</code></pre>\n<hr />\n<p>dynamic_beat2 =&gt; C:\\Tech\\project\\DynamicBeat\\src\\dynamic_beat_2</p>\n<p>introBackground =&gt; C:\\Tech\\project\\DynamicBeat\\src\\images\\introBackground.jpg</p>\n<hr />\n<ol>\n<li>I tried changing 'paint()' to 'paintComponent()'.</li>\n<li>I tried changing form of the resource</li>\n</ol>\n<ul>\n<li>(&quot;../images/introBackground.jpg&quot;)</li>\n<li>(&quot;/images/introBackground.jpg&quot;)</li>\n<li>(&quot;introBackground.jpg&quot;)</li>\n<li>...</li>\n</ul>\n<ol start=\"3\">\n<li>It was my code before changing to present code as above.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>introBackground = new ImageIcon(Main.class.getResource(&quot;../images/introBackground.jpg&quot;)).getImage();\n    }\n</code></pre>\n<p>but I got the error from this code.</p>\n<pre><code> Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot;\n\n\n</code></pre>\n<ol start=\"4\">\n<li>Eclipes (Version: 2022-12 (4.26.0))</li>\n</ol>\n<p>Java (Version: 17.0.6)</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676100390,"creation_date":1676100390,"answer_id":75418704,"question_id":75418644,"body_markdown":"&gt; This method is a generic method with 2 generic parameters, `T` and `U`, It looks to me that `T` is also defined at method level as `U`, and has no relation with the `T` in `Comparator&lt;T&gt;`?\r\n\r\nCorrect. In Java, a static method can&#39;t refer to the class&#39;s or interface&#39;s type parameters, because it&#39;s the same static method no matter what the type arguments are. (There isn&#39;t a `Comparator&lt;Integer&gt;.comparing(...)` and a `Comparator&lt;String&gt;.comparing(...)`, just a single `Comparator.comparing(...)`.)\r\n\r\nSo while it&#39;s totally fine for a static method to be generic, its type parameters are separate from those of the class or interface. (In this case that could be `Comparator.&lt;Integer&gt;comparing(...)` or `Comparator.&lt;String&gt;comparing(...)` or the like &amp;mdash; note that the type argument is written *after* the dot &amp;mdash; but in most cases you can just write `Comparator.comparing(...)` and let the compiler infer the right type arguments anyway.)\r\n\r\n&gt; But with the following code,it looks that both `T` are same? I am confused.\r\n\r\nThey happen to be the same, yes. `Comparator.&lt;File&gt;comparing(...)` returns an instance of `Comparator&lt;File&gt;`, so basically any use of `Comparator.&lt;File&gt;comparing(...)` will have a corresponding use of `Comparator&lt;File&gt;`. (And likewise for any other type argument, obviously.)\r\n\r\nIn this case the compiler can tell that it&#39;s `Comparator.&lt;File&gt;comparing(...)` and not `Comparator.&lt;Integer&gt;comparing(...)`, because the latter would return the wrong type; and it can therefore tell which `Inner::getValue` is meant, because only one of them has the right type to be passed into `Comparator.&lt;File&gt;comparing(...)`.\r\n\r\nDoes that make sense?","title":"Confused with class level generics parameter and method level generics parameter","body":"<blockquote>\n<p>This method is a generic method with 2 generic parameters, <code>T</code> and <code>U</code>, It looks to me that <code>T</code> is also defined at method level as <code>U</code>, and has no relation with the <code>T</code> in <code>Comparator&lt;T&gt;</code>?</p>\n</blockquote>\n<p>Correct. In Java, a static method can't refer to the class's or interface's type parameters, because it's the same static method no matter what the type arguments are. (There isn't a <code>Comparator&lt;Integer&gt;.comparing(...)</code> and a <code>Comparator&lt;String&gt;.comparing(...)</code>, just a single <code>Comparator.comparing(...)</code>.)</p>\n<p>So while it's totally fine for a static method to be generic, its type parameters are separate from those of the class or interface. (In this case that could be <code>Comparator.&lt;Integer&gt;comparing(...)</code> or <code>Comparator.&lt;String&gt;comparing(...)</code> or the like — note that the type argument is written <em>after</em> the dot — but in most cases you can just write <code>Comparator.comparing(...)</code> and let the compiler infer the right type arguments anyway.)</p>\n<blockquote>\n<p>But with the following code,it looks that both <code>T</code> are same? I am confused.</p>\n</blockquote>\n<p>They happen to be the same, yes. <code>Comparator.&lt;File&gt;comparing(...)</code> returns an instance of <code>Comparator&lt;File&gt;</code>, so basically any use of <code>Comparator.&lt;File&gt;comparing(...)</code> will have a corresponding use of <code>Comparator&lt;File&gt;</code>. (And likewise for any other type argument, obviously.)</p>\n<p>In this case the compiler can tell that it's <code>Comparator.&lt;File&gt;comparing(...)</code> and not <code>Comparator.&lt;Integer&gt;comparing(...)</code>, because the latter would return the wrong type; and it can therefore tell which <code>Inner::getValue</code> is meant, because only one of them has the right type to be passed into <code>Comparator.&lt;File&gt;comparing(...)</code>.</p>\n<p>Does that make sense?</p>\n"}],"owner":{"account_id":5611077,"reputation":5944,"user_id":4443784,"accept_rate":72,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75418704,"answer_count":1,"score":0,"last_activity_date":1676100390,"creation_date":1676099477,"question_id":75418644,"body_markdown":"The following is the interface signature of Comparator interface, it is a generic interface using `T` as the generics parameter.\r\n\r\n```\r\npublic interface Comparator&lt;T&gt; {\r\n ....\r\n}\r\n```\r\n\r\nThe interface has a default method defined as follows:\r\n\r\n```\r\n    public static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; comparing(\r\n            Function&lt;? super T, ? extends U&gt; keyExtractor)\r\n```\r\n\r\nThis method is a generic method with 2 generic parameters, `T` and `U`, It looks to me that `T` is also defined at method level as `U`, and has no relation with the `T` in `Comparator&lt;T&gt;`?\r\n\r\n\r\nBut with the following code,it looks that both `T` are same? I am confused.\r\n\r\n\r\n\r\n```\r\nimport java.io.File;\r\nimport java.util.Comparator;\r\n\r\nclass Inner {\r\n    public static String getValue(File f) {\r\n        return f.getName();\r\n    }\r\n    public static String getValue2(Integer i) {\r\n        return &quot;&quot; + i;\r\n    }\r\n}\r\n\r\npublic class Question {\r\n    public static void main(String[] args) {\r\n//getValue must use File as the parameter.\r\n        Comparator&lt;File&gt; fileComparator = Comparator.comparing(Inner::getValue); \r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Confused with class level generics parameter and method level generics parameter","body":"<p>The following is the interface signature of Comparator interface, it is a generic interface using <code>T</code> as the generics parameter.</p>\n<pre><code>public interface Comparator&lt;T&gt; {\n ....\n}\n</code></pre>\n<p>The interface has a default method defined as follows:</p>\n<pre><code>    public static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; comparing(\n            Function&lt;? super T, ? extends U&gt; keyExtractor)\n</code></pre>\n<p>This method is a generic method with 2 generic parameters, <code>T</code> and <code>U</code>, It looks to me that <code>T</code> is also defined at method level as <code>U</code>, and has no relation with the <code>T</code> in <code>Comparator&lt;T&gt;</code>?</p>\n<p>But with the following code,it looks that both <code>T</code> are same? I am confused.</p>\n<pre><code>import java.io.File;\nimport java.util.Comparator;\n\nclass Inner {\n    public static String getValue(File f) {\n        return f.getName();\n    }\n    public static String getValue2(Integer i) {\n        return &quot;&quot; + i;\n    }\n}\n\npublic class Question {\n    public static void main(String[] args) {\n//getValue must use File as the parameter.\n        Comparator&lt;File&gt; fileComparator = Comparator.comparing(Inner::getValue); \n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":2673328,"reputation":1649,"user_id":2310221,"accept_rate":81,"display_name":"Markus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676100183,"creation_date":1676100183,"answer_id":75418693,"question_id":75418458,"body_markdown":"You can mock multiple interactions by chaining `.thenReturn()`:\r\n\r\n```java\r\nwhen(mockedCloseableHttpClient.execute(any(HttpGet.class)))\r\n  .thenReturn(mockedCloseableHttpResponse) // first invocation returns this\r\n  .thenReturn(yourSecondResponse); // second one\r\n\r\n```","title":"Mock HTTP Client that is called twice in the same function - Java Spring boot","body":"<p>You can mock multiple interactions by chaining <code>.thenReturn()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(mockedCloseableHttpClient.execute(any(HttpGet.class)))\n  .thenReturn(mockedCloseableHttpResponse) // first invocation returns this\n  .thenReturn(yourSecondResponse); // second one\n\n</code></pre>\n"}],"owner":{"account_id":18147973,"reputation":41,"user_id":15923335,"display_name":"devumesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676100183,"creation_date":1676096622,"question_id":75418458,"body_markdown":"I was trying to mock Java `HttpClient` using Mockito. \r\n\r\nMockito-core: `v2.15.0`, \r\nMockito-junit-jupiter: `v2.23.0`\r\n\r\nMy code looks something like this\r\n```\r\nclass Someclass {\r\n    public String funcA(String s) {\r\n        HttpClient httpClient = HttpClientBuilder.create().build();\r\n        try {\r\n            HttpGet httpget = new HttpGet(uri1);\r\n            HttpResponse httpresponse = httpClient.execute(httpget);\r\n            // some logic\r\n        }\r\n        catch (Exception err) System.out.println(err);\r\n        \r\n        // executed only if failed on first http client call\r\n        try {\r\n            HttpGet httpget = new HttpGet(uri2);\r\n            HttpResponse httpresponse = httpClient.execute(httpget);\r\n            // some logic\r\n        }\r\n        catch (Exception err) System.out.println(err);\r\n    \r\n}\r\n```\r\nI was able to mock the first Http call from `HttpClient` successfully using the below code\r\n\r\n```\r\nwhen(mockedCloseableHttpResponse.getEntity()).thenReturn(mockedHttpEntity);\r\nwhen(mockedHttpEntity.getContent()).thenReturn(inputStream);\r\nwhen(mockedCloseableHttpClient.execute(any(HttpGet.class))).thenReturn(mockedCloseableHttpResponse);\r\n```\r\n\r\nI was not able to mock the second HttpClient call. Help me fix this mocking problem. Please suggest if any logic needs to be changed. Thanks","title":"Mock HTTP Client that is called twice in the same function - Java Spring boot","body":"<p>I was trying to mock Java <code>HttpClient</code> using Mockito.</p>\n<p>Mockito-core: <code>v2.15.0</code>,\nMockito-junit-jupiter: <code>v2.23.0</code></p>\n<p>My code looks something like this</p>\n<pre><code>class Someclass {\n    public String funcA(String s) {\n        HttpClient httpClient = HttpClientBuilder.create().build();\n        try {\n            HttpGet httpget = new HttpGet(uri1);\n            HttpResponse httpresponse = httpClient.execute(httpget);\n            // some logic\n        }\n        catch (Exception err) System.out.println(err);\n        \n        // executed only if failed on first http client call\n        try {\n            HttpGet httpget = new HttpGet(uri2);\n            HttpResponse httpresponse = httpClient.execute(httpget);\n            // some logic\n        }\n        catch (Exception err) System.out.println(err);\n    \n}\n</code></pre>\n<p>I was able to mock the first Http call from <code>HttpClient</code> successfully using the below code</p>\n<pre><code>when(mockedCloseableHttpResponse.getEntity()).thenReturn(mockedHttpEntity);\nwhen(mockedHttpEntity.getContent()).thenReturn(inputStream);\nwhen(mockedCloseableHttpClient.execute(any(HttpGet.class))).thenReturn(mockedCloseableHttpResponse);\n</code></pre>\n<p>I was not able to mock the second HttpClient call. Help me fix this mocking problem. Please suggest if any logic needs to be changed. Thanks</p>\n"},{"tags":["java","generics","jls","parameterization"],"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676098995,"creation_date":1676098995,"question_id":75418619,"body_markdown":"Consider the following clause from JLS : [18.2.2](https://docs.oracle.com/javase/specs/jls/se8/html/jls-18.html#jls-18.2.2)\r\n\r\n - the following clause states that:\r\n\r\n&gt; Otherwise, if T is a parameterized type of the form G&lt;T1, ..., Tn&gt;, and there exists no type of the form G&lt;...&gt; that is a supertype of S, but the raw type G is a supertype of S, then the constraint reduces to true.\r\n- When we try to relate this to the following example:\r\n```java\r\npublic class Scratch {\r\n  public static void main(String[] args) {\r\n    List&lt;Integer&gt; ls = new ArrayList();\r\n  }\r\n}\r\n```\r\n- this gives unchecked warning - as I am trying to target Raw type `ArrayList` -&gt; `List&lt;String&gt;`.\r\n\r\n**Am I missing something here - not sure if this constraint formula should be the otherway round - to return `true` always?**\r\n\r\n","title":"Type Compatibility Constraint and Unchecked Assignment relation in Java","body":"<p>Consider the following clause from JLS : <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-18.html#jls-18.2.2\" rel=\"nofollow noreferrer\">18.2.2</a></p>\n<ul>\n<li>the following clause states that:</li>\n</ul>\n<blockquote>\n<p>Otherwise, if T is a parameterized type of the form G&lt;T1, ..., Tn&gt;, and there exists no type of the form G&lt;...&gt; that is a supertype of S, but the raw type G is a supertype of S, then the constraint reduces to true.</p>\n</blockquote>\n<ul>\n<li>When we try to relate this to the following example:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class Scratch {\n  public static void main(String[] args) {\n    List&lt;Integer&gt; ls = new ArrayList();\n  }\n}\n</code></pre>\n<ul>\n<li>this gives unchecked warning - as I am trying to target Raw type <code>ArrayList</code> -&gt; <code>List&lt;String&gt;</code>.</li>\n</ul>\n<p><strong>Am I missing something here - not sure if this constraint formula should be the otherway round - to return <code>true</code> always?</strong></p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data"],"comments":[{"owner":{"account_id":2509588,"reputation":1999,"user_id":2182398,"accept_rate":55,"display_name":"Armen Arzumanyan"},"score":0,"creation_date":1676118650,"post_id":75418566,"comment_id":133075795,"body_markdown":"one of options you can find here:\n[https://stackoverflow.com/questions/48072977/specifying-cursor-options-when-returning-a-stream-in-spring-data-mongodb](https://stackoverflow.com/questions/48072977/specifying-cursor-options-when-returning-a-stream-in-spring-data-mongodb)","body":"one of options you can find here: <a href=\"https://stackoverflow.com/questions/48072977/specifying-cursor-options-when-returning-a-stream-in-spring-data-mongodb\">https://stackoverflow.com/questions/48072977/specifying-curs&zwnj;&#8203;or-options-when-retu&zwnj;&#8203;rning-a-stream-in-sp&zwnj;&#8203;ring-data-mongodb</a>"},{"owner":{"account_id":27497942,"reputation":47,"user_id":20982166,"display_name":"Janeth Jackson"},"score":0,"creation_date":1676138588,"post_id":75418566,"comment_id":133079152,"body_markdown":"Thanks so much @ArmenArzumanyan that was really help fully","body":"Thanks so much @ArmenArzumanyan that was really help fully"}],"owner":{"account_id":27497942,"reputation":47,"user_id":20982166,"display_name":"Janeth Jackson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676098193,"creation_date":1676098193,"question_id":75418566,"body_markdown":"I&#39;m having a spring boot application connected with Mongo DB now I want to enable spring batch how can I manage this withi spring data Mongo\r\n\r\nWhat I saw with Spring data JPA \r\n\r\n    spring.jpa.properties.hibernate.generate_statistics=true\r\n    spring.jpa.properties.hibernate.jdbc.batch_size=1000\r\n    spring.jpa.properties.hibernate.order_inserts=true\r\n\r\nNow how can I configure this with spring data mongo\r\n\r\n","title":"How to enable batch inserts in spring boot with mongo database","body":"<p>I'm having a spring boot application connected with Mongo DB now I want to enable spring batch how can I manage this withi spring data Mongo</p>\n<p>What I saw with Spring data JPA</p>\n<pre><code>spring.jpa.properties.hibernate.generate_statistics=true\nspring.jpa.properties.hibernate.jdbc.batch_size=1000\nspring.jpa.properties.hibernate.order_inserts=true\n</code></pre>\n<p>Now how can I configure this with spring data mongo</p>\n"},{"tags":["java","arrays","algorithm","char","comparison"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1676084953,"post_id":75417769,"comment_id":133072245,"body_markdown":"*&quot;I know I can&#39;t use the == operator since it compares references, and it&#39;s the same as the equals() method.&quot;* If you are referring to comparing `char` types, that&#39;s a mistake.  Because `char` is one of the [primitives in Java](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html), you *would* use `==` to compare two `char`, and `.equals` would not work.","body":"<i>&quot;I know I can&#39;t use the == operator since it compares references, and it&#39;s the same as the equals() method.&quot;</i> If you are referring to comparing <code>char</code> types, that&#39;s a mistake.  Because <code>char</code> is one of the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">primitives in Java</a>, you <i>would</i> use <code>==</code> to compare two <code>char</code>, and <code>.equals</code> would not work."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676085133,"post_id":75417769,"comment_id":133072256,"body_markdown":"Java [Arrays](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html) has two [.equals methods for `char` arrays](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#equals(char%5B%5D,char%5B%5D)). See that one, and the next one down.","body":"Java <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html\" rel=\"nofollow noreferrer\">Arrays</a> has two <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#equals(char%5B%5D,char%5B%5D)\" rel=\"nofollow noreferrer\">.equals methods for <code>char</code> arrays</a>. See that one, and the next one down."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676098320,"post_id":75417769,"comment_id":133073203,"body_markdown":"Does this answer your question? [How do I use the character&#39;s equals() method in Java?](https://stackoverflow.com/questions/52126561/how-do-i-use-the-characters-equals-method-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52126561/how-do-i-use-the-characters-equals-method-in-java\">How do I use the character&#39;s equals() method in Java?</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1676130465,"post_id":75417769,"comment_id":133077739,"body_markdown":"You should show a little more code. I assume entrada is a Scanner Object that wraps System.in and letrasAdivinador and letrasPensador are each char [], but I shouldn&#39;t have to assume that. The code in your question should show that.  Also, please explain the problems you encountered, where are you having trouble.","body":"You should show a little more code. I assume entrada is a Scanner Object that wraps System.in and letrasAdivinador and letrasPensador are each char [], but I shouldn&#39;t have to assume that. The code in your question should show that.  Also, please explain the problems you encountered, where are you having trouble."},{"owner":{"account_id":15053130,"reputation":1,"user_id":20154521,"display_name":"Ricardo Aguilar"},"score":0,"creation_date":1676256948,"post_id":75417769,"comment_id":133094675,"body_markdown":"yes, someone else advised me to compare two char arrays with ==, since the equals() method would not work","body":"yes, someone else advised me to compare two char arrays with ==, since the equals() method would not work"},{"owner":{"account_id":15053130,"reputation":1,"user_id":20154521,"display_name":"Ricardo Aguilar"},"score":1,"creation_date":1676257020,"post_id":75417769,"comment_id":133094687,"body_markdown":"I was able to find a solution to the problem by iterating over two nested loops and using the == operator for char arrays","body":"I was able to find a solution to the problem by iterating over two nested loops and using the == operator for char arrays"},{"owner":{"account_id":15053130,"reputation":1,"user_id":20154521,"display_name":"Ricardo Aguilar"},"score":0,"creation_date":1676257362,"post_id":75417769,"comment_id":133094728,"body_markdown":"Also, the link you shared helped me expand my knowledge, thank you very much","body":"Also, the link you shared helped me expand my knowledge, thank you very much"}],"owner":{"account_id":15053130,"reputation":1,"user_id":20154521,"display_name":"Ricardo Aguilar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676098064,"creation_date":1676082601,"question_id":75417769,"body_markdown":"In java, I have defined a first array of characters, `char[]`, with a maximum of 4 elements, and a second array of characters that is filled by user input with a maximum of 4 elements.\r\n\r\nI want to compare the first element (index[0]) of the first array with each of the elements of the other array, and so on with each element of the first array (which is compared with each of the elements of the other array)\r\n\r\nI know I can&#39;t use the == operator since it compares references, and it&#39;s the same as the equals() method.\r\n\r\nThe exercise dictates that I can only use loops or the Arrays class and its equals() method, I have tried in various ways applying logic but I left it up to here, I can&#39;t get it, any help?\r\n\r\nIf matches are found, the program must increment a variable for each match.\r\nnote: both arrays are of type char\r\n\r\n\r\n```java\r\nfor (int i = 1; i &lt;= MAX_INTENTOS; i++) {\r\n            System.out.print(&quot;C&#243;digo &quot; + i + &quot; de 10&gt;&gt; &quot;);\r\n            letrasEntrada = entrada.nextLine();\r\n\r\n            if (i == MAX_INTENTOS) {\r\n                perdiste = true;\r\n            }\r\n\r\n            for (int j = 0; j &lt; LARGO_CODIGO; j++) {\r\n                letrasAdivinador[j] = letrasEntrada.charAt(j);\r\n            }\r\n\r\n            for (int x = 0; x &lt; letrasPensador.length; x++) {\r\n                Arrays.equals();\r\n\r\n\r\n//                if (letrasAdivinador[x] == letrasPensador[x]) {\r\n//                    b += 2;\r\n//                } else {\r\n//                    if (x + 1 &lt; letrasPensador.length &amp;&amp; letrasAdivinador[x] == letrasPensador[x + 1]) {\r\n//                        b += 1;\r\n//                    }\r\n//                    if (x + 2 &lt; letrasPensador.length &amp;&amp; letrasAdivinador[x] == letrasPensador[x + 2]) {\r\n//                        b += 1;\r\n//                    }\r\n//                    if (x + 3 &lt; letrasPensador.length &amp;&amp; letrasAdivinador[x] == letrasPensador[x + 3]) {\r\n//                        b += 1;\r\n//                    }\r\n//                }\r\n            }\r\n```","title":"How to compare the elements of a first array, with the following elements of another array in java?","body":"<p>In java, I have defined a first array of characters, <code>char[]</code>, with a maximum of 4 elements, and a second array of characters that is filled by user input with a maximum of 4 elements.</p>\n<p>I want to compare the first element (index[0]) of the first array with each of the elements of the other array, and so on with each element of the first array (which is compared with each of the elements of the other array)</p>\n<p>I know I can't use the == operator since it compares references, and it's the same as the equals() method.</p>\n<p>The exercise dictates that I can only use loops or the Arrays class and its equals() method, I have tried in various ways applying logic but I left it up to here, I can't get it, any help?</p>\n<p>If matches are found, the program must increment a variable for each match.\nnote: both arrays are of type char</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 1; i &lt;= MAX_INTENTOS; i++) {\n            System.out.print(&quot;Código &quot; + i + &quot; de 10&gt;&gt; &quot;);\n            letrasEntrada = entrada.nextLine();\n\n            if (i == MAX_INTENTOS) {\n                perdiste = true;\n            }\n\n            for (int j = 0; j &lt; LARGO_CODIGO; j++) {\n                letrasAdivinador[j] = letrasEntrada.charAt(j);\n            }\n\n            for (int x = 0; x &lt; letrasPensador.length; x++) {\n                Arrays.equals();\n\n\n//                if (letrasAdivinador[x] == letrasPensador[x]) {\n//                    b += 2;\n//                } else {\n//                    if (x + 1 &lt; letrasPensador.length &amp;&amp; letrasAdivinador[x] == letrasPensador[x + 1]) {\n//                        b += 1;\n//                    }\n//                    if (x + 2 &lt; letrasPensador.length &amp;&amp; letrasAdivinador[x] == letrasPensador[x + 2]) {\n//                        b += 1;\n//                    }\n//                    if (x + 3 &lt; letrasPensador.length &amp;&amp; letrasAdivinador[x] == letrasPensador[x + 3]) {\n//                        b += 1;\n//                    }\n//                }\n            }\n</code></pre>\n"},{"tags":["java","android","android-studio","runtime-error","compiler-warnings"],"owner":{"account_id":19421424,"reputation":11,"user_id":14203876,"display_name":"akhilesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676097805,"creation_date":1676097805,"question_id":75418541,"body_markdown":"Exception is: org.gradle.api.plugins.UnknownPluginException: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.4.0&#39;, apply: false] was not found in any of the following sources:\r\nCamera search\r\n\r\n\r\n\r\nTried to compile but  , not working . ","title":"exception error at the compilation of android studioi project after update of android version","body":"<p>Exception is: org.gradle.api.plugins.UnknownPluginException: Plugin [id: 'com.android.application', version: '7.4.0', apply: false] was not found in any of the following sources:\nCamera search</p>\n<p>Tried to compile but  , not working .</p>\n"},{"tags":["java","timestamp","timezone","utc","java.time.instant"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1675971897,"post_id":75403642,"comment_id":133048181,"body_markdown":"`ps.setObject(1, OffsetDateTime.now(ZoneOffset.UTC))` (or `LocalDateTime.now(ZoneOffset.UTC)` if you’re so unfortunate that the database column doesn’t carry the information that it’s in UTC).","body":"<code>ps.setObject(1, OffsetDateTime.now(ZoneOffset.UTC))</code> (or <code>LocalDateTime.now(ZoneOffset.UTC)</code> if you’re so unfortunate that the database column doesn’t carry the information that it’s in UTC)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675974757,"post_id":75403642,"comment_id":133048882,"body_markdown":"*a conversion of Timestamp.from(instant) is writing local time zones into the table*. How? `Timestamp` doesn&#39;t contain time zone info....","body":"<i>a conversion of Timestamp.from(instant) is writing local time zones into the table</i>. How? <code>Timestamp</code> doesn&#39;t contain time zone info...."},{"owner":{"account_id":5768589,"reputation":31,"user_id":4552709,"display_name":"Randy B"},"score":1,"creation_date":1675978211,"post_id":75403642,"comment_id":133049833,"body_markdown":"Thanks for the responses!  The issue was my JVM was defaulting to local time.  I set a VM option -Duser.timzone= &quot;UTC&quot; and it is now storing UTC.  Database is UTC as well, so VM was the issue.","body":"Thanks for the responses!  The issue was my JVM was defaulting to local time.  I set a VM option -Duser.timzone= &quot;UTC&quot; and it is now storing UTC.  Database is UTC as well, so VM was the issue."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1675982804,"post_id":75403642,"comment_id":133050813,"body_markdown":"Afaik `Instant.now` will be unaffected by `user.timezone`","body":"Afaik <code>Instant.now</code> will be unaffected by <code>user.timezone</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676005005,"post_id":75403642,"comment_id":133053943,"body_markdown":"You should not se the `Timestamp` class at all. In the old days it was used with SQL databases, but it was always poorly deigned, a true hack on top of the already bad `Date` class. Since JDBC 4.2 instead use `OffsetDateTime`, `Instant` or `LocalDateTime`. Stick to the modern API. `Timestamp` is but a troublesome detour.","body":"You should not se the <code>Timestamp</code> class at all. In the old days it was used with SQL databases, but it was always poorly deigned, a true hack on top of the already bad <code>Date</code> class. Since JDBC 4.2 instead use <code>OffsetDateTime</code>, <code>Instant</code> or <code>LocalDateTime</code>. Stick to the modern API. <code>Timestamp</code> is but a troublesome detour."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1676005692,"post_id":75403642,"comment_id":133054044,"body_markdown":"Add a mention of (a) what database you are using, (b) *exactly* what data type is your column.","body":"Add a mention of (a) what database you are using, (b) <i>exactly</i> what data type is your column."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676022068,"post_id":75403642,"comment_id":133057426,"body_markdown":"Certainly your &#39;solution&#39; is *not* a solution and might lead to further problems. Needless to say, you shouldn&#39;t be running with the wrong time zone.","body":"Certainly your &#39;solution&#39; is <i>not</i> a solution and might lead to further problems. Needless to say, you shouldn&#39;t be running with the wrong time zone."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676061347,"creation_date":1676004925,"answer_id":75407104,"question_id":75403642,"body_markdown":"# `OffsetDateTime`\r\n\r\n&gt;when I use Instant.now() to get the current UTC time, \r\n\r\nDon’t use `Instant` for SQL database work. \r\n\r\nIn JDBC 4.2+, the specification maps `OffsetDateTime` class to columns of a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE`. \r\n\r\n    OffsetDateTime odt = OffsetDateTime.now( ZoneOffset.UTC ) ;\r\n\r\nNeither `Instant` nor `ZonedDateTime` are mapped in JDBC. The SQL standard defines no such types equivalent to those classes. \r\n\r\nBy the way, for columns of a type akin to the SQL standard type `TIMESTAMP WITHOUT TIME ZONE`, use the `LocalDateTime` class. \r\n\r\n# Avoid legacy date-time classes\r\n\r\n&gt;a conversion of Timestamp.from(instant)\r\n\r\nNever use the terrible legacy date-time classes such as `Timestamp`. Use only their replacement: the modern *java.time* classes defined in JSR 310. \r\n\r\nWrite to the database:\r\n\r\n    myPreparedStatement.setObject … , odt ) ;\r\n\r\nRetrieve:\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\n\r\n# Do not depend on default zone\r\n\r\nYou commented:\r\n\r\n&gt;The issue was my JVM was defaulting to local time\r\n\r\nYou should write your Java code in such a way as to not care about the JVM’s current default time zone. \r\n\r\nThe code shown above is unaffected by \r\nthe JVM’s current default time zone.\r\n\r\n# Example code\r\n\r\nHere is a complete example.\r\n\r\n```java\r\npackage work.basil.example.db;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.sql.*;\r\nimport java.time.Instant;\r\nimport java.time.OffsetDateTime;\r\nimport java.time.ZoneOffset;\r\nimport java.util.UUID;\r\n\r\npublic class DemoH2InMem\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        DemoH2InMem app = new DemoH2InMem();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        DataSource dataSource = this.fetchDataSource();\r\n        this.createTable( dataSource );\r\n        this.insertDummyData( dataSource );\r\n        this.dump( dataSource );\r\n\r\n//        Scanner scanner = new Scanner( System.in );\r\n//        System.out.print( &quot;Type anything to end program: &quot; );\r\n//        String anything = scanner.nextLine();\r\n        System.out.println( &quot;Demo done at &quot; + Instant.now() );\r\n    }\r\n\r\n    private DataSource fetchDataSource ( )\r\n    {\r\n        org.h2.jdbcx.JdbcDataSource dataSource = new org.h2.jdbcx.JdbcDataSource();\r\n        dataSource.setURL( &quot;jdbc:h2:mem:demo_db;DB_CLOSE_DELAY=-1&quot; );\r\n        return dataSource;\r\n    }\r\n\r\n    private void createTable ( final DataSource dataSource )\r\n    {\r\n        String sql =\r\n                &quot;&quot;&quot;\r\n                CREATE TABLE bogus_ (\r\n                    id_ UUID PRIMARY KEY  ,\r\n                    when_ TIMESTAMP WITH TIME ZONE\r\n                )\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try (\r\n                Connection conn = dataSource.getConnection() ;\r\n                Statement stmt = conn.createStatement() ;\r\n        )\r\n        {\r\n            stmt.execute( sql );\r\n        }\r\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\r\n    }\r\n\r\n    private void insertDummyData ( final DataSource dataSource )\r\n    {\r\n        String sql =\r\n                &quot;&quot;&quot;\r\n                INSERT INTO bogus_ ( id_ , when_ )\r\n                VALUES ( ? , ? )\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try (\r\n                Connection conn = dataSource.getConnection() ;\r\n                PreparedStatement pstmt = conn.prepareStatement( sql ) ;\r\n        )\r\n        {\r\n            pstmt.setObject( 1 , UUID.fromString( &quot;97a9e379-4d8f-4d06-8bea-43560a72120b&quot; ) );\r\n            pstmt.setObject( 2 , OffsetDateTime.now( ZoneOffset.UTC ) );\r\n            pstmt.executeUpdate();\r\n\r\n            pstmt.setObject( 1 , UUID.fromString( &quot;052ae129-d0ca-4fdf-9a06-c87d20a2d3f2&quot; ) );\r\n            pstmt.setObject( 2 , OffsetDateTime.now( ZoneOffset.UTC ) );\r\n            pstmt.executeUpdate();\r\n        }\r\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\r\n    }\r\n\r\n    private void dump ( final DataSource dataSource )\r\n    {\r\n        String sql =\r\n                &quot;&quot;&quot;\r\n                SELECT * FROM bogus_\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try (\r\n                Connection conn = dataSource.getConnection() ;\r\n                Statement stmt = conn.createStatement() ;\r\n                ResultSet resultSet = stmt.executeQuery( sql ) ;\r\n        )\r\n        {\r\n\r\n            System.out.println( &quot;-------------|  table start |---------------&quot; );\r\n            while ( resultSet.next() )\r\n            {\r\n                UUID uuid = resultSet.getObject( &quot;id_&quot; , UUID.class );\r\n                OffsetDateTime when = resultSet.getObject( &quot;when_&quot; , OffsetDateTime.class );\r\n                System.out.println( uuid + &quot; | &quot; + when );\r\n            }\r\n            System.out.println( &quot;-------------|  table end  |---------------&quot; );\r\n        }\r\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\n-------------|  table start |---------------\r\n97a9e379-4d8f-4d06-8bea-43560a72120b | 2023-02-10T20:32:57.074979Z\r\n052ae129-d0ca-4fdf-9a06-c87d20a2d3f2 | 2023-02-10T20:32:57.080153Z\r\n-------------|  table end  |---------------\r\nDemo done at 2023-02-10T20:32:57.092230Z\r\n```\r\n\r\n","title":"Java PreparedStatement reading local timezone when using Timestamp.from(Instant)","body":"<h1><code>OffsetDateTime</code></h1>\n<blockquote>\n<p>when I use Instant.now() to get the current UTC time,</p>\n</blockquote>\n<p>Don’t use <code>Instant</code> for SQL database work.</p>\n<p>In JDBC 4.2+, the specification maps <code>OffsetDateTime</code> class to columns of a type akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.now( ZoneOffset.UTC ) ;\n</code></pre>\n<p>Neither <code>Instant</code> nor <code>ZonedDateTime</code> are mapped in JDBC. The SQL standard defines no such types equivalent to those classes.</p>\n<p>By the way, for columns of a type akin to the SQL standard type <code>TIMESTAMP WITHOUT TIME ZONE</code>, use the <code>LocalDateTime</code> class.</p>\n<h1>Avoid legacy date-time classes</h1>\n<blockquote>\n<p>a conversion of Timestamp.from(instant)</p>\n</blockquote>\n<p>Never use the terrible legacy date-time classes such as <code>Timestamp</code>. Use only their replacement: the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Write to the database:</p>\n<pre><code>myPreparedStatement.setObject … , odt ) ;\n</code></pre>\n<p>Retrieve:</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<h1>Do not depend on default zone</h1>\n<p>You commented:</p>\n<blockquote>\n<p>The issue was my JVM was defaulting to local time</p>\n</blockquote>\n<p>You should write your Java code in such a way as to not care about the JVM’s current default time zone.</p>\n<p>The code shown above is unaffected by\nthe JVM’s current default time zone.</p>\n<h1>Example code</h1>\n<p>Here is a complete example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.db;\n\nimport javax.sql.DataSource;\nimport java.sql.*;\nimport java.time.Instant;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\nimport java.util.UUID;\n\npublic class DemoH2InMem\n{\n    public static void main ( String[] args )\n    {\n        DemoH2InMem app = new DemoH2InMem();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        DataSource dataSource = this.fetchDataSource();\n        this.createTable( dataSource );\n        this.insertDummyData( dataSource );\n        this.dump( dataSource );\n\n//        Scanner scanner = new Scanner( System.in );\n//        System.out.print( &quot;Type anything to end program: &quot; );\n//        String anything = scanner.nextLine();\n        System.out.println( &quot;Demo done at &quot; + Instant.now() );\n    }\n\n    private DataSource fetchDataSource ( )\n    {\n        org.h2.jdbcx.JdbcDataSource dataSource = new org.h2.jdbcx.JdbcDataSource();\n        dataSource.setURL( &quot;jdbc:h2:mem:demo_db;DB_CLOSE_DELAY=-1&quot; );\n        return dataSource;\n    }\n\n    private void createTable ( final DataSource dataSource )\n    {\n        String sql =\n                &quot;&quot;&quot;\n                CREATE TABLE bogus_ (\n                    id_ UUID PRIMARY KEY  ,\n                    when_ TIMESTAMP WITH TIME ZONE\n                )\n                ;\n                &quot;&quot;&quot;;\n        try (\n                Connection conn = dataSource.getConnection() ;\n                Statement stmt = conn.createStatement() ;\n        )\n        {\n            stmt.execute( sql );\n        }\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\n    }\n\n    private void insertDummyData ( final DataSource dataSource )\n    {\n        String sql =\n                &quot;&quot;&quot;\n                INSERT INTO bogus_ ( id_ , when_ )\n                VALUES ( ? , ? )\n                ;\n                &quot;&quot;&quot;;\n        try (\n                Connection conn = dataSource.getConnection() ;\n                PreparedStatement pstmt = conn.prepareStatement( sql ) ;\n        )\n        {\n            pstmt.setObject( 1 , UUID.fromString( &quot;97a9e379-4d8f-4d06-8bea-43560a72120b&quot; ) );\n            pstmt.setObject( 2 , OffsetDateTime.now( ZoneOffset.UTC ) );\n            pstmt.executeUpdate();\n\n            pstmt.setObject( 1 , UUID.fromString( &quot;052ae129-d0ca-4fdf-9a06-c87d20a2d3f2&quot; ) );\n            pstmt.setObject( 2 , OffsetDateTime.now( ZoneOffset.UTC ) );\n            pstmt.executeUpdate();\n        }\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\n    }\n\n    private void dump ( final DataSource dataSource )\n    {\n        String sql =\n                &quot;&quot;&quot;\n                SELECT * FROM bogus_\n                ;\n                &quot;&quot;&quot;;\n        try (\n                Connection conn = dataSource.getConnection() ;\n                Statement stmt = conn.createStatement() ;\n                ResultSet resultSet = stmt.executeQuery( sql ) ;\n        )\n        {\n\n            System.out.println( &quot;-------------|  table start |---------------&quot; );\n            while ( resultSet.next() )\n            {\n                UUID uuid = resultSet.getObject( &quot;id_&quot; , UUID.class );\n                OffsetDateTime when = resultSet.getObject( &quot;when_&quot; , OffsetDateTime.class );\n                System.out.println( uuid + &quot; | &quot; + when );\n            }\n            System.out.println( &quot;-------------|  table end  |---------------&quot; );\n        }\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-------------|  table start |---------------\n97a9e379-4d8f-4d06-8bea-43560a72120b | 2023-02-10T20:32:57.074979Z\n052ae129-d0ca-4fdf-9a06-c87d20a2d3f2 | 2023-02-10T20:32:57.080153Z\n-------------|  table end  |---------------\nDemo done at 2023-02-10T20:32:57.092230Z\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5768589,"reputation":31,"user_id":4552709,"display_name":"Randy B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676061690,"creation_date":1676057426,"answer_id":75415371,"question_id":75403642,"body_markdown":"Changing the JVM timezone to UTC solved the issue of Timestamp, however, in this case I cannot update the server in which this code is running.\r\n\r\nThe solution that worked for me without needing to adjust JVM timezone is\r\n\r\n```\r\nstatement.setTimestamp(1,\r\n        Timestamp.valueOf(DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd HH:mm:ss.SSS&quot;)\r\n                .format(Instant.now().atZone(ZoneId.of(&quot;UTC&quot;)))));\r\n```\r\n\r\nThis forces Timestamp to use UTC, although it seems rather robust and redundant.  The other solutions proposed did not work for me.","title":"Java PreparedStatement reading local timezone when using Timestamp.from(Instant)","body":"<p>Changing the JVM timezone to UTC solved the issue of Timestamp, however, in this case I cannot update the server in which this code is running.</p>\n<p>The solution that worked for me without needing to adjust JVM timezone is</p>\n<pre><code>statement.setTimestamp(1,\n        Timestamp.valueOf(DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd HH:mm:ss.SSS&quot;)\n                .format(Instant.now().atZone(ZoneId.of(&quot;UTC&quot;)))));\n</code></pre>\n<p>This forces Timestamp to use UTC, although it seems rather robust and redundant.  The other solutions proposed did not work for me.</p>\n"}],"owner":{"account_id":5768589,"reputation":31,"user_id":4552709,"display_name":"Randy B"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676097278,"creation_date":1675971576,"question_id":75403642,"body_markdown":"I&#39;m attempting to populate a UTC timestamp into a SQL table, but when I use `Instant.now()` to get the current UTC time, a conversion of `Timestamp.from(instant)` is writing local time zones into the table.  Is there a way to write UTC into the table?\r\n\r\n```\r\nPreparedStatement ps = connection.prepareStatement(...)\r\nps.setString(1, Timestamp.from(Instant.now())\r\n```\r\n\r\nThis results in local timezone opposed to UTC.\r\n\r\nThe JDBC driver is `net.sourceforge.jtds.jdbc.Driver`.","title":"Java PreparedStatement reading local timezone when using Timestamp.from(Instant)","body":"<p>I'm attempting to populate a UTC timestamp into a SQL table, but when I use <code>Instant.now()</code> to get the current UTC time, a conversion of <code>Timestamp.from(instant)</code> is writing local time zones into the table.  Is there a way to write UTC into the table?</p>\n<pre><code>PreparedStatement ps = connection.prepareStatement(...)\nps.setString(1, Timestamp.from(Instant.now())\n</code></pre>\n<p>This results in local timezone opposed to UTC.</p>\n<p>The JDBC driver is <code>net.sourceforge.jtds.jdbc.Driver</code>.</p>\n"},{"tags":["java","cassandra","spring-batch","nosql"],"answers":[{"tags":[],"owner":{"account_id":708374,"reputation":20953,"user_id":618059,"accept_rate":100,"display_name":"Michael Minella"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503591565,"creation_date":1503591565,"answer_id":45866598,"question_id":45866321,"body_markdown":"Due to the fact that Casandra does not support simple sequences for keys, Spring Batch does not support using it for the job repository.","title":"spring batch metadata in cassandra database","body":"<p>Due to the fact that Casandra does not support simple sequences for keys, Spring Batch does not support using it for the job repository.</p>\n"},{"tags":[],"owner":{"account_id":14462805,"reputation":821,"user_id":10447184,"display_name":"Marius Jaraminas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578251507,"creation_date":1578251016,"answer_id":59603235,"question_id":45866321,"body_markdown":"It is possible to extend Spring Batch to support Cassandra by customising ItemReader and ItemWriter.\r\n\r\nReader:\r\n\r\n``` Java\r\n@Override\r\npublic Company read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\r\n    final List&lt;Company&gt; companies = cassandraOperations.selectAll(aClass);\r\n\r\n    log.debug(&quot;Read operations is performing, the object size is  {}&quot;, companies.size());\r\n\r\n    if (index &lt; companies.size()) {\r\n        final Company company = companies.get(index);\r\n        index++;\r\n        return company;\r\n    }\r\n\r\n    return null;\r\n}\r\n```\r\n\r\nWriter:\r\n``` Java\r\n@Override\r\npublic void write(final List&lt;? extends Company&gt; items) throws Exception {\r\n    logger.debug(&quot;Write operations is performing, the size is {}&quot; + items.size());\r\n    if (!items.isEmpty()) {\r\n        logger.info(&quot;Deleting in a batch performing...&quot;);\r\n        cassandraTemplate.deleteAll(aClass);\r\n        logger.info(&quot;Inserting in a batch performing...&quot;);\r\n        cassandraTemplate.insert(items);\r\n    }\r\n\r\n    logger.debug(&quot;Items is null...&quot;);\r\n}\r\n```\r\n\r\n@Beans:\r\n\r\n``` Java\r\n@Bean\r\npublic ItemReader&lt;Company&gt; reader(final DataSource dataSource) {\r\n    final CassandraBatchItemReader&lt;Company&gt; reader = new CassandraBatchItemReader&lt;Company&gt;(Company.class);\r\n    return reader;\r\n}\r\n\r\n@Bean\r\npublic ItemWriter&lt;Company&gt; writer(final DataSource dataSource) {\r\n    final CassandraBatchItemWriter&lt;Company&gt; writer = new CassandraBatchItemWriter&lt;Company&gt;(Company.class);\r\n    return writer;\r\n}\r\n```\r\n\r\nFull source code can be found in Github [Spring-Batch-with-Cassandra][1]\r\n\r\n\r\n  [1]: https://github.com/mohdnadeemakhtar/Spring-Batch-with-Cassandra","title":"spring batch metadata in cassandra database","body":"<p>It is possible to extend Spring Batch to support Cassandra by customising ItemReader and ItemWriter.</p>\n\n<p>Reader:</p>\n\n<pre><code>@Override\npublic Company read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\n    final List&lt;Company&gt; companies = cassandraOperations.selectAll(aClass);\n\n    log.debug(\"Read operations is performing, the object size is  {}\", companies.size());\n\n    if (index &lt; companies.size()) {\n        final Company company = companies.get(index);\n        index++;\n        return company;\n    }\n\n    return null;\n}\n</code></pre>\n\n<p>Writer:</p>\n\n<pre><code>@Override\npublic void write(final List&lt;? extends Company&gt; items) throws Exception {\n    logger.debug(\"Write operations is performing, the size is {}\" + items.size());\n    if (!items.isEmpty()) {\n        logger.info(\"Deleting in a batch performing...\");\n        cassandraTemplate.deleteAll(aClass);\n        logger.info(\"Inserting in a batch performing...\");\n        cassandraTemplate.insert(items);\n    }\n\n    logger.debug(\"Items is null...\");\n}\n</code></pre>\n\n<p>@Beans:</p>\n\n<pre><code>@Bean\npublic ItemReader&lt;Company&gt; reader(final DataSource dataSource) {\n    final CassandraBatchItemReader&lt;Company&gt; reader = new CassandraBatchItemReader&lt;Company&gt;(Company.class);\n    return reader;\n}\n\n@Bean\npublic ItemWriter&lt;Company&gt; writer(final DataSource dataSource) {\n    final CassandraBatchItemWriter&lt;Company&gt; writer = new CassandraBatchItemWriter&lt;Company&gt;(Company.class);\n    return writer;\n}\n</code></pre>\n\n<p>Full source code can be found in Github <a href=\"https://github.com/mohdnadeemakhtar/Spring-Batch-with-Cassandra\" rel=\"nofollow noreferrer\">Spring-Batch-with-Cassandra</a></p>\n"}],"owner":{"account_id":4220083,"reputation":499,"user_id":3455071,"accept_rate":50,"display_name":"smoczyna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676096863,"creation_date":1503590642,"question_id":45866321,"body_markdown":"The question is quite simple: can I create metadata schema for Spring Batch in Cassandra database? How can I do this if yes?\r\nI&#39;ve read that Spring Batch requires RDBMS database for that and No-SQL databases are not supported. Is that still the limitation in Spring Batch and how can I override that issue eventually?","title":"spring batch metadata in cassandra database","body":"<p>The question is quite simple: can I create metadata schema for Spring Batch in Cassandra database? How can I do this if yes?\nI've read that Spring Batch requires RDBMS database for that and No-SQL databases are not supported. Is that still the limitation in Spring Batch and how can I override that issue eventually?</p>\n"},{"tags":["java","timezone","java-time"],"comments":[{"owner":{"account_id":317896,"reputation":233676,"user_id":634824,"accept_rate":87,"display_name":"Matt Johnson-Pint"},"score":4,"creation_date":1676071125,"post_id":75416863,"comment_id":133070853,"body_markdown":"So `9:00 MST` - is that `America/Denver` or `America/Phoenix`?  They both use &quot;MST&quot;, but Denver uses it only when they&#39;re not in daylight saving time, and Phoenix uses it year-round.  Same with `HAST` - could be `America/Adak` (uses DST) or `Pacific/Honolulu` (no DST).","body":"So <code>9:00 MST</code> - is that <code>America&#47;Denver</code> or <code>America&#47;Phoenix</code>?  They both use &quot;MST&quot;, but Denver uses it only when they&#39;re not in daylight saving time, and Phoenix uses it year-round.  Same with <code>HAST</code> - could be <code>America&#47;Adak</code> (uses DST) or <code>Pacific&#47;Honolulu</code> (no DST)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676096303,"post_id":75416863,"comment_id":133073034,"body_markdown":"I would go for building my own map. After making sure with the customer that by CDT they always mean Cuba Daylight Time and never Central Daylight Time, or the other way around. And that they accept all errors and inaccuracies incurred. Because you can never avoid those. If the times are always assumed to fall on nearby dates, you may consider adding a few heuristics so that MST means America/Denver during standard time and America/Phoenix during summer. You may be able to get it, say, 75 % correct.","body":"I would go for building my own map. After making sure with the customer that by CDT they always mean Cuba Daylight Time and never Central Daylight Time, or the other way around. And that they accept all errors and inaccuracies incurred. Because you can never avoid those. If the times are always assumed to fall on nearby dates, you may consider adding a few heuristics so that MST means America/Denver during standard time and America/Phoenix during summer. You may be able to get it, say, 75 % correct."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676095585,"creation_date":1676076551,"answer_id":75417409,"question_id":75416863,"body_markdown":"# Time with zone makes no sense\r\n\r\n&gt;13:30 EDT\r\n\r\nA time-of-day plus a time zone makes no sense. Without the context of a date, there is no real meaning here. \r\n\r\nThe [SQL-92][1] standard declares a `TIME WITH TIME ZONE` type, but neglects to define its meaning. I am not alone in being mystified by the SQL committee’s intention. And also, importantly, that data type is a misnomer: the SQL standard means *offset* when they say “time zone”. \r\n\r\nJava offers an [`OffsetTime`][2] class. I presume this class exists merely for mapping through JDBC to that screwy SQL type of `TIME WITH TIME ZONE`. The Javadoc offers no real explanation as to the meaning of this class.\r\n\r\nSo what is your goal? I suggest you edit your Question to indicate what kind of processing you intend to do with such inputs. Perhaps we can guide you from there.\r\n\r\n# Pseudo time zones are not unique\r\n\r\nYou asked:\r\n\r\n&gt; Is there a clean way to convert these short ids to a property ZoneId? \r\n\r\nNo. \r\n\r\nThese 2-4 character pseudo time zones are not defined, are not standardized, and are not unique. \r\n\r\n - `CST` —&#160;Do you mean *Central Standard Time* in the Americas? Or do you mean *China Standard Time*? Or *Cuba Standard Time*?\r\n - `IST` — Do you mean [*India Standard Time*][3]? Or [*Ireland Standard Time*][4]? \r\n - `PST` — *Pacific Standard Time* or *Pitcairn Standard Time*?\r\n - `BST` — *Bangladesh Standard Time*, *Bougainville Standard Time*, or *British Summer Time*?\r\n - `AMST` —&#160;*Amazon Summer Time* or *Armenia Summer Time*?\r\n\r\nSo, no you cannot cleanly determine a time zone from a pseudo zone. You can only guess. If you know for certain the domain of possible values you expect to receive, and you are certain as to their intended actual time zone, then you can create your own mapping. \r\n\r\nBut even then, there is no class in Java nor data type in SQL to represent a date with time zone. You would have to convert that time zone to an offset from UTC. And for that conversion, you would need a date to determine a moment to determine the offset in use at that moment by the people of that zone… which leads us back in a circle to point at the top of this Answer: A time with only a zone (or offset), but without the context of a date, makes no sense. \r\n\r\n# Reject senseless data\r\n\r\nYou said:\r\n\r\n&gt; but unfortunately I have no way to get the client to change their api\r\n\r\nProviding a time-of-day with an ambiguous pseudo time zone is like providing a money amount tagged with &quot;dollar&quot; while asking to convert to &quot;francs&quot;.\r\n\r\n - We don&#39;t know if &quot;dollar&quot; means Canada Dollar (CAD), United States Dollar (USD), or a Australian dollar (AUD), or any of the twenty [currencies with that name][5].\r\n - We don&#39;t know if `franc` means the [franc CFA][6] in West Africa, the [Swiss franc][7], or some other [currency with that name][8].\r\n - We don&#39;t have a date on which to look up a conversion rate.\r\n\r\nSo what would you do with such a request? What *can* you do? You would have to either ask for much more explicit definitions, or you would have to refuse the request.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/SQL-92\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/OffsetTime.html\r\n  [3]: https://www.timeanddate.com/time/zones/ist\r\n  [4]: https://www.timeanddate.com/time/zones/ist-ireland\r\n  [5]: https://en.wikipedia.org/wiki/Dollar\r\n  [6]: https://en.wikipedia.org/wiki/CFA_franc\r\n  [7]: https://en.wikipedia.org/wiki/Swiss_franc\r\n  [8]: https://en.wikipedia.org/wiki/Franc","title":"Convert time zone short id to ZoneId","body":"<h1>Time with zone makes no sense</h1>\n<blockquote>\n<p>13:30 EDT</p>\n</blockquote>\n<p>A time-of-day plus a time zone makes no sense. Without the context of a date, there is no real meaning here.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/SQL-92\" rel=\"nofollow noreferrer\">SQL-92</a> standard declares a <code>TIME WITH TIME ZONE</code> type, but neglects to define its meaning. I am not alone in being mystified by the SQL committee’s intention. And also, importantly, that data type is a misnomer: the SQL standard means <em>offset</em> when they say “time zone”.</p>\n<p>Java offers an <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/OffsetTime.html\" rel=\"nofollow noreferrer\"><code>OffsetTime</code></a> class. I presume this class exists merely for mapping through JDBC to that screwy SQL type of <code>TIME WITH TIME ZONE</code>. The Javadoc offers no real explanation as to the meaning of this class.</p>\n<p>So what is your goal? I suggest you edit your Question to indicate what kind of processing you intend to do with such inputs. Perhaps we can guide you from there.</p>\n<h1>Pseudo time zones are not unique</h1>\n<p>You asked:</p>\n<blockquote>\n<p>Is there a clean way to convert these short ids to a property ZoneId?</p>\n</blockquote>\n<p>No.</p>\n<p>These 2-4 character pseudo time zones are not defined, are not standardized, and are not unique.</p>\n<ul>\n<li><code>CST</code> — Do you mean <em>Central Standard Time</em> in the Americas? Or do you mean <em>China Standard Time</em>? Or <em>Cuba Standard Time</em>?</li>\n<li><code>IST</code> — Do you mean <a href=\"https://www.timeanddate.com/time/zones/ist\" rel=\"nofollow noreferrer\"><em>India Standard Time</em></a>? Or <a href=\"https://www.timeanddate.com/time/zones/ist-ireland\" rel=\"nofollow noreferrer\"><em>Ireland Standard Time</em></a>?</li>\n<li><code>PST</code> — <em>Pacific Standard Time</em> or <em>Pitcairn Standard Time</em>?</li>\n<li><code>BST</code> — <em>Bangladesh Standard Time</em>, <em>Bougainville Standard Time</em>, or <em>British Summer Time</em>?</li>\n<li><code>AMST</code> — <em>Amazon Summer Time</em> or <em>Armenia Summer Time</em>?</li>\n</ul>\n<p>So, no you cannot cleanly determine a time zone from a pseudo zone. You can only guess. If you know for certain the domain of possible values you expect to receive, and you are certain as to their intended actual time zone, then you can create your own mapping.</p>\n<p>But even then, there is no class in Java nor data type in SQL to represent a date with time zone. You would have to convert that time zone to an offset from UTC. And for that conversion, you would need a date to determine a moment to determine the offset in use at that moment by the people of that zone… which leads us back in a circle to point at the top of this Answer: A time with only a zone (or offset), but without the context of a date, makes no sense.</p>\n<h1>Reject senseless data</h1>\n<p>You said:</p>\n<blockquote>\n<p>but unfortunately I have no way to get the client to change their api</p>\n</blockquote>\n<p>Providing a time-of-day with an ambiguous pseudo time zone is like providing a money amount tagged with &quot;dollar&quot; while asking to convert to &quot;francs&quot;.</p>\n<ul>\n<li>We don't know if &quot;dollar&quot; means Canada Dollar (CAD), United States Dollar (USD), or a Australian dollar (AUD), or any of the twenty <a href=\"https://en.wikipedia.org/wiki/Dollar\" rel=\"nofollow noreferrer\">currencies with that name</a>.</li>\n<li>We don't know if <code>franc</code> means the <a href=\"https://en.wikipedia.org/wiki/CFA_franc\" rel=\"nofollow noreferrer\">franc CFA</a> in West Africa, the <a href=\"https://en.wikipedia.org/wiki/Swiss_franc\" rel=\"nofollow noreferrer\">Swiss franc</a>, or some other <a href=\"https://en.wikipedia.org/wiki/Franc\" rel=\"nofollow noreferrer\">currency with that name</a>.</li>\n<li>We don't have a date on which to look up a conversion rate.</li>\n</ul>\n<p>So what would you do with such a request? What <em>can</em> you do? You would have to either ask for much more explicit definitions, or you would have to refuse the request.</p>\n"}],"owner":{"account_id":1644328,"reputation":433,"user_id":1516152,"accept_rate":75,"display_name":"Naty722"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75417409,"answer_count":1,"score":3,"last_activity_date":1676095585,"creation_date":1676069770,"question_id":75416863,"body_markdown":"A client&#39;s API that I am integrating with returns a time with the time zone as a short id (3 letter id). e.g.\r\n\r\n```\r\n9:00 MST\r\n13:30 EDT\r\n17:00 MDT\r\n```\r\n\r\nI realize this is bad practice (especially with the daylight savings), and short ids should be avoided, but unfortunately I have no way to get the client to change their api. Is there a clean way to convert these short ids to a property `ZoneId`? `ZoneId.SHORT_IDS` looks like the closest, but it doesn&#39;t include daylights savings. Worst case, I think I can just make my own map of short ids to `ZoneIds` since it&#39;s limited to the US","title":"Convert time zone short id to ZoneId","body":"<p>A client's API that I am integrating with returns a time with the time zone as a short id (3 letter id). e.g.</p>\n<pre><code>9:00 MST\n13:30 EDT\n17:00 MDT\n</code></pre>\n<p>I realize this is bad practice (especially with the daylight savings), and short ids should be avoided, but unfortunately I have no way to get the client to change their api. Is there a clean way to convert these short ids to a property <code>ZoneId</code>? <code>ZoneId.SHORT_IDS</code> looks like the closest, but it doesn't include daylights savings. Worst case, I think I can just make my own map of short ids to <code>ZoneIds</code> since it's limited to the US</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13743231,"reputation":677,"user_id":9917714,"display_name":"Aleksa Majkic"},"score":0,"creation_date":1675821317,"post_id":75195801,"comment_id":133009763,"body_markdown":"Can you also post *CsvLine* class implementation?","body":"Can you also post <i>CsvLine</i> class implementation?"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":3,"creation_date":1675822515,"post_id":75195801,"comment_id":133009909,"body_markdown":"Q: Have you tried stepping through your code in the debugger?  That&#39;s your *FIRST* step.  As I said in [this](https://stackoverflow.com/questions/75380424/) (now deleted!) post.","body":"Q: Have you tried stepping through your code in the debugger?  That&#39;s your <i>FIRST</i> step.  As I said in <a href=\"https://stackoverflow.com/questions/75380424/\">this</a> (now deleted!) post."},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1675861185,"post_id":75195801,"comment_id":133018187,"body_markdown":"From where get the value the CsvLine object for this expression? `if (item.getAvgMonthlySearches() != null)`?","body":"From where get the value the CsvLine object for this expression? <code>if (item.getAvgMonthlySearches() != null)</code>?"},{"owner":{"account_id":13743231,"reputation":677,"user_id":9917714,"display_name":"Aleksa Majkic"},"score":0,"creation_date":1675861499,"post_id":75195801,"comment_id":133018300,"body_markdown":"Could you post your code, a minimal version that would run, in order for me to take a closer look at it? Maybe post the whole code on *pastebin* or somewhere similar. There is a lot of missing pieces from your code. On line one, I don&#39;t know what is a `directoryPath` or a `textFileFilter`. Also, I think the `CsvLine` is incomplete. Are you missing the `getAvgMonthlySearches()` and `getValue()` implementations?","body":"Could you post your code, a minimal version that would run, in order for me to take a closer look at it? Maybe post the whole code on <i>pastebin</i> or somewhere similar. There is a lot of missing pieces from your code. On line one, I don&#39;t know what is a <code>directoryPath</code> or a <code>textFileFilter</code>. Also, I think the <code>CsvLine</code> is incomplete. Are you missing the <code>getAvgMonthlySearches()</code> and <code>getValue()</code> implementations?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1675866618,"post_id":75195801,"comment_id":133020126,"body_markdown":"Here it is: https://github.com/rcbandit111/wordscore_sample/blob/master/src/main/java/com/wordscore/engine/processor/DataValidationCheckJob.java","body":"Here it is: <a href=\"https://github.com/rcbandit111/wordscore_sample/blob/master/src/main/java/com/wordscore/engine/processor/DataValidationCheckJob.java\" rel=\"nofollow noreferrer\">github.com/rcbandit111/wordscore_sample/blob/master/src/main&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":13743231,"reputation":677,"user_id":9917714,"display_name":"Aleksa Majkic"},"score":0,"creation_date":1675870657,"post_id":75195801,"comment_id":133021631,"body_markdown":"I&#39;m having a problem parsing the csv file due to mismatch between `String` and `BigDecimal`. Can you provide your csv sample file that works for you? It doesn&#39;t have to be the whole file.","body":"I&#39;m having a problem parsing the csv file due to mismatch between <code>String</code> and <code>BigDecimal</code>. Can you provide your csv sample file that works for you? It doesn&#39;t have to be the whole file."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1675870725,"post_id":75195801,"comment_id":133021659,"body_markdown":"yes please edit it to BigDecimal. I will provide the sample file later. See the post it should be the same content.","body":"yes please edit it to BigDecimal. I will provide the sample file later. See the post it should be the same content."}],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676095232,"creation_date":1676065640,"answer_id":75416409,"question_id":75195801,"body_markdown":"Here is a working example with more structured code according your needs.\r\nException handling is ommitted since I have no idea about your requirements regarding to them, but you can easily adapt this code for your needs.\r\n\r\nAlso I have no idea what is this `item.getAvgMonthlySearches()`, since I don&#39;t see this field  in your csv example. This field and checking of it also ommitted, but you can add it.\r\n\r\nThe code is decomposed to:\r\n\r\n - Main method with preparations and starting the entire directory processing\r\n - method for directory processing\r\n - method for file processing\r\n - method for line processing\r\n - method for moving the file\r\n - factory method for creating predicates (&quot;matchers&quot; or &quot;conditions&quot; that you can specify as much as you want, instead of using &quot;found500&quot; or &quot;found5000&quot; etc.)\r\n\r\nI used this csv according to your question:\r\n\r\n    car;score;description \r\n    Opel;30;43 \r\n    Volvo;500;434 \r\n    Kia;50;3 \r\n    Toyota;4;4\r\n    Mazda;5000;4\r\n\r\nSo, the model is the following:\r\n\r\n    @Data\r\n    public class CsvLine {\r\n        @CsvBindByPosition(position = 1)\r\n        private BigDecimal value;\r\n    }\r\n\r\n\r\nThe main method:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        // preparing\r\n        File directory = Path.of(&quot;/Users/kerbermeister/csv/&quot;).toFile();\r\n        // we want to process only csv files from directory\r\n        FilenameFilter csvFilter = (dir, name) -&gt; name.toLowerCase().endsWith(&quot;.csv&quot;);\r\n\r\n        // specify what conditions should meet the value of every line\r\n        // to be considered as a valid line\r\n        List&lt;Predicate&lt;BigDecimal&gt;&gt; fileMatchConditions = List.of(\r\n                ne(new BigDecimal(&quot;50&quot;)),\r\n                ne(new BigDecimal(&quot;500&quot;)),\r\n                ne(new BigDecimal(&quot;5000&quot;))\r\n        );\r\n        // start directory processing\r\n        processDirectory(directory, csvFilter, fileMatchConditions);\r\n    }\r\n\r\nThe primary process with the rest methods:\r\n\r\n    public static void processDirectory(File directory, FilenameFilter filter,\r\n                                        List&lt;Predicate&lt;BigDecimal&gt;&gt; fileMatchConditions) throws IOException {\r\n\r\n        Path processedFolderPath = createDirectory(Path.of(directory.getAbsolutePath() + &quot;/processed&quot;));\r\n        Path invalidFilesFolderPath = createDirectory(Path.of(directory.getAbsolutePath() + &quot;/invalid_files&quot;));\r\n\r\n        File[] files = directory.listFiles(filter);\r\n\r\n        if (Objects.nonNull(files)) {\r\n            for (File file : files) {\r\n                if (isFileValid(file, fileMatchConditions)) {\r\n                    // if file is valid, then move it to the processed directory\r\n                    moveFile(file, processedFolderPath, StandardCopyOption.REPLACE_EXISTING);\r\n                } else {\r\n                    // if file is not, then move it to the invalid-files directory\r\n                    moveFile(file, invalidFilesFolderPath, StandardCopyOption.REPLACE_EXISTING);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * primary file validation\r\n     * parses the file\r\n     */\r\n    public static boolean isFileValid(File file, List&lt;Predicate&lt;BigDecimal&gt;&gt; matchConditions) throws IOException {\r\n        try (Reader reader = Files.newBufferedReader(file.getAbsoluteFile().toPath())) {\r\n            List&lt;CsvLine&gt; lineBeans = new CsvToBeanBuilder&lt;CsvLine&gt;(reader)\r\n                    .withType(CsvLine.class)\r\n                    .withSkipLines(1) // skip header\r\n                    .withSeparator(&#39;;&#39;) // line separator\r\n                    .build()\r\n                    .parse();\r\n\r\n            // unique violations found within this file\r\n            Set&lt;BigDecimal&gt; violations = new HashSet&lt;&gt;();\r\n            for (CsvLine line : lineBeans) {\r\n                // skip if value in the line is null\r\n                if (Objects.isNull(line.getValue())) {\r\n                    continue;\r\n                }\r\n                if (!isLineValid(line, matchConditions)) {\r\n                    violations.add(line.getValue());\r\n                }\r\n                // if we reached all the violations, then file is not valid\r\n                if (violations.size() == matchConditions.size()) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * if all predicates return true, then line is valid\r\n     */\r\n    public static boolean isLineValid(CsvLine line, List&lt;Predicate&lt;BigDecimal&gt;&gt; conditions) {\r\n        return conditions.stream().allMatch(predicate -&gt; predicate.test(line.getValue()));\r\n    }\r\n\r\n    /**\r\n     * move the file to the directory specified\r\n     */\r\n    public static void moveFile(File file, Path moveTo, StandardCopyOption option) throws IOException {\r\n        Files.move(file.toPath(), moveTo.resolve(file.getName()), option);\r\n    }\r\n\r\n    /**\r\n     * factory method for Predicate that returns true if compareTo != 0\r\n     */\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; Predicate&lt;T&gt; ne(T target) {\r\n        return (value) -&gt; value.compareTo(target) != 0;\r\n    }\r\n\r\n    public static Path createDirectory(Path path) throws IOException {\r\n        if (!Files.exists(path) || !Files.isDirectory(path)) {\r\n            return Files.createDirectory(path);\r\n        }\r\n        return path;\r\n    }\r\n\r\nSo, I think you can adapt it to your needs.\r\n\r\n","title":"Iterate csv file and find matches","body":"<p>Here is a working example with more structured code according your needs.\nException handling is ommitted since I have no idea about your requirements regarding to them, but you can easily adapt this code for your needs.</p>\n<p>Also I have no idea what is this <code>item.getAvgMonthlySearches()</code>, since I don't see this field  in your csv example. This field and checking of it also ommitted, but you can add it.</p>\n<p>The code is decomposed to:</p>\n<ul>\n<li>Main method with preparations and starting the entire directory processing</li>\n<li>method for directory processing</li>\n<li>method for file processing</li>\n<li>method for line processing</li>\n<li>method for moving the file</li>\n<li>factory method for creating predicates (&quot;matchers&quot; or &quot;conditions&quot; that you can specify as much as you want, instead of using &quot;found500&quot; or &quot;found5000&quot; etc.)</li>\n</ul>\n<p>I used this csv according to your question:</p>\n<pre><code>car;score;description \nOpel;30;43 \nVolvo;500;434 \nKia;50;3 \nToyota;4;4\nMazda;5000;4\n</code></pre>\n<p>So, the model is the following:</p>\n<pre><code>@Data\npublic class CsvLine {\n    @CsvBindByPosition(position = 1)\n    private BigDecimal value;\n}\n</code></pre>\n<p>The main method:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    // preparing\n    File directory = Path.of(&quot;/Users/kerbermeister/csv/&quot;).toFile();\n    // we want to process only csv files from directory\n    FilenameFilter csvFilter = (dir, name) -&gt; name.toLowerCase().endsWith(&quot;.csv&quot;);\n\n    // specify what conditions should meet the value of every line\n    // to be considered as a valid line\n    List&lt;Predicate&lt;BigDecimal&gt;&gt; fileMatchConditions = List.of(\n            ne(new BigDecimal(&quot;50&quot;)),\n            ne(new BigDecimal(&quot;500&quot;)),\n            ne(new BigDecimal(&quot;5000&quot;))\n    );\n    // start directory processing\n    processDirectory(directory, csvFilter, fileMatchConditions);\n}\n</code></pre>\n<p>The primary process with the rest methods:</p>\n<pre><code>public static void processDirectory(File directory, FilenameFilter filter,\n                                    List&lt;Predicate&lt;BigDecimal&gt;&gt; fileMatchConditions) throws IOException {\n\n    Path processedFolderPath = createDirectory(Path.of(directory.getAbsolutePath() + &quot;/processed&quot;));\n    Path invalidFilesFolderPath = createDirectory(Path.of(directory.getAbsolutePath() + &quot;/invalid_files&quot;));\n\n    File[] files = directory.listFiles(filter);\n\n    if (Objects.nonNull(files)) {\n        for (File file : files) {\n            if (isFileValid(file, fileMatchConditions)) {\n                // if file is valid, then move it to the processed directory\n                moveFile(file, processedFolderPath, StandardCopyOption.REPLACE_EXISTING);\n            } else {\n                // if file is not, then move it to the invalid-files directory\n                moveFile(file, invalidFilesFolderPath, StandardCopyOption.REPLACE_EXISTING);\n            }\n        }\n    }\n}\n\n/**\n * primary file validation\n * parses the file\n */\npublic static boolean isFileValid(File file, List&lt;Predicate&lt;BigDecimal&gt;&gt; matchConditions) throws IOException {\n    try (Reader reader = Files.newBufferedReader(file.getAbsoluteFile().toPath())) {\n        List&lt;CsvLine&gt; lineBeans = new CsvToBeanBuilder&lt;CsvLine&gt;(reader)\n                .withType(CsvLine.class)\n                .withSkipLines(1) // skip header\n                .withSeparator(';') // line separator\n                .build()\n                .parse();\n\n        // unique violations found within this file\n        Set&lt;BigDecimal&gt; violations = new HashSet&lt;&gt;();\n        for (CsvLine line : lineBeans) {\n            // skip if value in the line is null\n            if (Objects.isNull(line.getValue())) {\n                continue;\n            }\n            if (!isLineValid(line, matchConditions)) {\n                violations.add(line.getValue());\n            }\n            // if we reached all the violations, then file is not valid\n            if (violations.size() == matchConditions.size()) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\n/**\n * if all predicates return true, then line is valid\n */\npublic static boolean isLineValid(CsvLine line, List&lt;Predicate&lt;BigDecimal&gt;&gt; conditions) {\n    return conditions.stream().allMatch(predicate -&gt; predicate.test(line.getValue()));\n}\n\n/**\n * move the file to the directory specified\n */\npublic static void moveFile(File file, Path moveTo, StandardCopyOption option) throws IOException {\n    Files.move(file.toPath(), moveTo.resolve(file.getName()), option);\n}\n\n/**\n * factory method for Predicate that returns true if compareTo != 0\n */\npublic static &lt;T extends Comparable&lt;T&gt;&gt; Predicate&lt;T&gt; ne(T target) {\n    return (value) -&gt; value.compareTo(target) != 0;\n}\n\npublic static Path createDirectory(Path path) throws IOException {\n    if (!Files.exists(path) || !Files.isDirectory(path)) {\n        return Files.createDirectory(path);\n    }\n    return path;\n}\n</code></pre>\n<p>So, I think you can adapt it to your needs.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"closed_date":1676312222,"accepted_answer_id":75416409,"answer_count":1,"score":-3,"last_activity_date":1676095232,"creation_date":1674327305,"question_id":75195801,"body_markdown":"I have the following csv file structure: \r\n\r\n| car | score| description |\r\n|:---- |:------:| -----:|\r\n| Opel  | 30    | 43 |\r\n| Volvo  | 500    | 434 |\r\n| Kia  | 50    | 3 |\r\n| Toyota  | 4    | 4 |\r\n| Mazda  | 5000    | 4 |\r\n\r\nI want to find numbers match. For example if 3 numbers are found : 50, 500, 5000 I want to find this pattern. I tried this:\r\n\r\n    File filesList[] = directoryPath.listFiles(textFileFilter);\r\n    System.out.println(&quot;List of the text files in the specified directory:&quot;);\r\n\r\n    for(File file : filesList) {\r\n\r\n        try {\r\n            try (var br = new FileReader(file.getAbsolutePath(), StandardCharsets.UTF_16)){\r\n                List&lt;CsvLine&gt; beans = new CsvToBeanBuilder(br)\r\n                        .withType(CsvLine.class)\r\n                        .build()\r\n                        .parse();\r\n\r\n                Path originalPath = null;\r\n\r\n                boolean found50 = false;\r\n                boolean found500 = false;\r\n                boolean found5000 = false;\r\n\r\n                for (CsvLine item : beans)\r\n                {\r\n                    originalPath = file.toPath();\r\n\r\n                    if (item.getAvgMonthlySearches() != null)\r\n                    {\r\n                        if (item.getValue().compareTo(BigDecimal.valueOf(50)) == 0)\r\n                        {\r\n                            found50 = true;\r\n                        }\r\n\r\n                        if (item.getValue().compareTo(BigDecimal.valueOf(500)) == 0)\r\n                        {\r\n                            found500 = true;\r\n                        }\r\n\r\n                        if (item.getValue().compareTo(BigDecimal.valueOf(5000)) == 0)\r\n                        {\r\n                            found5000 = true;\r\n                        }\r\n                    }\r\n\r\n                    if(found50 == true &amp;&amp; found500 == true &amp;&amp; found5000 == true){\r\n\r\n                        found50 = false;\r\n                        found500 = false;\r\n                        found5000 = false;\r\n\r\n                        // Move here file into new subdirectory when file is invalid\r\n                        Path copied = Paths.get(file.getParent() + &quot;/invalid_files&quot;);\r\n                        try {\r\n                            // Use resolve method to keep the &quot;processed&quot; as folder\r\n                            br.close();\r\n                            Files.move(originalPath, copied.resolve(originalPath.getFileName()), StandardCopyOption.REPLACE_EXISTING);\r\n                            break;\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (file.exists())\r\n                {\r\n                    // Move here file into new subdirectory when file processing is finished\r\n                    Path copied = Paths.get(file.getParent() + &quot;/processed&quot;);\r\n                    try {\r\n                        // Use resolve method to keep the &quot;processed&quot; as folder\r\n                        br.close();\r\n                        Files.move(originalPath, copied.resolve(originalPath.getFileName()), StandardCopyOption.REPLACE_EXISTING);\r\n                        break;\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        } catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n        Path originalPath = file.toPath();\r\n        System.out.println(String.format(&quot;\\nProcessed file : %s, moving the file to subfolder /processed\\n&quot;,\r\n                originalPath));\r\n    }\r\n\r\n\r\n@Getter\r\n@Setter\r\npublic class CsvLine {\r\n\r\n    @CsvBindByPosition(position = 2)\r\n    private BigDecimal value;\r\n\r\n}\r\n\r\nI want if I match all values 50, 500 and 5000 on csv file lines to move the current file into a separate folder. I tried to run the code but nothing happens. Do you know where I&#39;m wrong?\r\n","title":"Iterate csv file and find matches","body":"<p>I have the following csv file structure:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">car</th>\n<th style=\"text-align: center;\">score</th>\n<th style=\"text-align: right;\">description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">Opel</td>\n<td style=\"text-align: center;\">30</td>\n<td style=\"text-align: right;\">43</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Volvo</td>\n<td style=\"text-align: center;\">500</td>\n<td style=\"text-align: right;\">434</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Kia</td>\n<td style=\"text-align: center;\">50</td>\n<td style=\"text-align: right;\">3</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Toyota</td>\n<td style=\"text-align: center;\">4</td>\n<td style=\"text-align: right;\">4</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Mazda</td>\n<td style=\"text-align: center;\">5000</td>\n<td style=\"text-align: right;\">4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I want to find numbers match. For example if 3 numbers are found : 50, 500, 5000 I want to find this pattern. I tried this:</p>\n<pre><code>File filesList[] = directoryPath.listFiles(textFileFilter);\nSystem.out.println(&quot;List of the text files in the specified directory:&quot;);\n\nfor(File file : filesList) {\n\n    try {\n        try (var br = new FileReader(file.getAbsolutePath(), StandardCharsets.UTF_16)){\n            List&lt;CsvLine&gt; beans = new CsvToBeanBuilder(br)\n                    .withType(CsvLine.class)\n                    .build()\n                    .parse();\n\n            Path originalPath = null;\n\n            boolean found50 = false;\n            boolean found500 = false;\n            boolean found5000 = false;\n\n            for (CsvLine item : beans)\n            {\n                originalPath = file.toPath();\n\n                if (item.getAvgMonthlySearches() != null)\n                {\n                    if (item.getValue().compareTo(BigDecimal.valueOf(50)) == 0)\n                    {\n                        found50 = true;\n                    }\n\n                    if (item.getValue().compareTo(BigDecimal.valueOf(500)) == 0)\n                    {\n                        found500 = true;\n                    }\n\n                    if (item.getValue().compareTo(BigDecimal.valueOf(5000)) == 0)\n                    {\n                        found5000 = true;\n                    }\n                }\n\n                if(found50 == true &amp;&amp; found500 == true &amp;&amp; found5000 == true){\n\n                    found50 = false;\n                    found500 = false;\n                    found5000 = false;\n\n                    // Move here file into new subdirectory when file is invalid\n                    Path copied = Paths.get(file.getParent() + &quot;/invalid_files&quot;);\n                    try {\n                        // Use resolve method to keep the &quot;processed&quot; as folder\n                        br.close();\n                        Files.move(originalPath, copied.resolve(originalPath.getFileName()), StandardCopyOption.REPLACE_EXISTING);\n                        break;\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n\n            if (file.exists())\n            {\n                // Move here file into new subdirectory when file processing is finished\n                Path copied = Paths.get(file.getParent() + &quot;/processed&quot;);\n                try {\n                    // Use resolve method to keep the &quot;processed&quot; as folder\n                    br.close();\n                    Files.move(originalPath, copied.resolve(originalPath.getFileName()), StandardCopyOption.REPLACE_EXISTING);\n                    break;\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }\n    } catch (Exception e){\n        e.printStackTrace();\n    }\n    Path originalPath = file.toPath();\n    System.out.println(String.format(&quot;\\nProcessed file : %s, moving the file to subfolder /processed\\n&quot;,\n            originalPath));\n}\n</code></pre>\n<p>@Getter\n@Setter\npublic class CsvLine {</p>\n<pre><code>@CsvBindByPosition(position = 2)\nprivate BigDecimal value;\n</code></pre>\n<p>}</p>\n<p>I want if I match all values 50, 500 and 5000 on csv file lines to move the current file into a separate folder. I tried to run the code but nothing happens. Do you know where I'm wrong?</p>\n"},{"tags":["java","type-conversion"],"comments":[{"owner":{"account_id":103011,"reputation":36121,"user_id":276138,"display_name":"a&#39;r"},"score":1,"creation_date":1270036907,"post_id":2552420,"comment_id":2554511,"body_markdown":"For most questions with an error, you should post up the error message that you are receiving.","body":"For most questions with an error, you should post up the error message that you are receiving."},{"owner":{"account_id":1569322,"reputation":912,"user_id":1457383,"accept_rate":54,"display_name":"Ninjaxor"},"score":1,"creation_date":1365296228,"post_id":2552420,"comment_id":22569403,"body_markdown":"I like stackoverflow more.  Thanks for ranking 1 in google.","body":"I like stackoverflow more.  Thanks for ranking 1 in google."}],"answers":[{"tags":[],"owner":{"account_id":28410,"reputation":22205,"user_id":75863,"accept_rate":76,"display_name":"jjujuma"},"down_vote_count":0,"up_vote_count":106,"is_accepted":true,"score":106,"last_activity_date":1270036570,"creation_date":1270034915,"answer_id":2552447,"question_id":2552420,"body_markdown":"You want\r\n\r\n    String[] strarray = strlist.toArray(new String[0]);\r\n\r\nSee [here][1] for the documentation and note that you can also call this method in such a way that it populates the passed array, rather than just using it to work out what type to return.  Also note that maybe when you print your array you&#39;d prefer\r\n\r\n    System.out.println(Arrays.toString(strarray));\r\n\r\nsince that will print the actual elements.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/List.html#toArray(T[])","title":"Converting List&lt;String&gt; to String[] in Java","body":"<p>You want</p>\n\n<pre><code>String[] strarray = strlist.toArray(new String[0]);\n</code></pre>\n\n<p>See <a href=\"http://java.sun.com/javase/6/docs/api/java/util/List.html#toArray(T[])\" rel=\"noreferrer\">here</a> for the documentation and note that you can also call this method in such a way that it populates the passed array, rather than just using it to work out what type to return.  Also note that maybe when you print your array you'd prefer</p>\n\n<pre><code>System.out.println(Arrays.toString(strarray));\n</code></pre>\n\n<p>since that will print the actual elements.</p>\n"},{"tags":[],"owner":{"account_id":79696,"reputation":11819,"user_id":225801,"display_name":"crazyscot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1270035025,"creation_date":1270035025,"answer_id":2552461,"question_id":2552420,"body_markdown":"`List.toArray()` necessarily returns an array of Object. To get an array of String, you need to use the casting syntax:\r\n\r\n    String[] strarray = strlist.toArray(new String[0]);\r\n\r\nSee the javadoc for java.util.List for more.","title":"Converting List&lt;String&gt; to String[] in Java","body":"<p><code>List.toArray()</code> necessarily returns an array of Object. To get an array of String, you need to use the casting syntax:</p>\n\n<pre><code>String[] strarray = strlist.toArray(new String[0]);\n</code></pre>\n\n<p>See the javadoc for java.util.List for more.</p>\n"},{"tags":[],"owner":{"account_id":67794,"reputation":4822,"user_id":198165,"accept_rate":85,"display_name":"Paul"},"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1270035237,"creation_date":1270035237,"answer_id":2552479,"question_id":2552420,"body_markdown":"    public static void main(String[] args) {\r\n        List&lt;String&gt; strlist = new ArrayList&lt;String&gt;();\r\n        strlist.add(&quot;sdfs1&quot;);\r\n        strlist.add(&quot;sdfs2&quot;);\r\n\r\n        String[] strarray = new String[strlist.size()]\r\n        strlist.toArray(strarray );\r\n\r\n        System.out.println(strarray);\r\n    \r\n    \r\n    }","title":"Converting List&lt;String&gt; to String[] in Java","body":"<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; strlist = new ArrayList&lt;String&gt;();\n    strlist.add(\"sdfs1\");\n    strlist.add(\"sdfs2\");\n\n    String[] strarray = new String[strlist.size()]\n    strlist.toArray(strarray );\n\n    System.out.println(strarray);\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1270036517,"creation_date":1270036517,"answer_id":2552617,"question_id":2552420,"body_markdown":"I&#39;ve designed and implemented [Dollar][1] for this kind of tasks:  \r\n \r\n    String[] strarray= $(strlist).toArray();\r\n\r\n  [1]: http://bitbucket.org/dfa/dollar/","title":"Converting List&lt;String&gt; to String[] in Java","body":"<p>I've designed and implemented <a href=\"http://bitbucket.org/dfa/dollar/\" rel=\"nofollow noreferrer\">Dollar</a> for this kind of tasks:  </p>\n\n<pre><code>String[] strarray= $(strlist).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1683541,"reputation":578,"user_id":1547266,"display_name":"Arthur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1388763262,"creation_date":1388763262,"answer_id":20907179,"question_id":2552420,"body_markdown":"hope this can help someone out there:\r\n\r\nList&lt;String&gt; list = ..;\r\n\r\nString [] stringArray = list.toArray(new String[list.size()]);\r\n\r\ngreat answer from here: https://stackoverflow.com/a/4042464/1547266","title":"Converting List&lt;String&gt; to String[] in Java","body":"<p>hope this can help someone out there:</p>\n\n<p>List list = ..;</p>\n\n<p>String [] stringArray = list.toArray(new String[list.size()]);</p>\n\n<p>great answer from here: <a href=\"https://stackoverflow.com/a/4042464/1547266\">https://stackoverflow.com/a/4042464/1547266</a></p>\n"},{"tags":[],"owner":{"account_id":2151963,"reputation":620,"user_id":1908087,"display_name":"phil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676094915,"creation_date":1393844308,"answer_id":22144938,"question_id":2552420,"body_markdown":"```\r\nString[] strarray = strlist.toArray(new String[0]);\r\n```\r\nIf you want `List&lt;String&gt;` to convert to string use `StringUtils.join(slist, &#39;\\n&#39;);`","title":"Converting List&lt;String&gt; to String[] in Java","body":"<pre><code>String[] strarray = strlist.toArray(new String[0]);\n</code></pre>\n<p>If you want <code>List&lt;String&gt;</code> to convert to string use <code>StringUtils.join(slist, '\\n');</code></p>\n"}],"owner":{"account_id":12757,"reputation":25497,"user_id":25282,"accept_rate":78,"display_name":"Christian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168969,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":2552447,"answer_count":6,"score":73,"last_activity_date":1676094915,"creation_date":1270034675,"question_id":2552420,"body_markdown":"How do I convert a [list][1] of String into an [array][2]? The following code returns an error.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;String&gt; strlist = new ArrayList&lt;String&gt;();\r\n\t\tstrlist.add(&quot;sdfs1&quot;);\r\n\t\tstrlist.add(&quot;sdfs2&quot;);\r\n\t\tString[] strarray = (String[]) strlist.toArray();\t\t\r\n\t\tSystem.out.println(strarray);\r\n\t}\r\nError:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;\r\n    \tat test.main(test.java:10)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html","title":"Converting List&lt;String&gt; to String[] in Java","body":"<p>How do I convert a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html\" rel=\"noreferrer\">list</a> of String into an <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"noreferrer\">array</a>? The following code returns an error.</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; strlist = new ArrayList&lt;String&gt;();\n    strlist.add(\"sdfs1\");\n    strlist.add(\"sdfs2\");\n    String[] strarray = (String[]) strlist.toArray();       \n    System.out.println(strarray);\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to [Ljava.lang.String;\n    at test.main(test.java:10)\n</code></pre>\n"},{"tags":["java","wso2"],"answers":[{"tags":[],"owner":{"account_id":805516,"reputation":621,"user_id":885014,"accept_rate":33,"display_name":"Mark McWiggins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508291357,"creation_date":1508291357,"answer_id":46801642,"question_id":46799639,"body_markdown":"It was just one of those Dumb Things ...\r\n\r\nI downloaded the server yesterday via Safari on my Mac ... and it unpacked the .zip file automatically.\r\n\r\nI don&#39;t know .zip subcommands as well as I know tar, so I repacked with tar and gzipped the result for upload to the server I was using.\r\n\r\nI must have done something wrong and/or the Mac version of tar is different from the Linux version. Because the .zip file download and upload works perfectly ...\r\n\r\nI&#39;ll certainly have to watch for this in the future ...","title":"Getting a .jar error in startup of wso2server","body":"<p>It was just one of those Dumb Things ...</p>\n\n<p>I downloaded the server yesterday via Safari on my Mac ... and it unpacked the .zip file automatically.</p>\n\n<p>I don't know .zip subcommands as well as I know tar, so I repacked with tar and gzipped the result for upload to the server I was using.</p>\n\n<p>I must have done something wrong and/or the Mac version of tar is different from the Linux version. Because the .zip file download and upload works perfectly ...</p>\n\n<p>I'll certainly have to watch for this in the future ...</p>\n"}],"owner":{"account_id":805516,"reputation":621,"user_id":885014,"accept_rate":33,"display_name":"Mark McWiggins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676094625,"creation_date":1508276334,"question_id":46799639,"body_markdown":"I am working on getting a [WSO2][1] server up for a project for work.\r\n\r\nI am installing on [Red Hat Linux][2] 7. I get:\r\n\r\n```lang-none\r\n./wso2server.sh\r\nJAVA_HOME environment variable is set to /opt/jdk1.8.0_144/\r\nCARBON_HOME environment variable is set to /opt/wso2das-3.1.0\r\nUsing Java memory options: -Xms256m -Xmx2048m\r\nLoading spark environment variables\r\nError occurred during initialization of VM\r\njava/lang/ClassNotFoundException: error in opening JAR file\r\n/opt/wso2das-3.1.0/lib/endorsed/._geronimo-jaxws_2.2_spec-1.0.jar\r\n```\r\n\r\nHow can I fix this?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/WSO2\r\n  [2]: https://en.wikipedia.org/wiki/Red_Hat_Linux\r\n","title":"Getting a .jar error in startup of wso2server","body":"<p>I am working on getting a <a href=\"https://en.wikipedia.org/wiki/WSO2\" rel=\"nofollow noreferrer\">WSO2</a> server up for a project for work.</p>\n<p>I am installing on <a href=\"https://en.wikipedia.org/wiki/Red_Hat_Linux\" rel=\"nofollow noreferrer\">Red Hat Linux</a> 7. I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>./wso2server.sh\nJAVA_HOME environment variable is set to /opt/jdk1.8.0_144/\nCARBON_HOME environment variable is set to /opt/wso2das-3.1.0\nUsing Java memory options: -Xms256m -Xmx2048m\nLoading spark environment variables\nError occurred during initialization of VM\njava/lang/ClassNotFoundException: error in opening JAR file\n/opt/wso2das-3.1.0/lib/endorsed/._geronimo-jaxws_2.2_spec-1.0.jar\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","eclipse","maven","eclipse-plugin"],"owner":{"account_id":26389265,"reputation":11,"user_id":20041346,"display_name":"Qinabox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676093883,"creation_date":1676093883,"question_id":75418297,"body_markdown":"i&#39;m currently confused that eclipse ignores my configured pom building instructions.\r\n\r\nUsed : Eclipse 2023-03 / 2022-12 (both same failure)\r\n\r\nparent pom :\r\n\r\n```\r\n    ...\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;my-module&lt;/module&gt;\r\n        &lt;module&gt;my-webapp&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                &lt;artifactId&gt;my-module&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            ...\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.12.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;**/module.dtd&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.14.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.10.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n                        &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\n\r\nmy-module structure (pom refers to parent without any build instructions - packaging -&gt; jar) :\r\n\r\n&gt; src/main/java\r\n&gt; ---...\r\n&gt; src/main/resources\r\n&gt; src/main/resources/META-INF/test/file.xml\r\n&gt; src/main/resources/example/bootstrap/file2.xml\r\n\r\nmy-webapp (refers to parent pom - packaging -&gt; war) :\r\n\r\n```\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;webResources&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;directory&gt;${config.path}&lt;/directory&gt;\r\n                            &lt;targetPath&gt;WEB-INF/config&lt;/targetPath&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;**/*&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/resource&gt;\r\n                    &lt;/webResources&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nBuild with mvn clean install results in a deployable war file which contains my-module.jar in lib folder as expected, size matches also the generated jar file in my-module targets folder.\r\n\r\nso targets generated .war/.jar are correct. \r\n\r\nNow i setup inside eclipse a default tomcat server above v.9.0.50+ (tried multiple versions, also latest 9.0.71). and added my-webapp(example-context) to the server (cleaned before and then publish).\r\n\r\nat this point i inspected my unzipped war file inside tomcat webapproot (tried meta and tomcat location (both same failure)) , and was completly confused that my my-module-1.0.jar file only contains only META-INF/maven (pom.xml + pom.properties) and my java classes so that it doesen&#39;t match the size as expected (due to missing resource files).\r\n\r\nIs there any trick or option to configure eclipse to build the artifact with resources as instructed by my poms or any other vaiable soloution ?\r\n\r\nIf i use intellij, it worked out of the box but i prefer eclipse for my project\r\n\r\n\r\n\r\n\r\n\r\nTried different versions of eclipse , tomcat , maven and plugin versions (latest) but nothing seems to work.\r\n\r\nSometimes if i change my resource or java files of my-mopdule, eclipse makes a redeploy and then the artifact contains the correct my-module-1.0.jar with resources included but after another mvn clean install its gone and i need to modify any files again up to 10 times if it happens again.","title":"Eclipse (latest) artifact builder does not include ressources","body":"<p>i'm currently confused that eclipse ignores my configured pom building instructions.</p>\n<p>Used : Eclipse 2023-03 / 2022-12 (both same failure)</p>\n<p>parent pom :</p>\n<pre><code>    ...\n\n    &lt;modules&gt;\n        &lt;module&gt;my-module&lt;/module&gt;\n        &lt;module&gt;my-webapp&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\n                &lt;artifactId&gt;my-module&lt;/artifactId&gt;\n                &lt;version&gt;1.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            ...\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                    &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.12.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;**/module.dtd&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.14.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.10.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;17&lt;/source&gt;\n                        &lt;target&gt;17&lt;/target&gt;\n                        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n                        &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>my-module structure (pom refers to parent without any build instructions - packaging -&gt; jar) :</p>\n<blockquote>\n<p>src/main/java\n---...\nsrc/main/resources\nsrc/main/resources/META-INF/test/file.xml\nsrc/main/resources/example/bootstrap/file2.xml</p>\n</blockquote>\n<p>my-webapp (refers to parent pom - packaging -&gt; war) :</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;webResources&gt;\n                        &lt;resource&gt;\n                            &lt;directory&gt;${config.path}&lt;/directory&gt;\n                            &lt;targetPath&gt;WEB-INF/config&lt;/targetPath&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**/*&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/resource&gt;\n                    &lt;/webResources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Build with mvn clean install results in a deployable war file which contains my-module.jar in lib folder as expected, size matches also the generated jar file in my-module targets folder.</p>\n<p>so targets generated .war/.jar are correct.</p>\n<p>Now i setup inside eclipse a default tomcat server above v.9.0.50+ (tried multiple versions, also latest 9.0.71). and added my-webapp(example-context) to the server (cleaned before and then publish).</p>\n<p>at this point i inspected my unzipped war file inside tomcat webapproot (tried meta and tomcat location (both same failure)) , and was completly confused that my my-module-1.0.jar file only contains only META-INF/maven (pom.xml + pom.properties) and my java classes so that it doesen't match the size as expected (due to missing resource files).</p>\n<p>Is there any trick or option to configure eclipse to build the artifact with resources as instructed by my poms or any other vaiable soloution ?</p>\n<p>If i use intellij, it worked out of the box but i prefer eclipse for my project</p>\n<p>Tried different versions of eclipse , tomcat , maven and plugin versions (latest) but nothing seems to work.</p>\n<p>Sometimes if i change my resource or java files of my-mopdule, eclipse makes a redeploy and then the artifact contains the correct my-module-1.0.jar with resources included but after another mvn clean install its gone and i need to modify any files again up to 10 times if it happens again.</p>\n"},{"tags":["java","asynchronous","rmi"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1680515658,"post_id":75418276,"comment_id":133905819,"body_markdown":"Your question embodies a contradiction in terms. Method invocation is necessarily synchronous: you invoke the method and you wait for the return value. If that&#39;s not what you want, RMI is not for you.","body":"Your question embodies a contradiction in terms. Method invocation is necessarily synchronous: you invoke the method and you wait for the return value. If that&#39;s not what you want, RMI is not for you."}],"owner":{"account_id":21829901,"reputation":87,"user_id":16124947,"display_name":"Glitch07"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676093549,"creation_date":1676093549,"question_id":75418276,"body_markdown":"How can we achieve asynchronous communication in Java RMI using Blocking Priority Queue?\r\n\r\nIn my application, I have LeadServer and two slave servers. Lead Server calls the methods of slave server and pass object over the RMI. I am able to do it synchronously but now I want to do it asynchronously. So how can we achieve this using Blocking Priority Queue?","title":"Asynchronous Communication in Java RMI using Blocking Priority Queue","body":"<p>How can we achieve asynchronous communication in Java RMI using Blocking Priority Queue?</p>\n<p>In my application, I have LeadServer and two slave servers. Lead Server calls the methods of slave server and pass object over the RMI. I am able to do it synchronously but now I want to do it asynchronously. So how can we achieve this using Blocking Priority Queue?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":8908111,"reputation":440,"user_id":6649314,"display_name":"Prabir Ghosh"},"score":0,"creation_date":1676093504,"post_id":75418244,"comment_id":133072777,"body_markdown":"Have you tried with &quot;file:///&quot; before the file path?  For example you should write file:///D:/workspace_intellij_forKiri/...&quot;  Use forward slash only.","body":"Have you tried with &quot;file:///&quot; before the file path?  For example you should write file:///D:/workspace_intellij_forKiri/...&quot;  Use forward slash only."}],"owner":{"account_id":26739298,"reputation":1,"user_id":20340345,"display_name":"nueon112"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676092937,"creation_date":1676092898,"question_id":75418244,"body_markdown":"I am going to convert MultipartFile to File and upload it to S3 bucket.\r\nHowever, when running the test, an error occurs in the process of converting MultipartFile to File.\r\nERROR : java.nio.file.AccessDeniedException: D:\\workspace_intellij_forKiri\\Kiri\\server\\kiri\\temp\\8b28a2f2-7276-4036\r\n\r\n```java\r\nmultipartFile.transferTo(file);\r\n```\r\n\r\nPlease advise if there is anything I am missing.\r\n\r\nThe spring boot version is 2.7.7 version.\r\n\r\n\r\n### Test code\r\n\r\n```java\r\n@WithAccount(&quot;creamyyyy&quot;)\r\n    @DisplayName(&quot;image save test&quot;)\r\n    @Test\r\n    public void createImageTest() throws Exception {\r\n        //given\r\n\r\n        String filename = &quot;files&quot;; \r\n        String contentType = &quot;png&quot;; \r\n        \r\n        MockMultipartFile image1 = new MockMultipartFile(\r\n                filename,\r\n                filename + &quot;.&quot; + contentType,\r\n                &quot;image/png&quot;,\r\n                filename.getBytes());\r\n\r\n\r\n        //when\r\n        //then\r\n        this.mockMvc.perform(  //== ERROR!!!\r\n                        MockMvcRequestBuilders \r\n                                .multipart(&quot;/api/posts/image&quot;) \r\n                                .file(image1)\r\n                                .contentType(MediaType.MULTIPART_FORM_DATA)\r\n                                .characterEncoding(&quot;UTF-8&quot;)\r\n                )\r\n                .andDo(print())\r\n                .andExpect(status().isOk());\r\n    }\r\n```\r\n\r\n\r\n### ImageService Code\r\n\r\n```java\r\n    // FileSave\r\n    public List&lt;ImageResDto&gt; addFile(List&lt;MultipartFile&gt; multipartFiles) throws IOException {\r\n        List&lt;ImageResDto&gt; imageResDtoList = new ArrayList&lt;&gt;();\r\n        /**\r\n         *   &lt;ImageResDto&gt;\r\n         *   private Long image_id;\r\n         *   private String imgUrl;\r\n         */\r\n\r\n        String absolutePath = new File(&quot;&quot;).getAbsolutePath() + File.separator + &quot;temp&quot;;\r\n\r\n        for (MultipartFile multipartFile : multipartFiles) {\r\n            String contentType = multipartFile.getContentType();\r\n            if(ObjectUtils.isEmpty(contentType)) {\r\n                throw new RuntimeException(&quot;FILE TYPE NOT FOUND&quot;);\r\n            } else if(!verifyContentType(contentType)){\r\n                throw new RuntimeException(&quot;FILE TYPE NOT FOUND&quot;);\r\n            }\r\n        }\r\n\r\n        for (MultipartFile multipartFile : multipartFiles) {\r\n\r\n            String filename = UUID.randomUUID() + multipartFile.getOriginalFilename();\r\n\r\n            // save in local\r\n            String fullFilePath = absolutePath + File.separator + filename;\r\n            System.out.println(&quot;fullFilePath = &quot; + fullFilePath);\r\n            File file = new File(fullFilePath);\r\n            if(!file.exists()) { file.mkdirs(); }\r\n\r\n            multipartFile.transferTo(file); // ERROR ... OTL\r\n            file.createNewFile(); \r\n\r\n            // S3 upload\r\n            amazonS3.putObject(\r\n                    new PutObjectRequest(bucket, filename, file)\r\n                            .withCannedAcl(CannedAccessControlList.PublicRead) \r\n            );\r\n\r\n            String imgUrl = amazonS3.getUrl(bucket, filename).toString();\r\n\r\n            Image newImage = Image.builder()\r\n                    .filename(filename)\r\n                    .filepath(filename)\r\n                    .imgUrl(imgUrl)\r\n                    .build();\r\n\r\n            imageRepository.save(newImage);\r\n            ImageResDto imageResDto = ImageResDto.of(newImage);\r\n\r\n            imageResDtoList.add(imageResDto);\r\n\r\n            file.delete(); // local file delete\r\n\r\n        }\r\n\r\n        return imageResDtoList;\r\n\r\n    }\r\n```\r\n\r\n### ImageController Code\r\n\r\n```java\r\n@PostMapping(value = &quot;/api/posts/image&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE, MediaType.APPLICATION_JSON_VALUE})\r\n    public ResponseEntity createImage(@RequestPart(value = &quot;files&quot;) List&lt;MultipartFile&gt; multipartFiles) throws IOException {\r\n\r\n        System.out.println(&quot;ImageController Runnnn&quot;);\r\n        // get member\r\n        PrincipalDetails principalDetails = (PrincipalDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n        Member member = principalDetails.getMember();\r\n\r\n\r\n        List&lt;ImageResDto&gt; imageResDtoList = imageService.addFile(multipartFiles);\r\n\r\n        return new ResponseEntity(imageResDtoList, HttpStatus.CREATED);\r\n    }\r\n```\r\n\r\n\r\n\r\nI tried to specify a separate route using Path, but I failed.\r\n\r\n```java\r\n // Error ..java.nio.file.AccessDeniedException =&gt; Path \r\n // multipartFile -&gt; File \r\n Path path = Paths.get(fullFilePath).toAbsolutePath();\r\n multipartFile.transferTo(path.toFile());\r\n Files.createFile(path);\r\n```\r\n\r\nWhat is incomprehensible is that when tested using PostMan, the file is normally uploaded to the S3 bucket.\r\n\r\nPlease tell me if I applied anything wrong.","title":"How to solve ERROR java.nio.file.AccessDeniedException: D:\\workspace_intellij_forKiri\\Kiri\\server\\kiri\\temp\\28004d6bc31cfiles.png","body":"<p>I am going to convert MultipartFile to File and upload it to S3 bucket.\nHowever, when running the test, an error occurs in the process of converting MultipartFile to File.\nERROR : java.nio.file.AccessDeniedException: D:\\workspace_intellij_forKiri\\Kiri\\server\\kiri\\temp\\8b28a2f2-7276-4036</p>\n<pre class=\"lang-java prettyprint-override\"><code>multipartFile.transferTo(file);\n</code></pre>\n<p>Please advise if there is anything I am missing.</p>\n<p>The spring boot version is 2.7.7 version.</p>\n<h3>Test code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@WithAccount(&quot;creamyyyy&quot;)\n    @DisplayName(&quot;image save test&quot;)\n    @Test\n    public void createImageTest() throws Exception {\n        //given\n\n        String filename = &quot;files&quot;; \n        String contentType = &quot;png&quot;; \n        \n        MockMultipartFile image1 = new MockMultipartFile(\n                filename,\n                filename + &quot;.&quot; + contentType,\n                &quot;image/png&quot;,\n                filename.getBytes());\n\n\n        //when\n        //then\n        this.mockMvc.perform(  //== ERROR!!!\n                        MockMvcRequestBuilders \n                                .multipart(&quot;/api/posts/image&quot;) \n                                .file(image1)\n                                .contentType(MediaType.MULTIPART_FORM_DATA)\n                                .characterEncoding(&quot;UTF-8&quot;)\n                )\n                .andDo(print())\n                .andExpect(status().isOk());\n    }\n</code></pre>\n<h3>ImageService Code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>    // FileSave\n    public List&lt;ImageResDto&gt; addFile(List&lt;MultipartFile&gt; multipartFiles) throws IOException {\n        List&lt;ImageResDto&gt; imageResDtoList = new ArrayList&lt;&gt;();\n        /**\n         *   &lt;ImageResDto&gt;\n         *   private Long image_id;\n         *   private String imgUrl;\n         */\n\n        String absolutePath = new File(&quot;&quot;).getAbsolutePath() + File.separator + &quot;temp&quot;;\n\n        for (MultipartFile multipartFile : multipartFiles) {\n            String contentType = multipartFile.getContentType();\n            if(ObjectUtils.isEmpty(contentType)) {\n                throw new RuntimeException(&quot;FILE TYPE NOT FOUND&quot;);\n            } else if(!verifyContentType(contentType)){\n                throw new RuntimeException(&quot;FILE TYPE NOT FOUND&quot;);\n            }\n        }\n\n        for (MultipartFile multipartFile : multipartFiles) {\n\n            String filename = UUID.randomUUID() + multipartFile.getOriginalFilename();\n\n            // save in local\n            String fullFilePath = absolutePath + File.separator + filename;\n            System.out.println(&quot;fullFilePath = &quot; + fullFilePath);\n            File file = new File(fullFilePath);\n            if(!file.exists()) { file.mkdirs(); }\n\n            multipartFile.transferTo(file); // ERROR ... OTL\n            file.createNewFile(); \n\n            // S3 upload\n            amazonS3.putObject(\n                    new PutObjectRequest(bucket, filename, file)\n                            .withCannedAcl(CannedAccessControlList.PublicRead) \n            );\n\n            String imgUrl = amazonS3.getUrl(bucket, filename).toString();\n\n            Image newImage = Image.builder()\n                    .filename(filename)\n                    .filepath(filename)\n                    .imgUrl(imgUrl)\n                    .build();\n\n            imageRepository.save(newImage);\n            ImageResDto imageResDto = ImageResDto.of(newImage);\n\n            imageResDtoList.add(imageResDto);\n\n            file.delete(); // local file delete\n\n        }\n\n        return imageResDtoList;\n\n    }\n</code></pre>\n<h3>ImageController Code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/api/posts/image&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE, MediaType.APPLICATION_JSON_VALUE})\n    public ResponseEntity createImage(@RequestPart(value = &quot;files&quot;) List&lt;MultipartFile&gt; multipartFiles) throws IOException {\n\n        System.out.println(&quot;ImageController Runnnn&quot;);\n        // get member\n        PrincipalDetails principalDetails = (PrincipalDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n        Member member = principalDetails.getMember();\n\n\n        List&lt;ImageResDto&gt; imageResDtoList = imageService.addFile(multipartFiles);\n\n        return new ResponseEntity(imageResDtoList, HttpStatus.CREATED);\n    }\n</code></pre>\n<p>I tried to specify a separate route using Path, but I failed.</p>\n<pre class=\"lang-java prettyprint-override\"><code> // Error ..java.nio.file.AccessDeniedException =&gt; Path \n // multipartFile -&gt; File \n Path path = Paths.get(fullFilePath).toAbsolutePath();\n multipartFile.transferTo(path.toFile());\n Files.createFile(path);\n</code></pre>\n<p>What is incomprehensible is that when tested using PostMan, the file is normally uploaded to the S3 bucket.</p>\n<p>Please tell me if I applied anything wrong.</p>\n"},{"tags":["java","spring-boot","spring-batch","batch-processing"],"comments":[{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":0,"creation_date":1676030092,"post_id":75409987,"comment_id":133059747,"body_markdown":"Check if the file exists before creating/returning the FlatFileItemReader and return something else instead?","body":"Check if the file exists before creating/returning the FlatFileItemReader and return something else instead?"}],"answers":[{"tags":[],"owner":{"account_id":18532137,"reputation":63,"user_id":13502658,"display_name":"Jiandong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676092624,"creation_date":1676092624,"answer_id":75418234,"question_id":75409987,"body_markdown":"1. set the **strict** property to **false** so that input resource exceptions would not happen.\r\n\r\n2. check the readCount after the batch job is completed. if readCount == 0, means no data, and you handle your logic here.\r\n\r\nexample for your case (implementing the JobExecutionListener):\r\n    \r\n    @Override\r\n    public void afterJob(JobExecution jobExecution) {\r\n        StepExecution[] stepExecutions = jobExecution.getStepExecutions().toArray(new StepExecution[]{});\r\n        StepExecution stepExecution = stepExecutions[0];\r\n        long readCount = stepExecution.getReadCount();\r\n        if (readCount == 0) {\r\n            // your logic\r\n        }\r\n    }\r\n    \r\n\r\n","title":"Spring Batch: how to avoid IllegalStateException: Input resource must exist","body":"<ol>\n<li><p>set the <strong>strict</strong> property to <strong>false</strong> so that input resource exceptions would not happen.</p>\n</li>\n<li><p>check the readCount after the batch job is completed. if readCount == 0, means no data, and you handle your logic here.</p>\n</li>\n</ol>\n<p>example for your case (implementing the JobExecutionListener):</p>\n<pre><code>@Override\npublic void afterJob(JobExecution jobExecution) {\n    StepExecution[] stepExecutions = jobExecution.getStepExecutions().toArray(new StepExecution[]{});\n    StepExecution stepExecution = stepExecutions[0];\n    long readCount = stepExecution.getReadCount();\n    if (readCount == 0) {\n        // your logic\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19670013,"reputation":193,"user_id":14399455,"display_name":"wishyouwerehere"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676092624,"creation_date":1676025748,"question_id":75409987,"body_markdown":"I&#39;m developing a batch application using Spring Batch with Java 11.\r\nThis is my reader() method:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n\t@Bean\r\n    public FlatFileItemReader&lt;MyClass&gt; reader() {\r\n        BeanWrapperFieldSetMapper beanWrapperMapper = new BeanWrapperFieldSetMapper&lt;MyClass&gt;();\r\n        beanWrapperMapper.setTargetType(MyClass.class);\r\n\r\n        return new FlatFileItemReaderBuilder&lt;MyClass&gt;()\r\n                .name(&quot;MyClassReader&quot;)\r\n                .resource(new FileSystemResource(inputFolder.concat(File.separator).concat(&quot;my-input-file.csv&quot;)))\r\n                .delimited()\r\n                .names(&quot;field1&quot;, &quot;field2&quot;)\r\n                .fieldSetMapper(beanWrapperMapper)\r\n                .build();\r\n    }\r\n\r\nI did several tests and when the file `my-input-file.csv` is there, the batch works fine. However, I would like to get the following behavior: if the file `my-input-file.csv` is missing, I still want something written to the output file and **no errors be raised**.\r\nRight now, if I run the batch but the file is not in the folder, this error comes up:\r\n\r\n    IllegalStateException: Input resource must exist (reader is in &#39;strict&#39; mode): path [C:\\\\Users\\\\username\\\\Desktop\\\\src\\\\test\\\\resources\\\\my-input-file.csv]\r\n\r\nI am aware that the error is because the file could not be found. But I really would like to handle this case to generate a different output file (and I don&#39;t want the batch process to fail).\r\n\r\nHow can this be done?","title":"Spring Batch: how to avoid IllegalStateException: Input resource must exist","body":"<p>I'm developing a batch application using Spring Batch with Java 11.\nThis is my reader() method:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\n@Bean\npublic FlatFileItemReader&lt;MyClass&gt; reader() {\n    BeanWrapperFieldSetMapper beanWrapperMapper = new BeanWrapperFieldSetMapper&lt;MyClass&gt;();\n    beanWrapperMapper.setTargetType(MyClass.class);\n\n    return new FlatFileItemReaderBuilder&lt;MyClass&gt;()\n            .name(&quot;MyClassReader&quot;)\n            .resource(new FileSystemResource(inputFolder.concat(File.separator).concat(&quot;my-input-file.csv&quot;)))\n            .delimited()\n            .names(&quot;field1&quot;, &quot;field2&quot;)\n            .fieldSetMapper(beanWrapperMapper)\n            .build();\n}\n</code></pre>\n<p>I did several tests and when the file <code>my-input-file.csv</code> is there, the batch works fine. However, I would like to get the following behavior: if the file <code>my-input-file.csv</code> is missing, I still want something written to the output file and <strong>no errors be raised</strong>.\nRight now, if I run the batch but the file is not in the folder, this error comes up:</p>\n<pre><code>IllegalStateException: Input resource must exist (reader is in 'strict' mode): path [C:\\\\Users\\\\username\\\\Desktop\\\\src\\\\test\\\\resources\\\\my-input-file.csv]\n</code></pre>\n<p>I am aware that the error is because the file could not be found. But I really would like to handle this case to generate a different output file (and I don't want the batch process to fail).</p>\n<p>How can this be done?</p>\n"},{"tags":["java","html"],"comments":[{"owner":{"account_id":792027,"reputation":2645,"user_id":869368,"display_name":"Matthias"},"score":0,"creation_date":1575389719,"post_id":59160419,"comment_id":104546742,"body_markdown":"I can&#39;t find any source for what I am about to say. But as far as I remember, swing does not support images that are loaded from the web. There is definitely a way to show images that are stored on the classpath- and I believe that it is also possible to show images that are stored in a file. \n\nMaybe, downloading that image and storing it in a temp directory might be the solution (you&#39;ll then need to pass the path to that file into your image). \n\nAlternatively, check out openhtmltopdf - it&#39;s a more sophisticated tool to convert html to pdfs and images.","body":"I can&#39;t find any source for what I am about to say. But as far as I remember, swing does not support images that are loaded from the web. There is definitely a way to show images that are stored on the classpath- and I believe that it is also possible to show images that are stored in a file.   Maybe, downloading that image and storing it in a temp directory might be the solution (you&#39;ll then need to pass the path to that file into your image).   Alternatively, check out openhtmltopdf - it&#39;s a more sophisticated tool to convert html to pdfs and images."},{"owner":{"account_id":15858786,"reputation":23,"user_id":11442499,"display_name":"Diego Armando"},"score":0,"creation_date":1575390320,"post_id":59160419,"comment_id":104547091,"body_markdown":"Already stored the image in a local repository to try, and also did not work. But I will check the tool you talked about. Thank you.","body":"Already stored the image in a local repository to try, and also did not work. But I will check the tool you talked about. Thank you."},{"owner":{"account_id":2180986,"reputation":807,"user_id":1930495,"display_name":"Michele Dorigatti"},"score":0,"creation_date":1575391477,"post_id":59160419,"comment_id":104547734,"body_markdown":"It would be probably helpful if you added a minimal example of the generated html. Also, you could explain better, maybe with an image, what do you mean with &quot;the image contained in the html is not being generated&quot;.","body":"It would be probably helpful if you added a minimal example of the generated html. Also, you could explain better, maybe with an image, what do you mean with &quot;the image contained in the html is not being generated&quot;."}],"answers":[{"tags":[],"owner":{"account_id":10245009,"reputation":1997,"user_id":7561063,"display_name":"Allabakash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1624881476,"creation_date":1575391061,"answer_id":59161563,"question_id":59160419,"body_markdown":"You can make use of this library https://code.google.com/archive/p/java-html2image/ which provides options to convert html to image.\r\n\r\nCode will look something like this.\r\n\r\n    String html = &quot;&lt;body lang=PT-BR style=&#39;tab-interval:35.4pt&#39;&gt;&lt;img src=&#39;http://nxcache.nexon.net/all/v1.5.2/img/gnt/games-dropdown/maplestory.jpg&#39;&gt;&lt;/body&gt;&quot;;\r\n    \r\n    \t\t    HtmlImageGenerator hig = new HtmlImageGenerator();\r\n    \t\t    hig.loadHtml(html);\r\n    \t\t    hig.saveAsImage(new File(&quot;test.png&quot;));\r\n\r\n","title":"Java convert Html to Image","body":"<p>You can make use of this library <a href=\"https://code.google.com/archive/p/java-html2image/\" rel=\"nofollow noreferrer\">https://code.google.com/archive/p/java-html2image/</a> which provides options to convert html to image.</p>\n<p>Code will look something like this.</p>\n<pre><code>String html = &quot;&lt;body lang=PT-BR style='tab-interval:35.4pt'&gt;&lt;img src='http://nxcache.nexon.net/all/v1.5.2/img/gnt/games-dropdown/maplestory.jpg'&gt;&lt;/body&gt;&quot;;\n\n            HtmlImageGenerator hig = new HtmlImageGenerator();\n            hig.loadHtml(html);\n            hig.saveAsImage(new File(&quot;test.png&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3006965,"reputation":4976,"user_id":2551287,"accept_rate":89,"display_name":"young-ceo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676090014,"creation_date":1676084215,"answer_id":75417846,"question_id":59160419,"body_markdown":"Using `java-html2image` (https://github.com/hkirk/java-html2image):\r\n\r\n```xml\r\n// pom.xml\r\n&lt;repositories&gt;\r\n  &lt;repository&gt;\r\n    &lt;id&gt;jitpack.io&lt;/id&gt;\r\n    &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n  &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n...\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.hkirk&lt;/groupId&gt;\r\n    &lt;artifactId&gt;java-html2image&lt;/artifactId&gt;\r\n    &lt;version&gt;0.9&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n```java\r\npublic void testing() {\r\n    HtmlImageGenerator imageGenerator = new HtmlImageGenerator();\r\n    imageGenerator.loadHtml(&quot;&lt;body&gt;&lt;span&gt;Hello World!&lt;/span&gt;&lt;/body&gt;&quot;);\r\n    imageGenerator.saveAsImage(&quot;testing.png&quot;);\r\n}\r\n```\r\n\r\nThe bad part of using `java-html2image` is: the output image always has white borders (so having black background is impossible).\r\n\r\n---\r\n\r\n**Updates:**\r\n\r\nI found the solution for the white border issue:\r\n\r\n```java\r\nHtmlImageGenerator imageGenerator = new HtmlImageGenerator() {\r\n    protected JEditorPane createJEditorPane() {\r\n        JEditorPane editor = super.createJEditorPane();\r\n        editor.setOpaque(false); // The solution\r\n        return editor;\r\n    }\r\n};\r\n```\r\n\r\nNow the output image is clear!","title":"Java convert Html to Image","body":"<p>Using <code>java-html2image</code> (<a href=\"https://github.com/hkirk/java-html2image\" rel=\"nofollow noreferrer\">https://github.com/hkirk/java-html2image</a>):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>// pom.xml\n&lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;jitpack.io&lt;/id&gt;\n    &lt;url&gt;https://jitpack.io&lt;/url&gt;\n  &lt;/repository&gt;\n&lt;/repositories&gt;\n...\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.github.hkirk&lt;/groupId&gt;\n    &lt;artifactId&gt;java-html2image&lt;/artifactId&gt;\n    &lt;version&gt;0.9&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public void testing() {\n    HtmlImageGenerator imageGenerator = new HtmlImageGenerator();\n    imageGenerator.loadHtml(&quot;&lt;body&gt;&lt;span&gt;Hello World!&lt;/span&gt;&lt;/body&gt;&quot;);\n    imageGenerator.saveAsImage(&quot;testing.png&quot;);\n}\n</code></pre>\n<p>The bad part of using <code>java-html2image</code> is: the output image always has white borders (so having black background is impossible).</p>\n<hr />\n<p><strong>Updates:</strong></p>\n<p>I found the solution for the white border issue:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HtmlImageGenerator imageGenerator = new HtmlImageGenerator() {\n    protected JEditorPane createJEditorPane() {\n        JEditorPane editor = super.createJEditorPane();\n        editor.setOpaque(false); // The solution\n        return editor;\n    }\n};\n</code></pre>\n<p>Now the output image is clear!</p>\n"}],"owner":{"account_id":15858786,"reputation":23,"user_id":11442499,"display_name":"Diego Armando"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19908,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59161563,"answer_count":2,"score":2,"last_activity_date":1676090014,"creation_date":1575387003,"question_id":59160419,"body_markdown":"I generated a Html with information of my client, so that he can attach them to your website or email.\r\nBut some clients asked me to generate an image and not the html. I used the code below to generate the image, and it went well, but the image contained in the html is not being generated. When I open the HTML code in browser it works correctly, but when I generated the image from html, it generates only text and breaks the image.\r\n\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n    String html = &quot;&lt;body lang=PT-BR style=&#39;tab-interval:35.4pt&#39;&gt;&lt;img src=&#39;http://nxcache.nexon.net/all/v1.5.2/img/gnt/games-dropdown/maplestory.jpg&#39;&gt;&lt;/body&gt;&quot;;\r\n    \r\n    int width = 600, height = 200;\r\n\r\n    BufferedImage image = GraphicsEnvironment.getLocalGraphicsEnvironment()\r\n        .getDefaultScreenDevice().getDefaultConfiguration()\r\n        .createCompatibleImage(width, height);\r\n\r\n    Graphics graphics = image.createGraphics();\r\n\r\n    JEditorPane jep = new JEditorPane(&quot;text/html&quot;, html);\r\n    jep.setSize(width, height);\r\n    jep.print(graphics);\r\n\r\n    ImageIO.write(image, &quot;png&quot;, new File(&quot;C:\\\\Users\\\\MYUSER\\\\Documents\\\\NetBeansProjects\\\\HtmlToImage\\\\Image.png&quot;));\r\n\r\nDoes anyone have any idea what might be happening?\r\n\r\n\r\nThis is my problem in picture. --&gt; [Erro][1]\r\n\r\n\r\nproject on git: [github][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FZSHA.png\r\n  [2]: http://github.com/dragoso/HtmlToImage","title":"Java convert Html to Image","body":"<p>I generated a Html with information of my client, so that he can attach them to your website or email.\nBut some clients asked me to generate an image and not the html. I used the code below to generate the image, and it went well, but the image contained in the html is not being generated. When I open the HTML code in browser it works correctly, but when I generated the image from html, it generates only text and breaks the image.</p>\n\n<hr>\n\n<pre><code>public static void main(String[] args) throws Exception {\nString html = \"&lt;body lang=PT-BR style='tab-interval:35.4pt'&gt;&lt;img src='http://nxcache.nexon.net/all/v1.5.2/img/gnt/games-dropdown/maplestory.jpg'&gt;&lt;/body&gt;\";\n\nint width = 600, height = 200;\n\nBufferedImage image = GraphicsEnvironment.getLocalGraphicsEnvironment()\n    .getDefaultScreenDevice().getDefaultConfiguration()\n    .createCompatibleImage(width, height);\n\nGraphics graphics = image.createGraphics();\n\nJEditorPane jep = new JEditorPane(\"text/html\", html);\njep.setSize(width, height);\njep.print(graphics);\n\nImageIO.write(image, \"png\", new File(\"C:\\\\Users\\\\MYUSER\\\\Documents\\\\NetBeansProjects\\\\HtmlToImage\\\\Image.png\"));\n</code></pre>\n\n<p>Does anyone have any idea what might be happening?</p>\n\n<p>This is my problem in picture. --> <a href=\"https://i.stack.imgur.com/FZSHA.png\" rel=\"nofollow noreferrer\">Erro</a></p>\n\n<p>project on git: <a href=\"http://github.com/dragoso/HtmlToImage\" rel=\"nofollow noreferrer\">github</a></p>\n"},{"tags":["java","maven","version","versioning","build-numbers"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676087542,"post_id":75417979,"comment_id":133072421,"body_markdown":"A version number like that is typically a version control fingerprint; e.g. the first part of a git commit checksum.   So `2.0.0-SNAPSHOT-g57517b7` is likely to represent a prerelease (i.e. SNAPSHOT) build for 2.0.0 corresponding to commit `g57517b7`.","body":"A version number like that is typically a version control fingerprint; e.g. the first part of a git commit checksum.   So <code>2.0.0-SNAPSHOT-g57517b7</code> is likely to represent a prerelease (i.e. SNAPSHOT) build for 2.0.0 corresponding to commit <code>g57517b7</code>."}],"answers":[{"tags":[],"owner":{"account_id":3468285,"reputation":17,"user_id":2903319,"display_name":"Mutaev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676088402,"creation_date":1676088372,"answer_id":75418038,"question_id":75417979,"body_markdown":"The last part of the version name looks like a current git commit id.\r\nHave a look here [Include git commit hash in jar version][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40446275/include-git-commit-hash-in-jar-version","title":"Maven - Versioning the Project","body":"<p>The last part of the version name looks like a current git commit id.\nHave a look here <a href=\"https://stackoverflow.com/questions/40446275/include-git-commit-hash-in-jar-version\">Include git commit hash in jar version</a></p>\n"}],"owner":{"account_id":18131155,"reputation":91,"user_id":13186253,"display_name":"Ey&#252;p Yıldız"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1676088402,"creation_date":1676087067,"question_id":75417979,"body_markdown":"I&#39;m trying to learn more about how big project builds are being versioned by developer teams using maven. For example, some projects have versions like: 2.0.0-SNAPSHOT-g57517b7, what that &quot;g57517b7&quot; represents exactly? and is it possible to automate versioning process that increments those number or some kind of build number on maven?","title":"Maven - Versioning the Project","body":"<p>I'm trying to learn more about how big project builds are being versioned by developer teams using maven. For example, some projects have versions like: 2.0.0-SNAPSHOT-g57517b7, what that &quot;g57517b7&quot; represents exactly? and is it possible to automate versioning process that increments those number or some kind of build number on maven?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1676086124,"post_id":75417914,"comment_id":133072332,"body_markdown":"Well, clearly you thought incorrectly. Why did you think that?","body":"Well, clearly you thought incorrectly. Why did you think that?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1676086456,"post_id":75417914,"comment_id":133072359,"body_markdown":"Please read [this](https://meta.stackoverflow.com/a/323382/5133585) and clarify your question.","body":"Please read <a href=\"https://meta.stackoverflow.com/a/323382/5133585\">this</a> and clarify your question."},{"owner":{"account_id":5611077,"reputation":5944,"user_id":4443784,"accept_rate":72,"display_name":"Tom"},"score":0,"creation_date":1676086680,"post_id":75417914,"comment_id":133072370,"body_markdown":"@Sweeper there are `final` variable issue with inner class,but i can&#39;t reproduce when this problem would occur,thanks.","body":"@Sweeper there are <code>final</code> variable issue with inner class,but i can&#39;t reproduce when this problem would occur,thanks."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676087642,"creation_date":1676087642,"answer_id":75418005,"question_id":75417914,"body_markdown":"The [Java Language Specification][1] says:\r\n\r\n&gt; Any local variable, formal parameter, or exception parameter used but not declared in an inner class must either be declared final or be effectively final ([&#167;4.12.4][2]), or a compile-time error occurs where the use is attempted.\r\n\r\nYou most likely recalled/remembered an incorrect version of that. You might have mistook it as:\r\n\r\n&gt; Any **instance variable**, local variable, formal parameter, or exception parameter used but not declared in an inner class must either be declared final &lt;s&gt;**or be effectively final ([&#167;4.12.4][2])**&lt;/s&gt;, or a compile-time error occurs where the use is attempted.\r\n\r\n`greeting` is a field (aka instance variable), so can be used in inner classes whether or not it is final or not.\r\n\r\n`ss`, though it is a formal parameter, is *effectively final*, so it can be used in inner classes too. Note that the phrase &quot;effectively final&quot; has a formal definition in [&#167;4.12.4][2], but informally, it just means &quot;you did not reassign it another value in this method&quot; in this context.\r\n\r\nSee this [post][3] for why this restriction exists.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.1.3\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4\r\n  [3]: https://stackoverflow.com/q/39889003/5133585","title":"Can inner class refer non finalvariable defined in outer class in Java 8","body":"<p>The <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.1.3\" rel=\"nofollow noreferrer\">Java Language Specification</a> says:</p>\n<blockquote>\n<p>Any local variable, formal parameter, or exception parameter used but not declared in an inner class must either be declared final or be effectively final (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">§4.12.4</a>), or a compile-time error occurs where the use is attempted.</p>\n</blockquote>\n<p>You most likely recalled/remembered an incorrect version of that. You might have mistook it as:</p>\n<blockquote>\n<p>Any <strong>instance variable</strong>, local variable, formal parameter, or exception parameter used but not declared in an inner class must either be declared final <s><strong>or be effectively final (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">§4.12.4</a>)</strong></s>, or a compile-time error occurs where the use is attempted.</p>\n</blockquote>\n<p><code>greeting</code> is a field (aka instance variable), so can be used in inner classes whether or not it is final or not.</p>\n<p><code>ss</code>, though it is a formal parameter, is <em>effectively final</em>, so it can be used in inner classes too. Note that the phrase &quot;effectively final&quot; has a formal definition in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">§4.12.4</a>, but informally, it just means &quot;you did not reassign it another value in this method&quot; in this context.</p>\n<p>See this <a href=\"https://stackoverflow.com/q/39889003/5133585\">post</a> for why this restriction exists.</p>\n"}],"owner":{"account_id":5611077,"reputation":5944,"user_id":4443784,"accept_rate":72,"display_name":"Tom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75418005,"answer_count":1,"score":3,"last_activity_date":1676087642,"creation_date":1676085779,"question_id":75417914,"body_markdown":"I have always thought that  `inner class CAN NOT refer non final variable defined in outer class`\r\n\r\nBut, when I write the following code, it compiles correctly and can be run in Intellij Idea,\r\n\r\nI am confused,could some one help explain why the following code works? thanks!\r\n\r\n```\r\npublic class Outer {\r\n\r\n    /**\r\n     * non final variable greeting is used in inner class, non final is OK?\r\n     */\r\n    private String greeting = &quot;Greeting1&quot;;\r\n\r\n    /**\r\n     * non final variable s is used in inner class, non final is OK?\r\n     */\r\n    public String doWork(String s) {\r\n        class Inner {\r\n            public String speak(String ss) {\r\n                return greeting + &quot;--- &quot; + s + &quot;---&quot; + ss;\r\n            }\r\n        }\r\n        Inner obj = new Inner();\r\n        return obj.speak(&quot;Inner&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Outer obj = new Outer();\r\n        //Can assign here.\r\n        obj.greeting=&quot;Greeting2&quot;;\r\n        System.out.println(obj.doWork(&quot;Outer&quot;));\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Can inner class refer non finalvariable defined in outer class in Java 8","body":"<p>I have always thought that  <code>inner class CAN NOT refer non final variable defined in outer class</code></p>\n<p>But, when I write the following code, it compiles correctly and can be run in Intellij Idea,</p>\n<p>I am confused,could some one help explain why the following code works? thanks!</p>\n<pre><code>public class Outer {\n\n    /**\n     * non final variable greeting is used in inner class, non final is OK?\n     */\n    private String greeting = &quot;Greeting1&quot;;\n\n    /**\n     * non final variable s is used in inner class, non final is OK?\n     */\n    public String doWork(String s) {\n        class Inner {\n            public String speak(String ss) {\n                return greeting + &quot;--- &quot; + s + &quot;---&quot; + ss;\n            }\n        }\n        Inner obj = new Inner();\n        return obj.speak(&quot;Inner&quot;);\n    }\n\n    public static void main(String[] args) {\n        Outer obj = new Outer();\n        //Can assign here.\n        obj.greeting=&quot;Greeting2&quot;;\n        System.out.println(obj.doWork(&quot;Outer&quot;));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","networking","data-transfer"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1476118212,"post_id":39963021,"comment_id":67205855,"body_markdown":"You may wish to edit your question and explain, in detail, what &quot;is sometimes messy&quot; means, and how you think that not using WiFi will somehow improve upon this. You might also explain what communication mechanism you wish to use (Bluetooth?) that is not WiFi and does not involve the Internet.","body":"You may wish to edit your question and explain, in detail, what &quot;is sometimes messy&quot; means, and how you think that not using WiFi will somehow improve upon this. You might also explain what communication mechanism you wish to use (Bluetooth?) that is not WiFi and does not involve the Internet."},{"owner":{"account_id":3417349,"reputation":266,"user_id":2865828,"accept_rate":83,"display_name":"Nikolai"},"score":0,"creation_date":1476118604,"post_id":39963021,"comment_id":67206065,"body_markdown":"@CommonsWare There you go :)","body":"@CommonsWare There you go :)"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1476119140,"post_id":39963021,"comment_id":67206363,"body_markdown":"Using `adb` pretty much requires getting the Android SDK set up, which will not be a lot of fun. And while `adb` is faster than it used to be, I suspect that it is still slower than WiFi, though perhaps without your router issues. I&#39;m also unclear what a router has to do with the problem, as if this is all local, your users should be inside the network and not traversing a router. I would focus on fixing the network or finding ways of exchanging less data in your app, rather than trying to roll out `adb` to 200+ non-developers.","body":"Using <code>adb</code> pretty much requires getting the Android SDK set up, which will not be a lot of fun. And while <code>adb</code> is faster than it used to be, I suspect that it is still slower than WiFi, though perhaps without your router issues. I&#39;m also unclear what a router has to do with the problem, as if this is all local, your users should be inside the network and not traversing a router. I would focus on fixing the network or finding ways of exchanging less data in your app, rather than trying to roll out <code>adb</code> to 200+ non-developers."}],"owner":{"account_id":3417349,"reputation":266,"user_id":2865828,"accept_rate":83,"display_name":"Nikolai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676087011,"creation_date":1476118023,"question_id":39963021,"body_markdown":"**Context**  \r\nI made a professional Android app, by that I mean it&#39;s not on Playstore and only use for one specific purpose. It&#39;s deployed on around 200 Samsung tablets and work pretty smoothly. To make it simple, it loads data (~300Kb JSON file) in the morning, then users do business stuff and by the end of the day give the devices back after transferring their daily data (~8Mb zip file). It works okay, but managing 200 hundreds people and data transfer over wi-fi is sometimes messy. By messy, I mean that Wi-Router, there&#39;s only one, sometimes shut off connection to some devices, and these ones have to wait &amp; try again later. Also, we had to restrict connections on the router to 15 simultaneous connections to avoid CPU overload. It&#39;s a Fortinet FortiWifi 60D. \r\n\r\n**The problem**  \r\nSo like I said, they load a few data in the morning (~300Kb) but that&#39;s about to change, and now I&#39;m asked to transfer nothing less than 150MB each morning, on each device.\r\n\r\n**My question**  \r\nThat&#39;s a whole lot of data, and I&#39;m afraid Wi-fi isn&#39;t going to be my best option here. I say that because maybe connecting them to a computer and transfer through adb scripts might be faster. Do you have any architecture advices, or any procedures you think I should apply to my problem?\r\n\r\n**More info**  \r\nThe web application sending data to devices is not remote, so no Internet transfer, only local.","title":"Transfer large amount of data between android app &amp; server app","body":"<p><strong>Context</strong><br />\nI made a professional Android app, by that I mean it's not on Playstore and only use for one specific purpose. It's deployed on around 200 Samsung tablets and work pretty smoothly. To make it simple, it loads data (~300Kb JSON file) in the morning, then users do business stuff and by the end of the day give the devices back after transferring their daily data (~8Mb zip file). It works okay, but managing 200 hundreds people and data transfer over wi-fi is sometimes messy. By messy, I mean that Wi-Router, there's only one, sometimes shut off connection to some devices, and these ones have to wait &amp; try again later. Also, we had to restrict connections on the router to 15 simultaneous connections to avoid CPU overload. It's a Fortinet FortiWifi 60D.</p>\n<p><strong>The problem</strong><br />\nSo like I said, they load a few data in the morning (~300Kb) but that's about to change, and now I'm asked to transfer nothing less than 150MB each morning, on each device.</p>\n<p><strong>My question</strong><br />\nThat's a whole lot of data, and I'm afraid Wi-fi isn't going to be my best option here. I say that because maybe connecting them to a computer and transfer through adb scripts might be faster. Do you have any architecture advices, or any procedures you think I should apply to my problem?</p>\n<p><strong>More info</strong><br />\nThe web application sending data to devices is not remote, so no Internet transfer, only local.</p>\n"},{"tags":["javascript","java","html","web"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676106919,"post_id":75417975,"comment_id":133074073,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27758049,"reputation":1,"user_id":21191048,"display_name":"phuc tran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676086967,"creation_date":1676086967,"question_id":75417975,"body_markdown":"I&#39;m buiding a web app from google sheet and I&#39;m trying to show the value of an google sheet cell to the web app, \r\n\r\nAny suggestion? \r\n\r\nThank you in advance! \r\n\r\nI&#39;m able to get Value from the cell using .getValue, but don&#39;t know how to display it to web app","title":"Display value from google sheet cell to an app script web app","body":"<p>I'm buiding a web app from google sheet and I'm trying to show the value of an google sheet cell to the web app,</p>\n<p>Any suggestion?</p>\n<p>Thank you in advance!</p>\n<p>I'm able to get Value from the cell using .getValue, but don't know how to display it to web app</p>\n"},{"tags":["java","modulo"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1656683034,"post_id":72830171,"comment_id":128638617,"body_markdown":"Welcome to Stack Overflow. In your own words, where the code says `long b = a/M;`, what do you think the `a/M` part means? What will be calculated? Where the assignment says &quot;you have to calculate x to the power of n, modulo 10^9+7 i.e. calculate (x^n) % (10^9+7).&quot;, what is your understanding of what the &quot;modulo&quot; part means? (Hint: why do you think a `%` sign is used in the assignment? Do you know what `%` does in a Java program?)","body":"Welcome to Stack Overflow. In your own words, where the code says <code>long b = a&#47;M;</code>, what do you think the <code>a&#47;M</code> part means? What will be calculated? Where the assignment says &quot;you have to calculate x to the power of n, modulo 10^9+7 i.e. calculate (x^n) % (10^9+7).&quot;, what is your understanding of what the &quot;modulo&quot; part means? (Hint: why do you think a <code>%</code> sign is used in the assignment? Do you know what <code>%</code> does in a Java program?)"},{"owner":{"account_id":2684795,"reputation":182440,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":1,"creation_date":1656683103,"post_id":72830171,"comment_id":128638652,"body_markdown":"You have lost precision in `Math.pow` call. `double` can represent exact integer value up to `2**53` ~ `1e15` when you are trying to compute `1e16`","body":"You have lost precision in <code>Math.pow</code> call. <code>double</code> can represent exact integer value up to <code>2**53</code> ~ <code>1e15</code> when you are trying to compute <code>1e16</code>"},{"owner":{"account_id":25645440,"reputation":332,"user_id":19413610,"display_name":"Ayan Dasgupta"},"score":0,"creation_date":1656683361,"post_id":72830171,"comment_id":128638733,"body_markdown":"@KarlKnechtel I made a typo, should have done long b = a%M.\n\nHowever, when I do this, while I do get the desired output for the given sample test case, the code does fail for some base test cases.","body":"@KarlKnechtel I made a typo, should have done long b = a%M.  However, when I do this, while I do get the desired output for the given sample test case, the code does fail for some base test cases."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1656683773,"post_id":72830171,"comment_id":128638870,"body_markdown":"You might give a thought on what 999999999^99999 is, and if you can use `long` to deal with that.","body":"You might give a thought on what 999999999^99999 is, and if you can use <code>long</code> to deal with that."},{"owner":{"account_id":2684795,"reputation":182440,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":0,"creation_date":1656683883,"post_id":72830171,"comment_id":128638908,"body_markdown":"Note the range: it is possible that you will have to raise `1e9` into `10000` power which is `1e90000` this huge number is by far over `double` MaxValue. That&#39;s why naive `Math.pow` will not do.","body":"Note the range: it is possible that you will have to raise <code>1e9</code> into <code>10000</code> power which is <code>1e90000</code> this huge number is by far over <code>double</code> MaxValue. That&#39;s why naive <code>Math.pow</code> will not do."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1656683992,"post_id":72830171,"comment_id":128638958,"body_markdown":"Check out  `BigInteger`.  It has a modulus power method and can handle arbitrarily sized ints.  Or check out a book or number theory and employ some potential optimizations/short cuts.","body":"Check out  <code>BigInteger</code>.  It has a modulus power method and can handle arbitrarily sized ints.  Or check out a book or number theory and employ some potential optimizations/short cuts."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1656692911,"post_id":72830171,"comment_id":128642314,"body_markdown":"Next time, you might want to do a little research. All it takes is a web search.  Check out [Modular Exponentiation](https://www.geeksforgeeks.org/modular-exponentiation-power-in-modular-arithmetic/) for explanations and code.","body":"Next time, you might want to do a little research. All it takes is a web search.  Check out <a href=\"https://www.geeksforgeeks.org/modular-exponentiation-power-in-modular-arithmetic/\" rel=\"nofollow noreferrer\">Modular Exponentiation</a> for explanations and code."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656697886,"creation_date":1656685728,"answer_id":72830791,"question_id":72830171,"body_markdown":"Does this work?\r\n\r\n```java\r\n    public static int modularExponentiation(int x, int n) {\r\n        int modulo = 1000000007;\r\n        if (n == 0) {\r\n            return 1;\r\n        } else if (n == 1) {\r\n            return x % modulo;\r\n        } else if (n == -1) {\r\n            return 1 / x;\r\n        }\r\n        int p = modularExponentiation(x, n &gt;&gt; 1);\r\n        long product = ((long) p * p) % modulo;\r\n        return (int) (product * modularExponentiation(x, n &amp; 1) % modulo);\r\n    }\r\n```\r\n\r\n\r\n----------\r\n\r\nKey points:\r\n\r\n 1. Math.pow(x,n) suffers from overflow and we can&#39;t compensate that overflow relying on result only, that is why initial idea of `Math.pow(x,n) % modulo` produces wrong results\r\n 2. We may notice that `(x * x) % modulo == (x % modulo) * (x % modulo) % modulo`, and it is safe to use `long` here as intermediate result because `x % modulo &lt; modulo` and `modulo * modulo &lt; 2^63 - 1`\r\n 3. We need to reconstruct the process, but naive approach that `x^n` is a product of `n` x&#39;s is too slow - it has O(N) time complexity, however we may notice that `x^2k == (x^k)^2` and `x^(2k+1) == x * (x^k)^2` - so we may use either recursion here or loop to achieve O(LogN) time complexity\r\n\r\nalternative loop solution:\r\n\r\n```java\r\n    public static int modularExponentiation(int x, int n) {\r\n        int modulo = 1000000007;\r\n        long product = 1;\r\n        long p = x;\r\n        while (n != 0) {\r\n            if ((n &amp; 1) == 1) {\r\n                product = product * p % modulo;\r\n            }\r\n            p = (p * p % modulo);\r\n            n &gt;&gt;= 1;\r\n        }\r\n        return (int) product;\r\n    }\r\n```","title":"How to get the correct output in Modulo (10^9 + 7) format?","body":"<p>Does this work?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int modularExponentiation(int x, int n) {\n        int modulo = 1000000007;\n        if (n == 0) {\n            return 1;\n        } else if (n == 1) {\n            return x % modulo;\n        } else if (n == -1) {\n            return 1 / x;\n        }\n        int p = modularExponentiation(x, n &gt;&gt; 1);\n        long product = ((long) p * p) % modulo;\n        return (int) (product * modularExponentiation(x, n &amp; 1) % modulo);\n    }\n</code></pre>\n<hr />\n<p>Key points:</p>\n<ol>\n<li>Math.pow(x,n) suffers from overflow and we can't compensate that overflow relying on result only, that is why initial idea of <code>Math.pow(x,n) % modulo</code> produces wrong results</li>\n<li>We may notice that <code>(x * x) % modulo == (x % modulo) * (x % modulo) % modulo</code>, and it is safe to use <code>long</code> here as intermediate result because <code>x % modulo &lt; modulo</code> and <code>modulo * modulo &lt; 2^63 - 1</code></li>\n<li>We need to reconstruct the process, but naive approach that <code>x^n</code> is a product of <code>n</code> x's is too slow - it has O(N) time complexity, however we may notice that <code>x^2k == (x^k)^2</code> and <code>x^(2k+1) == x * (x^k)^2</code> - so we may use either recursion here or loop to achieve O(LogN) time complexity</li>\n</ol>\n<p>alternative loop solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int modularExponentiation(int x, int n) {\n        int modulo = 1000000007;\n        long product = 1;\n        long p = x;\n        while (n != 0) {\n            if ((n &amp; 1) == 1) {\n                product = product * p % modulo;\n            }\n            p = (p * p % modulo);\n            n &gt;&gt;= 1;\n        }\n        return (int) product;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27758042,"reputation":1,"user_id":21191042,"display_name":"Anand Raj"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676086365,"creation_date":1676086365,"answer_id":75417943,"question_id":72830171,"body_markdown":"If you have problem in C++ then , you can use \r\n\r\nconst unsigned int Mod=1e9+7;","title":"How to get the correct output in Modulo (10^9 + 7) format?","body":"<p>If you have problem in C++ then , you can use</p>\n<p>const unsigned int Mod=1e9+7;</p>\n"}],"owner":{"account_id":25645440,"reputation":332,"user_id":19413610,"display_name":"Ayan Dasgupta"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21092,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72830791,"answer_count":2,"score":1,"last_activity_date":1676086365,"creation_date":1656682726,"question_id":72830171,"body_markdown":"I am working on this code challenge:\r\n\r\n&gt; **Problem Description** \r\n&gt;\r\n&gt; Given 2 integers x and n, you have to calculate x\r\n&gt; to the power of n, modulo 10^9+7 i.e. calculate (x^n) % (10^9+7).\r\n&gt; \r\n&gt; \r\n&gt; In other words, you have to find the value when x is raised to the\r\n&gt; power of n, and then modulo is taken with 10^9+7.\r\n&gt; \r\n&gt; \r\n&gt; a%b means the remainder when a divides b. For instance, 5%3 = 2, as\r\n&gt; when we divide 5 by 3, 2 is the remainder.\r\n&gt; \r\n&gt; \r\n&gt; Note that 10^9 is also represented as 1e9.\r\n&gt; \r\n&gt; **Input format** \r\n&gt; One line of input containing two space separated\r\n&gt; integers, x and n.\r\n&gt; \r\n&gt; **Output format** Print the required answer.\r\n&gt; \r\n&gt; **Sample Input 1** 100000000 2\r\n&gt; \r\n&gt; **Sample Output 1** 930000007\r\n&gt; \r\n&gt; **Explanation 1** (10^8)^2 = 10^16\r\n&gt; \r\n&gt; 10^16 % (10^9+7) = 930000007\r\n&gt; \r\n&gt; **Constraints** 0 &lt;= x &lt; 10^9\r\n&gt; \r\n&gt; 0 &lt;= n &lt; 10^5\r\n\r\n**Code**\r\n\r\nThe following is my code: \r\n\r\n    import java.util.*;\r\n    \r\n    class ModularExponentiation {\r\n        // NOTE: Please do not modify this function\r\n        public static void main(String args[]) {\r\n            Scanner sc = new Scanner(System.in);\r\n            int x = sc.nextInt();\r\n            int n = sc.nextInt();\r\n    \r\n            int ans = modularExponentiation(x, n);\r\n            System.out.println(ans);\r\n        }\r\n    \r\n        // TODO: Implement this method\r\n        static int modularExponentiation(int x, int n) {\r\n            int M = 1000000007;\r\n            long a = (long) Math.pow(x, n);\r\n    \r\n            long b = a%M;\r\n    \r\n            return (int)b;\r\n        }\r\n    }\r\n\r\nWhen I run my code, it succeeds for the sample test case and an edge case, but fails for 3 base cases. How do I make my code succeed all test cases?\r\n\r\n","title":"How to get the correct output in Modulo (10^9 + 7) format?","body":"<p>I am working on this code challenge:</p>\n<blockquote>\n<p><strong>Problem Description</strong></p>\n<p>Given 2 integers x and n, you have to calculate x\nto the power of n, modulo 10^9+7 i.e. calculate (x^n) % (10^9+7).</p>\n<p>In other words, you have to find the value when x is raised to the\npower of n, and then modulo is taken with 10^9+7.</p>\n<p>a%b means the remainder when a divides b. For instance, 5%3 = 2, as\nwhen we divide 5 by 3, 2 is the remainder.</p>\n<p>Note that 10^9 is also represented as 1e9.</p>\n<p><strong>Input format</strong>\nOne line of input containing two space separated\nintegers, x and n.</p>\n<p><strong>Output format</strong> Print the required answer.</p>\n<p><strong>Sample Input 1</strong> 100000000 2</p>\n<p><strong>Sample Output 1</strong> 930000007</p>\n<p><strong>Explanation 1</strong> (10^8)^2 = 10^16</p>\n<p>10^16 % (10^9+7) = 930000007</p>\n<p><strong>Constraints</strong> 0 &lt;= x &lt; 10^9</p>\n<p>0 &lt;= n &lt; 10^5</p>\n</blockquote>\n<p><strong>Code</strong></p>\n<p>The following is my code:</p>\n<pre><code>import java.util.*;\n\nclass ModularExponentiation {\n    // NOTE: Please do not modify this function\n    public static void main(String args[]) {\n        Scanner sc = new Scanner(System.in);\n        int x = sc.nextInt();\n        int n = sc.nextInt();\n\n        int ans = modularExponentiation(x, n);\n        System.out.println(ans);\n    }\n\n    // TODO: Implement this method\n    static int modularExponentiation(int x, int n) {\n        int M = 1000000007;\n        long a = (long) Math.pow(x, n);\n\n        long b = a%M;\n\n        return (int)b;\n    }\n}\n</code></pre>\n<p>When I run my code, it succeeds for the sample test case and an edge case, but fails for 3 base cases. How do I make my code succeed all test cases?</p>\n"},{"tags":["java","kotlin","javafx","right-to-left"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1676144494,"post_id":75416271,"comment_id":133080146,"body_markdown":"I can’t seem to reproduce this in Linux;  the text renders correctly, with the trailing spaces appearing to the left of the word on the second line.  I will try it in Windows as soon as I get a chance.","body":"I can’t seem to reproduce this in Linux;  the text renders correctly, with the trailing spaces appearing to the left of the word on the second line.  I will try it in Windows as soon as I get a chance."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1676149185,"post_id":75416271,"comment_id":133080878,"body_markdown":"I cannot reproduce the behavior in Windows 10, either.  On what operating system are you seeing this behavior?","body":"I cannot reproduce the behavior in Windows 10, either.  On what operating system are you seeing this behavior?"},{"owner":{"account_id":4324621,"reputation":853,"user_id":3531777,"accept_rate":60,"display_name":"vahidreza"},"score":0,"creation_date":1676161497,"post_id":75416271,"comment_id":133082493,"body_markdown":"@VGR I appreciate your time. I&#39;m om MacOS.","body":"@VGR I appreciate your time. I&#39;m om MacOS."},{"owner":{"account_id":4324621,"reputation":853,"user_id":3531777,"accept_rate":60,"display_name":"vahidreza"},"score":0,"creation_date":1676398600,"post_id":75416271,"comment_id":133127804,"body_markdown":"@VGR You are right. I tested my snippet in Linux. It was ok.","body":"@VGR You are right. I tested my snippet in Linux. It was ok."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1676405093,"post_id":75416271,"comment_id":133129647,"body_markdown":"Sounds like a bug in the Mac version of JavaFX.  Perhaps adding directional override characters might serve as a workaround?","body":"Sounds like a bug in the Mac version of JavaFX.  Perhaps adding directional override characters might serve as a workaround?"}],"owner":{"account_id":4324621,"reputation":853,"user_id":3531777,"accept_rate":60,"display_name":"vahidreza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676085119,"creation_date":1676064547,"question_id":75416271,"body_markdown":"I want to show some RTL texts, e.g. Farsi or Arabic, in a JavaFX application. I&#39;ve written the following code that convert desired texts to TextFlow and add them to a VBox with `RIGHT_TO_LEFT` node orientation.\r\nBut if a text ends with spaces, JavaFX renders these spaces at the begging of the text rather than the end of it.\r\n\r\nLet&#39;s take a look at my simple example:\r\n```kotlin\r\nclass JavaFXBidiText : Application() {\r\n    override fun start(stage: Stage) {\r\n        val font = Font(&quot;Tahoma&quot;, 40.0)\r\n\r\n        val vbox = VBox().apply {\r\n            nodeOrientation = NodeOrientation.RIGHT_TO_LEFT\r\n            spacing = 10.0\r\n        }\r\n\r\n        listOf(\r\n            &quot;\\u0633\\u0644\\u0627\\u0645&quot;,\r\n            &quot;\\u0633\\u0644\\u0627\\u0645            &quot;,\r\n            &quot;\\u0633\\u0644\\u0627\\u0645            \\u0633\\u0644\\u0627\\u0645&quot;,\r\n        )\r\n            .map { Text(it).apply { this.font = font }.apply { isUnderline = true } }\r\n            .map { TextFlow(it) }\r\n            .forEach { vbox.children.add(it) }\r\n\r\n\r\n        val scene = Scene(vbox, 500.0, 200.0)\r\n        stage.scene = scene\r\n        stage.show()\r\n    }\r\n}\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n    Application.launch(JavaFXBidiText::class.java, *args)\r\n}\r\n```\r\n\r\nAs it is shown in the following figure, the first and third texts are rendered correctly but the second is not.\r\n\r\n[![result][1]][1]\r\n\r\n\r\n\r\nHow can I show these texts correctly?\r\n\r\n\r\nNote that I am using JavaFX version 18.0.1 on jdk 17.\r\n\r\n  [1]: https://i.stack.imgur.com/T2uHyl.png","title":"JavaFX renders the trailing spaces of TextFlow before its non-space charactes in case of RTL orientation","body":"<p>I want to show some RTL texts, e.g. Farsi or Arabic, in a JavaFX application. I've written the following code that convert desired texts to TextFlow and add them to a VBox with <code>RIGHT_TO_LEFT</code> node orientation.\nBut if a text ends with spaces, JavaFX renders these spaces at the begging of the text rather than the end of it.</p>\n<p>Let's take a look at my simple example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class JavaFXBidiText : Application() {\n    override fun start(stage: Stage) {\n        val font = Font(&quot;Tahoma&quot;, 40.0)\n\n        val vbox = VBox().apply {\n            nodeOrientation = NodeOrientation.RIGHT_TO_LEFT\n            spacing = 10.0\n        }\n\n        listOf(\n            &quot;\\u0633\\u0644\\u0627\\u0645&quot;,\n            &quot;\\u0633\\u0644\\u0627\\u0645            &quot;,\n            &quot;\\u0633\\u0644\\u0627\\u0645            \\u0633\\u0644\\u0627\\u0645&quot;,\n        )\n            .map { Text(it).apply { this.font = font }.apply { isUnderline = true } }\n            .map { TextFlow(it) }\n            .forEach { vbox.children.add(it) }\n\n\n        val scene = Scene(vbox, 500.0, 200.0)\n        stage.scene = scene\n        stage.show()\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    Application.launch(JavaFXBidiText::class.java, *args)\n}\n</code></pre>\n<p>As it is shown in the following figure, the first and third texts are rendered correctly but the second is not.</p>\n<p><a href=\"https://i.stack.imgur.com/T2uHyl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T2uHyl.png\" alt=\"result\" /></a></p>\n<p>How can I show these texts correctly?</p>\n<p>Note that I am using JavaFX version 18.0.1 on jdk 17.</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1675891945,"post_id":75391930,"comment_id":133028217,"body_markdown":"&quot;Spare me the retyping&quot; is *NOT* valid reason for choosing an abstract class or a template class :(  &quot;Code reuse&quot; and &quot;better modularity&quot; *ARE* two good reasons.","body":"&quot;Spare me the retyping&quot; is <i>NOT</i> valid reason for choosing an abstract class or a template class :(  &quot;Code reuse&quot; and &quot;better modularity&quot; <i>ARE</i> two good reasons."},{"owner":{"account_id":21601553,"reputation":25,"user_id":15929619,"display_name":"AbdoCherry"},"score":0,"creation_date":1675895248,"post_id":75391930,"comment_id":133028984,"body_markdown":"Of course. Maybe the wording wasn’t well chosen. I just want to build one or several functions with the same purpose, so I can reuse them in parallel for my different employee types.","body":"Of course. Maybe the wording wasn’t well chosen. I just want to build one or several functions with the same purpose, so I can reuse them in parallel for my different employee types."}],"answers":[{"tags":[],"owner":{"account_id":21601553,"reputation":25,"user_id":15929619,"display_name":"AbdoCherry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676081802,"creation_date":1676081802,"answer_id":75417719,"question_id":75391930,"body_markdown":"somehow I could figure out how to solve my issue. Long story short, I&#180;ll diplaying all my classes. Short disclaimer. ChatGPT helped me to solve the issue.\r\n\r\nMy Class/Project structure:\r\n\r\nPath: src/main/java/dev/cherry/emp\r\n\r\nTree from folder “emp”:\r\n\r\n    .\r\n    ├── EmpApplication.java\r\n    └── Employee\r\n        ├── Controller\r\n        │&#160;&#160; └── EmployeeController.java\r\n        ├── Model\r\n        │&#160;&#160; ├── Admin.java\r\n        │&#160;&#160; └── Clerk.java\r\n        ├── Repository\r\n        │&#160;&#160; ├── AdminRepository.java\r\n        │&#160;&#160; ├── ClerkRepository.java\r\n        │&#160;&#160; └── EmployeeRepository.java\r\n        ├── Service\r\n        │&#160;&#160; └── EmployeeService.java\r\n        └── Util\r\n            ├── Employee.java (abstract)\r\n            └── Gender.java (Enum)\r\n\r\nHere are the classes 1-by-1. Sorry for the wall of text:\r\n\r\n**Abstract Class Employee**\r\n\r\n    package dev.cherry.emp.Employee.Util;\r\n    \r\n    import jakarta.persistence.*;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    @MappedSuperclass\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public abstract class Employee {\r\n    \r\n        @Id\r\n        @Column(name = &quot;emp_id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long empId;\r\n    }\r\n\r\n**Class Admin and Clerk (Sub-/Childclasses)**\r\n\r\n    package dev.cherry.emp.Employee.Model;\r\n    \r\n    import dev.cherry.emp.Employee.Util.Employee;\r\n    import dev.cherry.emp.Employee.Util.Gender;\r\n    import jakarta.persistence.*;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import java.util.Date;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;employee&quot;)\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Clerk extends Employee implements Serializable{\r\n    \r\n    // Attributes\r\n    }\r\n____________________________________________________\r\n\r\n    package dev.cherry.emp.Employee.Model;\r\n    \r\n    import dev.cherry.emp.Employee.Util.Employee;\r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.Table;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.Date;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;admin&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Component\r\n    public class Admin extends Employee implements Serializable {\r\n    \r\n    // Attributes\r\n    }\r\n\r\n**My Repository Classes**\r\n\r\n    package dev.cherry.emp.Employee.Repository;\r\n    \r\n    import dev.cherry.emp.Employee.Util.Employee;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.repository.NoRepositoryBean;\r\n    \r\n    @NoRepositoryBean\r\n    public interface EmployeeRepository&lt;T extends Employee&gt; extends JpaRepository&lt;T, Long&gt; {\r\n    }\r\n____________________________________________________\r\n\r\n    package dev.cherry.emp.Employee.Repository;\r\n    \r\n    import dev.cherry.emp.Employee.Model.Clerk;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface ClerkRepository extends EmployeeRepository&lt;Clerk&gt;{\r\n    }\r\n____________________________________________________\r\n\r\n    package dev.cherry.emp.Employee.Repository;\r\n    \r\n    import dev.cherry.emp.Employee.Model.Admin;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface AdminRepository extends EmployeeRepository&lt;Admin&gt; {\r\n    }\r\n\r\n**My Service Class**\r\n\r\n    package dev.cherry.emp.Employee.Service;\r\n    \r\n    import dev.cherry.emp.Employee.Util.Employee;\r\n    import dev.cherry.emp.Employee.Model.Admin;\r\n    import dev.cherry.emp.Employee.Model.Clerk;\r\n    import dev.cherry.emp.Employee.Repository.AdminRepository;\r\n    import dev.cherry.emp.Employee.Repository.ClerkRepository;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.jetbrains.annotations.NotNull;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class EmployeeService {\r\n        private final AdminRepository adminRepo;\r\n        private final ClerkRepository clerkRepo;\r\n    \r\n        public List&lt;? extends Employee&gt; getAllEmps(@NotNull String type) {\r\n            if (type.equals(&quot;Clerk&quot;)) {\r\n                return (List&lt;Clerk&gt;) clerkRepo.findAll();\r\n            } else if (type.equals(&quot;Admin&quot;)) {\r\n                return (List&lt;Admin&gt;) adminRepo.findAll();\r\n            } else throw new IllegalArgumentException(&quot;Class: &quot; + type + &quot; not found in project&quot;);\r\n        }\r\n    \r\n        public Employee createEmployee(Employee employee) {\r\n            if (employee instanceof Clerk) {\r\n                return clerkRepo.save((Clerk) employee);\r\n            } else if (employee instanceof Admin) {\r\n                return adminRepo.save((Admin) employee);\r\n            } else {\r\n                throw new IllegalArgumentException(&quot;Illegal Employee subclass: &quot; + employee.getClass().getSimpleName());\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**My Controller Class**\r\n\r\n    package dev.cherry.emp.Employee.Controller;\r\n    \r\n    import dev.cherry.emp.Employee.Util.Employee;\r\n    import dev.cherry.emp.Employee.Service.EmployeeService;\r\n    import lombok.AllArgsConstructor;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/employees&quot;)\r\n    @AllArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class EmployeeController {\r\n    \r\n        private final EmployeeService employeeService;\r\n    \r\n        @GetMapping(value = &quot;type/{type}&quot;)\r\n        public ResponseEntity&lt;List&lt;? extends Employee&gt;&gt; getAllEmps(@PathVariable String type) {\r\n            List&lt;? extends Employee&gt; employees = employeeService.getAllEmps(type);\r\n            return new ResponseEntity&lt;&gt;(employees, HttpStatus.OK);\r\n        }\r\n    \r\n        @PostMapping(&quot;/new&quot;)\r\n        public ResponseEntity&lt;Employee&gt; createEmployee(@RequestBody Employee employee) {\r\n            Employee savedEmployee = employeeService.createEmployee(employee);\r\n            return new ResponseEntity&lt;&gt;(savedEmployee, HttpStatus.CREATED);\r\n        }\r\n    }\r\n\r\nMy Code works actually and on postman I could test my requests. Please feel free to show me a better way if you think it could be done smarter or with less lines of code.\r\n\r\nThank your very much for your support.[![Test in Postman][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i64x6.png","title":"Working with abstract / generic class in spring boot rest - crud api","body":"<p>somehow I could figure out how to solve my issue. Long story short, I´ll diplaying all my classes. Short disclaimer. ChatGPT helped me to solve the issue.</p>\n<p>My Class/Project structure:</p>\n<p>Path: src/main/java/dev/cherry/emp</p>\n<p>Tree from folder “emp”:</p>\n<pre><code>.\n├── EmpApplication.java\n└── Employee\n    ├── Controller\n    │   └── EmployeeController.java\n    ├── Model\n    │   ├── Admin.java\n    │   └── Clerk.java\n    ├── Repository\n    │   ├── AdminRepository.java\n    │   ├── ClerkRepository.java\n    │   └── EmployeeRepository.java\n    ├── Service\n    │   └── EmployeeService.java\n    └── Util\n        ├── Employee.java (abstract)\n        └── Gender.java (Enum)\n</code></pre>\n<p>Here are the classes 1-by-1. Sorry for the wall of text:</p>\n<p><strong>Abstract Class Employee</strong></p>\n<pre><code>package dev.cherry.emp.Employee.Util;\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@MappedSuperclass\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic abstract class Employee {\n\n    @Id\n    @Column(name = &quot;emp_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long empId;\n}\n</code></pre>\n<p><strong>Class Admin and Clerk (Sub-/Childclasses)</strong></p>\n<pre><code>package dev.cherry.emp.Employee.Model;\n\nimport dev.cherry.emp.Employee.Util.Employee;\nimport dev.cherry.emp.Employee.Util.Gender;\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport java.util.Date;\n\n@Entity\n@Table(name = &quot;employee&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Clerk extends Employee implements Serializable{\n\n// Attributes\n}\n</code></pre>\n<hr />\n<pre><code>package dev.cherry.emp.Employee.Model;\n\nimport dev.cherry.emp.Employee.Util.Employee;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.springframework.stereotype.Component;\n\nimport java.io.Serializable;\nimport java.util.Date;\n\n@Entity\n@Table(name = &quot;admin&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Component\npublic class Admin extends Employee implements Serializable {\n\n// Attributes\n}\n</code></pre>\n<p><strong>My Repository Classes</strong></p>\n<pre><code>package dev.cherry.emp.Employee.Repository;\n\nimport dev.cherry.emp.Employee.Util.Employee;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.repository.NoRepositoryBean;\n\n@NoRepositoryBean\npublic interface EmployeeRepository&lt;T extends Employee&gt; extends JpaRepository&lt;T, Long&gt; {\n}\n</code></pre>\n<hr />\n<pre><code>package dev.cherry.emp.Employee.Repository;\n\nimport dev.cherry.emp.Employee.Model.Clerk;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ClerkRepository extends EmployeeRepository&lt;Clerk&gt;{\n}\n</code></pre>\n<hr />\n<pre><code>package dev.cherry.emp.Employee.Repository;\n\nimport dev.cherry.emp.Employee.Model.Admin;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface AdminRepository extends EmployeeRepository&lt;Admin&gt; {\n}\n</code></pre>\n<p><strong>My Service Class</strong></p>\n<pre><code>package dev.cherry.emp.Employee.Service;\n\nimport dev.cherry.emp.Employee.Util.Employee;\nimport dev.cherry.emp.Employee.Model.Admin;\nimport dev.cherry.emp.Employee.Model.Clerk;\nimport dev.cherry.emp.Employee.Repository.AdminRepository;\nimport dev.cherry.emp.Employee.Repository.ClerkRepository;\nimport lombok.RequiredArgsConstructor;\nimport org.jetbrains.annotations.NotNull;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class EmployeeService {\n    private final AdminRepository adminRepo;\n    private final ClerkRepository clerkRepo;\n\n    public List&lt;? extends Employee&gt; getAllEmps(@NotNull String type) {\n        if (type.equals(&quot;Clerk&quot;)) {\n            return (List&lt;Clerk&gt;) clerkRepo.findAll();\n        } else if (type.equals(&quot;Admin&quot;)) {\n            return (List&lt;Admin&gt;) adminRepo.findAll();\n        } else throw new IllegalArgumentException(&quot;Class: &quot; + type + &quot; not found in project&quot;);\n    }\n\n    public Employee createEmployee(Employee employee) {\n        if (employee instanceof Clerk) {\n            return clerkRepo.save((Clerk) employee);\n        } else if (employee instanceof Admin) {\n            return adminRepo.save((Admin) employee);\n        } else {\n            throw new IllegalArgumentException(&quot;Illegal Employee subclass: &quot; + employee.getClass().getSimpleName());\n        }\n    }\n\n}\n</code></pre>\n<p><strong>My Controller Class</strong></p>\n<pre><code>package dev.cherry.emp.Employee.Controller;\n\nimport dev.cherry.emp.Employee.Util.Employee;\nimport dev.cherry.emp.Employee.Service.EmployeeService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/employees&quot;)\n@AllArgsConstructor(onConstructor = @__(@Autowired))\npublic class EmployeeController {\n\n    private final EmployeeService employeeService;\n\n    @GetMapping(value = &quot;type/{type}&quot;)\n    public ResponseEntity&lt;List&lt;? extends Employee&gt;&gt; getAllEmps(@PathVariable String type) {\n        List&lt;? extends Employee&gt; employees = employeeService.getAllEmps(type);\n        return new ResponseEntity&lt;&gt;(employees, HttpStatus.OK);\n    }\n\n    @PostMapping(&quot;/new&quot;)\n    public ResponseEntity&lt;Employee&gt; createEmployee(@RequestBody Employee employee) {\n        Employee savedEmployee = employeeService.createEmployee(employee);\n        return new ResponseEntity&lt;&gt;(savedEmployee, HttpStatus.CREATED);\n    }\n}\n</code></pre>\n<p>My Code works actually and on postman I could test my requests. Please feel free to show me a better way if you think it could be done smarter or with less lines of code.</p>\n<p>Thank your very much for your support.<a href=\"https://i.stack.imgur.com/i64x6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i64x6.png\" alt=\"Test in Postman\" /></a></p>\n"}],"owner":{"account_id":21601553,"reputation":25,"user_id":15929619,"display_name":"AbdoCherry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676081802,"creation_date":1675891616,"question_id":75391930,"body_markdown":"im really struggling with my problem right now. I&#39;m trying to solve this issue for quit long and maybe I get help here.\r\n\r\nI do have a simple Spring Boot CRUD Project connected with my MySQL Database (localhost:3306) and everything works fine. The moment I modify my classes to a more common oop structure I get several errors and nothing works anymore.\r\n\r\nSimple sketch of my structure:\r\n\r\n- Employee (abstract) class\r\n  - Clerk (Entity) class\r\n  - Admin (Entity) class\r\n\r\nThe employee class contains only one field (employee id &quot;emp_id&quot;) and I want to spare me the retyping of the jpaRepo functions like finall and so on.\r\n\r\nThese are my abstract class:\r\n\r\n    package dev.cherry.emp.Employee.Util;\r\n    import jakarta.persistence.*;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    @MappedSuperclass\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public abstract class Employee {\r\n    \r\n        @Id\r\n        @Column(name = &quot;emp_id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long empId;\r\n    }\r\n\r\nThis is my Repository for the abstract class:\r\n\r\n    package dev.cherry.emp.Repository;\r\n    \r\n    import dev.cherry.emp.Employee.Util.Employee;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.repository.NoRepositoryBean;\r\n    \r\n    @NoRepositoryBean\r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n    }\r\n\r\nThis is the Service Class for my Abstract class. Generics are included to reuse finall for clerk and admin class:\r\n\r\n    package dev.cherry.emp.Service;\r\n    \r\n    import dev.cherry.emp.Repository.EmployeeRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    public class EmployeeService&lt;T&gt; {\r\n    \r\n        private final EmployeeRepository employeeRepo;\r\n    \r\n        @Autowired\r\n        public EmployeeService(EmployeeRepository employeeRepo) {\r\n            this.employeeRepo = employeeRepo;\r\n        }\r\n    \r\n        public List&lt;T&gt; allEmps() {\r\n            return (List&lt;T&gt;) employeeRepo.findAll();\r\n        }\r\n    }\r\n\r\nAnd this is my Controller Class for the abstract class Employee:\r\n\r\n    package dev.cherry.emp.Controller;\r\n    \r\n    import dev.cherry.emp.Service.EmployeeService;\r\n    import org.apache.coyote.Response;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    public class EmployeeController&lt;T&gt; {\r\n    \r\n        private final EmployeeService employeeService;\r\n    \r\n        @Autowired\r\n        public EmployeeController(EmployeeService employeeService) {\r\n            this.employeeService = employeeService;\r\n        }\r\n    \r\n        public ResponseEntity&lt;List&lt;T&gt;&gt; allEmps() {\r\n            List&lt;T&gt; allEmps = employeeService.allEmps();\r\n            return new ResponseEntity&lt;&gt;(allEmps, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\nI&#39;m sorry for this boilerplate looking code. Last but not least my folderstructure, root is src/main/java/dev.cherry.emp/\r\n\r\n    .\r\n    ├── Controller\r\n    │&#160;&#160; ├── AdminController.java\r\n    │&#160;&#160; ├── ClerkController.java\r\n    │&#160;&#160; └── EmployeeController.java\r\n    ├── EmpApplication.java\r\n    ├── Employee\r\n    │&#160;&#160; └── Util\r\n    │&#160;&#160;     ├── Employee.java\r\n    │&#160;&#160;     └── Gender.java\r\n    ├── Model\r\n    │&#160;&#160; ├── Admin.java\r\n    │&#160;&#160; └── Clerk.java\r\n    ├── Repository\r\n    │&#160;&#160; ├── AdminRepository.java\r\n    │&#160;&#160; ├── ClerkRepository.java\r\n    │&#160;&#160; └── EmployeeRepository.java\r\n    └── Service\r\n        ├── AdminService.java\r\n        ├── ClerkService.java\r\n        └── EmployeeService.java\r\n\r\n\r\nAnd this is the error from spring boot on console:\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in dev.cherry.emp.Service.EmployeeService required a single bean, but 2 were found:\r\n\t- adminRepository: defined in dev.cherry.emp.Repository.AdminRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration\r\n\t- clerkRepository: defined in dev.cherry.emp.Repository.ClerkRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration\r\n\r\n\r\nAction:\r\n\r\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed","title":"Working with abstract / generic class in spring boot rest - crud api","body":"<p>im really struggling with my problem right now. I'm trying to solve this issue for quit long and maybe I get help here.</p>\n<p>I do have a simple Spring Boot CRUD Project connected with my MySQL Database (localhost:3306) and everything works fine. The moment I modify my classes to a more common oop structure I get several errors and nothing works anymore.</p>\n<p>Simple sketch of my structure:</p>\n<ul>\n<li>Employee (abstract) class\n<ul>\n<li>Clerk (Entity) class</li>\n<li>Admin (Entity) class</li>\n</ul>\n</li>\n</ul>\n<p>The employee class contains only one field (employee id &quot;emp_id&quot;) and I want to spare me the retyping of the jpaRepo functions like finall and so on.</p>\n<p>These are my abstract class:</p>\n<pre><code>package dev.cherry.emp.Employee.Util;\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@MappedSuperclass\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic abstract class Employee {\n\n    @Id\n    @Column(name = &quot;emp_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long empId;\n}\n</code></pre>\n<p>This is my Repository for the abstract class:</p>\n<pre><code>package dev.cherry.emp.Repository;\n\nimport dev.cherry.emp.Employee.Util.Employee;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.repository.NoRepositoryBean;\n\n@NoRepositoryBean\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n}\n</code></pre>\n<p>This is the Service Class for my Abstract class. Generics are included to reuse finall for clerk and admin class:</p>\n<pre><code>package dev.cherry.emp.Service;\n\nimport dev.cherry.emp.Repository.EmployeeRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic class EmployeeService&lt;T&gt; {\n\n    private final EmployeeRepository employeeRepo;\n\n    @Autowired\n    public EmployeeService(EmployeeRepository employeeRepo) {\n        this.employeeRepo = employeeRepo;\n    }\n\n    public List&lt;T&gt; allEmps() {\n        return (List&lt;T&gt;) employeeRepo.findAll();\n    }\n}\n</code></pre>\n<p>And this is my Controller Class for the abstract class Employee:</p>\n<pre><code>package dev.cherry.emp.Controller;\n\nimport dev.cherry.emp.Service.EmployeeService;\nimport org.apache.coyote.Response;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\npublic class EmployeeController&lt;T&gt; {\n\n    private final EmployeeService employeeService;\n\n    @Autowired\n    public EmployeeController(EmployeeService employeeService) {\n        this.employeeService = employeeService;\n    }\n\n    public ResponseEntity&lt;List&lt;T&gt;&gt; allEmps() {\n        List&lt;T&gt; allEmps = employeeService.allEmps();\n        return new ResponseEntity&lt;&gt;(allEmps, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>I'm sorry for this boilerplate looking code. Last but not least my folderstructure, root is src/main/java/dev.cherry.emp/</p>\n<pre><code>.\n├── Controller\n│   ├── AdminController.java\n│   ├── ClerkController.java\n│   └── EmployeeController.java\n├── EmpApplication.java\n├── Employee\n│   └── Util\n│       ├── Employee.java\n│       └── Gender.java\n├── Model\n│   ├── Admin.java\n│   └── Clerk.java\n├── Repository\n│   ├── AdminRepository.java\n│   ├── ClerkRepository.java\n│   └── EmployeeRepository.java\n└── Service\n    ├── AdminService.java\n    ├── ClerkService.java\n    └── EmployeeService.java\n</code></pre>\n<p>And this is the error from spring boot on console:</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Parameter 0 of constructor in dev.cherry.emp.Service.EmployeeService required a single bean, but 2 were found:\n- adminRepository: defined in dev.cherry.emp.Repository.AdminRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration\n- clerkRepository: defined in dev.cherry.emp.Repository.ClerkRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration</p>\n<p>Action:</p>\n<p>Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed</p>\n"},{"tags":["java","testcase","evosuite"],"owner":{"account_id":23000742,"reputation":141,"user_id":17124739,"display_name":"Herb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676081352,"creation_date":1675856180,"question_id":75385222,"body_markdown":"I am working on generating test case for Java unit (i.e. method).\r\nMy output is in form of a Java test method, just like\r\n\r\n```\r\n\tpublic void testToInt() {\r\n\t\tassertEquals(0, NumberUtils.toInt(&quot;0&quot;));\r\n\t\tassertEquals(1, NumberUtils.toInt(&quot;1&quot;));\r\n\t\tassertEquals(2, NumberUtils.toInt(&quot;2&quot;));\r\n\t\tassertEquals(3, NumberUtils.toInt(&quot;3&quot;));\r\n\t\tassertEquals(4, NumberUtils.toInt(&quot;4&quot;));\r\n\t\tassertEquals(5, NumberUtils.toInt(&quot;5&quot;));\r\n\t\tassertEquals(6, NumberUtils.toInt(&quot;6&quot;));\r\n\t\tassertEquals(7, NumberUtils.toInt(&quot;7&quot;));\r\n\t\tassertEquals(8, NumberUtils.toInt(&quot;8&quot;));\r\n\t\tassertEquals(9, NumberUtils.toInt(&quot;9&quot;));\r\n\t}\r\n```\r\nNow I need to wrap the test method so that it can be used in defects4j.\r\nThe folloing is result after wrapping.\r\n[![enter image description here](https://i.stack.imgur.com/hF6c0.png)](https://i.stack.imgur.com/hF6c0.png)\r\nHow can I realized it wisely?\r\nThanks for attention.\r\nBy the way, I am not familar with evosuite. But it seems that the result comes from it.\r\n\r\nMy mentor recommend me to make clear the source code of command gen_test in defects4j.But I am not a perl programmer.\r\n[source code of command gen_test](https://github.com/kwz219/defects4j/blob/master/framework/bin/gen_tests.pl)\r\nSo I give up the road.\r\nShould I learn evosuite from scratch? Is there any method easier?","title":"How to turn a test method into evosuite test case suite","body":"<p>I am working on generating test case for Java unit (i.e. method).\nMy output is in form of a Java test method, just like</p>\n<pre><code>    public void testToInt() {\n        assertEquals(0, NumberUtils.toInt(&quot;0&quot;));\n        assertEquals(1, NumberUtils.toInt(&quot;1&quot;));\n        assertEquals(2, NumberUtils.toInt(&quot;2&quot;));\n        assertEquals(3, NumberUtils.toInt(&quot;3&quot;));\n        assertEquals(4, NumberUtils.toInt(&quot;4&quot;));\n        assertEquals(5, NumberUtils.toInt(&quot;5&quot;));\n        assertEquals(6, NumberUtils.toInt(&quot;6&quot;));\n        assertEquals(7, NumberUtils.toInt(&quot;7&quot;));\n        assertEquals(8, NumberUtils.toInt(&quot;8&quot;));\n        assertEquals(9, NumberUtils.toInt(&quot;9&quot;));\n    }\n</code></pre>\n<p>Now I need to wrap the test method so that it can be used in defects4j.\nThe folloing is result after wrapping.\n<a href=\"https://i.stack.imgur.com/hF6c0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hF6c0.png\" alt=\"enter image description here\" /></a>\nHow can I realized it wisely?\nThanks for attention.\nBy the way, I am not familar with evosuite. But it seems that the result comes from it.</p>\n<p>My mentor recommend me to make clear the source code of command gen_test in defects4j.But I am not a perl programmer.\n<a href=\"https://github.com/kwz219/defects4j/blob/master/framework/bin/gen_tests.pl\" rel=\"nofollow noreferrer\">source code of command gen_test</a>\nSo I give up the road.\nShould I learn evosuite from scratch? Is there any method easier?</p>\n"},{"tags":["java","xml","xpath"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1676080508,"post_id":75417630,"comment_id":133071861,"body_markdown":"Please show your Java code.","body":"Please show your Java code."},{"owner":{"account_id":75777,"reputation":672,"user_id":217261,"display_name":"Deminem"},"score":0,"creation_date":1676080804,"post_id":75417630,"comment_id":133071907,"body_markdown":"@vanje: It&#39;s updated. Please let me know.","body":"@vanje: It&#39;s updated. Please let me know."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1676113118,"post_id":75417630,"comment_id":133074959,"body_markdown":"Please show minimal but complete samples allowing others to reproduce the problem. It is not clear why your code doing e.g. `System.out.println(&quot;Category List: &quot; + categoryNodeList.item(0));` should output `0 found`.","body":"Please show minimal but complete samples allowing others to reproduce the problem. It is not clear why your code doing e.g. <code>System.out.println(&quot;Category List: &quot; + categoryNodeList.item(0));</code> should output <code>0 found</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1676138090,"post_id":75417630,"comment_id":133079059,"body_markdown":"Why `//*[name()=&#39;category&#39;]` and not just `//category`?","body":"Why <code>&#47;&#47;*[name()=&#39;category&#39;]</code> and not just <code>&#47;&#47;category</code>?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1676139182,"post_id":75417630,"comment_id":133079254,"body_markdown":"You haven’t shown us the value of `WP_ITEM_CATEGORY_XPATH`.  But `xpath.evaluate(&quot;/rss/channel/item[post_id=&#39;&quot; + postID + &quot;&#39;]//category&quot;, doc, XPathConstants.NODESET);` worked for me on your example XML.","body":"You haven’t shown us the value of <code>WP_ITEM_CATEGORY_XPATH</code>.  But <code>xpath.evaluate(&quot;&#47;rss&#47;channel&#47;item[post_id=&#39;&quot; + postID + &quot;&#39;]&#47;&#47;category&quot;, doc, XPathConstants.NODESET);</code> worked for me on your example XML."},{"owner":{"account_id":75777,"reputation":672,"user_id":217261,"display_name":"Deminem"},"score":0,"creation_date":1676166940,"post_id":75417630,"comment_id":133082965,"body_markdown":"@VGR - `WP_ITEM_CATEGORY_XPATH=&quot;/rss/channel/item&quot; + &quot;[post_id=&#39;&quot; + item.getPostId() + &quot;&#39;]//*[name()=&#39;category&#39;]&quot;`. Your change removing the *name* didn&#39;t work for me with JAVA. The XPATH expression works in online simulator but not in JAVA.","body":"@VGR - <code>WP_ITEM_CATEGORY_XPATH=&quot;&#47;rss&#47;channel&#47;item&quot; + &quot;[post_id=&#39;&quot; + item.getPostId() + &quot;&#39;]&#47;&#47;*[name()=&#39;category&#39;]&quot;</code>. Your change removing the <i>name</i> didn&#39;t work for me with JAVA. The XPATH expression works in online simulator but not in JAVA."},{"owner":{"account_id":75777,"reputation":672,"user_id":217261,"display_name":"Deminem"},"score":0,"creation_date":1676167053,"post_id":75417630,"comment_id":133082973,"body_markdown":"@VGR - `NodeList categoryNodeList` returns 0. Not expected result set - which is 5 node elements of category.","body":"@VGR - <code>NodeList categoryNodeList</code> returns 0. Not expected result set - which is 5 node elements of category."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1676167109,"post_id":75417630,"comment_id":133082982,"body_markdown":"How sure are you that `getPostId()` returns the value you expect it to return?  You may want to print that value out.  And perhaps print out its length, too, just in case it contains non-printing characters.","body":"How sure are you that <code>getPostId()</code> returns the value you expect it to return?  You may want to print that value out.  And perhaps print out its length, too, just in case it contains non-printing characters."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1676211082,"post_id":75417630,"comment_id":133087699,"body_markdown":"Java code with XPath `/rss/channel/item[post_id=&#39;131145&#39;]//category` works fine at https://onecompiler.com/java/3yxq4thsv to find five element nodes. Output is not the same as in your online tester but they somehow serialize the returned nodes, either by using some other object model which does that automatically for nodes (like Saxon) or by using an identity Transformer or LSSerializer for DOM.","body":"Java code with XPath <code>&#47;rss&#47;channel&#47;item[post_id=&#39;131145&#39;]&#47;&#47;category</code> works fine at <a href=\"https://onecompiler.com/java/3yxq4thsv\" rel=\"nofollow noreferrer\">onecompiler.com/java/3yxq4thsv</a> to find five element nodes. Output is not the same as in your online tester but they somehow serialize the returned nodes, either by using some other object model which does that automatically for nodes (like Saxon) or by using an identity Transformer or LSSerializer for DOM."}],"owner":{"account_id":75777,"reputation":672,"user_id":217261,"display_name":"Deminem"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676080778,"creation_date":1676080081,"question_id":75417630,"body_markdown":"Find the total number of category elements in first tuple of item with post Id = **131145**. The given XPATH expression works perfectly in online simulator, but when I try to execute with Java XPath library (it returns 0). Please let me know what am I doing wrong here and what would be the correct version of XPath expression for Java.\r\n\r\n**Given XML:**\r\n\r\n    &lt;rss&gt;\r\n    &lt;channel&gt;\r\n        &lt;item&gt;\r\n               &lt;post_id&gt;131145&lt;/post_id&gt;    \r\n               &lt;category domain=&quot;news-destination&quot; nicename=&quot;civonline&quot;&gt;&lt;![CDATA[civonline]]&gt;&lt;/category&gt;\r\n               &lt;category domain=&quot;category&quot; nicename=&quot;cronaca&quot;&gt;&lt;![CDATA[Cronaca]]&gt;&lt;/category&gt;\r\n               &lt;category domain=&quot;news-source&quot; nicename=&quot;dbsource&quot;&gt;&lt;![CDATA[Database Civonline]]&gt;&lt;/category&gt;\r\n               &lt;category domain=&quot;news-destination&quot; nicename=&quot;laprovincia&quot;&gt;&lt;![CDATA[laprovincia]]&gt;&lt;/category&gt;\r\n               &lt;category domain=&quot;comune&quot; nicename=&quot;tarquinia&quot;&gt;&lt;![CDATA[Tarquinia]]&gt;&lt;/category&gt;\r\n        &lt;/item&gt;\r\n        &lt;item&gt;\r\n               &lt;post_id&gt;123456&lt;/post_id&gt;    \r\n               &lt;category domain=&quot;news-destination1&quot; nicename=&quot;civonline&quot;&gt;&lt;![CDATA[civonline]]&gt;&lt;/category&gt;\r\n               &lt;category domain=&quot;category1&quot; nicename=&quot;cronaca&quot;&gt;&lt;![CDATA[Cronaca]]&gt;&lt;/category&gt;\r\n               &lt;category domain=&quot;news-source1&quot; nicename=&quot;dbsource&quot;&gt;&lt;![CDATA[Database Civonline]]&gt;&lt;/category&gt;\r\n               &lt;category domain=&quot;news-destination1&quot; nicename=&quot;laprovincia&quot;&gt;&lt;![CDATA[laprovincia]]&gt;&lt;/category&gt;\r\n               &lt;category domain=&quot;comune1&quot; nicename=&quot;tarquinia&quot;&gt;&lt;![CDATA[Tarquinia]]&gt;&lt;/category&gt;\r\n        &lt;/item&gt;\r\n    &lt;/channel&gt;\r\n&lt;/rss&gt;\r\n\r\n**XPATH Expression:** `/rss/channel/item[post_id=&#39;131145&#39;]//*[name()=&#39;category&#39;]`\r\n\r\n\r\n**Online Simulator:** [https://www.freeformatter.com/xpath-tester.html][1]\r\n\r\n**Expected Result:** \r\n\r\n    Element=&#39;&lt;category domain=&quot;news-destination&quot; nicename=&quot;civonline&quot;&gt;civonline&lt;/category&gt;&#39; \r\n    Element=&#39;&lt;category domain=&quot;category&quot; nicename=&quot;cronaca&quot;&gt;Cronaca&lt;/category&gt;&#39; \r\n    Element=&#39;&lt;category domain=&quot;news-source&quot; nicename=&quot;dbsource&quot;&gt;Database Civonline&lt;/category&gt;&#39; \r\n    Element=&#39;&lt;category domain=&quot;news-destination&quot; nicename=&quot;laprovincia&quot; &gt;laprovincia &lt;/category&gt;&#39;\r\n    Element=&#39;&lt;category domain=&quot;comune&quot; nicename=&quot;tarquinia&quot;&gt;Tarquinia&lt;/category&gt;&#39;\r\n\r\n**Java CodeSnippet:**\r\n\r\n    String xpath_suffix = WP_ITEM_CATEGORY_XPATH + &quot;[post_id=&#39;&quot; + item.getPostId() + &quot;&#39;]//*[name()=&#39;category&#39;]&quot;;\r\n    NodeList categoryNodeList = readXMLNodeList(doc, xpath_suffix);\r\n    System.out.println(&quot;Category List: &quot; + categoryNodeList.item(0));\r\n    \r\n    protected NodeList readXMLNodeList(Object item, String xpathExpression) throws XPathExpressionException {\r\n        return (NodeList) readXML(item, xpathExpression, XPathConstants.NODESET);\r\n    }\r\n     \r\n    protected Object readXML(Object item, String xpathExpression, QName returnType) throws XPathExpressionException {\r\n        XPath xpath = XPathFactory.newInstance().newXPath();\r\n        XPathExpression expr = xpath.compile(xpathExpression);\r\n        return expr.evaluate(item, returnType);\r\n    }\r\n\r\n**Java Result:**\r\n\r\n0 found\r\n\r\n**Note:** How can we fix it XPath expression for Java to give same expected result.\r\n\r\n\r\n  [1]: https://www.freeformatter.com/xpath-tester.html\r\n","title":"How to get the node list from given xml using XPATH in Java","body":"<p>Find the total number of category elements in first tuple of item with post Id = <strong>131145</strong>. The given XPATH expression works perfectly in online simulator, but when I try to execute with Java XPath library (it returns 0). Please let me know what am I doing wrong here and what would be the correct version of XPath expression for Java.</p>\n<p><strong>Given XML:</strong></p>\n<pre><code>&lt;rss&gt;\n&lt;channel&gt;\n    &lt;item&gt;\n           &lt;post_id&gt;131145&lt;/post_id&gt;    \n           &lt;category domain=&quot;news-destination&quot; nicename=&quot;civonline&quot;&gt;&lt;![CDATA[civonline]]&gt;&lt;/category&gt;\n           &lt;category domain=&quot;category&quot; nicename=&quot;cronaca&quot;&gt;&lt;![CDATA[Cronaca]]&gt;&lt;/category&gt;\n           &lt;category domain=&quot;news-source&quot; nicename=&quot;dbsource&quot;&gt;&lt;![CDATA[Database Civonline]]&gt;&lt;/category&gt;\n           &lt;category domain=&quot;news-destination&quot; nicename=&quot;laprovincia&quot;&gt;&lt;![CDATA[laprovincia]]&gt;&lt;/category&gt;\n           &lt;category domain=&quot;comune&quot; nicename=&quot;tarquinia&quot;&gt;&lt;![CDATA[Tarquinia]]&gt;&lt;/category&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n           &lt;post_id&gt;123456&lt;/post_id&gt;    \n           &lt;category domain=&quot;news-destination1&quot; nicename=&quot;civonline&quot;&gt;&lt;![CDATA[civonline]]&gt;&lt;/category&gt;\n           &lt;category domain=&quot;category1&quot; nicename=&quot;cronaca&quot;&gt;&lt;![CDATA[Cronaca]]&gt;&lt;/category&gt;\n           &lt;category domain=&quot;news-source1&quot; nicename=&quot;dbsource&quot;&gt;&lt;![CDATA[Database Civonline]]&gt;&lt;/category&gt;\n           &lt;category domain=&quot;news-destination1&quot; nicename=&quot;laprovincia&quot;&gt;&lt;![CDATA[laprovincia]]&gt;&lt;/category&gt;\n           &lt;category domain=&quot;comune1&quot; nicename=&quot;tarquinia&quot;&gt;&lt;![CDATA[Tarquinia]]&gt;&lt;/category&gt;\n    &lt;/item&gt;\n&lt;/channel&gt;\n</code></pre>\n\n<p><strong>XPATH Expression:</strong> <code>/rss/channel/item[post_id='131145']//*[name()='category']</code></p>\n<p><strong>Online Simulator:</strong> <a href=\"https://www.freeformatter.com/xpath-tester.html\" rel=\"nofollow noreferrer\">https://www.freeformatter.com/xpath-tester.html</a></p>\n<p><strong>Expected Result:</strong></p>\n<pre><code>Element='&lt;category domain=&quot;news-destination&quot; nicename=&quot;civonline&quot;&gt;civonline&lt;/category&gt;' \nElement='&lt;category domain=&quot;category&quot; nicename=&quot;cronaca&quot;&gt;Cronaca&lt;/category&gt;' \nElement='&lt;category domain=&quot;news-source&quot; nicename=&quot;dbsource&quot;&gt;Database Civonline&lt;/category&gt;' \nElement='&lt;category domain=&quot;news-destination&quot; nicename=&quot;laprovincia&quot; &gt;laprovincia &lt;/category&gt;'\nElement='&lt;category domain=&quot;comune&quot; nicename=&quot;tarquinia&quot;&gt;Tarquinia&lt;/category&gt;'\n</code></pre>\n<p><strong>Java CodeSnippet:</strong></p>\n<pre><code>String xpath_suffix = WP_ITEM_CATEGORY_XPATH + &quot;[post_id='&quot; + item.getPostId() + &quot;']//*[name()='category']&quot;;\nNodeList categoryNodeList = readXMLNodeList(doc, xpath_suffix);\nSystem.out.println(&quot;Category List: &quot; + categoryNodeList.item(0));\n\nprotected NodeList readXMLNodeList(Object item, String xpathExpression) throws XPathExpressionException {\n    return (NodeList) readXML(item, xpathExpression, XPathConstants.NODESET);\n}\n \nprotected Object readXML(Object item, String xpathExpression, QName returnType) throws XPathExpressionException {\n    XPath xpath = XPathFactory.newInstance().newXPath();\n    XPathExpression expr = xpath.compile(xpathExpression);\n    return expr.evaluate(item, returnType);\n}\n</code></pre>\n<p><strong>Java Result:</strong></p>\n<p>0 found</p>\n<p><strong>Note:</strong> How can we fix it XPath expression for Java to give same expected result.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1524607620,"post_id":50010766,"comment_id":87039212,"body_markdown":"What is the exact problem that you solve with these changed jars?  There might be a better way.","body":"What is the exact problem that you solve with these changed jars?  There might be a better way."},{"owner":{"account_id":8319485,"reputation":13,"user_id":6251698,"display_name":"Carlos G&#243;mez"},"score":0,"creation_date":1524608465,"post_id":50010766,"comment_id":87039459,"body_markdown":"To verify changes in said jars as requested by fortify.","body":"To verify changes in said jars as requested by fortify."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1524638866,"post_id":50010766,"comment_id":87047665,"body_markdown":"You know of SNAPSHOT versions also don&#39;t configure maven-war-plugin and violate the conventions...Apart from that your process sounds wrong..what do you need to test war&#39;s ? Do you use CI tools like Jenkins?","body":"You know of SNAPSHOT versions also don&#39;t configure maven-war-plugin and violate the conventions...Apart from that your process sounds wrong..what do you need to test war&#39;s ? Do you use CI tools like Jenkins?"},{"owner":{"account_id":8319485,"reputation":13,"user_id":6251698,"display_name":"Carlos G&#243;mez"},"score":0,"creation_date":1524655540,"post_id":50010766,"comment_id":87057816,"body_markdown":"As I said before, I do not control the dependencies, thats why I need this unconventional approach. I need to inject those jar so they can be verified by other team, they use jenkins to create the war and upload it to the server.","body":"As I said before, I do not control the dependencies, thats why I need this unconventional approach. I need to inject those jar so they can be verified by other team, they use jenkins to create the war and upload it to the server."}],"owner":{"account_id":8319485,"reputation":13,"user_id":6251698,"display_name":"Carlos G&#243;mez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676080506,"creation_date":1524604197,"question_id":50010766,"body_markdown":"I has been copying some patched jars inside war files in order to test remediated jars without uploading them to the maven repo, and everything goes well when applying the maven-war-plugin as long as the jar does no exists they are placed inside the war, so no overwrite is happening, but the copy does happen.\r\n\r\nThose jar files belong to several dependencies which I have no control whatsoever and could be any number of files, also I can&#39;t replace them in the nexus before testing nor place them in my local repo, since the idea is to generate the war file in other machines using jenkins to test the jars.\r\n\r\nSo, how can I overwrite the jar files that are packaged into the war file?\r\n\r\nThis is my previous configuration that allows me to copy any number of jars from a libs folder to the WEB-INF/lib inside the war file.\r\n\r\n    &lt;!-- OVERWRITE JAR files with remediated versions --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t          &lt;executions&gt;\r\n\t            &lt;execution&gt;\r\n\t              &lt;id&gt;default-war&lt;/id&gt;\r\n\t              &lt;phase&gt;none&lt;/phase&gt;\r\n\t            &lt;/execution&gt;\r\n\t            &lt;execution&gt;\r\n\t              &lt;id&gt;war-replace&lt;/id&gt;\r\n\t              &lt;phase&gt;package&lt;/phase&gt;\r\n\t              &lt;goals&gt;\r\n\t                &lt;goal&gt;war&lt;/goal&gt;\r\n\t              &lt;/goals&gt;\r\n\t              &lt;configuration&gt;\r\n\t                &lt;webResources&gt;\r\n\t                  &lt;resource&gt;\r\n\t                    &lt;directory&gt;${basedir}/libs&lt;/directory&gt;\r\n\t                    &lt;includes&gt;\r\n\t                      &lt;include&gt;**/*.jar&lt;/include&gt;\r\n\t                      &lt;include&gt;**/*.war&lt;/include&gt;\r\n\t                    &lt;/includes&gt;\r\n\t                    &lt;targetPath&gt;WEB-INF/lib/&lt;/targetPath&gt;\r\n\t                  &lt;/resource&gt;\r\n\t                &lt;/webResources&gt;\r\n\t                &lt;overwrite&gt;true&lt;/overwrite&gt;\r\n\t              &lt;/configuration&gt;\r\n\t            &lt;/execution&gt;\r\n\t          &lt;/executions&gt;\r\n\t        &lt;/plugin&gt;","title":"How to overwrite a jar file in a maven generated war?","body":"<p>I has been copying some patched jars inside war files in order to test remediated jars without uploading them to the maven repo, and everything goes well when applying the maven-war-plugin as long as the jar does no exists they are placed inside the war, so no overwrite is happening, but the copy does happen.</p>\n<p>Those jar files belong to several dependencies which I have no control whatsoever and could be any number of files, also I can't replace them in the nexus before testing nor place them in my local repo, since the idea is to generate the war file in other machines using jenkins to test the jars.</p>\n<p>So, how can I overwrite the jar files that are packaged into the war file?</p>\n<p>This is my previous configuration that allows me to copy any number of jars from a libs folder to the WEB-INF/lib inside the war file.</p>\n<pre><code>&lt;!-- OVERWRITE JAR files with remediated versions --&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;default-war&lt;/id&gt;\n              &lt;phase&gt;none&lt;/phase&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n              &lt;id&gt;war-replace&lt;/id&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;war&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;webResources&gt;\n                  &lt;resource&gt;\n                    &lt;directory&gt;${basedir}/libs&lt;/directory&gt;\n                    &lt;includes&gt;\n                      &lt;include&gt;**/*.jar&lt;/include&gt;\n                      &lt;include&gt;**/*.war&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;targetPath&gt;WEB-INF/lib/&lt;/targetPath&gt;\n                  &lt;/resource&gt;\n                &lt;/webResources&gt;\n                &lt;overwrite&gt;true&lt;/overwrite&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676079697,"post_id":75417558,"comment_id":133071778,"body_markdown":"Could provide more detail, preferably with a [mre]? Currently, you talk about an array but the little bit of code you&#39;ve provided looks more like a linked list.","body":"Could provide more detail, preferably with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Currently, you talk about an array but the little bit of code you&#39;ve provided looks more like a linked list."},{"owner":{"account_id":27757498,"reputation":1,"user_id":21190606,"display_name":"susanna sharon"},"score":0,"creation_date":1676080882,"post_id":75417558,"comment_id":133071922,"body_markdown":"I made changes to the code","body":"I made changes to the code"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1676082903,"post_id":75417558,"comment_id":133072090,"body_markdown":"... you haven&#39;t shown how you&#39;re trying to REPLACE one value with another...","body":"... you haven&#39;t shown how you&#39;re trying to REPLACE one value with another..."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1676086231,"post_id":75417558,"comment_id":133072341,"body_markdown":"Do you simply mean `head=head.next;`?","body":"Do you simply mean <code>head=head.next;</code>?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676086721,"post_id":75417558,"comment_id":133072372,"body_markdown":"To be honest, your question is still not clear to me. Where is this &quot;array&quot; you mention? If your goal is to _insert_ a user-defined element at the head of the list, why is &quot;method 3&quot; named `removeFirstNode`? And, if that _is_ your goal, how is that not already implemented by `addFirstNode`?","body":"To be honest, your question is still not clear to me. Where is this &quot;array&quot; you mention? If your goal is to <i>insert</i> a user-defined element at the head of the list, why is &quot;method 3&quot; named <code>removeFirstNode</code>? And, if that <i>is</i> your goal, how is that not already implemented by <code>addFirstNode</code>?"}],"owner":{"account_id":27757498,"reputation":1,"user_id":21190606,"display_name":"susanna sharon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676079984,"creation_date":1676078921,"question_id":75417558,"body_markdown":"    public class LinkedList {\r\n    public Node head, tail;\r\n    //constructor method to create a list of object with head, \r\n    tail, \r\n    and size.\r\n    public LinkedList() {\r\n    head = null;\r\n    tail = null;\r\n    }\r\n    //method add node to end of list\r\n    public void addLastNode(int data) {\r\n    if (tail == null)\r\n    head = tail = new Node(data); //empty list\r\n    else {\r\n    tail.next = new Node(data); //link new node as last node\r\n    tail = tail.next; //make tail pointer points to last node\r\n    }\r\n    }\r\n    //method #1: add first node\r\n    public void addFirstNode(int data) {\r\n    Node temp = new Node(data);\r\n    if (tail==null)\r\n    tail = temp;\r\n    temp.next = head;\r\n    head = temp;\r\n    }\r\n    //method #2: add node at index\r\n    public void addAtIndex(int index, int data) {\r\n    if(index&lt;countNodes()) {\r\n    if(index==0) {\r\n    Node temp = head;\r\n    head = new Node(data);\r\n    head.next = temp.next;\r\n    return;\r\n    }\r\n    //method #3: remove first node\r\n    public void removeFirstNode() {\r\n    Node a = head;\r\n    Node b = head.next - 1;\r\n    }\r\n\r\n \r\n\r\nI have this code, and this only replaces the array for example..\r\n[a.b,....d] the user enters replace a with d then the output should be like [d,a,b,.s.d] but my output just replaces it..\r\nhow do i change that \r\nfor method 3 ","title":"I need to replace the array with the user input, but move the previous array to the right","body":"<pre><code>public class LinkedList {\npublic Node head, tail;\n//constructor method to create a list of object with head, \ntail, \nand size.\npublic LinkedList() {\nhead = null;\ntail = null;\n}\n//method add node to end of list\npublic void addLastNode(int data) {\nif (tail == null)\nhead = tail = new Node(data); //empty list\nelse {\ntail.next = new Node(data); //link new node as last node\ntail = tail.next; //make tail pointer points to last node\n}\n}\n//method #1: add first node\npublic void addFirstNode(int data) {\nNode temp = new Node(data);\nif (tail==null)\ntail = temp;\ntemp.next = head;\nhead = temp;\n}\n//method #2: add node at index\npublic void addAtIndex(int index, int data) {\nif(index&lt;countNodes()) {\nif(index==0) {\nNode temp = head;\nhead = new Node(data);\nhead.next = temp.next;\nreturn;\n}\n//method #3: remove first node\npublic void removeFirstNode() {\nNode a = head;\nNode b = head.next - 1;\n}\n</code></pre>\n<p>I have this code, and this only replaces the array for example..\n[a.b,....d] the user enters replace a with d then the output should be like [d,a,b,.s.d] but my output just replaces it..\nhow do i change that\nfor method 3</p>\n"},{"tags":["java","oracle","plsql","nclob"],"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676079424,"creation_date":1676054601,"question_id":75414987,"body_markdown":"I am working on Java+Spring+Oracle application. I am trying to add a new function on the database that stores `NClob` in a custom type. I ran into the error \r\n```\r\nORA-65502: cannot access temporary LOB data\r\n```\r\nbut I am not sure how to fix my issue. \r\n\r\n*Please pardon me that I am still new to PL/SQL and it is my first time dealing with NClob.*\r\n\r\nTo begin with, I have a table like this:\r\n```\r\nCREATE TABLE &quot;NOTIFICATION&quot; (\r\n\t&quot;NOTIFICATION_ID&quot; NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,\r\n    ...\r\n\t&quot;NOTIFICATION_CONTENT&quot; NCLOB,                -- HTML content of notification\r\n    ...\r\n\t&quot;COMMENTS&quot;  NCLOB,\r\n    ...\r\n\tCONSTRAINT &quot;PK_NOTIFICATION_ID&quot; PRIMARY KEY (&quot;NOTIFICATION_ID&quot;)\r\n);\r\n```\r\nI have a custom type to read/write encapsulated data:\r\n```\r\ncreate or replace TYPE NOTIFICATION_TYP FORCE AS OBJECT (\r\n\t&quot;NOTIFICATION_ID&quot; NUMBER,\r\n    ...\r\n\t&quot;NOTIFICATION_CONTENT&quot; NCLOB,                -- HTML content of notification\r\n    ...\r\n\t&quot;COMMENTS&quot;  NCLOB,\r\n    ...\r\n\tconstructor function NOTIFICATION_TYP return self as result\r\n) NOT FINAL;\r\n\r\n```\r\nand its body simply as:\r\n```\r\ncreate or replace type body NOTIFICATION_TYP is\r\n  constructor function NOTIFICATION_TYP return self as result is\r\n  begin\r\n    return;\r\n  end;\r\nend;\r\n```\r\n\r\nSo basically my (simplified)function in the database package is like this:\r\n```\r\nfunction create_notification(\r\n\t\t pi_notification       in        NOTIFICATION_TYP\r\n\t\t,po_notification_id    out       number\r\n\t\t,po_return             out       return_typ\r\n\t)\r\n\treturn integer as\r\n\t\tv_excep_msg varchar2(200);\r\n\tbegin\r\n\t\tinsert into NOTIFICATION (\r\n            ...\r\n\t\t\tNOTIFICATION_CONTENT,\r\n            ...\r\n\t\t\tCOMMENTS,\r\n            ...\r\n\t\t) values (\r\n            ...\r\n\t\t\tpi_notification.NOTIFICATION_CONTENT,\r\n            ...\r\n\t\t\tpi_notification.COMMENTS,\r\n            ...\r\n\t\t) RETURNING NOTIFICATION_ID INTO po_notification_id;\r\n\t\tpo_return := utils_pkg.get_success_info;\r\n\t\treturn c_success;\r\n\r\n\texception\r\n\t\twhen OTHERS then\r\n\t\t\tv_excep_msg  :=  sqlerrm;\r\n\t\t\tpo_return := utils_pkg.get_error_info(SQLCODE, SQLERRM);\r\n\t\t\tlog_error_msg(\r\n\t\t\t\t pi_app_name         =&gt;  c_application_name\r\n\t\t\t\t,pi_error_msg        =&gt;  &#39;Exception in creating notification&#39;\r\n\t\t\t\t,pi_error_details    =&gt;  sqlerrm\r\n\t\t\t);\r\n\r\n\treturn c_failure;\r\nend create_notification;\r\n\r\n```\r\n\r\nSo from Java end, I am using `StoredProcedure` and `SQLData` to call the function in the package.\r\n`CreateNotificationFunction.java`:\r\n```\r\nimport ...\r\npublic class CreateNotificationFunction  extends StoredProcedure{\r\n\r\n\tpublic CreateNotificationFunction(JdbcTemplate jdbcTemplate){\r\n\t\t super(jdbcTemplate, DAOConstants.CREATE_NOTIFICATION_FUNCTION);\r\n\t\t setFunction(true);\r\n    \t declareParameter(new SqlOutParameter(DAOConstants.PO_FUNCTION_RESULT, OracleTypes.VARCHAR));\r\n \t\t declareParameter(new SqlParameter(DAOConstants.PI_NOTIFICATION,OracleTypes.STRUCT,DAOConstants.TYPE_NOTIFICATION));\r\n    \t declareParameter(new SqlOutParameter(DAOConstants.PO_NOTIFICATION_ID, OracleTypes.NUMBER));\r\n     \t declareParameter(new SqlOutParameter(DAOConstants.PO_RETURN,OracleTypes.STRUCT,DAOConstants.TYPE_RETURN,  \r\n  \t\t\t \tnew SqlReturnSqlData(SQLDBResult.class)));\r\n\t\t allowsUnusedParameters();\r\n\t\t compile();\t\t\t\r\n\t}\r\n\t\r\n\t@SuppressWarnings({ &quot;rawtypes&quot; })\r\n\tpublic Map execute(JdbcTemplate jdbcTemplate, SQLNotification sqlNotification) {\r\n\t  Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();\r\n\t\tparams.put(DAOConstants.PI_NOTIFICATION, sqlNotification);\r\n\t\treturn super.execute(params);\r\n    }\t\r\n}\r\n\r\n```\r\n`SQLNotification.java`:\r\n```\r\npublic class SQLNotification implements SQLData {\r\n    private String notificationContent;\r\n    private String comments;\r\n\tprivate static Connection connection;\r\n    ...\r\n\r\n\t@Override\r\n\tpublic void writeSQL(SQLOutput sqlOutput) throws SQLException {\r\n        ...\r\n\t\tNClob notificationContentNClob = connection.createNClob();\r\n\t\tnotificationContentNClob.setString(1, getNotificationContent());\r\n\t\tsqlOutput.writeNClob(notificationContentNClob);\r\n        ...\r\n\t\tNClob commentsNClob = connection.createNClob();\r\n\t\tcommentsNClob.setString(1, getComments());\r\n\t\tsqlOutput.writeNClob(commentsNClob);\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\n*(Is this the correct way to insert Java `String` into Oracle&#39;s `NClob`?)*\r\n\r\nNot sure what went wrong...\r\n\r\n*I am unsure when this error occurs - Is it when creating the type instance? Is it when calling the function? Or, is it when inserting the data into the table?*","title":"ORA-65502: cannot access temporary LOB data","body":"<p>I am working on Java+Spring+Oracle application. I am trying to add a new function on the database that stores <code>NClob</code> in a custom type. I ran into the error</p>\n<pre><code>ORA-65502: cannot access temporary LOB data\n</code></pre>\n<p>but I am not sure how to fix my issue.</p>\n<p><em>Please pardon me that I am still new to PL/SQL and it is my first time dealing with NClob.</em></p>\n<p>To begin with, I have a table like this:</p>\n<pre><code>CREATE TABLE &quot;NOTIFICATION&quot; (\n    &quot;NOTIFICATION_ID&quot; NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,\n    ...\n    &quot;NOTIFICATION_CONTENT&quot; NCLOB,                -- HTML content of notification\n    ...\n    &quot;COMMENTS&quot;  NCLOB,\n    ...\n    CONSTRAINT &quot;PK_NOTIFICATION_ID&quot; PRIMARY KEY (&quot;NOTIFICATION_ID&quot;)\n);\n</code></pre>\n<p>I have a custom type to read/write encapsulated data:</p>\n<pre><code>create or replace TYPE NOTIFICATION_TYP FORCE AS OBJECT (\n    &quot;NOTIFICATION_ID&quot; NUMBER,\n    ...\n    &quot;NOTIFICATION_CONTENT&quot; NCLOB,                -- HTML content of notification\n    ...\n    &quot;COMMENTS&quot;  NCLOB,\n    ...\n    constructor function NOTIFICATION_TYP return self as result\n) NOT FINAL;\n\n</code></pre>\n<p>and its body simply as:</p>\n<pre><code>create or replace type body NOTIFICATION_TYP is\n  constructor function NOTIFICATION_TYP return self as result is\n  begin\n    return;\n  end;\nend;\n</code></pre>\n<p>So basically my (simplified)function in the database package is like this:</p>\n<pre><code>function create_notification(\n         pi_notification       in        NOTIFICATION_TYP\n        ,po_notification_id    out       number\n        ,po_return             out       return_typ\n    )\n    return integer as\n        v_excep_msg varchar2(200);\n    begin\n        insert into NOTIFICATION (\n            ...\n            NOTIFICATION_CONTENT,\n            ...\n            COMMENTS,\n            ...\n        ) values (\n            ...\n            pi_notification.NOTIFICATION_CONTENT,\n            ...\n            pi_notification.COMMENTS,\n            ...\n        ) RETURNING NOTIFICATION_ID INTO po_notification_id;\n        po_return := utils_pkg.get_success_info;\n        return c_success;\n\n    exception\n        when OTHERS then\n            v_excep_msg  :=  sqlerrm;\n            po_return := utils_pkg.get_error_info(SQLCODE, SQLERRM);\n            log_error_msg(\n                 pi_app_name         =&gt;  c_application_name\n                ,pi_error_msg        =&gt;  'Exception in creating notification'\n                ,pi_error_details    =&gt;  sqlerrm\n            );\n\n    return c_failure;\nend create_notification;\n\n</code></pre>\n<p>So from Java end, I am using <code>StoredProcedure</code> and <code>SQLData</code> to call the function in the package.\n<code>CreateNotificationFunction.java</code>:</p>\n<pre><code>import ...\npublic class CreateNotificationFunction  extends StoredProcedure{\n\n    public CreateNotificationFunction(JdbcTemplate jdbcTemplate){\n         super(jdbcTemplate, DAOConstants.CREATE_NOTIFICATION_FUNCTION);\n         setFunction(true);\n         declareParameter(new SqlOutParameter(DAOConstants.PO_FUNCTION_RESULT, OracleTypes.VARCHAR));\n         declareParameter(new SqlParameter(DAOConstants.PI_NOTIFICATION,OracleTypes.STRUCT,DAOConstants.TYPE_NOTIFICATION));\n         declareParameter(new SqlOutParameter(DAOConstants.PO_NOTIFICATION_ID, OracleTypes.NUMBER));\n         declareParameter(new SqlOutParameter(DAOConstants.PO_RETURN,OracleTypes.STRUCT,DAOConstants.TYPE_RETURN,  \n                new SqlReturnSqlData(SQLDBResult.class)));\n         allowsUnusedParameters();\n         compile();         \n    }\n    \n    @SuppressWarnings({ &quot;rawtypes&quot; })\n    public Map execute(JdbcTemplate jdbcTemplate, SQLNotification sqlNotification) {\n      Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();\n        params.put(DAOConstants.PI_NOTIFICATION, sqlNotification);\n        return super.execute(params);\n    }   \n}\n\n</code></pre>\n<p><code>SQLNotification.java</code>:</p>\n<pre><code>public class SQLNotification implements SQLData {\n    private String notificationContent;\n    private String comments;\n    private static Connection connection;\n    ...\n\n    @Override\n    public void writeSQL(SQLOutput sqlOutput) throws SQLException {\n        ...\n        NClob notificationContentNClob = connection.createNClob();\n        notificationContentNClob.setString(1, getNotificationContent());\n        sqlOutput.writeNClob(notificationContentNClob);\n        ...\n        NClob commentsNClob = connection.createNClob();\n        commentsNClob.setString(1, getComments());\n        sqlOutput.writeNClob(commentsNClob);\n        ...\n    }\n}\n</code></pre>\n<p><em>(Is this the correct way to insert Java <code>String</code> into Oracle's <code>NClob</code>?)</em></p>\n<p>Not sure what went wrong...</p>\n<p><em>I am unsure when this error occurs - Is it when creating the type instance? Is it when calling the function? Or, is it when inserting the data into the table?</em></p>\n"},{"tags":["java","sockets","udp","client","channel"],"comments":[{"owner":{"account_id":448441,"reputation":3683,"user_id":6783775,"display_name":"rveerd"},"score":0,"creation_date":1676139465,"post_id":75417564,"comment_id":133079307,"body_markdown":"What port are you using? You normally cannot bind to ports below 1024.","body":"What port are you using? You normally cannot bind to ports below 1024."},{"owner":{"account_id":25392691,"reputation":1,"user_id":19203381,"display_name":"Omar Daniel Gonz&#225;lez Trejo"},"score":0,"creation_date":1676143959,"post_id":75417564,"comment_id":133080036,"body_markdown":"I&#39;m using port 9999","body":"I&#39;m using port 9999"},{"owner":{"account_id":25392691,"reputation":1,"user_id":19203381,"display_name":"Omar Daniel Gonz&#225;lez Trejo"},"score":0,"creation_date":1676143998,"post_id":75417564,"comment_id":133080043,"body_markdown":"In both the client and the server","body":"In both the client and the server"}],"owner":{"account_id":25392691,"reputation":1,"user_id":19203381,"display_name":"Omar Daniel Gonz&#225;lez Trejo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676079033,"creation_date":1676079033,"question_id":75417564,"body_markdown":"It&#39;s my first time working with UDP channels and I am trying to send back data from the server to the client, but I am getting the following error \r\n\r\njava.net.BindException: Cannot assign requested address: no further information\r\n\r\nHere is my code \r\n\r\nClient \r\n\r\n```\r\nimport java.net.*;\r\nimport java.io.*;\r\nimport java.nio.*;\r\nimport java.nio.channels.*;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.*;\r\n\r\nimport javax.swing.JFileChooser;\r\n\r\npublic class Server {\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\tSystem.out.printf(&quot;\\nEscriba el puerto:&quot;);\r\n\t\t\tint pto = Integer.parseInt(br.readLine());\r\n\t\t\tSystem.out.printf(&quot;\\nMTU:&quot;);\r\n\t\t\tint mtu = Integer.parseInt(br.readLine());\r\n\t\t\t// Crea canal\r\n\t\t\tDatagramChannel canal = DatagramChannel.open();\r\n\t\t\tcanal.configureBlocking(false);\r\n\t\t\t// Obt&#233;n socket asociado al canal\r\n\t\t\tDatagramSocket socket = canal.socket();\r\n\t\t\t// Crea direcci&#243;n de socket\r\n\t\t\tSocketAddress dir = new InetSocketAddress(pto);\r\n\t\t\t// Asocia la direcci&#243;n del socket al socket\r\n\t\t\tsocket.bind(dir);\r\n\t\t\t// Crea selector\r\n\t\t\tSelector selector = Selector.open();\r\n\t\t\t// Registra selector al canal para escuchar la operaci&#243;n OP_READ\r\n\t\t\tcanal.register(selector, SelectionKey.OP_READ);\r\n\t\t\t// Crea buffer\r\n\t\t\t//ByteBuffer buffer = ByteBuffer.allocateDirect(mtu);\r\n\t\t\tByteBuffer buffer = ByteBuffer.allocateDirect(1024);\r\n\t\t\tint opc=-1;\r\n\t\t\twhile (true) {\r\n\t\t\t\t// bloquea el programa hasta que un canal este listo para ejecutar una operacion\r\n\t\t\t\tselector.select(5000);// espera 5 segundos por la conexi&#243;n\r\n\t\t\t\t// Obt&#233;n las llaves asociadas al selector\r\n\t\t\t\t// C:\\Users\\datre\\OneDrive\\Documentos\\Eclipse\\Redes2\\archivos\r\n\t\t\t\tSet sk = selector.selectedKeys();\r\n\t\t\t\tIterator it = sk.iterator();\r\n\t\t\t\twhile (it.hasNext()) {\r\n\t\t\t\t\tSelectionKey key = (SelectionKey) it.next();\r\n\t\t\t\t\tit.remove();\r\n\t\t\t\t\t//key.interestOps(SelectionKey.OP_READ);\r\n\t\t\t\t\tif (key.isWritable()) {\r\n\t\t\t\t\t\tSystem.out.print(&quot;It&#39;s writable server\\n&quot;);\r\n\t\t\t\t\t\tif(opc == 1) {//Listar archivos\r\n\t\t\t\t\t\t\t//ENVIAR OPC\r\n\t        \t\t\t    ByteBuffer tamBuffer = ByteBuffer.allocate(4);\r\n\t        \t\t\t    tamBuffer.asIntBuffer().put(opc);\r\n\t        \t\t\t    tamBuffer.rewind();\r\n\t        \t\t\t    SocketAddress client = canal.receive(buffer);\r\n                            canal.send(tamBuffer,dir);\r\n\t\t\t\t\t\t\t//LISTA DE ARCHIVOS\r\n\t\t\t\t\t\t\tSystem.out.print(&quot;Listar archivos\\n&quot;);\r\n\t\t\t\t\t\t} else if(opc == 2) {//Leer archivo\r\n\t\t\t\t\t\t\t//ENV OPC\r\n\t\t\t\t\t\t\t//ENVIAR ARCHIVO\r\n\t\t\t\t\t\t\tSystem.out.print(&quot;Leer archivos\\n&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tkey.interestOps(SelectionKey.OP_READ);\r\n\t\t\t\t\t\t//ready (canal,dir);\r\n\t\t\t\t\t\t//System.exit(0);\r\n\t\t\t\t\t\t//canal.close();\r\n\t\t\t\t\t} // if\r\n\t\t\t\t\telse if (key.isReadable()) {\r\n\t                \tSystem.out.println(&quot;Is readable server: getting option&quot;);\r\n\t                    ByteBuffer b = ByteBuffer.allocate(4);\r\n\t                    b.clear();\r\n\t                    SocketAddress client = canal.receive(b);\r\n\t                    b.flip();\r\n\t                    opc = b.getInt();\r\n\t                \tSystem.out.println(&quot;Opc : &quot; + opc + &quot;\\n&quot;);\r\n\t                \tkey.interestOps(SelectionKey.OP_WRITE);\r\n\t\t\t\t\t} // if\r\n\t\t\t\t} // while2\r\n\t\t\t} // while\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(e);\r\n\t\t} // catch\r\n\t}// main\r\n\t\r\n    private static void ready(DatagramChannel channel, SocketAddress serverAddress) {\r\n        System.out.println(&quot;Sending filename\\n&quot;);\r\n        try {\r\n            String fileName;\r\n\r\n            File f = new File(&quot;C:\\\\Users\\\\datre\\\\OneDrive\\\\Documentos\\\\IA\\\\Estacionamiento1.pdf&quot;);\r\n            fileName = f.getName();\r\n\r\n            ByteBuffer buf = ByteBuffer.allocate(1024);\r\n            buf.clear();\r\n            buf.put(fileName.getBytes());\r\n            buf.flip();\r\n\r\n            channel.send(buf,serverAddress); // Sending the packet with the file name\r\n            //channel.write(buf);\r\n            //channel.close();\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n    }\r\n    \r\n    \r\n}//class\r\n```\r\n\r\nServer\r\n\r\n```\r\npackage main;\r\n\r\n\r\nimport java.net.*;\r\nimport java.io.*;\r\nimport java.nio.*;\r\nimport java.nio.channels.*;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.*;\r\n\r\nimport javax.swing.JFileChooser;\r\nimport javax.swing.filechooser.FileSystemView;\r\n\r\npublic class Client {\r\n\tprivate final static int LIMITE = 100;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tboolean bandera = false;\r\n\r\n\t\ttry {\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\tSystem.out.printf(&quot;Escriba la direcci&#243;n del servidor:&quot;);\r\n\t\t\tString host = br.readLine();\r\n\t\t\tSystem.out.printf(&quot;\\nEscriba el puerto:&quot;);\r\n\t\t\tint pto = Integer.parseInt(br.readLine());\r\n\t\t\tSocketAddress remoto = new InetSocketAddress(host, pto);\r\n\t\t\t// Crea canal\r\n\t\t\tDatagramChannel canal = DatagramChannel.open();\r\n\t\t\tcanal.configureBlocking(false);\r\n\t\t\t// Conecta el canal al socket\r\n\t\t\tcanal.connect(remoto);\r\n\t\t\t// Crea selector\r\n\t\t\tSelector selector = Selector.open();\r\n\t\t\t// Registra el selector para esperar la operacion de OP_WRITE\r\n\t\t\tcanal.register(selector, SelectionKey.OP_WRITE);\r\n\t\t\t// Crea un buffer de 4 bytes\r\n\t\t\t//ByteBuffer buffer = ByteBuffer.allocateDirect(4);\r\n\t\t\t//Server route\r\n\t\t\tString serverRoute = &quot;C:\\\\Users\\\\datre\\\\OneDrive\\\\Documentos\\\\Eclipse\\\\TrustworthyUDPChannel&quot;; \r\n\t\t\tint o=1;\r\n\t\t\twhile (true) {\r\n\t\t\t\t// bloquea el programa hasta que un canal este listo para ejecutar una operacion\r\n\t\t\t\tselector.select(5000); // espera 5 segundos por la conexi&#243;n\r\n\t\t\t\t// Obten el conjunto de keys del selector\r\n\t\t\t\tSet sk = selector.selectedKeys();\r\n\t\t\t\tIterator it = sk.iterator();\r\n\t\t\t\twhile (it.hasNext()) {\r\n\t\t\t\t\tSelectionKey key = (SelectionKey) it.next();\r\n\t\t\t\t\tit.remove();\r\n\t\t\t\t\t//key.interestOps(SelectionKey.OP_READ);\r\n\t\t\t\t\tif (key.isReadable()) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;It&#39;s readable client&quot;);\r\n\t                    ByteBuffer b = ByteBuffer.allocate(4);\r\n\t                    b.clear();\r\n\t                    SocketAddress client = canal.receive(b);\r\n\t                    b.flip();\r\n\t                    int opc = b.getInt();\r\n\t                \tSystem.out.println(&quot;Opc : &quot; + opc + &quot;\\n&quot;);\r\n\t\t\t\t\t\t//createFile (canal,serverRoute);\r\n\t\t\t\t\t\t//canal.close();\r\n\t\t\t\t\t} else if (key.isWritable()) {\r\n                    \tSystem.out.println(&quot;Is writable client: sending option&quot;);\r\n                    \tif(o ==  1)//Listar archivos\r\n                    \t{\r\n\t        \t\t\t    ByteBuffer tamBuffer = ByteBuffer.allocate(4);\r\n\t        \t\t\t    tamBuffer.asIntBuffer().put(1);\r\n\t        \t\t\t    tamBuffer.rewind();\r\n                            canal.send(tamBuffer,remoto);\r\n                    \t} else if(o == 2)// Descargar archivo\r\n                    \t{\r\n\t        \t\t\t    ByteBuffer tamBuffer = ByteBuffer.allocate(4);\r\n\t        \t\t\t    tamBuffer.asIntBuffer().put(2);\r\n\t        \t\t\t    tamBuffer.rewind();\r\n                            canal.send(tamBuffer,remoto);\t\r\n                    \t}\r\n                    \tkey.interestOps(SelectionKey.OP_READ);\r\n\t\t\t\t\t} \r\n\t\t\t\t} // while\r\n\t\t\t} // while\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.err.println(e);\r\n\t\t} // catch\r\n\t}// main\r\n\t\r\n    public static void createFile (DatagramChannel channel, String serverRoute){\r\n        try{\r\n            ByteBuffer buffer = ByteBuffer.allocate(1024);\r\n            channel.receive(buffer); // Receive the datagram with the name of the file\r\n            System.out.println(&quot;Receiving file name&quot;);\r\n            buffer.flip();\r\n            byte[] bytes = new byte[buffer.remaining()];\r\n            buffer.get(bytes);\r\n            String fileName = new String(bytes);\r\n            File f = new File (serverRoute+&quot;\\\\&quot;+fileName); // Creating the file\r\n            System.out.print(fileName+ &quot;\\n&quot; + f + &quot;\\n&quot;);\r\n            FileOutputStream outToFile = new FileOutputStream(f); // Creating the stream through which we write the file content\r\n            //receiveFile(outToFile, socket); // Receiving the file\r\n        }catch(Exception ex){\r\n            ex.printStackTrace();\r\n            System.exit(1);\r\n        }   \r\n    }\r\n\t\r\n\r\n\r\n}// class\r\n```\r\n\r\n\r\n\r\nI tried to use write instead but I get a different error \r\n\r\njava.net.PortUnreachableException","title":"Send data from server to client using UDP channels in java","body":"<p>It's my first time working with UDP channels and I am trying to send back data from the server to the client, but I am getting the following error</p>\n<p>java.net.BindException: Cannot assign requested address: no further information</p>\n<p>Here is my code</p>\n<p>Client</p>\n<pre><code>import java.net.*;\nimport java.io.*;\nimport java.nio.*;\nimport java.nio.channels.*;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.util.*;\n\nimport javax.swing.JFileChooser;\n\npublic class Server {\n    public static void main(String[] args) {\n        try {\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n            System.out.printf(&quot;\\nEscriba el puerto:&quot;);\n            int pto = Integer.parseInt(br.readLine());\n            System.out.printf(&quot;\\nMTU:&quot;);\n            int mtu = Integer.parseInt(br.readLine());\n            // Crea canal\n            DatagramChannel canal = DatagramChannel.open();\n            canal.configureBlocking(false);\n            // Obtén socket asociado al canal\n            DatagramSocket socket = canal.socket();\n            // Crea dirección de socket\n            SocketAddress dir = new InetSocketAddress(pto);\n            // Asocia la dirección del socket al socket\n            socket.bind(dir);\n            // Crea selector\n            Selector selector = Selector.open();\n            // Registra selector al canal para escuchar la operación OP_READ\n            canal.register(selector, SelectionKey.OP_READ);\n            // Crea buffer\n            //ByteBuffer buffer = ByteBuffer.allocateDirect(mtu);\n            ByteBuffer buffer = ByteBuffer.allocateDirect(1024);\n            int opc=-1;\n            while (true) {\n                // bloquea el programa hasta que un canal este listo para ejecutar una operacion\n                selector.select(5000);// espera 5 segundos por la conexión\n                // Obtén las llaves asociadas al selector\n                // C:\\Users\\datre\\OneDrive\\Documentos\\Eclipse\\Redes2\\archivos\n                Set sk = selector.selectedKeys();\n                Iterator it = sk.iterator();\n                while (it.hasNext()) {\n                    SelectionKey key = (SelectionKey) it.next();\n                    it.remove();\n                    //key.interestOps(SelectionKey.OP_READ);\n                    if (key.isWritable()) {\n                        System.out.print(&quot;It's writable server\\n&quot;);\n                        if(opc == 1) {//Listar archivos\n                            //ENVIAR OPC\n                            ByteBuffer tamBuffer = ByteBuffer.allocate(4);\n                            tamBuffer.asIntBuffer().put(opc);\n                            tamBuffer.rewind();\n                            SocketAddress client = canal.receive(buffer);\n                            canal.send(tamBuffer,dir);\n                            //LISTA DE ARCHIVOS\n                            System.out.print(&quot;Listar archivos\\n&quot;);\n                        } else if(opc == 2) {//Leer archivo\n                            //ENV OPC\n                            //ENVIAR ARCHIVO\n                            System.out.print(&quot;Leer archivos\\n&quot;);\n                        }\n                        key.interestOps(SelectionKey.OP_READ);\n                        //ready (canal,dir);\n                        //System.exit(0);\n                        //canal.close();\n                    } // if\n                    else if (key.isReadable()) {\n                        System.out.println(&quot;Is readable server: getting option&quot;);\n                        ByteBuffer b = ByteBuffer.allocate(4);\n                        b.clear();\n                        SocketAddress client = canal.receive(b);\n                        b.flip();\n                        opc = b.getInt();\n                        System.out.println(&quot;Opc : &quot; + opc + &quot;\\n&quot;);\n                        key.interestOps(SelectionKey.OP_WRITE);\n                    } // if\n                } // while2\n            } // while\n        } catch (IOException e) {\n            System.err.println(e);\n        } // catch\n    }// main\n    \n    private static void ready(DatagramChannel channel, SocketAddress serverAddress) {\n        System.out.println(&quot;Sending filename\\n&quot;);\n        try {\n            String fileName;\n\n            File f = new File(&quot;C:\\\\Users\\\\datre\\\\OneDrive\\\\Documentos\\\\IA\\\\Estacionamiento1.pdf&quot;);\n            fileName = f.getName();\n\n            ByteBuffer buf = ByteBuffer.allocate(1024);\n            buf.clear();\n            buf.put(fileName.getBytes());\n            buf.flip();\n\n            channel.send(buf,serverAddress); // Sending the packet with the file name\n            //channel.write(buf);\n            //channel.close();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            System.exit(1);\n        }\n    }\n    \n    \n}//class\n</code></pre>\n<p>Server</p>\n<pre><code>package main;\n\n\nimport java.net.*;\nimport java.io.*;\nimport java.nio.*;\nimport java.nio.channels.*;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.util.*;\n\nimport javax.swing.JFileChooser;\nimport javax.swing.filechooser.FileSystemView;\n\npublic class Client {\n    private final static int LIMITE = 100;\n\n    public static void main(String[] args) {\n        boolean bandera = false;\n\n        try {\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n            System.out.printf(&quot;Escriba la dirección del servidor:&quot;);\n            String host = br.readLine();\n            System.out.printf(&quot;\\nEscriba el puerto:&quot;);\n            int pto = Integer.parseInt(br.readLine());\n            SocketAddress remoto = new InetSocketAddress(host, pto);\n            // Crea canal\n            DatagramChannel canal = DatagramChannel.open();\n            canal.configureBlocking(false);\n            // Conecta el canal al socket\n            canal.connect(remoto);\n            // Crea selector\n            Selector selector = Selector.open();\n            // Registra el selector para esperar la operacion de OP_WRITE\n            canal.register(selector, SelectionKey.OP_WRITE);\n            // Crea un buffer de 4 bytes\n            //ByteBuffer buffer = ByteBuffer.allocateDirect(4);\n            //Server route\n            String serverRoute = &quot;C:\\\\Users\\\\datre\\\\OneDrive\\\\Documentos\\\\Eclipse\\\\TrustworthyUDPChannel&quot;; \n            int o=1;\n            while (true) {\n                // bloquea el programa hasta que un canal este listo para ejecutar una operacion\n                selector.select(5000); // espera 5 segundos por la conexión\n                // Obten el conjunto de keys del selector\n                Set sk = selector.selectedKeys();\n                Iterator it = sk.iterator();\n                while (it.hasNext()) {\n                    SelectionKey key = (SelectionKey) it.next();\n                    it.remove();\n                    //key.interestOps(SelectionKey.OP_READ);\n                    if (key.isReadable()) {\n                        System.out.println(&quot;It's readable client&quot;);\n                        ByteBuffer b = ByteBuffer.allocate(4);\n                        b.clear();\n                        SocketAddress client = canal.receive(b);\n                        b.flip();\n                        int opc = b.getInt();\n                        System.out.println(&quot;Opc : &quot; + opc + &quot;\\n&quot;);\n                        //createFile (canal,serverRoute);\n                        //canal.close();\n                    } else if (key.isWritable()) {\n                        System.out.println(&quot;Is writable client: sending option&quot;);\n                        if(o ==  1)//Listar archivos\n                        {\n                            ByteBuffer tamBuffer = ByteBuffer.allocate(4);\n                            tamBuffer.asIntBuffer().put(1);\n                            tamBuffer.rewind();\n                            canal.send(tamBuffer,remoto);\n                        } else if(o == 2)// Descargar archivo\n                        {\n                            ByteBuffer tamBuffer = ByteBuffer.allocate(4);\n                            tamBuffer.asIntBuffer().put(2);\n                            tamBuffer.rewind();\n                            canal.send(tamBuffer,remoto);   \n                        }\n                        key.interestOps(SelectionKey.OP_READ);\n                    } \n                } // while\n            } // while\n        } catch (Exception e) {\n            System.err.println(e);\n        } // catch\n    }// main\n    \n    public static void createFile (DatagramChannel channel, String serverRoute){\n        try{\n            ByteBuffer buffer = ByteBuffer.allocate(1024);\n            channel.receive(buffer); // Receive the datagram with the name of the file\n            System.out.println(&quot;Receiving file name&quot;);\n            buffer.flip();\n            byte[] bytes = new byte[buffer.remaining()];\n            buffer.get(bytes);\n            String fileName = new String(bytes);\n            File f = new File (serverRoute+&quot;\\\\&quot;+fileName); // Creating the file\n            System.out.print(fileName+ &quot;\\n&quot; + f + &quot;\\n&quot;);\n            FileOutputStream outToFile = new FileOutputStream(f); // Creating the stream through which we write the file content\n            //receiveFile(outToFile, socket); // Receiving the file\n        }catch(Exception ex){\n            ex.printStackTrace();\n            System.exit(1);\n        }   \n    }\n    \n\n\n}// class\n</code></pre>\n<p>I tried to use write instead but I get a different error</p>\n<p>java.net.PortUnreachableException</p>\n"},{"tags":["java","generics","arraylist"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676078525,"creation_date":1676078031,"answer_id":75417502,"question_id":75413505,"body_markdown":"Wrong brackets :-)\r\n\r\nYou are trying to create an array &quot;ArrayList[arraySize]&quot; instead of an instance of ArrayList with an initial size\r\n\r\n    new ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;[arraySize];\r\n\r\nI think what you are trying to do is\r\n\r\n    new ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;(someInitialListSize);\r\n\r\nBut without knowing exactly what type &quot;this.next&quot; is (maybe it really is  SkipNode&lt;T&gt;[]?), it is hard to be sure.","title":"How to Properly Setup Generic ArrayLists in Java (based on SkipLists)","body":"<p>Wrong brackets :-)</p>\n<p>You are trying to create an array &quot;ArrayList[arraySize]&quot; instead of an instance of ArrayList with an initial size</p>\n<pre><code>new ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;[arraySize];\n</code></pre>\n<p>I think what you are trying to do is</p>\n<pre><code>new ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;(someInitialListSize);\n</code></pre>\n<p>But without knowing exactly what type &quot;this.next&quot; is (maybe it really is  SkipNode[]?), it is hard to be sure.</p>\n"}],"owner":{"account_id":17065960,"reputation":69,"user_id":12348133,"display_name":"CodedRoses"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75417502,"answer_count":1,"score":0,"last_activity_date":1676078525,"creation_date":1676045319,"question_id":75413505,"body_markdown":"I&#39;m *trying* to code up SkipLists as I just learned about the data structure.\r\n\r\n**Main Question:** How do I properly setup a Generic ArrayList for SkipLists?\r\n\r\nSo far, I&#39;ve learned java does not like generic arrays for example:\r\n```\r\nSkippyList.java:138: error: generic array creation\r\n                SkipNode&lt;T&gt;[] criticalPoints = (SkipNode&lt;T&gt;[]) new SkipNode&lt;T&gt;[height];\r\n```\r\nSo now I&#39;m trying to use ArrayLists to hold these generic types. I&#39;ve been scouring the internet and haven&#39;t been able to find a solution that works.\r\nI&#39;ve tried setting up the ArrayList (as a global variable) like `ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;[] next;`\r\n\r\nThen in a function such as this one declare it like such:\r\n```\r\n\t// Constructor for a node with data, but not wired in.\r\n\tpublic SkipNode(AnyType data, int height)\r\n\t{\r\n\t\tthis.data = data;\r\n\t\tthis.height = height;\r\n\t\tthis.next = new ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;[height];\r\n\t\tfor (int i = 0; i &lt;= height; i++)\r\n\t\t\tthis.next[i] = null;\r\n\t}\r\n```\r\nBut then I end up with another error such as this one:\r\n```\r\nSkippyList.java:14: error: generic array creation\r\n                this.next = new ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;[height];\r\n```\r\n\r\nFor reference the (not updated) constructor for (some) of the nodes:\r\n```\r\n\t// Constructor for the head node\r\n\tpublic SkipNode(int height)\r\n\t{\r\n\t\tthis.data = null;\r\n\t\tthis.next = (SkipNode&lt;AnyType&gt;[]) new SkipNode[height];\r\n\t\tfor (int i = 0; i &lt;= height; i++)\r\n\t\t\tthis.next[i] = null;\r\n\t}\r\n```\r\n\r\nI know it is possible, do I need to include the `&lt;AnyType&gt;` (because I&#39;ve tried to leave it off and still recieve the same result) or am I just improperly creating a Generic ArrayList?\r\n\r\nThank you for any insight!","title":"How to Properly Setup Generic ArrayLists in Java (based on SkipLists)","body":"<p>I'm <em>trying</em> to code up SkipLists as I just learned about the data structure.</p>\n<p><strong>Main Question:</strong> How do I properly setup a Generic ArrayList for SkipLists?</p>\n<p>So far, I've learned java does not like generic arrays for example:</p>\n<pre><code>SkippyList.java:138: error: generic array creation\n                SkipNode&lt;T&gt;[] criticalPoints = (SkipNode&lt;T&gt;[]) new SkipNode&lt;T&gt;[height];\n</code></pre>\n<p>So now I'm trying to use ArrayLists to hold these generic types. I've been scouring the internet and haven't been able to find a solution that works.\nI've tried setting up the ArrayList (as a global variable) like <code>ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;[] next;</code></p>\n<p>Then in a function such as this one declare it like such:</p>\n<pre><code>    // Constructor for a node with data, but not wired in.\n    public SkipNode(AnyType data, int height)\n    {\n        this.data = data;\n        this.height = height;\n        this.next = new ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;[height];\n        for (int i = 0; i &lt;= height; i++)\n            this.next[i] = null;\n    }\n</code></pre>\n<p>But then I end up with another error such as this one:</p>\n<pre><code>SkippyList.java:14: error: generic array creation\n                this.next = new ArrayList&lt;SkipNode&lt;AnyType&gt;&gt;[height];\n</code></pre>\n<p>For reference the (not updated) constructor for (some) of the nodes:</p>\n<pre><code>    // Constructor for the head node\n    public SkipNode(int height)\n    {\n        this.data = null;\n        this.next = (SkipNode&lt;AnyType&gt;[]) new SkipNode[height];\n        for (int i = 0; i &lt;= height; i++)\n            this.next[i] = null;\n    }\n</code></pre>\n<p>I know it is possible, do I need to include the <code>&lt;AnyType&gt;</code> (because I've tried to leave it off and still recieve the same result) or am I just improperly creating a Generic ArrayList?</p>\n<p>Thank you for any insight!</p>\n"},{"tags":["java","spring-boot","spring-security","jsr250"],"comments":[{"owner":{"account_id":1731528,"reputation":1442,"user_id":1585041,"accept_rate":78,"display_name":"Artenes Nogueira"},"score":0,"creation_date":1675905196,"post_id":74898054,"comment_id":133030554,"body_markdown":"You can check my answer in this question for a possible solution: https://stackoverflow.com/questions/74763256/accessdecisionvoter-deprecated-with-spring-security-6-x/75393249#75393249","body":"You can check my answer in this question for a possible solution: <a href=\"https://stackoverflow.com/questions/74763256/accessdecisionvoter-deprecated-with-spring-security-6-x/75393249#75393249\" title=\"accessdecisionvoter deprecated with spring security 6 x\">stackoverflow.com/questions/74763256/&hellip;</a>"},{"owner":{"account_id":27334321,"reputation":31,"user_id":20845995,"display_name":"cjtfd"},"score":0,"creation_date":1675954737,"post_id":74898054,"comment_id":133042340,"body_markdown":"@ArtenesNogueira I tried your answer and it works only as long as I don&#39;t add any JSR250 annotations to my controller. Any idea on how to go about adding the hierarchy to the jsr manager specifically?","body":"@ArtenesNogueira I tried your answer and it works only as long as I don&#39;t add any JSR250 annotations to my controller. Any idea on how to go about adding the hierarchy to the jsr manager specifically?"}],"answers":[{"tags":[],"owner":{"account_id":1731528,"reputation":1442,"user_id":1585041,"accept_rate":78,"display_name":"Artenes Nogueira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676078242,"creation_date":1676078242,"answer_id":75417521,"question_id":74898054,"body_markdown":"Unfortunately there is no support to add role hierarchy to JSR250 manager. But there is a workaround that basically clones the library&#39;s implementation. At this point it makes more sense to drop JSR250 since you will be just replicating the logic from the libs to your code base, but if you want to do it anyway, just follow these instructions:\r\n\r\n1. Create a custom manager that will deal with the JSR250 annotations:\r\n\r\n````java\r\npublic class Jsr250CustomAuthorizationManager implements AuthorizationManager&lt;MethodInvocation&gt; {\r\n\r\n    static final AuthorizationManager&lt;MethodInvocation&gt; NULL_MANAGER = (a, o) -&gt; null;\r\n\r\n    private final RoleHierarchy roleHierarchy;\r\n\r\n    public Jsr250CustomAuthorizationManager(RoleHierarchy roleHierarchy) {\r\n        this.roleHierarchy = roleHierarchy;\r\n    }\r\n\r\n    @Override\r\n    public AuthorizationDecision check(Supplier&lt;Authentication&gt; authentication, MethodInvocation methodInvocation) {\r\n        var manager = resolveManager(methodInvocation);\r\n        return manager.check(authentication, methodInvocation);\r\n    }\r\n\r\n    public AuthorizationManager&lt;MethodInvocation&gt; resolveManager(MethodInvocation methodInvocation) {\r\n        if (hasDenyAll(methodInvocation)) {\r\n            return (a, o) -&gt; new AuthorizationDecision(false);\r\n        }\r\n\r\n        if (hasPermitAll(methodInvocation)) {\r\n            return (a, o) -&gt; new AuthorizationDecision(true);\r\n        }\r\n\r\n        if (hasRolesAllowed(methodInvocation)) {\r\n            var rolesAllowed = (RolesAllowed) methodInvocation.getMethod().getAnnotation(RolesAllowed.class);\r\n            var manager = AuthorityAuthorizationManager.&lt;MethodInvocation&gt;hasAnyRole(rolesAllowed.value());\r\n            manager.setRoleHierarchy(roleHierarchy);\r\n            return manager;\r\n        }\r\n\r\n        return NULL_MANAGER;\r\n    }\r\n\r\n    public boolean hasDenyAll(MethodInvocation methodInvocation) {\r\n        return methodInvocation.getMethod().getAnnotation(DenyAll.class) != null;\r\n    }\r\n\r\n    public boolean hasPermitAll(MethodInvocation methodInvocation) {\r\n        return methodInvocation.getMethod().getAnnotation(PermitAll.class) != null;\r\n    }\r\n\r\n    public boolean hasRolesAllowed(MethodInvocation methodInvocation) {\r\n        return methodInvocation.getMethod().getAnnotation(RolesAllowed.class) != null;\r\n    }\r\n\r\n}\r\n\r\n````\r\n\r\nYou can just copy and paste the code above into a new class in your code, this is a class that I made myself based on the one that exists in the spring security lib.\r\n\r\n2. expose this new instance as a bean of type `Advisor`:\r\n\r\n````java\r\n@EnableMethodSecurity(jsr250Enabled = true)\r\npublic class MethodSecuritytConfiguration {\r\n\r\n    @Bean\r\n    public Advisor jsr250AuthorizationMethodInterceptor() {\r\n        RoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\r\n        roleHierarchy.setHierarchy(&quot;ROLE_ADMIN &gt; ROLE_USER&quot;);\r\n        var manager = new Jsr250CustomAuthorizationManager(roleHierarchy);\r\n        return AuthorizationManagerBeforeMethodInterceptor.jsr250(manager);\r\n    }\r\n\r\n}\r\n````\r\n\r\n3. In case you are using `@EnableMethodSecurity(jsr250Enabled = true)`, you will also need to add this configuration to your `application.properties`:\r\n\r\n````\r\nspring.main.allow-bean-definition-overriding=true\r\n````\r\n\r\nThis will allow to override a bean that is defined in the security lib that deals with JSR250 annotations. Because this bean&#39;s configuration is hardcoded in the lib wihtout exposing a way to change it, we have to override it altogheter to add the behavior we need. Note that the name of your bean needs to be `jsr250AuthorizationMethodInterceptor` to override the one (with same name) from the security lib. If you remove the `jsr250Enabled` configuration from `EnableMethodSecurity`, then you can name your bean anything you want and remove the configuration from `application.properties`.","title":"Configure JSR250 role hierarchy in Spring 6","body":"<p>Unfortunately there is no support to add role hierarchy to JSR250 manager. But there is a workaround that basically clones the library's implementation. At this point it makes more sense to drop JSR250 since you will be just replicating the logic from the libs to your code base, but if you want to do it anyway, just follow these instructions:</p>\n<ol>\n<li>Create a custom manager that will deal with the JSR250 annotations:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Jsr250CustomAuthorizationManager implements AuthorizationManager&lt;MethodInvocation&gt; {\n\n    static final AuthorizationManager&lt;MethodInvocation&gt; NULL_MANAGER = (a, o) -&gt; null;\n\n    private final RoleHierarchy roleHierarchy;\n\n    public Jsr250CustomAuthorizationManager(RoleHierarchy roleHierarchy) {\n        this.roleHierarchy = roleHierarchy;\n    }\n\n    @Override\n    public AuthorizationDecision check(Supplier&lt;Authentication&gt; authentication, MethodInvocation methodInvocation) {\n        var manager = resolveManager(methodInvocation);\n        return manager.check(authentication, methodInvocation);\n    }\n\n    public AuthorizationManager&lt;MethodInvocation&gt; resolveManager(MethodInvocation methodInvocation) {\n        if (hasDenyAll(methodInvocation)) {\n            return (a, o) -&gt; new AuthorizationDecision(false);\n        }\n\n        if (hasPermitAll(methodInvocation)) {\n            return (a, o) -&gt; new AuthorizationDecision(true);\n        }\n\n        if (hasRolesAllowed(methodInvocation)) {\n            var rolesAllowed = (RolesAllowed) methodInvocation.getMethod().getAnnotation(RolesAllowed.class);\n            var manager = AuthorityAuthorizationManager.&lt;MethodInvocation&gt;hasAnyRole(rolesAllowed.value());\n            manager.setRoleHierarchy(roleHierarchy);\n            return manager;\n        }\n\n        return NULL_MANAGER;\n    }\n\n    public boolean hasDenyAll(MethodInvocation methodInvocation) {\n        return methodInvocation.getMethod().getAnnotation(DenyAll.class) != null;\n    }\n\n    public boolean hasPermitAll(MethodInvocation methodInvocation) {\n        return methodInvocation.getMethod().getAnnotation(PermitAll.class) != null;\n    }\n\n    public boolean hasRolesAllowed(MethodInvocation methodInvocation) {\n        return methodInvocation.getMethod().getAnnotation(RolesAllowed.class) != null;\n    }\n\n}\n\n</code></pre>\n<p>You can just copy and paste the code above into a new class in your code, this is a class that I made myself based on the one that exists in the spring security lib.</p>\n<ol start=\"2\">\n<li>expose this new instance as a bean of type <code>Advisor</code>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableMethodSecurity(jsr250Enabled = true)\npublic class MethodSecuritytConfiguration {\n\n    @Bean\n    public Advisor jsr250AuthorizationMethodInterceptor() {\n        RoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\n        roleHierarchy.setHierarchy(&quot;ROLE_ADMIN &gt; ROLE_USER&quot;);\n        var manager = new Jsr250CustomAuthorizationManager(roleHierarchy);\n        return AuthorizationManagerBeforeMethodInterceptor.jsr250(manager);\n    }\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>In case you are using <code>@EnableMethodSecurity(jsr250Enabled = true)</code>, you will also need to add this configuration to your <code>application.properties</code>:</li>\n</ol>\n<pre><code>spring.main.allow-bean-definition-overriding=true\n</code></pre>\n<p>This will allow to override a bean that is defined in the security lib that deals with JSR250 annotations. Because this bean's configuration is hardcoded in the lib wihtout exposing a way to change it, we have to override it altogheter to add the behavior we need. Note that the name of your bean needs to be <code>jsr250AuthorizationMethodInterceptor</code> to override the one (with same name) from the security lib. If you remove the <code>jsr250Enabled</code> configuration from <code>EnableMethodSecurity</code>, then you can name your bean anything you want and remove the configuration from <code>application.properties</code>.</p>\n"}],"owner":{"account_id":27334321,"reputation":31,"user_id":20845995,"display_name":"cjtfd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1676078242,"creation_date":1671787514,"question_id":74898054,"body_markdown":"When updating to Spring Security 6, the JSR250 annotation `@RolesAllowed` on my `@RestController` doesn&#39;t take the defined `roleHierarchy` into account.\r\n\r\nRelated to: https://stackoverflow.com/questions/74763256/accessdecisionvoter-deprecated-with-spring-security-6-x\r\n\r\nSince Spring Security 6, the `AccessDecisionVoter` is deprecated and the suggested way, from the thread above, is to &quot;simply expose a `expressionHandler`&quot;. This didn&#39;t work for me with JSR250 enabled.\r\n\r\n```java\r\n@Bean\r\npublic DefaultMethodSecurityExpressionHandler expressionHandler() {\r\n\tDefaultMethodSecurityExpressionHandler expressionHandler = new DefaultMethodSecurityExpressionHandler();\r\n\texpressionHandler.setRoleHierarchy(roleHierarchy());\r\n\treturn expressionHandler;\r\n}\r\n\r\n@Bean\r\npublic RoleHierarchy roleHierarchy() {\r\n\tRoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\r\n\tString hierarchy = &quot;a &gt; b&quot;;\r\n\troleHierarchy.setHierarchy(hierarchy);\r\n\treturn roleHierarchy;\r\n}\r\n```\r\n\r\nIt seems like the created `AuthorityAuthorizationManager` by `Jsr250AuthorizationManagerRegistry.resolveManager` for `RolesAllowed` doesn&#39;t take the `expressionHandler` nor `DefaultMethodSecurityExpressionHandler` into account.\r\n\r\nThe `AuthorityAuthorizationManager` does have a field for a `roleHierarchy` to be set, but I couldn&#39;t figure out how or when this is supposed to be called.\r\n\r\nI would have commented on the related post above but unfortunately I don&#39;t have the required reputation.","title":"Configure JSR250 role hierarchy in Spring 6","body":"<p>When updating to Spring Security 6, the JSR250 annotation <code>@RolesAllowed</code> on my <code>@RestController</code> doesn't take the defined <code>roleHierarchy</code> into account.</p>\n<p>Related to: <a href=\"https://stackoverflow.com/questions/74763256/accessdecisionvoter-deprecated-with-spring-security-6-x\">AccessDecisionVoter Deprecated with Spring Security 6.x</a></p>\n<p>Since Spring Security 6, the <code>AccessDecisionVoter</code> is deprecated and the suggested way, from the thread above, is to &quot;simply expose a <code>expressionHandler</code>&quot;. This didn't work for me with JSR250 enabled.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic DefaultMethodSecurityExpressionHandler expressionHandler() {\n    DefaultMethodSecurityExpressionHandler expressionHandler = new DefaultMethodSecurityExpressionHandler();\n    expressionHandler.setRoleHierarchy(roleHierarchy());\n    return expressionHandler;\n}\n\n@Bean\npublic RoleHierarchy roleHierarchy() {\n    RoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\n    String hierarchy = &quot;a &gt; b&quot;;\n    roleHierarchy.setHierarchy(hierarchy);\n    return roleHierarchy;\n}\n</code></pre>\n<p>It seems like the created <code>AuthorityAuthorizationManager</code> by <code>Jsr250AuthorizationManagerRegistry.resolveManager</code> for <code>RolesAllowed</code> doesn't take the <code>expressionHandler</code> nor <code>DefaultMethodSecurityExpressionHandler</code> into account.</p>\n<p>The <code>AuthorityAuthorizationManager</code> does have a field for a <code>roleHierarchy</code> to be set, but I couldn't figure out how or when this is supposed to be called.</p>\n<p>I would have commented on the related post above but unfortunately I don't have the required reputation.</p>\n"},{"tags":["java","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676078109,"creation_date":1676078109,"answer_id":75417512,"question_id":75417294,"body_markdown":"Yes, there is a way to do what you want.  It&#39;s called an `Answer`, which is a way of specifying a method to run when a mock is used, instead of specifying just a return value.  Even a simple lambda expression can be used as an `Answer`.\r\n\r\nThe code that you&#39;ve written evaluates `ob.getParam()`, and passes the result to `thenReturn`, which is not what you want.  You want something like this.\r\n\r\n    when(otherClassMock.otherMethod()).thenAnswer(invocation -&gt; ob.getParam());\r\n\r\nThis way, `ob.getParam()` will be evaluated at the time that `otherClassMock.otherMethod()` is called.","title":"Mockito returning a value getting updated on the fly","body":"<p>Yes, there is a way to do what you want.  It's called an <code>Answer</code>, which is a way of specifying a method to run when a mock is used, instead of specifying just a return value.  Even a simple lambda expression can be used as an <code>Answer</code>.</p>\n<p>The code that you've written evaluates <code>ob.getParam()</code>, and passes the result to <code>thenReturn</code>, which is not what you want.  You want something like this.</p>\n<pre><code>when(otherClassMock.otherMethod()).thenAnswer(invocation -&gt; ob.getParam());\n</code></pre>\n<p>This way, <code>ob.getParam()</code> will be evaluated at the time that <code>otherClassMock.otherMethod()</code> is called.</p>\n"}],"owner":{"account_id":27757399,"reputation":3,"user_id":21190525,"display_name":"Ron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75417512,"answer_count":1,"score":0,"last_activity_date":1676078109,"creation_date":1676075073,"question_id":75417294,"body_markdown":"I am trying to test a class using Mockito.\r\n\r\n```\r\n@Mock otherClassMock;\r\nMyclass ob = new Myclass(otherClassMock, ...)\r\n\r\n@Test\r\nvoid test() {\r\n  ob.setParam(5);\r\n  when(otherClassMock.otherMethod()).thenReturn(ob.getParam());\r\n  ob.myMethod();// internally updates Param and calls otherObject.otherMethod()\r\n}\r\n```\r\nNow `myMethod()` internally changes value of `Param` and calls `otherMethod()` , but `thenReturn()` returns the old value of 5. Is there a way to get the updated value in the `thenReturn()` ?\r\n","title":"Mockito returning a value getting updated on the fly","body":"<p>I am trying to test a class using Mockito.</p>\n<pre><code>@Mock otherClassMock;\nMyclass ob = new Myclass(otherClassMock, ...)\n\n@Test\nvoid test() {\n  ob.setParam(5);\n  when(otherClassMock.otherMethod()).thenReturn(ob.getParam());\n  ob.myMethod();// internally updates Param and calls otherObject.otherMethod()\n}\n</code></pre>\n<p>Now <code>myMethod()</code> internally changes value of <code>Param</code> and calls <code>otherMethod()</code> , but <code>thenReturn()</code> returns the old value of 5. Is there a way to get the updated value in the <code>thenReturn()</code> ?</p>\n"},{"tags":["java","spring","jpa","equals","lombok"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676073238,"post_id":75415002,"comment_id":133071111,"body_markdown":"Are you asking about automated testing of `.equals (Object o)` and of `hashCode()`? Or automated generation of those methods? if the latter, check your IDE for a tool that will generate those two methods.","body":"Are you asking about automated testing of <code>.equals (Object o)</code> and of <code>hashCode()</code>? Or automated generation of those methods? if the latter, check your IDE for a tool that will generate those two methods."},{"owner":{"account_id":20055636,"reputation":49,"user_id":14703347,"display_name":"ColdDeath"},"score":0,"creation_date":1676207564,"post_id":75415002,"comment_id":133087122,"body_markdown":"I&#39;m asking about correct implementations of these methods. It doesn&#39;t make sense will be it automatic or manual. Testing only verifies that they were implemented correctly","body":"I&#39;m asking about correct implementations of these methods. It doesn&#39;t make sense will be it automatic or manual. Testing only verifies that they were implemented correctly"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676076826,"creation_date":1676076218,"answer_id":75417381,"question_id":75415002,"body_markdown":"I think that the assumption in the post @DZone has a fundamental issue. I think they are mixing DTOs (JPA) with the &quot;live&quot; objects in their application model.\r\n\r\nThe Entity going into or being retrieved via JPA is a DTO @Value object and not a @Data Object.\r\n\r\nAn application should map it&#39;s &quot;application model&quot; to the externalized DTOs, regardless if they are a &quot;REST DTO&quot; or a &quot;JPA DTO&quot;.\r\n\r\nFor a JPA get and save to compare changes, you shouldn&#39;t simply change the fields in the DTO, because that is not what the database knows.","title":"Best practice for implementation equals and hashcode","body":"<p>I think that the assumption in the post @DZone has a fundamental issue. I think they are mixing DTOs (JPA) with the &quot;live&quot; objects in their application model.</p>\n<p>The Entity going into or being retrieved via JPA is a DTO @Value object and not a @Data Object.</p>\n<p>An application should map it's &quot;application model&quot; to the externalized DTOs, regardless if they are a &quot;REST DTO&quot; or a &quot;JPA DTO&quot;.</p>\n<p>For a JPA get and save to compare changes, you shouldn't simply change the fields in the DTO, because that is not what the database knows.</p>\n"}],"owner":{"account_id":20055636,"reputation":49,"user_id":14703347,"display_name":"ColdDeath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676076826,"creation_date":1676054725,"question_id":75415002,"body_markdown":"I&#39;ve revealed that @Data annotation in Lombok is bad practice now when we use JPA https://dzone.com/articles/lombok-and-jpa-what-may-go-wrong\r\n\r\nSo what is the best practice for implementation of these methods for class like:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    @NotNull\r\n    private Long id;\r\n\r\n    private String value;\r\n}\r\n```\r\n\r\nMaybe this variant?\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    @NotNull\r\n    private Long id;\r\n\r\n    private String value;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o)\r\n            return true;\r\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o))\r\n            return false;\r\n        User that = (User) o;\r\n        return id != null &amp;&amp; Objects.equals(id, that.id);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getClass().hashCode();\r\n    }\r\n}\r\n```\r\n\r\nAnd implementation such methods by manual require test coverage. Are there some automation possibilities? Maybe this one? https://jqno.nl/equalsverifier/\r\n","title":"Best practice for implementation equals and hashcode","body":"<p>I've revealed that @Data annotation in Lombok is bad practice now when we use JPA <a href=\"https://dzone.com/articles/lombok-and-jpa-what-may-go-wrong\" rel=\"nofollow noreferrer\">https://dzone.com/articles/lombok-and-jpa-what-may-go-wrong</a></p>\n<p>So what is the best practice for implementation of these methods for class like:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class User {\n    @Id\n    @NotNull\n    private Long id;\n\n    private String value;\n}\n</code></pre>\n<p>Maybe this variant?</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class User {\n    @Id\n    @NotNull\n    private Long id;\n\n    private String value;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o)\n            return true;\n        if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o))\n            return false;\n        User that = (User) o;\n        return id != null &amp;&amp; Objects.equals(id, that.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n}\n</code></pre>\n<p>And implementation such methods by manual require test coverage. Are there some automation possibilities? Maybe this one? <a href=\"https://jqno.nl/equalsverifier/\" rel=\"nofollow noreferrer\">https://jqno.nl/equalsverifier/</a></p>\n"},{"tags":["java","phone-number","libphonenumber"],"answers":[{"tags":[],"owner":{"account_id":5219059,"reputation":2638,"user_id":4173063,"accept_rate":92,"display_name":"Srikanth Balaji"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1625604511,"creation_date":1484329935,"answer_id":41640609,"question_id":41640467,"body_markdown":"This should help your case - `PhoneNumberToCarrierMapper`\r\n\r\n - [com.google.i18n.phonenumber.PhoneNumberToCarrierMapper][1]\r\n\r\nIn the `PhoneNumberToCarrierMapper` class there is a method:\r\n\r\n    String getNameForValidNumber(PhoneNumber number, Locale languageCode)\r\n\r\nThis should give your the carrier code.  \r\nYou can see the source code of that method in the related GitHub repository [here][2].\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/com.googlecode.libphonenumber/carrier/latest/com/google/i18n/phonenumbers/PhoneNumberToCarrierMapper.html\r\n  [2]: https://github.com/google/libphonenumber/blob/332e0465bed1c32d4e863e6616e469884ed7f882/java/carrier/src/com/google/i18n/phonenumbers/PhoneNumberToCarrierMapper.java#L73","title":"Determine national carrier code using libphonenumber","body":"<p>This should help your case - <code>PhoneNumberToCarrierMapper</code></p>\n<ul>\n<li><a href=\"https://www.javadoc.io/doc/com.googlecode.libphonenumber/carrier/latest/com/google/i18n/phonenumbers/PhoneNumberToCarrierMapper.html\" rel=\"nofollow noreferrer\">com.google.i18n.phonenumber.PhoneNumberToCarrierMapper</a></li>\n</ul>\n<p>In the <code>PhoneNumberToCarrierMapper</code> class there is a method:</p>\n<pre><code>String getNameForValidNumber(PhoneNumber number, Locale languageCode)\n</code></pre>\n<p>This should give your the carrier code.<br />\nYou can see the source code of that method in the related GitHub repository <a href=\"https://github.com/google/libphonenumber/blob/332e0465bed1c32d4e863e6616e469884ed7f882/java/carrier/src/com/google/i18n/phonenumbers/PhoneNumberToCarrierMapper.java#L73\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":10347723,"reputation":31,"user_id":7632113,"display_name":"Ramster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676072459,"creation_date":1676072459,"answer_id":75417109,"question_id":41640467,"body_markdown":"libphonenumber-8.13.6 doesn&#39;t seem to come packaged with PhoneNumberToCarrierMapper class. The import will not work for `com.google.i18n.phonenumbers.PhoneNumberToCarrierMapper`\r\n\r\nI had to add a separate jar to my build path to get this class to successfully import. If you are using maven, you would just need to add a new dependency to your pom file.\r\n\r\nhttps://repo1.maven.org/maven2/com/googlecode/libphonenumber/carrier/","title":"Determine national carrier code using libphonenumber","body":"<p>libphonenumber-8.13.6 doesn't seem to come packaged with PhoneNumberToCarrierMapper class. The import will not work for <code>com.google.i18n.phonenumbers.PhoneNumberToCarrierMapper</code></p>\n<p>I had to add a separate jar to my build path to get this class to successfully import. If you are using maven, you would just need to add a new dependency to your pom file.</p>\n<p><a href=\"https://repo1.maven.org/maven2/com/googlecode/libphonenumber/carrier/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/googlecode/libphonenumber/carrier/</a></p>\n"}],"owner":{"account_id":280002,"reputation":4428,"user_id":575458,"accept_rate":78,"display_name":"RedEagle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1748,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41640609,"answer_count":2,"score":3,"last_activity_date":1676072459,"creation_date":1484329431,"question_id":41640467,"body_markdown":"I need to determine the national carrier code (not the country code) of any phone number, using [libphonenumber][1] Java SDK. How can I do this?\r\n\r\n  [1]: https://github.com/googlei18n/libphonenumber","title":"Determine national carrier code using libphonenumber","body":"<p>I need to determine the national carrier code (not the country code) of any phone number, using <a href=\"https://github.com/googlei18n/libphonenumber\" rel=\"nofollow noreferrer\">libphonenumber</a> Java SDK. How can I do this?</p>\n"},{"tags":["java","data-structures","knn","nearest-neighbor","kdtree"],"answers":[{"tags":[],"owner":{"account_id":23781841,"reputation":1,"user_id":17794410,"display_name":"Iman barca"},"down_vote_count":4,"up_vote_count":0,"is_accepted":true,"score":-4,"last_activity_date":1676071600,"creation_date":1676071600,"answer_id":75417042,"question_id":75212165,"body_markdown":"At the end my **friend** help me!  \r\nFull source of project for answer this question and other questions about kdtree and its methods at https://github.com/Iman9mo/KDTree","title":"find m nearest neighbors in KD tree use java","body":"<p>At the end my <strong>friend</strong> help me!<br />\nFull source of project for answer this question and other questions about kdtree and its methods at <a href=\"https://github.com/Iman9mo/KDTree\" rel=\"nofollow noreferrer\">https://github.com/Iman9mo/KDTree</a></p>\n"}],"owner":{"account_id":23781841,"reputation":1,"user_id":17794410,"display_name":"Iman barca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75417042,"answer_count":1,"score":0,"last_activity_date":1676071600,"creation_date":1674490348,"question_id":75212165,"body_markdown":"I want to implement KD tree in java for a data structure project but I have problem with special method that this project wants. In below you can see the format of method that I want.\r\n```\r\nfloat[][] findMNearest(float[] point, int m) {}\r\n```\r\n\r\n\r\nI implement find nearest neighbor method but for m nearest neighbor I have problem and I can&#39;t understand algorithm for solution. \r\n[In this picture you can see my implementation for nearest neighbor.](https://i.stack.imgur.com/XthVK.png)\r\n\r\n```\r\njava\r\nprivate void nearest(KDNode root, KDNode target, int index) {\r\n        if (root == null)\r\n            return;\r\n        visited++;\r\n        float d = root.distance(target);\r\n        if (best == null || d &lt; bestDistance) {\r\n            bestDistance = d;\r\n            best = root;\r\n        }\r\n        if (bestDistance == 0)\r\n            return;\r\n        float dx = root.getCoordinates()[index] - target.getCoordinates()[index];\r\n        index = (index + 1) % k;\r\n        nearest(dx &gt; 0 ? root.getLeft() : root.getRight(), target, index);\r\n        if (dx * dx &gt;= bestDistance)\r\n            return;\r\n        nearest(dx &gt; 0 ? root.getRight() : root.getLeft(), target, index);\r\n    }\r\n```\r\n\r\nI don&#39;t want to use ready library, too.\r\n","title":"find m nearest neighbors in KD tree use java","body":"<p>I want to implement KD tree in java for a data structure project but I have problem with special method that this project wants. In below you can see the format of method that I want.</p>\n<pre><code>float[][] findMNearest(float[] point, int m) {}\n</code></pre>\n<p>I implement find nearest neighbor method but for m nearest neighbor I have problem and I can't understand algorithm for solution.\n<a href=\"https://i.stack.imgur.com/XthVK.png\" rel=\"nofollow noreferrer\">In this picture you can see my implementation for nearest neighbor.</a></p>\n<pre><code>java\nprivate void nearest(KDNode root, KDNode target, int index) {\n        if (root == null)\n            return;\n        visited++;\n        float d = root.distance(target);\n        if (best == null || d &lt; bestDistance) {\n            bestDistance = d;\n            best = root;\n        }\n        if (bestDistance == 0)\n            return;\n        float dx = root.getCoordinates()[index] - target.getCoordinates()[index];\n        index = (index + 1) % k;\n        nearest(dx &gt; 0 ? root.getLeft() : root.getRight(), target, index);\n        if (dx * dx &gt;= bestDistance)\n            return;\n        nearest(dx &gt; 0 ? root.getRight() : root.getLeft(), target, index);\n    }\n</code></pre>\n<p>I don't want to use ready library, too.</p>\n"},{"tags":["java","class","equals","equality"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1640256850,"post_id":70461097,"comment_id":124554021,"body_markdown":"Override [`Object::equals`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) and [`Object::hashCode`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()) accordingly, or write a corresponding [`Comparator`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html).","body":"Override <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Object::equals</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\"><code>Object::hashCode</code></a> accordingly, or write a corresponding <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a>."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1640257353,"post_id":70461097,"comment_id":124554191,"body_markdown":"[reflection](https://www.oracle.com/technical-resources/articles/java/javareflection.html)?","body":"<a href=\"https://www.oracle.com/technical-resources/articles/java/javareflection.html\" rel=\"nofollow noreferrer\">reflection</a>?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1640257676,"post_id":70461097,"comment_id":124554300,"body_markdown":"@fantaghirocco I would advice to use reflection only as a last resort.","body":"@fantaghirocco I would advice to use reflection only as a last resort."}],"answers":[{"tags":[],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640256896,"creation_date":1640256896,"answer_id":70461132,"question_id":70461097,"body_markdown":"Try overriding equals method like below :\r\n\r\n    import java.util.Date;\r\n    import java.util.Objects;\r\n    \r\n    public final class Class1 {\r\n        private String a;\r\n        private String b;\r\n        private String c;\r\n        private String z;\r\n        private Date createdAt;\r\n        private Date updatedAt;\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Class1 class1 = (Class1) o;\r\n            return Objects.equals(a, class1.a) &amp;&amp; Objects.equals(b, class1.b) &amp;&amp; Objects.equals(c, class1.c) &amp;&amp; Objects.equals(z, class1.z);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(a, b, c, z);\r\n        }\r\n    }","title":"Compare two objects excluding some fields - Java","body":"<p>Try overriding equals method like below :</p>\n<pre><code>import java.util.Date;\nimport java.util.Objects;\n\npublic final class Class1 {\n    private String a;\n    private String b;\n    private String c;\n    private String z;\n    private Date createdAt;\n    private Date updatedAt;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Class1 class1 = (Class1) o;\n        return Objects.equals(a, class1.a) &amp;&amp; Objects.equals(b, class1.b) &amp;&amp; Objects.equals(c, class1.c) &amp;&amp; Objects.equals(z, class1.z);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(a, b, c, z);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1640257405,"creation_date":1640257405,"answer_id":70461224,"question_id":70461097,"body_markdown":"If overriding [`Object::equals`][ObjectEqualsApi] and [`Object::hashCode`][ObjectHashCodeApi] is not an option, we can use the [`Comparator` API][ComparatorApi] to construct a corresponding comparator:\r\n\r\n    final Comparator&lt;Class1&gt; comp = Comparator.comparing(Class1::getA)\r\n            .thenComparing(Class1::getB)\r\n            .thenComparing(Class1::getC)\r\n            .\r\n            .\r\n            .\r\n            .thenComparing(Class1::getZ);\r\n\r\nUnfortunately, there is no way to do this without comparing all fields that should be equal.\r\n\r\n[ObjectEqualsApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\r\n\r\n[ObjectHashCodeApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\r\n\r\n[ComparatorApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html","title":"Compare two objects excluding some fields - Java","body":"<p>If overriding <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"noreferrer\"><code>Object::equals</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"noreferrer\"><code>Object::hashCode</code></a> is not an option, we can use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code> API</a> to construct a corresponding comparator:</p>\n<pre><code>final Comparator&lt;Class1&gt; comp = Comparator.comparing(Class1::getA)\n        .thenComparing(Class1::getB)\n        .thenComparing(Class1::getC)\n        .\n        .\n        .\n        .thenComparing(Class1::getZ);\n</code></pre>\n<p>Unfortunately, there is no way to do this without comparing all fields that should be equal.</p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640258486,"creation_date":1640258486,"answer_id":70461439,"question_id":70461097,"body_markdown":"I addition to the Comparator and `hashCode()`/`equals` method, you could also use Reflections.\r\n\r\n1) Create an annotation to exclude certain fields:\r\n\r\n*Blacklisting* Example:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME) //\r\n    @Target(ElementType.FIELD) //on class level\r\n    public @interface IngoreForEqualCheck { /* tagging only */ }\r\n\r\n\r\n2) Use Reflection to analyze the objects you want to compare, by using `pClass.getFields()` and/or `pClass.getDeclaredFields()` on the objects&#39; class. This may be even different classes.\r\n\r\n3) Iterate over all fields that are NOT tagged to be ignored, compare values.\r\n\r\nOptimizations\r\n= \r\n\r\n1) To extend on the blacklisting from above, also introduce *whitelisting*: also create an annotation `UseForEqualCheck` to only check those fields.\r\n\r\n2) For improved speed, when analyzing the respective class and its fields, you can create iterable lists of the fields to check, and instead of doing the Reflection fields analysis each time, simply use the lists.\r\n\r\n3) Normally you would use `equals()` on the detected field values. You could also a) tag the class with another custom annotation, or b) check the fields for any whitelisting/blacklisting annotations, so that you will reliably use your new method for embedded/inherited/delegated annotated classes.\r\n\r\nWarning\r\n=\r\nAs with all reflections, you might get into trouble when analyzing hierarchies of classes, that have been modified during the compile process (javac) by annotation preprocessors, or by bytecode weaving. This mostly refers to Java EE aka Jakarta, but can happen anywhere where behind-the-scenes functionality is incorporated in your code, or runtime behavior is changed, like with injections, aspect oriented libraries etc.","title":"Compare two objects excluding some fields - Java","body":"<p>I addition to the Comparator and <code>hashCode()</code>/<code>equals</code> method, you could also use Reflections.</p>\n<ol>\n<li>Create an annotation to exclude certain fields:</li>\n</ol>\n<p><em>Blacklisting</em> Example:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME) //\n@Target(ElementType.FIELD) //on class level\npublic @interface IngoreForEqualCheck { /* tagging only */ }\n</code></pre>\n<ol start=\"2\">\n<li><p>Use Reflection to analyze the objects you want to compare, by using <code>pClass.getFields()</code> and/or <code>pClass.getDeclaredFields()</code> on the objects' class. This may be even different classes.</p>\n</li>\n<li><p>Iterate over all fields that are NOT tagged to be ignored, compare values.</p>\n</li>\n</ol>\n<h1>Optimizations</h1>\n<ol>\n<li><p>To extend on the blacklisting from above, also introduce <em>whitelisting</em>: also create an annotation <code>UseForEqualCheck</code> to only check those fields.</p>\n</li>\n<li><p>For improved speed, when analyzing the respective class and its fields, you can create iterable lists of the fields to check, and instead of doing the Reflection fields analysis each time, simply use the lists.</p>\n</li>\n<li><p>Normally you would use <code>equals()</code> on the detected field values. You could also a) tag the class with another custom annotation, or b) check the fields for any whitelisting/blacklisting annotations, so that you will reliably use your new method for embedded/inherited/delegated annotated classes.</p>\n</li>\n</ol>\n<h1>Warning</h1>\n<p>As with all reflections, you might get into trouble when analyzing hierarchies of classes, that have been modified during the compile process (javac) by annotation preprocessors, or by bytecode weaving. This mostly refers to Java EE aka Jakarta, but can happen anywhere where behind-the-scenes functionality is incorporated in your code, or runtime behavior is changed, like with injections, aspect oriented libraries etc.</p>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1640259495,"creation_date":1640259140,"answer_id":70461572,"question_id":70461097,"body_markdown":"## The quickest way without writing any code is `Lombok`\r\n\r\nLombok is one of the most used libraries in java and it takes a lot of Boilerplate code off your projects. If you need to read more on what it can and does, go [here][1].\r\n\r\nThe way to implement what you need is pretty straightforward:\r\n\r\n```java\r\n// Generate the equals and HashCode functions and Include only the fields that I annotate with Include\r\n@EqualsAndHashCode(onlyExplicitlyIncluded = true) \r\n@Getter // Generate getters for each field\r\n@Setter // Generate setters for each field\r\npublic class Class1\r\n{\r\n\r\n  @EqualsAndHashCode.Include // Include this field\r\n  private Long identity;\r\n  \r\n  private String testStr1; // This field is not annotated with Include so it will not be included in the functions.\r\n\r\n  // ... any other fields\r\n}\r\n```\r\n\r\nLombok can do a lot more than this. For more information on `@EqualsAndHashCode` refer to [this][2].\r\n\r\nYou can always use `@EqualsAndHashCode.Exclude` for a quicker solution to your use case:\r\n\r\n```java\r\n@EqualsAndHashCode\r\n@Getter // Generate getters for each field\r\n@Setter // Generate setters for each field\r\npublic final class Class1 {\r\n  private String a;\r\n  private String b;\r\n  private String c;\r\n:\r\n:\r\n:\r\n\r\n  private String z;\r\n\r\n  @EqualsAndHashCode.Exclude\r\n  private Date createdAt; \r\n  @EqualsAndHashCode.Exclude\r\n  private Date updatedAt; \r\n} \r\n```\r\n\r\n  [1]: https://projectlombok.org/\r\n  [2]: https://projectlombok.org/features/EqualsAndHashCode","title":"Compare two objects excluding some fields - Java","body":"<h2>The quickest way without writing any code is <code>Lombok</code></h2>\n<p>Lombok is one of the most used libraries in java and it takes a lot of Boilerplate code off your projects. If you need to read more on what it can and does, go <a href=\"https://projectlombok.org/\" rel=\"noreferrer\">here</a>.</p>\n<p>The way to implement what you need is pretty straightforward:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Generate the equals and HashCode functions and Include only the fields that I annotate with Include\n@EqualsAndHashCode(onlyExplicitlyIncluded = true) \n@Getter // Generate getters for each field\n@Setter // Generate setters for each field\npublic class Class1\n{\n\n  @EqualsAndHashCode.Include // Include this field\n  private Long identity;\n  \n  private String testStr1; // This field is not annotated with Include so it will not be included in the functions.\n\n  // ... any other fields\n}\n</code></pre>\n<p>Lombok can do a lot more than this. For more information on <code>@EqualsAndHashCode</code> refer to <a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"noreferrer\">this</a>.</p>\n<p>You can always use <code>@EqualsAndHashCode.Exclude</code> for a quicker solution to your use case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EqualsAndHashCode\n@Getter // Generate getters for each field\n@Setter // Generate setters for each field\npublic final class Class1 {\n  private String a;\n  private String b;\n  private String c;\n:\n:\n:\n\n  private String z;\n\n  @EqualsAndHashCode.Exclude\n  private Date createdAt; \n  @EqualsAndHashCode.Exclude\n  private Date updatedAt; \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7233150,"reputation":83,"user_id":5519272,"display_name":"Lior Halfon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661936392,"creation_date":1661936392,"answer_id":73553374,"question_id":70461097,"body_markdown":"@Renis1235 &#39;s Lombok solution is the easiest.\r\nHowever if for some reason in different contexts the equals can mean different things and you don&#39;t want to change the default Equals and Hashcode behaviour, I would advice to assign default values to the fields you want to exclude, and then use equals.\r\n(Assuming you can change the objects)\r\n\r\nFor example:\r\n\r\n    Class1 a = ...;\r\n    Class1 b = ...;\r\n    a.createdAt = null;\r\n    b.createdAt = null;\r\n    a.updatedAt = null;\r\n    b.updatedAt = null;\r\n    boolean isEqualExcludingTimestamps = a.equals(b);\r\n\r\n","title":"Compare two objects excluding some fields - Java","body":"<p>@Renis1235 's Lombok solution is the easiest.\nHowever if for some reason in different contexts the equals can mean different things and you don't want to change the default Equals and Hashcode behaviour, I would advice to assign default values to the fields you want to exclude, and then use equals.\n(Assuming you can change the objects)</p>\n<p>For example:</p>\n<pre><code>Class1 a = ...;\nClass1 b = ...;\na.createdAt = null;\nb.createdAt = null;\na.updatedAt = null;\nb.updatedAt = null;\nboolean isEqualExcludingTimestamps = a.equals(b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5747167,"reputation":316,"user_id":4538070,"display_name":"KevinC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676071143,"creation_date":1676071143,"answer_id":75417004,"question_id":70461097,"body_markdown":"\r\nUse [Apache Commons-Lang][1]\r\n\r\n    CompareToBuilder.reflectionCompare(expected, argument, &quot;someField&quot;);\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-release/src-html/org/apache/commons/lang3/builder/CompareToBuilder.html#line.240","title":"Compare two objects excluding some fields - Java","body":"<p>Use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/src-html/org/apache/commons/lang3/builder/CompareToBuilder.html#line.240\" rel=\"nofollow noreferrer\">Apache Commons-Lang</a></p>\n<pre><code>CompareToBuilder.reflectionCompare(expected, argument, &quot;someField&quot;);\n</code></pre>\n"}],"owner":{"account_id":8099270,"reputation":145,"user_id":6102739,"display_name":"Anamika Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11681,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":70461572,"answer_count":6,"score":9,"last_activity_date":1676071143,"creation_date":1640256690,"question_id":70461097,"body_markdown":"I need to compare two objects of the same class excluding some fields. \r\n\r\n```\r\npublic final class Class1 {\r\n  private String a;\r\n  private String b;\r\n  private String c;\r\n:\r\n:\r\n:\r\n\r\n  private String z;\r\n  private Date createdAt; \r\n  private Date updatedAt; \r\n} \r\n```\r\n\r\nHow can i find if the two objects of the above class are equal excluding createdAt and updatedAt values? Since there are a lot of fields in this class, i don&#39;t want to compare each of them one by one. \r\n\r\nPlease don&#39;t give AssertJ&#39;s recursive comparison solution as I don&#39;t need it for UnitTests. \r\n\r\nThank you in Advance! ","title":"Compare two objects excluding some fields - Java","body":"<p>I need to compare two objects of the same class excluding some fields.</p>\n<pre><code>public final class Class1 {\n  private String a;\n  private String b;\n  private String c;\n:\n:\n:\n\n  private String z;\n  private Date createdAt; \n  private Date updatedAt; \n} \n</code></pre>\n<p>How can i find if the two objects of the above class are equal excluding createdAt and updatedAt values? Since there are a lot of fields in this class, i don't want to compare each of them one by one.</p>\n<p>Please don't give AssertJ's recursive comparison solution as I don't need it for UnitTests.</p>\n<p>Thank you in Advance!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9336,"page":656,"page_size":100}
