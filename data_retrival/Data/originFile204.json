{"items":[{"tags":["java","kotlin","twitter","twitter-api-v2"],"owner":{"account_id":1466525,"reputation":2186,"user_id":1379195,"accept_rate":45,"display_name":"Anthone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693826583,"creation_date":1693826583,"question_id":77037303,"body_markdown":"I am trying to post a tweet with an image. I can successfully post a tweet with just text using OAuth2 authentication PKCE. However, when I try to upload an image, I get a 403 error code without any additional information.\r\n\r\nI have tried both direct upload (https://developer.twitter.com/en/docs/twitter-api/v1/media/upload-media/api-reference/post-media-upload) and with the INIT method (https://developer.twitter.com/en/docs/twitter-api/v1/media/upload-media/api-reference/post-media-upload-init).\r\n\r\nHere is my Kotlin code:\r\n\r\n    fun uploadMediaToTwitter(accessToken: String, media: ByteArray) {\r\n        val client = OkHttpClient()\r\n    \r\n        val mediaBody = RequestBody.create(&quot;image/*&quot;.toMediaTypeOrNull(), media)\r\n    \r\n        val requestBody = MultipartBody.Builder()\r\n            .setType(MultipartBody.FORM)\r\n            .addFormDataPart(&quot;media&quot;, &quot;image.png&quot;, mediaBody)\r\n            .build()\r\n    \r\n        val request = Request.Builder()\r\n            .url(&quot;https://upload.twitter.com/1.1/media/upload.json&quot;)\r\n            .post(requestBody)\r\n            .addHeader(&quot;Authorization&quot;, &quot;Bearer $accessToken&quot;)\r\n            .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\r\n            .build()\r\n    \r\n        // Execute the request\r\n        client.newCall(request).execute().use { response -&gt;\r\n            println(&quot;Result : code=${response.code}\\nmessage=${response.message}\\nbody=${response.body.string()}&quot;)\r\n        }\r\n    }\r\n\r\nResult : code=403\r\nmessage=\r\nbody=\r\n\r\nAny help would be greatly appreciated. Thank you!","title":"Uploading an Image to Twitter Using OAuth2 Results in 403 Error","body":"<p>I am trying to post a tweet with an image. I can successfully post a tweet with just text using OAuth2 authentication PKCE. However, when I try to upload an image, I get a 403 error code without any additional information.</p>\n<p>I have tried both direct upload (<a href=\"https://developer.twitter.com/en/docs/twitter-api/v1/media/upload-media/api-reference/post-media-upload\" rel=\"nofollow noreferrer\">https://developer.twitter.com/en/docs/twitter-api/v1/media/upload-media/api-reference/post-media-upload</a>) and with the INIT method (<a href=\"https://developer.twitter.com/en/docs/twitter-api/v1/media/upload-media/api-reference/post-media-upload-init\" rel=\"nofollow noreferrer\">https://developer.twitter.com/en/docs/twitter-api/v1/media/upload-media/api-reference/post-media-upload-init</a>).</p>\n<p>Here is my Kotlin code:</p>\n<pre><code>fun uploadMediaToTwitter(accessToken: String, media: ByteArray) {\n    val client = OkHttpClient()\n\n    val mediaBody = RequestBody.create(&quot;image/*&quot;.toMediaTypeOrNull(), media)\n\n    val requestBody = MultipartBody.Builder()\n        .setType(MultipartBody.FORM)\n        .addFormDataPart(&quot;media&quot;, &quot;image.png&quot;, mediaBody)\n        .build()\n\n    val request = Request.Builder()\n        .url(&quot;https://upload.twitter.com/1.1/media/upload.json&quot;)\n        .post(requestBody)\n        .addHeader(&quot;Authorization&quot;, &quot;Bearer $accessToken&quot;)\n        .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\n        .build()\n\n    // Execute the request\n    client.newCall(request).execute().use { response -&gt;\n        println(&quot;Result : code=${response.code}\\nmessage=${response.message}\\nbody=${response.body.string()}&quot;)\n    }\n}\n</code></pre>\n<p>Result : code=403\nmessage=\nbody=</p>\n<p>Any help would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693826518,"creation_date":1693826518,"answer_id":77037296,"question_id":77037242,"body_markdown":"All actuator endpoints from `spring-boot-3.x` also(metrics, health), are under `/actuator` path.\r\n\r\nFor example metrics = `/actuator/metrics` and health = `/actuator/health`","title":"Spring Boot : Missing Endpoints Exposed for Actuator","body":"<p>All actuator endpoints from <code>spring-boot-3.x</code> also(metrics, health), are under <code>/actuator</code> path.</p>\n<p>For example metrics = <code>/actuator/metrics</code> and health = <code>/actuator/health</code></p>\n"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693826518,"creation_date":1693825975,"question_id":77037242,"body_markdown":"I know that the question is not new (similar asked [here][1] )\r\n\r\nI am trying to expose actuator endpoint for metrics\r\n\r\nhere are relevant definitions from application.properties : \r\n\r\n    management.endpoints.enabled-by-default=true\r\n    management.endpoints.web.exposure.include=health,metrics\r\n    management.endpoint.metrics.enabled=true\r\n    management.server.port=8090\r\n\r\nHere imports from Pom.xml \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;exclusions&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-dataformat-cbor&lt;/artifactId&gt;\r\n    \t\t&lt;/exclusion&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen starting app , I am getting \r\n\r\n    Exposing 1 endpoint(s) beneath base path &#39;/actuator\r\n\r\nwhile expected 2 ( health and metrics ) \r\nIs there missing something in definitions ? Thanks in advnance \r\n\r\n  [1]: https://stackoverflow.com/questions/72798403/spring-boot-actuator-exposing-0-endpoints","title":"Spring Boot : Missing Endpoints Exposed for Actuator","body":"<p>I know that the question is not new (similar asked <a href=\"https://stackoverflow.com/questions/72798403/spring-boot-actuator-exposing-0-endpoints\">here</a> )</p>\n<p>I am trying to expose actuator endpoint for metrics</p>\n<p>here are relevant definitions from application.properties :</p>\n<pre><code>management.endpoints.enabled-by-default=true\nmanagement.endpoints.web.exposure.include=health,metrics\nmanagement.endpoint.metrics.enabled=true\nmanagement.server.port=8090\n</code></pre>\n<p>Here imports from Pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-cbor&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When starting app , I am getting</p>\n<pre><code>Exposing 1 endpoint(s) beneath base path '/actuator\n</code></pre>\n<p>while expected 2 ( health and metrics )\nIs there missing something in definitions ? Thanks in advnance</p>\n"},{"tags":["java","compilation","upgrade","lombok","mapstruct"],"comments":[{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693817242,"post_id":77035768,"comment_id":135805481,"body_markdown":"Please provide a [mre].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1693817660,"post_id":77035768,"comment_id":135805574,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693826125,"creation_date":1693826125,"answer_id":77037261,"question_id":77035768,"body_markdown":"NB: I&#39;m a lombok contributor.\r\n\r\nThis error is what you get when you run lombok 1.18.28 on JDK21. Not JDK17. Check your JDK version (and double-check your lombok version, as you&#39;d get that error very old lombok versions on JDK17). JDK21 support is on its way (and some steps to permanently solve the problem is going on in branch `maven-plugin` which hasn&#39;t been released in a downloadable version just yet.\r\n\r\n## Check java version\r\n\r\nYou can check your java version with `java --version` - if it&#39;s JDK21, downgrade your JDK, or use the `--add-opens` strategy\r\n\r\n## Check lombok version\r\n\r\nFind the lombok being used in your compilation process. `java -jar lombok.jar version` will tell you what version it is. If it&#39;s less than 1.18.28, upgade it.\r\n\r\n## Use `--add-opens`\r\n\r\nWhereever `javac` is being invoked, add the following switches:\r\n\r\n```\r\njavac \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED \\\r\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED \\\r\n  -cp classpath arguments *.java\r\n```\r\n\r\nThat last line are your usual arguments. If you use a build system it can be quite a bit of effort to figure out how to do that, which is why lombok normally takes care of this for you. However, due to either the JDK you use being too recent or the lombok version you have being too outdated, that part isn&#39;t working. These `--J-add-opens` lines do it manually.\r\n\r\n","title":"why compile error when upgrade lombok to 1.18.28 with jdk17?","body":"<p>NB: I'm a lombok contributor.</p>\n<p>This error is what you get when you run lombok 1.18.28 on JDK21. Not JDK17. Check your JDK version (and double-check your lombok version, as you'd get that error very old lombok versions on JDK17). JDK21 support is on its way (and some steps to permanently solve the problem is going on in branch <code>maven-plugin</code> which hasn't been released in a downloadable version just yet.</p>\n<h2>Check java version</h2>\n<p>You can check your java version with <code>java --version</code> - if it's JDK21, downgrade your JDK, or use the <code>--add-opens</code> strategy</p>\n<h2>Check lombok version</h2>\n<p>Find the lombok being used in your compilation process. <code>java -jar lombok.jar version</code> will tell you what version it is. If it's less than 1.18.28, upgade it.</p>\n<h2>Use <code>--add-opens</code></h2>\n<p>Whereever <code>javac</code> is being invoked, add the following switches:</p>\n<pre><code>javac \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED \\\n  -J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED \\\n  -cp classpath arguments *.java\n</code></pre>\n<p>That last line are your usual arguments. If you use a build system it can be quite a bit of effort to figure out how to do that, which is why lombok normally takes care of this for you. However, due to either the JDK you use being too recent or the lombok version you have being too outdated, that part isn't working. These <code>--J-add-opens</code> lines do it manually.</p>\n"}],"owner":{"account_id":10558541,"reputation":13,"user_id":7778957,"display_name":"tony"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77037261,"answer_count":1,"score":0,"last_activity_date":1693826125,"creation_date":1693811890,"question_id":77035768,"body_markdown":"I&#39;m upgrading the Java version to 17. Here is the stacktrace.\r\n```none\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors com.sun.tools.javac.processing.JavacProcessingEnvironment.discoveredProcs accessible: module jdk.compiler does not &quot;opens com.sun.tools.javac.processing&quot; to unnamed module @2eb9b035\r\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:354)\r\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:297)\r\n    at java.lang.reflect.Field.checkCanSetAccessible (Field.java:178)\r\n    at java.lang.reflect.Field.setAccessible (Field.java:172)\r\n    at lombok.permit.Permit.setAccessible (Permit.java:71)\r\n    at lombok.permit.Permit.getField (Permit.java:105)\r\n    at lombok.javac.apt.LombokProcessor.getFieldAccessor (LombokProcessor.java:115)\r\n    at lombok.javac.apt.LombokProcessor.&lt;clinit&gt; (LombokProcessor.java:109)\r\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\r\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:499)\r\n    at java.lang.reflect.ReflectAccess.newInstance (ReflectAccess.java:128)\r\n    at jdk.internal.reflect.ReflectionFactory.newInstance (ReflectionFactory.java:347)\r\n    at java.lang.Class.newInstance (Class.java:645)\r\n    at lombok.core.AnnotationProcessor$JavacDescriptor.want (AnnotationProcessor.java:115)\r\n    at lombok.core.AnnotationProcessor.init (AnnotationProcessor.java:177)\r\n    at lombok.launch.AnnotationProcessorHider$AnnotationProcessor.init (AnnotationProcessor.java:73)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$ProcessorState.&lt;init&gt; (JavacProcessingEnvironment.java:701)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors$ProcessorStateIterator.next (JavacProcessingEnvironment.java:828)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs (JavacProcessingEnvironment.java:924)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run (JavacProcessingEnvironment.java:1267)\r\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing (JavacProcessingEnvironment.java:1382)\r\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations (JavaCompiler.java:1234)\r\n    at com.sun.tools.javac.main.JavaCompiler.compile (JavaCompiler.java:916)\r\n    at com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0 (JavacTaskImpl.java:104)\r\n    at com.sun.tools.javac.api.JavacTaskImpl.invocationHelper (JavacTaskImpl.java:152)\r\n    at com.sun.tools.javac.api.JavacTaskImpl.doCall (JavacTaskImpl.java:100)\r\n    at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:94)\r\n    at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:126)\r\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:174)\r\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1134)\r\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:187)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n```\r\nI have checked the dependency with cmd: `mvn dependency:tree`, and found the Lombok version is up to 1.18.28, and also mapstruct:jar:1.5.2.Final\r\n\r\nPlease help me if you know how this happens.","title":"why compile error when upgrade lombok to 1.18.28 with jdk17?","body":"<p>I'm upgrading the Java version to 17. Here is the stacktrace.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors com.sun.tools.javac.processing.JavacProcessingEnvironment.discoveredProcs accessible: module jdk.compiler does not &quot;opens com.sun.tools.javac.processing&quot; to unnamed module @2eb9b035\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:354)\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:297)\n    at java.lang.reflect.Field.checkCanSetAccessible (Field.java:178)\n    at java.lang.reflect.Field.setAccessible (Field.java:172)\n    at lombok.permit.Permit.setAccessible (Permit.java:71)\n    at lombok.permit.Permit.getField (Permit.java:105)\n    at lombok.javac.apt.LombokProcessor.getFieldAccessor (LombokProcessor.java:115)\n    at lombok.javac.apt.LombokProcessor.&lt;clinit&gt; (LombokProcessor.java:109)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:499)\n    at java.lang.reflect.ReflectAccess.newInstance (ReflectAccess.java:128)\n    at jdk.internal.reflect.ReflectionFactory.newInstance (ReflectionFactory.java:347)\n    at java.lang.Class.newInstance (Class.java:645)\n    at lombok.core.AnnotationProcessor$JavacDescriptor.want (AnnotationProcessor.java:115)\n    at lombok.core.AnnotationProcessor.init (AnnotationProcessor.java:177)\n    at lombok.launch.AnnotationProcessorHider$AnnotationProcessor.init (AnnotationProcessor.java:73)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$ProcessorState.&lt;init&gt; (JavacProcessingEnvironment.java:701)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors$ProcessorStateIterator.next (JavacProcessingEnvironment.java:828)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs (JavacProcessingEnvironment.java:924)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run (JavacProcessingEnvironment.java:1267)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing (JavacProcessingEnvironment.java:1382)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations (JavaCompiler.java:1234)\n    at com.sun.tools.javac.main.JavaCompiler.compile (JavaCompiler.java:916)\n    at com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0 (JavacTaskImpl.java:104)\n    at com.sun.tools.javac.api.JavacTaskImpl.invocationHelper (JavacTaskImpl.java:152)\n    at com.sun.tools.javac.api.JavacTaskImpl.doCall (JavacTaskImpl.java:100)\n    at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:94)\n    at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:126)\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:174)\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1134)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:187)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n</code></pre>\n<p>I have checked the dependency with cmd: <code>mvn dependency:tree</code>, and found the Lombok version is up to 1.18.28, and also mapstruct:jar:1.5.2.Final</p>\n<p>Please help me if you know how this happens.</p>\n"},{"tags":["java","rest","quarkus","quarkus-oidc"],"comments":[{"owner":{"account_id":14122292,"reputation":501,"user_id":10202496,"display_name":"iabughosh"},"score":1,"creation_date":1693741166,"post_id":77022416,"comment_id":135797877,"body_markdown":"Did you try setting &#39;quarkus.http.auth.proactive&#39; to false?","body":"Did you try setting &#39;quarkus.http.auth.proactive&#39; to false?"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1693817817,"post_id":77022416,"comment_id":135805601,"body_markdown":"Indeed, see https://quarkus.io/guides/security-proactive-authentication","body":"Indeed, see <a href=\"https://quarkus.io/guides/security-proactive-authentication\" rel=\"nofollow noreferrer\">quarkus.io/guides/security-proactive-authentication</a>"},{"owner":{"account_id":10872114,"reputation":41,"user_id":7993672,"display_name":"S&#246;ren"},"score":0,"creation_date":1693825675,"post_id":77022416,"comment_id":135806920,"body_markdown":"Thanks a lot, iabughosh and @SergeyBeryozkin - this solved my problem","body":"Thanks a lot, iabughosh and @SergeyBeryozkin - this solved my problem"}],"answers":[{"tags":[],"owner":{"account_id":10872114,"reputation":41,"user_id":7993672,"display_name":"S&#246;ren"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693825990,"creation_date":1693825990,"answer_id":77037246,"question_id":77022416,"body_markdown":"Problem was solved thanks to the help by @iabughosh and @SergeyBeryozkin\r\nBy setting the property: **quarkus.http.auth.proactive** to **false** my permitted paths were not rejected anymore - Thanks\r\n ","title":"Quarkus: 401 for permitted route when request contains Bearer token","body":"<p>Problem was solved thanks to the help by @iabughosh and @SergeyBeryozkin\nBy setting the property: <strong>quarkus.http.auth.proactive</strong> to <strong>false</strong> my permitted paths were not rejected anymore - Thanks</p>\n"}],"owner":{"account_id":10872114,"reputation":41,"user_id":7993672,"display_name":"S&#246;ren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77037246,"answer_count":1,"score":1,"last_activity_date":1693825990,"creation_date":1693564741,"question_id":77022416,"body_markdown":"I got the following scenario:\r\n\r\nI&#39;m migrating a legacy application into a new Quarkus based application. For routes addressing the legacy API, Quarkus is dealing as a proxy.\r\n\r\nThe requirement is, that all routes that point to the legacy API, are permitted and not checked by OIDC check of Quarkus, since the legacy API has it&#39;s own auth mechanism.\r\n\r\nWhen making requests to that specific route they are correctly forwarded to the legacy API and are not rejected with 401.\r\n\r\n**BUT**: as soon as a request for that specific route contains a Bearer token like e.g.: &quot;Bearer eyJhb....&quot; in the &quot;Authorization&quot; header, Quarkus OIDC kicks in and rejects this request with 401.\r\n\r\nIf I omit the &quot;Bearer &quot; from the beginning of the header (since the legacy API can handle that as well), then the quarkus OIDC check does not happen and the request is forwarded.\r\n\r\nMy current solution is using a RouteFilter with high priority and remove the &quot;Beraer &quot; from the beginning of the Auth header. Which as a result does then not trigger OIDC check of Quarkus.\r\n\r\nBut I would prefer to have a more cleaner solution without header manipulation, that gives me the possibility to skip the Quarkus OIDC check for a certain route.\r\n\r\nI wonder if this is a bug in Quarkus, that it still checks the Bearer token, also for routes that are permitted in the application.properties like that:\r\n\r\n```\r\nquarkus.http.auth.permission.permit1.paths=/legacyapi/*\r\nquarkus.http.auth.permission.permit1.policy=permit\r\nquarkus.http.auth.permission.permit1.methods=GET,POST,PUT,DELETE,PATCH,HEAD\r\n```\r\n\r\nI tried so many ways to get around the OIDC check with filters and interceptors but didn&#39;t find a way to avoid OIDC check kicking in before my filters / interceptors where called.\r\n\r\nDoes somebody have a working hint how I get around the OIDC check for a specific path?\r\n\r\nI&#39;m currently on Quarkus version: 2.16.7.Final\r\n\r\nI&#39;m expecting that the permit configuration in the application.properties  file does not depend on whether a request contains Bearer token or not - but maybe I&#39;m wrong?","title":"Quarkus: 401 for permitted route when request contains Bearer token","body":"<p>I got the following scenario:</p>\n<p>I'm migrating a legacy application into a new Quarkus based application. For routes addressing the legacy API, Quarkus is dealing as a proxy.</p>\n<p>The requirement is, that all routes that point to the legacy API, are permitted and not checked by OIDC check of Quarkus, since the legacy API has it's own auth mechanism.</p>\n<p>When making requests to that specific route they are correctly forwarded to the legacy API and are not rejected with 401.</p>\n<p><strong>BUT</strong>: as soon as a request for that specific route contains a Bearer token like e.g.: &quot;Bearer eyJhb....&quot; in the &quot;Authorization&quot; header, Quarkus OIDC kicks in and rejects this request with 401.</p>\n<p>If I omit the &quot;Bearer &quot; from the beginning of the header (since the legacy API can handle that as well), then the quarkus OIDC check does not happen and the request is forwarded.</p>\n<p>My current solution is using a RouteFilter with high priority and remove the &quot;Beraer &quot; from the beginning of the Auth header. Which as a result does then not trigger OIDC check of Quarkus.</p>\n<p>But I would prefer to have a more cleaner solution without header manipulation, that gives me the possibility to skip the Quarkus OIDC check for a certain route.</p>\n<p>I wonder if this is a bug in Quarkus, that it still checks the Bearer token, also for routes that are permitted in the application.properties like that:</p>\n<pre><code>quarkus.http.auth.permission.permit1.paths=/legacyapi/*\nquarkus.http.auth.permission.permit1.policy=permit\nquarkus.http.auth.permission.permit1.methods=GET,POST,PUT,DELETE,PATCH,HEAD\n</code></pre>\n<p>I tried so many ways to get around the OIDC check with filters and interceptors but didn't find a way to avoid OIDC check kicking in before my filters / interceptors where called.</p>\n<p>Does somebody have a working hint how I get around the OIDC check for a specific path?</p>\n<p>I'm currently on Quarkus version: 2.16.7.Final</p>\n<p>I'm expecting that the permit configuration in the application.properties  file does not depend on whether a request contains Bearer token or not - but maybe I'm wrong?</p>\n"},{"tags":["java","sql","spring","spring-boot","h2"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1693778350,"post_id":77034141,"comment_id":135801933,"body_markdown":"Put your create table statement into a string and print it out. You should see your mistake quickly.","body":"Put your create table statement into a string and print it out. You should see your mistake quickly."}],"answers":[{"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693825692,"creation_date":1693786002,"answer_id":77034541,"question_id":77034141,"body_markdown":"You need to add closing parenthesis here:\r\n```lang-java\r\n&quot;salary INTEGER)&quot;);\r\n````\r\n\r\nYou also cannot create this statement\r\n```lang-java\r\nPreparedStatement statement = connection.prepareStatement(\r\n                    &quot;INSERT INTO payrolls (employee, period, salary) VALUES (?, ?, ?)&quot; )) {\r\n```\r\nbefore `createTable.executeUpdate();`, because H2 complies prepared statements immediately due to performance reasons. You need to move initialization of `statement` below execution of `createTable`.\r\n\r\nActually it will be much better to reorganize your application, it should create schema in your database during initialization. Don&#39;t mix your queries and data modification commands with data definition commands, this is really a bad idea for any application.","title":"Why am I getting error 42001-214 when trying to create a table in H2 database?","body":"<p>You need to add closing parenthesis here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;salary INTEGER)&quot;);\n</code></pre>\n<p>You also cannot create this statement</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement statement = connection.prepareStatement(\n                    &quot;INSERT INTO payrolls (employee, period, salary) VALUES (?, ?, ?)&quot; )) {\n</code></pre>\n<p>before <code>createTable.executeUpdate();</code>, because H2 complies prepared statements immediately due to performance reasons. You need to move initialization of <code>statement</code> below execution of <code>createTable</code>.</p>\n<p>Actually it will be much better to reorganize your application, it should create schema in your database during initialization. Don't mix your queries and data modification commands with data definition commands, this is really a bad idea for any application.</p>\n"}],"owner":{"account_id":29146535,"reputation":3,"user_id":22328333,"display_name":"Edward Khazzoum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77034541,"answer_count":1,"score":-2,"last_activity_date":1693825692,"creation_date":1693774477,"question_id":77034141,"body_markdown":"I am working on an Account Service project using Java, spring boot and H2 database and the next step is to implement adding employee salaries using sql. \r\n\r\nThis is the relevant code for reference :\r\n\r\n\r\n```java\r\n  @PostMapping(&quot;/api/acct/payments&quot;)\r\n    public ResponseEntity&lt;?&gt; postPayrolls(@Valid @RequestBody UserPayroll[] payrolls) throws SQLException {\r\n        try (Connection connection = DriverManager.getConnection(url)) {\r\n            connection.setAutoCommit(false);\r\n            try (PreparedStatement createTable = connection.prepareStatement(&quot;CREATE TABLE IF NOT EXISTS payrolls(&quot; +\r\n                    &quot;employee VARCHAR(20),&quot; +\r\n                    &quot;period VARCHAR(20),&quot; +\r\n                    &quot;salary INTEGER&quot;);\r\n                    PreparedStatement statement = connection.prepareStatement(\r\n                    &quot;INSERT INTO payrolls (employee, period, salary) VALUES (?, ?, ?)&quot; )) {\r\n\r\n                createTable.executeUpdate();\r\n                for (UserPayroll payroll : payrolls) {\r\n                    statement.setString(1, payroll.getEmployee());\r\n                    statement.setString(2, payroll.getPeriod());\r\n                    statement.setLong(3, payroll.getSalary());\r\n                    statement.executeUpdate();\r\n                }\r\n                connection.commit();\r\n            } catch (SQLException e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;1 &quot; + e.getMessage());\r\n        }\r\n        Map&lt;String, String&gt; response = new HashMap&lt;&gt;();\r\n        response.put(&quot;status&quot;, &quot;Added successfully!&quot;);\r\n        return ResponseEntity.ok().body(response);\r\n    }\r\n```\r\n\r\n\r\n\r\n```java\r\npublic class UserPayroll {\r\n\r\n    private String employee;\r\n    @Pattern(regexp = &quot;^(0[1-9]|1[0-2])-(20\\\\d{2}|19\\\\d{2})$&quot;)\r\n    private String period;\r\n    @Min(1)\r\n    private Long salary;\r\n\r\n//Constructors, Getters and Setters\r\n}\r\n```\r\n\r\n\r\n\r\nThis is the error I am getting when trying to create the table payrolls :\r\n&gt;Syntax error in SQL statement &quot;CREATE TABLE IF NOT EXISTS payrolls(employee VARCHAR(20),period VARCHAR(20),salary INTEGER[*]&quot;; expected &quot;ARRAY, INVISIBLE, VISIBLE, NOT NULL, NULL, AS, DEFAULT, GENERATED, ON UPDATE, NOT NULL, NULL, AUTO_INCREMENT, DEFAULT ON NULL, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, NULL, CHECK, REFERENCES, AUTO_INCREMENT, ,, )&quot;; SQL statement:\r\nCREATE TABLE IF NOT EXISTS payrolls(employee VARCHAR(20),period VARCHAR(20),salary INTEGER [42001-214]\r\n\r\nWhen the user enters the url, they must provide a list of UserPayrolls which must be then added to the database. However, an SQL exception is being thrown so nothing is being saved in the database.","title":"Why am I getting error 42001-214 when trying to create a table in H2 database?","body":"<p>I am working on an Account Service project using Java, spring boot and H2 database and the next step is to implement adding employee salaries using sql.</p>\n<p>This is the relevant code for reference :</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @PostMapping(&quot;/api/acct/payments&quot;)\n    public ResponseEntity&lt;?&gt; postPayrolls(@Valid @RequestBody UserPayroll[] payrolls) throws SQLException {\n        try (Connection connection = DriverManager.getConnection(url)) {\n            connection.setAutoCommit(false);\n            try (PreparedStatement createTable = connection.prepareStatement(&quot;CREATE TABLE IF NOT EXISTS payrolls(&quot; +\n                    &quot;employee VARCHAR(20),&quot; +\n                    &quot;period VARCHAR(20),&quot; +\n                    &quot;salary INTEGER&quot;);\n                    PreparedStatement statement = connection.prepareStatement(\n                    &quot;INSERT INTO payrolls (employee, period, salary) VALUES (?, ?, ?)&quot; )) {\n\n                createTable.executeUpdate();\n                for (UserPayroll payroll : payrolls) {\n                    statement.setString(1, payroll.getEmployee());\n                    statement.setString(2, payroll.getPeriod());\n                    statement.setLong(3, payroll.getSalary());\n                    statement.executeUpdate();\n                }\n                connection.commit();\n            } catch (SQLException e) {\n                System.out.println(e.getMessage());\n            }\n        } catch (SQLException e) {\n            System.out.println(&quot;1 &quot; + e.getMessage());\n        }\n        Map&lt;String, String&gt; response = new HashMap&lt;&gt;();\n        response.put(&quot;status&quot;, &quot;Added successfully!&quot;);\n        return ResponseEntity.ok().body(response);\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserPayroll {\n\n    private String employee;\n    @Pattern(regexp = &quot;^(0[1-9]|1[0-2])-(20\\\\d{2}|19\\\\d{2})$&quot;)\n    private String period;\n    @Min(1)\n    private Long salary;\n\n//Constructors, Getters and Setters\n}\n</code></pre>\n<p>This is the error I am getting when trying to create the table payrolls :</p>\n<blockquote>\n<p>Syntax error in SQL statement &quot;CREATE TABLE IF NOT EXISTS payrolls(employee VARCHAR(20),period VARCHAR(20),salary INTEGER[*]&quot;; expected &quot;ARRAY, INVISIBLE, VISIBLE, NOT NULL, NULL, AS, DEFAULT, GENERATED, ON UPDATE, NOT NULL, NULL, AUTO_INCREMENT, DEFAULT ON NULL, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, NULL, CHECK, REFERENCES, AUTO_INCREMENT, ,, )&quot;; SQL statement:\nCREATE TABLE IF NOT EXISTS payrolls(employee VARCHAR(20),period VARCHAR(20),salary INTEGER [42001-214]</p>\n</blockquote>\n<p>When the user enters the url, they must provide a list of UserPayrolls which must be then added to the database. However, an SQL exception is being thrown so nothing is being saved in the database.</p>\n"},{"tags":["java","json","jackson","jackson-databind","jackson2"],"comments":[{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1693823738,"post_id":77036935,"comment_id":135806593,"body_markdown":"If you use a custom serializer you need do an override of the isEmpty method to make it work. And I know about other solution but I never testing since I prefer do my own implementation but if you add the following params into the annotation should work too  ```@JsonSerialize(using=YourCustomSerializer.class, include=JsonInclude.NON_NULL)```","body":"If you use a custom serializer you need do an override of the isEmpty method to make it work. And I know about other solution but I never testing since I prefer do my own implementation but if you add the following params into the annotation should work too  <code>@JsonSerialize(using=YourCustomSerializer.class, include=JsonInclude.NON_NULL)</code>"},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1693826257,"post_id":77036935,"comment_id":135807032,"body_markdown":"@AdrianLagartera Thanks a lot for providing the answer but I did not follow completely because if I am adding based on your approach then I am getting the error: `Cannot resolve symbol `NON_NULL``. Following is something that I have added: ` @JsonSerialize(using = CustomSearilizer.class, include=JsonInclude.NON_NULL)`. Can you please provide some more explanation?","body":"@AdrianLagartera Thanks a lot for providing the answer but I did not follow completely because if I am adding based on your approach then I am getting the error: <code>Cannot resolve symbol </code>NON_NULL``. Following is something that I have added: ` @JsonSerialize(using = CustomSearilizer.class, include=JsonInclude.NON_NULL)`. Can you please provide some more explanation?"},{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1693835027,"post_id":77036935,"comment_id":135808763,"body_markdown":"You tried the first one? When you implements the custom serializer you can override the `isEmpty` method, if you do that, you need check the empty values you want check in your case just the list. The second one I put was a option I never tried myself so, I can&#39;t provide you more information, but should work.","body":"You tried the first one? When you implements the custom serializer you can override the <code>isEmpty</code> method, if you do that, you need check the empty values you want check in your case just the list. The second one I put was a option I never tried myself so, I can&#39;t provide you more information, but should work."},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1693908296,"post_id":77036935,"comment_id":135818201,"body_markdown":"@AdrianLagartera I tried the first one where I checked for the `isEmpty` for the `list` in `CustomSearilizer `. If it is empty then I am skipping it, if I do that then it adds the `list` key to my JSON and skips the values, this is a bit odd and not the standard JSON I expect. I want it to completely skip the `list` element from JSON if it does not contain any values. With regards to second option I could not find any article or proper documentation, can you at least provide some link which i can refer?","body":"@AdrianLagartera I tried the first one where I checked for the <code>isEmpty</code> for the <code>list</code> in <code>CustomSearilizer </code>. If it is empty then I am skipping it, if I do that then it adds the <code>list</code> key to my JSON and skips the values, this is a bit odd and not the standard JSON I expect. I want it to completely skip the <code>list</code> element from JSON if it does not contain any values. With regards to second option I could not find any article or proper documentation, can you at least provide some link which i can refer?"},{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1693910028,"post_id":77036935,"comment_id":135818551,"body_markdown":"The only post I remember is this (https://www.logicbig.com/tutorials/misc/jackson/json-include-customized.html) but I dont know what version Jackson is using, remember Jackson have a few changes after 2.1+. Btw they use filters for each custom field, so it should work with that use of filters.","body":"The only post I remember is this (<a href=\"https://www.logicbig.com/tutorials/misc/jackson/json-include-customized.html\" rel=\"nofollow noreferrer\">logicbig.com/tutorials/misc/jackson/&hellip;</a>) but I dont know what version Jackson is using, remember Jackson have a few changes after 2.1+. Btw they use filters for each custom field, so it should work with that use of filters."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1693825681,"creation_date":1693825681,"answer_id":77037208,"question_id":77036935,"body_markdown":"I just ran a test and just adding the annotation `@JsonInclude(JsonInclude.Include.NON_EMPTY)` to the serialized class did the trick. No other action was needed. No custom serializer and no modification for ObjectMapper configuration. Here is the article that eaplains the example: \r\n[Jackson JSON - @JsonInclude NON_EMPTY Example][1]\r\n\r\n\r\n  [1]: https://www.logicbig.com/tutorials/misc/jackson/json-include-non-empty.html","title":"How to exclude the empty list from JSON during the Serialization using the Jackson Serializer?","body":"<p>I just ran a test and just adding the annotation <code>@JsonInclude(JsonInclude.Include.NON_EMPTY)</code> to the serialized class did the trick. No other action was needed. No custom serializer and no modification for ObjectMapper configuration. Here is the article that eaplains the example:\n<a href=\"https://www.logicbig.com/tutorials/misc/jackson/json-include-non-empty.html\" rel=\"nofollow noreferrer\">Jackson JSON - @JsonInclude NON_EMPTY Example</a></p>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693825681,"creation_date":1693823037,"question_id":77036935,"body_markdown":"How to avoid writing the empty list using the Jackson Custom serializer? Currently, it&#39;s adding the empty list: `&quot;list&quot; : [ ]` but I want it to completely skip it, either with some annotations or using the custom sealizer. I have created the demo with `Collections.emptyList()`, I am aware that if I remove then it will skip the empty list but this is just for demo purposes and I want to skip using some other approach:\r\n\r\nMyClass:\r\n```\r\n@Data\r\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n@AllArgsConstructor\r\npublic class MyClass {\r\n    private String type;\r\n\r\n    private String name;\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n    @JsonSerialize(using = CustomSearilizer.class)\r\n    private List&lt;Object&gt; list;\r\n}\r\n```\r\n\r\nCustomSearilizer:\r\n```\r\npublic class CustomSearilizer extends JsonSerializer&lt;List&lt;Object&gt;&gt; {\r\n    @Override\r\n    public void serialize(final List&lt;Object&gt; context, final JsonGenerator jsonGenerator, final SerializerProvider serializers) throws IOException {\r\n\r\n        jsonGenerator.writeStartArray();\r\n\r\n        context.stream().forEach(item -&gt; {\r\n            if (item instanceof Map) {\r\n                Map&lt;String, String&gt; entries = (Map&lt;String, String&gt;) item;\r\n                entries.entrySet().stream().forEach(entry -&gt; {\r\n                    try {\r\n                        jsonGenerator.writeStartObject();\r\n                        jsonGenerator.writeStringField(entry.getKey(), entry.getValue());\r\n                        jsonGenerator.writeEndObject();\r\n                    } catch (IOException ex) {\r\n                        throw new RuntimeException(ex);\r\n                    }\r\n\r\n                });\r\n            }\r\n        });\r\n\r\n        jsonGenerator.writeEndArray();\r\n    }\r\n}\r\n```\r\n\r\nMain:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        final ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\r\n\r\n        final MyClass myClass = new MyClass(&quot;My Name&quot;, &quot;My Type&quot;, Collections.emptyList());\r\n\r\n        System.out.println(objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(myClass));\r\n    }\r\n}\r\n```\r\n\r\nThis is providing me with following JSON:\r\n```\r\n{\r\n  &quot;type&quot; : &quot;My Name&quot;,\r\n  &quot;name&quot; : &quot;My Type&quot;,\r\n  &quot;list&quot; : [ ]\r\n}\r\n```\r\n\r\nI would like to create it following JSON:\r\n```\r\n{\r\n  &quot;type&quot; : &quot;My Name&quot;,\r\n  &quot;name&quot; : &quot;My Type&quot;\r\n}\r\n```\r\n\r\nThis is just a demo so I have added collections.emptyList to re-create the issue but is there any way I can skip adding these emptyList in JSON when using the customsealizer?","title":"How to exclude the empty list from JSON during the Serialization using the Jackson Serializer?","body":"<p>How to avoid writing the empty list using the Jackson Custom serializer? Currently, it's adding the empty list: <code>&quot;list&quot; : [ ]</code> but I want it to completely skip it, either with some annotations or using the custom sealizer. I have created the demo with <code>Collections.emptyList()</code>, I am aware that if I remove then it will skip the empty list but this is just for demo purposes and I want to skip using some other approach:</p>\n<p>MyClass:</p>\n<pre><code>@Data\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\n@AllArgsConstructor\npublic class MyClass {\n    private String type;\n\n    private String name;\n\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\n    @JsonSerialize(using = CustomSearilizer.class)\n    private List&lt;Object&gt; list;\n}\n</code></pre>\n<p>CustomSearilizer:</p>\n<pre><code>public class CustomSearilizer extends JsonSerializer&lt;List&lt;Object&gt;&gt; {\n    @Override\n    public void serialize(final List&lt;Object&gt; context, final JsonGenerator jsonGenerator, final SerializerProvider serializers) throws IOException {\n\n        jsonGenerator.writeStartArray();\n\n        context.stream().forEach(item -&gt; {\n            if (item instanceof Map) {\n                Map&lt;String, String&gt; entries = (Map&lt;String, String&gt;) item;\n                entries.entrySet().stream().forEach(entry -&gt; {\n                    try {\n                        jsonGenerator.writeStartObject();\n                        jsonGenerator.writeStringField(entry.getKey(), entry.getValue());\n                        jsonGenerator.writeEndObject();\n                    } catch (IOException ex) {\n                        throw new RuntimeException(ex);\n                    }\n\n                });\n            }\n        });\n\n        jsonGenerator.writeEndArray();\n    }\n}\n</code></pre>\n<p>Main:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws JsonProcessingException {\n        final ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\n\n        final MyClass myClass = new MyClass(&quot;My Name&quot;, &quot;My Type&quot;, Collections.emptyList());\n\n        System.out.println(objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(myClass));\n    }\n}\n</code></pre>\n<p>This is providing me with following JSON:</p>\n<pre><code>{\n  &quot;type&quot; : &quot;My Name&quot;,\n  &quot;name&quot; : &quot;My Type&quot;,\n  &quot;list&quot; : [ ]\n}\n</code></pre>\n<p>I would like to create it following JSON:</p>\n<pre><code>{\n  &quot;type&quot; : &quot;My Name&quot;,\n  &quot;name&quot; : &quot;My Type&quot;\n}\n</code></pre>\n<p>This is just a demo so I have added collections.emptyList to re-create the issue but is there any way I can skip adding these emptyList in JSON when using the customsealizer?</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":6776330,"reputation":1548,"user_id":5217986,"accept_rate":29,"display_name":"Anoop LL"},"score":0,"creation_date":1609919329,"post_id":65591925,"comment_id":115968465,"body_markdown":"why don&#39;t you try to debug or put some try catch to see what is the actual error? Internal server error is a generic error..","body":"why don&#39;t you try to debug or put some try catch to see what is the actual error? Internal server error is a generic error.."},{"owner":{"account_id":1912109,"reputation":757,"user_id":1725647,"accept_rate":73,"display_name":"Sameer"},"score":1,"creation_date":1609919403,"post_id":65591925,"comment_id":115968482,"body_markdown":"Can you add the server side logs? they should have a detailed stack trace of the underlying cause.","body":"Can you add the server side logs? they should have a detailed stack trace of the underlying cause."},{"owner":{"account_id":20220145,"reputation":37,"user_id":14829881,"display_name":"Dhiya"},"score":0,"creation_date":1609919727,"post_id":65591925,"comment_id":115968589,"body_markdown":"how to add server-side logs can you please explain to me? I&#39;m new to spring boot","body":"how to add server-side logs can you please explain to me? I&#39;m new to spring boot"},{"owner":{"account_id":6776330,"reputation":1548,"user_id":5217986,"accept_rate":29,"display_name":"Anoop LL"},"score":0,"creation_date":1609920017,"post_id":65591925,"comment_id":115968671,"body_markdown":"am not sure about what this Family1Repository is doing but the GET and POST is adding and getting things from List&lt;Family1&gt; family not from the Family1Repository. Check the server console in your IDE to get the  server logs","body":"am not sure about what this Family1Repository is doing but the GET and POST is adding and getting things from List&lt;Family1&gt; family not from the Family1Repository. Check the server console in your IDE to get the  server logs"},{"owner":{"account_id":3958776,"reputation":898,"user_id":3266467,"accept_rate":100,"display_name":"Sebastian"},"score":0,"creation_date":1609920155,"post_id":65591925,"comment_id":115968720,"body_markdown":"The Repository is also not corresponding correctly to the Family1 entity. The repository expects a `String` ID field, but Family1 uses `long`. You might want to change it to: `public interface Family1Repository extends CrudRepository&lt;Family1, long&gt;`","body":"The Repository is also not corresponding correctly to the Family1 entity. The repository expects a <code>String</code> ID field, but Family1 uses <code>long</code>. You might want to change it to: <code>public interface Family1Repository extends CrudRepository&lt;Family1, long&gt;</code>"},{"owner":{"account_id":20220145,"reputation":37,"user_id":14829881,"display_name":"Dhiya"},"score":0,"creation_date":1609920195,"post_id":65591925,"comment_id":115968731,"body_markdown":"actually you are right the problem will come Family1Repository side. I will try it","body":"actually you are right the problem will come Family1Repository side. I will try it"},{"owner":{"account_id":20220145,"reputation":37,"user_id":14829881,"display_name":"Dhiya"},"score":0,"creation_date":1609920989,"post_id":65591925,"comment_id":115968948,"body_markdown":"I changed String to long in the repository it will also not working","body":"I changed String to long in the repository it will also not working"},{"owner":{"account_id":3958776,"reputation":898,"user_id":3266467,"accept_rate":100,"display_name":"Sebastian"},"score":0,"creation_date":1609924924,"post_id":65591925,"comment_id":115970395,"body_markdown":"Did you check the server log like @Sameer mentioned? The 500 should create a stacktrace on the Spring Boot side.","body":"Did you check the server log like @Sameer mentioned? The 500 should create a stacktrace on the Spring Boot side."},{"owner":{"account_id":3958776,"reputation":898,"user_id":3266467,"accept_rate":100,"display_name":"Sebastian"},"score":0,"creation_date":1609925200,"post_id":65591925,"comment_id":115970501,"body_markdown":"Also the `addFamily1` method in your service does not call the repository. So nothing will be added to the database. `getFamily1Id` does nothing with the result of the repository call and simply returns the List. The List entries do not exist in the database, this could be the source of your problems.","body":"Also the <code>addFamily1</code> method in your service does not call the repository. So nothing will be added to the database. <code>getFamily1Id</code> does nothing with the result of the repository call and simply returns the List. The List entries do not exist in the database, this could be the source of your problems."},{"owner":{"account_id":20220145,"reputation":37,"user_id":14829881,"display_name":"Dhiya"},"score":0,"creation_date":1609987536,"post_id":65591925,"comment_id":115994041,"body_markdown":"I checked server logs it will show error like this cannot invoke the save(object) it will be null","body":"I checked server logs it will show error like this cannot invoke the save(object) it will be null"}],"answers":[{"tags":[],"owner":{"account_id":3958776,"reputation":898,"user_id":3266467,"accept_rate":100,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609926593,"creation_date":1609926593,"answer_id":65593508,"question_id":65591925,"body_markdown":"You are mixing the call to a predefined list with calls to the repository. The elements in the list have no representation in the database, therefore they are invalid when you use those IDs to delete objects with the repository.\r\n\r\nYou might want to try something like this:\r\n```java\r\n@Service\r\npublic class Family1Service {\r\n    \r\n    private Family1Repository family1Repository;\r\n    \r\n    public  List&lt;Family1&gt; getAllFamily1() {\r\n        return family1Repository.findAll();\r\n    }\r\n\r\n    public Family1 getFamily1Id(long id){\r\n        return family1Repository.findById(id).orElseThrow(); \r\n        // This returns an Optional orElseThrow will create an error if nothing is found\r\n    }\r\n\r\n    public void addFamily1(Family1 family1) {\r\n        family1Repository.save(family1);\r\n    }\r\n    \r\n    public Family1 updateFamily1(Family1 family1) {\r\n        return family1Repository.save(family1); \r\n    }\r\n\r\n    public void deleteFamily1(long id) {\r\n        family1Repository.deleteById(id);\r\n    }\r\n}\r\n```\r\nAnd in the controller:\r\n```java\r\n@RestController\r\n@RequestMapping(value = &quot;/family1&quot;)\r\npublic class Family1Controller {\r\n    \r\n    @Autowired\r\n    private Family1Service family1Service;\r\n\r\n    @RequestMapping(&quot;/fam1&quot;)\r\n    public List&lt;Family1&gt; getAllFamily1(){\r\n        return family1Service.getAllFamily1();\r\n    }\r\n\r\n    @RequestMapping(method=RequestMethod.POST, value=&quot;/fam1&quot;) \r\n    public void addFamily1(@RequestBody Family1 family1){\r\n        family1Service.addFamily1(family1);   \r\n     }\r\n\r\n    @RequestMapping(method=RequestMethod.GET, value=&quot;/fam1/{id}&quot;)\r\n    public Family1 getFamily1Id(@PathVariable long id) {\r\n        return family1Service.getFamily1Id(id);\r\n     }\r\n\r\n     @RequestMapping(method=RequestMethod.PUT, value=&quot;/fam1&quot;)\r\n     public Family1 updateFamily1(@RequestBody Family1 family1){\r\n        return family1Service.updateFamily1(family1);   \r\n    }\r\n\r\n    @RequestMapping(method=RequestMethod.DELETE, value=&quot;/fam1/{id}&quot;)\r\n    public void deleteFamily1(@PathVariable(&quot;id&quot;) long id) {\r\n        family1Service.deleteFamily1(id);\r\n    }\r\n}\r\n```\r\n```java\r\npublic interface Family1Repository extends CrudRepository&lt;Family1, long&gt;  {\r\n    // All repository methods you need are already provided by the CrudRepository\r\n}\r\n```\r\nI removed the List you used in the `Family1Service` to avoid data not being present in the database. This might lead to an empty result when calling the `findAll()` method of the repository.\r\n\r\nNote that I did not have time to fully test this, but the general approach should work.","title":"How to fix 500 internal error in spring boot","body":"<p>You are mixing the call to a predefined list with calls to the repository. The elements in the list have no representation in the database, therefore they are invalid when you use those IDs to delete objects with the repository.</p>\n<p>You might want to try something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class Family1Service {\n    \n    private Family1Repository family1Repository;\n    \n    public  List&lt;Family1&gt; getAllFamily1() {\n        return family1Repository.findAll();\n    }\n\n    public Family1 getFamily1Id(long id){\n        return family1Repository.findById(id).orElseThrow(); \n        // This returns an Optional orElseThrow will create an error if nothing is found\n    }\n\n    public void addFamily1(Family1 family1) {\n        family1Repository.save(family1);\n    }\n    \n    public Family1 updateFamily1(Family1 family1) {\n        return family1Repository.save(family1); \n    }\n\n    public void deleteFamily1(long id) {\n        family1Repository.deleteById(id);\n    }\n}\n</code></pre>\n<p>And in the controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(value = &quot;/family1&quot;)\npublic class Family1Controller {\n    \n    @Autowired\n    private Family1Service family1Service;\n\n    @RequestMapping(&quot;/fam1&quot;)\n    public List&lt;Family1&gt; getAllFamily1(){\n        return family1Service.getAllFamily1();\n    }\n\n    @RequestMapping(method=RequestMethod.POST, value=&quot;/fam1&quot;) \n    public void addFamily1(@RequestBody Family1 family1){\n        family1Service.addFamily1(family1);   \n     }\n\n    @RequestMapping(method=RequestMethod.GET, value=&quot;/fam1/{id}&quot;)\n    public Family1 getFamily1Id(@PathVariable long id) {\n        return family1Service.getFamily1Id(id);\n     }\n\n     @RequestMapping(method=RequestMethod.PUT, value=&quot;/fam1&quot;)\n     public Family1 updateFamily1(@RequestBody Family1 family1){\n        return family1Service.updateFamily1(family1);   \n    }\n\n    @RequestMapping(method=RequestMethod.DELETE, value=&quot;/fam1/{id}&quot;)\n    public void deleteFamily1(@PathVariable(&quot;id&quot;) long id) {\n        family1Service.deleteFamily1(id);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Family1Repository extends CrudRepository&lt;Family1, long&gt;  {\n    // All repository methods you need are already provided by the CrudRepository\n}\n</code></pre>\n<p>I removed the List you used in the <code>Family1Service</code> to avoid data not being present in the database. This might lead to an empty result when calling the <code>findAll()</code> method of the repository.</p>\n<p>Note that I did not have time to fully test this, but the general approach should work.</p>\n"}],"owner":{"account_id":20220145,"reputation":37,"user_id":14829881,"display_name":"Dhiya"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8923,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693825465,"creation_date":1609918906,"question_id":65591925,"body_markdown":"I&#39;m Really getting trouble solving 500 internal error in restapi.\r\n\r\nWhen I make GET and POST request working fine but when I make PUT,DELETE and findById GET request not working. if I try to make a request it will show 500 internal error. I don&#39;t know why it is happening so please help me.\r\nThank you in Advance!\r\nFamily1.class\r\n```\r\n@Entity\r\npublic class Family1 {\r\n\t\r\n\t@Id \r\n\tprivate long id;\r\n\tprivate String Name;\r\n\tprivate int Member;\r\n\tprivate long contactNo;\r\n\t@Embedded\r\n\tpublic Address address;\r\n// getters,setters\r\n````\r\nFamily1Controller.class\r\n````\r\n@RestController\r\n@RequestMapping(value = &quot;/family1&quot;)\r\npublic class Family1Controller {\r\n\t\r\n\t@Autowired\r\n\tprivate Family1Service family1Service;\r\n\r\n@RequestMapping(&quot;/fam1&quot;)\r\n\tpublic List&lt;Family1&gt; getAllFamily1(){\r\n\t\treturn family1Service.getAllFamily1();\r\n\t}\r\n@RequestMapping(method=RequestMethod.POST,value=&quot;/fam1&quot;) \r\n    public void addFamily1(@RequestBody Family1 family1){\r\n        family1Service.addFamily1(family1);   \r\n     }\r\n@RequestMapping(method=RequestMethod.GET,value=&quot;/fam1/{id}&quot;)\r\n\tpublic Family1 getFamily1Id(@PathVariable long id) {\r\n\t\tList&lt;Family1&gt; family=family1Service.getFamily1Id(id);\r\n\t\treturn family.get((int) id);\r\n}\r\n@RequestMapping(method=RequestMethod.PUT,value=&quot;/fam1/{id}&quot;)\r\n\t public Family1 updateFamily1(@RequestBody Family1 family1, @PathVariable(&quot;id&quot;) long id){\r\n\t\tfamily1.setId(id);\r\n\t\treturn family1Service.updateFamily1(family1);\t\r\n\t}\r\n@RequestMapping(method=RequestMethod.DELETE,value=&quot;/fam1/{id}&quot;)\r\n\tpublic void deleteFamily1(@PathVariable(&quot;id&quot;) long id) {\r\n\t\tfamily1Service.deleteFamily1(id);\r\n\t}\r\n\r\n}\r\n````\r\nFamily1Service.class\r\n````\r\n\r\n@Service\r\npublic class Family1Service {\r\n\t\r\n\tprivate Family1Repository family1Repository;\r\n     \r\n\tprivate List&lt;Family1&gt; family=new ArrayList&lt;&gt;(Arrays.asList(\r\n\t\t\tnew Family1(1,&quot;abc&quot;,3,32423423,new Address(&quot;east street&quot;,&quot;xxxxxx&quot;,23456)),\r\n\t\t\tnew Family1(2,&quot;xyz&quot;,4,354646,new Address(&quot;west street&quot;,&quot;yyyyyy&quot;,23456)),\r\n\t\t\t));\r\n\t\r\n\tpublic  List&lt;Family1&gt; getAllFamily1() {\r\n\t\treturn family;\r\n\t}\r\n\tpublic List&lt;Family1&gt; getFamily1Id(long id){\r\n\t\tfamily1Repository.findById(id);\r\n\t\treturn family;\r\n\t}\r\n\tpublic void addFamily1(Family1 family1) {\r\n\t\tfamily.add(family1);\r\n\t}\r\n\t\r\n\tpublic Family1 updateFamily1(Family1 family1) {\r\n\t\treturn family1Repository.save(family1);\t\r\n\t}\r\n\tpublic void deleteFamily1(long id) {\r\n\t\tfamily1Repository.deleteById(id);\r\n\t}\r\n}\r\n`````\r\nFamily1Repository.class\r\n````\r\npublic interface Family1Repository extends CrudRepository&lt;Family1, String&gt;  {\r\n\r\n\tpublic void deleteById(long id);\r\n\r\n\tpublic void save(Family1 family1, long id);\r\n\r\n\tpublic void findById(long id);\r\n````\r\nFamily1application.class\r\n````\r\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\r\npublic class Family1Application {\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Family1Application.class, args);\r\n\t\t\r\n\t\t\t}\r\n       \r\n}\r\n`````\r\nerror:\r\n````\r\n{\r\n    &quot;timestamp&quot;: &quot;2021-01-06T07:32:49.232+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;message&quot;: &quot;&quot;,\r\n    &quot;path&quot;: &quot;/family1/fam1/1&quot;\r\n}\r\n","title":"How to fix 500 internal error in spring boot","body":"<p>I'm Really getting trouble solving 500 internal error in restapi.</p>\n<p>When I make GET and POST request working fine but when I make PUT,DELETE and findById GET request not working. if I try to make a request it will show 500 internal error. I don't know why it is happening so please help me.\nThank you in Advance!\nFamily1.class</p>\n<pre><code>@Entity\npublic class Family1 {\n    \n    @Id \n    private long id;\n    private String Name;\n    private int Member;\n    private long contactNo;\n    @Embedded\n    public Address address;\n// getters,setters\n</code></pre>\n<p>Family1Controller.class</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/family1&quot;)\npublic class Family1Controller {\n    \n    @Autowired\n    private Family1Service family1Service;\n\n@RequestMapping(&quot;/fam1&quot;)\n    public List&lt;Family1&gt; getAllFamily1(){\n        return family1Service.getAllFamily1();\n    }\n@RequestMapping(method=RequestMethod.POST,value=&quot;/fam1&quot;) \n    public void addFamily1(@RequestBody Family1 family1){\n        family1Service.addFamily1(family1);   \n     }\n@RequestMapping(method=RequestMethod.GET,value=&quot;/fam1/{id}&quot;)\n    public Family1 getFamily1Id(@PathVariable long id) {\n        List&lt;Family1&gt; family=family1Service.getFamily1Id(id);\n        return family.get((int) id);\n}\n@RequestMapping(method=RequestMethod.PUT,value=&quot;/fam1/{id}&quot;)\n     public Family1 updateFamily1(@RequestBody Family1 family1, @PathVariable(&quot;id&quot;) long id){\n        family1.setId(id);\n        return family1Service.updateFamily1(family1);   \n    }\n@RequestMapping(method=RequestMethod.DELETE,value=&quot;/fam1/{id}&quot;)\n    public void deleteFamily1(@PathVariable(&quot;id&quot;) long id) {\n        family1Service.deleteFamily1(id);\n    }\n\n}\n</code></pre>\n<p>Family1Service.class</p>\n<pre><code>\n@Service\npublic class Family1Service {\n    \n    private Family1Repository family1Repository;\n     \n    private List&lt;Family1&gt; family=new ArrayList&lt;&gt;(Arrays.asList(\n            new Family1(1,&quot;abc&quot;,3,32423423,new Address(&quot;east street&quot;,&quot;xxxxxx&quot;,23456)),\n            new Family1(2,&quot;xyz&quot;,4,354646,new Address(&quot;west street&quot;,&quot;yyyyyy&quot;,23456)),\n            ));\n    \n    public  List&lt;Family1&gt; getAllFamily1() {\n        return family;\n    }\n    public List&lt;Family1&gt; getFamily1Id(long id){\n        family1Repository.findById(id);\n        return family;\n    }\n    public void addFamily1(Family1 family1) {\n        family.add(family1);\n    }\n    \n    public Family1 updateFamily1(Family1 family1) {\n        return family1Repository.save(family1); \n    }\n    public void deleteFamily1(long id) {\n        family1Repository.deleteById(id);\n    }\n}\n</code></pre>\n<p>Family1Repository.class</p>\n<pre><code>public interface Family1Repository extends CrudRepository&lt;Family1, String&gt;  {\n\n    public void deleteById(long id);\n\n    public void save(Family1 family1, long id);\n\n    public void findById(long id);\n</code></pre>\n<p>Family1application.class</p>\n<pre><code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\npublic class Family1Application {\n\n    \n    public static void main(String[] args) {\n        SpringApplication.run(Family1Application.class, args);\n        \n            }\n       \n}\n</code></pre>\n<p>error:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2021-01-06T07:32:49.232+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;message&quot;: &quot;&quot;,\n    &quot;path&quot;: &quot;/family1/fam1/1&quot;\n}\n</code></pre>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":1992083,"reputation":956,"user_id":1785883,"display_name":"AlexW"},"score":0,"creation_date":1429865586,"post_id":29842516,"comment_id":47811863,"body_markdown":"Did you add command line arguments mentioned in the first line to your java server command line?","body":"Did you add command line arguments mentioned in the first line to your java server command line?"}],"answers":[{"tags":[],"owner":{"account_id":4737721,"reputation":651,"user_id":3831579,"accept_rate":35,"display_name":"Sagar Rout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429864984,"creation_date":1429864984,"answer_id":29842680,"question_id":29842516,"body_markdown":"Connection refused can be happened due to many reasons. It can be due to firewall or proxy. Please check in the Internet Connections whether you are using any proxy or not. If you are using any proxy, you have to use proxy through that you can create connection.\r\n\r\n","title":"java.net.ConnectException when running IntelliJ debugger","body":"<p>Connection refused can be happened due to many reasons. It can be due to firewall or proxy. Please check in the Internet Connections whether you are using any proxy or not. If you are using any proxy, you have to use proxy through that you can create connection.</p>\n"}],"owner":{"account_id":3886530,"reputation":89,"user_id":3217746,"accept_rate":0,"display_name":"user3217746"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11389,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1693825465,"creation_date":1429864574,"question_id":29842516,"body_markdown":"I am trying to debug my Java server with IntelliJ. Every time I start the debugger it shows:\r\n\r\n&gt; Error running game debug: Unable to open debugger port :\r\n&gt; java.net.ConnectException &quot;Connection refused: connect&quot;\r\n\r\nI switched off the firewall for Windows, as well as my antivirus scanner, but it&#39;s still showing the error.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Wc7Zr.png","title":"java.net.ConnectException when running IntelliJ debugger","body":"<p>I am trying to debug my Java server with IntelliJ. Every time I start the debugger it shows:</p>\n\n<blockquote>\n  <p>Error running game debug: Unable to open debugger port :\n  java.net.ConnectException \"Connection refused: connect\"</p>\n</blockquote>\n\n<p>I switched off the firewall for Windows, as well as my antivirus scanner, but it's still showing the error.</p>\n\n<p><img src=\"https://i.stack.imgur.com/Wc7Zr.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","android-studio","android-developer-api","android-studio-arctic-fox"],"answers":[{"tags":[],"owner":{"account_id":5649052,"reputation":71,"user_id":4470297,"display_name":"Rochana Lakshitha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628483127,"creation_date":1628483127,"answer_id":68706853,"question_id":68706358,"body_markdown":"Try this quick solution \r\ngo to file &gt; Invalidate Caches / Restart&#39; and then click the &#39;Invalidate and Restart&#39; button.\r\n\r\nafter try again \r\nSelect either Java or Kotlin from the Language check this drop-down menu\r\n\r\nthank you. \r\n","title":"Cant select Java in Android Studio","body":"<p>Try this quick solution\ngo to file &gt; Invalidate Caches / Restart' and then click the 'Invalidate and Restart' button.</p>\n<p>after try again\nSelect either Java or Kotlin from the Language check this drop-down menu</p>\n<p>thank you.</p>\n"},{"tags":[],"owner":{"account_id":10854193,"reputation":786,"user_id":7981077,"accept_rate":100,"display_name":"AtifSayings"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693825298,"creation_date":1628488110,"answer_id":68707356,"question_id":68706358,"body_markdown":"In New Project Wizard if you choose **Empty Compose Activity** then it will show only Kotlin. So make sure to choose any other activity e.g. **Empty Activity**.\r\nIf this is not the case then try closing and restarting Android Studio.\r\n\r\nUpdate: In the newer **Android Studio** version **Empty Activity** is **Empty Compose Activity** and **Empty Views Activity** is with that activity with xml UI.","title":"Cant select Java in Android Studio","body":"<p>In New Project Wizard if you choose <strong>Empty Compose Activity</strong> then it will show only Kotlin. So make sure to choose any other activity e.g. <strong>Empty Activity</strong>.\nIf this is not the case then try closing and restarting Android Studio.</p>\n<p>Update: In the newer <strong>Android Studio</strong> version <strong>Empty Activity</strong> is <strong>Empty Compose Activity</strong> and <strong>Empty Views Activity</strong> is with that activity with xml UI.</p>\n"},{"tags":[],"owner":{"account_id":16984850,"reputation":31,"user_id":12285876,"display_name":"haritha_kh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688785674,"creation_date":1688785674,"answer_id":76641192,"question_id":68706358,"body_markdown":"When you create a new project, you cannot change the language if you select **Empty Activity**. So, choose another activity. Then you can select java.","title":"Cant select Java in Android Studio","body":"<p>When you create a new project, you cannot change the language if you select <strong>Empty Activity</strong>. So, choose another activity. Then you can select java.</p>\n"}],"owner":{"account_id":22412931,"reputation":31,"user_id":16621422,"display_name":"Abdullah Sibtain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6180,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1693825298,"creation_date":1628477984,"question_id":68706358,"body_markdown":"I just upgraded from Android Studio to Android Studio Arctic Fox and while creating project i only see one option for Kotlin there is no option for java please help me out.","title":"Cant select Java in Android Studio","body":"<p>I just upgraded from Android Studio to Android Studio Arctic Fox and while creating project i only see one option for Kotlin there is no option for java please help me out.</p>\n"},{"tags":["java","oracle","jdbc","jboss","ojdbc"],"comments":[{"owner":{"account_id":269597,"reputation":14829,"user_id":559026,"accept_rate":93,"display_name":"Hardik Mishra"},"score":0,"creation_date":1345793995,"post_id":12103369,"comment_id":16179811,"body_markdown":"Can you provide full error stack trace and connection URL","body":"Can you provide full error stack trace and connection URL"},{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":0,"creation_date":1345794348,"post_id":12103369,"comment_id":16179929,"body_markdown":"Which version of Oracle database you are trying to connect?","body":"Which version of Oracle database you are trying to connect?"},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1345797538,"post_id":12103369,"comment_id":16180986,"body_markdown":"Information provded in edited post.","body":"Information provded in edited post."}],"answers":[{"tags":[],"owner":{"account_id":269597,"reputation":14829,"user_id":559026,"accept_rate":93,"display_name":"Hardik Mishra"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1460627755,"creation_date":1345794167,"answer_id":12105132,"question_id":12103369,"body_markdown":"&quot;No suitable driver&quot; usually means that the `JDBC` URL you&#39;ve supplied to connect has incorrect syntax or when the driver isn&#39;t loaded at all.\r\n\r\nWhen the method getConnection is called, the `DriverManager` will attempt to locate a suitable driver from amongst those loaded at initialization and those loaded explicitly using the same classloader as the current applet or application.(using `Class.forName()`)\r\n\r\nFor Example\r\n\r\n\r\n    import oracle.jdbc.driver.OracleDriver;\r\n  \r\n    Class.forName(&quot;oracle.jdbc.driver.&#173;OracleDriver&quot;);\r\n\r\nAlso check that you have `ojdbc6.jar` in your classpath. I would suggest to place `.jar` at physical location to JBoss `&quot;$JBOSS_HOME/server/default/lib/&quot;` directory of your project.\r\n\r\nEDIT:\r\n\r\nYou have mentioned `hibernate` lately.\r\n\r\nCheck that your `hibernate.cfg.xml` file has connection properties something like this:\r\n\r\n    &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:oracle:thin:@localhost:1521:orcl&lt;/property&gt; \r\n    &lt;property name=&quot;hibernate.connection.username&quot;&gt;scott&lt;/property&gt;\r\n    &lt;property name=&quot;hibernate.connection.password&quot;&gt;tiger&lt;/property&gt;\r\n\r\n\r\n","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>\"No suitable driver\" usually means that the <code>JDBC</code> URL you've supplied to connect has incorrect syntax or when the driver isn't loaded at all.</p>\n\n<p>When the method getConnection is called, the <code>DriverManager</code> will attempt to locate a suitable driver from amongst those loaded at initialization and those loaded explicitly using the same classloader as the current applet or application.(using <code>Class.forName()</code>)</p>\n\n<p>For Example</p>\n\n<pre><code>import oracle.jdbc.driver.OracleDriver;\n\nClass.forName(\"oracle.jdbc.driver.­OracleDriver\");\n</code></pre>\n\n<p>Also check that you have <code>ojdbc6.jar</code> in your classpath. I would suggest to place <code>.jar</code> at physical location to JBoss <code>\"$JBOSS_HOME/server/default/lib/\"</code> directory of your project.</p>\n\n<p>EDIT:</p>\n\n<p>You have mentioned <code>hibernate</code> lately.</p>\n\n<p>Check that your <code>hibernate.cfg.xml</code> file has connection properties something like this:</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.driver_class\"&gt;oracle.jdbc.driver.OracleDriver&lt;/property&gt;\n&lt;property name=\"hibernate.connection.url\"&gt;jdbc:oracle:thin:@localhost:1521:orcl&lt;/property&gt; \n&lt;property name=\"hibernate.connection.username\"&gt;scott&lt;/property&gt;\n&lt;property name=\"hibernate.connection.password\"&gt;tiger&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1593705"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1370418172,"creation_date":1345845881,"answer_id":12117228,"question_id":12103369,"body_markdown":"The &quot;ojdbc.jar&quot; is not in the `CLASSPATH` of your application server.\r\n\r\nJust tell us which application server it is and we will tell you where the driver should be placed.\r\n\r\n**Edit**: I saw the tag [tag:jboss] so it has to be placed in folder `&quot;$JBOSS_HOME/server/default/lib/&quot;`","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>The \"ojdbc.jar\" is not in the <code>CLASSPATH</code> of your application server.</p>\n\n<p>Just tell us which application server it is and we will tell you where the driver should be placed.</p>\n\n<p><strong>Edit</strong>: I saw the tag <a href=\"/questions/tagged/jboss\" class=\"post-tag\" title=\"show questions tagged 'jboss'\" rel=\"tag\">jboss</a> so it has to be placed in folder <code>\"$JBOSS_HOME/server/default/lib/\"</code></p>\n"},{"tags":[],"owner":{"account_id":2448200,"reputation":5713,"user_id":2135045,"accept_rate":68,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1379514332,"creation_date":1379514332,"answer_id":18874897,"question_id":12103369,"body_markdown":"For me I did enter a invalid url like : `orcl` only instead of `jdbc:oracle:thin:@//localhost:1521/orcl`","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>For me I did enter a invalid url like : <code>orcl</code> only instead of <code>jdbc:oracle:thin:@//localhost:1521/orcl</code></p>\n"},{"tags":[],"owner":{"account_id":3424683,"reputation":31,"user_id":2870781,"display_name":"Felipe Yudi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1381752213,"creation_date":1381752213,"answer_id":19359847,"question_id":12103369,"body_markdown":"I had the same problem. To fix it in Jboss 7 AS, I copy the oracle driver jar file to Jboss module folder. Example: `../jboss-as-7.1.1.Final/modules/org/hibernate/main`.\r\n\r\nYou also need to change &quot;module.xml&quot;\r\n\r\n    &lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;org.hibernate&quot;&gt;\r\n    &lt;resources&gt;\r\n        &lt;resource-root path=&quot;hibernate-core-4.0.1.Final.jar&quot;/&gt;\r\n        &lt;resource-root path=&quot;hibernate-commons-annotations-4.0.1.Final.jar&quot;/&gt;\r\n        &lt;resource-root path=&quot;hibernate-entitymanager-4.0.1.Final.jar&quot;/&gt;\r\n        &lt;resource-root path=&quot;hibernate-infinispan-4.0.1.Final.jar&quot;/&gt;\r\n        &lt;resource-root path=&quot;ojdbc6.jar&quot;/&gt;\r\n    &lt;/resources&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;module name=&quot;asm.asm&quot;/&gt;\r\n        &lt;module name=&quot;javax.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.persistence.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.transaction.api&quot;/&gt;\r\n        &lt;module name=&quot;javax.validation.api&quot;/&gt;\r\n        &lt;module name=&quot;org.antlr&quot;/&gt;\r\n        &lt;module name=&quot;org.apache.commons.collections&quot;/&gt;\r\n        &lt;module name=&quot;org.dom4j&quot;/&gt;\r\n        &lt;module name=&quot;org.infinispan&quot; optional=&quot;true&quot;/&gt;\r\n        &lt;module name=&quot;org.javassist&quot;/&gt;\r\n        &lt;module name=&quot;org.jboss.as.jpa.hibernate&quot; slot=&quot;4&quot; optional=&quot;true&quot;/&gt;\r\n        &lt;module name=&quot;org.jboss.logging&quot;/&gt;\r\n        &lt;module name=&quot;org.hibernate.envers&quot; services=&quot;import&quot; optional=&quot;true&quot;/&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/module&gt;","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>I had the same problem. To fix it in Jboss 7 AS, I copy the oracle driver jar file to Jboss module folder. Example: <code>../jboss-as-7.1.1.Final/modules/org/hibernate/main</code>.</p>\n\n<p>You also need to change \"module.xml\"</p>\n\n<pre><code>&lt;module xmlns=\"urn:jboss:module:1.1\" name=\"org.hibernate\"&gt;\n&lt;resources&gt;\n    &lt;resource-root path=\"hibernate-core-4.0.1.Final.jar\"/&gt;\n    &lt;resource-root path=\"hibernate-commons-annotations-4.0.1.Final.jar\"/&gt;\n    &lt;resource-root path=\"hibernate-entitymanager-4.0.1.Final.jar\"/&gt;\n    &lt;resource-root path=\"hibernate-infinispan-4.0.1.Final.jar\"/&gt;\n    &lt;resource-root path=\"ojdbc6.jar\"/&gt;\n&lt;/resources&gt;\n\n&lt;dependencies&gt;\n    &lt;module name=\"asm.asm\"/&gt;\n    &lt;module name=\"javax.api\"/&gt;\n    &lt;module name=\"javax.persistence.api\"/&gt;\n    &lt;module name=\"javax.transaction.api\"/&gt;\n    &lt;module name=\"javax.validation.api\"/&gt;\n    &lt;module name=\"org.antlr\"/&gt;\n    &lt;module name=\"org.apache.commons.collections\"/&gt;\n    &lt;module name=\"org.dom4j\"/&gt;\n    &lt;module name=\"org.infinispan\" optional=\"true\"/&gt;\n    &lt;module name=\"org.javassist\"/&gt;\n    &lt;module name=\"org.jboss.as.jpa.hibernate\" slot=\"4\" optional=\"true\"/&gt;\n    &lt;module name=\"org.jboss.logging\"/&gt;\n    &lt;module name=\"org.hibernate.envers\" services=\"import\" optional=\"true\"/&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":1323029,"reputation":1092,"user_id":1268427,"accept_rate":45,"display_name":"Abhinai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412790597,"creation_date":1412786978,"answer_id":26262224,"question_id":12103369,"body_markdown":"do like this\r\n\r\n    set classpath=%classpath%(ur jarfile);","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>do like this</p>\n\n<pre><code>set classpath=%classpath%(ur jarfile);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415295325,"creation_date":1415295325,"answer_id":26785775,"question_id":12103369,"body_markdown":"First, if you develop an application with Java EE 6 within a server (JBoss),\r\nyou should better use a [DataSource](http://docs.oracle.com/javase/6/docs/api/javax/sql/DataSource.html). Then you can obtain the Connection from this DataSource. It&#39;s better to use connections pools.\r\n\r\nThen, as of JBoss AS 7, the JDBC driver must be declared as a module.\r\nThis is described [here](https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6/html-single/Administration_and_Configuration_Guide/index.html#Install_a_JDBC_Driver_as_a_Core_Module1).\r\n\r\nWith OJDBC 6 (11.x), the name of the driver should be &quot;oracle.jdbc.OracleDriver&quot;.\r\nThis is the name registered in SPI mode (see the content of this file : *META-INF/services/java.sql.Driver*).  \r\nSince Java 6 and JDBC 4.0, the JDBC Drivers are **auto-registered**.\r\n\r\nFinally you will have to declare a DataSource within JBoss : [DataSource configuration](https://docs.jboss.org/author/display/AS71/DataSource+configuration).\r\n\r\nReferences :\r\n\r\n* **Establishing a Connection** ([link](http://docs.oracle.com/javase/tutorial/jdbc/basics/connecting.html)) (JDBC 4.0 &lt;=&gt; Java 6)\r\n* **JDBC 4.0 Enhancements in Java SE 6 &gt; Auto-Loading of JDBC Driver** ([link](http://www.onjava.com/pub/a/onjava/2006/08/02/jjdbc-4-enhancements-in-java-se-6.html))","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>First, if you develop an application with Java EE 6 within a server (JBoss),\nyou should better use a <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/sql/DataSource.html\" rel=\"nofollow\">DataSource</a>. Then you can obtain the Connection from this DataSource. It's better to use connections pools.</p>\n\n<p>Then, as of JBoss AS 7, the JDBC driver must be declared as a module.\nThis is described <a href=\"https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6/html-single/Administration_and_Configuration_Guide/index.html#Install_a_JDBC_Driver_as_a_Core_Module1\" rel=\"nofollow\">here</a>.</p>\n\n<p>With OJDBC 6 (11.x), the name of the driver should be \"oracle.jdbc.OracleDriver\".\nThis is the name registered in SPI mode (see the content of this file : <em>META-INF/services/java.sql.Driver</em>).<br>\nSince Java 6 and JDBC 4.0, the JDBC Drivers are <strong>auto-registered</strong>.</p>\n\n<p>Finally you will have to declare a DataSource within JBoss : <a href=\"https://docs.jboss.org/author/display/AS71/DataSource+configuration\" rel=\"nofollow\">DataSource configuration</a>.</p>\n\n<p>References :</p>\n\n<ul>\n<li><strong>Establishing a Connection</strong> (<a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/connecting.html\" rel=\"nofollow\">link</a>) (JDBC 4.0 &lt;=> Java 6)</li>\n<li><strong>JDBC 4.0 Enhancements in Java SE 6 > Auto-Loading of JDBC Driver</strong> (<a href=\"http://www.onjava.com/pub/a/onjava/2006/08/02/jjdbc-4-enhancements-in-java-se-6.html\" rel=\"nofollow\">link</a>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4059905,"reputation":1265,"user_id":3541666,"accept_rate":0,"display_name":"Vazgen Torosyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436117382,"creation_date":1436117382,"answer_id":31233078,"question_id":12103369,"body_markdown":"Download JDBC driver and add to libraries.\r\nDownload link http://www.oracle.com/technetwork/apps-tech/jdbc-112010-090769.html","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>Download JDBC driver and add to libraries.\nDownload link <a href=\"http://www.oracle.com/technetwork/apps-tech/jdbc-112010-090769.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/apps-tech/jdbc-112010-090769.html</a></p>\n"},{"tags":[],"owner":{"account_id":5040778,"reputation":322,"user_id":4059838,"display_name":"Rick Ryker"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1527232317,"creation_date":1480363480,"answer_id":40852556,"question_id":12103369,"body_markdown":"Sometimes it is the simple things. In my case, I had an invalid url. \r\nI had left out a colon before the at sign (@).\r\nI had &quot;jdbc:oracle:thin@//localhost&quot; instead of &quot;jdbc:oracle:thin:@//localhost&quot;\r\nHope this helps someone else with this issue.","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>Sometimes it is the simple things. In my case, I had an invalid url. \nI had left out a colon before the at sign (@).\nI had \"jdbc:oracle:thin@//localhost\" instead of \"jdbc:oracle:thin:@//localhost\"\nHope this helps someone else with this issue.</p>\n"},{"tags":[],"owner":{"account_id":14309970,"reputation":1,"user_id":10336568,"display_name":"Shivam Suryavanshi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1587108252,"creation_date":1587108252,"answer_id":61266106,"question_id":12103369,"body_markdown":"i have changed my old path: jdbc:odbc:thin:@localhost:1521:orcl\r\n\r\nto new : jdbc:oracle:thin:@//localhost:1521/orcl \r\n\r\nand it worked for me.....hurrah!!\r\n[image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/be8yL.png","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>i have changed my old path: jdbc:odbc:thin:@localhost:1521:orcl</p>\n\n<p>to new : jdbc:oracle:thin:@//localhost:1521/orcl </p>\n\n<p>and it worked for me.....hurrah!!\n<a href=\"https://i.stack.imgur.com/be8yL.png\" rel=\"nofollow noreferrer\">image</a></p>\n"},{"tags":[],"owner":{"account_id":21055194,"reputation":96,"user_id":15474635,"display_name":"Deepesh Saraswat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617088025,"creation_date":1616640337,"answer_id":66792333,"question_id":12103369,"body_markdown":"I was also facing the same issue. I had all the required jars as well. \r\n\r\n[Please refer code screenshot for reference][1]\r\n\r\n\r\nBut after adding \r\n\r\n    Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\r\nit worked for me. \r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VthEK.png\r\n  [2]: https://i.stack.imgur.com/1LDLq.png\r\n\r\n\r\n    package com.jdbc;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    \r\n    public class TestJdbc {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tString url = &quot;jdbc:oracle:thin:@127.0.0.1:1521:xe&quot;;\r\n    \t\tString user =&quot;SYSTEM&quot;;\r\n    \t\tString password = &quot;root&quot;;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;Connecting to DAtabase&quot;);\r\n    \t\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);  /*added this line*/\r\n    \t\t\tConnection connection = DriverManager.getConnection(url, user, password);\r\n    \t\t\tSystem.out.println(\tconnection.toString());\r\n    \t\t\tSystem.out.println(&quot;Connection Success&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**NOTE :** IF YOU ARE USING JDK 8 TRY TO USE ***OJDBC8*** instead of ***OJDBC14*** in that case you will not have to add Class.forName as well. ","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>I was also facing the same issue. I had all the required jars as well.</p>\n<p><a href=\"https://i.stack.imgur.com/VthEK.png\" rel=\"nofollow noreferrer\">Please refer code screenshot for reference</a></p>\n<p>But after adding</p>\n<pre><code>Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n</code></pre>\n<p>it worked for me.</p>\n<pre><code>package com.jdbc;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\n\npublic class TestJdbc {\n\n    public static void main(String[] args) {\n        \n        String url = &quot;jdbc:oracle:thin:@127.0.0.1:1521:xe&quot;;\n        String user =&quot;SYSTEM&quot;;\n        String password = &quot;root&quot;;\n        \n        try {\n            System.out.println(&quot;Connecting to DAtabase&quot;);\n            Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);  /*added this line*/\n            Connection connection = DriverManager.getConnection(url, user, password);\n            System.out.println( connection.toString());\n            System.out.println(&quot;Connection Success&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p><strong>NOTE :</strong> IF YOU ARE USING JDK 8 TRY TO USE <em><strong>OJDBC8</strong></em> instead of <em><strong>OJDBC14</strong></em> in that case you will not have to add Class.forName as well.</p>\n"},{"tags":[],"owner":{"account_id":25598162,"reputation":1,"user_id":19373567,"display_name":"Dhiraj Gardi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656696083,"creation_date":1656696083,"answer_id":72832728,"question_id":12103369,"body_markdown":"I am also getting the same error so for that \r\nFirst the **Oracle URL is correct or not like**\r\njdbc:oracle:thin:@localhost:1521:xe\r\n\r\nThen also you can give the OJDBC6.jar to buildpath at project level and also\r\nyou copy this jar to the WEB-INF/lib folder if you are working with tomcat.\r\n\r\nand also use the Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;); to explicitly load the Driver class.","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>I am also getting the same error so for that\nFirst the <strong>Oracle URL is correct or not like</strong>\njdbc:oracle:thin:@localhost:1521:xe</p>\n<p>Then also you can give the OJDBC6.jar to buildpath at project level and also\nyou copy this jar to the WEB-INF/lib folder if you are working with tomcat.</p>\n<p>and also use the Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;); to explicitly load the Driver class.</p>\n"},{"tags":[],"owner":{"account_id":15257278,"reputation":43,"user_id":11008579,"display_name":"Kriszti&#225;n Szeles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693825069,"creation_date":1693825069,"answer_id":77037158,"question_id":12103369,"body_markdown":"For IntelliJ users, here is what helped me:\r\n*Run Configuration/ Modify options/ Add dependencies with provided scope to classpath*\r\n\r\nThis way IntelliJ can recognize the JDBC library.\r\n\r\n","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>For IntelliJ users, here is what helped me:\n<em>Run Configuration/ Modify options/ Add dependencies with provided scope to classpath</em></p>\n<p>This way IntelliJ can recognize the JDBC library.</p>\n"}],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204988,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":12117228,"answer_count":12,"score":27,"last_activity_date":1693825069,"creation_date":1345784510,"question_id":12103369,"body_markdown":"I am trying to develop a Java EE application that connect to an `Oracle` database from eb service class but I encounter a \r\n\r\n    SQLException: No suitable driver found for jdbc:oracle:thin:@//localhost:1521/orcl\r\n\r\nI have the `ojdbc6.jar` in the class path and I have also verified that this in the `JBoss` deployment folder. \r\n\r\nMy application `EAR` is composed of a `WAR`. What is wrong (root cause) with this? Please help. \r\n\r\nConnection URL in persistence.xml: \r\n\r\n    &gt; &quot;jdbc:oracle:thin:@//localhost:1521/orcl&quot;\r\n\r\nStack Trace: \r\n\r\n    16:06:32,687 WARN  [com.arjuna.ats.arjuna] (default-workqueue-1) ARJUNA012125: TwoPhaseCoordinator.beforeCompletion - failed for SynchronizationImple&lt; 0:ffffc0a80106:-3e8b2d6f:5037338f:15, org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@4d1082 &gt;: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection\r\n    \tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1361) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat \r\n    Caused by: java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@//localhost:1521/orcl\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:602) [rt.jar:1.6.0_26]\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:154) [rt.jar:1.6.0_26]\r\n    \tat org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:173) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \t... 70 more\r\n    \r\n    16:06:32,796 ERROR [org.jboss.ejb3.invocation] (default-workqueue-1) JBAS014134: EJB Invocation failed on component CreditcardFacade for method public abstract void com.peter.ejb.CreditcardFacadeLocal.addCreditCard(com.peter.entity.Creditcard): javax.ejb.EJBTransactionRolledbackException: Transaction rolled back\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.handleEndTransactionException(CMTTxInterceptor.java:115) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:95) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:232) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:173) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat com.peter.ejb.CreditcardFacadeLocal$$$view2.addCreditCard(Unknown Source) [classes:]\r\n    \tcom.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:273)\r\n    \tat com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:93)\r\n    \tat com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:164)\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1165)\r\n    \t... 46 more\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Could not open connection\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:131) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.extractPhysicalConnection(ConnectionProxyHandler.java:82) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.continueInvocation(ConnectionProxyHandler.java:138) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat $Proxy96.prepareStatement(Unknown Source)\tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.buildBatchStatement(AbstractBatchImpl.java:144) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.getBatchStatement(AbstractBatchImpl.java:127) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2827) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3290) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:80) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:272) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:264) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:186) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:326) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1081) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:315) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorImpl.beforeCompletion(SynchronizationCallbackCoordinatorImpl.java:104) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \t... 52 more\r\n    Caused by: java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@//localhost:1521/orcl\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:602) [rt.jar:1.6.0_26]\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:154) [rt.jar:1.6.0_26]\r\n    \tat org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:173) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \t... 70 more\r\n    \r\n    16:06:32,953 WARNING [org.apache.cxf.phase.PhaseInterceptorChain] (default-workqueue-1) Application {http://service.peter.com/}CreditCardServiceService#{http://service.peter.com/}addCreditCard has thrown exception, unwinding now: org.apache.cxf.interceptor.Fault: Transaction rolled back\r\n    \tat org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:155) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.jaxws.AbstractJAXWSMethodInvoker.createFault(AbstractJAXWSMethodInvoker.java:86) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:121) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.jaxws.JAXWSMethodInvoker.invoke(JAXWSMethodInvoker.java:61) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:75) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58) [cxf-2.4.1.jar:2.4.1]\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) [rt.jar:1.6.0_26]\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) [rt.jar:1.6.0_26]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:138) [rt.jar:1.6.0_26]\r\n    \tat org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:106) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.resume(PhaseInterceptorChain.java:232) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.interceptor.OneWayProcessorInterceptor$1.run(OneWayProcessorInterceptor.java:109) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.workqueue.AutomaticWorkQueueImpl$2.run(AutomaticWorkQueueImpl.java:332) [cxf-2.4.1.jar:2.4.1]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_26]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_26]\r\n    \tat java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_26]\r\n    Caused by: javax.ejb.EJBTransactionRolledbackException: Transaction rolled back\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.handleEndTransactionException(CMTTxInterceptor.java:115) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:95) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:232) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:173) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n    \tat org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat com.peter.ejb.CreditcardFacadeLocal$$$view2.addCreditCard(Unknown Source) [classes:]\r\n    \tat com.peter.service.CreditCardService.addCreditCard(CreditCardService.java:56) [classes:]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.6.0_26]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [rt.jar:1.6.0_26]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [rt.jar:1.6.0_26]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597) [rt.jar:1.6.0_26]\r\n    \tat org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:173) [cxf-2.4.1.jar:2.4.1]\r\n    \tat org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:89) [cxf-2.4.1.jar:2.4.1]\r\n    \t... 15 more\r\n    Caused by: javax.transaction.RollbackException: ARJUNA016053: Could not commit transaction.\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1177)\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:117)\r\n    \tat com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:75)\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:92) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \t... 43 more\r\n    Caused by: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection\r\n    \tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1361) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1289) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1295) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.ejb.AbstractEntityManagerImpl$CallbackExceptionMapperImpl.mapManagedFlushFailure(AbstractEntityManagerImpl.java:1481) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorImpl.beforeCompletion(SynchronizationCallbackCoordinatorImpl.java:109) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization.beforeCompletion(RegisteredSynchronization.java:53) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:76)\r\n    \tat com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:273)\r\n    \tat com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:93)\r\n    \tat com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:164)\r\n    \tat com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1165)\r\n    \t... 46 more\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Could not open connection\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:131) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.extractPhysicalConnection(ConnectionProxyHandler.java:82) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.continueInvocation(ConnectionProxyHandler.java:138) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat $Proxy96.prepareStatement(Unknown Source)\tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.buildBatchStatement(AbstractBatchImpl.java:144) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.getBatchStatement(AbstractBatchImpl.java:127) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2827) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3290) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:80) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:272) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:264) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:186) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:326) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1081) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:315) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorImpl.beforeCompletion(SynchronizationCallbackCoordinatorImpl.java:104) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \t... 52 more\r\n    Caused by: java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@//localhost:1521/orcl\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:602) [rt.jar:1.6.0_26]\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:154) [rt.jar:1.6.0_26]\r\n    \tat org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:173) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \t... 70 more\r\n\r\nOracle Database Version: 11.2.0. \r\n\r\nDoes driver version need to match with database version?\r\n\r\nEDIT:\r\n\r\n1. How to trace which file path the program load the driver from? This enhance me to find the root cause. Thanks.\r\n\r\n2. How to enable the ojdbc6-g logging? I&#39;m tried follow this [Oracle_JDBC][1]\r\nbut I do not know how to complete it. How to set the java system property globally?\r\nI know that environment variable may not a good choice. Any other idea? \r\nI just want to add -Doracle.jdbc.Trace=true and -Djava.util.logging.config.file to jvm creation when using this java. Is it set up oracle database during the startup?\r\n\r\n3. How to enable hibernate logging? \r\n\r\n4. I&#39;m using Hibernate-4.1.1 and JBoss 7.1.\r\n\r\nPlease help. \r\n\r\nThanks. \t\r\n\r\n\r\n  [1]: http://lokeshtc.blogspot.com/2012/01/enabling-and-using-jdbc-logging.html","title":"SQLException: No suitable Driver Found for jdbc:oracle:thin:@//localhost:1521/orcl","body":"<p>I am trying to develop a Java EE application that connect to an <code>Oracle</code> database from eb service class but I encounter a </p>\n\n<pre><code>SQLException: No suitable driver found for jdbc:oracle:thin:@//localhost:1521/orcl\n</code></pre>\n\n<p>I have the <code>ojdbc6.jar</code> in the class path and I have also verified that this in the <code>JBoss</code> deployment folder. </p>\n\n<p>My application <code>EAR</code> is composed of a <code>WAR</code>. What is wrong (root cause) with this? Please help. </p>\n\n<p>Connection URL in persistence.xml: </p>\n\n<pre><code>&gt; \"jdbc:oracle:thin:@//localhost:1521/orcl\"\n</code></pre>\n\n<p>Stack Trace: </p>\n\n<pre><code>16:06:32,687 WARN  [com.arjuna.ats.arjuna] (default-workqueue-1) ARJUNA012125: TwoPhaseCoordinator.beforeCompletion - failed for SynchronizationImple&lt; 0:ffffc0a80106:-3e8b2d6f:5037338f:15, org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization@4d1082 &gt;: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection\n    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1361) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n    at \nCaused by: java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@//localhost:1521/orcl\n    at java.sql.DriverManager.getConnection(DriverManager.java:602) [rt.jar:1.6.0_26]\n    at java.sql.DriverManager.getConnection(DriverManager.java:154) [rt.jar:1.6.0_26]\n    at org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:173) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    ... 70 more\n\n16:06:32,796 ERROR [org.jboss.ejb3.invocation] (default-workqueue-1) JBAS014134: EJB Invocation failed on component CreditcardFacade for method public abstract void com.peter.ejb.CreditcardFacadeLocal.addCreditCard(com.peter.entity.Creditcard): javax.ejb.EJBTransactionRolledbackException: Transaction rolled back\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleEndTransactionException(CMTTxInterceptor.java:115) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:95) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:232) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:173) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at com.peter.ejb.CreditcardFacadeLocal$$$view2.addCreditCard(Unknown Source) [classes:]\n    com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:273)\n    at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:93)\n    at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:164)\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1165)\n    ... 46 more\nCaused by: org.hibernate.exception.JDBCConnectionException: Could not open connection\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:131) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.extractPhysicalConnection(ConnectionProxyHandler.java:82) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.continueInvocation(ConnectionProxyHandler.java:138) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at $Proxy96.prepareStatement(Unknown Source)    at org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.buildBatchStatement(AbstractBatchImpl.java:144) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.getBatchStatement(AbstractBatchImpl.java:127) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2827) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3290) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:80) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:272) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:264) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:186) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:326) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1081) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:315) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorImpl.beforeCompletion(SynchronizationCallbackCoordinatorImpl.java:104) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    ... 52 more\nCaused by: java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@//localhost:1521/orcl\n    at java.sql.DriverManager.getConnection(DriverManager.java:602) [rt.jar:1.6.0_26]\n    at java.sql.DriverManager.getConnection(DriverManager.java:154) [rt.jar:1.6.0_26]\n    at org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:173) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    ... 70 more\n\n16:06:32,953 WARNING [org.apache.cxf.phase.PhaseInterceptorChain] (default-workqueue-1) Application {http://service.peter.com/}CreditCardServiceService#{http://service.peter.com/}addCreditCard has thrown exception, unwinding now: org.apache.cxf.interceptor.Fault: Transaction rolled back\n    at org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:155) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.jaxws.AbstractJAXWSMethodInvoker.createFault(AbstractJAXWSMethodInvoker.java:86) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:121) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.jaxws.JAXWSMethodInvoker.invoke(JAXWSMethodInvoker.java:61) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:75) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58) [cxf-2.4.1.jar:2.4.1]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) [rt.jar:1.6.0_26]\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) [rt.jar:1.6.0_26]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138) [rt.jar:1.6.0_26]\n    at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:106) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.phase.PhaseInterceptorChain.resume(PhaseInterceptorChain.java:232) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.interceptor.OneWayProcessorInterceptor$1.run(OneWayProcessorInterceptor.java:109) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.workqueue.AutomaticWorkQueueImpl$2.run(AutomaticWorkQueueImpl.java:332) [cxf-2.4.1.jar:2.4.1]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_26]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_26]\n    at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_26]\nCaused by: javax.ejb.EJBTransactionRolledbackException: Transaction rolled back\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleEndTransactionException(CMTTxInterceptor.java:115) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:95) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:232) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:32) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ee.component.TCCLInterceptor.processInvocation(TCCLInterceptor.java:45) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:173) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n    at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:72) [jboss-as-ee-7.1.1.Final.jar:7.1.1.Final]\n    at com.peter.ejb.CreditcardFacadeLocal$$$view2.addCreditCard(Unknown Source) [classes:]\n    at com.peter.service.CreditCardService.addCreditCard(CreditCardService.java:56) [classes:]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.6.0_26]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [rt.jar:1.6.0_26]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [rt.jar:1.6.0_26]\n    at java.lang.reflect.Method.invoke(Method.java:597) [rt.jar:1.6.0_26]\n    at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:173) [cxf-2.4.1.jar:2.4.1]\n    at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:89) [cxf-2.4.1.jar:2.4.1]\n    ... 15 more\nCaused by: javax.transaction.RollbackException: ARJUNA016053: Could not commit transaction.\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1177)\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:117)\n    at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:75)\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:92) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    ... 43 more\nCaused by: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection\n    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1361) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1289) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1295) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.ejb.AbstractEntityManagerImpl$CallbackExceptionMapperImpl.mapManagedFlushFailure(AbstractEntityManagerImpl.java:1481) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorImpl.beforeCompletion(SynchronizationCallbackCoordinatorImpl.java:109) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.synchronization.internal.RegisteredSynchronization.beforeCompletion(RegisteredSynchronization.java:53) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:76)\n    at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:273)\n    at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:93)\n    at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:164)\n    at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1165)\n    ... 46 more\nCaused by: org.hibernate.exception.JDBCConnectionException: Could not open connection\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:131) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.extractPhysicalConnection(ConnectionProxyHandler.java:82) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.continueInvocation(ConnectionProxyHandler.java:138) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at $Proxy96.prepareStatement(Unknown Source)    at org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.buildBatchStatement(AbstractBatchImpl.java:144) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.getBatchStatement(AbstractBatchImpl.java:127) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2827) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3290) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:80) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:272) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:264) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:186) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:326) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1081) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:315) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.synchronization.internal.SynchronizationCallbackCoordinatorImpl.beforeCompletion(SynchronizationCallbackCoordinatorImpl.java:104) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    ... 52 more\nCaused by: java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@//localhost:1521/orcl\n    at java.sql.DriverManager.getConnection(DriverManager.java:602) [rt.jar:1.6.0_26]\n    at java.sql.DriverManager.getConnection(DriverManager.java:154) [rt.jar:1.6.0_26]\n    at org.hibernate.service.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:173) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    ... 70 more\n</code></pre>\n\n<p>Oracle Database Version: 11.2.0. </p>\n\n<p>Does driver version need to match with database version?</p>\n\n<p>EDIT:</p>\n\n<ol>\n<li><p>How to trace which file path the program load the driver from? This enhance me to find the root cause. Thanks.</p></li>\n<li><p>How to enable the ojdbc6-g logging? I'm tried follow this <a href=\"http://lokeshtc.blogspot.com/2012/01/enabling-and-using-jdbc-logging.html\">Oracle_JDBC</a>\nbut I do not know how to complete it. How to set the java system property globally?\nI know that environment variable may not a good choice. Any other idea? \nI just want to add -Doracle.jdbc.Trace=true and -Djava.util.logging.config.file to jvm creation when using this java. Is it set up oracle database during the startup?</p></li>\n<li><p>How to enable hibernate logging? </p></li>\n<li><p>I'm using Hibernate-4.1.1 and JBoss 7.1.</p></li>\n</ol>\n\n<p>Please help. </p>\n\n<p>Thanks.     </p>\n"},{"tags":["java","spring","maven","pom.xml"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1693827770,"post_id":77037115,"comment_id":135807314,"body_markdown":"Spring 3.2 does not support Java 1.8. Are you sure that you want to upgrade to a Spring version that was released more than a decade ago (in December 2012)?","body":"Spring 3.2 does not support Java 1.8. Are you sure that you want to upgrade to a Spring version that was released more than a decade ago (in December 2012)?"},{"owner":{"account_id":25278243,"reputation":1,"user_id":19106493,"display_name":"jack"},"score":0,"creation_date":1693829339,"post_id":77037115,"comment_id":135807631,"body_markdown":"@ThomasKl&#228;ger i wanted to update it to highest version of 3.2.X so was going step by step","body":"@ThomasKl&#228;ger i wanted to update it to highest version of 3.2.X so was going step by step"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1693834081,"post_id":77037115,"comment_id":135808579,"body_markdown":"When you want to use Spring 3.2 (even the highest version of Spring 3.2) you must use Java 1.7 (not Java 1.8 or any later version like Java 17). If you want to use Java 1.8 you must upgrade to at least Spring 4.0. If you want to do it in steps then you need to install Java 1.7 for the step from Spring 3.1 to Spring 3.2.","body":"When you want to use Spring 3.2 (even the highest version of Spring 3.2) you must use Java 1.7 (not Java 1.8 or any later version like Java 17). If you want to use Java 1.8 you must upgrade to at least Spring 4.0. If you want to do it in steps then you need to install Java 1.7 for the step from Spring 3.1 to Spring 3.2."}],"owner":{"account_id":25278243,"reputation":1,"user_id":19106493,"display_name":"jack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693827686,"answer_count":0,"score":0,"last_activity_date":1693824587,"creation_date":1693824587,"question_id":77037115,"body_markdown":"im trying to upgrade my spirng verison from 3.1.1.RELEASE TO 3.2.0.RELEASE \r\n\r\nhere below are my pom.xml and spring-security.xml \r\n\r\npom.xml-\\&gt;\r\n\r\n```\r\n\r\n\r\n  &lt;properties&gt;\r\n     &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n     &lt;spring.version&gt;3.2.0.RELEASE&lt;/spring.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.0.RELEASE&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n&lt;!--                &lt;exclusion&gt;--&gt;\r\n&lt;!--                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;--&gt;\r\n&lt;!--                    &lt;artifactId&gt;spring-asm&lt;/artifactId&gt;--&gt;\r\n&lt;!--                &lt;/exclusion&gt;--&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n          \r\n        &lt;/dependency&gt;\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            \r\n        &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n           \r\n        &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n           \r\n        &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n           \r\n        &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            \r\n        &lt;/dependency&gt;\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\r\n           \r\n        &lt;/dependency&gt;\r\n\r\n           &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\r\n           \r\n        &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\r\n           \r\n        &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.11&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nhere is spring.security.xml -\\&gt;\r\n\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans:beans xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;              xmlns:security=&quot;http://www.springframework.org/schema/security&quot;              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;              xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd                                  http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.1.xsd&quot;&gt;      &lt;security:http authentication-manager-ref=&quot;authenticationManager&quot;                    create-session=&quot;never&quot;&gt;         &lt;security:form-login authentication-failure-url=&quot;/start&quot; login-page=&quot;/start&quot; /&gt;         &lt;security:logout /&gt;     &lt;/security:http&gt;      &lt;security:global-method-security authentication-manager-ref=&quot;authenticationManager&quot;                                      pre-post-annotations=&quot;enabled&quot; /&gt; &lt;/beans:beans&gt;  im getting this following error while trying to run the application  org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\BMG\\Project\\MSOL\\bmg-songs-msol\\target\\msol-2.1.1\\WEB-INF\\classes\\com\\bmg\\repository\\elastic\\crud\\ESCrudRepository.class]; nested exception is java.lang.IllegalArgumentException \tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:281) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:242) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:123) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:218) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:153) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:139) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE] Caused by: java.lang.IllegalArgumentException: null \tat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:52) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:80) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:101) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE] \tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:257) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE] \t... 59 common frames omitted\r\n```\r\n\r\nim trying to upgrade my spring version from 3.1.1.RELEASE TO 3.2.0.RELEASE im getting the following exceptions while building also im getting some exceptions when i try to build it skippin tests it build properly while running its giving these exceptions\r\n\r\n```\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\BMG\\Project\\MSOL\\bmg-songs-msol\\target\\msol-2.1.1\\WEB-INF\\classes\\com\\hub\\repository\\hubcrd\\hubsim\\HubRepository.class]; nested exception is java.lang.IllegalArgumentException\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:281) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:242) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:123) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:218) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:153) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:139) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\r\n\r\n\r\nCaused by: java.lang.IllegalArgumentException: null\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:52) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:80) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:101) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:257) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\r\n\t... 59 common frames omitted\r\n```","title":"Spring upgrade from 3.1.1.RELEASE TO 3.2.0.RELEASE","body":"<p>im trying to upgrade my spirng verison from 3.1.1.RELEASE TO 3.2.0.RELEASE</p>\n<p>here below are my pom.xml and spring-security.xml</p>\n<p>pom.xml-&gt;</p>\n<pre><code>\n\n  &lt;properties&gt;\n     &lt;java.version&gt;1.8&lt;/java.version&gt;\n     &lt;spring.version&gt;3.2.0.RELEASE&lt;/spring.version&gt;\n    &lt;/properties&gt;\n\n &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;1.3.0.RELEASE&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n&lt;!--                &lt;exclusion&gt;--&gt;\n&lt;!--                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;--&gt;\n&lt;!--                    &lt;artifactId&gt;spring-asm&lt;/artifactId&gt;--&gt;\n&lt;!--                &lt;/exclusion&gt;--&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n          \n        &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            \n        &lt;/dependency&gt;\n      &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n      &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n           \n        &lt;/dependency&gt;\n      &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n           \n        &lt;/dependency&gt;\n     &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n           \n        &lt;/dependency&gt;\n     &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            \n        &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\n           \n        &lt;/dependency&gt;\n\n           &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\n           \n        &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4.RELEASE&lt;/version&gt;\n           \n        &lt;/dependency&gt;\n &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>here is spring.security.xml -&gt;</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans:beans xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;              xmlns:security=&quot;http://www.springframework.org/schema/security&quot;              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;              xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd                                  http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.1.xsd&quot;&gt;      &lt;security:http authentication-manager-ref=&quot;authenticationManager&quot;                    create-session=&quot;never&quot;&gt;         &lt;security:form-login authentication-failure-url=&quot;/start&quot; login-page=&quot;/start&quot; /&gt;         &lt;security:logout /&gt;     &lt;/security:http&gt;      &lt;security:global-method-security authentication-manager-ref=&quot;authenticationManager&quot;                                      pre-post-annotations=&quot;enabled&quot; /&gt; &lt;/beans:beans&gt;  im getting this following error while trying to run the application  org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\BMG\\Project\\MSOL\\bmg-songs-msol\\target\\msol-2.1.1\\WEB-INF\\classes\\com\\bmg\\repository\\elastic\\crud\\ESCrudRepository.class]; nested exception is java.lang.IllegalArgumentException   at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:281) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]   at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:242) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]  at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:123) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]     at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:218) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]     at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:153) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]   at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:139) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE] Caused by: java.lang.IllegalArgumentException: null   at org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]    at org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]    at org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:52) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]  at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:80) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]     at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:101) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]  at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:257) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]   ... 59 common frames omitted\n</code></pre>\n<p>im trying to upgrade my spring version from 3.1.1.RELEASE TO 3.2.0.RELEASE im getting the following exceptions while building also im getting some exceptions when i try to build it skippin tests it build properly while running its giving these exceptions</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [D:\\BMG\\Project\\MSOL\\bmg-songs-msol\\target\\msol-2.1.1\\WEB-INF\\classes\\com\\hub\\repository\\hubcrd\\hubsim\\HubRepository.class]; nested exception is java.lang.IllegalArgumentException\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:281) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:242) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:123) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:218) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:153) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:139) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n\n\n\nCaused by: java.lang.IllegalArgumentException: null\n    at org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:52) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:80) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:101) ~[spring-core-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:257) ~[spring-context-3.2.0.RELEASE.jar:3.2.0.RELEASE]\n    ... 59 common frames omitted\n</code></pre>\n"},{"tags":["java","android","kotlin","exoplayer2.x","android-media3"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693824284,"creation_date":1693587406,"answer_id":77024856,"question_id":77003559,"body_markdown":"To understand more why your ExoPlayer is not adapting to the network conditions as you expect, you could start with including the bandwidth meter in the track selector. That helps ExoPlayer to make adaptive decisions.\r\n\r\n```java\r\nAdaptiveTrackSelection.Factory videoTrackSelectionFactory =  new AdaptiveTrackSelection.Factory(bandwidthMeter);\r\n```\r\n\r\n\r\nAlthough the [`DefaultLoadControl`](https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/DefaultLoadControl.html) should be sufficient in most cases, you might want to set custom values for buffer size, buffer duration, etc., to fine-tune the adaptive behavior.\r\n\r\nYou would need to update the `initialisePlayer` and `playAudio` methods with the bandwidth meter included in the track selection:\r\n\r\n```java\r\nprivate void initialisePlayer(){\r\n    TrackSelector trackSelector = new DefaultTrackSelector(this);\r\n    LoadControl loadControl = new DefaultLoadControl();\r\n    exoPlayer = new ExoPlayer.Builder(this)\r\n            .setTrackSelector(trackSelector)\r\n            .setLoadControl(loadControl)\r\n            .build();\r\n    exoPlayer.addListener(listener);\r\n    exoPlayer.addAnalyticsListener(new EventLogger(trackSelector));\r\n    exoPlayer.setAudioAttributes(audioAttributes, /* handleAudioFocus= */ true);\r\n    exoPlayer.setHandleAudioBecomingNoisy(true);\r\n}\r\n\r\nprivate void playAudio(){\r\n    DefaultBandwidthMeter bandwidthMeter =  DefaultBandwidthMeter.getSingletonInstance(this);\r\n    DataSource.Factory dataSourceFactory = new DefaultDataSource.Factory(this)\r\n            .setTransferListener(bandwidthMeter);\r\n    \r\n    HlsMediaSource audioSource = new HlsMediaSource.Factory(dataSourceFactory)\r\n                .setLoadErrorHandlingPolicy(new CustomPolicy())\r\n                .createMediaSource(MediaItem.fromUri(&quot;my-hls-master-url&quot;));\r\n\r\n    exoPlayer.setMediaSource(audioSource);\r\n    exoPlayer.prepare();\r\n    exoPlayer.setPlayWhenReady(true);\r\n}\r\n```\r\n\r\n\r\nThe [`DefaultBandwidthMeter`](https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.html) should provide you with bandwidth estimates. You could log these to see if they change when you switch networks. If the bandwidth estimates do not change, that might be the issue.  \r\nEven though you can&#39;t inject the `BandwidthMeter` into the `AdaptiveTrackSelection.Factory`, you can still add an event listener to it to log changes in estimated bandwidth.\r\n\r\n```java\r\nbandwidthMeter.addEventListener(new Handler(Looper.getMainLooper()), new BandwidthMeter.EventListener() {\r\n    @Override\r\n    public void onBandwidthSample(int elapsedMs, long bytes, long bitrate) {\r\n    Log.d(&quot;BANDWIDTH_SAMPLE&quot;, &quot;bitrate = &quot; + bitrate);\r\n    }\r\n});\r\n```\r\n\r\n----\r\n\r\n&gt; I have added the `bandwidthMeter.addEventListener` and have seen that bitrate logged is always returning a higher number like - 3200000 or 3099619 or 2929804 and even when I change to 2G network the bitrate is something between 117245 and 165935.  \r\nBut exoplayer is still not switching the audio variants.\r\n\r\nYour bandwidth estimate on a 2G network is showing values like 117245 and 165935 so... ExoPlayer thinks the bandwidth is sufficient to play the highest bitrate available in your master playlist, which has a max bitrate of 320000 according to what you posted.\r\n\r\nTest if you can manually set the track to confirm whether the issue is with ExoPlayer&#39;s adaptive mechanism or something else.\r\n\r\n```java\r\nMappingTrackSelector.MappedTrackInfo mappedTrackInfo = ((DefaultTrackSelector) trackSelector).getCurrentMappedTrackInfo();\r\nif (mappedTrackInfo != null) {\r\n    int rendererIndex = 0; // For audio. Change it as per your needs\r\n    int trackIndexToBeUsed = 1; // Use 0, 1, 2... based on available tracks\r\n    DefaultTrackSelector.SelectionOverride override = new DefaultTrackSelector.SelectionOverride(trackIndexToBeUsed, 0);\r\n    DefaultTrackSelector.ParametersBuilder parametersBuilder = trackSelector.buildUponParameters();\r\n    parametersBuilder.setSelectionOverride(rendererIndex, mappedTrackInfo.getTrackGroups(rendererIndex), override);\r\n    trackSelector.setParameters(parametersBuilder);\r\n}\r\n```\r\n  \r\nAdd the above code snippet just after preparing the player with `exoPlayer.prepare();` to manually set the track.\r\n\r\n----\r\n\r\n&gt; I have used the codes `MappingTrackSelector.MappedTrackInfo .... trackSelector.setParameters(parametersBuilder);` right after `exoplayer.prepare();` but still couldn&#39;t find any difference. \r\n&gt;\r\n&gt; Exoplayer still uses the first audio variant in the initial load and then immediately move to the highest variant audio and never changes the audio variant irrespective of the bandwidth. \r\n&gt;\r\n&gt; I can see bitrate being logged by bandwidthmeter as - 990000 in 2G network for multiple times initially, and then it changes slowly and subsequently to lower bitrates like 39000 to 189000 in the same network.\r\n\r\nSometimes, issues with track selection can be related to when exactly you are calling certain methods. Make sure you are calling the manual track selection code *after* the `exoPlayer.prepare()` call has completed. You might want to place the track selection code in a `Player.Listener` callback when the player state changes to `Player.STATE_READY`.\r\n\r\n```java\r\nexoPlayer.addListener(new Player.Listener() {\r\n    @Override\r\n    public void onPlayerStateChanged(boolean playWhenReady, int playbackState) {\r\n        if (playbackState == Player.STATE_READY) {\r\n            // Manual track selection code here\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nAlthough ExoPlayer should handle this itself, for debugging purposes, you could explicitly set some parameters for adaptation, such as the minimum duration of media that needs to be buffered for playback to start or continue. ExoPlayer allows you to set such thresholds through `DefaultLoadControl`.\r\n\r\n----\r\n\r\n&gt; Now I can manually select the track, but it selects only the lower variant of audio track now, even in 5G Network.\r\n\r\nIf your manual track selection is successful but only results in the player using the lower bitrate track even on a high-speed network like 5G, this suggests that the track selection override is taking precedence over ExoPlayer&#39;s own adaptive mechanisms. When you set an explicit track selection override, ExoPlayer will stick with that choice and will not adapt based on network conditions.\r\n\r\nSo, remove the manual override for adaptation and try a conditional manual override: Implement logic to manually switch tracks based on certain conditions, such as if the bandwidth is below a particular threshold. In this way, you could have a mix of manual and adaptive behavior.\r\n\r\n```java\r\nbandwidthMeter.addEventListener(new Handler(Looper.getMainLooper()), new BandwidthMeter.EventListener() {\r\n    @Override\r\n    public void onBandwidthSample(int elapsedMs, long bytes, long bitrate) {\r\n        if (bitrate &gt; SOME_THRESHOLD) {\r\n            // Revert to adaptive track selection\r\n            DefaultTrackSelector.ParametersBuilder parametersBuilder = trackSelector.buildUponParameters();\r\n            parametersBuilder.clearSelectionOverrides(/* rendererIndex= */ 0);\r\n            trackSelector.setParameters(parametersBuilder);\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nAgain, this is for testing: while it is possible to mix manual and adaptive track selection, doing so can make the behavior of your player harder to predict and debug.\r\n\r\n----\r\n\r\n&gt; Whenever the bitrate is low with my manual track selection the lowest bitrate is selected and when the bitrate is above my threshold then the adaptive behaviour selects only the highest bitrate, but the bitrate in between the two is not selected. \r\n&gt;  \r\n&gt; The issue is adaptive track selection is still not working properly and I have seen sometimes the bitrate is 102773336, with internet speed having 32 Mbps. The bitrate returned in `onBandwidthSample` is also wrong what I believe.\r\n&gt; \r\n&gt; Also, if the adaptive track selection doesn&#39;t work then only way what I am thinking is to do all track selection manually based on the bitrate from `onBandwidthSample` method in `BandwidthMeter.EventListener`. But the wrong bitrate returned from the method is also an another issue in this.\r\n\r\nAs a last resort, if ExoPlayer&#39;s adaptive algorithm is not meeting your needs and you are also not getting reliable bandwidth estimates, you may indeed have to take over complete control of track selection. \r\n\r\nIn such a case, you can write a logic that maps bandwidth estimates to specific tracks. However, make sure to apply some form of smoothing or averaging to the bandwidth estimates to avoid rapid track switching, which can be disruptive to the user.\r\n\r\n```java\r\nbandwidthMeter.addEventListener(new Handler(Looper.getMainLooper()), new BandwidthMeter.EventListener() {\r\n    @Override\r\n    public void onBandwidthSample(int elapsedMs, long bytes, long bitrate) {\r\n        // Your own logic to select a track based on the current bitrate\r\n        int trackIndexToBeUsed = mapBitrateToTrack(bitrate);  // Implement this function based on your requirements\r\n        DefaultTrackSelector.SelectionOverride override = new DefaultTrackSelector.SelectionOverride(trackIndexToBeUsed, 0);\r\n        DefaultTrackSelector.ParametersBuilder parametersBuilder = trackSelector.buildUponParameters();\r\n        parametersBuilder.setSelectionOverride(0, trackGroups, override);\r\n        trackSelector.setParameters(parametersBuilder);\r\n    }\r\n});\r\n```\r\n\r\n---\r\n\r\n\r\nAs an alternative, you could try and use Android&#39;s network capabilities: The [`ConnectivityManager` class](developer.android.com/…) in Android can provide general information about the type and speed of the current network connection. This information is less granular than a bandwidth estimate but can still be useful for choosing between high, medium, and low-quality streams.\r\n\r\n```java\r\nConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\nNetworkCapabilities nc = cm.getNetworkCapabilities(cm.getActiveNetwork());\r\nint downSpeed = nc.getLinkDownstreamBandwidthKbps();\r\nint upSpeed = nc.getLinkUpstreamBandwidthKbps();\r\n```\r\n\r\nThat or use a third-party network measurement library, like [`square/okhttp`](https://github.com/square/okhttp).\r\n\r\n---\r\n\r\nYou could also implement your own bandwidth estimation logic.  \r\nOne approach is to download a small file at the beginning of the application and measure the download speed. Be cautious with this approach as it introduces latency and could vary based on server speeds, concurrent network operations, or other factors.","title":"Exoplayer HLS Adaptive Streaming selecting track variant per network bandwidth","body":"<p>To understand more why your ExoPlayer is not adapting to the network conditions as you expect, you could start with including the bandwidth meter in the track selector. That helps ExoPlayer to make adaptive decisions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>AdaptiveTrackSelection.Factory videoTrackSelectionFactory =  new AdaptiveTrackSelection.Factory(bandwidthMeter);\n</code></pre>\n<p>Although the <a href=\"https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/DefaultLoadControl.html\" rel=\"nofollow noreferrer\"><code>DefaultLoadControl</code></a> should be sufficient in most cases, you might want to set custom values for buffer size, buffer duration, etc., to fine-tune the adaptive behavior.</p>\n<p>You would need to update the <code>initialisePlayer</code> and <code>playAudio</code> methods with the bandwidth meter included in the track selection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void initialisePlayer(){\n    TrackSelector trackSelector = new DefaultTrackSelector(this);\n    LoadControl loadControl = new DefaultLoadControl();\n    exoPlayer = new ExoPlayer.Builder(this)\n            .setTrackSelector(trackSelector)\n            .setLoadControl(loadControl)\n            .build();\n    exoPlayer.addListener(listener);\n    exoPlayer.addAnalyticsListener(new EventLogger(trackSelector));\n    exoPlayer.setAudioAttributes(audioAttributes, /* handleAudioFocus= */ true);\n    exoPlayer.setHandleAudioBecomingNoisy(true);\n}\n\nprivate void playAudio(){\n    DefaultBandwidthMeter bandwidthMeter =  DefaultBandwidthMeter.getSingletonInstance(this);\n    DataSource.Factory dataSourceFactory = new DefaultDataSource.Factory(this)\n            .setTransferListener(bandwidthMeter);\n    \n    HlsMediaSource audioSource = new HlsMediaSource.Factory(dataSourceFactory)\n                .setLoadErrorHandlingPolicy(new CustomPolicy())\n                .createMediaSource(MediaItem.fromUri(&quot;my-hls-master-url&quot;));\n\n    exoPlayer.setMediaSource(audioSource);\n    exoPlayer.prepare();\n    exoPlayer.setPlayWhenReady(true);\n}\n</code></pre>\n<p>The <a href=\"https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.html\" rel=\"nofollow noreferrer\"><code>DefaultBandwidthMeter</code></a> should provide you with bandwidth estimates. You could log these to see if they change when you switch networks. If the bandwidth estimates do not change, that might be the issue.<br />\nEven though you can't inject the <code>BandwidthMeter</code> into the <code>AdaptiveTrackSelection.Factory</code>, you can still add an event listener to it to log changes in estimated bandwidth.</p>\n<pre class=\"lang-java prettyprint-override\"><code>bandwidthMeter.addEventListener(new Handler(Looper.getMainLooper()), new BandwidthMeter.EventListener() {\n    @Override\n    public void onBandwidthSample(int elapsedMs, long bytes, long bitrate) {\n    Log.d(&quot;BANDWIDTH_SAMPLE&quot;, &quot;bitrate = &quot; + bitrate);\n    }\n});\n</code></pre>\n<hr />\n<blockquote>\n<p>I have added the <code>bandwidthMeter.addEventListener</code> and have seen that bitrate logged is always returning a higher number like - 3200000 or 3099619 or 2929804 and even when I change to 2G network the bitrate is something between 117245 and 165935.<br />\nBut exoplayer is still not switching the audio variants.</p>\n</blockquote>\n<p>Your bandwidth estimate on a 2G network is showing values like 117245 and 165935 so... ExoPlayer thinks the bandwidth is sufficient to play the highest bitrate available in your master playlist, which has a max bitrate of 320000 according to what you posted.</p>\n<p>Test if you can manually set the track to confirm whether the issue is with ExoPlayer's adaptive mechanism or something else.</p>\n<pre class=\"lang-java prettyprint-override\"><code>MappingTrackSelector.MappedTrackInfo mappedTrackInfo = ((DefaultTrackSelector) trackSelector).getCurrentMappedTrackInfo();\nif (mappedTrackInfo != null) {\n    int rendererIndex = 0; // For audio. Change it as per your needs\n    int trackIndexToBeUsed = 1; // Use 0, 1, 2... based on available tracks\n    DefaultTrackSelector.SelectionOverride override = new DefaultTrackSelector.SelectionOverride(trackIndexToBeUsed, 0);\n    DefaultTrackSelector.ParametersBuilder parametersBuilder = trackSelector.buildUponParameters();\n    parametersBuilder.setSelectionOverride(rendererIndex, mappedTrackInfo.getTrackGroups(rendererIndex), override);\n    trackSelector.setParameters(parametersBuilder);\n}\n</code></pre>\n<p>Add the above code snippet just after preparing the player with <code>exoPlayer.prepare();</code> to manually set the track.</p>\n<hr />\n<blockquote>\n<p>I have used the codes <code>MappingTrackSelector.MappedTrackInfo .... trackSelector.setParameters(parametersBuilder);</code> right after <code>exoplayer.prepare();</code> but still couldn't find any difference.</p>\n<p>Exoplayer still uses the first audio variant in the initial load and then immediately move to the highest variant audio and never changes the audio variant irrespective of the bandwidth.</p>\n<p>I can see bitrate being logged by bandwidthmeter as - 990000 in 2G network for multiple times initially, and then it changes slowly and subsequently to lower bitrates like 39000 to 189000 in the same network.</p>\n</blockquote>\n<p>Sometimes, issues with track selection can be related to when exactly you are calling certain methods. Make sure you are calling the manual track selection code <em>after</em> the <code>exoPlayer.prepare()</code> call has completed. You might want to place the track selection code in a <code>Player.Listener</code> callback when the player state changes to <code>Player.STATE_READY</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>exoPlayer.addListener(new Player.Listener() {\n    @Override\n    public void onPlayerStateChanged(boolean playWhenReady, int playbackState) {\n        if (playbackState == Player.STATE_READY) {\n            // Manual track selection code here\n        }\n    }\n});\n</code></pre>\n<p>Although ExoPlayer should handle this itself, for debugging purposes, you could explicitly set some parameters for adaptation, such as the minimum duration of media that needs to be buffered for playback to start or continue. ExoPlayer allows you to set such thresholds through <code>DefaultLoadControl</code>.</p>\n<hr />\n<blockquote>\n<p>Now I can manually select the track, but it selects only the lower variant of audio track now, even in 5G Network.</p>\n</blockquote>\n<p>If your manual track selection is successful but only results in the player using the lower bitrate track even on a high-speed network like 5G, this suggests that the track selection override is taking precedence over ExoPlayer's own adaptive mechanisms. When you set an explicit track selection override, ExoPlayer will stick with that choice and will not adapt based on network conditions.</p>\n<p>So, remove the manual override for adaptation and try a conditional manual override: Implement logic to manually switch tracks based on certain conditions, such as if the bandwidth is below a particular threshold. In this way, you could have a mix of manual and adaptive behavior.</p>\n<pre class=\"lang-java prettyprint-override\"><code>bandwidthMeter.addEventListener(new Handler(Looper.getMainLooper()), new BandwidthMeter.EventListener() {\n    @Override\n    public void onBandwidthSample(int elapsedMs, long bytes, long bitrate) {\n        if (bitrate &gt; SOME_THRESHOLD) {\n            // Revert to adaptive track selection\n            DefaultTrackSelector.ParametersBuilder parametersBuilder = trackSelector.buildUponParameters();\n            parametersBuilder.clearSelectionOverrides(/* rendererIndex= */ 0);\n            trackSelector.setParameters(parametersBuilder);\n        }\n    }\n});\n</code></pre>\n<p>Again, this is for testing: while it is possible to mix manual and adaptive track selection, doing so can make the behavior of your player harder to predict and debug.</p>\n<hr />\n<blockquote>\n<p>Whenever the bitrate is low with my manual track selection the lowest bitrate is selected and when the bitrate is above my threshold then the adaptive behaviour selects only the highest bitrate, but the bitrate in between the two is not selected.</p>\n<p>The issue is adaptive track selection is still not working properly and I have seen sometimes the bitrate is 102773336, with internet speed having 32 Mbps. The bitrate returned in <code>onBandwidthSample</code> is also wrong what I believe.</p>\n<p>Also, if the adaptive track selection doesn't work then only way what I am thinking is to do all track selection manually based on the bitrate from <code>onBandwidthSample</code> method in <code>BandwidthMeter.EventListener</code>. But the wrong bitrate returned from the method is also an another issue in this.</p>\n</blockquote>\n<p>As a last resort, if ExoPlayer's adaptive algorithm is not meeting your needs and you are also not getting reliable bandwidth estimates, you may indeed have to take over complete control of track selection.</p>\n<p>In such a case, you can write a logic that maps bandwidth estimates to specific tracks. However, make sure to apply some form of smoothing or averaging to the bandwidth estimates to avoid rapid track switching, which can be disruptive to the user.</p>\n<pre class=\"lang-java prettyprint-override\"><code>bandwidthMeter.addEventListener(new Handler(Looper.getMainLooper()), new BandwidthMeter.EventListener() {\n    @Override\n    public void onBandwidthSample(int elapsedMs, long bytes, long bitrate) {\n        // Your own logic to select a track based on the current bitrate\n        int trackIndexToBeUsed = mapBitrateToTrack(bitrate);  // Implement this function based on your requirements\n        DefaultTrackSelector.SelectionOverride override = new DefaultTrackSelector.SelectionOverride(trackIndexToBeUsed, 0);\n        DefaultTrackSelector.ParametersBuilder parametersBuilder = trackSelector.buildUponParameters();\n        parametersBuilder.setSelectionOverride(0, trackGroups, override);\n        trackSelector.setParameters(parametersBuilder);\n    }\n});\n</code></pre>\n<hr />\n<p>As an alternative, you could try and use Android's network capabilities: The <code>ConnectivityManager</code> class in Android can provide general information about the type and speed of the current network connection. This information is less granular than a bandwidth estimate but can still be useful for choosing between high, medium, and low-quality streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\nNetworkCapabilities nc = cm.getNetworkCapabilities(cm.getActiveNetwork());\nint downSpeed = nc.getLinkDownstreamBandwidthKbps();\nint upSpeed = nc.getLinkUpstreamBandwidthKbps();\n</code></pre>\n<p>That or use a third-party network measurement library, like <a href=\"https://github.com/square/okhttp\" rel=\"nofollow noreferrer\"><code>square/okhttp</code></a>.</p>\n<hr />\n<p>You could also implement your own bandwidth estimation logic.<br />\nOne approach is to download a small file at the beginning of the application and measure the download speed. Be cautious with this approach as it introduces latency and could vary based on server speeds, concurrent network operations, or other factors.</p>\n"}],"owner":{"account_id":15559838,"reputation":553,"user_id":11225221,"display_name":"MrinmoyMk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77024856,"answer_count":1,"score":1,"last_activity_date":1693824284,"creation_date":1693342222,"question_id":77003559,"body_markdown":"I am using Exoplayer in my Android app for streaming hls audio, I am trying to play adaptive stream using my master HLS playlist which contains various variant of the same audio track but in different bitrate as per suitable available network bandwidth. \r\n\r\nBut what i have seen, the Exoplayer starts playing with the initial variant in the master playlist, and then immediately moves to the highest available bitrate variant of audio, every time. It doesn&#39;t uses any of the other bitrate even if I have changed my network to 2G, 3G or any other lower bandwidth, it doesn&#39;t adapts to lower bitrate in any case and follows the above pattern. It will keep buffering for very long, but never use any lower track variant as per the bandwidth.\r\n\r\nHere&#39;s the code of my Exoplayer implementation - \r\n```\r\nprivate void initialisePlayer(){\r\n        if(exoPlayer == null) {\r\n            AdaptiveTrackSelection.Factory videoTrackSelectionFactory =  new AdaptiveTrackSelection.Factory();\r\n            TrackSelector trackSelector = new DefaultTrackSelector(this, videoTrackSelectionFactory);\r\n            LoadControl loadControl = new DefaultLoadControl();\r\n            exoPlayer = new ExoPlayer.Builder(getApplicationContext())\r\n                    .setTrackSelector(trackSelector).setLoadControl(loadControl).build();\r\n            exoPlayer.addListener(listener);\r\n            exoPlayer.setAudioAttributes(audioAttributes, /* handleAudioFocus= */ true);\r\n            exoPlayer.setHandleAudioBecomingNoisy(true);\r\n        }\r\n    }\r\n\r\n   private void playAudio(){\r\n\r\n    DefaultBandwidthMeter bandwidthMeter =  DefaultBandwidthMeter.getSingletonInstance(this);\r\n    DataSource.Factory dataSourceFactory = new DefaultDataSource.Factory(this).setTransferListener(bandwidthMeter);\r\n\r\n    HlsMediaSource audioSource = HlsMediaSource.Factory(dataSourceFactory)\r\n                    .setLoadErrorHandlingPolicy(new CustomPolicy())\r\n                    .createMediaSource(MediaItem.fromUri(&quot;my-hls-master-url&quot;));\r\n\r\n    exoPlayer.setMediaSource(audioSource);\r\n    exoPlayer.prepare();\r\n    exoPlayer.setPlayWhenReady(true);\r\n\r\n  \r\n   }\r\n```\r\nI am using - \r\n\r\n```\r\nimplementation &#39;androidx.media3:media3-exoplayer:1.1.1&#39;\r\nimplementation &quot;androidx.media3:media3-exoplayer-hls:1.1.1&quot;\r\n```\r\n\r\nI have my master playlist as like - \r\n\r\n\r\n```#EXTM3U\r\n#EXT-X-VERSION:4\r\n\r\n# Audio Renditions\r\n\r\n#EXT-X-STREAM-INF:BANDWIDTH=54000,CODECS=&quot;mp4a.40.5&quot;\r\nsongs54/audio.m3u8\r\n\r\n#EXT-X-STREAM-INF:BANDWIDTH=84000,CODECS=&quot;mp4a.40.5&quot;\r\nsongs84/audio.m3u8\r\n\r\n#EXT-X-STREAM-INF:BANDWIDTH=126000,CODECS=&quot;mp4a.40.2&quot;\r\nsongs126/audio.m3u8\r\n\r\n\r\n#EXT-X-STREAM-INF:BANDWIDTH=160000,CODECS=&quot;mp4a.40.5&quot;\r\nsongs160/audio.m3u8\r\n\r\n#EXT-X-STREAM-INF:BANDWIDTH=320000,CODECS=&quot;mp4a.40.2&quot;\r\nsongs320/audio.m3u8\r\n```\r\n\r\nI have been trying to fix this from last 2 days, any help will be really appreciated. ","title":"Exoplayer HLS Adaptive Streaming selecting track variant per network bandwidth","body":"<p>I am using Exoplayer in my Android app for streaming hls audio, I am trying to play adaptive stream using my master HLS playlist which contains various variant of the same audio track but in different bitrate as per suitable available network bandwidth.</p>\n<p>But what i have seen, the Exoplayer starts playing with the initial variant in the master playlist, and then immediately moves to the highest available bitrate variant of audio, every time. It doesn't uses any of the other bitrate even if I have changed my network to 2G, 3G or any other lower bandwidth, it doesn't adapts to lower bitrate in any case and follows the above pattern. It will keep buffering for very long, but never use any lower track variant as per the bandwidth.</p>\n<p>Here's the code of my Exoplayer implementation -</p>\n<pre><code>private void initialisePlayer(){\n        if(exoPlayer == null) {\n            AdaptiveTrackSelection.Factory videoTrackSelectionFactory =  new AdaptiveTrackSelection.Factory();\n            TrackSelector trackSelector = new DefaultTrackSelector(this, videoTrackSelectionFactory);\n            LoadControl loadControl = new DefaultLoadControl();\n            exoPlayer = new ExoPlayer.Builder(getApplicationContext())\n                    .setTrackSelector(trackSelector).setLoadControl(loadControl).build();\n            exoPlayer.addListener(listener);\n            exoPlayer.setAudioAttributes(audioAttributes, /* handleAudioFocus= */ true);\n            exoPlayer.setHandleAudioBecomingNoisy(true);\n        }\n    }\n\n   private void playAudio(){\n\n    DefaultBandwidthMeter bandwidthMeter =  DefaultBandwidthMeter.getSingletonInstance(this);\n    DataSource.Factory dataSourceFactory = new DefaultDataSource.Factory(this).setTransferListener(bandwidthMeter);\n\n    HlsMediaSource audioSource = HlsMediaSource.Factory(dataSourceFactory)\n                    .setLoadErrorHandlingPolicy(new CustomPolicy())\n                    .createMediaSource(MediaItem.fromUri(&quot;my-hls-master-url&quot;));\n\n    exoPlayer.setMediaSource(audioSource);\n    exoPlayer.prepare();\n    exoPlayer.setPlayWhenReady(true);\n\n  \n   }\n</code></pre>\n<p>I am using -</p>\n<pre><code>implementation 'androidx.media3:media3-exoplayer:1.1.1'\nimplementation &quot;androidx.media3:media3-exoplayer-hls:1.1.1&quot;\n</code></pre>\n<p>I have my master playlist as like -</p>\n<pre><code>#EXT-X-VERSION:4\n\n# Audio Renditions\n\n#EXT-X-STREAM-INF:BANDWIDTH=54000,CODECS=&quot;mp4a.40.5&quot;\nsongs54/audio.m3u8\n\n#EXT-X-STREAM-INF:BANDWIDTH=84000,CODECS=&quot;mp4a.40.5&quot;\nsongs84/audio.m3u8\n\n#EXT-X-STREAM-INF:BANDWIDTH=126000,CODECS=&quot;mp4a.40.2&quot;\nsongs126/audio.m3u8\n\n\n#EXT-X-STREAM-INF:BANDWIDTH=160000,CODECS=&quot;mp4a.40.5&quot;\nsongs160/audio.m3u8\n\n#EXT-X-STREAM-INF:BANDWIDTH=320000,CODECS=&quot;mp4a.40.2&quot;\nsongs320/audio.m3u8\n</code></pre>\n<p>I have been trying to fix this from last 2 days, any help will be really appreciated.</p>\n"},{"tags":["java","spring-boot","jhipster"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":1,"creation_date":1693825050,"post_id":77037070,"comment_id":135806820,"body_markdown":"Can you provide any [mcve]?","body":"Can you provide any <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1693863240,"post_id":77037070,"comment_id":135813111,"body_markdown":"You&#39;re right, so either you modify the generator and contribute to the project or you code it manually in your project.","body":"You&#39;re right, so either you modify the generator and contribute to the project or you code it manually in your project."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1693874419,"post_id":77037070,"comment_id":135813987,"body_markdown":"What like pattern do you want to use?","body":"What like pattern do you want to use?"}],"owner":{"account_id":21121216,"reputation":41,"user_id":15527204,"display_name":"Shiva Rena"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1693824218,"creation_date":1693824218,"question_id":77037070,"body_markdown":"JHipster Entity filtering itself has limitations, It seems that does not provide support &#39;LIKE&#39; operator. It only supports &#39;equal,&#39; &#39;notEqual,&#39; &#39;contains,&#39; &#39;does not contain,&#39; &#39;exist,&#39; and &#39;does not exist&#39; operations.How we can support like operator is there any way.Any suggestion will be helpful, \r\nThank you","title":"How can I filter entities in JHipster using the &#39;LIKE&#39; operator? It seems that JHipster does not natively support the &#39;LIKE&#39; operator","body":"<p>JHipster Entity filtering itself has limitations, It seems that does not provide support 'LIKE' operator. It only supports 'equal,' 'notEqual,' 'contains,' 'does not contain,' 'exist,' and 'does not exist' operations.How we can support like operator is there any way.Any suggestion will be helpful,\nThank you</p>\n"},{"tags":["java","string","integer"],"comments":[{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":2,"creation_date":1373367478,"post_id":17546466,"comment_id":25520991,"body_markdown":"Why should the be equal? One is a `Integer` object, the other a `String` object. That&#39;s a big difference... One represents a numeric value, the other a sequence of characters.","body":"Why should the be equal? One is a <code>Integer</code> object, the other a <code>String</code> object. That&#39;s a big difference... One represents a numeric value, the other a sequence of characters."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1373367510,"creation_date":1373367510,"answer_id":17546495,"question_id":17546466,"body_markdown":"An `Integer` will never be `equal` to a `String`.\r\n\r\nBoth classes have very strict `equals()` definitions that *only* accept objects of their respective types.\r\n\r\n* [`Integer.equals()`][1]:\r\n\r\n    &gt; The result is true if and only if the argument is not `null` and **is an `Integer` object** that contains the same int value as this object.\r\n* [`String.equals()`][2]:\r\n\r\n    &gt; The result is true if and only if the argument is not `null` and **is a `String` object** that represents the same sequence of characters as this object.\r\n\r\nThat&#39;s actually a quite common way to implement `equals()`: only objects of the same class (and occasionally subclasses) *can* be equal. Other implementations are possible, but are the exception.\r\n\r\nOne common exception are the collections [such as `List`][3]: every `List` implementation that follows the convention will return `true` when compared to *any other* implementation, if it has the same content in the same order.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#equals%28java.lang.Object%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals%28java.lang.Object%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/List.html#equals%28java.lang.Object%29","title":"Comparing String and Integer with equals","body":"<p>An <code>Integer</code> will never be <code>equal</code> to a <code>String</code>.</p>\n\n<p>Both classes have very strict <code>equals()</code> definitions that <em>only</em> accept objects of their respective types.</p>\n\n<ul>\n<li><p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#equals%28java.lang.Object%29\"><code>Integer.equals()</code></a>:</p>\n\n<blockquote>\n  <p>The result is true if and only if the argument is not <code>null</code> and <strong>is an <code>Integer</code> object</strong> that contains the same int value as this object.</p>\n</blockquote></li>\n<li><p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals%28java.lang.Object%29\"><code>String.equals()</code></a>:</p>\n\n<blockquote>\n  <p>The result is true if and only if the argument is not <code>null</code> and <strong>is a <code>String</code> object</strong> that represents the same sequence of characters as this object.</p>\n</blockquote></li>\n</ul>\n\n<p>That's actually a quite common way to implement <code>equals()</code>: only objects of the same class (and occasionally subclasses) <em>can</em> be equal. Other implementations are possible, but are the exception.</p>\n\n<p>One common exception are the collections <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#equals%28java.lang.Object%29\">such as <code>List</code></a>: every <code>List</code> implementation that follows the convention will return <code>true</code> when compared to <em>any other</em> implementation, if it has the same content in the same order.</p>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373367564,"creation_date":1373367564,"answer_id":17546520,"question_id":17546466,"body_markdown":"The general contract of the equals() methods states (among other things) that the objects that are being compared need to be of the same class. That&#39;s why you&#39;ll never be able to compare Apples with Oranges.\r\n\r\nFor the full contract of the equals() method, see the javadocs.","title":"Comparing String and Integer with equals","body":"<p>The general contract of the equals() methods states (among other things) that the objects that are being compared need to be of the same class. That's why you'll never be able to compare Apples with Oranges.</p>\n\n<p>For the full contract of the equals() method, see the javadocs.</p>\n"},{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1373367588,"creation_date":1373367588,"answer_id":17546534,"question_id":17546466,"body_markdown":"Usually, when implementing `equals()`, one of the first things to do is to check whether the objects are of one and the same type.\r\n\r\n    public boolean equals(Object obj) {\r\n        if (!(obj instanceof SomeType)) return false;\r\n        ...\r\n    }\r\n\r\nThis is also applied in the `Integer` and `String` classes, which answers the question why do you receive `false` as a result.","title":"Comparing String and Integer with equals","body":"<p>Usually, when implementing <code>equals()</code>, one of the first things to do is to check whether the objects are of one and the same type.</p>\n\n<pre><code>public boolean equals(Object obj) {\n    if (!(obj instanceof SomeType)) return false;\n    ...\n}\n</code></pre>\n\n<p>This is also applied in the <code>Integer</code> and <code>String</code> classes, which answers the question why do you receive <code>false</code> as a result.</p>\n"},{"tags":[],"owner":{"account_id":1524736,"reputation":476,"user_id":1423463,"display_name":"Mohammad Changani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373367815,"creation_date":1373367815,"answer_id":17546593,"question_id":17546466,"body_markdown":"a Integer Object can&#39;t equals with String Object\r\n\r\nuse : \r\n\r\n\r\n    boolean a = str.equals(str1);\r\n\r\nOR\r\n\r\n    boolean a = (Integer.parseInt(str) == Integer.parseInt(str1));","title":"Comparing String and Integer with equals","body":"<p>a Integer Object can't equals with String Object</p>\n\n<p>use : </p>\n\n<pre><code>boolean a = str.equals(str1);\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>boolean a = (Integer.parseInt(str) == Integer.parseInt(str1));\n</code></pre>\n"}],"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38664,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":17546495,"answer_count":4,"score":4,"last_activity_date":1693823955,"creation_date":1373367406,"question_id":17546466,"body_markdown":"The output of the below code is `false`\r\n\r\n    String str = &quot;3456&quot;;\r\n    String str1 = &quot;3456&quot;;\r\n    System.out.println(Integer.valueOf(str).equals(str1));\r\n\r\nI didn&#39;t understand it. I thought it will return `true`. As I am preparing for SCJP, understanding the reason behind it may be helpful.\r\n","title":"Comparing String and Integer with equals","body":"<p>The output of the below code is <code>false</code></p>\n<pre><code>String str = &quot;3456&quot;;\nString str1 = &quot;3456&quot;;\nSystem.out.println(Integer.valueOf(str).equals(str1));\n</code></pre>\n<p>I didn't understand it. I thought it will return <code>true</code>. As I am preparing for SCJP, understanding the reason behind it may be helpful.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":458053,"reputation":8791,"user_id":857728,"accept_rate":92,"display_name":"Guillaume"},"score":0,"creation_date":1463309505,"post_id":37237307,"comment_id":62003603,"body_markdown":"If `key` is present several times in `che`, you will insert in `prep` the key several times","body":"If <code>key</code> is present several times in <code>che</code>, you will insert in <code>prep</code> the key several times"},{"owner":{"account_id":4464125,"reputation":6712,"user_id":3632206,"accept_rate":71,"display_name":"Sebastian Zeki"},"score":0,"creation_date":1463309913,"post_id":37237307,"comment_id":62003726,"body_markdown":"Aha. Absolutely right. I hadn&#39;t realised that I was adding to che from two tables related as a one to one both of which contained the same column name. Rectified now. ?Post as an answer?","body":"Aha. Absolutely right. I hadn&#39;t realised that I was adding to che from two tables related as a one to one both of which contained the same column name. Rectified now. ?Post as an answer?"}],"answers":[{"tags":[],"owner":{"account_id":458053,"reputation":8791,"user_id":857728,"accept_rate":92,"display_name":"Guillaume"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1463316698,"creation_date":1463316698,"answer_id":37238524,"question_id":37237307,"body_markdown":"The answer is in my first comment of the question:\r\n\t\r\nIf `key` is present several times in `che`, you will insert in `prep` the key several times","title":"Nested loop adding first entry twice in Java","body":"<p>The answer is in my first comment of the question:</p>\n\n<p>If <code>key</code> is present several times in <code>che</code>, you will insert in <code>prep</code> the key several times</p>\n"}],"owner":{"account_id":4464125,"reputation":6712,"user_id":3632206,"accept_rate":71,"display_name":"Sebastian Zeki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37238524,"answer_count":1,"score":0,"last_activity_date":1693823854,"creation_date":1463309234,"question_id":37237307,"body_markdown":"I am trying to compare some database columns I have in an `ArrayList` to some keys I have in a `HashMap` prior to creating an INSERT statement to insert all the `HashMap` values. The key is only part of the INSERT statement if the column is found in the database.\r\n\r\nThe problem is, that the first key is entered into the INSERT statement twice causing the execution to fail. I haven&#39;t provided the INSERT statement here or how I&#39;m getting the values as that&#39;s not the problem, just how I&#39;m creating the string that identifies the column names.\r\n\r\nHere is the code:\r\n\r\n    ResultSet rs2 = st.executeQuery(&quot;SELECT * FROM BRAVODay1And2&quot;);\r\n    ResultSetMetaData rsmd2 = rs2.getMetaData();\r\n    ArrayList&lt;String&gt; che=new ArrayList&lt;String&gt;();\r\n    for (int i = 1; i &lt;= rsmd2.getColumnCount(); i++) {\t\r\n\t\tche.add(rsmd2.getColumnName(i).trim());\r\n    }\r\n\r\n\r\n\r\n     String prep=&quot;&quot;;\r\n        for (Entry&lt;String, String&gt; entry : mapWholeBRAVO.entrySet()) {\r\n        \tString key =entry.getKey().replace(&quot;:&quot;,&quot;&quot;);\t\r\n        \tfor (String n:che){\r\n        \t\tif (n.equals(key)){\r\n        \t\t\tprep=prep+key+&quot;,&quot;;\r\n        \t\t}\r\n        \t}\r\n        }\r\n\r\n","title":"Nested loop adding first entry twice in Java","body":"<p>I am trying to compare some database columns I have in an <code>ArrayList</code> to some keys I have in a <code>HashMap</code> prior to creating an INSERT statement to insert all the <code>HashMap</code> values. The key is only part of the INSERT statement if the column is found in the database.</p>\n<p>The problem is, that the first key is entered into the INSERT statement twice causing the execution to fail. I haven't provided the INSERT statement here or how I'm getting the values as that's not the problem, just how I'm creating the string that identifies the column names.</p>\n<p>Here is the code:</p>\n<pre><code>ResultSet rs2 = st.executeQuery(&quot;SELECT * FROM BRAVODay1And2&quot;);\nResultSetMetaData rsmd2 = rs2.getMetaData();\nArrayList&lt;String&gt; che=new ArrayList&lt;String&gt;();\nfor (int i = 1; i &lt;= rsmd2.getColumnCount(); i++) { \n    che.add(rsmd2.getColumnName(i).trim());\n}\n\n\n\n String prep=&quot;&quot;;\n    for (Entry&lt;String, String&gt; entry : mapWholeBRAVO.entrySet()) {\n        String key =entry.getKey().replace(&quot;:&quot;,&quot;&quot;); \n        for (String n:che){\n            if (n.equals(key)){\n                prep=prep+key+&quot;,&quot;;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","hadoop","hdfs"],"answers":[{"tags":[],"owner":{"account_id":2981437,"reputation":3064,"user_id":2531314,"accept_rate":58,"display_name":"blackSmith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413617996,"creation_date":1413617996,"answer_id":26437427,"question_id":26426228,"body_markdown":"I think `Hadoop` doesn&#39;t provide a java API to provide permission recursively in the version you are using. The code is actually giving permission to the dir `user/user1/data` and nothing else. You should better use `FileSystem.listStatus(Path f)` method to list down all files in the directory and use `Filsystem.setPermission` to them individually. It&#39;s working currently on my 2.0.5-alpha-gphd-2.1.0.0 cluster.       \r\n\r\nHowever from `Hadoop 2.2.0` onward a new constructor \r\n\r\n  [`FsPermission(FsAction u, FsAction g, FsAction o, boolean sb)`][1] \r\n\r\nis being provided. The boolean field may be the recursive flag you wanted. But the documentation(including param name) is too poor to infer something concrete.      \r\n\r\nAlso have a look at https://stackoverflow.com/questions/22676593/hadoop-fs-mkdir-permission-denied although your sitaution may be different. (in my case `dfs.permissions.enabled` is still true).\r\n\r\n  [1]: https://hadoop.apache.org/docs/r2.2.0/api/org/apache/hadoop/fs/permission/FsPermission.html#FsPermission(org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20boolean)","title":"Hadoop setting fsPermission recursively to dir using Java","body":"<p>I think <code>Hadoop</code> doesn't provide a java API to provide permission recursively in the version you are using. The code is actually giving permission to the dir <code>user/user1/data</code> and nothing else. You should better use <code>FileSystem.listStatus(Path f)</code> method to list down all files in the directory and use <code>Filsystem.setPermission</code> to them individually. It's working currently on my 2.0.5-alpha-gphd-2.1.0.0 cluster.       </p>\n\n<p>However from <code>Hadoop 2.2.0</code> onward a new constructor </p>\n\n<p><a href=\"https://hadoop.apache.org/docs/r2.2.0/api/org/apache/hadoop/fs/permission/FsPermission.html#FsPermission(org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20boolean)\" rel=\"nofollow noreferrer\"><code>FsPermission(FsAction u, FsAction g, FsAction o, boolean sb)</code></a> </p>\n\n<p>is being provided. The boolean field may be the recursive flag you wanted. But the documentation(including param name) is too poor to infer something concrete.      </p>\n\n<p>Also have a look at <a href=\"https://stackoverflow.com/questions/22676593/hadoop-fs-mkdir-permission-denied\">Why does &quot;hadoop fs -mkdir&quot; fail with Permission Denied?</a> although your sitaution may be different. (in my case <code>dfs.permissions.enabled</code> is still true).</p>\n"},{"tags":[],"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1413659547,"creation_date":1413651720,"answer_id":26442329,"question_id":26426228,"body_markdown":"Using FsShell APIs solved my dir permission problem. It may be not be optimal way but since I am solving it for test code it should be fine.   \r\n\r\n          FsShell shell=new FsShell(conf);\r\n          try {\r\n            shell.run(new String[]{&quot;-chmod&quot;,&quot;-R&quot;,&quot;777&quot;,&quot;user/usr1/data&quot;});\r\n          }\r\n         catch (  Exception e) {\r\n            LOG.error(&quot;Couldnt change the file permissions &quot;,e);\r\n            throw new IOException(e);\r\n          }","title":"Hadoop setting fsPermission recursively to dir using Java","body":"<p>Using FsShell APIs solved my dir permission problem. It may be not be optimal way but since I am solving it for test code it should be fine.   </p>\n\n<pre><code>      FsShell shell=new FsShell(conf);\n      try {\n        shell.run(new String[]{\"-chmod\",\"-R\",\"777\",\"user/usr1/data\"});\n      }\n     catch (  Exception e) {\n        LOG.error(\"Couldnt change the file permissions \",e);\n        throw new IOException(e);\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":355604,"reputation":421,"user_id":3506535,"accept_rate":29,"display_name":"Playing With BI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521209348,"creation_date":1521209348,"answer_id":49322734,"question_id":26426228,"body_markdown":"I wrote this in scala but I think you could easily adapt it:\r\n\r\n\r\n    def changeUserGroup(user:String,fs:FileSystem, path: Path): Boolean ={\r\n      val changedPermission = new FsPermission(FsAction.ALL,FsAction.ALL,FsAction.ALL, true)\r\n      val fileList = fs.listFiles(path, true)\r\n      while (fileList.hasNext()) {\r\n    \tfs.setPermission(fileList.next().getPath(),changedPermission)\r\n      }\r\n    \treturn true\r\n      }\r\n\r\n\r\nYou will also have to add a logic for the error handling, I am always returning true.","title":"Hadoop setting fsPermission recursively to dir using Java","body":"<p>I wrote this in scala but I think you could easily adapt it:</p>\n\n<pre><code>def changeUserGroup(user:String,fs:FileSystem, path: Path): Boolean ={\n  val changedPermission = new FsPermission(FsAction.ALL,FsAction.ALL,FsAction.ALL, true)\n  val fileList = fs.listFiles(path, true)\n  while (fileList.hasNext()) {\n    fs.setPermission(fileList.next().getPath(),changedPermission)\n  }\n    return true\n  }\n</code></pre>\n\n<p>You will also have to add a logic for the error handling, I am always returning true.</p>\n"}],"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5818,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26442329,"answer_count":3,"score":4,"last_activity_date":1693822774,"creation_date":1413552881,"question_id":26426228,"body_markdown":"I have test program which loads files into hdfs at this path `user/user1/data/app/type/file.gz` Now this test program runs multiple times by multiple users. So I want to set file permission to rwx so that anyone can delete this file. I have the following code\r\n\r\n    fs.setPermission(new Path(&quot;user/user1/data&quot;),new FsPermission(FsAction.ALL,FsAction.ALL,FsAction.ALL)) \r\n\r\nAbove line gives `drwxrwxrwx` to all dirs but for the file.gz it gives permission as `-rw-r--r--` why so? Because of this reason another user apart from me not able to delete this file through test program. I can delete file through test program because I have full permission.\r\n\r\nI am new to Hadoop.\r\n","title":"Hadoop setting fsPermission recursively to dir using Java","body":"<p>I have test program which loads files into hdfs at this path <code>user/user1/data/app/type/file.gz</code> Now this test program runs multiple times by multiple users. So I want to set file permission to rwx so that anyone can delete this file. I have the following code</p>\n<pre><code>fs.setPermission(new Path(&quot;user/user1/data&quot;),new FsPermission(FsAction.ALL,FsAction.ALL,FsAction.ALL)) \n</code></pre>\n<p>Above line gives <code>drwxrwxrwx</code> to all dirs but for the file.gz it gives permission as <code>-rw-r--r--</code> why so? Because of this reason another user apart from me not able to delete this file through test program. I can delete file through test program because I have full permission.</p>\n<p>I am new to Hadoop.</p>\n"},{"tags":["java","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":1,"creation_date":1693819482,"post_id":77035806,"comment_id":135805847,"body_markdown":"It depends on api of `helloworld.com`, nothing relates to Rest-assured.","body":"It depends on api of <code>helloworld.com</code>, nothing relates to Rest-assured."},{"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"score":0,"creation_date":1693822824,"post_id":77035806,"comment_id":135806412,"body_markdown":"Yes managed to solve by using String startDate = &quot;2023-09-02&quot;; Then pass the key and value as below. Key was sysparm_query and value was appended with LIKE.\n\n.queryParam(&quot;sysparm_query&quot;, &quot;start_timeLIKE&quot;+startDate) Thanks.","body":"Yes managed to solve by using String startDate = &quot;2023-09-02&quot;; Then pass the key and value as below. Key was sysparm_query and value was appended with LIKE.  .queryParam(&quot;sysparm_query&quot;, &quot;start_timeLIKE&quot;+startDate) Thanks."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1693840768,"post_id":77035806,"comment_id":135809925,"body_markdown":"Sorry, don’t understand your question.","body":"Sorry, don’t understand your question."}],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693822772,"creation_date":1693812354,"question_id":77035806,"body_markdown":"In sys_created_on field ,I tried to search using wild card as suffix or prefix with just the  date but no result came, unless I gave the exact date time , so is there anyway to  give start_time=2023-09-02 05 and search? What I want is a partial search using date since I don&#39;t know the exact time.\r\n\r\n. In some APIs, wildcard searches are not allowed by design for various reasons, I think it might be the case here as well.\r\n\r\n\r\n   \r\n\r\n     @Test()\r\n        public void getStatus(){\r\n            String tableName = &quot;Mytable&quot;;\r\n             String tagValue = &quot;Mytag&quot;;\r\n    \r\n    \r\n            RequestSpecification request = RestAssured.given().auth().basic(&quot;username&quot;, &quot;password&quot;);\r\n    \r\n            // Search for a record with the specified tag value\r\n            Response response = request.given()\r\n                    .queryParam(&quot;Tags&quot;, tagValue).queryParam(&quot;start_time&quot;, &quot;2023-09-02 05:00:01&quot;)\r\n                    .get(&quot;https://helloworld.com/api/now/table/&quot; + tableName);\r\n    \r\n            // Check if the response is successful\r\n           response.then().statusCode(200);\r\n       \r\n      \r\n            JsonPath jsonPathEvaluator = response.jsonPath();\r\n            String actualExecutionStatus = jsonPathEvaluator.get(&quot;result.status[0]&quot;);\r\n            String actualsys_created_on = jsonPathEvaluator.get(&quot;result.sys_created_on[0]&quot;);\r\n            System.out.println(&quot;actualExecutionStatus ==&quot;+actualExecutionStatus);\r\n            System.out.println(&quot;actualsys_created_on ==&quot;+actualsys_created_on);\r\n            System.out.println(&quot;response body==&quot;+response.getBody().asString());\r\n    \r\n        }","title":"In Rest-Assured query using date only without using the exact date time","body":"<p>In sys_created_on field ,I tried to search using wild card as suffix or prefix with just the  date but no result came, unless I gave the exact date time , so is there anyway to  give start_time=2023-09-02 05 and search? What I want is a partial search using date since I don't know the exact time.</p>\n<p>. In some APIs, wildcard searches are not allowed by design for various reasons, I think it might be the case here as well.</p>\n<pre><code> @Test()\n    public void getStatus(){\n        String tableName = &quot;Mytable&quot;;\n         String tagValue = &quot;Mytag&quot;;\n\n\n        RequestSpecification request = RestAssured.given().auth().basic(&quot;username&quot;, &quot;password&quot;);\n\n        // Search for a record with the specified tag value\n        Response response = request.given()\n                .queryParam(&quot;Tags&quot;, tagValue).queryParam(&quot;start_time&quot;, &quot;2023-09-02 05:00:01&quot;)\n                .get(&quot;https://helloworld.com/api/now/table/&quot; + tableName);\n\n        // Check if the response is successful\n       response.then().statusCode(200);\n   \n  \n        JsonPath jsonPathEvaluator = response.jsonPath();\n        String actualExecutionStatus = jsonPathEvaluator.get(&quot;result.status[0]&quot;);\n        String actualsys_created_on = jsonPathEvaluator.get(&quot;result.sys_created_on[0]&quot;);\n        System.out.println(&quot;actualExecutionStatus ==&quot;+actualExecutionStatus);\n        System.out.println(&quot;actualsys_created_on ==&quot;+actualsys_created_on);\n        System.out.println(&quot;response body==&quot;+response.getBody().asString());\n\n    }\n</code></pre>\n"},{"tags":["java","encryption","jwt","jose4j"],"comments":[{"owner":{"account_id":955402,"reputation":4195,"user_id":980807,"display_name":"Erwan Legrand"},"score":0,"creation_date":1693821082,"post_id":32006323,"comment_id":135806127,"body_markdown":"Keys are not passwords! You must generate a key of the right size with a CSPRNG.","body":"Keys are not passwords! You must generate a key of the right size with a CSPRNG."}],"answers":[{"tags":[],"owner":{"account_id":4624068,"reputation":51452,"user_id":3748349,"display_name":"Hans Z."},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1439752069,"creation_date":1439752069,"answer_id":32038878,"question_id":32006323,"body_markdown":"A common approach is to hash the secret before using it as a signing key.\r\n\r\n    MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    String secret = &quot;secret&quot;;\r\n    md.update(secret.getBytes(&quot;UTF-8&quot;));\r\n    byte[] key = md.digest();\r\n\r\nThe alternative is to relax the requirement on the key length with something like:\r\n\r\n    JwtConsumer jwtConsumer = new JwtConsumerBuilder()\r\n         .setVerificationKey(new HmacKey(secret.getBytes())) \r\n         .setRelaxVerificationKeyValidation() // allow shorter HMAC keys when used w/ HSxxx algs \r\n         .build();\r\n","title":"How to make HMAC_SHA256 key from secret string to use it with JWT in jose4j?","body":"<p>A common approach is to hash the secret before using it as a signing key.</p>\n\n<pre><code>MessageDigest md = MessageDigest.getInstance(\"SHA-256\");\nString secret = \"secret\";\nmd.update(secret.getBytes(\"UTF-8\"));\nbyte[] key = md.digest();\n</code></pre>\n\n<p>The alternative is to relax the requirement on the key length with something like:</p>\n\n<pre><code>JwtConsumer jwtConsumer = new JwtConsumerBuilder()\n     .setVerificationKey(new HmacKey(secret.getBytes())) \n     .setRelaxVerificationKeyValidation() // allow shorter HMAC keys when used w/ HSxxx algs \n     .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6729166,"reputation":2331,"user_id":5186159,"display_name":"Brian Campbell"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1440338450,"creation_date":1440338450,"answer_id":32167447,"question_id":32006323,"body_markdown":"[Section 3.2 of JWA / RFC 7518][1] says that a key of the same size as the hash output  or larger must be used with the JWS HMAC SHA-2 algorithms (i.e, 256 bits for &quot;HS256&quot;, 384bits/&quot;HS384&quot;, &amp; 512 bits/&quot;HS512&quot;). It&#39;s generally a good idea to follow this advice from the IETF and NIST. Roughly speaking the security of an HMAC comes from the size of the hash output and the key length, whichever is smaller. So using the bytes of &quot;secret&quot; as the key gives you a key that&#39;s only 48 bits long and, in practice, provides considerably less security than even that because it&#39;s a dictionary word, regardless of the strength of the HMAC SHA-2 algorithm you chose. \r\n\r\nBy default [jose4j][2] enforces the minimum key sizes mandated by JWA/RFC 7518. However, as Hans points out, there are ways to tell jose4j to relax the key length requirement. This can be done with `JwtConsumer` by calling  `.setRelaxVerificationKeyValidation()` on `JwtConsumerBuilder` and on `JsonWebSignature` directly with `.setDoKeyValidation(false)`. Below is a quick example producing and consuming a JWT using HMAC SHA256 that shows both. \r\n  \r\n\r\n    JwtClaims claims = new JwtClaims();\r\n    claims.setExpirationTimeMinutesInTheFuture(5);\r\n    claims.setSubject(&quot;foki&quot;);\r\n    claims.setIssuer(&quot;the issuer&quot;);\r\n    claims.setAudience(&quot;the audience&quot;);\r\n    \r\n    String secret = &quot;secret&quot;;\r\n    Key key = new HmacKey(secret.getBytes(&quot;UTF-8&quot;));\r\n    \r\n    JsonWebSignature jws = new JsonWebSignature();\r\n    jws.setPayload(claims.toJson());\r\n    jws.setAlgorithmHeaderValue(AlgorithmIdentifiers.HMAC_SHA256);\r\n    jws.setKey(key);\r\n    jws.setDoKeyValidation(false); // relaxes the key length requirement\r\n    \r\n    String jwt = jws.getCompactSerialization();\r\n    System.out.println(jwt);\r\n    \r\n    JwtConsumer jwtConsumer = new JwtConsumerBuilder()\r\n            .setRequireExpirationTime()\r\n            .setAllowedClockSkewInSeconds(30)\r\n            .setRequireSubject()\r\n            .setExpectedIssuer(&quot;the issuer&quot;)\r\n            .setExpectedAudience(&quot;the audience&quot;)\r\n            .setVerificationKey(key)\r\n            .setRelaxVerificationKeyValidation() // relaxes key length requirement \r\n            .build();\r\n    \r\n    JwtClaims processedClaims = jwtConsumer.processToClaims(jwt);\r\n    System.out.println(processedClaims);\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc7518#section-3.2\r\n  [2]: https://bitbucket.org/b_c/jose4j/wiki/Home","title":"How to make HMAC_SHA256 key from secret string to use it with JWT in jose4j?","body":"<p><a href=\"https://www.rfc-editor.org/rfc/rfc7518#section-3.2\" rel=\"nofollow noreferrer\">Section 3.2 of JWA / RFC 7518</a> says that a key of the same size as the hash output  or larger must be used with the JWS HMAC SHA-2 algorithms (i.e, 256 bits for &quot;HS256&quot;, 384bits/&quot;HS384&quot;, &amp; 512 bits/&quot;HS512&quot;). It's generally a good idea to follow this advice from the IETF and NIST. Roughly speaking the security of an HMAC comes from the size of the hash output and the key length, whichever is smaller. So using the bytes of &quot;secret&quot; as the key gives you a key that's only 48 bits long and, in practice, provides considerably less security than even that because it's a dictionary word, regardless of the strength of the HMAC SHA-2 algorithm you chose.</p>\n<p>By default <a href=\"https://bitbucket.org/b_c/jose4j/wiki/Home\" rel=\"nofollow noreferrer\">jose4j</a> enforces the minimum key sizes mandated by JWA/RFC 7518. However, as Hans points out, there are ways to tell jose4j to relax the key length requirement. This can be done with <code>JwtConsumer</code> by calling  <code>.setRelaxVerificationKeyValidation()</code> on <code>JwtConsumerBuilder</code> and on <code>JsonWebSignature</code> directly with <code>.setDoKeyValidation(false)</code>. Below is a quick example producing and consuming a JWT using HMAC SHA256 that shows both.</p>\n<pre><code>JwtClaims claims = new JwtClaims();\nclaims.setExpirationTimeMinutesInTheFuture(5);\nclaims.setSubject(&quot;foki&quot;);\nclaims.setIssuer(&quot;the issuer&quot;);\nclaims.setAudience(&quot;the audience&quot;);\n\nString secret = &quot;secret&quot;;\nKey key = new HmacKey(secret.getBytes(&quot;UTF-8&quot;));\n\nJsonWebSignature jws = new JsonWebSignature();\njws.setPayload(claims.toJson());\njws.setAlgorithmHeaderValue(AlgorithmIdentifiers.HMAC_SHA256);\njws.setKey(key);\njws.setDoKeyValidation(false); // relaxes the key length requirement\n\nString jwt = jws.getCompactSerialization();\nSystem.out.println(jwt);\n\nJwtConsumer jwtConsumer = new JwtConsumerBuilder()\n        .setRequireExpirationTime()\n        .setAllowedClockSkewInSeconds(30)\n        .setRequireSubject()\n        .setExpectedIssuer(&quot;the issuer&quot;)\n        .setExpectedAudience(&quot;the audience&quot;)\n        .setVerificationKey(key)\n        .setRelaxVerificationKeyValidation() // relaxes key length requirement \n        .build();\n\nJwtClaims processedClaims = jwtConsumer.processToClaims(jwt);\nSystem.out.println(processedClaims);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2022605,"reputation":3327,"user_id":1808417,"display_name":"saneryee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645047516,"creation_date":1645047516,"answer_id":71149603,"question_id":32006323,"body_markdown":"For safe, &#39;secret&#39; is too short and unsafe as a secret key.\r\nYou can use the below code to generate a safe secret key as your personal secret key.\r\n\r\n    //Generating a safe HS256 Secret key\r\n    SecretKey key = Keys.secretKeyFor(SignatureAlgorithm.HS256);\r\n    String secretString = Encoders.BASE64.encode(key.getEncoded());\r\n    logger.info(&quot;Secret key: &quot; + secretString);\r\n\r\n","title":"How to make HMAC_SHA256 key from secret string to use it with JWT in jose4j?","body":"<p>For safe, 'secret' is too short and unsafe as a secret key.\nYou can use the below code to generate a safe secret key as your personal secret key.</p>\n<pre><code>//Generating a safe HS256 Secret key\nSecretKey key = Keys.secretKeyFor(SignatureAlgorithm.HS256);\nString secretString = Encoders.BASE64.encode(key.getEncoded());\nlogger.info(&quot;Secret key: &quot; + secretString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1573267,"reputation":7512,"user_id":1460461,"accept_rate":38,"display_name":"Benvorth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688235322,"creation_date":1688235322,"answer_id":76595995,"question_id":32006323,"body_markdown":"This will work:\r\n\r\n```\r\nimport io.jsonwebtoken.io.Encoders;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport javax.crypto.SecretKey;\r\n\r\n...\r\nSecretKey key = Keys.secretKeyFor(SignatureAlgorithm.HS512);\r\nString secretString =  Encoders.BASE64.encode(key.getEncoded());\r\nSystem.out.println(&quot;Kex: &quot; + secretString);\r\n...\r\n```\r\n","title":"How to make HMAC_SHA256 key from secret string to use it with JWT in jose4j?","body":"<p>This will work:</p>\n<pre><code>import io.jsonwebtoken.io.Encoders;\nimport io.jsonwebtoken.security.Keys;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport javax.crypto.SecretKey;\n\n...\nSecretKey key = Keys.secretKeyFor(SignatureAlgorithm.HS512);\nString secretString =  Encoders.BASE64.encode(key.getEncoded());\nSystem.out.println(&quot;Kex: &quot; + secretString);\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":955402,"reputation":4195,"user_id":980807,"display_name":"Erwan Legrand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693822452,"creation_date":1693822452,"answer_id":77036871,"question_id":32006323,"body_markdown":"The answer can be found in RFC7515: https://www.rfc-editor.org/rfc/rfc7515#section-10.1\r\n\r\nLet me quote it:\r\n\r\n&gt; Keys are only as strong as the amount of entropy used to generate\r\n&gt; them. A minimum of 128 bits of entropy should be used for all keys,\r\n&gt; and depending upon the application context, more may be required.\r\n&gt; Implementations must randomly generate public/private key pairs, MAC\r\n&gt; keys, and padding values. The use of inadequate pseudorandom number\r\n&gt; generators (PRNGs) to generate cryptographic keys can result in little\r\n&gt; or no security. An attacker may find it much easier to reproduce the\r\n&gt; PRNG environment that produced the keys, searching the resulting small\r\n&gt; set of possibilities rather than brute-force searching the whole key\r\n&gt; space. The generation of quality random numbers is difficult. RFC 4086\r\n&gt; offers important guidance in this area.\r\n\r\nSo, the best answer is that you don&#39;t use a password. Instead, you use a key generated by a CSPRNG.\r\n\r\nIf for some reason you insist on using a password or passphrase, good cryptography engineering practice require that you use a Key Derivation Function (KDF) to derive a key from the password. Argon2id is the KDF usually recommended these days. PBKD2 is an older option.\r\n\r\nUsing a password directly is likely to result in JWTs which can easily be brute forced by hashcat.","title":"How to make HMAC_SHA256 key from secret string to use it with JWT in jose4j?","body":"<p>The answer can be found in RFC7515: <a href=\"https://www.rfc-editor.org/rfc/rfc7515#section-10.1\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc7515#section-10.1</a></p>\n<p>Let me quote it:</p>\n<blockquote>\n<p>Keys are only as strong as the amount of entropy used to generate\nthem. A minimum of 128 bits of entropy should be used for all keys,\nand depending upon the application context, more may be required.\nImplementations must randomly generate public/private key pairs, MAC\nkeys, and padding values. The use of inadequate pseudorandom number\ngenerators (PRNGs) to generate cryptographic keys can result in little\nor no security. An attacker may find it much easier to reproduce the\nPRNG environment that produced the keys, searching the resulting small\nset of possibilities rather than brute-force searching the whole key\nspace. The generation of quality random numbers is difficult. RFC 4086\noffers important guidance in this area.</p>\n</blockquote>\n<p>So, the best answer is that you don't use a password. Instead, you use a key generated by a CSPRNG.</p>\n<p>If for some reason you insist on using a password or passphrase, good cryptography engineering practice require that you use a Key Derivation Function (KDF) to derive a key from the password. Argon2id is the KDF usually recommended these days. PBKD2 is an older option.</p>\n<p>Using a password directly is likely to result in JWTs which can easily be brute forced by hashcat.</p>\n"}],"owner":{"account_id":1458267,"reputation":8771,"user_id":1398282,"accept_rate":65,"display_name":"yujaiyu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27230,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":5,"score":17,"last_activity_date":1693822452,"creation_date":1439543196,"question_id":32006323,"body_markdown":"I want to produce JWTs and sign them with HMAC_SHA256.\r\nFor that task I must use [jose4j][1].\r\nI have tried to generate key based on secret with:\r\n\r\n    SecretKeySpec key = new SecretKeySpec((&quot;secret&quot;).getBytes(&quot;UTF-8&quot;), AlgorithmIdentifiers.HMAC_SHA512);\r\n\r\nbut it generates 40bits key while 512bit one is required for signing using HMAC_SHA256.\r\n\r\n - The primary issue - how to sign tokens with HMAC_SHA512 using jose4j?\r\n - Issue created by my approach solving issue above - how to make 512bit long secret key based on secret string?\r\n\r\n  [1]: https://bitbucket.org/b_c/jose4j/wiki/Home","title":"How to make HMAC_SHA256 key from secret string to use it with JWT in jose4j?","body":"<p>I want to produce JWTs and sign them with HMAC_SHA256.\nFor that task I must use <a href=\"https://bitbucket.org/b_c/jose4j/wiki/Home\" rel=\"noreferrer\">jose4j</a>.\nI have tried to generate key based on secret with:</p>\n\n<pre><code>SecretKeySpec key = new SecretKeySpec((\"secret\").getBytes(\"UTF-8\"), AlgorithmIdentifiers.HMAC_SHA512);\n</code></pre>\n\n<p>but it generates 40bits key while 512bit one is required for signing using HMAC_SHA256.</p>\n\n<ul>\n<li>The primary issue - how to sign tokens with HMAC_SHA512 using jose4j?</li>\n<li>Issue created by my approach solving issue above - how to make 512bit long secret key based on secret string?</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","hibernate","hibernate-types"],"answers":[{"tags":[],"owner":{"account_id":1303875,"reputation":103,"user_id":1253253,"display_name":"Gerard de Leeuw"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620735339,"creation_date":1620735339,"answer_id":67486584,"question_id":66656772,"body_markdown":"I finally figured this out, but it is kind of an creative solution...\r\n\r\nTLDR: I have a bean that stores the Spring-configured `objectMapper` in a static field. A BeanFactoryPostProcessor ensures that this bean is initialized before Hibernate (types) tries to load / get the ObjectMapper.\r\n\r\n**hibernate.properties**\r\n```\r\nhibernate.types.jackson.object.mapper=com.github.lion7.example.HibernateObjectMapperSupplier\r\n```\r\n\r\n**HibernateObjectMapperSupplier.kt**\r\n```kotlin\r\npackage com.github.lion7.example\r\n\r\nimport com.fasterxml.jackson.databind.ObjectMapper\r\nimport com.vladmihalcea.hibernate.type.util.ObjectMapperSupplier\r\nimport org.springframework.beans.factory.config.BeanFactoryPostProcessor\r\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory\r\nimport org.springframework.stereotype.Component\r\n\r\nclass HibernateObjectMapperSupplier : ObjectMapperSupplier {\r\n    override fun get(): ObjectMapper =\r\n        ObjectMapperHolder.objectMapper\r\n}\r\n\r\n@Component\r\nclass ObjectMapperHolder(objectMapper: ObjectMapper) {\r\n\r\n    companion object {\r\n        lateinit var objectMapper: ObjectMapper\r\n    }\r\n\r\n    init {\r\n        Companion.objectMapper = objectMapper\r\n    }\r\n\r\n}\r\n\r\n@Component\r\nclass ObjectMapperDependencyFixer : BeanFactoryPostProcessor {\r\n    override fun postProcessBeanFactory(beanFactory: ConfigurableListableBeanFactory) {\r\n        val beanDefinition = beanFactory.getBeanDefinition(&quot;entityManagerFactory&quot;)\r\n        val oldDependsOn = beanDefinition.dependsOn ?: emptyArray()\r\n        val newDependsOn = oldDependsOn + &quot;objectMapperHolder&quot;\r\n        beanDefinition.setDependsOn(*newDependsOn)\r\n    }\r\n}\r\n```\r\n\r\nSame code as gist: https://gist.github.com/lion7/c8006b69a309e38183deb69124b888b5","title":"Use Jackson Objectmapper configured by Spring boot in Hibernate","body":"<p>I finally figured this out, but it is kind of an creative solution...</p>\n<p>TLDR: I have a bean that stores the Spring-configured <code>objectMapper</code> in a static field. A BeanFactoryPostProcessor ensures that this bean is initialized before Hibernate (types) tries to load / get the ObjectMapper.</p>\n<p><strong>hibernate.properties</strong></p>\n<pre><code>hibernate.types.jackson.object.mapper=com.github.lion7.example.HibernateObjectMapperSupplier\n</code></pre>\n<p><strong>HibernateObjectMapperSupplier.kt</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.github.lion7.example\n\nimport com.fasterxml.jackson.databind.ObjectMapper\nimport com.vladmihalcea.hibernate.type.util.ObjectMapperSupplier\nimport org.springframework.beans.factory.config.BeanFactoryPostProcessor\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory\nimport org.springframework.stereotype.Component\n\nclass HibernateObjectMapperSupplier : ObjectMapperSupplier {\n    override fun get(): ObjectMapper =\n        ObjectMapperHolder.objectMapper\n}\n\n@Component\nclass ObjectMapperHolder(objectMapper: ObjectMapper) {\n\n    companion object {\n        lateinit var objectMapper: ObjectMapper\n    }\n\n    init {\n        Companion.objectMapper = objectMapper\n    }\n\n}\n\n@Component\nclass ObjectMapperDependencyFixer : BeanFactoryPostProcessor {\n    override fun postProcessBeanFactory(beanFactory: ConfigurableListableBeanFactory) {\n        val beanDefinition = beanFactory.getBeanDefinition(&quot;entityManagerFactory&quot;)\n        val oldDependsOn = beanDefinition.dependsOn ?: emptyArray()\n        val newDependsOn = oldDependsOn + &quot;objectMapperHolder&quot;\n        beanDefinition.setDependsOn(*newDependsOn)\n    }\n}\n</code></pre>\n<p>Same code as gist: <a href=\"https://gist.github.com/lion7/c8006b69a309e38183deb69124b888b5\" rel=\"noreferrer\">https://gist.github.com/lion7/c8006b69a309e38183deb69124b888b5</a></p>\n"},{"tags":[],"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637247820,"creation_date":1634317399,"answer_id":69588264,"question_id":66656772,"body_markdown":"A Java implementation.\r\n\r\n```java\r\n@Component\r\npublic class HibernateObjectMapper implements Supplier&lt;ObjectMapper&gt; {\r\n\r\n    private static ObjectMapper objectMapper;\r\n\r\n    @Autowired\r\n    public void setObjectMapper(ObjectMapper objectMapper) {\r\n        HibernateObjectMapper.objectMapper = objectMapper;\r\n    }\r\n\r\n    @Override\r\n    public ObjectMapper get() {\r\n        return objectMapper;\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf you define your own JPA beans, simply add `@DependsOn(&quot;hibernateObjectMapper&quot;)` to their config. Otherwise you need a `BeanPostProcessor` to add the dependency to the autoconfigured bean:\r\n\r\n```java\r\n@Component\r\nclass HibernateBeanDependencyProcessor implements BeanFactoryPostProcessor {\r\n    @Override\r\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory factory) {\r\n        BeanDefinition beanDefinition = factory.getBeanDefinition(&quot;entityManagerFactory&quot;);\r\n        String[] dependsOn = beanDefinition.getDependsOn();\r\n        dependsOn = dependsOn == null ? new String[]{} : dependsOn;\r\n        String[] newDependsOn = new String[dependsOn.length + 1];\r\n        System.arraycopy(dependsOn, 0, newDependsOn, 1, dependsOn.length);\r\n        newDependsOn[0] = &quot;hibernateObjectMapper&quot;;\r\n        beanDefinition.setDependsOn(newDependsOn);\r\n    }\r\n}\r\n```\r\n\r\nAs for the property, `hibernate.types.*` don&#39;t work when set programmatically. The library looks directly in the `hibernate.properties`, `hibernate-types.properties`, and `application.properties` files.","title":"Use Jackson Objectmapper configured by Spring boot in Hibernate","body":"<p>A Java implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class HibernateObjectMapper implements Supplier&lt;ObjectMapper&gt; {\n\n    private static ObjectMapper objectMapper;\n\n    @Autowired\n    public void setObjectMapper(ObjectMapper objectMapper) {\n        HibernateObjectMapper.objectMapper = objectMapper;\n    }\n\n    @Override\n    public ObjectMapper get() {\n        return objectMapper;\n    }\n\n}\n</code></pre>\n<p>If you define your own JPA beans, simply add <code>@DependsOn(&quot;hibernateObjectMapper&quot;)</code> to their config. Otherwise you need a <code>BeanPostProcessor</code> to add the dependency to the autoconfigured bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass HibernateBeanDependencyProcessor implements BeanFactoryPostProcessor {\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory factory) {\n        BeanDefinition beanDefinition = factory.getBeanDefinition(&quot;entityManagerFactory&quot;);\n        String[] dependsOn = beanDefinition.getDependsOn();\n        dependsOn = dependsOn == null ? new String[]{} : dependsOn;\n        String[] newDependsOn = new String[dependsOn.length + 1];\n        System.arraycopy(dependsOn, 0, newDependsOn, 1, dependsOn.length);\n        newDependsOn[0] = &quot;hibernateObjectMapper&quot;;\n        beanDefinition.setDependsOn(newDependsOn);\n    }\n}\n</code></pre>\n<p>As for the property, <code>hibernate.types.*</code> don't work when set programmatically. The library looks directly in the <code>hibernate.properties</code>, <code>hibernate-types.properties</code>, and <code>application.properties</code> files.</p>\n"},{"tags":[],"owner":{"account_id":21778843,"reputation":11,"user_id":16080807,"display_name":"Feng68"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1676373961,"creation_date":1646986423,"answer_id":71435473,"question_id":66656772,"body_markdown":"    System.getProperties().put(\r\n        Configuration.PropertyKey.JACKSON_OBJECT_MAPPER.getKey(),\r\n        MyObjectMapperSupplier.class.getName()\r\n    );","title":"Use Jackson Objectmapper configured by Spring boot in Hibernate","body":"<pre><code>System.getProperties().put(\n    Configuration.PropertyKey.JACKSON_OBJECT_MAPPER.getKey(),\n    MyObjectMapperSupplier.class.getName()\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7819990,"reputation":331,"user_id":5913418,"accept_rate":18,"display_name":"pustypawel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665704998,"creation_date":1665704998,"answer_id":74062956,"question_id":66656772,"body_markdown":"I think that I&#39;ve found solution to do it programmatically (without magic with fixing dependency graph).\r\n**HibernateConfiguration.kt**\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    class HibernateConfiguration {\r\n\r\n        @Bean\r\n        fun hibernatePropertiesCustomizer(\r\n            objectMapper: ObjectMapper // Thanks to that Spring can create correct dependency graph\r\n        ): HibernatePropertiesCustomizer =\r\n            HibernatePropertiesCustomizer { hibernateProperties -&gt;\r\n                HibernateObjectMapperSupplier.objectMapper = objectMapper\r\n                hibernateProperties[&quot;hibernate.types.jackson.object.mapper&quot;] = HibernateObjectMapperSupplier::class.qualifiedName\r\n            }\r\n    }\r\n**HibernateObjectMapperSupplier.kt**\r\n\r\n    class HibernateObjectMapperSupplier : Supplier&lt;ObjectMapper&gt; {\r\n\r\n        override fun get(): ObjectMapper {\r\n            return objectMapper\r\n        }\r\n\r\n        companion object {\r\n            lateinit var objectMapper: ObjectMapper\r\n        }\r\n    }\r\n","title":"Use Jackson Objectmapper configured by Spring boot in Hibernate","body":"<p>I think that I've found solution to do it programmatically (without magic with fixing dependency graph).\n<strong>HibernateConfiguration.kt</strong></p>\n<pre><code>@Configuration(proxyBeanMethods = false)\nclass HibernateConfiguration {\n\n    @Bean\n    fun hibernatePropertiesCustomizer(\n        objectMapper: ObjectMapper // Thanks to that Spring can create correct dependency graph\n    ): HibernatePropertiesCustomizer =\n        HibernatePropertiesCustomizer { hibernateProperties -&gt;\n            HibernateObjectMapperSupplier.objectMapper = objectMapper\n            hibernateProperties[&quot;hibernate.types.jackson.object.mapper&quot;] = HibernateObjectMapperSupplier::class.qualifiedName\n        }\n}\n</code></pre>\n<p><strong>HibernateObjectMapperSupplier.kt</strong></p>\n<pre><code>class HibernateObjectMapperSupplier : Supplier&lt;ObjectMapper&gt; {\n\n    override fun get(): ObjectMapper {\n        return objectMapper\n    }\n\n    companion object {\n        lateinit var objectMapper: ObjectMapper\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1688659937,"creation_date":1688659937,"answer_id":76630728,"question_id":66656772,"body_markdown":"For those working on Spring Boot 3 and Hibernate 6, check [this solution][1] from Andy Wilkinson: \r\n```\r\n    @Bean\r\n    public HibernatePropertiesCustomizer jsonFormatMapperCustomizer(ObjectMapper objectMapper) {\r\n        return properties -&gt; properties\r\n                .put(AvailableSettings.JSON_FORMAT_MAPPER, new JacksonJsonFormatMapper(objectMapper));\r\n    }\r\n```\r\n\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/33870#issuecomment-1386822021","title":"Use Jackson Objectmapper configured by Spring boot in Hibernate","body":"<p>For those working on Spring Boot 3 and Hibernate 6, check <a href=\"https://github.com/spring-projects/spring-boot/issues/33870#issuecomment-1386822021\" rel=\"noreferrer\">this solution</a> from Andy Wilkinson:</p>\n<pre><code>    @Bean\n    public HibernatePropertiesCustomizer jsonFormatMapperCustomizer(ObjectMapper objectMapper) {\n        return properties -&gt; properties\n                .put(AvailableSettings.JSON_FORMAT_MAPPER, new JacksonJsonFormatMapper(objectMapper));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":222726,"reputation":3846,"user_id":481528,"accept_rate":67,"display_name":"selalerer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693822009,"creation_date":1693822009,"answer_id":77036820,"question_id":66656772,"body_markdown":"The thing that worked best for me is to configure the already existing `ObjectMapper` used by Hypersistence:\r\n\r\n       import io.hypersistence.utils.hibernate.type.util.ObjectMapperWrapper;\r\n       \r\n       ObjectMapperWrapper.INSTANCE.getObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n","title":"Use Jackson Objectmapper configured by Spring boot in Hibernate","body":"<p>The thing that worked best for me is to configure the already existing <code>ObjectMapper</code> used by Hypersistence:</p>\n<pre><code>   import io.hypersistence.utils.hibernate.type.util.ObjectMapperWrapper;\n   \n   ObjectMapperWrapper.INSTANCE.getObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n"}],"owner":{"account_id":8312986,"reputation":233,"user_id":6247366,"display_name":"Julius Koljonen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6782,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":6,"score":9,"last_activity_date":1693822009,"creation_date":1615903245,"question_id":66656772,"body_markdown":"I want to configure Hibernate to use Jackson&#39;s `Objectmapper` created by Spring to map between json and entities. In the project I&#39;m working on I already configured Jooq to use the Spring&#39;s `ObjectMapper` but I&#39;m having trouble how to configure Hibernate to use it. **The goal** in the end is that both Jooq and Hibernate would use the same `ObjectMapper`.\r\n\r\nI checked this [article][1] by Vlad. Unfortunately all the tips given in the article don&#39;t work for the project I&#39;m working on.\r\n\r\nHere&#39;s an example configuration I tried\r\n\r\n    @Configuration\r\n    public class HibernateConfiguration implements HibernatePropertiesCustomizer {\r\n        //Autowire Objectmapper created by Spring\r\n        @Autowired\r\n        ObjectMapper objectMapper;\r\n    \r\n        @Override\r\n        public void customize(Map&lt;String, Object&gt; hibernateProperties) {\r\n            ObjectMapperSupplier objectMapperSupplier = () -&gt; objectMapper;\r\n            // Below config doesn&#39;t work since Hibernate types creates it&#39;s own mapper\r\n            hibernateProperties.put(&quot;hibernate.types.jackson.object.mapper&quot;, objectMapperSupplier);\r\n    }\r\n\r\nAlso tried the same approach by adding the Objectmapper to hibernate-types.properties.\r\n    \r\n    #Used by Hibernate but cannot get reference of Spring managed ObjectMapper since this is class is called outside of Spring&#39;s context.\r\n    hibernate.types.jackson.object.mapper=path.to.ObjectMapperSupplier\r\n\r\nAnother approach I used but it fails with a `NullpointerException` when converting from JSON to an entity in `JsonTypeDescriptor` class.\r\n\r\n    @Configuration\r\n    public class HibernateConfiguration implements HibernatePropertiesCustomizer{\r\n    \r\n        @Autowired\r\n        ObjectMapper objectMapper;\r\n    \r\n        @Override\r\n        public void customize(Map&lt;String, Object&gt; hibernateProperties) {\r\n            // Underlying implementation needs some JavaType or propertyClass, otherwise when converting \r\n            // from JSON we get a nullpointer.\r\n            var jsonBinaryType = new JsonBinaryType(objectMapper);\r\n            hibernateProperties.put(&quot;hibernate.type_contributors&quot;, (TypeContributorList) () -&gt; \r\n            Collections.singletonList((typeContributions, serviceRegistry) -&gt; \r\n                          typeContributions.contributeType(jsonBinaryType)));\r\n    }\r\n\r\nBelow is the type declaration for entity super class.\r\n\r\n    // This makes Hibernate types create it&#39;s own mapper.\r\n    @TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\r\n    @MappedSuperclass\r\n    public abstract class Entity{\r\n    \r\n    }\r\n\r\nSo, are there any possible solutions how I can hook up Spring managed ObjectMapper to Hibernate?\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-types-customize-jackson-objectmapper/","title":"Use Jackson Objectmapper configured by Spring boot in Hibernate","body":"<p>I want to configure Hibernate to use Jackson's <code>Objectmapper</code> created by Spring to map between json and entities. In the project I'm working on I already configured Jooq to use the Spring's <code>ObjectMapper</code> but I'm having trouble how to configure Hibernate to use it. <strong>The goal</strong> in the end is that both Jooq and Hibernate would use the same <code>ObjectMapper</code>.</p>\n<p>I checked this <a href=\"https://vladmihalcea.com/hibernate-types-customize-jackson-objectmapper/\" rel=\"noreferrer\">article</a> by Vlad. Unfortunately all the tips given in the article don't work for the project I'm working on.</p>\n<p>Here's an example configuration I tried</p>\n<pre><code>@Configuration\npublic class HibernateConfiguration implements HibernatePropertiesCustomizer {\n    //Autowire Objectmapper created by Spring\n    @Autowired\n    ObjectMapper objectMapper;\n\n    @Override\n    public void customize(Map&lt;String, Object&gt; hibernateProperties) {\n        ObjectMapperSupplier objectMapperSupplier = () -&gt; objectMapper;\n        // Below config doesn't work since Hibernate types creates it's own mapper\n        hibernateProperties.put(&quot;hibernate.types.jackson.object.mapper&quot;, objectMapperSupplier);\n}\n</code></pre>\n<p>Also tried the same approach by adding the Objectmapper to hibernate-types.properties.</p>\n<pre><code>#Used by Hibernate but cannot get reference of Spring managed ObjectMapper since this is class is called outside of Spring's context.\nhibernate.types.jackson.object.mapper=path.to.ObjectMapperSupplier\n</code></pre>\n<p>Another approach I used but it fails with a <code>NullpointerException</code> when converting from JSON to an entity in <code>JsonTypeDescriptor</code> class.</p>\n<pre><code>@Configuration\npublic class HibernateConfiguration implements HibernatePropertiesCustomizer{\n\n    @Autowired\n    ObjectMapper objectMapper;\n\n    @Override\n    public void customize(Map&lt;String, Object&gt; hibernateProperties) {\n        // Underlying implementation needs some JavaType or propertyClass, otherwise when converting \n        // from JSON we get a nullpointer.\n        var jsonBinaryType = new JsonBinaryType(objectMapper);\n        hibernateProperties.put(&quot;hibernate.type_contributors&quot;, (TypeContributorList) () -&gt; \n        Collections.singletonList((typeContributions, serviceRegistry) -&gt; \n                      typeContributions.contributeType(jsonBinaryType)));\n}\n</code></pre>\n<p>Below is the type declaration for entity super class.</p>\n<pre><code>// This makes Hibernate types create it's own mapper.\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\n@MappedSuperclass\npublic abstract class Entity{\n\n}\n</code></pre>\n<p>So, are there any possible solutions how I can hook up Spring managed ObjectMapper to Hibernate?</p>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":25647526,"reputation":13,"user_id":19415375,"display_name":"Daria"},"score":0,"creation_date":1693822624,"post_id":77036740,"comment_id":135806383,"body_markdown":"Yes, it does, thx","body":"Yes, it does, thx"}],"owner":{"account_id":25647526,"reputation":13,"user_id":19415375,"display_name":"Daria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693849441,"answer_count":0,"score":0,"last_activity_date":1693821325,"creation_date":1693821325,"question_id":77036740,"body_markdown":"I signed up for a Java course and one of my tasks is to Test STS and Tomcat.\r\n\r\n*Open the DemoApplication.java class from the Project explorer (from the com.example.demo package, from the src/main/java directory). Anywhere in the space in the class editor, right-click &gt; Run as... &gt; Spring Boot App. Open a browser of your choice and access http://localhost:8080/api/example/hello-world*\r\n\r\nThe console shows: Web server failed to start. Port 8080 was already in use.\r\n\r\nAction:\r\n\r\nIdentify and stop the process that&#39;s listening on port 8080 or configure this application to listen on another port.\r\n\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication extends SpringBootServletInitializer {\r\n\t\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn builder.sources(DemoApplication.class);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI have no idea how to do it.","title":"Web server failed to start Port 8080 was already in use spring boot","body":"<p>I signed up for a Java course and one of my tasks is to Test STS and Tomcat.</p>\n<p><em>Open the DemoApplication.java class from the Project explorer (from the com.example.demo package, from the src/main/java directory). Anywhere in the space in the class editor, right-click &gt; Run as... &gt; Spring Boot App. Open a browser of your choice and access http://localhost:8080/api/example/hello-world</em></p>\n<p>The console shows: Web server failed to start. Port 8080 was already in use.</p>\n<p>Action:</p>\n<p>Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class DemoApplication extends SpringBootServletInitializer {\n    \n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        // TODO Auto-generated method stub\n        return builder.sources(DemoApplication.class);\n    }\n    \n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>I have no idea how to do it.</p>\n"},{"tags":["java","android","xml","android-studio"],"answers":[{"tags":[],"owner":{"account_id":9993767,"reputation":55,"user_id":7392068,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624565587,"creation_date":1624565587,"answer_id":68122242,"question_id":68107915,"body_markdown":"After doing some extra digging, I finally found an answer. Instead of using ```ic.sendKeyEvent(...)```, you&#39;d need to use ```ic.performEditorAction(EditorInfo.IME_ACTION_GO)```","title":"InputConnection.sendKeyEvent doesn&#39;t work","body":"<p>After doing some extra digging, I finally found an answer. Instead of using <code>ic.sendKeyEvent(...)</code>, you'd need to use <code>ic.performEditorAction(EditorInfo.IME_ACTION_GO)</code></p>\n"},{"tags":[],"owner":{"account_id":13893777,"reputation":1,"user_id":10031119,"display_name":"runoono"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693821281,"creation_date":1693821281,"answer_id":77036735,"question_id":68107915,"body_markdown":"I just found this answer but the proper way to do what youre asking is using the `sendDefaultEditorAction()` method, inherited from the `InputMethodService` class","title":"InputConnection.sendKeyEvent doesn&#39;t work","body":"<p>I just found this answer but the proper way to do what youre asking is using the <code>sendDefaultEditorAction()</code> method, inherited from the <code>InputMethodService</code> class</p>\n"}],"owner":{"account_id":9993767,"reputation":55,"user_id":7392068,"display_name":"Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693821281,"creation_date":1624489836,"question_id":68107915,"body_markdown":"I am currently making my own custom soft keyboard for android in Android Studio (currently typing this out with it lol). I managed to create and programme all but one very important key: the search/enter button (the one that sits on the bottom right corner of the keyboard). Basically the main and only problem I&#39;m currently facing is that I can&#39;t complete a URL search (ex. on chrome) when I press that key. These are the two actions I tried with it:\r\n\r\n```\r\nInputConnection ic = getCurrentInputConnection();\r\nic.sendKeyEvent(new KeyEvent(KeyEvent.ACTION_DOWN,KeyEvent.KEYCODE_ENTER));\r\n```\r\nand\r\n```\r\nInputConnection ic = getCurrentInputConnection();\r\nic.sendKeyEvent(new KeyEvent(KeyEvent.ACTION_DOWN,KeyEvent.KEYCODE_SEARCH));\r\n```\r\nThe first one works as it should in every other scenario but this one (ex. as an enter button or as a search button in a google browser). In the case of a URL search, it does nothing.\r\n\r\n The second one, for some reason, selects all the text of the input area, which makes no sense.\r\n\r\nWhat am I doing wrong? What action should be performed when this button gets pressed?","title":"InputConnection.sendKeyEvent doesn&#39;t work","body":"<p>I am currently making my own custom soft keyboard for android in Android Studio (currently typing this out with it lol). I managed to create and programme all but one very important key: the search/enter button (the one that sits on the bottom right corner of the keyboard). Basically the main and only problem I'm currently facing is that I can't complete a URL search (ex. on chrome) when I press that key. These are the two actions I tried with it:</p>\n<pre><code>InputConnection ic = getCurrentInputConnection();\nic.sendKeyEvent(new KeyEvent(KeyEvent.ACTION_DOWN,KeyEvent.KEYCODE_ENTER));\n</code></pre>\n<p>and</p>\n<pre><code>InputConnection ic = getCurrentInputConnection();\nic.sendKeyEvent(new KeyEvent(KeyEvent.ACTION_DOWN,KeyEvent.KEYCODE_SEARCH));\n</code></pre>\n<p>The first one works as it should in every other scenario but this one (ex. as an enter button or as a search button in a google browser). In the case of a URL search, it does nothing.</p>\n<p>The second one, for some reason, selects all the text of the input area, which makes no sense.</p>\n<p>What am I doing wrong? What action should be performed when this button gets pressed?</p>\n"},{"tags":["java","filter","lambda","java-stream","predicate"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693821246,"creation_date":1693363644,"answer_id":77004703,"question_id":77004446,"body_markdown":"If you don&#39;t want to use reflection, you have to pass a key extractor working with actual getters. A prerequisite to this is that the type of the object is known, which already applies to your case.\r\n\r\n```java\r\nList&lt;Pojo&gt; f1 = ff1.stream()\r\n\t.filter(distinctByKey(p -&gt; List.of(p.getName() + p.getPrice()))) // key is a String\r\n\t.collect(Collectors.toList());\r\n\r\nf1.forEach(System.out::println);\r\n```\r\n&gt; ```\r\n&gt; Pojo(name=123, price=100, ref1=A)\r\n&gt; Pojo(name=456, price=200, ref1=D)\r\n&gt; ```\r\n\r\nThe first found and distinct combination of `name` and `price` is present in the list, unless you reimplement the `distinctByKey` method.\r\n\r\n___\r\n\r\n**Edit:** As Holger [suggested][1], it is better using `List` as a key instead of concatenated Strings.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77004446/java-stream-distinctbykey-filter-with-variable-arguments#comment135754603_77004703","title":"Java Stream distinctByKey filter with variable arguments","body":"<p>If you don't want to use reflection, you have to pass a key extractor working with actual getters. A prerequisite to this is that the type of the object is known, which already applies to your case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Pojo&gt; f1 = ff1.stream()\n    .filter(distinctByKey(p -&gt; List.of(p.getName() + p.getPrice()))) // key is a String\n    .collect(Collectors.toList());\n\nf1.forEach(System.out::println);\n</code></pre>\n<blockquote>\n<pre><code>Pojo(name=123, price=100, ref1=A)\nPojo(name=456, price=200, ref1=D)\n</code></pre>\n</blockquote>\n<p>The first found and distinct combination of <code>name</code> and <code>price</code> is present in the list, unless you reimplement the <code>distinctByKey</code> method.</p>\n<hr />\n<p><strong>Edit:</strong> As Holger <a href=\"https://stackoverflow.com/questions/77004446/java-stream-distinctbykey-filter-with-variable-arguments#comment135754603_77004703\">suggested</a>, it is better using <code>List</code> as a key instead of concatenated Strings.</p>\n"}],"owner":{"account_id":11174601,"reputation":21,"user_id":8200603,"display_name":"Sumantra Chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693821246,"creation_date":1693358501,"question_id":77004446,"body_markdown":"I have a requirement where I need to get distinct elements from a list and the distinct key fields are variable. I was trying to pass variable argument in distinctByKey but it&#39;s not working. Here&#39;s what I need to do -\r\n\r\n       class Pojo {\r\n      final String name;\r\n      final Integer price;\r\n      final String ref1;\r\n    \r\n      public Pojo(final String name, final Integer price, final String ref1) {\r\n        this.name = name;\r\n        this.price = price;\r\n        this.ref1 = ref1;\r\n      }\r\n    \r\n      public String getName() {\r\n        return name;\r\n      }\r\n    \r\n      public Integer getPrice() {\r\n        return price;\r\n      }\r\n      \r\n      public String getRef1() {\r\n    \t    return ref1;\r\n    \t  }\r\n\r\nFollowing is the code, where I&#39;m trying to get distinct values from the list by passing the distinctByKey arguments as parameters\r\n\r\n    class Test1 {\r\n    \r\n      public static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, Object&gt; keyExtractor) {\r\n        Map&lt;Object, Boolean&gt; seen = new ConcurrentHashMap&lt;&gt;();\r\n        return t -&gt; seen.putIfAbsent(keyExtractor.apply(t), Boolean.TRUE) == null;\r\n      }\r\n    \r\n      private static List&lt;Pojo&gt; getList() {\r\n        return Arrays.asList(\r\n          new Pojo(&quot;123&quot;, 100, &quot;A&quot;),\r\n          new Pojo(&quot;123&quot;, 100, &quot;B&quot;),\r\n          new Pojo(&quot;123&quot;, 100, &quot;C&quot;),\r\n          new Pojo(&quot;456&quot;, 200, &quot;D&quot;)\r\n        );\r\n      }\r\n      \r\n      private static List&lt;Pojo&gt; ff1 = new ArrayList&lt;&gt;();\r\n    \r\n      public static void main(String[] args) {\t \r\n    \t  \r\n    \t  ff1.add(getList().get(0));\r\n    \t  ff1.add(getList().get(1));\r\n    \t  ff1.add(getList().get(2));\r\n    \t  ff1.add(getList().get(3));\r\n    \t  \r\n    \t  String key1 = &quot;p.getName() + p.getPrice()&quot; ;\r\n    \r\n        List&lt;Pojo&gt; f1 =ff1.stream()\r\n        \t\t.filter(distinctByKey(p -&gt; key1))\r\n          .collect(Collectors.toList());\r\n        \r\n         System.out.println(f1);\r\n\r\nThe intention is if I want to distinctBy ref1, I can do that dynamically.Please suggest how I can achieve this?","title":"Java Stream distinctByKey filter with variable arguments","body":"<p>I have a requirement where I need to get distinct elements from a list and the distinct key fields are variable. I was trying to pass variable argument in distinctByKey but it's not working. Here's what I need to do -</p>\n<pre><code>   class Pojo {\n  final String name;\n  final Integer price;\n  final String ref1;\n\n  public Pojo(final String name, final Integer price, final String ref1) {\n    this.name = name;\n    this.price = price;\n    this.ref1 = ref1;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public Integer getPrice() {\n    return price;\n  }\n  \n  public String getRef1() {\n        return ref1;\n      }\n</code></pre>\n<p>Following is the code, where I'm trying to get distinct values from the list by passing the distinctByKey arguments as parameters</p>\n<pre><code>class Test1 {\n\n  public static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, Object&gt; keyExtractor) {\n    Map&lt;Object, Boolean&gt; seen = new ConcurrentHashMap&lt;&gt;();\n    return t -&gt; seen.putIfAbsent(keyExtractor.apply(t), Boolean.TRUE) == null;\n  }\n\n  private static List&lt;Pojo&gt; getList() {\n    return Arrays.asList(\n      new Pojo(&quot;123&quot;, 100, &quot;A&quot;),\n      new Pojo(&quot;123&quot;, 100, &quot;B&quot;),\n      new Pojo(&quot;123&quot;, 100, &quot;C&quot;),\n      new Pojo(&quot;456&quot;, 200, &quot;D&quot;)\n    );\n  }\n  \n  private static List&lt;Pojo&gt; ff1 = new ArrayList&lt;&gt;();\n\n  public static void main(String[] args) {   \n      \n      ff1.add(getList().get(0));\n      ff1.add(getList().get(1));\n      ff1.add(getList().get(2));\n      ff1.add(getList().get(3));\n      \n      String key1 = &quot;p.getName() + p.getPrice()&quot; ;\n\n    List&lt;Pojo&gt; f1 =ff1.stream()\n            .filter(distinctByKey(p -&gt; key1))\n      .collect(Collectors.toList());\n    \n     System.out.println(f1);\n</code></pre>\n<p>The intention is if I want to distinctBy ref1, I can do that dynamically.Please suggest how I can achieve this?</p>\n"},{"tags":["java","collections","guava","api-design","iterable"],"comments":[{"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"score":0,"creation_date":1331068491,"post_id":8473826,"comment_id":12165480,"body_markdown":"possible duplicate of [In Google Guava (Java), why are Iterables.getFirst() and getLast() are inconsistent?](http://stackoverflow.com/questions/7832479/in-google-guava-java-why-are-iterables-getfirst-and-getlast-are-inconsist)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7832479/in-google-guava-java-why-are-iterables-getfirst-and-getlast-are-inconsist\">In Google Guava (Java), why are Iterables.getFirst() and getLast() are inconsistent?</a>"},{"owner":{"account_id":138184,"reputation":5890,"user_id":342947,"accept_rate":87,"display_name":"Fabian Zeindl"},"score":0,"creation_date":1411571254,"post_id":8473826,"comment_id":40754726,"body_markdown":"Maybe you can use [Iterables.getOnlyElement](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Iterables.html#getOnlyElement(java.lang.Iterable))","body":"Maybe you can use <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Iterables.html#getOnlyElement(java.lang.Iterable)\" rel=\"nofollow noreferrer\">Iterables.getOnlyElement</a>"},{"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"score":1,"creation_date":1411579298,"post_id":8473826,"comment_id":40759304,"body_markdown":"@FabianZeindl - `getOnlyElement` throws `IllegalArgumentException` if there are more than one element. `getLast` should not do such thing.","body":"@FabianZeindl - <code>getOnlyElement</code> throws <code>IllegalArgumentException</code> if there are more than one element. <code>getLast</code> should not do such thing."},{"owner":{"account_id":138184,"reputation":5890,"user_id":342947,"accept_rate":87,"display_name":"Fabian Zeindl"},"score":0,"creation_date":1411592481,"post_id":8473826,"comment_id":40766276,"body_markdown":"That&#39;s why I meant &quot;maybe&quot; -&gt; in some situations.","body":"That&#39;s why I meant &quot;maybe&quot; -&gt; in some situations."}],"answers":[{"tags":[],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1323704447,"creation_date":1323690873,"answer_id":8473906,"question_id":8473826,"body_markdown":"I think the point is that there is no reason for a `getFirst(iterable)` in that this could be done with `iterable.iterator().next()`. Guava makes an excellent attempt to keep the API small and so does not add things that could / should be done easily another way.\r\n\r\nOn the other hand, there is not already a mechanism to test if an iterable is empty and if so return a default value instead of the first value. Hence, `getFirst(iterable, default)`.\r\n\r\nAlso, there is not a simple way to get the last element, hence `getLast(iterable)` and `getLast(iterable, default)`","title":"Why there is no getFirst(iterable) method?","body":"<p>I think the point is that there is no reason for a <code>getFirst(iterable)</code> in that this could be done with <code>iterable.iterator().next()</code>. Guava makes an excellent attempt to keep the API small and so does not add things that could / should be done easily another way.</p>\n\n<p>On the other hand, there is not already a mechanism to test if an iterable is empty and if so return a default value instead of the first value. Hence, <code>getFirst(iterable, default)</code>.</p>\n\n<p>Also, there is not a simple way to get the last element, hence <code>getLast(iterable)</code> and <code>getLast(iterable, default)</code></p>\n"},{"tags":[],"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Rożniecki"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1693819668,"creation_date":1323709327,"answer_id":8477936,"question_id":8473826,"body_markdown":"As an addition to @JohnB&#39;s answer, I&#39;d like to show [Guava&#39;s devs opinion about `getFirst(iterable)`](http://code.google.com/p/google-collections/issues/detail?id=217). Kevin Bourrillion (head Guava&#39;s dev) writes there:\r\n\r\n&gt; iterable.iterator().next() is perfectly clear and readable and\r\n&gt; _unambiguous_.  I know  exactly what it does, whereas with Iterators.getFirst(), I have to run off and look  up how that library\r\n&gt; designer decided to do it.\r\n&gt; \r\n&gt; Also, your notion of consistency is deeply misguided.  We use\r\n&gt; consistency in how we  present important functionality, but we never\r\n&gt; use it to justify adding worthless  functionality, and you shouldn&#39;t\r\n&gt; in your own libraries either!\r\n\r\nSo, you have a choice: \r\n\r\n- using `iterable.iterator().next()`,\r\n- using `Iterables.getFirst(Iterable&lt;T&gt; iterable, T default)`,\r\n- using `Iterables.get(Iterable&lt;T&gt;, 0)`,\r\n- writing your own method (probably containing `iterable.iterator().next()` and some docs) and use it as i.e. `Iterables2.getFirst(iterable)`,\r\n- waiting for Kevin to change his mind ;)\r\n\r\nPS: I had similar doubt some time ago and found [exact duplicate of this question](https://stackoverflow.com/questions/7832479/in-google-guava-java-why-are-iterables-getfirst-and-getlast-are-inconsist) at that time.","title":"Why there is no getFirst(iterable) method?","body":"<p>As an addition to @JohnB's answer, I'd like to show <a href=\"http://code.google.com/p/google-collections/issues/detail?id=217\" rel=\"nofollow noreferrer\">Guava's devs opinion about <code>getFirst(iterable)</code></a>. Kevin Bourrillion (head Guava's dev) writes there:</p>\n<blockquote>\n<p>iterable.iterator().next() is perfectly clear and readable and\n<em>unambiguous</em>.  I know  exactly what it does, whereas with Iterators.getFirst(), I have to run off and look  up how that library\ndesigner decided to do it.</p>\n<p>Also, your notion of consistency is deeply misguided.  We use\nconsistency in how we  present important functionality, but we never\nuse it to justify adding worthless  functionality, and you shouldn't\nin your own libraries either!</p>\n</blockquote>\n<p>So, you have a choice:</p>\n<ul>\n<li>using <code>iterable.iterator().next()</code>,</li>\n<li>using <code>Iterables.getFirst(Iterable&lt;T&gt; iterable, T default)</code>,</li>\n<li>using <code>Iterables.get(Iterable&lt;T&gt;, 0)</code>,</li>\n<li>writing your own method (probably containing <code>iterable.iterator().next()</code> and some docs) and use it as i.e. <code>Iterables2.getFirst(iterable)</code>,</li>\n<li>waiting for Kevin to change his mind ;)</li>\n</ul>\n<p>PS: I had similar doubt some time ago and found <a href=\"https://stackoverflow.com/questions/7832479/in-google-guava-java-why-are-iterables-getfirst-and-getlast-are-inconsist\">exact duplicate of this question</a> at that time.</p>\n"}],"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30950,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":8473906,"answer_count":2,"score":46,"last_activity_date":1693819668,"creation_date":1323690508,"question_id":8473826,"body_markdown":"[Iterables][1] present two methods for `getLast` \r\n\r\n     public static &lt;T&gt; T getLast(Iterable&lt;T&gt; iterable);\r\n     public static &lt;T&gt; T getLast(Iterable&lt;T&gt; iterable, @Nullable T defaultValue);\r\n\r\nbut only one for `getFirst`\r\n\r\n     public static &lt;T&gt; T getFirst(Iterable&lt;T&gt; iterable, @Nullable T defaultValue);\r\n\r\nIs there are any design/implementation reason for breaking symmetry? \r\n\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/10.0.1/api/docs/com/google/common/collect/Iterables.html","title":"Why there is no getFirst(iterable) method?","body":"<p><a href=\"https://google.github.io/guava/releases/10.0.1/api/docs/com/google/common/collect/Iterables.html\" rel=\"noreferrer\">Iterables</a> present two methods for <code>getLast</code> </p>\n\n<pre><code> public static &lt;T&gt; T getLast(Iterable&lt;T&gt; iterable);\n public static &lt;T&gt; T getLast(Iterable&lt;T&gt; iterable, @Nullable T defaultValue);\n</code></pre>\n\n<p>but only one for <code>getFirst</code></p>\n\n<pre><code> public static &lt;T&gt; T getFirst(Iterable&lt;T&gt; iterable, @Nullable T defaultValue);\n</code></pre>\n\n<p>Is there are any design/implementation reason for breaking symmetry? </p>\n"},{"tags":["java","swing","user-interface","jbutton","jlabel"],"comments":[{"owner":{"account_id":1525734,"reputation":4411,"user_id":1424229,"display_name":"Rob Wagner"},"score":0,"creation_date":1344539925,"post_id":11890388,"comment_id":15824334,"body_markdown":"Can you show were you call `alert()`?","body":"Can you show were you call <code>alert()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1525734,"reputation":4411,"user_id":1424229,"display_name":"Rob Wagner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344540413,"creation_date":1344540413,"answer_id":11890574,"question_id":11890388,"body_markdown":"Okay here&#39;s the issue. You are extending the JFrame . That means your class IS a JFrame.\r\n\r\nWhen you create the `PleaseWait` frame you don&#39;t do anything to it. This is the empty box you are seeing. You are instead creating a *different* JFrame in your constructor. Remove your `mainWindow` and instead just use `this`. Now all of your components will be added to your `PleaseWait` object. That should fix your blank box issue.","title":"A box pop up that asks the user to please wait while the program loops through and converts all the relevant files","body":"<p>Okay here's the issue. You are extending the JFrame . That means your class IS a JFrame.</p>\n\n<p>When you create the <code>PleaseWait</code> frame you don't do anything to it. This is the empty box you are seeing. You are instead creating a <em>different</em> JFrame in your constructor. Remove your <code>mainWindow</code> and instead just use <code>this</code>. Now all of your components will be added to your <code>PleaseWait</code> object. That should fix your blank box issue.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396961079,"creation_date":1344547276,"answer_id":11892117,"question_id":11890388,"body_markdown":"You need an application to create your frame first. This is a simple example of such application.\r\n\r\n    import javax.swing.UIManager;\r\n    import java.awt.*;\r\n    \r\n    public class Application {\r\n      boolean packFrame = false;\r\n    \r\n      //Construct the application\r\n      public Application() {\r\n        PleaseWait frame = new PleaseWait();\r\n        //Validate frames that have preset sizes\r\n        //Pack frames that have useful preferred size info, e.g. from their layout\r\n        if (packFrame) {\r\n          frame.pack();\r\n        }\r\n        else {\r\n          frame.validate();\r\n        }\r\n        //Center the window\r\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n        Dimension frameSize = frame.getSize();\r\n        if (frameSize.height &gt; screenSize.height) {\r\n          frameSize.height = screenSize.height;\r\n        }\r\n        if (frameSize.width &gt; screenSize.width) {\r\n          frameSize.width = screenSize.width;\r\n        }\r\n        frame.setLocation((screenSize.width - frameSize.width) / 2, (screenSize.height - frameSize.height) / 2);\r\n        frame.setVisible(true);\r\n    \r\n        frame.convert();\r\n        \r\n      }\r\n    \r\n      //Main method\r\n      public static void main(String[] args) {\r\n        try {\r\n          UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n        }\r\n        catch(Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n        new Application();\r\n      }\r\n    }\r\n\r\nYou have to slightly modify your frame to add controls to the content pane. You can do some work after frame is created, then call alert.\r\n\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class PleaseWait extends JFrame {\r\n    \r\n      private static final int height = 125;\r\n      private static final int width = 350;\r\n      final static JLabel converting = new JLabel();\r\n      private static JButton OK = new JButton(&quot;OK&quot;);\r\n      BorderLayout borderLayout1 = new BorderLayout();\r\n      JPanel contentPane;\r\n      int count;\r\n    \r\n      public PleaseWait(){\r\n        contentPane = (JPanel)this.getContentPane();\r\n        contentPane.setLayout(borderLayout1);\r\n        this.setSize(new Dimension(width, height));\r\n        this.setTitle(&quot;Chill For A Sec&quot;);\r\n        this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n    \r\n        // creates the layouts//\r\n        JPanel mainLayout = new JPanel(new BorderLayout());\r\n        JPanel textLayout = new JPanel(new FlowLayout());\r\n        JPanel buttonLayout = new JPanel(new FlowLayout());\r\n    \r\n        // Sets Text //\r\n        converting.setText(&quot;Please wait while I convert your files&quot;);\r\n    \r\n        // disables button //\r\n        OK.setEnabled(false);\r\n        OK.addActionListener(new ActionListener(){\r\n          public void actionPerformed(ActionEvent e) {\r\n            System.exit(0);\r\n          }\r\n        });\r\n    \r\n        // adds to the layouts //\r\n        textLayout.add(converting);\r\n        buttonLayout.add(OK);\r\n        mainLayout.add(textLayout, BorderLayout.CENTER);\r\n        mainLayout.add(buttonLayout, BorderLayout.SOUTH);\r\n    \r\n        // adds to the frame //\r\n        contentPane.add(mainLayout);\r\n      }\r\n    \r\n      public void convert(){\r\n        count = 0;\r\n        for (int i = 0; i &lt;10; i++){\r\n          System.out.println(&quot;Copy &quot;+i);\r\n          try {\r\n            Thread.sleep(1000);\r\n          } catch (InterruptedException e) {\r\n          }\r\n          count++;\r\n        }\r\n        alert();\r\n    \r\n      }\r\n      public void alert(){\r\n        OK.setEnabled(true);\r\n    //        String total = String.valueOf(Convert.result());\r\n        converting.setText(&quot;Sucsess! &quot; + count + &quot; files Converted&quot;);\r\n      }\r\n    \r\n    }\r\n\r\n          \r\n\r\n","title":"A box pop up that asks the user to please wait while the program loops through and converts all the relevant files","body":"<p>You need an application to create your frame first. This is a simple example of such application.</p>\n\n<pre><code>import javax.swing.UIManager;\nimport java.awt.*;\n\npublic class Application {\n  boolean packFrame = false;\n\n  //Construct the application\n  public Application() {\n    PleaseWait frame = new PleaseWait();\n    //Validate frames that have preset sizes\n    //Pack frames that have useful preferred size info, e.g. from their layout\n    if (packFrame) {\n      frame.pack();\n    }\n    else {\n      frame.validate();\n    }\n    //Center the window\n    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n    Dimension frameSize = frame.getSize();\n    if (frameSize.height &gt; screenSize.height) {\n      frameSize.height = screenSize.height;\n    }\n    if (frameSize.width &gt; screenSize.width) {\n      frameSize.width = screenSize.width;\n    }\n    frame.setLocation((screenSize.width - frameSize.width) / 2, (screenSize.height - frameSize.height) / 2);\n    frame.setVisible(true);\n\n    frame.convert();\n\n  }\n\n  //Main method\n  public static void main(String[] args) {\n    try {\n      UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n    }\n    catch(Exception e) {\n      e.printStackTrace();\n    }\n    new Application();\n  }\n}\n</code></pre>\n\n<p>You have to slightly modify your frame to add controls to the content pane. You can do some work after frame is created, then call alert.</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class PleaseWait extends JFrame {\n\n  private static final int height = 125;\n  private static final int width = 350;\n  final static JLabel converting = new JLabel();\n  private static JButton OK = new JButton(\"OK\");\n  BorderLayout borderLayout1 = new BorderLayout();\n  JPanel contentPane;\n  int count;\n\n  public PleaseWait(){\n    contentPane = (JPanel)this.getContentPane();\n    contentPane.setLayout(borderLayout1);\n    this.setSize(new Dimension(width, height));\n    this.setTitle(\"Chill For A Sec\");\n    this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n\n    // creates the layouts//\n    JPanel mainLayout = new JPanel(new BorderLayout());\n    JPanel textLayout = new JPanel(new FlowLayout());\n    JPanel buttonLayout = new JPanel(new FlowLayout());\n\n    // Sets Text //\n    converting.setText(\"Please wait while I convert your files\");\n\n    // disables button //\n    OK.setEnabled(false);\n    OK.addActionListener(new ActionListener(){\n      public void actionPerformed(ActionEvent e) {\n        System.exit(0);\n      }\n    });\n\n    // adds to the layouts //\n    textLayout.add(converting);\n    buttonLayout.add(OK);\n    mainLayout.add(textLayout, BorderLayout.CENTER);\n    mainLayout.add(buttonLayout, BorderLayout.SOUTH);\n\n    // adds to the frame //\n    contentPane.add(mainLayout);\n  }\n\n  public void convert(){\n    count = 0;\n    for (int i = 0; i &lt;10; i++){\n      System.out.println(\"Copy \"+i);\n      try {\n        Thread.sleep(1000);\n      } catch (InterruptedException e) {\n      }\n      count++;\n    }\n    alert();\n\n  }\n  public void alert(){\n    OK.setEnabled(true);\n//        String total = String.valueOf(Convert.result());\n    converting.setText(\"Sucsess! \" + count + \" files Converted\");\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1735626,"reputation":21,"user_id":1588265,"display_name":"user1588265"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693819617,"creation_date":1344539640,"question_id":11890388,"body_markdown":"I am writing a small program that converts files, and I wanted to have a box pop up that asks the user to please wait while the program loops through and converts all the relevant files, but I am running into a small problem. The box that pops up should have a JLabel and a JButton, while the user is &quot;waiting&quot; I wanted to display a message that says please wait, and a disabled &quot;OK&quot; JButton, and then when its finished I wanted to set the text of the JLabel to let them know that It successfully converted their files, and give them a count of how many files were converted. (I wrote a method called alert that sets the text of the label and enables the button.) The problem is That while the program is running, the box is empty, the Label and the Button are not visible, when it finishes, label appears with the final text that I want and the button appears enabled. I am not sure exactly what is going on, I tried changing the modifiers of the JLabel and JButton several times but I cant seem to get it to work correctly. Here is the code for the box that pops up, any help is greatly appricated. \r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.FlowLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    \r\n    \r\n    public class PleaseWait extends javax.swing.JFrame{\r\n    \t\r\n    \tprivate static final int height = 125;\r\n    \tprivate static final int width = 350;\r\n    \tfinal static JLabel converting = new JLabel(&quot;Please Wait while I convert your files&quot;);\r\n    \tprivate static JButton OK = new JButton(&quot;OK&quot;);\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic PleaseWait(){\r\n    \t\t// creates the main window //\r\n    \t\tJFrame mainWindow = new JFrame();\r\n    \t\tmainWindow.setTitle(&quot;Chill For A Sec&quot;);\r\n    \t\tmainWindow.setSize(width, height);\r\n    \t\tmainWindow.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n    \t\t\r\n    \t\t// creates the layouts//\r\n    \t\tJPanel mainLayout = new JPanel(new BorderLayout());\r\n    \t\tJPanel textLayout = new JPanel(new FlowLayout());\r\n    \t\tJPanel buttonLayout = new JPanel(new FlowLayout());\r\n    \t\t\r\n    \t\t// Sets Text //\r\n    \t\tconverting.setText(&quot;Please wait while I convert your files&quot;);\r\n    \t\t\r\n    \t\t// disables button //\r\n    \t\tOK.setEnabled(false);\r\n    \t\t\r\n    \t\t// adds to the layouts //\r\n    \t\ttextLayout.add(converting);\r\n    \t\tbuttonLayout.add(OK);\r\n    \t\tmainLayout.add(textLayout, BorderLayout.CENTER);\r\n    \t\tmainLayout.add(buttonLayout, BorderLayout.SOUTH);\r\n    \t\t\r\n    \t\t// adds to the frame //\r\n    \t\tmainWindow.add(mainLayout);\r\n    \t\t\r\n    \t\t// sets everything visible //\r\n    \t\tmainWindow.setVisible(true);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void alert(){\r\n    \t\tOK.setEnabled(true);\r\n    \t\tString total = String.valueOf(Convert.result());\r\n    \t\tconverting.setText(&quot;Sucsess! &quot; + total + &quot; files Converted&quot;);\r\n    \t}\r\n    \r\n    }","title":"A box pop up that asks the user to please wait while the program loops through and converts all the relevant files","body":"<p>I am writing a small program that converts files, and I wanted to have a box pop up that asks the user to please wait while the program loops through and converts all the relevant files, but I am running into a small problem. The box that pops up should have a JLabel and a JButton, while the user is \"waiting\" I wanted to display a message that says please wait, and a disabled \"OK\" JButton, and then when its finished I wanted to set the text of the JLabel to let them know that It successfully converted their files, and give them a count of how many files were converted. (I wrote a method called alert that sets the text of the label and enables the button.) The problem is That while the program is running, the box is empty, the Label and the Button are not visible, when it finishes, label appears with the final text that I want and the button appears enabled. I am not sure exactly what is going on, I tried changing the modifiers of the JLabel and JButton several times but I cant seem to get it to work correctly. Here is the code for the box that pops up, any help is greatly appricated. </p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.FlowLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\n\npublic class PleaseWait extends javax.swing.JFrame{\n\n    private static final int height = 125;\n    private static final int width = 350;\n    final static JLabel converting = new JLabel(\"Please Wait while I convert your files\");\n    private static JButton OK = new JButton(\"OK\");\n\n\n\n    public PleaseWait(){\n        // creates the main window //\n        JFrame mainWindow = new JFrame();\n        mainWindow.setTitle(\"Chill For A Sec\");\n        mainWindow.setSize(width, height);\n        mainWindow.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n\n        // creates the layouts//\n        JPanel mainLayout = new JPanel(new BorderLayout());\n        JPanel textLayout = new JPanel(new FlowLayout());\n        JPanel buttonLayout = new JPanel(new FlowLayout());\n\n        // Sets Text //\n        converting.setText(\"Please wait while I convert your files\");\n\n        // disables button //\n        OK.setEnabled(false);\n\n        // adds to the layouts //\n        textLayout.add(converting);\n        buttonLayout.add(OK);\n        mainLayout.add(textLayout, BorderLayout.CENTER);\n        mainLayout.add(buttonLayout, BorderLayout.SOUTH);\n\n        // adds to the frame //\n        mainWindow.add(mainLayout);\n\n        // sets everything visible //\n        mainWindow.setVisible(true);\n\n    }\n\n    public static void alert(){\n        OK.setEnabled(true);\n        String total = String.valueOf(Convert.result());\n        converting.setText(\"Sucsess! \" + total + \" files Converted\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","logback","slf4j","logback-classic"],"owner":{"account_id":10438614,"reputation":39,"user_id":7696048,"display_name":"Chirag Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693819549,"creation_date":1693766781,"question_id":77033747,"body_markdown":"I have a logback file that logs events using RollingFileAppender. However, if I run the main class numerous times, the log file does not always produce, sometimes it creates with logs, and sometimes it only creates an empty file. There are certain cases where the file itself is not created.\r\n\r\n**LogBack file:**\r\n\r\n```\r\n&lt;configuration debug=&quot;true&quot;&gt;\r\n\r\n&lt;property name=&quot;DEFAULT_LOG_LEVEL&quot; value=&quot;DEBUG&quot;/&gt;\r\n&lt;property name=&quot;DATE_PATTERN&quot; value=&quot;%d{yyyy.MM.dd.HH.mm.ss}&quot; /&gt;\r\n\r\n&lt;appender name=&quot;ABCD&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n  &lt;file&gt;C://abc.log&lt;/file&gt;\r\n  &lt;append&gt;false&lt;/append&gt;\r\n  &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n     &lt;fileNamePattern&gt;C://abc_{DATE_PATTERN}.log&lt;/fileNamePattern&gt;\r\n     &lt;TimeBasedFileNamingAndTriggeringPolicy class=&quot;com.example.timer.policy.TimePolicy&quot;/&gt;\r\n  &lt;/rollingPolicy&gt;\r\n  &lt;filter class=&quot;ch.qos.logback.core.filter.EvaluatorFilter&quot;&gt;\r\n    &lt;evaluator&gt;\r\n      &lt;expression&gt;return logger.contains(&quot;com.example.logger.logevents&quot;);&lt;/expression&gt;\r\n    &lt;/evaluator&gt;\r\n    &lt;OnMismatch&gt;DENY&lt;/OnMismatch&gt;\r\n    &lt;OnMatch&gt;ACCEPT&lt;/OnMatch&gt;\r\n  &lt;/filter&gt;\r\n&lt;/appender&gt;\r\n\r\n&lt;root level=&quot;${DEFAULT_LOG_LEVEL}&quot;&gt;\r\n   &lt;appender-ref ref=&quot;ABCD&quot;/&gt;\r\n&lt;/root&gt;\r\n\r\n&lt;logger level=&quot;INFO&quot; name=&quot;ABCD&quot; additivity=&quot;false&quot;&gt;\r\n   &lt;appender-ref ref=&quot;ABCD&quot;&gt;\r\n&lt;/logger&gt;\r\n\r\n&lt;/configuration&gt;\r\n\r\n```\r\n\r\n**Main Class:**\r\n\r\n\r\n```\r\nprivate static Logger abcLogger=LoggerFactory.getLogger(&quot;com.example.logger.logevents&quot;);\r\npublic static void main(String[] args){\r\n   abcLogger.info(&quot;Hi, Logging event from here&quot;);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI tried changing the appender to FileAppender but still faced the same issues.","title":"Logback RollingFileAppender not creating logs files as expected","body":"<p>I have a logback file that logs events using RollingFileAppender. However, if I run the main class numerous times, the log file does not always produce, sometimes it creates with logs, and sometimes it only creates an empty file. There are certain cases where the file itself is not created.</p>\n<p><strong>LogBack file:</strong></p>\n<pre><code>&lt;configuration debug=&quot;true&quot;&gt;\n\n&lt;property name=&quot;DEFAULT_LOG_LEVEL&quot; value=&quot;DEBUG&quot;/&gt;\n&lt;property name=&quot;DATE_PATTERN&quot; value=&quot;%d{yyyy.MM.dd.HH.mm.ss}&quot; /&gt;\n\n&lt;appender name=&quot;ABCD&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n  &lt;file&gt;C://abc.log&lt;/file&gt;\n  &lt;append&gt;false&lt;/append&gt;\n  &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n     &lt;fileNamePattern&gt;C://abc_{DATE_PATTERN}.log&lt;/fileNamePattern&gt;\n     &lt;TimeBasedFileNamingAndTriggeringPolicy class=&quot;com.example.timer.policy.TimePolicy&quot;/&gt;\n  &lt;/rollingPolicy&gt;\n  &lt;filter class=&quot;ch.qos.logback.core.filter.EvaluatorFilter&quot;&gt;\n    &lt;evaluator&gt;\n      &lt;expression&gt;return logger.contains(&quot;com.example.logger.logevents&quot;);&lt;/expression&gt;\n    &lt;/evaluator&gt;\n    &lt;OnMismatch&gt;DENY&lt;/OnMismatch&gt;\n    &lt;OnMatch&gt;ACCEPT&lt;/OnMatch&gt;\n  &lt;/filter&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;${DEFAULT_LOG_LEVEL}&quot;&gt;\n   &lt;appender-ref ref=&quot;ABCD&quot;/&gt;\n&lt;/root&gt;\n\n&lt;logger level=&quot;INFO&quot; name=&quot;ABCD&quot; additivity=&quot;false&quot;&gt;\n   &lt;appender-ref ref=&quot;ABCD&quot;&gt;\n&lt;/logger&gt;\n\n&lt;/configuration&gt;\n\n</code></pre>\n<p><strong>Main Class:</strong></p>\n<pre><code>private static Logger abcLogger=LoggerFactory.getLogger(&quot;com.example.logger.logevents&quot;);\npublic static void main(String[] args){\n   abcLogger.info(&quot;Hi, Logging event from here&quot;);\n}\n</code></pre>\n<p>I tried changing the appender to FileAppender but still faced the same issues.</p>\n"},{"tags":["java","google-drive-api","noclassdeffounderror"],"comments":[{"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":0,"creation_date":1574314689,"post_id":56305514,"comment_id":104190307,"body_markdown":"I try to include `guava-28.1-jre.jar` in build and run path. But, I will then get a different error message &quot;java.lang.NoClassDefFoundError: com/google/api/client/repackaged/com/google/common/base/Preconditions&quot;","body":"I try to include <code>guava-28.1-jre.jar</code> in build and run path. But, I will then get a different error message &quot;java.lang.NoClassDefFoundError: com/google/api/client/repackaged/com/google/common/base/Prec&zwnj;&#8203;onditions&quot;"},{"owner":{"account_id":3868045,"reputation":467,"user_id":3204168,"display_name":"tomdaly"},"score":0,"creation_date":1574348635,"post_id":56305514,"comment_id":104208951,"body_markdown":"Hi @Percy could you add your pom.xml file to the post?","body":"Hi @Percy could you add your pom.xml file to the post?"},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":1,"creation_date":1574350843,"post_id":56305514,"comment_id":104210275,"body_markdown":"@CheokYanCheng Could you list dependencies in your pom.xml/build.gradle ? If you are not using build tool, then list all jars you use.","body":"@CheokYanCheng Could you list dependencies in your pom.xml/build.gradle ? If you are not using build tool, then list all jars you use."}],"answers":[{"tags":[],"owner":{"display_name":"user3237183"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574876353,"creation_date":1574876353,"answer_id":59075695,"question_id":56305514,"body_markdown":"I created a small project that followed the quickstart tutorial without any problem.\r\n\r\nhttps://github.com/lssilva/googleDriveApi/\r\n\r\n\r\nIt worked fine for me, I didn&#39;t commit the credentials but if you replace with yours, it should work as described in the documentation.\r\n\r\n\r\n    git clone https://github.com/lssilva/googleDriveApi.git\r\n    gradle run\r\n","title":"How do I get class com.google.common.base.Precondition for Java gDrive api?","body":"<p>I created a small project that followed the quickstart tutorial without any problem.</p>\n\n<p><a href=\"https://github.com/lssilva/googleDriveApi/\" rel=\"nofollow noreferrer\">https://github.com/lssilva/googleDriveApi/</a></p>\n\n<p>It worked fine for me, I didn't commit the credentials but if you replace with yours, it should work as described in the documentation.</p>\n\n<pre><code>git clone https://github.com/lssilva/googleDriveApi.git\ngradle run\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5369419,"reputation":562,"user_id":4278381,"display_name":"Shailesh Bhokare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1574878707,"creation_date":1574878707,"answer_id":59076314,"question_id":56305514,"body_markdown":"Remove existing dependencies and add dependencies from below links:\r\n\r\n[google-api-client-1.23.0][1]\r\n\r\n[google-oauth-client-jetty-1.23.0][2]\r\n\r\n[google-api-services-drive-v3-rev110-1.23.0][3]\r\n\r\nHappy Coding :-)\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.api-client/google-api-client/1.23.0\r\n  [2]: https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty/1.23.0\r\n  [3]: https://mvnrepository.com/artifact/com.google.apis/google-api-services-drive/v3-rev110-1.23.0","title":"How do I get class com.google.common.base.Precondition for Java gDrive api?","body":"<p>Remove existing dependencies and add dependencies from below links:</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/com.google.api-client/google-api-client/1.23.0\" rel=\"nofollow noreferrer\">google-api-client-1.23.0</a></p>\n\n<p><a href=\"https://mvnrepository.com/artifact/com.google.oauth-client/google-oauth-client-jetty/1.23.0\" rel=\"nofollow noreferrer\">google-oauth-client-jetty-1.23.0</a></p>\n\n<p><a href=\"https://mvnrepository.com/artifact/com.google.apis/google-api-services-drive/v3-rev110-1.23.0\" rel=\"nofollow noreferrer\">google-api-services-drive-v3-rev110-1.23.0</a></p>\n\n<p>Happy Coding :-)</p>\n"},{"tags":[],"owner":{"account_id":9700756,"reputation":365,"user_id":7195804,"display_name":"Kuba Pawłowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574881319,"creation_date":1574879550,"answer_id":59076539,"question_id":56305514,"body_markdown":"I had the same problem while implementing [PayU SDK for Android](http://developers.payu.com/en/mobile_sdk.html). \r\nSolution was to add guava dependencies for **android**, not the **jre**: \r\n\r\n```\r\n  implementation(&quot;com.google.guava:guava:28.1-android&quot;)\r\n```\r\n\r\nFor more information on it, see the [repository](https://github.com/google/guava) or check the [Android guava wiki](https://github.com/google/guava/wiki/Android), preferably [Preconditions](https://github.com/google/guava/wiki/PreconditionsExplained)\r\n\r\nI also advise to take a look into [Proguard rules for Guava](https://github.com/google/guava/wiki/UsingProGuardWithGuava) to exclude all the things you don&#39;t use in the project from builds.","title":"How do I get class com.google.common.base.Precondition for Java gDrive api?","body":"<p>I had the same problem while implementing <a href=\"http://developers.payu.com/en/mobile_sdk.html\" rel=\"nofollow noreferrer\">PayU SDK for Android</a>. \nSolution was to add guava dependencies for <strong>android</strong>, not the <strong>jre</strong>: </p>\n\n<pre><code>  implementation(\"com.google.guava:guava:28.1-android\")\n</code></pre>\n\n<p>For more information on it, see the <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">repository</a> or check the <a href=\"https://github.com/google/guava/wiki/Android\" rel=\"nofollow noreferrer\">Android guava wiki</a>, preferably <a href=\"https://github.com/google/guava/wiki/PreconditionsExplained\" rel=\"nofollow noreferrer\">Preconditions</a></p>\n\n<p>I also advise to take a look into <a href=\"https://github.com/google/guava/wiki/UsingProGuardWithGuava\" rel=\"nofollow noreferrer\">Proguard rules for Guava</a> to exclude all the things you don't use in the project from builds.</p>\n"},{"tags":[],"owner":{"account_id":175477,"reputation":6178,"user_id":405521,"accept_rate":54,"display_name":"viv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693818885,"creation_date":1693818885,"answer_id":77036469,"question_id":56305514,"body_markdown":"In case the accepted answer does not work for anyone.\r\n\r\nPrecondition is also available at:\r\n\r\n    https://mvnrepository.com/artifact/com.google.api.client/google-api-client-repackaged-com-google-common-base\r\n\r\n    implementation(&quot;com.google.api.client:google-api-client-repackaged-com-google-common-base:1.2.3-alpha&quot;)\r\n\r\nIt seems to work well for me.\r\n","title":"How do I get class com.google.common.base.Precondition for Java gDrive api?","body":"<p>In case the accepted answer does not work for anyone.</p>\n<p>Precondition is also available at:</p>\n<pre><code>https://mvnrepository.com/artifact/com.google.api.client/google-api-client-repackaged-com-google-common-base\n\nimplementation(&quot;com.google.api.client:google-api-client-repackaged-com-google-common-base:1.2.3-alpha&quot;)\n</code></pre>\n<p>It seems to work well for me.</p>\n"}],"owner":{"account_id":13755172,"reputation":97,"user_id":9926314,"display_name":"Percy Jackson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3540,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":59076314,"answer_count":4,"score":9,"last_activity_date":1693818885,"creation_date":1558792759,"question_id":56305514,"body_markdown":"I&#39;m trying to get a Java interface going with Google Drive API by following the quickstart tutorial, but every time I run my program it throws &quot;NoClassDefFoundError: com/google/common/base/Preconditions.&quot; This has also happened when I tried implementing the Google CustomSearchEngine API.\r\n\r\nI have referenced all API classes with and without sources and javadocs attached. I have also attempted using findJAR dot com in attempt to obtain Preconditions with little success.\r\n\r\nHere are the lines of the code I used that the error references. I have also included the the lines which define the variables used within the error lines in comments above the referenced code.\r\n\r\nLine 61:\r\n```java\r\n/*\r\nprivate static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n\r\nInputStream in = new FileInputStream(clientSecretFilePath);\r\n*/\r\n\r\nGoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n```\r\nLine 88:\r\n```java\r\n/*\r\nfinal NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n*/\r\n\r\nCredential credential = getCredentials(HTTP_TRANSPORT);\r\n\r\n```\r\n\r\nError:\r\n```java\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/base/Preconditions\r\n\tat com.google.api.client.util.Preconditions.checkNotNull(Preconditions.java:127)\r\n\tat com.google.api.client.json.jackson2.JacksonFactory.createJsonParser(JacksonFactory.java:80)\r\n\tat com.google.api.client.json.JsonFactory.fromReader(JsonFactory.java:236)\r\n\tat com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets.load(GoogleClientSecrets.java:192)\r\n\tat drive.GDrive.getCredentials(GDrive.java:61)\r\n\tat drive.GDrive.main(GDrive.java:88)\r\nCaused by: java.lang.ClassNotFoundException: com.google.common.base.Preconditions\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\t... 6 more\r\n```\r\n\r\nIt appears to behave as if a class is missing, but I have referenced all API libraries from Google Drive&#39;s API in the build config. I have even tried getting the missing class from findjar dot com with little additional progress.","title":"How do I get class com.google.common.base.Precondition for Java gDrive api?","body":"<p>I'm trying to get a Java interface going with Google Drive API by following the quickstart tutorial, but every time I run my program it throws \"NoClassDefFoundError: com/google/common/base/Preconditions.\" This has also happened when I tried implementing the Google CustomSearchEngine API.</p>\n\n<p>I have referenced all API classes with and without sources and javadocs attached. I have also attempted using findJAR dot com in attempt to obtain Preconditions with little success.</p>\n\n<p>Here are the lines of the code I used that the error references. I have also included the the lines which define the variables used within the error lines in comments above the referenced code.</p>\n\n<p>Line 61:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/*\nprivate static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n\nInputStream in = new FileInputStream(clientSecretFilePath);\n*/\n\nGoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n</code></pre>\n\n<p>Line 88:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/*\nfinal NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n*/\n\nCredential credential = getCredentials(HTTP_TRANSPORT);\n\n</code></pre>\n\n<p>Error:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: com/google/common/base/Preconditions\n    at com.google.api.client.util.Preconditions.checkNotNull(Preconditions.java:127)\n    at com.google.api.client.json.jackson2.JacksonFactory.createJsonParser(JacksonFactory.java:80)\n    at com.google.api.client.json.JsonFactory.fromReader(JsonFactory.java:236)\n    at com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets.load(GoogleClientSecrets.java:192)\n    at drive.GDrive.getCredentials(GDrive.java:61)\n    at drive.GDrive.main(GDrive.java:88)\nCaused by: java.lang.ClassNotFoundException: com.google.common.base.Preconditions\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 6 more\n</code></pre>\n\n<p>It appears to behave as if a class is missing, but I have referenced all API libraries from Google Drive's API in the build config. I have even tried getting the missing class from findjar dot com with little additional progress.</p>\n"},{"tags":["java","spring-boot","ubuntu","logback"],"answers":[{"tags":[],"owner":{"account_id":26315029,"reputation":61,"user_id":19977948,"display_name":"samed haveri"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1693818829,"creation_date":1666108088,"answer_id":74113873,"question_id":69184334,"body_markdown":"Check if your logback file is a spring logback file like `logback-spring.xml`.\r\nHad the exact same issue fixed it by changing the file name.","title":"Logback configuration error detected: no applicable action for [springProfile], current ElementPath is [[configuration][springProfile]]","body":"<p>Check if your logback file is a spring logback file like <code>logback-spring.xml</code>.\nHad the exact same issue fixed it by changing the file name.</p>\n"},{"tags":[],"owner":{"account_id":11211126,"reputation":21,"user_id":8225164,"display_name":"jackson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681370680,"creation_date":1681370680,"answer_id":76002707,"question_id":69184334,"body_markdown":"I had changed file name to logback-spring.xml ,then is ok.","title":"Logback configuration error detected: no applicable action for [springProfile], current ElementPath is [[configuration][springProfile]]","body":"<p>I had changed file name to logback-spring.xml ,then is ok.</p>\n"},{"tags":[],"owner":{"account_id":17115735,"reputation":171,"user_id":12385278,"display_name":"Leo Tapia"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1693436773,"creation_date":1693436773,"answer_id":77012007,"question_id":69184334,"body_markdown":"From Spring Boot [documentation][1]:\r\n\r\n&gt; Because the standard logback.xml configuration file is loaded too\r\n&gt; early, you cannot use extensions in it. You need to either use\r\n&gt; logback-spring.xml or define a logging.config property.\r\n&gt;\r\n&gt; The extensions cannot be used with Logback’s configuration scanning.\r\n&gt; If you attempt to do so, making changes to the configuration file\r\n&gt; results in an error similar to one of the following being logged:\r\n\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@4:71 - no applicable action for [springProperty], current ElementPath is [[configuration][springProperty]]\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@4:71 - no applicable action for [springProfile], current ElementPath is [[configuration][springProfile]]\r\n\r\nThen, since you&#39;re using Spring Boots&#39;s extension tags, you need to name your file as `logback-spring.xml`, so it will be loaded at the properly time.\r\n\r\n  [1]: https://ERROR%20in%20ch.qos.logback.core.joran.spi.Interpreter@4:71%20-%20no%20applicable%20action%20for%20[springProperty],%20current%20ElementPath%20is%20[[configuration][springProperty]]%20ERROR%20in%20ch.qos.logback.core.joran.spi.Interpreter@4:71%20-%20no%20applicable%20action%20for%20[springProfile],%20current%20ElementPath%20is%20[[configuration][springProfile]]","title":"Logback configuration error detected: no applicable action for [springProfile], current ElementPath is [[configuration][springProfile]]","body":"<p>From Spring Boot <a href=\"https://ERROR%20in%20ch.qos.logback.core.joran.spi.Interpreter@4:71%20-%20no%20applicable%20action%20for%20%5BspringProperty%5D,%20current%20ElementPath%20is%20%5B%5Bconfiguration%5D%5BspringProperty%5D%5D%20ERROR%20in%20ch.qos.logback.core.joran.spi.Interpreter@4:71%20-%20no%20applicable%20action%20for%20%5BspringProfile%5D,%20current%20ElementPath%20is%20%5B%5Bconfiguration%5D%5BspringProfile%5D%5D\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Because the standard logback.xml configuration file is loaded too\nearly, you cannot use extensions in it. You need to either use\nlogback-spring.xml or define a logging.config property.</p>\n<p>The extensions cannot be used with Logback’s configuration scanning.\nIf you attempt to do so, making changes to the configuration file\nresults in an error similar to one of the following being logged:</p>\n</blockquote>\n<pre><code>ERROR in ch.qos.logback.core.joran.spi.Interpreter@4:71 - no applicable action for [springProperty], current ElementPath is [[configuration][springProperty]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@4:71 - no applicable action for [springProfile], current ElementPath is [[configuration][springProfile]]\n</code></pre>\n<p>Then, since you're using Spring Boots's extension tags, you need to name your file as <code>logback-spring.xml</code>, so it will be loaded at the properly time.</p>\n"}],"owner":{"account_id":2601578,"reputation":23,"user_id":2253802,"display_name":"CrazyCamaro7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2662,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1693818829,"creation_date":1631652432,"question_id":69184334,"body_markdown":"I have a Springboot application with Logback. This war is running in a Liberty webserver in a docker container\r\n\r\nVersions:\r\nSpringboot 2.5.3\r\nLogback 1.2.3\r\n\r\n\r\nI am seeing a weird behavior where if I run this container on a Mac or Redhat, the application starts up fine and logs as expected.\r\nHowever, when the same docker container is run in Ubuntu, I am seeing the following error from Logback&#39;s Joran interpreter :\r\n\r\n```\r\n...\r\n08:07:53,308 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [org.springframework] to WARN\r\n08:07:53,308 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [org.hibernate] to WARN\r\n08:07:53,308 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [springfox] to WARN\r\n08:07:53,313 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@88:32 - no applicable action for [springProfile], current ElementPath  is [[configuration][springProfile]]\r\n08:07:53,313 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@89:51 - no applicable action for [root], current ElementPath  is [[configuration][springProfile][root]]\r\n08:07:53,314 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@90:73 - no applicable action for [appender-ref], current ElementPath  is [[configuration][springProfile][root][appender-ref]]\r\n08:07:53,314 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.\r\n08:07:53,314 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@5b3de2a2 - Registering current configuration as safe fallback point\r\n[err] Logging system failed to initialize using configuration from &#39;/logback-spring.xml&#39;\r\n[err] java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.spi.Interpreter@88:32 - no applicable action for [springProfile], current ElementPath  is [[configuration][springProfile]]\r\nERROR in ch.qos.logback.core.joran.spi.Interpreter@89:51 - no applicable action for [root], current ElementPath  is [[configuration][springProfile][root]]\r\nERROR in ch.qos.logback.core.joran.spi.Interpreter@90:73 - no applicable action for [appender-ref], current ElementPath  is [[configuration][springProfile][root][appender-ref]]\r\n[err] \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:179)\r\n[err] \tat org.springframework.boot.logging.AbstractLoggingSystem.initializeWithSpecificConfig(AbstractLoggingSystem.java:66)\r\n[err] \tat org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:57)\r\n[err] \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:132)\r\n[err] \tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:316)\r\n[err] \tat org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:282)\r\n[err] \tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:240)\r\n[err] \tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:216)\r\n[err] \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n[err] \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n[err] \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n[err] \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n[err] \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:82)\r\n[err] \tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:63)\r\n[err] \tat org.springframework.boot.SpringApplicationRunListeners$$Lambda$71/0x000000006c31f840.accept(Unknown Source)\r\n[err] \tat java.util.ArrayList.forEach(ArrayList.java:1270)\r\n[err] \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:117)\r\n[err] \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:111)\r\n[err] \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:62)\r\n[err] \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:374)\r\n[err] \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:332)\r\n[err] \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\r\n[err] \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\r\n[err] \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\r\n[err] \tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\r\n[err] \tat com.ibm.ws.webcontainer.webapp.WebApp.initializeServletContainerInitializers(WebApp.java:2550)\r\n[err] \tat [internal classes]\r\n[err] \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n[err] \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n[err] \tat java.lang.Thread.run(Thread.java:822)\r\n```\r\n\r\nHere is my logback configuration:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;console-json&quot;\r\n              class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder name=&quot;LoggingEventCompositeJsonEncoder&quot;\r\n                 class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n            &lt;providers&gt;\r\n                &lt;timestamp/&gt;\r\n                &lt;version/&gt;\r\n                &lt;message/&gt;\r\n                &lt;loggerName&gt;\r\n                    &lt;shortenedLoggerNameLength&gt;20\r\n                    &lt;/shortenedLoggerNameLength&gt;\r\n                &lt;/loggerName&gt;\r\n                &lt;threadName/&gt;\r\n                &lt;logLevel/&gt;\r\n                &lt;logLevelValue/&gt;\r\n                &lt;callerData&gt;\r\n                    &lt;fieldName&gt;caller&lt;/fieldName&gt;\r\n                    &lt;classFieldName&gt;class&lt;/classFieldName&gt;\r\n                    &lt;methodFieldName&gt;method&lt;/methodFieldName&gt;\r\n                    &lt;fileFieldName&gt;file&lt;/fileFieldName&gt;\r\n                    &lt;lineFieldName&gt;line&lt;/lineFieldName&gt;\r\n                &lt;/callerData&gt;\r\n                &lt;stackTrace&gt;\r\n                    &lt;throwableConverter\r\n                            class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\r\n                        &lt;maxDepthPerThrowable&gt;100&lt;/maxDepthPerThrowable&gt;\r\n                        &lt;maxLength&gt;10000&lt;/maxLength&gt;\r\n                        &lt;shortenedClassNameLength&gt;30\r\n                        &lt;/shortenedClassNameLength&gt;\r\n                        &lt;rootCauseFirst&gt;true&lt;/rootCauseFirst&gt;\r\n                        &lt;inlineHash&gt;true&lt;/inlineHash&gt;\r\n                    &lt;/throwableConverter&gt;\r\n                &lt;/stackTrace&gt;\r\n                &lt;stackHash/&gt;\r\n                &lt;jsonMessage/&gt;\r\n                &lt;mdc/&gt;\r\n                &lt;contextMap/&gt;\r\n                &lt;tags/&gt;\r\n                &lt;logstashMarkers/&gt;\r\n                &lt;arguments&gt;\r\n                    &lt;includeNonStructuredArguments&gt;true\r\n                    &lt;/includeNonStructuredArguments&gt;\r\n                    &lt;nonStructuredArgumentsFieldPrefix&gt;prefix\r\n                    &lt;/nonStructuredArgumentsFieldPrefix&gt;\r\n                &lt;/arguments&gt;\r\n            &lt;/providers&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;logger name=&quot;org.springframework&quot; level=&quot;WARN&quot;/&gt;\r\n    &lt;logger name=&quot;org.hibernate&quot; level=&quot;WARN&quot;/&gt;\r\n    &lt;logger name=&quot;springfox&quot; level=&quot;WARN&quot;/&gt;\r\n\r\n    &lt;springProfile name=&quot;prod&quot;&gt;\r\n        &lt;root level=&quot;${logback_root_level:-INFO}&quot;&gt;\r\n            &lt;appender-ref ref=&quot;${logback_root_appender:-console-json}&quot;/&gt;\r\n        &lt;/root&gt;\r\n    &lt;/springProfile&gt;\r\n\r\n    &lt;springProfile name=&quot;minimal&quot;&gt;\r\n        &lt;root level=&quot;${logback_root_level:-WARN}&quot;&gt;\r\n            &lt;appender-ref ref=&quot;${logback_root_appender:-console-json}&quot;/&gt;\r\n        &lt;/root&gt;\r\n    &lt;/springProfile&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n\r\nAny help is appreciated!","title":"Logback configuration error detected: no applicable action for [springProfile], current ElementPath is [[configuration][springProfile]]","body":"<p>I have a Springboot application with Logback. This war is running in a Liberty webserver in a docker container</p>\n<p>Versions:\nSpringboot 2.5.3\nLogback 1.2.3</p>\n<p>I am seeing a weird behavior where if I run this container on a Mac or Redhat, the application starts up fine and logs as expected.\nHowever, when the same docker container is run in Ubuntu, I am seeing the following error from Logback's Joran interpreter :</p>\n<pre><code>...\n08:07:53,308 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [org.springframework] to WARN\n08:07:53,308 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [org.hibernate] to WARN\n08:07:53,308 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [springfox] to WARN\n08:07:53,313 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@88:32 - no applicable action for [springProfile], current ElementPath  is [[configuration][springProfile]]\n08:07:53,313 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@89:51 - no applicable action for [root], current ElementPath  is [[configuration][springProfile][root]]\n08:07:53,314 |-ERROR in ch.qos.logback.core.joran.spi.Interpreter@90:73 - no applicable action for [appender-ref], current ElementPath  is [[configuration][springProfile][root][appender-ref]]\n08:07:53,314 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.\n08:07:53,314 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@5b3de2a2 - Registering current configuration as safe fallback point\n[err] Logging system failed to initialize using configuration from '/logback-spring.xml'\n[err] java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.spi.Interpreter@88:32 - no applicable action for [springProfile], current ElementPath  is [[configuration][springProfile]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@89:51 - no applicable action for [root], current ElementPath  is [[configuration][springProfile][root]]\nERROR in ch.qos.logback.core.joran.spi.Interpreter@90:73 - no applicable action for [appender-ref], current ElementPath  is [[configuration][springProfile][root][appender-ref]]\n[err]   at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:179)\n[err]   at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithSpecificConfig(AbstractLoggingSystem.java:66)\n[err]   at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:57)\n[err]   at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:132)\n[err]   at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:316)\n[err]   at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:282)\n[err]   at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:240)\n[err]   at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:216)\n[err]   at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n[err]   at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n[err]   at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n[err]   at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n[err]   at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:82)\n[err]   at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:63)\n[err]   at org.springframework.boot.SpringApplicationRunListeners$$Lambda$71/0x000000006c31f840.accept(Unknown Source)\n[err]   at java.util.ArrayList.forEach(ArrayList.java:1270)\n[err]   at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:117)\n[err]   at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:111)\n[err]   at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:62)\n[err]   at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:374)\n[err]   at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)\n[err]   at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\n[err]   at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\n[err]   at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\n[err]   at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\n[err]   at com.ibm.ws.webcontainer.webapp.WebApp.initializeServletContainerInitializers(WebApp.java:2550)\n[err]   at [internal classes]\n[err]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n[err]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n[err]   at java.lang.Thread.run(Thread.java:822)\n</code></pre>\n<p>Here is my logback configuration:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;appender name=&quot;console-json&quot;\n              class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder name=&quot;LoggingEventCompositeJsonEncoder&quot;\n                 class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n            &lt;providers&gt;\n                &lt;timestamp/&gt;\n                &lt;version/&gt;\n                &lt;message/&gt;\n                &lt;loggerName&gt;\n                    &lt;shortenedLoggerNameLength&gt;20\n                    &lt;/shortenedLoggerNameLength&gt;\n                &lt;/loggerName&gt;\n                &lt;threadName/&gt;\n                &lt;logLevel/&gt;\n                &lt;logLevelValue/&gt;\n                &lt;callerData&gt;\n                    &lt;fieldName&gt;caller&lt;/fieldName&gt;\n                    &lt;classFieldName&gt;class&lt;/classFieldName&gt;\n                    &lt;methodFieldName&gt;method&lt;/methodFieldName&gt;\n                    &lt;fileFieldName&gt;file&lt;/fileFieldName&gt;\n                    &lt;lineFieldName&gt;line&lt;/lineFieldName&gt;\n                &lt;/callerData&gt;\n                &lt;stackTrace&gt;\n                    &lt;throwableConverter\n                            class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\n                        &lt;maxDepthPerThrowable&gt;100&lt;/maxDepthPerThrowable&gt;\n                        &lt;maxLength&gt;10000&lt;/maxLength&gt;\n                        &lt;shortenedClassNameLength&gt;30\n                        &lt;/shortenedClassNameLength&gt;\n                        &lt;rootCauseFirst&gt;true&lt;/rootCauseFirst&gt;\n                        &lt;inlineHash&gt;true&lt;/inlineHash&gt;\n                    &lt;/throwableConverter&gt;\n                &lt;/stackTrace&gt;\n                &lt;stackHash/&gt;\n                &lt;jsonMessage/&gt;\n                &lt;mdc/&gt;\n                &lt;contextMap/&gt;\n                &lt;tags/&gt;\n                &lt;logstashMarkers/&gt;\n                &lt;arguments&gt;\n                    &lt;includeNonStructuredArguments&gt;true\n                    &lt;/includeNonStructuredArguments&gt;\n                    &lt;nonStructuredArgumentsFieldPrefix&gt;prefix\n                    &lt;/nonStructuredArgumentsFieldPrefix&gt;\n                &lt;/arguments&gt;\n            &lt;/providers&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;logger name=&quot;org.springframework&quot; level=&quot;WARN&quot;/&gt;\n    &lt;logger name=&quot;org.hibernate&quot; level=&quot;WARN&quot;/&gt;\n    &lt;logger name=&quot;springfox&quot; level=&quot;WARN&quot;/&gt;\n\n    &lt;springProfile name=&quot;prod&quot;&gt;\n        &lt;root level=&quot;${logback_root_level:-INFO}&quot;&gt;\n            &lt;appender-ref ref=&quot;${logback_root_appender:-console-json}&quot;/&gt;\n        &lt;/root&gt;\n    &lt;/springProfile&gt;\n\n    &lt;springProfile name=&quot;minimal&quot;&gt;\n        &lt;root level=&quot;${logback_root_level:-WARN}&quot;&gt;\n            &lt;appender-ref ref=&quot;${logback_root_appender:-console-json}&quot;/&gt;\n        &lt;/root&gt;\n    &lt;/springProfile&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","spring","spring-boot","sonarqube"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1635922166,"post_id":69820647,"comment_id":123417997,"body_markdown":"As I understand from sonarqube issue don&#39;t take url parameter from user&#39;s data that is given by user input.","body":"As I understand from sonarqube issue don&#39;t take url parameter from user&#39;s data that is given by user input."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1635924369,"post_id":69820647,"comment_id":123418620,"body_markdown":"Just imagine that user wants to send request anywhere he/she wants. It is not appropriate to change url with user input.","body":"Just imagine that user wants to send request anywhere he/she wants. It is not appropriate to change url with user input."},{"owner":{"account_id":20511311,"reputation":597,"user_id":15053014,"display_name":"ima.technophyle"},"score":0,"creation_date":1635924519,"post_id":69820647,"comment_id":123418667,"body_markdown":"@Gurkanİlleez but I need to get information based on location. How do I achieve this?","body":"@Gurkanİlleez but I need to get information based on location. How do I achieve this?"}],"answers":[{"tags":[],"owner":{"account_id":378053,"reputation":4160,"user_id":730549,"accept_rate":68,"display_name":"Maulzey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635922544,"creation_date":1635922227,"answer_id":69820706,"question_id":69820647,"body_markdown":"What SonarQube is trying to tell you is that you are exposing your logic to input from the clients. A better solution would be to refactor your code to not depend on a specific header from the client to perform some action. Its hard to suggest sample code without seeing a little more of the codebase.","title":"SonnarQube&#39;s issue: change code to not construct the URL from user-controlled data","body":"<p>What SonarQube is trying to tell you is that you are exposing your logic to input from the clients. A better solution would be to refactor your code to not depend on a specific header from the client to perform some action. Its hard to suggest sample code without seeing a little more of the codebase.</p>\n"},{"tags":[],"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635924528,"creation_date":1635924528,"answer_id":69821063,"question_id":69820647,"body_markdown":"You are using input from the client/user (namly in the variable location) to construct an URL. So if the client/user supplies an malicious value to location he could form an invalid URL.\r\n\r\nIn the second example `String url = apiUrl + &quot;location&quot;;` you are not using user input, as &quot;location&quot; is a hard coded String.\r\n\r\nI don&#39;t know what you try to achieve with the code. But maybe it&#39;s better to hold a list of possible URLs and the user supplies and enum value that maps to an URL.","title":"SonnarQube&#39;s issue: change code to not construct the URL from user-controlled data","body":"<p>You are using input from the client/user (namly in the variable location) to construct an URL. So if the client/user supplies an malicious value to location he could form an invalid URL.</p>\n<p>In the second example <code>String url = apiUrl + &quot;location&quot;;</code> you are not using user input, as &quot;location&quot; is a hard coded String.</p>\n<p>I don't know what you try to achieve with the code. But maybe it's better to hold a list of possible URLs and the user supplies and enum value that maps to an URL.</p>\n"},{"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635926427,"creation_date":1635924751,"answer_id":69821096,"question_id":69820647,"body_markdown":"    String url = &quot;https://someurl/%s&quot;;\r\n    url = String.format(url,location);\r\n    sendRequest(url);\r\n\r\n\r\nMaybe this approach won&#39;t give error.","title":"SonnarQube&#39;s issue: change code to not construct the URL from user-controlled data","body":"<pre><code>String url = &quot;https://someurl/%s&quot;;\nurl = String.format(url,location);\nsendRequest(url);\n</code></pre>\n<p>Maybe this approach won't give error.</p>\n"},{"tags":[],"owner":{"account_id":20511311,"reputation":597,"user_id":15053014,"display_name":"ima.technophyle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635926558,"creation_date":1635926558,"answer_id":69821410,"question_id":69820647,"body_markdown":"I added validation for the Location variable and this solved the issue\r\n\r\n    if(!location.matches(...)) {\r\n       throw error.....\r\n    }\r\n    \r\n    String url = apiUrl + location;","title":"SonnarQube&#39;s issue: change code to not construct the URL from user-controlled data","body":"<p>I added validation for the Location variable and this solved the issue</p>\n<pre><code>if(!location.matches(...)) {\n   throw error.....\n}\n\nString url = apiUrl + location;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29362094,"reputation":1,"user_id":22496631,"display_name":"Purushottam Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693818448,"creation_date":1693818448,"answer_id":77036426,"question_id":69820647,"body_markdown":"Make sure this Azure Storage Account Key is not disclosed. This message showing in sonarqube in the project. how to solve this.","title":"SonnarQube&#39;s issue: change code to not construct the URL from user-controlled data","body":"<p>Make sure this Azure Storage Account Key is not disclosed. This message showing in sonarqube in the project. how to solve this.</p>\n"}],"owner":{"account_id":20511311,"reputation":597,"user_id":15053014,"display_name":"ima.technophyle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16759,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1693818448,"creation_date":1635921862,"question_id":69820647,"body_markdown":"I facing a SonarQube bug and am not able to figure out whats the issue. SonnarQube&#39;s issue is, change this code to not construct the URL from user-controlled data.    \r\n\r\n    @Value(&quot;${...}&quot;)\r\n    String apiKey;\r\n    \r\n    @Value(&quot;${...}&quot;)\r\n    String apiUrl;\r\n    \r\n    public Response apiResponse(String location) {\r\n    \r\n       HttpHeaders headers = new HttpHeaders();\r\n       headers.add(&quot;x-apikey&quot;, apiKey);\r\n    \r\n       HttpEntity&lt;Object&gt; entity = new HttpEntity&lt;&gt;(headers);\r\n    \r\n       String url = apiUrl + location; // SonarQube issue: tainted value is propagated\r\n    \r\n       Response response = null;\r\n    \r\n       try {\r\n    \r\n          ResponseEntity&lt;Response&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, entity, Response.class); // SonarQube issue: Tainted value is used to perform a security- sensitive operation.\r\n    \r\n          response = responseEntity.getBody();\r\n    \r\n       } catch(Exception){\r\n    \r\n           // doesn&#39;t throw anything\r\n    \r\n       }\r\n    \r\n       return response;\r\n    \r\n    }\r\n    \r\n    @Cacheable(...)\r\n    Response cacheResponse(String location, String tokenKey) {\r\n    \r\n      return apiResponse(location); // SonarQube issue: tainted value is propagated\r\n    }\r\n\r\n\r\nThis fixed the issue, but why is that so? and how can I apply this in the above code?\r\n\r\n     String url = apiUrl + location; // SonarQube issue: tainted \r\n\r\nInstead, I just tried hardcoding the value of location and fixed the issue.\r\n\r\n    String url = apiUrl + &quot;location&quot;;\r\n\r\nSo weird...\r\n\r\n\r\n","title":"SonnarQube&#39;s issue: change code to not construct the URL from user-controlled data","body":"<p>I facing a SonarQube bug and am not able to figure out whats the issue. SonnarQube's issue is, change this code to not construct the URL from user-controlled data.</p>\n<pre><code>@Value(&quot;${...}&quot;)\nString apiKey;\n\n@Value(&quot;${...}&quot;)\nString apiUrl;\n\npublic Response apiResponse(String location) {\n\n   HttpHeaders headers = new HttpHeaders();\n   headers.add(&quot;x-apikey&quot;, apiKey);\n\n   HttpEntity&lt;Object&gt; entity = new HttpEntity&lt;&gt;(headers);\n\n   String url = apiUrl + location; // SonarQube issue: tainted value is propagated\n\n   Response response = null;\n\n   try {\n\n      ResponseEntity&lt;Response&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, entity, Response.class); // SonarQube issue: Tainted value is used to perform a security- sensitive operation.\n\n      response = responseEntity.getBody();\n\n   } catch(Exception){\n\n       // doesn't throw anything\n\n   }\n\n   return response;\n\n}\n\n@Cacheable(...)\nResponse cacheResponse(String location, String tokenKey) {\n\n  return apiResponse(location); // SonarQube issue: tainted value is propagated\n}\n</code></pre>\n<p>This fixed the issue, but why is that so? and how can I apply this in the above code?</p>\n<pre><code> String url = apiUrl + location; // SonarQube issue: tainted \n</code></pre>\n<p>Instead, I just tried hardcoding the value of location and fixed the issue.</p>\n<pre><code>String url = apiUrl + &quot;location&quot;;\n</code></pre>\n<p>So weird...</p>\n"},{"tags":["java","selenium-webdriver","intellij-idea","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":24958929,"reputation":26,"user_id":18823076,"display_name":"Reyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693738429,"creation_date":1693738429,"answer_id":77031959,"question_id":77031009,"body_markdown":"In my case I haven&#39;t created a blank log file mentioned in the ChromeDriverService configuration steps. Once I created it i was not able to see this error.","title":"Chrome Driver For Selenium","body":"<p>In my case I haven't created a blank log file mentioned in the ChromeDriverService configuration steps. Once I created it i was not able to see this error.</p>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693818418,"creation_date":1693818418,"answer_id":77036422,"question_id":77031009,"body_markdown":"````\r\nWARNING: Unable to find an exact match for CDP version 116, so returning the closest version found: 114\r\n````\r\nAbove warning suggests that, the browser you are using is version `116`, and the CDP version supported by your selenium is `114`. Selenium `v4.10.0` only supports up to CDP version `114`, check below:\r\n\r\n[![enter image description here][1]][1] \r\n\r\nSource: https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\r\n\r\n**Solution:**\r\n1. You can simply ignore this WARN, it won&#39;t effect the execution of your code\r\n\r\n2. If you want to get rid of this WARN, just upgrade your selenium version from `4.10.0` to `4.12.0`. Check below, latest selenium(`4.12.0`) supports `116` CDP version:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OGZgW.png\r\n  [2]: https://i.stack.imgur.com/oOwmA.png","title":"Chrome Driver For Selenium","body":"<pre><code>WARNING: Unable to find an exact match for CDP version 116, so returning the closest version found: 114\n</code></pre>\n<p>Above warning suggests that, the browser you are using is version <code>116</code>, and the CDP version supported by your selenium is <code>114</code>. Selenium <code>v4.10.0</code> only supports up to CDP version <code>114</code>, check below:</p>\n<p><a href=\"https://i.stack.imgur.com/OGZgW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OGZgW.png\" alt=\"enter image description here\" /></a></p>\n<p>Source: <a href=\"https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG</a></p>\n<p><strong>Solution:</strong></p>\n<ol>\n<li><p>You can simply ignore this WARN, it won't effect the execution of your code</p>\n</li>\n<li><p>If you want to get rid of this WARN, just upgrade your selenium version from <code>4.10.0</code> to <code>4.12.0</code>. Check below, latest selenium(<code>4.12.0</code>) supports <code>116</code> CDP version:</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/oOwmA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oOwmA.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29355168,"reputation":1,"user_id":22491288,"display_name":"Nazryniche"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693818418,"creation_date":1693718638,"question_id":77031009,"body_markdown":"I have a problem chrome driver in Automation Testing when i am running the code they will this and my page closed :(\r\n\r\n````\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nсент. 03, 2023 9:06:45 AM org.openqa.selenium.remote.service.DriverService$Builder getLogOutput\r\nINFO: Driver logs no longer sent to console by default; https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output\r\nсент. 03, 2023 9:06:50 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\nWARNING: Unable to find an exact match for CDP version 116, so returning the closest version found: 114\r\n````\r\nAnd my dependencies\r\n \r\n```\r\n &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n        &lt;webdriver.manager.version&gt;5.5.2&lt;/webdriver.manager.version&gt;\r\n        &lt;selenium.java.version&gt;4.10.0&lt;/selenium.java.version&gt;\r\n        &lt;testng.version&gt;7.8.0&lt;/testng.version&gt;\r\n\r\n        &lt;browser&gt;chrome&lt;/browser&gt;\r\n        &lt;base.url&gt;https://www.saucedemo.com/v1/&lt;/base.url&gt;\r\n    &lt;/properties&gt;\r\n  &lt;dependencies&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;${webdriver.manager.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${selenium.java.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;${testng.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"Chrome Driver For Selenium","body":"<p>I have a problem chrome driver in Automation Testing when i am running the code they will this and my page closed :(</p>\n<pre><code>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nсент. 03, 2023 9:06:45 AM org.openqa.selenium.remote.service.DriverService$Builder getLogOutput\nINFO: Driver logs no longer sent to console by default; https://www.selenium.dev/documentation/webdriver/drivers/service/#setting-log-output\nсент. 03, 2023 9:06:50 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 116, so returning the closest version found: 114\n</code></pre>\n<p>And my dependencies</p>\n<pre><code> &lt;properties&gt;\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n        &lt;webdriver.manager.version&gt;5.5.2&lt;/webdriver.manager.version&gt;\n        &lt;selenium.java.version&gt;4.10.0&lt;/selenium.java.version&gt;\n        &lt;testng.version&gt;7.8.0&lt;/testng.version&gt;\n\n        &lt;browser&gt;chrome&lt;/browser&gt;\n        &lt;base.url&gt;https://www.saucedemo.com/v1/&lt;/base.url&gt;\n    &lt;/properties&gt;\n  &lt;dependencies&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;${webdriver.manager.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;${selenium.java.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;${testng.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n            &lt;version&gt;4.10.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n            &lt;version&gt;4.10.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":382096,"reputation":1696,"user_id":737124,"accept_rate":79,"display_name":"Hozefa"},"score":0,"creation_date":1336432652,"post_id":10490024,"comment_id":13558533,"body_markdown":"Did anyone face a similar problem?","body":"Did anyone face a similar problem?"},{"owner":{"account_id":1057241,"reputation":2580,"user_id":1059670,"accept_rate":79,"display_name":"rags"},"score":0,"creation_date":1336459063,"post_id":10490024,"comment_id":13563605,"body_markdown":"DTD specified in your DOCTYPE is not matching with the DTD existing in your project. Please correct it","body":"DTD specified in your DOCTYPE is not matching with the DTD existing in your project. Please correct it"},{"owner":{"account_id":382096,"reputation":1696,"user_id":737124,"accept_rate":79,"display_name":"Hozefa"},"score":0,"creation_date":1336499285,"post_id":10490024,"comment_id":13579146,"body_markdown":"@rags: Can you tell me what I need to correct. I am specifying the encoding type. But I still get the error. Also the xml file is auto generated by hibernate.","body":"@rags: Can you tell me what I need to correct. I am specifying the encoding type. But I still get the error. Also the xml file is auto generated by hibernate."},{"owner":{"account_id":1057241,"reputation":2580,"user_id":1059670,"accept_rate":79,"display_name":"rags"},"score":1,"creation_date":1336540036,"post_id":10490024,"comment_id":13589279,"body_markdown":"In your DOCTYPE statement, you have reference to hibernate-mapping-3.0.dtd. This .dtd is part of hibernate.jar file. You application looks for hibernate.jar in CLASSPATH. Make sure that the hibernate.jar is included in the project and it has the hibernate-mapping-3.0.dtd in it.","body":"In your DOCTYPE statement, you have reference to hibernate-mapping-3.0.dtd. This .dtd is part of hibernate.jar file. You application looks for hibernate.jar in CLASSPATH. Make sure that the hibernate.jar is included in the project and it has the hibernate-mapping-3.0.dtd in it."}],"answers":[{"tags":[],"owner":{"account_id":1041278,"reputation":5253,"user_id":1047269,"display_name":"Johanna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336476924,"creation_date":1336476924,"answer_id":10497819,"question_id":10490024,"body_markdown":"This behavior can happen if there is any illegal character in the header before the starting `&lt;hibernate-mapping&gt;` tag. This even can be a non-printable character.\r\n\r\nOne other reason why this can happen is a wrong character encoding. The first line in my mapping files always is\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n","title":"Hibernate Error: org.xml.sax.SAXParseException: Element type &quot;hibernate-mapping&quot; must be declared","body":"<p>This behavior can happen if there is any illegal character in the header before the starting <code>&lt;hibernate-mapping&gt;</code> tag. This even can be a non-printable character.</p>\n\n<p>One other reason why this can happen is a wrong character encoding. The first line in my mapping files always is</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2048227,"reputation":105,"user_id":1827844,"display_name":"Paul Bors"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353955100,"creation_date":1353955100,"answer_id":13571045,"question_id":10490024,"body_markdown":"As Rags mentioned, you must include the appropiate hibernate jar on your CLASSPATH.\r\n\r\nFor more details see:\r\nhttp://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html_single/#tutorial-firstapp-mapping\r\n\r\n    Hibernate will not load the DTD file from the web, but first look it up from the classpath of \r\n    the application. The DTD file is included in hibernate-core.jar (it is also included in the \r\n    hibernate3.jar, if using the distribution bundle). ","title":"Hibernate Error: org.xml.sax.SAXParseException: Element type &quot;hibernate-mapping&quot; must be declared","body":"<p>As Rags mentioned, you must include the appropiate hibernate jar on your CLASSPATH.</p>\n\n<p>For more details see:\n<a href=\"http://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html_single/#tutorial-firstapp-mapping\" rel=\"nofollow\">http://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html_single/#tutorial-firstapp-mapping</a></p>\n\n<pre><code>Hibernate will not load the DTD file from the web, but first look it up from the classpath of \nthe application. The DTD file is included in hibernate-core.jar (it is also included in the \nhibernate3.jar, if using the distribution bundle). \n</code></pre>\n"}],"owner":{"account_id":382096,"reputation":1696,"user_id":737124,"accept_rate":79,"display_name":"Hozefa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8325,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693818370,"creation_date":1336429827,"question_id":10490024,"body_markdown":"I am using hibernate-core-4.1.3.Final.jar. While inserting the data into the table I am getting the following error :\r\n\r\n`org.xml.sax.SAXParseException: Element type &quot;hibernate-mapping&quot; must be declared.` \r\n\r\nMy mapping file is as following:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n     &quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\r\n    &lt;!-- Generated May 7, 2012 3:07:47 PM by Hibernate Tools 3.4.0.CR1 --&gt;\r\n    &lt;hibernate-mapping&gt;\r\n    &lt;class name=&quot;com.paypal.socialpay.models.User&quot; table=&quot;user&quot; catalog=&quot;socialdb&quot;&gt;\r\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Integer&quot;&gt;\r\n            &lt;column name=&quot;id&quot; /&gt;\r\n            &lt;generator class=&quot;identity&quot; /&gt;\r\n        &lt;/id&gt;\r\n        &lt;property name=&quot;payerid&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;payerid&quot; length=&quot;50&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;emailid&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;emailid&quot; length=&quot;100&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;createdDt&quot; type=&quot;timestamp&quot;&gt;\r\n            &lt;column name=&quot;created_dt&quot; length=&quot;0&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;updatedDt&quot; type=&quot;timestamp&quot;&gt;\r\n            &lt;column name=&quot;updated_dt&quot; length=&quot;0&quot; not-null=&quot;true&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;firstname&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;firstname&quot; length=&quot;100&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;lastname&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;lastname&quot; length=&quot;100&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;correlationid&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;correlationid&quot; length=&quot;100&quot; /&gt;\r\n        &lt;/property&gt;\r\n    &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\n\r\n\r\nThe stack trace of the error is :\r\n\r\n    org.xml.sax.SAXParseException: Element type &quot;hibernate-mapping&quot; must be declared.\r\n    \tat org.apache.xerces.framework.XMLParser.reportError(XMLParser.java:1213)\r\n    \tat org.apache.xerces.validators.common.XMLValidator.reportRecoverableXMLError(XMLValidator.java:1807)\r\n    \tat org.apache.xerces.validators.common.XMLValidator.validateElementAndAttributes(XMLValidator.java:3633)\r\n    \tat org.apache.xerces.validators.common.XMLValidator.callStartElement(XMLValidator.java:1229)\r\n    \tat org.apache.xerces.framework.XMLDocumentScanner$ContentDispatcher.dispatch(XMLDocumentScanner.java:938)\r\n    \tat org.apache.xerces.framework.XMLDocumentScanner.parseSome(XMLDocumentScanner.java:381)\r\n    \tat org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1098)\r\n    \tat org.dom4j.io.SAXReader.read(SAXReader.java:465)\r\n    \tat org.hibernate.internal.util.xml.MappingReader.readMappingDocument(MappingReader.java:78)\r\n    \tat org.hibernate.cfg.Configuration.add(Configuration.java:478)\r\n    \tat org.hibernate.cfg.Configuration.add(Configuration.java:474)\r\n    \tat org.hibernate.cfg.Configuration.add(Configuration.java:647)\r\n    \tat org.hibernate.cfg.Configuration.addResource(Configuration.java:730)\r\n    \tat org.hibernate.cfg.Configuration.parseMappingElement(Configuration.java:2109)\r\n    \tat org.hibernate.cfg.Configuration.parseSessionFactory(Configuration.java:2081)\r\n    \tat org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2061)\r\n    \tat org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2014)\r\n    \tat org.hibernate.cfg.Configuration.configure(Configuration.java:1929)\r\n    \tat org.hibernate.cfg.Configuration.configure(Configuration.java:1908)\r\n    \tat com.paypal.utils.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:12)\r\n    \tat com.paypal.utils.UserService.findUserByEmail(UserService.java:29)\r\n    \tat com.paypal.socialpay.controllers.APIController.doGetAuthDetails(APIController.java:257)\r\n    \tat com.paypal.socialpay.controllers.APIController.handleRequest(APIController.java:73)\r\n    \tat com.paypal.socialpay.controllers.APIController.doPost(APIController.java:55)\r\n    \tat com.paypal.socialpay.controllers.APIController.doGet(APIController.java:49)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:680)\r\n\r\n","title":"Hibernate Error: org.xml.sax.SAXParseException: Element type &quot;hibernate-mapping&quot; must be declared","body":"<p>I am using hibernate-core-4.1.3.Final.jar. While inserting the data into the table I am getting the following error :</p>\n\n<p><code>org.xml.sax.SAXParseException: Element type \"hibernate-mapping\" must be declared.</code> </p>\n\n<p>My mapping file is as following:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC \"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\n \"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd\"&gt;\n&lt;!-- Generated May 7, 2012 3:07:47 PM by Hibernate Tools 3.4.0.CR1 --&gt;\n&lt;hibernate-mapping&gt;\n&lt;class name=\"com.paypal.socialpay.models.User\" table=\"user\" catalog=\"socialdb\"&gt;\n    &lt;id name=\"id\" type=\"java.lang.Integer\"&gt;\n        &lt;column name=\"id\" /&gt;\n        &lt;generator class=\"identity\" /&gt;\n    &lt;/id&gt;\n    &lt;property name=\"payerid\" type=\"string\"&gt;\n        &lt;column name=\"payerid\" length=\"50\" not-null=\"true\" /&gt;\n    &lt;/property&gt;\n    &lt;property name=\"emailid\" type=\"string\"&gt;\n        &lt;column name=\"emailid\" length=\"100\" not-null=\"true\" /&gt;\n    &lt;/property&gt;\n    &lt;property name=\"createdDt\" type=\"timestamp\"&gt;\n        &lt;column name=\"created_dt\" length=\"0\" not-null=\"true\" /&gt;\n    &lt;/property&gt;\n    &lt;property name=\"updatedDt\" type=\"timestamp\"&gt;\n        &lt;column name=\"updated_dt\" length=\"0\" not-null=\"true\" /&gt;\n    &lt;/property&gt;\n    &lt;property name=\"firstname\" type=\"string\"&gt;\n        &lt;column name=\"firstname\" length=\"100\" /&gt;\n    &lt;/property&gt;\n    &lt;property name=\"lastname\" type=\"string\"&gt;\n        &lt;column name=\"lastname\" length=\"100\" /&gt;\n    &lt;/property&gt;\n    &lt;property name=\"correlationid\" type=\"string\"&gt;\n        &lt;column name=\"correlationid\" length=\"100\" /&gt;\n    &lt;/property&gt;\n&lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>The stack trace of the error is :</p>\n\n<pre><code>org.xml.sax.SAXParseException: Element type \"hibernate-mapping\" must be declared.\n    at org.apache.xerces.framework.XMLParser.reportError(XMLParser.java:1213)\n    at org.apache.xerces.validators.common.XMLValidator.reportRecoverableXMLError(XMLValidator.java:1807)\n    at org.apache.xerces.validators.common.XMLValidator.validateElementAndAttributes(XMLValidator.java:3633)\n    at org.apache.xerces.validators.common.XMLValidator.callStartElement(XMLValidator.java:1229)\n    at org.apache.xerces.framework.XMLDocumentScanner$ContentDispatcher.dispatch(XMLDocumentScanner.java:938)\n    at org.apache.xerces.framework.XMLDocumentScanner.parseSome(XMLDocumentScanner.java:381)\n    at org.apache.xerces.framework.XMLParser.parse(XMLParser.java:1098)\n    at org.dom4j.io.SAXReader.read(SAXReader.java:465)\n    at org.hibernate.internal.util.xml.MappingReader.readMappingDocument(MappingReader.java:78)\n    at org.hibernate.cfg.Configuration.add(Configuration.java:478)\n    at org.hibernate.cfg.Configuration.add(Configuration.java:474)\n    at org.hibernate.cfg.Configuration.add(Configuration.java:647)\n    at org.hibernate.cfg.Configuration.addResource(Configuration.java:730)\n    at org.hibernate.cfg.Configuration.parseMappingElement(Configuration.java:2109)\n    at org.hibernate.cfg.Configuration.parseSessionFactory(Configuration.java:2081)\n    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2061)\n    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2014)\n    at org.hibernate.cfg.Configuration.configure(Configuration.java:1929)\n    at org.hibernate.cfg.Configuration.configure(Configuration.java:1908)\n    at com.paypal.utils.HibernateUtil.&lt;clinit&gt;(HibernateUtil.java:12)\n    at com.paypal.utils.UserService.findUserByEmail(UserService.java:29)\n    at com.paypal.socialpay.controllers.APIController.doGetAuthDetails(APIController.java:257)\n    at com.paypal.socialpay.controllers.APIController.handleRequest(APIController.java:73)\n    at com.paypal.socialpay.controllers.APIController.doPost(APIController.java:55)\n    at com.paypal.socialpay.controllers.APIController.doGet(APIController.java:49)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:680)\n</code></pre>\n"},{"tags":["java","jdbc","batch-updates"],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1426674956,"creation_date":1426674956,"answer_id":29119725,"question_id":29119319,"body_markdown":"You have to `try-catch` the `stmt.executeBatch()` call and check for details in the exception. Batch execution will stop on first error that will occure. ","title":"Identify the failure of a executeBatch() in JDBC","body":"<p>You have to <code>try-catch</code> the <code>stmt.executeBatch()</code> call and check for details in the exception. Batch execution will stop on first error that will occure. </p>\n"},{"tags":[],"owner":{"account_id":8356470,"reputation":125,"user_id":6276545,"display_name":"Ewe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693818089,"creation_date":1693818089,"answer_id":77036395,"question_id":29119319,"body_markdown":"If exception is thrown and you want to know what exactly was the exception for every failed insert you could use this catch block and it will print exact reason for failing:\r\n\r\n      catch (SQLException sqlException) {\r\n\t\t\twhile (sqlException != null) {\r\n\t\t\t\tSystem.err.println(&quot;Error msg: &quot; + sqlException.getMessage());\r\n\t\t\t\tsqlException = sqlException.getNextException();\r\n\t\t\t}\r\n\t\t} \r\n\r\nThis will print on console something like this: &quot;...Exception in record #123...&quot; which shows in what record did exception occurred and will print SQLCODE and SQLSTATE","title":"Identify the failure of a executeBatch() in JDBC","body":"<p>If exception is thrown and you want to know what exactly was the exception for every failed insert you could use this catch block and it will print exact reason for failing:</p>\n<pre><code>  catch (SQLException sqlException) {\n        while (sqlException != null) {\n            System.err.println(&quot;Error msg: &quot; + sqlException.getMessage());\n            sqlException = sqlException.getNextException();\n        }\n    } \n</code></pre>\n<p>This will print on console something like this: &quot;...Exception in record #123...&quot; which shows in what record did exception occurred and will print SQLCODE and SQLSTATE</p>\n"}],"owner":{"account_id":5773167,"reputation":454,"user_id":4556041,"accept_rate":59,"display_name":"Nagesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2793,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693818089,"creation_date":1426673770,"question_id":29119319,"body_markdown":"I am using the following code to Insert data into a table. \r\n\r\n    test_conn.setAutoCommit(false);\r\n    stmt = test_conn.prepareStatement(&quot;INSERT INTO ...&quot;);\r\n    \r\n    while(RSet.next()){\r\n       for(int i = 1; i &lt;= columnCount; i++){\r\n           stmt.setString(i, RSet.getString(i));\r\n       }\r\n       stmt.addBatch();\r\n    }\r\n    \r\n    stmt.executeBatch();\r\n    test_conn.commit();\r\n\r\n other processing methods to occur only all the above rows are successfully inserted....\r\n \r\nwhen I Insert into table using `executeBatch()`, if an SQL Exception or Error occurs in Inserting , is it possible to find Insertion of which Record has thrown the exception?\r\n","title":"Identify the failure of a executeBatch() in JDBC","body":"<p>I am using the following code to Insert data into a table. </p>\n\n<pre><code>test_conn.setAutoCommit(false);\nstmt = test_conn.prepareStatement(\"INSERT INTO ...\");\n\nwhile(RSet.next()){\n   for(int i = 1; i &lt;= columnCount; i++){\n       stmt.setString(i, RSet.getString(i));\n   }\n   stmt.addBatch();\n}\n\nstmt.executeBatch();\ntest_conn.commit();\n</code></pre>\n\n<p>other processing methods to occur only all the above rows are successfully inserted....</p>\n\n<p>when I Insert into table using <code>executeBatch()</code>, if an SQL Exception or Error occurs in Inserting , is it possible to find Insertion of which Record has thrown the exception?</p>\n"},{"tags":["java","oauth-2.0","keycloak","openid"],"owner":{"account_id":23466006,"reputation":1,"user_id":22496250,"display_name":"Gefeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693817915,"creation_date":1693817765,"question_id":77036361,"body_markdown":"When creating new client in Keycloak using Dynamic Client Registration, a new client has a **Standard Flow Enabled = true** and **Service Accounts Enabled = true**. That means that a client has **authorization_code** and **client_credentials** grant types.\r\nBut that is not what I expect. \r\nI send a request to creat a new client with only client_credentials grant type, so only Service Accounts Enabled should be true.\r\nHere is the example of the json value that I send to registration endpoint(*https://keycloak:port/realms/realm-name/clients-registrations/openid-connect*):\r\n```\r\n{&quot;redirect_uris&quot;:[],&quot;response_types&quot;:[],&quot;grant_types&quot;:[&quot;client_credentials&quot;],&quot;application_type&quot;:&quot;backend_to_backend&quot;,&quot;client_name&quot;:&quot;test&quot;}\r\n```\r\nResponse json value example:\r\n```\r\n{&quot;redirect_uris&quot;:[],&quot;token_endpoint_auth_method&quot;:&quot;client_secret_basic&quot;,&quot;grant_types&quot;:[&quot;authorization_code&quot;,&quot;client_credentials&quot;],&quot;response_types&quot;:[&quot;code&quot;,&quot;none&quot;],&quot;client_id&quot;:&quot;afg6876c-c16b-4a40-b06b-85e758b2355b&quot;,&quot;client_secret&quot;:&quot;fghIfqd0OG6gfKGIKjUzyutP76q6QbEu&quot;,&quot;client_name&quot;:&quot;test&quot;,&quot;scope&quot;:&quot;address phone offline_access microprofile-jwt&quot;,&quot;subject_type&quot;:&quot;public&quot;,&quot;request_uris&quot;:[],&quot;tls_client_certificate_bound_access_tokens&quot;:false,&quot;client_id_issued_at&quot;:1693816447,&quot;client_secret_expires_at&quot;:0,&quot;registration_client_uri&quot;:&quot;https://keycloak:port/realms/realm-name/clients-registrations/openid-connect/afg6876c-c16b-4a40-b06b-85e758b2355b&quot;,&quot;registration_access_token&quot;:...\r\n```\r\n\r\nMy question is how to make a new keycloak client using Dynamic Client Registration with only client_credentials grant type and only Service Accounts Enabled = true?\r\nStandard Flow Enabled flag must be false. \r\n[Keycloak created client config example](https://i.stack.imgur.com/wUNrE.jpg)","title":"Disable Standard Flow when creating new client in Keycloak with dynamic client registration","body":"<p>When creating new client in Keycloak using Dynamic Client Registration, a new client has a <strong>Standard Flow Enabled = true</strong> and <strong>Service Accounts Enabled = true</strong>. That means that a client has <strong>authorization_code</strong> and <strong>client_credentials</strong> grant types.\nBut that is not what I expect.\nI send a request to creat a new client with only client_credentials grant type, so only Service Accounts Enabled should be true.\nHere is the example of the json value that I send to registration endpoint(<em>https://keycloak:port/realms/realm-name/clients-registrations/openid-connect</em>):</p>\n<pre><code>{&quot;redirect_uris&quot;:[],&quot;response_types&quot;:[],&quot;grant_types&quot;:[&quot;client_credentials&quot;],&quot;application_type&quot;:&quot;backend_to_backend&quot;,&quot;client_name&quot;:&quot;test&quot;}\n</code></pre>\n<p>Response json value example:</p>\n<pre><code>{&quot;redirect_uris&quot;:[],&quot;token_endpoint_auth_method&quot;:&quot;client_secret_basic&quot;,&quot;grant_types&quot;:[&quot;authorization_code&quot;,&quot;client_credentials&quot;],&quot;response_types&quot;:[&quot;code&quot;,&quot;none&quot;],&quot;client_id&quot;:&quot;afg6876c-c16b-4a40-b06b-85e758b2355b&quot;,&quot;client_secret&quot;:&quot;fghIfqd0OG6gfKGIKjUzyutP76q6QbEu&quot;,&quot;client_name&quot;:&quot;test&quot;,&quot;scope&quot;:&quot;address phone offline_access microprofile-jwt&quot;,&quot;subject_type&quot;:&quot;public&quot;,&quot;request_uris&quot;:[],&quot;tls_client_certificate_bound_access_tokens&quot;:false,&quot;client_id_issued_at&quot;:1693816447,&quot;client_secret_expires_at&quot;:0,&quot;registration_client_uri&quot;:&quot;https://keycloak:port/realms/realm-name/clients-registrations/openid-connect/afg6876c-c16b-4a40-b06b-85e758b2355b&quot;,&quot;registration_access_token&quot;:...\n</code></pre>\n<p>My question is how to make a new keycloak client using Dynamic Client Registration with only client_credentials grant type and only Service Accounts Enabled = true?\nStandard Flow Enabled flag must be false.\n<a href=\"https://i.stack.imgur.com/wUNrE.jpg\" rel=\"nofollow noreferrer\">Keycloak created client config example</a></p>\n"},{"tags":["java","jdbc","bulkinsert","cratedb"],"comments":[{"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"score":0,"creation_date":1519284489,"post_id":48921660,"comment_id":84849896,"body_markdown":"Which driver and DB are you using?","body":"Which driver and DB are you using?"},{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":0,"creation_date":1519285722,"post_id":48921660,"comment_id":84850468,"body_markdown":"It&#39;s JDBC driver 2.2.0, crate 2.3.3","body":"It&#39;s JDBC driver 2.2.0, crate 2.3.3"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1519305178,"creation_date":1519304038,"answer_id":48927960,"question_id":48921660,"body_markdown":"Please check the API documentation of [`java.sql.BatchUpdateException`][1] (emphasis mine):\r\n\r\n&gt; After a command in a batch update fails to execute properly and a\r\n&gt; `BatchUpdateException` is thrown, the driver may or may not continue\r\n&gt; to process the remaining commands in the batch. If the driver\r\n&gt; continues processing after a failure, the array returned by the method\r\n&gt; `BatchUpdateException.getUpdateCounts` will have an element for every\r\n&gt; command in the batch rather than only elements for the commands that\r\n&gt; executed successfully before the error. In the case where the driver\r\n&gt; continues processing commands, **the array element for any command\r\n&gt; that failed is `Statement.EXECUTE_FAILED`.**\r\n\r\nand [`Statement.executeBatch()`][2]:\r\n\r\n&gt; A value of `EXECUTE_FAILED` -- indicates that the command failed to\r\n&gt; execute successfully and occurs only if a driver continues to process\r\n&gt; commands after a command fails\r\n\r\nValue `-3` is constant `Statement.EXECUTE_FAILED`. In some drivers the exceptions of those execution failures will be chained to this `BatchUpdateException` (check `getNextException` or iterate over all throwables of the exception).\r\n\r\nHowever, if all subsequent values report `Statement.EXECUTE_FAILED`, it might mean that the driver does not actually try to execute the remaining parameter sets, but instead simply reports `Statement.EXECUTE_FAILED` for all parameter sets from the first failure on. In that case a driver should &#39;give up&#39; after the first failure and only report the update counts of the successfully executed parameter sets, as described in the JDBC specification and API documentation.\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/sql/BatchUpdateException.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/sql/Statement.html#executeBatch--","title":"What does return value -3 indicate when sending a JDBC bulk insert to crate.io","body":"<p>Please check the API documentation of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/sql/BatchUpdateException.html\" rel=\"nofollow noreferrer\"><code>java.sql.BatchUpdateException</code></a> (emphasis mine):</p>\n\n<blockquote>\n  <p>After a command in a batch update fails to execute properly and a\n  <code>BatchUpdateException</code> is thrown, the driver may or may not continue\n  to process the remaining commands in the batch. If the driver\n  continues processing after a failure, the array returned by the method\n  <code>BatchUpdateException.getUpdateCounts</code> will have an element for every\n  command in the batch rather than only elements for the commands that\n  executed successfully before the error. In the case where the driver\n  continues processing commands, <strong>the array element for any command\n  that failed is <code>Statement.EXECUTE_FAILED</code>.</strong></p>\n</blockquote>\n\n<p>and <a href=\"https://docs.oracle.com/javase/9/docs/api/java/sql/Statement.html#executeBatch--\" rel=\"nofollow noreferrer\"><code>Statement.executeBatch()</code></a>:</p>\n\n<blockquote>\n  <p>A value of <code>EXECUTE_FAILED</code> -- indicates that the command failed to\n  execute successfully and occurs only if a driver continues to process\n  commands after a command fails</p>\n</blockquote>\n\n<p>Value <code>-3</code> is constant <code>Statement.EXECUTE_FAILED</code>. In some drivers the exceptions of those execution failures will be chained to this <code>BatchUpdateException</code> (check <code>getNextException</code> or iterate over all throwables of the exception).</p>\n\n<p>However, if all subsequent values report <code>Statement.EXECUTE_FAILED</code>, it might mean that the driver does not actually try to execute the remaining parameter sets, but instead simply reports <code>Statement.EXECUTE_FAILED</code> for all parameter sets from the first failure on. In that case a driver should 'give up' after the first failure and only report the update counts of the successfully executed parameter sets, as described in the JDBC specification and API documentation.</p>\n"},{"tags":[],"owner":{"account_id":8356470,"reputation":125,"user_id":6276545,"display_name":"Ewe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693817899,"creation_date":1693817899,"answer_id":77036376,"question_id":48921660,"body_markdown":"If exception is thrown and you want to know what exactly was the exception for every failed insert you could use this catch block and it will print exact reason for failing:\r\n\r\n      catch (SQLException sqlException) {\r\n\t\t\twhile (sqlException != null) {\r\n\t\t\t\tSystem.err.println(&quot;Error msg: &quot; + sqlException.getMessage());\r\n\t\t\t\tsqlException = sqlException.getNextException();\r\n\t\t\t}\r\n\t\t} ","title":"What does return value -3 indicate when sending a JDBC bulk insert to crate.io","body":"<p>If exception is thrown and you want to know what exactly was the exception for every failed insert you could use this catch block and it will print exact reason for failing:</p>\n<pre><code>  catch (SQLException sqlException) {\n        while (sqlException != null) {\n            System.err.println(&quot;Error msg: &quot; + sqlException.getMessage());\n            sqlException = sqlException.getNextException();\n        }\n    } \n</code></pre>\n"}],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":728,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48927960,"answer_count":2,"score":0,"last_activity_date":1693817899,"creation_date":1519283979,"question_id":48921660,"body_markdown":"I try to do Batch inserts with JDBC to a Crate instance:\r\n\r\n        for(...) {\r\n            statement.setLong(1, startTime);\r\n            statement.setInt(2, i);\r\n            ...\r\n            statement.addBatch();\r\n        }\r\n\r\n        results = uaStatement.executeBatch();\r\n        logger.info(&quot;Had bulk-result: &quot; + Arrays.toString(results));\r\n\r\nThe resulting int[] array should contain 0 or 1 depending if the row was inserted or not. \r\n\r\nBut I get back lots of &quot;-3&quot;, which neither the JDBC standard nor the doc seems to define. \r\n\r\nIt seems the rows don&#39;t get inserted when -3 is returned, but no additional error information is visible. It seems the -3 is coming directly from the Crate server and the client-side JDBC implementation just forwards this.\r\n\r\nThis is crate 2.3.3 with JDBC driver 2.2.0\r\n\r\n    compile &#39;io.crate:crate-jdbc:2.2.0&#39;\r\n\r\n\r\nWhat does this indicate? Some problem with the sent values? \r\n\r\n    Had bulk-result: [1, 1, 1, 1, -3, -3, -3, -3, -3, -3, 1, -3, -3, -3, -3, -3, -3, ...","title":"What does return value -3 indicate when sending a JDBC bulk insert to crate.io","body":"<p>I try to do Batch inserts with JDBC to a Crate instance:</p>\n\n<pre><code>    for(...) {\n        statement.setLong(1, startTime);\n        statement.setInt(2, i);\n        ...\n        statement.addBatch();\n    }\n\n    results = uaStatement.executeBatch();\n    logger.info(\"Had bulk-result: \" + Arrays.toString(results));\n</code></pre>\n\n<p>The resulting int[] array should contain 0 or 1 depending if the row was inserted or not. </p>\n\n<p>But I get back lots of \"-3\", which neither the JDBC standard nor the doc seems to define. </p>\n\n<p>It seems the rows don't get inserted when -3 is returned, but no additional error information is visible. It seems the -3 is coming directly from the Crate server and the client-side JDBC implementation just forwards this.</p>\n\n<p>This is crate 2.3.3 with JDBC driver 2.2.0</p>\n\n<pre><code>compile 'io.crate:crate-jdbc:2.2.0'\n</code></pre>\n\n<p>What does this indicate? Some problem with the sent values? </p>\n\n<pre><code>Had bulk-result: [1, 1, 1, 1, -3, -3, -3, -3, -3, -3, 1, -3, -3, -3, -3, -3, -3, ...\n</code></pre>\n"},{"tags":["javascript","java","angular","angular-material"],"answers":[{"tags":[],"owner":{"account_id":16136503,"reputation":71,"user_id":11648839,"display_name":"Gilles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693817718,"creation_date":1693812687,"answer_id":77035846,"question_id":77035142,"body_markdown":"If I understand correctly you are defining a CSS class `.hovered` to apply a different background color when the mouse is hovering the table row.\r\n\r\n### Problem\r\nAngular Material also apply a background property with a CSS selector which override your property:\r\n```css\r\n.mat-mdc-table tbody,\r\n.mat-mdc-table tfoot,\r\n.mat-mdc-table thead,\r\n.mat-mdc-cell,\r\n.mat-mdc-footer-cell,\r\n.mat-mdc-header-row,\r\n.mat-mdc-row,\r\n.mat-mdc-footer-row,\r\n.mat-mdc-table .mat-mdc-header-cell {\r\n    background: inherit;\r\n}\r\n```\r\n### Solution\r\nTo fix this you could apply a CSS selector rule which have a higher priority than the one provided by Angular Material in the `app.component.css` file of your project example.  \r\nex:\r\n```css\r\n.example-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-height: 500px;\r\n  min-width: 300px;\r\n}\r\n\r\n.mat-table {\r\n  overflow: auto;\r\n  max-height: 500px;\r\n}\r\n\r\n/* this rule got a higher priority than the Angular Material one*/\r\n.mat-mdc-table .mat-mdc-row:hover,\r\n.mat-mdc-table .mat-mdc-footer-row:hover .hovered {\r\n  background: red;\r\n}\r\n\r\n.highlighted {\r\n  background: green;\r\n}\r\n\r\nmat-cell.mat-cell,\r\nmat-header-cell.mat-header-cell {\r\n  overflow: visible;\r\n}\r\n\r\n```","title":"Material table row selection/hovering not working in angular app","body":"<p>If I understand correctly you are defining a CSS class <code>.hovered</code> to apply a different background color when the mouse is hovering the table row.</p>\n<h3>Problem</h3>\n<p>Angular Material also apply a background property with a CSS selector which override your property:</p>\n<pre class=\"lang-css prettyprint-override\"><code>.mat-mdc-table tbody,\n.mat-mdc-table tfoot,\n.mat-mdc-table thead,\n.mat-mdc-cell,\n.mat-mdc-footer-cell,\n.mat-mdc-header-row,\n.mat-mdc-row,\n.mat-mdc-footer-row,\n.mat-mdc-table .mat-mdc-header-cell {\n    background: inherit;\n}\n</code></pre>\n<h3>Solution</h3>\n<p>To fix this you could apply a CSS selector rule which have a higher priority than the one provided by Angular Material in the <code>app.component.css</code> file of your project example.<br />\nex:</p>\n<pre class=\"lang-css prettyprint-override\"><code>.example-container {\n  display: flex;\n  flex-direction: column;\n  max-height: 500px;\n  min-width: 300px;\n}\n\n.mat-table {\n  overflow: auto;\n  max-height: 500px;\n}\n\n/* this rule got a higher priority than the Angular Material one*/\n.mat-mdc-table .mat-mdc-row:hover,\n.mat-mdc-table .mat-mdc-footer-row:hover .hovered {\n  background: red;\n}\n\n.highlighted {\n  background: green;\n}\n\nmat-cell.mat-cell,\nmat-header-cell.mat-header-cell {\n  overflow: visible;\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23256531,"reputation":580,"user_id":17343501,"display_name":"AhmedSHA256"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693813067,"creation_date":1693813067,"answer_id":77035896,"question_id":77035142,"body_markdown":"Using custom styles with angular material components can be really hard sometimes.\r\n\r\nTry using this in your ***.component.ts***:\r\n\r\n    @Component({\r\n      selector: &#39;yourSelector&#39;,\r\n      templateUrl: &#39;./app.component.html&#39;,\r\n      styleUrls: [&#39;./app.component.scss&#39;],\r\n      encapsulation: ViewEncapsulation.None\r\n    })\r\n\r\nAnd then, in your SCSS (or CSS) styles file, you can add this BEFORE any selector and will probably work:\r\n\r\n    :host::ng-deep .mat-list-text {\r\n        padding-right: 0 !important;\r\n    }","title":"Material table row selection/hovering not working in angular app","body":"<p>Using custom styles with angular material components can be really hard sometimes.</p>\n<p>Try using this in your <em><strong>.component.ts</strong></em>:</p>\n<pre><code>@Component({\n  selector: 'yourSelector',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\n</code></pre>\n<p>And then, in your SCSS (or CSS) styles file, you can add this BEFORE any selector and will probably work:</p>\n<pre><code>:host::ng-deep .mat-list-text {\n    padding-right: 0 !important;\n}\n</code></pre>\n"}],"owner":{"account_id":22770953,"reputation":233,"user_id":16928404,"display_name":"janci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77035846,"answer_count":2,"score":0,"last_activity_date":1693817718,"creation_date":1693803144,"question_id":77035142,"body_markdown":"I have a very simple project, testing material row selection/hovering. I have put it in Stack Blitz [basic-table-test](https://stackblitz.com/github/rejkid/TestBasicMaterialTable?file=README.md).\r\nMy questions are:\r\n\r\n  1. Hovering mouse over selected table row\r\n    makes the selection to disappear.\r\n\r\nDoes anybody understand where the problems is?\r\n\r\n","title":"Material table row selection/hovering not working in angular app","body":"<p>I have a very simple project, testing material row selection/hovering. I have put it in Stack Blitz <a href=\"https://stackblitz.com/github/rejkid/TestBasicMaterialTable?file=README.md\" rel=\"nofollow noreferrer\">basic-table-test</a>.\nMy questions are:</p>\n<ol>\n<li>Hovering mouse over selected table row\nmakes the selection to disappear.</li>\n</ol>\n<p>Does anybody understand where the problems is?</p>\n"},{"tags":["java","spring","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":339438,"reputation":5662,"user_id":668929,"accept_rate":92,"display_name":"Dhanush Gopinath"},"down_vote_count":5,"up_vote_count":49,"is_accepted":true,"score":44,"last_activity_date":1377758818,"creation_date":1377758818,"answer_id":18503994,"question_id":18503607,"body_markdown":"Definitely the first way is the best practice, because in the second way you are hitting the database twice where you should actually hit it only once. This can cause performance issues.\r\n\r\nWhat you need to do is catch the exception `EmptyResultDataAccessException` and then return null back. Spring JDBC templates throws back an [EmptyResultDataAccessException][1] exception if it doesn&#39;t find the data in the database.\r\n\r\nYour code should look like this. \r\n\r\n    try {\r\n         sql = &quot;SELECT id FROM tableNmae WHERE column_name =&#39;&quot;+ coulmn value+ &quot;&#39;&quot;;\r\n         id= jdbcTemplate.queryForObject(sql, Long.class);\r\n    } \r\n    catch (EmptyResultDataAccessException e) {\r\n       if(log.isDebugEnabled()){\r\n           log.debug(e);\r\n       }\r\n       return null\r\n    }\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/dao/EmptyResultDataAccessException.html","title":"Best practice to select data using Spring JdbcTemplate","body":"<p>Definitely the first way is the best practice, because in the second way you are hitting the database twice where you should actually hit it only once. This can cause performance issues.</p>\n\n<p>What you need to do is catch the exception <code>EmptyResultDataAccessException</code> and then return null back. Spring JDBC templates throws back an <a href=\"http://static.springsource.org/spring/docs/2.0.x/api/org/springframework/dao/EmptyResultDataAccessException.html\" rel=\"noreferrer\">EmptyResultDataAccessException</a> exception if it doesn't find the data in the database.</p>\n\n<p>Your code should look like this. </p>\n\n<pre><code>try {\n     sql = \"SELECT id FROM tableNmae WHERE column_name ='\"+ coulmn value+ \"'\";\n     id= jdbcTemplate.queryForObject(sql, Long.class);\n} \ncatch (EmptyResultDataAccessException e) {\n   if(log.isDebugEnabled()){\n       log.debug(e);\n   }\n   return null\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4738700,"reputation":179,"user_id":3832254,"accept_rate":50,"display_name":"Vikram"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1464006191,"creation_date":1464004432,"answer_id":37390310,"question_id":18503607,"body_markdown":"**Better way to Use ifNull in query** so if there is null then you get 0 \r\nEg.-\r\n\r\n    sql = &quot;SELECT ifNull(id,0) FROM tableName WHERE column_name =&#39;&quot;+ coulmn value+ &quot;&#39;&quot;;\r\n\r\n\r\nUsing this way you can get as default 0 otherwise your Id","title":"Best practice to select data using Spring JdbcTemplate","body":"<p><strong>Better way to Use ifNull in query</strong> so if there is null then you get 0 \nEg.-</p>\n\n<pre><code>sql = \"SELECT ifNull(id,0) FROM tableName WHERE column_name ='\"+ coulmn value+ \"'\";\n</code></pre>\n\n<p>Using this way you can get as default 0 otherwise your Id</p>\n"},{"tags":[],"owner":{"account_id":252813,"reputation":2146,"user_id":531111,"accept_rate":55,"display_name":"Ankit"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1490173952,"creation_date":1490105932,"answer_id":42929719,"question_id":18503607,"body_markdown":"I am facing similar scenario and found a cleaner solution when using ResultSetExtractor instead of RowMapper \r\n\r\n    jdbcTemplate.query(DBConstants.GET_VENDOR_DOCUMENT, new Object[]{vendorid}, rs -&gt; {\r\n           \r\n                if(rs.next()){\r\n                    DocumentPojo vendorDoc = new DocumentPojo();\r\n                    vendorDoc.setRegDocument(rs.getString(&quot;registrationdoc&quot;));\r\n                    vendorDoc.setMsmeLetter(rs.getString(&quot;msmeletter&quot;));\r\n                    vendorDoc.setProprietorshipDocument(rs.getString(&quot;propertiershipformat&quot;));\r\n                    vendorDoc.setNeftDocument(rs.getString(&quot;neftdoc&quot;));\r\n                    vendorDoc.setPanCardDocument(rs.getString(&quot;pancard&quot;));\r\n                    vendorDoc.setCancelledChequeDoc(rs.getString(&quot;cheque&quot;));\r\n                    return vendorDoc;\r\n                }\r\n                else {\r\n                    return null;\r\n                }\r\n           \r\n        });\r\n\r\nIf no result is found from database, I had put a if condition for resultset and return null reference. So, I didn&#39;t need to try catch the code and pass two queries to database. \r\n\r\nMain advantage of ResultSetExtractor (in this scenario) is **with ResultsetExtractor you will need to iterate through the result set yourself, say in while loop.**\r\n\r\nMore Points  can be found here [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10074025/what-is-difference-between-resultsetextractor-vs-rowmapper\r\n\r\n","title":"Best practice to select data using Spring JdbcTemplate","body":"<p>I am facing similar scenario and found a cleaner solution when using ResultSetExtractor instead of RowMapper </p>\n\n<pre><code>jdbcTemplate.query(DBConstants.GET_VENDOR_DOCUMENT, new Object[]{vendorid}, rs -&gt; {\n\n            if(rs.next()){\n                DocumentPojo vendorDoc = new DocumentPojo();\n                vendorDoc.setRegDocument(rs.getString(\"registrationdoc\"));\n                vendorDoc.setMsmeLetter(rs.getString(\"msmeletter\"));\n                vendorDoc.setProprietorshipDocument(rs.getString(\"propertiershipformat\"));\n                vendorDoc.setNeftDocument(rs.getString(\"neftdoc\"));\n                vendorDoc.setPanCardDocument(rs.getString(\"pancard\"));\n                vendorDoc.setCancelledChequeDoc(rs.getString(\"cheque\"));\n                return vendorDoc;\n            }\n            else {\n                return null;\n            }\n\n    });\n</code></pre>\n\n<p>If no result is found from database, I had put a if condition for resultset and return null reference. So, I didn't need to try catch the code and pass two queries to database. </p>\n\n<p>Main advantage of ResultSetExtractor (in this scenario) is <strong>with ResultsetExtractor you will need to iterate through the result set yourself, say in while loop.</strong></p>\n\n<p>More Points  can be found here <a href=\"https://stackoverflow.com/questions/10074025/what-is-difference-between-resultsetextractor-vs-rowmapper\">here</a></p>\n"},{"tags":[],"owner":{"account_id":13982499,"reputation":79,"user_id":10098335,"display_name":"Anton Medvedev"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1531903590,"creation_date":1531903590,"answer_id":51397473,"question_id":18503607,"body_markdown":"This is queryForObject method source code\r\n\r\n    @Nullable\r\n    public &lt;T&gt; T queryForObject(String sql, RowMapper&lt;T&gt; rowMapper) throws \r\n    DataAccessException {\r\n        List&lt;T&gt; results = this.query(sql, rowMapper);\r\n        return DataAccessUtils.nullableSingleResult(results);\r\n    }\r\n\r\nDataAccessUtils.nullableSingleResult\r\n\r\n        @Nullable\r\n    public static &lt;T&gt; T nullableSingleResult(@Nullable Collection&lt;T&gt; results) throws IncorrectResultSizeDataAccessException {\r\n        if (CollectionUtils.isEmpty(results)) {\r\n            throw new EmptyResultDataAccessException(1);\r\n        } else if (results.size() &gt; 1) {\r\n            throw new IncorrectResultSizeDataAccessException(1, results.size());\r\n        } else {\r\n            return results.iterator().next();\r\n        }\r\n    }\r\n\r\ndunno why they throw exception on empty collection, probably this is just a copy-paste from method above\r\n\r\n        public static &lt;T&gt; T requiredSingleResult(@Nullable Collection&lt;T&gt; results) throws IncorrectResultSizeDataAccessException {\r\n        if (CollectionUtils.isEmpty(results)) {\r\n            throw new EmptyResultDataAccessException(1);\r\n        } else if (results.size() &gt; 1) {\r\n            throw new IncorrectResultSizeDataAccessException(1, results.size());\r\n        } else {\r\n            return results.iterator().next();\r\n        }\r\n    }\r\n\r\nOne more step above the method they shoult have used \r\n\r\n        @Nullable\r\n    public static &lt;T&gt; T singleResult(@Nullable Collection&lt;T&gt; results) throws IncorrectResultSizeDataAccessException {\r\n        if (CollectionUtils.isEmpty(results)) {\r\n            return null;\r\n        } else if (results.size() &gt; 1) {\r\n            throw new IncorrectResultSizeDataAccessException(1, results.size());\r\n        } else {\r\n            return results.iterator().next();\r\n        }\r\n    }\r\n\r\nNOW SOLUTION helped me:\r\nExtend JdbcTemlate class (you can construct it with DataSource injected)\r\nand overrride the queryForObject method:\r\n\r\n        @Nullable\r\n    public &lt;T&gt; T queryForObject(String sql, RowMapper&lt;T&gt; rowMapper) throws DataAccessException {\r\n        List&lt;T&gt; results = this.query(sql, rowMapper);\r\n        return DataAccessUtils.singleResult(results);\r\n    }\r\n\r\nnow work with your implementation\r\nDon&#39;t forget to check if it works on spring version update (very unlikely IMHO)","title":"Best practice to select data using Spring JdbcTemplate","body":"<p>This is queryForObject method source code</p>\n\n<pre><code>@Nullable\npublic &lt;T&gt; T queryForObject(String sql, RowMapper&lt;T&gt; rowMapper) throws \nDataAccessException {\n    List&lt;T&gt; results = this.query(sql, rowMapper);\n    return DataAccessUtils.nullableSingleResult(results);\n}\n</code></pre>\n\n<p>DataAccessUtils.nullableSingleResult</p>\n\n<pre><code>    @Nullable\npublic static &lt;T&gt; T nullableSingleResult(@Nullable Collection&lt;T&gt; results) throws IncorrectResultSizeDataAccessException {\n    if (CollectionUtils.isEmpty(results)) {\n        throw new EmptyResultDataAccessException(1);\n    } else if (results.size() &gt; 1) {\n        throw new IncorrectResultSizeDataAccessException(1, results.size());\n    } else {\n        return results.iterator().next();\n    }\n}\n</code></pre>\n\n<p>dunno why they throw exception on empty collection, probably this is just a copy-paste from method above</p>\n\n<pre><code>    public static &lt;T&gt; T requiredSingleResult(@Nullable Collection&lt;T&gt; results) throws IncorrectResultSizeDataAccessException {\n    if (CollectionUtils.isEmpty(results)) {\n        throw new EmptyResultDataAccessException(1);\n    } else if (results.size() &gt; 1) {\n        throw new IncorrectResultSizeDataAccessException(1, results.size());\n    } else {\n        return results.iterator().next();\n    }\n}\n</code></pre>\n\n<p>One more step above the method they shoult have used </p>\n\n<pre><code>    @Nullable\npublic static &lt;T&gt; T singleResult(@Nullable Collection&lt;T&gt; results) throws IncorrectResultSizeDataAccessException {\n    if (CollectionUtils.isEmpty(results)) {\n        return null;\n    } else if (results.size() &gt; 1) {\n        throw new IncorrectResultSizeDataAccessException(1, results.size());\n    } else {\n        return results.iterator().next();\n    }\n}\n</code></pre>\n\n<p>NOW SOLUTION helped me:\nExtend JdbcTemlate class (you can construct it with DataSource injected)\nand overrride the queryForObject method:</p>\n\n<pre><code>    @Nullable\npublic &lt;T&gt; T queryForObject(String sql, RowMapper&lt;T&gt; rowMapper) throws DataAccessException {\n    List&lt;T&gt; results = this.query(sql, rowMapper);\n    return DataAccessUtils.singleResult(results);\n}\n</code></pre>\n\n<p>now work with your implementation\nDon't forget to check if it works on spring version update (very unlikely IMHO)</p>\n"},{"tags":[],"owner":{"account_id":25939300,"reputation":31,"user_id":19659058,"display_name":"gearbase"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681289375,"creation_date":1681201813,"answer_id":75983870,"question_id":18503607,"body_markdown":"The best way to get row from a table by condition in case there might be no data in this table - use ```query``` with ```ResultSetExtractor```\r\n\r\n```kotlin\r\n     fun findDailyReport(date: LocalDate): String? {\r\n        val sql = &quot;&quot;&quot;select * from reports_table where report_date = :date&quot;&quot;&quot;\r\n        val map = MapSqlParameterSource(&quot;date&quot;, date)\r\n        return jdbcTemplate.query(sql, map, ResultSetExtractor { rs -&gt;\r\n            if (rs.next()) {\r\n                rs.getString(&quot;report&quot;)\r\n            } else {\r\n                log.warn(&quot;There is no daily report for the date: $date&quot;)\r\n                null\r\n            }\r\n        })\r\n    }\r\n```\r\n\r\nIf you need to check if a row exists in a table, here is a good solution.\r\nIn this case, all records in the table are unique:\r\n```kotlin\r\n        fun checkReportExists(date: LocalDate): Boolean {\r\n        val sql = &quot;&quot;&quot;select 1 from reports_table where report_date = :date&quot;&quot;&quot;\r\n        val map = MapSqlParameterSource(&quot;date&quot;, date)\r\n        return jdbcTemplate.query(sql, map, ResultSetExtractor { rs -&gt; rs.next() })!!\r\n    }\r\n```\r\nSecond solution:\r\n```kotlin\r\n        fun checkReportExists(date: LocalDate): Boolean {\r\n        val sql = &quot;&quot;&quot;select count(1) from reports_table where report_date = :date&quot;&quot;&quot;\r\n        val map = MapSqlParameterSource(&quot;date&quot;, date)\r\n        return jdbcTemplate.queryForObject(sql, map, Int::class.java)!! &gt; 0\r\n```\r\nLast one solution:\r\n```kotlin\r\n        fun checkReportExists(date: LocalDate): Boolean {\r\n        val sql = &quot;&quot;&quot;select exists(select 1 from reports_table where report_date = :date)&quot;&quot;&quot;\r\n        val map = MapSqlParameterSource(&quot;date&quot;, date)\r\n        return jdbcTemplate.queryForObject(sql, map, Boolean::class.java)!!\r\n```\r\nP.S. Last solution is the [fastest](https://stackoverflow.com/a/16467634/19659058) for checking if row exists.","title":"Best practice to select data using Spring JdbcTemplate","body":"<p>The best way to get row from a table by condition in case there might be no data in this table - use <code>query</code> with <code>ResultSetExtractor</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>     fun findDailyReport(date: LocalDate): String? {\n        val sql = &quot;&quot;&quot;select * from reports_table where report_date = :date&quot;&quot;&quot;\n        val map = MapSqlParameterSource(&quot;date&quot;, date)\n        return jdbcTemplate.query(sql, map, ResultSetExtractor { rs -&gt;\n            if (rs.next()) {\n                rs.getString(&quot;report&quot;)\n            } else {\n                log.warn(&quot;There is no daily report for the date: $date&quot;)\n                null\n            }\n        })\n    }\n</code></pre>\n<p>If you need to check if a row exists in a table, here is a good solution.\nIn this case, all records in the table are unique:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        fun checkReportExists(date: LocalDate): Boolean {\n        val sql = &quot;&quot;&quot;select 1 from reports_table where report_date = :date&quot;&quot;&quot;\n        val map = MapSqlParameterSource(&quot;date&quot;, date)\n        return jdbcTemplate.query(sql, map, ResultSetExtractor { rs -&gt; rs.next() })!!\n    }\n</code></pre>\n<p>Second solution:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        fun checkReportExists(date: LocalDate): Boolean {\n        val sql = &quot;&quot;&quot;select count(1) from reports_table where report_date = :date&quot;&quot;&quot;\n        val map = MapSqlParameterSource(&quot;date&quot;, date)\n        return jdbcTemplate.queryForObject(sql, map, Int::class.java)!! &gt; 0\n</code></pre>\n<p>Last one solution:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        fun checkReportExists(date: LocalDate): Boolean {\n        val sql = &quot;&quot;&quot;select exists(select 1 from reports_table where report_date = :date)&quot;&quot;&quot;\n        val map = MapSqlParameterSource(&quot;date&quot;, date)\n        return jdbcTemplate.queryForObject(sql, map, Boolean::class.java)!!\n</code></pre>\n<p>P.S. Last solution is the <a href=\"https://stackoverflow.com/a/16467634/19659058\">fastest</a> for checking if row exists.</p>\n"},{"tags":[],"owner":{"account_id":5198383,"reputation":431,"user_id":4158745,"display_name":"hiimjames"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693817710,"creation_date":1693817710,"answer_id":77036355,"question_id":18503607,"body_markdown":"You need to catch `EmptyResultDataAccessException`. If you do not want to catch exception all the time and work with null, you can create own function, it can be public static of course and it can return Optional if you prefer.\r\n\r\n    private &lt;T&gt; T getNullableResult(Supplier&lt;T&gt; supplier) {\r\n        try {\r\n            return supplier.get();\r\n        } catch (EmptyResultDataAccessException ex) {\r\n            return null;\r\n        }\r\n    }\r\n\r\nThen use the function:\r\n\r\n    String result = getNullableResult(() -&gt; jdbcTemplate.query(&quot;SELECT x FROM y WHERE z = 0&quot;, String.class));","title":"Best practice to select data using Spring JdbcTemplate","body":"<p>You need to catch <code>EmptyResultDataAccessException</code>. If you do not want to catch exception all the time and work with null, you can create own function, it can be public static of course and it can return Optional if you prefer.</p>\n<pre><code>private &lt;T&gt; T getNullableResult(Supplier&lt;T&gt; supplier) {\n    try {\n        return supplier.get();\n    } catch (EmptyResultDataAccessException ex) {\n        return null;\n    }\n}\n</code></pre>\n<p>Then use the function:</p>\n<pre><code>String result = getNullableResult(() -&gt; jdbcTemplate.query(&quot;SELECT x FROM y WHERE z = 0&quot;, String.class));\n</code></pre>\n"}],"owner":{"account_id":2678585,"reputation":522,"user_id":2314379,"display_name":"Annamalai Thangaraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127935,"favorite_count":0,"down_vote_count":1,"up_vote_count":40,"accepted_answer_id":18503994,"answer_count":6,"score":39,"last_activity_date":1693817710,"creation_date":1377757294,"question_id":18503607,"body_markdown":"I want to know what is the best practice to select records from a table. I mentioned two methods below from that I want to know which one is best practice to select the data from a table using Spring [JdbcTemplate](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html).\r\n\r\n## First example\r\n\r\n    try {\r\n        String sql = &quot;SELECT id FROM tableName WHERE column_name = &#39;&quot; + coulmn value + &quot;&#39;&quot;;\r\n    \t\r\n        long id = jdbcTemplate.queryForObject(sql, Long.class);\r\n    } catch (Exception e) {\r\n        if (log.isDebugEnabled()) {\r\n            log.debug(e);\r\n        }\r\n    }\r\n\r\nThis throws the following exception:\r\n\r\n&gt; Expected 1 actual 0 like\r\n\r\nwhen table doesn&#39;t contain any data. My friend told this is not the best practice to select the data. He suggested that the below mentioned code is the only best practice to select data.\r\n\r\n## Second example\r\n\r\n    try {\r\n        String countQuery = &quot;SELECT COUNT(id) FROM tableName&quot;;\r\n    \t\r\n        int count = jdbcTemplate.queryForInt(countQuery);\r\n        if (count &gt; 0) {\r\n            String sql = &quot;SELECT id FROM tableName WHERE column_name = &#39;&quot; + coulmn value + &quot;&#39;&quot;;\r\n    \t\t\r\n            long id = jdbcTemplate.queryForObject(sql, Long.class);\r\n        }\r\n    } catch (Exception e) {\r\n        if (log.isDebugEnabled()) {\r\n            log.debug(e);\r\n        }\r\n    }\r\n\r\n&lt;br&gt;\r\nI&#39;m eager to know the right one or any other best practice.\r\n","title":"Best practice to select data using Spring JdbcTemplate","body":"<p>I want to know what is the best practice to select records from a table. I mentioned two methods below from that I want to know which one is best practice to select the data from a table using Spring <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\" rel=\"noreferrer\">JdbcTemplate</a>.</p>\n\n<h2>First example</h2>\n\n<pre><code>try {\n    String sql = \"SELECT id FROM tableName WHERE column_name = '\" + coulmn value + \"'\";\n\n    long id = jdbcTemplate.queryForObject(sql, Long.class);\n} catch (Exception e) {\n    if (log.isDebugEnabled()) {\n        log.debug(e);\n    }\n}\n</code></pre>\n\n<p>This throws the following exception:</p>\n\n<blockquote>\n  <p>Expected 1 actual 0 like</p>\n</blockquote>\n\n<p>when table doesn't contain any data. My friend told this is not the best practice to select the data. He suggested that the below mentioned code is the only best practice to select data.</p>\n\n<h2>Second example</h2>\n\n<pre><code>try {\n    String countQuery = \"SELECT COUNT(id) FROM tableName\";\n\n    int count = jdbcTemplate.queryForInt(countQuery);\n    if (count &gt; 0) {\n        String sql = \"SELECT id FROM tableName WHERE column_name = '\" + coulmn value + \"'\";\n\n        long id = jdbcTemplate.queryForObject(sql, Long.class);\n    }\n} catch (Exception e) {\n    if (log.isDebugEnabled()) {\n        log.debug(e);\n    }\n}\n</code></pre>\n\n<p><br>\nI'm eager to know the right one or any other best practice.</p>\n"},{"tags":["java","android","websocket","okhttp","ping"],"comments":[{"owner":{"account_id":2122531,"reputation":363,"user_id":2425668,"display_name":"Radiance Wei Qi Ong"},"score":0,"creation_date":1693821545,"post_id":77036045,"comment_id":135806209,"body_markdown":"okhttp does not seem keen on exposing the ping/pong events. Some users have asked for it. See: https://github.com/square/okhttp/issues/7370 . I think the idea is that you just worry about sending/receiving messages. Any errors in connection can be handled in the error handling methods in WebSocketListener. For your use case, your best bet for now is probably to implement application-level pings","body":"okhttp does not seem keen on exposing the ping/pong events. Some users have asked for it. See: <a href=\"https://github.com/square/okhttp/issues/7370\" rel=\"nofollow noreferrer\">github.com/square/okhttp/issues/7370</a> . I think the idea is that you just worry about sending/receiving messages. Any errors in connection can be handled in the error handling methods in WebSocketListener. For your use case, your best bet for now is probably to implement application-level pings"}],"owner":{"account_id":29072917,"reputation":1,"user_id":22270776,"display_name":"DenverCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693816990,"creation_date":1693814509,"question_id":77036045,"body_markdown":"I&#39;m working on an Android project implementing websocket functionality.  I want to use Ping/Pong for connectivity checks and be able to log and provide internal feedback when a ping is received.\r\n\r\nLooking through the documentation, I haven&#39;t been able to find how Ping/Pong is handled with OKHTTP3.  All I&#39;ve found is that I can set a PingInterval.\r\n\r\nLet&#39;s say there is a connectivity problem and server sends out a ping and client doesn&#39;t receive it, or vice versa a ping is sent out to server and server doesn&#39;t receive it, how are these events handled?\r\n\r\nHow are Ping/Pong events handled in Android - Java - using okhttp3 WebSocketListener? And how can we customize the handling of those events?\r\n\r\nI&#39;ve scoured the web and asked ChatGPT, looked through javadocs. I did not find a description of event handling, all I found was one other question here on Stack Overflow, that okhttp3 handles ping/pong internally. That doesn&#39;t gives me much to work with.","title":"Websocket with okhttp3 - how to handle onPong - onPong() method not found","body":"<p>I'm working on an Android project implementing websocket functionality.  I want to use Ping/Pong for connectivity checks and be able to log and provide internal feedback when a ping is received.</p>\n<p>Looking through the documentation, I haven't been able to find how Ping/Pong is handled with OKHTTP3.  All I've found is that I can set a PingInterval.</p>\n<p>Let's say there is a connectivity problem and server sends out a ping and client doesn't receive it, or vice versa a ping is sent out to server and server doesn't receive it, how are these events handled?</p>\n<p>How are Ping/Pong events handled in Android - Java - using okhttp3 WebSocketListener? And how can we customize the handling of those events?</p>\n<p>I've scoured the web and asked ChatGPT, looked through javadocs. I did not find a description of event handling, all I found was one other question here on Stack Overflow, that okhttp3 handles ping/pong internally. That doesn't gives me much to work with.</p>\n"},{"tags":["java","godot"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1693815672,"post_id":77036114,"comment_id":135805208,"body_markdown":"Instead of Waiting for Godot, you&#39;re Polling for Godot ;)","body":"Instead of Waiting for Godot, you&#39;re Polling for Godot ;)"}],"owner":{"account_id":29361538,"reputation":1,"user_id":22496161,"display_name":"Chalaka Dilshan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693815281,"creation_date":1693815281,"question_id":77036114,"body_markdown":"I created a Pollfish Plugin for Godot.But the signal is not emitted there.\r\n\r\nShowing the Pollfish Offerwall. But even if the Pollfish Offerwall is closed, the signal here will not be emitted.\r\n\r\nAnd there is nothing wrong with my Gdscript code. I previously created a Unity ads plugin but it worked fine. This just doesn&#39;t work. Someone help with this. thank you.\r\n```\r\npublic class PollfishPlugin extends GodotPlugin implements PollfishClosedListener{\r\n\r\n    private Activity activity;\r\n    private FrameLayout layout = null;\r\n\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onMainCreate(Activity activity) {\r\n        this.activity = getActivity();\r\n        layout = new FrameLayout(activity);\r\n        return layout;\r\n    }\r\n\r\n    public PollfishPlugin(Godot godot) {\r\n        super(godot);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public String getPluginName() {\r\n        return &quot;PollfishPlugin&quot;;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Set&lt;SignalInfo&gt; getPluginSignals() {\r\n        Set&lt;SignalInfo&gt; signals = new ArraySet&lt;&gt;();\r\n        signals.add(new SignalInfo(&quot;onPollfishClosed&quot;));\r\n        return signals;\r\n    }\r\n\r\n    @UsedByGodot\r\n    public void init(){\r\n        initPollfish();\r\n    }\r\n\r\n    private void initPollfish(){\r\n\r\n        Params params = new Params.Builder(&quot;180b54b9-1353-4656-b5f2-e1d0aad2fa61&quot;)\r\n                .rewardMode(true)\r\n                .offerwallMode(true)\r\n                .build();\r\n\r\n        Pollfish.initWith(activity, params);\r\n    }\r\n\r\n    @UsedByGodot\r\n    public void showPollfish(){\r\n        Pollfish.show();\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onPollfishClosed() {\r\n        emitSignal(&quot;onPollfishClosed&quot;);\r\n    }\r\n}\r\n```\r\n","title":"Why is the signal not emitted in this code?","body":"<p>I created a Pollfish Plugin for Godot.But the signal is not emitted there.</p>\n<p>Showing the Pollfish Offerwall. But even if the Pollfish Offerwall is closed, the signal here will not be emitted.</p>\n<p>And there is nothing wrong with my Gdscript code. I previously created a Unity ads plugin but it worked fine. This just doesn't work. Someone help with this. thank you.</p>\n<pre><code>public class PollfishPlugin extends GodotPlugin implements PollfishClosedListener{\n\n    private Activity activity;\n    private FrameLayout layout = null;\n\n\n    @Nullable\n    @Override\n    public View onMainCreate(Activity activity) {\n        this.activity = getActivity();\n        layout = new FrameLayout(activity);\n        return layout;\n    }\n\n    public PollfishPlugin(Godot godot) {\n        super(godot);\n    }\n\n    @NonNull\n    @Override\n    public String getPluginName() {\n        return &quot;PollfishPlugin&quot;;\n    }\n\n    @NonNull\n    @Override\n    public Set&lt;SignalInfo&gt; getPluginSignals() {\n        Set&lt;SignalInfo&gt; signals = new ArraySet&lt;&gt;();\n        signals.add(new SignalInfo(&quot;onPollfishClosed&quot;));\n        return signals;\n    }\n\n    @UsedByGodot\n    public void init(){\n        initPollfish();\n    }\n\n    private void initPollfish(){\n\n        Params params = new Params.Builder(&quot;180b54b9-1353-4656-b5f2-e1d0aad2fa61&quot;)\n                .rewardMode(true)\n                .offerwallMode(true)\n                .build();\n\n        Pollfish.initWith(activity, params);\n    }\n\n    @UsedByGodot\n    public void showPollfish(){\n        Pollfish.show();\n    }\n\n\n    @Override\n    public void onPollfishClosed() {\n        emitSignal(&quot;onPollfishClosed&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","css","button","vaadin"],"comments":[{"owner":{"account_id":1680938,"reputation":1506,"user_id":1545183,"display_name":"Rene Herget"},"score":0,"creation_date":1376730141,"post_id":18284016,"comment_id":26828057,"body_markdown":"What vaadin version you are useing? Your code is working perfect in my  Vaadin application with the version 7.1.1. Can it be that you are useing the old 6.x version of vaadin?","body":"What vaadin version you are useing? Your code is working perfect in my  Vaadin application with the version 7.1.1. Can it be that you are useing the old 6.x version of vaadin?"},{"owner":{"account_id":2680909,"reputation":475,"user_id":2448259,"accept_rate":35,"display_name":"T. Rossi"},"score":0,"creation_date":1376739366,"post_id":18284016,"comment_id":26830213,"body_markdown":"Yes, I am using 6.8.12 ..arrr, don&#39;t tell me the only way is to migrate","body":"Yes, I am using 6.8.12 ..arrr, don&#39;t tell me the only way is to migrate"},{"owner":{"account_id":1680938,"reputation":1506,"user_id":1545183,"display_name":"Rene Herget"},"score":0,"creation_date":1376749667,"post_id":18284016,"comment_id":26832882,"body_markdown":"Ah no, it works also with Vaadin 6.x. I tested it. See my answer for the solution.","body":"Ah no, it works also with Vaadin 6.x. I tested it. See my answer for the solution."}],"answers":[{"tags":[],"owner":{"account_id":472104,"reputation":2157,"user_id":880372,"accept_rate":50,"display_name":"AdityaSaxena"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1376705777,"creation_date":1376705777,"answer_id":18284458,"question_id":18284016,"body_markdown":"Simple example doing it with pure javascript: [DEMO][1]\r\n\r\nHTML:\r\n\r\n    &lt;button id=&quot;toggleButton&quot;&gt;\r\n        Toggle Class\r\n    &lt;/button&gt;\r\n\r\nCSS:\r\n\r\n    button{\r\n        font-size:10px;\r\n    }\r\n    \r\n    .active{\r\n        font-size:15px;\r\n    }\r\n\r\nJS:\r\n\r\n    var btn = document.getElementById(&#39;toggleButton&#39;);\r\n    btn.addEventListener(&#39;click&#39;, function(event){\r\n        if(this.classList.contains(&#39;active&#39;)){\r\n            this.classList.remove(&#39;active&#39;);\r\n        }\r\n        else{\r\n            this.classList.add(&#39;active&#39;);\r\n        }\r\n    });\r\n\r\n\r\n\r\n  [1]: http://jsfiddle.net/KxeUQ/","title":"Vaadin change button style after click","body":"<p>Simple example doing it with pure javascript: <a href=\"http://jsfiddle.net/KxeUQ/\" rel=\"nofollow\">DEMO</a></p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;button id=\"toggleButton\"&gt;\n    Toggle Class\n&lt;/button&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>button{\n    font-size:10px;\n}\n\n.active{\n    font-size:15px;\n}\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>var btn = document.getElementById('toggleButton');\nbtn.addEventListener('click', function(event){\n    if(this.classList.contains('active')){\n        this.classList.remove('active');\n    }\n    else{\n        this.classList.add('active');\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1680938,"reputation":1506,"user_id":1545183,"display_name":"Rene Herget"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376749573,"creation_date":1376748081,"answer_id":18289642,"question_id":18284016,"body_markdown":"The problem on your code is, that you check and change the stylename from your Button &quot;b&quot; and not from Button &quot;my_special_button&quot;. It have to look like this:\r\n\r\n    @Override\r\n    public void buttonClick(ClickEvent event) {\r\n        Button b = event.getButton();\r\n    \r\n        if (b == my_special_button){            \r\n            if(!my_special_button.getStyleName().contains(&quot;x&quot;)){\r\n                my_special_button.addStyleName(&quot;x&quot;);                \r\n            } else {\r\n                my_special_button.removeStyleName(&quot;x&quot;);\r\n            }       \r\n        }\r\n    }","title":"Vaadin change button style after click","body":"<p>The problem on your code is, that you check and change the stylename from your Button \"b\" and not from Button \"my_special_button\". It have to look like this:</p>\n\n<pre><code>@Override\npublic void buttonClick(ClickEvent event) {\n    Button b = event.getButton();\n\n    if (b == my_special_button){            \n        if(!my_special_button.getStyleName().contains(\"x\")){\n            my_special_button.addStyleName(\"x\");                \n        } else {\n            my_special_button.removeStyleName(\"x\");\n        }       \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2680909,"reputation":475,"user_id":2448259,"accept_rate":35,"display_name":"T. Rossi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9900,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693814876,"creation_date":1376700380,"question_id":18284016,"body_markdown":"EDIT: pardon if it was not clear, I need a &quot;Vaadin&quot; solution\r\n\r\napparently this should be very intuitive but I can&#39;t manage to make it work, when a button is clicked I should change its style, if clicked again, return the style back to what it was. My guess would be:\r\n\r\n\t@Override\r\n\tpublic void buttonClick(ClickEvent event) {\r\n\t\tButton b = event.getButton();\r\n\t\t\r\n\t\tif (b == my_special_button){\t\t\t\r\n\t\t\tif(!b.getStyleName().contains(&quot;x&quot;)){\r\n\t\t\t\tb.addStyleName(&quot;x&quot;);\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tb.removeStyleName(&quot;x&quot;);\r\n\t\t\t}\t\t\r\n\t\t}\r\n    }\r\n\r\nwhen using chrome inspector I see the active class added, but the button disappears. If I click on the position where the button was, I see the &quot;active&quot; class removed (and added if clicking again..). The button re-appears only when I click outside the area were the button was.\r\n\r\nCould you provide some insight?\r\n\r\nEDIT: I correct the example code here as suggested (in my class it was already as suggested, I didn&#39;t knew it made a difference though, so thanks!)\r\n\r\nAs the page loads the button has this class:\r\n\r\n    v-button v-button-thumbs-up-button thumbs-up-button\r\n\r\nwhen I click, with chrome inspector I can see that the class active is added:\r\n\r\n    v-button v-button-thumbs-up-button thumbs-up-button v-button-active active\r\n\r\nif I click again, it&#39;s removed. So apparently the onclick code is executed correctly.\r\n\r\nThere are two problems: \r\n\r\n 1. the &quot;active&quot; style is not applied to the button, the button disappears!\r\n 2. if I click outside the button, the button re-appears but style goes back to the non-active one. The non active style works fine, so the css is loaded by the page.\r\n\r\nFor further reference this is the css I&#39;m using:\r\n\r\n    .thumbs-up-button{\r\n\tbackground-image: url(&quot;../covercliptheme/img/thumbs_up_1x.png&quot;);\r\n\tbackground-position: left top;\t\r\n    }\r\n    \r\n    .thumbs-up-button .v-button-active .active{\t\r\n\tbackground-image: url(&quot;../covercliptheme/img/thumbs_up_1x_green.png&quot;);\r\n\tbackground-position: left top;\r\n    }\r\n    \r\n\r\n\r\nI&#39;ve found workaround with styling :active and :focus too. It is working, but there is no real reason why it should. It should work as I intended originally I think, by adding a class, the button is rendered with that style, removing the class, style goes back to original style.\r\n\r\nI think the problem is in the way I&#39;ve build the page with the components rather than in the onClick action itself.. I&#39;m super curious to find out what is going wrong:) The button is part of a component, which is part of other components, in particular the component with the button is represented by the following class:\r\n\r\n    public class CVRow extends CustomComponent implements Button.ClickListener{\r\n\t\r\n\t@AutoGenerated\r\n\tprivate AbsoluteLayout mainLayout;\r\n\t@AutoGenerated\r\n\tprivate HorizontalLayout horizontalLayout_1;\r\n\t@AutoGenerated\r\n\tprivate AbsoluteLayout absoluteLayout_2;\r\n\t@AutoGenerated\r\n\tprivate Button nativeButton_2;\r\n\t@AutoGenerated\r\n\tprivate Button nativeButton_1;\r\n\r\n\t/**\r\n\t * The constructor \r\n\t */\r\n\tpublic CVRow() {\r\n\t\tbuildMainLayout();\r\n\t\tsetCompositionRoot(mainLayout);\r\n\r\n\t\t\r\n\t\tnativeButton_1.addListener(this);\r\n\t\t// TODO add user code here\r\n\t}\r\n\r\n\t@AutoGenerated\r\n\tprivate AbsoluteLayout buildMainLayout() {\r\n\t\t/* some layout code.. */\r\n\t\t\r\n\t\t// add horizontalLayout_1\r\n\t\thorizontalLayout_1 = buildHorizontalLayout_1();\r\n\t\tmainLayout.addComponent(horizontalLayout_1, &quot;top:0.0px;left:0.0px;&quot;);\r\n\t\t\r\n\t\treturn mainLayout;\r\n\t}\r\n\r\n\t@AutoGenerated\r\n\tprivate HorizontalLayout buildHorizontalLayout_1() {\r\n\t\t// some layout code... //\r\n\t\t\r\n\t\t\r\n\t\t// add absoluteLayout_2 &lt;-- buttons will be here\r\n\t\tabsoluteLayout_2 = buildAbsoluteLayout_2();\r\n\t\thorizontalLayout_1.addComponent(absoluteLayout_2);\r\n\t\t\r\n\t\treturn horizontalLayout_1;\r\n\t}\r\n\r\n\t@AutoGenerated\r\n\tprivate AbsoluteLayout buildAbsoluteLayout_2() {\r\n\t\t// common part: create layout\r\n\t\tabsoluteLayout_2 = new AbsoluteLayout();\r\n\t\tabsoluteLayout_2.setImmediate(false);\r\n\t\tabsoluteLayout_2.setWidth(&quot;60px&quot;);\r\n\t\tabsoluteLayout_2.setHeight(&quot;60px&quot;);\r\n\t\tabsoluteLayout_2.setMargin(false);\r\n\t\t\r\n                //BUTTONS are here:\r\n\t\t// nativeButton_1\r\n\t\tnativeButton_1 = new Button();\r\n\t\tnativeButton_1.setImmediate(true);\r\n\t\tnativeButton_1.setWidth(&quot;20px&quot;);\r\n\t\tnativeButton_1.setHeight(&quot;20px&quot;);\r\n\t\tnativeButton_1.setStyleName(&quot;thumbs-up-button&quot;);\r\n\t\tabsoluteLayout_2.addComponent(nativeButton_1, &quot;top:41.0px;left:0.0px;&quot;);\r\n\t\t\r\n\t\t// nativeButton_2\r\n\t\tnativeButton_2 = new Button();\r\n\t\tnativeButton_2.setStyleName(&quot;thumbs-down-button&quot;);\r\n\t\tnativeButton_2.setImmediate(true);\r\n\t\tnativeButton_2.setWidth(&quot;20px&quot;);\r\n\t\tnativeButton_2.setHeight(&quot;20px&quot;);\r\n\t\tabsoluteLayout_2.addComponent(nativeButton_2, &quot;top:41.0px;left:40.0px;&quot;);\r\n\t\t\r\n\t\treturn absoluteLayout_2;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void buttonClick(ClickEvent event) {\r\n\t\tButton b = event.getButton();\r\n\t\t\r\n\t\tif (b == nativeButton_1){\r\n\t\t\t\r\n\t\t\tif(nativeButton_1.getStyleName().contains(&quot;active&quot;))\r\n\t\t\t\tnativeButton_1.removeStyleName(&quot;active&quot;);\r\n\t\t\telse\r\n\t\t\t\tnativeButton_1.addStyleName(&quot;active&quot;);\r\n\t\t}\r\n                \r\n                //etc...\r\n\t\t\r\n\t}\r\n\r\n    }\r\n","title":"Vaadin change button style after click","body":"<p>EDIT: pardon if it was not clear, I need a \"Vaadin\" solution</p>\n\n<p>apparently this should be very intuitive but I can't manage to make it work, when a button is clicked I should change its style, if clicked again, return the style back to what it was. My guess would be:</p>\n\n<pre><code>@Override\npublic void buttonClick(ClickEvent event) {\n    Button b = event.getButton();\n\n    if (b == my_special_button){            \n        if(!b.getStyleName().contains(\"x\")){\n            b.addStyleName(\"x\");                \n        } else {\n            b.removeStyleName(\"x\");\n        }       \n    }\n}\n</code></pre>\n\n<p>when using chrome inspector I see the active class added, but the button disappears. If I click on the position where the button was, I see the \"active\" class removed (and added if clicking again..). The button re-appears only when I click outside the area were the button was.</p>\n\n<p>Could you provide some insight?</p>\n\n<p>EDIT: I correct the example code here as suggested (in my class it was already as suggested, I didn't knew it made a difference though, so thanks!)</p>\n\n<p>As the page loads the button has this class:</p>\n\n<pre><code>v-button v-button-thumbs-up-button thumbs-up-button\n</code></pre>\n\n<p>when I click, with chrome inspector I can see that the class active is added:</p>\n\n<pre><code>v-button v-button-thumbs-up-button thumbs-up-button v-button-active active\n</code></pre>\n\n<p>if I click again, it's removed. So apparently the onclick code is executed correctly.</p>\n\n<p>There are two problems: </p>\n\n<ol>\n<li>the \"active\" style is not applied to the button, the button disappears!</li>\n<li>if I click outside the button, the button re-appears but style goes back to the non-active one. The non active style works fine, so the css is loaded by the page.</li>\n</ol>\n\n<p>For further reference this is the css I'm using:</p>\n\n<pre><code>.thumbs-up-button{\nbackground-image: url(\"../covercliptheme/img/thumbs_up_1x.png\");\nbackground-position: left top;  \n}\n\n.thumbs-up-button .v-button-active .active{ \nbackground-image: url(\"../covercliptheme/img/thumbs_up_1x_green.png\");\nbackground-position: left top;\n}\n</code></pre>\n\n<p>I've found workaround with styling :active and :focus too. It is working, but there is no real reason why it should. It should work as I intended originally I think, by adding a class, the button is rendered with that style, removing the class, style goes back to original style.</p>\n\n<p>I think the problem is in the way I've build the page with the components rather than in the onClick action itself.. I'm super curious to find out what is going wrong:) The button is part of a component, which is part of other components, in particular the component with the button is represented by the following class:</p>\n\n<pre><code>public class CVRow extends CustomComponent implements Button.ClickListener{\n\n@AutoGenerated\nprivate AbsoluteLayout mainLayout;\n@AutoGenerated\nprivate HorizontalLayout horizontalLayout_1;\n@AutoGenerated\nprivate AbsoluteLayout absoluteLayout_2;\n@AutoGenerated\nprivate Button nativeButton_2;\n@AutoGenerated\nprivate Button nativeButton_1;\n\n/**\n * The constructor \n */\npublic CVRow() {\n    buildMainLayout();\n    setCompositionRoot(mainLayout);\n\n\n    nativeButton_1.addListener(this);\n    // TODO add user code here\n}\n\n@AutoGenerated\nprivate AbsoluteLayout buildMainLayout() {\n    /* some layout code.. */\n\n    // add horizontalLayout_1\n    horizontalLayout_1 = buildHorizontalLayout_1();\n    mainLayout.addComponent(horizontalLayout_1, \"top:0.0px;left:0.0px;\");\n\n    return mainLayout;\n}\n\n@AutoGenerated\nprivate HorizontalLayout buildHorizontalLayout_1() {\n    // some layout code... //\n\n\n    // add absoluteLayout_2 &lt;-- buttons will be here\n    absoluteLayout_2 = buildAbsoluteLayout_2();\n    horizontalLayout_1.addComponent(absoluteLayout_2);\n\n    return horizontalLayout_1;\n}\n\n@AutoGenerated\nprivate AbsoluteLayout buildAbsoluteLayout_2() {\n    // common part: create layout\n    absoluteLayout_2 = new AbsoluteLayout();\n    absoluteLayout_2.setImmediate(false);\n    absoluteLayout_2.setWidth(\"60px\");\n    absoluteLayout_2.setHeight(\"60px\");\n    absoluteLayout_2.setMargin(false);\n\n            //BUTTONS are here:\n    // nativeButton_1\n    nativeButton_1 = new Button();\n    nativeButton_1.setImmediate(true);\n    nativeButton_1.setWidth(\"20px\");\n    nativeButton_1.setHeight(\"20px\");\n    nativeButton_1.setStyleName(\"thumbs-up-button\");\n    absoluteLayout_2.addComponent(nativeButton_1, \"top:41.0px;left:0.0px;\");\n\n    // nativeButton_2\n    nativeButton_2 = new Button();\n    nativeButton_2.setStyleName(\"thumbs-down-button\");\n    nativeButton_2.setImmediate(true);\n    nativeButton_2.setWidth(\"20px\");\n    nativeButton_2.setHeight(\"20px\");\n    absoluteLayout_2.addComponent(nativeButton_2, \"top:41.0px;left:40.0px;\");\n\n    return absoluteLayout_2;\n}\n\n@Override\npublic void buttonClick(ClickEvent event) {\n    Button b = event.getButton();\n\n    if (b == nativeButton_1){\n\n        if(nativeButton_1.getStyleName().contains(\"active\"))\n            nativeButton_1.removeStyleName(\"active\");\n        else\n            nativeButton_1.addStyleName(\"active\");\n    }\n\n            //etc...\n\n}\n\n}\n</code></pre>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1274366510,"creation_date":1274366510,"answer_id":2874788,"question_id":2873902,"body_markdown":"&gt; Is it possible with JPA to retrieve a instances of a non-entity classes with native queries?\r\n\r\nNo. Native queries can return entities **only** (if you tell them to do so by passing the `resultClass` or a `resultSetMapping` to the [`createNativeQuery`][1] method; if you don&#39;t, you will get collections of raw data).\r\n\r\nIn JPQL, you can use constructor expressions (SELECT NEW...) whith a non-entity constructor. But this is not supported for native queries, you&#39;ll have to do it manually. \r\n\r\n\r\n  [1]: http://java.sun.com/javaee/5/docs/api/javax/persistence/EntityManager.html#createNativeQuery%28java.lang.String,%20java.lang.Class%29\r\n  [2]: http://java.sun.com/javaee/5/docs/api/javax/persistence/EntityManager.html#createNativeQuery%28java.lang.String,%20java.lang.Class%29","title":"Select non-entities with JPA?","body":"<blockquote>\n  <p>Is it possible with JPA to retrieve a instances of a non-entity classes with native queries?</p>\n</blockquote>\n\n<p>No. Native queries can return entities <strong>only</strong> (if you tell them to do so by passing the <code>resultClass</code> or a <code>resultSetMapping</code> to the <a href=\"http://java.sun.com/javaee/5/docs/api/javax/persistence/EntityManager.html#createNativeQuery%28java.lang.String,%20java.lang.Class%29\" rel=\"noreferrer\"><code>createNativeQuery</code></a> method; if you don't, you will get collections of raw data).</p>\n\n<p>In JPQL, you can use constructor expressions (SELECT NEW...) whith a non-entity constructor. But this is not supported for native queries, you'll have to do it manually. </p>\n"},{"tags":[],"owner":{"account_id":2137276,"reputation":5,"user_id":1896720,"display_name":"Lakshmi Hari"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1355291031,"creation_date":1355291031,"answer_id":13833547,"question_id":2873902,"body_markdown":"I think I found the solution.\r\nThere is a way to use the NEW keyword in constructing the query. \r\nWhat I did to resovle this issue :\r\n\r\n        public List&lt;ProductType&gt; getProductByName(String productName) {\r\n            String sqlQuery = &quot;select DISTINCT **NEW** project1.ProductType(o.name, o.revision) from Lhproduct o where o.name = :prodname&quot;;\r\n            Query qry = getEntityManager().**createQuery(sqlQuery);**\r\n            qry.setParameter(&quot;prodname&quot;,productName);\r\n            return qry.getResultList();\r\n     }\r\nThe ProductType is a non-entity object, a simple plain object implementing Serialiabale. But you need to define the appropriate constructor. \r\n\r\nHappy coding :-)\r\n\r\nThanks and Regards,\r\nHari","title":"Select non-entities with JPA?","body":"<p>I think I found the solution.\nThere is a way to use the NEW keyword in constructing the query. \nWhat I did to resovle this issue :</p>\n\n<pre><code>    public List&lt;ProductType&gt; getProductByName(String productName) {\n        String sqlQuery = \"select DISTINCT **NEW** project1.ProductType(o.name, o.revision) from Lhproduct o where o.name = :prodname\";\n        Query qry = getEntityManager().**createQuery(sqlQuery);**\n        qry.setParameter(\"prodname\",productName);\n        return qry.getResultList();\n }\n</code></pre>\n\n<p>The ProductType is a non-entity object, a simple plain object implementing Serialiabale. But you need to define the appropriate constructor. </p>\n\n<p>Happy coding :-)</p>\n\n<p>Thanks and Regards,\nHari</p>\n"},{"tags":[],"owner":{"account_id":10153453,"reputation":11,"user_id":7499251,"display_name":"user7499251"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633690024,"creation_date":1633689068,"answer_id":69494433,"question_id":2873902,"body_markdown":"JPA native query without entity - especially with complex queries (recursive, multiple joins, etc.) ?\r\n\r\nThis worked for me, but it&#39;s hibernate specific :\r\n\r\n    import org.hibernate.transform.Transformers;\r\n\r\n    Query query = entityManagerFactory.createEntityManager().createNativeQuery(SQL);\r\n    // Transform the results to MAP &lt;Key, Value&gt;\r\n    query.unwrap(org.hibernate.SQLQuery.class).setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);\r\n    query.setParameter(&quot;myNamedParam&quot;, myParam);\r\n    List&lt;Map&lt;String, Object&gt;&gt; list = query.getResultList();\r\n    for (Map&lt;String, Object&gt; map : list) {\r\n    \tSystem.out.println(map);\r\n    }\r\n\r\ncf. https://www.programmerall.com/article/89371766511/\r\n\r\n","title":"Select non-entities with JPA?","body":"<p>JPA native query without entity - especially with complex queries (recursive, multiple joins, etc.) ?</p>\n<p>This worked for me, but it's hibernate specific :</p>\n<pre><code>import org.hibernate.transform.Transformers;\n\nQuery query = entityManagerFactory.createEntityManager().createNativeQuery(SQL);\n// Transform the results to MAP &lt;Key, Value&gt;\nquery.unwrap(org.hibernate.SQLQuery.class).setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);\nquery.setParameter(&quot;myNamedParam&quot;, myParam);\nList&lt;Map&lt;String, Object&gt;&gt; list = query.getResultList();\nfor (Map&lt;String, Object&gt; map : list) {\n    System.out.println(map);\n}\n</code></pre>\n<p>cf. <a href=\"https://www.programmerall.com/article/89371766511/\" rel=\"nofollow noreferrer\">https://www.programmerall.com/article/89371766511/</a></p>\n"},{"tags":[],"owner":{"account_id":23969310,"reputation":61,"user_id":18528693,"display_name":"Anton Podolskyy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693814753,"creation_date":1693814753,"answer_id":77036066,"question_id":2873902,"body_markdown":"Here is way how i did it.\r\n\r\nMy entity with a lot of fields\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;outcoming_transaction&quot;, schema = &quot;ibank_schema&quot;, catalog = &quot;ibank&quot;)\r\n    public class OutcomingTransaction {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, updatable = false)\r\n        private Long id;\r\n    \r\n        @NotEmpty(message = &quot;Sender name cant be empty&quot;)\r\n        @Size(max = 255, message = &quot;Max size for sender name is 255 characters&quot;)\r\n        @Column(name = &quot;sender_name&quot;, updatable = false)\r\n        private String senderName;\r\n    \r\n        @NotEmpty(message = &quot;Sender surname cant be empty&quot;)\r\n        @Size(max = 255, message = &quot;Max size for sender surname is 255 characters&quot;)\r\n        @Column(name = &quot;sender_surname&quot;, updatable = false)\r\n        private String senderSurname;\r\n    \r\n        @NotEmpty(message = &quot;Sender account number cant be empty&quot;)\r\n        @Size(max = 20, message = &quot;Max size for sender account number is 20 characters&quot;)\r\n        @Column(name = &quot;sender_account_number&quot;, updatable = false)\r\n        private String senderAccountNumber;\r\n    \r\n        @NotNull(message = &quot;Money amount cant be empty&quot;)\r\n        @Column(name = &quot;money_amount&quot;, updatable = false)\r\n        private BigDecimal moneyAmount;\r\n    \r\n        @NotEmpty(message = &quot;Currency code cant be empty&quot;)\r\n        @Size(max = 3, message = &quot;Max size for currency code is 3 characters&quot;)\r\n        @Column(name = &quot;currency_code&quot;, updatable = false)\r\n        private String currencyCode;\r\n    \r\n        @NotEmpty(message = &quot;Recipient account number cant be empty&quot;)\r\n        @Size(max = 20, message = &quot;Max size for recipient account number is 20 characters&quot;)\r\n        @Column(name = &quot;recipient_account_number&quot;, updatable = false)\r\n        private String recipientAccountNumber;\r\n    \r\n        @NotEmpty(message = &quot;Recipient name cant be empty&quot;)\r\n        @Size(max = 255, message = &quot;Max size for recipient name is 255 characters&quot;)\r\n        @Column(name = &quot;recipient_name&quot;, updatable = false)\r\n        private String recipientName;\r\n    \r\n        @NotEmpty(message = &quot;Recipient surname cant be empty&quot;)\r\n        @Size(max = 255, message = &quot;Max size for sender surname is 255 characters&quot;)\r\n        @Column(name = &quot;recipient_surname&quot;, updatable = false)\r\n        private String recipientSurname;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;recipient_bank&quot;, referencedColumnName = &quot;id&quot;)\r\n        @Valid // todo 30.08.2023 Anton - check if this working fine\r\n        @NotNull(message = &quot;Recipient bank cant be empty&quot;)\r\n        private BankData recipientBank;\r\n    \r\n        @Size(max = 255, message = &quot;Max size for payment purpose is 255 characters&quot;)\r\n        @Column(name = &quot;payment_purpose&quot;, updatable = false)\r\n        private String paymentPurpose;\r\n    \r\n        @NotNull(message = &quot;Transaction fee have to be filled up&quot;)\r\n        @Column(name = &quot;transaction_fee&quot;, updatable = false)\r\n        private BigDecimal transactionFee;\r\n    \r\n        @Column(name = &quot;transaction_time&quot;, updatable = false)\r\n        private Timestamp transactionTime;\r\n    \r\n    \r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            OutcomingTransaction that = (OutcomingTransaction) o;\r\n            return id.equals(that.id);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(id);\r\n        }\r\n    \r\n        public String toString() {\r\n            return transactionTime.toString() + &quot;: from &quot; + senderSurname + &quot; &quot; + senderName + &quot; to &quot; + recipientSurname + &quot; &quot; + recipientName;\r\n        }\r\n    }\r\n\r\nSo I have tons of transactions and I need to get sum for each currency.\r\nRepository:\r\n\r\n    @Repository  \r\n    public interface OutcomingTransactionRepository extends JpaRepository&lt;OutcomingTransaction, Long&gt; {  \r\n       \r\n    @Query(&quot;SELECT NEW ru.k2.ibank.model.dto.TransactionSummaryDTO(t.currencyCode, SUM(t.moneyAmount)) FROM OutcomingTransaction t &quot; +  \r\n    &quot;WHERE t.transactionTime BETWEEN :dateFrom AND :dateTill &quot; +  \r\n    &quot;GROUP BY t.currencyCode&quot;)  \r\n    List&lt;TransactionSummaryDTO&gt; getSumWithinTimeWindow(  \r\n    @Param(&quot;dateFrom&quot;) Timestamp dateFrom,  \r\n    @Param(&quot;dateTill&quot;) Timestamp dateTill);  \r\n      \r\n    }\r\n\r\nDTO\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class TransactionSummaryDTO {\r\n    \r\n        public TransactionSummaryDTO(String currencyCode, BigDecimal totalAmount) {\r\n            this.currencyCode = currencyCode;\r\n            this.totalAmount = totalAmount;\r\n        }\r\n    \r\n        private String currencyCode;\r\n        private BigDecimal totalAmount;\r\n    \r\n    }\r\n\r\nHere is JSON reply:\r\n\r\n    [\r\n        {\r\n            &quot;currencyCode&quot;: &quot;CNY&quot;,\r\n            &quot;totalAmount&quot;: 15120.25\r\n        },\r\n        {\r\n            &quot;currencyCode&quot;: &quot;EUR&quot;,\r\n            &quot;totalAmount&quot;: 17850.25\r\n        },\r\n        {\r\n            &quot;currencyCode&quot;: &quot;RUB&quot;,\r\n            &quot;totalAmount&quot;: 1233.54\r\n        },\r\n        {\r\n            &quot;currencyCode&quot;: &quot;USD&quot;,\r\n            &quot;totalAmount&quot;: 15437306.50\r\n        },\r\n        {\r\n            &quot;currencyCode&quot;: &quot;GBP&quot;,\r\n            &quot;totalAmount&quot;: 123450.25\r\n        }\r\n    ]","title":"Select non-entities with JPA?","body":"<p>Here is way how i did it.</p>\n<p>My entity with a lot of fields</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;outcoming_transaction&quot;, schema = &quot;ibank_schema&quot;, catalog = &quot;ibank&quot;)\npublic class OutcomingTransaction {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, updatable = false)\n    private Long id;\n\n    @NotEmpty(message = &quot;Sender name cant be empty&quot;)\n    @Size(max = 255, message = &quot;Max size for sender name is 255 characters&quot;)\n    @Column(name = &quot;sender_name&quot;, updatable = false)\n    private String senderName;\n\n    @NotEmpty(message = &quot;Sender surname cant be empty&quot;)\n    @Size(max = 255, message = &quot;Max size for sender surname is 255 characters&quot;)\n    @Column(name = &quot;sender_surname&quot;, updatable = false)\n    private String senderSurname;\n\n    @NotEmpty(message = &quot;Sender account number cant be empty&quot;)\n    @Size(max = 20, message = &quot;Max size for sender account number is 20 characters&quot;)\n    @Column(name = &quot;sender_account_number&quot;, updatable = false)\n    private String senderAccountNumber;\n\n    @NotNull(message = &quot;Money amount cant be empty&quot;)\n    @Column(name = &quot;money_amount&quot;, updatable = false)\n    private BigDecimal moneyAmount;\n\n    @NotEmpty(message = &quot;Currency code cant be empty&quot;)\n    @Size(max = 3, message = &quot;Max size for currency code is 3 characters&quot;)\n    @Column(name = &quot;currency_code&quot;, updatable = false)\n    private String currencyCode;\n\n    @NotEmpty(message = &quot;Recipient account number cant be empty&quot;)\n    @Size(max = 20, message = &quot;Max size for recipient account number is 20 characters&quot;)\n    @Column(name = &quot;recipient_account_number&quot;, updatable = false)\n    private String recipientAccountNumber;\n\n    @NotEmpty(message = &quot;Recipient name cant be empty&quot;)\n    @Size(max = 255, message = &quot;Max size for recipient name is 255 characters&quot;)\n    @Column(name = &quot;recipient_name&quot;, updatable = false)\n    private String recipientName;\n\n    @NotEmpty(message = &quot;Recipient surname cant be empty&quot;)\n    @Size(max = 255, message = &quot;Max size for sender surname is 255 characters&quot;)\n    @Column(name = &quot;recipient_surname&quot;, updatable = false)\n    private String recipientSurname;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;recipient_bank&quot;, referencedColumnName = &quot;id&quot;)\n    @Valid // todo 30.08.2023 Anton - check if this working fine\n    @NotNull(message = &quot;Recipient bank cant be empty&quot;)\n    private BankData recipientBank;\n\n    @Size(max = 255, message = &quot;Max size for payment purpose is 255 characters&quot;)\n    @Column(name = &quot;payment_purpose&quot;, updatable = false)\n    private String paymentPurpose;\n\n    @NotNull(message = &quot;Transaction fee have to be filled up&quot;)\n    @Column(name = &quot;transaction_fee&quot;, updatable = false)\n    private BigDecimal transactionFee;\n\n    @Column(name = &quot;transaction_time&quot;, updatable = false)\n    private Timestamp transactionTime;\n\n\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        OutcomingTransaction that = (OutcomingTransaction) o;\n        return id.equals(that.id);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id);\n    }\n\n    public String toString() {\n        return transactionTime.toString() + &quot;: from &quot; + senderSurname + &quot; &quot; + senderName + &quot; to &quot; + recipientSurname + &quot; &quot; + recipientName;\n    }\n}\n</code></pre>\n<p>So I have tons of transactions and I need to get sum for each currency.\nRepository:</p>\n<pre><code>@Repository  \npublic interface OutcomingTransactionRepository extends JpaRepository&lt;OutcomingTransaction, Long&gt; {  \n   \n@Query(&quot;SELECT NEW ru.k2.ibank.model.dto.TransactionSummaryDTO(t.currencyCode, SUM(t.moneyAmount)) FROM OutcomingTransaction t &quot; +  \n&quot;WHERE t.transactionTime BETWEEN :dateFrom AND :dateTill &quot; +  \n&quot;GROUP BY t.currencyCode&quot;)  \nList&lt;TransactionSummaryDTO&gt; getSumWithinTimeWindow(  \n@Param(&quot;dateFrom&quot;) Timestamp dateFrom,  \n@Param(&quot;dateTill&quot;) Timestamp dateTill);  \n  \n}\n</code></pre>\n<p>DTO</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class TransactionSummaryDTO {\n\n    public TransactionSummaryDTO(String currencyCode, BigDecimal totalAmount) {\n        this.currencyCode = currencyCode;\n        this.totalAmount = totalAmount;\n    }\n\n    private String currencyCode;\n    private BigDecimal totalAmount;\n\n}\n</code></pre>\n<p>Here is JSON reply:</p>\n<pre><code>[\n    {\n        &quot;currencyCode&quot;: &quot;CNY&quot;,\n        &quot;totalAmount&quot;: 15120.25\n    },\n    {\n        &quot;currencyCode&quot;: &quot;EUR&quot;,\n        &quot;totalAmount&quot;: 17850.25\n    },\n    {\n        &quot;currencyCode&quot;: &quot;RUB&quot;,\n        &quot;totalAmount&quot;: 1233.54\n    },\n    {\n        &quot;currencyCode&quot;: &quot;USD&quot;,\n        &quot;totalAmount&quot;: 15437306.50\n    },\n    {\n        &quot;currencyCode&quot;: &quot;GBP&quot;,\n        &quot;totalAmount&quot;: 123450.25\n    }\n]\n</code></pre>\n"}],"owner":{"account_id":615469,"reputation":105,"user_id":346118,"display_name":"Redfield"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17440,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":2874788,"answer_count":4,"score":9,"last_activity_date":1693814753,"creation_date":1274360514,"question_id":2873902,"body_markdown":"Is it possible with JPA to retrieve a instances of a non-entity classes with native queries?  \r\nI have a non-entity class that wraps two entities:\r\n\r\n    class Wrap{\r\n      Entity1 ent1;\r\n      Entity2 ent2\r\n    }\r\n    @Entity\r\n    class Entity1{\r\n      ...\r\n    }\r\n    @Entity\r\n    class Entity2{\r\n      ...\r\n    }\r\n  \r\nHow can I do something like that?  \r\n\r\n    Query q = entityManager.createNativeQuery(&quot;native select here&quot;);\r\n    List&lt;Wrap&gt; list = q.getResultList();\r\n\r\n","title":"Select non-entities with JPA?","body":"<p>Is it possible with JPA to retrieve a instances of a non-entity classes with native queries?<br>\nI have a non-entity class that wraps two entities:</p>\n\n<pre><code>class Wrap{\n  Entity1 ent1;\n  Entity2 ent2\n}\n@Entity\nclass Entity1{\n  ...\n}\n@Entity\nclass Entity2{\n  ...\n}\n</code></pre>\n\n<p>How can I do something like that?  </p>\n\n<pre><code>Query q = entityManager.createNativeQuery(\"native select here\");\nList&lt;Wrap&gt; list = q.getResultList();\n</code></pre>\n"},{"tags":["java","method-call","dynamic-binding","static-binding"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1693752818,"post_id":77032837,"comment_id":135799114,"body_markdown":"To override it has to have the same signature (name and types of arguments).","body":"To override it has to have the same signature (name and types of arguments)."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1693752835,"post_id":77032837,"comment_id":135799116,"body_markdown":"You&#39;re calling through a variable of type `X`, and an `X` doesn&#39;t have a method `test(int)`, it only has `test(double)`. It is impossible for your code to call `test(int)` through that variable, even if the runtime type is `Z`. The compiler will bind to the method `test(double)`, and given `Z` doesn&#39;t override that, it will cal the one from `X`.","body":"You&#39;re calling through a variable of type <code>X</code>, and an <code>X</code> doesn&#39;t have a method <code>test(int)</code>, it only has <code>test(double)</code>. It is impossible for your code to call <code>test(int)</code> through that variable, even if the runtime type is <code>Z</code>. The compiler will bind to the method <code>test(double)</code>, and given <code>Z</code> doesn&#39;t override that, it will cal the one from <code>X</code>."},{"owner":{"account_id":26885874,"reputation":1,"user_id":20465451,"display_name":"Jadon Chan"},"score":0,"creation_date":1693753114,"post_id":77032837,"comment_id":135799144,"body_markdown":"I found that if I change the parameter type of test() in class Z from int to double, the output becomes &quot;test of Z&quot;","body":"I found that if I change the parameter type of test() in class Z from int to double, the output becomes &quot;test of Z&quot;"},{"owner":{"account_id":26885874,"reputation":1,"user_id":20465451,"display_name":"Jadon Chan"},"score":1,"creation_date":1693753277,"post_id":77032837,"comment_id":135799157,"body_markdown":"Thanks for your reply, so this is actually static binding here? @Mark Rotteveel","body":"Thanks for your reply, so this is actually static binding here? @Mark Rotteveel"},{"owner":{"account_id":7012253,"reputation":1690,"user_id":5374691,"accept_rate":87,"display_name":"esQmo_"},"score":1,"creation_date":1693753285,"post_id":77032837,"comment_id":135799161,"body_markdown":"It doesn&#39;t work because you&#39;re overloading the methods instead of overriding them.","body":"It doesn&#39;t work because you&#39;re overloading the methods instead of overriding them."},{"owner":{"account_id":26885874,"reputation":1,"user_id":20465451,"display_name":"Jadon Chan"},"score":0,"creation_date":1693753493,"post_id":77032837,"comment_id":135799179,"body_markdown":"Thank you so much, and I want to know more about why it&#39;s working like this way? @esQmo_","body":"Thank you so much, and I want to know more about why it&#39;s working like this way? @esQmo_"},{"owner":{"account_id":26885874,"reputation":1,"user_id":20465451,"display_name":"Jadon Chan"},"score":0,"creation_date":1693753898,"post_id":77032837,"comment_id":135799224,"body_markdown":"Or can I say that dynamic binding only happens when this method is extended ?","body":"Or can I say that dynamic binding only happens when this method is extended ?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1693754325,"post_id":77032837,"comment_id":135799285,"body_markdown":"Selection of *overloaded* methods is determined at compile time (“static binding”). Selection of *overridden* methods is determined at run time (“dynamic binding”). Class `Z` *overloads* the `test` method (because it declares it with a different signature).","body":"Selection of <i>overloaded</i> methods is determined at compile time (“static binding”). Selection of <i>overridden</i> methods is determined at run time (“dynamic binding”). Class <code>Z</code> <i>overloads</i> the <code>test</code> method (because it declares it with a different signature)."},{"owner":{"account_id":26885874,"reputation":1,"user_id":20465451,"display_name":"Jadon Chan"},"score":0,"creation_date":1693754709,"post_id":77032837,"comment_id":135799329,"body_markdown":"I got it! Thank you so much! @James_D","body":"I got it! Thank you so much! @James_D"}],"owner":{"account_id":26885874,"reputation":1,"user_id":20465451,"display_name":"Jadon Chan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693814708,"answer_count":0,"score":0,"last_activity_date":1693814727,"creation_date":1693752680,"question_id":77032837,"body_markdown":"This code&#39;s output is &quot;test of X&quot;, but it&#39;s expected to be &quot;test of Z&quot;.\r\n\r\n```\r\npublic class test {\r\n    public static void main(String[] args) {\r\n        X x = new X();\r\n        x = new Z();\r\n        x.test(1);\r\n    }\r\n}\r\n\r\nclass Y {\r\n    public void test(double a) {\r\n        System.out.println(&quot;test of Y&quot;);\r\n    }\r\n}\r\n\r\nclass X extends Y {\r\n    public void test(double b) {\r\n        System.out.println(&quot;test of X&quot;);\r\n    }\r\n}\r\n\r\nclass Z extends X {\r\n    public void test(int c) {\r\n        System.out.println(&quot;test of Z&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI can&#39;t figure out whether it&#39;s static binding or dynamic binding. According to Core Java, when this method is called, what happens is following:\r\n\r\n+ List all the visible methods with the same name as this method, because test in X overrides that in Y, so it should be test in X. Only one candidate.\r\n+ Choose the most suitable one according to the type of argument, because test in X in the only candidate, so it must be chosen.\r\n+ If this method is private,  static, or final then it&#39;s static binding. Then resolution is done here. But it&#39;s not, so it should be dynamic binding here.\r\n+ At the run time, this method is actually called on an object of Z, so it looks up method table of Z, then test in Z should be called.\r\n\r\nI don&#39;t know what where I take it wrong, the actual output is &quot;test of X&quot;.\r\n\r\nMy OS: Windows 11 \\\r\nMy JDK: Java 20\r\n","title":"Why does the dynamic binding of following code seem not to work?","body":"<p>This code's output is &quot;test of X&quot;, but it's expected to be &quot;test of Z&quot;.</p>\n<pre><code>public class test {\n    public static void main(String[] args) {\n        X x = new X();\n        x = new Z();\n        x.test(1);\n    }\n}\n\nclass Y {\n    public void test(double a) {\n        System.out.println(&quot;test of Y&quot;);\n    }\n}\n\nclass X extends Y {\n    public void test(double b) {\n        System.out.println(&quot;test of X&quot;);\n    }\n}\n\nclass Z extends X {\n    public void test(int c) {\n        System.out.println(&quot;test of Z&quot;);\n    }\n}\n</code></pre>\n<p>I can't figure out whether it's static binding or dynamic binding. According to Core Java, when this method is called, what happens is following:</p>\n<ul>\n<li>List all the visible methods with the same name as this method, because test in X overrides that in Y, so it should be test in X. Only one candidate.</li>\n<li>Choose the most suitable one according to the type of argument, because test in X in the only candidate, so it must be chosen.</li>\n<li>If this method is private,  static, or final then it's static binding. Then resolution is done here. But it's not, so it should be dynamic binding here.</li>\n<li>At the run time, this method is actually called on an object of Z, so it looks up method table of Z, then test in Z should be called.</li>\n</ul>\n<p>I don't know what where I take it wrong, the actual output is &quot;test of X&quot;.</p>\n<p>My OS: Windows 11 <br />\nMy JDK: Java 20</p>\n"},{"tags":["java","multithreading","swing","game-development"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1693392128,"post_id":77007226,"comment_id":135753797,"body_markdown":"&quot;I&#39;m unsure how to synchronize the animations.&quot;  The common way is to have one and only one animation loop.  You create a logical model of your game using plain Java getter/setter classes.  The animation loop moves the logical pieces, and then you draw the state of the logical model.","body":"&quot;I&#39;m unsure how to synchronize the animations.&quot;  The common way is to have one and only one animation loop.  You create a logical model of your game using plain Java getter/setter classes.  The animation loop moves the logical pieces, and then you draw the state of the logical model."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1693392189,"post_id":77007226,"comment_id":135753814,"body_markdown":"&quot;*Essentially, I want each mouse click to spawn a new Timer, that will not begin until the previous has finished.&quot;* - No, you shouldn&#39;t. This will have degrading effect on your apps performance.  Instead, you want a single `Timer` which can trigger &quot;ticks&quot; which your &quot;animatable&quot; objects can then respond to","body":"&quot;<i>Essentially, I want each mouse click to spawn a new Timer, that will not begin until the previous has finished.&quot;</i> - No, you shouldn&#39;t. This will have degrading effect on your apps performance.  Instead, you want a single <code>Timer</code> which can trigger &quot;ticks&quot; which your &quot;animatable&quot; objects can then respond to"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693392304,"post_id":77007226,"comment_id":135753839,"body_markdown":"You should also maintain some kind of &quot;animating&quot; state for your object, so if it&#39;s clicked again, while animating, it won&#39;t start a new animation cycle","body":"You should also maintain some kind of &quot;animating&quot; state for your object, so if it&#39;s clicked again, while animating, it won&#39;t start a new animation cycle"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1693392862,"post_id":77007226,"comment_id":135753934,"body_markdown":"For [example](https://stackoverflow.com/questions/23209060/how-to-animate-from-one-x-y-coordinate-to-another-java-processing/23210015#23210015) and [example](https://stackoverflow.com/questions/70525750/rotate-image-in-grid-in-java/70526023#70526023)","body":"For <a href=\"https://stackoverflow.com/questions/23209060/how-to-animate-from-one-x-y-coordinate-to-another-java-processing/23210015#23210015\">example</a> and <a href=\"https://stackoverflow.com/questions/70525750/rotate-image-in-grid-in-java/70526023#70526023\">example</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693392960,"post_id":77007226,"comment_id":135753952,"body_markdown":"*&quot;that will not begin until the previous has finished.&quot;* - Sounds more like you want some of stack, so the &quot;animation loop&quot; would pop of the entity to be animated, animate it, the pop then next entity of the loop.  I would consider having the loop stop when there are no more entities in the stack and start again when you add more","body":"<i>&quot;that will not begin until the previous has finished.&quot;</i> - Sounds more like you want some of stack, so the &quot;animation loop&quot; would pop of the entity to be animated, animate it, the pop then next entity of the loop.  I would consider having the loop stop when there are no more entities in the stack and start again when you add more"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693394404,"post_id":77007226,"comment_id":135754228,"body_markdown":"@GilbertLeBlanc, great recommendation, thanks.","body":"@GilbertLeBlanc, great recommendation, thanks."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693394444,"post_id":77007226,"comment_id":135754230,"body_markdown":"@MadProgrammer, both of those links are excellent examples, thanks.","body":"@MadProgrammer, both of those links are excellent examples, thanks."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693394623,"post_id":77007226,"comment_id":135754267,"body_markdown":"@MadProgrammer, I guess you&#39;re saying just use a _Deque_ of _Timer_ values, and some type of mechanism to run each, one at a time.","body":"@MadProgrammer, I guess you&#39;re saying just use a <i>Deque</i> of <i>Timer</i> values, and some type of mechanism to run each, one at a time."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1693394873,"post_id":77007226,"comment_id":135754318,"body_markdown":"No, I&#39;m saying &quot;deque&quot; some kind of state and use a single `Timer` to animate that state","body":"No, I&#39;m saying &quot;deque&quot; some kind of state and use a single <code>Timer</code> to animate that state"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1693433727,"post_id":77007226,"comment_id":135762319,"body_markdown":"Again, more `Timer`s WILL degrade the performance of your app - you shouldn&#39;t me using multiple `Timer`s. You should also decouple the state, so the component becomes responsible for displaying the state and is otherwise disconnected from it","body":"Again, more <code>Timer</code>s WILL degrade the performance of your app - you shouldn&#39;t me using multiple <code>Timer</code>s. You should also decouple the state, so the component becomes responsible for displaying the state and is otherwise disconnected from it"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1693431722,"creation_date":1693396487,"answer_id":77007753,"question_id":77007226,"body_markdown":"&gt; Essentially, I want each mouse click to spawn a new Timer, \r\n\r\nNo, I wouldn&#39;t do that, more `Timer`&#39;s isn&#39;t going to help, it&#39;s going to have a degrading effect on performance.  Remember, each `Timer` will still schedule it&#39;s callbacks on the Event Dispatching Thread.\r\n\r\n&gt; that will not begin until the previous has finished.\r\n\r\nSounds more like you want some kind of &quot;stack&quot; where a centralised loop can pop of the next task and animate it.\r\n\r\n# Cavets\r\n\r\nFirst things first.  Animation is hard, good animation is very hard.  There&#39;s a lot that goes into making animation &quot;look&quot; good.\r\n\r\n# Centralised engine\r\n\r\nTypically, you want to start with a concept of a &quot;main&quot; or &quot;animation&quot; loop.  This will repeat, at as regular an interval as it can and will &quot;tick&quot; you animations.\r\n\r\nFor this, I&#39;ve started with a Swing `Timer`.  It&#39;s simple and safe to use.  When there are no more things to animate, it will stop, so it&#39;s not wasting CPU cycles doing nothing.\r\n\r\n    public class AnimationEngine {\r\n        private Timer timer;\r\n\r\n        private List&lt;Animatable&gt; animatables = new ArrayList&lt;&gt;(8);\r\n        private Animatable current;\r\n\r\n        public AnimationEngine() {\r\n            this.timer = new Timer(5, new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    didTick();\r\n                }\r\n            });\r\n        }\r\n\r\n        public void add(Animatable animatable) {\r\n            animatables.add(animatable);\r\n            start();\r\n        }\r\n\r\n        public void remove(Animatable animatable) {\r\n            animatables.remove(animatable);\r\n            if (current == animatable) {\r\n                current = null;\r\n            }\r\n            if (animatables.isEmpty()) {\r\n                stop();\r\n            }\r\n        }\r\n\r\n        public void start() {\r\n            if (timer.isRunning()) {\r\n                return;\r\n            }\r\n            timer.start();\r\n        }\r\n\r\n        public void stop() {\r\n            timer.stop();\r\n        }\r\n\r\n        protected void didTick() {\r\n            if (current == null) {\r\n                if (animatables.isEmpty()) {\r\n                    stop();\r\n                    return;\r\n                }\r\n                current = animatables.remove(0);\r\n            }\r\n            if (current.tick(this)) {\r\n                remove(current);\r\n            }\r\n        }\r\n    }\r\n\r\n# Something to animate\r\n\r\nThis is probably a little bit of overkill for what you need, but the following describes something which can be animated.\r\n\r\n    public interface Animatable {\r\n        public double getProgress();\r\n        public Duration getDuration();\r\n        public boolean tick(AnimationEngine engine);\r\n    }\r\n\r\nThis is &quot;duration&quot; based, meaning that it will animate some change over a specified period of time.  Generally speaking, a time based animation will give better results over a linear delta based animation.  It also makes it much easier to change the speed of the animation.\r\n\r\nI then created a `RotationAnimation`, which just animates the rotation of a `Box` from one angle to other (over a period of time)\r\n\r\n    public class RotationAnimation implements Animatable {\r\n\r\n        private float from;\r\n        private float to;\r\n        private Box box;\r\n        private Duration duration;\r\n\r\n        private Instant startedAt;\r\n\r\n        public RotationAnimation(Box box, float from, float to, Duration duration) {\r\n            this.from = from;\r\n            this.to = to;\r\n            this.box = box;\r\n            this.duration = duration;\r\n        }\r\n\r\n        public Box getBox() {\r\n            return box;\r\n        }\r\n\r\n        public float getFrom() {\r\n            return from;\r\n        }\r\n\r\n        public float getTo() {\r\n            return to;\r\n        }\r\n\r\n        protected float getDistance() {\r\n            return getTo() - getFrom();\r\n        }\r\n\r\n        protected float valueAt(double progress) {\r\n            float distance = getDistance();\r\n            float value = distance * (float) progress;\r\n            value += getFrom();\r\n            return value;\r\n        }\r\n\r\n        @Override\r\n        public double getProgress() {\r\n            if (startedAt == null) {\r\n                startedAt = Instant.now();\r\n            }\r\n            Duration duration = getDuration();\r\n            Duration runningTime = Duration.between(startedAt, Instant.now());\r\n            double progress = (runningTime.toMillis() / (double) duration.toMillis());\r\n\r\n            return Math.min(1.0, Math.max(0.0, progress));\r\n        }\r\n\r\n        @Override\r\n        public Duration getDuration() {\r\n            return duration;\r\n        }\r\n\r\n        @Override\r\n        public boolean tick(AnimationEngine engine) {\r\n            boolean didComplete = false;\r\n            double progress = getProgress();\r\n            if (progress &gt;= 1.0f) {\r\n                didComplete = true;\r\n                progress = 1.0f;\r\n            }\r\n            float angle = valueAt(progress);\r\n            box.setAngle(angle);\r\n            box.repaint();\r\n            return didComplete;\r\n        }\r\n\r\n    }\r\n\r\nRelatively speaking, this is pretty simple.  On each `tick` it determines the amount of time it&#39;s been running, converts this value to a normalised progress (0-1) and calculates the resulting angle to be applied.\r\n\r\n# Runnable example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridLayout;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private AnimationEngine engine = new AnimationEngine();\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new GridLayout(10, 10));\r\n\r\n                for (int index = 0; index &lt; 100; index++) {\r\n                    Box box = new Box();\r\n                    add(box);\r\n                    box.addMouseListener(new MouseAdapter() {\r\n                        @Override\r\n                        public void mouseClicked(MouseEvent e) {\r\n                            float startAngle = box.getAngle();\r\n                            float endAngle = startAngle + 90;\r\n                            engine.add(new RotationAnimation(box, startAngle, endAngle, Duration.ofSeconds(1)));\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        public class Box extends JPanel {\r\n            public static final int BOX_WIDTH = 50;\r\n            public static final int BOX_HEIGHT = 50;\r\n\r\n            protected static final List&lt;Color&gt; COLORS = new ArrayList&lt;&gt;(Arrays.asList(new Color[] {\r\n                Color.BLACK, Color.BLUE, Color.CYAN, Color.DARK_GRAY, Color.GRAY, Color.GREEN,\r\n                Color.LIGHT_GRAY, Color.MAGENTA, Color.PINK, Color.RED\r\n            }));\r\n\r\n            private float angle = 0;\r\n\r\n            private Map&lt;RenderingHints.Key, Object&gt; renderingHints = new HashMap&lt;&gt;();\r\n\r\n            public Box() {\r\n                Collections.shuffle(COLORS);\r\n                setForeground(COLORS.get(0));\r\n                renderingHints.put(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n            }\r\n\r\n            public void setAngle(float angle) {\r\n                this.angle = angle;\r\n            }\r\n\r\n            public float getAngle() {\r\n                return angle;\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(BOX_WIDTH, BOX_HEIGHT);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setRenderingHints(renderingHints);\r\n                g2d.rotate(Math.toRadians(getAngle()), getWidth() / 2, getHeight() / 2);\r\n                g2d.setColor(getForeground());\r\n                int x = (getWidth() - BOX_WIDTH) / 2;\r\n                int y = (getHeight() - BOX_HEIGHT) / 2;\r\n                g2d.drawRect(x, y, BOX_WIDTH - 1, BOX_HEIGHT - 1);\r\n                g2d.drawLine(x + BOX_WIDTH / 2, y + BOX_HEIGHT / 2, x + BOX_WIDTH / 2, y + BOX_HEIGHT);\r\n                g2d.dispose();\r\n            }\r\n        }\r\n\r\n        public interface Animatable {\r\n            public double getProgress();\r\n\r\n            public Duration getDuration();\r\n\r\n            public boolean tick(AnimationEngine engine);\r\n        }\r\n\r\n        public class AnimationEngine {\r\n            private Timer timer;\r\n\r\n            private List&lt;Animatable&gt; animatables = new ArrayList&lt;&gt;(8);\r\n            private Animatable current;\r\n\r\n            public AnimationEngine() {\r\n                this.timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        didTick();\r\n                    }\r\n                });\r\n            }\r\n\r\n            public void add(Animatable animatable) {\r\n                animatables.add(animatable);\r\n                start();\r\n            }\r\n\r\n            public void remove(Animatable animatable) {\r\n                animatables.remove(animatable);\r\n                if (current == animatable) {\r\n                    current = null;\r\n                }\r\n                if (animatables.isEmpty()) {\r\n                    stop();\r\n                }\r\n            }\r\n\r\n            public void start() {\r\n                if (timer.isRunning()) {\r\n                    return;\r\n                }\r\n                timer.start();\r\n            }\r\n\r\n            public void stop() {\r\n                timer.stop();\r\n            }\r\n\r\n            protected void didTick() {\r\n                if (current == null) {\r\n                    if (animatables.isEmpty()) {\r\n                        stop();\r\n                        return;\r\n                    }\r\n                    current = animatables.remove(0);\r\n                }\r\n                if (current.tick(this)) {\r\n                    remove(current);\r\n                }\r\n            }\r\n        }\r\n\r\n        public class RotationAnimation implements Animatable {\r\n\r\n            private float from;\r\n            private float to;\r\n            private Box box;\r\n            private Duration duration;\r\n\r\n            private Instant startedAt;\r\n\r\n            public RotationAnimation(Box box, float from, float to, Duration duration) {\r\n                this.from = from;\r\n                this.to = to;\r\n                this.box = box;\r\n                this.duration = duration;\r\n            }\r\n\r\n            public Box getBox() {\r\n                return box;\r\n            }\r\n\r\n            public float getFrom() {\r\n                return from;\r\n            }\r\n\r\n            public float getTo() {\r\n                return to;\r\n            }\r\n\r\n            protected float getDistance() {\r\n                return getTo() - getFrom();\r\n            }\r\n\r\n            protected float valueAt(double progress) {\r\n                float distance = getDistance();\r\n                float value = distance * (float) progress;\r\n                value += getFrom();\r\n                return value;\r\n            }\r\n\r\n            @Override\r\n            public double getProgress() {\r\n                if (startedAt == null) {\r\n                    startedAt = Instant.now();\r\n                }\r\n                Duration duration = getDuration();\r\n                Duration runningTime = Duration.between(startedAt, Instant.now());\r\n                double progress = (runningTime.toMillis() / (double) duration.toMillis());\r\n\r\n                return Math.min(1.0, Math.max(0.0, progress));\r\n            }\r\n\r\n            @Override\r\n            public Duration getDuration() {\r\n                return duration;\r\n            }\r\n\r\n            @Override\r\n            public boolean tick(AnimationEngine engine) {\r\n                boolean didComplete = false;\r\n                double progress = getProgress();\r\n                if (progress &gt;= 1.0f) {\r\n                    didComplete = true;\r\n                    progress = 1.0f;\r\n                }\r\n                float angle = valueAt(progress);\r\n                box.setAngle(angle);\r\n                box.repaint();\r\n                return didComplete;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nI&#39;ve not even started talking about things like &quot;easement&quot;, which could make the animation look &quot;more natural&quot;.\r\n\r\nif you&#39;re interested, you could have a look at https://stackoverflow.com/questions/28335787/how-can-i-implement-easing-functions-with-a-thread/28338188#28338188 (which I also implemented [here](https://stackoverflow.com/questions/51903228/jbutton-hover-animation-in-java-swing/51904555#51904555))\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GILYP.gif\r\n\r\n&gt; I need. In you&#39;re example here, it only allows you to select one box at a time. I did not mean that, by &quot;synchronization&quot;. I meant, prevent them from overlapping, and using the same resource simultaneously\r\n\r\nThis is relatively simple to fix, simply modify the `didTick` method of the `AnimationEngine` to loop through the `List` and call each `Animatable`s `tick` method, for example...\r\n\r\n    protected void didTick() {\r\n        List&lt;Animatable&gt; copy = new ArrayList&lt;&gt;(animatables);\r\n        for (Animatable animated : copy) {\r\n            if (animated.tick(this)) {\r\n                animatables.remove(animated);\r\n            }\r\n        }\r\n        if (animatables.isEmpty()) {\r\n            stop();\r\n        }\r\n    }\r\n\r\n&gt; The mouse-click is part of the score, and the player may want to quickly double-click a box, or triple-click. They&#39;ll expect to see an animation for each click\r\n\r\nThis is a more complicated, but could be accomplished through a number of different methods.\r\n\r\nYou could &quot;interrupt&quot; the current animation, take the `Box`s current angle, project the new angle and start again.  This, however, is going to make the animation look ... well, weird.  Since the time doesn&#39;t change, the speed at which the box moves will change, so click it enough times and you can have a very fast spin.\r\n\r\nAlternatively, you could build a &quot;chain&quot; of animations.  This would basically be a `Animatable` container which contains a `List` of animations to be played.  It would simply play through each animation in sequence until it has no more animations.\r\n\r\nFor example...\r\n\r\n    public class ChainedRotationAnimation implements Animatable {\r\n        private List&lt;RotationAnimation&gt; animations = new ArrayList&lt;&gt;(8);\r\n        private RotationAnimation active;\r\n        \r\n        private Box box;\r\n\r\n        public ChainedRotationAnimation(Box box) {\r\n            this.box = box;\r\n        }\r\n\r\n        public Box getBox() {\r\n            return box;\r\n        }\r\n        \r\n        public Float getTargetAngle() {\r\n            // If nothing is avaliable, return `null`\r\n            if (animations.isEmpty() &amp;&amp; active == null) {\r\n                return null;\r\n            }\r\n            // If no other animations are avaliable, use the active animation\r\n            // instead\r\n            if (animations.isEmpty() &amp;&amp; active != null) {\r\n                return active.getTo();\r\n            }\r\n            // Otherwise, find the last animation and use it&#39;s target angle\r\n            RotationAnimation last = animations.get(animations.size() - 1);\r\n            return last.getTo();\r\n        }\r\n\r\n        public void add(RotationAnimation animatable) {\r\n            animations.add(animatable);\r\n        }\r\n\r\n        public void remove(RotationAnimation animatable) {\r\n            animations.remove(animatable);\r\n            if (active == animatable) {\r\n                active = null;\r\n            }\r\n        }\r\n\r\n        // I would remove these properties fom the `Animatable` class\r\n        // and instead move them to a `DurationAnimatable` class\r\n        @Override\r\n        public double getProgress() {\r\n            return 0;\r\n        }\r\n\r\n        @Override\r\n        public Duration getDuration() {\r\n            return Duration.ZERO;\r\n        }\r\n\r\n        @Override\r\n        public boolean tick(AnimationEngine engine) {\r\n            if (active == null) {\r\n                if (animations.isEmpty()) {\r\n                    return true;\r\n                }\r\n                active = animations.remove(0);\r\n            }\r\n            if (active.tick(engine)) {\r\n                active = null;\r\n                // Save us a whole tick\r\n                return animations.isEmpty();\r\n            }\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\nThen we&#39;d need to update the `Box` mouse click handler...\r\n\r\n    box.addMouseListener(new MouseAdapter() {\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            // Get all the current animations...\r\n            List&lt;Animatable&gt; animations = engine.getAnimations();\r\n            boolean exists = false;\r\n            for (Animatable animatable : animations) {\r\n                // Ignore anything which isn&#39;t a chained rotation\r\n                if (!(animatable instanceof ChainedRotationAnimation)) {\r\n                    continue;\r\n                }\r\n                // Ignore the animation if it&#39;s not for our Box\r\n                ChainedRotationAnimation chained = (ChainedRotationAnimation) animatable;\r\n                if (chained.getBox() != box) {\r\n                    continue;\r\n                }\r\n                exists = true;\r\n                // Determine the angle from which the box will start\r\n                // Either this is the current angle if it&#39;s not been\r\n                // animated or the target angle for the last animation\r\n                // in the chain\r\n                float startAngle = box.getAngle();\r\n                if (chained.getTargetAngle() != null) {\r\n                    startAngle = chained.getTargetAngle();\r\n                }\r\n                float endAngle = startAngle + 90;\r\n                chained.add(new RotationAnimation(box, startAngle, endAngle, Duration.ofMillis(250)));\r\n            }\r\n            // If no chained animation exists, we need to create one\r\n            if (exists) {\r\n                return;\r\n            }               \r\n            float startAngle = box.getAngle();\r\n            float endAngle = startAngle + 90;\r\n            ChainedRotationAnimation chained = new ChainedRotationAnimation(box);\r\n            chained.add(new RotationAnimation(box, startAngle, endAngle, Duration.ofMillis(250)));\r\n            engine.add(chained);\r\n        }\r\n    });\r\n\r\nThis is just an example and the concepts are loosely based on my personal [Super Simple Swing Animation Framework](https://github.com/RustyKnight/SuperSimpleSwingAnimationFramework) library","title":"Java Swing – Synchronizing resources for animation threads","body":"<blockquote>\n<p>Essentially, I want each mouse click to spawn a new Timer,</p>\n</blockquote>\n<p>No, I wouldn't do that, more <code>Timer</code>'s isn't going to help, it's going to have a degrading effect on performance.  Remember, each <code>Timer</code> will still schedule it's callbacks on the Event Dispatching Thread.</p>\n<blockquote>\n<p>that will not begin until the previous has finished.</p>\n</blockquote>\n<p>Sounds more like you want some kind of &quot;stack&quot; where a centralised loop can pop of the next task and animate it.</p>\n<h1>Cavets</h1>\n<p>First things first.  Animation is hard, good animation is very hard.  There's a lot that goes into making animation &quot;look&quot; good.</p>\n<h1>Centralised engine</h1>\n<p>Typically, you want to start with a concept of a &quot;main&quot; or &quot;animation&quot; loop.  This will repeat, at as regular an interval as it can and will &quot;tick&quot; you animations.</p>\n<p>For this, I've started with a Swing <code>Timer</code>.  It's simple and safe to use.  When there are no more things to animate, it will stop, so it's not wasting CPU cycles doing nothing.</p>\n<pre><code>public class AnimationEngine {\n    private Timer timer;\n\n    private List&lt;Animatable&gt; animatables = new ArrayList&lt;&gt;(8);\n    private Animatable current;\n\n    public AnimationEngine() {\n        this.timer = new Timer(5, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                didTick();\n            }\n        });\n    }\n\n    public void add(Animatable animatable) {\n        animatables.add(animatable);\n        start();\n    }\n\n    public void remove(Animatable animatable) {\n        animatables.remove(animatable);\n        if (current == animatable) {\n            current = null;\n        }\n        if (animatables.isEmpty()) {\n            stop();\n        }\n    }\n\n    public void start() {\n        if (timer.isRunning()) {\n            return;\n        }\n        timer.start();\n    }\n\n    public void stop() {\n        timer.stop();\n    }\n\n    protected void didTick() {\n        if (current == null) {\n            if (animatables.isEmpty()) {\n                stop();\n                return;\n            }\n            current = animatables.remove(0);\n        }\n        if (current.tick(this)) {\n            remove(current);\n        }\n    }\n}\n</code></pre>\n<h1>Something to animate</h1>\n<p>This is probably a little bit of overkill for what you need, but the following describes something which can be animated.</p>\n<pre><code>public interface Animatable {\n    public double getProgress();\n    public Duration getDuration();\n    public boolean tick(AnimationEngine engine);\n}\n</code></pre>\n<p>This is &quot;duration&quot; based, meaning that it will animate some change over a specified period of time.  Generally speaking, a time based animation will give better results over a linear delta based animation.  It also makes it much easier to change the speed of the animation.</p>\n<p>I then created a <code>RotationAnimation</code>, which just animates the rotation of a <code>Box</code> from one angle to other (over a period of time)</p>\n<pre><code>public class RotationAnimation implements Animatable {\n\n    private float from;\n    private float to;\n    private Box box;\n    private Duration duration;\n\n    private Instant startedAt;\n\n    public RotationAnimation(Box box, float from, float to, Duration duration) {\n        this.from = from;\n        this.to = to;\n        this.box = box;\n        this.duration = duration;\n    }\n\n    public Box getBox() {\n        return box;\n    }\n\n    public float getFrom() {\n        return from;\n    }\n\n    public float getTo() {\n        return to;\n    }\n\n    protected float getDistance() {\n        return getTo() - getFrom();\n    }\n\n    protected float valueAt(double progress) {\n        float distance = getDistance();\n        float value = distance * (float) progress;\n        value += getFrom();\n        return value;\n    }\n\n    @Override\n    public double getProgress() {\n        if (startedAt == null) {\n            startedAt = Instant.now();\n        }\n        Duration duration = getDuration();\n        Duration runningTime = Duration.between(startedAt, Instant.now());\n        double progress = (runningTime.toMillis() / (double) duration.toMillis());\n\n        return Math.min(1.0, Math.max(0.0, progress));\n    }\n\n    @Override\n    public Duration getDuration() {\n        return duration;\n    }\n\n    @Override\n    public boolean tick(AnimationEngine engine) {\n        boolean didComplete = false;\n        double progress = getProgress();\n        if (progress &gt;= 1.0f) {\n            didComplete = true;\n            progress = 1.0f;\n        }\n        float angle = valueAt(progress);\n        box.setAngle(angle);\n        box.repaint();\n        return didComplete;\n    }\n\n}\n</code></pre>\n<p>Relatively speaking, this is pretty simple.  On each <code>tick</code> it determines the amount of time it's been running, converts this value to a normalised progress (0-1) and calculates the resulting angle to be applied.</p>\n<h1>Runnable example...</h1>\n<p><a href=\"https://i.stack.imgur.com/GILYP.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GILYP.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridLayout;\nimport java.awt.RenderingHints;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private AnimationEngine engine = new AnimationEngine();\n\n        public TestPane() {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new GridLayout(10, 10));\n\n            for (int index = 0; index &lt; 100; index++) {\n                Box box = new Box();\n                add(box);\n                box.addMouseListener(new MouseAdapter() {\n                    @Override\n                    public void mouseClicked(MouseEvent e) {\n                        float startAngle = box.getAngle();\n                        float endAngle = startAngle + 90;\n                        engine.add(new RotationAnimation(box, startAngle, endAngle, Duration.ofSeconds(1)));\n                    }\n                });\n            }\n        }\n    }\n\n    public class Box extends JPanel {\n        public static final int BOX_WIDTH = 50;\n        public static final int BOX_HEIGHT = 50;\n\n        protected static final List&lt;Color&gt; COLORS = new ArrayList&lt;&gt;(Arrays.asList(new Color[] {\n            Color.BLACK, Color.BLUE, Color.CYAN, Color.DARK_GRAY, Color.GRAY, Color.GREEN,\n            Color.LIGHT_GRAY, Color.MAGENTA, Color.PINK, Color.RED\n        }));\n\n        private float angle = 0;\n\n        private Map&lt;RenderingHints.Key, Object&gt; renderingHints = new HashMap&lt;&gt;();\n\n        public Box() {\n            Collections.shuffle(COLORS);\n            setForeground(COLORS.get(0));\n            renderingHints.put(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        }\n\n        public void setAngle(float angle) {\n            this.angle = angle;\n        }\n\n        public float getAngle() {\n            return angle;\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(BOX_WIDTH, BOX_HEIGHT);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setRenderingHints(renderingHints);\n            g2d.rotate(Math.toRadians(getAngle()), getWidth() / 2, getHeight() / 2);\n            g2d.setColor(getForeground());\n            int x = (getWidth() - BOX_WIDTH) / 2;\n            int y = (getHeight() - BOX_HEIGHT) / 2;\n            g2d.drawRect(x, y, BOX_WIDTH - 1, BOX_HEIGHT - 1);\n            g2d.drawLine(x + BOX_WIDTH / 2, y + BOX_HEIGHT / 2, x + BOX_WIDTH / 2, y + BOX_HEIGHT);\n            g2d.dispose();\n        }\n    }\n\n    public interface Animatable {\n        public double getProgress();\n\n        public Duration getDuration();\n\n        public boolean tick(AnimationEngine engine);\n    }\n\n    public class AnimationEngine {\n        private Timer timer;\n\n        private List&lt;Animatable&gt; animatables = new ArrayList&lt;&gt;(8);\n        private Animatable current;\n\n        public AnimationEngine() {\n            this.timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    didTick();\n                }\n            });\n        }\n\n        public void add(Animatable animatable) {\n            animatables.add(animatable);\n            start();\n        }\n\n        public void remove(Animatable animatable) {\n            animatables.remove(animatable);\n            if (current == animatable) {\n                current = null;\n            }\n            if (animatables.isEmpty()) {\n                stop();\n            }\n        }\n\n        public void start() {\n            if (timer.isRunning()) {\n                return;\n            }\n            timer.start();\n        }\n\n        public void stop() {\n            timer.stop();\n        }\n\n        protected void didTick() {\n            if (current == null) {\n                if (animatables.isEmpty()) {\n                    stop();\n                    return;\n                }\n                current = animatables.remove(0);\n            }\n            if (current.tick(this)) {\n                remove(current);\n            }\n        }\n    }\n\n    public class RotationAnimation implements Animatable {\n\n        private float from;\n        private float to;\n        private Box box;\n        private Duration duration;\n\n        private Instant startedAt;\n\n        public RotationAnimation(Box box, float from, float to, Duration duration) {\n            this.from = from;\n            this.to = to;\n            this.box = box;\n            this.duration = duration;\n        }\n\n        public Box getBox() {\n            return box;\n        }\n\n        public float getFrom() {\n            return from;\n        }\n\n        public float getTo() {\n            return to;\n        }\n\n        protected float getDistance() {\n            return getTo() - getFrom();\n        }\n\n        protected float valueAt(double progress) {\n            float distance = getDistance();\n            float value = distance * (float) progress;\n            value += getFrom();\n            return value;\n        }\n\n        @Override\n        public double getProgress() {\n            if (startedAt == null) {\n                startedAt = Instant.now();\n            }\n            Duration duration = getDuration();\n            Duration runningTime = Duration.between(startedAt, Instant.now());\n            double progress = (runningTime.toMillis() / (double) duration.toMillis());\n\n            return Math.min(1.0, Math.max(0.0, progress));\n        }\n\n        @Override\n        public Duration getDuration() {\n            return duration;\n        }\n\n        @Override\n        public boolean tick(AnimationEngine engine) {\n            boolean didComplete = false;\n            double progress = getProgress();\n            if (progress &gt;= 1.0f) {\n                didComplete = true;\n                progress = 1.0f;\n            }\n            float angle = valueAt(progress);\n            box.setAngle(angle);\n            box.repaint();\n            return didComplete;\n        }\n\n    }\n}\n</code></pre>\n<p>I've not even started talking about things like &quot;easement&quot;, which could make the animation look &quot;more natural&quot;.</p>\n<p>if you're interested, you could have a look at <a href=\"https://stackoverflow.com/questions/28335787/how-can-i-implement-easing-functions-with-a-thread/28338188#28338188\">How can I implement easing functions with a thread</a> (which I also implemented <a href=\"https://stackoverflow.com/questions/51903228/jbutton-hover-animation-in-java-swing/51904555#51904555\">here</a>)</p>\n<blockquote>\n<p>I need. In you're example here, it only allows you to select one box at a time. I did not mean that, by &quot;synchronization&quot;. I meant, prevent them from overlapping, and using the same resource simultaneously</p>\n</blockquote>\n<p>This is relatively simple to fix, simply modify the <code>didTick</code> method of the <code>AnimationEngine</code> to loop through the <code>List</code> and call each <code>Animatable</code>s <code>tick</code> method, for example...</p>\n<pre><code>protected void didTick() {\n    List&lt;Animatable&gt; copy = new ArrayList&lt;&gt;(animatables);\n    for (Animatable animated : copy) {\n        if (animated.tick(this)) {\n            animatables.remove(animated);\n        }\n    }\n    if (animatables.isEmpty()) {\n        stop();\n    }\n}\n</code></pre>\n<blockquote>\n<p>The mouse-click is part of the score, and the player may want to quickly double-click a box, or triple-click. They'll expect to see an animation for each click</p>\n</blockquote>\n<p>This is a more complicated, but could be accomplished through a number of different methods.</p>\n<p>You could &quot;interrupt&quot; the current animation, take the <code>Box</code>s current angle, project the new angle and start again.  This, however, is going to make the animation look ... well, weird.  Since the time doesn't change, the speed at which the box moves will change, so click it enough times and you can have a very fast spin.</p>\n<p>Alternatively, you could build a &quot;chain&quot; of animations.  This would basically be a <code>Animatable</code> container which contains a <code>List</code> of animations to be played.  It would simply play through each animation in sequence until it has no more animations.</p>\n<p>For example...</p>\n<pre><code>public class ChainedRotationAnimation implements Animatable {\n    private List&lt;RotationAnimation&gt; animations = new ArrayList&lt;&gt;(8);\n    private RotationAnimation active;\n    \n    private Box box;\n\n    public ChainedRotationAnimation(Box box) {\n        this.box = box;\n    }\n\n    public Box getBox() {\n        return box;\n    }\n    \n    public Float getTargetAngle() {\n        // If nothing is avaliable, return `null`\n        if (animations.isEmpty() &amp;&amp; active == null) {\n            return null;\n        }\n        // If no other animations are avaliable, use the active animation\n        // instead\n        if (animations.isEmpty() &amp;&amp; active != null) {\n            return active.getTo();\n        }\n        // Otherwise, find the last animation and use it's target angle\n        RotationAnimation last = animations.get(animations.size() - 1);\n        return last.getTo();\n    }\n\n    public void add(RotationAnimation animatable) {\n        animations.add(animatable);\n    }\n\n    public void remove(RotationAnimation animatable) {\n        animations.remove(animatable);\n        if (active == animatable) {\n            active = null;\n        }\n    }\n\n    // I would remove these properties fom the `Animatable` class\n    // and instead move them to a `DurationAnimatable` class\n    @Override\n    public double getProgress() {\n        return 0;\n    }\n\n    @Override\n    public Duration getDuration() {\n        return Duration.ZERO;\n    }\n\n    @Override\n    public boolean tick(AnimationEngine engine) {\n        if (active == null) {\n            if (animations.isEmpty()) {\n                return true;\n            }\n            active = animations.remove(0);\n        }\n        if (active.tick(engine)) {\n            active = null;\n            // Save us a whole tick\n            return animations.isEmpty();\n        }\n        return false;\n    }\n\n}\n</code></pre>\n<p>Then we'd need to update the <code>Box</code> mouse click handler...</p>\n<pre><code>box.addMouseListener(new MouseAdapter() {\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        // Get all the current animations...\n        List&lt;Animatable&gt; animations = engine.getAnimations();\n        boolean exists = false;\n        for (Animatable animatable : animations) {\n            // Ignore anything which isn't a chained rotation\n            if (!(animatable instanceof ChainedRotationAnimation)) {\n                continue;\n            }\n            // Ignore the animation if it's not for our Box\n            ChainedRotationAnimation chained = (ChainedRotationAnimation) animatable;\n            if (chained.getBox() != box) {\n                continue;\n            }\n            exists = true;\n            // Determine the angle from which the box will start\n            // Either this is the current angle if it's not been\n            // animated or the target angle for the last animation\n            // in the chain\n            float startAngle = box.getAngle();\n            if (chained.getTargetAngle() != null) {\n                startAngle = chained.getTargetAngle();\n            }\n            float endAngle = startAngle + 90;\n            chained.add(new RotationAnimation(box, startAngle, endAngle, Duration.ofMillis(250)));\n        }\n        // If no chained animation exists, we need to create one\n        if (exists) {\n            return;\n        }               \n        float startAngle = box.getAngle();\n        float endAngle = startAngle + 90;\n        ChainedRotationAnimation chained = new ChainedRotationAnimation(box);\n        chained.add(new RotationAnimation(box, startAngle, endAngle, Duration.ofMillis(250)));\n        engine.add(chained);\n    }\n});\n</code></pre>\n<p>This is just an example and the concepts are loosely based on my personal <a href=\"https://github.com/RustyKnight/SuperSimpleSwingAnimationFramework\" rel=\"nofollow noreferrer\">Super Simple Swing Animation Framework</a> library</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693581298,"creation_date":1693529621,"answer_id":77019968,"question_id":77007226,"body_markdown":"I was able to derive a solution.\r\n\r\nI&#39;ve created a _Box_ inner-class, _Animation_, which extends the _[Thread](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html)_ class.  \r\nIn the _[run](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runnable.html#run())_ method I make the adjustments to _Box_ atomically, and start the _Timer_ object.  \r\n\r\nEvery time the player clicks a _Box_, the animation queue is incremented.  \r\nAnd, when _queue_ is _1_, the _Animation_ thread is started.  \r\nSubsequently, the _Timer_ routine will reset _delta_ when _queue_ is &amp;gt; _1_; continuing the rotation.  \r\nThis reduces the object creation significantly.\r\n\r\nAdditionally, mechanizing the objects in this manner is objectively more resourceful than rigging a _[poll](https://en.wikipedia.org/wiki/Polling_(computer_science))_.  \r\n\r\nSince I&#39;m resolving _angle_, _delta_, and _animator_ from the _Animation_ runnable, I&#39;ve converted them to _[AtomicInteger](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html)_ and _[AtomicReference](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html)_ objects.\r\n\r\nAnd, I&#39;ve removed the _[Math#abs](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#abs(int))_ call by adjusting the math.  \r\nThe _delta_ variable now carries an accumulating value, _0 through 90_.\r\n\r\n```java\r\nclass Animation extends Thread {\r\n    @Override\r\n    public void run() {\r\n        super.run();\r\n        delta.set(0);\r\n        animator.set(\r\n            new Timer(1, l -&gt; {\r\n                angle.set(angle.get() + 2);\r\n                repaint();\r\n                if (delta.addAndGet(2) == 90) {\r\n                    if (angle.get() == 360) angle.set(0);\r\n                    if (queue.get() &gt; 1) delta.set(0);\r\n                    else ((Timer) l.getSource()).stop();\r\n                    queue.set(queue.get() - 1);\r\n                }\r\n            }));\r\n        animator.get().start();\r\n    }\r\n}\r\n```\r\n\r\nAdditionally, I&#39;ve been able to increase the render performance by re-factoring the _Box#paintComponent_ method.\r\n\r\nI&#39;ve added the _[Graphics#dispose](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html#dispose())_ invocation, replaced the _[Math#toRadians](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#toRadians(double))_ call, and removed the _[Graphics2D](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics2D.html)_ and _[BasicStroke](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/BasicStroke.html)_ objects.  \r\nAdditionally, _c_ is now a _[Color](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Color.html)_ object, _color_, so the _c_ method is removed.\r\n\r\n```java\r\nBasicStroke stroke \r\n    = new BasicStroke(((w + h) / 2f) / 3f, CAP_SQUARE, JOIN_ROUND);\r\n\r\n@Override\r\nprotected void paintComponent(Graphics g) {\r\n    super.paintComponent(g);\r\n    ((Graphics2D) g).rotate(0.017453292519943295 * angle.get(), wm, hm);\r\n    g.setColor(color);\r\n    ((Graphics2D) g).setStroke(stroke);\r\n    ((Graphics2D) g).draw(path);\r\n    g.dispose();\r\n}\r\n```\r\n\r\nI&#39;ve also been updating the game, so there are other adjustments.  \r\nHere is the full re-factor.\r\n\r\n&lt;a href=&quot;https://i.stack.imgur.com/Lp898.png&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Lp898.png&quot; width=&quot;300&quot; height=&quot;368&quot;&gt;&lt;/a&gt;\r\n\r\n```java\r\nimport static java.awt.BasicStroke.CAP_SQUARE;\r\nimport static java.awt.BasicStroke.JOIN_ROUND;\r\nimport static java.awt.geom.Path2D.WIND_EVEN_ODD;\r\n\r\nimport java.awt.BasicStroke;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.geom.GeneralPath;\r\nimport java.util.Random;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\nimport java.util.concurrent.atomic.AtomicReference;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.Timer;\r\n```\r\n\r\n```java\r\npublic class X {\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(GUI::new);\r\n    }\r\n\r\n    static int seed;\r\n    final static Random r\r\n        = new Random() {\r\n            { setSeed(seed = nextInt(0x111111, 0xffffff + 1)); }\r\n        };\r\n\r\n    static int n = 10, m = 10, dim = n * m;\r\n    static int w = 100, wm = (int) (w / 2d);\r\n    static int h = 100, hm = (int) (h / 2d);\r\n\r\n    static class GUI extends JFrame {\r\n        static JPanel top = new JPanel(new GridLayout(1, 1));\r\n        static JPanel bottom = new JPanel(new GridLayout(n, m));\r\n\r\n        GUI() {\r\n            setLayout(new BorderLayout());\r\n            JLabel label = new JLabel();\r\n            label.setFont(new Font(Font.SERIF, Font.PLAIN, (int) ((w + h) / 2d)));\r\n            label.setForeground(new Color(seed));\r\n            label.setText(&quot;0x%x&quot;.formatted(seed));\r\n            top.add(label);\r\n            add(top, BorderLayout.PAGE_START);\r\n            for (int i = 1; i &lt;= dim; i++) bottom.add(new Box());\r\n            add(bottom, BorderLayout.CENTER);\r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            setResizable(false);\r\n            pack();\r\n            setVisible(true);\r\n        }\r\n\r\n        static class Box extends JLabel {\r\n            Color bg, color;\r\n            AtomicInteger angle, delta, queue;\r\n            Animation animation;\r\n            AtomicReference&lt;Timer&gt; animator = new AtomicReference&lt;&gt;();\r\n            GeneralPath path;\r\n            BasicStroke stroke = new BasicStroke(((w + h) / 2f) / 3f, CAP_SQUARE, JOIN_ROUND);\r\n\r\n            Box() {\r\n                bg = new Color(r.nextInt(0xffffff + 1));\r\n                color = new Color(r.nextInt(0xffffff + 1));\r\n                angle = new AtomicInteger(90 * r.nextInt(1, 4));\r\n                delta = new AtomicInteger();\r\n                queue = new AtomicInteger();\r\n                path = switch (r.nextInt(1, 14)) {\r\n                    case 1, 2, 3, 4 -&gt; Paths.L;\r\n                    case 5, 6, 7, 8 -&gt; Paths.I;\r\n                    case 9, 10, 11, 12 -&gt; Paths.T;\r\n                    default -&gt; Paths.X;\r\n                };\r\n                init();\r\n                setVisible(true);\r\n            }\r\n\r\n            void init() {\r\n                setPreferredSize(new Dimension(w, h));\r\n                setOpaque(true);\r\n                setBackground(bg);\r\n                addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        super.mouseClicked(e);\r\n                        queue.set(queue.get() + 1);\r\n                        if (queue.get() == 1) {\r\n                            animation = new Animation();\r\n                            animation.setPriority(10);\r\n                            animation.start();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                ((Graphics2D) g).rotate(0.017453292519943295 * angle.get(), wm, hm);\r\n                g.setColor(color);\r\n                ((Graphics2D) g).setStroke(stroke);\r\n                ((Graphics2D) g).draw(path);\r\n                g.dispose();\r\n            }\r\n\r\n            class Animation extends Thread {\r\n                @Override\r\n                public void run() {\r\n                    super.run();\r\n                    delta.set(0);\r\n                    animator.set(\r\n                        new Timer(1, l -&gt; {\r\n                            angle.set(angle.get() + 2);\r\n                            repaint();\r\n                            if (delta.addAndGet(2) == 90) {\r\n                                if (angle.get() == 360) angle.set(0);\r\n                                if (queue.get() &gt; 1) delta.set(0);\r\n                                else ((Timer) l.getSource()).stop();\r\n                                queue.set(queue.get() - 1);\r\n                            }\r\n                        }));\r\n                    animator.get().start();\r\n                }\r\n            }\r\n        }\r\n\r\n        static class Paths {\r\n            static GeneralPath X = new GeneralPath(WIND_EVEN_ODD, 4);\r\n            static GeneralPath T = new GeneralPath(WIND_EVEN_ODD, 4);\r\n            static GeneralPath L = new GeneralPath(WIND_EVEN_ODD, 3);\r\n            static GeneralPath I = new GeneralPath(WIND_EVEN_ODD, 2);\r\n\r\n            static {\r\n                X.moveTo(0, hm);\r\n                X.lineTo(w, hm);\r\n                X.moveTo(wm, 0);\r\n                X.lineTo(wm, h);\r\n                T.moveTo(0, hm);\r\n                T.lineTo(w, hm);\r\n                T.moveTo(wm, hm);\r\n                T.lineTo(wm, 0);\r\n                L.moveTo(wm, 0);\r\n                L.lineTo(wm, hm);\r\n                L.lineTo(w, hm);\r\n                I.moveTo(0, hm);\r\n                I.lineTo(w, hm);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Java Swing – Synchronizing resources for animation threads","body":"<p>I was able to derive a solution.</p>\n<p>I've created a <em>Box</em> inner-class, <em>Animation</em>, which extends the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html\" rel=\"nofollow noreferrer\">Thread</a></em> class.<br />\nIn the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runnable.html#run()\" rel=\"nofollow noreferrer\">run</a></em> method I make the adjustments to <em>Box</em> atomically, and start the <em>Timer</em> object.</p>\n<p>Every time the player clicks a <em>Box</em>, the animation queue is incremented.<br />\nAnd, when <em>queue</em> is <em>1</em>, the <em>Animation</em> thread is started.<br />\nSubsequently, the <em>Timer</em> routine will reset <em>delta</em> when <em>queue</em> is &gt; <em>1</em>; continuing the rotation.<br />\nThis reduces the object creation significantly.</p>\n<p>Additionally, mechanizing the objects in this manner is objectively more resourceful than rigging a <em><a href=\"https://en.wikipedia.org/wiki/Polling_(computer_science)\" rel=\"nofollow noreferrer\">poll</a></em>.</p>\n<p>Since I'm resolving <em>angle</em>, <em>delta</em>, and <em>animator</em> from the <em>Animation</em> runnable, I've converted them to <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\">AtomicInteger</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\">AtomicReference</a></em> objects.</p>\n<p>And, I've removed the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#abs(int)\" rel=\"nofollow noreferrer\">Math#abs</a></em> call by adjusting the math.<br />\nThe <em>delta</em> variable now carries an accumulating value, <em>0 through 90</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Animation extends Thread {\n    @Override\n    public void run() {\n        super.run();\n        delta.set(0);\n        animator.set(\n            new Timer(1, l -&gt; {\n                angle.set(angle.get() + 2);\n                repaint();\n                if (delta.addAndGet(2) == 90) {\n                    if (angle.get() == 360) angle.set(0);\n                    if (queue.get() &gt; 1) delta.set(0);\n                    else ((Timer) l.getSource()).stop();\n                    queue.set(queue.get() - 1);\n                }\n            }));\n        animator.get().start();\n    }\n}\n</code></pre>\n<p>Additionally, I've been able to increase the render performance by re-factoring the <em>Box#paintComponent</em> method.</p>\n<p>I've added the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html#dispose()\" rel=\"nofollow noreferrer\">Graphics#dispose</a></em> invocation, replaced the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#toRadians(double)\" rel=\"nofollow noreferrer\">Math#toRadians</a></em> call, and removed the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics2D.html\" rel=\"nofollow noreferrer\">Graphics2D</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/BasicStroke.html\" rel=\"nofollow noreferrer\">BasicStroke</a></em> objects.<br />\nAdditionally, <em>c</em> is now a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Color.html\" rel=\"nofollow noreferrer\">Color</a></em> object, <em>color</em>, so the <em>c</em> method is removed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BasicStroke stroke \n    = new BasicStroke(((w + h) / 2f) / 3f, CAP_SQUARE, JOIN_ROUND);\n\n@Override\nprotected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    ((Graphics2D) g).rotate(0.017453292519943295 * angle.get(), wm, hm);\n    g.setColor(color);\n    ((Graphics2D) g).setStroke(stroke);\n    ((Graphics2D) g).draw(path);\n    g.dispose();\n}\n</code></pre>\n<p>I've also been updating the game, so there are other adjustments.<br />\nHere is the full re-factor.</p>\n<p><a href=\"https://i.stack.imgur.com/Lp898.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lp898.png\" width=\"300\" height=\"368\"></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.awt.BasicStroke.CAP_SQUARE;\nimport static java.awt.BasicStroke.JOIN_ROUND;\nimport static java.awt.geom.Path2D.WIND_EVEN_ODD;\n\nimport java.awt.BasicStroke;\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridLayout;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.GeneralPath;\nimport java.util.Random;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport java.util.concurrent.atomic.AtomicReference;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class X {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(GUI::new);\n    }\n\n    static int seed;\n    final static Random r\n        = new Random() {\n            { setSeed(seed = nextInt(0x111111, 0xffffff + 1)); }\n        };\n\n    static int n = 10, m = 10, dim = n * m;\n    static int w = 100, wm = (int) (w / 2d);\n    static int h = 100, hm = (int) (h / 2d);\n\n    static class GUI extends JFrame {\n        static JPanel top = new JPanel(new GridLayout(1, 1));\n        static JPanel bottom = new JPanel(new GridLayout(n, m));\n\n        GUI() {\n            setLayout(new BorderLayout());\n            JLabel label = new JLabel();\n            label.setFont(new Font(Font.SERIF, Font.PLAIN, (int) ((w + h) / 2d)));\n            label.setForeground(new Color(seed));\n            label.setText(&quot;0x%x&quot;.formatted(seed));\n            top.add(label);\n            add(top, BorderLayout.PAGE_START);\n            for (int i = 1; i &lt;= dim; i++) bottom.add(new Box());\n            add(bottom, BorderLayout.CENTER);\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\n            setResizable(false);\n            pack();\n            setVisible(true);\n        }\n\n        static class Box extends JLabel {\n            Color bg, color;\n            AtomicInteger angle, delta, queue;\n            Animation animation;\n            AtomicReference&lt;Timer&gt; animator = new AtomicReference&lt;&gt;();\n            GeneralPath path;\n            BasicStroke stroke = new BasicStroke(((w + h) / 2f) / 3f, CAP_SQUARE, JOIN_ROUND);\n\n            Box() {\n                bg = new Color(r.nextInt(0xffffff + 1));\n                color = new Color(r.nextInt(0xffffff + 1));\n                angle = new AtomicInteger(90 * r.nextInt(1, 4));\n                delta = new AtomicInteger();\n                queue = new AtomicInteger();\n                path = switch (r.nextInt(1, 14)) {\n                    case 1, 2, 3, 4 -&gt; Paths.L;\n                    case 5, 6, 7, 8 -&gt; Paths.I;\n                    case 9, 10, 11, 12 -&gt; Paths.T;\n                    default -&gt; Paths.X;\n                };\n                init();\n                setVisible(true);\n            }\n\n            void init() {\n                setPreferredSize(new Dimension(w, h));\n                setOpaque(true);\n                setBackground(bg);\n                addMouseListener(new MouseAdapter() {\n                    @Override\n                    public void mouseClicked(MouseEvent e) {\n                        super.mouseClicked(e);\n                        queue.set(queue.get() + 1);\n                        if (queue.get() == 1) {\n                            animation = new Animation();\n                            animation.setPriority(10);\n                            animation.start();\n                        }\n                    }\n                });\n            }\n\n            @Override\n            protected void paintComponent(Graphics g) {\n                super.paintComponent(g);\n                ((Graphics2D) g).rotate(0.017453292519943295 * angle.get(), wm, hm);\n                g.setColor(color);\n                ((Graphics2D) g).setStroke(stroke);\n                ((Graphics2D) g).draw(path);\n                g.dispose();\n            }\n\n            class Animation extends Thread {\n                @Override\n                public void run() {\n                    super.run();\n                    delta.set(0);\n                    animator.set(\n                        new Timer(1, l -&gt; {\n                            angle.set(angle.get() + 2);\n                            repaint();\n                            if (delta.addAndGet(2) == 90) {\n                                if (angle.get() == 360) angle.set(0);\n                                if (queue.get() &gt; 1) delta.set(0);\n                                else ((Timer) l.getSource()).stop();\n                                queue.set(queue.get() - 1);\n                            }\n                        }));\n                    animator.get().start();\n                }\n            }\n        }\n\n        static class Paths {\n            static GeneralPath X = new GeneralPath(WIND_EVEN_ODD, 4);\n            static GeneralPath T = new GeneralPath(WIND_EVEN_ODD, 4);\n            static GeneralPath L = new GeneralPath(WIND_EVEN_ODD, 3);\n            static GeneralPath I = new GeneralPath(WIND_EVEN_ODD, 2);\n\n            static {\n                X.moveTo(0, hm);\n                X.lineTo(w, hm);\n                X.moveTo(wm, 0);\n                X.lineTo(wm, h);\n                T.moveTo(0, hm);\n                T.lineTo(w, hm);\n                T.moveTo(wm, hm);\n                T.lineTo(wm, 0);\n                L.moveTo(wm, 0);\n                L.lineTo(wm, hm);\n                L.lineTo(w, hm);\n                I.moveTo(0, hm);\n                I.lineTo(w, hm);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77019968,"answer_count":2,"score":1,"last_activity_date":1693814679,"creation_date":1693391891,"question_id":77007226,"body_markdown":"I&#39;m building a game in _Java_ and I need to synchronize the animation executions.  \r\nCurrently they will occur simultaneously, while accessing the same data.  \r\nI&#39;d prefer that the animations stack up, and execute one at a time.\r\n\r\nIn this game, when you select a block, it will rotate 90 degrees either left or right, randomly.\r\n\r\nI&#39;m using the following code.\r\n\r\n```java\r\nstatic class GUI extends JFrame {\r\n    JPanel panel = new JPanel(new GridLayout(10, 10));\r\n\r\n    static class Box extends JLabel {...}\r\n\r\n    GUI() {\r\n        for (int i = 0; i &lt; 100; i++) panel.add(new Box());\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        setResizable(false);\r\n        add(panel);\r\n        pack();\r\n        setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nAnd, here is the _Box_ class.  \r\nVariables _bg_ and _c_ are _background_ and _color_, _a_ is _angle_, and _d_ is _direction_ where _true_ is clockwise.\r\n\r\n```java\r\nstatic class Box extends JLabel {\r\n    static Random r = new Random();\r\n    int bg, c = r.nextInt(bg = 0xffffff);\r\n    int a0, a = 90 * r.nextInt(1, 4);\r\n    boolean d;\r\n\r\n    Box() {\r\n        setPreferredSize(new Dimension(100, 100));\r\n        setBackground(bg());\r\n        setBorder(BorderFactory.createLineBorder(c(), 2, true));\r\n        setOpaque(true);\r\n        addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                super.mouseClicked(e);\r\n                EventQueue.invokeLater(() -&gt; {\r\n                    d = r.nextInt(2) == 0;\r\n                    bg -= 0x0f0f0f;\r\n                    animate();\r\n                    setBackground(bg());\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    void animate() {\r\n        a0 = a;\r\n        new Timer(10, e -&gt; {\r\n            a += d ? -5 : 5;\r\n            if (Math.abs(a - a0) == 90) {\r\n                ((Timer) e.getSource()).stop();\r\n                if (a == 360) a = 0;\r\n            }\r\n            revalidate();\r\n            repaint();\r\n        }).start();\r\n    }\r\n\r\n    Color c() { return new Color(c); }\r\n    Color bg() { return new Color(bg); }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        g2.setColor(c());\r\n        g2.setStroke(new BasicStroke(10));\r\n        g2.rotate(Math.toRadians(a), 50, 50);\r\n        g2.draw(new Line2D.Double(50, 50, 50, 0));\r\n        g2.setBackground(bg());\r\n    }\r\n}\r\n```\r\n\r\n&lt;a href=&quot;https://i.stack.imgur.com/mdqyl.png&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/mdqyl.png&quot; width=&quot;300&quot; height=&quot;326&quot;&gt;&lt;/a&gt;\r\n\r\nWhen I double-click a _JLabel_ it rotates indefinitely.&amp;nbsp; How do I synchronize this?  \r\nA single click works correctly.\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/wX5q9.gif&quot; width=&quot;95&quot; height=&quot;98&quot;&gt;\r\n\r\nEssentially, I want each mouse click to spawn a new _[Timer](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/Timer.html)_, that will not begin until the previous has finished.\r\n\r\nOn a final note, should I be using the _volatile_ keyword for _a0_ and _a_?  \r\nAnd, if anyone has any recommendations on my code, feel free.\r\n\r\n----------\r\n\r\nEdit\r\n\r\nI believe I found a solution.\r\n\r\nI&#39;ve created a _Box_ inner-class, _Animation_, which implements _[Runnable](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runnable.html)_.  \r\nIn the _[run](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runnable.html#run())_ method I make the adjustments to _Box_, and start the _Timer_ object.\r\n\r\nThe enclosing _Box_ class, now has a _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_ queue, which is appended to for each mouse-click.  \r\nWhen the _Animation_ object finishes, it will remove itself from _queue_, and start the next, if any.\r\n\r\nFor _a0_ and _a_ I am using the _[AtomicInteger](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html)_ class.  \r\nThis has significantly improved the performance of the rotation.\r\n\r\n```java\r\nAtomicInteger a0 = new AtomicInteger();\r\nAtomicInteger a = new AtomicInteger(90 * r.nextInt(1, 4));\r\n```\r\n\r\n```java\r\nclass Animation implements Runnable {\r\n    @Override\r\n    public void run() {\r\n        d = r.nextInt(2) == 0;\r\n        bg -= 0x0f0f0f;\r\n        setBackground(bg());\r\n        setText(String.valueOf(s));\r\n        a0.set(a.get());\r\n        new Timer(10, l -&gt; {\r\n            a.set(a.get() + (d ? -5 : 5));\r\n            revalidate();\r\n            repaint();\r\n            if (Math.abs(a.get() - a0.get()) == 90) {\r\n                ((Timer) l.getSource()).stop();\r\n                if (a.get() == 360) a.set(0);\r\n                queue.remove(0);\r\n                if (queue.size() != 0) queue.get(0).run();\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n```\r\n\r\n\r\nAdditionally, I created a method _rotate_, to invoke from the _mouseClicked_ method.\r\n\r\n```java\r\nvoid rotate() {\r\n    queue.add(new Animation());\r\n    if (queue.size() == 1) queue.get(0).run();\r\n}\r\n```\r\n\r\nHere is the complete code for _Box_, re-factored.  \r\nI&#39;ve additionally added text to the box, to count the clicks.\r\n\r\n```java\r\nstatic class Box extends JLabel {\r\n    static Random r = new Random();\r\n    int bg, c = r.nextInt(bg = 0xffffff), s = 0;\r\n    AtomicInteger a0 = new AtomicInteger();\r\n    AtomicInteger a = new AtomicInteger(90 * r.nextInt(1, 4));\r\n    boolean d;\r\n    List&lt;Animation&gt; queue = new ArrayList&lt;&gt;();\r\n\r\n    Box() {\r\n        setPreferredSize(new Dimension(100, 100));\r\n        setBackground(bg());\r\n        setBorder(BorderFactory.createLineBorder(c(), 2, true));\r\n        setOpaque(true);\r\n        setFont(new Font(&quot;Mono&quot;, Font.PLAIN, 100));\r\n        setForeground(c());\r\n        setText(String.valueOf(s));\r\n        setHorizontalAlignment(SwingConstants.CENTER);\r\n        setVerticalTextPosition(SwingConstants.CENTER);\r\n        addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                super.mouseClicked(e);\r\n                s++;\r\n                rotate();\r\n            }\r\n        });\r\n    }\r\n\r\n    void rotate() {\r\n        queue.add(new Animation());\r\n        if (queue.size() == 1) queue.get(0).run();\r\n    }\r\n\r\n    Color c() { return new Color(c); }\r\n    Color bg() { return new Color(bg); }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g.create();\r\n        g2.setColor(c());\r\n        g2.setStroke(new BasicStroke(10));\r\n        g2.rotate(Math.toRadians(a.get()), 50, 50);\r\n        g2.draw(new Line2D.Double(50, 50, 50, 0));\r\n        g2.setBackground(bg());\r\n        g2.dispose();\r\n    }\r\n\r\n    class Animation implements Runnable {...}\r\n}\r\n```\r\n\r\n&lt;a href=&quot;https://i.stack.imgur.com/OzPMz.png&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/OzPMz.png&quot; width=&quot;300&quot; height=&quot;326&quot;&gt;&lt;/a&gt;","title":"Java Swing – Synchronizing resources for animation threads","body":"<p>I'm building a game in <em>Java</em> and I need to synchronize the animation executions.<br />\nCurrently they will occur simultaneously, while accessing the same data.<br />\nI'd prefer that the animations stack up, and execute one at a time.</p>\n<p>In this game, when you select a block, it will rotate 90 degrees either left or right, randomly.</p>\n<p>I'm using the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class GUI extends JFrame {\n    JPanel panel = new JPanel(new GridLayout(10, 10));\n\n    static class Box extends JLabel {...}\n\n    GUI() {\n        for (int i = 0; i &lt; 100; i++) panel.add(new Box());\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setResizable(false);\n        add(panel);\n        pack();\n        setVisible(true);\n    }\n}\n</code></pre>\n<p>And, here is the <em>Box</em> class.<br />\nVariables <em>bg</em> and <em>c</em> are <em>background</em> and <em>color</em>, <em>a</em> is <em>angle</em>, and <em>d</em> is <em>direction</em> where <em>true</em> is clockwise.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class Box extends JLabel {\n    static Random r = new Random();\n    int bg, c = r.nextInt(bg = 0xffffff);\n    int a0, a = 90 * r.nextInt(1, 4);\n    boolean d;\n\n    Box() {\n        setPreferredSize(new Dimension(100, 100));\n        setBackground(bg());\n        setBorder(BorderFactory.createLineBorder(c(), 2, true));\n        setOpaque(true);\n        addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                super.mouseClicked(e);\n                EventQueue.invokeLater(() -&gt; {\n                    d = r.nextInt(2) == 0;\n                    bg -= 0x0f0f0f;\n                    animate();\n                    setBackground(bg());\n                });\n            }\n        });\n    }\n\n    void animate() {\n        a0 = a;\n        new Timer(10, e -&gt; {\n            a += d ? -5 : 5;\n            if (Math.abs(a - a0) == 90) {\n                ((Timer) e.getSource()).stop();\n                if (a == 360) a = 0;\n            }\n            revalidate();\n            repaint();\n        }).start();\n    }\n\n    Color c() { return new Color(c); }\n    Color bg() { return new Color(bg); }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setColor(c());\n        g2.setStroke(new BasicStroke(10));\n        g2.rotate(Math.toRadians(a), 50, 50);\n        g2.draw(new Line2D.Double(50, 50, 50, 0));\n        g2.setBackground(bg());\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mdqyl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mdqyl.png\" width=\"300\" height=\"326\"></a></p>\n<p>When I double-click a <em>JLabel</em> it rotates indefinitely.  How do I synchronize this?<br />\nA single click works correctly.</p>\n<img src=\"https://i.stack.imgur.com/wX5q9.gif\" width=\"95\" height=\"98\">\n<p>Essentially, I want each mouse click to spawn a new <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/Timer.html\" rel=\"nofollow noreferrer\">Timer</a></em>, that will not begin until the previous has finished.</p>\n<p>On a final note, should I be using the <em>volatile</em> keyword for <em>a0</em> and <em>a</em>?<br />\nAnd, if anyone has any recommendations on my code, feel free.</p>\n<hr />\n<p>Edit</p>\n<p>I believe I found a solution.</p>\n<p>I've created a <em>Box</em> inner-class, <em>Animation</em>, which implements <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\">Runnable</a></em>.<br />\nIn the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Runnable.html#run()\" rel=\"nofollow noreferrer\">run</a></em> method I make the adjustments to <em>Box</em>, and start the <em>Timer</em> object.</p>\n<p>The enclosing <em>Box</em> class, now has a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em> queue, which is appended to for each mouse-click.<br />\nWhen the <em>Animation</em> object finishes, it will remove itself from <em>queue</em>, and start the next, if any.</p>\n<p>For <em>a0</em> and <em>a</em> I am using the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\">AtomicInteger</a></em> class.<br />\nThis has significantly improved the performance of the rotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>AtomicInteger a0 = new AtomicInteger();\nAtomicInteger a = new AtomicInteger(90 * r.nextInt(1, 4));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Animation implements Runnable {\n    @Override\n    public void run() {\n        d = r.nextInt(2) == 0;\n        bg -= 0x0f0f0f;\n        setBackground(bg());\n        setText(String.valueOf(s));\n        a0.set(a.get());\n        new Timer(10, l -&gt; {\n            a.set(a.get() + (d ? -5 : 5));\n            revalidate();\n            repaint();\n            if (Math.abs(a.get() - a0.get()) == 90) {\n                ((Timer) l.getSource()).stop();\n                if (a.get() == 360) a.set(0);\n                queue.remove(0);\n                if (queue.size() != 0) queue.get(0).run();\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>Additionally, I created a method <em>rotate</em>, to invoke from the <em>mouseClicked</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void rotate() {\n    queue.add(new Animation());\n    if (queue.size() == 1) queue.get(0).run();\n}\n</code></pre>\n<p>Here is the complete code for <em>Box</em>, re-factored.<br />\nI've additionally added text to the box, to count the clicks.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class Box extends JLabel {\n    static Random r = new Random();\n    int bg, c = r.nextInt(bg = 0xffffff), s = 0;\n    AtomicInteger a0 = new AtomicInteger();\n    AtomicInteger a = new AtomicInteger(90 * r.nextInt(1, 4));\n    boolean d;\n    List&lt;Animation&gt; queue = new ArrayList&lt;&gt;();\n\n    Box() {\n        setPreferredSize(new Dimension(100, 100));\n        setBackground(bg());\n        setBorder(BorderFactory.createLineBorder(c(), 2, true));\n        setOpaque(true);\n        setFont(new Font(&quot;Mono&quot;, Font.PLAIN, 100));\n        setForeground(c());\n        setText(String.valueOf(s));\n        setHorizontalAlignment(SwingConstants.CENTER);\n        setVerticalTextPosition(SwingConstants.CENTER);\n        addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                super.mouseClicked(e);\n                s++;\n                rotate();\n            }\n        });\n    }\n\n    void rotate() {\n        queue.add(new Animation());\n        if (queue.size() == 1) queue.get(0).run();\n    }\n\n    Color c() { return new Color(c); }\n    Color bg() { return new Color(bg); }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g.create();\n        g2.setColor(c());\n        g2.setStroke(new BasicStroke(10));\n        g2.rotate(Math.toRadians(a.get()), 50, 50);\n        g2.draw(new Line2D.Double(50, 50, 50, 0));\n        g2.setBackground(bg());\n        g2.dispose();\n    }\n\n    class Animation implements Runnable {...}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OzPMz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OzPMz.png\" width=\"300\" height=\"326\"></a></p>\n"},{"tags":["java","maven","karate","cicd"],"comments":[{"owner":{"account_id":8087134,"reputation":28351,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"score":1,"creation_date":1693229371,"post_id":76993010,"comment_id":135728792,"body_markdown":"See if maven profiles help: https://maven.apache.org/guides/introduction/introduction-to-profiles.html","body":"See if maven profiles help: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1693229704,"post_id":76993010,"comment_id":135728864,"body_markdown":"Alternatively, you could split up your project into multiple Maven modules where one contains the production code and one contains the tests. Another possibility for speeding things up is caching dependencies between builds.","body":"Alternatively, you could split up your project into multiple Maven modules where one contains the production code and one contains the tests. Another possibility for speeding things up is caching dependencies between builds."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1693232067,"post_id":76993010,"comment_id":135729425,"body_markdown":"What do you mean by &quot;installing only the test scope dependencies&quot;?","body":"What do you mean by &quot;installing only the test scope dependencies&quot;?"},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1693233688,"post_id":76993010,"comment_id":135729813,"body_markdown":"@khmarbaise https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-scope","body":"@khmarbaise <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-scope\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1693239180,"post_id":76993010,"comment_id":135731123,"body_markdown":"Usually maven use cache dependencies to speed up build","body":"Usually maven use cache dependencies to speed up build"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1693242365,"post_id":76993010,"comment_id":135731729,"body_markdown":"I know all the guides of maven very well. But I&#39;m asking what you mean by `installing only test scope dependencies` (as already asked).. Or are you talking about the downloads happening during the build within container? If so you should mount the local cache into your container to prevent redownloading all the deps...","body":"I know all the guides of maven very well. But I&#39;m asking what you mean by <code>installing only test scope dependencies</code> (as already asked).. Or are you talking about the downloads happening during the build within container? If so you should mount the local cache into your container to prevent redownloading all the deps..."},{"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"score":0,"creation_date":1693262516,"post_id":76993010,"comment_id":135734841,"body_markdown":"@khmarbaise yes. Install test scope deps during build time. Actually could this possible to only install test scope deps for test goal in Maven?","body":"@khmarbaise yes. Install test scope deps during build time. Actually could this possible to only install test scope deps for test goal in Maven?"}],"owner":{"account_id":19205353,"reputation":5498,"user_id":14032355,"display_name":"ikhvjs"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693812420,"creation_date":1693227524,"question_id":76993010,"body_markdown":"I have a CI involving Karate Tests for smoke testing and I want to speed up this step by installing only the test scope dependencies defined in the pom.xml. Is it possible in Maven?\r\n\r\nFor example, would that be possible only install test scope dependencies in test goal?\r\n\r\nI know I can use docker to prepare a image without installing dependencies every times but I got limitation to use docker.","title":"How to instruct Maven to only install test scope dependencies?","body":"<p>I have a CI involving Karate Tests for smoke testing and I want to speed up this step by installing only the test scope dependencies defined in the pom.xml. Is it possible in Maven?</p>\n<p>For example, would that be possible only install test scope dependencies in test goal?</p>\n<p>I know I can use docker to prepare a image without installing dependencies every times but I got limitation to use docker.</p>\n"},{"tags":["java","http","mod-rewrite"],"owner":{"account_id":21909813,"reputation":1,"user_id":16194394,"display_name":"IKAS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693812127,"creation_date":1693811917,"question_id":77035774,"body_markdown":"  Currently Apache errors are giving me headaches.\r\n    \r\n  Disable after entering www.xxx.com  \r\n  xxx.com\r\n  Excluding www causes Bad Reuqest.\r\n  In Apache log\r\n    \r\n    \r\n```\r\nAH02032: Hostname xxx.com\r\nThe hostname www.xxx.com served over SNI and served over HTTP are different.\r\n\r\n```\r\n\r\n\r\n apache conf settings VirtualHost\r\n\r\n\r\n```\r\n&lt;virtual host *:443&gt;\r\nServer name www.xxxx.com\r\nServer alias xxxx.com\r\n#ServerAlias ​​​​www.xxxx.com\r\n\r\nRewriteRule ^(.*)$ https://www.xxxx.com$1 [R,L]\r\n\r\nJkMount /home* worker2\r\nJkMount /wcms* worker2\r\nJkMount /ckupload worker2\r\nJkMount /fip* worker1\r\n&lt;/VirtualHost&gt;\r\n\r\n```\r\n    \r\n  \r\nWhat I tried to fix the issue:\r\n\r\n 1. URL redirect call settings\r\n \r\n 2. Test after terminating load balancer web server 1,2\r\n\r\n 3. SSL Settings Delete\r\n\r\n\r\n\r\n  \r\n    \r\n I need help. please.","title":"Apache url call returns random 400 bad request","body":"<p>Currently Apache errors are giving me headaches.</p>\n<p>Disable after entering <a href=\"http://www.xxx.com\" rel=\"nofollow noreferrer\">www.xxx.com</a><br />\nxxx.com\nExcluding www causes Bad Reuqest.\nIn Apache log</p>\n<pre><code>AH02032: Hostname xxx.com\nThe hostname www.xxx.com served over SNI and served over HTTP are different.\n\n</code></pre>\n<p>apache conf settings VirtualHost</p>\n<pre><code>&lt;virtual host *:443&gt;\nServer name www.xxxx.com\nServer alias xxxx.com\n#ServerAlias ​​​​www.xxxx.com\n\nRewriteRule ^(.*)$ https://www.xxxx.com$1 [R,L]\n\nJkMount /home* worker2\nJkMount /wcms* worker2\nJkMount /ckupload worker2\nJkMount /fip* worker1\n&lt;/VirtualHost&gt;\n\n</code></pre>\n<p>What I tried to fix the issue:</p>\n<ol>\n<li><p>URL redirect call settings</p>\n</li>\n<li><p>Test after terminating load balancer web server 1,2</p>\n</li>\n<li><p>SSL Settings Delete</p>\n</li>\n</ol>\n<p>I need help. please.</p>\n"},{"tags":["java","list","sorting","arraylist","collections"],"comments":[{"owner":{"account_id":2109967,"reputation":6673,"user_id":1875434,"accept_rate":67,"display_name":"abbas"},"score":2,"creation_date":1615811698,"post_id":16252269,"comment_id":117798565,"body_markdown":"testList.sort(Comparator.reverseOrder());","body":"testList.sort(Comparator.reverseOrder());"}],"answers":[{"tags":[],"owner":{"account_id":1266491,"reputation":58067,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"down_vote_count":3,"up_vote_count":671,"is_accepted":true,"score":668,"last_activity_date":1543276740,"creation_date":1367067011,"answer_id":16252290,"question_id":16252269,"body_markdown":"    Collections.sort(testList);\r\n    Collections.reverse(testList);\r\n\r\nThat will do what you want. Remember to import `Collections` though!\r\n\r\n[Here is the documentation for `Collections`](https://docs.oracle.com/javase/10/docs/api/java/util/Collections.html#sort(java.util.List)).","title":"How to sort a List/ArrayList?","body":"<pre><code>Collections.sort(testList);\nCollections.reverse(testList);\n</code></pre>\n\n<p>That will do what you want. Remember to import <code>Collections</code> though!</p>\n\n<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Collections.html#sort(java.util.List)\" rel=\"noreferrer\">Here is the documentation for <code>Collections</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"down_vote_count":3,"up_vote_count":98,"is_accepted":false,"score":95,"last_activity_date":1440023329,"creation_date":1367067058,"answer_id":16252296,"question_id":16252269,"body_markdown":"Use util method of [java.util.Collections](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html) class, i.e\r\n\r\n    Collections.sort(list)\r\n\r\nIn fact, if you want to sort custom object you can use\r\n\r\n    Collections.sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c) \r\n\r\nsee collections api","title":"How to sort a List/ArrayList?","body":"<p>Use util method of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html\" rel=\"noreferrer\">java.util.Collections</a> class, i.e</p>\n\n<pre><code>Collections.sort(list)\n</code></pre>\n\n<p>In fact, if you want to sort custom object you can use</p>\n\n<pre><code>Collections.sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c) \n</code></pre>\n\n<p>see collections api</p>\n"},{"tags":[],"owner":{"display_name":"user4423251"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1546513071,"creation_date":1420624739,"answer_id":27816773,"question_id":16252269,"body_markdown":"    //Here is sorted List alphabetically with syncronized\r\n    \r\n    package com.mnas.technology.automation.utility;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    \r\n    import org.apache.log4j.Logger;\r\n    \r\n    /**\r\n     * @author manoj.kumar\r\n     */\r\n    public class SynchronizedArrayList {\r\n        static Logger log = Logger.getLogger(SynchronizedArrayList.class.getName());\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public static void main(String[] args) {\r\n    \r\n            List&lt;Employee&gt; synchronizedList = Collections.synchronizedList(new ArrayList&lt;Employee&gt;());\r\n            synchronizedList.add(new Employee(&quot;Aditya&quot;));\r\n            synchronizedList.add(new Employee(&quot;Siddharth&quot;));\r\n            synchronizedList.add(new Employee(&quot;Manoj&quot;));\r\n            Collections.sort(synchronizedList, new Comparator() {\r\n                public int compare(Object synchronizedListOne, Object synchronizedListTwo) {\r\n                    //use instanceof to verify the references are indeed of the type in question\r\n                    return ((Employee) synchronizedListOne).name\r\n                            .compareTo(((Employee) synchronizedListTwo).name);\r\n                }\r\n            }); \r\n        /*for( Employee sd : synchronizedList) {\r\n        log.info(&quot;Sorted Synchronized Array List...&quot;+sd.name);\r\n        }*/\r\n    \r\n            // when iterating over a synchronized list, we need to synchronize access to the synchronized list\r\n            synchronized (synchronizedList) {\r\n                Iterator&lt;Employee&gt; iterator = synchronizedList.iterator();\r\n                while (iterator.hasNext()) {\r\n                    log.info(&quot;Sorted Synchronized Array List Items: &quot; + iterator.next().name);\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n    class Employee {\r\n        String name;\r\n    \r\n        Employee(String name) {\r\n            this.name = name;\r\n    \r\n        }\r\n    }\r\n    \r\n        ","title":"How to sort a List/ArrayList?","body":"<pre><code>//Here is sorted List alphabetically with syncronized\n\npackage com.mnas.technology.automation.utility;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Iterator;\nimport java.util.List;\n\nimport org.apache.log4j.Logger;\n\n/**\n * @author manoj.kumar\n */\npublic class SynchronizedArrayList {\n    static Logger log = Logger.getLogger(SynchronizedArrayList.class.getName());\n\n    @SuppressWarnings(\"unchecked\")\n    public static void main(String[] args) {\n\n        List&lt;Employee&gt; synchronizedList = Collections.synchronizedList(new ArrayList&lt;Employee&gt;());\n        synchronizedList.add(new Employee(\"Aditya\"));\n        synchronizedList.add(new Employee(\"Siddharth\"));\n        synchronizedList.add(new Employee(\"Manoj\"));\n        Collections.sort(synchronizedList, new Comparator() {\n            public int compare(Object synchronizedListOne, Object synchronizedListTwo) {\n                //use instanceof to verify the references are indeed of the type in question\n                return ((Employee) synchronizedListOne).name\n                        .compareTo(((Employee) synchronizedListTwo).name);\n            }\n        }); \n    /*for( Employee sd : synchronizedList) {\n    log.info(\"Sorted Synchronized Array List...\"+sd.name);\n    }*/\n\n        // when iterating over a synchronized list, we need to synchronize access to the synchronized list\n        synchronized (synchronizedList) {\n            Iterator&lt;Employee&gt; iterator = synchronizedList.iterator();\n            while (iterator.hasNext()) {\n                log.info(\"Sorted Synchronized Array List Items: \" + iterator.next().name);\n            }\n        }\n\n    }\n}\n\nclass Employee {\n    String name;\n\n    Employee(String name) {\n        this.name = name;\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5037951,"reputation":3071,"user_id":4046235,"display_name":"Yuriy Vasylenko"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1429107343,"creation_date":1429107343,"answer_id":29652714,"question_id":16252269,"body_markdown":"You can use `Collections.sort(list)` to sort `list` if your `list` contains `Comparable` elements. Otherwise I would recommend you to implement that interface like here:\r\n\r\n    public class Circle implements Comparable&lt;Circle&gt; {}\r\n\r\nand of course provide your own realization of `compareTo` method like here:\r\n \r\n\r\n    @Override\r\n        public int compareTo(Circle another) {\r\n            if (this.getD()&lt;another.getD()){\r\n                return -1;\r\n            }else{\r\n                return 1;\r\n            }\r\n        }\r\n\r\nAnd then you can again use `Colection.sort(list)` as now list contains objects of Comparable type and can be sorted. Order depends on `compareTo` method. Check this https://docs.oracle.com/javase/tutorial/collections/interfaces/order.html for more detailed information.","title":"How to sort a List/ArrayList?","body":"<p>You can use <code>Collections.sort(list)</code> to sort <code>list</code> if your <code>list</code> contains <code>Comparable</code> elements. Otherwise I would recommend you to implement that interface like here:</p>\n\n<pre><code>public class Circle implements Comparable&lt;Circle&gt; {}\n</code></pre>\n\n<p>and of course provide your own realization of <code>compareTo</code> method like here:</p>\n\n<pre><code>@Override\n    public int compareTo(Circle another) {\n        if (this.getD()&lt;another.getD()){\n            return -1;\n        }else{\n            return 1;\n        }\n    }\n</code></pre>\n\n<p>And then you can again use <code>Colection.sort(list)</code> as now list contains objects of Comparable type and can be sorted. Order depends on <code>compareTo</code> method. Check this <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/order.html\">https://docs.oracle.com/javase/tutorial/collections/interfaces/order.html</a> for more detailed information.</p>\n"},{"tags":[],"owner":{"account_id":5497863,"reputation":59,"user_id":4368313,"display_name":"Franklin Okeme"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1431508039,"creation_date":1431507455,"answer_id":30210090,"question_id":16252269,"body_markdown":"if you are using Java SE 8, then this might be of help.\r\n\r\n    //create a comparator object using a Lambda expression\r\n    Comparator&lt;Double&gt; compareDouble = (d1, d2) -&gt; d1.compareTo(d2);\r\n\r\n    //Sort the Collection in this case &#39;testList&#39; in reverse order\r\n    Collections.sort(testList, Collections.reverseOrder(compareDouble));\r\n\r\n    //print the sorted list using method reference only applicable in SE 8\r\n    testList.forEach(System.out::println);","title":"How to sort a List/ArrayList?","body":"<p>if you are using Java SE 8, then this might be of help.</p>\n\n<pre><code>//create a comparator object using a Lambda expression\nComparator&lt;Double&gt; compareDouble = (d1, d2) -&gt; d1.compareTo(d2);\n\n//Sort the Collection in this case 'testList' in reverse order\nCollections.sort(testList, Collections.reverseOrder(compareDouble));\n\n//print the sorted list using method reference only applicable in SE 8\ntestList.forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9954,"reputation":17400,"user_id":18601,"accept_rate":100,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1431508528,"creation_date":1431508528,"answer_id":30210459,"question_id":16252269,"body_markdown":"`Collections.sort` allows you to pass an instance of a `Comparator` which defines the sorting logic. So instead of sorting the list in natural order and then reversing it, one can simply pass `Collections.reverseOrder()` to `sort` in order to sort the list in reverse order:\r\n\r\n    // import java.util.Collections;\r\n    Collections.sort(testList, Collections.reverseOrder());\r\n\r\nAs mentioned by @Marco13, apart from being more idiomatic (and possibly more efficient), using the reverse order comparator makes sure that the sort is stable (meaning that the order of elements will not be changed when they are equal according to the comparator, whereas reversing will change the order)","title":"How to sort a List/ArrayList?","body":"<p><code>Collections.sort</code> allows you to pass an instance of a <code>Comparator</code> which defines the sorting logic. So instead of sorting the list in natural order and then reversing it, one can simply pass <code>Collections.reverseOrder()</code> to <code>sort</code> in order to sort the list in reverse order:</p>\n\n<pre><code>// import java.util.Collections;\nCollections.sort(testList, Collections.reverseOrder());\n</code></pre>\n\n<p>As mentioned by @Marco13, apart from being more idiomatic (and possibly more efficient), using the reverse order comparator makes sure that the sort is stable (meaning that the order of elements will not be changed when they are equal according to the comparator, whereas reversing will change the order)</p>\n"},{"tags":[],"owner":{"account_id":3380175,"reputation":3541,"user_id":2837359,"accept_rate":67,"display_name":"404 Not Found"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1564474107,"creation_date":1451453288,"answer_id":34523438,"question_id":16252269,"body_markdown":"You can use like that \r\n\r\n    ArrayList&lt;Group&gt; groupList = new ArrayList&lt;&gt;();\r\n    Collections.sort(groupList, Collections.reverseOrder());\r\n    Collections.reverse(groupList);","title":"How to sort a List/ArrayList?","body":"<p>You can use like that </p>\n\n<pre><code>ArrayList&lt;Group&gt; groupList = new ArrayList&lt;&gt;();\nCollections.sort(groupList, Collections.reverseOrder());\nCollections.reverse(groupList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5432705,"reputation":4075,"user_id":4323043,"accept_rate":75,"display_name":"최봉재"},"down_vote_count":0,"up_vote_count":178,"is_accepted":false,"score":178,"last_activity_date":1503667190,"creation_date":1452131977,"answer_id":34646172,"question_id":16252269,"body_markdown":"Descending:\r\n\r\n    Collections.sort(mArrayList, new Comparator&lt;CustomData&gt;() {\r\n        @Override\r\n        public int compare(CustomData lhs, CustomData rhs) {\r\n            // -1 - less than, 1 - greater than, 0 - equal, all inversed for descending\r\n            return lhs.customInt &gt; rhs.customInt ? -1 : (lhs.customInt &lt; rhs.customInt) ? 1 : 0;\r\n        }\r\n    });\r\n\r\n\r\n","title":"How to sort a List/ArrayList?","body":"<p>Descending:</p>\n\n<pre><code>Collections.sort(mArrayList, new Comparator&lt;CustomData&gt;() {\n    @Override\n    public int compare(CustomData lhs, CustomData rhs) {\n        // -1 - less than, 1 - greater than, 0 - equal, all inversed for descending\n        return lhs.customInt &gt; rhs.customInt ? -1 : (lhs.customInt &lt; rhs.customInt) ? 1 : 0;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7732355,"reputation":691,"user_id":5855034,"display_name":"cyrus"},"down_vote_count":0,"up_vote_count":68,"is_accepted":false,"score":68,"last_activity_date":1693806049,"creation_date":1454034824,"answer_id":35075891,"question_id":16252269,"body_markdown":"Using lambdas (Java 8), and stripping it down to the barest of syntax (the JVM will infer *plenty* in this case), you get:\r\n\r\n    Collections.sort(testList, (a, b) -&gt; b.compareTo(a));\r\n\r\nA more verbose version:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    // Implement a reverse-order Comparator by lambda function\r\n    Comparator&lt;Double&gt; comp = (Double a, Double b) -&gt; {\r\n        return b.compareTo(a);\r\n    };\r\n    \r\n    Collections.sort(testList, comp);\r\n\r\nThe use of a lambda is possible because the Comparator interface has only a single method to implement, so the VM can infer which method it&#39;s implementing. Since the types of the params can be inferred, they don&#39;t need to be stated, i.e. `(a, b)` instead of `(Double a, Double b)`. And since the lambda body has only a single line, and the method is expected to return a value, the `return` is inferred and the braces aren&#39;t necessary.","title":"How to sort a List/ArrayList?","body":"<p>Using lambdas (Java 8), and stripping it down to the barest of syntax (the JVM will infer <em>plenty</em> in this case), you get:</p>\n<pre><code>Collections.sort(testList, (a, b) -&gt; b.compareTo(a));\n</code></pre>\n<p>A more verbose version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Implement a reverse-order Comparator by lambda function\nComparator&lt;Double&gt; comp = (Double a, Double b) -&gt; {\n    return b.compareTo(a);\n};\n\nCollections.sort(testList, comp);\n</code></pre>\n<p>The use of a lambda is possible because the Comparator interface has only a single method to implement, so the VM can infer which method it's implementing. Since the types of the params can be inferred, they don't need to be stated, i.e. <code>(a, b)</code> instead of <code>(Double a, Double b)</code>. And since the lambda body has only a single line, and the method is expected to return a value, the <code>return</code> is inferred and the braces aren't necessary.</p>\n"},{"tags":[],"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1459786404,"creation_date":1459786404,"answer_id":36407734,"question_id":16252269,"body_markdown":"With Java8 there is a default sort method on the List interface that will allow you to sort the collection if you provide a Comparator.  You can easily sort the example in the question as follows:\r\n\r\n    testList.sort((a, b) -&gt; Double.compare(b, a));\r\n\r\nNote: the args in the lambda are swapped when passed in to Double.compare to ensure the sort is descending","title":"How to sort a List/ArrayList?","body":"<p>With Java8 there is a default sort method on the List interface that will allow you to sort the collection if you provide a Comparator.  You can easily sort the example in the question as follows:</p>\n\n<pre><code>testList.sort((a, b) -&gt; Double.compare(b, a));\n</code></pre>\n\n<p>Note: the args in the lambda are swapped when passed in to Double.compare to ensure the sort is descending</p>\n"},{"tags":[],"owner":{"account_id":2363312,"reputation":912,"user_id":2069549,"display_name":"Thiago"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1564474133,"creation_date":1459858071,"answer_id":36425977,"question_id":16252269,"body_markdown":"You can do like this:\r\n\r\n    List&lt;String&gt; yourList = new ArrayList&lt;String&gt;();\r\n\tCollections.sort(yourList, Collections.reverseOrder());\r\n\r\n\r\nCollection has a default Comparator that can help you with that.\r\n\r\nAlso, if you want to use some Java 8 new features, you can do like that:\r\n\r\n    List&lt;String&gt; yourList = new ArrayList&lt;String&gt;();\r\n\tyourList = yourList.stream().sorted(Collections.reverseOrder()).collect(Collectors.toList());","title":"How to sort a List/ArrayList?","body":"<p>You can do like this:</p>\n\n<pre><code>List&lt;String&gt; yourList = new ArrayList&lt;String&gt;();\nCollections.sort(yourList, Collections.reverseOrder());\n</code></pre>\n\n<p>Collection has a default Comparator that can help you with that.</p>\n\n<p>Also, if you want to use some Java 8 new features, you can do like that:</p>\n\n<pre><code>List&lt;String&gt; yourList = new ArrayList&lt;String&gt;();\nyourList = yourList.stream().sorted(Collections.reverseOrder()).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"down_vote_count":0,"up_vote_count":155,"is_accepted":false,"score":155,"last_activity_date":1541462126,"creation_date":1467734655,"answer_id":38207945,"question_id":16252269,"body_markdown":"For your example, this will do the magic in Java 8\r\n\r\n    List&lt;Double&gt; testList = new ArrayList();\r\n    testList.sort(Comparator.naturalOrder());\r\n\r\nBut if you want to sort by some of the fields of the object you are sorting, you can do it easily by:\r\n\r\n    testList.sort(Comparator.comparing(ClassName::getFieldName));\r\nor \r\n\r\n     testList.sort(Comparator.comparing(ClassName::getFieldName).reversed());\r\n\r\nor\r\n\r\n     testList.stream().sorted(Comparator.comparing(ClassName::getFieldName).reversed()).collect(Collectors.toList());\r\n\r\nSources:  https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\r\n","title":"How to sort a List/ArrayList?","body":"<p>For your example, this will do the magic in Java 8</p>\n\n<pre><code>List&lt;Double&gt; testList = new ArrayList();\ntestList.sort(Comparator.naturalOrder());\n</code></pre>\n\n<p>But if you want to sort by some of the fields of the object you are sorting, you can do it easily by:</p>\n\n<pre><code>testList.sort(Comparator.comparing(ClassName::getFieldName));\n</code></pre>\n\n<p>or </p>\n\n<pre><code> testList.sort(Comparator.comparing(ClassName::getFieldName).reversed());\n</code></pre>\n\n<p>or</p>\n\n<pre><code> testList.stream().sorted(Comparator.comparing(ClassName::getFieldName).reversed()).collect(Collectors.toList());\n</code></pre>\n\n<p>Sources:  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html</a></p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693811202,"creation_date":1487641049,"answer_id":42357183,"question_id":16252269,"body_markdown":"With [Eclipse Collections][1] you could create a primitive double list, sort it and then reverse it to put it in descending order.  This approach would avoid boxing the doubles.  \r\n\r\n    MutableDoubleList doubleList =\r\n        DoubleLists.mutable.with(\r\n            0.5, 0.2, 0.9, 0.1, 0.1, 0.1, 0.54, 0.71,\r\n            0.71, 0.71, 0.92, 0.12, 0.65, 0.34, 0.62)\r\n            .sortThis().reverseThis();\r\n    doubleList.each(System.out::println);\r\n\r\n**Updated:** Sept. 2023\r\n\r\nSince the 10.3 release, [Eclipse Collections supports indirect sorting of primitive lists][2].\r\n\r\n    @Test\r\n    public void sortDoubleListInDescendingOrder()\r\n    {\r\n        MutableDoubleList testList = DoubleLists.mutable\r\n                .with(0.5, 0.2, 0.9, 0.1, 0.1, 0.1, 0.54, 0.71, 0.71,\r\n                      0.71, 0.92, 0.12, 0.65, 0.34, 0.62);\r\n    \r\n        DoubleList expected = DoubleLists.mutable\r\n                .with(0.92, 0.9, 0.71, 0.71, 0.71, 0.65, 0.62, 0.54,\r\n                      0.5, 0.34, 0.2, 0.12, 0.1, 0.1, 0.1);\r\n\r\n        Assertions.assertNotEquals(expected, testList);\r\n    \r\n        testList.sortThis((i, j) -&gt; -Double.compare(i, j));\r\n    \r\n        Assertions.assertEquals(expected, testList);\r\n    }\r\n\r\n**End Update**\r\n\r\nIf you want a `List&lt;Double&gt;`, then the following would work.\r\n\r\n    List&lt;Double&gt; objectList =\r\n        Lists.mutable.with(\r\n            0.5, 0.2, 0.9, 0.1, 0.1, 0.1, 0.54, 0.71,\r\n            0.71, 0.71, 0.92, 0.12, 0.65, 0.34, 0.62)\r\n            .sortThis(Collections.reverseOrder());\r\n    objectList.forEach(System.out::println);\r\n\r\nIf you want to keep the type as `ArrayList&lt;Double&gt;`, you can initialize and sort the list using the `ArrayListIterate` utility class as follows:\r\n\r\n    ArrayList&lt;Double&gt; arrayList =\r\n        ArrayListIterate.sortThis(\r\n                new ArrayList&lt;&gt;(objectList), Collections.reverseOrder());\r\n    arrayList.forEach(System.out::println);\r\n\r\nNote: I am a committer for [Eclipse Collections][1].\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: https://medium.com/javarevisited/eclipse-collections-now-supports-indirect-sorting-of-primitive-lists-e2447ca5dbc3","title":"How to sort a List/ArrayList?","body":"<p>With <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a> you could create a primitive double list, sort it and then reverse it to put it in descending order.  This approach would avoid boxing the doubles.</p>\n<pre><code>MutableDoubleList doubleList =\n    DoubleLists.mutable.with(\n        0.5, 0.2, 0.9, 0.1, 0.1, 0.1, 0.54, 0.71,\n        0.71, 0.71, 0.92, 0.12, 0.65, 0.34, 0.62)\n        .sortThis().reverseThis();\ndoubleList.each(System.out::println);\n</code></pre>\n<p><strong>Updated:</strong> Sept. 2023</p>\n<p>Since the 10.3 release, <a href=\"https://medium.com/javarevisited/eclipse-collections-now-supports-indirect-sorting-of-primitive-lists-e2447ca5dbc3\" rel=\"nofollow noreferrer\">Eclipse Collections supports indirect sorting of primitive lists</a>.</p>\n<pre><code>@Test\npublic void sortDoubleListInDescendingOrder()\n{\n    MutableDoubleList testList = DoubleLists.mutable\n            .with(0.5, 0.2, 0.9, 0.1, 0.1, 0.1, 0.54, 0.71, 0.71,\n                  0.71, 0.92, 0.12, 0.65, 0.34, 0.62);\n\n    DoubleList expected = DoubleLists.mutable\n            .with(0.92, 0.9, 0.71, 0.71, 0.71, 0.65, 0.62, 0.54,\n                  0.5, 0.34, 0.2, 0.12, 0.1, 0.1, 0.1);\n\n    Assertions.assertNotEquals(expected, testList);\n\n    testList.sortThis((i, j) -&gt; -Double.compare(i, j));\n\n    Assertions.assertEquals(expected, testList);\n}\n</code></pre>\n<p><strong>End Update</strong></p>\n<p>If you want a <code>List&lt;Double&gt;</code>, then the following would work.</p>\n<pre><code>List&lt;Double&gt; objectList =\n    Lists.mutable.with(\n        0.5, 0.2, 0.9, 0.1, 0.1, 0.1, 0.54, 0.71,\n        0.71, 0.71, 0.92, 0.12, 0.65, 0.34, 0.62)\n        .sortThis(Collections.reverseOrder());\nobjectList.forEach(System.out::println);\n</code></pre>\n<p>If you want to keep the type as <code>ArrayList&lt;Double&gt;</code>, you can initialize and sort the list using the <code>ArrayListIterate</code> utility class as follows:</p>\n<pre><code>ArrayList&lt;Double&gt; arrayList =\n    ArrayListIterate.sortThis(\n            new ArrayList&lt;&gt;(objectList), Collections.reverseOrder());\narrayList.forEach(System.out::println);\n</code></pre>\n<p>Note: I am a committer for <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>.</p>\n"},{"tags":[],"owner":{"account_id":6570594,"reputation":5006,"user_id":5078763,"accept_rate":74,"display_name":"Sujay U N"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1496635597,"creation_date":1496635597,"answer_id":44361529,"question_id":16252269,"body_markdown":"|*| Sorting an List :\r\n\r\n    import java.util.Collections;\r\n\r\n|=&gt; Sort Asc Order :\r\n\r\n\tCollections.sort(NamAryVar);\r\n\r\n|=&gt; Sort Dsc Order :\r\n\r\n\tCollections.sort(NamAryVar, Collections.reverseOrder());\r\n\r\n---\r\n|*| Reverse the order of List :\r\n\r\n\tCollections.reverse(NamAryVar);","title":"How to sort a List/ArrayList?","body":"<p>|*| Sorting an List :</p>\n\n<pre><code>import java.util.Collections;\n</code></pre>\n\n<p>|=> Sort Asc Order :</p>\n\n<pre><code>Collections.sort(NamAryVar);\n</code></pre>\n\n<p>|=> Sort Dsc Order :</p>\n\n<pre><code>Collections.sort(NamAryVar, Collections.reverseOrder());\n</code></pre>\n\n<hr>\n\n<p>|*| Reverse the order of List :</p>\n\n<pre><code>Collections.reverse(NamAryVar);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1834295,"reputation":384,"user_id":2244734,"display_name":"Appesh"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1547732165,"creation_date":1499976845,"answer_id":45090141,"question_id":16252269,"body_markdown":"In JAVA 8 its much easy now.\r\n\r\n    List&lt;String&gt; alphaNumbers = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;);\r\n    List&lt;String&gt; alphaNumbersUpperCase = alphaNumbers.stream()\r\n        .map(String::toUpperCase)\r\n        .sorted()\r\n        .collect(Collectors.toList());\r\n    System.out.println(alphaNumbersUpperCase); // [FOUR, ONE, THREE, TWO]\r\n\r\n-- For reverse use this\r\n\r\n    .sorted(Comparator.reverseOrder())","title":"How to sort a List/ArrayList?","body":"<p>In JAVA 8 its much easy now.</p>\n\n<pre><code>List&lt;String&gt; alphaNumbers = Arrays.asList(\"one\", \"two\", \"three\", \"four\");\nList&lt;String&gt; alphaNumbersUpperCase = alphaNumbers.stream()\n    .map(String::toUpperCase)\n    .sorted()\n    .collect(Collectors.toList());\nSystem.out.println(alphaNumbersUpperCase); // [FOUR, ONE, THREE, TWO]\n</code></pre>\n\n<p>-- For reverse use this</p>\n\n<pre><code>.sorted(Comparator.reverseOrder())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11797537,"reputation":598,"user_id":8631958,"display_name":"Ibrahima Timera"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513779033,"creation_date":1513778657,"answer_id":47907804,"question_id":16252269,"body_markdown":"For example I have a class Person: String name, int age ==&gt;Constructor new Person(name,age) \r\n\r\n\r\n    import java.util.Collections;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n\r\n\r\n    public void main(String[] args){\r\n        Person ibrahima=new Person(&quot;Timera&quot;,40);\r\n        Person toto=new Person(&quot;Toto&quot;,35);\r\n        Person alex=new Person(&quot;Alex&quot;,50);\r\n        ArrayList&lt;Person&gt; myList=new ArrayList&lt;Person&gt;\r\n        Collections.sort(myList, new Comparator&lt;Person&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(Person p1, Person p2) {\r\n\t\t\t\t// return p1.age+&quot;&quot;.compareTo(p2.age+&quot;&quot;); //sort by age\r\n\t\t\t\treturn p1.name.compareTo(p2.name); // if you want to short by name\r\n\t\t\t}\r\n\t\t});\r\n\t\tSystem.out.println(myList.toString());\r\n        //[Person [name=Alex, age=50], Person [name=Timera, age=40], Person [name=Toto, age=35]]\r\n        Collections.reverse(myList);\r\n\t\tSystem.out.println(myList.toString());\r\n        //[Person [name=Toto, age=35], Person [name=Timera, age=40], Person [name=Alex, age=50]]\r\n\r\n    }\r\n","title":"How to sort a List/ArrayList?","body":"<p>For example I have a class Person: String name, int age ==>Constructor new Person(name,age) </p>\n\n<pre><code>import java.util.Collections;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\n\npublic void main(String[] args){\n    Person ibrahima=new Person(\"Timera\",40);\n    Person toto=new Person(\"Toto\",35);\n    Person alex=new Person(\"Alex\",50);\n    ArrayList&lt;Person&gt; myList=new ArrayList&lt;Person&gt;\n    Collections.sort(myList, new Comparator&lt;Person&gt;() {\n        @Override\n        public int compare(Person p1, Person p2) {\n            // return p1.age+\"\".compareTo(p2.age+\"\"); //sort by age\n            return p1.name.compareTo(p2.name); // if you want to short by name\n        }\n    });\n    System.out.println(myList.toString());\n    //[Person [name=Alex, age=50], Person [name=Timera, age=40], Person [name=Toto, age=35]]\n    Collections.reverse(myList);\n    System.out.println(myList.toString());\n    //[Person [name=Toto, age=35], Person [name=Timera, age=40], Person [name=Alex, age=50]]\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6394574,"reputation":675,"user_id":5623476,"display_name":"Ivan Kovtun"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1525807995,"creation_date":1525807995,"answer_id":50241073,"question_id":16252269,"body_markdown":"The following line should do the thick\r\n\r\n    testList.sort(Collections.reverseOrder());\r\n\r\n","title":"How to sort a List/ArrayList?","body":"<p>The following line should do the thick</p>\n\n<pre><code>testList.sort(Collections.reverseOrder());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1620037656,"creation_date":1550493142,"answer_id":54747392,"question_id":16252269,"body_markdown":"Here is a short cheatsheet that covers typical cases:\r\n\r\n    import static java.util.Comparator.comparing;\r\n\r\n    // sort\r\n    list.sort(naturalOrder());\r\n\r\n    // sort (reversed)\r\n    list.sort(reverseOrder());\r\n\r\n    // sort by field\r\n    list.sort(comparing(Type::getField));\r\n\r\n    // sort by field (reversed)\r\n    list.sort(comparing(Type::getField).reversed());\r\n\r\n    // sort by int field\r\n    list.sort(comparingInt(Type::getIntField));\r\n\r\n    // sort by double field (reversed)\r\n    list.sort(comparingDouble(Type::getDoubleField).reversed());\r\n\r\n    // sort by nullable field (nulls last)\r\n    list.sort(comparing(Type::getNullableField, nullsLast(naturalOrder())));\r\n\r\n    // two-level sort\r\n    list.sort(comparing(Type::getField1).thenComparing(Type::getField2));\r\n","title":"How to sort a List/ArrayList?","body":"<p>Here is a short cheatsheet that covers typical cases:</p>\n<pre><code>import static java.util.Comparator.comparing;\n\n// sort\nlist.sort(naturalOrder());\n\n// sort (reversed)\nlist.sort(reverseOrder());\n\n// sort by field\nlist.sort(comparing(Type::getField));\n\n// sort by field (reversed)\nlist.sort(comparing(Type::getField).reversed());\n\n// sort by int field\nlist.sort(comparingInt(Type::getIntField));\n\n// sort by double field (reversed)\nlist.sort(comparingDouble(Type::getDoubleField).reversed());\n\n// sort by nullable field (nulls last)\nlist.sort(comparing(Type::getNullableField, nullsLast(naturalOrder())));\n\n// two-level sort\nlist.sort(comparing(Type::getField1).thenComparing(Type::getField2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5475147,"reputation":199,"user_id":4353328,"display_name":"Caner Yılmaz"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1597756415,"creation_date":1597756415,"answer_id":63469424,"question_id":16252269,"body_markdown":"     \r\n\r\n      yearList = arrayListOf()\r\n        for (year in 1950 until 2021) {\r\n            yearList.add(year)\r\n        }\r\n\r\n       yearList.reverse()\r\n        val list: ArrayList&lt;String&gt; = arrayListOf()\r\n\r\n        for (year in yearList) {\r\n            list.add(year.toString())\r\n        }","title":"How to sort a List/ArrayList?","body":"<pre><code>  yearList = arrayListOf()\n    for (year in 1950 until 2021) {\n        yearList.add(year)\n    }\n\n   yearList.reverse()\n    val list: ArrayList&lt;String&gt; = arrayListOf()\n\n    for (year in yearList) {\n        list.add(year.toString())\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4612886,"reputation":565,"user_id":3740432,"accept_rate":0,"display_name":"Afsar Ali"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598607017,"creation_date":1598607017,"answer_id":63631091,"question_id":16252269,"body_markdown":"If you have to sort object based on its id in the ArrayList , then use java8 stream.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n     List&lt;Person&gt; personList = new ArrayList&lt;&gt;();\r\n\r\n        List&lt;Person&gt; personListSorted =\r\n                    personList.stream()\r\n                      .sorted(Comparator.comparing(Person::getPersonId))\r\n                      .collect(Collectors.toList());\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to sort a List/ArrayList?","body":"<p>If you have to sort object based on its id in the ArrayList , then use java8 stream.</p>\n<pre class=\"lang-java prettyprint-override\"><code> List&lt;Person&gt; personList = new ArrayList&lt;&gt;();\n\n    List&lt;Person&gt; personListSorted =\n                personList.stream()\n                  .sorted(Comparator.comparing(Person::getPersonId))\n                  .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14288537,"reputation":31,"user_id":10321245,"display_name":"Bruno F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610982993,"creation_date":1610980846,"answer_id":65776628,"question_id":16252269,"body_markdown":"An alternative way to order a List is using the Collections framework;\r\n\r\nin this case using the SortedSet (the bean in the list should implement Comparable, so Double is ok):\r\n\r\n    List&lt;Double&gt; testList;\r\n    ...\r\n    SortedSet&lt;Double&gt; sortedSet= new TreeSet&lt;Double&gt;();\r\n    for(Double number: testList) {\r\n       sortedSet.add(number);\r\n    }\r\n    orderedList=new ArrayList(sortedSet);\r\n\r\n\r\n\r\nIn general, to order by an attribute of a bean in the list,put all the elements of the list in a SortedMap, using as a key the attribute, then get the values() from the SortedMap (the attribute should implement Comparable):\r\n\r\n    List&lt;Bean&gt; testList;\r\n    ...\r\n    SortedMap&lt;AttributeType,Bean&gt; sortedMap= new TreeMap&lt;AttributeType, Bean&gt;();\r\n    for(Bean bean : testList) {\r\n       sortedMap.put(bean.getAttribute(),bean);\r\n    }\r\n    orderedList=new ArrayList(sortedMap.values());\r\n\r\n\r\n\r\n","title":"How to sort a List/ArrayList?","body":"<p>An alternative way to order a List is using the Collections framework;</p>\n<p>in this case using the SortedSet (the bean in the list should implement Comparable, so Double is ok):</p>\n<pre><code>List&lt;Double&gt; testList;\n...\nSortedSet&lt;Double&gt; sortedSet= new TreeSet&lt;Double&gt;();\nfor(Double number: testList) {\n   sortedSet.add(number);\n}\norderedList=new ArrayList(sortedSet);\n</code></pre>\n<p>In general, to order by an attribute of a bean in the list,put all the elements of the list in a SortedMap, using as a key the attribute, then get the values() from the SortedMap (the attribute should implement Comparable):</p>\n<pre><code>List&lt;Bean&gt; testList;\n...\nSortedMap&lt;AttributeType,Bean&gt; sortedMap= new TreeMap&lt;AttributeType, Bean&gt;();\nfor(Bean bean : testList) {\n   sortedMap.put(bean.getAttribute(),bean);\n}\norderedList=new ArrayList(sortedMap.values());\n</code></pre>\n"}],"owner":{"account_id":1360527,"reputation":4771,"user_id":1297994,"accept_rate":83,"display_name":"Himanshu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1322463,"favorite_count":0,"down_vote_count":1,"up_vote_count":460,"accepted_answer_id":16252290,"answer_count":21,"score":459,"last_activity_date":1693811202,"creation_date":1367066896,"question_id":16252269,"body_markdown":"I have a List of doubles in java and I want to sort ArrayList in descending order.\r\n\r\nInput ArrayList is as below:\r\n\r\n    List&lt;Double&gt; testList = new ArrayList();\r\n\r\n    testList.add(0.5);\r\n    testList.add(0.2);\r\n    testList.add(0.9);\r\n    testList.add(0.1);\r\n    testList.add(0.1);\r\n    testList.add(0.1);\r\n    testList.add(0.54);\r\n    testList.add(0.71);\r\n    testList.add(0.71);\r\n    testList.add(0.71);\r\n    testList.add(0.92);\r\n    testList.add(0.12);\r\n    testList.add(0.65);\r\n    testList.add(0.34);\r\n    testList.add(0.62);\r\n        \r\nThe out put should be like this\r\n\r\n    0.92\r\n    0.9\r\n    0.71\r\n    0.71\r\n    0.71\r\n    0.65\r\n    0.62\r\n    0.54\r\n    0.5\r\n    0.34\r\n    0.2\r\n    0.12\r\n    0.1\r\n    0.1\r\n    0.1\r\n","title":"How to sort a List/ArrayList?","body":"<p>I have a List of doubles in java and I want to sort ArrayList in descending order.</p>\n\n<p>Input ArrayList is as below:</p>\n\n<pre><code>List&lt;Double&gt; testList = new ArrayList();\n\ntestList.add(0.5);\ntestList.add(0.2);\ntestList.add(0.9);\ntestList.add(0.1);\ntestList.add(0.1);\ntestList.add(0.1);\ntestList.add(0.54);\ntestList.add(0.71);\ntestList.add(0.71);\ntestList.add(0.71);\ntestList.add(0.92);\ntestList.add(0.12);\ntestList.add(0.65);\ntestList.add(0.34);\ntestList.add(0.62);\n</code></pre>\n\n<p>The out put should be like this</p>\n\n<pre><code>0.92\n0.9\n0.71\n0.71\n0.71\n0.65\n0.62\n0.54\n0.5\n0.34\n0.2\n0.12\n0.1\n0.1\n0.1\n</code></pre>\n"},{"tags":["java","sonarqube","cpd"],"comments":[{"owner":{"account_id":41366,"reputation":93989,"user_id":120163,"accept_rate":59,"display_name":"Ira Baxter"},"score":1,"creation_date":1360747234,"post_id":14848048,"comment_id":20812663,"body_markdown":"This is a sign of a so-called &quot;token based&quot; clone detector, which match sequences of tokens.  These tend to have high false positive detection rates;  **} catch ( Exception** in your example is considered to be a small clone by such detector. To counter that these detectors tend to be configured to only accept pretty big clones with some possible additional restrictions, see Andras&#39; answer.  AST based-clone detectors only match on language structures; they would not consider **} catch ( Exception** to be a clone, ever.  Consequently, they can find clones with considerably smaller granularity.","body":"This is a sign of a so-called &quot;token based&quot; clone detector, which match sequences of tokens.  These tend to have high false positive detection rates;  <b>} catch ( Exception</b> in your example is considered to be a small clone by such detector. To counter that these detectors tend to be configured to only accept pretty big clones with some possible additional restrictions, see Andras&#39; answer.  AST based-clone detectors only match on language structures; they would not consider <b>} catch ( Exception</b> to be a clone, ever.  Consequently, they can find clones with considerably smaller granularity."}],"answers":[{"tags":[],"owner":{"account_id":2343027,"reputation":615,"user_id":2053913,"display_name":"Andr&#225;s T&#243;th"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360738965,"creation_date":1360738965,"answer_id":14848162,"question_id":14848048,"body_markdown":"A block is the lines of code between balanced braces. The constant block size means that in the block there must be 10 Lines of code to match. So to have a duplication try this.\r\n\r\n    public void foo(){\r\n    //... 10 lines of code\r\n    }\r\n\r\n    private void bar(){\r\n    //.... the same 10 lines of code\r\n    }","title":"Sonar CPD detecting blocks duplications","body":"<p>A block is the lines of code between balanced braces. The constant block size means that in the block there must be 10 Lines of code to match. So to have a duplication try this.</p>\n\n<pre><code>public void foo(){\n//... 10 lines of code\n}\n\nprivate void bar(){\n//.... the same 10 lines of code\n}\n</code></pre>\n"}],"owner":{"account_id":224624,"reputation":1443,"user_id":484593,"accept_rate":49,"display_name":"satheesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12586,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1693810945,"creation_date":1360738391,"question_id":14848048,"body_markdown":"I have done so much analysis on how sonar cpd detects duplicate blocks.But I am not able to trigger out exactly what the process it takes to detect blocks or lines of code.Do that have any minimum number of lines.\r\n\r\nFor example if I am writing as below it is not detecting any code duplications even I repeat more that 20 times.\r\n\r\n            System.out.println(&quot;this is good&quot;);\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\r\n\t        System.out.println(&quot;this is good&quot;);\r\n\r\nLater on I tried giving blocks duplications\r\n\r\n\r\n         try\r\n\t    {\r\n\t    connection = null;\r\n\t    }\r\n\t    catch(Exception e){\r\n\t    \te.printStackTrace();\r\n\t    }\r\n\t    try\r\n\t    {\r\n\t    connection = null;\r\n\t    }\r\n\t    catch(Exception e){\r\n\t    \te.printStackTrace();\r\n\t    }\r\n\t    try{\r\n\t    connection = null;\r\n\t    }\r\n\t    catch(Exception e){\r\n\t    \te.printStackTrace();\r\n\t    }\r\n\t    try{\r\n\t    connection = null;\r\n\t    }\r\n\t    catch(Exception e){\r\n\t    \te.printStackTrace();\r\n\t    }\r\n\r\nHere it is considering as two block even though it has many blocks.\r\n\r\nPlease let me know the exact process followed in this duplication detection by sonar 3.4.1\r\n\r\nIn this \r\nhttp://docs.sonarsource.org/3.1/apidocs/src-html/org/sonar/plugins/cpd/SonarEngine.html\r\n\r\nI found a constant block size as 10. But I am able to relate this in my observation.\r\n\r\n","title":"Sonar CPD detecting blocks duplications","body":"<p>I have done so much analysis on how sonar cpd detects duplicate blocks.But I am not able to trigger out exactly what the process it takes to detect blocks or lines of code.Do that have any minimum number of lines.</p>\n\n<p>For example if I am writing as below it is not detecting any code duplications even I repeat more that 20 times.</p>\n\n<pre><code>        System.out.println(\"this is good\");\n        System.out.println(\"this is good\");\n\n        System.out.println(\"this is good\");\n        System.out.println(\"this is good\");\n\n        System.out.println(\"this is good\");\n\n        System.out.println(\"this is good\");\n\n        System.out.println(\"this is good\");\n\n        System.out.println(\"this is good\");\n\n        System.out.println(\"this is good\");\n\n        System.out.println(\"this is good\");\n</code></pre>\n\n<p>Later on I tried giving blocks duplications</p>\n\n<pre><code>     try\n    {\n    connection = null;\n    }\n    catch(Exception e){\n        e.printStackTrace();\n    }\n    try\n    {\n    connection = null;\n    }\n    catch(Exception e){\n        e.printStackTrace();\n    }\n    try{\n    connection = null;\n    }\n    catch(Exception e){\n        e.printStackTrace();\n    }\n    try{\n    connection = null;\n    }\n    catch(Exception e){\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>Here it is considering as two block even though it has many blocks.</p>\n\n<p>Please let me know the exact process followed in this duplication detection by sonar 3.4.1</p>\n\n<p>In this \n<a href=\"http://docs.sonarsource.org/3.1/apidocs/src-html/org/sonar/plugins/cpd/SonarEngine.html\" rel=\"nofollow\">http://docs.sonarsource.org/3.1/apidocs/src-html/org/sonar/plugins/cpd/SonarEngine.html</a></p>\n\n<p>I found a constant block size as 10. But I am able to relate this in my observation.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1693811464,"post_id":77035448,"comment_id":135804577,"body_markdown":"Any particular reason to why you havnt enable debug logs and read them before asking here?","body":"Any particular reason to why you havnt enable debug logs and read them before asking here?"}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693810754,"creation_date":1693810754,"answer_id":77035670,"question_id":77035448,"body_markdown":"`@EnableWebSecurity`  enables spring security and it by default enables csrf support.\r\n\r\nAnd also `authorizeRequests` is deprecated use `authorizeHttpRequests` instead.\r\nAlso you should add `CORS` configuration that allow specific request.\r\n\r\nThe `securityFilterChain` body method should be something like this. \r\n\r\n      @Bean\r\n      public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    \r\n        http.cors(corsConfigurer -&gt; corsConfigurer.configurationSource(corsConfiguration()))\r\n            .csrf(AbstractHttpConfigurer::disable);\r\n        http.authorizeHttpRequests(authorizeRequests-&gt;\r\n                authorizeRequests.requestMatchers(&quot;/**&quot;).hasAnyAuthority(&quot;USER&quot;))\r\n            .httpBasic(withDefaults());\r\n        return http.build();\r\n      }\r\n    \r\n      @Bean\r\n      public CorsConfigurationSource corsConfiguration() {\r\n        return request -&gt; {\r\n          org.springframework.web.cors.CorsConfiguration config = \r\n              new org.springframework.web.cors.CorsConfiguration();\r\n          config.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\r\n          config.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\r\n          config.setAllowedOriginPatterns(Collections.singletonList(&quot;*&quot;));\r\n          config.setAllowCredentials(true);\r\n          return config;\r\n        };\r\n      }\r\n\r\n","title":"How to allow http delete endpoint in spring security version 6.x and spring boot 3.x","body":"<p><code>@EnableWebSecurity</code>  enables spring security and it by default enables csrf support.</p>\n<p>And also <code>authorizeRequests</code> is deprecated use <code>authorizeHttpRequests</code> instead.\nAlso you should add <code>CORS</code> configuration that allow specific request.</p>\n<p>The <code>securityFilterChain</code> body method should be something like this.</p>\n<pre><code>  @Bean\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n    http.cors(corsConfigurer -&gt; corsConfigurer.configurationSource(corsConfiguration()))\n        .csrf(AbstractHttpConfigurer::disable);\n    http.authorizeHttpRequests(authorizeRequests-&gt;\n            authorizeRequests.requestMatchers(&quot;/**&quot;).hasAnyAuthority(&quot;USER&quot;))\n        .httpBasic(withDefaults());\n    return http.build();\n  }\n\n  @Bean\n  public CorsConfigurationSource corsConfiguration() {\n    return request -&gt; {\n      org.springframework.web.cors.CorsConfiguration config = \n          new org.springframework.web.cors.CorsConfiguration();\n      config.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\n      config.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\n      config.setAllowedOriginPatterns(Collections.singletonList(&quot;*&quot;));\n      config.setAllowCredentials(true);\n      return config;\n    };\n  }\n</code></pre>\n"}],"owner":{"account_id":27015927,"reputation":13,"user_id":20574784,"display_name":"user20574784"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77035670,"answer_count":1,"score":1,"last_activity_date":1693810754,"creation_date":1693808254,"question_id":77035448,"body_markdown":"I am using spring security version 6.1.2 and spring boot version 3.1.2. Below is my spring security configuration. Http method GET, POST, PUT is working fine but DELETE is not working with message 403 Forbidden. Do I need to add any special configuration to allow HTTP DELETE in spring security config.\r\n\r\n**WebSecurityConfig:**\r\n```\r\n@Configuration\r\n@EnableWebSecurity // 1\r\npublic class WebSecurityConfig {\r\n\r\n\t@Bean\r\n\tPasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t@Bean\r\n\tSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeRequests((authorizeRequests) -&gt; authorizeRequests.requestMatchers(&quot;/**&quot;).hasAnyAuthority(&quot;USER&quot;))\r\n\t\t\t\t.httpBasic(withDefaults());\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tWebSecurityCustomizer ignoringCustomizer() {\r\n\t\treturn (web) -&gt;          web.ignoring().requestMatchers(HttpMethod.GET).requestMatchers(&quot;/user&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n**UserService code:**\r\n```\r\n@Service\r\npublic class UserServiceSecurity implements UserDetailsService {\r\n\t@Autowired\r\n\tUserRepoSecurity userRepo;\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\t\tfinal UserPojo user = userRepo.findByUserName(username);\r\n\t\tif (user == null) {\r\n\t\t\tthrow new UsernameNotFoundException(username);\r\n\t\t}\r\n\t\tUserDetails userr = User.withUsername(user.getUserName()).password(user.getPassword()).authorities(&quot;USER&quot;)\r\n\t\t\t\t.build();\r\n\t\treturn userr;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Controller:**\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/products&quot;)\r\npublic class ProductController {\r\n\t@Autowired\r\n\tProductService productService;\r\n\r\n\t@GetMapping(&quot;/{id}&quot;)\r\n\tpublic ProductPojo getById(@PathVariable Long id) {\r\n\t\treturn productService.getByID(id);\r\n\t}\r\n\r\n\t@GetMapping\r\n\tpublic Iterable&lt;ProductPojo&gt; getAll() {\r\n\t\treturn productService.getAll();\r\n\t}\r\n\r\n\t@PostMapping\r\n\tpublic ProductPojo createProduct(@RequestBody ProductPojo product) {\r\n\t\treturn productService.createProduct(product);\r\n\t}\r\n\r\n\t@PutMapping\r\n\tpublic ProductPojo update(@RequestBody ProductPojo product) {\r\n\t\treturn productService.update(product);\r\n\r\n\t}\r\n\r\n\t@DeleteMapping(&quot;/{id}&quot;)\r\n\tpublic String remove(@PathVariable Long id) {\r\n\t\tproductService.remove(id);\r\n\t\treturn &quot;Record delete successfully&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n**Below is error on postman:**\r\n\r\n[Error at postman when I hit HTTP DELETE](https://i.stack.imgur.com/QtjCt.png)\r\n\r\n\r\nWhen I try to hit HTTP DELETE using postman, it gives 403 Forbidden.\r\nURL for HTTP DELETE: http://localhost:8080/products/1","title":"How to allow http delete endpoint in spring security version 6.x and spring boot 3.x","body":"<p>I am using spring security version 6.1.2 and spring boot version 3.1.2. Below is my spring security configuration. Http method GET, POST, PUT is working fine but DELETE is not working with message 403 Forbidden. Do I need to add any special configuration to allow HTTP DELETE in spring security config.</p>\n<p><strong>WebSecurityConfig:</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity // 1\npublic class WebSecurityConfig {\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests((authorizeRequests) -&gt; authorizeRequests.requestMatchers(&quot;/**&quot;).hasAnyAuthority(&quot;USER&quot;))\n                .httpBasic(withDefaults());\n        return http.build();\n    }\n\n    @Bean\n    WebSecurityCustomizer ignoringCustomizer() {\n        return (web) -&gt;          web.ignoring().requestMatchers(HttpMethod.GET).requestMatchers(&quot;/user&quot;);\n    }\n}\n</code></pre>\n<p><strong>UserService code:</strong></p>\n<pre><code>@Service\npublic class UserServiceSecurity implements UserDetailsService {\n    @Autowired\n    UserRepoSecurity userRepo;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        final UserPojo user = userRepo.findByUserName(username);\n        if (user == null) {\n            throw new UsernameNotFoundException(username);\n        }\n        UserDetails userr = User.withUsername(user.getUserName()).password(user.getPassword()).authorities(&quot;USER&quot;)\n                .build();\n        return userr;\n    }\n\n}\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/products&quot;)\npublic class ProductController {\n    @Autowired\n    ProductService productService;\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ProductPojo getById(@PathVariable Long id) {\n        return productService.getByID(id);\n    }\n\n    @GetMapping\n    public Iterable&lt;ProductPojo&gt; getAll() {\n        return productService.getAll();\n    }\n\n    @PostMapping\n    public ProductPojo createProduct(@RequestBody ProductPojo product) {\n        return productService.createProduct(product);\n    }\n\n    @PutMapping\n    public ProductPojo update(@RequestBody ProductPojo product) {\n        return productService.update(product);\n\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public String remove(@PathVariable Long id) {\n        productService.remove(id);\n        return &quot;Record delete successfully&quot;;\n    }\n}\n</code></pre>\n<p><strong>Below is error on postman:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/QtjCt.png\" rel=\"nofollow noreferrer\">Error at postman when I hit HTTP DELETE</a></p>\n<p>When I try to hit HTTP DELETE using postman, it gives 403 Forbidden.\nURL for HTTP DELETE: http://localhost:8080/products/1</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693833734,"post_id":77035650,"comment_id":135808513,"body_markdown":"Your code is not making use of `direction` at all.  Use it to check the tile next to the tile at `map[row][col]`.  Also you should use enums for your map values and direction values.","body":"Your code is not making use of <code>direction</code> at all.  Use it to check the tile next to the tile at <code>map[row][col]</code>.  Also you should use enums for your map values and direction values."}],"owner":{"account_id":29360590,"reputation":11,"user_id":22495401,"display_name":"user22495401"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693810539,"creation_date":1693810539,"question_id":77035650,"body_markdown":"I am building a pac-man game in plain java(no external library) and my map is like the the original pacman game as in the screenshot attached[enter image description here](https://i.stack.imgur.com/sQLAF.png)\r\n(the squares are made in power-point) and i succeeded to manage that pacman should not to collide with the walls arond the board game but in all the walls in the middle of the board i can&#39;t figure out the algorithm that it should only move until the wall exactly (everything i tried makes pacman overlap the wall a bit)\r\nthe tiles are created from a 2D array of integers an based on the number the program knows what tile to put there the numbers that represent tiles that pacman is aloud to go are 1, 3, 4.\r\nI have one function that returns a boolean if pacman can move there, it exepts a x and y and the x and y represent the current position + 4 / - 4 (the speed) depends an what key the the player pressed.\r\nher is the punction:\r\n```\r\n//31 is the amount of rows and 28 is the amount of colums\r\n    public static boolean canMove(int x, int y, String direction){\r\n        int speed = 4;\r\n        int tileSize = 16;\r\n        int minX = (tileSize / 2 / 2);\r\n        int maxX = (tileSize * 28) - (tileSize * 2 - (tileSize / 2 / 2));\r\n        int minY = (tileSize / 2 / 2);\r\n        int maxY = tileSize * 31 - (tileSize * 2 - (tileSize / 2 /2));\r\n        int row = (y / tileSize);\r\n        int col = (x / tileSize);\r\n        boolean isInRange = x + (tileSize * 2) &lt;= tileSize * 28 - (x + (tileSize * 2));\r\n\r\n        if((x &lt;= minX || x &gt;= maxX) || (y &lt;= minY || y &gt;= maxY)){\r\n            return false;\r\n        }\r\n        if(map[row][col] == 1 || map[row][col] == 3  || map[row][col] == 4 ){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n```\r\nany help will be realy appreciated\r\nThank you\r\n\r\n\r\nalready written in the question","title":"direct an object in a 2D game not to collide with obstacles, walls, etc. in java","body":"<p>I am building a pac-man game in plain java(no external library) and my map is like the the original pacman game as in the screenshot attached<a href=\"https://i.stack.imgur.com/sQLAF.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n(the squares are made in power-point) and i succeeded to manage that pacman should not to collide with the walls arond the board game but in all the walls in the middle of the board i can't figure out the algorithm that it should only move until the wall exactly (everything i tried makes pacman overlap the wall a bit)\nthe tiles are created from a 2D array of integers an based on the number the program knows what tile to put there the numbers that represent tiles that pacman is aloud to go are 1, 3, 4.\nI have one function that returns a boolean if pacman can move there, it exepts a x and y and the x and y represent the current position + 4 / - 4 (the speed) depends an what key the the player pressed.\nher is the punction:</p>\n<pre><code>//31 is the amount of rows and 28 is the amount of colums\n    public static boolean canMove(int x, int y, String direction){\n        int speed = 4;\n        int tileSize = 16;\n        int minX = (tileSize / 2 / 2);\n        int maxX = (tileSize * 28) - (tileSize * 2 - (tileSize / 2 / 2));\n        int minY = (tileSize / 2 / 2);\n        int maxY = tileSize * 31 - (tileSize * 2 - (tileSize / 2 /2));\n        int row = (y / tileSize);\n        int col = (x / tileSize);\n        boolean isInRange = x + (tileSize * 2) &lt;= tileSize * 28 - (x + (tileSize * 2));\n\n        if((x &lt;= minX || x &gt;= maxX) || (y &lt;= minY || y &gt;= maxY)){\n            return false;\n        }\n        if(map[row][col] == 1 || map[row][col] == 3  || map[row][col] == 4 ){\n            return true;\n        }\n        return false;\n    }\n</code></pre>\n<p>any help will be realy appreciated\nThank you</p>\n<p>already written in the question</p>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":6068657,"reputation":6044,"user_id":4738175,"accept_rate":56,"display_name":"OBX"},"score":0,"creation_date":1485185553,"post_id":41809938,"comment_id":70807802,"body_markdown":"post the entire adapter code","body":"post the entire adapter code"},{"owner":{"account_id":10091553,"reputation":75,"user_id":7458385,"accept_rate":50,"display_name":"Fauzia Nito"},"score":0,"creation_date":1485185784,"post_id":41809938,"comment_id":70807964,"body_markdown":"i have edited my code @Superman","body":"i have edited my code @Superman"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1485185815,"creation_date":1485185815,"answer_id":41810055,"question_id":41809938,"body_markdown":"The `Context` that you pass into the `CurrencySelectorAdapter` constructor should be the `Activity` that hosts this `RecyclerView`. Then, you will not get this error.\r\n","title":"Calling startActivity() from outside of an Activity context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?","body":"<p>The <code>Context</code> that you pass into the <code>CurrencySelectorAdapter</code> constructor should be the <code>Activity</code> that hosts this <code>RecyclerView</code>. Then, you will not get this error.</p>\n"},{"tags":[],"owner":{"account_id":4247252,"reputation":832,"user_id":3475551,"accept_rate":100,"display_name":"Eaweb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1507765991,"creation_date":1507765991,"answer_id":46699266,"question_id":41809938,"body_markdown":"Replacing `getApplicationContext()` with `this` helped in my case.\r\n\r\nfor example I had:\r\n\r\n    adapter= new CustomAdapter(dataModels,getApplicationContext());\r\n\r\nin my activity file before changing it to:\r\n\r\n    adapter= new CustomAdapter(dataModels,this);\r\n\r\nand that fixed the error.","title":"Calling startActivity() from outside of an Activity context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?","body":"<p>Replacing <code>getApplicationContext()</code> with <code>this</code> helped in my case.</p>\n\n<p>for example I had:</p>\n\n<pre><code>adapter= new CustomAdapter(dataModels,getApplicationContext());\n</code></pre>\n\n<p>in my activity file before changing it to:</p>\n\n<pre><code>adapter= new CustomAdapter(dataModels,this);\n</code></pre>\n\n<p>and that fixed the error.</p>\n"},{"tags":[],"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693810001,"creation_date":1619950152,"answer_id":67355122,"question_id":41809938,"body_markdown":"Another reason on getting such issue like this is when using `rootView` context\r\n\r\nExample \r\n\r\n    val view = window.decorView.rootView\r\n    \r\n\r\n    view.context.startActivity(intent)\r\n\r\nYou should instead using the parent view from XML layout than relying on `rootview` to avoid such behavior which usually happens with Samsung devices.","title":"Calling startActivity() from outside of an Activity context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?","body":"<p>Another reason on getting such issue like this is when using <code>rootView</code> context</p>\n<p>Example</p>\n<pre><code>val view = window.decorView.rootView\n\n\nview.context.startActivity(intent)\n</code></pre>\n<p>You should instead using the parent view from XML layout than relying on <code>rootview</code> to avoid such behavior which usually happens with Samsung devices.</p>\n"}],"owner":{"account_id":10091553,"reputation":75,"user_id":7458385,"accept_rate":50,"display_name":"Fauzia Nito"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13876,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":41810055,"answer_count":3,"score":4,"last_activity_date":1693810001,"creation_date":1485185478,"question_id":41809938,"body_markdown":"Am new in android,  trying to go to the next Activity through an Adapter, and i am using `onBindViewHolder()` with an `Intent` , below is the code :\r\n\r\n\r\n    @Override\r\n        public void onBindViewHolder(CurrencyViewHolder holder, int position) {\r\n    \r\n    \r\n    \r\n            final  BureauRateObject br = itemList.get(position);\r\n            holder.bureauname.setText(br.getBureau_name());\r\n            holder.rates.setText(br.getBuysell());\r\n    \r\n            final String BureauId = br.getBureau_id();\r\n            final String BureauName = br.getBureau_name();\r\n    \r\n    \r\n    \r\n    \r\n            holder.root.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                   Intent i = new Intent(context, SingleForexActivity.class);\r\n                   // i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                    i.putExtra(&quot;bureau_id&quot;, BureauId);\r\n                    i.putExtra(&quot;bureau_name&quot;,BureauName);\r\n                    context.startActivity(i);\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n        }\r\n\r\n\r\nand this is the error which comes :\r\n\r\n    android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?\r\n                          at android.app.ContextImpl.startActivity(ContextImpl.java:677)\r\n                          at android.app.ContextImpl.startActivity(ContextImpl.java:664)\r\n                          at android.content.ContextWrapper.startActivity(ContextWrapper.java:331)\r\n                          at Adapters.CurrencySelectorAdapter$1.onClick(CurrencySelectorAdapter.java:64)\r\n                          at android.view.View.performClick(View.java:5265)\r\n                          at android.view.View$PerformClick.run(View.java:21534)\r\n                          at android.os.Handler.handleCallback(Handler.java:815)\r\n                          at android.os.Handler.dispatchMessage(Handler.java:104)\r\n                          at android.os.Looper.loop(Looper.java:207)\r\n                          at android.app.ActivityThread.main(ActivityThread.java:5728)\r\n                          at java.lang.reflect.Method.invoke(Native Method)\r\n                          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:789)\r\n                          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:679)\r\n\r\n\r\nI tried out this solution , but the Next Activity doesn&#39;t goes back to the previous Activity.\r\n\r\n**My solution :(But didn&#39;t work)**\r\n\r\n`i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);`\r\n\r\n***Below is the entire Adapter code:***\r\n\r\n\r\n        package Adapters;\r\n    \r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Toast;\r\n    \r\n    import com.example.naavanito.eamobileforex2.R;\r\n    import com.example.naavanito.eamobileforex2.SingleForexActivity;\r\n    \r\n    import java.util.Currency;\r\n    import java.util.List;\r\n    \r\n    import Holders.CurrencyViewHolder;\r\n    import model.BureauRateObject;\r\n    \r\n    /**\r\n     * Created by Admin on 1/21/2017.\r\n     */\r\n    \r\n    public class CurrencySelectorAdapter extends RecyclerView.Adapter&lt;CurrencyViewHolder&gt; {\r\n    \r\n        private List&lt;BureauRateObject&gt; itemList;\r\n        private Context context;\r\n    \r\n        public CurrencySelectorAdapter(List&lt;BureauRateObject&gt; itemList, Context context) {\r\n            this.itemList = itemList;\r\n            this.context = context;\r\n        }\r\n    \r\n        @Override\r\n        public CurrencyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View layoutview = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_currency_rate,parent,false);\r\n            CurrencyViewHolder rcv = new CurrencyViewHolder(layoutview,context);\r\n            return rcv;\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(CurrencyViewHolder holder, int position) {\r\n    \r\n    \r\n    \r\n            final  BureauRateObject br = itemList.get(position);\r\n            holder.bureauname.setText(br.getBureau_name());\r\n            holder.rates.setText(br.getBuysell());\r\n    \r\n            final String BureauId = br.getBureau_id();\r\n            final String BureauName = br.getBureau_name();\r\n    \r\n    \r\n    \r\n    \r\n            holder.root.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                   Intent i = new Intent(context, SingleForexActivity.class);\r\n                   // i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                    i.putExtra(&quot;bureau_id&quot;, BureauId);\r\n                    i.putExtra(&quot;bureau_name&quot;,BureauName);\r\n                    context.startActivity(i);\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return itemList.size();\r\n        }\r\n    }\r\n\r\n","title":"Calling startActivity() from outside of an Activity context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?","body":"<p>Am new in android,  trying to go to the next Activity through an Adapter, and i am using <code>onBindViewHolder()</code> with an <code>Intent</code> , below is the code :</p>\n\n<pre><code>@Override\n    public void onBindViewHolder(CurrencyViewHolder holder, int position) {\n\n\n\n        final  BureauRateObject br = itemList.get(position);\n        holder.bureauname.setText(br.getBureau_name());\n        holder.rates.setText(br.getBuysell());\n\n        final String BureauId = br.getBureau_id();\n        final String BureauName = br.getBureau_name();\n\n\n\n\n        holder.root.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n               Intent i = new Intent(context, SingleForexActivity.class);\n               // i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                i.putExtra(\"bureau_id\", BureauId);\n                i.putExtra(\"bureau_name\",BureauName);\n                context.startActivity(i);\n\n            }\n        });\n\n\n\n    }\n</code></pre>\n\n<p>and this is the error which comes :</p>\n\n<pre><code>android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?\n                      at android.app.ContextImpl.startActivity(ContextImpl.java:677)\n                      at android.app.ContextImpl.startActivity(ContextImpl.java:664)\n                      at android.content.ContextWrapper.startActivity(ContextWrapper.java:331)\n                      at Adapters.CurrencySelectorAdapter$1.onClick(CurrencySelectorAdapter.java:64)\n                      at android.view.View.performClick(View.java:5265)\n                      at android.view.View$PerformClick.run(View.java:21534)\n                      at android.os.Handler.handleCallback(Handler.java:815)\n                      at android.os.Handler.dispatchMessage(Handler.java:104)\n                      at android.os.Looper.loop(Looper.java:207)\n                      at android.app.ActivityThread.main(ActivityThread.java:5728)\n                      at java.lang.reflect.Method.invoke(Native Method)\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:789)\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:679)\n</code></pre>\n\n<p>I tried out this solution , but the Next Activity doesn't goes back to the previous Activity.</p>\n\n<p><strong>My solution :(But didn't work)</strong></p>\n\n<p><code>i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</code></p>\n\n<p><strong><em>Below is the entire Adapter code:</em></strong></p>\n\n<pre><code>    package Adapters;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Toast;\n\nimport com.example.naavanito.eamobileforex2.R;\nimport com.example.naavanito.eamobileforex2.SingleForexActivity;\n\nimport java.util.Currency;\nimport java.util.List;\n\nimport Holders.CurrencyViewHolder;\nimport model.BureauRateObject;\n\n/**\n * Created by Admin on 1/21/2017.\n */\n\npublic class CurrencySelectorAdapter extends RecyclerView.Adapter&lt;CurrencyViewHolder&gt; {\n\n    private List&lt;BureauRateObject&gt; itemList;\n    private Context context;\n\n    public CurrencySelectorAdapter(List&lt;BureauRateObject&gt; itemList, Context context) {\n        this.itemList = itemList;\n        this.context = context;\n    }\n\n    @Override\n    public CurrencyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View layoutview = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_currency_rate,parent,false);\n        CurrencyViewHolder rcv = new CurrencyViewHolder(layoutview,context);\n        return rcv;\n    }\n\n    @Override\n    public void onBindViewHolder(CurrencyViewHolder holder, int position) {\n\n\n\n        final  BureauRateObject br = itemList.get(position);\n        holder.bureauname.setText(br.getBureau_name());\n        holder.rates.setText(br.getBuysell());\n\n        final String BureauId = br.getBureau_id();\n        final String BureauName = br.getBureau_name();\n\n\n\n\n        holder.root.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n               Intent i = new Intent(context, SingleForexActivity.class);\n               // i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                i.putExtra(\"bureau_id\", BureauId);\n                i.putExtra(\"bureau_name\",BureauName);\n                context.startActivity(i);\n\n            }\n        });\n\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return itemList.size();\n    }\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":3,"creation_date":1693765206,"post_id":77033646,"comment_id":135800611,"body_markdown":"Don&#39;t mess with this. Java requires that `public class Foo` is defined in `Foo.java`. Don&#39;t try to get around that unless you have a very good reason and know what you are doing.","body":"Don&#39;t mess with this. Java requires that <code>public class Foo</code> is defined in <code>Foo.java</code>. Don&#39;t try to get around that unless you have a very good reason and know what you are doing."},{"owner":{"account_id":26548460,"reputation":3,"user_id":20178186,"display_name":"Sunny Soren"},"score":0,"creation_date":1693765709,"post_id":77033646,"comment_id":135800666,"body_markdown":"@Robert I know that&#39;s why I defined my class without `public` so that i can use different class name and filename.","body":"@Robert I know that&#39;s why I defined my class without <code>public</code> so that i can use different class name and filename."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":3,"creation_date":1693765843,"post_id":77033646,"comment_id":135800681,"body_markdown":"Don&#39;t work against the framework. Why do you want to have different names in the first place? You&#39;re making it hard for yourself and everyone using your code. This sounds a lot like an [xy problem](https://xyproblem.info/). Why are you trying to do this?","body":"Don&#39;t work against the framework. Why do you want to have different names in the first place? You&#39;re making it hard for yourself and everyone using your code. This sounds a lot like an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xy problem</a>. Why are you trying to do this?"},{"owner":{"account_id":26548460,"reputation":3,"user_id":20178186,"display_name":"Sunny Soren"},"score":0,"creation_date":1693766621,"post_id":77033646,"comment_id":135800749,"body_markdown":"@Robert Well one of reasons was that I couldn&#39;t use some names both for file and class and gave errors like &#39;Invalid Modifiers&#39; and &#39;Syntax error&#39; etc..","body":"@Robert Well one of reasons was that I couldn&#39;t use some names both for file and class and gave errors like &#39;Invalid Modifiers&#39; and &#39;Syntax error&#39; etc.."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1693766731,"post_id":77033646,"comment_id":135800761,"body_markdown":"Can you [edit] your question and give an example of a class that causes the &quot;invalid modifiers&quot; error?","body":"Can you <a href=\"https://stackoverflow.com/posts/77033646/edit\">edit</a> your question and give an example of a class that causes the &quot;invalid modifiers&quot; error?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1693767601,"post_id":77033646,"comment_id":135800885,"body_markdown":"`reverse-string` is not a valid class name. This has nothing to do with VS Code. It just enforces the rules that Java defines. I recommend that you read about valid names in Java to understand this better.","body":"<code>reverse-string</code> is not a valid class name. This has nothing to do with VS Code. It just enforces the rules that Java defines. I recommend that you read about valid names in Java to understand this better."},{"owner":{"account_id":26548460,"reputation":3,"user_id":20178186,"display_name":"Sunny Soren"},"score":0,"creation_date":1693768059,"post_id":77033646,"comment_id":135800938,"body_markdown":"@Code-Apprentice Yes I know but it is a valid filename and that&#39;s why I was using different names for filename and class name without using `public` . I just wanted to know if there&#39;s a way to run code that has class name different from filename .","body":"@Code-Apprentice Yes I know but it is a valid filename and that&#39;s why I was using different names for filename and class name without using <code>public</code> . I just wanted to know if there&#39;s a way to run code that has class name different from filename ."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1693768220,"post_id":77033646,"comment_id":135800951,"body_markdown":"@SunnySoren No, you must keep the class name and file name the same. This is a rule from Java and VS Code is just helping you follow the rules.","body":"@SunnySoren No, you must keep the class name and file name the same. This is a rule from Java and VS Code is just helping you follow the rules."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1693768432,"post_id":77033646,"comment_id":135800968,"body_markdown":"@SunnySoren I recommend trying to compile and run your code from the command line without VS Code. You will still encounter errors if you try to make the class name and file name different. This shows that the problem is your code not following the rules defined by Java rather than a problem with VS Code.","body":"@SunnySoren I recommend trying to compile and run your code from the command line without VS Code. You will still encounter errors if you try to make the class name and file name different. This shows that the problem is your code not following the rules defined by Java rather than a problem with VS Code."},{"owner":{"account_id":26548460,"reputation":3,"user_id":20178186,"display_name":"Sunny Soren"},"score":1,"creation_date":1693768992,"post_id":77033646,"comment_id":135801030,"body_markdown":"@Code-Apprentice I see. I was just wondering as compiling and running can be done separately in cmd maybe there is a way in vscode(without manually entering command in terminal) . I see that using different names for class name and filename is just bad practice and that&#39;s what vscode is trying to tell.","body":"@Code-Apprentice I see. I was just wondering as compiling and running can be done separately in cmd maybe there is a way in vscode(without manually entering command in terminal) . I see that using different names for class name and filename is just bad practice and that&#39;s what vscode is trying to tell."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1693769108,"post_id":77033646,"comment_id":135801050,"body_markdown":"As I said, try it from the command line. If you can&#39;t do what you want there, then VS Code can&#39;t do it, either.","body":"As I said, try it from the command line. If you can&#39;t do what you want there, then VS Code can&#39;t do it, either."},{"owner":{"account_id":26548460,"reputation":3,"user_id":20178186,"display_name":"Sunny Soren"},"score":0,"creation_date":1693770060,"post_id":77033646,"comment_id":135801174,"body_markdown":"@Code-Apprentice Yeah I asked a question here because it worked in cmd and also in vscode(just had to rewrite command in vscode terminal)","body":"@Code-Apprentice Yeah I asked a question here because it worked in cmd and also in vscode(just had to rewrite command in vscode terminal)"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1693804407,"post_id":77033646,"comment_id":135803602,"body_markdown":"Note that ChatGPT is not the same as &quot;searched the internet&quot;. Please do not confuse the two. ChatGPT is a great tool when used properly, but it has the tendency to be flat out wrong at times. Use it with a critical eye.","body":"Note that ChatGPT is not the same as &quot;searched the internet&quot;. Please do not confuse the two. ChatGPT is a great tool when used properly, but it has the tendency to be flat out wrong at times. Use it with a critical eye."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1693804574,"post_id":77033646,"comment_id":135803625,"body_markdown":"Also, when I create a file named `reverse-string.java` with a public class named `RverseString`, I get an error. What OS and version of Java did you use?  I&#39;m on macos... not sure which Java version.","body":"Also, when I create a file named <code>reverse-string.java</code> with a public class named <code>RverseString</code>, I get an error. What OS and version of Java did you use?  I&#39;m on macos... not sure which Java version."}],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693768596,"creation_date":1693767864,"answer_id":77033801,"question_id":77033646,"body_markdown":"Java requires that the .java file name matches the name of the public class defined in that file. VS Code is simply helping you follow this rule. You shouldn&#39;t try to get around it.\r\n\r\nThe real problem here is that `reverse-string` is not a valid class name because `-` is not allowed in any identifier in Java. Instead, you should name the class `ReverseString` and the file as `ReverseString.java`. While the capital first letter is not strictly required by Java, it is a common convention to differentiate class names easily from other names, such as methods and variables.\r\n\r\nAlternatively, Java won&#39;t allow you to name the file `reverse-string.java` with a class named `ReverseString`. I recommend using the command line directly with something like `javac reverse-string.java` to try it. Even if this works, running `java ReverseString` won&#39;t work.","title":"How do I edit the command to compile and run java file in vscode terminal?","body":"<p>Java requires that the .java file name matches the name of the public class defined in that file. VS Code is simply helping you follow this rule. You shouldn't try to get around it.</p>\n<p>The real problem here is that <code>reverse-string</code> is not a valid class name because <code>-</code> is not allowed in any identifier in Java. Instead, you should name the class <code>ReverseString</code> and the file as <code>ReverseString.java</code>. While the capital first letter is not strictly required by Java, it is a common convention to differentiate class names easily from other names, such as methods and variables.</p>\n<p>Alternatively, Java won't allow you to name the file <code>reverse-string.java</code> with a class named <code>ReverseString</code>. I recommend using the command line directly with something like <code>javac reverse-string.java</code> to try it. Even if this works, running <code>java ReverseString</code> won't work.</p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693809832,"creation_date":1693809832,"answer_id":77035578,"question_id":77033646,"body_markdown":"You should be using **Code Runner** to run the script. Add this setting\r\n\r\n```json\r\n    &quot;code-runner.customCommand&quot;: &quot;cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileName&quot;,\r\n```\r\n\r\nThen select `RUn Custom Command` in the command panel or use the shortcut key &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;K&lt;/kbd&gt; to execute the script using the command you defined.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOr you can also modify the execution command of the java language in the `code-runner.executorMap` setting:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y6ScO.png\r\n  [2]: https://i.stack.imgur.com/Ma2xn.png","title":"How do I edit the command to compile and run java file in vscode terminal?","body":"<p>You should be using <strong>Code Runner</strong> to run the script. Add this setting</p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;code-runner.customCommand&quot;: &quot;cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileName&quot;,\n</code></pre>\n<p>Then select <code>RUn Custom Command</code> in the command panel or use the shortcut key <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>K</kbd> to execute the script using the command you defined.</p>\n<p><a href=\"https://i.stack.imgur.com/Y6ScO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y6ScO.png\" alt=\"enter image description here\" /></a></p>\n<p>Or you can also modify the execution command of the java language in the <code>code-runner.executorMap</code> setting:</p>\n<p><a href=\"https://i.stack.imgur.com/Ma2xn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ma2xn.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26548460,"reputation":3,"user_id":20178186,"display_name":"Sunny Soren"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77035578,"answer_count":2,"score":0,"last_activity_date":1693809832,"creation_date":1693765123,"question_id":77033646,"body_markdown":"Whenever I run a java program, both class name and filename have to be same, because the command to compile and run java in vscode terminal is:\r\n\r\n```\r\ncd &quot;c:\\Users\\user\\Desktop\\Java\\&quot; ; if ($?) { javac MyProgram.java } ; if ($?) { java MyProgram }\r\n```\r\n\r\nand when my class name is different from filename I have to edit the command to `...; if ($?) { java ActualClassname }` in terminal every time I run the code.\r\n\r\nSo how do I change this command for running and compiling java program in vscode?\r\n\r\nI just have to change it a little bit from:\r\n```\r\ncd &quot;c:\\Users\\user\\Desktop\\Java\\&quot; ; if ($?) { javac MyProgram.java } ; if ($?) { java MyProgram }\r\n```\r\nto:\r\n```\r\ncd &quot;c:\\Users\\user\\Desktop\\Java\\&quot; ; if ($?) { javac MyProgram.java } ; if ($?) { java MyProgram.java }\r\n```\r\nAdding `.java` in the end seems to solve my problem whenever I have different class name from filename.\r\n\r\nReason for asking this is some names for class were giving me errors\r\nfor example:\r\n```\r\n//reverse-string.java\r\nimport java.util.Scanner;\r\npublic class reverse-string //error:&quot;invalid modifiers&quot;\r\n{\r\n    public static void main(String[] args) {\r\n        String str, rev=&quot;&quot;;\r\n        char ch;\r\n        Scanner in=new Scanner(System.in);\r\n        System.out.println(&quot;Enter a String:&quot;);\r\n        str = in.next();\r\n        System.out.println(&quot;String = &quot;+str);\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            ch = str.charAt(i);\r\n            rev = ch + rev;\r\n        }\r\n        System.out.println(&quot;Reverse String = &quot;+rev);\r\n        in.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\nSo I used different names for class and file that&#39;s why had to remove `public` from class:\r\n```\r\n//reverse-string.java\r\nimport java.util.Scanner;\r\nclass ReverseString\r\n{\r\n    public static void main(String[] args) {\r\n        String str, rev=&quot;&quot;;\r\n        char ch;\r\n        Scanner in=new Scanner(System.in);\r\n        System.out.println(&quot;Enter a String:&quot;);\r\n        str = in.next();\r\n        System.out.println(&quot;String = &quot;+str);\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            ch = str.charAt(i);\r\n            rev = ch + rev;\r\n        }\r\n        System.out.println(&quot;Reverse String = &quot;+rev);\r\n        in.close();\r\n    }\r\n}\r\n```\r\nand that worked both in vscode and command line using `javac reverse-string.java` and `java ReverseString`\r\n\r\nAfter searching in the internet (chatgpt) I found out that changing the `task.json` in `.vscode` directory would change the command that is required to run the program. But I don&#39;t know how do I change and even how do I open this `task.json` only for Java? It is very confusing.","title":"How do I edit the command to compile and run java file in vscode terminal?","body":"<p>Whenever I run a java program, both class name and filename have to be same, because the command to compile and run java in vscode terminal is:</p>\n<pre><code>cd &quot;c:\\Users\\user\\Desktop\\Java\\&quot; ; if ($?) { javac MyProgram.java } ; if ($?) { java MyProgram }\n</code></pre>\n<p>and when my class name is different from filename I have to edit the command to <code>...; if ($?) { java ActualClassname }</code> in terminal every time I run the code.</p>\n<p>So how do I change this command for running and compiling java program in vscode?</p>\n<p>I just have to change it a little bit from:</p>\n<pre><code>cd &quot;c:\\Users\\user\\Desktop\\Java\\&quot; ; if ($?) { javac MyProgram.java } ; if ($?) { java MyProgram }\n</code></pre>\n<p>to:</p>\n<pre><code>cd &quot;c:\\Users\\user\\Desktop\\Java\\&quot; ; if ($?) { javac MyProgram.java } ; if ($?) { java MyProgram.java }\n</code></pre>\n<p>Adding <code>.java</code> in the end seems to solve my problem whenever I have different class name from filename.</p>\n<p>Reason for asking this is some names for class were giving me errors\nfor example:</p>\n<pre><code>//reverse-string.java\nimport java.util.Scanner;\npublic class reverse-string //error:&quot;invalid modifiers&quot;\n{\n    public static void main(String[] args) {\n        String str, rev=&quot;&quot;;\n        char ch;\n        Scanner in=new Scanner(System.in);\n        System.out.println(&quot;Enter a String:&quot;);\n        str = in.next();\n        System.out.println(&quot;String = &quot;+str);\n        for (int i = 0; i &lt; str.length(); i++) {\n            ch = str.charAt(i);\n            rev = ch + rev;\n        }\n        System.out.println(&quot;Reverse String = &quot;+rev);\n        in.close();\n    }\n}\n\n</code></pre>\n<p>So I used different names for class and file that's why had to remove <code>public</code> from class:</p>\n<pre><code>//reverse-string.java\nimport java.util.Scanner;\nclass ReverseString\n{\n    public static void main(String[] args) {\n        String str, rev=&quot;&quot;;\n        char ch;\n        Scanner in=new Scanner(System.in);\n        System.out.println(&quot;Enter a String:&quot;);\n        str = in.next();\n        System.out.println(&quot;String = &quot;+str);\n        for (int i = 0; i &lt; str.length(); i++) {\n            ch = str.charAt(i);\n            rev = ch + rev;\n        }\n        System.out.println(&quot;Reverse String = &quot;+rev);\n        in.close();\n    }\n}\n</code></pre>\n<p>and that worked both in vscode and command line using <code>javac reverse-string.java</code> and <code>java ReverseString</code></p>\n<p>After searching in the internet (chatgpt) I found out that changing the <code>task.json</code> in <code>.vscode</code> directory would change the command that is required to run the program. But I don't know how do I change and even how do I open this <code>task.json</code> only for Java? It is very confusing.</p>\n"},{"tags":["java","selenium","xpath"],"comments":[{"owner":{"account_id":10230959,"reputation":3676,"user_id":7551712,"display_name":"Jortega"},"score":0,"creation_date":1581291348,"post_id":60135408,"comment_id":106371796,"body_markdown":"please remember to mark the answer that helps you solve your issue.  See https://stackoverflow.com/help/someone-answers","body":"please remember to mark the answer that helps you solve your issue.  See <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}],"answers":[{"tags":[],"owner":{"account_id":17722424,"reputation":9,"user_id":12867130,"display_name":"nikil reddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693808311,"creation_date":1581251854,"answer_id":60136696,"question_id":60135408,"body_markdown":"Try using Java script executor\r\n\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n    executor.executeScript(&quot;document.getElementById(&#39;bubble_rating&#39;).ui_bubble_rating fl bubble_05 bubble_50&quot;);\r\n\r\nthis would work, please kindly let me know ","title":"Unable to find the xpath of star using selenium &amp; java","body":"<p>Try using Java script executor</p>\n<pre><code>JavascriptExecutor executor = (JavascriptExecutor)driver;\nexecutor.executeScript(&quot;document.getElementById('bubble_rating').ui_bubble_rating fl bubble_05 bubble_50&quot;);\n</code></pre>\n<p>this would work, please kindly let me know</p>\n"},{"tags":[],"owner":{"account_id":15800350,"reputation":24,"user_id":11401040,"display_name":"Sandeep Koparde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650500474,"creation_date":1581257415,"answer_id":60137480,"question_id":60135408,"body_markdown":"Try this:\r\n\r\n```java\r\nimport java.time.Duration;\r\nimport java.util.List;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.Dimension;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.interactions.Actions;\r\n\r\npublic class TripAdvisor \r\n{\r\n\tpublic static void main(String[] args) \r\n    {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\selenium\\\\Drivers\\\\chromedriver.exe&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n        String baseUrl = &quot;https://www.tripadvisor.in/&quot;\r\n        \t\t\t\t+ &quot;UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html&quot;;\r\n        driver.get(baseUrl);\r\n        \r\n        // Capture the webElement and its width\r\n        WebElement target = driver.findElement(By.xpath(&quot;//img[@alt=&#39;Roll over, then click to rate&#39;]/..&quot;));\r\n        Dimension dimension = target.getSize();\r\n        int  width= dimension.getWidth();\r\n        \r\n        // Initialize the list of 5 star rating with no elements\r\n        List&lt;WebElement&gt; rating5star= driver.findElements(By.xpath(&quot;//span[@class=&#39;ui_bubble_rating fl bubble_50&#39;]&quot;));\r\n        \r\n        \r\n        // When using the W3C Action commands, offsets are from the center of element\r\n        // This is in contradiction to the information provided in Selenium java docs\r\n        // https://selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html#moveToElement-org.openqa.selenium.WebElement-int-int-\r\n        // Hence the movement should be from -(width/2) to (width/2)\r\n        \r\n        Actions action = new Actions(driver);\r\n        int x = (0 - width/2);\r\n        while(rating5star.size()==0 &amp; x&lt;=(width/2))\r\n        {\r\n        \taction.moveToElement(target, x, 0).click().pause(Duration.ofSeconds(1)).perform();\r\n        \trating5star= driver.findElements(By.xpath(&quot;//span[@class=&#39;ui_bubble_rating fl bubble_50&#39;]&quot;));\r\n        \tSystem.out.println(rating5star.size());\r\n        \tx=x+10;\r\n        }\r\n\t}\r\n}\r\n```","title":"Unable to find the xpath of star using selenium &amp; java","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.Duration;\nimport java.util.List;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.Dimension;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.interactions.Actions;\n\npublic class TripAdvisor \n{\n    public static void main(String[] args) \n    {\n        // TODO Auto-generated method stub\n        \n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\selenium\\\\Drivers\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        String baseUrl = &quot;https://www.tripadvisor.in/&quot;\n                        + &quot;UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html&quot;;\n        driver.get(baseUrl);\n        \n        // Capture the webElement and its width\n        WebElement target = driver.findElement(By.xpath(&quot;//img[@alt='Roll over, then click to rate']/..&quot;));\n        Dimension dimension = target.getSize();\n        int  width= dimension.getWidth();\n        \n        // Initialize the list of 5 star rating with no elements\n        List&lt;WebElement&gt; rating5star= driver.findElements(By.xpath(&quot;//span[@class='ui_bubble_rating fl bubble_50']&quot;));\n        \n        \n        // When using the W3C Action commands, offsets are from the center of element\n        // This is in contradiction to the information provided in Selenium java docs\n        // https://selenium.dev/selenium/docs/api/java/org/openqa/selenium/interactions/Actions.html#moveToElement-org.openqa.selenium.WebElement-int-int-\n        // Hence the movement should be from -(width/2) to (width/2)\n        \n        Actions action = new Actions(driver);\n        int x = (0 - width/2);\n        while(rating5star.size()==0 &amp; x&lt;=(width/2))\n        {\n            action.moveToElement(target, x, 0).click().pause(Duration.ofSeconds(1)).perform();\n            rating5star= driver.findElements(By.xpath(&quot;//span[@class='ui_bubble_rating fl bubble_50']&quot;));\n            System.out.println(rating5star.size());\n            x=x+10;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13973715,"reputation":2843,"user_id":10091597,"display_name":"Muzzamil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581260587,"creation_date":1581260004,"answer_id":60137872,"question_id":60135408,"body_markdown":"I think hover will not work as it is single element for whole rating bar. so what i have observed it will changed `class` value for selected rating. We can do change rating with change `class` attribute&#39;s `value`with `JS`\r\n\r\n\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    js.executeScript(&quot;document.getElementById(&#39;bubble_rating&#39;).setAttribute(&#39;class&#39;, &#39;ui_bubble_rating fl bubble_50&#39;)&quot;);\r\n\r\n\r\n**OR**\r\n\r\n    WebElement element = driver.findElement(By.id(&quot;bubble_rating&quot;));\r\n    \r\n        js.executeScript(&quot;arguments[0].setAttribute(&#39;class&#39;,&#39;ui_bubble_rating fl bubble_50&#39;)&quot;, element);\r\n\r\n\r\nit will do the job.","title":"Unable to find the xpath of star using selenium &amp; java","body":"<p>I think hover will not work as it is single element for whole rating bar. so what i have observed it will changed <code>class</code> value for selected rating. We can do change rating with change <code>class</code> attribute's <code>value</code>with <code>JS</code></p>\n\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(\"document.getElementById('bubble_rating').setAttribute('class', 'ui_bubble_rating fl bubble_50')\");\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>WebElement element = driver.findElement(By.id(\"bubble_rating\"));\n\n    js.executeScript(\"arguments[0].setAttribute('class','ui_bubble_rating fl bubble_50')\", element);\n</code></pre>\n\n<p>it will do the job.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581280165,"creation_date":1581280165,"answer_id":60141002,"question_id":60135408,"body_markdown":"To select the **5**&lt;sup&gt;th&lt;/sup&gt; star within https://www.tripadvisor.in/ you have to induce _WebDriverWait_ for the `visibilityOfElementLocated()` and you can use either of the following  [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- `xpath`:\r\n\r\n\t\tdriver.get(&quot;https://www.tripadvisor.in/UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html]&quot;);\r\n\t\tnew Actions(driver).moveToElement(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[@id=&#39;bubble_rating&#39;]&quot;))), 50, 0).click().build().perform();\r\n\r\n- `cssSelector`:\r\n\r\n\t\tdriver.get(&quot;https://www.tripadvisor.in/UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html]&quot;);\r\n\t\tnew Actions(driver).moveToElement(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;span#bubble_rating&quot;))), 50, 0).click().build().perform();\r\n\t\t\r\n\r\n- Browser Snapshot:\r\n\r\n![bubble_rating_widget](https://i.stack.imgur.com/Ll4FQ.png)","title":"Unable to find the xpath of star using selenium &amp; java","body":"<p>To select the <strong>5</strong><sup>th</sup> star within <a href=\"https://www.tripadvisor.in/\" rel=\"nofollow noreferrer\">https://www.tripadvisor.in/</a> you have to induce <em>WebDriverWait</em> for the <code>visibilityOfElementLocated()</code> and you can use either of the following  <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n\n<ul>\n<li><p><code>xpath</code>:</p>\n\n<pre><code>driver.get(\"https://www.tripadvisor.in/UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html]\");\nnew Actions(driver).moveToElement(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(\"//span[@id='bubble_rating']\"))), 50, 0).click().build().perform();\n</code></pre></li>\n<li><p><code>cssSelector</code>:</p>\n\n<pre><code>driver.get(\"https://www.tripadvisor.in/UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html]\");\nnew Actions(driver).moveToElement(new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(\"span#bubble_rating\"))), 50, 0).click().build().perform();\n</code></pre></li>\n<li><p>Browser Snapshot:</p></li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/Ll4FQ.png\" alt=\"bubble_rating_widget\"></p>\n"}],"owner":{"account_id":12892117,"reputation":11,"user_id":12866725,"display_name":"Sonu Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1693808311,"creation_date":1581242559,"question_id":60135408,"body_markdown":"Thank you in advance !\r\n\r\nurl - https://www.tripadvisor.in/UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html\r\n\r\ni need to hover on the stars and select the 5th star.\r\n\r\nplease find my code :-\r\n\r\n```\r\nprivate static void setRating(String star) {\r\n\t\t//new Actions(driver).moveToElement(driver.findElement(By.xpath(&quot;//*[@id=&#39;qid10&#39;]/option[1]&quot;))).perform();\r\n\t\tList&lt;WebElement&gt; rating = driver.findElements(By.xpath(&quot;//span[@class=&#39;ui_bubble_rating fl bubble_00&#39;]&quot;));\r\n\t\trating.size();\r\n\r\n\t\tList&lt;WebElement&gt; ele = driver.findElements(By.xpath(&quot;//div[@class=&#39;easyClear bigRatingParent&#39;]&quot;));\r\n\t\tSystem.out.println(ele.size());\r\n\t\tfor(WebElement ratings:ele) {\r\n\t\t\tSystem.out.println(ratings);\r\n\t\t}\r\n\t\tnew Actions(driver).moveToElement(driver.findElement(By.xpath(&quot;//div[@class=&#39;question rating bigRating labelAndInput required  &#39;]/child::label/following-sibling::div/child::span&quot;))).perform();\r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=&#39;qid10&#39;]/option[6]&quot;)).click();\r\n\r\n\t}\r\n}\r\n```","title":"Unable to find the xpath of star using selenium &amp; java","body":"<p>Thank you in advance !</p>\n\n<p>url - <a href=\"https://www.tripadvisor.in/UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html\" rel=\"nofollow noreferrer\">https://www.tripadvisor.in/UserReviewEdit-g641714-d1156207-Club_Mahindra_Madikeri_Coorg-Madikeri_Kodagu_Coorg_Karnataka.html</a></p>\n\n<p>i need to hover on the stars and select the 5th star.</p>\n\n<p>please find my code :-</p>\n\n<pre><code>private static void setRating(String star) {\n        //new Actions(driver).moveToElement(driver.findElement(By.xpath(\"//*[@id='qid10']/option[1]\"))).perform();\n        List&lt;WebElement&gt; rating = driver.findElements(By.xpath(\"//span[@class='ui_bubble_rating fl bubble_00']\"));\n        rating.size();\n\n        List&lt;WebElement&gt; ele = driver.findElements(By.xpath(\"//div[@class='easyClear bigRatingParent']\"));\n        System.out.println(ele.size());\n        for(WebElement ratings:ele) {\n            System.out.println(ratings);\n        }\n        new Actions(driver).moveToElement(driver.findElement(By.xpath(\"//div[@class='question rating bigRating labelAndInput required  ']/child::label/following-sibling::div/child::span\"))).perform();\n        driver.findElement(By.xpath(\"//*[@id='qid10']/option[6]\")).click();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","logging","log4j2","slf4j","java-11"],"comments":[{"owner":{"account_id":101064,"reputation":12650,"user_id":272075,"accept_rate":100,"display_name":"Thorn G"},"score":0,"creation_date":1544478192,"post_id":53714010,"comment_id":94282737,"body_markdown":"Possibly related to https://openjdk.java.net/jeps/335","body":"Possibly related to <a href=\"https://openjdk.java.net/jeps/335\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/335</a>"},{"owner":{"account_id":11226954,"reputation":115,"user_id":8236301,"display_name":"Adam"},"score":0,"creation_date":1544479373,"post_id":53714010,"comment_id":94283211,"body_markdown":"I usually use Logback for the logger implementation: https://mvnrepository.com/artifact/ch.qos.logback/logback-classic. I don&#39;t have any further idea.","body":"I usually use Logback for the logger implementation: <a href=\"https://mvnrepository.com/artifact/ch.qos.logback/logback-classic\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/ch.qos.logback/logback-classic</a>. I don&#39;t have any further idea."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1544492386,"post_id":53714010,"comment_id":94286520,"body_markdown":"@TomG Read the non-goals from the same link  *This deprecation does not affect, in any way, the javax.script API.*","body":"@TomG Read the non-goals from the same link  <i>This deprecation does not affect, in any way, the javax.script API.</i>"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1544492492,"post_id":53714010,"comment_id":94286539,"body_markdown":"Can you share how you are building and running the app? Is it modular or not? If possible any frameworks used or not?","body":"Can you share how you are building and running the app? Is it modular or not? If possible any frameworks used or not?"},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":4,"creation_date":1544514470,"post_id":53714010,"comment_id":94292407,"body_markdown":"Does org.apache.logging.log4j depend on java.scripting? If so then it must be missing `requires  java.scripting` from its module declaration. If it claims that it&#39;s an optional dependency then the issue is that nobody` requires  java.scripting` so this module will not be resolved. You should be able to work around it with `--add-modules java.scripting`. You won&#39;t have this issue with applications on the class path because  java.scripting will be resolved by default in that case.","body":"Does org.apache.logging.log4j depend on java.scripting? If so then it must be missing <code>requires  java.scripting</code> from its module declaration. If it claims that it&#39;s an optional dependency then the issue is that nobody` requires  java.scripting` so this module will not be resolved. You should be able to work around it with <code>--add-modules java.scripting</code>. You won&#39;t have this issue with applications on the class path because  java.scripting will be resolved by default in that case."},{"owner":{"account_id":3978651,"reputation":123,"user_id":3281185,"display_name":"RakSrinaNa"},"score":1,"creation_date":1544566538,"post_id":53714010,"comment_id":94320159,"body_markdown":"Thank you everyone for the comments.\n\nI didn&#39;t try every answer but the one of @AlanBateman did work by just adding the require in the module-info. :)","body":"Thank you everyone for the comments.  I didn&#39;t try every answer but the one of @AlanBateman did work by just adding the require in the module-info. :)"}],"answers":[{"tags":[],"owner":{"account_id":2021629,"reputation":57943,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1572062598,"creation_date":1544645981,"answer_id":53750739,"question_id":53714010,"body_markdown":"According to the [Log4j documentation](https://logging.apache.org/log4j/2.x/manual/configuration.html):\r\n\r\n&gt;Log4j provides support for JSR 223 scripting languages to be used in some of its components.\r\n\r\nand as said in the comments by `Alan Bateman` from Java 9 you have to add explicitly the java scripting module either with `--add-modules java.scripting` or in `module-info.java`.\r\n\r\nNote also that the module `jdk.scripting.nashorn` is [deprecated in Java 11](https://openjdk.java.net/jeps/335) and will be removed in a future release.\r\n\r\n","title":"Log4j2/Slf4j and Java 11","body":"<p>According to the <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"noreferrer\">Log4j documentation</a>:</p>\n\n<blockquote>\n  <p>Log4j provides support for JSR 223 scripting languages to be used in some of its components.</p>\n</blockquote>\n\n<p>and as said in the comments by <code>Alan Bateman</code> from Java 9 you have to add explicitly the java scripting module either with <code>--add-modules java.scripting</code> or in <code>module-info.java</code>.</p>\n\n<p>Note also that the module <code>jdk.scripting.nashorn</code> is <a href=\"https://openjdk.java.net/jeps/335\" rel=\"noreferrer\">deprecated in Java 11</a> and will be removed in a future release.</p>\n"},{"tags":[],"owner":{"account_id":29360946,"reputation":1,"user_id":22495682,"display_name":"pumbaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693807745,"creation_date":1693807745,"answer_id":77035409,"question_id":53714010,"body_markdown":"Try upgrading to log4j2 version 2.17.2 or higher.","title":"Log4j2/Slf4j and Java 11","body":"<p>Try upgrading to log4j2 version 2.17.2 or higher.</p>\n"}],"owner":{"account_id":3978651,"reputation":123,"user_id":3281185,"display_name":"RakSrinaNa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12248,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":53750739,"answer_count":2,"score":9,"last_activity_date":1693807745,"creation_date":1544477774,"question_id":53714010,"body_markdown":"I&#39;m currently trying to build an app with log4j/slf4j and java 11 but I&#39;m facing this problem at runtime:\r\n\r\n    2018-12-10 22:09:27,225 main INFO Cannot initialize scripting support because this JRE does not support it. java.lang.NoClassDefFoundError: javax/script/ScriptEngineManager\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.script.ScriptManager.&lt;init&gt;(ScriptManager.java:69)\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:216)\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:250)\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:547)\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:619)\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:636)\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:231)\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:153)\r\n    \tat org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:45)\r\n    \tat org.apache.logging.log4j/org.apache.logging.log4j.LogManager.getContext(LogManager.java:194)\r\n    \tat org.apache.logging.log4j/org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:121)\r\n    \tat org.apache.logging.log4j.slf4j@2.11.1/org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:49)\r\n    \tat org.apache.logging.log4j/org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:46)\r\n    \tat org.apache.logging.log4j.slf4j@2.11.1/org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:29)\r\n    \tat org.slf4j/org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:355)\r\n    \tat org.slf4j/org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:380)\r\n    \tat fr.mrcraftcod.nameascreated/fr.mrcraftcod.nameascreated.NameAsCreated.&lt;clinit&gt;(NameAsCreated.java:39)\r\n    Caused by: java.lang.ClassNotFoundException: javax.script.ScriptEngineManager\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 17 more\r\n\r\nThe code that is at the origin of this is the initialization of my logger:\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(NameAsCreated.class);\r\n\r\nI have dependencies on:\r\n\r\n - org.apache.logging.log4j:log4j-api:2.11.1\r\n - org.apache.logging.log4j:log4j-core:2.11.1\r\n - org.apache.logging.log4j:log4j-slf4j18-impl:2.11.1\r\n - A maven project that depends on org.slf4j:slf4j-api:1.8.0-beta2\r\n\r\nI&#39;m on OSX Mojave with Java version:\r\n\r\n    openjdk version &quot;11&quot; 2018-09-25\r\n    OpenJDK Runtime Environment AdoptOpenJDK (build 11+28-201810021910)\r\n    OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11+28-201810021910, mixed mode)\r\n\r\nDoes someone have an idea of what I&#39;m doing wrong and how I can solve this?","title":"Log4j2/Slf4j and Java 11","body":"<p>I'm currently trying to build an app with log4j/slf4j and java 11 but I'm facing this problem at runtime:</p>\n\n<pre><code>2018-12-10 22:09:27,225 main INFO Cannot initialize scripting support because this JRE does not support it. java.lang.NoClassDefFoundError: javax/script/ScriptEngineManager\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.script.ScriptManager.&lt;init&gt;(ScriptManager.java:69)\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:216)\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:250)\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:547)\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:619)\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:636)\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:231)\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:153)\n    at org.apache.logging.log4j.core@2.11.1/org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:45)\n    at org.apache.logging.log4j/org.apache.logging.log4j.LogManager.getContext(LogManager.java:194)\n    at org.apache.logging.log4j/org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:121)\n    at org.apache.logging.log4j.slf4j@2.11.1/org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:49)\n    at org.apache.logging.log4j/org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:46)\n    at org.apache.logging.log4j.slf4j@2.11.1/org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:29)\n    at org.slf4j/org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:355)\n    at org.slf4j/org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:380)\n    at fr.mrcraftcod.nameascreated/fr.mrcraftcod.nameascreated.NameAsCreated.&lt;clinit&gt;(NameAsCreated.java:39)\nCaused by: java.lang.ClassNotFoundException: javax.script.ScriptEngineManager\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 17 more\n</code></pre>\n\n<p>The code that is at the origin of this is the initialization of my logger:</p>\n\n<pre><code>private static final Logger LOGGER = LoggerFactory.getLogger(NameAsCreated.class);\n</code></pre>\n\n<p>I have dependencies on:</p>\n\n<ul>\n<li>org.apache.logging.log4j:log4j-api:2.11.1</li>\n<li>org.apache.logging.log4j:log4j-core:2.11.1</li>\n<li>org.apache.logging.log4j:log4j-slf4j18-impl:2.11.1</li>\n<li>A maven project that depends on org.slf4j:slf4j-api:1.8.0-beta2</li>\n</ul>\n\n<p>I'm on OSX Mojave with Java version:</p>\n\n<pre><code>openjdk version \"11\" 2018-09-25\nOpenJDK Runtime Environment AdoptOpenJDK (build 11+28-201810021910)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 11+28-201810021910, mixed mode)\n</code></pre>\n\n<p>Does someone have an idea of what I'm doing wrong and how I can solve this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"score":2,"creation_date":1508777545,"post_id":2817752,"comment_id":80736281,"body_markdown":"What you call byte-array in Java is called byte string in other languages (e.g. https://docs.racket-lang.org/guide/bytestrings.html)","body":"What you call byte-array in Java is called byte string in other languages (e.g. <a href=\"https://docs.racket-lang.org/guide/bytestrings.html\" rel=\"nofollow noreferrer\">docs.racket-lang.org/guide/bytestrings.html</a>)"}],"answers":[{"tags":[],"owner":{"account_id":63007,"reputation":2116,"user_id":186787,"accept_rate":85,"display_name":"MiKo"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1273661598,"creation_date":1273659162,"answer_id":2817772,"question_id":2817752,"body_markdown":"Try this way:\r\n\r\n    byte bv = 10;\r\n    String hexString = Integer.toHexString(bv);\r\n\r\nDealing with array (if I understood you correctly):\r\n\r\n    byte[] bytes = {9, 10, 11, 15, 16};\r\n    StringBuffer result = new StringBuffer();\r\n    for (byte b : bytes) {\r\n        result.append(String.format(&quot;%02X &quot;, b));\r\n        result.append(&quot; &quot;); // delimiter\r\n    }\r\n    return result.toString();\r\n\r\nAs polygenelubricants mentioned, `String.format()` is the right answer compare to `Integer.toHexString()` (since it deals with negative numbers in a right way).","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>Try this way:</p>\n\n<pre><code>byte bv = 10;\nString hexString = Integer.toHexString(bv);\n</code></pre>\n\n<p>Dealing with array (if I understood you correctly):</p>\n\n<pre><code>byte[] bytes = {9, 10, 11, 15, 16};\nStringBuffer result = new StringBuffer();\nfor (byte b : bytes) {\n    result.append(String.format(\"%02X \", b));\n    result.append(\" \"); // delimiter\n}\nreturn result.toString();\n</code></pre>\n\n<p>As polygenelubricants mentioned, <code>String.format()</code> is the right answer compare to <code>Integer.toHexString()</code> (since it deals with negative numbers in a right way).</p>\n"},{"tags":[],"owner":{"account_id":88574,"reputation":5071,"user_id":244888,"accept_rate":74,"display_name":"Juriy"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1273659210,"creation_date":1273659210,"answer_id":2817779,"question_id":2817752,"body_markdown":"Use \r\n\r\n\tInteger.toHexString((int)b);","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>Use </p>\n\n<pre><code>Integer.toHexString((int)b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95151,"reputation":14008,"user_id":259310,"accept_rate":25,"display_name":"Kilian Foth"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1489774473,"creation_date":1273659369,"answer_id":2817806,"question_id":2817752,"body_markdown":"If you want a constant-width hex representation, i.e. `0A` instead of `A`, so that you can recover the bytes unambiguously, try `format()`:\r\n\r\n    StringBuilder result = new StringBuilder();\r\n    for (byte bb : byteArray) {\r\n        result.append(String.format(&quot;%02X&quot;, bb));\r\n    }\r\n    return result.toString();\r\n\r\n","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>If you want a constant-width hex representation, i.e. <code>0A</code> instead of <code>A</code>, so that you can recover the bytes unambiguously, try <code>format()</code>:</p>\n\n<pre><code>StringBuilder result = new StringBuilder();\nfor (byte bb : byteArray) {\n    result.append(String.format(\"%02X\", bb));\n}\nreturn result.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":1,"up_vote_count":354,"is_accepted":false,"score":353,"last_activity_date":1693806907,"creation_date":1273659948,"answer_id":2817883,"question_id":2817752,"body_markdown":"```java\r\nbyte[] bytes = {-1, 0, 1, 2, 3 };\r\nStringBuilder sb = new StringBuilder();\r\nfor (byte b : bytes) {\r\n    sb.append(String.format(&quot;%02X &quot;, b));\r\n}\r\nSystem.out.println(sb.toString());\r\n// prints &quot;FF 00 01 02 03 &quot;\r\n```\r\n\r\n### See also\r\n\r\n* [`java.util.Formatter` syntax](http://java.sun.com/javase/6/docs/api/java/util/Formatter.html#syntax)\r\n  * `%[flags][width]conversion`\r\n     * Flag `&#39;0&#39;` - The result will be zero-padded \r\n     * Width `2`\r\n     * Conversion `&#39;X&#39;` - The result is formatted as a hexadecimal integer, uppercase\r\n\r\n---\r\n\r\nLooking at the text of the question, it&#39;s also possible that this is what is requested:\r\n\r\n```java\r\nString[] arr = {&quot;-1&quot;, &quot;0&quot;, &quot;10&quot;, &quot;20&quot; };\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n    arr[i] = String.format(&quot;%02x&quot;, Byte.parseByte(arr[i]));\r\n}\r\nSystem.out.println(java.util.Arrays.toString(arr));\r\n// prints &quot;[ff, 00, 0a, 14]&quot;\r\n```\r\n\r\n---\r\n\r\nSeveral answers here uses [`Integer.toHexString(int)`](http://java.sun.com/javase/6/docs/api/java/lang/Integer.html#toHexString%28int%29); this is doable, but with some caveats. Since the parameter is an `int`, a widening primitive conversion is performed to the `byte` argument, which involves sign extension.\r\n\r\n```java\r\nbyte b = -1;\r\nSystem.out.println(Integer.toHexString(b));\r\n// prints &quot;ffffffff&quot;\r\n```\r\n\r\nThe 8-bit `byte`, which is signed in Java, is sign-extended to a 32-bit `int`. To effectively undo this sign extension, one can mask the `byte` with `0xFF`.\r\n\r\n```java\r\nbyte b = -1;\r\nSystem.out.println(Integer.toHexString(b &amp; 0xFF));\r\n// prints &quot;ff&quot;\r\n```\r\n\r\nAnother issue with using `toHexString` is that it doesn&#39;t pad with zeroes:\r\n\r\n```java\r\nbyte b = 10;\r\nSystem.out.println(Integer.toHexString(b &amp; 0xFF));\r\n// prints &quot;a&quot;\r\n```\r\n\r\nBoth factors combined should make the `String.format` solution more preferable.\r\n\r\n### References\r\n\r\n* [JLS 4.2.1 Integral Types and Values](http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#4.2.1)\r\n   * For `byte`, from `-128` to `127`, inclusive\r\n* [JLS 5.1.2 Widening Primitive Conversion](http://java.sun.com/docs/books/jls/third_edition/html/conversions.html#5.1.2)","title":"How can I convert a byte array to hexadecimal in Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>byte[] bytes = {-1, 0, 1, 2, 3 };\nStringBuilder sb = new StringBuilder();\nfor (byte b : bytes) {\n    sb.append(String.format(&quot;%02X &quot;, b));\n}\nSystem.out.println(sb.toString());\n// prints &quot;FF 00 01 02 03 &quot;\n</code></pre>\n<h3>See also</h3>\n<ul>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\"><code>java.util.Formatter</code> syntax</a>\n<ul>\n<li><code>%[flags][width]conversion</code>\n<ul>\n<li>Flag <code>'0'</code> - The result will be zero-padded</li>\n<li>Width <code>2</code></li>\n<li>Conversion <code>'X'</code> - The result is formatted as a hexadecimal integer, uppercase</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p>Looking at the text of the question, it's also possible that this is what is requested:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] arr = {&quot;-1&quot;, &quot;0&quot;, &quot;10&quot;, &quot;20&quot; };\nfor (int i = 0; i &lt; arr.length; i++) {\n    arr[i] = String.format(&quot;%02x&quot;, Byte.parseByte(arr[i]));\n}\nSystem.out.println(java.util.Arrays.toString(arr));\n// prints &quot;[ff, 00, 0a, 14]&quot;\n</code></pre>\n<hr />\n<p>Several answers here uses <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Integer.html#toHexString%28int%29\" rel=\"nofollow noreferrer\"><code>Integer.toHexString(int)</code></a>; this is doable, but with some caveats. Since the parameter is an <code>int</code>, a widening primitive conversion is performed to the <code>byte</code> argument, which involves sign extension.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte b = -1;\nSystem.out.println(Integer.toHexString(b));\n// prints &quot;ffffffff&quot;\n</code></pre>\n<p>The 8-bit <code>byte</code>, which is signed in Java, is sign-extended to a 32-bit <code>int</code>. To effectively undo this sign extension, one can mask the <code>byte</code> with <code>0xFF</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte b = -1;\nSystem.out.println(Integer.toHexString(b &amp; 0xFF));\n// prints &quot;ff&quot;\n</code></pre>\n<p>Another issue with using <code>toHexString</code> is that it doesn't pad with zeroes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte b = 10;\nSystem.out.println(Integer.toHexString(b &amp; 0xFF));\n// prints &quot;a&quot;\n</code></pre>\n<p>Both factors combined should make the <code>String.format</code> solution more preferable.</p>\n<h3>References</h3>\n<ul>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#4.2.1\" rel=\"nofollow noreferrer\">JLS 4.2.1 Integral Types and Values</a>\n<ul>\n<li>For <code>byte</code>, from <code>-128</code> to <code>127</code>, inclusive</li>\n</ul>\n</li>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/conversions.html#5.1.2\" rel=\"nofollow noreferrer\">JLS 5.1.2 Widening Primitive Conversion</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1524517,"reputation":6229,"user_id":1423280,"accept_rate":92,"display_name":"AzizSM"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338881497,"creation_date":1338881497,"answer_id":10893337,"question_id":2817752,"body_markdown":"Here is a simple function to convert byte to Hexadecimal\r\n\r\n\r\n       private static String convertToHex(byte[] data) {\r\n        StringBuffer buf = new StringBuffer();\r\n        for (int i = 0; i &lt; data.length; i++) {\r\n            int halfbyte = (data[i] &gt;&gt;&gt; 4) &amp; 0x0F;\r\n            int two_halfs = 0;\r\n            do {\r\n                if ((0 &lt;= halfbyte) &amp;&amp; (halfbyte &lt;= 9))\r\n                    buf.append((char) (&#39;0&#39; + halfbyte));\r\n                else\r\n                    buf.append((char) (&#39;a&#39; + (halfbyte - 10)));\r\n                halfbyte = data[i] &amp; 0x0F;\r\n            } while(two_halfs++ &lt; 1);\r\n        }\r\n        return buf.toString();\r\n    }","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>Here is a simple function to convert byte to Hexadecimal</p>\n\n<pre><code>   private static String convertToHex(byte[] data) {\n    StringBuffer buf = new StringBuffer();\n    for (int i = 0; i &lt; data.length; i++) {\n        int halfbyte = (data[i] &gt;&gt;&gt; 4) &amp; 0x0F;\n        int two_halfs = 0;\n        do {\n            if ((0 &lt;= halfbyte) &amp;&amp; (halfbyte &lt;= 9))\n                buf.append((char) ('0' + halfbyte));\n            else\n                buf.append((char) ('a' + (halfbyte - 10)));\n            halfbyte = data[i] &amp; 0x0F;\n        } while(two_halfs++ &lt; 1);\n    }\n    return buf.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353301027,"creation_date":1353300716,"answer_id":13447849,"question_id":2817752,"body_markdown":"Creating (and destroying) a bunch of `String` instances is not a good way if performance is an issue.\r\n\r\nPlease ignore those verbose (duplicate) arguments checking statements (`if`s). That&#39;s for (another) educational purposes. \r\n\r\nFull maven project: http://jinahya.googlecode.com/svn/trunk/com.googlecode.jinahya/hex-codec/\r\n\r\nEncoding...\r\n\r\n    /**\r\n     * Encodes a single nibble.\r\n     *\r\n     * @param decoded the nibble to encode.\r\n     *\r\n     * @return the encoded half octet.\r\n     */\r\n    protected static int encodeHalf(final int decoded) {\r\n\r\n        switch (decoded) {\r\n            case 0x00:\r\n            case 0x01:\r\n            case 0x02:\r\n            case 0x03:\r\n            case 0x04:\r\n            case 0x05:\r\n            case 0x06:\r\n            case 0x07:\r\n            case 0x08:\r\n            case 0x09:\r\n                return decoded + 0x30; // 0x30(&#39;0&#39;) - 0x39(&#39;9&#39;)\r\n            case 0x0A:\r\n            case 0x0B:\r\n            case 0x0C:\r\n            case 0x0D:\r\n            case 0x0E:\r\n            case 0x0F:\r\n                return decoded + 0x57; // 0x41(&#39;a&#39;) - 0x46(&#39;f&#39;)\r\n            default:\r\n                throw new IllegalArgumentException(&quot;illegal half: &quot; + decoded);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Encodes a single octet into two nibbles.\r\n     *\r\n     * @param decoded the octet to encode.\r\n     * @param encoded the array to which each encoded nibbles are written.\r\n     * @param offset the offset in the array.\r\n     */\r\n    protected static void encodeSingle(final int decoded, final byte[] encoded,\r\n                                       final int offset) {\r\n\r\n        if (encoded == null) {\r\n            throw new IllegalArgumentException(&quot;null encoded&quot;);\r\n        }\r\n\r\n        if (encoded.length &lt; 2) {\r\n            // not required\r\n            throw new IllegalArgumentException(\r\n                &quot;encoded.length(&quot; + encoded.length + &quot;) &lt; 2&quot;);\r\n        }\r\n\r\n        if (offset &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;offset(&quot; + offset + &quot;) &lt; 0&quot;);\r\n        }\r\n\r\n        if (offset &gt;= encoded.length - 1) {\r\n            throw new IllegalArgumentException(\r\n                &quot;offset(&quot; + offset + &quot;) &gt;= encoded.length(&quot; + encoded.length\r\n                + &quot;) - 1&quot;);\r\n        }\r\n\r\n        encoded[offset] = (byte) encodeHalf((decoded &gt;&gt; 4) &amp; 0x0F);\r\n        encoded[offset + 1] = (byte) encodeHalf(decoded &amp; 0x0F);\r\n    }\r\n\r\n\r\n    /**\r\n     * Decodes given sequence of octets into a sequence of nibbles.\r\n     *\r\n     * @param decoded the octets to encode\r\n     *\r\n     * @return the encoded nibbles.\r\n     */\r\n    protected static byte[] encodeMultiple(final byte[] decoded) {\r\n\r\n        if (decoded == null) {\r\n            throw new IllegalArgumentException(&quot;null decoded&quot;);\r\n        }\r\n\r\n        final byte[] encoded = new byte[decoded.length &lt;&lt; 1];\r\n\r\n        int offset = 0;\r\n        for (int i = 0; i &lt; decoded.length; i++) {\r\n            encodeSingle(decoded[i], encoded, offset);\r\n            offset += 2;\r\n        }\r\n\r\n        return encoded;\r\n    }\r\n\r\n\r\n    /**\r\n     * Encodes given sequence of octets into a sequence of nibbles.\r\n     *\r\n     * @param decoded the octets to encode.\r\n     *\r\n     * @return the encoded nibbles.\r\n     */\r\n    public byte[] encode(final byte[] decoded) {\r\n\r\n        return encodeMultiple(decoded);\r\n    }\r\n\r\n\r\nDecoding...\r\n\r\n    /**\r\n     * Decodes a single nibble.\r\n     *\r\n     * @param encoded the nibble to decode.\r\n     *\r\n     * @return the decoded half octet.\r\n     */\r\n    protected static int decodeHalf(final int encoded) {\r\n\r\n        switch (encoded) {\r\n            case 0x30: // &#39;0&#39;\r\n            case 0x31: // &#39;1&#39;\r\n            case 0x32: // &#39;2&#39;\r\n            case 0x33: // &#39;3&#39;\r\n            case 0x34: // &#39;4&#39;\r\n            case 0x35: // &#39;5&#39;\r\n            case 0x36: // &#39;6&#39;\r\n            case 0x37: // &#39;7&#39;\r\n            case 0x38: // &#39;8&#39;\r\n            case 0x39: // &#39;9&#39;\r\n                return encoded - 0x30;\r\n            case 0x41: // &#39;A&#39;\r\n            case 0x42: // &#39;B&#39;\r\n            case 0x43: // &#39;C&#39;\r\n            case 0x44: // &#39;D&#39;\r\n            case 0x45: // &#39;E&#39;\r\n            case 0x46: // &#39;F&#39;\r\n                return encoded - 0x37;\r\n            case 0x61: // &#39;a&#39;\r\n            case 0x62: // &#39;b&#39;\r\n            case 0x63: // &#39;c&#39;\r\n            case 0x64: // &#39;d&#39;\r\n            case 0x65: // &#39;e&#39;\r\n            case 0x66: // &#39;f&#39;\r\n                return encoded - 0x57;\r\n            default:\r\n                throw new IllegalArgumentException(&quot;illegal half: &quot; + encoded);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Decodes two nibbles into a single octet.\r\n     *\r\n     * @param encoded the nibble array.\r\n     * @param offset the offset in the array.\r\n     *\r\n     * @return decoded octet.\r\n     */\r\n    protected static int decodeSingle(final byte[] encoded, final int offset) {\r\n\r\n        if (encoded == null) {\r\n            throw new IllegalArgumentException(&quot;null encoded&quot;);\r\n        }\r\n\r\n        if (encoded.length &lt; 2) {\r\n            // not required\r\n            throw new IllegalArgumentException(\r\n                &quot;encoded.length(&quot; + encoded.length + &quot;) &lt; 2&quot;);\r\n        }\r\n\r\n        if (offset &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;offset(&quot; + offset + &quot;) &lt; 0&quot;);\r\n        }\r\n\r\n        if (offset &gt;= encoded.length - 1) {\r\n            throw new IllegalArgumentException(\r\n                &quot;offset(&quot; + offset + &quot;) &gt;= encoded.length(&quot; + encoded.length\r\n                + &quot;) - 1&quot;);\r\n        }\r\n\r\n        return (decodeHalf(encoded[offset]) &lt;&lt; 4)\r\n               | decodeHalf(encoded[offset + 1]);\r\n    }\r\n\r\n\r\n    /**\r\n     * Encodes given sequence of nibbles into a sequence of octets.\r\n     *\r\n     * @param encoded the nibbles to decode.\r\n     *\r\n     * @return the encoded octets.\r\n     */\r\n    protected static byte[] decodeMultiple(final byte[] encoded) {\r\n\r\n        if (encoded == null) {\r\n            throw new IllegalArgumentException(&quot;null encoded&quot;);\r\n        }\r\n\r\n        if ((encoded.length &amp; 0x01) == 0x01) {\r\n            throw new IllegalArgumentException(\r\n                &quot;encoded.length(&quot; + encoded.length + &quot;) is not even&quot;);\r\n        }\r\n\r\n        final byte[] decoded = new byte[encoded.length &gt;&gt; 1];\r\n\r\n        int offset = 0;\r\n        for (int i = 0; i &lt; decoded.length; i++) {\r\n            decoded[i] = (byte) decodeSingle(encoded, offset);\r\n            offset += 2;\r\n        }\r\n\r\n        return decoded;\r\n    }\r\n\r\n\r\n    /**\r\n     * Decodes given sequence of nibbles into a sequence of octets.\r\n     *\r\n     * @param encoded the nibbles to decode.\r\n     *\r\n     * @return the decoded octets.\r\n     */\r\n    public byte[] decode(final byte[] encoded) {\r\n\r\n        return decodeMultiple(encoded);\r\n    }\r\n\r\n\r\n","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>Creating (and destroying) a bunch of <code>String</code> instances is not a good way if performance is an issue.</p>\n\n<p>Please ignore those verbose (duplicate) arguments checking statements (<code>if</code>s). That's for (another) educational purposes. </p>\n\n<p>Full maven project: <a href=\"http://jinahya.googlecode.com/svn/trunk/com.googlecode.jinahya/hex-codec/\" rel=\"nofollow\">http://jinahya.googlecode.com/svn/trunk/com.googlecode.jinahya/hex-codec/</a></p>\n\n<p>Encoding...</p>\n\n<pre><code>/**\n * Encodes a single nibble.\n *\n * @param decoded the nibble to encode.\n *\n * @return the encoded half octet.\n */\nprotected static int encodeHalf(final int decoded) {\n\n    switch (decoded) {\n        case 0x00:\n        case 0x01:\n        case 0x02:\n        case 0x03:\n        case 0x04:\n        case 0x05:\n        case 0x06:\n        case 0x07:\n        case 0x08:\n        case 0x09:\n            return decoded + 0x30; // 0x30('0') - 0x39('9')\n        case 0x0A:\n        case 0x0B:\n        case 0x0C:\n        case 0x0D:\n        case 0x0E:\n        case 0x0F:\n            return decoded + 0x57; // 0x41('a') - 0x46('f')\n        default:\n            throw new IllegalArgumentException(\"illegal half: \" + decoded);\n    }\n}\n\n\n/**\n * Encodes a single octet into two nibbles.\n *\n * @param decoded the octet to encode.\n * @param encoded the array to which each encoded nibbles are written.\n * @param offset the offset in the array.\n */\nprotected static void encodeSingle(final int decoded, final byte[] encoded,\n                                   final int offset) {\n\n    if (encoded == null) {\n        throw new IllegalArgumentException(\"null encoded\");\n    }\n\n    if (encoded.length &lt; 2) {\n        // not required\n        throw new IllegalArgumentException(\n            \"encoded.length(\" + encoded.length + \") &lt; 2\");\n    }\n\n    if (offset &lt; 0) {\n        throw new IllegalArgumentException(\"offset(\" + offset + \") &lt; 0\");\n    }\n\n    if (offset &gt;= encoded.length - 1) {\n        throw new IllegalArgumentException(\n            \"offset(\" + offset + \") &gt;= encoded.length(\" + encoded.length\n            + \") - 1\");\n    }\n\n    encoded[offset] = (byte) encodeHalf((decoded &gt;&gt; 4) &amp; 0x0F);\n    encoded[offset + 1] = (byte) encodeHalf(decoded &amp; 0x0F);\n}\n\n\n/**\n * Decodes given sequence of octets into a sequence of nibbles.\n *\n * @param decoded the octets to encode\n *\n * @return the encoded nibbles.\n */\nprotected static byte[] encodeMultiple(final byte[] decoded) {\n\n    if (decoded == null) {\n        throw new IllegalArgumentException(\"null decoded\");\n    }\n\n    final byte[] encoded = new byte[decoded.length &lt;&lt; 1];\n\n    int offset = 0;\n    for (int i = 0; i &lt; decoded.length; i++) {\n        encodeSingle(decoded[i], encoded, offset);\n        offset += 2;\n    }\n\n    return encoded;\n}\n\n\n/**\n * Encodes given sequence of octets into a sequence of nibbles.\n *\n * @param decoded the octets to encode.\n *\n * @return the encoded nibbles.\n */\npublic byte[] encode(final byte[] decoded) {\n\n    return encodeMultiple(decoded);\n}\n</code></pre>\n\n<p>Decoding...</p>\n\n<pre><code>/**\n * Decodes a single nibble.\n *\n * @param encoded the nibble to decode.\n *\n * @return the decoded half octet.\n */\nprotected static int decodeHalf(final int encoded) {\n\n    switch (encoded) {\n        case 0x30: // '0'\n        case 0x31: // '1'\n        case 0x32: // '2'\n        case 0x33: // '3'\n        case 0x34: // '4'\n        case 0x35: // '5'\n        case 0x36: // '6'\n        case 0x37: // '7'\n        case 0x38: // '8'\n        case 0x39: // '9'\n            return encoded - 0x30;\n        case 0x41: // 'A'\n        case 0x42: // 'B'\n        case 0x43: // 'C'\n        case 0x44: // 'D'\n        case 0x45: // 'E'\n        case 0x46: // 'F'\n            return encoded - 0x37;\n        case 0x61: // 'a'\n        case 0x62: // 'b'\n        case 0x63: // 'c'\n        case 0x64: // 'd'\n        case 0x65: // 'e'\n        case 0x66: // 'f'\n            return encoded - 0x57;\n        default:\n            throw new IllegalArgumentException(\"illegal half: \" + encoded);\n    }\n}\n\n\n/**\n * Decodes two nibbles into a single octet.\n *\n * @param encoded the nibble array.\n * @param offset the offset in the array.\n *\n * @return decoded octet.\n */\nprotected static int decodeSingle(final byte[] encoded, final int offset) {\n\n    if (encoded == null) {\n        throw new IllegalArgumentException(\"null encoded\");\n    }\n\n    if (encoded.length &lt; 2) {\n        // not required\n        throw new IllegalArgumentException(\n            \"encoded.length(\" + encoded.length + \") &lt; 2\");\n    }\n\n    if (offset &lt; 0) {\n        throw new IllegalArgumentException(\"offset(\" + offset + \") &lt; 0\");\n    }\n\n    if (offset &gt;= encoded.length - 1) {\n        throw new IllegalArgumentException(\n            \"offset(\" + offset + \") &gt;= encoded.length(\" + encoded.length\n            + \") - 1\");\n    }\n\n    return (decodeHalf(encoded[offset]) &lt;&lt; 4)\n           | decodeHalf(encoded[offset + 1]);\n}\n\n\n/**\n * Encodes given sequence of nibbles into a sequence of octets.\n *\n * @param encoded the nibbles to decode.\n *\n * @return the encoded octets.\n */\nprotected static byte[] decodeMultiple(final byte[] encoded) {\n\n    if (encoded == null) {\n        throw new IllegalArgumentException(\"null encoded\");\n    }\n\n    if ((encoded.length &amp; 0x01) == 0x01) {\n        throw new IllegalArgumentException(\n            \"encoded.length(\" + encoded.length + \") is not even\");\n    }\n\n    final byte[] decoded = new byte[encoded.length &gt;&gt; 1];\n\n    int offset = 0;\n    for (int i = 0; i &lt; decoded.length; i++) {\n        decoded[i] = (byte) decodeSingle(encoded, offset);\n        offset += 2;\n    }\n\n    return decoded;\n}\n\n\n/**\n * Decodes given sequence of nibbles into a sequence of octets.\n *\n * @param encoded the nibbles to decode.\n *\n * @return the decoded octets.\n */\npublic byte[] decode(final byte[] encoded) {\n\n    return decodeMultiple(encoded);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3108366,"reputation":330,"user_id":2630693,"accept_rate":100,"display_name":"ajrskelton"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1378220613,"creation_date":1378220613,"answer_id":18595580,"question_id":2817752,"body_markdown":"If you are happy to use an external library, the `org.apache.commons.codec.binary.Hex` class has an `encodeHex` method which takes a `byte[]` and returns a `char[]`. This methods is MUCH faster than the format option, and encapsulates the details of the conversion. Also comes with a `decodeHex` method for the opposite conversion.","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>If you are happy to use an external library, the <code>org.apache.commons.codec.binary.Hex</code> class has an <code>encodeHex</code> method which takes a <code>byte[]</code> and returns a <code>char[]</code>. This methods is MUCH faster than the format option, and encapsulates the details of the conversion. Also comes with a <code>decodeHex</code> method for the opposite conversion.</p>\n"},{"tags":[],"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1389580741,"creation_date":1389580741,"answer_id":21083047,"question_id":2817752,"body_markdown":"Others have covered the general case. But if you have a byte array of a known form, for example a MAC address, then you can:\r\n\r\n    byte[] mac = { (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00 };\r\n     \r\n    String str = String.format(&quot;%02X:%02X:%02X:%02X:%02X:%02X&quot;,\r\n                               mac[0], mac[1], mac[2], mac[3], mac[4], mac[5]); ","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>Others have covered the general case. But if you have a byte array of a known form, for example a MAC address, then you can:</p>\n\n<pre><code>byte[] mac = { (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00 };\n\nString str = String.format(\"%02X:%02X:%02X:%02X:%02X:%02X\",\n                           mac[0], mac[1], mac[2], mac[3], mac[4], mac[5]); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2587487,"reputation":1161,"user_id":2242845,"accept_rate":80,"display_name":"jsinglet"},"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1389934660,"creation_date":1389934660,"answer_id":21178195,"question_id":2817752,"body_markdown":"I am posting because none of the existing answers explain why their approaches work, which I think is really important for this problem. In some cases, this causes the proposed solution to appear unnecessarily complicated and subtle.  To illustrate I will provide a fairly straightforward approach, but I&#39;ll provide a bit more detail to help illustrate **why** it works.\r\n\r\nFirst off, what are we trying to do? We want to convert a byte value (or an array of bytes) to a string which represents a hexadecimal value in ASCII. So step one is to find out exactly what a byte in Java is:\r\n\r\n&gt; The byte data type is an **8-bit signed two&#39;s complement integer**. It has a minimum value of -128 and a maximum value of 127 (inclusive). The byte data type can be useful for saving memory in large arrays, where the memory savings actually matters. They can also be used in place of int where their limits help to clarify your code; the fact that a variable&#39;s range is limited can serve as a form of documentation.\r\n\r\nWhat does this mean? A few things: First and most importantly, it means we are working with **8-bits**. So for example we can write the number 2 as 0000 0010. However, since it is two&#39;s complement, we write a negative 2 like this: 1111 1110. What is also means is that converting to hex is very straightforward. That is, you simply convert each 4 bit segment directly to hex. Note that to make sense of negative numbers in this scheme you will first need to understand two&#39;s complement. If you don&#39;t already understand two&#39;s complement, you can read an excellent explanation, here: http://www.cs.cornell.edu/~tomf/notes/cps104/twoscomp.html\r\n\r\n\r\n\r\n&lt;hr&gt;\r\n\r\n\r\nConverting Two&#39;s Complement to Hex In General\r\n=============================================\r\n\r\nOnce a number is in two&#39;s complement it is dead simple to convert it to hex. In general, converting from binary to hex is very straightforward, and as you will see in the next two examples, you can go directly from two&#39;s complement to hex. \r\n\r\nExamples\r\n--------\r\n\r\n**Example 1:** Convert 2 to Hex. \r\n\r\n1) First convert 2 to binary in two&#39;s complement: \r\n\r\n    2 (base 10) = 0000 0010 (base 2)\r\n\r\n2) Now convert binary to hex:\r\n\r\n    0000 = 0x0 in hex\r\n    0010 = 0x2 in hex\r\n\r\n    therefore 2 = 0000 0010 = 0x02. \r\n\r\n\r\n**Example 2:** Convert -2 (in two&#39;s complement) to Hex.\r\n\r\n1) First convert -2 to binary in two&#39;s complement: \r\n\r\n    -2 (base 10) = 0000 0010 (direct conversion to binary) \r\n                   1111 1101 (invert bits)\r\n                   1111 1110 (add 1)\r\n    therefore: -2 = 1111 1110 (in two&#39;s complement)\r\n\r\n\r\n2) Now Convert to Hex:\r\n\r\n    1111 = 0xF in hex\r\n    1110 = 0xE in hex\r\n\r\n    therefore: -2 = 1111 1110 = 0xFE.\r\n\r\n\r\n&lt;hr&gt;\r\nDoing this In Java\r\n==================\r\n\r\nNow that we&#39;ve covered the concept, you&#39;ll find we can achieve what we want with some simple masking and shifting. The key thing to understand is that **the byte you are trying to convert is already in two&#39;s complement.** You don&#39;t do this conversion yourself. I think this is a major point of confusion on this issue. Take for example the follow byte array:\r\n\r\n    byte[] bytes = new byte[]{-2,2};\r\n\r\nWe just manually converted them to hex, above, but how can we do it in Java? Here&#39;s how: \r\n\r\n**Step 1:** Create a StringBuffer to hold our computation.  \r\n\r\n    StringBuffer buffer = new StringBuffer();\r\n\r\n**Step 2:** Isolate the higher order bits, convert them to hex, and append them to the buffer\r\n\r\nGiven the binary number 1111 1110, we can isolate the higher order bits by first shifting them over by 4, and then zeroing out the rest of the number. Logically this is simple, however, the implementation details in Java (and many languages) introduce a wrinkle because of sign extension. Essentially, when you shift a byte value, Java first converts your value to an integer, and then performs sign extension. So while you would expect 1111 1110 &gt;&gt; 4 to be 0000 1111, in reality, in Java it is represented as the two&#39;s complement 0xFFFFFFFF!\r\n\r\nSo returning to our example: \r\n\r\n    1111 1110 &gt;&gt; 4 (shift right 4) = 1111 1111 1111 1111 1111 1111 1111 1111 (32 bit sign-extended number in two&#39;s complement)\r\n\r\nWe can then isolate the bits with a mask:\r\n\r\n    1111 1111 1111 1111 1111 1111 1111 1111 &amp; 0xF = 0000 0000 0000 0000 0000 0000 0000 1111\r\n    therefore: 1111 = 0xF in hex. \r\n\r\nIn Java we can do this all in one shot:\r\n \r\n    Character.forDigit((bytes[0] &gt;&gt; 4) &amp; 0xF, 16);\r\n\r\nThe forDigit function just maps the number you pass it onto the set of hexadecimal numbers 0-F. \r\n\r\n**Step 3:** Next we need to isolate the lower order bits. Since the bits we want are already in the correct position, we can just mask them out:\r\n\r\n    1111 1110 &amp; 0xF = 0000 0000 0000 0000 0000 0000 0000 1110 (recall sign extension from before)\r\n    therefore: 1110 = 0xE in hex.  \r\n\r\nLike before, in Java we can do this all in one shot:\r\n\r\n    Character.forDigit((bytes[0] &amp; 0xF), 16);\r\n\r\nPutting this all together we can do it as a for loop and convert the entire array:\r\n\r\n    for(int i=0; i &lt; bytes.length; i++){\r\n        buffer.append(Character.forDigit((bytes[i] &gt;&gt; 4) &amp; 0xF, 16));\r\n        buffer.append(Character.forDigit((bytes[i] &amp; 0xF), 16));\r\n    }\r\n\r\nHopefully this explanation makes things clearer for those of you wondering exactly what is going on in the many examples you will find on the internet. Hopefully I didn&#39;t make any egregious errors, but suggestions and corrections are highly welcome!  \r\n","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>I am posting because none of the existing answers explain why their approaches work, which I think is really important for this problem. In some cases, this causes the proposed solution to appear unnecessarily complicated and subtle.  To illustrate I will provide a fairly straightforward approach, but I'll provide a bit more detail to help illustrate <strong>why</strong> it works.</p>\n\n<p>First off, what are we trying to do? We want to convert a byte value (or an array of bytes) to a string which represents a hexadecimal value in ASCII. So step one is to find out exactly what a byte in Java is:</p>\n\n<blockquote>\n  <p>The byte data type is an <strong>8-bit signed two's complement integer</strong>. It has a minimum value of -128 and a maximum value of 127 (inclusive). The byte data type can be useful for saving memory in large arrays, where the memory savings actually matters. They can also be used in place of int where their limits help to clarify your code; the fact that a variable's range is limited can serve as a form of documentation.</p>\n</blockquote>\n\n<p>What does this mean? A few things: First and most importantly, it means we are working with <strong>8-bits</strong>. So for example we can write the number 2 as 0000 0010. However, since it is two's complement, we write a negative 2 like this: 1111 1110. What is also means is that converting to hex is very straightforward. That is, you simply convert each 4 bit segment directly to hex. Note that to make sense of negative numbers in this scheme you will first need to understand two's complement. If you don't already understand two's complement, you can read an excellent explanation, here: <a href=\"http://www.cs.cornell.edu/~tomf/notes/cps104/twoscomp.html\">http://www.cs.cornell.edu/~tomf/notes/cps104/twoscomp.html</a></p>\n\n<hr>\n\n<h1>Converting Two's Complement to Hex In General</h1>\n\n<p>Once a number is in two's complement it is dead simple to convert it to hex. In general, converting from binary to hex is very straightforward, and as you will see in the next two examples, you can go directly from two's complement to hex. </p>\n\n<h2>Examples</h2>\n\n<p><strong>Example 1:</strong> Convert 2 to Hex. </p>\n\n<p>1) First convert 2 to binary in two's complement: </p>\n\n<pre><code>2 (base 10) = 0000 0010 (base 2)\n</code></pre>\n\n<p>2) Now convert binary to hex:</p>\n\n<pre><code>0000 = 0x0 in hex\n0010 = 0x2 in hex\n\ntherefore 2 = 0000 0010 = 0x02. \n</code></pre>\n\n<p><strong>Example 2:</strong> Convert -2 (in two's complement) to Hex.</p>\n\n<p>1) First convert -2 to binary in two's complement: </p>\n\n<pre><code>-2 (base 10) = 0000 0010 (direct conversion to binary) \n               1111 1101 (invert bits)\n               1111 1110 (add 1)\ntherefore: -2 = 1111 1110 (in two's complement)\n</code></pre>\n\n<p>2) Now Convert to Hex:</p>\n\n<pre><code>1111 = 0xF in hex\n1110 = 0xE in hex\n\ntherefore: -2 = 1111 1110 = 0xFE.\n</code></pre>\n\n<p><hr></p>\n\n<h1>Doing this In Java</h1>\n\n<p>Now that we've covered the concept, you'll find we can achieve what we want with some simple masking and shifting. The key thing to understand is that <strong>the byte you are trying to convert is already in two's complement.</strong> You don't do this conversion yourself. I think this is a major point of confusion on this issue. Take for example the follow byte array:</p>\n\n<pre><code>byte[] bytes = new byte[]{-2,2};\n</code></pre>\n\n<p>We just manually converted them to hex, above, but how can we do it in Java? Here's how: </p>\n\n<p><strong>Step 1:</strong> Create a StringBuffer to hold our computation.  </p>\n\n<pre><code>StringBuffer buffer = new StringBuffer();\n</code></pre>\n\n<p><strong>Step 2:</strong> Isolate the higher order bits, convert them to hex, and append them to the buffer</p>\n\n<p>Given the binary number 1111 1110, we can isolate the higher order bits by first shifting them over by 4, and then zeroing out the rest of the number. Logically this is simple, however, the implementation details in Java (and many languages) introduce a wrinkle because of sign extension. Essentially, when you shift a byte value, Java first converts your value to an integer, and then performs sign extension. So while you would expect 1111 1110 >> 4 to be 0000 1111, in reality, in Java it is represented as the two's complement 0xFFFFFFFF!</p>\n\n<p>So returning to our example: </p>\n\n<pre><code>1111 1110 &gt;&gt; 4 (shift right 4) = 1111 1111 1111 1111 1111 1111 1111 1111 (32 bit sign-extended number in two's complement)\n</code></pre>\n\n<p>We can then isolate the bits with a mask:</p>\n\n<pre><code>1111 1111 1111 1111 1111 1111 1111 1111 &amp; 0xF = 0000 0000 0000 0000 0000 0000 0000 1111\ntherefore: 1111 = 0xF in hex. \n</code></pre>\n\n<p>In Java we can do this all in one shot:</p>\n\n<pre><code>Character.forDigit((bytes[0] &gt;&gt; 4) &amp; 0xF, 16);\n</code></pre>\n\n<p>The forDigit function just maps the number you pass it onto the set of hexadecimal numbers 0-F. </p>\n\n<p><strong>Step 3:</strong> Next we need to isolate the lower order bits. Since the bits we want are already in the correct position, we can just mask them out:</p>\n\n<pre><code>1111 1110 &amp; 0xF = 0000 0000 0000 0000 0000 0000 0000 1110 (recall sign extension from before)\ntherefore: 1110 = 0xE in hex.  \n</code></pre>\n\n<p>Like before, in Java we can do this all in one shot:</p>\n\n<pre><code>Character.forDigit((bytes[0] &amp; 0xF), 16);\n</code></pre>\n\n<p>Putting this all together we can do it as a for loop and convert the entire array:</p>\n\n<pre><code>for(int i=0; i &lt; bytes.length; i++){\n    buffer.append(Character.forDigit((bytes[i] &gt;&gt; 4) &amp; 0xF, 16));\n    buffer.append(Character.forDigit((bytes[i] &amp; 0xF), 16));\n}\n</code></pre>\n\n<p>Hopefully this explanation makes things clearer for those of you wondering exactly what is going on in the many examples you will find on the internet. Hopefully I didn't make any egregious errors, but suggestions and corrections are highly welcome!  </p>\n"},{"tags":[],"owner":{"account_id":2105809,"reputation":3833,"user_id":1872168,"accept_rate":64,"display_name":"Crystark"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1510572552,"creation_date":1416234939,"answer_id":26975031,"question_id":2817752,"body_markdown":"The **fastest** way i&#39;ve yet found to do this is the following:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    private static final String    HEXES    = &quot;0123456789ABCDEF&quot;;\r\n\r\n    static String getHex(byte[] raw) {\r\n        final StringBuilder hex = new StringBuilder(2 * raw.length);\r\n        for (final byte b : raw) {\r\n            hex.append(HEXES.charAt((b &amp; 0xF0) &gt;&gt; 4)).append(HEXES.charAt((b &amp; 0x0F)));\r\n        }\r\n        return hex.toString();\r\n    }\r\n\r\nIt&#39;s ~ 50x faster than `String.format`. if you want to test it:\r\n\r\n    public class MyTest{\r\n        private static final String    HEXES        = &quot;0123456789ABCDEF&quot;;\r\n\r\n        @Test\r\n        public void test_get_hex() {\r\n\t\t\tbyte[] raw = {\r\n\t\t\t\t(byte) 0xd0, (byte) 0x0b, (byte) 0x01, (byte) 0x2a, (byte) 0x63,\r\n\t\t\t\t(byte) 0x78, (byte) 0x01, (byte) 0x2e, (byte) 0xe3, (byte) 0x6c,\r\n\t\t\t\t(byte) 0xd2, (byte) 0xb0, (byte) 0x78, (byte) 0x51, (byte) 0x73,\r\n\t\t\t\t(byte) 0x34, (byte) 0xaf, (byte) 0xbb, (byte) 0xa0, (byte) 0x9f,\r\n\t\t\t\t(byte) 0xc3, (byte) 0xa9, (byte) 0x00, (byte) 0x1e, (byte) 0xd5,\r\n\t\t\t\t(byte) 0x4b, (byte) 0x89, (byte) 0xa3, (byte) 0x45, (byte) 0x35,\r\n\t\t\t\t(byte) 0xd6, (byte) 0x10,\r\n\t\t\t};\r\n\r\n\t\t\tint N = 77777;\r\n\t\t\tlong t;\r\n\r\n\t\t\t{\r\n\t\t\t\tt = System.currentTimeMillis();\r\n\t\t\t\tfor (int i = 0; i &lt; N; i++) {\r\n\t\t\t\t\tfinal StringBuilder hex = new StringBuilder(2 * raw.length);\r\n\t\t\t\t\tfor (final byte b : raw) {\r\n\t\t\t\t\t\thex.append(HEXES.charAt((b &amp; 0xF0) &gt;&gt; 4)).append(HEXES.charAt((b &amp; 0x0F)));\r\n\t\t\t\t\t}\r\n\t\t\t\t\thex.toString();\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(System.currentTimeMillis() - t); // 50\r\n\t\t\t}\r\n\r\n\t\t\t{\r\n\t\t\t\tt = System.currentTimeMillis();\r\n\t\t\t\tfor (int i = 0; i &lt; N; i++) {\r\n\t\t\t\t\tStringBuilder hex = new StringBuilder(2 * raw.length);\r\n\t\t\t\t\tfor (byte b : raw) {\r\n\t\t\t\t\t\thex.append(String.format(&quot;%02X&quot;, b));\r\n\t\t\t\t\t}\r\n\t\t\t\t\thex.toString();\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(System.currentTimeMillis() - t); // 2535\r\n\t\t\t}\r\n\r\n        }\r\n    }\r\n\r\n**Edit**: Just found something just a lil faster and that holds on one line but is **not compatible** with JRE 9. **Use at your own risks**\r\n\r\n    import javax.xml.bind.DatatypeConverter;\r\n\r\n    DatatypeConverter.printHexBinary(raw);","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>The <strong>fastest</strong> way i've yet found to do this is the following:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static final String    HEXES    = \"0123456789ABCDEF\";\n\nstatic String getHex(byte[] raw) {\n    final StringBuilder hex = new StringBuilder(2 * raw.length);\n    for (final byte b : raw) {\n        hex.append(HEXES.charAt((b &amp; 0xF0) &gt;&gt; 4)).append(HEXES.charAt((b &amp; 0x0F)));\n    }\n    return hex.toString();\n}\n</code></pre>\n\n<p>It's ~ 50x faster than <code>String.format</code>. if you want to test it:</p>\n\n<pre><code>public class MyTest{\n    private static final String    HEXES        = \"0123456789ABCDEF\";\n\n    @Test\n    public void test_get_hex() {\n        byte[] raw = {\n            (byte) 0xd0, (byte) 0x0b, (byte) 0x01, (byte) 0x2a, (byte) 0x63,\n            (byte) 0x78, (byte) 0x01, (byte) 0x2e, (byte) 0xe3, (byte) 0x6c,\n            (byte) 0xd2, (byte) 0xb0, (byte) 0x78, (byte) 0x51, (byte) 0x73,\n            (byte) 0x34, (byte) 0xaf, (byte) 0xbb, (byte) 0xa0, (byte) 0x9f,\n            (byte) 0xc3, (byte) 0xa9, (byte) 0x00, (byte) 0x1e, (byte) 0xd5,\n            (byte) 0x4b, (byte) 0x89, (byte) 0xa3, (byte) 0x45, (byte) 0x35,\n            (byte) 0xd6, (byte) 0x10,\n        };\n\n        int N = 77777;\n        long t;\n\n        {\n            t = System.currentTimeMillis();\n            for (int i = 0; i &lt; N; i++) {\n                final StringBuilder hex = new StringBuilder(2 * raw.length);\n                for (final byte b : raw) {\n                    hex.append(HEXES.charAt((b &amp; 0xF0) &gt;&gt; 4)).append(HEXES.charAt((b &amp; 0x0F)));\n                }\n                hex.toString();\n            }\n            System.out.println(System.currentTimeMillis() - t); // 50\n        }\n\n        {\n            t = System.currentTimeMillis();\n            for (int i = 0; i &lt; N; i++) {\n                StringBuilder hex = new StringBuilder(2 * raw.length);\n                for (byte b : raw) {\n                    hex.append(String.format(\"%02X\", b));\n                }\n                hex.toString();\n            }\n            System.out.println(System.currentTimeMillis() - t); // 2535\n        }\n\n    }\n}\n</code></pre>\n\n<p><strong>Edit</strong>: Just found something just a lil faster and that holds on one line but is <strong>not compatible</strong> with JRE 9. <strong>Use at your own risks</strong></p>\n\n<pre><code>import javax.xml.bind.DatatypeConverter;\n\nDatatypeConverter.printHexBinary(raw);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4159949,"reputation":888,"user_id":3410272,"display_name":"bapho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425899553,"creation_date":1425899553,"answer_id":28940589,"question_id":2817752,"body_markdown":"This is a very fast way. No external libaries needed.\r\n\r\n    final protected static char[] HEXARRAY = &quot;0123456789abcdef&quot;.toCharArray();\r\n    \r\n    \tpublic static String encodeHexString( byte[] bytes ) {\r\n    \r\n    \t\tchar[] hexChars = new char[bytes.length * 2];\r\n    \t\tfor (int j = 0; j &lt; bytes.length; j++) {\r\n    \t\t\tint v = bytes[j] &amp; 0xFF;\r\n    \t\t\thexChars[j * 2] = HEXARRAY[v &gt;&gt;&gt; 4];\r\n    \t\t\thexChars[j * 2 + 1] = HEXARRAY[v &amp; 0x0F];\r\n    \t\t}\r\n    \t\treturn new String(hexChars);\r\n    \t}","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>This is a very fast way. No external libaries needed.</p>\n\n<pre><code>final protected static char[] HEXARRAY = \"0123456789abcdef\".toCharArray();\n\n    public static String encodeHexString( byte[] bytes ) {\n\n        char[] hexChars = new char[bytes.length * 2];\n        for (int j = 0; j &lt; bytes.length; j++) {\n            int v = bytes[j] &amp; 0xFF;\n            hexChars[j * 2] = HEXARRAY[v &gt;&gt;&gt; 4];\n            hexChars[j * 2 + 1] = HEXARRAY[v &amp; 0x0F];\n        }\n        return new String(hexChars);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":427045,"reputation":5360,"user_id":808603,"accept_rate":73,"display_name":"Jerinaw"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1440088825,"creation_date":1440088825,"answer_id":32123766,"question_id":2817752,"body_markdown":"This is the code that I&#39;ve found to run the fastest so far. I ran it on 109015 byte arrays of length 32, in 23ms. I was running it on a VM so it&#39;ll probably run faster on bare metal.\r\n    \r\n    public static final char[] HEX_DIGITS =         {&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;};\r\n\r\n    public static char[] encodeHex( final byte[] data ){\r\n        final int l = data.length;\r\n        final char[] out = new char[l&lt;&lt;1];\r\n        for( int i=0,j=0; i&lt;l; i++ ){\r\n            out[j++] = HEX_DIGITS[(0xF0 &amp; data[i]) &gt;&gt;&gt; 4];\r\n            out[j++] = HEX_DIGITS[0x0F &amp; data[i]];\r\n        }\r\n        return out;\r\n    }\r\n\r\nThen you can just do \r\n\r\n    String s = new String( encodeHex(myByteArray) );","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>This is the code that I've found to run the fastest so far. I ran it on 109015 byte arrays of length 32, in 23ms. I was running it on a VM so it'll probably run faster on bare metal.</p>\n\n<pre><code>public static final char[] HEX_DIGITS =         {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F'};\n\npublic static char[] encodeHex( final byte[] data ){\n    final int l = data.length;\n    final char[] out = new char[l&lt;&lt;1];\n    for( int i=0,j=0; i&lt;l; i++ ){\n        out[j++] = HEX_DIGITS[(0xF0 &amp; data[i]) &gt;&gt;&gt; 4];\n        out[j++] = HEX_DIGITS[0x0F &amp; data[i]];\n    }\n    return out;\n}\n</code></pre>\n\n<p>Then you can just do </p>\n\n<pre><code>String s = new String( encodeHex(myByteArray) );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":293480,"reputation":4652,"user_id":596794,"accept_rate":28,"display_name":"Mehdi Ijadnazar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457155058,"creation_date":1457155058,"answer_id":35810380,"question_id":2817752,"body_markdown":"I couldn&#39;t figure out what exactly you meant by byte String, but here are some conversions from byte to String and vice versa, of course there is a lot more on the official documentations\r\n\r\n    Integer intValue = 149;\r\n\r\nThe corresponding byte value is:\r\n\r\n    Byte byteValue = intValue.byteValue(); // this will convert the rightmost byte of the intValue to byte, because Byte is an 8 bit object and Integer is at least 16 bit, and it will give you a signed number in this case -107\r\n\r\nget the integer value back from a Byte variable:\r\n\r\n    Integer anInt = byteValue.intValue(); // This will convert the byteValue variable to a signed Integer\r\n\r\n**From Byte and Integer to hex String:**  \r\nThis is the way I do it:  \r\n\r\n    Integer anInt = 149\r\n    Byte aByte = anInt.byteValue();\r\n    \r\n    String hexFromInt = &quot;&quot;.format(&quot;0x%x&quot;, anInt); // This will output 0x95\r\n    String hexFromByte = &quot;&quot;.format(&quot;0x%x&quot;, aByte); // This will output 0x95\r\n\r\n**Converting an array of bytes to a hex string:**  \r\nAs far as I know there is no simple function to convert all the elements inside an array of some `Object` to elements of another `Object`, So you have to do it yourself. You can use the following functions:\r\n\r\n**From byte[] to String:**\r\n\r\n        public static String byteArrayToHexString(byte[] byteArray){\r\n            String hexString = &quot;&quot;;\r\n    \r\n            for(int i = 0; i &lt; byteArray.length; i++){\r\n                String thisByte = &quot;&quot;.format(&quot;%x&quot;, byteArray[i]);\r\n                hexString += thisByte;\r\n            }\r\n    \r\n            return hexString;\r\n        }\r\n\r\n**And from hex string to byte[]:**\r\n\r\n    public static byte[] hexStringToByteArray(String hexString){\r\n        byte[] bytes = new byte[hexString.length() / 2];\r\n    \r\n        for(int i = 0; i &lt; hexString.length(); i += 2){\r\n            String sub = hexString.substring(i, i + 2);\r\n            Integer intVal = Integer.parseInt(sub, 16);\r\n            bytes[i / 2] = intVal.byteValue();\r\n            String hex = &quot;&quot;.format(&quot;0x%x&quot;, bytes[i / 2]);\r\n        }\r\n    \r\n        return bytes;\r\n    }  \r\n\r\nIt is too late but I hope this could help some others ;)","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>I couldn't figure out what exactly you meant by byte String, but here are some conversions from byte to String and vice versa, of course there is a lot more on the official documentations</p>\n\n<pre><code>Integer intValue = 149;\n</code></pre>\n\n<p>The corresponding byte value is:</p>\n\n<pre><code>Byte byteValue = intValue.byteValue(); // this will convert the rightmost byte of the intValue to byte, because Byte is an 8 bit object and Integer is at least 16 bit, and it will give you a signed number in this case -107\n</code></pre>\n\n<p>get the integer value back from a Byte variable:</p>\n\n<pre><code>Integer anInt = byteValue.intValue(); // This will convert the byteValue variable to a signed Integer\n</code></pre>\n\n<p><strong>From Byte and Integer to hex String:</strong><br>\nThis is the way I do it:  </p>\n\n<pre><code>Integer anInt = 149\nByte aByte = anInt.byteValue();\n\nString hexFromInt = \"\".format(\"0x%x\", anInt); // This will output 0x95\nString hexFromByte = \"\".format(\"0x%x\", aByte); // This will output 0x95\n</code></pre>\n\n<p><strong>Converting an array of bytes to a hex string:</strong><br>\nAs far as I know there is no simple function to convert all the elements inside an array of some <code>Object</code> to elements of another <code>Object</code>, So you have to do it yourself. You can use the following functions:</p>\n\n<p><strong>From byte[] to String:</strong></p>\n\n<pre><code>    public static String byteArrayToHexString(byte[] byteArray){\n        String hexString = \"\";\n\n        for(int i = 0; i &lt; byteArray.length; i++){\n            String thisByte = \"\".format(\"%x\", byteArray[i]);\n            hexString += thisByte;\n        }\n\n        return hexString;\n    }\n</code></pre>\n\n<p><strong>And from hex string to byte[]:</strong></p>\n\n<pre><code>public static byte[] hexStringToByteArray(String hexString){\n    byte[] bytes = new byte[hexString.length() / 2];\n\n    for(int i = 0; i &lt; hexString.length(); i += 2){\n        String sub = hexString.substring(i, i + 2);\n        Integer intVal = Integer.parseInt(sub, 16);\n        bytes[i / 2] = intVal.byteValue();\n        String hex = \"\".format(\"0x%x\", bytes[i / 2]);\n    }\n\n    return bytes;\n}  \n</code></pre>\n\n<p>It is too late but I hope this could help some others ;)</p>\n"},{"tags":[],"owner":{"account_id":2364348,"reputation":991,"user_id":2070363,"accept_rate":100,"display_name":"Wender"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1634107387,"creation_date":1476969742,"answer_id":40155699,"question_id":2817752,"body_markdown":"    BigInteger n = new BigInteger(byteArray);\r\n    String hexa = n.toString(16);","title":"How can I convert a byte array to hexadecimal in Java?","body":"<pre><code>BigInteger n = new BigInteger(byteArray);\nString hexa = n.toString(16);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8321393,"reputation":479,"user_id":6263968,"display_name":"lynx"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1481650404,"creation_date":1481650404,"answer_id":41127219,"question_id":2817752,"body_markdown":"The Best solution is this badass one-liner:\r\n\r\n    String hex=DatatypeConverter.printHexBinary(byte[] b);\r\n\r\nas mentioned [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5942951/6263968","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>The Best solution is this badass one-liner:</p>\n\n<pre><code>String hex=DatatypeConverter.printHexBinary(byte[] b);\n</code></pre>\n\n<p>as mentioned <a href=\"https://stackoverflow.com/a/5942951/6263968\">here</a></p>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1548451186,"creation_date":1485866925,"answer_id":41958045,"question_id":2817752,"body_markdown":"You can use the method from [Bouncy Castle Provider][1] library:\r\n\r\n    org.bouncycastle.util.encoders.Hex.toHexString(byteArray);\r\n\r\n&gt; The Bouncy Castle Crypto package is a Java implementation of\r\n&gt; cryptographic algorithms. This jar contains JCE provider and\r\n&gt; lightweight API for the Bouncy Castle Cryptography APIs for JDK 1.5 to\r\n&gt; JDK 1.8.\r\n\r\nMaven dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n        &lt;version&gt;1.60&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nor from [Apache Commons Codec][2]:\r\n\r\n    org.apache.commons.codec.binary.Hex.encodeHexString(byteArray);\r\n\r\n&gt; The Apache Commons Codec package contains simple encoder and decoders\r\n&gt; for various formats such as Base64 and Hexadecimal. In addition to\r\n&gt; these widely used encoders and decoders, the codec package also\r\n&gt; maintains a collection of phonetic encoding utilities.\r\n\r\nMaven dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n        &lt;version&gt;1.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n \r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/1.60\r\n  [2]: https://mvnrepository.com/artifact/commons-codec/commons-codec/1.11","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>You can use the method from <a href=\"https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/1.60\" rel=\"nofollow noreferrer\">Bouncy Castle Provider</a> library:</p>\n\n<pre><code>org.bouncycastle.util.encoders.Hex.toHexString(byteArray);\n</code></pre>\n\n<blockquote>\n  <p>The Bouncy Castle Crypto package is a Java implementation of\n  cryptographic algorithms. This jar contains JCE provider and\n  lightweight API for the Bouncy Castle Cryptography APIs for JDK 1.5 to\n  JDK 1.8.</p>\n</blockquote>\n\n<p>Maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n    &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n    &lt;version&gt;1.60&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>or from <a href=\"https://mvnrepository.com/artifact/commons-codec/commons-codec/1.11\" rel=\"nofollow noreferrer\">Apache Commons Codec</a>:</p>\n\n<pre><code>org.apache.commons.codec.binary.Hex.encodeHexString(byteArray);\n</code></pre>\n\n<blockquote>\n  <p>The Apache Commons Codec package contains simple encoder and decoders\n  for various formats such as Base64 and Hexadecimal. In addition to\n  these widely used encoders and decoders, the codec package also\n  maintains a collection of phonetic encoding utilities.</p>\n</blockquote>\n\n<p>Maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n    &lt;version&gt;1.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3687061,"reputation":835,"user_id":3070613,"display_name":"loop"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528929087,"creation_date":1528927105,"answer_id":50846880,"question_id":2817752,"body_markdown":"There&#39;s your fast method:\r\n\r\n    \tprivate static final String[] hexes = new String[]{\r\n\t\t\t&quot;00&quot;,&quot;01&quot;,&quot;02&quot;,&quot;03&quot;,&quot;04&quot;,&quot;05&quot;,&quot;06&quot;,&quot;07&quot;,&quot;08&quot;,&quot;09&quot;,&quot;0A&quot;,&quot;0B&quot;,&quot;0C&quot;,&quot;0D&quot;,&quot;0E&quot;,&quot;0F&quot;,\r\n\t\t\t&quot;10&quot;,&quot;11&quot;,&quot;12&quot;,&quot;13&quot;,&quot;14&quot;,&quot;15&quot;,&quot;16&quot;,&quot;17&quot;,&quot;18&quot;,&quot;19&quot;,&quot;1A&quot;,&quot;1B&quot;,&quot;1C&quot;,&quot;1D&quot;,&quot;1E&quot;,&quot;1F&quot;,\r\n\t\t\t&quot;20&quot;,&quot;21&quot;,&quot;22&quot;,&quot;23&quot;,&quot;24&quot;,&quot;25&quot;,&quot;26&quot;,&quot;27&quot;,&quot;28&quot;,&quot;29&quot;,&quot;2A&quot;,&quot;2B&quot;,&quot;2C&quot;,&quot;2D&quot;,&quot;2E&quot;,&quot;2F&quot;,\r\n\t\t\t&quot;30&quot;,&quot;31&quot;,&quot;32&quot;,&quot;33&quot;,&quot;34&quot;,&quot;35&quot;,&quot;36&quot;,&quot;37&quot;,&quot;38&quot;,&quot;39&quot;,&quot;3A&quot;,&quot;3B&quot;,&quot;3C&quot;,&quot;3D&quot;,&quot;3E&quot;,&quot;3F&quot;,\r\n\t\t\t&quot;40&quot;,&quot;41&quot;,&quot;42&quot;,&quot;43&quot;,&quot;44&quot;,&quot;45&quot;,&quot;46&quot;,&quot;47&quot;,&quot;48&quot;,&quot;49&quot;,&quot;4A&quot;,&quot;4B&quot;,&quot;4C&quot;,&quot;4D&quot;,&quot;4E&quot;,&quot;4F&quot;,\r\n\t\t\t&quot;50&quot;,&quot;51&quot;,&quot;52&quot;,&quot;53&quot;,&quot;54&quot;,&quot;55&quot;,&quot;56&quot;,&quot;57&quot;,&quot;58&quot;,&quot;59&quot;,&quot;5A&quot;,&quot;5B&quot;,&quot;5C&quot;,&quot;5D&quot;,&quot;5E&quot;,&quot;5F&quot;,\r\n\t\t\t&quot;60&quot;,&quot;61&quot;,&quot;62&quot;,&quot;63&quot;,&quot;64&quot;,&quot;65&quot;,&quot;66&quot;,&quot;67&quot;,&quot;68&quot;,&quot;69&quot;,&quot;6A&quot;,&quot;6B&quot;,&quot;6C&quot;,&quot;6D&quot;,&quot;6E&quot;,&quot;6F&quot;,\r\n\t\t\t&quot;70&quot;,&quot;71&quot;,&quot;72&quot;,&quot;73&quot;,&quot;74&quot;,&quot;75&quot;,&quot;76&quot;,&quot;77&quot;,&quot;78&quot;,&quot;79&quot;,&quot;7A&quot;,&quot;7B&quot;,&quot;7C&quot;,&quot;7D&quot;,&quot;7E&quot;,&quot;7F&quot;,\r\n\t\t\t&quot;80&quot;,&quot;81&quot;,&quot;82&quot;,&quot;83&quot;,&quot;84&quot;,&quot;85&quot;,&quot;86&quot;,&quot;87&quot;,&quot;88&quot;,&quot;89&quot;,&quot;8A&quot;,&quot;8B&quot;,&quot;8C&quot;,&quot;8D&quot;,&quot;8E&quot;,&quot;8F&quot;,\r\n\t\t\t&quot;90&quot;,&quot;91&quot;,&quot;92&quot;,&quot;93&quot;,&quot;94&quot;,&quot;95&quot;,&quot;96&quot;,&quot;97&quot;,&quot;98&quot;,&quot;99&quot;,&quot;9A&quot;,&quot;9B&quot;,&quot;9C&quot;,&quot;9D&quot;,&quot;9E&quot;,&quot;9F&quot;,\r\n\t\t\t&quot;A0&quot;,&quot;A1&quot;,&quot;A2&quot;,&quot;A3&quot;,&quot;A4&quot;,&quot;A5&quot;,&quot;A6&quot;,&quot;A7&quot;,&quot;A8&quot;,&quot;A9&quot;,&quot;AA&quot;,&quot;AB&quot;,&quot;AC&quot;,&quot;AD&quot;,&quot;AE&quot;,&quot;AF&quot;,\r\n\t\t\t&quot;B0&quot;,&quot;B1&quot;,&quot;B2&quot;,&quot;B3&quot;,&quot;B4&quot;,&quot;B5&quot;,&quot;B6&quot;,&quot;B7&quot;,&quot;B8&quot;,&quot;B9&quot;,&quot;BA&quot;,&quot;BB&quot;,&quot;BC&quot;,&quot;BD&quot;,&quot;BE&quot;,&quot;BF&quot;,\r\n\t\t\t&quot;C0&quot;,&quot;C1&quot;,&quot;C2&quot;,&quot;C3&quot;,&quot;C4&quot;,&quot;C5&quot;,&quot;C6&quot;,&quot;C7&quot;,&quot;C8&quot;,&quot;C9&quot;,&quot;CA&quot;,&quot;CB&quot;,&quot;CC&quot;,&quot;CD&quot;,&quot;CE&quot;,&quot;CF&quot;,\r\n\t\t\t&quot;D0&quot;,&quot;D1&quot;,&quot;D2&quot;,&quot;D3&quot;,&quot;D4&quot;,&quot;D5&quot;,&quot;D6&quot;,&quot;D7&quot;,&quot;D8&quot;,&quot;D9&quot;,&quot;DA&quot;,&quot;DB&quot;,&quot;DC&quot;,&quot;DD&quot;,&quot;DE&quot;,&quot;DF&quot;,\r\n\t\t\t&quot;E0&quot;,&quot;E1&quot;,&quot;E2&quot;,&quot;E3&quot;,&quot;E4&quot;,&quot;E5&quot;,&quot;E6&quot;,&quot;E7&quot;,&quot;E8&quot;,&quot;E9&quot;,&quot;EA&quot;,&quot;EB&quot;,&quot;EC&quot;,&quot;ED&quot;,&quot;EE&quot;,&quot;EF&quot;,\r\n\t\t\t&quot;F0&quot;,&quot;F1&quot;,&quot;F2&quot;,&quot;F3&quot;,&quot;F4&quot;,&quot;F5&quot;,&quot;F6&quot;,&quot;F7&quot;,&quot;F8&quot;,&quot;F9&quot;,&quot;FA&quot;,&quot;FB&quot;,&quot;FC&quot;,&quot;FD&quot;,&quot;FE&quot;,&quot;FF&quot;\r\n\t\t};\r\n\r\n\t\tpublic static String byteToHex(byte b) {\r\n\t\t\treturn hexes[b&amp;0xFF];\r\n\t\t}\r\n","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>There's your fast method:</p>\n\n<pre><code>    private static final String[] hexes = new String[]{\n        \"00\",\"01\",\"02\",\"03\",\"04\",\"05\",\"06\",\"07\",\"08\",\"09\",\"0A\",\"0B\",\"0C\",\"0D\",\"0E\",\"0F\",\n        \"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"1A\",\"1B\",\"1C\",\"1D\",\"1E\",\"1F\",\n        \"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"2A\",\"2B\",\"2C\",\"2D\",\"2E\",\"2F\",\n        \"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"3A\",\"3B\",\"3C\",\"3D\",\"3E\",\"3F\",\n        \"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"4A\",\"4B\",\"4C\",\"4D\",\"4E\",\"4F\",\n        \"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"5A\",\"5B\",\"5C\",\"5D\",\"5E\",\"5F\",\n        \"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"6A\",\"6B\",\"6C\",\"6D\",\"6E\",\"6F\",\n        \"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"7A\",\"7B\",\"7C\",\"7D\",\"7E\",\"7F\",\n        \"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"8A\",\"8B\",\"8C\",\"8D\",\"8E\",\"8F\",\n        \"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"9A\",\"9B\",\"9C\",\"9D\",\"9E\",\"9F\",\n        \"A0\",\"A1\",\"A2\",\"A3\",\"A4\",\"A5\",\"A6\",\"A7\",\"A8\",\"A9\",\"AA\",\"AB\",\"AC\",\"AD\",\"AE\",\"AF\",\n        \"B0\",\"B1\",\"B2\",\"B3\",\"B4\",\"B5\",\"B6\",\"B7\",\"B8\",\"B9\",\"BA\",\"BB\",\"BC\",\"BD\",\"BE\",\"BF\",\n        \"C0\",\"C1\",\"C2\",\"C3\",\"C4\",\"C5\",\"C6\",\"C7\",\"C8\",\"C9\",\"CA\",\"CB\",\"CC\",\"CD\",\"CE\",\"CF\",\n        \"D0\",\"D1\",\"D2\",\"D3\",\"D4\",\"D5\",\"D6\",\"D7\",\"D8\",\"D9\",\"DA\",\"DB\",\"DC\",\"DD\",\"DE\",\"DF\",\n        \"E0\",\"E1\",\"E2\",\"E3\",\"E4\",\"E5\",\"E6\",\"E7\",\"E8\",\"E9\",\"EA\",\"EB\",\"EC\",\"ED\",\"EE\",\"EF\",\n        \"F0\",\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\",\"F8\",\"F9\",\"FA\",\"FB\",\"FC\",\"FD\",\"FE\",\"FF\"\n    };\n\n    public static String byteToHex(byte b) {\n        return hexes[b&amp;0xFF];\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4471197,"reputation":1304,"user_id":3637482,"display_name":"Jan Martin Keil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547801837,"creation_date":1547801837,"answer_id":54250518,"question_id":2817752,"body_markdown":"Just like some other answers, I recommend to use `String.format()` and `BigInteger`. But to interpret the byte array as [big-endian binary representation](https://en.wikipedia.org/wiki/Endianness) instead of [two&#39;s-complement binary representation](https://en.wikipedia.org/wiki/Two%27s_complement) (with signum and incomplete use of possible hex values range) use [BigInteger(int signum, byte[] magnitude)](https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html#BigInteger-int-byte:A-), not [BigInteger(byte[] val)](https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html#BigInteger-byte:A-).\r\n\r\nFor example, for a byte array of length 8 use:\r\n\r\n    String.format(&quot;%016X&quot;, new BigInteger(1,bytes))\r\n\r\nAdvantages:\r\n\r\n* leading zeros\r\n* no signum\r\n* only built-in functions\r\n* only one line of code\r\n\r\nDisadvantage:\r\n\r\n* there might be more efficient ways to do that\r\n\r\nExample:\r\n\r\n```java\r\nbyte[] bytes = new byte[8];\r\nRandom r = new Random();\r\nSystem.out.println(&quot;big-endian       | two&#39;s-complement&quot;);\r\nSystem.out.println(&quot;-----------------|-----------------&quot;);\r\nfor (int i = 0; i &lt; 10; i++) {\r\n\tr.nextBytes(bytes);\r\n\tSystem.out.print(String.format(&quot;%016X&quot;, new BigInteger(1,bytes)));\r\n\tSystem.out.print(&quot; | &quot;);\r\n\tSystem.out.print(String.format(&quot;%016X&quot;, new BigInteger(bytes)));\r\n\tSystem.out.println();\r\n}\r\n```\r\n\r\nExample output:\r\n\r\n```\r\nbig-endian       | two&#39;s-complement\r\n-----------------|-----------------\r\n3971B56BC7C80590 | 3971B56BC7C80590\r\n64D3C133C86CCBDC | 64D3C133C86CCBDC\r\nB232EFD5BC40FA61 | -4DCD102A43BF059F\r\nCD350CC7DF7C9731 | -32CAF338208368CF\r\n82CDC9ECC1BC8EED | -7D3236133E437113\r\nF438C8C34911A7F5 | -BC7373CB6EE580B\r\n5E99738BE6ACE798 | 5E99738BE6ACE798\r\nA565FE5CE43AA8DD | -5A9A01A31BC55723\r\n032EBA783D2E9A9F | 032EBA783D2E9A9F\r\n8FDAA07263217ABA | -70255F8D9CDE8546\r\n```","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>Just like some other answers, I recommend to use <code>String.format()</code> and <code>BigInteger</code>. But to interpret the byte array as <a href=\"https://en.wikipedia.org/wiki/Endianness\" rel=\"nofollow noreferrer\">big-endian binary representation</a> instead of <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">two's-complement binary representation</a> (with signum and incomplete use of possible hex values range) use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html#BigInteger-int-byte:A-\" rel=\"nofollow noreferrer\">BigInteger(int signum, byte[] magnitude)</a>, not <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html#BigInteger-byte:A-\" rel=\"nofollow noreferrer\">BigInteger(byte[] val)</a>.</p>\n\n<p>For example, for a byte array of length 8 use:</p>\n\n<pre><code>String.format(\"%016X\", new BigInteger(1,bytes))\n</code></pre>\n\n<p>Advantages:</p>\n\n<ul>\n<li>leading zeros</li>\n<li>no signum</li>\n<li>only built-in functions</li>\n<li>only one line of code</li>\n</ul>\n\n<p>Disadvantage:</p>\n\n<ul>\n<li>there might be more efficient ways to do that</li>\n</ul>\n\n<p>Example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>byte[] bytes = new byte[8];\nRandom r = new Random();\nSystem.out.println(\"big-endian       | two's-complement\");\nSystem.out.println(\"-----------------|-----------------\");\nfor (int i = 0; i &lt; 10; i++) {\n    r.nextBytes(bytes);\n    System.out.print(String.format(\"%016X\", new BigInteger(1,bytes)));\n    System.out.print(\" | \");\n    System.out.print(String.format(\"%016X\", new BigInteger(bytes)));\n    System.out.println();\n}\n</code></pre>\n\n<p>Example output:</p>\n\n<pre><code>big-endian       | two's-complement\n-----------------|-----------------\n3971B56BC7C80590 | 3971B56BC7C80590\n64D3C133C86CCBDC | 64D3C133C86CCBDC\nB232EFD5BC40FA61 | -4DCD102A43BF059F\nCD350CC7DF7C9731 | -32CAF338208368CF\n82CDC9ECC1BC8EED | -7D3236133E437113\nF438C8C34911A7F5 | -BC7373CB6EE580B\n5E99738BE6ACE798 | 5E99738BE6ACE798\nA565FE5CE43AA8DD | -5A9A01A31BC55723\n032EBA783D2E9A9F | 032EBA783D2E9A9F\n8FDAA07263217ABA | -70255F8D9CDE8546\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1060062,"reputation":1639,"user_id":1061882,"display_name":"Svetlin Nakov"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1548449716,"creation_date":1548426085,"answer_id":54367131,"question_id":2817752,"body_markdown":"A short and simple way to convert `byte[]` to hex string by using `BigInteger`:\r\n\r\n    import java.math.BigInteger;\r\n\r\n    byte[] bytes = new byte[] {(byte)255, 10, 20, 30};\r\n    String hex = new BigInteger(1, bytes).toString(16);\r\n    System.out.println(hex); // ff0a141e\r\n\r\n## How It Works?\r\n\r\nThe built-in system class `java.math.BigInteger` class ([java.math.BigInteger](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html)) is compatible with binary and hex data:\r\n\r\n - Its has a constructor `BigInteger(signum=1, byte[])` to create a big integer by `byte[]` (set its first parameter `signum` = `1` to handle correctly the negative bytes)\r\n - Use `BigInteger.toString(16)` to convert the big integer to **hex** string\r\n - To parse a hex number use `new BigInteger(&quot;ffa74b&quot;, 16)` - does not handle correctly the leading zero\r\n\r\nIf you may want to have the **leading zero** in the hex result, check its size and add the missing zero if necessary:\r\n\r\n    if (hex.length() % 2 == 1)\r\n        hex = &quot;0&quot; + hex;\r\n\r\n## Notes\r\n\r\nUse `new BigInteger(1, bytes)`, instead of `new BigInteger(bytes)`, because Java is &quot;**broken by design**&quot; and the `byte` data type does not hold bytes but signed tiny integers [-128...127]. If the first byte is negative, the `BigInteger` assumes you pass a negative big integer. Just pass `1` as first parameter (`signum=1`).\r\n\r\nThe conversion back **from hex to `byte[]`** is tricky: sometimes a leading zero enters in the produced output and it should be cleaned like this:\r\n\r\n    byte[] bytes = new BigInteger(&quot;ffa74b&quot;, 16).toByteArray();\r\n    if (bytes[0] == 0) {\r\n        byte[] newBytes = new byte[bytes.length - 1];\r\n        System.arraycopy(bytes, 1, newBytes, 0, newBytes.length);\r\n        bytes = newBytes;\r\n    }\r\n\r\nThe last note is the if the `byte[]` has several leading zeroes, they will be lost.","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>A short and simple way to convert <code>byte[]</code> to hex string by using <code>BigInteger</code>:</p>\n\n<pre><code>import java.math.BigInteger;\n\nbyte[] bytes = new byte[] {(byte)255, 10, 20, 30};\nString hex = new BigInteger(1, bytes).toString(16);\nSystem.out.println(hex); // ff0a141e\n</code></pre>\n\n<h2>How It Works?</h2>\n\n<p>The built-in system class <code>java.math.BigInteger</code> class (<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigInteger.html\" rel=\"noreferrer\">java.math.BigInteger</a>) is compatible with binary and hex data:</p>\n\n<ul>\n<li>Its has a constructor <code>BigInteger(signum=1, byte[])</code> to create a big integer by <code>byte[]</code> (set its first parameter <code>signum</code> = <code>1</code> to handle correctly the negative bytes)</li>\n<li>Use <code>BigInteger.toString(16)</code> to convert the big integer to <strong>hex</strong> string</li>\n<li>To parse a hex number use <code>new BigInteger(\"ffa74b\", 16)</code> - does not handle correctly the leading zero</li>\n</ul>\n\n<p>If you may want to have the <strong>leading zero</strong> in the hex result, check its size and add the missing zero if necessary:</p>\n\n<pre><code>if (hex.length() % 2 == 1)\n    hex = \"0\" + hex;\n</code></pre>\n\n<h2>Notes</h2>\n\n<p>Use <code>new BigInteger(1, bytes)</code>, instead of <code>new BigInteger(bytes)</code>, because Java is \"<strong>broken by design</strong>\" and the <code>byte</code> data type does not hold bytes but signed tiny integers [-128...127]. If the first byte is negative, the <code>BigInteger</code> assumes you pass a negative big integer. Just pass <code>1</code> as first parameter (<code>signum=1</code>).</p>\n\n<p>The conversion back <strong>from hex to <code>byte[]</code></strong> is tricky: sometimes a leading zero enters in the produced output and it should be cleaned like this:</p>\n\n<pre><code>byte[] bytes = new BigInteger(\"ffa74b\", 16).toByteArray();\nif (bytes[0] == 0) {\n    byte[] newBytes = new byte[bytes.length - 1];\n    System.arraycopy(bytes, 1, newBytes, 0, newBytes.length);\n    bytes = newBytes;\n}\n</code></pre>\n\n<p>The last note is the if the <code>byte[]</code> has several leading zeroes, they will be lost.</p>\n"},{"tags":[],"owner":{"account_id":257772,"reputation":3131,"user_id":539481,"accept_rate":50,"display_name":"Paweł Prażak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606230494,"creation_date":1606230494,"answer_id":64989267,"question_id":2817752,"body_markdown":"If you use Tink, then there is:\r\n\r\n```java\r\npackage com.google.crypto.tink.subtle;\r\n\r\npublic final class Hex {\r\n  public static String encode(final byte[] bytes) { ... }\r\n  public static byte[] decode(String hex) { ... }\r\n}\r\n```\r\n\r\nso something like this should work:\r\n```java\r\nimport com.google.crypto.tink.subtle.Hex;\r\n\r\nbyte[] bytes = {-1, 0, 1, 2, 3 };\r\nString enc = Hex.encode(bytes);\r\nbyte[] dec = Hex.decode(enc)\r\n```","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>If you use Tink, then there is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.google.crypto.tink.subtle;\n\npublic final class Hex {\n  public static String encode(final byte[] bytes) { ... }\n  public static byte[] decode(String hex) { ... }\n}\n</code></pre>\n<p>so something like this should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.crypto.tink.subtle.Hex;\n\nbyte[] bytes = {-1, 0, 1, 2, 3 };\nString enc = Hex.encode(bytes);\nbyte[] dec = Hex.decode(enc)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609787758,"creation_date":1609787758,"answer_id":65568495,"question_id":2817752,"body_markdown":"If you like streams, here is a single-expression version of the format-and-concatenate approach:\r\n\r\n    String hex = IntStream.range(0, bytes.length)\r\n                          .map(i -&gt; bytes[i] &amp; 0xff)\r\n                          .mapToObj(b -&gt; String.format(&quot;%02x&quot;, b))\r\n                          .collect(Collectors.joining());\r\n\r\nIt&#39;s a shame there isn&#39;t a method like `Arrays::streamUnsignedBytes` for this.","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>If you like streams, here is a single-expression version of the format-and-concatenate approach:</p>\n<pre><code>String hex = IntStream.range(0, bytes.length)\n                      .map(i -&gt; bytes[i] &amp; 0xff)\n                      .mapToObj(b -&gt; String.format(&quot;%02x&quot;, b))\n                      .collect(Collectors.joining());\n</code></pre>\n<p>It's a shame there isn't a method like <code>Arrays::streamUnsignedBytes</code> for this.</p>\n"},{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1613695095,"creation_date":1613695095,"answer_id":66270222,"question_id":2817752,"body_markdown":"# Java 17: Introducing *java.util.HexFormat*\r\n\r\nJava 17 comes with a utility to convert byte arrays and numbers to their hexadecimal counterparts. Let&#39;s say we have an MD5 digest of &quot;Hello World&quot; as a byte-array:\r\n\r\n```java\r\nvar md5 = MessageDigest.getInstance(&quot;md5&quot;);\r\nmd5.update(&quot;Hello world&quot;.getBytes(UTF_8));\r\n\r\nvar digest = md5.digest();\r\n```\r\nNow we can use the **`HexFormat.of().formatHex(byte[])`** method to convert the given `byte[]` to its hexadecimal form:\r\n```java\r\njshell&gt; HexFormat.of().formatHex(digest)\r\n$7 ==&gt; &quot;3e25960a79dbc69b674cd4ec67a72c62&quot;\r\n```\r\nThe `withUpperCase()` method returns the uppercase version of the previous output:\r\n```java\r\njshell&gt; HexFormat.of().withUpperCase().formatHex(digest)\r\n$8 ==&gt; &quot;3E25960A79DBC69B674CD4EC67A72C62&quot;\r\n```\r\n","title":"How can I convert a byte array to hexadecimal in Java?","body":"<h1>Java 17: Introducing <em>java.util.HexFormat</em></h1>\n<p>Java 17 comes with a utility to convert byte arrays and numbers to their hexadecimal counterparts. Let's say we have an MD5 digest of &quot;Hello World&quot; as a byte-array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var md5 = MessageDigest.getInstance(&quot;md5&quot;);\nmd5.update(&quot;Hello world&quot;.getBytes(UTF_8));\n\nvar digest = md5.digest();\n</code></pre>\n<p>Now we can use the <strong><code>HexFormat.of().formatHex(byte[])</code></strong> method to convert the given <code>byte[]</code> to its hexadecimal form:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jshell&gt; HexFormat.of().formatHex(digest)\n$7 ==&gt; &quot;3e25960a79dbc69b674cd4ec67a72c62&quot;\n</code></pre>\n<p>The <code>withUpperCase()</code> method returns the uppercase version of the previous output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jshell&gt; HexFormat.of().withUpperCase().formatHex(digest)\n$8 ==&gt; &quot;3E25960A79DBC69B674CD4EC67A72C62&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3191144,"reputation":5197,"user_id":2695344,"accept_rate":42,"display_name":"Martin Kersten"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617544769,"creation_date":1617544769,"answer_id":66942004,"question_id":2817752,"body_markdown":"Just adding my two cents as I see many answers using a char array and/or using a StringBuilder instance and claiming to be fast or faster. \r\n\r\nSince I had a different idea using the ASCII table organization having 0-9 at code points 48-57 and A-F at 65-70 and a-f at 97-102, I wanted to test which idea is the fastest.\r\n\r\nSince I have not done something like that for quite some years now, I am giving this an extensive shoot out. I use 1 billion bytes in different sized arrays (1M, 1K, 10) so we have 1000 times 1M bytes per array, 1M times 1000 bytes per array and 100M times for 10 bytes per array.\r\n\r\nTurns out the char array from 1-F wins. Using a char array as output instead of a StringBuilder also wins hands down (less objects, no test of capacity and no new array nor copying when growing). Furthermore you seem to get a small penalty when using a foreach (for(var b : bytes)) loop.\r\n\r\nThe version using my idea was approx. 15% slower for 1M bytes per array, 21% slower for 1000 bytes per array and 18% slower for 10 bytes per array. The StringBuilder version was 210%, 380% and 310% slower. \r\n\r\nBad but not that unexpected as a lookup of small arrays in first level cache beats one if and an add... . (one cache access + offset calculation vs. one if, one jump, one add -&gt; not sure about the jump thou).\r\n\r\nMy version:\r\n\r\n    public static String bytesToHex(byte [] bytes) {\r\n\t\t\r\n\t\tchar [] result = new char [bytes.length * 2];\r\n\t\t\r\n\t\tfor(int index = 0; index &lt; bytes.length; index++) {\r\n\t\t\tint v = bytes[index]; \r\n\r\n\t\t\tint upper = (v &gt;&gt;&gt; 4) &amp; 0xF;\r\n\t\t\tresult[index * 2] = (char)(upper + (upper &lt; 10 ? 48 : 65 - 10));\r\n\t\t\t\r\n\t\t\tint lower = v &amp; 0xF;\r\n\t\t\tresult[index * 2 + 1] = (char)(lower + (lower &lt; 10 ? 48 : 65 - 10));\r\n\t\t}\r\n\t\t\r\n\t\treturn new String(result);\r\n\t}\r\n\r\nPS: Yes I did multiple runs and took the best run each, did warm up and also did runs with 10 billion characters to be sure same picture... .","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>Just adding my two cents as I see many answers using a char array and/or using a StringBuilder instance and claiming to be fast or faster.</p>\n<p>Since I had a different idea using the ASCII table organization having 0-9 at code points 48-57 and A-F at 65-70 and a-f at 97-102, I wanted to test which idea is the fastest.</p>\n<p>Since I have not done something like that for quite some years now, I am giving this an extensive shoot out. I use 1 billion bytes in different sized arrays (1M, 1K, 10) so we have 1000 times 1M bytes per array, 1M times 1000 bytes per array and 100M times for 10 bytes per array.</p>\n<p>Turns out the char array from 1-F wins. Using a char array as output instead of a StringBuilder also wins hands down (less objects, no test of capacity and no new array nor copying when growing). Furthermore you seem to get a small penalty when using a foreach (for(var b : bytes)) loop.</p>\n<p>The version using my idea was approx. 15% slower for 1M bytes per array, 21% slower for 1000 bytes per array and 18% slower for 10 bytes per array. The StringBuilder version was 210%, 380% and 310% slower.</p>\n<p>Bad but not that unexpected as a lookup of small arrays in first level cache beats one if and an add... . (one cache access + offset calculation vs. one if, one jump, one add -&gt; not sure about the jump thou).</p>\n<p>My version:</p>\n<pre><code>public static String bytesToHex(byte [] bytes) {\n    \n    char [] result = new char [bytes.length * 2];\n    \n    for(int index = 0; index &lt; bytes.length; index++) {\n        int v = bytes[index]; \n\n        int upper = (v &gt;&gt;&gt; 4) &amp; 0xF;\n        result[index * 2] = (char)(upper + (upper &lt; 10 ? 48 : 65 - 10));\n        \n        int lower = v &amp; 0xF;\n        result[index * 2 + 1] = (char)(lower + (lower &lt; 10 ? 48 : 65 - 10));\n    }\n    \n    return new String(result);\n}\n</code></pre>\n<p>PS: Yes I did multiple runs and took the best run each, did warm up and also did runs with 10 billion characters to be sure same picture... .</p>\n"}],"owner":{"account_id":615266,"reputation":2161,"user_id":337942,"display_name":"Vivek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386162,"favorite_count":0,"down_vote_count":0,"up_vote_count":209,"answer_count":23,"score":209,"last_activity_date":1693807375,"creation_date":1273658915,"question_id":2817752,"body_markdown":"I have an array of bytes. I want each byte String of that array to be converted to its corresponding hexadecimal value.\r\n\r\nIs there any function in Java to convert a byte array to Hexadecimal?","title":"How can I convert a byte array to hexadecimal in Java?","body":"<p>I have an array of bytes. I want each byte String of that array to be converted to its corresponding hexadecimal value.</p>\n<p>Is there any function in Java to convert a byte array to Hexadecimal?</p>\n"},{"tags":["java","oracle","oracle11g","oracle-sqldeveloper","oracle-apex"],"answers":[{"tags":[],"owner":{"display_name":"user13768246"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693805986,"creation_date":1693805986,"answer_id":77035298,"question_id":77031925,"body_markdown":"@jariola answer this question in Oracle forums and i want to share the correct answer here.\r\n&quot;Go edit your calendar region. Find attribute static id. Enter some string to that field and use that same string in JavaScript like this: &lt;p&gt; Create dynamic action that executes JavaScript when item changes &lt;p&gt;`var lMonth = &quot;2023-&quot; + this.triggeringElement.value + &quot;-01&quot;;\r\napex.region(&quot;&lt;region static id here&gt;&quot;).widget().data(&quot;fullCalendar&quot;).gotoDate(lMonth);`&quot; &lt;p&gt;Thank you very much jariola ","title":"Oracle APEX is it possible to change the calendar month when changing the month on a page item?","body":"<p>@jariola answer this question in Oracle forums and i want to share the correct answer here.\n&quot;Go edit your calendar region. Find attribute static id. Enter some string to that field and use that same string in JavaScript like this: <p> Create dynamic action that executes JavaScript when item changes <p><code>var lMonth = &quot;2023-&quot; + this.triggeringElement.value + &quot;-01&quot;; apex.region(&quot;&lt;region static id here&gt;&quot;).widget().data(&quot;fullCalendar&quot;).gotoDate(lMonth);</code>&quot; <p>Thank you very much jariola</p>\n"}],"owner":{"display_name":"user13768246"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77035298,"answer_count":1,"score":0,"last_activity_date":1693805986,"creation_date":1693737708,"question_id":77031925,"body_markdown":"because I&#39;m new to this and my JS knowledge is limited,\r\n\r\nI have P_2135_MONTH (which contains a select list of all months 01-12).\r\n\r\nCalendar always loads on current month e.g. September 2023\r\n\r\nis it possible to change the calendar month when changing the month on a page item?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dRu5S.png","title":"Oracle APEX is it possible to change the calendar month when changing the month on a page item?","body":"<p>because I'm new to this and my JS knowledge is limited,</p>\n<p>I have P_2135_MONTH (which contains a select list of all months 01-12).</p>\n<p>Calendar always loads on current month e.g. September 2023</p>\n<p>is it possible to change the calendar month when changing the month on a page item?</p>\n<p><a href=\"https://i.stack.imgur.com/dRu5S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dRu5S.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-8","partitioning"],"comments":[{"owner":{"account_id":3096665,"reputation":3441,"user_id":2621706,"accept_rate":94,"display_name":"Uwe Allner"},"score":0,"creation_date":1435042789,"post_id":30995763,"comment_id":50020677,"body_markdown":"You may have a look into Guava sourcecode and do it accordingly...?","body":"You may have a look into Guava sourcecode and do it accordingly...?"},{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1435042879,"post_id":30995763,"comment_id":50020739,"body_markdown":"Wring a function in plain java is not a problem, but JDK8 have some great features with streaming and operations on collections, and I assume it would be faster than writing own code. But that is only my assumption.","body":"Wring a function in plain java is not a problem, but JDK8 have some great features with streaming and operations on collections, and I assume it would be faster than writing own code. But that is only my assumption."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1435042901,"post_id":30995763,"comment_id":50020746,"body_markdown":"I marked it as possible duplicate as Java-8 solution is also available there.","body":"I marked it as possible duplicate as Java-8 solution is also available there."},{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1435044434,"post_id":30995763,"comment_id":50021659,"body_markdown":"Yes, I have seen that Question, but I missed Jdk8 solution, thanks:)","body":"Yes, I have seen that Question, but I missed Jdk8 solution, thanks:)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1435044645,"post_id":30995763,"comment_id":50021763,"body_markdown":"Also discussed [here](http://stackoverflow.com/q/28210775/2711488)","body":"Also discussed <a href=\"http://stackoverflow.com/q/28210775/2711488\">here</a>"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1435051584,"post_id":30995763,"comment_id":50026048,"body_markdown":"@Holger, by the way just noticed that there are corner cases when list size or chunk size is close to `Integer.MAX_VALUE` and integer overflow is possible. Your answer has the same problem. I edited my answer in linked question.","body":"@Holger, by the way just noticed that there are corner cases when list size or chunk size is close to <code>Integer.MAX_VALUE</code> and integer overflow is possible. Your answer has the same problem. I edited my answer in linked question."},{"owner":{"account_id":6274802,"reputation":2986,"user_id":4877782,"display_name":"Shivkumar Birnale"},"score":0,"creation_date":1569593497,"post_id":30995763,"comment_id":102659090,"body_markdown":"Does it work the same way for List&lt;String&gt;?","body":"Does it work the same way for List&lt;String&gt;?"},{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1569608727,"post_id":30995763,"comment_id":102665934,"body_markdown":"Soliton 4 will work. Or use custom collector.","body":"Soliton 4 will work. Or use custom collector."}],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1554704855,"creation_date":1435042910,"answer_id":30995931,"question_id":30995763,"body_markdown":"That can be done easily using the `subList()` method:\r\n\r\n\tList&lt;String&gt; collection = new ArrayList&lt;&gt;(21);\r\n\t// fill collection\r\n\tint chunkSize = 10;\r\n\tList&lt;List&lt;String&gt;&gt; lists = new ArrayList&lt;&gt;();\r\n\tfor (int i = 0; i &lt; collection.size(); i += chunkSize) {\r\n\t\tint end = Math.min(collection.size(), i + chunkSize);\r\n\t\tlists.add(collection.subList(i, end));\r\n\t}","title":"Java 8 partition list","body":"<p>That can be done easily using the <code>subList()</code> method:</p>\n\n<pre><code>List&lt;String&gt; collection = new ArrayList&lt;&gt;(21);\n// fill collection\nint chunkSize = 10;\nList&lt;List&lt;String&gt;&gt; lists = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; collection.size(); i += chunkSize) {\n    int end = Math.min(collection.size(), i + chunkSize);\n    lists.add(collection.subList(i, end));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8315618,"reputation":103,"user_id":6249027,"display_name":"chabbi aissa"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1532957806,"creation_date":1532953944,"answer_id":51594060,"question_id":30995763,"body_markdown":"Try using this code, it uses Java 8:\r\n\r\n    public static Collection&lt;List&lt;Integer&gt;&gt; splitListBySize(List&lt;Integer&gt; intList, int size) {\r\n\r\n\t\tif (!intList.isEmpty() &amp;&amp; size &gt; 0) {\r\n\t\t\tfinal AtomicInteger counter = new AtomicInteger(0);\r\n\t\t\treturn intList.stream().collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / size)).values();\r\n\t\t}\r\n\t\treturn null;\r\n\t}","title":"Java 8 partition list","body":"<p>Try using this code, it uses Java 8:</p>\n\n<pre><code>public static Collection&lt;List&lt;Integer&gt;&gt; splitListBySize(List&lt;Integer&gt; intList, int size) {\n\n    if (!intList.isEmpty() &amp;&amp; size &gt; 0) {\n        final AtomicInteger counter = new AtomicInteger(0);\n        return intList.stream().collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / size)).values();\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693805641,"creation_date":1554750744,"answer_id":55580266,"question_id":30995763,"body_markdown":"I have tried my own solution with a custom made Collector. I hope someone will find it useful, or help me improve it.\r\n\r\n    class PartitioningCollector&lt;T&gt; implements Collector&lt;T, List&lt;List&lt;T&gt;&gt;, List&lt;List&lt;T&gt;&gt;&gt; {\r\n    \r\n            private final int batchSize;\r\n            private final List&lt;T&gt; batch;\r\n    \r\n            public PartitioningCollector(int batchSize) {\r\n                this.batchSize = batchSize;\r\n                this.batch = new ArrayList&lt;&gt;(batchSize);\r\n            }\r\n    \r\n            @Override\r\n            public Supplier&lt;List&lt;List&lt;T&gt;&gt;&gt; supplier() {\r\n                return LinkedList::new;\r\n            }\r\n    \r\n            @Override\r\n            public BiConsumer&lt;List&lt;List&lt;T&gt;&gt;, T&gt; accumulator() {\r\n                return (total, element) -&gt; {\r\n                    batch.add(element);\r\n                    if (batch.size() &gt;= batchSize) {\r\n                        total.add(batch);\r\n                        batch = new ArrayList&lt;&gt;(batchSize);\r\n                    }\r\n                };\r\n            }\r\n    \r\n            @Override\r\n            public BinaryOperator&lt;List&lt;List&lt;T&gt;&gt;&gt; combiner() {\r\n                return (left, right) -&gt; {\r\n                    List&lt;List&lt;T&gt;&gt; result = new ArrayList&lt;&gt;();\r\n                    result.addAll(left);\r\n                    result.addAll(left);\r\n                    return result;\r\n                };\r\n            }\r\n    \r\n            @Override\r\n            public Function&lt;List&lt;List&lt;T&gt;&gt;, List&lt;List&lt;T&gt;&gt;&gt; finisher() {\r\n                return result -&gt; {\r\n                    if (!batch.isEmpty()) {\r\n                        total.add(batch);\r\n                        batch = new ArrayList&lt;&gt;(batchSize);\r\n                    }\r\n                    return result;\r\n                };\r\n            }\r\n    \r\n            @Override\r\n            public Set&lt;Characteristics&gt; characteristics() {\r\n                return emptySet();\r\n            }\r\n        }","title":"Java 8 partition list","body":"<p>I have tried my own solution with a custom made Collector. I hope someone will find it useful, or help me improve it.</p>\n<pre><code>class PartitioningCollector&lt;T&gt; implements Collector&lt;T, List&lt;List&lt;T&gt;&gt;, List&lt;List&lt;T&gt;&gt;&gt; {\n\n        private final int batchSize;\n        private final List&lt;T&gt; batch;\n\n        public PartitioningCollector(int batchSize) {\n            this.batchSize = batchSize;\n            this.batch = new ArrayList&lt;&gt;(batchSize);\n        }\n\n        @Override\n        public Supplier&lt;List&lt;List&lt;T&gt;&gt;&gt; supplier() {\n            return LinkedList::new;\n        }\n\n        @Override\n        public BiConsumer&lt;List&lt;List&lt;T&gt;&gt;, T&gt; accumulator() {\n            return (total, element) -&gt; {\n                batch.add(element);\n                if (batch.size() &gt;= batchSize) {\n                    total.add(batch);\n                    batch = new ArrayList&lt;&gt;(batchSize);\n                }\n            };\n        }\n\n        @Override\n        public BinaryOperator&lt;List&lt;List&lt;T&gt;&gt;&gt; combiner() {\n            return (left, right) -&gt; {\n                List&lt;List&lt;T&gt;&gt; result = new ArrayList&lt;&gt;();\n                result.addAll(left);\n                result.addAll(left);\n                return result;\n            };\n        }\n\n        @Override\n        public Function&lt;List&lt;List&lt;T&gt;&gt;, List&lt;List&lt;T&gt;&gt;&gt; finisher() {\n            return result -&gt; {\n                if (!batch.isEmpty()) {\n                    total.add(batch);\n                    batch = new ArrayList&lt;&gt;(batchSize);\n                }\n                return result;\n            };\n        }\n\n        @Override\n        public Set&lt;Characteristics&gt; characteristics() {\n            return emptySet();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1492447,"reputation":2094,"user_id":1399223,"display_name":"Mohamed.Abdo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561730733,"creation_date":1561730733,"answer_id":56808442,"question_id":30995763,"body_markdown":"    private final String dataSheet = &quot;103343262,6478342944, 103426540,84528784843, 103278808,263716791426, 103426733,27736529279, \r\n    103426000,27718159078, 103218982,19855201547, 103427376,27717278645, \r\n    103243034,81667273413&quot;;\r\n\r\n        final int chunk = 2;\r\n        AtomicInteger counter = new AtomicInteger();\r\n        Collection&lt;List&lt;String&gt;&gt; chuncks= Arrays.stream(dataSheet.split(&quot;,&quot;))\r\n                .map(String::trim)\r\n                .collect(Collectors.groupingBy(i-&gt;counter.getAndIncrement()/chunk))\r\n                .values();\r\n\r\n&gt; result:\r\n\r\n    pairs =\r\n     &quot;103218982&quot; -&gt; &quot;19855201547&quot;\r\n     &quot;103278808&quot; -&gt; &quot;263716791426&quot;\r\n     &quot;103243034&quot; -&gt; &quot;81667273413&quot;\r\n     &quot;103426733&quot; -&gt; &quot;27736529279&quot;\r\n     &quot;103426540&quot; -&gt; &quot;84528784843&quot;\r\n     &quot;103427376&quot; -&gt; &quot;27717278645&quot;\r\n     &quot;103426000&quot; -&gt; &quot;27718159078&quot;\r\n     &quot;103343262&quot; -&gt; &quot;6478342944&quot;\r\n\r\n&gt; We need to group each 2 elements into key, value pairs, so will partion the list into chunks of 2, (counter.getAndIncrement() / 2) will result same number each 2 hits ex:\r\n\r\n    IntStream.range(0,6).forEach((i)-&gt;System.out.println(counter.getAndIncrement()/2));\r\n    prints:\r\n    0\r\n    0\r\n    1\r\n    1\r\n    2\r\n    2\r\n\r\n&gt; You may ajust chunk sizee to partition lists sizes.","title":"Java 8 partition list","body":"<pre><code>private final String dataSheet = \"103343262,6478342944, 103426540,84528784843, 103278808,263716791426, 103426733,27736529279, \n103426000,27718159078, 103218982,19855201547, 103427376,27717278645, \n103243034,81667273413\";\n\n    final int chunk = 2;\n    AtomicInteger counter = new AtomicInteger();\n    Collection&lt;List&lt;String&gt;&gt; chuncks= Arrays.stream(dataSheet.split(\",\"))\n            .map(String::trim)\n            .collect(Collectors.groupingBy(i-&gt;counter.getAndIncrement()/chunk))\n            .values();\n</code></pre>\n\n<blockquote>\n  <p>result:</p>\n</blockquote>\n\n<pre><code>pairs =\n \"103218982\" -&gt; \"19855201547\"\n \"103278808\" -&gt; \"263716791426\"\n \"103243034\" -&gt; \"81667273413\"\n \"103426733\" -&gt; \"27736529279\"\n \"103426540\" -&gt; \"84528784843\"\n \"103427376\" -&gt; \"27717278645\"\n \"103426000\" -&gt; \"27718159078\"\n \"103343262\" -&gt; \"6478342944\"\n</code></pre>\n\n<blockquote>\n  <p>We need to group each 2 elements into key, value pairs, so will partion the list into chunks of 2, (counter.getAndIncrement() / 2) will result same number each 2 hits ex:</p>\n</blockquote>\n\n<pre><code>IntStream.range(0,6).forEach((i)-&gt;System.out.println(counter.getAndIncrement()/2));\nprints:\n0\n0\n1\n1\n2\n2\n</code></pre>\n\n<blockquote>\n  <p>You may ajust chunk sizee to partition lists sizes.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":20011158,"reputation":1,"user_id":14668148,"display_name":"Andreas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1605781169,"creation_date":1605781169,"answer_id":64909633,"question_id":30995763,"body_markdown":"Guava Lists class has a partition() method that does exactly this. See https://guava.dev/releases/21.0/api/docs/com/google/common/collect/Lists.html#partition-java.util.List-int-","title":"Java 8 partition list","body":"<p>Guava Lists class has a partition() method that does exactly this. See <a href=\"https://guava.dev/releases/21.0/api/docs/com/google/common/collect/Lists.html#partition-java.util.List-int-\" rel=\"nofollow noreferrer\">https://guava.dev/releases/21.0/api/docs/com/google/common/collect/Lists.html#partition-java.util.List-int-</a></p>\n"}],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40203,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":30995931,"answer_count":5,"score":25,"last_activity_date":1693805641,"creation_date":1435042342,"question_id":30995763,"body_markdown":"Is it possible to partition a List in pure Jdk8 into equal chunks (sublists).\r\n\r\nI know it is possible using Guava [Lists][1] class, but can we do it with pure Jdk? I don&#39;t want to add new jars to my project, just for one use case.\r\n\r\n\r\n**SOLUTONS**:\r\n\r\nThe best solution till now was presented by [tagir-valeev][2]:\r\n\r\n\r\nI have also found [three other possibilities][3], but they are ment for only few cases:\r\n\r\n 1.Collectors.partitioningBy() to split the list into 2 sublists – as follows:\r\n\r\n    intList.stream().collect(Collectors.partitioningBy(s -&gt; s &gt; 6));\r\n        List&lt;List&lt;Integer&gt;&gt; subSets = new ArrayList&lt;List&lt;Integer&gt;&gt;(groups.values());\r\n\r\n 2.Collectors.groupingBy() to split our list to multiple partitions:\r\n\r\n     Map&lt;Integer, List&lt;Integer&gt;&gt; groups = \r\n          intList.stream().collect(Collectors.groupingBy(s -&gt; (s - 1) / 3));\r\n        List&lt;List&lt;Integer&gt;&gt; subSets = new ArrayList&lt;List&lt;Integer&gt;&gt;(groups.values());\r\n\r\n3.Split by separator:\r\n\r\n    List&lt;Integer&gt; intList = Lists.newArrayList(1, 2, 3, 0, 4, 5, 6, 0, 7, 8);\r\n     \r\n        int[] indexes = \r\n          Stream.of(IntStream.of(-1), IntStream.range(0, intList.size())\r\n          .filter(i -&gt; intList.get(i) == 0), IntStream.of(intList.size()))\r\n          .flatMapToInt(s -&gt; s).toArray();\r\n        List&lt;List&lt;Integer&gt;&gt; subSets = \r\n          IntStream.range(0, indexes.length - 1)\r\n                   .mapToObj(i -&gt; intList.subList(indexes[i] + 1, indexes[i + 1]))\r\n                   .collect(Collectors.toList());\r\n\r\n\r\n4.Using Streams + counter [source][4]:\r\n\r\n    final List&lt;Integer&gt; numbers = Arrays.asList(1,2,3,4,5,6,7);\r\n    final int chunkSize = 3;\r\n    final AtomicInteger counter = new AtomicInteger();\r\n    \r\n    final Collection&lt;List&lt;Integer&gt;&gt; result = numbers.stream()\r\n        .collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / chunkSize))\r\n        .values();\r\n   \r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Lists.html\r\n  [2]: https://stackoverflow.com/questions/32434592/partition-a-java-8-stream\r\n  [3]: http://www.baeldung.com/java-list-split\r\n  [4]: https://e.printstacktrace.blog/divide-a-list-to-lists-of-n-size-in-Java-8/","title":"Java 8 partition list","body":"<p>Is it possible to partition a List in pure Jdk8 into equal chunks (sublists).</p>\n\n<p>I know it is possible using Guava <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Lists.html\" rel=\"noreferrer\">Lists</a> class, but can we do it with pure Jdk? I don't want to add new jars to my project, just for one use case.</p>\n\n<p><strong>SOLUTONS</strong>:</p>\n\n<p>The best solution till now was presented by <a href=\"https://stackoverflow.com/questions/32434592/partition-a-java-8-stream\">tagir-valeev</a>:</p>\n\n<p>I have also found <a href=\"http://www.baeldung.com/java-list-split\" rel=\"noreferrer\">three other possibilities</a>, but they are ment for only few cases:</p>\n\n<p>1.Collectors.partitioningBy() to split the list into 2 sublists – as follows:</p>\n\n<pre><code>intList.stream().collect(Collectors.partitioningBy(s -&gt; s &gt; 6));\n    List&lt;List&lt;Integer&gt;&gt; subSets = new ArrayList&lt;List&lt;Integer&gt;&gt;(groups.values());\n</code></pre>\n\n<p>2.Collectors.groupingBy() to split our list to multiple partitions:</p>\n\n<pre><code> Map&lt;Integer, List&lt;Integer&gt;&gt; groups = \n      intList.stream().collect(Collectors.groupingBy(s -&gt; (s - 1) / 3));\n    List&lt;List&lt;Integer&gt;&gt; subSets = new ArrayList&lt;List&lt;Integer&gt;&gt;(groups.values());\n</code></pre>\n\n<p>3.Split by separator:</p>\n\n<pre><code>List&lt;Integer&gt; intList = Lists.newArrayList(1, 2, 3, 0, 4, 5, 6, 0, 7, 8);\n\n    int[] indexes = \n      Stream.of(IntStream.of(-1), IntStream.range(0, intList.size())\n      .filter(i -&gt; intList.get(i) == 0), IntStream.of(intList.size()))\n      .flatMapToInt(s -&gt; s).toArray();\n    List&lt;List&lt;Integer&gt;&gt; subSets = \n      IntStream.range(0, indexes.length - 1)\n               .mapToObj(i -&gt; intList.subList(indexes[i] + 1, indexes[i + 1]))\n               .collect(Collectors.toList());\n</code></pre>\n\n<p>4.Using Streams + counter <a href=\"https://e.printstacktrace.blog/divide-a-list-to-lists-of-n-size-in-Java-8/\" rel=\"noreferrer\">source</a>:</p>\n\n<pre><code>final List&lt;Integer&gt; numbers = Arrays.asList(1,2,3,4,5,6,7);\nfinal int chunkSize = 3;\nfinal AtomicInteger counter = new AtomicInteger();\n\nfinal Collection&lt;List&lt;Integer&gt;&gt; result = numbers.stream()\n    .collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / chunkSize))\n    .values();\n</code></pre>\n"},{"tags":["java","multithreading","threadpoolexecutor"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1693806791,"post_id":77035274,"comment_id":135803926,"body_markdown":"I think the exercise is looking for you to use a _priority queue_.","body":"I think the exercise is looking for you to use a <i>priority queue</i>."},{"owner":{"account_id":22115554,"reputation":31,"user_id":16395987,"display_name":"Xhyub"},"score":0,"creation_date":1693978039,"post_id":77035274,"comment_id":135829038,"body_markdown":"Yes I thought about priority but there tasks would be ordered like in an OS, here it&#39;s just a phone call to be answered by the next available, simple enough right? I did go with my solution after reading this https://medium.com/javarevisited/thread-pools-in-java-why-use-multiple-thread-pools-in-an-application-2d06d0fa4d79.","body":"Yes I thought about priority but there tasks would be ordered like in an OS, here it&#39;s just a phone call to be answered by the next available, simple enough right? I did go with my solution after reading this <a href=\"https://medium.com/javarevisited/thread-pools-in-java-why-use-multiple-thread-pools-in-an-application-2d06d0fa4d79\" rel=\"nofollow noreferrer\">medium.com/javarevisited/&hellip;</a>."}],"owner":{"account_id":22115554,"reputation":31,"user_id":16395987,"display_name":"Xhyub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693805626,"creation_date":1693805626,"question_id":77035274,"body_markdown":"Hi I wanted to ask is there a way for multiple ThreadPoolExector types to poll tasks of a global queue? It is for an exercise out of a book which asks to design some OOP code for a Call Centre. There are three types of respondents in the callcentre and form a priority of who takes the call first.\r\n\r\n    public class Centre {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // initialize resources\r\n        CallScheduler scheduler = new CallScheduler();\r\n        scheduler.initCallQueue();\r\n\r\n        // set up roster here\r\n        int n_respondents = 6;\r\n        int n_managers = 5;\r\n        int n_directors = 3;\r\n\r\n        scheduler.initRosterExecutors(n_respondents, n_managers, n_directors);\r\n\r\n        // listen for incoming client requests\r\n        try {\r\n\r\n            ServerSocket server = new ServerSocket(SERVICE_PORT);\r\n            System.out.println(&quot;Call Centre started.&quot;);\r\n\r\n            for (;;) {\r\n\r\n                Socket nxt_cal = server.accept();\r\n\r\n                System.out.println(&quot;Received call from &quot; + nxt_cal.getInetAddress() + &quot;:&quot;\r\n                        + nxt_cal.getPort());\r\n\r\n                scheduler.dispatchCall(nxt_cal);\r\n                Logger.global.fine(&quot;Dispatched Call.);\r\n\r\n                // Close the connection\r\n                nxt_cal.close();\r\n            }\r\n        }\r\n\r\nI&#39;m able to dispatch the call to a queue and have only a single object type run the worker tasks. This is not as per the requirements of the center, I need to have all three types polling for available tasks. I thought I would use the ThreadPoolExecutor class with its maximumPoolSize and declare multiple types and perhaps manage with some kind of state machine. \r\n\r\n    public static void initRosterExecutors(int res, int man, int dir) {\r\n\r\n        final int first_to_the_call = 1;\r\n\r\n        res_executor =\r\n                new RespondentExecutor(first_to_the_call, res, 5, TimeUnit.SECONDS,\r\n                        bqu, new RespondentExecutor.AbortPolicy());\r\n\r\n        res_executor.prestartAllCoreThreads();\r\n\r\n        man_executor =\r\n                new RespondentExecutor(first_to_the_call, man, 5, TimeUnit.SECONDS,\r\n                        bqu, new RespondentExecutor.AbortPolicy());\r\n\r\n        man_executor.prestartAllCoreThreads();\r\n\r\n        dir_executor =\r\n                new RespondentExecutor(first_to_the_call, dir, 5, TimeUnit.SECONDS,\r\n                        bqu, new RespondentExecutor.AbortPolicy());\r\n\r\n        dir_executor.prestartAllCoreThreads();\r\n\r\n    }\r\n\r\nAny recommendation is appreciated.\r\n\r\n","title":"Multiple ThreadPoolExecutor types refer to one task queue","body":"<p>Hi I wanted to ask is there a way for multiple ThreadPoolExector types to poll tasks of a global queue? It is for an exercise out of a book which asks to design some OOP code for a Call Centre. There are three types of respondents in the callcentre and form a priority of who takes the call first.</p>\n<pre><code>public class Centre {\n\npublic static void main(String[] args) {\n\n    // initialize resources\n    CallScheduler scheduler = new CallScheduler();\n    scheduler.initCallQueue();\n\n    // set up roster here\n    int n_respondents = 6;\n    int n_managers = 5;\n    int n_directors = 3;\n\n    scheduler.initRosterExecutors(n_respondents, n_managers, n_directors);\n\n    // listen for incoming client requests\n    try {\n\n        ServerSocket server = new ServerSocket(SERVICE_PORT);\n        System.out.println(&quot;Call Centre started.&quot;);\n\n        for (;;) {\n\n            Socket nxt_cal = server.accept();\n\n            System.out.println(&quot;Received call from &quot; + nxt_cal.getInetAddress() + &quot;:&quot;\n                    + nxt_cal.getPort());\n\n            scheduler.dispatchCall(nxt_cal);\n            Logger.global.fine(&quot;Dispatched Call.);\n\n            // Close the connection\n            nxt_cal.close();\n        }\n    }\n</code></pre>\n<p>I'm able to dispatch the call to a queue and have only a single object type run the worker tasks. This is not as per the requirements of the center, I need to have all three types polling for available tasks. I thought I would use the ThreadPoolExecutor class with its maximumPoolSize and declare multiple types and perhaps manage with some kind of state machine.</p>\n<pre><code>public static void initRosterExecutors(int res, int man, int dir) {\n\n    final int first_to_the_call = 1;\n\n    res_executor =\n            new RespondentExecutor(first_to_the_call, res, 5, TimeUnit.SECONDS,\n                    bqu, new RespondentExecutor.AbortPolicy());\n\n    res_executor.prestartAllCoreThreads();\n\n    man_executor =\n            new RespondentExecutor(first_to_the_call, man, 5, TimeUnit.SECONDS,\n                    bqu, new RespondentExecutor.AbortPolicy());\n\n    man_executor.prestartAllCoreThreads();\n\n    dir_executor =\n            new RespondentExecutor(first_to_the_call, dir, 5, TimeUnit.SECONDS,\n                    bqu, new RespondentExecutor.AbortPolicy());\n\n    dir_executor.prestartAllCoreThreads();\n\n}\n</code></pre>\n<p>Any recommendation is appreciated.</p>\n"},{"tags":["java","bluej"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1692616358,"post_id":76941854,"comment_id":135643047,"body_markdown":"Your image is not clear!","body":"Your image is not clear!"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692616757,"post_id":76941854,"comment_id":135643123,"body_markdown":"What platform are you on? Is it Windows?","body":"What platform are you on? Is it Windows?"}],"answers":[{"tags":[],"owner":{"account_id":29264205,"reputation":1,"user_id":22420360,"display_name":"esauxbonilla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693805021,"creation_date":1693682433,"answer_id":77029733,"question_id":76941854,"body_markdown":"I already solved this problem, I had to put\r\n```none\r\n.root {\r\n\r\n   -fx-font-family: “Source Sans Pro&quot;;\r\n\r\n}\r\n```\r\non every CSS file in `lib\\stylesheets` folder.\r\n\r\nIf you want any help with this one-in-a-million chance problem, feel free to send me a message :)","title":"How can I fix this strange text in Blue J","body":"<p>I already solved this problem, I had to put</p>\n<pre class=\"lang-none prettyprint-override\"><code>.root {\n\n   -fx-font-family: “Source Sans Pro&quot;;\n\n}\n</code></pre>\n<p>on every CSS file in <code>lib\\stylesheets</code> folder.</p>\n<p>If you want any help with this one-in-a-million chance problem, feel free to send me a message :)</p>\n"}],"owner":{"account_id":29264205,"reputation":1,"user_id":22420360,"display_name":"esauxbonilla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693805021,"creation_date":1692579132,"question_id":76941854,"body_markdown":"I downloaded the program from the official website, had a normal installation, and literally without move anything, I got this strange language text, I tried to change language in preferences trying to guess every option because I don&#39;t understand anything, and I didn&#39;t get any change, I don&#39;t know what it&#39;s due to, I&#39;m from Mexico, I speak Spanish and everything on my laptop is either in Spanish or English.\r\n\r\nI would really appreciate it if someone could help me since I will use this program this semester at my university but the numbers and letters in the interface are too different to keep up with the teacher.\r\n \r\nThanks in advance.\r\n \r\nI will attach the images.\r\n[Image](https://i.stack.imgur.com/YQbEW.png)\r\n\r\nI tried like 4 versions and trying in another website but it didnt work. \r\n\r\nMy O.S. is Windows 10","title":"How can I fix this strange text in Blue J","body":"<p>I downloaded the program from the official website, had a normal installation, and literally without move anything, I got this strange language text, I tried to change language in preferences trying to guess every option because I don't understand anything, and I didn't get any change, I don't know what it's due to, I'm from Mexico, I speak Spanish and everything on my laptop is either in Spanish or English.</p>\n<p>I would really appreciate it if someone could help me since I will use this program this semester at my university but the numbers and letters in the interface are too different to keep up with the teacher.</p>\n<p>Thanks in advance.</p>\n<p>I will attach the images.\n<a href=\"https://i.stack.imgur.com/YQbEW.png\" rel=\"nofollow noreferrer\">Image</a></p>\n<p>I tried like 4 versions and trying in another website but it didnt work.</p>\n<p>My O.S. is Windows 10</p>\n"},{"tags":["java","hadoop","hbase"],"comments":[{"owner":{"account_id":1282715,"reputation":1912,"user_id":1236447,"display_name":"th30z"},"score":0,"creation_date":1441036624,"post_id":32310315,"comment_id":52505554,"body_markdown":"the error is right there in the message:\nNoSuchColumnFamilyException: Column family ColumnFamily1does not exist in region. make sure that colfamily has a valid name. check your table families with &quot;describe&quot; from the shell","body":"the error is right there in the message: NoSuchColumnFamilyException: Column family ColumnFamily1does not exist in region. make sure that colfamily has a valid name. check your table families with &quot;describe&quot; from the shell"},{"owner":{"account_id":6832054,"reputation":1,"user_id":5255643,"display_name":"Adi Dhoooollll"},"score":0,"creation_date":1441049902,"post_id":32310315,"comment_id":52512353,"body_markdown":"As the &quot;description&quot; of the table is little long, I have added that as a separate answer, Kindly have a look","body":"As the &quot;description&quot; of the table is little long, I have added that as a separate answer, Kindly have a look"}],"answers":[{"tags":[],"owner":{"account_id":7403706,"reputation":709,"user_id":5633255,"display_name":"Matiji66"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499997229,"creation_date":1499945503,"answer_id":45079369,"question_id":32310315,"body_markdown":"For my case make sure all region on line:\r\ncheck you region count and you region data file count in hdfs. \r\nIf they are different, you need try to fix hbase metadata.\r\n","title":"HBase : Failed to store data (org.apache.hadoop.hbase.client.RetriesExhaustedWithDetailsException)","body":"<p>For my case make sure all region on line:\ncheck you region count and you region data file count in hdfs. \nIf they are different, you need try to fix hbase metadata.</p>\n"}],"owner":{"account_id":6832054,"reputation":1,"user_id":5255643,"display_name":"Adi Dhoooollll"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693803955,"creation_date":1441020991,"question_id":32310315,"body_markdown":"Unable to store data using table.put(p) method, Which is throwing an exception:\r\n\r\n    Exception in thread &quot;main&quot; org.apache.hadoop.hbase.client.RetriesExhaustedWithDetailsException: Failed 1 action: org.apache.hadoop.hbase.regionserver.NoSuchColumnFamilyException\r\n\r\nPlease check below for complete exception details:\r\n\r\n    Exception in thread &quot;main&quot; org.apache.hadoop.hbase.client.RetriesExhaustedWithDetailsException: Failed 1 action: org.apache.hadoop.hbase.regionserver.NoSuchColumnFamilyException: Column family ColumnFamily1 \r\n     does not exist in region hbasesample2,,1440880732948.e63f5e1b82327208a862a98b302b9c85. in table &#39;hbasesample2&#39;, {NAME =&gt; &#39;ColumnFamily1 &#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily10&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily2&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily3&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily4&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily5&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily6&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily7&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily8&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}, {NAME =&gt; &#39;ColumnFamily9&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, COMPRESSION =&gt; &#39;NONE&#39;, VERSIONS =&gt; &#39;1&#39;, TTL =&gt; &#39;FOREVER&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}\r\n    \tat org.apache.hadoop.hbase.regionserver.RSRpcServices.doBatchOp(RSRpcServices.java:659)\r\n    \tat org.apache.hadoop.hbase.regionserver.RSRpcServices.doNonAtomicRegionMutation(RSRpcServices.java:615)\r\n    \tat org.apache.hadoop.hbase.regionserver.RSRpcServices.multi(RSRpcServices.java:1896)\r\n    \tat org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:31451)\r\n    \tat org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2035)\r\n    \tat org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:107)\r\n    \tat org.apache.hadoop.hbase.ipc.RpcExecutor.consumerLoop(RpcExecutor.java:130)\r\n    \tat org.apache.hadoop.hbase.ipc.RpcExecutor$1.run(RpcExecutor.java:107)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    : 1 time, \r\n    \tat org.apache.hadoop.hbase.client.AsyncProcess$BatchErrors.makeException(AsyncProcess.java:227)\r\n    \tat org.apache.hadoop.hbase.client.AsyncProcess$BatchErrors.access$1700(AsyncProcess.java:207)\r\n    \tat org.apache.hadoop.hbase.client.AsyncProcess.waitForAllPreviousOpsAndReset(AsyncProcess.java:1658)\r\n    \tat org.apache.hadoop.hbase.client.BufferedMutatorImpl.backgroundFlushCommits(BufferedMutatorImpl.java:208)\r\n    \tat org.apache.hadoop.hbase.client.BufferedMutatorImpl.flush(BufferedMutatorImpl.java:183)\r\n    \tat org.apache.hadoop.hbase.client.HTable.flushCommits(HTable.java:1482)\r\n    \tat org.apache.hadoop.hbase.client.HTable.put(HTable.java:1095)\r\n    \tat Hbase.Hbase_Auto.main(Hbase_Auto.java:93)\r\n\r\nHere is the code snippet :\r\n\r\n    p.addColumn(Bytes.toBytes(colfamily),Bytes.toBytes(column),Bytes.toBytes(temp));\r\n    table.put(p);\r\n\t\r\nPlease somebody who know about this help me out.\r\n\r\n### EDIT #1\r\nI have pasted below the &quot;description&quot; of the table &#39;hbasesample2&#39;, the column family are same as the one which we find in that exception. Totally I have 10 column family for that table, as of now I have copy pasted some 4 family desc. \r\n\r\n___________________________________________________________________________\r\n\r\n    hbase(main):003:0&gt; describe &#39;hbasesample2&#39;\r\n    Table hbasesample2 is ENABLED                                                                                                                                           \r\n    hbasesample2                                                                                                                                                            \r\n    COLUMN FAMILIES DESCRIPTION                                                                                                                                             \r\n    {NAME =&gt; &#39;ColumnFamily1 &#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, VERSIONS =&gt; &#39;1&#39;, COMPRESSION =&gt; &#39;NONE&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, T\r\n    TL =&gt; &#39;FOREVER&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}                                                       \r\n    {NAME =&gt; &#39;ColumnFamily10&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, VERSIONS =&gt; &#39;1&#39;, COMPRESSION =&gt; &#39;NONE&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, T\r\n    TL =&gt; &#39;FOREVER&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}                                                       \r\n    {NAME =&gt; &#39;ColumnFamily2&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, VERSIONS =&gt; &#39;1&#39;, COMPRESSION =&gt; &#39;NONE&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, TT\r\n    L =&gt; &#39;FOREVER&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}                                                        \r\n    {NAME =&gt; &#39;ColumnFamily3&#39;, DATA_BLOCK_ENCODING =&gt; &#39;NONE&#39;, BLOOMFILTER =&gt; &#39;ROW&#39;, REPLICATION_SCOPE =&gt; &#39;0&#39;, VERSIONS =&gt; &#39;1&#39;, COMPRESSION =&gt; &#39;NONE&#39;, MIN_VERSIONS =&gt; &#39;0&#39;, TT\r\n    L =&gt; &#39;FOREVER&#39;, KEEP_DELETED_CELLS =&gt; &#39;FALSE&#39;, BLOCKSIZE =&gt; &#39;65536&#39;, IN_MEMORY =&gt; &#39;false&#39;, BLOCKCACHE =&gt; &#39;true&#39;}","title":"HBase : Failed to store data (org.apache.hadoop.hbase.client.RetriesExhaustedWithDetailsException)","body":"<p>Unable to store data using table.put(p) method, Which is throwing an exception:</p>\n\n<pre><code>Exception in thread \"main\" org.apache.hadoop.hbase.client.RetriesExhaustedWithDetailsException: Failed 1 action: org.apache.hadoop.hbase.regionserver.NoSuchColumnFamilyException\n</code></pre>\n\n<p>Please check below for complete exception details:</p>\n\n<pre><code>Exception in thread \"main\" org.apache.hadoop.hbase.client.RetriesExhaustedWithDetailsException: Failed 1 action: org.apache.hadoop.hbase.regionserver.NoSuchColumnFamilyException: Column family ColumnFamily1 \n does not exist in region hbasesample2,,1440880732948.e63f5e1b82327208a862a98b302b9c85. in table 'hbasesample2', {NAME =&gt; 'ColumnFamily1 ', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily10', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily2', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily3', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily4', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily5', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily6', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily7', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily8', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}, {NAME =&gt; 'ColumnFamily9', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', COMPRESSION =&gt; 'NONE', VERSIONS =&gt; '1', TTL =&gt; 'FOREVER', MIN_VERSIONS =&gt; '0', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.doBatchOp(RSRpcServices.java:659)\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.doNonAtomicRegionMutation(RSRpcServices.java:615)\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.multi(RSRpcServices.java:1896)\n    at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:31451)\n    at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2035)\n    at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:107)\n    at org.apache.hadoop.hbase.ipc.RpcExecutor.consumerLoop(RpcExecutor.java:130)\n    at org.apache.hadoop.hbase.ipc.RpcExecutor$1.run(RpcExecutor.java:107)\n    at java.lang.Thread.run(Thread.java:745)\n: 1 time, \n    at org.apache.hadoop.hbase.client.AsyncProcess$BatchErrors.makeException(AsyncProcess.java:227)\n    at org.apache.hadoop.hbase.client.AsyncProcess$BatchErrors.access$1700(AsyncProcess.java:207)\n    at org.apache.hadoop.hbase.client.AsyncProcess.waitForAllPreviousOpsAndReset(AsyncProcess.java:1658)\n    at org.apache.hadoop.hbase.client.BufferedMutatorImpl.backgroundFlushCommits(BufferedMutatorImpl.java:208)\n    at org.apache.hadoop.hbase.client.BufferedMutatorImpl.flush(BufferedMutatorImpl.java:183)\n    at org.apache.hadoop.hbase.client.HTable.flushCommits(HTable.java:1482)\n    at org.apache.hadoop.hbase.client.HTable.put(HTable.java:1095)\n    at Hbase.Hbase_Auto.main(Hbase_Auto.java:93)\n</code></pre>\n\n<p>Here is the code snippet :</p>\n\n<pre><code>p.addColumn(Bytes.toBytes(colfamily),Bytes.toBytes(column),Bytes.toBytes(temp));\ntable.put(p);\n</code></pre>\n\n<p>Please somebody who know about this help me out.</p>\n\n<h3>EDIT #1</h3>\n\n<p>I have pasted below the \"description\" of the table 'hbasesample2', the column family are same as the one which we find in that exception. Totally I have 10 column family for that table, as of now I have copy pasted some 4 family desc. </p>\n\n<hr>\n\n<pre><code>hbase(main):003:0&gt; describe 'hbasesample2'\nTable hbasesample2 is ENABLED                                                                                                                                           \nhbasesample2                                                                                                                                                            \nCOLUMN FAMILIES DESCRIPTION                                                                                                                                             \n{NAME =&gt; 'ColumnFamily1 ', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', VERSIONS =&gt; '1', COMPRESSION =&gt; 'NONE', MIN_VERSIONS =&gt; '0', T\nTL =&gt; 'FOREVER', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}                                                       \n{NAME =&gt; 'ColumnFamily10', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', VERSIONS =&gt; '1', COMPRESSION =&gt; 'NONE', MIN_VERSIONS =&gt; '0', T\nTL =&gt; 'FOREVER', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}                                                       \n{NAME =&gt; 'ColumnFamily2', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', VERSIONS =&gt; '1', COMPRESSION =&gt; 'NONE', MIN_VERSIONS =&gt; '0', TT\nL =&gt; 'FOREVER', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}                                                        \n{NAME =&gt; 'ColumnFamily3', DATA_BLOCK_ENCODING =&gt; 'NONE', BLOOMFILTER =&gt; 'ROW', REPLICATION_SCOPE =&gt; '0', VERSIONS =&gt; '1', COMPRESSION =&gt; 'NONE', MIN_VERSIONS =&gt; '0', TT\nL =&gt; 'FOREVER', KEEP_DELETED_CELLS =&gt; 'FALSE', BLOCKSIZE =&gt; '65536', IN_MEMORY =&gt; 'false', BLOCKCACHE =&gt; 'true'}\n</code></pre>\n"},{"tags":["java","android","pixel"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693802401,"creation_date":1693802401,"answer_id":77035106,"question_id":77035011,"body_markdown":"Assuming you&#39;re not scaling the image at all, your math is right.  If you&#39;re scaling, you need to multiply by the scale factor (and the x and y scale factors can be independent, although generally they are the same).  You also have to make sure you&#39;re using the right dpi-  you want to use the logical dpi of the running OS, not the native dpi of the physical device (some devices might have a physical dpi of say 300 pixels per inch, but the OS will pretend its some smaller number (say 250) to provide some magnification).","title":"How to convert from pixel unit to square inches of an image in android studio?","body":"<p>Assuming you're not scaling the image at all, your math is right.  If you're scaling, you need to multiply by the scale factor (and the x and y scale factors can be independent, although generally they are the same).  You also have to make sure you're using the right dpi-  you want to use the logical dpi of the running OS, not the native dpi of the physical device (some devices might have a physical dpi of say 300 pixels per inch, but the OS will pretend its some smaller number (say 250) to provide some magnification).</p>\n"}],"owner":{"account_id":16441906,"reputation":15,"user_id":11877921,"display_name":"Mark Taylor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77035106,"answer_count":1,"score":1,"last_activity_date":1693803636,"creation_date":1693800242,"question_id":77035011,"body_markdown":"I am doing an Android Project. I have area of the image in pixel per unit. How can I convert that to square inches\r\n\r\nI have tested the conversion of unit in one particular image. I have used this particular formula for conversion in Java.\r\n\r\n    float inchesWidth = (float) width / dpi;\r\n    float inchesHeight = (float) height / dpi;\r\n    float areaInSquareInches = inchesWidth * inchesHeight;\r\n\r\nSuppose the Width of the image is 678. The height of the image is 452. The dpi of the Android device is 440. I am getting area = 1.58 square inches. Can anyone confirm me that I am using right formula and right method because there is no way to confirm this.","title":"How to convert from pixel unit to square inches of an image in android studio?","body":"<p>I am doing an Android Project. I have area of the image in pixel per unit. How can I convert that to square inches</p>\n<p>I have tested the conversion of unit in one particular image. I have used this particular formula for conversion in Java.</p>\n<pre><code>float inchesWidth = (float) width / dpi;\nfloat inchesHeight = (float) height / dpi;\nfloat areaInSquareInches = inchesWidth * inchesHeight;\n</code></pre>\n<p>Suppose the Width of the image is 678. The height of the image is 452. The dpi of the Android device is 440. I am getting area = 1.58 square inches. Can anyone confirm me that I am using right formula and right method because there is no way to confirm this.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1402983797,"post_id":24256463,"comment_id":37470010,"body_markdown":"Have you tried using a debugger? If so, what did you learn from using it?","body":"Have you tried using a debugger? If so, what did you learn from using it?"},{"owner":{"account_id":3350265,"reputation":47,"user_id":2814456,"display_name":"Ben10"},"score":0,"creation_date":1402984275,"post_id":24256463,"comment_id":37470182,"body_markdown":"Yes I did, i can fix that but it won&#39;t be generic. So i need a generic one.","body":"Yes I did, i can fix that but it won&#39;t be generic. So i need a generic one."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1402984358,"post_id":24256463,"comment_id":37470204,"body_markdown":"Fix what? And what do you mean by &quot;generic&quot;?","body":"Fix what? And what do you mean by &quot;generic&quot;?"},{"owner":{"account_id":3350265,"reputation":47,"user_id":2814456,"display_name":"Ben10"},"score":0,"creation_date":1402984496,"post_id":24256463,"comment_id":37470259,"body_markdown":"Code that will work for all the Arithmetic operations.","body":"Code that will work for all the Arithmetic operations."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1402984603,"post_id":24256463,"comment_id":37470289,"body_markdown":"Don&#39;t put code in comments. It&#39;s pretty much unreadable.","body":"Don&#39;t put code in comments. It&#39;s pretty much unreadable."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1402984770,"post_id":24256463,"comment_id":37470352,"body_markdown":"You don&#39;t. Update your question.","body":"You don&#39;t. Update your question."},{"owner":{"account_id":3572172,"reputation":6531,"user_id":2982225,"display_name":"Infinite Recursion"},"score":0,"creation_date":1402985964,"post_id":24256463,"comment_id":37470841,"body_markdown":"Since you have a working code, but want to improve the quality of code, you can try [codereview site](http://codereview.stackexchange.com/)","body":"Since you have a working code, but want to improve the quality of code, you can try <a href=\"http://codereview.stackexchange.com/\">codereview site</a>"},{"owner":{"account_id":3350265,"reputation":47,"user_id":2814456,"display_name":"Ben10"},"score":0,"creation_date":1402987153,"post_id":24256463,"comment_id":37471343,"body_markdown":"Hi Payeli, I can&#39;t do that in code. it will fail for others.","body":"Hi Payeli, I can&#39;t do that in code. it will fail for others."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1569365288,"post_id":24256463,"comment_id":102571309,"body_markdown":"Throw it all away and look up the Dijkstra Shunting-yard algorithm, or recursive descent expression parsing. You will never implement operator predecence or parentheses with this code as a basis.","body":"Throw it all away and look up the Dijkstra Shunting-yard algorithm, or recursive descent expression parsing. You will never implement operator predecence or parentheses with this code as a basis."}],"answers":[{"tags":[],"owner":{"account_id":12130532,"reputation":29,"user_id":8857705,"display_name":"Amit Kumar"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1513543532,"creation_date":1513537584,"answer_id":47858494,"question_id":24256463,"body_markdown":"    import java.util.Stack;\r\n     \r\n    public class EvaluateString\r\n    {\r\n        public static int evaluate(String expression)\r\n        {\r\n            char[] tokens = expression.toCharArray();\r\n     \r\n             // Stack for numbers: &#39;values&#39;\r\n            Stack&lt;Integer&gt; values = new Stack&lt;Integer&gt;();\r\n     \r\n            // Stack for Operators: &#39;ops&#39;\r\n            Stack&lt;Character&gt; ops = new Stack&lt;Character&gt;();\r\n     \r\n            for (int i = 0; i &lt; tokens.length; i++)\r\n            {\r\n                 // Current token is a whitespace, skip it\r\n                if (tokens[i] == &#39; &#39;)\r\n                    continue;\r\n     \r\n                // Current token is a number, push it to stack for numbers\r\n                if (tokens[i] &gt;= &#39;0&#39; &amp;&amp; tokens[i] &lt;= &#39;9&#39;)\r\n                {\r\n                    StringBuffer sbuf = new StringBuffer();\r\n                    // There may be more than one digits in number\r\n                    while (i &lt; tokens.length &amp;&amp; tokens[i] &gt;= &#39;0&#39; &amp;&amp; tokens[i] &lt;= &#39;9&#39;)\r\n                        sbuf.append(tokens[i++]);\r\n                    values.push(Integer.parseInt(sbuf.toString()));\r\n                }\r\n     \r\n                // Current token is an opening brace, push it to &#39;ops&#39;\r\n                else if (tokens[i] == &#39;(&#39;)\r\n                    ops.push(tokens[i]);\r\n     \r\n                // Closing brace encountered, solve entire brace\r\n                else if (tokens[i] == &#39;)&#39;)\r\n                {\r\n                    while (ops.peek() != &#39;(&#39;)\r\n                      values.push(applyOp(ops.pop(), values.pop(), values.pop()));\r\n                    ops.pop();\r\n                }\r\n     \r\n                // Current token is an operator.\r\n                else if (tokens[i] == &#39;+&#39; || tokens[i] == &#39;-&#39; ||\r\n                         tokens[i] == &#39;*&#39; || tokens[i] == &#39;/&#39;)\r\n                {\r\n                    // While top of &#39;ops&#39; has same or greater precedence to current\r\n                    // token, which is an operator. Apply operator on top of &#39;ops&#39;\r\n                    // to top two elements in values stack\r\n                    while (!ops.empty() &amp;&amp; hasPrecedence(tokens[i], ops.peek()))\r\n                      values.push(applyOp(ops.pop(), values.pop(), values.pop()));\r\n     \r\n                    // Push current token to &#39;ops&#39;.\r\n                    ops.push(tokens[i]);\r\n                }\r\n            }\r\n     \r\n            // Entire expression has been parsed at this point, apply remaining\r\n            // ops to remaining values\r\n            while (!ops.empty())\r\n                values.push(applyOp(ops.pop(), values.pop(), values.pop()));\r\n     \r\n            // Top of &#39;values&#39; contains result, return it\r\n            return values.pop();\r\n        }\r\n     \r\n        // Returns true if &#39;op2&#39; has higher or same precedence as &#39;op1&#39;,\r\n        // otherwise returns false.\r\n        public static boolean hasPrecedence(char op1, char op2)\r\n        {\r\n            if (op2 == &#39;(&#39; || op2 == &#39;)&#39;)\r\n                return false;\r\n            if ((op1 == &#39;*&#39; || op1 == &#39;/&#39;) &amp;&amp; (op2 == &#39;+&#39; || op2 == &#39;-&#39;))\r\n                return false;\r\n            else\r\n                return true;\r\n        }\r\n     \r\n        // A utility method to apply an operator &#39;op&#39; on operands &#39;a&#39; \r\n        // and &#39;b&#39;. Return the result.\r\n        public static int applyOp(char op, int b, int a)\r\n        {\r\n            switch (op)\r\n            {\r\n            case &#39;+&#39;:\r\n                return a + b;\r\n            case &#39;-&#39;:\r\n                return a - b;\r\n            case &#39;*&#39;:\r\n                return a * b;\r\n            case &#39;/&#39;:\r\n                if (b == 0)\r\n                    throw new\r\n                    UnsupportedOperationException(&quot;Cannot divide by zero&quot;);\r\n                return a / b;\r\n            }\r\n            return 0;\r\n        }\r\n     \r\n        // Driver method to test above methods\r\n        public static void main(String[] args)\r\n        {\r\n            System.out.println(EvaluateString.evaluate(&quot;10 + 2 * 6&quot;));\r\n            System.out.println(EvaluateString.evaluate(&quot;100 * 2 + 12&quot;));\r\n            System.out.println(EvaluateString.evaluate(&quot;100 * ( 2 + 12 )&quot;));\r\n            System.out.println(EvaluateString.evaluate(&quot;100 * ( 2 + 12 ) / 14&quot;));\r\n        }\r\n    }","title":"Arithmetic calculation for BODMAS in Java","body":"<pre><code>import java.util.Stack;\n\npublic class EvaluateString\n{\n    public static int evaluate(String expression)\n    {\n        char[] tokens = expression.toCharArray();\n\n         // Stack for numbers: 'values'\n        Stack&lt;Integer&gt; values = new Stack&lt;Integer&gt;();\n\n        // Stack for Operators: 'ops'\n        Stack&lt;Character&gt; ops = new Stack&lt;Character&gt;();\n\n        for (int i = 0; i &lt; tokens.length; i++)\n        {\n             // Current token is a whitespace, skip it\n            if (tokens[i] == ' ')\n                continue;\n\n            // Current token is a number, push it to stack for numbers\n            if (tokens[i] &gt;= '0' &amp;&amp; tokens[i] &lt;= '9')\n            {\n                StringBuffer sbuf = new StringBuffer();\n                // There may be more than one digits in number\n                while (i &lt; tokens.length &amp;&amp; tokens[i] &gt;= '0' &amp;&amp; tokens[i] &lt;= '9')\n                    sbuf.append(tokens[i++]);\n                values.push(Integer.parseInt(sbuf.toString()));\n            }\n\n            // Current token is an opening brace, push it to 'ops'\n            else if (tokens[i] == '(')\n                ops.push(tokens[i]);\n\n            // Closing brace encountered, solve entire brace\n            else if (tokens[i] == ')')\n            {\n                while (ops.peek() != '(')\n                  values.push(applyOp(ops.pop(), values.pop(), values.pop()));\n                ops.pop();\n            }\n\n            // Current token is an operator.\n            else if (tokens[i] == '+' || tokens[i] == '-' ||\n                     tokens[i] == '*' || tokens[i] == '/')\n            {\n                // While top of 'ops' has same or greater precedence to current\n                // token, which is an operator. Apply operator on top of 'ops'\n                // to top two elements in values stack\n                while (!ops.empty() &amp;&amp; hasPrecedence(tokens[i], ops.peek()))\n                  values.push(applyOp(ops.pop(), values.pop(), values.pop()));\n\n                // Push current token to 'ops'.\n                ops.push(tokens[i]);\n            }\n        }\n\n        // Entire expression has been parsed at this point, apply remaining\n        // ops to remaining values\n        while (!ops.empty())\n            values.push(applyOp(ops.pop(), values.pop(), values.pop()));\n\n        // Top of 'values' contains result, return it\n        return values.pop();\n    }\n\n    // Returns true if 'op2' has higher or same precedence as 'op1',\n    // otherwise returns false.\n    public static boolean hasPrecedence(char op1, char op2)\n    {\n        if (op2 == '(' || op2 == ')')\n            return false;\n        if ((op1 == '*' || op1 == '/') &amp;&amp; (op2 == '+' || op2 == '-'))\n            return false;\n        else\n            return true;\n    }\n\n    // A utility method to apply an operator 'op' on operands 'a' \n    // and 'b'. Return the result.\n    public static int applyOp(char op, int b, int a)\n    {\n        switch (op)\n        {\n        case '+':\n            return a + b;\n        case '-':\n            return a - b;\n        case '*':\n            return a * b;\n        case '/':\n            if (b == 0)\n                throw new\n                UnsupportedOperationException(\"Cannot divide by zero\");\n            return a / b;\n        }\n        return 0;\n    }\n\n    // Driver method to test above methods\n    public static void main(String[] args)\n    {\n        System.out.println(EvaluateString.evaluate(\"10 + 2 * 6\"));\n        System.out.println(EvaluateString.evaluate(\"100 * 2 + 12\"));\n        System.out.println(EvaluateString.evaluate(\"100 * ( 2 + 12 )\"));\n        System.out.println(EvaluateString.evaluate(\"100 * ( 2 + 12 ) / 14\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9860129,"reputation":106,"user_id":7303414,"display_name":"El Nuru"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1569364823,"creation_date":1544479691,"answer_id":53714416,"question_id":24256463,"body_markdown":"The Java Scripting API allows you to pass parameters from Java application to the script engine and vice versa. \r\n\r\nYou can use Javax ScriptEngine to pass values from your app to a script.\r\n\r\nAnd using it&#39;s `eval()` method, you can give it a mathematical expression in the form of a string and it will do the the math for you... (Handles BODMAS too).\r\n\r\n*Example:*\r\n\r\n         ScriptEngineManager mgr = new.ScriptEngineManager();\r\n         ScriptEngine engine = mgr.getEngineByName(&quot;JavaScript&quot;);\r\n         String foo = &quot;40+2/3*45&quot;;\r\n         System.out.println(engine.eval(foo));\r\n\r\n**Outputs:** *70*\r\n\r\nInclude the following imports , if the IDE doesn&#39;t suggest them :\r\n\r\n    import javax.script.ScriptEngineManager;\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptException;\r\n\r\nCheck the documentation here [ScriptEngine][1]\r\n\r\nI hope it helps. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/script/ScriptEngine.html","title":"Arithmetic calculation for BODMAS in Java","body":"<p>The Java Scripting API allows you to pass parameters from Java application to the script engine and vice versa. </p>\n\n<p>You can use Javax ScriptEngine to pass values from your app to a script.</p>\n\n<p>And using it's <code>eval()</code> method, you can give it a mathematical expression in the form of a string and it will do the the math for you... (Handles BODMAS too).</p>\n\n<p><em>Example:</em></p>\n\n<pre><code>     ScriptEngineManager mgr = new.ScriptEngineManager();\n     ScriptEngine engine = mgr.getEngineByName(\"JavaScript\");\n     String foo = \"40+2/3*45\";\n     System.out.println(engine.eval(foo));\n</code></pre>\n\n<p><strong>Outputs:</strong> <em>70</em></p>\n\n<p>Include the following imports , if the IDE doesn't suggest them :</p>\n\n<pre><code>import javax.script.ScriptEngineManager;\nimport javax.script.ScriptEngine;\nimport javax.script.ScriptException;\n</code></pre>\n\n<p>Check the documentation here <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/script/ScriptEngine.html\" rel=\"nofollow noreferrer\">ScriptEngine</a></p>\n\n<p>I hope it helps. </p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608215720,"creation_date":1608215720,"answer_id":65342712,"question_id":24256463,"body_markdown":"&quot;BODMAS&quot; is a not very operational rule. Especially addition and subtraction have the same precedence and are calculated from left to right 1-2+3-4+5 = (((1-2)+3)-4)+5.\r\n\r\nThe rule is for a nested loop.\r\n\r\nLoop\r\n\r\n1. replaceAll `(` number `)` --&gt; number\r\n2. replaceAll number `[*/]&#39; number --&gt; number op number\r\n3. replaceAll number `[+-]&#39; number --&gt; number op number\r\n\r\nUntil nothing is replaced.\r\n\r\nThis ensures that 3-4/2*6+5 -2-&gt; 3-2*6+5 -2-&gt; 3-12+5 -3-&gt; -9+5 -3-&gt; -4\r\n","title":"Arithmetic calculation for BODMAS in Java","body":"<p>&quot;BODMAS&quot; is a not very operational rule. Especially addition and subtraction have the same precedence and are calculated from left to right 1-2+3-4+5 = (((1-2)+3)-4)+5.</p>\n<p>The rule is for a nested loop.</p>\n<p>Loop</p>\n<ol>\n<li>replaceAll <code>(</code> number <code>)</code> --&gt; number</li>\n<li>replaceAll number `[*/]' number --&gt; number op number</li>\n<li>replaceAll number `[+-]' number --&gt; number op number</li>\n</ol>\n<p>Until nothing is replaced.</p>\n<p>This ensures that 3-4/2<em>6+5 -2-&gt; 3-2</em>6+5 -2-&gt; 3-12+5 -3-&gt; -9+5 -3-&gt; -4</p>\n"},{"tags":[],"owner":{"account_id":21496230,"reputation":11,"user_id":15841221,"display_name":"Alex Maina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656661133,"creation_date":1656661133,"answer_id":72825901,"question_id":24256463,"body_markdown":"The solution can be achieved by using the shunting yard algorithm. We start by creating an infix notation of the equation then follows the postfix notation. Here is a description of the algorithm https://en.wikipedia.org/wiki/Shunting_yard_algorithm. This solution solves for any nested number of brackets on the string expression.\r\n\r\n      public static double evaluate(String exp) {\r\n        char[] tokens = exp.toCharArray();\r\n  \r\n        Queue&lt;Object&gt; values = new LinkedList&lt;&gt;();\r\n        // Stack for Operators: &#39;ops&#39;\r\n        Stack&lt;Character&gt; ops = new Stack&lt;Character&gt;();\r\n        for (int i = 0; i &lt; tokens.length; i++) {\r\n            //infix\r\n            // Current token is a whitespace, skip it\r\n            if (tokens[i] == &#39; &#39;) {\r\n                continue;\r\n            }\r\n            // Current token is a number, push it to stack for numbers\r\n            else if (tokens[i] &gt;= &#39;0&#39; &amp;&amp; tokens[i] &lt;= &#39;9&#39;) {\r\n                StringBuffer sbuf = new StringBuffer();\r\n                // There may be more than one digits in number\r\n\r\n                while (i &lt; tokens.length &amp;&amp; tokens[i] &gt;= &#39;0&#39; &amp;&amp; tokens[i] &lt;= &#39;9&#39;) {\r\n                    sbuf.append(tokens[i]);\r\n                    if ((i+1)&lt;tokens.length &amp;&amp;tokens[i + 1] &gt;= &#39;0&#39; &amp;&amp; tokens[i + 1] &lt;= &#39;9&#39;) {\r\n                        i++;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                values.add(Double.parseDouble(sbuf.toString()));\r\n            } else if (tokens[i] == &#39;*&#39; || tokens[i] == &#39;-&#39; || tokens[i] == &#39;/&#39; || tokens[i] == &#39;+&#39;) {\r\n                if (ops.isEmpty()) {\r\n                    ops.push(tokens[i]);\r\n                    continue;\r\n                }\r\n                char op1 = ops.peek();\r\n                boolean hasHighPrecedence = hasPrecedence(op1, tokens[i]);\r\n                if (hasHighPrecedence) {\r\n                    char op = ops.pop();\r\n                    values.add(op);\r\n                    ops.push(tokens[i]);\r\n                } else {\r\n                    ops.push(tokens[i]);\r\n                }\r\n            } else if (tokens[i] == &#39;(&#39;) {\r\n                ops.push(tokens[i]);\r\n            } else if (tokens[i] == &#39;)&#39;) {\r\n                while (ops.peek() != &#39;(&#39;) {\r\n                    values.add(ops.pop());\r\n                }\r\n                ops.pop();\r\n            }\r\n        }\r\n        while (!ops.isEmpty()) {\r\n            values.add(ops.pop());\r\n        }\r\n        //post fix\r\n        Stack&lt;Double&gt; numStack = new Stack&lt;&gt;();\r\n        while (!values.isEmpty()) {\r\n            Object val = values.poll();\r\n            if (val instanceof Character) {\r\n                char v = (Character) val;\r\n                if (v == &#39;*&#39; || v == &#39;-&#39; || v == &#39;/&#39; || v == &#39;+&#39;) {\r\n                    double num2, num1;\r\n                    num1 = numStack.pop();\r\n                    num2 = numStack.pop();\r\n                    double ans = applyOp(v, num1, num2);\r\n                    numStack.push(ans);\r\n\r\n                }\r\n            } else {\r\n                double num = (double) val;\r\n                numStack.push(num);\r\n            }\r\n        }\r\n        return numStack.pop();\r\n\r\n    }\r\n\r\n    public static double applyOp(char op, double b, double a) {\r\n        switch (op) {\r\n            case &#39;+&#39;:\r\n                return a + b;\r\n            case &#39;-&#39;:\r\n                return a - b;\r\n            case &#39;*&#39;:\r\n                return a * b;\r\n            case &#39;/&#39;:\r\n                if (b == 0)\r\n                    throw new\r\n                            IllegalArgumentException(&quot;Cannot divide by zero&quot;);\r\n                return a / b;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    public static boolean hasPrecedence(char op1, char op2) {\r\n        if (op1 == &#39;*&#39; &amp;&amp; op2 == &#39;/&#39;) {\r\n            return false;\r\n        } else if (op1 == &#39;/&#39; &amp;&amp; op2 == &#39;*&#39;) {\r\n            return true;\r\n        } else if ((op1 == &#39;*&#39; || op1 == &#39;/&#39;) &amp;&amp; (op2 == &#39;+&#39; || op2 == &#39;-&#39;)) {\r\n            return true;\r\n        } else if (op1 == &#39;+&#39; &amp;&amp; op2 == &#39;-&#39;) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }","title":"Arithmetic calculation for BODMAS in Java","body":"<p>The solution can be achieved by using the shunting yard algorithm. We start by creating an infix notation of the equation then follows the postfix notation. Here is a description of the algorithm <a href=\"https://en.wikipedia.org/wiki/Shunting_yard_algorithm\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Shunting_yard_algorithm</a>. This solution solves for any nested number of brackets on the string expression.</p>\n<pre><code>  public static double evaluate(String exp) {\n    char[] tokens = exp.toCharArray();\n\n    Queue&lt;Object&gt; values = new LinkedList&lt;&gt;();\n    // Stack for Operators: 'ops'\n    Stack&lt;Character&gt; ops = new Stack&lt;Character&gt;();\n    for (int i = 0; i &lt; tokens.length; i++) {\n        //infix\n        // Current token is a whitespace, skip it\n        if (tokens[i] == ' ') {\n            continue;\n        }\n        // Current token is a number, push it to stack for numbers\n        else if (tokens[i] &gt;= '0' &amp;&amp; tokens[i] &lt;= '9') {\n            StringBuffer sbuf = new StringBuffer();\n            // There may be more than one digits in number\n\n            while (i &lt; tokens.length &amp;&amp; tokens[i] &gt;= '0' &amp;&amp; tokens[i] &lt;= '9') {\n                sbuf.append(tokens[i]);\n                if ((i+1)&lt;tokens.length &amp;&amp;tokens[i + 1] &gt;= '0' &amp;&amp; tokens[i + 1] &lt;= '9') {\n                    i++;\n                } else {\n                    break;\n                }\n            }\n            values.add(Double.parseDouble(sbuf.toString()));\n        } else if (tokens[i] == '*' || tokens[i] == '-' || tokens[i] == '/' || tokens[i] == '+') {\n            if (ops.isEmpty()) {\n                ops.push(tokens[i]);\n                continue;\n            }\n            char op1 = ops.peek();\n            boolean hasHighPrecedence = hasPrecedence(op1, tokens[i]);\n            if (hasHighPrecedence) {\n                char op = ops.pop();\n                values.add(op);\n                ops.push(tokens[i]);\n            } else {\n                ops.push(tokens[i]);\n            }\n        } else if (tokens[i] == '(') {\n            ops.push(tokens[i]);\n        } else if (tokens[i] == ')') {\n            while (ops.peek() != '(') {\n                values.add(ops.pop());\n            }\n            ops.pop();\n        }\n    }\n    while (!ops.isEmpty()) {\n        values.add(ops.pop());\n    }\n    //post fix\n    Stack&lt;Double&gt; numStack = new Stack&lt;&gt;();\n    while (!values.isEmpty()) {\n        Object val = values.poll();\n        if (val instanceof Character) {\n            char v = (Character) val;\n            if (v == '*' || v == '-' || v == '/' || v == '+') {\n                double num2, num1;\n                num1 = numStack.pop();\n                num2 = numStack.pop();\n                double ans = applyOp(v, num1, num2);\n                numStack.push(ans);\n\n            }\n        } else {\n            double num = (double) val;\n            numStack.push(num);\n        }\n    }\n    return numStack.pop();\n\n}\n\npublic static double applyOp(char op, double b, double a) {\n    switch (op) {\n        case '+':\n            return a + b;\n        case '-':\n            return a - b;\n        case '*':\n            return a * b;\n        case '/':\n            if (b == 0)\n                throw new\n                        IllegalArgumentException(&quot;Cannot divide by zero&quot;);\n            return a / b;\n    }\n    return 0;\n}\n\npublic static boolean hasPrecedence(char op1, char op2) {\n    if (op1 == '*' &amp;&amp; op2 == '/') {\n        return false;\n    } else if (op1 == '/' &amp;&amp; op2 == '*') {\n        return true;\n    } else if ((op1 == '*' || op1 == '/') &amp;&amp; (op2 == '+' || op2 == '-')) {\n        return true;\n    } else if (op1 == '+' &amp;&amp; op2 == '-') {\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3350265,"reputation":47,"user_id":2814456,"display_name":"Ben10"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14912,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":4,"score":2,"last_activity_date":1693803300,"creation_date":1402983641,"question_id":24256463,"body_markdown":"I have written this code for Bodmas, but getting some error in this. If I do 3-5+9, it will result in 3.04.0.\r\n\r\nIt just start concatenating, though it works for all other operations like *, / and -, please help.\r\n\r\n    public static String calculation(BODMASCalculation bodmas, String result) {\r\n\t\twhile (bodmas.hasMatch()) {\r\n\t\t\tdouble value, leftOfOperator = bodmas.getLeft();\r\n\t\t\tchar op = bodmas.getOperator();\r\n\t\t\tdouble rightOfOprator = bodmas.getRight();\r\n\r\n\t\t\tswitch (op) {\r\n\t\t\tcase &#39;/&#39;:\r\n\t\t\t\tif(rightOfOprator == 0) //Divide by 0 generates Infinity\r\n\t\t\t\t\tvalue = 0;\r\n\t\t\t\telse\r\n\t\t\t\t\tvalue = leftOfOperator / rightOfOprator;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;*&#39;:\r\n\t\t\t\tvalue = leftOfOperator * rightOfOprator;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;+&#39;:\r\n\t\t\t\tvalue = leftOfOperator + rightOfOprator;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;-&#39;:\r\n\t\t\t\tvalue = leftOfOperator - rightOfOprator;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Unknown operator.&quot;);\r\n\t\t\t}\t\t\t\r\n\t\t\tresult = result.substring(0, bodmas.getStart()) + value\t+ result.substring(bodmas.getEnd());\r\n\t\t\tbodmas = new BODMASCalculation(result);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\nAnother function is:-\r\n\r\n    public boolean getMatchFor(String text, char operator) {\r\n\t\tString regex = &quot;(-?[\\\\d\\\\.]+)(\\\\x)(-?[\\\\d\\\\.]+)&quot;;\r\n\t\tjava.util.regex.Matcher matcher = java.util.regex.Pattern.compile(regex.replace(&#39;x&#39;, operator)).matcher(text);\r\n\t\tif (matcher.find()) {\r\n\t\t\tthis.leftOfOperator = Double.parseDouble(matcher.group(1));\r\n\t\t\tthis.op = matcher.group(2).charAt(0);\r\n\t\t\tthis.rightOfOprator = Double.parseDouble(matcher.group(3));\r\n\t\t\tthis.start = matcher.start();\r\n\t\t\tthis.end = matcher.end();\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\nI have a solution by adding\r\n\r\n    String sss = null;\r\n\t\t\tif(op == &#39;+&#39; &amp;&amp; !Str.isBlank(result.substring(0, bodmas.getStart())) &amp;&amp; value &gt;= 0)\r\n\t\t\t\tsss = &quot;+&quot;;\r\n\t\t\telse\r\n\t\t\t\tsss = &quot;&quot;;\r\n\t\t\tresult = result.substring(0, bodmas.getStart()) + sss + value\t+ result.substring(bodmas.getEnd());\r\n\r\nBut don&#39;t want to do that, I want this to work for all the operators.","title":"Arithmetic calculation for BODMAS in Java","body":"<p>I have written this code for Bodmas, but getting some error in this. If I do 3-5+9, it will result in 3.04.0.</p>\n\n<p>It just start concatenating, though it works for all other operations like *, / and -, please help.</p>\n\n<pre><code>public static String calculation(BODMASCalculation bodmas, String result) {\n    while (bodmas.hasMatch()) {\n        double value, leftOfOperator = bodmas.getLeft();\n        char op = bodmas.getOperator();\n        double rightOfOprator = bodmas.getRight();\n\n        switch (op) {\n        case '/':\n            if(rightOfOprator == 0) //Divide by 0 generates Infinity\n                value = 0;\n            else\n                value = leftOfOperator / rightOfOprator;\n            break;\n        case '*':\n            value = leftOfOperator * rightOfOprator;\n            break;\n        case '+':\n            value = leftOfOperator + rightOfOprator;\n            break;\n        case '-':\n            value = leftOfOperator - rightOfOprator;\n            break;\n        default:\n            throw new IllegalArgumentException(\"Unknown operator.\");\n        }           \n        result = result.substring(0, bodmas.getStart()) + value + result.substring(bodmas.getEnd());\n        bodmas = new BODMASCalculation(result);\n    }\n    return result;\n}\n</code></pre>\n\n<p>Another function is:-</p>\n\n<pre><code>public boolean getMatchFor(String text, char operator) {\n    String regex = \"(-?[\\\\d\\\\.]+)(\\\\x)(-?[\\\\d\\\\.]+)\";\n    java.util.regex.Matcher matcher = java.util.regex.Pattern.compile(regex.replace('x', operator)).matcher(text);\n    if (matcher.find()) {\n        this.leftOfOperator = Double.parseDouble(matcher.group(1));\n        this.op = matcher.group(2).charAt(0);\n        this.rightOfOprator = Double.parseDouble(matcher.group(3));\n        this.start = matcher.start();\n        this.end = matcher.end();\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>I have a solution by adding</p>\n\n<pre><code>String sss = null;\n        if(op == '+' &amp;&amp; !Str.isBlank(result.substring(0, bodmas.getStart())) &amp;&amp; value &gt;= 0)\n            sss = \"+\";\n        else\n            sss = \"\";\n        result = result.substring(0, bodmas.getStart()) + sss + value   + result.substring(bodmas.getEnd());\n</code></pre>\n\n<p>But don't want to do that, I want this to work for all the operators.</p>\n"},{"tags":["java","compilation"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1693795265,"post_id":77034823,"comment_id":135803015,"body_markdown":"Please show a [mcve], including but not limited to the commands you used to compile the code.","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, including but not limited to the commands you used to compile the code."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1693797709,"post_id":77034823,"comment_id":135803139,"body_markdown":"If a relevant source file wasn&#39;t compiled, the code would crash with a `NoSuchClassError` on run. The fact that it _did_ run means your code ran fine and simply returned 0 (i.e. had a bug in it). Of course, if you had compiled `Player.java` before that probably means the old version remained and caused the unexpected output. Nobody* uses `javac` directly, everybody uses a build system such as maven or gradle. (*: Rounded down).","body":"If a relevant source file wasn&#39;t compiled, the code would crash with a <code>NoSuchClassError</code> on run. The fact that it <i>did</i> run means your code ran fine and simply returned 0 (i.e. had a bug in it). Of course, if you had compiled <code>Player.java</code> before that probably means the old version remained and caused the unexpected output. Nobody* uses <code>javac</code> directly, everybody uses a build system such as maven or gradle. (*: Rounded down)."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693802814,"creation_date":1693802814,"answer_id":77035122,"question_id":77034823,"body_markdown":"For compiling `GameLauncher.java` the java compiler needs the class file of the `GuessGame` class. If that class file doesn&#39;t exist but the java compiler finds the `GuessGame.java` file it compiles it automatically. Similarly for the `Player` class file and the `Player.java` file.\r\n\r\n**But** the java compiler does not check whether `GuessGame.java` was changed after the `GuessGame` class file has been created. If you change the `GuessGame.java` file after the `GuessGame` class file has been created it is your responsability to either delete the `GuessGame` class file or manually compile `GuessGame.java`.\r\n\r\nIn your simple example it is easy to just always delete all class files before compiling `GameLauncher.java`, but in a more complex project you don&#39;t want to delete all class files and compile all source files again - you want to compile only the source files that have changed and the source files that depend on the changed source files.\r\n\r\nThat is why everyone uses a build system - build systems do those checks for you. ","title":"Java Compilation Rule","body":"<p>For compiling <code>GameLauncher.java</code> the java compiler needs the class file of the <code>GuessGame</code> class. If that class file doesn't exist but the java compiler finds the <code>GuessGame.java</code> file it compiles it automatically. Similarly for the <code>Player</code> class file and the <code>Player.java</code> file.</p>\n<p><strong>But</strong> the java compiler does not check whether <code>GuessGame.java</code> was changed after the <code>GuessGame</code> class file has been created. If you change the <code>GuessGame.java</code> file after the <code>GuessGame</code> class file has been created it is your responsability to either delete the <code>GuessGame</code> class file or manually compile <code>GuessGame.java</code>.</p>\n<p>In your simple example it is easy to just always delete all class files before compiling <code>GameLauncher.java</code>, but in a more complex project you don't want to delete all class files and compile all source files again - you want to compile only the source files that have changed and the source files that depend on the changed source files.</p>\n<p>That is why everyone uses a build system - build systems do those checks for you.</p>\n"}],"owner":{"account_id":28439874,"reputation":1,"user_id":21759389,"display_name":"Augmas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693802814,"creation_date":1693795139,"question_id":77034823,"body_markdown":"In the main-method class of my program, I created objects of other classes. Do I need to compile not only the main-method class, but also the other classes? \r\n\r\nMy code looks something like this: \r\n\r\n```\r\npublic class GameLauncher {\r\n    public static void main(String[] args) {\r\n        GuessGame newGame = new GuessGame();\r\n        newGame.startGame();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class GuessGame {\r\n    Player p1;\r\n    Player p2;\r\n    Player p3;\r\n    int targetNumber;\r\n\r\n    public void startGame() {\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Player {\r\n    private int number;\r\n\r\n    public int guess() {\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nWhen I only compiled the main-method class, the Player objects only returned 0 as their guesses (the actual guess function had code in it). After I compiled all three classes, the program run as expected. \r\n\r\nI am just wondering what the logic behind this rule is. I originally thought that when an unknown, new class is encountered during compilation, the javac program knows that it will need to compile the encountered source file itself. ","title":"Java Compilation Rule","body":"<p>In the main-method class of my program, I created objects of other classes. Do I need to compile not only the main-method class, but also the other classes?</p>\n<p>My code looks something like this:</p>\n<pre><code>public class GameLauncher {\n    public static void main(String[] args) {\n        GuessGame newGame = new GuessGame();\n        newGame.startGame();\n    }\n}\n</code></pre>\n<pre><code>public class GuessGame {\n    Player p1;\n    Player p2;\n    Player p3;\n    int targetNumber;\n\n    public void startGame() {\n    }\n}\n</code></pre>\n<pre><code>public class Player {\n    private int number;\n\n    public int guess() {\n    }\n}\n</code></pre>\n<p>When I only compiled the main-method class, the Player objects only returned 0 as their guesses (the actual guess function had code in it). After I compiled all three classes, the program run as expected.</p>\n<p>I am just wondering what the logic behind this rule is. I originally thought that when an unknown, new class is encountered during compilation, the javac program knows that it will need to compile the encountered source file itself.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3745976,"reputation":1103,"user_id":3114631,"display_name":"Sachin Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588074429,"creation_date":1588074429,"answer_id":61479461,"question_id":61479029,"body_markdown":"When you make a request to controller, first OPTIONS request is sent, in which filter will not found values which you have set.\r\nFist skip the option request then try.\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response,\r\n            FilterChain chain) throws IOException, ServletException {\r\n        HttpServletRequest req = (HttpServletRequest) request;\r\n    \t\r\n    \t\tif(!&quot;OPTIONS&quot;.equalsIgnoreCase(request.getMethod())) {\r\n        MutableHttpServletRequest mutableRequest = new MutableHttpServletRequest(req);\r\n        ...\r\n        mutableRequest.putHeader(&quot;x-user-id&quot;, &quot;1&quot;);\r\n        chain.doFilter(mutableRequest, response);\r\n    \t\t}\r\n    }","title":"How to add Request Headers in filter and get that header in controller","body":"<p>When you make a request to controller, first OPTIONS request is sent, in which filter will not found values which you have set.\nFist skip the option request then try.</p>\n\n<pre><code>@Override\npublic void doFilter(ServletRequest request, ServletResponse response,\n        FilterChain chain) throws IOException, ServletException {\n    HttpServletRequest req = (HttpServletRequest) request;\n\n        if(!\"OPTIONS\".equalsIgnoreCase(request.getMethod())) {\n    MutableHttpServletRequest mutableRequest = new MutableHttpServletRequest(req);\n    ...\n    mutableRequest.putHeader(\"x-user-id\", \"1\");\n    chain.doFilter(mutableRequest, response);\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29336370,"reputation":1,"user_id":22476680,"display_name":"neunggu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693802597,"creation_date":1693476475,"answer_id":77014852,"question_id":61479029,"body_markdown":"Override getHeaders() in MutableHttpServletRequest class\r\nto get value using @RequestHeader.\r\n\r\n\r\n```\r\n// MutableHttpServletRequest class\r\n...\r\n@Override\r\npublic Enumeration&lt;String&gt; getHeaders(String name) {\r\n    Set&lt;String&gt; set = new HashSet();\r\n    if (customHeaders.keySet().contains(name)) {\r\n        set.add(getHeader(name));\r\n    }\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Enumeration&lt;String&gt; e = ((HttpServletRequest) getRequest()).getHeaders(name);\r\n    while (e.hasMoreElements()) {\r\n        String n = e.nextElement();\r\n        set.add(n);\r\n    }\r\n    return Collections.enumeration(set);\r\n}\r\n...\r\n```\r\n\r\n\r\nAnd this page help for you\r\nhttps://neunggu.tistory.com/50\r\n","title":"How to add Request Headers in filter and get that header in controller","body":"<p>Override getHeaders() in MutableHttpServletRequest class\nto get value using @RequestHeader.</p>\n<pre><code>// MutableHttpServletRequest class\n...\n@Override\npublic Enumeration&lt;String&gt; getHeaders(String name) {\n    Set&lt;String&gt; set = new HashSet();\n    if (customHeaders.keySet().contains(name)) {\n        set.add(getHeader(name));\n    }\n    @SuppressWarnings(&quot;unchecked&quot;)\n    Enumeration&lt;String&gt; e = ((HttpServletRequest) getRequest()).getHeaders(name);\n    while (e.hasMoreElements()) {\n        String n = e.nextElement();\n        set.add(n);\n    }\n    return Collections.enumeration(set);\n}\n...\n</code></pre>\n<p>And this page help for you\n<a href=\"https://neunggu.tistory.com/50\" rel=\"nofollow noreferrer\">https://neunggu.tistory.com/50</a></p>\n"}],"owner":{"account_id":17735162,"reputation":68,"user_id":12876703,"display_name":"Harshad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6668,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693802597,"creation_date":1588072961,"question_id":61479029,"body_markdown":"I am Using following wrapper to add headers its adding headers in request \r\n```\r\nfinal class MutableHttpServletRequest extends HttpServletRequestWrapper {\r\n    // holds custom header and value mapping\r\n    private final Map&lt;String, String&gt; customHeaders;\r\n\r\n    public MutableHttpServletRequest(HttpServletRequest request){\r\n        super(request);\r\n        this.customHeaders = new HashMap&lt;String, String&gt;();\r\n    }\r\n\r\n    public void putHeader(String name, String value){\r\n        this.customHeaders.put(name, value);\r\n    }\r\n\r\n    public String getHeader(String name) {\r\n        // check the custom headers first\r\n        String headerValue = customHeaders.get(name);\r\n\r\n        if (headerValue != null){\r\n            return headerValue;\r\n        }\r\n        // else return from into the original wrapped object\r\n        return ((HttpServletRequest) getRequest()).getHeader(name);\r\n    }\r\n\r\n    public Enumeration&lt;String&gt; getHeaderNames() {\r\n        // create a set of the custom header names\r\n        Set&lt;String&gt; set = new HashSet&lt;String&gt;(customHeaders.keySet());\r\n\r\n        // now add the headers from the wrapped request object\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Enumeration&lt;String&gt; e = ((HttpServletRequest) getRequest()).getHeaderNames();\r\n        while (e.hasMoreElements()) {\r\n            // add the names of the request headers into the list\r\n            String n = e.nextElement();\r\n            set.add(n);\r\n        }\r\n\r\n        // create an enumeration from the set and return\r\n        return Collections.enumeration(set);\r\n    }\r\n}\r\n```\r\nwith filter \r\n```\r\n@Override\r\npublic void doFilter(ServletRequest request, ServletResponse response,\r\n        FilterChain chain) throws IOException, ServletException {\r\n    HttpServletRequest req = (HttpServletRequest) request;\r\n    MutableHttpServletRequest mutableRequest = new MutableHttpServletRequest(req);\r\n    ...\r\n    mutableRequest.putHeader(&quot;x-user-id&quot;, &quot;1&quot;);\r\n    chain.doFilter(mutableRequest, response);\r\n}\r\n```\r\nbut i cant able to get that header in contoller its giving null\r\nso anyone please tell me how to set headers in filter and access that header in controller.\r\n```\r\n @GetMapping(&quot;/api1/temp1&quot;)\r\n\t    private ResponseEntity&lt;Object&gt;  temp1(@RequestHeader HttpHeaders headers, @RequestHeader(value=&quot;x-user-id&quot;,required=false) String userId){\r\n\t    \tSystem.out.println(userId));\r\n\t    \treturn new ResponseEntity&lt;Object&gt;(&quot;temp1 method&quot;, HttpStatus.OK);\r\n\t    }\r\n```","title":"How to add Request Headers in filter and get that header in controller","body":"<p>I am Using following wrapper to add headers its adding headers in request </p>\n\n<pre><code>final class MutableHttpServletRequest extends HttpServletRequestWrapper {\n    // holds custom header and value mapping\n    private final Map&lt;String, String&gt; customHeaders;\n\n    public MutableHttpServletRequest(HttpServletRequest request){\n        super(request);\n        this.customHeaders = new HashMap&lt;String, String&gt;();\n    }\n\n    public void putHeader(String name, String value){\n        this.customHeaders.put(name, value);\n    }\n\n    public String getHeader(String name) {\n        // check the custom headers first\n        String headerValue = customHeaders.get(name);\n\n        if (headerValue != null){\n            return headerValue;\n        }\n        // else return from into the original wrapped object\n        return ((HttpServletRequest) getRequest()).getHeader(name);\n    }\n\n    public Enumeration&lt;String&gt; getHeaderNames() {\n        // create a set of the custom header names\n        Set&lt;String&gt; set = new HashSet&lt;String&gt;(customHeaders.keySet());\n\n        // now add the headers from the wrapped request object\n        @SuppressWarnings(\"unchecked\")\n        Enumeration&lt;String&gt; e = ((HttpServletRequest) getRequest()).getHeaderNames();\n        while (e.hasMoreElements()) {\n            // add the names of the request headers into the list\n            String n = e.nextElement();\n            set.add(n);\n        }\n\n        // create an enumeration from the set and return\n        return Collections.enumeration(set);\n    }\n}\n</code></pre>\n\n<p>with filter </p>\n\n<pre><code>@Override\npublic void doFilter(ServletRequest request, ServletResponse response,\n        FilterChain chain) throws IOException, ServletException {\n    HttpServletRequest req = (HttpServletRequest) request;\n    MutableHttpServletRequest mutableRequest = new MutableHttpServletRequest(req);\n    ...\n    mutableRequest.putHeader(\"x-user-id\", \"1\");\n    chain.doFilter(mutableRequest, response);\n}\n</code></pre>\n\n<p>but i cant able to get that header in contoller its giving null\nso anyone please tell me how to set headers in filter and access that header in controller.</p>\n\n<pre><code> @GetMapping(\"/api1/temp1\")\n        private ResponseEntity&lt;Object&gt;  temp1(@RequestHeader HttpHeaders headers, @RequestHeader(value=\"x-user-id\",required=false) String userId){\n            System.out.println(userId));\n            return new ResponseEntity&lt;Object&gt;(\"temp1 method\", HttpStatus.OK);\n        }\n</code></pre>\n"},{"tags":["java","eclipse","lambda","functional-interface","apache-httpcomponents"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":2,"creation_date":1693478142,"post_id":77015018,"comment_id":135767706,"body_markdown":"It is possible, but I&#39;d advise you to look for the &quot;-source 7&quot; issue. I&#39;d guess it&#39;s in a maven file (&quot;&lt;source&gt;7&lt;/source&gt;&quot;).","body":"It is possible, but I&#39;d advise you to look for the &quot;-source 7&quot; issue. I&#39;d guess it&#39;s in a maven file (&quot;&lt;source&gt;7&lt;/source&gt;&quot;)."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":1,"creation_date":1693478811,"post_id":77015018,"comment_id":135767847,"body_markdown":"just to clarify, do you really want to compile with java 1.7 (basically backport your code to java 1.7) and looking for non-lambda alternative of the code snippet or the issue is that eclipse doesn&#39;t compile with 1.8 for some reason? If you want to remove lambda (and sure that there are no other java 8 code parts in your codebase) then please check the  definition of `loadKeyMaterial` method. Its last parameter must be an interface, please post it in the question as well so that we could provide a working non-lambda alternative","body":"just to clarify, do you really want to compile with java 1.7 (basically backport your code to java 1.7) and looking for non-lambda alternative of the code snippet or the issue is that eclipse doesn&#39;t compile with 1.8 for some reason? If you want to remove lambda (and sure that there are no other java 8 code parts in your codebase) then please check the  definition of <code>loadKeyMaterial</code> method. Its last parameter must be an interface, please post it in the question as well so that we could provide a working non-lambda alternative"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1693479280,"post_id":77015018,"comment_id":135767931,"body_markdown":"Look at the Javadoc for `loadKeyMaterial`, see what type it expects for that parameter, and create an instance of that type, presumably by creating an anonymous instance. But as others have said, check your pom.xml","body":"Look at the Javadoc for <code>loadKeyMaterial</code>, see what type it expects for that parameter, and create an instance of that type, presumably by creating an anonymous instance. But as others have said, check your pom.xml"},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":0,"creation_date":1693481347,"post_id":77015018,"comment_id":135768379,"body_markdown":"@MarkBramnik - I am not wanting to compile with java 1.7... I was asking this question because I have spent a lot time trying to (unsuccessfully) figure out why Eclipse/Maven thinks it should be building using Java 1.7 already, so I thought that an alternative might be just getting rid of the lambda expression from the code.  Not optimal, I know, but just really frustrated.  Sorry","body":"@MarkBramnik - I am not wanting to compile with java 1.7... I was asking this question because I have spent a lot time trying to (unsuccessfully) figure out why Eclipse/Maven thinks it should be building using Java 1.7 already, so I thought that an alternative might be just getting rid of the lambda expression from the code.  Not optimal, I know, but just really frustrated.  Sorry"},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":0,"creation_date":1693481423,"post_id":77015018,"comment_id":135768392,"body_markdown":"@daniu - when you say &quot;a maven file&quot;, which file or files were you referring to?  Thanks!","body":"@daniu - when you say &quot;a maven file&quot;, which file or files were you referring to?  Thanks!"},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":0,"creation_date":1693481782,"post_id":77015018,"comment_id":135768472,"body_markdown":"@daniu - I just editd the original post to correct the error message - it says &quot;1.7&quot;, not &quot;7&quot;.  I think I actually saw that somewhere last night in one of the files (I think it was &#39;source&#39; and &#39;target&#39;) and I tried changing that to 1.8, but it didn&#39;t work.  I&#39;ll try to find it again now ...","body":"@daniu - I just editd the original post to correct the error message - it says &quot;1.7&quot;, not &quot;7&quot;.  I think I actually saw that somewhere last night in one of the files (I think it was &#39;source&#39; and &#39;target&#39;) and I tried changing that to 1.8, but it didn&#39;t work.  I&#39;ll try to find it again now ..."},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":0,"creation_date":1693482058,"post_id":77015018,"comment_id":135768527,"body_markdown":"@daniu - I found the 1.7 references again.  It is in the src-parent/pom.xml and has &quot;source&quot; and &quot;target&quot; set to &quot;1.7&quot;.  I know I tried changing this last night but I&#39;ll do it again and try a build again now and will post back.","body":"@daniu - I found the 1.7 references again.  It is in the src-parent/pom.xml and has &quot;source&quot; and &quot;target&quot; set to &quot;1.7&quot;.  I know I tried changing this last night but I&#39;ll do it again and try a build again now and will post back."},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":1,"creation_date":1693483251,"post_id":77015018,"comment_id":135768814,"body_markdown":"@daniu - I made the change in the file and now it compiled!  Like I said I remember finding and trying a build last night, but I think I may&#39;ve mistakenly built the wrong project last night :( !!","body":"@daniu - I made the change in the file and now it compiled!  Like I said I remember finding and trying a build last night, but I think I may&#39;ve mistakenly built the wrong project last night :( !!"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":1,"creation_date":1693483308,"post_id":77015018,"comment_id":135768823,"body_markdown":"I see, so try to make two things: 1. Post maven pom.xml - what happens when you compile outside eclipse (mvn clean package)  - does it compile? Especially check the properties and the definitions of maven compiler plugin in your pom.xml (you might also have defaults, which is java 1.5 at all) 2. Post the interface like I&#39;ve asked in the previous comment - this is required to help you to create a non-lambda alternative for this specific case.","body":"I see, so try to make two things: 1. Post maven pom.xml - what happens when you compile outside eclipse (mvn clean package)  - does it compile? Especially check the properties and the definitions of maven compiler plugin in your pom.xml (you might also have defaults, which is java 1.5 at all) 2. Post the interface like I&#39;ve asked in the previous comment - this is required to help you to create a non-lambda alternative for this specific case."},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":0,"creation_date":1693483336,"post_id":77015018,"comment_id":135768829,"body_markdown":"@all - so I think, as far as the original question about the build problem, I am good now.  Thanks for ALL of the help/questions!!  I think that I&#39;ve been to deep/heads-down on this thing so they were all helpful.  Thanks again!!!","body":"@all - so I think, as far as the original question about the build problem, I am good now.  Thanks for ALL of the help/questions!!  I think that I&#39;ve been to deep/heads-down on this thing so they were all helpful.  Thanks again!!!"},{"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"score":0,"creation_date":1693483643,"post_id":77015018,"comment_id":135768885,"body_markdown":"@daniu - I think I know what I did wrong last night - so last night, I found the 1.7 values in the src-parent/pom.xml, and I made the change in that pom.xml, then I tried to do the Run As-&gt;Maven build on the src-parent, and THAT build failed (and also failed just before now. But then after it failed just before now, I decided to do the Run As on the actual project I was working on, which was the one I was getting the lambda error on, and when I tried to build THAT project after changing the src-parent/pom.xml, the specific project built all right !!","body":"@daniu - I think I know what I did wrong last night - so last night, I found the 1.7 values in the src-parent/pom.xml, and I made the change in that pom.xml, then I tried to do the Run As-&gt;Maven build on the src-parent, and THAT build failed (and also failed just before now. But then after it failed just before now, I decided to do the Run As on the actual project I was working on, which was the one I was getting the lambda error on, and when I tried to build THAT project after changing the src-parent/pom.xml, the specific project built all right !!"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693486524,"post_id":77015018,"comment_id":135769478,"body_markdown":"The problem is not limited to the posted code but also in the code that expects a lambda as an argument to a method.  The entire structure may be completely different.","body":"The problem is not limited to the posted code but also in the code that expects a lambda as an argument to a method.  The entire structure may be completely different."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693802325,"creation_date":1693802325,"answer_id":77035102,"question_id":77015018,"body_markdown":"You can&#39;t compile Java 8 features (lambda expression, method references) with the Java 7 compiler.\r\n\r\nAssuming you use the method from the latest version of [Apache HttpCore 4.4.16][1], just implement an instance of the anonymous class `PrivateKeyStrategy`:\r\n\r\n```java\r\nSSLContext sslContext = SSLContexts.custom().loadKeyMaterial(\r\n\tMutualHttpsMain.class.getResource(TEST_CLIENT_KEYSTORE_RESOURCE),\r\n\tstorePassword,\r\n\tkeyPassword,\r\n\tnew PrivateKeyStrategy() {\r\n\t\t@Override\r\n\t\tpublic String chooseAlias(Map&lt;String, PrivateKeyDetails&gt; aliases, Socket socket) {\r\n\t\t\treturn aliases.keySet().iterator().next();\r\n\t\t}\r\n\t}\r\n).build();\r\n```\r\n\r\n**A deprectaion note**: If you use the deprecated Apache HttpClient `org.apache.http.conn.ssl.SSLContextBuilder`, consider moving to Apache HttpCore `org.apache.http.ssl.SSLContextBuilder`.\r\n\r\n  [1]: https://javadoc.io/doc/org.apache.httpcomponents/httpcore/4.4.16/org/apache/http/ssl/SSLContextBuilder.html#loadKeyMaterial(java.net.URL,%20char[],%20char[],%20org.apache.http.ssl.PrivateKeyStrategy)","title":"How to convert Java code to non-lambda expression?","body":"<p>You can't compile Java 8 features (lambda expression, method references) with the Java 7 compiler.</p>\n<p>Assuming you use the method from the latest version of <a href=\"https://javadoc.io/doc/org.apache.httpcomponents/httpcore/4.4.16/org/apache/http/ssl/SSLContextBuilder.html#loadKeyMaterial(java.net.URL,%20char%5B%5D,%20char%5B%5D,%20org.apache.http.ssl.PrivateKeyStrategy)\" rel=\"nofollow noreferrer\">Apache HttpCore 4.4.16</a>, just implement an instance of the anonymous class <code>PrivateKeyStrategy</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SSLContext sslContext = SSLContexts.custom().loadKeyMaterial(\n    MutualHttpsMain.class.getResource(TEST_CLIENT_KEYSTORE_RESOURCE),\n    storePassword,\n    keyPassword,\n    new PrivateKeyStrategy() {\n        @Override\n        public String chooseAlias(Map&lt;String, PrivateKeyDetails&gt; aliases, Socket socket) {\n            return aliases.keySet().iterator().next();\n        }\n    }\n).build();\n</code></pre>\n<p><strong>A deprectaion note</strong>: If you use the deprecated Apache HttpClient <code>org.apache.http.conn.ssl.SSLContextBuilder</code>, consider moving to Apache HttpCore <code>org.apache.http.ssl.SSLContextBuilder</code>.</p>\n"}],"owner":{"account_id":267247,"reputation":1186,"user_id":555303,"accept_rate":30,"display_name":"user555303"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693802352,"creation_date":1693477919,"question_id":77015018,"body_markdown":"I am trying to build (in Eclipse) and use the code in this older thread:\r\n\r\nhttps://stackoverflow.com/questions/18541813/how-do-i-pass-the-client-certificate-with-http-client/46821977#46821977\r\n\r\nBut I am having problems compiling it because this line is causing the compiler to flag an error:\r\n\r\n```java\r\nSSLContext sslContext = SSLContexts.custom().loadKeyMaterial(\r\n    MutualHttpsMain.class.getResource(TEST_CLIENT_KEYSTORE_RESOURCE),\r\n    storePassword, \r\n    keyPassword,\r\n    (aliases, socket) -&gt; aliases.keySet().iterator().next()\r\n).build();\r\n```\r\n\r\nThe error is:\r\n\r\n    error: lambda expressions are not supported in -source 1.7\r\n\r\nMy understanding is that lambda expressions were not supported in Java/JDK 1.7, so it seems like Eclipse (or Maven) thinks that the compiler is 1.8, but I&#39;ve gone through my Eclipse configuration and everything appears to be configured for using JDK 1.8, so I don&#39;t know why I am still getting the error, so I am wondering:  Is it possible to convert that line so it is no longer a lambda expression?  \r\n\r\nCan someone here help with that?\r\n\r\nEDIT: Sorry, I had to correct the text of the error above... the correct error message says `1.7` and not `7`.","title":"How to convert Java code to non-lambda expression?","body":"<p>I am trying to build (in Eclipse) and use the code in this older thread:</p>\n<p><a href=\"https://stackoverflow.com/questions/18541813/how-do-i-pass-the-client-certificate-with-http-client/46821977#46821977\">How do I pass the client certificate with HTTP client?</a></p>\n<p>But I am having problems compiling it because this line is causing the compiler to flag an error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SSLContext sslContext = SSLContexts.custom().loadKeyMaterial(\n    MutualHttpsMain.class.getResource(TEST_CLIENT_KEYSTORE_RESOURCE),\n    storePassword, \n    keyPassword,\n    (aliases, socket) -&gt; aliases.keySet().iterator().next()\n).build();\n</code></pre>\n<p>The error is:</p>\n<pre><code>error: lambda expressions are not supported in -source 1.7\n</code></pre>\n<p>My understanding is that lambda expressions were not supported in Java/JDK 1.7, so it seems like Eclipse (or Maven) thinks that the compiler is 1.8, but I've gone through my Eclipse configuration and everything appears to be configured for using JDK 1.8, so I don't know why I am still getting the error, so I am wondering:  Is it possible to convert that line so it is no longer a lambda expression?</p>\n<p>Can someone here help with that?</p>\n<p>EDIT: Sorry, I had to correct the text of the error above... the correct error message says <code>1.7</code> and not <code>7</code>.</p>\n"},{"tags":["java","selenium-webdriver","cucumber"],"comments":[{"owner":{"account_id":198515,"reputation":819,"user_id":2132930,"accept_rate":100,"display_name":"Prabodh Mhalgi"},"score":0,"creation_date":1694030885,"post_id":77034974,"comment_id":135839464,"body_markdown":"Explicitly mention the cucumber version you are looking for. The question is going to say here for decades.","body":"Explicitly mention the cucumber version you are looking for. The question is going to say here for decades."}],"owner":{"account_id":29360385,"reputation":1,"user_id":22495228,"display_name":"Seetharam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693799558,"creation_date":1693799558,"question_id":77034974,"body_markdown":"Which java and selenium latest versions supported latest cucumber without any deviation. \r\nCurrently I am facing issue with java 17 and old eclipse versions. These are not supported test runner execution. \r\n\r\nPlease help me in this\r\n\r\nCompatibility with latest versions supported by java and selenium and also eclipse ide. \r\n\r\n","title":"Cucumber compatibility with java and eclipse and selenium","body":"<p>Which java and selenium latest versions supported latest cucumber without any deviation.\nCurrently I am facing issue with java 17 and old eclipse versions. These are not supported test runner execution.</p>\n<p>Please help me in this</p>\n<p>Compatibility with latest versions supported by java and selenium and also eclipse ide.</p>\n"},{"tags":["java","jodatime"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":3,"up_vote_count":24,"is_accepted":false,"score":21,"last_activity_date":1376770257,"creation_date":1289306316,"answer_id":4133719,"question_id":4133682,"body_markdown":"Take a look at [`DateMidnight`][1].\r\n\r\n\r\n    DateTime startOfMonth = new DateTime(new DateMidnight(input.withDayOfMonth(1)));\r\n\r\nUpdate: 2013-08-16 by JodaStephen: Version 2.3 of Joda-Time deprecates `DateMidnight` as it was a very bad idea of a class.\r\n\r\nSo use:\r\n\r\n    DateTime startOfMonth = input.withDayOfMonth(1).withTimeAtStartOfDay();\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateMidnight.html","title":"JodaTime equivalent of DateUtils.truncate()","body":"<p>Take a look at <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateMidnight.html\" rel=\"noreferrer\"><code>DateMidnight</code></a>.</p>\n\n<pre><code>DateTime startOfMonth = new DateTime(new DateMidnight(input.withDayOfMonth(1)));\n</code></pre>\n\n<p>Update: 2013-08-16 by JodaStephen: Version 2.3 of Joda-Time deprecates <code>DateMidnight</code> as it was a very bad idea of a class.</p>\n\n<p>So use:</p>\n\n<pre><code>DateTime startOfMonth = input.withDayOfMonth(1).withTimeAtStartOfDay();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1693798947,"creation_date":1289306859,"answer_id":4133797,"question_id":4133682,"body_markdown":"**Use the &lt;code&gt;withMillisOfDay()&lt;/code&gt; method to shorten the syntax.**\r\n\r\n```java\r\nDateTime startOfMonth = input.withDayOfMonth(1).withMillisOfDay(0);\r\n```","title":"JodaTime equivalent of DateUtils.truncate()","body":"<p><strong>Use the <code>withMillisOfDay()</code> method to shorten the syntax.</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTime startOfMonth = input.withDayOfMonth(1).withMillisOfDay(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33849,"reputation":3935,"user_id":95103,"accept_rate":50,"display_name":"Soundlink"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1376677072,"creation_date":1323893186,"answer_id":8510936,"question_id":4133682,"body_markdown":"You can use **[roundFloorCopy()][1]** to mimic DateUtils.truncate\r\n\r\n    Date truncateMonth = DateUtils.truncate(input, Calendar.MONTH);\r\n    -&gt; DateTime truncateMonth = input.dayOfMonth().roundFloorCopy();\r\n\r\n    Date truncateMinute = DateUtils.truncate(input, Calendar.MINUTE);\r\n    -&gt; DateTime truncateMinute = input.minuteOfDay().roundFloorCopy();\r\n\r\n    Date truncateHourOfDay = DateUtils.truncate(input, Calendar.HOUR_OF_DAY);\r\n    -&gt; DateTime truncateHourOfDay = input.hourOfDay().roundFloorCopy()\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.Property.html#roundFloorCopy%28%29","title":"JodaTime equivalent of DateUtils.truncate()","body":"<p>You can use <strong><a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.Property.html#roundFloorCopy%28%29\">roundFloorCopy()</a></strong> to mimic DateUtils.truncate</p>\n\n<pre><code>Date truncateMonth = DateUtils.truncate(input, Calendar.MONTH);\n-&gt; DateTime truncateMonth = input.dayOfMonth().roundFloorCopy();\n\nDate truncateMinute = DateUtils.truncate(input, Calendar.MINUTE);\n-&gt; DateTime truncateMinute = input.minuteOfDay().roundFloorCopy();\n\nDate truncateHourOfDay = DateUtils.truncate(input, Calendar.HOUR_OF_DAY);\n-&gt; DateTime truncateHourOfDay = input.hourOfDay().roundFloorCopy()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1381998429,"creation_date":1381998429,"answer_id":19421660,"question_id":4133682,"body_markdown":"Joda Time also supports the [withFields][1] method in the `DateTime` type. This can also be used to create a short syntax:\r\n\r\n    new DateTime().withDayOfMonth(1).withFields(new LocalTime(0, 0));\r\n\r\nIn production code the argument to `withFields` should be factored out to a constant.\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/apidocs/src-html/org/joda/time/DateTime.html#line.775","title":"JodaTime equivalent of DateUtils.truncate()","body":"<p>Joda Time also supports the <a href=\"http://joda-time.sourceforge.net/apidocs/src-html/org/joda/time/DateTime.html#line.775\" rel=\"nofollow\">withFields</a> method in the <code>DateTime</code> type. This can also be used to create a short syntax:</p>\n\n<pre><code>new DateTime().withDayOfMonth(1).withFields(new LocalTime(0, 0));\n</code></pre>\n\n<p>In production code the argument to <code>withFields</code> should be factored out to a constant.</p>\n"}],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28399,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":8510936,"answer_count":4,"score":45,"last_activity_date":1693798947,"creation_date":1289306093,"question_id":4133682,"body_markdown":"I have never used [JodaTime][1] before, but answering this question, https://stackoverflow.com/questions/4131558/how-to-get-weekdays-in-a-month/4132083#4132083. \r\n\r\nI tried it and came up with this ugly code to unset all fields below day:\r\n\r\n    DateTime startOfMonth =\r\n        input.withDayOfMonth(1)\r\n            .withHourOfDay(0)       // there\r\n            .withMinuteOfHour(0)    // has got to\r\n            .withSecondOfMinute(0)  // be a shorter way\r\n            .withMillisOfSecond(0); // to do this\r\n\r\nWhere the [Commons / Lang][3] equivalent using [DateUtils][4] would be\r\n\r\n    Date startOfMonth = DateUtils.truncate(input, Calendar.MONTH);\r\n\r\nWhat&#39;s the preferred idiom to do that in JodaTime?\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n  [3]: http://commons.apache.org/lang\r\n  [4]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.5/org/apache/commons/lang/time/DateUtils.html","title":"JodaTime equivalent of DateUtils.truncate()","body":"<p>I have never used <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">JodaTime</a> before, but answering this question, <a href=\"https://stackoverflow.com/questions/4131558/how-to-get-weekdays-in-a-month/4132083#4132083\">How to get ordinal Weekdays in a Month</a>.</p>\n<p>I tried it and came up with this ugly code to unset all fields below day:</p>\n<pre><code>DateTime startOfMonth =\n    input.withDayOfMonth(1)\n        .withHourOfDay(0)       // there\n        .withMinuteOfHour(0)    // has got to\n        .withSecondOfMinute(0)  // be a shorter way\n        .withMillisOfSecond(0); // to do this\n</code></pre>\n<p>Where the <a href=\"http://commons.apache.org/lang\" rel=\"nofollow noreferrer\">Commons / Lang</a> equivalent using <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.5/org/apache/commons/lang/time/DateUtils.html\" rel=\"nofollow noreferrer\">DateUtils</a> would be</p>\n<pre><code>Date startOfMonth = DateUtils.truncate(input, Calendar.MONTH);\n</code></pre>\n<p>What's the preferred idiom to do that in JodaTime?</p>\n"},{"tags":["java","database","oracle","hibernate","ddl"],"comments":[{"owner":{"account_id":2599844,"reputation":8426,"user_id":2252572,"accept_rate":63,"display_name":"Bacteria"},"score":0,"creation_date":1434488573,"post_id":30875863,"comment_id":49797259,"body_markdown":"If u have provision to use Spring with hibernate then Spring 3 has support for embedded Java database engines. Embedded databases like HSQL, H2, or Derby.  For details [View](http://docs.spring.io/spring/docs/3.0.0.RC2/spring-framework-reference/html/ch12s08.html?ref=driverlayer.com/web) this.","body":"If u have provision to use Spring with hibernate then Spring 3 has support for embedded Java database engines. Embedded databases like HSQL, H2, or Derby.  For details <a href=\"http://docs.spring.io/spring/docs/3.0.0.RC2/spring-framework-reference/html/ch12s08.html?ref=driverlayer.com/web\" rel=\"nofollow noreferrer\">View</a> this."},{"owner":{"account_id":428764,"reputation":4721,"user_id":811299,"accept_rate":47,"display_name":"Steve Cohen"},"score":0,"creation_date":1434490756,"post_id":30875863,"comment_id":49798353,"body_markdown":"sounds cool - but I need Oracle.","body":"sounds cool - but I need Oracle."},{"owner":{"account_id":2599844,"reputation":8426,"user_id":2252572,"accept_rate":63,"display_name":"Bacteria"},"score":0,"creation_date":1434491145,"post_id":30875863,"comment_id":49798537,"body_markdown":"without installing oracle.I don&#39;t think it is possible.Oracle Database XE-is an entry-level, small-footprint database and easy to install &amp;  It&#39;s free.U can easily use it.","body":"without installing oracle.I don&#39;t think it is possible.Oracle Database XE-is an entry-level, small-footprint database and easy to install &amp;  It&#39;s free.U can easily use it."}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515092226,"creation_date":1434524680,"answer_id":30884476,"question_id":30875863,"body_markdown":"1. You can either use an [In-memory database during testing phase][1];\r\n\r\n    hibernate.hbm2ddl.auto=&quot;update&quot;\r\n\r\n2. Or you can generate your DDL using the `hibernatetool` from `Maven`:\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;generate-test-sql-scripts&lt;/id&gt;\r\n                    &lt;phase&gt;generate-test-resources&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;run&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;tasks&gt;\r\n                            &lt;property name=&quot;maven_test_classpath&quot; refid=&quot;maven.test.classpath&quot;/&gt;\r\n                            &lt;path id=&quot;hibernate_tools_path&quot;&gt;\r\n                                &lt;pathelement path=&quot;${maven_test_classpath}&quot;/&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;property name=&quot;hibernate_tools_classpath&quot; refid=&quot;hibernate_tools_path&quot;/&gt;\r\n                            &lt;taskdef name=&quot;hibernatetool&quot;\r\n                                     classname=&quot;org.hibernate.tool.ant.HibernateToolTask&quot;/&gt;\r\n                            &lt;mkdir dir=&quot;${project.build.directory}/test-classes/hsqldb&quot;/&gt;\r\n                            &lt;hibernatetool destdir=&quot;${project.build.directory}/test-classes/hsqldb&quot;&gt;\r\n                                &lt;classpath refid=&quot;hibernate_tools_path&quot;/&gt;\r\n                                &lt;jpaconfiguration persistenceunit=&quot;testPersistenceUnit&quot;\r\n                                                  propertyfile=&quot;src/test/resources/META-INF/spring/jdbc.properties&quot;/&gt;\r\n                                &lt;hbm2ddl drop=&quot;false&quot; create=&quot;true&quot; export=&quot;false&quot;\r\n                                         outputfilename=&quot;create_db.sql&quot;\r\n                                         delimiter=&quot;;&quot; format=&quot;true&quot;/&gt;\r\n                                &lt;hbm2ddl drop=&quot;true&quot; create=&quot;false&quot; export=&quot;false&quot;\r\n                                         outputfilename=&quot;drop_db.sql&quot;\r\n                                         delimiter=&quot;;&quot; format=&quot;true&quot;/&gt;\r\n                            &lt;/hibernatetool&gt;\r\n                        &lt;/tasks&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    \r\n This `Maven` plugin will generate the following DDL files:\r\n\r\n- create_db.sql (containing all DDL statements for creating the DB)\r\n- drop_db.sql (containing all DDL statements for dropping the DB)\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-facts-integration-testing-strategies/","title":"Can Hibernate Schema generation be used to generate DDL without database connection","body":"<ol>\n<li><p>You can either use an <a href=\"https://vladmihalcea.com/hibernate-facts-integration-testing-strategies/\" rel=\"nofollow noreferrer\">In-memory database during testing phase</a>;</p>\n\n<p>hibernate.hbm2ddl.auto=\"update\"</p></li>\n<li><p>Or you can generate your DDL using the <code>hibernatetool</code> from <code>Maven</code>:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-test-sql-scripts&lt;/id&gt;\n            &lt;phase&gt;generate-test-resources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;tasks&gt;\n                    &lt;property name=\"maven_test_classpath\" refid=\"maven.test.classpath\"/&gt;\n                    &lt;path id=\"hibernate_tools_path\"&gt;\n                        &lt;pathelement path=\"${maven_test_classpath}\"/&gt;\n                    &lt;/path&gt;\n                    &lt;property name=\"hibernate_tools_classpath\" refid=\"hibernate_tools_path\"/&gt;\n                    &lt;taskdef name=\"hibernatetool\"\n                             classname=\"org.hibernate.tool.ant.HibernateToolTask\"/&gt;\n                    &lt;mkdir dir=\"${project.build.directory}/test-classes/hsqldb\"/&gt;\n                    &lt;hibernatetool destdir=\"${project.build.directory}/test-classes/hsqldb\"&gt;\n                        &lt;classpath refid=\"hibernate_tools_path\"/&gt;\n                        &lt;jpaconfiguration persistenceunit=\"testPersistenceUnit\"\n                                          propertyfile=\"src/test/resources/META-INF/spring/jdbc.properties\"/&gt;\n                        &lt;hbm2ddl drop=\"false\" create=\"true\" export=\"false\"\n                                 outputfilename=\"create_db.sql\"\n                                 delimiter=\";\" format=\"true\"/&gt;\n                        &lt;hbm2ddl drop=\"true\" create=\"false\" export=\"false\"\n                                 outputfilename=\"drop_db.sql\"\n                                 delimiter=\";\" format=\"true\"/&gt;\n                    &lt;/hibernatetool&gt;\n                &lt;/tasks&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>This <code>Maven</code> plugin will generate the following DDL files:</p>\n\n<ul>\n<li>create_db.sql (containing all DDL statements for creating the DB)</li>\n<li>drop_db.sql (containing all DDL statements for dropping the DB)</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":970793,"reputation":440,"user_id":993401,"display_name":"jstadler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533628544,"creation_date":1533628544,"answer_id":51721652,"question_id":30875863,"body_markdown":"As of hibernate-tools 5.3 you can also use the integrated [hibernate-tools-maven-plugin][1]. There you should also find documentation on how to use it.\r\n\r\nUnfortunatelly the maven-site with detailed description of the parameters/goals for it is not yet published but a little bit older version of it is available [here][2].\r\n\r\nThere would be a PR ([#842][3]) that would allow for the site to be generated... unfortunatelly it hasn&#39;t found its way in yet.\r\n\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-tools/tree/master/maven\r\n  [2]: https://stadler.github.io/hibernate-tools-maven-plugin/\r\n  [3]: https://github.com/hibernate/hibernate-tools/pull/842","title":"Can Hibernate Schema generation be used to generate DDL without database connection","body":"<p>As of hibernate-tools 5.3 you can also use the integrated <a href=\"https://github.com/hibernate/hibernate-tools/tree/master/maven\" rel=\"nofollow noreferrer\">hibernate-tools-maven-plugin</a>. There you should also find documentation on how to use it.</p>\n\n<p>Unfortunatelly the maven-site with detailed description of the parameters/goals for it is not yet published but a little bit older version of it is available <a href=\"https://stadler.github.io/hibernate-tools-maven-plugin/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>There would be a PR (<a href=\"https://github.com/hibernate/hibernate-tools/pull/842\" rel=\"nofollow noreferrer\">#842</a>) that would allow for the site to be generated... unfortunatelly it hasn't found its way in yet.</p>\n"},{"tags":[],"owner":{"account_id":97204,"reputation":4979,"user_id":263801,"accept_rate":74,"display_name":"Archie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693798447,"creation_date":1693798447,"answer_id":77034943,"question_id":30875863,"body_markdown":"Please try my new plugin which addresses this exact problem which has also plagued me for many years.\r\n\r\nhttps://github.com/archiecobbs/hibernate-jpa-schemagen","title":"Can Hibernate Schema generation be used to generate DDL without database connection","body":"<p>Please try my new plugin which addresses this exact problem which has also plagued me for many years.</p>\n<p><a href=\"https://github.com/archiecobbs/hibernate-jpa-schemagen\" rel=\"nofollow noreferrer\">https://github.com/archiecobbs/hibernate-jpa-schemagen</a></p>\n"}],"owner":{"account_id":428764,"reputation":4721,"user_id":811299,"accept_rate":47,"display_name":"Steve Cohen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2570,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1693798447,"creation_date":1434480753,"question_id":30875863,"body_markdown":"I&#39;d like to use Hibernate&#39; schema generation to generate DDL for a database that I cannot access directly from my PC, just using hibernate config files.  I&#39;d like to skip, if possible, the installation of a local oracle database.  Can hibernate generate DDL for a &quot;theoretical&quot; database of the appropriate dialect, version, etc., or is this a pipe dream?\r\n\r\nAre there other tools that can do this?\r\n","title":"Can Hibernate Schema generation be used to generate DDL without database connection","body":"<p>I'd like to use Hibernate' schema generation to generate DDL for a database that I cannot access directly from my PC, just using hibernate config files.  I'd like to skip, if possible, the installation of a local oracle database.  Can hibernate generate DDL for a \"theoretical\" database of the appropriate dialect, version, etc., or is this a pipe dream?</p>\n\n<p>Are there other tools that can do this?</p>\n"},{"tags":["java","php","android"],"comments":[{"owner":{"account_id":24000166,"reputation":220,"user_id":17985195,"display_name":"TP95"},"score":0,"creation_date":1693798082,"post_id":77034903,"comment_id":135803165,"body_markdown":"The symbol &quot;\\n&quot; is an escape character for new line. This indicates in text that the next characters after this symbol is written in the next line. Usually the keyboard shortcuts for this is just pressing our &quot;Enter&quot; key. Maybe when the username is added and then the user presses &quot;Enter&quot; to submit the login form its registering this symbol.","body":"The symbol &quot;\\n&quot; is an escape character for new line. This indicates in text that the next characters after this symbol is written in the next line. Usually the keyboard shortcuts for this is just pressing our &quot;Enter&quot; key. Maybe when the username is added and then the user presses &quot;Enter&quot; to submit the login form its registering this symbol."},{"owner":{"account_id":29360244,"reputation":1,"user_id":22495119,"display_name":"Ahmad Fauzan"},"score":0,"creation_date":1693798373,"post_id":77034903,"comment_id":135803190,"body_markdown":"VERY HELPFUL I found the problem like u said when I register the username I pressed&quot;enter&quot;, thank you","body":"VERY HELPFUL I found the problem like u said when I register the username I pressed&quot;enter&quot;, thank you"},{"owner":{"account_id":1129881,"reputation":11552,"user_id":1116230,"display_name":"Nico Haase"},"score":0,"creation_date":1693812059,"post_id":77034903,"comment_id":135804676,"body_markdown":"Is this a PHP problem or a Java problem? Please share the code involved, along with your attempts to resolve the problem","body":"Is this a PHP problem or a Java problem? Please share the code involved, along with your attempts to resolve the problem"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693798146,"creation_date":1693798025,"answer_id":77034928,"question_id":77034903,"body_markdown":"That&#39;s an escaped newline character inside the string. Unescaped newlines are invalid inside JSON strings.\r\n\r\nNote that a newline may not be visible is there is no further text in a UI, so it may be not obvious to a user.","title":"an inappropriate symbol appears in the response","body":"<p>That's an escaped newline character inside the string. Unescaped newlines are invalid inside JSON strings.</p>\n<p>Note that a newline may not be visible is there is no further text in a UI, so it may be not obvious to a user.</p>\n"}],"owner":{"account_id":29360244,"reputation":1,"user_id":22495119,"display_name":"Ahmad Fauzan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1693798146,"creation_date":1693797455,"question_id":77034903,"body_markdown":"I created a registration and login code that connects to Android Studio, but I face a login that cannot, after I checked with Postman that my login and register was successful but apparently I found a strange symbol appeared in the response.\r\n\r\n{\r\n&quot;status&quot;: true,\r\n&quot;message&quot;: &quot;Login Berhasil&quot;,\r\n&quot;data&quot;: {\r\n&quot;user_id&quot;: 3,\r\n&quot;username&quot;: &quot;admin2\\n&quot;,\r\n&quot;name&quot;: &quot;admin2&quot;\r\n}\r\n}\r\n\r\nthe strange symbol I mean is the &quot;\\n&quot; that appears in the username section\r\n\r\nI&#39;ve been trying to find where this symbol is located but can&#39;t find it, I hope here I can find a solution.","title":"an inappropriate symbol appears in the response","body":"<p>I created a registration and login code that connects to Android Studio, but I face a login that cannot, after I checked with Postman that my login and register was successful but apparently I found a strange symbol appeared in the response.</p>\n<p>{\n&quot;status&quot;: true,\n&quot;message&quot;: &quot;Login Berhasil&quot;,\n&quot;data&quot;: {\n&quot;user_id&quot;: 3,\n&quot;username&quot;: &quot;admin2\\n&quot;,\n&quot;name&quot;: &quot;admin2&quot;\n}\n}</p>\n<p>the strange symbol I mean is the &quot;\\n&quot; that appears in the username section</p>\n<p>I've been trying to find where this symbol is located but can't find it, I hope here I can find a solution.</p>\n"},{"tags":["java","spring","generics","design-patterns","interface"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1693753851,"post_id":77032783,"comment_id":135799217,"body_markdown":"I&#39;m not sure I understand the problem. Each validator receives a different type, so that distinction has to be propagated somehow. The bit that confuses me is that you want a generic thing, which is already `InputValidator&lt;T&gt;`, what else do you want different? It&#39;s worth mentioning that Spring encourages a very, very poor OO design in which all logic is in &#39;Services/handers/whatever`, and I wonder if you are feeling some frustration due to it.","body":"I&#39;m not sure I understand the problem. Each validator receives a different type, so that distinction has to be propagated somehow. The bit that confuses me is that you want a generic thing, which is already <code>InputValidator&lt;T&gt;</code>, what else do you want different? It&#39;s worth mentioning that Spring encourages a very, very poor OO design in which all logic is in &#39;Services/handers/whatever`, and I wonder if you are feeling some frustration due to it."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1693758036,"post_id":77032783,"comment_id":135799687,"body_markdown":"https://en.wikipedia.org/wiki/Bean_Validation and https://jakarta.ee/specifications/bean-validation/","body":"<a href=\"https://en.wikipedia.org/wiki/Bean_Validation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Bean_Validation</a> and <a href=\"https://jakarta.ee/specifications/bean-validation/\" rel=\"nofollow noreferrer\">jakarta.ee/specifications/bean-validation</a>"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1693896236,"post_id":77032783,"comment_id":135815898,"body_markdown":"To add to Basil&#39;s comment: You seem to have implemented your own validation mechanism. Java EE / Jakarta EE has a standard API for validation, the Bean Validation API. Spring supports this as well. It would be better to use the standard mechanism instead of re-inventing this yourself.","body":"To add to Basil&#39;s comment: You seem to have implemented your own validation mechanism. Java EE / Jakarta EE has a standard API for validation, the Bean Validation API. Spring supports this as well. It would be better to use the standard mechanism instead of re-inventing this yourself."}],"answers":[{"tags":[],"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1693755918,"creation_date":1693755918,"answer_id":77033053,"question_id":77032783,"body_markdown":"I&#39;m not sure I understand your question fully, but here are a few ideas.\r\n\r\nYou can group multiple validators on the same type with a class like this:\r\n\r\n    public class MultiInputsValidator&lt;T&gt; implements InputsValidator&lt;T&gt; {\r\n        private final InputsValidator&lt;T&gt;[] validators;\r\n    \r\n        public MultiInputsValidator(InputsValidator&lt;T&gt;... validators) {\r\n            this.validators = validators;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;MessageEnum&gt; validator(T input) {\r\n            List&lt;MessageEnum&gt; result = new ArrayList&lt;&gt;();\r\n            for (InputsValidator&lt;T&gt; tor: validators) {\r\n                result.addAll(tor.validator(input));\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\nYou can write a validator class that validates a property of an object as follows:\r\n\r\n    public class PropertyValidator&lt;T,F&gt; implements InputsValidator&lt;T&gt; {\r\n        private final Function&lt;T,F&gt; getter;\r\n        private final InputsValidator&lt;F&gt; fieldValidator;\r\n    \r\n        public PropertyValidator(\r\n                Function&lt;T,F&gt; getter, InputsValidator&lt;F&gt; fieldValidator) {\r\n            this.getter = getter;\r\n            this.fieldValidator = fieldValidator;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;MessageEnum&gt; validator(T input) {\r\n            return fieldValidator.validator(getter.apply(input));\r\n        }\r\n    }\r\n\r\nAnd you can combine the above for a particular class, like say:\r\n\r\n    public class Compound {\r\n        private Contact contact;\r\n        private Address address;\r\n    \r\n        public Contact getContact() {\r\n            return contact;\r\n        }\r\n    \r\n        public Address getAddress() {\r\n            return address;\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\nAs follows:\r\n\r\n    @Component\r\n    public class CompoundInputsValidator extends MultiInputsValidator&lt;Compound&gt; {\r\n        @Autowired\r\n        public CompoundInputsValidator(\r\n                AddressInputsValidator addressValidator,\r\n                ContactInputsValidator contactValidator) {\r\n            super(new PropertyValidator&lt;&gt;(Compound::getAddress,addressValidator),\r\n                    new PropertyValidator&lt;&gt;(Compound::getContact,contactValidator));\r\n        }\r\n        \r\n    }\r\n\r\nI hope this will help.\r\n\r\n","title":"How to simplify dependency injection of generic interfaces with multiple implementations in a Java application?","body":"<p>I'm not sure I understand your question fully, but here are a few ideas.</p>\n<p>You can group multiple validators on the same type with a class like this:</p>\n<pre><code>public class MultiInputsValidator&lt;T&gt; implements InputsValidator&lt;T&gt; {\n    private final InputsValidator&lt;T&gt;[] validators;\n\n    public MultiInputsValidator(InputsValidator&lt;T&gt;... validators) {\n        this.validators = validators;\n    }\n\n    @Override\n    public List&lt;MessageEnum&gt; validator(T input) {\n        List&lt;MessageEnum&gt; result = new ArrayList&lt;&gt;();\n        for (InputsValidator&lt;T&gt; tor: validators) {\n            result.addAll(tor.validator(input));\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>You can write a validator class that validates a property of an object as follows:</p>\n<pre><code>public class PropertyValidator&lt;T,F&gt; implements InputsValidator&lt;T&gt; {\n    private final Function&lt;T,F&gt; getter;\n    private final InputsValidator&lt;F&gt; fieldValidator;\n\n    public PropertyValidator(\n            Function&lt;T,F&gt; getter, InputsValidator&lt;F&gt; fieldValidator) {\n        this.getter = getter;\n        this.fieldValidator = fieldValidator;\n    }\n\n    @Override\n    public List&lt;MessageEnum&gt; validator(T input) {\n        return fieldValidator.validator(getter.apply(input));\n    }\n}\n</code></pre>\n<p>And you can combine the above for a particular class, like say:</p>\n<pre><code>public class Compound {\n    private Contact contact;\n    private Address address;\n\n    public Contact getContact() {\n        return contact;\n    }\n\n    public Address getAddress() {\n        return address;\n    }\n\n    ...\n}\n</code></pre>\n<p>As follows:</p>\n<pre><code>@Component\npublic class CompoundInputsValidator extends MultiInputsValidator&lt;Compound&gt; {\n    @Autowired\n    public CompoundInputsValidator(\n            AddressInputsValidator addressValidator,\n            ContactInputsValidator contactValidator) {\n        super(new PropertyValidator&lt;&gt;(Compound::getAddress,addressValidator),\n                new PropertyValidator&lt;&gt;(Compound::getContact,contactValidator));\n    }\n    \n}\n</code></pre>\n<p>I hope this will help.</p>\n"},{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693784171,"creation_date":1693758174,"answer_id":77033212,"question_id":77032783,"body_markdown":"Spring automatically groups all the validators inside a list in this manner:\r\n\r\n    @Autowired\r\n    List&lt;InputsValidator&gt; inputsValidators;\r\n\r\nThis, `inputValidators` list will contain all the implementation classes of `InputsValidator`","title":"How to simplify dependency injection of generic interfaces with multiple implementations in a Java application?","body":"<p>Spring automatically groups all the validators inside a list in this manner:</p>\n<pre><code>@Autowired\nList&lt;InputsValidator&gt; inputsValidators;\n</code></pre>\n<p>This, <code>inputValidators</code> list will contain all the implementation classes of <code>InputsValidator</code></p>\n"}],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77033053,"answer_count":2,"score":0,"last_activity_date":1693797505,"creation_date":1693751735,"question_id":77032783,"body_markdown":"I have an interface that looks like this:\r\n\r\n    public interface InputsValidator&lt;T&gt; {\r\n        List&lt;MessageEnum&gt; validator(T input);\r\n    }\r\n\r\nI have multiple implementations for example:\r\n\r\n    @Component\r\n    class AddressInputsValidator implements InputsValidator&lt;Address&gt; {\r\n    \r\n        @Override\r\n        public List&lt;MessageEnum&gt; validator(Address input) {\r\n            List&lt;MessageEnum&gt; messages = new ArrayList&lt;&gt;();\r\n            // Some actions\r\n            return messages;\r\n        }\r\n    }\r\n\r\nand \r\n\r\n    @Component\r\n    class ContactInputsValidator implements InputsValidator&lt;Contact&gt; {\r\n    \r\n        @Override\r\n        public List&lt;MessageEnum&gt; validator(Contact input) {\r\n            List&lt;MessageEnum&gt; messages = new ArrayList&lt;&gt;();\r\n            // Some actions\r\n            return messages;\r\n        }\r\n    }\r\n\r\nNow, in my Spring Boot service, I need to call multiple validators. Today, if I need 10 validators I need to declare all of them:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    class MyServiceApiImpl extends DelegateHelper implements UserApiDelegate {\r\n    \r\n        private final InputsValidator&lt;Address&gt; addressInputsValidator;\r\n        private final InputsValidator&lt;Contact&gt; contactInputsValidator;\r\n        ....\r\n    }\r\n\r\nIs there an elegant way or design pattern to replace all these InputsValidator declarations of each type, with only generic one? For example\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    class MyServiceApiImpl extends DelegateHelper implements UserApiDelegate {\r\n    \r\n        private final InputsValidator&lt;T&gt; inputsValidator; // Wrong solution\r\n        ....\r\n    }\r\n","title":"How to simplify dependency injection of generic interfaces with multiple implementations in a Java application?","body":"<p>I have an interface that looks like this:</p>\n<pre><code>public interface InputsValidator&lt;T&gt; {\n    List&lt;MessageEnum&gt; validator(T input);\n}\n</code></pre>\n<p>I have multiple implementations for example:</p>\n<pre><code>@Component\nclass AddressInputsValidator implements InputsValidator&lt;Address&gt; {\n\n    @Override\n    public List&lt;MessageEnum&gt; validator(Address input) {\n        List&lt;MessageEnum&gt; messages = new ArrayList&lt;&gt;();\n        // Some actions\n        return messages;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Component\nclass ContactInputsValidator implements InputsValidator&lt;Contact&gt; {\n\n    @Override\n    public List&lt;MessageEnum&gt; validator(Contact input) {\n        List&lt;MessageEnum&gt; messages = new ArrayList&lt;&gt;();\n        // Some actions\n        return messages;\n    }\n}\n</code></pre>\n<p>Now, in my Spring Boot service, I need to call multiple validators. Today, if I need 10 validators I need to declare all of them:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\nclass MyServiceApiImpl extends DelegateHelper implements UserApiDelegate {\n\n    private final InputsValidator&lt;Address&gt; addressInputsValidator;\n    private final InputsValidator&lt;Contact&gt; contactInputsValidator;\n    ....\n}\n</code></pre>\n<p>Is there an elegant way or design pattern to replace all these InputsValidator declarations of each type, with only generic one? For example</p>\n<pre><code>@Component\n@RequiredArgsConstructor\nclass MyServiceApiImpl extends DelegateHelper implements UserApiDelegate {\n\n    private final InputsValidator&lt;T&gt; inputsValidator; // Wrong solution\n    ....\n}\n</code></pre>\n"},{"tags":["java","html","pdf","itext"],"answers":[{"tags":[],"owner":{"account_id":3108540,"reputation":1945,"user_id":2630841,"accept_rate":82,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1430999100,"creation_date":1430997545,"answer_id":30099596,"question_id":30098293,"body_markdown":"There are some open source and some paid options. itext imho would bring out the best result if you can use a product under AGPL license. \r\n\r\n**If you are looking for open source / free**\r\n\r\n\r\nYet another Html to Pdf converter ==&gt; http://www.allcolor.org/YaHPConverter/\r\n\r\nwkhtmltopdf  ==&gt; http://wkhtmltopdf.org/\r\n\r\nPDF Box ==&gt; http://pdfbox.apache.org/\r\n\r\nitext ( AGPL(free) / commercial licence ) http://itextpdf.com/pricing\r\n\r\n\r\n**If you are looking for paid(and almost always easier)**\r\n\r\nhttp://docraptor.com/ \r\n\r\nhttp://pd4ml.com/\r\n\r\nhttp://pdfcrowd.com/web-html-to-pdf-java/\r\n\r\nhttp://www.aspose.com/docs/display/pdfjava/Convert+HTML+to+PDF+Format\r\n\r\nhttp://www.princexml.com/\r\n\r\nRegarding TOC\r\n=============\r\nThis answer is provided by **Bruno Lowagie creater of itext.**\r\n\r\nhttp://support.itextpdf.com/node/113\r\n\r\n\r\nThere are different ways to solve this problem.\r\n\r\n**Solution 1**: you could create a PDF with bookmarks in a first pass, without worrying about a table of contents. Then in a second pass, you take the PDF you&#39;ve generated to create a TOC based on the bookmarks and create a new PDF with the TOC, followed by the content.\r\n\r\n**Solution 2**: you could create two PDF files simultaneously, one with the actual content, one with the TOC. Once you&#39;ve created all the content, you can concatenate both files: first the TOC, then the actual content.\r\n\r\n**Solution 3**: you can keep all the entries for the TOC in memory, add these entries at the end of the document, and then reorder the pages.\r\n\r\nThese three solutions are the first that come to mind (based on examples in the book); there may be other ways to do it.\r\n\r\nThere&#39;s one major difficulty you need to take into account: what about page numbers?\r\n\r\nIf you look at a Manning book (for example &quot;iText in Action&quot;), you&#39;ll see that the TOC is numbered i, ii, iii, iv, v,... whereas the actual content is numbered 1, 2, 3, 4, 5,...\r\n\r\nIf you want to avoid this, if you want to number the pages 1, 2, 3, 4, 5, 6, 7,... from the start, a solution where you create the PDF &quot;in two passes&quot; is best, because you can wait to add the page numbers until the second pass (only then you know how many pages there are in the TOC).\r\n\r\nAlso check links\r\n\r\nhttp://itextpdf.com/sandbox/merge/MergeWithToc \r\n\r\nhttps://stackoverflow.com/questions/22108090/how-to-generate-a-table-of-contents-toc-with-itext\r\n\r\n","title":"Generate pdf file dynamically from html template and produce table of contents in java","body":"<p>There are some open source and some paid options. itext imho would bring out the best result if you can use a product under AGPL license. </p>\n\n<p><strong>If you are looking for open source / free</strong></p>\n\n<p>Yet another Html to Pdf converter ==> <a href=\"http://www.allcolor.org/YaHPConverter/\" rel=\"noreferrer\">http://www.allcolor.org/YaHPConverter/</a></p>\n\n<p>wkhtmltopdf  ==> <a href=\"http://wkhtmltopdf.org/\" rel=\"noreferrer\">http://wkhtmltopdf.org/</a></p>\n\n<p>PDF Box ==> <a href=\"http://pdfbox.apache.org/\" rel=\"noreferrer\">http://pdfbox.apache.org/</a></p>\n\n<p>itext ( AGPL(free) / commercial licence ) <a href=\"http://itextpdf.com/pricing\" rel=\"noreferrer\">http://itextpdf.com/pricing</a></p>\n\n<p><strong>If you are looking for paid(and almost always easier)</strong></p>\n\n<p><a href=\"http://docraptor.com/\" rel=\"noreferrer\">http://docraptor.com/</a> </p>\n\n<p><a href=\"http://pd4ml.com/\" rel=\"noreferrer\">http://pd4ml.com/</a></p>\n\n<p><a href=\"http://pdfcrowd.com/web-html-to-pdf-java/\" rel=\"noreferrer\">http://pdfcrowd.com/web-html-to-pdf-java/</a></p>\n\n<p><a href=\"http://www.aspose.com/docs/display/pdfjava/Convert+HTML+to+PDF+Format\" rel=\"noreferrer\">http://www.aspose.com/docs/display/pdfjava/Convert+HTML+to+PDF+Format</a></p>\n\n<p><a href=\"http://www.princexml.com/\" rel=\"noreferrer\">http://www.princexml.com/</a></p>\n\n<h1>Regarding TOC</h1>\n\n<p>This answer is provided by <strong>Bruno Lowagie creater of itext.</strong></p>\n\n<p><a href=\"http://support.itextpdf.com/node/113\" rel=\"noreferrer\">http://support.itextpdf.com/node/113</a></p>\n\n<p>There are different ways to solve this problem.</p>\n\n<p><strong>Solution 1</strong>: you could create a PDF with bookmarks in a first pass, without worrying about a table of contents. Then in a second pass, you take the PDF you've generated to create a TOC based on the bookmarks and create a new PDF with the TOC, followed by the content.</p>\n\n<p><strong>Solution 2</strong>: you could create two PDF files simultaneously, one with the actual content, one with the TOC. Once you've created all the content, you can concatenate both files: first the TOC, then the actual content.</p>\n\n<p><strong>Solution 3</strong>: you can keep all the entries for the TOC in memory, add these entries at the end of the document, and then reorder the pages.</p>\n\n<p>These three solutions are the first that come to mind (based on examples in the book); there may be other ways to do it.</p>\n\n<p>There's one major difficulty you need to take into account: what about page numbers?</p>\n\n<p>If you look at a Manning book (for example \"iText in Action\"), you'll see that the TOC is numbered i, ii, iii, iv, v,... whereas the actual content is numbered 1, 2, 3, 4, 5,...</p>\n\n<p>If you want to avoid this, if you want to number the pages 1, 2, 3, 4, 5, 6, 7,... from the start, a solution where you create the PDF \"in two passes\" is best, because you can wait to add the page numbers until the second pass (only then you know how many pages there are in the TOC).</p>\n\n<p>Also check links</p>\n\n<p><a href=\"http://itextpdf.com/sandbox/merge/MergeWithToc\" rel=\"noreferrer\">http://itextpdf.com/sandbox/merge/MergeWithToc</a> </p>\n\n<p><a href=\"https://stackoverflow.com/questions/22108090/how-to-generate-a-table-of-contents-toc-with-itext\">How to generate a Table of Contents &quot;TOC&quot; with iText?</a></p>\n"}],"owner":{"account_id":4054403,"reputation":378,"user_id":3332886,"accept_rate":88,"display_name":"SivaTeja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20487,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"closed_date":1693831827,"accepted_answer_id":30099596,"answer_count":1,"score":7,"last_activity_date":1693797387,"creation_date":1430994229,"question_id":30098293,"body_markdown":"We have an editor which is used to design templates for catalogs. it is basically for designing purpose. First, we design a template in the editor and bind our data in that template format. We  then get the template in HTML format from front end. From that template, I need to bind the data and generate pdf file with table of contents (index).\r\n\r\nMany suggested to use `itext` library. But my requirement is not to convert html page to pdf. I have to dump all my products data according to the html template which is dynamically generated by user.\r\n\r\nCan any one suggest how to implement it?","title":"Generate pdf file dynamically from html template and produce table of contents in java","body":"<p>We have an editor which is used to design templates for catalogs. it is basically for designing purpose. First, we design a template in the editor and bind our data in that template format. We  then get the template in HTML format from front end. From that template, I need to bind the data and generate pdf file with table of contents (index).</p>\n\n<p>Many suggested to use <code>itext</code> library. But my requirement is not to convert html page to pdf. I have to dump all my products data according to the html template which is dynamically generated by user.</p>\n\n<p>Can any one suggest how to implement it?</p>\n"},{"tags":["java","xslt","glassfish","payara"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1693603686,"post_id":77026045,"comment_id":135787737,"body_markdown":"You need to explain what you are using to process the resource. What bit of software is handling the `&lt;xsl:include`? Please edit your question to include the full stack trace of the exception.","body":"You need to explain what you are using to process the resource. What bit of software is handling the <code>&lt;xsl:include</code>? Please edit your question to include the full stack trace of the exception."}],"answers":[{"tags":[],"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1693606697,"creation_date":1693605694,"answer_id":77026171,"question_id":77026045,"body_markdown":"The context in which the `XSLT file` is loaded can sometimes be hard to understand, so it is important that you know how those paths are resolved based on the file context.\r\n\r\nThe `XSLT file` is located in the resource directory, so using a relative path to reference the `i18n.inc.xslt` file which is located inside the `dir subdirectory`. So the solution is to provide a path which is relative to the location of the `XSLT file`.\r\nAssuming your directory structure looks like this:\r\n```css\r\nsrc\r\n└── main\r\n    └── resources\r\n        ├── example.xsl\r\n        └── dir\r\n            └── i18n.inc.xslt\r\n```\r\n\r\nRefer to `it8n.inc.xslt` in the `example.xsl` file by using the relative path. \r\nDo it like this:\r\n```xml\r\n&lt;xsl:include href=&quot;dir/i18n.inc.xslt&quot;/&gt;\r\n```\r\n\r\nOf course the `Deployment Configuration` could also be messed up. If there is an issue in configuration or classpath, make sure that the applications classpath and resource loading configuration is set up correctly.\r\n\r\nMind that it is crucial to use correct relative paths within the context of the resources location when referencing resources within `XSLT` files or other resources that were loaded from classpath. Otherwise it won&#39;t function correctly.\r\n\r\n**Update:**\r\n\r\nUsing a `Different Path Resolution Method` could fix this issue. Lets don&#39;t rely on relative paths solely, lets try to use the absolute path which points to the resource within the classpath. Obtain the absolute path with code and use it afterwards inside the `XSLT File`:\r\n```java\r\nString includePath = class.getClassLoader().getResource(&quot;dir/i18n.inc.xslt&quot;).toExternalForm();\r\n// Pass includePath to the XSLT as a parameter or substitute it in the XSLT file.\r\n```\r\n\r\nAnd in the `XSLT File:`\r\n```xml\r\n&lt;xsl:include href=&quot;{includePath}&quot;/&gt;\r\n```\r\n\r\n**System ClassLoader Approach:**\r\nDifferent class loaders or deployment environments can lead to unexpected behaviour in resource loading. Using the `System Class Loader` to load the resource could help:\r\n```java\r\nInputStream inputStream = ClassLoader.getSystemResourceAsStream(&quot;dir/i18n.inc.xslt&quot;);\r\n// If this idea works differently from the original one you were using\r\n// this could be a workaround for your situation.\r\n```","title":"Relative path for a file accesed from Java resource directory file","body":"<p>The context in which the <code>XSLT file</code> is loaded can sometimes be hard to understand, so it is important that you know how those paths are resolved based on the file context.</p>\n<p>The <code>XSLT file</code> is located in the resource directory, so using a relative path to reference the <code>i18n.inc.xslt</code> file which is located inside the <code>dir subdirectory</code>. So the solution is to provide a path which is relative to the location of the <code>XSLT file</code>.\nAssuming your directory structure looks like this:</p>\n<pre class=\"lang-css prettyprint-override\"><code>src\n└── main\n    └── resources\n        ├── example.xsl\n        └── dir\n            └── i18n.inc.xslt\n</code></pre>\n<p>Refer to <code>it8n.inc.xslt</code> in the <code>example.xsl</code> file by using the relative path.\nDo it like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:include href=&quot;dir/i18n.inc.xslt&quot;/&gt;\n</code></pre>\n<p>Of course the <code>Deployment Configuration</code> could also be messed up. If there is an issue in configuration or classpath, make sure that the applications classpath and resource loading configuration is set up correctly.</p>\n<p>Mind that it is crucial to use correct relative paths within the context of the resources location when referencing resources within <code>XSLT</code> files or other resources that were loaded from classpath. Otherwise it won't function correctly.</p>\n<p><strong>Update:</strong></p>\n<p>Using a <code>Different Path Resolution Method</code> could fix this issue. Lets don't rely on relative paths solely, lets try to use the absolute path which points to the resource within the classpath. Obtain the absolute path with code and use it afterwards inside the <code>XSLT File</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String includePath = class.getClassLoader().getResource(&quot;dir/i18n.inc.xslt&quot;).toExternalForm();\n// Pass includePath to the XSLT as a parameter or substitute it in the XSLT file.\n</code></pre>\n<p>And in the <code>XSLT File:</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:include href=&quot;{includePath}&quot;/&gt;\n</code></pre>\n<p><strong>System ClassLoader Approach:</strong>\nDifferent class loaders or deployment environments can lead to unexpected behaviour in resource loading. Using the <code>System Class Loader</code> to load the resource could help:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream inputStream = ClassLoader.getSystemResourceAsStream(&quot;dir/i18n.inc.xslt&quot;);\n// If this idea works differently from the original one you were using\n// this could be a workaround for your situation.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29348027,"reputation":11,"user_id":22485873,"display_name":"liubitel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693631086,"creation_date":1693631086,"answer_id":77027039,"question_id":77026045,"body_markdown":"At the end the problem was resolved by setting systemId in Source for Transformer.\r\n```\r\nString sysId = this.class.getClassLoader().getResource(&quot;example.xsl&quot;).toURI().toString();\r\nInputStream  styleSheetInput = this.class.getClassLoader().getResourceAsStream(&quot;example.xsl&quot;);\r\n...\r\nSource mySrc = new StreamSource(styleSheetInput);\r\nmySrc.setSystemId(sysId);\r\nTransformer transformer = factory.newTransformer(mySrc);\r\n```\r\nI also renamed `i18n.inc.xslt` into `i18n.inc.xsl` otherwise it would not get into `WEB-INF/classes` for some reason. ","title":"Relative path for a file accesed from Java resource directory file","body":"<p>At the end the problem was resolved by setting systemId in Source for Transformer.</p>\n<pre><code>String sysId = this.class.getClassLoader().getResource(&quot;example.xsl&quot;).toURI().toString();\nInputStream  styleSheetInput = this.class.getClassLoader().getResourceAsStream(&quot;example.xsl&quot;);\n...\nSource mySrc = new StreamSource(styleSheetInput);\nmySrc.setSystemId(sysId);\nTransformer transformer = factory.newTransformer(mySrc);\n</code></pre>\n<p>I also renamed <code>i18n.inc.xslt</code> into <code>i18n.inc.xsl</code> otherwise it would not get into <code>WEB-INF/classes</code> for some reason.</p>\n"}],"owner":{"account_id":29348027,"reputation":11,"user_id":22485873,"display_name":"liubitel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693797237,"creation_date":1693603221,"question_id":77026045,"body_markdown":"I have an `example.xsl File` in Java resource directory that is accessed in Java through:\r\n\r\n```java\r\nclass.getClassLoader().getResourceAsStream(&quot;example.xsl&quot;);\r\n```\r\nBut the `example.xsl File` itself has a reference:\r\n\r\n```xml\r\n&lt;xsl:include href=&quot;dir/i18n.inc.xslt&quot;/&gt;\r\n```\r\n\r\nI want to put the `dir directory` with `i18n.inc.xslt` inside the resource directory, however it seems like that when I deploy the code, the program is looking for `dir/i18n.inc.xslt` inside `glassfish/domains/domain1/config`.\r\n\r\nHow should I refer to `dir/i18n.inc.xslt` in `href` so that it will look inside resources?\r\n\r\n**Edit:**\r\nI use `Java 17` and `Payara 6`. XSLT is used to convert XML into PDF. I am using `Apache FOP` for this purpose.\r\n```java\r\nInputStream  styleSheetInput = MyClass.class.getClassLoader().getResourceAsStream(&quot;example.xsl&quot;);\r\n\r\n            final FopFactory fopFactory = FopFactory.newInstance(new File(&quot;.&quot;).toURI());\r\n            FOUserAgent foUserAgent = fopFactory.newFOUserAgent();\r\n\r\n            try {\r\n                Fop fop = fopFactory.newFop(MimeConstants.MIME_PDF, foUserAgent, outputStream);\r\n                // Setup XSLT\r\n                TransformerFactory factory = TransformerFactory.newInstance();\r\n                Transformer transformer = factory.newTransformer(new StreamSource(styleSheetInput));\r\n\r\n                // Set the value of a &lt;param&gt; in the stylesheet\r\n                transformer.setParameter(&quot;versionParam&quot;, &quot;2.0&quot;);\r\n\r\n                // Setup input for XSLT transformation\r\n                Source src = new StreamSource(datafile);\r\n\r\n                // Resulting SAX events (the generated FO) must be piped through to FOP\r\n                Result res = new SAXResult(fop.getDefaultHandler());\r\n\r\n                // Start XSLT transformation and FOP processing\r\n                transformer.transform(src, res);\r\n           }\r\n``` \r\n**The Exception I get:**\r\n```\r\n [tid: _ThreadID=279 _ThreadName=__ejb-thread-pool11] [timeMillis: 1693598088423] [levelVal\r\n  /usr/local/payara6/glassfish/domains/domain1/config/dir/i18n.inc.xslt (No such file or directory)]]\r\n```\r\nSo it seems it is looking inside config directory as a base directory. But I do not to put the `XSLT File` there. I put it in the same place as `example.xsl` in resources.","title":"Relative path for a file accesed from Java resource directory file","body":"<p>I have an <code>example.xsl File</code> in Java resource directory that is accessed in Java through:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class.getClassLoader().getResourceAsStream(&quot;example.xsl&quot;);\n</code></pre>\n<p>But the <code>example.xsl File</code> itself has a reference:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:include href=&quot;dir/i18n.inc.xslt&quot;/&gt;\n</code></pre>\n<p>I want to put the <code>dir directory</code> with <code>i18n.inc.xslt</code> inside the resource directory, however it seems like that when I deploy the code, the program is looking for <code>dir/i18n.inc.xslt</code> inside <code>glassfish/domains/domain1/config</code>.</p>\n<p>How should I refer to <code>dir/i18n.inc.xslt</code> in <code>href</code> so that it will look inside resources?</p>\n<p><strong>Edit:</strong>\nI use <code>Java 17</code> and <code>Payara 6</code>. XSLT is used to convert XML into PDF. I am using <code>Apache FOP</code> for this purpose.</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream  styleSheetInput = MyClass.class.getClassLoader().getResourceAsStream(&quot;example.xsl&quot;);\n\n            final FopFactory fopFactory = FopFactory.newInstance(new File(&quot;.&quot;).toURI());\n            FOUserAgent foUserAgent = fopFactory.newFOUserAgent();\n\n            try {\n                Fop fop = fopFactory.newFop(MimeConstants.MIME_PDF, foUserAgent, outputStream);\n                // Setup XSLT\n                TransformerFactory factory = TransformerFactory.newInstance();\n                Transformer transformer = factory.newTransformer(new StreamSource(styleSheetInput));\n\n                // Set the value of a &lt;param&gt; in the stylesheet\n                transformer.setParameter(&quot;versionParam&quot;, &quot;2.0&quot;);\n\n                // Setup input for XSLT transformation\n                Source src = new StreamSource(datafile);\n\n                // Resulting SAX events (the generated FO) must be piped through to FOP\n                Result res = new SAXResult(fop.getDefaultHandler());\n\n                // Start XSLT transformation and FOP processing\n                transformer.transform(src, res);\n           }\n</code></pre>\n<p><strong>The Exception I get:</strong></p>\n<pre><code> [tid: _ThreadID=279 _ThreadName=__ejb-thread-pool11] [timeMillis: 1693598088423] [levelVal\n  /usr/local/payara6/glassfish/domains/domain1/config/dir/i18n.inc.xslt (No such file or directory)]]\n</code></pre>\n<p>So it seems it is looking inside config directory as a base directory. But I do not to put the <code>XSLT File</code> there. I put it in the same place as <code>example.xsl</code> in resources.</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":4889037,"reputation":587,"user_id":3940670,"display_name":"M.Hossein Rahimi"},"score":0,"creation_date":1575375536,"post_id":4000169,"comment_id":104538036,"body_markdown":"I found the following reference quite comprehensive, https://www.programiz.com/java-programming/multidimensional-array","body":"I found the following reference quite comprehensive, <a href=\"https://www.programiz.com/java-programming/multidimensional-array\" rel=\"nofollow noreferrer\">programiz.com/java-programming/multidimensional-array</a>"}],"answers":[{"tags":[],"owner":{"account_id":97250,"reputation":22660,"user_id":263895,"accept_rate":100,"display_name":"NG."},"down_vote_count":0,"up_vote_count":232,"is_accepted":true,"score":232,"last_activity_date":1287775266,"creation_date":1287775266,"answer_id":4000217,"question_id":4000169,"body_markdown":"Consider\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint[][] foo = new int[][] {\r\n\t\t\tnew int[] { 1, 2, 3 },\r\n\t\t\tnew int[] { 1, 2, 3, 4},\r\n\t\t};\r\n\t\t\r\n\t\tSystem.out.println(foo.length); //2\r\n\t\tSystem.out.println(foo[0].length); //3\r\n\t\tSystem.out.println(foo[1].length); //4\r\n\t}\r\n\t\r\n\r\nColumn lengths differ per row.  If you&#39;re backing some data by a fixed size 2D array, then provide getters to the fixed values in a wrapper class.","title":"Getting the array length of a 2D array in Java","body":"<p>Consider</p>\n\n<pre><code>public static void main(String[] args) {\n\n    int[][] foo = new int[][] {\n        new int[] { 1, 2, 3 },\n        new int[] { 1, 2, 3, 4},\n    };\n\n    System.out.println(foo.length); //2\n    System.out.println(foo[0].length); //3\n    System.out.println(foo[1].length); //4\n}\n</code></pre>\n\n<p>Column lengths differ per row.  If you're backing some data by a fixed size 2D array, then provide getters to the fixed values in a wrapper class.</p>\n"},{"tags":[],"owner":{"account_id":83469,"reputation":9224,"user_id":234009,"display_name":"robert_x44"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1287775275,"creation_date":1287775275,"answer_id":4000220,"question_id":4000169,"body_markdown":"Java allows you to create &quot;ragged arrays&quot; where each &quot;row&quot; has different lengths.  If you know you have a square array, you can use your code modified to protect against an empty array like this:  \r\n\r\n    if (row &gt; 0) col = test[0].length;","title":"Getting the array length of a 2D array in Java","body":"<p>Java allows you to create \"ragged arrays\" where each \"row\" has different lengths.  If you know you have a square array, you can use your code modified to protect against an empty array like this:  </p>\n\n<pre><code>if (row &gt; 0) col = test[0].length;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":42361,"reputation":17687,"user_id":123378,"accept_rate":100,"display_name":"kaliatech"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1287775416,"creation_date":1287775416,"answer_id":4000245,"question_id":4000169,"body_markdown":"There&#39;s not a cleaner way at the language level because not all multidimensional arrays are rectangular. Sometimes jagged (differing column lengths) arrays are necessary.\r\n\r\nYou could easy create your own class to abstract the functionality you need.\r\n\r\nIf you aren&#39;t limited to arrays, then perhaps some of the various collection classes would work as well, like a [Multimap][1].\r\n\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/Multimap.html","title":"Getting the array length of a 2D array in Java","body":"<p>There's not a cleaner way at the language level because not all multidimensional arrays are rectangular. Sometimes jagged (differing column lengths) arrays are necessary.</p>\n\n<p>You could easy create your own class to abstract the functionality you need.</p>\n\n<p>If you aren't limited to arrays, then perhaps some of the various collection classes would work as well, like a <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/Multimap.html\" rel=\"nofollow\">Multimap</a>.</p>\n"},{"tags":[],"owner":{"account_id":134312,"reputation":11572,"user_id":336355,"display_name":"Ishtar"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1287776102,"creation_date":1287776102,"answer_id":4000324,"question_id":4000169,"body_markdown":"A 2D array is not a rectangular grid. Or maybe better, there is no such thing as a 2D array in Java. \r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Main {\r\n      public static void main(String args[]) {\r\n    \r\n        int[][] test; \r\n        test = new int[5][];//&#39;2D array&#39;\r\n        for (int i=0;i&lt;test.length;i++)\r\n          test[i] = new int[i];\r\n        \r\n        System.out.println(Arrays.deepToString(test));\r\n    \r\n        Object[] test2; \r\n        test2 = new Object[5];//array of objects\r\n        for (int i=0;i&lt;test2.length;i++)\r\n          test2[i] = new int[i];//array is a object too\r\n        \r\n        System.out.println(Arrays.deepToString(test2));\r\n      }\r\n    }\r\n\r\nOutputs\r\n\r\n    [[], [0], [0, 0], [0, 0, 0], [0, 0, 0, 0]]\r\n    [[], [0], [0, 0], [0, 0, 0], [0, 0, 0, 0]]\r\n\r\nThe arrays `test` and `test2` are (more or less) the same.","title":"Getting the array length of a 2D array in Java","body":"<p>A 2D array is not a rectangular grid. Or maybe better, there is no such thing as a 2D array in Java. </p>\n\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n  public static void main(String args[]) {\n\n    int[][] test; \n    test = new int[5][];//'2D array'\n    for (int i=0;i&lt;test.length;i++)\n      test[i] = new int[i];\n\n    System.out.println(Arrays.deepToString(test));\n\n    Object[] test2; \n    test2 = new Object[5];//array of objects\n    for (int i=0;i&lt;test2.length;i++)\n      test2[i] = new int[i];//array is a object too\n\n    System.out.println(Arrays.deepToString(test2));\n  }\n}\n</code></pre>\n\n<p>Outputs</p>\n\n<pre><code>[[], [0], [0, 0], [0, 0, 0], [0, 0, 0, 0]]\n[[], [0], [0, 0], [0, 0, 0], [0, 0, 0, 0]]\n</code></pre>\n\n<p>The arrays <code>test</code> and <code>test2</code> are (more or less) the same.</p>\n"},{"tags":[],"owner":{"account_id":10009525,"reputation":9,"user_id":7402735,"display_name":"Pampanagouda Karmanchi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1484117510,"creation_date":1484112035,"answer_id":41583231,"question_id":4000169,"body_markdown":"Try this following program for 2d array in java:\r\n\r\n    public class ArrayTwo2 {\r\n    \tpublic static void main(String[] args) throws  IOException,NumberFormatException{\r\n    \t\tBufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n    \t\tint[][] a;\r\n    \t\tint sum=0;\r\n    \t\ta=new int[3][2];\r\n    \t\tSystem.out.println(&quot;Enter array with 5 elements&quot;);\r\n    \t\tfor(int i=0;i&lt;a.length;i++)\r\n    \t\t{\r\n    \t\t\tfor(int j=0;j&lt;a[0].length;j++)\r\n    \t\t\t{\r\n    \t\t\ta[i][j]=Integer.parseInt(br.readLine());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfor(int i=0;i&lt;a.length;i++)\r\n    \t\t{\r\n    \t\t\tfor(int j=0;j&lt;a[0].length;j++)\r\n    \t\t\t{\r\n    \t\t\tSystem.out.print(a[i][j]+&quot;  &quot;);\r\n    \t\t\tsum=sum+a[i][j];\r\n    \t\t\t}\r\n    \t\tSystem.out.println();\t\r\n    \t\t//System.out.println(&quot;Array Sum: &quot;+sum);\r\n    \t\tsum=0;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Getting the array length of a 2D array in Java","body":"<p>Try this following program for 2d array in java:</p>\n\n<pre><code>public class ArrayTwo2 {\n    public static void main(String[] args) throws  IOException,NumberFormatException{\n        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n        int[][] a;\n        int sum=0;\n        a=new int[3][2];\n        System.out.println(\"Enter array with 5 elements\");\n        for(int i=0;i&lt;a.length;i++)\n        {\n            for(int j=0;j&lt;a[0].length;j++)\n            {\n            a[i][j]=Integer.parseInt(br.readLine());\n            }\n        }\n        for(int i=0;i&lt;a.length;i++)\n        {\n            for(int j=0;j&lt;a[0].length;j++)\n            {\n            System.out.print(a[i][j]+\"  \");\n            sum=sum+a[i][j];\n            }\n        System.out.println();   \n        //System.out.println(\"Array Sum: \"+sum);\n        sum=0;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10729266,"reputation":1,"user_id":7895865,"display_name":"peter"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1492693246,"creation_date":1492693246,"answer_id":43520317,"question_id":4000169,"body_markdown":"    public class Array_2D {\r\n    int arr[][];\r\n    public Array_2D() {\r\n        Random r=new Random(10);\r\n         arr = new int[5][10];\r\n         for(int i=0;i&lt;5;i++)\r\n         {\r\n             for(int j=0;j&lt;10;j++)\r\n             {\r\n                 arr[i][j]=(int)r.nextInt(10);\r\n             }\r\n         }\r\n     }\r\n      public void display()\r\n      {\r\n             for(int i=0;i&lt;5;i++)\r\n\r\n             {\r\n                 for(int j=0;j&lt;10;j++)\r\n                 {\r\n                     System.out.print(arr[i][j]+&quot; &quot;); \r\n                 }\r\n                 System.out.println(&quot;&quot;);\r\n             }\r\n       }\r\n         public static void main(String[] args) {\r\n         Array_2D s=new Array_2D();\r\n         s.display();\r\n       }  \r\n      }\r\n","title":"Getting the array length of a 2D array in Java","body":"<pre><code>public class Array_2D {\nint arr[][];\npublic Array_2D() {\n    Random r=new Random(10);\n     arr = new int[5][10];\n     for(int i=0;i&lt;5;i++)\n     {\n         for(int j=0;j&lt;10;j++)\n         {\n             arr[i][j]=(int)r.nextInt(10);\n         }\n     }\n }\n  public void display()\n  {\n         for(int i=0;i&lt;5;i++)\n\n         {\n             for(int j=0;j&lt;10;j++)\n             {\n                 System.out.print(arr[i][j]+\" \"); \n             }\n             System.out.println(\"\");\n         }\n   }\n     public static void main(String[] args) {\n     Array_2D s=new Array_2D();\n     s.display();\n   }  \n  }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user8491933"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1507043732,"creation_date":1507043732,"answer_id":46547969,"question_id":4000169,"body_markdown":"**If you have this array:**\r\n=\r\n\r\n    String [][] example = {{{&quot;Please!&quot;, &quot;Thanks&quot;}, {&quot;Hello!&quot;, &quot;Hey&quot;, &quot;Hi!&quot;}},\r\n                           {{&quot;Why?&quot;, &quot;Where?&quot;, &quot;When?&quot;, &quot;Who?&quot;}, {&quot;Yes!&quot;}}};\r\n\r\n**You can do this:**\r\n=\r\n\r\n    example.length;\r\n\r\n= 2\r\n\r\n    example[0].length;\r\n\r\n= 2\r\n\r\n    example[1].length;\r\n\r\n= 2\r\n\r\n    example[0][1].length;\r\n\r\n= 3\r\n\r\n    example[1][0].length;\r\n\r\n= 4","title":"Getting the array length of a 2D array in Java","body":"<h1><strong>If you have this array:</strong></h1>\n\n<pre><code>String [][] example = {{{\"Please!\", \"Thanks\"}, {\"Hello!\", \"Hey\", \"Hi!\"}},\n                       {{\"Why?\", \"Where?\", \"When?\", \"Who?\"}, {\"Yes!\"}}};\n</code></pre>\n\n<h1><strong>You can do this:</strong></h1>\n\n<pre><code>example.length;\n</code></pre>\n\n<p>= 2</p>\n\n<pre><code>example[0].length;\n</code></pre>\n\n<p>= 2</p>\n\n<pre><code>example[1].length;\n</code></pre>\n\n<p>= 2</p>\n\n<pre><code>example[0][1].length;\n</code></pre>\n\n<p>= 3</p>\n\n<pre><code>example[1][0].length;\n</code></pre>\n\n<p>= 4</p>\n"},{"tags":[],"owner":{"account_id":14728695,"reputation":11,"user_id":10636740,"display_name":"RobynVG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541956669,"creation_date":1541955245,"answer_id":53251017,"question_id":4000169,"body_markdown":"    import java.util.Arrays;\r\n\r\n    public class Main {\r\n\r\n\t\tpublic static void main(String[] args) \r\n\t\t{\r\n\t\t\r\n\t\t\tdouble[][] test = { {100}, {200}, {300}, {400}, {500}, {600}, {700}, {800}, {900}, {1000}};\r\n              \r\n\t\t\tint [][] removeRow = { {0}, {1}, {3}, {4}, };\r\n\t\r\n\t\t\tdouble[][] newTest = new double[test.length - removeRow.length][test[0].length];\r\n\t\t\r\n\t\t\tfor (int i = 0, j = 0, k = 0; i &lt; test.length; i++) {\r\n\t\t\t\tif (j &lt; removeRow.length) {\r\n\t\t\t\t\tif (i == removeRow[j][0]) {\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tnewTest[k][0] = test[i][0];\r\n\t\t\t\tk++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(Arrays.deepToString(newTest));\t\r\n\t\t}\r\n\t}\r\n","title":"Getting the array length of a 2D array in Java","body":"<pre><code>import java.util.Arrays;\n\npublic class Main {\n\n    public static void main(String[] args) \n    {\n\n        double[][] test = { {100}, {200}, {300}, {400}, {500}, {600}, {700}, {800}, {900}, {1000}};\n\n        int [][] removeRow = { {0}, {1}, {3}, {4}, };\n\n        double[][] newTest = new double[test.length - removeRow.length][test[0].length];\n\n        for (int i = 0, j = 0, k = 0; i &lt; test.length; i++) {\n            if (j &lt; removeRow.length) {\n                if (i == removeRow[j][0]) {\n                    j++;\n                    continue;\n                }\n            }\n            newTest[k][0] = test[i][0];\n            k++;\n        }\n\n        System.out.println(Arrays.deepToString(newTest));   \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12053308,"reputation":365,"user_id":8815371,"display_name":"gocode"},"down_vote_count":5,"up_vote_count":26,"is_accepted":false,"score":21,"last_activity_date":1693797122,"creation_date":1548259218,"answer_id":54331158,"question_id":4000169,"body_markdown":"It was really hard to remember that \r\n\r\n        int numberOfColumns = arr.length;\r\n\t\tint numberOfRows = arr[0].length;\r\n\r\nLet&#39;s understand why this is so and how we can figure this out when we&#39;re given an array problem. From the below code we can see that rows = 4 and columns = 3:\r\n\r\n        int[][] arr = { {1, 1, 1, 1}, \r\n\t\t\t\t\r\n\t\t\t\t\t\t{2, 2, 2, 2}, \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{3, 3, 3, 3} };\r\n\r\n`arr` has multiple arrays in it, and these arrays can be arranged in a vertical manner to get the number of rows. To get the number of columns, we need to access the first array and consider its length. In this case, we access [1, 1, 1, 1] and thus, the number of columns = 4. When you&#39;re given a problem where you can&#39;t see the array, you can visualize the array as a rectangle with n X m dimensions and conclude that we can get the number of columns by accessing the first array then its length. The other one (`arr.length`) is for the rows.\r\n\r\n(Rows and columns corrected as per Evan&#39;s comment). \r\n","title":"Getting the array length of a 2D array in Java","body":"<p>It was really hard to remember that</p>\n<pre><code>    int numberOfColumns = arr.length;\n    int numberOfRows = arr[0].length;\n</code></pre>\n<p>Let's understand why this is so and how we can figure this out when we're given an array problem. From the below code we can see that rows = 4 and columns = 3:</p>\n<pre><code>    int[][] arr = { {1, 1, 1, 1}, \n            \n                    {2, 2, 2, 2}, \n                    \n                    {3, 3, 3, 3} };\n</code></pre>\n<p><code>arr</code> has multiple arrays in it, and these arrays can be arranged in a vertical manner to get the number of rows. To get the number of columns, we need to access the first array and consider its length. In this case, we access [1, 1, 1, 1] and thus, the number of columns = 4. When you're given a problem where you can't see the array, you can visualize the array as a rectangle with n X m dimensions and conclude that we can get the number of columns by accessing the first array then its length. The other one (<code>arr.length</code>) is for the rows.</p>\n<p>(Rows and columns corrected as per Evan's comment).</p>\n"},{"tags":[],"owner":{"account_id":15951624,"reputation":21,"user_id":11510842,"display_name":"asdfgghjkll"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558019924,"creation_date":1558019924,"answer_id":56171830,"question_id":4000169,"body_markdown":".length = number of rows / column length \r\n\r\n[0].length = number of columns / row length ","title":"Getting the array length of a 2D array in Java","body":"<p>.length = number of rows / column length </p>\n\n<p>[0].length = number of columns / row length </p>\n"},{"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588950406,"creation_date":1588950406,"answer_id":61682162,"question_id":4000169,"body_markdown":"With `Java 8`, allow you doing something more elegant like this:\r\n\r\n    int[][] foo = new int[][] {\r\n            new int[] { 1, 2, 3 },\r\n            new int[] { 1, 2, 3, 4},\r\n        };\r\n\r\n    int length = Arrays.stream(array).max(Comparator.comparingInt(ArrayUtils::getLength)).get().length","title":"Getting the array length of a 2D array in Java","body":"<p>With <code>Java 8</code>, allow you doing something more elegant like this:</p>\n\n<pre><code>int[][] foo = new int[][] {\n        new int[] { 1, 2, 3 },\n        new int[] { 1, 2, 3, 4},\n    };\n\nint length = Arrays.stream(array).max(Comparator.comparingInt(ArrayUtils::getLength)).get().length\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11306958,"reputation":61,"user_id":8291270,"display_name":"Ankush kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642494180,"creation_date":1623050211,"answer_id":67867426,"question_id":4000169,"body_markdown":"Example Array 1:\r\n\r\n\r\n    int arr[][] = { { 1, 3, 1, 5 },\r\n                     { 2, 2, 4, 1 },\r\n                     { 5, 0, 2, 3 },\r\n                     { 0, 6, 1, 2 } };\r\n    \r\nExample Array 2:\r\n\r\n    int arr[][] = { { 1, 3, 1 },\r\n                     { 2, 2, 4 },\r\n                     { 5, 0, 2 },\r\n                     { 0, 6, 1 } };\r\n    \r\nBelow function will work for any Symmetric and Asymmetric Array Matrix \r\n\r\n``` java \r\n\r\n row_Count = arr.length\r\n column_Count = arr[0].length\r\n\r\n```","title":"Getting the array length of a 2D array in Java","body":"<p>Example Array 1:</p>\n<pre><code>int arr[][] = { { 1, 3, 1, 5 },\n                 { 2, 2, 4, 1 },\n                 { 5, 0, 2, 3 },\n                 { 0, 6, 1, 2 } };\n</code></pre>\n<p>Example Array 2:</p>\n<pre><code>int arr[][] = { { 1, 3, 1 },\n                 { 2, 2, 4 },\n                 { 5, 0, 2 },\n                 { 0, 6, 1 } };\n</code></pre>\n<p>Below function will work for any Symmetric and Asymmetric Array Matrix</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n row_Count = arr.length\n column_Count = arr[0].length\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26848750,"reputation":1,"user_id":20434070,"display_name":"Souhardya Gayen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668112811,"creation_date":1667757949,"answer_id":74338449,"question_id":4000169,"body_markdown":"```\r\nint rows=arr.length; //For knowing No of rows\r\n\r\nint cols=arr[0].length; //For Knowing No of columns\r\n```\r\n\r\nRun This code... and Understand...\r\n\r\n```\r\npublic class Store2darrays {   \r\n\r\n    public static void main(String args[]) {\r\n      int[]arr={1,2,3,4};\r\n      System.out.println(arr.length);\r\n      int[][] arr2d={{1,2,3,4},{5,6,7,8},{9,10,11,12}};\r\n      System.out.println(arr2d.length);\r\n      System.out.println(arr2d);\r\n      System.out.println(arr2d[0]);\r\n      System.out.println(arr2d[1]);\r\n      System.out.println(arr2d.length);\r\n      System.out.println(arr2d[0].length); }\r\n}\r\n```","title":"Getting the array length of a 2D array in Java","body":"<pre><code>int rows=arr.length; //For knowing No of rows\n\nint cols=arr[0].length; //For Knowing No of columns\n</code></pre>\n<p>Run This code... and Understand...</p>\n<pre><code>public class Store2darrays {   \n\n    public static void main(String args[]) {\n      int[]arr={1,2,3,4};\n      System.out.println(arr.length);\n      int[][] arr2d={{1,2,3,4},{5,6,7,8},{9,10,11,12}};\n      System.out.println(arr2d.length);\n      System.out.println(arr2d);\n      System.out.println(arr2d[0]);\n      System.out.println(arr2d[1]);\n      System.out.println(arr2d.length);\n      System.out.println(arr2d[0].length); }\n}\n</code></pre>\n"}],"owner":{"account_id":191565,"reputation":20067,"user_id":432209,"accept_rate":84,"display_name":"user432209"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":762734,"favorite_count":0,"down_vote_count":0,"up_vote_count":171,"accepted_answer_id":4000217,"answer_count":13,"score":171,"last_activity_date":1693797122,"creation_date":1287774910,"question_id":4000169,"body_markdown":"I need to get the length of a 2D array for both the row and column.  I’ve successfully done this, using the following code:\r\n\r\n    public class MyClass {\r\n    \r\n     public static void main(String args[])\r\n        {\r\n      int[][] test; \r\n      test = new int[5][10];\r\n      \r\n      int row = test.length;\r\n      int col = test[0].length;\r\n      \r\n      System.out.println(row);\r\n      System.out.println(col);\r\n        }\r\n    }\r\n\r\nThis prints out 5, 10 as expected.\r\n\r\nNow take a look at this line:\r\n\r\n      int col = test[0].length;\r\n\r\nNotice that I actually have to reference a particular row, in order to get the column length.  To me, this seems incredibly ugly.  Additionally, if the array was defined as:\r\n\r\n    test = new int[0][10];\r\n\r\nThen the code would fail when trying to get the length.  Is there a different (more intelligent) way to do this?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Getting the array length of a 2D array in Java","body":"<p>I need to get the length of a 2D array for both the row and column.  I’ve successfully done this, using the following code:</p>\n\n<pre><code>public class MyClass {\n\n public static void main(String args[])\n    {\n  int[][] test; \n  test = new int[5][10];\n\n  int row = test.length;\n  int col = test[0].length;\n\n  System.out.println(row);\n  System.out.println(col);\n    }\n}\n</code></pre>\n\n<p>This prints out 5, 10 as expected.</p>\n\n<p>Now take a look at this line:</p>\n\n<pre><code>  int col = test[0].length;\n</code></pre>\n\n<p>Notice that I actually have to reference a particular row, in order to get the column length.  To me, this seems incredibly ugly.  Additionally, if the array was defined as:</p>\n\n<pre><code>test = new int[0][10];\n</code></pre>\n\n<p>Then the code would fail when trying to get the length.  Is there a different (more intelligent) way to do this?</p>\n"},{"tags":["java","hibernate","criteria"],"answers":[{"tags":[],"owner":{"account_id":1752981,"reputation":883,"user_id":1601662,"accept_rate":89,"display_name":"Ziul"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1368713102,"creation_date":1368639725,"answer_id":16571595,"question_id":16571129,"body_markdown":"First of all, the projecton filters the amount of data retrieved, if you want more data, you should add those properties to the projection too.\r\n\r\nExample:\r\n\r\n    c.setProjection( Projections.projectionList()\r\n        .add( Projections.property(&quot;id&quot;).as(&quot;id&quot;) )\r\n        .add( Projections.property(&quot;descripction&quot;).as(&quot;description&quot;) )\r\n        .add( Projections.groupProperty(&quot;volumeCode&quot;).as(&quot;volumeCode&quot;) ));\r\n\r\nNow, the transformer does what it says &quot;Alias to Bean&quot;, it does an alias match with the properties of your java bean &quot;Book.java&quot;.\r\n\r\nEdit:\r\n\r\nWithout the transformer, if the projection has more than one property, the result comes out like this:\r\n\r\n    for(Object[] item:criteria.list()){\r\n        System.out.println( (String)item[0] ); //ID\r\n        System.out.println( (String)item[1] ); //Description\r\n        System.out.println( (String)item[2] ); //Volume code\r\n    }\r\n\r\nThats why you were getting the cast exception, about the transformer, try to match every alias with the property name of your java bean.","title":"Hibernate criteria Using GROUP BY and RETURN ENTITY LIST","body":"<p>First of all, the projecton filters the amount of data retrieved, if you want more data, you should add those properties to the projection too.</p>\n\n<p>Example:</p>\n\n<pre><code>c.setProjection( Projections.projectionList()\n    .add( Projections.property(\"id\").as(\"id\") )\n    .add( Projections.property(\"descripction\").as(\"description\") )\n    .add( Projections.groupProperty(\"volumeCode\").as(\"volumeCode\") ));\n</code></pre>\n\n<p>Now, the transformer does what it says \"Alias to Bean\", it does an alias match with the properties of your java bean \"Book.java\".</p>\n\n<p>Edit:</p>\n\n<p>Without the transformer, if the projection has more than one property, the result comes out like this:</p>\n\n<pre><code>for(Object[] item:criteria.list()){\n    System.out.println( (String)item[0] ); //ID\n    System.out.println( (String)item[1] ); //Description\n    System.out.println( (String)item[2] ); //Volume code\n}\n</code></pre>\n\n<p>Thats why you were getting the cast exception, about the transformer, try to match every alias with the property name of your java bean.</p>\n"},{"tags":[],"owner":{"account_id":5362359,"reputation":21,"user_id":4273219,"display_name":"Mazrul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693796450,"creation_date":1416467428,"answer_id":27033761,"question_id":16571129,"body_markdown":"I think you can use: \r\n\r\n```java\r\ncriteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\r\n```","title":"Hibernate criteria Using GROUP BY and RETURN ENTITY LIST","body":"<p>I think you can use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6182134,"reputation":137,"user_id":4817262,"display_name":"Jerome"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1429846855,"creation_date":1429846855,"answer_id":29838324,"question_id":16571129,"body_markdown":"cz_Nesh.\r\nsorry about my first answer.\r\ni read Hibernate api and read some Hibernate source code i find that. \r\nif you use this code \r\n\r\n    session.createCriteria(EmpUserImpl.class).list();  \r\nit will return List EmpUserImpl.\r\nif you use this code \r\n\r\n    \t\tcriteria.setProjection(Projections.projectionList()\r\n\t\t\t\t.add(Projections.groupProperty(&quot;company&quot;).as(&quot;company&quot;))\r\n\t\t\t\t.add(Projections.property(&quot;name&quot;).as(&quot;name&quot;))\r\n\t\t\t\t.add(Projections.property(&quot;company&quot;).as(&quot;company&quot;)));\r\n\t\t    List list = criteria.list();\r\nit will return List ,is not List EmpUserImpl   why?\r\ni see the criterion&#39;s parent class CriteriaSpecification i find that . \r\n\r\n    public interface CriteriaSpecification {\r\n\r\n\t/**\r\n\t * The alias that refers to the &quot;root&quot; entity of the criteria query.\r\n\t */\r\n\tpublic static final String ROOT_ALIAS = &quot;this&quot;;\r\n\r\n\t/**\r\n\t * Each row of results is a &lt;tt&gt;Map&lt;/tt&gt; from alias to entity instance\r\n\t */\r\n\tpublic static final ResultTransformer ALIAS_TO_ENTITY_MAP = AliasToEntityMapResultTransformer.INSTANCE;\r\n\r\n\t/**\r\n\t * Each row of results is an instance of the root entity\r\n\t */\r\n\tpublic static final ResultTransformer ROOT_ENTITY = RootEntityResultTransformer.INSTANCE;\r\n\r\n\t/**\r\n\t * Each row of results is a distinct instance of the root entity\r\n\t */\r\n\tpublic static final ResultTransformer DISTINCT_ROOT_ENTITY = DistinctRootEntityResultTransformer.INSTANCE;\r\n\r\n\t/**\r\n\t * This result transformer is selected implicitly by calling &lt;tt&gt;setProjection()&lt;/tt&gt;\r\n\t */\r\n\tpublic static final ResultTransformer PROJECTION = PassThroughResultTransformer.INSTANCE;\r\n\r\n\t/**\r\n\t * Specifies joining to an entity based on an inner join.\r\n\t *\r\n\t * @deprecated use {@link org.hibernate.sql.JoinType#INNER_JOIN}\r\n\t */\r\n\t@Deprecated\r\n\tpublic static final int INNER_JOIN = JoinType.INNER_JOIN.getJoinTypeValue();\r\n\r\n\t/**\r\n\t * Specifies joining to an entity based on a full join.\r\n\t *\r\n\t * @deprecated use {@link org.hibernate.sql.JoinType#FULL_JOIN}\r\n\t */\r\n\t@Deprecated\r\n\tpublic static final int FULL_JOIN = JoinType.FULL_JOIN.getJoinTypeValue();\r\n\r\n\t/**\r\n\t * Specifies joining to an entity based on a left outer join.\r\n\t *\r\n\t * @deprecated use {@link org.hibernate.sql.JoinType#LEFT_OUTER_JOIN}\r\n\t */\r\n\t@Deprecated\r\n\tpublic static final int LEFT_JOIN = JoinType.LEFT_OUTER_JOIN.getJoinTypeValue();\r\n\r\n\r\n}\r\n\r\ncan you see the public static final ResultTransformer PROJECTION  ? it say that This result transformer is selected implicitly by calling &lt;tt&gt;setProjection()&lt;/tt&gt;\r\nis mean when you use criteria.setProjection,the result will not List EmpUserImpl,because ResultTransformer is change to &quot;PROJECTION&quot; from &quot;ROOT_ENTITY&quot;.it will packaging by Projection(like select name,oid .. ).\r\nso, if you want to return List EmpUserImpl you need set Projections.property(&quot;name&quot;).as(&quot;name&quot;).,(if you need name just set name).\r\nthis is my code . \r\n\r\n        \tCriteria criteria = session.createCriteria(EmpUserImpl.class);\r\n\t\tcriteria.setProjection(Projections.projectionList()\r\n\t\t\t\t.add(Projections.groupProperty(&quot;company&quot;).as(&quot;company&quot;))\r\n\t\t\t\t.add(Projections.property(&quot;name&quot;).as(&quot;name&quot;))\r\n\t\t\t\t.add(Projections.property(&quot;company&quot;).as(&quot;company&quot;)));\r\n\t\tcriteria.setResultTransformer(Transformers.aliasToBean(EmpUserImpl.class));\r\n\t\tList&lt;EmpUserImpl&gt; list = criteria.list();\r\n\t\tfor (EmpUserImpl empUserImpl : list) {\r\n\t\t\tSystem.out.println(empUserImpl.getName());\r\n\t\t}\r\nit can work .  i hope it can help you.\r\n","title":"Hibernate criteria Using GROUP BY and RETURN ENTITY LIST","body":"<p>cz_Nesh.\nsorry about my first answer.\ni read Hibernate api and read some Hibernate source code i find that. \nif you use this code </p>\n\n<pre><code>session.createCriteria(EmpUserImpl.class).list();  \n</code></pre>\n\n<p>it will return List EmpUserImpl.\nif you use this code </p>\n\n<pre><code>        criteria.setProjection(Projections.projectionList()\n            .add(Projections.groupProperty(\"company\").as(\"company\"))\n            .add(Projections.property(\"name\").as(\"name\"))\n            .add(Projections.property(\"company\").as(\"company\")));\n        List list = criteria.list();\n</code></pre>\n\n<p>it will return List ,is not List EmpUserImpl   why?\ni see the criterion's parent class CriteriaSpecification i find that . </p>\n\n<pre><code>public interface CriteriaSpecification {\n\n/**\n * The alias that refers to the \"root\" entity of the criteria query.\n */\npublic static final String ROOT_ALIAS = \"this\";\n\n/**\n * Each row of results is a &lt;tt&gt;Map&lt;/tt&gt; from alias to entity instance\n */\npublic static final ResultTransformer ALIAS_TO_ENTITY_MAP = AliasToEntityMapResultTransformer.INSTANCE;\n\n/**\n * Each row of results is an instance of the root entity\n */\npublic static final ResultTransformer ROOT_ENTITY = RootEntityResultTransformer.INSTANCE;\n\n/**\n * Each row of results is a distinct instance of the root entity\n */\npublic static final ResultTransformer DISTINCT_ROOT_ENTITY = DistinctRootEntityResultTransformer.INSTANCE;\n\n/**\n * This result transformer is selected implicitly by calling &lt;tt&gt;setProjection()&lt;/tt&gt;\n */\npublic static final ResultTransformer PROJECTION = PassThroughResultTransformer.INSTANCE;\n\n/**\n * Specifies joining to an entity based on an inner join.\n *\n * @deprecated use {@link org.hibernate.sql.JoinType#INNER_JOIN}\n */\n@Deprecated\npublic static final int INNER_JOIN = JoinType.INNER_JOIN.getJoinTypeValue();\n\n/**\n * Specifies joining to an entity based on a full join.\n *\n * @deprecated use {@link org.hibernate.sql.JoinType#FULL_JOIN}\n */\n@Deprecated\npublic static final int FULL_JOIN = JoinType.FULL_JOIN.getJoinTypeValue();\n\n/**\n * Specifies joining to an entity based on a left outer join.\n *\n * @deprecated use {@link org.hibernate.sql.JoinType#LEFT_OUTER_JOIN}\n */\n@Deprecated\npublic static final int LEFT_JOIN = JoinType.LEFT_OUTER_JOIN.getJoinTypeValue();\n</code></pre>\n\n<p>}</p>\n\n<p>can you see the public static final ResultTransformer PROJECTION  ? it say that This result transformer is selected implicitly by calling setProjection()\nis mean when you use criteria.setProjection,the result will not List EmpUserImpl,because ResultTransformer is change to \"PROJECTION\" from \"ROOT_ENTITY\".it will packaging by Projection(like select name,oid .. ).\nso, if you want to return List EmpUserImpl you need set Projections.property(\"name\").as(\"name\").,(if you need name just set name).\nthis is my code . </p>\n\n<pre><code>        Criteria criteria = session.createCriteria(EmpUserImpl.class);\n    criteria.setProjection(Projections.projectionList()\n            .add(Projections.groupProperty(\"company\").as(\"company\"))\n            .add(Projections.property(\"name\").as(\"name\"))\n            .add(Projections.property(\"company\").as(\"company\")));\n    criteria.setResultTransformer(Transformers.aliasToBean(EmpUserImpl.class));\n    List&lt;EmpUserImpl&gt; list = criteria.list();\n    for (EmpUserImpl empUserImpl : list) {\n        System.out.println(empUserImpl.getName());\n    }\n</code></pre>\n\n<p>it can work .  i hope it can help you.</p>\n"}],"owner":{"account_id":2402662,"reputation":141,"user_id":2099987,"display_name":"cz_Nesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40241,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1693796450,"creation_date":1368637895,"question_id":16571129,"body_markdown":"I&#39;m trying to use `GROUP BY` in my criteria. I need to do this:\r\n\r\n    SELECT b FROM Book b GROUP BY volumeCode;\r\n\r\nI have following code:\r\n\r\n        Criteria c = s.createCriteria(Book.class);\r\n        c.setProjection(Projections.projectionList().add(Projections.groupProperty(&quot;volumeCode&quot;)));\r\n        List&lt;Book&gt; result = c.list();\r\n\r\nBut this criteria returns only `volumeCode`s (a list of Strings). I need to get a list of `Book`s. So I tried to use Transformers:\r\n\r\n        Criteria c = s.createCriteria(Book.class);\r\n        c.setProjection(Projections.projectionList().add(Projections.groupProperty(&quot;volumeCode&quot;)));\r\n        c.setResultTransformer(Transformers.aliasToBean(Book.class));\r\n        List&lt;Book&gt; result = c.list();\r\n\r\nThis code returns list of null values. Is it possible to do that with criteria?","title":"Hibernate criteria Using GROUP BY and RETURN ENTITY LIST","body":"<p>I'm trying to use <code>GROUP BY</code> in my criteria. I need to do this:</p>\n\n<pre><code>SELECT b FROM Book b GROUP BY volumeCode;\n</code></pre>\n\n<p>I have following code:</p>\n\n<pre><code>    Criteria c = s.createCriteria(Book.class);\n    c.setProjection(Projections.projectionList().add(Projections.groupProperty(\"volumeCode\")));\n    List&lt;Book&gt; result = c.list();\n</code></pre>\n\n<p>But this criteria returns only <code>volumeCode</code>s (a list of Strings). I need to get a list of <code>Book</code>s. So I tried to use Transformers:</p>\n\n<pre><code>    Criteria c = s.createCriteria(Book.class);\n    c.setProjection(Projections.projectionList().add(Projections.groupProperty(\"volumeCode\")));\n    c.setResultTransformer(Transformers.aliasToBean(Book.class));\n    List&lt;Book&gt; result = c.list();\n</code></pre>\n\n<p>This code returns list of null values. Is it possible to do that with criteria?</p>\n"},{"tags":["java","html","css","pdf","itext7"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1585149855,"post_id":60827977,"comment_id":107662818,"body_markdown":"You should use `@page` media selector and `running` elements in CSS to exclude an element from the main flow and include it into a header","body":"You should use <code>@page</code> media selector and <code>running</code> elements in CSS to exclude an element from the main flow and include it into a header"},{"owner":{"account_id":18042937,"reputation":35,"user_id":13114610,"display_name":"Semi"},"score":0,"creation_date":1585159937,"post_id":60827977,"comment_id":107668314,"body_markdown":"Thank you...I used running elements previously &amp; it worked fine. However, the content in both sections limited to only one line. I&#39;m trying to accomplish fitting at least 3 lines in the header and footer sections dynamically. Any alternatives?","body":"Thank you...I used running elements previously &amp; it worked fine. However, the content in both sections limited to only one line. I&#39;m trying to accomplish fitting at least 3 lines in the header and footer sections dynamically. Any alternatives?"},{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1585160088,"post_id":60827977,"comment_id":107668386,"body_markdown":"you can use running elements with block-level elements (div, paragraphs) perfectly fine and it should give you the desired result","body":"you can use running elements with block-level elements (div, paragraphs) perfectly fine and it should give you the desired result"},{"owner":{"account_id":18042937,"reputation":35,"user_id":13114610,"display_name":"Semi"},"score":0,"creation_date":1585161609,"post_id":60827977,"comment_id":107669100,"body_markdown":"I&#39;ve tried it with div...still the content shows only 2 lines although I&#39;ve added 3 lines and specify the div height as 15% of the page.","body":"I&#39;ve tried it with div...still the content shows only 2 lines although I&#39;ve added 3 lines and specify the div height as 15% of the page."},{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1585167719,"post_id":60827977,"comment_id":107672047,"body_markdown":"you should also specify the height of the header, it&#39;s specified with `margin-top` CSS declaration: `@page { margin-top: 200px; }`","body":"you should also specify the height of the header, it&#39;s specified with <code>margin-top</code> CSS declaration: <code>@page { margin-top: 200px; }</code>"},{"owner":{"account_id":18042937,"reputation":35,"user_id":13114610,"display_name":"Semi"},"score":0,"creation_date":1585244507,"post_id":60827977,"comment_id":107699785,"body_markdown":"Please demonstrate with an example. I&#39;ve tried with the margin but the whole section still won&#39;t appear. Thanks.","body":"Please demonstrate with an example. I&#39;ve tried with the margin but the whole section still won&#39;t appear. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1585339167,"creation_date":1585339167,"answer_id":60893311,"question_id":60827977,"body_markdown":"Here is an example of HTML that is correctly processed by `pdfHTML` and multiline header is displayed fully at the top of the page as expected:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;style&gt;\r\n        #header {\r\n            position: running(header);\r\n        }\r\n\r\n        @page {\r\n            margin-top: 100px;\r\n            @top-center {\r\n                content: element(header);\r\n            }\r\n        }\r\n    &lt;/style&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n&lt;div id=&quot;header&quot;&gt;Header line 1&lt;br/&gt;Header line 2&lt;br/&gt;Header line 3&lt;/div&gt;\r\n\r\n&lt;p&gt;Content of the page&lt;/p&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nPage looks as follows in the resultant PDF:\r\n\r\n[![result][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lPlVm.png","title":"Convert HTML Template to PDF using itext7 with dynamic header &amp; footer","body":"<p>Here is an example of HTML that is correctly processed by <code>pdfHTML</code> and multiline header is displayed fully at the top of the page as expected:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;style&gt;\n        #header {\n            position: running(header);\n        }\n\n        @page {\n            margin-top: 100px;\n            @top-center {\n                content: element(header);\n            }\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;div id=\"header\"&gt;Header line 1&lt;br/&gt;Header line 2&lt;br/&gt;Header line 3&lt;/div&gt;\n\n&lt;p&gt;Content of the page&lt;/p&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Page looks as follows in the resultant PDF:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lPlVm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lPlVm.png\" alt=\"result\"></a></p>\n"}],"owner":{"account_id":18042937,"reputation":35,"user_id":13114610,"display_name":"Semi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1600,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60893311,"answer_count":1,"score":1,"last_activity_date":1693796392,"creation_date":1585041175,"question_id":60827977,"body_markdown":"I&#39;ve tried to use the below HTML template to convert it to PDF using iText7 but both header and footer are not binding to their intended position.\r\n[used example][1]\r\nI&#39;m trying to avoid @Page header and footer properties since I&#39;m trying to accomplish fitting dynamic content in both sections with extended space more than 3 rows in each. \r\n\r\n\r\niText code and result:\r\n\r\n    ConverterProperties properties = new ConverterProperties();\r\n\t//properties.setFontProvider(fontProvider);\r\n\tproperties.setMediaDeviceDescription(new MediaDeviceDescription(MediaType.PRINT));\r\n\tPdfWriter writer = new PdfWriter(&quot;out.pdf&quot;);\r\n\tPdfDocument pdf = new PdfDocument(writer);\r\n\tpdf.setTagged();\r\n\tPageSize pageSize = PageSize.LETTER;\r\n\tpdf.setDefaultPageSize(pageSize);\r\n\t\r\n\tOutlineHandler outlineHandler = OutlineHandler.createStandardHandler();\r\n\tproperties.setOutlineHandler(outlineHandler);\r\n    \r\n    //html template (templateOutput)\r\n\tHtmlConverter.convertToPdf(templateOutput, pdf, properties);\r\n\tbyte[] pdfData = byteArrayOutputStream.toByteArray();\r\n\tpdf.close();\r\n![The second page without header and footer][2]\r\n![First Page][3]\r\n\r\nPlease any suggestions to resolve the issue?\r\nThank you\r\n\r\n  [1]: https://plnkr.co/edit/lWk6Yd?preview\r\n  [2]: https://i.stack.imgur.com/insOe.png\r\n  [3]: https://i.stack.imgur.com/ZiMRa.png","title":"Convert HTML Template to PDF using itext7 with dynamic header &amp; footer","body":"<p>I've tried to use the below HTML template to convert it to PDF using iText7 but both header and footer are not binding to their intended position.\n<a href=\"https://plnkr.co/edit/lWk6Yd?preview\" rel=\"nofollow noreferrer\">used example</a>\nI'm trying to avoid @Page header and footer properties since I'm trying to accomplish fitting dynamic content in both sections with extended space more than 3 rows in each. </p>\n\n<p>iText code and result:</p>\n\n<pre><code>ConverterProperties properties = new ConverterProperties();\n//properties.setFontProvider(fontProvider);\nproperties.setMediaDeviceDescription(new MediaDeviceDescription(MediaType.PRINT));\nPdfWriter writer = new PdfWriter(\"out.pdf\");\nPdfDocument pdf = new PdfDocument(writer);\npdf.setTagged();\nPageSize pageSize = PageSize.LETTER;\npdf.setDefaultPageSize(pageSize);\n\nOutlineHandler outlineHandler = OutlineHandler.createStandardHandler();\nproperties.setOutlineHandler(outlineHandler);\n\n//html template (templateOutput)\nHtmlConverter.convertToPdf(templateOutput, pdf, properties);\nbyte[] pdfData = byteArrayOutputStream.toByteArray();\npdf.close();\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/insOe.png\" alt=\"The second page without header and footer\">\n<img src=\"https://i.stack.imgur.com/ZiMRa.png\" alt=\"First Page\"></p>\n\n<p>Please any suggestions to resolve the issue?\nThank you</p>\n"},{"tags":["java","rust","crash","jnr"],"comments":[{"owner":{"account_id":2518247,"reputation":46794,"user_id":2189130,"display_name":"kmdreko"},"score":0,"creation_date":1693792744,"post_id":77034733,"comment_id":135802863,"body_markdown":"This needs a lot more information to answer. This crosses the boundary between programming languages so the interface between them is of utmost importance and is also easy to get wrong. So please show how you are loading and calling the Rust code from Java.","body":"This needs a lot more information to answer. This crosses the boundary between programming languages so the interface between them is of utmost importance and is also easy to get wrong. So please show how you are loading and calling the Rust code from Java."},{"owner":{"account_id":29013292,"reputation":25,"user_id":22224305,"display_name":"hello planet"},"score":0,"creation_date":1693792796,"post_id":77034733,"comment_id":135802867,"body_markdown":"ok, I will update my question to clarify how I am using Rust from Java.","body":"ok, I will update my question to clarify how I am using Rust from Java."},{"owner":{"account_id":29013292,"reputation":25,"user_id":22224305,"display_name":"hello planet"},"score":0,"creation_date":1693793402,"post_id":77034733,"comment_id":135802911,"body_markdown":"I have updated my question to include more details about how I am referencing the native code from the JVM","body":"I have updated my question to include more details about how I am referencing the native code from the JVM"}],"answers":[{"tags":[],"owner":{"account_id":2518247,"reputation":46794,"user_id":2189130,"display_name":"kmdreko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693793745,"creation_date":1693793745,"answer_id":77034773,"question_id":77034733,"body_markdown":"You should not use `Box` to handle memory you got from the Java side. `Box` will attempt to deallocate the memory when it goes out of scope, but that will encounter errors since the memory was not allocated by `Box` initially.\r\n\r\nInstead use the slice only:\r\n\r\n```rust\r\nfn create_bitvec(data: &amp;[u8]) -&gt; [u8; 49152] {\r\n    // ...\r\n}\r\n\r\npub fn create(data: &amp;[u8]) -&gt; Chunk {\r\n    // ...\r\n}\r\n```\r\n\r\n```rust\r\n.build((x, y), slice::from_raw_parts_mut(arr as *mut u8, WIDTH * WIDTH * HEIGHT));\r\n```\r\n\r\nAnd any other code you omitted that uses it. The implementations within the functions should not change (much) since `Box` is fairly transparent.","title":"Why does Rust native library randomly crash when calling function?","body":"<p>You should not use <code>Box</code> to handle memory you got from the Java side. <code>Box</code> will attempt to deallocate the memory when it goes out of scope, but that will encounter errors since the memory was not allocated by <code>Box</code> initially.</p>\n<p>Instead use the slice only:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>fn create_bitvec(data: &amp;[u8]) -&gt; [u8; 49152] {\n    // ...\n}\n\npub fn create(data: &amp;[u8]) -&gt; Chunk {\n    // ...\n}\n</code></pre>\n<pre class=\"lang-rust prettyprint-override\"><code>.build((x, y), slice::from_raw_parts_mut(arr as *mut u8, WIDTH * WIDTH * HEIGHT));\n</code></pre>\n<p>And any other code you omitted that uses it. The implementations within the functions should not change (much) since <code>Box</code> is fairly transparent.</p>\n"}],"owner":{"account_id":29013292,"reputation":25,"user_id":22224305,"display_name":"hello planet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77034773,"answer_count":1,"score":2,"last_activity_date":1693793745,"creation_date":1693792303,"question_id":77034733,"body_markdown":"In Rust, I have a function that compresses an array:\r\n\r\n```rust\r\nfn create_bitvec(data: Box&lt;[u8]&gt;) -&gt; [u8; 49152] {\r\n    let mut bit_vector = [0u8; 49152];\r\n    for (index, &amp;value) in data.iter().enumerate() {\r\n        let byte_index = (index * 4) / 8;\r\n        let bit_index = (index * 4) % 8;\r\n        let value_mask = 0b00001111 &lt;&lt; bit_index;\r\n        let shifted_value = (value &lt;&lt; bit_index) &amp; value_mask;\r\n        bit_vector[byte_index] &amp;= !value_mask;\r\n        bit_vector[byte_index] |= shifted_value;\r\n    }\r\n    debug!(&quot;made it here. {:?}&quot;, bit_vector);\r\n    bit_vector\r\n}\r\n```\r\n\r\n*(sorry if the implementation of the function is bad, but that&#39;s not the specific problem here).*\r\n\r\nThe function is used like this:\r\n\r\n```rust\r\npub fn create(data: Box&lt;[u8]&gt;) -&gt; Chunk {\r\n    assert_eq!(data.len(), FULL, &quot;Data length doesn&#39;t match!&quot;);\r\n    let bitvec = Chunk::create_bitvec(data);\r\n    debug!(&quot;Got here 1!&quot;);\r\n    let c = Chunk {\r\n        data: Chunk::create_rle(bitvec),\r\n    };\r\n    debug!(&quot;Got here 2: {:?} {}!&quot;, c.data, c.data.len());\r\n    c\r\n}\r\n```\r\n\r\nThis program is used as a native library for Java. The struct is not directly used, but only some crucial functions are exposed using `extern &quot;C&quot; fn` from `lib.rs`. When calling create from rust as part of a unit test, everything works as expected, but when used from the JVM, the program crashes with no additional panic/debug info, with exit code `-1073740940 (0xC0000374)`. The really confusing part that I simply cannot wrap my head around is that `made it here` gets logged just fine, with the correct array, but the program crashes before `Got here 1` can be logged. Here are some things I have already tried:\r\n\r\n- Verifying the array length\r\n\r\n- Verifying the data fits under the `u8` type\r\n\r\n- Testing the code from only Rust\r\n\r\nI suspect the issue may have something to do with memory, but I am not sure, especially since I passed `Xmx8G` to the JVM.\r\n\r\nI am using `jnr-ffi` for the natives.\r\n\r\nHere is the relevant rust code from `lib.rs`:\r\n```rust\r\nstatic CHUNK_STATE: Mutex&lt;Cell&lt;Option&lt;ChunkManager&gt;&gt;&gt; = Mutex::new(Cell::new(None));\r\n#[no_mangle]\r\npub extern &quot;C&quot; fn chunk_build(x: i64, y: i64, arr: *const u8) {\r\n    info!(&quot;Building chunk: {}, {}&quot;, x, y);\r\n    unsafe {\r\n        CHUNK_STATE.lock().get_mut().as_mut().expect(&quot;Not initialized!&quot;).build((x, y), Box::from_raw(slice::from_raw_parts_mut(arr as *mut u8, WIDTH * WIDTH * HEIGHT)));\r\n    }\r\n}\r\n```\r\n\r\nAnd its usage from Java:\r\n```java\r\npublic interface NativeLib {\r\n    void chunk_build(int x, int y, byte[] arr);\r\n}\r\n```\r\n\r\n```\r\nimport jnr.ffi.LibraryLoader;\r\n\r\npublic class Natives {\r\n    public static NativeLib INSTANCE;\r\n\r\n    public static void init() {\r\n        INSTANCE = LibraryLoader.create(NativeLib.class).load(&quot;C:\\\\Users\\\\*\\\\*\\\\*\\\\nativelib\\\\target\\\\release\\\\pathlib.dll&quot;);\r\n        INSTANCE.init();\r\n    }\r\n}\r\n```","title":"Why does Rust native library randomly crash when calling function?","body":"<p>In Rust, I have a function that compresses an array:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>fn create_bitvec(data: Box&lt;[u8]&gt;) -&gt; [u8; 49152] {\n    let mut bit_vector = [0u8; 49152];\n    for (index, &amp;value) in data.iter().enumerate() {\n        let byte_index = (index * 4) / 8;\n        let bit_index = (index * 4) % 8;\n        let value_mask = 0b00001111 &lt;&lt; bit_index;\n        let shifted_value = (value &lt;&lt; bit_index) &amp; value_mask;\n        bit_vector[byte_index] &amp;= !value_mask;\n        bit_vector[byte_index] |= shifted_value;\n    }\n    debug!(&quot;made it here. {:?}&quot;, bit_vector);\n    bit_vector\n}\n</code></pre>\n<p><em>(sorry if the implementation of the function is bad, but that's not the specific problem here).</em></p>\n<p>The function is used like this:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>pub fn create(data: Box&lt;[u8]&gt;) -&gt; Chunk {\n    assert_eq!(data.len(), FULL, &quot;Data length doesn't match!&quot;);\n    let bitvec = Chunk::create_bitvec(data);\n    debug!(&quot;Got here 1!&quot;);\n    let c = Chunk {\n        data: Chunk::create_rle(bitvec),\n    };\n    debug!(&quot;Got here 2: {:?} {}!&quot;, c.data, c.data.len());\n    c\n}\n</code></pre>\n<p>This program is used as a native library for Java. The struct is not directly used, but only some crucial functions are exposed using <code>extern &quot;C&quot; fn</code> from <code>lib.rs</code>. When calling create from rust as part of a unit test, everything works as expected, but when used from the JVM, the program crashes with no additional panic/debug info, with exit code <code>-1073740940 (0xC0000374)</code>. The really confusing part that I simply cannot wrap my head around is that <code>made it here</code> gets logged just fine, with the correct array, but the program crashes before <code>Got here 1</code> can be logged. Here are some things I have already tried:</p>\n<ul>\n<li><p>Verifying the array length</p>\n</li>\n<li><p>Verifying the data fits under the <code>u8</code> type</p>\n</li>\n<li><p>Testing the code from only Rust</p>\n</li>\n</ul>\n<p>I suspect the issue may have something to do with memory, but I am not sure, especially since I passed <code>Xmx8G</code> to the JVM.</p>\n<p>I am using <code>jnr-ffi</code> for the natives.</p>\n<p>Here is the relevant rust code from <code>lib.rs</code>:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>static CHUNK_STATE: Mutex&lt;Cell&lt;Option&lt;ChunkManager&gt;&gt;&gt; = Mutex::new(Cell::new(None));\n#[no_mangle]\npub extern &quot;C&quot; fn chunk_build(x: i64, y: i64, arr: *const u8) {\n    info!(&quot;Building chunk: {}, {}&quot;, x, y);\n    unsafe {\n        CHUNK_STATE.lock().get_mut().as_mut().expect(&quot;Not initialized!&quot;).build((x, y), Box::from_raw(slice::from_raw_parts_mut(arr as *mut u8, WIDTH * WIDTH * HEIGHT)));\n    }\n}\n</code></pre>\n<p>And its usage from Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface NativeLib {\n    void chunk_build(int x, int y, byte[] arr);\n}\n</code></pre>\n<pre><code>import jnr.ffi.LibraryLoader;\n\npublic class Natives {\n    public static NativeLib INSTANCE;\n\n    public static void init() {\n        INSTANCE = LibraryLoader.create(NativeLib.class).load(&quot;C:\\\\Users\\\\*\\\\*\\\\*\\\\nativelib\\\\target\\\\release\\\\pathlib.dll&quot;);\n        INSTANCE.init();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","react-native","gradle"],"answers":[{"tags":[],"owner":{"account_id":22102656,"reputation":627,"user_id":16358865,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1670281136,"creation_date":1670281136,"answer_id":74695403,"question_id":74695402,"body_markdown":"SOLUTION:\r\n\r\nThis is a dependency issue and we need the latest version of Gradle to support Java 19.\r\n\r\nIn your React Native application folder, nav to `android/gradle/wrapper/gradle-wrapper.properties`\r\n\r\nFind the `distributionUrl` variable and change the end path to `gradle-7.6-all.zip`","title":"BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63","body":"<p>SOLUTION:</p>\n<p>This is a dependency issue and we need the latest version of Gradle to support Java 19.</p>\n<p>In your React Native application folder, nav to <code>android/gradle/wrapper/gradle-wrapper.properties</code></p>\n<p>Find the <code>distributionUrl</code> variable and change the end path to <code>gradle-7.6-all.zip</code></p>\n"},{"tags":[],"owner":{"account_id":12364158,"reputation":11,"user_id":9017053,"display_name":"gandalf-86"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693793694,"creation_date":1693793694,"answer_id":77034771,"question_id":74695402,"body_markdown":"In my case, the problem was related to the fact that I had incompatible versions of Java and Gradle running together. \r\nLook at this [compatibility matrix][1] to ensure that your installed Java version matches the Gradle one. \r\n\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/compatibility.html","title":"BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63","body":"<p>In my case, the problem was related to the fact that I had incompatible versions of Java and Gradle running together.\nLook at this <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">compatibility matrix</a> to ensure that your installed Java version matches the Gradle one.</p>\n"}],"owner":{"account_id":22102656,"reputation":627,"user_id":16358865,"display_name":"Jon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17834,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":74695403,"answer_count":2,"score":9,"last_activity_date":1693793694,"creation_date":1670281136,"question_id":74695402,"body_markdown":"Bug when first trying to run a brand new React Native application.\r\n\r\nBUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63\r\n\r\nI encountered this error when I first installed the latest version of Java \r\n\r\n&gt; java 19.0.1\r\n\r\nand creating a React Native application that auto generated with \r\n\r\n&gt; react-native dependency v0.70.6\r\n\r\n\r\n\r\n\r\n ","title":"BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63","body":"<p>Bug when first trying to run a brand new React Native application.</p>\n<p>BUG! exception in phase 'semantic analysis' in source unit '<em>BuildScript</em>' Unsupported class file major version 63</p>\n<p>I encountered this error when I first installed the latest version of Java</p>\n<blockquote>\n<p>java 19.0.1</p>\n</blockquote>\n<p>and creating a React Native application that auto generated with</p>\n<blockquote>\n<p>react-native dependency v0.70.6</p>\n</blockquote>\n"},{"tags":["java","jvm","oom"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693557806,"post_id":77020168,"comment_id":135779816,"body_markdown":"Don’t ask three different question at once.","body":"Don’t ask three different question at once."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1693794524,"post_id":77020168,"comment_id":135802970,"body_markdown":"If you write code that catches `OutOfMemoryException` and returns `null` instead, you have only yourself to blame.","body":"If you write code that catches <code>OutOfMemoryException</code> and returns <code>null</code> instead, you have only yourself to blame."}],"answers":[{"tags":[],"owner":{"account_id":3861275,"reputation":300,"user_id":3198960,"accept_rate":22,"display_name":"rufushuang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693535082,"creation_date":1693535082,"answer_id":77020169,"question_id":77020168,"body_markdown":"Found related: https://stackoverflow.com/questions/72865015/why-jvm-can-recovery-from-oom-java-heap-space-by-itself\r\n\r\nSo, jvm arguments:\r\n\r\n    -XX:+CrashOnOutOfMemoryError\r\nFurther, also can run a script:\r\n\r\n    -XX:OnOutOfMemoryError=&quot;/dir/oomKillAndRestart.sh&quot;\r\n","title":"Why JVM NOT crash after oom?","body":"<p>Found related: <a href=\"https://stackoverflow.com/questions/72865015/why-jvm-can-recovery-from-oom-java-heap-space-by-itself\">Why JVM can recovery from OOM Java heap space by itself</a></p>\n<p>So, jvm arguments:</p>\n<pre><code>-XX:+CrashOnOutOfMemoryError\n</code></pre>\n<p>Further, also can run a script:</p>\n<pre><code>-XX:OnOutOfMemoryError=&quot;/dir/oomKillAndRestart.sh&quot;\n</code></pre>\n"}],"owner":{"account_id":3861275,"reputation":300,"user_id":3198960,"accept_rate":22,"display_name":"rufushuang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693536038,"accepted_answer_id":77020169,"answer_count":1,"score":0,"last_activity_date":1693793484,"creation_date":1693535082,"question_id":77020168,"body_markdown":"This maybe an interesting question to ask. In most cases, we do not want jvm crash.\r\n\r\nBut sometimes the &#39;**oom-ed but not crash**&#39; jvm process keeps runing, and may return a value with NULL instead of the correct value. For some scenarios sensitive to value accuracy, this is not acceptable.\r\n\r\nSo is there way to **make jvm DO CRASH after oom**? Like some jvm arguments, or alternative approaches to solving this issue to make scenarios keep accuracy.\r\n","title":"Why JVM NOT crash after oom?","body":"<p>This maybe an interesting question to ask. In most cases, we do not want jvm crash.</p>\n<p>But sometimes the '<strong>oom-ed but not crash</strong>' jvm process keeps runing, and may return a value with NULL instead of the correct value. For some scenarios sensitive to value accuracy, this is not acceptable.</p>\n<p>So is there way to <strong>make jvm DO CRASH after oom</strong>? Like some jvm arguments, or alternative approaches to solving this issue to make scenarios keep accuracy.</p>\n"},{"tags":["java","image","fileinputstream","business-process-management"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693626410,"post_id":77026795,"comment_id":135789069,"body_markdown":"Since you haven’t shown us any of your code, it’s hard to know where to start explaining things.  Have you ever used those classes before?  Have you used the File class before?  Have you written a Java program before?  Do you have any information on the BMP format?","body":"Since you haven’t shown us any of your code, it’s hard to know where to start explaining things.  Have you ever used those classes before?  Have you used the File class before?  Have you written a Java program before?  Do you have any information on the BMP format?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1693626870,"post_id":77026795,"comment_id":135789096,"body_markdown":"You didn&#39;t make any questions. What issue do you have?","body":"You didn&#39;t make any questions. What issue do you have?"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693793385,"creation_date":1693630988,"answer_id":77027033,"question_id":77026795,"body_markdown":"&gt; _&quot;... I want to read the header of a BMP image ...&quot;_\r\n\r\nHere is the _Wikipedia_ article on the _Bitmap_ image format, specifically the _file header_ section.  \r\n_[Wikipedia &amp;ndash; BMP file format &amp;ndash; Bitmap file header](https://en.wikipedia.org/wiki/BMP_file_format#DIB_header_(bitmap_information_header))_.\r\n \r\nThe byte offsets for width and height are _18_ and _22_.  \r\n\r\n&gt; _&quot;... the teacher suggested to use FileInputStream and FileOutputStream&quot;_\r\n\r\nYou can use the _[InputStream#readNBytes](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/InputStream.html#readNBytes(int))_ method to obtain the first _n_ bytes of data.&amp;nbsp; In this case, _n + 4_ since the last field is 4 bytes.\r\n\r\n```java\r\ntry (FileInputStream stream = new FileInputStream(&quot;image.bmp&quot;)) {\r\n    byte[] b = stream.readNBytes(0x32 + 4);\r\n}\r\n```\r\n\r\n&gt; _&quot;... when a person writes the path of an image bmp, it displays:_\r\n&gt;\r\n&gt; - _the File size in bytes_  \r\n&gt; - _the Width in pixels_  \r\n&gt; - _the Height in pixels_  \r\n&gt;\r\n&gt; ...&quot;\r\n\r\nYou could utilize the _[ByteBuffer](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/ByteBuffer.html)_ class to convert the numeric values.\r\n\r\nI am using the following _NASA_ bitmap image.  \r\n_[NASA &amp;ndash; SVS &amp;ndash; Index of Frames Files for ID 13326 &amp;ndash; frame_0001.bmp (3840&amp;times;3840)](https://svs.gsfc.nasa.gov/vis/a010000/a013300/a013326/frames/3840x3840_1x1_30p/360/frame_0001.bmp)_.\r\n\r\n```java\r\ntry (FileInputStream stream = new FileInputStream(&quot;files/frame_0001.bmp&quot;)) {\r\n    byte[] b = stream.readNBytes(0x32 + 4);\r\n    ByteBuffer bb = ByteBuffer.allocate(b.length);\r\n    for (byte x : b) bb.put((byte) (x &amp; 0xff));\r\n    bb.order(ByteOrder.LITTLE_ENDIAN);\r\n    String id;\r\n    int size, sizeB, offset, width, height, planes, bpp,\r\n        hSize, compression, image, h_ppm, v_ppm, colors, important;\r\n    byte[] reserved1, reserved2;\r\n    id = new String(Arrays.copyOfRange(b, 0, 2));\r\n    bb.position(2);\r\n    size = bb.getInt();\r\n    reserved1 = Arrays.copyOfRange(b, 6, 8);\r\n    reserved2 = Arrays.copyOfRange(b, 8, 10);\r\n    bb.position(10);\r\n    offset = bb.getInt();\r\n    hSize = bb.getInt();\r\n    width = bb.getInt();\r\n    height = bb.getInt();\r\n    planes = bb.getChar();\r\n    bpp = bb.getChar();\r\n    compression = bb.getInt();\r\n    sizeB = bb.getInt();\r\n    h_ppm = bb.getInt();\r\n    v_ppm = bb.getInt();\r\n    colors = bb.getInt();\r\n    important = bb.getInt();\r\n    String string\r\n        = &quot;b= %,d (0x%1$x), %s%n&quot;.formatted(b.length, Arrays.toString(b))\r\n        + &quot;id= &#39;%s&#39;, %s%n&quot;.formatted(id, Arrays.toString(id.getBytes()))\r\n        + &quot;size= %,d%n&quot;.formatted(size)\r\n        + &quot;reserved1= %s%n&quot;.formatted(Arrays.toString(reserved1))\r\n        + &quot;reserved2= %s%n&quot;.formatted(Arrays.toString(reserved2))\r\n        + &quot;offset= %,d (0x%1$x)%n&quot;.formatted(offset)\r\n        + &quot;hSize= %,d (0x%1$x)%n&quot;.formatted(hSize)\r\n        + &quot;width= %,d%n&quot;.formatted(width)\r\n        + &quot;height= %,d%n&quot;.formatted(height)\r\n        + &quot;planes= %,d%n&quot;.formatted(planes)\r\n        + &quot;bpp= %,d%n&quot;.formatted(bpp)\r\n        + &quot;compression= %d%n&quot;.formatted(compression)\r\n        + &quot;sizeB= %,d%n&quot;.formatted(sizeB)\r\n        + &quot;h_ppm= %d%n&quot;.formatted(h_ppm)\r\n        + &quot;v_ppm= %d%n&quot;.formatted(v_ppm)\r\n        + &quot;colors= %d%n&quot;.formatted(colors)\r\n        + &quot;important= %d%n&quot;.formatted(important);\r\n    System.out.println(string);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nb= 54 (0x36), [66, 77, 54, 4, -31, 0, 0, 0, 0, 0, 54, 4, 0, 0, 40, 0, 0, 0, 0, 15, 0, 0, 0, 15, 0, 0, 1, 0, 8, 0, 0, 0, 0, 0, 0, 0, -31, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\nid= &#39;BM&#39;, [66, 77]\r\nsize= 14,746,678\r\nreserved1= [0, 0]\r\nreserved2= [0, 0]\r\noffset= 1,078 (0x436)\r\nhSize= 40 (0x28)\r\nwidth= 3,840\r\nheight= 3,840\r\nplanes= 1\r\nbpp= 8\r\ncompression= 0\r\nsizeB= 14,745,600\r\nh_ppm= 0\r\nv_ppm= 0\r\ncolors= 0\r\nimportant= 0\r\n```\r\n\r\nAnother approach is to use _[bit-wise and shift operations](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html)_.","title":"reading BMP header in Java","body":"<blockquote>\n<p><em>&quot;... I want to read the header of a BMP image ...&quot;</em></p>\n</blockquote>\n<p>Here is the <em>Wikipedia</em> article on the <em>Bitmap</em> image format, specifically the <em>file header</em> section.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/BMP_file_format#DIB_header_(bitmap_information_header)\" rel=\"nofollow noreferrer\">Wikipedia – BMP file format – Bitmap file header</a></em>.</p>\n<p>The byte offsets for width and height are <em>18</em> and <em>22</em>.</p>\n<blockquote>\n<p><em>&quot;... the teacher suggested to use FileInputStream and FileOutputStream&quot;</em></p>\n</blockquote>\n<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/InputStream.html#readNBytes(int)\" rel=\"nofollow noreferrer\">InputStream#readNBytes</a></em> method to obtain the first <em>n</em> bytes of data.  In this case, <em>n + 4</em> since the last field is 4 bytes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (FileInputStream stream = new FileInputStream(&quot;image.bmp&quot;)) {\n    byte[] b = stream.readNBytes(0x32 + 4);\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... when a person writes the path of an image bmp, it displays:</em></p>\n<ul>\n<li><em>the File size in bytes</em></li>\n<li><em>the Width in pixels</em></li>\n<li><em>the Height in pixels</em></li>\n</ul>\n<p>...&quot;</p>\n</blockquote>\n<p>You could utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\">ByteBuffer</a></em> class to convert the numeric values.</p>\n<p>I am using the following <em>NASA</em> bitmap image.<br />\n<em><a href=\"https://svs.gsfc.nasa.gov/vis/a010000/a013300/a013326/frames/3840x3840_1x1_30p/360/frame_0001.bmp\" rel=\"nofollow noreferrer\">NASA – SVS – Index of Frames Files for ID 13326 – frame_0001.bmp (3840×3840)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (FileInputStream stream = new FileInputStream(&quot;files/frame_0001.bmp&quot;)) {\n    byte[] b = stream.readNBytes(0x32 + 4);\n    ByteBuffer bb = ByteBuffer.allocate(b.length);\n    for (byte x : b) bb.put((byte) (x &amp; 0xff));\n    bb.order(ByteOrder.LITTLE_ENDIAN);\n    String id;\n    int size, sizeB, offset, width, height, planes, bpp,\n        hSize, compression, image, h_ppm, v_ppm, colors, important;\n    byte[] reserved1, reserved2;\n    id = new String(Arrays.copyOfRange(b, 0, 2));\n    bb.position(2);\n    size = bb.getInt();\n    reserved1 = Arrays.copyOfRange(b, 6, 8);\n    reserved2 = Arrays.copyOfRange(b, 8, 10);\n    bb.position(10);\n    offset = bb.getInt();\n    hSize = bb.getInt();\n    width = bb.getInt();\n    height = bb.getInt();\n    planes = bb.getChar();\n    bpp = bb.getChar();\n    compression = bb.getInt();\n    sizeB = bb.getInt();\n    h_ppm = bb.getInt();\n    v_ppm = bb.getInt();\n    colors = bb.getInt();\n    important = bb.getInt();\n    String string\n        = &quot;b= %,d (0x%1$x), %s%n&quot;.formatted(b.length, Arrays.toString(b))\n        + &quot;id= '%s', %s%n&quot;.formatted(id, Arrays.toString(id.getBytes()))\n        + &quot;size= %,d%n&quot;.formatted(size)\n        + &quot;reserved1= %s%n&quot;.formatted(Arrays.toString(reserved1))\n        + &quot;reserved2= %s%n&quot;.formatted(Arrays.toString(reserved2))\n        + &quot;offset= %,d (0x%1$x)%n&quot;.formatted(offset)\n        + &quot;hSize= %,d (0x%1$x)%n&quot;.formatted(hSize)\n        + &quot;width= %,d%n&quot;.formatted(width)\n        + &quot;height= %,d%n&quot;.formatted(height)\n        + &quot;planes= %,d%n&quot;.formatted(planes)\n        + &quot;bpp= %,d%n&quot;.formatted(bpp)\n        + &quot;compression= %d%n&quot;.formatted(compression)\n        + &quot;sizeB= %,d%n&quot;.formatted(sizeB)\n        + &quot;h_ppm= %d%n&quot;.formatted(h_ppm)\n        + &quot;v_ppm= %d%n&quot;.formatted(v_ppm)\n        + &quot;colors= %d%n&quot;.formatted(colors)\n        + &quot;important= %d%n&quot;.formatted(important);\n    System.out.println(string);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>b= 54 (0x36), [66, 77, 54, 4, -31, 0, 0, 0, 0, 0, 54, 4, 0, 0, 40, 0, 0, 0, 0, 15, 0, 0, 0, 15, 0, 0, 1, 0, 8, 0, 0, 0, 0, 0, 0, 0, -31, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\nid= 'BM', [66, 77]\nsize= 14,746,678\nreserved1= [0, 0]\nreserved2= [0, 0]\noffset= 1,078 (0x436)\nhSize= 40 (0x28)\nwidth= 3,840\nheight= 3,840\nplanes= 1\nbpp= 8\ncompression= 0\nsizeB= 14,745,600\nh_ppm= 0\nv_ppm= 0\ncolors= 0\nimportant= 0\n</code></pre>\n<p>Another approach is to use <em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow noreferrer\">bit-wise and shift operations</a></em>.</p>\n"}],"owner":{"account_id":28768014,"reputation":9,"user_id":22032454,"display_name":"Andres  Ordonez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1693630172,"answer_count":1,"score":-1,"last_activity_date":1693793385,"creation_date":1693623290,"question_id":77026795,"body_markdown":"I want to read the header of a BMP image so that when a person writes the path of an image bmp, it displays:\r\n\r\n- the File size in bytes\r\n- the Width in pixels\r\n- the Height in pixels\r\n\r\n I&#39;m working on Java and the teacher suggested to use FileInputStream and FileOutputStream.","title":"reading BMP header in Java","body":"<p>I want to read the header of a BMP image so that when a person writes the path of an image bmp, it displays:</p>\n<ul>\n<li>the File size in bytes</li>\n<li>the Width in pixels</li>\n<li>the Height in pixels</li>\n</ul>\n<p>I'm working on Java and the teacher suggested to use FileInputStream and FileOutputStream.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"score":0,"creation_date":1436211635,"post_id":31254016,"comment_id":50505475,"body_markdown":"@the8472 It&#39;s advanced twice in the constructor, so I don&#39;t see how it could be lazily-initialized.  (I think the question is still valid anyway, given how IntStream.concat is documented to be lazy.)","body":"@the8472 It&#39;s advanced twice in the constructor, so I don&#39;t see how it could be lazily-initialized.  (I think the question is still valid anyway, given how IntStream.concat is documented to be lazy.)"},{"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"score":1,"creation_date":1436249535,"post_id":31254016,"comment_id":50517638,"body_markdown":"It doesn&#39;t pertain to the lazy stream, but `x -&gt; x + 2*p` is likely a bug since `p` is a member variable that might change before the lambda is evaluated.","body":"It doesn&#39;t pertain to the lazy stream, but <code>x -&gt; x + 2*p</code> is likely a bug since <code>p</code> is a member variable that might change before the lambda is evaluated."}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1436265762,"creation_date":1436213884,"answer_id":31254841,"question_id":31254016,"body_markdown":"Your apparently assume that the Streams API extends its guarantees of laziness even to the instantiation of spliterators; this is not correct. It expects to be able to instantiate the stream&#39;s spliterator at any time before the actual consumption begins, for example just to find out the stream&#39;s characteristics and reported size. Consumption only begins by invoking `trySplit`, `tryAdvance`, or `forEachRemaining`.\r\n\r\nHaving that in mind, you are initializing the postponed sieve earlier than you need it. You don&#39;t get to use any of its results until the `else if` part in `tryAdvance`. So move the code to the last possible moment which gives correctness:\r\n\r\n    @Override\r\n    public boolean tryAdvance(IntConsumer action) {\r\n        for (; c &gt; 0 /* overflow */; c += 2) {\r\n            Supplier&lt;IntStream&gt; maybeS = sieve.remove(c);\r\n            if (maybeS != null)\r\n                s = maybeS;\r\n            else {\r\n                if (postponedSieve == null) {\r\n                  postponedSieve = primes().iterator();\r\n                  postponedSieve.nextInt();\r\n                  this.p = postponedSieve.nextInt();\r\n                  this.q = p*p;\r\n                }\r\n                if (c &lt; q) {\r\n                  action.accept(c);\r\n                  return true; //continue\r\n\r\nI think that, with this change, even your first attempt at `primes()` should work.\r\n\r\nIf you want to stay with your current approach, you could involve the following idiom:\r\n\r\n    Stream.&lt;Supplier&lt;IntStream&gt;&gt;of(\r\n      ()-&gt;IntStream.of(2, 3, 5, 7),\r\n      ()-&gt;intStream(new PrimeSpliterator()))\r\n    .flatMap(Supplier::get);\r\n\r\nYou may find that this gives you as much laziness as you need.","title":"How do I lazily concatenate streams?","body":"<p>Your apparently assume that the Streams API extends its guarantees of laziness even to the instantiation of spliterators; this is not correct. It expects to be able to instantiate the stream's spliterator at any time before the actual consumption begins, for example just to find out the stream's characteristics and reported size. Consumption only begins by invoking <code>trySplit</code>, <code>tryAdvance</code>, or <code>forEachRemaining</code>.</p>\n\n<p>Having that in mind, you are initializing the postponed sieve earlier than you need it. You don't get to use any of its results until the <code>else if</code> part in <code>tryAdvance</code>. So move the code to the last possible moment which gives correctness:</p>\n\n<pre><code>@Override\npublic boolean tryAdvance(IntConsumer action) {\n    for (; c &gt; 0 /* overflow */; c += 2) {\n        Supplier&lt;IntStream&gt; maybeS = sieve.remove(c);\n        if (maybeS != null)\n            s = maybeS;\n        else {\n            if (postponedSieve == null) {\n              postponedSieve = primes().iterator();\n              postponedSieve.nextInt();\n              this.p = postponedSieve.nextInt();\n              this.q = p*p;\n            }\n            if (c &lt; q) {\n              action.accept(c);\n              return true; //continue\n</code></pre>\n\n<p>I think that, with this change, even your first attempt at <code>primes()</code> should work.</p>\n\n<p>If you want to stay with your current approach, you could involve the following idiom:</p>\n\n<pre><code>Stream.&lt;Supplier&lt;IntStream&gt;&gt;of(\n  ()-&gt;IntStream.of(2, 3, 5, 7),\n  ()-&gt;intStream(new PrimeSpliterator()))\n.flatMap(Supplier::get);\n</code></pre>\n\n<p>You may find that this gives you as much laziness as you need.</p>\n"},{"tags":[],"owner":{"account_id":24392010,"reputation":56,"user_id":18321854,"display_name":"selalerercapitolis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655711960,"creation_date":1655711960,"answer_id":72683894,"question_id":31254016,"body_markdown":"I like to use `Supplier` to do that:\r\n\r\n    return Stream.&lt;Supplier&lt;Stream&lt;WhatEver&gt;&gt;of(\r\n      () -&gt; generateStreamOfWhatEverAndChangeSomeState(input, state),\r\n      () -&gt; generateStreamOfMoreWhatEversDependendingOnMutatedState(state)\r\n    ).flatMap(Supplier::get);\r\n\r\nSince stream is lazily evaluated the `generateStreamOfWhatEverAndChangeSomeState()` will finish before `generateStreamOfMoreWhatEversDependendingOnMutatedState()` start and the `state` would be updated.\r\n\r\nI should note that this is probably not what the designers of `Stream` had in mind. Idealy a `Stream` should not change state, only read each item and produce a new item.","title":"How do I lazily concatenate streams?","body":"<p>I like to use <code>Supplier</code> to do that:</p>\n<pre><code>return Stream.&lt;Supplier&lt;Stream&lt;WhatEver&gt;&gt;of(\n  () -&gt; generateStreamOfWhatEverAndChangeSomeState(input, state),\n  () -&gt; generateStreamOfMoreWhatEversDependendingOnMutatedState(state)\n).flatMap(Supplier::get);\n</code></pre>\n<p>Since stream is lazily evaluated the <code>generateStreamOfWhatEverAndChangeSomeState()</code> will finish before <code>generateStreamOfMoreWhatEversDependendingOnMutatedState()</code> start and the <code>state</code> would be updated.</p>\n<p>I should note that this is probably not what the designers of <code>Stream</code> had in mind. Idealy a <code>Stream</code> should not change state, only read each item and produce a new item.</p>\n"},{"tags":[],"owner":{"account_id":23858475,"reputation":1,"user_id":17861730,"display_name":"ds1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693792864,"creation_date":1693792864,"answer_id":77034746,"question_id":31254016,"body_markdown":"@selalerercapitolis&#39;s answer was very helpful for my use case, which has nothing to do with mutation: to get elements from the concatenated stream until one of the elements doesn&#39;t have a certain property.\r\n\r\nExample:\r\n```\r\nStream&lt;String&gt; concatenated = Stream.of(supplierA, supplierB).flatMap(Supplier::get); // selalerercapitolis&#39;s answer.\r\nList&lt;String&gt; result = concatenated.takeWhile(s -&gt; s.length() &gt; 5).toList();\r\n```\r\n\r\n`supplierB` generates a stream that is a bit expensive to create, so I was avoiding creating it if one of the elements generated by `supplierA` fails the condition tested by `takeWhile()`. That is, if `result` will only contain elements generated by `supplierA`.","title":"How do I lazily concatenate streams?","body":"<p>@selalerercapitolis's answer was very helpful for my use case, which has nothing to do with mutation: to get elements from the concatenated stream until one of the elements doesn't have a certain property.</p>\n<p>Example:</p>\n<pre><code>Stream&lt;String&gt; concatenated = Stream.of(supplierA, supplierB).flatMap(Supplier::get); // selalerercapitolis's answer.\nList&lt;String&gt; result = concatenated.takeWhile(s -&gt; s.length() &gt; 5).toList();\n</code></pre>\n<p><code>supplierB</code> generates a stream that is a bit expensive to create, so I was avoiding creating it if one of the elements generated by <code>supplierA</code> fails the condition tested by <code>takeWhile()</code>. That is, if <code>result</code> will only contain elements generated by <code>supplierA</code>.</p>\n"}],"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2124,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1693792864,"creation_date":1436210765,"question_id":31254016,"body_markdown":"I&#39;m trying to implement a stream that uses another instance of itself in its implementation.  The stream has a few constant elements prepended (with IntStream.concat) to it, so this should work as long as the concatenated stream creates the non-constant part lazily.  I think using the [StreamSupport.intStream overload taking a Supplier](https://docs.oracle.com/javase/8/docs/api/java/util/stream/StreamSupport.html#intStream-java.util.function.Supplier-int-boolean-) with IntStream.concat (which [&quot;creates a lazily concatenated stream&quot;](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#concat-java.util.stream.IntStream-java.util.stream.IntStream-)) should be lazy enough to only create the second spliterator when elements are demanded from it, but even creating the stream (not evaluating it) overflows the stack.  How can I lazily concatenate streams?\r\n\r\n---\r\n\r\nI&#39;m attempting to port the streaming prime number sieve from [this answer](https://stackoverflow.com/a/10733621/3614835) into Java.  This sieve uses another instance of itself (`ps = postponed_sieve()` in the Python code).  If I break the initial four constant elements (`yield 2; yield 3; yield 5; yield 7;`) into their own stream, it&#39;s easy to implement the generator as a spliterator:\r\n\r\n    /**\r\n\t * based on https://stackoverflow.com/a/10733621/3614835\r\n\t */\r\n\tstatic class PrimeSpliterator extends Spliterators.AbstractIntSpliterator {\r\n\t\tprivate static final int CHARACTERISTICS = Spliterator.DISTINCT | Spliterator.IMMUTABLE | Spliterator.NONNULL | Spliterator.ORDERED | Spliterator.SORTED;\r\n\t\tprivate final Map&lt;Integer, Supplier&lt;IntStream&gt;&gt; sieve = new HashMap&lt;&gt;();\r\n\t\tprivate final PrimitiveIterator.OfInt postponedSieve = primes().iterator();\r\n\t\tprivate int p, q, c = 9;\r\n\t\tprivate Supplier&lt;IntStream&gt; s;\r\n\t\tPrimeSpliterator() {\r\n\t\t\tsuper(105097564 /* according to Wolfram Alpha */ - 4 /* in prefix */,\r\n\t\t\t\t\tCHARACTERISTICS);\r\n\t\t\t//p = next(ps) and next(ps) (that&#39;s Pythonic?)\r\n\t\t\tpostponedSieve.nextInt();\r\n\t\t\tthis.p = postponedSieve.nextInt();\r\n\t\t\tthis.q = p*p;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean tryAdvance(IntConsumer action) {\r\n\t\t\tfor (; c &gt; 0 /* overflow */; c += 2) {\r\n\t\t\t\tSupplier&lt;IntStream&gt; maybeS = sieve.remove(c);\r\n\t\t\t\tif (maybeS != null)\r\n\t\t\t\t\ts = maybeS;\r\n\t\t\t\telse if (c &lt; q) {\r\n\t\t\t\t\taction.accept(c);\r\n\t\t\t\t\treturn true; //continue\r\n\t\t\t\t} else {\r\n\t\t\t\t\ts = () -&gt; IntStream.iterate(q+2*p, x -&gt; x + 2*p);\r\n\t\t\t\t\tp = postponedSieve.nextInt();\r\n\t\t\t\t\tq = p*p;\r\n\t\t\t\t}\r\n\t\t\t\tint m = s.get().filter(x -&gt; !sieve.containsKey(x)).findFirst().getAsInt();\r\n\t\t\t\tsieve.put(m, s);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\nMy first attempt at the primes() method returns an IntStream concatenating a constant stream with a new PrimeSpliterator:\r\n\r\n    public static IntStream primes() {\r\n\t\treturn IntStream.concat(IntStream.of(2, 3, 5, 7),\r\n\t\t\t\tStreamSupport.intStream(new PrimeSpliterator()));\r\n\t}\r\n\r\nCalling primes() results in a StackOverflowError because primes() always instantiates a PrimeSpliterator, but PrimeSpliterator&#39;s field initializer always calls primes().  However, there&#39;s an overload of StreamSupport.intStream that takes a Supplier, which should allow lazily creating the PrimeSpliterator:\r\n\r\n    public static IntStream primes() {\r\n\t\treturn IntStream.concat(IntStream.of(2, 3, 5, 7),\r\n\t\t\t\tStreamSupport.intStream(PrimeSpliterator::new, PrimeSpliterator.CHARACTERISTICS, false));\r\n\t}\r\n\r\nHowever, I instead get a StackOverflowError with a different backtrace (trimmed, as it repeats).  Note that the recursion is entirely in the call to primes() -- the terminal operation iterator() is never invoked on a returned stream.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.StackOverflowError\r\n    \tat java.util.stream.StreamSpliterators$DelegatingSpliterator$OfInt.&lt;init&gt;(StreamSpliterators.java:582)\r\n    \tat java.util.stream.IntPipeline.lazySpliterator(IntPipeline.java:155)\r\n    \tat java.util.stream.IntPipeline$Head.lazySpliterator(IntPipeline.java:514)\r\n    \tat java.util.stream.AbstractPipeline.spliterator(AbstractPipeline.java:352)\r\n    \tat java.util.stream.IntPipeline.spliterator(IntPipeline.java:181)\r\n    \tat java.util.stream.IntStream.concat(IntStream.java:851)\r\n    \tat com.jeffreybosboom.projecteuler.util.Primes.primes(Primes.java:22)\r\n    \tat com.jeffreybosboom.projecteuler.util.Primes$PrimeSpliterator.&lt;init&gt;(Primes.java:32)\r\n    \tat com.jeffreybosboom.projecteuler.util.Primes$$Lambda$1/834600351.get(Unknown Source)\r\n    \tat java.util.stream.StreamSpliterators$DelegatingSpliterator.get(StreamSpliterators.java:513)\r\n    \tat java.util.stream.StreamSpliterators$DelegatingSpliterator.estimateSize(StreamSpliterators.java:536)\r\n    \tat java.util.stream.Streams$ConcatSpliterator.&lt;init&gt;(Streams.java:713)\r\n    \tat java.util.stream.Streams$ConcatSpliterator$OfPrimitive.&lt;init&gt;(Streams.java:789)\r\n    \tat java.util.stream.Streams$ConcatSpliterator$OfPrimitive.&lt;init&gt;(Streams.java:785)\r\n    \tat java.util.stream.Streams$ConcatSpliterator$OfInt.&lt;init&gt;(Streams.java:819)\r\n    \tat java.util.stream.IntStream.concat(IntStream.java:851)\r\n    \tat com.jeffreybosboom.projecteuler.util.Primes.primes(Primes.java:22)\r\n    \tat com.jeffreybosboom.projecteuler.util.Primes$PrimeSpliterator.&lt;init&gt;(Primes.java:32)\r\n    \tat com.jeffreybosboom.projecteuler.util.Primes$$Lambda$1/834600351.get(Unknown Source)\r\n    \tat java.util.stream.StreamSpliterators$DelegatingSpliterator.get(StreamSpliterators.java:513)\r\n    \tat java.util.stream.StreamSpliterators$DelegatingSpliterator.estimateSize(StreamSpliterators.java:536)\r\n    \tat java.util.stream.Streams$ConcatSpliterator.&lt;init&gt;(Streams.java:713)\r\n    \tat java.util.stream.Streams$ConcatSpliterator$OfPrimitive.&lt;init&gt;(Streams.java:789)\r\n    \tat java.util.stream.Streams$ConcatSpliterator$OfPrimitive.&lt;init&gt;(Streams.java:785)\r\n    \tat java.util.stream.Streams$ConcatSpliterator$OfInt.&lt;init&gt;(Streams.java:819)\r\n    \tat java.util.stream.IntStream.concat(IntStream.java:851)\r\n    \tat com.jeffreybosboom.projecteuler.util.Primes.primes(Primes.java:22)\r\n\r\nHow can I concatenate streams lazily enough to allow a stream to use another copy of itself in its implementation?","title":"How do I lazily concatenate streams?","body":"<p>I'm trying to implement a stream that uses another instance of itself in its implementation.  The stream has a few constant elements prepended (with IntStream.concat) to it, so this should work as long as the concatenated stream creates the non-constant part lazily.  I think using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/StreamSupport.html#intStream-java.util.function.Supplier-int-boolean-\" rel=\"noreferrer\">StreamSupport.intStream overload taking a Supplier</a> with IntStream.concat (which <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#concat-java.util.stream.IntStream-java.util.stream.IntStream-\" rel=\"noreferrer\">\"creates a lazily concatenated stream\"</a>) should be lazy enough to only create the second spliterator when elements are demanded from it, but even creating the stream (not evaluating it) overflows the stack.  How can I lazily concatenate streams?</p>\n\n<hr>\n\n<p>I'm attempting to port the streaming prime number sieve from <a href=\"https://stackoverflow.com/a/10733621/3614835\">this answer</a> into Java.  This sieve uses another instance of itself (<code>ps = postponed_sieve()</code> in the Python code).  If I break the initial four constant elements (<code>yield 2; yield 3; yield 5; yield 7;</code>) into their own stream, it's easy to implement the generator as a spliterator:</p>\n\n<pre><code>/**\n * based on https://stackoverflow.com/a/10733621/3614835\n */\nstatic class PrimeSpliterator extends Spliterators.AbstractIntSpliterator {\n    private static final int CHARACTERISTICS = Spliterator.DISTINCT | Spliterator.IMMUTABLE | Spliterator.NONNULL | Spliterator.ORDERED | Spliterator.SORTED;\n    private final Map&lt;Integer, Supplier&lt;IntStream&gt;&gt; sieve = new HashMap&lt;&gt;();\n    private final PrimitiveIterator.OfInt postponedSieve = primes().iterator();\n    private int p, q, c = 9;\n    private Supplier&lt;IntStream&gt; s;\n    PrimeSpliterator() {\n        super(105097564 /* according to Wolfram Alpha */ - 4 /* in prefix */,\n                CHARACTERISTICS);\n        //p = next(ps) and next(ps) (that's Pythonic?)\n        postponedSieve.nextInt();\n        this.p = postponedSieve.nextInt();\n        this.q = p*p;\n    }\n\n    @Override\n    public boolean tryAdvance(IntConsumer action) {\n        for (; c &gt; 0 /* overflow */; c += 2) {\n            Supplier&lt;IntStream&gt; maybeS = sieve.remove(c);\n            if (maybeS != null)\n                s = maybeS;\n            else if (c &lt; q) {\n                action.accept(c);\n                return true; //continue\n            } else {\n                s = () -&gt; IntStream.iterate(q+2*p, x -&gt; x + 2*p);\n                p = postponedSieve.nextInt();\n                q = p*p;\n            }\n            int m = s.get().filter(x -&gt; !sieve.containsKey(x)).findFirst().getAsInt();\n            sieve.put(m, s);\n        }\n        return false;\n    }\n}\n</code></pre>\n\n<p>My first attempt at the primes() method returns an IntStream concatenating a constant stream with a new PrimeSpliterator:</p>\n\n<pre><code>public static IntStream primes() {\n    return IntStream.concat(IntStream.of(2, 3, 5, 7),\n            StreamSupport.intStream(new PrimeSpliterator()));\n}\n</code></pre>\n\n<p>Calling primes() results in a StackOverflowError because primes() always instantiates a PrimeSpliterator, but PrimeSpliterator's field initializer always calls primes().  However, there's an overload of StreamSupport.intStream that takes a Supplier, which should allow lazily creating the PrimeSpliterator:</p>\n\n<pre><code>public static IntStream primes() {\n    return IntStream.concat(IntStream.of(2, 3, 5, 7),\n            StreamSupport.intStream(PrimeSpliterator::new, PrimeSpliterator.CHARACTERISTICS, false));\n}\n</code></pre>\n\n<p>However, I instead get a StackOverflowError with a different backtrace (trimmed, as it repeats).  Note that the recursion is entirely in the call to primes() -- the terminal operation iterator() is never invoked on a returned stream.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.StackOverflowError\n    at java.util.stream.StreamSpliterators$DelegatingSpliterator$OfInt.&lt;init&gt;(StreamSpliterators.java:582)\n    at java.util.stream.IntPipeline.lazySpliterator(IntPipeline.java:155)\n    at java.util.stream.IntPipeline$Head.lazySpliterator(IntPipeline.java:514)\n    at java.util.stream.AbstractPipeline.spliterator(AbstractPipeline.java:352)\n    at java.util.stream.IntPipeline.spliterator(IntPipeline.java:181)\n    at java.util.stream.IntStream.concat(IntStream.java:851)\n    at com.jeffreybosboom.projecteuler.util.Primes.primes(Primes.java:22)\n    at com.jeffreybosboom.projecteuler.util.Primes$PrimeSpliterator.&lt;init&gt;(Primes.java:32)\n    at com.jeffreybosboom.projecteuler.util.Primes$$Lambda$1/834600351.get(Unknown Source)\n    at java.util.stream.StreamSpliterators$DelegatingSpliterator.get(StreamSpliterators.java:513)\n    at java.util.stream.StreamSpliterators$DelegatingSpliterator.estimateSize(StreamSpliterators.java:536)\n    at java.util.stream.Streams$ConcatSpliterator.&lt;init&gt;(Streams.java:713)\n    at java.util.stream.Streams$ConcatSpliterator$OfPrimitive.&lt;init&gt;(Streams.java:789)\n    at java.util.stream.Streams$ConcatSpliterator$OfPrimitive.&lt;init&gt;(Streams.java:785)\n    at java.util.stream.Streams$ConcatSpliterator$OfInt.&lt;init&gt;(Streams.java:819)\n    at java.util.stream.IntStream.concat(IntStream.java:851)\n    at com.jeffreybosboom.projecteuler.util.Primes.primes(Primes.java:22)\n    at com.jeffreybosboom.projecteuler.util.Primes$PrimeSpliterator.&lt;init&gt;(Primes.java:32)\n    at com.jeffreybosboom.projecteuler.util.Primes$$Lambda$1/834600351.get(Unknown Source)\n    at java.util.stream.StreamSpliterators$DelegatingSpliterator.get(StreamSpliterators.java:513)\n    at java.util.stream.StreamSpliterators$DelegatingSpliterator.estimateSize(StreamSpliterators.java:536)\n    at java.util.stream.Streams$ConcatSpliterator.&lt;init&gt;(Streams.java:713)\n    at java.util.stream.Streams$ConcatSpliterator$OfPrimitive.&lt;init&gt;(Streams.java:789)\n    at java.util.stream.Streams$ConcatSpliterator$OfPrimitive.&lt;init&gt;(Streams.java:785)\n    at java.util.stream.Streams$ConcatSpliterator$OfInt.&lt;init&gt;(Streams.java:819)\n    at java.util.stream.IntStream.concat(IntStream.java:851)\n    at com.jeffreybosboom.projecteuler.util.Primes.primes(Primes.java:22)\n</code></pre>\n\n<p>How can I concatenate streams lazily enough to allow a stream to use another copy of itself in its implementation?</p>\n"},{"tags":["java","ignite","apacheignite"],"answers":[{"tags":[],"owner":{"account_id":2182,"reputation":51860,"user_id":2998,"accept_rate":69,"display_name":"Stephen Darlington"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692621619,"creation_date":1692621619,"answer_id":76945369,"question_id":76939187,"body_markdown":"Whether or not it&#39;s concerning rather depends on what you&#39;re doing! In Ignite, all data is _stored_ off-heap. You&#39;d expect the off-heap size to increase as the amount of data stored increases. The heap is used to _process_ the data, so you&#39;d expect it to increase as you stream in data, run SQL queries, etc.","title":"How is Apache Ignite page memory related to heap and non-heap?","body":"<p>Whether or not it's concerning rather depends on what you're doing! In Ignite, all data is <em>stored</em> off-heap. You'd expect the off-heap size to increase as the amount of data stored increases. The heap is used to <em>process</em> the data, so you'd expect it to increase as you stream in data, run SQL queries, etc.</p>\n"}],"owner":{"account_id":17403057,"reputation":481,"user_id":12611597,"display_name":"jdk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693790407,"creation_date":1692531188,"question_id":76939187,"body_markdown":"I have java application running on ignite cluster.  \r\nIn ignite logs there are various parameters are logged.\r\n\r\neg., heap, non heap and pagememory.\r\n\r\nignite.log\r\n\r\n```\r\n    ^-- PageMemory [pages=82885]\r\n    ^-- Heap [used=661MB, free=89.24%, comm=6144MB]\r\n    ^-- Non heap [used=129MB, free=-1%, comm=139MB]\r\n```\r\n\r\nThe application has around 6Gb heap configured. Non Heap and pagememory parameters are not configured.  \r\nIn ignite logs, heap usage in always below designated quota.\r\n\r\nIn same logs non heap values are logged around 140mb max and they are used around 130mb.\r\n\r\nAnd pagememory values are like around 50k-900k. This values gradually increases. When application is started it is around 60k, after two days it reaches 300k. No impact on application performance.\r\n\r\nIs this increase in pagememory really concerning, as there isn&#39;t much documentation available relating pagememory to heap, nonheap?","title":"How is Apache Ignite page memory related to heap and non-heap?","body":"<p>I have java application running on ignite cluster.<br />\nIn ignite logs there are various parameters are logged.</p>\n<p>eg., heap, non heap and pagememory.</p>\n<p>ignite.log</p>\n<pre><code>    ^-- PageMemory [pages=82885]\n    ^-- Heap [used=661MB, free=89.24%, comm=6144MB]\n    ^-- Non heap [used=129MB, free=-1%, comm=139MB]\n</code></pre>\n<p>The application has around 6Gb heap configured. Non Heap and pagememory parameters are not configured.<br />\nIn ignite logs, heap usage in always below designated quota.</p>\n<p>In same logs non heap values are logged around 140mb max and they are used around 130mb.</p>\n<p>And pagememory values are like around 50k-900k. This values gradually increases. When application is started it is around 60k, after two days it reaches 300k. No impact on application performance.</p>\n<p>Is this increase in pagememory really concerning, as there isn't much documentation available relating pagememory to heap, nonheap?</p>\n"},{"tags":["java","var"],"comments":[{"owner":{"display_name":"user7655213"},"score":5,"creation_date":1595592481,"post_id":63073153,"comment_id":111535851,"body_markdown":"It&#39;ll be the actual type, i. e. the implementation. (A class can implement multiple interfaces.)","body":"It&#39;ll be the actual type, i. e. the implementation. (A class can implement multiple interfaces.)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1595592589,"post_id":63073153,"comment_id":111535898,"body_markdown":"See G5 here: https://openjdk.java.net/projects/amber/LVTIstyle.html","body":"See G5 here: <a href=\"https://openjdk.java.net/projects/amber/LVTIstyle.html\" rel=\"nofollow noreferrer\">openjdk.java.net/projects/amber/LVTIstyle.html</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1595592792,"post_id":63073153,"comment_id":111535975,"body_markdown":"The recommendation of &quot;programming to the interface&quot; is somewhat relaxed for local variables.","body":"The recommendation of &quot;programming to the interface&quot; is somewhat relaxed for local variables."},{"owner":{"account_id":4083471,"reputation":1723,"user_id":3353388,"accept_rate":62,"display_name":"Barat Sahdzijeu"},"score":0,"creation_date":1609747184,"post_id":63073153,"comment_id":115909079,"body_markdown":"@user7655213 not really, please check my sample code","body":"@user7655213 not really, please check my sample code"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1595592770,"creation_date":1595592770,"answer_id":63073329,"question_id":63073153,"body_markdown":"The &#39;official&#39; Local Variable Type Inference style guide (https://openjdk.java.net/projects/amber/LVTIstyle.html) raises this concern, but says: \r\n\r\n&gt; &quot;It must be reiterated here that var can only be used for local\r\n&gt; variables. It cannot be used to infer field types, method parameter\r\n&gt; types, and method return types. The principle of &quot;programming to the\r\n&gt; interface&quot; is still as important as ever in those contexts.&quot;\r\n\r\n and \r\n\r\n&gt; &quot;If, as recommended in guideline G2, the scope of the local variable\r\n&gt; is small, the risks from &quot;leakage&quot; of the concrete implementation that\r\n&gt; can impact the subsequent code are limited.&quot;\r\n\r\n\r\n","title":"Var keyword in Java","body":"<p>The 'official' Local Variable Type Inference style guide (<a href=\"https://openjdk.java.net/projects/amber/LVTIstyle.html\" rel=\"noreferrer\">https://openjdk.java.net/projects/amber/LVTIstyle.html</a>) raises this concern, but says:</p>\n<blockquote>\n<p>&quot;It must be reiterated here that var can only be used for local\nvariables. It cannot be used to infer field types, method parameter\ntypes, and method return types. The principle of &quot;programming to the\ninterface&quot; is still as important as ever in those contexts.&quot;</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>&quot;If, as recommended in guideline G2, the scope of the local variable\nis small, the risks from &quot;leakage&quot; of the concrete implementation that\ncan impact the subsequent code are limited.&quot;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1894231,"reputation":1519,"user_id":1711558,"accept_rate":83,"display_name":"Dmitry Kaigorodov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595592821,"creation_date":1595592821,"answer_id":63073339,"question_id":63073153,"body_markdown":"The type will be exactly the same of the value the variable gets assigned to.\r\n\r\nIn case you are more concerned with interface over implementation idea: you can create function which returns interface type but creates a specific implementation instance inside.","title":"Var keyword in Java","body":"<p>The type will be exactly the same of the value the variable gets assigned to.</p>\n<p>In case you are more concerned with interface over implementation idea: you can create function which returns interface type but creates a specific implementation instance inside.</p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1677940477,"creation_date":1595593719,"answer_id":63073591,"question_id":63073153,"body_markdown":"Answer to your question:\r\n-\r\n&gt;What happens when the class I instantiate and assign to the variable declared with var, is the implementation of the interface? which type is it going to be inferred, Interface or the implementation?\r\n\r\nInferred type of the variable will be exactly *the class*, reference to the instance of which you&#39;re assigning to the variable declared with `var`.\r\n\r\nRegarding &quot;interface&quot; point: if it (class of the object, reference to which you assign to variable declared with &quot;var&quot;) is an implementation of some interface, what do you think will happen if that class implements two or more interfaces? how, do you think, Java should decide on which super-type (i.e. interface) to infer for the variable? this is impossible even by basing our judgement purely on a logic (without any relation to Java) - there will be no &quot;source of truth&quot;, by which, Java would be able to decide on this.\r\n\r\n---\r\nMotivation for *var* keyword:\r\n-\r\nRemember, that the only stated purpose of using `var`, according to the language designers (since JDK 10+), has been the point to beautify the code and make it more readable (which, I personally think, is a non-sense as having &quot;var&quot; in Java, is worse than having explicit types, and in many ways so).\r\n\r\nFor example, this code:\r\n\r\n    URL url = new URL(&quot;http://www.oracle.com/&quot;); \r\n    URLConnection conn = url.openConnection(); \r\n    Reader reader = new BufferedReader(\r\n    new InputStreamReader(conn.getInputStream()));\r\n\r\nis (according to official JEP document) less clear to read than:\r\n\r\n    var url = new URL(&quot;http://www.oracle.com/&quot;); \r\n    var conn = url.openConnection(); \r\n    var reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\n\r\n---\r\nImplementation details:\r\n-\r\n\r\n`var` was introduced with the purpose of serve the *cleaner/better readability* and NOT to amend the Type System of the Java language. That&#39;s why, you can&#39;t use it in the class level (for static or instance) fields, because fields might be used with polymorphism (might receive different implementation types, might be injected by IoC, or etc.) and at the bytecode, it&#39;s not possible to dynamically change the field type for each different case.\r\n\r\n---\r\nUpdate:\r\n=\r\nWhy I think &quot;var&quot; is bad and why I try to avoid it?\r\n-\r\nWell, for several reasons:\r\n1. code gets actually *harder* to read, and not only in a sense of merely reading it, but also in a sense, that you may have hard times when trying to understand what is the *actual* type you are getting the reference to. Imagine if the actual object creation expression is some long builder pattern code.. or factory pattern call.. or etc. you basically have to go and open/decompile the source and see what you get. So, it&#39;s harder to read and harder to understand;\r\n2. this will often lead (especially a bit less experienced in Java) engineers to confusion whether typing becomes dynamic or keeps static;\r\n3. polymorphic calls are not supported and polymorphism, in general, is not possible, because compiler cannot infer different types with the same code;\r\n4. code actually gets inconsistent, as you&#39;ll be having explicit types for fields and &quot;var&quot;s for local variables. This will also (but not only) confuse newcomers to Java;\r\n5. maybe not that important.. but this **can** be important as well: &quot;var&quot; will also break backwards compatibility, as you won&#39;t be able to downgrade to the Java version below 10.","title":"Var keyword in Java","body":"<h2>Answer to your question:</h2>\n<blockquote>\n<p>What happens when the class I instantiate and assign to the variable declared with var, is the implementation of the interface? which type is it going to be inferred, Interface or the implementation?</p>\n</blockquote>\n<p>Inferred type of the variable will be exactly <em>the class</em>, reference to the instance of which you're assigning to the variable declared with <code>var</code>.</p>\n<p>Regarding &quot;interface&quot; point: if it (class of the object, reference to which you assign to variable declared with &quot;var&quot;) is an implementation of some interface, what do you think will happen if that class implements two or more interfaces? how, do you think, Java should decide on which super-type (i.e. interface) to infer for the variable? this is impossible even by basing our judgement purely on a logic (without any relation to Java) - there will be no &quot;source of truth&quot;, by which, Java would be able to decide on this.</p>\n<hr />\n<h2>Motivation for <em>var</em> keyword:</h2>\n<p>Remember, that the only stated purpose of using <code>var</code>, according to the language designers (since JDK 10+), has been the point to beautify the code and make it more readable (which, I personally think, is a non-sense as having &quot;var&quot; in Java, is worse than having explicit types, and in many ways so).</p>\n<p>For example, this code:</p>\n<pre><code>URL url = new URL(&quot;http://www.oracle.com/&quot;); \nURLConnection conn = url.openConnection(); \nReader reader = new BufferedReader(\nnew InputStreamReader(conn.getInputStream()));\n</code></pre>\n<p>is (according to official JEP document) less clear to read than:</p>\n<pre><code>var url = new URL(&quot;http://www.oracle.com/&quot;); \nvar conn = url.openConnection(); \nvar reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\n</code></pre>\n<hr />\n<h2>Implementation details:</h2>\n<p><code>var</code> was introduced with the purpose of serve the <em>cleaner/better readability</em> and NOT to amend the Type System of the Java language. That's why, you can't use it in the class level (for static or instance) fields, because fields might be used with polymorphism (might receive different implementation types, might be injected by IoC, or etc.) and at the bytecode, it's not possible to dynamically change the field type for each different case.</p>\n<hr />\n<h1>Update:</h1>\n<h2>Why I think &quot;var&quot; is bad and why I try to avoid it?</h2>\n<p>Well, for several reasons:</p>\n<ol>\n<li>code gets actually <em>harder</em> to read, and not only in a sense of merely reading it, but also in a sense, that you may have hard times when trying to understand what is the <em>actual</em> type you are getting the reference to. Imagine if the actual object creation expression is some long builder pattern code.. or factory pattern call.. or etc. you basically have to go and open/decompile the source and see what you get. So, it's harder to read and harder to understand;</li>\n<li>this will often lead (especially a bit less experienced in Java) engineers to confusion whether typing becomes dynamic or keeps static;</li>\n<li>polymorphic calls are not supported and polymorphism, in general, is not possible, because compiler cannot infer different types with the same code;</li>\n<li>code actually gets inconsistent, as you'll be having explicit types for fields and &quot;var&quot;s for local variables. This will also (but not only) confuse newcomers to Java;</li>\n<li>maybe not that important.. but this <strong>can</strong> be important as well: &quot;var&quot; will also break backwards compatibility, as you won't be able to downgrade to the Java version below 10.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1625155185,"creation_date":1595595048,"answer_id":63073929,"question_id":63073153,"body_markdown":"The other answers so far don&#39;t stress one important point, the distinction between compile-time deducible type and run-time instance class.\r\n\r\nSuppose we have\r\n\r\n    var data = Collections.singleton(&quot;test&quot;);\r\n\r\nThen, the compiler can see that `Collections.singleton(&quot;test&quot;)` is declared to return `Set&lt;String&gt;`. So `data` effectively gets declared as `Set&lt;String&gt;` (not e.g. `Collection&lt;String&gt;` nor `Object` nor `Collections.SingletonSet`). `Set&lt;String&gt;` is the most specific info the compiler can find out.\r\n\r\nWhen running, the instance referenced in `data` will be of some implementation class (e.g. `Collections.SingletonSet`), decided upon by the `Collections.singleton()` method, meaning that `data.getClass()` will not return the `Set` class, but something different that implements the `Set` interface, i.e. `Collections.SingletonSet`.\r\n\r\nSo we have to consider three types:\r\n\r\n 1. The run-time class of the instance that gets assigned to the variable (e.g. a `Collections.SingletonSet`). This will of course always be compatible with (2) and (3), and cannot be known at compile-time.\r\n 2. The compile-time type of the expression that you assign to the variable (e.g. `Set&lt;String&gt;`).\r\n 3. The declared type of the variable. Classically, you&#39;d find that explicitly left of the variable name, and when using the `var` keyword, the compiler treats it as if declared with the type from (2) (i.e. `Set&lt;String&gt;`).","title":"Var keyword in Java","body":"<p>The other answers so far don't stress one important point, the distinction between compile-time deducible type and run-time instance class.</p>\n<p>Suppose we have</p>\n<pre><code>var data = Collections.singleton(&quot;test&quot;);\n</code></pre>\n<p>Then, the compiler can see that <code>Collections.singleton(&quot;test&quot;)</code> is declared to return <code>Set&lt;String&gt;</code>. So <code>data</code> effectively gets declared as <code>Set&lt;String&gt;</code> (not e.g. <code>Collection&lt;String&gt;</code> nor <code>Object</code> nor <code>Collections.SingletonSet</code>). <code>Set&lt;String&gt;</code> is the most specific info the compiler can find out.</p>\n<p>When running, the instance referenced in <code>data</code> will be of some implementation class (e.g. <code>Collections.SingletonSet</code>), decided upon by the <code>Collections.singleton()</code> method, meaning that <code>data.getClass()</code> will not return the <code>Set</code> class, but something different that implements the <code>Set</code> interface, i.e. <code>Collections.SingletonSet</code>.</p>\n<p>So we have to consider three types:</p>\n<ol>\n<li>The run-time class of the instance that gets assigned to the variable (e.g. a <code>Collections.SingletonSet</code>). This will of course always be compatible with (2) and (3), and cannot be known at compile-time.</li>\n<li>The compile-time type of the expression that you assign to the variable (e.g. <code>Set&lt;String&gt;</code>).</li>\n<li>The declared type of the variable. Classically, you'd find that explicitly left of the variable name, and when using the <code>var</code> keyword, the compiler treats it as if declared with the type from (2) (i.e. <code>Set&lt;String&gt;</code>).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4083471,"reputation":1723,"user_id":3353388,"accept_rate":62,"display_name":"Barat Sahdzijeu"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1693789961,"creation_date":1609745315,"answer_id":65559064,"question_id":63073153,"body_markdown":"My 2 cents to correct the question and answers:\r\n\r\n 1. The `var` is **NOT a Java keyword**. It&#39;s a **reserved type name**. It seems not a big difference but in fact, it IS:\r\n\r\n    ```\r\n    var var = 0;\r\n    ```\r\n\r\n    Here `var` is a variable name too, so the `var` can be used as a type name, but there is no restriction like for regular keyword (i.e. we can have a variable named `var` too).\r\n\r\n 2. The actual type of the variable IS decided by the Java compiler on the line where the variable is declared, at compile-time, but the type is NOT actually the exact implementation you use on the right side of the expression. See this code:\r\n\r\n\r\n    ```\r\n    var i = true ? Integer.valueOf(1) : &quot;ABC&quot;;\r\n    ```\r\n\r\n    The Java compiler needs to pick a type for variable `i` which will satisfy both branches. It could be a) `Object`, b) `Serializable`, c) `Comparable`, or combination, or all three. We don&#39;t care and don&#39;t know.","title":"Var keyword in Java","body":"<p>My 2 cents to correct the question and answers:</p>\n<ol>\n<li><p>The <code>var</code> is <strong>NOT a Java keyword</strong>. It's a <strong>reserved type name</strong>. It seems not a big difference but in fact, it IS:</p>\n<pre><code>var var = 0;\n</code></pre>\n<p>Here <code>var</code> is a variable name too, so the <code>var</code> can be used as a type name, but there is no restriction like for regular keyword (i.e. we can have a variable named <code>var</code> too).</p>\n</li>\n<li><p>The actual type of the variable IS decided by the Java compiler on the line where the variable is declared, at compile-time, but the type is NOT actually the exact implementation you use on the right side of the expression. See this code:</p>\n<pre><code>var i = true ? Integer.valueOf(1) : &quot;ABC&quot;;\n</code></pre>\n<p>The Java compiler needs to pick a type for variable <code>i</code> which will satisfy both branches. It could be a) <code>Object</code>, b) <code>Serializable</code>, c) <code>Comparable</code>, or combination, or all three. We don't care and don't know.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":5980947,"reputation":383,"user_id":4700028,"display_name":"Harold Ibouanga"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32881,"favorite_count":0,"down_vote_count":4,"up_vote_count":36,"answer_count":5,"score":32,"last_activity_date":1693789961,"creation_date":1595592124,"question_id":63073153,"body_markdown":"With Java 10 or +, we can use var keyword for declaration. At initialization, a type is going to be inferred by the compiler. \r\n\r\nWhat happens when the class I instantiate and assign to the variable declared with `var`, is the implementation of the interface?  which type is it going to be inferred, Interface or the implementation?","title":"Var keyword in Java","body":"<p>With Java 10 or +, we can use var keyword for declaration. At initialization, a type is going to be inferred by the compiler.</p>\n<p>What happens when the class I instantiate and assign to the variable declared with <code>var</code>, is the implementation of the interface?  which type is it going to be inferred, Interface or the implementation?</p>\n"},{"tags":["java","spring-boot","azure-sql-database","azure-managed-identity","azure-container-apps"],"comments":[{"owner":{"account_id":5210616,"reputation":26054,"user_id":4167200,"accept_rate":91,"display_name":"Thomas"},"score":0,"creation_date":1693897254,"post_id":77034299,"comment_id":135816098,"body_markdown":"if you connect to the console can you reach the MSI endpoint form within the container app ?","body":"if you connect to the console can you reach the MSI endpoint form within the container app ?"},{"owner":{"account_id":1190669,"reputation":435,"user_id":1163543,"display_name":"dgolive"},"score":0,"creation_date":1694196111,"post_id":77034299,"comment_id":135864327,"body_markdown":"it&#39;s unstable, using `az containerapp exec -n aca-main -g rg-test --command bash` connected and suddenly `ERROR: {&quot;Error&quot;:{&quot;Code&quot;:&quot;ClusterExecEndpointWebSocketConnectionError&quot;,&quot;Message&quot;:&quot;Failed to establish WebSocket connection with the container, error is Failed to establish WebSocket connection with Managed Environment exec endpoint, error: The server returned status code \\u0027500\\u0027 when status code \\u0027101\\u0027 was expected..&quot;,&quot;Details&quot;:null,&quot;Target&quot;:null,&quot;AdditionalInfo&quot;:null}} Disconnecting...`","body":"it&#39;s unstable, using <code>az containerapp exec -n aca-main -g rg-test --command bash</code> connected and suddenly <code>ERROR: {&quot;Error&quot;:{&quot;Code&quot;:&quot;ClusterExecEndpointWebSocketConnectionErro&zwnj;&#8203;r&quot;,&quot;Message&quot;:&quot;Failed to establish WebSocket connection with the container, error is Failed to establish WebSocket connection with Managed Environment exec endpoint, error: The server returned status code \\u0027500\\u0027 when status code \\u0027101\\u0027 was expected..&quot;,&quot;Details&quot;:null,&quot;Target&quot;:null,&quot;AdditionalInfo&quot;:nu&zwnj;&#8203;ll}} Disconnecting...</code>"},{"owner":{"account_id":1190669,"reputation":435,"user_id":1163543,"display_name":"dgolive"},"score":0,"creation_date":1694277405,"post_id":77034299,"comment_id":135871571,"body_markdown":"UPDATE: upgrading version of mssql-jdbc from 11.2.3.jre17 to 12.3.0.jre17-preview and azure-identity from 1.5.4 to 1.9.0 result in `com.azure.identity.CredentialUnavailableException: Managed Identity authentication is not available.`","body":"UPDATE: upgrading version of mssql-jdbc from 11.2.3.jre17 to 12.3.0.jre17-preview and azure-identity from 1.5.4 to 1.9.0 result in <code>com.azure.identity.CredentialUnavailableException: Managed Identity authentication is not available.</code>"},{"owner":{"account_id":14577408,"reputation":161,"user_id":10528903,"display_name":"Nick"},"score":0,"creation_date":1696258360,"post_id":77034299,"comment_id":136126657,"body_markdown":"@dgolive I am struggling with the same. Did you figure it out?","body":"@dgolive I am struggling with the same. Did you figure it out?"}],"owner":{"account_id":1190669,"reputation":435,"user_id":1163543,"display_name":"dgolive"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693788001,"creation_date":1693778073,"question_id":77034299,"body_markdown":"I&#39;m receiving the error below when deploy a container apps connecting to SQL database using user-assigned managed identity.\r\n\r\n```\r\nERROR 1 --- [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Exception during pool initialization.\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: MSI Token failure: Failed to acquire token from MSI Endpoint\r\nat com.microsoft.sqlserver.jdbc.SQLServerSecurityUtility.getMSIAuthToken(SQLServerSecurityUtility.java:499) ~[mssql-jdbc-11.2.3.jre17.jar:na]\r\n...\r\n```\r\n\r\nHere are the important parts of my Spring Boot application:\r\n\r\n*pom.xml*\r\n``` xml\r\n...\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n...\r\n```\r\n\r\n*application.properties*\r\n```\r\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\r\nspring.datasource.url=jdbc:sqlserver://danieltestsqlserver1101.database.windows.net:1433;databaseName=testdatabase01;msiClientId=&lt;managed-identity-client-id&gt;;authentication=ActiveDirectoryMSI;\r\n```\r\n\r\nAnd here is my Azure setup:\r\n\r\n1. User-assigned managed identity &quot;mi-test-app&quot; created.\r\n2. AD group &quot;DB admin&quot; created with &quot;mi-test-app&quot; and my main user as owners and members.\r\n3. SQL server created and &quot;DB admin&quot; group set as administrator.\r\n4. Private endpoint created for SQL server (public access was disabled).\r\n5. Private DNS zone created and proper virtual network link added.\r\n6. SQL database created and configured with:\r\n\r\n``` sql\r\nCREATE USER [mi-test-app] FROM EXTERNAL PROVIDER;\r\nALTER ROLE db_datareader ADD MEMBER [mi-test-app];\r\nALTER ROLE db_datawriter ADD MEMBER [mi-test-app];\r\nALTER ROLE db_ddladmin ADD MEMBER [mi-test-app];\r\nGO\r\n```\r\n\r\n7. Container apps created with new own environment.\r\n8. Managed identity &quot;mi-test-app&quot; added as identity in container apps.\r\n9. Container apps revision restarted.\r\n\r\nWhen started, the process fail with the error above.\r\n\r\nI tried to set SQL server with public access and allowing Azure services and resources to access it but doesn&#39;t work.\r\n\r\nAny help would be welcome.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/085P8.png","title":"Container apps connecting to SQL database using user-assigned managed identity: Failed to acquire token from MSI Endpoint (MSI Token failure)","body":"<p>I'm receiving the error below when deploy a container apps connecting to SQL database using user-assigned managed identity.</p>\n<pre><code>ERROR 1 --- [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Exception during pool initialization.\ncom.microsoft.sqlserver.jdbc.SQLServerException: MSI Token failure: Failed to acquire token from MSI Endpoint\nat com.microsoft.sqlserver.jdbc.SQLServerSecurityUtility.getMSIAuthToken(SQLServerSecurityUtility.java:499) ~[mssql-jdbc-11.2.3.jre17.jar:na]\n...\n</code></pre>\n<p>Here are the important parts of my Spring Boot application:</p>\n<p><em>pom.xml</em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n            &lt;version&gt;1.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n...\n</code></pre>\n<p><em>application.properties</em></p>\n<pre><code>spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\nspring.datasource.url=jdbc:sqlserver://danieltestsqlserver1101.database.windows.net:1433;databaseName=testdatabase01;msiClientId=&lt;managed-identity-client-id&gt;;authentication=ActiveDirectoryMSI;\n</code></pre>\n<p>And here is my Azure setup:</p>\n<ol>\n<li>User-assigned managed identity &quot;mi-test-app&quot; created.</li>\n<li>AD group &quot;DB admin&quot; created with &quot;mi-test-app&quot; and my main user as owners and members.</li>\n<li>SQL server created and &quot;DB admin&quot; group set as administrator.</li>\n<li>Private endpoint created for SQL server (public access was disabled).</li>\n<li>Private DNS zone created and proper virtual network link added.</li>\n<li>SQL database created and configured with:</li>\n</ol>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE USER [mi-test-app] FROM EXTERNAL PROVIDER;\nALTER ROLE db_datareader ADD MEMBER [mi-test-app];\nALTER ROLE db_datawriter ADD MEMBER [mi-test-app];\nALTER ROLE db_ddladmin ADD MEMBER [mi-test-app];\nGO\n</code></pre>\n<ol start=\"7\">\n<li>Container apps created with new own environment.</li>\n<li>Managed identity &quot;mi-test-app&quot; added as identity in container apps.</li>\n<li>Container apps revision restarted.</li>\n</ol>\n<p>When started, the process fail with the error above.</p>\n<p>I tried to set SQL server with public access and allowing Azure services and resources to access it but doesn't work.</p>\n<p>Any help would be welcome.</p>\n<p><a href=\"https://i.stack.imgur.com/085P8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/085P8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","onclick","calculator"],"comments":[{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":1,"creation_date":1693758798,"post_id":77032925,"comment_id":135799786,"body_markdown":"You should edit your question and paste the exception message and stack trace from the logcat into your question. Only then can we see why your app is crashing.","body":"You should edit your question and paste the exception message and stack trace from the logcat into your question. Only then can we see why your app is crashing."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1693764922,"post_id":77032925,"comment_id":135800578,"body_markdown":"Your code is most likely failing on `Double.parseDouble` if the string is not a valid double (like &quot;1+&quot;). If you &quot;tried exception handling&quot; - show what you tried and describe what happened with actual information, not just &quot;it didn&#39;t work&quot;. Show the Logcat with the full error message.","body":"Your code is most likely failing on <code>Double.parseDouble</code> if the string is not a valid double (like &quot;1+&quot;). If you &quot;tried exception handling&quot; - show what you tried and describe what happened with actual information, not just &quot;it didn&#39;t work&quot;. Show the Logcat with the full error message."},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1693804842,"post_id":77032925,"comment_id":135803657,"body_markdown":"Please share also error message","body":"Please share also error message"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693783726,"creation_date":1693782846,"answer_id":77034453,"question_id":77032925,"body_markdown":"&gt; _&quot;... The app works fine until I click the button for Square operation i.e. `x^2` button in the app when there is no input taken or when I click the Square operation button after any operator. ...&quot;_\r\n\r\nAdditionally check if _tvMain.getText().toString()_ can be parsed without throwing a _[NumberFormatException](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/NumberFormatException.html)_.  \r\nAnd, I suggest using _[String#isBlank](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#isBlank())_ over _[isEmpty](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#isEmpty())_.\r\n\r\nIn this example I am using a _boolean_ to contain the input validity.  \r\nOnly setting it to _true_ once it has parsed successfully.\r\n\r\n```java\r\nbsquare.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n        String string = tvMain.getText().toString();\r\n        boolean valid = false;\r\n        double d = 0;\r\n        if (string != null &amp;&amp; !string.isBlank()) {\r\n            try {\r\n                d = Double.parseDouble(string);\r\n                valid = true;\r\n            } catch (NumberFormatException exception) { }\r\n        }\r\n        if (!valid)\r\n            Toast.makeText(MainActivity.this, &quot;Please enter a valid number..&quot;, Toast.LENGTH_SHORT).show();\r\n        else {\r\n            double square = d * d;\r\n            tvMain.setText(String.valueOf(square));\r\n            tvsec.setText(d + &quot;&#178;&quot;);\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nThe _Java_ documentation for _Double#valueOf_ has some helpful information on this type of input situation.\r\n\r\n_[Double#valueOf (Java SE 20 &amp;amp; JDK 20)](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#valueOf(java.lang.String))_,\r\n\r\n&gt; _... To avoid calling this method on an invalid string and having a NumberFormatException be thrown, the regular expression below can be used to screen the input string:_\r\n&gt;\r\n&gt; ```java\r\n&gt; final String Digits     = &quot;(\\\\p{Digit}+)&quot;;\r\n&gt; final String HexDigits  = &quot;(\\\\p{XDigit}+)&quot;;\r\n&gt; // an exponent is &#39;e&#39; or &#39;E&#39; followed by an optionally\r\n&gt; // signed decimal integer.\r\n&gt; final String Exp        = &quot;[eE][+-]?&quot;+Digits;\r\n&gt; final String fpRegex    =\r\n&gt;     (&quot;[\\\\x00-\\\\x20]*&quot;+  // Optional leading &quot;whitespace&quot;\r\n&gt;      &quot;[+-]?(&quot; + // Optional sign character\r\n&gt;      &quot;NaN|&quot; +           // &quot;NaN&quot; string\r\n&gt;      &quot;Infinity|&quot; +      // &quot;Infinity&quot; string\r\n&gt;\r\n&gt;      // A decimal floating-point string representing a finite positive\r\n&gt;      // number without a leading sign has at most five basic pieces:\r\n&gt;      // Digits . Digits ExponentPart FloatTypeSuffix\r\n&gt;      //\r\n&gt;      // Since this method allows integer-only strings as input\r\n&gt;      // in addition to strings of floating-point literals, the\r\n&gt;      // two sub-patterns below are simplifications of the grammar\r\n&gt;      // productions from section 3.10.2 of\r\n&gt;      // The Java Language Specification.\r\n&gt;\r\n&gt;      // Digits ._opt Digits_opt ExponentPart_opt FloatTypeSuffix_opt\r\n&gt;      &quot;(((&quot;+Digits+&quot;(\\\\.)?(&quot;+Digits+&quot;?)(&quot;+Exp+&quot;)?)|&quot;+\r\n&gt;\r\n&gt;      // . Digits ExponentPart_opt FloatTypeSuffix_opt\r\n&gt;      &quot;(\\\\.(&quot;+Digits+&quot;)(&quot;+Exp+&quot;)?)|&quot;+\r\n&gt;\r\n&gt;      // Hexadecimal strings\r\n&gt;      &quot;((&quot; +\r\n&gt;       // 0[xX] HexDigits ._opt BinaryExponent FloatTypeSuffix_opt\r\n&gt;       &quot;(0[xX]&quot; + HexDigits + &quot;(\\\\.)?)|&quot; +\r\n&gt;\r\n&gt;       // 0[xX] HexDigits_opt . HexDigits BinaryExponent FloatTypeSuffix_opt\r\n&gt;       &quot;(0[xX]&quot; + HexDigits + &quot;?(\\\\.)&quot; + HexDigits + &quot;)&quot; +\r\n&gt;\r\n&gt;       &quot;)[pP][+-]?&quot; + Digits + &quot;))&quot; +\r\n&gt;      &quot;[fFdD]?))&quot; +\r\n&gt;      &quot;[\\\\x00-\\\\x20]*&quot;);// Optional trailing &quot;whitespace&quot;\r\n&gt; if (Pattern.matches(fpRegex, myString))\r\n&gt;     Double.valueOf(myString); // Will not throw NumberFormatException\r\n&gt; else {\r\n&gt;     // Perform suitable alternative action\r\n&gt; }\r\n&gt; ```\r\n\r\n&gt; _&quot;... When I enter the input `1+` and then when I try to enter `x^2`, it automatically exit from the app. I tried multiple Try catch block in order to stop the app from abruptly existing but it didn&#39;t work Below I have the code for onClick method of Square button ...&quot;_\r\n\r\nIn this situation, you can use the _[String#substring](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#substring(int,int))_ method, to isolate the number.\r\n\r\n```java\r\nString string = tvMain.getText().toString();\r\nstring = string.substring(0, string.length() - 1);\r\n```\r\n\r\nAlternately, if you are unsure how many appended operators there may be, you can use a _loop_ to trim the value.  \r\nIn this case, while the last character is not a digit.\r\n\r\n```java\r\nString string = tvMain.getText().toString();\r\nwhile (!Character.isDigit(string.charAt(string.length() - 1)))\r\n    string = string.substring(0, string.length() - 1);\r\n```\r\n\r\nHere is a re-factor.\r\n\r\n```java\r\nString string = tvMain.getText().toString();\r\nboolean valid = false;\r\ndouble d = 0;\r\nif (string != null &amp;&amp; !string.isBlank()) {\r\n    while (!Character.isDigit(string.charAt(string.length() - 1)))\r\n        string = string.substring(0, string.length() - 1);\r\n    try {\r\n        d = Double.parseDouble(string);\r\n        valid = true;\r\n    } catch (NumberFormatException exception) { }\r\n}\r\nif (!valid)\r\n    Toast.makeText(MainActivity.this, &quot;Please enter a valid number..&quot;, Toast.LENGTH_SHORT).show();\r\nelse {\r\n    double square = d * d;\r\n    tvMain.setText(String.valueOf(square));\r\n    tvsec.setText(d + &quot;&#178;&quot;);\r\n}\r\n```","title":"Square button(x^2) exception handling error in Calculator android app development","body":"<blockquote>\n<p><em>&quot;... The app works fine until I click the button for Square operation i.e. <code>x^2</code> button in the app when there is no input taken or when I click the Square operation button after any operator. ...&quot;</em></p>\n</blockquote>\n<p>Additionally check if <em>tvMain.getText().toString()</em> can be parsed without throwing a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/NumberFormatException.html\" rel=\"nofollow noreferrer\">NumberFormatException</a></em>.<br />\nAnd, I suggest using <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#isBlank()\" rel=\"nofollow noreferrer\">String#isBlank</a></em> over <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#isEmpty()\" rel=\"nofollow noreferrer\">isEmpty</a></em>.</p>\n<p>In this example I am using a <em>boolean</em> to contain the input validity.<br />\nOnly setting it to <em>true</em> once it has parsed successfully.</p>\n<pre class=\"lang-java prettyprint-override\"><code>bsquare.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        String string = tvMain.getText().toString();\n        boolean valid = false;\n        double d = 0;\n        if (string != null &amp;&amp; !string.isBlank()) {\n            try {\n                d = Double.parseDouble(string);\n                valid = true;\n            } catch (NumberFormatException exception) { }\n        }\n        if (!valid)\n            Toast.makeText(MainActivity.this, &quot;Please enter a valid number..&quot;, Toast.LENGTH_SHORT).show();\n        else {\n            double square = d * d;\n            tvMain.setText(String.valueOf(square));\n            tvsec.setText(d + &quot;²&quot;);\n        }\n    }\n});\n</code></pre>\n<p>The <em>Java</em> documentation for <em>Double#valueOf</em> has some helpful information on this type of input situation.</p>\n<p><em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#valueOf(java.lang.String)\" rel=\"nofollow noreferrer\">Double#valueOf (Java SE 20 &amp; JDK 20)</a></em>,</p>\n<blockquote>\n<p><em>... To avoid calling this method on an invalid string and having a NumberFormatException be thrown, the regular expression below can be used to screen the input string:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>final String Digits     = &quot;(\\\\p{Digit}+)&quot;;\nfinal String HexDigits  = &quot;(\\\\p{XDigit}+)&quot;;\n// an exponent is 'e' or 'E' followed by an optionally\n// signed decimal integer.\nfinal String Exp        = &quot;[eE][+-]?&quot;+Digits;\nfinal String fpRegex    =\n    (&quot;[\\\\x00-\\\\x20]*&quot;+  // Optional leading &quot;whitespace&quot;\n     &quot;[+-]?(&quot; + // Optional sign character\n     &quot;NaN|&quot; +           // &quot;NaN&quot; string\n     &quot;Infinity|&quot; +      // &quot;Infinity&quot; string\n\n     // A decimal floating-point string representing a finite positive\n     // number without a leading sign has at most five basic pieces:\n     // Digits . Digits ExponentPart FloatTypeSuffix\n     //\n     // Since this method allows integer-only strings as input\n     // in addition to strings of floating-point literals, the\n     // two sub-patterns below are simplifications of the grammar\n     // productions from section 3.10.2 of\n     // The Java Language Specification.\n\n     // Digits ._opt Digits_opt ExponentPart_opt FloatTypeSuffix_opt\n     &quot;(((&quot;+Digits+&quot;(\\\\.)?(&quot;+Digits+&quot;?)(&quot;+Exp+&quot;)?)|&quot;+\n\n     // . Digits ExponentPart_opt FloatTypeSuffix_opt\n     &quot;(\\\\.(&quot;+Digits+&quot;)(&quot;+Exp+&quot;)?)|&quot;+\n\n     // Hexadecimal strings\n     &quot;((&quot; +\n      // 0[xX] HexDigits ._opt BinaryExponent FloatTypeSuffix_opt\n      &quot;(0[xX]&quot; + HexDigits + &quot;(\\\\.)?)|&quot; +\n\n      // 0[xX] HexDigits_opt . HexDigits BinaryExponent FloatTypeSuffix_opt\n      &quot;(0[xX]&quot; + HexDigits + &quot;?(\\\\.)&quot; + HexDigits + &quot;)&quot; +\n\n      &quot;)[pP][+-]?&quot; + Digits + &quot;))&quot; +\n     &quot;[fFdD]?))&quot; +\n     &quot;[\\\\x00-\\\\x20]*&quot;);// Optional trailing &quot;whitespace&quot;\nif (Pattern.matches(fpRegex, myString))\n    Double.valueOf(myString); // Will not throw NumberFormatException\nelse {\n    // Perform suitable alternative action\n}\n</code></pre>\n</blockquote>\n<blockquote>\n<p><em>&quot;... When I enter the input <code>1+</code> and then when I try to enter <code>x^2</code>, it automatically exit from the app. I tried multiple Try catch block in order to stop the app from abruptly existing but it didn't work Below I have the code for onClick method of Square button ...&quot;</em></p>\n</blockquote>\n<p>In this situation, you can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#substring(int,int)\" rel=\"nofollow noreferrer\">String#substring</a></em> method, to isolate the number.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = tvMain.getText().toString();\nstring = string.substring(0, string.length() - 1);\n</code></pre>\n<p>Alternately, if you are unsure how many appended operators there may be, you can use a <em>loop</em> to trim the value.<br />\nIn this case, while the last character is not a digit.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = tvMain.getText().toString();\nwhile (!Character.isDigit(string.charAt(string.length() - 1)))\n    string = string.substring(0, string.length() - 1);\n</code></pre>\n<p>Here is a re-factor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = tvMain.getText().toString();\nboolean valid = false;\ndouble d = 0;\nif (string != null &amp;&amp; !string.isBlank()) {\n    while (!Character.isDigit(string.charAt(string.length() - 1)))\n        string = string.substring(0, string.length() - 1);\n    try {\n        d = Double.parseDouble(string);\n        valid = true;\n    } catch (NumberFormatException exception) { }\n}\nif (!valid)\n    Toast.makeText(MainActivity.this, &quot;Please enter a valid number..&quot;, Toast.LENGTH_SHORT).show();\nelse {\n    double square = d * d;\n    tvMain.setText(String.valueOf(square));\n    tvsec.setText(d + &quot;²&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":26669382,"reputation":1,"user_id":20281018,"display_name":"Abhijit Zende"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693783726,"creation_date":1693753982,"question_id":77032925,"body_markdown":"I am currently trying to develop a Calculator android app in android studio using Java. The app works fine until I click the button for Square operation i.e. `x^2` button in the app when there is no input taken or when I click the Square operation button after any operator. For e.g. When I enter the input `1+` and then when I try to enter `x^2`, it automatically exit from the app. I tried multiple Try catch block in order to stop the app from abruptly existing but it didn&#39;t work \r\nBelow I have the code for onClick method of Square button\r\n\r\n```java\r\nbsquare.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (tvMain.getText().toString().isEmpty()) {\r\n                        Toast.makeText(MainActivity.this, &quot;Please enter a valid number..&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        double d = Double.parseDouble(tvMain.getText().toString());\r\n                        double square = d * d;\r\n                        tvMain.setText(String.valueOf(square));\r\n                        tvsec.setText(d + &quot;&#178;&quot;);\r\n                    }\r\n                }\r\n            });\r\n```\r\n\r\nI tried exception handling for stoping the app from abruplty existing but that didn&#39;t work","title":"Square button(x^2) exception handling error in Calculator android app development","body":"<p>I am currently trying to develop a Calculator android app in android studio using Java. The app works fine until I click the button for Square operation i.e. <code>x^2</code> button in the app when there is no input taken or when I click the Square operation button after any operator. For e.g. When I enter the input <code>1+</code> and then when I try to enter <code>x^2</code>, it automatically exit from the app. I tried multiple Try catch block in order to stop the app from abruptly existing but it didn't work\nBelow I have the code for onClick method of Square button</p>\n<pre class=\"lang-java prettyprint-override\"><code>bsquare.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    if (tvMain.getText().toString().isEmpty()) {\n                        Toast.makeText(MainActivity.this, &quot;Please enter a valid number..&quot;, Toast.LENGTH_SHORT).show();\n                    } else {\n                        double d = Double.parseDouble(tvMain.getText().toString());\n                        double square = d * d;\n                        tvMain.setText(String.valueOf(square));\n                        tvsec.setText(d + &quot;²&quot;);\n                    }\n                }\n            });\n</code></pre>\n<p>I tried exception handling for stoping the app from abruplty existing but that didn't work</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"score":0,"creation_date":1536041128,"post_id":52159579,"comment_id":91269064,"body_markdown":"Are you sure there was another window? what is the size of `driver.getWindowHandles()`?","body":"Are you sure there was another window? what is the size of <code>driver.getWindowHandles()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":10643148,"reputation":51,"user_id":7837493,"display_name":"Vijayakumar Ganesan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536147005,"creation_date":1536066338,"answer_id":52167042,"question_id":52159579,"body_markdown":"@user7309686 Hope the below script will solve your problem. better to put one validation before switch to new windows. Thanks\r\n\r\n    public  void switchToNewWindow(WebDriver driver)\r\n    {\r\n        String mainWindow = driver.getWindowHandle();\r\n        Set&lt;String&gt; openedWindows = driver.getWindowHandles();\r\n        if(openedWindows.size() &gt; 1)\r\n        {\r\n            for(String newWindow : openedWindows)\r\n            {\r\n                driver.switchTo().window(newWindow);\r\n            }\r\n            driver.close();\r\n            Log.info(&quot;Closing the current Opened Window - Invoice&quot;);\r\n            driver.switchTo().window(mainWindow);\r\n        }\r\n    }","title":"target window already closed from unknown error: web view not found","body":"<p>@user7309686 Hope the below script will solve your problem. better to put one validation before switch to new windows. Thanks</p>\n\n<pre><code>public  void switchToNewWindow(WebDriver driver)\n{\n    String mainWindow = driver.getWindowHandle();\n    Set&lt;String&gt; openedWindows = driver.getWindowHandles();\n    if(openedWindows.size() &gt; 1)\n    {\n        for(String newWindow : openedWindows)\n        {\n            driver.switchTo().window(newWindow);\n        }\n        driver.close();\n        Log.info(\"Closing the current Opened Window - Invoice\");\n        driver.switchTo().window(mainWindow);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17023231,"reputation":1,"user_id":12315196,"display_name":"Vinh Phan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1572771691,"creation_date":1572771691,"answer_id":58678706,"question_id":52159579,"body_markdown":"This works for me in C#, I don&#39;t know Java though:\r\n\r\n    foreach (var tab in driver.WindowHandles)\r\n    {\r\n    driver.SwitchTo().Window(tab);\r\n    }","title":"target window already closed from unknown error: web view not found","body":"<p>This works for me in C#, I don't know Java though:</p>\n\n<pre><code>foreach (var tab in driver.WindowHandles)\n{\ndriver.SwitchTo().Window(tab);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10860508,"reputation":1460,"user_id":7985538,"display_name":"Sreekant Shenoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679899691,"creation_date":1679899691,"answer_id":75852809,"question_id":52159579,"body_markdown":"Found a similar case in `python`. The issue was that selenium wasn&#39;t able to keep track of opening a new window if you are closing a window just before.\r\n\r\nThe solution is to add this line\r\n`driver.switch_to.window(driver.window_handles[-1])`, which tells selenium to visit the last tab (before opening the new window).\r\n\r\n```python\r\nfor i, labelResultUrl in enumerate(labelResultUrls):\r\n\tdriver.switch_to.window(driver.window_handles[-1])  #this line will fix\r\n\tdriver.switch_to.new_window()\r\n\tdriver.get(labelResultUrl)\r\n\r\n\t...\r\n\r\n\tif failCount == 0:\r\n\t\tdriver.close()\r\n\r\n\ttime.sleep(2)\r\n```","title":"target window already closed from unknown error: web view not found","body":"<p>Found a similar case in <code>python</code>. The issue was that selenium wasn't able to keep track of opening a new window if you are closing a window just before.</p>\n<p>The solution is to add this line\n<code>driver.switch_to.window(driver.window_handles[-1])</code>, which tells selenium to visit the last tab (before opening the new window).</p>\n<pre class=\"lang-py prettyprint-override\"><code>for i, labelResultUrl in enumerate(labelResultUrls):\n    driver.switch_to.window(driver.window_handles[-1])  #this line will fix\n    driver.switch_to.new_window()\n    driver.get(labelResultUrl)\n\n    ...\n\n    if failCount == 0:\n        driver.close()\n\n    time.sleep(2)\n</code></pre>\n"}],"owner":{"account_id":9869472,"reputation":79,"user_id":7309686,"display_name":"user7309686"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1693782455,"creation_date":1536040357,"question_id":52159579,"body_markdown":"    String mainWindow = driver.getWindowHandle();\r\n\tdriver.findElement(By.xpath(pro.getProperty(&quot;&quot;))).click();\r\n\t\r\n    for(String newWindow : driver.getWindowHandles()){\r\n\t\tdriver.switchTo().window(newWindow);\r\n    }\r\n\t\t\r\n\tdriver.close();\r\n\r\n\tLog.info(&quot;Closing the current Opened Window - Invoice&quot;);\r\n\tdriver.switchTo().window(mainWindow); ---error in this line\r\n\t\r\nI am getting error while switching to main window.\r\n\r\n&gt; org.openqa.selenium.NoSuchWindowException: no such window: target\r\n&gt; window already closed from unknown error: web view not found\r\n\r\nI have tried switching to default window, commenting driver.close and adding thread.sleep also but issue not resolved.\r\n\t\r\n\t","title":"target window already closed from unknown error: web view not found","body":"<pre><code>String mainWindow = driver.getWindowHandle();\ndriver.findElement(By.xpath(pro.getProperty(\"\"))).click();\n\nfor(String newWindow : driver.getWindowHandles()){\n    driver.switchTo().window(newWindow);\n}\n\ndriver.close();\n\nLog.info(\"Closing the current Opened Window - Invoice\");\ndriver.switchTo().window(mainWindow); ---error in this line\n</code></pre>\n\n<p>I am getting error while switching to main window.</p>\n\n<blockquote>\n  <p>org.openqa.selenium.NoSuchWindowException: no such window: target\n  window already closed from unknown error: web view not found</p>\n</blockquote>\n\n<p>I have tried switching to default window, commenting driver.close and adding thread.sleep also but issue not resolved.</p>\n"},{"tags":["java","spring","hibernate","rest","session"],"comments":[{"owner":{"account_id":6093107,"reputation":23142,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":0,"creation_date":1454589599,"post_id":35200973,"comment_id":58118350,"body_markdown":"You have to start a new Hibernate session/transaction if you delegate some work to another thread.","body":"You have to start a new Hibernate session/transaction if you delegate some work to another thread."},{"owner":{"account_id":2268079,"reputation":121,"user_id":1996183,"display_name":"user1996183"},"score":0,"creation_date":1454589804,"post_id":35200973,"comment_id":58118497,"body_markdown":"@Dragan Bozanovic I am not delegating work to new thread. I am doing the same work twice (concurrently) in two threads. I know hibernate session is not thread safe so sharing of sessions across threads is a strict NO-NO","body":"@Dragan Bozanovic I am not delegating work to new thread. I am doing the same work twice (concurrently) in two threads. I know hibernate session is not thread safe so sharing of sessions across threads is a strict NO-NO"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1454590965,"post_id":35200973,"comment_id":58119268,"body_markdown":"What is the `getSession` method do?","body":"What is the <code>getSession</code> method do?"},{"owner":{"account_id":2268079,"reputation":121,"user_id":1996183,"display_name":"user1996183"},"score":0,"creation_date":1454593046,"post_id":35200973,"comment_id":58120606,"body_markdown":"getSession is basically calling sessionFactory.getCurrentSession()","body":"getSession is basically calling sessionFactory.getCurrentSession()"},{"owner":{"account_id":5475819,"reputation":1022,"user_id":4353862,"display_name":"Manuel Romeiro"},"score":0,"creation_date":1505987946,"post_id":35200973,"comment_id":79641565,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/12705700/hibernate-assertionfailure-in-different-threads","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/12705700/hibernate-assertionfailure-in-different-threads\" title=\"hibernate assertionfailure in different threads\">stackoverflow.com/questions/12705700/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7734625,"reputation":535,"user_id":5856587,"accept_rate":71,"display_name":"Peter G. Horvath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454590633,"creation_date":1454590633,"answer_id":35201623,"question_id":35200973,"body_markdown":"I think, that if you use Hibernate like that, then you should acquire the session by calling `getSession(false)` instead so as to ensure you have the session bound to the transaction.\r\n\r\nThis is explained in chapter [Implementing Spring-based DAOs without callbacks in Spring documentation] [1] : *such code will usually pass false as the value of the getSession(..) methods allowCreate argument, to enforce running within a transaction (which avoids the need to close the returned Session, as its lifecycle is managed by the transaction).*\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#orm-hibernate-daos","title":"org.hibernate.AssertionFailure: possible non-threadsafe access to the session","body":"<p>I think, that if you use Hibernate like that, then you should acquire the session by calling <code>getSession(false)</code> instead so as to ensure you have the session bound to the transaction.</p>\n\n<p>This is explained in chapter <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/htmlsingle/#orm-hibernate-daos\" rel=\"nofollow\">Implementing Spring-based DAOs without callbacks in Spring documentation</a> : <em>such code will usually pass false as the value of the getSession(..) methods allowCreate argument, to enforce running within a transaction (which avoids the need to close the returned Session, as its lifecycle is managed by the transaction).</em></p>\n"}],"owner":{"account_id":2268079,"reputation":121,"user_id":1996183,"display_name":"user1996183"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19321,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1693782455,"creation_date":1454588692,"question_id":35200973,"body_markdown":"I am developing a web application with AngularJs as front-end and Spring+Hibernate as the service layer. Service Layer has a set of REST API&#39;s that are consumed by AngularJs. The front end of the application has no major issues. But in the service layer, I am facing some concurrency issues. For some scenarios, I have to make parallel Asychronous calls to same REST API&#39;s from the same http session. When I do that, there are times when I get the above error. Actually, the error keeps of changing everytime. Sometimes I also get NULLPointerException on Query.List() operation. Sometimes I get TransactionResourceAlreadyClosed exception. Various configurations and code snippets are attached below.\r\n\r\nWeb.xml\r\n\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;WEB-INF/config/fs-cxf-serverContext.xml,WEB-INF/config/fs-spring-jpa-config.xml,WEB-INF/config/security-beans.xml&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;*&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;Content-Type,X-Requested-With,accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers,Access-Control-Allow-Origin&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;cors.exposed.headers&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;Access-Control-Allow-Origin&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;GET, POST, PUT, DELETE, OPTIONS, HEAD&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;description&gt;Servlet to Initialize and shutdown the Scheduler&lt;/description&gt;\r\n\t\t&lt;servlet-name&gt;QuartzInitializer&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.quartz.ee.servlet.QuartzInitializerServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;config-file&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;quartz.properties&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;shutdown-on-unload&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;start-scheduler-on-load&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/services/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\t&lt;resource-ref&gt;\r\n\t\t&lt;res-ref-name&gt;jdbc/foodsafetyDS&lt;/res-ref-name&gt;\r\n\t\t&lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n\t\t&lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n\t\t&lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\r\n\t&lt;/resource-ref&gt;\r\n&lt;/web-app&gt;\r\n\r\n\r\nJPA Configuration\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\txmlns:task=&quot;http://www.springframework.org/schema/task&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n\t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\r\n\t\thttp://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.2.xsd&quot;&gt;\r\n\r\n\t&lt;!-- Hibernate session factory --&gt;\r\n\t&lt;bean id=&quot;sessionFactory&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;configLocation&quot; value=&quot;classpath:hibernate.cfg.xml&quot; /&gt;\r\n\t\t&lt;property name=&quot;entityInterceptor&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;com.cts.foodSafety.interceptor.AuditLogInterceptor&quot;/&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;transactionManager&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;persistenceAnnotation&quot;\r\n\t\tclass=&quot;org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor&quot; /&gt;\r\n\r\n\t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n\t&lt;task:annotation-driven/&gt;\r\n\r\n&lt;/beans&gt;\r\n\r\nHibernate.cfg.xml\r\n\r\n    &lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.datasource&quot;&gt;java:comp/env/jdbc/foodsafetyDS&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n\t\t&lt;property name=&quot;show_sql&quot;&gt;false&lt;/property&gt;\r\n\r\n\t\t&lt;!-- Mapping with model class containing annotations --&gt;\r\n\r\n\r\nI have created a simple rest controller using CXF. REST end point is as below\r\n\r\n    @Path(&quot;/units&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public interface UnitService extends Serializable {\r\n\r\n\t@GET\r\n\t@Path(&quot;/getGraphData/{type}&quot;)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic UnitServiceBean getGraphData(@PathParam(&quot;type&quot;) String type)\r\n\t\t\tthrows FoodSafetyException;\r\n}\r\n\r\nImplementation of the controller is as below\r\n\r\nxxxServiceImpl.java\r\n\r\n    @Service(&quot;unit&quot;)\r\n    @Transactional\r\n    public class xxxServiceImpl implements xxxService {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Autowired\r\n\txxxDelegate xxxDelegate;\r\n\r\n\t@Override\r\n\tpublic UnitServiceBean getGraphData(String type) throws FoodSafetyException {\r\n\t\tUnitServiceBean bean = new UnitServiceBean();\r\n\r\n\t\tList&lt;String[]&gt; data = unitDelegate.getGraphData(type);\r\n\t\t....\r\n        ....\r\n\t\treturn bean;\r\n\t}\r\n\r\n\r\nDelegate calls the DAO. (We haven&#39;t introduced the Business object as of now). Implementation of DAO is as below\r\n\r\n    @Component\r\n    public class UnitDAOImpl extends FoodSafetyDAO implements UnitDAO {\r\n\t@Override\r\n\tpublic List&lt;String[]&gt; getGraphData(String type) {\r\n\t\tList&lt;String[]&gt; data = new ArrayList&lt;String[]&gt;();\r\n\t\tMap&lt;String, List&lt;UnitReadingEntity&gt;&gt; readings = new HashMap&lt;String, List&lt;UnitReadingEntity&gt;&gt;();\r\n\r\n\t\tSimpleDateFormat df = CommonConstants.TIME_FORMATTER;\r\n\r\n\t\t// Get all the Units\r\n\t\tQuery query = getSession().getNamedQuery(\r\n\t\t\t\tQueryConstants.FIND_UNITS_BY_TYPE);\r\n\t\tquery.setParameter(QueryConstants.TYPE, type);\r\n\t\tList&lt;UnitEntity&gt; units = (List&lt;UnitEntity&gt;) query.list();\r\n\t\tif (units != null &amp;&amp; units.size() != 0) {\r\n\t\t\t.....\r\n\t\t\t.....\r\n\r\n\t\t\tfor (UnitEntity unit : units) {\r\n\t\t\t\tCalendar cal1 = Calendar.getInstance();\r\n\t\t\t\tcal1.add(Calendar.DAY_OF_YEAR, -1);\r\n\t\t\t\tquery = getSession().getNamedQuery(\r\n\t\t\t\t\t\tQueryConstants.FIND_READING_BY_UNIT_TIME).setLong(\r\n\t\t\t\t\t\tQueryConstants.UNIT_ID, unit.getUnitId());\r\n\r\n\t\t\t\tList&lt;UnitReadingEntity&gt; rr = query.list();\r\n\t\t\t\t...\r\n\t\t\t\t...\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\nNow, when I call the REST service &quot;getGraphData&quot; once using POSTMAN etc. it works fine without any issue. But when I simulate concurrent call to this rest service using I get following error\r\n\r\n    Caused by: org.hibernate.AssertionFailure: possible non-threadsafe access to the session\r\n\tat org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:130)\r\n\tat org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1108)\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:964)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:911)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:342)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2526)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2512)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2342)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2337)\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:495)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:356)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:195)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1269)\r\n\tat org.hibernate.internal.QueryImpl.list(QueryImpl.java:101)\r\n\tat com.cts.foodSafety.model.dao.impl.UnitDAOImpl.getGraphData(UnitDAOImpl.java:255)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:51)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:42)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat com.sun.proxy.$Proxy51.getGraphData(Unknown Source)\r\n\tat com.cts.foodSafety.delegate.UnitDelegate.getGraphData(UnitDelegate.java:39)\r\n\tat com.cts.foodSafety.delegate.UnitDelegate$$FastClassByCGLIB$$aac35d0d.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:698)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:51)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:42)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:631)\r\n\tat com.cts.foodSafety.delegate.UnitDelegate$$EnhancerByCGLIB$$75af66.getGraphData(&lt;generated&gt;)\r\n\tat com.cts.foodSafety.service.impl.UnitServiceImpl.getGraphData(UnitServiceImpl.java:108)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:51)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:42)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:55)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat com.sun.proxy.$Proxy72.getGraphData(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:180)\r\n\tat org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)\r\n\r\n\r\nClient that I used to make concurrent request is as below\r\n\r\n    public class RestClient implements Runnable{\r\n\t\r\n\tprivate String i;\r\n\t\r\n\tpublic RestClient(String x) {\r\n\t\ti=x;\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tfor(int i =1;i&lt;=2;i++) {\r\n\t\t\tThread t = new Thread(new RestClient(String.valueOf(i)));\r\n\t\t\tt.start();\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tSystem.out.println(&quot;started &quot; + i);\r\n\t\t  try {\r\n\r\n\t\t\t\tURL url = new URL(&quot; http://localhost:8080/fs/services/units/getGraphData/Freezer&quot;);\r\n\t\t\t\tHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n\t\t\t\tconn.setRequestMethod(&quot;GET&quot;);\r\n\t\t\t\tconn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\r\n\t\t\t\tif (conn.getResponseCode() != 204) {\r\n\t\t\t\t\tthrow new RuntimeException(&quot;Failed : HTTP error code : &quot;\r\n\t\t\t\t\t\t\t+ conn.getResponseCode());\r\n\t\t\t\t}\r\n\r\n\r\nAny pointers/suggestions ? I have gone through a lot of material on sessions and transaction management in Spring+hibernate. But I am not able to get my head around this problem.","title":"org.hibernate.AssertionFailure: possible non-threadsafe access to the session","body":"<p>I am developing a web application with AngularJs as front-end and Spring+Hibernate as the service layer. Service Layer has a set of REST API's that are consumed by AngularJs. The front end of the application has no major issues. But in the service layer, I am facing some concurrency issues. For some scenarios, I have to make parallel Asychronous calls to same REST API's from the same http session. When I do that, there are times when I get the above error. Actually, the error keeps of changing everytime. Sometimes I also get NULLPointerException on Query.List() operation. Sometimes I get TransactionResourceAlreadyClosed exception. Various configurations and code snippets are attached below.</p>\n\n<p>Web.xml</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;WEB-INF/config/fs-cxf-serverContext.xml,WEB-INF/config/fs-spring-jpa-config.xml,WEB-INF/config/security-beans.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n&lt;filter&gt;\n    &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.apache.catalina.filters.CorsFilter&lt;/filter-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;cors.allowed.origins&lt;/param-name&gt;\n        &lt;param-value&gt;*&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;cors.allowed.headers&lt;/param-name&gt;\n        &lt;param-value&gt;Content-Type,X-Requested-With,accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers,Access-Control-Allow-Origin&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;cors.exposed.headers&lt;/param-name&gt;\n        &lt;param-value&gt;Access-Control-Allow-Origin&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;cors.allowed.methods&lt;/param-name&gt;\n        &lt;param-value&gt;GET, POST, PUT, DELETE, OPTIONS, HEAD&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n\n&lt;filter&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n\n&lt;servlet&gt;\n    &lt;description&gt;Servlet to Initialize and shutdown the Scheduler&lt;/description&gt;\n    &lt;servlet-name&gt;QuartzInitializer&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.quartz.ee.servlet.QuartzInitializerServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;config-file&lt;/param-name&gt;\n        &lt;param-value&gt;quartz.properties&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;shutdown-on-unload&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;start-scheduler-on-load&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet&gt;\n    &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.cxf.transport.servlet.CXFServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;CXFServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/services/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n&lt;resource-ref&gt;\n    &lt;res-ref-name&gt;jdbc/foodsafetyDS&lt;/res-ref-name&gt;\n    &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n    &lt;res-auth&gt;Container&lt;/res-auth&gt;\n    &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\n&lt;/resource-ref&gt;\n</code></pre>\n\n<p></p>\n\n<p>JPA Configuration</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:tx=\"http://www.springframework.org/schema/tx\"\nxmlns:task=\"http://www.springframework.org/schema/task\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\n    http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.2.xsd\"&gt;\n\n&lt;!-- Hibernate session factory --&gt;\n&lt;bean id=\"sessionFactory\"\n    class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"configLocation\" value=\"classpath:hibernate.cfg.xml\" /&gt;\n    &lt;property name=\"entityInterceptor\"&gt;\n        &lt;bean class=\"com.cts.foodSafety.interceptor.AuditLogInterceptor\"/&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"transactionManager\"\n    class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"persistenceAnnotation\"\n    class=\"org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor\" /&gt;\n\n&lt;tx:annotation-driven transaction-manager=\"transactionManager\" /&gt;\n&lt;task:annotation-driven/&gt;\n</code></pre>\n\n<p></p>\n\n<p>Hibernate.cfg.xml</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n&lt;session-factory&gt;\n    &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.datasource\"&gt;java:comp/env/jdbc/foodsafetyDS&lt;/property&gt;\n    &lt;property name=\"hbm2ddl.auto\"&gt;update&lt;/property&gt;\n    &lt;property name=\"show_sql\"&gt;false&lt;/property&gt;\n\n    &lt;!-- Mapping with model class containing annotations --&gt;\n</code></pre>\n\n<p>I have created a simple rest controller using CXF. REST end point is as below</p>\n\n<pre><code>@Path(\"/units\")\n@Produces(MediaType.APPLICATION_JSON)\npublic interface UnitService extends Serializable {\n\n@GET\n@Path(\"/getGraphData/{type}\")\n@Produces(MediaType.APPLICATION_JSON)\npublic UnitServiceBean getGraphData(@PathParam(\"type\") String type)\n        throws FoodSafetyException;\n</code></pre>\n\n<p>}</p>\n\n<p>Implementation of the controller is as below</p>\n\n<p>xxxServiceImpl.java</p>\n\n<pre><code>@Service(\"unit\")\n@Transactional\npublic class xxxServiceImpl implements xxxService {\n\nprivate static final long serialVersionUID = 1L;\n\n@Autowired\nxxxDelegate xxxDelegate;\n\n@Override\npublic UnitServiceBean getGraphData(String type) throws FoodSafetyException {\n    UnitServiceBean bean = new UnitServiceBean();\n\n    List&lt;String[]&gt; data = unitDelegate.getGraphData(type);\n    ....\n    ....\n    return bean;\n}\n</code></pre>\n\n<p>Delegate calls the DAO. (We haven't introduced the Business object as of now). Implementation of DAO is as below</p>\n\n<pre><code>@Component\npublic class UnitDAOImpl extends FoodSafetyDAO implements UnitDAO {\n@Override\npublic List&lt;String[]&gt; getGraphData(String type) {\n    List&lt;String[]&gt; data = new ArrayList&lt;String[]&gt;();\n    Map&lt;String, List&lt;UnitReadingEntity&gt;&gt; readings = new HashMap&lt;String, List&lt;UnitReadingEntity&gt;&gt;();\n\n    SimpleDateFormat df = CommonConstants.TIME_FORMATTER;\n\n    // Get all the Units\n    Query query = getSession().getNamedQuery(\n            QueryConstants.FIND_UNITS_BY_TYPE);\n    query.setParameter(QueryConstants.TYPE, type);\n    List&lt;UnitEntity&gt; units = (List&lt;UnitEntity&gt;) query.list();\n    if (units != null &amp;&amp; units.size() != 0) {\n        .....\n        .....\n\n        for (UnitEntity unit : units) {\n            Calendar cal1 = Calendar.getInstance();\n            cal1.add(Calendar.DAY_OF_YEAR, -1);\n            query = getSession().getNamedQuery(\n                    QueryConstants.FIND_READING_BY_UNIT_TIME).setLong(\n                    QueryConstants.UNIT_ID, unit.getUnitId());\n\n            List&lt;UnitReadingEntity&gt; rr = query.list();\n            ...\n            ...\n        }\n    }\n\n    return data;\n}\n</code></pre>\n\n<p>Now, when I call the REST service \"getGraphData\" once using POSTMAN etc. it works fine without any issue. But when I simulate concurrent call to this rest service using I get following error</p>\n\n<pre><code>Caused by: org.hibernate.AssertionFailure: possible non-threadsafe access to the session\nat org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:130)\nat org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1108)\nat org.hibernate.loader.Loader.processResultSet(Loader.java:964)\nat org.hibernate.loader.Loader.doQuery(Loader.java:911)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:342)\nat org.hibernate.loader.Loader.doList(Loader.java:2526)\nat org.hibernate.loader.Loader.doList(Loader.java:2512)\nat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2342)\nat org.hibernate.loader.Loader.list(Loader.java:2337)\nat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:495)\nat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:356)\nat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:195)\nat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1269)\nat org.hibernate.internal.QueryImpl.list(QueryImpl.java:101)\nat com.cts.foodSafety.model.dao.impl.UnitDAOImpl.getGraphData(UnitDAOImpl.java:255)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\nat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:51)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:42)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\nat com.sun.proxy.$Proxy51.getGraphData(Unknown Source)\nat com.cts.foodSafety.delegate.UnitDelegate.getGraphData(UnitDelegate.java:39)\nat com.cts.foodSafety.delegate.UnitDelegate$$FastClassByCGLIB$$aac35d0d.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:698)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\nat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:51)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:42)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:631)\nat com.cts.foodSafety.delegate.UnitDelegate$$EnhancerByCGLIB$$75af66.getGraphData(&lt;generated&gt;)\nat com.cts.foodSafety.service.impl.UnitServiceImpl.getGraphData(UnitServiceImpl.java:108)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\nat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:51)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:42)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:55)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\nat com.sun.proxy.$Proxy72.getGraphData(Unknown Source)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:180)\nat org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)\n</code></pre>\n\n<p>Client that I used to make concurrent request is as below</p>\n\n<pre><code>public class RestClient implements Runnable{\n\nprivate String i;\n\npublic RestClient(String x) {\n    i=x;\n}\npublic static void main(String[] args) {\n\n    for(int i =1;i&lt;=2;i++) {\n        Thread t = new Thread(new RestClient(String.valueOf(i)));\n        t.start();\n    }\n}\n\n@Override\npublic void run() {\n    System.out.println(\"started \" + i);\n      try {\n\n            URL url = new URL(\" http://localhost:8080/fs/services/units/getGraphData/Freezer\");\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setRequestMethod(\"GET\");\n            conn.setRequestProperty(\"Accept\", \"application/json\");\n\n            if (conn.getResponseCode() != 204) {\n                throw new RuntimeException(\"Failed : HTTP error code : \"\n                        + conn.getResponseCode());\n            }\n</code></pre>\n\n<p>Any pointers/suggestions ? I have gone through a lot of material on sessions and transaction management in Spring+hibernate. But I am not able to get my head around this problem.</p>\n"},{"tags":["java","tree","weka","decision-tree"],"answers":[{"tags":[],"owner":{"account_id":6207504,"reputation":284,"user_id":4834962,"accept_rate":75,"display_name":"Rahul Rajput"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1462693924,"creation_date":1462693924,"answer_id":37097513,"question_id":37095259,"body_markdown":"Yes ofcourse it has problem with your file format. save the both files as .arff file and then repeat the process. And yes for that you will need to read arff files with arffloader....below code will help you...\r\n\r\n            ArffLoader loader= new ArffLoader();\r\n    \t\tloader.setSource(new File(&quot;C:/Users/..../Desktop/maitre.arff&quot;));\r\n    \t\tInstances data= loader.getDataSet();\r\n\r\nGood luck :)","title":"How can I use weka to implement a decision tree?","body":"<p>Yes ofcourse it has problem with your file format. save the both files as .arff file and then repeat the process. And yes for that you will need to read arff files with arffloader....below code will help you...</p>\n\n<pre><code>        ArffLoader loader= new ArffLoader();\n        loader.setSource(new File(\"C:/Users/..../Desktop/maitre.arff\"));\n        Instances data= loader.getDataSet();\n</code></pre>\n\n<p>Good luck :)</p>\n"},{"tags":[],"owner":{"account_id":6207504,"reputation":284,"user_id":4834962,"accept_rate":75,"display_name":"Rahul Rajput"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462728374,"creation_date":1462728374,"answer_id":37102704,"question_id":37095259,"body_markdown":"This code might help...\r\n\r\n    for(int i=0;i&lt;Train.numInstances();i++)\r\n      \t\t{\r\n            \t  double value=cls.classifyInstance(originalTrain.instance(i));\r\n            \t  String prediction=Train.classAttribute().value((int)value); \r\n           System.out.println(Train.instance(i)+&quot;............Prediction.......... &quot;+prediction); \r\n      \t\t}\r\n This above code is for predicting the value. Below is your sample maitretest.arff file. Hope it helps :)\r\n\r\n    @relation maitretest\r\n    \r\n    @attribute patrons {none, some, full}\r\n    @attribute waitEstation {0-10,10-30,30-60,&gt;60}\r\n    @attribute reservation {TRUE, FALSE}\r\n    @attribute bar {TRUE, FALSE}\r\n    @attribute alternative {TRUE, FALSE}\r\n    @attribute sit {yes, no}\r\n    \r\n    @data\r\n    some,0-10,TRUE,FALSE,TRUE,?\r\n    full,30-60,FALSE,FALSE,TRUE,?\r\n\r\n","title":"How can I use weka to implement a decision tree?","body":"<p>This code might help...</p>\n\n<pre><code>for(int i=0;i&lt;Train.numInstances();i++)\n        {\n              double value=cls.classifyInstance(originalTrain.instance(i));\n              String prediction=Train.classAttribute().value((int)value); \n       System.out.println(Train.instance(i)+\"............Prediction.......... \"+prediction); \n        }\n</code></pre>\n\n<p>This above code is for predicting the value. Below is your sample maitretest.arff file. Hope it helps :)</p>\n\n<pre><code>@relation maitretest\n\n@attribute patrons {none, some, full}\n@attribute waitEstation {0-10,10-30,30-60,&gt;60}\n@attribute reservation {TRUE, FALSE}\n@attribute bar {TRUE, FALSE}\n@attribute alternative {TRUE, FALSE}\n@attribute sit {yes, no}\n\n@data\nsome,0-10,TRUE,FALSE,TRUE,?\nfull,30-60,FALSE,FALSE,TRUE,?\n</code></pre>\n"}],"owner":{"account_id":2125740,"reputation":343,"user_id":1887967,"accept_rate":100,"display_name":"SSM89"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3644,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":37097513,"answer_count":2,"score":0,"last_activity_date":1693779118,"creation_date":1462670043,"question_id":37095259,"body_markdown":"I&#39;m working with java, eclipse and weka, I want to show the tree with every rule and the predictin of a set of data to test my decision tree.\r\n\r\nI was trying somenthing with this code but it&#39;s not doing what I need which is to show all the tree with every possible rule. I can only see part of the tree not all. \r\n\r\nAnd I haven&#39;t been able to test it with a data test and data training, I think it has somenthing to do with the format I&#39;m using in the text and train file.\r\n\r\nSo the question is, how can I show the tree with every possible decition and then test it ??\r\n\r\nThis is what I have so far:\r\n\r\n    public class Test {\r\n\t    public static BufferedReader readDataFile(String filename) {\r\n\t\t    BufferedReader inputReader = null;\r\n \r\n\t\t     try {\r\n\t\t\t     inputReader = new BufferedReader(new FileReader(filename));\r\n\t\t      } catch (FileNotFoundException ex) {\r\n\t\t\t     System.err.println(&quot;File not found: &quot; + filename);\r\n\t\t     }\r\n \r\n\t\t     return inputReader;\r\n\t     }\r\n \r\n\t    public static void main(String[] args) throws Exception {\r\n\t\t\r\n\t\t    //Get File\r\n            BufferedReader reader = readDataFile(&quot;maitre.txt&quot;);\r\n\r\n           //Get the data\r\n           Instances data = new Instances(reader);\r\n           reader.close();\r\n\r\n           //Setting class attribute \r\n           data.setClassIndex(data.numAttributes() - 1);\r\n\r\n          //Make tree\r\n          J48 tree = new J48();\r\n          String[] options = new String[1];\r\n          options[0] = &quot;-U&quot;; \r\n          tree.setOptions(options);\r\n          tree.buildClassifier(data);\r\n\r\n          //Print tree\r\n          System.out.println(tree);\r\n        \r\n          //Predictions with test and training set of data\r\n        \r\n          BufferedReader datafile = readDataFile(&quot;maitre.txt&quot;);\r\n          BufferedReader testfile = readDataFile(&quot;maitretest.txt&quot;);\r\n        \r\n\t\t  Instances train = new Instances(datafile);\r\n\t      data.setClassIndex(data.numAttributes() - 1);  // from somewhere\r\n\t\t  Instances test = new Instances(testfile);\r\n\t      data.setClassIndex(data.numAttributes() - 1);    // from somewhere\r\n\t\t  // train classifier\r\n\t\t  Classifier cls = new J48();\r\n\t\t  cls.buildClassifier(train);\r\n\t\t  // evaluate classifier and print some statistics\r\n\t\t  Evaluation eval = new Evaluation(train);\r\n\t\t  eval.evaluateModel(cls, test);\r\n\t\t  System.out.println(eval.toSummaryString(&quot;\\nResults\\n======\\n&quot;, false));\r\n\t   }\r\n    }\r\n\r\nthe error:\r\n\r\n    Exception in thread &quot;main&quot; weka.core.UnassignedClassException: weka.classifiers.trees.j48.C45PruneableClassifierTree: Class attribute not set!\r\n\t    at weka.core.Capabilities.test(Capabilities.java:1284)\r\n\t    at weka.core.Capabilities.test(Capabilities.java:1208)\r\n\t    at weka.core.Capabilities.testWithFail(Capabilities.java:1506)\r\n\t    at weka.classifiers.trees.j48.C45PruneableClassifierTree.buildClassifier(C45PruneableClassifierTree.java:120)\r\n\t    at weka.classifiers.trees.J48.buildClassifier(J48.java:293)\r\n    \tat Test.main(Test.java:60)\r\n\r\nmaitre.txt and  maitretest.txt have are somenthing like this:\r\n\r\n    @relation maitre\r\n\r\n    @attribute patrons {none, some, full}\r\n    @attribute waitEstation {0-10,10-30,30-60,&gt;60}\r\n    @attribute reservation {TRUE, FALSE}\r\n    @attribute bar {TRUE, FALSE}\r\n    @attribute alternative {TRUE, FALSE}\r\n    @attribute sit {yes, no}\r\n\r\n    @data\r\n    some,0-10,TRUE,FALSE,TRUE,yes\r\n    full,30-60,FALSE,FALSE,TRUE,no\r\n    some,0-10,FALSE,TRUE,FALSE,yes\r\n    full,10-30,FALSE,FALSE,TRUE,yes\r\n    full,&gt;60,TRUE,FALSE,TRUE,no\r\n    some,0-10,TRUE,TRUE,FALSE,yes\r\n    none,0-10,FALSE,TRUE,FALSE,no\r\n    some,0-10,TRUE,FALSE,FALSE,yes\r\n    full,&gt;60,FALSE,TRUE,FALSE,no\r\n    full,10-30,TRUE,TRUE,TRUE,yes\r\n    none,0-10,FALSE,FALSE,FALSE,no\r\n    full,30-60,FALSE,TRUE,TRUE,no\r\n\r\n","title":"How can I use weka to implement a decision tree?","body":"<p>I'm working with java, eclipse and weka, I want to show the tree with every rule and the predictin of a set of data to test my decision tree.</p>\n\n<p>I was trying somenthing with this code but it's not doing what I need which is to show all the tree with every possible rule. I can only see part of the tree not all. </p>\n\n<p>And I haven't been able to test it with a data test and data training, I think it has somenthing to do with the format I'm using in the text and train file.</p>\n\n<p>So the question is, how can I show the tree with every possible decition and then test it ??</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>public class Test {\n    public static BufferedReader readDataFile(String filename) {\n        BufferedReader inputReader = null;\n\n         try {\n             inputReader = new BufferedReader(new FileReader(filename));\n          } catch (FileNotFoundException ex) {\n             System.err.println(\"File not found: \" + filename);\n         }\n\n         return inputReader;\n     }\n\n    public static void main(String[] args) throws Exception {\n\n        //Get File\n        BufferedReader reader = readDataFile(\"maitre.txt\");\n\n       //Get the data\n       Instances data = new Instances(reader);\n       reader.close();\n\n       //Setting class attribute \n       data.setClassIndex(data.numAttributes() - 1);\n\n      //Make tree\n      J48 tree = new J48();\n      String[] options = new String[1];\n      options[0] = \"-U\"; \n      tree.setOptions(options);\n      tree.buildClassifier(data);\n\n      //Print tree\n      System.out.println(tree);\n\n      //Predictions with test and training set of data\n\n      BufferedReader datafile = readDataFile(\"maitre.txt\");\n      BufferedReader testfile = readDataFile(\"maitretest.txt\");\n\n      Instances train = new Instances(datafile);\n      data.setClassIndex(data.numAttributes() - 1);  // from somewhere\n      Instances test = new Instances(testfile);\n      data.setClassIndex(data.numAttributes() - 1);    // from somewhere\n      // train classifier\n      Classifier cls = new J48();\n      cls.buildClassifier(train);\n      // evaluate classifier and print some statistics\n      Evaluation eval = new Evaluation(train);\n      eval.evaluateModel(cls, test);\n      System.out.println(eval.toSummaryString(\"\\nResults\\n======\\n\", false));\n   }\n}\n</code></pre>\n\n<p>the error:</p>\n\n<pre><code>Exception in thread \"main\" weka.core.UnassignedClassException: weka.classifiers.trees.j48.C45PruneableClassifierTree: Class attribute not set!\n    at weka.core.Capabilities.test(Capabilities.java:1284)\n    at weka.core.Capabilities.test(Capabilities.java:1208)\n    at weka.core.Capabilities.testWithFail(Capabilities.java:1506)\n    at weka.classifiers.trees.j48.C45PruneableClassifierTree.buildClassifier(C45PruneableClassifierTree.java:120)\n    at weka.classifiers.trees.J48.buildClassifier(J48.java:293)\n    at Test.main(Test.java:60)\n</code></pre>\n\n<p>maitre.txt and  maitretest.txt have are somenthing like this:</p>\n\n<pre><code>@relation maitre\n\n@attribute patrons {none, some, full}\n@attribute waitEstation {0-10,10-30,30-60,&gt;60}\n@attribute reservation {TRUE, FALSE}\n@attribute bar {TRUE, FALSE}\n@attribute alternative {TRUE, FALSE}\n@attribute sit {yes, no}\n\n@data\nsome,0-10,TRUE,FALSE,TRUE,yes\nfull,30-60,FALSE,FALSE,TRUE,no\nsome,0-10,FALSE,TRUE,FALSE,yes\nfull,10-30,FALSE,FALSE,TRUE,yes\nfull,&gt;60,TRUE,FALSE,TRUE,no\nsome,0-10,TRUE,TRUE,FALSE,yes\nnone,0-10,FALSE,TRUE,FALSE,no\nsome,0-10,TRUE,FALSE,FALSE,yes\nfull,&gt;60,FALSE,TRUE,FALSE,no\nfull,10-30,TRUE,TRUE,TRUE,yes\nnone,0-10,FALSE,FALSE,FALSE,no\nfull,30-60,FALSE,TRUE,TRUE,no\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":1,"creation_date":1693722464,"post_id":77031109,"comment_id":135796294,"body_markdown":"Just move the loop counter inside the inner `for`.","body":"Just move the loop counter inside the inner <code>for</code>."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1693722968,"post_id":77031109,"comment_id":135796329,"body_markdown":"The manual count is off. `y = x + 1` gives 3 (y) + 2 (x) + 1 (x).","body":"The manual count is off. <code>y = x + 1</code> gives 3 (y) + 2 (x) + 1 (x)."},{"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"score":0,"creation_date":1693741256,"post_id":77031109,"comment_id":135797884,"body_markdown":"I am not saying that it is pointless what you are doing, but in my experience it is often better to just compute an estimate using big O notation rather than putting in the work to actually count the executions, it is all in the code. The only reason I can think of to need to count the executions specifically is for embedded systems to squeeze every bit of performance out. However, then you would be using C or Rust, certainly not Java.","body":"I am not saying that it is pointless what you are doing, but in my experience it is often better to just compute an estimate using big O notation rather than putting in the work to actually count the executions, it is all in the code. The only reason I can think of to need to count the executions specifically is for embedded systems to squeeze every bit of performance out. However, then you would be using C or Rust, certainly not Java."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1693746793,"post_id":77031109,"comment_id":135798456,"body_markdown":"I don&#39;t understand what you&#39;re asking for, but I am guessing you need to add an `else` to the `if` to update stats when the `if` condition is false.","body":"I don&#39;t understand what you&#39;re asking for, but I am guessing you need to add an <code>else</code> to the <code>if</code> to update stats when the <code>if</code> condition is false."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693777603,"creation_date":1693754866,"answer_id":77032972,"question_id":77031109,"body_markdown":"&gt; _&quot;... I am working on a program that would count how many statements are executed in an algorithm. I am not able to count when the inside loop condition turns to false. ...&quot;_\r\n\r\n_Java_ defines a _statement_ as the following.\r\n\r\n_[Expressions, Statements, and Blocks (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html)_.\r\n\r\n&gt; _&quot;Statements are roughly equivalent to sentences in natural languages. A statement forms a complete unit of execution. The following types of expressions can be made into a statement by terminating the expression with a semicolon (;)._\r\n&gt;\r\n&gt; - _Assignment expressions_\r\n&gt; - _Any use of ++ or --_\r\n&gt; - _Method invocations_\r\n&gt; - _Object creation expressions_&quot;\r\n\r\nSo, I would use the following for the _Stats_ class.\r\n\r\n```java\r\nclass Stats {\r\n    int assignments, unaryOps, calls, newObjects;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return\r\n              &quot;assignments=%,d%n&quot;.formatted(assignments)\r\n            + &quot;unaryOps=%,d%n&quot;.formatted(unaryOps)\r\n            + &quot;calls=%,d%n&quot;.formatted(calls)\r\n            + &quot;newObjects=%,d&quot;.formatted(newObjects);\r\n    }\r\n}\r\n```\r\n\r\nAnd, for the procedure, I&#39;d count the values like this.\r\n\r\n```java\r\npublic static Stats bubbleSort(List&lt;String&gt; names) {\r\n    Stats stats = new Stats();\r\n    stats.assignments++;\r\n    stats.newObjects++;\r\n    String temp;\r\n    for (int x = 0; x &lt; names.size() - 1; x++) {\r\n        stats.calls++;\r\n        stats.unaryOps++;\r\n        for (int y = x + 1; y &lt; names.size(); y++) {\r\n            stats.calls++;\r\n            stats.unaryOps++;\r\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\r\n                stats.calls += 3;\r\n                temp = names.get(x);\r\n                stats.assignments++;\r\n                stats.calls++;\r\n                names.set(x, names.get(y));\r\n                names.set(y, temp);\r\n                stats.calls += 3;\r\n            }\r\n        }\r\n        stats.assignments++;\r\n        stats.calls++;\r\n        stats.unaryOps++;\r\n    }\r\n    stats.assignments++;\r\n    stats.calls++;\r\n    stats.unaryOps++;\r\n    return stats;\r\n}\r\n```\r\n\r\nHere is the output for a 3 item list, _&quot;a&quot;, &quot;b&quot;, &quot;c&quot;_, once forward and once backward.\r\n\r\n```java\r\nassignments=4\r\nunaryOps=8\r\ncalls=8\r\nnewObjects=1\r\n\r\nassignments=7\r\nunaryOps=8\r\ncalls=29\r\nnewObjects=1\r\n```\r\n\r\n&gt; _&quot;...  The problem is when I am testing it with a List composed of three elements, the loop condition statements are only 6 in the best case scenario. Although, when I manually count it should be 8. What could be causing this? ...&quot;_\r\n\r\nYou&#39;ll need to increment _stats.conditionStatements_ after the _for-loop_, additionally.  \r\nAlso, I don&#39;t think you&#39;re counting the _if_ statement, which is a _conditional-statement_.\r\n\r\n```java\r\nfor (int x = 0; x &lt; names.size() - 1; x++) {\r\n    for (int y = x + 1; y &lt; names.size(); y++) {\r\n        if (names.get(x).compareTo(names.get(y)) &gt; 0) {\r\n        }\r\n        stats.conditionStatements += 2;\r\n    }\r\n    stats.conditionStatements += 2;\r\n}\r\nstats.conditionStatements += 1;\r\n```\r\n\r\nAs a solution, to visualize the _loop_ execution, and the state of the variables, just print their values.  \r\nI typically indent the output for each _scope_.\r\n\r\n```java\r\npublic static Stats bubbleSort(List&lt;String&gt; names) {\r\n    out.printf(&quot;names = %,d, %s%n&quot;, names.size(), names);\r\n // Stats stats = new Stats();\r\n    String temp;\r\n    int x, y;\r\n    for (x = 0; x &lt; names.size() - 1; x++) {\r\n        out.printf(&quot;  x = %,d%n&quot;, x);\r\n        for (y = x + 1; y &lt; names.size(); y++) {\r\n            out.printf(&quot;    y = %,d%n&quot;, y);\r\n            out.printf(&quot;    x - y = %,d%n&quot;, names.get(x).compareTo(names.get(y)));\r\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\r\n                temp = names.get(x);\r\n                out.printf(&quot;      temp = &#39;%s&#39;%n&quot;, temp);\r\n                names.set(x, names.get(y));\r\n                names.set(y, temp);\r\n                out.printf(&quot;      swapped %,d and %,d%n&quot;, x, y);\r\n            }\r\n        }\r\n        out.printf(&quot;  y = %,d%n&quot;, y);\r\n    }\r\n    out.printf(&quot;x = %,d%n&quot;, x);\r\n    return null;\r\n}\r\n```\r\n\r\nHere is the output for _a, b, c_.\r\n\r\n```none\r\nnames = 3, [a, b, c]\r\n  x = 0\r\n    y = 1\r\n    x - y = -1\r\n    y = 2\r\n    x - y = -2\r\n  y = 3\r\n  x = 1\r\n    y = 2\r\n    x - y = -1\r\n  y = 3\r\nx = 2\r\n```\r\n\r\nHere is _c, b, a_.\r\n\r\n```none\r\nnames = 3, [c, b, a]\r\n  x = 0\r\n    y = 1\r\n    x - y = 1\r\n      temp = &#39;c&#39;\r\n      swapped 0 and 1\r\n    y = 2\r\n    x - y = 1\r\n      temp = &#39;b&#39;\r\n      swapped 0 and 2\r\n  y = 3\r\n  x = 1\r\n    y = 2\r\n    x - y = 1\r\n      temp = &#39;c&#39;\r\n      swapped 1 and 2\r\n  y = 3\r\nx = 2\r\n```\r\n\r\nAnd, here is a random sequence.\r\n\r\n```none\r\nnames = 10, [i, p, z, p, w, p, a, x, r, m]\r\n  x = 0\r\n    y = 1\r\n    x - y = -7\r\n    y = 2\r\n    x - y = -17\r\n    y = 3\r\n    x - y = -7\r\n    y = 4\r\n    x - y = -14\r\n    y = 5\r\n    x - y = -7\r\n    y = 6\r\n    x - y = 8\r\n      temp = &#39;i&#39;\r\n      swapped 0 and 6\r\n    y = 7\r\n    x - y = -23\r\n    y = 8\r\n    x - y = -17\r\n    y = 9\r\n    x - y = -12\r\n  y = 10\r\n  x = 1\r\n    y = 2\r\n    x - y = -10\r\n    y = 3\r\n    x - y = 0\r\n    y = 4\r\n    x - y = -7\r\n    y = 5\r\n    x - y = 0\r\n    y = 6\r\n    x - y = 7\r\n      temp = &#39;p&#39;\r\n      swapped 1 and 6\r\n    y = 7\r\n    x - y = -15\r\n    y = 8\r\n    x - y = -9\r\n    y = 9\r\n    x - y = -4\r\n  y = 10\r\n  x = 2\r\n    y = 3\r\n    x - y = 10\r\n      temp = &#39;z&#39;\r\n      swapped 2 and 3\r\n    y = 4\r\n    x - y = -7\r\n    y = 5\r\n    x - y = 0\r\n    y = 6\r\n    x - y = 0\r\n    y = 7\r\n    x - y = -8\r\n    y = 8\r\n    x - y = -2\r\n    y = 9\r\n    x - y = 3\r\n      temp = &#39;p&#39;\r\n      swapped 2 and 9\r\n  y = 10\r\n  x = 3\r\n    y = 4\r\n    x - y = 3\r\n      temp = &#39;z&#39;\r\n      swapped 3 and 4\r\n    y = 5\r\n    x - y = 7\r\n      temp = &#39;w&#39;\r\n      swapped 3 and 5\r\n    y = 6\r\n    x - y = 0\r\n    y = 7\r\n    x - y = -8\r\n    y = 8\r\n    x - y = -2\r\n    y = 9\r\n    x - y = 0\r\n  y = 10\r\n  x = 4\r\n    y = 5\r\n    x - y = 3\r\n      temp = &#39;z&#39;\r\n      swapped 4 and 5\r\n    y = 6\r\n    x - y = 7\r\n      temp = &#39;w&#39;\r\n      swapped 4 and 6\r\n    y = 7\r\n    x - y = -8\r\n    y = 8\r\n    x - y = -2\r\n    y = 9\r\n    x - y = 0\r\n  y = 10\r\n  x = 5\r\n    y = 6\r\n    x - y = 3\r\n      temp = &#39;z&#39;\r\n      swapped 5 and 6\r\n    y = 7\r\n    x - y = -1\r\n    y = 8\r\n    x - y = 5\r\n      temp = &#39;w&#39;\r\n      swapped 5 and 8\r\n    y = 9\r\n    x - y = 2\r\n      temp = &#39;r&#39;\r\n      swapped 5 and 9\r\n  y = 10\r\n  x = 6\r\n    y = 7\r\n    x - y = 2\r\n      temp = &#39;z&#39;\r\n      swapped 6 and 7\r\n    y = 8\r\n    x - y = 1\r\n      temp = &#39;x&#39;\r\n      swapped 6 and 8\r\n    y = 9\r\n    x - y = 5\r\n      temp = &#39;w&#39;\r\n      swapped 6 and 9\r\n  y = 10\r\n  x = 7\r\n    y = 8\r\n    x - y = 2\r\n      temp = &#39;z&#39;\r\n      swapped 7 and 8\r\n    y = 9\r\n    x - y = 1\r\n      temp = &#39;x&#39;\r\n      swapped 7 and 9\r\n  y = 10\r\n  x = 8\r\n    y = 9\r\n    x - y = 2\r\n      temp = &#39;z&#39;\r\n      swapped 8 and 9\r\n  y = 10\r\nx = 9\r\n```\r\n\r\nAs a final example, here are both codes merged.\r\n\r\n```java\r\npublic static Stats bubbleSort(List&lt;String&gt; names) {\r\n    out.printf(&quot;names = %,d, %s%n&quot;, names.size(), names);\r\n    Stats stats = new Stats();\r\n    stats.assignments++;\r\n    stats.newObjects++;\r\n    out.printf(&quot;stats = %n%s&quot;, stats.toString().indent(2));\r\n    String temp = null;\r\n    out.println(&quot;temp = &quot; + temp);\r\n    int x, y;\r\n    for (x = 0; x &lt; names.size() - 1; x++) {\r\n        stats.calls++;\r\n        stats.unaryOps++;\r\n        out.printf(&quot;  x = %,d%n&quot;, x);\r\n        for (y = x + 1; y &lt; names.size(); y++) {\r\n            stats.calls++;\r\n            stats.unaryOps++;\r\n            out.printf(&quot;    y = %,d%n&quot;, y);\r\n            out.printf(&quot;    x - y = %,d%n&quot;, names.get(x).compareTo(names.get(y)));\r\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\r\n                stats.calls += 3;\r\n                temp = names.get(x);\r\n                stats.calls++;\r\n                out.printf(&quot;      temp = &#39;%s&#39;%n&quot;, temp);\r\n                names.set(x, names.get(y));\r\n                names.set(y, temp);\r\n                stats.calls += 3;\r\n                out.printf(&quot;      swapped %,d and %,d%n&quot;, x, y);\r\n            }\r\n        }\r\n        stats.assignments++;\r\n        stats.calls++;\r\n        stats.unaryOps++;\r\n        out.println(&quot;  y = &quot; + y);\r\n    }\r\n    stats.assignments++;\r\n    stats.calls++;\r\n    stats.unaryOps++;\r\n    out.println(&quot;x = &quot; + x);\r\n    out.printf(&quot;stats = %n%s&quot;, stats.toString().indent(2));\r\n    return null;\r\n}\r\n```\r\n\r\nAnd, here is the output for the same lists.\r\n\r\n```none\r\nnames = 3, [a, b, c]\r\nstats = \r\n  assignments=1\r\n  unaryOps=0\r\n  calls=0\r\n  newObjects=1\r\ntemp = null\r\n  x = 0\r\n    y = 1\r\n    x - y = -1\r\n    y = 2\r\n    x - y = -2\r\n  y = 3\r\n  x = 1\r\n    y = 2\r\n    x - y = -1\r\n  y = 3\r\nx = 2\r\nstats = \r\n  assignments=4\r\n  unaryOps=8\r\n  calls=8\r\n  newObjects=1\r\n\r\nnames = 3, [c, b, a]\r\nstats = \r\n  assignments=1\r\n  unaryOps=0\r\n  calls=0\r\n  newObjects=1\r\ntemp = null\r\n  x = 0\r\n    y = 1\r\n    x - y = 1\r\n      temp = &#39;c&#39;\r\n      swapped 0 and 1\r\n    y = 2\r\n    x - y = 1\r\n      temp = &#39;b&#39;\r\n      swapped 0 and 2\r\n  y = 3\r\n  x = 1\r\n    y = 2\r\n    x - y = 1\r\n      temp = &#39;c&#39;\r\n      swapped 1 and 2\r\n  y = 3\r\nx = 2\r\nstats = \r\n  assignments=4\r\n  unaryOps=8\r\n  calls=29\r\n  newObjects=1\r\n\r\nnames = 10, [d, w, n, u, y, d, s, f, i, s]\r\nstats = \r\n  assignments=1\r\n  unaryOps=0\r\n  calls=0\r\n  newObjects=1\r\ntemp = null\r\n  x = 0\r\n    y = 1\r\n    x - y = -19\r\n    y = 2\r\n    x - y = -10\r\n    y = 3\r\n    x - y = -17\r\n    y = 4\r\n    x - y = -21\r\n    y = 5\r\n    x - y = 0\r\n    y = 6\r\n    x - y = -15\r\n    y = 7\r\n    x - y = -2\r\n    y = 8\r\n    x - y = -5\r\n    y = 9\r\n    x - y = -15\r\n  y = 10\r\n  x = 1\r\n    y = 2\r\n    x - y = 9\r\n      temp = &#39;w&#39;\r\n      swapped 1 and 2\r\n    y = 3\r\n    x - y = -7\r\n    y = 4\r\n    x - y = -11\r\n    y = 5\r\n    x - y = 10\r\n      temp = &#39;n&#39;\r\n      swapped 1 and 5\r\n    y = 6\r\n    x - y = -15\r\n    y = 7\r\n    x - y = -2\r\n    y = 8\r\n    x - y = -5\r\n    y = 9\r\n    x - y = -15\r\n  y = 10\r\n  x = 2\r\n    y = 3\r\n    x - y = 2\r\n      temp = &#39;w&#39;\r\n      swapped 2 and 3\r\n    y = 4\r\n    x - y = -4\r\n    y = 5\r\n    x - y = 7\r\n      temp = &#39;u&#39;\r\n      swapped 2 and 5\r\n    y = 6\r\n    x - y = -5\r\n    y = 7\r\n    x - y = 8\r\n      temp = &#39;n&#39;\r\n      swapped 2 and 7\r\n    y = 8\r\n    x - y = -3\r\n    y = 9\r\n    x - y = -13\r\n  y = 10\r\n  x = 3\r\n    y = 4\r\n    x - y = -2\r\n    y = 5\r\n    x - y = 2\r\n      temp = &#39;w&#39;\r\n      swapped 3 and 5\r\n    y = 6\r\n    x - y = 2\r\n      temp = &#39;u&#39;\r\n      swapped 3 and 6\r\n    y = 7\r\n    x - y = 5\r\n      temp = &#39;s&#39;\r\n      swapped 3 and 7\r\n    y = 8\r\n    x - y = 5\r\n      temp = &#39;n&#39;\r\n      swapped 3 and 8\r\n    y = 9\r\n    x - y = -10\r\n  y = 10\r\n  x = 4\r\n    y = 5\r\n    x - y = 2\r\n      temp = &#39;y&#39;\r\n      swapped 4 and 5\r\n    y = 6\r\n    x - y = 2\r\n      temp = &#39;w&#39;\r\n      swapped 4 and 6\r\n    y = 7\r\n    x - y = 2\r\n      temp = &#39;u&#39;\r\n      swapped 4 and 7\r\n    y = 8\r\n    x - y = 5\r\n      temp = &#39;s&#39;\r\n      swapped 4 and 8\r\n    y = 9\r\n    x - y = -5\r\n  y = 10\r\n  x = 5\r\n    y = 6\r\n    x - y = 2\r\n      temp = &#39;y&#39;\r\n      swapped 5 and 6\r\n    y = 7\r\n    x - y = 2\r\n      temp = &#39;w&#39;\r\n      swapped 5 and 7\r\n    y = 8\r\n    x - y = 2\r\n      temp = &#39;u&#39;\r\n      swapped 5 and 8\r\n    y = 9\r\n    x - y = 0\r\n  y = 10\r\n  x = 6\r\n    y = 7\r\n    x - y = 2\r\n      temp = &#39;y&#39;\r\n      swapped 6 and 7\r\n    y = 8\r\n    x - y = 2\r\n      temp = &#39;w&#39;\r\n      swapped 6 and 8\r\n    y = 9\r\n    x - y = 2\r\n      temp = &#39;u&#39;\r\n      swapped 6 and 9\r\n  y = 10\r\n  x = 7\r\n    y = 8\r\n    x - y = 2\r\n      temp = &#39;y&#39;\r\n      swapped 7 and 8\r\n    y = 9\r\n    x - y = 2\r\n      temp = &#39;w&#39;\r\n      swapped 7 and 9\r\n  y = 10\r\n  x = 8\r\n    y = 9\r\n    x - y = 2\r\n      temp = &#39;y&#39;\r\n      swapped 8 and 9\r\n  y = 10\r\nx = 9\r\nstats = \r\n  assignments=11\r\n  unaryOps=64\r\n  calls=218\r\n  newObjects=1\r\n```","title":"How to count how many times a loop condition is checked","body":"<blockquote>\n<p><em>&quot;... I am working on a program that would count how many statements are executed in an algorithm. I am not able to count when the inside loop condition turns to false. ...&quot;</em></p>\n</blockquote>\n<p><em>Java</em> defines a <em>statement</em> as the following.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html\" rel=\"nofollow noreferrer\">Expressions, Statements, and Blocks (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em>.</p>\n<blockquote>\n<p><em>&quot;Statements are roughly equivalent to sentences in natural languages. A statement forms a complete unit of execution. The following types of expressions can be made into a statement by terminating the expression with a semicolon (;).</em></p>\n<ul>\n<li><em>Assignment expressions</em></li>\n<li><em>Any use of ++ or --</em></li>\n<li><em>Method invocations</em></li>\n<li><em>Object creation expressions</em>&quot;</li>\n</ul>\n</blockquote>\n<p>So, I would use the following for the <em>Stats</em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Stats {\n    int assignments, unaryOps, calls, newObjects;\n\n    @Override\n    public String toString() {\n        return\n              &quot;assignments=%,d%n&quot;.formatted(assignments)\n            + &quot;unaryOps=%,d%n&quot;.formatted(unaryOps)\n            + &quot;calls=%,d%n&quot;.formatted(calls)\n            + &quot;newObjects=%,d&quot;.formatted(newObjects);\n    }\n}\n</code></pre>\n<p>And, for the procedure, I'd count the values like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Stats bubbleSort(List&lt;String&gt; names) {\n    Stats stats = new Stats();\n    stats.assignments++;\n    stats.newObjects++;\n    String temp;\n    for (int x = 0; x &lt; names.size() - 1; x++) {\n        stats.calls++;\n        stats.unaryOps++;\n        for (int y = x + 1; y &lt; names.size(); y++) {\n            stats.calls++;\n            stats.unaryOps++;\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\n                stats.calls += 3;\n                temp = names.get(x);\n                stats.assignments++;\n                stats.calls++;\n                names.set(x, names.get(y));\n                names.set(y, temp);\n                stats.calls += 3;\n            }\n        }\n        stats.assignments++;\n        stats.calls++;\n        stats.unaryOps++;\n    }\n    stats.assignments++;\n    stats.calls++;\n    stats.unaryOps++;\n    return stats;\n}\n</code></pre>\n<p>Here is the output for a 3 item list, <em>&quot;a&quot;, &quot;b&quot;, &quot;c&quot;</em>, once forward and once backward.</p>\n<pre class=\"lang-java prettyprint-override\"><code>assignments=4\nunaryOps=8\ncalls=8\nnewObjects=1\n\nassignments=7\nunaryOps=8\ncalls=29\nnewObjects=1\n</code></pre>\n<blockquote>\n<p><em>&quot;...  The problem is when I am testing it with a List composed of three elements, the loop condition statements are only 6 in the best case scenario. Although, when I manually count it should be 8. What could be causing this? ...&quot;</em></p>\n</blockquote>\n<p>You'll need to increment <em>stats.conditionStatements</em> after the <em>for-loop</em>, additionally.<br />\nAlso, I don't think you're counting the <em>if</em> statement, which is a <em>conditional-statement</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int x = 0; x &lt; names.size() - 1; x++) {\n    for (int y = x + 1; y &lt; names.size(); y++) {\n        if (names.get(x).compareTo(names.get(y)) &gt; 0) {\n        }\n        stats.conditionStatements += 2;\n    }\n    stats.conditionStatements += 2;\n}\nstats.conditionStatements += 1;\n</code></pre>\n<p>As a solution, to visualize the <em>loop</em> execution, and the state of the variables, just print their values.<br />\nI typically indent the output for each <em>scope</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Stats bubbleSort(List&lt;String&gt; names) {\n    out.printf(&quot;names = %,d, %s%n&quot;, names.size(), names);\n // Stats stats = new Stats();\n    String temp;\n    int x, y;\n    for (x = 0; x &lt; names.size() - 1; x++) {\n        out.printf(&quot;  x = %,d%n&quot;, x);\n        for (y = x + 1; y &lt; names.size(); y++) {\n            out.printf(&quot;    y = %,d%n&quot;, y);\n            out.printf(&quot;    x - y = %,d%n&quot;, names.get(x).compareTo(names.get(y)));\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\n                temp = names.get(x);\n                out.printf(&quot;      temp = '%s'%n&quot;, temp);\n                names.set(x, names.get(y));\n                names.set(y, temp);\n                out.printf(&quot;      swapped %,d and %,d%n&quot;, x, y);\n            }\n        }\n        out.printf(&quot;  y = %,d%n&quot;, y);\n    }\n    out.printf(&quot;x = %,d%n&quot;, x);\n    return null;\n}\n</code></pre>\n<p>Here is the output for <em>a, b, c</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>names = 3, [a, b, c]\n  x = 0\n    y = 1\n    x - y = -1\n    y = 2\n    x - y = -2\n  y = 3\n  x = 1\n    y = 2\n    x - y = -1\n  y = 3\nx = 2\n</code></pre>\n<p>Here is <em>c, b, a</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>names = 3, [c, b, a]\n  x = 0\n    y = 1\n    x - y = 1\n      temp = 'c'\n      swapped 0 and 1\n    y = 2\n    x - y = 1\n      temp = 'b'\n      swapped 0 and 2\n  y = 3\n  x = 1\n    y = 2\n    x - y = 1\n      temp = 'c'\n      swapped 1 and 2\n  y = 3\nx = 2\n</code></pre>\n<p>And, here is a random sequence.</p>\n<pre class=\"lang-none prettyprint-override\"><code>names = 10, [i, p, z, p, w, p, a, x, r, m]\n  x = 0\n    y = 1\n    x - y = -7\n    y = 2\n    x - y = -17\n    y = 3\n    x - y = -7\n    y = 4\n    x - y = -14\n    y = 5\n    x - y = -7\n    y = 6\n    x - y = 8\n      temp = 'i'\n      swapped 0 and 6\n    y = 7\n    x - y = -23\n    y = 8\n    x - y = -17\n    y = 9\n    x - y = -12\n  y = 10\n  x = 1\n    y = 2\n    x - y = -10\n    y = 3\n    x - y = 0\n    y = 4\n    x - y = -7\n    y = 5\n    x - y = 0\n    y = 6\n    x - y = 7\n      temp = 'p'\n      swapped 1 and 6\n    y = 7\n    x - y = -15\n    y = 8\n    x - y = -9\n    y = 9\n    x - y = -4\n  y = 10\n  x = 2\n    y = 3\n    x - y = 10\n      temp = 'z'\n      swapped 2 and 3\n    y = 4\n    x - y = -7\n    y = 5\n    x - y = 0\n    y = 6\n    x - y = 0\n    y = 7\n    x - y = -8\n    y = 8\n    x - y = -2\n    y = 9\n    x - y = 3\n      temp = 'p'\n      swapped 2 and 9\n  y = 10\n  x = 3\n    y = 4\n    x - y = 3\n      temp = 'z'\n      swapped 3 and 4\n    y = 5\n    x - y = 7\n      temp = 'w'\n      swapped 3 and 5\n    y = 6\n    x - y = 0\n    y = 7\n    x - y = -8\n    y = 8\n    x - y = -2\n    y = 9\n    x - y = 0\n  y = 10\n  x = 4\n    y = 5\n    x - y = 3\n      temp = 'z'\n      swapped 4 and 5\n    y = 6\n    x - y = 7\n      temp = 'w'\n      swapped 4 and 6\n    y = 7\n    x - y = -8\n    y = 8\n    x - y = -2\n    y = 9\n    x - y = 0\n  y = 10\n  x = 5\n    y = 6\n    x - y = 3\n      temp = 'z'\n      swapped 5 and 6\n    y = 7\n    x - y = -1\n    y = 8\n    x - y = 5\n      temp = 'w'\n      swapped 5 and 8\n    y = 9\n    x - y = 2\n      temp = 'r'\n      swapped 5 and 9\n  y = 10\n  x = 6\n    y = 7\n    x - y = 2\n      temp = 'z'\n      swapped 6 and 7\n    y = 8\n    x - y = 1\n      temp = 'x'\n      swapped 6 and 8\n    y = 9\n    x - y = 5\n      temp = 'w'\n      swapped 6 and 9\n  y = 10\n  x = 7\n    y = 8\n    x - y = 2\n      temp = 'z'\n      swapped 7 and 8\n    y = 9\n    x - y = 1\n      temp = 'x'\n      swapped 7 and 9\n  y = 10\n  x = 8\n    y = 9\n    x - y = 2\n      temp = 'z'\n      swapped 8 and 9\n  y = 10\nx = 9\n</code></pre>\n<p>As a final example, here are both codes merged.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Stats bubbleSort(List&lt;String&gt; names) {\n    out.printf(&quot;names = %,d, %s%n&quot;, names.size(), names);\n    Stats stats = new Stats();\n    stats.assignments++;\n    stats.newObjects++;\n    out.printf(&quot;stats = %n%s&quot;, stats.toString().indent(2));\n    String temp = null;\n    out.println(&quot;temp = &quot; + temp);\n    int x, y;\n    for (x = 0; x &lt; names.size() - 1; x++) {\n        stats.calls++;\n        stats.unaryOps++;\n        out.printf(&quot;  x = %,d%n&quot;, x);\n        for (y = x + 1; y &lt; names.size(); y++) {\n            stats.calls++;\n            stats.unaryOps++;\n            out.printf(&quot;    y = %,d%n&quot;, y);\n            out.printf(&quot;    x - y = %,d%n&quot;, names.get(x).compareTo(names.get(y)));\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\n                stats.calls += 3;\n                temp = names.get(x);\n                stats.calls++;\n                out.printf(&quot;      temp = '%s'%n&quot;, temp);\n                names.set(x, names.get(y));\n                names.set(y, temp);\n                stats.calls += 3;\n                out.printf(&quot;      swapped %,d and %,d%n&quot;, x, y);\n            }\n        }\n        stats.assignments++;\n        stats.calls++;\n        stats.unaryOps++;\n        out.println(&quot;  y = &quot; + y);\n    }\n    stats.assignments++;\n    stats.calls++;\n    stats.unaryOps++;\n    out.println(&quot;x = &quot; + x);\n    out.printf(&quot;stats = %n%s&quot;, stats.toString().indent(2));\n    return null;\n}\n</code></pre>\n<p>And, here is the output for the same lists.</p>\n<pre class=\"lang-none prettyprint-override\"><code>names = 3, [a, b, c]\nstats = \n  assignments=1\n  unaryOps=0\n  calls=0\n  newObjects=1\ntemp = null\n  x = 0\n    y = 1\n    x - y = -1\n    y = 2\n    x - y = -2\n  y = 3\n  x = 1\n    y = 2\n    x - y = -1\n  y = 3\nx = 2\nstats = \n  assignments=4\n  unaryOps=8\n  calls=8\n  newObjects=1\n\nnames = 3, [c, b, a]\nstats = \n  assignments=1\n  unaryOps=0\n  calls=0\n  newObjects=1\ntemp = null\n  x = 0\n    y = 1\n    x - y = 1\n      temp = 'c'\n      swapped 0 and 1\n    y = 2\n    x - y = 1\n      temp = 'b'\n      swapped 0 and 2\n  y = 3\n  x = 1\n    y = 2\n    x - y = 1\n      temp = 'c'\n      swapped 1 and 2\n  y = 3\nx = 2\nstats = \n  assignments=4\n  unaryOps=8\n  calls=29\n  newObjects=1\n\nnames = 10, [d, w, n, u, y, d, s, f, i, s]\nstats = \n  assignments=1\n  unaryOps=0\n  calls=0\n  newObjects=1\ntemp = null\n  x = 0\n    y = 1\n    x - y = -19\n    y = 2\n    x - y = -10\n    y = 3\n    x - y = -17\n    y = 4\n    x - y = -21\n    y = 5\n    x - y = 0\n    y = 6\n    x - y = -15\n    y = 7\n    x - y = -2\n    y = 8\n    x - y = -5\n    y = 9\n    x - y = -15\n  y = 10\n  x = 1\n    y = 2\n    x - y = 9\n      temp = 'w'\n      swapped 1 and 2\n    y = 3\n    x - y = -7\n    y = 4\n    x - y = -11\n    y = 5\n    x - y = 10\n      temp = 'n'\n      swapped 1 and 5\n    y = 6\n    x - y = -15\n    y = 7\n    x - y = -2\n    y = 8\n    x - y = -5\n    y = 9\n    x - y = -15\n  y = 10\n  x = 2\n    y = 3\n    x - y = 2\n      temp = 'w'\n      swapped 2 and 3\n    y = 4\n    x - y = -4\n    y = 5\n    x - y = 7\n      temp = 'u'\n      swapped 2 and 5\n    y = 6\n    x - y = -5\n    y = 7\n    x - y = 8\n      temp = 'n'\n      swapped 2 and 7\n    y = 8\n    x - y = -3\n    y = 9\n    x - y = -13\n  y = 10\n  x = 3\n    y = 4\n    x - y = -2\n    y = 5\n    x - y = 2\n      temp = 'w'\n      swapped 3 and 5\n    y = 6\n    x - y = 2\n      temp = 'u'\n      swapped 3 and 6\n    y = 7\n    x - y = 5\n      temp = 's'\n      swapped 3 and 7\n    y = 8\n    x - y = 5\n      temp = 'n'\n      swapped 3 and 8\n    y = 9\n    x - y = -10\n  y = 10\n  x = 4\n    y = 5\n    x - y = 2\n      temp = 'y'\n      swapped 4 and 5\n    y = 6\n    x - y = 2\n      temp = 'w'\n      swapped 4 and 6\n    y = 7\n    x - y = 2\n      temp = 'u'\n      swapped 4 and 7\n    y = 8\n    x - y = 5\n      temp = 's'\n      swapped 4 and 8\n    y = 9\n    x - y = -5\n  y = 10\n  x = 5\n    y = 6\n    x - y = 2\n      temp = 'y'\n      swapped 5 and 6\n    y = 7\n    x - y = 2\n      temp = 'w'\n      swapped 5 and 7\n    y = 8\n    x - y = 2\n      temp = 'u'\n      swapped 5 and 8\n    y = 9\n    x - y = 0\n  y = 10\n  x = 6\n    y = 7\n    x - y = 2\n      temp = 'y'\n      swapped 6 and 7\n    y = 8\n    x - y = 2\n      temp = 'w'\n      swapped 6 and 8\n    y = 9\n    x - y = 2\n      temp = 'u'\n      swapped 6 and 9\n  y = 10\n  x = 7\n    y = 8\n    x - y = 2\n      temp = 'y'\n      swapped 7 and 8\n    y = 9\n    x - y = 2\n      temp = 'w'\n      swapped 7 and 9\n  y = 10\n  x = 8\n    y = 9\n    x - y = 2\n      temp = 'y'\n      swapped 8 and 9\n  y = 10\nx = 9\nstats = \n  assignments=11\n  unaryOps=64\n  calls=218\n  newObjects=1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24764960,"reputation":11,"user_id":18648894,"display_name":"bebo969"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693761805,"creation_date":1693761805,"answer_id":77033443,"question_id":77031109,"body_markdown":"The correct counting of the conditions:\r\n\r\n    for (int x = 0; x &lt; names.size() - 1; x++) {\r\n        for (int y = x + 1; y &lt; names.size(); y++) {\r\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\r\n            }\r\n            stats.conditionStatements += 1;\r\n        }\r\n        stats.conditionStatements += 2;\r\n    }\r\n    stats.conditionStatements += 1;\r\n\r\n\r\nWithin the inner loop, we count the true condition, so we increase the counter by one there. Outside of the inner cycle, but within the outer cycle, we count also the true condition of the outer cycle and the false condition that causes exit from the inner cycle. Therefore, the counter must be increased by two there. Finally, after the outer loop, we increase it by one again, because of the false condition only.","title":"How to count how many times a loop condition is checked","body":"<p>The correct counting of the conditions:</p>\n<pre><code>for (int x = 0; x &lt; names.size() - 1; x++) {\n    for (int y = x + 1; y &lt; names.size(); y++) {\n        if (names.get(x).compareTo(names.get(y)) &gt; 0) {\n        }\n        stats.conditionStatements += 1;\n    }\n    stats.conditionStatements += 2;\n}\nstats.conditionStatements += 1;\n</code></pre>\n<p>Within the inner loop, we count the true condition, so we increase the counter by one there. Outside of the inner cycle, but within the outer cycle, we count also the true condition of the outer cycle and the false condition that causes exit from the inner cycle. Therefore, the counter must be increased by two there. Finally, after the outer loop, we increase it by one again, because of the false condition only.</p>\n"}],"owner":{"account_id":28640020,"reputation":1,"user_id":21929324,"display_name":"Sheryn C"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693777603,"creation_date":1693721682,"question_id":77031109,"body_markdown":"I am working on a program that would count how many statements are executed in an algorithm. I am not able to count when the inside loop condition turns to false.\r\n\r\nCurrently, I am working on a program that counts the number of executed statements in a bubble sort algorithm. Here is my current method: \r\n\r\n```\r\npublic static Stats bubbleSort(List&lt;String&gt; names) {\r\n    Stats stats = new Stats();\r\n    for (int x = 0; x &lt; names.size() - 1; x++) {\r\n        for (int y = x + 1; y &lt; names.size(); y++) {\r\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\r\n                String temp = names.get(x);\r\n                names.set(x, names.get(y));\r\n                names.set(y, temp);\r\n                stats.inLineStatements += 3;\r\n            }\r\n            stats.ifStatements += 1;\r\n            stats.updateExpressionStatements += 1;\r\n            stats.conditionStatements += 1;\r\n        }\r\n        stats.updateExpressionStatements += 1;\r\n        stats.conditionStatements += 1;\r\n    }\r\n    stats.conditionStatements += 1;\r\n    stats.initializationExpressionStatements += 2;\r\n    return stats;\r\n}\r\n```\r\nI made a Stats class containing the different statements to be counted. The problem is when I am testing it with a List composed of three elements, the loop condition statements are only 6 in the best case scenario. Although, when I manually count it should be 8. What could be causing this? I am suspecting that it has something to do with the inner loop not being counted although I am not quite sure. \r\n\r\nHere is an example of a sample run:\r\n\r\n```none\r\nBubble Sort: \r\nInitialization Statements (For Loop): \t2\r\nLoop Condition Statements: \t6\r\nIf Statements: \t3\r\nIn Line Statements: \t0\r\nUpdate Expression Statements (For Loop): \t5\r\nTotal Statements: \t16\r\n```","title":"How to count how many times a loop condition is checked","body":"<p>I am working on a program that would count how many statements are executed in an algorithm. I am not able to count when the inside loop condition turns to false.</p>\n<p>Currently, I am working on a program that counts the number of executed statements in a bubble sort algorithm. Here is my current method:</p>\n<pre><code>public static Stats bubbleSort(List&lt;String&gt; names) {\n    Stats stats = new Stats();\n    for (int x = 0; x &lt; names.size() - 1; x++) {\n        for (int y = x + 1; y &lt; names.size(); y++) {\n            if (names.get(x).compareTo(names.get(y)) &gt; 0) {\n                String temp = names.get(x);\n                names.set(x, names.get(y));\n                names.set(y, temp);\n                stats.inLineStatements += 3;\n            }\n            stats.ifStatements += 1;\n            stats.updateExpressionStatements += 1;\n            stats.conditionStatements += 1;\n        }\n        stats.updateExpressionStatements += 1;\n        stats.conditionStatements += 1;\n    }\n    stats.conditionStatements += 1;\n    stats.initializationExpressionStatements += 2;\n    return stats;\n}\n</code></pre>\n<p>I made a Stats class containing the different statements to be counted. The problem is when I am testing it with a List composed of three elements, the loop condition statements are only 6 in the best case scenario. Although, when I manually count it should be 8. What could be causing this? I am suspecting that it has something to do with the inner loop not being counted although I am not quite sure.</p>\n<p>Here is an example of a sample run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Bubble Sort: \nInitialization Statements (For Loop):   2\nLoop Condition Statements:  6\nIf Statements:  3\nIn Line Statements:     0\nUpdate Expression Statements (For Loop):    5\nTotal Statements:   16\n</code></pre>\n"},{"tags":["java","mysql","hibernate","spring-mvc","maven-3"],"comments":[{"owner":{"account_id":7292926,"reputation":715,"user_id":5558746,"accept_rate":86,"display_name":"Ghost Rider"},"score":0,"creation_date":1487436110,"post_id":42317566,"comment_id":71788973,"body_markdown":"I have added &quot;Transactional&quot; annotation to all the methods of PersonServiceImpl method which is again annotated with &quot;@Service&quot; at class level.","body":"I have added &quot;Transactional&quot; annotation to all the methods of PersonServiceImpl method which is again annotated with &quot;@Service&quot; at class level."},{"owner":{"account_id":4563058,"reputation":9186,"user_id":3704831,"accept_rate":78,"display_name":"wogsland"},"score":0,"creation_date":1487437491,"post_id":42317566,"comment_id":71789426,"body_markdown":"Suggested Reading: [How to create a Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve)","body":"Suggested Reading: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>"},{"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"score":0,"creation_date":1487443760,"post_id":42317566,"comment_id":71791708,"body_markdown":"Please share your sample Java JDBC connection you tried.","body":"Please share your sample Java JDBC connection you tried."}],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487438309,"creation_date":1487438309,"answer_id":42318242,"question_id":42317566,"body_markdown":"You have defined your `personService` in the xml file, but you try to add transactional behaviour to it via annotations. Not 100% sure but i would stick to the xml definitions all the way and add transactional configuration there:\r\n\r\n    &lt;!-- the transactional advice (what &#39;happens&#39;; see the &lt;aop:advisor/&gt; bean below) --&gt;\r\n        &lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;txManager&quot;&gt;\r\n            &lt;!-- the transactional semantics... --&gt;\r\n            &lt;tx:attributes&gt;\r\n                &lt;!-- all methods starting with &#39;get&#39; are read-only --&gt;\r\n                &lt;tx:method name=&quot;get*&quot; read-only=&quot;true&quot;/&gt;\r\n                &lt;!-- other methods use the default transaction settings (see below) --&gt;\r\n                &lt;tx:method name=&quot;*&quot;/&gt;\r\n            &lt;/tx:attributes&gt;\r\n        &lt;/tx:advice&gt;\r\n    \r\n        &lt;!-- ensure that the above transactional advice runs for any execution\r\n            of an operation defined by the FooService interface --&gt;\r\n        &lt;aop:config&gt;\r\n            &lt;aop:pointcut id=&quot;personServiceOperation&quot; expression=&quot;execution(* com.journeldev.spring.service.PersonServiceImpl.*(..))&quot;/&gt;\r\n            &lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;personServiceOperation&quot;/&gt;\r\n        &lt;/aop:config&gt;\r\n\r\nAlso remove the @Transactional annotations from the service just in case.\r\n\r\nExample is based on: [Spring Transaction Management Article][1]. It contains information on how to make your entire service layer transactional using xml configuration.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/transaction.html","title":"Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Could not open connection","body":"<p>You have defined your <code>personService</code> in the xml file, but you try to add transactional behaviour to it via annotations. Not 100% sure but i would stick to the xml definitions all the way and add transactional configuration there:</p>\n\n<pre><code>&lt;!-- the transactional advice (what 'happens'; see the &lt;aop:advisor/&gt; bean below) --&gt;\n    &lt;tx:advice id=\"txAdvice\" transaction-manager=\"txManager\"&gt;\n        &lt;!-- the transactional semantics... --&gt;\n        &lt;tx:attributes&gt;\n            &lt;!-- all methods starting with 'get' are read-only --&gt;\n            &lt;tx:method name=\"get*\" read-only=\"true\"/&gt;\n            &lt;!-- other methods use the default transaction settings (see below) --&gt;\n            &lt;tx:method name=\"*\"/&gt;\n        &lt;/tx:attributes&gt;\n    &lt;/tx:advice&gt;\n\n    &lt;!-- ensure that the above transactional advice runs for any execution\n        of an operation defined by the FooService interface --&gt;\n    &lt;aop:config&gt;\n        &lt;aop:pointcut id=\"personServiceOperation\" expression=\"execution(* com.journeldev.spring.service.PersonServiceImpl.*(..))\"/&gt;\n        &lt;aop:advisor advice-ref=\"txAdvice\" pointcut-ref=\"personServiceOperation\"/&gt;\n    &lt;/aop:config&gt;\n</code></pre>\n\n<p>Also remove the @Transactional annotations from the service just in case.</p>\n\n<p>Example is based on: <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/transaction.html\" rel=\"nofollow noreferrer\">Spring Transaction Management Article</a>. It contains information on how to make your entire service layer transactional using xml configuration.</p>\n"},{"tags":[],"owner":{"account_id":2555788,"reputation":794,"user_id":2217804,"accept_rate":75,"display_name":"raminr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693777190,"creation_date":1487438948,"answer_id":42318359,"question_id":42317566,"body_markdown":"You should trust the error message: \r\n\r\n&gt; org.hibernate.exception.JDBCConnectionException: Could not open\r\n&gt; connection\r\n\r\nJust because you can connect to the DB using a MySQL client application, doesn&#39;t mean that you can get to the DB over TCP. MySQL can connect over TCP port, or it could connect using pipe. Your MySQL client is probably connecting to the DB using *named pipe*.\r\n\r\nhttps://dev.mysql.com/doc/refman/5.7/en/connecting.html\r\n","title":"Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Could not open connection","body":"<p>You should trust the error message:</p>\n<blockquote>\n<p>org.hibernate.exception.JDBCConnectionException: Could not open\nconnection</p>\n</blockquote>\n<p>Just because you can connect to the DB using a MySQL client application, doesn't mean that you can get to the DB over TCP. MySQL can connect over TCP port, or it could connect using pipe. Your MySQL client is probably connecting to the DB using <em>named pipe</em>.</p>\n<p><a href=\"https://dev.mysql.com/doc/refman/5.7/en/connecting.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/5.7/en/connecting.html</a></p>\n"},{"tags":[],"owner":{"account_id":7292926,"reputation":715,"user_id":5558746,"accept_rate":86,"display_name":"Ghost Rider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682346978,"creation_date":1487999379,"answer_id":42452216,"question_id":42317566,"body_markdown":"That&#39;s one heck of a mistake that I have done.! I apologize. There is no issue from the code and the xml configuration file.\r\n\r\nInitial Plan: I have MySql setup in a virtual machine and running under port 3306. Plan is to run the application from tomcat instance that is running on my host machine. So, I have initiated port forwarding from host to VM with port 3307-&gt;3306 and a remote user &#39;raju&#39; is created in MySQL to be able to connect from my host(tomcat running in host).\r\n\r\n&gt; Mistake: (because of some inexplicable reasons). I have decided to\r\n&gt; run the application in a separate tomcat instance that is running on\r\n&gt; my Virtual machine. In that case both tomcat and MySQL will be running\r\n&gt; on the same machine.\r\n&gt; \r\n&gt; 1: so there is no need do the PORT FORWARDING I should directly use\r\n&gt; the port 3306.\r\n&gt; \r\n&gt; \r\n&gt; 2: I have granted permission to the current remote user ( &#39;raju&#39; ) to\r\n&gt; have the ability to connect locally as\r\n\r\n    grant all privileges on rajuDB.* to &#39;raju&#39;@&#39;localhost&#39; identified by &#39;XXXX&#39;;\r\n\r\n\r\nFinal Result: Now I am able to fetch the details from database. Everything works as expected.","title":"Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Could not open connection","body":"<p>That's one heck of a mistake that I have done.! I apologize. There is no issue from the code and the xml configuration file.</p>\n<p>Initial Plan: I have MySql setup in a virtual machine and running under port 3306. Plan is to run the application from tomcat instance that is running on my host machine. So, I have initiated port forwarding from host to VM with port 3307-&gt;3306 and a remote user 'raju' is created in MySQL to be able to connect from my host(tomcat running in host).</p>\n<blockquote>\n<p>Mistake: (because of some inexplicable reasons). I have decided to\nrun the application in a separate tomcat instance that is running on\nmy Virtual machine. In that case both tomcat and MySQL will be running\non the same machine.</p>\n<p>1: so there is no need do the PORT FORWARDING I should directly use\nthe port 3306.</p>\n<p>2: I have granted permission to the current remote user ( 'raju' ) to\nhave the ability to connect locally as</p>\n</blockquote>\n<pre><code>grant all privileges on rajuDB.* to 'raju'@'localhost' identified by 'XXXX';\n</code></pre>\n<p>Final Result: Now I am able to fetch the details from database. Everything works as expected.</p>\n"},{"tags":[],"owner":{"account_id":15644115,"reputation":1,"user_id":11286714,"display_name":"Ashutosh Dubey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590061193,"creation_date":1590061193,"answer_id":61933680,"question_id":42317566,"body_markdown":"if you find , every bit of your connection code is correct , then you should check your Mysql Version that should compatible with Spring .\r\nsome of the older version is doesn&#39;t work with Spring latest version.","title":"Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Could not open connection","body":"<p>if you find , every bit of your connection code is correct , then you should check your Mysql Version that should compatible with Spring .\nsome of the older version is doesn't work with Spring latest version.</p>\n"}],"owner":{"account_id":7292926,"reputation":715,"user_id":5558746,"accept_rate":86,"display_name":"Ghost Rider"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28849,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":42452216,"answer_count":4,"score":7,"last_activity_date":1693777190,"creation_date":1487434644,"question_id":42317566,"body_markdown":"I am new to Spring-MVC and Hibernate. Trying to create a test web application with **Spring-MVC(4.0.3)** , **Hibernate(4.3.5)** and using **MySQL** as back end.\r\n\r\nThere is no issue in connecting to the DB as I tried to fetch the data from the same db in a sample testJavaClass by using simple JDBC connection statements and I am able to fetch the records.\r\n\r\nError Log:\r\n\r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is  org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is   org.hibernate.exception.JDBCConnectionException: Could not open connection\r\n\t org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:973)\r\n\torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:620)\r\n\torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n    \r\n    root cause\r\n\r\n     org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Could not open connection\r\n\torg.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:515)\r\n\torg.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\r\n\torg.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:420)\r\n\torg.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:257)\r\n\torg.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\r\n\torg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\torg.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n\tcom.sun.proxy.$Proxy130.listPersons(Unknown Source)\r\n\tcom.journeldev.spring.PersonController.listPersons(PersonController.java:29)\r\n\tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tjava.lang.reflect.Method.invoke(Method.java:606)\r\n\torg.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\r\n\torg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n\torg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n\torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:749)\r\n\torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:689)\r\n\torg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\r\n\torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:938)\r\n\torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\r\n\torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\r\n\torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:620)\r\n\torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\r\n\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n\r\n\r\nHere is my pom.xml:\r\n\r\n       &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;org.raju.spring&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-mvc-hibernate&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n  \r\n      &lt;properties&gt;\r\n\t\t&lt;java-version&gt;1.7&lt;/java-version&gt;\r\n\t\t&lt;org.springframework-version&gt;4.0.3.RELEASE&lt;/org.springframework-version&gt;\r\n\t\t&lt;org.aspectj-version&gt;1.7.4&lt;/org.aspectj-version&gt;\r\n\t\t&lt;org.slf4j-version&gt;1.7.5&lt;/org.slf4j-version&gt;\r\n\t\t&lt;hibernate.version&gt;4.3.5.Final&lt;/hibernate.version&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t\t &lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Apache Commons DBCP --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Spring ORM --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- AspectJ --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.aspectj-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Logging --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.15&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- @Inject --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Servlet --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- Test --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;5.1.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\t\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n                \t&lt;version&gt;2.9&lt;/version&gt;\r\n                \t&lt;configuration&gt;\r\n                    \t&lt;additionalProjectnatures&gt;\r\n                        \t &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\r\n                    \t&lt;/additionalProjectnatures&gt;\r\n                    \t&lt;additionalBuildcommands&gt;\r\n                        \t&lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\r\n                    \t&lt;/additionalBuildcommands&gt;\r\n                    \t&lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n                    \t&lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\r\n                \t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.6&lt;/source&gt;\r\n                    &lt;target&gt;1.6&lt;/target&gt;\r\n                    &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\r\n                    &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n\t   &lt;/build&gt;\r\n      &lt;/project&gt;\r\n\r\nProject structure in Eclipse:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nservlet-context.xml: (updated as per the answer by @Maciej Kowalski and I still see the same issue)\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n\t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n\t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd http://www.springframework.org/schema/aop\r\n\t\thttp://www.springframework.org/schema/aop/spring-aop-3.0.xsd&quot;&gt;\r\n\r\n\t&lt;!-- DispatcherServlet Context: defines this servlet&#39;s request-processing \r\n\t\tinfrastructure --&gt;\r\n\r\n\t&lt;!-- Enables the Spring MVC @Controller programming model --&gt;\r\n\t&lt;annotation-driven /&gt;\r\n\r\n\t&lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving \r\n\t\tup static resources in the ${webappRoot}/resources directory --&gt;\r\n\t&lt;resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n\r\n\t&lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources \r\n\t\tin the /WEB-INF/views directory --&gt;\r\n\t&lt;beans:bean\r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;beans:bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\r\n\t\tdestroy-method=&quot;close&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;url&quot;\r\n\t\t\tvalue=&quot;jdbc:mysql://localhost:3307/rajuDB&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;username&quot; value=&quot;raju&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;password&quot; value=&quot;raju&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;!-- Hibernate 4 SessionFactory Bean definition --&gt;\r\n\t&lt;beans:bean id=&quot;hibernate4AnnotatedSessionFactory&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;annotatedClasses&quot;&gt;\r\n\t\t\t&lt;beans:list&gt;\r\n\t\t\t\t&lt;beans:value&gt;com.journeldev.spring.model.Person&lt;/beans:value&gt;\r\n\t\t\t&lt;/beans:list&gt;\r\n\t\t&lt;/beans:property&gt;\r\n\t\t&lt;beans:property name=&quot;hibernateProperties&quot;&gt;\r\n\t\t\t&lt;beans:props&gt;\r\n\t\t\t\t&lt;beans:prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect\r\n\t\t\t\t&lt;/beans:prop&gt;\r\n\t\t\t\t&lt;beans:prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/beans:prop&gt;\r\n\t\t\t&lt;/beans:props&gt;\r\n\t\t&lt;/beans:property&gt;\r\n\t&lt;/beans:bean&gt;\r\n\t\r\n\t&lt;beans:bean id=&quot;personDAO&quot; class=&quot;com.journeldev.spring.dao.PersonDAOImpl&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;sessionFactory&quot; ref=&quot;hibernate4AnnotatedSessionFactory&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\t&lt;beans:bean id=&quot;personService&quot; class=&quot;com.journeldev.spring.service.PersonServiceImpl&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;personDAO&quot; ref=&quot;personDAO&quot;&gt;&lt;/beans:property&gt;\r\n\t&lt;/beans:bean&gt;\r\n\t\r\n\t&lt;!-- the transactional advice (what &#39;happens&#39;; see the &lt;aop:advisor/&gt; bean below) --&gt;\r\n    \r\n\t&lt;context:component-scan base-package=&quot;com.journeldev.spring&quot; /&gt;\r\n\t\r\n\t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;\r\n\t\r\n\t&lt;beans:bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;sessionFactory&quot; ref=&quot;hibernate4AnnotatedSessionFactory&quot; /&gt;\r\n\t &lt;/beans:bean&gt;\r\n\r\n     &lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;&gt;\r\n        &lt;!-- the transactional semantics... --&gt;\r\n        &lt;tx:attributes&gt;\r\n            &lt;!-- all methods starting with &#39;get&#39; are read-only --&gt;\r\n            &lt;tx:method name=&quot;get*&quot; read-only=&quot;true&quot;/&gt;\r\n            &lt;!-- other methods use the default transaction settings (see below) --&gt;\r\n            &lt;tx:method name=&quot;*&quot;/&gt;\r\n        &lt;/tx:attributes&gt;\r\n     &lt;/tx:advice&gt;\r\n\r\n     &lt;!-- ensure that the above transactional advice runs for any execution\r\n        of an operation defined by the FooService interface --&gt;\r\n     &lt;aop:config&gt;\r\n        &lt;aop:pointcut id=&quot;personServiceOperation&quot; expression=&quot;execution(* com.journeldev.spring.service.PersonServiceImpl.*(..))&quot;/&gt;\r\n        &lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;personServiceOperation&quot;/&gt;\r\n     &lt;/aop:config&gt;\r\n     &lt;/beans:beans&gt;\r\n\r\nI have checked a lot of other threads on the internet and tried to change my `servlet-context.xml` file but nothing solved my issue.\r\n\r\nEx: tried to add extra parameters as per this [StackOverflow Thread][2] as below\r\n\r\n        &lt;beans:property name=&quot;initialSize&quot; value=&quot;7&quot;/&gt;\r\n\t\t&lt;beans:property name=&quot;maxActive&quot; value=&quot;7&quot;/&gt;\r\n\t\t&lt;beans:property name=&quot;maxWait&quot; value=&quot;10000&quot;/&gt;\r\n\t\t&lt;beans:property name=&quot;validationQuery&quot; value=&quot;SELECT 1&quot; /&gt;\r\n        &lt;beans:property name=&quot;validationQueryTimeout&quot; value=&quot;34000&quot; /&gt;\r\n        &lt;beans:property name=&quot;testOnBorrow&quot; value=&quot;true&quot; /&gt;\r\n\r\n&gt; Result: issue still remains same:\r\n\r\nEx 2: tried to change data source as per this [StackOverflow Thread][3] as below\r\n\r\n    &lt;beans:bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;url&quot;\r\n\t\t\tvalue=&quot;jdbc:mysql://localhost:3307/rajuDB&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;username&quot; value=&quot;raju&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;password&quot; value=&quot;raju&quot; /&gt;\r\n    &lt;/beans:bean&gt;\r\n\r\n&gt; result: issue remains same\r\n\r\nUpdate as per comment from @James Jithin :19-Feb-2017\r\n\r\n    try{\r\n\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\t\tConnection  conn=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/rajuDB&quot;, &quot;raju&quot;, &quot;raju&quot;);\r\n\t\t\tStatement state=conn.createStatement();\r\n\t\t\tResultSet rs=state.executeQuery(&quot;select * from Person&quot;);\r\n\t\t\t\r\n\t\t\tif(rs!=null &amp;&amp; rs.next())\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;conn connected&quot;);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;not connected&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t\t\r\n\t\t}\r\n\r\n  [1]: https://i.stack.imgur.com/KIt6l.png\r\n  [2]: https://stackoverflow.com/questions/31476782/could-not-open-hibernate-session-for-transaction-on-first-login\r\n  [3]: https://stackoverflow.com/questions/20261404/springmvc-hibernate-cannotcreatetransactionexception-could-not-open-hiberna","title":"Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Could not open connection","body":"<p>I am new to Spring-MVC and Hibernate. Trying to create a test web application with <strong>Spring-MVC(4.0.3)</strong> , <strong>Hibernate(4.3.5)</strong> and using <strong>MySQL</strong> as back end.</p>\n\n<p>There is no issue in connecting to the DB as I tried to fetch the data from the same db in a sample testJavaClass by using simple JDBC connection statements and I am able to fetch the records.</p>\n\n<p>Error Log:</p>\n\n<pre><code>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is  org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is   org.hibernate.exception.JDBCConnectionException: Could not open connection\n org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:973)\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:620)\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:727)\n\nroot cause\n\n org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Could not open connection\norg.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:515)\norg.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\norg.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:420)\norg.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:257)\norg.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\norg.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\ncom.sun.proxy.$Proxy130.listPersons(Unknown Source)\ncom.journeldev.spring.PersonController.listPersons(PersonController.java:29)\nsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.lang.reflect.Method.invoke(Method.java:606)\norg.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\norg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\norg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:749)\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:689)\norg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:938)\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:620)\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\njavax.servlet.http.HttpServlet.service(HttpServlet.java:727)\n</code></pre>\n\n<p>Here is my pom.xml:</p>\n\n<pre><code>   &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.raju.spring&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-mvc-hibernate&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;properties&gt;\n    &lt;java-version&gt;1.7&lt;/java-version&gt;\n    &lt;org.springframework-version&gt;4.0.3.RELEASE&lt;/org.springframework-version&gt;\n    &lt;org.aspectj-version&gt;1.7.4&lt;/org.aspectj-version&gt;\n    &lt;org.slf4j-version&gt;1.7.5&lt;/org.slf4j-version&gt;\n    &lt;hibernate.version&gt;4.3.5.Final&lt;/hibernate.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n             &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Apache Commons DBCP --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring ORM --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- AspectJ --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;version&gt;${org.aspectj-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Logging --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.15&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n                &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n                &lt;artifactId&gt;jms&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n                &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n                &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- @Inject --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n        &lt;version&gt;1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Servlet --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Test --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.7&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.9&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;additionalProjectnatures&gt;\n                         &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\n                    &lt;/additionalProjectnatures&gt;\n                    &lt;additionalBuildcommands&gt;\n                        &lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\n                    &lt;/additionalBuildcommands&gt;\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n                    &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\n                &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.6&lt;/source&gt;\n                &lt;target&gt;1.6&lt;/target&gt;\n                &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\n                &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n   &lt;/build&gt;\n  &lt;/project&gt;\n</code></pre>\n\n<p>Project structure in Eclipse:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KIt6l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KIt6l.png\" alt=\"enter image description here\"></a></p>\n\n<p>servlet-context.xml: (updated as per the answer by @Maciej Kowalski and I still see the same issue)</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n &lt;beans:beans xmlns=\"http://www.springframework.org/schema/mvc\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:beans=\"http://www.springframework.org/schema/beans\"\nxmlns:context=\"http://www.springframework.org/schema/context\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\nxmlns:aop=\"http://www.springframework.org/schema/aop\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\n    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd http://www.springframework.org/schema/aop\n    http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\"&gt;\n\n&lt;!-- DispatcherServlet Context: defines this servlet's request-processing \n    infrastructure --&gt;\n\n&lt;!-- Enables the Spring MVC @Controller programming model --&gt;\n&lt;annotation-driven /&gt;\n\n&lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving \n    up static resources in the ${webappRoot}/resources directory --&gt;\n&lt;resources mapping=\"/resources/**\" location=\"/resources/\" /&gt;\n\n&lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources \n    in the /WEB-INF/views directory --&gt;\n&lt;beans:bean\n    class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;beans:property name=\"prefix\" value=\"/WEB-INF/views/\" /&gt;\n    &lt;beans:property name=\"suffix\" value=\".jsp\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"\n    destroy-method=\"close\"&gt;\n    &lt;beans:property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n    &lt;beans:property name=\"url\"\n        value=\"jdbc:mysql://localhost:3307/rajuDB\" /&gt;\n    &lt;beans:property name=\"username\" value=\"raju\" /&gt;\n    &lt;beans:property name=\"password\" value=\"raju\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;!-- Hibernate 4 SessionFactory Bean definition --&gt;\n&lt;beans:bean id=\"hibernate4AnnotatedSessionFactory\"\n    class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;beans:property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;beans:property name=\"annotatedClasses\"&gt;\n        &lt;beans:list&gt;\n            &lt;beans:value&gt;com.journeldev.spring.model.Person&lt;/beans:value&gt;\n        &lt;/beans:list&gt;\n    &lt;/beans:property&gt;\n    &lt;beans:property name=\"hibernateProperties\"&gt;\n        &lt;beans:props&gt;\n            &lt;beans:prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect\n            &lt;/beans:prop&gt;\n            &lt;beans:prop key=\"hibernate.show_sql\"&gt;true&lt;/beans:prop&gt;\n        &lt;/beans:props&gt;\n    &lt;/beans:property&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"personDAO\" class=\"com.journeldev.spring.dao.PersonDAOImpl\"&gt;\n    &lt;beans:property name=\"sessionFactory\" ref=\"hibernate4AnnotatedSessionFactory\" /&gt;\n&lt;/beans:bean&gt;\n&lt;beans:bean id=\"personService\" class=\"com.journeldev.spring.service.PersonServiceImpl\"&gt;\n    &lt;beans:property name=\"personDAO\" ref=\"personDAO\"&gt;&lt;/beans:property&gt;\n&lt;/beans:bean&gt;\n\n&lt;!-- the transactional advice (what 'happens'; see the &lt;aop:advisor/&gt; bean below) --&gt;\n\n&lt;context:component-scan base-package=\"com.journeldev.spring\" /&gt;\n\n&lt;tx:annotation-driven transaction-manager=\"transactionManager\"/&gt;\n\n&lt;beans:bean id=\"transactionManager\" class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n    &lt;beans:property name=\"sessionFactory\" ref=\"hibernate4AnnotatedSessionFactory\" /&gt;\n &lt;/beans:bean&gt;\n\n &lt;tx:advice id=\"txAdvice\" transaction-manager=\"transactionManager\"&gt;\n    &lt;!-- the transactional semantics... --&gt;\n    &lt;tx:attributes&gt;\n        &lt;!-- all methods starting with 'get' are read-only --&gt;\n        &lt;tx:method name=\"get*\" read-only=\"true\"/&gt;\n        &lt;!-- other methods use the default transaction settings (see below) --&gt;\n        &lt;tx:method name=\"*\"/&gt;\n    &lt;/tx:attributes&gt;\n &lt;/tx:advice&gt;\n\n &lt;!-- ensure that the above transactional advice runs for any execution\n    of an operation defined by the FooService interface --&gt;\n &lt;aop:config&gt;\n    &lt;aop:pointcut id=\"personServiceOperation\" expression=\"execution(* com.journeldev.spring.service.PersonServiceImpl.*(..))\"/&gt;\n    &lt;aop:advisor advice-ref=\"txAdvice\" pointcut-ref=\"personServiceOperation\"/&gt;\n &lt;/aop:config&gt;\n &lt;/beans:beans&gt;\n</code></pre>\n\n<p>I have checked a lot of other threads on the internet and tried to change my <code>servlet-context.xml</code> file but nothing solved my issue.</p>\n\n<p>Ex: tried to add extra parameters as per this <a href=\"https://stackoverflow.com/questions/31476782/could-not-open-hibernate-session-for-transaction-on-first-login\">StackOverflow Thread</a> as below</p>\n\n<pre><code>    &lt;beans:property name=\"initialSize\" value=\"7\"/&gt;\n    &lt;beans:property name=\"maxActive\" value=\"7\"/&gt;\n    &lt;beans:property name=\"maxWait\" value=\"10000\"/&gt;\n    &lt;beans:property name=\"validationQuery\" value=\"SELECT 1\" /&gt;\n    &lt;beans:property name=\"validationQueryTimeout\" value=\"34000\" /&gt;\n    &lt;beans:property name=\"testOnBorrow\" value=\"true\" /&gt;\n</code></pre>\n\n<blockquote>\n  <p>Result: issue still remains same:</p>\n</blockquote>\n\n<p>Ex 2: tried to change data source as per this <a href=\"https://stackoverflow.com/questions/20261404/springmvc-hibernate-cannotcreatetransactionexception-could-not-open-hiberna\">StackOverflow Thread</a> as below</p>\n\n<pre><code>&lt;beans:bean id=\"dataSource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;beans:property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n    &lt;beans:property name=\"url\"\n        value=\"jdbc:mysql://localhost:3307/rajuDB\" /&gt;\n    &lt;beans:property name=\"username\" value=\"raju\" /&gt;\n    &lt;beans:property name=\"password\" value=\"raju\" /&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<blockquote>\n  <p>result: issue remains same</p>\n</blockquote>\n\n<p>Update as per comment from @James Jithin :19-Feb-2017</p>\n\n<pre><code>try{\n        Class.forName(\"com.mysql.jdbc.Driver\");\n        Connection  conn=DriverManager.getConnection(\"jdbc:mysql://localhost:3307/rajuDB\", \"raju\", \"raju\");\n        Statement state=conn.createStatement();\n        ResultSet rs=state.executeQuery(\"select * from Person\");\n\n        if(rs!=null &amp;&amp; rs.next())\n        {\n            System.out.println(\"conn connected\");\n        }\n        else\n        {\n            System.out.println(\"not connected\");\n        }\n    }\n    catch(Exception e){\n\n    }\n</code></pre>\n"},{"tags":["java","spring"],"owner":{"account_id":5853055,"reputation":1234,"user_id":4611186,"accept_rate":62,"display_name":"Katlock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693776380,"creation_date":1693776380,"question_id":77034226,"body_markdown":"I am using the following to return a page of objects from my backend service:\r\n\r\n```\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;pageable&quot;})\r\nclass RestPage&lt;Role&gt; extends PageImpl&lt;Role&gt; {\r\n    private static final Logger LOG = LoggerFactory.getLogger(RestPage.class);\r\n\r\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\r\n    public RestPage(@JsonProperty(&quot;content&quot;) List&lt;Role&gt; content,\r\n                    @JsonProperty(&quot;number&quot;) int page,\r\n                    @JsonProperty(&quot;size&quot;) int size,\r\n                    @JsonProperty(&quot;totalElements&quot;) long total,\r\n                    @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements,\r\n                    @JsonProperty(&quot;pageNumber&quot;) int pageNumber\r\n    ) {\r\n        super(content, PageRequest.of(page, size), total);\r\n    }\r\n\r\n    public RestPage(Page&lt;Role&gt; page) {\r\n        super(page.getContent(), page.getPageable(), page.getTotalElements());\r\n        LOG.info(&quot;page.content: {}&quot;, page.getContent());\r\n    }\r\n\r\n    \r\n\r\n}\r\n```\r\n\r\nWhen I fetch the page from the following http requests and attempt to go thru the stream with list using following code:\r\n```\r\n  EntityExchangeResult&lt;RestPage&gt; entityExchangeResult = webTestClient.get().uri(&quot;/roles/&quot;+organizationId)\r\n                .headers(addJwt(jwt)).exchange().expectStatus().isOk().expectBody(RestPage.class)\r\n                .returnResult();\r\n\r\n       \r\n        LOG.info(&quot;roles found: {}&quot;, entityExchangeResult.getResponseBody().getContent());\r\n        List&lt;Role&gt; list = entityExchangeResult.getResponseBody().getContent();\r\n        List&lt;String&gt; listOfNames = list.stream().map(Role::getName).collect(toList());\r\n\r\n```\r\n\r\nI get the following error on the `map()` function line:\r\n```\r\nclass java.util.LinkedHashMap cannot be cast to class my.package.repo.entity.Role\r\n```\r\n\r\nIs there a way to put a ObjectMapper call in the `RestPage` to convert to the Object type I want?  I would like to get my specific type instead of a LinkedHashMap that I am seeing currently.\r\n\r\n\r\n","title":"How to convert a Restpage to a specific object type in Spring?","body":"<p>I am using the following to return a page of objects from my backend service:</p>\n<pre><code>\n@JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;pageable&quot;})\nclass RestPage&lt;Role&gt; extends PageImpl&lt;Role&gt; {\n    private static final Logger LOG = LoggerFactory.getLogger(RestPage.class);\n\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\n    public RestPage(@JsonProperty(&quot;content&quot;) List&lt;Role&gt; content,\n                    @JsonProperty(&quot;number&quot;) int page,\n                    @JsonProperty(&quot;size&quot;) int size,\n                    @JsonProperty(&quot;totalElements&quot;) long total,\n                    @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements,\n                    @JsonProperty(&quot;pageNumber&quot;) int pageNumber\n    ) {\n        super(content, PageRequest.of(page, size), total);\n    }\n\n    public RestPage(Page&lt;Role&gt; page) {\n        super(page.getContent(), page.getPageable(), page.getTotalElements());\n        LOG.info(&quot;page.content: {}&quot;, page.getContent());\n    }\n\n    \n\n}\n</code></pre>\n<p>When I fetch the page from the following http requests and attempt to go thru the stream with list using following code:</p>\n<pre><code>  EntityExchangeResult&lt;RestPage&gt; entityExchangeResult = webTestClient.get().uri(&quot;/roles/&quot;+organizationId)\n                .headers(addJwt(jwt)).exchange().expectStatus().isOk().expectBody(RestPage.class)\n                .returnResult();\n\n       \n        LOG.info(&quot;roles found: {}&quot;, entityExchangeResult.getResponseBody().getContent());\n        List&lt;Role&gt; list = entityExchangeResult.getResponseBody().getContent();\n        List&lt;String&gt; listOfNames = list.stream().map(Role::getName).collect(toList());\n\n</code></pre>\n<p>I get the following error on the <code>map()</code> function line:</p>\n<pre><code>class java.util.LinkedHashMap cannot be cast to class my.package.repo.entity.Role\n</code></pre>\n<p>Is there a way to put a ObjectMapper call in the <code>RestPage</code> to convert to the Object type I want?  I would like to get my specific type instead of a LinkedHashMap that I am seeing currently.</p>\n"},{"tags":["java","lambda","collections","java-8","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":7,"creation_date":1399545561,"post_id":14830313,"comment_id":36112267,"body_markdown":"In case you don’t need the `sourceLongList` afterwards there’s [`Collection.removeIf(…)`](http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-) for convenience.","body":"In case you don’t need the <code>sourceLongList</code> afterwards there’s <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"nofollow noreferrer\"><code>Collection.removeIf(…)</code></a> for convenience."},{"owner":{"account_id":1196398,"reputation":6672,"user_id":1168041,"accept_rate":72,"display_name":"leeyuiwah"},"score":3,"creation_date":1532558029,"post_id":14830313,"comment_id":90025646,"body_markdown":"How about this? `List&lt;Long&gt; targetLongList = sourceLongList.stream().collect(Collectors.toList());`","body":"How about this? <code>List&lt;Long&gt; targetLongList = sourceLongList.stream().collect(Collectors.toList());</code>"}],"answers":[{"tags":[],"owner":{"account_id":29398,"reputation":10394,"user_id":1859863,"display_name":"Maurice Naftalin"},"down_vote_count":1,"up_vote_count":669,"is_accepted":true,"score":668,"last_activity_date":1392752734,"creation_date":1360671770,"answer_id":14832470,"question_id":14830313,"body_markdown":"What you are doing may be the simplest way, provided your stream stays sequential&amp;mdash;otherwise you will have to put a call to sequential() before &lt;code&gt;forEach&lt;/code&gt;. \r\n\r\n[later edit: the reason the call to sequential() is necessary is that the code as it stands (`forEach(targetLongList::add)`) would be racy if the stream was parallel. Even then, it will not achieve the effect intended, as `forEach` is explicitly nondeterministic&amp;mdash;even in a sequential stream the order of element processing is not guaranteed. You would have to use `forEachOrdered` to ensure correct ordering. The intention of the Stream API designers is that you will use collector in this situation, as below.]\r\n\r\nAn alternative is \r\n\r\n    targetLongList = sourceLongList.stream()\r\n        .filter(l -&gt; l &gt; 100)\r\n        .collect(Collectors.toList());","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>What you are doing may be the simplest way, provided your stream stays sequential&mdash;otherwise you will have to put a call to sequential() before <code>forEach</code>. </p>\n\n<p>[later edit: the reason the call to sequential() is necessary is that the code as it stands (<code>forEach(targetLongList::add)</code>) would be racy if the stream was parallel. Even then, it will not achieve the effect intended, as <code>forEach</code> is explicitly nondeterministic&mdash;even in a sequential stream the order of element processing is not guaranteed. You would have to use <code>forEachOrdered</code> to ensure correct ordering. The intention of the Stream API designers is that you will use collector in this situation, as below.]</p>\n\n<p>An alternative is </p>\n\n<pre><code>targetLongList = sourceLongList.stream()\n    .filter(l -&gt; l &gt; 100)\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":83276,"reputation":6162,"user_id":233598,"accept_rate":76,"display_name":"MohamedSanaulla"},"down_vote_count":1,"up_vote_count":196,"is_accepted":false,"score":195,"last_activity_date":1550391960,"creation_date":1363501700,"answer_id":15458176,"question_id":14830313,"body_markdown":"Updated:\r\n\r\nAnother approach is to use `Collectors.toList`:\r\n\r\n    targetLongList = \r\n        sourceLongList.stream().\r\n        filter(l -&gt; l &gt; 100).\r\n        collect(Collectors.toList());\r\n\r\nPrevious Solution:\r\n\r\nAnother approach is to use `Collectors.toCollection`:\r\n\r\n```\r\ntargetLongList = \r\n    sourceLongList.stream().\r\n    filter(l -&gt; l &gt; 100).\r\n    collect(Collectors.toCollection(ArrayList::new));\r\n```\r\n\r\n","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>Updated:</p>\n\n<p>Another approach is to use <code>Collectors.toList</code>:</p>\n\n<pre><code>targetLongList = \n    sourceLongList.stream().\n    filter(l -&gt; l &gt; 100).\n    collect(Collectors.toList());\n</code></pre>\n\n<p>Previous Solution:</p>\n\n<p>Another approach is to use <code>Collectors.toCollection</code>:</p>\n\n<pre><code>targetLongList = \n    sourceLongList.stream().\n    filter(l -&gt; l &gt; 100).\n    collect(Collectors.toCollection(ArrayList::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231844,"reputation":15697,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443800541,"creation_date":1443800541,"answer_id":32910910,"question_id":14830313,"body_markdown":"In case someone (like me) out there is looking for ways deal with Objects instead of primitive types then use [`mapToObj()`][1]\r\n\r\n\tString ss = &quot;An alternative way is to insert the following VM option before &quot;\r\n\t\t\t+ &quot;the -vmargs option in the Eclipse shortcut properties(edit the &quot;\r\n\t\t\t+ &quot;field Target inside the Shortcut tab):&quot;;\r\n\r\n\tList&lt;Character&gt; ll = ss\r\n\t\t\t\t\t\t\t.chars()\r\n\t\t\t\t\t\t\t.mapToObj(c -&gt; new Character((char) c))\r\n\t\t\t\t\t\t\t.collect(Collectors.toList());\r\n\r\n\tSystem.out.println(&quot;List type: &quot; + ll.getClass());\r\n\tSystem.out.println(&quot;Elem type: &quot; + ll.get(0).getClass());\r\n\tll.stream().limit(50).forEach(System.out::print);\r\n\r\nprints:\r\n\r\n    List type: class java.util.ArrayList\r\n    Elem type: class java.lang.Character\r\n    An alternative way is to insert the following VM o\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#mapToObj-java.util.function.IntFunction-\r\n\r\n","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>In case someone (like me) out there is looking for ways deal with Objects instead of primitive types then use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#mapToObj-java.util.function.IntFunction-\" rel=\"nofollow\"><code>mapToObj()</code></a></p>\n\n<pre><code>String ss = \"An alternative way is to insert the following VM option before \"\n        + \"the -vmargs option in the Eclipse shortcut properties(edit the \"\n        + \"field Target inside the Shortcut tab):\";\n\nList&lt;Character&gt; ll = ss\n                        .chars()\n                        .mapToObj(c -&gt; new Character((char) c))\n                        .collect(Collectors.toList());\n\nSystem.out.println(\"List type: \" + ll.getClass());\nSystem.out.println(\"Elem type: \" + ll.get(0).getClass());\nll.stream().limit(50).forEach(System.out::print);\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>List type: class java.util.ArrayList\nElem type: class java.lang.Character\nAn alternative way is to insert the following VM o\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1478535746,"creation_date":1448010939,"answer_id":33822891,"question_id":14830313,"body_markdown":"I like to use a util method that returns a collector for `ArrayList` when that is what I want. \r\n\r\nI think the solution using `Collectors.toCollection(ArrayList::new)` is a little too noisy for such a common operation.\r\n\r\nExample:\r\n\r\n    ArrayList&lt;Long&gt; result = sourceLongList.stream()\r\n        .filter(l -&gt; l &gt; 100)\r\n        .collect(toArrayList());\r\n\r\n    public static &lt;T&gt; Collector&lt;T, ?, ArrayList&lt;T&gt;&gt; toArrayList() {\r\n        return Collectors.toCollection(ArrayList::new);\r\n    }\r\n\r\nWith this answer I also want to demonstrate how simple it is to create and use custom collectors, which is very useful generally.\r\n","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>I like to use a util method that returns a collector for <code>ArrayList</code> when that is what I want. </p>\n\n<p>I think the solution using <code>Collectors.toCollection(ArrayList::new)</code> is a little too noisy for such a common operation.</p>\n\n<p>Example:</p>\n\n<pre><code>ArrayList&lt;Long&gt; result = sourceLongList.stream()\n    .filter(l -&gt; l &gt; 100)\n    .collect(toArrayList());\n\npublic static &lt;T&gt; Collector&lt;T, ?, ArrayList&lt;T&gt;&gt; toArrayList() {\n    return Collectors.toCollection(ArrayList::new);\n}\n</code></pre>\n\n<p>With this answer I also want to demonstrate how simple it is to create and use custom collectors, which is very useful generally.</p>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456395481,"creation_date":1456395481,"answer_id":35624405,"question_id":14830313,"body_markdown":"If you don&#39;t mind using 3rd party libraries, AOL&#39;s [cyclops-react][1] lib (disclosure I am a contributor) has extensions for all [JDK Collection][2] types, including [List][3]. The ListX interface extends java.util.List and adds a large number of useful operators, including filter.\r\n\r\nYou can simply write-\r\n\r\n    ListX&lt;Long&gt; sourceLongList = ListX.of(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\r\n    ListX&lt;Long&gt; targetLongList = sourceLongList.filter(l -&gt; l &gt; 100);\r\n\r\nListX also can be created from an existing List (via ListX.fromIterable)\r\n\r\n[1]: https://github.com/aol/cyclops-react\r\n [2]: https://medium.com/@johnmcclean/extending-jdk-8-collections-8ae8d43dd75e#.j5lxtrqze\r\n [3]: http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/data/collections/extensions/standard/ListX.html","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>If you don't mind using 3rd party libraries, AOL's <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a> lib (disclosure I am a contributor) has extensions for all <a href=\"https://medium.com/@johnmcclean/extending-jdk-8-collections-8ae8d43dd75e#.j5lxtrqze\" rel=\"nofollow\">JDK Collection</a> types, including <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/data/collections/extensions/standard/ListX.html\" rel=\"nofollow\">List</a>. The ListX interface extends java.util.List and adds a large number of useful operators, including filter.</p>\n\n<p>You can simply write-</p>\n\n<pre><code>ListX&lt;Long&gt; sourceLongList = ListX.of(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\nListX&lt;Long&gt; targetLongList = sourceLongList.filter(l -&gt; l &gt; 100);\n</code></pre>\n\n<p>ListX also can be created from an existing List (via ListX.fromIterable)</p>\n"},{"tags":[],"owner":{"account_id":6722754,"reputation":1152,"user_id":5182052,"display_name":"Nikhil Nanivadekar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1459038138,"creation_date":1459037321,"answer_id":36242356,"question_id":14830313,"body_markdown":"If you have an array of primitives, you can use the primitive collections available in [Eclipse Collections][1].\r\n\r\n    LongList sourceLongList = LongLists.mutable.of(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\r\n    LongList targetLongList = sourceLongList.select(l -&gt; l &gt; 100);\r\n\r\nIf you can&#39;t change the sourceLongList from `List`:\r\n\r\n    List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\r\n    List&lt;Long&gt; targetLongList = \r\n        ListAdapter.adapt(sourceLongList).select(l -&gt; l &gt; 100, new ArrayList&lt;&gt;());\r\n\r\nIf you want to use `LongStream`:\r\n\r\n    long[] sourceLongs = new long[]{1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L};\r\n    LongList targetList = \r\n        LongStream.of(sourceLongs)\r\n        .filter(l -&gt; l &gt; 100)\r\n        .collect(LongArrayList::new, LongArrayList::add, LongArrayList::addAll);\r\n\r\nNote: I am a contributor to Eclipse Collections.\r\n\r\n  [1]: http://www.eclipse.org/collections/","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>If you have an array of primitives, you can use the primitive collections available in <a href=\"http://www.eclipse.org/collections/\" rel=\"nofollow\">Eclipse Collections</a>.</p>\n\n<pre><code>LongList sourceLongList = LongLists.mutable.of(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\nLongList targetLongList = sourceLongList.select(l -&gt; l &gt; 100);\n</code></pre>\n\n<p>If you can't change the sourceLongList from <code>List</code>:</p>\n\n<pre><code>List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\nList&lt;Long&gt; targetLongList = \n    ListAdapter.adapt(sourceLongList).select(l -&gt; l &gt; 100, new ArrayList&lt;&gt;());\n</code></pre>\n\n<p>If you want to use <code>LongStream</code>:</p>\n\n<pre><code>long[] sourceLongs = new long[]{1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L};\nLongList targetList = \n    LongStream.of(sourceLongs)\n    .filter(l -&gt; l &gt; 100)\n    .collect(LongArrayList::new, LongArrayList::add, LongArrayList::addAll);\n</code></pre>\n\n<p>Note: I am a contributor to Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":4608562,"reputation":1127,"user_id":3737355,"accept_rate":45,"display_name":"Debapriya Biswas"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1473741774,"creation_date":1470985465,"answer_id":38911865,"question_id":14830313,"body_markdown":"If you don&#39;t use `parallel()` this will work \r\n\r\n    List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\r\n    \r\n    List&lt;Long&gt; targetLongList =  new ArrayList&lt;Long&gt;();\r\n    \r\n    sourceLongList.stream().peek(i-&gt;targetLongList.add(i)).collect(Collectors.toList());","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>If you don't use <code>parallel()</code> this will work </p>\n\n<pre><code>List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\n\nList&lt;Long&gt; targetLongList =  new ArrayList&lt;Long&gt;();\n\nsourceLongList.stream().peek(i-&gt;targetLongList.add(i)).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3090265,"reputation":8447,"user_id":2616537,"accept_rate":33,"display_name":"msayag"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1475738003,"creation_date":1475738003,"answer_id":39889739,"question_id":14830313,"body_markdown":"A little more efficient way (avoid the creating the source List&lt;Long&gt; and the auto-unboxing by the filter):\r\n\r\n    List&lt;Long&gt; targetLongList = LongStream.of(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L)\r\n        .filter(l -&gt; l &gt; 100)\r\n        .boxed()\r\n        .collect(Collectors.toList());","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>A little more efficient way (avoid the creating the source List and the auto-unboxing by the filter):</p>\n\n<pre><code>List&lt;Long&gt; targetLongList = LongStream.of(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L)\n    .filter(l -&gt; l &gt; 100)\n    .boxed()\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673587199,"creation_date":1480664797,"answer_id":40927188,"question_id":14830313,"body_markdown":"Here is code by [abacus-common][1]\r\n    \r\n    LongStream.of(1, 10, 50, 80, 100, 120, 133, 333).filter(e -&gt; e &gt; 100).toList();\r\n\r\nDisclosure： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>Here is code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>LongStream.of(1, 10, 50, 80, 100, 120, 133, 333).filter(e -&gt; e &gt; 100).toList();\n</code></pre>\n<p>Disclosure： I'm the developer of abacus-common.</p>\n"},{"tags":[],"owner":{"account_id":9964013,"reputation":225,"user_id":7372285,"display_name":"sharath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487892347,"creation_date":1487890463,"answer_id":42427732,"question_id":14830313,"body_markdown":"    String joined = \r\n    \t\t\t    Stream.of(isRead?&quot;read&quot;:&quot;&quot;, isFlagged?&quot;flagged&quot;:&quot;&quot;, isActionRequired?&quot;action&quot;:&quot;&quot;, isHide?&quot;hide&quot;:&quot;&quot;)\r\n    \t\t\t          .filter(s -&gt; s != null &amp;&amp; !s.isEmpty())\r\n    \t\t\t          .collect(Collectors.joining(&quot;,&quot;));","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<pre><code>String joined = \n                Stream.of(isRead?\"read\":\"\", isFlagged?\"flagged\":\"\", isActionRequired?\"action\":\"\", isHide?\"hide\":\"\")\n                      .filter(s -&gt; s != null &amp;&amp; !s.isEmpty())\n                      .collect(Collectors.joining(\",\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1277078,"reputation":387,"user_id":1232088,"accept_rate":62,"display_name":"Pramod"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1589675112,"creation_date":1505729026,"answer_id":46276622,"question_id":14830313,"body_markdown":"    collect(Collectors.toList());\r\n    \r\nThis is the call which you can use to convert any Stream to List.\r\n\r\nmore concretely:\r\n\r\n\r\n        List&lt;String&gt; myList = stream.collect(Collectors.toList()); \r\n  \r\n\r\nfrom:\r\n\r\nhttps://www.geeksforgeeks.org/collectors-tolist-method-in-java-with-examples/\r\n","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<pre><code>collect(Collectors.toList());\n</code></pre>\n\n<p>This is the call which you can use to convert any Stream to List.</p>\n\n<p>more concretely:</p>\n\n<pre><code>    List&lt;String&gt; myList = stream.collect(Collectors.toList()); \n</code></pre>\n\n<p>from:</p>\n\n<p><a href=\"https://www.geeksforgeeks.org/collectors-tolist-method-in-java-with-examples/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/collectors-tolist-method-in-java-with-examples/</a></p>\n"},{"tags":[],"owner":{"account_id":5660675,"reputation":575,"user_id":4478439,"display_name":"Vaneet Kataria"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548418781,"creation_date":1548417449,"answer_id":54364909,"question_id":14830313,"body_markdown":"There is an another variant of collect method provided by LongStream class and \r\nsimilarly by IntStream and DoubleStream classes too .   \r\n\r\n    &lt;R&gt; R collect(Supplier&lt;R&gt; supplier,\r\n                  ObjLongConsumer&lt;R&gt; accumulator,\r\n                  BiConsumer&lt;R,R&gt; combiner)\r\n\r\nPerforms a mutable reduction operation on the elements of this stream. A mutable reduction is one in which the reduced value is a mutable result container, such as an ArrayList, and elements are incorporated by updating the state of the result rather than by replacing the result. This produces a result equivalent to:\r\n  \r\n    R result = supplier.get();\r\n      for (long element : this stream)\r\n           accumulator.accept(result, element);\r\n      return result;\r\n\r\n**Like reduce(long, LongBinaryOperator), collect operations can be parallelized without requiring additional synchronization.\r\nThis is a terminal operation.**\r\n\r\nAnd answer to your question with this collect method is as below : \r\n\r\n        LongStream.of(1L, 2L, 3L, 3L).filter(i -&gt; i &gt; 2)\r\n        .collect(ArrayList::new, (list, value) -&gt; list.add(value)\r\n        , (list1, list2) -&gt; list1.addAll(list2));\r\n\r\nBelow is the method reference variant which is quite smart but some what tricky to understand :\r\n\r\n         LongStream.of(1L, 2L, 3L, 3L).filter(i -&gt; i &gt; 2)\r\n        .collect(ArrayList::new, List::add , List::addAll);\r\n\r\nBelow will be the HashSet variant : \r\n\r\n\r\n         LongStream.of(1L, 2L, 3L, 3).filter(i -&gt; i &gt; 2)\r\n\t     .collect(HashSet::new, HashSet::add, HashSet::addAll);\r\n\r\nSimilarly LinkedList variant is like this : \r\n\r\n         LongStream.of(1L, 2L, 3L, 3L)\r\n         .filter(i -&gt; i &gt; 2)\r\n         .collect(LinkedList::new, LinkedList::add, LinkedList::addAll);\r\n    \r\n\r\n             ","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>There is an another variant of collect method provided by LongStream class and \nsimilarly by IntStream and DoubleStream classes too .   </p>\n\n<pre><code>&lt;R&gt; R collect(Supplier&lt;R&gt; supplier,\n              ObjLongConsumer&lt;R&gt; accumulator,\n              BiConsumer&lt;R,R&gt; combiner)\n</code></pre>\n\n<p>Performs a mutable reduction operation on the elements of this stream. A mutable reduction is one in which the reduced value is a mutable result container, such as an ArrayList, and elements are incorporated by updating the state of the result rather than by replacing the result. This produces a result equivalent to:</p>\n\n<pre><code>R result = supplier.get();\n  for (long element : this stream)\n       accumulator.accept(result, element);\n  return result;\n</code></pre>\n\n<p><strong>Like reduce(long, LongBinaryOperator), collect operations can be parallelized without requiring additional synchronization.\nThis is a terminal operation.</strong></p>\n\n<p>And answer to your question with this collect method is as below : </p>\n\n<pre><code>    LongStream.of(1L, 2L, 3L, 3L).filter(i -&gt; i &gt; 2)\n    .collect(ArrayList::new, (list, value) -&gt; list.add(value)\n    , (list1, list2) -&gt; list1.addAll(list2));\n</code></pre>\n\n<p>Below is the method reference variant which is quite smart but some what tricky to understand :</p>\n\n<pre><code>     LongStream.of(1L, 2L, 3L, 3L).filter(i -&gt; i &gt; 2)\n    .collect(ArrayList::new, List::add , List::addAll);\n</code></pre>\n\n<p>Below will be the HashSet variant : </p>\n\n<pre><code>     LongStream.of(1L, 2L, 3L, 3).filter(i -&gt; i &gt; 2)\n     .collect(HashSet::new, HashSet::add, HashSet::addAll);\n</code></pre>\n\n<p>Similarly LinkedList variant is like this : </p>\n\n<pre><code>     LongStream.of(1L, 2L, 3L, 3L)\n     .filter(i -&gt; i &gt; 2)\n     .collect(LinkedList::new, LinkedList::add, LinkedList::addAll);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16305686,"reputation":81,"user_id":11775734,"display_name":"Pratik Pawar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564145771,"creation_date":1564143306,"answer_id":57219868,"question_id":14830313,"body_markdown":"You can rewrite code as below :\r\n```\r\nList&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\r\nList&lt;Long&gt; targetLongList = sourceLongList.stream().filter(l -&gt; l &gt; 100).collect(Collectors.toList());\r\n```","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>You can rewrite code as below :</p>\n\n<pre><code>List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\nList&lt;Long&gt; targetLongList = sourceLongList.stream().filter(l -&gt; l &gt; 100).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591467920,"creation_date":1591467920,"answer_id":62236179,"question_id":14830313,"body_markdown":"To collect in a mutable list:\r\n```\r\ntargetList = sourceList.stream()\r\n                       .filter(i -&gt; i &gt; 100) //apply filter\r\n                       .collect(Collectors.toList());\r\n```\r\nTo collect in a immutable list:\r\n```\r\ntargetList = sourceList.stream()\r\n                       .filter(i -&gt; i &gt; 100) //apply filter\r\n                       .collect(Collectors.toUnmodifiableList());\r\n```\r\nExplanation of `collect` from the [JavaDoc][1]:\r\n\r\n&gt; Performs a mutable reduction operation on the elements of this stream\r\n&gt; using a Collector. A Collector encapsulates the functions used as\r\n&gt; arguments to collect(Supplier, BiConsumer, BiConsumer), allowing for\r\n&gt; reuse of collection strategies and composition of collect operations\r\n&gt; such as multiple-level grouping or partitioning. If the stream is\r\n&gt; parallel, and the Collector is concurrent, and either the stream is\r\n&gt; unordered or the collector is unordered, then a concurrent reduction\r\n&gt; will be performed (see Collector for details on concurrent reduction.)\r\n&gt; \r\n&gt; This is a terminal operation.\r\n&gt; \r\n&gt; When executed in parallel, multiple intermediate results may be\r\n&gt; instantiated, populated, and merged so as to maintain isolation of\r\n&gt; mutable data structures. Therefore, even when executed in parallel\r\n&gt; with non-thread-safe data structures (such as ArrayList), no\r\n&gt; additional synchronization is needed for a parallel reduction.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>To collect in a mutable list:</p>\n\n<pre><code>targetList = sourceList.stream()\n                       .filter(i -&gt; i &gt; 100) //apply filter\n                       .collect(Collectors.toList());\n</code></pre>\n\n<p>To collect in a immutable list:</p>\n\n<pre><code>targetList = sourceList.stream()\n                       .filter(i -&gt; i &gt; 100) //apply filter\n                       .collect(Collectors.toUnmodifiableList());\n</code></pre>\n\n<p>Explanation of <code>collect</code> from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-\" rel=\"nofollow noreferrer\">JavaDoc</a>:</p>\n\n<blockquote>\n  <p>Performs a mutable reduction operation on the elements of this stream\n  using a Collector. A Collector encapsulates the functions used as\n  arguments to collect(Supplier, BiConsumer, BiConsumer), allowing for\n  reuse of collection strategies and composition of collect operations\n  such as multiple-level grouping or partitioning. If the stream is\n  parallel, and the Collector is concurrent, and either the stream is\n  unordered or the collector is unordered, then a concurrent reduction\n  will be performed (see Collector for details on concurrent reduction.)</p>\n  \n  <p>This is a terminal operation.</p>\n  \n  <p>When executed in parallel, multiple intermediate results may be\n  instantiated, populated, and merged so as to maintain isolation of\n  mutable data structures. Therefore, even when executed in parallel\n  with non-thread-safe data structures (such as ArrayList), no\n  additional synchronization is needed for a parallel reduction.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1693775983,"creation_date":1609749363,"answer_id":65559746,"question_id":14830313,"body_markdown":"There is a new method [Stream.toList()][1] in Java 16:\r\n\r\n    List&lt;Long&gt; targetLongList = sourceLongList\r\n             .stream()\r\n             .filter(l -&gt; l &gt; 100)\r\n             .toList();\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/stream/Stream.html#toList()","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>There is a new method <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/stream/Stream.html#toList()\" rel=\"nofollow noreferrer\">Stream.toList()</a> in Java 16:</p>\n<pre><code>List&lt;Long&gt; targetLongList = sourceLongList\n         .stream()\n         .filter(l -&gt; l &gt; 100)\n         .toList();\n</code></pre>\n"}],"owner":{"account_id":1750802,"reputation":5797,"user_id":1599926,"accept_rate":83,"display_name":"Daniel K."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439068,"favorite_count":0,"down_vote_count":0,"up_vote_count":497,"accepted_answer_id":14832470,"answer_count":15,"score":497,"last_activity_date":1693775983,"creation_date":1360664768,"question_id":14830313,"body_markdown":"I was playing around with Java 8 lambdas to easily filter collections. But I did not find a concise way to retrieve the result as a new list within the same statement. Here is my most concise approach so far:\r\n\r\n    List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\r\n    List&lt;Long&gt; targetLongList = new ArrayList&lt;&gt;();\r\n    sourceLongList.stream().filter(l -&gt; l &gt; 100).forEach(targetLongList::add);\r\n\r\nExamples on the net did not answer my question because they stop without generating a new result list. There must be a more concise way. I would have expected, that the `Stream` class has methods as `toList()`, `toSet()`, …\r\n\r\nIs there a way that the variables `targetLongList` can be directly be assigned by the third line?","title":"Retrieving a List from a java.util.stream.Stream in Java 8","body":"<p>I was playing around with Java 8 lambdas to easily filter collections. But I did not find a concise way to retrieve the result as a new list within the same statement. Here is my most concise approach so far:</p>\n\n<pre><code>List&lt;Long&gt; sourceLongList = Arrays.asList(1L, 10L, 50L, 80L, 100L, 120L, 133L, 333L);\nList&lt;Long&gt; targetLongList = new ArrayList&lt;&gt;();\nsourceLongList.stream().filter(l -&gt; l &gt; 100).forEach(targetLongList::add);\n</code></pre>\n\n<p>Examples on the net did not answer my question because they stop without generating a new result list. There must be a more concise way. I would have expected, that the <code>Stream</code> class has methods as <code>toList()</code>, <code>toSet()</code>, …</p>\n\n<p>Is there a way that the variables <code>targetLongList</code> can be directly be assigned by the third line?</p>\n"},{"tags":["java","collections","frameworks"],"comments":[{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":1,"creation_date":1526458664,"post_id":50365605,"comment_id":87747531,"body_markdown":"Could you post some code that&#39;s giving you this error?","body":"Could you post some code that&#39;s giving you this error?"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526458886,"creation_date":1526458886,"answer_id":50365734,"question_id":50365605,"body_markdown":"&gt;What does it mean to say values must be of collection type\r\n\r\nPerhaps you are referring to the `values()` method of the `Map` interface.\r\n\r\nRegardless of what the type of a single value in the `Map` may be (`Integer`, `String`, `Set&lt;String&gt;`, etc...), when you call the `values()` method, which returns all the values stored in the `Map`, you get a `Collection` of these values.\r\n\r\nFor example, in the case of your:\r\n\r\n    Map&lt;String,Set&lt;String&gt;&gt; map;\r\n\r\ncalling `values()` will give you a:\r\n\r\n    Collection&lt;Set&lt;String&gt;&gt; values = map.values();\r\n\r\nThe reasons a general `Collection` is returned here are:\r\n\r\n1. Values don&#39;t have to be unique (there can be duplicates), so we can&#39;t return a `Set` of values.\r\n2. Values don&#39;t have to be ordered (this the entries of a `Map` don&#39;t have to be ordered), so returning a `List` of values doesn&#39;t make sense.\r\n","title":"The values must be of a collection type from the Collections Framework","body":"<blockquote>\n  <p>What does it mean to say values must be of collection type</p>\n</blockquote>\n\n<p>Perhaps you are referring to the <code>values()</code> method of the <code>Map</code> interface.</p>\n\n<p>Regardless of what the type of a single value in the <code>Map</code> may be (<code>Integer</code>, <code>String</code>, <code>Set&lt;String&gt;</code>, etc...), when you call the <code>values()</code> method, which returns all the values stored in the <code>Map</code>, you get a <code>Collection</code> of these values.</p>\n\n<p>For example, in the case of your:</p>\n\n<pre><code>Map&lt;String,Set&lt;String&gt;&gt; map;\n</code></pre>\n\n<p>calling <code>values()</code> will give you a:</p>\n\n<pre><code>Collection&lt;Set&lt;String&gt;&gt; values = map.values();\n</code></pre>\n\n<p>The reasons a general <code>Collection</code> is returned here are:</p>\n\n<ol>\n<li>Values don't have to be unique (there can be duplicates), so we can't return a <code>Set</code> of values.</li>\n<li>Values don't have to be ordered (this the entries of a <code>Map</code> don't have to be ordered), so returning a <code>List</code> of values doesn't make sense.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10828765,"reputation":23,"user_id":7963896,"display_name":"Flying Dutchman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526459052,"creation_date":1526459052,"answer_id":50365796,"question_id":50365605,"body_markdown":"Java Collections is a general class framework on top of data structures such as lists, sets, maps and more. Collections has a large number of methods defined, which can operate on a number of actual data structures. The well-developed casting and overriding mechanism in Java ensures that the appropriate data structures are converted to, before a general collections method is being called.\r\n\r\nThere are also special collection types, like immutable maps and immutable lists.\r\n\r\nAll-in-all the Collections framework allows Java developers to apply a large set of well-known operators (methods) to many structured data types. You can read the book on OCP, where one chapter is devoted completely to the collections framework.","title":"The values must be of a collection type from the Collections Framework","body":"<p>Java Collections is a general class framework on top of data structures such as lists, sets, maps and more. Collections has a large number of methods defined, which can operate on a number of actual data structures. The well-developed casting and overriding mechanism in Java ensures that the appropriate data structures are converted to, before a general collections method is being called.</p>\n\n<p>There are also special collection types, like immutable maps and immutable lists.</p>\n\n<p>All-in-all the Collections framework allows Java developers to apply a large set of well-known operators (methods) to many structured data types. You can read the book on OCP, where one chapter is devoted completely to the collections framework.</p>\n"}],"owner":{"account_id":13583350,"reputation":11,"user_id":9798685,"display_name":"Daniel Irish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693775634,"creation_date":1526458451,"question_id":50365605,"body_markdown":"\r\nExample scenario:\r\n\r\nA Map with Strings that are Keys and represent peoples Names. \r\nThe values are Sets of Strings and each String represents a Car they own. \r\n\r\nWhat does it mean to say values must be of collection type. I don&#39;t get it, are they not collection type when in the collection. For instance are the Strings not collection type when in the Set collection. Could someone explain that sentence?","title":"The values must be of a collection type from the Collections Framework","body":"<p>Example scenario:</p>\n<p>A Map with Strings that are Keys and represent peoples Names.\nThe values are Sets of Strings and each String represents a Car they own.</p>\n<p>What does it mean to say values must be of collection type. I don't get it, are they not collection type when in the collection. For instance are the Strings not collection type when in the Set collection. Could someone explain that sentence?</p>\n"},{"tags":["java","hashmap","duplicates","size"],"comments":[{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1562072779,"post_id":56853073,"comment_id":100256385,"body_markdown":"Maybe [this question](https://stackoverflow.com/questions/304268/getting-a-files-md5-checksum-in-java) could be of help","body":"Maybe <a href=\"https://stackoverflow.com/questions/304268/getting-a-files-md5-checksum-in-java\">this question</a> could be of help"},{"owner":{"account_id":968480,"reputation":166,"user_id":991488,"display_name":"Konrad Szałkowski"},"score":0,"creation_date":1562073156,"post_id":56853073,"comment_id":100256589,"body_markdown":"Have you tried to introduce some FileHeader class in which you use all the elements that matter to you? On basis of this class output some checksum - sha or md5  and use it for a key in Collectors.grouping()?","body":"Have you tried to introduce some FileHeader class in which you use all the elements that matter to you? On basis of this class output some checksum - sha or md5  and use it for a key in Collectors.grouping()?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562073456,"creation_date":1562073456,"answer_id":56853406,"question_id":56853073,"body_markdown":"Considering 2 files equal if they have the same extension and the same file size is simply a matter of creating an object that represents this &#39;equality&#39;. So, you&#39;d make something like:\r\n\r\n    public class FileEquality {\r\n        private final String fileExtension;\r\n        private final long fileSize;\r\n\r\n        // constructor, toString, equals, hashCode, and getters here.\r\n    }\r\n\r\n(and fill in all the missing boilerplate: Constructor, toString, equals, hashCode, and getters. See [Project Lombok&#39;s @Value](https://projectlombok.org/features/Value) to make this easy if you like). You can get the file extension from a file name by using `fileName.lastIndexOf(&#39;.&#39;)` and `fileName.substring(lastIndex)`. With lombok all you&#39;d have to write is:\r\n\r\n    @lombok.Value public class FileEquality {\r\n        String fileExtension;\r\n        long fileSize;\r\n    }\r\n\r\nThen use `FileEquality` objects as keys in your hashmap instead of strings. However, just because you have, say, &#39;foo.txt&#39; and &#39;bar.txt&#39; that both happen to be 500 bytes in size doesn&#39;t mean these 2 files are duplicates. So, you want content involved too, but, if you extend your `FileEquality` class to include the content of the file, then 2 things come up:\r\n\r\n1. If you&#39;re checking content anyway, what does the size and file extension matter? If the content of `foo.txt` and `bar.jpg` are precisely the same, they are duplicates, no? Why bother. You can convey the content as a `byte[]`, but note that writing a proper `hashCode()` and `equals()` implementation (which are required if you want to use this object as a key for hashmaps) becomes a little trickier. Fortunately, lombok&#39;s `@Value` will get it right, so I suggest you use that.\r\n\r\n2. This implies the _entirety_ of the file content is in your JVM&#39;s process memory. Unless you&#39;re doing a check on very small files, you&#39;ll just run out of memory. You can abstract this away somewhat by not storing the file&#39;s entire content, but storing a hash of the content. Google around for how to calculate the sha-256 hash of a file in java. Put this hash value in your `FileEquality` and now you avoid the memory issue. It is theoretically possible to have 2 files with different contents which nevertheless hash to the exact same sha-256 value but the chances of that are astronomical, and more to the point, sha-256 is designed such that it is not mathematically feasible to intentionally make 2 such files to mess with your application. Therefore, I suggest you just trust the hash :)\r\n\r\nNote, of course, that hashing an entire file requires reading the entire file, so if you run your duplicate finder on a directory containing, say, 500GB worth of files, then your application will require at the very least reading of 500GB, which will take some time.\r\n","title":"Java: How to search duplicate files in a folder not only by name ,but also by size and content?","body":"<p>Considering 2 files equal if they have the same extension and the same file size is simply a matter of creating an object that represents this 'equality'. So, you'd make something like:</p>\n\n<pre><code>public class FileEquality {\n    private final String fileExtension;\n    private final long fileSize;\n\n    // constructor, toString, equals, hashCode, and getters here.\n}\n</code></pre>\n\n<p>(and fill in all the missing boilerplate: Constructor, toString, equals, hashCode, and getters. See <a href=\"https://projectlombok.org/features/Value\" rel=\"nofollow noreferrer\">Project Lombok's @Value</a> to make this easy if you like). You can get the file extension from a file name by using <code>fileName.lastIndexOf('.')</code> and <code>fileName.substring(lastIndex)</code>. With lombok all you'd have to write is:</p>\n\n<pre><code>@lombok.Value public class FileEquality {\n    String fileExtension;\n    long fileSize;\n}\n</code></pre>\n\n<p>Then use <code>FileEquality</code> objects as keys in your hashmap instead of strings. However, just because you have, say, 'foo.txt' and 'bar.txt' that both happen to be 500 bytes in size doesn't mean these 2 files are duplicates. So, you want content involved too, but, if you extend your <code>FileEquality</code> class to include the content of the file, then 2 things come up:</p>\n\n<ol>\n<li><p>If you're checking content anyway, what does the size and file extension matter? If the content of <code>foo.txt</code> and <code>bar.jpg</code> are precisely the same, they are duplicates, no? Why bother. You can convey the content as a <code>byte[]</code>, but note that writing a proper <code>hashCode()</code> and <code>equals()</code> implementation (which are required if you want to use this object as a key for hashmaps) becomes a little trickier. Fortunately, lombok's <code>@Value</code> will get it right, so I suggest you use that.</p></li>\n<li><p>This implies the <em>entirety</em> of the file content is in your JVM's process memory. Unless you're doing a check on very small files, you'll just run out of memory. You can abstract this away somewhat by not storing the file's entire content, but storing a hash of the content. Google around for how to calculate the sha-256 hash of a file in java. Put this hash value in your <code>FileEquality</code> and now you avoid the memory issue. It is theoretically possible to have 2 files with different contents which nevertheless hash to the exact same sha-256 value but the chances of that are astronomical, and more to the point, sha-256 is designed such that it is not mathematically feasible to intentionally make 2 such files to mess with your application. Therefore, I suggest you just trust the hash :)</p></li>\n</ol>\n\n<p>Note, of course, that hashing an entire file requires reading the entire file, so if you run your duplicate finder on a directory containing, say, 500GB worth of files, then your application will require at the very least reading of 500GB, which will take some time.</p>\n"},{"tags":[],"owner":{"account_id":14379342,"reputation":644,"user_id":10387008,"display_name":"Eboubaker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562074075,"creation_date":1562073511,"answer_id":56853419,"question_id":56853073,"body_markdown":"I made this application long ago I found some of its source code for you if you want to learn.\r\n\r\nthis method works by comparing both of files bytes.\r\n\r\n    public static boolean checkBinaryEquality(File file1, File file2) {\r\n\t\tif(file1.length() != file2.length()) return false;\r\n\t\ttry(FileInputStream f1 = new FileInputStream(file1); FileInputStream f2 = new FileInputStream(file2)){\r\n\t\t\t\tbyte bus1[] = new byte[1024],\r\n\t\t\t\t\t bus2[] = new byte[1024];\r\n\t\t\t\t// comparing files bytes one by one if we found unmatched results that means they are not equal\r\n\t\t\t\twhile((f1.read(bus1)) &gt;= 0) {\r\n\t\t\t\t\tf2.read(bus2);\r\n\t\t\t\t\tfor(int i = 0; i &lt; 1024;i++)\r\n\t\t\t\t\t\tif(bus1[i] != bus2[i]) \r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t// passed\r\n\t\t\t\treturn true;\r\n\t\t} catch (IOException exp) {\r\n\t\t\t// problems occurred so let&#39;s consider them not equal\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\ncombine this method with name and extension checking and you are ready to go.","title":"Java: How to search duplicate files in a folder not only by name ,but also by size and content?","body":"<p>I made this application long ago I found some of its source code for you if you want to learn.</p>\n\n<p>this method works by comparing both of files bytes.</p>\n\n<pre><code>public static boolean checkBinaryEquality(File file1, File file2) {\n    if(file1.length() != file2.length()) return false;\n    try(FileInputStream f1 = new FileInputStream(file1); FileInputStream f2 = new FileInputStream(file2)){\n            byte bus1[] = new byte[1024],\n                 bus2[] = new byte[1024];\n            // comparing files bytes one by one if we found unmatched results that means they are not equal\n            while((f1.read(bus1)) &gt;= 0) {\n                f2.read(bus2);\n                for(int i = 0; i &lt; 1024;i++)\n                    if(bus1[i] != bus2[i]) \n                        return false;\n            }\n            // passed\n            return true;\n    } catch (IOException exp) {\n        // problems occurred so let's consider them not equal\n        return false;\n    }\n}\n</code></pre>\n\n<p>combine this method with name and extension checking and you are ready to go.</p>\n"},{"tags":[],"owner":{"account_id":16222987,"reputation":43,"user_id":11714122,"display_name":"Petru  L"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1562078595,"creation_date":1562078595,"answer_id":56854960,"question_id":56853073,"body_markdown":"I used MessageDigest and checked some files and find the duplicates according to all the criteria I have listed in the title and description. Thank you all.\r\n\r\n    private static MessageDigest messageDigest;\r\n    static {\r\n        try {\r\n            messageDigest = MessageDigest.getInstance(&quot;SHA-512&quot;);\r\n        } catch (NoSuchAlgorithmException e) {\r\n            throw new RuntimeException(&quot;cannot initialize SHA-512 hash function&quot;, e);\r\n        }\r\n    }   \r\n\r\nand this is the result after implementation in the search code for duplicates\r\n\r\n    public static void find(Map&lt;String, List&lt;String&gt;&gt; lists, File dir) {\r\n    for (File f : dir.listFiles()) {\r\n      if (f.isDirectory()) {\r\n        find(lists, f);\r\n      } else {\r\n          try{\r\n              FileInputStream fi = new FileInputStream(f);\r\n              byte fileData[] = new byte[(int) f.length()];\r\n                    fi.read(fileData);\r\n                    fi.close();\r\n                    //Crearea id unic hash pentru fisierul curent\r\n                    String hash = new BigInteger(1, messageDigest.digest(fileData)).toString(16);\r\n                    List&lt;String&gt; list = lists.get(hash);\r\n                    if (list == null) {\r\n                        list = new LinkedList&lt;String&gt;();\r\n                    }\r\n                    //Adăugați calea către listă\r\n                    list.add(f.getAbsolutePath());\r\n                    //Adauga lista actualizată la tabelul Hash\r\n                    lists.put(hash, list);\r\n                    \r\n          }catch (IOException e) {\r\n                    throw new RuntimeException(&quot;cannot read file &quot; + f.getAbsolutePath(), e);\r\n                }\r\n        \r\n      }\r\n    }\r\n  }","title":"Java: How to search duplicate files in a folder not only by name ,but also by size and content?","body":"<p>I used MessageDigest and checked some files and find the duplicates according to all the criteria I have listed in the title and description. Thank you all.</p>\n\n<pre><code>private static MessageDigest messageDigest;\nstatic {\n    try {\n        messageDigest = MessageDigest.getInstance(\"SHA-512\");\n    } catch (NoSuchAlgorithmException e) {\n        throw new RuntimeException(\"cannot initialize SHA-512 hash function\", e);\n    }\n}   \n</code></pre>\n\n<p>and this is the result after implementation in the search code for duplicates</p>\n\n<pre><code>public static void find(Map&lt;String, List&lt;String&gt;&gt; lists, File dir) {\nfor (File f : dir.listFiles()) {\n  if (f.isDirectory()) {\n    find(lists, f);\n  } else {\n      try{\n          FileInputStream fi = new FileInputStream(f);\n          byte fileData[] = new byte[(int) f.length()];\n                fi.read(fileData);\n                fi.close();\n                //Crearea id unic hash pentru fisierul curent\n                String hash = new BigInteger(1, messageDigest.digest(fileData)).toString(16);\n                List&lt;String&gt; list = lists.get(hash);\n                if (list == null) {\n                    list = new LinkedList&lt;String&gt;();\n                }\n                //Adăugați calea către listă\n                list.add(f.getAbsolutePath());\n                //Adauga lista actualizată la tabelul Hash\n                lists.put(hash, list);\n\n      }catch (IOException e) {\n                throw new RuntimeException(\"cannot read file \" + f.getAbsolutePath(), e);\n            }\n\n  }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"display_name":"user4602302"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562083350,"creation_date":1562082486,"answer_id":56856069,"question_id":56853073,"body_markdown":"copy-paste-example\r\n\r\n 1. create a class that extends `File`\r\n\r\n        import java.io.File;\r\n        import java.io.FileInputStream;\r\n        import java.io.IOException;\r\n        import java.util.Arrays;\r\n        \r\n        public class MyFile extends File {\r\n            private static final long serialVersionUID = 1L;\r\n        \r\n            public MyFile(final String pathname) {\r\n                super(pathname);\r\n            }\r\n        \r\n            @Override\r\n            public boolean equals(final Object obj) {\r\n                if (this == obj) {\r\n                    return true;\r\n                }\r\n                if (this.getClass() != obj.getClass()) {\r\n                    return false;\r\n                }\r\n                final MyFile other = (MyFile) obj;\r\n                if (!Arrays.equals(this.getContent(), other.getContent())) {\r\n                    return false;\r\n                }\r\n                if (this.getName() == null) {\r\n                    if (other.getName() != null) {\r\n                        return false;\r\n                    }\r\n                } else if (!this.getName().equals(other.getName())) {\r\n                    return false;\r\n                }\r\n                if (this.length() != other.length()) {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n        \r\n            @Override\r\n            public int hashCode() {\r\n                final int prime = 31;\r\n                int result = prime;\r\n                result = (prime * result) + Arrays.hashCode(this.getContent());\r\n                result = (prime * result) + ((this.getName() == null) ? 0 : this.getName().hashCode());\r\n                result = (prime * result) + (int) (this.length() ^ (this.length() &gt;&gt;&gt; 32));\r\n                return result;\r\n            }\r\n        \r\n            private byte[] getContent() {\r\n                try (final FileInputStream fis = new FileInputStream(this)) {\r\n                    return fis.readAllBytes();\r\n                } catch (final IOException e) {\r\n                    e.printStackTrace();\r\n                    return new byte[] {};\r\n                }\r\n            }\r\n        }\r\n\r\n 2. read base directory\r\n\r\n        import java.io.File;\r\n        import java.util.HashMap;\r\n        import java.util.Iterator;\r\n        import java.util.List;\r\n        import java.util.Map;\r\n        import java.util.Map.Entry;\r\n        import java.util.Vector;\r\n        \r\n        public class FileTest {\r\n            public FileTest() {\r\n                super();\r\n            }\r\n        \r\n            public static void main(final String[] args) {\r\n                final Map&lt;MyFile, List&lt;MyFile&gt;&gt; duplicates = new HashMap&lt;&gt;();\r\n                FileTest.handleDirectory(duplicates, new File(&quot;[path to base directory]&quot;));\r\n                final Iterator&lt;Entry&lt;MyFile, List&lt;MyFile&gt;&gt;&gt; iterator = duplicates.entrySet().iterator();\r\n                while (iterator.hasNext()) {\r\n                    final Entry&lt;MyFile, List&lt;MyFile&gt;&gt; next = iterator.next();\r\n                    if (next.getValue().size() == 0) {\r\n                        iterator.remove();\r\n                    } else {\r\n                        System.out.println(next.getKey().getName() + &quot; - &quot; + next.getKey().getAbsolutePath());\r\n                        for (final MyFile file : next.getValue()) {\r\n                            System.out.println(&quot;        -&gt;&quot; + file.getName() + &quot; - &quot; + file.getAbsolutePath());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        \r\n            private static void handleDirectory(final Map&lt;MyFile, List&lt;MyFile&gt;&gt; duplicates, final File directory) {\r\n                final File dir = directory;\r\n                if (dir.isDirectory()) {\r\n                    final File[] files = dir.listFiles();\r\n                    for (final File file : files) {\r\n                        if (file.isDirectory()) {\r\n                            FileTest.handleDirectory(duplicates, file);\r\n                            continue;\r\n                        }\r\n                        final MyFile myFile = new MyFile(file.getAbsolutePath());\r\n                        if (!duplicates.containsKey(myFile)) {\r\n                            duplicates.put(myFile, new Vector&lt;&gt;());\r\n                        } else {\r\n                            duplicates.get(myFile).add(myFile);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n","title":"Java: How to search duplicate files in a folder not only by name ,but also by size and content?","body":"<p>copy-paste-example</p>\n\n<ol>\n<li><p>create a class that extends <code>File</code></p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.util.Arrays;\n\npublic class MyFile extends File {\n    private static final long serialVersionUID = 1L;\n\n    public MyFile(final String pathname) {\n        super(pathname);\n    }\n\n    @Override\n    public boolean equals(final Object obj) {\n        if (this == obj) {\n            return true;\n        }\n        if (this.getClass() != obj.getClass()) {\n            return false;\n        }\n        final MyFile other = (MyFile) obj;\n        if (!Arrays.equals(this.getContent(), other.getContent())) {\n            return false;\n        }\n        if (this.getName() == null) {\n            if (other.getName() != null) {\n                return false;\n            }\n        } else if (!this.getName().equals(other.getName())) {\n            return false;\n        }\n        if (this.length() != other.length()) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = prime;\n        result = (prime * result) + Arrays.hashCode(this.getContent());\n        result = (prime * result) + ((this.getName() == null) ? 0 : this.getName().hashCode());\n        result = (prime * result) + (int) (this.length() ^ (this.length() &gt;&gt;&gt; 32));\n        return result;\n    }\n\n    private byte[] getContent() {\n        try (final FileInputStream fis = new FileInputStream(this)) {\n            return fis.readAllBytes();\n        } catch (final IOException e) {\n            e.printStackTrace();\n            return new byte[] {};\n        }\n    }\n}\n</code></pre></li>\n<li><p>read base directory</p>\n\n<pre><code>import java.io.File;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.Vector;\n\npublic class FileTest {\n    public FileTest() {\n        super();\n    }\n\n    public static void main(final String[] args) {\n        final Map&lt;MyFile, List&lt;MyFile&gt;&gt; duplicates = new HashMap&lt;&gt;();\n        FileTest.handleDirectory(duplicates, new File(\"[path to base directory]\"));\n        final Iterator&lt;Entry&lt;MyFile, List&lt;MyFile&gt;&gt;&gt; iterator = duplicates.entrySet().iterator();\n        while (iterator.hasNext()) {\n            final Entry&lt;MyFile, List&lt;MyFile&gt;&gt; next = iterator.next();\n            if (next.getValue().size() == 0) {\n                iterator.remove();\n            } else {\n                System.out.println(next.getKey().getName() + \" - \" + next.getKey().getAbsolutePath());\n                for (final MyFile file : next.getValue()) {\n                    System.out.println(\"        -&gt;\" + file.getName() + \" - \" + file.getAbsolutePath());\n                }\n            }\n        }\n    }\n\n    private static void handleDirectory(final Map&lt;MyFile, List&lt;MyFile&gt;&gt; duplicates, final File directory) {\n        final File dir = directory;\n        if (dir.isDirectory()) {\n            final File[] files = dir.listFiles();\n            for (final File file : files) {\n                if (file.isDirectory()) {\n                    FileTest.handleDirectory(duplicates, file);\n                    continue;\n                }\n                final MyFile myFile = new MyFile(file.getAbsolutePath());\n                if (!duplicates.containsKey(myFile)) {\n                    duplicates.put(myFile, new Vector&lt;&gt;());\n                } else {\n                    duplicates.get(myFile).add(myFile);\n                }\n            }\n        }\n    }\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693774969,"creation_date":1693762505,"answer_id":77033494,"question_id":56853073,"body_markdown":"Here is one way that works with Java records and a Comparator.  These are immutable.  You can also adjust the semantics of `equals()` and `hashCode()` for your use case.\r\n\r\nAs @rzwitserloot notes, a drawback is lack of builder support (for which you can annotate the record with @Builder from Lombok as needed) and values must be set at construction.\r\n    \r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Objects;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public record FileEquality(String name,\r\n                               String fileExtension,\r\n                               long fileSize) implements Comparable&lt;FileEquality&gt; {\r\n    \r\n        private static final Comparator&lt;FileEquality&gt; COMPARATOR =\r\n                Comparator.comparingLong(FileEquality::fileSize)\r\n                        .thenComparing(FileEquality::fileExtension);\r\n            \r\n        @Override\r\n        public int compareTo(FileEquality other) {\r\n            return COMPARATOR.compare(this, other);\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (!(o instanceof FileEquality that)) return false;\r\n            return fileSize == that.fileSize &amp;&amp;\r\n                    Objects.equals(fileExtension, that.fileExtension);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(fileSize, fileExtension);\r\n        }\r\n    \r\n        public String toString() {\r\n            return &quot;name=&quot; + this.name + \r\n                    &quot;, size=&quot; + this.fileSize + &quot;, ext=&quot; + this.fileExtension;\r\n        }\r\n    }\r\n\r\nYour choice of how you find the duplicates, as there are many ways:\r\n\r\n    public List&lt;FileEquality&gt; findDuplicates(List&lt;FileEquality&gt; fileList) {\r\n        Map&lt;FileEquality, Long&gt; counts = fileList.stream()\r\n                .collect(Collectors.groupingBy(\r\n                        file -&gt; file,\r\n                        Collectors.counting()\r\n                ));\r\n    \r\n        return counts.entrySet().stream()\r\n                .filter(entry -&gt; entry.getValue() &gt; 1)\r\n                .map(Map.Entry::getKey)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\nAnd calling it:\r\n\r\n    List&lt;FileEquality&gt; equalityList = new ArrayList&lt;&gt;(0);\r\n    //create one for each file here\r\n    FileEquality equality = new FileEquality(yourFileName, yourFileSize, yourFileExtension);\r\n    equalityList.add(equality);\r\n\r\n    List&lt;FileEquality&gt; duplicates = findDuplicates(equalityList);\r\n    System.out.println(&quot;Duplicate files by size and extension:&quot;);\r\n    duplicates.forEach(System.out::println);\r\n\r\n(Use a logger in your real code).","title":"Java: How to search duplicate files in a folder not only by name ,but also by size and content?","body":"<p>Here is one way that works with Java records and a Comparator.  These are immutable.  You can also adjust the semantics of <code>equals()</code> and <code>hashCode()</code> for your use case.</p>\n<p>As @rzwitserloot notes, a drawback is lack of builder support (for which you can annotate the record with @Builder from Lombok as needed) and values must be set at construction.</p>\n<pre><code>import java.util.Comparator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.stream.Collectors;\n\npublic record FileEquality(String name,\n                           String fileExtension,\n                           long fileSize) implements Comparable&lt;FileEquality&gt; {\n\n    private static final Comparator&lt;FileEquality&gt; COMPARATOR =\n            Comparator.comparingLong(FileEquality::fileSize)\n                    .thenComparing(FileEquality::fileExtension);\n        \n    @Override\n    public int compareTo(FileEquality other) {\n        return COMPARATOR.compare(this, other);\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof FileEquality that)) return false;\n        return fileSize == that.fileSize &amp;&amp;\n                Objects.equals(fileExtension, that.fileExtension);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(fileSize, fileExtension);\n    }\n\n    public String toString() {\n        return &quot;name=&quot; + this.name + \n                &quot;, size=&quot; + this.fileSize + &quot;, ext=&quot; + this.fileExtension;\n    }\n}\n</code></pre>\n<p>Your choice of how you find the duplicates, as there are many ways:</p>\n<pre><code>public List&lt;FileEquality&gt; findDuplicates(List&lt;FileEquality&gt; fileList) {\n    Map&lt;FileEquality, Long&gt; counts = fileList.stream()\n            .collect(Collectors.groupingBy(\n                    file -&gt; file,\n                    Collectors.counting()\n            ));\n\n    return counts.entrySet().stream()\n            .filter(entry -&gt; entry.getValue() &gt; 1)\n            .map(Map.Entry::getKey)\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>And calling it:</p>\n<pre><code>List&lt;FileEquality&gt; equalityList = new ArrayList&lt;&gt;(0);\n//create one for each file here\nFileEquality equality = new FileEquality(yourFileName, yourFileSize, yourFileExtension);\nequalityList.add(equality);\n\nList&lt;FileEquality&gt; duplicates = findDuplicates(equalityList);\nSystem.out.println(&quot;Duplicate files by size and extension:&quot;);\nduplicates.forEach(System.out::println);\n</code></pre>\n<p>(Use a logger in your real code).</p>\n"}],"owner":{"account_id":16222987,"reputation":43,"user_id":11714122,"display_name":"Petru  L"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5830,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56854960,"answer_count":5,"score":2,"last_activity_date":1693774969,"creation_date":1562072408,"question_id":56853073,"body_markdown":"I want to create a Java application to identify duplicates. So far I can find duplicates only by name, but I also need size, file type, and maybe content. This is my code so far, using a `HashMap`:\r\n\r\n```java\r\npublic static void find(Map&lt;String, List&lt;String&gt;&gt; lists, File dir) {\r\n    for (File f : dir.listFiles()) {\r\n        if (f.isDirectory()) {\r\n            find(lists, f);\r\n        } else {\r\n            String hash = f.getName() + f.length();\r\n            List&lt;String&gt; list = lists.get(hash);\r\n            if (list == null) {\r\n                list = new LinkedList&lt;String&gt;();\r\n                lists.put(hash, list);\r\n            }\r\n            list.add(f.getAbsolutePath());\r\n        }\r\n    }\r\n}\r\n```","title":"Java: How to search duplicate files in a folder not only by name ,but also by size and content?","body":"<p>I want to create a Java application to identify duplicates. So far I can find duplicates only by name, but I also need size, file type, and maybe content. This is my code so far, using a <code>HashMap</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void find(Map&lt;String, List&lt;String&gt;&gt; lists, File dir) {\n    for (File f : dir.listFiles()) {\n        if (f.isDirectory()) {\n            find(lists, f);\n        } else {\n            String hash = f.getName() + f.length();\n            List&lt;String&gt; list = lists.get(hash);\n            if (list == null) {\n                list = new LinkedList&lt;String&gt;();\n                lists.put(hash, list);\n            }\n            list.add(f.getAbsolutePath());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","string","string-interpolation"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":4,"creation_date":1372422124,"post_id":17364632,"comment_id":25200239,"body_markdown":"http://stackoverflow.com/questions/3695230/how-to-use-java-string-format","body":"<a href=\"http://stackoverflow.com/questions/3695230/how-to-use-java-string-format\" title=\"how to use java string format\">stackoverflow.com/questions/3695230/&hellip;</a>"},{"owner":{"account_id":4219756,"reputation":461,"user_id":4290127,"display_name":"Himanshu Chaudhary"},"score":1,"creation_date":1538750967,"post_id":17364632,"comment_id":92266252,"body_markdown":"The slf4J uses `org.slf4j.helpers.MessageFormatter`\nThe code looks like this:\n   `String str = &quot;Hello this is {} string {}&quot;;\n    MessageFormatter.format(str, new String[]{&quot;hello&quot;, &quot;world&quot;, &quot;blah&quot;}).getMessage();`","body":"The slf4J uses <code>org.slf4j.helpers.MessageFormatter</code> The code looks like this:    <code>String str = &quot;Hello this is {} string {}&quot;;     MessageFormatter.format(str, new String[]{&quot;hello&quot;, &quot;world&quot;, &quot;blah&quot;}).getMessage();</code>"},{"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1671377358,"post_id":17364632,"comment_id":132082086,"body_markdown":"Does this answer your question? [String replacement in java, similar to a velocity template](https://stackoverflow.com/questions/3655424/string-replacement-in-java-similar-to-a-velocity-template)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3655424/string-replacement-in-java-similar-to-a-velocity-template\">String replacement in java, similar to a velocity template</a>"}],"answers":[{"tags":[],"owner":{"account_id":544182,"reputation":11238,"user_id":913543,"accept_rate":89,"display_name":"LaurentG"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1372422181,"creation_date":1372422181,"answer_id":17364669,"question_id":17364632,"body_markdown":"If you can change the format of your placeholder, you could use `String.format()`. If not, you could also replace it as pre-processing.\r\n\r\n    String.format(&quot;hello %s!&quot;, &quot;world&quot;);\r\n\r\nMore information in [this other thread][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3695230/how-to-use-java-string-format","title":"Java generating Strings with placeholders","body":"<p>If you can change the format of your placeholder, you could use <code>String.format()</code>. If not, you could also replace it as pre-processing.</p>\n\n<pre><code>String.format(\"hello %s!\", \"world\");\n</code></pre>\n\n<p>More information in <a href=\"https://stackoverflow.com/questions/3695230/how-to-use-java-string-format\">this other thread</a>.</p>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1372422200,"creation_date":1372422200,"answer_id":17364677,"question_id":17364632,"body_markdown":"If you can tolerate a different kind of placeholder (i.e. `%s` in place of `{}`) you can use [`String.format`][1] method for that:\r\n\r\n    String s = &quot;hello %s!&quot;;\r\n    s = String.format(s, &quot;world&quot; );\r\n    assertEquals(s, &quot;hello world!&quot;); // true\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29","title":"Java generating Strings with placeholders","body":"<p>If you can tolerate a different kind of placeholder (i.e. <code>%s</code> in place of <code>{}</code>) you can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29\" rel=\"noreferrer\"><code>String.format</code></a> method for that:</p>\n\n<pre><code>String s = \"hello %s!\";\ns = String.format(s, \"world\" );\nassertEquals(s, \"hello world!\"); // true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1372422208,"creation_date":1372422208,"answer_id":17364678,"question_id":17364632,"body_markdown":"There are two solutions:\r\n\r\n* [`MessageFormat`][1];\r\n* [`Formatter`][2].\r\n\r\n`Formatter` is more recent even though it takes over `printf()` which is 40 years old...\r\n\r\nYour placeholder as you currently define it is one `MessageFormat` can use, but why use an antique technique? ;) Use `Formatter`.\r\n\r\nThere is all the more reason to use `Formatter` that you don&#39;t need to escape single quotes! `MessageFormat` requires you to do so. Also, `Formatter` has a shortcut via `String.format()` to generate strings, and `PrintWriter`s have `.printf()` (that includes `System.out` and `System.err` which are both `PrintWriter`s by default)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html","title":"Java generating Strings with placeholders","body":"<p>There are two solutions:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html\"><code>MessageFormat</code></a>;</li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\"><code>Formatter</code></a>.</li>\n</ul>\n\n<p><code>Formatter</code> is more recent even though it takes over <code>printf()</code> which is 40 years old...</p>\n\n<p>Your placeholder as you currently define it is one <code>MessageFormat</code> can use, but why use an antique technique? ;) Use <code>Formatter</code>.</p>\n\n<p>There is all the more reason to use <code>Formatter</code> that you don't need to escape single quotes! <code>MessageFormat</code> requires you to do so. Also, <code>Formatter</code> has a shortcut via <code>String.format()</code> to generate strings, and <code>PrintWriter</code>s have <code>.printf()</code> (that includes <code>System.out</code> and <code>System.err</code> which are both <code>PrintWriter</code>s by default)</p>\n"},{"tags":[],"owner":{"account_id":46772,"reputation":19976,"user_id":138256,"accept_rate":90,"display_name":"codebox"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1372430280,"creation_date":1372422221,"answer_id":17364684,"question_id":17364632,"body_markdown":"You won&#39;t need a library; if you are using a recent version of Java, have a look at `String.format`:\r\n\r\n    String.format(&quot;Hello %s!&quot;, &quot;world&quot;);","title":"Java generating Strings with placeholders","body":"<p>You won't need a library; if you are using a recent version of Java, have a look at <code>String.format</code>:</p>\n\n<pre><code>String.format(\"Hello %s!\", \"world\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":203374,"reputation":47785,"user_id":450989,"display_name":"Grzegorz Żur"},"down_vote_count":2,"up_vote_count":100,"is_accepted":true,"score":98,"last_activity_date":1429926566,"creation_date":1372422232,"answer_id":17364689,"question_id":17364632,"body_markdown":"See [`String.format`][1] method.\r\n\r\n    String s = &quot;hello %s!&quot;;\r\n    s = String.format(s, &quot;world&quot;);\r\n    assertEquals(s, &quot;hello world!&quot;); // should be true\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-","title":"Java generating Strings with placeholders","body":"<p>See <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-\"><code>String.format</code></a> method.</p>\n\n<pre><code>String s = \"hello %s!\";\ns = String.format(s, \"world\");\nassertEquals(s, \"hello world!\"); // should be true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1693774378,"creation_date":1475671262,"answer_id":39874249,"question_id":17364632,"body_markdown":"`StrSubstitutor` from Apache Commons Lang may be used for string formatting with named placeholders:\r\n\r\n&lt;!-- language: xml --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nhttps://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/text/StrSubstitutor.html :\r\n\r\n&gt; Substitutes variables within a string by values.\r\n&gt; \r\n&gt; This class takes a piece of text and substitutes all the variables\r\n&gt; within it. The default definition of a variable is ${variableName}.\r\n&gt; The prefix and suffix can be changed via constructors and set methods.\r\n&gt; \r\n&gt; Variable values are typically resolved from a map, but could also be\r\n&gt; resolved from system properties, or by supplying a custom variable\r\n&gt; resolver.\r\n\r\nExample:\r\n\r\n    String template = &quot;Hi ${name}! Your number is ${number}&quot;;\r\n \r\n    Map&lt;String, String&gt; data = new HashMap&lt;String, String&gt;();\r\n    data.put(&quot;name&quot;, &quot;John&quot;);\r\n    data.put(&quot;number&quot;, &quot;1&quot;);\r\n   \r\n    String formattedString = StrSubstitutor.replace(template, data);","title":"Java generating Strings with placeholders","body":"<p><code>StrSubstitutor</code> from Apache Commons Lang may be used for string formatting with named placeholders:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/text/StrSubstitutor.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/text/StrSubstitutor.html</a> :</p>\n<blockquote>\n<p>Substitutes variables within a string by values.</p>\n<p>This class takes a piece of text and substitutes all the variables\nwithin it. The default definition of a variable is ${variableName}.\nThe prefix and suffix can be changed via constructors and set methods.</p>\n<p>Variable values are typically resolved from a map, but could also be\nresolved from system properties, or by supplying a custom variable\nresolver.</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>String template = &quot;Hi ${name}! Your number is ${number}&quot;;\n\nMap&lt;String, String&gt; data = new HashMap&lt;String, String&gt;();\ndata.put(&quot;name&quot;, &quot;John&quot;);\ndata.put(&quot;number&quot;, &quot;1&quot;);\n\nString formattedString = StrSubstitutor.replace(template, data);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1044026,"reputation":2141,"user_id":1049391,"accept_rate":62,"display_name":"AbhishekB"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1577431493,"creation_date":1577431493,"answer_id":59497416,"question_id":17364632,"body_markdown":"This can be done in a single line without the use of library. Please check `java.text.MessageFormat` class.\r\n\r\nExample\r\n\r\n    String stringWithPlaceHolder = &quot;test String with placeholders {0} {1} {2} {3}&quot;;\r\n    String formattedStrin = java.text.MessageFormat.format(stringWithPlaceHolder, &quot;place-holder-1&quot;, &quot;place-holder-2&quot;, &quot;place-holder-3&quot;, &quot;place-holder-4&quot;);\r\n\r\nOutput will be \r\n\r\n    test String with placeholders place-holder-1 place-holder-2 place-holder-3 place-holder-4\r\n\r\n","title":"Java generating Strings with placeholders","body":"<p>This can be done in a single line without the use of library. Please check <code>java.text.MessageFormat</code> class.</p>\n\n<p>Example</p>\n\n<pre><code>String stringWithPlaceHolder = \"test String with placeholders {0} {1} {2} {3}\";\nString formattedStrin = java.text.MessageFormat.format(stringWithPlaceHolder, \"place-holder-1\", \"place-holder-2\", \"place-holder-3\", \"place-holder-4\");\n</code></pre>\n\n<p>Output will be </p>\n\n<pre><code>test String with placeholders place-holder-1 place-holder-2 place-holder-3 place-holder-4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4897719,"reputation":546,"user_id":3946752,"accept_rate":83,"display_name":"Conrad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1693774399,"creation_date":1597358175,"answer_id":63404121,"question_id":17364632,"body_markdown":"Justas answer is outdated so I&#39;m posting up to date answer with apache text commons.\r\n\r\n`StringSubstitutor` from Apache Commons Text may be used for string formatting with named placeholders:\r\nhttps://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\r\n\r\n&lt;!-- language: xml --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&gt; This class takes a piece of text and substitutes all the variables\r\n&gt; within it. The default definition of a variable is ${variableName}.\r\n&gt; The prefix and suffix can be changed via constructors and set methods.\r\n&gt; Variable values are typically resolved from a map, but could also be\r\n&gt; resolved from system properties, or by supplying a custom variable\r\n&gt; resolver.\r\n\r\nExample:\r\n\r\n    // Build map\r\n    Map&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\r\n    valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\r\n    valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\r\n    String templateString = &quot;The ${animal} jumped over the ${target}.&quot;;\r\n    \r\n    // Build StringSubstitutor\r\n    StringSubstitutor sub = new StringSubstitutor(valuesMap);\r\n    \r\n    // Replace\r\n    String resolvedString = sub.replace(templateString);\r\n\r\n","title":"Java generating Strings with placeholders","body":"<p>Justas answer is outdated so I'm posting up to date answer with apache text commons.</p>\n<p><code>StringSubstitutor</code> from Apache Commons Text may be used for string formatting with named placeholders:\n<a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringSubstitutor.html</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n    &lt;version&gt;1.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<blockquote>\n<p>This class takes a piece of text and substitutes all the variables\nwithin it. The default definition of a variable is ${variableName}.\nThe prefix and suffix can be changed via constructors and set methods.\nVariable values are typically resolved from a map, but could also be\nresolved from system properties, or by supplying a custom variable\nresolver.</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>// Build map\nMap&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\nvaluesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\nvaluesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\nString templateString = &quot;The ${animal} jumped over the ${target}.&quot;;\n\n// Build StringSubstitutor\nStringSubstitutor sub = new StringSubstitutor(valuesMap);\n\n// Replace\nString resolvedString = sub.replace(templateString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2647931,"reputation":3,"user_id":3274551,"display_name":"Rishi Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693774444,"creation_date":1638336123,"answer_id":70179479,"question_id":17364632,"body_markdown":"The suggestion by https://stackoverflow.com/users/4290127/himanshu-chaudhary works quite well:\r\n```\r\nString str = &quot;Hello this is {} string {}&quot;;     \r\nstr = MessageFormatter.format(str, &quot;hello&quot;, &quot;world&quot;).getMessage();\r\n```\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.8.0-beta4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\t\t ","title":"Java generating Strings with placeholders","body":"<p>The suggestion by <a href=\"https://stackoverflow.com/users/4290127/himanshu-chaudhary\">https://stackoverflow.com/users/4290127/himanshu-chaudhary</a> works quite well:</p>\n<pre><code>String str = &quot;Hello this is {} string {}&quot;;     \nstr = MessageFormatter.format(str, &quot;hello&quot;, &quot;world&quot;).getMessage();\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.8.0-beta4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4456117,"reputation":3177,"user_id":3626353,"accept_rate":100,"display_name":"MeLean"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643105188,"creation_date":1643105188,"answer_id":70846752,"question_id":17364632,"body_markdown":"If you want to use some string to different placeholders, you could use pointers like this:\r\n\r\n    String.format(&quot;%1$s %2$s %1$s&quot;, &quot;startAndEndText&quot;, &quot;middleText&quot;);","title":"Java generating Strings with placeholders","body":"<p>If you want to use some string to different placeholders, you could use pointers like this:</p>\n<pre><code>String.format(&quot;%1$s %2$s %1$s&quot;, &quot;startAndEndText&quot;, &quot;middleText&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7547173,"reputation":11,"user_id":5729774,"display_name":"aimilin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693774419,"creation_date":1669089095,"answer_id":74527330,"question_id":17364632,"body_markdown":"if you are user spring you can like this:\r\n\r\n    String template = &quot;hello #{#param}&quot;;\r\n    EvaluationContext context = new StandardEvaluationContext();\r\n    context.setVariable(&quot;param&quot;, &quot;world&quot;);\r\n    String value = new SpelExpressionParser().parseExpression(template, new TemplateParserContext()).getValue(context, String.class);\r\n    System.out.println(value);\r\n\r\nout put:\r\n\r\n    hello world","title":"Java generating Strings with placeholders","body":"<p>if you are user spring you can like this:</p>\n<pre><code>String template = &quot;hello #{#param}&quot;;\nEvaluationContext context = new StandardEvaluationContext();\ncontext.setVariable(&quot;param&quot;, &quot;world&quot;);\nString value = new SpelExpressionParser().parseExpression(template, new TemplateParserContext()).getValue(context, String.class);\nSystem.out.println(value);\n</code></pre>\n<p>out put:</p>\n<pre><code>hello world\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691186156,"creation_date":1671377263,"answer_id":74842563,"question_id":17364632,"body_markdown":"Java is going to have string templates (from version **21**, as a preview feature).\r\n\r\nSee [the string templates proposal (JEP 430) here](https://openjdk.org/jeps/430).\r\n\r\nIt will be something along the lines of this:\r\n\r\n```java\r\nString name = &quot;World&quot;;\r\nString info = STR.&quot;Hello \\{name}!&quot;;\r\nSystem.out.println(info); // Hello World!\r\n```\r\n---\r\n\r\nP.S. [Kotlin][1] is 100% interoperable with Java. It supports cleaner string templates out of the box:\r\n\r\n```kotlin\r\nval name = &quot;World&quot;\r\nval info = &quot;Hello $name!&quot;\r\nprintln(info) // Hello World!\r\n```\r\n\r\nCombined with [extension functions][2], you can achieve the same thing the Java template processors (e.g. `STR`) will do.\r\n\r\n\r\n  [1]: https://kotlinlang.org/\r\n  [2]: https://kotlinlang.org/docs/extensions.html","title":"Java generating Strings with placeholders","body":"<p>Java is going to have string templates (from version <strong>21</strong>, as a preview feature).</p>\n<p>See <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">the string templates proposal (JEP 430) here</a>.</p>\n<p>It will be something along the lines of this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;World&quot;;\nString info = STR.&quot;Hello \\{name}!&quot;;\nSystem.out.println(info); // Hello World!\n</code></pre>\n<hr />\n<p>P.S. <a href=\"https://kotlinlang.org/\" rel=\"nofollow noreferrer\">Kotlin</a> is 100% interoperable with Java. It supports cleaner string templates out of the box:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val name = &quot;World&quot;\nval info = &quot;Hello $name!&quot;\nprintln(info) // Hello World!\n</code></pre>\n<p>Combined with <a href=\"https://kotlinlang.org/docs/extensions.html\" rel=\"nofollow noreferrer\">extension functions</a>, you can achieve the same thing the Java template processors (e.g. <code>STR</code>) will do.</p>\n"}],"owner":{"account_id":1068705,"reputation":3315,"user_id":1068510,"accept_rate":76,"display_name":"ndrizza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210136,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":17364689,"answer_count":12,"score":80,"last_activity_date":1693774444,"creation_date":1372422039,"question_id":17364632,"body_markdown":"I&#39;m looking for something to achieve the following:\r\n\r\n```java\r\nString s = &quot;hello {}!&quot;;\r\ns = generate(s, new Object[]{ &quot;world&quot; });\r\nassertEquals(s, &quot;hello world!&quot;); // should be true\r\n```\r\n\r\nI could write it myself, but It seems to me that I saw a library once which did this, probably it was the slf4j logger, but I don&#39;t want to write log messages. I just want to generate strings.\r\n\r\nDo you know about a library which does this?\r\n","title":"Java generating Strings with placeholders","body":"<p>I'm looking for something to achieve the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;hello {}!&quot;;\ns = generate(s, new Object[]{ &quot;world&quot; });\nassertEquals(s, &quot;hello world!&quot;); // should be true\n</code></pre>\n<p>I could write it myself, but It seems to me that I saw a library once which did this, probably it was the slf4j logger, but I don't want to write log messages. I just want to generate strings.</p>\n<p>Do you know about a library which does this?</p>\n"},{"tags":["java","installation","protocol-buffers"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":0,"creation_date":1485613143,"post_id":41910741,"comment_id":71002783,"body_markdown":"What does descriptor.proto look like?","body":"What does descriptor.proto look like?"},{"owner":{"account_id":5379765,"reputation":866,"user_id":4285386,"accept_rate":69,"display_name":"Daniel Soutar"},"score":0,"creation_date":1485613465,"post_id":41910741,"comment_id":71002899,"body_markdown":"@JoeC not quite sure what you&#39;re asking for exactly. The file can be found at this link (https://github.com/google/protobuf/blob/master/src/google/protobuf/descriptor.proto) and the syntax field is set to &quot;proto2&quot; if that means anything.","body":"@JoeC not quite sure what you&#39;re asking for exactly. The file can be found at this link (<a href=\"https://github.com/google/protobuf/blob/master/src/google/protobuf/descriptor.proto\" rel=\"nofollow noreferrer\">github.com/google/protobuf/blob/master/src/google/protobuf/&zwnj;&#8203;&hellip;</a>) and the syntax field is set to &quot;proto2&quot; if that means anything."}],"answers":[{"tags":[],"owner":{"account_id":3179906,"reputation":42189,"user_id":2686899,"display_name":"Kenton Varda"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1485678493,"creation_date":1485678493,"answer_id":41918984,"question_id":41910741,"body_markdown":"&gt; protoc-3.2.0rc2-linux-x86_64.zip (although it says the version is 2.6.1)\r\n\r\nThis is the problem -- you are somehow using protoc 2.6.1 and not 3.2.0. This could be because protoc 2.6.1 was already installed on your system, and somehow it is taking precedence over 3.2.0. If you look at the errors in descriptor.proto, you&#39;ll notice they happen on the `reserved` keyword, which is new; 2.6.1 didn&#39;t support it.\r\n\r\nIt&#39;s important to use exactly the same version of protoc as the Java runtime library, otherwise the generated code may not compile correctly, or may compile but not run correctly.","title":"Compilation error when installing Protocol Buffers","body":"<blockquote>\n  <p>protoc-3.2.0rc2-linux-x86_64.zip (although it says the version is 2.6.1)</p>\n</blockquote>\n\n<p>This is the problem -- you are somehow using protoc 2.6.1 and not 3.2.0. This could be because protoc 2.6.1 was already installed on your system, and somehow it is taking precedence over 3.2.0. If you look at the errors in descriptor.proto, you'll notice they happen on the <code>reserved</code> keyword, which is new; 2.6.1 didn't support it.</p>\n\n<p>It's important to use exactly the same version of protoc as the Java runtime library, otherwise the generated code may not compile correctly, or may compile but not run correctly.</p>\n"},{"tags":[],"owner":{"account_id":2238602,"reputation":864,"user_id":1974239,"display_name":"Christos"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693774336,"creation_date":1693774336,"answer_id":77034135,"question_id":41910741,"body_markdown":"tldr `Again, be sure to check that the version number matches (or is newer than) the version number of protoc that you are using.`\r\n\r\nlink to official github: [github.com/protocolbuffers/protobuf][1]\r\n\r\n\r\n [1]: https://github.com/protocolbuffers/protobuf/tree/main/java#gradle","title":"Compilation error when installing Protocol Buffers","body":"<p>tldr <code>Again, be sure to check that the version number matches (or is newer than) the version number of protoc that you are using.</code></p>\n<p>link to official github: <a href=\"https://github.com/protocolbuffers/protobuf/tree/main/java#gradle\" rel=\"nofollow noreferrer\">github.com/protocolbuffers/protobuf</a></p>\n"}],"owner":{"account_id":5379765,"reputation":866,"user_id":4285386,"accept_rate":69,"display_name":"Daniel Soutar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1872,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41918984,"answer_count":2,"score":2,"last_activity_date":1693774336,"creation_date":1485612672,"question_id":41910741,"body_markdown":"Have been trying to install Protocol Buffers compiler and java runtime installation, but I&#39;m getting an error when compiling the java classes. I downloaded:\r\n\r\n* protoc-3.2.0rc2-linux-x86_64.zip (although it says the version is 2.6.1)\r\n\r\n* protobuf-java-3.2.0rc2.zip\r\n\r\nThe file structure looks like this:\r\n\r\n* project/\r\n * protobuf_dir/\r\n     * the protobuf files/directories including src/ and java/\r\n     * src/\r\n         * protoc (binary)\r\n         * protoc_dir/ (the other bits and bobs from protoc zip file)\r\n     * java/\r\n         * core/\r\n         * lite/\r\n         * ...\r\n\r\nSo assuming that&#39;s all fine, I typed in:\r\n\r\n    protoc --java_out=src/main/java -I../src \\../src/google/protobuf/descriptor.proto\r\n\r\nSo protoc seems to be working fine. But then I kept getting errors like these until I commented them out (not sure if that is a problem?):\r\n\r\n    google/protobuf/descriptor.proto:443:3: Expected &quot;required&quot;, &quot;optional&quot;, or &quot;repeated&quot;.\r\n    google/protobuf/descriptor.proto:443:12: Expected field name.\r\n    google/protobuf/descriptor.proto:541:3: Expected &quot;required&quot;, &quot;optional&quot;, or &quot;repeated&quot;.\r\n    google/protobuf/descriptor.proto:541:12: Expected field name.\r\n\r\nBut when I try compiling all the java classes, I just keep getting an error saying:\r\n\r\n    Descriptors.java:1175: error: cannot find symbol\r\n        return FieldDescriptorProto.Type.forNumber(ordinal() + 1);\r\n\r\nAny ideas on how to solve the problem? Can&#39;t see why it shouldn&#39;t compile. Tried looking on Google&#39;s page but nothing comes up on this.\r\n\r\nAware I sound a bit clueless although I&#39;ve never really used libraries like protobuf from Github before so this is all new to me!\r\n\r\nEDIT: Hi all, this issue was resolved with exactly the same file structure. I uninstalled protoc2.6.1, set my $JAVA_HOME and $PATH variables (you should store them too rather than having to export them every time), installed maven (properly).\r\n\r\nAll is well! Everything compiled without a hitch. Thanks to the responder!","title":"Compilation error when installing Protocol Buffers","body":"<p>Have been trying to install Protocol Buffers compiler and java runtime installation, but I'm getting an error when compiling the java classes. I downloaded:</p>\n\n<ul>\n<li><p>protoc-3.2.0rc2-linux-x86_64.zip (although it says the version is 2.6.1)</p></li>\n<li><p>protobuf-java-3.2.0rc2.zip</p></li>\n</ul>\n\n<p>The file structure looks like this:</p>\n\n<ul>\n<li>project/\n\n<ul>\n<li>protobuf_dir/\n\n<ul>\n<li>the protobuf files/directories including src/ and java/</li>\n<li>src/\n\n<ul>\n<li>protoc (binary)</li>\n<li>protoc_dir/ (the other bits and bobs from protoc zip file)</li>\n</ul></li>\n<li>java/\n\n<ul>\n<li>core/</li>\n<li>lite/</li>\n<li>...</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>So assuming that's all fine, I typed in:</p>\n\n<pre><code>protoc --java_out=src/main/java -I../src \\../src/google/protobuf/descriptor.proto\n</code></pre>\n\n<p>So protoc seems to be working fine. But then I kept getting errors like these until I commented them out (not sure if that is a problem?):</p>\n\n<pre><code>google/protobuf/descriptor.proto:443:3: Expected \"required\", \"optional\", or \"repeated\".\ngoogle/protobuf/descriptor.proto:443:12: Expected field name.\ngoogle/protobuf/descriptor.proto:541:3: Expected \"required\", \"optional\", or \"repeated\".\ngoogle/protobuf/descriptor.proto:541:12: Expected field name.\n</code></pre>\n\n<p>But when I try compiling all the java classes, I just keep getting an error saying:</p>\n\n<pre><code>Descriptors.java:1175: error: cannot find symbol\n    return FieldDescriptorProto.Type.forNumber(ordinal() + 1);\n</code></pre>\n\n<p>Any ideas on how to solve the problem? Can't see why it shouldn't compile. Tried looking on Google's page but nothing comes up on this.</p>\n\n<p>Aware I sound a bit clueless although I've never really used libraries like protobuf from Github before so this is all new to me!</p>\n\n<p>EDIT: Hi all, this issue was resolved with exactly the same file structure. I uninstalled protoc2.6.1, set my $JAVA_HOME and $PATH variables (you should store them too rather than having to export them every time), installed maven (properly).</p>\n\n<p>All is well! Everything compiled without a hitch. Thanks to the responder!</p>\n"},{"tags":["java","oop","hash"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1693772069,"post_id":77033984,"comment_id":135801394,"body_markdown":"Are you asking why someone wrote `equals` and `hashCode` methods in that class?","body":"Are you asking why someone wrote <code>equals</code> and <code>hashCode</code> methods in that class?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1693772234,"post_id":77033984,"comment_id":135801413,"body_markdown":"Don&#39;t think about it too hard. The only thing a hash function has to do is `A==B =&gt; h(A)==h(B)`, which this obviously does. Then there is `A!=B =&gt; h(A)!=h(B) &quot;as often as you can manage&quot;` which makes it fast. Violating the second nice-to-have rule will still result in a working hash (albeit a slower one). Try a hashCode that returns 0 for everything. Things should still work.","body":"Don&#39;t think about it too hard. The only thing a hash function has to do is <code>A==B =&gt; h(A)==h(B)</code>, which this obviously does. Then there is <code>A!=B =&gt; h(A)!=h(B) &quot;as often as you can manage&quot;</code> which makes it fast. Violating the second nice-to-have rule will still result in a working hash (albeit a slower one). Try a hashCode that returns 0 for everything. Things should still work."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1693772332,"post_id":77033984,"comment_id":135801425,"body_markdown":"But to your question, if `id` is `int`, `^ &gt;&gt;&gt;` does nothing. If it is `long`, it xors its two 32-bit halves together.","body":"But to your question, if <code>id</code> is <code>int</code>, <code>^ &gt;&gt;&gt;</code> does nothing. If it is <code>long</code>, it xors its two 32-bit halves together."},{"owner":{"account_id":29330050,"reputation":76,"user_id":22471702,"display_name":"user22471702"},"score":0,"creation_date":1693775016,"post_id":77033984,"comment_id":135801663,"body_markdown":"assuming `id` is a `long`,  this is just calculating its hashcode in the same way as done by  [`Long.hashCode()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Long.html#hashCode())","body":"assuming <code>id</code> is a <code>long</code>,  this is just calculating its hashcode in the same way as done by  <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Long.html#hashCode()\" rel=\"nofollow noreferrer\"><code>Long.hashCode()</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1693774225,"creation_date":1693772790,"answer_id":77034057,"question_id":77033984,"body_markdown":"&gt; Explain res = id^(id &gt;&gt;&gt; 32) please\r\n\r\n- `id &gt;&gt;&gt; n` for an int, shifts id right `n%32` bits without extending the negative sign bit if one is present.  So `(id &gt;&gt;&gt; 32)` is effectively == id.\r\n- `^` is an exclusive OR which says for any bit `a` and `b`, `a^b == 1` if `a and b` are different otherwise they `a^b == 0`.  E.g. `1^1 == 0.  0^0 == 0, 1^0 == 1`\r\n\r\nSo `id ^ id == 0`.\r\n\r\nif `id` is a long, `(id &gt;&gt;&gt; 32)` shifts the high order `32 bits` of that long `right 32 bits` and then `exclusive ors` the original long with that value.\r\n\r\nThe over all computation of hashCode is to use that technique sometimes employed with others to generate a number for use in data structures that are used to index by hashcode.  in Java, primary examples are `Maps` and `Sets`.\r\n\r\nHere is a demo.\r\n```\r\nlong v = Long.MIN_VALUE; // has 1 in hob (high order bit) and rest is 0&#39;s\r\nSystem.out.println(Long.toBinaryString(v));\r\n \r\nlong result = v ^ (v &gt;&gt;&gt; 32); // now hob should be 1 and hob of low order int should be 1\r\n\r\nSystem.out.println(Long.toBinaryString(result));\r\n1000000000000000000000000000000000000000000000000000000000000000\r\n1000000000000000000000000000000010000000000000000000000000000000\r\n","title":"Explain res = id^(id &gt;&gt;&gt; 32), please","body":"<blockquote>\n<p>Explain res = id^(id &gt;&gt;&gt; 32) please</p>\n</blockquote>\n<ul>\n<li><code>id &gt;&gt;&gt; n</code> for an int, shifts id right <code>n%32</code> bits without extending the negative sign bit if one is present.  So <code>(id &gt;&gt;&gt; 32)</code> is effectively == id.</li>\n<li><code>^</code> is an exclusive OR which says for any bit <code>a</code> and <code>b</code>, <code>a^b == 1</code> if <code>a and b</code> are different otherwise they <code>a^b == 0</code>.  E.g. <code>1^1 == 0.  0^0 == 0, 1^0 == 1</code></li>\n</ul>\n<p>So <code>id ^ id == 0</code>.</p>\n<p>if <code>id</code> is a long, <code>(id &gt;&gt;&gt; 32)</code> shifts the high order <code>32 bits</code> of that long <code>right 32 bits</code> and then <code>exclusive ors</code> the original long with that value.</p>\n<p>The over all computation of hashCode is to use that technique sometimes employed with others to generate a number for use in data structures that are used to index by hashcode.  in Java, primary examples are <code>Maps</code> and <code>Sets</code>.</p>\n<p>Here is a demo.</p>\n<pre><code>long v = Long.MIN_VALUE; // has 1 in hob (high order bit) and rest is 0's\nSystem.out.println(Long.toBinaryString(v));\n \nlong result = v ^ (v &gt;&gt;&gt; 32); // now hob should be 1 and hob of low order int should be 1\n\nSystem.out.println(Long.toBinaryString(result));\n1000000000000000000000000000000000000000000000000000000000000000\n1000000000000000000000000000000010000000000000000000000000000000\n</code></pre>\n"}],"owner":{"account_id":29305471,"reputation":23,"user_id":22452627,"display_name":"AishaWho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77034057,"answer_count":1,"score":1,"last_activity_date":1693774225,"creation_date":1693771261,"question_id":77033984,"body_markdown":"Hullo!\r\nI have this code\r\n\r\n```\r\npublic int hashCode(){\r\n        int res = (int) (id ^ (id &gt;&gt;&gt; 32));\r\n        res = 31 * res + (name != null ? name.hashCode() : 0);\r\n        return res;\r\n    }\r\n```\r\nAnd this is my equals code\r\n\r\n```\r\n    public boolean equals(Object o) {\r\n        // object ref identical or not\r\n        if (this == o) return true;\r\n        if (o == null) return false;\r\n        //class identical?\r\n        if (getClass() != o.getClass()) return false;\r\n        Person person = (Person) o;\r\n\r\n        if(id != person.id) return false;\r\n\r\n        return Objects.equals(name, person.name);\r\n    }\r\n```\r\n\r\n\r\nI don`t understand operations over result.\r\nWhy do we have to do these operations?\r\nWill be very grateful if someone can explain it to me\r\n\r\nEquals i understand well, but i read they are connected somehow, so I&#39;ve attached the comparison code just in case","title":"Explain res = id^(id &gt;&gt;&gt; 32), please","body":"<p>Hullo!\nI have this code</p>\n<pre><code>public int hashCode(){\n        int res = (int) (id ^ (id &gt;&gt;&gt; 32));\n        res = 31 * res + (name != null ? name.hashCode() : 0);\n        return res;\n    }\n</code></pre>\n<p>And this is my equals code</p>\n<pre><code>    public boolean equals(Object o) {\n        // object ref identical or not\n        if (this == o) return true;\n        if (o == null) return false;\n        //class identical?\n        if (getClass() != o.getClass()) return false;\n        Person person = (Person) o;\n\n        if(id != person.id) return false;\n\n        return Objects.equals(name, person.name);\n    }\n</code></pre>\n<p>I don`t understand operations over result.\nWhy do we have to do these operations?\nWill be very grateful if someone can explain it to me</p>\n<p>Equals i understand well, but i read they are connected somehow, so I've attached the comparison code just in case</p>\n"},{"tags":["java","ssh","sftp","jsch"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1693684435,"post_id":77029688,"comment_id":135794065,"body_markdown":"Did you try to download a file from one server? If yes, where in that code do you have problems extending it to multiple servers? If not, I would suggest that you try this, the JSch homepage has even an [example](http://www.jcraft.com/jsch/examples/ScpFrom.java.html) how to download a file with scp.","body":"Did you try to download a file from one server? If yes, where in that code do you have problems extending it to multiple servers? If not, I would suggest that you try this, the JSch homepage has even an <a href=\"http://www.jcraft.com/jsch/examples/ScpFrom.java.html\" rel=\"nofollow noreferrer\">example</a> how to download a file with scp."}],"answers":[{"tags":[],"owner":{"account_id":2005971,"reputation":536,"user_id":1795860,"accept_rate":91,"display_name":"TheNytangel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693772388,"creation_date":1693772388,"answer_id":77034042,"question_id":77029688,"body_markdown":"Referencing [JSch - Examples - Sftp.java](http://www.jcraft.com/jsch/examples/Sftp.java.html) and the [ChannelSftp JavaDoc](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html)\r\n\r\n```java\r\nJSch jsch=new JSch();\r\n\r\n// Create a session to your first SFTP server\r\nSession session1 = jsch.getSession(&quot;username&quot;, &quot;hostname1.com&quot;, 22);\r\nsession1.connect();\r\n// Open an SFTP channel and connect\r\nChannelSftp sftpChannel1 = (ChannelSftp) session1.openChannel(&quot;sftp&quot;);\r\nsftpChannel1 .connect();\r\n// Run SFTP commands\r\nsftpChannel1.get(&quot;/path/to/file&quot;);\r\n\r\n// Create a session to your second SFTP server\r\nSession session2 = jsch.getSession(&quot;username&quot;, &quot;hostname2.com&quot;, 22);\r\nsession2.connect();\r\n// Open an SFTP channel and connect\r\nChannelSftp sftpChannel2 = (ChannelSftp) session2.openChannel(&quot;sftp&quot;);\r\nsftpChannel2.connect();\r\n// Run SFTP commands\r\nsftpChannel2.get(&quot;/path/to/file&quot;);\r\n\r\n// Repeat as many times as needed\r\n```","title":"Reading file data from Multiple SFTP servers using JSch","body":"<p>Referencing <a href=\"http://www.jcraft.com/jsch/examples/Sftp.java.html\" rel=\"nofollow noreferrer\">JSch - Examples - Sftp.java</a> and the <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html\" rel=\"nofollow noreferrer\">ChannelSftp JavaDoc</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>JSch jsch=new JSch();\n\n// Create a session to your first SFTP server\nSession session1 = jsch.getSession(&quot;username&quot;, &quot;hostname1.com&quot;, 22);\nsession1.connect();\n// Open an SFTP channel and connect\nChannelSftp sftpChannel1 = (ChannelSftp) session1.openChannel(&quot;sftp&quot;);\nsftpChannel1 .connect();\n// Run SFTP commands\nsftpChannel1.get(&quot;/path/to/file&quot;);\n\n// Create a session to your second SFTP server\nSession session2 = jsch.getSession(&quot;username&quot;, &quot;hostname2.com&quot;, 22);\nsession2.connect();\n// Open an SFTP channel and connect\nChannelSftp sftpChannel2 = (ChannelSftp) session2.openChannel(&quot;sftp&quot;);\nsftpChannel2.connect();\n// Run SFTP commands\nsftpChannel2.get(&quot;/path/to/file&quot;);\n\n// Repeat as many times as needed\n</code></pre>\n"}],"owner":{"account_id":28465143,"reputation":1,"user_id":21781323,"display_name":"D&#39;DAS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693772388,"creation_date":1693681484,"question_id":77029688,"body_markdown":"Could any one provide info on, how to connect to multiple SFTP servers with Java JSch  client?.\r\n\r\nI have around Four remote SFTP servers containing files, and expectation is read the files from all the Four SFTP servers \r\n\r\ndoes Java JSch client library has support for opening multiple SFTP connection to multiple remote SFTP servers ?.\r\nEx: For the Four remote SFTP servers Four connection, once connection per SFTP server.","title":"Reading file data from Multiple SFTP servers using JSch","body":"<p>Could any one provide info on, how to connect to multiple SFTP servers with Java JSch  client?.</p>\n<p>I have around Four remote SFTP servers containing files, and expectation is read the files from all the Four SFTP servers</p>\n<p>does Java JSch client library has support for opening multiple SFTP connection to multiple remote SFTP servers ?.\nEx: For the Four remote SFTP servers Four connection, once connection per SFTP server.</p>\n"},{"tags":["java","gradle","github-actions"],"comments":[{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1693623965,"post_id":77026674,"comment_id":135788970,"body_markdown":"See https://docs.github.com/en/actions/migrating-to-github-actions/manually-migrating-to-github-actions/migrating-from-jenkins-to-github-actions.","body":"See <a href=\"https://docs.github.com/en/actions/migrating-to-github-actions/manually-migrating-to-github-actions/migrating-from-jenkins-to-github-actions\" rel=\"nofollow noreferrer\">docs.github.com/en/actions/migrating-to-github-actions/&hellip;</a>."},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1693634983,"post_id":77026674,"comment_id":135789470,"body_markdown":"There&#39;s one to one mapping Jenkins&#39; `environment` and GHA&#39;s job/steps `env`. You can use that for this migration.","body":"There&#39;s one to one mapping Jenkins&#39; <code>environment</code> and GHA&#39;s job/steps <code>env</code>. You can use that for this migration."}],"owner":{"account_id":27947363,"reputation":23,"user_id":21342044,"display_name":"Acacio Afonso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693772110,"creation_date":1693619374,"question_id":77026674,"body_markdown":"I have this task on build.gradle\r\n\r\n```\r\nversion = &quot;1.2.3&quot;\r\n\r\ntasks.register(&quot;printVersion&quot;) {\r\n\tprintln(&quot;version=$version&quot;)\r\n}\r\n```\r\n\r\nAnd i can use it on my Jenkinsfile like this:\r\n\r\n```\r\npipeline {\r\n    environment {\r\n        VERSION = &#39;latest&#39;\r\n    }\r\n    stages {\r\n        stage(&#39;Read Version&#39;) {\r\n            steps {\r\n                script {\r\n                    VERSION = sh(\r\n                        returnStdout: true,\r\n                        script: &quot;./gradlew printVersion | grep version=&quot;\r\n                    ).substring(8).trim()\r\n                    echo &quot;Version: $VERSION&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nThe echo command on Jenkinsfile returns: Version: 1.2.3\r\n\r\nNow i&#39;m migrating Jenkinsfile to gh actions, and i can&#39;t figured out how to get this version from the task\r\n\r\nThis is my gh_actions.yaml so far\r\n\r\n```\r\nname: GitHub Actions Deploy\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - poc_gh_actions\r\n\r\nenv:\r\n  BRANCH_NAME: ${{ github.head_ref || github.ref_name }}\r\n  AWS_DEFAULT_REGION: ${{ vars.AWS_DEFAULT_REGION }}\r\n\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Checkout\r\n        uses: actions/checkout@v2\r\n      - name: Getting git hash\r\n        run: |\r\n          export GIT_HASH=$(git rev-parse --short HEAD)\r\n          echo $GIT_HASH\r\n      - name: Restore gradle dependencies\r\n        uses: actions/cache@v2\r\n        with:\r\n          path: &quot;~/.gradle&quot;\r\n          key: ${{ runner.os }}-modules-${{ hashFiles(&#39;**/build.gradle&#39;) }}\r\n      - name: Set up JDK 17\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          java-version: &#39;17&#39;\r\n          distribution: &#39;temurin&#39;\r\n      - name: Validate Gradle wrapper\r\n        uses: gradle/wrapper-validation-action@ccb4328a959376b642e027874838f60f8e596de3\r\n      - name: Getting build.gradle version\r\n        run: |\r\n          chmod +x gradlew\r\n          ./gradlew printVersion | grep version=\r\n```\r\n\r\nI can only run the task, witch returns: version=1.2.3\r\n\r\nBut i want save it and only the &quot;1.2.3&quot; text on a variable to tag my docker image later\r\n\r\n\r\nJust to know. Using java 17 and gradle 7.6.1\r\n\r\n\r\nSo far i tried:\r\n\r\n```\r\n- name: Getting build.gradle version\r\n  run: |\r\n    chmod +x gradlew\r\n    export VERSION=./gradlew printVersion | grep version=\r\n    echo $VERSION\r\n```\r\n\r\n```\r\n- name: Getting build.gradle version\r\n  run: |\r\n    chmod +x gradlew\r\n    export VERSION=latest\r\n    ./gradlew printVersion | grep version= &gt;&gt; $VERSION\r\n    echo $VERSION\r\n```","title":"Use build.gradle task on githut_actions yaml","body":"<p>I have this task on build.gradle</p>\n<pre><code>version = &quot;1.2.3&quot;\n\ntasks.register(&quot;printVersion&quot;) {\n    println(&quot;version=$version&quot;)\n}\n</code></pre>\n<p>And i can use it on my Jenkinsfile like this:</p>\n<pre><code>pipeline {\n    environment {\n        VERSION = 'latest'\n    }\n    stages {\n        stage('Read Version') {\n            steps {\n                script {\n                    VERSION = sh(\n                        returnStdout: true,\n                        script: &quot;./gradlew printVersion | grep version=&quot;\n                    ).substring(8).trim()\n                    echo &quot;Version: $VERSION&quot;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>The echo command on Jenkinsfile returns: Version: 1.2.3</p>\n<p>Now i'm migrating Jenkinsfile to gh actions, and i can't figured out how to get this version from the task</p>\n<p>This is my gh_actions.yaml so far</p>\n<pre><code>name: GitHub Actions Deploy\n\non:\n  push:\n    branches:\n      - poc_gh_actions\n\nenv:\n  BRANCH_NAME: ${{ github.head_ref || github.ref_name }}\n  AWS_DEFAULT_REGION: ${{ vars.AWS_DEFAULT_REGION }}\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v2\n      - name: Getting git hash\n        run: |\n          export GIT_HASH=$(git rev-parse --short HEAD)\n          echo $GIT_HASH\n      - name: Restore gradle dependencies\n        uses: actions/cache@v2\n        with:\n          path: &quot;~/.gradle&quot;\n          key: ${{ runner.os }}-modules-${{ hashFiles('**/build.gradle') }}\n      - name: Set up JDK 17\n        uses: actions/setup-java@v3\n        with:\n          java-version: '17'\n          distribution: 'temurin'\n      - name: Validate Gradle wrapper\n        uses: gradle/wrapper-validation-action@ccb4328a959376b642e027874838f60f8e596de3\n      - name: Getting build.gradle version\n        run: |\n          chmod +x gradlew\n          ./gradlew printVersion | grep version=\n</code></pre>\n<p>I can only run the task, witch returns: version=1.2.3</p>\n<p>But i want save it and only the &quot;1.2.3&quot; text on a variable to tag my docker image later</p>\n<p>Just to know. Using java 17 and gradle 7.6.1</p>\n<p>So far i tried:</p>\n<pre><code>- name: Getting build.gradle version\n  run: |\n    chmod +x gradlew\n    export VERSION=./gradlew printVersion | grep version=\n    echo $VERSION\n</code></pre>\n<pre><code>- name: Getting build.gradle version\n  run: |\n    chmod +x gradlew\n    export VERSION=latest\n    ./gradlew printVersion | grep version= &gt;&gt; $VERSION\n    echo $VERSION\n</code></pre>\n"},{"tags":["java","angular","spring-boot","compression","gzip"],"answers":[{"tags":[],"owner":{"account_id":24672893,"reputation":73,"user_id":18567686,"display_name":"Magic Developement"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693772009,"creation_date":1693772009,"answer_id":77034026,"question_id":77033959,"body_markdown":"What I understand from your question is that you are trying to send Blob data from Angular to Spring Boot. I think it will be easier if you follow this approach:\r\n\r\nIn the Frontend:\r\n```\r\nconstructor(private http: HttpClient) {}\r\n\r\n  uploadFile(blobData: Blob): Observable&lt;any&gt; {\r\n    const formData = new FormData();\r\n    formData.append(&#39;file&#39;, blobData);\r\n\r\n    return this.http.post&lt;any&gt;(&#39;your_backend_url&#39;, formData);\r\n  }\r\n```\r\nIn the Backend\r\n\r\n``` \r\n@PostMapping(&quot;/users&quot;)\r\n  public ResponseEntity&lt;String&gt; createUser(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n    // add Your logic\r\n   // you will get all the data in the file\r\n    return ResponseEntity.ok(&quot;File uploaded successfully&quot;);\r\n  }\r\n```\r\nI hope that helpful.","title":"After decompres a request in Spring Boot, how can I trigger an endpoint which is waiting JSON data","body":"<p>What I understand from your question is that you are trying to send Blob data from Angular to Spring Boot. I think it will be easier if you follow this approach:</p>\n<p>In the Frontend:</p>\n<pre><code>constructor(private http: HttpClient) {}\n\n  uploadFile(blobData: Blob): Observable&lt;any&gt; {\n    const formData = new FormData();\n    formData.append('file', blobData);\n\n    return this.http.post&lt;any&gt;('your_backend_url', formData);\n  }\n</code></pre>\n<p>In the Backend</p>\n<pre><code>@PostMapping(&quot;/users&quot;)\n  public ResponseEntity&lt;String&gt; createUser(@RequestParam(&quot;file&quot;) MultipartFile file) {\n    // add Your logic\n   // you will get all the data in the file\n    return ResponseEntity.ok(&quot;File uploaded successfully&quot;);\n  }\n</code></pre>\n<p>I hope that helpful.</p>\n"}],"owner":{"account_id":6210880,"reputation":21,"user_id":4837199,"display_name":"Ana Bel&#233;n Gonz&#225;lez Villalba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693772009,"creation_date":1693770830,"question_id":77033959,"body_markdown":"I need to compress the calls for a WebApp built on Angular/Spring Boot. \r\n\r\nAngular is compressing the request to the Backend with pako and sending in a Blob (thanks to a previous question in stackoverflow)\r\n\r\n    var compressedBody = pako.gzip(JSON.stringify(request.body))\r\n    var blobCompressedBody = new Blob([compressedBody]);\r\n    const newRequest = request.clone({ headers: request.headers.append(&#39;Content-Encoding&#39;, &#39;gzip&#39;), body: blobCompressedBody });\r\n\r\n\r\nSpring Boot is readin the compress request with a filter defined on https://stackoverflow.com/a/26226246/1778299\r\n\r\n    \t\tpublic GzippedInputStreamWrapper(final HttpServletRequest request) throws IOException {\r\n           super(request);\r\n            try {\r\n                    final InputStream in = new GZIPInputStream(request.getInputStream());\r\n                    inputStream = in;\r\n            } catch (EOFException e) {\r\n                inputStream = null;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\nAnd now the problem is that the Controller is waiting an application/json data\r\n\r\n    @PostMapping(\r\n            value = &quot;/users&quot;,\r\n            consumes = {&quot;application/json&quot;},\r\n            produces = {&quot;application/json&quot;})\r\n    ResponseEntity&lt;User&gt; createUser(\r\n            @Valid @RequestBody UserDTO userDTO);      \r\n\r\nAnd the  endpoint on the Controller can be trigger, because the data is unknown format. \r\n\r\nSpring Boot doesn&#39;t know how to map the data that we are getting for the UnGZip process, and it&#39;s returning :\r\n\r\nmessage:  &quot;Content type &#39;&#39; not supported&quot;\r\n\r\nI don&#39;t know how to format the data from the request.getInputStream to transform in JSONdata before calling the doFilter(request, response) that the endpoint can be triggered. \r\n\r\nCan anyone help me with this, please?\r\n\r\nThank you so much in advance","title":"After decompres a request in Spring Boot, how can I trigger an endpoint which is waiting JSON data","body":"<p>I need to compress the calls for a WebApp built on Angular/Spring Boot.</p>\n<p>Angular is compressing the request to the Backend with pako and sending in a Blob (thanks to a previous question in stackoverflow)</p>\n<pre><code>var compressedBody = pako.gzip(JSON.stringify(request.body))\nvar blobCompressedBody = new Blob([compressedBody]);\nconst newRequest = request.clone({ headers: request.headers.append('Content-Encoding', 'gzip'), body: blobCompressedBody });\n</code></pre>\n<p>Spring Boot is readin the compress request with a filter defined on <a href=\"https://stackoverflow.com/a/26226246/1778299\">https://stackoverflow.com/a/26226246/1778299</a></p>\n<pre><code>        public GzippedInputStreamWrapper(final HttpServletRequest request) throws IOException {\n       super(request);\n        try {\n                final InputStream in = new GZIPInputStream(request.getInputStream());\n                inputStream = in;\n        } catch (EOFException e) {\n            inputStream = null;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>And now the problem is that the Controller is waiting an application/json data</p>\n<pre><code>@PostMapping(\n        value = &quot;/users&quot;,\n        consumes = {&quot;application/json&quot;},\n        produces = {&quot;application/json&quot;})\nResponseEntity&lt;User&gt; createUser(\n        @Valid @RequestBody UserDTO userDTO);      \n</code></pre>\n<p>And the  endpoint on the Controller can be trigger, because the data is unknown format.</p>\n<p>Spring Boot doesn't know how to map the data that we are getting for the UnGZip process, and it's returning :</p>\n<p>message:  &quot;Content type '' not supported&quot;</p>\n<p>I don't know how to format the data from the request.getInputStream to transform in JSONdata before calling the doFilter(request, response) that the endpoint can be triggered.</p>\n<p>Can anyone help me with this, please?</p>\n<p>Thank you so much in advance</p>\n"},{"tags":["java","sql","database"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1573936306,"post_id":58894875,"comment_id":104054647,"body_markdown":"Stop the two other programs currently using the database and retry?","body":"Stop the two other programs currently using the database and retry?"},{"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"score":0,"creation_date":1573936369,"post_id":58894875,"comment_id":104054664,"body_markdown":"How you are creating your database ?","body":"How you are creating your database ?"},{"owner":{"account_id":17113580,"reputation":155,"user_id":12383730,"display_name":"Sabrina MK"},"score":0,"creation_date":1573946607,"post_id":58894875,"comment_id":104056886,"body_markdown":"I try to stop the other database but is not working. I m creating database like = &quot;create&quot; &gt; &quot; Database &quot; , the name &quot;eCommerce&quot; and when i click to &quot;save&quot; the message appears.","body":"I try to stop the other database but is not working. I m creating database like = &quot;create&quot; &gt; &quot; Database &quot; , the name &quot;eCommerce&quot; and when i click to &quot;save&quot; the message appears."}],"answers":[{"tags":[],"owner":{"account_id":17106551,"reputation":339,"user_id":12378461,"display_name":"mZed"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1573943174,"creation_date":1573943174,"answer_id":58895777,"question_id":58894875,"body_markdown":"You simply need to terminate the connections before deleting the database :) \r\n\r\n        //Terminate all Connections on HostDB\r\n         SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE datname = &#39;Database_you_want_to_delete&#39;;\r\n\r\nAfter that deleting shall work without an further problems. \r\n\r\nEdit: For further information please take a look at this thread: https://stackoverflow.com/questions/5108876/kill-a-postgresql-session-connection","title":"How to delete a database in pgadmin","body":"<p>You simply need to terminate the connections before deleting the database :) </p>\n\n<pre><code>    //Terminate all Connections on HostDB\n     SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE datname = 'Database_you_want_to_delete';\n</code></pre>\n\n<p>After that deleting shall work without an further problems. </p>\n\n<p>Edit: For further information please take a look at this thread: <a href=\"https://stackoverflow.com/questions/5108876/kill-a-postgresql-session-connection\">Kill a postgresql session/connection</a></p>\n"},{"tags":[],"owner":{"account_id":17642409,"reputation":511,"user_id":12804431,"display_name":"softi"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1605687042,"creation_date":1605687042,"answer_id":64889251,"question_id":58894875,"body_markdown":"It&#39;s impossible to drop a database in pgAdmin4 by right-clicking on it and selecting Delete/Drop from the context menu. Because as soon as you right-click on it pgAdmin opens a connection to that database.\r\n\r\nBut there is another way in pgAdmin4:\r\n\r\n1. Close connections to the databases you would like to delete by right-clicking on it and selecting &quot;Disconnect database...&quot;\r\n\r\n2. Left-click on &quot;Databases&quot; (One up in the hierarchy: The folder that contains all your databases)\r\n\r\n3. Select tab &quot;Properties&quot; on the right hand side\r\n\r\n4. There you can select all your databases you would like to delete and click on the trashcan icon:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s64F4.png","title":"How to delete a database in pgadmin","body":"<p>It's impossible to drop a database in pgAdmin4 by right-clicking on it and selecting Delete/Drop from the context menu. Because as soon as you right-click on it pgAdmin opens a connection to that database.</p>\n<p>But there is another way in pgAdmin4:</p>\n<ol>\n<li><p>Close connections to the databases you would like to delete by right-clicking on it and selecting &quot;Disconnect database...&quot;</p>\n</li>\n<li><p>Left-click on &quot;Databases&quot; (One up in the hierarchy: The folder that contains all your databases)</p>\n</li>\n<li><p>Select tab &quot;Properties&quot; on the right hand side</p>\n</li>\n<li><p>There you can select all your databases you would like to delete and click on the trashcan icon:</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/s64F4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/s64F4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19835760,"reputation":893,"user_id":14529454,"display_name":"Muluken Getachew"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1630835024,"creation_date":1612968827,"answer_id":66139273,"question_id":58894875,"body_markdown":"**The Simplest Solution**, I think, is **closing opened tabs**\r\n\r\n&gt; simply closing any opened tabs related to that database in pgAdmin solves it.\r\n\r\nIn your case, **2 processes &quot;might&quot; be translated as at most two tabs in pgAdmin related to that database!**","title":"How to delete a database in pgadmin","body":"<p><strong>The Simplest Solution</strong>, I think, is <strong>closing opened tabs</strong></p>\n<blockquote>\n<p>simply closing any opened tabs related to that database in pgAdmin solves it.</p>\n</blockquote>\n<p>In your case, <strong>2 processes &quot;might&quot; be translated as at most two tabs in pgAdmin related to that database!</strong></p>\n"},{"tags":[],"owner":{"account_id":13997203,"reputation":44,"user_id":10109710,"display_name":"dodiws"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1646388603,"creation_date":1646388603,"answer_id":71349777,"question_id":58894875,"body_markdown":"You can not drop the currently open database. Run query `DROP DATABASE db_name;` in `Query Tool` from another database.","title":"How to delete a database in pgadmin","body":"<p>You can not drop the currently open database. Run query <code>DROP DATABASE db_name;</code> in <code>Query Tool</code> from another database.</p>\n"},{"tags":[],"owner":{"account_id":25390932,"reputation":1,"user_id":19201930,"display_name":"Hope Chijuka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653515847,"creation_date":1653515847,"answer_id":72384577,"question_id":58894875,"body_markdown":"Using pgAdmin, I followed @softi&#39;s solution but tweaked it a little bit and it worked\r\n\r\nFirst, Close connections to the database(s) you would like to delete by right-clicking on it and selecting &quot;Disconnect database...&quot;\r\n\r\nLeft-click on &quot;Databases&quot; (One up in the hierarchy: The folder that contains all your databases)\r\n\r\nSelect &quot;Dashboard&quot; tab on the right hand side and terminate the session(s) of the database(s) you want to delete/drop\r\n\r\n\r\nThen go to the &quot;Properties&quot; tab (next to the Dashboard tab), then select the database(s) you would like to delete and click on the trashcan icon above the list","title":"How to delete a database in pgadmin","body":"<p>Using pgAdmin, I followed @softi's solution but tweaked it a little bit and it worked</p>\n<p>First, Close connections to the database(s) you would like to delete by right-clicking on it and selecting &quot;Disconnect database...&quot;</p>\n<p>Left-click on &quot;Databases&quot; (One up in the hierarchy: The folder that contains all your databases)</p>\n<p>Select &quot;Dashboard&quot; tab on the right hand side and terminate the session(s) of the database(s) you want to delete/drop</p>\n<p>Then go to the &quot;Properties&quot; tab (next to the Dashboard tab), then select the database(s) you would like to delete and click on the trashcan icon above the list</p>\n"},{"tags":[],"owner":{"account_id":3829184,"reputation":649,"user_id":3175251,"display_name":"RoyalBigMack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693771786,"creation_date":1693771786,"answer_id":77034013,"question_id":58894875,"body_markdown":"0. Close PgAdmin\r\n1. Open a terminal\r\n2. `psql`\r\n3. `drop database [db_name];`\r\n\r\nBonus points:\r\nto create a database:\r\n`create database [db_name];`","title":"How to delete a database in pgadmin","body":"<ol start=\"0\">\n<li>Close PgAdmin</li>\n<li>Open a terminal</li>\n<li><code>psql</code></li>\n<li><code>drop database [db_name];</code></li>\n</ol>\n<p>Bonus points:\nto create a database:\n<code>create database [db_name];</code></p>\n"}],"owner":{"account_id":17113580,"reputation":155,"user_id":12383730,"display_name":"Sabrina MK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35300,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":58895777,"answer_count":6,"score":15,"last_activity_date":1693771786,"creation_date":1573935963,"question_id":58894875,"body_markdown":"When i try to create other database with the name &quot;eCommerce&quot; in pgadmin 4 this message appears \r\n\r\n\r\n**ERROR: source database &quot;template1&quot; is being accessed by other users\r\nDETAIL: There are 2 other sessions using the database.**\r\n\r\nI try to delete the others databases but is not working and appears\r\n\r\n **ERROR: cannot drop a template database**\r\n\r\nWhat should i do?","title":"How to delete a database in pgadmin","body":"<p>When i try to create other database with the name \"eCommerce\" in pgadmin 4 this message appears </p>\n\n<p><strong>ERROR: source database \"template1\" is being accessed by other users\nDETAIL: There are 2 other sessions using the database.</strong></p>\n\n<p>I try to delete the others databases but is not working and appears</p>\n\n<p><strong>ERROR: cannot drop a template database</strong></p>\n\n<p>What should i do?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","jpql"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1693442857,"post_id":77011929,"comment_id":135763103,"body_markdown":"Does the record exist in database?","body":"Does the record exist in database?"},{"owner":{"account_id":21420169,"reputation":13,"user_id":17626524,"display_name":"Doug"},"score":0,"creation_date":1693485784,"post_id":77011929,"comment_id":135769310,"body_markdown":"yess. Iam working now. I`ll update with a database screenshot.","body":"yess. Iam working now. I`ll update with a database screenshot."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693491446,"post_id":77011929,"comment_id":135770702,"body_markdown":"This is a commonly asked question with many answers. You have a bidirectional relationship and might be forgetting JPA caches entities - It is up to you to set both sides of a bidirectional relationship as these are just java objects. So every time you  set Idea.user reference, you should also add that idea to the user&#39;s ideas list and save it to keep the object model in synch with the database. Alternatively, you can force a reload using entityManager.fresh(user) - if there is data, it will get read back in. If this doesn&#39;t help, show the SQL involved, especially on the refresh.","body":"This is a commonly asked question with many answers. You have a bidirectional relationship and might be forgetting JPA caches entities - It is up to you to set both sides of a bidirectional relationship as these are just java objects. So every time you  set Idea.user reference, you should also add that idea to the user&#39;s ideas list and save it to keep the object model in synch with the database. Alternatively, you can force a reload using entityManager.fresh(user) - if there is data, it will get read back in. If this doesn&#39;t help, show the SQL involved, especially on the refresh."},{"owner":{"account_id":21420169,"reputation":13,"user_id":17626524,"display_name":"Doug"},"score":0,"creation_date":1693770965,"post_id":77011929,"comment_id":135801278,"body_markdown":"i updated with screenshots. Probably i have to do some consult and update my user list. But not make sense to me this empty list...","body":"i updated with screenshots. Probably i have to do some consult and update my user list. But not make sense to me this empty list..."}],"owner":{"account_id":21420169,"reputation":13,"user_id":17626524,"display_name":"Doug"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693770847,"creation_date":1693435207,"question_id":77011929,"body_markdown":"everybody.\r\nwhen i called /users to getAll users, my ideas list return empty. How can i get user ideias when i called findAll users?\r\nDo i need to implements something in UserRepository?\r\nIts seems weird to me, because every time i called /users resource, the ideas list return empty.\r\nIs that right?\r\nIt will always return empty in a one to many relationship?\r\nIf i want to implement this, do i need to implements some JPQL in UserRepository?\r\n\r\n\r\nClass user:\r\n   \r\n    @Entity\r\n    @Table(name = &quot;tb_user&quot;)\r\n    public class User implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate String name;\r\n\r\n\t@OneToMany(mappedBy = &quot;user&quot;)\r\n\tprivate List&lt;Idea&gt; ideas = new ArrayList&lt;&gt;();\r\n\r\n\tpublic User() {\r\n\r\n\t}\r\n\r\n\tpublic User(Long id, String name) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic List&lt;Idea&gt; getIdeas() {\r\n\t\treturn ideas;\r\n\t}\r\n\t\r\n\r\n\r\n\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn Objects.hash(id);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tUser other = (User) obj;\r\n\t\treturn Objects.equals(id, other.id);\r\n\t}\r\n\r\n    }\r\n\r\nClass idea:\r\n\r\n    @Entity\r\n    @Table(name = &quot;tb_idea&quot;)\r\n    public class Idea implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\tprivate String title;\r\n\tprivate String description;\r\n\t\r\n\t@Column(columnDefinition = &quot;TIMESTAMP WITHOUT TIME ZONE&quot;)\r\n\tprivate Instant date;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;user_id&quot;)\r\n\tprivate User user;\r\n\r\n\tpublic Idea() {\r\n\t\t\r\n\t}\r\n\r\n\tpublic Idea(Long id, String title, String description, Instant date, User user) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.title = title;\r\n\t\tthis.description = description;\r\n\t\tthis.date = date;\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getTitle() {\r\n\t\treturn title;\r\n\t}\r\n\r\n\tpublic void setTitle(String title) {\r\n\t\tthis.title = title;\r\n\t}\r\n\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\r\n\tpublic User getUser() {\r\n\t\treturn user;\r\n\t}\r\n\r\n\tpublic void setUser(User user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\t\r\n\t\r\n\r\n\tpublic Instant getDate() {\r\n\t\treturn date;\r\n\t}\r\n\r\n\tpublic void setDate(Instant date) {\r\n\t\tthis.date = date;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn Objects.hash(id);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tIdea other = (Idea) obj;\r\n\t\treturn Objects.equals(id, other.id);\r\n\t}\r\n\t\r\n\t\r\n\r\n    }\r\n\r\nUser repository:\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt;{\r\n\r\n    }\r\n\r\nUser service:\r\n\r\n    @Service\r\n    public class UserService {\r\n\r\n\t@Autowired\r\n\tprivate UserRepository repository;\r\n\r\n\t@Transactional(readOnly = true)\r\n\tpublic List&lt;UserDTO&gt; findAll() {\r\n\r\n\t\tList&lt;User&gt; list = repository.findAll();\r\n\r\n\t\treturn list.stream().map(x -&gt; new UserDTO(x)).collect(Collectors.toList());\r\n\r\n\t}\r\n\r\n    }\r\n\r\n\r\nUser Resource\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/users&quot;)\r\n    public class UserResource {\r\n\t\r\n\t@Autowired\r\n\tprivate UserService service;\r\n\t\r\n\t@GetMapping\r\n\tpublic ResponseEntity&lt;List&lt;UserDTO&gt;&gt; findAll() {\r\n\t\t\r\n\t\tList&lt;UserDTO&gt; list = service.findAll();\r\n\t\treturn ResponseEntity.ok().body(list);\r\n\t}\r\n\r\n    }\r\n\r\n\r\nTable Idea:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nTable users: \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nInsomnia: \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qfkP6.png\r\n  [2]: https://i.stack.imgur.com/8R4x1.png\r\n  [3]: https://i.stack.imgur.com/A8Uhb.png","title":"One To Many Java Spring list return empty","body":"<p>everybody.\nwhen i called /users to getAll users, my ideas list return empty. How can i get user ideias when i called findAll users?\nDo i need to implements something in UserRepository?\nIts seems weird to me, because every time i called /users resource, the ideas list return empty.\nIs that right?\nIt will always return empty in a one to many relationship?\nIf i want to implement this, do i need to implements some JPQL in UserRepository?</p>\n<p>Class user:</p>\n<pre><code>@Entity\n@Table(name = &quot;tb_user&quot;)\npublic class User implements Serializable {\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\nprivate String name;\n\n@OneToMany(mappedBy = &quot;user&quot;)\nprivate List&lt;Idea&gt; ideas = new ArrayList&lt;&gt;();\n\npublic User() {\n\n}\n\npublic User(Long id, String name) {\n    super();\n    this.id = id;\n    this.name = name;\n}\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic List&lt;Idea&gt; getIdeas() {\n    return ideas;\n}\n\n\n\n\n\n@Override\npublic int hashCode() {\n    return Objects.hash(id);\n}\n\n@Override\npublic boolean equals(Object obj) {\n    if (this == obj)\n        return true;\n    if (obj == null)\n        return false;\n    if (getClass() != obj.getClass())\n        return false;\n    User other = (User) obj;\n    return Objects.equals(id, other.id);\n}\n\n}\n</code></pre>\n<p>Class idea:</p>\n<pre><code>@Entity\n@Table(name = &quot;tb_idea&quot;)\npublic class Idea implements Serializable {\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\nprivate String title;\nprivate String description;\n\n@Column(columnDefinition = &quot;TIMESTAMP WITHOUT TIME ZONE&quot;)\nprivate Instant date;\n\n@ManyToOne\n@JoinColumn(name = &quot;user_id&quot;)\nprivate User user;\n\npublic Idea() {\n    \n}\n\npublic Idea(Long id, String title, String description, Instant date, User user) {\n    super();\n    this.id = id;\n    this.title = title;\n    this.description = description;\n    this.date = date;\n    this.user = user;\n}\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getTitle() {\n    return title;\n}\n\npublic void setTitle(String title) {\n    this.title = title;\n}\n\npublic String getDescription() {\n    return description;\n}\n\npublic void setDescription(String description) {\n    this.description = description;\n}\n\npublic User getUser() {\n    return user;\n}\n\npublic void setUser(User user) {\n    this.user = user;\n}\n\n\n\npublic Instant getDate() {\n    return date;\n}\n\npublic void setDate(Instant date) {\n    this.date = date;\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(id);\n}\n\n@Override\npublic boolean equals(Object obj) {\n    if (this == obj)\n        return true;\n    if (obj == null)\n        return false;\n    if (getClass() != obj.getClass())\n        return false;\n    Idea other = (Idea) obj;\n    return Objects.equals(id, other.id);\n}\n\n\n\n}\n</code></pre>\n<p>User repository:</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt;{\n\n}\n</code></pre>\n<p>User service:</p>\n<pre><code>@Service\npublic class UserService {\n\n@Autowired\nprivate UserRepository repository;\n\n@Transactional(readOnly = true)\npublic List&lt;UserDTO&gt; findAll() {\n\n    List&lt;User&gt; list = repository.findAll();\n\n    return list.stream().map(x -&gt; new UserDTO(x)).collect(Collectors.toList());\n\n}\n\n}\n</code></pre>\n<p>User Resource</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/users&quot;)\npublic class UserResource {\n\n@Autowired\nprivate UserService service;\n\n@GetMapping\npublic ResponseEntity&lt;List&lt;UserDTO&gt;&gt; findAll() {\n    \n    List&lt;UserDTO&gt; list = service.findAll();\n    return ResponseEntity.ok().body(list);\n}\n\n}\n</code></pre>\n<p>Table Idea:</p>\n<p><a href=\"https://i.stack.imgur.com/qfkP6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qfkP6.png\" alt=\"enter image description here\" /></a></p>\n<p>Table users:</p>\n<p><a href=\"https://i.stack.imgur.com/8R4x1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8R4x1.png\" alt=\"enter image description here\" /></a></p>\n<p>Insomnia:</p>\n<p><a href=\"https://i.stack.imgur.com/A8Uhb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A8Uhb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-8","java-stream","word-count"],"answers":[{"tags":[],"owner":{"account_id":3983395,"reputation":3281,"user_id":3284749,"accept_rate":65,"display_name":"Mouna"},"down_vote_count":0,"up_vote_count":118,"is_accepted":true,"score":118,"last_activity_date":1644316053,"creation_date":1426682582,"answer_id":29122395,"question_id":29122394,"body_markdown":"I want to share the solution I found because at first I expected to use map-and-reduce methods, but it was a bit different.\r\n\r\n```\r\nMap&lt;String,Long&gt; collect = wordsList.stream()\r\n    .collect( Collectors.groupingBy( Function.identity(), Collectors.counting() ));\r\n```\r\nOr for Integer values:\r\n\r\n```\r\nMap&lt;String,Integer&gt; collect = wordsList.stream()\r\n     .collect( Collectors.groupingBy( Function.identity(), Collectors.summingInt(e -&gt; 1) ));\r\n```\r\n**EDIT**\r\n\r\nI add how to sort the map by value: \r\n\r\n\tLinkedHashMap&lt;String, Long&gt; countByWordSorted = collect.entrySet()\r\n\t\t\t\t.stream()\r\n\t\t\t\t.sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n\t\t\t\t.collect(Collectors.toMap(\r\n\t\t\t\t\t\tMap.Entry::getKey,\r\n\t\t\t\t\t\tMap.Entry::getValue,\r\n\t\t\t\t\t\t(v1, v2) -&gt; {\r\n\t\t\t\t\t\t\tthrow new IllegalStateException();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tLinkedHashMap::new\r\n\t\t\t\t));","title":"Word frequency count Java 8","body":"<p>I want to share the solution I found because at first I expected to use map-and-reduce methods, but it was a bit different.</p>\n<pre><code>Map&lt;String,Long&gt; collect = wordsList.stream()\n    .collect( Collectors.groupingBy( Function.identity(), Collectors.counting() ));\n</code></pre>\n<p>Or for Integer values:</p>\n<pre><code>Map&lt;String,Integer&gt; collect = wordsList.stream()\n     .collect( Collectors.groupingBy( Function.identity(), Collectors.summingInt(e -&gt; 1) ));\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>I add how to sort the map by value:</p>\n<pre><code>LinkedHashMap&lt;String, Long&gt; countByWordSorted = collect.entrySet()\n            .stream()\n            .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n            .collect(Collectors.toMap(\n                    Map.Entry::getKey,\n                    Map.Entry::getValue,\n                    (v1, v2) -&gt; {\n                        throw new IllegalStateException();\n                    },\n                    LinkedHashMap::new\n            ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1426797107,"creation_date":1426695532,"answer_id":29127257,"question_id":29122394,"body_markdown":"(**NOTE: See the edits below**)\r\n\r\n\r\nAs an alternative to [Mounas answer][1], here is an approach that does the word count in parallel:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class ParallelWordCount\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            List&lt;String&gt; list = Arrays.asList(\r\n                &quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;);\r\n            Map&lt;String, Integer&gt; counts = list.parallelStream().\r\n                collect(Collectors.toConcurrentMap(\r\n                    w -&gt; w, w -&gt; 1, Integer::sum));\r\n            System.out.println(counts);\r\n        }\r\n    }\r\n\r\n\r\n&gt; EDIT In response to the comment, I ran a small test with JMH, comparing the `toConcurrentMap` and the `groupingByConcurrent` approach, with different input list sizes and random words of different lengths. This test suggested that the `toConcurrentMap` approach was faster. When considering how different these approaches are &quot;under the hood&quot;, it&#39;s hard to predict something like this.\r\n\r\n&gt; As a further extension, based on further comments, I extended the test to cover all four combinations of `toMap`, `groupingBy`, serial and parallel. \r\n\r\n&gt; The results are still that the `toMap` approach is faster, but unexpectedly (at least, for me) the &quot;concurrent&quot; versions in both cases are slower than the serial versions...:\r\n\r\n    \r\n\r\n                 (method)  (count) (wordLength)  Mode  Cnt     Score    Error  Units\r\n          toConcurrentMap     1000            2  avgt   50   146,636 &#177;  0,880  us/op\r\n          toConcurrentMap     1000            5  avgt   50   272,762 &#177;  1,232  us/op\r\n          toConcurrentMap     1000           10  avgt   50   271,121 &#177;  1,125  us/op\r\n                    toMap     1000            2  avgt   50    44,396 &#177;  0,541  us/op\r\n                    toMap     1000            5  avgt   50    46,938 &#177;  0,872  us/op\r\n                    toMap     1000           10  avgt   50    46,180 &#177;  0,557  us/op\r\n               groupingBy     1000            2  avgt   50    46,797 &#177;  1,181  us/op\r\n               groupingBy     1000            5  avgt   50    68,992 &#177;  1,537  us/op\r\n               groupingBy     1000           10  avgt   50    68,636 &#177;  1,349  us/op\r\n     groupingByConcurrent     1000            2  avgt   50   231,458 &#177;  0,658  us/op\r\n     groupingByConcurrent     1000            5  avgt   50   438,975 &#177;  1,591  us/op\r\n     groupingByConcurrent     1000           10  avgt   50   437,765 &#177;  1,139  us/op\r\n          toConcurrentMap    10000            2  avgt   50   712,113 &#177;  6,340  us/op\r\n          toConcurrentMap    10000            5  avgt   50  1809,356 &#177;  9,344  us/op\r\n          toConcurrentMap    10000           10  avgt   50  1813,814 &#177; 16,190  us/op\r\n                    toMap    10000            2  avgt   50   341,004 &#177; 16,074  us/op\r\n                    toMap    10000            5  avgt   50   535,122 &#177; 24,674  us/op\r\n                    toMap    10000           10  avgt   50   511,186 &#177;  3,444  us/op\r\n               groupingBy    10000            2  avgt   50   340,984 &#177;  6,235  us/op\r\n               groupingBy    10000            5  avgt   50   708,553 &#177;  6,369  us/op\r\n               groupingBy    10000           10  avgt   50   712,858 &#177; 10,248  us/op\r\n     groupingByConcurrent    10000            2  avgt   50   901,842 &#177;  8,685  us/op\r\n     groupingByConcurrent    10000            5  avgt   50  3762,478 &#177; 21,408  us/op\r\n     groupingByConcurrent    10000           10  avgt   50  3795,530 &#177; 32,096  us/op\r\n\r\nI&#39;m not so experienced with JMH, maybe I did something wrong here - suggestions and corrections are welcome:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Random;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import org.openjdk.jmh.annotations.Benchmark;\r\n    import org.openjdk.jmh.annotations.BenchmarkMode;\r\n    import org.openjdk.jmh.annotations.Mode;\r\n    import org.openjdk.jmh.annotations.OutputTimeUnit;\r\n    import org.openjdk.jmh.annotations.Param;\r\n    import org.openjdk.jmh.annotations.Scope;\r\n    import org.openjdk.jmh.annotations.Setup;\r\n    import org.openjdk.jmh.annotations.State;\r\n    import org.openjdk.jmh.infra.Blackhole;\r\n    \r\n    @State(Scope.Thread)\r\n    public class ParallelWordCount\r\n    {\r\n    \r\n        @Param({&quot;toConcurrentMap&quot;, &quot;toMap&quot;, &quot;groupingBy&quot;, &quot;groupingByConcurrent&quot;})\r\n        public String method;\r\n    \r\n        @Param({&quot;2&quot;, &quot;5&quot;, &quot;10&quot;})\r\n        public int wordLength;\r\n    \r\n        @Param({&quot;1000&quot;, &quot;10000&quot; })\r\n        public int count;\r\n    \r\n        private List&lt;String&gt; list;\r\n        \r\n        @Setup\r\n        public void initList()\r\n        {\r\n             list = createRandomStrings(count, wordLength, new Random(0));\r\n        }\r\n    \r\n        @Benchmark\r\n        @BenchmarkMode(Mode.AverageTime)\r\n        @OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n        public void testMethod(Blackhole bh)\r\n        {\r\n            \r\n            if (method.equals(&quot;toMap&quot;))\r\n            {\r\n                Map&lt;String, Integer&gt; counts =\r\n                    list.stream().collect(\r\n                        Collectors.toMap(\r\n                            w -&gt; w, w -&gt; 1, Integer::sum));\r\n                bh.consume(counts);\r\n            }\r\n            else if (method.equals(&quot;toConcurrentMap&quot;))\r\n            {\r\n                Map&lt;String, Integer&gt; counts =\r\n                    list.parallelStream().collect(\r\n                        Collectors.toConcurrentMap(\r\n                            w -&gt; w, w -&gt; 1, Integer::sum));\r\n                bh.consume(counts);\r\n            }\r\n            else if (method.equals(&quot;groupingBy&quot;))\r\n            {\r\n                Map&lt;String, Long&gt; counts =\r\n                    list.stream().collect(\r\n                        Collectors.groupingBy(\r\n                            Function.identity(), Collectors.&lt;String&gt;counting()));\r\n                bh.consume(counts);\r\n            }\r\n            else if (method.equals(&quot;groupingByConcurrent&quot;))\r\n            {\r\n                Map&lt;String, Long&gt; counts =\r\n                    list.parallelStream().collect(\r\n                        Collectors.groupingByConcurrent(\r\n                            Function.identity(), Collectors.&lt;String&gt; counting()));\r\n                bh.consume(counts);\r\n            }\r\n        }\r\n        \r\n        private static String createRandomString(int length, Random random)\r\n        {\r\n            StringBuilder sb = new StringBuilder();\r\n            for (int i = 0; i &lt; length; i++)\r\n            {\r\n                int c = random.nextInt(26);\r\n                sb.append((char) (c + &#39;a&#39;));\r\n            }\r\n            return sb.toString();\r\n        }\r\n    \r\n        private static List&lt;String&gt; createRandomStrings(\r\n            int count, int length, Random random)\r\n        {\r\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;(count);\r\n            for (int i = 0; i &lt; count; i++)\r\n            {\r\n                list.add(createRandomString(length, random));\r\n            }\r\n            return list;\r\n        }\r\n    }\r\n\r\nThe times are only similar for the serial case of a list with 10000 elements, and 2-letter words. \r\n\r\nIt could be worthwhile to check whether for even larger list sizes, the concurrent versions eventually outperform the serial ones, but currently don&#39;t have the time for another detailed benchmark run with all these configurations. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/29122395/3182664\r\n\r\n","title":"Word frequency count Java 8","body":"<p>(<strong>NOTE: See the edits below</strong>)</p>\n\n<p>As an alternative to <a href=\"https://stackoverflow.com/a/29122395/3182664\">Mounas answer</a>, here is an approach that does the word count in parallel:</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class ParallelWordCount\n{\n    public static void main(String[] args)\n    {\n        List&lt;String&gt; list = Arrays.asList(\n            \"hello\", \"bye\", \"ciao\", \"bye\", \"ciao\");\n        Map&lt;String, Integer&gt; counts = list.parallelStream().\n            collect(Collectors.toConcurrentMap(\n                w -&gt; w, w -&gt; 1, Integer::sum));\n        System.out.println(counts);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>EDIT In response to the comment, I ran a small test with JMH, comparing the <code>toConcurrentMap</code> and the <code>groupingByConcurrent</code> approach, with different input list sizes and random words of different lengths. This test suggested that the <code>toConcurrentMap</code> approach was faster. When considering how different these approaches are \"under the hood\", it's hard to predict something like this.</p>\n  \n  <p>As a further extension, based on further comments, I extended the test to cover all four combinations of <code>toMap</code>, <code>groupingBy</code>, serial and parallel. </p>\n  \n  <p>The results are still that the <code>toMap</code> approach is faster, but unexpectedly (at least, for me) the \"concurrent\" versions in both cases are slower than the serial versions...:</p>\n</blockquote>\n\n<pre><code>             (method)  (count) (wordLength)  Mode  Cnt     Score    Error  Units\n      toConcurrentMap     1000            2  avgt   50   146,636 ±  0,880  us/op\n      toConcurrentMap     1000            5  avgt   50   272,762 ±  1,232  us/op\n      toConcurrentMap     1000           10  avgt   50   271,121 ±  1,125  us/op\n                toMap     1000            2  avgt   50    44,396 ±  0,541  us/op\n                toMap     1000            5  avgt   50    46,938 ±  0,872  us/op\n                toMap     1000           10  avgt   50    46,180 ±  0,557  us/op\n           groupingBy     1000            2  avgt   50    46,797 ±  1,181  us/op\n           groupingBy     1000            5  avgt   50    68,992 ±  1,537  us/op\n           groupingBy     1000           10  avgt   50    68,636 ±  1,349  us/op\n groupingByConcurrent     1000            2  avgt   50   231,458 ±  0,658  us/op\n groupingByConcurrent     1000            5  avgt   50   438,975 ±  1,591  us/op\n groupingByConcurrent     1000           10  avgt   50   437,765 ±  1,139  us/op\n      toConcurrentMap    10000            2  avgt   50   712,113 ±  6,340  us/op\n      toConcurrentMap    10000            5  avgt   50  1809,356 ±  9,344  us/op\n      toConcurrentMap    10000           10  avgt   50  1813,814 ± 16,190  us/op\n                toMap    10000            2  avgt   50   341,004 ± 16,074  us/op\n                toMap    10000            5  avgt   50   535,122 ± 24,674  us/op\n                toMap    10000           10  avgt   50   511,186 ±  3,444  us/op\n           groupingBy    10000            2  avgt   50   340,984 ±  6,235  us/op\n           groupingBy    10000            5  avgt   50   708,553 ±  6,369  us/op\n           groupingBy    10000           10  avgt   50   712,858 ± 10,248  us/op\n groupingByConcurrent    10000            2  avgt   50   901,842 ±  8,685  us/op\n groupingByConcurrent    10000            5  avgt   50  3762,478 ± 21,408  us/op\n groupingByConcurrent    10000           10  avgt   50  3795,530 ± 32,096  us/op\n</code></pre>\n\n<p>I'm not so experienced with JMH, maybe I did something wrong here - suggestions and corrections are welcome:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Random;\nimport java.util.concurrent.TimeUnit;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\nimport org.openjdk.jmh.annotations.Benchmark;\nimport org.openjdk.jmh.annotations.BenchmarkMode;\nimport org.openjdk.jmh.annotations.Mode;\nimport org.openjdk.jmh.annotations.OutputTimeUnit;\nimport org.openjdk.jmh.annotations.Param;\nimport org.openjdk.jmh.annotations.Scope;\nimport org.openjdk.jmh.annotations.Setup;\nimport org.openjdk.jmh.annotations.State;\nimport org.openjdk.jmh.infra.Blackhole;\n\n@State(Scope.Thread)\npublic class ParallelWordCount\n{\n\n    @Param({\"toConcurrentMap\", \"toMap\", \"groupingBy\", \"groupingByConcurrent\"})\n    public String method;\n\n    @Param({\"2\", \"5\", \"10\"})\n    public int wordLength;\n\n    @Param({\"1000\", \"10000\" })\n    public int count;\n\n    private List&lt;String&gt; list;\n\n    @Setup\n    public void initList()\n    {\n         list = createRandomStrings(count, wordLength, new Random(0));\n    }\n\n    @Benchmark\n    @BenchmarkMode(Mode.AverageTime)\n    @OutputTimeUnit(TimeUnit.MICROSECONDS)\n    public void testMethod(Blackhole bh)\n    {\n\n        if (method.equals(\"toMap\"))\n        {\n            Map&lt;String, Integer&gt; counts =\n                list.stream().collect(\n                    Collectors.toMap(\n                        w -&gt; w, w -&gt; 1, Integer::sum));\n            bh.consume(counts);\n        }\n        else if (method.equals(\"toConcurrentMap\"))\n        {\n            Map&lt;String, Integer&gt; counts =\n                list.parallelStream().collect(\n                    Collectors.toConcurrentMap(\n                        w -&gt; w, w -&gt; 1, Integer::sum));\n            bh.consume(counts);\n        }\n        else if (method.equals(\"groupingBy\"))\n        {\n            Map&lt;String, Long&gt; counts =\n                list.stream().collect(\n                    Collectors.groupingBy(\n                        Function.identity(), Collectors.&lt;String&gt;counting()));\n            bh.consume(counts);\n        }\n        else if (method.equals(\"groupingByConcurrent\"))\n        {\n            Map&lt;String, Long&gt; counts =\n                list.parallelStream().collect(\n                    Collectors.groupingByConcurrent(\n                        Function.identity(), Collectors.&lt;String&gt; counting()));\n            bh.consume(counts);\n        }\n    }\n\n    private static String createRandomString(int length, Random random)\n    {\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; length; i++)\n        {\n            int c = random.nextInt(26);\n            sb.append((char) (c + 'a'));\n        }\n        return sb.toString();\n    }\n\n    private static List&lt;String&gt; createRandomStrings(\n        int count, int length, Random random)\n    {\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(count);\n        for (int i = 0; i &lt; count; i++)\n        {\n            list.add(createRandomString(length, random));\n        }\n        return list;\n    }\n}\n</code></pre>\n\n<p>The times are only similar for the serial case of a list with 10000 elements, and 2-letter words. </p>\n\n<p>It could be worthwhile to check whether for even larger list sizes, the concurrent versions eventually outperform the serial ones, but currently don't have the time for another detailed benchmark run with all these configurations. </p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1630279780,"creation_date":1426733994,"answer_id":29136492,"question_id":29122394,"body_markdown":"If you use [Eclipse Collections][1], you can just convert the `List` to a [`Bag`][2].\r\n    \r\n    Bag&lt;String&gt; words = \r\n        Lists.mutable.with(&quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;).toBag();\r\n\r\n    Assert.assertEquals(2, words.occurrencesOf(&quot;ciao&quot;));\r\n    Assert.assertEquals(1, words.occurrencesOf(&quot;hello&quot;));\r\n    Assert.assertEquals(2, words.occurrencesOf(&quot;bye&quot;));\r\n\r\nYou can also create a `Bag` directly using the `Bags` factory class.\r\n\r\n    Bag&lt;String&gt; words = \r\n        Bags.mutable.with(&quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;);\r\n\r\nThis code will work with Java 5+.\r\n\r\n**Note:** I am a committer for Eclipse Collections\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/api/bag/Bag.html","title":"Word frequency count Java 8","body":"<p>If you use <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>, you can just convert the <code>List</code> to a <a href=\"https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/api/bag/Bag.html\" rel=\"nofollow noreferrer\"><code>Bag</code></a>.</p>\n<pre><code>Bag&lt;String&gt; words = \n    Lists.mutable.with(&quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;).toBag();\n\nAssert.assertEquals(2, words.occurrencesOf(&quot;ciao&quot;));\nAssert.assertEquals(1, words.occurrencesOf(&quot;hello&quot;));\nAssert.assertEquals(2, words.occurrencesOf(&quot;bye&quot;));\n</code></pre>\n<p>You can also create a <code>Bag</code> directly using the <code>Bags</code> factory class.</p>\n<pre><code>Bag&lt;String&gt; words = \n    Bags.mutable.with(&quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;);\n</code></pre>\n<p>This code will work with Java 5+.</p>\n<p><strong>Note:</strong> I am a committer for Eclipse Collections</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1426793817,"creation_date":1426793817,"answer_id":29153473,"question_id":29122394,"body_markdown":"I&#39;ll present the solution here which I made (the one with grouping is much better :) ).\r\n\r\n    static private void test0(List&lt;String&gt; input) {\r\n        Set&lt;String&gt; set = input.stream()\r\n                .collect(Collectors.toSet());\r\n        set.stream()\r\n                .collect(Collectors.toMap(Function.identity(),\r\n                        str -&gt; Collections.frequency(input, str)));\r\n    }\r\n\r\nJust my 0.02$","title":"Word frequency count Java 8","body":"<p>I'll present the solution here which I made (the one with grouping is much better :) ).</p>\n\n<pre><code>static private void test0(List&lt;String&gt; input) {\n    Set&lt;String&gt; set = input.stream()\n            .collect(Collectors.toSet());\n    set.stream()\n            .collect(Collectors.toMap(Function.identity(),\n                    str -&gt; Collections.frequency(input, str)));\n}\n</code></pre>\n\n<p>Just my 0.02$</p>\n"},{"tags":[],"owner":{"account_id":1912589,"reputation":3588,"user_id":1725975,"display_name":"Sym-Sym"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510607039,"creation_date":1510607039,"answer_id":47273500,"question_id":29122394,"body_markdown":"Another 2 cent of mine, given an array:\r\n\r\n    import static java.util.stream.Collectors.*;\r\n\r\n    String[] str = {&quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;};    \r\n    Map&lt;String, Integer&gt; collected \r\n    = Arrays.stream(str)\r\n            .collect(groupingBy(Function.identity(), \r\n                        collectingAndThen(counting(), Long::intValue)));","title":"Word frequency count Java 8","body":"<p>Another 2 cent of mine, given an array:</p>\n\n<pre><code>import static java.util.stream.Collectors.*;\n\nString[] str = {\"hello\", \"bye\", \"ciao\", \"bye\", \"ciao\"};    \nMap&lt;String, Integer&gt; collected \n= Arrays.stream(str)\n        .collect(groupingBy(Function.identity(), \n                    collectingAndThen(counting(), Long::intValue)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10015759,"reputation":1162,"user_id":7407116,"display_name":"Piyush"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1519493890,"creation_date":1519490751,"answer_id":48965175,"question_id":29122394,"body_markdown":"Here&#39;s a way to create a frequency map using map functions.\r\n\r\n    List&lt;String&gt; words = Stream.of(&quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;).collect(toList());\r\n    Map&lt;String, Integer&gt; frequencyMap = new HashMap&lt;&gt;();\r\n    \r\n    words.forEach(word -&gt;\r\n            frequencyMap.merge(word, 1, (v, newV) -&gt; v + newV)\r\n    );\r\n    \r\n    System.out.println(frequencyMap); // {ciao=2, hello=1, bye=2}\r\n\r\nOr\r\n\r\n    words.forEach(word -&gt;\r\n           frequencyMap.compute(word, (k, v) -&gt; v != null ? v + 1 : 1)\r\n    );\r\n\r\n","title":"Word frequency count Java 8","body":"<p>Here's a way to create a frequency map using map functions.</p>\n\n<pre><code>List&lt;String&gt; words = Stream.of(\"hello\", \"bye\", \"ciao\", \"bye\", \"ciao\").collect(toList());\nMap&lt;String, Integer&gt; frequencyMap = new HashMap&lt;&gt;();\n\nwords.forEach(word -&gt;\n        frequencyMap.merge(word, 1, (v, newV) -&gt; v + newV)\n);\n\nSystem.out.println(frequencyMap); // {ciao=2, hello=1, bye=2}\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>words.forEach(word -&gt;\n       frequencyMap.compute(word, (k, v) -&gt; v != null ? v + 1 : 1)\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5576966,"reputation":609,"user_id":4420094,"accept_rate":80,"display_name":"nejckorasa"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1532508258,"creation_date":1519742025,"answer_id":49011132,"question_id":29122394,"body_markdown":"Find most frequent item in collection, with generics:\r\n\r\n\r\n  \t\r\n    private &lt;V&gt; V findMostFrequentItem(final Collection&lt;V&gt; items)\r\n  \t{\r\n  \t  return items.stream()\r\n          .filter(Objects::nonNull)\r\n  \t      .collect(Collectors.groupingBy(Functions.identity(), Collectors.counting()))\r\n          .entrySet()\r\n          .stream()\r\n  \t      .max(Comparator.comparing(Entry::getValue))\r\n  \t      .map(Entry::getKey)\r\n  \t      .orElse(null);\r\n  \t}\r\n\r\n\r\n\r\nCompute item frequencies:\r\n\r\n  \tprivate &lt;V&gt; Map&lt;V, Long&gt; findFrequencies(final Collection&lt;V&gt; items)\r\n  \t{\r\n  \t  return items.stream()\r\n  \t      .filter(Objects::nonNull)\r\n  \t      .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n  \t}","title":"Word frequency count Java 8","body":"<p>Find most frequent item in collection, with generics:</p>\n\n<pre><code>private &lt;V&gt; V findMostFrequentItem(final Collection&lt;V&gt; items)\n{\n  return items.stream()\n      .filter(Objects::nonNull)\n      .collect(Collectors.groupingBy(Functions.identity(), Collectors.counting()))\n      .entrySet()\n      .stream()\n      .max(Comparator.comparing(Entry::getValue))\n      .map(Entry::getKey)\n      .orElse(null);\n}\n</code></pre>\n\n<p>Compute item frequencies:</p>\n\n<pre><code>private &lt;V&gt; Map&lt;V, Long&gt; findFrequencies(final Collection&lt;V&gt; items)\n{\n  return items.stream()\n      .filter(Objects::nonNull)\n      .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8172663,"reputation":1,"user_id":6152555,"display_name":"Easycoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559214787,"creation_date":1559213954,"answer_id":56376949,"question_id":29122394,"body_markdown":"```\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t\r\n\t\tString testString =&quot;qqwweerrttyyaaaaaasdfasafsdfadsfadsewfywqtedywqtdfewyfdweytfdywfdyrewfdyewrefdyewdyfwhxvsahxvfwytfx&quot;; \r\n\t\tlong java8Case2 = testString.codePoints().filter(ch -&gt; ch ==&#39;a&#39;).count();\r\n\t\tSystem.out.println(java8Case2);\r\n\t\t\r\n\t\tArrayList&lt;Character&gt; list = new ArrayList&lt;Character&gt;();\r\n\t\tfor (char c : testString.toCharArray()) {\r\n\t\t  list.add(c);\r\n\t\t}\r\n\t    Map&lt;Object, Integer&gt; counts = list.parallelStream().\r\n\t        collect(Collectors.toConcurrentMap(\r\n\t            w -&gt; w, w -&gt; 1, Integer::sum));\r\n\t    System.out.println(counts);\r\n\t}\r\n\r\n}\r\n```\r\n","title":"Word frequency count Java 8","body":"<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n\n        String testString =\"qqwweerrttyyaaaaaasdfasafsdfadsfadsewfywqtedywqtdfewyfdweytfdywfdyrewfdyewrefdyewdyfwhxvsahxvfwytfx\"; \n        long java8Case2 = testString.codePoints().filter(ch -&gt; ch =='a').count();\n        System.out.println(java8Case2);\n\n        ArrayList&lt;Character&gt; list = new ArrayList&lt;Character&gt;();\n        for (char c : testString.toCharArray()) {\n          list.add(c);\n        }\n        Map&lt;Object, Integer&gt; counts = list.parallelStream().\n            collect(Collectors.toConcurrentMap(\n                w -&gt; w, w -&gt; 1, Integer::sum));\n        System.out.println(counts);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9133872,"reputation":103,"user_id":6794342,"display_name":"Saidu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578882616,"creation_date":1578882616,"answer_id":59709937,"question_id":29122394,"body_markdown":"you can use the Java 8 Streams\r\n\r\n```\r\n    Arrays.asList(s).stream()\r\n          .collect(Collectors.groupingBy(Function.&lt;String&gt;identity(), \r\n          Collectors.&lt;String&gt;counting()));\r\n```","title":"Word frequency count Java 8","body":"<p>you can use the Java 8 Streams</p>\n\n<pre><code>    Arrays.asList(s).stream()\n          .collect(Collectors.groupingBy(Function.&lt;String&gt;identity(), \n          Collectors.&lt;String&gt;counting()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5993436,"reputation":487,"user_id":4708874,"accept_rate":53,"display_name":"Mehdi Akbarian Rastaghi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664780276,"creation_date":1664780276,"answer_id":73932052,"question_id":29122394,"body_markdown":"I think there is a more readable way:\r\n\r\n```java\r\nvar words = List.of(&quot;my&quot;, &quot;more&quot;, &quot;more&quot;, &quot;more&quot;, &quot;simple&quot;, &quot;way&quot;);\r\nvar count = words.stream().map(x -&gt; Map.entry(x, 1))\r\n                    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, Integer::sum));\r\n```\r\n\r\nSimilar to map-reduce approach, first map each word *w* to a (*w*, 1). Then aggregate(reduce part) all pairs&#39; count(`Map.Entry::getValue`) where their key(word *w*) is similar, (`Map.Entry::getKey`) and calculate the sum( `Integer::sum`). \r\n\r\nThe final terminal operation will return a `HashMap&lt;String, Integer&gt;`:\r\n\r\n    {more=3, simple=1, my=1, way=1}\r\n\r\n","title":"Word frequency count Java 8","body":"<p>I think there is a more readable way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var words = List.of(&quot;my&quot;, &quot;more&quot;, &quot;more&quot;, &quot;more&quot;, &quot;simple&quot;, &quot;way&quot;);\nvar count = words.stream().map(x -&gt; Map.entry(x, 1))\n                    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, Integer::sum));\n</code></pre>\n<p>Similar to map-reduce approach, first map each word <em>w</em> to a (<em>w</em>, 1). Then aggregate(reduce part) all pairs' count(<code>Map.Entry::getValue</code>) where their key(word <em>w</em>) is similar, (<code>Map.Entry::getKey</code>) and calculate the sum( <code>Integer::sum</code>).</p>\n<p>The final terminal operation will return a <code>HashMap&lt;String, Integer&gt;</code>:</p>\n<pre><code>{more=3, simple=1, my=1, way=1}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675312417,"creation_date":1675312417,"answer_id":75318715,"question_id":29122394,"body_markdown":"\r\n\r\n\r\n\r\n\r\n      public static void main(String[] args) {\r\n\t\tString str = &quot;Hi Hello Hi&quot;;\r\n\t\tList&lt;String&gt; s = Arrays.asList(str.split(&quot; &quot;));\r\n\t\tMap&lt;String, Long&gt; hm = \r\n                  s.stream().collect(Collectors.groupingBy(Function.identity(), \r\n                  Collectors.counting()));\r\n\r\n\t\t          hm.entrySet().forEach(entry -&gt; {\r\n\r\n\t\t\t     System.out.println(entry.getKey() + &quot; &quot; + entry.getValue());\r\n\t\t          });\r\n\r\n\t}","title":"Word frequency count Java 8","body":"<pre><code>  public static void main(String[] args) {\n    String str = &quot;Hi Hello Hi&quot;;\n    List&lt;String&gt; s = Arrays.asList(str.split(&quot; &quot;));\n    Map&lt;String, Long&gt; hm = \n              s.stream().collect(Collectors.groupingBy(Function.identity(), \n              Collectors.counting()));\n\n              hm.entrySet().forEach(entry -&gt; {\n\n             System.out.println(entry.getKey() + &quot; &quot; + entry.getValue());\n              });\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693770450,"creation_date":1693770450,"answer_id":77033940,"question_id":29122394,"body_markdown":"I am surprised no one mentioned solution using [`Map.getOrDefault`][1]:\r\n```\r\nMap&lt;String, Integer&gt; res = new HashMap&lt;&gt;();\r\nwordsList.forEach(w -&gt; res.put(w, res.getOrDefault(w, 0) + 1));\r\n```\r\n`default V getOrDefault(Object key, V defaultValue)`\r\n- Returns the value to which the specified key is mapped, or defaultValue if this map contains no mapping for the key. So, it&#39;s pretty easy to use it for frequency calculation.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-","title":"Word frequency count Java 8","body":"<p>I am surprised no one mentioned solution using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\" rel=\"nofollow noreferrer\"><code>Map.getOrDefault</code></a>:</p>\n<pre><code>Map&lt;String, Integer&gt; res = new HashMap&lt;&gt;();\nwordsList.forEach(w -&gt; res.put(w, res.getOrDefault(w, 0) + 1));\n</code></pre>\n<p><code>default V getOrDefault(Object key, V defaultValue)</code></p>\n<ul>\n<li>Returns the value to which the specified key is mapped, or defaultValue if this map contains no mapping for the key. So, it's pretty easy to use it for frequency calculation.</li>\n</ul>\n"}],"owner":{"account_id":3983395,"reputation":3281,"user_id":3284749,"accept_rate":65,"display_name":"Mouna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92702,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":29122395,"answer_count":12,"score":79,"last_activity_date":1693770450,"creation_date":1426682582,"question_id":29122394,"body_markdown":"How to count the frequency of words of List&lt;String&gt; in Java 8?\r\n\r\n    List &lt;String&gt; wordsList = Lists.newArrayList(&quot;hello&quot;, &quot;bye&quot;, &quot;ciao&quot;, &quot;bye&quot;, &quot;ciao&quot;);\r\n\r\nThe result must be: \r\n\r\n    {ciao=2, hello=1, bye=2}\r\n\r\n","title":"Word frequency count Java 8","body":"<p>How to count the frequency of words of List in Java 8?</p>\n\n<pre><code>List &lt;String&gt; wordsList = Lists.newArrayList(\"hello\", \"bye\", \"ciao\", \"bye\", \"ciao\");\n</code></pre>\n\n<p>The result must be: </p>\n\n<pre><code>{ciao=2, hello=1, bye=2}\n</code></pre>\n"},{"tags":["java","hash","hashmap","equals","hashcode"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1503857811,"post_id":45907878,"comment_id":78774561,"body_markdown":"Are you looking for this https://stackoverflow.com/questions/4885095/what-is-the-reason-behind-enum-hashcode ?","body":"Are you looking for this <a href=\"https://stackoverflow.com/questions/4885095/what-is-the-reason-behind-enum-hashcode\" title=\"what is the reason behind enum hashcode\">stackoverflow.com/questions/4885095/&hellip;</a> ?"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1503857939,"post_id":45907878,"comment_id":78774599,"body_markdown":"Or have you ended up with something like this https://stackoverflow.com/questions/40028231/apache-commons-lang3-hashcode-equals-and-tostring-including-enums?","body":"Or have you ended up with something like this <a href=\"https://stackoverflow.com/questions/40028231/apache-commons-lang3-hashcode-equals-and-tostring-including-enums\" title=\"apache commons lang3 hashcode equals and tostring including enums\">stackoverflow.com/questions/40028231/&hellip;</a>?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":2,"creation_date":1503859765,"post_id":45907878,"comment_id":78775100,"body_markdown":"Also check `EnumMap`.","body":"Also check <code>EnumMap</code>."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1503860786,"creation_date":1503857637,"answer_id":45907958,"question_id":45907878,"body_markdown":"No, you don&#39;t. Why? Because reasonable implementations of these methods are already provided.\n\nAnd even if you wanted to, you couldn&#39;t, as these methods are `final` in enums.\n\nBut also, don&#39;t use `HashMap` with an enum key type: use `EnumMap`, which is specialised for enum keys, and doesn&#39;t use `hashCode` or `equals` (it actually uses `ordinal`).\n\n---\n\nEdit: after reading [What is the reason behind Enum.hashCode](https://stackoverflow.com/q/4885095/3788176), I note that the implementations of `hashCode` and `equals` are actually those from `Object`. But these *are* reasonable, because of the non-instantiability of enum values.\n\nIf you can&#39;t create a new instance of an enum value, there is no problem with using those defaults:\n\n* An enum value must have the same hash code value as itself (and it doesn&#39;t matter what that value is);\n* An enum value must be equal to itself, and not to any other, i.e. equality by identity.","title":"Do we have to override equals/hashcode for enums which are put in a hashmap","body":"<p>No, you don't. Why? Because reasonable implementations of these methods are already provided.</p>\n\n<p>And even if you wanted to, you couldn't, as these methods are <code>final</code> in enums.</p>\n\n<p>But also, don't use <code>HashMap</code> with an enum key type: use <code>EnumMap</code>, which is specialised for enum keys, and doesn't use <code>hashCode</code> or <code>equals</code> (it actually uses <code>ordinal</code>).</p>\n\n<hr>\n\n<p>Edit: after reading <a href=\"https://stackoverflow.com/q/4885095/3788176\">What is the reason behind Enum.hashCode</a>, I note that the implementations of <code>hashCode</code> and <code>equals</code> are actually those from <code>Object</code>. But these <em>are</em> reasonable, because of the non-instantiability of enum values.</p>\n\n<p>If you can't create a new instance of an enum value, there is no problem with using those defaults:</p>\n\n<ul>\n<li>An enum value must have the same hash code value as itself (and it doesn't matter what that value is);</li>\n<li>An enum value must be equal to itself, and not to any other, i.e. equality by identity.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16229064,"reputation":59,"user_id":11718457,"display_name":"bluejazzshark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693769478,"creation_date":1693768879,"answer_id":77033841,"question_id":45907878,"body_markdown":"This post is from a while ago, but I think it&#39;s worth adding something about enum hashCode() that tripped me up...\r\n\r\nThe hashCode of an enum is fixed when the program starts up as an enum is essentially just a static object, so it Object.hashCode() will return the same value for the duration of the running program.\r\n\r\nHowever, the next time the program runs, this is quite likely not the same address in memory.\r\n\r\nenums are compared (with equals) by their address in memory (==) not by equals(). This is why hashCode() has to do the same, or as the documentation says &quot;something similar&quot; (more or less).\r\n\r\nIf you have some other class that contains your enum, and you auto-generate a hashCode for it from your IDE, then the hash code of that new class will depend on the time you run the code. \r\n\r\nIf this other class is persisted, its hash code will not be equal across program start ups. (My problem arose from converting the hashCode into a hex string and using it as a hash key for indexing objects... Doh!). I got round it by taking the string of the enum in the other class, and hashing that. Messy.\r\n\r\nThe hashCode method of an enum is final, so you can&#39;t override it.","title":"Do we have to override equals/hashcode for enums which are put in a hashmap","body":"<p>This post is from a while ago, but I think it's worth adding something about enum hashCode() that tripped me up...</p>\n<p>The hashCode of an enum is fixed when the program starts up as an enum is essentially just a static object, so it Object.hashCode() will return the same value for the duration of the running program.</p>\n<p>However, the next time the program runs, this is quite likely not the same address in memory.</p>\n<p>enums are compared (with equals) by their address in memory (==) not by equals(). This is why hashCode() has to do the same, or as the documentation says &quot;something similar&quot; (more or less).</p>\n<p>If you have some other class that contains your enum, and you auto-generate a hashCode for it from your IDE, then the hash code of that new class will depend on the time you run the code.</p>\n<p>If this other class is persisted, its hash code will not be equal across program start ups. (My problem arose from converting the hashCode into a hex string and using it as a hash key for indexing objects... Doh!). I got round it by taking the string of the enum in the other class, and hashing that. Messy.</p>\n<p>The hashCode method of an enum is final, so you can't override it.</p>\n"}],"owner":{"account_id":5872134,"reputation":915,"user_id":4624150,"accept_rate":32,"display_name":"Saad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5590,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1693769478,"creation_date":1503857133,"question_id":45907878,"body_markdown":"I have a enum class as follows.\r\n\r\n    public enum Item {\r\n\t   COKE(&quot;Coke&quot;, 25), PEPSI(&quot;Pepsi&quot;, 35), SODA(&quot;Soda&quot;, 45);\r\n\t   private String name;\r\n\t   private int price;\r\n\r\n\tprivate Item(String name, int price) {\r\n\t\tthis.name = name;\r\n\t\tthis.price = price;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic long getPrice() {\r\n\t\treturn price;\r\n\t}\r\n    }\r\n\r\nand a hashmap defined as follows\r\n\r\n\tprivate Map&lt;Item, Integer&gt; inventory = new HashMap&lt;Item, Integer&gt;();\r\n\r\nDo i need to override hashcode and equals in the enum `Item` class for `inventory.put()` and `inventory.get()` to work properly? If not, why? ","title":"Do we have to override equals/hashcode for enums which are put in a hashmap","body":"<p>I have a enum class as follows.</p>\n\n<pre><code>public enum Item {\n   COKE(\"Coke\", 25), PEPSI(\"Pepsi\", 35), SODA(\"Soda\", 45);\n   private String name;\n   private int price;\n\nprivate Item(String name, int price) {\n    this.name = name;\n    this.price = price;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic long getPrice() {\n    return price;\n}\n}\n</code></pre>\n\n<p>and a hashmap defined as follows</p>\n\n<pre><code>private Map&lt;Item, Integer&gt; inventory = new HashMap&lt;Item, Integer&gt;();\n</code></pre>\n\n<p>Do i need to override hashcode and equals in the enum <code>Item</code> class for <code>inventory.put()</code> and <code>inventory.get()</code> to work properly? If not, why? </p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9788,"page":204,"page_size":100}
