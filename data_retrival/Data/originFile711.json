{"items":[{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2706223,"reputation":3719,"user_id":2335775,"accept_rate":100,"display_name":"Vasyl Sarzhynskyi"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1624208159,"creation_date":1531380675,"answer_id":51299739,"question_id":51299528,"body_markdown":"it depends what do you want to do with exceptions on producer side. \r\nif exception will be thrown on producer (e.g. due to Network failure or kafka broker has died), stream will die by default. and with kafka-streams version 1.1.0 you could override default behavior by implementing `ProductionExceptionHandler` like the following:\r\n\r\n    public class CustomProductionExceptionHandler implements ProductionExceptionHandler {\r\n    \r\n        @Override\r\n        public ProductionExceptionHandlerResponse handle(final ProducerRecord&lt;byte[], byte[]&gt; record,\r\n                                                         final Exception exception) {\r\n            log.error(&quot;Kafka message marked as processed although it failed. Message: [{}], destination topic: [{}]&quot;,  new String(record.value()), record.topic(), exception);\r\n            return ProductionExceptionHandlerResponse.CONTINUE;\r\n        }\r\n    \r\n        @Override\r\n        public void configure(final Map&lt;String, ?&gt; configs) {\r\n        }\r\n    \r\n    }\r\n\r\nfrom handle method you could return either `CONTINUE` if you don&#39;t want streams dying on exception, on return `FAIL` in case you want stream stops (FAIL is default one).\r\nand you need specify this class in stream config:\r\n\r\n    default.production.exception.handler=com.example.CustomProductionExceptionHandler\r\n\r\nAlso pay attention that `ProductionExceptionHandler` handles only exceptions on producer, and it will not handle exceptions during processing message with stream methods `mapValues(..)`, `filter(..)`, `branch(..)` etc, you need to wrap these method logic with try / catch blocks (put all your method logic into try block to guarantee that you will handle all exceptional cases):\r\n\r\n    .filter((key, value) -&gt; { try {..} catch (Exception e) {..} })\r\n\r\nas I know, we don&#39;t need to handle exceptions on consumer side explicitly, as kafka streams will retry automatically consuming later (as offset will not be changed until messages will be consumed and processed); e.g. if kafka broker will be not reachable for some time, you will got exceptions from kafka streams, and when broken will be up, kafka stream will consume all messages. so in this case we will have just delay and nothing corrupted/lost. \r\n\r\n\r\nwith `setUncaughtExceptionHandler` you will not be able to change default behavior like with `ProductionExceptionHandler`, with it you could only log error or send message into failure topic.\r\n\r\n---------------------------------\r\n**Update since `kafka-streams` `2.8.0`**\r\n\r\nsince `kafka-streams` `2.8.0`, you have the ability to automatically replace failed stream thread (that caused by uncaught exception)\r\nusing `KafkaStreams` method `void&#160;setUncaughtExceptionHandler(StreamsUncaughtExceptionHandler eh);` with `StreamThreadExceptionResponse.REPLACE_THREAD`. For more details please take a look at [Kafka Streams Specific Uncaught Exception Handler](https://cwiki.apache.org/confluence/display/KAFKA/KIP-671%3A+Introduce+Kafka+Streams+Specific+Uncaught+Exception+Handler)\r\n\r\n    kafkaStreams.setUncaughtExceptionHandler(ex -&gt; {\r\n        log.error(&quot;Kafka-Streams uncaught exception occurred. Stream will be replaced with new thread&quot;, ex);\r\n        return StreamsUncaughtExceptionHandler.StreamThreadExceptionResponse.REPLACE_THREAD;\r\n    });\r\n\r\n","title":"Handling exceptions in Kafka streams","body":"<p>it depends what do you want to do with exceptions on producer side.\nif exception will be thrown on producer (e.g. due to Network failure or kafka broker has died), stream will die by default. and with kafka-streams version 1.1.0 you could override default behavior by implementing <code>ProductionExceptionHandler</code> like the following:</p>\n<pre><code>public class CustomProductionExceptionHandler implements ProductionExceptionHandler {\n\n    @Override\n    public ProductionExceptionHandlerResponse handle(final ProducerRecord&lt;byte[], byte[]&gt; record,\n                                                     final Exception exception) {\n        log.error(&quot;Kafka message marked as processed although it failed. Message: [{}], destination topic: [{}]&quot;,  new String(record.value()), record.topic(), exception);\n        return ProductionExceptionHandlerResponse.CONTINUE;\n    }\n\n    @Override\n    public void configure(final Map&lt;String, ?&gt; configs) {\n    }\n\n}\n</code></pre>\n<p>from handle method you could return either <code>CONTINUE</code> if you don't want streams dying on exception, on return <code>FAIL</code> in case you want stream stops (FAIL is default one).\nand you need specify this class in stream config:</p>\n<pre><code>default.production.exception.handler=com.example.CustomProductionExceptionHandler\n</code></pre>\n<p>Also pay attention that <code>ProductionExceptionHandler</code> handles only exceptions on producer, and it will not handle exceptions during processing message with stream methods <code>mapValues(..)</code>, <code>filter(..)</code>, <code>branch(..)</code> etc, you need to wrap these method logic with try / catch blocks (put all your method logic into try block to guarantee that you will handle all exceptional cases):</p>\n<pre><code>.filter((key, value) -&gt; { try {..} catch (Exception e) {..} })\n</code></pre>\n<p>as I know, we don't need to handle exceptions on consumer side explicitly, as kafka streams will retry automatically consuming later (as offset will not be changed until messages will be consumed and processed); e.g. if kafka broker will be not reachable for some time, you will got exceptions from kafka streams, and when broken will be up, kafka stream will consume all messages. so in this case we will have just delay and nothing corrupted/lost.</p>\n<p>with <code>setUncaughtExceptionHandler</code> you will not be able to change default behavior like with <code>ProductionExceptionHandler</code>, with it you could only log error or send message into failure topic.</p>\n<hr />\n<p><strong>Update since <code>kafka-streams</code> <code>2.8.0</code></strong></p>\n<p>since <code>kafka-streams</code> <code>2.8.0</code>, you have the ability to automatically replace failed stream thread (that caused by uncaught exception)\nusing <code>KafkaStreams</code> method <code>voidÂ setUncaughtExceptionHandler(StreamsUncaughtExceptionHandler eh);</code> with <code>StreamThreadExceptionResponse.REPLACE_THREAD</code>. For more details please take a look at <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-671%3A+Introduce+Kafka+Streams+Specific+Uncaught+Exception+Handler\" rel=\"noreferrer\">Kafka Streams Specific Uncaught Exception Handler</a></p>\n<pre><code>kafkaStreams.setUncaughtExceptionHandler(ex -&gt; {\n    log.error(&quot;Kafka-Streams uncaught exception occurred. Stream will be replaced with new thread&quot;, ex);\n    return StreamsUncaughtExceptionHandler.StreamThreadExceptionResponse.REPLACE_THREAD;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12728826,"reputation":748,"user_id":9246274,"display_name":"Vishal Pawar"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1587673792,"creation_date":1575443145,"answer_id":59170609,"question_id":51299528,"body_markdown":"For handling exceptions on the consumer side,\r\n\r\n1) You can add a default exception handler in producer with the following property.\r\n\r\n    &quot;default.deserialization.exception.handler&quot; = &quot;org.apache.kafka.streams.errors.LogAndContinueExceptionHandler&quot;;\r\n\r\nBasically apache provides three exception handler classes as\r\n\r\n1) LogAndContiuneExceptionHandler which you can take as \r\n   \r\n\r\n    props.put(StreamsConfig.DEFAULT_DESERIALIZATION_EXCEPTION_HANDLER_CLASS_CONFIG, \r\n               LogAndContinueExceptionHandler.class);\r\n\r\n2) LogAndFailExceptionHandler \r\n   \r\n\r\n    props.put(StreamsConfig.DEFAULT_DESERIALIZATION_EXCEPTION_HANDLER_CLASS_CONFIG, \r\n               LogAndFailExceptionHandler.class);\r\n\r\n3) LogAndSkipOnInvalidTimestamp\r\n   \r\n\r\n    props.put(StreamsConfig.DEFAULT_DESERIALIZATION_EXCEPTION_HANDLER_CLASS_CONFIG, \r\n               LogAndSkipOnInvalidTimestamp.class);\r\n\r\n\r\nFor custom exception handling,\r\n\r\n1)you can implement the DeserializationExceptionHandler interface and override the handle() method.\r\n\r\n2) Or you can extend the above-mentioned classes.\r\n\r\n\r\n","title":"Handling exceptions in Kafka streams","body":"<p>For handling exceptions on the consumer side,</p>\n\n<p>1) You can add a default exception handler in producer with the following property.</p>\n\n<pre><code>\"default.deserialization.exception.handler\" = \"org.apache.kafka.streams.errors.LogAndContinueExceptionHandler\";\n</code></pre>\n\n<p>Basically apache provides three exception handler classes as</p>\n\n<p>1) LogAndContiuneExceptionHandler which you can take as </p>\n\n<pre><code>props.put(StreamsConfig.DEFAULT_DESERIALIZATION_EXCEPTION_HANDLER_CLASS_CONFIG, \n           LogAndContinueExceptionHandler.class);\n</code></pre>\n\n<p>2) LogAndFailExceptionHandler </p>\n\n<pre><code>props.put(StreamsConfig.DEFAULT_DESERIALIZATION_EXCEPTION_HANDLER_CLASS_CONFIG, \n           LogAndFailExceptionHandler.class);\n</code></pre>\n\n<p>3) LogAndSkipOnInvalidTimestamp</p>\n\n<pre><code>props.put(StreamsConfig.DEFAULT_DESERIALIZATION_EXCEPTION_HANDLER_CLASS_CONFIG, \n           LogAndSkipOnInvalidTimestamp.class);\n</code></pre>\n\n<p>For custom exception handling,</p>\n\n<p>1)you can implement the DeserializationExceptionHandler interface and override the handle() method.</p>\n\n<p>2) Or you can extend the above-mentioned classes.</p>\n"},{"tags":[],"owner":{"account_id":7407204,"reputation":544,"user_id":5635801,"accept_rate":100,"display_name":"tsukyonomi06"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669736763,"creation_date":1599322153,"answer_id":63755960,"question_id":51299528,"body_markdown":"**setUncaughtExceptionHandler** doesn&#39;t help to handle exception, it works after the stream has terminated due to some exception which was not caught.\r\n\r\nKafka provides few ways to handle exceptions. A simple *try-catch{}* would help catch exceptions in the processor code but kafka deserialization exception (can be due to data issues) and production exception(occurs during communication with broker) requires **DeserializationExceptionHandler**  and  **ProductionExceptionHandler** respectively. By default a kafka application would fail if it encounter any of these.\r\n\r\nYou can find on this [post][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://thevoidcoder.dev/posts/2020-08-30-handling-failures-in-kafka-stream/","title":"Handling exceptions in Kafka streams","body":"<p><strong>setUncaughtExceptionHandler</strong> doesn't help to handle exception, it works after the stream has terminated due to some exception which was not caught.</p>\n<p>Kafka provides few ways to handle exceptions. A simple <em>try-catch{}</em> would help catch exceptions in the processor code but kafka deserialization exception (can be due to data issues) and production exception(occurs during communication with broker) requires <strong>DeserializationExceptionHandler</strong>  and  <strong>ProductionExceptionHandler</strong> respectively. By default a kafka application would fail if it encounter any of these.</p>\n<p>You can find on this <a href=\"https://thevoidcoder.dev/posts/2020-08-30-handling-failures-in-kafka-stream/\" rel=\"nofollow noreferrer\">post</a></p>\n"},{"tags":[],"owner":{"account_id":20103072,"reputation":97,"user_id":14741163,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625055349,"creation_date":1625055349,"answer_id":68194582,"question_id":51299528,"body_markdown":"In Spring cloud stream you confgure your custom deserialization handler using following:\r\n\r\n - **spring.cloud.stream.kafka.streams.binder.configuration.default.deserialization.exception.handler**=your-package-name.CustomLogAndContinueExceptionHandler\r\n - CustomLogAndContinueExceptionHandler **extends LogAndContinueExceptionHandler or implements DeserializationExceptionHandler**\r\n \r\n - CustomLogAndContinueExceptionHandler **DeserializationHandlerResponse.CONTINUE or FAIL** depending on your usecase\r\n\r\n```\r\n@Slf4j\r\npublic class CustomLogAndContinueExceptionHandler extends LogAndContinueExceptionHandler {\r\n\r\n\t@Override\r\n\tpublic DeserializationHandlerResponse handle(ProcessorContext context, ConsumerRecord&lt;byte[], byte[]&gt; record,\r\n\t\t\tException exception) {\r\n.... some business logic here ....\r\n\t\tlog.error(&quot;Message failed: taskId: {}, topic: {}, partition: {}, offset: {}, , detailerror : {}&quot;,\r\n\t\t\t\tcontext.taskId(), record.topic(), record.partition(), record.offset(), exception.getMessage());\r\n\t\treturn DeserializationHandlerResponse.CONTINUE;\r\n\t}\r\n}\r\n```\r\n\r\n \r\n","title":"Handling exceptions in Kafka streams","body":"<p>In Spring cloud stream you confgure your custom deserialization handler using following:</p>\n<ul>\n<li><p><strong>spring.cloud.stream.kafka.streams.binder.configuration.default.deserialization.exception.handler</strong>=your-package-name.CustomLogAndContinueExceptionHandler</p>\n</li>\n<li><p>CustomLogAndContinueExceptionHandler <strong>extends LogAndContinueExceptionHandler or implements DeserializationExceptionHandler</strong></p>\n</li>\n<li><p>CustomLogAndContinueExceptionHandler <strong>DeserializationHandlerResponse.CONTINUE or FAIL</strong> depending on your usecase</p>\n</li>\n</ul>\n<pre><code>@Slf4j\npublic class CustomLogAndContinueExceptionHandler extends LogAndContinueExceptionHandler {\n\n    @Override\n    public DeserializationHandlerResponse handle(ProcessorContext context, ConsumerRecord&lt;byte[], byte[]&gt; record,\n            Exception exception) {\n.... some business logic here ....\n        log.error(&quot;Message failed: taskId: {}, topic: {}, partition: {}, offset: {}, , detailerror : {}&quot;,\n                context.taskId(), record.topic(), record.partition(), record.offset(), exception.getMessage());\n        return DeserializationHandlerResponse.CONTINUE;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":939476,"reputation":2581,"user_id":967808,"accept_rate":10,"display_name":"Thiru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33569,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":51299739,"answer_count":4,"score":29,"last_activity_date":1674311026,"creation_date":1531380086,"question_id":51299528,"body_markdown":"Had gone through multiple posts but most of them are related handling Bad messages not about exception handling while processing them.\r\n\r\nI want to know to how to handle the messages that is been received by the stream application and there is an exception while processing the message? The exception could be because of multiple reasons like Network failure, RuntimeException etc., \r\n\r\n - Could someone suggest what is the right way to do? Should I use\r\n   `setUncaughtExceptionHandler`? or is there a better way? \r\n - How to handle retries?\r\n\r\n\r\n\r\n\r\n","title":"Handling exceptions in Kafka streams","body":"<p>Had gone through multiple posts but most of them are related handling Bad messages not about exception handling while processing them.</p>\n<p>I want to know to how to handle the messages that is been received by the stream application and there is an exception while processing the message? The exception could be because of multiple reasons like Network failure, RuntimeException etc.,</p>\n<ul>\n<li>Could someone suggest what is the right way to do? Should I use\n<code>setUncaughtExceptionHandler</code>? or is there a better way?</li>\n<li>How to handle retries?</li>\n</ul>\n"},{"tags":["java","tcp","akka","akka-stream"],"owner":{"account_id":12760090,"reputation":1,"user_id":21055255,"display_name":"Alexandru Toma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674310892,"creation_date":1674310478,"question_id":75193972,"body_markdown":"After successfully connected to a tcp socket server, how can i sent the messages to that server?\r\n\r\ni have created this client, and is working fine as long as is a two way communication with the server REPLYING FIRST.\r\n\r\n\r\n    \r\n\r\n        final Flow&lt;ByteString, ByteString, CompletionStage&lt;Tcp.OutgoingConnection&gt;&gt; connection =\r\n            Tcp.get(system).outgoingConnection(&quot;127.0.0.1&quot;, 8888);\r\n\r\n\r\n        final Flow&lt;ByteString, ByteString, NotUsed&gt; repl = Flow.of(ByteString.class)\r\n            .map(ByteString::utf8String)\r\n            .map(\r\n                text -&gt; {\r\n                    System.out.println(&quot;Server: &quot; + text);\r\n                    return &quot;next&quot;;\r\n                }\r\n            )\r\n            .map(ByteString::fromString);\r\n\r\n        CompletionStage&lt;Tcp.OutgoingConnection&gt; connectionCS = connection.join(repl).run(system);\r\n    \r\n\r\n\r\n\r\nafter handshake, i need to send the credentials, AND I HAVE NO IDEA HOW.\r\n\r\n\r\nin plain java it would be something like that:\r\n\r\n\r\n    SSLSocketFactory factory = (SSLSocketFactory)SSLSocketFactory.getDefault();\r\n    SSLSocket socket = (SSLSocket)factory.createSocket(hostname, 8888);\r\n\r\n    socket.setReceiveBufferSize(1024 * 1000 * 2);\r\n    socket.startHandshake();\r\n\r\n    PrintWriter out   = this.getPrintWriter(socket);\r\n    BufferedReader in = this.getBufferedReader(socket);\r\n\r\n    out.write(Authentication.getAsJson(loginApi.getAuthToken()));\r\n    out.write(CRLF);\r\n    out.flush();\r\n`","title":"Client send message on tcp socket connection using akka streams","body":"<p>After successfully connected to a tcp socket server, how can i sent the messages to that server?</p>\n<p>i have created this client, and is working fine as long as is a two way communication with the server REPLYING FIRST.</p>\n<pre><code>    final Flow&lt;ByteString, ByteString, CompletionStage&lt;Tcp.OutgoingConnection&gt;&gt; connection =\n        Tcp.get(system).outgoingConnection(&quot;127.0.0.1&quot;, 8888);\n\n\n    final Flow&lt;ByteString, ByteString, NotUsed&gt; repl = Flow.of(ByteString.class)\n        .map(ByteString::utf8String)\n        .map(\n            text -&gt; {\n                System.out.println(&quot;Server: &quot; + text);\n                return &quot;next&quot;;\n            }\n        )\n        .map(ByteString::fromString);\n\n    CompletionStage&lt;Tcp.OutgoingConnection&gt; connectionCS = connection.join(repl).run(system);\n</code></pre>\n<p>after handshake, i need to send the credentials, AND I HAVE NO IDEA HOW.</p>\n<p>in plain java it would be something like that:</p>\n<pre><code>SSLSocketFactory factory = (SSLSocketFactory)SSLSocketFactory.getDefault();\nSSLSocket socket = (SSLSocket)factory.createSocket(hostname, 8888);\n\nsocket.setReceiveBufferSize(1024 * 1000 * 2);\nsocket.startHandshake();\n\nPrintWriter out   = this.getPrintWriter(socket);\nBufferedReader in = this.getBufferedReader(socket);\n\nout.write(Authentication.getAsJson(loginApi.getAuthToken()));\nout.write(CRLF);\nout.flush();\n</code></pre>\n<p>`</p>\n"},{"tags":["java","android","runnable","throws"],"comments":[{"owner":{"account_id":446466,"reputation":1135,"user_id":839527,"accept_rate":86,"display_name":"JProgrammer"},"score":0,"creation_date":1342805561,"post_id":11584159,"comment_id":15328157,"body_markdown":"In addition to other answers, to track progress of task, you can use FutureTask class.","body":"In addition to other answers, to track progress of task, you can use FutureTask class."},{"owner":{"account_id":481416,"reputation":355314,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":1,"creation_date":1426860950,"post_id":11584159,"comment_id":46555570,"body_markdown":"Non-android Java question: http://stackoverflow.com/questions/1369204/how-to-throw-a-checked-exception-from-a-java-thread?lq=1","body":"Non-android Java question: <a href=\"http://stackoverflow.com/questions/1369204/how-to-throw-a-checked-exception-from-a-java-thread?lq=1\" title=\"how to throw a checked exception from a java thread\">stackoverflow.com/questions/1369204/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1342805321,"creation_date":1342805321,"answer_id":11584188,"question_id":11584159,"body_markdown":"If `run()` threw a checked exception, what would catch it? There&#39;s no way for you to enclose that `run()` call in a handler, since you don&#39;t write the code that invokes it.\r\n\r\nYou can catch your checked exception in the `run()` method, and throw an unchekced exception (i.e., `RuntimeException`) in its place.  This will terminate the thread with a stack trace; perhaps that&#39;s what you&#39;re after.\r\n\r\nIf instead you want your `run()` method to report the error somewhere, then you can just provide a callback method for the `run()` method&#39;s `catch` block to call; that method could store the exception object somewhere, and then your interested thread could find the object in that location. ","title":"Is there a way to make Runnable&#39;s run() throw an exception?","body":"<p>If <code>run()</code> threw a checked exception, what would catch it? There's no way for you to enclose that <code>run()</code> call in a handler, since you don't write the code that invokes it.</p>\n\n<p>You can catch your checked exception in the <code>run()</code> method, and throw an unchekced exception (i.e., <code>RuntimeException</code>) in its place.  This will terminate the thread with a stack trace; perhaps that's what you're after.</p>\n\n<p>If instead you want your <code>run()</code> method to report the error somewhere, then you can just provide a callback method for the <code>run()</code> method's <code>catch</code> block to call; that method could store the exception object somewhere, and then your interested thread could find the object in that location. </p>\n"},{"tags":[],"owner":{"account_id":77229,"reputation":9046,"user_id":220579,"accept_rate":72,"display_name":"Kumar Bibek"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1342805362,"creation_date":1342805362,"answer_id":11584195,"question_id":11584159,"body_markdown":"Your requirement doesn&#39;t make any sense. If you want to notify the called of the thread about an exception that happened, you could do that through a call back mechanism. This can be through a Handler or a broadcast or whatever else you can think of.","title":"Is there a way to make Runnable&#39;s run() throw an exception?","body":"<p>Your requirement doesn't make any sense. If you want to notify the called of the thread about an exception that happened, you could do that through a call back mechanism. This can be through a Handler or a broadcast or whatever else you can think of.</p>\n"},{"tags":[],"owner":{"account_id":1196838,"reputation":6753,"user_id":1168372,"accept_rate":79,"display_name":"Sujay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342805542,"creation_date":1342805542,"answer_id":11584240,"question_id":11584159,"body_markdown":"I think a [listener pattern][1] might help you with this scenario. In case of an exception happening in your `run()` method, use a try-catch block and in the catch send a notification of an exception event. And then handle your notification event. I think this would be a cleaner approach. [This SO link][2] gives you a helpful pointer to that direction.\r\n\r\n\r\n  [1]: http://www.javapractices.com/topic/TopicAction.do?Id=156\r\n  [2]: https://stackoverflow.com/questions/1369204/how-to-throw-a-checked-exception-from-a-java-thread","title":"Is there a way to make Runnable&#39;s run() throw an exception?","body":"<p>I think a <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=156\" rel=\"nofollow noreferrer\">listener pattern</a> might help you with this scenario. In case of an exception happening in your <code>run()</code> method, use a try-catch block and in the catch send a notification of an exception event. And then handle your notification event. I think this would be a cleaner approach. <a href=\"https://stackoverflow.com/questions/1369204/how-to-throw-a-checked-exception-from-a-java-thread\">This SO link</a> gives you a helpful pointer to that direction.</p>\n"},{"tags":[],"owner":{"account_id":744888,"reputation":47860,"user_id":721079,"accept_rate":78,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1342805557,"creation_date":1342805557,"answer_id":11584246,"question_id":11584159,"body_markdown":"You can use a `Callable` instead, submitting it to an `ExecutorService` and waiting for result with  `FutureTask.isDone()` returned by the `ExecutorService.submit()`. \r\n\r\nWhen `isDone()` returns true you call `FutureTask.get()`. Now, if your `Callable` has thrown an `Exception` then `FutureTask.get()` wiill throw an `Exception` too and the original Exception you will be able to access using `Exception.getCause()`. \r\n\r\n","title":"Is there a way to make Runnable&#39;s run() throw an exception?","body":"<p>You can use a <code>Callable</code> instead, submitting it to an <code>ExecutorService</code> and waiting for result with  <code>FutureTask.isDone()</code> returned by the <code>ExecutorService.submit()</code>. </p>\n\n<p>When <code>isDone()</code> returns true you call <code>FutureTask.get()</code>. Now, if your <code>Callable</code> has thrown an <code>Exception</code> then <code>FutureTask.get()</code> wiill throw an <code>Exception</code> too and the original Exception you will be able to access using <code>Exception.getCause()</code>. </p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1342805684,"creation_date":1342805684,"answer_id":11584273,"question_id":11584159,"body_markdown":"Yes, there is a way to throw a *checked* exception from the `run()` method, but it&#39;s so terrible I won&#39;t share it. \r\n\r\nHere&#39;s what you can do instead; it uses the same mechanism that a runtime exception would exercise:\r\n\r\n    @Override\r\n    public void run() {\r\n      try {\r\n        /* Do your thing. */\r\n        ...\r\n      } catch (Exception ex) {\r\n        Thread t = Thread.currentThread();\r\n        t.getUncaughtExceptionHandler().uncaughtException(t, ex);\r\n      }\r\n    }\r\n\r\nAs others have noted, if your `run()` method is really the target of a `Thread`, there&#39;s no point in throwing an exception because it is unobservable; throwing an exception has the same effect as not throwing an exception (none).\r\n\r\nIf it&#39;s not a `Thread` target, don&#39;t use `Runnable`. For example, perhaps [`Callable`][1] is a better fit.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Callable.html","title":"Is there a way to make Runnable&#39;s run() throw an exception?","body":"<p>Yes, there is a way to throw a <em>checked</em> exception from the <code>run()</code> method, but it's so terrible I won't share it. </p>\n\n<p>Here's what you can do instead; it uses the same mechanism that a runtime exception would exercise:</p>\n\n<pre><code>@Override\npublic void run() {\n  try {\n    /* Do your thing. */\n    ...\n  } catch (Exception ex) {\n    Thread t = Thread.currentThread();\n    t.getUncaughtExceptionHandler().uncaughtException(t, ex);\n  }\n}\n</code></pre>\n\n<p>As others have noted, if your <code>run()</code> method is really the target of a <code>Thread</code>, there's no point in throwing an exception because it is unobservable; throwing an exception has the same effect as not throwing an exception (none).</p>\n\n<p>If it's not a <code>Thread</code> target, don't use <code>Runnable</code>. For example, perhaps <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Callable.html\"><code>Callable</code></a> is a better fit.</p>\n"},{"tags":[],"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"down_vote_count":2,"up_vote_count":46,"is_accepted":true,"score":44,"last_activity_date":1342805802,"creation_date":1342805802,"answer_id":11584298,"question_id":11584159,"body_markdown":"If you want to pass a class that implements `Runnable` into the `Thread` framework, then you have to play by that framework&#39;s rules, see Ernest Friedman-Hill&#39;s answer why doing it otherwise is a bad idea.\r\n\r\nI have a hunch, though, that you want to call `run` method directly in your code, so your calling code can process the exception.\r\n\r\nThe answer to this problem is easy.  Do not use `Runnable` interface from Thread library, but instead create your own interface with the modified signature that allows checked exception to be thrown, e.g.\r\n\r\n    public interface MyRunnable\r\n    {\r\n        void myRun ( ) throws MyException;\r\n    }\r\n\r\nYou may even create an adapter that converts this interface to real `Runnable` ( by handling checked exception ) suitable for use in Thread framework.","title":"Is there a way to make Runnable&#39;s run() throw an exception?","body":"<p>If you want to pass a class that implements <code>Runnable</code> into the <code>Thread</code> framework, then you have to play by that framework's rules, see Ernest Friedman-Hill's answer why doing it otherwise is a bad idea.</p>\n\n<p>I have a hunch, though, that you want to call <code>run</code> method directly in your code, so your calling code can process the exception.</p>\n\n<p>The answer to this problem is easy.  Do not use <code>Runnable</code> interface from Thread library, but instead create your own interface with the modified signature that allows checked exception to be thrown, e.g.</p>\n\n<pre><code>public interface MyRunnable\n{\n    void myRun ( ) throws MyException;\n}\n</code></pre>\n\n<p>You may even create an adapter that converts this interface to real <code>Runnable</code> ( by handling checked exception ) suitable for use in Thread framework.</p>\n"},{"tags":[],"owner":{"account_id":1786104,"reputation":170,"user_id":1627550,"display_name":"joas"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1458010945,"creation_date":1458010945,"answer_id":36001930,"question_id":11584159,"body_markdown":"The easiest way is to define your own exception object which extend the `RuntimeException` class instead of the `Exception` class.","title":"Is there a way to make Runnable&#39;s run() throw an exception?","body":"<p>The easiest way is to define your own exception object which extend the <code>RuntimeException</code> class instead of the <code>Exception</code> class.</p>\n"},{"tags":[],"owner":{"account_id":3656281,"reputation":1256,"user_id":5870336,"accept_rate":71,"display_name":"Sina Madani"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1542733633,"creation_date":1542733633,"answer_id":53398040,"question_id":11584159,"body_markdown":" \t@FunctionalInterface\r\n\tpublic interface CheckedRunnable&lt;E extends Exception&gt; extends Runnable {\r\n\t\t\r\n\t\t@Override\r\n\t\tdefault void run() throws RuntimeException {\r\n\t\t\ttry {\r\n\t\t\t\trunThrows();\r\n\t\t\t}\r\n\t\t\tcatch (Exception ex) {\r\n\t\t\t\tthrow new RuntimeException(ex);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvoid runThrows() throws E;\r\n\t\t\r\n\t}","title":"Is there a way to make Runnable&#39;s run() throw an exception?","body":"<pre><code>@FunctionalInterface\npublic interface CheckedRunnable&lt;E extends Exception&gt; extends Runnable {\n\n    @Override\n    default void run() throws RuntimeException {\n        try {\n            runThrows();\n        }\n        catch (Exception ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n\n    void runThrows() throws E;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1568700896,"creation_date":1543049565,"answer_id":53456631,"question_id":11584159,"body_markdown":"Some people try to convince you that you have to play by the rules. Listen, but whether you obey, you should decide yourself depending on your situation. The reality is &quot;you SHOULD play by the rules&quot; (not &quot;you MUST play by the rules&quot;). Just be aware that if you do not play by the rules, there might be consequences.\r\n\r\nThe situation not only applies in the situation of `Runnable`, but with Java 8 also very frequently in the context of Streams and other places where functional interfaces have been introduced without the possibility to deal with checked exceptions. For example, `Consumer`, `Supplier`, `Function`, `BiFunction` and so on have all been declared without facilities to deal with checked exceptions.\r\n\r\nSo what are the situations and options?\r\nIn the below text, `Runnable` is representative of any functional interface that doesn&#39;t declare exceptions, or declares exceptions too limited for the use case at hand.\r\n\r\n1. You&#39;ve declared `Runnable` somewhere yourself, and could replace `Runnable` with something else.\r\n    1. Consider replacing `Runnable` with `Callable&lt;Void&gt;`. Basically the same thing, but allowed to throw exceptions; and has to `return null` in the end, which is a mild annoyance.\r\n    1. Consider replacing `Runnable` with your own custom `@FunctionalInterface` that can throw exactly those exceptions that you want.\r\n2. You&#39;ve used an API, and alternatives are available. For example, some Java APIs are overloaded so you could use `Callable&lt;Void&gt;` instead of `Runnable`.\r\n3. You&#39;ve used an API, and there are no alternatives. In that case, you&#39;re still not out of options.\r\n    1. You can wrap the exception in `RuntimeException`.\r\n    1. You can hack the exception into a RuntimeException by using an unchecked cast.\r\n\r\nYou can try the following. It&#39;s a bit of a hack, but sometimes a hack is what we need. Because, whether an exception should be checked or unchecked is defined by its type, but practically should actually be defined by the situation.\r\n\r\n    @FunctionalInterface\r\n    public interface ThrowingRunnable extends Runnable {\r\n        @Override\r\n        default void run() {\r\n            try {\r\n                tryRun();\r\n            } catch (final Throwable t) {\r\n                throwUnchecked(t);\r\n            }\r\n        }\r\n\r\n        private static &lt;E extends RuntimeException&gt; void throwUnchecked(Throwable t) {\r\n            throw (E) t;\r\n        }\r\n\r\n        void tryRun() throws Throwable;\r\n    }\r\n\r\nI prefer this over `new RuntimeException(t)` because it has a shorter stack trace.\r\n\r\nYou can now do:\r\n\r\n    executorService.submit((ThrowingRunnable) () -&gt; {throw new Exception()});\r\n\r\nDisclaimer: The ability to perform unchecked casts in this way might actually be removed in future versions of Java, when generics type information is processed not only at compile time, but also at runtime.","title":"Is there a way to make Runnable&#39;s run() throw an exception?","body":"<p>Some people try to convince you that you have to play by the rules. Listen, but whether you obey, you should decide yourself depending on your situation. The reality is \"you SHOULD play by the rules\" (not \"you MUST play by the rules\"). Just be aware that if you do not play by the rules, there might be consequences.</p>\n\n<p>The situation not only applies in the situation of <code>Runnable</code>, but with Java 8 also very frequently in the context of Streams and other places where functional interfaces have been introduced without the possibility to deal with checked exceptions. For example, <code>Consumer</code>, <code>Supplier</code>, <code>Function</code>, <code>BiFunction</code> and so on have all been declared without facilities to deal with checked exceptions.</p>\n\n<p>So what are the situations and options?\nIn the below text, <code>Runnable</code> is representative of any functional interface that doesn't declare exceptions, or declares exceptions too limited for the use case at hand.</p>\n\n<ol>\n<li>You've declared <code>Runnable</code> somewhere yourself, and could replace <code>Runnable</code> with something else.\n\n<ol>\n<li>Consider replacing <code>Runnable</code> with <code>Callable&lt;Void&gt;</code>. Basically the same thing, but allowed to throw exceptions; and has to <code>return null</code> in the end, which is a mild annoyance.</li>\n<li>Consider replacing <code>Runnable</code> with your own custom <code>@FunctionalInterface</code> that can throw exactly those exceptions that you want.</li>\n</ol></li>\n<li>You've used an API, and alternatives are available. For example, some Java APIs are overloaded so you could use <code>Callable&lt;Void&gt;</code> instead of <code>Runnable</code>.</li>\n<li>You've used an API, and there are no alternatives. In that case, you're still not out of options.\n\n<ol>\n<li>You can wrap the exception in <code>RuntimeException</code>.</li>\n<li>You can hack the exception into a RuntimeException by using an unchecked cast.</li>\n</ol></li>\n</ol>\n\n<p>You can try the following. It's a bit of a hack, but sometimes a hack is what we need. Because, whether an exception should be checked or unchecked is defined by its type, but practically should actually be defined by the situation.</p>\n\n<pre><code>@FunctionalInterface\npublic interface ThrowingRunnable extends Runnable {\n    @Override\n    default void run() {\n        try {\n            tryRun();\n        } catch (final Throwable t) {\n            throwUnchecked(t);\n        }\n    }\n\n    private static &lt;E extends RuntimeException&gt; void throwUnchecked(Throwable t) {\n        throw (E) t;\n    }\n\n    void tryRun() throws Throwable;\n}\n</code></pre>\n\n<p>I prefer this over <code>new RuntimeException(t)</code> because it has a shorter stack trace.</p>\n\n<p>You can now do:</p>\n\n<pre><code>executorService.submit((ThrowingRunnable) () -&gt; {throw new Exception()});\n</code></pre>\n\n<p>Disclaimer: The ability to perform unchecked casts in this way might actually be removed in future versions of Java, when generics type information is processed not only at compile time, but also at runtime.</p>\n"},{"tags":[],"owner":{"account_id":27579851,"reputation":1,"user_id":21049290,"display_name":"Otabek Eshpo&#39;latov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674310322,"creation_date":1674310322,"answer_id":75193952,"question_id":11584159,"body_markdown":"Yes, you can throw checked exceptions from the run() method. It can be done with generics by tricking the compiler. Look at this code:\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        new Main().throwException();\r\n\r\n    }\r\n\r\n    public void throwException() {\r\n        Runnable runnable = () -&gt; throwAs(new Exception());\r\n\r\n        new Thread(runnable).start();\r\n    }\r\n\r\n    private  &lt;T extends Throwable&gt; void throwAs(Throwable t) throws T {\r\n        throw ( T ) t;\r\n    }\r\n\r\n\r\n\r\nThis might be helpful if you want to throw checked exceptions from the run() method of Runnable \r\n","title":"Is there a way to make Runnable&#39;s run() throw an exception?","body":"<p>Yes, you can throw checked exceptions from the run() method. It can be done with generics by tricking the compiler. Look at this code:</p>\n<pre><code>public static void main(String[] args) {\n\n    new Main().throwException();\n\n}\n\npublic void throwException() {\n    Runnable runnable = () -&gt; throwAs(new Exception());\n\n    new Thread(runnable).start();\n}\n\nprivate  &lt;T extends Throwable&gt; void throwAs(Throwable t) throws T {\n    throw ( T ) t;\n}\n</code></pre>\n<p>This might be helpful if you want to throw checked exceptions from the run() method of Runnable</p>\n"}],"owner":{"account_id":280520,"reputation":10492,"user_id":576267,"accept_rate":95,"display_name":"Regex Rookie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104823,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"accepted_answer_id":11584298,"answer_count":10,"score":97,"last_activity_date":1674310322,"creation_date":1342805130,"question_id":11584159,"body_markdown":"A method I am calling in [run()][1] in a class that implements [Runnable][2]) is designed to be throwing an exception.\r\n\r\nBut the Java compiler won&#39;t let me do that and suggests that I surround it with try/catch.\r\n\r\nThe problem is that by surrounding it with a try/catch I make *that particular* [run()][3] useless. I *do* want to throw that exception.\r\n\r\nIf I specify `throws` for [run()][4] itself, the compiler complains that `Exception is not compatible with throws clause in Runnable.run()`.\r\n\r\nOrdinarily I&#39;m totally fine with not letting  [run()][3] throw an exception. But I have unique situation in which I must have that functionality.\r\n\r\nHow to I work around this limitation?\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/lang/Runnable.html#run%28%29\r\n  [2]: http://developer.android.com/reference/java/lang/Runnable.html\r\n  [3]: http://developer.android.com/reference/java/lang/Runnable.html#run%28%29\r\n  [4]: http://developer.android.com/reference/java/lang/Runnable.html#run%28%29","title":"Is there a way to make Runnable&#39;s run() throw an exception?","body":"<p>A method I am calling in <a href=\"http://developer.android.com/reference/java/lang/Runnable.html#run%28%29\" rel=\"noreferrer\">run()</a> in a class that implements <a href=\"http://developer.android.com/reference/java/lang/Runnable.html\" rel=\"noreferrer\">Runnable</a>) is designed to be throwing an exception.</p>\n\n<p>But the Java compiler won't let me do that and suggests that I surround it with try/catch.</p>\n\n<p>The problem is that by surrounding it with a try/catch I make <em>that particular</em> <a href=\"http://developer.android.com/reference/java/lang/Runnable.html#run%28%29\" rel=\"noreferrer\">run()</a> useless. I <em>do</em> want to throw that exception.</p>\n\n<p>If I specify <code>throws</code> for <a href=\"http://developer.android.com/reference/java/lang/Runnable.html#run%28%29\" rel=\"noreferrer\">run()</a> itself, the compiler complains that <code>Exception is not compatible with throws clause in Runnable.run()</code>.</p>\n\n<p>Ordinarily I'm totally fine with not letting  <a href=\"http://developer.android.com/reference/java/lang/Runnable.html#run%28%29\" rel=\"noreferrer\">run()</a> throw an exception. But I have unique situation in which I must have that functionality.</p>\n\n<p>How to I work around this limitation?</p>\n"},{"tags":["java","javafx","graalvm","meta-inf","gluonfx"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1674134601,"post_id":75172666,"comment_id":132652848,"body_markdown":"What platform are you referring to? Windows only?","body":"What platform are you referring to? Windows only?"},{"owner":{"account_id":23969153,"reputation":11,"user_id":17958129,"display_name":"Antonio V&#225;zquez Ara&#250;jo"},"score":0,"creation_date":1674136199,"post_id":75172666,"comment_id":132653439,"body_markdown":"Yes, only windows","body":"Yes, only windows"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1674137149,"post_id":75172666,"comment_id":132653781,"body_markdown":"The plugin uses this [wxs](https://github.com/gluonhq/substrate/blob/master/src/main/resources/native/windows/wix/main.wxs) file to create the executable when calling `gluonfx:package`, based on these [values](https://github.com/gluonhq/substrate/blob/master/src/main/java/com/gluonhq/substrate/util/windows/MSIBundler.java#L174). Do you see any field that should be different or missing?","body":"The plugin uses this <a href=\"https://github.com/gluonhq/substrate/blob/master/src/main/resources/native/windows/wix/main.wxs\" rel=\"nofollow noreferrer\">wxs</a> file to create the executable when calling <code>gluonfx:package</code>, based on these <a href=\"https://github.com/gluonhq/substrate/blob/master/src/main/java/com/gluonhq/substrate/util/windows/MSIBundler.java#L174\" rel=\"nofollow noreferrer\">values</a>. Do you see any field that should be different or missing?"},{"owner":{"account_id":23969153,"reputation":11,"user_id":17958129,"display_name":"Antonio V&#225;zquez Ara&#250;jo"},"score":0,"creation_date":1674137659,"post_id":75172666,"comment_id":132653967,"body_markdown":"We use gluonfx:build to create the executable, but not package. We use WixToolSet directly, due to a complex configuration needed. Can we customize the exe creation of the build goal to include the meta-inf?","body":"We use gluonfx:build to create the executable, but not package. We use WixToolSet directly, due to a complex configuration needed. Can we customize the exe creation of the build goal to include the meta-inf?"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1674143088,"post_id":75172666,"comment_id":132656018,"body_markdown":"Did you ever try `gluonfx:package`? If it doesn&#39;t work for you, you could just run it once, and then modify at your convenience the configuration files/values it uses to create the executable manually.","body":"Did you ever try <code>gluonfx:package</code>? If it doesn&#39;t work for you, you could just run it once, and then modify at your convenience the configuration files/values it uses to create the executable manually."},{"owner":{"account_id":23969153,"reputation":11,"user_id":17958129,"display_name":"Antonio V&#225;zquez Ara&#250;jo"},"score":0,"creation_date":1674146858,"post_id":75172666,"comment_id":132657396,"body_markdown":"Yes, it generates a simple msi. But the exe is already generated by the build goal. I need to include the meta-information in the generated exe, not in the msi. Excuse me if I don&#39;t understand you.","body":"Yes, it generates a simple msi. But the exe is already generated by the build goal. I need to include the meta-information in the generated exe, not in the msi. Excuse me if I don&#39;t understand you."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1674149020,"post_id":75172666,"comment_id":132658220,"body_markdown":"Oh, right! My bad, I realize now that you are talking about the exe itself. Now that rings a bell... there was this [issue](https://github.com/gluonhq/substrate/issues/1089), where the executable was getting the values from `glass.dll`, but that was fixed a while ago by the GluonFX plugin, and now there is no default [`version.rc`](https://github.com/openjdk/jfx/blob/master/modules/javafx.graphics/src/main/resources/version.rc) included. This means you could try to add yours... (which means for now: add it to your project, compile it and link it with the rest of default files...)","body":"Oh, right! My bad, I realize now that you are talking about the exe itself. Now that rings a bell... there was this <a href=\"https://github.com/gluonhq/substrate/issues/1089\" rel=\"nofollow noreferrer\">issue</a>, where the executable was getting the values from <code>glass.dll</code>, but that was fixed a while ago by the GluonFX plugin, and now there is no default <a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.graphics/src/main/resources/version.rc\" rel=\"nofollow noreferrer\"><code>version.rc</code></a> included. This means you could try to add yours... (which means for now: add it to your project, compile it and link it with the rest of default files...)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674157982,"post_id":75172666,"comment_id":132661082,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":23969153,"reputation":11,"user_id":17958129,"display_name":"Antonio V&#225;zquez Ara&#250;jo"},"score":0,"creation_date":1674215297,"post_id":75172666,"comment_id":132671511,"body_markdown":"Thank you @Jos&#233;Pereda for your quick and kind support. But one more thing: how can I add my resource to the project? I put it in the resources folder and add it in resources-config.json but the resource compiler doesn&#39;t use it. It uses something called &quot;IconGroup.rc&quot;, which I don&#39;t have. I also try to name my resource as &quot;IconGroup.rc&quot; with the same result.","body":"Thank you @Jos&#233;Pereda for your quick and kind support. But one more thing: how can I add my resource to the project? I put it in the resources folder and add it in resources-config.json but the resource compiler doesn&#39;t use it. It uses something called &quot;IconGroup.rc&quot;, which I don&#39;t have. I also try to name my resource as &quot;IconGroup.rc&quot; with the same result."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1674217751,"post_id":75172666,"comment_id":132672320,"body_markdown":"Since there is no built-in support yet for this, you will need to compile and link it manually... (check the logs and see how you can modify the command line from the different steps). Or you could clone [Substrate](https://github.com/gluonhq/substrate), and modify it to include `version.rc` with `launch.c` (so it gets compiled and linked)...","body":"Since there is no built-in support yet for this, you will need to compile and link it manually... (check the logs and see how you can modify the command line from the different steps). Or you could clone <a href=\"https://github.com/gluonhq/substrate\" rel=\"nofollow noreferrer\">Substrate</a>, and modify it to include <code>version.rc</code> with <code>launch.c</code> (so it gets compiled and linked)..."}],"answers":[{"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674309670,"creation_date":1674309670,"answer_id":75193883,"question_id":75172666,"body_markdown":"Until the GluonFX plugin has support for this, there is a relatively easy way to add meta-data to your executable.\r\n\r\nYou need a `version.rc` file like the one OpenJFX uses for the different JavaFX libraries: [version.rc](https://github.com/openjdk/jfx/blob/master/modules/javafx.graphics/src/main/resources/version.rc).\r\n\r\nThen, basically you need to compile it with the proper values, and finally link it with the rest of the obj files that produce the executable.\r\n\r\nThese are the required steps:\r\n\r\n**Build GluonFX project**\r\n\r\nAssuming that you have a project like `HelloGluon`, you need to run once:\r\n\r\n```\r\nmvn gluonfx:build\r\n```\r\n\r\nand that will produce an executable without meta-data under `target/gluonfx/x86_64-windows/HelloGluon.exe`.\r\n\r\n**Resource file**\r\n\r\nThe fact that there is a default icon added via `target/gluonfx/x86_64-windows/gvm/tmp/icon/IconGroup.obj` means that there is already a resource file added to the executable. Since there can be only one, we need to bypass that with some manual work.\r\n\r\nIf you check the log:\r\n\r\n```\r\nDefault icon.ico image generated in C:\\%path.to.project%\\target\\gluonfx\\x86_64-windows\\gensrc\\windows\\assets.\r\nConsider copying it to C:\\%path.to.project%\\src\\windows\r\n```\r\n\r\nSo let&#39;s do that: create the folder `C:\\%path.to.project%\\src\\windows`, and copy the icon `icon.ico`, and also the `version.rc` file.\r\n\r\nEdit `C:\\%path.to.project%\\src\\windows\\version.rc` and add right after `#define STR(x)  #x` the following:\r\n\r\n```\r\nIDI_ICON1 ICON &quot;icon.ico&quot;\r\n```\r\n\r\n**Compile**\r\n\r\nFollowing the flags used for compilation in the OpenJFX [win.gradle](https://github.com/openjdk/jfx/blob/master/buildSrc/win.gradle#L312) build file, and from the x64 command prompt, you can run:\r\n\r\n```\r\ncd C:\\%path.to.your.project%\\src\\windows\r\n\r\nrc /d JFX_FNAME=HelloGluon.exe /d JFX_INTERNAL_NAME=HelloGluon \\\r\n   /d &quot;JFX_COMPANY=My company&quot; /d &quot;JFX_COMPONENT=My component&quot; \\\r\n   /d &quot;JFX_NAME=My name&quot; /d &quot;JFX_VER=1.0.0&quot; /d &quot;JFX_BUILD_ID=1.0.0.0+1&quot; \\\r\n   /d &quot;JFX_COPYRIGHT=My Copyright&quot; /d &quot;JFX_FVER=1,0,0&quot; \\\r\n   /d &quot;JFX_FTYPE=0x7L&quot; \\\r\n   /FoC:\\%path.to.your.project%\\src\\windows\\version.res version.rcâ¨\r\n\r\ncvtres /machine:x64 -out:C:\\%path.to.your.project%\\src\\windows\\version.obj C:\\%path.to.your.project%\\src\\windows\\version.resâ¨\r\n```\r\n\r\nThis should create `version.obj`:\r\n\r\n```\r\n&gt; dir\r\n \r\nC:\\%path.to.your.project%\\src\\windows\r\n\r\n21/01/2023  14:38    &lt;DIR&gt;          .\r\n21/01/2023  14:38    &lt;DIR&gt;          ..\r\n21/01/2023  14:18            15.031 icon.ico\r\n21/01/2023  14:38             1.528 version.obj\r\n21/01/2023  14:36             2.629 version.rc\r\n21/01/2023  14:36               796 version.res\r\n```\r\n\r\n**Link**\r\n\r\nNow check the log `target/gluonfx/log/process-link-****.log` and copy the link command, replacing the `IconGroup.obj` now with your `version.obj:\r\n\r\n```\r\nlink C:\\%path.to.project%\\target\\gluonfx\\x86_64-windows\\gvm\\HelloGluon\\launcher.obj \\\r\nC:\\%path.to.project%\\target\\gluonfx\\x86_64-windows\\gvm\\tmp\\SVM-*****\\com.gluonapplication.gluonapplication.obj \\\r\n\r\nC:\\%path.to.project%\\src\\windows\\version.obj \\\r\n\r\nj2pkcs11.lib java.lib ... crypt32.lib /NODEFAULTLIB:libcmt.lib \\\r\n/SUBSYSTEM:WINDOWS /ENTRY:mainCRTStartup comdlg32.lib ... prism_d3d.lib /WHOLEARCHIVE:glass.lib ... /WHOLEARCHIVE:prism_d3d.lib \\\r\n/OUT:C:\\%path.to.project%\\target\\gluonfx\\x86_64-windows\\HelloGluon.exe \\\r\n/LIBPATH:C:\\~\\.gluon\\substrate\\javafxStaticSdk\\20-ea+7\\windows-x86_64\\sdk\\lib \\\r\n/LIBPATH:C:\\graalvm-svm-java17-windows-gluon-22.1.0.1-Final\\lib\\svm\\clibraries\\windows-amd64 \\\r\n/LIBPATH:C:\\graalvm-svm-java17-windows-gluon-22.1.0.1-Final\\lib\\static\\windows-amd64â¨\r\n```\r\n\r\nThis will link again your executable with your metadata, and you will see that in details from Windows Explorer:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/yKFO4.png&quot; width=&quot;300&quot;&gt;&lt;/img&gt;\r\n\r\nNote that if you run `mvn gluonfx:build` again, you will lose thet metadata, and you will need to run the manual link command all over again. ","title":"Howto add the version, description and copyright meta-data in the generated executable using gluonfx:build?","body":"<p>Until the GluonFX plugin has support for this, there is a relatively easy way to add meta-data to your executable.</p>\n<p>You need a <code>version.rc</code> file like the one OpenJFX uses for the different JavaFX libraries: <a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.graphics/src/main/resources/version.rc\" rel=\"nofollow noreferrer\">version.rc</a>.</p>\n<p>Then, basically you need to compile it with the proper values, and finally link it with the rest of the obj files that produce the executable.</p>\n<p>These are the required steps:</p>\n<p><strong>Build GluonFX project</strong></p>\n<p>Assuming that you have a project like <code>HelloGluon</code>, you need to run once:</p>\n<pre><code>mvn gluonfx:build\n</code></pre>\n<p>and that will produce an executable without meta-data under <code>target/gluonfx/x86_64-windows/HelloGluon.exe</code>.</p>\n<p><strong>Resource file</strong></p>\n<p>The fact that there is a default icon added via <code>target/gluonfx/x86_64-windows/gvm/tmp/icon/IconGroup.obj</code> means that there is already a resource file added to the executable. Since there can be only one, we need to bypass that with some manual work.</p>\n<p>If you check the log:</p>\n<pre><code>Default icon.ico image generated in C:\\%path.to.project%\\target\\gluonfx\\x86_64-windows\\gensrc\\windows\\assets.\nConsider copying it to C:\\%path.to.project%\\src\\windows\n</code></pre>\n<p>So let's do that: create the folder <code>C:\\%path.to.project%\\src\\windows</code>, and copy the icon <code>icon.ico</code>, and also the <code>version.rc</code> file.</p>\n<p>Edit <code>C:\\%path.to.project%\\src\\windows\\version.rc</code> and add right after <code>#define STR(x)  #x</code> the following:</p>\n<pre><code>IDI_ICON1 ICON &quot;icon.ico&quot;\n</code></pre>\n<p><strong>Compile</strong></p>\n<p>Following the flags used for compilation in the OpenJFX <a href=\"https://github.com/openjdk/jfx/blob/master/buildSrc/win.gradle#L312\" rel=\"nofollow noreferrer\">win.gradle</a> build file, and from the x64 command prompt, you can run:</p>\n<pre><code>cd C:\\%path.to.your.project%\\src\\windows\n\nrc /d JFX_FNAME=HelloGluon.exe /d JFX_INTERNAL_NAME=HelloGluon \\\n   /d &quot;JFX_COMPANY=My company&quot; /d &quot;JFX_COMPONENT=My component&quot; \\\n   /d &quot;JFX_NAME=My name&quot; /d &quot;JFX_VER=1.0.0&quot; /d &quot;JFX_BUILD_ID=1.0.0.0+1&quot; \\\n   /d &quot;JFX_COPYRIGHT=My Copyright&quot; /d &quot;JFX_FVER=1,0,0&quot; \\\n   /d &quot;JFX_FTYPE=0x7L&quot; \\\n   /FoC:\\%path.to.your.project%\\src\\windows\\version.res version.rcâ¨\n\ncvtres /machine:x64 -out:C:\\%path.to.your.project%\\src\\windows\\version.obj C:\\%path.to.your.project%\\src\\windows\\version.resâ¨\n</code></pre>\n<p>This should create <code>version.obj</code>:</p>\n<pre><code>&gt; dir\n \nC:\\%path.to.your.project%\\src\\windows\n\n21/01/2023  14:38    &lt;DIR&gt;          .\n21/01/2023  14:38    &lt;DIR&gt;          ..\n21/01/2023  14:18            15.031 icon.ico\n21/01/2023  14:38             1.528 version.obj\n21/01/2023  14:36             2.629 version.rc\n21/01/2023  14:36               796 version.res\n</code></pre>\n<p><strong>Link</strong></p>\n<p>Now check the log <code>target/gluonfx/log/process-link-****.log</code> and copy the link command, replacing the <code>IconGroup.obj</code> now with your `version.obj:</p>\n<pre><code>link C:\\%path.to.project%\\target\\gluonfx\\x86_64-windows\\gvm\\HelloGluon\\launcher.obj \\\nC:\\%path.to.project%\\target\\gluonfx\\x86_64-windows\\gvm\\tmp\\SVM-*****\\com.gluonapplication.gluonapplication.obj \\\n\nC:\\%path.to.project%\\src\\windows\\version.obj \\\n\nj2pkcs11.lib java.lib ... crypt32.lib /NODEFAULTLIB:libcmt.lib \\\n/SUBSYSTEM:WINDOWS /ENTRY:mainCRTStartup comdlg32.lib ... prism_d3d.lib /WHOLEARCHIVE:glass.lib ... /WHOLEARCHIVE:prism_d3d.lib \\\n/OUT:C:\\%path.to.project%\\target\\gluonfx\\x86_64-windows\\HelloGluon.exe \\\n/LIBPATH:C:\\~\\.gluon\\substrate\\javafxStaticSdk\\20-ea+7\\windows-x86_64\\sdk\\lib \\\n/LIBPATH:C:\\graalvm-svm-java17-windows-gluon-22.1.0.1-Final\\lib\\svm\\clibraries\\windows-amd64 \\\n/LIBPATH:C:\\graalvm-svm-java17-windows-gluon-22.1.0.1-Final\\lib\\static\\windows-amd64â¨\n</code></pre>\n<p>This will link again your executable with your metadata, and you will see that in details from Windows Explorer:</p>\n<p><img src=\"https://i.stack.imgur.com/yKFO4.png\" width=\"300\"></p>\n<p>Note that if you run <code>mvn gluonfx:build</code> again, you will lose thet metadata, and you will need to run the manual link command all over again.</p>\n"}],"owner":{"account_id":23969153,"reputation":11,"user_id":17958129,"display_name":"Antonio V&#225;zquez Ara&#250;jo"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674309773,"creation_date":1674133437,"question_id":75172666,"body_markdown":"We need meta-information in the generated executable so that right-clicking and selecting &quot;details&quot; will display the description, copyright and version.\r\n\r\nWe have added description and vendor in the releaseConfiguration block but the executable still has no meta information.","title":"Howto add the version, description and copyright meta-data in the generated executable using gluonfx:build?","body":"<p>We need meta-information in the generated executable so that right-clicking and selecting &quot;details&quot; will display the description, copyright and version.</p>\n<p>We have added description and vendor in the releaseConfiguration block but the executable still has no meta information.</p>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674304921,"post_id":75190658,"comment_id":132688699,"body_markdown":"Do you mean [`Mono.doFinally`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doFinally-java.util.function.Consumer-)?","body":"Do you mean <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doFinally-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>Mono.doFinally</code></a>?"}],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674309598,"creation_date":1674309598,"answer_id":75193878,"question_id":75190658,"body_markdown":"The proper solution is to use [Mono.usingWhen](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#usingWhen-org.reactivestreams.Publisher-java.util.function.Function-java.util.function.Function-) or [Flux.usingWhen](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#usingWhen-org.reactivestreams.Publisher-java.util.function.Function-java.util.function.Function-).\r\n\r\nIn both case, you provide a resource publisher, that will be called each time the user subscribe, to produce a fresh resource.\r\n\r\nLet&#39;s see that in an example:\r\n\r\n```java\r\nimport java.time.Duration;\r\n\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.publisher.Mono;\r\n\r\npublic class UsingWhen {\r\n\r\n\t/** Simulates a closeable resource. Prints a message when opening and closing. */\r\n\tpublic static class ReactiveResourceMock implements AutoCloseable {\r\n\r\n\t\tpublic ReactiveResourceMock() { System.out.println(&quot;OPENING&quot;); }\r\n\r\n\t\tFlux&lt;Integer&gt; content() { return Flux.range(1, 3); }\r\n\r\n\t\t@Override\r\n\t\tpublic void close() throws Exception { System.out.println(&quot;CLOSING&quot;); };\r\n\t}\r\n\r\n\t/** Simulates async value opening */\r\n\tpublic static Mono&lt;ReactiveResourceMock&gt; open() {\r\n\t\treturn Mono.delay(Duration.ofMillis(200))\r\n\t\t           .map(i -&gt; new ReactiveResourceMock());\r\n\t}\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tMono&lt;ReactiveResourceMock&gt; openResource = open();\r\n\r\n\t\tFlux&lt;Integer&gt; flow = Flux.usingWhen(\r\n\t\t\t\topenResource,\r\n\t\t\t\tReactiveResourceMock::content,\r\n                resource -&gt; Mono.fromCallable(() -&gt; {\r\n\t\t\t\t\tresource.close();\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}))\r\n                .doOnCancel(() -&gt; System.out.println(&quot;CANCELLED&quot;))\r\n                .doOnComplete(() -&gt; System.out.println(&quot;COMPLETED&quot;));\r\n\r\n\t\tSystem.out.println(&quot;VERIFY FLOW CONTROL:&quot;);\r\n\t\tflow.doOnNext(System.out::println)\r\n\t\t    .blockLast();\r\n\r\n\t\tSystem.out.println(&quot;WHAT HAPPENS IN CASE OF ERROR:&quot;);\r\n\t\tflow.limitRate(1)\r\n\t\t    .map(i -&gt; i / (i % 2))\r\n\t\t\t.onErrorReturn(-1)\r\n\t\t\t.doOnNext(System.out::println)\r\n\t\t\t.blockLast();\r\n\t}\r\n}\r\n```\r\n\r\nThe program above prints:\r\n\r\n```stdout\r\nVERIFY FLOW CONTROL:\r\nOPENING\r\n1\r\n2\r\n3\r\nCLOSING\r\nCOMPLETED\r\nWHAT HAPPENS IN CASE OF ERROR:\r\nOPENING\r\n1\r\nCANCELLED\r\n-1\r\nCLOSING\r\n```\r\n","title":"How can I use the try-with-resources patter in reactor, if resource is a Mono?","body":"<p>The proper solution is to use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#usingWhen-org.reactivestreams.Publisher-java.util.function.Function-java.util.function.Function-\" rel=\"nofollow noreferrer\">Mono.usingWhen</a> or <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#usingWhen-org.reactivestreams.Publisher-java.util.function.Function-java.util.function.Function-\" rel=\"nofollow noreferrer\">Flux.usingWhen</a>.</p>\n<p>In both case, you provide a resource publisher, that will be called each time the user subscribe, to produce a fresh resource.</p>\n<p>Let's see that in an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.Duration;\n\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\npublic class UsingWhen {\n\n    /** Simulates a closeable resource. Prints a message when opening and closing. */\n    public static class ReactiveResourceMock implements AutoCloseable {\n\n        public ReactiveResourceMock() { System.out.println(&quot;OPENING&quot;); }\n\n        Flux&lt;Integer&gt; content() { return Flux.range(1, 3); }\n\n        @Override\n        public void close() throws Exception { System.out.println(&quot;CLOSING&quot;); };\n    }\n\n    /** Simulates async value opening */\n    public static Mono&lt;ReactiveResourceMock&gt; open() {\n        return Mono.delay(Duration.ofMillis(200))\n                   .map(i -&gt; new ReactiveResourceMock());\n    }\n\n\n    public static void main(String[] args) {\n        Mono&lt;ReactiveResourceMock&gt; openResource = open();\n\n        Flux&lt;Integer&gt; flow = Flux.usingWhen(\n                openResource,\n                ReactiveResourceMock::content,\n                resource -&gt; Mono.fromCallable(() -&gt; {\n                    resource.close();\n                    return 1;\n                }))\n                .doOnCancel(() -&gt; System.out.println(&quot;CANCELLED&quot;))\n                .doOnComplete(() -&gt; System.out.println(&quot;COMPLETED&quot;));\n\n        System.out.println(&quot;VERIFY FLOW CONTROL:&quot;);\n        flow.doOnNext(System.out::println)\n            .blockLast();\n\n        System.out.println(&quot;WHAT HAPPENS IN CASE OF ERROR:&quot;);\n        flow.limitRate(1)\n            .map(i -&gt; i / (i % 2))\n            .onErrorReturn(-1)\n            .doOnNext(System.out::println)\n            .blockLast();\n    }\n}\n</code></pre>\n<p>The program above prints:</p>\n<pre><code>VERIFY FLOW CONTROL:\nOPENING\n1\n2\n3\nCLOSING\nCOMPLETED\nWHAT HAPPENS IN CASE OF ERROR:\nOPENING\n1\nCANCELLED\n-1\nCLOSING\n</code></pre>\n"}],"owner":{"account_id":461033,"reputation":3,"user_id":862487,"display_name":"Berti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75193878,"answer_count":1,"score":0,"last_activity_date":1674309598,"creation_date":1674264356,"question_id":75190658,"body_markdown":"I have a client, which is being created as a Mono, e.g.\r\n\r\n`Mono&lt;MyClient&gt; myClientMono = ...`\r\n\r\nThe `MyClient` class implements `Closeable` interface, so you can use the standard java try-with-resources pattern.\r\n\r\nWhat&#39;s the best way to use resource wrapped in a `Mono`?\r\n\r\nI understand how to use Mono.using() to mimic try-with-resources if the resource is a regular object, like a `InputStream`.\r\n\r\nHowever, how can I make sure myclient is being closed after it has been used with Reactor?\r\n\r\nI could do this:\r\n\r\n```\r\nMono.using(() -&gt; myClientMono.block(),\r\n        myClient -&gt; myClient.doSomething(),\r\n        myClient.close())\r\n    .subscribe(System.out::println);\r\n```\r\n\r\nhowever, this will be blocking and cannot be used in an asynchronous thread.\r\n\r\nI could do something like this and close the client after it has been used:\r\n\r\n```\r\nmyClientMono\r\n  .flatMap( myClient -&gt; { \r\n        var a = myClient.doSomething();\r\n        myClient.close();\r\n        return Mono.just(a);\r\n     })\r\n  .subscribe(Sytem.out::println);\r\n```\r\n\r\nThis - however - does not close the client if an error occurs.\r\n\r\nI wonder if there&#39;s a better solution?","title":"How can I use the try-with-resources patter in reactor, if resource is a Mono?","body":"<p>I have a client, which is being created as a Mono, e.g.</p>\n<p><code>Mono&lt;MyClient&gt; myClientMono = ...</code></p>\n<p>The <code>MyClient</code> class implements <code>Closeable</code> interface, so you can use the standard java try-with-resources pattern.</p>\n<p>What's the best way to use resource wrapped in a <code>Mono</code>?</p>\n<p>I understand how to use Mono.using() to mimic try-with-resources if the resource is a regular object, like a <code>InputStream</code>.</p>\n<p>However, how can I make sure myclient is being closed after it has been used with Reactor?</p>\n<p>I could do this:</p>\n<pre><code>Mono.using(() -&gt; myClientMono.block(),\n        myClient -&gt; myClient.doSomething(),\n        myClient.close())\n    .subscribe(System.out::println);\n</code></pre>\n<p>however, this will be blocking and cannot be used in an asynchronous thread.</p>\n<p>I could do something like this and close the client after it has been used:</p>\n<pre><code>myClientMono\n  .flatMap( myClient -&gt; { \n        var a = myClient.doSomething();\n        myClient.close();\n        return Mono.just(a);\n     })\n  .subscribe(Sytem.out::println);\n</code></pre>\n<p>This - however - does not close the client if an error occurs.</p>\n<p>I wonder if there's a better solution?</p>\n"},{"tags":["java","class","arraylist","indexing","element"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":2,"creation_date":1674255735,"post_id":75190062,"comment_id":132683455,"body_markdown":"Prepare and post your [mcve].","body":"Prepare and post your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2059508,"reputation":2270,"user_id":1836461,"display_name":"computercarguy"},"score":1,"creation_date":1674255971,"post_id":75190062,"comment_id":132683483,"body_markdown":"Please include information/text from the syntax error you&#39;re getting. Also, what&#39;s the datatype of &quot;dependsRequirement&quot;? Is that the `ArrayList`?","body":"Please include information/text from the syntax error you&#39;re getting. Also, what&#39;s the datatype of &quot;dependsRequirement&quot;? Is that the <code>ArrayList</code>?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1674256063,"post_id":75190062,"comment_id":132683503,"body_markdown":"most obvious explanation: Type of `req.dependsRequirement` is `Collection` and not `List`, which has `size()` but not `get(int)`.","body":"most obvious explanation: Type of <code>req.dependsRequirement</code> is <code>Collection</code> and not <code>List</code>, which has <code>size()</code> but not <code>get(int)</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1674256486,"post_id":75190062,"comment_id":132683563,"body_markdown":"`hasDesplayed` is not the same as `hasDisplayed`","body":"<code>hasDesplayed</code> is not the same as <code>hasDisplayed</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":3,"creation_date":1674265456,"post_id":75190062,"comment_id":132684556,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1674309405,"creation_date":1674309405,"answer_id":75193860,"question_id":75190062,"body_markdown":"You need to provide a [minimal reproducible example][1] of your code. Only with it someone can detect the exact reason of your issue. \r\n\r\nBut I can suppose that the problem connected with a type of object that you are trying to parse and take hasDesplayed parameter from it. \r\n\r\nSo here I just assume what code structure you have based on your question details and provide a valid code for it. You should use a Collection type.\r\n\r\n```\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Requirement requirement1 = new Requirement();\r\n        requirement1.setName(&quot;Req1&quot;);\r\n        requirement1.setHasDisplayed(true);\r\n        Requirement requirement2 = new Requirement();\r\n        requirement2.setName(&quot;Req2&quot;);\r\n        requirement2.setHasDisplayed(false);\r\n        Requirement requirement3 = new Requirement();\r\n        requirement3.setName(&quot;Req3&quot;);\r\n        requirement3.setHasDisplayed(true);\r\n\r\n        ArrayList&lt;Requirement&gt; requirementList = new ArrayList&lt;&gt;(); // You need to parse this object\r\n\r\n        requirementList.add(requirement1);\r\n        requirementList.add(requirement2);\r\n        requirementList.add(requirement3);\r\n\r\n        Requirement requirementSummary = new Requirement(); // But I suppose you parse some kind of this object\r\n        requirementSummary.setRequirement(requirementList);\r\n\r\n        for (int i = 0; i &lt; requirementList.size(); i++) {\r\n            if (requirementList.get(i).hasDisplayed == false) {\r\n                System.out.println(requirementList.get(i).getName());\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    static class Requirement {\r\n        String name;\r\n        Boolean hasDisplayed;\r\n        ArrayList&lt;Requirement&gt; requirement;\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public Boolean getHasDisplayed() {\r\n            return hasDisplayed;\r\n        }\r\n\r\n        public void setHasDisplayed(Boolean hasDisplayed) {\r\n            this.hasDisplayed = hasDisplayed;\r\n        }\r\n\r\n        public ArrayList getRequirement() {\r\n            return requirement;\r\n        }\r\n\r\n        public void setRequirement(ArrayList requirement) {\r\n            this.requirement = requirement;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;RequirementDetails{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, hasDisplayed=&quot; + hasDisplayed +\r\n                    &quot;, requirement=&quot; + requirement +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/help/minimal-reproducible-example","title":"can&#39;t access the element in the ArrayList in java","body":"<p>You need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your code. Only with it someone can detect the exact reason of your issue.</p>\n<p>But I can suppose that the problem connected with a type of object that you are trying to parse and take hasDesplayed parameter from it.</p>\n<p>So here I just assume what code structure you have based on your question details and provide a valid code for it. You should use a Collection type.</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n\n        Requirement requirement1 = new Requirement();\n        requirement1.setName(&quot;Req1&quot;);\n        requirement1.setHasDisplayed(true);\n        Requirement requirement2 = new Requirement();\n        requirement2.setName(&quot;Req2&quot;);\n        requirement2.setHasDisplayed(false);\n        Requirement requirement3 = new Requirement();\n        requirement3.setName(&quot;Req3&quot;);\n        requirement3.setHasDisplayed(true);\n\n        ArrayList&lt;Requirement&gt; requirementList = new ArrayList&lt;&gt;(); // You need to parse this object\n\n        requirementList.add(requirement1);\n        requirementList.add(requirement2);\n        requirementList.add(requirement3);\n\n        Requirement requirementSummary = new Requirement(); // But I suppose you parse some kind of this object\n        requirementSummary.setRequirement(requirementList);\n\n        for (int i = 0; i &lt; requirementList.size(); i++) {\n            if (requirementList.get(i).hasDisplayed == false) {\n                System.out.println(requirementList.get(i).getName());\n            }\n\n        }\n    }\n\n    static class Requirement {\n        String name;\n        Boolean hasDisplayed;\n        ArrayList&lt;Requirement&gt; requirement;\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public Boolean getHasDisplayed() {\n            return hasDisplayed;\n        }\n\n        public void setHasDisplayed(Boolean hasDisplayed) {\n            this.hasDisplayed = hasDisplayed;\n        }\n\n        public ArrayList getRequirement() {\n            return requirement;\n        }\n\n        public void setRequirement(ArrayList requirement) {\n            this.requirement = requirement;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;RequirementDetails{&quot; +\n                    &quot;name='&quot; + name + '\\'' +\n                    &quot;, hasDisplayed=&quot; + hasDisplayed +\n                    &quot;, requirement=&quot; + requirement +\n                    '}';\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27584320,"reputation":3,"user_id":21052855,"display_name":"O.Alghamdi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1674319944,"accepted_answer_id":75193860,"answer_count":1,"score":-1,"last_activity_date":1674309405,"creation_date":1674255532,"question_id":75190062,"body_markdown":"```\r\nfor(int i = 0; i &lt; req.dependsRequirement.size(); i++) {\r\n    if(req.dependsRequirement.get(i).hasDesplayed == false)\r\n```\r\nI have created an `ArrayList`.\r\n\r\nI want to access the element in index `i`, but when I use `get(i)` the compiler gives me a syntax error.\r\n\r\nTo understand the program \r\nI have created a class `Requirement` that has 3 attributes (name, hasDisplayed, and ArrayList of `Requirement`)","title":"can&#39;t access the element in the ArrayList in java","body":"<pre><code>for(int i = 0; i &lt; req.dependsRequirement.size(); i++) {\n    if(req.dependsRequirement.get(i).hasDesplayed == false)\n</code></pre>\n<p>I have created an <code>ArrayList</code>.</p>\n<p>I want to access the element in index <code>i</code>, but when I use <code>get(i)</code> the compiler gives me a syntax error.</p>\n<p>To understand the program\nI have created a class <code>Requirement</code> that has 3 attributes (name, hasDisplayed, and ArrayList of <code>Requirement</code>)</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","arraylist"],"answers":[{"tags":[],"owner":{"account_id":15450914,"reputation":308,"user_id":11146314,"display_name":"Santi Wagner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1609706476,"creation_date":1609705561,"answer_id":65554575,"question_id":65553838,"body_markdown":"This can be a problem of the schema in your database. Did you create your schema manually or are you using auto-ddl? If you created it manually, maybe you are missing a recipe_id column in the Ingredients table. If such join column has a different name, you must override it using @JoinColumn on the Ingredient class like this:\r\n\r\n```\r\n@ManyToOne(targetEntity = Recipe.class,\r\n            fetch = FetchType.LAZY,\r\n            cascade = {CascadeType.MERGE, CascadeType.REMOVE})\r\n    @NotNull(message = &quot;Please include ingredients&quot;)\r\n    @JoinColumn(&quot;the_recipe_id&quot;) // **** Here you put the join column name you specified **** //\r\n    private Recipe recipe;\r\n\r\n```\r\n\r\nEDIT: Also, can you post your AbstractEntity class? The problem could also be related with the lack of key in the Recipe class.","title":"Unable to Save ArrayList of Objects in MySQL - Hibernate/Spring Boot","body":"<p>This can be a problem of the schema in your database. Did you create your schema manually or are you using auto-ddl? If you created it manually, maybe you are missing a recipe_id column in the Ingredients table. If such join column has a different name, you must override it using @JoinColumn on the Ingredient class like this:</p>\n<pre><code>@ManyToOne(targetEntity = Recipe.class,\n            fetch = FetchType.LAZY,\n            cascade = {CascadeType.MERGE, CascadeType.REMOVE})\n    @NotNull(message = &quot;Please include ingredients&quot;)\n    @JoinColumn(&quot;the_recipe_id&quot;) // **** Here you put the join column name you specified **** //\n    private Recipe recipe;\n\n</code></pre>\n<p>EDIT: Also, can you post your AbstractEntity class? The problem could also be related with the lack of key in the Recipe class.</p>\n"},{"tags":[],"owner":{"account_id":16531400,"reputation":331,"user_id":11944499,"display_name":"this"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609708253,"creation_date":1609708253,"answer_id":65554974,"question_id":65553838,"body_markdown":"I&#39;m an idiot. The data type was set incorrectly in the database. Creating a new DB solved it. ","title":"Unable to Save ArrayList of Objects in MySQL - Hibernate/Spring Boot","body":"<p>I'm an idiot. The data type was set incorrectly in the database. Creating a new DB solved it.</p>\n"}],"owner":{"account_id":16531400,"reputation":331,"user_id":11944499,"display_name":"this"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1972,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65554575,"answer_count":2,"score":0,"last_activity_date":1674309317,"creation_date":1609701109,"question_id":65553838,"body_markdown":"I&#39;m having some issues with what I believe is my relational mapping in Hibernate. This is for an recipe keeping application.\r\n\r\nOriginally, the recipe class had a `String ingredients` field where all of the ingredients were stored. We realized that this didn&#39;t make sense for storing a list of ingredients in a recipe, so I&#39;m in the process of refactoring it to be a list of a new type I created, `Ingredient`: `List&lt;Ingredient&gt; ingredients`. The ingredient form field is dynamically created by JS on the front end, and when submitted on a POST request, is transformed into an ArrayList of new Ingredients and then added into the Recipe model. \r\n\r\nWhenever it reaches the line where it saves it into the database, I get this error: \r\n\r\n`Field &#39;ingredients&#39; doesn&#39;t have a default value`, which tells me that the field is null. However, when I use the debug tools, it shows me that newRecipe.ingredients is not null, its actually an ArrayList created from the data on the front end.\r\n\r\nThe Ingredient class looks like such:\r\n```\r\n@Entity\r\npublic class Ingredient extends AbstractEntity{\r\n\r\n    @ManyToOne(targetEntity = Recipe.class,\r\n            fetch = FetchType.LAZY,\r\n            cascade = {CascadeType.MERGE, CascadeType.REMOVE})\r\n    @NotNull(message = &quot;Please include ingredients&quot;)\r\n    private Recipe recipe;\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private int id;\r\n\r\n    private String ingredient;\r\n\r\n    public Ingredient(String ingredient) {\r\n        this.ingredient = ingredient;\r\n    }\r\n\r\n    public String getIngredient() {\r\n        return ingredient;\r\n    }\r\n\r\n    public void setIngredient(String ingredient) {\r\n        this.ingredient = ingredient;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe Recipe Class is here:\r\n\r\n```\r\n@Entity\r\npublic class Recipe extends AbstractEntity {\r\n\r\n   private String name;\r\n\r\n   @OneToMany(mappedBy = &quot;recipe&quot;)\r\n   @NotNull(message = &quot;Ingredients required&quot;)\r\n   private List&lt;Ingredient&gt; ingredients = new ArrayList&lt;Ingredient&gt;();\r\n\r\n   private String directions;\r\n\r\n   @OneToMany(mappedBy = &quot;recipe&quot;)\r\n   private List&lt;Instruction&gt; instructions = new ArrayList&lt;Instruction&gt;();\r\n\r\n   @NotNull(message = &quot;Category required&quot;)\r\n   private Category category;\r\n\r\n   private Tag tag;\r\n\r\n   private String img;\r\n\r\n   @OneToMany(mappedBy = &quot;recipe&quot;, cascade = {CascadeType.MERGE, CascadeType.REMOVE})\r\n   @NotNull(message = &quot;User is required&quot;)\r\n   private List&lt;UserRecipe&gt; users = new ArrayList&lt;&gt;();\r\n\r\n   public Recipe() {\r\n   }\r\n\r\n   public String getName() {\r\n      return name;\r\n   }\r\n\r\n   public void setName(String name) {\r\n      this.name = name;\r\n   }\r\n\r\n\r\n   public Category getCategory() {\r\n      return category;\r\n   }\r\n\r\n   public void setCategory(Category category) {\r\n      this.category = category;\r\n   }\r\n\r\n   public List&lt;UserRecipe&gt; getUsers() {\r\n      return users;\r\n   }\r\n\r\n   public void setUsers(List&lt;UserRecipe&gt; users) {\r\n      this.users = users;\r\n   }\r\n\r\n   public String getImg() {\r\n      return img;\r\n   }\r\n\r\n   public void setImg(String img) {\r\n      this.img = img;\r\n   }\r\n\r\n\r\n   public List&lt;Ingredient&gt; getIngredients() {\r\n      return ingredients;\r\n   }\r\n\r\n   public void setIngredients(List&lt;Ingredient&gt; ingredients) {\r\n      this.ingredients = ingredients;\r\n   }\r\n\r\n   public String getDirections() {\r\n      return directions;\r\n   }\r\n\r\n   public void setDirections(String directions) {\r\n      this.directions = directions;\r\n   }\r\n\r\n   public Tag getTag() {\r\n      return tag;\r\n   }\r\n\r\n   public void setTag(Tag tag) {\r\n      this.tag = tag;\r\n   }\r\n\r\n   public List&lt;Instruction&gt; getInstructions() {\r\n      return instructions;\r\n   }\r\n\r\n   public void setInstructions(List&lt;Instruction&gt; instructions) {\r\n      this.instructions = instructions;\r\n   }\r\n}\r\n```\r\n\r\nRecipeController is here:\r\n\r\n```\r\n@PostMapping(&quot;create&quot;)\r\n   public String createRecipe(HttpServletRequest request, @ModelAttribute Recipe newRecipe,\r\n                              @ModelAttribute @Valid String newCategory,\r\n                              Errors errors, Model model, RedirectAttributes redirectAttrs) {\r\n\r\n      if (errors.hasErrors()) {\r\n         model.addAttribute(&quot;title&quot;, &quot;Create Recipe&quot;);\r\n         return &quot;recipes/create&quot;;\r\n      }\r\n\r\n      String[] ingredients = request.getParameterValues(&quot;ingredient&quot;);\r\n\r\n      List&lt;Ingredient&gt; ingredientsList = new ArrayList&lt;Ingredient&gt;();\r\n\r\n      for (int i = 0; i &lt; ingredients.length; i++) {\r\n         Ingredient newIngredient = new Ingredient(ingredients[i]);\r\n         ingredientsList.add(newIngredient);\r\n      }\r\n      newRecipe.setIngredients(ingredientsList);\r\n      \r\n      // THIS PRINTS AN ARRAY OF THE NUMBER OF INGREDIENTS ADDED\r\n      System.out.println(ingredientsList.toString());\r\n\r\n      // HERE IS WHERE MY ERROR HAPPENS\r\n      Recipe recipe = recipeRepository.save(newRecipe);\r\n      redirectAttrs.addAttribute(&quot;recipeId&quot;, recipe.getId());\r\n\r\n      return &quot;redirect:/recipes/display&quot;;\r\n   }\r\n```\r\n\r\nMy thought here is that I&#39;m somehow not mapping the ingredients list correctly to the recipe, but I can&#39;t figure this one out and after 3 days of googling and troubleshooting here I am. Any help would be greatly appreciated. Thanks in advance!","title":"Unable to Save ArrayList of Objects in MySQL - Hibernate/Spring Boot","body":"<p>I'm having some issues with what I believe is my relational mapping in Hibernate. This is for an recipe keeping application.</p>\n<p>Originally, the recipe class had a <code>String ingredients</code> field where all of the ingredients were stored. We realized that this didn't make sense for storing a list of ingredients in a recipe, so I'm in the process of refactoring it to be a list of a new type I created, <code>Ingredient</code>: <code>List&lt;Ingredient&gt; ingredients</code>. The ingredient form field is dynamically created by JS on the front end, and when submitted on a POST request, is transformed into an ArrayList of new Ingredients and then added into the Recipe model.</p>\n<p>Whenever it reaches the line where it saves it into the database, I get this error:</p>\n<p><code>Field 'ingredients' doesn't have a default value</code>, which tells me that the field is null. However, when I use the debug tools, it shows me that newRecipe.ingredients is not null, its actually an ArrayList created from the data on the front end.</p>\n<p>The Ingredient class looks like such:</p>\n<pre><code>@Entity\npublic class Ingredient extends AbstractEntity{\n\n    @ManyToOne(targetEntity = Recipe.class,\n            fetch = FetchType.LAZY,\n            cascade = {CascadeType.MERGE, CascadeType.REMOVE})\n    @NotNull(message = &quot;Please include ingredients&quot;)\n    private Recipe recipe;\n\n    @Id\n    @GeneratedValue\n    private int id;\n\n    private String ingredient;\n\n    public Ingredient(String ingredient) {\n        this.ingredient = ingredient;\n    }\n\n    public String getIngredient() {\n        return ingredient;\n    }\n\n    public void setIngredient(String ingredient) {\n        this.ingredient = ingredient;\n    }\n\n}\n</code></pre>\n<p>The Recipe Class is here:</p>\n<pre><code>@Entity\npublic class Recipe extends AbstractEntity {\n\n   private String name;\n\n   @OneToMany(mappedBy = &quot;recipe&quot;)\n   @NotNull(message = &quot;Ingredients required&quot;)\n   private List&lt;Ingredient&gt; ingredients = new ArrayList&lt;Ingredient&gt;();\n\n   private String directions;\n\n   @OneToMany(mappedBy = &quot;recipe&quot;)\n   private List&lt;Instruction&gt; instructions = new ArrayList&lt;Instruction&gt;();\n\n   @NotNull(message = &quot;Category required&quot;)\n   private Category category;\n\n   private Tag tag;\n\n   private String img;\n\n   @OneToMany(mappedBy = &quot;recipe&quot;, cascade = {CascadeType.MERGE, CascadeType.REMOVE})\n   @NotNull(message = &quot;User is required&quot;)\n   private List&lt;UserRecipe&gt; users = new ArrayList&lt;&gt;();\n\n   public Recipe() {\n   }\n\n   public String getName() {\n      return name;\n   }\n\n   public void setName(String name) {\n      this.name = name;\n   }\n\n\n   public Category getCategory() {\n      return category;\n   }\n\n   public void setCategory(Category category) {\n      this.category = category;\n   }\n\n   public List&lt;UserRecipe&gt; getUsers() {\n      return users;\n   }\n\n   public void setUsers(List&lt;UserRecipe&gt; users) {\n      this.users = users;\n   }\n\n   public String getImg() {\n      return img;\n   }\n\n   public void setImg(String img) {\n      this.img = img;\n   }\n\n\n   public List&lt;Ingredient&gt; getIngredients() {\n      return ingredients;\n   }\n\n   public void setIngredients(List&lt;Ingredient&gt; ingredients) {\n      this.ingredients = ingredients;\n   }\n\n   public String getDirections() {\n      return directions;\n   }\n\n   public void setDirections(String directions) {\n      this.directions = directions;\n   }\n\n   public Tag getTag() {\n      return tag;\n   }\n\n   public void setTag(Tag tag) {\n      this.tag = tag;\n   }\n\n   public List&lt;Instruction&gt; getInstructions() {\n      return instructions;\n   }\n\n   public void setInstructions(List&lt;Instruction&gt; instructions) {\n      this.instructions = instructions;\n   }\n}\n</code></pre>\n<p>RecipeController is here:</p>\n<pre><code>@PostMapping(&quot;create&quot;)\n   public String createRecipe(HttpServletRequest request, @ModelAttribute Recipe newRecipe,\n                              @ModelAttribute @Valid String newCategory,\n                              Errors errors, Model model, RedirectAttributes redirectAttrs) {\n\n      if (errors.hasErrors()) {\n         model.addAttribute(&quot;title&quot;, &quot;Create Recipe&quot;);\n         return &quot;recipes/create&quot;;\n      }\n\n      String[] ingredients = request.getParameterValues(&quot;ingredient&quot;);\n\n      List&lt;Ingredient&gt; ingredientsList = new ArrayList&lt;Ingredient&gt;();\n\n      for (int i = 0; i &lt; ingredients.length; i++) {\n         Ingredient newIngredient = new Ingredient(ingredients[i]);\n         ingredientsList.add(newIngredient);\n      }\n      newRecipe.setIngredients(ingredientsList);\n      \n      // THIS PRINTS AN ARRAY OF THE NUMBER OF INGREDIENTS ADDED\n      System.out.println(ingredientsList.toString());\n\n      // HERE IS WHERE MY ERROR HAPPENS\n      Recipe recipe = recipeRepository.save(newRecipe);\n      redirectAttrs.addAttribute(&quot;recipeId&quot;, recipe.getId());\n\n      return &quot;redirect:/recipes/display&quot;;\n   }\n</code></pre>\n<p>My thought here is that I'm somehow not mapping the ingredients list correctly to the recipe, but I can't figure this one out and after 3 days of googling and troubleshooting here I am. Any help would be greatly appreciated. Thanks in advance!</p>\n"},{"tags":["java","annotations","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674308731,"post_id":75190727,"comment_id":132689369,"body_markdown":"Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674309075,"creation_date":1674309075,"answer_id":75193828,"question_id":75190727,"body_markdown":"Your question is not very specific. For example, do you wish to intercept\r\n  1. any read/write field access (from inside getters or elsewhere in the code),\r\n  2. getter/setter execution in general,\r\n  3. read/write field access, but only directly from within getter/setter methods,\r\n  4. read/write field access from within getter/setter methods including (helper) methods called by getters/setters,\r\n  5. something else?\r\n\r\nI am going to assume option 1.\r\n\r\nI also have no idea what\r\n```java\r\n// do stuff related to get\r\n```\r\nis supposed to mean. What exactly that &quot;stuff&quot; is, determines what kind of advice (before, after, around) you should use and how to implement that advice. Henceforth, I am going to assume you simply want to log that the field read/write access happened, not logging any field values as such. If you need anything more sophisticated, I have no idea, because you just call it &quot;stuff&quot;.\r\n\r\nSo here is a simple [MCVE](https://stackoverflow.com/help/mcve):\r\n\r\n```java\r\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\r\nimport java.lang.annotation.Retention;\r\n\r\n@Retention(RUNTIME)\r\npublic @interface Monitor { }\r\n```\r\n\r\n```java\r\npublic class Point {\r\n  @Monitor\r\n  private int x;\r\n\r\n  public int getX() { return x; }\r\n  public void setX(int v) { x = v; }\r\n\r\n  public static void main(String[] args) {\r\n    Point p = new Point();\r\n    // Indirect read/write access using setter/getter\r\n    p.setX(11);\r\n    System.out.println(p.getX());\r\n\r\n    // Direct read/write access\r\n    p.x = 22;\r\n    System.out.println(p.x);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\nimport org.aspectj.lang.JoinPoint.EnclosingStaticPart;\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\n\r\n@Aspect\r\nclass MonitorAspect {\r\n  @Around(&quot;get(@Monitor * *)&quot;)\r\n  public Object actionOnGet(ProceedingJoinPoint jp, EnclosingStaticPart enclosingStaticPart) throws Throwable {\r\n    System.out.println(jp + &quot;, enclosed by &quot; + enclosingStaticPart);\r\n    return jp.proceed();\r\n  }\r\n\r\n  @Around(&quot;set(@Monitor * *)&quot;)\r\n  public Object actionOnSet(ProceedingJoinPoint jp, EnclosingStaticPart enclosingStaticPart) throws Throwable {\r\n    System.out.println(jp + &quot;, enclosed by &quot; + enclosingStaticPart);\r\n    return jp.proceed();\r\n  }\r\n}\r\n```\r\n\r\nWhen running the program, the console log says:\r\n\r\n```none\r\nset(int Point.x), enclosed by execution(void Point.setX(int))\r\nget(int Point.x), enclosed by execution(int Point.getX())\r\n11\r\nset(int Point.x), enclosed by execution(void Point.main(String[]))\r\nget(int Point.x), enclosed by execution(void Point.main(String[]))\r\n22\r\n```\r\n","title":"Annotation on member and Aspectj","body":"<p>Your question is not very specific. For example, do you wish to intercept</p>\n<ol>\n<li>any read/write field access (from inside getters or elsewhere in the code),</li>\n<li>getter/setter execution in general,</li>\n<li>read/write field access, but only directly from within getter/setter methods,</li>\n<li>read/write field access from within getter/setter methods including (helper) methods called by getters/setters,</li>\n<li>something else?</li>\n</ol>\n<p>I am going to assume option 1.</p>\n<p>I also have no idea what</p>\n<pre class=\"lang-java prettyprint-override\"><code>// do stuff related to get\n</code></pre>\n<p>is supposed to mean. What exactly that &quot;stuff&quot; is, determines what kind of advice (before, after, around) you should use and how to implement that advice. Henceforth, I am going to assume you simply want to log that the field read/write access happened, not logging any field values as such. If you need anything more sophisticated, I have no idea, because you just call it &quot;stuff&quot;.</p>\n<p>So here is a simple <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.lang.annotation.RetentionPolicy.RUNTIME;\nimport java.lang.annotation.Retention;\n\n@Retention(RUNTIME)\npublic @interface Monitor { }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Point {\n  @Monitor\n  private int x;\n\n  public int getX() { return x; }\n  public void setX(int v) { x = v; }\n\n  public static void main(String[] args) {\n    Point p = new Point();\n    // Indirect read/write access using setter/getter\n    p.setX(11);\n    System.out.println(p.getX());\n\n    // Direct read/write access\n    p.x = 22;\n    System.out.println(p.x);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import org.aspectj.lang.JoinPoint.EnclosingStaticPart;\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\n\n@Aspect\nclass MonitorAspect {\n  @Around(&quot;get(@Monitor * *)&quot;)\n  public Object actionOnGet(ProceedingJoinPoint jp, EnclosingStaticPart enclosingStaticPart) throws Throwable {\n    System.out.println(jp + &quot;, enclosed by &quot; + enclosingStaticPart);\n    return jp.proceed();\n  }\n\n  @Around(&quot;set(@Monitor * *)&quot;)\n  public Object actionOnSet(ProceedingJoinPoint jp, EnclosingStaticPart enclosingStaticPart) throws Throwable {\n    System.out.println(jp + &quot;, enclosed by &quot; + enclosingStaticPart);\n    return jp.proceed();\n  }\n}\n</code></pre>\n<p>When running the program, the console log says:</p>\n<pre class=\"lang-none prettyprint-override\"><code>set(int Point.x), enclosed by execution(void Point.setX(int))\nget(int Point.x), enclosed by execution(int Point.getX())\n11\nset(int Point.x), enclosed by execution(void Point.main(String[]))\nget(int Point.x), enclosed by execution(void Point.main(String[]))\n22\n</code></pre>\n"}],"owner":{"account_id":22567698,"reputation":17,"user_id":16754423,"display_name":"bkqdad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75193828,"answer_count":1,"score":0,"last_activity_date":1674309075,"creation_date":1674266091,"question_id":75190727,"body_markdown":"I would like to be able to annotate a member of my class and then set up Around pointcuts which trigger on its get and set methods.  Rough example:\r\n```\r\npublic class Point {\r\n   @Monitor\r\n   private int x;\r\n\r\n   public int getX() { return x;}\r\n   public void setX(int v) {x = v; }\r\n}\r\n```\r\n\r\n```\r\n@Aspect\r\npublic class MonitorAspect {\r\n   @Around(&quot;annotation(Monitor) &amp;&amp; ???)\r\n   public void actionOnGet(ProceedingJoinPoint jp) {\r\n      // do stuff related to get\r\n   }\r\n\r\n   @Around(&quot;annotation(Monitor) &amp;&amp; ???)\r\n   public void actionOnSet(ProceedingJoinPoint jp) {\r\n      // do stuff related to set\r\n   }\r\n}\r\n```\r\n\r\nIs that possible?\r\nThanks for any info.","title":"Annotation on member and Aspectj","body":"<p>I would like to be able to annotate a member of my class and then set up Around pointcuts which trigger on its get and set methods.  Rough example:</p>\n<pre><code>public class Point {\n   @Monitor\n   private int x;\n\n   public int getX() { return x;}\n   public void setX(int v) {x = v; }\n}\n</code></pre>\n<pre><code>@Aspect\npublic class MonitorAspect {\n   @Around(&quot;annotation(Monitor) &amp;&amp; ???)\n   public void actionOnGet(ProceedingJoinPoint jp) {\n      // do stuff related to get\n   }\n\n   @Around(&quot;annotation(Monitor) &amp;&amp; ???)\n   public void actionOnSet(ProceedingJoinPoint jp) {\n      // do stuff related to set\n   }\n}\n</code></pre>\n<p>Is that possible?\nThanks for any info.</p>\n"},{"tags":["java","excel-formula","apache-poi","cell","worksheet"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1674139609,"post_id":75173045,"comment_id":132654721,"body_markdown":"Not clear what you are trying to achieve. A `CellReference` is a reference to **one** cell. So `org.apache.poi.ss.util.CellReference cellReference = new org.apache.poi.ss.util.CellReference(&quot;&#39;Another Calc&#39;!$A10&quot;);` should work. There is `AreaReference` to reference a cell range. So `org.apache.poi.ss.util.AreaReference areaReference = new org.apache.poi.ss.util.AreaReference(&quot;&#39;1 - Sheet&#39;!$P:$P&quot;, org.apache.poi.ss.SpreadsheetVersion.EXCEL2007);` should work too. Please clarify your question.","body":"Not clear what you are trying to achieve. A <code>CellReference</code> is a reference to <b>one</b> cell. So <code>org.apache.poi.ss.util.CellReference cellReference = new org.apache.poi.ss.util.CellReference(&quot;&#39;Another Calc&#39;!$A10&quot;);</code> should work. There is <code>AreaReference</code> to reference a cell range. So <code>org.apache.poi.ss.util.AreaReference areaReference = new org.apache.poi.ss.util.AreaReference(&quot;&#39;1 - Sheet&#39;!$P:$P&quot;, org.apache.poi.ss.SpreadsheetVersion.EXCEL2007);</code> should work too. Please clarify your question."},{"owner":{"account_id":27572780,"reputation":1,"user_id":21043638,"display_name":"viniciuspinatti"},"score":0,"creation_date":1674144554,"post_id":75173045,"comment_id":132656579,"body_markdown":"Gotcha what you mean. So there&#39;s no problem with how Apache POI handle the formula, but how is the formula is passing to CellReference constructor. Sorry about my confusion.","body":"Gotcha what you mean. So there&#39;s no problem with how Apache POI handle the formula, but how is the formula is passing to CellReference constructor. Sorry about my confusion."}],"answers":[{"tags":[],"owner":{"account_id":27572780,"reputation":1,"user_id":21043638,"display_name":"viniciuspinatti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674308308,"creation_date":1674144747,"answer_id":75175166,"question_id":75173045,"body_markdown":"The [comment][1] from [Alex Richter][2] showed to me the problem was in how the formula was being passed to the `CellReference` constructor. I need change this, and Apache POI will work correctly.\r\n\r\n&gt;A `CellReference` is a reference to _one_ cell, so this should work:\r\n\r\n```\r\nvar cellReference = new\r\n    org.apache.poi.ss.util.CellReference(\r\n        &quot;&#39;Another Calc&#39;!$A10&quot;);\r\n```\r\n\r\n&gt;Alternatively, there is `AreaReference` to reference a cell _range_, so this should work too:\r\n\r\n```\r\nvar areaReference = new\r\n    org.apache.poi.ss.util.AreaReference(\r\n        &quot;&#39;1 - Sheet&#39;!$P:$P&quot;, org.apache.poi.ss\r\n            .SpreadsheetVersion.EXCEL2007);\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/75173045/is-apache-poi-cellreference-able-to-handle-multiple-another-tab-sheets-in-the-sa#comment132654721_75173045\r\n  [2]: https://stackoverflow.com/users/3915431/axel-richter","title":"Is Apache POI CellReference able to handle multiple another tab sheets in the same formula?","body":"<p>The <a href=\"https://stackoverflow.com/questions/75173045/is-apache-poi-cellreference-able-to-handle-multiple-another-tab-sheets-in-the-sa#comment132654721_75173045\">comment</a> from <a href=\"https://stackoverflow.com/users/3915431/axel-richter\">Alex Richter</a> showed to me the problem was in how the formula was being passed to the <code>CellReference</code> constructor. I need change this, and Apache POI will work correctly.</p>\n<blockquote>\n<p>A <code>CellReference</code> is a reference to <em>one</em> cell, so this should work:</p>\n</blockquote>\n<pre><code>var cellReference = new\n    org.apache.poi.ss.util.CellReference(\n        &quot;'Another Calc'!$A10&quot;);\n</code></pre>\n<blockquote>\n<p>Alternatively, there is <code>AreaReference</code> to reference a cell <em>range</em>, so this should work too:</p>\n</blockquote>\n<pre><code>var areaReference = new\n    org.apache.poi.ss.util.AreaReference(\n        &quot;'1 - Sheet'!$P:$P&quot;, org.apache.poi.ss\n            .SpreadsheetVersion.EXCEL2007);\n</code></pre>\n"}],"owner":{"account_id":27572780,"reputation":1,"user_id":21043638,"display_name":"viniciuspinatti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75175166,"answer_count":1,"score":0,"last_activity_date":1674308308,"creation_date":1674135237,"question_id":75173045,"body_markdown":"I have a cell formula that references multiple sheets\r\n`(&#39;1 - Sheet&#39;!$P:$P,&#39;1 - Sheet&#39;!$E:$E,&#39;Another Calc&#39;!$A10)`\r\nWhen I try to instantiate a new CellReference object with my formula, Apache POI throws a error **Bad sheet name quote escaping** from *parseSheetName* method inside CellReference. This happens because the formula has multiple quotes and the method not handle this appropriately. Is there another way that CellReference can handle it or some kind of workaround to force CellReference handle appropriately?\r\n\r\nI&#39;ve already done some research on but the all scenarios that I found were always with just a single reference in formula to another sheet and in this case the Apache POI works correctly.","title":"Is Apache POI CellReference able to handle multiple another tab sheets in the same formula?","body":"<p>I have a cell formula that references multiple sheets\n<code>('1 - Sheet'!$P:$P,'1 - Sheet'!$E:$E,'Another Calc'!$A10)</code>\nWhen I try to instantiate a new CellReference object with my formula, Apache POI throws a error <strong>Bad sheet name quote escaping</strong> from <em>parseSheetName</em> method inside CellReference. This happens because the formula has multiple quotes and the method not handle this appropriately. Is there another way that CellReference can handle it or some kind of workaround to force CellReference handle appropriately?</p>\n<p>I've already done some research on but the all scenarios that I found were always with just a single reference in formula to another sheet and in this case the Apache POI works correctly.</p>\n"},{"tags":["java","tomcat","java-11"],"comments":[{"owner":{"account_id":6326895,"reputation":442,"user_id":4913088,"display_name":"JensW"},"score":0,"creation_date":1557306180,"post_id":56037070,"comment_id":98716559,"body_markdown":"Version 52.00 stands for Java 8 I think, so somewhere you&#39;re using a JRE 1.8 I think. Check if project menu &gt; properties &gt; java compiler &gt; Compiler and compliance level show 1.11 or 1.8","body":"Version 52.00 stands for Java 8 I think, so somewhere you&#39;re using a JRE 1.8 I think. Check if project menu &gt; properties &gt; java compiler &gt; Compiler and compliance level show 1.11 or 1.8"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1557306554,"post_id":56037070,"comment_id":98716758,"body_markdown":"The simplest answer is that Tomcat is running on Java 8.","body":"The simplest answer is that Tomcat is running on Java 8."},{"owner":{"account_id":15895096,"reputation":21,"user_id":11469078,"display_name":"el-amigo_loco"},"score":0,"creation_date":1557307050,"post_id":56037070,"comment_id":98717048,"body_markdown":"yes you&#39;re right tomcat was still using java1.8. I changed my JAVA_HOME to the new version Thank you","body":"yes you&#39;re right tomcat was still using java1.8. I changed my JAVA_HOME to the new version Thank you"}],"answers":[{"tags":[],"owner":{"account_id":1326560,"reputation":2671,"user_id":1271255,"display_name":"minus"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1557307093,"creation_date":1557307093,"answer_id":56037368,"question_id":56037070,"body_markdown":"The problem is not tomcat but the JVM which runs tomcat.\r\n\r\nI don&#39;t know how you start tomcat, but you should start it with a JDK 11.\r\n\r\nIf you use eclipse you should check the _Server Runtime_. \r\n\r\nFor other IDEs or starting it from OS directly (as an application or a service or whatever), you should check the JAVA_HOME and the PATH.\r\n\r\n","title":"Java Runtime only recognizes class file versions up to 52.0 even when java 11 is installed","body":"<p>The problem is not tomcat but the JVM which runs tomcat.</p>\n\n<p>I don't know how you start tomcat, but you should start it with a JDK 11.</p>\n\n<p>If you use eclipse you should check the <em>Server Runtime</em>. </p>\n\n<p>For other IDEs or starting it from OS directly (as an application or a service or whatever), you should check the JAVA_HOME and the PATH.</p>\n"},{"tags":[],"owner":{"account_id":12858978,"reputation":231,"user_id":9301392,"display_name":"AnushaSP07"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674307748,"creation_date":1674307748,"answer_id":75193700,"question_id":56037070,"body_markdown":"Check the version of Java it is showing in the error \r\n\r\n - 45 = Java 1.1\r\n - 46 = Java 1.2\r\n- 47 = Java 1.3\r\n- 48 = Java 1.4\r\n- 49 = Java 5\r\n- 50 = Java 6\r\n- 51 = Java 7\r\n- 52 = Java 8\r\n- 53 = Java 9\r\n- 54 = Java 10\r\n- 55 = Java 11\r\n- 56 = Java 12\r\n- 57 = Java 13\r\n\r\ninstall/download that jdk in program files/java folder \r\n\r\nin eclipse or STS right click on project -&gt; builPath -&gt; libraries -&gt; add JRE system libraries -&gt; add the version of jdk showing in the error as an alternate JRE\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gYbj0.jpg","title":"Java Runtime only recognizes class file versions up to 52.0 even when java 11 is installed","body":"<p>Check the version of Java it is showing in the error</p>\n<ul>\n<li>45 = Java 1.1</li>\n<li>46 = Java 1.2</li>\n<li>47 = Java 1.3</li>\n<li>48 = Java 1.4</li>\n<li>49 = Java 5</li>\n<li>50 = Java 6</li>\n<li>51 = Java 7</li>\n<li>52 = Java 8</li>\n<li>53 = Java 9</li>\n<li>54 = Java 10</li>\n<li>55 = Java 11</li>\n<li>56 = Java 12</li>\n<li>57 = Java 13</li>\n</ul>\n<p>install/download that jdk in program files/java folder</p>\n<p>in eclipse or STS right click on project -&gt; builPath -&gt; libraries -&gt; add JRE system libraries -&gt; add the version of jdk showing in the error as an alternate JRE</p>\n<p><a href=\"https://i.stack.imgur.com/gYbj0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gYbj0.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15895096,"reputation":21,"user_id":11469078,"display_name":"el-amigo_loco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32397,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674307748,"creation_date":1557306000,"question_id":56037070,"body_markdown":"I can&#39;t run my java servelet on my tomcat 9.0.12 server because it can&#39;t handle the class version.\r\nI get following error:\r\n\r\n```\r\nError: MyClass been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0 (unable to load class\r\n```\r\n\r\n\r\n\r\nI compiled my code with java 11:\r\n\r\n\r\n```\r\n\r\n&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;11&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n```\r\n\r\nwhen I type in : java -version in my terminal I get: \r\n\r\n```\r\njava version &quot;11.0.2&quot; 2019-01-15 LTS\r\nJava(TM) SE Runtime Environment 18.9 (build 11.0.2+9-LTS)\r\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.2+9-LTS, mixed mode)\r\n```\r\nand for javac -version \r\n\r\n```\r\njavac 11.0.2\r\n\r\n```\r\n\r\nWhy can&#39;t the Runtime handle v55.0? java 11 == v55.0?!","title":"Java Runtime only recognizes class file versions up to 52.0 even when java 11 is installed","body":"<p>I can't run my java servelet on my tomcat 9.0.12 server because it can't handle the class version.\nI get following error:</p>\n\n<pre><code>Error: MyClass been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0 (unable to load class\n</code></pre>\n\n<p>I compiled my code with java 11:</p>\n\n<pre><code>\n&lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n</code></pre>\n\n<p>when I type in : java -version in my terminal I get: </p>\n\n<pre><code>java version \"11.0.2\" 2019-01-15 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.2+9-LTS)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.2+9-LTS, mixed mode)\n</code></pre>\n\n<p>and for javac -version </p>\n\n<pre><code>javac 11.0.2\n\n</code></pre>\n\n<p>Why can't the Runtime handle v55.0? java 11 == v55.0?!</p>\n"},{"tags":["java","exception","encryption","encryption-symmetric"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":2,"creation_date":1610966183,"post_id":65772470,"comment_id":116290189,"body_markdown":"Don&#39;t generate a new key on decryption again, you need to use the one used in encryption function.","body":"Don&#39;t generate a new key on decryption again, you need to use the one used in encryption function."}],"answers":[{"tags":[],"owner":{"account_id":10013356,"reputation":76,"user_id":7405540,"display_name":"PhazorP"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610971994,"creation_date":1610965010,"answer_id":65772553,"question_id":65772470,"body_markdown":"Not a Java guy, but you need to decode from Base64 to byte array, before passing it to the cipher when you are decrypting it, not after you attempt to decrypt it.\r\n\r\nBase64 encoding is to encode byte stream into ascii characters, for transmission purposes. On the receiving end of the transmissiong you need to first convert from base64 encoding to byte stream again.\r\n\r\nAnd after decrypt, you will have to convert the decrypted byte array into string.\r\n\r\nIn summary, decryption has to undo the steps of your encryption method.\r\n\r\nEncryption Method:\r\n\r\n- From string to plain byte array via UTf8 \r\n- Plain byte array to encrypted byte array via cipher\r\n- Encrypted byte array to printable/serializable string via base64 encode\r\n\r\nDecryption method:\r\n\r\n- Printable/serialized string to encrypted byte array via base64 decode\r\n- Encrypted byte array to plain byte array via cipher\r\n- Plain byte array to string via UTF from bytes to string call.\r\n\r\nThose being said, there are some problems with your code.\r\nI was able to put together this Java sample code to demonstrate only the points I will make here. \r\n\r\n- **First DO NOT USE AES with CBC alone!!! It is vulnerable to Padding Oracle attack.** Without going into details, that means someone **can decrypt your** encrypted values **very efficiently** if your system **gives even the slightest** hint (even time difference) that an encrypted messsage is correctly padded or not. DO NOT use the code I wrote below for the same reason.\r\n- Use an Authenticated Encryption scheme or algorith. \r\n- It is better to find a reputable library that does this and use that instead of writing your own.\r\n- You need to create an IV for each encrypted message.IV&#39;s have to generated from cryptographically strong random generators. Below code tries to do that.\r\n- You send (or store) the IV with the encrypted message (cipher text). IV is not a secret.\r\n- In the below code the key is generated once as random. And then passed to encryption and decryption methods. You need to do same, create the key you will use once. And then find a secure way (a vault type structure/service) to store the key you use.\r\n- You need to consider and makes plans on what you are going to do if key somehow got compromised? Look into key expiration schemes, sliding keys etc...\r\n- In the below code, not being a Java developer I tried to do as simplest and as standard methods I could find to demonstrate. Your mileage may vary.\r\n\r\n```\r\n/*\r\nDO NOT USE THIS CODE! It is vulnerable to Padding Oracle Attack!\r\nInstead use an Authenticated Encryption scheme or algorithm.\r\nThis code is written for demonstration purpose only!! Not secure!!\r\n*/\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.charset.Charset;\r\nimport java.io.Console;\r\nimport java.security.*;\r\nimport javax.crypto.*;\r\nimport javax.crypto.spec.*;\r\nimport java.util.Base64;\r\n\r\npublic class Main {\r\n\r\n\r\npublic static String encryptDataSymmetric(String dataTobeEncrypted, SecretKey key) {\r\n    String encryptedData = null;\r\n    try {\r\n        Charset CHARSET = Charset.forName(&quot;UTF8&quot;);\r\n\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n        \r\n        SecureRandom securerandom = new SecureRandom();\r\n        byte[] ivBytes = new byte[cipher.getBlockSize()];\r\n        securerandom.nextBytes(ivBytes);\r\n        IvParameterSpec iv = new IvParameterSpec(ivBytes); \r\n        cipher.init(Cipher.ENCRYPT_MODE, key, iv);\r\n        byte[] cipherText = cipher.doFinal(dataTobeEncrypted.getBytes(CHARSET));\r\n\r\n        System.out.println(&quot;---IV----&quot; + Base64.getEncoder().encodeToString(ivBytes));\r\n        \r\n        byte[] ivAndCipherText = new byte[ivBytes.length + cipherText.length];\r\n        \r\n        System.arraycopy(ivBytes, 0, ivAndCipherText, 0, ivBytes.length);\r\n        System.arraycopy(cipherText, 0, ivAndCipherText, ivBytes.length, cipherText.length);\r\n        encryptedData = Base64.getEncoder().encodeToString(ivAndCipherText);\r\n        System.out.println(&quot;---encryptedData-----&quot; + encryptedData);\r\n    } catch (Exception ex) {\r\n        ex.printStackTrace();\r\n    }\r\n\r\n    return encryptedData;\r\n}\r\n\r\npublic static String decryptDataSymmetric(String cipherBase64Encoded, SecretKey key) {\r\n    String encryptedData = null;\r\n    try {\r\n        Charset CHARSET = Charset.forName(&quot;UTF8&quot;);\r\n         Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n        \r\n        byte[] ivAndCipherText = Base64.getDecoder().decode(cipherBase64Encoded);\r\n        \r\n        byte[] iv = new byte[cipher.getBlockSize()];\r\n        System.arraycopy(ivAndCipherText, 0, iv, 0, iv.length);\r\n\r\n        byte[] cipherText = new byte[ivAndCipherText.length - iv.length];\r\n        System.arraycopy(ivAndCipherText, iv.length, cipherText, 0, cipherText.length);\r\n        cipher.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(iv));\r\n        return new String(cipher.doFinal(cipherText),CHARSET);\r\n    } catch (Exception ex) {\r\n        ex.printStackTrace();\r\n    }\r\n\r\n    return encryptedData;\r\n}\r\n\r\n\r\n    public static void main(String args[]) {\r\n        try {\r\n            SecureRandom securerandom = new SecureRandom();\r\n            KeyGenerator keygenerator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n            keygenerator.init(192, securerandom);\r\n            SecretKey key = keygenerator.generateKey();\r\n            System.out.println(&quot;---key---&quot; + key.getEncoded());\r\n        \r\n        \r\n            String str = &quot;Hello bye&quot;;\r\n            //Console.Write(decryptDataSymmetric(encryptDataSymmetric(str)));\r\n            System.out.println(str);\r\n            String encrypted = encryptDataSymmetric(str, key);\r\n            String plainText = decryptDataSymmetric(encrypted, key);\r\n            System.out.println(&quot;plaintext: &quot; + plainText);\r\n            System.out.println(&quot;The end!&quot;);\r\n        } catch (Exception ex) {\r\n        ex.printStackTrace();\r\n    }\r\n    }\r\n}\r\n","title":"BadPaddingException while performing symmetric encryption decryption","body":"<p>Not a Java guy, but you need to decode from Base64 to byte array, before passing it to the cipher when you are decrypting it, not after you attempt to decrypt it.</p>\n<p>Base64 encoding is to encode byte stream into ascii characters, for transmission purposes. On the receiving end of the transmissiong you need to first convert from base64 encoding to byte stream again.</p>\n<p>And after decrypt, you will have to convert the decrypted byte array into string.</p>\n<p>In summary, decryption has to undo the steps of your encryption method.</p>\n<p>Encryption Method:</p>\n<ul>\n<li>From string to plain byte array via UTf8</li>\n<li>Plain byte array to encrypted byte array via cipher</li>\n<li>Encrypted byte array to printable/serializable string via base64 encode</li>\n</ul>\n<p>Decryption method:</p>\n<ul>\n<li>Printable/serialized string to encrypted byte array via base64 decode</li>\n<li>Encrypted byte array to plain byte array via cipher</li>\n<li>Plain byte array to string via UTF from bytes to string call.</li>\n</ul>\n<p>Those being said, there are some problems with your code.\nI was able to put together this Java sample code to demonstrate only the points I will make here.</p>\n<ul>\n<li><strong>First DO NOT USE AES with CBC alone!!! It is vulnerable to Padding Oracle attack.</strong> Without going into details, that means someone <strong>can decrypt your</strong> encrypted values <strong>very efficiently</strong> if your system <strong>gives even the slightest</strong> hint (even time difference) that an encrypted messsage is correctly padded or not. DO NOT use the code I wrote below for the same reason.</li>\n<li>Use an Authenticated Encryption scheme or algorith.</li>\n<li>It is better to find a reputable library that does this and use that instead of writing your own.</li>\n<li>You need to create an IV for each encrypted message.IV's have to generated from cryptographically strong random generators. Below code tries to do that.</li>\n<li>You send (or store) the IV with the encrypted message (cipher text). IV is not a secret.</li>\n<li>In the below code the key is generated once as random. And then passed to encryption and decryption methods. You need to do same, create the key you will use once. And then find a secure way (a vault type structure/service) to store the key you use.</li>\n<li>You need to consider and makes plans on what you are going to do if key somehow got compromised? Look into key expiration schemes, sliding keys etc...</li>\n<li>In the below code, not being a Java developer I tried to do as simplest and as standard methods I could find to demonstrate. Your mileage may vary.</li>\n</ul>\n<pre><code>/*\nDO NOT USE THIS CODE! It is vulnerable to Padding Oracle Attack!\nInstead use an Authenticated Encryption scheme or algorithm.\nThis code is written for demonstration purpose only!! Not secure!!\n*/\nimport java.nio.ByteBuffer;\nimport java.nio.charset.Charset;\nimport java.io.Console;\nimport java.security.*;\nimport javax.crypto.*;\nimport javax.crypto.spec.*;\nimport java.util.Base64;\n\npublic class Main {\n\n\npublic static String encryptDataSymmetric(String dataTobeEncrypted, SecretKey key) {\n    String encryptedData = null;\n    try {\n        Charset CHARSET = Charset.forName(&quot;UTF8&quot;);\n\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n        \n        SecureRandom securerandom = new SecureRandom();\n        byte[] ivBytes = new byte[cipher.getBlockSize()];\n        securerandom.nextBytes(ivBytes);\n        IvParameterSpec iv = new IvParameterSpec(ivBytes); \n        cipher.init(Cipher.ENCRYPT_MODE, key, iv);\n        byte[] cipherText = cipher.doFinal(dataTobeEncrypted.getBytes(CHARSET));\n\n        System.out.println(&quot;---IV----&quot; + Base64.getEncoder().encodeToString(ivBytes));\n        \n        byte[] ivAndCipherText = new byte[ivBytes.length + cipherText.length];\n        \n        System.arraycopy(ivBytes, 0, ivAndCipherText, 0, ivBytes.length);\n        System.arraycopy(cipherText, 0, ivAndCipherText, ivBytes.length, cipherText.length);\n        encryptedData = Base64.getEncoder().encodeToString(ivAndCipherText);\n        System.out.println(&quot;---encryptedData-----&quot; + encryptedData);\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n\n    return encryptedData;\n}\n\npublic static String decryptDataSymmetric(String cipherBase64Encoded, SecretKey key) {\n    String encryptedData = null;\n    try {\n        Charset CHARSET = Charset.forName(&quot;UTF8&quot;);\n         Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n        \n        byte[] ivAndCipherText = Base64.getDecoder().decode(cipherBase64Encoded);\n        \n        byte[] iv = new byte[cipher.getBlockSize()];\n        System.arraycopy(ivAndCipherText, 0, iv, 0, iv.length);\n\n        byte[] cipherText = new byte[ivAndCipherText.length - iv.length];\n        System.arraycopy(ivAndCipherText, iv.length, cipherText, 0, cipherText.length);\n        cipher.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(iv));\n        return new String(cipher.doFinal(cipherText),CHARSET);\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n\n    return encryptedData;\n}\n\n\n    public static void main(String args[]) {\n        try {\n            SecureRandom securerandom = new SecureRandom();\n            KeyGenerator keygenerator = KeyGenerator.getInstance(&quot;AES&quot;);\n            keygenerator.init(192, securerandom);\n            SecretKey key = keygenerator.generateKey();\n            System.out.println(&quot;---key---&quot; + key.getEncoded());\n        \n        \n            String str = &quot;Hello bye&quot;;\n            //Console.Write(decryptDataSymmetric(encryptDataSymmetric(str)));\n            System.out.println(str);\n            String encrypted = encryptDataSymmetric(str, key);\n            String plainText = decryptDataSymmetric(encrypted, key);\n            System.out.println(&quot;plaintext: &quot; + plainText);\n            System.out.println(&quot;The end!&quot;);\n        } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20554915,"reputation":71,"user_id":15086737,"display_name":"Gary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611968587,"creation_date":1611968587,"answer_id":65963652,"question_id":65772470,"body_markdown":"Got to agree with PhazorP&#39;s comments above.\r\n\r\n - DO NOT USE AES with CBC alone\r\n - Use an Authenticated Encryption scheme or algorith.\r\n\r\nI encourage you to use an authenticated encryption algorithm. Here is a short blog [article][1] I wrote a while ago that may help.\r\n\r\nHere is some [java][2] code as well for AES-GCM if you want to take a look.\r\n\r\n\r\n  [1]: https://www.ubiqsecurity.com/blog/understanding-authenticated-encryption-an-explainer\r\n  [2]: https://gitlab.com/ubiqsecurity/ubiq-java","title":"BadPaddingException while performing symmetric encryption decryption","body":"<p>Got to agree with PhazorP's comments above.</p>\n<ul>\n<li>DO NOT USE AES with CBC alone</li>\n<li>Use an Authenticated Encryption scheme or algorith.</li>\n</ul>\n<p>I encourage you to use an authenticated encryption algorithm. Here is a short blog <a href=\"https://www.ubiqsecurity.com/blog/understanding-authenticated-encryption-an-explainer\" rel=\"nofollow noreferrer\">article</a> I wrote a while ago that may help.</p>\n<p>Here is some <a href=\"https://gitlab.com/ubiqsecurity/ubiq-java\" rel=\"nofollow noreferrer\">java</a> code as well for AES-GCM if you want to take a look.</p>\n"}],"owner":{"account_id":2595382,"reputation":723,"user_id":2249207,"accept_rate":100,"display_name":"DAIRAV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674306554,"creation_date":1610964706,"question_id":65772470,"body_markdown":"\r\nAm getting exception while doing decryption as per the below logic. Please suggest me any issue in the below code snippet. Encryption is fine and able to encrypt.\r\n\r\n    public String encryptDataSymmetric(String dataTobeEncrypted) {\r\n\t\tString encryptedData = null;\r\n\t\ttry {\r\n\t\t\tCharset CHARSET = Charset.forName(&quot;UTF8&quot;);\r\n\t\t\tSecurity.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n\t\t\tSecureRandom securerandom = new SecureRandom();\r\n\t\t\tKeyGenerator keygenerator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n\t\t\tkeygenerator.init(192, securerandom);\r\n\t\t\tSecretKey key = keygenerator.generateKey();\r\n\t\t\tCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;);\r\n\t\t\t// cipher.init(Cipher.ENCRYPT_MODE, key, ivspec);\r\n\t\t\tcipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(new byte[cipher.getBlockSize()]));\r\n\t\t\tencryptedData = DatatypeConverter.printBase64Binary(cipher.doFinal(dataTobeEncrypted.getBytes(CHARSET)))\r\n\t\t\t\t\t.trim();\r\n\t\t\tSystem.out.println(&quot;---encryptedData-----&quot; + encryptedData);\r\n\t\t} catch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn encryptedData;\r\n\t}\r\n\r\n\tpublic String decryptDataSymmetric(String dataTobeDecrypted) {\r\n\t\tString decryptedData = null;\r\n\t\ttry {\r\n\t\t\tCharset CHARSET = Charset.forName(&quot;UTF8&quot;);\r\n\t\t\tSecurity.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n\t\t\tSecureRandom securerandom = new SecureRandom();\r\n\t\t\tKeyGenerator keygenerator = KeyGenerator.getInstance(&quot;AES&quot;);\r\n\t\t\tkeygenerator.init(192, securerandom);\r\n\t\t\tSecretKey key = keygenerator.generateKey();\r\n\t\t\tCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;);\r\n\t\t\tcipher.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(new byte[cipher.getBlockSize()]));\r\n\t\t\tdecryptedData = new String(\r\n\t\t\t\t\tDatatypeConverter.parseBase64Binary(new String(cipher.doFinal(dataTobeDecrypted.getBytes()))));\r\n\t\t\tSystem.out.println(&quot;---decryptedData----&quot; + decryptedData);\r\n\t\t} catch (Exception ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t\treturn decryptedData;\r\n\t}\r\n\r\n\r\n&gt; javax.crypto.BadPaddingException: pad block corrupted \tat\r\n&gt; org.bouncycastle.jce.provider.JCEBlockCipher.engineDoFinal(Unknown\r\n&gt; Source)","title":"BadPaddingException while performing symmetric encryption decryption","body":"<p>Am getting exception while doing decryption as per the below logic. Please suggest me any issue in the below code snippet. Encryption is fine and able to encrypt.</p>\n<pre><code>public String encryptDataSymmetric(String dataTobeEncrypted) {\n    String encryptedData = null;\n    try {\n        Charset CHARSET = Charset.forName(&quot;UTF8&quot;);\n        Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n        SecureRandom securerandom = new SecureRandom();\n        KeyGenerator keygenerator = KeyGenerator.getInstance(&quot;AES&quot;);\n        keygenerator.init(192, securerandom);\n        SecretKey key = keygenerator.generateKey();\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;);\n        // cipher.init(Cipher.ENCRYPT_MODE, key, ivspec);\n        cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(new byte[cipher.getBlockSize()]));\n        encryptedData = DatatypeConverter.printBase64Binary(cipher.doFinal(dataTobeEncrypted.getBytes(CHARSET)))\n                .trim();\n        System.out.println(&quot;---encryptedData-----&quot; + encryptedData);\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n\n    return encryptedData;\n}\n\npublic String decryptDataSymmetric(String dataTobeDecrypted) {\n    String decryptedData = null;\n    try {\n        Charset CHARSET = Charset.forName(&quot;UTF8&quot;);\n        Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n        SecureRandom securerandom = new SecureRandom();\n        KeyGenerator keygenerator = KeyGenerator.getInstance(&quot;AES&quot;);\n        keygenerator.init(192, securerandom);\n        SecretKey key = keygenerator.generateKey();\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;);\n        cipher.init(Cipher.DECRYPT_MODE, key, new IvParameterSpec(new byte[cipher.getBlockSize()]));\n        decryptedData = new String(\n                DatatypeConverter.parseBase64Binary(new String(cipher.doFinal(dataTobeDecrypted.getBytes()))));\n        System.out.println(&quot;---decryptedData----&quot; + decryptedData);\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n    return decryptedData;\n}\n</code></pre>\n<blockquote>\n<p>javax.crypto.BadPaddingException: pad block corrupted     at\norg.bouncycastle.jce.provider.JCEBlockCipher.engineDoFinal(Unknown\nSource)</p>\n</blockquote>\n"},{"tags":["java","azure","function","azure-functions"],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674305672,"creation_date":1674304217,"answer_id":75193312,"question_id":75186418,"body_markdown":"Not Sure, if you have written your `local.settings.json` configuration will be in the format of `key = value` or just mentioned in the question.  \r\nThe format of `local.settings.json` configuration to any Azure Function will be `&quot;key&quot;:&quot;value&quot;`:\r\n\r\n![enter image description here](https://i.stack.imgur.com/6Fbl8.png)\r\n\r\n```json\r\n{\r\n\r\n&quot;IsEncrypted&quot;: false,\r\n&quot;Values&quot;: {\r\n&quot;AzureWebJobsStorage&quot;: &quot;DefaultEndpointsProtocol=https;AccountName=pravustorageac88;AccountKey=&lt;alpha-numeric-symbolic_access_key&gt;;EndpointSuffix=core.windows.net&quot;,\r\n&quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;java&quot;,\r\n&quot;MAIN_CLASS&quot;:&quot;com.example.DemoApplication&quot;,\r\n&quot;AzureWebJobsDashboard&quot;: &quot;DefaultEndpointsProtocol=https;AccountName=pravustorageac88;AccountKey=&lt;alpha-numeric-symbolic_access_key&gt;;EndpointSuffix=core.windows.net&quot;\r\n&quot;AzureCosmosdBConnStr&quot;:&quot;Cosmos_db_conn_str&quot;\r\n}\r\n}\r\n\r\n```\r\n\r\nIf you are using Cosmos DB Connection string, then you have to configure in such a way:\r\n\r\n```java\r\npublic  HttpResponseMessage  execute(\r\n@HttpTrigger(name = &quot;request&quot;, methods = {HttpMethod.GET, HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS) HttpRequestMessage&lt;Optional&lt;User&gt;&gt; request,\r\n@CosmosDBOutput(name=&quot;database&quot;, databaseName = &quot;db_name&quot;, collectionName = &quot;collection_name&quot;, connectionStringSetting = &quot;AzureCosmosDBConnection&quot;)\r\nExecutionContext  context)\r\n\r\n```\r\n\r\nMake Sure the cosmos database connection string present in the `local.settigns.json` file should be published to Azure Function App Configuration Menu &gt; Application Settings.  \r\nFor that either uncomment `local.settings.json` from `.gitignore` file or add the configuration settings manually to the Azure Function App Configuration:\r\n\r\n![enter image description here](https://i.stack.imgur.com/qPI4g.png)\r\n\r\nI have uncommented the `local.settings.json` in `.gitignore` file and then published to Azure Function App as the cosmos database connection string also updated in the configuration:\r\n\r\n![enter image description here](https://i.stack.imgur.com/bwF8k.png)\r\n\r\n**Note**:\r\n\r\n1.  _If you have a proxy in the system, then you have to add the proxy settings in `func.exe` configuration file, given [here](https://stackoverflow.com/a/46394678) by @_p31415926__\r\n2.  *In two of the ways, you can configure the Cosmos DB Connection in the Azure Function Java Stack: [Bindings](https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-cosmosdb-v2?tabs=in-process,extensionv4&amp;pivots=programming-language-java) (as code given above) and using the SDK given in this [MS Doc](https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-cosmosdb-v2-output?tabs=in-process,functionsv2&amp;pivots=programming-language-java).*","title":"Storage account connection string for &#39;AzureWebJobsAzureCosmosDBConnection&#39; is invalid","body":"<p>Not Sure, if you have written your <code>local.settings.json</code> configuration will be in the format of <code>key = value</code> or just mentioned in the question.<br />\nThe format of <code>local.settings.json</code> configuration to any Azure Function will be <code>&quot;key&quot;:&quot;value&quot;</code>:</p>\n<p><img src=\"https://i.stack.imgur.com/6Fbl8.png\" alt=\"enter image description here\" /></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n\n&quot;IsEncrypted&quot;: false,\n&quot;Values&quot;: {\n&quot;AzureWebJobsStorage&quot;: &quot;DefaultEndpointsProtocol=https;AccountName=pravustorageac88;AccountKey=&lt;alpha-numeric-symbolic_access_key&gt;;EndpointSuffix=core.windows.net&quot;,\n&quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;java&quot;,\n&quot;MAIN_CLASS&quot;:&quot;com.example.DemoApplication&quot;,\n&quot;AzureWebJobsDashboard&quot;: &quot;DefaultEndpointsProtocol=https;AccountName=pravustorageac88;AccountKey=&lt;alpha-numeric-symbolic_access_key&gt;;EndpointSuffix=core.windows.net&quot;\n&quot;AzureCosmosdBConnStr&quot;:&quot;Cosmos_db_conn_str&quot;\n}\n}\n\n</code></pre>\n<p>If you are using Cosmos DB Connection string, then you have to configure in such a way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public  HttpResponseMessage  execute(\n@HttpTrigger(name = &quot;request&quot;, methods = {HttpMethod.GET, HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS) HttpRequestMessage&lt;Optional&lt;User&gt;&gt; request,\n@CosmosDBOutput(name=&quot;database&quot;, databaseName = &quot;db_name&quot;, collectionName = &quot;collection_name&quot;, connectionStringSetting = &quot;AzureCosmosDBConnection&quot;)\nExecutionContext  context)\n\n</code></pre>\n<p>Make Sure the cosmos database connection string present in the <code>local.settigns.json</code> file should be published to Azure Function App Configuration Menu &gt; Application Settings.<br />\nFor that either uncomment <code>local.settings.json</code> from <code>.gitignore</code> file or add the configuration settings manually to the Azure Function App Configuration:</p>\n<p><img src=\"https://i.stack.imgur.com/qPI4g.png\" alt=\"enter image description here\" /></p>\n<p>I have uncommented the <code>local.settings.json</code> in <code>.gitignore</code> file and then published to Azure Function App as the cosmos database connection string also updated in the configuration:</p>\n<p><img src=\"https://i.stack.imgur.com/bwF8k.png\" alt=\"enter image description here\" /></p>\n<p><strong>Note</strong>:</p>\n<ol>\n<li><em>If you have a proxy in the system, then you have to add the proxy settings in <code>func.exe</code> configuration file, given <a href=\"https://stackoverflow.com/a/46394678\">here</a> by @<em>p31415926</em></em></li>\n<li><em>In two of the ways, you can configure the Cosmos DB Connection in the Azure Function Java Stack: <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-cosmosdb-v2?tabs=in-process,extensionv4&amp;pivots=programming-language-java\" rel=\"nofollow noreferrer\">Bindings</a> (as code given above) and using the SDK given in this <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-cosmosdb-v2-output?tabs=in-process,functionsv2&amp;pivots=programming-language-java\" rel=\"nofollow noreferrer\">MS Doc</a>.</em></li>\n</ol>\n"}],"owner":{"account_id":4605646,"reputation":51,"user_id":3735228,"display_name":"ProgrammerGirl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674305672,"creation_date":1674230210,"question_id":75186418,"body_markdown":"I have this problen when I try to run a function with BlobTrigger.\r\n\r\n```\r\nMicrosoft.Azure.WebJobs.Host: Error indexing method &#39;Functions.myFunction&#39;. Microsoft.Azure.WebJobs.Extensions.Storage:\r\nStorage account connection string for &#39;AzureWebJobsAzureCosmosDBConnection&#39; is invalid.\r\n```\r\n\r\nThe variables are:\r\n\r\n```json\r\nAzureWebJobsAzureCosmosDBConnection = AccountEndpoint=https://example.com/;AccountKey=YYYYYYYYYYY;\r\n\r\nAzureWebJobsStorage = UseDevelopmentStorage=true\r\n\r\nAzureCosmosDBConnection = AccountEndpoint=https://example.com/;AccountKey=YYYYYYYYYYY;\r\n```\r\n\r\nI don&#39;t know why this function throws exception....\r\n","title":"Storage account connection string for &#39;AzureWebJobsAzureCosmosDBConnection&#39; is invalid","body":"<p>I have this problen when I try to run a function with BlobTrigger.</p>\n<pre><code>Microsoft.Azure.WebJobs.Host: Error indexing method 'Functions.myFunction'. Microsoft.Azure.WebJobs.Extensions.Storage:\nStorage account connection string for 'AzureWebJobsAzureCosmosDBConnection' is invalid.\n</code></pre>\n<p>The variables are:</p>\n<pre class=\"lang-json prettyprint-override\"><code>AzureWebJobsAzureCosmosDBConnection = AccountEndpoint=https://example.com/;AccountKey=YYYYYYYYYYY;\n\nAzureWebJobsStorage = UseDevelopmentStorage=true\n\nAzureCosmosDBConnection = AccountEndpoint=https://example.com/;AccountKey=YYYYYYYYYYY;\n</code></pre>\n<p>I don't know why this function throws exception....</p>\n"},{"tags":["java","tomcat","jdbc"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674305465,"creation_date":1674305465,"answer_id":75193453,"question_id":75187351,"body_markdown":"The `AbstractMethodError` and its stacktrace suggests that `org.apache.tomcat.dbcp.dbcp2.DelegatingConnection.isValid` tries to call [`Connection.isValid`][1] on your actual database connection, but the version of the JDBC driver you&#39;re using doesn&#39;t implement this method. This means that you&#39;re using a JDBC 3.0 (Java 1.4/Java 5) or earlier JDBC driver, or at least one that doesn&#39;t implement methods introduced in JDBC 4.0 (Java 6).\r\n\r\nIn other words, you need to upgrade your JDBC driver to a version that does implement `Connection.isValid` and thus is JDBC 4.0 compliant (preferably even JDBC 4.2 (Java 8)), or replace your driver by a different one. Alternatively, you can configure DBCP to validate a connection using a query (the `validationQuery` [config option of DBCP][2]), but as using an old JDBC driver would likely make you run into other problems as well, I would instead recommend upgrading/replacing your JDBC driver.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html#isValid(int)\r\n  [2]: https://commons.apache.org/proper/commons-dbcp/configuration.html","title":"java.lang.AbstractMethodError for Java 8 application running on Tomcat 9","body":"<p>The <code>AbstractMethodError</code> and its stacktrace suggests that <code>org.apache.tomcat.dbcp.dbcp2.DelegatingConnection.isValid</code> tries to call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html#isValid(int)\" rel=\"nofollow noreferrer\"><code>Connection.isValid</code></a> on your actual database connection, but the version of the JDBC driver you're using doesn't implement this method. This means that you're using a JDBC 3.0 (Java 1.4/Java 5) or earlier JDBC driver, or at least one that doesn't implement methods introduced in JDBC 4.0 (Java 6).</p>\n<p>In other words, you need to upgrade your JDBC driver to a version that does implement <code>Connection.isValid</code> and thus is JDBC 4.0 compliant (preferably even JDBC 4.2 (Java 8)), or replace your driver by a different one. Alternatively, you can configure DBCP to validate a connection using a query (the <code>validationQuery</code> <a href=\"https://commons.apache.org/proper/commons-dbcp/configuration.html\" rel=\"nofollow noreferrer\">config option of DBCP</a>), but as using an old JDBC driver would likely make you run into other problems as well, I would instead recommend upgrading/replacing your JDBC driver.</p>\n"}],"owner":{"account_id":2414203,"reputation":5,"user_id":2108638,"display_name":"redds1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674422400,"accepted_answer_id":75193453,"answer_count":1,"score":0,"last_activity_date":1674305517,"creation_date":1674235228,"question_id":75187351,"body_markdown":"I am trying to upgrade a Spring application to Java 8. It works perfectly in Java 6, but gives a run time error in the newer version of Java. I am trying to deploy it on Tomcat 9.\r\n\r\nI have the following DAO class:\r\n\r\n```java\r\nMap inParams = new HashMap(8);\r\ninParams.put(&quot;p_aId&quot;, aId);\r\ninParams.put(&quot;p_bId&quot;, bId);\r\ninParams.put(&quot;p_cid&quot;, cId);\t\t\t\r\n\r\nMap result = execute(inParams);\r\n```\r\n\r\nUpon calling the execute, it calls HashMap.java and throws this error:\r\n\r\n```none\r\njava.lang.AbstractMethodError\r\n\tat org.apache.tomcat.dbcp.dbcp2.DelegatingConnection.isValid(DelegatingConnection.java:607)\r\n\tat org.apache.tomcat.dbcp.dbcp2.PoolableConnection.validate(PoolableConnection.java:379)\r\n\tat org.apache.tomcat.dbcp.dbcp2.PoolableConnectionFactory.validateConnection(PoolableConnectionFactory.java:744)\r\n\tat org.apache.tomcat.dbcp.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:114)\r\n\tat org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:649)\r\n\tat org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:532)\r\n\tat org.apache.tomcat.dbcp.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:731)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:113)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:923)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:985)\r\n\tat org.springframework.jdbc.object.StoredProcedure.execute(StoredProcedure.java:117)\t\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.restlet.ext.jaxrs.internal.wrappers.AbstractMethodWrapper.internalInvoke(AbstractMethodWrapper.java:164)\r\n\tat org.restlet.ext.jaxrs.internal.wrappers.ResourceMethod.invoke(ResourceMethod.java:287)\r\n\tat org.restlet.ext.jaxrs.JaxRsRestlet.invokeMethod(JaxRsRestlet.java:708)\r\n\tat org.restlet.ext.jaxrs.JaxRsRestlet.handle(JaxRsRestlet.java:452)\r\n\tat org.restlet.Filter.doHandle(Filter.java:150)\r\n\tat org.restlet.Filter.handle(Filter.java:195)\r\n\tat org.restlet.Filter.doHandle(Filter.java:150)\r\n\tat org.restlet.Filter.handle(Filter.java:195)\r\n\tat org.restlet.Filter.doHandle(Filter.java:150)\r\n\tat org.restlet.Filter.handle(Filter.java:195)\r\n\tat org.restlet.Filter.doHandle(Filter.java:150)\r\n\tat com.noelios.restlet.StatusFilter.doHandle(StatusFilter.java:130)\r\n\tat org.restlet.Filter.handle(Filter.java:195)    \r\n\tat org.restlet.Filter.handle(Filter.java:195)\r\n\tat org.restlet.Router.handle(Router.java:502)\r\n\tat org.restlet.Filter.doHandle(Filter.java:150)\r\n\tat org.restlet.Filter.handle(Filter.java:195)\r\n\tat com.noelios.restlet.ChainHelper.handle(ChainHelper.java:124)\r\n\tat org.restlet.Component.handle(Component.java:888)\r\n\tat org.restlet.Server.handle(Server.java:331)\r\n\tat com.noelios.restlet.ServerHelper.handle(ServerHelper.java:68)\r\n\tat com.noelios.restlet.http.HttpServerHelper.handle(HttpServerHelper.java:147)\r\n\tat com.noelios.restlet.ext.servlet.ServerServlet.service(ServerServlet.java:790)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748\r\n```\r\n\r\nThe same code works fine in Java 6.","title":"java.lang.AbstractMethodError for Java 8 application running on Tomcat 9","body":"<p>I am trying to upgrade a Spring application to Java 8. It works perfectly in Java 6, but gives a run time error in the newer version of Java. I am trying to deploy it on Tomcat 9.</p>\n<p>I have the following DAO class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map inParams = new HashMap(8);\ninParams.put(&quot;p_aId&quot;, aId);\ninParams.put(&quot;p_bId&quot;, bId);\ninParams.put(&quot;p_cid&quot;, cId);         \n\nMap result = execute(inParams);\n</code></pre>\n<p>Upon calling the execute, it calls HashMap.java and throws this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.AbstractMethodError\n    at org.apache.tomcat.dbcp.dbcp2.DelegatingConnection.isValid(DelegatingConnection.java:607)\n    at org.apache.tomcat.dbcp.dbcp2.PoolableConnection.validate(PoolableConnection.java:379)\n    at org.apache.tomcat.dbcp.dbcp2.PoolableConnectionFactory.validateConnection(PoolableConnectionFactory.java:744)\n    at org.apache.tomcat.dbcp.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:114)\n    at org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:649)\n    at org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:532)\n    at org.apache.tomcat.dbcp.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:731)\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:113)\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:923)\n    at org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:985)\n    at org.springframework.jdbc.object.StoredProcedure.execute(StoredProcedure.java:117)    \n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.restlet.ext.jaxrs.internal.wrappers.AbstractMethodWrapper.internalInvoke(AbstractMethodWrapper.java:164)\n    at org.restlet.ext.jaxrs.internal.wrappers.ResourceMethod.invoke(ResourceMethod.java:287)\n    at org.restlet.ext.jaxrs.JaxRsRestlet.invokeMethod(JaxRsRestlet.java:708)\n    at org.restlet.ext.jaxrs.JaxRsRestlet.handle(JaxRsRestlet.java:452)\n    at org.restlet.Filter.doHandle(Filter.java:150)\n    at org.restlet.Filter.handle(Filter.java:195)\n    at org.restlet.Filter.doHandle(Filter.java:150)\n    at org.restlet.Filter.handle(Filter.java:195)\n    at org.restlet.Filter.doHandle(Filter.java:150)\n    at org.restlet.Filter.handle(Filter.java:195)\n    at org.restlet.Filter.doHandle(Filter.java:150)\n    at com.noelios.restlet.StatusFilter.doHandle(StatusFilter.java:130)\n    at org.restlet.Filter.handle(Filter.java:195)    \n    at org.restlet.Filter.handle(Filter.java:195)\n    at org.restlet.Router.handle(Router.java:502)\n    at org.restlet.Filter.doHandle(Filter.java:150)\n    at org.restlet.Filter.handle(Filter.java:195)\n    at com.noelios.restlet.ChainHelper.handle(ChainHelper.java:124)\n    at org.restlet.Component.handle(Component.java:888)\n    at org.restlet.Server.handle(Server.java:331)\n    at com.noelios.restlet.ServerHelper.handle(ServerHelper.java:68)\n    at com.noelios.restlet.http.HttpServerHelper.handle(HttpServerHelper.java:147)\n    at com.noelios.restlet.ext.servlet.ServerServlet.service(ServerServlet.java:790)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748\n</code></pre>\n<p>The same code works fine in Java 6.</p>\n"},{"tags":["java","firefox","selenium","focus","acceptance-testing"],"answers":[{"tags":[],"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1302548337,"creation_date":1302548337,"answer_id":5626122,"question_id":5626103,"body_markdown":"On Linux, you can start up a vncserver on a different display (say, :8 or something) and then have Selenium and your Firefox instances use that display. Works well for us where I work.","title":"How do I prevent Selenium RC from stealing window focus while my tests are running?","body":"<p>On Linux, you can start up a vncserver on a different display (say, :8 or something) and then have Selenium and your Firefox instances use that display. Works well for us where I work.</p>\n"},{"tags":[],"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1302548383,"creation_date":1302548383,"answer_id":5626136,"question_id":5626103,"body_markdown":"Run it in a [VM][1]. Has an extra benefit of ability to test under different OS and browsers.\r\n\r\nIt is my understanding that you cannot avoid stealing focus while on the same machine.\r\n\r\n  [1]: http://www.virtualbox.org/","title":"How do I prevent Selenium RC from stealing window focus while my tests are running?","body":"<p>Run it in a <a href=\"http://www.virtualbox.org/\" rel=\"noreferrer\">VM</a>. Has an extra benefit of ability to test under different OS and browsers.</p>\n\n<p>It is my understanding that you cannot avoid stealing focus while on the same machine.</p>\n"},{"tags":[],"owner":{"account_id":735400,"reputation":11,"user_id":703627,"display_name":"Venu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1302596040,"creation_date":1302596040,"answer_id":5632233,"question_id":5626103,"body_markdown":"We can&#39;t do that in the same machine. Either we need VM or we should program it in the controller level so that our script will not launch any browser to run the scripts.","title":"How do I prevent Selenium RC from stealing window focus while my tests are running?","body":"<p>We can't do that in the same machine. Either we need VM or we should program it in the controller level so that our script will not launch any browser to run the scripts.</p>\n"},{"tags":[],"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1302614791,"creation_date":1302598771,"answer_id":5632726,"question_id":5626103,"body_markdown":"We solved this problem by sharing the selenium instance between tests. Then selenium only tries to steal focus once during the entire test run, which isn&#39;t too bad.\r\n\r\nIf you&#39;re using JUnit to script Selenium, you can use Spring&#39;s `SpringJUnit4ClassRunner` to inject the selenium instance as a bean. \r\n\r\nDefine a test context for Spring `selenium.xml` (google it if you&#39;re not familiar with how to set up a Spring XML configuration file) and include a selenium instance:\r\n\r\n\t&lt;bean class=&quot;com.thoughtworks.selenium.DefaultSelenium&quot; name=&quot;selenium&quot;&gt;\r\n\t\t&lt;constructor-arg index=&quot;0&quot;&gt;\r\n\t\t\t&lt;value&gt;localhost&lt;/value&gt;\r\n\t\t&lt;/constructor-arg&gt;\r\n\t\t&lt;constructor-arg index=&quot;1&quot;&gt;\r\n\t\t\t&lt;value&gt;4444&lt;/value&gt;\r\n\t\t&lt;/constructor-arg&gt;\r\n\t\t&lt;constructor-arg index=&quot;2&quot;&gt;\r\n\t\t\t&lt;value&gt;*firefox&lt;/value&gt;\r\n\t\t&lt;/constructor-arg&gt;\r\n\t\t&lt;constructor-arg index=&quot;3&quot;&gt;\r\n\t\t\t&lt;value&gt;http://localhost:8080/webapp/&lt;/value&gt;\r\n\t\t&lt;/constructor-arg&gt;\r\n\t&lt;/bean&gt;\r\n\r\nThen in your test, inject the selenium instance instead of `new`&#39;ing it:\r\n\r\n\t@RunWith(SpringJUnit4ClassRunner.class)\r\n\t@ContextConfiguration(&quot;classpath:selenium.xml&quot;)\r\n\tpublic class WebappIT {\r\n\r\n\t\t@Resource\r\n\t\tprivate Selenium selenium;\r\n\r\n        ... test code ...\r\n\r\n\t}\r\n\r\nI&#39;ve simplified this somewhat, in our actual code we wrap the selenium instance in a provider class so that we can call selenium.start() once only.","title":"How do I prevent Selenium RC from stealing window focus while my tests are running?","body":"<p>We solved this problem by sharing the selenium instance between tests. Then selenium only tries to steal focus once during the entire test run, which isn't too bad.</p>\n\n<p>If you're using JUnit to script Selenium, you can use Spring's <code>SpringJUnit4ClassRunner</code> to inject the selenium instance as a bean. </p>\n\n<p>Define a test context for Spring <code>selenium.xml</code> (google it if you're not familiar with how to set up a Spring XML configuration file) and include a selenium instance:</p>\n\n<pre><code>&lt;bean class=\"com.thoughtworks.selenium.DefaultSelenium\" name=\"selenium\"&gt;\n    &lt;constructor-arg index=\"0\"&gt;\n        &lt;value&gt;localhost&lt;/value&gt;\n    &lt;/constructor-arg&gt;\n    &lt;constructor-arg index=\"1\"&gt;\n        &lt;value&gt;4444&lt;/value&gt;\n    &lt;/constructor-arg&gt;\n    &lt;constructor-arg index=\"2\"&gt;\n        &lt;value&gt;*firefox&lt;/value&gt;\n    &lt;/constructor-arg&gt;\n    &lt;constructor-arg index=\"3\"&gt;\n        &lt;value&gt;http://localhost:8080/webapp/&lt;/value&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Then in your test, inject the selenium instance instead of <code>new</code>'ing it:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(\"classpath:selenium.xml\")\npublic class WebappIT {\n\n    @Resource\n    private Selenium selenium;\n\n    ... test code ...\n\n}\n</code></pre>\n\n<p>I've simplified this somewhat, in our actual code we wrap the selenium instance in a provider class so that we can call selenium.start() once only.</p>\n"},{"tags":[],"owner":{"account_id":205984,"reputation":2548,"user_id":455020,"accept_rate":78,"display_name":"bakoyaro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1327078058,"creation_date":1327078058,"answer_id":8944888,"question_id":5626103,"body_markdown":"**UPDATE**\r\n\r\nI found a work-around to my focus stealing Firefox window. If you are running Selenium as a stand-alone server as I am, then you can add this:\r\n\r\n    -browserSessionReuse\r\n\r\nTo the ant task that launches your Selenium test cases. This saves considerable time as well because I don&#39;t have to wait for two new Firefox windows to open up while the selenium tests are running. The work around is that you will have to log out of your site every time a test starts, if each of your tests is a standalone test. I accomplished this quickly by editing my log in method to look for my log out link. If the log out link is present then my test clicks the log out link, and waits for the log in page to be available, then continues on with the test.","title":"How do I prevent Selenium RC from stealing window focus while my tests are running?","body":"<p><strong>UPDATE</strong></p>\n\n<p>I found a work-around to my focus stealing Firefox window. If you are running Selenium as a stand-alone server as I am, then you can add this:</p>\n\n<pre><code>-browserSessionReuse\n</code></pre>\n\n<p>To the ant task that launches your Selenium test cases. This saves considerable time as well because I don't have to wait for two new Firefox windows to open up while the selenium tests are running. The work around is that you will have to log out of your site every time a test starts, if each of your tests is a standalone test. I accomplished this quickly by editing my log in method to look for my log out link. If the log out link is present then my test clicks the log out link, and waits for the log in page to be available, then continues on with the test.</p>\n"},{"tags":[],"owner":{"account_id":67073,"reputation":2018,"user_id":196463,"display_name":"Korny"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1665483316,"creation_date":1379896823,"answer_id":18950253,"question_id":5626103,"body_markdown":"Are you running linux?  The FirefoxProfile class has a poorly documented setting that loads a special library to avoid focus stealing on linux - set this to true:\r\n\r\nhttps://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxProfile.html#setAlwaysLoadNoFocusLib(boolean)\r\n\r\n&gt; public void setAlwaysLoadNoFocusLibâ(boolean loadNoFocusLib)\r\n&gt; \r\n&gt; Sets whether the no focus library should always be loaded on Linux.\r\n&gt; \r\n&gt; Parameters:\r\n&gt;\r\n&gt;    loadNoFocusLib - Whether to always load the no focus library. ","title":"How do I prevent Selenium RC from stealing window focus while my tests are running?","body":"<p>Are you running linux?  The FirefoxProfile class has a poorly documented setting that loads a special library to avoid focus stealing on linux - set this to true:</p>\n<p><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxProfile.html#setAlwaysLoadNoFocusLib(boolean)\" rel=\"nofollow noreferrer\">https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/firefox/FirefoxProfile.html#setAlwaysLoadNoFocusLib(boolean)</a></p>\n<blockquote>\n<p>public void setAlwaysLoadNoFocusLibâ(boolean loadNoFocusLib)</p>\n<p>Sets whether the no focus library should always be loaded on Linux.</p>\n<p>Parameters:</p>\n<p>loadNoFocusLib - Whether to always load the no focus library.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":233288,"reputation":986,"user_id":498679,"display_name":"jdewit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382567634,"creation_date":1382567634,"answer_id":19553570,"question_id":5626103,"body_markdown":"Using chrome instead of firefox worked for me. Just launch it in another workspace and it stays put. ","title":"How do I prevent Selenium RC from stealing window focus while my tests are running?","body":"<p>Using chrome instead of firefox worked for me. Just launch it in another workspace and it stays put. </p>\n"},{"tags":[],"owner":{"account_id":2694640,"reputation":350,"user_id":2327056,"accept_rate":50,"display_name":"Jose Victor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489777244,"creation_date":1489777244,"answer_id":42865288,"question_id":5626103,"body_markdown":"If you are running on linux, you can use multiples desktops and set to browser to always open at specific desktop, and your IDE in different one.\r\nThat&#39;s how i did in Ubuntu, It takes 5 minute: https://askubuntu.com/a/90014","title":"How do I prevent Selenium RC from stealing window focus while my tests are running?","body":"<p>If you are running on linux, you can use multiples desktops and set to browser to always open at specific desktop, and your IDE in different one.\nThat's how i did in Ubuntu, It takes 5 minute: <a href=\"https://askubuntu.com/a/90014\">https://askubuntu.com/a/90014</a></p>\n"}],"owner":{"account_id":205984,"reputation":2548,"user_id":455020,"accept_rate":78,"display_name":"bakoyaro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6112,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":8944888,"answer_count":8,"score":11,"last_activity_date":1674305379,"creation_date":1302548198,"question_id":5626103,"body_markdown":"I know I&#39;m probably in a small minority, but I have to use my machine at the same time my tests are running. The thing that always gets in my way is that the browser window is always stealing focus when I run test cases using Selenium RC. Which prevents me from running my tests more than once a day, at the end of the day right before I log out. I tried Selenium Grid, but I can&#39;t get it to only listen for requests on localhost, not 0.0.0.0 (a requirement from my network admin).\r\n\r\nI&#39;ve dug through the Selenium documentation, and tons of Selenium sites, but I haven&#39;t been able to find a definitive answer. Can I prevent Selenium RC tests from Stealing windows focus while my test are running?\r\n\r\nI&#39;m using Firefox 3.6.13.","title":"How do I prevent Selenium RC from stealing window focus while my tests are running?","body":"<p>I know I'm probably in a small minority, but I have to use my machine at the same time my tests are running. The thing that always gets in my way is that the browser window is always stealing focus when I run test cases using Selenium RC. Which prevents me from running my tests more than once a day, at the end of the day right before I log out. I tried Selenium Grid, but I can't get it to only listen for requests on localhost, not 0.0.0.0 (a requirement from my network admin).</p>\n\n<p>I've dug through the Selenium documentation, and tons of Selenium sites, but I haven't been able to find a definitive answer. Can I prevent Selenium RC tests from Stealing windows focus while my test are running?</p>\n\n<p>I'm using Firefox 3.6.13.</p>\n"},{"tags":["java","linked-list","tail","insertion"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1674297140,"post_id":75192555,"comment_id":132687477,"body_markdown":"Please [edit] your question to include a [mre]. What is `head` and `tail`? How are you checking if your list is empty? How is `isEmpty()` defined?","body":"Please <a href=\"https://stackoverflow.com/posts/75192555/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. What is <code>head</code> and <code>tail</code>? How are you checking if your list is empty? How is <code>isEmpty()</code> defined?"}],"answers":[{"tags":[],"owner":{"display_name":"user20973445"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674304634,"creation_date":1674300940,"answer_id":75193008,"question_id":75192555,"body_markdown":"By definition when you add an element in a queue this goes automatically at the end of the list (see FIFO), so you don&#39;t need to call the method &quot;addNodeLastInQueue&quot;. \r\nThe best practice is to call it &quot;enqueue&quot;.\r\n\r\nHere the method:\r\n    \r\n    public void enqueue(E element) {\r\n        Node&lt;E&gt; oldlast = last;\r\n        last = new Node&lt;E&gt;();\r\n        last.e = e; // It refers to the &quot;e&quot; attribute in static class\r\n        last.next = null;\r\n        if (isEmpty()) first = last;\r\n        else           oldlast.next = last;\r\n        n++;\r\n    }\r\n\r\n\r\nHint: I suggest you to implement a helper linked list static class in order to provide Node attributes to the queue. In fact i use it in my method.\r\n\r\n    // helper linked list class\r\n    private static class Node&lt;E&gt; {\r\n        private E e;\r\n        private Node&lt;E&gt; next;\r\n    }\r\n\r\n\r\n\r\nI hope I have been of help. \r\nBye!","title":"Problems inserting element at the tail of a list JAVA","body":"<p>By definition when you add an element in a queue this goes automatically at the end of the list (see FIFO), so you don't need to call the method &quot;addNodeLastInQueue&quot;.\nThe best practice is to call it &quot;enqueue&quot;.</p>\n<p>Here the method:</p>\n<pre><code>public void enqueue(E element) {\n    Node&lt;E&gt; oldlast = last;\n    last = new Node&lt;E&gt;();\n    last.e = e; // It refers to the &quot;e&quot; attribute in static class\n    last.next = null;\n    if (isEmpty()) first = last;\n    else           oldlast.next = last;\n    n++;\n}\n</code></pre>\n<p>Hint: I suggest you to implement a helper linked list static class in order to provide Node attributes to the queue. In fact i use it in my method.</p>\n<pre><code>// helper linked list class\nprivate static class Node&lt;E&gt; {\n    private E e;\n    private Node&lt;E&gt; next;\n}\n</code></pre>\n<p>I hope I have been of help.\nBye!</p>\n"},{"tags":[],"owner":{"account_id":26325495,"reputation":21,"user_id":19986877,"display_name":"Dorra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674304155,"creation_date":1674304155,"answer_id":75193306,"question_id":75192555,"body_markdown":"    public class MyNode&lt;E&gt; {\r\n\r\n            private E data;\r\n            private MyNode &lt;E&gt; next;\r\n      \r\n            public MyNode(E data) {\r\n               this.data = data;\r\n               this.next = null; \r\n            }  \r\n        }\r\n\r\n    public void enQueue(E element) {\r\n            MyNode&lt;E&gt; oldTail = tail;\r\n            tail = new MyNode&lt;E&gt;(element);\r\n            tail.data = element; \r\n            tail.next = null;\r\n            if (isEmpty()) head = tail;\r\n            else           oldTail.next = tail;\r\n        }\r\n\r\n\r\n    @Override\r\n    public void add(E element) {\r\n        if(element == null){\r\n            throw new NullPointerException();\r\n        }else{\r\n            this.enQueue(element); \r\n        }\r\n        \r\n    }","title":"Problems inserting element at the tail of a list JAVA","body":"<pre><code>public class MyNode&lt;E&gt; {\n\n        private E data;\n        private MyNode &lt;E&gt; next;\n  \n        public MyNode(E data) {\n           this.data = data;\n           this.next = null; \n        }  \n    }\n\npublic void enQueue(E element) {\n        MyNode&lt;E&gt; oldTail = tail;\n        tail = new MyNode&lt;E&gt;(element);\n        tail.data = element; \n        tail.next = null;\n        if (isEmpty()) head = tail;\n        else           oldTail.next = tail;\n    }\n\n\n@Override\npublic void add(E element) {\n    if(element == null){\n        throw new NullPointerException();\n    }else{\n        this.enQueue(element); \n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":26325495,"reputation":21,"user_id":19986877,"display_name":"Dorra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674304634,"creation_date":1674295997,"question_id":75192555,"body_markdown":"My assignment is implementing a linkedList as a queue. I&#39;m having a problem adding elements at the tail of the list. I get no Exception but the problem is that when adding a element, the list still is empty afterwards and I really don&#39;t see the problem. Someone who has a solution? :)\r\n\r\n    @Override\r\n    public void add(E element) {\r\n            if(element == null){\r\n                throw new NullPointerException();\r\n            }else{\r\n                this.addNodeLastInQueue(element); \r\n            }\r\n        \r\n    }\r\n\r\n\r\n    public void addNodeLastInQueue(E element){\r\n        \r\n            MyNode&lt;E&gt; nodeToBeAdded = new MyNode&lt;E&gt;(element);  \r\n            if(isEmpty()){\r\n                head = nodeToBeAdded;\r\n                tail = nodeToBeAdded;//Os&#228;ker om denna beh&#246;vs\r\n            }else{\r\n                tail.setNext(nodeToBeAdded);   \r\n                tail = nodeToBeAdded;\r\n            }  \r\n        }\r\n\r\nI have tried with everything I an come up with","title":"Problems inserting element at the tail of a list JAVA","body":"<p>My assignment is implementing a linkedList as a queue. I'm having a problem adding elements at the tail of the list. I get no Exception but the problem is that when adding a element, the list still is empty afterwards and I really don't see the problem. Someone who has a solution? :)</p>\n<pre><code>@Override\npublic void add(E element) {\n        if(element == null){\n            throw new NullPointerException();\n        }else{\n            this.addNodeLastInQueue(element); \n        }\n    \n}\n\n\npublic void addNodeLastInQueue(E element){\n    \n        MyNode&lt;E&gt; nodeToBeAdded = new MyNode&lt;E&gt;(element);  \n        if(isEmpty()){\n            head = nodeToBeAdded;\n            tail = nodeToBeAdded;//OsÃ¤ker om denna behÃ¶vs\n        }else{\n            tail.setNext(nodeToBeAdded);   \n            tail = nodeToBeAdded;\n        }  \n    }\n</code></pre>\n<p>I have tried with everything I an come up with</p>\n"},{"tags":["java","android-studio","exoplayer","exoplayer2.x","exoplayer-media-item"],"owner":{"account_id":19722456,"reputation":103,"user_id":14439683,"display_name":"Alex Advent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674304175,"creation_date":1674304175,"question_id":75193309,"body_markdown":"I am preparing the next video in another exoplayer instance while playing the current one for gapless playback.\r\n\r\nBut after setting player visibility gone video is not playing.\r\nHere is my function for playing current video and initializing next\r\n\r\n```\r\n    void prepare_next_media() {\r\n        int next_index = playing_index + 1;\r\n        if (next_index &gt; videoFiles.size() - 1) {\r\n            next_index = 0;\r\n        }\r\n        if (current_view == 1) {\r\n            player1.setMediaItem(MediaItem.fromUri(videoFiles.get(next_index).getAbsolutePath()));\r\n            player1.prepare();\r\n        } else {\r\n            player.setMediaItem(MediaItem.fromUri(videoFiles.get(next_index).getAbsolutePath()));\r\n            player.prepare();\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n    void play_next_media() {\r\n        int current_index = playing_index + 1;\r\n        if (current_index &gt; videoFiles.size() - 1) {\r\n            current_index = 0;\r\n        }\r\n\r\n        if (current_view == 1) {\r\n            playerView.setVisibility(StyledPlayerView.GONE);\r\n            playerView1.setVisibility(StyledPlayerView.VISIBLE);\r\n\r\n            if (player1.getMediaItemCount() == 0) {\r\n                player1.setMediaItem(MediaItem.fromUri(videoFiles.get(current_index).getAbsolutePath()));\r\n                player1.prepare();\r\n            }\r\n\r\n            player1.play();\r\n\r\n        } else {\r\n            playerView.setVisibility(StyledPlayerView.VISIBLE);\r\n            playerView1.setVisibility(StyledPlayerView.GONE);\r\n\r\n            if (player.getMediaItemCount() == 0) {\r\n                player.setMediaItem(MediaItem.fromUri(videoFiles.get(current_index).getAbsolutePath()));\r\n                player.prepare();\r\n            }\r\n            player.play();\r\n\r\n        }\r\n        current_view = 1 - current_view;\r\n        playing_index = current_index;\r\n        prepare_next_media();\r\n    }\r\n```\r\n\r\nThe problem is when I set playerView1.setVisibility(StyledPlayerView.GONE), and prepare it and on completing the previous one playerView.setVisibility(StyledPlayerView.VISIBLE); make it visible but the video is not playing only the image is showing but the video changes when ended. \r\n\r\non onPlaybackStateChanged, it shows the video is playing. I also tried with set alpha but did not work can anyone suggest me better way to solve this issue or issue of gapless playback?\r\n\r\nThanks in advance.\r\n\r\n","title":"Using two exoplayer inistances for gapless playback Java","body":"<p>I am preparing the next video in another exoplayer instance while playing the current one for gapless playback.</p>\n<p>But after setting player visibility gone video is not playing.\nHere is my function for playing current video and initializing next</p>\n<pre><code>    void prepare_next_media() {\n        int next_index = playing_index + 1;\n        if (next_index &gt; videoFiles.size() - 1) {\n            next_index = 0;\n        }\n        if (current_view == 1) {\n            player1.setMediaItem(MediaItem.fromUri(videoFiles.get(next_index).getAbsolutePath()));\n            player1.prepare();\n        } else {\n            player.setMediaItem(MediaItem.fromUri(videoFiles.get(next_index).getAbsolutePath()));\n            player.prepare();\n        }\n    }\n</code></pre>\n<pre><code>    void play_next_media() {\n        int current_index = playing_index + 1;\n        if (current_index &gt; videoFiles.size() - 1) {\n            current_index = 0;\n        }\n\n        if (current_view == 1) {\n            playerView.setVisibility(StyledPlayerView.GONE);\n            playerView1.setVisibility(StyledPlayerView.VISIBLE);\n\n            if (player1.getMediaItemCount() == 0) {\n                player1.setMediaItem(MediaItem.fromUri(videoFiles.get(current_index).getAbsolutePath()));\n                player1.prepare();\n            }\n\n            player1.play();\n\n        } else {\n            playerView.setVisibility(StyledPlayerView.VISIBLE);\n            playerView1.setVisibility(StyledPlayerView.GONE);\n\n            if (player.getMediaItemCount() == 0) {\n                player.setMediaItem(MediaItem.fromUri(videoFiles.get(current_index).getAbsolutePath()));\n                player.prepare();\n            }\n            player.play();\n\n        }\n        current_view = 1 - current_view;\n        playing_index = current_index;\n        prepare_next_media();\n    }\n</code></pre>\n<p>The problem is when I set playerView1.setVisibility(StyledPlayerView.GONE), and prepare it and on completing the previous one playerView.setVisibility(StyledPlayerView.VISIBLE); make it visible but the video is not playing only the image is showing but the video changes when ended.</p>\n<p>on onPlaybackStateChanged, it shows the video is playing. I also tried with set alpha but did not work can anyone suggest me better way to solve this issue or issue of gapless playback?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":20554674,"reputation":19,"user_id":15086551,"display_name":"Gabriel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674301453,"creation_date":1674301453,"answer_id":75193057,"question_id":75193024,"body_markdown":"Added an endpoint for that, simply getting the appender from the context stopping and then starting again does the trick.\r\n\r\n    package com.gabrieljuliao.kubelogger.controllers;\r\n    \r\n    import ch.qos.logback.classic.Logger;\r\n    import ch.qos.logback.classic.LoggerContext;\r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    import ch.qos.logback.core.Appender;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/LogbackSSLSocketAppender&quot;)\r\n    public class LogbackSSLSocketAppenderController {\r\n    \r\n        @GetMapping(&quot;/restart/{loggerName}/{appenderName}&quot;)\r\n        public ResponseEntity&lt;?&gt; restartSSLContext(@PathVariable(&quot;loggerName&quot;) String loggerName, @PathVariable String appenderName){\r\n            LoggerContext ctx = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n            Logger logger = ctx.getLogger(loggerName);\r\n            Appender&lt;ILoggingEvent&gt; appender = logger.getAppender(appenderName);\r\n    \r\n            if (Objects.nonNull(appender)) {\r\n                logger.info(&quot;Stopping, and detaching  appender&quot;);\r\n                appender.stop();\r\n                logger.detachAppender(appenderName);\r\n                try {\r\n                    logger.info(&quot;Attaching, and starting appender&quot;);\r\n                    logger.addAppender(appender);\r\n                    appender.start();\r\n                } catch (Exception e) {\r\n                    logger.error(&quot;Error starting appender: &quot; + e.getMessage(), e);\r\n                    return ResponseEntity.status(500).build();\r\n                }\r\n                return ResponseEntity.ok().build();\r\n            }\r\n            logger.info(&quot;Appender not found&quot;);\r\n            return ResponseEntity.notFound().build();\r\n        }\r\n    }\r\n\r\n","title":"How to reload Logback SSL appenders Keystore/Truststore without restarting the application?","body":"<p>Added an endpoint for that, simply getting the appender from the context stopping and then starting again does the trick.</p>\n<pre><code>package com.gabrieljuliao.kubelogger.controllers;\n\nimport ch.qos.logback.classic.Logger;\nimport ch.qos.logback.classic.LoggerContext;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.core.Appender;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Objects;\n\n@RestController\n@RequestMapping(&quot;/LogbackSSLSocketAppender&quot;)\npublic class LogbackSSLSocketAppenderController {\n\n    @GetMapping(&quot;/restart/{loggerName}/{appenderName}&quot;)\n    public ResponseEntity&lt;?&gt; restartSSLContext(@PathVariable(&quot;loggerName&quot;) String loggerName, @PathVariable String appenderName){\n        LoggerContext ctx = (LoggerContext) LoggerFactory.getILoggerFactory();\n        Logger logger = ctx.getLogger(loggerName);\n        Appender&lt;ILoggingEvent&gt; appender = logger.getAppender(appenderName);\n\n        if (Objects.nonNull(appender)) {\n            logger.info(&quot;Stopping, and detaching  appender&quot;);\n            appender.stop();\n            logger.detachAppender(appenderName);\n            try {\n                logger.info(&quot;Attaching, and starting appender&quot;);\n                logger.addAppender(appender);\n                appender.start();\n            } catch (Exception e) {\n                logger.error(&quot;Error starting appender: &quot; + e.getMessage(), e);\n                return ResponseEntity.status(500).build();\n            }\n            return ResponseEntity.ok().build();\n        }\n        logger.info(&quot;Appender not found&quot;);\n        return ResponseEntity.notFound().build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20554674,"reputation":19,"user_id":15086551,"display_name":"Gabriel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674303382,"creation_date":1674303382,"answer_id":75193243,"question_id":75193024,"body_markdown":"If you are using Logstash Logback Encoder use the code below, just change the appender class to whatever logstash appender you want, don&#39;t forget to change the downcast if required. Check the parent to whom to downcast to.\r\n\r\n    package com.gabrieljuliao.kubelogger.controllers;\r\n    \r\n    import ch.qos.logback.classic.Logger;\r\n    import ch.qos.logback.classic.LoggerContext;\r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    import ch.qos.logback.core.Appender;\r\n    import net.logstash.logback.appender.AbstractLogstashTcpSocketAppender;\r\n    import net.logstash.logback.appender.LogstashTcpSocketAppender;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    @RestController\r\n    @RequestMapping(value = &quot;/LogstashTcpSocketAppender&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public class LogstashTcpSocketAppenderController {\r\n        Logger logger = (Logger) LoggerFactory.getLogger(LogstashTcpSocketAppenderController.class);\r\n    \r\n        @GetMapping(&quot;/restart/{loggerName}/{appenderName}&quot;)\r\n        public ResponseEntity&lt;?&gt; restartSSLContext(@PathVariable(&quot;loggerName&quot;) String loggerName, @PathVariable String appenderName) {\r\n    \r\n            LoggerContext ctx = (LoggerContext) LoggerFactory.getILoggerFactory();\r\n            Logger logger = ctx.getLogger(loggerName);\r\n            LogstashTcpSocketAppender appender = castToLogstashTcpSocketAppender(logger.getAppender(appenderName));\r\n    \r\n            if (Objects.nonNull(appender)) {\r\n                logger.info(&quot;Stopping, and detaching  appender&quot;);\r\n                appender.stop();\r\n                logger.detachAppender(appenderName);\r\n    \r\n                // force recreation of ssl context.\r\n                appender.setSocketFactory(null);\r\n    \r\n                try {\r\n                    logger.info(&quot;Attaching, and starting appender&quot;);\r\n                    logger.addAppender(appender);\r\n                    appender.start();\r\n                } catch (Exception e) {\r\n                    logger.error(&quot;Error starting appender: &quot; + e.getMessage(), e);\r\n                    return ResponseEntity.status(500).build();\r\n                }\r\n                return ResponseEntity.ok().build();\r\n            }\r\n    \r\n            logger.info(&quot;Appender not found&quot;);\r\n            return ResponseEntity.notFound().build();\r\n        }\r\n    \r\n        private LogstashTcpSocketAppender castToLogstashTcpSocketAppender(Appender&lt;ILoggingEvent&gt; appender) {\r\n            if (appender instanceof AbstractLogstashTcpSocketAppender&lt;?, ?&gt;) {\r\n                AbstractLogstashTcpSocketAppender&lt;?, ?&gt; abstractLogstashTcpSocketAppender = (AbstractLogstashTcpSocketAppender&lt;?, ?&gt;) appender;\r\n                if (abstractLogstashTcpSocketAppender instanceof LogstashTcpSocketAppender) {\r\n                    return (LogstashTcpSocketAppender) abstractLogstashTcpSocketAppender;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n","title":"How to reload Logback SSL appenders Keystore/Truststore without restarting the application?","body":"<p>If you are using Logstash Logback Encoder use the code below, just change the appender class to whatever logstash appender you want, don't forget to change the downcast if required. Check the parent to whom to downcast to.</p>\n<pre><code>package com.gabrieljuliao.kubelogger.controllers;\n\nimport ch.qos.logback.classic.Logger;\nimport ch.qos.logback.classic.LoggerContext;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\nimport ch.qos.logback.core.Appender;\nimport net.logstash.logback.appender.AbstractLogstashTcpSocketAppender;\nimport net.logstash.logback.appender.LogstashTcpSocketAppender;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Objects;\n\n@RestController\n@RequestMapping(value = &quot;/LogstashTcpSocketAppender&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic class LogstashTcpSocketAppenderController {\n    Logger logger = (Logger) LoggerFactory.getLogger(LogstashTcpSocketAppenderController.class);\n\n    @GetMapping(&quot;/restart/{loggerName}/{appenderName}&quot;)\n    public ResponseEntity&lt;?&gt; restartSSLContext(@PathVariable(&quot;loggerName&quot;) String loggerName, @PathVariable String appenderName) {\n\n        LoggerContext ctx = (LoggerContext) LoggerFactory.getILoggerFactory();\n        Logger logger = ctx.getLogger(loggerName);\n        LogstashTcpSocketAppender appender = castToLogstashTcpSocketAppender(logger.getAppender(appenderName));\n\n        if (Objects.nonNull(appender)) {\n            logger.info(&quot;Stopping, and detaching  appender&quot;);\n            appender.stop();\n            logger.detachAppender(appenderName);\n\n            // force recreation of ssl context.\n            appender.setSocketFactory(null);\n\n            try {\n                logger.info(&quot;Attaching, and starting appender&quot;);\n                logger.addAppender(appender);\n                appender.start();\n            } catch (Exception e) {\n                logger.error(&quot;Error starting appender: &quot; + e.getMessage(), e);\n                return ResponseEntity.status(500).build();\n            }\n            return ResponseEntity.ok().build();\n        }\n\n        logger.info(&quot;Appender not found&quot;);\n        return ResponseEntity.notFound().build();\n    }\n\n    private LogstashTcpSocketAppender castToLogstashTcpSocketAppender(Appender&lt;ILoggingEvent&gt; appender) {\n        if (appender instanceof AbstractLogstashTcpSocketAppender&lt;?, ?&gt;) {\n            AbstractLogstashTcpSocketAppender&lt;?, ?&gt; abstractLogstashTcpSocketAppender = (AbstractLogstashTcpSocketAppender&lt;?, ?&gt;) appender;\n            if (abstractLogstashTcpSocketAppender instanceof LogstashTcpSocketAppender) {\n                return (LogstashTcpSocketAppender) abstractLogstashTcpSocketAppender;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20554674,"reputation":19,"user_id":15086551,"display_name":"Gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75193057,"answer_count":2,"score":1,"last_activity_date":1674303382,"creation_date":1674301119,"question_id":75193024,"body_markdown":"I Want to be able to reload the Keystore/Trustore of the SSL appenders of the Logback without restarting the application. This is done because when the certificates expire you don&#39;t have to restart the application.\r\n\r\nI&#39;ve tried using JVMs default keystore/trustore, but it seems that the appender only reads the keystore/trustore once. the expected result is reloading the keystore/trustore without restarting the application.","title":"How to reload Logback SSL appenders Keystore/Truststore without restarting the application?","body":"<p>I Want to be able to reload the Keystore/Trustore of the SSL appenders of the Logback without restarting the application. This is done because when the certificates expire you don't have to restart the application.</p>\n<p>I've tried using JVMs default keystore/trustore, but it seems that the appender only reads the keystore/trustore once. the expected result is reloading the keystore/trustore without restarting the application.</p>\n"},{"tags":["java","spring","database","post","get"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1639382259,"post_id":70331388,"comment_id":124325129,"body_markdown":"Where is your Service code?Maybe show that as a start","body":"Where is your Service code?Maybe show that as a start"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1639382384,"post_id":70331388,"comment_id":124325173,"body_markdown":"The only Controller method I see is of type (POST), so you can only do POST calls, that is why you are getting NO GET mapping :)  You will need to define `@RequestMapping(value = &quot;/posts&quot;, method = RequestMethod.GET)` and provide implementation for it..","body":"The only Controller method I see is of type (POST), so you can only do POST calls, that is why you are getting NO GET mapping :)  You will need to define <code>@RequestMapping(value = &quot;&#47;posts&quot;, method = RequestMethod.GET)</code> and provide implementation for it.."},{"owner":{"account_id":22549698,"reputation":35,"user_id":16738974,"display_name":"ingan25"},"score":0,"creation_date":1639385506,"post_id":70331388,"comment_id":124326074,"body_markdown":"oh I&#39;m super sorry.\nI&#39;ve edited it and uploaded it now!!","body":"oh I&#39;m super sorry. I&#39;ve edited it and uploaded it now!!"},{"owner":{"account_id":22549698,"reputation":35,"user_id":16738974,"display_name":"ingan25"},"score":0,"creation_date":1639385599,"post_id":70331388,"comment_id":124326101,"body_markdown":"What I want is to work the post method &#128546;","body":"What I want is to work the post method ð¢"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639386661,"creation_date":1639386661,"answer_id":70332203,"question_id":70331388,"body_markdown":"I see that you are using POST in your form, however your Controller API Endpoint is not the default `/`\r\n\r\n\r\nThe JSP form has to specify which action it should use on Submit..\r\n\r\n\r\n    &lt;form method=&quot;POST&quot; action=&quot;/create&quot;&gt;  \r\n \r\n\r\n    &lt;/form&gt;\r\n","title":"I used the POST method, but there&#39;s no mapping for GET","body":"<p>I see that you are using POST in your form, however your Controller API Endpoint is not the default <code>/</code></p>\n<p>The JSP form has to specify which action it should use on Submit..</p>\n<pre><code>&lt;form method=&quot;POST&quot; action=&quot;/create&quot;&gt;  \n\n\n&lt;/form&gt;\n</code></pre>\n"}],"owner":{"account_id":22549698,"reputation":35,"user_id":16738974,"display_name":"ingan25"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":847,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70332203,"answer_count":1,"score":0,"last_activity_date":1674303287,"creation_date":1639381838,"question_id":70331388,"body_markdown":"Even if you change it to the POST method, it keeps saying that there is no mapping for GET. \r\n\r\nIn the @RequestMapping part, I tried /create and / as well. \r\nand I tried it in the GET method, but then the following error appears.\r\n\r\n    org.springframework.dao.DataIntegrityViolationException:\r\n    ### Error updating database. Cause: java.sql.SQLIntegrityConstraintViolationException: Column &#39;title&#39; cannot be null\r\n\r\n\r\nWherever I look, I don&#39;t know the answer.\r\n\r\nDirectory: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nController.java\r\n\r\n    package sample.spring.yse;\r\n    \r\n    import java.util.Map;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @Controller\r\n    public class BookController {\r\n    \t@Autowired\r\n    \tBookService bookService;\r\n    \r\n    \t@RequestMapping(value = &quot;/create&quot;, method= RequestMethod.POST)\r\n    \tpublic ModelAndView createPost(@RequestParam Map&lt;String, Object&gt; map) {\r\n    \t    ModelAndView mav = new ModelAndView();\r\n    \r\n    \t    String bookId = this.bookService.create(map);\r\n    \t    if (bookId == null) {\r\n    \t        mav.setViewName(&quot;redirect:/create&quot;);\r\n    \t    }else {\r\n    \t        mav.setViewName(&quot;redirect:/detail?bookId=&quot; + bookId); \r\n    \t    }  \r\n    \r\n    \t    return mav;\r\n    \t}\r\n    }\r\n\r\n\r\ncreate.jsp\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;EUC-KR&quot;&gt;\r\n    &lt;title&gt;ì± ìì±íê¸°&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt;create book&lt;/h1&gt;\r\n    &lt;form method=&quot;post&quot;&gt;\r\n    &lt;p&gt;ì ëª© : &lt;input type=&quot;text&quot; name=&quot;title&quot;&gt;&lt;/p&gt;\r\n    &lt;p&gt;ì¹´íê³ ë¦¬ : &lt;input type=&quot;text&quot; name=&quot;category&quot;&gt;&lt;/p&gt;\r\n    &lt;p&gt;ê°ê²© : &lt;input type=&quot;text&quot; name=&quot;price&quot;&gt;&lt;/p&gt;\r\n    &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;save&quot;&gt;&lt;/p&gt;\r\n     &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot; /&gt;    \r\n    &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nservlet-content.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n    \t\thttp://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    \r\n    \t&lt;!-- DispatcherServlet Context: defines this servlet&#39;s request-processing infrastructure --&gt;\r\n    \t\r\n    \t&lt;!-- Enables the Spring MVC @Controller programming model --&gt;\r\n    \t&lt;annotation-driven /&gt;\r\n    \r\n    \t&lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving up static resources in the ${webappRoot}/resources directory --&gt;\r\n    \t&lt;resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n    \r\n    \t&lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources in the /WEB-INF/views directory --&gt;\r\n    \t&lt;beans:bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;beans:property name=&quot;prefix&quot; value=&quot;/WEB-INF/views&quot; /&gt;\r\n    \t\t&lt;beans:property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n    \t&lt;/beans:bean&gt;\r\n    \t\r\n    \t&lt;context:component-scan base-package=&quot;sample.spring.yse&quot; /&gt; \t\r\n    &lt;/beans:beans&gt;\r\n\r\nbook_SQL.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE  mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\r\n    &lt;mapper namespace=&quot;book&quot;&gt;\r\n    &lt;insert id=&quot;insert&quot; parameterType=&quot;hashMap&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;book_id&quot;&gt;  \r\n        &lt;![CDATA[\r\n        insert into book\r\n        (title, category, price) \r\n        values\r\n        (#{title}, #{category}, #{price})\r\n        ]]&gt;\r\n    &lt;/insert&gt;\r\n    &lt;/mapper&gt;\r\n\r\n\r\nServiceImpl code \r\n\r\n    package sample.spring.yse;\r\n    \r\n    import java.util.Map;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class BookServiceImpl implements BookService {\r\n     @Autowired\r\n     BookDao bookDao;\r\n     @Override\r\n     public String create(Map&lt;String, Object&gt; map) {\r\n         int affectRowCount = this.bookDao.insert(map);\r\n         if (affectRowCount ==  1) {\r\n             return map.get(&quot;book_id&quot;).toString();\r\n         }\r\n         return null;\r\n    \r\n     }\r\n    }\r\n\r\nService code\r\n\r\n    package sample.spring.yse;\r\n    \r\n    import java.util.Map;\r\n    \r\n    public interface BookService {\r\n    \tString create(Map&lt;String, Object&gt; map);\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HMHEJ.png","title":"I used the POST method, but there&#39;s no mapping for GET","body":"<p>Even if you change it to the POST method, it keeps saying that there is no mapping for GET.</p>\n<p>In the @RequestMapping part, I tried /create and / as well.\nand I tried it in the GET method, but then the following error appears.</p>\n<pre><code>org.springframework.dao.DataIntegrityViolationException:\n### Error updating database. Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'title' cannot be null\n</code></pre>\n<p>Wherever I look, I don't know the answer.</p>\n<p>Directory:</p>\n<p><a href=\"https://i.stack.imgur.com/HMHEJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HMHEJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Controller.java</p>\n<pre><code>package sample.spring.yse;\n\nimport java.util.Map;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class BookController {\n    @Autowired\n    BookService bookService;\n\n    @RequestMapping(value = &quot;/create&quot;, method= RequestMethod.POST)\n    public ModelAndView createPost(@RequestParam Map&lt;String, Object&gt; map) {\n        ModelAndView mav = new ModelAndView();\n\n        String bookId = this.bookService.create(map);\n        if (bookId == null) {\n            mav.setViewName(&quot;redirect:/create&quot;);\n        }else {\n            mav.setViewName(&quot;redirect:/detail?bookId=&quot; + bookId); \n        }  \n\n        return mav;\n    }\n}\n</code></pre>\n<p>create.jsp</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;EUC-KR&quot;&gt;\n&lt;title&gt;ì± ìì±íê¸°&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;create book&lt;/h1&gt;\n&lt;form method=&quot;post&quot;&gt;\n&lt;p&gt;ì ëª© : &lt;input type=&quot;text&quot; name=&quot;title&quot;&gt;&lt;/p&gt;\n&lt;p&gt;ì¹´íê³ ë¦¬ : &lt;input type=&quot;text&quot; name=&quot;category&quot;&gt;&lt;/p&gt;\n&lt;p&gt;ê°ê²© : &lt;input type=&quot;text&quot; name=&quot;price&quot;&gt;&lt;/p&gt;\n&lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;save&quot;&gt;&lt;/p&gt;\n &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot; /&gt;    \n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>servlet-content.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/mvc&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n\n    &lt;!-- DispatcherServlet Context: defines this servlet's request-processing infrastructure --&gt;\n    \n    &lt;!-- Enables the Spring MVC @Controller programming model --&gt;\n    &lt;annotation-driven /&gt;\n\n    &lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving up static resources in the ${webappRoot}/resources directory --&gt;\n    &lt;resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\n\n    &lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources in the /WEB-INF/views directory --&gt;\n    &lt;beans:bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;beans:property name=&quot;prefix&quot; value=&quot;/WEB-INF/views&quot; /&gt;\n        &lt;beans:property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/beans:bean&gt;\n    \n    &lt;context:component-scan base-package=&quot;sample.spring.yse&quot; /&gt;     \n&lt;/beans:beans&gt;\n</code></pre>\n<p>book_SQL.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE  mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\n&lt;mapper namespace=&quot;book&quot;&gt;\n&lt;insert id=&quot;insert&quot; parameterType=&quot;hashMap&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;book_id&quot;&gt;  \n    &lt;![CDATA[\n    insert into book\n    (title, category, price) \n    values\n    (#{title}, #{category}, #{price})\n    ]]&gt;\n&lt;/insert&gt;\n&lt;/mapper&gt;\n</code></pre>\n<p>ServiceImpl code</p>\n<pre><code>package sample.spring.yse;\n\nimport java.util.Map;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class BookServiceImpl implements BookService {\n @Autowired\n BookDao bookDao;\n @Override\n public String create(Map&lt;String, Object&gt; map) {\n     int affectRowCount = this.bookDao.insert(map);\n     if (affectRowCount ==  1) {\n         return map.get(&quot;book_id&quot;).toString();\n     }\n     return null;\n\n }\n}\n</code></pre>\n<p>Service code</p>\n<pre><code>package sample.spring.yse;\n\nimport java.util.Map;\n\npublic interface BookService {\n    String create(Map&lt;String, Object&gt; map);\n}\n</code></pre>\n"},{"tags":["java","number-formatting"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674303194,"creation_date":1674302812,"answer_id":75193194,"question_id":75192964,"body_markdown":"That is character 0xA0, or \\u00A0, or non-breaking space (or NO-BREAK SPACE) in - for example - Windows-1252 and Unicode. This is used to prevent a line break or wrap from occurring after the currency symbol, but before the number.\r\n\r\nThe regex character class `\\s` in Java only covers:\r\n\r\n&gt; A whitespace character: [ \\t\\n\\x0B\\f\\r]\r\n\r\nSee javadoc of [`java.util.regex.Pattern`][1].\r\n\r\nInstead, use `\\\\h` instead of `\\\\s`, as `\\h` covers:\r\n\r\n&gt; A horizontal whitespace character: [ \\t\\xA0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000]\r\n\r\nOr, only replace `\\u00a0`.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html","title":"NumberFormat.getCurrencyInstance() formats to a string with whitespace, that is no whitespace. How to remove it?","body":"<p>That is character 0xA0, or \\u00A0, or non-breaking space (or NO-BREAK SPACE) in - for example - Windows-1252 and Unicode. This is used to prevent a line break or wrap from occurring after the currency symbol, but before the number.</p>\n<p>The regex character class <code>\\s</code> in Java only covers:</p>\n<blockquote>\n<p>A whitespace character: [ \\t\\n\\x0B\\f\\r]</p>\n</blockquote>\n<p>See javadoc of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\"><code>java.util.regex.Pattern</code></a>.</p>\n<p>Instead, use <code>\\\\h</code> instead of <code>\\\\s</code>, as <code>\\h</code> covers:</p>\n<blockquote>\n<p>A horizontal whitespace character: [ \\t\\xA0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000]</p>\n</blockquote>\n<p>Or, only replace <code>\\u00a0</code>.</p>\n"}],"owner":{"account_id":3044540,"reputation":877,"user_id":2580580,"accept_rate":67,"display_name":"Sebastian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75193194,"answer_count":1,"score":2,"last_activity_date":1674303194,"creation_date":1674300431,"question_id":75192964,"body_markdown":"I have the following code:\r\n```\r\nNumberFormat numberFormat = NumberFormat.getCurrencyInstance(getLocale());\r\nreturn numberFormat.format(&quot;-123.45&quot;).replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n```\r\nSince the format returns &quot;-â¬&#160;123,45&quot; for my locale, I would expect the code to return &quot;-â¬123,45&quot;, but it returns &quot;-â¬&#160;123,45&quot;. When inspecting the returned string it says that it has a -96 instead of a space. So obviously instead of inserting a space, format inserts that mysterious -96 character. How can I remove that -96 character?","title":"NumberFormat.getCurrencyInstance() formats to a string with whitespace, that is no whitespace. How to remove it?","body":"<p>I have the following code:</p>\n<pre><code>NumberFormat numberFormat = NumberFormat.getCurrencyInstance(getLocale());\nreturn numberFormat.format(&quot;-123.45&quot;).replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\n</code></pre>\n<p>Since the format returns &quot;-â¬Â 123,45&quot; for my locale, I would expect the code to return &quot;-â¬123,45&quot;, but it returns &quot;-â¬Â 123,45&quot;. When inspecting the returned string it says that it has a -96 instead of a space. So obviously instead of inserting a space, format inserts that mysterious -96 character. How can I remove that -96 character?</p>\n"},{"tags":["java","jpa","jakarta-ee"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674302678,"creation_date":1674302678,"answer_id":75193176,"question_id":75192257,"body_markdown":"Try using Hibernate 6.x. Hibernate 5.x still uses `javax.persistence`. Note that the groupId changed; see https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core","title":"jakarta.persistence.PersistenceException: No Persistence provider for EntityManager","body":"<p>Try using Hibernate 6.x. Hibernate 5.x still uses <code>javax.persistence</code>. Note that the groupId changed; see <a href=\"https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core</a></p>\n"}],"owner":{"account_id":25646871,"reputation":1,"user_id":19414830,"display_name":"sadiul-hakim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674302678,"creation_date":1674292579,"question_id":75192257,"body_markdown":"I am getting above error while configuring Jakarta Persistence.\r\n\r\nI added this dependency\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n```\r\n\r\n\r\nThis is my persistence.xml file\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;persistence \r\n    xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    version=&quot;3.0&quot; \r\n    xsi:schemaLocation=&quot;\r\n        https://jakarta.ee/xml/ns/persistence \r\n        https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd\r\n    &quot;\r\n&gt;\r\n        \r\n    &lt;!-- Define Persistence Unit --&gt;\r\n        \r\n    &lt;persistence-unit name=&quot;myPersistence&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;!--  DB Connection --&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;Hakim&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;hakim@123&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3307/learn&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\r\n        &lt;/properties&gt;\r\n        &lt;class&gt;com.hakim.entity.BookAuthor&lt;/class&gt;\r\n    &lt;/persistence-unit&gt;\r\n    \r\n&lt;/persistence&gt;\r\n\r\n\r\n\r\n```\r\n\r\n\r\nThis is my entity class\r\n\r\n\r\n```\r\npackage com.hakim.entity;\r\nimport jakarta.validation.constraints.NotNull;\r\nimport jakarta.validation.constraints.Size;\r\nimport java.io.Serializable;\r\nimport jakarta.persistence.*;\r\n\r\n\r\n/**\r\n *\r\n * @author Hakim\r\n */\r\n@Entity\r\npublic class BookAuthor implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @Size(max = 30)\r\n    @Column(name = &quot;FIRST&quot;)\r\n    @NotNull\r\n    private String first;\r\n\r\n    @Size(max = 30)\r\n    @NotNull()\r\n    @Column(name = &quot;LAST&quot;)\r\n    private String last;\r\n\r\n    @Size(max=200)\r\n    @NotNull\r\n    @Column(name = &quot;BIO&quot;)\r\n    private String bio;\r\n\r\n    public BookAuthor(String first, String last, String bio) {\r\n        this.first = first;\r\n        this.last = last;\r\n        this.bio = bio;\r\n    }\r\n    \r\n    \r\n\r\n    public String getFirst() {\r\n        return first;\r\n    }\r\n\r\n    public void setFirst(String first) {\r\n        this.first = first;\r\n    }\r\n\r\n    public String getLast() {\r\n        return last;\r\n    }\r\n\r\n    public void setLast(String last) {\r\n        this.last = last;\r\n    }\r\n\r\n    public String getBio() {\r\n        return bio;\r\n    }\r\n\r\n    public void setBio(String bio) {\r\n        this.bio = bio;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        int hash = 0;\r\n        hash += (id != null ? id.hashCode() : 0);\r\n        return hash;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object object) {\r\n        // TODO: Warning - this method won&#39;t work in the case the id fields are not set\r\n        if (!(object instanceof BookAuthor)) {\r\n            return false;\r\n        }\r\n        BookAuthor other = (BookAuthor) object;\r\n        if ((this.id == null &amp;&amp; other.id != null) || (this.id != null &amp;&amp; !this.id.equals(other.id))) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;BookAuthor{&quot; + &quot;id=&quot; + id + &quot;, first=&quot; + first + &quot;, last=&quot; + last + &quot;, bio=&quot; + bio + &#39;}&#39;;\r\n    }\r\n\r\n    \r\n\r\n}\r\n```\r\n\r\n\r\nThis is main method\r\n\r\n```\r\n\r\npublic static void main(String[] args) {\r\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;myPersistence&quot;);\r\n        EntityManager em = emf.createEntityManager();\r\n        try {\r\n            EntityTransaction transaction = em.getTransaction();\r\n            transaction.begin();\r\n            \r\n            \r\n            BookAuthor author=new BookAuthor(&quot;Sadiul&quot;,&quot;Hakim&quot;,&quot;I am a Full Stack Java Developer.&quot;);\r\n            \r\n            \r\n            em.persist(author);\r\n            \r\n            transaction.commit();\r\n            em.close();\r\n            emf.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n```\r\n\r\nThis is complete stack trace\r\n\r\n```\r\nJan 21, 2023 3:18:35 PM jakarta.persistence.spi.PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver log\r\nWARNING: jakarta.persistence.spi::No valid providers found.\r\nException in thread &quot;main&quot; jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named myPersistence\r\n\tat jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:86)\r\n\tat jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n\tat com.hakim.entity.Main.main(Main.java:16)\r\nCommand execution failed.\r\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:982)\r\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:929)\r\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:457)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n```\r\n\r\n\r\n\r\nI also tried to add this dependencies\r\n\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    &lt;version&gt;5.6.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nAnd added this provider\r\n\r\n\r\n```\r\n&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n```\r\n\r\n\r\nStll getting same error\r\n\r\n\r\n```\r\nJan 21, 2023 3:18:35 PM jakarta.persistence.spi.PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver log\r\nWARNING: jakarta.persistence.spi::No valid providers found.\r\nException in thread &quot;main&quot; jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named myPersistence\r\n\tat jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:86)\r\n\tat jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n\tat com.hakim.entity.Main.main(Main.java:16)\r\nCommand execution failed.\r\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:982)\r\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:929)\r\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:457)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n```\r\n\r\n\r\nPlease help me how do i start with Jakarta Persistence 3.0","title":"jakarta.persistence.PersistenceException: No Persistence provider for EntityManager","body":"<p>I am getting above error while configuring Jakarta Persistence.</p>\n<p>I added this dependency</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>This is my persistence.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;persistence \n    xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n    version=&quot;3.0&quot; \n    xsi:schemaLocation=&quot;\n        https://jakarta.ee/xml/ns/persistence \n        https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd\n    &quot;\n&gt;\n        \n    &lt;!-- Define Persistence Unit --&gt;\n        \n    &lt;persistence-unit name=&quot;myPersistence&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;!--  DB Connection --&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;Hakim&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;hakim@123&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3307/learn&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\n        &lt;/properties&gt;\n        &lt;class&gt;com.hakim.entity.BookAuthor&lt;/class&gt;\n    &lt;/persistence-unit&gt;\n    \n&lt;/persistence&gt;\n\n\n\n</code></pre>\n<p>This is my entity class</p>\n<pre><code>package com.hakim.entity;\nimport jakarta.validation.constraints.NotNull;\nimport jakarta.validation.constraints.Size;\nimport java.io.Serializable;\nimport jakarta.persistence.*;\n\n\n/**\n *\n * @author Hakim\n */\n@Entity\npublic class BookAuthor implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Size(max = 30)\n    @Column(name = &quot;FIRST&quot;)\n    @NotNull\n    private String first;\n\n    @Size(max = 30)\n    @NotNull()\n    @Column(name = &quot;LAST&quot;)\n    private String last;\n\n    @Size(max=200)\n    @NotNull\n    @Column(name = &quot;BIO&quot;)\n    private String bio;\n\n    public BookAuthor(String first, String last, String bio) {\n        this.first = first;\n        this.last = last;\n        this.bio = bio;\n    }\n    \n    \n\n    public String getFirst() {\n        return first;\n    }\n\n    public void setFirst(String first) {\n        this.first = first;\n    }\n\n    public String getLast() {\n        return last;\n    }\n\n    public void setLast(String last) {\n        this.last = last;\n    }\n\n    public String getBio() {\n        return bio;\n    }\n\n    public void setBio(String bio) {\n        this.bio = bio;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @Override\n    public int hashCode() {\n        int hash = 0;\n        hash += (id != null ? id.hashCode() : 0);\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object object) {\n        // TODO: Warning - this method won't work in the case the id fields are not set\n        if (!(object instanceof BookAuthor)) {\n            return false;\n        }\n        BookAuthor other = (BookAuthor) object;\n        if ((this.id == null &amp;&amp; other.id != null) || (this.id != null &amp;&amp; !this.id.equals(other.id))) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;BookAuthor{&quot; + &quot;id=&quot; + id + &quot;, first=&quot; + first + &quot;, last=&quot; + last + &quot;, bio=&quot; + bio + '}';\n    }\n\n    \n\n}\n</code></pre>\n<p>This is main method</p>\n<pre><code>\npublic static void main(String[] args) {\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;myPersistence&quot;);\n        EntityManager em = emf.createEntityManager();\n        try {\n            EntityTransaction transaction = em.getTransaction();\n            transaction.begin();\n            \n            \n            BookAuthor author=new BookAuthor(&quot;Sadiul&quot;,&quot;Hakim&quot;,&quot;I am a Full Stack Java Developer.&quot;);\n            \n            \n            em.persist(author);\n            \n            transaction.commit();\n            em.close();\n            emf.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n</code></pre>\n<p>This is complete stack trace</p>\n<pre><code>Jan 21, 2023 3:18:35 PM jakarta.persistence.spi.PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver log\nWARNING: jakarta.persistence.spi::No valid providers found.\nException in thread &quot;main&quot; jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named myPersistence\n    at jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:86)\n    at jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\n    at com.hakim.entity.Main.main(Main.java:16)\nCommand execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:982)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:929)\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:457)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n</code></pre>\n<p>I also tried to add this dependencies</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;5.6.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And added this provider</p>\n<pre><code>&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n</code></pre>\n<p>Stll getting same error</p>\n<pre><code>Jan 21, 2023 3:18:35 PM jakarta.persistence.spi.PersistenceProviderResolverHolder$DefaultPersistenceProviderResolver log\nWARNING: jakarta.persistence.spi::No valid providers found.\nException in thread &quot;main&quot; jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named myPersistence\n    at jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:86)\n    at jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\n    at com.hakim.entity.Main.main(Main.java:16)\nCommand execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:982)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:929)\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:457)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n</code></pre>\n<p>Please help me how do i start with Jakarta Persistence 3.0</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674302388,"creation_date":1674302388,"answer_id":75193146,"question_id":75192172,"body_markdown":"&gt;&gt;and I am getting the path like /storage/emulated/0/Download/offer.pdf\r\n\r\nNo you are not.\r\n\r\nYou get a nice uri with ACTION_GET_CONTENT. A content scheme.\r\n\r\nUse that uri.\r\n\r\nGoogle for inputstreamrequestbody.","title":"Alternative of MANAGE_EXTERNAL_STORAGE","body":"<blockquote>\n<blockquote>\n<p>and I am getting the path like /storage/emulated/0/Download/offer.pdf</p>\n</blockquote>\n</blockquote>\n<p>No you are not.</p>\n<p>You get a nice uri with ACTION_GET_CONTENT. A content scheme.</p>\n<p>Use that uri.</p>\n<p>Google for inputstreamrequestbody.</p>\n"}],"owner":{"account_id":27580334,"reputation":1,"user_id":21049695,"display_name":"Shadab Azam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674305491,"answer_count":1,"score":0,"last_activity_date":1674302388,"creation_date":1674291558,"question_id":75192172,"body_markdown":"I am trying to remove MANAGE_EXTERNAL_STORAGE, but after removing this permission I am not able to upload Multipart from the given path.\r\n\r\nI am using this line of code to pick up the pdf file,\r\n\r\n    `Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n    intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n    intent.setType(&quot;application/pdf&quot;);\r\n    resultLauncher.launch(intent);`\r\n\r\nand I am getting the path like \r\n`/storage/emulated/0/Download/offer.pdf`\r\n\r\nAfter getting this path i am converting it into Multipart by using following code and uploading it to the server,\r\n\r\n    `File file = new File(path);\r\n    MultipartBody.Part filePart = MultipartBody.Part.createFormData(&quot;file&quot;, file.getName(), RequestBody.create(file,      MediaType.parse(&quot;application/pdf&quot;)));`\r\n\r\n and while uploading this on server i am getting an error which is:\r\n\r\n`java.io.FileNotFoundException: /storage/emulated/0/Documents/mSchooling/offer.pdf: open failed: EACCES (Permission denied).`\r\n\r\nOne thing is that i already given read_external_storage and write_external_storage.\r\n\r\nPlease help me to resolve this problem.\r\n\r\n\r\n\r\n\r\n\r\nI tried this code to pick up the file,\r\n\r\n`ntent.addCategory(Intent.CATEGORY_OPENABLE);\r\n intent.setType(&quot;application/pdf&quot;);\r\n resultLauncher.launch(intent);`\r\n\r\nand trying to convert it into Multipart by using following code,\r\n\r\n`File file = new File(path);\r\n    MultipartBody.Part filePart = MultipartBody.Part.createFormData(&quot;file&quot;, file.getName(), RequestBody.create(file,      MediaType.parse(&quot;application/pdf&quot;)));`","title":"Alternative of MANAGE_EXTERNAL_STORAGE","body":"<p>I am trying to remove MANAGE_EXTERNAL_STORAGE, but after removing this permission I am not able to upload Multipart from the given path.</p>\n<p>I am using this line of code to pick up the pdf file,</p>\n<pre><code>`Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\nintent.addCategory(Intent.CATEGORY_OPENABLE);\nintent.setType(&quot;application/pdf&quot;);\nresultLauncher.launch(intent);`\n</code></pre>\n<p>and I am getting the path like\n<code>/storage/emulated/0/Download/offer.pdf</code></p>\n<p>After getting this path i am converting it into Multipart by using following code and uploading it to the server,</p>\n<pre><code>`File file = new File(path);\nMultipartBody.Part filePart = MultipartBody.Part.createFormData(&quot;file&quot;, file.getName(), RequestBody.create(file,      MediaType.parse(&quot;application/pdf&quot;)));`\n</code></pre>\n<p>and while uploading this on server i am getting an error which is:</p>\n<p><code>java.io.FileNotFoundException: /storage/emulated/0/Documents/mSchooling/offer.pdf: open failed: EACCES (Permission denied).</code></p>\n<p>One thing is that i already given read_external_storage and write_external_storage.</p>\n<p>Please help me to resolve this problem.</p>\n<p>I tried this code to pick up the file,</p>\n<p><code>ntent.addCategory(Intent.CATEGORY_OPENABLE); intent.setType(&quot;application/pdf&quot;); resultLauncher.launch(intent);</code></p>\n<p>and trying to convert it into Multipart by using following code,</p>\n<p><code>File file = new File(path); MultipartBody.Part filePart = MultipartBody.Part.createFormData(&quot;file&quot;, file.getName(), RequestBody.create(file,      MediaType.parse(&quot;application/pdf&quot;)));</code></p>\n"},{"tags":["java","netbeans","jdbc","derby"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":3,"creation_date":1348942678,"post_id":12655227,"comment_id":17071682,"body_markdown":"This seems relevant: *&quot;Another instance of Derby may have already booted the database C:\\Users\\yohan\\.netbeans-derby\\contact.&quot;*","body":"This seems relevant: <i>&quot;Another instance of Derby may have already booted the database C:\\Users\\yohan\\.netbeans-derby\\contact.&quot;</i>"},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1348942956,"post_id":12655227,"comment_id":17071749,"body_markdown":"yes..But there is not! Or, at least, I didn&#39;t do it by my own! Is there any error in the code?","body":"yes..But there is not! Or, at least, I didn&#39;t do it by my own! Is there any error in the code?"}],"answers":[{"tags":[],"owner":{"account_id":1392054,"reputation":11852,"user_id":1322642,"display_name":"moskito-x"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1348983480,"creation_date":1348983480,"answer_id":12658941,"question_id":12655227,"body_markdown":"**Your program contains some misunderstandings and wrong assignments !**\r\n\r\n - From your image you can see your DATABASE = contactDB not contact.   \r\n   &quot;jdbc:derby:C:/Users/yohan/.netbeans-derby/contact&quot; is **wrong**  \r\n   &quot;jdbc:derby:C:/Users/yohan/.netbeans-derby/contactDB&quot; now only the DB is correct.  \r\n   **Error:** Another instance of Derby may have already booted the database C:\\Users\\yohan\\.netbeans-derby\\contact.\r\n\r\n\r\n - For the Con.String it&#39;s better not to use the PATH  \r\n   **will work** &quot;jdbc:derby://localhost:1527/C:/Users/yohan/.netbeans-derby/contactDB&quot;,&quot;yohan&quot;,&quot;xyz&quot;  \r\n   **better is** &quot;jdbc:derby://localhost:1527/contactDB&quot;,&quot;yohan&quot;,&quot;xyz&quot;  \r\n\r\nIt is better to specify the full Path to the table. Otherwise it is working only in Netbeans, with an already open table and a default schema.\r\n\r\n - prepareStatement  \r\n   only **inside Netbeans** con.prepareStatement(&quot;insert **into FRIENDS** values(?,?,?)&quot;);  \r\n   **better** is con.prepareStatement(&quot;insert **into APP.FRIENDS** values(?,?,?)&quot;);\r\n\r\nNow look at this !\r\n\r\n        ps.setInt(1, id);\r\n        ps.setString(1, firstName);\r\n        ps.setString(2, lastName);\r\n\r\n - First you set the **id** with setInt().  \r\n - Second Now you set the **id** with a **string** setString()  ( firstName !!!!!)  \r\n - Third at the end you override firstName with lastName and the lastName in the ps. is empty.\r\n\r\nThis will give you the next Error\r\n\r\nIt is better , when an **error occurs**, not to run the program further. The error list will grow up. It&#39;s hard to read. in your case the first Error is in **createConnection** and runs on !! \r\n\r\n - Error createConnection  \r\n - Error con.prepareStatement(&quot;...  \r\n - Error ps.executeUpdate()  \r\n - Error closeConnection()\r\n\r\nTest it with **boolean** and **if** !\r\n\r\n\r\n    private boolean createConnection()\r\n    {\r\n        try\r\n        {\r\n            Class.forName(&quot;org.apache.derby.jdbc.EmbeddedDriver&quot;);\r\n            con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/contactDB&quot;,&quot;yohan&quot;,&quot;xyz&quot;);\r\n        }\r\n        catch(Exception e)\r\n        {   \r\n            System.out.println(&quot;Error getConnection&quot;);\r\n            return false;\r\n        }\r\n     return true;   \r\n    }\r\n\r\n**No need to run further if the connection fails.**\r\n\r\n    public void insertData(int id, String firstName, String lastName)\r\n        {\r\n           if (createConnection()) {\r\n            try\r\n            {\r\n                PreparedStatement ps = con.prepareStatement(&quot;INSERT INTO APP.FRIENDS values(?,?,?)&quot;);\r\n                ps.setInt(1, id);\r\n                ps.setString(2, firstName);\r\n                ps.setString(3, lastName);\r\n    [...]\r\n\r\nI hope this helps you a bit.\r\n  \r\n\r\n","title":"Apache Derby - java.sql.SQLException: Failed to start database","body":"<p><strong>Your program contains some misunderstandings and wrong assignments !</strong></p>\n\n<ul>\n<li><p>From your image you can see your DATABASE = contactDB not contact.<br>\n\"jdbc:derby:C:/Users/yohan/.netbeans-derby/contact\" is <strong>wrong</strong><br>\n\"jdbc:derby:C:/Users/yohan/.netbeans-derby/contactDB\" now only the DB is correct.<br>\n<strong>Error:</strong> Another instance of Derby may have already booted the database C:\\Users\\yohan.netbeans-derby\\contact.</p></li>\n<li><p>For the Con.String it's better not to use the PATH<br>\n<strong>will work</strong> \"jdbc:derby://localhost:1527/C:/Users/yohan/.netbeans-derby/contactDB\",\"yohan\",\"xyz\"<br>\n<strong>better is</strong> \"jdbc:derby://localhost:1527/contactDB\",\"yohan\",\"xyz\"  </p></li>\n</ul>\n\n<p>It is better to specify the full Path to the table. Otherwise it is working only in Netbeans, with an already open table and a default schema.</p>\n\n<ul>\n<li>prepareStatement<br>\nonly <strong>inside Netbeans</strong> con.prepareStatement(\"insert <strong>into FRIENDS</strong> values(?,?,?)\");<br>\n<strong>better</strong> is con.prepareStatement(\"insert <strong>into APP.FRIENDS</strong> values(?,?,?)\");</li>\n</ul>\n\n<p>Now look at this !</p>\n\n<pre><code>    ps.setInt(1, id);\n    ps.setString(1, firstName);\n    ps.setString(2, lastName);\n</code></pre>\n\n<ul>\n<li>First you set the <strong>id</strong> with setInt().  </li>\n<li>Second Now you set the <strong>id</strong> with a <strong>string</strong> setString()  ( firstName !!!!!)  </li>\n<li>Third at the end you override firstName with lastName and the lastName in the ps. is empty.</li>\n</ul>\n\n<p>This will give you the next Error</p>\n\n<p>It is better , when an <strong>error occurs</strong>, not to run the program further. The error list will grow up. It's hard to read. in your case the first Error is in <strong>createConnection</strong> and runs on !! </p>\n\n<ul>\n<li>Error createConnection  </li>\n<li>Error con.prepareStatement(\"...  </li>\n<li>Error ps.executeUpdate()  </li>\n<li>Error closeConnection()</li>\n</ul>\n\n<p>Test it with <strong>boolean</strong> and <strong>if</strong> !</p>\n\n<pre><code>private boolean createConnection()\n{\n    try\n    {\n        Class.forName(\"org.apache.derby.jdbc.EmbeddedDriver\");\n        con = DriverManager.getConnection(\"jdbc:derby://localhost:1527/contactDB\",\"yohan\",\"xyz\");\n    }\n    catch(Exception e)\n    {   \n        System.out.println(\"Error getConnection\");\n        return false;\n    }\n return true;   \n}\n</code></pre>\n\n<p><strong>No need to run further if the connection fails.</strong></p>\n\n<pre><code>public void insertData(int id, String firstName, String lastName)\n    {\n       if (createConnection()) {\n        try\n        {\n            PreparedStatement ps = con.prepareStatement(\"INSERT INTO APP.FRIENDS values(?,?,?)\");\n            ps.setInt(1, id);\n            ps.setString(2, firstName);\n            ps.setString(3, lastName);\n[...]\n</code></pre>\n\n<p>I hope this helps you a bit.</p>\n"},{"tags":[],"owner":{"account_id":2847509,"reputation":81,"user_id":2445494,"display_name":"Rajeev Thakur"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1370191989,"creation_date":1370191989,"answer_id":16885050,"question_id":12655227,"body_markdown":"your datasae is already connected disconnect right click -&gt; disconnect now try it ,\r\n\r\nit will work sure.","title":"Apache Derby - java.sql.SQLException: Failed to start database","body":"<p>your datasae is already connected disconnect right click -> disconnect now try it ,</p>\n\n<p>it will work sure.</p>\n"},{"tags":[],"owner":{"display_name":"user10676642"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607644628,"creation_date":1607644628,"answer_id":65243972,"question_id":12655227,"body_markdown":"your database is already connected, you have to disconnect. right-click -&gt; disconnect.\r\nand now try again it will work sure.","title":"Apache Derby - java.sql.SQLException: Failed to start database","body":"<p>your database is already connected, you have to disconnect. right-click -&gt; disconnect.\nand now try again it will work sure.</p>\n"},{"tags":[],"owner":{"account_id":22398686,"reputation":11,"user_id":16609530,"display_name":"Anis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674301863,"creation_date":1674301863,"answer_id":75193088,"question_id":12655227,"body_markdown":"go to Services &gt;&gt; Databases &gt;&gt;  Java DB &gt;&gt; right-click &gt;&gt;\r\nStop the Server. and connect your embedded DB.","title":"Apache Derby - java.sql.SQLException: Failed to start database","body":"<p>go to Services &gt;&gt; Databases &gt;&gt;  Java DB &gt;&gt; right-click &gt;&gt;\nStop the Server. and connect your embedded DB.</p>\n"}],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34568,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":12658941,"answer_count":4,"score":7,"last_activity_date":1674301863,"creation_date":1348942567,"question_id":12655227,"body_markdown":"First, this is my first time with Apache Derby. I am using netbeans, willing to use embedded apache derby, and I followed the following tutorial for configuring and installing the database. Then, I attached the derby.jar file to my project, using project properties.\r\n\r\nhttp://netbeans.org/kb/docs/ide/java-db.html#starting\r\n\r\nThe attached image will show my database status in netbeans\r\n![enter image description here][1]\r\n\r\n  [1]: http://i.stack.imgur.com/ym3pf.png\r\n\r\n\r\n\r\n\r\nMy database name is &quot;contact&quot;. Table name is &quot;FRIENDS&quot;.\r\n\r\nFollowing is my test code\r\n\r\n    **DatabaseConnector.java**\r\n    \r\n    import java.sql.*;\r\n    \r\n    public class DataBaseConnector\r\n    {\r\n        private Connection con;\r\n        \r\n        public DataBaseConnector()\r\n        {\r\n            \r\n        }\r\n        \r\n        private void createConnection()\r\n        {\r\n            try\r\n            {\r\n                Class.forName(&quot;org.apache.derby.jdbc.EmbeddedDriver&quot;);\r\n                con = DriverManager.getConnection(&quot;jdbc:derby:C:/Users/yohan/.netbeans-derby/contact&quot;,&quot;yohan&quot;,&quot;xyz&quot;);\r\n            }\r\n            catch(Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        \r\n        private void closeConnection()\r\n        {\r\n            try\r\n            {\r\n                con.close();\r\n            }\r\n            catch(Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        \r\n        \r\n        public void insertData(int id, String firstName, String lastName)\r\n        {\r\n            createConnection();\r\n            try\r\n            {\r\n                PreparedStatement ps = con.prepareStatement(&quot;insert into FRIENDS values(?,?,?)&quot;);\r\n                ps.setInt(1, id);\r\n                ps.setString(1, firstName);\r\n                ps.setString(2, lastName);\r\n                \r\n                int result = ps.executeUpdate();\r\n                \r\n                if(result&gt;0)\r\n                {\r\n                    System.out.println(&quot;Data Inserted&quot;);\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;Something happened&quot;);\r\n                }\r\n            }\r\n            catch(Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n            finally\r\n            {\r\n                closeConnection();\r\n            }\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n\r\n**DatabaseUI.java**\r\n\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class DatabaseUI extends JFrame\r\n    {\r\n        private JLabel firstName, id, lastName;\r\n        private JTextField idTxt, firstNameTxt, lastNameTxt;\r\n        private JButton ok;\r\n        \r\n        public DatabaseUI()\r\n        {\r\n         firstName = new JLabel(&quot;First Name: &quot;);\r\n         lastName = new JLabel(&quot;Last Name: &quot;);\r\n         id = new JLabel(&quot;ID: &quot;);\r\n         \r\n         firstNameTxt = new JTextField(10);\r\n         lastNameTxt = new JTextField(10);\r\n         idTxt = new JTextField(10);\r\n         \r\n         ok = new JButton(&quot;OK&quot;);\r\n         ok.addActionListener(new OKAction());\r\n         \r\n         JPanel centerPanel = new JPanel();\r\n         centerPanel.setLayout(new GridLayout(4,2));\r\n         centerPanel.add(id);\r\n         centerPanel.add(idTxt);\r\n         centerPanel.add(firstName);\r\n         centerPanel.add(firstNameTxt);\r\n         centerPanel.add(lastName);\r\n         centerPanel.add(lastNameTxt);\r\n         centerPanel.add(new JPanel());\r\n         centerPanel.add(ok);\r\n         \r\n         getContentPane().add(centerPanel,&quot;Center&quot;);\r\n         \r\n         \r\n         this.pack();\r\n         this.setVisible(true);\r\n         \r\n         \r\n        }\r\n        \r\n        private class OKAction implements ActionListener\r\n        {\r\n            public void actionPerformed(ActionEvent ae)\r\n            {\r\n                DataBaseConnector db = new DataBaseConnector();\r\n                \r\n                int id = Integer.parseInt(idTxt.getText());\r\n                \r\n                db.insertData(id, firstNameTxt.getText().trim(), lastNameTxt.getText().trim());\r\n            }\r\n        }\r\n        \r\n        public static void main(String[]args)\r\n        {\r\n            new DatabaseUI();\r\n        }\r\n    }\r\n\r\nBut, when I am trying to insert data into the database, it is giving me the following error\r\n\r\n\r\n    run:\r\n    java.sql.SQLException: Failed to start database &#39;C:/Users/yohan/.netbeans-derby/contact&#39; with class loader sun.misc.Launcher$AppClassLoader@1050169, see the next exception for details.\r\n    \tat org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)\r\n    \tat org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)\r\n    \tat org.apache.derby.impl.jdbc.Util.seeNextException(Unknown Source)\r\n    \tat org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)\r\n    \tat org.apache.derby.impl.jdbc.EmbedConnection.&lt;init&gt;(Unknown Source)\r\n    \tat org.apache.derby.impl.jdbc.EmbedConnection30.&lt;init&gt;(Unknown Source)\r\n    \tat org.apache.derby.impl.jdbc.EmbedConnection40.&lt;init&gt;(Unknown Source)\r\n    \tat org.apache.derby.jdbc.Driver40.getNewEmbedConnection(Unknown Source)\r\n    \tat org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)\r\n    \tat org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:579)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:221)\r\n    \tat DataBaseConnector.createConnection(DataBaseConnector.java:17)\r\n    \tat DataBaseConnector.insertData(DataBaseConnector.java:40)\r\n    \tat DatabaseUI$OKAction.actionPerformed(DatabaseUI.java:53)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\r\n    \tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\r\n    \tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n    \tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n    \tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n    \tat java.awt.Component.processMouseEvent(Component.java:6504)\r\n    \tat javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\r\n    \tat java.awt.Component.processEvent(Component.java:6269)\r\n    \tat java.awt.Container.processEvent(Container.java:2229)\r\n    \tat java.awt.Component.dispatchEventImpl(Component.java:4860)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4686)\r\n    \tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\r\n    \tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\r\n    \tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2273)\r\n    \tat java.awt.Window.dispatchEventImpl(Window.java:2713)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4686)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:707)\r\n    \tat java.awt.EventQueue.access$000(EventQueue.java:101)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:666)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:664)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:680)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:678)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:677)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:211)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\r\n    \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n    Caused by: java.sql.SQLException: Failed to start database &#39;C:/Users/yohan/.netbeans-derby/contact&#39; with class loader sun.misc.Launcher$AppClassLoader@1050169, see the next exception for details.\r\n    \tat org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)\r\n    \tat org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)\r\n    \t... 51 more\r\n    Caused by: java.sql.SQLException: Another instance of Derby may have already booted the database C:\\Users\\yohan\\.netbeans-derby\\contact.\r\n    \tat org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)\r\n    \tat org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)\r\n    \tat org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)\r\n    \tat org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)\r\n    \t... 48 more\r\n    Caused by: ERROR XSDB6: Another instance of Derby may have already booted the database C:\\Users\\yohan\\.netbeans-derby\\contact.\r\n    \tat org.apache.derby.iapi.error.StandardException.newException(Unknown Source)\r\n    \tat org.apache.derby.impl.store.raw.data.BaseDataFileFactory.privGetJBMSLockOnDB(Unknown Source)\r\n    \tat org.apache.derby.impl.store.raw.data.BaseDataFileFactory.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat org.apache.derby.impl.store.raw.data.BaseDataFileFactory.getJBMSLockOnDB(Unknown Source)\r\n    \tat org.apache.derby.impl.store.raw.data.BaseDataFileFactory.boot(Unknown Source)\r\n    \tat org.apache.derby.impl.services.monitor.BaseMonitor.boot(Unknown Source)\r\n    \tat org.apache.derby.impl.services.monitor.TopService.bootModule(Unknown Source)\r\n    \tat org.apache.derby.impl.services.monitor.BaseMonitor.startModule(Unknown Source)\r\n    \tat org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Unknown Source)\r\n    \tat org.apache.derby.impl.store.raw.RawStore.boot(Unknown Source)\r\n    \tat org.apache.derby.impl.services.monitor.BaseMonitor.boot(Unknown Source)\r\n    \tat org.apache.derby.impl.services.monitor.TopService.bootModule(Unknown Source)\r\n    \tat org.apache.derby.impl.services.monitor.BaseMonitor.startModule(Unknown Source)\r\n    \tat org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Unknown Source)\r\n    \tat org.apache.derby.impl.store.access.RAMAccessManager.boot(Unknown Source)\r\n    \tat org.apache.derby.impl.services.monitor.BaseMonitor.boot(Unknown Source)\r\n    \tat org.apache.derby.impl.services.monitor.TopService.bootModule(Unknown Source)\r\n    \tat org.apache.derby.impl.services.monitor.BaseMonitor.startModule(Unknown Source)\r\n    \tat org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Unknown Source)\r\n    \tat org.apache.derby.impl.db.BasicDatabase.bootStore(Unknown Source)\r\n    \tat org.apache.derby.impl.db.BasicDatabase.boot(Unknown Source)\r\n    \tat org.apache.derby.impl.services.monitor.BaseMonitor.boot(Unknown Source)\r\n    \tat org.apache.derby.impl.services.monitor.TopService.bootModule(Unknown Source)\r\n    \tat org.apache.derby.impl.services.monitor.BaseMonitor.bootService(Unknown Source)\r\n    \tat org.apache.derby.impl.services.monitor.BaseMonitor.startProviderService(Unknown Source)\r\n    \tat org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)\r\n    \tat org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)\r\n    \tat org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)\r\n    \t... 48 more\r\n    java.lang.NullPointerException\r\n    \tat DataBaseConnector.insertData(DataBaseConnector.java:43)\r\n    \tat DatabaseUI$OKAction.actionPerformed(DatabaseUI.java:53)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\r\n    \tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\r\n    \tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n    \tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n    \tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n    \tat java.awt.Component.processMouseEvent(Component.java:6504)\r\n    \tat javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\r\n    \tat java.awt.Component.processEvent(Component.java:6269)\r\n    \tat java.awt.Container.processEvent(Container.java:2229)\r\n    \tat java.awt.Component.dispatchEventImpl(Component.java:4860)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4686)\r\n    \tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\r\n    \tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\r\n    \tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2273)\r\n    \tat java.awt.Window.dispatchEventImpl(Window.java:2713)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4686)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:707)\r\n    \tat java.awt.EventQueue.access$000(EventQueue.java:101)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:666)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:664)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:680)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:678)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:677)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:211)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\r\n    \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n    java.lang.NullPointerException\r\n    \tat DataBaseConnector.closeConnection(DataBaseConnector.java:29)\r\n    \tat DataBaseConnector.insertData(DataBaseConnector.java:65)\r\n    \tat DatabaseUI$OKAction.actionPerformed(DatabaseUI.java:53)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\r\n    \tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\r\n    \tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n    \tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n    \tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n    \tat java.awt.Component.processMouseEvent(Component.java:6504)\r\n    \tat javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\r\n    \tat java.awt.Component.processEvent(Component.java:6269)\r\n    \tat java.awt.Container.processEvent(Container.java:2229)\r\n    \tat java.awt.Component.dispatchEventImpl(Component.java:4860)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2287)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4686)\r\n    \tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\r\n    \tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\r\n    \tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2273)\r\n    \tat java.awt.Window.dispatchEventImpl(Window.java:2713)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4686)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:707)\r\n    \tat java.awt.EventQueue.access$000(EventQueue.java:101)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:666)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:664)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:680)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:678)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:677)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:211)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\r\n    \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n    BUILD SUCCESSFUL (total time: 12 seconds)\r\n\r\n\r\nWhy is this? Please help!\r\n\r\n\r\nApart from that first main question, I would like to ask another 2 questions.\r\n\r\n2. I have to give the explicit location of the database as the connection here. But, when I give this to a client, how can I do that? \r\n3. I have to start the database connection manually using netbeans. Is there anyway to start the database connection automatically? Using code?\r\n\r\n\r\nPlease help me. Thanks\r\n","title":"Apache Derby - java.sql.SQLException: Failed to start database","body":"<p>First, this is my first time with Apache Derby. I am using netbeans, willing to use embedded apache derby, and I followed the following tutorial for configuring and installing the database. Then, I attached the derby.jar file to my project, using project properties.</p>\n\n<p><a href=\"http://netbeans.org/kb/docs/ide/java-db.html#starting\" rel=\"noreferrer\">http://netbeans.org/kb/docs/ide/java-db.html#starting</a></p>\n\n<p>The attached image will show my database status in netbeans\n<img src=\"https://i.stack.imgur.com/ym3pf.png\" alt=\"enter image description here\"></p>\n\n<p>My database name is \"contact\". Table name is \"FRIENDS\".</p>\n\n<p>Following is my test code</p>\n\n<pre><code>**DatabaseConnector.java**\n\nimport java.sql.*;\n\npublic class DataBaseConnector\n{\n    private Connection con;\n\n    public DataBaseConnector()\n    {\n\n    }\n\n    private void createConnection()\n    {\n        try\n        {\n            Class.forName(\"org.apache.derby.jdbc.EmbeddedDriver\");\n            con = DriverManager.getConnection(\"jdbc:derby:C:/Users/yohan/.netbeans-derby/contact\",\"yohan\",\"xyz\");\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n    private void closeConnection()\n    {\n        try\n        {\n            con.close();\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n\n    public void insertData(int id, String firstName, String lastName)\n    {\n        createConnection();\n        try\n        {\n            PreparedStatement ps = con.prepareStatement(\"insert into FRIENDS values(?,?,?)\");\n            ps.setInt(1, id);\n            ps.setString(1, firstName);\n            ps.setString(2, lastName);\n\n            int result = ps.executeUpdate();\n\n            if(result&gt;0)\n            {\n                System.out.println(\"Data Inserted\");\n            }\n            else\n            {\n                System.out.println(\"Something happened\");\n            }\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n        finally\n        {\n            closeConnection();\n        }\n    }\n\n\n}\n</code></pre>\n\n<p><strong>DatabaseUI.java</strong></p>\n\n<pre><code>import java.awt.event.*;\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class DatabaseUI extends JFrame\n{\n    private JLabel firstName, id, lastName;\n    private JTextField idTxt, firstNameTxt, lastNameTxt;\n    private JButton ok;\n\n    public DatabaseUI()\n    {\n     firstName = new JLabel(\"First Name: \");\n     lastName = new JLabel(\"Last Name: \");\n     id = new JLabel(\"ID: \");\n\n     firstNameTxt = new JTextField(10);\n     lastNameTxt = new JTextField(10);\n     idTxt = new JTextField(10);\n\n     ok = new JButton(\"OK\");\n     ok.addActionListener(new OKAction());\n\n     JPanel centerPanel = new JPanel();\n     centerPanel.setLayout(new GridLayout(4,2));\n     centerPanel.add(id);\n     centerPanel.add(idTxt);\n     centerPanel.add(firstName);\n     centerPanel.add(firstNameTxt);\n     centerPanel.add(lastName);\n     centerPanel.add(lastNameTxt);\n     centerPanel.add(new JPanel());\n     centerPanel.add(ok);\n\n     getContentPane().add(centerPanel,\"Center\");\n\n\n     this.pack();\n     this.setVisible(true);\n\n\n    }\n\n    private class OKAction implements ActionListener\n    {\n        public void actionPerformed(ActionEvent ae)\n        {\n            DataBaseConnector db = new DataBaseConnector();\n\n            int id = Integer.parseInt(idTxt.getText());\n\n            db.insertData(id, firstNameTxt.getText().trim(), lastNameTxt.getText().trim());\n        }\n    }\n\n    public static void main(String[]args)\n    {\n        new DatabaseUI();\n    }\n}\n</code></pre>\n\n<p>But, when I am trying to insert data into the database, it is giving me the following error</p>\n\n<pre><code>run:\njava.sql.SQLException: Failed to start database 'C:/Users/yohan/.netbeans-derby/contact' with class loader sun.misc.Launcher$AppClassLoader@1050169, see the next exception for details.\n    at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)\n    at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)\n    at org.apache.derby.impl.jdbc.Util.seeNextException(Unknown Source)\n    at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)\n    at org.apache.derby.impl.jdbc.EmbedConnection.&lt;init&gt;(Unknown Source)\n    at org.apache.derby.impl.jdbc.EmbedConnection30.&lt;init&gt;(Unknown Source)\n    at org.apache.derby.impl.jdbc.EmbedConnection40.&lt;init&gt;(Unknown Source)\n    at org.apache.derby.jdbc.Driver40.getNewEmbedConnection(Unknown Source)\n    at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)\n    at org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)\n    at java.sql.DriverManager.getConnection(DriverManager.java:579)\n    at java.sql.DriverManager.getConnection(DriverManager.java:221)\n    at DataBaseConnector.createConnection(DataBaseConnector.java:17)\n    at DataBaseConnector.insertData(DataBaseConnector.java:40)\n    at DatabaseUI$OKAction.actionPerformed(DatabaseUI.java:53)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6504)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\n    at java.awt.Component.processEvent(Component.java:6269)\n    at java.awt.Container.processEvent(Container.java:2229)\n    at java.awt.Component.dispatchEventImpl(Component.java:4860)\n    at java.awt.Container.dispatchEventImpl(Container.java:2287)\n    at java.awt.Component.dispatchEvent(Component.java:4686)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\n    at java.awt.Container.dispatchEventImpl(Container.java:2273)\n    at java.awt.Window.dispatchEventImpl(Window.java:2713)\n    at java.awt.Component.dispatchEvent(Component.java:4686)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:707)\n    at java.awt.EventQueue.access$000(EventQueue.java:101)\n    at java.awt.EventQueue$3.run(EventQueue.java:666)\n    at java.awt.EventQueue$3.run(EventQueue.java:664)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.awt.EventQueue$4.run(EventQueue.java:680)\n    at java.awt.EventQueue$4.run(EventQueue.java:678)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:677)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:211)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.sql.SQLException: Failed to start database 'C:/Users/yohan/.netbeans-derby/contact' with class loader sun.misc.Launcher$AppClassLoader@1050169, see the next exception for details.\n    at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)\n    at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)\n    ... 51 more\nCaused by: java.sql.SQLException: Another instance of Derby may have already booted the database C:\\Users\\yohan\\.netbeans-derby\\contact.\n    at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)\n    at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)\n    at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)\n    at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)\n    ... 48 more\nCaused by: ERROR XSDB6: Another instance of Derby may have already booted the database C:\\Users\\yohan\\.netbeans-derby\\contact.\n    at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)\n    at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.privGetJBMSLockOnDB(Unknown Source)\n    at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.getJBMSLockOnDB(Unknown Source)\n    at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.boot(Unknown Source)\n    at org.apache.derby.impl.services.monitor.BaseMonitor.boot(Unknown Source)\n    at org.apache.derby.impl.services.monitor.TopService.bootModule(Unknown Source)\n    at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(Unknown Source)\n    at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Unknown Source)\n    at org.apache.derby.impl.store.raw.RawStore.boot(Unknown Source)\n    at org.apache.derby.impl.services.monitor.BaseMonitor.boot(Unknown Source)\n    at org.apache.derby.impl.services.monitor.TopService.bootModule(Unknown Source)\n    at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(Unknown Source)\n    at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Unknown Source)\n    at org.apache.derby.impl.store.access.RAMAccessManager.boot(Unknown Source)\n    at org.apache.derby.impl.services.monitor.BaseMonitor.boot(Unknown Source)\n    at org.apache.derby.impl.services.monitor.TopService.bootModule(Unknown Source)\n    at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(Unknown Source)\n    at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Unknown Source)\n    at org.apache.derby.impl.db.BasicDatabase.bootStore(Unknown Source)\n    at org.apache.derby.impl.db.BasicDatabase.boot(Unknown Source)\n    at org.apache.derby.impl.services.monitor.BaseMonitor.boot(Unknown Source)\n    at org.apache.derby.impl.services.monitor.TopService.bootModule(Unknown Source)\n    at org.apache.derby.impl.services.monitor.BaseMonitor.bootService(Unknown Source)\n    at org.apache.derby.impl.services.monitor.BaseMonitor.startProviderService(Unknown Source)\n    at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)\n    at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)\n    at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)\n    ... 48 more\njava.lang.NullPointerException\n    at DataBaseConnector.insertData(DataBaseConnector.java:43)\n    at DatabaseUI$OKAction.actionPerformed(DatabaseUI.java:53)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6504)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\n    at java.awt.Component.processEvent(Component.java:6269)\n    at java.awt.Container.processEvent(Container.java:2229)\n    at java.awt.Component.dispatchEventImpl(Component.java:4860)\n    at java.awt.Container.dispatchEventImpl(Container.java:2287)\n    at java.awt.Component.dispatchEvent(Component.java:4686)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\n    at java.awt.Container.dispatchEventImpl(Container.java:2273)\n    at java.awt.Window.dispatchEventImpl(Window.java:2713)\n    at java.awt.Component.dispatchEvent(Component.java:4686)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:707)\n    at java.awt.EventQueue.access$000(EventQueue.java:101)\n    at java.awt.EventQueue$3.run(EventQueue.java:666)\n    at java.awt.EventQueue$3.run(EventQueue.java:664)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.awt.EventQueue$4.run(EventQueue.java:680)\n    at java.awt.EventQueue$4.run(EventQueue.java:678)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:677)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:211)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\njava.lang.NullPointerException\n    at DataBaseConnector.closeConnection(DataBaseConnector.java:29)\n    at DataBaseConnector.insertData(DataBaseConnector.java:65)\n    at DatabaseUI$OKAction.actionPerformed(DatabaseUI.java:53)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6504)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)\n    at java.awt.Component.processEvent(Component.java:6269)\n    at java.awt.Container.processEvent(Container.java:2229)\n    at java.awt.Component.dispatchEventImpl(Component.java:4860)\n    at java.awt.Container.dispatchEventImpl(Container.java:2287)\n    at java.awt.Component.dispatchEvent(Component.java:4686)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)\n    at java.awt.Container.dispatchEventImpl(Container.java:2273)\n    at java.awt.Window.dispatchEventImpl(Window.java:2713)\n    at java.awt.Component.dispatchEvent(Component.java:4686)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:707)\n    at java.awt.EventQueue.access$000(EventQueue.java:101)\n    at java.awt.EventQueue$3.run(EventQueue.java:666)\n    at java.awt.EventQueue$3.run(EventQueue.java:664)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.awt.EventQueue$4.run(EventQueue.java:680)\n    at java.awt.EventQueue$4.run(EventQueue.java:678)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:677)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:211)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nBUILD SUCCESSFUL (total time: 12 seconds)\n</code></pre>\n\n<p>Why is this? Please help!</p>\n\n<p>Apart from that first main question, I would like to ask another 2 questions.</p>\n\n<ol start=\"2\">\n<li>I have to give the explicit location of the database as the connection here. But, when I give this to a client, how can I do that? </li>\n<li>I have to start the database connection manually using netbeans. Is there anyway to start the database connection automatically? Using code?</li>\n</ol>\n\n<p>Please help me. Thanks</p>\n"},{"tags":["java","json","spring-boot","enums","deserialization"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674302200,"post_id":75193006,"comment_id":132688240,"body_markdown":"You need to configure the default object mapper of Spring Boot to accept case insensitive enums, or annotate that `getRoleEnum` method with the `@JsonCreator` annotation, like described in [Jackson databind enum case insensitive](https://stackoverflow.com/questions/24157817/jackson-databind-enum-case-insensitive)","body":"You need to configure the default object mapper of Spring Boot to accept case insensitive enums, or annotate that <code>getRoleEnum</code> method with the <code>@JsonCreator</code> annotation, like described in <a href=\"https://stackoverflow.com/questions/24157817/jackson-databind-enum-case-insensitive\">Jackson databind enum case insensitive</a>"}],"owner":{"account_id":17774746,"reputation":128,"user_id":12907379,"display_name":"mdaabis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674302220,"answer_count":0,"score":0,"last_activity_date":1674300930,"creation_date":1674300930,"question_id":75193006,"body_markdown":"I am creating an API to simulate a vending machine and I&#39;m using Spring, JPA and MySQL. I have an endpoint for a POST request that allows for new user creation by entering the user&#39;s details into a table called users however, I am having trouble deserializing the JSON from the request to an enum. None of the solutions I have found online have worked including all of the deserialization solutions involving annotations that can be found here https://www.baeldung.com/jackson-serialize-enums.\r\n\r\nThis is the exception message I get when making a POST request using Postman:\r\n```\r\n2023-01-21T02:50:05.712Z  WARN 9544 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: No enum constant com.vendingmachine.springboot.utils.Role.buyer]\r\n```\r\n\r\nWhen I have the `role` as `BUYER` in the POST request, it works fine but I want it to be case insensitive.\r\n\r\nUser class:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User\r\n{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private int userId;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;username&quot;, unique = true)\r\n    private String username;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;role&quot;)\r\n    private Role role;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;deposit&quot;)\r\n    private BigDecimal deposit;\r\n\r\n    public User() {}\r\n\r\n    public User(String username, String password, Role role, BigDecimal deposit)\r\n    {\r\n        this.username = username;\r\n        this.password = password;\r\n        this.role = role;\r\n        this.deposit = deposit;\r\n    }\r\n\r\n    public int getId()\r\n    {\r\n        return userId;\r\n    }\r\n\r\n    public String getUsername()\r\n    {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username)\r\n    {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getPassword()\r\n    {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password)\r\n    {\r\n        this.password = password;\r\n    }\r\n\r\n    public Role getRole()\r\n    {\r\n        return role;\r\n    }\r\n\r\n    public void setRole(String role)\r\n    {\r\n        this.role = Role.valueOf(role);\r\n    }\r\n\r\n    public void setRole(Role role) {\r\n        this.role = role;\r\n    }\r\n\r\n    public BigDecimal getDeposit()\r\n    {\r\n        return deposit;\r\n    }\r\n\r\n    public void setDeposit(BigDecimal deposit)\r\n    {\r\n        this.deposit = deposit;\r\n    }\r\n}\r\n\r\n```\r\n\r\nRole enum:\r\n\r\n```\r\npublic enum Role\r\n{\r\n    BUYER(&quot;buyer&quot;),\r\n    SELLER(&quot;seller&quot;);\r\n\r\n    private final String role;\r\n\r\n    Role(String role)\r\n    {\r\n        this.role = role;\r\n    }\r\n\r\n    public String getRole()\r\n    {\r\n        return role;\r\n    }\r\n\r\n    public static Role getRoleEnum(String roleString)\r\n    {\r\n        return switch (roleString.toLowerCase()) {\r\n            case &quot;buyer&quot; -&gt; Role.BUYER;\r\n            case &quot;seller&quot; -&gt; Role.SELLER;\r\n            default -&gt; throw new IllegalArgumentException(&quot;Role [&quot; + roleString\r\n                    + &quot;] not supported.&quot;);\r\n        };\r\n    }\r\n}\r\n```","title":"How to deserialize JSON to enum in Java?","body":"<p>I am creating an API to simulate a vending machine and I'm using Spring, JPA and MySQL. I have an endpoint for a POST request that allows for new user creation by entering the user's details into a table called users however, I am having trouble deserializing the JSON from the request to an enum. None of the solutions I have found online have worked including all of the deserialization solutions involving annotations that can be found here <a href=\"https://www.baeldung.com/jackson-serialize-enums\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-serialize-enums</a>.</p>\n<p>This is the exception message I get when making a POST request using Postman:</p>\n<pre><code>2023-01-21T02:50:05.712Z  WARN 9544 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: No enum constant com.vendingmachine.springboot.utils.Role.buyer]\n</code></pre>\n<p>When I have the <code>role</code> as <code>BUYER</code> in the POST request, it works fine but I want it to be case insensitive.</p>\n<p>User class:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int userId;\n\n    @NotNull\n    @Column(name = &quot;username&quot;, unique = true)\n    private String username;\n\n    @NotNull\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @NotNull\n    @Column(name = &quot;role&quot;)\n    private Role role;\n\n    @NotNull\n    @Column(name = &quot;deposit&quot;)\n    private BigDecimal deposit;\n\n    public User() {}\n\n    public User(String username, String password, Role role, BigDecimal deposit)\n    {\n        this.username = username;\n        this.password = password;\n        this.role = role;\n        this.deposit = deposit;\n    }\n\n    public int getId()\n    {\n        return userId;\n    }\n\n    public String getUsername()\n    {\n        return username;\n    }\n\n    public void setUsername(String username)\n    {\n        this.username = username;\n    }\n\n    public String getPassword()\n    {\n        return password;\n    }\n\n    public void setPassword(String password)\n    {\n        this.password = password;\n    }\n\n    public Role getRole()\n    {\n        return role;\n    }\n\n    public void setRole(String role)\n    {\n        this.role = Role.valueOf(role);\n    }\n\n    public void setRole(Role role) {\n        this.role = role;\n    }\n\n    public BigDecimal getDeposit()\n    {\n        return deposit;\n    }\n\n    public void setDeposit(BigDecimal deposit)\n    {\n        this.deposit = deposit;\n    }\n}\n\n</code></pre>\n<p>Role enum:</p>\n<pre><code>public enum Role\n{\n    BUYER(&quot;buyer&quot;),\n    SELLER(&quot;seller&quot;);\n\n    private final String role;\n\n    Role(String role)\n    {\n        this.role = role;\n    }\n\n    public String getRole()\n    {\n        return role;\n    }\n\n    public static Role getRoleEnum(String roleString)\n    {\n        return switch (roleString.toLowerCase()) {\n            case &quot;buyer&quot; -&gt; Role.BUYER;\n            case &quot;seller&quot; -&gt; Role.SELLER;\n            default -&gt; throw new IllegalArgumentException(&quot;Role [&quot; + roleString\n                    + &quot;] not supported.&quot;);\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","jar","google-diff-match-patch"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1674302475,"post_id":75192064,"comment_id":132688296,"body_markdown":"JAR files don&#39;t bundle dependencies, you need to either add them all to the class path, or create a shared JAR. Check out the Maven shade plugin for more information.","body":"JAR files don&#39;t bundle dependencies, you need to either add them all to the class path, or create a shared JAR. Check out the Maven shade plugin for more information."}],"owner":{"account_id":18551566,"reputation":580,"user_id":13517698,"display_name":"ritik jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674300804,"creation_date":1674290334,"question_id":75192064,"body_markdown":"I used diff-match-patch dependency in my maven project. \r\n\r\n    &lt;depencency&gt;\r\n        &lt;groupId&gt;org.bitbucket.cowwoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;diff-match-patch&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen i created JAR of my project, tried to run, but its giving Exception:\r\n\r\n    exception in thread main java.lang.NoClassDefFoundError : \r\n         org/bitbucket/cowwoc/diffmatchpatch/DiffMatchPatch\r\n    Caused by: java.lang.ClassNotFoundException: \r\n         org.bitbucket.cowwoc.diffmatchpatch.DiffMatchPatch\r\nRunning my jar using\r\n\r\n    java -cp FileComparison.jar com.abc.util.FileCompareLauncher\r\n","title":"NoClassDefFoundError while using diff-match-patch dependency","body":"<p>I used diff-match-patch dependency in my maven project.</p>\n<pre><code>&lt;depencency&gt;\n    &lt;groupId&gt;org.bitbucket.cowwoc&lt;/groupId&gt;\n    &lt;artifactId&gt;diff-match-patch&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then i created JAR of my project, tried to run, but its giving Exception:</p>\n<pre><code>exception in thread main java.lang.NoClassDefFoundError : \n     org/bitbucket/cowwoc/diffmatchpatch/DiffMatchPatch\nCaused by: java.lang.ClassNotFoundException: \n     org.bitbucket.cowwoc.diffmatchpatch.DiffMatchPatch\n</code></pre>\n<p>Running my jar using</p>\n<pre><code>java -cp FileComparison.jar com.abc.util.FileCompareLauncher\n</code></pre>\n"},{"tags":["java","multithreading","thread-safety"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1417176395,"creation_date":1417176395,"answer_id":27188314,"question_id":27188279,"body_markdown":"It&#39;s safe because `getMap` returns the map for the given (i.e. current) thread. No other thread is going to be messing with that. So it&#39;s really down to the implementation of `getMap` to make sure *that&#39;s* is okay for any thread - and as far as I can see, that just delegates to a field within the `Thread` object. It&#39;s not clear to me whether `getMap` is ever passing in any thread *other* than the current thread - if it were, that could be potentially tricky - but I suspect it&#39;s all been written carefully to make sure that&#39;s not a problem :)","title":"Is ThreadLocal thread safe?","body":"<p>It's safe because <code>getMap</code> returns the map for the given (i.e. current) thread. No other thread is going to be messing with that. So it's really down to the implementation of <code>getMap</code> to make sure <em>that's</em> is okay for any thread - and as far as I can see, that just delegates to a field within the <code>Thread</code> object. It's not clear to me whether <code>getMap</code> is ever passing in any thread <em>other</em> than the current thread - if it were, that could be potentially tricky - but I suspect it's all been written carefully to make sure that's not a problem :)</p>\n"},{"tags":[],"owner":{"account_id":7768355,"reputation":101,"user_id":5878848,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674300777,"creation_date":1674299258,"answer_id":75192848,"question_id":27188279,"body_markdown":"Adding on to Jon&#39;s answer, I agree, the map is the sole property of the current thread.\r\n\r\n    ThreadLocalMap getMap(Thread t) {\r\n        return t.threadLocals;\r\n    }\r\n\r\n\r\nAnd this ThreadLocalMap stores a table inside which only refers to the calling ThreadLocal object (which sits in the Heap space, i.e. common to all threads) for getting hash index into the table. But the actual value is stored inside this table which is per thread.\r\n\r\nSo if your ThreadLocal object is shared between multiple threads and each thread call get or set at the same time on it, they&#39;re literally setting the values in their own copies of the table contained inside ThreadLocalMap which is stored inside Thread class as a non static field.","title":"Is ThreadLocal thread safe?","body":"<p>Adding on to Jon's answer, I agree, the map is the sole property of the current thread.</p>\n<pre><code>ThreadLocalMap getMap(Thread t) {\n    return t.threadLocals;\n}\n</code></pre>\n<p>And this ThreadLocalMap stores a table inside which only refers to the calling ThreadLocal object (which sits in the Heap space, i.e. common to all threads) for getting hash index into the table. But the actual value is stored inside this table which is per thread.</p>\n<p>So if your ThreadLocal object is shared between multiple threads and each thread call get or set at the same time on it, they're literally setting the values in their own copies of the table contained inside ThreadLocalMap which is stored inside Thread class as a non static field.</p>\n"}],"owner":{"account_id":1548567,"reputation":1339,"user_id":1441485,"accept_rate":88,"display_name":"iozee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7836,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":27188314,"answer_count":2,"score":9,"last_activity_date":1674300777,"creation_date":1417176305,"question_id":27188279,"body_markdown":"For example, we have a static ThreadLocal field an a setter:\r\n\r\n    private static final ThreadLocal threadLocalField = new ThreadLocal;\r\n\r\n    public static void getSXTransaction() {\r\n      threadLocalField.set(new MyValue());\r\n    }\r\n\r\nI wonder, what are the guarantees of thread safety here as there is no implicit synchronization in the **java.lang.ThreadLocal#set** method?\r\nI know it makes sense for the TreadLocal class to be fully thread safe by it&#39;s nature but I cannot understand how it&#39;s being accomplished.\r\n\r\nHere is the source code for it:\r\n\r\n    /**\r\n     * Sets the current thread&#39;s copy of this thread-local variable\r\n     * to the specified value.  Most subclasses will have no need to \r\n     * override this method, relying solely on the {@link #initialValue}\r\n     * method to set the values of thread-locals.\r\n     *\r\n     * @param value the value to be stored in the current thread&#39;s copy of\r\n     *        this thread-local.\r\n     */\r\n    public void set(T value) {\r\n        Thread t = Thread.currentThread();\r\n        ThreadLocalMap map = getMap(t);\r\n        if (map != null)\r\n            map.set(this, value);\r\n        else\r\n            createMap(t, value);\r\n    }","title":"Is ThreadLocal thread safe?","body":"<p>For example, we have a static ThreadLocal field an a setter:</p>\n\n<pre><code>private static final ThreadLocal threadLocalField = new ThreadLocal;\n\npublic static void getSXTransaction() {\n  threadLocalField.set(new MyValue());\n}\n</code></pre>\n\n<p>I wonder, what are the guarantees of thread safety here as there is no implicit synchronization in the <strong>java.lang.ThreadLocal#set</strong> method?\nI know it makes sense for the TreadLocal class to be fully thread safe by it's nature but I cannot understand how it's being accomplished.</p>\n\n<p>Here is the source code for it:</p>\n\n<pre><code>/**\n * Sets the current thread's copy of this thread-local variable\n * to the specified value.  Most subclasses will have no need to \n * override this method, relying solely on the {@link #initialValue}\n * method to set the values of thread-locals.\n *\n * @param value the value to be stored in the current thread's copy of\n *        this thread-local.\n */\npublic void set(T value) {\n    Thread t = Thread.currentThread();\n    ThreadLocalMap map = getMap(t);\n    if (map != null)\n        map.set(this, value);\n    else\n        createMap(t, value);\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":5221951,"reputation":168,"user_id":4175124,"display_name":"afjcjsbx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674300070,"creation_date":1674300070,"answer_id":75192933,"question_id":75185310,"body_markdown":"if you are working with datasets and case classes you can make the type of the fields optional with the Option[T] construct and subsequently check that the field is defined:\r\n\r\n    case class Person(name: String, age: Option[Long])\r\n\r\n    val caseClassDS = Seq(Person(&quot;Andy&quot;, Some(32))).toDS()\r\n    caseClassDS\r\n      .filter(_.age.getOrElse(0) &gt; 30)\r\n      .show()","title":"Spark NullPointerException nested field access in filter","body":"<p>if you are working with datasets and case classes you can make the type of the fields optional with the Option[T] construct and subsequently check that the field is defined:</p>\n<pre><code>case class Person(name: String, age: Option[Long])\n\nval caseClassDS = Seq(Person(&quot;Andy&quot;, Some(32))).toDS()\ncaseClassDS\n  .filter(_.age.getOrElse(0) &gt; 30)\n  .show()\n</code></pre>\n"}],"owner":{"account_id":7704646,"reputation":9814,"user_id":5835947,"accept_rate":35,"display_name":"guo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674300070,"creation_date":1674224585,"question_id":75185310,"body_markdown":"I am a newbie for spark. I got `NullpointerException` at the line `.filter(_.getStatusStandardizedData.getIsActive.getValue)`\r\n today\r\n\r\n\r\n```scala\r\nval activeStzOrganizations: Dataset[OrganizationStandardizedData] = DataSources.stzOrganization().asDataset\r\n    .filter(_.getStatusStandardizedData.getIsActive.getValue)\r\n```\r\nIt looks like either `getStatusStandardizedData` or `getIsActive` could be `null`.\r\n\r\nIs there a smart way to make it work? One of way I can imagine is adding this before the orginal filter line but I wonder if there is a better way\r\n```scala\r\n.filter(col(&quot;statusStandardizedData.isActive&quot;).isNotNull)\r\n```","title":"Spark NullPointerException nested field access in filter","body":"<p>I am a newbie for spark. I got <code>NullpointerException</code> at the line <code>.filter(_.getStatusStandardizedData.getIsActive.getValue)</code>\ntoday</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val activeStzOrganizations: Dataset[OrganizationStandardizedData] = DataSources.stzOrganization().asDataset\n    .filter(_.getStatusStandardizedData.getIsActive.getValue)\n</code></pre>\n<p>It looks like either <code>getStatusStandardizedData</code> or <code>getIsActive</code> could be <code>null</code>.</p>\n<p>Is there a smart way to make it work? One of way I can imagine is adding this before the orginal filter line but I wonder if there is a better way</p>\n<pre class=\"lang-scala prettyprint-override\"><code>.filter(col(&quot;statusStandardizedData.isActive&quot;).isNotNull)\n</code></pre>\n"},{"tags":["java","json","spring-boot","request","http-post"],"answers":[{"tags":[],"owner":{"account_id":3173718,"reputation":204,"user_id":2682089,"display_name":"Kabiru Ahmed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569949106,"creation_date":1569949106,"answer_id":58189298,"question_id":58188244,"body_markdown":"Add Validation annotation to your Pojo class\r\n\r\n    public class UserDataRequest {\r\n    @NotNull\r\n    private String id;\r\n\r\n    @NotNull\r\n    private String search;\r\n    }\r\nupdate your post method to use this validation\r\n\r\n     public List&lt;ResponseUser&gt; send(@Valid UserDataRequest data){}","title":"How to check if the request body is empty or request body have empty fields in simple way?","body":"<p>Add Validation annotation to your Pojo class</p>\n\n<pre><code>public class UserDataRequest {\n@NotNull\nprivate String id;\n\n@NotNull\nprivate String search;\n}\n</code></pre>\n\n<p>update your post method to use this validation</p>\n\n<pre><code> public List&lt;ResponseUser&gt; send(@Valid UserDataRequest data){}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12381428,"reputation":809,"user_id":9026870,"display_name":"Oleh Tatsiun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674299892,"creation_date":1674299892,"answer_id":75192910,"question_id":58188244,"body_markdown":"Answer to @Pkumar\r\n\r\nIf fields: **search**, **id** are String values:\r\n\r\n    if (data == null || !StringUtils.hasText(data.getsearch())) {\r\n       // return list1 of type ResponseUser\r\n    }\r\n\r\n    if (!StringUtils.hasText(data.getid())) {\r\n       // return list2 of type ResponseUser\r\n    }\r\n\r\n    if (!StringUtils.hasText(data.getsearch())) {\r\n       // return list3 of type ResponseUser\r\n    }\r\n\r\nAnswer in general if you want to check request is empty:\r\n\r\n    if (request == null) {\r\n       // your logic here\r\n    }","title":"How to check if the request body is empty or request body have empty fields in simple way?","body":"<p>Answer to @Pkumar</p>\n<p>If fields: <strong>search</strong>, <strong>id</strong> are String values:</p>\n<pre><code>if (data == null || !StringUtils.hasText(data.getsearch())) {\n   // return list1 of type ResponseUser\n}\n\nif (!StringUtils.hasText(data.getid())) {\n   // return list2 of type ResponseUser\n}\n\nif (!StringUtils.hasText(data.getsearch())) {\n   // return list3 of type ResponseUser\n}\n</code></pre>\n<p>Answer in general if you want to check request is empty:</p>\n<pre><code>if (request == null) {\n   // your logic here\n}\n</code></pre>\n"}],"owner":{"account_id":7710047,"reputation":167,"user_id":5839674,"display_name":"Pkumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7431,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674299892,"creation_date":1569944461,"question_id":58188244,"body_markdown":"Hi I have the controller which accepts the POST request.\r\n\r\nThe request body can be empty or with body with null fields : i.e. &lt;empty&gt; or { }\r\n\r\n```\r\n@RestController\r\npublic class UserController {\r\n    @Autowired\r\n    private UserService UserService;\r\n    @RequestMapping(value = &quot;/tree&quot;, method = POST,consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    public List&lt;ResponseUser&gt; controller(@RequestBody(required=false) UserDataRequest request) {\r\n        return UserService.send(request);\r\n    }\r\n}\r\n```\r\n\r\nI have service defined as follows :\r\n\r\n1. To check if the body is empty ie null\r\n2. To check if the field is null one by one\r\n3. If the fields are null then do step 1 again\r\n\r\n```\r\n@Service\r\npublic class UserService {\r\n\r\n    @Autowired\r\n    private RestTemplate restTemplate;\r\n\r\n    private ResponseEntity&lt;List&lt;ResponseUser&gt;&gt; responseEntity;\r\n\r\n    public List&lt;ResponseUser&gt; send(UserDataRequest data){\r\n\r\n        \r\n        //empty body == null\r\n    if(data == null ) {\r\n           // return list1 of type ResponseUser\r\n        }\r\n\telse{\r\n\t\r\n\t   //Check for the fields are present are not\r\n        Optional&lt;String&gt; id = Optional.ofNullable(data.getid());\r\n        Optional&lt;String&gt; search = Optional.ofNullable(data.getsearch());\r\n\t\t\r\n        //if id is present \r\n        if (id.isPresent()) {\r\n\t\t\t// return list2 of type ResponseUser\r\n\t\r\n        }\r\n\r\n        //if search is present \r\n        else if(search.isPresent()){\r\n\t\t// return list3 of type ResponseUser\r\n               \r\n            }\r\n\t\t\t\r\n\t\telse {\r\n\t\t// return list1 of type ResponseUser\r\n\t\t}\r\n\t}\r\n    return responseEntity.getBody();\r\n    }\r\n}\r\n```\r\n\r\nI would like to know how to not repeat same thing again? Is there any efficient way?","title":"How to check if the request body is empty or request body have empty fields in simple way?","body":"<p>Hi I have the controller which accepts the POST request.</p>\n\n<p>The request body can be empty or with body with null fields : i.e.  or { }</p>\n\n<pre><code>@RestController\npublic class UserController {\n    @Autowired\n    private UserService UserService;\n    @RequestMapping(value = \"/tree\", method = POST,consumes = MediaType.APPLICATION_JSON_VALUE)\n    public List&lt;ResponseUser&gt; controller(@RequestBody(required=false) UserDataRequest request) {\n        return UserService.send(request);\n    }\n}\n</code></pre>\n\n<p>I have service defined as follows :</p>\n\n<ol>\n<li>To check if the body is empty ie null</li>\n<li>To check if the field is null one by one</li>\n<li>If the fields are null then do step 1 again</li>\n</ol>\n\n<pre><code>@Service\npublic class UserService {\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    private ResponseEntity&lt;List&lt;ResponseUser&gt;&gt; responseEntity;\n\n    public List&lt;ResponseUser&gt; send(UserDataRequest data){\n\n\n        //empty body == null\n    if(data == null ) {\n           // return list1 of type ResponseUser\n        }\n    else{\n\n       //Check for the fields are present are not\n        Optional&lt;String&gt; id = Optional.ofNullable(data.getid());\n        Optional&lt;String&gt; search = Optional.ofNullable(data.getsearch());\n\n        //if id is present \n        if (id.isPresent()) {\n            // return list2 of type ResponseUser\n\n        }\n\n        //if search is present \n        else if(search.isPresent()){\n        // return list3 of type ResponseUser\n\n            }\n\n        else {\n        // return list1 of type ResponseUser\n        }\n    }\n    return responseEntity.getBody();\n    }\n}\n</code></pre>\n\n<p>I would like to know how to not repeat same thing again? Is there any efficient way?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1674300379,"post_id":75192892,"comment_id":132687955,"body_markdown":"I&#39;m pretty sure the root cause is usage of `Set` and `@Data`, however I would prefer to see the code.","body":"I&#39;m pretty sure the root cause is usage of <code>Set</code> and <code>@Data</code>, however I would prefer to see the code."},{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":0,"creation_date":1674300778,"post_id":75192892,"comment_id":132688014,"body_markdown":"I know the code I shared is not so reproducible, but the project structure is very complex. Plus, even if `Set` and `@Data` are the problem, I don&#39;t think I can changfe them since the `EFile` is widely used in the project. But you gave me and idea! Thank you","body":"I know the code I shared is not so reproducible, but the project structure is very complex. Plus, even if <code>Set</code> and <code>@Data</code> are the problem, I don&#39;t think I can changfe them since the <code>EFile</code> is widely used in the project. But you gave me and idea! Thank you"}],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674299665,"creation_date":1674299665,"question_id":75192892,"body_markdown":"I have a Springboot application that exposes a `@PostMapping` endpoint to save an entity, through `JpaRepository`.\r\n\r\nThis entity has a list of attachments.\r\n\r\n    @Entity\r\n    public class Entity {\r\n        // fields\r\n        private Set&lt;EFile&gt; attachments = new HashSet&lt;&gt;();\r\n        // getters and setters\r\n    }\r\n\r\n.. where `EFile` is a custom entity, so built:\r\n\r\n    @Entity\r\n    @Data\r\n    public class EFile {\r\n        // fields\r\n        // getters and setters\r\n    }\r\n\r\nThis Entity is used all over the project, and it doesn&#39;t seem to give this problem for other entities.\r\n\r\nI do receive an Array of `org.springframework.web.multipart.MultipartFile` from the `request`:\r\n\r\n    MultipartFile[] attachments;\r\n\r\n.. which I cycle through to save them one at a time.\r\n\r\nAttachments are saved in a different table, so, first, I save the `Entity` from the request. Then, I save the `attachments` in the table and bind the Attachment `id` to the Entity `id` into a Pivot table.\r\n\r\nHere is the `forEach`:\r\n\r\n    if (!Utils.isEmpty(attachments)) {\r\n        for (MultipartFile attachment : attachments) {\r\n            attachmentManager.addAttachment(entity, attachment, directory);\r\n        }\r\n    }\r\n\r\n.. inside the `addAttachment` method there is the `JpaRepository` that does the automatic `save()`\r\n\r\nThe problem is: somehow it doesn&#39;t save the last item of the array, even though it actually executes the save without any error through the whole Array, but it is not persisted into the Database. \r\n\r\nThe workaround is pretty simple.. I just re-added the first element of the `Multipart[]` to the `attachments` so that no files get missing, but I would like to know how is this possible. I am not using any `Transaction`. Wondering if somebody had the same problem..\r\n\r\nThank you in advance!","title":"JpaRepository doesn&#39;t save the last elemen in a list of attachments","body":"<p>I have a Springboot application that exposes a <code>@PostMapping</code> endpoint to save an entity, through <code>JpaRepository</code>.</p>\n<p>This entity has a list of attachments.</p>\n<pre><code>@Entity\npublic class Entity {\n    // fields\n    private Set&lt;EFile&gt; attachments = new HashSet&lt;&gt;();\n    // getters and setters\n}\n</code></pre>\n<p>.. where <code>EFile</code> is a custom entity, so built:</p>\n<pre><code>@Entity\n@Data\npublic class EFile {\n    // fields\n    // getters and setters\n}\n</code></pre>\n<p>This Entity is used all over the project, and it doesn't seem to give this problem for other entities.</p>\n<p>I do receive an Array of <code>org.springframework.web.multipart.MultipartFile</code> from the <code>request</code>:</p>\n<pre><code>MultipartFile[] attachments;\n</code></pre>\n<p>.. which I cycle through to save them one at a time.</p>\n<p>Attachments are saved in a different table, so, first, I save the <code>Entity</code> from the request. Then, I save the <code>attachments</code> in the table and bind the Attachment <code>id</code> to the Entity <code>id</code> into a Pivot table.</p>\n<p>Here is the <code>forEach</code>:</p>\n<pre><code>if (!Utils.isEmpty(attachments)) {\n    for (MultipartFile attachment : attachments) {\n        attachmentManager.addAttachment(entity, attachment, directory);\n    }\n}\n</code></pre>\n<p>.. inside the <code>addAttachment</code> method there is the <code>JpaRepository</code> that does the automatic <code>save()</code></p>\n<p>The problem is: somehow it doesn't save the last item of the array, even though it actually executes the save without any error through the whole Array, but it is not persisted into the Database.</p>\n<p>The workaround is pretty simple.. I just re-added the first element of the <code>Multipart[]</code> to the <code>attachments</code> so that no files get missing, but I would like to know how is this possible. I am not using any <code>Transaction</code>. Wondering if somebody had the same problem..</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","loops","for-loop","try-catch","do-while"],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674297944,"creation_date":1674297944,"answer_id":75192719,"question_id":75192437,"body_markdown":"Have you tried anything? If not, you can break down into the following and build up your code step-by-step.\r\n\r\n### Which loop to use?\r\nYou should first choose a loop to start with. **For-loop** or **Do-while loop**?  \r\nFor a **For-loop**, it will repeat the logic inside the loop for a given number of times.  \r\nFor a **Do-While loop**, it will repeat until your logic does not fulfil any more.\r\n\r\n### What function can be used to read an Input?\r\nThe simplest class that can be used to read an Input will be [Scanner](https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html).\r\n\r\n### How will be the code look like?\r\nBecause you know that you have to repeat your Input logic until **street** is being inputted at the end. So you probably end up having something like this:\r\n```\r\nDefine some useful variables here if necessary\r\nLoop Body Start (Repeat Condition here if you choose for-loop)\r\n  Ask for Input\r\nLoop Body End (Repeat Condition here if you choose do-while loop)\r\n```\r\n\r\nNote that the word **automatically** means that you can do nothing if your requirement is not met. Because a loop is meant to be repeat if your stated requirement is not yet finished.","title":"how to add words that must be written in data input, if the word is not input then a loop will occur in the data?","body":"<p>Have you tried anything? If not, you can break down into the following and build up your code step-by-step.</p>\n<h3>Which loop to use?</h3>\n<p>You should first choose a loop to start with. <strong>For-loop</strong> or <strong>Do-while loop</strong>?<br />\nFor a <strong>For-loop</strong>, it will repeat the logic inside the loop for a given number of times.<br />\nFor a <strong>Do-While loop</strong>, it will repeat until your logic does not fulfil any more.</p>\n<h3>What function can be used to read an Input?</h3>\n<p>The simplest class that can be used to read an Input will be <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a>.</p>\n<h3>How will be the code look like?</h3>\n<p>Because you know that you have to repeat your Input logic until <strong>street</strong> is being inputted at the end. So you probably end up having something like this:</p>\n<pre><code>Define some useful variables here if necessary\nLoop Body Start (Repeat Condition here if you choose for-loop)\n  Ask for Input\nLoop Body End (Repeat Condition here if you choose do-while loop)\n</code></pre>\n<p>Note that the word <strong>automatically</strong> means that you can do nothing if your requirement is not met. Because a loop is meant to be repeat if your stated requirement is not yet finished.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - éãã"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674299627,"creation_date":1674299627,"answer_id":75192887,"question_id":75192437,"body_markdown":"It **could** be something like this (read the comments in code):\r\n\r\n    // Keyboard input Stream. The JVM will auto-Close this when app ends.\r\n    Scanner userInput = new Scanner(System.in);  \r\n        \r\n    // To hold supplied Address.\r\n    String address = &quot;&quot;;\r\n        \r\n    // Continue looping for as long as the `address` variable is empty.\r\n    while (address.isEmpty()) {\r\n        System.out.print(&quot;Enter Address: -&gt; &quot;);  // Ask User for Adress:\r\n        address = userInput.nextLine().trim();   // Get entire keyboard input line:\r\n        /* Validating User Input using the String#matches() method and a\r\n           small Regular Expression (RegEx): `(?i)` Letter case insensative,\r\n           `.*` Any number of alphanumerical characters, ` street` must \r\n           end with a whitespace and `street` in any letter case.      */\r\n        if (!address.matches(&quot;(?i).* street&quot;)) {\r\n            // Not a match! Inform User and allow to try again...\r\n            System.out.println(&quot;Invalid Address. Must end with the word &quot;\r\n                                 + &quot;&#39;Street&#39;. Try Again...&quot;);\r\n            System.out.println();\r\n            address = &quot;&quot;;  // Empty `address` to ensure reloop.\r\n        }\r\n    }\r\n\r\n    // If we get to this point then validation was successful.\r\n        \r\n    // Display the Address in Console Window:\r\n    System.out.println(&quot;Supplied Address: -&gt; &quot; + address);","title":"how to add words that must be written in data input, if the word is not input then a loop will occur in the data?","body":"<p>It <strong>could</strong> be something like this (read the comments in code):</p>\n<pre><code>// Keyboard input Stream. The JVM will auto-Close this when app ends.\nScanner userInput = new Scanner(System.in);  \n    \n// To hold supplied Address.\nString address = &quot;&quot;;\n    \n// Continue looping for as long as the `address` variable is empty.\nwhile (address.isEmpty()) {\n    System.out.print(&quot;Enter Address: -&gt; &quot;);  // Ask User for Adress:\n    address = userInput.nextLine().trim();   // Get entire keyboard input line:\n    /* Validating User Input using the String#matches() method and a\n       small Regular Expression (RegEx): `(?i)` Letter case insensative,\n       `.*` Any number of alphanumerical characters, ` street` must \n       end with a whitespace and `street` in any letter case.      */\n    if (!address.matches(&quot;(?i).* street&quot;)) {\n        // Not a match! Inform User and allow to try again...\n        System.out.println(&quot;Invalid Address. Must end with the word &quot;\n                             + &quot;'Street'. Try Again...&quot;);\n        System.out.println();\n        address = &quot;&quot;;  // Empty `address` to ensure reloop.\n    }\n}\n\n// If we get to this point then validation was successful.\n    \n// Display the Address in Console Window:\nSystem.out.println(&quot;Supplied Address: -&gt; &quot; + address);\n</code></pre>\n"}],"owner":{"account_id":27586535,"reputation":1,"user_id":21054606,"display_name":"HiRaaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674299627,"creation_date":1674294540,"question_id":75192437,"body_markdown":"example : \r\n\r\n1. Input your address [must be ended with &#39;street&#39;] : red \r\n   Input must be ended with &#39;street&#39; !\r\n1. Input your address [must be ended with &#39;street&#39;] : red street\r\n\r\nhow to loop the input question if the inputter does not add the word &#39;street&#39;","title":"how to add words that must be written in data input, if the word is not input then a loop will occur in the data?","body":"<p>example :</p>\n<ol>\n<li>Input your address [must be ended with 'street'] : red\nInput must be ended with 'street' !</li>\n<li>Input your address [must be ended with 'street'] : red street</li>\n</ol>\n<p>how to loop the input question if the inputter does not add the word 'street'</p>\n"},{"tags":["java","equals","hashcode"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":6,"creation_date":1673998040,"post_id":75153239,"comment_id":132620478,"body_markdown":"You can&#39;t. This is a violation of the transitivity requirements of `equals()`.","body":"You can&#39;t. This is a violation of the transitivity requirements of <code>equals()</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1673998350,"post_id":75153239,"comment_id":132620522,"body_markdown":"You *could* do this if you were prepared to &quot;bin&quot; your objects, instead of comparing a range -- i.e. a == b if trunc(a/10) == trunc(b/10)","body":"You <i>could</i> do this if you were prepared to &quot;bin&quot; your objects, instead of comparing a range -- i.e. a == b if trunc(a/10) == trunc(b/10)"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1674299112,"creation_date":1673998542,"answer_id":75153302,"question_id":75153239,"body_markdown":"There&#39;s no way to consistently implement this, since [`equals()` demands transitivity][1]:\r\n\r\n&gt; It is *transitive*: for any non-null reference values `x`, `y`, and `z`, if `x.equals(y)` returns `true` and `y.equals(z)` returns `true`, then `x.equals(z)` should return `true`.\r\n\r\n`new Test(1)`, `new Test(9)` and `new Test(14)` would fail that test (assuming a trivial one-argument constructor that assigns its argument to `value`).\r\n\r\nOne way to work around that is to not check for the absolute distance, but &quot;categorize&quot; your objects using some formula, for example take the floor of `value / 10` and compare that.\r\n\r\nThis way some &quot;close&quot; values like `new Test(9)` and `new Test(11)` would compare as not-equal, but other than that you&#39;d get a similar result to what you described.\r\n\r\n    private long getEquivalenceGroup() {\r\n        return Math.floorDiv((long) value, 10);\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(final Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n            return false;\r\n        }\r\n\r\n        Test test = (Test) o;\r\n        return test.getEquivalenceGroup() == this.getEquivalenceGroup();\r\n    }\r\n\r\n    @Override\r\n    public int hashCode()\r\n    {\r\n        return Long.hashCode(getEquivalenceGroup());\r\n    }\r\n\r\nAs long as `getEquivalenceGroup()` is implemented in a stable manner this will produce &quot;groups&quot; of slightly different objects that still compare as equal and has a valid `hashCode()` implementation.\r\n\r\n**Note:** **if** you want a comparison as described in the question **but** you don&#39;t necessarily need it to be returned by `equals()` then adding a `boolean isClose(Test other)` is perfectly fine. The *only* problem is you are trying to implement the `equals` method specifically with that semantic.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)","title":"How to correctly implement equals(), hashCode() if the values are within a range of each other?","body":"<p>There's no way to consistently implement this, since <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals()</code> demands transitivity</a>:</p>\n<blockquote>\n<p>It is <em>transitive</em>: for any non-null reference values <code>x</code>, <code>y</code>, and <code>z</code>, if <code>x.equals(y)</code> returns <code>true</code> and <code>y.equals(z)</code> returns <code>true</code>, then <code>x.equals(z)</code> should return <code>true</code>.</p>\n</blockquote>\n<p><code>new Test(1)</code>, <code>new Test(9)</code> and <code>new Test(14)</code> would fail that test (assuming a trivial one-argument constructor that assigns its argument to <code>value</code>).</p>\n<p>One way to work around that is to not check for the absolute distance, but &quot;categorize&quot; your objects using some formula, for example take the floor of <code>value / 10</code> and compare that.</p>\n<p>This way some &quot;close&quot; values like <code>new Test(9)</code> and <code>new Test(11)</code> would compare as not-equal, but other than that you'd get a similar result to what you described.</p>\n<pre><code>private long getEquivalenceGroup() {\n    return Math.floorDiv((long) value, 10);\n}\n\n@Override\npublic boolean equals(final Object o) {\n    if (this == o) {\n        return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n        return false;\n    }\n\n    Test test = (Test) o;\n    return test.getEquivalenceGroup() == this.getEquivalenceGroup();\n}\n\n@Override\npublic int hashCode()\n{\n    return Long.hashCode(getEquivalenceGroup());\n}\n</code></pre>\n<p>As long as <code>getEquivalenceGroup()</code> is implemented in a stable manner this will produce &quot;groups&quot; of slightly different objects that still compare as equal and has a valid <code>hashCode()</code> implementation.</p>\n<p><strong>Note:</strong> <strong>if</strong> you want a comparison as described in the question <strong>but</strong> you don't necessarily need it to be returned by <code>equals()</code> then adding a <code>boolean isClose(Test other)</code> is perfectly fine. The <em>only</em> problem is you are trying to implement the <code>equals</code> method specifically with that semantic.</p>\n"},{"tags":[],"owner":{"account_id":126090,"reputation":429,"user_id":322338,"display_name":"acteon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673998813,"creation_date":1673998813,"answer_id":75153326,"question_id":75153239,"body_markdown":"You can&#39;t and you shouldn&#39;t.\r\n\r\nYou should implement a comparator and do such operations using that.","title":"How to correctly implement equals(), hashCode() if the values are within a range of each other?","body":"<p>You can't and you shouldn't.</p>\n<p>You should implement a comparator and do such operations using that.</p>\n"}],"owner":{"account_id":17638287,"reputation":37,"user_id":12801101,"display_name":"casao01"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75153302,"answer_count":2,"score":1,"last_activity_date":1674299112,"creation_date":1673997853,"question_id":75153239,"body_markdown":"The criteria is that `equals()` method where the objects are considered equal if the value of the double variable is within +/- 10 of the other object&#39;s value of the double variable.\r\n\r\nI&#39;m not sure how to correctly implement `hashCode()` so that the hashCode would be equal if it satisfies the conditions of the `equals()` method.\r\n\r\nI would really appreciate your input! Thanks!\r\n\r\n\r\n```java\r\npublic class Test \r\n{\r\n    private double value;\r\n\r\n    private boolean isEqualValues (final double valueOne, final double valueTwo)\r\n    {\r\n        if(valueOne == valueTwo)\r\n        {\r\n            return true;\r\n        }\r\n        else if((valueOne - valueTwo &lt;= 10) &amp;&amp;\r\n                (valueOne - valueTwo &gt;= -10))\r\n        {\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            return false;\r\n        }\r\n\r\n\r\n    @Override\r\n    public boolean equals(final Object o)\r\n    {\r\n        if (this == o)\r\n        {\r\n            return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass())\r\n        {\r\n            return false;\r\n        }\r\n\r\n        Test test = (Test) o;\r\n\r\n        if(isEqualValues(test.value, value))\r\n        {\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    //How to implement hashCode()\r\n    @Override\r\n    public int hashCode()\r\n    {\r\n        \r\n        //unsure how to correctly implement hashCode() so that the hashCode would be equal if it \r\n        //satisfies the conditions of the equals() method above\r\n        \r\n    }\r\n}\r\n\r\n```","title":"How to correctly implement equals(), hashCode() if the values are within a range of each other?","body":"<p>The criteria is that <code>equals()</code> method where the objects are considered equal if the value of the double variable is within +/- 10 of the other object's value of the double variable.</p>\n<p>I'm not sure how to correctly implement <code>hashCode()</code> so that the hashCode would be equal if it satisfies the conditions of the <code>equals()</code> method.</p>\n<p>I would really appreciate your input! Thanks!</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test \n{\n    private double value;\n\n    private boolean isEqualValues (final double valueOne, final double valueTwo)\n    {\n        if(valueOne == valueTwo)\n        {\n            return true;\n        }\n        else if((valueOne - valueTwo &lt;= 10) &amp;&amp;\n                (valueOne - valueTwo &gt;= -10))\n        {\n            return true;\n        }\n        else\n        {\n            return false;\n        }\n\n\n    @Override\n    public boolean equals(final Object o)\n    {\n        if (this == o)\n        {\n            return true;\n        }\n        if (o == null || getClass() != o.getClass())\n        {\n            return false;\n        }\n\n        Test test = (Test) o;\n\n        if(isEqualValues(test.value, value))\n        {\n            return true;\n        }\n        else\n        {\n            return false;\n        }\n    }\n\n    //How to implement hashCode()\n    @Override\n    public int hashCode()\n    {\n        \n        //unsure how to correctly implement hashCode() so that the hashCode would be equal if it \n        //satisfies the conditions of the equals() method above\n        \n    }\n}\n\n</code></pre>\n"},{"tags":["java","json","spring-boot","jolt"],"comments":[{"owner":{"account_id":6278449,"reputation":2408,"user_id":4880379,"display_name":"kasptom"},"score":0,"creation_date":1673989272,"post_id":75142943,"comment_id":132618471,"body_markdown":"Does this answer your question? [How to deserialize JSON into flat, Map-like structure?](https://stackoverflow.com/questions/20355261/how-to-deserialize-json-into-flat-map-like-structure)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20355261/how-to-deserialize-json-into-flat-map-like-structure\">How to deserialize JSON into flat, Map-like structure?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1073699,"reputation":133,"user_id":1073665,"display_name":"bilgin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673939601,"creation_date":1673939601,"answer_id":75142984,"question_id":75142943,"body_markdown":"You have JsonFlattener which is easy to use.\r\nhttps://github.com/wnameless/json-flattener\r\n\r\n    Map&lt;String, Object&gt; flattenJson = JsonFlattener.flattenAsMap(json);\r\n    \r\n    System.out.println(flattenJson);\r\n\r\n// {a.b=1, a.c=null, a.d[0]=false, a.d[1]=true, e=f, g=2.3}\r\n\r\n","title":"Convert Complex JSON To CSV file using JOLT","body":"<p>You have JsonFlattener which is easy to use.\n<a href=\"https://github.com/wnameless/json-flattener\" rel=\"nofollow noreferrer\">https://github.com/wnameless/json-flattener</a></p>\n<pre><code>Map&lt;String, Object&gt; flattenJson = JsonFlattener.flattenAsMap(json);\n\nSystem.out.println(flattenJson);\n</code></pre>\n<p>// {a.b=1, a.c=null, a.d[0]=false, a.d[1]=true, e=f, g=2.3}</p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673967434,"creation_date":1673967434,"answer_id":75148286,"question_id":75142943,"body_markdown":"Library _Josson_ has `flatten()` function.  It also has function `unflatten()` to reverse the operation.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;bigRecords\\&quot;: [&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;        \\&quot;Records\\&quot;: {&quot; +\r\n        &quot;            \\&quot;Name\\&quot;: \\&quot;R1\\&quot;,&quot; +\r\n        &quot;            \\&quot;Id\\&quot;: \\&quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01\\&quot;,&quot; +\r\n        &quot;            \\&quot;Type\\&quot;: \\&quot;New\\&quot;,&quot; +\r\n        &quot;            \\&quot;Area\\&quot;: \\&quot;Eng\\&quot;,&quot; +\r\n        &quot;            \\&quot;createdAt\\&quot;: \\&quot;11-10-2022 06:10:00\\&quot;,&quot; +\r\n        &quot;            \\&quot;deletedDate\\&quot;: \\&quot;11-10-2022 06:20:00\\&quot;,&quot; +\r\n        &quot;            \\&quot;deleted\\&quot;: true,&quot; +\r\n        &quot;            \\&quot;deletedBy\\&quot;: \\&quot;userId\\&quot;,&quot; +\r\n        &quot;            \\&quot;createdBy\\&quot;: \\&quot;userId\\&quot;&quot; +\r\n        &quot;            &quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        \\&quot;ancestors\\&quot;: [&quot; +\r\n        &quot;            {&quot; +\r\n        &quot;                \\&quot;Name\\&quot;: \\&quot;P1\\&quot;,&quot; +\r\n        &quot;                \\&quot;Type\\&quot;: \\&quot;DELETE\\&quot;,&quot; +\r\n        &quot;                \\&quot;sta\\&quot;: \\&quot;\\&quot;,&quot; +\r\n        &quot;                \\&quot;some\\&quot;: \\&quot;\\&quot;,&quot; +\r\n        &quot;                \\&quot;Id\\&quot;: \\&quot;1\\&quot;&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;        ]&quot; +\r\n        &quot;    }, {&quot; +\r\n        &quot;        \\&quot;Records\\&quot;: {&quot; +\r\n        &quot;            \\&quot;Name\\&quot;: \\&quot;R2\\&quot;,&quot; +\r\n        &quot;            \\&quot;Id\\&quot;: \\&quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01\\&quot;,&quot; +\r\n        &quot;            \\&quot;Type\\&quot;: \\&quot;DRAFT\\&quot;,&quot; +\r\n        &quot;            \\&quot;Area\\&quot;: \\&quot;Eng\\&quot;,&quot; +\r\n        &quot;            \\&quot;createdAt\\&quot;: \\&quot;11-10-2022 06:10:00\\&quot;,&quot; +\r\n        &quot;            \\&quot;deletedDate\\&quot;: \\&quot;11-10-2022 06:20:00\\&quot;,&quot; +\r\n        &quot;            \\&quot;deleted\\&quot;: true,&quot; +\r\n        &quot;            \\&quot;deletedBy\\&quot;: \\&quot;userId\\&quot;,&quot; +\r\n        &quot;            \\&quot;createdBy\\&quot;: \\&quot;userId\\&quot;&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        \\&quot;dependentRecords\\&quot;: [&quot; +\r\n        &quot;            {&quot; +\r\n        &quot;                \\&quot;Name\\&quot;: \\&quot;P3\\&quot;,&quot; +\r\n        &quot;                \\&quot;Type\\&quot;: \\&quot;DELETE\\&quot;,&quot; +\r\n        &quot;                \\&quot;sta\\&quot;: \\&quot;1P0\\&quot;,&quot; +\r\n        &quot;                \\&quot;some\\&quot;: \\&quot;1P02\\&quot;,&quot; +\r\n        &quot;                \\&quot;Id\\&quot;: \\&quot;1P0\\&quot;&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;        ]&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;}&quot;);\r\n\r\n__Style 1__\r\n\r\n    JsonNode node = josson.getNode(&quot;flatten(&#39;.&#39;,&#39;[%d]&#39;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n_Output_\r\n\r\n    {\r\n      &quot;bigRecords[0].Records.Name&quot; : &quot;R1&quot;,\r\n      &quot;bigRecords[0].Records.Id&quot; : &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\r\n      &quot;bigRecords[0].Records.Type&quot; : &quot;New&quot;,\r\n      &quot;bigRecords[0].Records.Area&quot; : &quot;Eng&quot;,\r\n      &quot;bigRecords[0].Records.createdAt&quot; : &quot;11-10-2022 06:10:00&quot;,\r\n      &quot;bigRecords[0].Records.deletedDate&quot; : &quot;11-10-2022 06:20:00&quot;,\r\n      &quot;bigRecords[0].Records.deleted&quot; : true,\r\n      &quot;bigRecords[0].Records.deletedBy&quot; : &quot;userId&quot;,\r\n      &quot;bigRecords[0].Records.createdBy&quot; : &quot;userId&quot;,\r\n      &quot;bigRecords[0].ancestors[0].Name&quot; : &quot;P1&quot;,\r\n      &quot;bigRecords[0].ancestors[0].Type&quot; : &quot;DELETE&quot;,\r\n      &quot;bigRecords[0].ancestors[0].sta&quot; : &quot;&quot;,\r\n      &quot;bigRecords[0].ancestors[0].some&quot; : &quot;&quot;,\r\n      &quot;bigRecords[0].ancestors[0].Id&quot; : &quot;1&quot;,\r\n      &quot;bigRecords[1].Records.Name&quot; : &quot;R2&quot;,\r\n      &quot;bigRecords[1].Records.Id&quot; : &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\r\n      &quot;bigRecords[1].Records.Type&quot; : &quot;DRAFT&quot;,\r\n      &quot;bigRecords[1].Records.Area&quot; : &quot;Eng&quot;,\r\n      &quot;bigRecords[1].Records.createdAt&quot; : &quot;11-10-2022 06:10:00&quot;,\r\n      &quot;bigRecords[1].Records.deletedDate&quot; : &quot;11-10-2022 06:20:00&quot;,\r\n      &quot;bigRecords[1].Records.deleted&quot; : true,\r\n      &quot;bigRecords[1].Records.deletedBy&quot; : &quot;userId&quot;,\r\n      &quot;bigRecords[1].Records.createdBy&quot; : &quot;userId&quot;,\r\n      &quot;bigRecords[1].dependentRecords[0].Name&quot; : &quot;P3&quot;,\r\n      &quot;bigRecords[1].dependentRecords[0].Type&quot; : &quot;DELETE&quot;,\r\n      &quot;bigRecords[1].dependentRecords[0].sta&quot; : &quot;1P0&quot;,\r\n      &quot;bigRecords[1].dependentRecords[0].some&quot; : &quot;1P02&quot;,\r\n      &quot;bigRecords[1].dependentRecords[0].Id&quot; : &quot;1P0&quot;\r\n    }\r\n\r\n__Style 2__\r\n\r\n    JsonNode node = josson.getNode(&quot;flatten(&#39;_&#39;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n_Output_\r\n\r\n    {\r\n      &quot;bigRecords_0_Records_Name&quot; : &quot;R1&quot;,\r\n      &quot;bigRecords_0_Records_Id&quot; : &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\r\n      &quot;bigRecords_0_Records_Type&quot; : &quot;New&quot;,\r\n      &quot;bigRecords_0_Records_Area&quot; : &quot;Eng&quot;,\r\n      &quot;bigRecords_0_Records_createdAt&quot; : &quot;11-10-2022 06:10:00&quot;,\r\n      &quot;bigRecords_0_Records_deletedDate&quot; : &quot;11-10-2022 06:20:00&quot;,\r\n      &quot;bigRecords_0_Records_deleted&quot; : true,\r\n      &quot;bigRecords_0_Records_deletedBy&quot; : &quot;userId&quot;,\r\n      &quot;bigRecords_0_Records_createdBy&quot; : &quot;userId&quot;,\r\n      &quot;bigRecords_0_ancestors_0_Name&quot; : &quot;P1&quot;,\r\n      &quot;bigRecords_0_ancestors_0_Type&quot; : &quot;DELETE&quot;,\r\n      &quot;bigRecords_0_ancestors_0_sta&quot; : &quot;&quot;,\r\n      &quot;bigRecords_0_ancestors_0_some&quot; : &quot;&quot;,\r\n      &quot;bigRecords_0_ancestors_0_Id&quot; : &quot;1&quot;,\r\n      &quot;bigRecords_1_Records_Name&quot; : &quot;R2&quot;,\r\n      &quot;bigRecords_1_Records_Id&quot; : &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\r\n      &quot;bigRecords_1_Records_Type&quot; : &quot;DRAFT&quot;,\r\n      &quot;bigRecords_1_Records_Area&quot; : &quot;Eng&quot;,\r\n      &quot;bigRecords_1_Records_createdAt&quot; : &quot;11-10-2022 06:10:00&quot;,\r\n      &quot;bigRecords_1_Records_deletedDate&quot; : &quot;11-10-2022 06:20:00&quot;,\r\n      &quot;bigRecords_1_Records_deleted&quot; : true,\r\n      &quot;bigRecords_1_Records_deletedBy&quot; : &quot;userId&quot;,\r\n      &quot;bigRecords_1_Records_createdBy&quot; : &quot;userId&quot;,\r\n      &quot;bigRecords_1_dependentRecords_0_Name&quot; : &quot;P3&quot;,\r\n      &quot;bigRecords_1_dependentRecords_0_Type&quot; : &quot;DELETE&quot;,\r\n      &quot;bigRecords_1_dependentRecords_0_sta&quot; : &quot;1P0&quot;,\r\n      &quot;bigRecords_1_dependentRecords_0_some&quot; : &quot;1P02&quot;,\r\n      &quot;bigRecords_1_dependentRecords_0_Id&quot; : &quot;1P0&quot;\r\n    }","title":"Convert Complex JSON To CSV file using JOLT","body":"<p>Library <em>Josson</em> has <code>flatten()</code> function.  It also has function <code>unflatten()</code> to reverse the operation.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;bigRecords\\&quot;: [&quot; +\n    &quot;        {&quot; +\n    &quot;        \\&quot;Records\\&quot;: {&quot; +\n    &quot;            \\&quot;Name\\&quot;: \\&quot;R1\\&quot;,&quot; +\n    &quot;            \\&quot;Id\\&quot;: \\&quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01\\&quot;,&quot; +\n    &quot;            \\&quot;Type\\&quot;: \\&quot;New\\&quot;,&quot; +\n    &quot;            \\&quot;Area\\&quot;: \\&quot;Eng\\&quot;,&quot; +\n    &quot;            \\&quot;createdAt\\&quot;: \\&quot;11-10-2022 06:10:00\\&quot;,&quot; +\n    &quot;            \\&quot;deletedDate\\&quot;: \\&quot;11-10-2022 06:20:00\\&quot;,&quot; +\n    &quot;            \\&quot;deleted\\&quot;: true,&quot; +\n    &quot;            \\&quot;deletedBy\\&quot;: \\&quot;userId\\&quot;,&quot; +\n    &quot;            \\&quot;createdBy\\&quot;: \\&quot;userId\\&quot;&quot; +\n    &quot;            &quot; +\n    &quot;        },&quot; +\n    &quot;        \\&quot;ancestors\\&quot;: [&quot; +\n    &quot;            {&quot; +\n    &quot;                \\&quot;Name\\&quot;: \\&quot;P1\\&quot;,&quot; +\n    &quot;                \\&quot;Type\\&quot;: \\&quot;DELETE\\&quot;,&quot; +\n    &quot;                \\&quot;sta\\&quot;: \\&quot;\\&quot;,&quot; +\n    &quot;                \\&quot;some\\&quot;: \\&quot;\\&quot;,&quot; +\n    &quot;                \\&quot;Id\\&quot;: \\&quot;1\\&quot;&quot; +\n    &quot;            }&quot; +\n    &quot;        ]&quot; +\n    &quot;    }, {&quot; +\n    &quot;        \\&quot;Records\\&quot;: {&quot; +\n    &quot;            \\&quot;Name\\&quot;: \\&quot;R2\\&quot;,&quot; +\n    &quot;            \\&quot;Id\\&quot;: \\&quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01\\&quot;,&quot; +\n    &quot;            \\&quot;Type\\&quot;: \\&quot;DRAFT\\&quot;,&quot; +\n    &quot;            \\&quot;Area\\&quot;: \\&quot;Eng\\&quot;,&quot; +\n    &quot;            \\&quot;createdAt\\&quot;: \\&quot;11-10-2022 06:10:00\\&quot;,&quot; +\n    &quot;            \\&quot;deletedDate\\&quot;: \\&quot;11-10-2022 06:20:00\\&quot;,&quot; +\n    &quot;            \\&quot;deleted\\&quot;: true,&quot; +\n    &quot;            \\&quot;deletedBy\\&quot;: \\&quot;userId\\&quot;,&quot; +\n    &quot;            \\&quot;createdBy\\&quot;: \\&quot;userId\\&quot;&quot; +\n    &quot;        },&quot; +\n    &quot;        \\&quot;dependentRecords\\&quot;: [&quot; +\n    &quot;            {&quot; +\n    &quot;                \\&quot;Name\\&quot;: \\&quot;P3\\&quot;,&quot; +\n    &quot;                \\&quot;Type\\&quot;: \\&quot;DELETE\\&quot;,&quot; +\n    &quot;                \\&quot;sta\\&quot;: \\&quot;1P0\\&quot;,&quot; +\n    &quot;                \\&quot;some\\&quot;: \\&quot;1P02\\&quot;,&quot; +\n    &quot;                \\&quot;Id\\&quot;: \\&quot;1P0\\&quot;&quot; +\n    &quot;            }&quot; +\n    &quot;        ]&quot; +\n    &quot;    }&quot; +\n    &quot;    ]&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Style 1</strong></p>\n<pre><code>JsonNode node = josson.getNode(&quot;flatten('.','[%d]')&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><em>Output</em></p>\n<pre><code>{\n  &quot;bigRecords[0].Records.Name&quot; : &quot;R1&quot;,\n  &quot;bigRecords[0].Records.Id&quot; : &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\n  &quot;bigRecords[0].Records.Type&quot; : &quot;New&quot;,\n  &quot;bigRecords[0].Records.Area&quot; : &quot;Eng&quot;,\n  &quot;bigRecords[0].Records.createdAt&quot; : &quot;11-10-2022 06:10:00&quot;,\n  &quot;bigRecords[0].Records.deletedDate&quot; : &quot;11-10-2022 06:20:00&quot;,\n  &quot;bigRecords[0].Records.deleted&quot; : true,\n  &quot;bigRecords[0].Records.deletedBy&quot; : &quot;userId&quot;,\n  &quot;bigRecords[0].Records.createdBy&quot; : &quot;userId&quot;,\n  &quot;bigRecords[0].ancestors[0].Name&quot; : &quot;P1&quot;,\n  &quot;bigRecords[0].ancestors[0].Type&quot; : &quot;DELETE&quot;,\n  &quot;bigRecords[0].ancestors[0].sta&quot; : &quot;&quot;,\n  &quot;bigRecords[0].ancestors[0].some&quot; : &quot;&quot;,\n  &quot;bigRecords[0].ancestors[0].Id&quot; : &quot;1&quot;,\n  &quot;bigRecords[1].Records.Name&quot; : &quot;R2&quot;,\n  &quot;bigRecords[1].Records.Id&quot; : &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\n  &quot;bigRecords[1].Records.Type&quot; : &quot;DRAFT&quot;,\n  &quot;bigRecords[1].Records.Area&quot; : &quot;Eng&quot;,\n  &quot;bigRecords[1].Records.createdAt&quot; : &quot;11-10-2022 06:10:00&quot;,\n  &quot;bigRecords[1].Records.deletedDate&quot; : &quot;11-10-2022 06:20:00&quot;,\n  &quot;bigRecords[1].Records.deleted&quot; : true,\n  &quot;bigRecords[1].Records.deletedBy&quot; : &quot;userId&quot;,\n  &quot;bigRecords[1].Records.createdBy&quot; : &quot;userId&quot;,\n  &quot;bigRecords[1].dependentRecords[0].Name&quot; : &quot;P3&quot;,\n  &quot;bigRecords[1].dependentRecords[0].Type&quot; : &quot;DELETE&quot;,\n  &quot;bigRecords[1].dependentRecords[0].sta&quot; : &quot;1P0&quot;,\n  &quot;bigRecords[1].dependentRecords[0].some&quot; : &quot;1P02&quot;,\n  &quot;bigRecords[1].dependentRecords[0].Id&quot; : &quot;1P0&quot;\n}\n</code></pre>\n<p><strong>Style 2</strong></p>\n<pre><code>JsonNode node = josson.getNode(&quot;flatten('_')&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><em>Output</em></p>\n<pre><code>{\n  &quot;bigRecords_0_Records_Name&quot; : &quot;R1&quot;,\n  &quot;bigRecords_0_Records_Id&quot; : &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\n  &quot;bigRecords_0_Records_Type&quot; : &quot;New&quot;,\n  &quot;bigRecords_0_Records_Area&quot; : &quot;Eng&quot;,\n  &quot;bigRecords_0_Records_createdAt&quot; : &quot;11-10-2022 06:10:00&quot;,\n  &quot;bigRecords_0_Records_deletedDate&quot; : &quot;11-10-2022 06:20:00&quot;,\n  &quot;bigRecords_0_Records_deleted&quot; : true,\n  &quot;bigRecords_0_Records_deletedBy&quot; : &quot;userId&quot;,\n  &quot;bigRecords_0_Records_createdBy&quot; : &quot;userId&quot;,\n  &quot;bigRecords_0_ancestors_0_Name&quot; : &quot;P1&quot;,\n  &quot;bigRecords_0_ancestors_0_Type&quot; : &quot;DELETE&quot;,\n  &quot;bigRecords_0_ancestors_0_sta&quot; : &quot;&quot;,\n  &quot;bigRecords_0_ancestors_0_some&quot; : &quot;&quot;,\n  &quot;bigRecords_0_ancestors_0_Id&quot; : &quot;1&quot;,\n  &quot;bigRecords_1_Records_Name&quot; : &quot;R2&quot;,\n  &quot;bigRecords_1_Records_Id&quot; : &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\n  &quot;bigRecords_1_Records_Type&quot; : &quot;DRAFT&quot;,\n  &quot;bigRecords_1_Records_Area&quot; : &quot;Eng&quot;,\n  &quot;bigRecords_1_Records_createdAt&quot; : &quot;11-10-2022 06:10:00&quot;,\n  &quot;bigRecords_1_Records_deletedDate&quot; : &quot;11-10-2022 06:20:00&quot;,\n  &quot;bigRecords_1_Records_deleted&quot; : true,\n  &quot;bigRecords_1_Records_deletedBy&quot; : &quot;userId&quot;,\n  &quot;bigRecords_1_Records_createdBy&quot; : &quot;userId&quot;,\n  &quot;bigRecords_1_dependentRecords_0_Name&quot; : &quot;P3&quot;,\n  &quot;bigRecords_1_dependentRecords_0_Type&quot; : &quot;DELETE&quot;,\n  &quot;bigRecords_1_dependentRecords_0_sta&quot; : &quot;1P0&quot;,\n  &quot;bigRecords_1_dependentRecords_0_some&quot; : &quot;1P02&quot;,\n  &quot;bigRecords_1_dependentRecords_0_Id&quot; : &quot;1P0&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674298989,"creation_date":1674296489,"answer_id":75192592,"question_id":75142943,"body_markdown":"Through using `Jolt`;\r\n\r\nyou can separate the levels by respective deepness of the leaves, and tile underscore separated ampersands which are node representatives in order to flatten the whole JSON such as\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {// the level of the indexes of the array\r\n          &quot;Reco*&quot;: {\r\n            &quot;*&quot;: {\r\n              &quot;@&quot;: &quot;&amp;4_&amp;3_&amp;2_&amp;&quot; // &amp; : the replicator of the current level value, &amp;2, &amp;3, ... represents going respective 2, 3 levels up the tree \r\n            }\r\n          },          \r\n          &quot;*&quot;: {// else case -&gt; keys other than &quot;Records&quot;\r\n            &quot;*&quot;: {// the level of the indexes of the respective arrays\r\n              &quot;*&quot;: {\r\n                &quot;@&quot;: &quot;&amp;5_&amp;4_&amp;3_&amp;2_&amp;&quot;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nwhich yields \r\n\r\n```json\r\n{\r\n  &quot;bigRecords_0_Records_Name&quot; : &quot;R1&quot;,\r\n  &quot;bigRecords_0_Records_Id&quot; : &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\r\n  &quot;bigRecords_0_Records_Type&quot; : &quot;New&quot;,\r\n  &quot;bigRecords_0_Records_Area&quot; : &quot;Eng&quot;,\r\n  &quot;bigRecords_0_Records_createdAt&quot; : &quot;11-10-2022 06:10:00&quot;,\r\n  &quot;bigRecords_0_Records_deletedDate&quot; : &quot;11-10-2022 06:20:00&quot;,\r\n  &quot;bigRecords_0_Records_deleted&quot; : true,\r\n  &quot;bigRecords_0_Records_deletedBy&quot; : &quot;userId&quot;,\r\n  &quot;bigRecords_0_Records_createdBy&quot; : &quot;userId&quot;,\r\n  &quot;bigRecords_0_ancestors_0_Name&quot; : &quot;P1&quot;,\r\n  &quot;bigRecords_0_ancestors_0_Type&quot; : &quot;DELETE&quot;,\r\n  &quot;bigRecords_0_ancestors_0_sta&quot; : &quot;&quot;,\r\n  &quot;bigRecords_0_ancestors_0_some&quot; : &quot;&quot;,\r\n  &quot;bigRecords_0_ancestors_0_Id&quot; : &quot;1&quot;,\r\n  &quot;bigRecords_1_Records_Name&quot; : &quot;R2&quot;,\r\n  &quot;bigRecords_1_Records_Id&quot; : &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\r\n  &quot;bigRecords_1_Records_Type&quot; : &quot;DRAFT&quot;,\r\n  &quot;bigRecords_1_Records_Area&quot; : &quot;Eng&quot;,\r\n  &quot;bigRecords_1_Records_createdAt&quot; : &quot;11-10-2022 06:10:00&quot;,\r\n  &quot;bigRecords_1_Records_deletedDate&quot; : &quot;11-10-2022 06:20:00&quot;,\r\n  &quot;bigRecords_1_Records_deleted&quot; : true,\r\n  &quot;bigRecords_1_Records_deletedBy&quot; : &quot;userId&quot;,\r\n  &quot;bigRecords_1_Records_createdBy&quot; : &quot;userId&quot;,\r\n  &quot;bigRecords_1_dependentRecords_0_Name&quot; : &quot;P3&quot;,\r\n  &quot;bigRecords_1_dependentRecords_0_Type&quot; : &quot;DELETE&quot;,\r\n  &quot;bigRecords_1_dependentRecords_0_sta&quot; : &quot;1P0&quot;,\r\n  &quot;bigRecords_1_dependentRecords_0_some&quot; : &quot;1P02&quot;,\r\n  &quot;bigRecords_1_dependentRecords_0_Id&quot; : &quot;1P0&quot;\r\n}\r\n```","title":"Convert Complex JSON To CSV file using JOLT","body":"<p>Through using <code>Jolt</code>;</p>\n<p>you can separate the levels by respective deepness of the leaves, and tile underscore separated ampersands which are node representatives in order to flatten the whole JSON such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {// the level of the indexes of the array\n          &quot;Reco*&quot;: {\n            &quot;*&quot;: {\n              &quot;@&quot;: &quot;&amp;4_&amp;3_&amp;2_&amp;&quot; // &amp; : the replicator of the current level value, &amp;2, &amp;3, ... represents going respective 2, 3 levels up the tree \n            }\n          },          \n          &quot;*&quot;: {// else case -&gt; keys other than &quot;Records&quot;\n            &quot;*&quot;: {// the level of the indexes of the respective arrays\n              &quot;*&quot;: {\n                &quot;@&quot;: &quot;&amp;5_&amp;4_&amp;3_&amp;2_&amp;&quot;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>which yields</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;bigRecords_0_Records_Name&quot; : &quot;R1&quot;,\n  &quot;bigRecords_0_Records_Id&quot; : &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\n  &quot;bigRecords_0_Records_Type&quot; : &quot;New&quot;,\n  &quot;bigRecords_0_Records_Area&quot; : &quot;Eng&quot;,\n  &quot;bigRecords_0_Records_createdAt&quot; : &quot;11-10-2022 06:10:00&quot;,\n  &quot;bigRecords_0_Records_deletedDate&quot; : &quot;11-10-2022 06:20:00&quot;,\n  &quot;bigRecords_0_Records_deleted&quot; : true,\n  &quot;bigRecords_0_Records_deletedBy&quot; : &quot;userId&quot;,\n  &quot;bigRecords_0_Records_createdBy&quot; : &quot;userId&quot;,\n  &quot;bigRecords_0_ancestors_0_Name&quot; : &quot;P1&quot;,\n  &quot;bigRecords_0_ancestors_0_Type&quot; : &quot;DELETE&quot;,\n  &quot;bigRecords_0_ancestors_0_sta&quot; : &quot;&quot;,\n  &quot;bigRecords_0_ancestors_0_some&quot; : &quot;&quot;,\n  &quot;bigRecords_0_ancestors_0_Id&quot; : &quot;1&quot;,\n  &quot;bigRecords_1_Records_Name&quot; : &quot;R2&quot;,\n  &quot;bigRecords_1_Records_Id&quot; : &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\n  &quot;bigRecords_1_Records_Type&quot; : &quot;DRAFT&quot;,\n  &quot;bigRecords_1_Records_Area&quot; : &quot;Eng&quot;,\n  &quot;bigRecords_1_Records_createdAt&quot; : &quot;11-10-2022 06:10:00&quot;,\n  &quot;bigRecords_1_Records_deletedDate&quot; : &quot;11-10-2022 06:20:00&quot;,\n  &quot;bigRecords_1_Records_deleted&quot; : true,\n  &quot;bigRecords_1_Records_deletedBy&quot; : &quot;userId&quot;,\n  &quot;bigRecords_1_Records_createdBy&quot; : &quot;userId&quot;,\n  &quot;bigRecords_1_dependentRecords_0_Name&quot; : &quot;P3&quot;,\n  &quot;bigRecords_1_dependentRecords_0_Type&quot; : &quot;DELETE&quot;,\n  &quot;bigRecords_1_dependentRecords_0_sta&quot; : &quot;1P0&quot;,\n  &quot;bigRecords_1_dependentRecords_0_some&quot; : &quot;1P02&quot;,\n  &quot;bigRecords_1_dependentRecords_0_Id&quot; : &quot;1P0&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":25798764,"reputation":21,"user_id":19541542,"display_name":"Aman Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1674298989,"creation_date":1673939260,"question_id":75142943,"body_markdown":"I am new to JOLT and I don&#39;t know much about it, and I need the JOLT spec to convert my below JSON to CSV file:\r\n\r\n```json\r\n{\r\n  &quot;bigRecords&quot;: [\r\n    {\r\n      &quot;Records&quot;: {\r\n        &quot;Name&quot;: &quot;R1&quot;,\r\n        &quot;Id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\r\n        &quot;Type&quot;: &quot;New&quot;,\r\n        &quot;Area&quot;: &quot;Eng&quot;,\r\n        &quot;createdAt&quot;: &quot;11-10-2022 06:10:00&quot;,\r\n        &quot;deletedDate&quot;: &quot;11-10-2022 06:20:00&quot;,\r\n        &quot;deleted&quot;: true,\r\n        &quot;deletedBy&quot;: &quot;userId&quot;,\r\n        &quot;createdBy&quot;: &quot;userId&quot;\r\n      },\r\n      &quot;ancestors&quot;: [\r\n        {\r\n          &quot;Name&quot;: &quot;P1&quot;,\r\n          &quot;Type&quot;: &quot;DELETE&quot;,\r\n          &quot;sta&quot;: &quot;&quot;,\r\n          &quot;some&quot;: &quot;&quot;,\r\n          &quot;Id&quot;: &quot;1&quot;\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;Records&quot;: {\r\n        &quot;Name&quot;: &quot;R2&quot;,\r\n        &quot;Id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\r\n        &quot;Type&quot;: &quot;DRAFT&quot;,\r\n        &quot;Area&quot;: &quot;Eng&quot;,\r\n        &quot;createdAt&quot;: &quot;11-10-2022 06:10:00&quot;,\r\n        &quot;deletedDate&quot;: &quot;11-10-2022 06:20:00&quot;,\r\n        &quot;deleted&quot;: true,\r\n        &quot;deletedBy&quot;: &quot;userId&quot;,\r\n        &quot;createdBy&quot;: &quot;userId&quot;\r\n      },\r\n      &quot;dependentRecords&quot;: [\r\n        {\r\n          &quot;Name&quot;: &quot;P3&quot;,\r\n          &quot;Type&quot;: &quot;DELETE&quot;,\r\n          &quot;sta&quot;: &quot;1P0&quot;,\r\n          &quot;some&quot;: &quot;1P02&quot;,\r\n          &quot;Id&quot;: &quot;1P0&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n\r\nPlease help me in convert the complex json to CSV using the JOlT library, or any other way I can do achieve this, in spring boot?","title":"Convert Complex JSON To CSV file using JOLT","body":"<p>I am new to JOLT and I don't know much about it, and I need the JOLT spec to convert my below JSON to CSV file:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;bigRecords&quot;: [\n    {\n      &quot;Records&quot;: {\n        &quot;Name&quot;: &quot;R1&quot;,\n        &quot;Id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\n        &quot;Type&quot;: &quot;New&quot;,\n        &quot;Area&quot;: &quot;Eng&quot;,\n        &quot;createdAt&quot;: &quot;11-10-2022 06:10:00&quot;,\n        &quot;deletedDate&quot;: &quot;11-10-2022 06:20:00&quot;,\n        &quot;deleted&quot;: true,\n        &quot;deletedBy&quot;: &quot;userId&quot;,\n        &quot;createdBy&quot;: &quot;userId&quot;\n      },\n      &quot;ancestors&quot;: [\n        {\n          &quot;Name&quot;: &quot;P1&quot;,\n          &quot;Type&quot;: &quot;DELETE&quot;,\n          &quot;sta&quot;: &quot;&quot;,\n          &quot;some&quot;: &quot;&quot;,\n          &quot;Id&quot;: &quot;1&quot;\n        }\n      ]\n    },\n    {\n      &quot;Records&quot;: {\n        &quot;Name&quot;: &quot;R2&quot;,\n        &quot;Id&quot;: &quot;1P02XV425KCASEZGQLB8LPQMF4ZXCUBCTA01&quot;,\n        &quot;Type&quot;: &quot;DRAFT&quot;,\n        &quot;Area&quot;: &quot;Eng&quot;,\n        &quot;createdAt&quot;: &quot;11-10-2022 06:10:00&quot;,\n        &quot;deletedDate&quot;: &quot;11-10-2022 06:20:00&quot;,\n        &quot;deleted&quot;: true,\n        &quot;deletedBy&quot;: &quot;userId&quot;,\n        &quot;createdBy&quot;: &quot;userId&quot;\n      },\n      &quot;dependentRecords&quot;: [\n        {\n          &quot;Name&quot;: &quot;P3&quot;,\n          &quot;Type&quot;: &quot;DELETE&quot;,\n          &quot;sta&quot;: &quot;1P0&quot;,\n          &quot;some&quot;: &quot;1P02&quot;,\n          &quot;Id&quot;: &quot;1P0&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>Please help me in convert the complex json to CSV using the JOlT library, or any other way I can do achieve this, in spring boot?</p>\n"},{"tags":["java","arrays","data-structures","dynamic-arrays"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1674296795,"post_id":75192598,"comment_id":132687432,"body_markdown":"Have a look at [`System.arraycopy`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)).","body":"Have a look at <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)\" rel=\"nofollow noreferrer\"><code>System.arraycopy</code></a>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1674296869,"post_id":75192598,"comment_id":132687442,"body_markdown":"What *is* the actual problem? At first glance, the code looks fine.","body":"What <i>is</i> the actual problem? At first glance, the code looks fine."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1674296924,"post_id":75192598,"comment_id":132687451,"body_markdown":"How are you determining that &quot;it is not calling either of those&quot;?","body":"How are you determining that &quot;it is not calling either of those&quot;?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674297048,"post_id":75192598,"comment_id":132687464,"body_markdown":"Hehe... the propgram never updates field `size`. If we replace `int[] temp = new int[size * 2];` with `size *= 2; int[] temp = new int[size];`, the program works as expected.","body":"Hehe... the propgram never updates field <code>size</code>. If we replace <code>int[] temp = new int[size * 2];</code> with <code>size *= 2; int[] temp = new int[size];</code>, the program works as expected."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674298932,"creation_date":1674297022,"answer_id":75192639,"question_id":75192598,"body_markdown":"You are never updating the `size` after allocating the bigger array:\r\n\r\n    private void resize() {\r\n        int[] temp = new int[size * 2];\r\n        for (int i = 0; i &lt; array.length; i++) {    \r\n            temp[i] = array[i];\r\n        }\r\n        array = temp;   \r\n    }\r\n\r\nThis will leave `size` at the initial value of `5`. You have to add `size *= 2` at the end of your method (or at the start and then only do `new int[size]`).\r\n\r\nPlease note that the `size` field is totally redundant, because it is already tracked and accessible via `array.length` (which you are already using in your loop&#39;s condition).\r\n\r\n`print` seems to be incorrect, as it always prints the full array, even the items which have not been added yet. You likely want to user `pointer` instead of `size` (otherwise, you are going to print lots of zeros):\r\n\r\n    public void print() {\r\n        for (int i = 0; i &lt; pointer; i++) {\r\n            System.out.println(array[i]);\r\n        }\r\n    }","title":"How to resize the array in Java?","body":"<p>You are never updating the <code>size</code> after allocating the bigger array:</p>\n<pre><code>private void resize() {\n    int[] temp = new int[size * 2];\n    for (int i = 0; i &lt; array.length; i++) {    \n        temp[i] = array[i];\n    }\n    array = temp;   \n}\n</code></pre>\n<p>This will leave <code>size</code> at the initial value of <code>5</code>. You have to add <code>size *= 2</code> at the end of your method (or at the start and then only do <code>new int[size]</code>).</p>\n<p>Please note that the <code>size</code> field is totally redundant, because it is already tracked and accessible via <code>array.length</code> (which you are already using in your loop's condition).</p>\n<p><code>print</code> seems to be incorrect, as it always prints the full array, even the items which have not been added yet. You likely want to user <code>pointer</code> instead of <code>size</code> (otherwise, you are going to print lots of zeros):</p>\n<pre><code>public void print() {\n    for (int i = 0; i &lt; pointer; i++) {\n        System.out.println(array[i]);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27586779,"reputation":9,"user_id":21054800,"display_name":"Nikhil Yadav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1674298932,"creation_date":1674296605,"question_id":75192598,"body_markdown":"I have been trying to create my own `Array` class, which is dynamic, but I can&#39;t figure out the problem \r\nin resizing the size of it. I created separate function to check if the array is full and for resizing it. But I think it is unable to call either one of those.\r\n\r\n    public class Array {\r\n        private int[] array;\r\n        private int size;\r\n        public int pointer;\r\n        private static int DEFAULT_SIZE = 5;\r\n        \r\n        Array() {\r\n        \tthis(DEFAULT_SIZE);\r\n        }\r\n        \r\n        Array(int size) {\r\n        \tthis.size = size;\r\n        \tthis.array = new int[size];\r\n        }\r\n        \r\n        public void add(int element) {\r\n        \tif (isFull()) {\r\n        \t\tresize();\r\n        \t}\r\n        \tarray[pointer] = element;\r\n        \tpointer++;\r\n        }\r\n\r\n        private boolean isFull() {\r\n        \treturn pointer == array.length;\r\n        }\r\n    \r\n        private void resize() {\r\n        \tint[] temp = new int[size * 2];\r\n        \tfor (int i = 0; i &lt; array.length; i++) { \t\r\n        \t\ttemp[i]\t= array[i];\r\n        \t}\r\n        \tarray = temp;\r\n        }\r\n        \r\n        public void print() {\r\n        \tfor (int i = 0; i &lt; size; i++) {\r\n        \t\tSystem.out.println(array[i]);\r\n        \t}\r\n        }\r\n    }\r\n","title":"How to resize the array in Java?","body":"<p>I have been trying to create my own <code>Array</code> class, which is dynamic, but I can't figure out the problem\nin resizing the size of it. I created separate function to check if the array is full and for resizing it. But I think it is unable to call either one of those.</p>\n<pre><code>public class Array {\n    private int[] array;\n    private int size;\n    public int pointer;\n    private static int DEFAULT_SIZE = 5;\n    \n    Array() {\n        this(DEFAULT_SIZE);\n    }\n    \n    Array(int size) {\n        this.size = size;\n        this.array = new int[size];\n    }\n    \n    public void add(int element) {\n        if (isFull()) {\n            resize();\n        }\n        array[pointer] = element;\n        pointer++;\n    }\n\n    private boolean isFull() {\n        return pointer == array.length;\n    }\n\n    private void resize() {\n        int[] temp = new int[size * 2];\n        for (int i = 0; i &lt; array.length; i++) {    \n            temp[i] = array[i];\n        }\n        array = temp;\n    }\n    \n    public void print() {\n        for (int i = 0; i &lt; size; i++) {\n            System.out.println(array[i]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mockito","powermock"],"answers":[{"tags":[],"owner":{"account_id":6836817,"reputation":76,"user_id":5258436,"display_name":"whitecoffee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440603330,"creation_date":1440603330,"answer_id":32230897,"question_id":32230706,"body_markdown":"Yes lookup mokito returns deep stub is its lingo\r\nhttp://mockito.googlecode.com/hg-history/1.8.3/javadoc/org/mockito/Mockito.html#RETURNS_DEEP_STUBS","title":"Can you mock a chain of method calls with Mocktio/PowerMock if one of them is static?","body":"<p>Yes lookup mokito returns deep stub is its lingo\n<a href=\"http://mockito.googlecode.com/hg-history/1.8.3/javadoc/org/mockito/Mockito.html#RETURNS_DEEP_STUBS\" rel=\"nofollow\">http://mockito.googlecode.com/hg-history/1.8.3/javadoc/org/mockito/Mockito.html#RETURNS_DEEP_STUBS</a></p>\n"},{"tags":[],"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674297415,"creation_date":1674297415,"answer_id":75192673,"question_id":32230706,"body_markdown":"Yes, you can write mock for a static method calls inside a non-static method.\r\n\r\nIn the below snippet, I am using the same class names as referred in the question. `method1()` is the static method defined in `SomeClass`. `method2()` is the non-static method in `AClass`.\r\n\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.mockStatic;\r\n    import static org.mockito.Mockito.when;\r\n\r\n    import org.mockito.MockedStatic;\r\n\r\n    public class TestClass {    \r\n        @Test\r\n        void methodTest() {\r\n            try (MockedStatic&lt;SomeClass&gt; someClass = mockStatic(SomeClass.class)) {\r\n                AClass aClass = mock(AClass.class);\r\n                someClass.when(SomeClass::method1).thenReturn(aClass);\r\n                when(aClass.method2()).thenReturn(true);\r\n                //...\r\n            }\r\n        }\r\n    }","title":"Can you mock a chain of method calls with Mocktio/PowerMock if one of them is static?","body":"<p>Yes, you can write mock for a static method calls inside a non-static method.</p>\n<p>In the below snippet, I am using the same class names as referred in the question. <code>method1()</code> is the static method defined in <code>SomeClass</code>. <code>method2()</code> is the non-static method in <code>AClass</code>.</p>\n<pre><code>import static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.mockStatic;\nimport static org.mockito.Mockito.when;\n\nimport org.mockito.MockedStatic;\n\npublic class TestClass {    \n    @Test\n    void methodTest() {\n        try (MockedStatic&lt;SomeClass&gt; someClass = mockStatic(SomeClass.class)) {\n            AClass aClass = mock(AClass.class);\n            someClass.when(SomeClass::method1).thenReturn(aClass);\n            when(aClass.method2()).thenReturn(true);\n            //...\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5078767,"reputation":959,"user_id":4075494,"accept_rate":50,"display_name":"Seb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1110,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1674297415,"creation_date":1440602826,"question_id":32230706,"body_markdown":"Imagine I have the following line in a piece of code I am unit testing:\r\n\r\n    SomeClass.method1().method2();\r\n\r\nWhere SomeClass is a class, method1() is a **static method** inside SomeClass that returns some instance of, say, &#39;aClass&#39;, and method2() is a method that can be called from an instance of &#39;aClass&#39;.\r\n\r\nIs it possible to mock out this entire chain so that I can return a result that I want? At the moment I know I could do something similar to this:\r\n\r\n    BDDMockito.given(SomeClass.method1()).willReturn(mockedAClass);\r\n    when(mockedAClass.method2()).thenReturn(true);\r\n\r\nBut I would rather do something like this:\r\n\r\n    when(SomeClass.method1().method2()).thenReturn(true);\r\n\r\nIs this possible?\r\n\r\n\r\n----------\r\n\r\nEDIT: This question was marked as a duplicate, but there is one quite large difference between my question and the &#39;duplicate&#39; one. In my question the first method is static, the second is not. I can&#39;t seem to get mockito to chain mock this static method, which leads me to believe it&#39;s not the same answer.","title":"Can you mock a chain of method calls with Mocktio/PowerMock if one of them is static?","body":"<p>Imagine I have the following line in a piece of code I am unit testing:</p>\n\n<pre><code>SomeClass.method1().method2();\n</code></pre>\n\n<p>Where SomeClass is a class, method1() is a <strong>static method</strong> inside SomeClass that returns some instance of, say, 'aClass', and method2() is a method that can be called from an instance of 'aClass'.</p>\n\n<p>Is it possible to mock out this entire chain so that I can return a result that I want? At the moment I know I could do something similar to this:</p>\n\n<pre><code>BDDMockito.given(SomeClass.method1()).willReturn(mockedAClass);\nwhen(mockedAClass.method2()).thenReturn(true);\n</code></pre>\n\n<p>But I would rather do something like this:</p>\n\n<pre><code>when(SomeClass.method1().method2()).thenReturn(true);\n</code></pre>\n\n<p>Is this possible?</p>\n\n<hr>\n\n<p>EDIT: This question was marked as a duplicate, but there is one quite large difference between my question and the 'duplicate' one. In my question the first method is static, the second is not. I can't seem to get mockito to chain mock this static method, which leads me to believe it's not the same answer.</p>\n"},{"tags":["java","gradle","micronaut"],"comments":[{"owner":{"account_id":1799615,"reputation":299,"user_id":1638270,"accept_rate":88,"display_name":"HelLViS69"},"score":0,"creation_date":1674569114,"post_id":75191088,"comment_id":132738270,"body_markdown":"I have the same problem, however I don&#39;t use mavenLocal() but a custom maven repository","body":"I have the same problem, however I don&#39;t use mavenLocal() but a custom maven repository"},{"owner":{"account_id":1799615,"reputation":299,"user_id":1638270,"accept_rate":88,"display_name":"HelLViS69"},"score":0,"creation_date":1674652786,"post_id":75191088,"comment_id":132759728,"body_markdown":"problem fixed upgrading to micronaut-openapi 4.8.2 released today","body":"problem fixed upgrading to micronaut-openapi 4.8.2 released today"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1674695879,"post_id":75191088,"comment_id":132771949,"body_markdown":"@HelLViS69 Any idea which version of Micronaut will include this version of Open Api ?","body":"@HelLViS69 Any idea which version of Micronaut will include this version of Open Api ?"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674296579,"creation_date":1674274437,"question_id":75191088,"body_markdown":"I have a gradle project with below dependencies\r\n\r\n    plugins {\r\n        id &#39;java-library&#39;\r\n        id &#39;maven-publish&#39;\r\n        id &quot;com.google.cloud.artifactregistry.gradle-plugin&quot; version &quot;2.1.5&quot;\r\n    }\r\n    repositories {\r\n        mavenLocal()\r\n        mavenCentral()\r\n    }\r\n    \r\n    publishing {\r\n        publications {\r\n            maven(MavenPublication) {\r\n                groupId = GROUP\r\n                artifactId = &#39;common&#39;\r\n                version = VERSION\r\n                from components.java\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    dependencies {\r\n        annotationProcessor &quot;io.micronaut:micronaut-inject-java:${micronautVersion}&quot;\r\n        annotationProcessor &quot;io.micronaut:micronaut-validation:${micronautVersion}&quot;\r\n        annotationProcessor(&quot;io.micronaut.security:micronaut-security-annotations&quot;)\r\n        annotationProcessor(&quot;io.micronaut:micronaut-http-validation:${micronautVersion}&quot;)\r\n    \r\n        api(&#39;io.swagger.core.v3:swagger-annotations:2.2.8&#39;)\r\n        implementation &#39;org.mongodb:bson:4.8.1&#39;\r\n        api &#39;io.micronaut.data:micronaut-data-model:3.9.4&#39;\r\n    \r\n        api &quot;io.micronaut:micronaut-validation:${micronautVersion}&quot;\r\n        api (&#39;io.micronaut.reactor:micronaut-reactor:2.5.0&#39;)\r\n        api(&#39;io.micronaut.security:micronaut-security-jwt:3.9.1&#39;)\r\n    \r\n    }\r\n\r\nPerform the below action, using the Gradle task\r\n\r\n 1. Clean\r\n 2. Build\r\n 3. PublishToMavenLocal\r\n\r\nIn the other micronaut project (using micronaut version - 3.8.2), I have included this library below\r\n\r\n        plugins {\r\n            id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.1.2&quot;\r\n            id(&quot;io.micronaut.application&quot;) version &quot;3.7.0&quot;\r\n            id &quot;com.google.cloud.artifactregistry.gradle-plugin&quot; version &quot;2.1.5&quot;\r\n        }\r\n        repositories {\r\n            mavenCentral()\r\n            mavenLocal()\r\n        }\r\n    \r\n        dependencies {\r\n          ......\r\n          implementation(&quot;fete.bird:common:0.0.0&quot;)\r\n        }\r\n\r\nWhen I build the application, getting the below exception as \r\n\r\n    error: Error finalizing type visitor [io.micronaut.openapi.visitor.OpenApiApplicationVisitor@5a03f688]: null\r\n\r\nAn closed bug https://github.com/micronaut-projects/micronaut-core/issues/1362\r\n\r\nAs suggested to remove the `mavenLocal()`, I can&#39;t remove it because using the other library from local. Since the library is in buggy face, still can&#39;t publish.\r\n\r\nHowever, reversing the version to `micronautVersion=3.7.5` everythings works\r\n","title":"Error finalizing type visitor [io.micronaut.openapi.visitor.OpenApiApplicationVisitor@16993f50]: null Mirconaut","body":"<p>I have a gradle project with below dependencies</p>\n<pre><code>plugins {\n    id 'java-library'\n    id 'maven-publish'\n    id &quot;com.google.cloud.artifactregistry.gradle-plugin&quot; version &quot;2.1.5&quot;\n}\nrepositories {\n    mavenLocal()\n    mavenCentral()\n}\n\npublishing {\n    publications {\n        maven(MavenPublication) {\n            groupId = GROUP\n            artifactId = 'common'\n            version = VERSION\n            from components.java\n        }\n    }\n}\n\n\ndependencies {\n    annotationProcessor &quot;io.micronaut:micronaut-inject-java:${micronautVersion}&quot;\n    annotationProcessor &quot;io.micronaut:micronaut-validation:${micronautVersion}&quot;\n    annotationProcessor(&quot;io.micronaut.security:micronaut-security-annotations&quot;)\n    annotationProcessor(&quot;io.micronaut:micronaut-http-validation:${micronautVersion}&quot;)\n\n    api('io.swagger.core.v3:swagger-annotations:2.2.8')\n    implementation 'org.mongodb:bson:4.8.1'\n    api 'io.micronaut.data:micronaut-data-model:3.9.4'\n\n    api &quot;io.micronaut:micronaut-validation:${micronautVersion}&quot;\n    api ('io.micronaut.reactor:micronaut-reactor:2.5.0')\n    api('io.micronaut.security:micronaut-security-jwt:3.9.1')\n\n}\n</code></pre>\n<p>Perform the below action, using the Gradle task</p>\n<ol>\n<li>Clean</li>\n<li>Build</li>\n<li>PublishToMavenLocal</li>\n</ol>\n<p>In the other micronaut project (using micronaut version - 3.8.2), I have included this library below</p>\n<pre><code>    plugins {\n        id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;7.1.2&quot;\n        id(&quot;io.micronaut.application&quot;) version &quot;3.7.0&quot;\n        id &quot;com.google.cloud.artifactregistry.gradle-plugin&quot; version &quot;2.1.5&quot;\n    }\n    repositories {\n        mavenCentral()\n        mavenLocal()\n    }\n\n    dependencies {\n      ......\n      implementation(&quot;fete.bird:common:0.0.0&quot;)\n    }\n</code></pre>\n<p>When I build the application, getting the below exception as</p>\n<pre><code>error: Error finalizing type visitor [io.micronaut.openapi.visitor.OpenApiApplicationVisitor@5a03f688]: null\n</code></pre>\n<p>An closed bug <a href=\"https://github.com/micronaut-projects/micronaut-core/issues/1362\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-core/issues/1362</a></p>\n<p>As suggested to remove the <code>mavenLocal()</code>, I can't remove it because using the other library from local. Since the library is in buggy face, still can't publish.</p>\n<p>However, reversing the version to <code>micronautVersion=3.7.5</code> everythings works</p>\n"},{"tags":["java","jdbc","odbc"],"comments":[{"owner":{"account_id":319457,"reputation":15507,"user_id":637236,"accept_rate":55,"display_name":"Rasel"},"score":0,"creation_date":1319609956,"post_id":7899225,"comment_id":9643896,"body_markdown":"http://stackoverflow.com/questions/6477887/connecting-to-sql-database-in-java/6477983#6477983","body":"<a href=\"http://stackoverflow.com/questions/6477887/connecting-to-sql-database-in-java/6477983#6477983\" title=\"connecting to sql database in java\">stackoverflow.com/questions/6477887/&hellip;</a>"},{"owner":{"account_id":967530,"reputation":2722,"user_id":990671,"accept_rate":41,"display_name":"Sam"},"score":0,"creation_date":1319610873,"post_id":7899225,"comment_id":9644027,"body_markdown":"But I&#39;m sure I&#39;m using the System DSN names rather than the database names.  I in fact read through the registry to derive the appropriate System DSN name for that matter.  Could you please give me any other suggestions??!","body":"But I&#39;m sure I&#39;m using the System DSN names rather than the database names.  I in fact read through the registry to derive the appropriate System DSN name for that matter.  Could you please give me any other suggestions??!"}],"answers":[{"tags":[],"owner":{"account_id":782071,"reputation":230,"user_id":844479,"display_name":"Garry M. Biggs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319726267,"creation_date":1319726267,"answer_id":7917587,"question_id":7899225,"body_markdown":"Wondering if this could be yet another bitness issue?\r\n\r\nIf this is a 64bit system then the bitness of the Java runtime is important!!!!\r\n\r\n64bit Java run time will only be able to access 64bit ODBC drivers...\r\n\r\n32bit Java run time will only be able to access 32bit ODBC drivers...\r\n\r\n32bit and 64bit ODBC environments are not the same...","title":"java.sql.SQLException: General error at sun.jdbc.odbc.JdbcOdbc.createSQLException(Unknown Source)","body":"<p>Wondering if this could be yet another bitness issue?</p>\n\n<p>If this is a 64bit system then the bitness of the Java runtime is important!!!!</p>\n\n<p>64bit Java run time will only be able to access 64bit ODBC drivers...</p>\n\n<p>32bit Java run time will only be able to access 32bit ODBC drivers...</p>\n\n<p>32bit and 64bit ODBC environments are not the same...</p>\n"},{"tags":[],"owner":{"account_id":2008576,"reputation":1,"user_id":1797692,"display_name":"meki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354289244,"creation_date":1354287745,"answer_id":13647702,"question_id":7899225,"body_markdown":"Looking for the answer for &quot;general error&quot; I finally found that it is the problem on the data source name.\r\n\r\n`jdbc:odbc:xx` where `xx` is the data source name NOT the data base name\r\n\r\nIt works form me!\r\n","title":"java.sql.SQLException: General error at sun.jdbc.odbc.JdbcOdbc.createSQLException(Unknown Source)","body":"<p>Looking for the answer for \"general error\" I finally found that it is the problem on the data source name.</p>\n\n<p><code>jdbc:odbc:xx</code> where <code>xx</code> is the data source name NOT the data base name</p>\n\n<p>It works form me!</p>\n"}],"owner":{"account_id":967530,"reputation":2722,"user_id":990671,"accept_rate":41,"display_name":"Sam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7692,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674295756,"creation_date":1319609615,"question_id":7899225,"body_markdown":"I&#39;m trying to establish a JDBC-ODBC connection using the following routine,\r\n\r\n    private static Connection getConnection(String systemDSN, String username, String password) throws Exception {\r\n        String driver = &quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;;\r\n        String url = &quot;jdbc:odbc:&quot; + systemDSN;\r\n        Class.forName(driver);\r\n        return DriverManager.getConnection(url, username, password);\r\n    }\r\n\r\nAnd here&#39;s the complete stack trace I&#39;m getting!\r\n\r\n    java.sql.SQLException: General error at sun.jdbc.odbc.JdbcOdbc.createSQLException(Unknown Source)\r\n    at sun.jdbc.odbc.JdbcOdbc.standardError(Unknown Source)\r\n    at sun.jdbc.odbc.JdbcOdbc.SQLDriverConnect(Unknown Source)\r\n    at sun.jdbc.odbc.JdbcOdbcConnection.initialize(Unknown Source)\r\n    at sun.jdbc.odbc.JdbcOdbcDriver.connect(Unknown Source)\r\n    at java.sql.DriverManager.getConnection(Unknown Source)\r\n    at java.sql.DriverManager.getConnection(Unknown Source)\r\n\r\nCan anyone PLEASE let me know how this is caused and how I can remedy this??!","title":"java.sql.SQLException: General error at sun.jdbc.odbc.JdbcOdbc.createSQLException(Unknown Source)","body":"<p>I'm trying to establish a JDBC-ODBC connection using the following routine,</p>\n\n<pre><code>private static Connection getConnection(String systemDSN, String username, String password) throws Exception {\n    String driver = \"sun.jdbc.odbc.JdbcOdbcDriver\";\n    String url = \"jdbc:odbc:\" + systemDSN;\n    Class.forName(driver);\n    return DriverManager.getConnection(url, username, password);\n}\n</code></pre>\n\n<p>And here's the complete stack trace I'm getting!</p>\n\n<pre><code>java.sql.SQLException: General error at sun.jdbc.odbc.JdbcOdbc.createSQLException(Unknown Source)\nat sun.jdbc.odbc.JdbcOdbc.standardError(Unknown Source)\nat sun.jdbc.odbc.JdbcOdbc.SQLDriverConnect(Unknown Source)\nat sun.jdbc.odbc.JdbcOdbcConnection.initialize(Unknown Source)\nat sun.jdbc.odbc.JdbcOdbcDriver.connect(Unknown Source)\nat java.sql.DriverManager.getConnection(Unknown Source)\nat java.sql.DriverManager.getConnection(Unknown Source)\n</code></pre>\n\n<p>Can anyone PLEASE let me know how this is caused and how I can remedy this??!</p>\n"},{"tags":["java","spring","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":282742,"reputation":21634,"user_id":579828,"accept_rate":83,"display_name":"Vic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674294261,"creation_date":1674233080,"answer_id":75186979,"question_id":75184076,"body_markdown":"As written in [Oracle&#39;s Java tutorial ][1]\r\n\r\n&gt; Annotations, a form of metadata, provide data about a program that is\r\n&gt; not part of the program itself. Annotations have no direct effect on\r\n&gt; the operation of the code they annotate.\r\n&gt; \r\n&gt; Annotations have a number of uses, among them:\r\n&gt; \r\n&gt;  1. Information for the compiler â Annotations can be used by the\r\n&gt;     compiler to detect errors or suppress warnings. \r\n&gt;  2. Compile-time and\r\n&gt;     deployment-time processing â Software tools can process annotation\r\n&gt;     information to generate code, XML files, and so forth. \r\n&gt;  3. Runtime processing â Some annotations are available to be examined at\r\n&gt;     runtime.\r\n\r\nThey&#39;re not really directly executable and therefore not debuggable; for example what would you expect when putting a break point on `@Override` annotation? \r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/annotations/","title":"Intellij doesnt break line in spring controller","body":"<p>As written in <a href=\"https://docs.oracle.com/javase/tutorial/java/annotations/\" rel=\"nofollow noreferrer\">Oracle's Java tutorial </a></p>\n<blockquote>\n<p>Annotations, a form of metadata, provide data about a program that is\nnot part of the program itself. Annotations have no direct effect on\nthe operation of the code they annotate.</p>\n<p>Annotations have a number of uses, among them:</p>\n<ol>\n<li>Information for the compiler â Annotations can be used by the\ncompiler to detect errors or suppress warnings.</li>\n<li>Compile-time and\ndeployment-time processing â Software tools can process annotation\ninformation to generate code, XML files, and so forth.</li>\n<li>Runtime processing â Some annotations are available to be examined at\nruntime.</li>\n</ol>\n</blockquote>\n<p>They're not really directly executable and therefore not debuggable; for example what would you expect when putting a break point on <code>@Override</code> annotation?</p>\n"}],"owner":{"account_id":27580432,"reputation":1,"user_id":21049772,"display_name":"Lesmoto 22 Mowa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674294261,"creation_date":1674217930,"question_id":75184076,"body_markdown":"When I press CTRL + ALT + L then every line gets breaked, except of a Controller line with annotations. \r\n\r\nI set it up to wrap at 200 and it does so, just not on this as example:\r\n[![enter image description here][1]][1]\r\nI tried to set up the Code Style -&gt; Java -&gt; Wrapping and Braces.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lnaUN.png","title":"Intellij doesnt break line in spring controller","body":"<p>When I press CTRL + ALT + L then every line gets breaked, except of a Controller line with annotations.</p>\n<p>I set it up to wrap at 200 and it does so, just not on this as example:\n<a href=\"https://i.stack.imgur.com/lnaUN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lnaUN.png\" alt=\"enter image description here\" /></a>\nI tried to set up the Code Style -&gt; Java -&gt; Wrapping and Braces.</p>\n"},{"tags":["java","jvm","eclipse-memory-analyzer","oql"],"answers":[{"tags":[],"owner":{"account_id":18866500,"reputation":431,"user_id":13762112,"display_name":"user13762112"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598620009,"creation_date":1598620009,"answer_id":63634386,"question_id":62208144,"body_markdown":"Yes, a query such as:\r\n\r\n    SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry r where r in (SELECT AS RETAINED SET objects s FROM OBJECTS ${snapshot}.@GCRoots s WHERE ((SELECT t FROM OBJECTS ${snapshot}.getGCRootInfo(s) t WHERE (t.@type = 2048)) != null))\r\n\r\nshould do it.\r\n\r\nExplanation:\r\n\r\nFind the GC roots:\r\n\r\n    SELECT objects s FROM OBJECTS ${snapshot}.@GCRoots s\r\n\r\nFind the GC roots, then for each GC root get the array of GC root information, then look at each GCRootInfo and find the type and see if it is Type.UNREACHABLE (2048) and only then select a GC root where the GC root information says it is unreachable. This finds the unreachable object roots. Keep unreachable objects only marks some of the unreachable objects as GC roots - the remaining unreachable objects are retained by these roots. Queries work better than way.\r\n\r\n    SELECT OBJECTS s FROM OBJECTS ${snapshot}.@GCRoots s WHERE ((SELECT t FROM OBJECTS ${snapshot}.getGCRootInfo(s) t WHERE (t.@type = 2048)) != null)\r\n\r\nFind all the unreachable objects by finding all the objects retained by the unreachable GC roots:\r\n\r\n    SELECT AS RETAINED SET OBJECTS s FROM OBJECTS ${snapshot}.@GCRoots s WHERE ((SELECT t FROM OBJECTS ${snapshot}.getGCRootInfo(s) t WHERE (t.@type = 2048)) != null)\r\n\r\nFind all the LocalCache$StrongAccessWriteEntry objects\r\n\r\n    SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry r\r\n\r\nFind all the LocalCache$StrongAccessWriteEntry objects which are also in the unreachable objects set.\r\n\r\n    SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry r where r in (SELECT AS RETAINED SET OBJECTS s FROM OBJECTS ${snapshot}.@GCRoots s WHERE ((SELECT t FROM OBJECTS ${snapshot}.getGCRootInfo(s) t WHERE (t.@type = 2048)) != null))\r\n\r\n\r\nThere is more information about writing queries in the [Eclipse Memory Analyzer wiki][1].\r\n\r\n  [1]: https://wiki.eclipse.org/MemoryAnalyzer/OQL#Writing_Queries","title":"Is there any way to get unreachable objects using OQL in mat?","body":"<p>Yes, a query such as:</p>\n<pre><code>SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry r where r in (SELECT AS RETAINED SET objects s FROM OBJECTS ${snapshot}.@GCRoots s WHERE ((SELECT t FROM OBJECTS ${snapshot}.getGCRootInfo(s) t WHERE (t.@type = 2048)) != null))\n</code></pre>\n<p>should do it.</p>\n<p>Explanation:</p>\n<p>Find the GC roots:</p>\n<pre><code>SELECT objects s FROM OBJECTS ${snapshot}.@GCRoots s\n</code></pre>\n<p>Find the GC roots, then for each GC root get the array of GC root information, then look at each GCRootInfo and find the type and see if it is Type.UNREACHABLE (2048) and only then select a GC root where the GC root information says it is unreachable. This finds the unreachable object roots. Keep unreachable objects only marks some of the unreachable objects as GC roots - the remaining unreachable objects are retained by these roots. Queries work better than way.</p>\n<pre><code>SELECT OBJECTS s FROM OBJECTS ${snapshot}.@GCRoots s WHERE ((SELECT t FROM OBJECTS ${snapshot}.getGCRootInfo(s) t WHERE (t.@type = 2048)) != null)\n</code></pre>\n<p>Find all the unreachable objects by finding all the objects retained by the unreachable GC roots:</p>\n<pre><code>SELECT AS RETAINED SET OBJECTS s FROM OBJECTS ${snapshot}.@GCRoots s WHERE ((SELECT t FROM OBJECTS ${snapshot}.getGCRootInfo(s) t WHERE (t.@type = 2048)) != null)\n</code></pre>\n<p>Find all the LocalCache$StrongAccessWriteEntry objects</p>\n<pre><code>SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry r\n</code></pre>\n<p>Find all the LocalCache$StrongAccessWriteEntry objects which are also in the unreachable objects set.</p>\n<pre><code>SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry r where r in (SELECT AS RETAINED SET OBJECTS s FROM OBJECTS ${snapshot}.@GCRoots s WHERE ((SELECT t FROM OBJECTS ${snapshot}.getGCRootInfo(s) t WHERE (t.@type = 2048)) != null))\n</code></pre>\n<p>There is more information about writing queries in the <a href=\"https://wiki.eclipse.org/MemoryAnalyzer/OQL#Writing_Queries\" rel=\"noreferrer\">Eclipse Memory Analyzer wiki</a>.</p>\n"},{"tags":[],"owner":{"account_id":11130947,"reputation":1,"user_id":8170965,"display_name":"X. Wu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674293957,"creation_date":1670482941,"answer_id":74726598,"question_id":62208144,"body_markdown":"Unreachable objects means it has no incoming reference.\r\n```\r\nSELECT * \r\nFROM com.google.common.cache.LocalCache$StrongAccessWriteEntry o \r\nWHERE (inbounds(o).size() = 0)\r\n```","title":"Is there any way to get unreachable objects using OQL in mat?","body":"<p>Unreachable objects means it has no incoming reference.</p>\n<pre><code>SELECT * \nFROM com.google.common.cache.LocalCache$StrongAccessWriteEntry o \nWHERE (inbounds(o).size() = 0)\n</code></pre>\n"}],"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1017,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674293957,"creation_date":1591331318,"question_id":62208144,"body_markdown":"I can query all the instances of `com.google.common.cache.LocalCache$StrongAccessWriteEntry\r\n` in mat using OQL:\r\n\r\n    SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry\r\n\r\nI&#39;ve turned on `Keep unreachable objects` in mat. So the result contains both reachable and unreachable objects. Now I want to get all the unreachable `com.google.common.cache.LocalCache$StrongAccessWriteEntry instances`(aka. no gc roots), something like this:\r\n\r\n    SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry WHERE unreachable=true\r\n\r\nCan I do it using OQL?","title":"Is there any way to get unreachable objects using OQL in mat?","body":"<p>I can query all the instances of <code>com.google.common.cache.LocalCache$StrongAccessWriteEntry\n</code> in mat using OQL:</p>\n\n<pre><code>SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry\n</code></pre>\n\n<p>I've turned on <code>Keep unreachable objects</code> in mat. So the result contains both reachable and unreachable objects. Now I want to get all the unreachable <code>com.google.common.cache.LocalCache$StrongAccessWriteEntry instances</code>(aka. no gc roots), something like this:</p>\n\n<pre><code>SELECT * FROM com.google.common.cache.LocalCache$StrongAccessWriteEntry WHERE unreachable=true\n</code></pre>\n\n<p>Can I do it using OQL?</p>\n"},{"tags":["java","android","database","kotlin","android-room"],"comments":[{"owner":{"account_id":13428169,"reputation":781,"user_id":9688781,"display_name":"jbmcle"},"score":0,"creation_date":1674289005,"post_id":75191933,"comment_id":132686547,"body_markdown":"You need to consider. If it is worth it to give up the clean structure,and maintainability of using POJOs and TypeConverter just to save serialization and deserialization time which is barely noticeable.","body":"You need to consider. If it is worth it to give up the clean structure,and maintainability of using POJOs and TypeConverter just to save serialization and deserialization time which is barely noticeable."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674293775,"creation_date":1674293040,"answer_id":75192303,"question_id":75191933,"body_markdown":"There are some who advocate storing a representation of objects as a single column. This is fine if you just want to store and retrieve the objects and then work with the objects. The code itself can often be shorter.\r\n\r\nIf you want to manipulate the underlying values (fields in the object) embedded in the representation via the power of SQLite then matters can get quite complex and perhaps inefficient due to the much higher likelihood of full table scans due to the likely lack of available/usable indexes. \r\n\r\ne.g. if myvalue is a value within a representation (typically JSON) then to find rows with this value you would have to use something like\r\n\r\n    @Query(&quot;SELECT * FROM the_table WHERE the_one_for_many_values_column LIKE &#39;%myvalue%&#39;&quot;)\r\n\r\nor \r\n\r\n    @Query(&quot;SELECT * FROM the_table WHERE instr(the_one_for_may_values_column,&#39;myvalue&#39;)\r\n\r\n\r\nas opposed to myvalue being stored in a column of it&#39;s own (say the_value) then\r\n\r\n    @Query(&quot;SELECT * FROM the_table WHERE the_value LIKE &#39;myvalue&#39;)\r\n\r\n- the former two have the flaw that if myvalue is stored elsewhere within the representation then that row is also included even. Other than the fact that LIKE is case independent the third is an EXACT.\r\n- an index on the the_value column may improve performance\r\n\r\nAdditionally the representation will undoubtedly add bloat (separators and descriptors of the values) and thus will require more storage. This compounded as the same data would often be stored multiple times whilst a normalised relational approach may well store just 1 instance of the data (with just up to 8 bytes per repetition if a 1-M relationship (indexes excluded)).\r\n\r\n-  32 bytes of bloat and the maximum needed to cater for a many-many relationship (8 bytes parent 8 bytes child and two 8 bytes columns in the mapping table) will be exceeded.\r\n\r\nAs the SQLite API utilises Cursors (buffering) to retrieve extracted data, then with a greater storage requirement fewer rows can be held at once by a CursorWindow (the limited sized buffer that is loaded by x rows of output). There is also greater potential, again due to the bloat, of a single row being larger than the CursorWindow permits.\r\n\r\nIn short for smaller simpler projects not interested greatly in performance, then storing representations via TypeConverters could be the more convenient and practical approach. For larger more complex projects then unleashing the relational aspects of SQLite via data that is related rather than embedded within a representation could well be the way to go.","title":"Alternate approach to storing complex data types in room database","body":"<p>There are some who advocate storing a representation of objects as a single column. This is fine if you just want to store and retrieve the objects and then work with the objects. The code itself can often be shorter.</p>\n<p>If you want to manipulate the underlying values (fields in the object) embedded in the representation via the power of SQLite then matters can get quite complex and perhaps inefficient due to the much higher likelihood of full table scans due to the likely lack of available/usable indexes.</p>\n<p>e.g. if myvalue is a value within a representation (typically JSON) then to find rows with this value you would have to use something like</p>\n<pre><code>@Query(&quot;SELECT * FROM the_table WHERE the_one_for_many_values_column LIKE '%myvalue%'&quot;)\n</code></pre>\n<p>or</p>\n<pre><code>@Query(&quot;SELECT * FROM the_table WHERE instr(the_one_for_may_values_column,'myvalue')\n</code></pre>\n<p>as opposed to myvalue being stored in a column of it's own (say the_value) then</p>\n<pre><code>@Query(&quot;SELECT * FROM the_table WHERE the_value LIKE 'myvalue')\n</code></pre>\n<ul>\n<li>the former two have the flaw that if myvalue is stored elsewhere within the representation then that row is also included even. Other than the fact that LIKE is case independent the third is an EXACT.</li>\n<li>an index on the the_value column may improve performance</li>\n</ul>\n<p>Additionally the representation will undoubtedly add bloat (separators and descriptors of the values) and thus will require more storage. This compounded as the same data would often be stored multiple times whilst a normalised relational approach may well store just 1 instance of the data (with just up to 8 bytes per repetition if a 1-M relationship (indexes excluded)).</p>\n<ul>\n<li>32 bytes of bloat and the maximum needed to cater for a many-many relationship (8 bytes parent 8 bytes child and two 8 bytes columns in the mapping table) will be exceeded.</li>\n</ul>\n<p>As the SQLite API utilises Cursors (buffering) to retrieve extracted data, then with a greater storage requirement fewer rows can be held at once by a CursorWindow (the limited sized buffer that is loaded by x rows of output). There is also greater potential, again due to the bloat, of a single row being larger than the CursorWindow permits.</p>\n<p>In short for smaller simpler projects not interested greatly in performance, then storing representations via TypeConverters could be the more convenient and practical approach. For larger more complex projects then unleashing the relational aspects of SQLite via data that is related rather than embedded within a representation could well be the way to go.</p>\n"}],"owner":{"account_id":22988785,"reputation":1,"user_id":17114603,"display_name":"shantanu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674293775,"creation_date":1674288543,"question_id":75191933,"body_markdown":"**Existing approach**: Currently we use **TypeConverters** to help database to store and retrieve complex data type (POJO class objects). But that involves serializing and deserializing the objects, which seems unnecessary when we only need a simple primitive data type like int, string, float, etc.\r\n\r\n**My approach**: I am thinking of an approach of breaking down the complex data type to primitive ones and create separate columns to store them. When we need a simple primitive type from the database, then we won&#39;t have to go through the process of deserializing complex objects.\r\n\r\n\r\nI have tried the my approach and it is working but I&#39;m not sure of the corner cases that may arise while implementing this approach in big projects.\r\n\r\n**I am still new to this, need help in finding pros and cons of my approach.**","title":"Alternate approach to storing complex data types in room database","body":"<p><strong>Existing approach</strong>: Currently we use <strong>TypeConverters</strong> to help database to store and retrieve complex data type (POJO class objects). But that involves serializing and deserializing the objects, which seems unnecessary when we only need a simple primitive data type like int, string, float, etc.</p>\n<p><strong>My approach</strong>: I am thinking of an approach of breaking down the complex data type to primitive ones and create separate columns to store them. When we need a simple primitive type from the database, then we won't have to go through the process of deserializing complex objects.</p>\n<p>I have tried the my approach and it is working but I'm not sure of the corner cases that may arise while implementing this approach in big projects.</p>\n<p><strong>I am still new to this, need help in finding pros and cons of my approach.</strong></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1673542589,"post_id":75099238,"comment_id":132527921,"body_markdown":"`Caused by: java.lang.IllegalArgumentException: The &#39;interface org.springframework.integration.annotation.InboundChannelAdapter&#39; on @Bean method level is allowed only for: org.springframework.integration.core.MessageSource, or java.util.function.Supplier, or kotlin.jvm.functions.Function0 beans\n    &lt;... more stacktrace...&gt;` what if you try debugging from the latest line in that piece of stacktrace? Maybe you could find out why it throws an IllegalArgumentException and what is wrong there.","body":"<code>Caused by: java.lang.IllegalArgumentException: The &#39;interface org.springframework.integration.annotation.InboundChannelAda&zwnj;&#8203;pter&#39; on @Bean method level is allowed only for: org.springframework.integration.core.MessageSource, or java.util.function.Supplier, or kotlin.jvm.functions.Function0 beans     &lt;... more stacktrace...&gt;</code> what if you try debugging from the latest line in that piece of stacktrace? Maybe you could find out why it throws an IllegalArgumentException and what is wrong there."}],"answers":[{"tags":[],"owner":{"account_id":296566,"reputation":193,"user_id":601594,"accept_rate":100,"display_name":"tyler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673605340,"creation_date":1673605340,"answer_id":75107863,"question_id":75099238,"body_markdown":"I know this does not explain the IllegalArgumentException, but for reasons of pragmatism  i circumvented this problem by implementing a dummy configuration class inside the test-folder of the maven-project that provides the same beans as the original but does not use the @InboundChannelAdapter, as suggested by Matheus Santz in [how-to-exclude-java-configuration-class-from-test-context][1]. So for the tests this new dummy class is used.\r\nThanx to Vitaly Chura and all others reading.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39729752/java-spring-boot-test-how-to-exclude-java-configuration-class-from-test-context","title":"Why does InboundChannelAdapter not work in SpringBootTest","body":"<p>I know this does not explain the IllegalArgumentException, but for reasons of pragmatism  i circumvented this problem by implementing a dummy configuration class inside the test-folder of the maven-project that provides the same beans as the original but does not use the @InboundChannelAdapter, as suggested by Matheus Santz in <a href=\"https://stackoverflow.com/questions/39729752/java-spring-boot-test-how-to-exclude-java-configuration-class-from-test-context\">how-to-exclude-java-configuration-class-from-test-context</a>. So for the tests this new dummy class is used.\nThanx to Vitaly Chura and all others reading.</p>\n"}],"owner":{"account_id":296566,"reputation":193,"user_id":601594,"accept_rate":100,"display_name":"tyler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674293501,"creation_date":1673539901,"question_id":75099238,"body_markdown":"In a spring-boot project i am using the following code:\r\n\r\n    import org.springframework.integration.core.MessageSource;\r\n\r\n    @Configuration\r\n    public class Config\r\n    {\r\n    \r\n    @Bean\r\n    @InboundChannelAdapter(channel = &quot;channel1&quot;, autoStartup = &quot;false&quot;,\r\n          poller = @Poller(&quot;poller&quot;))\r\n    public MessageSource messages() throws Exception\r\n    {\r\n    ...\r\n\r\nto poll a mailaccount for incoming messages. This works fine so far.\r\n\r\nThe problem arises when i try to call some tests in a class that is annotated with `@SpringBootTest`. Then the initialisation of my testclass fails: \r\n\r\n    2023-01-12T16:43:03.846+01:00 ERROR 3625 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@63648ee9] to prepare test instance [MyClass@b849fa6]\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:131) ~[spring-test-6.0.0-M5.jar:6.0.0-M5]\r\n    \t&lt;... stacktrace ...&gt;\r\n    Caused by: java.lang.IllegalArgumentException: The &#39;interface org.springframework.integration.annotation.InboundChannelAdapter&#39; on @Bean method level is allowed only for: org.springframework.integration.core.MessageSource, or java.util.function.Supplier, or kotlin.jvm.functions.Function0 beans\r\n    \t&lt;... more stacktrace...&gt;\r\n\r\nI can&#39;t see the problem here, since the annotation is used together with MessageSource. Can someone help me on this one, please?\r\n\t\r\nupdate in reply to the comment from Vitaly Chura:\r\nin fact, that does not tell me much, unfortunately, but i will give it a try:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: The &#39;interface org.springframework.integration.annotation.InboundChannelAdapter&#39; on @Bean method level is allowed only for: org.springframework.integration.core.MessageSource, or java.util.function.Supplier, or kotlin.jvm.functions.Function0 beans\r\n\tat org.springframework.util.Assert.isTrue(Assert.java:139) ~[spring-core-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.integration.config.annotation.InboundChannelAdapterAnnotationPostProcessor.createMessageSource(InboundChannelAdapterAnnotationPostProcessor.java:100) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\r\n\tat org.springframework.integration.config.annotation.InboundChannelAdapterAnnotationPostProcessor.postProcess(InboundChannelAdapterAnnotationPostProcessor.java:72) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\r\n\tat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.postProcessMethodAndRegisterEndpointIfAny(MessagingAnnotationPostProcessor.java:231) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\r\n\tat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.lambda$processAnnotationTypeOnMethod$4(MessagingAnnotationPostProcessor.java:220) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.afterSingletonsInstantiated(MessagingAnnotationPostProcessor.java:135) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:941) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:926) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:430) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132) ~[spring-boot-test-3.0.0-M4.jar:3.0.0-M4]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-6.0.0-M5.jar:6.0.0-M5]\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:123) ~[spring-test-6.0.0-M5.jar:6.0.0-M5]\r\n\t... 72 common frames omitted\r\n\r\n","title":"Why does InboundChannelAdapter not work in SpringBootTest","body":"<p>In a spring-boot project i am using the following code:</p>\n<pre><code>import org.springframework.integration.core.MessageSource;\n\n@Configuration\npublic class Config\n{\n\n@Bean\n@InboundChannelAdapter(channel = &quot;channel1&quot;, autoStartup = &quot;false&quot;,\n      poller = @Poller(&quot;poller&quot;))\npublic MessageSource messages() throws Exception\n{\n...\n</code></pre>\n<p>to poll a mailaccount for incoming messages. This works fine so far.</p>\n<p>The problem arises when i try to call some tests in a class that is annotated with <code>@SpringBootTest</code>. Then the initialisation of my testclass fails:</p>\n<pre><code>2023-01-12T16:43:03.846+01:00 ERROR 3625 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@63648ee9] to prepare test instance [MyClass@b849fa6]\n\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:131) ~[spring-test-6.0.0-M5.jar:6.0.0-M5]\n    &lt;... stacktrace ...&gt;\nCaused by: java.lang.IllegalArgumentException: The 'interface org.springframework.integration.annotation.InboundChannelAdapter' on @Bean method level is allowed only for: org.springframework.integration.core.MessageSource, or java.util.function.Supplier, or kotlin.jvm.functions.Function0 beans\n    &lt;... more stacktrace...&gt;\n</code></pre>\n<p>I can't see the problem here, since the annotation is used together with MessageSource. Can someone help me on this one, please?</p>\n<p>update in reply to the comment from Vitaly Chura:\nin fact, that does not tell me much, unfortunately, but i will give it a try:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: The 'interface org.springframework.integration.annotation.InboundChannelAdapter' on @Bean method level is allowed only for: org.springframework.integration.core.MessageSource, or java.util.function.Supplier, or kotlin.jvm.functions.Function0 beans\nat org.springframework.util.Assert.isTrue(Assert.java:139) ~[spring-core-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.integration.config.annotation.InboundChannelAdapterAnnotationPostProcessor.createMessageSource(InboundChannelAdapterAnnotationPostProcessor.java:100) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\nat org.springframework.integration.config.annotation.InboundChannelAdapterAnnotationPostProcessor.postProcess(InboundChannelAdapterAnnotationPostProcessor.java:72) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\nat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.postProcessMethodAndRegisterEndpointIfAny(MessagingAnnotationPostProcessor.java:231) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\nat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.lambda$processAnnotationTypeOnMethod$4(MessagingAnnotationPostProcessor.java:220) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\nat org.springframework.integration.config.annotation.MessagingAnnotationPostProcessor.afterSingletonsInstantiated(MessagingAnnotationPostProcessor.java:135) ~[spring-integration-core-6.0.0-M4.jar:6.0.0-M4]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:941) ~[spring-beans-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:926) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592) ~[spring-context-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:430) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.0.0-M4.jar:3.0.0-M4]\nat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132) ~[spring-boot-test-3.0.0-M4.jar:3.0.0-M4]\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-6.0.0-M5.jar:6.0.0-M5]\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:123) ~[spring-test-6.0.0-M5.jar:6.0.0-M5]\n... 72 common frames omitted\n</code></pre>\n"},{"tags":["java","android","unit-testing","mocking","mockito"],"comments":[{"owner":{"account_id":1849824,"reputation":2350,"user_id":1676587,"display_name":"Phat H. VU"},"score":1,"creation_date":1418699520,"post_id":27457044,"comment_id":43425249,"body_markdown":"You can also use verify to verify exact number of invocations / at least once / never, or make sure interaction(s) never happened on mock","body":"You can also use verify to verify exact number of invocations / at least once / never, or make sure interaction(s) never happened on mock"}],"answers":[{"tags":[],"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1418460223,"creation_date":1418460223,"answer_id":27457074,"question_id":27457044,"body_markdown":"It asserts that the method was called, and with those arguments.\n\nComment out:\n\n    //mockedList.add(&quot;one&quot;);\n\nOr change its argument and the test will fail.","title":"Mockito - what does verify method do?","body":"<p>It asserts that the method was called, and with those arguments.</p>\n\n<p>Comment out:</p>\n\n<pre><code>//mockedList.add(\"one\");\n</code></pre>\n\n<p>Or change its argument and the test will fail.</p>\n"},{"tags":[],"owner":{"account_id":1496516,"reputation":2066,"user_id":2422278,"accept_rate":86,"display_name":"kinbiko"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1418460243,"creation_date":1418460243,"answer_id":27457077,"question_id":27457044,"body_markdown":"`Mockito.verify(MockedObject).someMethodOnTheObject(someParametersToTheMethod);`\r\nverifies that the methods you called on your mocked object are indeed called. If they weren&#39;t called, or called with the wrong parameters, or called the wrong number of times, they would fail your test.","title":"Mockito - what does verify method do?","body":"<p><code>Mockito.verify(MockedObject).someMethodOnTheObject(someParametersToTheMethod);</code>\nverifies that the methods you called on your mocked object are indeed called. If they weren't called, or called with the wrong parameters, or called the wrong number of times, they would fail your test.</p>\n"},{"tags":[],"owner":{"account_id":10968388,"reputation":34405,"user_id":8059459,"accept_rate":90,"display_name":"Willem van der Veen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674292858,"creation_date":1674292858,"answer_id":75192282,"question_id":27457044,"body_markdown":"\r\nThe verify() method in Mockito is used to check if a method of an object was called. It is used to make sure that the method was called with certain parameters, the number of times it was called, etc.\r\n\r\n    // Example:\r\n    \r\n    // Create a mock object of a class \r\n    MyClass mockClass = Mockito.mock(MyClass.class); \r\n    \r\n    // Call a method on the mock object \r\n    mockClass.doSomething(); \r\n    \r\n    // Verify that the doSomething() method was called \r\n    Mockito.verify(mockClass).doSomething();","title":"Mockito - what does verify method do?","body":"<p>The verify() method in Mockito is used to check if a method of an object was called. It is used to make sure that the method was called with certain parameters, the number of times it was called, etc.</p>\n<pre><code>// Example:\n\n// Create a mock object of a class \nMyClass mockClass = Mockito.mock(MyClass.class); \n\n// Call a method on the mock object \nmockClass.doSomething(); \n\n// Verify that the doSomething() method was called \nMockito.verify(mockClass).doSomething();\n</code></pre>\n"}],"owner":{"account_id":444211,"reputation":61229,"user_id":835883,"accept_rate":81,"display_name":"j2emanue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16868,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":27457077,"answer_count":3,"score":39,"last_activity_date":1674292858,"creation_date":1418459938,"question_id":27457044,"body_markdown":"Let&#39;s say i have the following psuedo like test code: \r\n\r\n     //Let&#39;s import Mockito statically so that the code looks clearer\r\n     import static org.mockito.Mockito.*;\r\n     \r\n     //mock creation\r\n     List mockedList = mock(List.class);\r\n     \r\n     //using mock object\r\n     mockedList.add(&quot;one&quot;);\r\n     mockedList.clear();\r\n     \r\n     //what do these two verify methods do ?\r\n     verify(mockedList).add(&quot;one&quot;);\r\n     verify(mockedList).clear();\r\n\r\n\r\nI keep showing the test passed but i dont know what the verify means ? what is it verifying exactly ? I understand that i mocked a call to add and clear but what does the two verify calls do ?","title":"Mockito - what does verify method do?","body":"<p>Let's say i have the following psuedo like test code: </p>\n\n<pre><code> //Let's import Mockito statically so that the code looks clearer\n import static org.mockito.Mockito.*;\n\n //mock creation\n List mockedList = mock(List.class);\n\n //using mock object\n mockedList.add(\"one\");\n mockedList.clear();\n\n //what do these two verify methods do ?\n verify(mockedList).add(\"one\");\n verify(mockedList).clear();\n</code></pre>\n\n<p>I keep showing the test passed but i dont know what the verify means ? what is it verifying exactly ? I understand that i mocked a call to add and clear but what does the two verify calls do ?</p>\n"},{"tags":["java","spring-boot","spring-mvc","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674293056,"post_id":75192235,"comment_id":132686938,"body_markdown":"[AUTO flush](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#flushing-auto)","body":"<a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#flushing-auto\" rel=\"nofollow noreferrer\">AUTO flush</a>"},{"owner":{"account_id":16348003,"reputation":11,"user_id":11807260,"display_name":"samaz"},"score":0,"creation_date":1674294463,"post_id":75192235,"comment_id":132687130,"body_markdown":"@AndreyB.Panfilov thanks, can u describe it in a simple word please? and is there any way to off this mode? set it to off causes problem?","body":"@AndreyB.Panfilov thanks, can u describe it in a simple word please? and is there any way to off this mode? set it to off causes problem?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674295458,"post_id":75192235,"comment_id":132687269,"body_markdown":"you may disable that either for specific query via query hint: `@QueryHints(value = { @QueryHint(name = org.hibernate.annotations.QueryHints.FLUSH_MODE, value = &quot;COMMIT&quot;) })` or globally via specifying `spring.jpa.properties.org.hibernate.flushMode=COMMIT` in application.properties, however that may drastically change application behaviour, I would suggest to store temporary data in `@Transient` fields","body":"you may disable that either for specific query via query hint: <code>@QueryHints(value = { @QueryHint(name = org.hibernate.annotations.QueryHints.FLUSH_MODE, value = &quot;COMMIT&quot;) })</code> or globally via specifying <code>spring.jpa.properties.org.hibernate.flushMode=COMMIT</code> in application.properties, however that may drastically change application behaviour, I would suggest to store temporary data in <code>@Transient</code> fields"}],"owner":{"account_id":16348003,"reputation":11,"user_id":11807260,"display_name":"samaz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674292223,"creation_date":1674292223,"question_id":75192235,"body_markdown":"I work on a spring boot data jpa web application,\r\nin my controller class (I use thymeleaf for frontend) when i get my attribute field from database, then if the relatedTo filed is null, i valued it a temporary value to handling some things and conditions in thymeleaf:\r\n\r\n`\t Attribute attribute=attributeService.getAttributeById(attrId);\r\n         if(attribute.getRelatedTo()==null)\r\n            attribute.setRelatedTo(new Attribute(-1));\r\n\t`\r\n\r\nbut this line  &quot;attribute.setRelatedTo(new Attribute(-1));&quot; causes an update operation in database by data jpa while i don&#39;t called update yet! and get this foreign key error because of attribute with id=-1 does not exist.\r\n`Cannot add or update a child row: a foreign key constraint fails (`attribute`, CONSTRAINT `attribute_ibfk_2` FOREIGN KEY (`related_to`) REFERENCES `attribute` (`id`) ON UPDATE CASCADE)\r\n`\r\n\r\nwhy is this happening?\r\nthanks.\r\n\r\n\r\n\r\n\r\ni got this error before in another case and try to change my code to avoid this, but i want to find the reason of this functionality of jpa to handle similar cases in future. ","title":"why spring boot data jpa update database field While the update function is not called","body":"<p>I work on a spring boot data jpa web application,\nin my controller class (I use thymeleaf for frontend) when i get my attribute field from database, then if the relatedTo filed is null, i valued it a temporary value to handling some things and conditions in thymeleaf:</p>\n<p><code>   Attribute attribute=attributeService.getAttributeById(attrId); if(attribute.getRelatedTo()==null) attribute.setRelatedTo(new Attribute(-1));</code></p>\n<p>but this line  &quot;attribute.setRelatedTo(new Attribute(-1));&quot; causes an update operation in database by data jpa while i don't called update yet! and get this foreign key error because of attribute with id=-1 does not exist.\n<code>Cannot add or update a child row: a foreign key constraint fails (</code>attribute<code>, CONSTRAINT </code>attribute_ibfk_2<code> FOREIGN KEY (</code>related_to<code>) REFERENCES </code>attribute<code> (</code>id<code>) ON UPDATE CASCADE) </code></p>\n<p>why is this happening?\nthanks.</p>\n<p>i got this error before in another case and try to change my code to avoid this, but i want to find the reason of this functionality of jpa to handle similar cases in future.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674292067,"creation_date":1674292067,"answer_id":75192219,"question_id":75191384,"body_markdown":"## [`@DynamoDBAutoGeneratedKey`](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBAutoGeneratedKey.html)\r\n\r\n&gt;Annotation for marking a hash key or range key property in a class to auto-generate this key. Only String typed keys can be auto generated, and are given a random UUID. The annotation can be applied to either the getter method or the class field for the auto-generated key property. If the annotation is applied directly to the class field, the corresponding getter and setter must be declared in the same class. This annotation can be applied to both primary and index keys.","title":"Hash key in DynamoDB","body":"<h2><a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBAutoGeneratedKey.html\" rel=\"nofollow noreferrer\"><code>@DynamoDBAutoGeneratedKey</code></a></h2>\n<blockquote>\n<p>Annotation for marking a hash key or range key property in a class to auto-generate this key. Only String typed keys can be auto generated, and are given a random UUID. The annotation can be applied to either the getter method or the class field for the auto-generated key property. If the annotation is applied directly to the class field, the corresponding getter and setter must be declared in the same class. This annotation can be applied to both primary and index keys.</p>\n</blockquote>\n"}],"owner":{"account_id":25974568,"reputation":56,"user_id":19689190,"display_name":"Amar kumar Nayak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674333421,"answer_count":1,"score":0,"last_activity_date":1674292111,"creation_date":1674279981,"question_id":75191384,"body_markdown":"    @DynamoDBTable(tableName = &quot;student_table&quot;)\r\n    public class Stduent {\r\n\t\r\n\t@DynamoDBAutoGeneratedKey\r\n\t@DynamoDBHashKey\r\n    private int id;\r\n\r\nI am not understanding what is the use of the below code?\r\n\t\r\n\t@DynamoDBAutoGeneratedKey\r\n\t@DynamoDBHashKey\r\n    private int id;","title":"Hash key in DynamoDB","body":"<pre><code>@DynamoDBTable(tableName = &quot;student_table&quot;)\npublic class Stduent {\n\n@DynamoDBAutoGeneratedKey\n@DynamoDBHashKey\nprivate int id;\n</code></pre>\n<p>I am not understanding what is the use of the below code?</p>\n<pre><code>@DynamoDBAutoGeneratedKey\n@DynamoDBHashKey\nprivate int id;\n</code></pre>\n"},{"tags":["java","spring-boot","flyway"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1674006469,"post_id":75153891,"comment_id":132621679,"body_markdown":"that is exactly what `Flyway` is supposed to do.","body":"that is exactly what <code>Flyway</code> is supposed to do."},{"owner":{"account_id":22634404,"reputation":1,"user_id":16811417,"display_name":"Nob"},"score":0,"creation_date":1674010973,"post_id":75153891,"comment_id":132622196,"body_markdown":"@Andrey B. Panfilov which page should I look at in Flyway document in order to refer to what I want to know?","body":"@Andrey B. Panfilov which page should I look at in Flyway document in order to refer to what I want to know?"}],"owner":{"account_id":22634404,"reputation":1,"user_id":16811417,"display_name":"Nob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674291452,"creation_date":1674005622,"question_id":75153891,"body_markdown":" have a question about the data initialization of newly added columns on some tables in the case of the SpringBoot app\r\n\r\nour team would like to add a new column to the existing table\r\n\r\n&amp; after we ran the table schema migration,\r\nall the data in the newly added column are NULL\r\n\r\nthen, we&#39;d like to set data, referencing another column,\r\nthat means I wonder if there is some way to run SQL update statements at the SpringBooot app&#39;s start-up like table schema can be updated at the same timing with Flyway\r\n\r\nis it possible? &amp; if so, can anyone introduce some article about this into me?\r\n\r\nWhat did you try: I&#39;M not a member of implementation, so I&#39;M in the middle of research\r\n\r\n\r\nwhat were you expecting?: data of newly added column can be set at app&#39;s startup","title":"how to initialize data of newly added column at app startup? ~ Java, SpringBoot, DB","body":"<p>have a question about the data initialization of newly added columns on some tables in the case of the SpringBoot app</p>\n<p>our team would like to add a new column to the existing table</p>\n<p>&amp; after we ran the table schema migration,\nall the data in the newly added column are NULL</p>\n<p>then, we'd like to set data, referencing another column,\nthat means I wonder if there is some way to run SQL update statements at the SpringBooot app's start-up like table schema can be updated at the same timing with Flyway</p>\n<p>is it possible? &amp; if so, can anyone introduce some article about this into me?</p>\n<p>What did you try: I'M not a member of implementation, so I'M in the middle of research</p>\n<p>what were you expecting?: data of newly added column can be set at app's startup</p>\n"},{"tags":["java","spring","completable-future"],"comments":[{"owner":{"account_id":5407075,"reputation":1114,"user_id":4305223,"display_name":"Jiwon"},"score":0,"creation_date":1674291417,"post_id":75192018,"comment_id":132686774,"body_markdown":"@user16320675 Thank you for the comment. I used `whenCompleteAsync()` instead of `get()`, and added the code snippet related to this.","body":"@user16320675 Thank you for the comment. I used <code>whenCompleteAsync()</code> instead of <code>get()</code>, and added the code snippet related to this."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1674317687,"post_id":75192018,"comment_id":132690975,"body_markdown":"I tried your code and got a `CompletionException`. Please provide a [mre]. For it to be minimal, you should probably remove the Spring/`DeferredResult` part as they donât seem to be related to the problem.","body":"I tried your code and got a <code>CompletionException</code>. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. For it to be minimal, you should probably remove the Spring/<code>DeferredResult</code> part as they donât seem to be related to the problem."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1674460553,"post_id":75192018,"comment_id":132710504,"body_markdown":"As a side note, itâs very confusing to name a parameter `executor` when it is actually a `Throwable`.","body":"As a side note, itâs very confusing to name a parameter <code>executor</code> when it is actually a <code>Throwable</code>."}],"owner":{"account_id":5407075,"reputation":1114,"user_id":4305223,"display_name":"Jiwon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674291205,"creation_date":1674289718,"question_id":75192018,"body_markdown":"Below is exception handling java code using CompletableFuture.  \r\nI intentionally raise `InvalidParameterException` in the subthread.    \r\n```\r\n    public CompletableFuture&lt;Object&gt; myCompletableFuture() throws CompletionException {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n            try {\r\n                    // While doing some tasks...\r\n                    // InvalidParameterException arises in here...\r\n                    // ...\r\n                });\r\n            } catch (Exception e){ \r\n                throw new CompletionException(e); \r\n            }\r\n        });\r\n    }\r\n```\r\n(Edited) And above Future is activated by calling `whenCompleteAsync`. \r\n```\r\nDeferredResult&lt;Object&gt; myFunc() throws CompletionException {\r\n      DeferredResult&lt;Object&gt; deferredResult = new DeferredResult&lt;&gt;();\r\n      myCompletableFuture().whenCompleteAsync((result, executor) -&gt; {\r\n         if (executor != null) {\r\n            deferredResult.setErrorResult(executor);\r\n         } else {\r\n            deferredResult.setResult(result);\r\n         }\r\n      });\r\n      return deferredResult;\r\n}\r\n```\r\n***What I&#39;v expected:***  \r\n`java.util.concurrent.CompletionException: InvalidParameterException(param:myparam)`\r\n\r\n***Actual:***  \r\n`java.util.concurrent.ExecutionException: InvalidParameterException(param:myparam)`\r\n\r\n***Question:***   \r\nWhy exception wraps `ExecutionException` instead of `CompletionException`?","title":"I threw CompletionException, but ExecutionException arises. Why?","body":"<p>Below is exception handling java code using CompletableFuture.<br />\nI intentionally raise <code>InvalidParameterException</code> in the subthread.</p>\n<pre><code>    public CompletableFuture&lt;Object&gt; myCompletableFuture() throws CompletionException {\n        return CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                    // While doing some tasks...\n                    // InvalidParameterException arises in here...\n                    // ...\n                });\n            } catch (Exception e){ \n                throw new CompletionException(e); \n            }\n        });\n    }\n</code></pre>\n<p>(Edited) And above Future is activated by calling <code>whenCompleteAsync</code>.</p>\n<pre><code>DeferredResult&lt;Object&gt; myFunc() throws CompletionException {\n      DeferredResult&lt;Object&gt; deferredResult = new DeferredResult&lt;&gt;();\n      myCompletableFuture().whenCompleteAsync((result, executor) -&gt; {\n         if (executor != null) {\n            deferredResult.setErrorResult(executor);\n         } else {\n            deferredResult.setResult(result);\n         }\n      });\n      return deferredResult;\n}\n</code></pre>\n<p><em><strong>What I'v expected:</strong></em><br />\n<code>java.util.concurrent.CompletionException: InvalidParameterException(param:myparam)</code></p>\n<p><em><strong>Actual:</strong></em><br />\n<code>java.util.concurrent.ExecutionException: InvalidParameterException(param:myparam)</code></p>\n<p><em><strong>Question:</strong></em><br />\nWhy exception wraps <code>ExecutionException</code> instead of <code>CompletionException</code>?</p>\n"},{"tags":["java","xml","maven","pom.xml","parent-pom"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1674217381,"post_id":75183727,"comment_id":132672204,"body_markdown":"`C:\\Progetti\\Proj\\sviluppo\\proj\\pom.xml` , where  is your `${appVersion}`","body":"<code>C:\\Progetti\\Proj\\sviluppo\\proj\\pom.xml</code> , where  is your <code>${appVersion}</code>"},{"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"score":0,"creation_date":1674217689,"post_id":75183727,"comment_id":132672298,"body_markdown":"@life888888 thanks for the comment, it stored in properties in that pom.cml &lt;appVersion&gt;0.0.40-SNAPSHOT&lt;/appVersion&gt;","body":"@life888888 thanks for the comment, it stored in properties in that pom.cml &lt;appVersion&gt;0.0.40-SNAPSHOT&lt;/appVersion&gt;"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1674218002,"post_id":75183727,"comment_id":132672399,"body_markdown":"Will your `test` profile be enabled forever? Because your property `current.jbossWeb` is defined in the test profile block, that is, **if the test profile is not enabled**, there should be no `current.jbossWeb` property set.","body":"Will your <code>test</code> profile be enabled forever? Because your property <code>current.jbossWeb</code> is defined in the test profile block, that is, <b>if the test profile is not enabled</b>, there should be no <code>current.jbossWeb</code> property set."},{"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"score":0,"creation_date":1674218606,"post_id":75183727,"comment_id":132672584,"body_markdown":"Hi, yes each profile has setted the property with value to securityOff or securityOn and I was trying with the test profile","body":"Hi, yes each profile has setted the property with value to securityOff or securityOn and I was trying with the test profile"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1674220941,"post_id":75183727,"comment_id":132673226,"body_markdown":"Simply answer to this: `&lt;version&gt;${appVersion}&lt;/version&gt;` that does not work. There is only one way to reach something alike via https://maven.apache.org/maven-ci-friendly.html (But most recent version really recommended.)","body":"Simply answer to this: <code>&lt;version&gt;${appVersion}&lt;&#47;version&gt;</code> that does not work. There is only one way to reach something alike via <a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"nofollow noreferrer\">maven.apache.org/maven-ci-friendly.html</a> (But most recent version really recommended.)"}],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674290361,"creation_date":1674215997,"question_id":75183727,"body_markdown":"I have 3 pom.xml,\r\nIn one pom I have the profiles for test/prod.., depending on which one is active there are 2 folder it could be choose, the problem is when I update maven I get this error:\r\n\r\n         on project projWeb: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:3.2.2:war fai\r\n    led: basedir C:\\Progetti\\Proj\\sviluppo\\archicon\\projWeb\\src\\main\\webapp\\WEB-INF\\jbossWeb\\${current.jbossWeb} does not exist -\r\n\r\nin the parent pom I have this: `C:\\Progetti\\Proj\\sviluppo\\proj\\pom.xml`\r\n\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;it.sisal&lt;/groupId&gt;\r\n    &lt;artifactId&gt;proj&lt;/artifactId&gt;\r\n    &lt;version&gt;${appVersion}&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;name&gt;Proj&lt;/name&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;projWeb&lt;/module&gt;\r\n        &lt;module&gt;projEAR&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n    ....\r\n    &lt;profile&gt;\r\n                &lt;id&gt;test&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n                &lt;/activation&gt;\r\n                &lt;properties&gt;\r\n                    &lt;environment.profile&gt;test&lt;/environment.profile&gt;\r\n                    &lt;current.jbossWeb&gt;securityOff&lt;/current.jbossWeb&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n\r\nIn my child pom.xml: `C:\\Progetti\\Proj\\sviluppo\\proj\\projWeb\\pom.xml`\r\n \r\n\r\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;it.sisal&lt;/groupId&gt;\r\n        &lt;artifactId&gt;projWeb&lt;/artifactId&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;version&gt;0.0.40-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;Proj Web&lt;/name&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;proj&lt;/artifactId&gt;\r\n            &lt;groupId&gt;it.sisal&lt;/groupId&gt;\r\n            &lt;version&gt;${appVersion}&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n     &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;!-- \t\t\t\t\t&lt;warSourceDirectory&gt;${project.basedir}/WebContent&lt;/warSourceDirectory&gt; --&gt;\r\n                        &lt;webXml&gt;${current.webXml}&lt;/webXml&gt;\r\n                        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                        &lt;!-- \t\t\t\t\t&lt;warSourceExcludes&gt;css/&lt;/warSourceExcludes&gt; --&gt;\r\n                        &lt;webResources&gt;\r\n                            &lt;resource&gt;\r\n                                &lt;directory&gt;${jbossWeb.folder}/${current.jbossWeb}&lt;/directory&gt;\r\n                                &lt;targetPath&gt;WEB-INF&lt;/targetPath&gt;\r\n                            &lt;/resource&gt;\r\n                        &lt;/webResources&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\nEven in Intellij I can see: [![enter image description here][1]][1]\r\n\r\nCan Somebody could explain me why Can&#39;t I get the property and how could I solve it, please.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N722X.png","title":"Maven errors to get a property from another pom","body":"<p>I have 3 pom.xml,\nIn one pom I have the profiles for test/prod.., depending on which one is active there are 2 folder it could be choose, the problem is when I update maven I get this error:</p>\n<pre><code>     on project projWeb: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:3.2.2:war fai\nled: basedir C:\\Progetti\\Proj\\sviluppo\\archicon\\projWeb\\src\\main\\webapp\\WEB-INF\\jbossWeb\\${current.jbossWeb} does not exist -\n</code></pre>\n<p>in the parent pom I have this: <code>C:\\Progetti\\Proj\\sviluppo\\proj\\pom.xml</code></p>\n<pre><code>  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;it.sisal&lt;/groupId&gt;\n&lt;artifactId&gt;proj&lt;/artifactId&gt;\n&lt;version&gt;${appVersion}&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;name&gt;Proj&lt;/name&gt;\n&lt;modules&gt;\n    &lt;module&gt;projWeb&lt;/module&gt;\n    &lt;module&gt;projEAR&lt;/module&gt;\n&lt;/modules&gt;\n....\n&lt;profile&gt;\n            &lt;id&gt;test&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;environment.profile&gt;test&lt;/environment.profile&gt;\n                &lt;current.jbossWeb&gt;securityOff&lt;/current.jbossWeb&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n</code></pre>\n<p>In my child pom.xml: <code>C:\\Progetti\\Proj\\sviluppo\\proj\\projWeb\\pom.xml</code></p>\n<pre><code> &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;it.sisal&lt;/groupId&gt;\n    &lt;artifactId&gt;projWeb&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.40-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Proj Web&lt;/name&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;proj&lt;/artifactId&gt;\n        &lt;groupId&gt;it.sisal&lt;/groupId&gt;\n        &lt;version&gt;${appVersion}&lt;/version&gt;\n    &lt;/parent&gt;\n &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!--                    &lt;warSourceDirectory&gt;${project.basedir}/WebContent&lt;/warSourceDirectory&gt; --&gt;\n                    &lt;webXml&gt;${current.webXml}&lt;/webXml&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                    &lt;!--                    &lt;warSourceExcludes&gt;css/&lt;/warSourceExcludes&gt; --&gt;\n                    &lt;webResources&gt;\n                        &lt;resource&gt;\n                            &lt;directory&gt;${jbossWeb.folder}/${current.jbossWeb}&lt;/directory&gt;\n                            &lt;targetPath&gt;WEB-INF&lt;/targetPath&gt;\n                        &lt;/resource&gt;\n                    &lt;/webResources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Even in Intellij I can see: <a href=\"https://i.stack.imgur.com/N722X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N722X.png\" alt=\"enter image description here\" /></a></p>\n<p>Can Somebody could explain me why Can't I get the property and how could I solve it, please.</p>\n"},{"tags":["java","performance","while-loop","try-catch"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1674286787,"post_id":75191788,"comment_id":132686343,"body_markdown":"Where do you set `x` to something else than `1`? That would be the only cause to break the `do` ... `while(x == 1)` loop.","body":"Where do you set <code>x</code> to something else than <code>1</code>? That would be the only cause to break the <code>do</code> ... <code>while(x == 1)</code> loop."}],"answers":[{"tags":[],"owner":{"account_id":18121848,"reputation":121,"user_id":20852825,"display_name":"shanmukha vangaru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674289828,"creation_date":1674289828,"answer_id":75192029,"question_id":75191788,"body_markdown":"The do loop executes as long as the value of x is 1. Which in your case is not changed even when the desired result is achieved.\r\n\r\nMay be try updating the value of x to some other value except 1 in valid scenario as well.","title":"Why I am not getting out of loop? Even My input is correct","body":"<p>The do loop executes as long as the value of x is 1. Which in your case is not changed even when the desired result is achieved.</p>\n<p>May be try updating the value of x to some other value except 1 in valid scenario as well.</p>\n"}],"owner":{"account_id":26150316,"reputation":1,"user_id":19838382,"display_name":"Mohd Zeeshan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674289828,"creation_date":1674286253,"question_id":75191788,"body_markdown":"public void getLogin()throws IOException{\r\n\t\tint x=1;\r\n\t\t\r\n\t\tdo {\r\n\t\t\ttry {\r\n\t\t\t\tdata.put(961668\t, 2255);\r\n\t\t\t\tdata.put(961768\t, 2253);\r\n\t\t\t\tdata.put(961568\t, 2353);\r\n\r\n\t\t\t\tSystem.out.println(&quot;----------Welcome to the ATM Machine Project----------&quot;);\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Enter your Account number: &quot;);\r\n\t\t\t\tsetAccountNumber(menuOutput.nextInt());\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Enter your correct PIN number: &quot;);\r\n\t\t\t\tsetPinNumber(menuOutput.nextInt());\r\n\t\t\t\r\n\t\t\t}catch (Exception e) {\r\n\t\t\t\tSystem.out.println(&quot;\\n&quot;+&quot;You have Enter Incorrect value !! you have to enter only numbers: &quot;+&quot;\\n&quot;);\r\n\t\t\t\tx=2;\r\n\t\t\t}\r\n\t\t\tfor(Entry&lt;Integer, Integer&gt; entry : data.entrySet()) {\r\n\t\t\t\tif(entry.getKey()== getAccountNumber() &amp;&amp; entry.getValue()== getPinNumber()) {\r\n\t\t\t\t\tgetAccountType();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;\\n&quot;+&quot;Wrong Account or Pin Number &quot;+&quot;\\n&quot;);\r\n\t\t}while(x == 1);\r\n\t}\r\n\r\nIs there any reason, performance or otherwise, to prefer one over the other?\r\nWhere am I doing Mistake?  I check every thing.","title":"Why I am not getting out of loop? Even My input is correct","body":"<p>public void getLogin()throws IOException{\nint x=1;</p>\n<pre><code>    do {\n        try {\n            data.put(961668 , 2255);\n            data.put(961768 , 2253);\n            data.put(961568 , 2353);\n\n            System.out.println(&quot;----------Welcome to the ATM Machine Project----------&quot;);\n            \n            System.out.println(&quot;Enter your Account number: &quot;);\n            setAccountNumber(menuOutput.nextInt());\n            \n            System.out.println(&quot;Enter your correct PIN number: &quot;);\n            setPinNumber(menuOutput.nextInt());\n        \n        }catch (Exception e) {\n            System.out.println(&quot;\\n&quot;+&quot;You have Enter Incorrect value !! you have to enter only numbers: &quot;+&quot;\\n&quot;);\n            x=2;\n        }\n        for(Entry&lt;Integer, Integer&gt; entry : data.entrySet()) {\n            if(entry.getKey()== getAccountNumber() &amp;&amp; entry.getValue()== getPinNumber()) {\n                getAccountType();\n            }\n        }\n        System.out.println(&quot;\\n&quot;+&quot;Wrong Account or Pin Number &quot;+&quot;\\n&quot;);\n    }while(x == 1);\n}\n</code></pre>\n<p>Is there any reason, performance or otherwise, to prefer one over the other?\nWhere am I doing Mistake?  I check every thing.</p>\n"},{"tags":["java","android"],"owner":{"account_id":15465752,"reputation":111,"user_id":11157146,"display_name":"Dennis Manicani Jr."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674289658,"creation_date":1674289658,"question_id":75192012,"body_markdown":"Is it possible to use INTENT.ACTION_SEND to send files through bluetooth devices using serial bluetooth (e.g. HC-05)? It can search for Android devices but can&#39;t see HC-05 in the list. I can only see HC-05 when searching for bluetooth devices in the settings. \r\n\r\n\r\nI currently use this code to send files using ACTION_SEND\r\n\r\n    /**\r\n     * Sends the file using Android&#39;s Bluetooth FTP.\r\n     */\r\n    private void shareFileUsingIntent(String path) {\r\n        File fileToBeSent = new File(path);\r\n        String mimeType = getMimeType(Uri.fromFile(fileToBeSent));\r\n        Uri uri = FileProvider.getUriForFile(\r\n                BluetoothSend.this,\r\n                getApplicationContext().getPackageName() + &quot;.fileprovider&quot;,\r\n                fileToBeSent\r\n        );\r\n        Intent sendIntent = new Intent();\r\n        sendIntent.setAction(Intent.ACTION_SEND);\r\n        sendIntent.setPackage(&quot;com.android.bluetooth&quot;);\r\n        sendIntent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n        sendIntent.putExtra(Intent.EXTRA_STREAM, uri);\r\n        sendIntent.setType(mimeType);\r\n        startActivity(Intent.createChooser(sendIntent, &quot;Share file&quot;));\r\n    }\r\n","title":"Using INTENT ACTION_SEND to send files to serial Bluetooth device (HC-05)","body":"<p>Is it possible to use INTENT.ACTION_SEND to send files through bluetooth devices using serial bluetooth (e.g. HC-05)? It can search for Android devices but can't see HC-05 in the list. I can only see HC-05 when searching for bluetooth devices in the settings.</p>\n<p>I currently use this code to send files using ACTION_SEND</p>\n<pre><code>/**\n * Sends the file using Android's Bluetooth FTP.\n */\nprivate void shareFileUsingIntent(String path) {\n    File fileToBeSent = new File(path);\n    String mimeType = getMimeType(Uri.fromFile(fileToBeSent));\n    Uri uri = FileProvider.getUriForFile(\n            BluetoothSend.this,\n            getApplicationContext().getPackageName() + &quot;.fileprovider&quot;,\n            fileToBeSent\n    );\n    Intent sendIntent = new Intent();\n    sendIntent.setAction(Intent.ACTION_SEND);\n    sendIntent.setPackage(&quot;com.android.bluetooth&quot;);\n    sendIntent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    sendIntent.putExtra(Intent.EXTRA_STREAM, uri);\n    sendIntent.setType(mimeType);\n    startActivity(Intent.createChooser(sendIntent, &quot;Share file&quot;));\n}\n</code></pre>\n"},{"tags":["java","database","postgresql","jms","publishing"],"answers":[{"tags":[],"owner":{"account_id":57484,"reputation":66727,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1258746875,"creation_date":1258732722,"answer_id":1771431,"question_id":1771350,"body_markdown":"**EDIT:** I&#39;ve been informed that PostgreSQL *does* support stored procedures in Java. That means the following approach becomes feasible:\r\n\r\nEssentially, the way I would go is to put a trigger on whatever it is you want to watch, and then call a stored procedure from that. The stored procedure then needs to communicate with the world outside the DB server; I once did an SP like this in Java that opened up a socket connection to a process on the same server listening on a port. If worst came to worst, you could maybe write a file and have something like imon monitoring that file, or you could start up a program in an exec() shell of its own... something like that.","title":"PostgreSQL and JMS (Or other Pub-Sub/Callback Mechanism)","body":"<p><strong>EDIT:</strong> I've been informed that PostgreSQL <em>does</em> support stored procedures in Java. That means the following approach becomes feasible:</p>\n\n<p>Essentially, the way I would go is to put a trigger on whatever it is you want to watch, and then call a stored procedure from that. The stored procedure then needs to communicate with the world outside the DB server; I once did an SP like this in Java that opened up a socket connection to a process on the same server listening on a port. If worst came to worst, you could maybe write a file and have something like imon monitoring that file, or you could start up a program in an exec() shell of its own... something like that.</p>\n"},{"tags":[],"owner":{"display_name":"user80168"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1258733828,"creation_date":1258733828,"answer_id":1771571,"question_id":1771350,"body_markdown":"the simplest approach is to use [LISTEN][1]/[NOTIFY][2] interface, write your own program that connects to database, issues some LISTENs, and does whatever you want when it gets notification - for example sens information over JMS, or simply does what should be done, without adding additional transportation layer.\r\n\r\n [1]: http://www.postgresql.org/docs/current/interactive/sql-listen.html\r\n [2]: http://www.postgresql.org/docs/current/interactive/sql-notify.html","title":"PostgreSQL and JMS (Or other Pub-Sub/Callback Mechanism)","body":"<p>the simplest approach is to use <a href=\"http://www.postgresql.org/docs/current/interactive/sql-listen.html\" rel=\"nofollow noreferrer\">LISTEN</a>/<a href=\"http://www.postgresql.org/docs/current/interactive/sql-notify.html\" rel=\"nofollow noreferrer\">NOTIFY</a> interface, write your own program that connects to database, issues some LISTENs, and does whatever you want when it gets notification - for example sens information over JMS, or simply does what should be done, without adding additional transportation layer.</p>\n"},{"tags":[],"owner":{"account_id":76118,"reputation":1539,"user_id":218139,"display_name":"Stefan L"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1259189268,"creation_date":1259189268,"answer_id":1800475,"question_id":1771350,"body_markdown":"If LISTEN/NOTIFY isn&#39;t accessible via JDBC, perhaps you could implement a long-polling HTTP  comet-like mechanism via the [LOCK][1] statement, or plain &quot;SELECT ... FOR UPDATE&quot; and &quot;SELECT ... FOR SHARE&quot; or other similar queries from within a transaction that&#39;d cause other transactions to block.\r\n\r\nThe message-writing party could e.g. start a transaction, perform &quot;SELECT ... FOR UPDATE&quot;, wait (java code) until either something changes, or a timer expires (say after 30 seconds or so), update the locked row to indicate if data (elsewhere?) is available and commit the transaction to unblock others. Then repeat with a new transaction with &quot;SELECT ... FOR UPDATE&quot; immediately.\r\n\r\nThe message-reading party would perform a &quot;SELECT ... FOR SHARE&quot; which would block while a &quot;SELECT ... FOR UPDATE&quot; initiated elsewhere is active. It&#39;d return an indication of message availability or the message data itself when the message-writing party&#39;s transaction ends.\r\n\r\nHopefully PostgreSQL queues the parties fairly, so that there&#39;s no risk of live-lock continuously blocking the message-reading party.\r\n\r\n\r\n  [1]: http://www.postgresql.org/docs/current/interactive/sql-lock.html","title":"PostgreSQL and JMS (Or other Pub-Sub/Callback Mechanism)","body":"<p>If LISTEN/NOTIFY isn't accessible via JDBC, perhaps you could implement a long-polling HTTP  comet-like mechanism via the <a href=\"http://www.postgresql.org/docs/current/interactive/sql-lock.html\" rel=\"nofollow noreferrer\">LOCK</a> statement, or plain \"SELECT ... FOR UPDATE\" and \"SELECT ... FOR SHARE\" or other similar queries from within a transaction that'd cause other transactions to block.</p>\n\n<p>The message-writing party could e.g. start a transaction, perform \"SELECT ... FOR UPDATE\", wait (java code) until either something changes, or a timer expires (say after 30 seconds or so), update the locked row to indicate if data (elsewhere?) is available and commit the transaction to unblock others. Then repeat with a new transaction with \"SELECT ... FOR UPDATE\" immediately.</p>\n\n<p>The message-reading party would perform a \"SELECT ... FOR SHARE\" which would block while a \"SELECT ... FOR UPDATE\" initiated elsewhere is active. It'd return an indication of message availability or the message data itself when the message-writing party's transaction ends.</p>\n\n<p>Hopefully PostgreSQL queues the parties fairly, so that there's no risk of live-lock continuously blocking the message-reading party.</p>\n"},{"tags":[],"owner":{"account_id":178224,"reputation":91,"user_id":410052,"display_name":"Laazik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1259190533,"creation_date":1259190533,"answer_id":1800574,"question_id":1771350,"body_markdown":"I would install [PL/Java][1] to Postgres and write a stored procedure based trigger for the the data you are interested in, which then calls JMS when being called. PL/Java documentation covers the trigger + stored procedure part pretty nicely btw.\r\n\r\nI haven&#39;t used the JMS from the trigger code, but I&#39;m pretty certain that there are no reasons why it wouldn&#39;t be doable, as this is standard Java code and my quick recheck on the documentation also didn&#39;t indicate anything suspicious.\r\n\r\nAnother possibility would be to call the JMS through a proxy service using either, perl, python or any other language that is available for postgres stored procedure development. Just as the JMS doesn&#39;t have a standard wire protocol you have to write a proxy service which does the translation.\r\n\r\n\r\n  [1]: http://pgfoundry.org/projects/pljava/?downloads","title":"PostgreSQL and JMS (Or other Pub-Sub/Callback Mechanism)","body":"<p>I would install <a href=\"http://pgfoundry.org/projects/pljava/?downloads\" rel=\"nofollow noreferrer\">PL/Java</a> to Postgres and write a stored procedure based trigger for the the data you are interested in, which then calls JMS when being called. PL/Java documentation covers the trigger + stored procedure part pretty nicely btw.</p>\n\n<p>I haven't used the JMS from the trigger code, but I'm pretty certain that there are no reasons why it wouldn't be doable, as this is standard Java code and my quick recheck on the documentation also didn't indicate anything suspicious.</p>\n\n<p>Another possibility would be to call the JMS through a proxy service using either, perl, python or any other language that is available for postgres stored procedure development. Just as the JMS doesn't have a standard wire protocol you have to write a proxy service which does the translation.</p>\n"},{"tags":[],"owner":{"account_id":71085,"reputation":105190,"user_id":205608,"accept_rate":69,"display_name":"O. Jones"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1259363960,"creation_date":1259363960,"answer_id":1810968,"question_id":1771350,"body_markdown":"You can certainly create a Java-language stored procedure and put it into PostgreSQL. But why not keep it simple and debuggable until you know you have your messaging scheme working perfectly?  If I were doing this  (I am actually doing something similar) here&#39;s what I&#39;d do.\r\n\r\n(1) create an &quot;outbound message&quot; table with columns for the payload and other info for your JMS messages. I&#39;d put a timestamp column in each row.\r\n\r\n(2) write a database trigger for each item that you want to generate a message.  Have the trigger INSERT a row into your &quot;outbound message&quot; table.\r\n\r\n(3) unit test (1) and (2) by looking at the contents of your outbound message table as you change stuff in your database that should generate messages.\r\n\r\n(4) write yourself a simple but high-performance Java JDBC client program that will query this outbound message table, send a JMS message for each row, and then DELETE it.  Order the rows in your query by timestamp to preserve your message order.  To get it to be high performance you&#39;ll need to do a good job with PreparedStatement objects and other aspects of heap management.\r\n\r\n(5) Unit test (4) by running it a few times while message-generating changes are happening to your data base.\r\n\r\n(6) set up this program to repeat operation (6) several times a minute, while using a single persistent JDBC connection.  Queries to a small or empty table aren&#39;t very expensive, so this won&#39;t smack down your table server. \r\n\r\n(7) system test this whole setup.\r\n\r\n(8) figure out how to start your Java program from your crontab or your startup script.\r\n\r\nWhen you get all this working you&#39;ll have a functioning messaging / notification system ready for systems integration.  More importantly, you&#39;ll know exactly what you want your Java message-originating software to do.  Once you&#39;re up and running, if the latency of your messages or the database overhead proves to be a big problem, then you can migrate your Java program into a stored procedure.\r\n\r\nNote also that there are message-origination bindings for PERL and other languages built into the Apache ActiveMQ package, so you have some choices about how you implement your message-originating agent.\r\n\r\nThis approach happens to have two advantages:  you aren&#39;t critically dependent on postgreSQL&#39;s distinctive stored-procedure scheme, and you aren&#39;t putting code with external communications dependencies into your table server.\r\n\r\nGood luck.","title":"PostgreSQL and JMS (Or other Pub-Sub/Callback Mechanism)","body":"<p>You can certainly create a Java-language stored procedure and put it into PostgreSQL. But why not keep it simple and debuggable until you know you have your messaging scheme working perfectly?  If I were doing this  (I am actually doing something similar) here's what I'd do.</p>\n\n<p>(1) create an \"outbound message\" table with columns for the payload and other info for your JMS messages. I'd put a timestamp column in each row.</p>\n\n<p>(2) write a database trigger for each item that you want to generate a message.  Have the trigger INSERT a row into your \"outbound message\" table.</p>\n\n<p>(3) unit test (1) and (2) by looking at the contents of your outbound message table as you change stuff in your database that should generate messages.</p>\n\n<p>(4) write yourself a simple but high-performance Java JDBC client program that will query this outbound message table, send a JMS message for each row, and then DELETE it.  Order the rows in your query by timestamp to preserve your message order.  To get it to be high performance you'll need to do a good job with PreparedStatement objects and other aspects of heap management.</p>\n\n<p>(5) Unit test (4) by running it a few times while message-generating changes are happening to your data base.</p>\n\n<p>(6) set up this program to repeat operation (6) several times a minute, while using a single persistent JDBC connection.  Queries to a small or empty table aren't very expensive, so this won't smack down your table server. </p>\n\n<p>(7) system test this whole setup.</p>\n\n<p>(8) figure out how to start your Java program from your crontab or your startup script.</p>\n\n<p>When you get all this working you'll have a functioning messaging / notification system ready for systems integration.  More importantly, you'll know exactly what you want your Java message-originating software to do.  Once you're up and running, if the latency of your messages or the database overhead proves to be a big problem, then you can migrate your Java program into a stored procedure.</p>\n\n<p>Note also that there are message-origination bindings for PERL and other languages built into the Apache ActiveMQ package, so you have some choices about how you implement your message-originating agent.</p>\n\n<p>This approach happens to have two advantages:  you aren't critically dependent on postgreSQL's distinctive stored-procedure scheme, and you aren't putting code with external communications dependencies into your table server.</p>\n\n<p>Good luck.</p>\n"},{"tags":[],"owner":{"account_id":445017,"reputation":1103,"user_id":837189,"display_name":"scott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674289503,"creation_date":1674260851,"answer_id":75190462,"question_id":1771350,"body_markdown":"Since the original question mentions JMS, consider using Apache ActiveMQ. ActiveMQ can use an SQL database for message persistence and supports Postgres in this way, see:\r\nhttps://activemq.apache.org/jdbc-support\r\n\r\nIf you don&#39;t want to run the ActiveMQ broker as a separate service, it can be run in embedded mode as described here:\r\nhttps://activemq.apache.org/how-do-i-embed-a-broker-inside-a-connection\r\n\r\nThough I&#39;m not sure if there are any limitations when running it embedded","title":"PostgreSQL and JMS (Or other Pub-Sub/Callback Mechanism)","body":"<p>Since the original question mentions JMS, consider using Apache ActiveMQ. ActiveMQ can use an SQL database for message persistence and supports Postgres in this way, see:\n<a href=\"https://activemq.apache.org/jdbc-support\" rel=\"nofollow noreferrer\">https://activemq.apache.org/jdbc-support</a></p>\n<p>If you don't want to run the ActiveMQ broker as a separate service, it can be run in embedded mode as described here:\n<a href=\"https://activemq.apache.org/how-do-i-embed-a-broker-inside-a-connection\" rel=\"nofollow noreferrer\">https://activemq.apache.org/how-do-i-embed-a-broker-inside-a-connection</a></p>\n<p>Though I'm not sure if there are any limitations when running it embedded</p>\n"}],"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5546,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":1771431,"answer_count":6,"score":4,"last_activity_date":1674289503,"creation_date":1258731873,"question_id":1771350,"body_markdown":"I want to have my PostgreSQL server send out notifications when a piece of data changes, preferably over JMS, but also considering any other Pub-Sub mechanism or Callback.\r\n\r\nAny ideas if this is possible?\r\n\r\nAre there any available Java Add-on Packages that replicate this sort of functionality?","title":"PostgreSQL and JMS (Or other Pub-Sub/Callback Mechanism)","body":"<p>I want to have my PostgreSQL server send out notifications when a piece of data changes, preferably over JMS, but also considering any other Pub-Sub mechanism or Callback.</p>\n\n<p>Any ideas if this is possible?</p>\n\n<p>Are there any available Java Add-on Packages that replicate this sort of functionality?</p>\n"},{"tags":["java","c++"],"owner":{"account_id":12489083,"reputation":599,"user_id":9091289,"display_name":"Roboman Robo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674289331,"creation_date":1674289331,"question_id":75191986,"body_markdown":"Making a C++ program and want to receive values from a Java Api using Java method calls.\r\n\r\nI have tried using Java Virtual Machines in C++ but it did not work so far. (New to C++ and Java)\r\n\r\nHow can I set C++ variables with the outputs from Java Methods?\r\n\r\n--\r\n\r\n\r\nPseudo code of Desired Outcome:\r\n\r\n\r\n    //This example getnumber() Java Method returns back the number you give it\r\n    \r\n    \r\n    //C++ variables get the results from the Java getnumber() function\r\n    double Number1 = getnumber(7.00);\r\n    double Number2 = getnumber(9.00);\r\n    \t\r\n\t\r\n\t\r\nCode so far:\r\n\r\n\r\n    #include &quot;C:\\\\Program Files\\\\Java\\\\jdk-19\\\\include\\\\win32\\\\jni_md.h&quot;   \r\n    #include &quot;C:\\\\Program Files\\\\Java\\\\jdk-19\\\\include\\\\jni.h&quot;       \r\n    \r\n    \r\n    JavaVM* vm;\r\n    jsize vmCount;\r\n    if (JNI_GetCreatedJavaVMs(&amp;vm, 1, &amp;vmCount) != JNI_OK || vmCount == 0) {\r\n    \tfprintf(stderr, &quot;Could not get active VM\\n&quot;);\r\n    \treturn NULL;\r\n    }\r\n    \r\n    JNIEnv* env;\r\n    jint result = vm-&gt;GetEnv((void**)&amp;env, JNI_VERSION_1_6);\r\n    if (result == JNI_EDETACHED) {\r\n    \tresult = vm-&gt;AttachCurrentThread((void**)&amp;env, NULL);\r\n    }\r\n    if (result != JNI_OK) {\r\n    \tfprintf(stderr, &quot;Failed to get JNIEnv\\n&quot;);\r\n    \treturn NULL;\r\n    }\r\n    \r\n    jclass cls = env-&gt;FindClass(&quot;JMyService&quot;);\r\n    jmethodID ctor = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n    jobject service = env-&gt;NewObject(cls, ctor);\r\n    \r\n    jmethodID loadMethod = env-&gt;GetMethodID(cls, &quot;loadContactInformation&quot;, &quot;(I)Ljava/lang/String;&quot;);\r\n    jobject serviceResult = env-&gt;CallObjectMethod(service, loadMethod, userId);\r\n    return serviceResult;\r\n\r\n\r\n\r\n","title":"How to Set C++ variables with Java Methods?","body":"<p>Making a C++ program and want to receive values from a Java Api using Java method calls.</p>\n<p>I have tried using Java Virtual Machines in C++ but it did not work so far. (New to C++ and Java)</p>\n<p>How can I set C++ variables with the outputs from Java Methods?</p>\n<p>--</p>\n<p>Pseudo code of Desired Outcome:</p>\n<pre><code>//This example getnumber() Java Method returns back the number you give it\n\n\n//C++ variables get the results from the Java getnumber() function\ndouble Number1 = getnumber(7.00);\ndouble Number2 = getnumber(9.00);\n    \n</code></pre>\n<p>Code so far:</p>\n<pre><code>#include &quot;C:\\\\Program Files\\\\Java\\\\jdk-19\\\\include\\\\win32\\\\jni_md.h&quot;   \n#include &quot;C:\\\\Program Files\\\\Java\\\\jdk-19\\\\include\\\\jni.h&quot;       \n\n\nJavaVM* vm;\njsize vmCount;\nif (JNI_GetCreatedJavaVMs(&amp;vm, 1, &amp;vmCount) != JNI_OK || vmCount == 0) {\n    fprintf(stderr, &quot;Could not get active VM\\n&quot;);\n    return NULL;\n}\n\nJNIEnv* env;\njint result = vm-&gt;GetEnv((void**)&amp;env, JNI_VERSION_1_6);\nif (result == JNI_EDETACHED) {\n    result = vm-&gt;AttachCurrentThread((void**)&amp;env, NULL);\n}\nif (result != JNI_OK) {\n    fprintf(stderr, &quot;Failed to get JNIEnv\\n&quot;);\n    return NULL;\n}\n\njclass cls = env-&gt;FindClass(&quot;JMyService&quot;);\njmethodID ctor = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\njobject service = env-&gt;NewObject(cls, ctor);\n\njmethodID loadMethod = env-&gt;GetMethodID(cls, &quot;loadContactInformation&quot;, &quot;(I)Ljava/lang/String;&quot;);\njobject serviceResult = env-&gt;CallObjectMethod(service, loadMethod, userId);\nreturn serviceResult;\n</code></pre>\n"},{"tags":["java","android","android-intent"],"owner":{"account_id":21224802,"reputation":1804,"user_id":15610685,"display_name":"Deepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674288447,"creation_date":1674288447,"question_id":75191925,"body_markdown":"Before i was using otp at seperate page. Now I updated my UI, Now I am using mobile number and otp at same page.\r\n\r\nHere I am using auto hint mobile number after mobile number select coming otp for auto fill but it is not fiilig automatic.\r\n\r\nIn SecondCase after selecting or entering mobile number then I entering my otp then app is crasing.\r\n\r\nHere I have used Two onActivityResult. I dont know this is best idea or not. if not then two use only one and my functionality too.\r\n\r\nthis is my MainActivity.java code\r\n\r\n```\r\npackage com.toe.playgame;\r\n\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.ActionBar;\r\nimport android.app.Activity;\r\nimport android.app.PendingIntent;\r\nimport android.app.ProgressDialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.IntentFilter;\r\nimport android.content.IntentSender;\r\nimport android.content.SharedPreferences;\r\nimport android.net.ConnectivityManager;\r\nimport android.net.NetworkInfo;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.android.volley.DefaultRetryPolicy;\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.google.android.gms.auth.api.Auth;\r\nimport com.google.android.gms.auth.api.credentials.Credential;\r\nimport com.google.android.gms.auth.api.credentials.HintRequest;\r\nimport com.google.android.gms.auth.api.phone.SmsRetriever;\r\nimport com.google.android.gms.auth.api.phone.SmsRetrieverClient;\r\nimport com.google.android.gms.common.ConnectionResult;\r\nimport com.google.android.gms.common.GoogleApiAvailability;\r\nimport com.google.android.gms.common.api.GoogleApiClient;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.hbb20.CountryCodePicker;\r\nimport com.kochava.tracker.events.Event;\r\nimport com.kochava.tracker.events.EventType;\r\n\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class MainActivity extends AppCompatActivity implements  GoogleApiClient.OnConnectionFailedListener{\r\n\r\n    private EditText MobileNumber;\r\n    public ProgressDialog loadings;\r\n    private CountryCodePicker ccps;\r\n    private GoogleApiClient apiClients;\r\n    private String mobile_numbers;\r\n    public static String portal_names = &quot;false&quot;;\r\n    public static String m_requires = &quot;false&quot;;\r\n    public static String statuss = &quot;false&quot;;\r\n    public static String portal_urls = &quot;false&quot;;\r\n    public static String deviceId;\r\n    public static String cid=&quot;mewochat&quot;;\r\n    public static String portal_paths = &quot;false&quot;;\r\n    public static String portal_descriptions = &quot;&quot;;\r\n    public static String portal_number_limits ;\r\n    public static String portal_total_numbers = &quot;false&quot;;\r\n\r\n    public EditText otpnumbers;\r\n    Button btn_verify;\r\n    String getotp=&quot;&quot;;\r\n    SmsBroadcastReceiver smsBroadcastReceiver;\r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\r\n\r\n    String sentpin =&quot;go&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        ccps = findViewById(R.id.country_code);\r\n        MobileNumber = findViewById(R.id.MobileNumber);\r\n        otpnumbers = findViewById(R.id.otp);\r\n       // otpnumbers.setEnabled(false);\r\n        btn_verify = findViewById(R.id.btn_verify);\r\n       // btn_verify.setEnabled(false);\r\n        Button btn_sendotp = findViewById(R.id.btn_submit);\r\n       // btn_sendotp.setText(getString(R.string.sendotp));\r\n        btn_sendotp.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                generateotp();\r\n            }\r\n        });\r\n\r\n        onloadcountry();\r\n        onchangescountry();\r\n        getHashCode(this);\r\n\r\n        apiClients = new GoogleApiClient.Builder(this)\r\n                .enableAutoManage(this /* FragmentActivity */,\r\n                        this /* OnConnectionFailedListener */)\r\n                .addApi(Auth.CREDENTIALS_API)\r\n                .addApi(Auth.GOOGLE_SIGN_IN_API)\r\n                .build();\r\n\r\n        // OTPActivity Page Start\r\n\r\n\r\n//if(sentpin.equalsIgnoreCase(&quot;go&quot;)) {\r\n    activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n        @Override\r\n        public void onActivityResult(ActivityResult result) {\r\n            Log.d(&quot;raja0&quot;,&quot;raja0&quot;);\r\n            if ((result.getResultCode() == RESULT_OK) &amp;&amp; (result.getData() != null)) {\r\n                Intent data = result.getData();\r\n\r\n                //That gives all message to us.\r\n                // We need to get the code from inside with regex\r\n                String message = data.getStringExtra(SmsRetriever.EXTRA_SMS_MESSAGE);\r\n                Log.d(&quot;raja1&quot;,&quot;raja1&quot;);\r\n\r\n                getOtpFromMessage(message);\r\n            }\r\n        }\r\n    });\r\n\r\n    otpnumbers.addTextChangedListener(new TextWatcher() {\r\n        @Override\r\n        public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n        }\r\n\r\n        @Override\r\n        public void afterTextChanged(Editable editable) {\r\n            //if(editable.toString().length()==4 || editable.toString().length()==6 ) {\r\n            getotp = editable.toString();\r\n\r\n\r\n        }\r\n    });\r\n\r\n\r\n        // OTPActivity Page End\r\n\r\n    }\r\n    // MainACtivity Page Start\r\n    public static String getHashCode(Context context){\r\n        com.toe.playgame.SignatureApp appSignature = new com.toe.playgame.SignatureApp(context);\r\n        Log.e(&quot; getAppSignatures &quot;,&quot;&quot;+appSignature.getAppSignatures());\r\n        return appSignature.getAppSignatures().get(0);\r\n    }\r\n\r\n    public void onloadcountry(){\r\n        String final_url = // my url\r\n        StringRequest stringRequest = new StringRequest(Request.Method.GET, final_url,\r\n                new Response.Listener&lt;String&gt;() {\r\n                    @RequiresApi(api = Build.VERSION_CODES.N)\r\n                    @Override\r\n                    public void onResponse(String response) {\r\n                        Log.d(&quot;OnloadCountryresponse&quot;,response);\r\n                        if (response.isEmpty()) {\r\n//                            terms.setText(&quot;&quot;);\r\n                            Toast.makeText(MainActivity.this, &quot;Our Service is Unavailable in &quot;+ccps.getSelectedCountryName() , Toast.LENGTH_SHORT).show();\r\n\r\n                        }else {\r\n                            autosuggest();\r\n                            String finalValues[] = response.toString().split(&quot;~&quot;);\r\n                            int len = finalValues.length;\r\n                            portal_names = finalValues[0];\r\n                            portal_number_limits = finalValues[1];\r\n                            portal_total_numbers = finalValues[2];\r\n                            portal_paths = finalValues[3];\r\n                            if (len == 5) {\r\n                                portal_descriptions = finalValues[4];\r\n                            } else {\r\n                                portal_descriptions = &quot;&quot;;\r\n                            }\r\n                        }\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                if (NetworkAvailable()) {\r\n                    Toast.makeText(MainActivity.this, &quot;Error fetching values, please retry&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n        RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\r\n\r\n        stringRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n                0,\r\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\r\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n        requestQueue.add(stringRequest);\r\n    }\r\n\r\n    public void onchangescountry(){\r\n        ccps.setOnCountryChangeListener(new CountryCodePicker.OnCountryChangeListener() {\r\n            @Override\r\n            public void onCountrySelected() {\r\n                String final_url = //my url\r\n                Toast.makeText(MainActivity.this, &quot;You have selected &quot; + ccps.getSelectedCountryName(), Toast.LENGTH_SHORT).show();\r\n                StringRequest stringRequest = new StringRequest(Request.Method.GET, final_url,\r\n                        new Response.Listener&lt;String&gt;() {\r\n                            @Override\r\n                            public void onResponse(String response) {\r\n                                Log.d(&quot;Countryresponse&quot;,response);\r\n                                if (response.isEmpty()) {\r\n                                    //  terms.setText(&quot;&quot;);\r\n                                    Toast.makeText(MainActivity.this, &quot;Our Service is Unavailable in &quot; + ccps.getSelectedCountryName(), Toast.LENGTH_SHORT).show();\r\n\r\n                                }else{\r\n                                    String finalValues[] = response.toString().split(&quot;~&quot;);\r\n                                    int len = finalValues.length;\r\n                                    portal_names=finalValues[0];\r\n                                    portal_number_limits= finalValues[1];\r\n                                    portal_total_numbers=finalValues[2];\r\n                                    portal_paths=finalValues[3];\r\n                                    if(len == 5){\r\n                                        portal_descriptions=finalValues[4];\r\n                                    }else{\r\n                                        portal_descriptions=&quot;&quot;;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }, new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        if (NetworkAvailable()) {\r\n                            Toast.makeText(MainActivity.this, &quot;Error fetching values, please retry&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n                RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\r\n                stringRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n                        0,\r\n                        DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\r\n                        DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n\r\n                requestQueue.add(stringRequest);\r\n\r\n            }\r\n        });\r\n    }\r\n    public void autosuggest() {\r\n        if (isGooglePlayServicesAvailable(this)) {\r\n            HintRequest hintRequest = new HintRequest.Builder()\r\n                    .setPhoneNumberIdentifierSupported(true)\r\n                    .build();\r\n\r\n            PendingIntent intent = Auth.CredentialsApi.getHintPickerIntent(\r\n                    apiClients, hintRequest);\r\n            try {\r\n                startIntentSenderForResult(intent.getIntentSender(),\r\n                        599, null, 0, 0, 0);\r\n            } catch (IntentSender.SendIntentException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    public boolean isGooglePlayServicesAvailable(Activity activity) {\r\n        GoogleApiAvailability googleApiAvailability = GoogleApiAvailability.getInstance();\r\n        int status = googleApiAvailability.isGooglePlayServicesAvailable(activity);\r\n        if (status != ConnectionResult.SUCCESS) {\r\n            if (googleApiAvailability.isUserResolvableError(status)) {\r\n                googleApiAvailability.getErrorDialog(activity, status, 2404).show();\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    private boolean NetworkAvailable() {\r\n        ConnectivityManager connectivityManager\r\n                = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\r\n        return activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected();\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data)\r\n    {\r\n        if(sentpin.equalsIgnoreCase(&quot;go&quot;)) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            //MobileNumber.setText(&quot;&quot;);\r\n            int no_limit;\r\n            if (portal_number_limits.isEmpty()) {\r\n                no_limit = 0;\r\n            } else {\r\n                no_limit = Integer.parseInt(portal_number_limits);\r\n            }\r\n            if (resultCode == RESULT_OK) {\r\n                Credential credential = data.getParcelableExtra(Credential.EXTRA_KEY);\r\n                String phone_number = credential.getId();\r\n                phone_number = phone_number.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n                String country_code = ccps.getSelectedCountryCode();\r\n                phone_number = phone_number.replaceFirst(&quot;^&quot; + country_code, &quot;&quot;);\r\n\r\n                phone_number = phone_number.substring(Math.max(phone_number.length() - no_limit, 0));\r\n\r\n                MobileNumber.setText(phone_number);\r\n                mobile_numbers = MobileNumber.getText().toString().trim();\r\n                if (!mobile_numbers.isEmpty()) {\r\n                    generateotp();\r\n                } else {\r\n                    Toast.makeText(this, &quot;Something is wrong Please enter mobile number&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public void generateotp() {\r\n        int nos;\r\n        int total_nos;\r\n        if (portal_number_limits.isEmpty()) {\r\n            nos = 0;\r\n            total_nos = 0;\r\n        } else {\r\n            nos = Integer.parseInt(portal_number_limits);\r\n            total_nos = Integer.parseInt(portal_total_numbers);\r\n        }\r\n        String country_code = ccps.getSelectedCountryCode();//country_codeset.getText().toString().trim();//getCountryDialCode();//ccp.getSelectedCountryCode();\r\n        mobile_numbers = MobileNumber.getText().toString().trim();\r\n        mobile_numbers = mobile_numbers.substring(Math.max(mobile_numbers.length() - nos, 0));\r\n        MobileNumber.setText(mobile_numbers);\r\n\r\n        if (mobile_numbers.isEmpty()) {\r\n            Toast.makeText(this, &quot;Please enter mobile number first&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n        mobile_numbers = country_code + mobile_numbers;\r\n        if (mobile_numbers.length() &lt; total_nos) {\r\n            Toast.makeText(this, &quot;Please enter valid mobile number&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        loadings = ProgressDialog.show(MainActivity.this, &quot;Validating&quot;, &quot;Please wait...&quot;, false, false);\r\n        if (!NetworkAvailable()) {\r\n            loadings.dismiss();\r\n            Toast.makeText(this, &quot;No internet connection, Try again later!&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n        if (mobile_numbers.equalsIgnoreCase(&quot;912345767089&quot;)) {\r\n            loadings.dismiss();\r\n            portal_urls = // portal urls\r\n            m_requires = &quot;N&quot;;\r\n            mobile_numbers = &quot;912345767089&quot;;\r\n            portal_names = &quot;epicon&quot;;\r\n            portal_paths = &quot;mother_app_new&quot;;\r\n            Toast.makeText(this, &quot;OTP SEND&quot;, Toast.LENGTH_SHORT).show();\r\n            registerBroadcastReceiver();\r\n            startSmsUserConsent();\r\n            sentpin =&quot;&quot;;\r\n//            Intent intent = new Intent(MainActivity.this, com.toe.playgame.PortalActivity.class);\r\n\r\n        } else {\r\n            String final_url = // my url\r\n            Log.d(&quot;pinrequest_url&quot;, final_url);\r\n            StringRequest stringRequest = new StringRequest(Request.Method.GET, final_url,\r\n                    new Response.Listener&lt;String&gt;() {\r\n                        @Override\r\n                        public void onResponse(String response) {\r\n                            Log.d(&quot;pinrequest_response&quot;, response);\r\n                            String finalValue[] = response.toString().split(&quot;~&quot;);\r\n\r\n\r\n                            portal_names = finalValue[0];\r\n                            statuss = finalValue[1];\r\n                            portal_urls = finalValue[2];\r\n                            m_requires = finalValue[3];\r\n\r\n\r\n                            loadings.dismiss();\r\n                            if (!response.isEmpty()) {\r\n                                if (statuss.equalsIgnoreCase(&quot;already_active&quot;)) {\r\n                                    Toast.makeText(MainActivity.this, &quot;Already active&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                                    SharedPreferences sps = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\r\n                                    SharedPreferences.Editor editor = sps.edit();\r\n                                    editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\r\n                                    editor.putString(&quot;portal_names&quot;, portal_names);\r\n                                    editor.putString(&quot;portal_urls&quot;, portal_urls);\r\n                                    editor.putString(&quot;m_requires&quot;, m_requires);\r\n\r\n                                    editor.apply();\r\n                                    Intent intent = new Intent(MainActivity.this, com.toe.playgame.PortalActivity.class);\r\n                                    intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\r\n                                    intent.putExtra(&quot;portal_urls&quot;, portal_urls);\r\n                                    intent.putExtra(&quot;m_requires&quot;, m_requires);\r\n                                    intent.putExtra(&quot;portal_names&quot;, portal_names);\r\n\r\n                                    startActivity(intent);\r\n                                    return;\r\n                                } else if (statuss.equalsIgnoreCase(&quot;pin_sent&quot;)) {\r\n\r\n\r\n\r\n\r\n                                } else if (statuss.equalsIgnoreCase(&quot;0&quot;)) {\r\n                                    Toast.makeText(MainActivity.this, &quot;Invalid MSISDN&quot;, Toast.LENGTH_SHORT).show();\r\n                                    return;\r\n                                } else {\r\n                                    Toast.makeText(MainActivity.this, statuss, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            } else {\r\n                                Toast.makeText(MainActivity.this, &quot;An unknown error occurred, please try again!&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    if (NetworkAvailable()) {\r\n                        loadings.dismiss();\r\n                        Toast.makeText(MainActivity.this, &quot;Error fetching values, please retry&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            });\r\n            //Creating a request queue\r\n            RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\r\n            //Setting retry policy - encounter timeout error\r\n            stringRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n                    0,\r\n                    DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\r\n                    DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n            //Adding request to the queue\r\n            requestQueue.add(stringRequest);\r\n            //  }\r\n        }\r\n    }\r\n    @Override\r\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\r\n\r\n    }\r\n    // MainACtivity Page END\r\n\r\n    // OTPActivity Page Start\r\n\r\n    private void verifyOtp() {\r\n        String otps = getotp;\r\n\r\n        if (otps.length() != 4 &amp;&amp; otps.length() != 6) {\r\n            Toast.makeText(this, &quot;Please enter Valid OTP First&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        loadings = ProgressDialog.show(MainActivity.this, &quot;Verifying otp&quot;, &quot;Please wait...&quot;, false, false);\r\n        if (!NetworkAvailable()) {\r\n            loadings.dismiss();\r\n            Toast.makeText(this, &quot;No internet connection, Try again later!&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n        if (otps.equalsIgnoreCase(&quot;2558&quot;) &amp;&amp; mobile_numbers.equalsIgnoreCase(&quot;912345767089&quot;)) {\r\n            loadings.dismiss();\r\n            //Invalid PIN/OTP\r\n            SharedPreferences sps = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = sps.edit();\r\n            editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\r\n            editor.putString(&quot;portal_names&quot;, portal_names);\r\n            editor.putString(&quot;portal_urls&quot;, portal_urls);\r\n            editor.putString(&quot;m_requires&quot;, m_requires);\r\n\r\n            editor.apply();\r\n            Intent intent = new Intent(MainActivity.this, PortalActivity.class);\r\n            intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\r\n            intent.putExtra(&quot;portal_names&quot;, portal_names);\r\n            intent.putExtra(&quot;portal_urls&quot;, portal_urls);\r\n            intent.putExtra(&quot;m_requires&quot;, m_requires);\r\n            startActivity(intent);\r\n            return;\r\n        } else {\r\n            String final_urls = // my url\r\n            Log.d(&quot;pinverify_url&quot;, final_urls);\r\n            StringRequest stringRequest = new StringRequest(Request.Method.GET, final_urls,\r\n                    response -&gt; {\r\n                        Log.d(&quot;pinverify_response&quot;, response);\r\n                        loadings.dismiss();\r\n                        if (!response.isEmpty()) {\r\n                            if (response.equalsIgnoreCase(&quot;Already_Active&quot;)) {\r\n                                //Already active\r\n                                SharedPreferences sp = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\r\n                                SharedPreferences.Editor editor = sp.edit();\r\n                                editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\r\n                                editor.putString(&quot;portal_urls&quot;, portal_urls);\r\n                                editor.putString(&quot;m_requires&quot;, m_requires);\r\n\r\n                                editor.apply();\r\n                                Intent intent = new Intent(MainActivity.this, PortalActivity.class);\r\n                                intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\r\n                                intent.putExtra(&quot;portal_names&quot;, portal_names);\r\n                                intent.putExtra(&quot;portal_urls&quot;, portal_urls);\r\n                                intent.putExtra(&quot;m_requires&quot;, m_requires);\r\n                                startActivity(intent);\r\n                                return;\r\n                            } else if (response.equalsIgnoreCase(&quot;1&quot;)) {\r\n                                //Invalid PIN/OTP\r\n                                unregisterReceiver(smsBroadcastReceiver);\r\n                                Event.buildWithEventType(EventType.PURCHASE)\r\n                                        .setPrice(1)\r\n                                        .setName(&quot;Purchase&quot;)\r\n                                        .setCurrency(&quot;usd&quot;)\r\n                                        .send();\r\n\r\n                                SharedPreferences sps = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\r\n                                SharedPreferences.Editor editor = sps.edit();\r\n                                editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\r\n                                editor.putString(&quot;portal_names&quot;, portal_names);\r\n                                editor.putString(&quot;portal_urls&quot;, portal_urls);\r\n                                editor.putString(&quot;m_requires&quot;, m_requires);\r\n\r\n                                editor.apply();\r\n                                Intent intent = new Intent(MainActivity.this, PortalActivity.class);\r\n                                intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\r\n                                intent.putExtra(&quot;portal_names&quot;, portal_names);\r\n                                intent.putExtra(&quot;portal_urls&quot;, portal_urls);\r\n                                intent.putExtra(&quot;m_requires&quot;, m_requires);\r\n                                startActivity(intent);\r\n                                return;\r\n                            } else if (response.equalsIgnoreCase(&quot;11&quot;)) {\r\n                                SharedPreferences sps = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\r\n                                SharedPreferences.Editor editor = sps.edit();\r\n                                editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\r\n                                editor.putString(&quot;portal_names&quot;, portal_names);\r\n                                editor.putString(&quot;portal_urls&quot;, portal_urls);\r\n                                editor.putString(&quot;m_requires&quot;, m_requires);\r\n                                editor.apply();\r\n                                Intent intent = new Intent(MainActivity.this, PortalActivity.class);\r\n                                intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\r\n                                intent.putExtra(&quot;portal_names&quot;, portal_names);\r\n                                intent.putExtra(&quot;portal_urls&quot;, portal_urls);\r\n                                intent.putExtra(&quot;m_requires&quot;, m_requires);\r\n                                startActivity(intent);\r\n                                return;\r\n                            } else if (response.equalsIgnoreCase(&quot;0&quot;)) {\r\n                                Toast.makeText(MainActivity.this, &quot;Invalid PIN&quot;, Toast.LENGTH_SHORT).show();\r\n                                return;\r\n                            } else {\r\n                                Toast.makeText(MainActivity.this, response, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    }, error -&gt; {\r\n                if (NetworkAvailable()) {\r\n                    loadings.dismiss();\r\n                    Toast.makeText(MainActivity.this, &quot;Error fetching values, please retry&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n           \r\n            RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\r\n            //Setting retry policy - encounter timeout error\r\n            stringRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n                    0,\r\n                    DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\r\n                    DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n            //Adding request to the queue\r\n            requestQueue.add(stringRequest);\r\n        }\r\n    }\r\n\r\n    // AUTO READ OTP\r\n    private void startSmsUserConsent() {\r\n        SmsRetrieverClient client = SmsRetriever.getClient(this);\r\n        //We can add sender phone number or leave it blank\r\n        // I&#39;m adding null here\r\n        client.startSmsUserConsent(null).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onSuccess(Void aVoid) {\r\n                // Toast.makeText(getApplicationContext(), &quot;On Success&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                //Toast.makeText(getApplicationContext(), &quot;On OnFailure&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n    }\r\n    private void getOtpFromMessage(String message) {\r\n        // This will match any 6 digit number in the message\r\n        Pattern pattern = Pattern.compile(&quot;(|^)\\\\d{4,6}&quot;);\r\n        Matcher matcher = pattern.matcher(message);\r\n        Toast.makeText(getApplicationContext(), &quot;getOtpFromMessage&quot;, Toast.LENGTH_LONG).show();\r\n        if (matcher.find()) {\r\n            otpnumbers.setText(matcher.group(0));\r\n            verifyOtp();\r\n        }\r\n    }\r\n    private void registerBroadcastReceiver() {\r\n        smsBroadcastReceiver = new SmsBroadcastReceiver();\r\n        smsBroadcastReceiver.smsBroadcastReceiverListener =\r\n                new SmsBroadcastReceiver.SmsBroadcastReceiverListener() {\r\n                    @Override\r\n                    public void onSuccess(Intent intent) {\r\n                       Log.d(&quot;raja&quot;,&quot;raja&quot;);\r\n\r\n                        activityResultLauncher.launch(intent);\r\n                        // startActivityForResult(intent, REQ_USER_CONSENT);\r\n                    }\r\n                    @Override\r\n                    public void onFailure() {\r\n                    }\r\n                };\r\n        IntentFilter intentFilter = new IntentFilter(SmsRetriever.SMS_RETRIEVED_ACTION);\r\n        registerReceiver(smsBroadcastReceiver, intentFilter);\r\n    }\r\n//\r\n\r\n    // OTPActivity Page End\r\n}\r\n```\r\nthis is my UI \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1yGCL.jpg","title":"android issue: otp is not filling in editText","body":"<p>Before i was using otp at seperate page. Now I updated my UI, Now I am using mobile number and otp at same page.</p>\n<p>Here I am using auto hint mobile number after mobile number select coming otp for auto fill but it is not fiilig automatic.</p>\n<p>In SecondCase after selecting or entering mobile number then I entering my otp then app is crasing.</p>\n<p>Here I have used Two onActivityResult. I dont know this is best idea or not. if not then two use only one and my functionality too.</p>\n<p>this is my MainActivity.java code</p>\n<pre><code>package com.toe.playgame;\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.ActionBar;\nimport android.app.Activity;\nimport android.app.PendingIntent;\nimport android.app.ProgressDialog;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.content.IntentSender;\nimport android.content.SharedPreferences;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkInfo;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.android.volley.DefaultRetryPolicy;\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.StringRequest;\nimport com.android.volley.toolbox.Volley;\nimport com.google.android.gms.auth.api.Auth;\nimport com.google.android.gms.auth.api.credentials.Credential;\nimport com.google.android.gms.auth.api.credentials.HintRequest;\nimport com.google.android.gms.auth.api.phone.SmsRetriever;\nimport com.google.android.gms.auth.api.phone.SmsRetrieverClient;\nimport com.google.android.gms.common.ConnectionResult;\nimport com.google.android.gms.common.GoogleApiAvailability;\nimport com.google.android.gms.common.api.GoogleApiClient;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.hbb20.CountryCodePicker;\nimport com.kochava.tracker.events.Event;\nimport com.kochava.tracker.events.EventType;\n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class MainActivity extends AppCompatActivity implements  GoogleApiClient.OnConnectionFailedListener{\n\n    private EditText MobileNumber;\n    public ProgressDialog loadings;\n    private CountryCodePicker ccps;\n    private GoogleApiClient apiClients;\n    private String mobile_numbers;\n    public static String portal_names = &quot;false&quot;;\n    public static String m_requires = &quot;false&quot;;\n    public static String statuss = &quot;false&quot;;\n    public static String portal_urls = &quot;false&quot;;\n    public static String deviceId;\n    public static String cid=&quot;mewochat&quot;;\n    public static String portal_paths = &quot;false&quot;;\n    public static String portal_descriptions = &quot;&quot;;\n    public static String portal_number_limits ;\n    public static String portal_total_numbers = &quot;false&quot;;\n\n    public EditText otpnumbers;\n    Button btn_verify;\n    String getotp=&quot;&quot;;\n    SmsBroadcastReceiver smsBroadcastReceiver;\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\n\n    String sentpin =&quot;go&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ccps = findViewById(R.id.country_code);\n        MobileNumber = findViewById(R.id.MobileNumber);\n        otpnumbers = findViewById(R.id.otp);\n       // otpnumbers.setEnabled(false);\n        btn_verify = findViewById(R.id.btn_verify);\n       // btn_verify.setEnabled(false);\n        Button btn_sendotp = findViewById(R.id.btn_submit);\n       // btn_sendotp.setText(getString(R.string.sendotp));\n        btn_sendotp.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                generateotp();\n            }\n        });\n\n        onloadcountry();\n        onchangescountry();\n        getHashCode(this);\n\n        apiClients = new GoogleApiClient.Builder(this)\n                .enableAutoManage(this /* FragmentActivity */,\n                        this /* OnConnectionFailedListener */)\n                .addApi(Auth.CREDENTIALS_API)\n                .addApi(Auth.GOOGLE_SIGN_IN_API)\n                .build();\n\n        // OTPActivity Page Start\n\n\n//if(sentpin.equalsIgnoreCase(&quot;go&quot;)) {\n    activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n        @Override\n        public void onActivityResult(ActivityResult result) {\n            Log.d(&quot;raja0&quot;,&quot;raja0&quot;);\n            if ((result.getResultCode() == RESULT_OK) &amp;&amp; (result.getData() != null)) {\n                Intent data = result.getData();\n\n                //That gives all message to us.\n                // We need to get the code from inside with regex\n                String message = data.getStringExtra(SmsRetriever.EXTRA_SMS_MESSAGE);\n                Log.d(&quot;raja1&quot;,&quot;raja1&quot;);\n\n                getOtpFromMessage(message);\n            }\n        }\n    });\n\n    otpnumbers.addTextChangedListener(new TextWatcher() {\n        @Override\n        public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n        }\n\n        @Override\n        public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n        }\n\n        @Override\n        public void afterTextChanged(Editable editable) {\n            //if(editable.toString().length()==4 || editable.toString().length()==6 ) {\n            getotp = editable.toString();\n\n\n        }\n    });\n\n\n        // OTPActivity Page End\n\n    }\n    // MainACtivity Page Start\n    public static String getHashCode(Context context){\n        com.toe.playgame.SignatureApp appSignature = new com.toe.playgame.SignatureApp(context);\n        Log.e(&quot; getAppSignatures &quot;,&quot;&quot;+appSignature.getAppSignatures());\n        return appSignature.getAppSignatures().get(0);\n    }\n\n    public void onloadcountry(){\n        String final_url = // my url\n        StringRequest stringRequest = new StringRequest(Request.Method.GET, final_url,\n                new Response.Listener&lt;String&gt;() {\n                    @RequiresApi(api = Build.VERSION_CODES.N)\n                    @Override\n                    public void onResponse(String response) {\n                        Log.d(&quot;OnloadCountryresponse&quot;,response);\n                        if (response.isEmpty()) {\n//                            terms.setText(&quot;&quot;);\n                            Toast.makeText(MainActivity.this, &quot;Our Service is Unavailable in &quot;+ccps.getSelectedCountryName() , Toast.LENGTH_SHORT).show();\n\n                        }else {\n                            autosuggest();\n                            String finalValues[] = response.toString().split(&quot;~&quot;);\n                            int len = finalValues.length;\n                            portal_names = finalValues[0];\n                            portal_number_limits = finalValues[1];\n                            portal_total_numbers = finalValues[2];\n                            portal_paths = finalValues[3];\n                            if (len == 5) {\n                                portal_descriptions = finalValues[4];\n                            } else {\n                                portal_descriptions = &quot;&quot;;\n                            }\n                        }\n                    }\n                }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                if (NetworkAvailable()) {\n                    Toast.makeText(MainActivity.this, &quot;Error fetching values, please retry&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n        RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\n\n        stringRequest.setRetryPolicy(new DefaultRetryPolicy(\n                0,\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n        requestQueue.add(stringRequest);\n    }\n\n    public void onchangescountry(){\n        ccps.setOnCountryChangeListener(new CountryCodePicker.OnCountryChangeListener() {\n            @Override\n            public void onCountrySelected() {\n                String final_url = //my url\n                Toast.makeText(MainActivity.this, &quot;You have selected &quot; + ccps.getSelectedCountryName(), Toast.LENGTH_SHORT).show();\n                StringRequest stringRequest = new StringRequest(Request.Method.GET, final_url,\n                        new Response.Listener&lt;String&gt;() {\n                            @Override\n                            public void onResponse(String response) {\n                                Log.d(&quot;Countryresponse&quot;,response);\n                                if (response.isEmpty()) {\n                                    //  terms.setText(&quot;&quot;);\n                                    Toast.makeText(MainActivity.this, &quot;Our Service is Unavailable in &quot; + ccps.getSelectedCountryName(), Toast.LENGTH_SHORT).show();\n\n                                }else{\n                                    String finalValues[] = response.toString().split(&quot;~&quot;);\n                                    int len = finalValues.length;\n                                    portal_names=finalValues[0];\n                                    portal_number_limits= finalValues[1];\n                                    portal_total_numbers=finalValues[2];\n                                    portal_paths=finalValues[3];\n                                    if(len == 5){\n                                        portal_descriptions=finalValues[4];\n                                    }else{\n                                        portal_descriptions=&quot;&quot;;\n                                    }\n                                }\n                            }\n                        }, new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        if (NetworkAvailable()) {\n                            Toast.makeText(MainActivity.this, &quot;Error fetching values, please retry&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n                RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\n                stringRequest.setRetryPolicy(new DefaultRetryPolicy(\n                        0,\n                        DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                        DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n\n                requestQueue.add(stringRequest);\n\n            }\n        });\n    }\n    public void autosuggest() {\n        if (isGooglePlayServicesAvailable(this)) {\n            HintRequest hintRequest = new HintRequest.Builder()\n                    .setPhoneNumberIdentifierSupported(true)\n                    .build();\n\n            PendingIntent intent = Auth.CredentialsApi.getHintPickerIntent(\n                    apiClients, hintRequest);\n            try {\n                startIntentSenderForResult(intent.getIntentSender(),\n                        599, null, 0, 0, 0);\n            } catch (IntentSender.SendIntentException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    public boolean isGooglePlayServicesAvailable(Activity activity) {\n        GoogleApiAvailability googleApiAvailability = GoogleApiAvailability.getInstance();\n        int status = googleApiAvailability.isGooglePlayServicesAvailable(activity);\n        if (status != ConnectionResult.SUCCESS) {\n            if (googleApiAvailability.isUserResolvableError(status)) {\n                googleApiAvailability.getErrorDialog(activity, status, 2404).show();\n            }\n            return false;\n        }\n        return true;\n    }\n    private boolean NetworkAvailable() {\n        ConnectivityManager connectivityManager\n                = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\n        return activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected();\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data)\n    {\n        if(sentpin.equalsIgnoreCase(&quot;go&quot;)) {\n            super.onActivityResult(requestCode, resultCode, data);\n            //MobileNumber.setText(&quot;&quot;);\n            int no_limit;\n            if (portal_number_limits.isEmpty()) {\n                no_limit = 0;\n            } else {\n                no_limit = Integer.parseInt(portal_number_limits);\n            }\n            if (resultCode == RESULT_OK) {\n                Credential credential = data.getParcelableExtra(Credential.EXTRA_KEY);\n                String phone_number = credential.getId();\n                phone_number = phone_number.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n                String country_code = ccps.getSelectedCountryCode();\n                phone_number = phone_number.replaceFirst(&quot;^&quot; + country_code, &quot;&quot;);\n\n                phone_number = phone_number.substring(Math.max(phone_number.length() - no_limit, 0));\n\n                MobileNumber.setText(phone_number);\n                mobile_numbers = MobileNumber.getText().toString().trim();\n                if (!mobile_numbers.isEmpty()) {\n                    generateotp();\n                } else {\n                    Toast.makeText(this, &quot;Something is wrong Please enter mobile number&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n            }\n        }\n    }\n    public void generateotp() {\n        int nos;\n        int total_nos;\n        if (portal_number_limits.isEmpty()) {\n            nos = 0;\n            total_nos = 0;\n        } else {\n            nos = Integer.parseInt(portal_number_limits);\n            total_nos = Integer.parseInt(portal_total_numbers);\n        }\n        String country_code = ccps.getSelectedCountryCode();//country_codeset.getText().toString().trim();//getCountryDialCode();//ccp.getSelectedCountryCode();\n        mobile_numbers = MobileNumber.getText().toString().trim();\n        mobile_numbers = mobile_numbers.substring(Math.max(mobile_numbers.length() - nos, 0));\n        MobileNumber.setText(mobile_numbers);\n\n        if (mobile_numbers.isEmpty()) {\n            Toast.makeText(this, &quot;Please enter mobile number first&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n        mobile_numbers = country_code + mobile_numbers;\n        if (mobile_numbers.length() &lt; total_nos) {\n            Toast.makeText(this, &quot;Please enter valid mobile number&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        loadings = ProgressDialog.show(MainActivity.this, &quot;Validating&quot;, &quot;Please wait...&quot;, false, false);\n        if (!NetworkAvailable()) {\n            loadings.dismiss();\n            Toast.makeText(this, &quot;No internet connection, Try again later!&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n        if (mobile_numbers.equalsIgnoreCase(&quot;912345767089&quot;)) {\n            loadings.dismiss();\n            portal_urls = // portal urls\n            m_requires = &quot;N&quot;;\n            mobile_numbers = &quot;912345767089&quot;;\n            portal_names = &quot;epicon&quot;;\n            portal_paths = &quot;mother_app_new&quot;;\n            Toast.makeText(this, &quot;OTP SEND&quot;, Toast.LENGTH_SHORT).show();\n            registerBroadcastReceiver();\n            startSmsUserConsent();\n            sentpin =&quot;&quot;;\n//            Intent intent = new Intent(MainActivity.this, com.toe.playgame.PortalActivity.class);\n\n        } else {\n            String final_url = // my url\n            Log.d(&quot;pinrequest_url&quot;, final_url);\n            StringRequest stringRequest = new StringRequest(Request.Method.GET, final_url,\n                    new Response.Listener&lt;String&gt;() {\n                        @Override\n                        public void onResponse(String response) {\n                            Log.d(&quot;pinrequest_response&quot;, response);\n                            String finalValue[] = response.toString().split(&quot;~&quot;);\n\n\n                            portal_names = finalValue[0];\n                            statuss = finalValue[1];\n                            portal_urls = finalValue[2];\n                            m_requires = finalValue[3];\n\n\n                            loadings.dismiss();\n                            if (!response.isEmpty()) {\n                                if (statuss.equalsIgnoreCase(&quot;already_active&quot;)) {\n                                    Toast.makeText(MainActivity.this, &quot;Already active&quot;, Toast.LENGTH_SHORT).show();\n\n                                    SharedPreferences sps = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\n                                    SharedPreferences.Editor editor = sps.edit();\n                                    editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\n                                    editor.putString(&quot;portal_names&quot;, portal_names);\n                                    editor.putString(&quot;portal_urls&quot;, portal_urls);\n                                    editor.putString(&quot;m_requires&quot;, m_requires);\n\n                                    editor.apply();\n                                    Intent intent = new Intent(MainActivity.this, com.toe.playgame.PortalActivity.class);\n                                    intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\n                                    intent.putExtra(&quot;portal_urls&quot;, portal_urls);\n                                    intent.putExtra(&quot;m_requires&quot;, m_requires);\n                                    intent.putExtra(&quot;portal_names&quot;, portal_names);\n\n                                    startActivity(intent);\n                                    return;\n                                } else if (statuss.equalsIgnoreCase(&quot;pin_sent&quot;)) {\n\n\n\n\n                                } else if (statuss.equalsIgnoreCase(&quot;0&quot;)) {\n                                    Toast.makeText(MainActivity.this, &quot;Invalid MSISDN&quot;, Toast.LENGTH_SHORT).show();\n                                    return;\n                                } else {\n                                    Toast.makeText(MainActivity.this, statuss, Toast.LENGTH_SHORT).show();\n                                }\n                            } else {\n                                Toast.makeText(MainActivity.this, &quot;An unknown error occurred, please try again!&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    }, new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    if (NetworkAvailable()) {\n                        loadings.dismiss();\n                        Toast.makeText(MainActivity.this, &quot;Error fetching values, please retry&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n            //Creating a request queue\n            RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\n            //Setting retry policy - encounter timeout error\n            stringRequest.setRetryPolicy(new DefaultRetryPolicy(\n                    0,\n                    DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                    DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n            //Adding request to the queue\n            requestQueue.add(stringRequest);\n            //  }\n        }\n    }\n    @Override\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\n\n    }\n    // MainACtivity Page END\n\n    // OTPActivity Page Start\n\n    private void verifyOtp() {\n        String otps = getotp;\n\n        if (otps.length() != 4 &amp;&amp; otps.length() != 6) {\n            Toast.makeText(this, &quot;Please enter Valid OTP First&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        loadings = ProgressDialog.show(MainActivity.this, &quot;Verifying otp&quot;, &quot;Please wait...&quot;, false, false);\n        if (!NetworkAvailable()) {\n            loadings.dismiss();\n            Toast.makeText(this, &quot;No internet connection, Try again later!&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n        if (otps.equalsIgnoreCase(&quot;2558&quot;) &amp;&amp; mobile_numbers.equalsIgnoreCase(&quot;912345767089&quot;)) {\n            loadings.dismiss();\n            //Invalid PIN/OTP\n            SharedPreferences sps = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\n            SharedPreferences.Editor editor = sps.edit();\n            editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\n            editor.putString(&quot;portal_names&quot;, portal_names);\n            editor.putString(&quot;portal_urls&quot;, portal_urls);\n            editor.putString(&quot;m_requires&quot;, m_requires);\n\n            editor.apply();\n            Intent intent = new Intent(MainActivity.this, PortalActivity.class);\n            intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\n            intent.putExtra(&quot;portal_names&quot;, portal_names);\n            intent.putExtra(&quot;portal_urls&quot;, portal_urls);\n            intent.putExtra(&quot;m_requires&quot;, m_requires);\n            startActivity(intent);\n            return;\n        } else {\n            String final_urls = // my url\n            Log.d(&quot;pinverify_url&quot;, final_urls);\n            StringRequest stringRequest = new StringRequest(Request.Method.GET, final_urls,\n                    response -&gt; {\n                        Log.d(&quot;pinverify_response&quot;, response);\n                        loadings.dismiss();\n                        if (!response.isEmpty()) {\n                            if (response.equalsIgnoreCase(&quot;Already_Active&quot;)) {\n                                //Already active\n                                SharedPreferences sp = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\n                                SharedPreferences.Editor editor = sp.edit();\n                                editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\n                                editor.putString(&quot;portal_urls&quot;, portal_urls);\n                                editor.putString(&quot;m_requires&quot;, m_requires);\n\n                                editor.apply();\n                                Intent intent = new Intent(MainActivity.this, PortalActivity.class);\n                                intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\n                                intent.putExtra(&quot;portal_names&quot;, portal_names);\n                                intent.putExtra(&quot;portal_urls&quot;, portal_urls);\n                                intent.putExtra(&quot;m_requires&quot;, m_requires);\n                                startActivity(intent);\n                                return;\n                            } else if (response.equalsIgnoreCase(&quot;1&quot;)) {\n                                //Invalid PIN/OTP\n                                unregisterReceiver(smsBroadcastReceiver);\n                                Event.buildWithEventType(EventType.PURCHASE)\n                                        .setPrice(1)\n                                        .setName(&quot;Purchase&quot;)\n                                        .setCurrency(&quot;usd&quot;)\n                                        .send();\n\n                                SharedPreferences sps = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\n                                SharedPreferences.Editor editor = sps.edit();\n                                editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\n                                editor.putString(&quot;portal_names&quot;, portal_names);\n                                editor.putString(&quot;portal_urls&quot;, portal_urls);\n                                editor.putString(&quot;m_requires&quot;, m_requires);\n\n                                editor.apply();\n                                Intent intent = new Intent(MainActivity.this, PortalActivity.class);\n                                intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\n                                intent.putExtra(&quot;portal_names&quot;, portal_names);\n                                intent.putExtra(&quot;portal_urls&quot;, portal_urls);\n                                intent.putExtra(&quot;m_requires&quot;, m_requires);\n                                startActivity(intent);\n                                return;\n                            } else if (response.equalsIgnoreCase(&quot;11&quot;)) {\n                                SharedPreferences sps = getSharedPreferences(&quot;local_s&quot;, MODE_PRIVATE);\n                                SharedPreferences.Editor editor = sps.edit();\n                                editor.putString(&quot;mobile_sessions&quot;, mobile_numbers);\n                                editor.putString(&quot;portal_names&quot;, portal_names);\n                                editor.putString(&quot;portal_urls&quot;, portal_urls);\n                                editor.putString(&quot;m_requires&quot;, m_requires);\n                                editor.apply();\n                                Intent intent = new Intent(MainActivity.this, PortalActivity.class);\n                                intent.putExtra(&quot;mobile_numbers&quot;, mobile_numbers);\n                                intent.putExtra(&quot;portal_names&quot;, portal_names);\n                                intent.putExtra(&quot;portal_urls&quot;, portal_urls);\n                                intent.putExtra(&quot;m_requires&quot;, m_requires);\n                                startActivity(intent);\n                                return;\n                            } else if (response.equalsIgnoreCase(&quot;0&quot;)) {\n                                Toast.makeText(MainActivity.this, &quot;Invalid PIN&quot;, Toast.LENGTH_SHORT).show();\n                                return;\n                            } else {\n                                Toast.makeText(MainActivity.this, response, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    }, error -&gt; {\n                if (NetworkAvailable()) {\n                    loadings.dismiss();\n                    Toast.makeText(MainActivity.this, &quot;Error fetching values, please retry&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n           \n            RequestQueue requestQueue = Volley.newRequestQueue(MainActivity.this);\n            //Setting retry policy - encounter timeout error\n            stringRequest.setRetryPolicy(new DefaultRetryPolicy(\n                    0,\n                    DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                    DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n            //Adding request to the queue\n            requestQueue.add(stringRequest);\n        }\n    }\n\n    // AUTO READ OTP\n    private void startSmsUserConsent() {\n        SmsRetrieverClient client = SmsRetriever.getClient(this);\n        //We can add sender phone number or leave it blank\n        // I'm adding null here\n        client.startSmsUserConsent(null).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n            @Override\n            public void onSuccess(Void aVoid) {\n                // Toast.makeText(getApplicationContext(), &quot;On Success&quot;, Toast.LENGTH_LONG).show();\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                //Toast.makeText(getApplicationContext(), &quot;On OnFailure&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n    }\n    private void getOtpFromMessage(String message) {\n        // This will match any 6 digit number in the message\n        Pattern pattern = Pattern.compile(&quot;(|^)\\\\d{4,6}&quot;);\n        Matcher matcher = pattern.matcher(message);\n        Toast.makeText(getApplicationContext(), &quot;getOtpFromMessage&quot;, Toast.LENGTH_LONG).show();\n        if (matcher.find()) {\n            otpnumbers.setText(matcher.group(0));\n            verifyOtp();\n        }\n    }\n    private void registerBroadcastReceiver() {\n        smsBroadcastReceiver = new SmsBroadcastReceiver();\n        smsBroadcastReceiver.smsBroadcastReceiverListener =\n                new SmsBroadcastReceiver.SmsBroadcastReceiverListener() {\n                    @Override\n                    public void onSuccess(Intent intent) {\n                       Log.d(&quot;raja&quot;,&quot;raja&quot;);\n\n                        activityResultLauncher.launch(intent);\n                        // startActivityForResult(intent, REQ_USER_CONSENT);\n                    }\n                    @Override\n                    public void onFailure() {\n                    }\n                };\n        IntentFilter intentFilter = new IntentFilter(SmsRetriever.SMS_RETRIEVED_ACTION);\n        registerReceiver(smsBroadcastReceiver, intentFilter);\n    }\n//\n\n    // OTPActivity Page End\n}\n</code></pre>\n<p>this is my UI\n<a href=\"https://i.stack.imgur.com/1yGCL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1yGCL.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","string","char","equals"],"comments":[{"owner":{"account_id":2706912,"reputation":15827,"user_id":2336315,"accept_rate":90,"display_name":"user2336315"},"score":11,"creation_date":1414842425,"post_id":26688990,"comment_id":41974916,"body_markdown":"`&quot;f&quot;`is a String, `&#39;f&#39;` is a char.","body":"<code>&quot;f&quot;</code>is a String, <code>&#39;f&#39;</code> is a char."}],"answers":[{"tags":[],"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1674287992,"creation_date":1414842472,"answer_id":26689001,"question_id":26688990,"body_markdown":"This is the correct way to write that:\r\n\r\n    if ( fieldNames.charAt(4) == &#39;f&#39; )\r\n\r\nIn your original version, `&quot;f&quot;` is a `String` and `fieldNames.charAt(4)` is a `char`, and you cannot compare a `String` with a `char` using `==`.  If you write `&#39;f&#39;` instead of `&quot;f&quot;` (as above) you will be comparing a `char` with a `char`.\r\n\r\nNote that `&quot;g&quot; == &quot;h&quot;` is also accepted by the compiler because both `&quot;g&quot;` and `&quot;h&quot;` are `String` objects.  However, you shouldn&#39;t do that.  You should use `&quot;g&quot;.equals(&quot;h&quot;)` instead.  To understand why, please read https://stackoverflow.com/questions/513832/.  (The short version is that `someString == otherString` comparisons will *often* give an unexpected answer!)\r\n\r\nBy contrast `&#39;g&#39; == &#39;h&#39;` is both accepted by the compiler AND correct code.\r\n\r\n--------------------\r\n\r\nMore background: a Java `String` literal is surrounded by double quotes, but a `char` literal is surrounded by single quotes; e.g. \r\n\r\n    String s = &quot;g&quot;;\r\n    char c = &#39;g&#39;;\r\n\r\nA `char` value consists of one and only one character&lt;sup&gt;1&lt;/sup&gt; but `String` value can contain more than one  character ... or zero characters.\r\n\r\n    String s2 = &quot;gg&quot;;  valid\r\n    char c2 = &#39;gg&#39;;  not valid\r\n\r\n    String s3 = &quot;&quot;;  valid\r\n    char c3 = &#39;&#39;;  not valid\r\n\r\n-------------------\r\n\r\n&lt;sup&gt;1 - Actually, calling them characters is technically a stretch.  A `char` ... or a value returned by `String.getChar` is actually an unsigned 16 bit number.  But Java natively uses Unicode, and 16 bits is not enough to represent all Unicode *code points*.  It was when Java was designed, but then Unicode added more code planes.&lt;/sup&gt;\r\n","title":"Java - Why can&#39;t I use charAt() to see if a char equals another?","body":"<p>This is the correct way to write that:</p>\n<pre><code>if ( fieldNames.charAt(4) == 'f' )\n</code></pre>\n<p>In your original version, <code>&quot;f&quot;</code> is a <code>String</code> and <code>fieldNames.charAt(4)</code> is a <code>char</code>, and you cannot compare a <code>String</code> with a <code>char</code> using <code>==</code>.  If you write <code>'f'</code> instead of <code>&quot;f&quot;</code> (as above) you will be comparing a <code>char</code> with a <code>char</code>.</p>\n<p>Note that <code>&quot;g&quot; == &quot;h&quot;</code> is also accepted by the compiler because both <code>&quot;g&quot;</code> and <code>&quot;h&quot;</code> are <code>String</code> objects.  However, you shouldn't do that.  You should use <code>&quot;g&quot;.equals(&quot;h&quot;)</code> instead.  To understand why, please read <a href=\"https://stackoverflow.com/questions/513832/\">How do I compare strings in Java?</a>.  (The short version is that <code>someString == otherString</code> comparisons will <em>often</em> give an unexpected answer!)</p>\n<p>By contrast <code>'g' == 'h'</code> is both accepted by the compiler AND correct code.</p>\n<hr />\n<p>More background: a Java <code>String</code> literal is surrounded by double quotes, but a <code>char</code> literal is surrounded by single quotes; e.g.</p>\n<pre><code>String s = &quot;g&quot;;\nchar c = 'g';\n</code></pre>\n<p>A <code>char</code> value consists of one and only one character<sup>1</sup> but <code>String</code> value can contain more than one  character ... or zero characters.</p>\n<pre><code>String s2 = &quot;gg&quot;;  valid\nchar c2 = 'gg';  not valid\n\nString s3 = &quot;&quot;;  valid\nchar c3 = '';  not valid\n</code></pre>\n<hr />\n<p><sup>1 - Actually, calling them characters is technically a stretch.  A <code>char</code> ... or a value returned by <code>String.getChar</code> is actually an unsigned 16 bit number.  But Java natively uses Unicode, and 16 bits is not enough to represent all Unicode <em>code points</em>.  It was when Java was designed, but then Unicode added more code planes.</sup></p>\n"},{"tags":[],"owner":{"account_id":9549348,"reputation":21,"user_id":7094025,"display_name":"And"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478237476,"creation_date":1478237476,"answer_id":40415874,"question_id":26688990,"body_markdown":"I was having the same problem, but I was able to solve it using:\r\n\r\n    if (str.substring(0,1).equals(&quot;x&quot;) )\r\nthe substring can be used in a loop str.substring(i, i + 1)\r\n\r\ncharAt(i).equals(&#39;x&#39;) will not work together","title":"Java - Why can&#39;t I use charAt() to see if a char equals another?","body":"<p>I was having the same problem, but I was able to solve it using:</p>\n\n<pre><code>if (str.substring(0,1).equals(\"x\") )\n</code></pre>\n\n<p>the substring can be used in a loop str.substring(i, i + 1)</p>\n\n<p>charAt(i).equals('x') will not work together</p>\n"},{"tags":[],"owner":{"account_id":18909029,"reputation":291,"user_id":13795508,"display_name":"M A F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606168678,"creation_date":1606168678,"answer_id":64977107,"question_id":26688990,"body_markdown":".equals() can still be used, but you have to remember that chars require apostrophes(&#39;) instead of quotes(&quot;). For example: someChar.equals(&#39;c&#39;) is valid for chars and someString.equals(&quot;c&quot;) is valid for strings.","title":"Java - Why can&#39;t I use charAt() to see if a char equals another?","body":"<p>.equals() can still be used, but you have to remember that chars require apostrophes(') instead of quotes(&quot;). For example: someChar.equals('c') is valid for chars and someString.equals(&quot;c&quot;) is valid for strings.</p>\n"}],"owner":{"account_id":4118046,"reputation":2185,"user_id":3379140,"accept_rate":88,"display_name":"Mayron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61577,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":26689001,"answer_count":3,"score":6,"last_activity_date":1674287992,"creation_date":1414842398,"question_id":26688990,"body_markdown":"I want to see if a character in my string equals a certain other char value but I do not know what the char in the string is so I have used this:\r\n\r\n    if ( fieldNames.charAt(4) == &quot;f&quot; )\r\n\r\nBut I get the error:\r\n\r\n    &quot;Operator &#39;==&#39; cannot be applied to &#39;char&#39;, &#39;jav.lang.String&#39;&quot;\r\n\r\nBut `&quot;g&quot; == &quot;h&quot;` seems to work and I know you can use `&#39;==&#39;` with char types. \r\n\r\nIs there another way to do this correctly?\r\nThanks!\r\n\r\n","title":"Java - Why can&#39;t I use charAt() to see if a char equals another?","body":"<p>I want to see if a character in my string equals a certain other char value but I do not know what the char in the string is so I have used this:</p>\n\n<pre><code>if ( fieldNames.charAt(4) == \"f\" )\n</code></pre>\n\n<p>But I get the error:</p>\n\n<pre><code>\"Operator '==' cannot be applied to 'char', 'jav.lang.String'\"\n</code></pre>\n\n<p>But <code>\"g\" == \"h\"</code> seems to work and I know you can use <code>'=='</code> with char types. </p>\n\n<p>Is there another way to do this correctly?\nThanks!</p>\n"},{"tags":["java","syntax","linked-list","logic"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1674284964,"post_id":75191645,"comment_id":132686168,"body_markdown":"Can you show the runtime error?","body":"Can you show the runtime error?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1674285355,"post_id":75191645,"comment_id":132686204,"body_markdown":"... and the definition of class `LinkedListNode` as it is not a default Java class. And the code where `removeDuplicates` get&#39;s called, as I guess the exception is thrown there rather than in this method.","body":"... and the definition of class <code>LinkedListNode</code> as it is not a default Java class. And the code where <code>removeDuplicates</code> get&#39;s called, as I guess the exception is thrown there rather than in this method."}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674286143,"creation_date":1674285454,"answer_id":75191731,"question_id":75191645,"body_markdown":"Answering why `t1.next = null` is needed from a correctness point of view...\r\n\r\nConsider a linked list like this\r\n```\r\n1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\r\n```\r\n....Skipping a few initial iterations of the loop.... and when `t1` is and `t2` are pointing to the penultimate `3`. \r\n\r\n\r\n```\r\n1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\r\n          â    \r\n          t1\r\n          t2 \r\n```\r\n\r\nThe `if` condition would be *true* and you would move `t2` to the last `3` (while `t1` still points to the penultimate `3`). \r\n\r\n```\r\n1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\r\n          â    â\r\n          t1   t2\r\n```\r\n\r\nOn the next iteration, the same `if` condition would be *true* and you would make `t2` *null* and break out of the `while` loop.\r\n\r\n```\r\n1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\r\n          â          â\r\n          t1         t2\r\n```\r\n\r\nNow, to get the effect of removing the duplicate 3s, you should make the *next* of `t1` as null.\r\n\r\nFrom this,\r\n\r\n```\r\n1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\r\n          â   \r\n          t1\r\n```\r\nSetting `t1.next = null` results in,\r\n\r\n```\r\n1 -&gt; 2 -&gt; 3 -&gt; NULL\r\n          â   \r\n          t1\r\n```","title":"What is the purpose of t1.next=null below the while loop?","body":"<p>Answering why <code>t1.next = null</code> is needed from a correctness point of view...</p>\n<p>Consider a linked list like this</p>\n<pre><code>1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\n</code></pre>\n<p>....Skipping a few initial iterations of the loop.... and when <code>t1</code> is and <code>t2</code> are pointing to the penultimate <code>3</code>.</p>\n<pre><code>1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\n          â    \n          t1\n          t2 \n</code></pre>\n<p>The <code>if</code> condition would be <em>true</em> and you would move <code>t2</code> to the last <code>3</code> (while <code>t1</code> still points to the penultimate <code>3</code>).</p>\n<pre><code>1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\n          â    â\n          t1   t2\n</code></pre>\n<p>On the next iteration, the same <code>if</code> condition would be <em>true</em> and you would make <code>t2</code> <em>null</em> and break out of the <code>while</code> loop.</p>\n<pre><code>1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\n          â          â\n          t1         t2\n</code></pre>\n<p>Now, to get the effect of removing the duplicate 3s, you should make the <em>next</em> of <code>t1</code> as null.</p>\n<p>From this,</p>\n<pre><code>1 -&gt; 2 -&gt; 3 -&gt; 3 -&gt; NULL\n          â   \n          t1\n</code></pre>\n<p>Setting <code>t1.next = null</code> results in,</p>\n<pre><code>1 -&gt; 2 -&gt; 3 -&gt; NULL\n          â   \n          t1\n</code></pre>\n"}],"owner":{"account_id":20860409,"reputation":1,"user_id":15322786,"display_name":"Shivam Kabra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674286143,"creation_date":1674284226,"question_id":75191645,"body_markdown":"```\r\npublic class Solution {\r\n\r\n\tpublic static LinkedListNode&lt;Integer&gt; removeDuplicates(LinkedListNode&lt;Integer&gt; head) {\r\n\t\t//Your code goes here\r\n\t\t\r\n\t\tif(head==null){\r\n\t\t\treturn head;\r\n\t\t}\r\n\t\tif(head.next==null){\r\n\t\t\treturn head;\r\n\t\t}\r\n        LinkedListNode&lt;Integer&gt; t1=head, t2=head.next;\r\n\t\tLinkedListNode&lt;Integer&gt; final_head=head;\r\n\t\twhile(t2!=null){\r\n             if(t1.data==t2.data){\r\n\t\t\t\t t2=t2.next;\r\n\t\t\t }else{\r\n\t\t\t\t t1.next=t2;\r\n\t\t\t\t t1=t2;\r\n\t\t\t }\r\n\t\t}\r\n                t1.next=null;\r\n\t\treturn final_head;\r\n\r\n\t}\r\n}\r\n```\r\nWhy is it showing runtime error when I remove `t1.next=null` ?\r\nAm I missing something here ? I dont undertand the purpose of `t1.next=null`.","title":"What is the purpose of t1.next=null below the while loop?","body":"<pre><code>public class Solution {\n\n    public static LinkedListNode&lt;Integer&gt; removeDuplicates(LinkedListNode&lt;Integer&gt; head) {\n        //Your code goes here\n        \n        if(head==null){\n            return head;\n        }\n        if(head.next==null){\n            return head;\n        }\n        LinkedListNode&lt;Integer&gt; t1=head, t2=head.next;\n        LinkedListNode&lt;Integer&gt; final_head=head;\n        while(t2!=null){\n             if(t1.data==t2.data){\n                 t2=t2.next;\n             }else{\n                 t1.next=t2;\n                 t1=t2;\n             }\n        }\n                t1.next=null;\n        return final_head;\n\n    }\n}\n</code></pre>\n<p>Why is it showing runtime error when I remove <code>t1.next=null</code> ?\nAm I missing something here ? I dont undertand the purpose of <code>t1.next=null</code>.</p>\n"},{"tags":["java","spring-boot","mongodb-atlas"],"owner":{"account_id":20628958,"reputation":23,"user_id":15144199,"display_name":"Aman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674285951,"creation_date":1674285951,"question_id":75191761,"body_markdown":"I am facing this exception in my project. I tried to connect my project with mongodb atlas, can any one  please help me resolve this issue. Written the atlas configuration in application.properties file = spring.data.mongodb.uri = url with updated password.\r\n\r\n**Exception**\r\n\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;authorServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;authorRepository&#39;: Error creating bean with name &#39;authorRepository&#39; defined in com.bookdekho.application.repository.AuthorRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean &#39;mongoTemplate&#39; while setting bean property &#39;mongoOperations&#39;\r\n\r\n**Author model**\r\n\r\n    package com.bookdekho.application.model;\r\n\r\n    import com.bookdekho.application.enums.Genre;\r\n    import com.bookdekho.application.enums.UserType;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import org.springframework.data.annotation.Id;\r\n\r\n    import java.util.Set;\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Author {\r\n\r\n    @Id\r\n    private String id;\r\n\r\n    private UserType userType;\r\n    private Set&lt;Genre&gt; preferences;\r\n    private OnlineLinks onlineLinks;\r\n    private Set&lt;String&gt; authorImages;\r\n    private String primaryImageUrl;\r\n    private Set&lt;String&gt; aboutBooks;\r\n    private Set&lt;String&gt; bookReviewed;\r\n    private Long achievedPoints;\r\n}\r\n\r\n**Author Repository**\r\n\r\n    package com.bookdekho.application.repository;\r\n\r\n    import com.bookdekho.application.model.Author;\r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    @Repository\r\n    public interface AuthorRepository extends MongoRepository&lt;Author, String&gt; {\r\n    \r\n    }\r\n\r\n**Author Service**\r\n\r\n    package com.bookdekho.application.service;\r\n\r\n    import com.bookdekho.application.dto.AuthorDTO;\r\n    import com.bookdekho.application.model.Author;\r\n    import org.springframework.data.domain.Page;\r\n\r\n    public interface AuthorService {\r\n\r\n    AuthorDTO addAuthor(AuthorDTO authorDTO);\r\n\r\n    AuthorDTO updateAuthor(String userId, AuthorDTO authorDTO);\r\n\r\n    AuthorDTO getAuthorById(String authorId);\r\n\r\n    Page&lt;Author&gt; getAllAuthors(int page, int size);\r\n\r\n    void deleteAuthorById(String authorId);\r\n\r\n}\r\n\r\n**Author Service Impl**\r\n\r\n    package com.bookdekho.application.serviceimpl;\r\n\r\n    import com.bookdekho.application.dto.AuthorDTO;\r\n    import com.bookdekho.application.exception.EntityNotFoundException;\r\n    import com.bookdekho.application.model.Author;\r\n    import com.bookdekho.application.repository.AuthorRepository;\r\n    import com.bookdekho.application.service.AuthorService;\r\n    import org.springframework.beans.BeanUtils;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.PageRequest;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    @Service\r\n    public class AuthorServiceImpl implements AuthorService {\r\n\r\n    @Autowired\r\n    private AuthorRepository authorRepository;\r\n\r\n    @Override\r\n    public AuthorDTO addAuthor(AuthorDTO authorDTO) {\r\n        Author author = new Author();\r\n        BeanUtils.copyProperties(authorDTO,author);\r\n        authorRepository.save(author);\r\n        BeanUtils.copyProperties(author,authorDTO);\r\n        return authorDTO;\r\n    }\r\n\r\n    @Override\r\n    public AuthorDTO updateAuthor(String authorId, AuthorDTO authorDTO) {\r\n        Author author = authorRepository.findById(authorId).orElseThrow(EntityNotFoundException:: new);\r\n        BeanUtils.copyProperties(authorDTO,author);\r\n        authorRepository.save(author);\r\n        BeanUtils.copyProperties(author, authorDTO);\r\n        return authorDTO;\r\n    }\r\n\r\n    @Override\r\n    public AuthorDTO getAuthorById(String authorId) {\r\n        Author author = authorRepository.findById(authorId).orElseThrow(EntityNotFoundException :: new);\r\n        AuthorDTO authorDTO = new AuthorDTO();\r\n        BeanUtils.copyProperties(author, authorDTO);\r\n        return authorDTO;\r\n    }\r\n\r\n    @Override\r\n    public Page&lt;Author&gt; getAllAuthors(int page, int size) {\r\n        Pageable pageable = PageRequest.of(page,size);\r\n        return authorRepository.findAll(pageable);\r\n    }\r\n\r\n    @Override\r\n    public void deleteAuthorById(String authorId) {\r\n        authorRepository.deleteById(authorId);\r\n    }\r\n\r\n}\r\n\r\n\r\n","title":"MongoDb Atlas : Cannot resolve reference to bean &#39;mongoTemplate&#39; while setting bean property &#39;mongoOperations&#39;","body":"<p>I am facing this exception in my project. I tried to connect my project with mongodb atlas, can any one  please help me resolve this issue. Written the atlas configuration in application.properties file = spring.data.mongodb.uri = url with updated password.</p>\n<p><strong>Exception</strong></p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authorServiceImpl': Unsatisfied dependency expressed through field 'authorRepository': Error creating bean with name 'authorRepository' defined in com.bookdekho.application.repository.AuthorRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'\n</code></pre>\n<p><strong>Author model</strong></p>\n<pre><code>package com.bookdekho.application.model;\n\nimport com.bookdekho.application.enums.Genre;\nimport com.bookdekho.application.enums.UserType;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.Id;\n\nimport java.util.Set;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Author {\n\n@Id\nprivate String id;\n\nprivate UserType userType;\nprivate Set&lt;Genre&gt; preferences;\nprivate OnlineLinks onlineLinks;\nprivate Set&lt;String&gt; authorImages;\nprivate String primaryImageUrl;\nprivate Set&lt;String&gt; aboutBooks;\nprivate Set&lt;String&gt; bookReviewed;\nprivate Long achievedPoints;\n</code></pre>\n<p>}</p>\n<p><strong>Author Repository</strong></p>\n<pre><code>package com.bookdekho.application.repository;\n\nimport com.bookdekho.application.model.Author;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface AuthorRepository extends MongoRepository&lt;Author, String&gt; {\n\n}\n</code></pre>\n<p><strong>Author Service</strong></p>\n<pre><code>package com.bookdekho.application.service;\n\nimport com.bookdekho.application.dto.AuthorDTO;\nimport com.bookdekho.application.model.Author;\nimport org.springframework.data.domain.Page;\n\npublic interface AuthorService {\n\nAuthorDTO addAuthor(AuthorDTO authorDTO);\n\nAuthorDTO updateAuthor(String userId, AuthorDTO authorDTO);\n\nAuthorDTO getAuthorById(String authorId);\n\nPage&lt;Author&gt; getAllAuthors(int page, int size);\n\nvoid deleteAuthorById(String authorId);\n</code></pre>\n<p>}</p>\n<p><strong>Author Service Impl</strong></p>\n<pre><code>package com.bookdekho.application.serviceimpl;\n\nimport com.bookdekho.application.dto.AuthorDTO;\nimport com.bookdekho.application.exception.EntityNotFoundException;\nimport com.bookdekho.application.model.Author;\nimport com.bookdekho.application.repository.AuthorRepository;\nimport com.bookdekho.application.service.AuthorService;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class AuthorServiceImpl implements AuthorService {\n\n@Autowired\nprivate AuthorRepository authorRepository;\n\n@Override\npublic AuthorDTO addAuthor(AuthorDTO authorDTO) {\n    Author author = new Author();\n    BeanUtils.copyProperties(authorDTO,author);\n    authorRepository.save(author);\n    BeanUtils.copyProperties(author,authorDTO);\n    return authorDTO;\n}\n\n@Override\npublic AuthorDTO updateAuthor(String authorId, AuthorDTO authorDTO) {\n    Author author = authorRepository.findById(authorId).orElseThrow(EntityNotFoundException:: new);\n    BeanUtils.copyProperties(authorDTO,author);\n    authorRepository.save(author);\n    BeanUtils.copyProperties(author, authorDTO);\n    return authorDTO;\n}\n\n@Override\npublic AuthorDTO getAuthorById(String authorId) {\n    Author author = authorRepository.findById(authorId).orElseThrow(EntityNotFoundException :: new);\n    AuthorDTO authorDTO = new AuthorDTO();\n    BeanUtils.copyProperties(author, authorDTO);\n    return authorDTO;\n}\n\n@Override\npublic Page&lt;Author&gt; getAllAuthors(int page, int size) {\n    Pageable pageable = PageRequest.of(page,size);\n    return authorRepository.findAll(pageable);\n}\n\n@Override\npublic void deleteAuthorById(String authorId) {\n    authorRepository.deleteById(authorId);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath","sendkeys"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1674278855,"post_id":75190530,"comment_id":132685606,"body_markdown":"Create a common method, pass the parameters as the locator and the value to enter, call that method wherever you need to use sendkeys() function.","body":"Create a common method, pass the parameters as the locator and the value to enter, call that method wherever you need to use sendkeys() function."}],"answers":[{"tags":[],"owner":{"account_id":7588042,"reputation":68,"user_id":5756499,"display_name":"Uditha Dissanayake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674284004,"creation_date":1674283672,"answer_id":75191605,"question_id":75190530,"body_markdown":"textbox.sendKeys(&quot;13456,Teena&quot; + Keys.SHIFT + Keys.ENTER + &quot;12378,Tesa&quot; + Keys.SHIFT + Keys.ENTER + &quot;130987,Jhon&quot;);\r\n&lt;br/&gt;&lt;br/&gt;\r\nUse Keys.SHIFT + Keys.ENTER combination to the sendKeys() method.\r\n&lt;br/&gt;&lt;br/&gt;\r\nSimilarly, we can use Keys enum for different non-text keys and pass them to the sendKeys method. The following table has an entry for each of the non-text key present in a keyboard.\r\n&lt;br/&gt;&lt;br/&gt;\r\nRefer - https://artoftesting.com/press-enter-tab-space-arrow-function-keys-in-selenium-webdriver-with-java\r\n","title":"How to pass multiple values in different lines using sendKeys() inside a text box","body":"<p>textbox.sendKeys(&quot;13456,Teena&quot; + Keys.SHIFT + Keys.ENTER + &quot;12378,Tesa&quot; + Keys.SHIFT + Keys.ENTER + &quot;130987,Jhon&quot;);\n<br/><br/>\nUse Keys.SHIFT + Keys.ENTER combination to the sendKeys() method.\n<br/><br/>\nSimilarly, we can use Keys enum for different non-text keys and pass them to the sendKeys method. The following table has an entry for each of the non-text key present in a keyboard.\n<br/><br/>\nRefer - <a href=\"https://artoftesting.com/press-enter-tab-space-arrow-function-keys-in-selenium-webdriver-with-java\" rel=\"nofollow noreferrer\">https://artoftesting.com/press-enter-tab-space-arrow-function-keys-in-selenium-webdriver-with-java</a></p>\n"}],"owner":{"account_id":12177294,"reputation":71,"user_id":8889988,"display_name":"nayansFosgit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75191605,"answer_count":1,"score":0,"last_activity_date":1674284004,"creation_date":1674262263,"question_id":75190530,"body_markdown":"I wanted to pass multiple words in different line on to text box, can anyone help me finding out the solution\r\n\r\nExpected output :\r\n\r\n    13456,Teena\r\n    12378,Tesa\r\n    130987,Jhon\r\n\r\n","title":"How to pass multiple values in different lines using sendKeys() inside a text box","body":"<p>I wanted to pass multiple words in different line on to text box, can anyone help me finding out the solution</p>\n<p>Expected output :</p>\n<pre><code>13456,Teena\n12378,Tesa\n130987,Jhon\n</code></pre>\n"},{"tags":["java","sql-server","mssql-jdbc"],"comments":[{"owner":{"account_id":4713195,"reputation":33148,"user_id":3813116,"display_name":"Sean Lange"},"score":1,"creation_date":1539612178,"post_id":52818451,"comment_id":92554371,"body_markdown":"Don&#39;t use the image datatype. It has been deprecated for almost 15 years now. https://learn.microsoft.com/en-us/sql/t-sql/data-types/ntext-text-and-image-transact-sql?view=sql-server-2017 You should be using varbinary(max) instead.","body":"Don&#39;t use the image datatype. It has been deprecated for almost 15 years now. <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/data-types/ntext-text-and-image-transact-sql?view=sql-server-2017\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/t-sql/data-types/&hellip;</a> You should be using varbinary(max) instead."},{"owner":{"account_id":4713195,"reputation":33148,"user_id":3813116,"display_name":"Sean Lange"},"score":1,"creation_date":1539612229,"post_id":52818451,"comment_id":92554397,"body_markdown":"To the question at hand...it isn&#39;t clear what you want.","body":"To the question at hand...it isn&#39;t clear what you want."},{"owner":{"account_id":4713195,"reputation":33148,"user_id":3813116,"display_name":"Sean Lange"},"score":1,"creation_date":1539612786,"post_id":52818451,"comment_id":92554732,"body_markdown":"I can&#39;t for the life of me determine why somebody would think this question is worthy of an upvote.","body":"I can&#39;t for the life of me determine why somebody would think this question is worthy of an upvote."},{"owner":{"account_id":467449,"reputation":968,"user_id":872846,"accept_rate":78,"display_name":"PastorPL"},"score":1,"creation_date":1539613143,"post_id":52818451,"comment_id":92554964,"body_markdown":"It&#39;s true - it&#39;s not :). Sorry and thanks for pointing out that I would need to redefine my question. Hopefully, now it&#39;s more understandable.","body":"It&#39;s true - it&#39;s not :). Sorry and thanks for pointing out that I would need to redefine my question. Hopefully, now it&#39;s more understandable."}],"answers":[{"tags":[],"owner":{"account_id":8273331,"reputation":6138,"user_id":6220377,"accept_rate":82,"display_name":"Marc Guillot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539614751,"creation_date":1539614013,"answer_id":52819111,"question_id":52818451,"body_markdown":"You can use the [convert][1] SQL function to convert from binary (varbinary) to string (varchar), in order to translate your binary data to and from an string (with its hexadecimal representation).\r\n\r\nThe convert function has a parameter style, that indicates if the string starts with a 0x character or not. I use the value 2 (no 0x character) on these examples.\r\n\r\nFrom binary to string :\r\n\r\n    select convert(varchar(max), my_image, 2) as my_string_representation\r\n    from my_table\r\n\r\nFrom string, back to binary : \r\n\r\n    select convert(varbinary(max), my_string_representation, 2) as my_binary_image\r\n    from my_table\r\n\r\nSo, in order to build your plain-text insert statement, lets suppose that **convert(varchar(max), my_image, 2)** has returned the &#39;49747A696B...&#39; string on a certain record, then your insert statement for that record would be :\r\n\r\n    insert into my_table (my_id, my_image)\r\n                values (25, convert(varbinary(max), &#39;49747A696B...&#39;, 2))\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/t-sql/functions/cast-and-convert-transact-sql?view=sql-server-2017","title":"Generate INSERT for &quot;image&quot; type in MSSQL (Java)","body":"<p>You can use the <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/functions/cast-and-convert-transact-sql?view=sql-server-2017\" rel=\"nofollow noreferrer\">convert</a> SQL function to convert from binary (varbinary) to string (varchar), in order to translate your binary data to and from an string (with its hexadecimal representation).</p>\n\n<p>The convert function has a parameter style, that indicates if the string starts with a 0x character or not. I use the value 2 (no 0x character) on these examples.</p>\n\n<p>From binary to string :</p>\n\n<pre><code>select convert(varchar(max), my_image, 2) as my_string_representation\nfrom my_table\n</code></pre>\n\n<p>From string, back to binary : </p>\n\n<pre><code>select convert(varbinary(max), my_string_representation, 2) as my_binary_image\nfrom my_table\n</code></pre>\n\n<p>So, in order to build your plain-text insert statement, lets suppose that <strong>convert(varchar(max), my_image, 2)</strong> has returned the '49747A696B...' string on a certain record, then your insert statement for that record would be :</p>\n\n<pre><code>insert into my_table (my_id, my_image)\n            values (25, convert(varbinary(max), '49747A696B...', 2))\n</code></pre>\n"}],"owner":{"account_id":467449,"reputation":968,"user_id":872846,"accept_rate":78,"display_name":"PastorPL"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674283931,"creation_date":1539611973,"question_id":52818451,"body_markdown":"I have a database, where one of the table&#39;s column is &quot;image&quot; type. I put there encoded pdf file. \r\n\r\nMy goal is to print in Java Applications Console, INSERT STATEMENT with all data from my table (so to do the same thing as &quot;Generate Script...&quot; does from Management Studio). However, since my &quot;image&quot; column is binary, I don&#39;t know how to encode it to put into INSERT statemnent so this statemement would be executable. \r\n","title":"Generate INSERT for &quot;image&quot; type in MSSQL (Java)","body":"<p>I have a database, where one of the table's column is \"image\" type. I put there encoded pdf file. </p>\n\n<p>My goal is to print in Java Applications Console, INSERT STATEMENT with all data from my table (so to do the same thing as \"Generate Script...\" does from Management Studio). However, since my \"image\" column is binary, I don't know how to encode it to put into INSERT statemnent so this statemement would be executable. </p>\n"},{"tags":["java","visual-studio-code","ant","vscode-extensions"],"comments":[{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1632724913,"post_id":69328757,"comment_id":122560165,"body_markdown":"There&#39;s no such option in VS Code. You may search specific tutorial online about developing Ant application in VS Code .","body":"There&#39;s no such option in VS Code. You may search specific tutorial online about developing Ant application in VS Code ."},{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1635495334,"post_id":69328757,"comment_id":123318816,"body_markdown":"Now java extension only supports maven and gradle. May i know the reason you want this feature that java extension support ant? Does work or study need it?","body":"Now java extension only supports maven and gradle. May i know the reason you want this feature that java extension support ant? Does work or study need it?"},{"owner":{"account_id":10921724,"reputation":159,"user_id":8227653,"display_name":"Alejandro Martinez"},"score":4,"creation_date":1635508034,"post_id":69328757,"comment_id":123323405,"body_markdown":"College. The professor pointed out that we needed to create a &quot;Java with ant&quot; project from netbeans. But I don&#39;t like netbeans. My workaround is creating the project in netbeans and opening in VSCode or IntelliJ.","body":"College. The professor pointed out that we needed to create a &quot;Java with ant&quot; project from netbeans. But I don&#39;t like netbeans. My workaround is creating the project in netbeans and opening in VSCode or IntelliJ."}],"owner":{"account_id":10921724,"reputation":159,"user_id":8227653,"display_name":"Alejandro Martinez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4272,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1674282776,"creation_date":1632592786,"question_id":69328757,"body_markdown":"I want to create  a new &quot;Java with Ant&quot; Application from VSCode just like is done in Apache Netbeans. I installed the required extensions for running Java in VSCode and even the &quot;Apache netbeans language server Extension&quot; but I&#39;m unable to find the option &quot;Java with Ant&quot; when creating a new Java project from VSCode. â\r\nImage from NetBeans:\r\n[Java with ant from NetBeans][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NIr9Q.png","title":"Create Java with Ant Application from VSCode","body":"<p>I want to create  a new &quot;Java with Ant&quot; Application from VSCode just like is done in Apache Netbeans. I installed the required extensions for running Java in VSCode and even the &quot;Apache netbeans language server Extension&quot; but I'm unable to find the option &quot;Java with Ant&quot; when creating a new Java project from VSCode. â\nImage from NetBeans:\n<a href=\"https://i.stack.imgur.com/NIr9Q.png\" rel=\"nofollow noreferrer\">Java with ant from NetBeans</a></p>\n"},{"tags":["java","windows","batch-file","installation"],"comments":[{"owner":{"account_id":12154457,"reputation":766,"user_id":8873770,"accept_rate":80,"display_name":"Jonxag"},"score":0,"creation_date":1674259512,"post_id":75190283,"comment_id":132683973,"body_markdown":"Try with java-installer.exe /s","body":"Try with java-installer.exe /s"},{"owner":{"account_id":9045527,"reputation":37191,"user_id":6738015,"display_name":"Compo"},"score":0,"creation_date":1674260952,"post_id":75190283,"comment_id":132684121,"body_markdown":"The first thing I&#39;d mention is, to the best of my knowledge, for at least a few years now, Oracle forbids anyone from downloading Java in such a manner. Then I&#39;d say the best way is to use a configuration file for installation. Additionaly, the installation options are clearly listed all over the internet, not just for the specific application if using an .exe file, but for Microsoft installers, i.e. .msi files. You have not even told us which you are trying to install, or how the download is working for you. We expect you to submit code and debugging information.","body":"The first thing I&#39;d mention is, to the best of my knowledge, for at least a few years now, Oracle forbids anyone from downloading Java in such a manner. Then I&#39;d say the best way is to use a configuration file for installation. Additionaly, the installation options are clearly listed all over the internet, not just for the specific application if using an .exe file, but for Microsoft installers, i.e. .msi files. You have not even told us which you are trying to install, or how the download is working for you. We expect you to submit code and debugging information."}],"owner":{"account_id":27578017,"reputation":9,"user_id":21047784,"display_name":"Xeon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674282201,"creation_date":1674258359,"question_id":75190283,"body_markdown":"I am writing a Batch to auto-install Modded Minecraft (included everything needed). Installing Java seemed simple enough but I can&#39;t figure out how to install it silently with something like wget.\r\n&lt;br&gt;Example:\r\n```\r\nwget {java download link}\r\n/s java-installer.exe (basically run it silently)\r\nthen wait for it to install (which I also can&#39;t find a good way)\r\nif exist &quot;java.exe&quot; (goto java-installed) else (goto java-install-failed)\r\nthen on to the rest of my code\r\n```\r\n\r\n(Any answers are appreciated)\r\n\r\nI tried to install java from the installer file in the batch but it just opens the file. I don&#39;t really know where to go from there. The ideal process would silently installed it and output the info from the java installer to the same command prompt window and the batch file","title":"Batch File to silently auto-install Java","body":"<p>I am writing a Batch to auto-install Modded Minecraft (included everything needed). Installing Java seemed simple enough but I can't figure out how to install it silently with something like wget.\n<br>Example:</p>\n<pre><code>wget {java download link}\n/s java-installer.exe (basically run it silently)\nthen wait for it to install (which I also can't find a good way)\nif exist &quot;java.exe&quot; (goto java-installed) else (goto java-install-failed)\nthen on to the rest of my code\n</code></pre>\n<p>(Any answers are appreciated)</p>\n<p>I tried to install java from the installer file in the batch but it just opens the file. I don't really know where to go from there. The ideal process would silently installed it and output the info from the java installer to the same command prompt window and the batch file</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7598116,"reputation":369,"user_id":5763677,"display_name":"Enosh Cohen"},"score":0,"creation_date":1674279189,"post_id":75191239,"comment_id":132685639,"body_markdown":"This is very interesting. \n\nMaybe there is an implicit cast\n\nso -&gt; `i += d` &lt;==&gt; `i = i + (int)d`\nhttps://godbolt.org/z/1rbohf7Ts","body":"This is very interesting.   Maybe there is an implicit cast  so -&gt; <code>i += d</code> &lt;==&gt; <code>i = i + (int)d</code> <a href=\"https://godbolt.org/z/1rbohf7Ts\" rel=\"nofollow noreferrer\">godbolt.org/z/1rbohf7Ts</a>"}],"answers":[{"tags":[],"owner":{"account_id":16279079,"reputation":69,"user_id":11755559,"display_name":"Sumit Bikram Maity"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674281208,"creation_date":1674281208,"answer_id":75191461,"question_id":75191239,"body_markdown":"&gt; Here, `+=` does `implicit cast`, where as `+` operator requires\r\n&gt; `explicit cast` for second operand, otherwise it wonât compile.\r\n\r\nSo in the first code, we are assigning the right side part `(k + Math.pow(2,4))` which becomes `double` after additon and assigning it to an `int` type variable at last. And that&#39;s an issue of **lossy conversion**.\r\n\r\n&lt;br&gt;\r\nIf we explain the second code snippet, \r\n\r\n    int k = 0\r\n    k += Math.pow(2, 4);\r\n    System.out.println(k);\r\n\r\nas per the java documentation we can see it&#39;s internal working like this:\r\n\r\n    int k = 0\r\n    k = (int) (k + Math.pow(2, 4));\r\n    System.out.println(k);\r\nYou can see in the doc [here][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se14/html/jls-15.html#jls-15.26.2","title":"Why is the lossy conversion warning inconsistent?","body":"<blockquote>\n<p>Here, <code>+=</code> does <code>implicit cast</code>, where as <code>+</code> operator requires\n<code>explicit cast</code> for second operand, otherwise it wonât compile.</p>\n</blockquote>\n<p>So in the first code, we are assigning the right side part <code>(k + Math.pow(2,4))</code> which becomes <code>double</code> after additon and assigning it to an <code>int</code> type variable at last. And that's an issue of <strong>lossy conversion</strong>.</p>\n<br>\nIf we explain the second code snippet, \n<pre><code>int k = 0\nk += Math.pow(2, 4);\nSystem.out.println(k);\n</code></pre>\n<p>as per the java documentation we can see it's internal working like this:</p>\n<pre><code>int k = 0\nk = (int) (k + Math.pow(2, 4));\nSystem.out.println(k);\n</code></pre>\n<p>You can see in the doc <a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-15.html#jls-15.26.2\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":27585195,"reputation":3,"user_id":21053527,"display_name":"Arham Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75191461,"answer_count":1,"score":0,"last_activity_date":1674281208,"creation_date":1674277482,"question_id":75191239,"body_markdown":"The code below shows an error due to lossy conversion because math.pow returns a double, and I store the answer in an integer.\r\n\r\n```\r\nint k = 0\r\nk = k + Math.pow(2, 4);\r\nSystem.out.println(k);\r\n```\r\n\r\nbut this code:\r\n```\r\nint k = 0\r\nk += Math.pow(2, 4);\r\nSystem.out.println(k);\r\n```\r\n\r\nShows no error, why?\r\n \r\nMy question is: Why is there no error in the second code?","title":"Why is the lossy conversion warning inconsistent?","body":"<p>The code below shows an error due to lossy conversion because math.pow returns a double, and I store the answer in an integer.</p>\n<pre><code>int k = 0\nk = k + Math.pow(2, 4);\nSystem.out.println(k);\n</code></pre>\n<p>but this code:</p>\n<pre><code>int k = 0\nk += Math.pow(2, 4);\nSystem.out.println(k);\n</code></pre>\n<p>Shows no error, why?</p>\n<p>My question is: Why is there no error in the second code?</p>\n"},{"tags":["java","go","pass-by-reference","pass-by-value","pass-by-pointer"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1674251477,"post_id":75185425,"comment_id":132682620,"body_markdown":"Note that [Java passes references by value](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value).","body":"Note that <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Java passes references by value</a>."},{"owner":{"account_id":3274563,"reputation":6436,"user_id":2757035,"accept_rate":57,"display_name":"underscore_d"},"score":1,"creation_date":1674251861,"post_id":75185425,"comment_id":132682712,"body_markdown":"likely dupe of [Passing by reference and value in Go to functions](https://stackoverflow.com/questions/47296325/passing-by-reference-and-value-in-go-to-functions)","body":"likely dupe of <a href=\"https://stackoverflow.com/questions/47296325/passing-by-reference-and-value-in-go-to-functions\">Passing by reference and value in Go to functions</a>"},{"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"score":0,"creation_date":1674252410,"post_id":75185425,"comment_id":132682840,"body_markdown":"@underscore_d I need a more systematic answer: What is reference, pointer and value? it needs to be answered by using different language as examples Go is passing new value for pointer or prmitive type, which makes sense. But for java, it should also pass the reference by value,but why does it never get a new address allocated? see here: https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value","body":"@underscore_d I need a more systematic answer: What is reference, pointer and value? it needs to be answered by using different language as examples Go is passing new value for pointer or prmitive type, which makes sense. But for java, it should also pass the reference by value,but why does it never get a new address allocated? see here: <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a>"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1674254255,"post_id":75185425,"comment_id":132683210,"body_markdown":"might just be linguistics?... but it boils down to the same thing...you&#39;re passing a reference to an object (which boils down to pointers at some level) when you&#39;re passing by reference... you can also pass a new copy of that object... which is usually called by value.  I don&#39;t think Java is strictly one or the other... maybe the real concern is whether the original object is/can be modified by other scopes?","body":"might just be linguistics?... but it boils down to the same thing...you&#39;re passing a reference to an object (which boils down to pointers at some level) when you&#39;re passing by reference... you can also pass a new copy of that object... which is usually called by value.  I don&#39;t think Java is strictly one or the other... maybe the real concern is whether the original object is/can be modified by other scopes?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1674255674,"post_id":75185425,"comment_id":132683448,"body_markdown":"Both Go and Java have garbage collectors which manage memory, so dealing directly with memory addresses is handled by their run-times.  So pointers are not used in code, but set by the run-time (and compilers?).   Pointers have a pretty precise definition... it&#39;s a handle (reference) to a specific piece of memory(which can hold a value).  The terms &quot;pass-by-value&quot; and &quot;pass-by-reference&quot; are a bit more fuzzy. In Java I think there&#39;s differences when it comes to primitives and other types...  objects can have many types... (even answering what type is this object gets funny)","body":"Both Go and Java have garbage collectors which manage memory, so dealing directly with memory addresses is handled by their run-times.  So pointers are not used in code, but set by the run-time (and compilers?).   Pointers have a pretty precise definition... it&#39;s a handle (reference) to a specific piece of memory(which can hold a value).  The terms &quot;pass-by-value&quot; and &quot;pass-by-reference&quot; are a bit more fuzzy. In Java I think there&#39;s differences when it comes to primitives and other types...  objects can have many types... (even answering what type is this object gets funny)"},{"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"score":0,"creation_date":1674281326,"post_id":75185425,"comment_id":132685823,"body_markdown":"@pcalkins maybe you are right. But as a programmer, I really dislike the things which are fuzzy. I like things that can be proved and verified by code. I need to understand what they are internally and at lower level. otherwise it is very easy to make mistakes during coding. value, reference and pointer are used by a lot of languages. If we can have a detailed explanation about these general concept shared by all languages, it is like a universal tool","body":"@pcalkins maybe you are right. But as a programmer, I really dislike the things which are fuzzy. I like things that can be proved and verified by code. I need to understand what they are internally and at lower level. otherwise it is very easy to make mistakes during coding. value, reference and pointer are used by a lot of languages. If we can have a detailed explanation about these general concept shared by all languages, it is like a universal tool"},{"owner":{"account_id":5353945,"reputation":27603,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1674285930,"post_id":75185425,"comment_id":132686264,"body_markdown":"@pcalkins There is nothing fuzzy about pass-by-value and pass-by-reference. Those terms are precise definitions that are valid across languages. Besides them there are other  kinds of passing arguments, but those two are the most commonly used. What is usually confusing to people is that those terms use _value_ and _reference_ but in that context it is not related to _reference or value types_. but to how is part of the parameter that is passed on to the method through stack.","body":"@pcalkins There is nothing fuzzy about pass-by-value and pass-by-reference. Those terms are precise definitions that are valid across languages. Besides them there are other  kinds of passing arguments, but those two are the most commonly used. What is usually confusing to people is that those terms use <i>value</i> and <i>reference</i> but in that context it is not related to <i>reference or value types</i>. but to how is part of the parameter that is passed on to the method through stack."},{"owner":{"account_id":5353945,"reputation":27603,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1674286062,"post_id":75185425,"comment_id":132686275,"body_markdown":"In that light reference types consist of two parts: the reference itself and the data that reference points to. When passing parameters pass-by-value and pass-by-reference refer only to the first part - how is reference itself passed. They don&#39;t care about other data allocated in some other place. When we say Java is pass-by-value that means the reference part of the parameter is copied (passed as value) to the method.","body":"In that light reference types consist of two parts: the reference itself and the data that reference points to. When passing parameters pass-by-value and pass-by-reference refer only to the first part - how is reference itself passed. They don&#39;t care about other data allocated in some other place. When we say Java is pass-by-value that means the reference part of the parameter is copied (passed as value) to the method."},{"owner":{"account_id":5353945,"reputation":27603,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1674286568,"post_id":75185425,"comment_id":132686327,"body_markdown":"@Stan You Java example is bad. It is showing the address of the allocated object not the address of the variable or parameter itself. You can verify this by retrieving address  of `Object obj2 = obj;` which will be the same as the address of `obj`. Integer object instances are not held in duplicates and what you get here is not address of primitive integer, but its boxed Integer object which is the same object in the both occasions because you are boxing same integer value.","body":"@Stan You Java example is bad. It is showing the address of the allocated object not the address of the variable or parameter itself. You can verify this by retrieving address  of <code>Object obj2 = obj;</code> which will be the same as the address of <code>obj</code>. Integer object instances are not held in duplicates and what you get here is not address of primitive integer, but its boxed Integer object which is the same object in the both occasions because you are boxing same integer value."},{"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"score":0,"creation_date":1674364212,"post_id":75185425,"comment_id":132697074,"body_markdown":"@DalijaPrasnikar Hi you are right. This java example is bad. it is hard to verify the address of var in Java","body":"@DalijaPrasnikar Hi you are right. This java example is bad. it is hard to verify the address of var in Java"},{"owner":{"account_id":5353945,"reputation":27603,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1674375471,"post_id":75185425,"comment_id":132698111,"body_markdown":"That is because Java does not use raw pointers and memory address is not something developers should be concerned about there. There are easier ways to confirm whether something is pass-by-reference or pass-by-value (besides reading documentation). Pass an object to method and then try to assign null to that parameter or new object. And then check what you have in the variable you passed to the method. If you get null or ne object it is pass-by-reference.","body":"That is because Java does not use raw pointers and memory address is not something developers should be concerned about there. There are easier ways to confirm whether something is pass-by-reference or pass-by-value (besides reading documentation). Pass an object to method and then try to assign null to that parameter or new object. And then check what you have in the variable you passed to the method. If you get null or ne object it is pass-by-reference."},{"owner":{"account_id":5353945,"reputation":27603,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":1,"creation_date":1674375765,"post_id":75185425,"comment_id":132698147,"body_markdown":"Note: There are some languages, Swift for instance, that does not have pass-by-reference, but in-out parameter which behaves like pass-by-reference, but has different mechanism behind and some slightly different behavior is some circumstances. So the above test is not fool proof.","body":"Note: There are some languages, Swift for instance, that does not have pass-by-reference, but in-out parameter which behaves like pass-by-reference, but has different mechanism behind and some slightly different behavior is some circumstances. So the above test is not fool proof."},{"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"score":0,"creation_date":1674379926,"post_id":75185425,"comment_id":132698639,"body_markdown":"@DalijaPrasnikar Thanks for your note. I really appreciate it","body":"@DalijaPrasnikar Thanks for your note. I really appreciate it"}],"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1674293499,"answer_count":0,"score":0,"last_activity_date":1674281063,"creation_date":1674225133,"question_id":75185425,"body_markdown":"I am recently studying golang and realize that everything passed to a go function get a new copy of same type with different address? Is it something what we call pass by value?\r\n\r\nhttps://go.dev/play/p/eNvezQZrn8i\r\n```\r\npackage main\r\n\r\nimport &quot;fmt&quot;\r\n\r\nfunc fn(m map[int]int, s []int, i int) {\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;s)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;i)\r\n\r\n\tm = make(map[int]int)\r\n\ts = make([]int, 0)\r\n\ti = 1\r\n\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;s)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;i)\r\n}\r\n\r\nfunc main() {\r\n\tvar m map[int]int\r\n\tvar s []int\r\n\tvar i int\r\n\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;s)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;i)\r\n\r\n\tfn(m, s, i)\r\n\tfmt.Println(m == nil)\r\n\tfmt.Println(s == nil)\r\n\tfmt.Println(i == 0)\r\n\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;s)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;i)\r\n}\r\n\r\n```\r\nOutput: \r\n```\r\n0xc00011a018 \r\n0x0 \r\n0xc000116018 \r\n0xc000122000 \r\n0xc00011a028 \r\n0xc000116030 \r\n0xc000122008 \r\n0xc00011a028 \r\n0xc000116030 \r\n0xc000122008 \r\ntrue\r\ntrue\r\ntrue\r\n0xc00011a018 \r\n0xc000116018 \r\n0xc000122000 \r\n\r\n```\r\n\r\nSo basically everything gets a new address unless we directly pass in the address like below:\r\n```\r\npackage main\r\n\r\nimport &quot;fmt&quot;\r\n\r\nfunc fn(m *map[int]int, s *[]int, i *int) {\r\n\tfmt.Printf(&quot;%p \\n&quot;, m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, s)\r\n\tfmt.Printf(&quot;%p \\n&quot;, i)\r\n\r\n\t*m = make(map[int]int)\r\n\t*s = make([]int, 0)\r\n\t*i = 1\r\n\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;s)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;i)\r\n}\r\n\r\nfunc main() {\r\n\tvar m map[int]int\r\n\tvar s []int\r\n\tvar i int\r\n\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;s)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;i)\r\n\r\n\tfn(&amp;m, &amp;s, &amp;i)\r\n\tfmt.Println(m == nil)\r\n\tfmt.Println(s == nil)\r\n\tfmt.Println(i == 0)\r\n\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;m)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;s)\r\n\tfmt.Printf(&quot;%p \\n&quot;, &amp;i)\r\n}\r\n\r\n```\r\nhttps://go.dev/play/p/QLSBQd4Dbe0\r\noutput\r\n```\r\n0xc000012028 \r\n0xc000010030 \r\n0xc00001c030 \r\n0xc000012028 \r\n0xc000010030 \r\n0xc00001c030 \r\n0xc000012038 \r\n0xc000012040 \r\n0xc000012048 \r\nfalse\r\nfalse\r\nfalse\r\n0xc000012028 \r\n0xc000010030 \r\n0xc00001c030 \r\n```\r\nGolang still behaves consistently up to now.\r\n\r\n**But as for java, everything is passed by the exact memory address:**\r\n```\r\npublic class TestReferenceVsPointer {\r\n    public static void main(String[] args) {\r\n        Object obj = new Object();\r\n        int i = 1;\r\n        System.out.println(&quot;Object Memory address: &quot; + VM.current().addressOf(obj));\r\n        System.out.println(&quot;int Memory address: &quot; + VM.current().addressOf(i));\r\n\r\n    }\r\n\r\n    public static void print(Object obj, int i){\r\n        System.out.println(&quot;Object Memory address: &quot; + VM.current().addressOf(obj));\r\n        System.out.println(&quot;int Memory address: &quot; + VM.current().addressOf(i));\r\n    }\r\n}\r\n```\r\n[![enter image description here][3]][3]\r\n\r\nThis is really against my common sense. AS I always thought in java object is passed by pointer but this is apparently not pointer because it still has the same address as the argument.\r\nAs for primitive value will get a new copy and new address. But it is still same address for the primitive type.\r\n\r\n**Both java and golang have pass by value but why are they different?**\r\n\r\nCan anyone give me a clear definition as to what reference, value and pointer are and **what the above three examples use: reference, value and pointer?** It is better that you can use different languages to answer it\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fIE12.png\r\n  [2]: https://i.stack.imgur.com/spm9V.png\r\n  [3]: https://i.stack.imgur.com/uaNz8.png","title":"What is value, reference vs pointer and what these three example used to pass?","body":"<p>I am recently studying golang and realize that everything passed to a go function get a new copy of same type with different address? Is it something what we call pass by value?</p>\n<p><a href=\"https://go.dev/play/p/eNvezQZrn8i\" rel=\"nofollow noreferrer\">https://go.dev/play/p/eNvezQZrn8i</a></p>\n<pre><code>package main\n\nimport &quot;fmt&quot;\n\nfunc fn(m map[int]int, s []int, i int) {\n    fmt.Printf(&quot;%p \\n&quot;, &amp;m)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;s)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;i)\n\n    m = make(map[int]int)\n    s = make([]int, 0)\n    i = 1\n\n    fmt.Printf(&quot;%p \\n&quot;, &amp;m)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;s)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;i)\n}\n\nfunc main() {\n    var m map[int]int\n    var s []int\n    var i int\n\n    fmt.Printf(&quot;%p \\n&quot;, &amp;m)\n    fmt.Printf(&quot;%p \\n&quot;, m)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;s)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;i)\n\n    fn(m, s, i)\n    fmt.Println(m == nil)\n    fmt.Println(s == nil)\n    fmt.Println(i == 0)\n\n    fmt.Printf(&quot;%p \\n&quot;, &amp;m)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;s)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;i)\n}\n\n</code></pre>\n<p>Output:</p>\n<pre><code>0xc00011a018 \n0x0 \n0xc000116018 \n0xc000122000 \n0xc00011a028 \n0xc000116030 \n0xc000122008 \n0xc00011a028 \n0xc000116030 \n0xc000122008 \ntrue\ntrue\ntrue\n0xc00011a018 \n0xc000116018 \n0xc000122000 \n\n</code></pre>\n<p>So basically everything gets a new address unless we directly pass in the address like below:</p>\n<pre><code>package main\n\nimport &quot;fmt&quot;\n\nfunc fn(m *map[int]int, s *[]int, i *int) {\n    fmt.Printf(&quot;%p \\n&quot;, m)\n    fmt.Printf(&quot;%p \\n&quot;, s)\n    fmt.Printf(&quot;%p \\n&quot;, i)\n\n    *m = make(map[int]int)\n    *s = make([]int, 0)\n    *i = 1\n\n    fmt.Printf(&quot;%p \\n&quot;, &amp;m)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;s)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;i)\n}\n\nfunc main() {\n    var m map[int]int\n    var s []int\n    var i int\n\n    fmt.Printf(&quot;%p \\n&quot;, &amp;m)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;s)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;i)\n\n    fn(&amp;m, &amp;s, &amp;i)\n    fmt.Println(m == nil)\n    fmt.Println(s == nil)\n    fmt.Println(i == 0)\n\n    fmt.Printf(&quot;%p \\n&quot;, &amp;m)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;s)\n    fmt.Printf(&quot;%p \\n&quot;, &amp;i)\n}\n\n</code></pre>\n<p><a href=\"https://go.dev/play/p/QLSBQd4Dbe0\" rel=\"nofollow noreferrer\">https://go.dev/play/p/QLSBQd4Dbe0</a>\noutput</p>\n<pre><code>0xc000012028 \n0xc000010030 \n0xc00001c030 \n0xc000012028 \n0xc000010030 \n0xc00001c030 \n0xc000012038 \n0xc000012040 \n0xc000012048 \nfalse\nfalse\nfalse\n0xc000012028 \n0xc000010030 \n0xc00001c030 \n</code></pre>\n<p>Golang still behaves consistently up to now.</p>\n<p><strong>But as for java, everything is passed by the exact memory address:</strong></p>\n<pre><code>public class TestReferenceVsPointer {\n    public static void main(String[] args) {\n        Object obj = new Object();\n        int i = 1;\n        System.out.println(&quot;Object Memory address: &quot; + VM.current().addressOf(obj));\n        System.out.println(&quot;int Memory address: &quot; + VM.current().addressOf(i));\n\n    }\n\n    public static void print(Object obj, int i){\n        System.out.println(&quot;Object Memory address: &quot; + VM.current().addressOf(obj));\n        System.out.println(&quot;int Memory address: &quot; + VM.current().addressOf(i));\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uaNz8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uaNz8.png\" alt=\"enter image description here\" /></a></p>\n<p>This is really against my common sense. AS I always thought in java object is passed by pointer but this is apparently not pointer because it still has the same address as the argument.\nAs for primitive value will get a new copy and new address. But it is still same address for the primitive type.</p>\n<p><strong>Both java and golang have pass by value but why are they different?</strong></p>\n<p>Can anyone give me a clear definition as to what reference, value and pointer are and <strong>what the above three examples use: reference, value and pointer?</strong> It is better that you can use different languages to answer it</p>\n"},{"tags":["java","asynchronous","project-reactor","reactive"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1674310280,"post_id":75190486,"comment_id":132689605,"body_markdown":"The threading model is a little complex. Does [this explanation](https://stackoverflow.com/a/75127969/2678097) answers your question ?","body":"The threading model is a little complex. Does <a href=\"https://stackoverflow.com/a/75127969/2678097\">this explanation</a> answers your question ?"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1674324184,"post_id":75190486,"comment_id":132692206,"body_markdown":"take a look to the similar question and my answer. In short, there&#39;s no blocking code in your snippet https://stackoverflow.com/questions/75071304/java-reactor-suscribe-is-sometime-blocking-sometime-not/75071744#75071744","body":"take a look to the similar question and my answer. In short, there&#39;s no blocking code in your snippet <a href=\"https://stackoverflow.com/questions/75071304/java-reactor-suscribe-is-sometime-blocking-sometime-not/75071744#75071744\" title=\"java reactor suscribe is sometime blocking sometime not\">stackoverflow.com/questions/75071304/&hellip;</a>"},{"owner":{"account_id":20466815,"reputation":3,"user_id":15018132,"display_name":"User198810"},"score":0,"creation_date":1674343116,"post_id":75190486,"comment_id":132695303,"body_markdown":"Thanks @kerbermeister.\nIn the real world, I have to load tons of data(from DB/web service) while the application starts up.\nThis causes the application for a slow startup. My intention was to let this code run in the background without affecting the startup and cache it.\nI will use those data later in my program. I don&#39;t want to load the data once the application has started. I was under the assumption\nthat I don&#39;t have to use any background thread or a separate process to load the data.\nThis will be handled by an asynchronous framework.","body":"Thanks @kerbermeister. In the real world, I have to load tons of data(from DB/web service) while the application starts up. This causes the application for a slow startup. My intention was to let this code run in the background without affecting the startup and cache it. I will use those data later in my program. I don&#39;t want to load the data once the application has started. I was under the assumption that I don&#39;t have to use any background thread or a separate process to load the data. This will be handled by an asynchronous framework."}],"owner":{"account_id":20466815,"reputation":3,"user_id":15018132,"display_name":"User198810"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674278604,"creation_date":1674261309,"question_id":75190486,"body_markdown":"I am quite new to reactive programming. I understood that it won&#39;t block the code for large data retrieval. To state that, I wrote the below code. \r\n\r\n\r\n```\r\nimport reactor.core.publisher.Flux;\r\n\r\npublic class ProjectReactorExamples {\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;started &quot; +Thread.currentThread().getName());\t\t\r\n\t\tFlux.range(1,10).subscribe(data -&gt; print(data));\r\n\t\tSystem.out.println(&quot;Finished&quot;);\r\n\t  }\r\n\t\r\n\tprivate static void print(long data) {\t\t\r\n\t\tSystem.out.println(&quot;Printing &quot;+data+ &quot;with the thread &quot;+ Thread.currentThread().getName());\t\t\r\n\t}\r\n}\r\n```\r\n\r\nIn the below code I was expecting the output as\r\n```\r\n&quot;Started&quot;\r\n&quot;Finished&quot;\r\n&quot;print 1 -10 &quot; //printing 1-10\r\n```\r\n\r\nBut I am always getting the output in a sequential manner which means the &#39;Finished ..&#39; output is always showing after subscribe is completed. Here I can see a blocking. How do I rewrite this in order to see &#39;Finished&#39; as second and subscribed data as last.","title":"why the below code is blocking in project reactor","body":"<p>I am quite new to reactive programming. I understood that it won't block the code for large data retrieval. To state that, I wrote the below code.</p>\n<pre><code>import reactor.core.publisher.Flux;\n\npublic class ProjectReactorExamples {\n    public static void main(String[] args) {\n        System.out.println(&quot;started &quot; +Thread.currentThread().getName());       \n        Flux.range(1,10).subscribe(data -&gt; print(data));\n        System.out.println(&quot;Finished&quot;);\n      }\n    \n    private static void print(long data) {      \n        System.out.println(&quot;Printing &quot;+data+ &quot;with the thread &quot;+ Thread.currentThread().getName());     \n    }\n}\n</code></pre>\n<p>In the below code I was expecting the output as</p>\n<pre><code>&quot;Started&quot;\n&quot;Finished&quot;\n&quot;print 1 -10 &quot; //printing 1-10\n</code></pre>\n<p>But I am always getting the output in a sequential manner which means the 'Finished ..' output is always showing after subscribe is completed. Here I can see a blocking. How do I rewrite this in order to see 'Finished' as second and subscribed data as last.</p>\n"},{"tags":["java","spring","unit-testing"],"comments":[{"owner":{"account_id":1949371,"reputation":997,"user_id":1753823,"display_name":"Jayesh"},"score":0,"creation_date":1674139028,"post_id":75173863,"comment_id":132654499,"body_markdown":"Your problem is unclear to me. are you seeing a NullPointerException. If so, at what line in your test or code ?","body":"Your problem is unclear to me. are you seeing a NullPointerException. If so, at what line in your test or code ?"},{"owner":{"account_id":3567308,"reputation":774,"user_id":2978502,"display_name":"dhanyn10"},"score":0,"creation_date":1674145581,"post_id":75173863,"comment_id":132656943,"body_markdown":"@Jayesh updated, please help","body":"@Jayesh updated, please help"}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674148044,"creation_date":1674141068,"answer_id":75174362,"question_id":75173863,"body_markdown":"The first thing you have to do is to clearly understand what your method `getAdmin` is doing and secondly clearly identify your dependencies and how they interact in the main method.\r\nTo finish, you have to define what you want to test, in your case you have two cases. The `if` case and the `else` case. \r\n\r\nIn your test you must define the behavior of your mock with a `when().thenReturn()...`\r\n\r\nYour test method will look like this:\r\n\r\n\r\n    @WebMvcTest(value = UserController.class)\r\n    class OrderApplicationTests {\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n        \r\n        @MockBean\r\n        private UserRepository userRepo;\r\n    \r\n        @Test\r\n        void contextLoads_whenNotNull() throws Exception{\r\n    \r\n            User myadmin = new User();\r\n            myadmin.setUsername(&quot;admin&quot;);\r\n            myadmin.setFirstname(&quot;admin&quot;);\r\n            myadmin.setLastname(&quot;admin&quot;);\r\n            myadmin.setEmail(&quot;admin@admin&quot;);\r\n            myadmin.setRole(&quot;admin&quot;);\r\n    \r\n            when(userRepo).thenReturn(myadmin)\r\n    \r\n            mockMvc.perform(get(&quot;/users/admin&quot;)\r\n                            .contentType(MediaType.APPLICATION_JSON))\r\n                    .andExpectAll(\r\n                            status().isOk(),\r\n                            jsonPath(&quot;$.message&quot;, containsString(&quot;admin generated&quot;))\r\n                    );\r\n        }\r\n\r\n        @Test\r\n        void contextLoads_whenIsNull() throws Exception{\r\n\r\n            when(userRepo).thenReturn(null)\r\n            mockMvc.perform(get(&quot;/users/admin&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON))\r\n                .andExpectAll(\r\n                        status().isOk(),\r\n                        jsonPath(&quot;$.message&quot;, containsString(&quot;admin only generated once&quot;))\r\n                );\r\n        }\r\n    }\r\n\r\nFor more details: https://www.bezkoder.com/spring-boot-webmvctest/","title":"Java Unit Testing Http Get test user auto generate","body":"<p>The first thing you have to do is to clearly understand what your method <code>getAdmin</code> is doing and secondly clearly identify your dependencies and how they interact in the main method.\nTo finish, you have to define what you want to test, in your case you have two cases. The <code>if</code> case and the <code>else</code> case.</p>\n<p>In your test you must define the behavior of your mock with a <code>when().thenReturn()...</code></p>\n<p>Your test method will look like this:</p>\n<pre><code>@WebMvcTest(value = UserController.class)\nclass OrderApplicationTests {\n\n    @Autowired\n    private MockMvc mockMvc;\n    \n    @MockBean\n    private UserRepository userRepo;\n\n    @Test\n    void contextLoads_whenNotNull() throws Exception{\n\n        User myadmin = new User();\n        myadmin.setUsername(&quot;admin&quot;);\n        myadmin.setFirstname(&quot;admin&quot;);\n        myadmin.setLastname(&quot;admin&quot;);\n        myadmin.setEmail(&quot;admin@admin&quot;);\n        myadmin.setRole(&quot;admin&quot;);\n\n        when(userRepo).thenReturn(myadmin)\n\n        mockMvc.perform(get(&quot;/users/admin&quot;)\n                        .contentType(MediaType.APPLICATION_JSON))\n                .andExpectAll(\n                        status().isOk(),\n                        jsonPath(&quot;$.message&quot;, containsString(&quot;admin generated&quot;))\n                );\n    }\n\n    @Test\n    void contextLoads_whenIsNull() throws Exception{\n\n        when(userRepo).thenReturn(null)\n        mockMvc.perform(get(&quot;/users/admin&quot;)\n                    .contentType(MediaType.APPLICATION_JSON))\n            .andExpectAll(\n                    status().isOk(),\n                    jsonPath(&quot;$.message&quot;, containsString(&quot;admin only generated once&quot;))\n            );\n    }\n}\n</code></pre>\n<p>For more details: <a href=\"https://www.bezkoder.com/spring-boot-webmvctest/\" rel=\"nofollow noreferrer\">https://www.bezkoder.com/spring-boot-webmvctest/</a></p>\n"},{"tags":[],"owner":{"account_id":3567308,"reputation":774,"user_id":2978502,"display_name":"dhanyn10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674277696,"creation_date":1674277696,"answer_id":75191249,"question_id":75173863,"body_markdown":"previously i am laravel user. When i run unit testing, i dont need to run the apps before i can run testing scenario. So i think, the error log tell me that the mongo database is not connected to apps, even the apps itself is not running yet.\r\n\r\nSo, based on my case, i need to make sure **run the apps first, not build**. If i only build the apps, the program will remain error.  \r\n\r\nBy default, when you need to build the apps, you need to make sure the apps is already running too. Spring Boot will also run the test case before build the jar file.\r\n\r\nfirst, run the apps\r\n```bash\r\nmvn spring-boot:run\r\n```\r\nthen,  \r\n- you can run only the test case\r\n    ```bash\r\n    mvn test\r\n    ```\r\n- or build your apps\r\n    ```bash\r\n    mvn clean package\r\n    ```","title":"Java Unit Testing Http Get test user auto generate","body":"<p>previously i am laravel user. When i run unit testing, i dont need to run the apps before i can run testing scenario. So i think, the error log tell me that the mongo database is not connected to apps, even the apps itself is not running yet.</p>\n<p>So, based on my case, i need to make sure <strong>run the apps first, not build</strong>. If i only build the apps, the program will remain error.</p>\n<p>By default, when you need to build the apps, you need to make sure the apps is already running too. Spring Boot will also run the test case before build the jar file.</p>\n<p>first, run the apps</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn spring-boot:run\n</code></pre>\n<p>then,</p>\n<ul>\n<li>you can run only the test case\n<pre class=\"lang-bash prettyprint-override\"><code>mvn test\n</code></pre>\n</li>\n<li>or build your apps\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean package\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":3567308,"reputation":774,"user_id":2978502,"display_name":"dhanyn10"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674277696,"creation_date":1674138679,"question_id":75173863,"body_markdown":"I write function in rest to automatically generate user with admin role. Here&#39;s the function:\r\n\r\nUserController.java\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;users&quot;)\r\npublic class UserController {\r\n\r\n\t@Autowired\r\n\tprivate UserRepository userRepo;\r\n\t@Autowired\r\n\tprivate TokenRepository tokenRepo;\r\n\t\r\n\t@GetMapping(&quot;admin&quot;)\r\n\tpublic String getAdmin () {\r\n\t\tJSONObject report = new JSONObject();\r\n\t\tString dataAdmin = userRepo.findByUsername(&quot;admin&quot;);\r\n\t\tif(dataAdmin == null) {\r\n\t\t\tUser myadmin = new User();\r\n\t\t\tmyadmin.setUsername(&quot;admin&quot;);\r\n\t\t\tmyadmin.setFirstname(&quot;admin&quot;);\r\n\t\t\tmyadmin.setLastname(&quot;admin&quot;);\r\n\t\t\tmyadmin.setEmail(&quot;admin@admin&quot;);\r\n\t\t\tmyadmin.setRole(&quot;admin&quot;);\r\n\t\t\tuserRepo.save(myadmin);\r\n\t\t\treport.put(&quot;message&quot;, &quot;admin generated&quot;);\r\n\t\t} else {\r\n\t\t\treport.put(&quot;message&quot;, &quot;admin only generated once&quot;);\r\n\t\t}\r\n\t\treturn report.toString();\r\n\t}\r\n```\r\n\r\nI am trying to follow the instruction from here https://www.springboottutorial.com/unit-testing-for-spring-boot-rest-services.\r\nIn *Unit Testing Http Get Operation* section. I am getting several problem and also trying the different solution until I meet this https://stackoverflow.com/questions/63008254/unit-testing-a-get-request-in-a-spring-project from stackoverflow.\r\nbelow is the testing script I&#39;ve make so far.\r\n```java\r\npackage blablaaa.order;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.json.JSONObject;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.MvcResult;\r\nimport org.springframework.test.web.servlet.RequestBuilder;\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\n\r\nimport blablaaa.order.controller.UserController;\r\nimport blablaaa.order.dao.UserRepository;\r\nimport blablaaa.order.model.User;\r\n\r\n//@ExtendWith(SpringExtension.class)\r\n//@SpringBootTest\r\n@WebMvcTest(value = UserController.class)\r\nclass OrderApplicationTests {\r\n//\t\r\n\t@Autowired\r\n\tprivate MockMvc mockMvc;\r\n\t\r\n\t@MockBean\r\n\tprivate UserRepository userRepo;\r\n\r\n\t@Test\r\n\tvoid contextLoads() throws Exception{\r\n\r\n\t\tUser myadmin = new User();\r\n\t\tmyadmin.setUsername(&quot;admin&quot;);\r\n\t\tmyadmin.setFirstname(&quot;admin&quot;);\r\n\t\tmyadmin.setLastname(&quot;admin&quot;);\r\n\t\tmyadmin.setEmail(&quot;admin@admin&quot;);\r\n\t\tmyadmin.setRole(&quot;admin&quot;);\r\n\t\t\r\n\t\tList&lt;User&gt; myUser = new ArrayList&lt;&gt;();\r\n\t\tmyUser.add(myadmin);\r\n\t\tRequestBuilder rb = MockMvcRequestBuilders.get(&quot;/users/admin&quot;).accept(MediaType.APPLICATION_JSON);\r\n\t\tMvcResult result = mockMvc.perform(rb).andReturn();\r\n\t\tJSONObject expect = new JSONObject();\r\n\t\texpect.put(&quot;message&quot;, &quot;admin generated&quot;);\r\n//\t\tSystem.out.println(result.toString());\r\n\t\tSystem.out.println(expect.toString());\r\n//\t\tAssertions.assertTrue(result.toString().contains(expect.toString()));\r\n\t}\r\n\r\n}\r\n```\r\nI dont know, how the testing should be written. any keyword related to this?\r\n\r\n[update]  \r\nHere&#39;s my main:\r\n```java\r\n// OrderApplication.java\r\n@SpringBootApplication\r\n@EnableMongoRepositories(&quot;blablaaa.order.dao&quot;)\r\npublic class OrderApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(OrderApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nHere&#39;s my program error log\r\n```\r\nDescription:\r\n\r\nField tokenRepo in blablaaa.order.controller.UserController required a bean named &#39;mongoTemplate&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean named &#39;mongoTemplate&#39; in your configuration.\r\n```","title":"Java Unit Testing Http Get test user auto generate","body":"<p>I write function in rest to automatically generate user with admin role. Here's the function:</p>\n<p>UserController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;users&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserRepository userRepo;\n    @Autowired\n    private TokenRepository tokenRepo;\n    \n    @GetMapping(&quot;admin&quot;)\n    public String getAdmin () {\n        JSONObject report = new JSONObject();\n        String dataAdmin = userRepo.findByUsername(&quot;admin&quot;);\n        if(dataAdmin == null) {\n            User myadmin = new User();\n            myadmin.setUsername(&quot;admin&quot;);\n            myadmin.setFirstname(&quot;admin&quot;);\n            myadmin.setLastname(&quot;admin&quot;);\n            myadmin.setEmail(&quot;admin@admin&quot;);\n            myadmin.setRole(&quot;admin&quot;);\n            userRepo.save(myadmin);\n            report.put(&quot;message&quot;, &quot;admin generated&quot;);\n        } else {\n            report.put(&quot;message&quot;, &quot;admin only generated once&quot;);\n        }\n        return report.toString();\n    }\n</code></pre>\n<p>I am trying to follow the instruction from here <a href=\"https://www.springboottutorial.com/unit-testing-for-spring-boot-rest-services\" rel=\"nofollow noreferrer\">https://www.springboottutorial.com/unit-testing-for-spring-boot-rest-services</a>.\nIn <em>Unit Testing Http Get Operation</em> section. I am getting several problem and also trying the different solution until I meet this <a href=\"https://stackoverflow.com/questions/63008254/unit-testing-a-get-request-in-a-spring-project\">Unit testing a Get request in a spring project</a> from stackoverflow.\nbelow is the testing script I've make so far.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package blablaaa.order;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.json.JSONObject;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MvcResult;\nimport org.springframework.test.web.servlet.RequestBuilder;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\n\nimport blablaaa.order.controller.UserController;\nimport blablaaa.order.dao.UserRepository;\nimport blablaaa.order.model.User;\n\n//@ExtendWith(SpringExtension.class)\n//@SpringBootTest\n@WebMvcTest(value = UserController.class)\nclass OrderApplicationTests {\n//  \n    @Autowired\n    private MockMvc mockMvc;\n    \n    @MockBean\n    private UserRepository userRepo;\n\n    @Test\n    void contextLoads() throws Exception{\n\n        User myadmin = new User();\n        myadmin.setUsername(&quot;admin&quot;);\n        myadmin.setFirstname(&quot;admin&quot;);\n        myadmin.setLastname(&quot;admin&quot;);\n        myadmin.setEmail(&quot;admin@admin&quot;);\n        myadmin.setRole(&quot;admin&quot;);\n        \n        List&lt;User&gt; myUser = new ArrayList&lt;&gt;();\n        myUser.add(myadmin);\n        RequestBuilder rb = MockMvcRequestBuilders.get(&quot;/users/admin&quot;).accept(MediaType.APPLICATION_JSON);\n        MvcResult result = mockMvc.perform(rb).andReturn();\n        JSONObject expect = new JSONObject();\n        expect.put(&quot;message&quot;, &quot;admin generated&quot;);\n//      System.out.println(result.toString());\n        System.out.println(expect.toString());\n//      Assertions.assertTrue(result.toString().contains(expect.toString()));\n    }\n\n}\n</code></pre>\n<p>I dont know, how the testing should be written. any keyword related to this?</p>\n<p>[update]<br />\nHere's my main:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// OrderApplication.java\n@SpringBootApplication\n@EnableMongoRepositories(&quot;blablaaa.order.dao&quot;)\npublic class OrderApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(OrderApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Here's my program error log</p>\n<pre><code>Description:\n\nField tokenRepo in blablaaa.order.controller.UserController required a bean named 'mongoTemplate' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean named 'mongoTemplate' in your configuration.\n</code></pre>\n"},{"tags":["java","ping","http-head"],"comments":[{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":1,"creation_date":1312131878,"post_id":6890662,"comment_id":8202286,"body_markdown":"When you say &quot;a third-party website&quot;, is that one you own, or some random site? Please don&#39;t ping someone else&#39;s site like that. That can cause [trouble](http://en.wikipedia.org/wiki/NTP_server_misuse_and_abuse).","body":"When you say &quot;a third-party website&quot;, is that one you own, or some random site? Please don&#39;t ping someone else&#39;s site like that. That can cause <a href=\"http://en.wikipedia.org/wiki/NTP_server_misuse_and_abuse\" rel=\"nofollow noreferrer\">trouble</a>."}],"answers":[{"tags":[],"owner":{"account_id":10241,"reputation":5639,"user_id":19244,"accept_rate":50,"display_name":"sagi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1312136161,"creation_date":1312129477,"answer_id":6890690,"question_id":6890662,"body_markdown":"An HTTP HEAD is generally more reliable than a ping, as ICMP connections are often blocked and HTTP is usually open. Checking for a connectivity every second sounds pretty excessive, but it really depends on your use case what third party site you are trying to &quot;ping&quot;.","title":"Ping vs HTTP HEAD","body":"<p>An HTTP HEAD is generally more reliable than a ping, as ICMP connections are often blocked and HTTP is usually open. Checking for a connectivity every second sounds pretty excessive, but it really depends on your use case what third party site you are trying to \"ping\".</p>\n"},{"tags":[],"owner":{"account_id":242365,"reputation":6161,"user_id":513828,"accept_rate":96,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1330111946,"creation_date":1312129974,"answer_id":6890750,"question_id":6890662,"body_markdown":"I can&#39;t comment on whether its more effective to use HEAD or trying to do something like drop to the system and do a ping; but I don&#39;t think either of them is the solution you should be doing.  IMHO, it isn&#39;t necessary to poll your connection.  There are a lot of situations where a connection could be dropped and I don&#39;t think polling will provide much in the way of mitigating the problem.  Also, the user might be annoyed.  I know that if I were using an application, and then started doing something else, and all of a sudden I got a &quot;connection lost to 3rd party error&quot; from an application I wasn&#39;t even paying attention to; I would be very annoyed.\r\n\r\nIf your application depends on a connection being present, then I think its fair to handle this with exception handlers.  I&#39;m willing to be bet that whatever API you&#39;re using throws some kind of exception whenever you attempt a network action and you aren&#39;t able to establish a connection.  So, what I would do is in whatever class you&#39;re initializing the network action, I would follow this paradigm:\r\n\r\n    try {\r\n      performNetworkAction();\r\n    } catch (NoConnectionFoundException e) {\r\n      // handle the situation here\r\n    }\r\n\r\nYour application shouldn&#39;t be able to determine when a connection was lost, just how to react when you attempt a network action and no connection is found.\r\n\r\nThat being said - you still may disagree with me.  If that is the case then the frequency of polling allowed/recommended might be documented in the API for the service you&#39;re using.  Also, if the resource from the 3rd party is static, you should cache it as opposed to getting it over and over again.","title":"Ping vs HTTP HEAD","body":"<p>I can't comment on whether its more effective to use HEAD or trying to do something like drop to the system and do a ping; but I don't think either of them is the solution you should be doing.  IMHO, it isn't necessary to poll your connection.  There are a lot of situations where a connection could be dropped and I don't think polling will provide much in the way of mitigating the problem.  Also, the user might be annoyed.  I know that if I were using an application, and then started doing something else, and all of a sudden I got a \"connection lost to 3rd party error\" from an application I wasn't even paying attention to; I would be very annoyed.</p>\n\n<p>If your application depends on a connection being present, then I think its fair to handle this with exception handlers.  I'm willing to be bet that whatever API you're using throws some kind of exception whenever you attempt a network action and you aren't able to establish a connection.  So, what I would do is in whatever class you're initializing the network action, I would follow this paradigm:</p>\n\n<pre><code>try {\n  performNetworkAction();\n} catch (NoConnectionFoundException e) {\n  // handle the situation here\n}\n</code></pre>\n\n<p>Your application shouldn't be able to determine when a connection was lost, just how to react when you attempt a network action and no connection is found.</p>\n\n<p>That being said - you still may disagree with me.  If that is the case then the frequency of polling allowed/recommended might be documented in the API for the service you're using.  Also, if the resource from the 3rd party is static, you should cache it as opposed to getting it over and over again.</p>\n"},{"tags":[],"owner":{"account_id":87656,"reputation":31128,"user_id":242940,"display_name":"Sripathi Krishnan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1312164646,"creation_date":1312164646,"answer_id":6893667,"question_id":6890662,"body_markdown":"I wanted to expand [@Dave&#39;s answer][1], and a comment would not suffice.\r\n\r\n 1. When you lose internet connectivity, a `java.io.IOException` is thrown. Look at the [sub-classes of IOException][2] - UnknownHostException, SocketException and ProtocolException are the ones that usually smell of &quot;No Internet Connection&quot;\r\n 4. Create a central place for handling exceptions (this is good practice in itself). If you get any of the IOException&#39;s I mentioned above, set isInternetAvailable to false. \r\n 2. Instead of polling for internet connection, switch to retrying the operation you want to perform. You achieve the same thing\r\n 3. Use a backoff strategy - exponential backoff works great. For example, after it fails the first time, you wait for 5s. After the second failure, you wait for 25s and so on. Gmail webapp uses this strategy. [Twitter commons has utility classes for backoff][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6890662/ping-vs-http-head/6890750#6890750\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/io/IOException.html\r\n  [3]: http://twitter.github.com/commons/apidocs/com/twitter/common/util/BackoffHelper.html","title":"Ping vs HTTP HEAD","body":"<p>I wanted to expand <a href=\"https://stackoverflow.com/questions/6890662/ping-vs-http-head/6890750#6890750\">@Dave's answer</a>, and a comment would not suffice.</p>\n\n<ol>\n<li>When you lose internet connectivity, a <code>java.io.IOException</code> is thrown. Look at the <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/IOException.html\" rel=\"nofollow noreferrer\">sub-classes of IOException</a> - UnknownHostException, SocketException and ProtocolException are the ones that usually smell of \"No Internet Connection\"</li>\n<li>Create a central place for handling exceptions (this is good practice in itself). If you get any of the IOException's I mentioned above, set isInternetAvailable to false. </li>\n<li>Instead of polling for internet connection, switch to retrying the operation you want to perform. You achieve the same thing</li>\n<li>Use a backoff strategy - exponential backoff works great. For example, after it fails the first time, you wait for 5s. After the second failure, you wait for 25s and so on. Gmail webapp uses this strategy. <a href=\"http://twitter.github.com/commons/apidocs/com/twitter/common/util/BackoffHelper.html\" rel=\"nofollow noreferrer\">Twitter commons has utility classes for backoff</a>.</li>\n</ol>\n"}],"owner":{"account_id":306734,"reputation":113,"user_id":617645,"accept_rate":71,"display_name":"Olbion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2414,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":6890690,"answer_count":3,"score":4,"last_activity_date":1674276518,"creation_date":1312129249,"question_id":6890662,"body_markdown":"I&#39;m writing a Java app which has a feature to check whether it&#39;s connected to the internet by periodically trying to access a server. My first idea was to Ping the server - but turned out to be complicated to achieve in Java. So I remade it to send HTTP HEAD requests and check for the HTTP response code instead. I have two questions:\r\n\r\n1) Are HTTP HEAD requests &quot;as reliable&quot; as pings? Ping would be my first natural choice to check if something is available. Maybe just because it&#39;s so easy to run on the command line.\r\n\r\n2) If I send HTTP HEAD requests to a third-party website to check if it is accessible, is there some standard frequency at which these should be sent? Eg if I send them every second, would that be discouraged or even get me blocked from those services?","title":"Ping vs HTTP HEAD","body":"<p>I'm writing a Java app which has a feature to check whether it's connected to the internet by periodically trying to access a server. My first idea was to Ping the server - but turned out to be complicated to achieve in Java. So I remade it to send HTTP HEAD requests and check for the HTTP response code instead. I have two questions:</p>\n\n<p>1) Are HTTP HEAD requests \"as reliable\" as pings? Ping would be my first natural choice to check if something is available. Maybe just because it's so easy to run on the command line.</p>\n\n<p>2) If I send HTTP HEAD requests to a third-party website to check if it is accessible, is there some standard frequency at which these should be sent? Eg if I send them every second, would that be discouraged or even get me blocked from those services?</p>\n"},{"tags":["java","mysql"],"answers":[{"tags":[],"owner":{"account_id":4508874,"reputation":463,"user_id":3665575,"display_name":"Raushan Kuamr Jha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1427401888,"creation_date":1427401888,"answer_id":29288263,"question_id":29287969,"body_markdown":"You&#39;re trying to load the file with default [load data] options. \r\nMight be the chance that the csv file that you&#39;re trying to upload have used different format like different FIELD Enclosed By, or different TERMINATED By or different LINE TERMINATED By option. \r\nhere are the examples to dump csv &amp; load csv files. Please check your csv file format &amp; verify with different options.\r\n\r\n    -- -- To dump sql data to csv file\r\n    SELECT * \r\n    FROM test.yourTableName\r\n    INTO OUTFILE &#39;C:/test/yourTableName.csv&#39;\r\n    FIELDS ENCLOSED BY &#39;&quot;&#39; TERMINATED BY &#39;;&#39; ESCAPED BY &#39;&quot;&#39;\r\n    LINES TERMINATED BY &#39;\\r\\n&#39;;\r\n    \r\n    \r\n    -- -- To load data to sql database from csv\r\n    LOAD DATA INFILE &#39;C:/test/yourTableName.csv&#39; INTO TABLE test.yourTableName\r\n     FIELDS ENCLOSED BY &#39;&quot;&#39; TERMINATED BY &#39;;&#39; ESCAPED BY &#39;&quot;&#39;\r\n    LINES TERMINATED BY &#39;\\r\\n&#39;;","title":"Import CSV data to mysql table within Java program","body":"<p>You're trying to load the file with default [load data] options. \nMight be the chance that the csv file that you're trying to upload have used different format like different FIELD Enclosed By, or different TERMINATED By or different LINE TERMINATED By option. \nhere are the examples to dump csv &amp; load csv files. Please check your csv file format &amp; verify with different options.</p>\n\n<pre><code>-- -- To dump sql data to csv file\nSELECT * \nFROM test.yourTableName\nINTO OUTFILE 'C:/test/yourTableName.csv'\nFIELDS ENCLOSED BY '\"' TERMINATED BY ';' ESCAPED BY '\"'\nLINES TERMINATED BY '\\r\\n';\n\n\n-- -- To load data to sql database from csv\nLOAD DATA INFILE 'C:/test/yourTableName.csv' INTO TABLE test.yourTableName\n FIELDS ENCLOSED BY '\"' TERMINATED BY ';' ESCAPED BY '\"'\nLINES TERMINATED BY '\\r\\n';\n</code></pre>\n"}],"owner":{"account_id":5845592,"reputation":696,"user_id":4605817,"accept_rate":85,"display_name":"Andrei Maieras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3872,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":29288263,"answer_count":1,"score":1,"last_activity_date":1674276473,"creation_date":1427400873,"question_id":29287969,"body_markdown":"I have this method to import data from a CSV file.\r\nBut the method adds only the PID. Any sugestion to fix this??\r\n\r\n\r\n        public void importData(){\r\n            try{\r\n                Import path = new Import();\r\n                String filename = path.getFileName();\r\n                con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/test&quot;);\r\n                st = con.createStatement(rs.TYPE_SCROLL_SENSITIVE, rs.CONCUR_UPDATABLE);\r\n                String query = &quot;LOAD DATA LOCAL INFILE &#39;&quot; + filename + &quot;&#39; INTO TABLE Pacient (PID, Nume,Prenume, Varsta, CNP, Adresa);&quot;;\r\n                st.execute(query);\r\n            }\r\n            catch (SQLException | HeadlessException e){\r\n                e.printStackTrace();\r\n            }\r\n            catch (Exception e){\r\n                e.printStackTrace();\r\n                st = null;\r\n            }\r\n        }","title":"Import CSV data to mysql table within Java program","body":"<p>I have this method to import data from a CSV file.\nBut the method adds only the PID. Any sugestion to fix this??</p>\n\n<pre><code>    public void importData(){\n        try{\n            Import path = new Import();\n            String filename = path.getFileName();\n            con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/test\");\n            st = con.createStatement(rs.TYPE_SCROLL_SENSITIVE, rs.CONCUR_UPDATABLE);\n            String query = \"LOAD DATA LOCAL INFILE '\" + filename + \"' INTO TABLE Pacient (PID, Nume,Prenume, Varsta, CNP, Adresa);\";\n            st.execute(query);\n        }\n        catch (SQLException | HeadlessException e){\n            e.printStackTrace();\n        }\n        catch (Exception e){\n            e.printStackTrace();\n            st = null;\n        }\n    }\n</code></pre>\n"},{"tags":["java","mysql","sql","csv","jdbc"],"comments":[{"owner":{"account_id":6740266,"reputation":161,"user_id":5193731,"accept_rate":58,"display_name":"blue sky"},"score":0,"creation_date":1470149833,"post_id":38723905,"comment_id":64823774,"body_markdown":"also it&#39;s worth noting that i used asterixes in place of my username so those arent existent in my actual code.","body":"also it&#39;s worth noting that i used asterixes in place of my username so those arent existent in my actual code."},{"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"score":0,"creation_date":1470161215,"post_id":38723905,"comment_id":64831015,"body_markdown":"show your `show create table xyz` and a sample of the data going in (like 5 rows of it)","body":"show your <code>show create table xyz</code> and a sample of the data going in (like 5 rows of it)"},{"owner":{"account_id":6740266,"reputation":161,"user_id":5193731,"accept_rate":58,"display_name":"blue sky"},"score":0,"creation_date":1470162436,"post_id":38723905,"comment_id":64831759,"body_markdown":"@Drew i&#39;m sorry? what do you mean by that?","body":"@Drew i&#39;m sorry? what do you mean by that?"},{"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"score":0,"creation_date":1470162767,"post_id":38723905,"comment_id":64831971,"body_markdown":"`show create table pumpkin001` as seen in my first block [here](http://stackoverflow.com/a/38385192) , then a sample of your data so someone can reasonably help you","body":"<code>show create table pumpkin001</code> as seen in my first block <a href=\"http://stackoverflow.com/a/38385192\">here</a> , then a sample of your data so someone can reasonably help you"},{"owner":{"account_id":6740266,"reputation":161,"user_id":5193731,"accept_rate":58,"display_name":"blue sky"},"score":0,"creation_date":1470163373,"post_id":38723905,"comment_id":64832341,"body_markdown":"@Drew is this what you meant? i edited my original post.","body":"@Drew is this what you meant? i edited my original post."},{"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"score":0,"creation_date":1470163878,"post_id":38723905,"comment_id":64832658,"body_markdown":"Thx. Now we need sample data. The other half of my request. Oh, you provided that. Can you give both as text. Someone should be able to cut and paste the whole thing in as a test and not retype it.","body":"Thx. Now we need sample data. The other half of my request. Oh, you provided that. Can you give both as text. Someone should be able to cut and paste the whole thing in as a test and not retype it."},{"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"score":0,"creation_date":1470164087,"post_id":38723905,"comment_id":64832795,"body_markdown":"You should be able to get a phpmyadmin query to allow you to run `show create table patients`  and then cut and paste the text here with an [edit]","body":"You should be able to get a phpmyadmin query to allow you to run <code>show create table patients</code>  and then cut and paste the text here with an <a href=\"https://stackoverflow.com/posts/38723905/edit\">edit</a>"},{"owner":{"account_id":6740266,"reputation":161,"user_id":5193731,"accept_rate":58,"display_name":"blue sky"},"score":0,"creation_date":1470165314,"post_id":38723905,"comment_id":64833552,"body_markdown":"@drew done! is this good enough?","body":"@drew done! is this good enough?"},{"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"score":0,"creation_date":1470165671,"post_id":38723905,"comment_id":64833739,"body_markdown":"The bottom half is coming from a text file. Let me find a link to show you","body":"The bottom half is coming from a text file. Let me find a link to show you"},{"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"score":0,"creation_date":1470166976,"post_id":38723905,"comment_id":64834467,"body_markdown":"http://stackoverflow.com/q/37930310 at the top. We need to know what your text file look like.","body":"<a href=\"http://stackoverflow.com/q/37930310\">stackoverflow.com/q/37930310</a> at the top. We need to know what your text file look like."}],"answers":[{"tags":[],"owner":{"account_id":2032926,"reputation":24901,"user_id":1816093,"accept_rate":57,"display_name":"Drew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470172582,"creation_date":1470172582,"answer_id":38730595,"question_id":38723905,"body_markdown":"    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    public class myTest {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Connection con = null;\r\n            Statement st = null;\r\n            ResultSet rs = null;\r\n    \r\n            String url = &quot;jdbc:mysql://localhost:3306/so_gibberish&quot;; // **** MODIFY db name (my db_name is so_gibberish)\r\n            String user = &quot;dbUser&quot;;   // **** MODIFY \r\n            String password = &quot;password123&quot;;    // **** MODIFY \r\n    \r\n            try {\r\n                con = DriverManager.getConnection(url, user, password);\r\n                st = con.createStatement();\r\n                String sSqlLinux=&quot;LOAD DATA INFILE &#39;/Users/nate/patients.txt&#39; INTO TABLE Patients &quot; + \r\n                &quot; FIELDS TERMINATED BY &#39;,&#39; ENCLOSED BY &#39;\\&quot;&#39; &quot; +\r\n                &quot; LINES TERMINATED BY &#39;\\\\n&#39;&quot;;\r\n                \r\n                String sSqlWindows=&quot;LOAD DATA INFILE &#39;c:/nate/patients.txt&#39; INTO TABLE Patients &quot; + \r\n                &quot; FIELDS TERMINATED BY &#39;,&#39; ENCLOSED BY &#39;\\&quot;&#39; &quot; +\r\n                &quot; LINES TERMINATED BY &#39;\\\\r\\\\n&#39;&quot;;\r\n                \r\n                rs = st.executeQuery(sSqlLinux); // run the Linux version\r\n                System.out.println(&quot;------------------------------&quot;);    \r\n    \r\n            } catch (SQLException ex) {\r\n                Logger lgr = Logger.getLogger(myTest.class.getName());\r\n                lgr.log(Level.SEVERE, ex.getMessage(), ex);\r\n    \r\n            } finally {\r\n                try {\r\n                    if (rs != null) {\r\n                        rs.close();\r\n                    }\r\n                    if (st != null) {\r\n                        st.close();\r\n                    }\r\n                    if (con != null) {\r\n                        con.close();\r\n                    }\r\n    \r\n                } catch (SQLException ex) {\r\n                    Logger lgr = Logger.getLogger(myTest.class.getName());\r\n                    lgr.log(Level.WARNING, ex.getMessage(), ex);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nCode snippet to generate your text file from the supplied insert statement from MySQL Workbench:\r\n\r\n    select ID,fname,lname,Diagnosis,phone,email,DOB,DOFV\r\n    INTO OUTFILE &#39;c:\\\\nate\\\\patients.txt&#39;\r\n    FIELDS TERMINATED BY &#39;,&#39; OPTIONALLY ENCLOSED BY &#39;&quot;&#39;\r\n    LINES TERMINATED BY &#39;\\r\\n&#39;\r\n    FROM Patients;\r\n    \r\n    select ID,fname,lname,Diagnosis,phone,email,DOB,DOFV\r\n    INTO OUTFILE &#39;/Users/nate/patients.txt&#39;\r\n    FIELDS TERMINATED BY &#39;,&#39; OPTIONALLY ENCLOSED BY &#39;&quot;&#39;\r\n    LINES TERMINATED BY &#39;\\n&#39;\r\n    FROM Patients;\r\n\r\nSample CSV:\r\n\r\n    1,&quot;hanalei&quot;,&quot;ezz&quot;,&quot;hemophelia&quot;,&quot;+1(919)929-6567&quot;,&quot;hana@hanalei.me&quot;,&quot;1998-08-22&quot;,&quot;2008-03-12&quot;\r\n    2,&quot;monika&quot;,&quot;zanesco&quot;,&quot;sickle cell disease&quot;,&quot;+1(919)939-4264&quot;,&quot;monika.z@gmail.com&quot;,&quot;1998-10-05&quot;,&quot;2016-04-13&quot;\r\n    3,&quot;bang&quot;,&quot;pham&quot;,&quot;leukemia&quot;,&quot;+1(919)243-8937&quot;,&quot;bangp@aol.com&quot;,&quot;1998-03-15&quot;,&quot;2013-03-03&quot;\r\n\r\nThe Data loaded fine after a truncate (note: tested at the moment on my Windows box). So, mess around with any special concat you need to do in the string for your filename or tablename.","title":"load CSV contents into mysql database via JDBC?","body":"<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class myTest {\n\n    public static void main(String[] args) {\n\n        Connection con = null;\n        Statement st = null;\n        ResultSet rs = null;\n\n        String url = \"jdbc:mysql://localhost:3306/so_gibberish\"; // **** MODIFY db name (my db_name is so_gibberish)\n        String user = \"dbUser\";   // **** MODIFY \n        String password = \"password123\";    // **** MODIFY \n\n        try {\n            con = DriverManager.getConnection(url, user, password);\n            st = con.createStatement();\n            String sSqlLinux=\"LOAD DATA INFILE '/Users/nate/patients.txt' INTO TABLE Patients \" + \n            \" FIELDS TERMINATED BY ',' ENCLOSED BY '\\\"' \" +\n            \" LINES TERMINATED BY '\\\\n'\";\n\n            String sSqlWindows=\"LOAD DATA INFILE 'c:/nate/patients.txt' INTO TABLE Patients \" + \n            \" FIELDS TERMINATED BY ',' ENCLOSED BY '\\\"' \" +\n            \" LINES TERMINATED BY '\\\\r\\\\n'\";\n\n            rs = st.executeQuery(sSqlLinux); // run the Linux version\n            System.out.println(\"------------------------------\");    \n\n        } catch (SQLException ex) {\n            Logger lgr = Logger.getLogger(myTest.class.getName());\n            lgr.log(Level.SEVERE, ex.getMessage(), ex);\n\n        } finally {\n            try {\n                if (rs != null) {\n                    rs.close();\n                }\n                if (st != null) {\n                    st.close();\n                }\n                if (con != null) {\n                    con.close();\n                }\n\n            } catch (SQLException ex) {\n                Logger lgr = Logger.getLogger(myTest.class.getName());\n                lgr.log(Level.WARNING, ex.getMessage(), ex);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Code snippet to generate your text file from the supplied insert statement from MySQL Workbench:</p>\n\n<pre><code>select ID,fname,lname,Diagnosis,phone,email,DOB,DOFV\nINTO OUTFILE 'c:\\\\nate\\\\patients.txt'\nFIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '\"'\nLINES TERMINATED BY '\\r\\n'\nFROM Patients;\n\nselect ID,fname,lname,Diagnosis,phone,email,DOB,DOFV\nINTO OUTFILE '/Users/nate/patients.txt'\nFIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '\"'\nLINES TERMINATED BY '\\n'\nFROM Patients;\n</code></pre>\n\n<p>Sample CSV:</p>\n\n<pre><code>1,\"hanalei\",\"ezz\",\"hemophelia\",\"+1(919)929-6567\",\"hana@hanalei.me\",\"1998-08-22\",\"2008-03-12\"\n2,\"monika\",\"zanesco\",\"sickle cell disease\",\"+1(919)939-4264\",\"monika.z@gmail.com\",\"1998-10-05\",\"2016-04-13\"\n3,\"bang\",\"pham\",\"leukemia\",\"+1(919)243-8937\",\"bangp@aol.com\",\"1998-03-15\",\"2013-03-03\"\n</code></pre>\n\n<p>The Data loaded fine after a truncate (note: tested at the moment on my Windows box). So, mess around with any special concat you need to do in the string for your filename or tablename.</p>\n"},{"tags":[],"owner":{"account_id":3568486,"reputation":4276,"user_id":2979435,"accept_rate":42,"display_name":"deFreitas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674276380,"creation_date":1674276380,"answer_id":75191185,"question_id":38723905,"body_markdown":"You can also use [csv2jdbc](https://github.com/mageddo-projects/csv2jdbc) to easily import and export data across csv files and tables no matter which database you are using:\r\n\r\n#### Import CSV file from client machine to a database Table\r\nThe following statement will create table `MY_TABLE` with all columns existing in `file.csv` then import \r\nthe data to the table.\r\n```sql\r\nCSV2J COPY MY_TABLE \r\nFROM &#39;/tmp/file.csv&#39; \r\nWITH CSV HEADER CREATE_TABLE DELIMITER &#39;,&#39;\r\n```\r\n\r\n#### Export Select statement to a CSV file\r\nThe following statement will extract the select statement to  `file.csv` \r\n```sql\r\nCSV2J COPY (\r\n  SELECT 1 AS ID, 10.99 AS AMOUNT, TIMESTAMP &#39;2022-01-31 23:59:58.987&#39; AS DAT_CREATION\r\n  UNION ALL\r\n  SELECT 2 AS ID, 7.50 AS AMOUNT, TIMESTAMP &#39;2023-01-31 21:59:58.987&#39; AS DAT_CREATION\r\n) TO &#39;/tmp/file.csv&#39; WITH CSV HEADER\r\n```","title":"load CSV contents into mysql database via JDBC?","body":"<p>You can also use <a href=\"https://github.com/mageddo-projects/csv2jdbc\" rel=\"nofollow noreferrer\">csv2jdbc</a> to easily import and export data across csv files and tables no matter which database you are using:</p>\n<h4>Import CSV file from client machine to a database Table</h4>\n<p>The following statement will create table <code>MY_TABLE</code> with all columns existing in <code>file.csv</code> then import\nthe data to the table.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CSV2J COPY MY_TABLE \nFROM '/tmp/file.csv' \nWITH CSV HEADER CREATE_TABLE DELIMITER ','\n</code></pre>\n<h4>Export Select statement to a CSV file</h4>\n<p>The following statement will extract the select statement to  <code>file.csv</code></p>\n<pre class=\"lang-sql prettyprint-override\"><code>CSV2J COPY (\n  SELECT 1 AS ID, 10.99 AS AMOUNT, TIMESTAMP '2022-01-31 23:59:58.987' AS DAT_CREATION\n  UNION ALL\n  SELECT 2 AS ID, 7.50 AS AMOUNT, TIMESTAMP '2023-01-31 21:59:58.987' AS DAT_CREATION\n) TO '/tmp/file.csv' WITH CSV HEADER\n</code></pre>\n"}],"owner":{"account_id":6740266,"reputation":161,"user_id":5193731,"accept_rate":58,"display_name":"blue sky"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674276380,"creation_date":1470149784,"question_id":38723905,"body_markdown":"so basically i&#39;m making my program via a console-based menu, yeah? it&#39;s a database manager and it&#39;s operated by answering with numbers(y&#39;know, enter &#39;1&#39; to enter a record, enter &#39;2&#39; to export records, etc..). so there&#39;s no different ways to mess with the parameters, here. but it doesn&#39;t seem to be working anyway?\r\nhere&#39;s my code, afterwards i&#39;ll tell you what i tried.\r\n\r\n    public void loadCSV(String table, String filename) {\r\n        String query;\r\n    \r\n        try (Statement st = con.createStatement()) {\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/DrSoheirManager&quot;, &quot;root&quot;, &quot;ITGS!!!&quot;);\r\n            st = con.createStatement();\r\n            query = &quot;load data local infile &#39;/Users/****/NetBeansProjects/IA Draft 3/&quot; +\r\n                    filename + &quot;&#39; ignore into table &quot; + table + &quot; columns terminated\r\n                    by &#39;,&#39; \\n&quot; + &quot; lines terminated by &#39;\\\\n&#39;&quot;;\r\n            /* load data local infile &#39;/users/****/netbeansprojects/ia draft\r\n               3/patients.csv&#39; ignore into table */\r\n            st.execute(query);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            st = null;\r\n        }\r\n    }\r\n\r\nso how the method (should) be used, is basically: loadCSV(&quot;patients&quot;, patients.csv); where patients is the name of the table where i want to enter the values, and patients.csv is the source of the values i want to enter.\r\nthis is my first time working with the JDBC so i&#39;m unfamiliar with the methods involved, but i&#39;ve tried replacing st.execute(query) with st.executeQuery() and st.executeUpdate(), neither worked. beforehand i was getting an error but changing the SQL query a bit seemed to have fixed that. now i&#39;m not getting an error, but the information just isn&#39;t being added to the database.\r\n\r\n**ps: i used the &#39;ignore&#39; function because i want to be able to import to the database without adding duplicates. have i done this correctly?**\r\n \r\nif i am violating any rules by posting this please let me know so i can fix my errors. thank you in advance :)\r\n\r\nedit: my schema:\r\n\r\n[![the table is called patients.][1]][1]\r\n\r\nand a sample data set:\r\n\r\n[![][2]][2]\r\n\r\n    CREATE TABLE IF NOT EXISTS `Patients` (\r\n    `ID` int(11) NOT NULL,\r\n      `fname` text NOT NULL,\r\n      `lname` text NOT NULL,\r\n      `Diagnosis` text NOT NULL,\r\n      `phone` varchar(15) NOT NULL,\r\n      `email` varchar(25) NOT NULL,\r\n      `DOB` date NOT NULL,\r\n      `DOFV` date NOT NULL\r\n    ) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;\r\n    \r\n    \r\n    INSERT INTO `Patients` (`ID`, `fname`, `lname`, `Diagnosis`, `phone`, `email`, `DOB`, `DOFV`) VALUES\r\n    (1, &#39;hanalei&#39;, &#39;ezz&#39;, &#39;hemophelia&#39;, &#39;+1(919)929-6567&#39;, &#39;hana@hanalei.me&#39;, &#39;1998-08-22&#39;, &#39;2008-03-12&#39;),\r\n    (2, &#39;monika&#39;, &#39;zanesco&#39;, &#39;sickle cell disease&#39;, &#39;+1(919)939-4264&#39;, &#39;monika.z@gmail.com&#39;, &#39;1998-10-05&#39;, &#39;2016-04-13&#39;),\r\n    (3, &#39;bang&#39;, &#39;pham&#39;, &#39;leukemia&#39;, &#39;+1(919)243-8937&#39;, &#39;bangp@aol.com&#39;, &#39;1998-03-15&#39;, &#39;2013-03-03&#39;);\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/l6m53.png\r\n  [2]: http://i.stack.imgur.com/0vCta.png","title":"load CSV contents into mysql database via JDBC?","body":"<p>so basically i'm making my program via a console-based menu, yeah? it's a database manager and it's operated by answering with numbers(y'know, enter '1' to enter a record, enter '2' to export records, etc..). so there's no different ways to mess with the parameters, here. but it doesn't seem to be working anyway?\nhere's my code, afterwards i'll tell you what i tried.</p>\n\n<pre><code>public void loadCSV(String table, String filename) {\n    String query;\n\n    try (Statement st = con.createStatement()) {\n        Class.forName(\"com.mysql.jdbc.Driver\");\n        con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/DrSoheirManager\", \"root\", \"ITGS!!!\");\n        st = con.createStatement();\n        query = \"load data local infile '/Users/****/NetBeansProjects/IA Draft 3/\" +\n                filename + \"' ignore into table \" + table + \" columns terminated\n                by ',' \\n\" + \" lines terminated by '\\\\n'\";\n        /* load data local infile '/users/****/netbeansprojects/ia draft\n           3/patients.csv' ignore into table */\n        st.execute(query);\n    } catch (Exception e) {\n        e.printStackTrace();\n        st = null;\n    }\n}\n</code></pre>\n\n<p>so how the method (should) be used, is basically: loadCSV(\"patients\", patients.csv); where patients is the name of the table where i want to enter the values, and patients.csv is the source of the values i want to enter.\nthis is my first time working with the JDBC so i'm unfamiliar with the methods involved, but i've tried replacing st.execute(query) with st.executeQuery() and st.executeUpdate(), neither worked. beforehand i was getting an error but changing the SQL query a bit seemed to have fixed that. now i'm not getting an error, but the information just isn't being added to the database.</p>\n\n<p><strong>ps: i used the 'ignore' function because i want to be able to import to the database without adding duplicates. have i done this correctly?</strong></p>\n\n<p>if i am violating any rules by posting this please let me know so i can fix my errors. thank you in advance :)</p>\n\n<p>edit: my schema:</p>\n\n<p><a href=\"https://i.stack.imgur.com/l6m53.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l6m53.png\" alt=\"the table is called patients.\"></a></p>\n\n<p>and a sample data set:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0vCta.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0vCta.png\" alt=\"\"></a></p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS `Patients` (\n`ID` int(11) NOT NULL,\n  `fname` text NOT NULL,\n  `lname` text NOT NULL,\n  `Diagnosis` text NOT NULL,\n  `phone` varchar(15) NOT NULL,\n  `email` varchar(25) NOT NULL,\n  `DOB` date NOT NULL,\n  `DOFV` date NOT NULL\n) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;\n\n\nINSERT INTO `Patients` (`ID`, `fname`, `lname`, `Diagnosis`, `phone`, `email`, `DOB`, `DOFV`) VALUES\n(1, 'hanalei', 'ezz', 'hemophelia', '+1(919)929-6567', 'hana@hanalei.me', '1998-08-22', '2008-03-12'),\n(2, 'monika', 'zanesco', 'sickle cell disease', '+1(919)939-4264', 'monika.z@gmail.com', '1998-10-05', '2016-04-13'),\n(3, 'bang', 'pham', 'leukemia', '+1(919)243-8937', 'bangp@aol.com', '1998-03-15', '2013-03-03');\n</code></pre>\n"},{"tags":["java","spring","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1652209698,"post_id":72185143,"comment_id":127550386,"body_markdown":"Does this answer your question? [Do you have a test to show differences between the reactor map() and flatMap()?](https://stackoverflow.com/questions/65689935/do-you-have-a-test-to-show-differences-between-the-reactor-map-and-flatmap)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65689935/do-you-have-a-test-to-show-differences-between-the-reactor-map-and-flatmap\">Do you have a test to show differences between the reactor map() and flatMap()?</a>"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652193427,"creation_date":1652193427,"answer_id":72188347,"question_id":72185143,"body_markdown":"**TL;DR** In case operation is asynchronous (returns `Mono` or `Flux`) - use `flatMap`, for synchronous logic use `map`.\r\n\r\nIn reactive nothing happens until you subscribe. `flatMap` subscribes to the  provided publisher, returning the value emitted by another `Mono` or `Flux`. `map` just transforms the value applying a synchronous function to it.\r\n\r\n```\r\n@RequestMapping(&quot;addUserSimple3&quot;)\r\npublic Mono&lt;AddUserResponse&gt; addUser3(@RequestBody Mono&lt;AddUserVo&gt; vo) {\r\n\treturn vo.flatMap(v -&gt;\r\n\t\t\tredisOps.delete(v.getGroupId())\r\n\t\t\t\t\t.flatMap(res -&gt; redisOps.set(v.getGroupId(), v.getPersonId()))\r\n\t\t\t\t\t.map(res -&gt; new AddUserResponse(ResponseState.GOOD, v.getLogId()))\r\n\t);\r\n}\r\n``` ","title":"what is a MonoNext in Webflux and how to choose which one to use between flatMap and map","body":"<p><strong>TL;DR</strong> In case operation is asynchronous (returns <code>Mono</code> or <code>Flux</code>) - use <code>flatMap</code>, for synchronous logic use <code>map</code>.</p>\n<p>In reactive nothing happens until you subscribe. <code>flatMap</code> subscribes to the  provided publisher, returning the value emitted by another <code>Mono</code> or <code>Flux</code>. <code>map</code> just transforms the value applying a synchronous function to it.</p>\n<pre><code>@RequestMapping(&quot;addUserSimple3&quot;)\npublic Mono&lt;AddUserResponse&gt; addUser3(@RequestBody Mono&lt;AddUserVo&gt; vo) {\n    return vo.flatMap(v -&gt;\n            redisOps.delete(v.getGroupId())\n                    .flatMap(res -&gt; redisOps.set(v.getGroupId(), v.getPersonId()))\n                    .map(res -&gt; new AddUserResponse(ResponseState.GOOD, v.getLogId()))\n    );\n}\n</code></pre>\n"}],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674275006,"creation_date":1652180439,"question_id":72185143,"body_markdown":"The following code was about to first delete a KV from redis, and then set a new KV there and return. But it actually never `set` after `delete`. I only see mistake after print every `log`, as `2 any is MonoNext`. Then I released a chain step before this `any` needs to split off one `Mono`, so I used `flatMap` instead of `map` at marker. This problem is more likely happened to me, especially when functions are deeply encapsulated inside another function with `Mono` in and out.\r\n\r\n```\r\n    @RequestMapping(&quot;addUserSimple3&quot;)\r\n    public Mono&lt;AddUserResponse&gt; addUser3(@RequestBody Mono&lt;AddUserVo&gt; vo) {\r\n        return vo.flatMap(v -&gt;\r\n                redisOps.delete(v.getGroupId())\r\n                        .map(any -&gt; {   &lt;---------------------Use flatMap instead of map\r\n                            log.info(&quot;1 any is {}&quot;, any);\r\n                            return redisOps.set(v.getGroupId(), v.getPersonId());\r\n                        })\r\n                        .map(any -&gt;\r\n                        {\r\n                            log.info(&quot;2 any is {}&quot;, any);\r\n                            return new AddUserResponse(ResponseState.GOOD, v.getLogId());\r\n                        })\r\n        );\r\n    }\r\n```\r\n\r\nThen my question is, how to better understand `MonoNext` and `flatMap`? (aka, I let the above code work by replacing `map` but I don&#39;t understand why it did not work, and why it does later)","title":"what is a MonoNext in Webflux and how to choose which one to use between flatMap and map","body":"<p>The following code was about to first delete a KV from redis, and then set a new KV there and return. But it actually never <code>set</code> after <code>delete</code>. I only see mistake after print every <code>log</code>, as <code>2 any is MonoNext</code>. Then I released a chain step before this <code>any</code> needs to split off one <code>Mono</code>, so I used <code>flatMap</code> instead of <code>map</code> at marker. This problem is more likely happened to me, especially when functions are deeply encapsulated inside another function with <code>Mono</code> in and out.</p>\n<pre><code>    @RequestMapping(&quot;addUserSimple3&quot;)\n    public Mono&lt;AddUserResponse&gt; addUser3(@RequestBody Mono&lt;AddUserVo&gt; vo) {\n        return vo.flatMap(v -&gt;\n                redisOps.delete(v.getGroupId())\n                        .map(any -&gt; {   &lt;---------------------Use flatMap instead of map\n                            log.info(&quot;1 any is {}&quot;, any);\n                            return redisOps.set(v.getGroupId(), v.getPersonId());\n                        })\n                        .map(any -&gt;\n                        {\n                            log.info(&quot;2 any is {}&quot;, any);\n                            return new AddUserResponse(ResponseState.GOOD, v.getLogId());\n                        })\n        );\n    }\n</code></pre>\n<p>Then my question is, how to better understand <code>MonoNext</code> and <code>flatMap</code>? (aka, I let the above code work by replacing <code>map</code> but I don't understand why it did not work, and why it does later)</p>\n"},{"tags":["java","spring","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673814299,"creation_date":1673587160,"answer_id":75105148,"question_id":75102884,"body_markdown":"If I understood the problem correctly you can use `.next()` to &quot;convert&quot; `Flux` into `Mono` by taking the first emitted element and then cancel the subscription.\r\n\r\n```\r\n .flatMap(r -&gt; save1)\r\n .flatMapMany(r -&gt; save2) //save a flux of elements\r\n .next()\r\n .flatMap(r -&gt; save3) //need r.getId\r\n\r\n```\r\n\r\n\r\nHere is a test for the above flow that shows that only &quot;2.1&quot; was handled in `save3`\r\n\r\n```\r\n@Test\r\nvoid testFlow() {\r\n    var flow = Mono.just(&quot;1&quot;)\r\n            .flatMap(r -&gt; save1(r))\r\n            .flatMapMany(r -&gt; save2(r))\r\n            .next()\r\n            .flatMap(r -&gt; save3(r));\r\n\r\n    StepVerifier.create(flow)\r\n            .expectNext(&quot;2.1&quot;)\r\n            .verifyComplete();\r\n}\r\n```\r\n\r\nwhere \r\n```\r\nprivate Mono&lt;String&gt; save3(String r) {\r\n    return Mono.just(r);\r\n}\r\n\r\nprivate Flux&lt;String&gt; save2(String r) {\r\n    return Flux.just(&quot;2.1&quot;, &quot;2.2&quot;, &quot;2.3&quot;);\r\n}\r\n\r\nprivate Mono&lt;String&gt; save1(String r) {\r\n    return Mono.just(r);\r\n}\r\n```\r\n\r\n","title":"execute first emitted element of reactive chain","body":"<p>If I understood the problem correctly you can use <code>.next()</code> to &quot;convert&quot; <code>Flux</code> into <code>Mono</code> by taking the first emitted element and then cancel the subscription.</p>\n<pre><code> .flatMap(r -&gt; save1)\n .flatMapMany(r -&gt; save2) //save a flux of elements\n .next()\n .flatMap(r -&gt; save3) //need r.getId\n\n</code></pre>\n<p>Here is a test for the above flow that shows that only &quot;2.1&quot; was handled in <code>save3</code></p>\n<pre><code>@Test\nvoid testFlow() {\n    var flow = Mono.just(&quot;1&quot;)\n            .flatMap(r -&gt; save1(r))\n            .flatMapMany(r -&gt; save2(r))\n            .next()\n            .flatMap(r -&gt; save3(r));\n\n    StepVerifier.create(flow)\n            .expectNext(&quot;2.1&quot;)\n            .verifyComplete();\n}\n</code></pre>\n<p>where</p>\n<pre><code>private Mono&lt;String&gt; save3(String r) {\n    return Mono.just(r);\n}\n\nprivate Flux&lt;String&gt; save2(String r) {\n    return Flux.just(&quot;2.1&quot;, &quot;2.2&quot;, &quot;2.3&quot;);\n}\n\nprivate Mono&lt;String&gt; save1(String r) {\n    return Mono.just(r);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673609458,"creation_date":1673609154,"answer_id":75108560,"question_id":75102884,"body_markdown":" but without a subscribe() it will not execute the entire chain (save1, save2) , right or i&#39;m doing confusion?\r\n\r\nImagine that i have 3 mono objects to save on save2\r\n\r\n    -&gt; save 2.1 \r\n    -&gt; save 2.2\r\n    -&gt; save 2.3\r\n\r\nafter 2.1 save operation (first element) -&gt; get response and save only once\r\n\r\n    -&gt; save 3 \r\n\r\ninstead of save 3 times\r\n\r\n    -&gt; save 3\r\n    -&gt; save 3\r\n    -&gt; save 3\r\n\r\nSo ... the idea is stop chain propagation to not duplicate saved objects in DB. ","title":"execute first emitted element of reactive chain","body":"<p>but without a subscribe() it will not execute the entire chain (save1, save2) , right or i'm doing confusion?</p>\n<p>Imagine that i have 3 mono objects to save on save2</p>\n<pre><code>-&gt; save 2.1 \n-&gt; save 2.2\n-&gt; save 2.3\n</code></pre>\n<p>after 2.1 save operation (first element) -&gt; get response and save only once</p>\n<pre><code>-&gt; save 3 \n</code></pre>\n<p>instead of save 3 times</p>\n<pre><code>-&gt; save 3\n-&gt; save 3\n-&gt; save 3\n</code></pre>\n<p>So ... the idea is stop chain propagation to not duplicate saved objects in DB.</p>\n"}],"owner":{"account_id":4546904,"reputation":152,"user_id":3693223,"display_name":"Lucho82"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75105148,"answer_count":2,"score":0,"last_activity_date":1674274906,"creation_date":1673562064,"question_id":75102884,"body_markdown":"I am doing a spring webflux reactive code \r\n\r\n     .flatMap(r -&gt; save1)\r\n     .flatMapMany(r -&gt; save2) //save a flux of elements\r\n     .flatMap(r -&gt; save3) //need r.getId\r\n     .subscribe();\r\n    \r\nI want to control the emission of events and only save 3 event for first emitted element of the previous chain (flatmapMany) instead of N times.\r\n\r\nSo in resume, i need to save N elements and catch the first save and ignore the others. I need to result of save2 to pass argument for save3 method.\r\n\r\nthanks,","title":"execute first emitted element of reactive chain","body":"<p>I am doing a spring webflux reactive code</p>\n<pre><code> .flatMap(r -&gt; save1)\n .flatMapMany(r -&gt; save2) //save a flux of elements\n .flatMap(r -&gt; save3) //need r.getId\n .subscribe();\n</code></pre>\n<p>I want to control the emission of events and only save 3 event for first emitted element of the previous chain (flatmapMany) instead of N times.</p>\n<p>So in resume, i need to save N elements and catch the first save and ignore the others. I need to result of save2 to pass argument for save3 method.</p>\n<p>thanks,</p>\n"},{"tags":["java","spring","spring-webflux"],"comments":[{"owner":{"account_id":13794509,"reputation":138,"user_id":9956025,"display_name":"Hrithik Manchanda"},"score":0,"creation_date":1670913071,"post_id":74748859,"comment_id":131976883,"body_markdown":"What is your ENDPOINT_URL value. Also share webTestClient configuration.","body":"What is your ENDPOINT_URL value. Also share webTestClient configuration."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671210217,"creation_date":1671210217,"answer_id":74827609,"question_id":74748859,"body_markdown":"In reactive you need to construct the flow using reactive operators that will be executed when web flux subscribes to this flow. In you case `validateId` is not part of the flow.\r\n\r\nNot sure what is the contract of the `validateId()` but, assuming it&#39;s not reactive, you can use\r\n\r\n```\r\nreturn Mono.fromRunnable(() -&gt; validateId(id))\r\n\t.then(serviceLayer.someMonoData());\r\n```","title":"Junit for method in controller layer","body":"<p>In reactive you need to construct the flow using reactive operators that will be executed when web flux subscribes to this flow. In you case <code>validateId</code> is not part of the flow.</p>\n<p>Not sure what is the contract of the <code>validateId()</code> but, assuming it's not reactive, you can use</p>\n<pre><code>return Mono.fromRunnable(() -&gt; validateId(id))\n    .then(serviceLayer.someMonoData());\n</code></pre>\n"}],"owner":{"account_id":18591034,"reputation":1258,"user_id":13548254,"display_name":"user1354825"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74827609,"answer_count":1,"score":3,"last_activity_date":1674274835,"creation_date":1670625043,"question_id":74748859,"body_markdown":"My rest endpoint looks like:\r\n\r\n```\r\n\r\n@GetMapping(&quot;/mango/{id}&quot;)\r\npublic Mono&lt;Mango&gt; getMango(@PathVariable(&quot;id&quot;) final String id){\r\n\r\nvalidateId(id);\r\nreturn serviceLayer.someMonoData();\r\n}\r\n\r\n```\r\n\r\nMy Junit looks like:\r\n```\r\n\r\n@Test\r\npublic void method(){\r\n\r\nwhen(serviceLayer.someMonoData()).thenReturn(someResponse);\r\n\r\nwebTestClient.get()\r\n   .uri(ENDPOINT_URL)\r\n   .headers(headers)\r\n   .exchange()\r\n   .expectStatus()\r\n   .isBadRequest();\r\n}\r\n```\r\n\r\nThe ```validateId(id);``` method is supposed to throw custom bad request exception for an invalid id. This method is not reactive.\r\n\r\nBut the Junit seems to bypass the ```validate()``` method and proceeds with the service call stub..\r\n\r\nWhat am i missing?\r\n","title":"Junit for method in controller layer","body":"<p>My rest endpoint looks like:</p>\n<pre><code>\n@GetMapping(&quot;/mango/{id}&quot;)\npublic Mono&lt;Mango&gt; getMango(@PathVariable(&quot;id&quot;) final String id){\n\nvalidateId(id);\nreturn serviceLayer.someMonoData();\n}\n\n</code></pre>\n<p>My Junit looks like:</p>\n<pre><code>\n@Test\npublic void method(){\n\nwhen(serviceLayer.someMonoData()).thenReturn(someResponse);\n\nwebTestClient.get()\n   .uri(ENDPOINT_URL)\n   .headers(headers)\n   .exchange()\n   .expectStatus()\n   .isBadRequest();\n}\n</code></pre>\n<p>The <code>validateId(id);</code> method is supposed to throw custom bad request exception for an invalid id. This method is not reactive.</p>\n<p>But the Junit seems to bypass the <code>validate()</code> method and proceeds with the service call stub..</p>\n<p>What am i missing?</p>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"account_id":10357373,"reputation":85,"user_id":7638877,"display_name":"AC-93"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650932016,"creation_date":1650932016,"answer_id":72006977,"question_id":71926196,"body_markdown":"I was able to solve the issue by using `sun.misc.Unsafe.allocateInstance` via google protobuf proxy (https://github.com/protocolbuffers/protobuf/blob/520c601c99012101c816b6ccc89e8d6fc28fdbb8/java/core/src/main/java/com/google/protobuf/UnsafeUtil.java#L98), so now this dependency is compiled separately so I don&#39;t see the warnings and I could expect that google fixes it if `sun.misc.Unsafe` stops working due to java updates.  ","title":"replacement for sun.reflect.ReflectionFactory newConstructorForSerialization","body":"<p>I was able to solve the issue by using <code>sun.misc.Unsafe.allocateInstance</code> via google protobuf proxy (<a href=\"https://github.com/protocolbuffers/protobuf/blob/520c601c99012101c816b6ccc89e8d6fc28fdbb8/java/core/src/main/java/com/google/protobuf/UnsafeUtil.java#L98\" rel=\"nofollow noreferrer\">https://github.com/protocolbuffers/protobuf/blob/520c601c99012101c816b6ccc89e8d6fc28fdbb8/java/core/src/main/java/com/google/protobuf/UnsafeUtil.java#L98</a>), so now this dependency is compiled separately so I don't see the warnings and I could expect that google fixes it if <code>sun.misc.Unsafe</code> stops working due to java updates.</p>\n"}],"owner":{"account_id":10357373,"reputation":85,"user_id":7638877,"display_name":"AC-93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674273773,"creation_date":1650376601,"question_id":71926196,"body_markdown":"there is a project that uses `newConstructorForSerialization(Class&lt;?&gt; incomingArgument, Object.class.getDeclaredConstructor())` to get a constructor that is later used to create objects before they are actually initialized with `foreach field  field.set(instance, fieldObj);`.\r\n\r\nThis api is deprecated in the new java releases and compiler produces many warnings during build so I would like to replace it with something up-to-date. If I understand this code correctly it returns a public available constructor for `incomingArgument` that only initializes `Object` superclass fields, am I right?\r\n\r\nSo it solves three tasks:\r\n1. get the right amount of memory from `mConstructor.newInstance()`;\r\n2. avoids unnecessary field initialization (they will be set later);\r\n3. makes the constructor publicly available (it could be private or not be presented).\r\n\r\nIs there a way to achieve the same without using deprecated api-s?\r\n\r\nThanks.","title":"replacement for sun.reflect.ReflectionFactory newConstructorForSerialization","body":"<p>there is a project that uses <code>newConstructorForSerialization(Class&lt;?&gt; incomingArgument, Object.class.getDeclaredConstructor())</code> to get a constructor that is later used to create objects before they are actually initialized with <code>foreach field  field.set(instance, fieldObj);</code>.</p>\n<p>This api is deprecated in the new java releases and compiler produces many warnings during build so I would like to replace it with something up-to-date. If I understand this code correctly it returns a public available constructor for <code>incomingArgument</code> that only initializes <code>Object</code> superclass fields, am I right?</p>\n<p>So it solves three tasks:</p>\n<ol>\n<li>get the right amount of memory from <code>mConstructor.newInstance()</code>;</li>\n<li>avoids unnecessary field initialization (they will be set later);</li>\n<li>makes the constructor publicly available (it could be private or not be presented).</li>\n</ol>\n<p>Is there a way to achieve the same without using deprecated api-s?</p>\n<p>Thanks.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672301546,"post_id":74948099,"comment_id":132261544,"body_markdown":"Just to make sure, are you using Java 8? Because `tools.jar` no longer exists as of Java 9; its code was moved into JDK modules (e.g., [`jdk.compiler`](https://docs.oracle.com/en/java/javase/19/docs/api/jdk.compiler/module-summary.html)).","body":"Just to make sure, are you using Java 8? Because <code>tools.jar</code> no longer exists as of Java 9; its code was moved into JDK modules (e.g., <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/jdk.compiler/module-summary.html\" rel=\"nofollow noreferrer\"><code>jdk.compiler</code></a>)."},{"owner":{"account_id":3470996,"reputation":1633,"user_id":2905284,"accept_rate":50,"display_name":"Adams.H"},"score":0,"creation_date":1672301653,"post_id":74948099,"comment_id":132261570,"body_markdown":"yesï¼i&#39;m using  Java 8 .","body":"yesï¼i&#39;m using  Java 8 ."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1672302214,"post_id":74948099,"comment_id":132261710,"body_markdown":"Then my guess is what you&#39;ve found is the best approach, though I&#39;ve never personally had reason to depend on `tools.jar` when using Java 8. But I doubt it&#39;s a Maven artifact, as it&#39;s part of the implementation of a JDK. What you&#39;ve found seems reasonable, at least for an application or sub-project library. I&#39;m not sure how `file` dependencies work with external libraries (i.e., those published to and downloaded from a repository). You also have to be mindful of the fact that JREs typically don&#39;t include `tools.jar`.","body":"Then my guess is what you&#39;ve found is the best approach, though I&#39;ve never personally had reason to depend on <code>tools.jar</code> when using Java 8. But I doubt it&#39;s a Maven artifact, as it&#39;s part of the implementation of a JDK. What you&#39;ve found seems reasonable, at least for an application or sub-project library. I&#39;m not sure how <code>file</code> dependencies work with external libraries (i.e., those published to and downloaded from a repository). You also have to be mindful of the fact that JREs typically don&#39;t include <code>tools.jar</code>."},{"owner":{"account_id":3470996,"reputation":1633,"user_id":2905284,"accept_rate":50,"display_name":"Adams.H"},"score":0,"creation_date":1672303476,"post_id":74948099,"comment_id":132262010,"body_markdown":"My process logic only run at compile time , so JRE is not a problem .  it&#39;s quite reasonable because application won&#39;t  depends on jdk things usually . but sometimes it&#39;s the only way to get things done , ie https://stackoverflow.com/questions/6373145/accessing-source-code-from-java-annotation-processor  .","body":"My process logic only run at compile time , so JRE is not a problem .  it&#39;s quite reasonable because application won&#39;t  depends on jdk things usually . but sometimes it&#39;s the only way to get things done , ie <a href=\"https://stackoverflow.com/questions/6373145/accessing-source-code-from-java-annotation-processor\" title=\"accessing source code from java annotation processor\">stackoverflow.com/questions/6373145/&hellip;</a>  ."}],"owner":{"account_id":3470996,"reputation":1633,"user_id":2905284,"accept_rate":50,"display_name":"Adams.H"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674273617,"creation_date":1672296770,"question_id":74948099,"body_markdown":"I need to use `compiler tree api` in my custom annotation processor logic . the compiler tree api belongs to `sun tools.jar` . i was thinking it could be import as a simple normal gradle dependency like `import group: &#39;com.sun&#39;, name: &#39;tools&#39;, version: &#39;1.8&#39;` , But it&#39;s not working . \r\n\r\nI&#39;ve searched many tech blogs , it seems like the common solution is `compile file(&quot;${System.properties[&#39;java.home&#39;]}/../lib/tools.jar&quot;)` , apparently it&#39;s lake of compatibilityã is there any better solution to solve this ï¼","title":"How to import `java sun tools` as a normal gradle dependency?","body":"<p>I need to use <code>compiler tree api</code> in my custom annotation processor logic . the compiler tree api belongs to <code>sun tools.jar</code> . i was thinking it could be import as a simple normal gradle dependency like <code>import group: 'com.sun', name: 'tools', version: '1.8'</code> , But it's not working .</p>\n<p>I've searched many tech blogs , it seems like the common solution is <code>compile file(&quot;${System.properties['java.home']}/../lib/tools.jar&quot;)</code> , apparently it's lake of compatibilityã is there any better solution to solve this ï¼</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1674273519,"post_id":75191001,"comment_id":132685144,"body_markdown":"Code in the &quot;unnamed package&quot; can use any other code visible to it (including other classes in the unnamed package). But code in named packages have no way to import classes in the unnamed package. Regardless, it&#39;s good practice to use packages in all but the most trivial of applications. To use a class in another source file, import it if the two classes are not in the same package, and then just use it like normal (e.g., `var instance = new TheOtherClass();`).","body":"Code in the &quot;unnamed package&quot; can use any other code visible to it (including other classes in the unnamed package). But code in named packages have no way to import classes in the unnamed package. Regardless, it&#39;s good practice to use packages in all but the most trivial of applications. To use a class in another source file, import it if the two classes are not in the same package, and then just use it like normal (e.g., <code>var instance = new TheOtherClass();</code>)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1674273581,"post_id":75191001,"comment_id":132685153,"body_markdown":"As for the &quot;_The declared package &quot;packager&quot; does not match the expected package_&quot; error, my guess is that VS Code doesn&#39;t have `src` setup as the root source directory (not sure why if it creates that directory for you).","body":"As for the &quot;<i>The declared package &quot;packager&quot; does not match the expected package</i>&quot; error, my guess is that VS Code doesn&#39;t have <code>src</code> setup as the root source directory (not sure why if it creates that directory for you)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1674300492,"post_id":75191001,"comment_id":132687966,"body_markdown":"Don&#39;t think file/directory, think class, classpath","body":"Don&#39;t think file/directory, think class, classpath"}],"owner":{"account_id":27585173,"reputation":21,"user_id":21053512,"display_name":"Duck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674272190,"creation_date":1674272190,"question_id":75191001,"body_markdown":"Do they have to be in the &quot;package&quot;, or is it fine as long as they are both in the &quot;src&quot; directory.\r\n\r\n   For context, I&#39;m using VSCode with the Java extension enabled. It automatically sets up the    project directory to look like this:\r\n\r\n   ```\r\n   newproject.java (directory name)\r\n   âââ bin\r\n   âââ src\r\n    âââ App.java \r\n   ```\r\n   Should I be doing this?\r\n   ```\r\n      newproject.java (directory name)\r\n      âââ bin\r\n      âââ src\r\n       âââ packager\r\n         âââ App.java \r\n   ```\r\n\r\nand then specify the package in all java files, for example:\r\n\r\n   ```\r\n      package packager\r\n      public class App { \r\n           // more code\r\n      } \r\n   ```\r\n\r\n   ```\r\n      package packager\r\n      public class TheOtherClass { \r\n           // more code\r\n      } \r\n   ```\r\n\r\nOr will they be fine as long as they are under src? Or am I totally missing the point? \r\n\r\nRight now I&#39;m getting `The declared package &quot;packager&quot; does not match the expected package` error in both files.","title":"How to instantiate an object from a class in Java that is located in another file","body":"<p>Do they have to be in the &quot;package&quot;, or is it fine as long as they are both in the &quot;src&quot; directory.</p>\n<p>For context, I'm using VSCode with the Java extension enabled. It automatically sets up the    project directory to look like this:</p>\n<pre><code>newproject.java (directory name)\nâââ bin\nâââ src\n âââ App.java \n</code></pre>\n<p>Should I be doing this?</p>\n<pre><code>   newproject.java (directory name)\n   âââ bin\n   âââ src\n    âââ packager\n      âââ App.java \n</code></pre>\n<p>and then specify the package in all java files, for example:</p>\n<pre><code>   package packager\n   public class App { \n        // more code\n   } \n</code></pre>\n<pre><code>   package packager\n   public class TheOtherClass { \n        // more code\n   } \n</code></pre>\n<p>Or will they be fine as long as they are under src? Or am I totally missing the point?</p>\n<p>Right now I'm getting <code>The declared package &quot;packager&quot; does not match the expected package</code> error in both files.</p>\n"},{"tags":["java","spring","javabeans"],"owner":{"account_id":7450105,"reputation":11,"user_id":7666546,"display_name":"Sanjana S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674271253,"creation_date":1674271253,"question_id":75190942,"body_markdown":"I have 2 classes with name &quot;App&quot; in 2 of the dependency packages.\r\n\r\n```\r\npackage1;\r\n@SpringBootApplication\r\n@EnableCaching\r\nclass App {\r\n}\r\n\r\npackage2;\r\n@SpringBootApplication\r\n@EnableCaching\r\nclass App {\r\n}\r\n```\r\n\r\nMy main class:\r\n```\r\npackage3;\r\n@SpringBootApplication\r\n@EnableCaching\r\nclass MainApp {\r\n}\r\n```\r\nI am running MainApp and getting the below exception:\r\n\r\n**Annotation-specified bean name for bean class A conflicts with existing, non-compatible bean definition of same name and class B**\r\n\r\nIdeally class App of package1 and package2 should not even be scanned since they are in different packages.\r\n\r\nTried using exclude in springbootconfiguration annotation(as shown below) but this is not working as well.\r\n\r\n```\r\npackage3;\r\n@SpringBootApplication(scanBasePackages = {package1}, exclude = {App.class})\r\nclass MainApp {\r\n}\r\n```\r\n\r\nHow can I run MainApp without conflictionBeanDefinition error. I do not have access to source code of package1 and package2.","title":"Spring ConflictingBeanDefinitionException for main classes of library classes","body":"<p>I have 2 classes with name &quot;App&quot; in 2 of the dependency packages.</p>\n<pre><code>package1;\n@SpringBootApplication\n@EnableCaching\nclass App {\n}\n\npackage2;\n@SpringBootApplication\n@EnableCaching\nclass App {\n}\n</code></pre>\n<p>My main class:</p>\n<pre><code>package3;\n@SpringBootApplication\n@EnableCaching\nclass MainApp {\n}\n</code></pre>\n<p>I am running MainApp and getting the below exception:</p>\n<p><strong>Annotation-specified bean name for bean class A conflicts with existing, non-compatible bean definition of same name and class B</strong></p>\n<p>Ideally class App of package1 and package2 should not even be scanned since they are in different packages.</p>\n<p>Tried using exclude in springbootconfiguration annotation(as shown below) but this is not working as well.</p>\n<pre><code>package3;\n@SpringBootApplication(scanBasePackages = {package1}, exclude = {App.class})\nclass MainApp {\n}\n</code></pre>\n<p>How can I run MainApp without conflictionBeanDefinition error. I do not have access to source code of package1 and package2.</p>\n"},{"tags":["java","android","android-fragments","qr-code","android-fragmentactivity"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674275302,"post_id":75190866,"comment_id":132685283,"body_markdown":"It is crashing in the emulator?  Then please show us the stacktrace!","body":"It is crashing in the emulator?  Then please show us the stacktrace!"}],"owner":{"account_id":26567360,"reputation":20,"user_id":20194160,"display_name":"EagleGrant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674269669,"creation_date":1674269669,"question_id":75190866,"body_markdown":"I am trying to get a QR code to be encoded based on data collected throughout the other fragments and sent to the MainActivity. Then, at the end, I want to call getAllData(), which returns all data in one string. It will do this when a FloatingActionButton is clicked (fabGenerate). Currently, it will load the fragment, and when you click on the fab, it will go into the correct case (R.id.fabGenerate) and run until &quot;//error here&quot;. Also, I do NOT get an error message, due to the crash only occurring on the emulator.\r\n\r\n```\r\n String data;\r\n    @Override\r\n    public void onClick(View v) {\r\n        switch (v.getId()) {\r\n            case R.id.fabGenerate:\r\n                Activity activity = getActivity();\r\n                if (activity != null &amp;&amp; activity instanceof MainActivity) {\r\n                    data = ((MainActivity) activity).getAllData(); //error here\r\n                }\r\n\r\n                qrgEncoder = new QRGEncoder(data, null, QRGContents.Type.TEXT, ((MainActivity)getActivity()).getDimen());\r\n                break;\r\n        }\r\n}\r\n```\r\n\r\nI have tried first having data within the qrgEncoder line, where it will only do\r\n\r\n```\r\nqrgEncoder = new QRGEncoder(((MainActivity) getActivity).getAllData(), null, QRGContents.Type.TEXT, ((MainActivity)getActivity()).getDimen());\r\n```\r\n\r\nThis did not work, and would still crash ONLY when it was run, not built.  \r\nI have also tried using Toast.makeText&#39;s to print a line, which determined that the error is within this piece of code.","title":"Why can&#39;t I call this String method from within a fragment?","body":"<p>I am trying to get a QR code to be encoded based on data collected throughout the other fragments and sent to the MainActivity. Then, at the end, I want to call getAllData(), which returns all data in one string. It will do this when a FloatingActionButton is clicked (fabGenerate). Currently, it will load the fragment, and when you click on the fab, it will go into the correct case (R.id.fabGenerate) and run until &quot;//error here&quot;. Also, I do NOT get an error message, due to the crash only occurring on the emulator.</p>\n<pre><code> String data;\n    @Override\n    public void onClick(View v) {\n        switch (v.getId()) {\n            case R.id.fabGenerate:\n                Activity activity = getActivity();\n                if (activity != null &amp;&amp; activity instanceof MainActivity) {\n                    data = ((MainActivity) activity).getAllData(); //error here\n                }\n\n                qrgEncoder = new QRGEncoder(data, null, QRGContents.Type.TEXT, ((MainActivity)getActivity()).getDimen());\n                break;\n        }\n}\n</code></pre>\n<p>I have tried first having data within the qrgEncoder line, where it will only do</p>\n<pre><code>qrgEncoder = new QRGEncoder(((MainActivity) getActivity).getAllData(), null, QRGContents.Type.TEXT, ((MainActivity)getActivity()).getDimen());\n</code></pre>\n<p>This did not work, and would still crash ONLY when it was run, not built.<br />\nI have also tried using Toast.makeText's to print a line, which determined that the error is within this piece of code.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1674267863,"post_id":75190667,"comment_id":132684693,"body_markdown":"What&#39;s a Spring Book, lol? ... hmmm.  maybe that was what you meant to type.  Is the &quot;Book&quot; in the subject correct or should that be &quot;Boot&quot;?","body":"What&#39;s a Spring Book, lol? ... hmmm.  maybe that was what you meant to type.  Is the &quot;Book&quot; in the subject correct or should that be &quot;Boot&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":18739573,"reputation":14,"user_id":13663091,"display_name":"Braulio Monroy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674269260,"creation_date":1674267614,"answer_id":75190783,"question_id":75190667,"body_markdown":"the way to do so it&#39;s creating a new class to handle your JSON object, Spring need to know the strcucture of your JSON. Do it like so\r\n\r\nClass Book:\r\n\r\n    @Data\r\n    public class Book {\r\n       public int id;\r\n       public String title;\r\n       public String desc;\r\n    }\r\n\r\nCreeate a Request class to hadle your JSON:\r\n\r\nReminder! attributes name has to have the same as your JSON request\r\n\r\n    @Data\r\n    public class BookRequest {\r\n\r\n       public Book Book;\r\n\r\n        /* You can set the other next tow attributes if you want\r\n          public String function_call;\r\n          public Long date_called;\r\n        */\r\n    } \r\n\r\n\r\n\r\nAnd then set your Book Request class as a parameter and youre be able to get only the data on Book obj in your JSON:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nJSON request: \r\n\r\n    {\r\n      &quot;function_call&quot;: &quot;create_book&quot;,\r\n      &quot;date_called&quot;: 1672753599223,\r\n      &quot;Book&quot;: {\r\n      &quot;id&quot;: 1,\r\n      &quot;title&quot;: &quot;Spring Book use nested json object for RequestBody&quot;,\r\n      &quot;desc&quot;: &quot;Stackoverflow jason question&quot;\r\n     }\r\n    }\r\n\r\n\r\n  [3]: https://i.stack.imgur.com/ComGy.png\r\n\r\n","title":"Spring Book use nested json object for RequestBody","body":"<p>the way to do so it's creating a new class to handle your JSON object, Spring need to know the strcucture of your JSON. Do it like so</p>\n<p>Class Book:</p>\n<pre><code>@Data\npublic class Book {\n   public int id;\n   public String title;\n   public String desc;\n}\n</code></pre>\n<p>Creeate a Request class to hadle your JSON:</p>\n<p>Reminder! attributes name has to have the same as your JSON request</p>\n<pre><code>@Data\npublic class BookRequest {\n\n   public Book Book;\n\n    /* You can set the other next tow attributes if you want\n      public String function_call;\n      public Long date_called;\n    */\n} \n</code></pre>\n<p>And then set your Book Request class as a parameter and youre be able to get only the data on Book obj in your JSON:</p>\n<p><a href=\"https://i.stack.imgur.com/ComGy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ComGy.png\" alt=\"enter image description here\" /></a></p>\n<p>JSON request:</p>\n<pre><code>{\n  &quot;function_call&quot;: &quot;create_book&quot;,\n  &quot;date_called&quot;: 1672753599223,\n  &quot;Book&quot;: {\n  &quot;id&quot;: 1,\n  &quot;title&quot;: &quot;Spring Book use nested json object for RequestBody&quot;,\n  &quot;desc&quot;: &quot;Stackoverflow jason question&quot;\n }\n}\n</code></pre>\n"}],"owner":{"account_id":86444,"reputation":3523,"user_id":240385,"accept_rate":75,"display_name":"jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674269260,"creation_date":1674264559,"question_id":75190667,"body_markdown":"I have a controller that I want to accept a custom object in it&#39;s request body.  But, the json data coming in is nested.  Is it possible to map the nested json object to a class?  Or, do I need to take the json object in as a string instead and use a json mapper (like Jackson)?  Here is an example of what I mean:\r\n\r\n**json data being sent:**\r\n\r\n    {\r\n       &#39;function_call&#39;: &#39;create_book&#39;,\r\n       &#39;date_called&#39;: 1672753599223,\r\n       &#39;Book&#39;:{\r\n          &#39;id&#39;: 1,\r\n          &#39;title&#39;: &quot;some title&#39;,\r\n          &#39;desc&#39;: &#39;some desc&#39;\r\n       }\r\n    }\r\n\r\n**Book class:**\r\n\r\n    @Data\r\n    public class Book{\r\n       public int id;\r\n       public String title;\r\n       public String desc;\r\n    }\r\n\r\n**Controller:**\r\n\r\n\r\n    @PostMapping(&quot;/data-product&quot;)\r\n    @ResponseBody\r\n    public void createBook(@RequestBody Book book) {          \r\n        System.out.print(book);        \r\n    }\r\n\r\n","title":"Spring Book use nested json object for RequestBody","body":"<p>I have a controller that I want to accept a custom object in it's request body.  But, the json data coming in is nested.  Is it possible to map the nested json object to a class?  Or, do I need to take the json object in as a string instead and use a json mapper (like Jackson)?  Here is an example of what I mean:</p>\n<p><strong>json data being sent:</strong></p>\n<pre><code>{\n   'function_call': 'create_book',\n   'date_called': 1672753599223,\n   'Book':{\n      'id': 1,\n      'title': &quot;some title',\n      'desc': 'some desc'\n   }\n}\n</code></pre>\n<p><strong>Book class:</strong></p>\n<pre><code>@Data\npublic class Book{\n   public int id;\n   public String title;\n   public String desc;\n}\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>@PostMapping(&quot;/data-product&quot;)\n@ResponseBody\npublic void createBook(@RequestBody Book book) {          \n    System.out.print(book);        \n}\n</code></pre>\n"},{"tags":["java","json","xml-parsing","xml-to-json","underscore-java"],"comments":[{"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"score":0,"creation_date":1595118597,"post_id":62971263,"comment_id":111364112,"body_markdown":"Underscore-java library has a static method U.xmlToJson(xml).","body":"Underscore-java library has a static method U.xmlToJson(xml)."},{"owner":{"account_id":16400246,"reputation":141,"user_id":11846473,"display_name":"mosiek"},"score":0,"creation_date":1595149362,"post_id":62971263,"comment_id":111369324,"body_markdown":"@ValentynKolesnikov in my opinion this method doesen&#39;t work. Could you show me how can I use it in my case?","body":"@ValentynKolesnikov in my opinion this method doesen&#39;t work. Could you show me how can I use it in my case?"},{"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"score":0,"creation_date":1595174762,"post_id":62971263,"comment_id":111376951,"body_markdown":"It will convert to this json:\n\n{\n  &quot;reservations&quot;: {\n    &quot;reservation&quot;: [\n      {\n        &quot;id&quot;: &quot;1318504&quot;,\n        &quot;add_date&quot;: &quot;2020-12-10 12:48:09&quot;,\n        &quot;rooms&quot;: {\n          &quot;room&quot;: [\n            {\n              &quot;id&quot;: &quot;28902&quot;,\n              &quot;floor&quot;: &quot;2&quot;\n            },\n            {\n              &quot;id&quot;: &quot;28903&quot;,\n              &quot;floor&quot;: &quot;3&quot;\n            }\n          ]\n        }\n      },\n      {\n        &quot;id&quot;: &quot;1318501&quot;,\n        &quot;add_date&quot;: &quot;2021-05-07 07:47:05&quot;,\n...\n}","body":"It will convert to this json:  {   &quot;reservations&quot;: {     &quot;reservation&quot;: [       {         &quot;id&quot;: &quot;1318504&quot;,         &quot;add_date&quot;: &quot;2020-12-10 12:48:09&quot;,         &quot;rooms&quot;: {           &quot;room&quot;: [             {               &quot;id&quot;: &quot;28902&quot;,               &quot;floor&quot;: &quot;2&quot;             },             {               &quot;id&quot;: &quot;28903&quot;,               &quot;floor&quot;: &quot;3&quot;             }           ]         }       },       {         &quot;id&quot;: &quot;1318501&quot;,         &quot;add_date&quot;: &quot;2021-05-07 07:47:05&quot;, ... }"},{"owner":{"account_id":16400246,"reputation":141,"user_id":11846473,"display_name":"mosiek"},"score":0,"creation_date":1595224015,"post_id":62971263,"comment_id":111388639,"body_markdown":"Read please my question in main topic again...","body":"Read please my question in main topic again..."},{"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"score":0,"creation_date":1595504916,"post_id":62971263,"comment_id":111501427,"body_markdown":"I added the solution.","body":"I added the solution."}],"answers":[{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643043581,"creation_date":1595504891,"answer_id":63053541,"question_id":62971263,"body_markdown":"The solution:\r\n\r\n    import com.github.underscore.U;\r\n\r\n        String xml = &quot;&lt;reservations&gt;\\n&quot;\r\n              + &quot;    &lt;reservation&gt;\\n&quot;\r\n              + &quot;        &lt;id&gt;1318504&lt;/id&gt;\\n&quot;\r\n              + &quot;        &lt;add_date&gt;2020-12-10 12:48:09&lt;/add_date&gt;\\n&quot;\r\n              + &quot;        &lt;rooms&gt;  \\n&quot;\r\n              + &quot;            &lt;room&gt;\\n&quot;\r\n              + &quot;                &lt;id&gt;28902&lt;/id&gt;\\n&quot;\r\n              + &quot;                &lt;floor&gt;2&lt;/floor&gt;\\n&quot;\r\n              + &quot;            &lt;/room&gt;  \\n&quot;\r\n              + &quot;            &lt;room&gt;\\n&quot;\r\n              + &quot;                &lt;id&gt;28903&lt;/id&gt;\\n&quot;\r\n              + &quot;                &lt;floor&gt;3&lt;/floor&gt;\\n&quot;\r\n              + &quot;            &lt;/room&gt;\\n&quot;\r\n              + &quot;        &lt;/rooms&gt;\\n&quot;\r\n              + &quot;    &lt;/reservation &gt;\\n&quot;\r\n              + &quot;    &lt;reservation&gt;\\n&quot;\r\n              + &quot;        &lt;id&gt;1318501&lt;/id&gt;\\n&quot;\r\n              + &quot;        &lt;add_date&gt;2021-05-07 07:47:05&lt;/add_date&gt;\\n&quot;\r\n              + &quot;        &lt;rooms&gt;\\n&quot;\r\n              + &quot;            &lt;room&gt;\\n&quot;\r\n              + &quot;                &lt;id&gt;5&lt;/id&gt;\\n&quot;\r\n              + &quot;                &lt;floor&gt;25&lt;/floor&gt;\\n&quot;\r\n              + &quot;            &lt;/room&gt;\\n&quot;\r\n              + &quot;            &lt;room&gt;\\n&quot;\r\n              + &quot;                &lt;id&gt;6&lt;/id&gt;\\n&quot;\r\n              + &quot;            &lt;/room&gt;\\n&quot;\r\n              + &quot;        &lt;/rooms&gt;\\n&quot;\r\n              + &quot;    &lt;/reservation&gt;\\n&quot;\r\n              + &quot;&lt;/reservations&gt;&quot;;\r\n        Map&lt;String, Object&gt; map = U.fromXmlMap(xml);\r\n        U.set(map, &quot;reservations&quot;, U.get(map, &quot;reservations.reservation&quot;));\r\n        List&lt;Map&lt;String, Object&gt;&gt; list = U.get(map, &quot;reservations&quot;);\r\n        for (Map&lt;String, Object&gt; item : list) {\r\n            U.set(item, &quot;rooms&quot;, U.get(item, &quot;rooms.room&quot;));\r\n        }\r\n        System.out.println(U.toJson(map));\r\n\r\nResult:\r\n\r\n    {\r\n      &quot;reservations&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;1318504&quot;,\r\n          &quot;add_date&quot;: &quot;2020-12-10 12:48:09&quot;,\r\n          &quot;rooms&quot;: [\r\n            {\r\n              &quot;id&quot;: &quot;28902&quot;,\r\n              &quot;floor&quot;: &quot;2&quot;\r\n            },\r\n            {\r\n              &quot;id&quot;: &quot;28903&quot;,\r\n              &quot;floor&quot;: &quot;3&quot;\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;1318501&quot;,\r\n          &quot;add_date&quot;: &quot;2021-05-07 07:47:05&quot;,\r\n          &quot;rooms&quot;: [\r\n            {\r\n              &quot;id&quot;: &quot;5&quot;,\r\n              &quot;floor&quot;: &quot;25&quot;\r\n            },\r\n            {\r\n              &quot;id&quot;: &quot;6&quot;\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      &quot;#omit-xml-declaration&quot;: &quot;yes&quot;\r\n    }\r\n","title":"Converting xml of any structure to json with nested arrays","body":"<p>The solution:</p>\n<pre><code>import com.github.underscore.U;\n\n    String xml = &quot;&lt;reservations&gt;\\n&quot;\n          + &quot;    &lt;reservation&gt;\\n&quot;\n          + &quot;        &lt;id&gt;1318504&lt;/id&gt;\\n&quot;\n          + &quot;        &lt;add_date&gt;2020-12-10 12:48:09&lt;/add_date&gt;\\n&quot;\n          + &quot;        &lt;rooms&gt;  \\n&quot;\n          + &quot;            &lt;room&gt;\\n&quot;\n          + &quot;                &lt;id&gt;28902&lt;/id&gt;\\n&quot;\n          + &quot;                &lt;floor&gt;2&lt;/floor&gt;\\n&quot;\n          + &quot;            &lt;/room&gt;  \\n&quot;\n          + &quot;            &lt;room&gt;\\n&quot;\n          + &quot;                &lt;id&gt;28903&lt;/id&gt;\\n&quot;\n          + &quot;                &lt;floor&gt;3&lt;/floor&gt;\\n&quot;\n          + &quot;            &lt;/room&gt;\\n&quot;\n          + &quot;        &lt;/rooms&gt;\\n&quot;\n          + &quot;    &lt;/reservation &gt;\\n&quot;\n          + &quot;    &lt;reservation&gt;\\n&quot;\n          + &quot;        &lt;id&gt;1318501&lt;/id&gt;\\n&quot;\n          + &quot;        &lt;add_date&gt;2021-05-07 07:47:05&lt;/add_date&gt;\\n&quot;\n          + &quot;        &lt;rooms&gt;\\n&quot;\n          + &quot;            &lt;room&gt;\\n&quot;\n          + &quot;                &lt;id&gt;5&lt;/id&gt;\\n&quot;\n          + &quot;                &lt;floor&gt;25&lt;/floor&gt;\\n&quot;\n          + &quot;            &lt;/room&gt;\\n&quot;\n          + &quot;            &lt;room&gt;\\n&quot;\n          + &quot;                &lt;id&gt;6&lt;/id&gt;\\n&quot;\n          + &quot;            &lt;/room&gt;\\n&quot;\n          + &quot;        &lt;/rooms&gt;\\n&quot;\n          + &quot;    &lt;/reservation&gt;\\n&quot;\n          + &quot;&lt;/reservations&gt;&quot;;\n    Map&lt;String, Object&gt; map = U.fromXmlMap(xml);\n    U.set(map, &quot;reservations&quot;, U.get(map, &quot;reservations.reservation&quot;));\n    List&lt;Map&lt;String, Object&gt;&gt; list = U.get(map, &quot;reservations&quot;);\n    for (Map&lt;String, Object&gt; item : list) {\n        U.set(item, &quot;rooms&quot;, U.get(item, &quot;rooms.room&quot;));\n    }\n    System.out.println(U.toJson(map));\n</code></pre>\n<p>Result:</p>\n<pre><code>{\n  &quot;reservations&quot;: [\n    {\n      &quot;id&quot;: &quot;1318504&quot;,\n      &quot;add_date&quot;: &quot;2020-12-10 12:48:09&quot;,\n      &quot;rooms&quot;: [\n        {\n          &quot;id&quot;: &quot;28902&quot;,\n          &quot;floor&quot;: &quot;2&quot;\n        },\n        {\n          &quot;id&quot;: &quot;28903&quot;,\n          &quot;floor&quot;: &quot;3&quot;\n        }\n      ]\n    },\n    {\n      &quot;id&quot;: &quot;1318501&quot;,\n      &quot;add_date&quot;: &quot;2021-05-07 07:47:05&quot;,\n      &quot;rooms&quot;: [\n        {\n          &quot;id&quot;: &quot;5&quot;,\n          &quot;floor&quot;: &quot;25&quot;\n        },\n        {\n          &quot;id&quot;: &quot;6&quot;\n        }\n      ]\n    }\n  ],\n  &quot;#omit-xml-declaration&quot;: &quot;yes&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1646813,"reputation":736,"user_id":1518211,"accept_rate":55,"display_name":"eejai42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674268904,"creation_date":1674268904,"answer_id":75190831,"question_id":62971263,"body_markdown":"You may be able to use json:Array=&quot;true&quot; in the array - and the JsonConvert will interpret it correctly.\r\n\r\nhttps://www.newtonsoft.com/json/help/html/ConvertXmlToJsonForceArray.htm","title":"Converting xml of any structure to json with nested arrays","body":"<p>You may be able to use json:Array=&quot;true&quot; in the array - and the JsonConvert will interpret it correctly.</p>\n<p><a href=\"https://www.newtonsoft.com/json/help/html/ConvertXmlToJsonForceArray.htm\" rel=\"nofollow noreferrer\">https://www.newtonsoft.com/json/help/html/ConvertXmlToJsonForceArray.htm</a></p>\n"}],"owner":{"account_id":16400246,"reputation":141,"user_id":11846473,"display_name":"mosiek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674268904,"creation_date":1595091524,"question_id":62971263,"body_markdown":"I have XML which can be of any structure like below. Therefore there is no POJO class for instantiation. As you can see I have nested arrays (in this case `reservations` is an array of two `reservation` and every `reservation` have simple elements and arrays of `rooms` - but that is only example - there may be more arrays and nested arrays).\r\n\r\n    &lt;reservations&gt;\r\n    \t&lt;reservation&gt;\r\n    \t\t&lt;id&gt;1318504&lt;/id&gt;\r\n    \t\t&lt;add_date&gt;2020-12-10 12:48:09&lt;/add_date&gt;\r\n    \t\t&lt;rooms&gt;\t \r\n    \t\t    &lt;room&gt;\r\n    \t\t\t\t&lt;id&gt;28902&lt;/id&gt;\r\n    \t\t\t\t&lt;floor&gt;2&lt;/floor&gt;\r\n    \t\t\t&lt;/room&gt;\t \r\n    \t\t\t&lt;room&gt;\r\n    \t\t\t\t&lt;id&gt;28903&lt;/id&gt;\r\n    \t\t\t\t&lt;floor&gt;3&lt;/floor&gt;\r\n    \t\t\t&lt;/room&gt;\r\n    \t\t&lt;/rooms&gt;\r\n    \t&lt;/reservation &gt;\r\n    \t&lt;reservation&gt;\r\n    \t\t&lt;id&gt;1318501&lt;/id&gt;\r\n    \t\t&lt;add_date&gt;2021-05-07 07:47:05&lt;/add_date&gt;\r\n    \t\t&lt;rooms&gt;\r\n    \t\t\t&lt;room&gt;\r\n    \t\t\t\t&lt;id&gt;5&lt;/id&gt;\r\n    \t\t\t\t&lt;floor&gt;25&lt;/floor&gt;\r\n    \t\t\t&lt;/room&gt;\r\n    \t\t\t&lt;room&gt;\r\n    \t\t\t\t&lt;id&gt;6&lt;/id&gt;\r\n    \t\t\t&lt;/room&gt;\r\n    \t\t&lt;/rooms&gt;\r\n    \t&lt;/reservation&gt;\r\n    &lt;/reservations&gt;\r\n\t\r\nI need to convert it to Json as:\r\n\r\n    {\r\n       &quot;reservations&quot;:[\r\n          {\r\n             &quot;id&quot;:&quot;1318504&quot;,\r\n             &quot;add_date&quot;:&quot;2020-12-10 12:48:09&quot;,\r\n    \t\t &quot;rooms&quot;:[\r\n                {\r\n                   &quot;id&quot;:&quot;28902&quot;,\r\n    \t\t\t   &quot;floor&quot;:2\r\n                   \r\n                },\r\n                {\r\n                   &quot;id&quot;:&quot;28903&quot;,\r\n    \t\t\t   &quot;floor&quot;:3\r\n                }\r\n             ]\r\n          },\r\n          {\r\n             &quot;id&quot;:&quot;1318501&quot;,\r\n             &quot;add_date&quot;:&quot;2021-05-07 07:47:05&quot;,\r\n    \t\t &quot;rooms&quot;:[\r\n                {\r\n                   &quot;id&quot;:&quot;5&quot;,\r\n    \t\t\t   &quot;floor&quot;:25\r\n                   \r\n                },\r\n                {\r\n                   &quot;id&quot;:&quot;6&quot;\r\n                }\r\n             ]\r\n          }\r\n       ]\r\n    }\r\n\r\n\t \r\nI have read lots of topic about converting XML to Json. I tried something like:\r\n\r\n\r\n\r\n 1. json.org\r\n\r\n    ```JSONObject xmlJSONObj = XML.toJSONObject(xmlString);```\r\n2. jackson\r\n\r\n    ```JsonNode node = new XmlMapper().readTree(xmlContent);```\r\n3. underscore-java\r\n\r\n    ```String jsonString = U.xmlToJson(xmlContent)```\r\n\r\nand so on. Bu the result, in best case is like:\r\n\r\n    {\r\n       &quot;reservations&quot;:{\r\n          &quot;reservation&quot;:[\r\n             {\r\n                &quot;rooms&quot;:{\r\n                   &quot;room&quot;:[\r\n                      {\r\n                         &quot;id&quot;:28902,\r\n                         &quot;floor&quot;:2\r\n                      },\r\n                      {\r\n                         &quot;id&quot;:28903,\r\n                         &quot;floor&quot;:3\r\n                      }\r\n                   ]\r\n                },\r\n                &quot;add_date&quot;:&quot;2020-12-10 12:48:09&quot;,\r\n                &quot;id&quot;:1318504\r\n             },\r\n             {\r\n                &quot;rooms&quot;:{\r\n                   &quot;room&quot;:[\r\n                      {\r\n                         &quot;id&quot;:5,\r\n                         &quot;floor&quot;:25\r\n                      },\r\n                      {\r\n                         &quot;id&quot;:6\r\n                      }\r\n                   ]\r\n                },\r\n                &quot;add_date&quot;:&quot;2021-05-07 07:47:05&quot;,\r\n                &quot;id&quot;:1318501\r\n             }\r\n          ]\r\n       }\r\n    }\r\n\r\nI don&#39;t need nodes like `reservation` and `room`. Could you help me how can I solve this problem? I can manipulate with xml or json, but the form without these nodes is my target.","title":"Converting xml of any structure to json with nested arrays","body":"<p>I have XML which can be of any structure like below. Therefore there is no POJO class for instantiation. As you can see I have nested arrays (in this case <code>reservations</code> is an array of two <code>reservation</code> and every <code>reservation</code> have simple elements and arrays of <code>rooms</code> - but that is only example - there may be more arrays and nested arrays).</p>\n<pre><code>&lt;reservations&gt;\n    &lt;reservation&gt;\n        &lt;id&gt;1318504&lt;/id&gt;\n        &lt;add_date&gt;2020-12-10 12:48:09&lt;/add_date&gt;\n        &lt;rooms&gt;  \n            &lt;room&gt;\n                &lt;id&gt;28902&lt;/id&gt;\n                &lt;floor&gt;2&lt;/floor&gt;\n            &lt;/room&gt;  \n            &lt;room&gt;\n                &lt;id&gt;28903&lt;/id&gt;\n                &lt;floor&gt;3&lt;/floor&gt;\n            &lt;/room&gt;\n        &lt;/rooms&gt;\n    &lt;/reservation &gt;\n    &lt;reservation&gt;\n        &lt;id&gt;1318501&lt;/id&gt;\n        &lt;add_date&gt;2021-05-07 07:47:05&lt;/add_date&gt;\n        &lt;rooms&gt;\n            &lt;room&gt;\n                &lt;id&gt;5&lt;/id&gt;\n                &lt;floor&gt;25&lt;/floor&gt;\n            &lt;/room&gt;\n            &lt;room&gt;\n                &lt;id&gt;6&lt;/id&gt;\n            &lt;/room&gt;\n        &lt;/rooms&gt;\n    &lt;/reservation&gt;\n&lt;/reservations&gt;\n</code></pre>\n<p>I need to convert it to Json as:</p>\n<pre><code>{\n   &quot;reservations&quot;:[\n      {\n         &quot;id&quot;:&quot;1318504&quot;,\n         &quot;add_date&quot;:&quot;2020-12-10 12:48:09&quot;,\n         &quot;rooms&quot;:[\n            {\n               &quot;id&quot;:&quot;28902&quot;,\n               &quot;floor&quot;:2\n               \n            },\n            {\n               &quot;id&quot;:&quot;28903&quot;,\n               &quot;floor&quot;:3\n            }\n         ]\n      },\n      {\n         &quot;id&quot;:&quot;1318501&quot;,\n         &quot;add_date&quot;:&quot;2021-05-07 07:47:05&quot;,\n         &quot;rooms&quot;:[\n            {\n               &quot;id&quot;:&quot;5&quot;,\n               &quot;floor&quot;:25\n               \n            },\n            {\n               &quot;id&quot;:&quot;6&quot;\n            }\n         ]\n      }\n   ]\n}\n\n \n</code></pre>\n<p>I have read lots of topic about converting XML to Json. I tried something like:</p>\n<ol>\n<li><p>json.org</p>\n<p><code>JSONObject xmlJSONObj = XML.toJSONObject(xmlString);</code></p>\n</li>\n<li><p>jackson</p>\n<p><code>JsonNode node = new XmlMapper().readTree(xmlContent);</code></p>\n</li>\n<li><p>underscore-java</p>\n<p><code>String jsonString = U.xmlToJson(xmlContent)</code></p>\n</li>\n</ol>\n<p>and so on. Bu the result, in best case is like:</p>\n<pre><code>{\n   &quot;reservations&quot;:{\n      &quot;reservation&quot;:[\n         {\n            &quot;rooms&quot;:{\n               &quot;room&quot;:[\n                  {\n                     &quot;id&quot;:28902,\n                     &quot;floor&quot;:2\n                  },\n                  {\n                     &quot;id&quot;:28903,\n                     &quot;floor&quot;:3\n                  }\n               ]\n            },\n            &quot;add_date&quot;:&quot;2020-12-10 12:48:09&quot;,\n            &quot;id&quot;:1318504\n         },\n         {\n            &quot;rooms&quot;:{\n               &quot;room&quot;:[\n                  {\n                     &quot;id&quot;:5,\n                     &quot;floor&quot;:25\n                  },\n                  {\n                     &quot;id&quot;:6\n                  }\n               ]\n            },\n            &quot;add_date&quot;:&quot;2021-05-07 07:47:05&quot;,\n            &quot;id&quot;:1318501\n         }\n      ]\n   }\n}\n</code></pre>\n<p>I don't need nodes like <code>reservation</code> and <code>room</code>. Could you help me how can I solve this problem? I can manipulate with xml or json, but the form without these nodes is my target.</p>\n"},{"tags":["java","android","android-fragments","android-activity","android-fragmentactivity"],"answers":[{"tags":[],"owner":{"account_id":26567360,"reputation":20,"user_id":20194160,"display_name":"EagleGrant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674267858,"creation_date":1674267858,"answer_id":75190792,"question_id":75190076,"body_markdown":"I have found my problem. Within this line, \r\n\r\n    WindowManager manager = (WindowManager) getSystemService(WINDOW_SERVICE);\r\nIt should be \r\n\r\n    WindowManager manager = (WindowManager) this.getSystemService(WINDOW_SERVICE);\r\nThis is because WindowManager requires to be called from an Activity or Service, but it is not being called from any.\r\n\r\nSecondly, there was an error within the toast message. It should be\r\n\r\n    Toast.makeText(MainActivity.this,String.valueOf(dimen),Toast.LENGTH_SHORT).show();\r\nVery simple, but ints must be string within Toast, so String.valueOf fixes this. Just posting so anyone in the future has a solution!","title":"Why is this WindowManager working until I ask to recall it&#39;s value?","body":"<p>I have found my problem. Within this line,</p>\n<pre><code>WindowManager manager = (WindowManager) getSystemService(WINDOW_SERVICE);\n</code></pre>\n<p>It should be</p>\n<pre><code>WindowManager manager = (WindowManager) this.getSystemService(WINDOW_SERVICE);\n</code></pre>\n<p>This is because WindowManager requires to be called from an Activity or Service, but it is not being called from any.</p>\n<p>Secondly, there was an error within the toast message. It should be</p>\n<pre><code>Toast.makeText(MainActivity.this,String.valueOf(dimen),Toast.LENGTH_SHORT).show();\n</code></pre>\n<p>Very simple, but ints must be string within Toast, so String.valueOf fixes this. Just posting so anyone in the future has a solution!</p>\n"}],"owner":{"account_id":26567360,"reputation":20,"user_id":20194160,"display_name":"EagleGrant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75190792,"answer_count":1,"score":0,"last_activity_date":1674267858,"creation_date":1674255702,"question_id":75190076,"body_markdown":"I have some code that I am using to find the dimensions for my QR code image. However, I am trying to do so within a fragment. What I&#39;ve done is within the main activity, declare a public int for the dimen, and then run the dimension code within the MainActivity and do a getter for it. However, whenever I try to use the dimen value, either from a getter or within MainActivity itself, the app crashes. It will run, but it crashes the second you try to do anything with dimen, be it putting it into a toast, or for a method call.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    public int dimen;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n\r\n        WindowManager manager = (WindowManager) getSystemService(WINDOW_SERVICE);\r\n        //initializing a variable for default display.\r\n        Display display = manager.getDefaultDisplay();\r\n        //creating a variable for point which is to be displayed in QR Code.\r\n        Point point = new Point();\r\n        display.getSize(point);\r\n        //getting width and height of a point\r\n        int width = point.x;\r\n        int height = point.y;\r\n        //generating dimension from width and height.\r\n        dimen = Math.min(width, height);\r\n        dimen = dimen * 3 / 4; \r\n        Toast.makeText(MainActivity.this,dimen,Toast.LENGTH_SHORT).show(); //If you remove this line, the code runs. However, using any other use of dimen will also crash the app. Toast.makeText is not the problem.\r\n    }\r\n}\r\n```\r\n\r\nI have tried doing it within the fragment, and within the MainActivity. I can&#39;t find the solution.","title":"Why is this WindowManager working until I ask to recall it&#39;s value?","body":"<p>I have some code that I am using to find the dimensions for my QR code image. However, I am trying to do so within a fragment. What I've done is within the main activity, declare a public int for the dimen, and then run the dimension code within the MainActivity and do a getter for it. However, whenever I try to use the dimen value, either from a getter or within MainActivity itself, the app crashes. It will run, but it crashes the second you try to do anything with dimen, be it putting it into a toast, or for a method call.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public int dimen;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n\n        WindowManager manager = (WindowManager) getSystemService(WINDOW_SERVICE);\n        //initializing a variable for default display.\n        Display display = manager.getDefaultDisplay();\n        //creating a variable for point which is to be displayed in QR Code.\n        Point point = new Point();\n        display.getSize(point);\n        //getting width and height of a point\n        int width = point.x;\n        int height = point.y;\n        //generating dimension from width and height.\n        dimen = Math.min(width, height);\n        dimen = dimen * 3 / 4; \n        Toast.makeText(MainActivity.this,dimen,Toast.LENGTH_SHORT).show(); //If you remove this line, the code runs. However, using any other use of dimen will also crash the app. Toast.makeText is not the problem.\n    }\n}\n</code></pre>\n<p>I have tried doing it within the fragment, and within the MainActivity. I can't find the solution.</p>\n"},{"tags":["java","websocket","keycloak","openid-connect","quarkus"],"comments":[{"owner":{"account_id":468677,"reputation":7486,"user_id":874814,"display_name":"Babl"},"score":0,"creation_date":1674201757,"post_id":75141521,"comment_id":132667422,"body_markdown":"So still not sure what is the problem? In short \n1-&gt; Why do you want to make `onOpen()` return anything? \n2-&gt; Yes you can\n3-&gt; Yes it does","body":"So still not sure what is the problem? In short  1-&gt; Why do you want to make <code>onOpen()</code> return anything?  2-&gt; Yes you can 3-&gt; Yes it does"},{"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"score":0,"creation_date":1674212929,"post_id":75141521,"comment_id":132670799,"body_markdown":"Thanks. I want to return a Uni to resolve the exception that is being thrown as mentioned above. ie it says: `Make the secured method return an async type, i.e. Uni, Multi or CompletionStage,`. It seems that is required in order for the async resolution of the authentication with Keycloak, which needs to happen in order to know whether the endpoint should be allowed or not, and to validate the access token.","body":"Thanks. I want to return a Uni to resolve the exception that is being thrown as mentioned above. ie it says: <code>Make the secured method return an async type, i.e. Uni, Multi or CompletionStage,</code>. It seems that is required in order for the async resolution of the authentication with Keycloak, which needs to happen in order to know whether the endpoint should be allowed or not, and to validate the access token."},{"owner":{"account_id":468677,"reputation":7486,"user_id":874814,"display_name":"Babl"},"score":0,"creation_date":1674225580,"post_id":75141521,"comment_id":132675080,"body_markdown":"Hmm, that&#39;s strange, as that should not be a problem. Do you have a small POC where we can reproduce the problem?","body":"Hmm, that&#39;s strange, as that should not be a problem. Do you have a small POC where we can reproduce the problem?"}],"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1674265796,"creation_date":1673923314,"question_id":75141521,"body_markdown":"I have gone down many rabbit holes and cannot get this working. I am hoping someone can help me.\r\n\r\nI am using Keycloak and my REST endpoints are successfully secured like this abbreviated example:\r\n\r\n```java\r\n@Path(&quot;/api&quot;)\r\npublic class MyResource {\r\n    @Inject\r\n    SecurityIdentity securityIdentity;\r\n\r\n    @Inject\r\n    JsonWebToken jwt;\r\n\r\n    @GET\r\n    @Path(&quot;/mydata&quot;)\r\n    @RolesAllowed(&quot;user&quot;)\r\n    @NoCache\r\n    public Uni&lt;Response&gt; getMyData(Request request) { \r\n        // Get a claim from the Keycloak JWT\r\n        String mySpecialClaim = (String) jwt.claim(&quot;myCustomClaim&quot;).get();\r\n \r\n        // Do some work...\r\n        String resJson = &quot;{result of work here}&quot;;\r\n\r\n        return Uni.createFrom().item(resJson)\r\n              .onItem()\r\n              .transform(item -&gt; item != &quot;&quot; ? Response.ok(item) : Response.status(Response.Status.NO_CONTENT))\r\n              .onItem()\r\n              .transform(Response.ResponseBuilder::build);\r\n    }\r\n}\r\n```\r\nThe access token is supplied by the client app which manages the Keycloak authentication and which sends the API request with a Bearer token. Standard stuff, all working. :-)\r\n\r\nNow, I want to do something similar with a WebSocket endpoint.\r\n\r\nI am using the [Quarkus Websockets][1] sample as my guide and can get it all working without Authorization - ie making unsecured calls. \r\n\r\nI am stuck trying to secure the WebSocket connection.\r\n\r\nThe closest I have come to finding a solution is this post in the Quarkus GitHub issues:\r\n[https://github.com/quarkusio/quarkus/issues/29919][2]\r\n\r\nI have coded that up as per the sample code in the post. Logging shows the `reactive route` and `WebSocketSecurityConfigurator` are both being called and the `access_token` from the JS WebSocket client is present and presumably being processed by the Quarkus default security processes, as it does for REST end points. All good.\r\n\r\nThe missing piece is how to code the `onOpen()` and `onMessage()` methods in my WebSocket endpoint so they are secure, reactive, and I can access the JWT to get the claims I need.\r\n\r\nCan anyone elaborate on this code fragment from the Quarkus issue post mentioned above, please? I have added what I think I need as per the sample further below.\r\n\r\nThe fragment from the issue post:\r\n```java\r\n@Authenticated\r\n@ServerEndpoint(\r\n        value =&quot;/ws&quot;,\r\n        configurator = WebSocketSecurityConfigurator.class\r\n)\r\npublic class WebSocket {\r\n    @Inject\r\n    UserInfo userInfo;\r\n    // ...\r\n}\r\n```\r\n\r\nMy additions:\r\n```java\r\n@Authenticated\r\n@ServerEndpoint(\r\n        value =&quot;/services/{clientid}&quot;,\r\n        configurator = WebSocketSecurityConfigurator.class\r\n)\r\n\r\npublic class WebSocket {\r\n    @Inject\r\n    SecurityIdentity securityIdentity;\r\n\r\n    @Inject\r\n    JsonWebToken jwt;\r\n\r\n    @Inject\r\n    UserInfo userInfo;\r\n    \r\n    @OnOpen\r\n    @RolesAllowed(&quot;user&quot;) // Is this possible here? Or do I use the JWT and test myself?\r\n    public void onOpen(Session session, @PathParam(&quot;clientid&quot;) String clientid) {\r\n        // Get a claim from the Keycloak JWT\r\n        String mySpecialClaim = (String) jwt.claim(&quot;myCustomClaim&quot;).get();\r\n \r\n        // Do some setup work...\r\n        // eg cache the session in a map, etc\r\n    }\r\n\r\n    @OnMessage\r\n    public void onMessage(String message, @PathParam(&quot;clientid&quot;) String clientid) {\r\n        // Get a claim from the Keycloak JWT\r\n        String myOtherSpecialClaim = (String) jwt.claim(&quot;myOtherCustomClaim&quot;).get();\r\n \r\n        // Do some work using the message...\r\n        String someMessage = &quot;tell the world&quot;;\r\n\r\n        // Broadcast something ...\r\n        myBroadcastFunction(someMessage);\r\n    }\r\n}\r\n```\r\nIn the non-secure version, the `onOpen()` and `onMessage()` methods return `void` because, of course, unlike a REST endpoint, one broadcasts the result instead of returning it. \r\n\r\nIn this secured version that does not work. If I only have an onOpen() method, and code it like this:\r\n```java\r\n@OnOpen\r\npublic void onOpen(Session session, @PathParam(&quot;clientid&quot;) String clientid) {\r\n    Log.info(&quot;websocket onOpen session=&quot; + session.getId());\r\n}\r\n```\r\n\r\nIt throws:\r\n```\r\nUnhandled error in annotated endpoint org.flowt.orgserver.gateway.WebSocketGateway_Subclass@732f20f8\r\n\r\njava.lang.RuntimeException: java.lang.RuntimeException: java.lang.RuntimeException: \r\n\r\nio.quarkus.runtime.BlockingOperationNotAllowedException: Blocking security check attempted in code running on the event loop. \r\nMake the secured method return an async type, i.e. Uni, Multi or CompletionStage, \r\nor use an authentication mechanism that sets the SecurityIdentity in a blocking manner prior to delegating the call\r\n```\r\n\r\nI would like not to block the event loop, so the first suggestion is the preferred one.\r\n\r\nBut how should I code that? \r\n1. If I make the onOpen() return a Uni, how do I subscribe to it so it runs?\r\n2. Can I still access the JWT to get the claims I need?\r\n3. Do annotations like `@RolesAllowed(&quot;user&quot;)` still work in this context?\r\n\r\nI wont waste space here with all my failed attempts. I am thinking I am not the first person to need to do this and there must be some kind of pattern to implement. The Quarkus docs are silent on this.\r\n\r\n**Can anyone tell me how to code the `onOpen()` and `onMessage()` methods using Quarkus so that the WebSocket endpoints are secured and the JWT is available inside those methods?**\r\n\r\n**EDIT =======**\r\n\r\nTo resolve the blocking exception, the Quarkus docs [here][3] say \r\n```\r\nTo work around this you need to @Inject an instance\r\nof io.quarkus.security.identity.CurrentIdentityAssociation, \r\nand call the Uni&lt;SecurityIdentity&gt; getDeferredIdentity(); method. \r\nYou can then subscribe to the resulting Uni and will be \r\nnotified when authentication is complete and the identity \r\nis available.\r\n```\r\n\r\nI cannot work out how to implement that instruction. Debugging into the Quarkus code I see that my access_token is being processed, the user is retrieved from Keycloak but the deferredIdentity is not being set. Therefore `onOpen()` never runs.\r\n\r\nClearly this is not what the docs mean me to do!\r\n\r\nHere is my class:\r\n```java\r\npackage org.flowt.orgserver.gateway;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\nimport javax.inject.Inject;\r\n\r\nimport javax.websocket.Session;\r\nimport javax.websocket.OnOpen;\r\nimport javax.websocket.server.PathParam;\r\nimport javax.websocket.server.ServerEndpoint;\r\n\r\nimport io.quarkus.logging.Log;\r\nimport io.quarkus.security.Authenticated;\r\nimport io.quarkus.security.identity.CurrentIdentityAssociation;\r\nimport io.quarkus.security.identity.SecurityIdentity;\r\n\r\nimport io.smallrye.mutiny.Uni;\r\n\r\n@ApplicationScoped\r\n@Authenticated\r\n@ServerEndpoint(value = &quot;/services/{clientid}&quot;, configurator = WebSocketSecurityConfigurator.class)\r\npublic class WebSocketGateway {\r\n\r\n    @Inject\r\n    SecurityIdentity securityIdentity;\r\n\r\n    @Inject\r\n    CurrentIdentityAssociation identities;\r\n\r\n    @OnOpen\r\n    public Uni&lt;Void&gt; onOpen(Session session, @PathParam(&quot;clientid&quot;) String clientid) {\r\n        // This never runs\r\n        Log.info(&quot;=========================== onOpen session=&quot; + session.getId());\r\n\r\n        return identities.getDeferredIdentity()\r\n                .onItem()\r\n                .transformToUni(identity -&gt; {\r\n                    // Just to see if we reach here\r\n                    Log.info(&quot;identity=&quot; + identity.toString());\r\n                    return Uni.createFrom().voidItem();\r\n                });\r\n    }\r\n}\r\n\r\n```\r\nAnd just to reiterate: the REST endpoints in this same app for the same logged in user work perfectly.\r\n\r\nThanks,\r\nMurray\r\n\r\n\r\n  [1]: https://quarkus.io/guides/websockets\r\n  [2]: https://github.com/quarkusio/quarkus/issues/29919#issuecomment-1356917147\r\n  [3]: https://quarkus.io/guides/security-built-in-authentication-support-concept#proactive-authentication","title":"Quarkus: how to secure WebSocket when using Keycloak / OIDC","body":"<p>I have gone down many rabbit holes and cannot get this working. I am hoping someone can help me.</p>\n<p>I am using Keycloak and my REST endpoints are successfully secured like this abbreviated example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/api&quot;)\npublic class MyResource {\n    @Inject\n    SecurityIdentity securityIdentity;\n\n    @Inject\n    JsonWebToken jwt;\n\n    @GET\n    @Path(&quot;/mydata&quot;)\n    @RolesAllowed(&quot;user&quot;)\n    @NoCache\n    public Uni&lt;Response&gt; getMyData(Request request) { \n        // Get a claim from the Keycloak JWT\n        String mySpecialClaim = (String) jwt.claim(&quot;myCustomClaim&quot;).get();\n \n        // Do some work...\n        String resJson = &quot;{result of work here}&quot;;\n\n        return Uni.createFrom().item(resJson)\n              .onItem()\n              .transform(item -&gt; item != &quot;&quot; ? Response.ok(item) : Response.status(Response.Status.NO_CONTENT))\n              .onItem()\n              .transform(Response.ResponseBuilder::build);\n    }\n}\n</code></pre>\n<p>The access token is supplied by the client app which manages the Keycloak authentication and which sends the API request with a Bearer token. Standard stuff, all working. :-)</p>\n<p>Now, I want to do something similar with a WebSocket endpoint.</p>\n<p>I am using the <a href=\"https://quarkus.io/guides/websockets\" rel=\"noreferrer\">Quarkus Websockets</a> sample as my guide and can get it all working without Authorization - ie making unsecured calls.</p>\n<p>I am stuck trying to secure the WebSocket connection.</p>\n<p>The closest I have come to finding a solution is this post in the Quarkus GitHub issues:\n<a href=\"https://github.com/quarkusio/quarkus/issues/29919#issuecomment-1356917147\" rel=\"noreferrer\">https://github.com/quarkusio/quarkus/issues/29919</a></p>\n<p>I have coded that up as per the sample code in the post. Logging shows the <code>reactive route</code> and <code>WebSocketSecurityConfigurator</code> are both being called and the <code>access_token</code> from the JS WebSocket client is present and presumably being processed by the Quarkus default security processes, as it does for REST end points. All good.</p>\n<p>The missing piece is how to code the <code>onOpen()</code> and <code>onMessage()</code> methods in my WebSocket endpoint so they are secure, reactive, and I can access the JWT to get the claims I need.</p>\n<p>Can anyone elaborate on this code fragment from the Quarkus issue post mentioned above, please? I have added what I think I need as per the sample further below.</p>\n<p>The fragment from the issue post:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Authenticated\n@ServerEndpoint(\n        value =&quot;/ws&quot;,\n        configurator = WebSocketSecurityConfigurator.class\n)\npublic class WebSocket {\n    @Inject\n    UserInfo userInfo;\n    // ...\n}\n</code></pre>\n<p>My additions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Authenticated\n@ServerEndpoint(\n        value =&quot;/services/{clientid}&quot;,\n        configurator = WebSocketSecurityConfigurator.class\n)\n\npublic class WebSocket {\n    @Inject\n    SecurityIdentity securityIdentity;\n\n    @Inject\n    JsonWebToken jwt;\n\n    @Inject\n    UserInfo userInfo;\n    \n    @OnOpen\n    @RolesAllowed(&quot;user&quot;) // Is this possible here? Or do I use the JWT and test myself?\n    public void onOpen(Session session, @PathParam(&quot;clientid&quot;) String clientid) {\n        // Get a claim from the Keycloak JWT\n        String mySpecialClaim = (String) jwt.claim(&quot;myCustomClaim&quot;).get();\n \n        // Do some setup work...\n        // eg cache the session in a map, etc\n    }\n\n    @OnMessage\n    public void onMessage(String message, @PathParam(&quot;clientid&quot;) String clientid) {\n        // Get a claim from the Keycloak JWT\n        String myOtherSpecialClaim = (String) jwt.claim(&quot;myOtherCustomClaim&quot;).get();\n \n        // Do some work using the message...\n        String someMessage = &quot;tell the world&quot;;\n\n        // Broadcast something ...\n        myBroadcastFunction(someMessage);\n    }\n}\n</code></pre>\n<p>In the non-secure version, the <code>onOpen()</code> and <code>onMessage()</code> methods return <code>void</code> because, of course, unlike a REST endpoint, one broadcasts the result instead of returning it.</p>\n<p>In this secured version that does not work. If I only have an onOpen() method, and code it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OnOpen\npublic void onOpen(Session session, @PathParam(&quot;clientid&quot;) String clientid) {\n    Log.info(&quot;websocket onOpen session=&quot; + session.getId());\n}\n</code></pre>\n<p>It throws:</p>\n<pre><code>Unhandled error in annotated endpoint org.flowt.orgserver.gateway.WebSocketGateway_Subclass@732f20f8\n\njava.lang.RuntimeException: java.lang.RuntimeException: java.lang.RuntimeException: \n\nio.quarkus.runtime.BlockingOperationNotAllowedException: Blocking security check attempted in code running on the event loop. \nMake the secured method return an async type, i.e. Uni, Multi or CompletionStage, \nor use an authentication mechanism that sets the SecurityIdentity in a blocking manner prior to delegating the call\n</code></pre>\n<p>I would like not to block the event loop, so the first suggestion is the preferred one.</p>\n<p>But how should I code that?</p>\n<ol>\n<li>If I make the onOpen() return a Uni, how do I subscribe to it so it runs?</li>\n<li>Can I still access the JWT to get the claims I need?</li>\n<li>Do annotations like <code>@RolesAllowed(&quot;user&quot;)</code> still work in this context?</li>\n</ol>\n<p>I wont waste space here with all my failed attempts. I am thinking I am not the first person to need to do this and there must be some kind of pattern to implement. The Quarkus docs are silent on this.</p>\n<p><strong>Can anyone tell me how to code the <code>onOpen()</code> and <code>onMessage()</code> methods using Quarkus so that the WebSocket endpoints are secured and the JWT is available inside those methods?</strong></p>\n<p><strong>EDIT =======</strong></p>\n<p>To resolve the blocking exception, the Quarkus docs <a href=\"https://quarkus.io/guides/security-built-in-authentication-support-concept#proactive-authentication\" rel=\"noreferrer\">here</a> say</p>\n<pre><code>To work around this you need to @Inject an instance\nof io.quarkus.security.identity.CurrentIdentityAssociation, \nand call the Uni&lt;SecurityIdentity&gt; getDeferredIdentity(); method. \nYou can then subscribe to the resulting Uni and will be \nnotified when authentication is complete and the identity \nis available.\n</code></pre>\n<p>I cannot work out how to implement that instruction. Debugging into the Quarkus code I see that my access_token is being processed, the user is retrieved from Keycloak but the deferredIdentity is not being set. Therefore <code>onOpen()</code> never runs.</p>\n<p>Clearly this is not what the docs mean me to do!</p>\n<p>Here is my class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.flowt.orgserver.gateway;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.inject.Inject;\n\nimport javax.websocket.Session;\nimport javax.websocket.OnOpen;\nimport javax.websocket.server.PathParam;\nimport javax.websocket.server.ServerEndpoint;\n\nimport io.quarkus.logging.Log;\nimport io.quarkus.security.Authenticated;\nimport io.quarkus.security.identity.CurrentIdentityAssociation;\nimport io.quarkus.security.identity.SecurityIdentity;\n\nimport io.smallrye.mutiny.Uni;\n\n@ApplicationScoped\n@Authenticated\n@ServerEndpoint(value = &quot;/services/{clientid}&quot;, configurator = WebSocketSecurityConfigurator.class)\npublic class WebSocketGateway {\n\n    @Inject\n    SecurityIdentity securityIdentity;\n\n    @Inject\n    CurrentIdentityAssociation identities;\n\n    @OnOpen\n    public Uni&lt;Void&gt; onOpen(Session session, @PathParam(&quot;clientid&quot;) String clientid) {\n        // This never runs\n        Log.info(&quot;=========================== onOpen session=&quot; + session.getId());\n\n        return identities.getDeferredIdentity()\n                .onItem()\n                .transformToUni(identity -&gt; {\n                    // Just to see if we reach here\n                    Log.info(&quot;identity=&quot; + identity.toString());\n                    return Uni.createFrom().voidItem();\n                });\n    }\n}\n\n</code></pre>\n<p>And just to reiterate: the REST endpoints in this same app for the same logged in user work perfectly.</p>\n<p>Thanks,\nMurray</p>\n"},{"tags":["java","c++","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1673425267,"post_id":75078981,"comment_id":132493472,"body_markdown":"You forgot to set `args.nOptions = 1`","body":"You forgot to set <code>args.nOptions = 1</code>"},{"owner":{"account_id":26377301,"reputation":11,"user_id":20980109,"display_name":"user20980109"},"score":0,"creation_date":1673589941,"post_id":75078981,"comment_id":132537597,"body_markdown":"oh thanks . I have also another doubt ,I want to check the classpath on environmental variable in above code .How can do that","body":"oh thanks . I have also another doubt ,I want to check the classpath on environmental variable in above code .How can do that"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1673598472,"post_id":75078981,"comment_id":132539523,"body_markdown":"I don&#39;t understand what you mean by that.","body":"I don&#39;t understand what you mean by that."}],"answers":[{"tags":[],"owner":{"account_id":5397179,"reputation":458,"user_id":4298020,"display_name":"Boris Rasin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674263739,"creation_date":1674263739,"answer_id":75190614,"question_id":75078981,"body_markdown":"You can use [Scapix](https://github.com/scapix-com/scapix) to automatically generate Java bindings directly from C++ header files.\r\n\r\nDisclaimer: I am the author of [Scapix](https://github.com/scapix-com/scapix) project.","title":"call java methods from C++ using JNI","body":"<p>You can use <a href=\"https://github.com/scapix-com/scapix\" rel=\"nofollow noreferrer\">Scapix</a> to automatically generate Java bindings directly from C++ header files.</p>\n<p>Disclaimer: I am the author of <a href=\"https://github.com/scapix-com/scapix\" rel=\"nofollow noreferrer\">Scapix</a> project.</p>\n"}],"owner":{"account_id":26377301,"reputation":11,"user_id":20980109,"display_name":"user20980109"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674263739,"creation_date":1673417780,"question_id":75078981,"body_markdown":"I want to access java method from C++ using JNI.\r\nI try this code it can&#39;t find the class file of java. I got the error Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Example like that \r\n\r\nJAVA code \r\n```\r\n\r\nimport java.io.*;\r\nimport java.util.*;\r\npublic class Example {\r\n    public static void main(String[] args) {\r\n        new Example().printHelloWorld();\r\n    }\r\n\r\n    public void printHelloWorld() {\r\n        System.out.println(&quot;Hello, World!&quot;);\r\n    }\r\n}\r\n```\r\nC++ code is\r\n```\r\n\r\n#include &lt;jni.h&gt;\r\n#include &lt;iostream&gt;\r\nusing namespace std;\r\nint main() \r\n{\r\n    // create JNI environment\r\n    JNIEnv* env;\r\n    JavaVM* jvm;\r\n    JavaVMInitArgs args;\r\n    args.version = JNI_VERSION_1_6;\r\n    JavaVMOption options[1];\r\n    char optionString[] = &quot;-Djava.class.path=&quot;;\r\n    options[0].optionString = optionString;\r\n    args.options = options;\r\n    args.ignoreUnrecognized = JNI_FALSE;\r\n    JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;args);\r\n\r\n    // find class of Java method\r\n    jclass cls = env-&gt;FindClass(&quot;Example&quot;);\r\n    if (env-&gt;ExceptionCheck()) {\r\n        env-&gt;ExceptionDescribe();\r\n        env-&gt;ExceptionClear();\r\n        return 1;\r\n    }\r\n    // get method ID of Java method\r\n    jmethodID mid = env-&gt;GetMethodID(cls, &quot;printHelloWorld&quot;, &quot;()V&quot;);\r\n    if (env-&gt;ExceptionCheck()) {\r\n        env-&gt;ExceptionDescribe();\r\n        env-&gt;ExceptionClear();\r\n        return 1;\r\n    }\r\n    // call Java method\r\n    jobject obj = env-&gt;AllocObject(cls);\r\n    env-&gt;CallVoidMethod(obj, mid);\r\n    if (env-&gt;ExceptionCheck()) {\r\n        env-&gt;ExceptionDescribe();\r\n        env-&gt;ExceptionClear();\r\n        return 1;\r\n    }\r\n    // clean up and exit\r\n    jvm-&gt;DestroyJavaVM();\r\n    return 0;\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI can&#39;t find the error.","title":"call java methods from C++ using JNI","body":"<p>I want to access java method from C++ using JNI.\nI try this code it can't find the class file of java. I got the error Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Example like that</p>\n<p>JAVA code</p>\n<pre><code>\nimport java.io.*;\nimport java.util.*;\npublic class Example {\n    public static void main(String[] args) {\n        new Example().printHelloWorld();\n    }\n\n    public void printHelloWorld() {\n        System.out.println(&quot;Hello, World!&quot;);\n    }\n}\n</code></pre>\n<p>C++ code is</p>\n<pre><code>\n#include &lt;jni.h&gt;\n#include &lt;iostream&gt;\nusing namespace std;\nint main() \n{\n    // create JNI environment\n    JNIEnv* env;\n    JavaVM* jvm;\n    JavaVMInitArgs args;\n    args.version = JNI_VERSION_1_6;\n    JavaVMOption options[1];\n    char optionString[] = &quot;-Djava.class.path=&quot;;\n    options[0].optionString = optionString;\n    args.options = options;\n    args.ignoreUnrecognized = JNI_FALSE;\n    JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;args);\n\n    // find class of Java method\n    jclass cls = env-&gt;FindClass(&quot;Example&quot;);\n    if (env-&gt;ExceptionCheck()) {\n        env-&gt;ExceptionDescribe();\n        env-&gt;ExceptionClear();\n        return 1;\n    }\n    // get method ID of Java method\n    jmethodID mid = env-&gt;GetMethodID(cls, &quot;printHelloWorld&quot;, &quot;()V&quot;);\n    if (env-&gt;ExceptionCheck()) {\n        env-&gt;ExceptionDescribe();\n        env-&gt;ExceptionClear();\n        return 1;\n    }\n    // call Java method\n    jobject obj = env-&gt;AllocObject(cls);\n    env-&gt;CallVoidMethod(obj, mid);\n    if (env-&gt;ExceptionCheck()) {\n        env-&gt;ExceptionDescribe();\n        env-&gt;ExceptionClear();\n        return 1;\n    }\n    // clean up and exit\n    jvm-&gt;DestroyJavaVM();\n    return 0;\n}\n\n</code></pre>\n<p>I can't find the error.</p>\n"},{"tags":["java","rsa","signature","sha256","verification"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1674237379,"post_id":75186857,"comment_id":132679263,"body_markdown":"You should always explicitly set the character encoding when using `String.getBytes`, but in several places you are not, like `content.getBytes()`. I don&#39;t know if that accounts for the problem though. We&#39;ll probably need a complete example of the problem include public keys and actual data.","body":"You should always explicitly set the character encoding when using <code>String.getBytes</code>, but in several places you are not, like <code>content.getBytes()</code>. I don&#39;t know if that accounts for the problem though. We&#39;ll probably need a complete example of the problem include public keys and actual data."},{"owner":{"account_id":27581976,"reputation":1,"user_id":21050993,"display_name":"Chris Cohoon"},"score":0,"creation_date":1674240938,"post_id":75186857,"comment_id":132680289,"body_markdown":"I went ahead and updated all instances of getBytes() (I&#39;ll also update my code in the initial post.  Unfortunately, it does not appear to have changed anything.  I&#39;ll see about getting shareable SAML that I can post here.  I appreciate your insight!","body":"I went ahead and updated all instances of getBytes() (I&#39;ll also update my code in the initial post.  Unfortunately, it does not appear to have changed anything.  I&#39;ll see about getting shareable SAML that I can post here.  I appreciate your insight!"},{"owner":{"account_id":27581976,"reputation":1,"user_id":21050993,"display_name":"Chris Cohoon"},"score":0,"creation_date":1674251109,"post_id":75186857,"comment_id":132682546,"body_markdown":"@PresidentJamesK.Polk I have updated my code with a public-appropriate SAML Response (The canonicalized SAML minus the Signature block is stored in the content String, and the Signature block is listed below the code).  As before, I&#39;m able to calculate the digest appropriately, but I&#39;m still seeing a &quot;false&quot; return from sig.verify.","body":"@PresidentJamesK.Polk I have updated my code with a public-appropriate SAML Response (The canonicalized SAML minus the Signature block is stored in the content String, and the Signature block is listed below the code).  As before, I&#39;m able to calculate the digest appropriately, but I&#39;m still seeing a &quot;false&quot; return from sig.verify."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1674261585,"post_id":75186857,"comment_id":132684188,"body_markdown":"@PresidentJamesK.Polk: in the general case charset matters, but base64 is designed very intentionally to use only characters in _all_ known character encodings, and in fact invariant in all charsets practically used in Java.","body":"@PresidentJamesK.Polk: in the general case charset matters, but base64 is designed very intentionally to use only characters in <i>all</i> known character encodings, and in fact invariant in all charsets practically used in Java."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1674263737,"post_id":75186857,"comment_id":132684375,"body_markdown":"@dave_thompson_085: The fact that the character exists in the charset is not the issue, it&#39;s the encoding into bytes that differs. The encoding of &quot;a&quot; is one byte in UTF-8, two bytes in UTF-16 and four bytes in UTF-32.","body":"@dave_thompson_085: The fact that the character exists in the charset is not the issue, it&#39;s the encoding into bytes that differs. The encoding of &quot;a&quot; is one byte in UTF-8, two bytes in UTF-16 and four bytes in UTF-32."}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674261429,"creation_date":1674261429,"answer_id":75190491,"question_id":75186857,"body_markdown":"Your approach is wrong in two ways.\r\n\r\nFirst, in XMLdsig, which SAML uses, the &#39;real&#39; signature (here the RSA signature) is not over the data or even the data hash as such. Rather, the hash of the data is placed in Reference.DigestValue, and the publickey signature is computed over the _SignedInfo_ element, which _includes_ that DigestValue, canonicalized. Conversely validation checks both that the signature matches the SignedInfo and that the DigestValue in the (or each) Reference matches the (related) data. See https://www.w3.org/TR/xmldsig-core2/#sec-Processing .\r\n\r\nSecond, the &#39;backwards RSA&#39; `Cipher` in Java -- &quot;encrypting with the privatekey and decrypting with the publickey&quot; -- is not correct RSA signature; [this is a mistake](https://security.stackexchange.com/questions/159282/#159289) made back in the 1990s that has never been corrected, apparently for compatibility. Correct PKCS1v1-style signature, now retronymed RSASSA-PKCS1-v1_5 as referenced in [that same spec](https://www.w3.org/TR/xmldsig-core2/#sec-PKCS1), is four steps:\r\n\r\n1. hash the data\r\n2. encode the hash (1) in an ASN.1 DigestInfo\r\n3. pad (2) with 01 FF... 00 \r\n4. take (3) as an integer and modexp with the private exponent\r\n\r\nVerification can be done by repeating 1-3 and comparing to the result of modexp-public which reverses 4 OR reversing 4 and 3 (remove 01 ...) AND 2 (split apart the ASN.1) before comparing to 1. Java&#39;s backwards `Cipher` only does 3 and 4 on the &#39;encrypt&#39; side and 4 and 3 on the &#39;decrypt&#39; side leaving you to do 2, as well as 1 _on the SignedInfo per above_. \r\n\r\nThis part is a very common mistake; see my list over at https://crypto.stackexchange.com/questions/87006/why-is-data-signed-with-sha256-rsa-pkcs-and-digest-signed-with-rsa-pkcs-different plus  \r\nhttps://stackoverflow.com/questions/71121290/java-certificate-verify-failed  \r\nhttps://stackoverflow.com/questions/65709994/how-to-use-x509-public-key-to-verify-a-signed-hashed-alexa-request-body  \r\n","title":"Signature Verification in Java for RSA SHA-256","body":"<p>Your approach is wrong in two ways.</p>\n<p>First, in XMLdsig, which SAML uses, the 'real' signature (here the RSA signature) is not over the data or even the data hash as such. Rather, the hash of the data is placed in Reference.DigestValue, and the publickey signature is computed over the <em>SignedInfo</em> element, which <em>includes</em> that DigestValue, canonicalized. Conversely validation checks both that the signature matches the SignedInfo and that the DigestValue in the (or each) Reference matches the (related) data. See <a href=\"https://www.w3.org/TR/xmldsig-core2/#sec-Processing\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/xmldsig-core2/#sec-Processing</a> .</p>\n<p>Second, the 'backwards RSA' <code>Cipher</code> in Java -- &quot;encrypting with the privatekey and decrypting with the publickey&quot; -- is not correct RSA signature; <a href=\"https://security.stackexchange.com/questions/159282/#159289\">this is a mistake</a> made back in the 1990s that has never been corrected, apparently for compatibility. Correct PKCS1v1-style signature, now retronymed RSASSA-PKCS1-v1_5 as referenced in <a href=\"https://www.w3.org/TR/xmldsig-core2/#sec-PKCS1\" rel=\"nofollow noreferrer\">that same spec</a>, is four steps:</p>\n<ol>\n<li>hash the data</li>\n<li>encode the hash (1) in an ASN.1 DigestInfo</li>\n<li>pad (2) with 01 FF... 00</li>\n<li>take (3) as an integer and modexp with the private exponent</li>\n</ol>\n<p>Verification can be done by repeating 1-3 and comparing to the result of modexp-public which reverses 4 OR reversing 4 and 3 (remove 01 ...) AND 2 (split apart the ASN.1) before comparing to 1. Java's backwards <code>Cipher</code> only does 3 and 4 on the 'encrypt' side and 4 and 3 on the 'decrypt' side leaving you to do 2, as well as 1 <em>on the SignedInfo per above</em>.</p>\n<p>This part is a very common mistake; see my list over at <a href=\"https://crypto.stackexchange.com/questions/87006/why-is-data-signed-with-sha256-rsa-pkcs-and-digest-signed-with-rsa-pkcs-different\">https://crypto.stackexchange.com/questions/87006/why-is-data-signed-with-sha256-rsa-pkcs-and-digest-signed-with-rsa-pkcs-different</a> plus<br />\n<a href=\"https://stackoverflow.com/questions/71121290/java-certificate-verify-failed\">java certificate verify failed</a><br />\n<a href=\"https://stackoverflow.com/questions/65709994/how-to-use-x509-public-key-to-verify-a-signed-hashed-alexa-request-body\">How to use x509 public key to verify a signed/hashed Alexa request body?</a></p>\n"}],"owner":{"account_id":27581976,"reputation":1,"user_id":21050993,"display_name":"Chris Cohoon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674261429,"creation_date":1674232423,"question_id":75186857,"body_markdown":"**EDIT - Updated with full SAML**\r\n\r\nI&#39;m trying to verify a signature I receive from a SAML Response in Java.  The SAML Response is validated by samltool.io, but I am having a difficult time with the Signature class in java.  No matter what I try, it&#39;s returning false.  I have properly canonicalized my XML and I am able to successfully generate the correct MessageDigest with what I have in my content String.  Hopefully someone can point out what I&#39;m doing wrong.  Here is my code:\r\n\r\n\r\n```\r\npublic class SigVer {\r\n\tpublic static void main(String[] args) throws Exception {\t\r\n\t\tSystem.out.println(&quot;Initialized&quot;);\r\n\t\t\r\n\t\tString pubKeyStr = &quot;MIIDqDCCApCgAwIBAgIGAYXQr1PhMA0GCSqGSIb3DQEBCwUAMIGUMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFTATBgNVBAMMDGRldi02MjkxNDMxMjEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTAeFw0yMzAxMjAxOTM2MDlaFw0zMzAxMjAxOTM3MDlaMIGUMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFTATBgNVBAMMDGRldi02MjkxNDMxMjEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKMgSFX7FkFVNzGyL7EjtIRaJRmj7/Z8diMZyAVy0rBqcIB7aL9Hn3gVefJs09XJiQiuhLVihaD4H1c9RZzS8U089wmef8w0Gc0Bca8jLziAqbzDsph9lQUxoUFCDCyGhamQZvnAk7Rk+PT012ICN/K/eB0q/Un0VEeyTyPhBimfpA2TTe3nC4kjDpKOzQPhjHvjusL0e5VMnDR37iv+yO+VKZ8bDI5WbJPeR2jWh+6EJHUIoNH0XK6Fna4ektpD4vvMSNapjKVKvyFnNoVQGpl/Hc7J0Dh7b/B4veUuYvrFEhj6iAISuD5hM70iL+xaKkf9GLObj8Ay6RTx7kR99WECAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAMfjuP24tBNbcEURI9hhbMECVHxfXauVQF1H5z7uWyp5+Pqphw1LApG5KmR/RFDXzePuuVZNFZON27r78w0tixgR5Z0xrwB8Lkdt9LJSwUGNv0dxpdDPFvBoGopjcnIs1zi5MgiTwW/mkYOWJhZDo+E4CheVRyp3H32hvfEG8B+vrEH7CZ8csIK2N4hYiCJP+xktHH6yXDP7fVSWu1CdWDddpyhI0B0Gwo6aBBiyDElsNyVHGwJGT7dnsWvc8bIKP2IPFgE7zxKoARqzV/jAcryyySRiDjbS9kAw84svgWxBJefoaPAtJjhr84o7222QoxMaxi/X5V9ns+S76Wo3A4Q==&quot;;\r\n\t\t\r\n\t\tbyte[] certBytes = pubKeyStr.getBytes(java.nio.charset.StandardCharsets.UTF_8);\r\n\r\n        CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n        InputStream in = new ByteArrayInputStream(Base64.getDecoder().decode(certBytes));\r\n        X509Certificate certificate = (X509Certificate)certFactory.generateCertificate(in);\r\n\r\n        PublicKey publicKey = certificate.getPublicKey();\r\n\r\n\t\tString content = &quot;&lt;saml2p:Response xmlns:saml2p=\\&quot;urn:oasis:names:tc:SAML:2.0:protocol\\&quot; xmlns:xs=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot; Destination=\\&quot;http://10.100.1.123:8080/identityiq/external/registration.jsf\\&quot; ID=\\&quot;id130347804157883831058335572\\&quot; IssueInstant=\\&quot;2023-01-20T19:39:44.049Z\\&quot; Version=\\&quot;2.0\\&quot;&gt;&lt;saml2:Issuer xmlns:saml2=\\&quot;urn:oasis:names:tc:SAML:2.0:assertion\\&quot; Format=\\&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity\\&quot;&gt;http://www.okta.com/exk81ebtt38SLQ3I65d7&lt;/saml2:Issuer&gt;&lt;saml2p:Status&gt;&lt;saml2p:StatusCode Value=\\&quot;urn:oasis:names:tc:SAML:2.0:status:Success\\&quot;&gt;&lt;/saml2p:StatusCode&gt;&lt;/saml2p:Status&gt;&lt;saml2:Assertion xmlns:saml2=\\&quot;urn:oasis:names:tc:SAML:2.0:assertion\\&quot; ID=\\&quot;id1303478041593882583231621\\&quot; IssueInstant=\\&quot;2023-01-20T19:39:44.049Z\\&quot; Version=\\&quot;2.0\\&quot;&gt;&lt;saml2:Issuer Format=\\&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity\\&quot;&gt;http://www.okta.com/exk81ebtt38SLQ3I65d7&lt;/saml2:Issuer&gt;&lt;saml2:Subject&gt;&lt;saml2:NameID Format=\\&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\\&quot;&gt;matt@revnatech.com&lt;/saml2:NameID&gt;&lt;saml2:SubjectConfirmation Method=\\&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer\\&quot;&gt;&lt;saml2:SubjectConfirmationData NotOnOrAfter=\\&quot;2023-01-20T19:44:44.049Z\\&quot; Recipient=\\&quot;http://10.100.1.123:8080/identityiq/external/registration.jsf\\&quot;&gt;&lt;/saml2:SubjectConfirmationData&gt;&lt;/saml2:SubjectConfirmation&gt;&lt;/saml2:Subject&gt;&lt;saml2:Conditions NotBefore=\\&quot;2023-01-20T19:34:44.049Z\\&quot; NotOnOrAfter=\\&quot;2023-01-20T19:44:44.049Z\\&quot;&gt;&lt;saml2:AudienceRestriction&gt;&lt;saml2:Audience&gt;http://10.100.1.123:8080/identityiq/&lt;/saml2:Audience&gt;&lt;/saml2:AudienceRestriction&gt;&lt;/saml2:Conditions&gt;&lt;saml2:AuthnStatement AuthnInstant=\\&quot;2023-01-20T19:39:44.049Z\\&quot; SessionIndex=\\&quot;id1674243584047.1963093145\\&quot;&gt;&lt;saml2:AuthnContext&gt;&lt;saml2:AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport&lt;/saml2:AuthnContextClassRef&gt;&lt;/saml2:AuthnContext&gt;&lt;/saml2:AuthnStatement&gt;&lt;saml2:AttributeStatement&gt;&lt;saml2:Attribute Name=\\&quot;email\\&quot; NameFormat=\\&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified\\&quot;&gt;&lt;saml2:AttributeValue xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot; xsi:type=\\&quot;xs:string\\&quot;&gt;matt@revnatech.com&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;/saml2:AttributeStatement&gt;&lt;/saml2:Assertion&gt;&lt;/saml2p:Response&gt;&quot;;\r\n\t\t\r\n\t\tMessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\t\tmd.update(content.getBytes(java.nio.charset.StandardCharsets.UTF_8));\r\n\t\tbyte[] digest = md.digest();\r\n\t\t\r\n\t\tSystem.out.println(new String(Base64.getEncoder().encode(digest)));\r\n\r\n\t\tString signature = &quot;laE5splYJDi8uoMbbQ1tq8bWHPotfZW/aoJ1psWQkuzgc6wS0XS71MIFM9fcZ7rFQEGUWw0GXR6cy/nyDkCaEOH7o+VvKaainpKSktVrAbBtomWIkFx65AsDbHdcN0CZXIz57yRzzfFWjks+fYEHoEM48/HkB8brFxiiyJ17GEd96O7DErlCxen4W874/uOOneEZYBxXtcZnqQylJjgen3C7VyeQATK1AnGba6TK7cdClJjBDapmo/VnWBP6ovH8ZbATdd6u8au1xBqXBu/a+DLwFIdmd2TdDWmT0mkzz/MqdfCtP8W5nOk3UU9ZwfHzSBaQrWH3/mdIgqh8V57BMw==&quot;;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSignature sig = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n\t\t\tsig.initVerify(publicKey);\r\n\t\t\tsig.update(content.getBytes(java.nio.charset.StandardCharsets.UTF_8));\r\n\t\t\tboolean result = sig.verify(Base64.getDecoder().decode(signature.getBytes(java.nio.charset.StandardCharsets.UTF_8)));\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Returning &quot; + result);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nMy SAML Signature block is as follows:\r\n\r\n\r\n```\r\n&lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\r\n        &lt;ds:SignedInfo&gt;\r\n            &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;\r\n            &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;&gt;&lt;/ds:SignatureMethod&gt;\r\n            &lt;ds:Reference URI=&quot;#id130347804157883831058335572&quot;&gt;\r\n                &lt;ds:Transforms&gt;\r\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;&gt;&lt;/ds:Transform&gt;\r\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\r\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;xs&quot;&gt;&lt;/ec:InclusiveNamespaces&gt;\r\n                    &lt;/ds:Transform&gt;\r\n                &lt;/ds:Transforms&gt;\r\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;&gt;&lt;/ds:DigestMethod&gt;\r\n                &lt;ds:DigestValue&gt;\r\n                    1jaT9pnWmUCL0+atOcxHZ2yxhL5XOIhhHaK3Oz0gDWY=\r\n                &lt;/ds:DigestValue&gt;\r\n            &lt;/ds:Reference&gt;\r\n        &lt;/ds:SignedInfo&gt;\r\n        &lt;ds:SignatureValue&gt;\r\n            laE5splYJDi8uoMbbQ1tq8bWHPotfZW/aoJ1psWQkuzgc6wS0XS71MIFM9fcZ7rFQEGUWw0GXR6cy/nyDkCaEOH7o+VvKaainpKSktVrAbBtomWIkFx65AsDbHdcN0CZXIz57yRzzfFWjks+fYEHoEM48/HkB8brFxiiyJ17GEd96O7DErlCxen4W874/uOOneEZYBxXtcZnqQylJjgen3C7VyeQATK1AnGba6TK7cdClJjBDapmo/VnWBP6ovH8ZbATdd6u8au1xBqXBu/a+DLwFIdmd2TdDWmT0mkzz/MqdfCtP8W5nOk3UU9ZwfHzSBaQrWH3/mdIgqh8V57BMw==\r\n        &lt;/ds:SignatureValue&gt;\r\n        &lt;ds:KeyInfo&gt;\r\n            &lt;ds:X509Data&gt;\r\n                &lt;ds:X509Certificate&gt;\r\n                    MIIDqDCCApCgAwIBAgIGAYXQr1PhMA0GCSqGSIb3DQEBCwUAMIGUMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFTATBgNVBAMMDGRldi02MjkxNDMxMjEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTAeFw0yMzAxMjAxOTM2MDlaFw0zMzAxMjAxOTM3MDlaMIGUMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFTATBgNVBAMMDGRldi02MjkxNDMxMjEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKMgSFX7FkFVNzGyL7EjtIRaJRmj7/Z8diMZyAVy0rBqcIB7aL9Hn3gVefJs09XJiQiuhLVihaD4H1c9RZzS8U089wmef8w0Gc0Bca8jLziAqbzDsph9lQUxoUFCDCyGhamQZvnAk7Rk+PT012ICN/K/eB0q/Un0VEeyTyPhBimfpA2TTe3nC4kjDpKOzQPhjHvjusL0e5VMnDR37iv+yO+VKZ8bDI5WbJPeR2jWh+6EJHUIoNH0XK6Fna4ektpD4vvMSNapjKVKvyFnNoVQGpl/Hc7J0Dh7b/B4veUuYvrFEhj6iAISuD5hM70iL+xaKkf9GLObj8Ay6RTx7kR99WECAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAMfjuP24tBNbcEURI9hhbMECVHxfXauVQF1H5z7uWyp5+Pqphw1LApG5KmR/RFDXzePuuVZNFZON27r78w0tixgR5Z0xrwB8Lkdt9LJSwUGNv0dxpdDPFvBoGopjcnIs1zi5MgiTwW/mkYOWJhZDo+E4CheVRyp3H32hvfEG8B+vrEH7CZ8csIK2N4hYiCJP+xktHH6yXDP7fVSWu1CdWDddpyhI0B0Gwo6aBBiyDElsNyVHGwJGT7dnsWvc8bIKP2IPFgE7zxKoARqzV/jAcryyySRiDjbS9kAw84svgWxBJefoaPAtJjhr84o7222QoxMaxi/X5V9ns+S76Wo3A4Q==\r\n                &lt;/ds:X509Certificate&gt;\r\n            &lt;/ds:X509Data&gt;\r\n        &lt;/ds:KeyInfo&gt;\r\n    &lt;/ds:Signature&gt;\r\n```\r\n\r\n\r\n\r\nI have tried decrypting the SignatureValue with the PublicKey to retrieve what&#39;s in the DigestValue, but the value I retrieved when doing that didn&#39;t match up.  This is what I tried when attempting that:  \r\n\r\n```\r\nCipher c = Cipher.getInstance(&quot;RSA&quot;);\r\nc.init(Cipher.DECRYPT_MODE, publicKey);\t\t\r\nSystem.out.println(new String(Base64.getEncoder().encode(c.doFinal(Base64.getDecoder().decode(signature.getBytes(java.nio.charset.StandardCharsets.UTF_8))))));\r\n```","title":"Signature Verification in Java for RSA SHA-256","body":"<p><strong>EDIT - Updated with full SAML</strong></p>\n<p>I'm trying to verify a signature I receive from a SAML Response in Java.  The SAML Response is validated by samltool.io, but I am having a difficult time with the Signature class in java.  No matter what I try, it's returning false.  I have properly canonicalized my XML and I am able to successfully generate the correct MessageDigest with what I have in my content String.  Hopefully someone can point out what I'm doing wrong.  Here is my code:</p>\n<pre><code>public class SigVer {\n    public static void main(String[] args) throws Exception {   \n        System.out.println(&quot;Initialized&quot;);\n        \n        String pubKeyStr = &quot;MIIDqDCCApCgAwIBAgIGAYXQr1PhMA0GCSqGSIb3DQEBCwUAMIGUMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFTATBgNVBAMMDGRldi02MjkxNDMxMjEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTAeFw0yMzAxMjAxOTM2MDlaFw0zMzAxMjAxOTM3MDlaMIGUMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFTATBgNVBAMMDGRldi02MjkxNDMxMjEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKMgSFX7FkFVNzGyL7EjtIRaJRmj7/Z8diMZyAVy0rBqcIB7aL9Hn3gVefJs09XJiQiuhLVihaD4H1c9RZzS8U089wmef8w0Gc0Bca8jLziAqbzDsph9lQUxoUFCDCyGhamQZvnAk7Rk+PT012ICN/K/eB0q/Un0VEeyTyPhBimfpA2TTe3nC4kjDpKOzQPhjHvjusL0e5VMnDR37iv+yO+VKZ8bDI5WbJPeR2jWh+6EJHUIoNH0XK6Fna4ektpD4vvMSNapjKVKvyFnNoVQGpl/Hc7J0Dh7b/B4veUuYvrFEhj6iAISuD5hM70iL+xaKkf9GLObj8Ay6RTx7kR99WECAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAMfjuP24tBNbcEURI9hhbMECVHxfXauVQF1H5z7uWyp5+Pqphw1LApG5KmR/RFDXzePuuVZNFZON27r78w0tixgR5Z0xrwB8Lkdt9LJSwUGNv0dxpdDPFvBoGopjcnIs1zi5MgiTwW/mkYOWJhZDo+E4CheVRyp3H32hvfEG8B+vrEH7CZ8csIK2N4hYiCJP+xktHH6yXDP7fVSWu1CdWDddpyhI0B0Gwo6aBBiyDElsNyVHGwJGT7dnsWvc8bIKP2IPFgE7zxKoARqzV/jAcryyySRiDjbS9kAw84svgWxBJefoaPAtJjhr84o7222QoxMaxi/X5V9ns+S76Wo3A4Q==&quot;;\n        \n        byte[] certBytes = pubKeyStr.getBytes(java.nio.charset.StandardCharsets.UTF_8);\n\n        CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n        InputStream in = new ByteArrayInputStream(Base64.getDecoder().decode(certBytes));\n        X509Certificate certificate = (X509Certificate)certFactory.generateCertificate(in);\n\n        PublicKey publicKey = certificate.getPublicKey();\n\n        String content = &quot;&lt;saml2p:Response xmlns:saml2p=\\&quot;urn:oasis:names:tc:SAML:2.0:protocol\\&quot; xmlns:xs=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot; Destination=\\&quot;http://10.100.1.123:8080/identityiq/external/registration.jsf\\&quot; ID=\\&quot;id130347804157883831058335572\\&quot; IssueInstant=\\&quot;2023-01-20T19:39:44.049Z\\&quot; Version=\\&quot;2.0\\&quot;&gt;&lt;saml2:Issuer xmlns:saml2=\\&quot;urn:oasis:names:tc:SAML:2.0:assertion\\&quot; Format=\\&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity\\&quot;&gt;http://www.okta.com/exk81ebtt38SLQ3I65d7&lt;/saml2:Issuer&gt;&lt;saml2p:Status&gt;&lt;saml2p:StatusCode Value=\\&quot;urn:oasis:names:tc:SAML:2.0:status:Success\\&quot;&gt;&lt;/saml2p:StatusCode&gt;&lt;/saml2p:Status&gt;&lt;saml2:Assertion xmlns:saml2=\\&quot;urn:oasis:names:tc:SAML:2.0:assertion\\&quot; ID=\\&quot;id1303478041593882583231621\\&quot; IssueInstant=\\&quot;2023-01-20T19:39:44.049Z\\&quot; Version=\\&quot;2.0\\&quot;&gt;&lt;saml2:Issuer Format=\\&quot;urn:oasis:names:tc:SAML:2.0:nameid-format:entity\\&quot;&gt;http://www.okta.com/exk81ebtt38SLQ3I65d7&lt;/saml2:Issuer&gt;&lt;saml2:Subject&gt;&lt;saml2:NameID Format=\\&quot;urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\\&quot;&gt;matt@revnatech.com&lt;/saml2:NameID&gt;&lt;saml2:SubjectConfirmation Method=\\&quot;urn:oasis:names:tc:SAML:2.0:cm:bearer\\&quot;&gt;&lt;saml2:SubjectConfirmationData NotOnOrAfter=\\&quot;2023-01-20T19:44:44.049Z\\&quot; Recipient=\\&quot;http://10.100.1.123:8080/identityiq/external/registration.jsf\\&quot;&gt;&lt;/saml2:SubjectConfirmationData&gt;&lt;/saml2:SubjectConfirmation&gt;&lt;/saml2:Subject&gt;&lt;saml2:Conditions NotBefore=\\&quot;2023-01-20T19:34:44.049Z\\&quot; NotOnOrAfter=\\&quot;2023-01-20T19:44:44.049Z\\&quot;&gt;&lt;saml2:AudienceRestriction&gt;&lt;saml2:Audience&gt;http://10.100.1.123:8080/identityiq/&lt;/saml2:Audience&gt;&lt;/saml2:AudienceRestriction&gt;&lt;/saml2:Conditions&gt;&lt;saml2:AuthnStatement AuthnInstant=\\&quot;2023-01-20T19:39:44.049Z\\&quot; SessionIndex=\\&quot;id1674243584047.1963093145\\&quot;&gt;&lt;saml2:AuthnContext&gt;&lt;saml2:AuthnContextClassRef&gt;urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport&lt;/saml2:AuthnContextClassRef&gt;&lt;/saml2:AuthnContext&gt;&lt;/saml2:AuthnStatement&gt;&lt;saml2:AttributeStatement&gt;&lt;saml2:Attribute Name=\\&quot;email\\&quot; NameFormat=\\&quot;urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified\\&quot;&gt;&lt;saml2:AttributeValue xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot; xsi:type=\\&quot;xs:string\\&quot;&gt;matt@revnatech.com&lt;/saml2:AttributeValue&gt;&lt;/saml2:Attribute&gt;&lt;/saml2:AttributeStatement&gt;&lt;/saml2:Assertion&gt;&lt;/saml2p:Response&gt;&quot;;\n        \n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        md.update(content.getBytes(java.nio.charset.StandardCharsets.UTF_8));\n        byte[] digest = md.digest();\n        \n        System.out.println(new String(Base64.getEncoder().encode(digest)));\n\n        String signature = &quot;laE5splYJDi8uoMbbQ1tq8bWHPotfZW/aoJ1psWQkuzgc6wS0XS71MIFM9fcZ7rFQEGUWw0GXR6cy/nyDkCaEOH7o+VvKaainpKSktVrAbBtomWIkFx65AsDbHdcN0CZXIz57yRzzfFWjks+fYEHoEM48/HkB8brFxiiyJ17GEd96O7DErlCxen4W874/uOOneEZYBxXtcZnqQylJjgen3C7VyeQATK1AnGba6TK7cdClJjBDapmo/VnWBP6ovH8ZbATdd6u8au1xBqXBu/a+DLwFIdmd2TdDWmT0mkzz/MqdfCtP8W5nOk3UU9ZwfHzSBaQrWH3/mdIgqh8V57BMw==&quot;;\n        \n        try {\n            Signature sig = Signature.getInstance(&quot;SHA256withRSA&quot;);\n            sig.initVerify(publicKey);\n            sig.update(content.getBytes(java.nio.charset.StandardCharsets.UTF_8));\n            boolean result = sig.verify(Base64.getDecoder().decode(signature.getBytes(java.nio.charset.StandardCharsets.UTF_8)));\n            \n            System.out.println(&quot;Returning &quot; + result);\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p>My SAML Signature block is as follows:</p>\n<pre><code>&lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt;\n        &lt;ds:SignedInfo&gt;\n            &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;&lt;/ds:CanonicalizationMethod&gt;\n            &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;&gt;&lt;/ds:SignatureMethod&gt;\n            &lt;ds:Reference URI=&quot;#id130347804157883831058335572&quot;&gt;\n                &lt;ds:Transforms&gt;\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;&gt;&lt;/ds:Transform&gt;\n                    &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot;&gt;\n                        &lt;ec:InclusiveNamespaces xmlns:ec=&quot;http://www.w3.org/2001/10/xml-exc-c14n#&quot; PrefixList=&quot;xs&quot;&gt;&lt;/ec:InclusiveNamespaces&gt;\n                    &lt;/ds:Transform&gt;\n                &lt;/ds:Transforms&gt;\n                &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;&gt;&lt;/ds:DigestMethod&gt;\n                &lt;ds:DigestValue&gt;\n                    1jaT9pnWmUCL0+atOcxHZ2yxhL5XOIhhHaK3Oz0gDWY=\n                &lt;/ds:DigestValue&gt;\n            &lt;/ds:Reference&gt;\n        &lt;/ds:SignedInfo&gt;\n        &lt;ds:SignatureValue&gt;\n            laE5splYJDi8uoMbbQ1tq8bWHPotfZW/aoJ1psWQkuzgc6wS0XS71MIFM9fcZ7rFQEGUWw0GXR6cy/nyDkCaEOH7o+VvKaainpKSktVrAbBtomWIkFx65AsDbHdcN0CZXIz57yRzzfFWjks+fYEHoEM48/HkB8brFxiiyJ17GEd96O7DErlCxen4W874/uOOneEZYBxXtcZnqQylJjgen3C7VyeQATK1AnGba6TK7cdClJjBDapmo/VnWBP6ovH8ZbATdd6u8au1xBqXBu/a+DLwFIdmd2TdDWmT0mkzz/MqdfCtP8W5nOk3UU9ZwfHzSBaQrWH3/mdIgqh8V57BMw==\n        &lt;/ds:SignatureValue&gt;\n        &lt;ds:KeyInfo&gt;\n            &lt;ds:X509Data&gt;\n                &lt;ds:X509Certificate&gt;\n                    MIIDqDCCApCgAwIBAgIGAYXQr1PhMA0GCSqGSIb3DQEBCwUAMIGUMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFTATBgNVBAMMDGRldi02MjkxNDMxMjEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTAeFw0yMzAxMjAxOTM2MDlaFw0zMzAxMjAxOTM3MDlaMIGUMQswCQYDVQQGEwJVUzETMBEGA1UECAwKQ2FsaWZvcm5pYTEWMBQGA1UEBwwNU2FuIEZyYW5jaXNjbzENMAsGA1UECgwET2t0YTEUMBIGA1UECwwLU1NPUHJvdmlkZXIxFTATBgNVBAMMDGRldi02MjkxNDMxMjEcMBoGCSqGSIb3DQEJARYNaW5mb0Bva3RhLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKMgSFX7FkFVNzGyL7EjtIRaJRmj7/Z8diMZyAVy0rBqcIB7aL9Hn3gVefJs09XJiQiuhLVihaD4H1c9RZzS8U089wmef8w0Gc0Bca8jLziAqbzDsph9lQUxoUFCDCyGhamQZvnAk7Rk+PT012ICN/K/eB0q/Un0VEeyTyPhBimfpA2TTe3nC4kjDpKOzQPhjHvjusL0e5VMnDR37iv+yO+VKZ8bDI5WbJPeR2jWh+6EJHUIoNH0XK6Fna4ektpD4vvMSNapjKVKvyFnNoVQGpl/Hc7J0Dh7b/B4veUuYvrFEhj6iAISuD5hM70iL+xaKkf9GLObj8Ay6RTx7kR99WECAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAMfjuP24tBNbcEURI9hhbMECVHxfXauVQF1H5z7uWyp5+Pqphw1LApG5KmR/RFDXzePuuVZNFZON27r78w0tixgR5Z0xrwB8Lkdt9LJSwUGNv0dxpdDPFvBoGopjcnIs1zi5MgiTwW/mkYOWJhZDo+E4CheVRyp3H32hvfEG8B+vrEH7CZ8csIK2N4hYiCJP+xktHH6yXDP7fVSWu1CdWDddpyhI0B0Gwo6aBBiyDElsNyVHGwJGT7dnsWvc8bIKP2IPFgE7zxKoARqzV/jAcryyySRiDjbS9kAw84svgWxBJefoaPAtJjhr84o7222QoxMaxi/X5V9ns+S76Wo3A4Q==\n                &lt;/ds:X509Certificate&gt;\n            &lt;/ds:X509Data&gt;\n        &lt;/ds:KeyInfo&gt;\n    &lt;/ds:Signature&gt;\n</code></pre>\n<p>I have tried decrypting the SignatureValue with the PublicKey to retrieve what's in the DigestValue, but the value I retrieved when doing that didn't match up.  This is what I tried when attempting that:</p>\n<pre><code>Cipher c = Cipher.getInstance(&quot;RSA&quot;);\nc.init(Cipher.DECRYPT_MODE, publicKey);     \nSystem.out.println(new String(Base64.getEncoder().encode(c.doFinal(Base64.getDecoder().decode(signature.getBytes(java.nio.charset.StandardCharsets.UTF_8))))));\n</code></pre>\n"},{"tags":["java","jframe","resize","window-resize"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1674262646,"post_id":75190429,"comment_id":132684277,"body_markdown":"Make use of multiple/compound layout managers","body":"Make use of multiple/compound layout managers"},{"owner":{"account_id":27584545,"reputation":1,"user_id":21053038,"display_name":"Omair Salman"},"score":0,"creation_date":1674290126,"post_id":75190429,"comment_id":132686655,"body_markdown":"@MadProgrammer can you point me to a simple guide about layout managers? We didn&#39;t learn that in uni and I got really confused when looking it up myself &#128517;","body":"@MadProgrammer can you point me to a simple guide about layout managers? We didn&#39;t learn that in uni and I got really confused when looking it up myself ð"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1674291038,"post_id":75190429,"comment_id":132686734,"body_markdown":"[Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a>"}],"owner":{"account_id":27584545,"reputation":1,"user_id":21053038,"display_name":"Omair Salman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674260986,"creation_date":1674260412,"question_id":75190429,"body_markdown":"I&#39;m learning java through university and I&#39;ve been taught the basics of making a java program and designing GUIs. Maximizing a window after running my program makes all the JFrame components stay in place while grey fills the rest of the space. Here&#39;s an example of how it looks like:\r\n\r\n[JFrame window normally][1], [Maximized window before &quot;fix&quot;][2].\r\n\r\nAfter failing to find a solution I came up with a band-aid solution which is to get the component locations and just move them with hard-coded values when the jframe is maximized. This was not an elegant solution and every jframe in my java course project increased in the number of elements on screen. Is there any piece of code to make my components move and resize automatically and dynamically?\r\n\r\nHere&#39;s what I&#39;ve tried so far:\r\n\r\nFirst I obtained the positions of components through 2D points:\r\n```\r\nPoint managementLoginBtnLocation, empLogLocation, logoLocation, customerBtnLocation, welcomeLblLocation, contactBtnLocation, aboutBtnLocation, mainMenuBtnLocation;\r\n//Constructor and rest of code...\r\npublic final void getOriginalComponentLocations()\r\n    {\r\n        managementLoginBtnLocation = managementLoginBtn.getLocation();\r\n        empLogLocation = empLoginBtn.getLocation();\r\n        logoLocation = shopLogo.getLocation();\r\n        customerBtnLocation = customerBtn.getLocation();\r\n        welcomeLblLocation = welcomeLbl.getLocation();\r\n        contactBtnLocation = contactBtn.getLocation();\r\n        aboutBtnLocation = aboutBtn.getLocation();\r\n        mainMenuBtnLocation = mainMenuBtn.getLocation();\r\n    }\r\n//This method is called within the constructor.\r\n```\r\nI implemented the ComponentListener Interface and added a component listener to my jframe. Then I made it so when the jframe&#39;s size changes, it changes the size of the jlabel used for background art. And if the label&#39;s width is greater than 800 (the default I used while designing) it moves the components and doubles their size and font size. When the jframe is minimized the label will go back to the default size so I made a method to revert the font sizes, because I found the component sizes and locations reset automatically.\r\n\r\n```\r\npublic void componentResized(ComponentEvent e)\r\n    {\r\n//Resizing the background label and setting its icon to a resized version of its current icon.\r\n        backgroundMainArt.setSize(this.getWidth() - 16, this.getHeight() - 21);\r\n        ImageIcon icon = new ImageIcon(&quot;C:\\\\Program Files\\\\OMOClothingStore\\\\Resources\\\\Main menu\\\\main menu background art.jpg&quot;);\r\n        Image img = icon.getImage();\r\n        Image newImage = img.getScaledInstance(backgroundMainArt.getWidth(), backgroundMainArt.getHeight(), Image.SCALE_FAST);\r\n        icon = new ImageIcon(newImage);\r\n        backgroundMainArt.setIcon(icon);\r\n        if(backgroundMainArt.getWidth() &gt; 800) //When the size of the label is greater than default\r\n        {\r\n//I move the components, enlarge the buttons and zoom the font size\r\n            moveComponents();\r\n            enlargeBtns();\r\n            zoomBtnsFontSize();\r\n        }\r\n        else //When the label is back to its original size\r\n        {\r\n//I revert the font sizes as button sizes and positions reset automatically\r\n            revertBtnsFontSize();\r\n            setLogoIconAndBackgroundArtAndWelcomeLbl();\r\n        }\r\n    }\r\npublic void moveComponents()\r\n    {\r\n        moveLogo();\r\n        moveManagementLoginBtn();\r\n        moveEmployeeLoginBtn();\r\n        moveCustomerBtn();\r\n        moveWelcomeLbl();\r\n        moveContactInfoBtn();\r\n        moveAboutBtn();\r\n        moveMainMenuBtn();\r\n    }\r\n    public void moveLogo()\r\n    {\r\n        ImageIcon logoIcon = new ImageIcon(&quot;C:\\\\Program Files\\\\OMOClothingStore\\\\Resources\\\\Shared resources\\\\OMO Clothing Store logo.png&quot;);\r\n        Image logoImg = logoIcon.getImage();\r\n        Image newLogoImage = logoImg.getScaledInstance(250, 250, Image.SCALE_DEFAULT);\r\n        logoIcon = new ImageIcon(newLogoImage);\r\n        shopLogo.setIcon(logoIcon);\r\n        Point newLogoLocation = new Point();\r\n        newLogoLocation.x = (logoLocation.x * 2) + 200;\r\n        newLogoLocation.y = (logoLocation.y * 2) + 30;\r\n        shopLogo.setLocation(newLogoLocation);\r\n    }\r\n//The rest of the &quot;moveX&quot; methods follow the same pattern as moveLogo()\r\npublic void enlargeBtns()\r\n    {\r\n        managementLoginBtn.setSize(410, 94);\r\n        empLoginBtn.setSize(410, 94);\r\n        customerBtn.setSize(410, 94);\r\n    }\r\n    public void zoomBtnsFontSize()\r\n    {\r\n        customerBtn.setFont(sizeBtn.getFont());\r\n//sizeBtn is a JButton that has a font size of 24. I found that just creating a new Font object with bigger size here made the font way larger for some reason.\r\n        empLoginBtn.setFont(sizeBtn.getFont());\r\n        managementLoginBtn.setFont(sizeBtn.getFont());\r\n    }\r\n    public void revertBtnsFontSize()\r\n    {\r\n        empLoginBtn.setFont(new Font(&quot;Segoe UI&quot;, Font.PLAIN, 14));\r\n        managementLoginBtn.setFont(new Font(&quot;Segoe UI&quot;, Font.PLAIN, 14));\r\n        customerBtn.setFont(new Font(&quot;Segoe UI&quot;, Font.PLAIN, 14));\r\n    }\r\n```\r\nI split the moving of the components into many methods inside other methods because I found it easier to keep up with.\r\nThis worked. Here&#39;s how it looks like when running the JFrame: [Maximized window after &quot;fix&quot;][3]. But moving on to other JFrames, they are more intricate and have many more components - extra buttons, panels with other components in them, menu bars, etc.\r\nIs there a better approach to fixing this? Or do I just remove the ability to resize and move on?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f22Cz.png\r\n  [2]: https://i.stack.imgur.com/EXlcA.png\r\n  [3]: https://i.stack.imgur.com/OXINI.png","title":"How to make my JFrame components dynamically scale when resizing the window, without hard-coding position and size values?","body":"<p>I'm learning java through university and I've been taught the basics of making a java program and designing GUIs. Maximizing a window after running my program makes all the JFrame components stay in place while grey fills the rest of the space. Here's an example of how it looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/f22Cz.png\" rel=\"nofollow noreferrer\">JFrame window normally</a>, <a href=\"https://i.stack.imgur.com/EXlcA.png\" rel=\"nofollow noreferrer\">Maximized window before &quot;fix&quot;</a>.</p>\n<p>After failing to find a solution I came up with a band-aid solution which is to get the component locations and just move them with hard-coded values when the jframe is maximized. This was not an elegant solution and every jframe in my java course project increased in the number of elements on screen. Is there any piece of code to make my components move and resize automatically and dynamically?</p>\n<p>Here's what I've tried so far:</p>\n<p>First I obtained the positions of components through 2D points:</p>\n<pre><code>Point managementLoginBtnLocation, empLogLocation, logoLocation, customerBtnLocation, welcomeLblLocation, contactBtnLocation, aboutBtnLocation, mainMenuBtnLocation;\n//Constructor and rest of code...\npublic final void getOriginalComponentLocations()\n    {\n        managementLoginBtnLocation = managementLoginBtn.getLocation();\n        empLogLocation = empLoginBtn.getLocation();\n        logoLocation = shopLogo.getLocation();\n        customerBtnLocation = customerBtn.getLocation();\n        welcomeLblLocation = welcomeLbl.getLocation();\n        contactBtnLocation = contactBtn.getLocation();\n        aboutBtnLocation = aboutBtn.getLocation();\n        mainMenuBtnLocation = mainMenuBtn.getLocation();\n    }\n//This method is called within the constructor.\n</code></pre>\n<p>I implemented the ComponentListener Interface and added a component listener to my jframe. Then I made it so when the jframe's size changes, it changes the size of the jlabel used for background art. And if the label's width is greater than 800 (the default I used while designing) it moves the components and doubles their size and font size. When the jframe is minimized the label will go back to the default size so I made a method to revert the font sizes, because I found the component sizes and locations reset automatically.</p>\n<pre><code>public void componentResized(ComponentEvent e)\n    {\n//Resizing the background label and setting its icon to a resized version of its current icon.\n        backgroundMainArt.setSize(this.getWidth() - 16, this.getHeight() - 21);\n        ImageIcon icon = new ImageIcon(&quot;C:\\\\Program Files\\\\OMOClothingStore\\\\Resources\\\\Main menu\\\\main menu background art.jpg&quot;);\n        Image img = icon.getImage();\n        Image newImage = img.getScaledInstance(backgroundMainArt.getWidth(), backgroundMainArt.getHeight(), Image.SCALE_FAST);\n        icon = new ImageIcon(newImage);\n        backgroundMainArt.setIcon(icon);\n        if(backgroundMainArt.getWidth() &gt; 800) //When the size of the label is greater than default\n        {\n//I move the components, enlarge the buttons and zoom the font size\n            moveComponents();\n            enlargeBtns();\n            zoomBtnsFontSize();\n        }\n        else //When the label is back to its original size\n        {\n//I revert the font sizes as button sizes and positions reset automatically\n            revertBtnsFontSize();\n            setLogoIconAndBackgroundArtAndWelcomeLbl();\n        }\n    }\npublic void moveComponents()\n    {\n        moveLogo();\n        moveManagementLoginBtn();\n        moveEmployeeLoginBtn();\n        moveCustomerBtn();\n        moveWelcomeLbl();\n        moveContactInfoBtn();\n        moveAboutBtn();\n        moveMainMenuBtn();\n    }\n    public void moveLogo()\n    {\n        ImageIcon logoIcon = new ImageIcon(&quot;C:\\\\Program Files\\\\OMOClothingStore\\\\Resources\\\\Shared resources\\\\OMO Clothing Store logo.png&quot;);\n        Image logoImg = logoIcon.getImage();\n        Image newLogoImage = logoImg.getScaledInstance(250, 250, Image.SCALE_DEFAULT);\n        logoIcon = new ImageIcon(newLogoImage);\n        shopLogo.setIcon(logoIcon);\n        Point newLogoLocation = new Point();\n        newLogoLocation.x = (logoLocation.x * 2) + 200;\n        newLogoLocation.y = (logoLocation.y * 2) + 30;\n        shopLogo.setLocation(newLogoLocation);\n    }\n//The rest of the &quot;moveX&quot; methods follow the same pattern as moveLogo()\npublic void enlargeBtns()\n    {\n        managementLoginBtn.setSize(410, 94);\n        empLoginBtn.setSize(410, 94);\n        customerBtn.setSize(410, 94);\n    }\n    public void zoomBtnsFontSize()\n    {\n        customerBtn.setFont(sizeBtn.getFont());\n//sizeBtn is a JButton that has a font size of 24. I found that just creating a new Font object with bigger size here made the font way larger for some reason.\n        empLoginBtn.setFont(sizeBtn.getFont());\n        managementLoginBtn.setFont(sizeBtn.getFont());\n    }\n    public void revertBtnsFontSize()\n    {\n        empLoginBtn.setFont(new Font(&quot;Segoe UI&quot;, Font.PLAIN, 14));\n        managementLoginBtn.setFont(new Font(&quot;Segoe UI&quot;, Font.PLAIN, 14));\n        customerBtn.setFont(new Font(&quot;Segoe UI&quot;, Font.PLAIN, 14));\n    }\n</code></pre>\n<p>I split the moving of the components into many methods inside other methods because I found it easier to keep up with.\nThis worked. Here's how it looks like when running the JFrame: <a href=\"https://i.stack.imgur.com/OXINI.png\" rel=\"nofollow noreferrer\">Maximized window after &quot;fix&quot;</a>. But moving on to other JFrames, they are more intricate and have many more components - extra buttons, panels with other components in them, menu bars, etc.\nIs there a better approach to fixing this? Or do I just remove the ability to resize and move on?</p>\n"},{"tags":["java","spring","audio","video","duration"],"answers":[{"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1561432963,"creation_date":1561432963,"answer_id":56746410,"question_id":56722242,"body_markdown":"It will depend on the particular video container (e.g. mp4) and also possibly the framework you are using, but you can use ffprobe, part of ffmpeg, to get the information.\r\n\r\nThere are several ffmpeg wrappers for Java - at the time of writing this is a popular one: https://github.com/bramp/ffmpeg-cli-wrapper\r\n\r\n\r\nGetting media file information using this, from the example at the link above, looks like:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    FFprobe ffprobe = new FFprobe(&quot;/path/to/ffprobe&quot;);\r\n    FFmpegProbeResult probeResult = ffprobe.probe(&quot;input.mp4&quot;);\r\n\r\n    FFmpegFormat format = probeResult.getFormat();\r\n    System.out.format(&quot;%nFile: &#39;%s&#39; ; Format: &#39;%s&#39; ; Duration: %.3fs&quot;, \r\n    \tformat.filename, \r\n    \tformat.format_long_name,\r\n    \tformat.duration\r\n    );\r\n\r\n    FFmpegStream stream = probeResult.getStreams().get(0);\r\n    System.out.format(&quot;%nCodec: &#39;%s&#39; ; Width: %dpx ; Height: %dpx&quot;,\r\n    \tstream.codec_long_name,\r\n    \tstream.width,\r\n    \tstream.height\r\n    );\r\n\r\n\r\n","title":"How do I get video/audio info such as duration, width, and height?","body":"<p>It will depend on the particular video container (e.g. mp4) and also possibly the framework you are using, but you can use ffprobe, part of ffmpeg, to get the information.</p>\n\n<p>There are several ffmpeg wrappers for Java - at the time of writing this is a popular one: <a href=\"https://github.com/bramp/ffmpeg-cli-wrapper\" rel=\"nofollow noreferrer\">https://github.com/bramp/ffmpeg-cli-wrapper</a></p>\n\n<p>Getting media file information using this, from the example at the link above, looks like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>FFprobe ffprobe = new FFprobe(\"/path/to/ffprobe\");\nFFmpegProbeResult probeResult = ffprobe.probe(\"input.mp4\");\n\nFFmpegFormat format = probeResult.getFormat();\nSystem.out.format(\"%nFile: '%s' ; Format: '%s' ; Duration: %.3fs\", \n    format.filename, \n    format.format_long_name,\n    format.duration\n);\n\nFFmpegStream stream = probeResult.getStreams().get(0);\nSystem.out.format(\"%nCodec: '%s' ; Width: %dpx ; Height: %dpx\",\n    stream.codec_long_name,\n    stream.width,\n    stream.height\n);\n</code></pre>\n"}],"owner":{"account_id":11271382,"reputation":178,"user_id":8266730,"display_name":"Polla Toube"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3220,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":56746410,"answer_count":1,"score":3,"last_activity_date":1674260935,"creation_date":1561278591,"question_id":56722242,"body_markdown":"I need to get video/audio file information like duration, width, and height after upload from `RestController`.","title":"How do I get video/audio info such as duration, width, and height?","body":"<p>I need to get video/audio file information like duration, width, and height after upload from <code>RestController</code>.</p>\n"},{"tags":["java","mysql","spring-boot","many-to-many"],"comments":[{"owner":{"account_id":7598435,"reputation":409,"user_id":5763896,"display_name":"Theo Stefou"},"score":0,"creation_date":1674260996,"post_id":75190359,"comment_id":132684124,"body_markdown":"adding a one to many field in the  org_permissions entity class for each join might be what you are looking for (at least from what I can tell from your example query). Also, you can always try running native queries!","body":"adding a one to many field in the  org_permissions entity class for each join might be what you are looking for (at least from what I can tell from your example query). Also, you can always try running native queries!"},{"owner":{"account_id":17887339,"reputation":21,"user_id":12994704,"display_name":"Antonio Pisanello"},"score":0,"creation_date":1674261503,"post_id":75190359,"comment_id":132684180,"body_markdown":"Thanks for your reply, I add the @OneToMany in my org_permission entity class, but how to make my Organization class link with the OrganizationPermission class without having a whole Object User or OrganizatioAbility ? I just want to store a Map=id_user-&gt;List&lt;Pair&lt;&gt;&gt;. Maybe is not possible or I miss understood how JPA works","body":"Thanks for your reply, I add the @OneToMany in my org_permission entity class, but how to make my Organization class link with the OrganizationPermission class without having a whole Object User or OrganizatioAbility ? I just want to store a Map=id_user-&gt;List&lt;Pair&lt;&gt;&gt;. Maybe is not possible or I miss understood how JPA works"}],"owner":{"account_id":17887339,"reputation":21,"user_id":12994704,"display_name":"Antonio Pisanello"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674260496,"creation_date":1674259369,"question_id":75190359,"body_markdown":"I&#39;m new to Java Springboot and I want to join multiple tables.\r\n\r\nI have this MySQL schema :\r\n```mysql\r\nCREATE TABLE `users`\r\n(\r\n    `id`                 int              NOT NULL AUTO_INCREMENT,\r\n    `email`              varchar(128)     NOT NULL,\r\n    `nickname`           varchar(128)     NOT NULL,\r\n    `password`           varchar(256)     NOT NULL,CURRENT_TIMESTAMP,\r\n    PRIMARY KEY (`id`),\r\n    UNIQUE KEY `email` (`email`),\r\n    UNIQUE KEY `nickname` (`nickname`)\r\n);\r\n\r\nCREATE TABLE `organizations` (\r\n    `id` int(11) NOT NULL AUTO_INCREMENT,\r\n    `name` varchar(128) NOT NULL,\r\n\r\n    PRIMARY KEY (`id`)\r\n);\r\n\r\nCREATE TABLE `org_abilities`\r\n(\r\n    `id`          int          NOT NULL AUTO_INCREMENT,\r\n    `key`         varchar(128) NOT NULL,\r\n    `description` varchar(128) DEFAULT NULL,\r\n    PRIMARY KEY (`id`),\r\n    UNIQUE KEY `idx_key` (`key`) USING BTREE\r\n);\r\n\r\nCREATE TABLE `org_permissions`\r\n(\r\n    `id`              int NOT NULL AUTO_INCREMENT,\r\n    `id_user`         int NOT NULL,\r\n    `id_organization` int NOT NULL,\r\n    `id_ability`      int NOT NULL,\r\n    PRIMARY KEY (`id`),\r\n    KEY `id_organization` (`id_organization`),\r\n    KEY `id_user` (`id_user`),\r\n    KEY `users_permissions_ibfk_2` (`id_ability`),\r\n    CONSTRAINT `org_permissions_ibfk_0` FOREIGN KEY (`id_organization`) REFERENCES `organizations` (`id`),\r\n    CONSTRAINT `org_permissions_ibfk_1` FOREIGN KEY (`id_user`) REFERENCES `users` (`id`),\r\n    CONSTRAINT `org_permissions_ibfk_2` FOREIGN KEY (`id_ability`) REFERENCES `org_abilities` (`id`)\r\n);\r\n\r\n```\r\n\r\nWhere my table org_permissions represent all abilities that a user has within an organization.\r\n\r\nI have created the corresponding Java classes. I have a JPA to fetch the datas from the DB to the classes. \r\n\r\nI want in my `Organization` class to have a field `Map&lt;long, List&lt;Pair&lt;long, String&gt;&gt;&gt; managers` which map an **id_user** to a list of tuple of abilities where the tuple is **(id_ability, org_ability.key)**. \r\n\r\n\r\nFinally I use DTO to send my response, and I want my response to look like that : \r\n```JSON\r\n{\r\n    id : _id_organization,\r\n    name : &quot;organisation name&quot;,\r\n    managers : {\r\n          id_user: [(id_ability, key), (id_ability, key)],\r\n          id_user:[(id_ability, key), (id_ability, key)]\r\n      }\r\n}\r\n```\r\n\r\n**For example:**\r\n```mysql\r\nSELECT op.*, oa.* FROM org_permissions as op\r\nJOIN org_abilities oa on oa.id = op.id_ability\r\nJOIN organizations o on o.id = op.id_organization\r\nJOIN users u on u.id = op.id_user;\r\n```\r\n\r\n[![MySQL query result][1]][1]\r\n\r\nHere, user with id *1* is member of organization **1** and **2**. for organization **1** user *1* has the `CREATE_EVENTS` and `DELETE_EVENTS` abilities and for organization **2** he only have the `DELETE_EVENTS` ability. \r\n\r\nWhen getting all the organization I want this result :\r\n\r\n```JSON\r\n[{\r\n    id : 1,\r\n    name : &quot;Org1&quot;,\r\n    managers : {\r\n      1: [(1, &quot;CREATE_EVENT&quot;), (2,&quot;CREATE_EVENT&quot;)]\r\n    }\r\n},\r\n{\r\n    id : 2,\r\n    name : &quot;Org2&quot;,\r\n    managers : {\r\n      1: [(2,&quot;CREATE_EVENT&quot;)]\r\n    }\r\n}]\r\n```\r\n\r\nThanks for your help, I&#39;m a bit lost with the High level of springboot and JPA\r\n\r\nP.S.: I tried to ask to chat GPT but nothing was concluent \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eL4G4.png","title":"Java Springboot JPA joining multiple tables","body":"<p>I'm new to Java Springboot and I want to join multiple tables.</p>\n<p>I have this MySQL schema :</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `users`\n(\n    `id`                 int              NOT NULL AUTO_INCREMENT,\n    `email`              varchar(128)     NOT NULL,\n    `nickname`           varchar(128)     NOT NULL,\n    `password`           varchar(256)     NOT NULL,CURRENT_TIMESTAMP,\n    PRIMARY KEY (`id`),\n    UNIQUE KEY `email` (`email`),\n    UNIQUE KEY `nickname` (`nickname`)\n);\n\nCREATE TABLE `organizations` (\n    `id` int(11) NOT NULL AUTO_INCREMENT,\n    `name` varchar(128) NOT NULL,\n\n    PRIMARY KEY (`id`)\n);\n\nCREATE TABLE `org_abilities`\n(\n    `id`          int          NOT NULL AUTO_INCREMENT,\n    `key`         varchar(128) NOT NULL,\n    `description` varchar(128) DEFAULT NULL,\n    PRIMARY KEY (`id`),\n    UNIQUE KEY `idx_key` (`key`) USING BTREE\n);\n\nCREATE TABLE `org_permissions`\n(\n    `id`              int NOT NULL AUTO_INCREMENT,\n    `id_user`         int NOT NULL,\n    `id_organization` int NOT NULL,\n    `id_ability`      int NOT NULL,\n    PRIMARY KEY (`id`),\n    KEY `id_organization` (`id_organization`),\n    KEY `id_user` (`id_user`),\n    KEY `users_permissions_ibfk_2` (`id_ability`),\n    CONSTRAINT `org_permissions_ibfk_0` FOREIGN KEY (`id_organization`) REFERENCES `organizations` (`id`),\n    CONSTRAINT `org_permissions_ibfk_1` FOREIGN KEY (`id_user`) REFERENCES `users` (`id`),\n    CONSTRAINT `org_permissions_ibfk_2` FOREIGN KEY (`id_ability`) REFERENCES `org_abilities` (`id`)\n);\n\n</code></pre>\n<p>Where my table org_permissions represent all abilities that a user has within an organization.</p>\n<p>I have created the corresponding Java classes. I have a JPA to fetch the datas from the DB to the classes.</p>\n<p>I want in my <code>Organization</code> class to have a field <code>Map&lt;long, List&lt;Pair&lt;long, String&gt;&gt;&gt; managers</code> which map an <strong>id_user</strong> to a list of tuple of abilities where the tuple is <strong>(id_ability, org_ability.key)</strong>.</p>\n<p>Finally I use DTO to send my response, and I want my response to look like that :</p>\n<pre><code>{\n    id : _id_organization,\n    name : &quot;organisation name&quot;,\n    managers : {\n          id_user: [(id_ability, key), (id_ability, key)],\n          id_user:[(id_ability, key), (id_ability, key)]\n      }\n}\n</code></pre>\n<p><strong>For example:</strong></p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT op.*, oa.* FROM org_permissions as op\nJOIN org_abilities oa on oa.id = op.id_ability\nJOIN organizations o on o.id = op.id_organization\nJOIN users u on u.id = op.id_user;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/eL4G4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eL4G4.png\" alt=\"MySQL query result\" /></a></p>\n<p>Here, user with id <em>1</em> is member of organization <strong>1</strong> and <strong>2</strong>. for organization <strong>1</strong> user <em>1</em> has the <code>CREATE_EVENTS</code> and <code>DELETE_EVENTS</code> abilities and for organization <strong>2</strong> he only have the <code>DELETE_EVENTS</code> ability.</p>\n<p>When getting all the organization I want this result :</p>\n<pre><code>[{\n    id : 1,\n    name : &quot;Org1&quot;,\n    managers : {\n      1: [(1, &quot;CREATE_EVENT&quot;), (2,&quot;CREATE_EVENT&quot;)]\n    }\n},\n{\n    id : 2,\n    name : &quot;Org2&quot;,\n    managers : {\n      1: [(2,&quot;CREATE_EVENT&quot;)]\n    }\n}]\n</code></pre>\n<p>Thanks for your help, I'm a bit lost with the High level of springboot and JPA</p>\n<p>P.S.: I tried to ask to chat GPT but nothing was concluent</p>\n"},{"tags":["java","eclipse","web-services","wsdl"],"comments":[{"owner":{"account_id":2394954,"reputation":4617,"user_id":2093934,"accept_rate":67,"display_name":"gifpif"},"score":0,"creation_date":1458483341,"post_id":36114659,"comment_id":59870261,"body_markdown":"path of document?.. file extension?...","body":"path of document?.. file extension?..."},{"owner":{"account_id":960456,"reputation":949,"user_id":984929,"accept_rate":50,"display_name":"lincolnadym"},"score":0,"creation_date":1458483364,"post_id":36114659,"comment_id":59870272,"body_markdown":"Fail.  Fail what?  Is there a stacktrace?  Also, what&#39;s your version of Eclipse?  Version of Java?  OS (Windows/Linux)?","body":"Fail.  Fail what?  Is there a stacktrace?  Also, what&#39;s your version of Eclipse?  Version of Java?  OS (Windows/Linux)?"},{"owner":{"account_id":5623129,"reputation":139,"user_id":4452305,"accept_rate":43,"display_name":"Esam eldean"},"score":0,"creation_date":1458483919,"post_id":36114659,"comment_id":59870428,"body_markdown":"@Pawanmishra  if u can see the image i attached when i click on browse not give me any path or root path to browse for my wsdl file this is my problem","body":"@Pawanmishra  if u can see the image i attached when i click on browse not give me any path or root path to browse for my wsdl file this is my problem"},{"owner":{"account_id":2394954,"reputation":4617,"user_id":2093934,"accept_rate":67,"display_name":"gifpif"},"score":0,"creation_date":1458484425,"post_id":36114659,"comment_id":59870599,"body_markdown":"save wsdl file within your project folder and refresh project and then try to browse wsdl file...","body":"save wsdl file within your project folder and refresh project and then try to browse wsdl file..."}],"answers":[{"tags":[],"owner":{"account_id":3380407,"reputation":142,"user_id":2837547,"display_name":"Mahesh Kumar Chopker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458484097,"creation_date":1458484097,"answer_id":36114950,"question_id":36114659,"body_markdown":"Please look at following post where an example was provided with detailed steps on creating a WSDL client from a given WSDL file:\r\n[WSDL Client from WSDL file][1]\r\n\r\n\r\n  [1]: http://myblogmchopker.blogspot.in/2013/09/generating-web-service-java-client-from.html","title":"How to Create a Eclipse web service client using a wsdl document not URI?","body":"<p>Please look at following post where an example was provided with detailed steps on creating a WSDL client from a given WSDL file:\n<a href=\"http://myblogmchopker.blogspot.in/2013/09/generating-web-service-java-client-from.html\" rel=\"nofollow\">WSDL Client from WSDL file</a></p>\n"},{"tags":[],"owner":{"account_id":960456,"reputation":949,"user_id":984929,"accept_rate":50,"display_name":"lincolnadym"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458484374,"creation_date":1458484374,"answer_id":36115010,"question_id":36114659,"body_markdown":"In Windows, check the file permissions on the WSDL file : Also, confirm whether you run Eclipse as an Administrator or not.  For me, I NEED to run Eclipse as an Administrator to have certain Eclipse .metadata work in Windows 7.\r\n\r\nSo in Windows : \r\n\r\n- Right-click the WSDL file.\r\n- Select Properties\r\n- Security Tab \r\n- Locate Authenticated Users.\r\n- Click Edit\r\n- Set the Full Control check box.\r\n- In Eclipse, try again.\r\n","title":"How to Create a Eclipse web service client using a wsdl document not URI?","body":"<p>In Windows, check the file permissions on the WSDL file : Also, confirm whether you run Eclipse as an Administrator or not.  For me, I NEED to run Eclipse as an Administrator to have certain Eclipse .metadata work in Windows 7.</p>\n\n<p>So in Windows : </p>\n\n<ul>\n<li>Right-click the WSDL file.</li>\n<li>Select Properties</li>\n<li>Security Tab </li>\n<li>Locate Authenticated Users.</li>\n<li>Click Edit</li>\n<li>Set the Full Control check box.</li>\n<li>In Eclipse, try again.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":278995,"reputation":2459,"user_id":2553194,"display_name":"RubioRic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617949441,"creation_date":1617949441,"answer_id":67016075,"question_id":36114659,"body_markdown":"Notice that you can also supply an URI pointing to a file located in your local machine without importing the file into an Eclipse project.\r\n\r\nThe Browse button doesn&#39;t allow you to navigate your local file system but you can type the URI directly in the input box.\r\n\r\nI have a WSDL file located in &lt;br&gt;\r\n\r\n    D:/stackoverflow/sayhello.wsdl \r\n\r\nIntroducing the URI\r\n\r\n    file:///D:\\stackoverflow\\sayhello.wsdl\r\n\r\nClicking the OK button, the wizard allow me to create the web service client.\r\n\r\n[![Supplying a local URI][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KpNZ8.png","title":"How to Create a Eclipse web service client using a wsdl document not URI?","body":"<p>Notice that you can also supply an URI pointing to a file located in your local machine without importing the file into an Eclipse project.</p>\n<p>The Browse button doesn't allow you to navigate your local file system but you can type the URI directly in the input box.</p>\n<p>I have a WSDL file located in <br></p>\n<pre><code>D:/stackoverflow/sayhello.wsdl \n</code></pre>\n<p>Introducing the URI</p>\n<pre><code>file:///D:\\stackoverflow\\sayhello.wsdl\n</code></pre>\n<p>Clicking the OK button, the wizard allow me to create the web service client.</p>\n<p><a href=\"https://i.stack.imgur.com/KpNZ8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KpNZ8.png\" alt=\"Supplying a local URI\" /></a></p>\n"}],"owner":{"account_id":5623129,"reputation":139,"user_id":4452305,"accept_rate":43,"display_name":"Esam eldean"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7849,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1674259821,"creation_date":1458482264,"question_id":36114659,"body_markdown":"I am trying to create a Eclipse Web Service Client using an existing WSDL document located on my machine. I need to browse for the wsdl document from my\r\nmachine\r\n\r\nI am using Eclipse Luna version 4.1 with jdk 7 on Windows 7 OS\r\n\r\nWhen I click the Browse button, I obtain this ![image][1] \r\n\r\nCan any one tell me how can I select the wsdl file?\r\n\r\n[Solution] When I put my wsdl document into my project root and refreshed the project inside Eclipse, the project appeared when I clicked on browse then I can select the wsdl document \r\n \r\n  ![now I can browse the wsdl document][2]\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/gsgvk.png\r\n  [2]: http://i.stack.imgur.com/NtbyH.png","title":"How to Create a Eclipse web service client using a wsdl document not URI?","body":"<p>I am trying to create a Eclipse Web Service Client using an existing WSDL document located on my machine. I need to browse for the wsdl document from my\nmachine</p>\n<p>I am using Eclipse Luna version 4.1 with jdk 7 on Windows 7 OS</p>\n<p>When I click the Browse button, I obtain this <img src=\"https://i.stack.imgur.com/gsgvk.png\" alt=\"image\" /></p>\n<p>Can any one tell me how can I select the wsdl file?</p>\n<p>[Solution] When I put my wsdl document into my project root and refreshed the project inside Eclipse, the project appeared when I clicked on browse then I can select the wsdl document</p>\n<p><img src=\"https://i.stack.imgur.com/NtbyH.png\" alt=\"now I can browse the wsdl document\" /></p>\n"},{"tags":["java","matrix","multidimensional-array","diagonal"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1674256440,"post_id":75190129,"comment_id":132683550,"body_markdown":"Learn how to debug the code. Then you can step through the single statements and see what it does.","body":"Learn how to debug the code. Then you can step through the single statements and see what it does."}],"answers":[{"tags":[],"owner":{"account_id":17613416,"reputation":281,"user_id":12780992,"display_name":"loic .B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674259674,"creation_date":1674259674,"answer_id":75190376,"question_id":75190129,"body_markdown":"The inner for loop takes the input array, traverse it in diagonnal and store each diagonal element in the new array.\r\n\r\n`i` is the current row of new array,\r\n`j` is used for traversing the input array and finds anti diagonnal element,\r\n`r` is the index of current column in the new array\r\n\r\n`j`start at `i` and decrement at each iteration while `r` increment, this makes the loop traverse the input array diagonnaly : from last row / first column to first row / last column\r\n\r\nThe `if` statement check that the indices used to access the input array are within the bounds of the array, if it is in the bounds it assign the corresponding values of input array in the new array\r\n\r\nYou can try with an example and debug your code by stoping at each steps to follow and better understand the process. ","title":"finding Anti Diagonal of 2D array","body":"<p>The inner for loop takes the input array, traverse it in diagonnal and store each diagonal element in the new array.</p>\n<p><code>i</code> is the current row of new array,\n<code>j</code> is used for traversing the input array and finds anti diagonnal element,\n<code>r</code> is the index of current column in the new array</p>\n<p><code>j</code>start at <code>i</code> and decrement at each iteration while <code>r</code> increment, this makes the loop traverse the input array diagonnaly : from last row / first column to first row / last column</p>\n<p>The <code>if</code> statement check that the indices used to access the input array are within the bounds of the array, if it is in the bounds it assign the corresponding values of input array in the new array</p>\n<p>You can try with an example and debug your code by stoping at each steps to follow and better understand the process.</p>\n"}],"owner":{"account_id":25265587,"reputation":3,"user_id":19095823,"display_name":"Yousef Negmeldin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75190376,"answer_count":1,"score":0,"last_activity_date":1674259674,"creation_date":1674256245,"question_id":75190129,"body_markdown":"this is the code to print the anti diagonal of a 2d array, if given the array\r\n                 \r\n `{{1,2,3},                                                                                            \r\n   {4,5,6},                                                                                      \r\n   {7,8,9}}`\r\n\r\nit should return\r\n\r\n    `{\r\n    {1},\r\n    {2,4},\r\n    {3,5,7},\r\n    {6,8},\r\n    {9}\r\n    }`\r\n    \r\n\r\nthis is the code:\r\n\r\n\r\n\r\n    public static int[][] antiDiagonal(int [][]x){\r\n\tint[][]res = new int[2*x.length-1][];\r\n\tint s = 0;\r\n\t\r\n\tfor( int i = 0 ; i &lt; res.length ; i++ ) {\r\n\t\tif(i&lt;= res.length/2)\r\n\t\t\ts = i+1;\r\n\t\telse\r\n\t\t\ts = s -1;\r\n\t\tres[i] = new int[s];\r\n\t\tfor( int j = i, r = 0 ; j &gt;= 0 &amp;&amp; r &lt; res[i].length ; j-- ) {\r\n\t\t\t\r\n\t\t\tif( (i-j) &lt; x.length &amp;&amp; j &lt; x.length ){\r\n\t\t\t\tres[i][r] = x[i-j][j] ;\r\n\t\t\t\tr++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn res;\r\n\t}\r\n\r\n\r\n\r\nmy brain just can not process what the inner for loop does,\r\n\r\n    for( int j = i, r = 0 ; j &gt;= 0 &amp;&amp; r &lt; res[i].length ; j-- ) {\r\n\r\n        if( (i-j) &lt; x.length &amp;&amp; j &lt; x.length ){\r\n            res[i][r] = x[i-j][j] ;\r\n            r++;\r\n        }\r\n    }\r\n \r\n\r\n\r\n\r\ni just need explanation of what the inner for loop achieves before my sanity detoriates and your response would be gladly appreciated.\r\n\r\nI can accomplish using an alternative solution with Arraylists but the sole purpose of the question was to use 2D arrays only. I have understood all parts of the code except the inner for loop.","title":"finding Anti Diagonal of 2D array","body":"<p>this is the code to print the anti diagonal of a 2d array, if given the array</p>\n<p><code>{{1,2,3},                                                                                             {4,5,6},                                                                                       {7,8,9}}</code></p>\n<p>it should return</p>\n<pre><code>`{\n{1},\n{2,4},\n{3,5,7},\n{6,8},\n{9}\n}`\n</code></pre>\n<p>this is the code:</p>\n<pre><code>public static int[][] antiDiagonal(int [][]x){\nint[][]res = new int[2*x.length-1][];\nint s = 0;\n\nfor( int i = 0 ; i &lt; res.length ; i++ ) {\n    if(i&lt;= res.length/2)\n        s = i+1;\n    else\n        s = s -1;\n    res[i] = new int[s];\n    for( int j = i, r = 0 ; j &gt;= 0 &amp;&amp; r &lt; res[i].length ; j-- ) {\n        \n        if( (i-j) &lt; x.length &amp;&amp; j &lt; x.length ){\n            res[i][r] = x[i-j][j] ;\n            r++;\n        }\n    }\n}\n\nreturn res;\n}\n</code></pre>\n<p>my brain just can not process what the inner for loop does,</p>\n<pre><code>for( int j = i, r = 0 ; j &gt;= 0 &amp;&amp; r &lt; res[i].length ; j-- ) {\n\n    if( (i-j) &lt; x.length &amp;&amp; j &lt; x.length ){\n        res[i][r] = x[i-j][j] ;\n        r++;\n    }\n}\n</code></pre>\n<p>i just need explanation of what the inner for loop achieves before my sanity detoriates and your response would be gladly appreciated.</p>\n<p>I can accomplish using an alternative solution with Arraylists but the sole purpose of the question was to use 2D arrays only. I have understood all parts of the code except the inner for loop.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":12154457,"reputation":766,"user_id":8873770,"accept_rate":80,"display_name":"Jonxag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674259324,"creation_date":1674259324,"answer_id":75190357,"question_id":75190321,"body_markdown":"Something like this?\r\n\r\n     public static double getAveragePrice() {\r\n            return (double) allPrice / allCount;\r\n        }\r\n        \r\n        public static double getAverageBasket() {\r\n            return (double) allPrice / basketCount;\r\n        }","title":"Creating a static average price method","body":"<p>Something like this?</p>\n<pre><code> public static double getAveragePrice() {\n        return (double) allPrice / allCount;\n    }\n    \n    public static double getAverageBasket() {\n        return (double) allPrice / basketCount;\n    }\n</code></pre>\n"}],"owner":{"account_id":22467439,"reputation":15,"user_id":16668372,"display_name":"flameprofi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75190357,"answer_count":1,"score":0,"last_activity_date":1674259324,"creation_date":1674258825,"question_id":75190321,"body_markdown":"Good afternoon, I can&#39;t write a static method to calculate the average price\r\n\r\nImplement a static method to calculate the average price of goods in all baskets. It should calculate and return the ratio of the total cost of all baskets to the total number of all items.\r\nImplement the static method for calculating the average cost of a basket (the ratio of the total cost of all baskets to the number of baskets).\r\n\r\nI still have not been able to create static method data\r\n\r\n\r\n    public class Basket {\r\n    \r\n        private static int count = 0;\r\n        private String items = &quot;&quot;;\r\n        private int totalPrice = 0;\r\n        private double totalWeight = 0;\r\n        private int limit;\r\n    \r\n        public static int allprice = 0;\r\n        public static int allcount = 0;\r\n        public static int averagebasket = 0;\r\n    \r\n        public Basket() {\r\n            increaseCount(1);\r\n            items = &quot;Ð¡Ð¿Ð¸ÑÐ¾Ðº ÑÐ¾Ð²Ð°ÑÐ¾Ð²:&quot;;\r\n            this.limit = 1000000;\r\n        }\r\n    \r\n        public Basket(int limit) {\r\n            this();\r\n            this.limit = limit;\r\n        }\r\n    \r\n        public Basket(String items, int totalPrice) {\r\n            this();\r\n            this.items = this.items + items;\r\n            this.totalPrice = totalPrice;\r\n        }\r\n    \r\n        public static int getCount() {\r\n            return count;\r\n        }\r\n    \r\n        public static int getAllTovar() {\r\n            return allcount;\r\n        }\r\n    \r\n        public static int getAllPrice() {\r\n            return allprice;\r\n        }\r\n        public static int getAverageBasket() {\r\n            return averagebasket;\r\n        }\r\n    \r\n        public double getTotalWeight(){\r\n            return totalWeight;\r\n        }\r\n    \r\n        public static void increaseCount(int count) {\r\n            Basket.count = Basket.count + count;\r\n        }\r\n    \r\n        public static void increaseTovar(int count) {\r\n            Basket.allcount = Basket.allcount + count;\r\n        }\r\n    \r\n        public static void increasePrice(int totalPrice) {\r\n            Basket.allprice = Basket.allprice + totalPrice;\r\n        }\r\n    \r\n        public static void average() {\r\n            Basket.averagebasket = allprice / allcount;\r\n        }\r\n    \r\n        public void add(String name, int price, double weight) {\r\n            add(name, price, 1, weight);\r\n        }\r\n    \r\n        public void add(String name, int price, int count, double weight) {\r\n            boolean error = false;\r\n            if (contains(name)) {\r\n                error = true;\r\n            }\r\n    \r\n            if (totalPrice + count * price &gt;= limit) {\r\n                error = true;\r\n            }\r\n    \r\n            if (error) {\r\n                System.out.println(&quot;Error occured :(&quot;);\r\n                return;\r\n            }\r\n            increaseTovar(1);\r\n            items = items + &quot;\\n&quot; + name + &quot; - &quot; +\r\n                    count + &quot; ÑÑ. - &quot; + price + &quot; ÐÐµÑ - &quot; + totalWeight;\r\n            totalPrice = totalPrice + count * price;\r\n            totalWeight = totalWeight +  weight;\r\n            Basket.allprice += price * count;\r\n        }\r\n    \r\n        public void clear() {\r\n            items = &quot;&quot;;\r\n            totalPrice = 0;\r\n        }\r\n    \r\n        public int getTotalPrice() {\r\n            return totalPrice;\r\n        }\r\n    \r\n        public boolean contains(String name) {\r\n            return items.contains(name);\r\n        }\r\n    \r\n        public void print(String title) {\r\n            System.out.println(title);\r\n            if (items.isEmpty()) {\r\n                System.out.println(&quot;ÐÐ¾ÑÐ·Ð¸Ð½Ð° Ð¿ÑÑÑÐ°&quot;);\r\n            } else {\r\n                System.out.println(items);\r\n            }\r\n        }\r\n    }\r\n    `\r\n    \r\n    `public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Basket basket = new Basket();\r\n            basket.add(&quot;Milk&quot;, 40, 305.4);\r\n            basket.print(&quot;Milk&quot;);\r\n            //System.out.println(Basket.getCount());\r\n            Basket vasya = new Basket();\r\n            basket.add(&quot;bread&quot;, 60, 555);\r\n            System.out.println(Basket.getAllTovar());\r\n            System.out.println((Basket.getAllPrice()));\r\n            System.out.println(Basket.getAverageBasket());\r\n        }\r\n    }","title":"Creating a static average price method","body":"<p>Good afternoon, I can't write a static method to calculate the average price</p>\n<p>Implement a static method to calculate the average price of goods in all baskets. It should calculate and return the ratio of the total cost of all baskets to the total number of all items.\nImplement the static method for calculating the average cost of a basket (the ratio of the total cost of all baskets to the number of baskets).</p>\n<p>I still have not been able to create static method data</p>\n<pre><code>public class Basket {\n\n    private static int count = 0;\n    private String items = &quot;&quot;;\n    private int totalPrice = 0;\n    private double totalWeight = 0;\n    private int limit;\n\n    public static int allprice = 0;\n    public static int allcount = 0;\n    public static int averagebasket = 0;\n\n    public Basket() {\n        increaseCount(1);\n        items = &quot;Ð¡Ð¿Ð¸ÑÐ¾Ðº ÑÐ¾Ð²Ð°ÑÐ¾Ð²:&quot;;\n        this.limit = 1000000;\n    }\n\n    public Basket(int limit) {\n        this();\n        this.limit = limit;\n    }\n\n    public Basket(String items, int totalPrice) {\n        this();\n        this.items = this.items + items;\n        this.totalPrice = totalPrice;\n    }\n\n    public static int getCount() {\n        return count;\n    }\n\n    public static int getAllTovar() {\n        return allcount;\n    }\n\n    public static int getAllPrice() {\n        return allprice;\n    }\n    public static int getAverageBasket() {\n        return averagebasket;\n    }\n\n    public double getTotalWeight(){\n        return totalWeight;\n    }\n\n    public static void increaseCount(int count) {\n        Basket.count = Basket.count + count;\n    }\n\n    public static void increaseTovar(int count) {\n        Basket.allcount = Basket.allcount + count;\n    }\n\n    public static void increasePrice(int totalPrice) {\n        Basket.allprice = Basket.allprice + totalPrice;\n    }\n\n    public static void average() {\n        Basket.averagebasket = allprice / allcount;\n    }\n\n    public void add(String name, int price, double weight) {\n        add(name, price, 1, weight);\n    }\n\n    public void add(String name, int price, int count, double weight) {\n        boolean error = false;\n        if (contains(name)) {\n            error = true;\n        }\n\n        if (totalPrice + count * price &gt;= limit) {\n            error = true;\n        }\n\n        if (error) {\n            System.out.println(&quot;Error occured :(&quot;);\n            return;\n        }\n        increaseTovar(1);\n        items = items + &quot;\\n&quot; + name + &quot; - &quot; +\n                count + &quot; ÑÑ. - &quot; + price + &quot; ÐÐµÑ - &quot; + totalWeight;\n        totalPrice = totalPrice + count * price;\n        totalWeight = totalWeight +  weight;\n        Basket.allprice += price * count;\n    }\n\n    public void clear() {\n        items = &quot;&quot;;\n        totalPrice = 0;\n    }\n\n    public int getTotalPrice() {\n        return totalPrice;\n    }\n\n    public boolean contains(String name) {\n        return items.contains(name);\n    }\n\n    public void print(String title) {\n        System.out.println(title);\n        if (items.isEmpty()) {\n            System.out.println(&quot;ÐÐ¾ÑÐ·Ð¸Ð½Ð° Ð¿ÑÑÑÐ°&quot;);\n        } else {\n            System.out.println(items);\n        }\n    }\n}\n`\n\n`public class Main {\n\n    public static void main(String[] args) {\n        Basket basket = new Basket();\n        basket.add(&quot;Milk&quot;, 40, 305.4);\n        basket.print(&quot;Milk&quot;);\n        //System.out.println(Basket.getCount());\n        Basket vasya = new Basket();\n        basket.add(&quot;bread&quot;, 60, 555);\n        System.out.println(Basket.getAllTovar());\n        System.out.println((Basket.getAllPrice()));\n        System.out.println(Basket.getAverageBasket());\n    }\n}\n</code></pre>\n"},{"tags":["java","android","react-native","numbers"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674298998,"post_id":75189113,"comment_id":132687725,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":16395324,"reputation":188,"user_id":11843054,"display_name":"Thibault Capelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674259253,"creation_date":1674259253,"answer_id":75190353,"question_id":75189113,"body_markdown":"I don&#39;t know how you missed that but react-native-camera is deprecated since a long time for react-native-vision-camera which is really powerful. You can see in the doc that you can add frame processors to it.\r\n\r\n&quot;I didn&#39;t even find a library that does that&quot; =&gt; It would not be really a surprise to not find an open source library which combine a camera with image recognition for you.\r\n\r\nBut cause it is your lucky day someone developed the frame processors you searched for:\r\n https://github.com/aarongrider/vision-camera-ocr\r\n\r\nHave fun with it!","title":"ow can I assemble a camera that reads a sequence of numbers? with react-native","body":"<p>I don't know how you missed that but react-native-camera is deprecated since a long time for react-native-vision-camera which is really powerful. You can see in the doc that you can add frame processors to it.</p>\n<p>&quot;I didn't even find a library that does that&quot; =&gt; It would not be really a surprise to not find an open source library which combine a camera with image recognition for you.</p>\n<p>But cause it is your lucky day someone developed the frame processors you searched for:\n<a href=\"https://github.com/aarongrider/vision-camera-ocr\" rel=\"nofollow noreferrer\">https://github.com/aarongrider/vision-camera-ocr</a></p>\n<p>Have fun with it!</p>\n"}],"owner":{"account_id":27583730,"reputation":1,"user_id":21052379,"display_name":"Eduardo Avila"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674259253,"creation_date":1674247098,"question_id":75189113,"body_markdown":"Is there any library that reads sequence of numbers for example on a paper has 123456789\r\n\r\nI want to get only the first 3 digits with the camera, I didn&#39;t even find a library that does that\r\n\r\nI tried to use react-native-camera with frame but I was not successful, I also tried to find java codes to put directly in react-native and call the function\r\n\r\nIf anyone knows where I can start, thanks.","title":"ow can I assemble a camera that reads a sequence of numbers? with react-native","body":"<p>Is there any library that reads sequence of numbers for example on a paper has 123456789</p>\n<p>I want to get only the first 3 digits with the camera, I didn't even find a library that does that</p>\n<p>I tried to use react-native-camera with frame but I was not successful, I also tried to find java codes to put directly in react-native and call the function</p>\n<p>If anyone knows where I can start, thanks.</p>\n"},{"tags":["java","jakarta-mail","bouncycastle","private-key","smime"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674259225,"creation_date":1674259225,"answer_id":75190350,"question_id":75186458,"body_markdown":"S/MIME messages are usually encrypted using publickey from a _certificate_ specifically an X.509 or PKIX certificate (PKIX is the Internet &#39;version&#39; or technically profile of X.509) and KeyTransRI -- if that is indeed what you have, your code doesn&#39;t check -- or KeyAgreeRI contains a &#39;recipient id&#39; which actually identifies the certificate; you are expected to map that certificate to the corresponding privatekey, which is how Java crypto normally works (the `KeyStore` API stores a privatekey with its corresponding certificate or chain). \r\n\r\n`RecipientInformation.getRID()` returns a `RecipientId`, normally `KeyTransRecipientId` or `KeyAgreeRecipientId` corresponding to the `RecipientInfo`, either of which allows you to get the issuer and serial of the cert, or the &#39;subject key identifier&#39; an extension in most certs that normally [contains a hash of its subject key bit-string value](https://www.rfc-editor.org/rfc/rfc5280.html#section-4.2.1.2). \r\n\r\nSimilarly signing is done with the privatekey, and `SignerInfo` includes the id of the corresponding certificate, which is distributed to and used by reliers to verify the signature.\r\n","title":"How to find the PrivateKey for decrypt smime.p7m message with RecipientInformation?","body":"<p>S/MIME messages are usually encrypted using publickey from a <em>certificate</em> specifically an X.509 or PKIX certificate (PKIX is the Internet 'version' or technically profile of X.509) and KeyTransRI -- if that is indeed what you have, your code doesn't check -- or KeyAgreeRI contains a 'recipient id' which actually identifies the certificate; you are expected to map that certificate to the corresponding privatekey, which is how Java crypto normally works (the <code>KeyStore</code> API stores a privatekey with its corresponding certificate or chain).</p>\n<p><code>RecipientInformation.getRID()</code> returns a <code>RecipientId</code>, normally <code>KeyTransRecipientId</code> or <code>KeyAgreeRecipientId</code> corresponding to the <code>RecipientInfo</code>, either of which allows you to get the issuer and serial of the cert, or the 'subject key identifier' an extension in most certs that normally <a href=\"https://www.rfc-editor.org/rfc/rfc5280.html#section-4.2.1.2\" rel=\"nofollow noreferrer\">contains a hash of its subject key bit-string value</a>.</p>\n<p>Similarly signing is done with the privatekey, and <code>SignerInfo</code> includes the id of the corresponding certificate, which is distributed to and used by reliers to verify the signature.</p>\n"}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75190350,"answer_count":1,"score":0,"last_activity_date":1674259225,"creation_date":1674230424,"question_id":75186458,"body_markdown":"I try to use the follow Java code to decrypt a S/MIME message from the JavaMail API:\r\n\r\n            String mimeType = mail.getContentType();\r\n            if( mimeType == null ) {\r\n                return mail;\r\n            }\r\n            ContentType contentType = new ContentType( mimeType );\r\n            if( &quot;application/pkcs7-mime&quot;.equals( contentType.getBaseType() ) //\r\n                &amp;&amp; &quot;smime.p7m&quot;.equals( contentType.getParameter( &quot;name&quot; ) ) ) {\r\n                Object content = mail.getContent();\r\n                if( content instanceof InputStream ) {\r\n                    CMSEnvelopedDataParser ep = new CMSEnvelopedDataParser( (InputStream)content );\r\n                    RecipientInformationStore recipients = ep.getRecipientInfos();\r\n                    Iterator&lt;RecipientInformation&gt; it = recipients.getRecipients().iterator();\r\n                    RecipientInformation recipient = (RecipientInformation) it.next();\r\n                    recipient.getContent(new JceKeyTransEnvelopedRecipient(privateKey).setProvider( provider) );\r\n                }\r\n            }\r\n\r\nI have a list of PrivateKeys. How can I find the right PrivateKey to pass in the JceKeyTransEnvelopedRecipient constructor? I think that this should be possible with the RecipientInformation object.","title":"How to find the PrivateKey for decrypt smime.p7m message with RecipientInformation?","body":"<p>I try to use the follow Java code to decrypt a S/MIME message from the JavaMail API:</p>\n<pre><code>        String mimeType = mail.getContentType();\n        if( mimeType == null ) {\n            return mail;\n        }\n        ContentType contentType = new ContentType( mimeType );\n        if( &quot;application/pkcs7-mime&quot;.equals( contentType.getBaseType() ) //\n            &amp;&amp; &quot;smime.p7m&quot;.equals( contentType.getParameter( &quot;name&quot; ) ) ) {\n            Object content = mail.getContent();\n            if( content instanceof InputStream ) {\n                CMSEnvelopedDataParser ep = new CMSEnvelopedDataParser( (InputStream)content );\n                RecipientInformationStore recipients = ep.getRecipientInfos();\n                Iterator&lt;RecipientInformation&gt; it = recipients.getRecipients().iterator();\n                RecipientInformation recipient = (RecipientInformation) it.next();\n                recipient.getContent(new JceKeyTransEnvelopedRecipient(privateKey).setProvider( provider) );\n            }\n        }\n</code></pre>\n<p>I have a list of PrivateKeys. How can I find the right PrivateKey to pass in the JceKeyTransEnvelopedRecipient constructor? I think that this should be possible with the RecipientInformation object.</p>\n"},{"tags":["java","generics","overloading"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1674549979,"post_id":75187290,"comment_id":132732188,"body_markdown":"You can add a parameter `Consumer&lt;T&gt;` and replace `func(a);` with `consumer.accept(a);`, then, the caller must provide a reference to the appropriate `func` method, `baz(42, this::func);` will use `func(Integer)`, `baz(&quot;test&quot;, this::func);` will use `func(String)`, etc.","body":"You can add a parameter <code>Consumer&lt;T&gt;</code> and replace <code>func(a);</code> with <code>consumer.accept(a);</code>, then, the caller must provide a reference to the appropriate <code>func</code> method, <code>baz(42, this::func);</code> will use <code>func(Integer)</code>, <code>baz(&quot;test&quot;, this::func);</code> will use <code>func(String)</code>, etc."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674235433,"creation_date":1674235433,"answer_id":75187392,"question_id":75187290,"body_markdown":"No, you can&#39;t do this as you&#39;ve written it.\r\n\r\nThe biggest blocker (as I see it) is that add(String,String) returns an object, but add(int,int) returns a primative(int), so there&#39;s a problem with return type.\r\n\r\nBut I think you are over complicating things here. Why can&#39;t the two add functions could stand on their own? Do you really need a generic `baz` function?","title":"Call different methods by type in Java","body":"<p>No, you can't do this as you've written it.</p>\n<p>The biggest blocker (as I see it) is that add(String,String) returns an object, but add(int,int) returns a primative(int), so there's a problem with return type.</p>\n<p>But I think you are over complicating things here. Why can't the two add functions could stand on their own? Do you really need a generic <code>baz</code> function?</p>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674235827,"creation_date":1674235827,"answer_id":75187460,"question_id":75187290,"body_markdown":"Your `baz` code is valid, but won&#39;t work for your case because generic parameters get reduced to `Object` at runtime, so it needs to be resolved at compile time. To be able to do that, you&#39;d need a common interface like `Addable`, then you could declare it\r\n\r\n```\r\nprivate &lt;T extends Addable&gt; void baz(T a, T b) {\r\n  // do something\r\n  System.out.println(add(a, b));\r\n  // do something else\r\n}\r\n```\r\n\r\nbut you wouldn&#39;t be able to call it with `int` or `String` because those don&#39;t implement `Addable`; you could wrap them, but not much gained in what you&#39;re trying to do.\r\n\r\nSo in short: no, not possible; you need to design around this.\r\n\r\n```\r\ninterface Addable&lt;T extends Addable&lt;T&gt;&gt; { T add(T to Add); }\r\n\r\nclass IntAddable implements Addable&lt;IntAddable&gt; {\r\n  Integer value;\r\n  Integer add(IntAddable toAdd { \r\n    return new IntAddable(value + to Add.value);\r\n }\r\n}\r\nIntAddable a = new IntAddable(1);\r\nIntAddable b = new IntAddable(2);\r\nIntAddable sum = baz(a, b);\r\n// assuming an analogue class for String\r\nStringAddable concatted = baz(s1, s2);\r\n```","title":"Call different methods by type in Java","body":"<p>Your <code>baz</code> code is valid, but won't work for your case because generic parameters get reduced to <code>Object</code> at runtime, so it needs to be resolved at compile time. To be able to do that, you'd need a common interface like <code>Addable</code>, then you could declare it</p>\n<pre><code>private &lt;T extends Addable&gt; void baz(T a, T b) {\n  // do something\n  System.out.println(add(a, b));\n  // do something else\n}\n</code></pre>\n<p>but you wouldn't be able to call it with <code>int</code> or <code>String</code> because those don't implement <code>Addable</code>; you could wrap them, but not much gained in what you're trying to do.</p>\n<p>So in short: no, not possible; you need to design around this.</p>\n<pre><code>interface Addable&lt;T extends Addable&lt;T&gt;&gt; { T add(T to Add); }\n\nclass IntAddable implements Addable&lt;IntAddable&gt; {\n  Integer value;\n  Integer add(IntAddable toAdd { \n    return new IntAddable(value + to Add.value);\n }\n}\nIntAddable a = new IntAddable(1);\nIntAddable b = new IntAddable(2);\nIntAddable sum = baz(a, b);\n// assuming an analogue class for String\nStringAddable concatted = baz(s1, s2);\n</code></pre>\n"}],"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674258612,"creation_date":1674234836,"question_id":75187290,"body_markdown":"    private void foo(int a, int b) {\r\n      // do something\r\n      System.out.println(add(a, b));\r\n      // do something else\r\n    }\r\n  \r\n    private void bar(String a, String b) {\r\n      // do something\r\n      System.out.println(add(a, b));\r\n      // do something else\r\n    }\r\n  \r\n    private int add(int a, int b) {\r\n      return a + b;\r\n    }\r\n  \r\n    private String add(String a, String b) {\r\n      return a.concat(b);\r\n    }\r\n\r\nIs it possible to merge duplicated logic in foo and bar into one function?\r\n\r\ne.g.\r\n\r\n    private &lt;T&gt; void baz(T a, T b) {\r\n      // do something\r\n      System.out.println(add(a, b));\r\n      // do something else\r\n    }\r\n\r\n\r\n-- EDIT --\r\n\r\nJust tried to put a simple example to describe my question.\r\n\r\nActually in my real code I don&#39;t need the return type, the functions are like following:\r\n\r\n    void func(Integer a);\r\n    void func(String a);\r\n    void func(MyEnum a);\r\n    void func(MyClass a);\r\n    void func(List&lt;MyClass&gt; a);\r\n\r\nAnd I&#39;d like to have a function like:\r\n\r\n    private &lt;T&gt; void baz(T a) {\r\n      // do something\r\n      func(a);\r\n      // do something else\r\n    }\r\n\r\nSo I don&#39;t have to write the same logic multiple times.","title":"Call different methods by type in Java","body":"<pre><code>private void foo(int a, int b) {\n  // do something\n  System.out.println(add(a, b));\n  // do something else\n}\n\nprivate void bar(String a, String b) {\n  // do something\n  System.out.println(add(a, b));\n  // do something else\n}\n\nprivate int add(int a, int b) {\n  return a + b;\n}\n\nprivate String add(String a, String b) {\n  return a.concat(b);\n}\n</code></pre>\n<p>Is it possible to merge duplicated logic in foo and bar into one function?</p>\n<p>e.g.</p>\n<pre><code>private &lt;T&gt; void baz(T a, T b) {\n  // do something\n  System.out.println(add(a, b));\n  // do something else\n}\n</code></pre>\n<p>-- EDIT --</p>\n<p>Just tried to put a simple example to describe my question.</p>\n<p>Actually in my real code I don't need the return type, the functions are like following:</p>\n<pre><code>void func(Integer a);\nvoid func(String a);\nvoid func(MyEnum a);\nvoid func(MyClass a);\nvoid func(List&lt;MyClass&gt; a);\n</code></pre>\n<p>And I'd like to have a function like:</p>\n<pre><code>private &lt;T&gt; void baz(T a) {\n  // do something\n  func(a);\n  // do something else\n}\n</code></pre>\n<p>So I don't have to write the same logic multiple times.</p>\n"},{"tags":["java","class","object","oop","instantiation"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1674256068,"post_id":75189964,"comment_id":132683504,"body_markdown":"Yes, the two approaches are different. Though the way you specifically describe the hypothetical in your question means ultimately the two approaches are _effectively_ equivalent with respect to the end state of the object. But the constructor approach means the state is set during instantiation. This has the benefit of allowing for immutability (i.e., `final` fields, which can only be set during instantiation). The setter method can only be called after the object is instantiated/fully initialized (ignoring calling the method _from_ the constructor). It also requires mutability.","body":"Yes, the two approaches are different. Though the way you specifically describe the hypothetical in your question means ultimately the two approaches are <i>effectively</i> equivalent with respect to the end state of the object. But the constructor approach means the state is set during instantiation. This has the benefit of allowing for immutability (i.e., <code>final</code> fields, which can only be set during instantiation). The setter method can only be called after the object is instantiated/fully initialized (ignoring calling the method <i>from</i> the constructor). It also requires mutability."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1674256213,"post_id":75189964,"comment_id":132683529,"body_markdown":"Possibly a duplicate of [Setter methods or constructors](https://stackoverflow.com/questions/19359548/setter-methods-or-constructors).","body":"Possibly a duplicate of <a href=\"https://stackoverflow.com/questions/19359548/setter-methods-or-constructors\">Setter methods or constructors</a>."}],"answers":[{"tags":[],"owner":{"account_id":17613416,"reputation":281,"user_id":12780992,"display_name":"loic .B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674257416,"creation_date":1674257416,"answer_id":75190232,"question_id":75189964,"body_markdown":"Yes these are two differents things.\r\nYou have to think about what exactly is your object and how he relates to his properties. \r\n\r\nConstructor let you initialize the class variables dynamically at the time of instantiating the class so you should put the parameters without which the object would not be what it is (In the context of your code)\r\n\r\nThe setters methods are a totally different thing, it let you access variable to modify it.\r\nYou should have setters when ,in your code, it make sense to modify a private variable.\r\n\r\nIf having a `Dog` without a name does not make sense in your code then add it as parameter in constructor.\r\nCan a `Dog` be renamed ? if yes, then add a `setName` method.\r\nDoes your `Dog` have a default run speed that you can modify ? Then add a default `speed` variable in the class and `setSpeed` method.\r\n\r\nConstructor are for parameters that make an object what it is and parameters that you always want to define **when instanciating** the object.\r\n\r\nSetters are for modifying parameters **after** object was created.\r\n\r\n\r\n","title":"Query about setname() method in Java","body":"<p>Yes these are two differents things.\nYou have to think about what exactly is your object and how he relates to his properties.</p>\n<p>Constructor let you initialize the class variables dynamically at the time of instantiating the class so you should put the parameters without which the object would not be what it is (In the context of your code)</p>\n<p>The setters methods are a totally different thing, it let you access variable to modify it.\nYou should have setters when ,in your code, it make sense to modify a private variable.</p>\n<p>If having a <code>Dog</code> without a name does not make sense in your code then add it as parameter in constructor.\nCan a <code>Dog</code> be renamed ? if yes, then add a <code>setName</code> method.\nDoes your <code>Dog</code> have a default run speed that you can modify ? Then add a default <code>speed</code> variable in the class and <code>setSpeed</code> method.</p>\n<p>Constructor are for parameters that make an object what it is and parameters that you always want to define <strong>when instanciating</strong> the object.</p>\n<p>Setters are for modifying parameters <strong>after</strong> object was created.</p>\n"}],"owner":{"account_id":27584277,"reputation":1,"user_id":21052823,"display_name":"szulkifl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674257416,"creation_date":1674254592,"question_id":75189964,"body_markdown":"I am very new to java and I was just trying to get acclimatised to the syntax and there is one thing that I have been confused about. What is the difference between instantiating a new object in java then using the setname method to name it, and using a string parameter to assign a name in the constructor.\r\n\r\nSo if I have a class called Dog, what is the difference between,\r\nnaming the dog by passing a name parameter onto its constructor and using setname under it. Are these processes different.","title":"Query about setname() method in Java","body":"<p>I am very new to java and I was just trying to get acclimatised to the syntax and there is one thing that I have been confused about. What is the difference between instantiating a new object in java then using the setname method to name it, and using a string parameter to assign a name in the constructor.</p>\n<p>So if I have a class called Dog, what is the difference between,\nnaming the dog by passing a name parameter onto its constructor and using setname under it. Are these processes different.</p>\n"},{"tags":["java","smartgwt","isomorphic-javascript","smartgwt-pro","gwt-2.8"],"owner":{"account_id":23528839,"reputation":109,"user_id":17630064,"display_name":"Norida Olivera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674257350,"creation_date":1674257350,"question_id":75190224,"body_markdown":"I have a test environment with the BuiltInDs project that uses the following components:\r\nJDK 1.8\r\nSmartGWT Eval v13.0-p20221103\r\nGWT 2.8.2\r\nMaven 3.8.6\r\n\r\nAnd to run it I use the following targets:\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n[![enter image description here][5]][5]\r\n[![enter image description here][6]][6]\r\n\r\nWith this configuration, I can access Developer Mode for debugging the code and it works correctly.\r\n\r\nOn the other hand, I have an environment with a real project that uses the following components:\r\nJDK 1.8\r\nSmartGWT Pro v4.0\r\nGWT 2.8.0\r\nMaven 2.0\r\n\r\nAnd I run it using the following goals:\r\n[![enter image description here][7]\r\n[![enter image description here][8]][8]\r\n\r\nWith those goals I can access the Developer Mode for debugging the code and it works correctly.\r\n\r\nNow, when I migrate the productive project to the SmartGWT v13.0-p20221103 version with GWT 2.8.2, the same Maven 2.0 and JDK 1.8, with the same goals that worked in the project without migration, the goals are executed correctly and I can activate the Developer Mode, but the debugging has no effect; moreover, in the console, only a trace similar to this one appears:\r\n[![enter image description here][9]][9]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8g3eY.png\r\n  [2]: https://i.stack.imgur.com/tPNx0.png\r\n  [3]: https://i.stack.imgur.com/JnnVG.png\r\n  [4]: https://i.stack.imgur.com/7z5Il.png\r\n  [5]: https://i.stack.imgur.com/TKxzd.png\r\n  [6]: https://i.stack.imgur.com/zD7Qb.png\r\n  [7]: https://i.stack.imgur.com/AzhfE.png\r\n  [8]: https://i.stack.imgur.com/HRSO0.png\r\n  [9]: https://i.stack.imgur.com/stmZb.png","title":"Debug Doesnât Work After Migrating SmartGWT from v4.0 to v13.0","body":"<p>I have a test environment with the BuiltInDs project that uses the following components:\nJDK 1.8\nSmartGWT Eval v13.0-p20221103\nGWT 2.8.2\nMaven 3.8.6</p>\n<p>And to run it I use the following targets:\n<a href=\"https://i.stack.imgur.com/8g3eY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8g3eY.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/tPNx0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tPNx0.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/JnnVG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JnnVG.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/7z5Il.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7z5Il.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/TKxzd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TKxzd.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/zD7Qb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zD7Qb.png\" alt=\"enter image description here\" /></a></p>\n<p>With this configuration, I can access Developer Mode for debugging the code and it works correctly.</p>\n<p>On the other hand, I have an environment with a real project that uses the following components:\nJDK 1.8\nSmartGWT Pro v4.0\nGWT 2.8.0\nMaven 2.0</p>\n<p>And I run it using the following goals:\n[<img src=\"https://i.stack.imgur.com/AzhfE.png\" alt=\"enter image description here\" />\n<a href=\"https://i.stack.imgur.com/HRSO0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HRSO0.png\" alt=\"enter image description here\" /></a></p>\n<p>With those goals I can access the Developer Mode for debugging the code and it works correctly.</p>\n<p>Now, when I migrate the productive project to the SmartGWT v13.0-p20221103 version with GWT 2.8.2, the same Maven 2.0 and JDK 1.8, with the same goals that worked in the project without migration, the goals are executed correctly and I can activate the Developer Mode, but the debugging has no effect; moreover, in the console, only a trace similar to this one appears:\n<a href=\"https://i.stack.imgur.com/stmZb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/stmZb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-session"],"owner":{"account_id":25623995,"reputation":21,"user_id":19395388,"display_name":"Andrew_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674256928,"creation_date":1674256928,"question_id":75190186,"body_markdown":"I have enabled EnableJdbcHttpSession on my spring app and it works fine except that I am getting different sessionIds depending on context. A call like this:\r\n\r\n```\r\n((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getSession(false)\r\n```\r\nreturns a StandardSession on a Filter or ApplicationListener with one sessionId and at Controller level it returns a JdbcIndexedSessionRepository with a completely different sessionId.\r\n\r\nDo I need any code on configuration to have the same sessionId at all levels ?\r\n\r\n\r\nFilter or ApplicationListener return a StandardSession\r\nController returns a JdbcIndexedSessionRepository ","title":"JDBC spring session not visible on Filters and Listeners","body":"<p>I have enabled EnableJdbcHttpSession on my spring app and it works fine except that I am getting different sessionIds depending on context. A call like this:</p>\n<pre><code>((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getSession(false)\n</code></pre>\n<p>returns a StandardSession on a Filter or ApplicationListener with one sessionId and at Controller level it returns a JdbcIndexedSessionRepository with a completely different sessionId.</p>\n<p>Do I need any code on configuration to have the same sessionId at all levels ?</p>\n<p>Filter or ApplicationListener return a StandardSession\nController returns a JdbcIndexedSessionRepository</p>\n"},{"tags":["java","spring","orm","ibatis"],"answers":[{"tags":[],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1653522537,"creation_date":1503372602,"answer_id":45808465,"question_id":45807888,"body_markdown":"Intellij gives a such warning when compiled code doesn&#39;t match the source code, i.e. you try to debug the code but it has changed and not rebuilt.\r\n\r\nMake sure after you imported your code you didn&#39;t modify it. If you modify then first build/compile it before starting the debugger.\r\n\r\nFor example below code will cause this warning :-\r\n\r\n        public class HelloSO {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;First time source code&quot;);\r\n    \t}\r\n      }\r\n\r\nNow you compiled above class and start debugging it, everything works fine. \r\n\r\nBut after that you add one more print statement and try to put the debug point on that line without re-compile it, then in this case as byte code for new line is not generated, hence you will get same warning from IntelliJ.\r\n\r\n\r\n","title":"&#39;Source code does not match the bytecode&#39; use IDEA debug JdbcTemplate","body":"<p>Intellij gives a such warning when compiled code doesn't match the source code, i.e. you try to debug the code but it has changed and not rebuilt.</p>\n<p>Make sure after you imported your code you didn't modify it. If you modify then first build/compile it before starting the debugger.</p>\n<p>For example below code will cause this warning :-</p>\n<pre><code>    public class HelloSO {\n    public static void main(String[] args) {\n        System.out.println(&quot;First time source code&quot;);\n    }\n  }\n</code></pre>\n<p>Now you compiled above class and start debugging it, everything works fine.</p>\n<p>But after that you add one more print statement and try to put the debug point on that line without re-compile it, then in this case as byte code for new line is not generated, hence you will get same warning from IntelliJ.</p>\n"},{"tags":[],"owner":{"account_id":8642371,"reputation":330,"user_id":6470686,"accept_rate":75,"display_name":"Neil Ruggiero"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1546980121,"creation_date":1546980121,"answer_id":54099399,"question_id":45807888,"body_markdown":"For me this issue was arising because I&#39;d made changes to my source code but had not yet deployed them to the target device.  It still allowed me to set up the debugging which was confusing, but then gave me this error.\r\n\r\nTo fix:\r\n\r\n 1. Rebuild your project / module\r\n 2. Redeploy to your target device\r\n 3. Run the debugger\r\n\r\nAfter rebuilding / redeploying, your debug and deployed code will match up and you shouldn&#39;t get any more errors!  Just a matter of matching up the two binaries.","title":"&#39;Source code does not match the bytecode&#39; use IDEA debug JdbcTemplate","body":"<p>For me this issue was arising because I'd made changes to my source code but had not yet deployed them to the target device.  It still allowed me to set up the debugging which was confusing, but then gave me this error.</p>\n\n<p>To fix:</p>\n\n<ol>\n<li>Rebuild your project / module</li>\n<li>Redeploy to your target device</li>\n<li>Run the debugger</li>\n</ol>\n\n<p>After rebuilding / redeploying, your debug and deployed code will match up and you shouldn't get any more errors!  Just a matter of matching up the two binaries.</p>\n"},{"tags":[],"owner":{"display_name":"user3533413"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653522630,"creation_date":1561992192,"answer_id":56837710,"question_id":45807888,"body_markdown":"After viewing the other similar questions and answers on this problem, none of which helped me. What solved the problem was simply adding a dependency. In my case I ran into this issue when I was attempting to debug org.springframework.web.servlet.DispatcherServlet. I finally noticed that IntelliJ could not find javax.servlet in my imports. \r\n\r\nIn my Maven project, I added \r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;javax&lt;/groupId&gt;\r\n  &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n  &lt;version&gt;8.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nto my pom.xml which solved the problem.\r\n\r\nDouble check that all of your imports are being resolved.","title":"&#39;Source code does not match the bytecode&#39; use IDEA debug JdbcTemplate","body":"<p>After viewing the other similar questions and answers on this problem, none of which helped me. What solved the problem was simply adding a dependency. In my case I ran into this issue when I was attempting to debug org.springframework.web.servlet.DispatcherServlet. I finally noticed that IntelliJ could not find javax.servlet in my imports.</p>\n<p>In my Maven project, I added</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax&lt;/groupId&gt;\n  &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n  &lt;version&gt;8.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to my pom.xml which solved the problem.</p>\n<p>Double check that all of your imports are being resolved.</p>\n"},{"tags":[],"owner":{"account_id":946203,"reputation":514,"user_id":5499391,"display_name":"mouse_8b"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1572361739,"creation_date":1572361739,"answer_id":58610197,"question_id":45807888,"body_markdown":"This can also happen if you have multiple dependencies that themselves have different versions of the same dependency. This post on the JetBrains site shows how to enable the alternate source switcher in preferences.\r\n\r\n[https://intellij-support.jetbrains.com/hc/en-us/community/posts/206822215-what-does-Choose-Sources-do-and-how-can-I-undo-what-it-does-][1]\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/206822215-what-does-Choose-Sources-do-and-how-can-I-undo-what-it-does-","title":"&#39;Source code does not match the bytecode&#39; use IDEA debug JdbcTemplate","body":"<p>This can also happen if you have multiple dependencies that themselves have different versions of the same dependency. This post on the JetBrains site shows how to enable the alternate source switcher in preferences.</p>\n\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206822215-what-does-Choose-Sources-do-and-how-can-I-undo-what-it-does-\" rel=\"noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/206822215-what-does-Choose-Sources-do-and-how-can-I-undo-what-it-does-</a></p>\n"},{"tags":[],"owner":{"account_id":12191040,"reputation":196,"user_id":8898509,"display_name":"Rt.Tong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584091940,"creation_date":1584091940,"answer_id":60667955,"question_id":45807888,"body_markdown":"I had the same issue, too. The root reason is two different jar packages have some conflicts. So I solved it by removing one of the conflicting jar package.","title":"&#39;Source code does not match the bytecode&#39; use IDEA debug JdbcTemplate","body":"<p>I had the same issue, too. The root reason is two different jar packages have some conflicts. So I solved it by removing one of the conflicting jar package.</p>\n"},{"tags":[],"owner":{"account_id":20802335,"reputation":1,"user_id":15278069,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623521570,"creation_date":1623521243,"answer_id":67951668,"question_id":45807888,"body_markdown":"I had a problem like yours today. I found that my IntelliJ was set to work with Java version 16 and my project was built in Java version 11. \r\n\r\nTo fix it, I did this: clicked on File -&gt; Project Structure -&gt; Project Settings -&gt; Project, and changed &quot;Project SDK&quot; property to version 11.\r\n\r\nAfter clicking on OK button, I didn&#39;t get the message &quot;source code does not match bytecode&quot; anymore.","title":"&#39;Source code does not match the bytecode&#39; use IDEA debug JdbcTemplate","body":"<p>I had a problem like yours today. I found that my IntelliJ was set to work with Java version 16 and my project was built in Java version 11.</p>\n<p>To fix it, I did this: clicked on File -&gt; Project Structure -&gt; Project Settings -&gt; Project, and changed &quot;Project SDK&quot; property to version 11.</p>\n<p>After clicking on OK button, I didn't get the message &quot;source code does not match bytecode&quot; anymore.</p>\n"},{"tags":[],"owner":{"account_id":13802939,"reputation":21,"user_id":10039875,"display_name":"Camilo Fl&#243;rez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651621804,"creation_date":1645822416,"answer_id":71271624,"question_id":45807888,"body_markdown":"You can try this\r\n\r\n 1. Open or move to &#39;Project Panel&#39;\r\n[![enter image description here][1]][1]\r\n 2. Scroll down and find your library\r\n[![enter image description here][2]][2]\r\n 3. Left click on your library\r\n[![enter image description here][3]][3]\r\n 4. Inside the context menu, select &#39;Open Library Settings&#39;\r\n[![enter image description here][6]][6]\r\n 5. Once there, check that the binaries and sources are associated:\r\n[![enter image description here][5]][5]\r\n\r\n  [1]: https://i.stack.imgur.com/D8Jly.png\r\n  [2]: https://i.stack.imgur.com/XxKSt.png\r\n  [3]: https://i.stack.imgur.com/0PnKC.png\r\n  [5]: https://i.stack.imgur.com/7feZE.png\r\n  [6]: https://i.stack.imgur.com/hBzie.png","title":"&#39;Source code does not match the bytecode&#39; use IDEA debug JdbcTemplate","body":"<p>You can try this</p>\n<ol>\n<li>Open or move to 'Project Panel'\n<a href=\"https://i.stack.imgur.com/D8Jly.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D8Jly.png\" alt=\"enter image description here\" /></a></li>\n<li>Scroll down and find your library\n<a href=\"https://i.stack.imgur.com/XxKSt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XxKSt.png\" alt=\"enter image description here\" /></a></li>\n<li>Left click on your library\n<a href=\"https://i.stack.imgur.com/0PnKC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0PnKC.png\" alt=\"enter image description here\" /></a></li>\n<li>Inside the context menu, select 'Open Library Settings'\n<a href=\"https://i.stack.imgur.com/hBzie.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hBzie.png\" alt=\"enter image description here\" /></a></li>\n<li>Once there, check that the binaries and sources are associated:\n<a href=\"https://i.stack.imgur.com/7feZE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7feZE.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n"}],"owner":{"account_id":11275298,"reputation":369,"user_id":8269508,"display_name":"guruboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33023,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":7,"score":14,"last_activity_date":1674256920,"creation_date":1503367677,"question_id":45807888,"body_markdown":"When I debug the JdbcTemplate sourcecode use IDEAï¼the IDE tips meï¼&#39;Source code does not match the bytecode&#39;\r\n\r\nScreenshot:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eKONU.png\r\n\r\n\r\n\r\nand i use mvn to manage my projectï¼my maven pom config is:\r\n\r\n \r\n\r\n    &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;org.springframework.orm&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.5.RELEASE&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n\r\n","title":"&#39;Source code does not match the bytecode&#39; use IDEA debug JdbcTemplate","body":"<p>When I debug the JdbcTemplate sourcecode use IDEAï¼the IDE tips meï¼'Source code does not match the bytecode'</p>\n<p>Screenshot:</p>\n<p><img src=\"https://i.stack.imgur.com/eKONU.png\" alt=\"enter image description here\" /></p>\n<p>and i use mvn to manage my projectï¼my maven pom config is:</p>\n<pre><code>&lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;org.springframework.orm&lt;/artifactId&gt;\n                &lt;version&gt;3.0.5.RELEASE&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","format-specifiers"],"comments":[{"owner":{"account_id":4005423,"reputation":696,"user_id":3300189,"display_name":"TheSatinKnight"},"score":0,"creation_date":1661196639,"post_id":73432137,"comment_id":129710096,"body_markdown":"https://stackoverflow.com/questions/388461/how-can-i-pad-a-string-in-java","body":"<a href=\"https://stackoverflow.com/questions/388461/how-can-i-pad-a-string-in-java\" title=\"how can i pad a string in java\">stackoverflow.com/questions/388461/&hellip;</a>"},{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1661305383,"post_id":73432137,"comment_id":129738306,"body_markdown":"Does this answer your question? [Simple way to repeat a string](https://stackoverflow.com/questions/1235179/simple-way-to-repeat-a-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1235179/simple-way-to-repeat-a-string\">Simple way to repeat a string</a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1674256540,"creation_date":1661063747,"answer_id":73432183,"question_id":73432137,"body_markdown":"# `String#repeat`\r\n\r\nSimply append a string generated by [`String#repeat`][1] method, in Java 11+.\r\n\r\n    String result = &quot;=&quot;.repeat( 20 ) ;\r\n\r\n&gt;====================\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#repeat(int)","title":"How to print character repeatedly using specifier instead of loop in java?","body":"<h1><code>String#repeat</code></h1>\n<p>Simply append a string generated by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#repeat(int)\" rel=\"nofollow noreferrer\"><code>String#repeat</code></a> method, in Java 11+.</p>\n<pre><code>String result = &quot;=&quot;.repeat( 20 ) ;\n</code></pre>\n<blockquote>\n<p>====================</p>\n</blockquote>\n"}],"owner":{"account_id":24285530,"reputation":23,"user_id":18231358,"display_name":"Pranali Hemane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1661442805,"accepted_answer_id":73432183,"answer_count":1,"score":2,"last_activity_date":1674256540,"creation_date":1661063308,"question_id":73432137,"body_markdown":"I want to print a char &#39;=&#39; repeatedly where I give the no. of times the asterisk should be repeated.\r\n\r\nExample: count = 20 and I want to print ==================== using printf() and format specifiers.","title":"How to print character repeatedly using specifier instead of loop in java?","body":"<p>I want to print a char '=' repeatedly where I give the no. of times the asterisk should be repeated.</p>\n<p>Example: count = 20 and I want to print ==================== using printf() and format specifiers.</p>\n"},{"tags":["java","datetime","jodatime","java-time"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1674256401,"creation_date":1644459459,"answer_id":71059027,"question_id":71058986,"body_markdown":"# tl;dr\r\n\r\n    new DateTime( myInstant.toEpochMilli() )\r\n\r\n\r\n# *java.time* replaces *Joda-Time*\r\n\r\nDo you understand that *java.time* is the successor to *Joda-Time*? If you have *java.time* at your disposal, there should be no need to use *Joda-Time*. The same man, [Stephen Colebourne][1], led both projects, taking lessons learned from *Joda-Time* to design *java.time* in [JSR 310][2].\r\n\r\n# Convert by way of count of milliseconds\r\n\r\nBut to answer your Question directly: [Extract from the `Instant` object a count of milliseconds][3] since the first moment of 1970 in UTC. Use that count to [construct a `DateTime`][4] object. \r\n\r\nBeware of potential data loss. An `Instant` may contain microseconds or nanoseconds. These will be ignored, of course, when extracting milliseconds. \r\n\r\n    java.time.Instant myInstant = Instant.now() ; \r\n    long millis = myInstant.toEpochMilli() ;\r\n    org.joda.time.DateTime dt = new DateTime( millis ) ;\r\n\r\n\r\nIn *java.time*, an `Instant` is always in UTC. To match that on your `DateTime`, pass the [`UTC`][5] constant to [this other constructor][6].\r\n\r\n    DateTime dt = new DateTime( millis , DateTimeZone.UTC ) ;\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/38896/jodastephen\r\n  [2]: https://jcp.org/en/jsr/detail?id=310\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#ofEpochMilli(long)\r\n  [4]: https://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#DateTime-long-\r\n  [5]: https://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html#UTC\r\n  [6]: https://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#DateTime-long-org.joda.time.DateTimeZone-","title":"How to convert Instant to joda DateTime?","body":"<h1>tl;dr</h1>\n<pre><code>new DateTime( myInstant.toEpochMilli() )\n</code></pre>\n<h1><em>java.time</em> replaces <em>Joda-Time</em></h1>\n<p>Do you understand that <em>java.time</em> is the successor to <em>Joda-Time</em>? If you have <em>java.time</em> at your disposal, there should be no need to use <em>Joda-Time</em>. The same man, <a href=\"https://stackoverflow.com/users/38896/jodastephen\">Stephen Colebourne</a>, led both projects, taking lessons learned from <em>Joda-Time</em> to design <em>java.time</em> in <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<h1>Convert by way of count of milliseconds</h1>\n<p>But to answer your Question directly: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#ofEpochMilli(long)\" rel=\"nofollow noreferrer\">Extract from the <code>Instant</code> object a count of milliseconds</a> since the first moment of 1970 in UTC. Use that count to <a href=\"https://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#DateTime-long-\" rel=\"nofollow noreferrer\">construct a <code>DateTime</code></a> object.</p>\n<p>Beware of potential data loss. An <code>Instant</code> may contain microseconds or nanoseconds. These will be ignored, of course, when extracting milliseconds.</p>\n<pre><code>java.time.Instant myInstant = Instant.now() ; \nlong millis = myInstant.toEpochMilli() ;\norg.joda.time.DateTime dt = new DateTime( millis ) ;\n</code></pre>\n<p>In <em>java.time</em>, an <code>Instant</code> is always in UTC. To match that on your <code>DateTime</code>, pass the <a href=\"https://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html#UTC\" rel=\"nofollow noreferrer\"><code>UTC</code></a> constant to <a href=\"https://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#DateTime-long-org.joda.time.DateTimeZone-\" rel=\"nofollow noreferrer\">this other constructor</a>.</p>\n<pre><code>DateTime dt = new DateTime( millis , DateTimeZone.UTC ) ;\n</code></pre>\n"}],"owner":{"account_id":6125530,"reputation":2720,"user_id":4777670,"accept_rate":100,"display_name":"Saif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4191,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":71059027,"answer_count":1,"score":3,"last_activity_date":1674256401,"creation_date":1644459042,"question_id":71058986,"body_markdown":"How to convert Instant(java.time.Instant) to joda DateTime (org.joda.time.DateTime)? Or rather, what&#39;s the best way to do this?\r\n","title":"How to convert Instant to joda DateTime?","body":"<p>How to convert Instant(java.time.Instant) to joda DateTime (org.joda.time.DateTime)? Or rather, what's the best way to do this?</p>\n"},{"tags":["java","java-time","java.time.instant"],"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":8,"creation_date":1631740087,"post_id":69199722,"comment_id":122307126,"body_markdown":"Look at the JDK-8266847 to see if it answer your question: https://bugs-stage.openjdk.java.net/browse/JDK-8266847 ?","body":"Look at the JDK-8266847 to see if it answer your question: <a href=\"https://bugs-stage.openjdk.java.net/browse/JDK-8266847\" rel=\"nofollow noreferrer\">bugs-stage.openjdk.java.net/browse/JDK-8266847</a> ?"},{"owner":{"account_id":12167284,"reputation":91,"user_id":12724047,"display_name":"ÐÐ»ÐµÐ³ ÐÐµÐ»ÑÐ½Ð¸Ðº"},"score":0,"creation_date":1631742384,"post_id":69199722,"comment_id":122307687,"body_markdown":"But anyway to create an object with the type of InstantSource we use Clock factory methods explicitly or under the hood (Clock with UTC). So anyway we operate specific timezone. There is example in javadocs where InstantSource used as pluggable injected object. What can be injected in that case?","body":"But anyway to create an object with the type of InstantSource we use Clock factory methods explicitly or under the hood (Clock with UTC). So anyway we operate specific timezone. There is example in javadocs where InstantSource used as pluggable injected object. What can be injected in that case?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1632327287,"post_id":69199722,"comment_id":122464129,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1674256366,"creation_date":1633866273,"answer_id":69514853,"question_id":69199722,"body_markdown":"With thanks to NoDataFound for the link in the comment (link repeated at the bottom of this answer). The âbugâ report by [Stephen Colebourne][1] (original developer of java.time) says:\r\n\r\n&gt; ### Problem\r\n&gt; \r\n&gt; Since java.time was first added in Java 8, it has become apparent that\r\n&gt; there is a missing concept - a source of Instant independent of time\r\n&gt; zone. Put simply, if the only thing you want is an Instant, then Clock\r\n&gt; isn&#39;t the right API because it forces you to think about time zones.\r\n&gt; \r\n&gt; A good architectural design for time-based code would have a\r\n&gt; separation between the abstraction of the OS clock (dependency\r\n&gt; injected for unit testing), and the time zone linked to user\r\n&gt; localization. Passing these two things around separately is key. To\r\n&gt; achieve this as it stands, developers must either write their own\r\n&gt; TimeSource or InstantSource interface, or use Clock and &quot;hold their\r\n&gt; nose&quot; to ignore the time zone held within.\r\n&gt; \r\n&gt; A `Supplier&lt;Instant&gt;` obviously performs similar functionality, but it\r\n&gt; lacks discoverability and understandability. Plus, injecting\r\n&gt; generified interfaces tends to be painful.\r\n\r\nIn my words: The `Clock` class was introduced as a source of the current time. Conceptually a source of the current time should be independent of time zone. The `Clock` nevertheless has a time zone. Possibly for practical purposes so that you can draw all sorts of date-time objects from it: `LocalDate`, `ZonedDateTime`, `LocalTime`, etc.\r\n\r\nThe `InstantSource` interface asked about realizes the clock concept that I just described: a source of the current time that is independent of time zone. For when a clock with time zone is too heavyweight for your purpose.\r\n\r\nOne of the purposes of both `Clock` and `InstantSource` is testability: With those you can control which time is considered âthe current timeâ when your tests are run, which is often required when you want reproducible tests.\r\n\r\n&gt; â¦ if anyway all implementations of that interface are Clock\r\n&gt; implementations also?\r\n\r\nI havenât checked whether all `InstantSource` implementations shipped with Java 17 are `Clock` subclasses. Even if this is the case, (1) it is not the point, and (2) thereâs no one stopping you implementing an `InstantSource` that is not a `Clock`. Abstraction is a key concept in programming. If you want only `Instant`s, then you want to program against a simple interface that can give you only `Instant`s. `InstantSource` abstracts away the fact that the object you are using would also be able to play the r&#244;le of a `Clock` in some other context. The `InstantSource` interface is a school example of applying the well-respected Fa&#231;ade design pattern (link below). With Stephen Colebourneâs descriptive words from the bug system, the interface frees the programmer from âholding their noseâ while obtaining `Instant`s.\r\n\r\n## Links\r\n\r\n - [Add java.time.InstantSource](https://bugs-stage.openjdk.java.net/browse/JDK-8266847) in the OpenJDK Bug System.\r\n - [Facade pattern](https://en.wikipedia.org/wiki/Facade_pattern) on Wikipedia.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/38896/jodastephen","title":"What is the main purpose of the new interface java.time.InstantSource over existing abstract class Clock?","body":"<p>With thanks to NoDataFound for the link in the comment (link repeated at the bottom of this answer). The âbugâ report by <a href=\"https://stackoverflow.com/users/38896/jodastephen\">Stephen Colebourne</a> (original developer of java.time) says:</p>\n<blockquote>\n<h3>Problem</h3>\n<p>Since java.time was first added in Java 8, it has become apparent that\nthere is a missing concept - a source of Instant independent of time\nzone. Put simply, if the only thing you want is an Instant, then Clock\nisn't the right API because it forces you to think about time zones.</p>\n<p>A good architectural design for time-based code would have a\nseparation between the abstraction of the OS clock (dependency\ninjected for unit testing), and the time zone linked to user\nlocalization. Passing these two things around separately is key. To\nachieve this as it stands, developers must either write their own\nTimeSource or InstantSource interface, or use Clock and &quot;hold their\nnose&quot; to ignore the time zone held within.</p>\n<p>A <code>Supplier&lt;Instant&gt;</code> obviously performs similar functionality, but it\nlacks discoverability and understandability. Plus, injecting\ngenerified interfaces tends to be painful.</p>\n</blockquote>\n<p>In my words: The <code>Clock</code> class was introduced as a source of the current time. Conceptually a source of the current time should be independent of time zone. The <code>Clock</code> nevertheless has a time zone. Possibly for practical purposes so that you can draw all sorts of date-time objects from it: <code>LocalDate</code>, <code>ZonedDateTime</code>, <code>LocalTime</code>, etc.</p>\n<p>The <code>InstantSource</code> interface asked about realizes the clock concept that I just described: a source of the current time that is independent of time zone. For when a clock with time zone is too heavyweight for your purpose.</p>\n<p>One of the purposes of both <code>Clock</code> and <code>InstantSource</code> is testability: With those you can control which time is considered âthe current timeâ when your tests are run, which is often required when you want reproducible tests.</p>\n<blockquote>\n<p>â¦ if anyway all implementations of that interface are Clock\nimplementations also?</p>\n</blockquote>\n<p>I havenât checked whether all <code>InstantSource</code> implementations shipped with Java 17 are <code>Clock</code> subclasses. Even if this is the case, (1) it is not the point, and (2) thereâs no one stopping you implementing an <code>InstantSource</code> that is not a <code>Clock</code>. Abstraction is a key concept in programming. If you want only <code>Instant</code>s, then you want to program against a simple interface that can give you only <code>Instant</code>s. <code>InstantSource</code> abstracts away the fact that the object you are using would also be able to play the rÃ´le of a <code>Clock</code> in some other context. The <code>InstantSource</code> interface is a school example of applying the well-respected FaÃ§ade design pattern (link below). With Stephen Colebourneâs descriptive words from the bug system, the interface frees the programmer from âholding their noseâ while obtaining <code>Instant</code>s.</p>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://bugs-stage.openjdk.java.net/browse/JDK-8266847\" rel=\"nofollow noreferrer\">Add java.time.InstantSource</a> in the OpenJDK Bug System.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Facade_pattern\" rel=\"nofollow noreferrer\">Facade pattern</a> on Wikipedia.</li>\n</ul>\n"}],"owner":{"account_id":12167284,"reputation":91,"user_id":12724047,"display_name":"ÐÐ»ÐµÐ³ ÐÐµÐ»ÑÐ½Ð¸Ðº"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1013,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1674256366,"creation_date":1631739596,"question_id":69199722,"body_markdown":"A new interface `java.time.InstantSource` was added in Java 17. What is the use case of that additional abstraction if all implementations of that interface are `Clock` implementations too anyway?","title":"What is the main purpose of the new interface java.time.InstantSource over existing abstract class Clock?","body":"<p>A new interface <code>java.time.InstantSource</code> was added in Java 17. What is the use case of that additional abstraction if all implementations of that interface are <code>Clock</code> implementations too anyway?</p>\n"},{"tags":["java","clock"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1474349631,"post_id":39586311,"comment_id":66482269,"body_markdown":"http://stackoverflow.com/questions/33472569/any-new-method-to-get-current-time-with-accuracy-in-microseconds-in-java-now","body":"<a href=\"http://stackoverflow.com/questions/33472569/any-new-method-to-get-current-time-with-accuracy-in-microseconds-in-java-now\" title=\"any new method to get current time with accuracy in microseconds in java now\">stackoverflow.com/questions/33472569/&hellip;</a>"},{"owner":{"account_id":6993304,"reputation":6347,"user_id":5361741,"accept_rate":75,"display_name":"annedroiid"},"score":1,"creation_date":1474349891,"post_id":39586311,"comment_id":66482372,"body_markdown":"That post was originally from 2009 and the updated answer is the solution that I am having issues with. I am looking for something different.","body":"That post was originally from 2009 and the updated answer is the solution that I am having issues with. I am looking for something different."},{"owner":{"account_id":259073,"reputation":8102,"user_id":541688,"display_name":"Oleg Estekhin"},"score":0,"creation_date":1474350527,"post_id":39586311,"comment_id":66482616,"body_markdown":"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#now-- is the best available method for the most precise timestamps.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#now--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/Instant.html#now&zwnj;&#8203;--</a> is the best available method for the most precise timestamps."}],"answers":[{"tags":[],"owner":{"account_id":21459,"reputation":31234,"user_id":52162,"accept_rate":83,"display_name":"jensgram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474350728,"creation_date":1474350728,"answer_id":39586624,"question_id":39586311,"body_markdown":"While your computer is able to report something more precise (but probably not accurate, at least not in wall time) than milliseconds this does not change the fact the Java per default uses a [`Clock`](https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html) based off of `System.currentTimeMillis()`.\r\n\r\nYou must [provide a more precise `Clock`](https://stackoverflow.com/a/20689213/52162) to get values more precise than ms. That is, [until Java 9](https://stackoverflow.com/a/33478391/52162).","title":"Java 8 LocalDateTime.now() only giving precision of milliseconds","body":"<p>While your computer is able to report something more precise (but probably not accurate, at least not in wall time) than milliseconds this does not change the fact the Java per default uses a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>Clock</code></a> based off of <code>System.currentTimeMillis()</code>.</p>\n\n<p>You must <a href=\"https://stackoverflow.com/a/20689213/52162\">provide a more precise <code>Clock</code></a> to get values more precise than ms. That is, <a href=\"https://stackoverflow.com/a/33478391/52162\">until Java 9</a>.</p>\n"},{"tags":[],"owner":{"account_id":4951801,"reputation":10812,"user_id":3985482,"accept_rate":86,"display_name":"Gerald M&#252;cke"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1474350849,"creation_date":1474350849,"answer_id":39586646,"question_id":39586311,"body_markdown":"The `LocalDate.now()` relies on the `SystemClock::instant()` method, which uses `System.currentTimeMillis()`, so you won&#39;t get a more precise resolution with the default clock. \r\n\r\nHowever, you could implement your own high-precision `Clock` and use that in conjunction with LocalDate:\r\n\r\n    LocalDate hpDate = LocalDate.now(microsecondClock);\r\n\r\nFor high-precision you could use the `TickClock` with microsecond ticks:\r\n\r\n    Clock microsecondClock = Clock.tick(Clock.systemUTC(), Duration.ofNanos(1000));\r\n\r\nor subclass `Clock` and implement your own high precision clock, i.e. by using System.currentTimemillis() and System.nanoTime().","title":"Java 8 LocalDateTime.now() only giving precision of milliseconds","body":"<p>The <code>LocalDate.now()</code> relies on the <code>SystemClock::instant()</code> method, which uses <code>System.currentTimeMillis()</code>, so you won't get a more precise resolution with the default clock. </p>\n\n<p>However, you could implement your own high-precision <code>Clock</code> and use that in conjunction with LocalDate:</p>\n\n<pre><code>LocalDate hpDate = LocalDate.now(microsecondClock);\n</code></pre>\n\n<p>For high-precision you could use the <code>TickClock</code> with microsecond ticks:</p>\n\n<pre><code>Clock microsecondClock = Clock.tick(Clock.systemUTC(), Duration.ofNanos(1000));\n</code></pre>\n\n<p>or subclass <code>Clock</code> and implement your own high precision clock, i.e. by using System.currentTimemillis() and System.nanoTime().</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1674256177,"creation_date":1520639291,"answer_id":49203836,"question_id":39586311,"body_markdown":"# tl;dr\r\n\r\n&gt;Is it possible to get microseconds in Java 8? \r\n\r\nNo, not in Java 8. Use Java 9 or later.\r\n\r\n    Instant.now()  // Returns a value in microseconds in Java 9 and later, but is restricted to mere milliseconds in Java 8.\r\n\r\nThis refers to implementations of Java based on the [OpenJDK][1] open-source code. Others may vary. \r\n\r\n# Java 9 and later\r\n\r\nThe implementations of Java 9 based on OpenJDK have a [fresh implementation][2] of [`java.time.Clock`][3] capable of capturing the current moment in resolution finer than milliseconds (*three* digits of decimal fraction). \r\n\r\nThe actual resolution depends on the limits of your host computer hardware clock. On macOS Sierra with Oracle Java 9.0.4, I am getting current moment with microseconds (*six* digits of decimal fraction).\r\n\r\n    Instant.now().toString()\r\n\r\n&gt;2018-03-09T21:03:33.831515Z\r\n\r\n# Java 8\r\n\r\nThe java.time classes were new in Java 8. These classes are defined to carry nanoseconds (*nine* digits of decimal fraction). But capturing the current moment was limited to only [milliseconds][4] in Java 8, and enhanced in Java 9 to capture the current moment in finer [microseconds][5].\r\n\r\n&gt;2018-03-09T21:03:33.831Z\r\n\r\n\r\n# Other issues\r\n\r\n## `System.currentTimeMillis()`\r\n\r\n&gt;If I get System.currentTimeMillis() and System.nanoTime()\r\n\r\nNo need to use `System.currentTimeMillis()` ever again. Instead use `java.time.Instant` for a moment in UTC with a resolution as fine as nanoseconds. \r\n\r\nIf you really need a count of milliseconds from the epoch reference of 1970-01-01T00:00Z, ask the `Instant` object. Be aware of data loss, as you would be ignoring any microseconds or nanoseconds present in the `Instant`.\r\n\r\n    long millisSinceEpoch = instant.now().toEpochMilli() ;\r\n\r\n&gt;Is there a way that I can parse clock time from these values?\r\n\r\nYes, you can convert a count of milliseconds since epoch of 1970-01-01T00:00Z to a `Instant`. \r\n\r\n    Instant instant = Instant.ofEpochMilli( millisSinceEpoch ) ;\r\n\r\n## `System.nanoTime()`\r\n\r\nAs for `System.nanoTime()`, that is intended for tracking elapsed time, such as benchmarking your codeâ performance. Calling `System.nanoTime()` does *not* tell you anything about the current date-time. \r\n\r\nThis value is a count of nanoseconds since some undocumented origin point in time. In practice, I have seen the number appear to track time since the JVM launched, but this behavior is not documented and so you should not rely upon it.\r\n\r\n## `LocalDateTime` is *not* a moment\r\n\r\n&gt;My problem is that I need to do logging using both Java and Javascript and they need to have a consistent microsecond field across both of them.\r\n\r\nFirstly, for logging you should *not* be using `LocalDateTime` class. That class purposely lacks any concept of time zone or offset-from-UTC. As such, a `LocalDateTime` does *not* represent a moment, is *not* a point on the timeline. A `LocalDateTime` is an idea about *potential* moments along a range of about 26-27 hours. Use `LocalDateTime` only if the zone/offset is unknown (not a good situation), or if this represents something like &quot;Christmas Day starts on first moment of Decemeber 25, 2018&quot;, where Christmas starts at different moments for different regions around the globe, starting first in the far East (Pacific), and moving westward midnight after successive midnight.\r\n\r\nFor logging you should be using UTC. In Java, that would be the [`Instant`][6] class, always in UTC by definition. Just call `Instant.now()`. \r\n\r\nWhen serializing to text such as for logging, always use the standard [ISO 8601][7] formats. The *java.time* classes use these standard formats by default when parsing/generating strings. You saw examples above in this Answer.\r\n\r\nSee another Question, [*What&#39;s the difference between Instant and LocalDateTime?*](https://stackoverflow.com/q/32437550/642706).\r\n\r\n\r\n[![Table of date-time types in Java, both modern and legacy][8]][8]\r\n\r\n### ISO 8601\r\n\r\nIn ISO 8601, the decimal fraction of a second can have any number of digits. So you really should not care about whether the logged event was recorded in milliseconds, microseconds, or nanoseconds.\r\n\r\n    Instant instant = Instant.parse( &quot;2018-03-09T21:03:33.123456789Z&quot; ) ;\r\n    Instant instant = Instant.parse( &quot;2018-03-09T21:03:33.123456Z&quot; ) ;\r\n    Instant instant = Instant.parse( &quot;2018-03-09T21:03:33.123Z&quot; ) ;\r\n\r\n### Truncate\r\n\r\nIf you *really* believe you need uniform resolution, you can [truncate a `Instant`][9].\r\n\r\n    Instant instant = Instant.now().truncatedTo( ChronoUnit.MILLIS ) ; // Strip away any microseconds or nanoseconds.\r\n\r\n### Don&#39;t worry about resolution\r\n\r\n&gt;My problem is that I need to do logging using both Java and Javascript and they need to have a consistent microsecond field across both of them.\r\n\r\nFirstly, I doubt you really need to care about this. If you use standard ISO 8601 format, and the `Instant` class in Java, you can serialize and re-hydrate a moment successfully in millis, micros, or nanos. \r\n\r\nAnd the ISO 8601 formatted strings will conveniently alphabetize chronologically even if the fractional second resolution varies.\r\n\r\nSecondly, if you are trying to track actual moments to microseconds for some reason, you are likely to be disappointed. As of 2018, conventional computer clocks are not reliable in the microsecond range. \r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), the process of [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABPâ¦*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8068730\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/time/Clock.html\r\n  [4]: https://en.wikipedia.org/wiki/Millisecond\r\n  [5]: https://en.wikipedia.org/wiki/Microsecond\r\n  [6]: https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\r\n  [7]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [8]: https://i.stack.imgur.com/u07Jj.png\r\n  [9]: https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html#truncatedTo-java.time.temporal.TemporalUnit-","title":"Java 8 LocalDateTime.now() only giving precision of milliseconds","body":"<h1>tl;dr</h1>\n<blockquote>\n<p>Is it possible to get microseconds in Java 8?</p>\n</blockquote>\n<p>No, not in Java 8. Use Java 9 or later.</p>\n<pre><code>Instant.now()  // Returns a value in microseconds in Java 9 and later, but is restricted to mere milliseconds in Java 8.\n</code></pre>\n<p>This refers to implementations of Java based on the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"noreferrer\">OpenJDK</a> open-source code. Others may vary.</p>\n<h1>Java 9 and later</h1>\n<p>The implementations of Java 9 based on OpenJDK have a <a href=\"https://bugs.openjdk.java.net/browse/JDK-8068730\" rel=\"noreferrer\">fresh implementation</a> of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Clock.html\" rel=\"noreferrer\"><code>java.time.Clock</code></a> capable of capturing the current moment in resolution finer than milliseconds (<em>three</em> digits of decimal fraction).</p>\n<p>The actual resolution depends on the limits of your host computer hardware clock. On macOS Sierra with Oracle Java 9.0.4, I am getting current moment with microseconds (<em>six</em> digits of decimal fraction).</p>\n<pre><code>Instant.now().toString()\n</code></pre>\n<blockquote>\n<p>2018-03-09T21:03:33.831515Z</p>\n</blockquote>\n<h1>Java 8</h1>\n<p>The java.time classes were new in Java 8. These classes are defined to carry nanoseconds (<em>nine</em> digits of decimal fraction). But capturing the current moment was limited to only <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"noreferrer\">milliseconds</a> in Java 8, and enhanced in Java 9 to capture the current moment in finer <a href=\"https://en.wikipedia.org/wiki/Microsecond\" rel=\"noreferrer\">microseconds</a>.</p>\n<blockquote>\n<p>2018-03-09T21:03:33.831Z</p>\n</blockquote>\n<h1>Other issues</h1>\n<h2><code>System.currentTimeMillis()</code></h2>\n<blockquote>\n<p>If I get System.currentTimeMillis() and System.nanoTime()</p>\n</blockquote>\n<p>No need to use <code>System.currentTimeMillis()</code> ever again. Instead use <code>java.time.Instant</code> for a moment in UTC with a resolution as fine as nanoseconds.</p>\n<p>If you really need a count of milliseconds from the epoch reference of 1970-01-01T00:00Z, ask the <code>Instant</code> object. Be aware of data loss, as you would be ignoring any microseconds or nanoseconds present in the <code>Instant</code>.</p>\n<pre><code>long millisSinceEpoch = instant.now().toEpochMilli() ;\n</code></pre>\n<blockquote>\n<p>Is there a way that I can parse clock time from these values?</p>\n</blockquote>\n<p>Yes, you can convert a count of milliseconds since epoch of 1970-01-01T00:00Z to a <code>Instant</code>.</p>\n<pre><code>Instant instant = Instant.ofEpochMilli( millisSinceEpoch ) ;\n</code></pre>\n<h2><code>System.nanoTime()</code></h2>\n<p>As for <code>System.nanoTime()</code>, that is intended for tracking elapsed time, such as benchmarking your codeâ performance. Calling <code>System.nanoTime()</code> does <em>not</em> tell you anything about the current date-time.</p>\n<p>This value is a count of nanoseconds since some undocumented origin point in time. In practice, I have seen the number appear to track time since the JVM launched, but this behavior is not documented and so you should not rely upon it.</p>\n<h2><code>LocalDateTime</code> is <em>not</em> a moment</h2>\n<blockquote>\n<p>My problem is that I need to do logging using both Java and Javascript and they need to have a consistent microsecond field across both of them.</p>\n</blockquote>\n<p>Firstly, for logging you should <em>not</em> be using <code>LocalDateTime</code> class. That class purposely lacks any concept of time zone or offset-from-UTC. As such, a <code>LocalDateTime</code> does <em>not</em> represent a moment, is <em>not</em> a point on the timeline. A <code>LocalDateTime</code> is an idea about <em>potential</em> moments along a range of about 26-27 hours. Use <code>LocalDateTime</code> only if the zone/offset is unknown (not a good situation), or if this represents something like &quot;Christmas Day starts on first moment of Decemeber 25, 2018&quot;, where Christmas starts at different moments for different regions around the globe, starting first in the far East (Pacific), and moving westward midnight after successive midnight.</p>\n<p>For logging you should be using UTC. In Java, that would be the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class, always in UTC by definition. Just call <code>Instant.now()</code>.</p>\n<p>When serializing to text such as for logging, always use the standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> formats. The <em>java.time</em> classes use these standard formats by default when parsing/generating strings. You saw examples above in this Answer.</p>\n<p>See another Question, <a href=\"https://stackoverflow.com/q/32437550/642706\"><em>What's the difference between Instant and LocalDateTime?</em></a>.</p>\n<p><a href=\"https://i.stack.imgur.com/u07Jj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/u07Jj.png\" alt=\"Table of date-time types in Java, both modern and legacy\" /></a></p>\n<h3>ISO 8601</h3>\n<p>In ISO 8601, the decimal fraction of a second can have any number of digits. So you really should not care about whether the logged event was recorded in milliseconds, microseconds, or nanoseconds.</p>\n<pre><code>Instant instant = Instant.parse( &quot;2018-03-09T21:03:33.123456789Z&quot; ) ;\nInstant instant = Instant.parse( &quot;2018-03-09T21:03:33.123456Z&quot; ) ;\nInstant instant = Instant.parse( &quot;2018-03-09T21:03:33.123Z&quot; ) ;\n</code></pre>\n<h3>Truncate</h3>\n<p>If you <em>really</em> believe you need uniform resolution, you can <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html#truncatedTo-java.time.temporal.TemporalUnit-\" rel=\"noreferrer\">truncate a <code>Instant</code></a>.</p>\n<pre><code>Instant instant = Instant.now().truncatedTo( ChronoUnit.MILLIS ) ; // Strip away any microseconds or nanoseconds.\n</code></pre>\n<h3>Don't worry about resolution</h3>\n<blockquote>\n<p>My problem is that I need to do logging using both Java and Javascript and they need to have a consistent microsecond field across both of them.</p>\n</blockquote>\n<p>Firstly, I doubt you really need to care about this. If you use standard ISO 8601 format, and the <code>Instant</code> class in Java, you can serialize and re-hydrate a moment successfully in millis, micros, or nanos.</p>\n<p>And the ISO 8601 formatted strings will conveniently alphabetize chronologically even if the fractional second resolution varies.</p>\n<p>Secondly, if you are trying to track actual moments to microseconds for some reason, you are likely to be disappointed. As of 2018, conventional computer clocks are not reliable in the microsecond range.</p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the process of <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABPâ¦</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":6993304,"reputation":6347,"user_id":5361741,"accept_rate":75,"display_name":"annedroiid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32131,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":49203836,"answer_count":3,"score":24,"last_activity_date":1674256177,"creation_date":1474349278,"question_id":39586311,"body_markdown":"Is it possible to get microseconds in Java 8? The Java 8 `LocalDateTime` class has a `.getNano()` method which is meant to return `nanoseconds`, but on both Linux(Ubuntu) and OS X (10.11.5) it only returns `milliseconds` (when I ran it it returned `301000000` which equals `301 milliseconds`) and I really need to be able to get `microseconds`.\n\nI know that it is possible to get `nanoseconds` (and therefore get `microseconds` from it) on my computer as the javascript method `process.hrtime()` returns a precise value.\n\nBefore anyone starts a precise vs. accurate argument I know that nanoseconds is completely unreliable between threads and shouldn&#39;t be used for comparison.\n\n**Edit**:\n\n  To be clear the `LocalDateTime` class is part of the Java 8 `java.time` set of classes.\n\n**Update**:\n\nSo I realised that Javascript&#39;s `process.hrtime` is like Java&#39;s `System.nanoTime()` and isn&#39;t actually related to the wall clock, it&#39;s time since some arbitrary value which are different between the two languages.\n\nNew question: Is there a way that I can parse clock time from these values? Ie. If I get `System.currentTimeMillis()` and `System.nanoTime()`, and compare that to another set of those values could I get the actual time of the second set of values?\n\nMy problem is that I need to do logging using both Java and Javascript and they need to have a consistent microsecond field across both of them.","title":"Java 8 LocalDateTime.now() only giving precision of milliseconds","body":"<p>Is it possible to get microseconds in Java 8? The Java 8 <code>LocalDateTime</code> class has a <code>.getNano()</code> method which is meant to return <code>nanoseconds</code>, but on both Linux(Ubuntu) and OS X (10.11.5) it only returns <code>milliseconds</code> (when I ran it it returned <code>301000000</code> which equals <code>301 milliseconds</code>) and I really need to be able to get <code>microseconds</code>.</p>\n<p>I know that it is possible to get <code>nanoseconds</code> (and therefore get <code>microseconds</code> from it) on my computer as the javascript method <code>process.hrtime()</code> returns a precise value.</p>\n<p>Before anyone starts a precise vs. accurate argument I know that nanoseconds is completely unreliable between threads and shouldn't be used for comparison.</p>\n<p><strong>Edit</strong>:</p>\n<p>To be clear the <code>LocalDateTime</code> class is part of the Java 8 <code>java.time</code> set of classes.</p>\n<p><strong>Update</strong>:</p>\n<p>So I realised that Javascript's <code>process.hrtime</code> is like Java's <code>System.nanoTime()</code> and isn't actually related to the wall clock, it's time since some arbitrary value which are different between the two languages.</p>\n<p>New question: Is there a way that I can parse clock time from these values? Ie. If I get <code>System.currentTimeMillis()</code> and <code>System.nanoTime()</code>, and compare that to another set of those values could I get the actual time of the second set of values?</p>\n<p>My problem is that I need to do logging using both Java and Javascript and they need to have a consistent microsecond field across both of them.</p>\n"},{"tags":["java","graph","processing"],"comments":[{"owner":{"account_id":7717241,"reputation":3149,"user_id":5844572,"display_name":"laancelot"},"score":0,"creation_date":1674177745,"post_id":75177182,"comment_id":132665086,"body_markdown":"I love this question. Can you edit the code and make it runnable?","body":"I love this question. Can you edit the code and make it runnable?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1674179640,"post_id":75177182,"comment_id":132665306,"body_markdown":"Also, remember to follow the [posting guidelines](/help/how-to-ask): look at your question after posting it, and at the very least [edit] it to fix the [markdown](/markdown) errors it has.","body":"Also, remember to follow the <a href=\"/help/how-to-ask\">posting guidelines</a>: look at your question after posting it, and at the very least <a href=\"https://stackoverflow.com/posts/75177182/edit\">edit</a> it to fix the <a href=\"/markdown\">markdown</a> errors it has."},{"owner":{"account_id":27047355,"reputation":13,"user_id":20601329,"display_name":"gfd"},"score":0,"creation_date":1674233098,"post_id":75177182,"comment_id":132677876,"body_markdown":"I did some modifications. I hope this helps to understand it better and runnable","body":"I did some modifications. I hope this helps to understand it better and runnable"}],"answers":[{"tags":[],"owner":{"account_id":7717241,"reputation":3149,"user_id":5844572,"display_name":"laancelot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674255824,"creation_date":1674255824,"answer_id":75190084,"question_id":75177182,"body_markdown":"I modified your code a bunch to simplify it for readability reasons; it may be that you need some of the changes I made for your own code so don&#39;t take it the wrong way, but making these modifications helped me to analyze your code.\r\n\r\nI noticed that you used pixels instead of lines to link the &#39;points&#39; of the graph. It makes sense in some contexts but here I choose to use line segments instead. Also, I coded it in a way that uses only the seconds instead of a real month-day-hour-minute-second line, because if I had you would have seen only a straight line. I wanted you to see the actual curve.\r\n\r\nSo you understand that my code here isn&#39;t a copy-and-paste solution to your issue, but instead a methodology that aims to let you understand the principle behind the graph lines.\r\n\r\nHere what it&#39;ll look like:\r\n\r\n[![graph][1]][1]\r\n\r\nTo draw a line, you need 2 sets of coordinates: the 1st point and the 2nd point. That&#39;s pretty easy to get the basic informations needed by using the `Info_Sun` array. The only difficulty is to translate these into actual coordinates. It&#39;s way easier when you remember these points:\r\n\r\n - The (0,0) point of this graph&#39;s coordinates is actually the (220, 600) point.\r\n - The (0,0) point of the sketch is in the left-up corner of the sketch.\r\n - The X axis coordinates increases when you go right.\r\n - The Y axis coordinates increases when you go down.\r\n\r\nSo you need to know these 2 distances to be able to calculate a point&#39;s coordinates:\r\n\r\n - The distance between 2 points on the X axis.\r\n - The distance between 2 points on the Y axis.\r\n\r\nWhich are being stored here in the variables `distanceX` and `distanceY`. By now you probably have guessed where I&#39;m going with that but I&#39;ll go on anyway: the coordinates of a point are as follow:\r\n\r\n    X == 220 + distanceX * (Index of the point + 1)\r\n    Y == 600 - distanceY * Index of the point\r\n    // &#39;+ 1&#39; because arrays starts at 0 so day 1 is at index 0\r\n\r\nOf course, you have to be aware that you&#39;ll need to calculate these coordinates of 2 points every time you draw a line: for the point at the current index, and for the point at index+1. So you can link those 2 points.\r\n\r\nThis said, here&#39;s some code that reflects what I just said. You will notice my modifications in the first part of the code; they are not that important. The part that interests you is at the end.\r\n\r\n```\r\nint[][] Info_Sun = {\r\n\r\n  {  1, 1, 8, 23, 2 }, \r\n  {  1, 2, 8, 23, 9 }, \r\n  {  1, 3, 8, 23, 13 }, \r\n  {  1, 4, 8, 23, 15 }, \r\n  {  1, 5, 8, 23, 16 }, \r\n  {  1, 6, 8, 23, 14 }, \r\n  {  1, 7, 8, 23, 10  }, \r\n};\r\n\r\nfloat positionX, positionY;\r\nfloat sunset_pixel, sunrise_pixel, pixel_X, distanceX, distanceY;\r\nPFont f;     \r\n\r\nvoid setup() {\r\n  size(1500, 800);\r\n  background(255, 255, 211);\r\n\r\n  // drawing axis and titles\r\n  // modified for readability\r\n  line(220, 600, 1300, 600);                   \r\n  line(220, 600, 220, 55);                                \r\n  distanceY=21.5;\r\n\r\n  f= createFont(&quot;Consolas&quot;, 16, true);                  \r\n  textFont (f, 14);\r\n  fill(0);\r\n  // Hours\r\n  for (int i=0; i&lt;24; i++) {\r\n    line(220, 600-(distanceY*i), 1300, 600-(distanceY*i));\r\n    text(i, 200, 600-(distanceY*i));\r\n  }\r\n  // Days\r\n  distanceX = (1300-220)/(Info_Sun.length+1);\r\n  for (int i=1; i&lt;=Info_Sun.length; i++) {\r\n    line(220+distanceX*i, 600, 220+distanceX*i, 55);\r\n    text(i, 220+distanceX*i, 630);\r\n  }\r\n  text(&quot;Sortida i posta (hora)&quot;, 100, 50);\r\n  text(&quot;DIES DE L&#39;ANY&quot;, 1200, 615);\r\n\r\n  //// drawing curves\r\n  strokeWeight(3);\r\n  stroke(255, 0, 0);\r\n\r\n  // THIS IS THE PART WHERE I DRAW THE CURVE\r\n  // Using only the seconds so you see a curve and not a straight line\r\n  for (int i=0; i&lt;Info_Sun.length-1; i++) {\r\n    line(220+distanceX*(i+1), 600-distanceY*Info_Sun[i][4], 220+distanceX*(i+2), 600-distanceY*Info_Sun[i+1][4]);\r\n    // Here I calculate 2 points per loop, one for everyday\r\n    // so then I link every day by tracing a line between them, and as I start with the day 1 (which is at the index 0 in your table) I use index 0 and 1 for my first line\r\n    // that&#39;s why loop ends at &#39;i&lt;Info_Sun.length-1&#39;: else I would go out of the bounds of the array\r\n  }\r\n}\r\n```\r\n\r\nI&#39;m sure you can adapt this principle to your own ends. I hope this helps!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/knKts.png","title":"Draw points in a graph","body":"<p>I modified your code a bunch to simplify it for readability reasons; it may be that you need some of the changes I made for your own code so don't take it the wrong way, but making these modifications helped me to analyze your code.</p>\n<p>I noticed that you used pixels instead of lines to link the 'points' of the graph. It makes sense in some contexts but here I choose to use line segments instead. Also, I coded it in a way that uses only the seconds instead of a real month-day-hour-minute-second line, because if I had you would have seen only a straight line. I wanted you to see the actual curve.</p>\n<p>So you understand that my code here isn't a copy-and-paste solution to your issue, but instead a methodology that aims to let you understand the principle behind the graph lines.</p>\n<p>Here what it'll look like:</p>\n<p><a href=\"https://i.stack.imgur.com/knKts.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/knKts.png\" alt=\"graph\" /></a></p>\n<p>To draw a line, you need 2 sets of coordinates: the 1st point and the 2nd point. That's pretty easy to get the basic informations needed by using the <code>Info_Sun</code> array. The only difficulty is to translate these into actual coordinates. It's way easier when you remember these points:</p>\n<ul>\n<li>The (0,0) point of this graph's coordinates is actually the (220, 600) point.</li>\n<li>The (0,0) point of the sketch is in the left-up corner of the sketch.</li>\n<li>The X axis coordinates increases when you go right.</li>\n<li>The Y axis coordinates increases when you go down.</li>\n</ul>\n<p>So you need to know these 2 distances to be able to calculate a point's coordinates:</p>\n<ul>\n<li>The distance between 2 points on the X axis.</li>\n<li>The distance between 2 points on the Y axis.</li>\n</ul>\n<p>Which are being stored here in the variables <code>distanceX</code> and <code>distanceY</code>. By now you probably have guessed where I'm going with that but I'll go on anyway: the coordinates of a point are as follow:</p>\n<pre><code>X == 220 + distanceX * (Index of the point + 1)\nY == 600 - distanceY * Index of the point\n// '+ 1' because arrays starts at 0 so day 1 is at index 0\n</code></pre>\n<p>Of course, you have to be aware that you'll need to calculate these coordinates of 2 points every time you draw a line: for the point at the current index, and for the point at index+1. So you can link those 2 points.</p>\n<p>This said, here's some code that reflects what I just said. You will notice my modifications in the first part of the code; they are not that important. The part that interests you is at the end.</p>\n<pre><code>int[][] Info_Sun = {\n\n  {  1, 1, 8, 23, 2 }, \n  {  1, 2, 8, 23, 9 }, \n  {  1, 3, 8, 23, 13 }, \n  {  1, 4, 8, 23, 15 }, \n  {  1, 5, 8, 23, 16 }, \n  {  1, 6, 8, 23, 14 }, \n  {  1, 7, 8, 23, 10  }, \n};\n\nfloat positionX, positionY;\nfloat sunset_pixel, sunrise_pixel, pixel_X, distanceX, distanceY;\nPFont f;     \n\nvoid setup() {\n  size(1500, 800);\n  background(255, 255, 211);\n\n  // drawing axis and titles\n  // modified for readability\n  line(220, 600, 1300, 600);                   \n  line(220, 600, 220, 55);                                \n  distanceY=21.5;\n\n  f= createFont(&quot;Consolas&quot;, 16, true);                  \n  textFont (f, 14);\n  fill(0);\n  // Hours\n  for (int i=0; i&lt;24; i++) {\n    line(220, 600-(distanceY*i), 1300, 600-(distanceY*i));\n    text(i, 200, 600-(distanceY*i));\n  }\n  // Days\n  distanceX = (1300-220)/(Info_Sun.length+1);\n  for (int i=1; i&lt;=Info_Sun.length; i++) {\n    line(220+distanceX*i, 600, 220+distanceX*i, 55);\n    text(i, 220+distanceX*i, 630);\n  }\n  text(&quot;Sortida i posta (hora)&quot;, 100, 50);\n  text(&quot;DIES DE L'ANY&quot;, 1200, 615);\n\n  //// drawing curves\n  strokeWeight(3);\n  stroke(255, 0, 0);\n\n  // THIS IS THE PART WHERE I DRAW THE CURVE\n  // Using only the seconds so you see a curve and not a straight line\n  for (int i=0; i&lt;Info_Sun.length-1; i++) {\n    line(220+distanceX*(i+1), 600-distanceY*Info_Sun[i][4], 220+distanceX*(i+2), 600-distanceY*Info_Sun[i+1][4]);\n    // Here I calculate 2 points per loop, one for everyday\n    // so then I link every day by tracing a line between them, and as I start with the day 1 (which is at the index 0 in your table) I use index 0 and 1 for my first line\n    // that's why loop ends at 'i&lt;Info_Sun.length-1': else I would go out of the bounds of the array\n  }\n}\n</code></pre>\n<p>I'm sure you can adapt this principle to your own ends. I hope this helps!</p>\n"}],"owner":{"account_id":27047355,"reputation":13,"user_id":20601329,"display_name":"gfd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75190084,"answer_count":1,"score":0,"last_activity_date":1674255824,"creation_date":1674155352,"question_id":75177182,"body_markdown":"`I have an array that every row is a day and 1st column means month, 2nd: day, 3rd: hour, 4th: minute and 5th:second of the sunrise.\r\n\r\nI manage to the draw the graph, but I can&#39;t draw the line of the values of the array. The x axis is for the days of the year and y axis is the times of sunrise.\r\nThe original array has 365 columns, but I thought gicing the example of 4 would be enough.\r\n\r\n```\r\nint[][] Info_Sun = {\r\n                \r\n                      {  1  ,  1  ,  8  ,  23  ,  2 }  ,\r\n                      {  1  ,  2  ,  8  ,  23  ,  9 }  ,\r\n                      {  1  ,  3  ,  8  ,  23  ,  13 }  ,\r\n                      {  1  ,  4  ,  8  ,  23  ,  15 }  ,\r\n                      {  1  ,  5  ,  8  ,  23  ,  16 }  ,\r\n                      {  1  ,  6  ,  8  ,  23  ,  14 }  ,\r\n                      {  1  ,  7  ,  8  ,  23  ,  10  }  ,\r\n             };\r\n\r\nfloat positionX, positionY;\r\nfloat sunset_pixel, sunrise_pixel, pixel_X, distance;\r\nPFont f;     \r\n\r\nvoid setup(){\r\n    size(1500, 800);\r\n    background(255, 255, 211);\r\n    \r\n    line(220,height/2+200,width-200,height/2+200);                   \r\n    line(width/4-155,55,width/4-155,600);                                \r\n    distance=-21.5;\r\n    for(int s=1; s&lt;25; s++){\r\n  \r\n          line(220,height/2+200+distance,width-200,height/2+200+distance);\r\n          f= createFont(&quot;Consolas&quot;, 16, true);                  \r\n          textFont (f,14);\r\n          fill(0);\r\n          text(s,200,height/2+200+distance);\r\n          text(&quot;Sortida i posta (hora)&quot;, 100, 50);\r\n          text(&quot;DIES DE L&#39;ANY&quot;, 1200, 615);\r\n          \r\n          distance-=21.5;\r\n          point(220, 220);\r\n  }\r\n  pixel_X=25;\r\n    \r\n  for (int i=0; i&lt;Info_Sun.length; i++){\r\n        sunrise_pixel=Info_Sun[i][2]*pixel_X+(Info_Sun[i][3]*pixel_X)/60+(Info_Sun[i][4]*pixel_X)/3600;\r\n        strokeWeight(3);\r\n        stroke(255,0,0);\r\n        point (Info_Sun[i][1]+220, sunrise_pixel);      \r\n    \r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n","title":"Draw points in a graph","body":"<p>`I have an array that every row is a day and 1st column means month, 2nd: day, 3rd: hour, 4th: minute and 5th:second of the sunrise.</p>\n<p>I manage to the draw the graph, but I can't draw the line of the values of the array. The x axis is for the days of the year and y axis is the times of sunrise.\nThe original array has 365 columns, but I thought gicing the example of 4 would be enough.</p>\n<pre><code>int[][] Info_Sun = {\n                \n                      {  1  ,  1  ,  8  ,  23  ,  2 }  ,\n                      {  1  ,  2  ,  8  ,  23  ,  9 }  ,\n                      {  1  ,  3  ,  8  ,  23  ,  13 }  ,\n                      {  1  ,  4  ,  8  ,  23  ,  15 }  ,\n                      {  1  ,  5  ,  8  ,  23  ,  16 }  ,\n                      {  1  ,  6  ,  8  ,  23  ,  14 }  ,\n                      {  1  ,  7  ,  8  ,  23  ,  10  }  ,\n             };\n\nfloat positionX, positionY;\nfloat sunset_pixel, sunrise_pixel, pixel_X, distance;\nPFont f;     \n\nvoid setup(){\n    size(1500, 800);\n    background(255, 255, 211);\n    \n    line(220,height/2+200,width-200,height/2+200);                   \n    line(width/4-155,55,width/4-155,600);                                \n    distance=-21.5;\n    for(int s=1; s&lt;25; s++){\n  \n          line(220,height/2+200+distance,width-200,height/2+200+distance);\n          f= createFont(&quot;Consolas&quot;, 16, true);                  \n          textFont (f,14);\n          fill(0);\n          text(s,200,height/2+200+distance);\n          text(&quot;Sortida i posta (hora)&quot;, 100, 50);\n          text(&quot;DIES DE L'ANY&quot;, 1200, 615);\n          \n          distance-=21.5;\n          point(220, 220);\n  }\n  pixel_X=25;\n    \n  for (int i=0; i&lt;Info_Sun.length; i++){\n        sunrise_pixel=Info_Sun[i][2]*pixel_X+(Info_Sun[i][3]*pixel_X)/60+(Info_Sun[i][4]*pixel_X)/3600;\n        strokeWeight(3);\n        stroke(255,0,0);\n        point (Info_Sun[i][1]+220, sunrise_pixel);      \n    \n    }\n    \n}\n\n</code></pre>\n"},{"tags":["java","hibernate","quarkus"],"owner":{"account_id":5227687,"reputation":1059,"user_id":4179212,"accept_rate":75,"display_name":"ss1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674255651,"creation_date":1674255651,"question_id":75190072,"body_markdown":"I have a library which uses `hibernate-core 5.6.14` &amp; `h2 2.1.214`. It uses a `persistence.xml` which defines a persistence unit inside the library. The library on its own works fine and also when importing it as an dependency into a simple Maven project.  But when importing it into a Quarkus it suddenly fails when using `entityManager.persist()` with:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Unknown entity: com.example.core.taskdb.h2.H2Task\r\n```\r\n\r\n- The `persistence.xml` and the resulting `EntityManagerFactory` are correctly loaded inside the Quarkus project (checked via `entityManagerFactory.getProperties()`).\r\n- The Quarkus project itself does not use Hibernate, so there shouldn&#39;t be conflicts.\r\n- The library works fine when imported as an dependency into a simple Maven project.\r\n\r\nThanks for any suggestion!","title":"Library using Hibernate with H2 doesn&#39;t work when imported into Quarkus project","body":"<p>I have a library which uses <code>hibernate-core 5.6.14</code> &amp; <code>h2 2.1.214</code>. It uses a <code>persistence.xml</code> which defines a persistence unit inside the library. The library on its own works fine and also when importing it as an dependency into a simple Maven project.  But when importing it into a Quarkus it suddenly fails when using <code>entityManager.persist()</code> with:</p>\n<pre><code>java.lang.IllegalArgumentException: Unknown entity: com.example.core.taskdb.h2.H2Task\n</code></pre>\n<ul>\n<li>The <code>persistence.xml</code> and the resulting <code>EntityManagerFactory</code> are correctly loaded inside the Quarkus project (checked via <code>entityManagerFactory.getProperties()</code>).</li>\n<li>The Quarkus project itself does not use Hibernate, so there shouldn't be conflicts.</li>\n<li>The library works fine when imported as an dependency into a simple Maven project.</li>\n</ul>\n<p>Thanks for any suggestion!</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1674237664,"post_id":75187784,"comment_id":132679363,"body_markdown":"Can we get a better problem description than &quot;isn&#39;t working&quot; and a [mcve]? Please see [ask].","body":"Can we get a better problem description than &quot;isn&#39;t working&quot; and a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":27517016,"reputation":11,"user_id":20997787,"display_name":"Mr Gondal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674255415,"creation_date":1674237574,"question_id":75187784,"body_markdown":"I have  created Inside app activity where I have called different fragments using switch case and called that Inside App activity in the main_activity, but the issue is that only one fragments appear that I have showed as default but if we click on the menu Items then they won&#39;t change ? I have tried many different methods but I don&#39;t know where I did anything wrong bcz it isn&#39;t working.\r\n\r\n\r\nInside App :\r\n\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.content.ClipData;\r\nimport android.support.annotation.NonNull;\r\nimport android.support.design.widget.BottomNavigationView;\r\nimport android.support.v4.app.Fragment;\r\nimport android.support.v4.app.FragmentManager;\r\nimport android.support.v4.app.FragmentTransaction;\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.MenuItem;\r\n\r\npublic class InsideApp extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_inside_app);\r\n        HomeFragment home_Fragment = new HomeFragment();\r\n        Setting_Fragment setting_fragment = new Setting_Fragment();\r\n        profile_fragment profile_fragment = new profile_fragment();\r\n        BottomNavigationView bottomNavigationView;\r\n        bottomNavigationView = findViewById(R.id.bottomNavigationView);\r\n        getSupportFragmentManager()\r\n                .beginTransaction()\r\n                .replace(R.id.layout, new HomeFragment())\r\n                .commit();\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n                Fragment fragment = null;\r\n                switch (menuItem.getItemId()) {\r\n\r\n                    case R.id.home_fragment:\r\n                        fragment = new HomeFragment();\r\n                        break;\r\n                    case R.id.profiles:\r\n                        fragment = new profile_fragment();\r\n                        break;\r\n                    case R.id.settings:\r\n                        fragment = new Setting_Fragment();\r\n                        break;\r\n                }\r\n                if (fragment != null) {\r\n                    getSupportFragmentManager()\r\n                            .beginTransaction()\r\n                            .replace(R.id.layout, fragment)\r\n                            .commit();\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n`\r\nMain Activity:\r\n\r\n`package com.example.myapplication;\r\n\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.support.annotation.NonNull;\r\nimport android.support.design.widget.BottomNavigationView;\r\nimport android.support.design.widget.Snackbar;\r\nimport android.support.v4.app.Fragment;\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport android.view.View;\r\n\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\n\r\n\r\n\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.widget.Button;\r\nimport android.widget.MediaController;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport android.widget.VideoView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private AppBarConfiguration appBarConfiguration;\r\n\r\n     private  Button insideApp ;\r\n     private Button demovideo;\r\n\r\n\r\n    public void SubmitButton(View view){\r\n\r\n        Toast.makeText(this, &quot;LOGIN SUCCESSFUL&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n    public void forgetpassword(View view){\r\n\r\n        Toast.makeText(this, &quot;WORKING ON THIS NODE..!&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n    public void btn_google(View view){\r\n\r\n        Toast.makeText(this, &quot;WORKING ON THIS NODE..!&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n    public void btn_facebook(View view){\r\n\r\n        Toast.makeText(this, &quot;WORKING ON THIS NODE..!&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        TextView btn = findViewById(R.id.textViewSignup);\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MainActivity.this, Register.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        insideApp = findViewById(R.id.Login);\r\n        insideApp.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MainActivity.this, InsideApp.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        demovideo = findViewById(R.id.aboutus);\r\n        demovideo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MainActivity.this, demovideo.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n`\r\nXMl of InsideAPP\r\n\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.InsideApp&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/layout&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/bottomNavigationView&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n    &lt;android.support.design.widget.BottomNavigationView\r\n        android:id=&quot;@+id/bottomNavigationView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:animationCache=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:menu=&quot;@menu/menu_view&quot; /&gt;\r\n&lt;/android.support.constraint.ConstraintLayout&gt;`\r\n\r\n```\r\n","title":"Fragments are not getting changed after clicking on the the MenuItems on navigation bar","body":"<p>I have  created Inside app activity where I have called different fragments using switch case and called that Inside App activity in the main_activity, but the issue is that only one fragments appear that I have showed as default but if we click on the menu Items then they won't change ? I have tried many different methods but I don't know where I did anything wrong bcz it isn't working.</p>\n<p>Inside App :</p>\n<pre><code>package com.example.myapplication;\n\nimport android.content.ClipData;\nimport android.support.annotation.NonNull;\nimport android.support.design.widget.BottomNavigationView;\nimport android.support.v4.app.Fragment;\nimport android.support.v4.app.FragmentManager;\nimport android.support.v4.app.FragmentTransaction;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.MenuItem;\n\npublic class InsideApp extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_inside_app);\n        HomeFragment home_Fragment = new HomeFragment();\n        Setting_Fragment setting_fragment = new Setting_Fragment();\n        profile_fragment profile_fragment = new profile_fragment();\n        BottomNavigationView bottomNavigationView;\n        bottomNavigationView = findViewById(R.id.bottomNavigationView);\n        getSupportFragmentManager()\n                .beginTransaction()\n                .replace(R.id.layout, new HomeFragment())\n                .commit();\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n                Fragment fragment = null;\n                switch (menuItem.getItemId()) {\n\n                    case R.id.home_fragment:\n                        fragment = new HomeFragment();\n                        break;\n                    case R.id.profiles:\n                        fragment = new profile_fragment();\n                        break;\n                    case R.id.settings:\n                        fragment = new Setting_Fragment();\n                        break;\n                }\n                if (fragment != null) {\n                    getSupportFragmentManager()\n                            .beginTransaction()\n                            .replace(R.id.layout, fragment)\n                            .commit();\n                    return true;\n                }\n                return false;\n            }\n        });\n\n    }\n}\n`\nMain Activity:\n\n`package com.example.myapplication;\n\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.support.annotation.NonNull;\nimport android.support.design.widget.BottomNavigationView;\nimport android.support.design.widget.Snackbar;\nimport android.support.v4.app.Fragment;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.View;\n\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\n\n\n\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.widget.Button;\nimport android.widget.MediaController;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport android.widget.VideoView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private AppBarConfiguration appBarConfiguration;\n\n     private  Button insideApp ;\n     private Button demovideo;\n\n\n    public void SubmitButton(View view){\n\n        Toast.makeText(this, &quot;LOGIN SUCCESSFUL&quot;, Toast.LENGTH_SHORT).show();\n    }\n    public void forgetpassword(View view){\n\n        Toast.makeText(this, &quot;WORKING ON THIS NODE..!&quot;, Toast.LENGTH_SHORT).show();\n    }\n    public void btn_google(View view){\n\n        Toast.makeText(this, &quot;WORKING ON THIS NODE..!&quot;, Toast.LENGTH_SHORT).show();\n    }\n    public void btn_facebook(View view){\n\n        Toast.makeText(this, &quot;WORKING ON THIS NODE..!&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView btn = findViewById(R.id.textViewSignup);\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MainActivity.this, Register.class);\n                startActivity(intent);\n            }\n        });\n        insideApp = findViewById(R.id.Login);\n        insideApp.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MainActivity.this, InsideApp.class);\n                startActivity(intent);\n            }\n        });\n        demovideo = findViewById(R.id.aboutus);\n        demovideo.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MainActivity.this, demovideo.class);\n                startActivity(intent);\n            }\n        });\n\n\n    }\n\n\n}\n`\nXMl of InsideAPP\n\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.InsideApp&quot;&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/layout&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/bottomNavigationView&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;/FrameLayout&gt;\n\n    &lt;android.support.design.widget.BottomNavigationView\n        android:id=&quot;@+id/bottomNavigationView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:animationCache=&quot;true&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:menu=&quot;@menu/menu_view&quot; /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;`\n\n</code></pre>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1674255411,"post_id":75187776,"comment_id":132683397,"body_markdown":"Why do you need that kind of static build?","body":"Why do you need that kind of static build?"},{"owner":{"account_id":13562961,"reputation":51,"user_id":9784007,"display_name":"mongjahi"},"score":0,"creation_date":1674326979,"post_id":75187776,"comment_id":132692721,"body_markdown":"Actually, I am trying to do some simulation on FPGAs. Due to the limited memory size, the FPGA file system can&#39;t contain much (like dependencies or libraries). So, I am thinking of simply putting statically compiled binaries and running them.","body":"Actually, I am trying to do some simulation on FPGAs. Due to the limited memory size, the FPGA file system can&#39;t contain much (like dependencies or libraries). So, I am thinking of simply putting statically compiled binaries and running them."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1674330135,"post_id":75187776,"comment_id":132693315,"body_markdown":"Did you think about [GraalVM&#39;s `native-image`](https://www.graalvm.org/22.0/reference-manual/native-image/) tool before compiling OpenJDK by yourself? It does [support static binaries with `musl` and mostly-static binaries](https://www.graalvm.org/22.0/reference-manual/native-image/StaticImages/). `native-image` does have a few limitations though.","body":"Did you think about <a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/\" rel=\"nofollow noreferrer\">GraalVM&#39;s <code>native-image</code></a> tool before compiling OpenJDK by yourself? It does <a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/StaticImages/\" rel=\"nofollow noreferrer\">support static binaries with <code>musl</code> and mostly-static binaries</a>. <code>native-image</code> does have a few limitations though."}],"owner":{"account_id":13562961,"reputation":51,"user_id":9784007,"display_name":"mongjahi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674254744,"creation_date":1674237549,"question_id":75187776,"body_markdown":"I am new to OpenJDK,\r\nso I&#39;d like to apologize if it&#39;s a known issue or there is already a way to get over it.\r\n\r\nCurrently, I am trying to &#39;static build&#39; the OpenJDK\r\nso that I can remove all dynamic library dependencies\r\nwhen I use the tools like java, javac, etc.\r\n\r\nFor that purpose, I found an option called &#39;--enable-static-build&#39; fed to the configure file.\r\nHowever, it seems like it&#39;s not supported (even not allowed to enable) at the current mainstream.\r\n\r\nWould there be any workaround to enable that option for static build?\r\nOr, does anyone know any specific branch or GitHub tag where the static build works fine by any chance?\r\n\r\nMany thanks in advance!\r\n\r\nI have tried to use the configure option, --enable-static-build, but didn&#39;t work.","title":"OpenJDK Static Build","body":"<p>I am new to OpenJDK,\nso I'd like to apologize if it's a known issue or there is already a way to get over it.</p>\n<p>Currently, I am trying to 'static build' the OpenJDK\nso that I can remove all dynamic library dependencies\nwhen I use the tools like java, javac, etc.</p>\n<p>For that purpose, I found an option called '--enable-static-build' fed to the configure file.\nHowever, it seems like it's not supported (even not allowed to enable) at the current mainstream.</p>\n<p>Would there be any workaround to enable that option for static build?\nOr, does anyone know any specific branch or GitHub tag where the static build works fine by any chance?</p>\n<p>Many thanks in advance!</p>\n<p>I have tried to use the configure option, --enable-static-build, but didn't work.</p>\n"},{"tags":["java","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1674254108,"post_id":75189784,"comment_id":132683179,"body_markdown":"I suspect you will need to attach the matching source in your IDE and trace through the `close()` call to see what is actually happening.","body":"I suspect you will need to attach the matching source in your IDE and trace through the <code>close()</code> call to see what is actually happening."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1674257698,"post_id":75189784,"comment_id":132683734,"body_markdown":"**YES multiple HTTP requests and responses can be done over one connection** in HTTP/1.0 up i.e. since about 2000. Caching and reusing TCP connections saves a little, but your case is HTTPS and reusing _TLS_ (over TCP) connections saves the TLS handshake which can be relatively slow and costly. (HTTP/2, in Apache HC 5, can do multiple requests _concurrently_ and requests to multiple vhosts on one connection, but the API changes some.) Compare https://stackoverflow.com/questions/56571672/apache-httpclient-connection-management#56611236","body":"<b>YES multiple HTTP requests and responses can be done over one connection</b> in HTTP/1.0 up i.e. since about 2000. Caching and reusing TCP connections saves a little, but your case is HTTPS and reusing <i>TLS</i> (over TCP) connections saves the TLS handshake which can be relatively slow and costly. (HTTP/2, in Apache HC 5, can do multiple requests <i>concurrently</i> and requests to multiple vhosts on one connection, but the API changes some.) Compare <a href=\"https://stackoverflow.com/questions/56571672/apache-httpclient-connection-management#56611236\" title=\"apache httpclient connection management%2356611236\">stackoverflow.com/questions/56571672/&hellip;</a>"}],"owner":{"account_id":3388948,"reputation":125,"user_id":2844289,"accept_rate":31,"display_name":"bforcer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674254584,"creation_date":1674252653,"question_id":75189784,"body_markdown":"I&#39;m chasing down some http request timeout issues related to my java application that uses spring and Apache HTTPClient to get data from a REST endpoint. \r\n\r\nI create a single instance of `CloseableHttpClient` using spring (simplified in the example below) which is reused to execute requests. With the `try-with-resources` block I&#39;m sure I&#39;m closing the httpResponse, but when I run `netstat` I can see that the TCP connection I created for this request is still `ESTABLISHED` and doesn&#39;t go away until I stop the process or close the `CloseableHttpClient` explicitly.\r\n\r\nI would have expected the underlying TCP connection to be closed when the application marks the connection as completely consumed. Any explanations for this? Seemingly these connections stay established for a long time (hours). Should I be worried about these connections staying around? \r\n  \r\n\r\n```\r\npublic static void checkHttp() throws ClientProtocolException, IOException, InterruptedException {\r\n\tCloseableHttpClient client = HttpClientBuilder.create().build();\r\n\t\t\r\n\tHttpGet request = new HttpGet(&quot;https://www.myapp.com&quot;);\r\n\ttry (CloseableHttpResponse httpResponse = client.execute(request)) {\r\n\t\tHttpEntity entity = httpResponse.getEntity();\r\n\t}\r\n\t\t\r\n\tThread.sleep(500000000);\r\n}\r\n```\r\n\r\nHere&#39;s netstat during the execution:\r\n```\r\n# Before running\r\n~/git/$ netstat -an | grep 443\r\n\r\n# While request is happening\r\n~/git/$ netstat -an | grep 443\r\ntcp4       0      0  10.2.X.X.63235     100.64.X.X.443      ESTABLISHED\r\n\r\n# After response.close()\r\n~/git/$ netstat -an | grep 443\r\ntcp4       0      0  10.2.X.X.63235     100.64.X.X.443      ESTABLISHED\r\n\r\n# After client.close()\r\n~/git/$ netstat -an | grep 443\r\ntcp4       0      0  10.2.X.X.63258     100.64.X.X.443       TIME_WAIT \r\n```","title":"Closing Apache HTTPResponse doesn&#39;t close TCP Connection","body":"<p>I'm chasing down some http request timeout issues related to my java application that uses spring and Apache HTTPClient to get data from a REST endpoint.</p>\n<p>I create a single instance of <code>CloseableHttpClient</code> using spring (simplified in the example below) which is reused to execute requests. With the <code>try-with-resources</code> block I'm sure I'm closing the httpResponse, but when I run <code>netstat</code> I can see that the TCP connection I created for this request is still <code>ESTABLISHED</code> and doesn't go away until I stop the process or close the <code>CloseableHttpClient</code> explicitly.</p>\n<p>I would have expected the underlying TCP connection to be closed when the application marks the connection as completely consumed. Any explanations for this? Seemingly these connections stay established for a long time (hours). Should I be worried about these connections staying around?</p>\n<pre><code>public static void checkHttp() throws ClientProtocolException, IOException, InterruptedException {\n    CloseableHttpClient client = HttpClientBuilder.create().build();\n        \n    HttpGet request = new HttpGet(&quot;https://www.myapp.com&quot;);\n    try (CloseableHttpResponse httpResponse = client.execute(request)) {\n        HttpEntity entity = httpResponse.getEntity();\n    }\n        \n    Thread.sleep(500000000);\n}\n</code></pre>\n<p>Here's netstat during the execution:</p>\n<pre><code># Before running\n~/git/$ netstat -an | grep 443\n\n# While request is happening\n~/git/$ netstat -an | grep 443\ntcp4       0      0  10.2.X.X.63235     100.64.X.X.443      ESTABLISHED\n\n# After response.close()\n~/git/$ netstat -an | grep 443\ntcp4       0      0  10.2.X.X.63235     100.64.X.X.443      ESTABLISHED\n\n# After client.close()\n~/git/$ netstat -an | grep 443\ntcp4       0      0  10.2.X.X.63258     100.64.X.X.443       TIME_WAIT \n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9281,"page":711,"page_size":100}
