{"items":[{"tags":["java","microservices","domain-driven-design","cqrs","event-sourcing"],"comments":[{"owner":{"account_id":19273,"reputation":3124,"user_id":45045,"accept_rate":95,"display_name":"Rudi"},"score":3,"creation_date":1698400558,"post_id":77323853,"comment_id":136403624,"body_markdown":"Is the requirement that you can lookup the aggregate by a previously used mail address or only the current one?\nIn any case, I would opt to create an &#39;internal&#39; projection, aka Materialized Model, to map the mail address to the AggregateID.","body":"Is the requirement that you can lookup the aggregate by a previously used mail address or only the current one? In any case, I would opt to create an &#39;internal&#39; projection, aka Materialized Model, to map the mail address to the AggregateID."}],"owner":{"account_id":29708425,"reputation":11,"user_id":22768726,"display_name":"TrassaTeusz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1701875498,"creation_date":1697719307,"question_id":77323853,"body_markdown":"I am diving deeper into CQRS and event sourcing architecture. I am a bit confused about loading an aggregate (write model) into my application.\r\n\r\nI push all my events to my Kafka event bus and also save the read projection in my application local database as events. While I don&#39;t have any problems loading my aggregate to its latest state from my event store, I am at trouble when I need to find an aggregate or validate commands to be applied on it by something other then its ID, which may change over time (e.g. email address). I can, however, find older events with old email addresses by querying my read model database with a query like ```Where mail = given_mail```.\r\n\r\nMaybe my concept is wrong and I should publish event only to event bus and store Materialized Models in Database (event if it is command parts)?\r\nMaybe while my Query part is kafka-listner and create ReadOnly Projections I should use the same repository to fetch data from Read-Database even on Command side?\r\n\r\nI am considering which approach is better/correct and if you have any documents about it feel free to share with me :)\r\n\r\nI tried to find a out of articles about event sourcing.","title":"Loading an aggregate with a field other than its id from an event sourcing event store","body":"<p>I am diving deeper into CQRS and event sourcing architecture. I am a bit confused about loading an aggregate (write model) into my application.</p>\n<p>I push all my events to my Kafka event bus and also save the read projection in my application local database as events. While I don't have any problems loading my aggregate to its latest state from my event store, I am at trouble when I need to find an aggregate or validate commands to be applied on it by something other then its ID, which may change over time (e.g. email address). I can, however, find older events with old email addresses by querying my read model database with a query like <code>Where mail = given_mail</code>.</p>\n<p>Maybe my concept is wrong and I should publish event only to event bus and store Materialized Models in Database (event if it is command parts)?\nMaybe while my Query part is kafka-listner and create ReadOnly Projections I should use the same repository to fetch data from Read-Database even on Command side?</p>\n<p>I am considering which approach is better/correct and if you have any documents about it feel free to share with me :)</p>\n<p>I tried to find a out of articles about event sourcing.</p>\n"},{"tags":["java","select","zooming"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1700867096,"post_id":77545821,"comment_id":136708958,"body_markdown":"Maybe something like [this](https://stackoverflow.com/questions/18158550/zoom-box-for-area-around-mouse-location-on-screen/18158845#18158845); You could also make use of the `JLayer` APIs [for example](https://stackoverflow.com/questions/21174997/how-to-add-mouselistener-to-item-on-java-swing-canvas/21175125#21175125)","body":"Maybe something like <a href=\"https://stackoverflow.com/questions/18158550/zoom-box-for-area-around-mouse-location-on-screen/18158845#18158845\">this</a>; You could also make use of the <code>JLayer</code> APIs <a href=\"https://stackoverflow.com/questions/21174997/how-to-add-mouselistener-to-item-on-java-swing-canvas/21175125#21175125\">for example</a>"},{"owner":{"account_id":26486739,"reputation":1,"user_id":20125201,"display_name":"Fr&#233;d&#233;rique Souli&#232;re"},"score":0,"creation_date":1700868551,"post_id":77545821,"comment_id":136709042,"body_markdown":"I can&#39;t used pop Up I have to directly zoom in the drawing","body":"I can&#39;t used pop Up I have to directly zoom in the drawing"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1700869522,"post_id":77545821,"comment_id":136709103,"body_markdown":"Maybe, it will give you some ideas","body":"Maybe, it will give you some ideas"}],"owner":{"account_id":26486739,"reputation":1,"user_id":20125201,"display_name":"Fr&#233;d&#233;rique Souli&#232;re"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701875409,"creation_date":1700863012,"question_id":77545821,"body_markdown":"I want to add the zooming function around the MOUSE, but I want to keep the unscaled values because I need to used it to selected item afterwards. The select item works perfectly before the zooming around the mousePoint:\r\n\r\n        @Override protected void paintComponent(Graphics g) {    \r\n        if (mainWindow != null) {\r\n            super.paintComponent(g);\r\n            \r\n            int zoomX = (int)(intialDimension.width * mainWindow.controller.getScaleZoom());\r\n            int zoomY = (int)(intialDimension.height* mainWindow.controller.getScaleZoom());\r\n            \r\n            Graphics2D g2d = (Graphics2D)g;\r\n    \r\n            g2d.scale(mainWindow.controller.getScaleZoom(), mainWindow.controller.getScaleZoom());\r\n        \r\n            MainDrawer mainDrawer = new MainDrawer(mainWindow.controller, this.chaletDrawer, new   Dimension(zoomX, zoomY));\r\n            mainDrawer.draw(g2d);\r\n            \r\n            g2d.dispose();\r\n    \r\n        }\r\n    }\r\n\r\nMoussePressed :\r\n\r\n        Point mousePoint = evt.getPoint(); double scaleZoom = controller.getScaleZoom();\r\n        // Convert the mouse coordinates back to the unscaled (original) coordinates\r\n        // 100 is the initial point of the drawing\r\n        // 4 is the scale of the drawing\r\n        int unscaledX = (int) ((mousePoint.x / scaleZoom - 100) / 4);\r\n        int unscaledY = (int) ((mousePoint.y / scaleZoom - 100) / 4);\r\n    \r\n        System.out.println(&quot;Unscaled Mouse Point: (&quot; + unscaledX + &quot;, &quot; + unscaledY + &quot;)&quot;);\r\n    \r\n        this.controller.switchSelectionStatusAccessoire(unscaledX, unscaledY, viewType);\r\n        this.drawingPanel.repaint();`\r\n\r\nMouseWheel :\r\n\r\n    double amount = Math.pow(1.1, evt.getScrollAmount());       `\r\n    \r\n    if (evt.getWheelRotation() &gt; 0) {             \r\n        controller.setScaleZoom(oldzoom * amount);         \r\n    } else {             \r\n        controller.setScaleZoom(oldzoom / amount);         \r\n    }            \r\n    this.drawingPanel.repaint();\r\n\r\nI can easily adapt the code to zoom aroud the mousePoint using AffineTransform. The problem is, afterward when I select it&#39;s not selecting at the good place and because I call the repaint in the MousePressed it will redraw the entire drawing at the initial position.\r\n\r\n    @Override protected void paintComponent(Graphics g) {    \r\n            if (mainWindow != null) {\r\n            super.paintComponent(g);\r\n    \r\n            int zoomX = (int) (intialDimension.width * mainWindow.controller.getScaleZoom());\r\n            int zoomY = (int) (intialDimension.height * mainWindow.controller.getScaleZoom());\r\n    \r\n            Graphics2D g2d = (Graphics2D) g;\r\n    \r\n            Point mousePosition = getMousePosition();\r\n            AffineTransform at = g2d.getTransform();\r\n            if (mousePosition != null) {\r\n                at.translate(mousePosition.getX(), mousePosition.getY());\r\n            }\r\n            at.scale(mainWindow.controller.getScaleZoom(), mainWindow.controller.getScaleZoom());\r\n            if (mousePosition != null) {\r\n    \r\n                at.translate(-mousePosition.getX(), -mousePosition.getY());\r\n            }\r\n            g2d.setTransform(at);\r\n    \r\n            revalidate();\r\n            \r\n            MainDrawer mainDrawer = new MainDrawer(mainWindow.controller, this.chaletDrawer, new Dimension(zoomX, zoomY));\r\n            mainDrawer.draw(g2d);\r\n    \r\n    \r\n            g2d.dispose();\r\n    \r\n        }\r\n    }`","title":"Java- Zooming around mousePoint and Selection afterwards","body":"<p>I want to add the zooming function around the MOUSE, but I want to keep the unscaled values because I need to used it to selected item afterwards. The select item works perfectly before the zooming around the mousePoint:</p>\n<pre><code>    @Override protected void paintComponent(Graphics g) {    \n    if (mainWindow != null) {\n        super.paintComponent(g);\n        \n        int zoomX = (int)(intialDimension.width * mainWindow.controller.getScaleZoom());\n        int zoomY = (int)(intialDimension.height* mainWindow.controller.getScaleZoom());\n        \n        Graphics2D g2d = (Graphics2D)g;\n\n        g2d.scale(mainWindow.controller.getScaleZoom(), mainWindow.controller.getScaleZoom());\n    \n        MainDrawer mainDrawer = new MainDrawer(mainWindow.controller, this.chaletDrawer, new   Dimension(zoomX, zoomY));\n        mainDrawer.draw(g2d);\n        \n        g2d.dispose();\n\n    }\n}\n</code></pre>\n<p>MoussePressed :</p>\n<pre><code>    Point mousePoint = evt.getPoint(); double scaleZoom = controller.getScaleZoom();\n    // Convert the mouse coordinates back to the unscaled (original) coordinates\n    // 100 is the initial point of the drawing\n    // 4 is the scale of the drawing\n    int unscaledX = (int) ((mousePoint.x / scaleZoom - 100) / 4);\n    int unscaledY = (int) ((mousePoint.y / scaleZoom - 100) / 4);\n\n    System.out.println(&quot;Unscaled Mouse Point: (&quot; + unscaledX + &quot;, &quot; + unscaledY + &quot;)&quot;);\n\n    this.controller.switchSelectionStatusAccessoire(unscaledX, unscaledY, viewType);\n    this.drawingPanel.repaint();`\n</code></pre>\n<p>MouseWheel :</p>\n<pre><code>double amount = Math.pow(1.1, evt.getScrollAmount());       `\n\nif (evt.getWheelRotation() &gt; 0) {             \n    controller.setScaleZoom(oldzoom * amount);         \n} else {             \n    controller.setScaleZoom(oldzoom / amount);         \n}            \nthis.drawingPanel.repaint();\n</code></pre>\n<p>I can easily adapt the code to zoom aroud the mousePoint using AffineTransform. The problem is, afterward when I select it's not selecting at the good place and because I call the repaint in the MousePressed it will redraw the entire drawing at the initial position.</p>\n<pre><code>@Override protected void paintComponent(Graphics g) {    \n        if (mainWindow != null) {\n        super.paintComponent(g);\n\n        int zoomX = (int) (intialDimension.width * mainWindow.controller.getScaleZoom());\n        int zoomY = (int) (intialDimension.height * mainWindow.controller.getScaleZoom());\n\n        Graphics2D g2d = (Graphics2D) g;\n\n        Point mousePosition = getMousePosition();\n        AffineTransform at = g2d.getTransform();\n        if (mousePosition != null) {\n            at.translate(mousePosition.getX(), mousePosition.getY());\n        }\n        at.scale(mainWindow.controller.getScaleZoom(), mainWindow.controller.getScaleZoom());\n        if (mousePosition != null) {\n\n            at.translate(-mousePosition.getX(), -mousePosition.getY());\n        }\n        g2d.setTransform(at);\n\n        revalidate();\n        \n        MainDrawer mainDrawer = new MainDrawer(mainWindow.controller, this.chaletDrawer, new Dimension(zoomX, zoomY));\n        mainDrawer.draw(g2d);\n\n\n        g2d.dispose();\n\n    }\n}`\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"score":0,"creation_date":1699248601,"post_id":77428873,"comment_id":136502979,"body_markdown":"This error may occur when the ChromeDriver version is not compatible with the Chrome browser version, or when the JSON. please recheck and add fresh driver once again and configure once again.","body":"This error may occur when the ChromeDriver version is not compatible with the Chrome browser version, or when the JSON. please recheck and add fresh driver once again and configure once again."},{"owner":{"account_id":26682848,"reputation":3498,"user_id":20292589,"display_name":"Yaroslavm"},"score":2,"creation_date":1699263915,"post_id":77428873,"comment_id":136505007,"body_markdown":"Does this answer your question? [Selenium throws &quot;result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response&quot;exception after starting ChromeDriver](https://stackoverflow.com/questions/77424990/selenium-throws-result-webdrivervalue-value-list-is-missing-or-empty-in-runtime)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/77424990/selenium-throws-result-webdrivervalue-value-list-is-missing-or-empty-in-runtime\">Selenium throws &quot;result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response&quot;exception after starting ChromeDriver</a>"},{"owner":{"account_id":22258869,"reputation":1261,"user_id":16490627,"display_name":"The_spider"},"score":0,"creation_date":1701278884,"post_id":77428873,"comment_id":136757022,"body_markdown":"Could you please [edit] the testcase and the full error, including traceback, into your question? Without them, it might be hard to tell what exactly caused the error. Be sure to add a [mcve], containing the least possible code that raises your error.","body":"Could you please <a href=\"https://stackoverflow.com/posts/77428873/edit\">edit</a> the testcase and the full error, including traceback, into your question? Without them, it might be hard to tell what exactly caused the error. Be sure to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, containing the least possible code that raises your error."}],"answers":[{"tags":[],"owner":{"account_id":13688997,"reputation":658,"user_id":9877340,"display_name":"kenneth"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1699435492,"creation_date":1699256973,"answer_id":77429521,"question_id":77428873,"body_markdown":"I&#39;m still unsure of the issue, it&#39;s currently only happening in my Edge browser on version 119 due to previous usage. I have changed from EdgeDriver **to Chrome/ChromeDriver**, this might initalize new sessions or builds what helps:\r\n\r\n- Chrome v119\r\n- Selenium.WebDriver v4.12.4\r\n- WebDriverManager for automatic download of ChromeDriver\r\n\r\n**update**\r\n\r\nI&#39;ve updated my WebDriverManager to download the matching driver for v119 in Edge - now the problem is fixed:\r\n\r\n    new DriverManager().SetUpDriver(new EdgeConfig(), VersionResolveStrategy.MatchingBrowser);","title":"unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response","body":"<p>I'm still unsure of the issue, it's currently only happening in my Edge browser on version 119 due to previous usage. I have changed from EdgeDriver <strong>to Chrome/ChromeDriver</strong>, this might initalize new sessions or builds what helps:</p>\n<ul>\n<li>Chrome v119</li>\n<li>Selenium.WebDriver v4.12.4</li>\n<li>WebDriverManager for automatic download of ChromeDriver</li>\n</ul>\n<p><strong>update</strong></p>\n<p>I've updated my WebDriverManager to download the matching driver for v119 in Edge - now the problem is fixed:</p>\n<pre><code>new DriverManager().SetUpDriver(new EdgeConfig(), VersionResolveStrategy.MatchingBrowser);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10336690,"reputation":3527,"user_id":7624566,"display_name":"K. B."},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1699259273,"creation_date":1699259273,"answer_id":77429720,"question_id":77428873,"body_markdown":"I think this is a generic message that the session cannot be created, previously SessionNotCreated exception https://stackoverflow.com/questions/75140505/how-to-address-sessionnotcreatedexception-with-latest-chromedriver-exe.   \r\nI updated both the ChromeDriver and the Chrome on the machine with the latest versions available (119) and the issue is gone. Before the update I had Selenium.Webdriver.Chromedriver\\119.0.6045.10500 and chrome version 118.\r\n\r\nSelenium team has closed the connected issue.   \r\nhttps://github.com/SeleniumHQ/selenium/issues/13081","title":"unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response","body":"<p>I think this is a generic message that the session cannot be created, previously SessionNotCreated exception <a href=\"https://stackoverflow.com/questions/75140505/how-to-address-sessionnotcreatedexception-with-latest-chromedriver-exe\">How to address SessionNotCreatedException with latest chromedriver.exe?</a>.<br />\nI updated both the ChromeDriver and the Chrome on the machine with the latest versions available (119) and the issue is gone. Before the update I had Selenium.Webdriver.Chromedriver\\119.0.6045.10500 and chrome version 118.</p>\n<p>Selenium team has closed the connected issue.<br />\n<a href=\"https://github.com/SeleniumHQ/selenium/issues/13081\" rel=\"noreferrer\">https://github.com/SeleniumHQ/selenium/issues/13081</a></p>\n"},{"tags":[],"owner":{"account_id":29844253,"reputation":1,"user_id":22871695,"display_name":"MargaritaLadybird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699344183,"creation_date":1699344183,"answer_id":77436457,"question_id":77428873,"body_markdown":"I use the Webdriver manager Nuget packet to load the latest driver. When I started debugging I found out that Webdriver Manager loaded Edge Driver 118 version instead of 119 (so the latest version at the moment detected wrong with the manager), and I changed browserVersion Strategy from Latest to MatchingBrowser. And the problem was solved.\r\n\r\nstring browserVersion = VersionResolveStrategy.MatchingBrowser;","title":"unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response","body":"<p>I use the Webdriver manager Nuget packet to load the latest driver. When I started debugging I found out that Webdriver Manager loaded Edge Driver 118 version instead of 119 (so the latest version at the moment detected wrong with the manager), and I changed browserVersion Strategy from Latest to MatchingBrowser. And the problem was solved.</p>\n<p>string browserVersion = VersionResolveStrategy.MatchingBrowser;</p>\n"},{"tags":[],"owner":{"account_id":13851677,"reputation":477,"user_id":9999478,"display_name":"Shehan Jayalath"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699347011,"creation_date":1699347011,"answer_id":77436721,"question_id":77428873,"body_markdown":"**I had the same problem**\r\n\r\n    src.exception.exceptions.ScraperException: Message: unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response\r\n\r\nmy tools were:\r\n\r\n    Google Chrome version: 119.0.6045.105\r\n    Chromedriver version: 118.0.5993.70\r\n\r\n    Chip: Apple M1\r\n\r\n\r\n\r\nThe solution for this was:\r\n\r\nI had to upgrade `Chromedriver version` to `119.0.6045.105`(Current Stable Version)","title":"unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response","body":"<p><strong>I had the same problem</strong></p>\n<pre><code>src.exception.exceptions.ScraperException: Message: unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response\n</code></pre>\n<p>my tools were:</p>\n<pre><code>Google Chrome version: 119.0.6045.105\nChromedriver version: 118.0.5993.70\n\nChip: Apple M1\n</code></pre>\n<p>The solution for this was:</p>\n<p>I had to upgrade <code>Chromedriver version</code> to <code>119.0.6045.105</code>(Current Stable Version)</p>\n"},{"tags":[],"owner":{"account_id":2669436,"reputation":413,"user_id":2307140,"display_name":"Ishan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699470597,"creation_date":1699470597,"answer_id":77448309,"question_id":77428873,"body_markdown":"For those who are seeing this issue on Edge for a previously working code, it started happening with the release of MS Edge browser on 119.0.2151.44 on Nov 2, 2023. One of the easy fixes is update the edge driver to be on the same version. It worked for me.","title":"unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response","body":"<p>For those who are seeing this issue on Edge for a previously working code, it started happening with the release of MS Edge browser on 119.0.2151.44 on Nov 2, 2023. One of the easy fixes is update the edge driver to be on the same version. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":7908652,"reputation":11,"user_id":5973339,"display_name":"PATRICK VILLAIN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701571587,"creation_date":1699696027,"answer_id":77464592,"question_id":77428873,"body_markdown":"The same problem. I have updated the chromedriver version: 119.0.6045.105. It was solved!","title":"unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response","body":"<p>The same problem. I have updated the chromedriver version: 119.0.6045.105. It was solved!</p>\n"},{"tags":[],"owner":{"account_id":28176709,"reputation":11,"user_id":21534379,"display_name":"faqih-fn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699869316,"creation_date":1699869316,"answer_id":77473013,"question_id":77428873,"body_markdown":"Your chromedriver was not compatible with your actual browser. You can update your chromedriver.exe from https://chromedriver.chromium.org/downloads , and make sure you have the same chromedriver and actual browser version.\r\n\r\nIf you are using the chromedriver 115 or newer, you can update it from &quot;Chrome for Testing Availability&quot; page.","title":"unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response","body":"<p>Your chromedriver was not compatible with your actual browser. You can update your chromedriver.exe from <a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/downloads</a> , and make sure you have the same chromedriver and actual browser version.</p>\n<p>If you are using the chromedriver 115 or newer, you can update it from &quot;Chrome for Testing Availability&quot; page.</p>\n"}],"owner":{"account_id":29824506,"reputation":155,"user_id":22856845,"display_name":"MOHAMED SUFYAN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23889,"favorite_count":0,"down_vote_count":3,"up_vote_count":16,"answer_count":7,"score":13,"last_activity_date":1701875265,"creation_date":1699247559,"question_id":77428873,"body_markdown":"When running my testcase, I get this unknown error: \r\n\r\n```\r\nresult.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response\r\n```\r\nI tried to find the correct driver without changing my browser version. My browser version is 119 and I took the same for the driver.","title":"unknown error: result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response","body":"<p>When running my testcase, I get this unknown error:</p>\n<pre><code>result.webdriverValue.value list is missing or empty in Runtime.callFunctionOn response\n</code></pre>\n<p>I tried to find the correct driver without changing my browser version. My browser version is 119 and I took the same for the driver.</p>\n"},{"tags":["java","serialization","deserialization"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1701874886,"post_id":77614157,"comment_id":136829300,"body_markdown":"Please try closing the output stream after you write to it.","body":"Please try closing the output stream after you write to it."},{"owner":{"account_id":24053809,"reputation":7,"user_id":21852888,"display_name":"ra1n89"},"score":0,"creation_date":1701881113,"post_id":77614157,"comment_id":136830523,"body_markdown":"I closed streams but It didnt help","body":"I closed streams but It didnt help"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701884078,"post_id":77614157,"comment_id":136831065,"body_markdown":"You said you created `readObject` and `writeObject` methods, but I don’t see those in your ClassWithStatic class.","body":"You said you created <code>readObject</code> and <code>writeObject</code> methods, but I don’t see those in your ClassWithStatic class."},{"owner":{"account_id":24053809,"reputation":7,"user_id":21852888,"display_name":"ra1n89"},"score":0,"creation_date":1701884630,"post_id":77614157,"comment_id":136831152,"body_markdown":"Yes I used this construction instead current `serializeStatic` and `deserializeStatic`.\n\nOutput was the same","body":"Yes I used this construction instead current <code>serializeStatic</code> and <code>deserializeStatic</code>.  Output was the same"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1701888302,"post_id":77614157,"comment_id":136831810,"body_markdown":"Can you explain what the problem is here?  What output do you want to see instead?","body":"Can you explain what the problem is here?  What output do you want to see instead?"},{"owner":{"account_id":24053809,"reputation":7,"user_id":21852888,"display_name":"ra1n89"},"score":0,"creation_date":1701922819,"post_id":77614157,"comment_id":136835852,"body_markdown":"Second system.out.print have to show &#39; This is a static test string&#39; for variable &#39;static string&#39;","body":"Second system.out.print have to show &#39; This is a static test string&#39; for variable &#39;static string&#39;"}],"owner":{"account_id":24053809,"reputation":7,"user_id":21852888,"display_name":"ra1n89"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702013910,"answer_count":0,"score":-3,"last_activity_date":1701874542,"creation_date":1701874542,"question_id":77614157,"body_markdown":"My task is to serialize static variable. So I added to methods `serializeStatic` and `deserializeStatic`. \r\n\r\nSo my ouput is \r\n\r\n&gt; ClassWithStatic{i=5, j=6} static field=This is a static test string\r\n&gt; \r\n&gt; ClassWithStatic{i=5, j=6} static field=gfhgf\r\n&gt; \r\n&gt; ClassWithStatic{i=7, j=8} static field=gfhgf\r\n\r\n\r\nI also used method construction like this\r\n\r\n    private void writeObject(ObjectOutputStream out) throws IOException {\r\n        out.defaultWriteObject();\r\n        out.writeObject(staticString);\r\n    }\r\n    \r\n    private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException {\r\n        in.defaultReadObject();\r\n        staticString = (String) in.readObject();\r\n    }\r\n\r\nIt didnt help. The output the same. What is the problem can be here?\r\n\r\n\r\n\r\n    public class Solution {\r\n        public static class ClassWithStatic implements Serializable {\r\n            public static String staticString = &quot;This is a static test string&quot;;\r\n            public int i;\r\n            public int j;\r\n    \r\n            public ClassWithStatic(String staticString, int i, int j) {\r\n                this.i = i;\r\n                this.j = j;\r\n                ClassWithStatic.staticString = staticString;\r\n            }\r\n    \r\n            public ClassWithStatic(int i, int j) {\r\n                this.i = i;\r\n                this.j = j;\r\n    \r\n            }\r\n    \r\n            public static void serializeStatic(ObjectOutputStream objectOutputStream) throws IOException {\r\n    \r\n                objectOutputStream.writeObject(staticString);\r\n                \r\n            }\r\n    \r\n            public static void deserializeStatic(ObjectInputStream objectInputStream) throws IOException, ClassNotFoundException {\r\n    \r\n                staticString = (String)objectInputStream.readObject();\r\n                System.out.println(&quot;!!!&quot;+staticString);\r\n    \r\n            }\r\n            @Override\r\n            public String toString() {\r\n                return &quot;ClassWithStatic{&quot; +\r\n                        &quot;i=&quot; + i +\r\n                        &quot;, j=&quot; + j +\r\n                        &#39;}&#39; +\r\n                        &quot; static field=&quot; + staticString;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n            ObjectOutputStream objectOutputStream = new ObjectOutputStream(new FileOutputStream(&quot;2009.txt&quot;));\r\n            ClassWithStatic classWithStatic = new ClassWithStatic(5,6);\r\n            ClassWithStatic.serializeStatic(objectOutputStream);\r\n    \r\n            objectOutputStream.writeObject(classWithStatic);\r\n    \r\n            ObjectInputStream objectInputStream = new ObjectInputStream(new FileInputStream(&quot;2009.txt&quot;));\r\n            ClassWithStatic.deserializeStatic(objectInputStream);\r\n            Object o = objectInputStream.readObject();\r\n            System.out.println(o);\r\n    \r\n            objectOutputStream.writeObject(new ClassWithStatic(&quot;gfhgf&quot;, 7,8));\r\n    \r\n    \r\n    \r\n            Object j = objectInputStream.readObject();\r\n            System.out.println(o);\r\n            System.out.println(j);\r\n        }\r\n    }\r\n\r\n","title":"I added Serialization methods to static string var, but they don&#39;t work","body":"<p>My task is to serialize static variable. So I added to methods <code>serializeStatic</code> and <code>deserializeStatic</code>.</p>\n<p>So my ouput is</p>\n<blockquote>\n<p>ClassWithStatic{i=5, j=6} static field=This is a static test string</p>\n<p>ClassWithStatic{i=5, j=6} static field=gfhgf</p>\n<p>ClassWithStatic{i=7, j=8} static field=gfhgf</p>\n</blockquote>\n<p>I also used method construction like this</p>\n<pre><code>private void writeObject(ObjectOutputStream out) throws IOException {\n    out.defaultWriteObject();\n    out.writeObject(staticString);\n}\n\nprivate void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException {\n    in.defaultReadObject();\n    staticString = (String) in.readObject();\n}\n</code></pre>\n<p>It didnt help. The output the same. What is the problem can be here?</p>\n<pre><code>public class Solution {\n    public static class ClassWithStatic implements Serializable {\n        public static String staticString = &quot;This is a static test string&quot;;\n        public int i;\n        public int j;\n\n        public ClassWithStatic(String staticString, int i, int j) {\n            this.i = i;\n            this.j = j;\n            ClassWithStatic.staticString = staticString;\n        }\n\n        public ClassWithStatic(int i, int j) {\n            this.i = i;\n            this.j = j;\n\n        }\n\n        public static void serializeStatic(ObjectOutputStream objectOutputStream) throws IOException {\n\n            objectOutputStream.writeObject(staticString);\n            \n        }\n\n        public static void deserializeStatic(ObjectInputStream objectInputStream) throws IOException, ClassNotFoundException {\n\n            staticString = (String)objectInputStream.readObject();\n            System.out.println(&quot;!!!&quot;+staticString);\n\n        }\n        @Override\n        public String toString() {\n            return &quot;ClassWithStatic{&quot; +\n                    &quot;i=&quot; + i +\n                    &quot;, j=&quot; + j +\n                    '}' +\n                    &quot; static field=&quot; + staticString;\n        }\n    }\n\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\n        ObjectOutputStream objectOutputStream = new ObjectOutputStream(new FileOutputStream(&quot;2009.txt&quot;));\n        ClassWithStatic classWithStatic = new ClassWithStatic(5,6);\n        ClassWithStatic.serializeStatic(objectOutputStream);\n\n        objectOutputStream.writeObject(classWithStatic);\n\n        ObjectInputStream objectInputStream = new ObjectInputStream(new FileInputStream(&quot;2009.txt&quot;));\n        ClassWithStatic.deserializeStatic(objectInputStream);\n        Object o = objectInputStream.readObject();\n        System.out.println(o);\n\n        objectOutputStream.writeObject(new ClassWithStatic(&quot;gfhgf&quot;, 7,8));\n\n\n\n        Object j = objectInputStream.readObject();\n        System.out.println(o);\n        System.out.println(j);\n    }\n}\n</code></pre>\n"},{"tags":["java","microsoft-graph-api","outlook-graph-api"],"answers":[{"tags":[],"owner":{"account_id":6848018,"reputation":63,"user_id":5266119,"display_name":"Barry Gervin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676127914,"creation_date":1676127914,"answer_id":75421065,"question_id":75418889,"body_markdown":"Might be better to scan your list first (cache up your updates), and then batch the updates together after you&#39;ve iterated the list. Aside from fixing your problem, probably more efficient as well. \r\n\r\nBarry Gervin","title":"Fetch List of messages using message id of 500 mails using java","body":"<p>Might be better to scan your list first (cache up your updates), and then batch the updates together after you've iterated the list. Aside from fixing your problem, probably more efficient as well.</p>\n<p>Barry Gervin</p>\n"},{"tags":[],"owner":{"account_id":24821646,"reputation":11,"user_id":18701926,"display_name":"AlainC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701874506,"creation_date":1701869599,"answer_id":77613501,"question_id":75418889,"body_markdown":"you get a list of IDs with for example \r\n    \r\n\r\n    final MessageCollectionPage messagePage = graphClient.users().byId(bal).messages().buildRequest().top(10).select(&quot;subject,sentDateTime,internetMessageHeaders,internetMessageId&quot;).expand(&quot;singleValueExtendedProperties($filter=Id eq &#39;LONG 0x0E08&#39;)&quot;).get();\r\n\r\nthen you get and process the mails contents in parallel :\r\n\r\n    for (Message msg : messagePage.getCurrentPage()) {\r\n\tgraphClient.users().byId(bal).messages(msg.id).content().buildRequest().getAsync()\r\n\t\t.thenApply(inputStream -&gt; {\r\n\t\t\t(...process...)\r\n\t\t})\r\n\t\t.thenApply(o -&gt; {\r\n\t\t\t//delete mail\r\n\t\t\tgraphClient.users().byId(bal).messages(msg.id).buildRequest().delete();\r\n\t});\r\n    }\r\n\r\nIt should be faster.\r\n\r\n","title":"Fetch List of messages using message id of 500 mails using java","body":"<p>you get a list of IDs with for example</p>\n<pre><code>final MessageCollectionPage messagePage = graphClient.users().byId(bal).messages().buildRequest().top(10).select(&quot;subject,sentDateTime,internetMessageHeaders,internetMessageId&quot;).expand(&quot;singleValueExtendedProperties($filter=Id eq 'LONG 0x0E08')&quot;).get();\n</code></pre>\n<p>then you get and process the mails contents in parallel :</p>\n<pre><code>for (Message msg : messagePage.getCurrentPage()) {\ngraphClient.users().byId(bal).messages(msg.id).content().buildRequest().getAsync()\n    .thenApply(inputStream -&gt; {\n        (...process...)\n    })\n    .thenApply(o -&gt; {\n        //delete mail\n        graphClient.users().byId(bal).messages(msg.id).buildRequest().delete();\n});\n}\n</code></pre>\n<p>It should be faster.</p>\n"}],"owner":{"account_id":5338579,"reputation":89,"user_id":4256613,"display_name":"Afsar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701874506,"creation_date":1676103236,"question_id":75418889,"body_markdown":"As per documentation we have two ways to fetch mails using Graph api.\r\n1) Using $filter with .top(int ) we can fetch list of messages.\r\n2) Using message id we can fetch a single mail.\r\n\r\nI have 50000 mails in my folder. I am using pageSize=500.Its working fine.\r\nNow I also want to move/delete/change status of a mail based on some criteria.\r\n\r\nAfter performing update operation(move/delete/change status) my next page is getting disturbed. Its skipping few mail because in next page top is used.\r\n\r\nFor example : I have 25 mails in folder, I am using $filter with page size=3, top(3) so that only 15 mails are eligible for filtration. Now in each page I am getting 3 mails.\r\n\r\nNow when I apply any update operation , after that I am not getting expected mails in next page. Some mails are getting skipped.\r\n\r\nAny idea how we can over come this?\r\n\r\nMY APPROACH: Fetch all message ids and keeping it in my cache.\r\nFrom next time onwards, I am using these message ids and fetching mails one by one.\r\n\r\nNow the issue is that fetching 500 mails one by one is hitting performance badly. \r\nDo we have any api where we can send list of message ids and get List of messages?\r\n\r\nOr\r\n\r\nDo we have any settings such that next page fetching query will start from exactly next item.\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n","title":"Fetch List of messages using message id of 500 mails using java","body":"<p>As per documentation we have two ways to fetch mails using Graph api.</p>\n<ol>\n<li>Using $filter with .top(int ) we can fetch list of messages.</li>\n<li>Using message id we can fetch a single mail.</li>\n</ol>\n<p>I have 50000 mails in my folder. I am using pageSize=500.Its working fine.\nNow I also want to move/delete/change status of a mail based on some criteria.</p>\n<p>After performing update operation(move/delete/change status) my next page is getting disturbed. Its skipping few mail because in next page top is used.</p>\n<p>For example : I have 25 mails in folder, I am using $filter with page size=3, top(3) so that only 15 mails are eligible for filtration. Now in each page I am getting 3 mails.</p>\n<p>Now when I apply any update operation , after that I am not getting expected mails in next page. Some mails are getting skipped.</p>\n<p>Any idea how we can over come this?</p>\n<p>MY APPROACH: Fetch all message ids and keeping it in my cache.\nFrom next time onwards, I am using these message ids and fetching mails one by one.</p>\n<p>Now the issue is that fetching 500 mails one by one is hitting performance badly.\nDo we have any api where we can send list of message ids and get List of messages?</p>\n<p>Or</p>\n<p>Do we have any settings such that next page fetching query will start from exactly next item.</p>\n"},{"tags":["java","multithreading","cassandra-3.0","janusgraph"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701874333,"creation_date":1701873964,"answer_id":77614076,"question_id":77611037,"body_markdown":"It is not entirely clear what you are asking here.\r\n\r\n---------------------\r\n\r\nIf you are asking for how to solve the OOME problem, then that is a simple problem.  Just increase the heap size.  However, that has its limits.\r\n\r\n---------------------\r\n\r\nIf you are asking how to avoid having multiple threads process events for the same client simultaneously, then the natural way to do this is to have a separate event queue for each client, and use a thread per client to process a given client&#39;s events.\r\n\r\nWhen the number clients is small and static, you can have one worker thread and one event queue for each client.  A dispatcher thread accepts the events and simply adds them to the corresponding client&#39;s queue.  The worker threads simply pull events from their client queue and processes them one at a time.\r\n\r\nWhen the number of clients is large and/or new clients are added dynamically, one solution is to use a thread pool and a shared `Map&lt;Client, Queue&lt;Event&gt;&gt;`\r\n\r\n  - The dispatcher thread does the following:\r\n\r\n        while true:\r\n            event = accept\r\n\r\n            if event.client in map:\r\n                queue = map.get(event.client)\r\n                queue.add(event)\r\n            else:\r\n                queue = new Queue\r\n                queue.add(event)\r\n                map.put(event.client, queue)\r\n                pool.submit(new Task(queue))\r\n\r\n   - The tasks do the following\r\n     \r\n         while not queue.is_empty:\r\n             event = queue.take\r\n             process event\r\n\r\n         map.remove(event.client)\r\n\r\nThis should ensure that only one pool thread is processing events for any client at a time.  But if you get a burst of events from a client, they will be given priority ... until they are all processed.\r\n\r\nNote the above pseudo-code will need to be refined to deal with race conditions, etcetera.","title":"Facing java.lang.OutOfMemoryError: Java heap space issue when using multi-threading with JanusGraph","body":"<p>It is not entirely clear what you are asking here.</p>\n<hr />\n<p>If you are asking for how to solve the OOME problem, then that is a simple problem.  Just increase the heap size.  However, that has its limits.</p>\n<hr />\n<p>If you are asking how to avoid having multiple threads process events for the same client simultaneously, then the natural way to do this is to have a separate event queue for each client, and use a thread per client to process a given client's events.</p>\n<p>When the number clients is small and static, you can have one worker thread and one event queue for each client.  A dispatcher thread accepts the events and simply adds them to the corresponding client's queue.  The worker threads simply pull events from their client queue and processes them one at a time.</p>\n<p>When the number of clients is large and/or new clients are added dynamically, one solution is to use a thread pool and a shared <code>Map&lt;Client, Queue&lt;Event&gt;&gt;</code></p>\n<ul>\n<li><p>The dispatcher thread does the following:</p>\n<pre><code>while true:\n    event = accept\n\n    if event.client in map:\n        queue = map.get(event.client)\n        queue.add(event)\n    else:\n        queue = new Queue\n        queue.add(event)\n        map.put(event.client, queue)\n        pool.submit(new Task(queue))\n</code></pre>\n</li>\n<li><p>The tasks do the following</p>\n<pre><code>while not queue.is_empty:\n    event = queue.take\n    process event\n\nmap.remove(event.client)\n</code></pre>\n</li>\n</ul>\n<p>This should ensure that only one pool thread is processing events for any client at a time.  But if you get a burst of events from a client, they will be given priority ... until they are all processed.</p>\n<p>Note the above pseudo-code will need to be refined to deal with race conditions, etcetera.</p>\n"}],"owner":{"account_id":30078038,"reputation":1,"user_id":23050333,"display_name":"Prabha Ch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":1,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701867669,"answer_count":1,"score":-1,"last_activity_date":1701874333,"creation_date":1701845197,"question_id":77611037,"body_markdown":"`I am currently working on data ingestion into JanusGraph using a multi-threading approach. In my use case, I am reading data from Kafka streams, and the goal is to ingest data into a graph based on the client name. The data is client-specific, and there are separate graphs for different clients. Each thread is responsible for processing and ingesting one event at a time. However, there is a scenario where multiple events with the same client name are sent to the Kafka stream, leading to multiple threads attempting to ingest data into the same graph.\r\n\r\nI have implemented two different approaches for creating graph instances in this context. I am seeking advice and insights from the JanusGraph community on how to effectively handle this scenario and ensure proper data ingestion into the graph in a multi-threaded environment.\r\n Details of the approach and the java implementation is provided in &lt;https://github.com/JanusGraph/janusgraph/discussions/4174&gt;\r\nCan someone please help me with resolving the issue?","title":"Facing java.lang.OutOfMemoryError: Java heap space issue when using multi-threading with JanusGraph","body":"<p>`I am currently working on data ingestion into JanusGraph using a multi-threading approach. In my use case, I am reading data from Kafka streams, and the goal is to ingest data into a graph based on the client name. The data is client-specific, and there are separate graphs for different clients. Each thread is responsible for processing and ingesting one event at a time. However, there is a scenario where multiple events with the same client name are sent to the Kafka stream, leading to multiple threads attempting to ingest data into the same graph.</p>\n<p>I have implemented two different approaches for creating graph instances in this context. I am seeking advice and insights from the JanusGraph community on how to effectively handle this scenario and ensure proper data ingestion into the graph in a multi-threaded environment.\nDetails of the approach and the java implementation is provided in <a href=\"https://github.com/JanusGraph/janusgraph/discussions/4174\" rel=\"nofollow noreferrer\">https://github.com/JanusGraph/janusgraph/discussions/4174</a>\nCan someone please help me with resolving the issue?</p>\n"},{"tags":["java","spring","spring-boot","spring-integration","smb"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701874333,"creation_date":1701874333,"answer_id":77614133,"question_id":77597618,"body_markdown":"Confirmed as a bug: https://github.com/spring-projects/spring-integration/issues/8800.\r\n\r\nWill be fixed in the next version.\r\n\r\nAs a workaround you can try to implement this `MGET` functionality yourself using `SmbRemoteFileTemplate`.\r\n\r\nOn the other hand you can try to use the whole remote directory name instead of empty input as you have right now. That&#39;s, essentially, how we have missed the problem with plain file name for SMB instead of expected with sub-directories when we fetch recursively. \r\n\r\nWhen we have a this or that fix for the MGET, let&#39;s chat about `MPUT` part in a separate SO thread!","title":"Error in downloading files from file server with Spring-Integration","body":"<p>Confirmed as a bug: <a href=\"https://github.com/spring-projects/spring-integration/issues/8800\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-integration/issues/8800</a>.</p>\n<p>Will be fixed in the next version.</p>\n<p>As a workaround you can try to implement this <code>MGET</code> functionality yourself using <code>SmbRemoteFileTemplate</code>.</p>\n<p>On the other hand you can try to use the whole remote directory name instead of empty input as you have right now. That's, essentially, how we have missed the problem with plain file name for SMB instead of expected with sub-directories when we fetch recursively.</p>\n<p>When we have a this or that fix for the MGET, let's chat about <code>MPUT</code> part in a separate SO thread!</p>\n"}],"owner":{"account_id":12669836,"reputation":1373,"user_id":9207732,"accept_rate":100,"display_name":"Patrick C."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77614133,"answer_count":1,"score":0,"last_activity_date":1701874333,"creation_date":1701672691,"question_id":77597618,"body_markdown":"Following the Spring guidelines, I was trying to use a SmbOutboundGateway from the spring-integration-smb library to download everything (whole structure, directory + files) at the remote file server specified by the SessionFactory.&lt;br/&gt;\r\nRef.&lt;br/&gt;\r\nhttps://docs.spring.io/spring-integration/reference/smb.html#using-the-mget-command &lt;br/&gt;\r\nhttps://docs.spring.io/spring-integration/reference/smb.html#outbound-gateway-java-dsl\r\n     \r\n\r\nHowever when I try to run the flow, it failed in between.\r\n\r\n**Source**\r\n\r\n\r\n\timport jcifs.DialectVersion;\r\n\timport org.springframework.context.annotation.Bean;\r\n\timport org.springframework.context.annotation.Configuration;\r\n\timport org.springframework.integration.annotation.Gateway;\r\n\timport org.springframework.integration.annotation.MessagingGateway;\r\n\timport org.springframework.integration.dsl.IntegrationFlow;\r\n\timport org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway;\r\n\timport org.springframework.integration.smb.dsl.Smb;\r\n\timport org.springframework.integration.smb.dsl.SmbOutboundGatewaySpec;\r\n\timport org.springframework.integration.smb.session.SmbSessionFactory;\r\n\r\n\timport java.io.File;\r\n\r\n\t@Configuration\r\n\tpublic class SmbConfig {\r\n\r\n\t\t@Bean\r\n\t\tpublic SmbSessionFactory smbSessionFactory() {\r\n\t\t\tSmbSessionFactory smbSession = new SmbSessionFactory();\r\n\t\t\tsmbSession.setHost(&quot;myhost&quot;);\r\n\t\t\tsmbSession.setPort(445);\r\n\t\t\tsmbSession.setDomain(&quot;mydomain&quot;);\r\n\t\t\tsmbSession.setUsername(&quot;myusername&quot;);\r\n\t\t\tsmbSession.setPassword(&quot;mypassword&quot;);\r\n\t\t\tsmbSession.setShareAndDir(&quot;pccommon/Patrick/&quot;);\r\n\t\t\tsmbSession.setSmbMinVersion(DialectVersion.SMB210);\r\n\t\t\tsmbSession.setSmbMaxVersion(DialectVersion.SMB311);\r\n\t\t\treturn smbSession;\r\n\t\t}\r\n\r\n\t\t@MessagingGateway\r\n\t\tpublic interface MyGateway {\r\n\r\n\t\t\t@Gateway(requestChannel = &quot;testChannel&quot;)\r\n\t\t\tvoid test(String path);\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic SmbOutboundGatewaySpec downloadFileGateway() {\r\n\t\t\treturn Smb.outboundGateway(smbSessionFactory(),\r\n\t\t\t\t\t\t\tAbstractRemoteFileOutboundGateway.Command.MGET, &quot;payload&quot;)\r\n\t\t\t\t\t.options(AbstractRemoteFileOutboundGateway.Option.RECURSIVE)\r\n\t\t\t\t\t.localDirectory(new File(&quot;&quot; +\r\n\t\t\t\t\t\t\t&quot;/media/sf_linuxshare/Test&quot;));\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic SmbOutboundGatewaySpec uploadFileGateway() {\r\n\t\t\treturn Smb.outboundGateway(smbSessionFactory(),\r\n\t\t\t\t\t\t\tAbstractRemoteFileOutboundGateway.Command.MPUT, &quot;&#39;/&#39;&quot;)\r\n\t\t\t\t\t.options(AbstractRemoteFileOutboundGateway.Option.RECURSIVE)\r\n\t\t\t\t\t.regexFileNameFilter(&quot;.*\\\\.xml$&quot;)\r\n\t\t\t\t\t.remoteDirectoryExpression(&quot;&#39;/uploaded&#39;&quot;);\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic IntegrationFlow testFlow() {\r\n\t\t\treturn IntegrationFlow.from(&quot;testChannel&quot;)\r\n\t\t\t\t\t.handle(downloadFileGateway())\r\n\t\t\t\t\t.handle(uploadFileGateway())\r\n\t//                .channel(c -&gt; c.queue(&quot;uploadFileOutputChannel&quot;))\r\n\t\t\t\t\t.get();\r\n\t\t}\r\n\t}\r\n\r\n\r\n**Objective**\r\n\r\nI was expecting that any folders and underlying files under the remote file server would be copied to local after the download flow, i.e. having the following as a result:&lt;br/&gt;\r\n/media/sf_linuxshare/Test/Test_From_Remote/a.xml&lt;br/&gt;\r\n/media/sf_linuxshare/Test/Test_From_Remote/b.xml\r\n\r\n\r\n**Before run**\r\n[![enter image description here][1]][1]\r\n\r\n**After run (actual result)**\r\n[![enter image description here][2]][2]\r\n\r\n**Observations**\r\n\r\n1. It complained that the target files are not files\r\n\r\n Caused by: java.io.IOException: [a.xml] is not a file.\r\n\r\n\r\n\t\t2023-12-04 17:27:46.225  INFO 26615 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n\t\t2023-12-04 17:27:46.225  INFO 26615 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n\t\t2023-12-04 17:27:46.226  INFO 26615 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n\t\t2023-12-04 17:27:46.354  INFO 26615 --- [nio-8080-exec-2] o.s.i.smb.session.SmbSessionFactory      : SMB share init: hprifil0005.corp.auspost.local:445/pccommon/Patrick/\r\n\t\t2023-12-04 17:27:53.008  WARN 26615 --- [nio-8080-exec-2] o.s.i.smb.outbound.SmbOutboundGateway    : File name pattern must be &#39;*&#39; when using recursion\r\n\t\t2023-12-04 17:27:53.069  INFO 26615 --- [nio-8080-exec-2] o.s.integration.smb.session.SmbSession   : Successfully listed 1 in [null].\r\n\t\t2023-12-04 17:27:53.141  INFO 26615 --- [nio-8080-exec-2] o.s.integration.smb.session.SmbSession   : Successfully listed 2 in [./Test_From_Remote//].\r\n\t\t2023-12-04 17:27:53.331  WARN 26615 --- [nio-8080-exec-2] a.c.a.c.c.e.CustomRestExceptionHandler   : 0a8315f8-9547-4f44-969a-02f292be017f org.springframework.messaging.MessageHandlingException: Failure occurred while copying from remote to local directory, failedMessage=GenericMessage [payload=, headers={replyChannel=nullChannel, errorChannel=, id=026be840-5e21-32c1-c894-b6759f40c043, timestamp=1701671266279}]\r\n\r\n\t\torg.springframework.messaging.MessageHandlingException: Failure occurred while copying from remote to local directory\r\n\t\t\tat org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\r\n\t\t\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.get(AbstractRemoteFileOutboundGateway.java:1135)\r\n\t\t\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.getRemoteFileForMget(AbstractRemoteFileOutboundGateway.java:1289)\r\n\t\t\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.mGetWithRecursion(AbstractRemoteFileOutboundGateway.java:1251)\r\n\t\t\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.mGet(AbstractRemoteFileOutboundGateway.java:1192)\r\n\t\t\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.lambda$doMget$9(AbstractRemoteFileOutboundGateway.java:691)\r\n\t\t\tat org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:452)\r\n\t\t\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.doMget(AbstractRemoteFileOutboundGateway.java:690)\r\n\t\t\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.handleRequestMessage(AbstractRemoteFileOutboundGateway.java:586)\r\n\t\t\tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:136)\r\n\t\t\tat org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\r\n\t\t\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)\r\n\t\t\tat org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\r\n\t\t\tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\r\n\t\t\tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\r\n\t\t\tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\r\n\t\t\tat org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\r\n\t\t\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:327)\r\n\t\t\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:297)\r\n\t\t\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\t\t\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\t\t\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\t\t\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\t\t\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)\r\n\t\t\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:143)\r\n\t\t\tat org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:467)\r\n\t\t\tat org.springframework.integration.gateway.GatewayProxyFactoryBean.sendOrSendAndReceive(GatewayProxyFactoryBean.java:669)\r\n\t\t\tat org.springframework.integration.gateway.GatewayProxyFactoryBean.invokeGatewayMethod(GatewayProxyFactoryBean.java:584)\r\n\t\t\tat org.springframework.integration.gateway.GatewayProxyFactoryBean.doInvoke(GatewayProxyFactoryBean.java:550)\r\n\t\t\tat org.springframework.integration.gateway.GatewayProxyFactoryBean.invoke(GatewayProxyFactoryBean.java:540)\r\n\t\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\t\t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\t\t\tat jdk.proxy3/jdk.proxy3.$Proxy78.test(Unknown Source)\r\n\t\t\tat au.com.auspost.cbg.web.controller.HealthCheckController.mobilestarHealthCheck(HealthCheckController.java:134)\r\n\t\t\tat au.com.auspost.cbg.web.controller.HealthCheckController.createHealthCheckText(HealthCheckController.java:84)\r\n\t\t\tat au.com.auspost.cbg.web.controller.HealthCheckController.healthCheck(HealthCheckController.java:67)\r\n\t\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\t\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\r\n\t\t\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\r\n\t\t\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\t\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n\t\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n\t\t\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\t\t\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n\t\t\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n\t\t\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n\t\t\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\t\t\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\t\t\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\t\t\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\t\tat org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289)\r\n\t\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\t\tat org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\r\n\t\t\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\r\n\t\t\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:170)\r\n\t\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\r\n\t\t\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\t\t\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\t\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\r\n\t\t\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n\t\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n\t\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n\t\t\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n\t\t\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\r\n\t\t\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\t\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\t\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\t\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\t\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\t\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\t\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\t\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\t\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)\r\n\t\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\t\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n\t\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\t\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\t\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\t\t\tat org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:738)\r\n\t\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\r\n\t\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\r\n\t\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\t\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\r\n\t\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\r\n\t\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\t\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\t\tat java.base/java.lang.Thread.run(Thread.java:840)\r\n\t\tCaused by: java.io.IOException: [a.xml] is not a file.\r\n\t\t\tat org.springframework.integration.smb.session.SmbSession.read(SmbSession.java:204)\r\n\t\t\tat org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.get(AbstractRemoteFileOutboundGateway.java:1124)\r\n\t\t\t... 130 common frames omitted\r\n\r\n\t\t2023-12-04 17:27:53.392  WARN 26615 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.messaging.MessageHandlingException: Failure occurred while copying from remote to local directory, failedMessage=GenericMessage [payload=, headers={replyChannel=nullChannel, errorChannel=, id=026be840-5e21-32c1-c894-b6759f40c043, timestamp=1701671266279}]]\r\n&lt;br/&gt;\r\n2. It tried to rename the target files (it suffixed it with the containing folder name) which I am not sure why this was performed.\r\ni.e. it renamed the files to &quot;a.xmlTest_From_Remote&quot;, &quot;b.xmlTest_From_Remote&quot;\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\nThanks in advance for any insights.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wK05r.png\r\n  [2]: https://i.stack.imgur.com/n83Yw.png","title":"Error in downloading files from file server with Spring-Integration","body":"<p>Following the Spring guidelines, I was trying to use a SmbOutboundGateway from the spring-integration-smb library to download everything (whole structure, directory + files) at the remote file server specified by the SessionFactory.<br/>\nRef.<br/>\n<a href=\"https://docs.spring.io/spring-integration/reference/smb.html#using-the-mget-command\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/smb.html#using-the-mget-command</a> <br/>\n<a href=\"https://docs.spring.io/spring-integration/reference/smb.html#outbound-gateway-java-dsl\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/smb.html#outbound-gateway-java-dsl</a></p>\n<p>However when I try to run the flow, it failed in between.</p>\n<p><strong>Source</strong></p>\n<pre><code>import jcifs.DialectVersion;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.integration.annotation.Gateway;\nimport org.springframework.integration.annotation.MessagingGateway;\nimport org.springframework.integration.dsl.IntegrationFlow;\nimport org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway;\nimport org.springframework.integration.smb.dsl.Smb;\nimport org.springframework.integration.smb.dsl.SmbOutboundGatewaySpec;\nimport org.springframework.integration.smb.session.SmbSessionFactory;\n\nimport java.io.File;\n\n@Configuration\npublic class SmbConfig {\n\n    @Bean\n    public SmbSessionFactory smbSessionFactory() {\n        SmbSessionFactory smbSession = new SmbSessionFactory();\n        smbSession.setHost(&quot;myhost&quot;);\n        smbSession.setPort(445);\n        smbSession.setDomain(&quot;mydomain&quot;);\n        smbSession.setUsername(&quot;myusername&quot;);\n        smbSession.setPassword(&quot;mypassword&quot;);\n        smbSession.setShareAndDir(&quot;pccommon/Patrick/&quot;);\n        smbSession.setSmbMinVersion(DialectVersion.SMB210);\n        smbSession.setSmbMaxVersion(DialectVersion.SMB311);\n        return smbSession;\n    }\n\n    @MessagingGateway\n    public interface MyGateway {\n\n        @Gateway(requestChannel = &quot;testChannel&quot;)\n        void test(String path);\n    }\n\n    @Bean\n    public SmbOutboundGatewaySpec downloadFileGateway() {\n        return Smb.outboundGateway(smbSessionFactory(),\n                        AbstractRemoteFileOutboundGateway.Command.MGET, &quot;payload&quot;)\n                .options(AbstractRemoteFileOutboundGateway.Option.RECURSIVE)\n                .localDirectory(new File(&quot;&quot; +\n                        &quot;/media/sf_linuxshare/Test&quot;));\n    }\n\n    @Bean\n    public SmbOutboundGatewaySpec uploadFileGateway() {\n        return Smb.outboundGateway(smbSessionFactory(),\n                        AbstractRemoteFileOutboundGateway.Command.MPUT, &quot;'/'&quot;)\n                .options(AbstractRemoteFileOutboundGateway.Option.RECURSIVE)\n                .regexFileNameFilter(&quot;.*\\\\.xml$&quot;)\n                .remoteDirectoryExpression(&quot;'/uploaded'&quot;);\n    }\n\n    @Bean\n    public IntegrationFlow testFlow() {\n        return IntegrationFlow.from(&quot;testChannel&quot;)\n                .handle(downloadFileGateway())\n                .handle(uploadFileGateway())\n//                .channel(c -&gt; c.queue(&quot;uploadFileOutputChannel&quot;))\n                .get();\n    }\n}\n</code></pre>\n<p><strong>Objective</strong></p>\n<p>I was expecting that any folders and underlying files under the remote file server would be copied to local after the download flow, i.e. having the following as a result:<br/>\n/media/sf_linuxshare/Test/Test_From_Remote/a.xml<br/>\n/media/sf_linuxshare/Test/Test_From_Remote/b.xml</p>\n<p><strong>Before run</strong>\n<a href=\"https://i.stack.imgur.com/wK05r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wK05r.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>After run (actual result)</strong>\n<a href=\"https://i.stack.imgur.com/n83Yw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n83Yw.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Observations</strong></p>\n<ol>\n<li>It complained that the target files are not files</li>\n</ol>\n<p>Caused by: java.io.IOException: [a.xml] is not a file.</p>\n<pre><code>    2023-12-04 17:27:46.225  INFO 26615 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n    2023-12-04 17:27:46.225  INFO 26615 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n    2023-12-04 17:27:46.226  INFO 26615 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n    2023-12-04 17:27:46.354  INFO 26615 --- [nio-8080-exec-2] o.s.i.smb.session.SmbSessionFactory      : SMB share init: hprifil0005.corp.auspost.local:445/pccommon/Patrick/\n    2023-12-04 17:27:53.008  WARN 26615 --- [nio-8080-exec-2] o.s.i.smb.outbound.SmbOutboundGateway    : File name pattern must be '*' when using recursion\n    2023-12-04 17:27:53.069  INFO 26615 --- [nio-8080-exec-2] o.s.integration.smb.session.SmbSession   : Successfully listed 1 in [null].\n    2023-12-04 17:27:53.141  INFO 26615 --- [nio-8080-exec-2] o.s.integration.smb.session.SmbSession   : Successfully listed 2 in [./Test_From_Remote//].\n    2023-12-04 17:27:53.331  WARN 26615 --- [nio-8080-exec-2] a.c.a.c.c.e.CustomRestExceptionHandler   : 0a8315f8-9547-4f44-969a-02f292be017f org.springframework.messaging.MessageHandlingException: Failure occurred while copying from remote to local directory, failedMessage=GenericMessage [payload=, headers={replyChannel=nullChannel, errorChannel=, id=026be840-5e21-32c1-c894-b6759f40c043, timestamp=1701671266279}]\n\n    org.springframework.messaging.MessageHandlingException: Failure occurred while copying from remote to local directory\n        at org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\n        at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.get(AbstractRemoteFileOutboundGateway.java:1135)\n        at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.getRemoteFileForMget(AbstractRemoteFileOutboundGateway.java:1289)\n        at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.mGetWithRecursion(AbstractRemoteFileOutboundGateway.java:1251)\n        at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.mGet(AbstractRemoteFileOutboundGateway.java:1192)\n        at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.lambda$doMget$9(AbstractRemoteFileOutboundGateway.java:691)\n        at org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:452)\n        at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.doMget(AbstractRemoteFileOutboundGateway.java:690)\n        at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.handleRequestMessage(AbstractRemoteFileOutboundGateway.java:586)\n        at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:136)\n        at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\n        at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:73)\n        at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\n        at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\n        at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\n        at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\n        at org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\n        at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:327)\n        at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:297)\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n        at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n        at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:151)\n        at org.springframework.messaging.core.AbstractMessageSendingTemplate.convertAndSend(AbstractMessageSendingTemplate.java:143)\n        at org.springframework.integration.gateway.MessagingGatewaySupport.send(MessagingGatewaySupport.java:467)\n        at org.springframework.integration.gateway.GatewayProxyFactoryBean.sendOrSendAndReceive(GatewayProxyFactoryBean.java:669)\n        at org.springframework.integration.gateway.GatewayProxyFactoryBean.invokeGatewayMethod(GatewayProxyFactoryBean.java:584)\n        at org.springframework.integration.gateway.GatewayProxyFactoryBean.doInvoke(GatewayProxyFactoryBean.java:550)\n        at org.springframework.integration.gateway.GatewayProxyFactoryBean.invoke(GatewayProxyFactoryBean.java:540)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\n        at jdk.proxy3/jdk.proxy3.$Proxy78.test(Unknown Source)\n        at au.com.auspost.cbg.web.controller.HealthCheckController.mobilestarHealthCheck(HealthCheckController.java:134)\n        at au.com.auspost.cbg.web.controller.HealthCheckController.createHealthCheckText(HealthCheckController.java:84)\n        at au.com.auspost.cbg.web.controller.HealthCheckController.healthCheck(HealthCheckController.java:67)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:289)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\n        at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:170)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n        at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n        at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:738)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:840)\n    Caused by: java.io.IOException: [a.xml] is not a file.\n        at org.springframework.integration.smb.session.SmbSession.read(SmbSession.java:204)\n        at org.springframework.integration.file.remote.gateway.AbstractRemoteFileOutboundGateway.get(AbstractRemoteFileOutboundGateway.java:1124)\n        ... 130 common frames omitted\n\n    2023-12-04 17:27:53.392  WARN 26615 --- [nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.messaging.MessageHandlingException: Failure occurred while copying from remote to local directory, failedMessage=GenericMessage [payload=, headers={replyChannel=nullChannel, errorChannel=, id=026be840-5e21-32c1-c894-b6759f40c043, timestamp=1701671266279}]]\n</code></pre>\n<br/>\n2. It tried to rename the target files (it suffixed it with the containing folder name) which I am not sure why this was performed.\ni.e. it renamed the files to \"a.xmlTest_From_Remote\", \"b.xmlTest_From_Remote\"\n<br/>\n<br/>\nThanks in advance for any insights.\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1249338782,"post_id":1224934,"comment_id":1050115,"body_markdown":"Can you show your code? That should match 06:30, providing everything else is in order.","body":"Can you show your code? That should match 06:30, providing everything else is in order."}],"answers":[{"tags":[],"owner":{"account_id":41545,"reputation":52021,"user_id":120808,"accept_rate":90,"display_name":"Adam Batkin"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1249340717,"creation_date":1249339616,"answer_id":1224987,"question_id":1224934,"body_markdown":"The `matcher.group()` function expects to take a single integer argument: The capturing group index, starting from 1. The index 0 is special, which means &quot;the entire match&quot;. A capturing group is created using a pair of parenthesis &quot;`(...)`&quot;. Anything within the parenthesis is captures. Groups are numbered from left to right (again, starting from 1), by opening parenthesis (which means that groups can overlap). Since there are no parenthesis in your regular expression, there can be no group 1.\r\n\r\nThe javadoc on the [Pattern][1] class covers the regular expression syntax.\r\n\r\nIf you are looking for a pattern that might recur some number of times, you can use `Matcher.`[find()][2] repeatedly until it returns false. `Matcher.group(0)` once on each iteration will then return what matched that time.\r\n\r\nIf you want to build one big regular expression that matches everything all at once (which I believe is what you want) then around each of the three sets of things that you want to capture, put a set of capturing parenthesis, use `Matcher.match()` and then `Matcher.group(n)` where n is 1, 2 and 3 respectively. Of course `Matcher.match()` might also return false, in which case the pattern did not match, and you can&#39;t retrieve any of the groups.\r\n\r\nIn your example, what you probably want to do is have it match some preceding text, then start a capturing group, match for digits, end the capturing group, etc...I don&#39;t know enough about your exact input format, but here is an example.\r\n\r\nLets say I had strings of the form:\r\n\r\n    Eat 12 carrots at 12:30\r\n    Take 3 pills at 01:15\r\n\r\nAnd I wanted to extract the quantity and times. My regular expression would look something like:\r\n\r\n    &quot;\\w+ (\\d+) [\\w ]+ (\\d{1,2}:\\d{2})&quot;\r\n\r\nThe code would look something like:\r\n\r\n    Pattern p = Pattern.compile(&quot;\\\\w+ (\\\\d+) [\\\\w ]+ (\\\\d{2}:\\\\d{2})&quot;);\r\n    Matcher m = p.matcher(oneline);\r\n    if(m.matches()) {\r\n        System.out.println(&quot;The quantity is &quot; + m.group(1));\r\n        System.out.println(&quot;The time is &quot; + m.group(2));\r\n    }\r\n\r\nThe regular expression means &quot;a string containing a word, a space, one or more digits (which are captured in group 1), a space, a set of words and spaces ending with a space, followed by a time (captured in group 2, and the time assumes that hour is always 0-padded out to 2 digits). I would give a closer example to what you are looking for, but the description of the possible input is a little vague.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Pattern.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Matcher.html#find%28%29","title":"Java - Extract strings with Regex","body":"<p>The <code>matcher.group()</code> function expects to take a single integer argument: The capturing group index, starting from 1. The index 0 is special, which means \"the entire match\". A capturing group is created using a pair of parenthesis \"<code>(...)</code>\". Anything within the parenthesis is captures. Groups are numbered from left to right (again, starting from 1), by opening parenthesis (which means that groups can overlap). Since there are no parenthesis in your regular expression, there can be no group 1.</p>\n\n<p>The javadoc on the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">Pattern</a> class covers the regular expression syntax.</p>\n\n<p>If you are looking for a pattern that might recur some number of times, you can use <code>Matcher.</code><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Matcher.html#find%28%29\" rel=\"noreferrer\">find()</a> repeatedly until it returns false. <code>Matcher.group(0)</code> once on each iteration will then return what matched that time.</p>\n\n<p>If you want to build one big regular expression that matches everything all at once (which I believe is what you want) then around each of the three sets of things that you want to capture, put a set of capturing parenthesis, use <code>Matcher.match()</code> and then <code>Matcher.group(n)</code> where n is 1, 2 and 3 respectively. Of course <code>Matcher.match()</code> might also return false, in which case the pattern did not match, and you can't retrieve any of the groups.</p>\n\n<p>In your example, what you probably want to do is have it match some preceding text, then start a capturing group, match for digits, end the capturing group, etc...I don't know enough about your exact input format, but here is an example.</p>\n\n<p>Lets say I had strings of the form:</p>\n\n<pre><code>Eat 12 carrots at 12:30\nTake 3 pills at 01:15\n</code></pre>\n\n<p>And I wanted to extract the quantity and times. My regular expression would look something like:</p>\n\n<pre><code>\"\\w+ (\\d+) [\\w ]+ (\\d{1,2}:\\d{2})\"\n</code></pre>\n\n<p>The code would look something like:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"\\\\w+ (\\\\d+) [\\\\w ]+ (\\\\d{2}:\\\\d{2})\");\nMatcher m = p.matcher(oneline);\nif(m.matches()) {\n    System.out.println(\"The quantity is \" + m.group(1));\n    System.out.println(\"The time is \" + m.group(2));\n}\n</code></pre>\n\n<p>The regular expression means \"a string containing a word, a space, one or more digits (which are captured in group 1), a space, a set of words and spaces ending with a space, followed by a time (captured in group 2, and the time assumes that hour is always 0-padded out to 2 digits). I would give a closer example to what you are looking for, but the description of the possible input is a little vague.</p>\n"},{"tags":[],"owner":{"account_id":3123044,"reputation":1,"user_id":2642458,"display_name":"user2642458"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701873962,"creation_date":1701873962,"answer_id":77614074,"question_id":1224934,"body_markdown":"As noted in a comment in the main answer, you need to call `.matches()` or `.find()` before `.group` will work - this tripped me up, so hopefully will help others. ","title":"Java - Extract strings with Regex","body":"<p>As noted in a comment in the main answer, you need to call <code>.matches()</code> or <code>.find()</code> before <code>.group</code> will work - this tripped me up, so hopefully will help others.</p>\n"}],"owner":{"account_id":38343,"reputation":5452,"user_id":109970,"accept_rate":88,"display_name":"mickthompson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69870,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":1224987,"answer_count":2,"score":25,"last_activity_date":1701873962,"creation_date":1249338456,"question_id":1224934,"body_markdown":"I&#39;ve this string\r\n\r\n    String myString =&quot;A~BC~FGH~~zuzy|XX~ 1234~ ~~ABC~01/01/2010 06:30~BCD~01/01/2011 07:45&quot;;\r\n\r\nand I need to extract these 3 substrings&lt;br&gt;\r\n**1234**&lt;br&gt;\r\n**06:30**&lt;br&gt;\r\n**07:45**&lt;br&gt;\r\n&lt;br&gt;\r\nIf I use this regex \\\\\\d{2}\\\\\\:\\\\\\d{2}  I&#39;m only able to extract the first hour 06:30\r\n\r\n    Pattern depArrHours = Pattern.compile(&quot;\\\\d{2}\\\\:\\\\d{2}&quot;);\r\n    Matcher matcher = depArrHours.matcher(myString);\r\n    String firstHour = matcher.group(0);\r\n    String secondHour = matcher.group(1); (IndexOutOfBoundException no Group 1)\r\n\r\n\r\nmatcher.group(1) throws an exception.&lt;br&gt;\r\nAlso I don&#39;t know how to extract 1234. This string can change but it always comes after &#39;XX~ &#39; &lt;br&gt;\r\nDo you have any idea on how to match these strings with regex expressions? \r\n\r\n \r\n**UPDATE**\r\n\r\nThanks to Adam suggestion I&#39;ve now this regex that match my string\r\n\r\n    Pattern p = Pattern.compile(&quot;.*XX~ (\\\\d{3,4}).*(\\\\d{1,2}:\\\\d{2}).*(\\\\d{1,2}:\\\\d{2})&quot;;\r\n\r\nI match the number, and the 2 hours with matcher.group(1); matcher.group(2); matcher.group(3);","title":"Java - Extract strings with Regex","body":"<p>I've this string</p>\n\n<pre><code>String myString =\"A~BC~FGH~~zuzy|XX~ 1234~ ~~ABC~01/01/2010 06:30~BCD~01/01/2011 07:45\";\n</code></pre>\n\n<p>and I need to extract these 3 substrings<br>\n<strong>1234</strong><br>\n<strong>06:30</strong><br>\n<strong>07:45</strong><br>\n<br>\nIf I use this regex \\\\d{2}\\:\\\\d{2}  I'm only able to extract the first hour 06:30</p>\n\n<pre><code>Pattern depArrHours = Pattern.compile(\"\\\\d{2}\\\\:\\\\d{2}\");\nMatcher matcher = depArrHours.matcher(myString);\nString firstHour = matcher.group(0);\nString secondHour = matcher.group(1); (IndexOutOfBoundException no Group 1)\n</code></pre>\n\n<p>matcher.group(1) throws an exception.<br>\nAlso I don't know how to extract 1234. This string can change but it always comes after 'XX~ ' <br>\nDo you have any idea on how to match these strings with regex expressions? </p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Thanks to Adam suggestion I've now this regex that match my string</p>\n\n<pre><code>Pattern p = Pattern.compile(\".*XX~ (\\\\d{3,4}).*(\\\\d{1,2}:\\\\d{2}).*(\\\\d{1,2}:\\\\d{2})\";\n</code></pre>\n\n<p>I match the number, and the 2 hours with matcher.group(1); matcher.group(2); matcher.group(3);</p>\n"},{"tags":["java","android","android-camera","motorola","image-formats"],"owner":{"account_id":22401625,"reputation":11,"user_id":16611956,"display_name":"durga murugan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701873915,"creation_date":1701514241,"question_id":77590039,"body_markdown":"created employee face recognition android application, have 2 major part in the app ,register face &amp; record attendance -&gt;while recording attendance using face recognition ,am storing checkin time with chekin faceimage same for checkout, am displaying this checkin faceimage &amp; checkout face in my webapp employee reports page, i tested this app with different devices, for all it working fine using moto g62 getting the image in grayscale format image is not visible, why ? did lot things  by changing the camera settings, display, grayscale, color correction nothing help, can any one tell me what i have to do for this -&gt;do i need to change my android app code or moto mobile camera  setting??\r\n\r\nnote: ref ss ,this is how am getting my emp face image in the report page![![enter image description here](https://i.stack.imgur.com/WQrGS.jpg)](https://i.stack.imgur.com/WQrGS.jpg)\r\n\r\ntried to get the correct viewable image format but getting unviewable face image","title":"image not displaying correctly which i took by using my android app","body":"<p>created employee face recognition android application, have 2 major part in the app ,register face &amp; record attendance -&gt;while recording attendance using face recognition ,am storing checkin time with chekin faceimage same for checkout, am displaying this checkin faceimage &amp; checkout face in my webapp employee reports page, i tested this app with different devices, for all it working fine using moto g62 getting the image in grayscale format image is not visible, why ? did lot things  by changing the camera settings, display, grayscale, color correction nothing help, can any one tell me what i have to do for this -&gt;do i need to change my android app code or moto mobile camera  setting??</p>\n<p>note: ref ss ,this is how am getting my emp face image in the report page<img src=\"https://i.stack.imgur.com/WQrGS.jpg\" alt=\"enter image description here\" /></p>\n<p>tried to get the correct viewable image format but getting unviewable face image</p>\n"},{"tags":["java","2d","game-development"],"owner":{"account_id":23115746,"reputation":3,"user_id":17223033,"display_name":"Luna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701873363,"answer_count":0,"score":0,"last_activity_date":1701873875,"creation_date":1701873076,"question_id":77613949,"body_markdown":"I am currently following RyiSnow&#39;s tutorial for a 2D game in Java for my finals project. I do understand most of what is happening in the code since he explains it quite well.\r\n\r\nThe problem it that whenever I try to &quot;pick up&quot; a item, it should disappear as what the tutorial showcased. But when it I try to add this specific code to make it seem as the item has disappeared, the program encounters an error and would freeze.\r\n```\r\nif(i != 999) {\r\n     gp.obj[i] = null;\r\n}\r\n```\r\nThe 999 is a value that&#39;s returned from a collisionChecker class to know whether the object and player were in a collision.\r\n\r\nThe checkObject subclass from the collision checker.\r\n\r\n```\r\npublic int checkObject(Entity entity, boolean player) {\r\n\t\t\r\n\t\tint index = 999;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; gp.obj.length; i++) {\r\n\t\t\t\r\n\t\t\tif(gp.obj[i] != null) {\r\n\t\t\t\t\r\n\t\t\t\t// Get entity&#39;s solid area position\r\n\t\t\t\tentity.solidArea.x = entity.worldX + entity.solidArea.x;\r\n\t\t\t\tentity.solidArea.y = entity.worldY + entity.solidArea.y;\r\n\t\t\t\t// Get the object&#39;s solid area position\r\n\t\t\t\tgp.obj[i].solidArea.x = gp.obj[i].worldX + gp.obj[i].solidArea.x;\r\n\t\t\t\tgp.obj[i].solidArea.y = gp.obj[i].worldY + gp.obj[i].solidArea.y;\r\n\t\t\t\t\r\n\t\t\t\tswitch (entity.direction) {\r\n\t\t\t\tcase &quot;up&quot;:\r\n\t\t\t\t\tentity.solidArea.y -= entity.speed;\r\n\t\t\t\t\tif(entity.solidArea.intersects(gp.obj[i].solidArea)) {\r\n\t\t\t\t\t\tif(gp.obj[i].collision == true) {\r\n\t\t\t\t\t\t\tentity.collisionOn = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(player == true) {\r\n\t\t\t\t\t\t\tindex = i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;down&quot;:\r\n\t\t\t\t\tentity.solidArea.y += entity.speed;\r\n\t\t\t\t\tif(entity.solidArea.intersects(gp.obj[i].solidArea)) {\r\n\t\t\t\t\t\tif(gp.obj[i].collision == true) {\r\n\t\t\t\t\t\t\tentity.collisionOn = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(player == true) {\r\n\t\t\t\t\t\t\tindex = i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;left&quot;:\r\n\t\t\t\t\tentity.solidArea.x -= entity.speed;\r\n\t\t\t\t\tif(entity.solidArea.intersects(gp.obj[i].solidArea)) {\r\n\t\t\t\t\t\tif(gp.obj[i].collision == true) {\r\n\t\t\t\t\t\t\tentity.collisionOn = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(player == true) {\r\n\t\t\t\t\t\t\tindex = i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;right&quot;:\r\n\t\t\t\t\tentity.solidArea.x += entity.speed;\r\n\t\t\t\t\tif(entity.solidArea.intersects(gp.obj[i].solidArea)) {\r\n\t\t\t\t\t\tif(gp.obj[i].collision == true) {\r\n\t\t\t\t\t\t\tentity.collisionOn = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(player == true) {\r\n\t\t\t\t\t\t\tindex = i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tentity.solidArea.x = entity.solidAreaDefaultX;\r\n\t\t\tentity.solidArea.y = entity.solidAreaDefaultY;\r\n\t\t\tgp.obj[i].solidArea.x = gp.obj[i].solidAreaDefaultX;\r\n\t\t\tgp.obj[i].solidArea.y = gp.obj[i].solidAreaDefaultY; \r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn index;\r\n\t\t\r\n\t}\r\n```\r\n\r\nThe player class where the error is coming from.\r\n\r\n```\r\npublic void pickUpObject(int i) {\r\n\r\n\t\tif(i != 999) {\r\n\t\t\tString objectName = gp.obj[i].name;\r\n\t\t\t\r\n\t\t\tswitch (objectName) {\r\n\t\t\tcase &quot;Paper&quot;:\r\n\t\t\t\thasPaper++;\r\n\t\t\t\tgp.obj[i] = null;\r\n\t\t\t\tSystem.out.println(&quot;Paper: &quot; + hasPaper);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n```\r\nI&#39;ve been at this for hours trying to understand the code/error.\r\n\r\nI tried running the program without the gp.obj[i] = null code and it successfully ran without errors, other than that I did nothing more. ","title":"Trying to &quot;pick up&quot; an item but it gives an error","body":"<p>I am currently following RyiSnow's tutorial for a 2D game in Java for my finals project. I do understand most of what is happening in the code since he explains it quite well.</p>\n<p>The problem it that whenever I try to &quot;pick up&quot; a item, it should disappear as what the tutorial showcased. But when it I try to add this specific code to make it seem as the item has disappeared, the program encounters an error and would freeze.</p>\n<pre><code>if(i != 999) {\n     gp.obj[i] = null;\n}\n</code></pre>\n<p>The 999 is a value that's returned from a collisionChecker class to know whether the object and player were in a collision.</p>\n<p>The checkObject subclass from the collision checker.</p>\n<pre><code>public int checkObject(Entity entity, boolean player) {\n        \n        int index = 999;\n        \n        for(int i = 0; i &lt; gp.obj.length; i++) {\n            \n            if(gp.obj[i] != null) {\n                \n                // Get entity's solid area position\n                entity.solidArea.x = entity.worldX + entity.solidArea.x;\n                entity.solidArea.y = entity.worldY + entity.solidArea.y;\n                // Get the object's solid area position\n                gp.obj[i].solidArea.x = gp.obj[i].worldX + gp.obj[i].solidArea.x;\n                gp.obj[i].solidArea.y = gp.obj[i].worldY + gp.obj[i].solidArea.y;\n                \n                switch (entity.direction) {\n                case &quot;up&quot;:\n                    entity.solidArea.y -= entity.speed;\n                    if(entity.solidArea.intersects(gp.obj[i].solidArea)) {\n                        if(gp.obj[i].collision == true) {\n                            entity.collisionOn = true;\n                        }\n                        if(player == true) {\n                            index = i;\n                        }\n                    }\n                    break;\n                case &quot;down&quot;:\n                    entity.solidArea.y += entity.speed;\n                    if(entity.solidArea.intersects(gp.obj[i].solidArea)) {\n                        if(gp.obj[i].collision == true) {\n                            entity.collisionOn = true;\n                        }\n                        if(player == true) {\n                            index = i;\n                        }\n                    }\n                    break;\n                case &quot;left&quot;:\n                    entity.solidArea.x -= entity.speed;\n                    if(entity.solidArea.intersects(gp.obj[i].solidArea)) {\n                        if(gp.obj[i].collision == true) {\n                            entity.collisionOn = true;\n                        }\n                        if(player == true) {\n                            index = i;\n                        }\n                    }\n                    break;\n                case &quot;right&quot;:\n                    entity.solidArea.x += entity.speed;\n                    if(entity.solidArea.intersects(gp.obj[i].solidArea)) {\n                        if(gp.obj[i].collision == true) {\n                            entity.collisionOn = true;\n                        }\n                        if(player == true) {\n                            index = i;\n                        }\n                    }\n                    break;\n                }\n            }\n            entity.solidArea.x = entity.solidAreaDefaultX;\n            entity.solidArea.y = entity.solidAreaDefaultY;\n            gp.obj[i].solidArea.x = gp.obj[i].solidAreaDefaultX;\n            gp.obj[i].solidArea.y = gp.obj[i].solidAreaDefaultY; \n            \n        }\n        \n        return index;\n        \n    }\n</code></pre>\n<p>The player class where the error is coming from.</p>\n<pre><code>public void pickUpObject(int i) {\n\n        if(i != 999) {\n            String objectName = gp.obj[i].name;\n            \n            switch (objectName) {\n            case &quot;Paper&quot;:\n                hasPaper++;\n                gp.obj[i] = null;\n                System.out.println(&quot;Paper: &quot; + hasPaper);\n                break;\n            }\n        }\n        \n        \n    }\n</code></pre>\n<p>I've been at this for hours trying to understand the code/error.</p>\n<p>I tried running the program without the gp.obj[i] = null code and it successfully ran without errors, other than that I did nothing more.</p>\n"},{"tags":["java","shell","pom.xml"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1701873938,"post_id":77614038,"comment_id":136829094,"body_markdown":"General answer: there are plugins for that, e.g. the [`bash-maven-plugin` (`bitbucket.org`)](https://bitbucket.org/atlassian/bash-maven-plugin/src/master/). [This question](https://stackoverflow.com/questions/8433652/is-it-possible-to-run-a-bash-script-from-maven) seems very similar. --- I would regard this as somewhat of a smell. Why do the tests need a bash script?","body":"General answer: there are plugins for that, e.g. the <a href=\"https://bitbucket.org/atlassian/bash-maven-plugin/src/master/\" rel=\"nofollow noreferrer\"><code>bash-maven-plugin</code> (<code>bitbucket.org</code>)</a>. <a href=\"https://stackoverflow.com/questions/8433652/is-it-possible-to-run-a-bash-script-from-maven\">This question</a> seems very similar. --- I would regard this as somewhat of a smell. Why do the tests need a bash script?"}],"owner":{"account_id":30081656,"reputation":1,"user_id":23053180,"display_name":"Dewashish Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701873702,"creation_date":1701873702,"question_id":77614038,"body_markdown":"How we can add test that is written using shell script inside our maven project? is there is template that will use maven-ant-run plugin ? \r\n\r\nIs there is generalied way to doing that i need to perform this test before building tarball.","title":"How we can add test that is written using shell script inside our maven project?","body":"<p>How we can add test that is written using shell script inside our maven project? is there is template that will use maven-ant-run plugin ?</p>\n<p>Is there is generalied way to doing that i need to perform this test before building tarball.</p>\n"},{"tags":["java","spring-boot","docker","docker-compose","buildpack"],"comments":[{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":0,"creation_date":1701872309,"post_id":77606907,"comment_id":136828772,"body_markdown":"You are using the `paketobuildpacks/builder-jammy-tiny` builder, but this is not suitable for running a JVM (non-native) application. Does it work if you use `paketobuildpacks/builder-jammy-base` instead?","body":"You are using the <code>paketobuildpacks&#47;builder-jammy-tiny</code> builder, but this is not suitable for running a JVM (non-native) application. Does it work if you use <code>paketobuildpacks&#47;builder-jammy-base</code> instead?"},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1701877786,"post_id":77606907,"comment_id":136829845,"body_markdown":"I have tried using `builder-jammy-base`, and Eclipse Temurin JDK instead of Bellsoft. Still will not start up.","body":"I have tried using <code>builder-jammy-base</code>, and Eclipse Temurin JDK instead of Bellsoft. Still will not start up."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1701878766,"post_id":77606907,"comment_id":136830033,"body_markdown":"I even tried using builder-jammy-full. Did not work either.","body":"I even tried using builder-jammy-full. Did not work either."}],"answers":[{"tags":[],"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701873030,"creation_date":1701873030,"answer_id":77613945,"question_id":77606907,"body_markdown":"OK, so maybe easiest to just step through this and break down what&#39;s happening.\r\n\r\n```\r\nSetting Active Processor Count to 4,\r\nAdding $JAVA_OPTS to $JAVA_TOOL_OPTIONS,\r\nCalculating JVM memory based on 5686504K available memory,\r\nFor more information on this calculation, see https://paketo.io/docs/reference/java-reference/#memory-calculator,\r\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx5000731K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 5686504K, Thread Count: 250, Loaded Class Count: 28266, Headroom: 0%),\r\nEnabling Java Native Memory Tracking,\r\nSpring Cloud Bindings Enabled,\r\n```\r\n\r\nThis is output from a helper binary that is installed by the buildpacks into your app image. It takes care of runtime configuration changes and runs before your app starts up. The output tells us that a.) your build seems to have worked correctly and b.) the buildpacks were able to generate a start command for your app. If either of these failed, you&#39;d see errors in other places.\r\n\r\nThese lines also tell us information about how the app is configured, what resources are available, and what JVM flags are being used to start your app.\r\n\r\n```\r\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=4 -Duser.timezone=Europe/Oslo -XX:MaxDirectMemorySize=10M -Xmx5000731K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics -Dorg.springframework.cloud.bindings.boot.enable=true,\r\n[0.033s][warning][os,thread] Failed to start thread &quot;GC Thread#0&quot; - pthread_create failed (EPERM) for attributes: stacksize: 1024k, guardsize: 4k, detached.,\r\n[0.035s][error  ][gc,task  ] Failed to create worker thread,\r\n```\r\n\r\nAt this point, your app has started. This output is from the JVM itself. It tells you what JVM options it picked up. It is also telling us that there is a problem creating GC threads, that it&#39;s unable to create the thread. That is the crux of the issue here.\r\n\r\nYou are seeing a very similar issue with your native app. It is also telling you that it can&#39;t create new native threads. I think that pretty strongly points to the server not having enough resources.\r\n\r\n```\r\njava.lang.OutOfMemoryError: Unable to create native thread: possibly out of memory or process/resource limits reached\r\n    at com.oracle.svm.core.thread.PlatformThreads.startThread(PlatformThreads.java:806)\r\n    at java.lang.Thread.start0(Thread.java:428)\r\n    at java.lang.Thread.start(Thread.java:1526)\r\n    at com.oracle.svm.core.heap.ReferenceHandlerThread.start(ReferenceHandlerThread.java:54)\r\n    at com.oracle.svm.core.graal.snippets.CEntryPointSnippets.initializeIsolate(CEntryPointSnippets.java:326)\r\n    at com.oracle.svm.core.JavaMainWrapper$EnterCreateIsolateWithCArgumentsPrologue.enter(JavaMainWrapper.java:480)\r\n```\r\n\r\nAs to why this doesn&#39;t happen with your Dockerfile-generated image. I suspect that is because of the JVM flags being used by the buildpack. The buildpacks generally try to configure your app so that if it is going to have a problem, it will crash at start-up time and not later, possibly in the middle of the night when you&#39;re sleeping. This most prominently shows up in the way that memory settings are configured.\r\n\r\nMemory settings from the buildpack are also configured for you to max out the performance of your application. If you have a small app that doesn&#39;t get a lot of traffic, you can tune the memory settings back and that might free up some resources on your box allowing the app to start.\r\n\r\nMy suggestion would be to start by setting `-Xss256k`. That will set the thread stack size to the minimum value, instead of 1M. If you have a lot of threads, this can save a decent amount of memory, and *most* apps don&#39;t need that much of a thread stack anyway.\r\n\r\nIf that doesn&#39;t help, you could try setting `-XX:+TieredCompilation -XX:TieredStopAtLevel=1 -XX:ReservedCodeCacheSize=50M` (you may need to adjust the code cache size depending on your app). This will further reduce the resources required by your app. See [for more details on what these do](https://stackoverflow.com/a/38721975/1585136). Do be warned though. **This has the strong potential to negatively impact performance in your app**. It&#39;s not magic, it reduces resources by not optimizing as much. If your app doesn&#39;t need the extra performance, then you can use it to save some memory. It&#39;s a trade-off. You have to make the decision on what&#39;s more important.\r\n\r\n-------\r\n\r\n&gt; I am not sure how buildpack is actually running the application. The docker image does not pack the built app.jar, but instead some BOOT-INFO with all the classes.\r\n&gt; The docker image entrypoint is /cnb/process/web.\r\n\r\nThis is just an FYI.\r\n\r\n- When buildpacks run, they set up what are called process types. The process type is essentially the start command that the buildpack generates to run your app.\r\n- `/cnb/process/web` is the default process type. \r\n- If you run `pack inspect &lt;app-image&gt;` it will show you the process types that were set by the buildpack. That will show you the specific start command.\r\n- Most Java app images packed with buildpacks will have three process types, but they all end up doing the same thing. This is just for your convenience.\r\n- There is no JAR in your app image because the buildpacks don&#39;t actually get a JAR file as input. They actually get the contents of the JAR file (i.e. an exploded JAR). This is expected behavior and it&#39;s also a good thing. Unpacked apps like this will [almost always start faster than apps in a JAR file](https://spring.io/blog/2023/12/04/cds-with-spring-framework-6-1#cds-data-points-with-spring-petclinic).","title":"Spring Boot built with buildpacks Will not start up in docker compose","body":"<p>OK, so maybe easiest to just step through this and break down what's happening.</p>\n<pre><code>Setting Active Processor Count to 4,\nAdding $JAVA_OPTS to $JAVA_TOOL_OPTIONS,\nCalculating JVM memory based on 5686504K available memory,\nFor more information on this calculation, see https://paketo.io/docs/reference/java-reference/#memory-calculator,\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx5000731K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 5686504K, Thread Count: 250, Loaded Class Count: 28266, Headroom: 0%),\nEnabling Java Native Memory Tracking,\nSpring Cloud Bindings Enabled,\n</code></pre>\n<p>This is output from a helper binary that is installed by the buildpacks into your app image. It takes care of runtime configuration changes and runs before your app starts up. The output tells us that a.) your build seems to have worked correctly and b.) the buildpacks were able to generate a start command for your app. If either of these failed, you'd see errors in other places.</p>\n<p>These lines also tell us information about how the app is configured, what resources are available, and what JVM flags are being used to start your app.</p>\n<pre><code>Picked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=4 -Duser.timezone=Europe/Oslo -XX:MaxDirectMemorySize=10M -Xmx5000731K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics -Dorg.springframework.cloud.bindings.boot.enable=true,\n[0.033s][warning][os,thread] Failed to start thread &quot;GC Thread#0&quot; - pthread_create failed (EPERM) for attributes: stacksize: 1024k, guardsize: 4k, detached.,\n[0.035s][error  ][gc,task  ] Failed to create worker thread,\n</code></pre>\n<p>At this point, your app has started. This output is from the JVM itself. It tells you what JVM options it picked up. It is also telling us that there is a problem creating GC threads, that it's unable to create the thread. That is the crux of the issue here.</p>\n<p>You are seeing a very similar issue with your native app. It is also telling you that it can't create new native threads. I think that pretty strongly points to the server not having enough resources.</p>\n<pre><code>java.lang.OutOfMemoryError: Unable to create native thread: possibly out of memory or process/resource limits reached\n    at com.oracle.svm.core.thread.PlatformThreads.startThread(PlatformThreads.java:806)\n    at java.lang.Thread.start0(Thread.java:428)\n    at java.lang.Thread.start(Thread.java:1526)\n    at com.oracle.svm.core.heap.ReferenceHandlerThread.start(ReferenceHandlerThread.java:54)\n    at com.oracle.svm.core.graal.snippets.CEntryPointSnippets.initializeIsolate(CEntryPointSnippets.java:326)\n    at com.oracle.svm.core.JavaMainWrapper$EnterCreateIsolateWithCArgumentsPrologue.enter(JavaMainWrapper.java:480)\n</code></pre>\n<p>As to why this doesn't happen with your Dockerfile-generated image. I suspect that is because of the JVM flags being used by the buildpack. The buildpacks generally try to configure your app so that if it is going to have a problem, it will crash at start-up time and not later, possibly in the middle of the night when you're sleeping. This most prominently shows up in the way that memory settings are configured.</p>\n<p>Memory settings from the buildpack are also configured for you to max out the performance of your application. If you have a small app that doesn't get a lot of traffic, you can tune the memory settings back and that might free up some resources on your box allowing the app to start.</p>\n<p>My suggestion would be to start by setting <code>-Xss256k</code>. That will set the thread stack size to the minimum value, instead of 1M. If you have a lot of threads, this can save a decent amount of memory, and <em>most</em> apps don't need that much of a thread stack anyway.</p>\n<p>If that doesn't help, you could try setting <code>-XX:+TieredCompilation -XX:TieredStopAtLevel=1 -XX:ReservedCodeCacheSize=50M</code> (you may need to adjust the code cache size depending on your app). This will further reduce the resources required by your app. See <a href=\"https://stackoverflow.com/a/38721975/1585136\">for more details on what these do</a>. Do be warned though. <strong>This has the strong potential to negatively impact performance in your app</strong>. It's not magic, it reduces resources by not optimizing as much. If your app doesn't need the extra performance, then you can use it to save some memory. It's a trade-off. You have to make the decision on what's more important.</p>\n<hr />\n<blockquote>\n<p>I am not sure how buildpack is actually running the application. The docker image does not pack the built app.jar, but instead some BOOT-INFO with all the classes.\nThe docker image entrypoint is /cnb/process/web.</p>\n</blockquote>\n<p>This is just an FYI.</p>\n<ul>\n<li>When buildpacks run, they set up what are called process types. The process type is essentially the start command that the buildpack generates to run your app.</li>\n<li><code>/cnb/process/web</code> is the default process type.</li>\n<li>If you run <code>pack inspect &lt;app-image&gt;</code> it will show you the process types that were set by the buildpack. That will show you the specific start command.</li>\n<li>Most Java app images packed with buildpacks will have three process types, but they all end up doing the same thing. This is just for your convenience.</li>\n<li>There is no JAR in your app image because the buildpacks don't actually get a JAR file as input. They actually get the contents of the JAR file (i.e. an exploded JAR). This is expected behavior and it's also a good thing. Unpacked apps like this will <a href=\"https://spring.io/blog/2023/12/04/cds-with-spring-framework-6-1#cds-data-points-with-spring-petclinic\" rel=\"nofollow noreferrer\">almost always start faster than apps in a JAR file</a>.</li>\n</ul>\n"}],"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701873030,"creation_date":1701785888,"question_id":77606907,"body_markdown":"I am having problems running a Spring Boot application in Docker compose built with Buildpack.\r\n\r\nThe application got an upgrade from Spring Boot 2.2.4 and Java 8. The old version was packaged in docker with a Dockerfile and using eclipse-temurin-alpine as base image.\r\nIt was then starting up fine with docker-compose.\r\n\r\nAfter upgrading the application to Spring Boot 3.1.5 and Java 21, I then removed using Dockerfile, and build the docker image with buildpacks. Now it will not start up with docker-compose. It seems it is because of some buildpacks initial startup procedure.\r\n\r\n```\r\nSetting Active Processor Count to 4,\r\nAdding $JAVA_OPTS to $JAVA_TOOL_OPTIONS,\r\nCalculating JVM memory based on 5686504K available memory,\r\nFor more information on this calculation, see https://paketo.io/docs/reference/java-reference/#memory-calculator,\r\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx5000731K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 5686504K, Thread Count: 250, Loaded Class Count: 28266, Headroom: 0%),\r\nEnabling Java Native Memory Tracking,\r\nSpring Cloud Bindings Enabled,\r\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=4 -Duser.timezone=Europe/Oslo -XX:MaxDirectMemorySize=10M -Xmx5000731K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics -Dorg.springframework.cloud.bindings.boot.enable=true,\r\n[0.033s][warning][os,thread] Failed to start thread &quot;GC Thread#0&quot; - pthread_create failed (EPERM) for attributes: stacksize: 1024k, guardsize: 4k, detached.,\r\n[0.035s][error  ][gc,task  ] Failed to create worker thread,\r\n```\r\n\r\nI am not sure how buildpack is actually running the application. The docker image does not pack the built app.jar, but instead some BOOT-INFO with all the classes.\\\r\nThe docker image entrypoint is `/cnb/process/web`.\r\n\r\nMy old Dockerfile for running the Spring Boot application:\r\n```\r\nFROM eclipse-temurin:21-jre-alpine\r\nARG jarfile=target/app.jar\r\nVOLUME /tmp\r\n\r\nADD $jarfile app.jar\r\nRUN sh -c &#39;touch /app.jar&#39;\r\nRUN apk add --no-cache libc6-compat curl bash\r\n\r\nENV JAVA_OPTS=&quot;&quot;\r\nENTRYPOINT exec java $JAVA_OPTS -jar /app.jar\r\n```\r\n\r\nMaven Spring Boot configuration:\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n        &lt;image&gt;\r\n            &lt;builder&gt;paketobuildpacks/builder-jammy-tiny&lt;/builder&gt;\r\n            &lt;name&gt;${docker.publishRegistry.url}/company/group/${project.name}:${project.version}&lt;/name&gt;\r\n            &lt;createdDate&gt;${maven.build.timestamp}&lt;/createdDate&gt;\r\n            &lt;cleanCache&gt;true&lt;/cleanCache&gt;\r\n            &lt;env&gt;\r\n                &lt;BP_NATIVE_IMAGE&gt;false&lt;/BP_NATIVE_IMAGE&gt;\r\n                &lt;BP_JVM_VERSION&gt;${java.version}&lt;/BP_JVM_VERSION&gt;\r\n                &lt;BP_OCI_SOURCE&gt;${project.scm.url}&lt;/BP_OCI_SOURCE&gt;\r\n                &lt;BP_OCI_CREATED&gt;${maven.build.timestamp}&lt;/BP_OCI_CREATED&gt;\r\n                &lt;BP_OCI_VERSION&gt;${project.version}&lt;/BP_OCI_VERSION&gt;\r\n                &lt;BP_OCI_DESCRIPTION&gt;${project.description}&lt;/BP_OCI_DESCRIPTION&gt;\r\n            &lt;/env&gt;\r\n        &lt;/image&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI have a complete similar Maven configuration here:\r\nhttps://github.com/DJViking/spring-boot-demo\r\n\r\nThe server is running on CentOS 7.\r\n```\r\n&gt; docker-compose --version\r\ndocker-compose version 1.18.0, build 8dd22a9\r\n```\r\n\r\nThe docker-compose.yml is quite simple\r\n\r\n```\r\n  application:\r\n    image: ghcr.io/company/group/application:1.0.0\r\n    restart: unless-stopped\r\n    expose:\r\n      - 8505\r\n    ports:\r\n      - &quot;8505:8505&quot;\r\n    networks:\r\n      - customnet\r\n    environment:\r\n      - &quot;SPRING_PROFILES_ACTIVE=test&quot;\r\n```\r\nIf I run the docker image on the server (docker run, not docker-compose), the I get the exact same startup problem.\r\n```\r\n&gt; docker run --rm -e SPRING_PROFILES_ACTIVE=test IMAGE\r\n```\r\n\r\nIt does look like it might have something to do with low memory on the server.\r\n```\r\n[root@server]$ free -h\r\n              total        used        free      shared  buff/cache   available\r\nMem:            15G         10G        462M        841M        5.0G        4.2G\r\nSwap:          2.0G        2.0G         28K\r\n```\r\n\r\nThere are currently running 20+ other services, and java applications on this server.\r\nHazelCast, RabbitMQ, Nginx, prometheus, and 6 other Java Spring Boot applications.\r\n\r\nIf I build a native app, then it fails to start with this error:\r\n```\r\njava.lang.OutOfMemoryError: Unable to create native thread: possibly out of memory or process/resource limits reached\r\n    at com.oracle.svm.core.thread.PlatformThreads.startThread(PlatformThreads.java:806)\r\n    at java.lang.Thread.start0(Thread.java:428)\r\n    at java.lang.Thread.start(Thread.java:1526)\r\n    at com.oracle.svm.core.heap.ReferenceHandlerThread.start(ReferenceHandlerThread.java:54)\r\n    at com.oracle.svm.core.graal.snippets.CEntryPointSnippets.initializeIsolate(CEntryPointSnippets.java:326)\r\n    at com.oracle.svm.core.JavaMainWrapper$EnterCreateIsolateWithCArgumentsPrologue.enter(JavaMainWrapper.java:480)\r\n```\r\n\r\nBut I have no problem starting up the Spring Boot Application if I build with the old Dockerfile instead.\r\n\r\nRunning the non-native docker image built with buildpacks locally on my computer works fine\r\n```\r\n&gt; docker run --rm -e SPRING_PROFILES_ACTIVE=test IMAGE\r\nSetting Active Processor Count to 16\r\nAdding $JAVA_OPTS to $JAVA_TOOL_OPTIONS\r\nCalculating JVM memory based on 15200940K available memory\r\nFor more information on this calculation, see https://paketo.io/docs/reference/java-reference/#memory-calculator\r\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx14515167K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 15200940K, Thread Count: 250, Loaded Class Count: 28266, Headroom: 0%)\r\nEnabling Java Native Memory Tracking\r\nAdding 137 container CA certificates to JVM truststore\r\nSpring Cloud Bindings Enabled\r\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=16 -Duser.timezone=Europe/Oslo -XX:MaxDirectMemorySize=10M -Xmx14515167K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics -Dorg.springframework.cloud.bindings.boot.enable=true\r\nStandard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\r\n\r\n  .   ____          ___ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::    (v3.1.5)\r\n\r\n2023-12-05T10:14:45.790Z  INFO 1 --- [           main] c.r.a.t.MyApplication : Starting MyApplication v2.0.2-SNAPSHOT using Java 21.0.1 with PID 1 (/workspace/BOOT-INF/classes started by cnb in /workspace)\r\n```","title":"Spring Boot built with buildpacks Will not start up in docker compose","body":"<p>I am having problems running a Spring Boot application in Docker compose built with Buildpack.</p>\n<p>The application got an upgrade from Spring Boot 2.2.4 and Java 8. The old version was packaged in docker with a Dockerfile and using eclipse-temurin-alpine as base image.\nIt was then starting up fine with docker-compose.</p>\n<p>After upgrading the application to Spring Boot 3.1.5 and Java 21, I then removed using Dockerfile, and build the docker image with buildpacks. Now it will not start up with docker-compose. It seems it is because of some buildpacks initial startup procedure.</p>\n<pre><code>Setting Active Processor Count to 4,\nAdding $JAVA_OPTS to $JAVA_TOOL_OPTIONS,\nCalculating JVM memory based on 5686504K available memory,\nFor more information on this calculation, see https://paketo.io/docs/reference/java-reference/#memory-calculator,\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx5000731K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 5686504K, Thread Count: 250, Loaded Class Count: 28266, Headroom: 0%),\nEnabling Java Native Memory Tracking,\nSpring Cloud Bindings Enabled,\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=4 -Duser.timezone=Europe/Oslo -XX:MaxDirectMemorySize=10M -Xmx5000731K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics -Dorg.springframework.cloud.bindings.boot.enable=true,\n[0.033s][warning][os,thread] Failed to start thread &quot;GC Thread#0&quot; - pthread_create failed (EPERM) for attributes: stacksize: 1024k, guardsize: 4k, detached.,\n[0.035s][error  ][gc,task  ] Failed to create worker thread,\n</code></pre>\n<p>I am not sure how buildpack is actually running the application. The docker image does not pack the built app.jar, but instead some BOOT-INFO with all the classes.<br />\nThe docker image entrypoint is <code>/cnb/process/web</code>.</p>\n<p>My old Dockerfile for running the Spring Boot application:</p>\n<pre><code>FROM eclipse-temurin:21-jre-alpine\nARG jarfile=target/app.jar\nVOLUME /tmp\n\nADD $jarfile app.jar\nRUN sh -c 'touch /app.jar'\nRUN apk add --no-cache libc6-compat curl bash\n\nENV JAVA_OPTS=&quot;&quot;\nENTRYPOINT exec java $JAVA_OPTS -jar /app.jar\n</code></pre>\n<p>Maven Spring Boot configuration:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;/exclude&gt;\n        &lt;/excludes&gt;\n        &lt;image&gt;\n            &lt;builder&gt;paketobuildpacks/builder-jammy-tiny&lt;/builder&gt;\n            &lt;name&gt;${docker.publishRegistry.url}/company/group/${project.name}:${project.version}&lt;/name&gt;\n            &lt;createdDate&gt;${maven.build.timestamp}&lt;/createdDate&gt;\n            &lt;cleanCache&gt;true&lt;/cleanCache&gt;\n            &lt;env&gt;\n                &lt;BP_NATIVE_IMAGE&gt;false&lt;/BP_NATIVE_IMAGE&gt;\n                &lt;BP_JVM_VERSION&gt;${java.version}&lt;/BP_JVM_VERSION&gt;\n                &lt;BP_OCI_SOURCE&gt;${project.scm.url}&lt;/BP_OCI_SOURCE&gt;\n                &lt;BP_OCI_CREATED&gt;${maven.build.timestamp}&lt;/BP_OCI_CREATED&gt;\n                &lt;BP_OCI_VERSION&gt;${project.version}&lt;/BP_OCI_VERSION&gt;\n                &lt;BP_OCI_DESCRIPTION&gt;${project.description}&lt;/BP_OCI_DESCRIPTION&gt;\n            &lt;/env&gt;\n        &lt;/image&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I have a complete similar Maven configuration here:\n<a href=\"https://github.com/DJViking/spring-boot-demo\" rel=\"nofollow noreferrer\">https://github.com/DJViking/spring-boot-demo</a></p>\n<p>The server is running on CentOS 7.</p>\n<pre><code>&gt; docker-compose --version\ndocker-compose version 1.18.0, build 8dd22a9\n</code></pre>\n<p>The docker-compose.yml is quite simple</p>\n<pre><code>  application:\n    image: ghcr.io/company/group/application:1.0.0\n    restart: unless-stopped\n    expose:\n      - 8505\n    ports:\n      - &quot;8505:8505&quot;\n    networks:\n      - customnet\n    environment:\n      - &quot;SPRING_PROFILES_ACTIVE=test&quot;\n</code></pre>\n<p>If I run the docker image on the server (docker run, not docker-compose), the I get the exact same startup problem.</p>\n<pre><code>&gt; docker run --rm -e SPRING_PROFILES_ACTIVE=test IMAGE\n</code></pre>\n<p>It does look like it might have something to do with low memory on the server.</p>\n<pre><code>[root@server]$ free -h\n              total        used        free      shared  buff/cache   available\nMem:            15G         10G        462M        841M        5.0G        4.2G\nSwap:          2.0G        2.0G         28K\n</code></pre>\n<p>There are currently running 20+ other services, and java applications on this server.\nHazelCast, RabbitMQ, Nginx, prometheus, and 6 other Java Spring Boot applications.</p>\n<p>If I build a native app, then it fails to start with this error:</p>\n<pre><code>java.lang.OutOfMemoryError: Unable to create native thread: possibly out of memory or process/resource limits reached\n    at com.oracle.svm.core.thread.PlatformThreads.startThread(PlatformThreads.java:806)\n    at java.lang.Thread.start0(Thread.java:428)\n    at java.lang.Thread.start(Thread.java:1526)\n    at com.oracle.svm.core.heap.ReferenceHandlerThread.start(ReferenceHandlerThread.java:54)\n    at com.oracle.svm.core.graal.snippets.CEntryPointSnippets.initializeIsolate(CEntryPointSnippets.java:326)\n    at com.oracle.svm.core.JavaMainWrapper$EnterCreateIsolateWithCArgumentsPrologue.enter(JavaMainWrapper.java:480)\n</code></pre>\n<p>But I have no problem starting up the Spring Boot Application if I build with the old Dockerfile instead.</p>\n<p>Running the non-native docker image built with buildpacks locally on my computer works fine</p>\n<pre><code>&gt; docker run --rm -e SPRING_PROFILES_ACTIVE=test IMAGE\nSetting Active Processor Count to 16\nAdding $JAVA_OPTS to $JAVA_TOOL_OPTIONS\nCalculating JVM memory based on 15200940K available memory\nFor more information on this calculation, see https://paketo.io/docs/reference/java-reference/#memory-calculator\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx14515167K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 15200940K, Thread Count: 250, Loaded Class Count: 28266, Headroom: 0%)\nEnabling Java Native Memory Tracking\nAdding 137 container CA certificates to JVM truststore\nSpring Cloud Bindings Enabled\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=16 -Duser.timezone=Europe/Oslo -XX:MaxDirectMemorySize=10M -Xmx14515167K -XX:MaxMetaspaceSize=173772K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics -Dorg.springframework.cloud.bindings.boot.enable=true\nStandard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\n\n  .   ____          ___ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::    (v3.1.5)\n\n2023-12-05T10:14:45.790Z  INFO 1 --- [           main] c.r.a.t.MyApplication : Starting MyApplication v2.0.2-SNAPSHOT using Java 21.0.1 with PID 1 (/workspace/BOOT-INF/classes started by cnb in /workspace)\n</code></pre>\n"},{"tags":["java","optaplanner","timefold"],"comments":[{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1701869199,"post_id":77611671,"comment_id":136828141,"body_markdown":"Would you mind adding the log line entirely? Does it state &quot;after action done&quot;? When [that move.toString](https://github.com/TimefoldAI/timefold-solver/blob/main/core/core-impl/src/main/java/ai/timefold/solver/core/impl/heuristic/selector/move/generic/chained/TailChainSwapMove.java#L338) is called, it&#39;s already changed, making it ambiguous indeed. The trouble is that we only want one log message that also includes the score (so after the move is done).","body":"Would you mind adding the log line entirely? Does it state &quot;after action done&quot;? When <a href=\"https://github.com/TimefoldAI/timefold-solver/blob/main/core/core-impl/src/main/java/ai/timefold/solver/core/impl/heuristic/selector/move/generic/chained/TailChainSwapMove.java#L338\" rel=\"nofollow noreferrer\">that move.toString</a> is called, it&#39;s already changed, making it ambiguous indeed. The trouble is that we only want one log message that also includes the score (so after the move is done)."},{"owner":{"account_id":22912575,"reputation":53,"user_id":17049622,"display_name":"Alexey"},"score":0,"creation_date":1701872820,"post_id":77611671,"comment_id":136828879,"body_markdown":"@GeoffreyDeSmet I added a few last lines of the log, but another one. I didn&#39;t save original.","body":"@GeoffreyDeSmet I added a few last lines of the log, but another one. I didn&#39;t save original."}],"owner":{"account_id":22912575,"reputation":53,"user_id":17049622,"display_name":"Alexey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1701872737,"creation_date":1701852801,"question_id":77611671,"body_markdown":"I&#39;m trying to solve tsp-problem with timefold.\r\n\r\nI&#39;ve got a [many tailChainSwap moves][1] in the log, which didn&#39;t change the score.\r\n\r\nI tried to understand what is happening using [this approach][2]\r\n\r\nAnd it turned out that each move reversed the entire chain except anchor. ([0, 1, 2, 3] -&gt; [0, 3, 2, 1])\r\n\r\nBut in the log these moves didn&#39;t look like that.\r\n\r\nFor example there was a move (56 {31} &lt;-tailChainSwap-&gt; 10 {75}), which turned\r\n\r\n0, 65, 86, 58, 27, 31, 56, 75, 10, 81, 73, 95, 78, 67, 98, 61, 89, 2, 50, 34, 76, 64, 62, 28, 13, 69, 91, 4, 16, 96, 80, 14, 26, 29, 55, 3, 24, 71, 57, 66, 74, 39, 83, 7, 47, 37, 77, 88, 87, 20, 5, 92, 54, 35, 21, 32, 11, 99, 44, 43, 40, 25, 19, 70, 72, 84, 51, 17, 79, 38, 90, 8, 22, 52, 18, 9, 53, 42, 48, 68, 41, 59, 63, 85, 6, 23, 49, 82, 94, 30, 46, 45, 36, 1, 60, 33, 97, 15, 93, 12\r\n\r\nto \r\n\r\n0, 12, 93, 15, 97, 33, 60, 1, 36, 45, 46, 30, 94, 82, 49, 23, 6, 85, 63, 59, 41, 68, 48, 42, 53, 9, 18, 52, 22, 8, 90, 38, 79, 17, 51, 84, 72, 70, 19, 25, 40, 43, 44, 99, 11, 32, 21, 35, 54, 92, 5, 20, 87, 88, 77, 37, 47, 7, 83, 39, 74, 66, 57, 71, 24, 3, 55, 29, 26, 14, 80, 96, 16, 4, 91, 69, 13, 28, 62, 64, 76, 34, 50, 2, 89, 61, 98, 67, 78, 95, 73, 81, 10, 75, 56, 31, 27, 58, 86, 65\r\n\r\nIs it a wrong information in the log, or do I not understand how tailChainSwap suppose to work on the same chain?\r\n\r\n(upd) example was changed\r\n\r\n(upd2) A few last strings of log:\r\n\r\n    2023-12-06 17:20:43,267 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17493), time spent (60088), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/148), picked move (84 {51} &lt;-tailChainSwap-&gt; 70 {72}).\r\n    &gt;&gt;&gt;0, 12, 93, 15, 97, 33, 60, 1, 36, 45, 46, 30, 94, 82, 49, 23, 6, 85, 63, 59, 41, 68, 48, 42, 53, 9, 18, 52, 22, 8, 90, 38, 79, 17, 51, 84, 72, 70, 19, 25, 40, 43, 44, 99, 11, 32, 21, 35, 54, 92, 5, 20, 87, 88, 77, 37, 47, 7, 83, 39, 74, 66, 57, 71, 24, 3, 55, 29, 26, 14, 80, 96, 16, 4, 91, 69, 13, 28, 62, 64, 76, 34, 50, 2, 89, 61, 98, 67, 78, 95, 73, 81, 10, 75, 56, 31, 27, 58, 86, 65\r\n    2023-12-06 17:20:43,270 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17494), time spent (60091), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/333), picked move (47 {7} &lt;-tailChainSwap-&gt; 77 {37}).\r\n    &gt;&gt;&gt;0, 65, 86, 58, 27, 31, 56, 75, 10, 81, 73, 95, 78, 67, 98, 61, 89, 2, 50, 34, 76, 64, 62, 28, 13, 69, 91, 4, 16, 96, 80, 14, 26, 29, 55, 3, 24, 71, 57, 66, 74, 39, 83, 7, 47, 37, 77, 88, 87, 20, 5, 92, 54, 35, 21, 32, 11, 99, 44, 43, 40, 25, 19, 70, 72, 84, 51, 17, 79, 38, 90, 8, 22, 52, 18, 9, 53, 42, 48, 68, 41, 59, 63, 85, 6, 23, 49, 82, 94, 30, 46, 45, 36, 1, 60, 33, 97, 15, 93, 12\r\n    2023-12-06 17:20:43,271 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17495), time spent (60092), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/65), picked move (12 {0} &lt;-tailChainSwap-&gt; 15 {93}).\r\n    &gt;&gt;&gt;0, 12, 93, 15, 97, 33, 60, 1, 36, 45, 46, 30, 94, 82, 49, 23, 6, 85, 63, 59, 41, 68, 48, 42, 53, 9, 18, 52, 22, 8, 90, 38, 79, 17, 51, 84, 72, 70, 19, 25, 40, 43, 44, 99, 11, 32, 21, 35, 54, 92, 5, 20, 87, 88, 77, 37, 47, 7, 83, 39, 74, 66, 57, 71, 24, 3, 55, 29, 26, 14, 80, 96, 16, 4, 91, 69, 13, 28, 62, 64, 76, 34, 50, 2, 89, 61, 98, 67, 78, 95, 73, 81, 10, 75, 56, 31, 27, 58, 86, 65\r\n    2023-12-06 17:20:43,272 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17496), time spent (60093), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/75), picked move (96 {16} &lt;-tailChainSwap-&gt; 14 {80}).\r\n    &gt;&gt;&gt;0, 65, 86, 58, 27, 31, 56, 75, 10, 81, 73, 95, 78, 67, 98, 61, 89, 2, 50, 34, 76, 64, 62, 28, 13, 69, 91, 4, 16, 96, 80, 14, 26, 29, 55, 3, 24, 71, 57, 66, 74, 39, 83, 7, 47, 37, 77, 88, 87, 20, 5, 92, 54, 35, 21, 32, 11, 99, 44, 43, 40, 25, 19, 70, 72, 84, 51, 17, 79, 38, 90, 8, 22, 52, 18, 9, 53, 42, 48, 68, 41, 59, 63, 85, 6, 23, 49, 82, 94, 30, 46, 45, 36, 1, 60, 33, 97, 15, 93, 12\r\n    2023-12-06 17:20:43,284 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17497), time spent (60105), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/1267), picked move (1 {60} &lt;-tailChainSwap-&gt; 45 {36}).\r\n    &gt;&gt;&gt;0, 65, 86, 58, 27, 31, 56, 75, 10, 81, 73, 95, 78, 67, 98, 61, 89, 2, 50, 34, 76, 64, 62, 28, 13, 69, 91, 4, 16, 96, 80, 29, 26, 14, 55, 3, 24, 71, 57, 66, 74, 39, 83, 7, 47, 37, 77, 88, 87, 20, 5, 92, 54, 35, 21, 32, 11, 99, 44, 43, 40, 25, 19, 70, 72, 84, 51, 17, 79, 38, 90, 8, 22, 52, 18, 9, 53, 42, 48, 68, 41, 59, 63, 85, 6, 23, 49, 82, 94, 30, 46, 45, 36, 1, 60, 33, 97, 15, 93, 12\r\n    2023-12-06 17:20:43,285 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17498), time spent (60106), score (0hard/-21033287soft),     best score (0hard/-20852279soft), accepted/selected move count (0/102), picked move (29 {26} &lt;-tailChainSwap-&gt; 14 {80}).\r\n    2023-12-06 17:20:43,285 INFO  [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main) Local Search phase (1) ended: time spent (60106), best score (0hard/-20852279soft), score calculation speed (111279/sec), step total (17499).\r\n    2023-12-06 17:20:43,286 INFO  [ai.tim.sol.cor.imp.sol.DefaultSolver] (main) Solving ended: time spent (60106), best score (0hard/-20852279soft), score calculation speed (111165/sec), phase total (2), environment mode (NON_REPRODUCIBLE), move thread count (NONE).\r\n\r\n  [1]: https://stackoverflow.com/questions/77606604/timefold-is-tailchainswap-incompatible-with-change-and-swap\r\n  [2]: https://stackoverflow.com/questions/29405153/step-changes-listener-in-construction-heuristic-phase","title":"Timefold: does tailChainSwap print wrong move information to the log?","body":"<p>I'm trying to solve tsp-problem with timefold.</p>\n<p>I've got a <a href=\"https://stackoverflow.com/questions/77606604/timefold-is-tailchainswap-incompatible-with-change-and-swap\">many tailChainSwap moves</a> in the log, which didn't change the score.</p>\n<p>I tried to understand what is happening using <a href=\"https://stackoverflow.com/questions/29405153/step-changes-listener-in-construction-heuristic-phase\">this approach</a></p>\n<p>And it turned out that each move reversed the entire chain except anchor. ([0, 1, 2, 3] -&gt; [0, 3, 2, 1])</p>\n<p>But in the log these moves didn't look like that.</p>\n<p>For example there was a move (56 {31} &lt;-tailChainSwap-&gt; 10 {75}), which turned</p>\n<p>0, 65, 86, 58, 27, 31, 56, 75, 10, 81, 73, 95, 78, 67, 98, 61, 89, 2, 50, 34, 76, 64, 62, 28, 13, 69, 91, 4, 16, 96, 80, 14, 26, 29, 55, 3, 24, 71, 57, 66, 74, 39, 83, 7, 47, 37, 77, 88, 87, 20, 5, 92, 54, 35, 21, 32, 11, 99, 44, 43, 40, 25, 19, 70, 72, 84, 51, 17, 79, 38, 90, 8, 22, 52, 18, 9, 53, 42, 48, 68, 41, 59, 63, 85, 6, 23, 49, 82, 94, 30, 46, 45, 36, 1, 60, 33, 97, 15, 93, 12</p>\n<p>to</p>\n<p>0, 12, 93, 15, 97, 33, 60, 1, 36, 45, 46, 30, 94, 82, 49, 23, 6, 85, 63, 59, 41, 68, 48, 42, 53, 9, 18, 52, 22, 8, 90, 38, 79, 17, 51, 84, 72, 70, 19, 25, 40, 43, 44, 99, 11, 32, 21, 35, 54, 92, 5, 20, 87, 88, 77, 37, 47, 7, 83, 39, 74, 66, 57, 71, 24, 3, 55, 29, 26, 14, 80, 96, 16, 4, 91, 69, 13, 28, 62, 64, 76, 34, 50, 2, 89, 61, 98, 67, 78, 95, 73, 81, 10, 75, 56, 31, 27, 58, 86, 65</p>\n<p>Is it a wrong information in the log, or do I not understand how tailChainSwap suppose to work on the same chain?</p>\n<p>(upd) example was changed</p>\n<p>(upd2) A few last strings of log:</p>\n<pre><code>2023-12-06 17:20:43,267 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17493), time spent (60088), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/148), picked move (84 {51} &lt;-tailChainSwap-&gt; 70 {72}).\n&gt;&gt;&gt;0, 12, 93, 15, 97, 33, 60, 1, 36, 45, 46, 30, 94, 82, 49, 23, 6, 85, 63, 59, 41, 68, 48, 42, 53, 9, 18, 52, 22, 8, 90, 38, 79, 17, 51, 84, 72, 70, 19, 25, 40, 43, 44, 99, 11, 32, 21, 35, 54, 92, 5, 20, 87, 88, 77, 37, 47, 7, 83, 39, 74, 66, 57, 71, 24, 3, 55, 29, 26, 14, 80, 96, 16, 4, 91, 69, 13, 28, 62, 64, 76, 34, 50, 2, 89, 61, 98, 67, 78, 95, 73, 81, 10, 75, 56, 31, 27, 58, 86, 65\n2023-12-06 17:20:43,270 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17494), time spent (60091), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/333), picked move (47 {7} &lt;-tailChainSwap-&gt; 77 {37}).\n&gt;&gt;&gt;0, 65, 86, 58, 27, 31, 56, 75, 10, 81, 73, 95, 78, 67, 98, 61, 89, 2, 50, 34, 76, 64, 62, 28, 13, 69, 91, 4, 16, 96, 80, 14, 26, 29, 55, 3, 24, 71, 57, 66, 74, 39, 83, 7, 47, 37, 77, 88, 87, 20, 5, 92, 54, 35, 21, 32, 11, 99, 44, 43, 40, 25, 19, 70, 72, 84, 51, 17, 79, 38, 90, 8, 22, 52, 18, 9, 53, 42, 48, 68, 41, 59, 63, 85, 6, 23, 49, 82, 94, 30, 46, 45, 36, 1, 60, 33, 97, 15, 93, 12\n2023-12-06 17:20:43,271 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17495), time spent (60092), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/65), picked move (12 {0} &lt;-tailChainSwap-&gt; 15 {93}).\n&gt;&gt;&gt;0, 12, 93, 15, 97, 33, 60, 1, 36, 45, 46, 30, 94, 82, 49, 23, 6, 85, 63, 59, 41, 68, 48, 42, 53, 9, 18, 52, 22, 8, 90, 38, 79, 17, 51, 84, 72, 70, 19, 25, 40, 43, 44, 99, 11, 32, 21, 35, 54, 92, 5, 20, 87, 88, 77, 37, 47, 7, 83, 39, 74, 66, 57, 71, 24, 3, 55, 29, 26, 14, 80, 96, 16, 4, 91, 69, 13, 28, 62, 64, 76, 34, 50, 2, 89, 61, 98, 67, 78, 95, 73, 81, 10, 75, 56, 31, 27, 58, 86, 65\n2023-12-06 17:20:43,272 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17496), time spent (60093), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/75), picked move (96 {16} &lt;-tailChainSwap-&gt; 14 {80}).\n&gt;&gt;&gt;0, 65, 86, 58, 27, 31, 56, 75, 10, 81, 73, 95, 78, 67, 98, 61, 89, 2, 50, 34, 76, 64, 62, 28, 13, 69, 91, 4, 16, 96, 80, 14, 26, 29, 55, 3, 24, 71, 57, 66, 74, 39, 83, 7, 47, 37, 77, 88, 87, 20, 5, 92, 54, 35, 21, 32, 11, 99, 44, 43, 40, 25, 19, 70, 72, 84, 51, 17, 79, 38, 90, 8, 22, 52, 18, 9, 53, 42, 48, 68, 41, 59, 63, 85, 6, 23, 49, 82, 94, 30, 46, 45, 36, 1, 60, 33, 97, 15, 93, 12\n2023-12-06 17:20:43,284 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17497), time spent (60105), score (0hard/-20852279soft),     best score (0hard/-20852279soft), accepted/selected move count (1/1267), picked move (1 {60} &lt;-tailChainSwap-&gt; 45 {36}).\n&gt;&gt;&gt;0, 65, 86, 58, 27, 31, 56, 75, 10, 81, 73, 95, 78, 67, 98, 61, 89, 2, 50, 34, 76, 64, 62, 28, 13, 69, 91, 4, 16, 96, 80, 29, 26, 14, 55, 3, 24, 71, 57, 66, 74, 39, 83, 7, 47, 37, 77, 88, 87, 20, 5, 92, 54, 35, 21, 32, 11, 99, 44, 43, 40, 25, 19, 70, 72, 84, 51, 17, 79, 38, 90, 8, 22, 52, 18, 9, 53, 42, 48, 68, 41, 59, 63, 85, 6, 23, 49, 82, 94, 30, 46, 45, 36, 1, 60, 33, 97, 15, 93, 12\n2023-12-06 17:20:43,285 DEBUG [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main)     LS step (17498), time spent (60106), score (0hard/-21033287soft),     best score (0hard/-20852279soft), accepted/selected move count (0/102), picked move (29 {26} &lt;-tailChainSwap-&gt; 14 {80}).\n2023-12-06 17:20:43,285 INFO  [ai.tim.sol.cor.imp.loc.DefaultLocalSearchPhase] (main) Local Search phase (1) ended: time spent (60106), best score (0hard/-20852279soft), score calculation speed (111279/sec), step total (17499).\n2023-12-06 17:20:43,286 INFO  [ai.tim.sol.cor.imp.sol.DefaultSolver] (main) Solving ended: time spent (60106), best score (0hard/-20852279soft), score calculation speed (111165/sec), phase total (2), environment mode (NON_REPRODUCIBLE), move thread count (NONE).\n</code></pre>\n"},{"tags":["java","json","spring-boot","deserialization","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701872439,"creation_date":1701872439,"answer_id":77613878,"question_id":77611830,"body_markdown":"You are saying that ALL deserialized fields in the created object become null. This means that you have no problem with converting snake case to camel case but with your model. The field `color` would be set otherwise - it is not in snake case.\r\n\r\nTo get an object correctly mapped from the JSON provided in your question you should model the Java classes (DTO) like this:\r\n```java\r\npublic class CarDto {\r\n  private Car car;\r\n}\r\npublic class Car {\r\n  private Long totalPrice;\r\n  private String color;\r\n  private String yearAndModel;\r\n}\r\n```\r\nDon&#39;t forget to implement getters and setters. They are essential for Jackson JSON mapper used by Spring.\r\n\r\nIn addition to this you need to tell Spring to convert from snake to camel case by one of following options:\r\n\r\nOption 1 - set the global property:\r\n```\r\nspring.jackson.property-naming-strategy=SNAKE_CASE\r\n```\r\nOption 2 - configure the global object mapper:\r\n```java\r\n@Bean\r\nObjectMapper objectMapper() {\r\n    return new ObjectMapper().setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\r\n}\r\n```","title":"Deserialization of snake_case to camel_case in spring boot with openapi generator","body":"<p>You are saying that ALL deserialized fields in the created object become null. This means that you have no problem with converting snake case to camel case but with your model. The field <code>color</code> would be set otherwise - it is not in snake case.</p>\n<p>To get an object correctly mapped from the JSON provided in your question you should model the Java classes (DTO) like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CarDto {\n  private Car car;\n}\npublic class Car {\n  private Long totalPrice;\n  private String color;\n  private String yearAndModel;\n}\n</code></pre>\n<p>Don't forget to implement getters and setters. They are essential for Jackson JSON mapper used by Spring.</p>\n<p>In addition to this you need to tell Spring to convert from snake to camel case by one of following options:</p>\n<p>Option 1 - set the global property:</p>\n<pre><code>spring.jackson.property-naming-strategy=SNAKE_CASE\n</code></pre>\n<p>Option 2 - configure the global object mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nObjectMapper objectMapper() {\n    return new ObjectMapper().setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\n}\n</code></pre>\n"}],"owner":{"account_id":157768,"reputation":4889,"user_id":1306402,"accept_rate":57,"display_name":"Madu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701872439,"creation_date":1701854497,"question_id":77611830,"body_markdown":"In our spring boot service, we are using open API to generate the contracts and the interface which our rest controller can implement.\r\n\r\nHowever, in the request body, the fields are in snake case but the fields in the Java class are in camel case and as a result, all the deserialized fields in the created object become null.\r\n\r\nHere is the request object.\r\n\r\n\r\n     {\r\n       &quot;car&quot;: {\r\n                &quot;total_price&quot;: 21300,\r\n                &quot;color&quot;: &quot;blue&quot;,\r\n                &quot;year_and_model&quot;: &quot;Ford 2021&quot;\r\n               }\r\n     }\r\nand my generated car class looks like\r\n\r\n```\r\n@Schema(name = &quot;Car&quot;, description = &quot;Car request payload&quot;)\r\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-12-06T10:01:37.820309+02:00[Europe/Helsinki]&quot;)\r\npublic class Car {\r\n\r\n  private Long totalPrice;\r\n\r\n  private String color;\r\n\r\n  private String yearAndModel;\r\n\r\n}\r\n```\r\n\r\nI have added `spring.jackson.property-naming-strategy=SNAKE_CASE` in `application.properties` and also tried with the following solutions \r\n\r\n - Add the following build.gradle\r\n```\r\n&quot;additionalModelTypeAnnotations&quot;: &quot;@com.fasterxml.jackson.databind.annotation.JsonNaming(com.fasterxml.jackson.databind.PropertyNamingStrategies.SnakeCaseStrategy.class)&quot;\r\n``` \r\nto `configOptions.set([])` in `openApiGenerate`\r\n - Add added a bean for ModelResolver as some [answers][1] suggest \r\n```\r\n@Bean\r\n   public ModelResolver modelResolver(ObjectMapper objectMapper) {\r\n     return new ModelResolver(objectMapper.setPropertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE));\r\n}\r\n```\r\nBut none of the solutions work. Can anybody help me with this?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67192746/how-to-change-namingstrategy-in-springdoc","title":"Deserialization of snake_case to camel_case in spring boot with openapi generator","body":"<p>In our spring boot service, we are using open API to generate the contracts and the interface which our rest controller can implement.</p>\n<p>However, in the request body, the fields are in snake case but the fields in the Java class are in camel case and as a result, all the deserialized fields in the created object become null.</p>\n<p>Here is the request object.</p>\n<pre><code> {\n   &quot;car&quot;: {\n            &quot;total_price&quot;: 21300,\n            &quot;color&quot;: &quot;blue&quot;,\n            &quot;year_and_model&quot;: &quot;Ford 2021&quot;\n           }\n }\n</code></pre>\n<p>and my generated car class looks like</p>\n<pre><code>@Schema(name = &quot;Car&quot;, description = &quot;Car request payload&quot;)\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-12-06T10:01:37.820309+02:00[Europe/Helsinki]&quot;)\npublic class Car {\n\n  private Long totalPrice;\n\n  private String color;\n\n  private String yearAndModel;\n\n}\n</code></pre>\n<p>I have added <code>spring.jackson.property-naming-strategy=SNAKE_CASE</code> in <code>application.properties</code> and also tried with the following solutions</p>\n<ul>\n<li>Add the following build.gradle</li>\n</ul>\n<pre><code>&quot;additionalModelTypeAnnotations&quot;: &quot;@com.fasterxml.jackson.databind.annotation.JsonNaming(com.fasterxml.jackson.databind.PropertyNamingStrategies.SnakeCaseStrategy.class)&quot;\n</code></pre>\n<p>to <code>configOptions.set([])</code> in <code>openApiGenerate</code></p>\n<ul>\n<li>Add added a bean for ModelResolver as some <a href=\"https://stackoverflow.com/questions/67192746/how-to-change-namingstrategy-in-springdoc\">answers</a> suggest</li>\n</ul>\n<pre><code>@Bean\n   public ModelResolver modelResolver(ObjectMapper objectMapper) {\n     return new ModelResolver(objectMapper.setPropertyNamingStrategy(PropertyNamingStrategies.SNAKE_CASE));\n}\n</code></pre>\n<p>But none of the solutions work. Can anybody help me with this?</p>\n"},{"tags":["java","jar","nio2"],"comments":[{"owner":{"account_id":1828009,"reputation":4065,"user_id":1660228,"accept_rate":80,"display_name":"Loki"},"score":0,"creation_date":1427383911,"post_id":29282457,"comment_id":46762867,"body_markdown":"Why don&#39;t you (want to) stay with your current solution?","body":"Why don&#39;t you (want to) stay with your current solution?"},{"owner":{"account_id":165287,"reputation":6846,"user_id":388603,"accept_rate":61,"display_name":"Bitbang3r"},"score":2,"creation_date":1427384187,"post_id":29282457,"comment_id":46763074,"body_markdown":"The current solution only works as long as the app is running inside IntelliJ and on my own computer. That works today, but ultimately it has to be able to run from an executable Jarfile.","body":"The current solution only works as long as the app is running inside IntelliJ and on my own computer. That works today, but ultimately it has to be able to run from an executable Jarfile."}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275368,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":2,"up_vote_count":95,"is_accepted":true,"score":93,"last_activity_date":1701872373,"creation_date":1427383912,"answer_id":29282588,"question_id":29282457,"body_markdown":"An `InputStream` represents a stream of bytes. Those bytes don&#39;t necessarily form (text) content that can be read line by line.\r\n\r\nIf you know that the `InputStream` can be interpreted as text, you can wrap it in a `InputStreamReader` and use [`BufferedReader#lines()`][1] to consume it line by line.\r\n\r\n\r\n\ttry (InputStream resource = Example.class.getResourceAsStream(&quot;resource&quot;);\r\n\t\t InputStreamReader inputStreamReader = new InputStreamReader(resource, StandardCharsets.UTF_8);\r\n\t\t BufferedReader bufferedReader = new BufferedReader(inputStreamReader)) {\r\n\t\tList&lt;String&gt; doc = bufferedReader.lines().collect(Collectors.toList());\r\n\t\t// ...\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--","title":"equivalent to Files.readAllLines() for InputStream or Reader?","body":"<p>An <code>InputStream</code> represents a stream of bytes. Those bytes don't necessarily form (text) content that can be read line by line.</p>\n<p>If you know that the <code>InputStream</code> can be interpreted as text, you can wrap it in a <code>InputStreamReader</code> and use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--\" rel=\"nofollow noreferrer\"><code>BufferedReader#lines()</code></a> to consume it line by line.</p>\n<pre><code>try (InputStream resource = Example.class.getResourceAsStream(&quot;resource&quot;);\n     InputStreamReader inputStreamReader = new InputStreamReader(resource, StandardCharsets.UTF_8);\n     BufferedReader bufferedReader = new BufferedReader(inputStreamReader)) {\n    List&lt;String&gt; doc = bufferedReader.lines().collect(Collectors.toList());\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19777,"reputation":9944,"user_id":46635,"accept_rate":57,"display_name":"splintor"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1456133131,"creation_date":1456133131,"answer_id":35549910,"question_id":29282457,"body_markdown":"You can use Apache Commons [IOUtils#readLines][1]:\r\n\r\n`List&lt;String&gt; doc = IOUtils.readLines(inputStream, StandardCharsets.UTF_8);`\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/IOUtils.html#readLines(java.io.InputStream,%20java.nio.charset.Charset)","title":"equivalent to Files.readAllLines() for InputStream or Reader?","body":"<p>You can use Apache Commons <a href=\"http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/IOUtils.html#readLines(java.io.InputStream,%20java.nio.charset.Charset)\" rel=\"noreferrer\">IOUtils#readLines</a>:</p>\n\n<p><code>List&lt;String&gt; doc = IOUtils.readLines(inputStream, StandardCharsets.UTF_8);</code></p>\n"}],"owner":{"account_id":165287,"reputation":6846,"user_id":388603,"accept_rate":61,"display_name":"Bitbang3r"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40280,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":29282588,"answer_count":2,"score":64,"last_activity_date":1701872373,"creation_date":1427383559,"question_id":29282457,"body_markdown":"I have a file that I&#39;ve been reading into a List&lt;String&gt; via the following method:\r\n\r\n    List&lt;String&gt; doc = java.nio.file.Files.readAllLines(new File(&quot;/path/to/src/resources/citylist.csv&quot;).toPath(), StandardCharsets.UTF_8);\r\n\r\n\r\nIs there any nice (single-line) Java 7/8/nio2 way to pull off the same feat with a file that&#39;s inside an executable Jar (and presumably, has to be read with an InputStream)? Perhaps a way to open an InputStream via the classloader, then somehow coerce/transform/wrap it into a Path object? Or some new subclass of InputStream or Reader that contains an equivalent to File.readAllLines(...)?\r\n\r\nI know I *could* do it the traditional way in a half page of code, or via some external library... but before I do, I want to make sure that recent releases of Java can&#39;t already do it &quot;out of the box&quot;.","title":"equivalent to Files.readAllLines() for InputStream or Reader?","body":"<p>I have a file that I've been reading into a List via the following method:</p>\n\n<pre><code>List&lt;String&gt; doc = java.nio.file.Files.readAllLines(new File(\"/path/to/src/resources/citylist.csv\").toPath(), StandardCharsets.UTF_8);\n</code></pre>\n\n<p>Is there any nice (single-line) Java 7/8/nio2 way to pull off the same feat with a file that's inside an executable Jar (and presumably, has to be read with an InputStream)? Perhaps a way to open an InputStream via the classloader, then somehow coerce/transform/wrap it into a Path object? Or some new subclass of InputStream or Reader that contains an equivalent to File.readAllLines(...)?</p>\n\n<p>I know I <em>could</em> do it the traditional way in a half page of code, or via some external library... but before I do, I want to make sure that recent releases of Java can't already do it \"out of the box\".</p>\n"},{"tags":["java","spring-boot","azure-application-insights"],"answers":[{"tags":[],"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701872337,"creation_date":1701872337,"answer_id":77613867,"question_id":77612840,"body_markdown":"Here, I have created separate properties files for each environment (`demo.properties`, `local.properties`, `dev.properties`).\r\n\r\n![enter image description here](https://i.imgur.com/EiwRovG.png)\r\n\r\n**MyApp.java:**\r\n\r\n```java\r\nimport com.microsoft.applicationinsights.TelemetryConfiguration;\r\n\r\nimport java.io.InputStream;\r\nimport java.util.Properties;\r\n\r\npublic class MyApp {\r\n\r\n    public static void main(String[] args) {\r\n        // Load configuration from demo.properties by default\r\n        loadConfiguration(&quot;demo.properties&quot;);\r\n\r\n        // Get configuration values\r\n        String connectionString = AppConfig.getConnectionString();\r\n        String roleName = AppConfig.getRoleName();\r\n        String roleInstance = AppConfig.getRoleInstance();\r\n\r\n        // Set up Application Insights with the configuration\r\n        TelemetryConfiguration.getActive().setInstrumentationKey(connectionString);\r\n\r\n        // Simulate logging an event\r\n        logEvent(roleName, roleInstance);\r\n    }\r\n\r\n    private static void loadConfiguration(String configFile) {\r\n        try (InputStream input = MyApp.class.getClassLoader().getResourceAsStream(configFile)) {\r\n            Properties properties = new Properties();\r\n            properties.load(input);\r\n\r\n            // Set the configuration in the AppConfig class\r\n            AppConfig.setConnectionString(properties.getProperty(&quot;applicationinsights.connection.string&quot;));\r\n            AppConfig.setRoleName(properties.getProperty(&quot;role.name&quot;));\r\n            AppConfig.setRoleInstance(properties.getProperty(&quot;role.instance&quot;));\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static void logEvent(String roleName, String roleInstance) {\r\n        // Simulate logging an event with role and role instance information\r\n        System.out.println(&quot;Logging event with Role: &quot; + roleName + &quot;, Role Instance: &quot; + roleInstance);\r\n    }\r\n}\r\n```\r\n\r\n**AppConfig.java:**\r\n\r\n```java\r\npublic class AppConfig {\r\n    private static String connectionString;\r\n    private static String roleName;\r\n    private static String roleInstance;\r\n\r\n    public static String getConnectionString() {\r\n        return connectionString;\r\n    }\r\n\r\n    public static void setConnectionString(String connectionString) {\r\n        AppConfig.connectionString = connectionString;\r\n    }\r\n\r\n    public static String getRoleName() {\r\n        return roleName;\r\n    }\r\n\r\n    public static void setRoleName(String roleName) {\r\n        AppConfig.roleName = roleName;\r\n    }\r\n\r\n    public static String getRoleInstance() {\r\n        return roleInstance;\r\n    }\r\n\r\n    public static void setRoleInstance(String roleInstance) {\r\n        AppConfig.roleInstance = roleInstance;\r\n    }\r\n}\r\n```\r\n\r\n- The above application loads configuration from a specific properties file (`demo.properties` by default) and logs an event with role and role instance information.\r\n\r\n![enter image description here](https://i.imgur.com/98Jy12T.png)\r\n\r\nI can see the appropriate logs generating as per my configuration.","title":"Microsoft Insight Java - Role name and instance in config file","body":"<p>Here, I have created separate properties files for each environment (<code>demo.properties</code>, <code>local.properties</code>, <code>dev.properties</code>).</p>\n<p><img src=\"https://i.imgur.com/EiwRovG.png\" alt=\"enter image description here\" /></p>\n<p><strong>MyApp.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.microsoft.applicationinsights.TelemetryConfiguration;\n\nimport java.io.InputStream;\nimport java.util.Properties;\n\npublic class MyApp {\n\n    public static void main(String[] args) {\n        // Load configuration from demo.properties by default\n        loadConfiguration(&quot;demo.properties&quot;);\n\n        // Get configuration values\n        String connectionString = AppConfig.getConnectionString();\n        String roleName = AppConfig.getRoleName();\n        String roleInstance = AppConfig.getRoleInstance();\n\n        // Set up Application Insights with the configuration\n        TelemetryConfiguration.getActive().setInstrumentationKey(connectionString);\n\n        // Simulate logging an event\n        logEvent(roleName, roleInstance);\n    }\n\n    private static void loadConfiguration(String configFile) {\n        try (InputStream input = MyApp.class.getClassLoader().getResourceAsStream(configFile)) {\n            Properties properties = new Properties();\n            properties.load(input);\n\n            // Set the configuration in the AppConfig class\n            AppConfig.setConnectionString(properties.getProperty(&quot;applicationinsights.connection.string&quot;));\n            AppConfig.setRoleName(properties.getProperty(&quot;role.name&quot;));\n            AppConfig.setRoleInstance(properties.getProperty(&quot;role.instance&quot;));\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void logEvent(String roleName, String roleInstance) {\n        // Simulate logging an event with role and role instance information\n        System.out.println(&quot;Logging event with Role: &quot; + roleName + &quot;, Role Instance: &quot; + roleInstance);\n    }\n}\n</code></pre>\n<p><strong>AppConfig.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AppConfig {\n    private static String connectionString;\n    private static String roleName;\n    private static String roleInstance;\n\n    public static String getConnectionString() {\n        return connectionString;\n    }\n\n    public static void setConnectionString(String connectionString) {\n        AppConfig.connectionString = connectionString;\n    }\n\n    public static String getRoleName() {\n        return roleName;\n    }\n\n    public static void setRoleName(String roleName) {\n        AppConfig.roleName = roleName;\n    }\n\n    public static String getRoleInstance() {\n        return roleInstance;\n    }\n\n    public static void setRoleInstance(String roleInstance) {\n        AppConfig.roleInstance = roleInstance;\n    }\n}\n</code></pre>\n<ul>\n<li>The above application loads configuration from a specific properties file (<code>demo.properties</code> by default) and logs an event with role and role instance information.</li>\n</ul>\n<p><img src=\"https://i.imgur.com/98Jy12T.png\" alt=\"enter image description here\" /></p>\n<p>I can see the appropriate logs generating as per my configuration.</p>\n"}],"owner":{"account_id":18833175,"reputation":45,"user_id":13736489,"display_name":"Sebastian Halik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701872337,"creation_date":1701863659,"question_id":77612840,"body_markdown":"I got task to add Microsoft Insight to our API. In Api we have structure like this:\r\n```\r\nmain\r\n profile\r\n   demo.properties\r\n   local.properties\r\n   dev.properties\r\napplication.properties\r\n```\r\n\r\n\r\nI read in insight documentation that connection string, role etc can be different for each environment. I use connection string as environment variable, but i don&#39;t know how to achieve different role.name and role.instance for each environment and write it in these demo/local/dev.properties. If i can add connection string also to these properties it would be great\r\n\r\nI was using applicationinsights.connection.string in local.properties, but it wasn&#39;t work","title":"Microsoft Insight Java - Role name and instance in config file","body":"<p>I got task to add Microsoft Insight to our API. In Api we have structure like this:</p>\n<pre><code>main\n profile\n   demo.properties\n   local.properties\n   dev.properties\napplication.properties\n</code></pre>\n<p>I read in insight documentation that connection string, role etc can be different for each environment. I use connection string as environment variable, but i don't know how to achieve different role.name and role.instance for each environment and write it in these demo/local/dev.properties. If i can add connection string also to these properties it would be great</p>\n<p>I was using applicationinsights.connection.string in local.properties, but it wasn't work</p>\n"},{"tags":["java","database","mongodb","spring-boot","sharding"],"comments":[{"owner":{"account_id":15230227,"reputation":62,"user_id":10989568,"display_name":"yberrada"},"score":0,"creation_date":1701837952,"post_id":77609844,"comment_id":136823555,"body_markdown":"Can you confirm that all shards are running the same mongodb version?","body":"Can you confirm that all shards are running the same mongodb version?"},{"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"score":0,"creation_date":1701951152,"post_id":77609844,"comment_id":136839745,"body_markdown":"Yes all are using 6.0.2 version of mongodb","body":"Yes all are using 6.0.2 version of mongodb"}],"answers":[{"tags":[],"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701872181,"creation_date":1701872181,"answer_id":77613843,"question_id":77609844,"body_markdown":"`TransientTransactionError` is considered a possibly temporary and retryable error as mentioned [here][1]. So you may try to retry it manually in old style (see [here][2]) or better, and this way is recommended, to use a relatively new [method][3]: `WithTransaction` that handles retry logic behind the scene. I didn&#39;t work with `spring-boot`, so not sure how it can be called there, so you have to investigate it additionally\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52867766/9492730\r\n  [2]: https://www.mongodb.com/docs/v4.0/core/transactions/#retry-transaction\r\n  [3]: https://mongodb.github.io/mongo-java-driver/4.11/apidocs/mongodb-driver-sync/com/mongodb/client/ClientSession.html#withTransaction(com.mongodb.client.TransactionBody)","title":"How to fix TransientTransactionError in Shard Mongo DB with spring boot?","body":"<p><code>TransientTransactionError</code> is considered a possibly temporary and retryable error as mentioned <a href=\"https://stackoverflow.com/a/52867766/9492730\">here</a>. So you may try to retry it manually in old style (see <a href=\"https://www.mongodb.com/docs/v4.0/core/transactions/#retry-transaction\" rel=\"nofollow noreferrer\">here</a>) or better, and this way is recommended, to use a relatively new <a href=\"https://mongodb.github.io/mongo-java-driver/4.11/apidocs/mongodb-driver-sync/com/mongodb/client/ClientSession.html#withTransaction(com.mongodb.client.TransactionBody)\" rel=\"nofollow noreferrer\">method</a>: <code>WithTransaction</code> that handles retry logic behind the scene. I didn't work with <code>spring-boot</code>, so not sure how it can be called there, so you have to investigate it additionally</p>\n"}],"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701872181,"creation_date":1701820068,"question_id":77609844,"body_markdown":"**Scenario:**\r\n1. I am using Mongo DB 6+ version with spring boot. \r\n\r\n```\r\n @Bean\r\n    MongoTransactionManager transactionManager(MongoDatabaseFactory dbFactory) {\r\n        return new MongoTransactionManager(dbFactory);\r\n    }\r\n```\r\n\r\n```\r\n @Transactional\r\n    public void save(Cart cart,Item item) {\r\n        Cart cartFromDB = cartRepo.findById(cart.getId());\r\n        if(cartFromDB!= null){\r\n            cart.setId(cartFromDB.getId());\r\n            cartRepo.save(cart);\r\n        }else{\r\n            cartRepo.save(cart);\r\n        }\r\n        itemRepo.save(item);\r\n    }\r\n```\r\n\r\n2. I am using ```@Transactional``` to save two different document in the same transaction.\r\n3. I was having Mongo DB with replica set, it worked fine without any error..\r\n4. Now Mongo DB has been changed to use sharding.\r\n5. I suspect after this change, I am getting TransientTransactionError intermittently. After couple of tries manually its getting succeeded\r\n6. When I implement retry it succeeded. \r\n\r\n**Error message:**\r\n\r\n```com.mongodb.MongoCommandException: Command failed with error 13388 (StaleConfig): &#39;Transaction sd-ef6d-dsd-83bd-fsdfdf - dfdfdfdfdsdfdsfsd= -  - :1 was aborted on statement 2 due to: an error from cluster data placement change :: caused by :: Encountered error from mongodb.cluster.local:26009 during a transaction :: caused by :: sharding status of collection mongodb.item is not currently known and needs to be recovered&#39; on server mongos.xxxx.com:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Transaction c43f42bd-ef6d-4c48-83bd-fgdfgsdfsgf - fgggeddddsksduydhdhsh= -  - :1 was aborted on statement 2 due to: an error from cluster data placement change :: caused by :: Encountered error from mongodb.cluster.local:26009 during a transaction ::..... &quot;errorLabels&quot;: [&quot;TransientTransactionError&quot;]}```\r\n\r\n\r\n**Question:**\r\n\r\n - Is this something to do with sharding? \r\n - Should I implement retry in\r\n   the code as suggested by some other forums. eg\r\n   https://stackoverflow.com/questions/52153538/what-is-a-transienttransactionerror-in-mongoose-or-mongodb","title":"How to fix TransientTransactionError in Shard Mongo DB with spring boot?","body":"<p><strong>Scenario:</strong></p>\n<ol>\n<li>I am using Mongo DB 6+ version with spring boot.</li>\n</ol>\n<pre><code> @Bean\n    MongoTransactionManager transactionManager(MongoDatabaseFactory dbFactory) {\n        return new MongoTransactionManager(dbFactory);\n    }\n</code></pre>\n<pre><code> @Transactional\n    public void save(Cart cart,Item item) {\n        Cart cartFromDB = cartRepo.findById(cart.getId());\n        if(cartFromDB!= null){\n            cart.setId(cartFromDB.getId());\n            cartRepo.save(cart);\n        }else{\n            cartRepo.save(cart);\n        }\n        itemRepo.save(item);\n    }\n</code></pre>\n<ol start=\"2\">\n<li>I am using <code>@Transactional</code> to save two different document in the same transaction.</li>\n<li>I was having Mongo DB with replica set, it worked fine without any error..</li>\n<li>Now Mongo DB has been changed to use sharding.</li>\n<li>I suspect after this change, I am getting TransientTransactionError intermittently. After couple of tries manually its getting succeeded</li>\n<li>When I implement retry it succeeded.</li>\n</ol>\n<p><strong>Error message:</strong></p>\n<p><code>com.mongodb.MongoCommandException: Command failed with error 13388 (StaleConfig): 'Transaction sd-ef6d-dsd-83bd-fsdfdf - dfdfdfdfdsdfdsfsd= -  - :1 was aborted on statement 2 due to: an error from cluster data placement change :: caused by :: Encountered error from mongodb.cluster.local:26009 during a transaction :: caused by :: sharding status of collection mongodb.item is not currently known and needs to be recovered' on server mongos.xxxx.com:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Transaction c43f42bd-ef6d-4c48-83bd-fgdfgsdfsgf - fgggeddddsksduydhdhsh= -  - :1 was aborted on statement 2 due to: an error from cluster data placement change :: caused by :: Encountered error from mongodb.cluster.local:26009 during a transaction ::..... &quot;errorLabels&quot;: [&quot;TransientTransactionError&quot;]}</code></p>\n<p><strong>Question:</strong></p>\n<ul>\n<li>Is this something to do with sharding?</li>\n<li>Should I implement retry in\nthe code as suggested by some other forums. eg\n<a href=\"https://stackoverflow.com/questions/52153538/what-is-a-transienttransactionerror-in-mongoose-or-mongodb\">What is a TransientTransactionError in Mongoose (or MongoDB)?</a></li>\n</ul>\n"},{"tags":["java","maven","intellij-idea","compilation","multi-module"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1587468307,"post_id":61341102,"comment_id":108517574,"body_markdown":"Look at `mvn dependency:list`. See which version is on the list. Open that version and see if the package indeed is in that jar.","body":"Look at <code>mvn dependency:list</code>. See which version is on the list. Open that version and see if the package indeed is in that jar."},{"owner":{"account_id":11674137,"reputation":517,"user_id":8548273,"display_name":"Andranik Chorokhyan"},"score":0,"creation_date":1587469637,"post_id":61341102,"comment_id":108518279,"body_markdown":"Yes, it is. The **api** module dependency version&#39;s jar exists in my **.m2** repo","body":"Yes, it is. The <b>api</b> module dependency version&#39;s jar exists in my <b>.m2</b> repo"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1587469801,"post_id":61341102,"comment_id":108518370,"body_markdown":"So have you opened the jar and looked whether it contains the `*.class` file that you are looking for?","body":"So have you opened the jar and looked whether it contains the <code>*.class</code> file that you are looking for?"},{"owner":{"account_id":11674137,"reputation":517,"user_id":8548273,"display_name":"Andranik Chorokhyan"},"score":0,"creation_date":1587470159,"post_id":61341102,"comment_id":108518571,"body_markdown":"Yes, I did. I have opened the ```BOOT-INF/classes``` directory and found the appropriate ```class``` file by the expected package path","body":"Yes, I did. I have opened the <code>BOOT-INF&#47;classes</code> directory and found the appropriate <code>class</code> file by the expected package path"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1587470691,"post_id":61341102,"comment_id":108518857,"body_markdown":"The class should not be in a subdirectory. Note that you should not construct dependencies to executable jars like those from Spring Boot.","body":"The class should not be in a subdirectory. Note that you should not construct dependencies to executable jars like those from Spring Boot."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1587470696,"post_id":61341102,"comment_id":108518860,"body_markdown":"Ah so you have a spring boot app package as a dependency which does not work...so it&#39;s not an reusable API it&#39;s an application","body":"Ah so you have a spring boot app package as a dependency which does not work...so it&#39;s not an reusable API it&#39;s an application"},{"owner":{"account_id":11674137,"reputation":517,"user_id":8548273,"display_name":"Andranik Chorokhyan"},"score":0,"creation_date":1587471221,"post_id":61341102,"comment_id":108519163,"body_markdown":"Yes, but technically it&#39;s a jar, right? Why I can&#39;t have a dependency from it?","body":"Yes, but technically it&#39;s a jar, right? Why I can&#39;t have a dependency from it?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1587474223,"post_id":61341102,"comment_id":108520890,"body_markdown":"Because it puts the classes under `BOOT-INF` and not into the main directory.","body":"Because it puts the classes under <code>BOOT-INF</code> and not into the main directory."},{"owner":{"account_id":11674137,"reputation":517,"user_id":8548273,"display_name":"Andranik Chorokhyan"},"score":0,"creation_date":1587476577,"post_id":61341102,"comment_id":108522339,"body_markdown":"Hm, got it. So, even if that&#39;s a module in my project, I am not able to use it&#39;s classes in another module.\nBut why the IntelliJ Idea does not catch the error?","body":"Hm, got it. So, even if that&#39;s a module in my project, I am not able to use it&#39;s classes in another module. But why the IntelliJ Idea does not catch the error?"}],"answers":[{"tags":[],"owner":{"account_id":11674137,"reputation":517,"user_id":8548273,"display_name":"Andranik Chorokhyan"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1587545794,"creation_date":1587545794,"answer_id":61361079,"question_id":61341102,"body_markdown":"Finally I have found the solution. Thanks [JF Meier][1] and [khmarbaise][2] for hints.\r\n\r\nIt appeared Maven doesn&#39;t allow dependency from executable jar. This was my case. My **api** module was an executable **Spring Boot** application and not reusable library.\r\n\r\nSo, the solution was the following:\r\n\r\n 1. It was necessary to find the ```Application.java``` file in ```api``` module.\r\n 2. Add ```maven-jar-plugin``` with exclusion of the ```Application.java``` file and specification of some classifier\r\n 3. Making dependency in ```acceptance-tests``` module from the above specified classifier instead of standard jar\r\n\r\nPlugin specification in **api** module below:\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;classifier&gt;qa&lt;/classifier&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;**/Application*&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nDependency in **acceptance-tests** module below:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;artifactId&gt;xxx-api&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.xxx&lt;/groupId&gt;\r\n            &lt;version&gt;${api.version}&lt;/version&gt;\r\n            &lt;classifier&gt;qa&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n  [1]: https://stackoverflow.com/users/927493/jf-meier\r\n  [2]: https://stackoverflow.com/users/296328/khmarbaise","title":"Maven doesn&#39;t find imported class from another module but Intellij does","body":"<p>Finally I have found the solution. Thanks <a href=\"https://stackoverflow.com/users/927493/jf-meier\">JF Meier</a> and <a href=\"https://stackoverflow.com/users/296328/khmarbaise\">khmarbaise</a> for hints.</p>\n\n<p>It appeared Maven doesn't allow dependency from executable jar. This was my case. My <strong>api</strong> module was an executable <strong>Spring Boot</strong> application and not reusable library.</p>\n\n<p>So, the solution was the following:</p>\n\n<ol>\n<li>It was necessary to find the <code>Application.java</code> file in <code>api</code> module.</li>\n<li>Add <code>maven-jar-plugin</code> with exclusion of the <code>Application.java</code> file and specification of some classifier</li>\n<li>Making dependency in <code>acceptance-tests</code> module from the above specified classifier instead of standard jar</li>\n</ol>\n\n<p>Plugin specification in <strong>api</strong> module below:</p>\n\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;qa&lt;/classifier&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;**/Application*&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n\n<p>Dependency in <strong>acceptance-tests</strong> module below:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;artifactId&gt;xxx-api&lt;/artifactId&gt;\n            &lt;groupId&gt;com.xxx&lt;/groupId&gt;\n            &lt;version&gt;${api.version}&lt;/version&gt;\n            &lt;classifier&gt;qa&lt;/classifier&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1605000382,"creation_date":1605000382,"answer_id":64766118,"question_id":61341102,"body_markdown":"I was also getting symbol not found errors while compiling with maven, and the solution is for spring boot 2 you need to configure plugin as below, **[classifier exec][1]**\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t        &lt;configuration&gt;\r\n\t            &lt;classifier&gt;exec&lt;/classifier&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\nIf you are working with spring boot 1\r\n\r\n        &lt;plugin&gt;\r\n    \t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t    &lt;executions&gt;\r\n    \t        &lt;execution&gt;\r\n    \t            &lt;goals&gt;\r\n    \t                &lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t            &lt;/goals&gt;\r\n    \t            &lt;configuration&gt;\r\n    \t                &lt;classifier&gt;exec&lt;/classifier&gt;\r\n    \t            &lt;/configuration&gt;\r\n    \t        &lt;/execution&gt;\r\n    \t    &lt;/executions&gt;\r\n    \t&lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/html/#goals-repackage-parameters-details-classifier","title":"Maven doesn&#39;t find imported class from another module but Intellij does","body":"<p>I was also getting symbol not found errors while compiling with maven, and the solution is for spring boot 2 you need to configure plugin as below, <strong><a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/html/#goals-repackage-parameters-details-classifier\" rel=\"noreferrer\">classifier exec</a></strong></p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;classifier&gt;exec&lt;/classifier&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>If you are working with spring boot 1</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;repackage&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;classifier&gt;exec&lt;/classifier&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30019832,"reputation":11,"user_id":23005453,"display_name":"sirirak buncharoensawat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701434795,"creation_date":1701242481,"answer_id":77569233,"question_id":61341102,"body_markdown":"**Spring-boot-maven-plugin** should be removed from the **pom.xml** inside the library, because there is no need to build an executable jar for a Library project.\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;/plugin&gt;\r\n\r\nsee more details in [multi-module][1]\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/multi-module/","title":"Maven doesn&#39;t find imported class from another module but Intellij does","body":"<p><strong>Spring-boot-maven-plugin</strong> should be removed from the <strong>pom.xml</strong> inside the library, because there is no need to build an executable jar for a Library project.</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>see more details in <a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">multi-module</a></p>\n"},{"tags":[],"owner":{"account_id":21281949,"reputation":21,"user_id":15660240,"display_name":"Alexander Semenchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701871853,"creation_date":1701871853,"answer_id":77613802,"question_id":61341102,"body_markdown":"The `spring-boot-maven-plugin` when you `install/deploy` repackages your project and places it into a local/remote repository, this jar file cannot be used as a library, according to the [documentation][1] you should configure the plugin to install/deploy only the original jar file.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;repackage&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;repackage&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;attach&gt;false&lt;/attach&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n \r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#packaging.examples.local-artifact","title":"Maven doesn&#39;t find imported class from another module but Intellij does","body":"<p>The <code>spring-boot-maven-plugin</code> when you <code>install/deploy</code> repackages your project and places it into a local/remote repository, this jar file cannot be used as a library, according to the <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#packaging.examples.local-artifact\" rel=\"nofollow noreferrer\">documentation</a> you should configure the plugin to install/deploy only the original jar file.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;repackage&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;attach&gt;false&lt;/attach&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":11674137,"reputation":517,"user_id":8548273,"display_name":"Andranik Chorokhyan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6149,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":61361079,"answer_count":4,"score":9,"last_activity_date":1701871853,"creation_date":1587464189,"question_id":61341102,"body_markdown":"I have multi-module maven project. The **acceptance-tests** module has dependency from **api** module in **pom.xml** (Replacing real company name by ***xxx*** to keep confidentiality). I am trying to import some classes from **api** module in my **acceptance-tests**.\r\n\r\nHere is my **pom.xml** dependency of **acceptance-tests** module:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;artifactId&gt;xxx-api&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.xxx&lt;/groupId&gt;\r\n            &lt;version&gt;${xxx.api.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThe **api** module separately is being installed and packaged (**mvn install**, **mvn package**) by maven without any issue. The **jar** file is being created in my local **.m2**.\r\n\r\nHowever, when I try to compile the **acceptance-tests** module, I get a compilation error saying that the the classes cannot be imported because the package is not found.\r\n\r\nHere is the actual error:\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project xxx-acceptance-tests: Compilation failure: Compilation failure: \r\n[ERROR] /Users/andranik_chorokhyan/mydisk/Projects/XXX/automation/xxx-project-test-automation/xxx-acceptance-tests/src/main/java/com/xxx/xxx/utilities/api/ApiPayloadUtils.java:[17,38] package com.xxx.domain.dto does not exist\r\n[ERROR] /Users/andranik_chorokhyan/mydisk/Projects/XXX/automation/xxx-project-test-automation/xxx-acceptance-tests/src/main/java/com/xxx/xxx/utilities/api/ApiPayloadUtils.java:[18,38] package com.xxx.domain.dto does not exist\r\n[ERROR]   symbol:   class MappingData\r\n[ERROR]   location: class com.xxx.utilities.api.ApiPayloadUtils\r\n```\r\n\r\nOne more interesting fact is that there is no error visible in Intellij IDEA. No red underline, no compilation error, no problem with navigating to the appropriate imported file.\r\nAnd in reality, the **com.xxx.domain.dto** package does exist and the **MappingData** class as well.\r\n\r\nI removed whole **xxx** directory from my local **.m2** repository and executed ```mvn clean dependency:resolve``` command. It succeeded as well.\r\n\r\nDoes anybody know what&#39;s the problem here and how it can be solved?\r\nThanks in advance!","title":"Maven doesn&#39;t find imported class from another module but Intellij does","body":"<p>I have multi-module maven project. The <strong>acceptance-tests</strong> module has dependency from <strong>api</strong> module in <strong>pom.xml</strong> (Replacing real company name by <strong><em>xxx</em></strong> to keep confidentiality). I am trying to import some classes from <strong>api</strong> module in my <strong>acceptance-tests</strong>.</p>\n\n<p>Here is my <strong>pom.xml</strong> dependency of <strong>acceptance-tests</strong> module:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;artifactId&gt;xxx-api&lt;/artifactId&gt;\n            &lt;groupId&gt;com.xxx&lt;/groupId&gt;\n            &lt;version&gt;${xxx.api.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>The <strong>api</strong> module separately is being installed and packaged (<strong>mvn install</strong>, <strong>mvn package</strong>) by maven without any issue. The <strong>jar</strong> file is being created in my local <strong>.m2</strong>.</p>\n\n<p>However, when I try to compile the <strong>acceptance-tests</strong> module, I get a compilation error saying that the the classes cannot be imported because the package is not found.</p>\n\n<p>Here is the actual error:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project xxx-acceptance-tests: Compilation failure: Compilation failure: \n[ERROR] /Users/andranik_chorokhyan/mydisk/Projects/XXX/automation/xxx-project-test-automation/xxx-acceptance-tests/src/main/java/com/xxx/xxx/utilities/api/ApiPayloadUtils.java:[17,38] package com.xxx.domain.dto does not exist\n[ERROR] /Users/andranik_chorokhyan/mydisk/Projects/XXX/automation/xxx-project-test-automation/xxx-acceptance-tests/src/main/java/com/xxx/xxx/utilities/api/ApiPayloadUtils.java:[18,38] package com.xxx.domain.dto does not exist\n[ERROR]   symbol:   class MappingData\n[ERROR]   location: class com.xxx.utilities.api.ApiPayloadUtils\n</code></pre>\n\n<p>One more interesting fact is that there is no error visible in Intellij IDEA. No red underline, no compilation error, no problem with navigating to the appropriate imported file.\nAnd in reality, the <strong>com.xxx.domain.dto</strong> package does exist and the <strong>MappingData</strong> class as well.</p>\n\n<p>I removed whole <strong>xxx</strong> directory from my local <strong>.m2</strong> repository and executed <code>mvn clean dependency:resolve</code> command. It succeeded as well.</p>\n\n<p>Does anybody know what's the problem here and how it can be solved?\nThanks in advance!</p>\n"},{"tags":["java","excel","csv","apache-poi","converters"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1701845888,"post_id":77606098,"comment_id":136824210,"body_markdown":"&quot;XSSFWorkbook shiftrows method is not implemented as per POI documentation (POI 4.0.1)&quot; Thats not true. Who told you that? But why not using a more current version of Apache POI? Last stable version is 5.2.5.","body":"&quot;XSSFWorkbook shiftrows method is not implemented as per POI documentation (POI 4.0.1)&quot; Thats not true. Who told you that? But why not using a more current version of Apache POI? Last stable version is 5.2.5."},{"owner":{"account_id":29708179,"reputation":9,"user_id":22768530,"display_name":"Max89"},"score":0,"creation_date":1701866538,"post_id":77606098,"comment_id":136827669,"body_markdown":"I dont need these jars very often so I continued to use older versions actually.                           \n When I am running the jar with source code posted here, I am getting error Run time exception Not Implemented, and I read on POI site that its not implemented.                                                             java.lang.RuntimeException: Not Implemented\n        at org.apache.poi.xssf.streaming.SXSSFSheet.shiftRows(SXSSFSheet.java:992)\n        at CSV2Excel.CSV2Excel.main(CSV2Excel.java:87)","body":"I dont need these jars very often so I continued to use older versions actually.                             When I am running the jar with source code posted here, I am getting error Run time exception Not Implemented, and I read on POI site that its not implemented.                                                             java.lang.RuntimeException: Not Implemented         at org.apache.poi.xssf.streaming.SXSSFSheet.shiftRows(SXSSFShee&zwnj;&#8203;t.java:992)         at CSV2Excel.CSV2Excel.main(CSV2Excel.java:87)"},{"owner":{"account_id":29708179,"reputation":9,"user_id":22768530,"display_name":"Max89"},"score":0,"creation_date":1701866628,"post_id":77606098,"comment_id":136827683,"body_markdown":"I am getting 5.2 Apache POI now and see how it works for me, Thanks.","body":"I am getting 5.2 Apache POI now and see how it works for me, Thanks."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1701868280,"post_id":77606098,"comment_id":136827979,"body_markdown":"`XSSFWorkbook` and `SXSSFWorkbook` are different. For `SXSSFSheet` `shiftRows` is not implemented even in current versions because shift rows cannot work in a streaming approach where rows become inaccessible when written to disk.","body":"<code>XSSFWorkbook</code> and <code>SXSSFWorkbook</code> are different. For <code>SXSSFSheet</code> <code>shiftRows</code> is not implemented even in current versions because shift rows cannot work in a streaming approach where rows become inaccessible when written to disk."},{"owner":{"account_id":29708179,"reputation":9,"user_id":22768530,"display_name":"Max89"},"score":0,"creation_date":1701871570,"post_id":77606098,"comment_id":136828632,"body_markdown":"Right, Sorry, wrote XSSFWorkbook instead of SXSSFWorkbook in post. Corrected it now. So even in current version it will not work. :(","body":"Right, Sorry, wrote XSSFWorkbook instead of SXSSFWorkbook in post. Corrected it now. So even in current version it will not work. :("}],"owner":{"account_id":29708179,"reputation":9,"user_id":22768530,"display_name":"Max89"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701871496,"creation_date":1701778248,"question_id":77606098,"body_markdown":"I am converting a csv file with | delimiter to excel using a JAR file and input csv has first column is Level. Level has consecutive values for some rows and discontinues in between. I want to insert new empty line in csv file whenever consecutive level is not found so that similarly it will convert to excel with blank lines. But as I am yet learning using POI APIs it seems difficult to compare columns in csv file.\r\n\r\nInstead, I wrote all data to excel and trying to insert blank rows in excel. But it seems for SXSSFWorkbook shiftrows method is not implemented as per POI documentation (POI 4.0.1) so not able to insert rows in excel. Following is my code and sample csv file:\r\n```\r\nOPRT Id|4026420\r\nOPRT Revision|B\r\nLevel|Part Type|Pl|Object ID|Revision|Name|Authoring|Status|Date\r\n1|Part Revision|0066|4100748-0066|A|PCBA1||||||30-Aug-2023 05:28||30-Aug-2023\r\n2|Part Revision|0066|4100747-0066|A|PCBA2||||||30-Aug-2023 05:28||01-Sep-2023\r\n1|Part Revision|0001|4100748-0001|B|PCBA1||||||20-Sep-2023 08:46||20-Sep-2023 08:46\r\n1|Part Revision|0066|4100747-0066|A|PCBA3||||||30-Aug-2023 05:28||01-Sep-2023 10:08\r\n1|Part Revision|8628|4100747-8628|A|PCBA4||||||01-Sep-2023 10:21||01-Sep-2023 10:22\r\n1|Part Revision|0725|4100747-0725|A|PCBA5 New||||||31-Aug-2023 07:03||04-Oct-2023 11:54\r\n1|Part Revision|8628|4100748-8628|A|PCBA1||||||01-Sep-2023 09:49||01-Sep-2023 09:49\r\n2|Part Revision|8628|4100747-8628|A|PCBA6||||||01-Sep-2023 10:21||01-Sep-2023 10:22\r\n1|Part Revision|0002|4100748-0002|A|PCBA1||||||01-Sep-2023 08:04||01-Sep-2023 08:04\r\n1|Part Revision|0260|4100748-0260|A|PCBA1||||||01-Sep-2023 09:45||01-Sep-2023 09:45\r\n1|Part Assembly Revision||4100748|B|PCBA1||||||20-Sep-2023 08:40||20-Sep-2023 08:43\r\n2|Part Revision||4100747|A|PCBA7 New||||||21-Aug-2023 08:58||04-Oct-2023 04:56\r\n2|Part Revision|0001|4100747-0001|A|PCBA8||(PR) Production||||25-Aug-2023 12:49\r\n```\r\nAny suggestion on how I can work out inserting blank lines in excel OR if inserting lines in csv if that is efficient will be really helpful.\r\n\r\nI can not use much of post processing (like executing any external script to perform this) as Excel should be the final output which users need to see.\r\n\r\n\r\n```\r\npublic class CSV2Excel {\r\n\tpublic static void main(String[] args) {\r\n\t    if (args.length &lt; 4) {\r\n\t      System.out.println(&quot;Please provide correct arguments&quot;);\r\n\t      return;\r\n\t    } \r\n\t    String timeStamp = (new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;)).format(new Date());\r\n\t    String csvFilePath = args[0];\r\n\t    String csvFileName = args[1];\r\n\t    String excelFilePath = args[2];\r\n\t    String exelFilaName = args[3];\r\n\t    String delim = &quot;\\\\|&quot;;\r\n\t    String csvFile = String.valueOf(csvFilePath) + &quot;//&quot; + csvFileName;\r\n\t    String excelFile = String.valueOf(excelFilePath) + &quot;//&quot; + exelFilaName + &quot;_&quot; + &quot;.xlsx&quot;;\r\n\t    try {\r\n\t      SXSSFWorkbook sXSSFWorkbook = new SXSSFWorkbook();\r\n\t      Sheet sheet = sXSSFWorkbook.createSheet(&quot;Sheet1&quot;);\r\n\t      int rowNumber = 0;\r\n\t      BufferedReader reader = new BufferedReader(new FileReader(csvFile));\r\n\t      System.out.println(&quot;Reading Started \\n&quot;);\r\n\t      String line;\r\n\t      while ((line = reader.readLine()) != null) {\r\n\t        String[] data = line.split(delim);\r\n\t        Row row = sheet.createRow(rowNumber++);\r\n\t        for (int i = 0; i &lt; data.length; i++) {\r\n\t          Cell cell = row.createCell(i);\r\n\t          cell.setCellValue(data[i]);\r\n\t        } \r\n\t      } \r\n\t      \r\n// as there are some header lines till row 5 comparing with 6th row\r\n\t      while(rowNumber&gt;6)\r\n\t      {\r\n\t    \t  System.out.println(&quot;inside while..&quot;);\r\n\t    \t  System.out.println(&quot;1. Total Numbers of lines Read :&quot; + rowNumber);\r\n\t    \t  \r\n\t    \t  Row lastRow = sheet.getRow(rowNumber-1);\r\n\t    \t  Row prevRow = sheet.getRow(rowNumber-2);\r\n\t    \t  \r\n\t    \t  System.out.println(&quot;got laseRow and prevrow..&quot;);\r\n\t    \t  \r\n\t    \t  Cell iLastRowLevel = lastRow.getCell(0);\r\n\t    \t  Cell iPrevRowLevel = prevRow.getCell(0);\r\n\t    \t  \r\n\t    \t  System.out.println(&quot;got 2 string levels..:&quot; + iLastRowLevel + &quot;,&quot; + iPrevRowLevel);\r\n\r\n\t    \t  \r\n\t    \t  //int iLastRowLevel = Integer.parseInt(lastRow.getCell(0).getNumericCellValue());\r\n\t    \t  //int iPrevRowLevel = String.valueOf(prevRow.getCell(0).getNumericCellValue());\r\n\t    \t  \r\n\t    \t \r\n\t    \t  //iLastRowLevel.setCellType(CellType.NUMERIC);\r\n\t    \t  //iPrevRowLevel.setCellType(CellType.NUMERIC);\r\n\t    \t  DataFormatter formatter = new DataFormatter();\r\n\t    \t formatter.formatCellValue(iLastRowLevel);\r\n\t    \t formatter.formatCellValue(iPrevRowLevel);\r\n\t    \t  System.out.println(&quot;got 2 int levels..:&quot; + formatter.formatCellValue(iLastRowLevel) + &quot;,&quot; + formatter.formatCellValue(iPrevRowLevel));\r\n\t    \t  \r\n\t    \t  double diff = Integer.parseInt(iLastRowLevel.getStringCellValue()) - Integer.parseInt(iPrevRowLevel.getStringCellValue());\r\n\t    \t \r\n\t    \t  System.out.println(&quot;got diff..:&quot; + diff);\r\n\t    \t  \r\n// inserting line if level is discontinued, do not insert line when level value in consecutive rows is //same\r\n\t    \t  if(diff&lt;0  || diff&gt;1)\r\n\t    \t  {\r\n\t    \t\t  System.out.println(&quot;need to insert a blank line \\n&quot;);\r\n\t    \t\t  //sheet.shiftRows(rowNumber,sheet.getLastRowNum()+1,1,true,true);\r\n\t    \t\t  \r\n\t    \t\t  int rows=sheet.getLastRowNum();\r\n\t    \t\t  System.out.println(&quot;got last row..:&quot; + rows);\r\n\t    \t\t  System.out.println(&quot;Rownumber current ..:&quot; + rowNumber);\r\n\t    \t\t  sheet.shiftRows(rowNumber,rows,1,true,false);\r\n\t    \t\t  Row newRow = sheet.createRow(rowNumber);\r\n\t    \t\t  \r\n\t    \t  }\r\n\t    \t  else\r\n\t    \t  {\r\n\t    \t\t  System.out.println(&quot;difference is 0 or 1 continue \\n&quot;);\r\n\t    \t\t  rowNumber=rowNumber-1;\r\n\t    \t\t  continue;\r\n\t    \t\t  \r\n\t    \t  }\r\n\t    \t  \r\n\t    \t  rowNumber=rowNumber-1;\r\n\t    \t \r\n\t      }\r\n\t      System.out.println(&quot;Total Numbers of lines Read :&quot; + rowNumber + &#39;\\001&#39;);\r\n\t      reader.close();\r\n\t      System.out.println(&quot;Reading Complete \\n&quot;);\r\n\t      System.out.println(&quot;File writing Started \\n&quot;);\r\n\t      FileOutputStream outputStream = new FileOutputStream(excelFile);\r\n\t      sXSSFWorkbook.write(outputStream);\r\n\t      sXSSFWorkbook.close();\r\n\t      outputStream.close();\r\n\t      System.out.println(&quot;File writing Completed \\n&quot;);\r\n\t    } catch (Exception e) {\r\n\t      e.printStackTrace();\r\n\t    } \r\n\t  }\r\n}\r\n```","title":"Java Insert line breaks in csv or empty rows in excel when discontinue level is found in csv to excel conversion jar","body":"<p>I am converting a csv file with | delimiter to excel using a JAR file and input csv has first column is Level. Level has consecutive values for some rows and discontinues in between. I want to insert new empty line in csv file whenever consecutive level is not found so that similarly it will convert to excel with blank lines. But as I am yet learning using POI APIs it seems difficult to compare columns in csv file.</p>\n<p>Instead, I wrote all data to excel and trying to insert blank rows in excel. But it seems for SXSSFWorkbook shiftrows method is not implemented as per POI documentation (POI 4.0.1) so not able to insert rows in excel. Following is my code and sample csv file:</p>\n<pre><code>OPRT Id|4026420\nOPRT Revision|B\nLevel|Part Type|Pl|Object ID|Revision|Name|Authoring|Status|Date\n1|Part Revision|0066|4100748-0066|A|PCBA1||||||30-Aug-2023 05:28||30-Aug-2023\n2|Part Revision|0066|4100747-0066|A|PCBA2||||||30-Aug-2023 05:28||01-Sep-2023\n1|Part Revision|0001|4100748-0001|B|PCBA1||||||20-Sep-2023 08:46||20-Sep-2023 08:46\n1|Part Revision|0066|4100747-0066|A|PCBA3||||||30-Aug-2023 05:28||01-Sep-2023 10:08\n1|Part Revision|8628|4100747-8628|A|PCBA4||||||01-Sep-2023 10:21||01-Sep-2023 10:22\n1|Part Revision|0725|4100747-0725|A|PCBA5 New||||||31-Aug-2023 07:03||04-Oct-2023 11:54\n1|Part Revision|8628|4100748-8628|A|PCBA1||||||01-Sep-2023 09:49||01-Sep-2023 09:49\n2|Part Revision|8628|4100747-8628|A|PCBA6||||||01-Sep-2023 10:21||01-Sep-2023 10:22\n1|Part Revision|0002|4100748-0002|A|PCBA1||||||01-Sep-2023 08:04||01-Sep-2023 08:04\n1|Part Revision|0260|4100748-0260|A|PCBA1||||||01-Sep-2023 09:45||01-Sep-2023 09:45\n1|Part Assembly Revision||4100748|B|PCBA1||||||20-Sep-2023 08:40||20-Sep-2023 08:43\n2|Part Revision||4100747|A|PCBA7 New||||||21-Aug-2023 08:58||04-Oct-2023 04:56\n2|Part Revision|0001|4100747-0001|A|PCBA8||(PR) Production||||25-Aug-2023 12:49\n</code></pre>\n<p>Any suggestion on how I can work out inserting blank lines in excel OR if inserting lines in csv if that is efficient will be really helpful.</p>\n<p>I can not use much of post processing (like executing any external script to perform this) as Excel should be the final output which users need to see.</p>\n<pre><code>public class CSV2Excel {\n    public static void main(String[] args) {\n        if (args.length &lt; 4) {\n          System.out.println(&quot;Please provide correct arguments&quot;);\n          return;\n        } \n        String timeStamp = (new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;)).format(new Date());\n        String csvFilePath = args[0];\n        String csvFileName = args[1];\n        String excelFilePath = args[2];\n        String exelFilaName = args[3];\n        String delim = &quot;\\\\|&quot;;\n        String csvFile = String.valueOf(csvFilePath) + &quot;//&quot; + csvFileName;\n        String excelFile = String.valueOf(excelFilePath) + &quot;//&quot; + exelFilaName + &quot;_&quot; + &quot;.xlsx&quot;;\n        try {\n          SXSSFWorkbook sXSSFWorkbook = new SXSSFWorkbook();\n          Sheet sheet = sXSSFWorkbook.createSheet(&quot;Sheet1&quot;);\n          int rowNumber = 0;\n          BufferedReader reader = new BufferedReader(new FileReader(csvFile));\n          System.out.println(&quot;Reading Started \\n&quot;);\n          String line;\n          while ((line = reader.readLine()) != null) {\n            String[] data = line.split(delim);\n            Row row = sheet.createRow(rowNumber++);\n            for (int i = 0; i &lt; data.length; i++) {\n              Cell cell = row.createCell(i);\n              cell.setCellValue(data[i]);\n            } \n          } \n          \n// as there are some header lines till row 5 comparing with 6th row\n          while(rowNumber&gt;6)\n          {\n              System.out.println(&quot;inside while..&quot;);\n              System.out.println(&quot;1. Total Numbers of lines Read :&quot; + rowNumber);\n              \n              Row lastRow = sheet.getRow(rowNumber-1);\n              Row prevRow = sheet.getRow(rowNumber-2);\n              \n              System.out.println(&quot;got laseRow and prevrow..&quot;);\n              \n              Cell iLastRowLevel = lastRow.getCell(0);\n              Cell iPrevRowLevel = prevRow.getCell(0);\n              \n              System.out.println(&quot;got 2 string levels..:&quot; + iLastRowLevel + &quot;,&quot; + iPrevRowLevel);\n\n              \n              //int iLastRowLevel = Integer.parseInt(lastRow.getCell(0).getNumericCellValue());\n              //int iPrevRowLevel = String.valueOf(prevRow.getCell(0).getNumericCellValue());\n              \n             \n              //iLastRowLevel.setCellType(CellType.NUMERIC);\n              //iPrevRowLevel.setCellType(CellType.NUMERIC);\n              DataFormatter formatter = new DataFormatter();\n             formatter.formatCellValue(iLastRowLevel);\n             formatter.formatCellValue(iPrevRowLevel);\n              System.out.println(&quot;got 2 int levels..:&quot; + formatter.formatCellValue(iLastRowLevel) + &quot;,&quot; + formatter.formatCellValue(iPrevRowLevel));\n              \n              double diff = Integer.parseInt(iLastRowLevel.getStringCellValue()) - Integer.parseInt(iPrevRowLevel.getStringCellValue());\n             \n              System.out.println(&quot;got diff..:&quot; + diff);\n              \n// inserting line if level is discontinued, do not insert line when level value in consecutive rows is //same\n              if(diff&lt;0  || diff&gt;1)\n              {\n                  System.out.println(&quot;need to insert a blank line \\n&quot;);\n                  //sheet.shiftRows(rowNumber,sheet.getLastRowNum()+1,1,true,true);\n                  \n                  int rows=sheet.getLastRowNum();\n                  System.out.println(&quot;got last row..:&quot; + rows);\n                  System.out.println(&quot;Rownumber current ..:&quot; + rowNumber);\n                  sheet.shiftRows(rowNumber,rows,1,true,false);\n                  Row newRow = sheet.createRow(rowNumber);\n                  \n              }\n              else\n              {\n                  System.out.println(&quot;difference is 0 or 1 continue \\n&quot;);\n                  rowNumber=rowNumber-1;\n                  continue;\n                  \n              }\n              \n              rowNumber=rowNumber-1;\n             \n          }\n          System.out.println(&quot;Total Numbers of lines Read :&quot; + rowNumber + '\\001');\n          reader.close();\n          System.out.println(&quot;Reading Complete \\n&quot;);\n          System.out.println(&quot;File writing Started \\n&quot;);\n          FileOutputStream outputStream = new FileOutputStream(excelFile);\n          sXSSFWorkbook.write(outputStream);\n          sXSSFWorkbook.close();\n          outputStream.close();\n          System.out.println(&quot;File writing Completed \\n&quot;);\n        } catch (Exception e) {\n          e.printStackTrace();\n        } \n      }\n}\n</code></pre>\n"},{"tags":["java","jpa","criteria"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701871046,"creation_date":1701859607,"answer_id":77612398,"question_id":77612176,"body_markdown":"The signature for `greaterThan` is:\r\n\r\n    &lt;Y extends Comparable&lt;? super Y&gt;&gt; Predicate \r\n    greaterThan(Expression&lt;? extends Y&gt; x, Expression&lt;? extends Y&gt; y)\r\n\r\nIn other words, it takes arguments that are `Expression` objects whose value type (`Y`) implements `Comparable&lt;? extends Y&gt;`.  Java doesn&#39;t know how to convert two integers into two `Expression` objects.  (In fact, I can&#39;t think of any PL that would be able to do *that* conversion without you saying what *kind* of `Expression` you need there.)\r\n\r\nHowever, if you look at the [javadoc][1] for `CriteriaBuilder` you will also see some `gt` methods that create `Predicate` objects to compare `Number` instances.  So the following ought to work:\r\n\r\n    predicates.add(\r\n        criteriaBuilder.gt(\r\n            Integer.valueOf(myFunc(root.get(&quot;amt&quot;))),\r\n            Integer.valueOf(2)));\r\n    \r\n**CORRECTION**\r\n\r\n    predicates.add(\r\n        criteriaBuilder.gt(\r\n            criteriaBuilder.literal(\r\n                Integer.valueOf(myFunc(root.get(&quot;amt&quot;)))),\r\n            Integer.valueOf(2)));\r\n\r\nbecause the first argument of `gt` needs to be an expression too.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/criteria/CriteriaBuilder.html","title":"CriteriaBuilder Cannot resolve method &#39;greaterThan(int, int)&#39;","body":"<p>The signature for <code>greaterThan</code> is:</p>\n<pre><code>&lt;Y extends Comparable&lt;? super Y&gt;&gt; Predicate \ngreaterThan(Expression&lt;? extends Y&gt; x, Expression&lt;? extends Y&gt; y)\n</code></pre>\n<p>In other words, it takes arguments that are <code>Expression</code> objects whose value type (<code>Y</code>) implements <code>Comparable&lt;? extends Y&gt;</code>.  Java doesn't know how to convert two integers into two <code>Expression</code> objects.  (In fact, I can't think of any PL that would be able to do <em>that</em> conversion without you saying what <em>kind</em> of <code>Expression</code> you need there.)</p>\n<p>However, if you look at the <a href=\"https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/criteria/CriteriaBuilder.html\" rel=\"nofollow noreferrer\">javadoc</a> for <code>CriteriaBuilder</code> you will also see some <code>gt</code> methods that create <code>Predicate</code> objects to compare <code>Number</code> instances.  So the following ought to work:</p>\n<pre><code>predicates.add(\n    criteriaBuilder.gt(\n        Integer.valueOf(myFunc(root.get(&quot;amt&quot;))),\n        Integer.valueOf(2)));\n</code></pre>\n<p><strong>CORRECTION</strong></p>\n<pre><code>predicates.add(\n    criteriaBuilder.gt(\n        criteriaBuilder.literal(\n            Integer.valueOf(myFunc(root.get(&quot;amt&quot;)))),\n        Integer.valueOf(2)));\n</code></pre>\n<p>because the first argument of <code>gt</code> needs to be an expression too.</p>\n"},{"tags":[],"owner":{"account_id":24716169,"reputation":35,"user_id":18605878,"display_name":"Bhawana Solanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701871390,"creation_date":1701871390,"answer_id":77613735,"question_id":77612176,"body_markdown":"GreaterThan or gt or LessThan or lt expects either (Expression&lt;? extends Y&gt; x,Y y) or (Expression&lt;? extends Y&gt; x, Expression&lt;? extends Y&gt; y).\r\n\r\nSo particularly when two integers are to be compared either of input to these criteriaBuilder method has to be a expression whose Object is same as the object of other input.\r\nBelow is the code which worked for me:\r\n```\r\nExpression&lt;Integer&gt; expr1 = \r\ncriteriaBuilder.selectCase(root.get(&quot;amt&quot;))\r\n.when(1,10) /* this could be your any business logic, it is what myFunc was doing */\r\n.when(2,20).as(Integer.class);\r\nInteger expr2 = 15;\r\nPredicate predicates = criteriaBuilder.lessThan(expr1,expr2);\r\n\r\n```","title":"CriteriaBuilder Cannot resolve method &#39;greaterThan(int, int)&#39;","body":"<p>GreaterThan or gt or LessThan or lt expects either (Expression&lt;? extends Y&gt; x,Y y) or (Expression&lt;? extends Y&gt; x, Expression&lt;? extends Y&gt; y).</p>\n<p>So particularly when two integers are to be compared either of input to these criteriaBuilder method has to be a expression whose Object is same as the object of other input.\nBelow is the code which worked for me:</p>\n<pre><code>Expression&lt;Integer&gt; expr1 = \ncriteriaBuilder.selectCase(root.get(&quot;amt&quot;))\n.when(1,10) /* this could be your any business logic, it is what myFunc was doing */\n.when(2,20).as(Integer.class);\nInteger expr2 = 15;\nPredicate predicates = criteriaBuilder.lessThan(expr1,expr2);\n\n</code></pre>\n"}],"owner":{"account_id":24716169,"reputation":35,"user_id":18605878,"display_name":"Bhawana Solanki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77612398,"answer_count":2,"score":0,"last_activity_date":1701871390,"creation_date":1701857610,"question_id":77612176,"body_markdown":"I&#39;m forming a query where I&#39;m comparing the db result with API request data, but i&#39;m getting below error: \r\n\r\nCannot resolve method &#39;greaterThan(int, int)&#39;. \r\n\r\nMy code looks something like below. 2 is coming from the API request.\r\n```\r\nList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\npredicates.add(criteriaBuilder.greaterThan(myFunc(root.get(&quot;amt&quot;)),2));\r\n```\r\nBasically myFunc function would multiply root.get(&quot;amt&quot;) with some number based on some condition. but this is not working for me as both expressions are of type &quot;int&quot; and it does not expect that. \r\nHow to form specification in this kind of scenario.\r\n\r\n","title":"CriteriaBuilder Cannot resolve method &#39;greaterThan(int, int)&#39;","body":"<p>I'm forming a query where I'm comparing the db result with API request data, but i'm getting below error:</p>\n<p>Cannot resolve method 'greaterThan(int, int)'.</p>\n<p>My code looks something like below. 2 is coming from the API request.</p>\n<pre><code>List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\npredicates.add(criteriaBuilder.greaterThan(myFunc(root.get(&quot;amt&quot;)),2));\n</code></pre>\n<p>Basically myFunc function would multiply root.get(&quot;amt&quot;) with some number based on some condition. but this is not working for me as both expressions are of type &quot;int&quot; and it does not expect that.\nHow to form specification in this kind of scenario.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","bouncycastle","java-17"],"answers":[{"tags":[],"owner":{"account_id":13930417,"reputation":11,"user_id":10058742,"display_name":"David D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701871377,"creation_date":1701871377,"answer_id":77613731,"question_id":77499601,"body_markdown":"This seems related to spring fat jar and jdk 17\r\nhttps://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8313742","title":"most recent version of bouncy castle is required for Authentication error","body":"<p>This seems related to spring fat jar and jdk 17\n<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8313742\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8313742</a></p>\n"}],"owner":{"account_id":9657715,"reputation":1,"user_id":7166774,"display_name":"harman bhutani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701871377,"creation_date":1700200621,"question_id":77499601,"body_markdown":"\r\nEverything works fine on my local but when I deploy on AWS ECS fargate . I am getting this error while trying to migrate from JDK 11 to JDK 17 . I have updated to recenet versions of aws-java-sdk as well as bouncy castle. \r\nHow can I fix this issue?\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException: A more recent version of Bouncy castle is required for authenticated encryption.\r\nat com.amazonaws.services.s3.model.CryptoConfigurationV2.checkBountyCastle(CryptoConfigurationV2.java:379)\r\n\tat com.amazonaws.services.s3.model.CryptoConfigurationV2.checkCryptoMode(CryptoConfigurationV2.java:366)\r\n\tat com.amazonaws.services.s3.model.CryptoConfigurationV2.&lt;init&gt;(CryptoConfigurationV2.java:68)\r\n\tat com.amazonaws.services.s3.model.CryptoConfigurationV2.&lt;init&gt;(CryptoConfigurationV2.java:47)\r\n```\r\n\r\n\r\nI have tried updating all the maven libraries including onces involved here aws-java-sdk version 1.12.552\r\n\r\n and bouncy castle bcprov and bcpkix with versions bcpkix-jdk18on-177.jar and bcpkix-jdk15to18-177.jar.","title":"most recent version of bouncy castle is required for Authentication error","body":"<p>Everything works fine on my local but when I deploy on AWS ECS fargate . I am getting this error while trying to migrate from JDK 11 to JDK 17 . I have updated to recenet versions of aws-java-sdk as well as bouncy castle.\nHow can I fix this issue?</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: A more recent version of Bouncy castle is required for authenticated encryption.\nat com.amazonaws.services.s3.model.CryptoConfigurationV2.checkBountyCastle(CryptoConfigurationV2.java:379)\n    at com.amazonaws.services.s3.model.CryptoConfigurationV2.checkCryptoMode(CryptoConfigurationV2.java:366)\n    at com.amazonaws.services.s3.model.CryptoConfigurationV2.&lt;init&gt;(CryptoConfigurationV2.java:68)\n    at com.amazonaws.services.s3.model.CryptoConfigurationV2.&lt;init&gt;(CryptoConfigurationV2.java:47)\n</code></pre>\n<p>I have tried updating all the maven libraries including onces involved here aws-java-sdk version 1.12.552</p>\n<p>and bouncy castle bcprov and bcpkix with versions bcpkix-jdk18on-177.jar and bcpkix-jdk15to18-177.jar.</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":30049234,"reputation":1,"user_id":23028173,"display_name":"orhan berkil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701871051,"creation_date":1701545217,"question_id":77591894,"body_markdown":"In this code block, I want to capture SMS and calls to the user, but `Intent.ACTION_PHONE_STATE` is not accessible. How can I solve my problem?\r\n\r\n    // We define a BroadcastReceiver class that controls the flash when an SMS or a call arrives\r\n    class FlashReceiver : BroadcastReceiver() {\r\n\r\n    // We override the onReceive function inherited from the BroadcastReceiver class\r\n    override fun onReceive(context: Context, intent: Intent) {\r\n        // We get the action of the incoming intent\r\n        val action = intent.action\r\n        // If the action is SMS_RECEIVED_ACTION, it means an SMS has arrived\r\n        if (action == Telephony.Sms.Intents.SMS_RECEIVED_ACTION) {\r\n            // We call the flash function with the true parameter to flash the flash when an SMS arrives\r\n            flash(context, true)\r\n\r\n        // If the action is ACTION_PHONE_STATE, it means the call state has changed\r\n        } else if (action == Intent.ACTION_PHONE_STATE) {\r\n\r\n            // We get the call state from the intent\r\n            val state = intent.getStringExtra(TelephonyManager.EXTRA_STATE)\r\n            // If the call state is RINGING, it means a call has arrived\r\n            if (state == TelephonyManager.EXTRA_STATE_RINGING) {\r\n                // We call the flash function with the true parameter to flash the flash when a call arrives\r\n                flash(context, true)\r\n            // If the call state is IDLE, it means the call has ended\r\n            } else if (state == TelephonyManager.EXTRA_STATE_IDLE) {\r\n                // We call the flash function with the false parameter to turn off the flash when the call ends\r\n                flash(context, false)\r\n            }\r\n        }\r\n    }\r\n\r\n    // We define a function that turns the flash on and off\r\n    private fun flash(context: Context, on: Boolean) {\r\n        // We get the camera service\r\n        val cameraManager = context.getSystemService(Context.CAMERA_SERVICE) as CameraManager\r\n        // We get the first camera ID\r\n        val cameraId = cameraManager.cameraIdList[0]\r\n        // We set the flash mode according to the on parameter\r\n        cameraManager.setTorchMode(cameraId, on)\r\n    }\r\n\r\n    }\r\n\r\nIn our manifest file, we defined the camera, flash and phone features and permissions:\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.camera&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.camera.flash&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.telephony&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FLASHLIGHT&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n\r\n\r\n\r\nIn this code block, I want to capture SMS and calls to the user, but Intent.ACTION_PHONE_STATE is not accessible. How can I solve my problem?","title":"Unable to access Intent.ACTION_PHONE_STATE","body":"<p>In this code block, I want to capture SMS and calls to the user, but <code>Intent.ACTION_PHONE_STATE</code> is not accessible. How can I solve my problem?</p>\n<pre><code>// We define a BroadcastReceiver class that controls the flash when an SMS or a call arrives\nclass FlashReceiver : BroadcastReceiver() {\n\n// We override the onReceive function inherited from the BroadcastReceiver class\noverride fun onReceive(context: Context, intent: Intent) {\n    // We get the action of the incoming intent\n    val action = intent.action\n    // If the action is SMS_RECEIVED_ACTION, it means an SMS has arrived\n    if (action == Telephony.Sms.Intents.SMS_RECEIVED_ACTION) {\n        // We call the flash function with the true parameter to flash the flash when an SMS arrives\n        flash(context, true)\n\n    // If the action is ACTION_PHONE_STATE, it means the call state has changed\n    } else if (action == Intent.ACTION_PHONE_STATE) {\n\n        // We get the call state from the intent\n        val state = intent.getStringExtra(TelephonyManager.EXTRA_STATE)\n        // If the call state is RINGING, it means a call has arrived\n        if (state == TelephonyManager.EXTRA_STATE_RINGING) {\n            // We call the flash function with the true parameter to flash the flash when a call arrives\n            flash(context, true)\n        // If the call state is IDLE, it means the call has ended\n        } else if (state == TelephonyManager.EXTRA_STATE_IDLE) {\n            // We call the flash function with the false parameter to turn off the flash when the call ends\n            flash(context, false)\n        }\n    }\n}\n\n// We define a function that turns the flash on and off\nprivate fun flash(context: Context, on: Boolean) {\n    // We get the camera service\n    val cameraManager = context.getSystemService(Context.CAMERA_SERVICE) as CameraManager\n    // We get the first camera ID\n    val cameraId = cameraManager.cameraIdList[0]\n    // We set the flash mode according to the on parameter\n    cameraManager.setTorchMode(cameraId, on)\n}\n\n}\n</code></pre>\n<p>In our manifest file, we defined the camera, flash and phone features and permissions:</p>\n<pre><code>&lt;uses-feature\n    android:name=&quot;android.hardware.camera&quot;\n    android:required=&quot;true&quot; /&gt;\n\n&lt;uses-feature\n    android:name=&quot;android.hardware.camera.flash&quot;\n    android:required=&quot;true&quot; /&gt;\n\n&lt;uses-feature\n    android:name=&quot;android.hardware.telephony&quot;\n    android:required=&quot;true&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.FLASHLIGHT&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n</code></pre>\n<p>In this code block, I want to capture SMS and calls to the user, but Intent.ACTION_PHONE_STATE is not accessible. How can I solve my problem?</p>\n"},{"tags":["javascript","java","firebase","google-apps-script","lang"],"owner":{"account_id":30081262,"reputation":1,"user_id":23052860,"display_name":"Russ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702213425,"answer_count":0,"score":-2,"last_activity_date":1701870991,"creation_date":1701870991,"question_id":77613683,"body_markdown":"The error appeared after requesting samsung support \r\n\r\n\r\nI need to secure device control from remote access and remove all account administrators and family links. I have many screenshots available and data to help secure my device. Hackers use philshing and imitate my device, possibly cloning. I have reached out to Samsung many times and received no solution.  I am not a developer only a consumer, however I follow instructions,  update and research apps that may assist me but without removal of remote devices and administrative controllers,  I am powerless.","title":"Fix galaxy s23 {&quot;meta&quot;:{&quot;success&quot;: false, &quot;message&quot;:&quot; [NullPointerException] null&quot;}}","body":"<p>The error appeared after requesting samsung support</p>\n<p>I need to secure device control from remote access and remove all account administrators and family links. I have many screenshots available and data to help secure my device. Hackers use philshing and imitate my device, possibly cloning. I have reached out to Samsung many times and received no solution.  I am not a developer only a consumer, however I follow instructions,  update and research apps that may assist me but without removal of remote devices and administrative controllers,  I am powerless.</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"score":0,"creation_date":1701790640,"post_id":77576598,"comment_id":136817611,"body_markdown":"Have you tried cancelling the event? This will remove the interaction animation, and destroy your block instantly. This might be a solution if you really just want it gone - and not get all that fancy animation stuff :)","body":"Have you tried cancelling the event? This will remove the interaction animation, and destroy your block instantly. This might be a solution if you really just want it gone - and not get all that fancy animation stuff :)"},{"owner":{"account_id":30029103,"reputation":1,"user_id":23012596,"display_name":"Doshic"},"score":0,"creation_date":1701890492,"post_id":77576598,"comment_id":136832186,"body_markdown":"how? I&#39;m very new to plugins and java","body":"how? I&#39;m very new to plugins and java"},{"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"score":0,"creation_date":1701890798,"post_id":77576598,"comment_id":136832248,"body_markdown":"Cancelling the event works with `event.setCancelled(true)`, then you can remove the block. Just do a quick google how that works :)","body":"Cancelling the event works with <code>event.setCancelled(true)</code>, then you can remove the block. Just do a quick google how that works :)"}],"owner":{"account_id":30029103,"reputation":1,"user_id":23012596,"display_name":"Doshic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701870784,"creation_date":1701329385,"question_id":77576598,"body_markdown":"When I click onto an oak button, it want to destroy the oak button and the coal block below. But instead, this happens:\r\n\r\n[![minecraft image][1]][1]\r\n\r\nAlso, `getDrops().clear()` doesn&#39;t work, as there still are drops.\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\npackage me.doshicshow.mycustomitems;\r\n\r\nimport org.bukkit.Location;\r\nimport org.bukkit.Material;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.player.PlayerInteractEvent;\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\nimport org.bukkit.event.block.BlockPlaceEvent;\r\nimport org.bukkit.block.BlockFace;\r\nimport org.bukkit.block.Block;\r\nimport java.util.logging.Logger;\r\n\r\npublic class Customitems extends JavaPlugin implements Listener {\r\n    private static Logger log = Logger.getLogger(&quot;Minecraft&quot;);\r\n    @Override\r\n    public void onEnable() {\r\n        getServer().getPluginManager().registerEvents(this, this);\r\n    }\r\n\r\n    @EventHandler\r\n    public void onPlayerInteract(PlayerInteractEvent event) {\r\n        if (event.getClickedBlock() != null &amp;&amp; event.getClickedBlock().getType() == Material.OAK_BUTTON &amp;&amp; event.getClickedBlock().getRelative(BlockFace.DOWN).getType() == Material.COAL_BLOCK) {\r\n            log.info(String.format(&quot;Found object %s&quot;, event.getClickedBlock()));\r\n            event.getClickedBlock().breakNaturally();\r\n            event.getClickedBlock().getDrops().clear();\r\n            event.getClickedBlock().getRelative(BlockFace.DOWN).getDrops().clear();\r\n            event.getClickedBlock().getRelative(BlockFace.DOWN).breakNaturally();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt should destroy the oak button and the coal (the coal doesn&#39;t need to drop anything). What could I do to achieve this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IDI4E.jpg","title":"Cant destroy oak button","body":"<p>When I click onto an oak button, it want to destroy the oak button and the coal block below. But instead, this happens:</p>\n<p><a href=\"https://i.stack.imgur.com/IDI4E.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IDI4E.jpg\" alt=\"minecraft image\" /></a></p>\n<p>Also, <code>getDrops().clear()</code> doesn't work, as there still are drops.</p>\n<p>Here's my code:</p>\n<pre><code>package me.doshicshow.mycustomitems;\n\nimport org.bukkit.Location;\nimport org.bukkit.Material;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.PlayerInteractEvent;\nimport org.bukkit.plugin.java.JavaPlugin;\nimport org.bukkit.event.block.BlockPlaceEvent;\nimport org.bukkit.block.BlockFace;\nimport org.bukkit.block.Block;\nimport java.util.logging.Logger;\n\npublic class Customitems extends JavaPlugin implements Listener {\n    private static Logger log = Logger.getLogger(&quot;Minecraft&quot;);\n    @Override\n    public void onEnable() {\n        getServer().getPluginManager().registerEvents(this, this);\n    }\n\n    @EventHandler\n    public void onPlayerInteract(PlayerInteractEvent event) {\n        if (event.getClickedBlock() != null &amp;&amp; event.getClickedBlock().getType() == Material.OAK_BUTTON &amp;&amp; event.getClickedBlock().getRelative(BlockFace.DOWN).getType() == Material.COAL_BLOCK) {\n            log.info(String.format(&quot;Found object %s&quot;, event.getClickedBlock()));\n            event.getClickedBlock().breakNaturally();\n            event.getClickedBlock().getDrops().clear();\n            event.getClickedBlock().getRelative(BlockFace.DOWN).getDrops().clear();\n            event.getClickedBlock().getRelative(BlockFace.DOWN).breakNaturally();\n        }\n    }\n}\n</code></pre>\n<p>It should destroy the oak button and the coal (the coal doesn't need to drop anything). What could I do to achieve this?</p>\n"},{"tags":["python","java","plotly","plotly-dash"],"owner":{"account_id":26402944,"reputation":55,"user_id":20053143,"display_name":"jomh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701950808,"answer_count":0,"score":-1,"last_activity_date":1701870719,"creation_date":1701870719,"question_id":77613648,"body_markdown":"I ask the question here because i didn&#39;t find any answer. I have a Dash project where I use clientside callback inside my assets folder. \r\nTo add a new feature for my app I need to call methods from a HUGE Java project (with dependencies). \r\n\r\nThere is a way to do this ? ","title":"Call java project into dash app with clientside callback","body":"<p>I ask the question here because i didn't find any answer. I have a Dash project where I use clientside callback inside my assets folder.\nTo add a new feature for my app I need to call methods from a HUGE Java project (with dependencies).</p>\n<p>There is a way to do this ?</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18486,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689699128,"creation_date":1689699128,"answer_id":76715007,"question_id":76713614,"body_markdown":"You can find examples in the test code of Spring Data Elasticsearch, for example at https://github.com/spring-projects/spring-data-elasticsearch/blob/main/src/test/java/org/springframework/data/elasticsearch/client/elc/CriteriaQueryProcessorUnitTests.java#L167-L309\r\n\r\nFrom one of the tests which creates ((John or Jack) and Miller) or ((Emma or Lucy) and Smith):\r\n\r\n```java\r\n\t\tCriteria criteria = Criteria.or()\r\n\t\t\t\t.subCriteria(new Criteria(&quot;lastName&quot;).is(&quot;Miller&quot;)\r\n\t\t\t\t\t\t.subCriteria(new Criteria().or(&quot;firstName&quot;).is(&quot;John&quot;).or(&quot;firstName&quot;).is(&quot;Jack&quot;)))\r\n\t\t\t\t.subCriteria(new Criteria(&quot;lastName&quot;).is(&quot;Smith&quot;)\r\n\t\t\t\t\t\t.subCriteria(new Criteria().or(&quot;firstName&quot;).is(&quot;Emma&quot;).or(&quot;firstName&quot;).is(&quot;Lucy&quot;)));\r\n```","title":"spring-data-elasticsearch: how to combine and &amp; or with CriteriaQuery","body":"<p>You can find examples in the test code of Spring Data Elasticsearch, for example at <a href=\"https://github.com/spring-projects/spring-data-elasticsearch/blob/main/src/test/java/org/springframework/data/elasticsearch/client/elc/CriteriaQueryProcessorUnitTests.java#L167-L309\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-elasticsearch/blob/main/src/test/java/org/springframework/data/elasticsearch/client/elc/CriteriaQueryProcessorUnitTests.java#L167-L309</a></p>\n<p>From one of the tests which creates ((John or Jack) and Miller) or ((Emma or Lucy) and Smith):</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Criteria criteria = Criteria.or()\n                .subCriteria(new Criteria(&quot;lastName&quot;).is(&quot;Miller&quot;)\n                        .subCriteria(new Criteria().or(&quot;firstName&quot;).is(&quot;John&quot;).or(&quot;firstName&quot;).is(&quot;Jack&quot;)))\n                .subCriteria(new Criteria(&quot;lastName&quot;).is(&quot;Smith&quot;)\n                        .subCriteria(new Criteria().or(&quot;firstName&quot;).is(&quot;Emma&quot;).or(&quot;firstName&quot;).is(&quot;Lucy&quot;)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23835995,"reputation":16,"user_id":17841724,"display_name":"Fendwyr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701870419,"creation_date":1701870419,"answer_id":77613609,"question_id":76713614,"body_markdown":"You can use 3 subcriteria\r\n\r\n(a = 1 AND b = 2 ):\r\n\r\n    Criteria subcriteria_1_2 = new Criteria(&quot;a&quot;).is(&quot;1&quot;).and(&quot;b&quot;).is(&quot;2&quot; );\r\n\r\n(a = 3 AND b = 43)\r\n\r\n    Criteria subcriteria_3_43 = new Criteria(&quot;a&quot;).is(&quot;3&quot;).and(&quot;b&quot;).is(&quot;43&quot;);\r\nMerged (a = 1 AND b = 2 ) OR (a = 3 AND b = 43)\r\n\r\n    Criteria subcriteria_1_2_3_43 = new Criteria().or().subCriteria(subcriteria_1_2).subCriteria(subcriteria_3_43);\r\n\r\nFinal connect with AND D = &#39;4234234&#39;\r\n\r\n    Criteria finalCriteria = new Criteria(&quot;d&quot;).is(&quot;4234234&quot;).subCriteria(subcriteria_1_2_3_43);\r\n\r\nThis construction will generate JSON (very simplified)\r\n```\r\n{\r\n  &quot;bool&quot; : {\r\n    &quot;must&quot; : [\r\n      {\r\n        &quot;query_string&quot; : {\r\n          &quot;query&quot; : &quot;4234234&quot;,\r\n          &quot;fields&quot; : [\r\n            &quot;d&quot;\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        &quot;bool&quot; : {\r\n          &quot;should&quot; : [\r\n            {\r\n              &quot;bool&quot; : {\r\n                &quot;must&quot; : [\r\n                  {\r\n                    &quot;query_string&quot; : {\r\n                      &quot;query&quot; : &quot;1&quot;,\r\n                      &quot;fields&quot; : [\r\n                        &quot;a&quot;\r\n                      ]\r\n                    }\r\n                  },\r\n                  {\r\n                    &quot;query_string&quot; : {\r\n                      &quot;query&quot; : &quot;2&quot;,\r\n                      &quot;fields&quot; : [\r\n                        &quot;b&quot;\r\n                      ]\r\n                    }\r\n                  }\r\n                ],\r\n                &quot;adjust_pure_negative&quot; : true,\r\n                &quot;boost&quot; : 1.0\r\n              }\r\n            },\r\n            {\r\n              &quot;bool&quot; : {\r\n                &quot;must&quot; : [\r\n                  {\r\n                    &quot;query_string&quot; : {\r\n                      &quot;query&quot; : &quot;3&quot;,\r\n                      &quot;fields&quot; : [\r\n                        &quot;a&quot;\r\n                      ]\r\n                    }\r\n                  },\r\n                  {\r\n                    &quot;query_string&quot; : {\r\n                      &quot;query&quot; : &quot;43&quot;,\r\n                      &quot;fields&quot; : [\r\n                        &quot;b&quot;\r\n                      ]\r\n                    }\r\n                  }\r\n                ],\r\n                &quot;adjust_pure_negative&quot; : true,\r\n                &quot;boost&quot; : 1.0\r\n              }\r\n            }\r\n          ],\r\n          &quot;adjust_pure_negative&quot; : true,\r\n          &quot;boost&quot; : 1.0\r\n        }\r\n      }\r\n    ],\r\n    &quot;adjust_pure_negative&quot; : true,\r\n    &quot;boost&quot; : 1.0\r\n  }\r\n}\r\n```\r\nI recommend to not mix and() with or() in one chain. Use subcriteria. If you need to use subcriteria in one chain with field check, always put subcriteria to the end of chain. For example this construction will not work (at final, subcriteria will be erased)\r\n```\r\nnew Criteria(&quot;test&quot;).is(&quot;test_value&quot;).subCriteria(subcriteria_1_2_3_43).and(&quot;d&quot;).is(&quot;4234234&quot;);\r\n```\r\nBut if you put subcriteria to the end of chain it will work \r\n```\r\nnew Criteria(&quot;test&quot;).is(&quot;test_value&quot;).and(&quot;d&quot;).is(&quot;4234234&quot;).subCriteria(subcriteria_1_2_3_43);\r\n```\r\n\r\nThis is solution which i used in my own project","title":"spring-data-elasticsearch: how to combine and &amp; or with CriteriaQuery","body":"<p>You can use 3 subcriteria</p>\n<p>(a = 1 AND b = 2 ):</p>\n<pre><code>Criteria subcriteria_1_2 = new Criteria(&quot;a&quot;).is(&quot;1&quot;).and(&quot;b&quot;).is(&quot;2&quot; );\n</code></pre>\n<p>(a = 3 AND b = 43)</p>\n<pre><code>Criteria subcriteria_3_43 = new Criteria(&quot;a&quot;).is(&quot;3&quot;).and(&quot;b&quot;).is(&quot;43&quot;);\n</code></pre>\n<p>Merged (a = 1 AND b = 2 ) OR (a = 3 AND b = 43)</p>\n<pre><code>Criteria subcriteria_1_2_3_43 = new Criteria().or().subCriteria(subcriteria_1_2).subCriteria(subcriteria_3_43);\n</code></pre>\n<p>Final connect with AND D = '4234234'</p>\n<pre><code>Criteria finalCriteria = new Criteria(&quot;d&quot;).is(&quot;4234234&quot;).subCriteria(subcriteria_1_2_3_43);\n</code></pre>\n<p>This construction will generate JSON (very simplified)</p>\n<pre><code>{\n  &quot;bool&quot; : {\n    &quot;must&quot; : [\n      {\n        &quot;query_string&quot; : {\n          &quot;query&quot; : &quot;4234234&quot;,\n          &quot;fields&quot; : [\n            &quot;d&quot;\n          ]\n        }\n      },\n      {\n        &quot;bool&quot; : {\n          &quot;should&quot; : [\n            {\n              &quot;bool&quot; : {\n                &quot;must&quot; : [\n                  {\n                    &quot;query_string&quot; : {\n                      &quot;query&quot; : &quot;1&quot;,\n                      &quot;fields&quot; : [\n                        &quot;a&quot;\n                      ]\n                    }\n                  },\n                  {\n                    &quot;query_string&quot; : {\n                      &quot;query&quot; : &quot;2&quot;,\n                      &quot;fields&quot; : [\n                        &quot;b&quot;\n                      ]\n                    }\n                  }\n                ],\n                &quot;adjust_pure_negative&quot; : true,\n                &quot;boost&quot; : 1.0\n              }\n            },\n            {\n              &quot;bool&quot; : {\n                &quot;must&quot; : [\n                  {\n                    &quot;query_string&quot; : {\n                      &quot;query&quot; : &quot;3&quot;,\n                      &quot;fields&quot; : [\n                        &quot;a&quot;\n                      ]\n                    }\n                  },\n                  {\n                    &quot;query_string&quot; : {\n                      &quot;query&quot; : &quot;43&quot;,\n                      &quot;fields&quot; : [\n                        &quot;b&quot;\n                      ]\n                    }\n                  }\n                ],\n                &quot;adjust_pure_negative&quot; : true,\n                &quot;boost&quot; : 1.0\n              }\n            }\n          ],\n          &quot;adjust_pure_negative&quot; : true,\n          &quot;boost&quot; : 1.0\n        }\n      }\n    ],\n    &quot;adjust_pure_negative&quot; : true,\n    &quot;boost&quot; : 1.0\n  }\n}\n</code></pre>\n<p>I recommend to not mix and() with or() in one chain. Use subcriteria. If you need to use subcriteria in one chain with field check, always put subcriteria to the end of chain. For example this construction will not work (at final, subcriteria will be erased)</p>\n<pre><code>new Criteria(&quot;test&quot;).is(&quot;test_value&quot;).subCriteria(subcriteria_1_2_3_43).and(&quot;d&quot;).is(&quot;4234234&quot;);\n</code></pre>\n<p>But if you put subcriteria to the end of chain it will work</p>\n<pre><code>new Criteria(&quot;test&quot;).is(&quot;test_value&quot;).and(&quot;d&quot;).is(&quot;4234234&quot;).subCriteria(subcriteria_1_2_3_43);\n</code></pre>\n<p>This is solution which i used in my own project</p>\n"}],"owner":{"account_id":28660273,"reputation":1,"user_id":21945334,"display_name":"Jackie Danes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701870419,"creation_date":1689688987,"question_id":76713614,"body_markdown":"I have a document with 4 fields, for simplicity sake A, B, C and D.\r\nNow I&#39;m trying to build a CriteriaQuery where\r\n\r\n`((a = 1 AND b = 2 ) OR (a = 3 AND b = 43)) AND D = &#39;4234234&#39;\r\n`\r\nThe basic flow using by creating\r\n\r\n`new Criteria(&quot;a&quot;).is(1).and(&quot;b&quot;).is(2).and(&quot;d&quot;).is(&quot;4234234&quot;)`\r\n\r\nWorks fine.\r\n\r\nBut I&#39;m having trouble getting it working fine with the OR aspect.\r\n\r\nI thought\r\n```\r\nnew Criteria(&quot;d&quot;).is(&quot;4234234&quot;).and(new Criteria(&quot;a&quot;).is(1).and(&quot;b&quot;).is(2)).or(new Criteria(&quot;a&quot;).is(1).and(&quot;b&quot;).is(2))\r\n```\r\n\r\nbut thats leading to sharding erros.\r\n\r\nAnyone that could point me in the right way?","title":"spring-data-elasticsearch: how to combine and &amp; or with CriteriaQuery","body":"<p>I have a document with 4 fields, for simplicity sake A, B, C and D.\nNow I'm trying to build a CriteriaQuery where</p>\n<p><code>((a = 1 AND b = 2 ) OR (a = 3 AND b = 43)) AND D = '4234234' </code>\nThe basic flow using by creating</p>\n<p><code>new Criteria(&quot;a&quot;).is(1).and(&quot;b&quot;).is(2).and(&quot;d&quot;).is(&quot;4234234&quot;)</code></p>\n<p>Works fine.</p>\n<p>But I'm having trouble getting it working fine with the OR aspect.</p>\n<p>I thought</p>\n<pre><code>new Criteria(&quot;d&quot;).is(&quot;4234234&quot;).and(new Criteria(&quot;a&quot;).is(1).and(&quot;b&quot;).is(2)).or(new Criteria(&quot;a&quot;).is(1).and(&quot;b&quot;).is(2))\n</code></pre>\n<p>but thats leading to sharding erros.</p>\n<p>Anyone that could point me in the right way?</p>\n"},{"tags":["java","micronaut"],"comments":[{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":0,"creation_date":1701870375,"post_id":77613577,"comment_id":136828365,"body_markdown":"You probably need a Qualifier https://docs.micronaut.io/latest/guide/#qualifiers","body":"You probably need a Qualifier <a href=\"https://docs.micronaut.io/latest/guide/#qualifiers\" rel=\"nofollow noreferrer\">docs.micronaut.io/latest/guide/#qualifiers</a>"},{"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"score":0,"creation_date":1701870448,"post_id":77613577,"comment_id":136828379,"body_markdown":"Qualifier would make sense if I am trying to inject an interface but what I am trying to inject here is a concrete class itself. I am not sure why it should be restricted?","body":"Qualifier would make sense if I am trying to inject an interface but what I am trying to inject here is a concrete class itself. I am not sure why it should be restricted?"}],"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701870251,"creation_date":1701870251,"question_id":77613577,"body_markdown":"I have the following class structure\r\n\r\n\r\n```\r\n@Singleton\r\npublic class Parent{}\r\n```\r\n\r\n```\r\n@Singleton\r\npublic class Child1 extends Parent{}\r\n```\r\n\r\n```\r\n@Singleton\r\npublic class Child2 extends Parent{}\r\n```\r\n\r\nNow i have another class in which i want to compose parent like below\r\n\r\n```\r\npublic class Test{\r\n@Inject Parent P;\r\n}\r\n```\r\n\r\nHowever this throws DependencyInjectionException complaining that there are two candidates Child1 and Child2 for injection here. Can&#39;t i just inject Parent class here considering its a concrete class?","title":"Micronaut - Multiple bean candidates found","body":"<p>I have the following class structure</p>\n<pre><code>@Singleton\npublic class Parent{}\n</code></pre>\n<pre><code>@Singleton\npublic class Child1 extends Parent{}\n</code></pre>\n<pre><code>@Singleton\npublic class Child2 extends Parent{}\n</code></pre>\n<p>Now i have another class in which i want to compose parent like below</p>\n<pre><code>public class Test{\n@Inject Parent P;\n}\n</code></pre>\n<p>However this throws DependencyInjectionException complaining that there are two candidates Child1 and Child2 for injection here. Can't i just inject Parent class here considering its a concrete class?</p>\n"},{"tags":["java","reactive"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701870146,"post_id":77613527,"comment_id":136828326,"body_markdown":"Because you shouldn&#39;t search something on disk in the event-dispatching thread. If you do blocking operations the thread will block, if you don&#39;t (like do some calculation) the event loop can keep running and split its time.","body":"Because you shouldn&#39;t search something on disk in the event-dispatching thread. If you do blocking operations the thread will block, if you don&#39;t (like do some calculation) the event loop can keep running and split its time."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701871199,"post_id":77613527,"comment_id":136828548,"body_markdown":"&quot;_How single threaded reactive loop does not block_&quot; -- By offloading blocking or otherwise long-running work onto another thread.","body":"&quot;<i>How single threaded reactive loop does not block</i>&quot; -- By offloading blocking or otherwise long-running work onto another thread."}],"owner":{"account_id":30080958,"reputation":1,"user_id":23052603,"display_name":"Michal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701869856,"creation_date":1701869856,"question_id":77613527,"body_markdown":"That is preatty simple: main &quot;non blocking loop&quot; keeps some pool of subscribed handlers and call its handlers when event come. Therefore how it is possible that in one particular thread delegated to handler job does not block the main loop. When main loop calls handlers method last call stack pointer is on curren handler method and loop is waiting for return of this method and cannot do anythig else like pickup another event. If the handler job is to search sth on disk and this will take 10sec the loop must wait for result since it is using the same thread, that is not possible to do pararelly two tasks in one thread.","title":"How single threaded reactive loop does not block","body":"<p>That is preatty simple: main &quot;non blocking loop&quot; keeps some pool of subscribed handlers and call its handlers when event come. Therefore how it is possible that in one particular thread delegated to handler job does not block the main loop. When main loop calls handlers method last call stack pointer is on curren handler method and loop is waiting for return of this method and cannot do anythig else like pickup another event. If the handler job is to search sth on disk and this will take 10sec the loop must wait for result since it is using the same thread, that is not possible to do pararelly two tasks in one thread.</p>\n"},{"tags":["java","windows","apache-kafka","apache-zookeeper"],"comments":[{"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"score":0,"creation_date":1535724463,"post_id":52116847,"comment_id":91185304,"body_markdown":"I had similar issues under windows and solved by using `git bash` and the `.sh` version of the executables of kafka and zookeeper","body":"I had similar issues under windows and solved by using <code>git bash</code> and the <code>.sh</code> version of the executables of kafka and zookeeper"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1631034752,"creation_date":1535759620,"answer_id":52123793,"question_id":52116847,"body_markdown":"Your JAVA_HOME (and full Kafka path) cannot contain spaces (i believe there&#39;s an open JIRA for fixing this) \r\n\r\nTry `C:\\PROGRA~1\\Java\\jdk-10.0.1`, and if that doesn&#39;t work, install Java to somewhere like `C:\\jdk-X.Y.Z\\`, &lt;strike&gt;as lower versions of Kafka don&#39;t support Java 10&lt;/strike&gt;\r\n\r\nIn general, though, the recommendation is to use WSL2 (or Docker), not CMD/Powershell\r\n\r\nhttps://www.confluent.io/blog/set-up-and-run-kafka-on-windows-linux-wsl-2/","title":"Kafka : could not find or load main class installation Windows","body":"<p>Your JAVA_HOME (and full Kafka path) cannot contain spaces (i believe there's an open JIRA for fixing this)</p>\n<p>Try <code>C:\\PROGRA~1\\Java\\jdk-10.0.1</code>, and if that doesn't work, install Java to somewhere like <code>C:\\jdk-X.Y.Z\\</code>, <strike>as lower versions of Kafka don't support Java 10</strike></p>\n<p>In general, though, the recommendation is to use WSL2 (or Docker), not CMD/Powershell</p>\n<p><a href=\"https://www.confluent.io/blog/set-up-and-run-kafka-on-windows-linux-wsl-2/\" rel=\"noreferrer\">https://www.confluent.io/blog/set-up-and-run-kafka-on-windows-linux-wsl-2/</a></p>\n"},{"tags":[],"owner":{"account_id":15410024,"reputation":1,"user_id":11117009,"display_name":"Ashwath Iyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551672793,"creation_date":1551672793,"answer_id":54976522,"question_id":52116847,"body_markdown":"Set the below configurations in your **kafka-run-class.bat** and try to start the server   \r\n\r\nSET &quot;JAVA_HOME=C:\\Program Files\\Java\\jdk-10.0.1&quot;\r\n\r\nset &quot;CLASSPATH=C:\\Program Files\\Java\\jdk-10.0.1\\lib;C:\\Program Files\\Java\\jdk-10.0.1\\lib\\tools.jar;C:\\Program Files\\Java\\jdk-10.0.1\\lib\\slf4j-api-1.7.25.jar&quot;","title":"Kafka : could not find or load main class installation Windows","body":"<p>Set the below configurations in your <strong>kafka-run-class.bat</strong> and try to start the server   </p>\n\n<p>SET \"JAVA_HOME=C:\\Program Files\\Java\\jdk-10.0.1\"</p>\n\n<p>set \"CLASSPATH=C:\\Program Files\\Java\\jdk-10.0.1\\lib;C:\\Program Files\\Java\\jdk-10.0.1\\lib\\tools.jar;C:\\Program Files\\Java\\jdk-10.0.1\\lib\\slf4j-api-1.7.25.jar\"</p>\n"},{"tags":[],"owner":{"account_id":8875516,"reputation":1,"user_id":6627796,"display_name":"To&#224;n Trương"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631034604,"creation_date":1631034604,"answer_id":69092182,"question_id":52116847,"body_markdown":"I got the same issue, and I solved it by renaming the folder in which I store Kafka to new name has no space.\r\nBut for the case of this post we can not rename folder Program Files then solution is moving Kafka to another folder and make sure the path to this folder does not has space.","title":"Kafka : could not find or load main class installation Windows","body":"<p>I got the same issue, and I solved it by renaming the folder in which I store Kafka to new name has no space.\nBut for the case of this post we can not rename folder Program Files then solution is moving Kafka to another folder and make sure the path to this folder does not has space.</p>\n"},{"tags":[],"owner":{"account_id":5388081,"reputation":341,"user_id":4291412,"accept_rate":33,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660125598,"creation_date":1660125598,"answer_id":73304276,"question_id":52116847,"body_markdown":"I know, I am late into this query. But 2 cents of mine which I identified.\r\n\r\nPlease make sure that there should not be any space with your KAFKA_HOME and JAVA_HOME paths. For me, I had the Kafka installation as `c:\\software\\Apache Kafka 3.1\\kafka-src`\r\n\r\nAnd I thought that it should work as the Kafka installation path (starting from Kafka-src) did not have any space but I was wrong. Please make sure the entire Kafka Installation path (starting from `c:`) should not have any spaces. ","title":"Kafka : could not find or load main class installation Windows","body":"<p>I know, I am late into this query. But 2 cents of mine which I identified.</p>\n<p>Please make sure that there should not be any space with your KAFKA_HOME and JAVA_HOME paths. For me, I had the Kafka installation as <code>c:\\software\\Apache Kafka 3.1\\kafka-src</code></p>\n<p>And I thought that it should work as the Kafka installation path (starting from Kafka-src) did not have any space but I was wrong. Please make sure the entire Kafka Installation path (starting from <code>c:</code>) should not have any spaces.</p>\n"},{"tags":[],"owner":{"account_id":13571721,"reputation":13,"user_id":9790298,"display_name":"Kadyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701869584,"creation_date":1701869584,"answer_id":77613498,"question_id":52116847,"body_markdown":"Just place kafka folder outside the Program Files. Place them in C directory and start again to see the magic.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Dv57.png","title":"Kafka : could not find or load main class installation Windows","body":"<p>Just place kafka folder outside the Program Files. Place them in C directory and start again to see the magic.\n<a href=\"https://i.stack.imgur.com/9Dv57.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Dv57.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13974232,"reputation":260,"user_id":10091982,"display_name":"Hunteerq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6417,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1701869584,"creation_date":1535723135,"question_id":52116847,"body_markdown":"I am trying to install Apache Kafka on my computer. I downloaded newest version 2.12-2.0.0. I want to run it on Windows, after typing &quot;.\\zookeeper-server-start.bat ../../config/zookeeper.properties&quot; inside \\bin\\windows directory I am receiving:\r\n\r\nError: Could not find or load main class Files\\Java\\jdk-10.0.1\\lib;C:\\Program\r\nCaused by: java.lang.ClassNotFoundException: Files\\Java\\jdk-10/0/1\\lib;C:\\Program\r\n\r\n\r\n\r\nJava works on my computer properly java -version:\r\n\r\nopenjdk version &quot;10.0.1&quot; 2018-04-17\r\nOpenJDK Runtime Environment (build 10.0.1+10)\r\nOpenJDK 64-Bit Server VM (build 10.0.1+10, mixed mode)\r\n\r\nJDK is located inside C:\\Program Files\\Java\\jdk-10.0.1\r\nI have variables:\r\n\r\n    JAVA_HOME=C:\\Program Files\\Java\\jdk-10.0.1\r\n    JDK_HOME=%JAVA_HOME%\r\n    JRE_HOME=%JAVA_HOME%\\jre\r\n    PATH: C:\\Program Files\\Java\\jdk-10.0.1\\bin \r\n    CLASSPATH: %JAVA_HOME%\\lib;%JAVA_HOME%\\jre\\\r\n","title":"Kafka : could not find or load main class installation Windows","body":"<p>I am trying to install Apache Kafka on my computer. I downloaded newest version 2.12-2.0.0. I want to run it on Windows, after typing \".\\zookeeper-server-start.bat ../../config/zookeeper.properties\" inside \\bin\\windows directory I am receiving:</p>\n\n<p>Error: Could not find or load main class Files\\Java\\jdk-10.0.1\\lib;C:\\Program\nCaused by: java.lang.ClassNotFoundException: Files\\Java\\jdk-10/0/1\\lib;C:\\Program</p>\n\n<p>Java works on my computer properly java -version:</p>\n\n<p>openjdk version \"10.0.1\" 2018-04-17\nOpenJDK Runtime Environment (build 10.0.1+10)\nOpenJDK 64-Bit Server VM (build 10.0.1+10, mixed mode)</p>\n\n<p>JDK is located inside C:\\Program Files\\Java\\jdk-10.0.1\nI have variables:</p>\n\n<pre><code>JAVA_HOME=C:\\Program Files\\Java\\jdk-10.0.1\nJDK_HOME=%JAVA_HOME%\nJRE_HOME=%JAVA_HOME%\\jre\nPATH: C:\\Program Files\\Java\\jdk-10.0.1\\bin \nCLASSPATH: %JAVA_HOME%\\lib;%JAVA_HOME%\\jre\\\n</code></pre>\n"},{"tags":["java","spring","caching","spring-el","spring-cache"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1701868863,"post_id":77613367,"comment_id":136828088,"body_markdown":"I might be wrong, but I&#39;m pretty sure parameters to an annotation must be constants.","body":"I might be wrong, but I&#39;m pretty sure parameters to an annotation must be constants."}],"owner":{"account_id":18151049,"reputation":1,"user_id":13203764,"display_name":"Shivank Srivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701869564,"creation_date":1701868495,"question_id":77613367,"body_markdown":"Is there a way to check if marketCoverage is null before calling market.getValue() in statement mentioned below ?\r\n\r\n```\r\n@Cacheable(value = &quot;issuerCache&quot;,key=&quot;#zip + #county + #marketCoverage.getValue + T(com.hcentive.utils.PlanYearContextHolder).getPlanYear()&quot;)\r\n```\r\n\r\n\r\n    @Cacheable(value = &quot;issuerCache&quot;,key=&quot;#zip + #county + #marketCoverage!=null?marketCoverage.getValue:null + T(com.hcentive.utils.PlanYearContextHolder).getPlanYear()&quot;)\r\n\r\n tried this but it seems to not work.","title":"How to check for null for a key in@Cacheable?","body":"<p>Is there a way to check if marketCoverage is null before calling market.getValue() in statement mentioned below ?</p>\n<pre><code>@Cacheable(value = &quot;issuerCache&quot;,key=&quot;#zip + #county + #marketCoverage.getValue + T(com.hcentive.utils.PlanYearContextHolder).getPlanYear()&quot;)\n</code></pre>\n<pre><code>@Cacheable(value = &quot;issuerCache&quot;,key=&quot;#zip + #county + #marketCoverage!=null?marketCoverage.getValue:null + T(com.hcentive.utils.PlanYearContextHolder).getPlanYear()&quot;)\n</code></pre>\n<p>tried this but it seems to not work.</p>\n"},{"tags":["java","lucene"],"answers":[{"tags":[],"owner":{"account_id":1514208,"reputation":32066,"user_id":1415614,"accept_rate":86,"display_name":"RonC"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1701869532,"creation_date":1625747200,"answer_id":68301617,"question_id":68281200,"body_markdown":"[ByteBuffersDirectory](https://github.com/apache/lucene/blob/main/lucene/core/src/java/org/apache/lucene/store/ByteBuffersDirectory.java) is the replacement for `RAMDirectory`.\r\n\r\nThe chart below makes it crystal clear why `RAMDiretory` was depreciated and then removed. BBDIR is `ByteBuffersDirectory` and RAMDIR is `RAMDirectory`.\r\n\r\n[![enter image description here][1]][1] \r\nChart by Dawid Weiss. Source: [LUCENE-8438](https://issues.apache.org/jira/browse/LUCENE-8438?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel&amp;focusedCommentId=16571426#comment-16571426) and shown under Apache 2.0 License.\r\n\r\n  [1]: https://i.stack.imgur.com/5IBR2.png","title":"Lucene RAMDirectory deprecated - how to keep Directory RAM-only anyway?","body":"<p><a href=\"https://github.com/apache/lucene/blob/main/lucene/core/src/java/org/apache/lucene/store/ByteBuffersDirectory.java\" rel=\"nofollow noreferrer\">ByteBuffersDirectory</a> is the replacement for <code>RAMDirectory</code>.</p>\n<p>The chart below makes it crystal clear why <code>RAMDiretory</code> was depreciated and then removed. BBDIR is <code>ByteBuffersDirectory</code> and RAMDIR is <code>RAMDirectory</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/5IBR2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5IBR2.png\" alt=\"enter image description here\" /></a>\nChart by Dawid Weiss. Source: <a href=\"https://issues.apache.org/jira/browse/LUCENE-8438?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel&amp;focusedCommentId=16571426#comment-16571426\" rel=\"nofollow noreferrer\">LUCENE-8438</a> and shown under Apache 2.0 License.</p>\n"},{"tags":[],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625748039,"creation_date":1625748039,"answer_id":68301832,"question_id":68281200,"body_markdown":"You could also just create a [ramdisk][1] \r\n\r\n\r\n  [1]: https://www.jamescoyle.net/how-to/943-create-a-ram-disk-in-linux%20ramdisk","title":"Lucene RAMDirectory deprecated - how to keep Directory RAM-only anyway?","body":"<p>You could also just create a <a href=\"https://www.jamescoyle.net/how-to/943-create-a-ram-disk-in-linux%20ramdisk\" rel=\"nofollow noreferrer\">ramdisk</a></p>\n"}],"owner":{"account_id":10599556,"reputation":508,"user_id":7806912,"display_name":"ptstone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3577,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":68301617,"answer_count":2,"score":8,"last_activity_date":1701869532,"creation_date":1625640055,"question_id":68281200,"body_markdown":"I&#39;m currently using the class ```org.apache.lucene.store.RAMDirectory``` for a fast RAM-based index without the requirement of hard disk write permissions. RAM size &amp; persistence is not a limiting factor. However, ```RAMDirectory``` is marked as deprecated and also seems to be problematic for large indexes according to its [API][1].  \r\n\r\nSo my question is, what is a ***RAM-only*** alternative for the deprecated ```RAMDirectory```? \r\n\r\nAnything writing on hard disk is out of the question for me (read only) &amp; also seems to be quite a bit slower on my own systems. I was thinking about using ```FSDDirectory``` with a RAMDisk but couldn&#39;t find a way to create said RAMDisk using java / the jar only (again requires changing the system).\r\n\r\n\r\n  [1]: https://lucene.apache.org/core/7_5_0/core/org/apache/lucene/store/RAMDirectory.html","title":"Lucene RAMDirectory deprecated - how to keep Directory RAM-only anyway?","body":"<p>I'm currently using the class <code>org.apache.lucene.store.RAMDirectory</code> for a fast RAM-based index without the requirement of hard disk write permissions. RAM size &amp; persistence is not a limiting factor. However, <code>RAMDirectory</code> is marked as deprecated and also seems to be problematic for large indexes according to its <a href=\"https://lucene.apache.org/core/7_5_0/core/org/apache/lucene/store/RAMDirectory.html\" rel=\"noreferrer\">API</a>.</p>\n<p>So my question is, what is a <em><strong>RAM-only</strong></em> alternative for the deprecated <code>RAMDirectory</code>?</p>\n<p>Anything writing on hard disk is out of the question for me (read only) &amp; also seems to be quite a bit slower on my own systems. I was thinking about using <code>FSDDirectory</code> with a RAMDisk but couldn't find a way to create said RAMDisk using java / the jar only (again requires changing the system).</p>\n"},{"tags":["java","android","c++","c","linux"],"comments":[{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":0,"creation_date":1701869959,"post_id":77613476,"comment_id":136828286,"body_markdown":"11 is SIGSEGV, a memory-management violation.  So in all likelihood you have buggy software.  Given that you appear from your tag selection to be using a horrible combination of 3 languages, you&#39;ve got some debugging to do.","body":"11 is SIGSEGV, a memory-management violation.  So in all likelihood you have buggy software.  Given that you appear from your tag selection to be using a horrible combination of 3 languages, you&#39;ve got some debugging to do."},{"owner":{"account_id":5791001,"reputation":15534,"user_id":5264491,"display_name":"Ian Abbott"},"score":0,"creation_date":1701870004,"post_id":77613476,"comment_id":136828293,"body_markdown":"Signal 11 is SIGSEGV which would mean the app was dereferencing an invalid  or null pointer value.","body":"Signal 11 is SIGSEGV which would mean the app was dereferencing an invalid  or null pointer value."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1701888773,"post_id":77613476,"comment_id":136831894,"body_markdown":"JNI?  Bumbling along in native C or C++ code after failing to check returned values or for Java exceptions is a great way to get a SIGSEGV.  You need to provide a lot more information before anyone is going to be able to help.  At the least you need to edit your question and add the Java crash data your JVM emitted when it crashed.","body":"JNI?  Bumbling along in native C or C++ code after failing to check returned values or for Java exceptions is a great way to get a SIGSEGV.  You need to provide a lot more information before anyone is going to be able to help.  At the least you need to edit your question and add the Java crash data your JVM emitted when it crashed."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701953717,"post_id":77613476,"comment_id":136840190,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":30080629,"reputation":1,"user_id":23052354,"display_name":"PratikkBurkkhawala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702001222,"answer_count":0,"score":-1,"last_activity_date":1701869491,"creation_date":1701869491,"question_id":77613476,"body_markdown":"What exactly happening so that Android based system shutting down the app with this line in logcat?\r\nlibc: exiting due to SIG_DFL handler for signal 11\r\n\r\nHow to detect or fix it? App is getting shut out of sudden with no other app related crash. No other crash too.","title":"Exiting due to SIG_DFL handler for signal 11. How to fix it?","body":"<p>What exactly happening so that Android based system shutting down the app with this line in logcat?\nlibc: exiting due to SIG_DFL handler for signal 11</p>\n<p>How to detect or fix it? App is getting shut out of sudden with no other app related crash. No other crash too.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1701868246,"post_id":77613268,"comment_id":136827975,"body_markdown":"why would that be needed? the value is supposed to be userName, the name of the variable isn&#39;t really relevant there.","body":"why would that be needed? the value is supposed to be userName, the name of the variable isn&#39;t really relevant there."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1701869306,"post_id":77613268,"comment_id":136828161,"body_markdown":"hi&amp;welcome! ...`user.name` has very special meaning and different effect in a &quot;standard spring-boot(-security)-web app&quot;  ...normally or you have a &quot;fixed&quot; properties &quot;format&quot;, or a &quot;fixed pojo&quot; (when nothing is &quot;fixed&quot;...where is the problem?), when both are fixed, there should also be a (sophisticated) load/save(r/w/i/o) functionality (somewhere) ..please study (your docs+) https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties , if that doesn&#39;t help, please better describe the problem/your expectations.","body":"hi&amp;welcome! ...<code>user.name</code> has very special meaning and different effect in a &quot;standard spring-boot(-security)-web app&quot;  ...normally or you have a &quot;fixed&quot; properties &quot;format&quot;, or a &quot;fixed pojo&quot; (when nothing is &quot;fixed&quot;...where is the problem?), when both are fixed, there should also be a (sophisticated) load/save(r/w/i/o) functionality (somewhere) ..please study (your docs+) <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> , if that doesn&#39;t help, please better describe the problem/your expectations."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701870243,"post_id":77613268,"comment_id":136828337,"body_markdown":"The short answer no you cannot. The bit longer as that would require classfile manipulation upon loading or during compiling. Which would change the actual fields, which would break other code that directly uses this.","body":"The short answer no you cannot. The bit longer as that would require classfile manipulation upon loading or during compiling. Which would change the actual fields, which would break other code that directly uses this."}],"owner":{"account_id":29261625,"reputation":1,"user_id":22418468,"display_name":"anonymous-java-dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701868120,"creation_date":1701867712,"question_id":77613268,"body_markdown":"I have a use case where I need to map variable names from .properties to my POJO in runtime say I have a POJO\r\n\r\nclass User{\r\n\r\n    int id,\r\n    String name,\r\n    so on...\r\n    }\r\n\r\nAnd in .properties I have a a key say\r\n\r\n    user.name=userName\r\n\r\nSo in runtime this should be interpreted as\r\n\r\n    class User{\r\n    int id,\r\n    String userName,\r\n    so on...\r\n    }\r\n\r\nthrough it is compiled as\r\n\r\n    class User{\r\n    int id,\r\n    String name,\r\n    so on...\r\n    }\r\n\r\nSo, I couldn&#39;t find anything that works for me.\r\nWould be great if somebody suggests a possible logic to use.\r\n","title":"Is there anyway to achieve exactly the opposite functionality of @Value annotation i.e map variable name instead of values from .properties file?","body":"<p>I have a use case where I need to map variable names from .properties to my POJO in runtime say I have a POJO</p>\n<p>class User{</p>\n<pre><code>int id,\nString name,\nso on...\n}\n</code></pre>\n<p>And in .properties I have a a key say</p>\n<pre><code>user.name=userName\n</code></pre>\n<p>So in runtime this should be interpreted as</p>\n<pre><code>class User{\nint id,\nString userName,\nso on...\n}\n</code></pre>\n<p>through it is compiled as</p>\n<pre><code>class User{\nint id,\nString name,\nso on...\n}\n</code></pre>\n<p>So, I couldn't find anything that works for me.\nWould be great if somebody suggests a possible logic to use.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1701675520,"post_id":77597524,"comment_id":136800520,"body_markdown":"I would recommend to use some different LayoutManager, not the default one. Check the official tutorial: [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) - I prefer the GridBagLayout (seems a bit complicated at start.) Also test the documentation fo JTextField, mainly this [constructor](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JTextField.html#%3Cinit%3E(int))","body":"I would recommend to use some different LayoutManager, not the default one. Check the official tutorial: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> - I prefer the GridBagLayout (seems a bit complicated at start.) Also test the documentation fo JTextField, mainly this <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JTextField.html#%3Cinit%3E(int)\" rel=\"nofollow noreferrer\">constructor</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1701676158,"post_id":77597524,"comment_id":136800615,"body_markdown":"JTextField allows you to supply a character width hint via the constructor. As for disaster type, I’d recommend using a JComboBox","body":"JTextField allows you to supply a character width hint via the constructor. As for disaster type, I’d recommend using a JComboBox"}],"answers":[{"tags":[],"owner":{"account_id":25393624,"reputation":134,"user_id":19204200,"display_name":"Patrick Cumpa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701868109,"creation_date":1701868109,"answer_id":77613322,"question_id":77597524,"body_markdown":"You can try using [SpringLayout][1] as a layout. While for the list of disaster types, you have to use JComboBox.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import com.example.SpringUtilities;\r\n    \r\n    public class DisasterReportGUIConsole extends JFrame {\r\n    \r\n        public DisasterReportGUIConsole() {\r\n            super(&quot;Report Disaster&quot;);\r\n            setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\r\n    \r\n            SpringLayout springLayout = new SpringLayout();\r\n            JPanel formPane = new JPanel();\r\n            formPane.setLayout(springLayout);\r\n            \r\n            JLabel locationLabel = new JLabel(&quot;Location: &quot;);\r\n            JTextField locationField = new JTextField(20);\r\n    \r\n            formPane.add(locationLabel);\r\n            formPane.add(locationField);\r\n    \r\n            String[] categories = {&quot;Earthquake&quot;, &quot;Typhoon&quot;, &quot;Flood&quot;, &quot;Fire&quot;, &quot;Other&quot;};\r\n            JLabel disasterTypeLabel = new JLabel(&quot;Disaster Type: &quot;);\r\n            JComboBox&lt;String&gt; comboBox = new JComboBox&lt;&gt;(categories);\r\n    \r\n            formPane.add(disasterTypeLabel);\r\n            formPane.add(comboBox);\r\n    \r\n            JLabel descriptionLabel = new JLabel(&quot;Description: &quot;);\r\n            JTextArea descriptionArea = new JTextArea(5, 20);\r\n            descriptionArea.setLineWrap(true);\r\n            JScrollPane scrollPane = new JScrollPane(descriptionArea, \r\n                                            JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, \r\n                                            JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n    \r\n            formPane.add(descriptionLabel);\r\n            formPane.add(scrollPane);\r\n            \r\n            SpringUtilities.makeCompactGrid(formPane, 3, 2, 15, 15, 15, 15);\r\n    \r\n            JPanel buttonPane = new JPanel();\r\n            buttonPane.setLayout(new BoxLayout(buttonPane, BoxLayout.LINE_AXIS));\r\n            buttonPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 10, 10));\r\n    \r\n            JButton submiButton = new JButton(&quot;Submit Report&quot;);\r\n            submiButton.addActionListener(e -&gt; {\r\n                JOptionPane.showMessageDialog(DisasterReportGUIConsole.this, &quot;Report Submitted!&quot;);\r\n                dispose();\r\n            });\r\n            buttonPane.add(Box.createHorizontalGlue());\r\n            buttonPane.add(submiButton);\r\n    \r\n            Container contentPane = getContentPane();\r\n            contentPane.add(formPane, BorderLayout.CENTER);\r\n            contentPane.add(buttonPane, BorderLayout.PAGE_END);\r\n    \r\n            pack();\r\n            setLocationRelativeTo(null);\r\n            setVisible(true);  \r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n`SpringUtilities` isn&#39;t included in the JDK/JRE. So you need to add it to your project: [SpringUtilities.java][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html\r\n  [2]: https://i.stack.imgur.com/Kf37A.png\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/examples/layout/SpringGridProject/src/layout/SpringUtilities.java","title":"Can somebody help me to fix this? Make the output become more tidy","body":"<p>You can try using <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html\" rel=\"nofollow noreferrer\">SpringLayout</a> as a layout. While for the list of disaster types, you have to use JComboBox.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport com.example.SpringUtilities;\n\npublic class DisasterReportGUIConsole extends JFrame {\n\n    public DisasterReportGUIConsole() {\n        super(&quot;Report Disaster&quot;);\n        setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\n\n        SpringLayout springLayout = new SpringLayout();\n        JPanel formPane = new JPanel();\n        formPane.setLayout(springLayout);\n        \n        JLabel locationLabel = new JLabel(&quot;Location: &quot;);\n        JTextField locationField = new JTextField(20);\n\n        formPane.add(locationLabel);\n        formPane.add(locationField);\n\n        String[] categories = {&quot;Earthquake&quot;, &quot;Typhoon&quot;, &quot;Flood&quot;, &quot;Fire&quot;, &quot;Other&quot;};\n        JLabel disasterTypeLabel = new JLabel(&quot;Disaster Type: &quot;);\n        JComboBox&lt;String&gt; comboBox = new JComboBox&lt;&gt;(categories);\n\n        formPane.add(disasterTypeLabel);\n        formPane.add(comboBox);\n\n        JLabel descriptionLabel = new JLabel(&quot;Description: &quot;);\n        JTextArea descriptionArea = new JTextArea(5, 20);\n        descriptionArea.setLineWrap(true);\n        JScrollPane scrollPane = new JScrollPane(descriptionArea, \n                                        JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, \n                                        JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n\n        formPane.add(descriptionLabel);\n        formPane.add(scrollPane);\n        \n        SpringUtilities.makeCompactGrid(formPane, 3, 2, 15, 15, 15, 15);\n\n        JPanel buttonPane = new JPanel();\n        buttonPane.setLayout(new BoxLayout(buttonPane, BoxLayout.LINE_AXIS));\n        buttonPane.setBorder(BorderFactory.createEmptyBorder(0, 10, 10, 10));\n\n        JButton submiButton = new JButton(&quot;Submit Report&quot;);\n        submiButton.addActionListener(e -&gt; {\n            JOptionPane.showMessageDialog(DisasterReportGUIConsole.this, &quot;Report Submitted!&quot;);\n            dispose();\n        });\n        buttonPane.add(Box.createHorizontalGlue());\n        buttonPane.add(submiButton);\n\n        Container contentPane = getContentPane();\n        contentPane.add(formPane, BorderLayout.CENTER);\n        contentPane.add(buttonPane, BorderLayout.PAGE_END);\n\n        pack();\n        setLocationRelativeTo(null);\n        setVisible(true);  \n    }\n}\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/Kf37A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kf37A.png\" alt=\"enter image description here\" /></a></p>\n<p><code>SpringUtilities</code> isn't included in the JDK/JRE. So you need to add it to your project: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/examples/layout/SpringGridProject/src/layout/SpringUtilities.java\" rel=\"nofollow noreferrer\">SpringUtilities.java</a></p>\n"}],"owner":{"account_id":30020790,"reputation":23,"user_id":23006223,"display_name":"Jerry Wingsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77613322,"answer_count":1,"score":1,"last_activity_date":1701868109,"creation_date":1701670780,"question_id":77597524,"body_markdown":"So I&#39;m making a group project which is Java console GUI. This is my code for the Java console GUI:\r\n\r\nHere&#39;s the output from my code.  \r\n[enter image description here](https://i.stack.imgur.com/ejIc1.png)  \r\nCan you edit my location cause it is so small the text.  \r\nAlso, the &quot;Disaster Type&quot; I want the category to appear in a list which is Earthquake, Typhoon, Floor, Fire, Other.\r\n\r\n```\r\nimport java.awt.Dimension;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.ArrayList;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.*;\r\nimport javax.swing.JComboBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\n\r\npublic class DisasterReportGUIConsole extends JFrame {\r\n    \r\n    private JTextField locationField; \r\n\r\n    public DisasterReportGUIConsole() {\r\n        setTitle(&quot;Report Disaster&quot;);\r\n        setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\r\n        \r\n        ArrayList&lt;Object&gt; reportList = new ArrayList&lt;&gt;();\r\n        \r\n        JPanel panel = new JPanel();\r\n        panel.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\r\n        setPreferredSize(new Dimension(400, 400));\r\n        \r\n        panel.add(new JLabel(&quot;Location:&quot;));\r\n        locationField = new JTextField();\r\n        panel.add(locationField);\r\n        \r\n        panel.add(new JLabel(&quot;Disaster Type:&quot;));\r\n        String[] categories = {&quot;Earthquake, Typhoon, Flood, Fire, Other&quot;};\r\n        \r\n        panel.add(new Jlabel(&quot;Description:&quot;));\r\n        JTextArea descriptionArea = new JTextArea();\r\n        \r\n        JButton submitButton = new JButton(&quot;Submit Report&quot;);\r\n        submitButton.addActionListener(e -&gt; handleRegistration(e));\r\n        panel.add(submitButton);\r\n        \r\n        setContentPane(panel);\r\n        pack();\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);  \r\n}\r\n\r\n    private void handleRegistration(ActionEvent e) { \r\n        JOptionPane.showMessageDialog(this, &quot;Report Submitted!&quot;);\r\n        dispose();\r\n}\r\n     public static void main(String[] args) {\r\n        new DisasterReportGUIConsole();\r\n}\r\n}\r\n```\r\n\r\nI already created a code for this. Can someone help me to fix it? I tried several times but still didn&#39;t get the answers.","title":"Can somebody help me to fix this? Make the output become more tidy","body":"<p>So I'm making a group project which is Java console GUI. This is my code for the Java console GUI:</p>\n<p>Here's the output from my code.<br />\n<a href=\"https://i.stack.imgur.com/ejIc1.png\" rel=\"nofollow noreferrer\">enter image description here</a><br />\nCan you edit my location cause it is so small the text.<br />\nAlso, the &quot;Disaster Type&quot; I want the category to appear in a list which is Earthquake, Typhoon, Floor, Fire, Other.</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport javax.swing.BorderFactory;\nimport javax.swing.*;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\n\npublic class DisasterReportGUIConsole extends JFrame {\n    \n    private JTextField locationField; \n\n    public DisasterReportGUIConsole() {\n        setTitle(&quot;Report Disaster&quot;);\n        setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\n        \n        ArrayList&lt;Object&gt; reportList = new ArrayList&lt;&gt;();\n        \n        JPanel panel = new JPanel();\n        panel.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\n        setPreferredSize(new Dimension(400, 400));\n        \n        panel.add(new JLabel(&quot;Location:&quot;));\n        locationField = new JTextField();\n        panel.add(locationField);\n        \n        panel.add(new JLabel(&quot;Disaster Type:&quot;));\n        String[] categories = {&quot;Earthquake, Typhoon, Flood, Fire, Other&quot;};\n        \n        panel.add(new Jlabel(&quot;Description:&quot;));\n        JTextArea descriptionArea = new JTextArea();\n        \n        JButton submitButton = new JButton(&quot;Submit Report&quot;);\n        submitButton.addActionListener(e -&gt; handleRegistration(e));\n        panel.add(submitButton);\n        \n        setContentPane(panel);\n        pack();\n        setLocationRelativeTo(null);\n        setVisible(true);  \n}\n\n    private void handleRegistration(ActionEvent e) { \n        JOptionPane.showMessageDialog(this, &quot;Report Submitted!&quot;);\n        dispose();\n}\n     public static void main(String[] args) {\n        new DisasterReportGUIConsole();\n}\n}\n</code></pre>\n<p>I already created a code for this. Can someone help me to fix it? I tried several times but still didn't get the answers.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1701868155,"post_id":77613293,"comment_id":136827954,"body_markdown":"please don&#39;t just drop your assignment or &quot;desired result&quot; here. What code have you tried, what is(n&#39;t) working? Are the problems compile- or runtime? What error messages do you get?","body":"please don&#39;t just drop your assignment or &quot;desired result&quot; here. What code have you tried, what is(n&#39;t) working? Are the problems compile- or runtime? What error messages do you get?"}],"owner":{"account_id":14764421,"reputation":310,"user_id":10662871,"display_name":"Bipin Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701867899,"creation_date":1701867899,"question_id":77613293,"body_markdown":"I want to create a view which will contain multiple child view. Now I want to allow feature to drag top or bottom boundary to increase of decrease the size of child view.\r\nSomething like this : \r\n\r\n[![Something like this][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zl4dw.png\r\n\r\nWhen user drag the bottom of colombo to top then it will decrease the size of it to minimum 1 day and increase the singapore view size.\r\n\r\nCan someone help?","title":"Parent with multiple child and draggable height","body":"<p>I want to create a view which will contain multiple child view. Now I want to allow feature to drag top or bottom boundary to increase of decrease the size of child view.\nSomething like this :</p>\n<p><a href=\"https://i.stack.imgur.com/Zl4dw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zl4dw.png\" alt=\"Something like this\" /></a></p>\n<p>When user drag the bottom of colombo to top then it will decrease the size of it to minimum 1 day and increase the singapore view size.</p>\n<p>Can someone help?</p>\n"},{"tags":["java","dependency-injection","log4j"],"comments":[{"owner":{"account_id":9926590,"reputation":5025,"user_id":7347933,"accept_rate":86,"display_name":"Papershine"},"score":1,"creation_date":1502367969,"post_id":45613644,"comment_id":78185683,"body_markdown":"This seems to be a bug in the `org.xeustechnologies.googleapi.spelling.SpellChecker` API.","body":"This seems to be a bug in the <code>org.xeustechnologies.googleapi.spelling.SpellChecker</code> API."}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502369062,"creation_date":1502368751,"answer_id":45613989,"question_id":45613644,"body_markdown":"It looks like `org.xeustechnologies.google.api.spelling.SpellChecker` uses log4j and you are using slf4j.  Try adding [log4j-over-slf4j][1] to the classpath to bridge log4 to use slf4j.\r\n\r\n\r\n\r\n\r\n[1]:https://mvnrepository.com/artifact/org.slf4j/log4j-over-slf4j","title":"java.lang.ClassCastException: org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to org.apache.logging.log4j.core.LoggerContext","body":"<p>It looks like <code>org.xeustechnologies.google.api.spelling.SpellChecker</code> uses log4j and you are using slf4j.  Try adding <a href=\"https://mvnrepository.com/artifact/org.slf4j/log4j-over-slf4j\" rel=\"nofollow noreferrer\">log4j-over-slf4j</a> to the classpath to bridge log4 to use slf4j.</p>\n"}],"owner":{"account_id":10376283,"reputation":41,"user_id":7652371,"accept_rate":33,"display_name":"Goutham Vijay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10246,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701867745,"creation_date":1502367808,"question_id":45613644,"body_markdown":"I&#39;m trying to create SpellChecker program through API. Here is my code:\r\n\r\n**SpellCheck.java**\r\n\r\n    package com.spell;\r\n    \r\n    import org.xeustechnologies.googleapi.spelling.SpellChecker;\r\n    import org.xeustechnologies.googleapi.spelling.SpellCorrection;\r\n    import org.xeustechnologies.googleapi.spelling.SpellResponse;\r\n    \r\n    public class SpellCheck {\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n    \r\n            SpellChecker checker = new SpellChecker();\r\n    \r\n            SpellResponse spellResponse = checker.check( &quot;helloo worlrd&quot; );\r\n    \r\n            for( SpellCorrection sc : spellResponse.getCorrections() ) \r\n    \t        System.out.println( sc.getValue() );\r\n    \r\n        }\r\n    }\r\n\r\n**Dependencies**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lK8KF.png\r\n  [2]: https://i.stack.imgur.com/DAfgN.png\r\n\r\n**Error I got after running it:**\r\n\r\n&gt;    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n    \tat com.spell.SpellCheck.main(SpellCheck.java:12)\r\n    Caused by: java.lang.ClassCastException: org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to org.apache.logging.log4j.core.LoggerContext\r\n    \tat org.apache.log4j.Logger$PrivateManager.getContext(Logger.java:59)\r\n    \tat org.apache.log4j.Logger.getLogger(Logger.java:41)\r\n    \tat org.xeustechnologies.googleapi.spelling.SpellChecker.&lt;clinit&gt;(SpellChecker.java:50)\r\n    \t... 1 more\r\n\r\n","title":"java.lang.ClassCastException: org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to org.apache.logging.log4j.core.LoggerContext","body":"<p>I'm trying to create SpellChecker program through API. Here is my code:</p>\n<p><strong>SpellCheck.java</strong></p>\n<pre><code>package com.spell;\n\nimport org.xeustechnologies.googleapi.spelling.SpellChecker;\nimport org.xeustechnologies.googleapi.spelling.SpellCorrection;\nimport org.xeustechnologies.googleapi.spelling.SpellResponse;\n\npublic class SpellCheck {\n\n    public static void main(String[] args)\n    {\n\n        SpellChecker checker = new SpellChecker();\n\n        SpellResponse spellResponse = checker.check( &quot;helloo worlrd&quot; );\n\n        for( SpellCorrection sc : spellResponse.getCorrections() ) \n            System.out.println( sc.getValue() );\n\n    }\n}\n</code></pre>\n<p><strong>Dependencies</strong></p>\n<p><a href=\"https://i.stack.imgur.com/lK8KF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lK8KF.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/DAfgN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DAfgN.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Error I got after running it:</strong></p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\nat com.spell.SpellCheck.main(SpellCheck.java:12)\nCaused by: java.lang.ClassCastException: org.apache.logging.slf4j.SLF4JLoggerContext cannot be cast to org.apache.logging.log4j.core.LoggerContext\nat org.apache.log4j.Logger$PrivateManager.getContext(Logger.java:59)\nat org.apache.log4j.Logger.getLogger(Logger.java:41)\nat org.xeustechnologies.googleapi.spelling.SpellChecker.(SpellChecker.java:50)\n... 1 more</p>\n</blockquote>\n"},{"tags":["java","hibernate","jpa","where-clause","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145158,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1615445474,"creation_date":1417116437,"answer_id":27177625,"question_id":27175845,"body_markdown":"As you already discovered, or simply use cases the `@Where` clause is just fine, but in your case, you want to filter `PlaceTag` by the place and tag too, so a joined is required in this situation.\r\n\r\nSo, you can keep the `@Where` clause for `Place` and `Tag`, while for `PlaceTags` you need to use a JPQL query:\r\n\r\n    select pt\r\n    from PlaceTag pt\r\n    join pt.tag t\r\n    join pt.place p\r\n    where \r\n        t.state=&#39;ACTIVE&#39; and p.state=&#39;ACTIVE&#39;\r\n\r\nAt least until [`@WhereJoinTable`][1] annotation is made to work [for many-to-one associations][2] too.\r\n\r\n  [1]: https://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/annotations/WhereJoinTable.html\r\n  [2]: https://hibernate.atlassian.net/browse/HHH-4335","title":"Hibernate @Where annotation on a ManyToOne relation","body":"<p>As you already discovered, or simply use cases the <code>@Where</code> clause is just fine, but in your case, you want to filter <code>PlaceTag</code> by the place and tag too, so a joined is required in this situation.</p>\n<p>So, you can keep the <code>@Where</code> clause for <code>Place</code> and <code>Tag</code>, while for <code>PlaceTags</code> you need to use a JPQL query:</p>\n<pre><code>select pt\nfrom PlaceTag pt\njoin pt.tag t\njoin pt.place p\nwhere \n    t.state='ACTIVE' and p.state='ACTIVE'\n</code></pre>\n<p>At least until <a href=\"https://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/annotations/WhereJoinTable.html\" rel=\"nofollow noreferrer\"><code>@WhereJoinTable</code></a> annotation is made to work <a href=\"https://hibernate.atlassian.net/browse/HHH-4335\" rel=\"nofollow noreferrer\">for many-to-one associations</a> too.</p>\n"}],"owner":{"account_id":938667,"reputation":5404,"user_id":967143,"accept_rate":45,"display_name":"Johny19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16793,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1701867745,"creation_date":1417107972,"question_id":27175845,"body_markdown":"I have recently started to refactor my project because I had to add an extra column to some of my table. The extra column is an Enum (Pending, or Active). \r\nBecause of that change I would need now to refactor ALL my queries to only retrieves a row if the status is ACTIVE.\r\n\r\nAfter some research I found that we can annotate an Entity with the @Where annotation. it works fine where I use it on a simple column but my table look like this:\r\n\r\n    @Where(clause = &#39;state=&#39;ACTIVE&#39;&quot;)\r\n    @Entity\r\n    public class Place {\r\n     \r\n      @Column(name=&quot;id_place&quot;)\r\n      private String placeId;\r\n    \r\n      @Column(name=&quot;name&quot;)\r\n      private String palceName;\r\n    \r\n    @OneToMany(mappedBy = &quot;place&quot;)\r\n    \tprivate Set&lt;PlaceTag&gt; placeTag;\r\n\r\n      ...\r\n      ...\r\n    }\r\n    \r\n    @Where(clause = &#39;state=&#39;ACTIVE&#39;&quot;)\r\n    @Entity\r\n    public class Tag {\r\n     \r\n      @Column(name=&quot;id_tag&quot;)\r\n      private String tagId;\r\n    \r\n      @Column(name=&quot;name&quot;)\r\n      private String tagName;\r\n    \r\n       @OneToMany(mappedBy = &quot;tag&quot;)\r\n    \tprivate Set&lt;PlaceTag&gt; placeTag;\r\n       ... \r\n       ...\r\n    }\r\n    \r\n    @Where(clause = &#39;poi.state=&#39;ACTIVE&#39; AND tag.state=&#39;ACTIVE&quot;)\r\n    @Entity\r\n    public class PlaceTag {\r\n     \r\n      @Column(name=&quot;id&quot;)\r\n      private String id;\r\n    \r\n      @ManyToOne(cascade = CascadeType.DETACH, fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;place_id&quot;)\r\n      private Place place;\r\n     \r\n      @ManyToOne(cascade = CascadeType.DETACH, fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;tag_id&quot;)\r\n      private Tag tag;\r\n      \r\n      ...\r\n      ...\r\n    \r\n    }\r\n\r\nNow my question would be how can make this statement ONLY return the places and tags that are ACTIVE ?\r\n\r\n    SELECT pt FROM PlaceTag pt;\r\n\r\nIs this possible? Or will I have to write the query Explicitly ?\r\n\r\nThank you ","title":"Hibernate @Where annotation on a ManyToOne relation","body":"<p>I have recently started to refactor my project because I had to add an extra column to some of my table. The extra column is an Enum (Pending, or Active). \nBecause of that change I would need now to refactor ALL my queries to only retrieves a row if the status is ACTIVE.</p>\n\n<p>After some research I found that we can annotate an Entity with the @Where annotation. it works fine where I use it on a simple column but my table look like this:</p>\n\n<pre><code>@Where(clause = 'state='ACTIVE'\")\n@Entity\npublic class Place {\n\n  @Column(name=\"id_place\")\n  private String placeId;\n\n  @Column(name=\"name\")\n  private String palceName;\n\n@OneToMany(mappedBy = \"place\")\n    private Set&lt;PlaceTag&gt; placeTag;\n\n  ...\n  ...\n}\n\n@Where(clause = 'state='ACTIVE'\")\n@Entity\npublic class Tag {\n\n  @Column(name=\"id_tag\")\n  private String tagId;\n\n  @Column(name=\"name\")\n  private String tagName;\n\n   @OneToMany(mappedBy = \"tag\")\n    private Set&lt;PlaceTag&gt; placeTag;\n   ... \n   ...\n}\n\n@Where(clause = 'poi.state='ACTIVE' AND tag.state='ACTIVE\")\n@Entity\npublic class PlaceTag {\n\n  @Column(name=\"id\")\n  private String id;\n\n  @ManyToOne(cascade = CascadeType.DETACH, fetch = FetchType.LAZY)\n  @JoinColumn(name = \"place_id\")\n  private Place place;\n\n  @ManyToOne(cascade = CascadeType.DETACH, fetch = FetchType.LAZY)\n  @JoinColumn(name = \"tag_id\")\n  private Tag tag;\n\n  ...\n  ...\n\n}\n</code></pre>\n\n<p>Now my question would be how can make this statement ONLY return the places and tags that are ACTIVE ?</p>\n\n<pre><code>SELECT pt FROM PlaceTag pt;\n</code></pre>\n\n<p>Is this possible? Or will I have to write the query Explicitly ?</p>\n\n<p>Thank you </p>\n"},{"tags":["java","spring-boot","model","entity","three-tier"],"comments":[{"owner":{"account_id":17980794,"reputation":1888,"user_id":13067200,"display_name":"Kenan G&#252;ler"},"score":1,"creation_date":1585665189,"post_id":60939220,"comment_id":107837690,"body_markdown":"The answer you added from other post somewhat supports my suggestion, that is you have presentation/boundry layer that solely deals with DTOs and delegates the mapping between DTO &lt;-&gt; Entity to an AutoMapper (e.g. `MapStruct`, or your own implementation).","body":"The answer you added from other post somewhat supports my suggestion, that is you have presentation/boundry layer that solely deals with DTOs and delegates the mapping between DTO &lt;-&gt; Entity to an AutoMapper (e.g. <code>MapStruct</code>, or your own implementation)."},{"owner":{"account_id":17980794,"reputation":1888,"user_id":13067200,"display_name":"Kenan G&#252;ler"},"score":1,"creation_date":1585665355,"post_id":60939220,"comment_id":107837784,"body_markdown":"Domain object and domain entity are by and large the same thing. Anything that has to do with your domain can be classified as a domain object, whereas the domain objects that you want to persist within your database are usually called `entity` meaning that you don&#39;t have to persist each of your domain object, but usually you do, and those domain objects are referred as `entity`.","body":"Domain object and domain entity are by and large the same thing. Anything that has to do with your domain can be classified as a domain object, whereas the domain objects that you want to persist within your database are usually called <code>entity</code> meaning that you don&#39;t have to persist each of your domain object, but usually you do, and those domain objects are referred as <code>entity</code>."},{"owner":{"account_id":17980794,"reputation":1888,"user_id":13067200,"display_name":"Kenan G&#252;ler"},"score":1,"creation_date":1585666782,"post_id":60939220,"comment_id":107838719,"body_markdown":"Please also note that (from my own experience) the DAOs and business service classes both use/access the domain objects/entities - DAOs usually only deal with `entities`, so there is no need an additional encapsulation between a service and DAO / Repository. Your PersonDao deals with entities and the ORM framework, whereas the business services carry out the core business logic using the domain objects/entities.","body":"Please also note that (from my own experience) the DAOs and business service classes both use/access the domain objects/entities - DAOs usually only deal with <code>entities</code>, so there is no need an additional encapsulation between a service and DAO / Repository. Your PersonDao deals with entities and the ORM framework, whereas the business services carry out the core business logic using the domain objects/entities."}],"answers":[{"tags":[],"owner":{"account_id":17980794,"reputation":1888,"user_id":13067200,"display_name":"Kenan G&#252;ler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677423989,"creation_date":1585608207,"answer_id":60940707,"question_id":60939220,"body_markdown":"From what I understand your question is particularly about the *layers* and their useage within the `logic` tier. (Thus the `presentation` and `data` tiers are not part of the question).\r\n\r\n\r\n##  About the `PersonModel`\r\nI am not sure, what you mean with the `PersonModel` and what it actually does, but at first sight I can say you normally would not need something like that, which would just add additional code duplication and maintenance overhead sooner or later.\r\n\r\n##  About the `PersonDto`\r\nThe `DTO`s, as the name suggests, are really meant to be for transferring data between the client (`presentation` layer) and your API (`controller / boundary` layer within the `logic tier`) which are used to expose &quot;client friendly&quot; presentation of your [domain model](https://www.martinfowler.com/eaaCatalog/domainModel.html), to regulate the over- and under-fetching - somehow (thanks to [GraphQL](https://graphql.org/) this is now almost no longer a problem). So your business service classes don&#39;t need to know or deal with the DTOs at all.\r\n\r\nAlso, as you already mentioned, for the sake of [SRP](https://en.wikipedia.org/wiki/Single-responsibility_principle) the business or dao classes should not deal with additional data mapping (e.g. Dto &lt;-&gt; Model, Model &lt;-&gt; Entity) in any way. They already fulfill a certain task within the logic tier (cf. *boundary layer*, *service layer*).\r\n\r\n## About the `PersonEntity`\r\nThis is something that normally represents both the *real* entity from your [problem domain](https://en.wikipedia.org/wiki/Problem_domain) and `data` tier (e.g. database table in a RDBMS or document in a NoSQL). So it&#39;s pretty common\r\n\r\n- that the entity classes are named without a suffix such as `Entity`. Just use the plain name for it, e.g. `Person`,\r\n\r\n- that the entity classes contain additional annotations (e.g. JPA) to make them visible for the `ORM layer` (e.g. Hibernate),\r\n\r\n- that the entity classes should not be necessarily [anemic](https://www.martinfowler.com/bliki/AnemicDomainModel.html) and actually contain some additional behavior (probably what you wanted to do with your `PersonModel` class), e.g.\r\n\r\n```java\r\nclass Person {\r\n  Date birthday;\r\n\r\n  int getAge() { /* calculate age based on the birthday */ }\r\n\r\n  boolean isAdult() { /* getAge() &gt;= 18 */ }\r\n}\r\n```\r\n\r\n## Wrapping up\r\n\r\nUse case:  *creation of `Person` entity*\r\n\r\n***Hinflug*** (outbound flight)\r\n\r\n```\r\n[Client] --&gt; (data: JSON) --&gt; &lt;Deserialization as `PersonDTO`&gt; --&gt; &lt;DTO Validation&gt; --&gt; [PersonController] --&gt; &lt;AutoMapping to `Person` entity&gt; --&gt; [PersonService] --&gt; [PersonDao] --&gt; &lt;ORM and JDBC&gt; --&gt; &lt;Entity Validation&gt; --&gt; DB\r\n```\r\n\r\nNote: `&lt;Validation&gt;` can also be done within the Controller manually but usually [Bean Validation API](https://stackoverflow.com/questions/60747846/java-restcontroller-rest-parameter-dependency-injection-or-request/60748131#60748131) is used to automate this process *in the backgroud*. The good thing is you can use the Bean Validation API to validate both your DTOs and the Entities (e.g. with [Hibernate Validator](https://hibernate.org/validator/documentation/getting-started/)).\r\n\r\n***R&#252;ckflug*** (return flight)\r\n```\r\nDB --&gt; &lt;ORM and JDBC&gt; --&gt; [PersonDao] --&gt; [PersonService] --&gt; &lt;AutoMapping to `Person` entity&gt; --&gt; [PersonController] --&gt; &lt;AutoMapping `Person` entity to `PersonDTO`&gt;  --&gt; &lt;Serialization of `PersonDTO`&gt; --&gt; (data: JSON) -&gt; [Client]  \r\n```","title":"Need for a domain model in a service in 3 tier architecture?","body":"<p>From what I understand your question is particularly about the <em>layers</em> and their useage within the <code>logic</code> tier. (Thus the <code>presentation</code> and <code>data</code> tiers are not part of the question).</p>\n<h2>About the <code>PersonModel</code></h2>\n<p>I am not sure, what you mean with the <code>PersonModel</code> and what it actually does, but at first sight I can say you normally would not need something like that, which would just add additional code duplication and maintenance overhead sooner or later.</p>\n<h2>About the <code>PersonDto</code></h2>\n<p>The <code>DTO</code>s, as the name suggests, are really meant to be for transferring data between the client (<code>presentation</code> layer) and your API (<code>controller / boundary</code> layer within the <code>logic tier</code>) which are used to expose &quot;client friendly&quot; presentation of your <a href=\"https://www.martinfowler.com/eaaCatalog/domainModel.html\" rel=\"nofollow noreferrer\">domain model</a>, to regulate the over- and under-fetching - somehow (thanks to <a href=\"https://graphql.org/\" rel=\"nofollow noreferrer\">GraphQL</a> this is now almost no longer a problem). So your business service classes don't need to know or deal with the DTOs at all.</p>\n<p>Also, as you already mentioned, for the sake of <a href=\"https://en.wikipedia.org/wiki/Single-responsibility_principle\" rel=\"nofollow noreferrer\">SRP</a> the business or dao classes should not deal with additional data mapping (e.g. Dto &lt;-&gt; Model, Model &lt;-&gt; Entity) in any way. They already fulfill a certain task within the logic tier (cf. <em>boundary layer</em>, <em>service layer</em>).</p>\n<h2>About the <code>PersonEntity</code></h2>\n<p>This is something that normally represents both the <em>real</em> entity from your <a href=\"https://en.wikipedia.org/wiki/Problem_domain\" rel=\"nofollow noreferrer\">problem domain</a> and <code>data</code> tier (e.g. database table in a RDBMS or document in a NoSQL). So it's pretty common</p>\n<ul>\n<li><p>that the entity classes are named without a suffix such as <code>Entity</code>. Just use the plain name for it, e.g. <code>Person</code>,</p>\n</li>\n<li><p>that the entity classes contain additional annotations (e.g. JPA) to make them visible for the <code>ORM layer</code> (e.g. Hibernate),</p>\n</li>\n<li><p>that the entity classes should not be necessarily <a href=\"https://www.martinfowler.com/bliki/AnemicDomainModel.html\" rel=\"nofollow noreferrer\">anemic</a> and actually contain some additional behavior (probably what you wanted to do with your <code>PersonModel</code> class), e.g.</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>class Person {\n  Date birthday;\n\n  int getAge() { /* calculate age based on the birthday */ }\n\n  boolean isAdult() { /* getAge() &gt;= 18 */ }\n}\n</code></pre>\n<h2>Wrapping up</h2>\n<p>Use case:  <em>creation of <code>Person</code> entity</em></p>\n<p><em><strong>Hinflug</strong></em> (outbound flight)</p>\n<pre><code>[Client] --&gt; (data: JSON) --&gt; &lt;Deserialization as `PersonDTO`&gt; --&gt; &lt;DTO Validation&gt; --&gt; [PersonController] --&gt; &lt;AutoMapping to `Person` entity&gt; --&gt; [PersonService] --&gt; [PersonDao] --&gt; &lt;ORM and JDBC&gt; --&gt; &lt;Entity Validation&gt; --&gt; DB\n</code></pre>\n<p>Note: <code>&lt;Validation&gt;</code> can also be done within the Controller manually but usually <a href=\"https://stackoverflow.com/questions/60747846/java-restcontroller-rest-parameter-dependency-injection-or-request/60748131#60748131\">Bean Validation API</a> is used to automate this process <em>in the backgroud</em>. The good thing is you can use the Bean Validation API to validate both your DTOs and the Entities (e.g. with <a href=\"https://hibernate.org/validator/documentation/getting-started/\" rel=\"nofollow noreferrer\">Hibernate Validator</a>).</p>\n<p><em><strong>Rückflug</strong></em> (return flight)</p>\n<pre><code>DB --&gt; &lt;ORM and JDBC&gt; --&gt; [PersonDao] --&gt; [PersonService] --&gt; &lt;AutoMapping to `Person` entity&gt; --&gt; [PersonController] --&gt; &lt;AutoMapping `Person` entity to `PersonDTO`&gt;  --&gt; &lt;Serialization of `PersonDTO`&gt; --&gt; (data: JSON) -&gt; [Client]  \n</code></pre>\n"}],"owner":{"account_id":6571508,"reputation":800,"user_id":6112286,"display_name":"Mr. Mars"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60940707,"answer_count":1,"score":1,"last_activity_date":1701867090,"creation_date":1585601196,"question_id":60939220,"body_markdown":"I am building an API Rest with Spring Boot and I would like to clarify a concept about my architecture, to see if the community can help me.\r\n\r\nImagine that in my database I have a table called `Person`. I am mounting an architecture based on three layer architecture. The general scheme would be as follows:\r\n\r\n- On the one hand I have the `PersonDao.java`, which will be in charge of accessing the database to retrieve the tuples from the `Person` table. To do this, it uses a class called `PersonEntity.java`, which contains (as attributes) all the columns of the table. `PersonDao.java` is going to return an object from the `PersonModel.java` class. `PersonModel.java` is the class that represents the `Person` business model.\r\n\r\n- On the other hand, I have the `PersonService.java`, which is responsible for carrying out the business logic of my application. This service calls `PersonaDao.java` to access the information stored in the database. `PersonService.java` works with objects of the `PersonModel.java` class, since this class represents the business objects of my application. `PersonService.java` will always return a `PersonDto,java`.\r\n\r\n- Finally, `PersonController.java`. This controller will be the one that exposes the connection interface of the Rest API. He always works with DTO and communicates with `PersonService.java` through DTO as well.\r\n\r\n`PersonController &lt;-&gt; (PersonDto) &lt;-&gt; PersonService &lt;-&gt; (PersonModel) &lt;-&gt; PersonDao &lt;-&gt; (PersonEntity) &lt;-&gt; DB`\r\n\r\nThe question is: Is it necessary to use the `PersonModel.java` class so that `PersonService.java` only works with objects of this class? Or would it be better for `PersonService.java` to work directly with objects from class `PersonEntity.java`? If I do it this way it is to maintain the principle of single responsibility, so that each layer only works with objects of its scope.\r\n\r\nIf the answer is that `PersonModel.java` is necessary to maintain the principle of single responsibility of each layer. Would something change if `JpaRepository` were used? If I ask this question it is because in many tutorials and examples I see that when `JpaRepository` is used, the services work directly with the entities. In this case, shouldn&#39;t we create a class that represents the business object for the services?\r\n\r\n\r\n**EDIT**: In the answer to this question (https://stackoverflow.com/questions/34084203), the architecture that makes sense in my head would be reflected, but surely it is not the most correct thing. The conclusion I come to is that each layer would use its own kind of objects. Copy / paste of the answer:\r\n\r\n&gt; Typically you have different layers:\r\n&gt;\r\n&gt; - A persistence layer to store data\r\n&gt; - Business layer to operate on data\r\n&gt; - A presentation layer to expose data\r\n&gt;\r\n&gt; Typically, each layer would use its own kind of objects:\r\n&gt; \r\n&gt; - Persistence Layer: Repositories, Entities \r\n&gt; - Business Layer: Services, Domain Objects\r\n&gt; - Presentation Layer: Controllers, DTOs\r\n&gt;\r\n&gt; This means each\r\n&gt; layer would only work with its own objects and never ever pass them to\r\n&gt; another layer.\r\n\r\nThanks in advance.","title":"Need for a domain model in a service in 3 tier architecture?","body":"<p>I am building an API Rest with Spring Boot and I would like to clarify a concept about my architecture, to see if the community can help me.</p>\n\n<p>Imagine that in my database I have a table called <code>Person</code>. I am mounting an architecture based on three layer architecture. The general scheme would be as follows:</p>\n\n<ul>\n<li><p>On the one hand I have the <code>PersonDao.java</code>, which will be in charge of accessing the database to retrieve the tuples from the <code>Person</code> table. To do this, it uses a class called <code>PersonEntity.java</code>, which contains (as attributes) all the columns of the table. <code>PersonDao.java</code> is going to return an object from the <code>PersonModel.java</code> class. <code>PersonModel.java</code> is the class that represents the <code>Person</code> business model.</p></li>\n<li><p>On the other hand, I have the <code>PersonService.java</code>, which is responsible for carrying out the business logic of my application. This service calls <code>PersonaDao.java</code> to access the information stored in the database. <code>PersonService.java</code> works with objects of the <code>PersonModel.java</code> class, since this class represents the business objects of my application. <code>PersonService.java</code> will always return a <code>PersonDto,java</code>.</p></li>\n<li><p>Finally, <code>PersonController.java</code>. This controller will be the one that exposes the connection interface of the Rest API. He always works with DTO and communicates with <code>PersonService.java</code> through DTO as well.</p></li>\n</ul>\n\n<p><code>PersonController &lt;-&gt; (PersonDto) &lt;-&gt; PersonService &lt;-&gt; (PersonModel) &lt;-&gt; PersonDao &lt;-&gt; (PersonEntity) &lt;-&gt; DB</code></p>\n\n<p>The question is: Is it necessary to use the <code>PersonModel.java</code> class so that <code>PersonService.java</code> only works with objects of this class? Or would it be better for <code>PersonService.java</code> to work directly with objects from class <code>PersonEntity.java</code>? If I do it this way it is to maintain the principle of single responsibility, so that each layer only works with objects of its scope.</p>\n\n<p>If the answer is that <code>PersonModel.java</code> is necessary to maintain the principle of single responsibility of each layer. Would something change if <code>JpaRepository</code> were used? If I ask this question it is because in many tutorials and examples I see that when <code>JpaRepository</code> is used, the services work directly with the entities. In this case, shouldn't we create a class that represents the business object for the services?</p>\n\n<p><strong>EDIT</strong>: In the answer to this question (<a href=\"https://stackoverflow.com/questions/34084203\">Spring Entities should convert to Dto in service?</a>), the architecture that makes sense in my head would be reflected, but surely it is not the most correct thing. The conclusion I come to is that each layer would use its own kind of objects. Copy / paste of the answer:</p>\n\n<blockquote>\n  <p>Typically you have different layers:</p>\n  \n  <ul>\n  <li>A persistence layer to store data</li>\n  <li>Business layer to operate on data</li>\n  <li>A presentation layer to expose data</li>\n  </ul>\n  \n  <p>Typically, each layer would use its own kind of objects:</p>\n  \n  <ul>\n  <li>Persistence Layer: Repositories, Entities </li>\n  <li>Business Layer: Services, Domain Objects</li>\n  <li>Presentation Layer: Controllers, DTOs</li>\n  </ul>\n  \n  <p>This means each\n  layer would only work with its own objects and never ever pass them to\n  another layer.</p>\n</blockquote>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","spring-retry"],"answers":[{"tags":[],"owner":{"account_id":8199180,"reputation":890,"user_id":6171025,"display_name":"divilipir"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1701866779,"creation_date":1602487522,"answer_id":64313342,"question_id":64309290,"body_markdown":"you can add retryListener\r\n\r\n        @Retryable( value = SQLException.class, maxAttempts = 5, \r\n                    backoff = @Backoff(delay = 100), listeners = {&quot;retryListener&quot;})\r\n        void testMethod(String abc) throws SQLException{\r\n        //some method body that could throw sql exception\r\n        };\r\n\r\nretryListener should like below, you can print retry count on error.\r\n\r\n    @Slf4j\r\n    @Component\r\n    class RetryListener extends RetryListenerSupport {\r\n\r\n        // Called after the final attempt (succesful or not).\r\n        @Override\r\n        public &lt;T, E extends Throwable&gt; void close(RetryContext context,\r\n                                                   RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\r\n    \r\n            log.debug(&quot;Retry closing..&quot;);\r\n            super.close(context, callback, throwable);\r\n        }\r\n\r\n        // Called after every unsuccessful attempt at a retry\r\n        @Override\r\n        public &lt;T, E extends Throwable&gt; void onError(RetryContext context, RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\r\n            log.error(&quot;Exception Occurred, Retry Count {} &quot;, context.getRetryCount());\r\n            super.onError(context, callback, throwable);\r\n        }\r\n\r\n        // Called before the first attempt in a retry\r\n        @Override\r\n        public &lt;T, E extends Throwable&gt; boolean open(RetryContext context,\r\n                                                     RetryCallback&lt;T, E&gt; callback) {\r\n            log.debug(&quot;Retry opening..&quot;);\r\n            return super.open(context, callback);\r\n        }\r\n    }","title":"Print retry count with @Retryable","body":"<p>you can add retryListener</p>\n<pre><code>    @Retryable( value = SQLException.class, maxAttempts = 5, \n                backoff = @Backoff(delay = 100), listeners = {&quot;retryListener&quot;})\n    void testMethod(String abc) throws SQLException{\n    //some method body that could throw sql exception\n    };\n</code></pre>\n<p>retryListener should like below, you can print retry count on error.</p>\n<pre><code>@Slf4j\n@Component\nclass RetryListener extends RetryListenerSupport {\n\n    // Called after the final attempt (succesful or not).\n    @Override\n    public &lt;T, E extends Throwable&gt; void close(RetryContext context,\n                                               RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\n\n        log.debug(&quot;Retry closing..&quot;);\n        super.close(context, callback, throwable);\n    }\n\n    // Called after every unsuccessful attempt at a retry\n    @Override\n    public &lt;T, E extends Throwable&gt; void onError(RetryContext context, RetryCallback&lt;T, E&gt; callback, Throwable throwable) {\n        log.error(&quot;Exception Occurred, Retry Count {} &quot;, context.getRetryCount());\n        super.onError(context, callback, throwable);\n    }\n\n    // Called before the first attempt in a retry\n    @Override\n    public &lt;T, E extends Throwable&gt; boolean open(RetryContext context,\n                                                 RetryCallback&lt;T, E&gt; callback) {\n        log.debug(&quot;Retry opening..&quot;);\n        return super.open(context, callback);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13625546,"reputation":398,"user_id":9828935,"display_name":"Velmurugan A"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1636611174,"creation_date":1636611174,"answer_id":69923915,"question_id":64309290,"body_markdown":"you can add below code:\r\n\r\n    @Retryable( value = SQLException.class, \r\n          maxAttempts = 5, backoff = @Backoff(delay = 100))\r\n    void testMethod(String abc) throws SQLException{\r\n    log.info(&quot;Retry Number : {}&quot;,RetrySynchronizationManager.getContext().getRetryCount());\r\n    };\r\n\r\nRetrySynchronizationManager.getContext().getRetryCount() will give you the retry count on flow.","title":"Print retry count with @Retryable","body":"<p>you can add below code:</p>\n<pre><code>@Retryable( value = SQLException.class, \n      maxAttempts = 5, backoff = @Backoff(delay = 100))\nvoid testMethod(String abc) throws SQLException{\nlog.info(&quot;Retry Number : {}&quot;,RetrySynchronizationManager.getContext().getRetryCount());\n};\n</code></pre>\n<p>RetrySynchronizationManager.getContext().getRetryCount() will give you the retry count on flow.</p>\n"}],"owner":{"account_id":18591034,"reputation":1258,"user_id":13548254,"display_name":"user1354825"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12626,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":69923915,"answer_count":2,"score":15,"last_activity_date":1701866779,"creation_date":1602452418,"question_id":64309290,"body_markdown":"I am using @Retryable on a method like this :-\r\n```\r\n@Retryable( value = SQLException.class, \r\n      maxAttempts = 5, backoff = @Backoff(delay = 100))\r\nvoid testMethod(String abc) throws SQLException{\r\n//some method body that could throw sql exception\r\n};\r\n```\r\n\r\nAnd i want to print the count of retry , with a message like :\r\n```\r\nRetry Number : 1\r\nRetry Number : 2\r\n...\r\nRetry Number : 5\r\n```\r\n\r\nHow can i achieve this ?","title":"Print retry count with @Retryable","body":"<p>I am using @Retryable on a method like this :-</p>\n<pre><code>@Retryable( value = SQLException.class, \n      maxAttempts = 5, backoff = @Backoff(delay = 100))\nvoid testMethod(String abc) throws SQLException{\n//some method body that could throw sql exception\n};\n</code></pre>\n<p>And i want to print the count of retry , with a message like :</p>\n<pre><code>Retry Number : 1\nRetry Number : 2\n...\nRetry Number : 5\n</code></pre>\n<p>How can i achieve this ?</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1701702503,"post_id":77598826,"comment_id":136805244,"body_markdown":"Turn on SQL logging to see the SQL generated by JPA (Hibernate?). From the mappings, the Teacher.students relationship is marked as Lazy, so you may need to fetch the relationship before you pass it up the stack to be serialized to JSON. This might be as simple iterating over the Set&lt;Teacher&gt; collection and touching each StudentTeacherRelation&#39;s Student.","body":"Turn on SQL logging to see the SQL generated by JPA (Hibernate?). From the mappings, the Teacher.students relationship is marked as Lazy, so you may need to fetch the relationship before you pass it up the stack to be serialized to JSON. This might be as simple iterating over the Set&lt;Teacher&gt; collection and touching each StudentTeacherRelation&#39;s Student."}],"answers":[{"tags":[],"owner":{"account_id":4078523,"reputation":806,"user_id":3349517,"accept_rate":53,"display_name":"Kousick Shanmugam Nagaraj"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701687477,"creation_date":1701687477,"answer_id":77598892,"question_id":77598826,"body_markdown":"You are creating the realtion tables on your own, and setting them as the ManyToMany mapping relation. \r\nThe overall mapping is wrong - Please refer to- https://www.baeldung.com/jpa-many-to-many . Follow the example, should be helpful.","title":"Spring Boot Jpa jakarta not fetching ManyToMany data","body":"<p>You are creating the realtion tables on your own, and setting them as the ManyToMany mapping relation.\nThe overall mapping is wrong - Please refer to- <a href=\"https://www.baeldung.com/jpa-many-to-many\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-many-to-many</a> . Follow the example, should be helpful.</p>\n"},{"tags":[],"owner":{"account_id":12991286,"reputation":416,"user_id":9390432,"display_name":"Kevin O."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701719774,"creation_date":1701719774,"answer_id":77602238,"question_id":77598826,"body_markdown":"The approach you&#39;ve described is a common way to handle many-to-many relationships in Java with Spring and JPA. However, there are a few potential issues and improvements to consider:\r\n\r\n 1. **Lazy Loading vs Eager Loading:** Your use of `FetchType.LAZY` in the `@OneToMany` relationships in the `Teacher` and `Student` entities is a standard practice to enhance performance. However, it also means that the related entities are not loaded until they are explicitly accessed in your code. This is likely why the students&#39; data is not being retrieved when you fetch the teachers. If you need to load the related entities immediately, you can switch to `FetchType.EAGER`. But, be cautious with eager loading as it can lead to performance issues, especially if you have large datasets or complex entity graphs.\r\n\r\n2. **Jackson Serialization and Lazy Loading:** In a typical Spring Boot application, Jackson is used to serialize entities to JSON. With lazy loading, Jackson may encounter issues serializing these entities because the lazily-loaded collections are not initialized at serialization time. To resolve this, you can either initialize these collections manually before serialization or use Hibernate&#39;s `@JsonIgnoreProperties` annotation to ignore them. However, a better approach might be to use Data Transfer Objects (DTOs). DTOs allow you to selectively send the data you need over the network, avoiding issues related to lazy loading and also adding an extra layer of abstraction between your internal data model and what you expose to the users.\r\n\r\n3. **Using DTOs:** Directly exposing entities can lead to several issues, including the aforementioned lazy loading problem. DTOs are a pattern where you create separate classes specifically for data transfer purposes. These classes can be tailored to the exact data requirements of your API consumers, avoiding the need to send unnecessary data and helping to decouple your API layer from your database model. By using DTOs, you can manually load the necessary data into the DTOs, effectively bypassing the problems associated with lazy loading and Jackson serialization.\r\n\r\n### Conclusion\r\n\r\nIn summary, while lazy loading is beneficial for performance, it can complicate serialization and data retrieval in APIs. Using DTOs offers a way to circumvent these issues, providing more control over the data exposed through your API and potentially improving application performance and maintainability.","title":"Spring Boot Jpa jakarta not fetching ManyToMany data","body":"<p>The approach you've described is a common way to handle many-to-many relationships in Java with Spring and JPA. However, there are a few potential issues and improvements to consider:</p>\n<ol>\n<li><p><strong>Lazy Loading vs Eager Loading:</strong> Your use of <code>FetchType.LAZY</code> in the <code>@OneToMany</code> relationships in the <code>Teacher</code> and <code>Student</code> entities is a standard practice to enhance performance. However, it also means that the related entities are not loaded until they are explicitly accessed in your code. This is likely why the students' data is not being retrieved when you fetch the teachers. If you need to load the related entities immediately, you can switch to <code>FetchType.EAGER</code>. But, be cautious with eager loading as it can lead to performance issues, especially if you have large datasets or complex entity graphs.</p>\n</li>\n<li><p><strong>Jackson Serialization and Lazy Loading:</strong> In a typical Spring Boot application, Jackson is used to serialize entities to JSON. With lazy loading, Jackson may encounter issues serializing these entities because the lazily-loaded collections are not initialized at serialization time. To resolve this, you can either initialize these collections manually before serialization or use Hibernate's <code>@JsonIgnoreProperties</code> annotation to ignore them. However, a better approach might be to use Data Transfer Objects (DTOs). DTOs allow you to selectively send the data you need over the network, avoiding issues related to lazy loading and also adding an extra layer of abstraction between your internal data model and what you expose to the users.</p>\n</li>\n<li><p><strong>Using DTOs:</strong> Directly exposing entities can lead to several issues, including the aforementioned lazy loading problem. DTOs are a pattern where you create separate classes specifically for data transfer purposes. These classes can be tailored to the exact data requirements of your API consumers, avoiding the need to send unnecessary data and helping to decouple your API layer from your database model. By using DTOs, you can manually load the necessary data into the DTOs, effectively bypassing the problems associated with lazy loading and Jackson serialization.</p>\n</li>\n</ol>\n<h3>Conclusion</h3>\n<p>In summary, while lazy loading is beneficial for performance, it can complicate serialization and data retrieval in APIs. Using DTOs offers a way to circumvent these issues, providing more control over the data exposed through your API and potentially improving application performance and maintainability.</p>\n"},{"tags":[],"owner":{"account_id":12991286,"reputation":416,"user_id":9390432,"display_name":"Kevin O."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701796420,"creation_date":1701796420,"answer_id":77608055,"question_id":77598826,"body_markdown":"### Your code\r\n\r\nIn the original code, the many-to-many relationship between `Teacher` and `Student` was managed through an intermediate entity `StudentTeacherRelation`. This approach involved a composite key (`StudentTeacherKey`) to handle the relationship. Each `Teacher` and `Student` entity had a `Set` of `StudentTeacherRelation` to represent the association.\r\n\r\n### Issues with your code\r\n\r\n- **Complexity:** The use of an intermediate entity with a composite key added complexity to the relationship management.\r\n\r\n- **Lazy Loading:** The `LAZY` fetch type in the relationship meant that related entities were not loaded unless explicitly accessed, leading to issues in data retrieval.\r\n\r\n- **Data Retrieval:** It seemed that the students associated with a teacher were not being retrieved from the database, possibly due to misconfiguration or issues with lazy loading.\r\n\r\n### My code (at the end of this post)\r\n\r\nThe refactored code uses a direct `@ManyToMany` annotation in the `Teacher` and `Student` entities, eliminating the need for the intermediate `StudentTeacherRelation` entity.\r\n\r\n### Changes I made\r\n\r\n- **Direct Many-to-Many Mapping:** Used `@ManyToMany` along with `@JoinTable` in both `Teacher` and `Student` entities. This directly maps the two entities, simplifying the relationship.\r\n\r\n- **Removal of Intermediate Entity:** The `StudentTeacherRelation` entity and `StudentTeacherKey` are removed, reducing complexity and potential sources of error.\r\n\r\n- **Transactional Annotation:** Added `@Transactional(readOnly = true)` to the service method to ensure proper handling of transactions, especially important for lazy loading of entities.\r\n\r\n### Why these changes?\r\n\r\n- **Simplification:** The direct many-to-many mapping is a more straightforward and conventional way to handle such relationships in JPA. It reduces complexity and aligns with standard practices.\r\n\r\n- **Improved Readability and Maintenance:** Removing the intermediate entity and composite key makes the code easier to understand and maintain.\r\n\r\n- **Potential Resolution of Lazy Loading Issues:** By restructuring the relationships and ensuring proper transactional boundaries, the issues related to lazy loading and data retrieval might be resolved.\r\n\r\n### Summary\r\n\r\nThe refactored code aims to provide a cleaner, more maintainable, and potentially more functional approach to managing a many-to-many relationship in a Spring Boot application with JPA. It simplifies the relationship mapping and aligns with common JPA practices, potentially resolving issues encountered with the initial complex setup.\r\n\r\n&lt;hr&gt;\r\n\r\n### Teacher.java\r\n```Java\r\n@Entity\r\n@Table(name = &quot;TEACHERS&quot;)\r\n@Data\r\npublic class Teacher {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    @Column(name = &quot;teacher_id&quot;)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n        name = &quot;STUDENT_TEACHER&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;teacher_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;)\r\n    )\r\n    private Set&lt;Student&gt; students = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n### Student.java\r\n```Java\r\n@Entity\r\n@Table(name = &quot;STUDENTS&quot;)\r\n@Data\r\npublic class Student {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;student_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ManyToMany(mappedBy = &quot;students&quot;)\r\n    private Set&lt;Teacher&gt; teachers = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n### StudentRepo.java\r\n```Java\r\npublic interface StudentRepo extends JpaRepository&lt;Student, Long&gt; {}\r\n```\r\n\r\n### TeacherRepo.java\r\n```Java\r\npublic interface TeacherRepo extends JpaRepository&lt;Teacher, UUID&gt; {}\r\n```\r\n\r\n### TeacherService.java\r\n```Java\r\npublic interface TeacherService {\r\n    public Set&lt;Teacher&gt; getAllTeachers();\r\n}\r\n```\r\n\r\n### TeacherServiceImpl.java\r\n```Java\r\n@Service\r\npublic class TeacherServiceImpl implements TeacherService {\r\n\r\n    private final TeacherRepo teacherRepo;\r\n\r\n    @Autowired\r\n    public TeacherServiceImpl(TeacherRepo teacherRepo) {\r\n        this.teacherRepo = teacherRepo;\r\n    }\r\n\r\n    @Override\r\n    @Transactional(readOnly = true)\r\n    public Set&lt;Teacher&gt; getAllTeachers() {\r\n        return new HashSet&lt;&gt;(teacherRepo.findAll());\r\n    }\r\n}\r\n```\r\n\r\n### TeacherController.java\r\n```Java\r\n@RestController\r\n@RequestMapping(path = &quot;/teacher&quot;)\r\npublic class TeacherController {\r\n\r\n    private final TeacherService teacherService;\r\n\r\n    @Autowired\r\n    public TeacherController(TeacherService teacherService) {\r\n        this.teacherService = teacherService;\r\n    }\r\n\r\n    @GetMapping()\r\n    public Set&lt;Teacher&gt; getAllTeachers() {\r\n        return teacherService.getAllTeachers();\r\n    }\r\n}\r\n```\r\n\r\nPS: `@Data` is from [Lombok][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.projectlombok/lombok","title":"Spring Boot Jpa jakarta not fetching ManyToMany data","body":"<h3>Your code</h3>\n<p>In the original code, the many-to-many relationship between <code>Teacher</code> and <code>Student</code> was managed through an intermediate entity <code>StudentTeacherRelation</code>. This approach involved a composite key (<code>StudentTeacherKey</code>) to handle the relationship. Each <code>Teacher</code> and <code>Student</code> entity had a <code>Set</code> of <code>StudentTeacherRelation</code> to represent the association.</p>\n<h3>Issues with your code</h3>\n<ul>\n<li><p><strong>Complexity:</strong> The use of an intermediate entity with a composite key added complexity to the relationship management.</p>\n</li>\n<li><p><strong>Lazy Loading:</strong> The <code>LAZY</code> fetch type in the relationship meant that related entities were not loaded unless explicitly accessed, leading to issues in data retrieval.</p>\n</li>\n<li><p><strong>Data Retrieval:</strong> It seemed that the students associated with a teacher were not being retrieved from the database, possibly due to misconfiguration or issues with lazy loading.</p>\n</li>\n</ul>\n<h3>My code (at the end of this post)</h3>\n<p>The refactored code uses a direct <code>@ManyToMany</code> annotation in the <code>Teacher</code> and <code>Student</code> entities, eliminating the need for the intermediate <code>StudentTeacherRelation</code> entity.</p>\n<h3>Changes I made</h3>\n<ul>\n<li><p><strong>Direct Many-to-Many Mapping:</strong> Used <code>@ManyToMany</code> along with <code>@JoinTable</code> in both <code>Teacher</code> and <code>Student</code> entities. This directly maps the two entities, simplifying the relationship.</p>\n</li>\n<li><p><strong>Removal of Intermediate Entity:</strong> The <code>StudentTeacherRelation</code> entity and <code>StudentTeacherKey</code> are removed, reducing complexity and potential sources of error.</p>\n</li>\n<li><p><strong>Transactional Annotation:</strong> Added <code>@Transactional(readOnly = true)</code> to the service method to ensure proper handling of transactions, especially important for lazy loading of entities.</p>\n</li>\n</ul>\n<h3>Why these changes?</h3>\n<ul>\n<li><p><strong>Simplification:</strong> The direct many-to-many mapping is a more straightforward and conventional way to handle such relationships in JPA. It reduces complexity and aligns with standard practices.</p>\n</li>\n<li><p><strong>Improved Readability and Maintenance:</strong> Removing the intermediate entity and composite key makes the code easier to understand and maintain.</p>\n</li>\n<li><p><strong>Potential Resolution of Lazy Loading Issues:</strong> By restructuring the relationships and ensuring proper transactional boundaries, the issues related to lazy loading and data retrieval might be resolved.</p>\n</li>\n</ul>\n<h3>Summary</h3>\n<p>The refactored code aims to provide a cleaner, more maintainable, and potentially more functional approach to managing a many-to-many relationship in a Spring Boot application with JPA. It simplifies the relationship mapping and aligns with common JPA practices, potentially resolving issues encountered with the initial complex setup.</p>\n<hr>\n<h3>Teacher.java</h3>\n<pre><code>@Entity\n@Table(name = &quot;TEACHERS&quot;)\n@Data\npublic class Teacher {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    @Column(name = &quot;teacher_id&quot;)\n    private UUID id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @ManyToMany\n    @JoinTable(\n        name = &quot;STUDENT_TEACHER&quot;,\n        joinColumns = @JoinColumn(name = &quot;teacher_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;)\n    )\n    private Set&lt;Student&gt; students = new HashSet&lt;&gt;();\n}\n</code></pre>\n<h3>Student.java</h3>\n<pre><code>@Entity\n@Table(name = &quot;STUDENTS&quot;)\n@Data\npublic class Student {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;student_id&quot;)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @ManyToMany(mappedBy = &quot;students&quot;)\n    private Set&lt;Teacher&gt; teachers = new HashSet&lt;&gt;();\n}\n</code></pre>\n<h3>StudentRepo.java</h3>\n<pre><code>public interface StudentRepo extends JpaRepository&lt;Student, Long&gt; {}\n</code></pre>\n<h3>TeacherRepo.java</h3>\n<pre><code>public interface TeacherRepo extends JpaRepository&lt;Teacher, UUID&gt; {}\n</code></pre>\n<h3>TeacherService.java</h3>\n<pre><code>public interface TeacherService {\n    public Set&lt;Teacher&gt; getAllTeachers();\n}\n</code></pre>\n<h3>TeacherServiceImpl.java</h3>\n<pre><code>@Service\npublic class TeacherServiceImpl implements TeacherService {\n\n    private final TeacherRepo teacherRepo;\n\n    @Autowired\n    public TeacherServiceImpl(TeacherRepo teacherRepo) {\n        this.teacherRepo = teacherRepo;\n    }\n\n    @Override\n    @Transactional(readOnly = true)\n    public Set&lt;Teacher&gt; getAllTeachers() {\n        return new HashSet&lt;&gt;(teacherRepo.findAll());\n    }\n}\n</code></pre>\n<h3>TeacherController.java</h3>\n<pre><code>@RestController\n@RequestMapping(path = &quot;/teacher&quot;)\npublic class TeacherController {\n\n    private final TeacherService teacherService;\n\n    @Autowired\n    public TeacherController(TeacherService teacherService) {\n        this.teacherService = teacherService;\n    }\n\n    @GetMapping()\n    public Set&lt;Teacher&gt; getAllTeachers() {\n        return teacherService.getAllTeachers();\n    }\n}\n</code></pre>\n<p>PS: <code>@Data</code> is from <a href=\"https://mvnrepository.com/artifact/org.projectlombok/lombok\" rel=\"nofollow noreferrer\">Lombok</a></p>\n"}],"owner":{"account_id":30061562,"reputation":11,"user_id":23037568,"display_name":"Sicu Bogdan Andrei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1701866684,"creation_date":1701686884,"question_id":77598826,"body_markdown":"I have a problem that I tried to isolate and I still don&#39;t get what&#39;s wrong. \r\nI have 2 classes (entities) -&gt; Teacher and Student and the table for the many to many relation (StudentTeacherRelation) with @EmbeddableId.\r\n\r\nThe problem is that when I retrieve a collection of teachers from the db, it doesn&#39;t retrieve the students data that are linked with that teacher (the many to many relation). Back with javax.persistence it worked, but now that I&#39;m using jakarta.persistence it doesn&#39;t work that way and I want to know why.\r\n\r\nAs for dependencies, I have Spring Web, Spring Data JPA, Lombok and PostgreSQL Driver\r\n\r\nThe code:\r\n\r\n--------------------------- Models ----------------------------\r\n```\r\n@Embeddable\r\n@Data\r\npublic class StudentTeacherKey implements Serializable {\r\n\r\n    @Column(name = &quot;teacher_id&quot;)\r\n    private UUID teacher_id;\r\n\r\n    @Column(name = &quot;student_id&quot;)\r\n    private Long student_id;\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;STUDENT_TEACHER&quot;)\r\n@Data\r\npublic class StudentTeacherRelation {\r\n\r\n    @JsonIgnore\r\n    @EmbeddedId\r\n    private StudentTeacherKey id;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @MapsId(&quot;student_id&quot;)\r\n    @JoinColumn(name = &quot;student_id&quot;)\r\n    private Student student;\r\n\r\n    @JsonIgnore\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @MapsId(&quot;teacher_id&quot;)\r\n    @JoinColumn(name = &quot;teacher_id&quot;)\r\n    private Teacher teacher;\r\n\r\n    @Column(name = &quot;extra_column&quot;)\r\n    private String extraColumn;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;TEACHERS&quot;)\r\npublic class Teacher {\r\n\r\n    @Id\r\n    @Column(name = &quot;teacher_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private UUID teacher_id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;teacher&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private Set&lt;StudentTeacherRelation&gt; students = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;STUDENTS&quot;)\r\npublic class Student {\r\n\r\n    @Id\r\n    @Column(name = &quot;student_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long student_id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;student&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private Set&lt;StudentTeacherRelation&gt; teacher = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n--------------------------- Repo ----------------------------\r\n\r\n```\r\npublic interface TeacherRepo extends JpaRepository&lt;Teacher, UUID&gt; {\r\n}\r\n\r\n```\r\n```\r\npublic interface StudentRepo extends JpaRepository&lt;Student, Long&gt; {\r\n}\r\n```\r\n\r\n\r\n--------------------------Service-------------------------------\r\n```\r\npublic interface TeacherService {\r\n    public Set&lt;Teacher&gt; getAllTeachers();\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class TeacherServiceImpl implements TeacherService{\r\n\r\n    private final TeacherRepo teacherRepo;\r\n\r\n    @Autowired\r\n    public TeacherServiceImpl(TeacherRepo teacherRepo) {\r\n        this.teacherRepo = teacherRepo;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Teacher&gt; getAllTeachers() {\r\n        return new HashSet&lt;&gt;(teacherRepo.findAll());\r\n    }\r\n}\r\n\r\n```\r\n------------------------------Controller--------------------------------\r\n```\r\n@RestController\r\n@RequestMapping(path = &quot;/teacher&quot;)\r\npublic class TeacherController {\r\n\r\n    private final TeacherService teacherService;\r\n\r\n    @Autowired\r\n    public TeacherController(TeacherService teacherService) {\r\n        this.teacherService = teacherService;\r\n    }\r\n\r\n    @GetMapping()\r\n    public Set&lt;Teacher&gt; getAllTeachers() {\r\n        return teacherService.getAllTeachers();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThis is what I got\r\n\r\n&gt; [\r\n&gt;     {\r\n&gt;         &quot;teacher_id&quot;: &quot;467f4868-928e-11ee-b9d1-0242ac120002&quot;,\r\n&gt;         &quot;name&quot;: &quot;Teacher&quot;,\r\n&gt;         &quot;students&quot;: []\r\n&gt;     } ]\r\n\r\nI should&#39;ve got the students that are linked to each teacher as well.\r\n\r\nI updates the example to be more clear why I want this kind of method -&gt; having extra columns in the join table.","title":"Spring Boot Jpa jakarta not fetching ManyToMany data","body":"<p>I have a problem that I tried to isolate and I still don't get what's wrong.\nI have 2 classes (entities) -&gt; Teacher and Student and the table for the many to many relation (StudentTeacherRelation) with @EmbeddableId.</p>\n<p>The problem is that when I retrieve a collection of teachers from the db, it doesn't retrieve the students data that are linked with that teacher (the many to many relation). Back with javax.persistence it worked, but now that I'm using jakarta.persistence it doesn't work that way and I want to know why.</p>\n<p>As for dependencies, I have Spring Web, Spring Data JPA, Lombok and PostgreSQL Driver</p>\n<p>The code:</p>\n<p>--------------------------- Models ----------------------------</p>\n<pre><code>@Embeddable\n@Data\npublic class StudentTeacherKey implements Serializable {\n\n    @Column(name = &quot;teacher_id&quot;)\n    private UUID teacher_id;\n\n    @Column(name = &quot;student_id&quot;)\n    private Long student_id;\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;STUDENT_TEACHER&quot;)\n@Data\npublic class StudentTeacherRelation {\n\n    @JsonIgnore\n    @EmbeddedId\n    private StudentTeacherKey id;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @MapsId(&quot;student_id&quot;)\n    @JoinColumn(name = &quot;student_id&quot;)\n    private Student student;\n\n    @JsonIgnore\n    @ManyToOne(fetch = FetchType.EAGER)\n    @MapsId(&quot;teacher_id&quot;)\n    @JoinColumn(name = &quot;teacher_id&quot;)\n    private Teacher teacher;\n\n    @Column(name = &quot;extra_column&quot;)\n    private String extraColumn;\n\n}\n</code></pre>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;TEACHERS&quot;)\npublic class Teacher {\n\n    @Id\n    @Column(name = &quot;teacher_id&quot;)\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID teacher_id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;teacher&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    private Set&lt;StudentTeacherRelation&gt; students = new HashSet&lt;&gt;();\n}\n</code></pre>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;STUDENTS&quot;)\npublic class Student {\n\n    @Id\n    @Column(name = &quot;student_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long student_id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;student&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    private Set&lt;StudentTeacherRelation&gt; teacher = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>--------------------------- Repo ----------------------------</p>\n<pre><code>public interface TeacherRepo extends JpaRepository&lt;Teacher, UUID&gt; {\n}\n\n</code></pre>\n<pre><code>public interface StudentRepo extends JpaRepository&lt;Student, Long&gt; {\n}\n</code></pre>\n<p>--------------------------Service-------------------------------</p>\n<pre><code>public interface TeacherService {\n    public Set&lt;Teacher&gt; getAllTeachers();\n}\n</code></pre>\n<pre><code>@Service\npublic class TeacherServiceImpl implements TeacherService{\n\n    private final TeacherRepo teacherRepo;\n\n    @Autowired\n    public TeacherServiceImpl(TeacherRepo teacherRepo) {\n        this.teacherRepo = teacherRepo;\n    }\n\n    @Override\n    public Set&lt;Teacher&gt; getAllTeachers() {\n        return new HashSet&lt;&gt;(teacherRepo.findAll());\n    }\n}\n\n</code></pre>\n<p>------------------------------Controller--------------------------------</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;/teacher&quot;)\npublic class TeacherController {\n\n    private final TeacherService teacherService;\n\n    @Autowired\n    public TeacherController(TeacherService teacherService) {\n        this.teacherService = teacherService;\n    }\n\n    @GetMapping()\n    public Set&lt;Teacher&gt; getAllTeachers() {\n        return teacherService.getAllTeachers();\n    }\n}\n\n</code></pre>\n<p>This is what I got</p>\n<blockquote>\n<p>[\n{\n&quot;teacher_id&quot;: &quot;467f4868-928e-11ee-b9d1-0242ac120002&quot;,\n&quot;name&quot;: &quot;Teacher&quot;,\n&quot;students&quot;: []\n} ]</p>\n</blockquote>\n<p>I should've got the students that are linked to each teacher as well.</p>\n<p>I updates the example to be more clear why I want this kind of method -&gt; having extra columns in the join table.</p>\n"},{"tags":["java","sql","spring-boot","view"],"comments":[{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":0,"creation_date":1629806739,"post_id":68907184,"comment_id":121779527,"body_markdown":"Skip the subquery, do a LEFT JOIN instead. (As it is now you&#39;ll get an error if a customer has more than one order.)","body":"Skip the subquery, do a LEFT JOIN instead. (As it is now you&#39;ll get an error if a customer has more than one order.)"},{"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"score":0,"creation_date":1629807400,"post_id":68907184,"comment_id":121779799,"body_markdown":"Sorry for the confusion. Actually it&#39;s about another entity but I didn&#39;t want to publish it. So I just created a case study. It is really only a 1 to 1 relationship to be established.","body":"Sorry for the confusion. Actually it&#39;s about another entity but I didn&#39;t want to publish it. So I just created a case study. It is really only a 1 to 1 relationship to be established."}],"answers":[{"tags":[],"owner":{"account_id":8608092,"reputation":1207,"user_id":6447529,"display_name":"Uri Loya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1629811111,"creation_date":1629811111,"answer_id":68908349,"question_id":68907184,"body_markdown":"Here are some examples for referencing views using spring boot:  \r\n[JPA/SpringBoot Repository for database view (not table)][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53508168/jpa-springboot-repository-for-database-view-not-table","title":"How can I reference a view in the entity? (Spring Boot)","body":"<p>Here are some examples for referencing views using spring boot:<br />\n<a href=\"https://stackoverflow.com/questions/53508168/jpa-springboot-repository-for-database-view-not-table\">JPA/SpringBoot Repository for database view (not table)</a></p>\n"},{"tags":[],"owner":{"account_id":21222548,"reputation":51,"user_id":15608788,"display_name":"Javad Mahdiyoun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701866557,"creation_date":1701866557,"answer_id":77613140,"question_id":68907184,"body_markdown":"The answer to your question is something like this\r\n\r\n```java\r\n\r\n@Getter\r\n@Entity\r\n@Immutable\r\n@Table(name = CustomerInformation.VIEW_NAME)\r\n@Subselect(CustomerInformation.QUERY)\r\npublic class CustomerInformation implements Serializable {\r\n\r\n    @Serial\r\n    private static final long serialVersionUID = -5285590166874166801L;\r\n\r\n    public static final String VIEW_NAME = &quot;V_CUSTOMER_INFORMATION&quot;;\r\n    public static final String QUERY = &quot;SELECT * FROM &quot; + VIEW_NAME;\r\n\r\n    @Id\r\n    @Column(insertable = false)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n}\r\n```\r\n \r\n","title":"How can I reference a view in the entity? (Spring Boot)","body":"<p>The answer to your question is something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Getter\n@Entity\n@Immutable\n@Table(name = CustomerInformation.VIEW_NAME)\n@Subselect(CustomerInformation.QUERY)\npublic class CustomerInformation implements Serializable {\n\n    @Serial\n    private static final long serialVersionUID = -5285590166874166801L;\n\n    public static final String VIEW_NAME = &quot;V_CUSTOMER_INFORMATION&quot;;\n    public static final String QUERY = &quot;SELECT * FROM &quot; + VIEW_NAME;\n\n    @Id\n    @Column(insertable = false)\n    private Long id;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n}\n</code></pre>\n"}],"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68908349,"answer_count":2,"score":1,"last_activity_date":1701866557,"creation_date":1629806335,"question_id":68907184,"body_markdown":"I have a question. Of course, I have previously looked on the Internet and searched for the solution. Unfortunately, I have not found a solution. \r\n\r\nI have a Spring Boot application that processes the information from customers. But this application should not point to a table as usual but to a view that requests information from two tables. How do I have to modify my entity to refenence to the view? \r\n\r\n\r\nMy View\r\n\r\n    CREATE VIEW customers_view\r\n\tSELECT\r\n\t\tcustomer_id, firstname, lastname,\r\n        (SELECT ordernumber FROM orders\r\n         WHERE orders.customer_id = custoumer.id\r\n\t\t ORDER BY customer_id DESC)\r\n\tFROM customers\r\n\r\n\r\nMy Entity\r\n``` \r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class CustomerInformation {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @EqualsAndHashCode.Exclude\r\n    private Long id;\r\n\r\n    @Column(name = &quot;customer_id&quot;)\r\n    private Long customer_id;\r\n\r\n    @Column(name = &quot;firstname&quot;)\r\n    private String firstname;\r\n\r\n    @Column(name = &quot;lastname&quot;)\r\n    private String firstname;\r\n    \r\n    @Column(name = &quot;ordernumber&quot;)\r\n    private String firstname; \r\n}\r\n``` ","title":"How can I reference a view in the entity? (Spring Boot)","body":"<p>I have a question. Of course, I have previously looked on the Internet and searched for the solution. Unfortunately, I have not found a solution.</p>\n<p>I have a Spring Boot application that processes the information from customers. But this application should not point to a table as usual but to a view that requests information from two tables. How do I have to modify my entity to refenence to the view?</p>\n<p>My View</p>\n<pre><code>CREATE VIEW customers_view\nSELECT\n    customer_id, firstname, lastname,\n    (SELECT ordernumber FROM orders\n     WHERE orders.customer_id = custoumer.id\n     ORDER BY customer_id DESC)\nFROM customers\n</code></pre>\n<p>My Entity</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CustomerInformation {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @EqualsAndHashCode.Exclude\n    private Long id;\n\n    @Column(name = &quot;customer_id&quot;)\n    private Long customer_id;\n\n    @Column(name = &quot;firstname&quot;)\n    private String firstname;\n\n    @Column(name = &quot;lastname&quot;)\n    private String firstname;\n    \n    @Column(name = &quot;ordernumber&quot;)\n    private String firstname; \n}\n</code></pre>\n"},{"tags":["java","vaadin","vaadin8","vaadin-grid"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701866220,"post_id":77612720,"comment_id":136827605,"body_markdown":"Please provide a [mre].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":30080134,"reputation":1,"user_id":23051958,"display_name":"roy2004"},"score":0,"creation_date":1701869141,"post_id":77612720,"comment_id":136828131,"body_markdown":"Sorry I can not provide an example.","body":"Sorry I can not provide an example."},{"owner":{"account_id":30080134,"reputation":1,"user_id":23051958,"display_name":"roy2004"},"score":0,"creation_date":1701869479,"post_id":77612720,"comment_id":136828192,"body_markdown":"I just can say, system collect table content as json format value. And in subclass of UidlRequestHandler to write and flush response.","body":"I just can say, system collect table content as json format value. And in subclass of UidlRequestHandler to write and flush response."},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1701870846,"post_id":77612720,"comment_id":136828467,"body_markdown":"Are you using Grid&#39;s integrated row editor or do you have component renderer in the column for editing it? If you are able to use Vaadin 8.20, it implies you have a subcription, you can contact Vaadin support for more help.","body":"Are you using Grid&#39;s integrated row editor or do you have component renderer in the column for editing it? If you are able to use Vaadin 8.20, it implies you have a subcription, you can contact Vaadin support for more help."}],"owner":{"account_id":30080134,"reputation":1,"user_id":23051958,"display_name":"roy2004"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701866209,"creation_date":1701862695,"question_id":77612720,"body_markdown":"I used Vaadin 8.20. The project coding language is Java. I have a grid table that has some columns. After I change one cell value and click tab to move the focus to next cell, the focus will suddenly be lost and I have to click tab again to focus to the next cell. The VaadinResponse content type is application/json. \r\n\r\nIf I debug the coding, after clicking the tab button, I found that the focus actually has entered into the next cell, but after VaadinResponse object executes the write(byte[]) and the flush() method, the focus will leave the next cell. \r\n\r\nHow can I write the Java code in the sub-class of UidlRequestHandler or AbstractComponentContainer class to make the focus not leave the next cell after I click the tab? \r\n","title":"For Grid Table, how can I click tab to the next cell without focuslost?","body":"<p>I used Vaadin 8.20. The project coding language is Java. I have a grid table that has some columns. After I change one cell value and click tab to move the focus to next cell, the focus will suddenly be lost and I have to click tab again to focus to the next cell. The VaadinResponse content type is application/json.</p>\n<p>If I debug the coding, after clicking the tab button, I found that the focus actually has entered into the next cell, but after VaadinResponse object executes the write(byte[]) and the flush() method, the focus will leave the next cell.</p>\n<p>How can I write the Java code in the sub-class of UidlRequestHandler or AbstractComponentContainer class to make the focus not leave the next cell after I click the tab?</p>\n"},{"tags":["java","android","permissions","android-bluetooth"],"answers":[{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701866128,"creation_date":1701866128,"answer_id":77613093,"question_id":77585263,"body_markdown":"Make sure that you are checking for Bluetooth permissions at the right places in your code. It&#39;s good that you are checking permissions in the onCreate method of the LoginActivity. Also, instead of requesting all Bluetooth permissions at once, consider requesting them dynamically as needed. This allows you to figure out which permission is causing the issue. Finally, test your app on different Android versions, including Android 12, to see if the issue is specific to Android 13. This can help identify whether the problem is related to changes in Android 13 or if it&#39;s a broader compatibility issue.","title":"Android 13 Need android.permission.BLUETOOTH_CONNECT when device already connected to Bluetooth Headset","body":"<p>Make sure that you are checking for Bluetooth permissions at the right places in your code. It's good that you are checking permissions in the onCreate method of the LoginActivity. Also, instead of requesting all Bluetooth permissions at once, consider requesting them dynamically as needed. This allows you to figure out which permission is causing the issue. Finally, test your app on different Android versions, including Android 12, to see if the issue is specific to Android 13. This can help identify whether the problem is related to changes in Android 13 or if it's a broader compatibility issue.</p>\n"}],"owner":{"account_id":13951152,"reputation":135,"user_id":10074628,"display_name":"DealZg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701866128,"creation_date":1701433577,"question_id":77585263,"body_markdown":"iam using Android 13 sdk 33.\r\nMy app is using bluetooth headset.\r\nI got the SecurityException only when iam using Android 13 and i start the application while the device is already connected to the Headset.\r\nWhen i start the application and after i connect the bluetooth Headset there is not Exception. So only when i start the app while its connecting. These permissions are\r\nin the manifest file. I also tried it with **android:maxSdkVersion=&quot;30&quot;** but its still not working.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;  /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;  /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;\r\n        android:usesPermissionFlags=&quot;neverForLocation&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\r\n\r\nThis is the build.gradle \r\n\r\n    compileSdkVersion 33\r\n    buildToolsVersion &#39;30.0.0&#39;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.my.app&quot;\r\n        minSdkVersion 22\r\n        targetSdkVersion 33\r\n        versionCode 44\r\n        versionName &quot;@string/app_version&quot;\r\n        multiDexEnabled true\r\n    }\r\n\r\nHere are my runtime permissions. I ask for them in the onCreate method of the LoginActivity.\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.TIRAMISU)\r\n    private static final String[] PERMISSIONS_BLUETOOTH_33 = {\r\n            Manifest.permission.BLUETOOTH_SCAN,\r\n            Manifest.permission.BLUETOOTH_CONNECT,\r\n            Manifest.permission.ACCESS_FINE_LOCATION\r\n    };\r\n\r\n   \r\n    private static final String[] PERMISSIONS_BLUETOOTH = {\r\n            Manifest.permission.BLUETOOTH_SCAN,\r\n            Manifest.permission.BLUETOOTH_CONNECT,\r\n            Manifest.permission.BLUETOOTH,\r\n            Manifest.permission.BLUETOOTH_ADVERTISE,\r\n            Manifest.permission.BLUETOOTH_ADMIN\r\n    };\r\n    \r\n    private String [] getBluetoothPermissions() {\r\n        if(Build.VERSION_CODES.TIRAMISU &lt;= Build.VERSION.SDK_INT) {\r\n            return PERMISSIONS_BLUETOOTH_33;\r\n        }\r\n        return PERMISSIONS_BLUETOOTH;\r\n    }\r\n    \r\n    private void checkPermissions(){\r\n        \r\n        int permission2 = ActivityCompat.checkSelfPermission(this, \r\n                          Manifest.permission.BLUETOOTH_SCAN);\r\n        int permission3 = ActivityCompat.checkSelfPermission(this, \r\n                          Manifest.permission.BLUETOOTH_CONNECT);\r\n        if (permission2 != PackageManager.PERMISSION_GRANTED &amp;&amp; permission3 != \r\n                   PackageManager.PERMISSION_GRANTED){\r\n            \r\n            ActivityCompat.requestPermissions(\r\n                    this,\r\n                    getBluetoothPermissions(),\r\n                    1\r\n            );\r\n        }\r\n    }\r\n\r\n\r\nThis is only with Android 13. I did not try Android 12.\r\nWhen i use a lower version of Android like Android 11 or Android 10 i can start my app while iam connected to Bluetooth headset.\r\n\r\nThe Exception i got is the following:\r\n\r\n      Process: com.my.app, PID: 1907\r\n    java.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT permission for AttributionSource { uid = 10375, packageName = com.my.app, attributionTag = null, token = android.os.BinderProxy@1333f69, next = null }: HeadsetService\r\n        at com.android.bluetooth.Utils.checkPermissionForDataDelivery(Utils.java:917)\r\n        at com.android.bluetooth.Utils.checkConnectPermissionForDataDelivery(Utils.java:949)\r\n        at com.android.bluetooth.hfp.HeadsetService$BluetoothHeadsetBinder.getService(HeadsetService.java:821)\r\n        at com.android.bluetooth.hfp.HeadsetService$BluetoothHeadsetBinder.getConnectedDevicesWithAttribution(HeadsetService.java:908)\r\n        at android.bluetooth.IBluetoothHeadset$Stub.onTransact(IBluetoothHeadset.java:245)\r\n        at android.os.Binder.execTransactInternal(Binder.java:1321)\r\n        at android.os.Binder.execTransact(Binder.java:1280)\r\n\r\n\r\nThis exception occurs ONLY when i start the app while my device is already connected to the Bluetooth Headset.\r\nWhen i start the app with a lower version of android like 10, 11 its working fine.\r\nIt also works when i start the app and after the start i connect the bluetooth headset while using Android 13.\r\nPlease help.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Android 13 Need android.permission.BLUETOOTH_CONNECT when device already connected to Bluetooth Headset","body":"<p>iam using Android 13 sdk 33.\nMy app is using bluetooth headset.\nI got the SecurityException only when iam using Android 13 and i start the application while the device is already connected to the Headset.\nWhen i start the application and after i connect the bluetooth Headset there is not Exception. So only when i start the app while its connecting. These permissions are\nin the manifest file. I also tried it with <strong>android:maxSdkVersion=&quot;30&quot;</strong> but its still not working.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot;  /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;  /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;\n    android:usesPermissionFlags=&quot;neverForLocation&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\n</code></pre>\n<p>This is the build.gradle</p>\n<pre><code>compileSdkVersion 33\nbuildToolsVersion '30.0.0'\n\ndefaultConfig {\n    applicationId &quot;com.my.app&quot;\n    minSdkVersion 22\n    targetSdkVersion 33\n    versionCode 44\n    versionName &quot;@string/app_version&quot;\n    multiDexEnabled true\n}\n</code></pre>\n<p>Here are my runtime permissions. I ask for them in the onCreate method of the LoginActivity.</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.TIRAMISU)\nprivate static final String[] PERMISSIONS_BLUETOOTH_33 = {\n        Manifest.permission.BLUETOOTH_SCAN,\n        Manifest.permission.BLUETOOTH_CONNECT,\n        Manifest.permission.ACCESS_FINE_LOCATION\n};\n\n\nprivate static final String[] PERMISSIONS_BLUETOOTH = {\n        Manifest.permission.BLUETOOTH_SCAN,\n        Manifest.permission.BLUETOOTH_CONNECT,\n        Manifest.permission.BLUETOOTH,\n        Manifest.permission.BLUETOOTH_ADVERTISE,\n        Manifest.permission.BLUETOOTH_ADMIN\n};\n\nprivate String [] getBluetoothPermissions() {\n    if(Build.VERSION_CODES.TIRAMISU &lt;= Build.VERSION.SDK_INT) {\n        return PERMISSIONS_BLUETOOTH_33;\n    }\n    return PERMISSIONS_BLUETOOTH;\n}\n\nprivate void checkPermissions(){\n    \n    int permission2 = ActivityCompat.checkSelfPermission(this, \n                      Manifest.permission.BLUETOOTH_SCAN);\n    int permission3 = ActivityCompat.checkSelfPermission(this, \n                      Manifest.permission.BLUETOOTH_CONNECT);\n    if (permission2 != PackageManager.PERMISSION_GRANTED &amp;&amp; permission3 != \n               PackageManager.PERMISSION_GRANTED){\n        \n        ActivityCompat.requestPermissions(\n                this,\n                getBluetoothPermissions(),\n                1\n        );\n    }\n}\n</code></pre>\n<p>This is only with Android 13. I did not try Android 12.\nWhen i use a lower version of Android like Android 11 or Android 10 i can start my app while iam connected to Bluetooth headset.</p>\n<p>The Exception i got is the following:</p>\n<pre><code>  Process: com.my.app, PID: 1907\njava.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT permission for AttributionSource { uid = 10375, packageName = com.my.app, attributionTag = null, token = android.os.BinderProxy@1333f69, next = null }: HeadsetService\n    at com.android.bluetooth.Utils.checkPermissionForDataDelivery(Utils.java:917)\n    at com.android.bluetooth.Utils.checkConnectPermissionForDataDelivery(Utils.java:949)\n    at com.android.bluetooth.hfp.HeadsetService$BluetoothHeadsetBinder.getService(HeadsetService.java:821)\n    at com.android.bluetooth.hfp.HeadsetService$BluetoothHeadsetBinder.getConnectedDevicesWithAttribution(HeadsetService.java:908)\n    at android.bluetooth.IBluetoothHeadset$Stub.onTransact(IBluetoothHeadset.java:245)\n    at android.os.Binder.execTransactInternal(Binder.java:1321)\n    at android.os.Binder.execTransact(Binder.java:1280)\n</code></pre>\n<p>This exception occurs ONLY when i start the app while my device is already connected to the Bluetooth Headset.\nWhen i start the app with a lower version of android like 10, 11 its working fine.\nIt also works when i start the app and after the start i connect the bluetooth headset while using Android 13.\nPlease help.</p>\n"},{"tags":["java","string","substring","contains"],"answers":[{"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1377472152,"creation_date":1377472152,"answer_id":18434636,"question_id":18434622,"body_markdown":"You can look at the [**source**][1]:\r\n\r\n    public boolean contains(CharSequence s) {\r\n        return indexOf(s.toString()) &gt; -1;\r\n    }\r\n\r\n\r\n  [1]: http://docjar.com/html/api/java/lang/String.java.html","title":"Java: how String.contains(string) function works in java?","body":"<p>You can look at the <a href=\"http://docjar.com/html/api/java/lang/String.java.html\" rel=\"nofollow\"><strong>source</strong></a>:</p>\n\n<pre><code>public boolean contains(CharSequence s) {\n    return indexOf(s.toString()) &gt; -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2940003,"reputation":808,"user_id":2518118,"display_name":"Jeroen Ingelbrecht"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377472375,"creation_date":1377472375,"answer_id":18434658,"question_id":18434622,"body_markdown":"Is there a better way? Depends on what you think is &#39;better&#39;. An alternative is using [Pattern][1]. But still, what would be the difference in user experience? Would it be relevant enough?\r\n\r\nIf you really want to use the best option, try both options out for yourself with enough iterations.\r\n\r\n[1]: http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html","title":"Java: how String.contains(string) function works in java?","body":"<p>Is there a better way? Depends on what you think is 'better'. An alternative is using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow\">Pattern</a>. But still, what would be the difference in user experience? Would it be relevant enough?</p>\n\n<p>If you really want to use the best option, try both options out for yourself with enough iterations.</p>\n"},{"tags":[],"owner":{"account_id":980511,"reputation":2358,"user_id":1000341,"accept_rate":79,"display_name":"Sara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377486474,"creation_date":1377473483,"answer_id":18434770,"question_id":18434622,"body_markdown":"here is my solution:\r\n\r\n    static boolean contain(String input,String search)\r\n\t{\r\n\t\tint[] searchIn = new int[search.length()];\r\n\t\tsearchIn[0] = 0;\r\n                //searchIn keep track of repeated values on search sting\r\n                //so if the search string is &quot;abcabd&quot; then the corresponding searchIn is\r\n                //0 0 0 1 2 0\r\n\t\tint k = 0;\r\n\t\tfor(int i=1;i&lt;search.length();i++)\r\n\t\t{\r\n\t\t\tif(search.charAt(i)== search.charAt(k))\r\n\t\t\t{\r\n\t\t\t\tsearchIn[i] = ++k; \r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tk =0;\r\n\t\t\t\tsearchIn[i] = k;\r\n\t\t\t}\t\t\r\n\t\t}\r\n\t\tint i=0;\r\n\t\tint j=0;\r\n\t\t\r\n\t\twhile(i&lt;=input.length()-1 &amp;&amp; j&lt;=search.length()-1)\r\n\t\t{\r\n\t\t\tif(input.charAt(i) == search.charAt(j))\r\n\t\t\t{\r\n\t\t\t\ti++;\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tj = searchIn[j-1];\r\n                if(i==input.length()-1)\r\n\t\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(j==search.length())\r\n\t\t\treturn true;\r\n\t\telse return false;\r\n\t}","title":"Java: how String.contains(string) function works in java?","body":"<p>here is my solution:</p>\n\n<pre><code>static boolean contain(String input,String search)\n{\n    int[] searchIn = new int[search.length()];\n    searchIn[0] = 0;\n            //searchIn keep track of repeated values on search sting\n            //so if the search string is \"abcabd\" then the corresponding searchIn is\n            //0 0 0 1 2 0\n    int k = 0;\n    for(int i=1;i&lt;search.length();i++)\n    {\n        if(search.charAt(i)== search.charAt(k))\n        {\n            searchIn[i] = ++k; \n        }\n        else \n        {\n            k =0;\n            searchIn[i] = k;\n        }       \n    }\n    int i=0;\n    int j=0;\n\n    while(i&lt;=input.length()-1 &amp;&amp; j&lt;=search.length()-1)\n    {\n        if(input.charAt(i) == search.charAt(j))\n        {\n            i++;\n            j++;\n        }\n        else\n        {\n            j = searchIn[j-1];\n            if(i==input.length()-1)\n                i++;\n        }\n    }\n    if(j==search.length())\n        return true;\n    else return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437182893,"creation_date":1377474006,"answer_id":18434814,"question_id":18434622,"body_markdown":"&gt; I&#39;m wondering to know if there is better solution for it?\r\n\r\nThere are lots of algorithms for simple string searching; see the Wikipedia [String Search][1] page.  The page includes complexity characterizations ... and references.\r\n\r\nThe standard Java `java.lang.String` implementation uses naive search under the hood.  Some of the algorithms on the Wikipedia page that have better complexity for the search phase, but require non-trivial setup.  I expect that the Sun/Oracle engineers have done extensive empirical testing and found that naive search works best *on average* over a wide range of real-world applications.\r\n\r\n--------------------\r\n\r\nFinally ...\r\n\r\n&gt; I know the brute force approach with the time complexity of `O(n*m)`\r\n\r\nIn fact, that is the *worst case* complexity.  The average complexity is `O(n)`.  Consider this:\r\n\r\n    boolean bruteForceMatch (String str1, String str2) {\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            boolean matches = true;\r\n            for (int j = 0; j &lt; str2.length(); j++) {\r\n                if (i + j &gt;= str.length || \r\n                    str1.charAt(i + j) != str2.charAt(j)) {\r\n                    matched = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (matched) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    \r\nThe worst case happens with inputs like &quot;AAA...&quot; and &quot;AAA...B&quot;.  (The dots denote repetition.) \r\n\r\nBut in the average case (e.g. randomly generated input strings) you won&#39;t have an &quot;almost match&quot; for `str2` at every position of `str1`.  The inner loop will typically `break` in the iteration.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/String_search\r\n","title":"Java: how String.contains(string) function works in java?","body":"<blockquote>\n  <p>I'm wondering to know if there is better solution for it?</p>\n</blockquote>\n\n<p>There are lots of algorithms for simple string searching; see the Wikipedia <a href=\"http://en.wikipedia.org/wiki/String_search\" rel=\"nofollow\">String Search</a> page.  The page includes complexity characterizations ... and references.</p>\n\n<p>The standard Java <code>java.lang.String</code> implementation uses naive search under the hood.  Some of the algorithms on the Wikipedia page that have better complexity for the search phase, but require non-trivial setup.  I expect that the Sun/Oracle engineers have done extensive empirical testing and found that naive search works best <em>on average</em> over a wide range of real-world applications.</p>\n\n<hr>\n\n<p>Finally ...</p>\n\n<blockquote>\n  <p>I know the brute force approach with the time complexity of <code>O(n*m)</code></p>\n</blockquote>\n\n<p>In fact, that is the <em>worst case</em> complexity.  The average complexity is <code>O(n)</code>.  Consider this:</p>\n\n<pre><code>boolean bruteForceMatch (String str1, String str2) {\n    for (int i = 0; i &lt; str.length(); i++) {\n        boolean matches = true;\n        for (int j = 0; j &lt; str2.length(); j++) {\n            if (i + j &gt;= str.length || \n                str1.charAt(i + j) != str2.charAt(j)) {\n                matched = false;\n                break;\n            }\n        }\n        if (matched) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>The worst case happens with inputs like \"AAA...\" and \"AAA...B\".  (The dots denote repetition.) </p>\n\n<p>But in the average case (e.g. randomly generated input strings) you won't have an \"almost match\" for <code>str2</code> at every position of <code>str1</code>.  The inner loop will typically <code>break</code> in the iteration.</p>\n"},{"tags":[],"owner":{"account_id":15341137,"reputation":51,"user_id":11068099,"display_name":"Nav12"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701865674,"creation_date":1701865674,"answer_id":77613046,"question_id":18434622,"body_markdown":"For peeps who don&#39;t wish to sieve through multiple calls from one Class to another, from one method to another, `String.contains(String str)` at this moment works as follows\r\n\r\n    public boolean contains(CharSequence s) {\r\n        return indexOf(s.toString()) &gt;= 0;\r\n    }\r\n    public int indexOf(String str) {\r\n        byte coder = coder();\r\n        if (coder == str.coder()) {\r\n            return isLatin1() ? StringLatin1.indexOf(value, str.value) :\r\n                StringUTF16.indexOf(value, str.value);\r\n        }\r\n        if (coder == LATIN1) { // str.coder == UTF16\r\n            return -1;\r\n        }\r\n        return StringUTF16.indexOfLatin1(value, str.value);\r\n    }\r\n    // Class StringLatin1 below\r\n    @IntrinsicCandidate\r\n    public static int indexOf(byte[] value, byte[] str) {\r\n        if (str.length == 0) {\r\n            return 0;\r\n        }\r\n        if (value.length == 0) {\r\n            return -1;\r\n        }\r\n        return indexOf(value, value.length, str, str.length, 0);\r\n    }\r\n    \r\n    @IntrinsicCandidate\r\n    public static int indexOf(byte[] value, int valueCount, byte[] str, int strCount, int fromIndex) {\r\n        byte first = str[0];\r\n        int max = (valueCount - strCount);\r\n        for (int i = fromIndex; i &lt;= max; i++) {\r\n            // Look for first character.\r\n            if (value[i] != first) {\r\n                while (++i &lt;= max &amp;&amp; value[i] != first);\r\n            }\r\n            // Found first character, now look at the rest of value\r\n            if (i &lt;= max) {\r\n                int j = i + 1;\r\n                int end = j + strCount - 1;\r\n                for (int k = 1; j &lt; end &amp;&amp; value[j] == str[k]; j++, k++);\r\n                if (j == end) {\r\n                    // Found whole string.\r\n                    return i;\r\n                }\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n","title":"Java: how String.contains(string) function works in java?","body":"<p>For peeps who don't wish to sieve through multiple calls from one Class to another, from one method to another, <code>String.contains(String str)</code> at this moment works as follows</p>\n<pre><code>public boolean contains(CharSequence s) {\n    return indexOf(s.toString()) &gt;= 0;\n}\npublic int indexOf(String str) {\n    byte coder = coder();\n    if (coder == str.coder()) {\n        return isLatin1() ? StringLatin1.indexOf(value, str.value) :\n            StringUTF16.indexOf(value, str.value);\n    }\n    if (coder == LATIN1) { // str.coder == UTF16\n        return -1;\n    }\n    return StringUTF16.indexOfLatin1(value, str.value);\n}\n// Class StringLatin1 below\n@IntrinsicCandidate\npublic static int indexOf(byte[] value, byte[] str) {\n    if (str.length == 0) {\n        return 0;\n    }\n    if (value.length == 0) {\n        return -1;\n    }\n    return indexOf(value, value.length, str, str.length, 0);\n}\n\n@IntrinsicCandidate\npublic static int indexOf(byte[] value, int valueCount, byte[] str, int strCount, int fromIndex) {\n    byte first = str[0];\n    int max = (valueCount - strCount);\n    for (int i = fromIndex; i &lt;= max; i++) {\n        // Look for first character.\n        if (value[i] != first) {\n            while (++i &lt;= max &amp;&amp; value[i] != first);\n        }\n        // Found first character, now look at the rest of value\n        if (i &lt;= max) {\n            int j = i + 1;\n            int end = j + strCount - 1;\n            for (int k = 1; j &lt; end &amp;&amp; value[j] == str[k]; j++, k++);\n            if (j == end) {\n                // Found whole string.\n                return i;\n            }\n        }\n    }\n    return -1;\n}\n</code></pre>\n"}],"owner":{"account_id":980511,"reputation":2358,"user_id":1000341,"accept_rate":79,"display_name":"Sara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6591,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":5,"score":5,"last_activity_date":1701865674,"creation_date":1377471987,"question_id":18434622,"body_markdown":"I know the brute force approach with the time complexity of `n*m (m is length of first string and n is the length of the other one)` for testing if an string contains another one, however, I&#39;m wondering to know if there is better solution for it?\r\n\r\n    boolean contains(String input,String search)","title":"Java: how String.contains(string) function works in java?","body":"<p>I know the brute force approach with the time complexity of <code>n*m (m is length of first string and n is the length of the other one)</code> for testing if an string contains another one, however, I'm wondering to know if there is better solution for it?</p>\n\n<pre><code>boolean contains(String input,String search)\n</code></pre>\n"},{"tags":["java","docker","dockerfile","struts"],"owner":{"account_id":29184366,"reputation":1,"user_id":22357846,"display_name":"Shobhit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701777405,"answer_count":0,"score":-2,"last_activity_date":1701865112,"creation_date":1701764379,"question_id":77604699,"body_markdown":"I have zip file of tomcat and wildfly, I want to make image of them instead of fetching it from docker hub.\r\n\r\nKindly help me, stuck with this from 2 days\r\n\r\nI tried one more way from [stackoverflow](https://stackoverflow.com/questions/45324151/can-we-build-a-docker-image-using-tar-or-zip-archive), but that didn&#39;t work for me ,","title":"Create Docker Image Using Zip or tar.gz file File of application","body":"<p>I have zip file of tomcat and wildfly, I want to make image of them instead of fetching it from docker hub.</p>\n<p>Kindly help me, stuck with this from 2 days</p>\n<p>I tried one more way from <a href=\"https://stackoverflow.com/questions/45324151/can-we-build-a-docker-image-using-tar-or-zip-archive\">stackoverflow</a>, but that didn't work for me ,</p>\n"},{"tags":["java","android","xml","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":17462743,"reputation":545,"user_id":12660050,"display_name":"Vatsal Dholakiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620409942,"creation_date":1620409942,"answer_id":67439635,"question_id":67240500,"body_markdown":"**1)** Add **Textview** for your toolbar title into your &lt;toolbar&gt; tag which is located in **MainActivity.xml** in your case.\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/appbar_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:theme=&quot;@style/ToolbarTheme&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?actionBarSize&quot;\r\n        android:background=&quot;?colorPrimary&quot;&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/title&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:text=&quot;Borrowers&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;18dp&quot; /&gt;\r\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n**2)** Add toolbar to your **MainActivity.java** in onCreate() method.\r\n\r\n    //set toolbar\r\n        Toolbar toolbar = findViewById(R.id.borrowerstoolbar_main);\r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setTitle(null);","title":"set Label Alignment in navigation Fragments","body":"<p><strong>1)</strong> Add <strong>Textview</strong> for your toolbar title into your  tag which is located in <strong>MainActivity.xml</strong> in your case.</p>\n<pre><code>&lt;com.google.android.material.appbar.AppBarLayout\n    android:id=&quot;@+id/appbar_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    android:theme=&quot;@style/ToolbarTheme&quot;&gt;\n\n&lt;androidx.appcompat.widget.Toolbar\n    android:id=&quot;@+id/toolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;?actionBarSize&quot;\n    android:background=&quot;?colorPrimary&quot;&gt;\n&lt;TextView\n    android:id=&quot;@+id/title&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:text=&quot;Borrowers&quot;\n    android:textColor=&quot;@color/white&quot;\n    android:textSize=&quot;18dp&quot; /&gt;\n&lt;/androidx.appcompat.widget.Toolbar&gt;\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n</code></pre>\n<p><strong>2)</strong> Add toolbar to your <strong>MainActivity.java</strong> in onCreate() method.</p>\n<pre><code>//set toolbar\n    Toolbar toolbar = findViewById(R.id.borrowerstoolbar_main);\n    setSupportActionBar(toolbar);\n    getSupportActionBar().setTitle(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29438273,"reputation":1,"user_id":22556742,"display_name":"ali s."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701865039,"creation_date":1701865039,"answer_id":77612984,"question_id":67240500,"body_markdown":"use `app:titleCentered=&quot;true&quot;` in your Toolbar like:\r\n\r\n            &lt;com.google.android.material.appbar.MaterialToolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            app:titleCentered=&quot;true&quot;\r\n            android:background=&quot;@color/colorPrimary&quot;\r\n            app:titleTextColor=&quot;@color/text_color&quot;\r\n            app:popupTheme=&quot;@style/Theme.MyAudio.PopupOverlay&quot; /&gt;\r\n\r\n\r\n","title":"set Label Alignment in navigation Fragments","body":"<p>use <code>app:titleCentered=&quot;true&quot;</code> in your Toolbar like:</p>\n<pre><code>        &lt;com.google.android.material.appbar.MaterialToolbar\n        android:id=&quot;@+id/toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?attr/actionBarSize&quot;\n        app:titleCentered=&quot;true&quot;\n        android:background=&quot;@color/colorPrimary&quot;\n        app:titleTextColor=&quot;@color/text_color&quot;\n        app:popupTheme=&quot;@style/Theme.MyAudio.PopupOverlay&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":19476407,"reputation":1,"user_id":14247718,"display_name":"rahi patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701865039,"creation_date":1619250617,"question_id":67240500,"body_markdown":"*I want the label(toolbar title) to be aligned centered.What should I do? I have reffered to some logics and didn&#39;t find them effective and they also didn&#39;t work. So kindly guide me through it.* \r\n\r\n**This is the Navigation File:**\r\n\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/mobile_navigation&quot;\r\n    app:startDestination=&quot;@id/current_weather_fragment&quot;&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/current_weather_fragment&quot;\r\n        android:name=&quot;com.example.wheatherapp.UI.Weather.CurrentWeather.CurrentWeatherFragment&quot;\r\n        android:label=&quot;current_weather_fragment&quot;\r\n\r\n        tools:layout=&quot;@layout/current_weather_fragment&quot; /&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/future_weather_fragment&quot;\r\n        android:name=&quot;com.example.wheatherapp.UI.Weather.FutureWeather.FutureWeatherListFrag.FutureWeatherFragment&quot;\r\n        android:label=&quot;future_weather_fragment&quot;\r\n        tools:layout=&quot;@layout/future_weather_fragment&quot; /&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/future_detail_weather&quot;\r\n        android:name=&quot;com.example.wheatherapp.UI.Weather.FutureWeather.FutureDetailFrag.FutureDetailWeather&quot;\r\n        android:label=&quot;future_detail_weather_fragment&quot;\r\n        tools:layout=&quot;@layout/future_detail_weather_fragment&quot; /&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/setting_fragment&quot;\r\n        android:name=&quot;com.example.wheatherapp.UI.Setting.SettingFragment&quot;\r\n        android:label=&quot;SettingFragment&quot; /&gt;\r\n    &lt;/navigation&gt;\r\n\r\n**This is the MainActvity.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.UI.MainActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/appbar_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:theme=&quot;@style/ToolbarTheme&quot;&gt;\r\n\r\n        &lt;androidx.appcompat.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?actionBarSize&quot;\r\n            android:background=&quot;?colorPrimary&quot;\r\n            /&gt;\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/nav_host_frag&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/appbar_layout&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/bottom_nav&quot;\r\n        app:navGraph=&quot;@navigation/mobile_navigation&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottom_nav&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:menu=&quot;@menu/bottom_nav_menu&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;/&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n**This is the image in which i want the title to be aligned centered:**\r\n[the uploaded one][1]\r\n\r\n  [1]: https://i.stack.imgur.com/bPKsx.png\r\n\r\n**Style.xml**\r\n\r\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.WheatherApp&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;ToolbarTheme&quot; parent=&quot;ThemeOverlay.MaterialComponents.ActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColorSecondary&quot;&gt;#EEEEEE&lt;/item&gt;\r\n        &lt;item name=&quot;android:gravity&quot;&gt;center_vertical|center_horizontal&lt;/item&gt;\r\n        &lt;item name=&quot;background&quot;&gt;?colorPrimary&lt;/item&gt;\r\n    &lt;/style&gt;\r\n    &lt;/resources&gt;","title":"set Label Alignment in navigation Fragments","body":"<p><em>I want the label(toolbar title) to be aligned centered.What should I do? I have reffered to some logics and didn't find them effective and they also didn't work. So kindly guide me through it.</em></p>\n<p><strong>This is the Navigation File:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/mobile_navigation&quot;\napp:startDestination=&quot;@id/current_weather_fragment&quot;&gt;\n&lt;fragment\n    android:id=&quot;@+id/current_weather_fragment&quot;\n    android:name=&quot;com.example.wheatherapp.UI.Weather.CurrentWeather.CurrentWeatherFragment&quot;\n    android:label=&quot;current_weather_fragment&quot;\n\n    tools:layout=&quot;@layout/current_weather_fragment&quot; /&gt;\n&lt;fragment\n    android:id=&quot;@+id/future_weather_fragment&quot;\n    android:name=&quot;com.example.wheatherapp.UI.Weather.FutureWeather.FutureWeatherListFrag.FutureWeatherFragment&quot;\n    android:label=&quot;future_weather_fragment&quot;\n    tools:layout=&quot;@layout/future_weather_fragment&quot; /&gt;\n&lt;fragment\n    android:id=&quot;@+id/future_detail_weather&quot;\n    android:name=&quot;com.example.wheatherapp.UI.Weather.FutureWeather.FutureDetailFrag.FutureDetailWeather&quot;\n    android:label=&quot;future_detail_weather_fragment&quot;\n    tools:layout=&quot;@layout/future_detail_weather_fragment&quot; /&gt;\n&lt;fragment\n    android:id=&quot;@+id/setting_fragment&quot;\n    android:name=&quot;com.example.wheatherapp.UI.Setting.SettingFragment&quot;\n    android:label=&quot;SettingFragment&quot; /&gt;\n&lt;/navigation&gt;\n</code></pre>\n<p><strong>This is the MainActvity.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.UI.MainActivity&quot;&gt;\n\n&lt;com.google.android.material.appbar.AppBarLayout\n    android:id=&quot;@+id/appbar_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    android:theme=&quot;@style/ToolbarTheme&quot;&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?actionBarSize&quot;\n        android:background=&quot;?colorPrimary&quot;\n        /&gt;\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n\n&lt;androidx.fragment.app.FragmentContainerView\n    android:id=&quot;@+id/nav_host_frag&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;0dp&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/appbar_layout&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@id/bottom_nav&quot;\n    app:navGraph=&quot;@navigation/mobile_navigation&quot;\n    app:defaultNavHost=&quot;true&quot;\n    android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot; /&gt;\n\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    android:id=&quot;@+id/bottom_nav&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:menu=&quot;@menu/bottom_nav_menu&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;/&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>This is the image in which i want the title to be aligned centered:</strong>\n<a href=\"https://i.stack.imgur.com/bPKsx.png\" rel=\"nofollow noreferrer\">the uploaded one</a></p>\n<p><strong>Style.xml</strong></p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;Theme.WheatherApp&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n    &lt;!-- Primary brand color. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\n    &lt;!-- Secondary brand color. --&gt;\n    &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n    &lt;!-- Status bar color. --&gt;\n    &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;ToolbarTheme&quot; parent=&quot;ThemeOverlay.MaterialComponents.ActionBar&quot;&gt;\n    &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:textColorSecondary&quot;&gt;#EEEEEE&lt;/item&gt;\n    &lt;item name=&quot;android:gravity&quot;&gt;center_vertical|center_horizontal&lt;/item&gt;\n    &lt;item name=&quot;background&quot;&gt;?colorPrimary&lt;/item&gt;\n&lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1701856263,"post_id":77611990,"comment_id":136825783,"body_markdown":"Both `String` and `Integer` are a subtype of `Object`, so `T` is inferred `Object`. The same can&#39;t happen with `List&lt;String&gt;` and `List&lt;Integer&gt;`, as neither are a subtype of `List&lt;Object&gt;`.","body":"Both <code>String</code> and <code>Integer</code> are a subtype of <code>Object</code>, so <code>T</code> is inferred <code>Object</code>. The same can&#39;t happen with <code>List&lt;String&gt;</code> and <code>List&lt;Integer&gt;</code>, as neither are a subtype of <code>List&lt;Object&gt;</code>."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701856980,"post_id":77611990,"comment_id":136825933,"body_markdown":"Related, possibly duplicate: [Why is List&lt;String&gt; not a subtype of List&lt;Object&gt;?](https://stackoverflow.com/questions/9606428/why-is-liststring-not-a-subtype-of-listobject)","body":"Related, possibly duplicate: <a href=\"https://stackoverflow.com/questions/9606428/why-is-liststring-not-a-subtype-of-listobject\">Why is List&lt;String&gt; not a subtype of List&lt;Object&gt;?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701864896,"creation_date":1701864896,"answer_id":77612970,"question_id":77611990,"body_markdown":"For `method(s, num);` to be valid, there just needs to be a type `T` such that `Integer` and `String` are both convertible to `T`. `Object` is such a type. Java&#39;s type inference algorithm can infer such a type too (though IIRC it&#39;s some intersection type of interfaces that `Integer` and `String` both implement).\r\n\r\nHowever, for `methodList(stringList, integerList)` to be valid, there needs to be a `T` such that both `List&lt;String&gt;` and `List&lt;Integer&gt;` can both be converted to `List&lt;T&gt;`. *There is no such type.* `Object` doesn&#39;t work here, because `List&lt;String&gt;` and `List&lt;Integer&gt;` cannot be converted to `List&lt;Object&gt;` ([See also][1]). i.e. Java&#39;s generics are *invariant* by default.\r\n\r\nIf you make the type parameter of the `List`s covariant by saying `? extends T`, then `methodList(stringList, integerList)` compiles.\r\n\r\n```\r\n&lt;T&gt; void methodList(List&lt;? extends T&gt; list1, List&lt;? extends T&gt; list2) {}\r\n```\r\n\r\nBecause `T` can be `Object` (or whatever intersection type Java actually infers), and both `List&lt;String&gt;` and `List&lt;Integer&gt;` can be converted to `List&lt;? extends Object&gt;`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/2745265/5133585","title":"Why no type restriction in the following Java generic method?","body":"<p>For <code>method(s, num);</code> to be valid, there just needs to be a type <code>T</code> such that <code>Integer</code> and <code>String</code> are both convertible to <code>T</code>. <code>Object</code> is such a type. Java's type inference algorithm can infer such a type too (though IIRC it's some intersection type of interfaces that <code>Integer</code> and <code>String</code> both implement).</p>\n<p>However, for <code>methodList(stringList, integerList)</code> to be valid, there needs to be a <code>T</code> such that both <code>List&lt;String&gt;</code> and <code>List&lt;Integer&gt;</code> can both be converted to <code>List&lt;T&gt;</code>. <em>There is no such type.</em> <code>Object</code> doesn't work here, because <code>List&lt;String&gt;</code> and <code>List&lt;Integer&gt;</code> cannot be converted to <code>List&lt;Object&gt;</code> (<a href=\"https://stackoverflow.com/q/2745265/5133585\">See also</a>). i.e. Java's generics are <em>invariant</em> by default.</p>\n<p>If you make the type parameter of the <code>List</code>s covariant by saying <code>? extends T</code>, then <code>methodList(stringList, integerList)</code> compiles.</p>\n<pre><code>&lt;T&gt; void methodList(List&lt;? extends T&gt; list1, List&lt;? extends T&gt; list2) {}\n</code></pre>\n<p>Because <code>T</code> can be <code>Object</code> (or whatever intersection type Java actually infers), and both <code>List&lt;String&gt;</code> and <code>List&lt;Integer&gt;</code> can be converted to <code>List&lt;? extends Object&gt;</code>.</p>\n"}],"owner":{"account_id":5396455,"reputation":5608,"user_id":4297539,"accept_rate":69,"display_name":"Siberia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77612970,"answer_count":1,"score":1,"last_activity_date":1701864896,"creation_date":1701856014,"question_id":77611990,"body_markdown":"When define a generic method we can use T. In the following method it will allow us to pass two lists with the same types.\r\n\r\n    public static &lt;T&gt; void methodList(List&lt;T&gt; t1, List&lt;T&gt; t2) {    \r\n    }\r\n\r\nSo in main() we can pass two lists of String, but can not pass a list of String and a list of Integer.\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; stringList2 = new ArrayList&lt;&gt;();\r\n\r\n        List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\r\n\r\n        methodList(stringList, stringList2); // correct\r\n        methodList(stringList, integerList); // can&#39;t, reason: Incompatible equality constraint: Integer and String\r\n    }\r\n\r\nMy question in this. If we define a generic method like the following, it will allow us to pass different types.\r\n\r\n    public static &lt;T&gt; void method(T t1, T t2) {\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;a&quot;;\r\n        Integer num = 1;\r\n\r\n        method(s, num); // correct\r\n    }\r\n\r\nWhy in this case there is no type restriction as in the first example? \r\nCan we do it by ourselves, allow passing only the same types to the second method?","title":"Why no type restriction in the following Java generic method?","body":"<p>When define a generic method we can use T. In the following method it will allow us to pass two lists with the same types.</p>\n<pre><code>public static &lt;T&gt; void methodList(List&lt;T&gt; t1, List&lt;T&gt; t2) {    \n}\n</code></pre>\n<p>So in main() we can pass two lists of String, but can not pass a list of String and a list of Integer.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\n    List&lt;String&gt; stringList2 = new ArrayList&lt;&gt;();\n\n    List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\n\n    methodList(stringList, stringList2); // correct\n    methodList(stringList, integerList); // can't, reason: Incompatible equality constraint: Integer and String\n}\n</code></pre>\n<p>My question in this. If we define a generic method like the following, it will allow us to pass different types.</p>\n<pre><code>public static &lt;T&gt; void method(T t1, T t2) {\n}\n\npublic static void main(String[] args) {\n    String s = &quot;a&quot;;\n    Integer num = 1;\n\n    method(s, num); // correct\n}\n</code></pre>\n<p>Why in this case there is no type restriction as in the first example?\nCan we do it by ourselves, allow passing only the same types to the second method?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":75692,"reputation":11853,"user_id":217067,"accept_rate":66,"display_name":"EugeneP"},"score":1,"creation_date":1260954341,"post_id":1913280,"comment_id":1818499,"body_markdown":"Yes Apache library.\nWhy, again, it is not in standart java distribution?","body":"Yes Apache library. Why, again, it is not in standart java distribution?"},{"owner":{"account_id":10628,"reputation":5791,"user_id":20161,"accept_rate":50,"display_name":"Pat"},"score":2,"creation_date":1260956795,"post_id":1913280,"comment_id":1818712,"body_markdown":"something to think about : null means not set, &quot;&quot; means set to empty.","body":"something to think about : null means not set, &quot;&quot; means set to empty."},{"owner":{"account_id":68904,"reputation":1177,"user_id":200802,"display_name":"charstar"},"score":0,"creation_date":1260959962,"post_id":1913280,"comment_id":1819018,"body_markdown":"Agree with Pat here.  It sometimes seems like this is just unnecessary book keeping but they are semantically different.  If the member is null, it means &quot;has no value&quot; whereas an empty string &quot;has a value; an empty string&quot;.  It is common for methods to have different behavior (by design) based on this fact.","body":"Agree with Pat here.  It sometimes seems like this is just unnecessary book keeping but they are semantically different.  If the member is null, it means &quot;has no value&quot; whereas an empty string &quot;has a value; an empty string&quot;.  It is common for methods to have different behavior (by design) based on this fact."},{"owner":{"account_id":68904,"reputation":1177,"user_id":200802,"display_name":"charstar"},"score":0,"creation_date":1260960512,"post_id":1913280,"comment_id":1819053,"body_markdown":"Sorry to spam the comments, but since it&#39;s somewhat related, you _can_ avoid the check-for-null-and-compare test on non-empty strings by having the string-literal do the test (string-literals are still Strings), e.g. &quot;CheesySafeCompare&quot;.equals( someString ) works as you&#39;d imagine but will _not_ throw a NullPointerException.","body":"Sorry to spam the comments, but since it&#39;s somewhat related, you <i>can</i> avoid the check-for-null-and-compare test on non-empty strings by having the string-literal do the test (string-literals are still Strings), e.g. &quot;CheesySafeCompare&quot;.equals( someString ) works as you&#39;d imagine but will <i>not</i> throw a NullPointerException."}],"answers":[{"tags":[],"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1571351818,"creation_date":1260954073,"answer_id":1913292,"question_id":1913280,"body_markdown":"Commons library, [StringUtils.isBlank()][1] or [StringUtils.isEmtpy()][2].\r\n\r\nisEmpty is equivalent to\r\n\r\n    s == null || s.length() == 0\r\n\r\n\r\nisBlank is equivalent to\r\n\r\n    s == null || s.trim().length() == 0\r\n\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isBlank-java.lang.CharSequence-\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isEmpty-java.lang.CharSequence-","title":"One step check for null value &amp; emptiness of a string","body":"<p>Commons library, <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isBlank-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">StringUtils.isBlank()</a> or <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isEmpty-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">StringUtils.isEmtpy()</a>.</p>\n\n<p>isEmpty is equivalent to</p>\n\n<pre><code>s == null || s.length() == 0\n</code></pre>\n\n<p>isBlank is equivalent to</p>\n\n<pre><code>s == null || s.trim().length() == 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":67532,"reputation":15704,"user_id":197574,"accept_rate":83,"display_name":"DerMike"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1260954152,"creation_date":1260954152,"answer_id":1913299,"question_id":1913280,"body_markdown":"In the jakarta commons there is a StringUtils.isEmpty(String).","title":"One step check for null value &amp; emptiness of a string","body":"<p>In the jakarta commons there is a StringUtils.isEmpty(String).</p>\n"},{"tags":[],"owner":{"account_id":241691,"reputation":301,"user_id":512667,"display_name":"Ahmed Rezk"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1544700839,"creation_date":1347464074,"answer_id":12391728,"question_id":1913280,"body_markdown":"    if(s != null &amp;&amp; !s.isEmpty()){\r\n    // this will work even if &#39;s&#39; is NULL\r\n    }","title":"One step check for null value &amp; emptiness of a string","body":"<pre><code>if(s != null &amp;&amp; !s.isEmpty()){\n// this will work even if 's' is NULL\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2727282,"reputation":1056,"user_id":2351981,"accept_rate":70,"display_name":"E A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452410561,"creation_date":1452410561,"answer_id":34703086,"question_id":1913280,"body_markdown":"use **org.apache.commons.lang.StringUtils**, the method **StringUtils.isNotBlank** check both nullity and emptiness.","title":"One step check for null value &amp; emptiness of a string","body":"<p>use <strong>org.apache.commons.lang.StringUtils</strong>, the method <strong>StringUtils.isNotBlank</strong> check both nullity and emptiness.</p>\n"},{"tags":[],"owner":{"account_id":9283951,"reputation":898,"user_id":6894437,"display_name":"Sophia Price"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551870509,"creation_date":1551870509,"answer_id":55021644,"question_id":1913280,"body_markdown":"Add maven dependency for [com.google.guava][1]\r\n\r\nThen in your code:\r\n\r\n    import com.google.common.base.Strings;\r\n\r\n    if(!Strings.isNullOrEmpty(s)) {\r\n      // Do stuff here\r\n    }\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.guava/guava","title":"One step check for null value &amp; emptiness of a string","body":"<p>Add maven dependency for <a href=\"https://mvnrepository.com/artifact/com.google.guava/guava\" rel=\"nofollow noreferrer\">com.google.guava</a></p>\n\n<p>Then in your code:</p>\n\n<pre><code>import com.google.common.base.Strings;\n\nif(!Strings.isNullOrEmpty(s)) {\n  // Do stuff here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7077,"reputation":15091,"user_id":12113,"accept_rate":100,"display_name":"Noah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578264167,"creation_date":1578264167,"answer_id":59604850,"question_id":1913280,"body_markdown":"If you are doing android development, you can use:\r\n\r\n    TextUtils.isEmpty (CharSequence str) \r\n\r\nAdded in API level 1\r\nReturns true if the string is null or 0-length.\r\n","title":"One step check for null value &amp; emptiness of a string","body":"<p>If you are doing android development, you can use:</p>\n\n<pre><code>TextUtils.isEmpty (CharSequence str) \n</code></pre>\n\n<p>Added in API level 1\nReturns true if the string is null or 0-length.</p>\n"},{"tags":[],"owner":{"account_id":18853981,"reputation":787,"user_id":13752421,"display_name":"Daly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694635379,"creation_date":1694632940,"answer_id":77099963,"question_id":1913280,"body_markdown":"Spring\r\n======\r\n\r\nSpring provides the class [org.springframework.util.StringUtils][1] which includes these relevant methods.\r\n\r\n[`hasText(String s)`][2]\r\n--------\r\nReturns true if and only if a `String` or `CharSequence` contains a character which is not a space.\r\n\r\nExample:\r\n\r\n     StringUtils.hasText(null) = false\r\n     StringUtils.hasText(&quot;&quot;) = false\r\n     StringUtils.hasText(&quot; &quot;) = false\r\n     StringUtils.hasText(&quot;12345&quot;) = true\r\n     StringUtils.hasText(&quot; 12345 &quot;) = true\r\n\r\n[`hasLength(String s)`][3]\r\n----------\r\nReturns true if and only if a `String` or `CharSequence` contains any characters, spaces included.\r\n\r\nExample:\r\n\r\n     StringUtils.hasLength(null) = false\r\n     StringUtils.hasLength(&quot;&quot;) = false\r\n     StringUtils.hasLength(&quot; &quot;) = true\r\n     StringUtils.hasLength(&quot;Hello&quot;) = true\r\n\r\nIn the case of the question, `hasText` would be the best option.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html#hasText(java.lang.CharSequence)\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html#hasLength(java.lang.CharSequence)","title":"One step check for null value &amp; emptiness of a string","body":"<h1>Spring</h1>\n<p>Spring provides the class <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html\" rel=\"nofollow noreferrer\">org.springframework.util.StringUtils</a> which includes these relevant methods.</p>\n<h2><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html#hasText(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>hasText(String s)</code></a></h2>\n<p>Returns true if and only if a <code>String</code> or <code>CharSequence</code> contains a character which is not a space.</p>\n<p>Example:</p>\n<pre><code> StringUtils.hasText(null) = false\n StringUtils.hasText(&quot;&quot;) = false\n StringUtils.hasText(&quot; &quot;) = false\n StringUtils.hasText(&quot;12345&quot;) = true\n StringUtils.hasText(&quot; 12345 &quot;) = true\n</code></pre>\n<h2><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html#hasLength(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>hasLength(String s)</code></a></h2>\n<p>Returns true if and only if a <code>String</code> or <code>CharSequence</code> contains any characters, spaces included.</p>\n<p>Example:</p>\n<pre><code> StringUtils.hasLength(null) = false\n StringUtils.hasLength(&quot;&quot;) = false\n StringUtils.hasLength(&quot; &quot;) = true\n StringUtils.hasLength(&quot;Hello&quot;) = true\n</code></pre>\n<p>In the case of the question, <code>hasText</code> would be the best option.</p>\n"},{"tags":[],"owner":{"account_id":9005111,"reputation":574,"user_id":6712167,"display_name":"Ranushka Lakmal Sankalpa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701864670,"creation_date":1701864670,"answer_id":77612947,"question_id":1913280,"body_markdown":"its not String. it should be Strings. as an example:\r\n\r\n    if(!Strings.isNullOrEmpty()","title":"One step check for null value &amp; emptiness of a string","body":"<p>its not String. it should be Strings. as an example:</p>\n<pre><code>if(!Strings.isNullOrEmpty()\n</code></pre>\n"}],"owner":{"account_id":75692,"reputation":11853,"user_id":217067,"accept_rate":66,"display_name":"EugeneP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35106,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":8,"score":16,"last_activity_date":1701864670,"creation_date":1260953931,"question_id":1913280,"body_markdown":"I have a setter method.\r\n\r\nThen when another (say generate) method is run, I need to check the value of my fields.\r\nSo in the case of String property, I need to know if it contains the value or if it was not set.\r\nSo it may be null, &quot;&quot; or something meaningful, there are 3 possibilities.\r\nAnd it is rather boring to check first for a null value :\r\n\r\n    if (s != null)\r\n\r\nthen for an empty String\r\n\r\n    if (!s.isEmpty())\r\n\r\n&lt;b&gt;&lt;i&gt;\r\nis there a one-step check here? You can tell me that I can initialize my String field with an empty String. [ IS IT COMMON? ] But what if someone passes a null value to the setter method setS?\r\nso do we always have to check if the Object value is null or not before doing something with that object?\r\n&lt;/b&gt;&lt;/i&gt;\r\n\r\nWell, yes a setter method can check it&#39;s values and also a getter method can return a non-null value if the field is null. But is it the only solution? It &#39;s too much work in getters &amp; setters for a programmer to do!","title":"One step check for null value &amp; emptiness of a string","body":"<p>I have a setter method.</p>\n\n<p>Then when another (say generate) method is run, I need to check the value of my fields.\nSo in the case of String property, I need to know if it contains the value or if it was not set.\nSo it may be null, \"\" or something meaningful, there are 3 possibilities.\nAnd it is rather boring to check first for a null value :</p>\n\n<pre><code>if (s != null)\n</code></pre>\n\n<p>then for an empty String</p>\n\n<pre><code>if (!s.isEmpty())\n</code></pre>\n\n<p><b><i>\nis there a one-step check here? You can tell me that I can initialize my String field with an empty String. [ IS IT COMMON? ] But what if someone passes a null value to the setter method setS?\nso do we always have to check if the Object value is null or not before doing something with that object?\n</b></i></p>\n\n<p>Well, yes a setter method can check it's values and also a getter method can return a non-null value if the field is null. But is it the only solution? It 's too much work in getters &amp; setters for a programmer to do!</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1701721702,"post_id":77602364,"comment_id":136808729,"body_markdown":"You&#39;re asking if there&#39;s a way to get data from every element in a list without visiting every element in the list? How much easier could it be, really, though?","body":"You&#39;re asking if there&#39;s a way to get data from every element in a list without visiting every element in the list? How much easier could it be, really, though?"},{"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"score":0,"creation_date":1701722086,"post_id":77602364,"comment_id":136808779,"body_markdown":"I realize it sounds like that, but I didn&#39;t know if there was a way to easily flatten the list","body":"I realize it sounds like that, but I didn&#39;t know if there was a way to easily flatten the list"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3198,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1701852531,"creation_date":1701722409,"answer_id":77602433,"question_id":77602364,"body_markdown":"Try this, although it still visits all the elements in the list:\r\n\r\n```java\r\nfinal Set&lt;String&gt; keys = myList.stream()\r\n  .map( Map::keySet )\r\n  .reduce( new HashSet&lt;String&gt;(), (a,b) -&gt; {a.addAll( b ); return a;} );\r\n```\r\n\r\nIt streams the `Map` instances in the list, gets the set with the keys from them, then combines them into a new `HashSet` instance.\r\n\r\nIf you insist in having an instance of `List` that also contains potential duplicates, try this:\r\n\r\n```java\r\nfinal List&lt;String&gt; keys = myList.stream()\r\n  .map( Map::keySet )\r\n  .reduce( new ArrayList&lt;String&gt;(), (a,b) -&gt; {a.addAll( b ); return a;} );\r\n```\r\n\r\nA list without duplicates can be obtained like this:\r\n\r\n```java\r\nfinal List&lt;String&gt; keys = new ArrayList&lt;&gt;( myList.stream()\r\n  .map( Map::keySet )\r\n  .reduce( new HashSet&lt;String&gt;(), (a,b) -&gt; {a.addAll( b ); return a;} ) );\r\n```\r\n---\r\nFor *this particular case*, is a pity that `Collection::addAll` returns a `boolean` instead of the collection itself. Otherwise, the code could be simplified to:\r\n```java\r\nfinal Set&lt;String&gt; keys = myList.stream()\r\n  .map( Map::keySet )\r\n  .reduce( new HashSet&lt;String&gt;(), Collection::addAll ); // THIS DOES NOT WORK!!!\r\n```\r\n","title":"Retrieving all the keys from a list of maps","body":"<p>Try this, although it still visits all the elements in the list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Set&lt;String&gt; keys = myList.stream()\n  .map( Map::keySet )\n  .reduce( new HashSet&lt;String&gt;(), (a,b) -&gt; {a.addAll( b ); return a;} );\n</code></pre>\n<p>It streams the <code>Map</code> instances in the list, gets the set with the keys from them, then combines them into a new <code>HashSet</code> instance.</p>\n<p>If you insist in having an instance of <code>List</code> that also contains potential duplicates, try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;String&gt; keys = myList.stream()\n  .map( Map::keySet )\n  .reduce( new ArrayList&lt;String&gt;(), (a,b) -&gt; {a.addAll( b ); return a;} );\n</code></pre>\n<p>A list without duplicates can be obtained like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;String&gt; keys = new ArrayList&lt;&gt;( myList.stream()\n  .map( Map::keySet )\n  .reduce( new HashSet&lt;String&gt;(), (a,b) -&gt; {a.addAll( b ); return a;} ) );\n</code></pre>\n<hr />\n<p>For <em>this particular case</em>, is a pity that <code>Collection::addAll</code> returns a <code>boolean</code> instead of the collection itself. Otherwise, the code could be simplified to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Set&lt;String&gt; keys = myList.stream()\n  .map( Map::keySet )\n  .reduce( new HashSet&lt;String&gt;(), Collection::addAll ); // THIS DOES NOT WORK!!!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19655452,"reputation":301,"user_id":14388200,"display_name":"David A."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701779510,"creation_date":1701722624,"answer_id":77602451,"question_id":77602364,"body_markdown":"You could use `stream` with `flatMap`.\r\n\r\nexample:\r\n\r\n    public List&lt;String&gt; getAllInList(){\r\n    List&lt;Map&lt;String,Integer&gt;&gt; list = List.of(Map.of(&quot;Bob&quot;,1), Map.of(&quot;James&quot;,2));\r\n        return list.stream().map(Map::keySet).flatMap(Collection::stream).collect(Collectors.toList());\r\n    }\r\n\r\n ","title":"Retrieving all the keys from a list of maps","body":"<p>You could use <code>stream</code> with <code>flatMap</code>.</p>\n<p>example:</p>\n<pre><code>public List&lt;String&gt; getAllInList(){\nList&lt;Map&lt;String,Integer&gt;&gt; list = List.of(Map.of(&quot;Bob&quot;,1), Map.of(&quot;James&quot;,2));\n    return list.stream().map(Map::keySet).flatMap(Collection::stream).collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701728958,"creation_date":1701722917,"answer_id":77602477,"question_id":77602364,"body_markdown":"This should work.\r\n- stream the list of maps\r\n- flatten the streams of the keySets\r\n- collect.into a set.\r\n```\r\nSet&lt;String&gt; result =  \r\n  mylist.stream().flatMap(map-&gt;map.keySet().stream())\r\n        .collect(Collectors.toSet());\r\n\r\n```\r\nAnd here is another way that avoids flatMapping.  But it does iterate across each map.  MapMulti puts each key on the stream and then they are collected into a set.\r\n```\r\nresult = myList.stream().&lt;String&gt;mapMulti((map, consumer)-&gt; {\r\n    for (String key : map.keySet()) {\r\n        consumer.accept(key);\r\n    }}).collect(Collectors.toSet());\r\n\r\n}","title":"Retrieving all the keys from a list of maps","body":"<p>This should work.</p>\n<ul>\n<li>stream the list of maps</li>\n<li>flatten the streams of the keySets</li>\n<li>collect.into a set.</li>\n</ul>\n<pre><code>Set&lt;String&gt; result =  \n  mylist.stream().flatMap(map-&gt;map.keySet().stream())\n        .collect(Collectors.toSet());\n\n</code></pre>\n<p>And here is another way that avoids flatMapping.  But it does iterate across each map.  MapMulti puts each key on the stream and then they are collected into a set.</p>\n<pre><code>result = myList.stream().&lt;String&gt;mapMulti((map, consumer)-&gt; {\n    for (String key : map.keySet()) {\n        consumer.accept(key);\n    }}).collect(Collectors.toSet());\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701795888,"creation_date":1701743872,"answer_id":77603547,"question_id":77602364,"body_markdown":"## tl;dr\r\n\r\nFYI, &quot;going element by element and calling keyset()&quot; can be done in a mere two lines of code:\r\n\r\n```java\r\nSet &lt; String &gt; distinctKeys = new HashSet &lt;&gt; ( );\r\nlistOfMaps.forEach ( map -&gt; distinctKeys.addAll ( map.keySet ( ) ) );\r\n```\r\n\r\n## Looping involved in any solution\r\n\r\n&gt;Is there an easy way to get all of the keys without going element by element and calling keyset()?\r\n\r\nNo. Computers are not magic. If you want to examine various pieces of data in memory, you have to visit their location in memory. For a collection in Java, that visitation means looping through the elements of the collection.\r\n\r\nThe other Answers using streams using streams are all essentially syntactic sugar for looping through the elements of the collection. Under the covers you are accessing each element of the list, and accessing the set of keys.\r\n\r\n## Using `List#forEach` to implicitly loop\r\n\r\nThose other Answers with streams are good. But, FYI, I want to show that (a) we can do this without streams, and (b) the code is briefer than you might expect… just two lines. The brevity is due to `List#forEach` in Java 8+.\r\n\r\nFirst, some sample data.\r\n\r\n```java\r\nList &lt; Map &lt; String, Integer &gt; &gt; listOfMaps =\r\n        List.of (\r\n                Map.of (\r\n                        &quot;Alice&quot; , 1 ,\r\n                        &quot;Bob&quot; , 2 ,\r\n                        &quot;Carol&quot; , 3\r\n                ) ,\r\n                Map.of (\r\n                        &quot;Davis&quot; , 4 ,\r\n                        &quot;Carol&quot; , 7\r\n                ) ,\r\n                Map.of (\r\n                        &quot;Ernestine&quot; , 5 ,\r\n                        &quot;Frank&quot; , 6\r\n                )\r\n        );\r\n```\r\n\r\nMake a new empty set to hold all the keys. A `Set` eliminates duplicate values. So we expect only a single `Carol`, not two.\r\n\r\n```java\r\nSet &lt; String &gt; names = new HashSet &lt;&gt; ( );\r\n```\r\n\r\nThe `List#forEach` automatically loops all the elements of the list. Each element is a `Map` object. We retrieve each map’s keys with a call to `keySet`, and deposit them into our new set.\r\n\r\n```java\r\nlistOfMaps.forEach ( map -&gt; names.addAll ( map.keySet ( ) ) );\r\n```\r\n\r\nWhen run:\r\n\r\n&gt;names = [Bob, Alice, Carol, Ernestine, Frank, Davis]\r\n\r\n### Sequenced collection for alphabetized strings\r\n\r\nIf we want those strings in alphabetical order, use an ordered set like [`TreeSet`][1] rather than an unordered set like [`HashSet`][2]. \r\n\r\n```java\r\nSequencedCollection &lt; String &gt; names = new TreeSet &lt;&gt; ( );\r\n```\r\n\r\nWhen run:\r\n\r\n&gt;names = [Alice, Bob, Carol, Davis, Ernestine, Frank]\r\n\r\n\r\n[`SequencedCollection`][3] is [new in Java 21][4]. In earlier Java, use [`NavigableSet`][5]. In ancient Java, use [`SortedSet`][6]. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeSet.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/HashSet.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\r\n  [4]: https://openjdk.org/jeps/431\r\n  [5]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/NavigableSet.html\r\n  [6]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SortedSet.html","title":"Retrieving all the keys from a list of maps","body":"<h2>tl;dr</h2>\n<p>FYI, &quot;going element by element and calling keyset()&quot; can be done in a mere two lines of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set &lt; String &gt; distinctKeys = new HashSet &lt;&gt; ( );\nlistOfMaps.forEach ( map -&gt; distinctKeys.addAll ( map.keySet ( ) ) );\n</code></pre>\n<h2>Looping involved in any solution</h2>\n<blockquote>\n<p>Is there an easy way to get all of the keys without going element by element and calling keyset()?</p>\n</blockquote>\n<p>No. Computers are not magic. If you want to examine various pieces of data in memory, you have to visit their location in memory. For a collection in Java, that visitation means looping through the elements of the collection.</p>\n<p>The other Answers using streams using streams are all essentially syntactic sugar for looping through the elements of the collection. Under the covers you are accessing each element of the list, and accessing the set of keys.</p>\n<h2>Using <code>List#forEach</code> to implicitly loop</h2>\n<p>Those other Answers with streams are good. But, FYI, I want to show that (a) we can do this without streams, and (b) the code is briefer than you might expect… just two lines. The brevity is due to <code>List#forEach</code> in Java 8+.</p>\n<p>First, some sample data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Map &lt; String, Integer &gt; &gt; listOfMaps =\n        List.of (\n                Map.of (\n                        &quot;Alice&quot; , 1 ,\n                        &quot;Bob&quot; , 2 ,\n                        &quot;Carol&quot; , 3\n                ) ,\n                Map.of (\n                        &quot;Davis&quot; , 4 ,\n                        &quot;Carol&quot; , 7\n                ) ,\n                Map.of (\n                        &quot;Ernestine&quot; , 5 ,\n                        &quot;Frank&quot; , 6\n                )\n        );\n</code></pre>\n<p>Make a new empty set to hold all the keys. A <code>Set</code> eliminates duplicate values. So we expect only a single <code>Carol</code>, not two.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set &lt; String &gt; names = new HashSet &lt;&gt; ( );\n</code></pre>\n<p>The <code>List#forEach</code> automatically loops all the elements of the list. Each element is a <code>Map</code> object. We retrieve each map’s keys with a call to <code>keySet</code>, and deposit them into our new set.</p>\n<pre class=\"lang-java prettyprint-override\"><code>listOfMaps.forEach ( map -&gt; names.addAll ( map.keySet ( ) ) );\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>names = [Bob, Alice, Carol, Ernestine, Frank, Davis]</p>\n</blockquote>\n<h3>Sequenced collection for alphabetized strings</h3>\n<p>If we want those strings in alphabetical order, use an ordered set like <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a> rather than an unordered set like <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/HashSet.html\" rel=\"nofollow noreferrer\"><code>HashSet</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SequencedCollection &lt; String &gt; names = new TreeSet &lt;&gt; ( );\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>names = [Alice, Bob, Carol, Davis, Ernestine, Frank]</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\" rel=\"nofollow noreferrer\"><code>SequencedCollection</code></a> is <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">new in Java 21</a>. In earlier Java, use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a>. In ancient Java, use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SortedSet.html\" rel=\"nofollow noreferrer\"><code>SortedSet</code></a>.</p>\n"}],"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77602477,"answer_count":4,"score":1,"last_activity_date":1701864615,"creation_date":1701721524,"question_id":77602364,"body_markdown":"I have some data stored in a list of maps\r\n\r\n    List&lt;Map&lt;String, Integer&gt;&gt; myList;\r\n\r\nIs there an easy way to get all of the keys without going element by element and calling `Map::keySet`?\r\n\r\nSay for example I have the list `((Bob, 1), (James, 5))` where Bob and James are both keys in a map, how can I get a list of just `(Bob, James)`?","title":"Retrieving all the keys from a list of maps","body":"<p>I have some data stored in a list of maps</p>\n<pre><code>List&lt;Map&lt;String, Integer&gt;&gt; myList;\n</code></pre>\n<p>Is there an easy way to get all of the keys without going element by element and calling <code>Map::keySet</code>?</p>\n<p>Say for example I have the list <code>((Bob, 1), (James, 5))</code> where Bob and James are both keys in a map, how can I get a list of just <code>(Bob, James)</code>?</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"owner":{"account_id":9317268,"reputation":49,"user_id":6917213,"display_name":"Bartek Walaszczyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701864524,"creation_date":1701863327,"question_id":77612797,"body_markdown":"I have 3 tables in my PostgreSQL DB like Organization, Project and Users. What I want to achieve is to have common User table for Organization and Project which holds connection between Organization and Project users.\r\n\r\nDB tables:\r\n\r\n```\r\n| organizations | | projects             | | users          | \r\n| ------------- | | -------------------- | | -------------- |\r\n| id (PK)       | | id (PK)              | | id (PK)        |\r\n| name          | | organization_id (FK) | | login          |\r\n| status        | | name                 | | external_id    |\r\n                  | status               | | external_type  |\r\n\r\n```\r\nIn Users table external_id column will have id&#39;s of Organizations or Projects PK and external_type will hold one of type &#39;ORGANIZATION&#39; or &#39;PROJECT&#39;.\r\n\r\nMy entities looks like:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;organizations&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Organization {\r\n    @Id\r\n    private UUID id;\r\n    @Column(nullable = false)\r\n    private String name;\r\n    @Column(nullable = false)\r\n    private String status;\r\n    @OneToMany(mappedBy = &quot;organization&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;Project&gt; projects = new HashSet&lt;&gt;()\r\n    // how to make one to many (unidirectional) relation here??\r\n    private Set&lt;User&gt; user = new HashSet&lt;&gt;();\r\n}\r\n\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;projects&quot;)\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Project {\r\n    @Id\r\n    private UUID id\r\n    @Column(nullable = false)\r\n    private String name;\r\n    @Column(nullable = false)\r\n    private String status;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;organization_id&quot;, nullable = false)\r\n    private Organization organization;\r\n    // how to make one to many (unidirectional) relation here??\r\n    private Set&lt;User&gt; user = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class User {\r\n    @Id\r\n    private UUID id\r\n    @Column(nullable = false)\r\n    private String login;\r\n    private External external;\r\n\r\n    @Embeddable\r\n    public static class External {\r\n        @Column(name = &quot;external_id&quot;, nullable = false)\r\n        private UUID id;\r\n        @Column(name = &quot;external_type&quot;, nullable = false)\r\n        @Enumerated(EnumType.STRING)\r\n        private Type type;\r\n\r\n        public enum Type {\r\n            ORGANIZATION,\r\n            PROJECT\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nExample data in db:\r\n\r\norganizations table:\r\n```\r\n| id                                   | name | status | \r\n| ------------------------------------ | ---- | ------ |\r\n| 062b7a34-f737-4382-b171-f2a9fcf9763b | org1 | ACTIVE |\r\n| a3e2b52d-25d2-43fd-b5bf-37a0983f8533 | org2 | ACTIVE |\r\n```\r\nprojects table:\r\n```\r\n| id                                   | organization_id                      | name  | status | \r\n| ------------------------------------ | ------------------------------------ |-----  | ------ |\r\n| 0d392673-c002-4ec4-9a24-5beb4816db69 | 062b7a34-f737-4382-b171-f2a9fcf9763b | proj1 | ACTIVE |\r\n| f84fda6f-dcbe-42be-9b95-bf11225d1182 | a3e2b52d-25d2-43fd-b5bf-37a0983f8533 | proj2 | ACTIVE |\r\n```\r\nusers table:\r\n```\r\n| id                                   | login      | external_id                            | external_type | \r\n| ------------------------------------ | ---------- | -------------------------------------- | ------------- |\r\n| 985ed43c-175b-4c9c-9f35-434c1b57f68a | firstUser  | 062b7a34-f737-4382-b171-f2a9fcf9763b   | ORGANIZATION  |\r\n| e7de06aa-7585-4935-a811-2d4f6a0cb4f8 | secondUser | a3e2b52d-25d2-43fd-b5bf-37a0983f8533   | ORGANIZATION  |\r\n| 93485049-cb04-4318-be48-27cfa358fbf3 | secondUser | f84fda6f-dcbe-42be-9b95-bf11225d1182   | PROJECT       |\r\n```\r\n\r\nSo the first user identified by login (firstUser) belongs to organization (org1), second user with login (secondUser) belongs to second organization (org2) and to second project (proj2). How to create relations using JPA? Should I use `@JoinColumnsOrFormulas` and how?","title":"JPA Unidirectional OneToMany relation with common table for two entities","body":"<p>I have 3 tables in my PostgreSQL DB like Organization, Project and Users. What I want to achieve is to have common User table for Organization and Project which holds connection between Organization and Project users.</p>\n<p>DB tables:</p>\n<pre><code>| organizations | | projects             | | users          | \n| ------------- | | -------------------- | | -------------- |\n| id (PK)       | | id (PK)              | | id (PK)        |\n| name          | | organization_id (FK) | | login          |\n| status        | | name                 | | external_id    |\n                  | status               | | external_type  |\n\n</code></pre>\n<p>In Users table external_id column will have id's of Organizations or Projects PK and external_type will hold one of type 'ORGANIZATION' or 'PROJECT'.</p>\n<p>My entities looks like:</p>\n<pre><code>@Entity\n@Table(name = &quot;organizations&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Organization {\n    @Id\n    private UUID id;\n    @Column(nullable = false)\n    private String name;\n    @Column(nullable = false)\n    private String status;\n    @OneToMany(mappedBy = &quot;organization&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;Project&gt; projects = new HashSet&lt;&gt;()\n    // how to make one to many (unidirectional) relation here??\n    private Set&lt;User&gt; user = new HashSet&lt;&gt;();\n}\n\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;projects&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Project {\n    @Id\n    private UUID id\n    @Column(nullable = false)\n    private String name;\n    @Column(nullable = false)\n    private String status;\n    @ManyToOne\n    @JoinColumn(name = &quot;organization_id&quot;, nullable = false)\n    private Organization organization;\n    // how to make one to many (unidirectional) relation here??\n    private Set&lt;User&gt; user = new HashSet&lt;&gt;();\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User {\n    @Id\n    private UUID id\n    @Column(nullable = false)\n    private String login;\n    private External external;\n\n    @Embeddable\n    public static class External {\n        @Column(name = &quot;external_id&quot;, nullable = false)\n        private UUID id;\n        @Column(name = &quot;external_type&quot;, nullable = false)\n        @Enumerated(EnumType.STRING)\n        private Type type;\n\n        public enum Type {\n            ORGANIZATION,\n            PROJECT\n        }\n    }\n}\n</code></pre>\n<p>Example data in db:</p>\n<p>organizations table:</p>\n<pre><code>| id                                   | name | status | \n| ------------------------------------ | ---- | ------ |\n| 062b7a34-f737-4382-b171-f2a9fcf9763b | org1 | ACTIVE |\n| a3e2b52d-25d2-43fd-b5bf-37a0983f8533 | org2 | ACTIVE |\n</code></pre>\n<p>projects table:</p>\n<pre><code>| id                                   | organization_id                      | name  | status | \n| ------------------------------------ | ------------------------------------ |-----  | ------ |\n| 0d392673-c002-4ec4-9a24-5beb4816db69 | 062b7a34-f737-4382-b171-f2a9fcf9763b | proj1 | ACTIVE |\n| f84fda6f-dcbe-42be-9b95-bf11225d1182 | a3e2b52d-25d2-43fd-b5bf-37a0983f8533 | proj2 | ACTIVE |\n</code></pre>\n<p>users table:</p>\n<pre><code>| id                                   | login      | external_id                            | external_type | \n| ------------------------------------ | ---------- | -------------------------------------- | ------------- |\n| 985ed43c-175b-4c9c-9f35-434c1b57f68a | firstUser  | 062b7a34-f737-4382-b171-f2a9fcf9763b   | ORGANIZATION  |\n| e7de06aa-7585-4935-a811-2d4f6a0cb4f8 | secondUser | a3e2b52d-25d2-43fd-b5bf-37a0983f8533   | ORGANIZATION  |\n| 93485049-cb04-4318-be48-27cfa358fbf3 | secondUser | f84fda6f-dcbe-42be-9b95-bf11225d1182   | PROJECT       |\n</code></pre>\n<p>So the first user identified by login (firstUser) belongs to organization (org1), second user with login (secondUser) belongs to second organization (org2) and to second project (proj2). How to create relations using JPA? Should I use <code>@JoinColumnsOrFormulas</code> and how?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701951451,"post_id":77612460,"comment_id":136839809,"body_markdown":"_&quot;Caused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;number_id&quot; of relation &quot;contract&quot; violates not-null constraint\n  Detail: Failing row contains (0a6f0a45-8c3e-1db0-818c-3ebddfdc000b, 40685, 0, 2023-12-06 13:48:00.238, null, 2023-12-06 13:48:00.238, null, 2023-12-06 13:48:00.21, 0, t, null, null, 2023-12-06, f, 6cbeb982-e351-24cd-b11f-933b1395c298, DRAFT, null, f, 0a6f0a45-8c3e-1db0-818c-3ebddfdb000a, null, null).&quot;_","body":"<i>&quot;Caused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;number_id&quot; of relation &quot;contract&quot; violates not-null constraint   Detail: Failing row contains (0a6f0a45-8c3e-1db0-818c-3ebddfdc000b, 40685, 0, 2023-12-06 13:48:00.238, null, 2023-12-06 13:48:00.238, null, 2023-12-06 13:48:00.21, 0, t, null, null, 2023-12-06, f, 6cbeb982-e351-24cd-b11f-933b1395c298, DRAFT, null, f, 0a6f0a45-8c3e-1db0-818c-3ebddfdb000a, null, null).&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701864344,"creation_date":1701864344,"answer_id":77612909,"question_id":77612460,"body_markdown":"Not-null contraint wans&#39;t actually removed in audit scheme, but only in the public one. As due to the nvers hibernate did all the same for the audi scheme, it required to remove the same cotraints in audit scheme too. ","title":"ConstraintViolationException: could not execute statement; org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion","body":"<p>Not-null contraint wans't actually removed in audit scheme, but only in the public one. As due to the nvers hibernate did all the same for the audi scheme, it required to remove the same cotraints in audit scheme too.</p>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701951467,"answer_count":1,"score":-1,"last_activity_date":1701864344,"creation_date":1701860121,"question_id":77612460,"body_markdown":"What could be a reason of the below stacktrace?\r\n\r\nOnce Entity had nullble=false; this was removed in one microservice and it ries to save the data without value that can be null now. In the DB not-null contraint was stlill there. I have removed it from the DB and now see:\r\n\r\nI have removed not-null requirement froim the DB manually, but still getting this error.\r\n\r\n    2023-12-06 13:48:00.278 [XNIO-1 task-5] ERROR r.d.b.c.c.GlobalExceptionHandler - Generic Exception. Request: http://billing.apps.k8s.dev.domoy.ru/billing/contractor/contractorFL raised org.springframework.orm.jpa.JpaSystemException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement; nested exception is org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    org.springframework.orm.jpa.JpaSystemException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement; nested exception is org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:352)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:254)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:537)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:534)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:305)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n    \tat rf.dom.billing.contractor.service.ContractorService$$EnhancerBySpringCGLIB$$4b6c336c.create(&lt;generated&gt;)\r\n    \tat rf.dom.billing.contractor.controller.ContractorFLController.create(ContractorFLController.java:49)\r\n    \tat rf.dom.billing.contractor.controller.ContractorFLController$$FastClassBySpringCGLIB$$2fd4eda9.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n    \tat rf.dom.billing.contractor.controller.ContractorFLController$$EnhancerBySpringCGLIB$$68e31456.create(&lt;generated&gt;)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n    \tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n    \tat org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:263)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\r\n    \tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.servlet.v3_1.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:83)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n    \tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n    \tat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n    \tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n    \tat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n    \tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n    \tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n    \tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n    \tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n    \tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n    \tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n    \tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n    \tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n    \tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n    \tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\r\n    \tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:960)\r\n    \tat org.hibernate.engine.spi.ActionQueue.beforeTransactionCompletion(ActionQueue.java:525)\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2390)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:447)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:533)\r\n    \t... 133 common frames omitted\r\n    Caused by: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1348)\r\n    \tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1331)\r\n    \tat org.hibernate.envers.internal.synchronization.AuditProcess.doBeforeTransactionCompletion(AuditProcess.java:177)\r\n    \tat org.hibernate.envers.internal.synchronization.AuditProcessManager$1.doBeforeTransactionCompletion(AuditProcessManager.java:47)\r\n    \tat org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:954)\r\n    \t... 141 common frames omitted\r\n    Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3226)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3751)\r\n    \tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:91)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n    \tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n    \tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:348)\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:108)\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1344)\r\n    \t... 145 common frames omitted\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;number_id&quot; of relation &quot;contract&quot; violates not-null constraint\r\n      Detail: Failing row contains (0a6f0a45-8c3e-1db0-818c-3ebddfdc000b, 40685, 0, 2023-12-06 13:48:00.238, null, 2023-12-06 13:48:00.238, null, 2023-12-06 13:48:00.21, 0, t, null, null, 2023-12-06, f, 6cbeb982-e351-24cd-b11f-933b1395c298, DRAFT, null, f, 0a6f0a45-8c3e-1db0-818c-3ebddfdb000a, null, null).\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:149)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:124)\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\r\n    \tat jdk.internal.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat net.bull.javamelody.JdbcWrapper.doExecute(JdbcWrapper.java:422)\r\n    \tat net.bull.javamelody.JdbcWrapper$StatementInvocationHandler.invoke(JdbcWrapper.java:142)\r\n    \tat net.bull.javamelody.JdbcWrapper$DelegatingInvocationHandler.invoke(JdbcWrapper.java:300)\r\n    \tat com.sun.proxy.$Proxy301.executeUpdate(Unknown Source)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n    \t... 156 common frames omitted\r\n   ","title":"ConstraintViolationException: could not execute statement; org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion","body":"<p>What could be a reason of the below stacktrace?</p>\n<p>Once Entity had nullble=false; this was removed in one microservice and it ries to save the data without value that can be null now. In the DB not-null contraint was stlill there. I have removed it from the DB and now see:</p>\n<p>I have removed not-null requirement froim the DB manually, but still getting this error.</p>\n<pre><code>2023-12-06 13:48:00.278 [XNIO-1 task-5] ERROR r.d.b.c.c.GlobalExceptionHandler - Generic Exception. Request: http://billing.apps.k8s.dev.domoy.ru/billing/contractor/contractorFL raised org.springframework.orm.jpa.JpaSystemException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement; nested exception is org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement\norg.springframework.orm.jpa.JpaSystemException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement; nested exception is org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:352)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:254)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:537)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:534)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:305)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n    at rf.dom.billing.contractor.service.ContractorService$$EnhancerBySpringCGLIB$$4b6c336c.create(&lt;generated&gt;)\n    at rf.dom.billing.contractor.controller.ContractorFLController.create(ContractorFLController.java:49)\n    at rf.dom.billing.contractor.controller.ContractorFLController$$FastClassBySpringCGLIB$$2fd4eda9.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n    at rf.dom.billing.contractor.controller.ContractorFLController$$EnhancerBySpringCGLIB$$68e31456.create(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:263)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\n    at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:94)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.servlet.v3_1.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:83)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:960)\n    at org.hibernate.engine.spi.ActionQueue.beforeTransactionCompletion(ActionQueue.java:525)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2390)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:447)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:533)\n    ... 133 common frames omitted\nCaused by: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1348)\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1331)\n    at org.hibernate.envers.internal.synchronization.AuditProcess.doBeforeTransactionCompletion(AuditProcess.java:177)\n    at org.hibernate.envers.internal.synchronization.AuditProcessManager$1.doBeforeTransactionCompletion(AuditProcessManager.java:47)\n    at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:954)\n    ... 141 common frames omitted\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3226)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3751)\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:91)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:348)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:108)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1344)\n    ... 145 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ERROR: null value in column &quot;number_id&quot; of relation &quot;contract&quot; violates not-null constraint\n  Detail: Failing row contains (0a6f0a45-8c3e-1db0-818c-3ebddfdc000b, 40685, 0, 2023-12-06 13:48:00.238, null, 2023-12-06 13:48:00.238, null, 2023-12-06 13:48:00.21, 0, t, null, null, 2023-12-06, f, 6cbeb982-e351-24cd-b11f-933b1395c298, DRAFT, null, f, 0a6f0a45-8c3e-1db0-818c-3ebddfdb000a, null, null).\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2497)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2233)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:310)\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:446)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:370)\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:149)\n    at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:124)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\n    at jdk.internal.reflect.GeneratedMethodAccessor204.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at net.bull.javamelody.JdbcWrapper.doExecute(JdbcWrapper.java:422)\n    at net.bull.javamelody.JdbcWrapper$StatementInvocationHandler.invoke(JdbcWrapper.java:142)\n    at net.bull.javamelody.JdbcWrapper$DelegatingInvocationHandler.invoke(JdbcWrapper.java:300)\n    at com.sun.proxy.$Proxy301.executeUpdate(Unknown Source)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n    ... 156 common frames omitted\n</code></pre>\n"},{"tags":["java","android","opencv","converters","rectangles"],"answers":[{"tags":[],"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701864111,"creation_date":1701864111,"answer_id":77612888,"question_id":77608952,"body_markdown":"The equations are:\r\n```\r\nx = left\r\ny = top\r\nwidth = right - left\r\nheight = bottom - top\r\n```\r\n\r\nand\r\n\r\n```\r\nleft = x\r\ntop = y\r\nright = x + width\r\nbottom = y + height\r\n```","title":"How I can convert a Rect object from android to a Rect object of OpenCV","body":"<p>The equations are:</p>\n<pre><code>x = left\ny = top\nwidth = right - left\nheight = bottom - top\n</code></pre>\n<p>and</p>\n<pre><code>left = x\ntop = y\nright = x + width\nbottom = y + height\n</code></pre>\n"}],"owner":{"account_id":2441019,"reputation":3362,"user_id":2129561,"accept_rate":37,"display_name":"V&#237;ctor Mart&#237;n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701864184,"creation_date":1701806362,"question_id":77608952,"body_markdown":"I&#39;m trying to do an app using OpenCV. I&#39;m facing a simple problem but I don&#39;t have the knowledge to resolve this.\r\n\r\nI need to take a box inside an image to get a rectangle and use it in OpenCV, but Android use android.graphics.Rect and OpenCV expect a org.opencv.core.Rect and I&#39;m trying a simple conversion, but the result is not good.\r\n\r\n    android.graphics.Rect(int left, int top, int right, int bottom)\r\n    \r\n    org.opencv.core.Rect(int x, int y, int width, int height)\r\n\r\nI&#39;m not finding wait is the representation of left top right and bottom, the documentation talks about &quot;side&quot; but I&#39;m confused to convert from android to opencv\r\n\r\nThank you.","title":"How I can convert a Rect object from android to a Rect object of OpenCV","body":"<p>I'm trying to do an app using OpenCV. I'm facing a simple problem but I don't have the knowledge to resolve this.</p>\n<p>I need to take a box inside an image to get a rectangle and use it in OpenCV, but Android use android.graphics.Rect and OpenCV expect a org.opencv.core.Rect and I'm trying a simple conversion, but the result is not good.</p>\n<pre><code>android.graphics.Rect(int left, int top, int right, int bottom)\n\norg.opencv.core.Rect(int x, int y, int width, int height)\n</code></pre>\n<p>I'm not finding wait is the representation of left top right and bottom, the documentation talks about &quot;side&quot; but I'm confused to convert from android to opencv</p>\n<p>Thank you.</p>\n"},{"tags":["java","maven-2","maven-assembly-plugin"],"answers":[{"tags":[],"owner":{"account_id":162408,"reputation":9549,"user_id":383838,"accept_rate":65,"display_name":"Jon Freedman"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1491436717,"creation_date":1282317405,"answer_id":3532265,"question_id":3532135,"body_markdown":"What you are referring to is called [filtering][1]\r\n\r\nYou need to enable filtering on a particular resource, and then use `${project.version}` which will be substituted as part of your build\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html","title":"Using maven to output the version number to a text file","body":"<p>What you are referring to is called <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"noreferrer\">filtering</a></p>\n\n<p>You need to enable filtering on a particular resource, and then use <code>${project.version}</code> which will be substituted as part of your build</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294226,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":1,"up_vote_count":109,"is_accepted":true,"score":108,"last_activity_date":1481670971,"creation_date":1282317490,"answer_id":3532280,"question_id":3532135,"body_markdown":"Sure. Create a text file somewhere in src/main/resources, call it `version.txt` (or whatever)\r\n\r\nFile content:\r\n\r\n    ${project.version}\r\n\r\nnow in your pom.xml, inside the build element, put this block:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;build&gt;\r\n      &lt;resources&gt;\r\n        &lt;resource&gt;\r\n          &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n          &lt;filtering&gt;true&lt;/filtering&gt;\r\n          &lt;includes&gt;\r\n            &lt;include&gt;**/version.txt&lt;/include&gt;\r\n          &lt;/includes&gt;\r\n        &lt;/resource&gt;\r\n        &lt;resource&gt;\r\n          &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n          &lt;filtering&gt;false&lt;/filtering&gt;\r\n          &lt;excludes&gt;\r\n            &lt;exclude&gt;**/version.txt&lt;/exclude&gt;\r\n          &lt;/excludes&gt;\r\n        &lt;/resource&gt;\r\n        ...\r\n      &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\nafter every build, the file (which you can find in target/classes) will contain the current version.\r\n\r\nNow if you want to move the file somewhere else automatically, you are probably going to need to execute an ant task via the [maven-antrun-plugin][1].\r\n\r\nSomething like this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n      &lt;build&gt;\r\n        ...\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n             &lt;version&gt;1.4&lt;/version&gt;\r\n             &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                &lt;configuration&gt;\r\n                   &lt;tasks&gt;\r\n                     &lt;copy file=&quot;${project.build.outputDirectory}/version.txt&quot;\r\n                       toFile=&quot;...&quot; overwrite=&quot;true&quot; /&gt;\r\n                  &lt;/tasks&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;run&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n       &lt;/plugins&gt;\r\n     &lt;/build&gt;\r\n\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-antrun-plugin/usage.html","title":"Using maven to output the version number to a text file","body":"<p>Sure. Create a text file somewhere in src/main/resources, call it <code>version.txt</code> (or whatever)</p>\n\n<p>File content:</p>\n\n<pre><code>${project.version}\n</code></pre>\n\n<p>now in your pom.xml, inside the build element, put this block:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;resources&gt;\n    &lt;resource&gt;\n      &lt;directory&gt;src/main/resources&lt;/directory&gt;\n      &lt;filtering&gt;true&lt;/filtering&gt;\n      &lt;includes&gt;\n        &lt;include&gt;**/version.txt&lt;/include&gt;\n      &lt;/includes&gt;\n    &lt;/resource&gt;\n    &lt;resource&gt;\n      &lt;directory&gt;src/main/resources&lt;/directory&gt;\n      &lt;filtering&gt;false&lt;/filtering&gt;\n      &lt;excludes&gt;\n        &lt;exclude&gt;**/version.txt&lt;/exclude&gt;\n      &lt;/excludes&gt;\n    &lt;/resource&gt;\n    ...\n  &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>after every build, the file (which you can find in target/classes) will contain the current version.</p>\n\n<p>Now if you want to move the file somewhere else automatically, you are probably going to need to execute an ant task via the <a href=\"http://maven.apache.org/plugins/maven-antrun-plugin/usage.html\" rel=\"noreferrer\">maven-antrun-plugin</a>.</p>\n\n<p>Something like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;build&gt;\n    ...\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n         &lt;version&gt;1.4&lt;/version&gt;\n         &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;process-resources&lt;/phase&gt;\n            &lt;configuration&gt;\n               &lt;tasks&gt;\n                 &lt;copy file=\"${project.build.outputDirectory}/version.txt\"\n                   toFile=\"...\" overwrite=\"true\" /&gt;\n              &lt;/tasks&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n   &lt;/plugins&gt;\n &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":791200,"reputation":79,"user_id":891289,"display_name":"DeusAquilus"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1427803283,"creation_date":1313132929,"answer_id":7036710,"question_id":3532135,"body_markdown":"You could also use a Groovy script to produce a version info file. I like this method more because you don&#39;t have to exclude stuff in the assembly-plugin&#39;s descriptor. You can also use this method to optionally include stuff only available if you are building from Jenkins/Hudson (e.g. check oug BUILD_ID etc...).\r\n\r\nSo you would have a file-generating groovy script in pom.xml like this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo.groovy&lt;/groupId&gt;\r\n        &lt;artifactId&gt;groovy-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-beta-3&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;execute&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;\r\n            &lt;![CDATA[\r\n            println(&quot;==== Creating version.txt ====&quot;);\r\n            File mainDir = new File(&quot;src/main&quot;);\r\n            if(mainDir.exists() &amp;&amp; !mainDir.isDirectory()) {\r\n                println(&quot;Main dir does not exist, wont create version.txt!&quot;);\r\n                return;\r\n            }\r\n            File confDir = new File(&quot;src/main/conf&quot;);\r\n            if(confDir.exists() &amp;&amp; !confDir.isDirectory()) {\r\n                println(&quot;Conf dir is not a directory, wont create version.txt!&quot;);\r\n                return;\r\n            }\r\n            if(!confDir.exists()) {\r\n                confDir.mkdir();\r\n            }\r\n            File versionFile = new File(&quot;src/main/conf/version.txt&quot;);\r\n            if(versionFile.exists() &amp;&amp; versionFile.isDirectory()) {\r\n                println(&quot;Version file exists and is directory! Wont overwrite&quot;);\r\n                return;\r\n            }\r\n            if(versionFile.exists() &amp;&amp; !versionFile.isDirectory()) {\r\n                println(&quot;Version file already exists, overwriting!&quot;);\r\n            }\r\n            println(&quot;Creating Version File&quot;);\r\n            BufferedWriter writer = new BufferedWriter(new FileWriter(versionFile));\r\n\r\n            writer.write(&quot;groupId = ${project.groupId}&quot;);\r\n            writer.newLine();\r\n            writer.write(&quot;artifactId = ${project.artifactId}&quot;);\r\n            writer.newLine();\r\n            writer.write(&quot;version = ${project.version}&quot;);\r\n            writer.newLine();\r\n            writer.write(&quot;timestamp = ${maven.build.timestamp}&quot;);\r\n\r\n            String buildTag = &quot;&quot;;\r\n            String buildNumber = &quot;&quot;;\r\n            String buildId = &quot;&quot;;\r\n            try {\r\n                buildTag = &quot;${BUILD_TAG}&quot;;\r\n                buildNumber = &quot;${BUILD_NUMBER}&quot;;\r\n                buildId = &quot;${BUILD_ID}&quot;;\r\n\r\n                writer.write(&quot;BUILD_TAG = &quot; + buildTag + &quot;\\n&quot;);\r\n                writer.write(&quot;BUILD_NUMBER = &quot; + buildNumber + &quot;\\n&quot;);\r\n                writer.write(&quot;BUILD_ID = &quot; + buildId + &quot;\\n&quot;);\r\n\r\n            } catch (Exception e) {\r\n                println(&quot;============= Could not find BUILD_TAG probably this is not a Jenkins/Hudson build ===========&quot;);\r\n            }\r\n\r\n            writer.close();\r\n            ]]&gt;\r\n              &lt;/source&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n\r\nAnd then your assembly plugin plugin in pom.xml that would look like this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.1&lt;/version&gt;\r\n        &lt;!-- Produce the all-dependencies-included jar for java classloaders --&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;all&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n              &lt;descriptors&gt;\r\n                &lt;descriptor&gt;dist-all.xml&lt;/descriptor&gt;\r\n              &lt;/descriptors&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n\r\nAnd finally your assembly descriptor dist-all.xml would look like this:\r\n\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;assembly&gt;\r\n\t  &lt;id&gt;all&lt;/id&gt;\r\n\t  &lt;formats&gt;\r\n\t\t&lt;format&gt;dir&lt;/format&gt;\r\n\t\t&lt;format&gt;zip&lt;/format&gt;\r\n\t  &lt;/formats&gt;\r\n\t  &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n\t  &lt;fileSets&gt;\r\n\t\t&lt;fileSet&gt;\r\n\t\t  &lt;directory&gt;target&lt;/directory&gt;\r\n\t\t  &lt;outputDirectory&gt;&lt;/outputDirectory&gt;\r\n\t\t  &lt;includes&gt;\r\n\t\t\t&lt;include&gt;*.jar&lt;/include&gt;\r\n\t\t  &lt;/includes&gt;\r\n\t\t&lt;/fileSet&gt;\r\n\t\t&lt;fileSet&gt;\r\n\t\t  &lt;directory&gt;src/main/conf&lt;/directory&gt;\r\n\t\t  &lt;outputDirectory&gt;&lt;/outputDirectory&gt;\r\n\t\t  &lt;includes&gt;\r\n\t\t\t&lt;include&gt;**&lt;/include&gt;\r\n\t\t  &lt;/includes&gt;\r\n\t\t&lt;/fileSet&gt;\r\n\t  &lt;/fileSets&gt;\r\n\t&lt;/assembly&gt;","title":"Using maven to output the version number to a text file","body":"<p>You could also use a Groovy script to produce a version info file. I like this method more because you don't have to exclude stuff in the assembly-plugin's descriptor. You can also use this method to optionally include stuff only available if you are building from Jenkins/Hudson (e.g. check oug BUILD_ID etc...).</p>\n\n<p>So you would have a file-generating groovy script in pom.xml like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo.groovy&lt;/groupId&gt;\n    &lt;artifactId&gt;groovy-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0-beta-3&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;test&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;execute&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;\n        &lt;![CDATA[\n        println(\"==== Creating version.txt ====\");\n        File mainDir = new File(\"src/main\");\n        if(mainDir.exists() &amp;&amp; !mainDir.isDirectory()) {\n            println(\"Main dir does not exist, wont create version.txt!\");\n            return;\n        }\n        File confDir = new File(\"src/main/conf\");\n        if(confDir.exists() &amp;&amp; !confDir.isDirectory()) {\n            println(\"Conf dir is not a directory, wont create version.txt!\");\n            return;\n        }\n        if(!confDir.exists()) {\n            confDir.mkdir();\n        }\n        File versionFile = new File(\"src/main/conf/version.txt\");\n        if(versionFile.exists() &amp;&amp; versionFile.isDirectory()) {\n            println(\"Version file exists and is directory! Wont overwrite\");\n            return;\n        }\n        if(versionFile.exists() &amp;&amp; !versionFile.isDirectory()) {\n            println(\"Version file already exists, overwriting!\");\n        }\n        println(\"Creating Version File\");\n        BufferedWriter writer = new BufferedWriter(new FileWriter(versionFile));\n\n        writer.write(\"groupId = ${project.groupId}\");\n        writer.newLine();\n        writer.write(\"artifactId = ${project.artifactId}\");\n        writer.newLine();\n        writer.write(\"version = ${project.version}\");\n        writer.newLine();\n        writer.write(\"timestamp = ${maven.build.timestamp}\");\n\n        String buildTag = \"\";\n        String buildNumber = \"\";\n        String buildId = \"\";\n        try {\n            buildTag = \"${BUILD_TAG}\";\n            buildNumber = \"${BUILD_NUMBER}\";\n            buildId = \"${BUILD_ID}\";\n\n            writer.write(\"BUILD_TAG = \" + buildTag + \"\\n\");\n            writer.write(\"BUILD_NUMBER = \" + buildNumber + \"\\n\");\n            writer.write(\"BUILD_ID = \" + buildId + \"\\n\");\n\n        } catch (Exception e) {\n            println(\"============= Could not find BUILD_TAG probably this is not a Jenkins/Hudson build ===========\");\n        }\n\n        writer.close();\n        ]]&gt;\n          &lt;/source&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>And then your assembly plugin plugin in pom.xml that would look like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.2.1&lt;/version&gt;\n    &lt;!-- Produce the all-dependencies-included jar for java classloaders --&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;all&lt;/id&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;single&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n          &lt;descriptors&gt;\n            &lt;descriptor&gt;dist-all.xml&lt;/descriptor&gt;\n          &lt;/descriptors&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>And finally your assembly descriptor dist-all.xml would look like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;assembly&gt;\n  &lt;id&gt;all&lt;/id&gt;\n  &lt;formats&gt;\n    &lt;format&gt;dir&lt;/format&gt;\n    &lt;format&gt;zip&lt;/format&gt;\n  &lt;/formats&gt;\n  &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n  &lt;fileSets&gt;\n    &lt;fileSet&gt;\n      &lt;directory&gt;target&lt;/directory&gt;\n      &lt;outputDirectory&gt;&lt;/outputDirectory&gt;\n      &lt;includes&gt;\n        &lt;include&gt;*.jar&lt;/include&gt;\n      &lt;/includes&gt;\n    &lt;/fileSet&gt;\n    &lt;fileSet&gt;\n      &lt;directory&gt;src/main/conf&lt;/directory&gt;\n      &lt;outputDirectory&gt;&lt;/outputDirectory&gt;\n      &lt;includes&gt;\n        &lt;include&gt;**&lt;/include&gt;\n      &lt;/includes&gt;\n    &lt;/fileSet&gt;\n  &lt;/fileSets&gt;\n&lt;/assembly&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1383073445,"creation_date":1362971384,"answer_id":15330577,"question_id":3532135,"body_markdown":"Use standard `META-INF\\MANIFEST.MF` (Then you can use Java code `getClass().getPackage().getImplementationVersion()` to get version)\r\n\r\nFor .war use this configuration:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;archive&gt;                   \r\n                &lt;manifest&gt;\r\n                    &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                    &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n                &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThat will add manifest during build, or you can call `mvn war:manifest`\r\n\r\nSee also https://stackoverflow.com/questions/14934299/how-to-get-package-version-at-running-tomcat","title":"Using maven to output the version number to a text file","body":"<p>Use standard <code>META-INF\\MANIFEST.MF</code> (Then you can use Java code <code>getClass().getPackage().getImplementationVersion()</code> to get version)</p>\n\n<p>For .war use this configuration:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;                   \n            &lt;manifest&gt;\n                &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>That will add manifest during build, or you can call <code>mvn war:manifest</code></p>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/14934299/how-to-get-package-version-at-running-tomcat\">How to get package version at running Tomcat?</a></p>\n"},{"tags":[],"owner":{"account_id":260404,"reputation":863,"user_id":1102730,"accept_rate":75,"display_name":"ekangas"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1495702344,"creation_date":1435703707,"answer_id":31149696,"question_id":3532135,"body_markdown":"in Maven 3, Use [Sean&#39;s answer][1] to create your `version.txt` file, (mine is shown here, along with build date and active profile):\r\n\r\n    ${project.version}-${profileID}\r\n    ${buildDate}\r\n\r\nadding property `profileID` to each of the profiles, e.g.:\r\n\r\n   \r\n\r\n    &lt;properties&gt;\r\n    \t&lt;profileID&gt;profileName&lt;/profileID&gt;\r\n    &lt;/properties&gt;\r\n\r\n Use Maven copy-resources to copy the file to an easier to reach directory such as `${basedir}` or `${basedir}/target`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;copy-resources&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t    &lt;outputDirectory&gt;${basedir}&lt;/outputDirectory&gt;\r\n\t\t\t        &lt;resources&gt;\r\n\t\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t\t&lt;directory&gt;${basedir}/target/.../[version.txt dir]/version.txt&lt;/directory&gt;\r\n\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t&lt;include&gt;version.txt&lt;/include&gt;\r\n\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t\t&lt;/resources&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\noutput looks like this:\r\n\r\n    1.2.3-profileName\r\n    yymmdd_hhmm\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3532280/1102730","title":"Using maven to output the version number to a text file","body":"<p>in Maven 3, Use <a href=\"https://stackoverflow.com/a/3532280/1102730\">Sean's answer</a> to create your <code>version.txt</code> file, (mine is shown here, along with build date and active profile):</p>\n\n<pre><code>${project.version}-${profileID}\n${buildDate}\n</code></pre>\n\n<p>adding property <code>profileID</code> to each of the profiles, e.g.:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;profileID&gt;profileName&lt;/profileID&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>Use Maven copy-resources to copy the file to an easier to reach directory such as <code>${basedir}</code> or <code>${basedir}/target</code>:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;copy-resources&lt;/id&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${basedir}&lt;/outputDirectory&gt;\n                &lt;resources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;${basedir}/target/.../[version.txt dir]/version.txt&lt;/directory&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;version.txt&lt;/include&gt;\n                        &lt;/includes&gt;\n                        &lt;filtering&gt;true&lt;/filtering&gt;\n                    &lt;/resource&gt;\n                &lt;/resources&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>output looks like this:</p>\n\n<pre><code>1.2.3-profileName\nyymmdd_hhmm\n</code></pre>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44636,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492947159,"creation_date":1492947159,"answer_id":43570605,"question_id":3532135,"body_markdown":"One possibility is to store all project properties to the built `.jar` using `maven-properties-plugin`.  \r\nThen you can read these properties using standard (though not too practical) [Java Properties API](https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html).\r\n\r\n            &lt;!-- Build properties to a file --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                        &lt;goals&gt; &lt;goal&gt;write-project-properties&lt;/goal&gt; &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputFile&gt; ${project.build.outputDirectory}/build.properties &lt;/outputFile&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nBe careful with this approach as it may leak properties that are not supposed to end up published, also from `settings.xml`.","title":"Using maven to output the version number to a text file","body":"<p>One possibility is to store all project properties to the built <code>.jar</code> using <code>maven-properties-plugin</code>.<br>\nThen you can read these properties using standard (though not too practical) <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html\" rel=\"nofollow noreferrer\">Java Properties API</a>.</p>\n\n<pre><code>        &lt;!-- Build properties to a file --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;goals&gt; &lt;goal&gt;write-project-properties&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputFile&gt; ${project.build.outputDirectory}/build.properties &lt;/outputFile&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>Be careful with this approach as it may leak properties that are not supposed to end up published, also from <code>settings.xml</code>.</p>\n"},{"tags":[],"owner":{"account_id":5067479,"reputation":1,"user_id":4067204,"display_name":"learmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499157880,"creation_date":1499157880,"answer_id":44901180,"question_id":3532135,"body_markdown":"To add to Sean&#39;s answer, you can move the version file to a folder location within the jar by using the targetpath parameter within resource. The following code creates a folder called &#39;resources&#39; within the jar and the text file (version.number) is found in that folder. \r\n\r\n    &lt;resource&gt;\r\n        &lt;directory&gt;resources&lt;/directory&gt;\r\n        &lt;targetPath&gt;resources&lt;/targetPath&gt;\r\n        &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;version.number&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n    &lt;/resource&gt;\r\n    &lt;resource&gt;\r\n        &lt;directory&gt;resources&lt;/directory&gt;\r\n        &lt;filtering&gt;false&lt;/filtering&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;version.number&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n    &lt;/resource&gt;\r\n\r\n","title":"Using maven to output the version number to a text file","body":"<p>To add to Sean's answer, you can move the version file to a folder location within the jar by using the targetpath parameter within resource. The following code creates a folder called 'resources' within the jar and the text file (version.number) is found in that folder. </p>\n\n<pre><code>&lt;resource&gt;\n    &lt;directory&gt;resources&lt;/directory&gt;\n    &lt;targetPath&gt;resources&lt;/targetPath&gt;\n    &lt;filtering&gt;true&lt;/filtering&gt;\n    &lt;includes&gt;\n        &lt;include&gt;version.number&lt;/include&gt;\n    &lt;/includes&gt;\n&lt;/resource&gt;\n&lt;resource&gt;\n    &lt;directory&gt;resources&lt;/directory&gt;\n    &lt;filtering&gt;false&lt;/filtering&gt;\n    &lt;excludes&gt;\n        &lt;exclude&gt;version.number&lt;/exclude&gt;\n    &lt;/excludes&gt;\n&lt;/resource&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9622625,"reputation":153,"user_id":7152033,"display_name":"Dr.Octoboz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1499724322,"creation_date":1499724322,"answer_id":45022371,"question_id":3532135,"body_markdown":"I just did this with an ant task.\r\n\r\n    &lt;echo file=&quot;version.txt&quot;&gt;${project.version}&lt;/echo&gt;","title":"Using maven to output the version number to a text file","body":"<p>I just did this with an ant task.</p>\n\n<pre><code>&lt;echo file=\"version.txt\"&gt;${project.version}&lt;/echo&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1376086,"reputation":824,"user_id":1310063,"display_name":"Gambotic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542023249,"creation_date":1542023249,"answer_id":53261521,"question_id":3532135,"body_markdown":"I prefer the [write-properties-file-maven-plugin][1], because I don&#39;t want all maven-project-properties in one file:\r\n\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.internetitem&lt;/groupId&gt;\r\n        &lt;artifactId&gt;write-properties-file-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;one&lt;/id&gt;\r\n            &lt;phase&gt;compile&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;write-properties-file&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;filename&gt;test.properties&lt;/filename&gt;\r\n              &lt;properties&gt;\r\n                &lt;property&gt;\r\n                  &lt;name&gt;one&lt;/name&gt;\r\n                  &lt;value&gt;1&lt;/value&gt;\r\n                &lt;/property&gt;\r\n                &lt;property&gt;\r\n                  &lt;name&gt;artifactId&lt;/name&gt;\r\n                  &lt;value&gt;My Artifact ID is ${project.artifactId}&lt;/value&gt;\r\n                &lt;/property&gt;\r\n              &lt;/properties&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://github.com/internetitem/write-properties-file-maven-plugin","title":"Using maven to output the version number to a text file","body":"<p>I prefer the <a href=\"https://github.com/internetitem/write-properties-file-maven-plugin\" rel=\"nofollow noreferrer\">write-properties-file-maven-plugin</a>, because I don't want all maven-project-properties in one file:</p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;com.internetitem&lt;/groupId&gt;\n    &lt;artifactId&gt;write-properties-file-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;one&lt;/id&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;write-properties-file&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;filename&gt;test.properties&lt;/filename&gt;\n          &lt;properties&gt;\n            &lt;property&gt;\n              &lt;name&gt;one&lt;/name&gt;\n              &lt;value&gt;1&lt;/value&gt;\n            &lt;/property&gt;\n            &lt;property&gt;\n              &lt;name&gt;artifactId&lt;/name&gt;\n              &lt;value&gt;My Artifact ID is ${project.artifactId}&lt;/value&gt;\n            &lt;/property&gt;\n          &lt;/properties&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5891964,"reputation":141,"user_id":4638287,"display_name":"Vuong Ly"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1542294476,"creation_date":1542294476,"answer_id":53322383,"question_id":3532135,"body_markdown":"For a Spring Boot application, follow the accepted answer from above however substituting\r\n\r\n    ${project.version}\r\n\r\nwith\r\n \r\n    @project.version@\r\n\r\nHere&#39;s the link to the documentation https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.3-Release-Notes#maven-resources-filtering","title":"Using maven to output the version number to a text file","body":"<p>For a Spring Boot application, follow the accepted answer from above however substituting</p>\n\n<pre><code>${project.version}\n</code></pre>\n\n<p>with</p>\n\n<pre><code>@project.version@\n</code></pre>\n\n<p>Here's the link to the documentation <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.3-Release-Notes#maven-resources-filtering\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.3-Release-Notes#maven-resources-filtering</a></p>\n"},{"tags":[],"owner":{"account_id":8262944,"reputation":677,"user_id":6213626,"display_name":"chashikajw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584098914,"creation_date":1584073626,"answer_id":60664852,"question_id":3532135,"body_markdown":"you can use the maven-antrun-plugin and regex expressions to input the version into the file.\r\nPS: version.txt file content is any string ex:version.\r\n\r\n   \r\n\r\n     ...\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n             &lt;version&gt;1.4&lt;/version&gt;\r\n             &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                 &lt;goal&gt;run&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                   &lt;target&gt;\r\n                     &lt;replaceregexp file=&quot;resources/version.txt&quot; match=&quot;.*&quot; replace=&quot;${project.version}&quot; byline=&quot;true&quot; /&gt;\r\n                  &lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n       &lt;/plugins&gt;\r\n\r\n \r\n\r\n ","title":"Using maven to output the version number to a text file","body":"<p>you can use the maven-antrun-plugin and regex expressions to input the version into the file.\nPS: version.txt file content is any string ex:version.</p>\n\n<pre><code> ...\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n         &lt;version&gt;1.4&lt;/version&gt;\n         &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;process-resources&lt;/phase&gt;\n            &lt;goals&gt;\n             &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n               &lt;target&gt;\n                 &lt;replaceregexp file=\"resources/version.txt\" match=\".*\" replace=\"${project.version}\" byline=\"true\" /&gt;\n              &lt;/target&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n   &lt;/plugins&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1901662,"reputation":1900,"user_id":1717405,"display_name":"AlphaBetaGamma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609146495,"creation_date":1609146495,"answer_id":65475226,"question_id":3532135,"body_markdown":"Adding below plugin in pom.xml worked for me. This is a combination of above answers only:-\r\n\r\n    &lt;project&gt;\r\n      [...]\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;target&gt;&lt;echo file=&quot;version.txt&quot;&gt;${project.version}&lt;/echo&gt; &lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;run&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      [...]","title":"Using maven to output the version number to a text file","body":"<p>Adding below plugin in pom.xml worked for me. This is a combination of above answers only:-</p>\n<pre><code>&lt;project&gt;\n  [...]\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;configuration&gt;\n              &lt;target&gt;&lt;echo file=&quot;version.txt&quot;&gt;${project.version}&lt;/echo&gt; &lt;/target&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  [...]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4671133,"reputation":2018,"user_id":3782904,"accept_rate":62,"display_name":"thi gg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701863953,"creation_date":1650446620,"answer_id":71937196,"question_id":3532135,"body_markdown":"Just use the maven-help-plugin. The version will be in `target/version.txt` (or whatever build directory you are using)\r\n\r\n```\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n     &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;generate-version-file&lt;/id&gt;\r\n                &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;evaluate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;expression&gt;project.version&lt;/expression&gt;\r\n                    &lt;output&gt;${project.build.directory}/version.txt&lt;/output&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n```\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66669347/3782904","title":"Using maven to output the version number to a text file","body":"<p>Just use the maven-help-plugin. The version will be in <code>target/version.txt</code> (or whatever build directory you are using)</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n     &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;generate-version-file&lt;/id&gt;\n                &lt;phase&gt;prepare-package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;evaluate&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;expression&gt;project.version&lt;/expression&gt;\n                    &lt;output&gt;${project.build.directory}/version.txt&lt;/output&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/66669347/3782904\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":16677053,"reputation":214,"user_id":12053194,"display_name":"Roobal Jindal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687512279,"creation_date":1687512279,"answer_id":76538740,"question_id":3532135,"body_markdown":"Create version.txt with following content in /src/version.txt\r\n\r\n    Build version: ${project.version}\r\n\r\nUse assembly plugin and add step in dist.xml with filtering=true\r\n\r\n    &lt;files&gt;\r\n        &lt;file&gt;\r\n        \t&lt;source&gt;${basedir}/src/version.txt&lt;/source&gt;\r\n        \t&lt;outputDirectory&gt;${root.dist.folder}&lt;/outputDirectory&gt;\r\n        \t&lt;filtered&gt;true&lt;/filtered&gt;\r\n       &lt;/file&gt;\r\n    &lt;/files&gt;","title":"Using maven to output the version number to a text file","body":"<p>Create version.txt with following content in /src/version.txt</p>\n<pre><code>Build version: ${project.version}\n</code></pre>\n<p>Use assembly plugin and add step in dist.xml with filtering=true</p>\n<pre><code>&lt;files&gt;\n    &lt;file&gt;\n        &lt;source&gt;${basedir}/src/version.txt&lt;/source&gt;\n        &lt;outputDirectory&gt;${root.dist.folder}&lt;/outputDirectory&gt;\n        &lt;filtered&gt;true&lt;/filtered&gt;\n   &lt;/file&gt;\n&lt;/files&gt;\n</code></pre>\n"}],"owner":{"account_id":188005,"reputation":1242,"user_id":426469,"display_name":"sanz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96770,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":3532280,"answer_count":14,"score":76,"last_activity_date":1701863953,"creation_date":1282316635,"question_id":3532135,"body_markdown":"I want to generate a zip file that will update an application with maven. The zip will be hosted on a server and I am using the assembly plugin to generate the zip. However I would like maven to automatically generate a text file that stores the current version number outside the zip. How is this possible?\r\n\r\nEDIT:\r\nI successfully did it using the maven Assembly Plugin and two descriptors to create two custom assemblies. One has a directory-single goal and it just creates a folder with the updated version.txt based on filtering. Then another one with a single goal actually packages the zip file. This seems to be very inelegant and I guess it will not properly update the maven repo with the whole updated folder. If there is a better way to do this, please let me know.","title":"Using maven to output the version number to a text file","body":"<p>I want to generate a zip file that will update an application with maven. The zip will be hosted on a server and I am using the assembly plugin to generate the zip. However I would like maven to automatically generate a text file that stores the current version number outside the zip. How is this possible?</p>\n\n<p>EDIT:\nI successfully did it using the maven Assembly Plugin and two descriptors to create two custom assemblies. One has a directory-single goal and it just creates a folder with the updated version.txt based on filtering. Then another one with a single goal actually packages the zip file. This seems to be very inelegant and I guess it will not properly update the maven repo with the whole updated folder. If there is a better way to do this, please let me know.</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701865109,"post_id":77612846,"comment_id":136827398,"body_markdown":"Let me guess using Spring Boot 3.x and import `javax.persistence` dependencies in your entities? Also if you are using Spring BOot using the `sf.openSession` is wrong. Just inject the `EntityManager` (the JPA equivalent of the `Session`) and use `@Transactional` for transactions).","body":"Let me guess using Spring Boot 3.x and import <code>javax.persistence</code> dependencies in your entities? Also if you are using Spring BOot using the <code>sf.openSession</code> is wrong. Just inject the <code>EntityManager</code> (the JPA equivalent of the <code>Session</code>) and use <code>@Transactional</code> for transactions)."},{"owner":{"account_id":22894765,"reputation":138,"user_id":17034442,"display_name":"Myrto Pirli"},"score":0,"creation_date":1701865354,"post_id":77612846,"comment_id":136827441,"body_markdown":"Yes I am using javax.persistence dependencies. What am I supposed to use instead? Unfortunately the guides I&#39;ve found just mention the name of the annotation, not the library where it&#39;s found.","body":"Yes I am using javax.persistence dependencies. What am I supposed to use instead? Unfortunately the guides I&#39;ve found just mention the name of the annotation, not the library where it&#39;s found."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701865447,"post_id":77612846,"comment_id":136827457,"body_markdown":"If you are using Sprnig Boot 3, remove the dependency that is pulling that in (you added it yourself). You should be using annotation/classes from `jakarta.persistence` instead.","body":"If you are using Sprnig Boot 3, remove the dependency that is pulling that in (you added it yourself). You should be using annotation/classes from <code>jakarta.persistence</code> instead."}],"owner":{"account_id":22894765,"reputation":138,"user_id":17034442,"display_name":"Myrto Pirli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701863701,"creation_date":1701863701,"question_id":77612846,"body_markdown":"I am trying to implement a REST service with Spring Boot and Hibernate, and a MariaDB database. My class is\r\n\r\n    @Entity\r\n    @Table(name=&quot;car&quot;)\r\n    public class Car {\r\n        @Id\r\n        @GeneratedValue\r\n        private int id;\r\n        private String licensePlate;\r\n    }\r\n\r\nThe function that runs the query:\r\n\r\n    public List&lt;Car&gt; findAll(){\r\n            List&lt;Car&gt; carList;\r\n            Session session = sf.openSession();\r\n            \r\n            try {\r\n                session.beginTransaction();\r\n                \r\n                carList = session.createSelectionQuery(&quot;from Car&quot;, Car.class).list();\r\n                \r\n                session.getTransaction().commit();\r\n            } catch (Exception ex){\r\n                session.getTransaction().rollback();;\r\n                throw(ex);\r\n            } finally {\r\n                session.close();\r\n            }\r\n    \r\n            return carList;\r\n        }\r\n\r\nEvery time I try to run the programme, I get a &quot;org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity &#39;Car&#39;&quot;. I have tried changing &quot;from Car&quot; to &quot;from car&quot;, to &quot;from com.pirli.cars_spring.models.Car&quot; to no avail. I have added `@EntityScan(&quot;com.pirli.cars_spring.models&quot;)`\r\nto my application, still the same exception. I had initially tried to do the mapping via an hbm.xml file instead of annotations, but I kept getting the same error. Any help appreciated.","title":"Spring Boot and Hibernate, getting org.hibernate.query.sqm.UnknownEntityException","body":"<p>I am trying to implement a REST service with Spring Boot and Hibernate, and a MariaDB database. My class is</p>\n<pre><code>@Entity\n@Table(name=&quot;car&quot;)\npublic class Car {\n    @Id\n    @GeneratedValue\n    private int id;\n    private String licensePlate;\n}\n</code></pre>\n<p>The function that runs the query:</p>\n<pre><code>public List&lt;Car&gt; findAll(){\n        List&lt;Car&gt; carList;\n        Session session = sf.openSession();\n        \n        try {\n            session.beginTransaction();\n            \n            carList = session.createSelectionQuery(&quot;from Car&quot;, Car.class).list();\n            \n            session.getTransaction().commit();\n        } catch (Exception ex){\n            session.getTransaction().rollback();;\n            throw(ex);\n        } finally {\n            session.close();\n        }\n\n        return carList;\n    }\n</code></pre>\n<p>Every time I try to run the programme, I get a &quot;org.hibernate.query.sqm.UnknownEntityException: Could not resolve root entity 'Car'&quot;. I have tried changing &quot;from Car&quot; to &quot;from car&quot;, to &quot;from com.pirli.cars_spring.models.Car&quot; to no avail. I have added <code>@EntityScan(&quot;com.pirli.cars_spring.models&quot;)</code>\nto my application, still the same exception. I had initially tried to do the mapping via an hbm.xml file instead of annotations, but I kept getting the same error. Any help appreciated.</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1564619712,"post_id":57300379,"comment_id":101094428,"body_markdown":"The alternate approach is to make `A#foo()` final and provide an override hook that it calls. (This is precisely what _should_ have been done in Android.)","body":"The alternate approach is to make <code>A#foo()</code> final and provide an override hook that it calls. (This is precisely what <i>should</i> have been done in Android.)"},{"owner":{"account_id":12921679,"reputation":187,"user_id":9343912,"display_name":"BanePig"},"score":1,"creation_date":1564620019,"post_id":57300379,"comment_id":101094478,"body_markdown":"oops, it&#39;s actually supposed to be final already. The child class will see it has been called by overriding A#onFoo() instead.","body":"oops, it&#39;s actually supposed to be final already. The child class will see it has been called by overriding A#onFoo() instead."},{"owner":{"account_id":1472818,"reputation":3699,"user_id":1383932,"display_name":"fiveelements"},"score":0,"creation_date":1564620077,"post_id":57300379,"comment_id":101094488,"body_markdown":"Why not having `onFoo() `in all 3 classes in the hierarchy and chain the method call using `super.onFoo()` from C and B. Note that even though `foo()` is defined in A the concrete instance exists for C only and in that case `onFoo()` execution will start from C, then go to B and then A. There is no need to make `onFoo()` abstract in A. If A and B can be concrete classes then the scenario would be different.","body":"Why not having <code>onFoo() </code>in all 3 classes in the hierarchy and chain the method call using <code>super.onFoo()</code> from C and B. Note that even though <code>foo()</code> is defined in A the concrete instance exists for C only and in that case <code>onFoo()</code> execution will start from C, then go to B and then A. There is no need to make <code>onFoo()</code> abstract in A. If A and B can be concrete classes then the scenario would be different."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":5,"creation_date":1564620360,"post_id":57300379,"comment_id":101094543,"body_markdown":"By the way, the accumulative steps _sounds_ like this is a misdesign; it might not be, but perhaps the whole thing is better off as a Chain of Responsibility or Composite.","body":"By the way, the accumulative steps <i>sounds</i> like this is a misdesign; it might not be, but perhaps the whole thing is better off as a Chain of Responsibility or Composite."},{"owner":{"account_id":12921679,"reputation":187,"user_id":9343912,"display_name":"BanePig"},"score":0,"creation_date":1564620421,"post_id":57300379,"comment_id":101094557,"body_markdown":"Calling super.onFoo() in a chain (or probably get rid of it and just use super.foo()) would work, however it would require that someone looks at the documentation or they may find an error without an exception. It&#39;s for sure the cleanest way to do it, but it seems like it may cause some invisible errors without some way to check if the parent functions have been called. Also, in my case A and B cannot be concrete classes.","body":"Calling super.onFoo() in a chain (or probably get rid of it and just use super.foo()) would work, however it would require that someone looks at the documentation or they may find an error without an exception. It&#39;s for sure the cleanest way to do it, but it seems like it may cause some invisible errors without some way to check if the parent functions have been called. Also, in my case A and B cannot be concrete classes."},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1692791284,"post_id":57300379,"comment_id":135671726,"body_markdown":"@chrylis-cautiouslyoptimistic- inheritance hierarchy deeper than 1 level is not that rare and certainly not something bad per se. As the example given in the OP is intentionally abstract, it is **impossible** to say whether a composite or chain would be better. There certainly are situations where inheritance of more than 1 level is the right choice and since java does not have a built-in mechanism to ensure super invocation, accumulating handlers is IMO quite an elegant way to ensure no logic gets lost in action.","body":"@chrylis-cautiouslyoptimistic- inheritance hierarchy deeper than 1 level is not that rare and certainly not something bad per se. As the example given in the OP is intentionally abstract, it is <b>impossible</b> to say whether a composite or chain would be better. There certainly are situations where inheritance of more than 1 level is the right choice and since java does not have a built-in mechanism to ensure super invocation, accumulating handlers is IMO quite an elegant way to ensure no logic gets lost in action."}],"answers":[{"tags":[],"owner":{"account_id":14583345,"reputation":4337,"user_id":10533011,"display_name":"Donat"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1564784509,"creation_date":1564784509,"answer_id":57334037,"question_id":57300379,"body_markdown":"What about this by calling the super method?\r\n\r\n    class A {\r\n      void foo() {\r\n        System.out.println(&quot;Some stuff here&quot;);\r\n      }\r\n    }\r\n  \r\n    class B extends A {\r\n      @Override\r\n      void foo() {\r\n        super.foo();\r\n        System.out.println(&quot;More stuff here&quot;);\r\n      }\r\n    }\r\n  \r\n    class C extends B {\r\n      @Override\r\n      void foo() {\r\n        super.foo();\r\n        System.out.println(&quot;Even more stuff here&quot;);\r\n      }\r\n    }\r\n","title":"How to force derived class to call super class method at multiple layers?","body":"<p>What about this by calling the super method?</p>\n\n<pre><code>class A {\n  void foo() {\n    System.out.println(\"Some stuff here\");\n  }\n}\n\nclass B extends A {\n  @Override\n  void foo() {\n    super.foo();\n    System.out.println(\"More stuff here\");\n  }\n}\n\nclass C extends B {\n  @Override\n  void foo() {\n    super.foo();\n    System.out.println(\"Even more stuff here\");\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1188690,"reputation":6496,"user_id":1162077,"accept_rate":80,"display_name":"David Osborne"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1589789685,"creation_date":1589789685,"answer_id":61865242,"question_id":57300379,"body_markdown":"Have you considered the [Template Method](https://sourcemaking.com/design_patterns/template_method) pattern? It works well to define a high level method that delegates to derived types to fill-in the gaps.","title":"How to force derived class to call super class method at multiple layers?","body":"<p>Have you considered the <a href=\"https://sourcemaking.com/design_patterns/template_method\" rel=\"nofollow noreferrer\">Template Method</a> pattern? It works well to define a high level method that delegates to derived types to fill-in the gaps.</p>\n"},{"tags":[],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692723938,"creation_date":1692708973,"answer_id":76953555,"question_id":57300379,"body_markdown":"I really like the idea of accumulating handlers from the OP!  \r\nMy approach so far was to define a public inner class with a private constructor in my given base class and then use it as a return type of the method that was supposed to be overridden in subclasses:\r\n```java\r\npublic class Base {\r\n\r\n    public static class SuperEnforcer {\r\n        private SuperEnforcer() {}\r\n    }\r\n\r\n    @Nonnull\r\n    protected SuperEnforcer methodToOverrideInSubclasses() {\r\n        // do Base stuff here...\r\n        return new SuperEnforcer();\r\n    }\r\n}\r\n```\r\nThis way regardless how many levels of inheritance there are, each subsequent subclass must call `super.methodToOverrideInSubclasses()` to obtain an instance of `SuperEnforcer` to return it at the end.\r\nThis also gives subclasses a freedom to decide at which point of their implementation to call `super.methodToOverrideInSubclasses()` (with &quot;handler&quot; approach this can be also achieved by providing `addHeadFooHandler(fooHandler)` and `addTailFooHandler(fooHandler)`).  \r\nUnfortunately, it is still possible to return `null`, but this can now be statically checked with `@Nonnull`.","title":"How to force derived class to call super class method at multiple layers?","body":"<p>I really like the idea of accumulating handlers from the OP!<br />\nMy approach so far was to define a public inner class with a private constructor in my given base class and then use it as a return type of the method that was supposed to be overridden in subclasses:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Base {\n\n    public static class SuperEnforcer {\n        private SuperEnforcer() {}\n    }\n\n    @Nonnull\n    protected SuperEnforcer methodToOverrideInSubclasses() {\n        // do Base stuff here...\n        return new SuperEnforcer();\n    }\n}\n</code></pre>\n<p>This way regardless how many levels of inheritance there are, each subsequent subclass must call <code>super.methodToOverrideInSubclasses()</code> to obtain an instance of <code>SuperEnforcer</code> to return it at the end.\nThis also gives subclasses a freedom to decide at which point of their implementation to call <code>super.methodToOverrideInSubclasses()</code> (with &quot;handler&quot; approach this can be also achieved by providing <code>addHeadFooHandler(fooHandler)</code> and <code>addTailFooHandler(fooHandler)</code>).<br />\nUnfortunately, it is still possible to return <code>null</code>, but this can now be statically checked with <code>@Nonnull</code>.</p>\n"},{"tags":[],"owner":{"account_id":29844919,"reputation":36,"user_id":22872208,"display_name":"Tianhong Yu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701862509,"creation_date":1701862509,"answer_id":77612706,"question_id":57300379,"body_markdown":"Inspired by the Decorator pattern.\r\n\r\nThe advantage is that \r\n1. Every child class **must** call super class&#39;s constructor and decide which class I&#39;m going to decorate.\r\n2. Every child class **must** override `afterFoo()` method, because it&#39;s abstract.\r\n3. Every child class only need to focuse on **the same** method which is `afterFoo()`, not `afterAfterFoo()`, `afterAfterAfterFoo()`, ...\r\n\r\n```java\r\nclass A {\r\n    protected A() {}\r\n    public void foo() {\r\n        // Some stuff here\r\n    }\r\n}\r\n\r\nabstract class ADecorator extends A {\r\n    protected final A a;\r\n    public ADecorator(A a) {\r\n        this.a = a;\r\n    }\r\n    @Override\r\n    public final void foo() {\r\n        a.foo();\r\n        afterFoo();\r\n    }\r\n\r\n    protected abstract void afterFoo();\r\n}\r\n\r\nclass B extends ADecorator {\r\n    protected B() {\r\n        super(new A());\r\n    }\r\n    @Override\r\n    protected void afterFoo() {\r\n        // More stuff here\r\n    }\r\n}\r\n\r\nclass C extends ADecorator {\r\n    public C() {\r\n        super(new B());\r\n    }\r\n    @Override\r\n    protected void afterFoo() {\r\n        // Even more stuff here\r\n    }\r\n}\r\n```","title":"How to force derived class to call super class method at multiple layers?","body":"<p>Inspired by the Decorator pattern.</p>\n<p>The advantage is that</p>\n<ol>\n<li>Every child class <strong>must</strong> call super class's constructor and decide which class I'm going to decorate.</li>\n<li>Every child class <strong>must</strong> override <code>afterFoo()</code> method, because it's abstract.</li>\n<li>Every child class only need to focuse on <strong>the same</strong> method which is <code>afterFoo()</code>, not <code>afterAfterFoo()</code>, <code>afterAfterAfterFoo()</code>, ...</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n    protected A() {}\n    public void foo() {\n        // Some stuff here\n    }\n}\n\nabstract class ADecorator extends A {\n    protected final A a;\n    public ADecorator(A a) {\n        this.a = a;\n    }\n    @Override\n    public final void foo() {\n        a.foo();\n        afterFoo();\n    }\n\n    protected abstract void afterFoo();\n}\n\nclass B extends ADecorator {\n    protected B() {\n        super(new A());\n    }\n    @Override\n    protected void afterFoo() {\n        // More stuff here\n    }\n}\n\nclass C extends ADecorator {\n    public C() {\n        super(new B());\n    }\n    @Override\n    protected void afterFoo() {\n        // Even more stuff here\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12921679,"reputation":187,"user_id":9343912,"display_name":"BanePig"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1701862509,"creation_date":1564618968,"question_id":57300379,"body_markdown":"I am trying to find the most elegant way to allow a child and parent to react to an event initiated by the grandparent. Here&#39;s a naive solution to this:\r\n\r\n```java\r\nabstract class A {\r\n    final public void foo() {\r\n        // Some stuff here\r\n        onFoo();\r\n    }\r\n\r\n    protected abstract void onFoo();\r\n}\r\n\r\nabstract class B extends A {\r\n    @Override\r\n    final protected void onFoo() {\r\n        // More stuff here\r\n        onOnFoo();\r\n    }\r\n\r\n    protected abstract void onOnFoo();\r\n}\r\n\r\nclass C extends B {\r\n    @Override\r\n    protected void onOnFoo() {\r\n        // Even more stuff here\r\n    }\r\n}\r\n```\r\n\r\nSo basically, I&#39;m trying to find the best way to allow all related classes to perform some logic when foo() is called. For stability and simplicity purposes I prefer if it is all done in order, although it&#39;s not a requirement.\r\n\r\nOne other solution I found involves storing all the event handlers as some form of Runnable:\r\n\r\n```java\r\nabstract class A {\r\n    private ArrayList&lt;Runnable&gt; fooHandlers = new ArrayList&lt;&gt;();\r\n\r\n    final public void foo() {\r\n        // Some stuff here\r\n        for(Runnable handler : fooHandlers) handler.run();\r\n    }\r\n\r\n    final protected void addFooHandler(Runnable handler) {\r\n        fooHandlers.add(handler);\r\n    }\r\n}\r\n\r\nabstract class B extends A {\r\n    public B() {\r\n        addFooHandler(this::onFoo);\r\n    }\r\n\r\n    private void onFoo() {\r\n        // Stuff\r\n    }\r\n}\r\n\r\nclass C extends B {\r\n    public C() {\r\n        addFooHandler(this::onFoo);\r\n    }\r\n\r\n    private void onFoo() {\r\n        // More stuff\r\n    }\r\n}\r\n```\r\n\r\nThis method is certainly preferable to the first. However I am still curious if there is a better option.","title":"How to force derived class to call super class method at multiple layers?","body":"<p>I am trying to find the most elegant way to allow a child and parent to react to an event initiated by the grandparent. Here's a naive solution to this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>abstract class A {\n    final public void foo() {\n        // Some stuff here\n        onFoo();\n    }\n\n    protected abstract void onFoo();\n}\n\nabstract class B extends A {\n    @Override\n    final protected void onFoo() {\n        // More stuff here\n        onOnFoo();\n    }\n\n    protected abstract void onOnFoo();\n}\n\nclass C extends B {\n    @Override\n    protected void onOnFoo() {\n        // Even more stuff here\n    }\n}\n</code></pre>\n\n<p>So basically, I'm trying to find the best way to allow all related classes to perform some logic when foo() is called. For stability and simplicity purposes I prefer if it is all done in order, although it's not a requirement.</p>\n\n<p>One other solution I found involves storing all the event handlers as some form of Runnable:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>abstract class A {\n    private ArrayList&lt;Runnable&gt; fooHandlers = new ArrayList&lt;&gt;();\n\n    final public void foo() {\n        // Some stuff here\n        for(Runnable handler : fooHandlers) handler.run();\n    }\n\n    final protected void addFooHandler(Runnable handler) {\n        fooHandlers.add(handler);\n    }\n}\n\nabstract class B extends A {\n    public B() {\n        addFooHandler(this::onFoo);\n    }\n\n    private void onFoo() {\n        // Stuff\n    }\n}\n\nclass C extends B {\n    public C() {\n        addFooHandler(this::onFoo);\n    }\n\n    private void onFoo() {\n        // More stuff\n    }\n}\n</code></pre>\n\n<p>This method is certainly preferable to the first. However I am still curious if there is a better option.</p>\n"},{"tags":["java","spring-boot","spring-cloud-gateway"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1701861211,"post_id":77612287,"comment_id":136826710,"body_markdown":"what about `route.getUri().getPath();` is it what you need ?","body":"what about <code>route.getUri().getPath();</code> is it what you need ?"},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701861770,"post_id":77612287,"comment_id":136826782,"body_markdown":"@AndreiLisa `uri` is where a request is forwarded","body":"@AndreiLisa <code>uri</code> is where a request is forwarded"}],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701862219,"creation_date":1701858645,"question_id":77612287,"body_markdown":"`Route` doesn&#39;t provide methods such as `getPath()`. I, however, can get an instance of `AsynchPredicate` type by invoking `getPredicate()` on it. What I do from then on is beyond my understanding at the moment\r\n```java\r\npublic String getPath(Route route) {\r\n    // your solution goes here\r\n}\r\n```\r\nHow do I retrieve a path from a Spring Cloud Gateway Route in a human-readable format?\r\n\r\nI use the term &quot;path&quot; the same way it&#39;s used in the `PredicateSpec` class. Notice it&#39;s not the same as &quot;uri&quot;\r\n```java\r\n// a static Gateway route which uses predicateSpec.path() may look like this\r\n\r\n    @Bean\r\n    public RouteLocator creditServiceRoutes(RouteLocatorBuilder builder) {\r\n        return builder.routes()\r\n                .route(p -&gt; p\r\n                        .path(&quot;/api/v1/credit-cards&quot;)\r\n                        .filters(f -&gt; f.rewritePath(&quot;/api/v1&quot;, &quot;/auth&quot;))\r\n                        .uri(CREDIT_SERVICE_URL))\r\n```","title":"How do I retrieve a path from a Spring Cloud Gateway Route in a human-readable format?","body":"<p><code>Route</code> doesn't provide methods such as <code>getPath()</code>. I, however, can get an instance of <code>AsynchPredicate</code> type by invoking <code>getPredicate()</code> on it. What I do from then on is beyond my understanding at the moment</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getPath(Route route) {\n    // your solution goes here\n}\n</code></pre>\n<p>How do I retrieve a path from a Spring Cloud Gateway Route in a human-readable format?</p>\n<p>I use the term &quot;path&quot; the same way it's used in the <code>PredicateSpec</code> class. Notice it's not the same as &quot;uri&quot;</p>\n<pre class=\"lang-java prettyprint-override\"><code>// a static Gateway route which uses predicateSpec.path() may look like this\n\n    @Bean\n    public RouteLocator creditServiceRoutes(RouteLocatorBuilder builder) {\n        return builder.routes()\n                .route(p -&gt; p\n                        .path(&quot;/api/v1/credit-cards&quot;)\n                        .filters(f -&gt; f.rewritePath(&quot;/api/v1&quot;, &quot;/auth&quot;))\n                        .uri(CREDIT_SERVICE_URL))\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-grid","video-recording"],"owner":{"account_id":30079558,"reputation":1,"user_id":23051518,"display_name":"Tomasho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701862202,"creation_date":1701862202,"question_id":77612674,"body_markdown":"I have automated scripts (Java + Selenium + Cucumber), which I run remotely using Selenium Grid. I would like to record execution in a way that each test case has separate video with appropriate name, preferably test name or at least session id. \r\n\r\nIs there any way to achieve that? Monte Screen Recorder, which I&#39;m using on local machine, unfortunately doesn&#39;t work with Grid.\r\n","title":"Recording remote test executions from Selenium Grid","body":"<p>I have automated scripts (Java + Selenium + Cucumber), which I run remotely using Selenium Grid. I would like to record execution in a way that each test case has separate video with appropriate name, preferably test name or at least session id.</p>\n<p>Is there any way to achieve that? Monte Screen Recorder, which I'm using on local machine, unfortunately doesn't work with Grid.</p>\n"},{"tags":["java","ecmascript-6","promise","es6-promise","rhino"],"owner":{"account_id":29813130,"reputation":1,"user_id":22848070,"display_name":"Rohinth S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701862149,"creation_date":1701862149,"question_id":77612670,"body_markdown":"It is mentioned in Rhino 1.7.14 as Rhino can support ES6 features if VERSION_ES6 flag is used.\r\n\r\n[Flag to be used in Rhino 1.7.14](https://i.stack.imgur.com/xLEYl.png)\r\n\r\nBut there were no clear documentation of how &amp; where to use the flag\r\n\r\nI tried to use the Context.VERSION_ES6 flag to setLanguageVersion. [https://github.com/workcraft/workcraft/issues/1367 ](https://stackoverflow.com)\r\nBut it didn&#39;t help me.\r\n\r\nAm I trying the flag in a correct way ? Or should it be used in some other place ?\r\n\r\nis there any other approach to make promises work in Rhino ?\r\n\r\nI expect to unleash all the features of ES6 they can be provided by Rhino 1.7.14","title":"Rhino 1.7.14 supports ES6 functionalities like promises, but I am not able to use VERSION_ES6 flag","body":"<p>It is mentioned in Rhino 1.7.14 as Rhino can support ES6 features if VERSION_ES6 flag is used.</p>\n<p><a href=\"https://i.stack.imgur.com/xLEYl.png\" rel=\"nofollow noreferrer\">Flag to be used in Rhino 1.7.14</a></p>\n<p>But there were no clear documentation of how &amp; where to use the flag</p>\n<p>I tried to use the Context.VERSION_ES6 flag to setLanguageVersion. <a href=\"https://stackoverflow.com\">https://github.com/workcraft/workcraft/issues/1367 </a>\nBut it didn't help me.</p>\n<p>Am I trying the flag in a correct way ? Or should it be used in some other place ?</p>\n<p>is there any other approach to make promises work in Rhino ?</p>\n<p>I expect to unleash all the features of ES6 they can be provided by Rhino 1.7.14</p>\n"},{"tags":["java","excel","hyperlink","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1701844924,"post_id":77610950,"comment_id":136824098,"body_markdown":"Apache POI 3.11 is too old to discuss about. Please use a more current version.","body":"Apache POI 3.11 is too old to discuss about. Please use a more current version."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1701856902,"post_id":77610950,"comment_id":136825910,"body_markdown":"[Apache POI 3.11 was released in 2014](https://poi.apache.org/devel/history/changes-3x.html#3.11), what happens if you upgrade to something that isn&#39;t 9 years old?","body":"<a href=\"https://poi.apache.org/devel/history/changes-3x.html#3.11\" rel=\"nofollow noreferrer\">Apache POI 3.11 was released in 2014</a>, what happens if you upgrade to something that isn&#39;t 9 years old?"}],"owner":{"account_id":15951107,"reputation":1,"user_id":11510429,"display_name":"Leandro Macato"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701862089,"creation_date":1701844197,"question_id":77610950,"body_markdown":"I am using Apache poi 3.11 and tried using SXSSF (for memory efficiency) format to create my excel file (xlxs) but my hyperlink cells are display as 0 instead of the hyperlink text, Originally I was using XSSF format but I do not encounter this problem.\r\n\r\nI tried using XSSF back and it resolved my problem but it isn&#39;t memory efficient enough for my use case","title":"Why do SXSSF hyperlink show as 0 in excel but contains cell data compared to XSSF on apache poi?","body":"<p>I am using Apache poi 3.11 and tried using SXSSF (for memory efficiency) format to create my excel file (xlxs) but my hyperlink cells are display as 0 instead of the hyperlink text, Originally I was using XSSF format but I do not encounter this problem.</p>\n<p>I tried using XSSF back and it resolved my problem but it isn't memory efficient enough for my use case</p>\n"},{"tags":["java","pdf","itext","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91501,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1701858507,"post_id":77612211,"comment_id":136826213,"body_markdown":"Most likely there is an error in the PDF you&#39;re trying to load.","body":"Most likely there is an error in the PDF you&#39;re trying to load."}],"answers":[{"tags":[],"owner":{"account_id":19163412,"reputation":44,"user_id":13998703,"display_name":"Md Eusuf Uddin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701862009,"creation_date":1701860501,"answer_id":77612505,"question_id":77612211,"body_markdown":"Upon all the try I found out the issue of getting exception. It is because of the iText API bug in its **version 5.1** and when I rebuilt my application with the latest **version 5.5.x.x** I get no exception and every thing works fine :)\r\n\r\nGetting Answer From:  \r\n\r\n&gt; https://stackoverflow.com/questions/10802145/how-to-get-out-of-string-index-out-of-range-1-in-itext","title":"IText pdf reader throwing exception &quot;IndexOutOfBoundsException&quot;","body":"<p>Upon all the try I found out the issue of getting exception. It is because of the iText API bug in its <strong>version 5.1</strong> and when I rebuilt my application with the latest <strong>version 5.5.x.x</strong> I get no exception and every thing works fine :)</p>\n<p>Getting Answer From:</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/10802145/how-to-get-out-of-string-index-out-of-range-1-in-itext\">how to get out of String index out of range: -1 in iText</a></p>\n</blockquote>\n"}],"owner":{"account_id":7522259,"reputation":442,"user_id":5713709,"accept_rate":48,"display_name":"Babu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77612505,"answer_count":1,"score":0,"last_activity_date":1701862009,"creation_date":1701857921,"question_id":77612211,"body_markdown":"I am using IText pdf reader to read pdf file but for few of the pdf file I am getting &quot;**IndexOutOfBoundsException**&quot;.\r\n\r\nbelow is the code \r\n```\r\ncom.itextpdf.text.pdf.PdfReader reader = new com.itextpdf.text.pdf.PdfReader(file.getPath());\r\n```\r\nException I am getting : **java.lang.IndexOutOfBoundsException: Index -1 out of bounds for length 9854** but can able to open the pdf file with other applications.\r\n\r\nI tried with stream as well but getting same error.\r\n\r\nSuggest how I can fix the issue.","title":"IText pdf reader throwing exception &quot;IndexOutOfBoundsException&quot;","body":"<p>I am using IText pdf reader to read pdf file but for few of the pdf file I am getting &quot;<strong>IndexOutOfBoundsException</strong>&quot;.</p>\n<p>below is the code</p>\n<pre><code>com.itextpdf.text.pdf.PdfReader reader = new com.itextpdf.text.pdf.PdfReader(file.getPath());\n</code></pre>\n<p>Exception I am getting : <strong>java.lang.IndexOutOfBoundsException: Index -1 out of bounds for length 9854</strong> but can able to open the pdf file with other applications.</p>\n<p>I tried with stream as well but getting same error.</p>\n<p>Suggest how I can fix the issue.</p>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":6740011,"reputation":46635,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1701619607,"post_id":77595059,"comment_id":136795707,"body_markdown":"Did you try to connect with MySQL workbench and looked if the database lis there?","body":"Did you try to connect with MySQL workbench and looked if the database lis there?"},{"owner":{"account_id":25252083,"reputation":47,"user_id":19084428,"display_name":"Alex"},"score":0,"creation_date":1701619725,"post_id":77595059,"comment_id":136795722,"body_markdown":"of course. If I first create a database through the console and then try to connect to it in the application, then everything works. But how do I make sure that the database is created automatically when the application is launched?","body":"of course. If I first create a database through the console and then try to connect to it in the application, then everything works. But how do I make sure that the database is created automatically when the application is launched?"},{"owner":{"account_id":6740011,"reputation":46635,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1701638433,"post_id":77595059,"comment_id":136797728,"body_markdown":"look here https://stackoverflow.com/questions/838978/how-to-check-if-mysql-database-exists to see if the database exists","body":"look here <a href=\"https://stackoverflow.com/questions/838978/how-to-check-if-mysql-database-exists\" title=\"how to check if mysql database exists\">stackoverflow.com/questions/838978/&hellip;</a> to see if the database exists"}],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701629581,"creation_date":1701629581,"answer_id":77595733,"question_id":77595059,"body_markdown":"Try to look into flyway to handle your database migrations. Its a tool which executes sql scripts on startup.\r\n\r\nhttps://flywaydb.org/","title":"Java Spring Boot creating a MySQL database at application startup","body":"<p>Try to look into flyway to handle your database migrations. Its a tool which executes sql scripts on startup.</p>\n<p><a href=\"https://flywaydb.org/\" rel=\"nofollow noreferrer\">https://flywaydb.org/</a></p>\n"},{"tags":[],"owner":{"account_id":12324682,"reputation":39,"user_id":8992996,"display_name":"dIB59"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701861723,"creation_date":1701861723,"answer_id":77612633,"question_id":77595059,"body_markdown":"A good idea could be to use Test containers. All you need to do is run docker. Springboot will handle the rest. It will automatically create and connect to the database without needing to know the username and password are. For my project I am using Postgres and the setup for MySql is the same. You will need to install the dependency for it.\r\n\r\n    @TestConfiguration(proxyBeanMethods = false)\r\n    public class TestContainersConfig {\r\n\r\n        @Bean\r\n        @ServiceConnection\r\n        PostgreSQLContainer&lt;?&gt; postgreSQLContainer() {\r\n            return new PostgreSQLContainer&lt;&gt;(&quot;postgres:15&quot;);\r\n        }\r\n    }\r\n\r\nI am using this for tests, so I run my application with a new database by doing the following:\r\n\r\n    public class TestEchoBoardApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.from(EchoBoardApplication::main)\r\n                .with(TestContainersConfig.class)\r\n                .run(args);\r\n         }\r\n    }","title":"Java Spring Boot creating a MySQL database at application startup","body":"<p>A good idea could be to use Test containers. All you need to do is run docker. Springboot will handle the rest. It will automatically create and connect to the database without needing to know the username and password are. For my project I am using Postgres and the setup for MySql is the same. You will need to install the dependency for it.</p>\n<pre><code>@TestConfiguration(proxyBeanMethods = false)\npublic class TestContainersConfig {\n\n    @Bean\n    @ServiceConnection\n    PostgreSQLContainer&lt;?&gt; postgreSQLContainer() {\n        return new PostgreSQLContainer&lt;&gt;(&quot;postgres:15&quot;);\n    }\n}\n</code></pre>\n<p>I am using this for tests, so I run my application with a new database by doing the following:</p>\n<pre><code>public class TestEchoBoardApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.from(EchoBoardApplication::main)\n            .with(TestContainersConfig.class)\n            .run(args);\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":25252083,"reputation":47,"user_id":19084428,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77612633,"answer_count":2,"score":0,"last_activity_date":1701861723,"creation_date":1701619416,"question_id":77595059,"body_markdown":"I am new in Java Spring.\r\nI created the default project by adding dependencies. Now I want the **Weather database** to be created when the application is launched, if it does not exist on the computer.I am using a mysql database.\r\n\r\n*How do I achieve this because I get errors when I launch the application?*\r\n\r\n*and another question: is it possible to achieve that without explicitly specifying the username and password from the database?*\r\n\r\n```\r\njava.sql.SQLSyntaxErrorException: Unknown database &#39;weather&#39;\r\n```\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)&quot; because the return value of &quot;org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()&quot; is null\r\n```\r\n\r\n**build.gradle**\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.2.0&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.4&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n    sourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    runtimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n**application.properties**\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/weather?useSSL=false&amp;serverTimezone=UTC\r\nspring.datasource.username=root\r\nspring.datasource.password=password\r\nspring.sql.init.mode=always\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n```","title":"Java Spring Boot creating a MySQL database at application startup","body":"<p>I am new in Java Spring.\nI created the default project by adding dependencies. Now I want the <strong>Weather database</strong> to be created when the application is launched, if it does not exist on the computer.I am using a mysql database.</p>\n<p><em>How do I achieve this because I get errors when I launch the application?</em></p>\n<p><em>and another question: is it possible to achieve that without explicitly specifying the username and password from the database?</em></p>\n<pre><code>java.sql.SQLSyntaxErrorException: Unknown database 'weather'\n</code></pre>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)&quot; because the return value of &quot;org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()&quot; is null\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.2.0'\n    id 'io.spring.dependency-management' version '1.1.4'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/weather?useSSL=false&amp;serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=password\nspring.sql.init.mode=always\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n"},{"tags":["java","apache-spark","pyspark","parquet","pyarrow"],"comments":[{"owner":{"account_id":28240346,"reputation":1330,"user_id":21588212,"display_name":"DileeprajnarayanThumula"},"score":0,"creation_date":1701820650,"post_id":77609268,"comment_id":136822245,"body_markdown":"@ Mateusz Are you using azure databricks?","body":"@ Mateusz Are you using azure databricks?"},{"owner":{"account_id":9176454,"reputation":161,"user_id":6821913,"display_name":"Mateusz"},"score":0,"creation_date":1701854070,"post_id":77609268,"comment_id":136825355,"body_markdown":"@DileeprajnarayanThumula We are running in GCP using data proc server less, and most of data is stored in plain parquets.","body":"@DileeprajnarayanThumula We are running in GCP using data proc server less, and most of data is stored in plain parquets."},{"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"score":0,"creation_date":1701894295,"post_id":77609268,"comment_id":136832843,"body_markdown":"By any chance, have you tried the suggestion given in related [SPARK-4073](https://issues.apache.org/jira/browse/SPARK-4073), to use  `spark.executor.extraJavaOptions=-XX:MaxDirectMemorySize=4096m`?","body":"By any chance, have you tried the suggestion given in related <a href=\"https://issues.apache.org/jira/browse/SPARK-4073\" rel=\"nofollow noreferrer\">SPARK-4073</a>, to use  <code>spark.executor.extraJavaOptions=-XX:MaxDirectMemorySize=4096&zwnj;&#8203;m</code>?"},{"owner":{"account_id":9176454,"reputation":161,"user_id":6821913,"display_name":"Mateusz"},"score":1,"creation_date":1701936419,"post_id":77609268,"comment_id":136837176,"body_markdown":"@mazaneicha Yes it help for memory but still performance is awful. Actually i moved to gzip compression now.","body":"@mazaneicha Yes it help for memory but still performance is awful. Actually i moved to gzip compression now."}],"answers":[{"tags":[],"owner":{"account_id":9176454,"reputation":161,"user_id":6821913,"display_name":"Mateusz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701861679,"creation_date":1701861679,"answer_id":77612628,"question_id":77609268,"body_markdown":"I think this is original issue:\r\nhttps://issues.apache.org/jira/browse/PARQUET-118","title":"Loading parquet with large string","body":"<p>I think this is original issue:\n<a href=\"https://issues.apache.org/jira/browse/PARQUET-118\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/PARQUET-118</a></p>\n"}],"owner":{"account_id":9176454,"reputation":161,"user_id":6821913,"display_name":"Mateusz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1701861679,"creation_date":1701810793,"question_id":77609268,"body_markdown":"I am processing (using pyspark) dataframes which can potentially contain large string values. \r\nIn simplification the column contains response from the API up which is string of size up to 20 MB. \r\nUsually this string is smaller than 10 MB. I have noticed that when the string size reach certain size - around 16 MB, reading those parquet files is very slow and consumes lot of memory (my spark cluster throws OOM&#39;s).Both for spark and pyarrow, however not for pandas (I guess due to cpp implementaion of pyarrow).\r\n\r\nIs there any way to make it faster. \r\nCan someone confirm my hypothesis that this is related to memory allocation in java in order to handle large strings? \r\n\r\nBelow output from parquet-inspect: \r\n```\r\n############ file meta data ############\r\ncreated_by: parquet-mr version 1.12.2 (build 77e30c8093386ec52c3cfa6c34b7ef3321322c94)\r\nnum_columns: 1\r\nnum_rows: 100\r\nnum_row_groups: 1\r\nformat_version: 1.0\r\nserialized_size: 400\r\n\r\n\r\n############ Columns ############\r\napi_response\r\n\r\n############ Column(ocr_response) ############\r\nname: ocr_response\r\npath: ocr_response\r\nmax_definition_level: 1\r\nmax_repetition_level: 0\r\nphysical_type: BYTE_ARRAY\r\nlogical_type: String\r\nconverted_type (legacy): UTF8\r\ncompression: SNAPPY (space_saved: 82%)\r\n```\r\n\r\n\r\n","title":"Loading parquet with large string","body":"<p>I am processing (using pyspark) dataframes which can potentially contain large string values.\nIn simplification the column contains response from the API up which is string of size up to 20 MB.\nUsually this string is smaller than 10 MB. I have noticed that when the string size reach certain size - around 16 MB, reading those parquet files is very slow and consumes lot of memory (my spark cluster throws OOM's).Both for spark and pyarrow, however not for pandas (I guess due to cpp implementaion of pyarrow).</p>\n<p>Is there any way to make it faster.\nCan someone confirm my hypothesis that this is related to memory allocation in java in order to handle large strings?</p>\n<p>Below output from parquet-inspect:</p>\n<pre><code>############ file meta data ############\ncreated_by: parquet-mr version 1.12.2 (build 77e30c8093386ec52c3cfa6c34b7ef3321322c94)\nnum_columns: 1\nnum_rows: 100\nnum_row_groups: 1\nformat_version: 1.0\nserialized_size: 400\n\n\n############ Columns ############\napi_response\n\n############ Column(ocr_response) ############\nname: ocr_response\npath: ocr_response\nmax_definition_level: 1\nmax_repetition_level: 0\nphysical_type: BYTE_ARRAY\nlogical_type: String\nconverted_type (legacy): UTF8\ncompression: SNAPPY (space_saved: 82%)\n</code></pre>\n"},{"tags":["java","lambda","java-8","collectors"],"comments":[{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1622125953,"post_id":67724235,"comment_id":119706259,"body_markdown":"Does Optional.empty == Optional. empty? If so, you may as well do getPrice().get() directly. The entire concept is broken if your Optionals can be empty.","body":"Does Optional.empty == Optional. empty? If so, you may as well do getPrice().get() directly. The entire concept is broken if your Optionals can be empty."},{"owner":{"account_id":50552,"reputation":8861,"user_id":150830,"accept_rate":74,"display_name":"ata"},"score":0,"creation_date":1622126144,"post_id":67724235,"comment_id":119706370,"body_markdown":"Is Map&lt;Optional&lt;Price&gt;, String&gt; pricesWithOptional used somewhere or you just wanted to use it to take values again? If so, you can directly filter before collecting and skip the first step","body":"Is Map&lt;Optional&lt;Price&gt;, String&gt; pricesWithOptional used somewhere or you just wanted to use it to take values again? If so, you can directly filter before collecting and skip the first step"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1622126156,"post_id":67724235,"comment_id":119706380,"body_markdown":"Are you starting with `pricesWithOptional` already present? Or are you building that as part of your process? If the latter then you could just add a filter to `prices.stream()`.","body":"Are you starting with <code>pricesWithOptional</code> already present? Or are you building that as part of your process? If the latter then you could just add a filter to <code>prices.stream()</code>."},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":1,"creation_date":1622126355,"post_id":67724235,"comment_id":119706489,"body_markdown":"To be honest using a `Optional` as a `Map` key seems a bit strange. I would suggest considering reworking the source and not use `Optional` in the first place.","body":"To be honest using a <code>Optional</code> as a <code>Map</code> key seems a bit strange. I would suggest considering reworking the source and not use <code>Optional</code> in the first place."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1622126460,"post_id":67724235,"comment_id":119706553,"body_markdown":"Consider adding the definition of `prices` - its type is not clear.  You may also want to add the `Price` class.  In general, using an Optional as a key seems sketchy.  Perhaps you should filter out the elements that are not present and map to the price value?  Does a mapping of price-to-name really what you want?  It implies that only one item may have a given price - the manager at the dollar store is going to have a heart attack!","body":"Consider adding the definition of <code>prices</code> - its type is not clear.  You may also want to add the <code>Price</code> class.  In general, using an Optional as a key seems sketchy.  Perhaps you should filter out the elements that are not present and map to the price value?  Does a mapping of price-to-name really what you want?  It implies that only one item may have a given price - the manager at the dollar store is going to have a heart attack!"},{"owner":{"account_id":8060240,"reputation":1326,"user_id":6075989,"display_name":"JMSilla"},"score":1,"creation_date":1622127472,"post_id":67724235,"comment_id":119707118,"body_markdown":"The `Collectors.toMap()` default implementation uses the `HashMap` class for the created map. This map implementation allows `null` keys, so you can remove the `filter()` operation of the stream and change `e -&gt; e.getKey().get()` to `e -&gt; e.getKey().get().orElse(null)`. Finally you can remove the `null` key of the resulting map if it is present. This sounds a little bit weird but it avoids calling `isPresent()` for each element in the map, therefore is a more efficient solution.","body":"The <code>Collectors.toMap()</code> default implementation uses the <code>HashMap</code> class for the created map. This map implementation allows <code>null</code> keys, so you can remove the <code>filter()</code> operation of the stream and change <code>e -&gt; e.getKey().get()</code> to <code>e -&gt; e.getKey().get().orElse(null)</code>. Finally you can remove the <code>null</code> key of the resulting map if it is present. This sounds a little bit weird but it avoids calling <code>isPresent()</code> for each element in the map, therefore is a more efficient solution."}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1622127713,"creation_date":1622127713,"answer_id":67724883,"question_id":67724235,"body_markdown":"Yes there is an alternate only if you completely discard `pricesWithOptional` after you have derived `existingPrices` and that is a step back from where you have already reached.\r\n\r\n   \r\n\r\n    Map&lt;Price, String&gt; existingPrices = prices.stream()\r\n            .map(p -&gt; Map.entry(getPrice(p), getName(p))) // to avoid multiple calls to these\r\n            .filter(e -&gt; e.getKey().isPresent())\r\n            .collect(Collectors.toMap(entry -&gt; entry.getKey().get(),\r\n                    Map.Entry::getValue));\r\n\r\n**Note**: If both `getPrice` and `getName` are costly and you would likely not make `getName` unless you are sure of `getPrice`&#39;s presence, I would rather suggest staying with the `for` loop for readability.\r\n\r\n    Map&lt;Price, String&gt; existingPrices = new HashMap&lt;&gt;();\r\n    for (SpecialPrice specialPrice : prices) {\r\n        Optional&lt;Price&gt; price = getPrice(specialPrice);\r\n        if (price.isPresent()) {\r\n            String name = getName(specialPrice);\r\n            existingPrices.put(price.get(), name);\r\n        }\r\n    }","title":"Java 8 Map with optional key to map with value of optional as key","body":"<p>Yes there is an alternate only if you completely discard <code>pricesWithOptional</code> after you have derived <code>existingPrices</code> and that is a step back from where you have already reached.</p>\n<pre><code>Map&lt;Price, String&gt; existingPrices = prices.stream()\n        .map(p -&gt; Map.entry(getPrice(p), getName(p))) // to avoid multiple calls to these\n        .filter(e -&gt; e.getKey().isPresent())\n        .collect(Collectors.toMap(entry -&gt; entry.getKey().get(),\n                Map.Entry::getValue));\n</code></pre>\n<p><strong>Note</strong>: If both <code>getPrice</code> and <code>getName</code> are costly and you would likely not make <code>getName</code> unless you are sure of <code>getPrice</code>'s presence, I would rather suggest staying with the <code>for</code> loop for readability.</p>\n<pre><code>Map&lt;Price, String&gt; existingPrices = new HashMap&lt;&gt;();\nfor (SpecialPrice specialPrice : prices) {\n    Optional&lt;Price&gt; price = getPrice(specialPrice);\n    if (price.isPresent()) {\n        String name = getName(specialPrice);\n        existingPrices.put(price.get(), name);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17872810,"reputation":21,"user_id":12983647,"display_name":"Aviv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701861517,"creation_date":1701861517,"answer_id":77612618,"question_id":67724235,"body_markdown":"I would like to add to [@Naman&#39;s answer](https://stackoverflow.com/a/67724883/12983647):\r\n\r\n\r\nIf `getName` is costly and you want to keep the functional style, you can defer the invocation to the collection phase:\r\n\r\n```java\r\nprivate Map&lt;Price, String&gt; getPricesForUserRelatedPrices(List&lt;SpecialPrice&gt; prices) {\r\n        return prices.stream()\r\n            .map(p -&gt; Map.entry(getPrice(p), p))\r\n            .filter(e -&gt; e.getKey().isPresent())\r\n            .collect(Collectors.toMap(entry -&gt; entry.getKey().get(),\r\n                entry -&gt; getName(entry.getValue())));\r\n    }\r\n```","title":"Java 8 Map with optional key to map with value of optional as key","body":"<p>I would like to add to <a href=\"https://stackoverflow.com/a/67724883/12983647\">@Naman's answer</a>:</p>\n<p>If <code>getName</code> is costly and you want to keep the functional style, you can defer the invocation to the collection phase:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Map&lt;Price, String&gt; getPricesForUserRelatedPrices(List&lt;SpecialPrice&gt; prices) {\n        return prices.stream()\n            .map(p -&gt; Map.entry(getPrice(p), p))\n            .filter(e -&gt; e.getKey().isPresent())\n            .collect(Collectors.toMap(entry -&gt; entry.getKey().get(),\n                entry -&gt; getName(entry.getValue())));\n    }\n</code></pre>\n"}],"owner":{"account_id":9736891,"reputation":225,"user_id":7219867,"display_name":"Liso"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3972,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67724883,"answer_count":2,"score":2,"last_activity_date":1701861517,"creation_date":1622125689,"question_id":67724235,"body_markdown":"I have a Map&lt;Optional&lt;Price&gt;, String&gt; and need to get a map with the actual values of the optionals, if they are present (Map&lt;Price, String&gt;).\r\n\r\nThis works:\r\n\r\n    private Map&lt;Price, String&gt; getPricesForUserRelatedPrices(List&lt;SpecialPrice&gt; prices) {\r\n    \tMap&lt;Optional&lt;Price&gt;, String&gt; pricesWithOptional = prices.stream().collect(Collectors.toMap(this::getPrice, this::getName));\r\n    \tMap&lt;Price, String&gt; existingPrices = pricesWithOptional .entrySet().stream().filter(e -&gt; e.getKey().isPresent()).collect(Collectors.toMap(e -&gt; e.getKey().get(), Entry::getValue));\r\n        return existingPrices;\r\n    }\r\n\r\nThe getPrice might return an optional, therefore the empty entries need to be filtered. \r\n\r\nThe Map with the optional as key is of course only a temporary map to have it somewhat readable. \r\n\r\nIn the old fashioned/ non-lambda way I would just do this:\r\n\r\n    private Map&lt;Price, String&gt; getPricesForUserRelatedPrices(List&lt;SpecialPrice&gt; prices) {\r\n\tMap&lt;Price, String&gt; existingPrices = new HashMap&lt;&gt;();\r\n\tfor(SpecialPrice p: prices){\r\n\t\tOptional&lt;Price&gt; price = getPrice(p);\r\n\t\tif(price.isPresent())\r\n\t\t\texistingPrices.put(price.get(), getName(price));\r\n\t}\r\n\treturn existingPrices;\r\n}\r\n\r\nIs there a more elegant way?","title":"Java 8 Map with optional key to map with value of optional as key","body":"<p>I have a Map&lt;Optional, String&gt; and need to get a map with the actual values of the optionals, if they are present (Map&lt;Price, String&gt;).</p>\n<p>This works:</p>\n<pre><code>private Map&lt;Price, String&gt; getPricesForUserRelatedPrices(List&lt;SpecialPrice&gt; prices) {\n    Map&lt;Optional&lt;Price&gt;, String&gt; pricesWithOptional = prices.stream().collect(Collectors.toMap(this::getPrice, this::getName));\n    Map&lt;Price, String&gt; existingPrices = pricesWithOptional .entrySet().stream().filter(e -&gt; e.getKey().isPresent()).collect(Collectors.toMap(e -&gt; e.getKey().get(), Entry::getValue));\n    return existingPrices;\n}\n</code></pre>\n<p>The getPrice might return an optional, therefore the empty entries need to be filtered.</p>\n<p>The Map with the optional as key is of course only a temporary map to have it somewhat readable.</p>\n<p>In the old fashioned/ non-lambda way I would just do this:</p>\n<pre><code>private Map&lt;Price, String&gt; getPricesForUserRelatedPrices(List&lt;SpecialPrice&gt; prices) {\nMap&lt;Price, String&gt; existingPrices = new HashMap&lt;&gt;();\nfor(SpecialPrice p: prices){\n    Optional&lt;Price&gt; price = getPrice(p);\n    if(price.isPresent())\n        existingPrices.put(price.get(), getName(price));\n}\nreturn existingPrices;\n</code></pre>\n<p>}</p>\n<p>Is there a more elegant way?</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":5,"creation_date":1701820462,"post_id":77609858,"comment_id":136822224,"body_markdown":"Do you know how to write a constructor **with** parameters? It&#39;s like that, but without the parameters.","body":"Do you know how to write a constructor <b>with</b> parameters? It&#39;s like that, but without the parameters."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1701820738,"post_id":77609858,"comment_id":136822256,"body_markdown":"I am absolutely positive that your class resources will tell and show you how to do this. You would be wise to follow them.","body":"I am absolutely positive that your class resources will tell and show you how to do this. You would be wise to follow them."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1701820746,"post_id":77609858,"comment_id":136822257,"body_markdown":"In your own words, where the code says `new Account();`, **why should that make sense**? You say that you &quot;are trying&quot; to make a matching constructor. What **code did you write, and where**, in order to try to do that? What happened when you tried that - did it have any effect? (Did you make sure to save the file before trying again?) **What should happen** when that constructor is used? (I.e.: **how should the program know** who owns the account, and what the balance is?)","body":"In your own words, where the code says <code>new Account();</code>, <b>why should that make sense</b>? You say that you &quot;are trying&quot; to make a matching constructor. What <b>code did you write, and where</b>, in order to try to do that? What happened when you tried that - did it have any effect? (Did you make sure to save the file before trying again?) <b>What should happen</b> when that constructor is used? (I.e.: <b>how should the program know</b> who owns the account, and what the balance is?)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1701822974,"post_id":77609858,"comment_id":136822463,"body_markdown":"&quot;*How do I make a constructor with no arguments in Java*&quot; =&gt; use the required access *modifier*, one of `public`, `protected`, `private`, or just none; followed by the class name (method name must be the same as the name of the class to be constructed); followed by empty `( )`; followed by the block with the statements (or empty) `{ ...  }`","body":"&quot;<i>How do I make a constructor with no arguments in Java</i>&quot; =&gt; use the required access <i>modifier</i>, one of <code>public</code>, <code>protected</code>, <code>private</code>, or just none; followed by the class name (method name must be the same as the name of the class to be constructed); followed by empty <code>( )</code>; followed by the block with the statements (or empty) <code>{ ...  }</code>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1701823563,"post_id":77609858,"comment_id":136822528,"body_markdown":"Constructor with no parameters: `public class MyClassName { String name; int age; public MyClassName() { } }`. Constructor with parameters: `public class MyClassName { String name; int age; public MyClassName(String name, int age) { this.name = name; this.age = age; } }`.","body":"Constructor with no parameters: <code>public class MyClassName { String name; int age; public MyClassName() { } }</code>. Constructor with parameters: <code>public class MyClassName { String name; int age; public MyClassName(String name, int age) { this.name = name; this.age = age; } }</code>."}],"owner":{"account_id":29789716,"reputation":1,"user_id":22830211,"display_name":"Lstriker1268"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":8,"up_vote_count":0,"closed_date":1701820561,"answer_count":0,"score":-8,"last_activity_date":1701861409,"creation_date":1701820350,"question_id":77609858,"body_markdown":"How do I make a constructor with no arguments in Java?\r\n\r\nI am trying to make a constructor with no arguments for a programming assignment. Attached below is the errors that keep getting outputted. I am using the Replit IDE. [Errors from Replit](https://i.stack.imgur.com/V0wgP.png)\r\n\r\nWhat I tried doing was running my code as is. What happened was the aforementioned error.","title":"How to make a constructor with no arguments in Java?","body":"<p>How do I make a constructor with no arguments in Java?</p>\n<p>I am trying to make a constructor with no arguments for a programming assignment. Attached below is the errors that keep getting outputted. I am using the Replit IDE. <a href=\"https://i.stack.imgur.com/V0wgP.png\" rel=\"nofollow noreferrer\">Errors from Replit</a></p>\n<p>What I tried doing was running my code as is. What happened was the aforementioned error.</p>\n"},{"tags":["java","android","android-studio","mpandroidchart","lib"],"comments":[{"owner":{"account_id":7118887,"reputation":543,"user_id":5444161,"accept_rate":29,"display_name":"Rahul Agrawal"},"score":0,"creation_date":1701865087,"post_id":77612549,"comment_id":136827393,"body_markdown":"Add code snippet.","body":"Add code snippet."},{"owner":{"account_id":11163581,"reputation":1048,"user_id":8192914,"display_name":"ganjaam"},"score":0,"creation_date":1701933322,"post_id":77612549,"comment_id":136836756,"body_markdown":"do you want to show the zoomed image by default?","body":"do you want to show the zoomed image by default?"}],"owner":{"account_id":22079906,"reputation":1,"user_id":16339629,"display_name":"Gautam Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701860833,"creation_date":1701860833,"question_id":77612549,"body_markdown":"#  I want output in this format but I get in other format this image is clicked by zooming the chart in android phone but I want in blow format \r\n(https://i.stack.imgur.com/g7RMV.jpg)\r\n\r\n[I want to show data in above  I want output in this format but I get in other format] (https://i.stack.imgur.com/Jeqe2.jpg) ","title":"Problem related to rendering line chat using MP android chat lib","body":"<h1>I want output in this format but I get in other format this image is clicked by zooming the chart in android phone but I want in blow format</h1>\n<p>(<a href=\"https://i.stack.imgur.com/g7RMV.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/g7RMV.jpg</a>)</p>\n<p>[I want to show data in above  I want output in this format but I get in other format] (<a href=\"https://i.stack.imgur.com/Jeqe2.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Jeqe2.jpg</a>)</p>\n"},{"tags":["java","jetty","apache-nifi","minify"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1701463487,"post_id":77576455,"comment_id":136783165,"body_markdown":"&quot;bad SNI&quot; means that your client and your server do not agree on the hostname for that server.  Can you detail how you are accessing your server? and how your server is setup (pay attention to your TLS certificate details, do not use IP addresses or `localhost` or `localdomain` style host names, as those are unsupported by java&#39;s TLS implementation)","body":"&quot;bad SNI&quot; means that your client and your server do not agree on the hostname for that server.  Can you detail how you are accessing your server? and how your server is setup (pay attention to your TLS certificate details, do not use IP addresses or <code>localhost</code> or <code>localdomain</code> style host names, as those are unsupported by java&#39;s TLS implementation)"},{"owner":{"account_id":5601254,"reputation":108,"user_id":11371992,"display_name":"Sajad Hamreh"},"score":0,"creation_date":1701587718,"post_id":77576455,"comment_id":136792903,"body_markdown":"I have the same problem","body":"I have the same problem"}],"answers":[{"tags":[],"owner":{"account_id":3703117,"reputation":125,"user_id":3082278,"display_name":"bentech4u"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701860771,"creation_date":1701677687,"answer_id":77598024,"question_id":77576455,"body_markdown":"Jetty 10, which is included with NiFi 2.0.0-M1, incorporates updates to the Server Name Indication processing during the TLS handshake. As a result of these changes, the default behavior does not support accessing NiFi using an IP address. Using a hostname or DNS name will avoid the SNI error and allow standard TLS negotiation to work.\r\n\r\nMy issue got fixed once i accessed nifi with FQDN\r\n\r\n","title":"Apache Nifi 2.x - org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI","body":"<p>Jetty 10, which is included with NiFi 2.0.0-M1, incorporates updates to the Server Name Indication processing during the TLS handshake. As a result of these changes, the default behavior does not support accessing NiFi using an IP address. Using a hostname or DNS name will avoid the SNI error and allow standard TLS negotiation to work.</p>\n<p>My issue got fixed once i accessed nifi with FQDN</p>\n"}],"owner":{"account_id":3703117,"reputation":125,"user_id":3082278,"display_name":"bentech4u"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701860771,"creation_date":1701327547,"question_id":77576455,"body_markdown":"i was trying to upgrade NiFi to 2 from 1.24. while starting Nifi, service started and port 8443 is listening.But i am getting error 400 on web page\r\n\r\nFrom the web:\r\n\r\n```\r\nHTTP ERROR 400 Invalid SNI\r\nURI:\t/nifi\r\nSTATUS:\t400\r\nMESSAGE:\tInvalid SNI\r\nSERVLET:\t-\r\nCAUSED BY:\torg.eclipse.jetty.http.BadMessageException: 400: Invalid SNI\r\n\r\n\r\norg.eclipse.jetty.http.BadMessageException: 400: Invalid SNI\r\nat org.eclipse.jetty.server.SecureRequestCustomizer.customize(SecureRequestCustomizer.java:266)\r\n\tat org.eclipse.jetty.server.SecureRequestCustomizer.customize(SecureRequestCustomizer.java:207)\r\n\tat org.eclipse.jetty.server.HttpChannel$RequestDispatchable.dispatch(HttpChannel.java:1594)\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:753)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:501)\r\n\tat org.eclipse.jetty.server.HttpChannel.run(HttpChannel.java:461)\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:421)\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:390)\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:277)\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.produce(AdaptiveExecutionStrategy.java:193)\r\n\tat org.eclipse.jetty.http2.HTTP2Connection.produce(HTTP2Connection.java:208)\r\n\tat org.eclipse.jetty.http2.HTTP2Connection.onFillable(HTTP2Connection.java:155)\r\n\tat org.eclipse.jetty.http2.HTTP2Connection$FillableCallback.succeeded(HTTP2Connection.java:450)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\r\n\tat org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:558)\r\n\tat org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:379)\r\n\tat org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:146)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\r\n\tat org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:421)\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:390)\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:277)\r\n\tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.run(AdaptiveExecutionStrategy.java:199)\r\n\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n\r\n```\r\n\r\n\r\nand from app.log\r\n\r\n```\r\n2023-11-30 09:56:46,456 WARN [NiFi Web Server-32] org.eclipse.jetty.server.HttpChannel handleException /nifi org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI\r\n2023-11-30 09:56:46,527 WARN [NiFi Web Server-36] org.eclipse.jetty.server.HttpChannel handleException /favicon.ico org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI\r\n\r\n\r\n```","title":"Apache Nifi 2.x - org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI","body":"<p>i was trying to upgrade NiFi to 2 from 1.24. while starting Nifi, service started and port 8443 is listening.But i am getting error 400 on web page</p>\n<p>From the web:</p>\n<pre><code>HTTP ERROR 400 Invalid SNI\nURI:    /nifi\nSTATUS: 400\nMESSAGE:    Invalid SNI\nSERVLET:    -\nCAUSED BY:  org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI\n\n\norg.eclipse.jetty.http.BadMessageException: 400: Invalid SNI\nat org.eclipse.jetty.server.SecureRequestCustomizer.customize(SecureRequestCustomizer.java:266)\n    at org.eclipse.jetty.server.SecureRequestCustomizer.customize(SecureRequestCustomizer.java:207)\n    at org.eclipse.jetty.server.HttpChannel$RequestDispatchable.dispatch(HttpChannel.java:1594)\n    at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:753)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:501)\n    at org.eclipse.jetty.server.HttpChannel.run(HttpChannel.java:461)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:421)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:390)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:277)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.produce(AdaptiveExecutionStrategy.java:193)\n    at org.eclipse.jetty.http2.HTTP2Connection.produce(HTTP2Connection.java:208)\n    at org.eclipse.jetty.http2.HTTP2Connection.onFillable(HTTP2Connection.java:155)\n    at org.eclipse.jetty.http2.HTTP2Connection$FillableCallback.succeeded(HTTP2Connection.java:450)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\n    at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:558)\n    at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:379)\n    at org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:146)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\n    at org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:421)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:390)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:277)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.run(AdaptiveExecutionStrategy.java:199)\n    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\n\n</code></pre>\n<p>and from app.log</p>\n<pre><code>2023-11-30 09:56:46,456 WARN [NiFi Web Server-32] org.eclipse.jetty.server.HttpChannel handleException /nifi org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI\n2023-11-30 09:56:46,527 WARN [NiFi Web Server-36] org.eclipse.jetty.server.HttpChannel handleException /favicon.ico org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI\n\n\n</code></pre>\n"},{"tags":["java","gitlab","feature-flags","unleash"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1701866380,"post_id":77612530,"comment_id":136827631,"body_markdown":"Did you already check the GitLab help [Unleash Proxy Example](https://docs.gitlab.com/ee/operations/feature_flags.html#unleash-proxy-example)?","body":"Did you already check the GitLab help <a href=\"https://docs.gitlab.com/ee/operations/feature_flags.html#unleash-proxy-example\" rel=\"nofollow noreferrer\">Unleash Proxy Example</a>?"},{"owner":{"account_id":1886365,"reputation":23,"user_id":1705496,"display_name":"Librorio Tribio"},"score":0,"creation_date":1701869771,"post_id":77612530,"comment_id":136828254,"body_markdown":"It seems that there are no proxy classes in unleash-java, so I don&#39;t know how to use it in the code","body":"It seems that there are no proxy classes in unleash-java, so I don&#39;t know how to use it in the code"}],"owner":{"account_id":1886365,"reputation":23,"user_id":1705496,"display_name":"Librorio Tribio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701860728,"creation_date":1701860728,"question_id":77612530,"body_markdown":"I&#39;m working with Gitlab Feature Flags and to use them in my Java project I&#39;m using unleash-java. The problem is that in this library it seems that I can&#39;t change from my code the values of the feature flags, but just from Gitlab. Is there a way to do it? Maybe using another library?","title":"Can Gitlab feature flags be modified by code with unleash java?","body":"<p>I'm working with Gitlab Feature Flags and to use them in my Java project I'm using unleash-java. The problem is that in this library it seems that I can't change from my code the values of the feature flags, but just from Gitlab. Is there a way to do it? Maybe using another library?</p>\n"},{"tags":["java","spring","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":1459659,"reputation":5200,"user_id":1374311,"display_name":"alexey28"},"score":0,"creation_date":1559026953,"post_id":56336439,"comment_id":99279026,"body_markdown":"Did you try call String body = data.getBody()? Are the body still empty?","body":"Did you try call String body = data.getBody()? Are the body still empty?"},{"owner":{"account_id":5896196,"reputation":740,"user_id":4641280,"display_name":"Damith"},"score":0,"creation_date":1559027235,"post_id":56336439,"comment_id":99279189,"body_markdown":"Do you set the same media type header in POSTMAN as well or not?","body":"Do you set the same media type header in POSTMAN as well or not?"}],"answers":[{"tags":[],"owner":{"account_id":9720713,"reputation":906,"user_id":7209547,"display_name":"Mukul Bansal"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1559028139,"creation_date":1559028139,"answer_id":56336951,"question_id":56336439,"body_markdown":"Spring&#39;s RestTemplate implementation has kind of a weird functionality. Whenever, the response is a 4XX, it throws a `HttpClientErrorException` instead of returning the response. Similarly, when the response is a 5XX response, it throws a `HttpServerErrorException`.\r\n&lt;p&gt;\r\nWhen you go inside the library, you will come across the piece of code which is responsible for such functionality inside `DefaultResponseErrorHandler.java#handleError(ClientHttpResponse response)`.\r\n&lt;p&gt;\r\nSo, if you want to fetch the original 4XX or 5XX response, you would have to write a wrapper over the `RestTemplate.java#exchange()` method. Something like this-\r\n&lt;p&gt;\r\n\r\n    private ResponseEntity&lt;String&gt; exchange(String url, HttpMethod method, HttpEntity&lt;?&gt; httpEntity,\r\n    \t\t\t\t\t\t\t\t\t\t   Class&lt;?&gt; class1, Map&lt;String, String&gt; paramMap) {\r\n    \t\tResponseEntity&lt;String&gt; responseEntity = null;\r\n    \t\ttry {\r\n    \t\t\tresponseEntity = restTemplate.exchange(url, method, httpEntity, String.class, paramMap);\r\n    \t\t}catch(HttpClientErrorException e) {\r\n    \t\t\tresponseEntity = new ResponseEntity&lt;&gt;(e.getResponseBodyAsString(), HttpStatus.BAD_REQUEST);\r\n    \t\t}catch(HttpServerErrorException e) {\r\n    \t\t\tresponseEntity = new ResponseEntity&lt;&gt;(e.getResponseBodyAsString(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t\t\tthrow e;\r\n    \t\t}catch(Exception e) {\r\n    \t\t\tresponseEntity = new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t\t\tthrow e;\r\n    \t\t}\r\n    \t\treturn responseEntity;\r\n    \t}","title":"RestTemplate throwing generic 400 Bad Request, but custom server sent message is not is lost","body":"<p>Spring's RestTemplate implementation has kind of a weird functionality. Whenever, the response is a 4XX, it throws a <code>HttpClientErrorException</code> instead of returning the response. Similarly, when the response is a 5XX response, it throws a <code>HttpServerErrorException</code>.\n<p>\nWhen you go inside the library, you will come across the piece of code which is responsible for such functionality inside <code>DefaultResponseErrorHandler.java#handleError(ClientHttpResponse response)</code>.\n<p>\nSo, if you want to fetch the original 4XX or 5XX response, you would have to write a wrapper over the <code>RestTemplate.java#exchange()</code> method. Something like this-\n<p></p>\n\n<pre><code>private ResponseEntity&lt;String&gt; exchange(String url, HttpMethod method, HttpEntity&lt;?&gt; httpEntity,\n                                           Class&lt;?&gt; class1, Map&lt;String, String&gt; paramMap) {\n        ResponseEntity&lt;String&gt; responseEntity = null;\n        try {\n            responseEntity = restTemplate.exchange(url, method, httpEntity, String.class, paramMap);\n        }catch(HttpClientErrorException e) {\n            responseEntity = new ResponseEntity&lt;&gt;(e.getResponseBodyAsString(), HttpStatus.BAD_REQUEST);\n        }catch(HttpServerErrorException e) {\n            responseEntity = new ResponseEntity&lt;&gt;(e.getResponseBodyAsString(), HttpStatus.INTERNAL_SERVER_ERROR);\n            throw e;\n        }catch(Exception e) {\n            responseEntity = new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\n            throw e;\n        }\n        return responseEntity;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13046436,"reputation":2207,"user_id":9428155,"display_name":"Francesc Recio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559034129,"creation_date":1559034129,"answer_id":56338543,"question_id":56336439,"body_markdown":"You are missing:\r\n\r\n    headers.setContentType(MediaType.APPLICATION_JSON);","title":"RestTemplate throwing generic 400 Bad Request, but custom server sent message is not is lost","body":"<p>You are missing:</p>\n\n<pre><code>headers.setContentType(MediaType.APPLICATION_JSON);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7366296,"reputation":739,"user_id":5607943,"display_name":"Nuwan Sameera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701860325,"creation_date":1701860325,"answer_id":77612483,"question_id":56336439,"body_markdown":"Following Mukul Bansal&#39;s answer I did following modification. \r\n\r\n    public class MyErrorHandler extends DefaultResponseErrorHandler {\r\n    \r\n        @Override\r\n        protected void handleError(ClientHttpResponse response, HttpStatusCode statusCode) throws IOException {\r\n    \r\n        }\r\n    \r\n    } \r\n\r\nOverride handleError method without any content. \r\n\r\nThen set error handler to RestTemplate.\r\n  \r\n    RestTemplate restTemplate = new RestTemplate();\r\n    restTemplate.setErrorHandler(new MyErrorHandler());\r\n\r\n\r\nThen it return ResponseEntity with actual status code.\r\n\r\nAnyway I cannot understand reason for default Spring&#39;s implementation.  ","title":"RestTemplate throwing generic 400 Bad Request, but custom server sent message is not is lost","body":"<p>Following Mukul Bansal's answer I did following modification.</p>\n<pre><code>public class MyErrorHandler extends DefaultResponseErrorHandler {\n\n    @Override\n    protected void handleError(ClientHttpResponse response, HttpStatusCode statusCode) throws IOException {\n\n    }\n\n} \n</code></pre>\n<p>Override handleError method without any content.</p>\n<p>Then set error handler to RestTemplate.</p>\n<pre><code>RestTemplate restTemplate = new RestTemplate();\nrestTemplate.setErrorHandler(new MyErrorHandler());\n</code></pre>\n<p>Then it return ResponseEntity with actual status code.</p>\n<p>Anyway I cannot understand reason for default Spring's implementation.</p>\n"}],"owner":{"account_id":1211926,"reputation":2415,"user_id":1180313,"accept_rate":35,"display_name":"Seeker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701860325,"creation_date":1559026017,"question_id":56336439,"body_markdown":"\r\nWe have a rest controller API with POST mapping which takes an object as request param and creates the same on DB. We have got few validations on the input object, and if there is any error, then we are throwing exception with a custom message.\r\n\r\nIf we invoke this API from post man, we see the appropriate error.\r\n\r\nWhereas when we invoke this in the caller method of other application with Spring&#39;s RestTemplate, all we see is a 400 Bad request with empty body. No error message is seen.\r\n\r\nWhat could be the issue here. How can we get the custom message thrown from the API.\r\n\r\nHere is how we are calling the API with rest template.\r\n\r\n        String url = &quot;https://localhost:8895/servuceUrl&quot;;\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n        HttpEntity&lt;AddRequest&gt; entity = new HttpEntity&lt;AddRequest&gt;(obj, headers);\r\n        ResponseEntity&lt;String&gt; data = null;\r\n        adddata = restTemplate.exchange(syncurl, HttpMethod.POST, entity, String.class);\r\n\r\nAnd one server side we have an exception written as\r\n\r\n    @ResponseStatus(value=HttpStatus.BAD_REQUEST)\r\n    public class InvalidDataException extends Exception {\r\n    \r\n    \r\n        public InvalidDataException(String msg) {\r\n            super(msg);\r\n        }\r\n    }\r\n\r\nThe controller looks like\r\n\r\n    @PostMapping(RestUriMappings.POST_MAPPING)\r\n    public ResponseDto add(@Valid @RequestBody AddRequest data) throws InvalidDataException \r\n    {\r\n\r\n        logger.debug(&quot;Incoming data for add: {}&quot;, data.toString());\r\n\r\n        // validate the payload\r\n        if(data.getName()==null)\r\n           throw new InvalidDataException(&quot;Name shouldnt be null&quot;);\r\n    }\r\n\r\n","title":"RestTemplate throwing generic 400 Bad Request, but custom server sent message is not is lost","body":"<p>We have a rest controller API with POST mapping which takes an object as request param and creates the same on DB. We have got few validations on the input object, and if there is any error, then we are throwing exception with a custom message.</p>\n\n<p>If we invoke this API from post man, we see the appropriate error.</p>\n\n<p>Whereas when we invoke this in the caller method of other application with Spring's RestTemplate, all we see is a 400 Bad request with empty body. No error message is seen.</p>\n\n<p>What could be the issue here. How can we get the custom message thrown from the API.</p>\n\n<p>Here is how we are calling the API with rest template.</p>\n\n<pre><code>    String url = \"https://localhost:8895/servuceUrl\";\n    HttpHeaders headers = new HttpHeaders();\n    headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n    HttpEntity&lt;AddRequest&gt; entity = new HttpEntity&lt;AddRequest&gt;(obj, headers);\n    ResponseEntity&lt;String&gt; data = null;\n    adddata = restTemplate.exchange(syncurl, HttpMethod.POST, entity, String.class);\n</code></pre>\n\n<p>And one server side we have an exception written as</p>\n\n<pre><code>@ResponseStatus(value=HttpStatus.BAD_REQUEST)\npublic class InvalidDataException extends Exception {\n\n\n    public InvalidDataException(String msg) {\n        super(msg);\n    }\n}\n</code></pre>\n\n<p>The controller looks like</p>\n\n<pre><code>@PostMapping(RestUriMappings.POST_MAPPING)\npublic ResponseDto add(@Valid @RequestBody AddRequest data) throws InvalidDataException \n{\n\n    logger.debug(\"Incoming data for add: {}\", data.toString());\n\n    // validate the payload\n    if(data.getName()==null)\n       throw new InvalidDataException(\"Name shouldnt be null\");\n}\n</code></pre>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1633209117,"post_id":69420215,"comment_id":122700073,"body_markdown":"Does this answer your question? [What is a raw type and why shouldn&#39;t we use it?](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">What is a raw type and why shouldn&#39;t we use it?</a>"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633210818,"creation_date":1633209083,"answer_id":69420297,"question_id":69420215,"body_markdown":"To fix the error, change the parameter from a raw `Map`\r\n\r\n    Map map\r\n\r\nto a typed `Map`:\r\n\r\n    Map&lt;String, Integer&gt; map\r\n\r\nGiving:\r\n\r\n    public Map&lt;String, Integer&gt; sort(Map&lt;String, Integer&gt; map) {\r\n    return map.entrySet().stream().\r\n            sorted(Map.Entry.comparingByValue()).\r\n            collect(Collectors.toMap(\r\n                    Map.Entry::getKey,\r\n                    Map.Entry::getValue,\r\n                    (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\r\n    }\r\n\r\nOr to make it work with *any* map type:\n\n    public &lt;K, V extends Comparable&lt;V&gt;&gt; Map&lt;K, V&gt; sort(Map&lt;K, V&gt; map) {\n\nNote that the return type doesn’t need to be `LinkedHashMap`. As per [Liskov Substitution Principle](https://en.wikipedia.org/wiki/Liskov_substitution_principle) you should always use the abstract type where possible.\n\nI haven&#39;t looked deeply into it, but I suspect you have encountered an unintentional match with a synthetic method.\r\n\r\nGenerics has some weird aspects when you use raw types, which are to be avoided.","title":"Why Map.entry::getKey and Map.entry::getValue doesn&#39;t work when sorting hashmap in a stream?","body":"<p>To fix the error, change the parameter from a raw <code>Map</code></p>\n<pre><code>Map map\n</code></pre>\n<p>to a typed <code>Map</code>:</p>\n<pre><code>Map&lt;String, Integer&gt; map\n</code></pre>\n<p>Giving:</p>\n<pre><code>public Map&lt;String, Integer&gt; sort(Map&lt;String, Integer&gt; map) {\nreturn map.entrySet().stream().\n        sorted(Map.Entry.comparingByValue()).\n        collect(Collectors.toMap(\n                Map.Entry::getKey,\n                Map.Entry::getValue,\n                (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\n}\n</code></pre>\n<p>Or to make it work with <em>any</em> map type:</p>\n<pre><code>public &lt;K, V extends Comparable&lt;V&gt;&gt; Map&lt;K, V&gt; sort(Map&lt;K, V&gt; map) {\n</code></pre>\n<p>Note that the return type doesn’t need to be <code>LinkedHashMap</code>. As per <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">Liskov Substitution Principle</a> you should always use the abstract type where possible.</p>\n<p>I haven't looked deeply into it, but I suspect you have encountered an unintentional match with a synthetic method.</p>\n<p>Generics has some weird aspects when you use raw types, which are to be avoided.</p>\n"},{"tags":[],"owner":{"account_id":19870082,"reputation":489,"user_id":14556461,"display_name":"Pawel Woroniecki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633209140,"creation_date":1633209140,"answer_id":69420304,"question_id":69420215,"body_markdown":"Replace method&#39;s parameter from `Map map` to `Map&lt;String, Integer&gt; map` and it will work correctly. Currently your map generic types are mismatching.\r\n\r\nOr if you want to make it more generic, then you can do it like this:\r\n`public &lt;S, T extends Comparable&lt;T&gt;&gt;LinkedHashMap&lt;S, T&gt; sort(Map&lt;S, T&gt; map) {`","title":"Why Map.entry::getKey and Map.entry::getValue doesn&#39;t work when sorting hashmap in a stream?","body":"<p>Replace method's parameter from <code>Map map</code> to <code>Map&lt;String, Integer&gt; map</code> and it will work correctly. Currently your map generic types are mismatching.</p>\n<p>Or if you want to make it more generic, then you can do it like this:\n<code>public &lt;S, T extends Comparable&lt;T&gt;&gt;LinkedHashMap&lt;S, T&gt; sort(Map&lt;S, T&gt; map) {</code></p>\n"},{"tags":[],"owner":{"account_id":2857618,"reputation":2714,"user_id":2453542,"accept_rate":88,"display_name":"James Paterson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701859821,"creation_date":1701859821,"answer_id":77612422,"question_id":69420215,"body_markdown":"To add to this - this issue can also crop up if you have a map in a lambda parameter. You need to type your lambda parameter rather than replying on the implicit typing. I had this problem when reducing to a hashmap like below:\r\n\r\n```\r\n\r\nmap\r\n    .stream()\r\n    .reduce(\r\n        new HashMap&lt;&gt;(),\r\n        (a, b) -&gt; { /* some reducer */}\r\n        /* The types below in the lambda function are needed! */\r\n        (final Map&lt;Key, Integer&gt; a, final Map&lt;Key, Integer&gt; b) -&gt; Stream.of(a, b)\r\n            .flatMap(map -&gt; map.entrySet().stream())\r\n            .collect(Collectors.toMap(\r\n                Map.Entry::getKey,\r\n                Map.Entry::getValue,\r\n                Integer::sum\r\n            ))\r\n        );\r\n```","title":"Why Map.entry::getKey and Map.entry::getValue doesn&#39;t work when sorting hashmap in a stream?","body":"<p>To add to this - this issue can also crop up if you have a map in a lambda parameter. You need to type your lambda parameter rather than replying on the implicit typing. I had this problem when reducing to a hashmap like below:</p>\n<pre><code>\nmap\n    .stream()\n    .reduce(\n        new HashMap&lt;&gt;(),\n        (a, b) -&gt; { /* some reducer */}\n        /* The types below in the lambda function are needed! */\n        (final Map&lt;Key, Integer&gt; a, final Map&lt;Key, Integer&gt; b) -&gt; Stream.of(a, b)\n            .flatMap(map -&gt; map.entrySet().stream())\n            .collect(Collectors.toMap(\n                Map.Entry::getKey,\n                Map.Entry::getValue,\n                Integer::sum\n            ))\n        );\n</code></pre>\n"}],"owner":{"account_id":15696142,"reputation":499,"user_id":13916802,"display_name":"Alpharius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":779,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69420297,"answer_count":3,"score":-1,"last_activity_date":1701859821,"creation_date":1633208252,"question_id":69420215,"body_markdown":"I&#39;m trying to sort a HashMap using a stream :\r\n\r\n```\r\npublic class sortByValue implements Sorting{\r\n    @Override\r\n    public LinkedHashMap&lt;String,Integer&gt; sort(Map map) {\r\n        return map.entrySet().stream().\r\n                              sorted(Map.Entry.comparingByValue()).\r\n                              collect(Collectors.toMap(\r\n                                        Map.Entry::getKey,\r\n                                        Map.Entry::getValue,\r\n                                        (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\r\n    }\r\n}\r\n```\r\nBut it gives me an error :\r\n\r\n```Non-static method cannot be referenced from a static context ``` it is on the functions\r\n``` Map.Entry::getKey,Map.Entry::getValue ``` But I saw the same example on the website.Maybe someone understands what the mistake is?","title":"Why Map.entry::getKey and Map.entry::getValue doesn&#39;t work when sorting hashmap in a stream?","body":"<p>I'm trying to sort a HashMap using a stream :</p>\n<pre><code>public class sortByValue implements Sorting{\n    @Override\n    public LinkedHashMap&lt;String,Integer&gt; sort(Map map) {\n        return map.entrySet().stream().\n                              sorted(Map.Entry.comparingByValue()).\n                              collect(Collectors.toMap(\n                                        Map.Entry::getKey,\n                                        Map.Entry::getValue,\n                                        (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\n    }\n}\n</code></pre>\n<p>But it gives me an error :</p>\n<p><code>Non-static method cannot be referenced from a static context </code> it is on the functions\n<code>Map.Entry::getKey,Map.Entry::getValue</code> But I saw the same example on the website.Maybe someone understands what the mistake is?</p>\n"},{"tags":["java","internals"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1701868148,"post_id":77612361,"comment_id":136827953,"body_markdown":"Please be more specific what you do to trigger this error. Just start the IDE without a project, or open a project, or ...? Also add the versions of Eclipse and Java that you use with all details you can find out. Did it work before? What did you change?","body":"Please be more specific what you do to trigger this error. Just start the IDE without a project, or open a project, or ...? Also add the versions of Eclipse and Java that you use with all details you can find out. Did it work before? What did you change?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1701883093,"post_id":77612361,"comment_id":136830886,"body_markdown":"Looks somewhat similar to https://stackoverflow.com/questions/74779212/an-internal-error-occurred-during-requesting-java-ast-from-selection-java-la","body":"Looks somewhat similar to <a href=\"https://stackoverflow.com/questions/74779212/an-internal-error-occurred-during-requesting-java-ast-from-selection-java-la\" title=\"an internal error occurred during requesting java ast from selection java la\">stackoverflow.com/questions/74779212/&hellip;</a>"},{"owner":{"account_id":28840735,"reputation":1,"user_id":22089058,"display_name":"Boopathi Raja"},"score":0,"creation_date":1701956446,"post_id":77612361,"comment_id":136840718,"body_markdown":"we find the solution to yesterday. Try anyone got this error message go to Eclipse main menu window =&gt; preference =&gt; java &gt; occurred","body":"we find the solution to yesterday. Try anyone got this error message go to Eclipse main menu window =&gt; preference =&gt; java &gt; occurred"}],"owner":{"account_id":28840735,"reputation":1,"user_id":22089058,"display_name":"Boopathi Raja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701859770,"creation_date":1701859309,"question_id":77612361,"body_markdown":"An internal error occurred during: &quot;Requesting Java AST from selection&quot;.\r\n\r\n![enter image description here](https://i.stack.imgur.com/dncdv.png)\r\ncan&#39;t be able to clear this error. repository also not getting old version first appall we suspect to the error message is populate reason is not installed SVN Repository, but this is not repository error message.","title":"while am open the Eclipse getting in this of error message","body":"<p>An internal error occurred during: &quot;Requesting Java AST from selection&quot;.</p>\n<p><img src=\"https://i.stack.imgur.com/dncdv.png\" alt=\"enter image description here\" />\ncan't be able to clear this error. repository also not getting old version first appall we suspect to the error message is populate reason is not installed SVN Repository, but this is not repository error message.</p>\n"},{"tags":["java","automation","rest-assured"],"owner":{"account_id":5462950,"reputation":33,"user_id":4344459,"display_name":"iamzero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701859552,"creation_date":1701859552,"question_id":77612393,"body_markdown":"I was trying to understand the below code where a Json file/property is being used as a payload for a Request, however due to use of Jayway not able to understand it fully. Can someone help me understand the code here better?         \r\n\r\n\r\n        private static final Configuration configuration =\r\n                  Configuration.builder()\r\n                      .jsonProvider(new JacksonJsonNodeJsonProvider())\r\n                      .mappingProvider(new JacksonMappingProvider())\r\n                      .build();\r\n            \r\n              @SneakyThrows\r\n              public static JsonObject verifyUser(\r\n                  String a, String b, String c) {\r\n            \r\n                DocumentContext parsed =\r\n                    JsonPath.parse(new File(&quot;path.json&quot;));\r\n                parsed =\r\n                    JsonPath.using(configuration)\r\n                        .parse(parsed.jsonString())\r\n                        .set(&quot;a&quot;, id)\r\n                        .set(&quot;b&quot;, nfo)\r\n                        .set(&quot;c&quot;, finalId);\r\n      if (b != null) {\r\n          parsed =\r\n              JsonPath.using(configuration)\r\n                  .parse(parsed.jsonString())\r\n                  .set(&quot;b&quot;, code);\r\n        }\r\n        return new Gson().fromJson(parsed.jsonString(), JsonObject.class);\r\n      }","title":"Reading Json file as input for a request payload","body":"<p>I was trying to understand the below code where a Json file/property is being used as a payload for a Request, however due to use of Jayway not able to understand it fully. Can someone help me understand the code here better?</p>\n<pre><code>    private static final Configuration configuration =\n              Configuration.builder()\n                  .jsonProvider(new JacksonJsonNodeJsonProvider())\n                  .mappingProvider(new JacksonMappingProvider())\n                  .build();\n        \n          @SneakyThrows\n          public static JsonObject verifyUser(\n              String a, String b, String c) {\n        \n            DocumentContext parsed =\n                JsonPath.parse(new File(&quot;path.json&quot;));\n            parsed =\n                JsonPath.using(configuration)\n                    .parse(parsed.jsonString())\n                    .set(&quot;a&quot;, id)\n                    .set(&quot;b&quot;, nfo)\n                    .set(&quot;c&quot;, finalId);\n  if (b != null) {\n      parsed =\n          JsonPath.using(configuration)\n              .parse(parsed.jsonString())\n              .set(&quot;b&quot;, code);\n    }\n    return new Gson().fromJson(parsed.jsonString(), JsonObject.class);\n  }\n</code></pre>\n"},{"tags":["java","spring-boot","docker","maven"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1701805734,"post_id":77608861,"comment_id":136820275,"body_markdown":"Not sure that this is the source of the problem, but: [&quot;*There can only be one `CMD` instruction in a `Dockerfile`. If you list more than one `CMD` then only the last `CMD` will take effect.*&quot; (`docs.docker.com`)](https://docs.docker.com/engine/reference/builder/#cmd)","body":"Not sure that this is the source of the problem, but: <a href=\"https://docs.docker.com/engine/reference/builder/#cmd\" rel=\"nofollow noreferrer\">&quot;<i>There can only be one <code>CMD</code> instruction in a <code>Dockerfile</code>. If you list more than one <code>CMD</code> then only the last <code>CMD</code> will take effect.</i>&quot; (<code>docs.docker.com</code>)</a>"},{"owner":{"account_id":13863020,"reputation":136993,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1701806544,"post_id":77608861,"comment_id":136820379,"body_markdown":"I wouldn&#39;t normally expect unit tests to be included in your image in any case.  I&#39;d run the JUnit suite using host tools, before you `docker build` an image out of only the application.","body":"I wouldn&#39;t normally expect unit tests to be included in your image in any case.  I&#39;d run the JUnit suite using host tools, before you <code>docker build</code> an image out of only the application."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701807980,"post_id":77608861,"comment_id":136820595,"body_markdown":"I would suggest the same @DavidMaze but furthermore the question is why do you run `mvn clean package`, `mvn test-compile` and `mvn test`? Just use `mvn verify` that&#39;s all what is needed...","body":"I would suggest the same @DavidMaze but furthermore the question is why do you run <code>mvn clean package</code>, <code>mvn test-compile</code> and <code>mvn test</code>? Just use <code>mvn verify</code> that&#39;s all what is needed..."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701808054,"post_id":77608861,"comment_id":136820604,"body_markdown":"Very important quesiton: Which plugin version do you use because I see extreme old version maven-compiler-plugin:2.5.1 which is more than a decade old... check also the plugin versions.. ? Have you defined them in your pom file? Do you use a parent? Please show the full log output?","body":"Very important quesiton: Which plugin version do you use because I see extreme old version maven-compiler-plugin:2.5.1 which is more than a decade old... check also the plugin versions.. ? Have you defined them in your pom file? Do you use a parent? Please show the full log output?"},{"owner":{"account_id":30074937,"reputation":11,"user_id":23048032,"display_name":"Nader Khalaila"},"score":0,"creation_date":1701808201,"post_id":77608861,"comment_id":136820622,"body_markdown":"@Turing85 I tried with one CMD, got the same result. Thanks for your answer anyway!","body":"@Turing85 I tried with one CMD, got the same result. Thanks for your answer anyway!"},{"owner":{"account_id":30074937,"reputation":11,"user_id":23048032,"display_name":"Nader Khalaila"},"score":0,"creation_date":1701808432,"post_id":77608861,"comment_id":136820655,"body_markdown":"@khmarbaise the mvn cmd doesn&#39;t really matter, it doesn&#39;t see the tests anyway. thanks anyway!","body":"@khmarbaise the mvn cmd doesn&#39;t really matter, it doesn&#39;t see the tests anyway. thanks anyway!"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1701809953,"post_id":77608861,"comment_id":136820884,"body_markdown":"@NaderKhalaila du you have a [MRE], e.g. in form of a github repository?","body":"@NaderKhalaila du you have a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, e.g. in form of a github repository?"},{"owner":{"account_id":30074937,"reputation":11,"user_id":23048032,"display_name":"Nader Khalaila"},"score":0,"creation_date":1701810543,"post_id":77608861,"comment_id":136820977,"body_markdown":"@Turing85 example of which code? This is a corporate code and unfortunatelyI can&#39;t share it. but what I can say is that it doesn&#39;t matter what I run, it runs perfectly in IntelliJ, but doesn&#39;t run inside the image.","body":"@Turing85 example of which code? This is a corporate code and unfortunatelyI can&#39;t share it. but what I can say is that it doesn&#39;t matter what I run, it runs perfectly in IntelliJ, but doesn&#39;t run inside the image."},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1701810740,"post_id":77608861,"comment_id":136820998,"body_markdown":"We cannot help without a [MRE]. There are multiple possibilities that could cause this issue.","body":"We cannot help without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. There are multiple possibilities that could cause this issue."},{"owner":{"account_id":30074937,"reputation":11,"user_id":23048032,"display_name":"Nader Khalaila"},"score":0,"creation_date":1701810758,"post_id":77608861,"comment_id":136821002,"body_markdown":"I saw in different places that it&#39;s actually possible to run unit tests inside of a container after building the image. @DavidMaze\nin my case, my application is built also when building the image, so how can I run the tests before that. \nI have one container that will be deployed on jenkins and run on argocd, so can&#39;t do anything outside of it","body":"I saw in different places that it&#39;s actually possible to run unit tests inside of a container after building the image. @DavidMaze in my case, my application is built also when building the image, so how can I run the tests before that.  I have one container that will be deployed on jenkins and run on argocd, so can&#39;t do anything outside of it"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1701810810,"post_id":77608861,"comment_id":136821008,"body_markdown":"Please read: [Can I ask only one question per post?](https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post)","body":"Please read: <a href=\"https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post\">Can I ask only one question per post?</a>"},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701845145,"post_id":77608861,"comment_id":136824121,"body_markdown":"@NaderKhalaila You are not answering questions... You even don&#39;t know what actually matters so I can&#39;t help if you don&#39;t answer my question... Sorry...","body":"@NaderKhalaila You are not answering questions... You even don&#39;t know what actually matters so I can&#39;t help if you don&#39;t answer my question... Sorry..."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1701845346,"post_id":77608861,"comment_id":136824142,"body_markdown":"A [mre] does not require to copy the full code, especially not company full code. On the contrary, it is supposed to contain as little code as possible. Also it should be directly here and not e.g. only a link to a github repository.","body":"A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> does not require to copy the full code, especially not company full code. On the contrary, it is supposed to contain as little code as possible. Also it should be directly here and not e.g. only a link to a github repository."}],"answers":[{"tags":[],"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701859469,"creation_date":1701859469,"answer_id":77612383,"question_id":77608861,"body_markdown":"You&#39;re having multiple CMD statements in your Dockerfile, however only last is getting executed instead this you can concatenate your CMD commands. Here is updated Dockerfile -\r\n\r\n    FROM docker.xxxxx.com/oicp/standard/maven/amzn-maven-corretto8:latest AS build\r\n    \r\n    USER root\r\n    \r\n    ARG build\r\n    LABEL build=${build}\r\n    LABEL image=integration\r\n    ARG appVersion=local\r\n    \r\n    COPY src /home/appuser/integration/src\r\n    COPY pom.xml /home/appuser/integration/pom.xml\r\n    COPY settings.xml /home/appuser/integration/settings.xml\r\n    COPY entry.sh /home/appuser/integration/entry.sh\r\n    \r\n    WORKDIR /home/appuser/integration/\r\n    \r\n    # Run Maven to download dependencies\r\n    RUN mvn -f pom.xml dependency:go-offline\r\n    \r\n    # Build the application\r\n    RUN mvn -f pom.xml clean package\r\n    \r\n    # Run tests (this is typically not necessary if you are building the project with &#39;mvn package&#39;)\r\n    # RUN mvn -f pom.xml test\r\n    \r\n    CMD [&quot;mvn&quot;, &quot;test&quot;]\r\n\r\nPlease make sure your tests are located in standard Maven directory structure `(src/test/java)`.\r\n\r\nI hope it works for you.","title":"Junit Unit tests not running in docker image","body":"<p>You're having multiple CMD statements in your Dockerfile, however only last is getting executed instead this you can concatenate your CMD commands. Here is updated Dockerfile -</p>\n<pre><code>FROM docker.xxxxx.com/oicp/standard/maven/amzn-maven-corretto8:latest AS build\n\nUSER root\n\nARG build\nLABEL build=${build}\nLABEL image=integration\nARG appVersion=local\n\nCOPY src /home/appuser/integration/src\nCOPY pom.xml /home/appuser/integration/pom.xml\nCOPY settings.xml /home/appuser/integration/settings.xml\nCOPY entry.sh /home/appuser/integration/entry.sh\n\nWORKDIR /home/appuser/integration/\n\n# Run Maven to download dependencies\nRUN mvn -f pom.xml dependency:go-offline\n\n# Build the application\nRUN mvn -f pom.xml clean package\n\n# Run tests (this is typically not necessary if you are building the project with 'mvn package')\n# RUN mvn -f pom.xml test\n\nCMD [&quot;mvn&quot;, &quot;test&quot;]\n</code></pre>\n<p>Please make sure your tests are located in standard Maven directory structure <code>(src/test/java)</code>.</p>\n<p>I hope it works for you.</p>\n"}],"owner":{"account_id":30074937,"reputation":11,"user_id":23048032,"display_name":"Nader Khalaila"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701859469,"creation_date":1701805274,"question_id":77608861,"body_markdown":"I have a spring boot application, my junit unit tests run perfectly in IntelliJ when I run &quot;mvn clean install&quot;, but when try to run them inside of a docker image, non of them actually run, I get that they are compiled, but they don&#39;t run.\r\nhere is the content of my docker-image:\r\n\r\n\r\n```\r\nFROM docker.xxxxx.com/oicp/standard/maven/amzn-maven-corretto8:latest AS build\r\n\r\nUSER root\r\n\r\nARG build\r\nLABEL build=${build}\r\nLABEL image=integration\r\nARG appVersion=local\r\n\r\nCOPY src /home/appuser/integration/src\r\nCOPY pom.xml /home/appuser/integration/pom.xml\r\nCOPY settings.xml /home/appuser/integration/settings.xml\r\nCOPY entry.sh /home/appuser/integration/entry.sh\r\n\r\nWORKDIR /home/appuser/integration/\r\nRUN mvn -f pom.xml dependency:go-offline\r\nCMD mvn -f pom.xml clean package\r\n\r\nCMD mvn test-compile\r\nCMD mvn test\r\n\r\n```\r\n\r\n```\r\nCompiling 11 source files to /home/appuser/integration/target/classes\r\n[INFO] \r\n[INFO] --- resources:3.3.0:testResources (default-testResources) @ @@@@@ ---\r\n[INFO] Copying 0 resource\r\n[INFO] \r\n[INFO] --- compiler:2.5.1:testCompile (default-testCompile) @ @@@@@ ---\r\n[INFO] Compiling 2 source files to /home/appuser/integration/target/test-classes\r\n[INFO] \r\n\r\n```\r\n\r\n```\r\n-------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO] \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  01:12 min\r\n[INFO] Finished at: 2023-12-05T17:47:29Z\r\n[INFO] -------------------------------------------------------------------\r\n```\r\n\r\n\r\n","title":"Junit Unit tests not running in docker image","body":"<p>I have a spring boot application, my junit unit tests run perfectly in IntelliJ when I run &quot;mvn clean install&quot;, but when try to run them inside of a docker image, non of them actually run, I get that they are compiled, but they don't run.\nhere is the content of my docker-image:</p>\n<pre><code>FROM docker.xxxxx.com/oicp/standard/maven/amzn-maven-corretto8:latest AS build\n\nUSER root\n\nARG build\nLABEL build=${build}\nLABEL image=integration\nARG appVersion=local\n\nCOPY src /home/appuser/integration/src\nCOPY pom.xml /home/appuser/integration/pom.xml\nCOPY settings.xml /home/appuser/integration/settings.xml\nCOPY entry.sh /home/appuser/integration/entry.sh\n\nWORKDIR /home/appuser/integration/\nRUN mvn -f pom.xml dependency:go-offline\nCMD mvn -f pom.xml clean package\n\nCMD mvn test-compile\nCMD mvn test\n\n</code></pre>\n<pre><code>Compiling 11 source files to /home/appuser/integration/target/classes\n[INFO] \n[INFO] --- resources:3.3.0:testResources (default-testResources) @ @@@@@ ---\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- compiler:2.5.1:testCompile (default-testCompile) @ @@@@@ ---\n[INFO] Compiling 2 source files to /home/appuser/integration/target/test-classes\n[INFO] \n\n</code></pre>\n<pre><code>-------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  01:12 min\n[INFO] Finished at: 2023-12-05T17:47:29Z\n[INFO] -------------------------------------------------------------------\n</code></pre>\n"},{"tags":["javascript","java","html","css","attributes"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701856172,"post_id":77612004,"comment_id":136825768,"body_markdown":"Why the [tag:java] tag?","body":"Why the <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> tag?"},{"owner":{"account_id":4424972,"reputation":33507,"user_id":3603681,"display_name":"Professor Abronsius"},"score":1,"creation_date":1701856977,"post_id":77612004,"comment_id":136825931,"body_markdown":"Please add the code that you have and try to explain how it is not working as expected","body":"Please add the code that you have and try to explain how it is not working as expected"},{"owner":{"account_id":4952494,"reputation":15643,"user_id":3986005,"display_name":"KIKO Software"},"score":0,"creation_date":1701857373,"post_id":77612004,"comment_id":136826004,"body_markdown":"Finding out how to get user input, or how to change the content of an element, isn&#39;t difficult by itself. I&#39;m _sure_ you&#39;ve found that. The question is: Why doesn&#39;t it work in your case? That&#39;s the question we cannot answer, because the code you&#39;re using is absent from your question. Can you please add it?","body":"Finding out how to get user input, or how to change the content of an element, isn&#39;t difficult by itself. I&#39;m <i>sure</i> you&#39;ve found that. The question is: Why doesn&#39;t it work in your case? That&#39;s the question we cannot answer, because the code you&#39;re using is absent from your question. Can you please add it?"},{"owner":{"account_id":26467192,"reputation":99,"user_id":20108229,"display_name":"Mohammed Alkebsi"},"score":0,"creation_date":1701858389,"post_id":77612004,"comment_id":136826188,"body_markdown":"Updating user information dynamically is not something JavaScript can natively do. You may need to use the old AJAX single-page-applications or try to learn a little about React. React is not that hard and I really recommend it. Other frameworks may also work, but believe me, React is all about what you are looking for!","body":"Updating user information dynamically is not something JavaScript can natively do. You may need to use the old AJAX single-page-applications or try to learn a little about React. React is not that hard and I really recommend it. Other frameworks may also work, but believe me, React is all about what you are looking for!"}],"answers":[{"tags":[],"owner":{"account_id":30050002,"reputation":16,"user_id":23028770,"display_name":"RMMR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701859406,"creation_date":1701859406,"answer_id":77612375,"question_id":77612004,"body_markdown":"You will first want to add a very specific ID to both the div you want to update and the input (`&lt;div id=&quot;dynamic-info-update-div&quot;&gt;...&lt;/div&gt;` and `&lt;input id=&quot;dynamic-info-update-input&quot;&gt;`). The reason why you want them so specific is to avoid any accidental connections in the future.\r\n\r\nNow you will want to &quot;import&quot; those 2 elements into your JS code using `document.getElementById(&#39;id&#39;);` (make sure to replace &quot;id&quot; with you actual element ids. Do this for both elements). Also, make sure to apply an appropriate variable name for each (`var variable_name = document.getElementById(&#39;id&#39;);`).\r\n\r\nAfter this simply add your script for updating said information and it should work fine. Don&#39;t forget to also link your JS file with  your HTML file (in your HTML file right above the `&lt;/body&gt;` element make sure to add `&lt;script src=&quot;path/to/script.js&quot;&gt;&lt;/script&gt;`).","title":"How can I dynamically update the content of a div element based on user input using JavaScript?","body":"<p>You will first want to add a very specific ID to both the div you want to update and the input (<code>&lt;div id=&quot;dynamic-info-update-div&quot;&gt;...&lt;/div&gt;</code> and <code>&lt;input id=&quot;dynamic-info-update-input&quot;&gt;</code>). The reason why you want them so specific is to avoid any accidental connections in the future.</p>\n<p>Now you will want to &quot;import&quot; those 2 elements into your JS code using <code>document.getElementById('id');</code> (make sure to replace &quot;id&quot; with you actual element ids. Do this for both elements). Also, make sure to apply an appropriate variable name for each (<code>var variable_name = document.getElementById('id');</code>).</p>\n<p>After this simply add your script for updating said information and it should work fine. Don't forget to also link your JS file with  your HTML file (in your HTML file right above the <code>&lt;/body&gt;</code> element make sure to add <code>&lt;script src=&quot;path/to/script.js&quot;&gt;&lt;/script&gt;</code>).</p>\n"}],"owner":{"account_id":30053240,"reputation":1,"user_id":23031184,"display_name":"ANUVINDH KRISHNA P B"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701867530,"answer_count":1,"score":-1,"last_activity_date":1701859406,"creation_date":1701856096,"question_id":77612004,"body_markdown":"I&#39;m working on a web project where users can input data, and I want to update a specific &lt;div&gt; element on the page with the entered information dynamically. I&#39;ve tried, but it&#39;s not working as expected. Can someone provide guidance or a code example to achieve this?&quot;\r\n\r\n\r\nI want to update a specific &lt;div&gt; element on the page","title":"How can I dynamically update the content of a div element based on user input using JavaScript?","body":"<p>I'm working on a web project where users can input data, and I want to update a specific  element on the page with the entered information dynamically. I've tried, but it's not working as expected. Can someone provide guidance or a code example to achieve this?&quot;</p>\n<p>I want to update a specific  element on the page</p>\n"},{"tags":["javascript","java","angularjs","msal.js"],"answers":[{"tags":[],"owner":{"account_id":3464847,"reputation":1,"user_id":13526891,"display_name":"batata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701485076,"creation_date":1701448857,"answer_id":77586803,"question_id":77515505,"body_markdown":"I am actually in the process of doing so, and I&#39;m running into some issues with the redirect methods. The callback url after authenticating doesn&#39;t get handled, and I&#39;m in the process of figuring out why. Since I&#39;m using msal-browser, there might not be a way to do so and I have to do that manually? The code samples from the git repo is great and helps you understand the flow for the JS implementations, but I suspect that either angularjs 1.8 is doing something that might be affecting the callback, or maybe the angularjs hash &quot;#&quot; could be doing something too. I&#39;m not too sure. But here&#39;s the link to the code samples and in there you see lots of documentations. The relevant ones are msal-browser and msal-common. The msal-angular does not support angularjs, the minimum is v2.\r\n\r\nI&#39;m currently trying to implement it as a service using a factory, then I&#39;m trying to use that service in the main module config where I use urlRouterProvider.when(&#39;/&#39;) and in the controller. I haven&#39;t massaged out the full process yet as I&#39;m still in having a few issues. So I&#39;ll try to update this when I do!\r\n\r\n\r\n**Links:**\r\n[msal-browser][1]\r\n[samples][2]\r\n\r\n\r\n  [1]: https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/lib/msal-browser\r\n  [2]: https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-browser-samples\r\n\r\n\r\n**Update:**\r\n\r\nI don&#39;t know how helpful this update is, but I got the callback url to be processed and the issue is resolved when using the `loginRedirect()` (other things still to handle like tokens). I&#39;m not exactly sure how I did it, it&#39;s possible to be one or the combination of these things:\r\n- I added `http://localhost:3000/#` to the azure AD redirect uri. So now I have both with and without the &quot;#&quot;. And in the MSAL config object, I don&#39;t specify the redirectUri. (I have html5mode(false) btw, so it might be different for you).\r\n- I added scopes to the azure AD and used them instead of just using arbitrary ones that I took from the sample code like `[User.Read]`. I don&#39;t think this made a big difference, because if the scopes were wrong, it wouldn&#39;t like it and it shows you a message about it.\r\n- I added handling the events that get emitted from MSAL, inside the app module definition `.run()`, which I thought that fixed it, but it still works without them.\r\n\r\nI will take another look later and hopefully see what I did to get it to work, but you also might not run into this issue at all.","title":"How to integrate MSAL library from scratch with Angular js 1.x application","body":"<p>I am actually in the process of doing so, and I'm running into some issues with the redirect methods. The callback url after authenticating doesn't get handled, and I'm in the process of figuring out why. Since I'm using msal-browser, there might not be a way to do so and I have to do that manually? The code samples from the git repo is great and helps you understand the flow for the JS implementations, but I suspect that either angularjs 1.8 is doing something that might be affecting the callback, or maybe the angularjs hash &quot;#&quot; could be doing something too. I'm not too sure. But here's the link to the code samples and in there you see lots of documentations. The relevant ones are msal-browser and msal-common. The msal-angular does not support angularjs, the minimum is v2.</p>\n<p>I'm currently trying to implement it as a service using a factory, then I'm trying to use that service in the main module config where I use urlRouterProvider.when('/') and in the controller. I haven't massaged out the full process yet as I'm still in having a few issues. So I'll try to update this when I do!</p>\n<p><strong>Links:</strong>\n<a href=\"https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/lib/msal-browser\" rel=\"nofollow noreferrer\">msal-browser</a>\n<a href=\"https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-browser-samples\" rel=\"nofollow noreferrer\">samples</a></p>\n<p><strong>Update:</strong></p>\n<p>I don't know how helpful this update is, but I got the callback url to be processed and the issue is resolved when using the <code>loginRedirect()</code> (other things still to handle like tokens). I'm not exactly sure how I did it, it's possible to be one or the combination of these things:</p>\n<ul>\n<li>I added <code>http://localhost:3000/#</code> to the azure AD redirect uri. So now I have both with and without the &quot;#&quot;. And in the MSAL config object, I don't specify the redirectUri. (I have html5mode(false) btw, so it might be different for you).</li>\n<li>I added scopes to the azure AD and used them instead of just using arbitrary ones that I took from the sample code like <code>[User.Read]</code>. I don't think this made a big difference, because if the scopes were wrong, it wouldn't like it and it shows you a message about it.</li>\n<li>I added handling the events that get emitted from MSAL, inside the app module definition <code>.run()</code>, which I thought that fixed it, but it still works without them.</li>\n</ul>\n<p>I will take another look later and hopefully see what I did to get it to work, but you also might not run into this issue at all.</p>\n"},{"tags":[],"owner":{"account_id":4311544,"reputation":115,"user_id":3522452,"display_name":"Ranjan Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701859177,"creation_date":1701859177,"answer_id":77612346,"question_id":77515505,"body_markdown":"Thank you for response.\r\n\r\nI have to use MSAL Library with Multiple Identity Providers (Azure AD, Keycloak, Okta, DB Login)\r\n\r\nI&#39;m working on implementing authentication with multiple identity providers using the MSAL library in an AngularJS application. Currently, I&#39;m focusing on Azure AD. Here&#39;s an overview of the steps I&#39;ve taken and the issue I&#39;m facing:\r\n\r\n**Step 1: Route Configuration**\r\n\r\nI have set up a route configuration using $routeProvider.when(&#39;/&#39;) in my AngularJS application. When I access localhost:8080/abc, it correctly redirects to the login page.\r\n\r\n    mainApp.config(function($routeProvider) {\r\n    $routeProvider\r\n        .when(&quot;/login/&quot;, {\r\n            templateUrl: &quot;views/login.html&quot;,\r\n            controller: &quot;LoginController&quot;\r\n        })\r\n        .when(&quot;/logout/&quot;, {\r\n            templateUrl: &quot;views/logout.html&quot;,\r\n            controller: &quot;LogoutController&quot;\r\n        })\r\n        .when(&quot;/workbench/&quot;, {\r\n            templateUrl: &quot;views/workbench.html&quot;,\r\n            controller: &quot;WorkbenchController&quot;\r\n        })\r\n        .otherwise({\r\n            redirectTo: &quot;/login/&quot;\r\n        });\r\n    )}\r\n\r\n**Step 2: Redirect to Azure AD Login Page**\r\nUpon accessing localhost:8080/abc, there is a brief redirection to the login page, and then it automatically redirects to the Azure AD login page.\r\n\r\n    mainApp.service(&quot;msalService&quot;, [&quot;$q&quot;, function ($q) {\r\n    var msalConfig = {\r\n        auth: {\r\n            clientId: &quot;4bhy65sv-cde1-3939-rtfhf9-a2b7356789327645&quot;,\r\n            authority: &quot;https://login.microsoftonline.com/47582628-45982-4bb1-a3e5-583446725dsfdtjfdsbf&quot;,\r\n            redirectUri: &quot;http://localhost:8080/abc&quot;,\r\n            navigateToLoginRequestUrl: true,\r\n        },\r\n        cache: {\r\n            cacheLocation: &quot;localStorage&quot;,\r\n            storeAuthStateInCookie: true,\r\n        },\r\n    };\r\n\r\n    var myMSALObj = new msal.PublicClientApplication(msalConfig);\r\n\r\n    return {\r\n        acquireToken: function () {\r\n            var deferred = $q.defer();\r\n\r\n            myMSALObj.acquireTokenSilent({})\r\n                .then(function (tokenResponse) {\r\n                    deferred.resolve(tokenResponse);\r\n                })\r\n                .catch(function (error) {\r\n                    myMSALObj.acquireTokenRedirect({});\r\n                });\r\n\r\n                return deferred.promise;\r\n        },\r\n\r\n        logout: function () {\r\n            myMSALObj.logout();\r\n        },\r\n\r\n        handleRedirectPromise: function () {\r\n            return myMSALObj.handleRedirectPromise();\r\n        },\r\n    };\r\n    },]);\r\n\r\nHandle Redirect promise :-\r\n\r\n    mainApp.run(function (msalService, $location, $rootScope) {\r\n    msalService.handleRedirectPromise().then(function (response) {\r\n        if (response) {\r\n            console.log(&quot;Access token ---  &quot;, response.accessToken);\r\n            $rootScope.msalAccessToken = response.accessToken;\r\n        }\r\n    })\r\n    .catch(function (error) {\r\n        console.error(&quot;Redirect handling failed&quot;, error);\r\n    });\r\n    });\r\n\r\nMainController.js\r\n\r\n   \r\n\r\n     mainApp.controller(&quot;MainController&quot;, function ($scope, $rootScope, msalService, ) {\r\n        $scope.doApiRequest = function(){\r\n            msalService.acquireToken().then(function(tokenResponse){\r\n                console.log(&quot;Token acquired&quot;, token);\r\n            })\r\n            .catch(function(error){\r\n                console.error(&quot;Token acquisition failed&quot;, error);\r\n            });\r\n        }\r\n    \t\r\n    \t $scope.doApiRequest();\r\n    });\r\n\r\n**Step 3: Obtain Azure AD Token**\r\n\r\nI&#39;ve successfully used my Azure AD credentials to log in, obtained the token, and stored it in $rootScope. I&#39;ve set this token in the request header for subsequent requests.\r\n\r\nAuthentication Interceptor is also on the page where I definde the $routeProvider\r\n\r\n    mainApp.service(&#39;authenticationInterceptor&#39;, function($q, $rootScope, $location, $cookies, $injector) {\r\n        var service = this;\r\n        var msalAccessTokenPromise = $injector.get(&quot;msalService&quot;).handleRedirectPromise();\r\n    \r\n        service.responseError = function(response, status) {\r\n            if(!response.headers){\r\n                return $q.reject(response);\r\n            }\r\n    \r\n            // authorization.\r\n            if (response.headers(&#39;Reason-Code&#39;) == 401) {\r\n                $location.path(&#39;/unauthorized&#39;);\r\n                return;\r\n            } else if (response.config.url.indexOf(&#39;loginAuth&#39;) == -1 &amp;&amp; response.status == 401) {\r\n    \r\n                if (!$rootScope.loggedOutProcessed) {\r\n                    $rootScope.logoutApp();\r\n                    RemoveUser();\r\n                    RemoveUserImage();\r\n                    $rootScope.showMessage(&#39;Your current session has expired.. Please login again..!!&#39;, &#39;User Session Expired&#39;, false);\r\n                    $rootScope.loggedOutProcessed = true;\r\n                }\r\n                return;\r\n            }\r\n    \r\n    \r\n            return $q.reject(response);\r\n        };\r\n    \r\n        service.response = function(response) {\r\n            if (response != undefined &amp;&amp; response.headers != undefined &amp;&amp; response.headers(&#39;RedirectToSSOLogin&#39;) === &quot;true&quot;) {\r\n                //redirect to login page\r\n                window.location.href = appBaseUrl;\r\n            } else if (response != undefined &amp;&amp; response.headers != undefined &amp;&amp; response.headers(&#39;RedirectToDblogin&#39;) === &quot;true&quot;) {\r\n                    //redirect to login page\r\n                    $window.location.href = window.location.protocol + &quot;//&quot; + window.location.host + &quot;/abc/login/dblogin&quot;;\r\n            }  else {\r\n                return response;\r\n            }\r\n        };\r\n    \r\n        service.request = function(request) {\r\n            var ssoLoginEnabled = $rootScope.ssoLoginEnabled;\r\n            var dbLogin = $rootScope.dbLogin;\r\n            var authToken = $cookies.get(&quot;X-Auth-Token&quot;);\r\n            if (false &amp;&amp; ssoLoginEnabled &amp;&amp; !dbLogin &amp;&amp; !authToken) {\r\n    \r\n                window.location.href = appBaseUrl;\r\n                return request;\r\n                \r\n            } else {\r\n                return $q.when(msalAccessTokenPromise).then(function (response) {\r\n                    var msalAccessToken = response ? response.accessToken : $rootScope.msalAccessToken;\r\n                    if (msalAccessToken) {\r\n                        request.headers.Authorization = &quot;Bearer &quot; + msalAccessToken;\r\n                    }\r\n                    return request;\r\n                });\r\n            }\r\n        };\r\n    })\r\n    .config([&#39;$httpProvider&#39;, function($httpProvider) {\r\n        $httpProvider.interceptors.push(&#39;authenticationInterceptor&#39;);\r\n    }])\r\n        \r\n**Issue: Redirection to Application Login Page**\r\n\r\nAfter completing the login steps, the application redirects back to the login page. I&#39;m unsure why this is happening.\r\n\r\nI&#39;d appreciate any insights or suggestions on how to resolve this issue. Additionally, if you need more details or specific code snippets, please let me know.\r\n","title":"How to integrate MSAL library from scratch with Angular js 1.x application","body":"<p>Thank you for response.</p>\n<p>I have to use MSAL Library with Multiple Identity Providers (Azure AD, Keycloak, Okta, DB Login)</p>\n<p>I'm working on implementing authentication with multiple identity providers using the MSAL library in an AngularJS application. Currently, I'm focusing on Azure AD. Here's an overview of the steps I've taken and the issue I'm facing:</p>\n<p><strong>Step 1: Route Configuration</strong></p>\n<p>I have set up a route configuration using $routeProvider.when('/') in my AngularJS application. When I access localhost:8080/abc, it correctly redirects to the login page.</p>\n<pre><code>mainApp.config(function($routeProvider) {\n$routeProvider\n    .when(&quot;/login/&quot;, {\n        templateUrl: &quot;views/login.html&quot;,\n        controller: &quot;LoginController&quot;\n    })\n    .when(&quot;/logout/&quot;, {\n        templateUrl: &quot;views/logout.html&quot;,\n        controller: &quot;LogoutController&quot;\n    })\n    .when(&quot;/workbench/&quot;, {\n        templateUrl: &quot;views/workbench.html&quot;,\n        controller: &quot;WorkbenchController&quot;\n    })\n    .otherwise({\n        redirectTo: &quot;/login/&quot;\n    });\n)}\n</code></pre>\n<p><strong>Step 2: Redirect to Azure AD Login Page</strong>\nUpon accessing localhost:8080/abc, there is a brief redirection to the login page, and then it automatically redirects to the Azure AD login page.</p>\n<pre><code>mainApp.service(&quot;msalService&quot;, [&quot;$q&quot;, function ($q) {\nvar msalConfig = {\n    auth: {\n        clientId: &quot;4bhy65sv-cde1-3939-rtfhf9-a2b7356789327645&quot;,\n        authority: &quot;https://login.microsoftonline.com/47582628-45982-4bb1-a3e5-583446725dsfdtjfdsbf&quot;,\n        redirectUri: &quot;http://localhost:8080/abc&quot;,\n        navigateToLoginRequestUrl: true,\n    },\n    cache: {\n        cacheLocation: &quot;localStorage&quot;,\n        storeAuthStateInCookie: true,\n    },\n};\n\nvar myMSALObj = new msal.PublicClientApplication(msalConfig);\n\nreturn {\n    acquireToken: function () {\n        var deferred = $q.defer();\n\n        myMSALObj.acquireTokenSilent({})\n            .then(function (tokenResponse) {\n                deferred.resolve(tokenResponse);\n            })\n            .catch(function (error) {\n                myMSALObj.acquireTokenRedirect({});\n            });\n\n            return deferred.promise;\n    },\n\n    logout: function () {\n        myMSALObj.logout();\n    },\n\n    handleRedirectPromise: function () {\n        return myMSALObj.handleRedirectPromise();\n    },\n};\n},]);\n</code></pre>\n<p>Handle Redirect promise :-</p>\n<pre><code>mainApp.run(function (msalService, $location, $rootScope) {\nmsalService.handleRedirectPromise().then(function (response) {\n    if (response) {\n        console.log(&quot;Access token ---  &quot;, response.accessToken);\n        $rootScope.msalAccessToken = response.accessToken;\n    }\n})\n.catch(function (error) {\n    console.error(&quot;Redirect handling failed&quot;, error);\n});\n});\n</code></pre>\n<p>MainController.js</p>\n<pre><code> mainApp.controller(&quot;MainController&quot;, function ($scope, $rootScope, msalService, ) {\n    $scope.doApiRequest = function(){\n        msalService.acquireToken().then(function(tokenResponse){\n            console.log(&quot;Token acquired&quot;, token);\n        })\n        .catch(function(error){\n            console.error(&quot;Token acquisition failed&quot;, error);\n        });\n    }\n    \n     $scope.doApiRequest();\n});\n</code></pre>\n<p><strong>Step 3: Obtain Azure AD Token</strong></p>\n<p>I've successfully used my Azure AD credentials to log in, obtained the token, and stored it in $rootScope. I've set this token in the request header for subsequent requests.</p>\n<p>Authentication Interceptor is also on the page where I definde the $routeProvider</p>\n<pre><code>mainApp.service('authenticationInterceptor', function($q, $rootScope, $location, $cookies, $injector) {\n    var service = this;\n    var msalAccessTokenPromise = $injector.get(&quot;msalService&quot;).handleRedirectPromise();\n\n    service.responseError = function(response, status) {\n        if(!response.headers){\n            return $q.reject(response);\n        }\n\n        // authorization.\n        if (response.headers('Reason-Code') == 401) {\n            $location.path('/unauthorized');\n            return;\n        } else if (response.config.url.indexOf('loginAuth') == -1 &amp;&amp; response.status == 401) {\n\n            if (!$rootScope.loggedOutProcessed) {\n                $rootScope.logoutApp();\n                RemoveUser();\n                RemoveUserImage();\n                $rootScope.showMessage('Your current session has expired.. Please login again..!!', 'User Session Expired', false);\n                $rootScope.loggedOutProcessed = true;\n            }\n            return;\n        }\n\n\n        return $q.reject(response);\n    };\n\n    service.response = function(response) {\n        if (response != undefined &amp;&amp; response.headers != undefined &amp;&amp; response.headers('RedirectToSSOLogin') === &quot;true&quot;) {\n            //redirect to login page\n            window.location.href = appBaseUrl;\n        } else if (response != undefined &amp;&amp; response.headers != undefined &amp;&amp; response.headers('RedirectToDblogin') === &quot;true&quot;) {\n                //redirect to login page\n                $window.location.href = window.location.protocol + &quot;//&quot; + window.location.host + &quot;/abc/login/dblogin&quot;;\n        }  else {\n            return response;\n        }\n    };\n\n    service.request = function(request) {\n        var ssoLoginEnabled = $rootScope.ssoLoginEnabled;\n        var dbLogin = $rootScope.dbLogin;\n        var authToken = $cookies.get(&quot;X-Auth-Token&quot;);\n        if (false &amp;&amp; ssoLoginEnabled &amp;&amp; !dbLogin &amp;&amp; !authToken) {\n\n            window.location.href = appBaseUrl;\n            return request;\n            \n        } else {\n            return $q.when(msalAccessTokenPromise).then(function (response) {\n                var msalAccessToken = response ? response.accessToken : $rootScope.msalAccessToken;\n                if (msalAccessToken) {\n                    request.headers.Authorization = &quot;Bearer &quot; + msalAccessToken;\n                }\n                return request;\n            });\n        }\n    };\n})\n.config(['$httpProvider', function($httpProvider) {\n    $httpProvider.interceptors.push('authenticationInterceptor');\n}])\n    \n</code></pre>\n<p><strong>Issue: Redirection to Application Login Page</strong></p>\n<p>After completing the login steps, the application redirects back to the login page. I'm unsure why this is happening.</p>\n<p>I'd appreciate any insights or suggestions on how to resolve this issue. Additionally, if you need more details or specific code snippets, please let me know.</p>\n"}],"owner":{"account_id":4311544,"reputation":115,"user_id":3522452,"display_name":"Ranjan Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701859177,"creation_date":1700479554,"question_id":77515505,"body_markdown":"We build our application based on AngularJS v1.8.2 and Java as a backend. Currently we have used keyclock for MFA. We have implemented everything from the backend. \r\n\r\nNow we have to replace keycloak with MSAL. MSAL library does not support the Angular JS 1.x version. \r\n\r\nKindly help me to integrate MSAL into my application.\r\n\r\nI have already registered our application in Azure.\r\n\r\nThanks &amp; regards,\r\nRanjan Kumar Singh\r\n","title":"How to integrate MSAL library from scratch with Angular js 1.x application","body":"<p>We build our application based on AngularJS v1.8.2 and Java as a backend. Currently we have used keyclock for MFA. We have implemented everything from the backend.</p>\n<p>Now we have to replace keycloak with MSAL. MSAL library does not support the Angular JS 1.x version.</p>\n<p>Kindly help me to integrate MSAL into my application.</p>\n<p>I have already registered our application in Azure.</p>\n<p>Thanks &amp; regards,\nRanjan Kumar Singh</p>\n"},{"tags":["java","oracle","junit","plsql","dbunit"],"comments":[{"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"score":0,"creation_date":1458720668,"post_id":36172555,"comment_id":59981573,"body_markdown":"Have you checked HSQLDB?: http://www.hsqldb.org/doc/util-guide/sqltool-chapt.html#sqltool_embedded-langs-sect","body":"Have you checked HSQLDB?: <a href=\"http://www.hsqldb.org/doc/util-guide/sqltool-chapt.html#sqltool_embedded-langs-sect\" rel=\"nofollow noreferrer\">hsqldb.org/doc/util-guide/&hellip;</a>"},{"owner":{"display_name":"user330315"},"score":4,"creation_date":1458722288,"post_id":36172555,"comment_id":59982447,"body_markdown":"The only database that can reliably execute PL/SQL is Oracle. Running a unit test on a database that is different then the production database does not make sense - especially when it comes to stored procedures","body":"The only database that can reliably execute PL/SQL is Oracle. Running a unit test on a database that is different then the production database does not make sense - especially when it comes to stored procedures"},{"owner":{"account_id":1440002,"reputation":1157,"user_id":2257656,"accept_rate":41,"display_name":"abdelrahman-sinno"},"score":0,"creation_date":1458820715,"post_id":36172555,"comment_id":60032563,"body_markdown":"OK that makes sense.. Do you think I can run DBUnit on the actual Oracle DB and have it rollback changes done by my test case ?","body":"OK that makes sense.. Do you think I can run DBUnit on the actual Oracle DB and have it rollback changes done by my test case ?"}],"answers":[{"tags":[],"owner":{"account_id":1440002,"reputation":1157,"user_id":2257656,"accept_rate":41,"display_name":"abdelrahman-sinno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1459172159,"creation_date":1459172159,"answer_id":36263514,"question_id":36172555,"body_markdown":"As mentioned by the second commment, nothing besides Oracle DB will do what Oracle does, in terms of PL/SQL procedures, functions and other features.\r\n\r\nSo, to use DBUnit, the solution would be a physical Oracle DB that will act just like the H2 in-memory DB. This makes life simple, and works very well.","title":"DBUnit: any in-memory Database with Oracle PLSQL support?","body":"<p>As mentioned by the second commment, nothing besides Oracle DB will do what Oracle does, in terms of PL/SQL procedures, functions and other features.</p>\n\n<p>So, to use DBUnit, the solution would be a physical Oracle DB that will act just like the H2 in-memory DB. This makes life simple, and works very well.</p>\n"},{"tags":[],"owner":{"account_id":18142118,"reputation":33,"user_id":13195872,"display_name":"makssyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701859165,"creation_date":1701859165,"answer_id":77612345,"question_id":36172555,"body_markdown":"I know this post is 7 years old, but if you&#39;re anything like me and stumbled upon this issue now, help yourself with Testcontainers. It&#39;s a way to create Docker containers for your tests on-the-fly. They have support for OracleFree and OracleXE modules as well.\r\n\r\nhttps://testcontainers.com/getting-started/\r\n\r\n&gt; One way to sidestep [cloud development] challenges is by relying on in-memory databases, embedded services, mocks, and other fake replicas of the production dependencies. However, these approaches bring their own problems (e.g. In-memory services may not have all the features of your production service and behave slightly differently).\r\n\r\n","title":"DBUnit: any in-memory Database with Oracle PLSQL support?","body":"<p>I know this post is 7 years old, but if you're anything like me and stumbled upon this issue now, help yourself with Testcontainers. It's a way to create Docker containers for your tests on-the-fly. They have support for OracleFree and OracleXE modules as well.</p>\n<p><a href=\"https://testcontainers.com/getting-started/\" rel=\"nofollow noreferrer\">https://testcontainers.com/getting-started/</a></p>\n<blockquote>\n<p>One way to sidestep [cloud development] challenges is by relying on in-memory databases, embedded services, mocks, and other fake replicas of the production dependencies. However, these approaches bring their own problems (e.g. In-memory services may not have all the features of your production service and behave slightly differently).</p>\n</blockquote>\n"}],"owner":{"account_id":1440002,"reputation":1157,"user_id":2257656,"accept_rate":41,"display_name":"abdelrahman-sinno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36263514,"answer_count":2,"score":2,"last_activity_date":1701859165,"creation_date":1458719834,"question_id":36172555,"body_markdown":"I am integrating **DBUnit** for unit testing my application, then I came across the issue of the H2 in-memory DB not supporting **PLSQL functions** to be specified in the SQL script.\r\n\r\nSo, can anyhone suggest an in-memory database (alternative to H2) that I could integrate with DBUnit and could execute Oracle PL/SQL functions ?","title":"DBUnit: any in-memory Database with Oracle PLSQL support?","body":"<p>I am integrating <strong>DBUnit</strong> for unit testing my application, then I came across the issue of the H2 in-memory DB not supporting <strong>PLSQL functions</strong> to be specified in the SQL script.</p>\n\n<p>So, can anyhone suggest an in-memory database (alternative to H2) that I could integrate with DBUnit and could execute Oracle PL/SQL functions ?</p>\n"},{"tags":["java","selenium-webdriver","appium"],"owner":{"account_id":30019802,"reputation":1,"user_id":23005425,"display_name":"Praba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701858993,"creation_date":1701858827,"question_id":77612314,"body_markdown":"command used : `appium driver install uiautomator2 `\r\n\r\n\r\ngetting the below error:\r\n````\r\n&#215; Installing &#39;uiautomator2&#39; using NPM install spec &#39;appium-uiautomator2-driver&#39;\r\nError: &#215; Encountered an error when installing package: npm command &#39;install --save-dev appium-uiautomator2-driver --json&#39; failed with code \r\n````","title":"Unable to install uiautomator2","body":"<p>command used : <code>appium driver install uiautomator2 </code></p>\n<p>getting the below error:</p>\n<pre><code>× Installing 'uiautomator2' using NPM install spec 'appium-uiautomator2-driver'\nError: × Encountered an error when installing package: npm command 'install --save-dev appium-uiautomator2-driver --json' failed with code \n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":1416173,"reputation":6877,"user_id":1341806,"accept_rate":80,"display_name":"Dan Ciborowski - MSFT"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1398178177,"creation_date":1398178177,"answer_id":23222933,"question_id":23217951,"body_markdown":"There is not. Linked is a list of all the methods that are available. The reason behind this is the S3 design. S3 does not have &quot;subfolders&quot;. Instead it is simply a list of files, where the filename is the &quot;prefix&quot; plus the filename you desire. The GUI shows the data similar to windows stored in &quot;folders&quot;, but there is not folder logic present in S3.\r\n\r\nhttp://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/S3ObjectSummary.html\r\n\r\nYour best bet is to split by &quot;/&quot; and to take the last object in the array. ","title":"AWS S3 - Listing all objects inside a folder without the prefix","body":"<p>There is not. Linked is a list of all the methods that are available. The reason behind this is the S3 design. S3 does not have \"subfolders\". Instead it is simply a list of files, where the filename is the \"prefix\" plus the filename you desire. The GUI shows the data similar to windows stored in \"folders\", but there is not folder logic present in S3.</p>\n\n<p><a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/S3ObjectSummary.html\">http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/S3ObjectSummary.html</a></p>\n\n<p>Your best bet is to split by \"/\" and to take the last object in the array. </p>\n"},{"tags":[],"owner":{"account_id":1885080,"reputation":981,"user_id":1704462,"display_name":"pangiole"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1401973981,"creation_date":1401973981,"answer_id":24061208,"question_id":23217951,"body_markdown":"For Scala developers, here it is recursive function to execute a ***full scan and map*** of the contents of an AmazonS3 bucket using the official [AWS SDK for Java][1]\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    import com.amazonaws.services.s3.AmazonS3Client\r\n    import com.amazonaws.services.s3.model.{S3ObjectSummary, ObjectListing, GetObjectRequest}\r\n    import scala.collection.JavaConversions.{collectionAsScalaIterable =&gt; asScala}\r\n    \r\n    def map[T](s3: AmazonS3Client, bucket: String, prefix: String)(f: (S3ObjectSummary) =&gt; T) = {\r\n    \r\n      def scan(acc:List[T], listing:ObjectListing): List[T] = {\r\n        val summaries = asScala[S3ObjectSummary](listing.getObjectSummaries())\r\n        val mapped = (for (summary &lt;- summaries) yield f(summary)).toList\r\n    \r\n        if (!listing.isTruncated) mapped.toList\r\n        else scan(acc ::: mapped, s3.listNextBatchOfObjects(listing))\r\n      }\r\n    \r\n      scan(List(), s3.listObjects(bucket, prefix))\r\n    }\r\n    \r\n\r\n\r\nTo invoke the above curried ``map()`` function, simply pass the already constructed (and properly initialized) AmazonS3Client object (refer to the official [AWS SDK for Java API Reference][2]), the bucket name and the prefix name in the first parameter list. Also pass the function ``f()`` you want to apply to map each object summary in the second parameter list.\r\n\r\nFor example\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    map(s3, bucket, prefix) { s =&gt; println(s.getKey.split(&quot;/&quot;)(1)) }\r\n\r\nwill print all the filenames (without the prefix)\r\n\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    val tuple = map(s3, bucket, prefix)(s =&gt; (s.getKey, s.getOwner, s.getSize))\r\n\r\nwill return the full list of ``(key, owner, size)`` tuples in that bucket/prefix\r\n\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    val totalSize = map(s3, &quot;bucket&quot;, &quot;prefix&quot;)(s =&gt; s.getSize).sum\r\n\r\nwill return the total size of its content (note the additional `sum()` folding function applied at the end of the expression ;-)\r\n\r\nYou can combine ``map()`` with many other functions as you would normally approach by [Monads in Functional Programming][3]\r\n\r\n\r\n  [1]: http://aws.amazon.com/sdkforjava/\r\n  [2]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html\r\n  [3]: http://en.wikipedia.org/wiki/Monad_%28functional_programming%29","title":"AWS S3 - Listing all objects inside a folder without the prefix","body":"<p>For Scala developers, here it is recursive function to execute a <strong><em>full scan and map</em></strong> of the contents of an AmazonS3 bucket using the official <a href=\"http://aws.amazon.com/sdkforjava/\" rel=\"noreferrer\">AWS SDK for Java</a></p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>import com.amazonaws.services.s3.AmazonS3Client\nimport com.amazonaws.services.s3.model.{S3ObjectSummary, ObjectListing, GetObjectRequest}\nimport scala.collection.JavaConversions.{collectionAsScalaIterable =&gt; asScala}\n\ndef map[T](s3: AmazonS3Client, bucket: String, prefix: String)(f: (S3ObjectSummary) =&gt; T) = {\n\n  def scan(acc:List[T], listing:ObjectListing): List[T] = {\n    val summaries = asScala[S3ObjectSummary](listing.getObjectSummaries())\n    val mapped = (for (summary &lt;- summaries) yield f(summary)).toList\n\n    if (!listing.isTruncated) mapped.toList\n    else scan(acc ::: mapped, s3.listNextBatchOfObjects(listing))\n  }\n\n  scan(List(), s3.listObjects(bucket, prefix))\n}\n</code></pre>\n\n<p>To invoke the above curried <code>map()</code> function, simply pass the already constructed (and properly initialized) AmazonS3Client object (refer to the official <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html\" rel=\"noreferrer\">AWS SDK for Java API Reference</a>), the bucket name and the prefix name in the first parameter list. Also pass the function <code>f()</code> you want to apply to map each object summary in the second parameter list.</p>\n\n<p>For example</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>map(s3, bucket, prefix) { s =&gt; println(s.getKey.split(\"/\")(1)) }\n</code></pre>\n\n<p>will print all the filenames (without the prefix)</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>val tuple = map(s3, bucket, prefix)(s =&gt; (s.getKey, s.getOwner, s.getSize))\n</code></pre>\n\n<p>will return the full list of <code>(key, owner, size)</code> tuples in that bucket/prefix</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>val totalSize = map(s3, \"bucket\", \"prefix\")(s =&gt; s.getSize).sum\n</code></pre>\n\n<p>will return the total size of its content (note the additional <code>sum()</code> folding function applied at the end of the expression ;-)</p>\n\n<p>You can combine <code>map()</code> with many other functions as you would normally approach by <a href=\"http://en.wikipedia.org/wiki/Monad_%28functional_programming%29\" rel=\"noreferrer\">Monads in Functional Programming</a></p>\n"},{"tags":[],"owner":{"account_id":8725054,"reputation":31,"user_id":6526907,"display_name":"Joshua"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467182825,"creation_date":1467182825,"answer_id":38092222,"question_id":23217951,"body_markdown":"Just to follow up on the comment above - &quot;here it is recursive function to execute a full scan and map&quot; - there is a bug in the code (as @Eric highlighted) if there are more than 1000 keys in the bucket. The fix is actually quite simple, the mapped.toList needs to be merged with acc.\r\n\r\n    def map[T](s3: AmazonS3Client, bucket: String, prefix: String)(f: (S3ObjectSummary) =&gt; T) = {\r\n\r\n      def scan_s3_bucket(acc:List[T], listing:ObjectListing): List[T] = {\r\n        val summaries = asScala[S3ObjectSummary](listing.getObjectSummaries())\r\n        val mapped = (for (summary &lt;- summaries) yield f(summary)).toList\r\n\r\n        if (!listing.isTruncated) {\r\n          acc ::: mapped.toList\r\n        } else {\r\n          println(&quot;list extended, more to go: new_keys &#39;%s&#39;, current_length &#39;%s&#39;&quot;.format(mapped.length, acc.length))\r\n          scan_s3_bucket(acc ::: mapped, s3.listNextBatchOfObjects(listing))\r\n        }\r\n      }\r\n\r\n      scan_s3_bucket(List(), s3.listObjects(bucket, prefix))\r\n    }\r\n","title":"AWS S3 - Listing all objects inside a folder without the prefix","body":"<p>Just to follow up on the comment above - \"here it is recursive function to execute a full scan and map\" - there is a bug in the code (as @Eric highlighted) if there are more than 1000 keys in the bucket. The fix is actually quite simple, the mapped.toList needs to be merged with acc.</p>\n\n<pre><code>def map[T](s3: AmazonS3Client, bucket: String, prefix: String)(f: (S3ObjectSummary) =&gt; T) = {\n\n  def scan_s3_bucket(acc:List[T], listing:ObjectListing): List[T] = {\n    val summaries = asScala[S3ObjectSummary](listing.getObjectSummaries())\n    val mapped = (for (summary &lt;- summaries) yield f(summary)).toList\n\n    if (!listing.isTruncated) {\n      acc ::: mapped.toList\n    } else {\n      println(\"list extended, more to go: new_keys '%s', current_length '%s'\".format(mapped.length, acc.length))\n      scan_s3_bucket(acc ::: mapped, s3.listNextBatchOfObjects(listing))\n    }\n  }\n\n  scan_s3_bucket(List(), s3.listObjects(bucket, prefix))\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8905303,"reputation":3494,"user_id":6925888,"accept_rate":33,"display_name":"iamkdblue"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1522152452,"creation_date":1520266388,"answer_id":49114784,"question_id":23217951,"body_markdown":" This code help me to find sub-directory of my bucket. \r\n\r\nExample :- &quot;Testing&quot; is a my bucket name , inside that contain &quot;kdblue@gmail.com &quot; folder then its contain &quot;IMAGE&quot; folder in which contain image files.\r\n       \r\n         ArrayList&lt;String&gt; transferRecord = new ArrayList&lt;&gt;();    \r\n        \r\n         ListObjectsRequest listObjectsRequest =\r\n                                new ListObjectsRequest()\r\n                                        .withBucketName(Constants.BUCKET_NAME)\r\n                                        .withPrefix(&quot;kdblue@gmail.com&quot; + &quot;/IMAGE&quot;);\r\n            \r\n          ObjectListing objects = s3.listObjects(listObjectsRequest);\r\n            for (;;) {\r\n                        List&lt;S3ObjectSummary&gt; summaries = \r\n                        objects.getObjectSummaries();\r\n                            if (summaries.size() &lt; 1) {\r\n                                break;\r\n                            }\r\n                            \r\n                           for(int i=0;i&lt;summaries.size();i++){\r\n                                ArrayList&lt;String&gt; file = new ArrayList&lt;&gt;();\r\n        \r\n                                file.add(summaries.get(i).getKey());\r\n                                transferRecord.add(file);\r\n                            }\r\n                            \r\n                            objects = s3.listNextBatchOfObjects(objects);\r\n                   }\r\n\r\n\r\nI hope this helps you.","title":"AWS S3 - Listing all objects inside a folder without the prefix","body":"<p>This code help me to find sub-directory of my bucket. </p>\n\n<p>Example :- \"Testing\" is a my bucket name , inside that contain \"kdblue@gmail.com \" folder then its contain \"IMAGE\" folder in which contain image files.</p>\n\n<pre><code>     ArrayList&lt;String&gt; transferRecord = new ArrayList&lt;&gt;();    \n\n     ListObjectsRequest listObjectsRequest =\n                            new ListObjectsRequest()\n                                    .withBucketName(Constants.BUCKET_NAME)\n                                    .withPrefix(\"kdblue@gmail.com\" + \"/IMAGE\");\n\n      ObjectListing objects = s3.listObjects(listObjectsRequest);\n        for (;;) {\n                    List&lt;S3ObjectSummary&gt; summaries = \n                    objects.getObjectSummaries();\n                        if (summaries.size() &lt; 1) {\n                            break;\n                        }\n\n                       for(int i=0;i&lt;summaries.size();i++){\n                            ArrayList&lt;String&gt; file = new ArrayList&lt;&gt;();\n\n                            file.add(summaries.get(i).getKey());\n                            transferRecord.add(file);\n                        }\n\n                        objects = s3.listNextBatchOfObjects(objects);\n               }\n</code></pre>\n\n<p>I hope this helps you.</p>\n"},{"tags":[],"owner":{"account_id":6825376,"reputation":792,"user_id":5251241,"display_name":"Randhir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536682738,"creation_date":1536682738,"answer_id":52280250,"question_id":23217951,"body_markdown":"Below snipped worked quite well for me. Reference: https://codeflex.co/get-list-of-objects-from-s3-directory/\r\n\r\n    \tList&lt;String&gt; getObjectslistFromFolder(String bucketName, String folderKey, AmazonS3 s3Client) {\r\n\r\n\t\tListObjectsRequest listObjectsRequest = new ListObjectsRequest().withBucketName(bucketName)\r\n\t\t\t\t.withPrefix(folderKey + &quot;/&quot;);\r\n\r\n\t\tList&lt;String&gt; keys = new ArrayList&lt;String&gt;();\r\n\r\n\t\tObjectListing objects = s3Client.listObjects(listObjectsRequest);\r\n\t\tfor (;;) {\r\n\t\t\tList&lt;S3ObjectSummary&gt; summaries = objects.getObjectSummaries();\r\n\t\t\tif (summaries.size() &lt; 1) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// summaries.forEach(s -&gt; keys.add(s.getKey()));\r\n\t\t\t// changed project compliance to jre 1.8\r\n\t\t\tsummaries.forEach(s -&gt; keys.add(s.getKey()));\r\n\r\n\t\t\tobjects = s3Client.listNextBatchOfObjects(objects);\r\n\t\t}\r\n\r\n\t\treturn keys;","title":"AWS S3 - Listing all objects inside a folder without the prefix","body":"<p>Below snipped worked quite well for me. Reference: <a href=\"https://codeflex.co/get-list-of-objects-from-s3-directory/\" rel=\"nofollow noreferrer\">https://codeflex.co/get-list-of-objects-from-s3-directory/</a></p>\n\n<pre><code>    List&lt;String&gt; getObjectslistFromFolder(String bucketName, String folderKey, AmazonS3 s3Client) {\n\n    ListObjectsRequest listObjectsRequest = new ListObjectsRequest().withBucketName(bucketName)\n            .withPrefix(folderKey + \"/\");\n\n    List&lt;String&gt; keys = new ArrayList&lt;String&gt;();\n\n    ObjectListing objects = s3Client.listObjects(listObjectsRequest);\n    for (;;) {\n        List&lt;S3ObjectSummary&gt; summaries = objects.getObjectSummaries();\n        if (summaries.size() &lt; 1) {\n            break;\n        }\n\n        // summaries.forEach(s -&gt; keys.add(s.getKey()));\n        // changed project compliance to jre 1.8\n        summaries.forEach(s -&gt; keys.add(s.getKey()));\n\n        objects = s3Client.listNextBatchOfObjects(objects);\n    }\n\n    return keys;\n</code></pre>\n"}],"owner":{"account_id":3360553,"reputation":255,"user_id":2822435,"accept_rate":60,"display_name":"Marz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30789,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":23222933,"answer_count":5,"score":12,"last_activity_date":1701858960,"creation_date":1398165553,"question_id":23217951,"body_markdown":"I&#39;m having problems retrieving all objects (filenames) inside a folder in AWS S3. Here&#39;s my code:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    ListObjectsRequest listObjectsRequest = new ListObjectsRequest()\r\n                .withBucketName(bucket)\r\n                .withPrefix(folderName + &quot;/&quot;)\r\n                .withMarker(folderName + &quot;/&quot;)\r\n\r\n    ObjectListing objectListing = amazonWebService.s3.listObjects(listObjectsRequest)\r\n\r\n    for (S3ObjectSummary summary : objectListing.getObjectSummaries()) {\r\n        print summary.getKey()\r\n    }\r\n\r\nIt returns the correct object but with the prefix in it, e.g. `foldename/filename`\r\n\r\nI know I can just use Java perhaps `substring` to exclude the prefix but I just wanted to know if there is a method for it in AWS SDK.","title":"AWS S3 - Listing all objects inside a folder without the prefix","body":"<p>I'm having problems retrieving all objects (filenames) inside a folder in AWS S3. Here's my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ListObjectsRequest listObjectsRequest = new ListObjectsRequest()\n            .withBucketName(bucket)\n            .withPrefix(folderName + &quot;/&quot;)\n            .withMarker(folderName + &quot;/&quot;)\n\nObjectListing objectListing = amazonWebService.s3.listObjects(listObjectsRequest)\n\nfor (S3ObjectSummary summary : objectListing.getObjectSummaries()) {\n    print summary.getKey()\n}\n</code></pre>\n<p>It returns the correct object but with the prefix in it, e.g. <code>foldename/filename</code></p>\n<p>I know I can just use Java perhaps <code>substring</code> to exclude the prefix but I just wanted to know if there is a method for it in AWS SDK.</p>\n"},{"tags":["java","cucumber","serenity-bdd","webautomation","cucumber-serenity"],"owner":{"account_id":17077082,"reputation":39,"user_id":12873307,"display_name":"Kaiser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701858791,"creation_date":1701839120,"question_id":77610667,"body_markdown":"I am learning Cucumber. I wanted to create a Serenity report for my Cucumber project. I included all the dependency and plugin. Test runs OK, but no report is generated. I also included serenity.properties file in &#39;src/test/resources&#39; folder.\r\n\r\nWhen I run the file from command using `mvn clean verify`, the full test run as it is supposed to, and a site/serenity folder is added under target folder, but nothing is there.\r\n\r\nMy pom.xml file:\r\n\r\n```xml\r\n&lt;properties&gt;\r\n\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;java.version&gt;11.0.19&lt;/java.version&gt;\r\n\t&lt;junit.version&gt;4.13.2&lt;/junit.version&gt;\r\n\t&lt;cucumber.version&gt;7.14.0&lt;/cucumber.version&gt;\r\n\t&lt;maven.compiler.version&gt;3.11.0&lt;/maven.compiler.version&gt;\r\n\t&lt;maven.surefire.version&gt;3.2.2&lt;/maven.surefire.version&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;dependencies&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;7.14.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;7.14.0&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-core --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;7.14.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/gherkin --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;27.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-html --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cucumber-html&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.2.7&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!--https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.5.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!--\r\n\thttps://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.15.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;extentreports-cucumber7-adapter&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.14.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.2.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.2.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;7.8.0&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-testng --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;7.14.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-core --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.0.28&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!--\r\n\thttps://mvnrepository.com/artifact/net.serenity-bdd/serenity-cucumber --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;serenity-cucumber&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.0.28&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-junit --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;serenity-junit&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.0.28&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-ensure --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;serenity-ensure&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.0.28&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n&lt;/dependencies&gt;\r\n\r\n&lt;build&gt;\r\n\t&lt;pluginManagement&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.11.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;11&lt;/release&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;!-- &lt;include&gt;**/testRunner01.java&lt;/include&gt;--&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/SerenityTestRunner.java&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t&lt;parallel&gt;methods&lt;/parallel&gt;\r\n\t\t\t\t\t&lt;threadCount&gt;4&lt;/threadCount&gt;\r\n\t\t\t\t\t&lt;useUnlimitedThreads&gt;false&lt;/useUnlimitedThreads&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;4.0.28&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;serenity-single-page-report&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;4.0.28&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\r\n\t\t\t\t\t&lt;reports&gt;single-page-html&lt;/reports&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;serenity-reports&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;aggregate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/pluginManagement&gt;\r\n&lt;/build&gt;\r\n```\r\nMy test runner file:\r\n```java\r\npackage testRunner;\r\n\r\nimport org.junit.runner.RunWith;\r\n\r\nimport io.cucumber.junit.CucumberOptions;\r\nimport net.serenitybdd.cucumber.CucumberWithSerenity;\r\n\r\n@RunWith(CucumberWithSerenity.class)\r\n@CucumberOptions(\r\n\t\tfeatures = {&quot;src/test/resources/features/HomePage.feature&quot;},\r\n\t\tglue = {&quot;parallel&quot;},\r\n\t\tplugin = &quot;pretty&quot;\r\n\t\t)\r\npublic class SerenityTestRunner {\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"Serenity report isn&#39;t generating in Cucumber project","body":"<p>I am learning Cucumber. I wanted to create a Serenity report for my Cucumber project. I included all the dependency and plugin. Test runs OK, but no report is generated. I also included serenity.properties file in 'src/test/resources' folder.</p>\n<p>When I run the file from command using <code>mvn clean verify</code>, the full test run as it is supposed to, and a site/serenity folder is added under target folder, but nothing is there.</p>\n<p>My pom.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;11.0.19&lt;/java.version&gt;\n    &lt;junit.version&gt;4.13.2&lt;/junit.version&gt;\n    &lt;cucumber.version&gt;7.14.0&lt;/cucumber.version&gt;\n    &lt;maven.compiler.version&gt;3.11.0&lt;/maven.compiler.version&gt;\n    &lt;maven.surefire.version&gt;3.2.2&lt;/maven.surefire.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;7.14.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-junit --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;7.14.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n        &lt;version&gt;7.14.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/gherkin --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n        &lt;version&gt;27.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-html --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-html&lt;/artifactId&gt;\n        &lt;version&gt;0.2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;5.5.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--\n    https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\n        &lt;artifactId&gt;extentreports-cucumber7-adapter&lt;/artifactId&gt;\n        &lt;version&gt;1.14.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;5.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;5.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-testng --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n        &lt;version&gt;7.14.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n        &lt;artifactId&gt;serenity-core&lt;/artifactId&gt;\n        &lt;version&gt;4.0.28&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--\n    https://mvnrepository.com/artifact/net.serenity-bdd/serenity-cucumber --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n        &lt;artifactId&gt;serenity-cucumber&lt;/artifactId&gt;\n        &lt;version&gt;4.0.28&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-junit --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n        &lt;artifactId&gt;serenity-junit&lt;/artifactId&gt;\n        &lt;version&gt;4.0.28&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/net.serenity-bdd/serenity-ensure --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n        &lt;artifactId&gt;serenity-ensure&lt;/artifactId&gt;\n        &lt;version&gt;4.0.28&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;!-- &lt;include&gt;**/testRunner01.java&lt;/include&gt;--&gt;\n                        &lt;include&gt;**/SerenityTestRunner.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;parallel&gt;methods&lt;/parallel&gt;\n                    &lt;threadCount&gt;4&lt;/threadCount&gt;\n                    &lt;useUnlimitedThreads&gt;false&lt;/useUnlimitedThreads&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            \n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.0.28&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n                        &lt;artifactId&gt;serenity-single-page-report&lt;/artifactId&gt;\n                        &lt;version&gt;4.0.28&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;configuration&gt;\n                    \n                    &lt;reports&gt;single-page-html&lt;/reports&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;serenity-reports&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>My test runner file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package testRunner;\n\nimport org.junit.runner.RunWith;\n\nimport io.cucumber.junit.CucumberOptions;\nimport net.serenitybdd.cucumber.CucumberWithSerenity;\n\n@RunWith(CucumberWithSerenity.class)\n@CucumberOptions(\n        features = {&quot;src/test/resources/features/HomePage.feature&quot;},\n        glue = {&quot;parallel&quot;},\n        plugin = &quot;pretty&quot;\n        )\npublic class SerenityTestRunner {\n\n}\n</code></pre>\n"},{"tags":["java","licensing","fuzzy-search","fuzzywuzzy"],"comments":[{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":0,"creation_date":1701853673,"post_id":77610740,"comment_id":136825291,"body_markdown":"you should give more context.For instance:  are the strings unique? Do you have information about the possible contents and possible sizes of the strings (you mentioned levenshtein distance - so you expect that to be useful for distinguishing between result candidates)? What are the possible parameters for your search - an example string or weighted snippets to be found in the strings...","body":"you should give more context.For instance:  are the strings unique? Do you have information about the possible contents and possible sizes of the strings (you mentioned levenshtein distance - so you expect that to be useful for distinguishing between result candidates)? What are the possible parameters for your search - an example string or weighted snippets to be found in the strings..."}],"owner":{"account_id":83628,"reputation":2089,"user_id":234316,"accept_rate":33,"display_name":"grassbl8d"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701858873,"answer_count":0,"score":0,"last_activity_date":1701858669,"creation_date":1701840403,"question_id":77610740,"body_markdown":"What is an efficient way in Java to search around a thousand strings fuzzily and fast?\r\n\r\nFor example I have \r\n\r\n```none\r\n1 - One\r\n2 - Two\r\n3 - Three\r\n4 - Four\r\n….\r\nThousand\r\n```\r\n\r\nThis will be located in array list or another data structure. One alternative is to use an array list and iterate over it using fuzzy Levenshtein distance. \r\n\r\nWhat will be an efficient way to search this? \r\n\r\n\r\n","title":"Efficient way to search an array list fuzzy","body":"<p>What is an efficient way in Java to search around a thousand strings fuzzily and fast?</p>\n<p>For example I have</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 - One\n2 - Two\n3 - Three\n4 - Four\n….\nThousand\n</code></pre>\n<p>This will be located in array list or another data structure. One alternative is to use an array list and iterate over it using fuzzy Levenshtein distance.</p>\n<p>What will be an efficient way to search this?</p>\n"},{"tags":["java","spring-boot","rest","spring-mvc","asynchronous"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701842864,"creation_date":1701842864,"answer_id":77610883,"question_id":77610791,"body_markdown":"According to [Release Notes][1] Spring Boot the answer is No you can’t because \r\n\r\n&gt; Spring Boot 3.2 includes support for the new RestClient interface\r\n&gt; which has been introduced in Spring Framework 6.1. This interface\r\n&gt; provides a functional style blocking HTTP API with a similar to design\r\n&gt; to WebClient.\r\n&gt; \r\n It mean if you want to have a asynchronous req/res you have to use [WebClient][2]\r\nthat is designed specially for it.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2.0-M1-Release-Notes\r\n  [2]: https://docs.spring.io/spring-framework/reference/web/webflux-webclient.html","title":"Can the Spring Boot 3.2 RestClient consume or make async calls from/to a service?","body":"<p>According to <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2.0-M1-Release-Notes\" rel=\"nofollow noreferrer\">Release Notes</a> Spring Boot the answer is No you can’t because</p>\n<blockquote>\n<p>Spring Boot 3.2 includes support for the new RestClient interface\nwhich has been introduced in Spring Framework 6.1. This interface\nprovides a functional style blocking HTTP API with a similar to design\nto WebClient.</p>\n</blockquote>\n<p>It mean if you want to have a asynchronous req/res you have to use <a href=\"https://docs.spring.io/spring-framework/reference/web/webflux-webclient.html\" rel=\"nofollow noreferrer\">WebClient</a>\nthat is designed specially for it.</p>\n"}],"owner":{"account_id":30020013,"reputation":1,"user_id":23005592,"display_name":"Aneesha Rose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701868290,"answer_count":1,"score":0,"last_activity_date":1701858583,"creation_date":1701841388,"question_id":77610791,"body_markdown":"https://docs.spring.io/spring-framework/reference/web/webmvc-client.html\r\n\r\nI cannot understand how to perform a async call with it. In docs it&#39;s mentioned you can make sync calls, but in some YouTube videos I heard one can do async calls as well. Considering the existence of web-client, Can I perform both sync and async calls using RestClient as both are fluent-API?  Can you provide an example?\r\n","title":"Can the Spring Boot 3.2 RestClient consume or make async calls from/to a service?","body":"<p><a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc-client.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/reference/web/webmvc-client.html</a></p>\n<p>I cannot understand how to perform a async call with it. In docs it's mentioned you can make sync calls, but in some YouTube videos I heard one can do async calls as well. Considering the existence of web-client, Can I perform both sync and async calls using RestClient as both are fluent-API?  Can you provide an example?</p>\n"},{"tags":["java","maven","zip","maven-assembly-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1380713581,"post_id":19135298,"comment_id":28300329,"body_markdown":"Please use an up-to-date version of the [maven-assembly-plugin](http://maven.apache.org/plugins/maven-assembly-plugin/) which is currently release 2.4.","body":"Please use an up-to-date version of the <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"nofollow noreferrer\">maven-assembly-plugin</a> which is currently release 2.4."},{"owner":{"account_id":391742,"reputation":1078,"user_id":752580,"accept_rate":76,"display_name":"Jacek"},"score":0,"creation_date":1380714766,"post_id":19135298,"comment_id":28300886,"body_markdown":"Thanks, I didn&#39;t think about that. Unfortunately, it doesn&#39;t help much:\n`[ERROR] Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.4:single (make-assembly) on project HG19: Execution make-assembly of goal org.apache.maven.plugins:maven-assembly-plugin:2.4:single failed: invalid entry size -&gt; [Help 1]`","body":"Thanks, I didn&#39;t think about that. Unfortunately, it doesn&#39;t help much: <code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.4:single (make-assembly) on project HG19: Execution make-assembly of goal org.apache.maven.plugins:maven-assembly-plugin:2.4:single failed: invalid entry size -&gt; [Help 1]</code>"}],"answers":[{"tags":[],"owner":{"account_id":164552,"reputation":1138,"user_id":387380,"accept_rate":71,"display_name":"Kerb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380715794,"creation_date":1380715794,"answer_id":19136563,"question_id":19135298,"body_markdown":"As we can see [here, (ZipEntry class)][1], this has been fixed in the JDK 1.7.\r\n\r\nYou&#39;ve shown that your `mvn` run from command line shows the JDK version 1.7. \r\n\r\nAre you trying to complete build in the same manner, I mean from command line (and not IDE, which can use another JDK for maven?)\r\n\r\n  [1]: http://grepcode.com/file_/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/zip/ZipEntry.java/?v=diff&amp;id2=6-b14","title":"Create a large zip assembly with maven-assembly-plugin","body":"<p>As we can see <a href=\"http://grepcode.com/file_/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/util/zip/ZipEntry.java/?v=diff&amp;id2=6-b14\" rel=\"nofollow\">here, (ZipEntry class)</a>, this has been fixed in the JDK 1.7.</p>\n\n<p>You've shown that your <code>mvn</code> run from command line shows the JDK version 1.7. </p>\n\n<p>Are you trying to complete build in the same manner, I mean from command line (and not IDE, which can use another JDK for maven?)</p>\n"},{"tags":[],"owner":{"account_id":391742,"reputation":1078,"user_id":752580,"accept_rate":76,"display_name":"Jacek"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1701858562,"creation_date":1380737710,"answer_id":19143880,"question_id":19135298,"body_markdown":"**[EDIT] It&#39;s been a while but I see people reading this, so FYI the problem has been fixed since version `2.5` of the maven assembly plugin.**\r\n\r\nI found the culprit, so reporting the issue just to save others time.\r\n\r\nIt seems that the problem lays in `org.codehaus.plexus.archiver.zip.ZipOutputStream.closeEntry(ZipOutputStream.java:352)` as reported in my exception stack trace. Looking at the sources of `org.codehaus...ZipOutputStream.closeEntry` I can see:\r\n\r\n    entry.setSize( def.getTotalIn() );\r\n\r\nand that `def` is `java.util.zip.Deflater`. However, `Deflater.getTotalIn` returns `int` not `long`. Instead the code should use `Deflater.getBytesRead()` which I&#39;m gonna report to the developers.","title":"Create a large zip assembly with maven-assembly-plugin","body":"<p><strong>[EDIT] It's been a while but I see people reading this, so FYI the problem has been fixed since version <code>2.5</code> of the maven assembly plugin.</strong></p>\n<p>I found the culprit, so reporting the issue just to save others time.</p>\n<p>It seems that the problem lays in <code>org.codehaus.plexus.archiver.zip.ZipOutputStream.closeEntry(ZipOutputStream.java:352)</code> as reported in my exception stack trace. Looking at the sources of <code>org.codehaus...ZipOutputStream.closeEntry</code> I can see:</p>\n<pre><code>entry.setSize( def.getTotalIn() );\n</code></pre>\n<p>and that <code>def</code> is <code>java.util.zip.Deflater</code>. However, <code>Deflater.getTotalIn</code> returns <code>int</code> not <code>long</code>. Instead the code should use <code>Deflater.getBytesRead()</code> which I'm gonna report to the developers.</p>\n"},{"tags":[],"owner":{"account_id":369372,"reputation":4604,"user_id":716720,"accept_rate":60,"display_name":"Sergey Shcherbakov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391631675,"creation_date":1391631675,"answer_id":21587653,"question_id":19135298,"body_markdown":"Encountered the same issue.\r\nA very big (3GB) log file was occasionally picked up when building the project&#39;s jar, and this caused the issue.\r\nNo error after the file had been deleted and the size of the target jar is back to under 10Mb.","title":"Create a large zip assembly with maven-assembly-plugin","body":"<p>Encountered the same issue.\nA very big (3GB) log file was occasionally picked up when building the project's jar, and this caused the issue.\nNo error after the file had been deleted and the size of the target jar is back to under 10Mb.</p>\n"},{"tags":[],"owner":{"account_id":166601,"reputation":2923,"user_id":390829,"accept_rate":100,"display_name":"sjakubowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483032820,"creation_date":1483032820,"answer_id":41384553,"question_id":19135298,"body_markdown":"I had a similar issue (same error in the OP) when using the `shade` plugin that was caused by not running `mvn clean` before packaging. ","title":"Create a large zip assembly with maven-assembly-plugin","body":"<p>I had a similar issue (same error in the OP) when using the <code>shade</code> plugin that was caused by not running <code>mvn clean</code> before packaging. </p>\n"},{"tags":[],"owner":{"account_id":609731,"reputation":444,"user_id":332319,"accept_rate":67,"display_name":"Kjeld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652087707,"creation_date":1652087707,"answer_id":72169573,"question_id":19135298,"body_markdown":"I came here because I got the message &#39;invalid entry size&#39; while building. \r\nI then realized I had recently added large files in src/main/resources which are not supposed to be in the build. \r\nThis is just a reminder for anyone who might be in a situation where this error &#39;suddenly&#39; appears; you might be including files that should not be included. \r\n","title":"Create a large zip assembly with maven-assembly-plugin","body":"<p>I came here because I got the message 'invalid entry size' while building.\nI then realized I had recently added large files in src/main/resources which are not supposed to be in the build.\nThis is just a reminder for anyone who might be in a situation where this error 'suddenly' appears; you might be including files that should not be included.</p>\n"}],"owner":{"account_id":391742,"reputation":1078,"user_id":752580,"accept_rate":76,"display_name":"Jacek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19143880,"answer_count":5,"score":1,"last_activity_date":1701858562,"creation_date":1380711257,"question_id":19135298,"body_markdown":"I&#39;m having a problem with creating a larger zip assembly (uncompressed takes over 3GB) using maven-assembly-plugin. The problem occurs when building the output zip file (compressed less than 1GB). Running maven with option `-e` gives me a more detailed info:\r\n\r\n    [INFO] Building zip: xxx/HG19-UCSC-dist.zip\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 12:40.199s\r\n    [INFO] Finished at: Wed Oct 02 11:08:44 BST 2013\r\n    [INFO] Final Memory: 13M/723M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.2-beta-5:single (make-assembly) on project HG19: Execution make-assembly of goal org.apache.maven.plugins:maven-assembly-plugin:2.2-beta-5:single failed: invalid entry size -&gt; [Help 1]\r\n    ...\r\n    ...\r\n    ...\r\n    Caused by: org.apache.maven.plugin.PluginExecutionException: Execution make-assembly of goal org.apache.maven.plugins:maven-assembly-plugin:2.2-beta-5:single failed: invalid entry size\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:115)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n        ... 19 more\r\n    Caused by: java.lang.IllegalArgumentException: invalid entry size\r\n        at java.util.zip.ZipEntry.setSize(ZipEntry.java:135)\r\n        at org.codehaus.plexus.archiver.zip.ZipOutputStream.closeEntry(ZipOutputStream.java:352)\r\n        at org.codehaus.plexus.archiver.zip.ZipOutputStream.finish(ZipOutputStream.java:316)\r\n\r\nLooking around I found that the issue comes from missing support for Zip64 in my JDK/JRE (https://blogs.oracle.com/xuemingshen/entry/zip64_support_for_4g_zipfile), which was added to OpenJDK in 2011.\r\n\r\nHowever, I&#39;ve updated my JDK to the newest one provided by Oracle:\r\n\r\n    $ mvn -version\r\n    Apache Maven 3.1.0 (893ca28a1da9d5f51ac03827af98bb730128f9f2; 2013-06-28 03:15:32+0100)\r\n    Maven home: /usr/local/apache-maven-3.1.0\r\n    Java version: 1.7.0_40, vendor: Oracle Corporation\r\n    Java home: /usr/local/java/jdk1.7.0_40/jre\r\n    Default locale: en_GB, platform encoding: ISO-8859-1\r\n    OS name: &quot;linux&quot;, version: &quot;2.6.32-279.2.1.el6.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\nand it reports the same issue, again. Does the newest Oracle JDK have no support for Zip64 or it&#39;s something else? \r\n\r\nI guess, I could try building OpenJDK b147 from sources but would like to avoid that unless inevitable.","title":"Create a large zip assembly with maven-assembly-plugin","body":"<p>I'm having a problem with creating a larger zip assembly (uncompressed takes over 3GB) using maven-assembly-plugin. The problem occurs when building the output zip file (compressed less than 1GB). Running maven with option <code>-e</code> gives me a more detailed info:</p>\n\n<pre><code>[INFO] Building zip: xxx/HG19-UCSC-dist.zip\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 12:40.199s\n[INFO] Finished at: Wed Oct 02 11:08:44 BST 2013\n[INFO] Final Memory: 13M/723M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.2-beta-5:single (make-assembly) on project HG19: Execution make-assembly of goal org.apache.maven.plugins:maven-assembly-plugin:2.2-beta-5:single failed: invalid entry size -&gt; [Help 1]\n...\n...\n...\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution make-assembly of goal org.apache.maven.plugins:maven-assembly-plugin:2.2-beta-5:single failed: invalid entry size\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:115)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n    ... 19 more\nCaused by: java.lang.IllegalArgumentException: invalid entry size\n    at java.util.zip.ZipEntry.setSize(ZipEntry.java:135)\n    at org.codehaus.plexus.archiver.zip.ZipOutputStream.closeEntry(ZipOutputStream.java:352)\n    at org.codehaus.plexus.archiver.zip.ZipOutputStream.finish(ZipOutputStream.java:316)\n</code></pre>\n\n<p>Looking around I found that the issue comes from missing support for Zip64 in my JDK/JRE (<a href=\"https://blogs.oracle.com/xuemingshen/entry/zip64_support_for_4g_zipfile\" rel=\"nofollow\">https://blogs.oracle.com/xuemingshen/entry/zip64_support_for_4g_zipfile</a>), which was added to OpenJDK in 2011.</p>\n\n<p>However, I've updated my JDK to the newest one provided by Oracle:</p>\n\n<pre><code>$ mvn -version\nApache Maven 3.1.0 (893ca28a1da9d5f51ac03827af98bb730128f9f2; 2013-06-28 03:15:32+0100)\nMaven home: /usr/local/apache-maven-3.1.0\nJava version: 1.7.0_40, vendor: Oracle Corporation\nJava home: /usr/local/java/jdk1.7.0_40/jre\nDefault locale: en_GB, platform encoding: ISO-8859-1\nOS name: \"linux\", version: \"2.6.32-279.2.1.el6.x86_64\", arch: \"amd64\", family: \"unix\"\n</code></pre>\n\n<p>and it reports the same issue, again. Does the newest Oracle JDK have no support for Zip64 or it's something else? </p>\n\n<p>I guess, I could try building OpenJDK b147 from sources but would like to avoid that unless inevitable.</p>\n"},{"tags":["java","sql","spring"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1701842024,"post_id":77610793,"comment_id":136823871,"body_markdown":"Can you _edit_ your question and reveal the source of the `dealNoChunkList` list?","body":"Can you <i>edit</i> your question and reveal the source of the <code>dealNoChunkList</code> list?"},{"owner":{"account_id":18079451,"reputation":19,"user_id":13142012,"display_name":"PersonuNique"},"score":0,"creation_date":1701843737,"post_id":77610793,"comment_id":136823995,"body_markdown":"@TimBiegeleisen , added the asked resource in above Added Section","body":"@TimBiegeleisen , added the asked resource in above Added Section"}],"owner":{"account_id":18079451,"reputation":19,"user_id":13142012,"display_name":"PersonuNique"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1701854462,"answer_count":0,"score":0,"last_activity_date":1701858542,"creation_date":1701841464,"question_id":77610793,"body_markdown":"I have written the below query in a repository class to retrieve the records having different deal_no (deal number), but as there are more than 1000 records in the table, I am getting below error.\r\n\r\nFYI, `dealNoChunkList` is the list containing more than 1000 deal numbers.\r\n\r\n```java\r\nList&lt;List&lt;String&gt;&gt; dealNoChunkList = Lists.partition(dealNoList, 100);\r\nwhere dealNoList =[3817,3456,7898.............]    (having more than 1000 records)\r\n```\r\n\r\n**AppImpl.java**\r\n\r\n```java\r\nfor(List&lt;String&gt; deal_no : dealNoChunkList)\r\n{\r\nList&lt;Deal&gt; chunkUFList = underlyingFundsRepo.findByItemIdList(deal_no);\r\nufList.addAll(chunkUFList);\r\n}\r\n```\r\n\r\n**AppRepo.java**\r\n```\r\n@Query(&quot;FROM Deal uf WHERE uf.itemId IN (?1)&quot;)\r\npublic List&lt;Deal&gt; findByItemIdList(List&lt;String&gt; dealNumberList);\r\n```\r\n\r\nError StackTrace:\r\n```none\r\nCaused by: java.sql.SQLSyntaxErrorException: ORA-01795: maximum number of expressions in a list is 1000\r\n..\r\n..\r\n..\r\njava.lang.StringIndexOutOfBoundsException: String index out of range: 255","title":"How to solve java.sql.SQLSyntaxErrorException: ORA-01795: maximum number of expressions in a list is 1000","body":"<p>I have written the below query in a repository class to retrieve the records having different deal_no (deal number), but as there are more than 1000 records in the table, I am getting below error.</p>\n<p>FYI, <code>dealNoChunkList</code> is the list containing more than 1000 deal numbers.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; dealNoChunkList = Lists.partition(dealNoList, 100);\nwhere dealNoList =[3817,3456,7898.............]    (having more than 1000 records)\n</code></pre>\n<p><strong>AppImpl.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>for(List&lt;String&gt; deal_no : dealNoChunkList)\n{\nList&lt;Deal&gt; chunkUFList = underlyingFundsRepo.findByItemIdList(deal_no);\nufList.addAll(chunkUFList);\n}\n</code></pre>\n<p><strong>AppRepo.java</strong></p>\n<pre><code>@Query(&quot;FROM Deal uf WHERE uf.itemId IN (?1)&quot;)\npublic List&lt;Deal&gt; findByItemIdList(List&lt;String&gt; dealNumberList);\n</code></pre>\n<p>Error StackTrace:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.sql.SQLSyntaxErrorException: ORA-01795: maximum number of expressions in a list is 1000\n..\n..\n..\njava.lang.StringIndexOutOfBoundsException: String index out of range: 255\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","jpa","liquibase"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1701337058,"post_id":77577333,"comment_id":136763941,"body_markdown":"You have both `@Enumerated` and a type. Which is it? Either use `@Enumerated` and make the value a `varchar` in the database. Or use a db enum and use the type. You are now mixing 2 strategies.","body":"You have both <code>@Enumerated</code> and a type. Which is it? Either use <code>@Enumerated</code> and make the value a <code>varchar</code> in the database. Or use a db enum and use the type. You are now mixing 2 strategies."},{"owner":{"account_id":30030027,"reputation":1,"user_id":23013330,"display_name":"Shashi"},"score":0,"creation_date":1701345587,"post_id":77577333,"comment_id":136765460,"body_markdown":"Tried removing the @Enumerated as well. Same issue is still coming. I noticed that in the error it says found [&quot;pet&quot;.&quot;pet_type&quot; (Types#VARCHAR)] but expecting [pet_type (Types#OTHER)] notice the in found it has pet schema but in expecteing schema is not. Does it have something to do with the issue.","body":"Tried removing the @Enumerated as well. Same issue is still coming. I noticed that in the error it says found [&quot;pet&quot;.&quot;pet_type&quot; (Types#VARCHAR)] but expecting [pet_type (Types#OTHER)] notice the in found it has pet schema but in expecteing schema is not. Does it have something to do with the issue."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1701445524,"post_id":77577333,"comment_id":136780262,"body_markdown":"what about `@ColumnTransformer(write = &quot;?::yours_enum_type&quot;)` on `PetType` have you tried yet ?","body":"what about <code>@ColumnTransformer(write = &quot;?::yours_enum_type&quot;)</code> on <code>PetType</code> have you tried yet ?"}],"answers":[{"tags":[],"owner":{"account_id":30030027,"reputation":1,"user_id":23013330,"display_name":"Shashi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701858340,"creation_date":1701858340,"answer_id":77612254,"question_id":77577333,"body_markdown":"The issue was missing privilege for the database user for `pet` schema.  ","title":"SpringBoot: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory","body":"<p>The issue was missing privilege for the database user for <code>pet</code> schema.</p>\n"}],"owner":{"account_id":30030027,"reputation":1,"user_id":23013330,"display_name":"Shashi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77612254,"answer_count":1,"score":0,"last_activity_date":1701858340,"creation_date":1701336985,"question_id":77577333,"body_markdown":"In my Postgres database i have created the schema named pet and ran liquibase migration to create schema, tables and types but while starting my spring boot application.\r\n \r\n`Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [pet_type] in table [pets]; found [&quot;pet&quot;.&quot;pet_type&quot; (Types#VARCHAR)], but expecting [pet_type (Types#OTHER)]`\r\n\r\n**PetEntity.java**\r\n```\r\n\t@Enumerated(EnumType.STRING)\r\n\t@Type(PostgreSQLEnumType.class)\r\n\t@Column(name = &quot;pet_type&quot;, nullable = false, columnDefinition = &quot;pet_type&quot;)\r\n\tprivate PetType petType;\r\n```\r\n\r\n**SQL**\r\n```\r\nCREATE TYPE pet_type AS ENUM (&#39;REPTILES&#39;, &#39;FERRETS&#39;);\r\n\r\nCREATE TABLE pets\r\n(\r\n    id                       UUID           NOT NULL,\r\n    pet_type                 PET_TYPE NOT NULL,\r\n);\r\n```\r\n\r\nin my spring boot this is the jpa configurations.\r\n```\r\n  jpa:\r\n    generate-ddl: true\r\n    hibernate:\r\n      ddl-auto: validate\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.PostgreSQLDialect\r\n        default_schema: pet\r\n```\r\n\r\nurl: jdbc:postgresql://localhost:5432/postgres?currentSchema=pet&amp;stringtype=unspecified\r\n\r\nother information.\r\n**Postgres Version:** PostgreSQL 14.6 on aarch64-unknown-linux-gnu, compiled by aarch64-unknown-linux-gnu-gcc (GCC) 7.4.0, 64-bit\r\n**Java Version:** 17\r\n**Hibernate:** hypersistence-utils-hibernate-62 3.6.1\r\n\r\nHas anyone encountered this error before?\r\n\r\nTried changing @Column(name = &quot;pet_type&quot;, nullable = false, columnDefinition = &quot;pet_type&quot;) to @Column(name = &quot;pet_type&quot;, nullable = false, columnDefinition = &quot;pet.pet_type&quot;)","title":"SpringBoot: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory","body":"<p>In my Postgres database i have created the schema named pet and ran liquibase migration to create schema, tables and types but while starting my spring boot application.</p>\n<p><code>Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [pet_type] in table [pets]; found [&quot;pet&quot;.&quot;pet_type&quot; (Types#VARCHAR)], but expecting [pet_type (Types#OTHER)]</code></p>\n<p><strong>PetEntity.java</strong></p>\n<pre><code>    @Enumerated(EnumType.STRING)\n    @Type(PostgreSQLEnumType.class)\n    @Column(name = &quot;pet_type&quot;, nullable = false, columnDefinition = &quot;pet_type&quot;)\n    private PetType petType;\n</code></pre>\n<p><strong>SQL</strong></p>\n<pre><code>CREATE TYPE pet_type AS ENUM ('REPTILES', 'FERRETS');\n\nCREATE TABLE pets\n(\n    id                       UUID           NOT NULL,\n    pet_type                 PET_TYPE NOT NULL,\n);\n</code></pre>\n<p>in my spring boot this is the jpa configurations.</p>\n<pre><code>  jpa:\n    generate-ddl: true\n    hibernate:\n      ddl-auto: validate\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n        default_schema: pet\n</code></pre>\n<p>url: jdbc:postgresql://localhost:5432/postgres?currentSchema=pet&amp;stringtype=unspecified</p>\n<p>other information.\n<strong>Postgres Version:</strong> PostgreSQL 14.6 on aarch64-unknown-linux-gnu, compiled by aarch64-unknown-linux-gnu-gcc (GCC) 7.4.0, 64-bit\n<strong>Java Version:</strong> 17\n<strong>Hibernate:</strong> hypersistence-utils-hibernate-62 3.6.1</p>\n<p>Has anyone encountered this error before?</p>\n<p>Tried changing @Column(name = &quot;pet_type&quot;, nullable = false, columnDefinition = &quot;pet_type&quot;) to @Column(name = &quot;pet_type&quot;, nullable = false, columnDefinition = &quot;pet.pet_type&quot;)</p>\n"},{"tags":["java","file-io","apache-commons-io"],"comments":[{"owner":{"account_id":1667552,"reputation":3298,"user_id":1534664,"accept_rate":99,"display_name":"user1534664"},"score":2,"creation_date":1351861627,"post_id":13195797,"comment_id":17963332,"body_markdown":"Thats because .deleteDirectory (even the name implies it) is used for deleting directory&#39;s.  It will get the directory it is in if the file isn&#39;t a directory.","body":"Thats because .deleteDirectory (even the name implies it) is used for deleting directory&#39;s.  It will get the directory it is in if the file isn&#39;t a directory."},{"owner":{"account_id":1667552,"reputation":3298,"user_id":1534664,"accept_rate":99,"display_name":"user1534664"},"score":0,"creation_date":1351861668,"post_id":13195797,"comment_id":17963351,"body_markdown":"Try looking for other functions inside the FileUtils class, that delete files instead of directory&#39;s.","body":"Try looking for other functions inside the FileUtils class, that delete files instead of directory&#39;s."},{"owner":{"account_id":1667552,"reputation":3298,"user_id":1534664,"accept_rate":99,"display_name":"user1534664"},"score":1,"creation_date":1351861731,"post_id":13195797,"comment_id":17963378,"body_markdown":"http://www.javacodeexamples.com/java-delete-file-example/","body":"<a href=\"http://www.javacodeexamples.com/java-delete-file-example/\" rel=\"nofollow noreferrer\">javacodeexamples.com/java-delete-file-example</a>"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1351861791,"post_id":13195797,"comment_id":17963409,"body_markdown":"Why do you specifically need a one-liner? Performance can&#39;t be the criteria, because any 3rd party library method, will do that recursively only. So it would give you the same performance?","body":"Why do you specifically need a one-liner? Performance can&#39;t be the criteria, because any 3rd party library method, will do that recursively only. So it would give you the same performance?"},{"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"score":1,"creation_date":1571251884,"post_id":13195797,"comment_id":103182132,"body_markdown":"One thing you can do is delete the directory and then re-create it. We found that using `rm -rf directory; mkdir directory` was faster than using `FileUtils.cleanDirectory`.","body":"One thing you can do is delete the directory and then re-create it. We found that using <code>rm -rf directory; mkdir directory</code> was faster than using <code>FileUtils.cleanDirectory</code>."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":310,"is_accepted":false,"score":309,"last_activity_date":1468309425,"creation_date":1351861773,"answer_id":13195870,"question_id":13195797,"body_markdown":"Do you mean like?\r\n\r\n    for(File file: dir.listFiles()) \r\n        if (!file.isDirectory()) \r\n            file.delete();\r\n\r\nThis will only delete files, not directories.","title":"Delete all files in directory (but not directory) - one liner solution","body":"<p>Do you mean like?</p>\n\n<pre><code>for(File file: dir.listFiles()) \n    if (!file.isDirectory()) \n        file.delete();\n</code></pre>\n\n<p>This will only delete files, not directories.</p>\n"},{"tags":[],"owner":{"account_id":127611,"reputation":8775,"user_id":324900,"accept_rate":80,"display_name":"Reddy"},"down_vote_count":7,"up_vote_count":447,"is_accepted":true,"score":440,"last_activity_date":1587158152,"creation_date":1351861839,"answer_id":13195890,"question_id":13195797,"body_markdown":"    import org.apache.commons.io.FileUtils;\r\n\r\n    FileUtils.cleanDirectory(directory); \r\n\r\nThere is this method available in the same file. This will also recursively deletes all sub-folders and files under them.\r\n\r\nDocs: [`org.apache.commons.io.FileUtils.cleanDirectory`][1]\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#cleanDirectory(java.io.File)","title":"Delete all files in directory (but not directory) - one liner solution","body":"<pre><code>import org.apache.commons.io.FileUtils;\n\nFileUtils.cleanDirectory(directory); \n</code></pre>\n\n<p>There is this method available in the same file. This will also recursively deletes all sub-folders and files under them.</p>\n\n<p>Docs: <a href=\"http://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#cleanDirectory(java.io.File)\" rel=\"noreferrer\"><code>org.apache.commons.io.FileUtils.cleanDirectory</code></a></p>\n"},{"tags":[],"owner":{"account_id":2385102,"reputation":1188,"user_id":2086234,"display_name":"Chrissi"},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1535446900,"creation_date":1384764558,"answer_id":20043507,"question_id":13195797,"body_markdown":"Peter Lawrey&#39;s answer is great because it is simple and not depending on anything special, and it&#39;s the way you should do it. If you need something that removes subdirectories and their contents as well, use recursion:\r\n\r\n\tvoid purgeDirectory(File dir) {\r\n\t\tfor (File file: dir.listFiles()) {\r\n\t\t\tif (file.isDirectory())\r\n                purgeDirectory(file);\r\n\t\t\tfile.delete();\r\n\t\t}\r\n\t}\r\n\r\nTo spare subdirectories and their contents (part of your question), modify as follows:\r\n\r\n\tvoid purgeDirectoryButKeepSubDirectories(File dir) {\r\n\t\tfor (File file: dir.listFiles()) {\r\n\t\t\tif (!file.isDirectory())\r\n                file.delete();\r\n\t\t}\r\n\t}\r\n\r\nOr, since you wanted a one-line solution:\r\n\r\n    for (File file: dir.listFiles())\r\n        if (!file.isDirectory())\r\n            file.delete();\r\n\r\nUsing an external library for such a trivial task is not a good idea unless you need this library for something else anyway, in which case it is preferrable to use existing code. You appear to be using the Apache library anyway so use its `FileUtils.cleanDirectory()` method.\r\n\r\n","title":"Delete all files in directory (but not directory) - one liner solution","body":"<p>Peter Lawrey's answer is great because it is simple and not depending on anything special, and it's the way you should do it. If you need something that removes subdirectories and their contents as well, use recursion:</p>\n\n<pre><code>void purgeDirectory(File dir) {\n    for (File file: dir.listFiles()) {\n        if (file.isDirectory())\n            purgeDirectory(file);\n        file.delete();\n    }\n}\n</code></pre>\n\n<p>To spare subdirectories and their contents (part of your question), modify as follows:</p>\n\n<pre><code>void purgeDirectoryButKeepSubDirectories(File dir) {\n    for (File file: dir.listFiles()) {\n        if (!file.isDirectory())\n            file.delete();\n    }\n}\n</code></pre>\n\n<p>Or, since you wanted a one-line solution:</p>\n\n<pre><code>for (File file: dir.listFiles())\n    if (!file.isDirectory())\n        file.delete();\n</code></pre>\n\n<p>Using an external library for such a trivial task is not a good idea unless you need this library for something else anyway, in which case it is preferrable to use existing code. You appear to be using the Apache library anyway so use its <code>FileUtils.cleanDirectory()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":3906696,"reputation":75,"user_id":3233206,"accept_rate":75,"display_name":"Mahesh"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1390590258,"creation_date":1390588996,"answer_id":21340066,"question_id":13195797,"body_markdown":"    package com;\r\n    import java.io.File;\r\n    public class Delete {\r\n        public static void main(String[] args) {\r\n    \r\n            String files; \r\n            File file = new File(&quot;D:\\\\del\\\\yc\\\\gh&quot;);\r\n            File[] listOfFiles = file.listFiles(); \r\n            for (int i = 0; i &lt; listOfFiles.length; i++) \r\n            {\r\n                if (listOfFiles[i].isFile()) \r\n                {\r\n                    files = listOfFiles[i].getName();\r\n                    System.out.println(files);\r\n                    if(!files.equalsIgnoreCase(&quot;Scan.pdf&quot;))\r\n                    {\r\n                        boolean issuccess=new File(listOfFiles[i].toString()).delete();\r\n                        System.err.println(&quot;Deletion Success &quot;+issuccess);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nIf you want to delete all files remove \r\n\r\n    if(!files.equalsIgnoreCase(&quot;Scan.pdf&quot;))\r\n\r\nstatement it will work.\r\n","title":"Delete all files in directory (but not directory) - one liner solution","body":"<pre><code>package com;\nimport java.io.File;\npublic class Delete {\n    public static void main(String[] args) {\n\n        String files; \n        File file = new File(\"D:\\\\del\\\\yc\\\\gh\");\n        File[] listOfFiles = file.listFiles(); \n        for (int i = 0; i &lt; listOfFiles.length; i++) \n        {\n            if (listOfFiles[i].isFile()) \n            {\n                files = listOfFiles[i].getName();\n                System.out.println(files);\n                if(!files.equalsIgnoreCase(\"Scan.pdf\"))\n                {\n                    boolean issuccess=new File(listOfFiles[i].toString()).delete();\n                    System.err.println(\"Deletion Success \"+issuccess);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>If you want to delete all files remove </p>\n\n<pre><code>if(!files.equalsIgnoreCase(\"Scan.pdf\"))\n</code></pre>\n\n<p>statement it will work.</p>\n"},{"tags":[],"owner":{"account_id":165129,"reputation":1388,"user_id":388317,"accept_rate":0,"display_name":"Christian Ullenboom"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1401270622,"creation_date":1400794559,"answer_id":23817456,"question_id":13195797,"body_markdown":"Or to use this in Java 8:\r\n\r\n    try {\r\n      Files.newDirectoryStream( directory ).forEach( file -&gt; {\r\n        try { Files.delete( file ); }\r\n        catch ( IOException e ) { throw new UncheckedIOException(e); }\r\n      } );\r\n    }\r\n    catch ( IOException e ) {\r\n      e.printStackTrace();\r\n    }\r\n\r\nIt&#39;s a pity the exception handling is so bulky, otherwise it would be a one-liner ...","title":"Delete all files in directory (but not directory) - one liner solution","body":"<p>Or to use this in Java 8:</p>\n\n<pre><code>try {\n  Files.newDirectoryStream( directory ).forEach( file -&gt; {\n    try { Files.delete( file ); }\n    catch ( IOException e ) { throw new UncheckedIOException(e); }\n  } );\n}\ncatch ( IOException e ) {\n  e.printStackTrace();\n}\n</code></pre>\n\n<p>It's a pity the exception handling is so bulky, otherwise it would be a one-liner ...</p>\n"},{"tags":[],"owner":{"account_id":2729454,"reputation":692,"user_id":2353552,"display_name":"Manbumihu Manavan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1402665933,"creation_date":1402665933,"answer_id":24206457,"question_id":13195797,"body_markdown":"    public class DeleteFile {\r\n        public static void main(String[] args) {\r\n            String path=&quot;D:\\test&quot;; \r\n            File file = new File(path);\r\n            File[] files = file.listFiles(); \r\n            for (File f:files) \r\n            {if (f.isFile() &amp;&amp; f.exists) \r\n                { f.delete();\r\n    system.out.println(&quot;successfully deleted&quot;);\r\n                }else{\r\n    system.out.println(&quot;cant delete a file due to open or error&quot;);\r\n    } }  }}","title":"Delete all files in directory (but not directory) - one liner solution","body":"<pre><code>public class DeleteFile {\n    public static void main(String[] args) {\n        String path=\"D:\\test\"; \n        File file = new File(path);\n        File[] files = file.listFiles(); \n        for (File f:files) \n        {if (f.isFile() &amp;&amp; f.exists) \n            { f.delete();\nsystem.out.println(\"successfully deleted\");\n            }else{\nsystem.out.println(\"cant delete a file due to open or error\");\n} }  }}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6732338,"reputation":639,"user_id":5188211,"display_name":"Mahesh Narwade"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1535446822,"creation_date":1450940260,"answer_id":34448620,"question_id":13195797,"body_markdown":"For deleting all files from directory say &quot;C:\\\\Example&quot;\r\n\r\n    File file = new File(&quot;C:\\\\Example&quot;);      \r\n    String[] myFiles;    \r\n    if (file.isDirectory()) {\r\n        myFiles = file.list();\r\n        for (int i = 0; i &lt; myFiles.length; i++) {\r\n            File myFile = new File(file, myFiles[i]); \r\n            myFile.delete();\r\n        }\r\n    }","title":"Delete all files in directory (but not directory) - one liner solution","body":"<p>For deleting all files from directory say \"C:\\Example\"</p>\n\n<pre><code>File file = new File(\"C:\\\\Example\");      \nString[] myFiles;    \nif (file.isDirectory()) {\n    myFiles = file.list();\n    for (int i = 0; i &lt; myFiles.length; i++) {\n        File myFile = new File(file, myFiles[i]); \n        myFile.delete();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6114255,"reputation":2539,"user_id":4769802,"display_name":"NonlinearFruit"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1481645203,"creation_date":1479755728,"answer_id":40727682,"question_id":13195797,"body_markdown":"# Java 8 Stream\r\nThis deletes only files from **ABC** (sub-directories are untouched):\r\n\r\n    Arrays.stream(new File(&quot;C:/test/ABC/&quot;).listFiles()).forEach(File::delete);\r\n\r\n---\r\n\r\nThis deletes only files from **ABC** (and sub-directories):\r\n\r\n    Files.walk(Paths.get(&quot;C:/test/ABC/&quot;))\r\n                    .filter(Files::isRegularFile)\r\n                    .map(Path::toFile)\r\n                    .forEach(File::delete);\r\n^ This version requires handling the IOException\r\n","title":"Delete all files in directory (but not directory) - one liner solution","body":"<h1>Java 8 Stream</h1>\n\n<p>This deletes only files from <strong>ABC</strong> (sub-directories are untouched):</p>\n\n<pre><code>Arrays.stream(new File(\"C:/test/ABC/\").listFiles()).forEach(File::delete);\n</code></pre>\n\n<hr>\n\n<p>This deletes only files from <strong>ABC</strong> (and sub-directories):</p>\n\n<pre><code>Files.walk(Paths.get(\"C:/test/ABC/\"))\n                .filter(Files::isRegularFile)\n                .map(Path::toFile)\n                .forEach(File::delete);\n</code></pre>\n\n<p>^ This version requires handling the IOException</p>\n"},{"tags":[],"owner":{"account_id":1556087,"reputation":311,"user_id":1447139,"display_name":"hijack"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518110870,"creation_date":1516888093,"answer_id":48444461,"question_id":13195797,"body_markdown":"Another Java 8 Stream solution to delete all the content of a folder, sub directories included, but not the folder itself.\r\n\r\nUsage:\r\n\r\n    Path folder = Paths.get(&quot;/tmp/folder&quot;);\r\n    CleanFolder.clean(folder);\r\n\r\nand the code:\r\n\r\n    public interface CleanFolder {\r\n\t\tstatic void clean(Path folder) throws IOException {\r\n\t\t\t\r\n\t\t\tFunction&lt;Path, Stream&lt;Path&gt;&gt; walk = p -&gt; {\r\n\t\t\t\ttry { return Files.walk(p);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\treturn Stream.empty();\r\n\t\t\t}};\r\n\t\t\t\r\n\t\t\tConsumer&lt;Path&gt; delete = p -&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tFiles.delete(p);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tFiles.list(folder)\r\n\t\t\t\t.flatMap(walk)\r\n\t\t\t\t.sorted(Comparator.reverseOrder())\r\n\t\t\t\t.forEach(delete);\r\n\t\t}\r\n\t}\r\n\r\nThe problem with every stream solution involving Files.walk or Files.delete is that these methods throws IOException which are a pain to handle in streams.\r\n\r\nI tried to create a solution which is more concise as possible.","title":"Delete all files in directory (but not directory) - one liner solution","body":"<p>Another Java 8 Stream solution to delete all the content of a folder, sub directories included, but not the folder itself.</p>\n\n<p>Usage:</p>\n\n<pre><code>Path folder = Paths.get(\"/tmp/folder\");\nCleanFolder.clean(folder);\n</code></pre>\n\n<p>and the code:</p>\n\n<pre><code>public interface CleanFolder {\n    static void clean(Path folder) throws IOException {\n\n        Function&lt;Path, Stream&lt;Path&gt;&gt; walk = p -&gt; {\n            try { return Files.walk(p);\n        } catch (IOException e) {\n            return Stream.empty();\n        }};\n\n        Consumer&lt;Path&gt; delete = p -&gt; {\n            try {\n                Files.delete(p);\n            } catch (IOException e) {\n            }\n        };\n\n        Files.list(folder)\n            .flatMap(walk)\n            .sorted(Comparator.reverseOrder())\n            .forEach(delete);\n    }\n}\n</code></pre>\n\n<p>The problem with every stream solution involving Files.walk or Files.delete is that these methods throws IOException which are a pain to handle in streams.</p>\n\n<p>I tried to create a solution which is more concise as possible.</p>\n"},{"tags":[],"owner":{"account_id":2256042,"reputation":111,"user_id":1987210,"display_name":"dansouza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562936215,"creation_date":1562936215,"answer_id":57007478,"question_id":13195797,"body_markdown":"I think this will work (based on NonlinearFruit previous answer): \r\n\r\n    Files.walk(Paths.get(&quot;C:/test/ABC/&quot;))\r\n                    .sorted(Comparator.reverseOrder())\r\n                    .map(Path::toFile)\r\n                    .filter(item -&gt; !item.getPath().equals(&quot;C:/test/ABC/&quot;))\r\n                    .forEach(File::delete);\r\n\r\nCheers!","title":"Delete all files in directory (but not directory) - one liner solution","body":"<p>I think this will work (based on NonlinearFruit previous answer): </p>\n\n<pre><code>Files.walk(Paths.get(\"C:/test/ABC/\"))\n                .sorted(Comparator.reverseOrder())\n                .map(Path::toFile)\n                .filter(item -&gt; !item.getPath().equals(\"C:/test/ABC/\"))\n                .forEach(File::delete);\n</code></pre>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1571255960,"creation_date":1571255960,"answer_id":58420875,"question_id":13195797,"body_markdown":"### `rm -rf` was _much_ more performant than `FileUtils.cleanDirectory`.\r\n\r\nNot a one-liner solution but after extensive benchmarking, we found that using `rm -rf` was multiple times faster than using `FileUtils.cleanDirectory`. \r\n\r\nOf course, if you have a small or simple directory, it won&#39;t matter but in our case we had multiple gigabytes and deeply nested sub directories where it would take over 10 minutes with `FileUtils.cleanDirectory` and only 1 minute with `rm -rf`.\r\n\r\nHere&#39;s our rough Java implementation to do that: \r\n\r\n    // Delete directory given and all subdirectories and files (i.e. recursively).\r\n\t//\r\n\tstatic public boolean clearDirectory( File file ) throws IOException, InterruptedException {\r\n\r\n\t\tif ( file.exists() ) {\r\n\r\n\t\t\tString deleteCommand = &quot;rm -rf &quot; + file.getAbsolutePath();\r\n\t\t\tRuntime runtime = Runtime.getRuntime();\r\n\r\n\t\t\tProcess process = runtime.exec( deleteCommand );\r\n\t\t\tprocess.waitFor();\r\n\r\n\t\t\tfile.mkdirs(); // Since we only want to clear the directory and not delete it, we need to re-create the directory.\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\r\n\t}\r\n\r\nWorth trying if you&#39;re dealing with large or complex directories.","title":"Delete all files in directory (but not directory) - one liner solution","body":"<h3><code>rm -rf</code> was <em>much</em> more performant than <code>FileUtils.cleanDirectory</code>.</h3>\n\n<p>Not a one-liner solution but after extensive benchmarking, we found that using <code>rm -rf</code> was multiple times faster than using <code>FileUtils.cleanDirectory</code>. </p>\n\n<p>Of course, if you have a small or simple directory, it won't matter but in our case we had multiple gigabytes and deeply nested sub directories where it would take over 10 minutes with <code>FileUtils.cleanDirectory</code> and only 1 minute with <code>rm -rf</code>.</p>\n\n<p>Here's our rough Java implementation to do that: </p>\n\n<pre><code>// Delete directory given and all subdirectories and files (i.e. recursively).\n//\nstatic public boolean clearDirectory( File file ) throws IOException, InterruptedException {\n\n    if ( file.exists() ) {\n\n        String deleteCommand = \"rm -rf \" + file.getAbsolutePath();\n        Runtime runtime = Runtime.getRuntime();\n\n        Process process = runtime.exec( deleteCommand );\n        process.waitFor();\n\n        file.mkdirs(); // Since we only want to clear the directory and not delete it, we need to re-create the directory.\n\n        return true;\n    }\n\n    return false;\n\n}\n</code></pre>\n\n<p>Worth trying if you're dealing with large or complex directories.</p>\n"},{"tags":[],"owner":{"account_id":6441295,"reputation":189,"user_id":4991236,"display_name":"Viktor Sirotin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700847112,"creation_date":1700847112,"answer_id":77544796,"question_id":13195797,"body_markdown":"In Kotlin you can make it as:\r\n\r\n    fun File.deleteDirContent(){\r\n       this.walkBottomUp()\r\n           .filter { it != this }\r\n           .forEach { it.deleteRecursively() }\r\n    }\r\nand use this function as:\r\n\r\n    dir.deleteDirContent() ","title":"Delete all files in directory (but not directory) - one liner solution","body":"<p>In Kotlin you can make it as:</p>\n<pre><code>fun File.deleteDirContent(){\n   this.walkBottomUp()\n       .filter { it != this }\n       .forEach { it.deleteRecursively() }\n}\n</code></pre>\n<p>and use this function as:</p>\n<pre><code>dir.deleteDirContent() \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7254047,"reputation":467,"user_id":5533359,"accept_rate":67,"display_name":"HMD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701858222,"creation_date":1701815743,"answer_id":77609603,"question_id":13195797,"body_markdown":"In java 8, simply use:\r\n\r\n```\r\npublic void clearDirectory(Path directory){\r\n    if (Files.exists(directory)) {\r\n            Files.list(directory)\r\n                 .forEach(\r\n                         path -&gt; {\r\n                             try {\r\n                                 if (Files.isDirectory(path)) {\r\n                                     clearDirectory(path);\r\n                                 }\r\n                                 Files.delete(path);\r\n                             } catch (IOException e) {\r\n                                 // todo handle exception\r\n                             }\r\n                         }\r\n                 );\r\n        }\r\n}\r\n```","title":"Delete all files in directory (but not directory) - one liner solution","body":"<p>In java 8, simply use:</p>\n<pre><code>public void clearDirectory(Path directory){\n    if (Files.exists(directory)) {\n            Files.list(directory)\n                 .forEach(\n                         path -&gt; {\n                             try {\n                                 if (Files.isDirectory(path)) {\n                                     clearDirectory(path);\n                                 }\n                                 Files.delete(path);\n                             } catch (IOException e) {\n                                 // todo handle exception\n                             }\n                         }\n                 );\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":1066374,"reputation":31122,"user_id":1066828,"accept_rate":95,"display_name":"Fahim Parkar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330619,"favorite_count":0,"down_vote_count":3,"up_vote_count":261,"accepted_answer_id":13195890,"answer_count":13,"score":258,"last_activity_date":1701858222,"creation_date":1351861489,"question_id":13195797,"body_markdown":"I want to delete all files inside ABC directory.\r\n\r\nWhen I tried with `FileUtils.deleteDirectory(new File(&quot;C:/test/ABC/&quot;));` it also deletes folder ABC.\r\n\r\nIs there a one liner solution where I can delete files inside directory but not directory?","title":"Delete all files in directory (but not directory) - one liner solution","body":"<p>I want to delete all files inside ABC directory.</p>\n\n<p>When I tried with <code>FileUtils.deleteDirectory(new File(\"C:/test/ABC/\"));</code> it also deletes folder ABC.</p>\n\n<p>Is there a one liner solution where I can delete files inside directory but not directory?</p>\n"},{"tags":["java","sonarqube","sonarqube-scan"],"owner":{"account_id":6043607,"reputation":91,"user_id":8269446,"display_name":"mamol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701857965,"creation_date":1701771215,"question_id":77605360,"body_markdown":"I have multi module project and i need to check it with sonar. So I configured `sonarqube.properties` to scan each modules, it works but without tests. In dashboard I have 0% coverage, although it should be ~70%.\r\n\r\nMy project similar shown below.\r\n\r\nsonarqube.properties\r\n```\r\nsonar.projectKey=test_multilib\r\n\r\nsonar.java.binaries=**/*\r\n\r\nsonar.modules=lib, child, foo, bar\r\n\r\nlib.sonar.projectName=test_multilib:lib\r\nlib.sonar.tests=src/test\r\nlib.sonar.sources=src/main/java\r\n\r\nchild.sonar.projectName=test_multilib:child\r\nchild.sonar.tests=src/test\r\nchild.sonar.sources=src/main/java\r\n\r\nfoo.sonar.projectName=test_multilib:foo\r\nfoo.sonar.tests=src/test\r\nfoo.sonar.sources=src/main/java\r\n\r\nbar.sonar.projectName=test_multilib:bar\r\nbar.sonar.tests=src/test\r\nbar.sonar.sources=src/main/java\r\n```","title":"SonarQube does not see tests in modules","body":"<p>I have multi module project and i need to check it with sonar. So I configured <code>sonarqube.properties</code> to scan each modules, it works but without tests. In dashboard I have 0% coverage, although it should be ~70%.</p>\n<p>My project similar shown below.</p>\n<p>sonarqube.properties</p>\n<pre><code>sonar.projectKey=test_multilib\n\nsonar.java.binaries=**/*\n\nsonar.modules=lib, child, foo, bar\n\nlib.sonar.projectName=test_multilib:lib\nlib.sonar.tests=src/test\nlib.sonar.sources=src/main/java\n\nchild.sonar.projectName=test_multilib:child\nchild.sonar.tests=src/test\nchild.sonar.sources=src/main/java\n\nfoo.sonar.projectName=test_multilib:foo\nfoo.sonar.tests=src/test\nfoo.sonar.sources=src/main/java\n\nbar.sonar.projectName=test_multilib:bar\nbar.sonar.tests=src/test\nbar.sonar.sources=src/main/java\n</code></pre>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":21103632,"reputation":2356,"user_id":15513073,"display_name":"leaf_yakitori"},"score":1,"creation_date":1701851205,"post_id":77611497,"comment_id":136824940,"body_markdown":"I highly doubt this is a X-Y problem, what you actually need I think is inheriting from multiple classes. check https://stackoverflow.com/questions/12162688/inheriting-from-multiple-classes-in-java-and-possibly-not-using-interface","body":"I highly doubt this is a X-Y problem, what you actually need I think is inheriting from multiple classes. check <a href=\"https://stackoverflow.com/questions/12162688/inheriting-from-multiple-classes-in-java-and-possibly-not-using-interface\" title=\"inheriting from multiple classes in java and possibly not using interface\">stackoverflow.com/questions/12162688/&hellip;</a>"},{"owner":{"account_id":2610902,"reputation":875,"user_id":20396240,"display_name":"Sembei Norimaki"},"score":0,"creation_date":1701862964,"post_id":77611497,"comment_id":136826988,"body_markdown":"hehe, good luck with conflicts. what about if both classes contain a method with the same name but different code?","body":"hehe, good luck with conflicts. what about if both classes contain a method with the same name but different code?"},{"owner":{"account_id":16334241,"reputation":340,"user_id":11796846,"display_name":"KP Singh"},"score":0,"creation_date":1701864326,"post_id":77611497,"comment_id":136827234,"body_markdown":"No. That is not going to happen in my project. If 2 classes have the same name then they will have same signature and body as well.","body":"No. That is not going to happen in my project. If 2 classes have the same name then they will have same signature and body as well."}],"answers":[{"tags":[],"owner":{"account_id":28874306,"reputation":7,"user_id":22115200,"display_name":"Justine Andrei Parong"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1701857751,"creation_date":1701851315,"answer_id":77611539,"question_id":77611497,"body_markdown":"You can use &quot;with open&quot; function to write down the file that you what to read in Python programming language.\r\n\r\nDeclare the file path that you declare in Java file.","title":"How to write a Python function to merge 2 java files?","body":"<p>You can use &quot;with open&quot; function to write down the file that you what to read in Python programming language.</p>\n<p>Declare the file path that you declare in Java file.</p>\n"}],"owner":{"account_id":16334241,"reputation":340,"user_id":11796846,"display_name":"KP Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701851452,"answer_count":1,"score":-2,"last_activity_date":1701857751,"creation_date":1701850914,"question_id":77611497,"body_markdown":"I have a java file with a class and some methods and members.\r\n\r\n        public class Bike {\r\n    \r\n    \tString model;\r\n    \tint price;\r\n    \r\n    \tpublic void start() {\r\n    \t\tSystem.out.println(&quot;Start Bike&quot;);\r\n    \t}\r\n    \r\n    \tpublic void accelerate() {\r\n    \t\tSystem.out.println(&quot;accelerate Bike&quot;);\r\n    \t}\r\n    }\r\n\r\nI have another java file with the same class but with additional methods and members\r\n\r\n    public class Bike {\r\n    \r\n        String model;\r\n    \tString color;\r\n    \r\n    \tpublic void start() {\r\n    \t\tSystem.out.println(&quot;Start Bike&quot;);\r\n    \t}\r\n    \r\n    \tpublic void brake() {\r\n    \t\tSystem.out.println(&quot;apply Bike brake&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nI want to update the first java file such that it now contains the additional methods and members of the second java class.\r\nSomething like this.\r\n\r\n    public class Bike {\r\n    \r\n    \tString model;\r\n    \tint price;\r\n    \tString color;\r\n    \r\n    \tpublic void start() {\r\n    \t\tSystem.out.println(&quot;Start Bike&quot;);\r\n    \t}\r\n    \r\n    \tpublic void accelerate() {\r\n    \t\tSystem.out.println(&quot;accelerate Bike&quot;);\r\n    \t}\r\n    \r\n    \tpublic void brake() {\r\n    \t\tSystem.out.println(&quot;apply Bike brake&quot;);\r\n    \t}\r\n    }\r\n\r\nI want to code this in python.\r\nI already have 2 variables that contain the contents of these files.\r\n\r\n    def merge_java_code(self, first_file, second_file):\r\n        .\r\n        .\r\n        .\r\n        return merged_file\r\n\r\nThe above function should return a value with the merged java codes as shown above.\r\nI just want to know the logic to implement this function.\r\n\r\n\r\n","title":"How to write a Python function to merge 2 java files?","body":"<p>I have a java file with a class and some methods and members.</p>\n<pre><code>    public class Bike {\n\n    String model;\n    int price;\n\n    public void start() {\n        System.out.println(&quot;Start Bike&quot;);\n    }\n\n    public void accelerate() {\n        System.out.println(&quot;accelerate Bike&quot;);\n    }\n}\n</code></pre>\n<p>I have another java file with the same class but with additional methods and members</p>\n<pre><code>public class Bike {\n\n    String model;\n    String color;\n\n    public void start() {\n        System.out.println(&quot;Start Bike&quot;);\n    }\n\n    public void brake() {\n        System.out.println(&quot;apply Bike brake&quot;);\n    }\n\n}\n</code></pre>\n<p>I want to update the first java file such that it now contains the additional methods and members of the second java class.\nSomething like this.</p>\n<pre><code>public class Bike {\n\n    String model;\n    int price;\n    String color;\n\n    public void start() {\n        System.out.println(&quot;Start Bike&quot;);\n    }\n\n    public void accelerate() {\n        System.out.println(&quot;accelerate Bike&quot;);\n    }\n\n    public void brake() {\n        System.out.println(&quot;apply Bike brake&quot;);\n    }\n}\n</code></pre>\n<p>I want to code this in python.\nI already have 2 variables that contain the contents of these files.</p>\n<pre><code>def merge_java_code(self, first_file, second_file):\n    .\n    .\n    .\n    return merged_file\n</code></pre>\n<p>The above function should return a value with the merged java codes as shown above.\nI just want to know the logic to implement this function.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1701930456,"post_id":77612179,"comment_id":136836463,"body_markdown":"There is no way to disable the &quot;Use classpath of module&quot; in Application run configuration. That option only hides/shows that UI in the run configuration. In IntelliJ, each Java program is associated with a module concept and needs a module for running so the IDE knows where the source code is located for compilation before running and what libraries it has. For your case, you need to create a module with fewer libraries and create another module including it to add other libraries. This is similar to if you run a Maven/Gradle project from the command line with a different set of libraries.","body":"There is no way to disable the &quot;Use classpath of module&quot; in Application run configuration. That option only hides/shows that UI in the run configuration. In IntelliJ, each Java program is associated with a module concept and needs a module for running so the IDE knows where the source code is located for compilation before running and what libraries it has. For your case, you need to create a module with fewer libraries and create another module including it to add other libraries. This is similar to if you run a Maven/Gradle project from the command line with a different set of libraries."}],"owner":{"account_id":28818757,"reputation":1,"user_id":22071781,"display_name":"HEN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701857630,"creation_date":1701857630,"question_id":77612179,"body_markdown":"In our project, we share IntelliJ run configurations (using a git repository) with #IC-232.10227.8 (2023.2.5).\r\nWe have many run configs in the same IntelliJ module and one of them needs a different classpath than the module. Different means: *less* libraries than in the module dependencies.\r\n\r\nWhenever we disable &quot;Use classpath of module&quot;, apply and re-open the run configuration, the classpath is again set by the module. (The [documentation](https://www.jetbrains.com/help/idea/run-debug-configuration-java-application.html#more_options) keeps the explanation of this option rather short.)\r\n\r\nThis leads to a difficult situation:\r\n- we cannot modify the classpath via excludes because of [IDEA-303236](https://youtrack.jetbrains.com/issue/IDEA-303236/Relative-path-or-macros-for-modify-classpath-in-Run-Debug-configuration-settings) -&gt; developers would be bound to using the same local base path\r\n- we cannot modify the classpath via includes (even if macros work there) since the module classpath comes first - including is not the problem...\r\n\r\nThe only chance I see is to explicitly set the classpath via JVM command line argument (this overrides module classpath), which leads to a horrific non-maintainable single-liner\r\n\r\n`-classpath=/path/to/first/lib;/path/to/second/lib;...`\r\n\r\nDo we oversee something? It seems a flaw that IntelliJ cannot handle shared run configs with non-module classpaths.","title":"Shared run configuration in IntelliJ with modified classpath","body":"<p>In our project, we share IntelliJ run configurations (using a git repository) with #IC-232.10227.8 (2023.2.5).\nWe have many run configs in the same IntelliJ module and one of them needs a different classpath than the module. Different means: <em>less</em> libraries than in the module dependencies.</p>\n<p>Whenever we disable &quot;Use classpath of module&quot;, apply and re-open the run configuration, the classpath is again set by the module. (The <a href=\"https://www.jetbrains.com/help/idea/run-debug-configuration-java-application.html#more_options\" rel=\"nofollow noreferrer\">documentation</a> keeps the explanation of this option rather short.)</p>\n<p>This leads to a difficult situation:</p>\n<ul>\n<li>we cannot modify the classpath via excludes because of <a href=\"https://youtrack.jetbrains.com/issue/IDEA-303236/Relative-path-or-macros-for-modify-classpath-in-Run-Debug-configuration-settings\" rel=\"nofollow noreferrer\">IDEA-303236</a> -&gt; developers would be bound to using the same local base path</li>\n<li>we cannot modify the classpath via includes (even if macros work there) since the module classpath comes first - including is not the problem...</li>\n</ul>\n<p>The only chance I see is to explicitly set the classpath via JVM command line argument (this overrides module classpath), which leads to a horrific non-maintainable single-liner</p>\n<p><code>-classpath=/path/to/first/lib;/path/to/second/lib;...</code></p>\n<p>Do we oversee something? It seems a flaw that IntelliJ cannot handle shared run configs with non-module classpaths.</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1632317287,"post_id":69284909,"comment_id":122459282,"body_markdown":"Does this answer your question? [Lombok @Wither Inheritance (super-/sub- classes)](https://stackoverflow.com/questions/56761054/lombok-wither-inheritance-super-sub-classes)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/56761054/lombok-wither-inheritance-super-sub-classes\">Lombok @Wither Inheritance (super-/sub- classes)</a>"},{"owner":{"account_id":174940,"reputation":6518,"user_id":404604,"accept_rate":47,"display_name":"Psycho Punch"},"score":0,"creation_date":1632330116,"post_id":69284909,"comment_id":122465262,"body_markdown":"@JanRieke Thanks. I stumbled upon the `toBuilder` after posting this question, and it kind of accomplished what I&#39;m after, albeit less satisfactory. I&#39;m guessing the situation hasn&#39;t changed since your answer, and the best option for now is to use the `toBuilder`?","body":"@JanRieke Thanks. I stumbled upon the <code>toBuilder</code> after posting this question, and it kind of accomplished what I&#39;m after, albeit less satisfactory. I&#39;m guessing the situation hasn&#39;t changed since your answer, and the best option for now is to use the <code>toBuilder</code>?"},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1632331399,"post_id":69284909,"comment_id":122465824,"body_markdown":"No changes in the meantime.","body":"No changes in the meantime."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632317323,"creation_date":1632317323,"answer_id":69285227,"question_id":69284909,"body_markdown":"I cannot reproduce using your code as it is erroneous, fix the following errors and you get your code to work:\r\n\r\n**Compilation errors:**\r\n - You cannot pass `int` to `String`. You call `.age(20)` but it is defined as `String age`.\r\n - The very same for `id` as above.\r\n - The `Person` class should be `abstract class`, not `class abstract`.\r\n - The full-args constructor of `Person` is undefined, so `Employee` doesn&#39;t compile. Annotate `Person` with `@AllArgsConstructor`.\r\n - Due to the inheritance and non-args constructor in the parent class, you must remove both `@AllArgsConstructor` and `@NoArgsConstructor` placed on `Employee`.\r\n\r\n**Warnings:**\r\n - Lombok requires for `@With` annotation a base default constructor in the `Employee` class - you must define it manually: `public Employee(int id)`. Read the specification of the `@With` annotation at https://projectlombok.org/features/With.\r\n\r\n    &gt; The `@With` relies on a constructor for all fields in order to do its work. If this constructor does not exist, your `@With` annotation will result in a compile time error message.\r\n\r\n\r\nThe code starts to work after fixing all the above. Next time, please, prepare at least a compilable snippet.\r\n\r\n```\r\n@Test\r\nvoid testWith() {\r\n\tvar template = Employee.builder().name(&quot;John Smith&quot;).age(20).build();\r\n\tvar clone = template.withId(23);\r\n\tassertThat(clone.getId(), is(23));\r\n}\r\n```","title":"Lombok @With sets inherited fields on the clone to null. How do I make it copy to work?","body":"<p>I cannot reproduce using your code as it is erroneous, fix the following errors and you get your code to work:</p>\n<p><strong>Compilation errors:</strong></p>\n<ul>\n<li>You cannot pass <code>int</code> to <code>String</code>. You call <code>.age(20)</code> but it is defined as <code>String age</code>.</li>\n<li>The very same for <code>id</code> as above.</li>\n<li>The <code>Person</code> class should be <code>abstract class</code>, not <code>class abstract</code>.</li>\n<li>The full-args constructor of <code>Person</code> is undefined, so <code>Employee</code> doesn't compile. Annotate <code>Person</code> with <code>@AllArgsConstructor</code>.</li>\n<li>Due to the inheritance and non-args constructor in the parent class, you must remove both <code>@AllArgsConstructor</code> and <code>@NoArgsConstructor</code> placed on <code>Employee</code>.</li>\n</ul>\n<p><strong>Warnings:</strong></p>\n<ul>\n<li><p>Lombok requires for <code>@With</code> annotation a base default constructor in the <code>Employee</code> class - you must define it manually: <code>public Employee(int id)</code>. Read the specification of the <code>@With</code> annotation at <a href=\"https://projectlombok.org/features/With\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/With</a>.</p>\n<blockquote>\n<p>The <code>@With</code> relies on a constructor for all fields in order to do its work. If this constructor does not exist, your <code>@With</code> annotation will result in a compile time error message.</p>\n</blockquote>\n</li>\n</ul>\n<p>The code starts to work after fixing all the above. Next time, please, prepare at least a compilable snippet.</p>\n<pre><code>@Test\nvoid testWith() {\n    var template = Employee.builder().name(&quot;John Smith&quot;).age(20).build();\n    var clone = template.withId(23);\n    assertThat(clone.getId(), is(23));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17434554,"reputation":1302,"user_id":12637839,"display_name":"Mykhailo Skliar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632332497,"creation_date":1632332497,"answer_id":69288952,"question_id":69284909,"body_markdown":"@With doesn&#39;t seem to work with inheritance.\r\nAs a workaround, you can try this code:\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    abstract class Person {\r\n    \tprotected String name;\r\n    \r\n    \tprotected Integer age;\r\n    }\r\n    \r\n    @Getter\r\n    @AllArgsConstructor\r\n    class Employee extends Person {\r\n    \tprotected String id;\r\n    \r\n    \t@Builder\r\n    \tpublic Employee(String name, Integer age, String id) {\r\n    \t\tsuper(name, age);\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic Employee withId(String id) {\r\n    \t\treturn this.id == id ? this : new Employee(name, age, id);\r\n    \t}\r\n    \r\n    }\r\n\r\nIt will work, but, unfortunately, you have to implement &quot;**withId**&quot; method yourself.","title":"Lombok @With sets inherited fields on the clone to null. How do I make it copy to work?","body":"<p>@With doesn't seem to work with inheritance.\nAs a workaround, you can try this code:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\nabstract class Person {\n    protected String name;\n\n    protected Integer age;\n}\n\n@Getter\n@AllArgsConstructor\nclass Employee extends Person {\n    protected String id;\n\n    @Builder\n    public Employee(String name, Integer age, String id) {\n        super(name, age);\n        this.id = id;\n    }\n\n    public Employee withId(String id) {\n        return this.id == id ? this : new Employee(name, age, id);\n    }\n\n}\n</code></pre>\n<p>It will work, but, unfortunately, you have to implement &quot;<strong>withId</strong>&quot; method yourself.</p>\n"},{"tags":[],"owner":{"account_id":6983472,"reputation":397,"user_id":5355396,"display_name":"Constant"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701857337,"creation_date":1701337249,"answer_id":77577361,"question_id":69284909,"body_markdown":"Lombok @With doesn&#39;t support inherited fields.\r\nHowever, I did find passable a workaround using the `@SuperBuilder(toBuilder = true)` annotation on both classes. This way, instead of calling the `someInstance.withSomeField(xyz)` method, \r\nyou call a `someInstance.toBuilder().someField(xyz).build()`. \r\nThis does preserve all of base class fields and creates a new instance. While being longer, it still looks pretty clear and self documenting code.\r\nconsider this example:\r\n\r\n    @Data\r\n\t@SuperBuilder(toBuilder = true)\r\n\tpublic static class Animal {\r\n\t\tString color;\r\n\t}\r\n\r\n\t@Data\r\n\t@SuperBuilder(toBuilder = true)\r\n\tpublic static class Cat extends Animal {\r\n\t\tString name;\r\n\t}\r\nnow you can call the toBuilder like this:\r\n\r\n    \tCat catKoko = Cat.builder().name(&quot;Koko&quot;).color(&quot;mixed&quot;).build(); //name=Koko , color=mixed\r\n\t\tCat catLolik = catKoko.toBuilder().name(&quot;Lolik&quot;).build(); //name=Lolik , color=mixed\r\n\t\t","title":"Lombok @With sets inherited fields on the clone to null. How do I make it copy to work?","body":"<p>Lombok @With doesn't support inherited fields.\nHowever, I did find passable a workaround using the <code>@SuperBuilder(toBuilder = true)</code> annotation on both classes. This way, instead of calling the <code>someInstance.withSomeField(xyz)</code> method,\nyou call a <code>someInstance.toBuilder().someField(xyz).build()</code>.\nThis does preserve all of base class fields and creates a new instance. While being longer, it still looks pretty clear and self documenting code.\nconsider this example:</p>\n<pre><code>@Data\n@SuperBuilder(toBuilder = true)\npublic static class Animal {\n    String color;\n}\n\n@Data\n@SuperBuilder(toBuilder = true)\npublic static class Cat extends Animal {\n    String name;\n}\n</code></pre>\n<p>now you can call the toBuilder like this:</p>\n<pre><code>    Cat catKoko = Cat.builder().name(&quot;Koko&quot;).color(&quot;mixed&quot;).build(); //name=Koko , color=mixed\n    Cat catLolik = catKoko.toBuilder().name(&quot;Lolik&quot;).build(); //name=Lolik , color=mixed\n    \n</code></pre>\n"}],"owner":{"account_id":174940,"reputation":6518,"user_id":404604,"accept_rate":47,"display_name":"Psycho Punch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1352,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1701857337,"creation_date":1632316194,"question_id":69284909,"body_markdown":"I&#39;m trying to set up cloning with Lombok using its `@With` annotation, but I ran into a problem where it sets inherited fields to null. To demonstrate, say I have the following class hierarchy:\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    abstract class Person {\r\n        protected String name;\r\n        protected Integer age;\r\n    }\r\n    \r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @With\r\n    @Getter\r\n    class Employee extends Person {\r\n        protected String id;\r\n        \r\n        @Builder\r\n        public Employee(String name, Integer age, String id) {\r\n            super(name, age);\r\n            this.id = id;\r\n        }\r\n    }\r\n\r\nWhen I try doing:\r\n\r\n    var template = Employee.builder().name(&quot;John Smith&quot;).age(20).build();\r\n    var clone = template.withId(&quot;ABC123&quot;);\r\n\r\nboth `clone.name` and `clone.age` return null. Is this construct allowed? How do I make it work?","title":"Lombok @With sets inherited fields on the clone to null. How do I make it copy to work?","body":"<p>I'm trying to set up cloning with Lombok using its <code>@With</code> annotation, but I ran into a problem where it sets inherited fields to null. To demonstrate, say I have the following class hierarchy:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\nabstract class Person {\n    protected String name;\n    protected Integer age;\n}\n\n@NoArgsConstructor\n@AllArgsConstructor\n@With\n@Getter\nclass Employee extends Person {\n    protected String id;\n    \n    @Builder\n    public Employee(String name, Integer age, String id) {\n        super(name, age);\n        this.id = id;\n    }\n}\n</code></pre>\n<p>When I try doing:</p>\n<pre><code>var template = Employee.builder().name(&quot;John Smith&quot;).age(20).build();\nvar clone = template.withId(&quot;ABC123&quot;);\n</code></pre>\n<p>both <code>clone.name</code> and <code>clone.age</code> return null. Is this construct allowed? How do I make it work?</p>\n"},{"tags":["java","spring-boot","rest","tomcat","tomcat9"],"owner":{"account_id":12304877,"reputation":21,"user_id":8978256,"display_name":"Affiq Zaini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701857319,"creation_date":1701857319,"question_id":77612138,"body_markdown":"I have a Spring Boot application running inside Tomcat 9. I encounter an issue when I try to make an outbound HTTP request from another service. It seems like something is wrong with my Tomcat server configuration but I could not pin point to the root cause.\r\n\r\n\r\n \r\n\r\n\r\nWhen I try to make a curl request directly from the server, I get the expected response. However, when I make the request through my application, I get a weird XML error and the request does not even get to the service. It is blocked from going out. \r\n\r\nI made a few changes on my server.xml configuration. I enabled the 8443 port to enable the Http11NioProtocol and restart the server. After then I was able to make the API request to the external service. I have no idea why that worked. But it does not behave consistently. It works for some time and then it fails and return the same XML error. I then have to restart my tomcat service to make it work again.\r\n\r\nHere is my server.xml config which is mostly default:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\r\n  &lt;Listener className=&quot;org.apache.catalina.startup.VersionLoggerListener&quot; /&gt;\r\n  &lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;on&quot; /&gt;\r\n  &lt;Listener className=&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot; /&gt;\r\n  &lt;Listener className=&quot;org.apache.catalina.mbeans.GlobalResourcesLifecycleListener&quot; /&gt;\r\n  &lt;Listener className=&quot;org.apache.catalina.core.ThreadLocalLeakPreventionListener&quot; /&gt;\r\n\r\n  &lt;GlobalNamingResources&gt;\r\n    &lt;Resource name=&quot;UserDatabase&quot; auth=&quot;Container&quot;\r\n              type=&quot;org.apache.catalina.UserDatabase&quot;\r\n              description=&quot;User database that can be updated and saved&quot;\r\n              factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;\r\n              pathname=&quot;conf/tomcat-users.xml&quot; /&gt;\r\n  &lt;/GlobalNamingResources&gt;\r\n\r\n\r\n  &lt;Service name=&quot;Catalina&quot;&gt;\r\n    &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\r\n               connectionTimeout=&quot;20000&quot;\r\n               redirectPort=&quot;8443&quot;\r\n               maxParameterCount=&quot;1000&quot;\r\n               /&gt;\r\n    \r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n               maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot;\r\n               maxParameterCount=&quot;1000&quot;\r\n               &gt;\r\n        &lt;!-- &lt;SSLHostConfig&gt;\r\n            &lt;Certificate certificateKeystoreFile=&quot;conf/localhost-rsa.jks&quot;\r\n                         type=&quot;RSA&quot; /&gt;\r\n        &lt;/SSLHostConfig&gt; --&gt;\r\n    &lt;/Connector&gt;\r\n\r\n    &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot;&gt;\r\n      &lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt;\r\n        &lt;Realm className=&quot;org.apache.catalina.realm.UserDatabaseRealm&quot;\r\n               resourceName=&quot;UserDatabase&quot;/&gt;\r\n      &lt;/Realm&gt;\r\n\r\n      &lt;Host name=&quot;localhost&quot;  appBase=&quot;webapps&quot;\r\n            unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\r\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\r\n               prefix=&quot;localhost_access_log&quot; suffix=&quot;.txt&quot;\r\n               pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\r\n\r\n      &lt;/Host&gt;\r\n    &lt;/Engine&gt;\r\n  &lt;/Service&gt;\r\n&lt;/Server&gt;\r\n\r\n```\r\n\r\nThis is the XML error I get:\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; ?&gt;\r\n&lt;env:Envelope xmlns:env=&#39;http://schemas.xmlsoap.org/soap/envelope/&#39;&gt;\r\n       &lt;env:Body&gt;\r\n        &lt;env:Fault&gt;\r\n         &lt;faultcode&gt;env:Client&lt;/faultcode&gt;\r\n         &lt;faultstring&gt;Internal Error&lt;/faultstring&gt;\r\n        &lt;/env:Fault&gt;\r\n      &lt;/env:Body&gt;\r\n&lt;/env:Envelope&gt;\r\n```","title":"Tomcat is returning XML Error when application makes an outbound Rest API request","body":"<p>I have a Spring Boot application running inside Tomcat 9. I encounter an issue when I try to make an outbound HTTP request from another service. It seems like something is wrong with my Tomcat server configuration but I could not pin point to the root cause.</p>\n<p>When I try to make a curl request directly from the server, I get the expected response. However, when I make the request through my application, I get a weird XML error and the request does not even get to the service. It is blocked from going out.</p>\n<p>I made a few changes on my server.xml configuration. I enabled the 8443 port to enable the Http11NioProtocol and restart the server. After then I was able to make the API request to the external service. I have no idea why that worked. But it does not behave consistently. It works for some time and then it fails and return the same XML error. I then have to restart my tomcat service to make it work again.</p>\n<p>Here is my server.xml config which is mostly default:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\n  &lt;Listener className=&quot;org.apache.catalina.startup.VersionLoggerListener&quot; /&gt;\n  &lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;on&quot; /&gt;\n  &lt;Listener className=&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot; /&gt;\n  &lt;Listener className=&quot;org.apache.catalina.mbeans.GlobalResourcesLifecycleListener&quot; /&gt;\n  &lt;Listener className=&quot;org.apache.catalina.core.ThreadLocalLeakPreventionListener&quot; /&gt;\n\n  &lt;GlobalNamingResources&gt;\n    &lt;Resource name=&quot;UserDatabase&quot; auth=&quot;Container&quot;\n              type=&quot;org.apache.catalina.UserDatabase&quot;\n              description=&quot;User database that can be updated and saved&quot;\n              factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;\n              pathname=&quot;conf/tomcat-users.xml&quot; /&gt;\n  &lt;/GlobalNamingResources&gt;\n\n\n  &lt;Service name=&quot;Catalina&quot;&gt;\n    &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\n               connectionTimeout=&quot;20000&quot;\n               redirectPort=&quot;8443&quot;\n               maxParameterCount=&quot;1000&quot;\n               /&gt;\n    \n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n               maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot;\n               maxParameterCount=&quot;1000&quot;\n               &gt;\n        &lt;!-- &lt;SSLHostConfig&gt;\n            &lt;Certificate certificateKeystoreFile=&quot;conf/localhost-rsa.jks&quot;\n                         type=&quot;RSA&quot; /&gt;\n        &lt;/SSLHostConfig&gt; --&gt;\n    &lt;/Connector&gt;\n\n    &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot;&gt;\n      &lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt;\n        &lt;Realm className=&quot;org.apache.catalina.realm.UserDatabaseRealm&quot;\n               resourceName=&quot;UserDatabase&quot;/&gt;\n      &lt;/Realm&gt;\n\n      &lt;Host name=&quot;localhost&quot;  appBase=&quot;webapps&quot;\n            unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\n        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;\n               prefix=&quot;localhost_access_log&quot; suffix=&quot;.txt&quot;\n               pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;\n\n      &lt;/Host&gt;\n    &lt;/Engine&gt;\n  &lt;/Service&gt;\n&lt;/Server&gt;\n\n</code></pre>\n<p>This is the XML error I get:</p>\n<pre><code>&lt;?xml version='1.0' ?&gt;\n&lt;env:Envelope xmlns:env='http://schemas.xmlsoap.org/soap/envelope/'&gt;\n       &lt;env:Body&gt;\n        &lt;env:Fault&gt;\n         &lt;faultcode&gt;env:Client&lt;/faultcode&gt;\n         &lt;faultstring&gt;Internal Error&lt;/faultstring&gt;\n        &lt;/env:Fault&gt;\n      &lt;/env:Body&gt;\n&lt;/env:Envelope&gt;\n</code></pre>\n"},{"tags":["java","aem","assets"],"owner":{"account_id":4578088,"reputation":230,"user_id":3716009,"accept_rate":57,"display_name":"Amit Chauhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701857308,"creation_date":1701856931,"question_id":77612092,"body_markdown":"Why is the asset.listRenditions() function in AEM only returning Static renditions and not Dynamic renditions, even though I can confirm the presence of Dynamic renditions for the asset in the AEM Asset manager?\r\n\r\nJava Code Snap:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAsset Renditions: We are only getting Static Renditions and original rendition but not Dynamic.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GuxpR.png\r\n  [2]: https://i.stack.imgur.com/So4BM.png","title":"Get all dynamic media scene7 URL from Asset object in AEM","body":"<p>Why is the asset.listRenditions() function in AEM only returning Static renditions and not Dynamic renditions, even though I can confirm the presence of Dynamic renditions for the asset in the AEM Asset manager?</p>\n<p>Java Code Snap:\n<a href=\"https://i.stack.imgur.com/GuxpR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GuxpR.png\" alt=\"enter image description here\" /></a></p>\n<p>Asset Renditions: We are only getting Static Renditions and original rendition but not Dynamic.</p>\n<p><a href=\"https://i.stack.imgur.com/So4BM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/So4BM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"display_name":"user2615534"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426700488,"creation_date":1376055250,"answer_id":18147898,"question_id":18147585,"body_markdown":"Well, here&#39;s a link with some detailed info about your error, and how to fix it: http://javarevisited.blogspot.com/2011/09/javalangoutofmemoryerror-permgen-space.html?m=1.\r\n\r\nWell, let me try to explain your error:\r\n\r\nThe `java.lang.OutOfMemoryError` has two variants. One in the Java Heap Space, and the other in PermGen Space. \r\n\r\nYour error could be caused by a memory leak, a low amount of system RAM, or very little RAM allocated to the Java Virtual Machine. \r\n\r\nThe difference between the Java Heap Space and PermGen Space variants is that PermGen Space stores pools of Strings and data on the primitive types, such as int,  as well as how to read methods and classes, the Java Heap Space works differently. So if you have a lot of strings or classes in your project, and not enough allocated/system RAM, you will get an OutOfMemoryError. The default amount of RAM the JVM allocates to PermGen is 64 MB, which is quite a small bit of memory space. The linked article explains much more about this error and provides detailed information about how to fix this.\r\n\r\nHope this helps!","title":"Excel sheet POI validation: Out Of Memory Error","body":"<p>Well, here's a link with some detailed info about your error, and how to fix it: <a href=\"http://javarevisited.blogspot.com/2011/09/javalangoutofmemoryerror-permgen-space.html?m=1\" rel=\"nofollow\">http://javarevisited.blogspot.com/2011/09/javalangoutofmemoryerror-permgen-space.html?m=1</a>.</p>\n\n<p>Well, let me try to explain your error:</p>\n\n<p>The <code>java.lang.OutOfMemoryError</code> has two variants. One in the Java Heap Space, and the other in PermGen Space. </p>\n\n<p>Your error could be caused by a memory leak, a low amount of system RAM, or very little RAM allocated to the Java Virtual Machine. </p>\n\n<p>The difference between the Java Heap Space and PermGen Space variants is that PermGen Space stores pools of Strings and data on the primitive types, such as int,  as well as how to read methods and classes, the Java Heap Space works differently. So if you have a lot of strings or classes in your project, and not enough allocated/system RAM, you will get an OutOfMemoryError. The default amount of RAM the JVM allocates to PermGen is 64 MB, which is quite a small bit of memory space. The linked article explains much more about this error and provides detailed information about how to fix this.</p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376056697,"creation_date":1376056697,"answer_id":18148430,"question_id":18147585,"body_markdown":"Use [`Event API (HSSF Only)`](http://poi.apache.org/spreadsheet/how-to.html#event_api).\r\n\r\nThe event API is newer than the User API. It is intended for intermediate developers who are willing to learn a little bit of the low level API structures. Its relatively simple to use, but requires a basic understanding of the parts of an Excel file (or willingness to learn). The advantage provided is that you can **read an XLS with** a relatively **small memory footprint**.","title":"Excel sheet POI validation: Out Of Memory Error","body":"<p>Use <a href=\"http://poi.apache.org/spreadsheet/how-to.html#event_api\" rel=\"nofollow\"><code>Event API (HSSF Only)</code></a>.</p>\n\n<p>The event API is newer than the User API. It is intended for intermediate developers who are willing to learn a little bit of the low level API structures. Its relatively simple to use, but requires a basic understanding of the parts of an Excel file (or willingness to learn). The advantage provided is that you can <strong>read an XLS with</strong> a relatively <strong>small memory footprint</strong>.</p>\n"},{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1376060649,"creation_date":1376060649,"answer_id":18149844,"question_id":18147585,"body_markdown":"There are two options available to you. Option #1 - increase the size of your JVM Heap, so that Java has more memory available to it. Processing Excel files in POI using the UserModel code is DOM based, so the whole file (including parsed form) needs to be buffered into memory. Try a [question like this one](https://stackoverflow.com/questions/1565388/increase-heap-size-in-java) for advice on how to increase the help.\r\n\r\nOption #2, which is more work - switch to event based (SAX) processing. This only processes part of the file at a time, so needs much much less memory. However, it requires more work from you, which is why you might be better throwing a few more GB of memory at the problem - memory is cheap while programmers aren&#39;t! The [SpreadSheet howto page](http://poi.apache.org/spreadsheet/how-to.html#xssf_sax_api) has instructions on how to do SAX parsing of .xlsx files, and there are [various example files provided by POI](https://svn.apache.org/repos/asf/poi/trunk/src/examples/src/org/apache/poi/xssf/eventusermodel) you can look at for advice.\r\n\r\n.\r\n\r\nAlso, another thing - you seem to be loading a File via a stream, which is bad as it means even more stuff needs buffering into memory. See the [POI Documentation for more on this](http://poi.apache.org/spreadsheet/quick-guide.html#FileInputStream), including instructions on how to work with the File directly.","title":"Excel sheet POI validation: Out Of Memory Error","body":"<p>There are two options available to you. Option #1 - increase the size of your JVM Heap, so that Java has more memory available to it. Processing Excel files in POI using the UserModel code is DOM based, so the whole file (including parsed form) needs to be buffered into memory. Try a <a href=\"https://stackoverflow.com/questions/1565388/increase-heap-size-in-java\">question like this one</a> for advice on how to increase the help.</p>\n\n<p>Option #2, which is more work - switch to event based (SAX) processing. This only processes part of the file at a time, so needs much much less memory. However, it requires more work from you, which is why you might be better throwing a few more GB of memory at the problem - memory is cheap while programmers aren't! The <a href=\"http://poi.apache.org/spreadsheet/how-to.html#xssf_sax_api\" rel=\"noreferrer\">SpreadSheet howto page</a> has instructions on how to do SAX parsing of .xlsx files, and there are <a href=\"https://svn.apache.org/repos/asf/poi/trunk/src/examples/src/org/apache/poi/xssf/eventusermodel\" rel=\"noreferrer\">various example files provided by POI</a> you can look at for advice.</p>\n\n<p>.</p>\n\n<p>Also, another thing - you seem to be loading a File via a stream, which is bad as it means even more stuff needs buffering into memory. See the <a href=\"http://poi.apache.org/spreadsheet/quick-guide.html#FileInputStream\" rel=\"noreferrer\">POI Documentation for more on this</a>, including instructions on how to work with the File directly.</p>\n"},{"tags":[],"owner":{"account_id":3463113,"reputation":7,"user_id":2899539,"display_name":"Meer Nasirudeen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1382253974,"creation_date":1382253974,"answer_id":19474938,"question_id":18147585,"body_markdown":"I too faced the same issue of OOM while parsing xlsx file...after two days of struggle, I finally found out the below code that was really perfect;\r\n\r\nThis code is based on sjxlsx. It reads the xlsx and stores in a HSSF sheet.\r\n\r\n\r\n\r\n               [code=java] \r\n                // read the xlsx file\r\n           SimpleXLSXWorkbook = new SimpleXLSXWorkbook(new File(&quot;C:/test.xlsx&quot;));\r\n\r\n        \tHSSFWorkbook hsfWorkbook = new HSSFWorkbook();\r\n\r\n        \torg.apache.poi.ss.usermodel.Sheet hsfSheet = hsfWorkbook.createSheet();\r\n\r\n        \tSheet sheetToRead = workbook.getSheet(0, false);\r\n\r\n        \tSheetRowReader reader = sheetToRead.newReader();\r\n        \tCell[] row;\r\n        \tint rowPos = 0;\r\n        \twhile ((row = reader.readRow()) != null) {\r\n        \t\torg.apache.poi.ss.usermodel.Row hfsRow = hsfSheet.createRow(rowPos);\r\n        \t\tint cellPos = 0;\r\n                for (Cell cell : row) {\r\n                \tif(cell != null){\r\n                \t\torg.apache.poi.ss.usermodel.Cell hfsCell = hfsRow.createCell(cellPos);\r\n                \t\thfsCell.setCellType(org.apache.poi.ss.usermodel.Cell.CELL_TYPE_STRING);\r\n                \t\thfsCell.setCellValue(cell.getValue());\r\n                \t}\r\n                \tcellPos++;\r\n                }\r\n        \t\trowPos++;\r\n        \t}\r\n        \treturn hsfSheet;[/code]","title":"Excel sheet POI validation: Out Of Memory Error","body":"<p>I too faced the same issue of OOM while parsing xlsx file...after two days of struggle, I finally found out the below code that was really perfect;</p>\n\n<p>This code is based on sjxlsx. It reads the xlsx and stores in a HSSF sheet.</p>\n\n<pre><code>           [code=java] \n            // read the xlsx file\n       SimpleXLSXWorkbook = new SimpleXLSXWorkbook(new File(\"C:/test.xlsx\"));\n\n        HSSFWorkbook hsfWorkbook = new HSSFWorkbook();\n\n        org.apache.poi.ss.usermodel.Sheet hsfSheet = hsfWorkbook.createSheet();\n\n        Sheet sheetToRead = workbook.getSheet(0, false);\n\n        SheetRowReader reader = sheetToRead.newReader();\n        Cell[] row;\n        int rowPos = 0;\n        while ((row = reader.readRow()) != null) {\n            org.apache.poi.ss.usermodel.Row hfsRow = hsfSheet.createRow(rowPos);\n            int cellPos = 0;\n            for (Cell cell : row) {\n                if(cell != null){\n                    org.apache.poi.ss.usermodel.Cell hfsCell = hfsRow.createCell(cellPos);\n                    hfsCell.setCellType(org.apache.poi.ss.usermodel.Cell.CELL_TYPE_STRING);\n                    hfsCell.setCellValue(cell.getValue());\n                }\n                cellPos++;\n            }\n            rowPos++;\n        }\n        return hsfSheet;[/code]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6187275,"reputation":952,"user_id":4821027,"display_name":"Gautam Tadigoppula"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552168584,"creation_date":1552168584,"answer_id":55082362,"question_id":18147585,"body_markdown":"You can use SXSSF workbook from POI for memory related issues. Refer [here][1]\r\n\r\nI faced the similar issue while reading and merging multiple CSVs into a single XLSX file.\r\nI had a total of 3 csv sheets each with 30k rows totalling to 90k.\r\n\r\nIt got resolved by using SXSFF as below,\r\n\r\n        public static void mergeCSVsToXLSX(Long jobExecutionId, Map&lt;String, String&gt; csvSheetNameAndFile, String xlsxFile) {\r\n        try (SXSSFWorkbook wb = new SXSSFWorkbook(100);) { // keep 100 rows in memory, exceeding rows will be flushed to\r\n                                                           // disk\r\n          csvSheetNameAndFile.forEach((sheetName, csv) -&gt; {\r\n            try (CSVReader reader = new CSVReader(new FileReader(csv))) {\r\n              wb.setCompressTempFiles(true);\r\n              SXSSFSheet sheet = wb.createSheet(sheetName);\r\n              sheet.setRandomAccessWindowSize(100);\r\n    \r\n              String[] nextLine;\r\n              int r = 0;\r\n              while ((nextLine = reader.readNext()) != null) {\r\n                Row row = sheet.createRow((short) r++);\r\n                for (int i = 0; i &lt; nextLine.length; i++) {\r\n                  Cell cell = row.createCell(i);\r\n                  cell.setCellValue(nextLine[i]);\r\n                }\r\n              }\r\n            } catch (IOException ioException) {\r\n              logger.error(&quot;Error in reading CSV file {} for jobId {} with exception {}&quot;, csv, jobExecutionId,\r\n                  ioException.getMessage());\r\n            }\r\n          });\r\n    \r\n          FileOutputStream out = new FileOutputStream(xlsxFile);\r\n          wb.write(out);\r\n          wb.dispose();\r\n        } catch (IOException ioException) {\r\n          logger.error(&quot;Error in creating workbook for jobId {} with exception {}&quot;, jobExecutionId,\r\n              ioException.getMessage());\r\n        }\r\n      }\r\n\r\n\r\n  [1]: http://poi.apache.org/components/spreadsheet/how-to.html#sxssf","title":"Excel sheet POI validation: Out Of Memory Error","body":"<p>You can use SXSSF workbook from POI for memory related issues. Refer <a href=\"http://poi.apache.org/components/spreadsheet/how-to.html#sxssf\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>I faced the similar issue while reading and merging multiple CSVs into a single XLSX file.\nI had a total of 3 csv sheets each with 30k rows totalling to 90k.</p>\n\n<p>It got resolved by using SXSFF as below,</p>\n\n<pre><code>    public static void mergeCSVsToXLSX(Long jobExecutionId, Map&lt;String, String&gt; csvSheetNameAndFile, String xlsxFile) {\n    try (SXSSFWorkbook wb = new SXSSFWorkbook(100);) { // keep 100 rows in memory, exceeding rows will be flushed to\n                                                       // disk\n      csvSheetNameAndFile.forEach((sheetName, csv) -&gt; {\n        try (CSVReader reader = new CSVReader(new FileReader(csv))) {\n          wb.setCompressTempFiles(true);\n          SXSSFSheet sheet = wb.createSheet(sheetName);\n          sheet.setRandomAccessWindowSize(100);\n\n          String[] nextLine;\n          int r = 0;\n          while ((nextLine = reader.readNext()) != null) {\n            Row row = sheet.createRow((short) r++);\n            for (int i = 0; i &lt; nextLine.length; i++) {\n              Cell cell = row.createCell(i);\n              cell.setCellValue(nextLine[i]);\n            }\n          }\n        } catch (IOException ioException) {\n          logger.error(\"Error in reading CSV file {} for jobId {} with exception {}\", csv, jobExecutionId,\n              ioException.getMessage());\n        }\n      });\n\n      FileOutputStream out = new FileOutputStream(xlsxFile);\n      wb.write(out);\n      wb.dispose();\n    } catch (IOException ioException) {\n      logger.error(\"Error in creating workbook for jobId {} with exception {}\", jobExecutionId,\n          ioException.getMessage());\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22993056,"reputation":1,"user_id":17118249,"display_name":"SATHISHKUMAR MURUGAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633870505,"creation_date":1633847540,"answer_id":69512879,"question_id":18147585,"body_markdown":"To resolve `Outofmemery` error, follow this.\r\n\r\nYou can not modify existing cells in a `SXSSFWorkbook`, but you can create the new file along with your modification using `SXSSFWorkbook`.\r\n\r\nIt&#39;s possible by passing the workbook object along with `rowaccesswindow` size.\r\n\r\n    SXSSFWorkbook workbook = new SXSSFWorkbook(  new XSSFWorkbook(new FileInputStream(file)),100);\r\n    //Your changes in workbook\r\n    workbook.write(out);","title":"Excel sheet POI validation: Out Of Memory Error","body":"<p>To resolve <code>Outofmemery</code> error, follow this.</p>\n<p>You can not modify existing cells in a <code>SXSSFWorkbook</code>, but you can create the new file along with your modification using <code>SXSSFWorkbook</code>.</p>\n<p>It's possible by passing the workbook object along with <code>rowaccesswindow</code> size.</p>\n<pre><code>SXSSFWorkbook workbook = new SXSSFWorkbook(  new XSSFWorkbook(new FileInputStream(file)),100);\n//Your changes in workbook\nworkbook.write(out);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22993056,"reputation":1,"user_id":17118249,"display_name":"SATHISHKUMAR MURUGAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633848657,"creation_date":1633848215,"answer_id":69512942,"question_id":18147585,"body_markdown":"To resolve Outofmemery error follow this.\r\n\r\nYou can not modify existing cells in a SXSSFWorkbook but you can create the new file along with your modification using SXSSFWorkbook.\r\n\r\nIt&#39;s possible by passing the workbook object along with rowaccesswindow size.\r\n\r\n    SXSSFWorkbook workbook = new SXSSFWorkbook(  new XSSFWorkbook(new FileInputStream(file)),100);\r\n    \r\n    //Your changes in workbook\r\n    \r\n    workbook.write(out);","title":"Excel sheet POI validation: Out Of Memory Error","body":"<p>To resolve Outofmemery error follow this.</p>\n<p>You can not modify existing cells in a SXSSFWorkbook but you can create the new file along with your modification using SXSSFWorkbook.</p>\n<p>It's possible by passing the workbook object along with rowaccesswindow size.</p>\n<pre><code>SXSSFWorkbook workbook = new SXSSFWorkbook(  new XSSFWorkbook(new FileInputStream(file)),100);\n\n//Your changes in workbook\n\nworkbook.write(out);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8587609,"reputation":1094,"user_id":6433161,"display_name":"Sandeep Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701857144,"creation_date":1701857144,"answer_id":77612116,"question_id":18147585,"body_markdown":"For resolving error of out of memory : heap space\r\n\r\nNeed to increase Heap space\r\n\r\nOn a 32-bit JVM, the largest heap size you can theoretically set is 4gb. To use a larger heap size, you need to use a 64-bit JVM. Try the following Run as application \r\n\r\njava -Xmx512 -d32 abcd.jar\r\nor\r\njava -Xmx6144m -d64 abcd.jar\r\n\r\nThe -d64 flag is important as this tells the JVM to run in 64-bit mode.","title":"Excel sheet POI validation: Out Of Memory Error","body":"<p>For resolving error of out of memory : heap space</p>\n<p>Need to increase Heap space</p>\n<p>On a 32-bit JVM, the largest heap size you can theoretically set is 4gb. To use a larger heap size, you need to use a 64-bit JVM. Try the following Run as application</p>\n<p>java -Xmx512 -d32 abcd.jar\nor\njava -Xmx6144m -d64 abcd.jar</p>\n<p>The -d64 flag is important as this tells the JVM to run in 64-bit mode.</p>\n"}],"owner":{"account_id":898648,"reputation":10303,"user_id":935374,"accept_rate":50,"display_name":"Abhishek Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38185,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":18149844,"answer_count":8,"score":12,"last_activity_date":1701857144,"creation_date":1376054341,"question_id":18147585,"body_markdown":"I am trying to validate an Excel file using Java before dumping it to database.\r\n\r\nHere is my code snippet which causes error.\r\n\r\n    try {\r\n\t\tfis = new FileInputStream(file);\r\n\t\twb = new XSSFWorkbook(fis);\r\n\t\tXSSFSheet sh = wb.getSheet(&quot;Sheet1&quot;);\r\n\t\tfor(int i = 0 ; i &lt; 44 ; i++){\r\n\t    \tXSSFCell a1 = sh.getRow(1).getCell(i);\r\n\t    \tprintXSSFCellType(a1);\r\n\t    }\r\n\t\t\r\n\t} catch (FileNotFoundException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\tcatch (IOException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nHere is the error I get\r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n    \tat java.util.ArrayList.&lt;init&gt;(Unknown Source)\r\n    \tat java.util.ArrayList.&lt;init&gt;(Unknown Source)\r\n    \tat org.apache.xmlbeans.impl.values.NamespaceContext$NamespaceContextStack.&lt;init&gt;(NamespaceContext.java:78)\r\n    \tat org.apache.xmlbeans.impl.values.NamespaceContext$NamespaceContextStack.&lt;init&gt;(NamespaceContext.java:75)\r\n    \tat org.apache.xmlbeans.impl.values.NamespaceContext.getNamespaceContextStack(NamespaceContext.java:98)\r\n    \tat org.apache.xmlbeans.impl.values.NamespaceContext.push(NamespaceContext.java:106)\r\n    \tat org.apache.xmlbeans.impl.values.XmlObjectBase.check_dated(XmlObjectBase.java:1273)\r\n    \tat org.apache.xmlbeans.impl.values.XmlObjectBase.stringValue(XmlObjectBase.java:1484)\r\n    \tat org.apache.xmlbeans.impl.values.XmlObjectBase.getStringValue(XmlObjectBase.java:1492)\r\n    \tat org.openxmlformats.schemas.spreadsheetml.x2006.main.impl.CTCellImpl.getR(Unknown Source)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFCell.&lt;init&gt;(XSSFCell.java:105)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFRow.&lt;init&gt;(XSSFRow.java:70)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFSheet.initRows(XSSFSheet.java:179)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFSheet.read(XSSFSheet.java:143)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFSheet.onDocumentRead(XSSFSheet.java:130)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFWorkbook.onDocumentRead(XSSFWorkbook.java:286)\r\n    \tat org.apache.poi.POIXMLDocument.load(POIXMLDocument.java:159)\r\n    \tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:207)\r\n    \tat com.xls.validate.ExcelValidator.main(ExcelValidator.java:79)\r\n\r\nThis works perfectly fine when the .xlsx file is less than 1 MB.\r\n\r\nI understand this is because my .xlsx file is around 5-10 MB and POI tries to load the entire sheet at once in JVM memory.\r\n\r\nWhat can be a possible workaround?\r\n","title":"Excel sheet POI validation: Out Of Memory Error","body":"<p>I am trying to validate an Excel file using Java before dumping it to database.</p>\n<p>Here is my code snippet which causes error.</p>\n<pre><code>try {\n    fis = new FileInputStream(file);\n    wb = new XSSFWorkbook(fis);\n    XSSFSheet sh = wb.getSheet(&quot;Sheet1&quot;);\n    for(int i = 0 ; i &lt; 44 ; i++){\n        XSSFCell a1 = sh.getRow(1).getCell(i);\n        printXSSFCellType(a1);\n    }\n    \n} catch (FileNotFoundException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\ncatch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n<p>Here is the error I get</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\n    at java.util.ArrayList.&lt;init&gt;(Unknown Source)\n    at java.util.ArrayList.&lt;init&gt;(Unknown Source)\n    at org.apache.xmlbeans.impl.values.NamespaceContext$NamespaceContextStack.&lt;init&gt;(NamespaceContext.java:78)\n    at org.apache.xmlbeans.impl.values.NamespaceContext$NamespaceContextStack.&lt;init&gt;(NamespaceContext.java:75)\n    at org.apache.xmlbeans.impl.values.NamespaceContext.getNamespaceContextStack(NamespaceContext.java:98)\n    at org.apache.xmlbeans.impl.values.NamespaceContext.push(NamespaceContext.java:106)\n    at org.apache.xmlbeans.impl.values.XmlObjectBase.check_dated(XmlObjectBase.java:1273)\n    at org.apache.xmlbeans.impl.values.XmlObjectBase.stringValue(XmlObjectBase.java:1484)\n    at org.apache.xmlbeans.impl.values.XmlObjectBase.getStringValue(XmlObjectBase.java:1492)\n    at org.openxmlformats.schemas.spreadsheetml.x2006.main.impl.CTCellImpl.getR(Unknown Source)\n    at org.apache.poi.xssf.usermodel.XSSFCell.&lt;init&gt;(XSSFCell.java:105)\n    at org.apache.poi.xssf.usermodel.XSSFRow.&lt;init&gt;(XSSFRow.java:70)\n    at org.apache.poi.xssf.usermodel.XSSFSheet.initRows(XSSFSheet.java:179)\n    at org.apache.poi.xssf.usermodel.XSSFSheet.read(XSSFSheet.java:143)\n    at org.apache.poi.xssf.usermodel.XSSFSheet.onDocumentRead(XSSFSheet.java:130)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.onDocumentRead(XSSFWorkbook.java:286)\n    at org.apache.poi.POIXMLDocument.load(POIXMLDocument.java:159)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:207)\n    at com.xls.validate.ExcelValidator.main(ExcelValidator.java:79)\n</code></pre>\n<p>This works perfectly fine when the .xlsx file is less than 1 MB.</p>\n<p>I understand this is because my .xlsx file is around 5-10 MB and POI tries to load the entire sheet at once in JVM memory.</p>\n<p>What can be a possible workaround?</p>\n"},{"tags":["java","button","conways-game-of-life"],"comments":[{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1701854361,"post_id":77611767,"comment_id":136825414,"body_markdown":"Why do you even use that `BufferedImage`? Swing already has built-in buffered rendering. There is no need to do your own buffering. And you should not override the `paint` method of a `JFrame`. Create a subclass of `JComponent` and override its `paintComponent` method, then add an instance of it to the `JFrame` instead of subclassing `JFrame`.","body":"Why do you even use that <code>BufferedImage</code>? Swing already has built-in buffered rendering. There is no need to do your own buffering. And you should not override the <code>paint</code> method of a <code>JFrame</code>. Create a subclass of <code>JComponent</code> and override its <code>paintComponent</code> method, then add an instance of it to the <code>JFrame</code> instead of subclassing <code>JFrame</code>."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1701855316,"post_id":77611767,"comment_id":136825603,"body_markdown":"`buttonPanel.setLayout(null);` is a bad idea. You also violating the painting contract - painting is complicated and you&#39;ve failed to call the `super.paint` method, which is, among other things, responsible for painting the child components. `buttonPanel.setLayout(null);` also suggest that you don&#39;t really understand how painting works or while overriding `paint` of a top level container like `JFrame` is generally a bad idea.  As has already been started, start with `JPanel` (or `JComponent`) and override it&#39;s `paintComponent` method.","body":"<code>buttonPanel.setLayout(null);</code> is a bad idea. You also violating the painting contract - painting is complicated and you&#39;ve failed to call the <code>super.paint</code> method, which is, among other things, responsible for painting the child components. <code>buttonPanel.setLayout(null);</code> also suggest that you don&#39;t really understand how painting works or while overriding <code>paint</code> of a top level container like <code>JFrame</code> is generally a bad idea.  As has already been started, start with <code>JPanel</code> (or <code>JComponent</code>) and override it&#39;s <code>paintComponent</code> method."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1701855348,"post_id":77611767,"comment_id":136825615,"body_markdown":"You would then be able to add this &quot;game panel&quot; to you window and seperate the controls on other components so they don&#39;t overlap","body":"You would then be able to add this &quot;game panel&quot; to you window and seperate the controls on other components so they don&#39;t overlap"}],"owner":{"account_id":30062025,"reputation":1,"user_id":23037933,"display_name":"Aadi Choudhary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701857124,"creation_date":1701853882,"question_id":77611767,"body_markdown":"My buttons keep disappearing every time my code creates a new screen. I believe it might be due to the buffered image that I am creating, but I am not sure. \r\n\r\n\r\nSo far, I have tried removing that section of the code from the buffered section and trying to add the buttons to make buffered image. The first solution didn&#39;t work, likely due to my background also being part of the buffered image. This led to my grey panels also disappearing. As for the second solutions, the buttons I added stopped being interactable, and were instead made with text. I have attached my code below. Please suggest ways to fix my problem, along with any redundancies and inefficiencies in my code.\r\n\r\n\r\n**Main class:**\r\n\r\n```\r\npackage life;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            GUIGameOfLife gui = new GUIGameOfLife(25, System.currentTimeMillis());\r\n            gui.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n**GameOfLifeClass:**\r\n\r\n```\r\npackage life;\r\n\r\nimport java.util.Random;\r\nimport java.io.Serializable;\r\n\r\npublic class GameOfLife implements Serializable{\r\n    public static final char ALIVE_CELL = &#39;O&#39;;\r\n    public static final char DEAD_CELL = &#39; &#39;;\r\n\r\n    public char[][] currentGeneration;\r\n    public char[][] nextGeneration;\r\n    public int size;\r\n    public int aliveCells;\r\n    public Random random;\r\n\r\n    public GameOfLife(int size, long seed) {\r\n        this.size = size;\r\n        currentGeneration = new char[size][size];\r\n        nextGeneration = new char[size][size];\r\n        random = new Random(seed);\r\n        aliveCells = 0; // Initialize aliveCells\r\n\r\n        initializeRandomGeneration();\r\n    }\r\n\r\n    public void initializeRandomGeneration() {\r\n        aliveCells = 0; // Reset aliveCells before each simulation\r\n        for (int i = 0; i &lt; size; i++) {\r\n            for (int j = 0; j &lt; size; j++) {\r\n                currentGeneration[i][j] = (random.nextBoolean()) ? ALIVE_CELL : DEAD_CELL;\r\n                if (currentGeneration[i][j] == ALIVE_CELL) {\r\n                    aliveCells++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void simulateGenerations(int numGenerations) {\r\n        for (int generation = 0; generation &lt;= numGenerations; generation++) {\r\n            System.out.println(&quot;Generation: &quot; + generation);\r\n            System.out.println(&quot;Alive: &quot; + aliveCells);\r\n            printCurrentGeneration();\r\n            simulateGeneration2(numGenerations);\r\n\r\n            // Sleep for a specified duration (e.g., 50 milliseconds)\r\n            sleep(50);\r\n        }\r\n    }\r\n\r\n    public char[][] getCurrentGeneration() {\r\n        return currentGeneration;\r\n    }\r\n\r\n    public int getSize() {\r\n        return size;\r\n    }\r\n\r\n    public int getAliveCells() {\r\n        return aliveCells;\r\n    }\r\n\r\n    public void sleep(int milliseconds) {\r\n        try {\r\n            Thread.sleep(milliseconds);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void printCurrentGeneration() {\r\n        for (int i = 0; i &lt; size; i++) {\r\n            for (int j = 0; j &lt; size; j++) {\r\n                System.out.print(currentGeneration[i][j]);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public void simulateGeneration2(int generation) {\r\n        aliveCells = 0; // Reset aliveCells before each simulation\r\n        for (int i = 0; i &lt; size; i++) {\r\n            for (int j = 0; j &lt; size; j++) {\r\n                int liveNeighbors = countLiveNeighbors(i, j);\r\n\r\n                if (currentGeneration[i][j] == ALIVE_CELL) {\r\n                    if (liveNeighbors == 2 || liveNeighbors == 3) {\r\n                        nextGeneration[i][j] = ALIVE_CELL; // Cell survives\r\n                        aliveCells++;\r\n                    } else {\r\n                        nextGeneration[i][j] = DEAD_CELL; // Cell dies\r\n                    }\r\n                } else {\r\n                    if (liveNeighbors == 3) {\r\n                        nextGeneration[i][j] = ALIVE_CELL; // Cell is reborn\r\n                        aliveCells++;\r\n                    } else {\r\n                        nextGeneration[i][j] = DEAD_CELL; // Cell remains dead\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Swap current and next generations\r\n        char[][] temp = currentGeneration;\r\n        currentGeneration = nextGeneration;\r\n        nextGeneration = temp;\r\n    }\r\n\r\n    public int countLiveNeighbors(int x, int y) {\r\n        int liveNeighbors = 0;\r\n        int[] dx = {-1, -1, -1, 0, 0, 1, 1, 1};\r\n        int[] dy = {-1, 0, 1, -1, 1, -1, 0, 1};\r\n\r\n        for (int i = 0; i &lt; 8; i++) {\r\n            int nx = (x + dx[i] + size) % size; // Using the size modulo should work.\r\n            int ny = (y + dy[i] + size) % size;\r\n\r\n            if (currentGeneration[nx][ny] == ALIVE_CELL) {\r\n                liveNeighbors++;\r\n            }\r\n        }\r\n\r\n        return liveNeighbors;\r\n    }\r\n}\r\n```\r\n\r\n**GUIGameOfLife:**\r\n\r\n```\r\npackage life;\r\n\r\n// Importing the necessary libraries for the code to work.\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.io.*;\r\nimport javax.swing.*;\r\nimport javax.swing.event.ChangeEvent;\r\nimport javax.swing.event.ChangeListener;\r\nimport java.awt.image.BufferedImage;\r\n\r\npublic class GUIGameOfLife extends JFrame {\r\n    private static final int FIXED_GRID_SIZE = 750;\r\n    private GameOfLife game;\r\n    private Timer timer;\r\n    private int generation;\r\n    private JToggleButton pauseResumeButton;\r\n    private JButton restartButton;\r\n    private static final int textSize = 30;\r\n    private BufferedImage offScreenImage;\r\n    private JSlider speedSlider;\r\n    private JTextField sizeTextField;\r\n\r\n    private Color aliveCellColor = Color.GREEN;\r\n    private Color deadCellColor = Color.RED;\r\n\r\n    public GUIGameOfLife(int size, long seed) {\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        // Calculate the cell size based on the fixed grid size\r\n        int cellSize = FIXED_GRID_SIZE / size;\r\n\r\n        // Set the size of the JFrame based on the fixed grid size\r\n        setSize(FIXED_GRID_SIZE, FIXED_GRID_SIZE + 100); // Increased height for the different objects. 50 on the top and 50 on the bottom.\r\n\r\n\r\n        setUndecorated(true); //(This would remove the bar obstructing the elements, but it would be hard to close or move the window, and it would also require me to change the locations of the buttons.\r\n\r\n        // This initializes the game with an original size of 25.\r\n        game = new GameOfLife(25, seed);\r\n        generation = 0;\r\n\r\n        // This is the timer.\r\n        timer = new Timer(2000, new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (game.getSize() &gt; 0) {\r\n                    game.simulateGenerations(1);\r\n                    generation++;\r\n                    repaint();\r\n                }\r\n            }\r\n        });\r\n\r\n        //This is the code for the Pause/Resume button\r\n        pauseResumeButton = new JToggleButton(&quot;Pause&quot;);\r\n        pauseResumeButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (pauseResumeButton.isSelected()) {\r\n                    timer.stop(); // Pause the timer\r\n                    pauseResumeButton.setText(&quot;Resume&quot;);\r\n                } else {\r\n                    timer.start(); // Resume the timer\r\n                    pauseResumeButton.setText(&quot;Pause&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        //This is the Restart button\r\n        restartButton = new JButton(&quot;Restart&quot;);\r\n        restartButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                game.initializeRandomGeneration();\r\n                generation = 0;\r\n                repaint();\r\n            }\r\n        });\r\n\r\n        //The &quot;Speed Slider&quot; to control the time between generations.\r\n        speedSlider = new JSlider(JSlider.HORIZONTAL, 100, 2000, 1000); // Initial speed set to 1000 ms\r\n        speedSlider.setMajorTickSpacing(500);\r\n        speedSlider.setMinorTickSpacing(100);\r\n        speedSlider.setPaintTicks(true);\r\n        speedSlider.setSnapToTicks(true);\r\n        speedSlider.addChangeListener(new ChangeListener() {\r\n            @Override\r\n            public void stateChanged(ChangeEvent e) {\r\n                timer.setDelay(speedSlider.getValue());\r\n            }\r\n        });\r\n\r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.setLayout(null);\r\n\r\n\r\n        pauseResumeButton.setBounds(650, 15, 80, 25);\r\n\r\n        restartButton.setBounds(575, 15, 70, 25);\r\n\r\n        speedSlider.setBounds(405, 15, 165, 25);\r\n\r\n\r\n        JButton setSizeButton = new JButton(&quot;Set Size&quot;);\r\n        setSizeButton.setBounds(15, 810, 80, 25);\r\n        setSizeButton.addActionListener(new ActionListener() {\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                try {\r\n                    int newSize = Integer.parseInt(sizeTextField.getText());\r\n\r\n                    // Tests to make sure that the user input is a valid size.\r\n                    if (newSize &lt;= 0) {\r\n                        JOptionPane.showMessageDialog(GUIGameOfLife.this, &quot;Grid size cannot be 0 or negative. Setting grid size to 25.&quot;);\r\n                        newSize = 25;\r\n                    } else if (newSize &gt; 375) {\r\n                        JOptionPane.showMessageDialog(GUIGameOfLife.this, &quot;Too big, the maximum size is 375. Setting grid size to 25.&quot;);\r\n                        newSize = 25;\r\n                    }\r\n\r\n                    game = new GameOfLife(newSize, seed);\r\n                    generation = 0; // Resets the generation counter after the user inputs the new size.\r\n                    repaint();\r\n                } catch (NumberFormatException ex) {\r\n                    JOptionPane.showMessageDialog(GUIGameOfLife.this, &quot;Invalid input. Please enter a valid number. Setting grid size to 25.&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        sizeTextField = new JTextField();\r\n        sizeTextField.setBounds(105, 810, 80, 25);\r\n        buttonPanel.add(sizeTextField);\r\n\r\n        //Allows the user to choose the color of the alive cell.\r\n        JButton aliveCellColorButton = new JButton(&quot;Alive Cell Color&quot;);\r\n        aliveCellColorButton.setBounds(195, 810, 140, 25);\r\n        aliveCellColorButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                aliveCellColor = JColorChooser.showDialog(GUIGameOfLife.this, &quot;Choose Alive Cell Color&quot;, aliveCellColor);\r\n                repaint();\r\n            }\r\n        });\r\n\r\n        //Allows the user to choose the color of the dead cell.\r\n        JButton deadCellColorButton = new JButton(&quot;Dead Cell Color&quot;);\r\n        deadCellColorButton.setBounds(345, 810, 140, 25);\r\n        deadCellColorButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                deadCellColor = JColorChooser.showDialog(GUIGameOfLife.this, &quot;Choose Dead Cell Color&quot;, deadCellColor);\r\n                repaint();\r\n            }\r\n        });\r\n\r\n        //This allows the user to save the game.\r\n        JButton saveButton = new JButton(&quot;Save Game&quot;);\r\n        saveButton.setBounds(495, 810, 110, 25);\r\n        saveButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                saveGame();\r\n            }\r\n        });\r\n\r\n        //This allows the user to save the game.\r\n        JButton loadButton = new JButton(&quot;Load Game&quot;);\r\n        loadButton.setBounds(615, 810, 120, 25);\r\n        loadButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                loadGame();\r\n            }\r\n        });\r\n\r\n        buttonPanel.add(pauseResumeButton);\r\n        buttonPanel.add(restartButton);\r\n        buttonPanel.add(speedSlider);\r\n        buttonPanel.add(setSizeButton);\r\n        buttonPanel.add(aliveCellColorButton);\r\n        buttonPanel.add(deadCellColorButton);\r\n        buttonPanel.add(saveButton);\r\n        buttonPanel.add(loadButton);\r\n\r\n\r\n        //all the earlier &quot;buttonPanel.add&quot; add the buttons to this buttonPanel, and this buttonPanel adds them to the GUI.\r\n        add(buttonPanel);\r\n\r\n        timer.start();\r\n    }\r\n\r\n    //New method to save the user&#39;s progress if they click the save button.\r\n    private void saveGame() {\r\n        JFileChooser fileChooser = new JFileChooser();\r\n        fileChooser.setDialogTitle(&quot;Save Game State&quot;);\r\n        int userSelection = fileChooser.showSaveDialog(this);\r\n\r\n        if (userSelection == JFileChooser.APPROVE_OPTION) {\r\n            File fileToSave = fileChooser.getSelectedFile();\r\n            ObjectOutputStream oos = null;\r\n            try {\r\n                oos = new ObjectOutputStream(new FileOutputStream(fileToSave));\r\n                oos.writeObject(game);\r\n                oos.writeObject(aliveCellColor);\r\n                oos.writeObject(deadCellColor);\r\n                oos.writeInt(generation);\r\n                JOptionPane.showMessageDialog(this, &quot;Game state saved successfully!&quot;);\r\n                //catches any IO (Input/Output) exceptions that could occur when reading or writing a file.\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                JOptionPane.showMessageDialog(this, &quot;Error saving game state.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            } finally {\r\n                if (oos != null) { //Makes sure that no values are null.\r\n                    try {\r\n                        oos.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace(); //Prints a StackTrace (Error Report).\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // New method to load a previously saved state of the game\r\n    private void loadGame() {\r\n        JFileChooser fileChooser = new JFileChooser();\r\n        fileChooser.setDialogTitle(&quot;Load Game State&quot;);\r\n\r\n        int userSelection = fileChooser.showOpenDialog(this);\r\n        if (userSelection == JFileChooser.APPROVE_OPTION) {\r\n            File fileToLoad = fileChooser.getSelectedFile();\r\n            ObjectInputStream ois = null;\r\n            try {\r\n                ois = new ObjectInputStream(new FileInputStream(fileToLoad));\r\n                game = (GameOfLife) ois.readObject();\r\n                aliveCellColor = (Color) ois.readObject(); //They are from the &quot;Color&quot; class, so by using (Color) you can use casting to explicitly cast object to a color. This allows me to use color class methods and properties.\r\n                deadCellColor = (Color) ois.readObject();\r\n                generation = ois.readInt();\r\n                repaint();\r\n                JOptionPane.showMessageDialog(this, &quot;Game state loaded successfully!&quot;);\r\n                //Catches any IO (Input/Output) exceptions that could occur when reading or writing a file.\r\n            } catch (IOException | ClassNotFoundException e) {\r\n                e.printStackTrace();\r\n                JOptionPane.showMessageDialog(this, &quot;Error loading game state.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            } finally {\r\n                if (ois != null) { //Makes sure that no values are null.\r\n                    try {\r\n                        ois.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace(); //Prints a StackTrace (Error Report).\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public char[][] getCurrentGeneration() {\r\n        return game.getCurrentGeneration();\r\n    }\r\n\r\n    public int getGameSize() {\r\n        return game.getSize();\r\n    }\r\n\r\n    @Override\r\n    public void paint (Graphics g){\r\n        // Create an off-screen image if it doesn&#39;t exist or if its size has changed. This will allow for my code to transition smoothly.\r\n        if (offScreenImage == null || offScreenImage.getWidth() != getWidth() || offScreenImage.getHeight() != getHeight()) {\r\n            offScreenImage = new BufferedImage(getWidth(), getHeight(), BufferedImage.TYPE_INT_RGB);\r\n        }\r\n\r\n        // Creates a graphics context for the off-screen image, so that the final result can be easily displayed without flickering.\r\n        Graphics offScreenGraphics = offScreenImage.getGraphics();\r\n\r\n        char[][] currentGeneration = getCurrentGeneration();\r\n\r\n        int gameSize = getGameSize();\r\n\r\n        // Checks if the game size is greater than 0.\r\n        if (gameSize &gt; 0) {\r\n            // Calculates the cell size based on the fixed grid size.\r\n            int cellSize = FIXED_GRID_SIZE / gameSize;\r\n\r\n            // Calculates the offset to center the grid in the middle of the GUI.\r\n            int offsetX = (getWidth() - gameSize * cellSize) / 2;\r\n            int offsetY = (getHeight() - gameSize * cellSize) / 2;\r\n\r\n            // Draws the background in black to fill in the extra space in the offset. (If 750 divided by the grid size doesn&#39;t return a whole number.)\r\n            offScreenGraphics.setColor(Color.BLACK);\r\n            offScreenGraphics.fillRect(0, 0, getWidth(), getHeight());\r\n\r\n            // Draws two gray boxes with a black border at the edges on the top, each using half of the GUI&#39;s width. Then it draws another gray box at the bottom using all of the GUI&#39;s width.\r\n            int boxWidth = getWidth() / 2;\r\n            offScreenGraphics.setColor(Color.GRAY);\r\n            offScreenGraphics.fillRect(0, 0, boxWidth, 50);\r\n            offScreenGraphics.fillRect(boxWidth, 0, boxWidth, 50);\r\n            offScreenGraphics.fillRect(0, getHeight() - 50, getWidth(), 50); // Gray box at the bottom\r\n            offScreenGraphics.setColor(Color.BLACK);  // Set the color to black for the border\r\n\r\n            // Draws the borders for the gray boxes on the bottom and the top.\r\n            offScreenGraphics.drawRect(0, 0, boxWidth, 50);\r\n            offScreenGraphics.drawRect(boxWidth, 0, boxWidth, 50);\r\n            offScreenGraphics.drawRect(0, getHeight() - 50, getWidth(), 50); // Border for the bottom gray box\r\n\r\n            offScreenGraphics.setColor(Color.WHITE);\r\n            offScreenGraphics.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, Math.min(gameSize * cellSize / 4, 20))); // Gives the specifications of the font, and makes sure that the font size doesn&#39;t exceed 20 by taking the minimum value of (gameSize * cellSize / 4) and 20.\r\n\r\n            // Printing the generation and alive cells values.\r\n            String generationText = &quot;Generation: &quot; + generation + &quot; | Alive Cells: &quot; + game.getAliveCells();\r\n            int textX = (boxWidth - offScreenGraphics.getFontMetrics().stringWidth(generationText)) / 2;\r\n            offScreenGraphics.drawString(generationText, textX, 50 - textSize / 2);\r\n\r\n            //Draws each cell in the array in an off-screen image.\r\n            for (int i = 0; i &lt; gameSize; i++) {\r\n                for (int j = 0; j &lt; gameSize; j++) {\r\n                    Color cellColor = (currentGeneration[i][j] == GameOfLife.ALIVE_CELL) ? aliveCellColor : deadCellColor;\r\n                    offScreenGraphics.setColor(cellColor);\r\n                    offScreenGraphics.fillRect(j * cellSize + offsetX, i * cellSize + offsetY, cellSize, cellSize);\r\n                    offScreenGraphics.setColor(Color.BLACK);\r\n                    offScreenGraphics.drawRect(j * cellSize + offsetX, i * cellSize + offsetY, cellSize, cellSize);\r\n                }\r\n            }\r\n        }\r\n\r\n        //Removes the information after it has been used to generate an array.\r\n        offScreenGraphics.dispose();\r\n\r\n        // This draws the off-screen image on the GUI;\r\n        g.drawImage(offScreenImage, 0, 0, this);\r\n    }\r\n}\r\n```","title":"My buttons keep getting hidden unless I click on them","body":"<p>My buttons keep disappearing every time my code creates a new screen. I believe it might be due to the buffered image that I am creating, but I am not sure.</p>\n<p>So far, I have tried removing that section of the code from the buffered section and trying to add the buttons to make buffered image. The first solution didn't work, likely due to my background also being part of the buffered image. This led to my grey panels also disappearing. As for the second solutions, the buttons I added stopped being interactable, and were instead made with text. I have attached my code below. Please suggest ways to fix my problem, along with any redundancies and inefficiencies in my code.</p>\n<p><strong>Main class:</strong></p>\n<pre><code>package life;\n\nimport javax.swing.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            GUIGameOfLife gui = new GUIGameOfLife(25, System.currentTimeMillis());\n            gui.setVisible(true);\n        });\n    }\n}\n</code></pre>\n<p><strong>GameOfLifeClass:</strong></p>\n<pre><code>package life;\n\nimport java.util.Random;\nimport java.io.Serializable;\n\npublic class GameOfLife implements Serializable{\n    public static final char ALIVE_CELL = 'O';\n    public static final char DEAD_CELL = ' ';\n\n    public char[][] currentGeneration;\n    public char[][] nextGeneration;\n    public int size;\n    public int aliveCells;\n    public Random random;\n\n    public GameOfLife(int size, long seed) {\n        this.size = size;\n        currentGeneration = new char[size][size];\n        nextGeneration = new char[size][size];\n        random = new Random(seed);\n        aliveCells = 0; // Initialize aliveCells\n\n        initializeRandomGeneration();\n    }\n\n    public void initializeRandomGeneration() {\n        aliveCells = 0; // Reset aliveCells before each simulation\n        for (int i = 0; i &lt; size; i++) {\n            for (int j = 0; j &lt; size; j++) {\n                currentGeneration[i][j] = (random.nextBoolean()) ? ALIVE_CELL : DEAD_CELL;\n                if (currentGeneration[i][j] == ALIVE_CELL) {\n                    aliveCells++;\n                }\n            }\n        }\n    }\n\n    public void simulateGenerations(int numGenerations) {\n        for (int generation = 0; generation &lt;= numGenerations; generation++) {\n            System.out.println(&quot;Generation: &quot; + generation);\n            System.out.println(&quot;Alive: &quot; + aliveCells);\n            printCurrentGeneration();\n            simulateGeneration2(numGenerations);\n\n            // Sleep for a specified duration (e.g., 50 milliseconds)\n            sleep(50);\n        }\n    }\n\n    public char[][] getCurrentGeneration() {\n        return currentGeneration;\n    }\n\n    public int getSize() {\n        return size;\n    }\n\n    public int getAliveCells() {\n        return aliveCells;\n    }\n\n    public void sleep(int milliseconds) {\n        try {\n            Thread.sleep(milliseconds);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void printCurrentGeneration() {\n        for (int i = 0; i &lt; size; i++) {\n            for (int j = 0; j &lt; size; j++) {\n                System.out.print(currentGeneration[i][j]);\n            }\n            System.out.println();\n        }\n    }\n\n    public void simulateGeneration2(int generation) {\n        aliveCells = 0; // Reset aliveCells before each simulation\n        for (int i = 0; i &lt; size; i++) {\n            for (int j = 0; j &lt; size; j++) {\n                int liveNeighbors = countLiveNeighbors(i, j);\n\n                if (currentGeneration[i][j] == ALIVE_CELL) {\n                    if (liveNeighbors == 2 || liveNeighbors == 3) {\n                        nextGeneration[i][j] = ALIVE_CELL; // Cell survives\n                        aliveCells++;\n                    } else {\n                        nextGeneration[i][j] = DEAD_CELL; // Cell dies\n                    }\n                } else {\n                    if (liveNeighbors == 3) {\n                        nextGeneration[i][j] = ALIVE_CELL; // Cell is reborn\n                        aliveCells++;\n                    } else {\n                        nextGeneration[i][j] = DEAD_CELL; // Cell remains dead\n                    }\n                }\n            }\n        }\n\n        // Swap current and next generations\n        char[][] temp = currentGeneration;\n        currentGeneration = nextGeneration;\n        nextGeneration = temp;\n    }\n\n    public int countLiveNeighbors(int x, int y) {\n        int liveNeighbors = 0;\n        int[] dx = {-1, -1, -1, 0, 0, 1, 1, 1};\n        int[] dy = {-1, 0, 1, -1, 1, -1, 0, 1};\n\n        for (int i = 0; i &lt; 8; i++) {\n            int nx = (x + dx[i] + size) % size; // Using the size modulo should work.\n            int ny = (y + dy[i] + size) % size;\n\n            if (currentGeneration[nx][ny] == ALIVE_CELL) {\n                liveNeighbors++;\n            }\n        }\n\n        return liveNeighbors;\n    }\n}\n</code></pre>\n<p><strong>GUIGameOfLife:</strong></p>\n<pre><code>package life;\n\n// Importing the necessary libraries for the code to work.\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.*;\nimport javax.swing.*;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\nimport java.awt.image.BufferedImage;\n\npublic class GUIGameOfLife extends JFrame {\n    private static final int FIXED_GRID_SIZE = 750;\n    private GameOfLife game;\n    private Timer timer;\n    private int generation;\n    private JToggleButton pauseResumeButton;\n    private JButton restartButton;\n    private static final int textSize = 30;\n    private BufferedImage offScreenImage;\n    private JSlider speedSlider;\n    private JTextField sizeTextField;\n\n    private Color aliveCellColor = Color.GREEN;\n    private Color deadCellColor = Color.RED;\n\n    public GUIGameOfLife(int size, long seed) {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        // Calculate the cell size based on the fixed grid size\n        int cellSize = FIXED_GRID_SIZE / size;\n\n        // Set the size of the JFrame based on the fixed grid size\n        setSize(FIXED_GRID_SIZE, FIXED_GRID_SIZE + 100); // Increased height for the different objects. 50 on the top and 50 on the bottom.\n\n\n        setUndecorated(true); //(This would remove the bar obstructing the elements, but it would be hard to close or move the window, and it would also require me to change the locations of the buttons.\n\n        // This initializes the game with an original size of 25.\n        game = new GameOfLife(25, seed);\n        generation = 0;\n\n        // This is the timer.\n        timer = new Timer(2000, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (game.getSize() &gt; 0) {\n                    game.simulateGenerations(1);\n                    generation++;\n                    repaint();\n                }\n            }\n        });\n\n        //This is the code for the Pause/Resume button\n        pauseResumeButton = new JToggleButton(&quot;Pause&quot;);\n        pauseResumeButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (pauseResumeButton.isSelected()) {\n                    timer.stop(); // Pause the timer\n                    pauseResumeButton.setText(&quot;Resume&quot;);\n                } else {\n                    timer.start(); // Resume the timer\n                    pauseResumeButton.setText(&quot;Pause&quot;);\n                }\n            }\n        });\n\n        //This is the Restart button\n        restartButton = new JButton(&quot;Restart&quot;);\n        restartButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                game.initializeRandomGeneration();\n                generation = 0;\n                repaint();\n            }\n        });\n\n        //The &quot;Speed Slider&quot; to control the time between generations.\n        speedSlider = new JSlider(JSlider.HORIZONTAL, 100, 2000, 1000); // Initial speed set to 1000 ms\n        speedSlider.setMajorTickSpacing(500);\n        speedSlider.setMinorTickSpacing(100);\n        speedSlider.setPaintTicks(true);\n        speedSlider.setSnapToTicks(true);\n        speedSlider.addChangeListener(new ChangeListener() {\n            @Override\n            public void stateChanged(ChangeEvent e) {\n                timer.setDelay(speedSlider.getValue());\n            }\n        });\n\n        JPanel buttonPanel = new JPanel();\n        buttonPanel.setLayout(null);\n\n\n        pauseResumeButton.setBounds(650, 15, 80, 25);\n\n        restartButton.setBounds(575, 15, 70, 25);\n\n        speedSlider.setBounds(405, 15, 165, 25);\n\n\n        JButton setSizeButton = new JButton(&quot;Set Size&quot;);\n        setSizeButton.setBounds(15, 810, 80, 25);\n        setSizeButton.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    int newSize = Integer.parseInt(sizeTextField.getText());\n\n                    // Tests to make sure that the user input is a valid size.\n                    if (newSize &lt;= 0) {\n                        JOptionPane.showMessageDialog(GUIGameOfLife.this, &quot;Grid size cannot be 0 or negative. Setting grid size to 25.&quot;);\n                        newSize = 25;\n                    } else if (newSize &gt; 375) {\n                        JOptionPane.showMessageDialog(GUIGameOfLife.this, &quot;Too big, the maximum size is 375. Setting grid size to 25.&quot;);\n                        newSize = 25;\n                    }\n\n                    game = new GameOfLife(newSize, seed);\n                    generation = 0; // Resets the generation counter after the user inputs the new size.\n                    repaint();\n                } catch (NumberFormatException ex) {\n                    JOptionPane.showMessageDialog(GUIGameOfLife.this, &quot;Invalid input. Please enter a valid number. Setting grid size to 25.&quot;);\n                }\n            }\n        });\n\n        sizeTextField = new JTextField();\n        sizeTextField.setBounds(105, 810, 80, 25);\n        buttonPanel.add(sizeTextField);\n\n        //Allows the user to choose the color of the alive cell.\n        JButton aliveCellColorButton = new JButton(&quot;Alive Cell Color&quot;);\n        aliveCellColorButton.setBounds(195, 810, 140, 25);\n        aliveCellColorButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                aliveCellColor = JColorChooser.showDialog(GUIGameOfLife.this, &quot;Choose Alive Cell Color&quot;, aliveCellColor);\n                repaint();\n            }\n        });\n\n        //Allows the user to choose the color of the dead cell.\n        JButton deadCellColorButton = new JButton(&quot;Dead Cell Color&quot;);\n        deadCellColorButton.setBounds(345, 810, 140, 25);\n        deadCellColorButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                deadCellColor = JColorChooser.showDialog(GUIGameOfLife.this, &quot;Choose Dead Cell Color&quot;, deadCellColor);\n                repaint();\n            }\n        });\n\n        //This allows the user to save the game.\n        JButton saveButton = new JButton(&quot;Save Game&quot;);\n        saveButton.setBounds(495, 810, 110, 25);\n        saveButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                saveGame();\n            }\n        });\n\n        //This allows the user to save the game.\n        JButton loadButton = new JButton(&quot;Load Game&quot;);\n        loadButton.setBounds(615, 810, 120, 25);\n        loadButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                loadGame();\n            }\n        });\n\n        buttonPanel.add(pauseResumeButton);\n        buttonPanel.add(restartButton);\n        buttonPanel.add(speedSlider);\n        buttonPanel.add(setSizeButton);\n        buttonPanel.add(aliveCellColorButton);\n        buttonPanel.add(deadCellColorButton);\n        buttonPanel.add(saveButton);\n        buttonPanel.add(loadButton);\n\n\n        //all the earlier &quot;buttonPanel.add&quot; add the buttons to this buttonPanel, and this buttonPanel adds them to the GUI.\n        add(buttonPanel);\n\n        timer.start();\n    }\n\n    //New method to save the user's progress if they click the save button.\n    private void saveGame() {\n        JFileChooser fileChooser = new JFileChooser();\n        fileChooser.setDialogTitle(&quot;Save Game State&quot;);\n        int userSelection = fileChooser.showSaveDialog(this);\n\n        if (userSelection == JFileChooser.APPROVE_OPTION) {\n            File fileToSave = fileChooser.getSelectedFile();\n            ObjectOutputStream oos = null;\n            try {\n                oos = new ObjectOutputStream(new FileOutputStream(fileToSave));\n                oos.writeObject(game);\n                oos.writeObject(aliveCellColor);\n                oos.writeObject(deadCellColor);\n                oos.writeInt(generation);\n                JOptionPane.showMessageDialog(this, &quot;Game state saved successfully!&quot;);\n                //catches any IO (Input/Output) exceptions that could occur when reading or writing a file.\n            } catch (IOException e) {\n                e.printStackTrace();\n                JOptionPane.showMessageDialog(this, &quot;Error saving game state.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n            } finally {\n                if (oos != null) { //Makes sure that no values are null.\n                    try {\n                        oos.close();\n                    } catch (IOException e) {\n                        e.printStackTrace(); //Prints a StackTrace (Error Report).\n                    }\n                }\n            }\n        }\n    }\n\n    // New method to load a previously saved state of the game\n    private void loadGame() {\n        JFileChooser fileChooser = new JFileChooser();\n        fileChooser.setDialogTitle(&quot;Load Game State&quot;);\n\n        int userSelection = fileChooser.showOpenDialog(this);\n        if (userSelection == JFileChooser.APPROVE_OPTION) {\n            File fileToLoad = fileChooser.getSelectedFile();\n            ObjectInputStream ois = null;\n            try {\n                ois = new ObjectInputStream(new FileInputStream(fileToLoad));\n                game = (GameOfLife) ois.readObject();\n                aliveCellColor = (Color) ois.readObject(); //They are from the &quot;Color&quot; class, so by using (Color) you can use casting to explicitly cast object to a color. This allows me to use color class methods and properties.\n                deadCellColor = (Color) ois.readObject();\n                generation = ois.readInt();\n                repaint();\n                JOptionPane.showMessageDialog(this, &quot;Game state loaded successfully!&quot;);\n                //Catches any IO (Input/Output) exceptions that could occur when reading or writing a file.\n            } catch (IOException | ClassNotFoundException e) {\n                e.printStackTrace();\n                JOptionPane.showMessageDialog(this, &quot;Error loading game state.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n            } finally {\n                if (ois != null) { //Makes sure that no values are null.\n                    try {\n                        ois.close();\n                    } catch (IOException e) {\n                        e.printStackTrace(); //Prints a StackTrace (Error Report).\n                    }\n                }\n            }\n        }\n    }\n\n    public char[][] getCurrentGeneration() {\n        return game.getCurrentGeneration();\n    }\n\n    public int getGameSize() {\n        return game.getSize();\n    }\n\n    @Override\n    public void paint (Graphics g){\n        // Create an off-screen image if it doesn't exist or if its size has changed. This will allow for my code to transition smoothly.\n        if (offScreenImage == null || offScreenImage.getWidth() != getWidth() || offScreenImage.getHeight() != getHeight()) {\n            offScreenImage = new BufferedImage(getWidth(), getHeight(), BufferedImage.TYPE_INT_RGB);\n        }\n\n        // Creates a graphics context for the off-screen image, so that the final result can be easily displayed without flickering.\n        Graphics offScreenGraphics = offScreenImage.getGraphics();\n\n        char[][] currentGeneration = getCurrentGeneration();\n\n        int gameSize = getGameSize();\n\n        // Checks if the game size is greater than 0.\n        if (gameSize &gt; 0) {\n            // Calculates the cell size based on the fixed grid size.\n            int cellSize = FIXED_GRID_SIZE / gameSize;\n\n            // Calculates the offset to center the grid in the middle of the GUI.\n            int offsetX = (getWidth() - gameSize * cellSize) / 2;\n            int offsetY = (getHeight() - gameSize * cellSize) / 2;\n\n            // Draws the background in black to fill in the extra space in the offset. (If 750 divided by the grid size doesn't return a whole number.)\n            offScreenGraphics.setColor(Color.BLACK);\n            offScreenGraphics.fillRect(0, 0, getWidth(), getHeight());\n\n            // Draws two gray boxes with a black border at the edges on the top, each using half of the GUI's width. Then it draws another gray box at the bottom using all of the GUI's width.\n            int boxWidth = getWidth() / 2;\n            offScreenGraphics.setColor(Color.GRAY);\n            offScreenGraphics.fillRect(0, 0, boxWidth, 50);\n            offScreenGraphics.fillRect(boxWidth, 0, boxWidth, 50);\n            offScreenGraphics.fillRect(0, getHeight() - 50, getWidth(), 50); // Gray box at the bottom\n            offScreenGraphics.setColor(Color.BLACK);  // Set the color to black for the border\n\n            // Draws the borders for the gray boxes on the bottom and the top.\n            offScreenGraphics.drawRect(0, 0, boxWidth, 50);\n            offScreenGraphics.drawRect(boxWidth, 0, boxWidth, 50);\n            offScreenGraphics.drawRect(0, getHeight() - 50, getWidth(), 50); // Border for the bottom gray box\n\n            offScreenGraphics.setColor(Color.WHITE);\n            offScreenGraphics.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, Math.min(gameSize * cellSize / 4, 20))); // Gives the specifications of the font, and makes sure that the font size doesn't exceed 20 by taking the minimum value of (gameSize * cellSize / 4) and 20.\n\n            // Printing the generation and alive cells values.\n            String generationText = &quot;Generation: &quot; + generation + &quot; | Alive Cells: &quot; + game.getAliveCells();\n            int textX = (boxWidth - offScreenGraphics.getFontMetrics().stringWidth(generationText)) / 2;\n            offScreenGraphics.drawString(generationText, textX, 50 - textSize / 2);\n\n            //Draws each cell in the array in an off-screen image.\n            for (int i = 0; i &lt; gameSize; i++) {\n                for (int j = 0; j &lt; gameSize; j++) {\n                    Color cellColor = (currentGeneration[i][j] == GameOfLife.ALIVE_CELL) ? aliveCellColor : deadCellColor;\n                    offScreenGraphics.setColor(cellColor);\n                    offScreenGraphics.fillRect(j * cellSize + offsetX, i * cellSize + offsetY, cellSize, cellSize);\n                    offScreenGraphics.setColor(Color.BLACK);\n                    offScreenGraphics.drawRect(j * cellSize + offsetX, i * cellSize + offsetY, cellSize, cellSize);\n                }\n            }\n        }\n\n        //Removes the information after it has been used to generate an array.\n        offScreenGraphics.dispose();\n\n        // This draws the off-screen image on the GUI;\n        g.drawImage(offScreenImage, 0, 0, this);\n    }\n}\n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701856694,"post_id":77611899,"comment_id":136825873,"body_markdown":"It sounds to me like you are draining the OS&#39;s source of entropy. (Google for &quot;linux draining entropy&quot;)  However, nothing in the log file tells us what is happening between those two log messages.  You could try using `jstack` to figure out what is going on in that period.","body":"It sounds to me like you are draining the OS&#39;s source of entropy. (Google for &quot;linux draining entropy&quot;)  However, nothing in the log file tells us what is happening between those two log messages.  You could try using <code>jstack</code> to figure out what is going on in that period."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1701856841,"post_id":77611899,"comment_id":136825899,"body_markdown":"I should also point out that openjdk 1.8.0._65 is very very out of date.","body":"I should also point out that openjdk 1.8.0._65 is very very out of date."},{"owner":{"account_id":14391755,"reputation":1,"user_id":10396187,"display_name":"Vinod Devarakonda"},"score":0,"creation_date":1701857343,"post_id":77611899,"comment_id":136826000,"body_markdown":"This is very legacy application, the linux machine is only having JRE not a JDK. Please suggest how to move forward @StephenC","body":"This is very legacy application, the linux machine is only having JRE not a JDK. Please suggest how to move forward @StephenC"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701858236,"post_id":77611899,"comment_id":136826159,"body_markdown":"Have you figured out where the code is blocking yet?  See my first comment.   (And the fact that your application is legacy is not a **sound** reason to use an JRE that is missing 8 years of security patches.  Sheesh!)","body":"Have you figured out where the code is blocking yet?  See my first comment.   (And the fact that your application is legacy is not a <b>sound</b> reason to use an JRE that is missing 8 years of security patches.  Sheesh!)"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1701858618,"post_id":77611899,"comment_id":136826233,"body_markdown":"There &gt;is&lt; a fix for the entropy issue ... if that it is the problem.  However it degrades your application&#39;s security, so it is unwise to use it unless the cause of the problem is &gt;confirmed&lt; as being entropy depletion.","body":"There &gt;is&lt; a fix for the entropy issue ... if that it is the problem.  However it degrades your application&#39;s security, so it is unwise to use it unless the cause of the problem is &gt;confirmed&lt; as being entropy depletion."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1701861525,"post_id":77611899,"comment_id":136826751,"body_markdown":"*&quot;Changed the egd security file to java/urandom, java/./urandom&quot;* - Please update the question to explain precisely what you mean by this.  Precisely what file are you talking about, and precisely what did you change to what?","body":"<i>&quot;Changed the egd security file to java/urandom, java/./urandom&quot;</i> - Please update the question to explain precisely what you mean by this.  Precisely what file are you talking about, and precisely what did you change to what?"}],"owner":{"account_id":14391755,"reputation":1,"user_id":10396187,"display_name":"Vinod Devarakonda"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701881967,"answer_count":0,"score":-1,"last_activity_date":1701857080,"creation_date":1701855140,"question_id":77611899,"body_markdown":"    2023-12-06 04:18:57,308 [main] [] INFO BootstrapLauncher.createArchiveClassLoader:169 \r\n      *** setArchiveClassLoader(), a new instance of ArchiveClassLoader has been created and set as thread context ClassLoader.\r\n    2023-12-06 04:25:35,466 [main] [] INFO setSystemProtocolHandlerPackages:1794 \r\n      Registering protocols, \r\n\r\nTaking around 7 minutes in between these 2 steps , whereas in java 7 it will take only less than 1 second\r\n\r\nChanged the egd security file to java/urandom, java/./urandom","title":"Blocking the performance in Java 8 (openjdk 1.8.0._65)","body":"<pre><code>2023-12-06 04:18:57,308 [main] [] INFO BootstrapLauncher.createArchiveClassLoader:169 \n  *** setArchiveClassLoader(), a new instance of ArchiveClassLoader has been created and set as thread context ClassLoader.\n2023-12-06 04:25:35,466 [main] [] INFO setSystemProtocolHandlerPackages:1794 \n  Registering protocols, \n</code></pre>\n<p>Taking around 7 minutes in between these 2 steps , whereas in java 7 it will take only less than 1 second</p>\n<p>Changed the egd security file to java/urandom, java/./urandom</p>\n"},{"tags":["java","maven","azure-devops","sonarcloud"],"answers":[{"tags":[],"owner":{"account_id":21897459,"reputation":971,"user_id":16183552,"display_name":"Ziyang Liu-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701856758,"creation_date":1701856758,"answer_id":77612073,"question_id":77610716,"body_markdown":"Testing from my side, adding `sonar.coverage.jacoco.xmlReportPaths=&lt;path-to-xml-report&gt;` in SonarCloudPrepare@1 task can resolve the issue. \r\n\r\nMy SonarCloudPrepare@1 task:\r\n\r\n    - task: SonarCloudPrepare@1\r\n      displayName: &#39;Prepare analysis configuration&#39;\r\n      inputs:\r\n        SonarCloud: &#39;SonarCloudSC&#39;\r\n        organization: &#39;***sonarcloudorg&#39;\r\n        scannerMode: &#39;Other&#39;\r\n        extraProperties: |\r\n          sonar.projectKey=***\r\n          sonar.projectName=***\r\n          sonar.coverage.jacoco.xmlReportPaths= CCReport43F6D5EF/jacoco.xml\r\n\r\nThen I can see the code coverage in Sonar Cloud:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j3ufI.png","title":"Sonar cloud does not reflect the code coverage information for maven project with Azure CICD pipeline","body":"<p>Testing from my side, adding <code>sonar.coverage.jacoco.xmlReportPaths=&lt;path-to-xml-report&gt;</code> in SonarCloudPrepare@1 task can resolve the issue.</p>\n<p>My SonarCloudPrepare@1 task:</p>\n<pre><code>- task: SonarCloudPrepare@1\n  displayName: 'Prepare analysis configuration'\n  inputs:\n    SonarCloud: 'SonarCloudSC'\n    organization: '***sonarcloudorg'\n    scannerMode: 'Other'\n    extraProperties: |\n      sonar.projectKey=***\n      sonar.projectName=***\n      sonar.coverage.jacoco.xmlReportPaths= CCReport43F6D5EF/jacoco.xml\n</code></pre>\n<p>Then I can see the code coverage in Sonar Cloud:\n<a href=\"https://i.stack.imgur.com/j3ufI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j3ufI.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6971423,"reputation":89,"user_id":5347654,"accept_rate":18,"display_name":"chinthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77612073,"answer_count":1,"score":0,"last_activity_date":1701856758,"creation_date":1701839932,"question_id":77610716,"body_markdown":"I have a Spring boot application. I am using the Azure CICD pipeline for delivery. I am using the sonar cloud for code quality analysis and configured it in the pipeline as a step. When the pipeline runs the sonar cloud dashboard gets updated with the vulnerabilities, code smells, etc... But the code coverage is always shown as 0%. There are a lot of tests in my application and not sure why it is not reflecting in the sonar cloud.\r\nMy pipeline looks like this (major steps):\r\n\r\n    steps:\r\n      - install java step here\r\n    \r\n      - configure maven step here\r\n    \r\n      - task: SonarCloudPrepare@1\r\n        inputs:\r\n          SonarCloud: &#39;My Sonarcloud connection&#39;\r\n          organization: &#39;myOrganization&#39;\r\n          scannerMode: &#39;Other&#39;\r\n          extraProperties: |\r\n            sonar.projectKey=myOrganization_JavaApp---API\r\n            sonar.projectName=JavaApp - API\r\n    \r\n      - task: Maven@3\r\n        displayName: &#39;Build Maven Artifacts&#39;\r\n        inputs:\r\n          mavenPomFile: &#39;pom.xml&#39;\r\n          goals: &#39;package -Dactive.profile=$(active_profile)&#39;\r\n          publishJUnitResults: true\r\n          testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n          codeCoverageToolOption: &#39;JaCoCo&#39;\r\n          javaHomeOption: &#39;JDKVersion&#39;\r\n          mavenVersionOption: &#39;Default&#39;\r\n          mavenAuthenticateFeed: false\r\n          effectivePomSkip: false\r\n          sonarQubeRunAnalysis: true\r\n          sqMavenPluginVersionChoice: &#39;latest&#39;\r\n    \r\n      - task: SonarCloudPublish@1\r\n        inputs:\r\n          pollingTimeoutSec: &#39;300&#39;\r\n    \r\n      - task: CopyFiles@2\r\n        displayName: &#39;Copy Artifacts to: $(build.artifactstagingdirectory)&#39;\r\n        inputs:\r\n          SourceFolder: &#39;$(system.defaultworkingdirectory)&#39;\r\n          Contents: &#39;**/target/**/*.war&#39;\r\n          TargetFolder: &#39;$(build.artifactstagingdirectory)&#39;\r\n        condition: succeededOrFailed()\r\n    \r\n      - task: PublishBuildArtifacts@1\r\n        displayName: &#39;Publish Artifact to: drop&#39;\r\n        inputs:\r\n          PathtoPublish: &#39;$(build.artifactstagingdirectory)&#39;\r\n        condition: succeededOrFailed()\r\n\r\nOnce the pipeline runs, it shows all the code coverage details in CICD job.\r\n[![enter image description here][1]][1]\r\nHowever, the coverage is not reflected in the sonar cloud. It is always 0%\r\nI would like to know two things\r\n 1. what is wrong with my pipeline configuration?\r\n 2. Is there any changes/config I need to add to the ```pom.xml``` to make this work?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NoV7m.png","title":"Sonar cloud does not reflect the code coverage information for maven project with Azure CICD pipeline","body":"<p>I have a Spring boot application. I am using the Azure CICD pipeline for delivery. I am using the sonar cloud for code quality analysis and configured it in the pipeline as a step. When the pipeline runs the sonar cloud dashboard gets updated with the vulnerabilities, code smells, etc... But the code coverage is always shown as 0%. There are a lot of tests in my application and not sure why it is not reflecting in the sonar cloud.\nMy pipeline looks like this (major steps):</p>\n<pre><code>steps:\n  - install java step here\n\n  - configure maven step here\n\n  - task: SonarCloudPrepare@1\n    inputs:\n      SonarCloud: 'My Sonarcloud connection'\n      organization: 'myOrganization'\n      scannerMode: 'Other'\n      extraProperties: |\n        sonar.projectKey=myOrganization_JavaApp---API\n        sonar.projectName=JavaApp - API\n\n  - task: Maven@3\n    displayName: 'Build Maven Artifacts'\n    inputs:\n      mavenPomFile: 'pom.xml'\n      goals: 'package -Dactive.profile=$(active_profile)'\n      publishJUnitResults: true\n      testResultsFiles: '**/surefire-reports/TEST-*.xml'\n      codeCoverageToolOption: 'JaCoCo'\n      javaHomeOption: 'JDKVersion'\n      mavenVersionOption: 'Default'\n      mavenAuthenticateFeed: false\n      effectivePomSkip: false\n      sonarQubeRunAnalysis: true\n      sqMavenPluginVersionChoice: 'latest'\n\n  - task: SonarCloudPublish@1\n    inputs:\n      pollingTimeoutSec: '300'\n\n  - task: CopyFiles@2\n    displayName: 'Copy Artifacts to: $(build.artifactstagingdirectory)'\n    inputs:\n      SourceFolder: '$(system.defaultworkingdirectory)'\n      Contents: '**/target/**/*.war'\n      TargetFolder: '$(build.artifactstagingdirectory)'\n    condition: succeededOrFailed()\n\n  - task: PublishBuildArtifacts@1\n    displayName: 'Publish Artifact to: drop'\n    inputs:\n      PathtoPublish: '$(build.artifactstagingdirectory)'\n    condition: succeededOrFailed()\n</code></pre>\n<p>Once the pipeline runs, it shows all the code coverage details in CICD job.\n<a href=\"https://i.stack.imgur.com/NoV7m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NoV7m.png\" alt=\"enter image description here\" /></a>\nHowever, the coverage is not reflected in the sonar cloud. It is always 0%\nI would like to know two things</p>\n<ol>\n<li>what is wrong with my pipeline configuration?</li>\n<li>Is there any changes/config I need to add to the <code>pom.xml</code> to make this work?</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","jackson"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681829075,"post_id":76045913,"comment_id":134117828,"body_markdown":"@JsonIgnore is the correct one. I&#39;m using it too. What is wrong with it? The third one should also have the same effect.","body":"@JsonIgnore is the correct one. I&#39;m using it too. What is wrong with it? The third one should also have the same effect."},{"owner":{"account_id":12587763,"reputation":1458,"user_id":9155889,"display_name":"nonNumericalFloat"},"score":0,"creation_date":1681894841,"post_id":76045913,"comment_id":134129124,"body_markdown":"Both do not have any effect. Fields are still present in the response JSON. I&#39;m using Spring 3 but that shouldn&#39;t have changed anything?","body":"Both do not have any effect. Fields are still present in the response JSON. I&#39;m using Spring 3 but that shouldn&#39;t have changed anything?"},{"owner":{"account_id":12587763,"reputation":1458,"user_id":9155889,"display_name":"nonNumericalFloat"},"score":0,"creation_date":1681895991,"post_id":76045913,"comment_id":134129405,"body_markdown":"Nevermind... I send all request to the DEV server. Oh lord.","body":"Nevermind... I send all request to the DEV server. Oh lord."}],"answers":[{"tags":[],"owner":{"account_id":20152206,"reputation":46,"user_id":14779270,"display_name":"lellouche"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681831305,"creation_date":1681831305,"answer_id":76046377,"question_id":76045913,"body_markdown":"To exclude the timestamp fields (createdAt, updatedAt, and deletedAt) from being returned, you can use the @JsonIgnoreProperties annotation at the class level.\r\n\r\nThat should work.\r\n\r\n    @JsonIgnoreProperties({&quot;createdAt&quot;, &quot;updatedAt&quot;, &quot;deletedAt&quot;})\r\n    public abstract class BaseEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    private UUID id;\r\n\r\n    @CreatedDate\r\n    @Column(name = &quot;created_at&quot;, updatable = false)\r\n    private Date createdAt;\r\n\r\n    @LastModifiedDate\r\n    @Column(name = &quot;updated_at&quot;)\r\n    private Date updatedAt;\r\n\r\n    @Column(name = &quot;deleted_at&quot;)\r\n    private Date deletedAt;}","title":"Ignore returned Fields in Spring Boot Data JPA without using DTOs / with annotations","body":"<p>To exclude the timestamp fields (createdAt, updatedAt, and deletedAt) from being returned, you can use the @JsonIgnoreProperties annotation at the class level.</p>\n<p>That should work.</p>\n<pre><code>@JsonIgnoreProperties({&quot;createdAt&quot;, &quot;updatedAt&quot;, &quot;deletedAt&quot;})\npublic abstract class BaseEntity {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = &quot;id&quot;, updatable = false, nullable = false)\nprivate UUID id;\n\n@CreatedDate\n@Column(name = &quot;created_at&quot;, updatable = false)\nprivate Date createdAt;\n\n@LastModifiedDate\n@Column(name = &quot;updated_at&quot;)\nprivate Date updatedAt;\n\n@Column(name = &quot;deleted_at&quot;)\nprivate Date deletedAt;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8690774,"reputation":771,"user_id":6503727,"display_name":"burakozgul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681843561,"creation_date":1681843561,"answer_id":76048079,"question_id":76045913,"body_markdown":"@JsonIgnoreProperties should work but you should use this annotation on subclass not base.\r\n\r\n    @JsonIgnoreProperties({&quot;createdAt&quot;, &quot;updatedAt&quot;, &quot;deletedAt&quot;})\r\n    public class SubClass extends BaseEntity\r\n    {\r\n     // const, set, get etc.\r\n    }\r\nAlso you can use Mix-ins with object mapper as described here -&gt;\r\n[Inheritance in Jackson][1]\r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-inheritance","title":"Ignore returned Fields in Spring Boot Data JPA without using DTOs / with annotations","body":"<p>@JsonIgnoreProperties should work but you should use this annotation on subclass not base.</p>\n<pre><code>@JsonIgnoreProperties({&quot;createdAt&quot;, &quot;updatedAt&quot;, &quot;deletedAt&quot;})\npublic class SubClass extends BaseEntity\n{\n // const, set, get etc.\n}\n</code></pre>\n<p>Also you can use Mix-ins with object mapper as described here -&gt;\n<a href=\"https://www.baeldung.com/jackson-inheritance\" rel=\"nofollow noreferrer\">Inheritance in Jackson</a></p>\n"}],"owner":{"account_id":12587763,"reputation":1458,"user_id":9155889,"display_name":"nonNumericalFloat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1036,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76046377,"answer_count":2,"score":0,"last_activity_date":1701856722,"creation_date":1681828598,"question_id":76045913,"body_markdown":"How to ignore the 3 timestamp fields in my `BaseEntity` class used for inheritance from being returned by the controller.\r\n\r\n*Not returning them from the DB entirely would also be an option.\r\n\r\n```java\r\npublic abstract class BaseEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    private UUID id;\r\n\r\n    @JsonIgnore\r\n    @CreatedDate\r\n    @Column(name = &quot;created_at&quot;, updatable = false)\r\n    private Date createdAt;\r\n\r\n    @JsonIgnore\r\n    @LastModifiedDate\r\n    @Column(name = &quot;updated_at&quot;)\r\n    private Date updatedAt;\r\n\r\n    @JsonIgnore\r\n    @JsonIgnore\r\n    @Column(name = &quot;deleted_at&quot;)\r\n    private Date deletedAt;\r\n\r\n}\r\n\r\n```\r\n\r\nAs you see, I tried using:\r\n\r\n - `@JsonIgnore` as field annotation (com.fasterxml.jackson.annotation.JsonIgnore)\r\n - `@JsonIgnoreProperties` as field annotation\r\n - `@JsonIgnoreProperties({&quot;createdAt&quot;, &quot;updatedAt&quot;, &quot;deletedAt&quot;})` as class annotation\r\n \r\n - Disabling `spring.jackson.serialization.FAIL_ON_EMPTY_BEANS`\r\n\r\n`@Transient` seems to be the wrong option for &quot;createdAt&quot; as this needs to be persistet.\r\n\r\n***edit***: I&#39;m using Spring 3 (spring-boot-starter-data-jpa:3.0.5)","title":"Ignore returned Fields in Spring Boot Data JPA without using DTOs / with annotations","body":"<p>How to ignore the 3 timestamp fields in my <code>BaseEntity</code> class used for inheritance from being returned by the controller.</p>\n<p>*Not returning them from the DB entirely would also be an option.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    private UUID id;\n\n    @JsonIgnore\n    @CreatedDate\n    @Column(name = &quot;created_at&quot;, updatable = false)\n    private Date createdAt;\n\n    @JsonIgnore\n    @LastModifiedDate\n    @Column(name = &quot;updated_at&quot;)\n    private Date updatedAt;\n\n    @JsonIgnore\n    @JsonIgnore\n    @Column(name = &quot;deleted_at&quot;)\n    private Date deletedAt;\n\n}\n\n</code></pre>\n<p>As you see, I tried using:</p>\n<ul>\n<li><p><code>@JsonIgnore</code> as field annotation (com.fasterxml.jackson.annotation.JsonIgnore)</p>\n</li>\n<li><p><code>@JsonIgnoreProperties</code> as field annotation</p>\n</li>\n<li><p><code>@JsonIgnoreProperties({&quot;createdAt&quot;, &quot;updatedAt&quot;, &quot;deletedAt&quot;})</code> as class annotation</p>\n</li>\n<li><p>Disabling <code>spring.jackson.serialization.FAIL_ON_EMPTY_BEANS</code></p>\n</li>\n</ul>\n<p><code>@Transient</code> seems to be the wrong option for &quot;createdAt&quot; as this needs to be persistet.</p>\n<p><em><strong>edit</strong></em>: I'm using Spring 3 (spring-boot-starter-data-jpa:3.0.5)</p>\n"},{"tags":["java","html","pdf","itext","itext7"],"answers":[{"tags":[],"owner":{"account_id":30077868,"reputation":1,"user_id":23050196,"display_name":"NekoStalker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701856547,"creation_date":1701856547,"answer_id":77612049,"question_id":77611080,"body_markdown":"I solved this problem using this code.\r\n```\r\n    private static float calculateContentHeight(Canvas canvas, List&lt;IElement&gt; elements, float maxWidth) {\r\n        float totalHeight = 0;\r\n\r\n        for (IElement element : elements) {\r\n            LayoutResult result = ((IBlockElement) element).createRendererSubTree().setParent(canvas.getRenderer())\r\n                    .layout(new LayoutContext(new LayoutArea(0, new Rectangle(maxWidth, 10000))));\r\n            totalHeight += result.getOccupiedArea().getBBox().getHeight();\r\n        }\r\n\r\n        return totalHeight;\r\n    }\r\n```","title":"Implementing HTML Element Pagination with Java iText Library","body":"<p>I solved this problem using this code.</p>\n<pre><code>    private static float calculateContentHeight(Canvas canvas, List&lt;IElement&gt; elements, float maxWidth) {\n        float totalHeight = 0;\n\n        for (IElement element : elements) {\n            LayoutResult result = ((IBlockElement) element).createRendererSubTree().setParent(canvas.getRenderer())\n                    .layout(new LayoutContext(new LayoutArea(0, new Rectangle(maxWidth, 10000))));\n            totalHeight += result.getOccupiedArea().getBBox().getHeight();\n        }\n\n        return totalHeight;\n    }\n</code></pre>\n"}],"owner":{"account_id":30077868,"reputation":1,"user_id":23050196,"display_name":"NekoStalker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701856547,"creation_date":1701845749,"question_id":77611080,"body_markdown":"I am working on an iText report where I need to transfer HTML content to another page in a PDF document when it overflows an iText rectangle. The HTML code is obtained from a `contenteditable` div and includes various elements such as text and images.\r\n\r\nI&#39;m adding html to report using HtmlConverter but i have no idea how to handle overflow of this rectangle.\r\n\r\n```\r\nPdfDocument pdf = new PdfDocument(new PdfWriter(dest));\r\nPageSize pageSize = PageSize.A4;\r\nPdfDocument pdfBackground = new PdfDocument(new PdfReader(PDF));\r\nPdfPage backgroundPage = pdfBackground.getFirstPage();\r\nDocument document = new Document(pdf, pageSize);\r\nConverterProperties properties = new ConverterProperties();\r\n    \t\r\n        \r\npdf.addPage(backgroundPage.copyTo(pdf)); // adding background using another pdf\r\nRectangle mainContent = new Rectangle(70, 120, 510, 600);\r\nCanvas rCanvas = new Canvas(pdf.getLastPage() ,mainContent);\r\naddHtml(HtmlConverter.convertToElements(&quot;&lt;p&gt;Html code here&lt;p&gt;&quot;, properties), rCanvas);\r\n```\r\nIs there a way to calculate the size of content within a rectangle? Alternatively, do you have any other suggestions for addressing this issue?\r\n","title":"Implementing HTML Element Pagination with Java iText Library","body":"<p>I am working on an iText report where I need to transfer HTML content to another page in a PDF document when it overflows an iText rectangle. The HTML code is obtained from a <code>contenteditable</code> div and includes various elements such as text and images.</p>\n<p>I'm adding html to report using HtmlConverter but i have no idea how to handle overflow of this rectangle.</p>\n<pre><code>PdfDocument pdf = new PdfDocument(new PdfWriter(dest));\nPageSize pageSize = PageSize.A4;\nPdfDocument pdfBackground = new PdfDocument(new PdfReader(PDF));\nPdfPage backgroundPage = pdfBackground.getFirstPage();\nDocument document = new Document(pdf, pageSize);\nConverterProperties properties = new ConverterProperties();\n        \n        \npdf.addPage(backgroundPage.copyTo(pdf)); // adding background using another pdf\nRectangle mainContent = new Rectangle(70, 120, 510, 600);\nCanvas rCanvas = new Canvas(pdf.getLastPage() ,mainContent);\naddHtml(HtmlConverter.convertToElements(&quot;&lt;p&gt;Html code here&lt;p&gt;&quot;, properties), rCanvas);\n</code></pre>\n<p>Is there a way to calculate the size of content within a rectangle? Alternatively, do you have any other suggestions for addressing this issue?</p>\n"},{"tags":["java","database","spring-boot"],"comments":[{"owner":{"account_id":15047867,"reputation":2292,"user_id":10860403,"display_name":"ewokx"},"score":1,"creation_date":1701856688,"post_id":77612044,"comment_id":136825871,"body_markdown":"Welcome to Stack Overflow.  In order to receive help, you need to include whatever code that you&#39;re trying to build and also an explanation of what you&#39;re doing.  Just with that small error message, it&#39;s a little difficult to know what&#39;s wrong aside for the generic &quot;you cannot open a JDBC Connection&quot;  and There&#39;s something wrong with your authenticationplugin...","body":"Welcome to Stack Overflow.  In order to receive help, you need to include whatever code that you&#39;re trying to build and also an explanation of what you&#39;re doing.  Just with that small error message, it&#39;s a little difficult to know what&#39;s wrong aside for the generic &quot;you cannot open a JDBC Connection&quot;  and There&#39;s something wrong with your authenticationplugin..."}],"owner":{"account_id":30079291,"reputation":1,"user_id":23051317,"display_name":"Jung Pyo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702179321,"answer_count":0,"score":-1,"last_activity_date":1701856464,"creation_date":1701856464,"question_id":77612044,"body_markdown":" ERROR 9156 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [!AuthenticationProvider.BadAuthenticationPlugin!] [n/a]\r\n\r\nHow can i fixed thie err\r\n\r\n\r\n[err message](https://i.stack.imgur.com/k7we0.png)","title":"I can&#39;t resolve the error in application.yml","body":"<p>ERROR 9156 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [!AuthenticationProvider.BadAuthenticationPlugin!] [n/a]</p>\n<p>How can i fixed thie err</p>\n<p><a href=\"https://i.stack.imgur.com/k7we0.png\" rel=\"nofollow noreferrer\">err message</a></p>\n"},{"tags":["java","maven","drools","kie"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":1,"creation_date":1692710179,"post_id":76945330,"comment_id":135659038,"body_markdown":"DrlDumper was deprecated in 7.45.0, but the [javadocs](https://javadoc.io/doc/org.drools/drools-compiler/7.45.0.Final/index.html) don&#39;t indicate a substitute","body":"DrlDumper was deprecated in 7.45.0, but the <a href=\"https://javadoc.io/doc/org.drools/drools-compiler/7.45.0.Final/index.html\" rel=\"nofollow noreferrer\">javadocs</a> don&#39;t indicate a substitute"},{"owner":{"account_id":29267702,"reputation":1,"user_id":22423204,"display_name":"Vaibhav Kashyap"},"score":0,"creation_date":1692937129,"post_id":76945330,"comment_id":135695099,"body_markdown":"Is there any way I can generate a drl file with a similar method like drlDumper?","body":"Is there any way I can generate a drl file with a similar method like drlDumper?"}],"answers":[{"tags":[],"owner":{"account_id":354343,"reputation":4194,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701855444,"creation_date":1701854580,"answer_id":77611837,"question_id":76945330,"body_markdown":"In 7.60+ `DrlDumper` is no longer part of the `drools-compiler` artifact and instead can be found in `drools-mvel`.\r\n\r\nThe java package has also moved to `org.drools.mvel`","title":"DrlDumper not found on upgrading drools-compiler version","body":"<p>In 7.60+ <code>DrlDumper</code> is no longer part of the <code>drools-compiler</code> artifact and instead can be found in <code>drools-mvel</code>.</p>\n<p>The java package has also moved to <code>org.drools.mvel</code></p>\n"}],"owner":{"account_id":29267702,"reputation":1,"user_id":22423204,"display_name":"Vaibhav Kashyap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701855444,"creation_date":1692621393,"question_id":76945330,"body_markdown":"I am changing my drools-compiler version from 7.40.0 to 7.60.0 but I am getting error that DrlDumper class not found.\r\nI am unable to use dump method which is used to generate the drl files as DrlDumper.dump() method is used to do that.\r\n\r\n\r\nHere is the code which used to create drl but not working on upgrading the drools-compiler and drools-core version:\r\n\r\n```\r\nString parsedRule = new DrlDumper().dump(packageDescrBuilder.getDescr());\r\n```\r\n","title":"DrlDumper not found on upgrading drools-compiler version","body":"<p>I am changing my drools-compiler version from 7.40.0 to 7.60.0 but I am getting error that DrlDumper class not found.\nI am unable to use dump method which is used to generate the drl files as DrlDumper.dump() method is used to do that.</p>\n<p>Here is the code which used to create drl but not working on upgrading the drools-compiler and drools-core version:</p>\n<pre><code>String parsedRule = new DrlDumper().dump(packageDescrBuilder.getDescr());\n</code></pre>\n"},{"tags":["certificate","java"],"comments":[{"owner":{"account_id":1058123,"reputation":541,"user_id":1060378,"accept_rate":90,"display_name":"schroeder"},"score":1,"creation_date":1701797186,"post_id":77611919,"comment_id":136825605,"body_markdown":"What do you mean by &quot;safely&quot;? This is looking like a pure programming question, not a security question.","body":"What do you mean by &quot;safely&quot;? This is looking like a pure programming question, not a security question."},{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":0,"creation_date":1701807216,"post_id":77611919,"comment_id":136825606,"body_markdown":"1) This is a pure programming question and is off-topic on Security SE. 2) Keystore in Java is not being generated, but provided as a part of JRE / JDK.","body":"1) This is a pure programming question and is off-topic on Security SE. 2) Keystore in Java is not being generated, but provided as a part of JRE / JDK."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701855796,"post_id":77611919,"comment_id":136825691,"body_markdown":"Of course you can rename it. You just have to track the name change throughout your code. The keystore doesn&#39;t know its own name. Contrary to the comments above, this is not a programming question.","body":"Of course you can rename it. You just have to track the name change throughout your code. The keystore doesn&#39;t know its own name. Contrary to the comments above, this is not a programming question."}],"owner":{"account_id":1971679,"reputation":3447,"user_id":1770430,"accept_rate":74,"display_name":"Nzall"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701855330,"creation_date":1701790416,"question_id":77611919,"body_markdown":"We&#39;re rebranding our product and as a part of that we need to rename a keystore used by Java for secure XMLRPC connections between our components from `OLDBRANDNAME_keystore` to `NEWBRANDNAME_keystore`. Can we safely do this simply by renaming the file using Windows or Eclipse and updating the references wherever it&#39;s used or do we need to completely regenerate it and all the certificates within? I&#39;ve tried Googling this but I can only find references to updating internal entries.","title":"Can I rename a Java keystore file through Windows/Eclipse without having to regenerate it?","body":"<p>We're rebranding our product and as a part of that we need to rename a keystore used by Java for secure XMLRPC connections between our components from <code>OLDBRANDNAME_keystore</code> to <code>NEWBRANDNAME_keystore</code>. Can we safely do this simply by renaming the file using Windows or Eclipse and updating the references wherever it's used or do we need to completely regenerate it and all the certificates within? I've tried Googling this but I can only find references to updating internal entries.</p>\n"},{"tags":["java","binary","byte"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1346975841,"post_id":12310017,"comment_id":16517988,"body_markdown":"I&#39;m confused; is this a trick?","body":"I&#39;m confused; is this a trick?"},{"owner":{"account_id":15988,"reputation":872838,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":1,"creation_date":1346975877,"post_id":12310017,"comment_id":16517994,"body_markdown":"Are you asking how to convert a `byte` to a string in base 2?","body":"Are you asking how to convert a <code>byte</code> to a string in base 2?"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1551468833,"post_id":12310017,"comment_id":96665177,"body_markdown":"I just added an answer to another thread for doing this (converting a value to a String of binary digits) which works for `Boolean`, `Byte`, `Short`, `Char`, `Int`, and `Long`. https://stackoverflow.com/a/54950845/501113","body":"I just added an answer to another thread for doing this (converting a value to a String of binary digits) which works for <code>Boolean</code>, <code>Byte</code>, <code>Short</code>, <code>Char</code>, <code>Int</code>, and <code>Long</code>. <a href=\"https://stackoverflow.com/a/54950845/501113\">stackoverflow.com/a/54950845/501113</a>"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1598212186,"post_id":12310017,"comment_id":112377397,"body_markdown":"String#Format() might be able to handle this, if you told it to use a width of 8. Likewise System.out.printf().","body":"String#Format() might be able to handle this, if you told it to use a width of 8. Likewise System.out.printf()."}],"answers":[{"tags":[],"owner":{"account_id":225172,"reputation":565,"user_id":485500,"accept_rate":100,"display_name":"geogaddi"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1346976044,"creation_date":1346976044,"answer_id":12310053,"question_id":12310017,"body_markdown":"Just guessing here, but if you have a Byte then couldn&#39;t you simply invoke toString() on the object to get the value? Or, glancing at the [api](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Byte.html#byteValue()), using byteValue()?","title":"How to convert a byte to its binary string representation","body":"<p>Just guessing here, but if you have a Byte then couldn't you simply invoke toString() on the object to get the value? Or, glancing at the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Byte.html#byteValue%28%29\" rel=\"nofollow\">api</a>, using byteValue()?</p>\n"},{"tags":[],"owner":{"account_id":47523,"reputation":89773,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"down_vote_count":1,"up_vote_count":211,"is_accepted":true,"score":210,"last_activity_date":1346978099,"creation_date":1346976232,"answer_id":12310078,"question_id":12310017,"body_markdown":"Use [`Integer#toBinaryString()`][1]:\r\n\r\n    byte b1 = (byte) 129;\r\n    String s1 = String.format(&quot;%8s&quot;, Integer.toBinaryString(b1 &amp; 0xFF)).replace(&#39; &#39;, &#39;0&#39;);\r\n    System.out.println(s1); // 10000001\r\n\r\n    byte b2 = (byte) 2;\r\n    String s2 = String.format(&quot;%8s&quot;, Integer.toBinaryString(b2 &amp; 0xFF)).replace(&#39; &#39;, &#39;0&#39;);\r\n    System.out.println(s2); // 00000010\r\n\r\n**[DEMO][2]**.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toBinaryString%28int%29\r\n  [2]: http://ideone.com/xHojh","title":"How to convert a byte to its binary string representation","body":"<p>Use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toBinaryString%28int%29\"><code>Integer#toBinaryString()</code></a>:</p>\n\n<pre><code>byte b1 = (byte) 129;\nString s1 = String.format(\"%8s\", Integer.toBinaryString(b1 &amp; 0xFF)).replace(' ', '0');\nSystem.out.println(s1); // 10000001\n\nbyte b2 = (byte) 2;\nString s2 = String.format(\"%8s\", Integer.toBinaryString(b2 &amp; 0xFF)).replace(' ', '0');\nSystem.out.println(s2); // 00000010\n</code></pre>\n\n<p><strong><a href=\"http://ideone.com/xHojh\">DEMO</a></strong>.</p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122983,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1550921958,"creation_date":1346977150,"answer_id":12310176,"question_id":12310017,"body_markdown":"Is this what you are looking for?\r\n\r\nconverting from String to byte\t\r\n\r\n    byte b = (byte)(int)Integer.valueOf(&quot;10000010&quot;, 2);\r\n    System.out.println(b);// output -&gt; -126\r\n\r\nconverting from byte to String \t\r\n\r\n    System.out.println(Integer.toBinaryString((b+256)%256));// output -&gt; &quot;10000010&quot;\r\n    \r\nOr as Jo&#227;o Silva said in his comment to add leading `0` we can format string to length 8 and replace resulting leading spaces with zero, so in case of string like `&quot;    1010&quot;` we will get `&quot;00001010&quot;`\r\n\r\n    System.out.println(String.format(&quot;%8s&quot;, Integer.toBinaryString((b + 256) % 256))\r\n                             .replace(&#39; &#39;, &#39;0&#39;));","title":"How to convert a byte to its binary string representation","body":"<p>Is this what you are looking for?</p>\n\n<p>converting from String to byte  </p>\n\n<pre><code>byte b = (byte)(int)Integer.valueOf(\"10000010\", 2);\nSystem.out.println(b);// output -&gt; -126\n</code></pre>\n\n<p>converting from byte to String  </p>\n\n<pre><code>System.out.println(Integer.toBinaryString((b+256)%256));// output -&gt; \"10000010\"\n</code></pre>\n\n<p>Or as João Silva said in his comment to add leading <code>0</code> we can format string to length 8 and replace resulting leading spaces with zero, so in case of string like <code>\"    1010\"</code> we will get <code>\"00001010\"</code></p>\n\n<pre><code>System.out.println(String.format(\"%8s\", Integer.toBinaryString((b + 256) % 256))\n                         .replace(' ', '0'));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1100428,"reputation":5101,"user_id":1092951,"accept_rate":75,"display_name":"Raekye"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1701855057,"creation_date":1373057571,"answer_id":17496691,"question_id":12310017,"body_markdown":"I used this. Similar idea to other answers, but didn&#39;t see the exact approach anywhere :)\r\n\r\n    System.out.println(Integer.toBinaryString((b &amp; 0xFF) + 0x100).substring(1));\r\n\r\n* `0xFF`  = `255` =  `0b11111111` (max value for an unsigned byte)\r\n* `0x100` = `256` = `0b100000000`\r\n\r\nThe `&amp;` upcasts the byte to an integer. At that point, it can be anything from `[0;255]` (`[0b00000000 ; 0b11111111]`, I excluded the leading 24 bits). Adding `0x100` and then `.substring(1)` ensure there will be leading zeroes.\r\n\r\nI timed it compared to [Jo&#227;o Silva&#39;s answer](https://stackoverflow.com/a/12310078/1268003), and this is over 10 times faster. http://ideone.com/22DDK1 I didn&#39;t include Pshemo&#39;s answer as it doesn&#39;t pad properly.","title":"How to convert a byte to its binary string representation","body":"<p>I used this. Similar idea to other answers, but didn't see the exact approach anywhere :)</p>\n<pre><code>System.out.println(Integer.toBinaryString((b &amp; 0xFF) + 0x100).substring(1));\n</code></pre>\n<ul>\n<li><code>0xFF</code>  = <code>255</code> =  <code>0b11111111</code> (max value for an unsigned byte)</li>\n<li><code>0x100</code> = <code>256</code> = <code>0b100000000</code></li>\n</ul>\n<p>The <code>&amp;</code> upcasts the byte to an integer. At that point, it can be anything from <code>[0;255]</code> (<code>[0b00000000 ; 0b11111111]</code>, I excluded the leading 24 bits). Adding <code>0x100</code> and then <code>.substring(1)</code> ensure there will be leading zeroes.</p>\n<p>I timed it compared to <a href=\"https://stackoverflow.com/a/12310078/1268003\">João Silva's answer</a>, and this is over 10 times faster. <a href=\"http://ideone.com/22DDK1\" rel=\"nofollow noreferrer\">http://ideone.com/22DDK1</a> I didn't include Pshemo's answer as it doesn't pad properly.</p>\n"},{"tags":[],"owner":{"account_id":3464615,"reputation":109,"user_id":2900567,"display_name":"Naresh Maharaj"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1382288129,"creation_date":1382288129,"answer_id":19480156,"question_id":12310017,"body_markdown":"This code will demonstrate how a java int can be split up into its 4 consecutive bytes.\r\nWe can then inspect each byte using Java methods compared to low level byte / bit interrogation.\r\n\r\nThis is the expected output when you run the code below:\r\n\r\n    [Input] Integer value: 8549658\r\n\r\n    Integer.toBinaryString: 100000100111010100011010\r\n    Integer.toHexString: 82751a\r\n    Integer.bitCount: 10\r\n    \r\n    Byte 4th Hex Str: 0\r\n    Byte 3rd Hex Str: 820000\r\n    Byte 2nd Hex Str: 7500\r\n    Byte 1st Hex Str: 1a\r\n    \r\n    (1st + 2nd + 3rd + 4th (int(s)) as Integer.toHexString: 82751a\r\n    (1st + 2nd + 3rd + 4th (int(s)) ==  Integer.toHexString): true\r\n    \r\n    Individual bits for each byte in a 4 byte int:\r\n    00000000 10000010 01110101 00011010\r\n\r\nHere is the code to run:\r\n\r\n\r\n    public class BitsSetCount\r\n    {\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tint send = 8549658;\r\n    \r\n    \t\tSystem.out.println( &quot;[Input] Integer value: &quot; + send + &quot;\\n&quot; );\r\n    \t\tBitsSetCount.countBits(  send );\r\n    \t}\r\n    \r\n    \tprivate static void countBits(int i) \r\n    \t{\r\n    \t\tSystem.out.println( &quot;Integer.toBinaryString: &quot; + Integer.toBinaryString(i) );\r\n    \t\tSystem.out.println( &quot;Integer.toHexString: &quot; + Integer.toHexString(i) );\r\n    \t\tSystem.out.println( &quot;Integer.bitCount: &quot;+ Integer.bitCount(i) );\r\n    \r\n    \t\tint d = i &amp; 0xff000000;\r\n    \t\tint c = i &amp; 0xff0000;\r\n    \t\tint b = i &amp; 0xff00;\r\n    \t\tint a = i &amp; 0xff;\r\n    \r\n    \t\tSystem.out.println( &quot;\\nByte 4th Hex Str: &quot; + Integer.toHexString(d) );\r\n    \t\tSystem.out.println( &quot;Byte 3rd Hex Str: &quot; + Integer.toHexString(c) );\r\n    \t\tSystem.out.println( &quot;Byte 2nd Hex Str: &quot; + Integer.toHexString(b) );\r\n    \t\tSystem.out.println( &quot;Byte 1st Hex Str: &quot; + Integer.toHexString(a) );\r\n    \r\n    \t\tint all = a+b+c+d;\r\n    \t\tSystem.out.println( &quot;\\n(1st + 2nd + 3rd + 4th (int(s)) as Integer.toHexString: &quot; + Integer.toHexString(all) );\r\n    \r\n    \t\tSystem.out.println(&quot;(1st + 2nd + 3rd + 4th (int(s)) ==  Integer.toHexString): &quot; + \r\n    \t\t\t\tInteger.toHexString(all).equals(Integer.toHexString(i) ) );\r\n    \r\n    \t\tSystem.out.println( &quot;\\nIndividual bits for each byte in a 4 byte int:&quot;);\r\n    \t\t\r\n    \t\t/*\r\n    \t\t * Because we are sending the MSF bytes to a method\r\n    \t\t * which will work on a single byte and print some\r\n    \t\t * bits we are generalising the MSF bytes\r\n    \t\t * by making them all the same in terms of their position\r\n    \t\t * purely for the purpose of printing or analysis\r\n    \t\t */\r\n    \t\tSystem.out.print( \r\n    \t\t\t\t\tgetBits( (byte) (d &gt;&gt; 24) ) + &quot; &quot; + \r\n    \t\t\t\t\tgetBits( (byte) (c &gt;&gt; 16) ) + &quot; &quot; + \r\n    \t\t\t\t\tgetBits( (byte) (b &gt;&gt; 8) ) + &quot; &quot; + \r\n    \t\t\t\t\tgetBits( (byte) (a &gt;&gt; 0) ) \r\n    \t\t);\r\n    \r\n    \r\n    \t}\r\n    \r\n    \tprivate static String getBits( byte inByte )\r\n    \t{\r\n    \t\t// Go through each bit with a mask\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tfor ( int j = 0; j &lt; 8; j++ )\r\n    \t\t{\r\n    \t\t\t// Shift each bit by 1 starting at zero shift\r\n    \t\t\tbyte tmp =  (byte) ( inByte &gt;&gt; j );\r\n    \r\n    \t\t\t// Check byte with mask 00000001 for LSB\r\n    \t\t\tint expect1 = tmp &amp; 0x01; \r\n    \r\n    \t\t\tbuilder.append(expect1);\r\n    \t\t}\r\n    \t\treturn ( builder.reverse().toString() );\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to convert a byte to its binary string representation","body":"<p>This code will demonstrate how a java int can be split up into its 4 consecutive bytes.\nWe can then inspect each byte using Java methods compared to low level byte / bit interrogation.</p>\n\n<p>This is the expected output when you run the code below:</p>\n\n<pre><code>[Input] Integer value: 8549658\n\nInteger.toBinaryString: 100000100111010100011010\nInteger.toHexString: 82751a\nInteger.bitCount: 10\n\nByte 4th Hex Str: 0\nByte 3rd Hex Str: 820000\nByte 2nd Hex Str: 7500\nByte 1st Hex Str: 1a\n\n(1st + 2nd + 3rd + 4th (int(s)) as Integer.toHexString: 82751a\n(1st + 2nd + 3rd + 4th (int(s)) ==  Integer.toHexString): true\n\nIndividual bits for each byte in a 4 byte int:\n00000000 10000010 01110101 00011010\n</code></pre>\n\n<p>Here is the code to run:</p>\n\n<pre><code>public class BitsSetCount\n{\n    public static void main(String[] args) \n    {\n        int send = 8549658;\n\n        System.out.println( \"[Input] Integer value: \" + send + \"\\n\" );\n        BitsSetCount.countBits(  send );\n    }\n\n    private static void countBits(int i) \n    {\n        System.out.println( \"Integer.toBinaryString: \" + Integer.toBinaryString(i) );\n        System.out.println( \"Integer.toHexString: \" + Integer.toHexString(i) );\n        System.out.println( \"Integer.bitCount: \"+ Integer.bitCount(i) );\n\n        int d = i &amp; 0xff000000;\n        int c = i &amp; 0xff0000;\n        int b = i &amp; 0xff00;\n        int a = i &amp; 0xff;\n\n        System.out.println( \"\\nByte 4th Hex Str: \" + Integer.toHexString(d) );\n        System.out.println( \"Byte 3rd Hex Str: \" + Integer.toHexString(c) );\n        System.out.println( \"Byte 2nd Hex Str: \" + Integer.toHexString(b) );\n        System.out.println( \"Byte 1st Hex Str: \" + Integer.toHexString(a) );\n\n        int all = a+b+c+d;\n        System.out.println( \"\\n(1st + 2nd + 3rd + 4th (int(s)) as Integer.toHexString: \" + Integer.toHexString(all) );\n\n        System.out.println(\"(1st + 2nd + 3rd + 4th (int(s)) ==  Integer.toHexString): \" + \n                Integer.toHexString(all).equals(Integer.toHexString(i) ) );\n\n        System.out.println( \"\\nIndividual bits for each byte in a 4 byte int:\");\n\n        /*\n         * Because we are sending the MSF bytes to a method\n         * which will work on a single byte and print some\n         * bits we are generalising the MSF bytes\n         * by making them all the same in terms of their position\n         * purely for the purpose of printing or analysis\n         */\n        System.out.print( \n                    getBits( (byte) (d &gt;&gt; 24) ) + \" \" + \n                    getBits( (byte) (c &gt;&gt; 16) ) + \" \" + \n                    getBits( (byte) (b &gt;&gt; 8) ) + \" \" + \n                    getBits( (byte) (a &gt;&gt; 0) ) \n        );\n\n\n    }\n\n    private static String getBits( byte inByte )\n    {\n        // Go through each bit with a mask\n        StringBuilder builder = new StringBuilder();\n        for ( int j = 0; j &lt; 8; j++ )\n        {\n            // Shift each bit by 1 starting at zero shift\n            byte tmp =  (byte) ( inByte &gt;&gt; j );\n\n            // Check byte with mask 00000001 for LSB\n            int expect1 = tmp &amp; 0x01; \n\n            builder.append(expect1);\n        }\n        return ( builder.reverse().toString() );\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4471236,"reputation":71,"user_id":3637510,"display_name":"Martyn"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1400083735,"creation_date":1400083735,"answer_id":23659857,"question_id":12310017,"body_markdown":"You could check each bit on the byte then append either 0 or 1 to a string.  Here is a little helper method I wrote for testing:\r\n\r\n    public static String byteToString(byte b) {\r\n        byte[] masks = { -128, 64, 32, 16, 8, 4, 2, 1 };\r\n        StringBuilder builder = new StringBuilder();\r\n        for (byte m : masks) {\r\n            if ((b &amp; m) == m) {\r\n                builder.append(&#39;1&#39;);\r\n            } else {\r\n                builder.append(&#39;0&#39;);\r\n            }\r\n        }\r\n        return builder.toString();\r\n    }","title":"How to convert a byte to its binary string representation","body":"<p>You could check each bit on the byte then append either 0 or 1 to a string.  Here is a little helper method I wrote for testing:</p>\n\n<pre><code>public static String byteToString(byte b) {\n    byte[] masks = { -128, 64, 32, 16, 8, 4, 2, 1 };\n    StringBuilder builder = new StringBuilder();\n    for (byte m : masks) {\n        if ((b &amp; m) == m) {\n            builder.append('1');\n        } else {\n            builder.append('0');\n        }\n    }\n    return builder.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1163679,"reputation":553,"user_id":1142701,"accept_rate":67,"display_name":"jamee"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1426934683,"creation_date":1426911986,"answer_id":29179246,"question_id":12310017,"body_markdown":"Get each bit of byte and convert to string.\r\nSay byte has 8 bits, and we can get them one by one via bit move. For example, we move the second bit of the byte 6 bits to right, the second bit at last of bit of 8 bits, then and(&amp;) with 0x0001 to clean the front bits.\r\n\r\n    public static String getByteBinaryString(byte b) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 7; i &gt;= 0; --i) {\r\n            sb.append(b &gt;&gt;&gt; i &amp; 1);\r\n        }\r\n        return sb.toString();\r\n    }","title":"How to convert a byte to its binary string representation","body":"<p>Get each bit of byte and convert to string.\nSay byte has 8 bits, and we can get them one by one via bit move. For example, we move the second bit of the byte 6 bits to right, the second bit at last of bit of 8 bits, then and(&amp;) with 0x0001 to clean the front bits.</p>\n\n<pre><code>public static String getByteBinaryString(byte b) {\n    StringBuilder sb = new StringBuilder();\n    for (int i = 7; i &gt;= 0; --i) {\n        sb.append(b &gt;&gt;&gt; i &amp; 1);\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1481400,"reputation":3017,"user_id":1390697,"accept_rate":50,"display_name":"Shahidul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431203113,"creation_date":1431203113,"answer_id":30144651,"question_id":12310017,"body_markdown":"    String byteToBinaryString(byte b){\r\n    \tStringBuilder binaryStringBuilder = new StringBuilder();\r\n    \tfor(int i = 0; i &lt; 8; i++)\r\n    \t\tbinaryStringBuilder.append(((0x80 &gt;&gt;&gt; i) &amp; b) == 0? &#39;0&#39;:&#39;1&#39;);\r\n    \treturn binaryStringBuilder.toString();\r\n    }","title":"How to convert a byte to its binary string representation","body":"<pre><code>String byteToBinaryString(byte b){\n    StringBuilder binaryStringBuilder = new StringBuilder();\n    for(int i = 0; i &lt; 8; i++)\n        binaryStringBuilder.append(((0x80 &gt;&gt;&gt; i) &amp; b) == 0? '0':'1');\n    return binaryStringBuilder.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7853419,"reputation":120,"user_id":5936155,"display_name":"Jp Silver"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570726150,"creation_date":1455743987,"answer_id":35467962,"question_id":12310017,"body_markdown":"Sorry i know this is a bit late... But i have a much easier way...\r\nTo binary string : \r\n\r\n    //Add 128 to get a value from 0 - 255\r\n    String bs = Integer.toBinaryString(data[i]+128);\r\n    bs = getCorrectBits(bs, 8);\r\n\r\ngetCorrectBits method : \r\n\r\n    private static String getCorrectBits(String bitStr, int max){\r\n        //Create a temp string to add all the zeros\r\n        StringBuilder sb = new StringBuilder();\r\n        for(int i = 0; i &lt; (max - bitStr.length()); i ++){\r\n            sb.append(&quot;0&quot;);\r\n        }\r\n        \r\n        return sb.toString()+ bitStr;\r\n    }","title":"How to convert a byte to its binary string representation","body":"<p>Sorry i know this is a bit late... But i have a much easier way...\nTo binary string : </p>\n\n<pre><code>//Add 128 to get a value from 0 - 255\nString bs = Integer.toBinaryString(data[i]+128);\nbs = getCorrectBits(bs, 8);\n</code></pre>\n\n<p>getCorrectBits method : </p>\n\n<pre><code>private static String getCorrectBits(String bitStr, int max){\n    //Create a temp string to add all the zeros\n    StringBuilder sb = new StringBuilder();\n    for(int i = 0; i &lt; (max - bitStr.length()); i ++){\n        sb.append(\"0\");\n    }\n\n    return sb.toString()+ bitStr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102066,"reputation":5017,"user_id":274205,"accept_rate":75,"display_name":"Timofey Gorshkov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527253413,"creation_date":1527253413,"answer_id":50529919,"question_id":12310017,"body_markdown":"    Integer.toBinaryString((byteValue &amp; 0xFF) + 256).substring(1)","title":"How to convert a byte to its binary string representation","body":"<pre><code>Integer.toBinaryString((byteValue &amp; 0xFF) + 256).substring(1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7008272,"reputation":7615,"user_id":5372008,"display_name":"Teocci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562144191,"creation_date":1562144191,"answer_id":56866409,"question_id":12310017,"body_markdown":"We all know that Java does not provide anything like the unsigned keyword. Moreover, a `byte` primitive according to the Java&#39;s spec represents a value between `−128` and `127`. For instance, if a `byte` is `cast` to an `int` Java will interpret the first `bit` as the `sign` and use sign extension.\r\n\r\n### Then, how to convert a byte greater than `127` to its binary string representation ??\r\nNothing prevents you from viewing a `byte` simply as 8-bits and interpret those bits as a value between `0` and `255`. Also, you need to keep in mind that there&#39;s nothing you can do to force your interpretation upon someone else&#39;s method. If a method accepts a `byte`, then that method accepts a value between `−128` and `127` unless explicitly stated otherwise.\r\n\r\nSo the best way to solve this is convert the `byte` value to an `int` value by calling the `Byte.toUnsignedInt()` method or casting it as a `int` primitive `(int) signedByte &amp; 0xFF`. Here you have an example:   \r\n\r\n```java\r\npublic class BinaryOperations\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        byte forbiddenZeroBit = (byte) 0x80;\r\n\r\n        buffer[0] = (byte) (forbiddenZeroBit &amp; 0xFF);\r\n        buffer[1] = (byte) ((forbiddenZeroBit | (49 &lt;&lt; 1)) &amp; 0xFF);\r\n        buffer[2] = (byte) 96;\r\n        buffer[3] = (byte) 234;\r\n\r\n        System.out.println(&quot;8-bit header:&quot;);\r\n        printBynary(buffer);\r\n    }\r\n\r\n    public static void printBuffer(byte[] buffer)\r\n    {\r\n        for (byte num : buffer) {\r\n            printBynary(num);\r\n        }\r\n    }\r\n\r\n    public static void printBynary(byte num)\r\n    {\r\n        int aux = Byte.toUnsignedInt(num);\r\n        // int aux = (int) num &amp; 0xFF; \r\n        String binary = String.format(&quot;%8s&#39;, Integer.toBinaryString(aux)).replace(&#39; &#39;, &#39;0&#39;);\r\n        System.out.println(binary);\r\n    }\r\n}\r\n```\r\n\r\n### Output\r\n```sh\r\n8-bit header:\r\n10000000\r\n11100010\r\n01100000\r\n11101010\r\n```\r\n\r\n\r\n","title":"How to convert a byte to its binary string representation","body":"<p>We all know that Java does not provide anything like the unsigned keyword. Moreover, a <code>byte</code> primitive according to the Java's spec represents a value between <code>−128</code> and <code>127</code>. For instance, if a <code>byte</code> is <code>cast</code> to an <code>int</code> Java will interpret the first <code>bit</code> as the <code>sign</code> and use sign extension.</p>\n\n<h3>Then, how to convert a byte greater than <code>127</code> to its binary string representation ??</h3>\n\n<p>Nothing prevents you from viewing a <code>byte</code> simply as 8-bits and interpret those bits as a value between <code>0</code> and <code>255</code>. Also, you need to keep in mind that there's nothing you can do to force your interpretation upon someone else's method. If a method accepts a <code>byte</code>, then that method accepts a value between <code>−128</code> and <code>127</code> unless explicitly stated otherwise.</p>\n\n<p>So the best way to solve this is convert the <code>byte</code> value to an <code>int</code> value by calling the <code>Byte.toUnsignedInt()</code> method or casting it as a <code>int</code> primitive <code>(int) signedByte &amp; 0xFF</code>. Here you have an example:   </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class BinaryOperations\n{\n    public static void main(String[] args)\n    {\n        byte forbiddenZeroBit = (byte) 0x80;\n\n        buffer[0] = (byte) (forbiddenZeroBit &amp; 0xFF);\n        buffer[1] = (byte) ((forbiddenZeroBit | (49 &lt;&lt; 1)) &amp; 0xFF);\n        buffer[2] = (byte) 96;\n        buffer[3] = (byte) 234;\n\n        System.out.println(\"8-bit header:\");\n        printBynary(buffer);\n    }\n\n    public static void printBuffer(byte[] buffer)\n    {\n        for (byte num : buffer) {\n            printBynary(num);\n        }\n    }\n\n    public static void printBynary(byte num)\n    {\n        int aux = Byte.toUnsignedInt(num);\n        // int aux = (int) num &amp; 0xFF; \n        String binary = String.format(\"%8s', Integer.toBinaryString(aux)).replace(' ', '0');\n        System.out.println(binary);\n    }\n}\n</code></pre>\n\n<h3>Output</h3>\n\n<pre class=\"lang-sh prettyprint-override\"><code>8-bit header:\n10000000\n11100010\n01100000\n11101010\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16701260,"reputation":41,"user_id":12070962,"display_name":"Josef Panerio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1582401983,"creation_date":1582401555,"answer_id":60356240,"question_id":12310017,"body_markdown":"You can work with ***BigInteger*** like below example, most especially if you have **256 bit** or longer:\r\n\r\n    String string = &quot;10000010&quot;;\r\n    BigInteger biStr = new BigInteger(string, 2);\r\n    \r\n    System.out.println(&quot;binary: &quot; + biStr.toString(2));\r\n    System.out.println(&quot;hex: &quot; + biStr.toString(16));\r\n    System.out.println(&quot;dec: &quot; + biStr.toString(10));\r\n\r\n**Another example which accepts bytes:**\r\n\r\n    String string = &quot;The girl on the red dress.&quot;;\r\n    \t\t\r\n    byte[] byteString = string.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n    System.out.println(&quot;[Input String]: &quot; + string);\r\n    System.out.println(&quot;[Encoded String UTF-8]: &quot; + byteString);\r\n    \r\n    BigInteger biStr = new BigInteger(byteString);\r\n    System.out.println(&quot;binary: &quot; + biStr.toString(2)); // binary\r\n    System.out.println(&quot;hex: &quot; + biStr.toString(16));   // hex or base 16\r\n    System.out.println(&quot;dec: &quot; + biStr.toString(10));  // this is base 10\r\n\r\n**Result:**\r\n\r\n    [Input String]: The girl on the red dress.\r\n    [Encoded String UTF-8]: [B@70dea4e\r\n    \r\n    binary: 101010001101000011001010010000001100111011010010111001001101100001000000110111101101110001000000111010001101000011001010010000001110010011001010110010000100000011001000111001001100101011100110111001100101110\r\n    hex: 546865206769726c206f6e20746865207265642064726573732e\r\n\r\n\r\n----------\r\nYou can also work to convert **Binary** to **Byte** format\r\n\r\n    try {\r\n       System.out.println(&quot;binary to byte: &quot; + biStr.toString(2).getBytes(&quot;UTF-8&quot;));\r\n    } catch (UnsupportedEncodingException e) {e.printStackTrace();}\r\n\r\n----------\r\n*Note:*\r\nFor string formatting for your Binary format you can use below sample\r\n\r\n    String.format(&quot;%256s&quot;, biStr.toString(2).replace(&#39; &#39;, &#39;0&#39;));  // this is for the 256 bit formatting","title":"How to convert a byte to its binary string representation","body":"<p>You can work with <strong><em>BigInteger</em></strong> like below example, most especially if you have <strong>256 bit</strong> or longer:</p>\n\n<pre><code>String string = \"10000010\";\nBigInteger biStr = new BigInteger(string, 2);\n\nSystem.out.println(\"binary: \" + biStr.toString(2));\nSystem.out.println(\"hex: \" + biStr.toString(16));\nSystem.out.println(\"dec: \" + biStr.toString(10));\n</code></pre>\n\n<p><strong>Another example which accepts bytes:</strong></p>\n\n<pre><code>String string = \"The girl on the red dress.\";\n\nbyte[] byteString = string.getBytes(Charset.forName(\"UTF-8\"));\nSystem.out.println(\"[Input String]: \" + string);\nSystem.out.println(\"[Encoded String UTF-8]: \" + byteString);\n\nBigInteger biStr = new BigInteger(byteString);\nSystem.out.println(\"binary: \" + biStr.toString(2)); // binary\nSystem.out.println(\"hex: \" + biStr.toString(16));   // hex or base 16\nSystem.out.println(\"dec: \" + biStr.toString(10));  // this is base 10\n</code></pre>\n\n<p><strong>Result:</strong></p>\n\n<pre><code>[Input String]: The girl on the red dress.\n[Encoded String UTF-8]: [B@70dea4e\n\nbinary: 101010001101000011001010010000001100111011010010111001001101100001000000110111101101110001000000111010001101000011001010010000001110010011001010110010000100000011001000111001001100101011100110111001100101110\nhex: 546865206769726c206f6e20746865207265642064726573732e\n</code></pre>\n\n<hr>\n\n<p>You can also work to convert <strong>Binary</strong> to <strong>Byte</strong> format</p>\n\n<pre><code>try {\n   System.out.println(\"binary to byte: \" + biStr.toString(2).getBytes(\"UTF-8\"));\n} catch (UnsupportedEncodingException e) {e.printStackTrace();}\n</code></pre>\n\n<hr>\n\n<p><em>Note:</em>\nFor string formatting for your Binary format you can use below sample</p>\n\n<pre><code>String.format(\"%256s\", biStr.toString(2).replace(' ', '0'));  // this is for the 256 bit formatting\n</code></pre>\n"},{"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598250242,"creation_date":1598211187,"answer_id":63551208,"question_id":12310017,"body_markdown":"A simple answer could be:\r\n\r\n    System.out.println(new BigInteger(new byte[]{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0})); // 0\r\n    System.out.println(new BigInteger(new byte[]{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1})); // 1\r\n    System.out.println(new BigInteger(new byte[]{0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0})); // 256\r\n    System.out.println(new BigInteger(new byte[]{0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0})); // 65536\r\n    System.out.println(new BigInteger(new byte[]{0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0})); // 16777216\r\n    System.out.println(new BigInteger(new byte[]{0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0})); // 4294967296\r\n    System.out.println(new BigInteger(new byte[]{0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0})); // 1099511627776\r\n    System.out.println(new BigInteger(new byte[]{0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0})); // 281474976710656\r\n    System.out.println(new BigInteger(new byte[]{0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0})); // 72057594037927936\r\n    System.out.println(new BigInteger(new byte[]{0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0})); // 18446744073709551616\r\n    System.out.println(new BigInteger(new byte[]{0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0})); // 4722366482869645213696\r\n    System.out.println(new BigInteger(new byte[]{1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0})); // 1208925819614629174706176\r\n    System.out.println(Long.MAX_VALUE);                                              // 9223372036854775807","title":"How to convert a byte to its binary string representation","body":"<p>A simple answer could be:</p>\n<pre><code>System.out.println(new BigInteger(new byte[]{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0})); // 0\nSystem.out.println(new BigInteger(new byte[]{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1})); // 1\nSystem.out.println(new BigInteger(new byte[]{0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0})); // 256\nSystem.out.println(new BigInteger(new byte[]{0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0})); // 65536\nSystem.out.println(new BigInteger(new byte[]{0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0})); // 16777216\nSystem.out.println(new BigInteger(new byte[]{0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0})); // 4294967296\nSystem.out.println(new BigInteger(new byte[]{0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0})); // 1099511627776\nSystem.out.println(new BigInteger(new byte[]{0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0})); // 281474976710656\nSystem.out.println(new BigInteger(new byte[]{0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0})); // 72057594037927936\nSystem.out.println(new BigInteger(new byte[]{0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0})); // 18446744073709551616\nSystem.out.println(new BigInteger(new byte[]{0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0})); // 4722366482869645213696\nSystem.out.println(new BigInteger(new byte[]{1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0})); // 1208925819614629174706176\nSystem.out.println(Long.MAX_VALUE);                                              // 9223372036854775807\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12931671,"reputation":144,"user_id":9350512,"display_name":"rloeffel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604397820,"creation_date":1604397820,"answer_id":64660628,"question_id":12310017,"body_markdown":"Just another hint for those who need to massively convert bytes to binary strings: Use a lookup table instead of using those String operation all the time. This is a lot faster than calling the convert function over and over again\r\n\r\n    public class ByteConverterUtil {\r\n    \r\n      private static final String[] LOOKUP_TABLE = IntStream.range(0, Byte.MAX_VALUE - Byte.MIN_VALUE + 1)\r\n                                                            .mapToObj(intValue -&gt; Integer.toBinaryString(intValue + 0x100).substring(1))\r\n                                                            .toArray(String[]::new);\r\n    \r\n      public static String convertByte(final byte byteValue) {\r\n        return LOOKUP_TABLE[Byte.toUnsignedInt(byteValue)];\r\n      }\r\n    \r\n      public static void main(String[] args){\r\n        System.out.println(convertByte((byte)0)); //00000000\r\n        System.out.println(convertByte((byte)2)); //00000010\r\n        System.out.println(convertByte((byte)129)); //10000001\r\n        System.out.println(convertByte((byte)255)); //11111111\r\n      }\r\n    \r\n    \r\n    }\r\n\r\n\r\n","title":"How to convert a byte to its binary string representation","body":"<p>Just another hint for those who need to massively convert bytes to binary strings: Use a lookup table instead of using those String operation all the time. This is a lot faster than calling the convert function over and over again</p>\n<pre><code>public class ByteConverterUtil {\n\n  private static final String[] LOOKUP_TABLE = IntStream.range(0, Byte.MAX_VALUE - Byte.MIN_VALUE + 1)\n                                                        .mapToObj(intValue -&gt; Integer.toBinaryString(intValue + 0x100).substring(1))\n                                                        .toArray(String[]::new);\n\n  public static String convertByte(final byte byteValue) {\n    return LOOKUP_TABLE[Byte.toUnsignedInt(byteValue)];\n  }\n\n  public static void main(String[] args){\n    System.out.println(convertByte((byte)0)); //00000000\n    System.out.println(convertByte((byte)2)); //00000010\n    System.out.println(convertByte((byte)129)); //10000001\n    System.out.println(convertByte((byte)255)); //11111111\n  }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":290130,"reputation":4317,"user_id":591506,"accept_rate":89,"display_name":"Sean"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262330,"favorite_count":0,"down_vote_count":1,"up_vote_count":120,"accepted_answer_id":12310078,"answer_count":14,"score":119,"last_activity_date":1701855057,"creation_date":1346975767,"question_id":12310017,"body_markdown":"For example, the bits in a byte `B` are `10000010`, how can I assign the bits to the string `str` literally, that is, `str = &quot;10000010&quot;`. \n\n**Edit**\n\n  I read the byte from a binary file, and stored in the byte array `B`. I use `System.out.println(Integer.toBinaryString(B[i]))`.  the problem is \n\n(a) when the bits begin with (leftmost) 1, the output is not correct because it converts `B[i]` to a negative int value. \n\n(b) if the bits begin with `0`, the output ignore `0`, for example, assume `B[0]` has 00000001, the output is `1` instead of `00000001`","title":"How to convert a byte to its binary string representation","body":"<p>For example, the bits in a byte <code>B</code> are <code>10000010</code>, how can I assign the bits to the string <code>str</code> literally, that is, <code>str = &quot;10000010&quot;</code>.</p>\n<p><strong>Edit</strong></p>\n<p>I read the byte from a binary file, and stored in the byte array <code>B</code>. I use <code>System.out.println(Integer.toBinaryString(B[i]))</code>.  the problem is</p>\n<p>(a) when the bits begin with (leftmost) 1, the output is not correct because it converts <code>B[i]</code> to a negative int value.</p>\n<p>(b) if the bits begin with <code>0</code>, the output ignore <code>0</code>, for example, assume <code>B[0]</code> has 00000001, the output is <code>1</code> instead of <code>00000001</code></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9848,"page":11,"page_size":100}
