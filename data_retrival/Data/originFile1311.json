{"items":[{"tags":["java","html","spring-boot","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":14008000,"reputation":259,"user_id":10117515,"display_name":"Supritam"},"score":0,"creation_date":1653647380,"post_id":72403894,"comment_id":127906832,"body_markdown":"How is index.html loaded? embeded in places.html? Ideally the scope of listPlaces is only valid when rendering of places.html is being done. If you are putting listPlaces in session then while rendering index.html on server meaning through controller, you will be able to get it, if index.html is not rendered through any controller then listPlaces is not accessible.","body":"How is index.html loaded? embeded in places.html? Ideally the scope of listPlaces is only valid when rendering of places.html is being done. If you are putting listPlaces in session then while rendering index.html on server meaning through controller, you will be able to get it, if index.html is not rendered through any controller then listPlaces is not accessible."},{"owner":{"account_id":23204538,"reputation":107,"user_id":17298934,"display_name":"Boris Ivanov"},"score":2,"creation_date":1653647513,"post_id":72403894,"comment_id":127906880,"body_markdown":"You must to add a ***Model Attribute***  with a ***listPlaces*** in the controller Index.html","body":"You must to add a <b><i>Model Attribute</i></b>  with a <b><i>listPlaces</i></b> in the controller Index.html"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653647389,"creation_date":1653647389,"answer_id":72404024,"question_id":72403894,"body_markdown":"I think you are asking two things.\r\n\r\n1. How to return the same places for two endpoints?\r\n2. How to reuse the table with all my places?\r\n\r\nThe answer to the first question is to have an IndexController, which fills the model the same way as the PlaceController does. You could create an CommonAttributesService, which could provide a method to fill common attributes as follows:\r\n\r\n```java\r\n@Service\r\npublic class CommonAttributesService\r\n{\r\n\tprivate PlaceService placeService;\r\n\tpublic CommonAttributesService(PlaceService placeService)\r\n\t{\r\n\t\tthis.placeService = placeService;\r\n\t}\r\n\r\n\tpublic void fillCommonAttributes(Model model)\r\n\t{\r\n\t\tmodel.addAttribute(&quot;listPlaces&quot;, placeService.getAllPlaces());\r\n\t}\r\n}\r\n```\r\n\r\nThis way, you don&#39;t need to duplicate the logic.\r\n\r\nAnd the asnwer to the second question is to use [thymeleaf templates][1].\r\n\r\n\r\n  [1]: https://www.thymeleaf.org/doc/articles/layouts.html","title":"How to access data of spring model in another html page?","body":"<p>I think you are asking two things.</p>\n<ol>\n<li>How to return the same places for two endpoints?</li>\n<li>How to reuse the table with all my places?</li>\n</ol>\n<p>The answer to the first question is to have an IndexController, which fills the model the same way as the PlaceController does. You could create an CommonAttributesService, which could provide a method to fill common attributes as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class CommonAttributesService\n{\n    private PlaceService placeService;\n    public CommonAttributesService(PlaceService placeService)\n    {\n        this.placeService = placeService;\n    }\n\n    public void fillCommonAttributes(Model model)\n    {\n        model.addAttribute(&quot;listPlaces&quot;, placeService.getAllPlaces());\n    }\n}\n</code></pre>\n<p>This way, you don't need to duplicate the logic.</p>\n<p>And the asnwer to the second question is to use <a href=\"https://www.thymeleaf.org/doc/articles/layouts.html\" rel=\"nofollow noreferrer\">thymeleaf templates</a>.</p>\n"},{"tags":[],"owner":{"account_id":24705141,"reputation":31,"user_id":18596055,"display_name":"Mohammed Haydar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653648399,"creation_date":1653648399,"answer_id":72404185,"question_id":72403894,"body_markdown":"I have added a Model Attribute with a listPlaces in the controller index.html\r\n\r\n```java\r\n @RequestMapping(&quot;/index&quot;)\r\n    public String index(Model model) {\r\n        model.addAttribute(&quot;listP&quot;, placeService.getAllPlaces());\r\n        return &quot;index&quot;;\r\n    }\r\n```\r\n\r\nThen I used in index.html\r\n\r\n```javascript\r\n&lt;script th:inline=&quot;javascript&quot;&gt;\r\n        /*&lt;![CDATA[*/\r\n        // Initialize and add the map\r\n        function initMap() {\r\n            var places = [[${listP}]];\r\n&lt;/script&gt;\r\n```\r\n\r\ncredits to [boris-ivanov](https://stackoverflow.com/users/17298934/boris-ivanov)\r\n","title":"How to access data of spring model in another html page?","body":"<p>I have added a Model Attribute with a listPlaces in the controller index.html</p>\n<pre class=\"lang-java prettyprint-override\"><code> @RequestMapping(&quot;/index&quot;)\n    public String index(Model model) {\n        model.addAttribute(&quot;listP&quot;, placeService.getAllPlaces());\n        return &quot;index&quot;;\n    }\n</code></pre>\n<p>Then I used in index.html</p>\n<pre class=\"lang-js prettyprint-override\"><code>&lt;script th:inline=&quot;javascript&quot;&gt;\n        /*&lt;![CDATA[*/\n        // Initialize and add the map\n        function initMap() {\n            var places = [[${listP}]];\n&lt;/script&gt;\n</code></pre>\n<p>credits to <a href=\"https://stackoverflow.com/users/17298934/boris-ivanov\">boris-ivanov</a></p>\n"}],"owner":{"account_id":24705141,"reputation":31,"user_id":18596055,"display_name":"Mohammed Haydar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72404185,"answer_count":2,"score":0,"last_activity_date":1653648399,"creation_date":1653646734,"question_id":72403894,"body_markdown":"PlaceController.java\r\n\r\n```\r\n@GetMapping(&quot;/places&quot;)\r\n    public String listPlaces(Model model, HttpSession session) {\r\n        //keys and values , access this key using thymeleaf syntax ${listPlaces}\r\n        model.addAttribute(&quot;listPlaces&quot;, placeService.getAllPlaces());\r\n        return &quot;place/places&quot;;\r\n    }\r\n```\r\nI need to get the listPlaces data from places.html to index.html I tried to create session but yet I can&#39;t call it from the index page\r\n\r\n```\r\n            &lt;tbody&gt;\r\n                &lt;tr  th:each=&quot;place: ${listPlaces}&quot; &gt;\r\n                    &lt;td th:text=&quot;${place.place_id}&quot;&gt;Place Id&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${place.name}&quot;&gt;Place Name&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${place.city_name}&quot;&gt;City Name&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${place.description}&quot;&gt;Place Description&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${place.longitude}&quot;&gt;Place Longitude&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${place.latitude}&quot;&gt;Place Latitude&lt;/td&gt;\r\n                    &lt;td&gt;&lt;img th:src=&quot;${&#39;data:image/png;charset=utf-8;base64,&#39; + place.byteToString(place.image)}&quot; height=&quot;150px&quot; width=&quot;150px&quot; alt=&quot;img&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${place.category}&quot;&gt;Place Category&lt;/td&gt;\r\n                    &lt;td&gt;\r\n                        &lt;a th:href=&quot;@{/places/edit/{id}(id=${place.place_id})}&quot; class=&quot;btn btn-primary&quot;&gt;Update&lt;/a&gt;\r\n                        &lt;a th:href=&quot;@{/places/{id}(id=${place.place_id})}&quot; class=&quot;btn btn-danger&quot;&gt;Delete&lt;/a&gt;\r\n                    &lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n```","title":"How to access data of spring model in another html page?","body":"<p>PlaceController.java</p>\n<pre><code>@GetMapping(&quot;/places&quot;)\n    public String listPlaces(Model model, HttpSession session) {\n        //keys and values , access this key using thymeleaf syntax ${listPlaces}\n        model.addAttribute(&quot;listPlaces&quot;, placeService.getAllPlaces());\n        return &quot;place/places&quot;;\n    }\n</code></pre>\n<p>I need to get the listPlaces data from places.html to index.html I tried to create session but yet I can't call it from the index page</p>\n<pre><code>            &lt;tbody&gt;\n                &lt;tr  th:each=&quot;place: ${listPlaces}&quot; &gt;\n                    &lt;td th:text=&quot;${place.place_id}&quot;&gt;Place Id&lt;/td&gt;\n                    &lt;td th:text=&quot;${place.name}&quot;&gt;Place Name&lt;/td&gt;\n                    &lt;td th:text=&quot;${place.city_name}&quot;&gt;City Name&lt;/td&gt;\n                    &lt;td th:text=&quot;${place.description}&quot;&gt;Place Description&lt;/td&gt;\n                    &lt;td th:text=&quot;${place.longitude}&quot;&gt;Place Longitude&lt;/td&gt;\n                    &lt;td th:text=&quot;${place.latitude}&quot;&gt;Place Latitude&lt;/td&gt;\n                    &lt;td&gt;&lt;img th:src=&quot;${'data:image/png;charset=utf-8;base64,' + place.byteToString(place.image)}&quot; height=&quot;150px&quot; width=&quot;150px&quot; alt=&quot;img&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${place.category}&quot;&gt;Place Category&lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;a th:href=&quot;@{/places/edit/{id}(id=${place.place_id})}&quot; class=&quot;btn btn-primary&quot;&gt;Update&lt;/a&gt;\n                        &lt;a th:href=&quot;@{/places/{id}(id=${place.place_id})}&quot; class=&quot;btn btn-danger&quot;&gt;Delete&lt;/a&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n</code></pre>\n"},{"tags":["java","double","precision"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1653577368,"post_id":72393237,"comment_id":127889687,"body_markdown":"Documentation - `Double.toString`: &quot;There must be at least one digit to represent the fractional part, and beyond that as many, but only as many, more digits as are needed to uniquely distinguish the argument value from adjacent values of type double.&quot;  ||  `%f`: &quot; If the precision is less than the number of digits which would appear after the decimal point in the string returned by Float.toString(float) or Double.toString(double) respectively, then ... . Otherwise, zeros may be appended to reach the precision.&quot;","body":"Documentation - <code>Double.toString</code>: &quot;There must be at least one digit to represent the fractional part, and beyond that as many, but only as many, more digits as are needed to uniquely distinguish the argument value from adjacent values of type double.&quot;  ||  <code>%f</code>: &quot; If the precision is less than the number of digits which would appear after the decimal point in the string returned by Float.toString(float) or Double.toString(double) respectively, then ... . Otherwise, zeros may be appended to reach the precision.&quot;"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1653580453,"post_id":72393237,"comment_id":127890907,"body_markdown":"@user16320675 thanks, that explains it! Also, it can be demonstrated using `Math.nextAfter`.","body":"@user16320675 thanks, that explains it! Also, it can be demonstrated using <code>Math.nextAfter</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653580858,"post_id":72393237,"comment_id":127891058,"body_markdown":"Please write, post, and accept an Answer to your own Question, for posterity.","body":"Please write, post, and accept an Answer to your own Question, for posterity."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1653638934,"post_id":72393237,"comment_id":127904070,"body_markdown":"@BasilBourque as per your suggestion, I&#39;ve answered my question, but on reflection I think my answer doesn&#39;t make sense. Why does it return `&quot;9.8853048355149491E17&quot;` when it could return one less digit, i.e. `&quot;9.885304835514949E17&quot;`, and still be distinguishable from adjacent values?","body":"@BasilBourque as per your suggestion, I&#39;ve answered my question, but on reflection I think my answer doesn&#39;t make sense. Why does it return <code>&quot;9.8853048355149491E17&quot;</code> when it could return one less digit, i.e. <code>&quot;9.885304835514949E17&quot;</code>, and still be distinguishable from adjacent values?"}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653648146,"creation_date":1653638508,"answer_id":72402278,"question_id":72393237,"body_markdown":"Thanks to @user16320675&#39;s comment, I&#39;m answering my own question. The reason is that the number `988530483551494912L` has precision beyond the limit of the `double` type&#39;s precision, and `Double.toString()` (and similarly `%f`) will, as per documentation, only use the minimum number of significant digits required to distinguish a `double` number from adjacent numbers. Adjacent numbers are those that have the smallest representable difference from the original, on either side of it.\r\n\r\nThis can be demonstrated using `Math.nextAfter` to show the adjacent numbers:\r\n\r\n    import static java.lang.Math.nextAfter;\r\n    double x = (double)988530483551494912;\r\n    System.out.println(nextAfter(x, Double.MIN_VALUE));  ==&gt; 9.8853048355149478E17\r\n    System.out.println(x);                               ==&gt; 9.8853048355149491E17\r\n    System.out.println(nextAfter(x, Double.MAX_VALUE));  ==&gt; 9.8853048355149504E17\r\n\r\nSo, as we can see, there is no point in adding any more significant figures because this string representation already has enough digits to distinguish the number from adjacent values.\r\n\r\nHowever, a question still remains: it shows 17 significant figures, but 16 would be sufficient. I&#39;m not sure why it issues an extra final digit.","title":"Loss of precision in decimal display of double","body":"<p>Thanks to @user16320675's comment, I'm answering my own question. The reason is that the number <code>988530483551494912L</code> has precision beyond the limit of the <code>double</code> type's precision, and <code>Double.toString()</code> (and similarly <code>%f</code>) will, as per documentation, only use the minimum number of significant digits required to distinguish a <code>double</code> number from adjacent numbers. Adjacent numbers are those that have the smallest representable difference from the original, on either side of it.</p>\n<p>This can be demonstrated using <code>Math.nextAfter</code> to show the adjacent numbers:</p>\n<pre><code>import static java.lang.Math.nextAfter;\ndouble x = (double)988530483551494912;\nSystem.out.println(nextAfter(x, Double.MIN_VALUE));  ==&gt; 9.8853048355149478E17\nSystem.out.println(x);                               ==&gt; 9.8853048355149491E17\nSystem.out.println(nextAfter(x, Double.MAX_VALUE));  ==&gt; 9.8853048355149504E17\n</code></pre>\n<p>So, as we can see, there is no point in adding any more significant figures because this string representation already has enough digits to distinguish the number from adjacent values.</p>\n<p>However, a question still remains: it shows 17 significant figures, but 16 would be sufficient. I'm not sure why it issues an extra final digit.</p>\n"}],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72402278,"answer_count":1,"score":3,"last_activity_date":1653648146,"creation_date":1653574364,"question_id":72393237,"body_markdown":"Why is there a discrepancy in the display of the following value?\r\n\r\n    double x = (double)988530483551494912L;\r\n    System.out.printf(&quot;%f%n&quot;, x);           -&gt; 988530483551494910.000000\r\n    System.out.println(Double.toString(x)); -&gt; 9.8853048355149491E17\r\n    System.out.println(new BigDecimal(x));  -&gt; 988530483551494912\r\n\r\nAs you can see, both `toString()` and the `%f` conversion lose the precision of the last digit. However, we can see that the last digit is actually precise, because the `BigDecimal` conversion preserves it.","title":"Loss of precision in decimal display of double","body":"<p>Why is there a discrepancy in the display of the following value?</p>\n<pre><code>double x = (double)988530483551494912L;\nSystem.out.printf(&quot;%f%n&quot;, x);           -&gt; 988530483551494910.000000\nSystem.out.println(Double.toString(x)); -&gt; 9.8853048355149491E17\nSystem.out.println(new BigDecimal(x));  -&gt; 988530483551494912\n</code></pre>\n<p>As you can see, both <code>toString()</code> and the <code>%f</code> conversion lose the precision of the last digit. However, we can see that the last digit is actually precise, because the <code>BigDecimal</code> conversion preserves it.</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1576848926,"post_id":59426087,"comment_id":105038285,"body_markdown":"https://javadoc.io/static/org.mockito/mockito-core/3.2.4/org/mockito/Mockito.html#12","body":"<a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.2.4/org/mockito/Mockito.html#12\" rel=\"nofollow noreferrer\">javadoc.io/static/org.mockito/mockito-core/3.2.4/org/mockito&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":5595244,"reputation":355,"user_id":4433222,"display_name":"Konrad"},"score":0,"creation_date":1576849786,"post_id":59426087,"comment_id":105038699,"body_markdown":"@JBNizet - I read the linked section. It doesn&#39;t answer my question as I still need to construct `AnswersWithDelays`! Also, write a comment when you downvote, so I know how not to ask questions, please.","body":"@JBNizet - I read the linked section. It doesn&#39;t answer my question as I still need to construct <code>AnswersWithDelays</code>! Also, write a comment when you downvote, so I know how not to ask questions, please."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1576850477,"creation_date":1576850477,"answer_id":59426498,"question_id":59426087,"body_markdown":"First of all, AnswersWithDelay is an internal class of Mockito. So you should not use it directly. Instances of this class are supposed to be created by using the factory methods in the public `AdditionalAnswers` class.\r\n\r\nSo all you need is\r\n\r\n    doAnswer(AdditionalAnswers.answersWithDelay(delay, invocation -&gt; null)).when(mockObject).doSomething();\r\n","title":"How to define AnswersWithDelay for a void returning method","body":"<p>First of all, AnswersWithDelay is an internal class of Mockito. So you should not use it directly. Instances of this class are supposed to be created by using the factory methods in the public <code>AdditionalAnswers</code> class.</p>\n\n<p>So all you need is</p>\n\n<pre><code>doAnswer(AdditionalAnswers.answersWithDelay(delay, invocation -&gt; null)).when(mockObject).doSomething();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639089036,"creation_date":1639089036,"answer_id":70297541,"question_id":59426087,"body_markdown":"Based on [this][1] answer, with a draft test class.\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    public class MockDelayVoidTest {\r\n        \r\n        @MockBean\r\n        private Object myMock;\r\n    \r\n        void test(){\r\n            Mockito.doAnswer(AdditionalAnswers.answersWithDelay(1000, invocationOnMock -&gt; {\r\n                //here you can customize the behavior of your mock method\r\n                return null;}))\r\n                    .when(myMock).toString();\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/59426498/379173","title":"How to define AnswersWithDelay for a void returning method","body":"<p>Based on <a href=\"https://stackoverflow.com/a/59426498/379173\">this</a> answer, with a draft test class.</p>\n<pre><code>@ExtendWith(SpringExtension.class)\npublic class MockDelayVoidTest {\n    \n    @MockBean\n    private Object myMock;\n\n    void test(){\n        Mockito.doAnswer(AdditionalAnswers.answersWithDelay(1000, invocationOnMock -&gt; {\n            //here you can customize the behavior of your mock method\n            return null;}))\n                .when(myMock).toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1716149,"reputation":1981,"user_id":1573161,"accept_rate":56,"display_name":"Abhishek Chatterjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653648078,"creation_date":1653648078,"answer_id":72404119,"question_id":59426087,"body_markdown":"Another way may be,\r\n\r\n    Mockito.doAnswer(invocation -&gt; {\r\n            TimeUnit.SECONDS.sleep(5);\r\n            return null;\r\n        }).when(mock).doSomething();","title":"How to define AnswersWithDelay for a void returning method","body":"<p>Another way may be,</p>\n<pre><code>Mockito.doAnswer(invocation -&gt; {\n        TimeUnit.SECONDS.sleep(5);\n        return null;\n    }).when(mock).doSomething();\n</code></pre>\n"}],"owner":{"account_id":5595244,"reputation":355,"user_id":4433222,"display_name":"Konrad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3684,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":59426498,"answer_count":3,"score":2,"last_activity_date":1653648078,"creation_date":1576848782,"question_id":59426087,"body_markdown":"So, I want to mimic in Mockito a method that is making a network call and is waiting for it to complete before returning. I found this nice answer here: https://stackoverflow.com/a/50530261/4433222 that suggests using `AnswersWithDelay`.\r\n\r\nIssue is though that I struggle to define a method&#39;s behavior for a method that returns void. `AnswersWithDelays` constructor requires a parameter of `Answer&lt;Object&gt;` type, and I wasn&#39;t able to find how to set it as void. Any clues?","title":"How to define AnswersWithDelay for a void returning method","body":"<p>So, I want to mimic in Mockito a method that is making a network call and is waiting for it to complete before returning. I found this nice answer here: <a href=\"https://stackoverflow.com/a/50530261/4433222\">https://stackoverflow.com/a/50530261/4433222</a> that suggests using <code>AnswersWithDelay</code>.</p>\n\n<p>Issue is though that I struggle to define a method's behavior for a method that returns void. <code>AnswersWithDelays</code> constructor requires a parameter of <code>Answer&lt;Object&gt;</code> type, and I wasn't able to find how to set it as void. Any clues?</p>\n"},{"tags":["java","spring","spring-mvc","tomcat","cas"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1653648128,"post_id":72402385,"comment_id":127907079,"body_markdown":"(1) use &#39;code&#39; format ({} button or control-K or 3 backticks before and after) for computer data so it&#39;s not comletely unreadable (I fixed for you) and _don&#39;t_ doublespace (I didn&#39;t fix, too much work) (2) ultimate cause is `FileNotFoundException: /etc/cas/thekeystore ...` -- you are trying to use a file that isn&#39;t there; either put the correct file there, or change the filename to a correct one.","body":"(1) use &#39;code&#39; format ({} button or control-K or 3 backticks before and after) for computer data so it&#39;s not comletely unreadable (I fixed for you) and <i>don&#39;t</i> doublespace (I didn&#39;t fix, too much work) (2) ultimate cause is <code>FileNotFoundException: &#47;etc&#47;cas&#47;thekeystore ...</code> -- you are trying to use a file that isn&#39;t there; either put the correct file there, or change the filename to a correct one."},{"owner":{"account_id":25403540,"reputation":11,"user_id":19212611,"display_name":"juz410"},"score":0,"creation_date":1653879115,"post_id":72402385,"comment_id":127950944,"body_markdown":"@dave_thompson_085 thank you for pointing out the error there, I will be looking into this part.","body":"@dave_thompson_085 thank you for pointing out the error there, I will be looking into this part."},{"owner":{"account_id":25403540,"reputation":11,"user_id":19212611,"display_name":"juz410"},"score":0,"creation_date":1653890572,"post_id":72402385,"comment_id":127952689,"body_markdown":"@dave_thompson_085 thank you, I have looked into it, and I added thekeystore file with some generated key, its now working! thank for pointing out my mistake thanksssssssssssssssssssssss","body":"@dave_thompson_085 thank you, I have looked into it, and I added thekeystore file with some generated key, its now working! thank for pointing out my mistake thanksssssssssssssssssssssss"}],"owner":{"account_id":25403540,"reputation":11,"user_id":19212611,"display_name":"juz410"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653647988,"creation_date":1653639122,"question_id":72402385,"body_markdown":"I am trying to run a docker image of CAS[dockerscreenshot][1], now I am facing a issues that indicating these errors:\r\n```\r\n2022-05-27 08:05:17,985 WARN [org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext] - &lt;Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server&gt;\r\n\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\r\nat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\r\nat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n\r\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n\r\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n\r\nat org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59)\r\n\r\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n\r\nat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181)\r\n\r\nat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)\r\n\r\nat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)\r\n\r\nat java.base/java.lang.Iterable.forEach(Unknown Source)\r\n\r\nat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)\r\n\r\nat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)\r\n\r\nat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)\r\n\r\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\r\n\r\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\r\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\r\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\r\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\r\nat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164)\r\n\r\nat org.apereo.cas.web.CasWebApplication.main(CasWebApplication.java:52)\r\n\r\n... 8 more\r\n\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n\r\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229)\r\n\r\nat org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43)\r\n\r\nat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)\r\n\r\n... 21 more\r\n\r\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\r\n\r\nat org.apache.catalina.core.StandardService.addConnector(StandardService.java:238)\r\n\r\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282)\r\n\r\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213)\r\n\r\n... 23 more\r\n\r\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\r\n\r\nat org.apache.catalina.connector.Connector.startInternal(Connector.java:1075)\r\n\r\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\r\nat org.apache.catalina.core.StandardService.addConnector(StandardService.java:234)\r\n\r\n... 25 more\r\n\r\nCaused by: java.lang.IllegalArgumentException: /etc/cas/thekeystore (No such file or directory)\r\n\r\nat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:107)\r\n\r\nat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71)\r\n\r\nat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:234)\r\n\r\nat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1227)\r\n\r\nat org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1313)\r\n\r\nat org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:614)\r\n\r\nat org.apache.catalina.connector.Connector.startInternal(Connector.java:1072)\r\n\r\n... 27 more\r\n\r\nCaused by: java.io.FileNotFoundException: /etc/cas/thekeystore (No such file or directory)\r\n\r\nat java.base/java.io.FileInputStream.open0(Native Method)\r\n\r\nat java.base/java.io.FileInputStream.open(Unknown Source)\r\n\r\nat java.base/java.io.FileInputStream.&lt;init&gt;(Unknown Source)\r\n\r\nat java.base/java.io.FileInputStream.&lt;init&gt;(Unknown Source)\r\n\r\nat java.base/sun.net.www.protocol.file.FileURLConnection.connect(Unknown Source)\r\n\r\nat java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(Unknown Source)\r\n\r\nat org.apache.catalina.startup.CatalinaBaseConfigurationSource.getResource(CatalinaBaseConfigurationSource.java:118)\r\n\r\nat org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:199)\r\n\r\nat org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:207)\r\n\r\nat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:283)\r\n\r\nat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247)\r\n\r\nat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:105)\r\n\r\n... 33 more\r\n```\r\n\r\nIf anyone knows how to fix this please help me ...... thanks.....\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l9Z15.png","title":"WebServerException: Unable to start embedded Tomcat server","body":"<p>I am trying to run a docker image of CAS<a href=\"https://i.stack.imgur.com/l9Z15.png\" rel=\"nofollow noreferrer\">dockerscreenshot</a>, now I am facing a issues that indicating these errors:</p>\n<pre><code>2022-05-27 08:05:17,985 WARN [org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext] - &lt;Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server&gt;\n\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\nat java.base/java.lang.reflect.Method.invoke(Unknown Source)\n\nat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n\nat org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59)\n\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n\nat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181)\n\nat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)\n\nat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)\n\nat java.base/java.lang.Iterable.forEach(Unknown Source)\n\nat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)\n\nat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)\n\nat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)\n\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\n\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n\nat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164)\n\nat org.apereo.cas.web.CasWebApplication.main(CasWebApplication.java:52)\n\n... 8 more\n\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229)\n\nat org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43)\n\nat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)\n\n... 21 more\n\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\n\nat org.apache.catalina.core.StandardService.addConnector(StandardService.java:238)\n\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282)\n\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213)\n\n... 23 more\n\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\n\nat org.apache.catalina.connector.Connector.startInternal(Connector.java:1075)\n\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n\nat org.apache.catalina.core.StandardService.addConnector(StandardService.java:234)\n\n... 25 more\n\nCaused by: java.lang.IllegalArgumentException: /etc/cas/thekeystore (No such file or directory)\n\nat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:107)\n\nat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71)\n\nat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:234)\n\nat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1227)\n\nat org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1313)\n\nat org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:614)\n\nat org.apache.catalina.connector.Connector.startInternal(Connector.java:1072)\n\n... 27 more\n\nCaused by: java.io.FileNotFoundException: /etc/cas/thekeystore (No such file or directory)\n\nat java.base/java.io.FileInputStream.open0(Native Method)\n\nat java.base/java.io.FileInputStream.open(Unknown Source)\n\nat java.base/java.io.FileInputStream.&lt;init&gt;(Unknown Source)\n\nat java.base/java.io.FileInputStream.&lt;init&gt;(Unknown Source)\n\nat java.base/sun.net.www.protocol.file.FileURLConnection.connect(Unknown Source)\n\nat java.base/sun.net.www.protocol.file.FileURLConnection.getInputStream(Unknown Source)\n\nat org.apache.catalina.startup.CatalinaBaseConfigurationSource.getResource(CatalinaBaseConfigurationSource.java:118)\n\nat org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:199)\n\nat org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:207)\n\nat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:283)\n\nat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247)\n\nat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:105)\n\n... 33 more\n</code></pre>\n<p>If anyone knows how to fix this please help me ...... thanks.....</p>\n"},{"tags":["java","java-stream","file-writing"],"answers":[{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653629084,"creation_date":1653629084,"answer_id":72400818,"question_id":72400407,"body_markdown":"You wouldn&#39;t need Apache commons, I&#39;d suggest using `Files.lines` of `java.nio.file.Files`, also you can have the implementation one single method like below\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Example {\r\n    \r\n        public static void generateReadMe(String day, String year, int part) {\r\n            List&lt;String&gt; newReadme = null;\r\n    \r\n            try (Stream&lt;String&gt; lines = Files.lines(Paths.get(&quot;readme.md&quot;))) {\r\n                 newReadme = lines.map(l -&gt; l.contains(fYear) &amp;&amp; l.contains(fDay) ? replaceLine() : l).collect(Collectors.toList())\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            newReadme.forEach(System.out::println);\r\n        }\r\n    \r\n        private static String replaceLine() {\r\n            //Your implementation\r\n            return prefix + fDay + stars + color + packages + fYear + &quot;/days/Day&quot; + day + &quot;.java)\\n&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Java Stream API: Modify a specific line in a file","body":"<p>You wouldn't need Apache commons, I'd suggest using <code>Files.lines</code> of <code>java.nio.file.Files</code>, also you can have the implementation one single method like below</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class Example {\n\n    public static void generateReadMe(String day, String year, int part) {\n        List&lt;String&gt; newReadme = null;\n\n        try (Stream&lt;String&gt; lines = Files.lines(Paths.get(&quot;readme.md&quot;))) {\n             newReadme = lines.map(l -&gt; l.contains(fYear) &amp;&amp; l.contains(fDay) ? replaceLine() : l).collect(Collectors.toList())\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        newReadme.forEach(System.out::println);\n    }\n\n    private static String replaceLine() {\n        //Your implementation\n        return prefix + fDay + stars + color + packages + fYear + &quot;/days/Day&quot; + day + &quot;.java)\\n&quot;;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13303196,"reputation":5,"user_id":9603996,"display_name":"Quentin Debhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72400818,"answer_count":1,"score":0,"last_activity_date":1653647446,"creation_date":1653624911,"question_id":72400407,"body_markdown":"I am reading the content of a `readme` file as a list of strings\r\n\r\nAnd I want to modify a specific line of this file (so a specific string of the list).\r\n\r\nI managed to achieve it, but is there an elegant way to do this with (only) java stream operations (as I am currently learning the java Stream API)?\r\n\r\nOther code I found showed how to create a new List and add new strings to this list after performing a `replaceAll()` or appending certain characters.\r\n\r\nMy case is a bit different, and I&#39;d like to change only a certain line I am finding in the file (and more specifically certain characters of it, even though I am fine with re-writing the whole line).\r\nFor now, I just re-write all lines one by one in a new list, except for one line that I generate and write instead (so the line I wanted to modify).\r\n\r\nI&#39;m open to any way of doing so, I can change the i/o types, re-write the whole file/line or just change a part of it... as long as I end up with a modified `readme` file. Just looking for a &quot;stream way&quot; of doing so.\r\n\r\nMy actual code:\r\n```java\r\nprivate static List&lt;String&gt; getReadme() {\r\n  try {\r\n    return stream(readFileToString(new File(&quot;readme.md&quot;)).split(&quot;\\n&quot;)).collect(Collectors.toList());\r\n  } catch (IOException e) {\r\n    throw new RuntimeException(e);\r\n  }\r\n}\r\n\r\npublic static void generateReadMe(String day, String year, int part) {\r\n  List&lt;String&gt; readme = getReadme();\r\n\r\n  // hidden code where I create the line I want to end up modified...\r\n  String line = prefix + fDay + stars + color + packages + fYear + &quot;/days/Day&quot;+ day +&quot;.java)\\n&quot;;\r\n\r\n  List&lt;String&gt; newReadme = readme.stream().map(l -&gt; {\r\n    if (l.contains(fYear) &amp;&amp; l.contains(fDay)) {\r\n      // add the modified line (aka replacing the line)\r\n      return line;\r\n    } else {\r\n      // or add the non modified line if not the one we&#39;re looking for\r\n      return l;\r\n    }\r\n  }).toList();\r\n\r\n  newReadme.forEach(System.out::println);\r\n}\r\n```","title":"Java Stream API: Modify a specific line in a file","body":"<p>I am reading the content of a <code>readme</code> file as a list of strings</p>\n<p>And I want to modify a specific line of this file (so a specific string of the list).</p>\n<p>I managed to achieve it, but is there an elegant way to do this with (only) java stream operations (as I am currently learning the java Stream API)?</p>\n<p>Other code I found showed how to create a new List and add new strings to this list after performing a <code>replaceAll()</code> or appending certain characters.</p>\n<p>My case is a bit different, and I'd like to change only a certain line I am finding in the file (and more specifically certain characters of it, even though I am fine with re-writing the whole line).\nFor now, I just re-write all lines one by one in a new list, except for one line that I generate and write instead (so the line I wanted to modify).</p>\n<p>I'm open to any way of doing so, I can change the i/o types, re-write the whole file/line or just change a part of it... as long as I end up with a modified <code>readme</code> file. Just looking for a &quot;stream way&quot; of doing so.</p>\n<p>My actual code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static List&lt;String&gt; getReadme() {\n  try {\n    return stream(readFileToString(new File(&quot;readme.md&quot;)).split(&quot;\\n&quot;)).collect(Collectors.toList());\n  } catch (IOException e) {\n    throw new RuntimeException(e);\n  }\n}\n\npublic static void generateReadMe(String day, String year, int part) {\n  List&lt;String&gt; readme = getReadme();\n\n  // hidden code where I create the line I want to end up modified...\n  String line = prefix + fDay + stars + color + packages + fYear + &quot;/days/Day&quot;+ day +&quot;.java)\\n&quot;;\n\n  List&lt;String&gt; newReadme = readme.stream().map(l -&gt; {\n    if (l.contains(fYear) &amp;&amp; l.contains(fDay)) {\n      // add the modified line (aka replacing the line)\n      return line;\n    } else {\n      // or add the non modified line if not the one we're looking for\n      return l;\n    }\n  }).toList();\n\n  newReadme.forEach(System.out::println);\n}\n</code></pre>\n"},{"tags":["java","database","influxdb","tdengine","schemaless"],"answers":[{"tags":[],"owner":{"account_id":22019563,"reputation":326,"user_id":16288586,"display_name":"Xiao Ping"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653647379,"creation_date":1653647379,"answer_id":72404021,"question_id":71524301,"body_markdown":"for json text, an escape character should be used before double quote and comma,\r\nfor example\r\n&quot;ste,t1=35 json_test=L\\&quot;{\\&quot;carNumber\\&quot;:\\&quot;\\&quot;\\,\\&quot;image\\&quot;:\\&quot;\\&quot;\\,\\&quot;outParkingSpace\\&quot;:1638927251000\\,\\&quot;parkingSpaceStatus\\&quot;:0}\\&quot; 1645329601000&quot;","title":"something wrong when writing influx data into TDengine","body":"<p>for json text, an escape character should be used before double quote and comma,\nfor example\n&quot;ste,t1=35 json_test=L&quot;{&quot;carNumber&quot;:&quot;&quot;,&quot;image&quot;:&quot;&quot;,&quot;outParkingSpace&quot;:1638927251000,&quot;parkingSpaceStatus&quot;:0}&quot; 1645329601000&quot;</p>\n"}],"owner":{"account_id":22218217,"reputation":150,"user_id":16456324,"display_name":"hook capt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72404021,"answer_count":1,"score":0,"last_activity_date":1653647379,"creation_date":1647592620,"question_id":71524301,"body_markdown":"I am trying to port my application which writing InfluxDb data to TDengine via its schemaless interface. I think it should be very easy but actually not.\r\n\r\nJava code is below:\r\n```\r\npublic void batchInsert() {\r\nJSONObject json = new JSONObject();\r\njson.put(&quot;f0&quot;, &quot;tt&quot;);\r\njson.put(&quot;f1&quot;, &quot;aa&quot;);\r\njson.put(&quot;f2&quot;, &quot;tt&quot;);\r\njson.put(&quot;f3&quot;, &quot;aa&quot;);\r\njson.put(&quot;f4&quot;, &quot;tt&quot;);\r\njson.put(&quot;f5&quot;, &quot;aa&quot;);\r\njson.put(&quot;f6&quot;, &quot;tt&quot;);\r\njson.put(&quot;f7&quot;, &quot;aa&quot;);\r\n\r\nBatchPoints batchPoints = BatchPoints.database(database)\r\n    .precision(TimeUnit.MILLISECONDS)\r\n    .build();\r\nfor (int i = 0; i &lt; 1; i++) {\r\n  Point point = Point.measurement(measurement)\r\n      .time(System.currentTimeMillis() - 3600000, TimeUnit.MILLISECONDS)\r\n      .addField(&quot;current&quot;, 10.2)\r\n      .addField(&quot;voltage&quot;, 219 + i)\r\n      .addField(&quot;phase&quot;, 0.32 + i)\r\n      .addField(&quot;strAtri&quot;, &quot;123456781234567812345678&quot;)\r\n      .addField(&quot;json$j&quot;, json.toJSONString())\r\n      .tag(&quot;__deviceId__&quot;, &quot;sensor&quot; + i)\r\n      .build();\r\n  try {\r\n    Thread.sleep(10);\r\n  } catch (InterruptedException e) {\r\n    e.printStackTrace();\r\n  }\r\n  batchPoints.point(point);\r\n}\r\ntry {\r\n  JSONObject responseBody;\r\n\r\n  String sql = &quot;CREATE DATABASE IF NOT EXISTS &quot; + database\r\n      + &quot; REPLICA 1 QUORUM 1 DAYS 1 KEEP 365 UPDATE 2;&quot;;\r\n  HttpHeaders header = new HttpHeaders();\r\n  header.setContentType(MediaType.APPLICATION_JSON);\r\n  header.set(&quot;Authorization&quot;, getBasicAuth(&quot;root&quot;, &quot;taosdata&quot;));\r\n  HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(sql, header);\r\n  responseBody = restTemplate.postForObject(tdengineUrl, httpEntity, JSONObject.class);\r\n  System.out.println(&quot;database=&quot; + responseBody.get(&quot;status&quot;));\r\n\r\n  System.out.println(batchPoints.lineProtocol());\r\n  ResponseEntity&lt;JSONObject&gt; responseEntity = restTemplate.postForEntity(tdengineInfluxdbUrl, batchPoints.lineProtocol(), JSONObject.class);\r\n  if (responseEntity.getStatusCodeValue() == 204) {\r\n    System.out.println(responseEntity.getStatusCodeValue());\r\n  }\r\n} catch (Exception e) {\r\n  e.printStackTrace();\r\n}\r\n```\r\n\r\nI got result on the console:\r\n\r\n\r\nsensor,deviceId=sensor0 current=10.2,json$j=&quot;{&quot;f6&quot;:&quot;tt&quot;,&quot;f7&quot;:&quot;aa&quot;,&quot;f0&quot;:&quot;tt&quot;,&quot;f1&quot;:&quot;aa&quot;,&quot;f2&quot;:&quot;tt&quot;,&quot;f3&quot;:&quot;aa&quot;,&quot;f4&quot;:&quot;tt&quot;,&quot;f5&quot;:&quot;aa&quot;}&quot;,phase=0.32,strAtri=&quot;123456781234567812345678&quot;,voltage=219i 1647569782596\r\n\r\norg.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: [{&quot;code&quot;:&quot;internal error&quot;,&quot;message&quot;:&quot;[0x21f] Invalid column length&quot;}]\r\nat org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:100)\r\nat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186)\r\nat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:125)\r\nat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\nat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:782)\r\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:740)\r\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:674)\r\nat org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:449)\r\nat com.rootcloud.controller.InfluxController.batchInsert(InfluxController.java:112)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\r\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\r\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\nat java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\nI don&#39;t know why and appreciated if someone can point me how to solve it.\r\n\r\nthanks,\r\n\r\n","title":"something wrong when writing influx data into TDengine","body":"<p>I am trying to port my application which writing InfluxDb data to TDengine via its schemaless interface. I think it should be very easy but actually not.</p>\n<p>Java code is below:</p>\n<pre><code>public void batchInsert() {\nJSONObject json = new JSONObject();\njson.put(&quot;f0&quot;, &quot;tt&quot;);\njson.put(&quot;f1&quot;, &quot;aa&quot;);\njson.put(&quot;f2&quot;, &quot;tt&quot;);\njson.put(&quot;f3&quot;, &quot;aa&quot;);\njson.put(&quot;f4&quot;, &quot;tt&quot;);\njson.put(&quot;f5&quot;, &quot;aa&quot;);\njson.put(&quot;f6&quot;, &quot;tt&quot;);\njson.put(&quot;f7&quot;, &quot;aa&quot;);\n\nBatchPoints batchPoints = BatchPoints.database(database)\n    .precision(TimeUnit.MILLISECONDS)\n    .build();\nfor (int i = 0; i &lt; 1; i++) {\n  Point point = Point.measurement(measurement)\n      .time(System.currentTimeMillis() - 3600000, TimeUnit.MILLISECONDS)\n      .addField(&quot;current&quot;, 10.2)\n      .addField(&quot;voltage&quot;, 219 + i)\n      .addField(&quot;phase&quot;, 0.32 + i)\n      .addField(&quot;strAtri&quot;, &quot;123456781234567812345678&quot;)\n      .addField(&quot;json$j&quot;, json.toJSONString())\n      .tag(&quot;__deviceId__&quot;, &quot;sensor&quot; + i)\n      .build();\n  try {\n    Thread.sleep(10);\n  } catch (InterruptedException e) {\n    e.printStackTrace();\n  }\n  batchPoints.point(point);\n}\ntry {\n  JSONObject responseBody;\n\n  String sql = &quot;CREATE DATABASE IF NOT EXISTS &quot; + database\n      + &quot; REPLICA 1 QUORUM 1 DAYS 1 KEEP 365 UPDATE 2;&quot;;\n  HttpHeaders header = new HttpHeaders();\n  header.setContentType(MediaType.APPLICATION_JSON);\n  header.set(&quot;Authorization&quot;, getBasicAuth(&quot;root&quot;, &quot;taosdata&quot;));\n  HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(sql, header);\n  responseBody = restTemplate.postForObject(tdengineUrl, httpEntity, JSONObject.class);\n  System.out.println(&quot;database=&quot; + responseBody.get(&quot;status&quot;));\n\n  System.out.println(batchPoints.lineProtocol());\n  ResponseEntity&lt;JSONObject&gt; responseEntity = restTemplate.postForEntity(tdengineInfluxdbUrl, batchPoints.lineProtocol(), JSONObject.class);\n  if (responseEntity.getStatusCodeValue() == 204) {\n    System.out.println(responseEntity.getStatusCodeValue());\n  }\n} catch (Exception e) {\n  e.printStackTrace();\n}\n</code></pre>\n<p>I got result on the console:</p>\n<p>sensor,deviceId=sensor0 current=10.2,json$j=&quot;{&quot;f6&quot;:&quot;tt&quot;,&quot;f7&quot;:&quot;aa&quot;,&quot;f0&quot;:&quot;tt&quot;,&quot;f1&quot;:&quot;aa&quot;,&quot;f2&quot;:&quot;tt&quot;,&quot;f3&quot;:&quot;aa&quot;,&quot;f4&quot;:&quot;tt&quot;,&quot;f5&quot;:&quot;aa&quot;}&quot;,phase=0.32,strAtri=&quot;123456781234567812345678&quot;,voltage=219i 1647569782596</p>\n<p>org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: [{&quot;code&quot;:&quot;internal error&quot;,&quot;message&quot;:&quot;[0x21f] Invalid column length&quot;}]\nat org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:100)\nat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:186)\nat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:125)\nat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\nat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:782)\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:740)\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:674)\nat org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:449)\nat com.rootcloud.controller.InfluxController.batchInsert(InfluxController.java:112)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:748)</p>\n<p>I don't know why and appreciated if someone can point me how to solve it.</p>\n<p>thanks,</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613493151,"creation_date":1613493151,"answer_id":66228406,"question_id":66163492,"body_markdown":"I just tested it with your code and it works as expected for me; I see this in the log...\r\n\r\n&gt;2021-02-16 11:30:16.587  INFO 36721 --- [o66163492-0-C-1] com.example.demo.So66163492Application   : Search for a time that is great or equal then 1613493076587\r\n\r\n&gt;2021-02-16 11:30:16.590  INFO 36721 --- [o66163492-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-so66163492-1, groupId=so66163492] Seeking to offset 1 for partition so66163492-0\r\n\r\n&gt;2021-02-16 11:30:16.590  INFO 36721 --- [o66163492-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : so66163492: partitions assigned: [so66163492-0]\r\n\r\n&gt;2021-02-16 11:30:16.611  INFO 36721 --- [o66163492-0-C-1] com.example.demo.So66163492Application   : Received message timestamp: 1613529016472 qux\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class So66163492Application extends AbstractConsumerSeekAware {\r\n\r\n\tprivate static final Logger log = LoggerFactory.getLogger(So66163492Application.class);\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So66163492Application.class, args);\r\n\t}\r\n\r\n\t@KafkaListener(id = &quot;so66163492&quot;, topics = &quot;so66163492&quot;)\r\n\tpublic void listen(@Header(KafkaHeaders.RECEIVED_MESSAGE_KEY) String key, String obj,\r\n\t\t\t@Header(KafkaHeaders.RECEIVED_TIMESTAMP) Long timestamp) {\r\n\r\n\t\tlog.info(&quot;Received message timestamp: {} {}&quot;, timestamp, obj);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic NewTopic topic() {\r\n\t\treturn TopicBuilder.name(&quot;so66163492&quot;).partitions(1).replicas(1).build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ApplicationRunner runner(KafkaTemplate&lt;String, String&gt; template) {\r\n\t\treturn args -&gt; {\r\n\t\t\ttemplate.send(new ProducerRecord&lt;&gt;(&quot;so66163492&quot;, 0, System.currentTimeMillis() - 10_000, &quot;foo&quot;, &quot;bar&quot;));\r\n\t\t\ttemplate.send(new ProducerRecord&lt;&gt;(&quot;so66163492&quot;, 0, System.currentTimeMillis() + 36_000_000, &quot;baz&quot;, &quot;qux&quot;));\r\n\t\t};\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onPartitionsAssigned(Map&lt;TopicPartition, Long&gt; assignments, ConsumerSeekCallback callback) {\r\n\t\tlong timestamp = System.currentTimeMillis() + 60 * 1000;\r\n\t\tlog.info(&quot;Search for a time that is great or equal then {}&quot;, timestamp);\r\n\t\tcallback.seekToTimestamp(new ArrayList&lt;&gt;(assignments.keySet()), timestamp);\r\n\t}\r\n\r\n}\r\n```","title":"seekToTimestamp in spring-kafka","body":"<p>I just tested it with your code and it works as expected for me; I see this in the log...</p>\n<blockquote>\n<p>2021-02-16 11:30:16.587  INFO 36721 --- [o66163492-0-C-1] com.example.demo.So66163492Application   : Search for a time that is great or equal then 1613493076587</p>\n</blockquote>\n<blockquote>\n<p>2021-02-16 11:30:16.590  INFO 36721 --- [o66163492-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-so66163492-1, groupId=so66163492] Seeking to offset 1 for partition so66163492-0</p>\n</blockquote>\n<blockquote>\n<p>2021-02-16 11:30:16.590  INFO 36721 --- [o66163492-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : so66163492: partitions assigned: [so66163492-0]</p>\n</blockquote>\n<blockquote>\n<p>2021-02-16 11:30:16.611  INFO 36721 --- [o66163492-0-C-1] com.example.demo.So66163492Application   : Received message timestamp: 1613529016472 qux</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class So66163492Application extends AbstractConsumerSeekAware {\n\n    private static final Logger log = LoggerFactory.getLogger(So66163492Application.class);\n\n    public static void main(String[] args) {\n        SpringApplication.run(So66163492Application.class, args);\n    }\n\n    @KafkaListener(id = &quot;so66163492&quot;, topics = &quot;so66163492&quot;)\n    public void listen(@Header(KafkaHeaders.RECEIVED_MESSAGE_KEY) String key, String obj,\n            @Header(KafkaHeaders.RECEIVED_TIMESTAMP) Long timestamp) {\n\n        log.info(&quot;Received message timestamp: {} {}&quot;, timestamp, obj);\n    }\n\n    @Bean\n    public NewTopic topic() {\n        return TopicBuilder.name(&quot;so66163492&quot;).partitions(1).replicas(1).build();\n    }\n\n    @Bean\n    public ApplicationRunner runner(KafkaTemplate&lt;String, String&gt; template) {\n        return args -&gt; {\n            template.send(new ProducerRecord&lt;&gt;(&quot;so66163492&quot;, 0, System.currentTimeMillis() - 10_000, &quot;foo&quot;, &quot;bar&quot;));\n            template.send(new ProducerRecord&lt;&gt;(&quot;so66163492&quot;, 0, System.currentTimeMillis() + 36_000_000, &quot;baz&quot;, &quot;qux&quot;));\n        };\n    }\n\n    @Override\n    public void onPartitionsAssigned(Map&lt;TopicPartition, Long&gt; assignments, ConsumerSeekCallback callback) {\n        long timestamp = System.currentTimeMillis() + 60 * 1000;\n        log.info(&quot;Search for a time that is great or equal then {}&quot;, timestamp);\n        callback.seekToTimestamp(new ArrayList&lt;&gt;(assignments.keySet()), timestamp);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2435350,"reputation":1765,"user_id":2125399,"accept_rate":69,"display_name":"Iurii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2888,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653646982,"creation_date":1613080412,"question_id":66163492,"body_markdown":"I was trying to play with seeking of timestamp functionality but for some reason, it&#39;s not working for me.\r\n\r\nIn my producer I have next code:\r\n```\r\nProducerRecord&lt;String, Obj&gt; producer = new ProducerRecord&lt;&gt;(&quot;topic&quot;, 0, System.currentTimeMillis() - 10000, &quot;key&quot;, obj);\r\nkafkaTemplate.send(producer);\r\n```\r\n\r\nAnd in my Kafka listener I was trying to seek offsets from some timestamp that is higher than the above one:\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\n@KafkaListener(id = &quot;container&quot;,\r\n        topics = &quot;topic&quot;,\r\n        clientIdPrefix = &quot;init_client&quot;,\r\n        autoStartup = &quot;true&quot;)\r\npublic class KafkaList implements ConsumerSeekAware {\r\n   @Override\r\n    public void onPartitionsAssigned(Map&lt;TopicPartition, Long&gt; assignments, ConsumerSeekCallback callback) {\r\n                long timestamp = System.currentTimeMillis()+60*1000;\r\n        log.info(&quot;Search for a time that is great or equal then {}&quot;, timestamp);\r\n        callback.seekToTimestamp(new ArrayList&lt;&gt;(assignments.keySet()), timestamp);\r\n\r\n    }\r\n\r\n    @KafkaHandler\r\n    public void listen(@Header(KafkaHeaders.RECEIVED_MESSAGE_KEY) String key, Obj obj,\r\n                       @Header(KafkaHeaders.RECEIVED_TIMESTAMP) Long timestamp) {\r\n        log.info(&quot;Received message timestamp: {}, date: {}&quot;, timestamp,\r\n                Instant.ofEpochMilli(timestamp).atZone(ZoneId.systemDefault()).toLocalDate());\r\n    }\r\n}\r\n```\r\nIn logs I see the next output:\r\n```\r\nSearch for a time that is great or equal then 1613079865328\r\nReceived message timestamp: 1613079798676, date: 2021-02-11\r\n```\r\nThe timestamp value in Kafka topic 1613079798676 is lower than my search value 1613079865328 so why consumer picked up this offset?\r\n","title":"seekToTimestamp in spring-kafka","body":"<p>I was trying to play with seeking of timestamp functionality but for some reason, it's not working for me.</p>\n<p>In my producer I have next code:</p>\n<pre><code>ProducerRecord&lt;String, Obj&gt; producer = new ProducerRecord&lt;&gt;(&quot;topic&quot;, 0, System.currentTimeMillis() - 10000, &quot;key&quot;, obj);\nkafkaTemplate.send(producer);\n</code></pre>\n<p>And in my Kafka listener I was trying to seek offsets from some timestamp that is higher than the above one:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\n@KafkaListener(id = &quot;container&quot;,\n        topics = &quot;topic&quot;,\n        clientIdPrefix = &quot;init_client&quot;,\n        autoStartup = &quot;true&quot;)\npublic class KafkaList implements ConsumerSeekAware {\n   @Override\n    public void onPartitionsAssigned(Map&lt;TopicPartition, Long&gt; assignments, ConsumerSeekCallback callback) {\n                long timestamp = System.currentTimeMillis()+60*1000;\n        log.info(&quot;Search for a time that is great or equal then {}&quot;, timestamp);\n        callback.seekToTimestamp(new ArrayList&lt;&gt;(assignments.keySet()), timestamp);\n\n    }\n\n    @KafkaHandler\n    public void listen(@Header(KafkaHeaders.RECEIVED_MESSAGE_KEY) String key, Obj obj,\n                       @Header(KafkaHeaders.RECEIVED_TIMESTAMP) Long timestamp) {\n        log.info(&quot;Received message timestamp: {}, date: {}&quot;, timestamp,\n                Instant.ofEpochMilli(timestamp).atZone(ZoneId.systemDefault()).toLocalDate());\n    }\n}\n</code></pre>\n<p>In logs I see the next output:</p>\n<pre><code>Search for a time that is great or equal then 1613079865328\nReceived message timestamp: 1613079798676, date: 2021-02-11\n</code></pre>\n<p>The timestamp value in Kafka topic 1613079798676 is lower than my search value 1613079865328 so why consumer picked up this offset?</p>\n"},{"tags":["java","jakarta-mail","eml","mime-message"],"comments":[{"owner":{"account_id":606180,"reputation":947,"user_id":311777,"display_name":"ee."},"score":0,"creation_date":1339379820,"post_id":10973782,"comment_id":14331081,"body_markdown":"http://www.faqs.org/rfcs/rfc822.htm and http://en.wikipedia.org/wiki/MIME","body":"<a href=\"http://www.faqs.org/rfcs/rfc822.htm\" rel=\"nofollow noreferrer\">faqs.org/rfcs/rfc822.htm</a> and <a href=\"http://en.wikipedia.org/wiki/MIME\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/MIME</a>"}],"answers":[{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1339388081,"creation_date":1339388081,"answer_id":10974436,"question_id":10973782,"body_markdown":"Use the msgshow.java demo program that comes with JavaMail to display the message in the file.  Use the -m option.  If it doesn&#39;t show what you expect, then the file format is wrong and you should look at the program that stores the message in the file.\r\n\r\nIf you&#39;re still having trouble, we&#39;re going to need more details to help you figure out what&#39;s wrong.\r\n","title":"Reading .eml into JavaMail MIME format","body":"<p>Use the msgshow.java demo program that comes with JavaMail to display the message in the file.  Use the -m option.  If it doesn't show what you expect, then the file format is wrong and you should look at the program that stores the message in the file.</p>\n\n<p>If you're still having trouble, we're going to need more details to help you figure out what's wrong.</p>\n"}],"owner":{"account_id":1477166,"reputation":834,"user_id":1387298,"accept_rate":78,"display_name":"Kyte"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6034,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10974436,"answer_count":1,"score":1,"last_activity_date":1653646760,"creation_date":1339379004,"question_id":10973782,"body_markdown":"I&#39;ve stored individual messages as .eml files on my disk. When it comes time to read them out of disk and into memory, I&#39;m having trouble recovering the body (text) of the email. Here&#39;s the code for reading the .eml file\r\n\r\n    String filePath = &quot;filepath\\\\msg0.eml&quot;;\r\n    InputStream is = new FileInputStream(filePath);\r\n    MimeMessage mime = new MimeMessage(null, is);\r\n\r\nHere&#39;s the interesting thing -- I can print out various things about the email, who it&#39;s from, the subject line, the time it was received, cc, bcc, etc. I just can&#39;t get to the email content. Where I should see the body text, instead there is a memory address (below)\r\n\r\n    content type: multipart/alternative; boundary=&quot;00032555717a714a1504a378be8e&quot;\r\n\r\nso any help? Am I forgetting something as simple as a cast? I&#39;ve tried printing the content from a Multipart and a Message in addition to the MimeMessage format. Your input is appreciated, thanks!","title":"Reading .eml into JavaMail MIME format","body":"<p>I've stored individual messages as .eml files on my disk. When it comes time to read them out of disk and into memory, I'm having trouble recovering the body (text) of the email. Here's the code for reading the .eml file</p>\n\n<pre><code>String filePath = \"filepath\\\\msg0.eml\";\nInputStream is = new FileInputStream(filePath);\nMimeMessage mime = new MimeMessage(null, is);\n</code></pre>\n\n<p>Here's the interesting thing -- I can print out various things about the email, who it's from, the subject line, the time it was received, cc, bcc, etc. I just can't get to the email content. Where I should see the body text, instead there is a memory address (below)</p>\n\n<pre><code>content type: multipart/alternative; boundary=\"00032555717a714a1504a378be8e\"\n</code></pre>\n\n<p>so any help? Am I forgetting something as simple as a cast? I've tried printing the content from a Multipart and a Message in addition to the MimeMessage format. Your input is appreciated, thanks!</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":3,"creation_date":1653646415,"post_id":72403808,"comment_id":127906526,"body_markdown":"Use `client:\\h*([^;]+);.*\\bSHA:\\h*([^;]+)` and grab 2 captured values","body":"Use <code>client:\\h*([^;]+);.*\\bSHA:\\h*([^;]+)</code> and grab 2 captured values"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653646656,"creation_date":1653646656,"answer_id":72403876,"question_id":72403808,"body_markdown":"You could use a pattern matcher with two capture groups:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;U999;U999;$SMS=;client: John Doe; A$ABC12345;,  SHA:12345ABCDE&quot;;\r\n    String pattern = &quot;^.*;\\\\s*client: ([^;]+);.*;.*\\\\bSHA:([^;]+).*$&quot;;\r\n    Pattern r = Pattern.compile(pattern);\r\n    Matcher m = r.matcher(input);\r\n    if (m.find()) {\r\n        System.out.println(&quot;client: &quot; + m.group(1));\r\n        System.out.println(&quot;SHA:    &quot; + m.group(2));\r\n    }\r\n\r\nThis prints:\r\n\r\n    client: John Doe\r\n    SHA:    12345ABCDE","title":"Find two substrings using one regex","body":"<p>You could use a pattern matcher with two capture groups:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;U999;U999;$SMS=;client: John Doe; A$ABC12345;,  SHA:12345ABCDE&quot;;\nString pattern = &quot;^.*;\\\\s*client: ([^;]+);.*;.*\\\\bSHA:([^;]+).*$&quot;;\nPattern r = Pattern.compile(pattern);\nMatcher m = r.matcher(input);\nif (m.find()) {\n    System.out.println(&quot;client: &quot; + m.group(1));\n    System.out.println(&quot;SHA:    &quot; + m.group(2));\n}\n</code></pre>\n<p>This prints:</p>\n<pre><code>client: John Doe\nSHA:    12345ABCDE\n</code></pre>\n"}],"owner":{"account_id":11295315,"reputation":101,"user_id":8283018,"display_name":"Evillain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":72403876,"answer_count":1,"score":-2,"last_activity_date":1653646656,"creation_date":1653646310,"question_id":72403808,"body_markdown":"External app sends following line:\r\n\r\n```U999;U999;$SMS=;client: John Doe; A$ABC12345;,  SHA:12345ABCDE```\r\n\r\nI need to extract 2 values from it: John Doe and 12345ABCDE\r\n\r\nNow I can extract separately those 2 values using regex:\r\n\r\n```(?=client:(.*?);)``` for John Doe\r\n```(?=SHA:(.*?)$)``` for 12345ABCDE\r\n\r\nIs it possible to extract those values using one regex in Pattern and extract them as list of 2 values?\r\n","title":"Find two substrings using one regex","body":"<p>External app sends following line:</p>\n<p><code>U999;U999;$SMS=;client: John Doe; A$ABC12345;,  SHA:12345ABCDE</code></p>\n<p>I need to extract 2 values from it: John Doe and 12345ABCDE</p>\n<p>Now I can extract separately those 2 values using regex:</p>\n<p><code>(?=client:(.*?);)</code> for John Doe\n<code>(?=SHA:(.*?)$)</code> for 12345ABCDE</p>\n<p>Is it possible to extract those values using one regex in Pattern and extract them as list of 2 values?</p>\n"},{"tags":["java","java-8","log4j","java-11"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1653662953,"post_id":72403857,"comment_id":127912579,"body_markdown":"The default configuration files for Log4j2 are named `log4j2.&lt;extension&gt;`, so you should name the file `log4j2.properties`.","body":"The default configuration files for Log4j2 are named <code>log4j2.&lt;extension&gt;</code>, so you should name the file <code>log4j2.properties</code>."},{"owner":{"account_id":3007802,"reputation":910,"user_id":2551923,"display_name":"divyanayan awasthi"},"score":0,"creation_date":1653890954,"post_id":72403857,"comment_id":127952779,"body_markdown":"thanks Piotr. i had tried that .  still not able to load the log4j2.properties.","body":"thanks Piotr. i had tried that .  still not able to load the log4j2.properties."},{"owner":{"account_id":3007802,"reputation":910,"user_id":2551923,"display_name":"divyanayan awasthi"},"score":0,"creation_date":1653909009,"post_id":72403857,"comment_id":127958676,"body_markdown":"i fugured out the root cause, in my project there is another dependency which has log4j2.xml. thats is overriding my log4j2.properties. how can i exclude it ?","body":"i fugured out the root cause, in my project there is another dependency which has log4j2.xml. thats is overriding my log4j2.properties. how can i exclude it ?"},{"owner":{"account_id":3007802,"reputation":910,"user_id":2551923,"display_name":"divyanayan awasthi"},"score":0,"creation_date":1653917427,"post_id":72403857,"comment_id":127961765,"body_markdown":"overriding log4j2.xml solved my problem .","body":"overriding log4j2.xml solved my problem ."}],"owner":{"account_id":3007802,"reputation":910,"user_id":2551923,"display_name":"divyanayan awasthi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653646565,"creation_date":1653646565,"question_id":72403857,"body_markdown":"I have a public static void main standalone app and i am trying to load a log4j file so that i can write a particular logging pattern and and also write few rollling appenders.\r\n\r\nI have following dependencies in my pom.xml\r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.17.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n          &lt;version&gt;2.17.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nBut my log4j.properties  file is getting ignored. it is under java resources.\r\n\r\n    status=info\r\n    name=PropertiesConfig\r\n    filters=threshold\r\n    filter.threshold.type=ThresholdFilter\r\n    filter.threshold.level=info\r\n    appenders=console\r\n    appender.console.type=Console\r\n    appender.console.name=STDOUT\r\n    appender.console.layout.type=PatternLayout\r\n    appender.console.layout.pattern=][%-5p|%c{1}|%M|%L|%replace{%m}{\\r?\\n}{}%n\r\n    #Logtoconsole\r\n    logger.app.name=PropertiesConfig\r\n    logger.app.level=info\r\n    logger.app.additivity=false\r\n    logger.app.appenderRef.console.ref=STDOUT\r\n    rootLogger.level=info\r\n    rootLogger.appenderRef.stdout.ref=STDOUT\r\n\r\n\r\nI also tried loading it using Properties \r\n\r\n    Properties props = new Properties();\r\n        props.load(Environment.class.getClassLoader().getResourceAsStream(&quot;log4j.properties&quot;));\r\n        PropertyConfigurator.configure(props);\r\n\r\nWhat am i missing , please feel free to suggest a better approach.\r\n","title":"Loading log4j file with java standalone app is not loading log4j.properties","body":"<p>I have a public static void main standalone app and i am trying to load a log4j file so that i can write a particular logging pattern and and also write few rollling appenders.</p>\n<p>I have following dependencies in my pom.xml</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n      &lt;version&gt;2.17.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;2.17.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>But my log4j.properties  file is getting ignored. it is under java resources.</p>\n<pre><code>status=info\nname=PropertiesConfig\nfilters=threshold\nfilter.threshold.type=ThresholdFilter\nfilter.threshold.level=info\nappenders=console\nappender.console.type=Console\nappender.console.name=STDOUT\nappender.console.layout.type=PatternLayout\nappender.console.layout.pattern=][%-5p|%c{1}|%M|%L|%replace{%m}{\\r?\\n}{}%n\n#Logtoconsole\nlogger.app.name=PropertiesConfig\nlogger.app.level=info\nlogger.app.additivity=false\nlogger.app.appenderRef.console.ref=STDOUT\nrootLogger.level=info\nrootLogger.appenderRef.stdout.ref=STDOUT\n</code></pre>\n<p>I also tried loading it using Properties</p>\n<pre><code>Properties props = new Properties();\n    props.load(Environment.class.getClassLoader().getResourceAsStream(&quot;log4j.properties&quot;));\n    PropertyConfigurator.configure(props);\n</code></pre>\n<p>What am i missing , please feel free to suggest a better approach.</p>\n"},{"tags":["java","performance","io","nio","apache-commons-httpclient"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1653647957,"post_id":72403840,"comment_id":127907022,"body_markdown":"Depending on where you upload to and depending on your bandwidth, 2 minutes is a reasonable time for that size","body":"Depending on where you upload to and depending on your bandwidth, 2 minutes is a reasonable time for that size"},{"owner":{"account_id":4888235,"reputation":33,"user_id":3940032,"accept_rate":17,"display_name":"Prince"},"score":0,"creation_date":1653653977,"post_id":72403840,"comment_id":127908950,"body_markdown":"I am uploading zip file to soap service using Apache commons httpClient","body":"I am uploading zip file to soap service using Apache commons httpClient"},{"owner":{"account_id":2749918,"reputation":1609,"user_id":2369544,"display_name":"starikoff"},"score":0,"creation_date":1653658027,"post_id":72403840,"comment_id":127910557,"body_markdown":"What&#39;s the question? Does something indicate that the limit is not coming from the Soap service? Can you upload a file of that size to it faster using some other technique?","body":"What&#39;s the question? Does something indicate that the limit is not coming from the Soap service? Can you upload a file of that size to it faster using some other technique?"},{"owner":{"account_id":4888235,"reputation":33,"user_id":3940032,"accept_rate":17,"display_name":"Prince"},"score":0,"creation_date":1653894517,"post_id":72403840,"comment_id":127953712,"body_markdown":"Yes I have tested using SOAPUI , we can able to upload same file within 40 seconds using SOAPUI.","body":"Yes I have tested using SOAPUI , we can able to upload same file within 40 seconds using SOAPUI."}],"owner":{"account_id":4888235,"reputation":33,"user_id":3940032,"accept_rate":17,"display_name":"Prince"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653646507,"creation_date":1653646507,"question_id":72403840,"body_markdown":"I have used code mentioned in below website but for it is always taking More than 2 mnts to upload 570MB file.\r\n\r\nhttps://thomaswabner.wordpress.com/2007/10/09/fast-stream-copy-using-javanio-channels/","title":"Copying large file taking more time","body":"<p>I have used code mentioned in below website but for it is always taking More than 2 mnts to upload 570MB file.</p>\n<p><a href=\"https://thomaswabner.wordpress.com/2007/10/09/fast-stream-copy-using-javanio-channels/\" rel=\"nofollow noreferrer\">https://thomaswabner.wordpress.com/2007/10/09/fast-stream-copy-using-javanio-channels/</a></p>\n"},{"tags":["java","list","java-8","stream","java-stream"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1653636470,"post_id":72401295,"comment_id":127903267,"body_markdown":"What you get then?","body":"What you get then?"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":2,"creation_date":1653640248,"post_id":72401295,"comment_id":127904550,"body_markdown":"You can sort first and get first one . Ex: `persons.stream().sorted(Comparator.comparing(Person::isEmployed).thenComparing(Person::getAge)).findFirst();`","body":"You can sort first and get first one . Ex: <code>persons.stream().sorted(Comparator.comparing(Person::isEmplo&zwnj;&#8203;yed).thenComparing(P&zwnj;&#8203;erson::getAge)).find&zwnj;&#8203;First();</code>"},{"owner":{"account_id":11418255,"reputation":178,"user_id":8370512,"display_name":"Akshay"},"score":1,"creation_date":1653662257,"post_id":72401295,"comment_id":127912290,"body_markdown":"Why sort when the problem is already being solved in 2 pass (O(n)) or even one pass as in answer below?","body":"Why sort when the problem is already being solved in 2 pass (O(n)) or even one pass as in answer below?"},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1653813001,"post_id":72401295,"comment_id":127938758,"body_markdown":"@Akshay For the sake of readability?","body":"@Akshay For the sake of readability?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653646497,"creation_date":1653644443,"answer_id":72403435,"question_id":72401295,"body_markdown":"&gt; I have a list of Person. I want to find a person either have employment with maximum age else return person with maximum age.\r\n\r\nIt can be done in a *single pass* through the list by creating an *intermediate map*, using collector [`partioningBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#partitioningBy(java.util.function.Predicate,java.util.stream.Collector)) and providing collector [`maxBy()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#maxBy(java.util.Comparator)) as the downstream. \r\n\r\nThis combination will create a *map* containing *two entries* with keys `false` and `true` and *values* of type `Optional&lt;Person&gt;`. Because `maxBy()` produces an optional result.\r\n\r\nFirstly, we have to get rid of empty optional by applying `filter()`.\r\n\r\nThen we can sort these entries in *reversed order by key*, so that `true` will come before `false` (*the natural order: `false -&gt; true`*). I.e. *employed person* having the greatest age will come first.\r\n\r\nThe last step is to apply `findFirst()` and extract the value from the resulting map entry.\r\n\r\nBecause we are sorting only *two* entries, it will not cause any tangible overhead and the code will run linear time (*reminder:* `maxBy()` *runs in* ***O(n)*** *time, performing a single pass through the data set*).\r\n\r\n```\r\nList&lt;Person&gt; personList =\r\n    List.of(new Person(23, false), new Person(32, true),\r\n            new Person(36, true), new Person(39, false),\r\n            new Person(19, false), new Person(21, true));\r\n\r\nPerson person = personList.stream()\r\n    .collect(Collectors.partitioningBy(Person::isEmployed, // intermediate map Map&lt;Boolean, Optional&lt;Person&gt;&gt;\r\n        Collectors.maxBy(Comparator.comparing(Person::getAge))))\r\n    .entrySet().stream()\r\n    .filter(entry -&gt; entry.getValue().isPresent())\r\n    .sorted(Map.Entry.&lt;Boolean, Optional&lt;Person&gt;&gt;comparingByKey().reversed())\r\n    .findFirst()              // Optional&lt;Map.Entry&lt;Boolean, Optional&lt;Person&gt;&gt;&gt;\r\n    .map(Map.Entry::getValue) // Optional&lt;Optional&lt;Person&gt;&gt;\r\n    .map(Optional::get)       // Optional&lt;Person&gt;\r\n    .orElse(null);\r\n\r\nSystem.out.println(person);\r\n```\r\n*Output:*\r\n```\r\nPerson {  age = 36, isEmployed = true }\r\n```\r\n[*A link to the Online Demo*](https://www.jdoodle.com/ia/rru)","title":"How to apply multiple Conditions in Java streams","body":"<blockquote>\n<p>I have a list of Person. I want to find a person either have employment with maximum age else return person with maximum age.</p>\n</blockquote>\n<p>It can be done in a <em>single pass</em> through the list by creating an <em>intermediate map</em>, using collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#partitioningBy(java.util.function.Predicate,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>partioningBy()</code></a> and providing collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#maxBy(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>maxBy()</code></a> as the downstream.</p>\n<p>This combination will create a <em>map</em> containing <em>two entries</em> with keys <code>false</code> and <code>true</code> and <em>values</em> of type <code>Optional&lt;Person&gt;</code>. Because <code>maxBy()</code> produces an optional result.</p>\n<p>Firstly, we have to get rid of empty optional by applying <code>filter()</code>.</p>\n<p>Then we can sort these entries in <em>reversed order by key</em>, so that <code>true</code> will come before <code>false</code> (<em>the natural order: <code>false -&gt; true</code></em>). I.e. <em>employed person</em> having the greatest age will come first.</p>\n<p>The last step is to apply <code>findFirst()</code> and extract the value from the resulting map entry.</p>\n<p>Because we are sorting only <em>two</em> entries, it will not cause any tangible overhead and the code will run linear time (<em>reminder:</em> <code>maxBy()</code> <em>runs in</em> <em><strong>O(n)</strong></em> <em>time, performing a single pass through the data set</em>).</p>\n<pre><code>List&lt;Person&gt; personList =\n    List.of(new Person(23, false), new Person(32, true),\n            new Person(36, true), new Person(39, false),\n            new Person(19, false), new Person(21, true));\n\nPerson person = personList.stream()\n    .collect(Collectors.partitioningBy(Person::isEmployed, // intermediate map Map&lt;Boolean, Optional&lt;Person&gt;&gt;\n        Collectors.maxBy(Comparator.comparing(Person::getAge))))\n    .entrySet().stream()\n    .filter(entry -&gt; entry.getValue().isPresent())\n    .sorted(Map.Entry.&lt;Boolean, Optional&lt;Person&gt;&gt;comparingByKey().reversed())\n    .findFirst()              // Optional&lt;Map.Entry&lt;Boolean, Optional&lt;Person&gt;&gt;&gt;\n    .map(Map.Entry::getValue) // Optional&lt;Optional&lt;Person&gt;&gt;\n    .map(Optional::get)       // Optional&lt;Person&gt;\n    .orElse(null);\n\nSystem.out.println(person);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Person {  age = 36, isEmployed = true }\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/rru\" rel=\"nofollow noreferrer\"><em>A link to the Online Demo</em></a></p>\n"}],"owner":{"account_id":3196314,"reputation":67,"user_id":2699431,"accept_rate":40,"display_name":"Joe Lat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72403435,"answer_count":1,"score":1,"last_activity_date":1653646497,"creation_date":1653632787,"question_id":72401295,"body_markdown":"I have a list of `Person`. \r\n\r\nI want to find a person either has *employment* with the *maximum age*, else return any person the with *maximum age*.\r\n\r\nI have written the following piece of code. \r\n\r\nIs this fine or can have better approach. \r\n```java\r\nList &lt;Person&gt; personList;\r\n    \r\nPerson person = personList.stream()\r\n    .filter(p -&gt; p.isEmployed())\r\n    .max(Comparator.comparing(Person::getAge))\r\n    .orElse(personList.stream()\r\n                .max(Comparator.comparing(Person::getAge))\r\n                .orElse(null));\r\n```","title":"How to apply multiple Conditions in Java streams","body":"<p>I have a list of <code>Person</code>.</p>\n<p>I want to find a person either has <em>employment</em> with the <em>maximum age</em>, else return any person the with <em>maximum age</em>.</p>\n<p>I have written the following piece of code.</p>\n<p>Is this fine or can have better approach.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt;Person&gt; personList;\n    \nPerson person = personList.stream()\n    .filter(p -&gt; p.isEmployed())\n    .max(Comparator.comparing(Person::getAge))\n    .orElse(personList.stream()\n                .max(Comparator.comparing(Person::getAge))\n                .orElse(null));\n</code></pre>\n"},{"tags":["java","gradle","google-api","gmail-api"],"answers":[{"tags":[],"owner":{"account_id":1138510,"reputation":930,"user_id":1123052,"display_name":"Edgar Domingues"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653646355,"creation_date":1653646355,"answer_id":72403816,"question_id":72403608,"body_markdown":"You need to use a scheduler that runs your application. See https://cloud.google.com/run/docs/execute/jobs-on-schedule or https://cloud.google.com/scheduler","title":"How do I keep my application running constantly?","body":"<p>You need to use a scheduler that runs your application. See <a href=\"https://cloud.google.com/run/docs/execute/jobs-on-schedule\" rel=\"nofollow noreferrer\">https://cloud.google.com/run/docs/execute/jobs-on-schedule</a> or <a href=\"https://cloud.google.com/scheduler\" rel=\"nofollow noreferrer\">https://cloud.google.com/scheduler</a></p>\n"}],"owner":{"account_id":25218323,"reputation":1,"user_id":19055169,"display_name":"0x24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653646355,"creation_date":1653645359,"question_id":72403608,"body_markdown":" I am coding an application which should read gmails, answer them and log information.\r\nRight now I run my code via terminal &quot;gradle run&quot;. I have a question that, if I wanted this application to run 24/7 how can I achieve this. Does google have some kind of Cloud Services I could use and how would it work then..\r\nI dont understand that on the server side, someone would constantly type &quot;gradle run&quot; into terminal. ","title":"How do I keep my application running constantly?","body":"<p>I am coding an application which should read gmails, answer them and log information.\nRight now I run my code via terminal &quot;gradle run&quot;. I have a question that, if I wanted this application to run 24/7 how can I achieve this. Does google have some kind of Cloud Services I could use and how would it work then..\nI dont understand that on the server side, someone would constantly type &quot;gradle run&quot; into terminal.</p>\n"},{"tags":["java","android","kotlin","wifi","hotspot"],"comments":[{"owner":{"account_id":4078822,"reputation":668,"user_id":3349737,"accept_rate":67,"display_name":"Parthi"},"score":1,"creation_date":1565600785,"post_id":3930990,"comment_id":101390136,"body_markdown":"Did you get any solution  for mobile data disable option ?","body":"Did you get any solution  for mobile data disable option ?"}],"answers":[{"tags":[],"owner":{"account_id":175477,"reputation":6178,"user_id":405521,"accept_rate":54,"display_name":"viv"},"down_vote_count":0,"up_vote_count":188,"is_accepted":true,"score":188,"last_activity_date":1548654780,"creation_date":1287042334,"answer_id":3931094,"question_id":3930990,"body_markdown":"I know of enabling or disabling wifi:\r\n\r\n\r\n    WifiManager wifiManager = (WifiManager)this.context.getSystemService(Context.WIFI_SERVICE);\r\n    wifiManager.setWifiEnabled(status);\r\n\r\n\r\nwhere status may be `true` or `false` as per requirement.\r\n\r\n**Edit:**\r\n\r\nYou also need the following permissions in your manifest file:\r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n     &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;/&gt; ","title":"Android: How to Enable/Disable Wifi or Internet Connection Programmatically","body":"<p>I know of enabling or disabling wifi:</p>\n\n<pre><code>WifiManager wifiManager = (WifiManager)this.context.getSystemService(Context.WIFI_SERVICE);\nwifiManager.setWifiEnabled(status);\n</code></pre>\n\n<p>where status may be <code>true</code> or <code>false</code> as per requirement.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>You also need the following permissions in your manifest file:</p>\n\n<pre><code> &lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"/&gt;\n &lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\"/&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":273088,"reputation":143,"user_id":564482,"display_name":"Amit kumar"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1524807451,"creation_date":1294257473,"answer_id":4608602,"question_id":3930990,"body_markdown":"A complete solution:\r\n\r\n    try {\r\n        WifiManager wifi = (WifiManager) \r\n            context.getSystemService(Context.WIFI_SERVICE);\r\n\r\n        WifiConfiguration wc = new WifiConfiguration();\r\n        wc.SSID = &quot;\\&quot;SSIDName\\&quot;&quot;;\r\n        wc.preSharedKey  = &quot;\\&quot;password\\&quot;&quot;;\r\n        wc.hiddenSSID = true;\r\n        wc.status = WifiConfiguration.Status.ENABLED; \r\n \r\n        wc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.TKIP);\r\n        wc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.CCMP);\r\n        wc.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.WPA_PSK);\r\n      \r\n        wc.allowedPairwiseCiphers\r\n            .set(WifiConfiguration.PairwiseCipher.TKIP);\r\n        wc.allowedPairwiseCiphers\r\n            .set(WifiConfiguration.PairwiseCipher.CCMP);\r\n        wc.allowedProtocols.set(WifiConfiguration.Protocol.RSN);\r\n\r\n        boolean b=wifi.isWifiEnabled();\r\n        if (b) {\r\n            wifi.setWifiEnabled(false);\r\n            Toast.makeText(context, &quot;yes&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            wifi.setWifiEnabled(true);\r\n            Toast.makeText(context, &quot;no&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        //Log.d(&quot;WifiPreference&quot;, &quot;enableNetwork returned &quot; + b );\r\n\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nReference: http://amitkumar-android.blogspot.com/p/installation-steps.html","title":"Android: How to Enable/Disable Wifi or Internet Connection Programmatically","body":"<p>A complete solution:</p>\n\n<pre><code>try {\n    WifiManager wifi = (WifiManager) \n        context.getSystemService(Context.WIFI_SERVICE);\n\n    WifiConfiguration wc = new WifiConfiguration();\n    wc.SSID = \"\\\"SSIDName\\\"\";\n    wc.preSharedKey  = \"\\\"password\\\"\";\n    wc.hiddenSSID = true;\n    wc.status = WifiConfiguration.Status.ENABLED; \n\n    wc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.TKIP);\n    wc.allowedGroupCiphers.set(WifiConfiguration.GroupCipher.CCMP);\n    wc.allowedKeyManagement.set(WifiConfiguration.KeyMgmt.WPA_PSK);\n\n    wc.allowedPairwiseCiphers\n        .set(WifiConfiguration.PairwiseCipher.TKIP);\n    wc.allowedPairwiseCiphers\n        .set(WifiConfiguration.PairwiseCipher.CCMP);\n    wc.allowedProtocols.set(WifiConfiguration.Protocol.RSN);\n\n    boolean b=wifi.isWifiEnabled();\n    if (b) {\n        wifi.setWifiEnabled(false);\n        Toast.makeText(context, \"yes\", Toast.LENGTH_SHORT).show();\n    } else {\n        wifi.setWifiEnabled(true);\n        Toast.makeText(context, \"no\", Toast.LENGTH_SHORT).show();\n    }\n    //Log.d(\"WifiPreference\", \"enableNetwork returned \" + b );\n\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Reference: <a href=\"http://amitkumar-android.blogspot.com/p/installation-steps.html\" rel=\"nofollow noreferrer\">http://amitkumar-android.blogspot.com/p/installation-steps.html</a></p>\n"},{"tags":[],"owner":{"account_id":449458,"reputation":1522,"user_id":844257,"accept_rate":33,"display_name":"varun bhardwaj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1470413082,"creation_date":1337326165,"answer_id":10648466,"question_id":3930990,"body_markdown":"add this permission in your manifest and than use the above code to change WiFi state:  \r\n\r\n     &lt;!--permission ge enable and disable WIFI in android--&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;/&gt;","title":"Android: How to Enable/Disable Wifi or Internet Connection Programmatically","body":"<p>add this permission in your manifest and than use the above code to change WiFi state:  </p>\n\n<pre><code> &lt;!--permission ge enable and disable WIFI in android--&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1377242,"reputation":129,"user_id":1311010,"display_name":"Hemant Mendi Ratta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1420552489,"creation_date":1339707865,"answer_id":11041320,"question_id":3930990,"body_markdown":"To enable disable Wifi use the `WifiManager` class to get system(android device) services for Wifi :\r\n\r\n    WifiManager wifi =(WifiManager)getSystemService(Context.WIFI_SERVICE); \r\n    \r\nNow the object `wifi` of the `WifiManager` class is used to get the wifi status:\r\n\r\n    if(wifi.isWifiEnabled())\r\n        //Perform Operation\r\n    else\r\n        //Other Operation\r\n\r\nAnd most importantly do not forget to give the following permission in your Android Manifest File:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.UPDATE_DEVICE_STATS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n\r\nTo get detailed info and full sample code  of the project for enable/disable Wifi on android visit [my website link][1].\r\n\r\n\r\n  [1]: http://jannatyahan.com/android-applications-development-tutorial-to-enabledisable-wifi-in-android-apps/","title":"Android: How to Enable/Disable Wifi or Internet Connection Programmatically","body":"<p>To enable disable Wifi use the <code>WifiManager</code> class to get system(android device) services for Wifi :</p>\n\n<pre><code>WifiManager wifi =(WifiManager)getSystemService(Context.WIFI_SERVICE); \n</code></pre>\n\n<p>Now the object <code>wifi</code> of the <code>WifiManager</code> class is used to get the wifi status:</p>\n\n<pre><code>if(wifi.isWifiEnabled())\n    //Perform Operation\nelse\n    //Other Operation\n</code></pre>\n\n<p>And most importantly do not forget to give the following permission in your Android Manifest File:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.UPDATE_DEVICE_STATS\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WAKE_LOCK\" /&gt;\n</code></pre>\n\n<p>To get detailed info and full sample code  of the project for enable/disable Wifi on android visit <a href=\"http://jannatyahan.com/android-applications-development-tutorial-to-enabledisable-wifi-in-android-apps/\" rel=\"nofollow\">my website link</a>.</p>\n"},{"tags":[],"owner":{"account_id":1199775,"reputation":566,"user_id":1213119,"display_name":"Valeh Aayev"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1347253667,"creation_date":1347253667,"answer_id":12345627,"question_id":3930990,"body_markdown":"**To Enable WiFi:**\r\n\r\n    WifiManager wifi = (WifiManager) getSystemService(Context.WIFI_SERVICE);\r\n    wifi.setWifiEnabled(true);\r\n\r\n**To Disable WiFi:**\r\n\r\n    WifiManager wifi = (WifiManager) getSystemService(Context.WIFI_SERVICE);\r\n    wifi.setWifiEnabled(false);\r\n\r\n\r\n\r\n**Note:\r\nTo access with WiFi state, we have to add following permissions inside the AndroidManifest.xml file:**\r\n\r\n    android.permission.ACCESS_WIFI_STATE\r\n    android.permission.UPDATE_DEVICE_STATS \r\n    android.permission.CHANGE_WIFI_STATE","title":"Android: How to Enable/Disable Wifi or Internet Connection Programmatically","body":"<p><strong>To Enable WiFi:</strong></p>\n\n<pre><code>WifiManager wifi = (WifiManager) getSystemService(Context.WIFI_SERVICE);\nwifi.setWifiEnabled(true);\n</code></pre>\n\n<p><strong>To Disable WiFi:</strong></p>\n\n<pre><code>WifiManager wifi = (WifiManager) getSystemService(Context.WIFI_SERVICE);\nwifi.setWifiEnabled(false);\n</code></pre>\n\n<p><strong>Note:\nTo access with WiFi state, we have to add following permissions inside the AndroidManifest.xml file:</strong></p>\n\n<pre><code>android.permission.ACCESS_WIFI_STATE\nandroid.permission.UPDATE_DEVICE_STATS \nandroid.permission.CHANGE_WIFI_STATE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4535238,"reputation":493,"user_id":3688930,"accept_rate":17,"display_name":"Franklin84"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526560253,"creation_date":1526560253,"answer_id":50391548,"question_id":3930990,"body_markdown":"I could not access the context object directly.&lt;br&gt;\r\nMy solution is as following:\r\n\r\n    Context appContext = Android.App.Application.Context;\r\n    var wifiManager = (WifiManager)appContext.GetSystemService(WifiService);\r\n    wifiManager.SetWifiEnabled(state);\r\n\r\nAlso I had to change some writings eg. WIFI_SERVICE vs. WifiService.","title":"Android: How to Enable/Disable Wifi or Internet Connection Programmatically","body":"<p>I could not access the context object directly.<br>\nMy solution is as following:</p>\n\n<pre><code>Context appContext = Android.App.Application.Context;\nvar wifiManager = (WifiManager)appContext.GetSystemService(WifiService);\nwifiManager.SetWifiEnabled(state);\n</code></pre>\n\n<p>Also I had to change some writings eg. WIFI_SERVICE vs. WifiService.</p>\n"},{"tags":[],"owner":{"account_id":15907024,"reputation":1309,"user_id":11477952,"display_name":"AdeleGoldberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569397208,"creation_date":1569397208,"answer_id":58093473,"question_id":3930990,"body_markdown":"It is possible to enable/disable wifi *on pre Android 10* devices using the following code:\r\n\r\n    WifiManager wifiManager = \r\n    (WifiManager)this.context.getSystemService(Context.WIFI_SERVICE);\r\nwifiManager.setWifiEnabled(status);\r\n\r\nBut **note** that it is not possible to do this anymore on Android 10 and probably going ahead as well.  \r\nhttps://issuetracker.google.com/issues/141011684","title":"Android: How to Enable/Disable Wifi or Internet Connection Programmatically","body":"<p>It is possible to enable/disable wifi <em>on pre Android 10</em> devices using the following code:</p>\n\n<pre><code>WifiManager wifiManager = \n(WifiManager)this.context.getSystemService(Context.WIFI_SERVICE);\n</code></pre>\n\n<p>wifiManager.setWifiEnabled(status);</p>\n\n<p>But <strong>note</strong> that it is not possible to do this anymore on Android 10 and probably going ahead as well.<br>\n<a href=\"https://issuetracker.google.com/issues/141011684\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/141011684</a></p>\n"},{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1653646266,"creation_date":1587215073,"answer_id":61289575,"question_id":3930990,"body_markdown":"In **Android Q (Android 10)** you can&#39;t enable/disable wifi programmatically anymore. Use **Settings Panel** to toggle wifi connectivity:\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n        // can also use `Settings.Panel.ACTION_WIFI` to enable/disable only WiFi\r\n        val panelIntent = Intent(Settings.Panel.ACTION_INTERNET_CONNECTIVITY)\r\n        startActivityForResult(panelIntent, 0)\r\n    } else {\r\n        // use previous solution, add appropriate permissions to AndroidManifest file (see answers above)\r\n        (this.context?.getSystemService(Context.WIFI_SERVICE) as? WifiManager)?.apply { isWifiEnabled = true /*or false*/ }\r\n    }","title":"Android: How to Enable/Disable Wifi or Internet Connection Programmatically","body":"<p>In <strong>Android Q (Android 10)</strong> you can't enable/disable wifi programmatically anymore. Use <strong>Settings Panel</strong> to toggle wifi connectivity:</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n    // can also use `Settings.Panel.ACTION_WIFI` to enable/disable only WiFi\n    val panelIntent = Intent(Settings.Panel.ACTION_INTERNET_CONNECTIVITY)\n    startActivityForResult(panelIntent, 0)\n} else {\n    // use previous solution, add appropriate permissions to AndroidManifest file (see answers above)\n    (this.context?.getSystemService(Context.WIFI_SERVICE) as? WifiManager)?.apply { isWifiEnabled = true /*or false*/ }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1069465,"reputation":536,"user_id":1069093,"accept_rate":20,"display_name":"RHL"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1591328559,"creation_date":1591328559,"answer_id":62207764,"question_id":3930990,"body_markdown":"Android 10 (Q) onwards wifi can not be enabled/disabled you need to open the setting intent,\r\n\r\n    // for android Q and above\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                Intent panelIntent = new \r\n    Intent(Settings.Panel.ACTION_INTERNET_CONNECTIVITY);\r\n                startActivityForResult(panelIntent, 0);\r\n            } else {\r\n                // for previous android version\r\n                WifiManager wifiManager = (WifiManager) \r\n    this.getApplicationContext().getSystemService(WIFI_SERVICE);\r\n                wifiManager.setWifiEnabled(true);\r\n            }\r\n\r\n\r\nIn manifest,\r\n\r\n     &lt;uses-permission\r\n        android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n    ","title":"Android: How to Enable/Disable Wifi or Internet Connection Programmatically","body":"<p>Android 10 (Q) onwards wifi can not be enabled/disabled you need to open the setting intent,</p>\n\n<pre><code>// for android Q and above\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            Intent panelIntent = new \nIntent(Settings.Panel.ACTION_INTERNET_CONNECTIVITY);\n            startActivityForResult(panelIntent, 0);\n        } else {\n            // for previous android version\n            WifiManager wifiManager = (WifiManager) \nthis.getApplicationContext().getSystemService(WIFI_SERVICE);\n            wifiManager.setWifiEnabled(true);\n        }\n</code></pre>\n\n<p>In manifest,</p>\n\n<pre><code> &lt;uses-permission\n    android:name=\"android.permission.CHANGE_WIFI_STATE\"\n    android:required=\"true\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15717080,"reputation":49,"user_id":11341026,"display_name":"Shivam Anand"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1593197691,"creation_date":1593185338,"answer_id":62597992,"question_id":3930990,"body_markdown":"This method is deprecated now from now starting with Android Q.\r\n\r\nTry This will really help.\r\n```\r\nif (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q) {// if build version is less than Q try the old traditional method\r\n                    if (!wifiManager.isWifiEnabled()) {\r\n                        wifiManager.setWifiEnabled(true);\r\n                        btnOnOff.setText(&quot;Wifi ONN&quot;);\r\n                    } else {\r\n                        wifiManager.setWifiEnabled(false);\r\n                        btnOnOff.setText(&quot;Wifi OFF&quot;);\r\n                    }\r\n                } else {// if it is Android Q and above go for the newer way    NOTE: You can also use this code for less than android Q also\r\n                    Intent panelIntent = new Intent(Settings.Panel.ACTION_WIFI);\r\n                    startActivityForResult(panelIntent, 1);\r\n                }\r\n```\r\n","title":"Android: How to Enable/Disable Wifi or Internet Connection Programmatically","body":"<p>This method is deprecated now from now starting with Android Q.</p>\n<p>Try This will really help.</p>\n<pre><code>if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q) {// if build version is less than Q try the old traditional method\n                    if (!wifiManager.isWifiEnabled()) {\n                        wifiManager.setWifiEnabled(true);\n                        btnOnOff.setText(&quot;Wifi ONN&quot;);\n                    } else {\n                        wifiManager.setWifiEnabled(false);\n                        btnOnOff.setText(&quot;Wifi OFF&quot;);\n                    }\n                } else {// if it is Android Q and above go for the newer way    NOTE: You can also use this code for less than android Q also\n                    Intent panelIntent = new Intent(Settings.Panel.ACTION_WIFI);\n                    startActivityForResult(panelIntent, 1);\n                }\n</code></pre>\n"}],"owner":{"account_id":213928,"reputation":13807,"user_id":467592,"accept_rate":92,"display_name":"Rohit Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167992,"favorite_count":0,"down_vote_count":1,"up_vote_count":92,"accepted_answer_id":3931094,"answer_count":10,"score":91,"last_activity_date":1653646266,"creation_date":1287041328,"question_id":3930990,"body_markdown":" Using the Connectivity Manager Class we can get access to either wifi or Internet Network:  \r\n\r\n    ConnectivityManager connec = (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);\r\n\r\n    // ARE WE CONNECTED TO THE NET\r\n    if ( connec.getNetworkInfo(0).getState() == NetworkInfo.State.CONNECTED ||\r\n      connec.getNetworkInfo(1).getState() == NetworkInfo.State.CONNECTED ) {\r\n      // ...\r\n    }\r\n\r\nwhere `0` and `1` respectively refers to mobile and wifi connection\r\n\r\nIf my Android device is connected to both, can we switch between any of the networks or can we disable any of the networks? Like using a function:\r\n\r\n    connec.getNetworkInfo(0).setState(NetworkInfo.State.DISCONNECTED);\r\n  \r\n   \r\n   ","title":"Android: How to Enable/Disable Wifi or Internet Connection Programmatically","body":"<p>Using the Connectivity Manager Class we can get access to either wifi or Internet Network:</p>\n<pre><code>ConnectivityManager connec = (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);\n\n// ARE WE CONNECTED TO THE NET\nif ( connec.getNetworkInfo(0).getState() == NetworkInfo.State.CONNECTED ||\n  connec.getNetworkInfo(1).getState() == NetworkInfo.State.CONNECTED ) {\n  // ...\n}\n</code></pre>\n<p>where <code>0</code> and <code>1</code> respectively refers to mobile and wifi connection</p>\n<p>If my Android device is connected to both, can we switch between any of the networks or can we disable any of the networks? Like using a function:</p>\n<pre><code>connec.getNetworkInfo(0).setState(NetworkInfo.State.DISCONNECTED);\n</code></pre>\n"},{"tags":["java","spring","authentication","oauth-2.0","saml"],"comments":[{"owner":{"account_id":4077251,"reputation":26290,"user_id":3348604,"display_name":"Jan Garaj"},"score":0,"creation_date":1653657510,"post_id":72403774,"comment_id":127910368,"body_markdown":"IMHO you don&#39;t need anything special if Grafana has configured OAuth auth and you are using only one IDP.","body":"IMHO you don&#39;t need anything special if Grafana has configured OAuth auth and you are using only one IDP."}],"owner":{"account_id":22913264,"reputation":21,"user_id":18196740,"display_name":"Nicholas Ku&#252;n"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1653646247,"creation_date":1653646149,"question_id":72403774,"body_markdown":"I am working on a client&#39;s Spring (SAML Authenticated) application backend. I need to embed a restricted Grafana dashboard on the front-end. It&#39;s been suggested that I can exchange the SAML Assertion for an OAuth token (JWT format). \r\n\r\nI have created a SAML authentication and a OAuth authentication prototype that I can use to grasp this concept.\r\n\r\nI can find little information about this exchange, and those that I do find are a little lost on me; I am not a spring expert.\r\nCan someone please explain how I would go about doing this, or link me to a tutorial that may be of some assistance. \r\n\r\nThanks in advance.","title":"How to exchange SAML assertion for an OAuth token","body":"<p>I am working on a client's Spring (SAML Authenticated) application backend. I need to embed a restricted Grafana dashboard on the front-end. It's been suggested that I can exchange the SAML Assertion for an OAuth token (JWT format).</p>\n<p>I have created a SAML authentication and a OAuth authentication prototype that I can use to grasp this concept.</p>\n<p>I can find little information about this exchange, and those that I do find are a little lost on me; I am not a spring expert.\nCan someone please explain how I would go about doing this, or link me to a tutorial that may be of some assistance.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1653645773,"post_id":72403629,"comment_id":127906307,"body_markdown":"Are you just looking for the `min` function? `min(i + minrun, newList.size())`","body":"Are you just looking for the <code>min</code> function? <code>min(i + minrun, newList.size())</code>"},{"owner":{"account_id":10162345,"reputation":50725,"user_id":7505395,"display_name":"Patrick Artner"},"score":0,"creation_date":1653646041,"post_id":72403629,"comment_id":127906388,"body_markdown":"Not python - tag removed.","body":"Not python - tag removed."},{"owner":{"account_id":25403938,"reputation":11,"user_id":19212955,"display_name":"rafitohumam"},"score":0,"creation_date":1653648034,"post_id":72403629,"comment_id":127907052,"body_markdown":"Ah, yes. Forgot about the min. Thank you Sweeper!","body":"Ah, yes. Forgot about the min. Thank you Sweeper!"}],"owner":{"account_id":25403938,"reputation":11,"user_id":19212955,"display_name":"rafitohumam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1653646020,"creation_date":1653645477,"question_id":72403629,"body_markdown":"I&#39;m currently trying to implement timsort algorithm on Kotlin and found java.lang.IndexOutOfBoundsException whenever I&#39;m trying to run array size of 100000 and minrun of 49.\r\n\r\nHere&#39;s my algorithm :\r\n\r\n```\r\nfun &lt;T : Comparable&lt;T&gt;&gt; List&lt;T&gt;.timSort(): List&lt;T&gt; {\r\n    var newList = this.toMutableList()\r\n    var n = newList.size\r\n    var minrun = 49\r\n\r\n    var minruninc = minrun\r\n    for (i in (0 until n step(minruninc))) {\r\n        var x = 0\r\n        var arrayElement = insertionSort(newList.slice(i until (i + minruninc)))\r\n        for (y in i until (i + minruninc)) {\r\n            newList[y] = arrayElement[x]\r\n            x += 1\r\n        }\r\n    }\r\n\r\n    var minruninc1 = minrun\r\n    while (minruninc1 &lt; n){\r\n        for (i in 0 until n step(2 * minruninc1)) {\r\n            var x = 0\r\n            var arrayMerge = merge((newList.slice(i until i + minruninc1)),\r\n                (newList.slice(i + minruninc1 until i + 2 * minruninc1)))\r\n            for (y in i until (i + 2 * minruninc1)) {\r\n                newList[y] = arrayMerge[x]\r\n                x += 1\r\n            }\r\n        }\r\n        minruninc1 *=2\r\n    }\r\n    return newList\r\n}\r\n```\r\nThe line\r\n`var arrayElement = insertionSort(newList.slice(i until (i + minruninc)))` returns out IndexOutOfBounds. When the `i` in for loop is set to 99960, the `(i + minrun)` returns a value of 100009, which causes the program to trigger the problem.\r\n\r\nBut, I need the algorithm to work when `(i + minrun)` is set every loop. The program sorts every minrun value of the list&#39;s element.\r\n\r\nMy question is, how can I control the last indexing part of the sorting algorithm so whenever `(i + minrun)` is more than array size, the indexing stops at exactly array size, not crossing the bounds?\r\n\r\nThank you.\r\n\r\nEvery help is appreciated.","title":"Kotlin Sublist Out of Bounds","body":"<p>I'm currently trying to implement timsort algorithm on Kotlin and found java.lang.IndexOutOfBoundsException whenever I'm trying to run array size of 100000 and minrun of 49.</p>\n<p>Here's my algorithm :</p>\n<pre><code>fun &lt;T : Comparable&lt;T&gt;&gt; List&lt;T&gt;.timSort(): List&lt;T&gt; {\n    var newList = this.toMutableList()\n    var n = newList.size\n    var minrun = 49\n\n    var minruninc = minrun\n    for (i in (0 until n step(minruninc))) {\n        var x = 0\n        var arrayElement = insertionSort(newList.slice(i until (i + minruninc)))\n        for (y in i until (i + minruninc)) {\n            newList[y] = arrayElement[x]\n            x += 1\n        }\n    }\n\n    var minruninc1 = minrun\n    while (minruninc1 &lt; n){\n        for (i in 0 until n step(2 * minruninc1)) {\n            var x = 0\n            var arrayMerge = merge((newList.slice(i until i + minruninc1)),\n                (newList.slice(i + minruninc1 until i + 2 * minruninc1)))\n            for (y in i until (i + 2 * minruninc1)) {\n                newList[y] = arrayMerge[x]\n                x += 1\n            }\n        }\n        minruninc1 *=2\n    }\n    return newList\n}\n</code></pre>\n<p>The line\n<code>var arrayElement = insertionSort(newList.slice(i until (i + minruninc)))</code> returns out IndexOutOfBounds. When the <code>i</code> in for loop is set to 99960, the <code>(i + minrun)</code> returns a value of 100009, which causes the program to trigger the problem.</p>\n<p>But, I need the algorithm to work when <code>(i + minrun)</code> is set every loop. The program sorts every minrun value of the list's element.</p>\n<p>My question is, how can I control the last indexing part of the sorting algorithm so whenever <code>(i + minrun)</code> is more than array size, the indexing stops at exactly array size, not crossing the bounds?</p>\n<p>Thank you.</p>\n<p>Every help is appreciated.</p>\n"},{"tags":["java","maven","testing","cucumber","gherkin"],"comments":[{"owner":{"account_id":9779137,"reputation":13469,"user_id":7247920,"display_name":"ggradnig"},"score":0,"creation_date":1501247953,"post_id":45374420,"comment_id":77710289,"body_markdown":"could you provide the pom.xml file?","body":"could you provide the pom.xml file?"},{"owner":{"account_id":408579,"reputation":9103,"user_id":779340,"accept_rate":69,"display_name":"rascio"},"score":0,"creation_date":1501248303,"post_id":45374420,"comment_id":77710537,"body_markdown":"I don&#39;t have any particular configuration for tests in the pom, I didn&#39;t declare the surefire plugin nor the failsafe...(I don&#39;t know if I can post publicly the pom.xml)","body":"I don&#39;t have any particular configuration for tests in the pom, I didn&#39;t declare the surefire plugin nor the failsafe...(I don&#39;t know if I can post publicly the pom.xml)"},{"owner":{"account_id":408579,"reputation":9103,"user_id":779340,"accept_rate":69,"display_name":"rascio"},"score":0,"creation_date":1501248398,"post_id":45374420,"comment_id":77710614,"body_markdown":"I&#39;ve added the cucumber dependencies in the question","body":"I&#39;ve added the cucumber dependencies in the question"},{"owner":{"account_id":9779137,"reputation":13469,"user_id":7247920,"display_name":"ggradnig"},"score":0,"creation_date":1501249209,"post_id":45374420,"comment_id":77711190,"body_markdown":"where is your CucumberTest file located?","body":"where is your CucumberTest file located?"},{"owner":{"account_id":408579,"reputation":9103,"user_id":779340,"accept_rate":69,"display_name":"rascio"},"score":0,"creation_date":1501249352,"post_id":45374420,"comment_id":77711313,"body_markdown":"In the same package as the other files...currently I&#39;ve also solved changing from junit to testng","body":"In the same package as the other files...currently I&#39;ve also solved changing from junit to testng"}],"answers":[{"tags":[],"owner":{"account_id":17415135,"reputation":175,"user_id":12621639,"display_name":"Catalin Pirvu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653645934,"creation_date":1653645934,"answer_id":72403720,"question_id":45374420,"body_markdown":"In my case I had &quot;dryRun&quot; Cucumber option set and it was picking older features.","title":"Maven build not failing when gherkin tests fails","body":"<p>In my case I had &quot;dryRun&quot; Cucumber option set and it was picking older features.</p>\n"}],"owner":{"account_id":408579,"reputation":9103,"user_id":779340,"accept_rate":69,"display_name":"rascio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653645934,"creation_date":1501247372,"question_id":45374420,"body_markdown":"I have a maven project which executes some Gherkin files to do some tests, but when some of these tests fails maven doesn&#39;t care and succesfully complete the build.\r\n\r\nMy configuration is like:\r\n\r\n    public class AppStepDefs extends AppSpringIntegrationTest {\r\n\r\n        @Autowired\r\n        ContentServiceMock contentMock;\r\n        @Autowired\r\n        FileStorageServiceMock fileStorageMock;\r\n\r\n        @Given(&quot;^following stuff are stored in content service$&quot;)\r\n        public void given_following_stuff(DataTable dataTable) {\r\n            dataTable.asMaps(String.class, String.class)\r\n                .stream()\r\n                .map(StuffConverter::fromDataTableRow)\r\n                .forEach(stuff -&gt; contentMock.insert(stuff.get(&quot;id&quot;).toString(), stuff));\r\n        }\r\n\r\n        //...all the other steps\r\n    }\r\n\r\nThen my `AppSpringIntegrationTests`:\r\n\r\n    @ContextConfiguration(\r\n        classes = AppFunctionalTestConfiguration.class,\r\n        loader = SpringApplicationContextLoader.class\r\n    )\r\n    @IntegrationTest\r\n    public class AppSpringIntegrationTest {\r\n          @Bean\r\n          public FileStorageService fileStorageClient() {\r\n             return new FileStorageServiceMock();\r\n          }\r\n          //...all the other beans\r\n    }\r\n\r\nAnd then the cucumber configuration class:\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n        features = &quot;src/test/resources/functional/features&quot;,\r\n        format = {&quot;pretty&quot;, &quot;html:target/cucumber&quot;}\r\n    )\r\n    public class CucumberTest {\r\n    }\r\n\r\nAll the tests get executed but when they fail:\r\n\r\n     Failed scenarios:\r\n     cucumber_conf.feature:12 # Scenario: Test creation with stuff\r\n\r\n     22 Scenarios (1 failed, 21 passed)\r\n     65 Steps (1 failed, 64 passed)\r\n     0m12,586s\r\n\r\n     Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 17.866 sec - in TestSuite\r\n     \r\n     Results :\r\n     \r\n     Tests run: 10, Failures: 0, Errors: 0, Skipped: 0\r\n     \r\n     [INFO] ------------------------------------------------------------------------\r\n     [INFO] Reactor Summary:\r\n     [INFO] \r\n     [INFO] StuffService Parent ............ SUCCESS [  1.012 s]\r\n     [INFO] StuffService ................... SUCCESS [ 22.588 s]\r\n     [INFO] ------------------------------------------------------------------------\r\n     [INFO] BUILD SUCCESS\r\n     [INFO] ------------------------------------------------------------------------\r\n     [INFO] Total time: 32.992 s\r\n     [INFO] Finished at: 2017-07-28T14:46:35+02:00\r\n     [INFO] Final Memory: 60M/419M\r\n     [INFO] ------------------------------------------------------------------------\r\n\r\nThese are the cucumber dependencies I&#39;m using:\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;","title":"Maven build not failing when gherkin tests fails","body":"<p>I have a maven project which executes some Gherkin files to do some tests, but when some of these tests fails maven doesn't care and succesfully complete the build.</p>\n\n<p>My configuration is like:</p>\n\n<pre><code>public class AppStepDefs extends AppSpringIntegrationTest {\n\n    @Autowired\n    ContentServiceMock contentMock;\n    @Autowired\n    FileStorageServiceMock fileStorageMock;\n\n    @Given(\"^following stuff are stored in content service$\")\n    public void given_following_stuff(DataTable dataTable) {\n        dataTable.asMaps(String.class, String.class)\n            .stream()\n            .map(StuffConverter::fromDataTableRow)\n            .forEach(stuff -&gt; contentMock.insert(stuff.get(\"id\").toString(), stuff));\n    }\n\n    //...all the other steps\n}\n</code></pre>\n\n<p>Then my <code>AppSpringIntegrationTests</code>:</p>\n\n<pre><code>@ContextConfiguration(\n    classes = AppFunctionalTestConfiguration.class,\n    loader = SpringApplicationContextLoader.class\n)\n@IntegrationTest\npublic class AppSpringIntegrationTest {\n      @Bean\n      public FileStorageService fileStorageClient() {\n         return new FileStorageServiceMock();\n      }\n      //...all the other beans\n}\n</code></pre>\n\n<p>And then the cucumber configuration class:</p>\n\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(\n    features = \"src/test/resources/functional/features\",\n    format = {\"pretty\", \"html:target/cucumber\"}\n)\npublic class CucumberTest {\n}\n</code></pre>\n\n<p>All the tests get executed but when they fail:</p>\n\n<pre><code> Failed scenarios:\n cucumber_conf.feature:12 # Scenario: Test creation with stuff\n\n 22 Scenarios (1 failed, 21 passed)\n 65 Steps (1 failed, 64 passed)\n 0m12,586s\n\n Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 17.866 sec - in TestSuite\n\n Results :\n\n Tests run: 10, Failures: 0, Errors: 0, Skipped: 0\n\n [INFO] ------------------------------------------------------------------------\n [INFO] Reactor Summary:\n [INFO] \n [INFO] StuffService Parent ............ SUCCESS [  1.012 s]\n [INFO] StuffService ................... SUCCESS [ 22.588 s]\n [INFO] ------------------------------------------------------------------------\n [INFO] BUILD SUCCESS\n [INFO] ------------------------------------------------------------------------\n [INFO] Total time: 32.992 s\n [INFO] Finished at: 2017-07-28T14:46:35+02:00\n [INFO] Final Memory: 60M/419M\n [INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>These are the cucumber dependencies I'm using:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;1.2.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n            &lt;version&gt;1.2.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;1.2.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin","tomcat","hapi-fhir"],"comments":[{"owner":{"account_id":2131135,"reputation":170,"user_id":1891947,"display_name":"Nikhil"},"score":0,"creation_date":1653646553,"post_id":72403718,"comment_id":127906578,"body_markdown":"Have you tried this? https://stackoverflow.com/questions/13482020/encoded-slash-2f-with-spring-requestmapping-path-param-gives-http-400","body":"Have you tried this? <a href=\"https://stackoverflow.com/questions/13482020/encoded-slash-2f-with-spring-requestmapping-path-param-gives-http-400\" title=\"encoded slash 2f with spring requestmapping path param gives http 400\">stackoverflow.com/questions/13482020/&hellip;</a>"},{"owner":{"account_id":13700778,"reputation":73,"user_id":9885998,"display_name":"Jonny"},"score":0,"creation_date":1653647855,"post_id":72403718,"comment_id":127906995,"body_markdown":"@Nikhil unfortunately UDecder class only has one static variable &quot;ALLOW_ENCODED_SLASH&quot;. But I need for question mark. ","body":"@Nikhil unfortunately UDecder class only has one static variable &quot;ALLOW_ENCODED_SLASH&quot;. But I need for question mark. "}],"owner":{"account_id":13700778,"reputation":73,"user_id":9885998,"display_name":"Jonny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653645926,"creation_date":1653645926,"question_id":72403718,"body_markdown":"    html://www.somewhat.com/_search%3Fname=blabla\r\n\r\nI have a this type of URL. It works when I replace `%3F` with `?` mark. But I need it to work with both. I have tried with `relaxed-path-chars:&quot;?&quot;` and `relaxed-query-chars:&quot;?&quot;` in application.yaml. But I have found it only works `&lt; &gt; [ \\ ] ^  { | }` these symbols.\r\n\r\n    { &quot;resourceType&quot;: &quot;OperationOutcome&quot;, &quot;issue&quot;: [ { &quot;severity&quot;: &quot;error&quot;, &quot;code&quot;: &quot;not-supported&quot;, &quot;diagnostics&quot;: &quot;Invalid request: The FHIR endpoint on this server does not know how to handle GET operation[url] with parameters [[]]&quot; } ] }\r\n\r\nI am using a tomcat embedded spring boot server. What can I do?","title":"How to allow question mark in a URL with spring boot embeded tomcat","body":"<pre><code>html://www.somewhat.com/_search%3Fname=blabla\n</code></pre>\n<p>I have a this type of URL. It works when I replace <code>%3F</code> with <code>?</code> mark. But I need it to work with both. I have tried with <code>relaxed-path-chars:&quot;?&quot;</code> and <code>relaxed-query-chars:&quot;?&quot;</code> in application.yaml. But I have found it only works <code>&lt; &gt; [ \\ ] ^  { | }</code> these symbols.</p>\n<pre><code>{ &quot;resourceType&quot;: &quot;OperationOutcome&quot;, &quot;issue&quot;: [ { &quot;severity&quot;: &quot;error&quot;, &quot;code&quot;: &quot;not-supported&quot;, &quot;diagnostics&quot;: &quot;Invalid request: The FHIR endpoint on this server does not know how to handle GET operation[url] with parameters [[]]&quot; } ] }\n</code></pre>\n<p>I am using a tomcat embedded spring boot server. What can I do?</p>\n"},{"tags":["java","java-11","sunpkcs11"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1653683485,"post_id":72403711,"comment_id":127919030,"body_markdown":"You need to `.configure` (not `.load`) a SunPKCS11 provider from a `File` (i.e. name) not an `InputStream`, and use the returned object not the initial one; see the documentation. This is not new; your code should not work by itself in any Java version. However, the provider can also be configured in the java.security file; perhaps you have a installed 8 that does this and and installed 11 that does not. (The file _location_ does change between 8 and 9.)","body":"You need to <code>.configure</code> (not <code>.load</code>) a SunPKCS11 provider from a <code>File</code> (i.e. name) not an <code>InputStream</code>, and use the returned object not the initial one; see the documentation. This is not new; your code should not work by itself in any Java version. However, the provider can also be configured in the java.security file; perhaps you have a installed 8 that does this and and installed 11 that does not. (The file <i>location</i> does change between 8 and 9.)"}],"owner":{"account_id":25404313,"reputation":11,"user_id":19213266,"display_name":"Apoorva Garg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1075,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653645905,"creation_date":1653645905,"question_id":72403711,"body_markdown":"I have recently migrated from Java8 to Java11. The below piece of code is giving an issue:\r\n\r\nOne of my methods to load the provider looks like below:\r\n\r\n            Provider prototype = Security.getProvider(&quot;SunPKCS11&quot;);\r\n\t\t\tfinal String providerConfig = config.getProviderConfig();\r\n\t\t\tLOGGER.debug(&quot;providerConfig={}&quot;, providerConfig);\r\n\t\t\tprototype.load(resourceLoader.getResource(providerConfig).getInputStream());\r\n\t\t\tSecurity.addProvider(prototype);\r\n\t\t\tLOGGER.debug(&quot;prototype={}&quot;, prototype);\r\n\t\t\treturn prototype;\r\n\r\nAnd place where I am encountering exception in another method:\r\n\r\n            **KeyStore keyStore = KeyStore.getInstance(&quot;PKCS11&quot;, provider);**\r\n\t\t\tkeyStore.load(null, keyPassword.toCharArray());\r\n\r\nI am getting below exception in the highlighted line of code:\r\n\r\n    java.security.KeyStoreException: PKCS11 not found\r\n\tat java.security.KeyStore.getInstance(KeyStore.java:974) ~[?:?]\r\n\r\n    Caused by: java.security.NoSuchAlgorithmException: no such algorithm: PKCS11 for \r\n    provider SunPKCS11\r\n\tat sun.security.jca.GetInstance.getService(GetInstance.java:101) ~[?:?]\r\n\tat sun.security.jca.GetInstance.getInstance(GetInstance.java:218) ~[?:?]\r\n\tat java.security.Security.getImpl(Security.java:727) ~[?:?]\r\n\tat java.security.KeyStore.getInstance(KeyStore.java:971) ~[?:?]\r\n\r\n\r\nKindly advice.","title":"java.security.KeyStoreException: PKCS11 not found Caused by: java.security.NoSuchAlgorithmException: no such algorithm: PKCS11 for provider SunPKCS11","body":"<p>I have recently migrated from Java8 to Java11. The below piece of code is giving an issue:</p>\n<p>One of my methods to load the provider looks like below:</p>\n<pre><code>        Provider prototype = Security.getProvider(&quot;SunPKCS11&quot;);\n        final String providerConfig = config.getProviderConfig();\n        LOGGER.debug(&quot;providerConfig={}&quot;, providerConfig);\n        prototype.load(resourceLoader.getResource(providerConfig).getInputStream());\n        Security.addProvider(prototype);\n        LOGGER.debug(&quot;prototype={}&quot;, prototype);\n        return prototype;\n</code></pre>\n<p>And place where I am encountering exception in another method:</p>\n<pre><code>        **KeyStore keyStore = KeyStore.getInstance(&quot;PKCS11&quot;, provider);**\n        keyStore.load(null, keyPassword.toCharArray());\n</code></pre>\n<p>I am getting below exception in the highlighted line of code:</p>\n<pre><code>java.security.KeyStoreException: PKCS11 not found\nat java.security.KeyStore.getInstance(KeyStore.java:974) ~[?:?]\n\nCaused by: java.security.NoSuchAlgorithmException: no such algorithm: PKCS11 for \nprovider SunPKCS11\nat sun.security.jca.GetInstance.getService(GetInstance.java:101) ~[?:?]\nat sun.security.jca.GetInstance.getInstance(GetInstance.java:218) ~[?:?]\nat java.security.Security.getImpl(Security.java:727) ~[?:?]\nat java.security.KeyStore.getInstance(KeyStore.java:971) ~[?:?]\n</code></pre>\n<p>Kindly advice.</p>\n"},{"tags":["java","image","swing","jpanel","embedded-resource"],"comments":[{"owner":{"account_id":4116425,"reputation":595,"user_id":3377857,"display_name":"Klemens Morbe"},"score":0,"creation_date":1652993193,"post_id":72309577,"comment_id":127749042,"body_markdown":"Where&#39;s the location of the image? Is it located in the project? Outside the project?","body":"Where&#39;s the location of the image? Is it located in the project? Outside the project?"},{"owner":{"account_id":15548447,"reputation":3,"user_id":11338497,"display_name":"nino_user183677"},"score":0,"creation_date":1653381709,"post_id":72309577,"comment_id":127832236,"body_markdown":"@KlemensMorbe as I wrote the path is right. The image is located in the same folder with the java file.","body":"@KlemensMorbe as I wrote the path is right. The image is located in the same folder with the java file."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652992752,"creation_date":1652992752,"answer_id":72310825,"question_id":72309577,"body_markdown":"I use code like this - just watch out I load the image from the classpath:\r\n\r\n    public class App extends javax.swing.JFrame {\r\n        private final javax.swing.ImageIcon iiFound = new javax.swing.ImageIcon(getClass().getResource(&quot;/images/done_outline_FILL0_wght400_GRAD0_opsz48.png&quot;));\r\n\r\n        ...\r\n        JLabel myLabel = new JLabel();\r\n        myLabel.setIcon(iiFound);\r\n        ...\r\n\r\nWith this I can initialize the UI with a specific icon, but I also can replace the image at runtime, e.g. from an ActionListener attached to a JButton.\r\n","title":"I can&#39;t display an image in a panel","body":"<p>I use code like this - just watch out I load the image from the classpath:</p>\n<pre><code>public class App extends javax.swing.JFrame {\n    private final javax.swing.ImageIcon iiFound = new javax.swing.ImageIcon(getClass().getResource(&quot;/images/done_outline_FILL0_wght400_GRAD0_opsz48.png&quot;));\n\n    ...\n    JLabel myLabel = new JLabel();\n    myLabel.setIcon(iiFound);\n    ...\n</code></pre>\n<p>With this I can initialize the UI with a specific icon, but I also can replace the image at runtime, e.g. from an ActionListener attached to a JButton.</p>\n"}],"owner":{"account_id":15548447,"reputation":3,"user_id":11338497,"display_name":"nino_user183677"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72310825,"answer_count":1,"score":0,"last_activity_date":1653645477,"creation_date":1652985497,"question_id":72309577,"body_markdown":"I&#39;m trying to display an image in a `JPanel` in an application where I already did that in another panel. So the first thing I did it was to use the same code but it didn&#39;t work!\r\n\r\nI got this message: \r\n\r\n    javax.imageio.IIOException: Can&#39;t read input file!\r\n\r\nSo did some Google search and I got the following example from Youtube: \r\n\r\n    package MainFrame\r\n    import all as required\r\n\r\n    public class ExImage {\r\n \r\n      ExImage()\r\n      {\r\n      try \r\n      {\r\n        JFrame.setDefaultLookAndFeelDecorated(true);\r\n        JFrame frame = new JFrame(&quot;JPanel Example&quot;);\r\n\r\n        JPanel panel = new JPanel();\r\n        panel.setBounds(50, 50, 250, 250);\r\n        BufferedImage image = ImageIO.read(new File(&quot;about.png&quot;));\r\n        JLabel label = new JLabel(new ImageIcon(image));\r\n        panel.add(label);\r\n \r\n        // main window\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n \r\n        // add the Jpanel to the main window\r\n        frame.add(panel); \r\n        frame.setSize(400, 400);\r\n        frame.setLayout(null);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n      } \r\n      catch (IOException e) {\r\n      e.printStackTrace();\r\n      }\r\n  \r\n      }\r\n\r\nI copied it because in the video it worked well. But surprisingly when I test it I got the same error!\r\nOf course, the path is right, so I don&#39;t understand why the code doesn&#39;t find the image.","title":"I can&#39;t display an image in a panel","body":"<p>I'm trying to display an image in a <code>JPanel</code> in an application where I already did that in another panel. So the first thing I did it was to use the same code but it didn't work!</p>\n<p>I got this message:</p>\n<pre><code>javax.imageio.IIOException: Can't read input file!\n</code></pre>\n<p>So did some Google search and I got the following example from Youtube:</p>\n<pre><code>package MainFrame\nimport all as required\n\npublic class ExImage {\n\n  ExImage()\n  {\n  try \n  {\n    JFrame.setDefaultLookAndFeelDecorated(true);\n    JFrame frame = new JFrame(&quot;JPanel Example&quot;);\n\n    JPanel panel = new JPanel();\n    panel.setBounds(50, 50, 250, 250);\n    BufferedImage image = ImageIO.read(new File(&quot;about.png&quot;));\n    JLabel label = new JLabel(new ImageIcon(image));\n    panel.add(label);\n\n    // main window\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    // add the Jpanel to the main window\n    frame.add(panel); \n    frame.setSize(400, 400);\n    frame.setLayout(null);\n    frame.pack();\n    frame.setVisible(true);\n  } \n  catch (IOException e) {\n  e.printStackTrace();\n  }\n\n  }\n</code></pre>\n<p>I copied it because in the video it worked well. But surprisingly when I test it I got the same error!\nOf course, the path is right, so I don't understand why the code doesn't find the image.</p>\n"},{"tags":["java","swing","jpanel"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653195630,"post_id":72334850,"comment_id":127789377,"body_markdown":"`rightpanel.paint(rightpanel.getGraphics());` ... nope, see [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) and [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html)","body":"<code>rightpanel.paint(rightpanel.getGraphics());</code> ... nope, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> and <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a>"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1653195714,"post_id":72334850,"comment_id":127789386,"body_markdown":"I just need help with making the ball detect the jpanel wall, I will replace that line later","body":"I just need help with making the ball detect the jpanel wall, I will replace that line later"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653195892,"post_id":72334850,"comment_id":127789399,"body_markdown":"You have problems, a `JPanel` already has a concept of location and size, but you&#39;ve added in your own - it&#39;s kind of making a mess","body":"You have problems, a <code>JPanel</code> already has a concept of location and size, but you&#39;ve added in your own - it&#39;s kind of making a mess"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1653195988,"post_id":72334850,"comment_id":127789411,"body_markdown":"I have an object drawn inside the JPanel the getters and setters are for the object drawn, I tried to get the difference between the height of the panel and the height of the ball and get difference","body":"I have an object drawn inside the JPanel the getters and setters are for the object drawn, I tried to get the difference between the height of the panel and the height of the ball and get difference"},{"owner":{"account_id":1985247,"reputation":395,"user_id":1780667,"accept_rate":67,"display_name":"Deepeshkumar"},"score":0,"creation_date":1653195997,"post_id":72334850,"comment_id":127789413,"body_markdown":"I ran your code. When the ball reaches maximum depth the &quot;move up&quot; button fails to move it up. Is that the problem?","body":"I ran your code. When the ball reaches maximum depth the &quot;move up&quot; button fails to move it up. Is that the problem?"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1653196104,"post_id":72334850,"comment_id":127789427,"body_markdown":"Yes it should start moving in the opposite direction","body":"Yes it should start moving in the opposite direction"},{"owner":{"account_id":1985247,"reputation":395,"user_id":1780667,"accept_rate":67,"display_name":"Deepeshkumar"},"score":0,"creation_date":1653196194,"post_id":72334850,"comment_id":127789436,"body_markdown":"ok! Got ya problem!","body":"ok! Got ya problem!"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653196223,"post_id":72334850,"comment_id":127789443,"body_markdown":"@TechGeek And now you component has two sets of coordinates - better to seperate those concepts (IHMO)","body":"@TechGeek And now you component has two sets of coordinates - better to seperate those concepts (IHMO)"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1653196971,"post_id":72334850,"comment_id":127789501,"body_markdown":"@MadProgrammer, why did you delete that, its what I needed","body":"@MadProgrammer, why did you delete that, its what I needed"},{"owner":{"account_id":1985247,"reputation":395,"user_id":1780667,"accept_rate":67,"display_name":"Deepeshkumar"},"score":0,"creation_date":1653197289,"post_id":72334850,"comment_id":127789540,"body_markdown":"If you put the moving up logic in the action listener of the &quot;up&quot; button and remove the line &quot;mytimer.start()&quot; the buttons will perform all the actions as per your logic perfectly, \nWhat do you want to achieve using the abstract action my timer?","body":"If you put the moving up logic in the action listener of the &quot;up&quot; button and remove the line &quot;mytimer.start()&quot; the buttons will perform all the actions as per your logic perfectly,  What do you want to achieve using the abstract action my timer?"},{"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"score":0,"creation_date":1653197427,"post_id":72334850,"comment_id":127789558,"body_markdown":"I want to move it without a button, the buttons are for starting the timers","body":"I want to move it without a button, the buttons are for starting the timers"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653197486,"post_id":72334850,"comment_id":127789563,"body_markdown":"@TechGeek Because it wasn&#39;t exactly what you needed ;)","body":"@TechGeek Because it wasn&#39;t exactly what you needed ;)"},{"owner":{"account_id":1985247,"reputation":395,"user_id":1780667,"accept_rate":67,"display_name":"Deepeshkumar"},"score":0,"creation_date":1653197516,"post_id":72334850,"comment_id":127789566,"body_markdown":"So move up should keep moving the ball upwards continuously and the move  down button  will keep moving the ball downwards? Is that what is needed?","body":"So move up should keep moving the ball upwards continuously and the move  down button  will keep moving the ball downwards? Is that what is needed?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653197871,"creation_date":1653196871,"answer_id":72334982,"question_id":72334850,"body_markdown":"The basic idea is, when you &quot;drop&quot; the ball, you need to determine the direction of movement that the ball should move in.  When the `timer` ticks, it will apply that direction of movement until it either reaches the bottom, at which time the delta is reversed, or it reaches the top.\r\n\r\nThe important part here is, all the state the `timer` needs should be determined before the `timer` is started and not calculated within the `timer` itself, as the state it needs is no longer relevant.\r\n\r\nFor example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Shape;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.geom.Ellipse2D;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Ball ball = new Ball(20);\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane(ball));\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class Ball {\r\n            private Point location;\r\n            private Dimension size;\r\n            private Shape shape;\r\n\r\n            public Ball(int radius) {\r\n                location = new Point(0, 0);\r\n                size = new Dimension(radius * 2, radius * 2);\r\n                shape = new Ellipse2D.Double(0, 0, radius * 2, radius * 2);\r\n            }\r\n\r\n            public Rectangle getBounds() {\r\n                return new Rectangle(location, size);\r\n            }\r\n\r\n            public void setLocation(Point p) {\r\n                location = new Point(p);\r\n            }\r\n\r\n            public void paint(Graphics2D g2d) {\r\n                g2d = (Graphics2D) g2d.create();\r\n                g2d.setColor(Color.RED);\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2d.translate(location.x, location.y);\r\n                g2d.fill(shape);\r\n                g2d.dispose();\r\n            }\r\n        }\r\n\r\n        public class SurfacePane extends JPanel {\r\n\r\n            private Ball ball;\r\n            private Timer timer;\r\n            private int yDelta;\r\n\r\n            public SurfacePane(Ball ball) {\r\n                this.ball = ball;\r\n                this.ball.setLocation(new Point(200 - (ball.getBounds().width / 2), 0));\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                ball.paint(g2d);\r\n                g2d.dispose();\r\n            }\r\n\r\n            public void moveBallDown() {\r\n                Rectangle bounds = ball.getBounds();\r\n                Dimension size = ball.size;\r\n                Point location = bounds.getLocation();\r\n                location.y += size.height;\r\n                if (location.y + size.height &gt; getHeight()) {\r\n                    location.y = getHeight() - size.height;\r\n                }\r\n                ball.setLocation(location);\r\n                repaint();\r\n            }\r\n\r\n            public void dropBall() {\r\n                if (timer != null) {\r\n                    return;\r\n                }\r\n                Rectangle bounds = ball.getBounds();\r\n                Dimension size = ball.size;\r\n                Point location = bounds.getLocation();\r\n                if (location.y + size.height &gt; getHeight()) {\r\n                    yDelta = -1;\r\n                } else {\r\n                    yDelta = 1;\r\n                }\r\n\r\n                timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        Rectangle bounds = ball.getBounds();\r\n                        Dimension size = ball.size;\r\n                        Point location = bounds.getLocation();\r\n                        location.y += yDelta;\r\n                        if (location.y &lt; 0) {\r\n                            location.y = 0;\r\n                            yDelta = 0;\r\n                            timer.stop();\r\n                            timer = null;\r\n                        } else if (location.y + size.height &gt; getHeight()) {\r\n                            location.y = getHeight() - size.height;\r\n                            yDelta *= -1;\r\n                        }\r\n                        ball.setLocation(location);\r\n                        repaint();\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n\r\n            private Ball ball;\r\n            private SurfacePane surfacePane;\r\n\r\n            public MainPane(Ball ball) {\r\n                setLayout(new BorderLayout());\r\n                this.ball = ball;\r\n                surfacePane = new SurfacePane(ball);\r\n                add(surfacePane);\r\n\r\n                JPanel actionPane = new JPanel(new GridBagLayout());\r\n                JButton up = new JButton(&quot;Up&quot;);\r\n                JButton down = new JButton(&quot;Down&quot;);\r\n\r\n                actionPane.add(up);\r\n                actionPane.add(down);\r\n\r\n                add(actionPane, BorderLayout.SOUTH);\r\n\r\n                up.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        surfacePane.dropBall();\r\n                    }\r\n                });\r\n                down.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        surfacePane.moveBallDown();\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4VaLu.gif","title":"How to make ball drawn with Java bounce off the edges of the panel?","body":"<p>The basic idea is, when you &quot;drop&quot; the ball, you need to determine the direction of movement that the ball should move in.  When the <code>timer</code> ticks, it will apply that direction of movement until it either reaches the bottom, at which time the delta is reversed, or it reaches the top.</p>\n<p>The important part here is, all the state the <code>timer</code> needs should be determined before the <code>timer</code> is started and not calculated within the <code>timer</code> itself, as the state it needs is no longer relevant.</p>\n<p>For example...</p>\n<p><a href=\"https://i.stack.imgur.com/4VaLu.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4VaLu.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagLayout;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport java.awt.Shape;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.Ellipse2D;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                Ball ball = new Ball(20);\n                JFrame frame = new JFrame();\n                frame.add(new MainPane(ball));\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class Ball {\n        private Point location;\n        private Dimension size;\n        private Shape shape;\n\n        public Ball(int radius) {\n            location = new Point(0, 0);\n            size = new Dimension(radius * 2, radius * 2);\n            shape = new Ellipse2D.Double(0, 0, radius * 2, radius * 2);\n        }\n\n        public Rectangle getBounds() {\n            return new Rectangle(location, size);\n        }\n\n        public void setLocation(Point p) {\n            location = new Point(p);\n        }\n\n        public void paint(Graphics2D g2d) {\n            g2d = (Graphics2D) g2d.create();\n            g2d.setColor(Color.RED);\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.translate(location.x, location.y);\n            g2d.fill(shape);\n            g2d.dispose();\n        }\n    }\n\n    public class SurfacePane extends JPanel {\n\n        private Ball ball;\n        private Timer timer;\n        private int yDelta;\n\n        public SurfacePane(Ball ball) {\n            this.ball = ball;\n            this.ball.setLocation(new Point(200 - (ball.getBounds().width / 2), 0));\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            ball.paint(g2d);\n            g2d.dispose();\n        }\n\n        public void moveBallDown() {\n            Rectangle bounds = ball.getBounds();\n            Dimension size = ball.size;\n            Point location = bounds.getLocation();\n            location.y += size.height;\n            if (location.y + size.height &gt; getHeight()) {\n                location.y = getHeight() - size.height;\n            }\n            ball.setLocation(location);\n            repaint();\n        }\n\n        public void dropBall() {\n            if (timer != null) {\n                return;\n            }\n            Rectangle bounds = ball.getBounds();\n            Dimension size = ball.size;\n            Point location = bounds.getLocation();\n            if (location.y + size.height &gt; getHeight()) {\n                yDelta = -1;\n            } else {\n                yDelta = 1;\n            }\n\n            timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    Rectangle bounds = ball.getBounds();\n                    Dimension size = ball.size;\n                    Point location = bounds.getLocation();\n                    location.y += yDelta;\n                    if (location.y &lt; 0) {\n                        location.y = 0;\n                        yDelta = 0;\n                        timer.stop();\n                        timer = null;\n                    } else if (location.y + size.height &gt; getHeight()) {\n                        location.y = getHeight() - size.height;\n                        yDelta *= -1;\n                    }\n                    ball.setLocation(location);\n                    repaint();\n                }\n            });\n            timer.start();\n        }\n    }\n\n    public class MainPane extends JPanel {\n\n        private Ball ball;\n        private SurfacePane surfacePane;\n\n        public MainPane(Ball ball) {\n            setLayout(new BorderLayout());\n            this.ball = ball;\n            surfacePane = new SurfacePane(ball);\n            add(surfacePane);\n\n            JPanel actionPane = new JPanel(new GridBagLayout());\n            JButton up = new JButton(&quot;Up&quot;);\n            JButton down = new JButton(&quot;Down&quot;);\n\n            actionPane.add(up);\n            actionPane.add(down);\n\n            add(actionPane, BorderLayout.SOUTH);\n\n            up.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    surfacePane.dropBall();\n                }\n            });\n            down.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    surfacePane.moveBallDown();\n                }\n            });\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72334982,"answer_count":1,"score":0,"last_activity_date":1653645435,"creation_date":1653194552,"question_id":72334850,"body_markdown":"I have java code that draws a red ball inside a class that extends the JPanel class, I have a timer that is enabled by a button that updates the position of the ball with timer ctor variable elapse. I am trying to get the difference of the height of the panel and the YPOSITION where the circle is drawn if its less than 0 the the bounce ball needs to keep moving down else it should move up, my ball hits the wall and keeps hitting it. Help me debug the code that is causing that to happen.\r\n***RightPanel class***\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class RightPanel extends JPanel {\r\n    //define the position where the circle will be drawn\r\n    private int positionX=150;\r\n    private int positionY=150;\r\n    private int radius=100;//as the shape is a circle\r\n    //override the paint method to draw the bounce ball on the second panel\r\n\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2d= (Graphics2D) g;\r\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\r\n        g2d.setColor(Color.RED);\r\n        g2d.fillOval(positionX,positionY,radius,radius);\r\n    }\r\n     //let&#39;s us update the position of the ball from another class\r\n    public int getPositionY(){\r\n    public void setPositionX(int positionX) {\r\n        this.positionX = positionX;\r\n    }\r\n    public void setPositionY(int positionY){\r\n        this.positionY=positionY;\r\n    }\r\n    \r\n    public int getPositionX(){\r\n        return this.positionX;\r\n    }\r\n   \r\n        return this.positionY;\r\n    }\r\n}\r\n\r\n```\r\nThe logic in the timer class below is the one I need help with\r\n***GameInterface class***\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\n\r\npublic class GameInterface extends JFrame {\r\n    //declare a Timer object to start the movement\r\n    Graphics ctx;\r\n    RightPanel rightpanel;\r\n    private int height;\r\n    //declare a timer to start moving the ball\r\n    Timer mytimer= new Timer(50, new AbstractAction() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            //check this and keep moving the ball down\r\n            if(rightpanel.getPositionY()- rightpanel.getHeight()&lt;0){\r\n\r\n                rightpanel.setPositionY(rightpanel.getPositionY()+5);\r\n                rightpanel.paint(rightpanel.getGraphics());\r\n            }else{\r\n\r\n            //move the ball up\r\n                rightpanel.setPositionY(rightpanel.getPositionY()-5);\r\n                rightpanel.paint(rightpanel.getGraphics());\r\n            }\r\n\r\n\r\n        }\r\n    });\r\n    public GameInterface(){\r\n        setSize(new Dimension(800, 600));\r\n        height=this.getHeight();\r\n        setResizable(false);\r\n        setTitle(&quot;Bounce Game&quot;);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setBackground(Color.black);\r\n        //define a new JSplitPane and use it to add two JPanels\r\n        JPanel leftpanel= new JPanel();\r\n        //add buttons to the left panel programatically\r\n        JButton up= new JButton(&quot;Move up&quot;);\r\n        //set the event listeners for the buttons\r\n        up.addActionListener(new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                //start he timer\r\n                mytimer.start();\r\n\r\n\r\n            }\r\n        });\r\n        JButton down = new JButton(&quot;Move down&quot;);\r\n        down.addActionListener(new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                //move my ball down\r\n                rightpanel.setPositionX(rightpanel.getPositionX());\r\n                rightpanel.setPositionY(rightpanel.getPositionY()+5);\r\n                rightpanel.paint(rightpanel.getGraphics());\r\n\r\n            }\r\n        });\r\n        leftpanel.add(up);\r\n        leftpanel.add(down);\r\n        rightpanel= new RightPanel();\r\n        JSplitPane splitpane= new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,leftpanel,rightpanel);\r\n        this.add(splitpane);\r\n        setVisible(true);\r\n        ctx=this.getGraphics();\r\n\r\n    }\r\n}\r\n\r\n```","title":"How to make ball drawn with Java bounce off the edges of the panel?","body":"<p>I have java code that draws a red ball inside a class that extends the JPanel class, I have a timer that is enabled by a button that updates the position of the ball with timer ctor variable elapse. I am trying to get the difference of the height of the panel and the YPOSITION where the circle is drawn if its less than 0 the the bounce ball needs to keep moving down else it should move up, my ball hits the wall and keeps hitting it. Help me debug the code that is causing that to happen.\n<em><strong>RightPanel class</strong></em></p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class RightPanel extends JPanel {\n    //define the position where the circle will be drawn\n    private int positionX=150;\n    private int positionY=150;\n    private int radius=100;//as the shape is a circle\n    //override the paint method to draw the bounce ball on the second panel\n\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2d= (Graphics2D) g;\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setColor(Color.RED);\n        g2d.fillOval(positionX,positionY,radius,radius);\n    }\n     //let's us update the position of the ball from another class\n    public int getPositionY(){\n    public void setPositionX(int positionX) {\n        this.positionX = positionX;\n    }\n    public void setPositionY(int positionY){\n        this.positionY=positionY;\n    }\n    \n    public int getPositionX(){\n        return this.positionX;\n    }\n   \n        return this.positionY;\n    }\n}\n\n</code></pre>\n<p>The logic in the timer class below is the one I need help with\n<em><strong>GameInterface class</strong></em></p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\n\npublic class GameInterface extends JFrame {\n    //declare a Timer object to start the movement\n    Graphics ctx;\n    RightPanel rightpanel;\n    private int height;\n    //declare a timer to start moving the ball\n    Timer mytimer= new Timer(50, new AbstractAction() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            //check this and keep moving the ball down\n            if(rightpanel.getPositionY()- rightpanel.getHeight()&lt;0){\n\n                rightpanel.setPositionY(rightpanel.getPositionY()+5);\n                rightpanel.paint(rightpanel.getGraphics());\n            }else{\n\n            //move the ball up\n                rightpanel.setPositionY(rightpanel.getPositionY()-5);\n                rightpanel.paint(rightpanel.getGraphics());\n            }\n\n\n        }\n    });\n    public GameInterface(){\n        setSize(new Dimension(800, 600));\n        height=this.getHeight();\n        setResizable(false);\n        setTitle(&quot;Bounce Game&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBackground(Color.black);\n        //define a new JSplitPane and use it to add two JPanels\n        JPanel leftpanel= new JPanel();\n        //add buttons to the left panel programatically\n        JButton up= new JButton(&quot;Move up&quot;);\n        //set the event listeners for the buttons\n        up.addActionListener(new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                //start he timer\n                mytimer.start();\n\n\n            }\n        });\n        JButton down = new JButton(&quot;Move down&quot;);\n        down.addActionListener(new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                //move my ball down\n                rightpanel.setPositionX(rightpanel.getPositionX());\n                rightpanel.setPositionY(rightpanel.getPositionY()+5);\n                rightpanel.paint(rightpanel.getGraphics());\n\n            }\n        });\n        leftpanel.add(up);\n        leftpanel.add(down);\n        rightpanel= new RightPanel();\n        JSplitPane splitpane= new JSplitPane(JSplitPane.HORIZONTAL_SPLIT,leftpanel,rightpanel);\n        this.add(splitpane);\n        setVisible(true);\n        ctx=this.getGraphics();\n\n    }\n}\n\n</code></pre>\n"},{"tags":["javascript","java","node.js","typescript","rsa"],"comments":[{"owner":{"account_id":14274383,"reputation":2532,"user_id":10311008,"display_name":"Ovidijus Parsiunas"},"score":2,"creation_date":1653522862,"post_id":72384779,"comment_id":127875994,"body_markdown":"Can you share what the error is?","body":"Can you share what the error is?"},{"owner":{"account_id":6237805,"reputation":71,"user_id":4852513,"display_name":"Abilio Castro"},"score":0,"creation_date":1653523745,"post_id":72384779,"comment_id":127876106,"body_markdown":"I am sorry but your question is really confuse. First I though you wanted the java script code equivalent to the first function but in the second function you&#39;re trying a java code to encrypt using a `node-rsa` encryptation. So you want the java script code or the same encryptation result of another java script function not showed here?","body":"I am sorry but your question is really confuse. First I though you wanted the java script code equivalent to the first function but in the second function you&#39;re trying a java code to encrypt using a <code>node-rsa</code> encryptation. So you want the java script code or the same encryptation result of another java script function not showed here?"}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653645406,"creation_date":1653551895,"answer_id":72388593,"question_id":72384779,"body_markdown":"Node-RSA applies OAEP ([here][1]) as padding by default, so the PKCS#1 v1.5 padding used in the Java code must be explicitly specified. This has to be added after key import and before encryption:\r\n\r\n```js\r\nrsa.setOptions({ encryptionScheme: &#39;pkcs1&#39; });\r\n```\r\n\r\nAlternatively, the padding can be specified directly during key import:\r\n\r\n```js\r\nconst rsa  = new NodeRSA(pemkey, { encryptionScheme: &#39;pkcs1&#39; });\r\n```\r\n\r\nWith this change, both codes are functionally identical.\r\n\r\n----------\r\n\r\nRegarding testing: Keep in  mind that RSA encryption is not deterministic, i.e. given the *same input* (key, plaintext), each encryption provides a *different ciphertext*. Therefore, the ciphertexts of both (functionally identical) codes will be different even if the input is identical. So this is not a bug, but the expected behavior.&lt;br&gt;\r\nHow then can the equivalence of both codes be proved? E.g. by decrypting both ciphertexts with the *same* code/tool.\r\n\r\n[1]: https://www.npmjs.com/package/node-rsa#options\r\n","title":"How to write the equivalent of this Java encryption function in the Node JS","body":"<p>Node-RSA applies OAEP (<a href=\"https://www.npmjs.com/package/node-rsa#options\" rel=\"nofollow noreferrer\">here</a>) as padding by default, so the PKCS#1 v1.5 padding used in the Java code must be explicitly specified. This has to be added after key import and before encryption:</p>\n<pre class=\"lang-js prettyprint-override\"><code>rsa.setOptions({ encryptionScheme: 'pkcs1' });\n</code></pre>\n<p>Alternatively, the padding can be specified directly during key import:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const rsa  = new NodeRSA(pemkey, { encryptionScheme: 'pkcs1' });\n</code></pre>\n<p>With this change, both codes are functionally identical.</p>\n<hr />\n<p>Regarding testing: Keep in  mind that RSA encryption is not deterministic, i.e. given the <em>same input</em> (key, plaintext), each encryption provides a <em>different ciphertext</em>. Therefore, the ciphertexts of both (functionally identical) codes will be different even if the input is identical. So this is not a bug, but the expected behavior.<br>\nHow then can the equivalence of both codes be proved? E.g. by decrypting both ciphertexts with the <em>same</em> code/tool.</p>\n"}],"owner":{"account_id":14917313,"reputation":189,"user_id":11209659,"display_name":"Reza Razani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72388593,"answer_count":1,"score":3,"last_activity_date":1653645406,"creation_date":1653517746,"question_id":72384779,"body_markdown":"This is the function used to encrypt in java\r\n\r\n     public static String encryptionFunction(String fieldValue, String pemFileLocation) {\r\n        try {\r\n\r\n            // Read key from file\r\n            String strKeyPEM = &quot;&quot;;\r\n            BufferedReader br = new BufferedReader(new FileReader(pemFileLocation));\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                strKeyPEM += line + &quot;\\n&quot;;\r\n            }\r\n            br.close();\r\n            String publicKeyPEM = strKeyPEM;\r\n            System.out.println(publicKeyPEM);\r\n            publicKeyPEM = publicKeyPEM.replace(&quot;-----BEGIN PUBLIC KEY-----\\n&quot;, &quot;&quot;);\r\n            publicKeyPEM = publicKeyPEM.replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;).replaceAll(&quot;\\\\s&quot;, &quot;&quot;);;\r\n            byte[] encoded = Base64.getDecoder().decode(publicKeyPEM);\r\n            // byte[] encoded = Base64.decode(publicKeyPEM);\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PublicKey pubKey = (PublicKey) kf.generatePublic(new X509EncodedKeySpec(encoded));\r\n            Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, pubKey);\r\n            byte[] cipherData = cipher.doFinal(fieldValue.getBytes());\r\n            if (cipherData == null) {\r\n                return null;\r\n            }\r\n            int len = cipherData.length;\r\n            String str = &quot;&quot;;\r\n            for (int i = 0; i &lt; len; i++) {\r\n                if ((cipherData[i] &amp; 0xFF) &lt; 16) {\r\n                    str = str + &quot;0&quot; + java.lang.Integer.toHexString(cipherData[i] &amp; 0xFF);\r\n                } else {\r\n                    str = str + java.lang.Integer.toHexString(cipherData[i] &amp; 0xFF);\r\n                }\r\n            }\r\n            return str.trim();\r\n\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;oops2&quot;);\r\n            System.out.println(e);\r\n\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\nI want the equivalent of this in javascript/Nodejs, i tried this:\r\n\r\n    import * as NodeRSA from &#39;node-rsa&#39;;\r\n\r\n    private encryptionFunction(fieldValue: string , pemkey: string) : string {\r\n        const rsa  = new NodeRSA(pemkey);\r\n        const encrypted= rsa.encrypt(fieldValue , &#39;hex&#39;)\r\n        return encrypted\r\n\r\n    }\r\n\r\n\r\nBut the output size of both functions is the same, but apparently the encryption type is wrong.","title":"How to write the equivalent of this Java encryption function in the Node JS","body":"<p>This is the function used to encrypt in java</p>\n<pre><code> public static String encryptionFunction(String fieldValue, String pemFileLocation) {\n    try {\n\n        // Read key from file\n        String strKeyPEM = &quot;&quot;;\n        BufferedReader br = new BufferedReader(new FileReader(pemFileLocation));\n        String line;\n        while ((line = br.readLine()) != null) {\n            strKeyPEM += line + &quot;\\n&quot;;\n        }\n        br.close();\n        String publicKeyPEM = strKeyPEM;\n        System.out.println(publicKeyPEM);\n        publicKeyPEM = publicKeyPEM.replace(&quot;-----BEGIN PUBLIC KEY-----\\n&quot;, &quot;&quot;);\n        publicKeyPEM = publicKeyPEM.replace(&quot;-----END PUBLIC KEY-----&quot;, &quot;&quot;).replaceAll(&quot;\\\\s&quot;, &quot;&quot;);;\n        byte[] encoded = Base64.getDecoder().decode(publicKeyPEM);\n        // byte[] encoded = Base64.decode(publicKeyPEM);\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n        PublicKey pubKey = (PublicKey) kf.generatePublic(new X509EncodedKeySpec(encoded));\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, pubKey);\n        byte[] cipherData = cipher.doFinal(fieldValue.getBytes());\n        if (cipherData == null) {\n            return null;\n        }\n        int len = cipherData.length;\n        String str = &quot;&quot;;\n        for (int i = 0; i &lt; len; i++) {\n            if ((cipherData[i] &amp; 0xFF) &lt; 16) {\n                str = str + &quot;0&quot; + java.lang.Integer.toHexString(cipherData[i] &amp; 0xFF);\n            } else {\n                str = str + java.lang.Integer.toHexString(cipherData[i] &amp; 0xFF);\n            }\n        }\n        return str.trim();\n\n    } catch (Exception e) {\n        System.out.println(&quot;oops2&quot;);\n        System.out.println(e);\n\n    }\n    return null;\n}\n</code></pre>\n<p>I want the equivalent of this in javascript/Nodejs, i tried this:</p>\n<pre><code>import * as NodeRSA from 'node-rsa';\n\nprivate encryptionFunction(fieldValue: string , pemkey: string) : string {\n    const rsa  = new NodeRSA(pemkey);\n    const encrypted= rsa.encrypt(fieldValue , 'hex')\n    return encrypted\n\n}\n</code></pre>\n<p>But the output size of both functions is the same, but apparently the encryption type is wrong.</p>\n"},{"tags":["java","swing","if-statement","jpanel","jbutton"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1653421821,"post_id":72368610,"comment_id":127847920,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  A `CardLayout` allows you to switch from one JPanel to another.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  A <code>CardLayout</code> allows you to switch from one JPanel to another."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1653432395,"post_id":72368610,"comment_id":127850516,"body_markdown":"Don&#39;t repost questions. Keep all the information in one place so everybody knows what has been suggested.","body":"Don&#39;t repost questions. Keep all the information in one place so everybody knows what has been suggested."}],"owner":{"account_id":25378924,"reputation":1,"user_id":19191611,"display_name":"Sportz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653432360,"answer_count":0,"score":0,"last_activity_date":1653645338,"creation_date":1653421162,"question_id":72368610,"body_markdown":"Nothing appears to be wrong with this from what I have seen\r\n    \r\nCode for Driver:\r\n    \r\n    import javax.swing.JFrame;\r\n    import java.util.Scanner;\r\n    import java.util.Random;\r\n    \r\n    public class rpsDriver{\r\n    \r\n    public static void main(String[] args){\r\n    \r\n    \r\n    //jpanel stuff\r\n    \r\n      JFrame frame = new JFrame(&quot;Rock Paper Scissors Game&quot;);\r\n      frame.setSize(1280,720);\r\n      frame.setLocation(250, 50);\r\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      frame.setContentPane(new rpsPanel());\r\n      frame.setVisible(true);\r\n    \r\n    \r\n    \r\n    }//end main\r\n    \r\n    }//end class\r\nThe problem I have is that when I run the code and me or the computer gets to 3 wins the end screen that says you win/lose appears but the rock, paper, scissors button on the left is still there (and I would like for it to disappear). Also, I would like to add buttons below the thing that says you win/lose that will let you restart the game (making userScore, tieScore, and compScore = 0), and a button that ends the game (closes the panel and ends the run). I&#39;d appreciate any help.\r\n    \r\nCode for the JPanel (the one I have problem with):\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.io.*;\r\n    import java.awt.image.BufferedImage;\r\n    import javax.imageio.ImageIO; \r\n    import javax.swing.ImageIcon.*;\r\n    import java.util.Random;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class rpsPanel extends JPanel{\r\n    \r\n    Random rand = new Random();\r\n    \r\n    //variables used in code\r\n    String compChoice = &quot;&quot;;\r\n    int userNum; //number that corresponds to a choice\r\n    int compNum; //number that corresponds to a choice\r\n    int num;\r\n    int score; //score to decide who wins\r\n    String result = &quot;&quot;;\r\n    String userChoice = &quot;&quot;;\r\n    //win and tie count\r\n    int userScore = 0;\r\n    int compScore = 0;\r\n    int tieScore = 0;\r\n    \r\n    \r\n    //boolean variables for each choice\r\n    static JFrame frame;\r\n    boolean rock = false;\r\n    boolean paper = false;\r\n    boolean scissors = false;\r\n    \r\n    \r\n    \r\n    public void paintComponent(Graphics g){\r\n    \r\n    setLayout(null);\r\n    //background\r\n    //     setLayout(new BoxLayout());\r\n    ImageIcon wooden = new ImageIcon(&quot;woodenBG.jpg&quot;);\r\n    g.drawImage(wooden.getImage(), 0, 0, 1280, 720, null);\r\n    g.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 30));\r\n    g.setColor(Color.BLACK);\r\n    g.drawString(&quot;VS&quot; , 630, 385);\r\n      \r\n    //images for rock,paper, scissors\r\n    ImageIcon rockChoice = new ImageIcon(&quot;rock.png&quot;);\r\n    ImageIcon paperChoice = new ImageIcon(&quot;paper.jpg&quot;);\r\n    ImageIcon scissorsChoice = new ImageIcon(&quot;scissors.jpg&quot;);\r\n      \r\n    /*displays the choice the user made*/\r\n    if (rock){   \r\n    g.drawImage(rockChoice.getImage(), 350, 300, 200, 200, null);\r\n    }\r\n    else if (paper){      \r\n    g.drawImage(paperChoice.getImage(), 350, 300, 200, 200, null);\r\n    }\r\n    else if (scissors){      \r\n    g.drawImage(scissorsChoice.getImage(), 350, 300, 200, 200, null);\r\n    }\r\n    /**********************************/\r\n      \r\n           \r\n      \r\n    /* computer makes choice after user */\r\n    if(rock || paper || scissors){\r\n    num = rand.nextInt(9);\r\n         \r\n         if(num == 1 || num == 4 || num == 7){ //rock choice\r\n            compChoice = &quot;rock&quot;;\r\n            compNum = 1;\r\n            g.drawImage(rockChoice.getImage(), 800, 300, 200, 200, null);\r\n         }\r\n         else if (num == 2 || num == 5 || num == 8){//paper choice\r\n            compChoice = &quot;paper&quot;;\r\n            compNum = 2;\r\n            g.drawImage(paperChoice.getImage(), 800, 300, 200, 200, null);\r\n         }\r\n         else if(num == 3 || num == 6 || num == 0){//scissors choice\r\n            compChoice = &quot;scissors&quot;;\r\n            compNum = 3;\r\n            g.drawImage(scissorsChoice.getImage(), 800, 300, 200, 200, null);\r\n         }\r\n      }\r\n      /**********************************/\r\n      \r\n      /*the logic part to decide the winner*/\r\n      score = userNum - compNum;\r\n      if(score == -2 || score == 1){\r\n         result = &quot;win&quot;;\r\n         userScore++;\r\n      }\r\n            \r\n      if(score == 2 || score == -1){\r\n         result = &quot;loss&quot;;\r\n         compScore++;\r\n      }\r\n            \r\n      if ((score == 0) &amp;&amp; (rock || paper || scissors)){\r\n         result = &quot;tie&quot;;\r\n         tieScore++;\r\n      }\r\n      /***************************************/\r\n      \r\n      \r\n      //Displays the outcome\r\n      g.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 40));\r\n      g.setColor(Color.BLACK);\r\n      g.drawString(&quot;The outcome: &quot; + result, 425, 100); \r\n      \r\n      \r\n      //This shows the score of you and the computer\r\n      g.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 30));\r\n      g.setColor(Color.BLACK);\r\n      g.drawString(&quot;Your score is &quot; + userScore, 25, 50);\r\n    \r\n      g.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 30));\r\n      g.setColor(Color.BLACK);\r\n      g.drawString(&quot;The computer&#39;s score is &quot; + compScore, 925, 50);\r\n      \r\n      g.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 30));\r\n      g.setColor(Color.BLACK);\r\n      g.drawString(&quot;The amount of ties that occured are &quot; + tieScore, 400, 50);\r\n      \r\n      //user wins the game after user wins 3 rounds\r\n      if(userScore &gt;= 3){\r\n         g.setColor(new Color(0, 0, 0, 150));\r\n         g.fillRect(0,0,1280,720);\r\n         g.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 75));\r\n         g.setColor(new Color(57, 255, 20));\r\n         g.drawString(&quot;You WIN!&quot;, 300, 330);\r\n         \r\n      \r\n      }\r\n      \r\n      //computer wins the game after computer wins 3 rounds\r\n      if(compScore &gt;= 3){\r\n         g.setColor(new Color(0, 0, 0, 150));\r\n         g.fillRect(0,0,1280,720);\r\n         g.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 75));\r\n         g.setColor(Color.RED);\r\n         g.drawString(&quot;You LOSE! Try again&quot;, 400, 330);\r\n      \r\n      }\r\n    \r\n       }//ends the paintcomponent class\r\n    \r\n       public rpsPanel(){      \r\n       setLayout(null);\r\n      \r\n      \r\n      //images for rock, paper, scissors\r\n      Icon rPic = new ImageIcon(new ImageIcon(&quot;rock.png&quot;).getImage().getScaledInstance(70, 70, Image.SCALE_DEFAULT));\r\n      Icon pPic = new ImageIcon(new ImageIcon(&quot;paper.jpg&quot;).getImage().getScaledInstance(70, 70, Image.SCALE_DEFAULT));\r\n      Icon sPic = new ImageIcon(new ImageIcon(&quot;scissors.jpg&quot;).getImage().getScaledInstance(70, 70, Image.SCALE_DEFAULT));\r\n      \r\n      \r\n      /* buttons for rock paper scissors */\r\n      JButton rockBTN = new JButton(rPic); //rock button\r\n      rockBTN.addActionListener(new rockListener());\r\n      rockBTN.setBounds(20, 200, 70, 70);\r\n      add(rockBTN);\r\n    \r\n      JButton paperBTN = new JButton(pPic); //paper button\r\n      paperBTN.addActionListener(new paperListener());\r\n      paperBTN.setBounds(20, 300, 70, 70);\r\n      add(paperBTN);\r\n      \r\n      JButton scissorsBTN = new JButton(sPic); //scissors button\r\n      scissorsBTN.addActionListener(new scissorsListener());\r\n      scissorsBTN.setBounds(20, 400, 70, 70);\r\n      add(scissorsBTN);\r\n           \r\n      /*************************************/\r\n      \r\n      \r\n      \r\n      \r\n      /* Creates the buttons to restart or end the game when one team has 3 wins */\r\n      \r\n      JButton restartBTN = new JButton(&quot;RESTART&quot;);\r\n      restartBTN.addActionListener(new restartListener());\r\n      \r\n      JButton endGameBTN = new JButton(&quot;END&quot;);\r\n      endGameBTN.addActionListener(new endGameListener());\r\n      endGameBTN.setBounds(300,500,50,50);\r\n      \r\n      /*****************************************************/\r\n     \r\n     if(userScore &lt; 3 || compScore &lt; 3){\r\n         rockBTN.setVisible(true);\r\n         paperBTN.setVisible(true);\r\n         scissorsBTN.setVisible(true);\r\n         restartBTN.setVisible(false);\r\n         endGameBTN.setVisible(false);\r\n      }\r\n      else if (userScore &gt;= 3 || compScore &gt;= 3){\r\n         rockBTN.setVisible(false);\r\n         paperBTN.setVisible(false);\r\n         scissorsBTN.setVisible(false);\r\n         restartBTN.setVisible(true);\r\n         endGameBTN.setVisible(true);\r\n         \r\n      }\r\n      \r\n      }\r\n    \r\n       /* listeners for each button */ \r\n      private class rockListener implements ActionListener{  //rock  \r\n      public void actionPerformed(ActionEvent e){\r\n         //repaints game with the rock choice\r\n         rock = true;\r\n         repaint();\r\n         revalidate();\r\n         paper = false;\r\n         scissors = false;\r\n         userNum = 1;\r\n         \r\n        \r\n         \r\n      }  \r\n       }\r\n    \r\n      private class paperListener implements ActionListener{ //paper\r\n      public void actionPerformed(ActionEvent e){        \r\n         //repaints game with the paper choice\r\n         paper = true;\r\n         repaint();\r\n         revalidate();\r\n         rock = false;\r\n         scissors = false;\r\n         userNum = 2;\r\n      }\r\n       }\r\n    \r\n       private class scissorsListener implements ActionListener{//scissors\r\n      public void actionPerformed(ActionEvent e){\r\n         //repaints game with the scissors choice\r\n         scissors = true;\r\n         repaint();\r\n         revalidate();\r\n         paper = false;\r\n         rock = false;\r\n         userNum = 3;\r\n      }\r\n       }\r\n    \r\n       private class restartListener implements ActionListener{//restartBTN\r\n      public void actionPerformed(ActionEvent e){\r\n      //if button is clicked it will restart game with score at 0\r\n      \r\n      }\r\n       }\r\n    \r\n       private class endGameListener implements ActionListener{//restartBTN\r\n      public void actionPerformed(ActionEvent e){\r\n      //if button is clicked it will end the game, remove panel, and end the run\r\n      \r\n      }\r\n       }\r\n    \r\n    \r\n      \r\n      /**********************************************/  \r\n     }//ends rpsPanel","title":"I need help making JButtons disappear when a condition is met (and also adding buttons when a condition is met)","body":"<p>Nothing appears to be wrong with this from what I have seen</p>\n<p>Code for Driver:</p>\n<pre><code>import javax.swing.JFrame;\nimport java.util.Scanner;\nimport java.util.Random;\n\npublic class rpsDriver{\n\npublic static void main(String[] args){\n\n\n//jpanel stuff\n\n  JFrame frame = new JFrame(&quot;Rock Paper Scissors Game&quot;);\n  frame.setSize(1280,720);\n  frame.setLocation(250, 50);\n  frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n  frame.setContentPane(new rpsPanel());\n  frame.setVisible(true);\n\n\n\n}//end main\n\n}//end class\n</code></pre>\n<p>The problem I have is that when I run the code and me or the computer gets to 3 wins the end screen that says you win/lose appears but the rock, paper, scissors button on the left is still there (and I would like for it to disappear). Also, I would like to add buttons below the thing that says you win/lose that will let you restart the game (making userScore, tieScore, and compScore = 0), and a button that ends the game (closes the panel and ends the run). I'd appreciate any help.</p>\n<p>Code for the JPanel (the one I have problem with):</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.io.*;\nimport java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO; \nimport javax.swing.ImageIcon.*;\nimport java.util.Random;\nimport java.util.concurrent.TimeUnit;\n\npublic class rpsPanel extends JPanel{\n\nRandom rand = new Random();\n\n//variables used in code\nString compChoice = &quot;&quot;;\nint userNum; //number that corresponds to a choice\nint compNum; //number that corresponds to a choice\nint num;\nint score; //score to decide who wins\nString result = &quot;&quot;;\nString userChoice = &quot;&quot;;\n//win and tie count\nint userScore = 0;\nint compScore = 0;\nint tieScore = 0;\n\n\n//boolean variables for each choice\nstatic JFrame frame;\nboolean rock = false;\nboolean paper = false;\nboolean scissors = false;\n\n\n\npublic void paintComponent(Graphics g){\n\nsetLayout(null);\n//background\n//     setLayout(new BoxLayout());\nImageIcon wooden = new ImageIcon(&quot;woodenBG.jpg&quot;);\ng.drawImage(wooden.getImage(), 0, 0, 1280, 720, null);\ng.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 30));\ng.setColor(Color.BLACK);\ng.drawString(&quot;VS&quot; , 630, 385);\n  \n//images for rock,paper, scissors\nImageIcon rockChoice = new ImageIcon(&quot;rock.png&quot;);\nImageIcon paperChoice = new ImageIcon(&quot;paper.jpg&quot;);\nImageIcon scissorsChoice = new ImageIcon(&quot;scissors.jpg&quot;);\n  \n/*displays the choice the user made*/\nif (rock){   \ng.drawImage(rockChoice.getImage(), 350, 300, 200, 200, null);\n}\nelse if (paper){      \ng.drawImage(paperChoice.getImage(), 350, 300, 200, 200, null);\n}\nelse if (scissors){      \ng.drawImage(scissorsChoice.getImage(), 350, 300, 200, 200, null);\n}\n/**********************************/\n  \n       \n  \n/* computer makes choice after user */\nif(rock || paper || scissors){\nnum = rand.nextInt(9);\n     \n     if(num == 1 || num == 4 || num == 7){ //rock choice\n        compChoice = &quot;rock&quot;;\n        compNum = 1;\n        g.drawImage(rockChoice.getImage(), 800, 300, 200, 200, null);\n     }\n     else if (num == 2 || num == 5 || num == 8){//paper choice\n        compChoice = &quot;paper&quot;;\n        compNum = 2;\n        g.drawImage(paperChoice.getImage(), 800, 300, 200, 200, null);\n     }\n     else if(num == 3 || num == 6 || num == 0){//scissors choice\n        compChoice = &quot;scissors&quot;;\n        compNum = 3;\n        g.drawImage(scissorsChoice.getImage(), 800, 300, 200, 200, null);\n     }\n  }\n  /**********************************/\n  \n  /*the logic part to decide the winner*/\n  score = userNum - compNum;\n  if(score == -2 || score == 1){\n     result = &quot;win&quot;;\n     userScore++;\n  }\n        \n  if(score == 2 || score == -1){\n     result = &quot;loss&quot;;\n     compScore++;\n  }\n        \n  if ((score == 0) &amp;&amp; (rock || paper || scissors)){\n     result = &quot;tie&quot;;\n     tieScore++;\n  }\n  /***************************************/\n  \n  \n  //Displays the outcome\n  g.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 40));\n  g.setColor(Color.BLACK);\n  g.drawString(&quot;The outcome: &quot; + result, 425, 100); \n  \n  \n  //This shows the score of you and the computer\n  g.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 30));\n  g.setColor(Color.BLACK);\n  g.drawString(&quot;Your score is &quot; + userScore, 25, 50);\n\n  g.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 30));\n  g.setColor(Color.BLACK);\n  g.drawString(&quot;The computer's score is &quot; + compScore, 925, 50);\n  \n  g.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 30));\n  g.setColor(Color.BLACK);\n  g.drawString(&quot;The amount of ties that occured are &quot; + tieScore, 400, 50);\n  \n  //user wins the game after user wins 3 rounds\n  if(userScore &gt;= 3){\n     g.setColor(new Color(0, 0, 0, 150));\n     g.fillRect(0,0,1280,720);\n     g.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 75));\n     g.setColor(new Color(57, 255, 20));\n     g.drawString(&quot;You WIN!&quot;, 300, 330);\n     \n  \n  }\n  \n  //computer wins the game after computer wins 3 rounds\n  if(compScore &gt;= 3){\n     g.setColor(new Color(0, 0, 0, 150));\n     g.fillRect(0,0,1280,720);\n     g.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 75));\n     g.setColor(Color.RED);\n     g.drawString(&quot;You LOSE! Try again&quot;, 400, 330);\n  \n  }\n\n   }//ends the paintcomponent class\n\n   public rpsPanel(){      \n   setLayout(null);\n  \n  \n  //images for rock, paper, scissors\n  Icon rPic = new ImageIcon(new ImageIcon(&quot;rock.png&quot;).getImage().getScaledInstance(70, 70, Image.SCALE_DEFAULT));\n  Icon pPic = new ImageIcon(new ImageIcon(&quot;paper.jpg&quot;).getImage().getScaledInstance(70, 70, Image.SCALE_DEFAULT));\n  Icon sPic = new ImageIcon(new ImageIcon(&quot;scissors.jpg&quot;).getImage().getScaledInstance(70, 70, Image.SCALE_DEFAULT));\n  \n  \n  /* buttons for rock paper scissors */\n  JButton rockBTN = new JButton(rPic); //rock button\n  rockBTN.addActionListener(new rockListener());\n  rockBTN.setBounds(20, 200, 70, 70);\n  add(rockBTN);\n\n  JButton paperBTN = new JButton(pPic); //paper button\n  paperBTN.addActionListener(new paperListener());\n  paperBTN.setBounds(20, 300, 70, 70);\n  add(paperBTN);\n  \n  JButton scissorsBTN = new JButton(sPic); //scissors button\n  scissorsBTN.addActionListener(new scissorsListener());\n  scissorsBTN.setBounds(20, 400, 70, 70);\n  add(scissorsBTN);\n       \n  /*************************************/\n  \n  \n  \n  \n  /* Creates the buttons to restart or end the game when one team has 3 wins */\n  \n  JButton restartBTN = new JButton(&quot;RESTART&quot;);\n  restartBTN.addActionListener(new restartListener());\n  \n  JButton endGameBTN = new JButton(&quot;END&quot;);\n  endGameBTN.addActionListener(new endGameListener());\n  endGameBTN.setBounds(300,500,50,50);\n  \n  /*****************************************************/\n \n if(userScore &lt; 3 || compScore &lt; 3){\n     rockBTN.setVisible(true);\n     paperBTN.setVisible(true);\n     scissorsBTN.setVisible(true);\n     restartBTN.setVisible(false);\n     endGameBTN.setVisible(false);\n  }\n  else if (userScore &gt;= 3 || compScore &gt;= 3){\n     rockBTN.setVisible(false);\n     paperBTN.setVisible(false);\n     scissorsBTN.setVisible(false);\n     restartBTN.setVisible(true);\n     endGameBTN.setVisible(true);\n     \n  }\n  \n  }\n\n   /* listeners for each button */ \n  private class rockListener implements ActionListener{  //rock  \n  public void actionPerformed(ActionEvent e){\n     //repaints game with the rock choice\n     rock = true;\n     repaint();\n     revalidate();\n     paper = false;\n     scissors = false;\n     userNum = 1;\n     \n    \n     \n  }  \n   }\n\n  private class paperListener implements ActionListener{ //paper\n  public void actionPerformed(ActionEvent e){        \n     //repaints game with the paper choice\n     paper = true;\n     repaint();\n     revalidate();\n     rock = false;\n     scissors = false;\n     userNum = 2;\n  }\n   }\n\n   private class scissorsListener implements ActionListener{//scissors\n  public void actionPerformed(ActionEvent e){\n     //repaints game with the scissors choice\n     scissors = true;\n     repaint();\n     revalidate();\n     paper = false;\n     rock = false;\n     userNum = 3;\n  }\n   }\n\n   private class restartListener implements ActionListener{//restartBTN\n  public void actionPerformed(ActionEvent e){\n  //if button is clicked it will restart game with score at 0\n  \n  }\n   }\n\n   private class endGameListener implements ActionListener{//restartBTN\n  public void actionPerformed(ActionEvent e){\n  //if button is clicked it will end the game, remove panel, and end the run\n  \n  }\n   }\n\n\n  \n  /**********************************************/  \n }//ends rpsPanel\n</code></pre>\n"},{"tags":["java","google-sheets-api"],"answers":[{"tags":[],"owner":{"account_id":3464315,"reputation":17267,"user_id":2900374,"display_name":"ReyAnthonyRenacia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1506069792,"creation_date":1506069792,"answer_id":46360450,"question_id":46350876,"body_markdown":"I think sRange should be using [A1 notation](https://developers.google.com/sheets/api/guides/concepts#a1_notation):\r\n\r\nSomething that looks like:\r\n\r\n    SheetName!A1:B2\r\n    Sheet1!A1\r\n\r\nCheck the link for more info.","title":"Error trying to write a row in google sheets using API v4","body":"<p>I think sRange should be using <a href=\"https://developers.google.com/sheets/api/guides/concepts#a1_notation\" rel=\"nofollow noreferrer\">A1 notation</a>:</p>\n\n<p>Something that looks like:</p>\n\n<pre><code>SheetName!A1:B2\nSheet1!A1\n</code></pre>\n\n<p>Check the link for more info.</p>\n"},{"tags":[],"owner":{"account_id":1127094,"reputation":1091,"user_id":1114105,"accept_rate":82,"display_name":"user1114"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1593313866,"creation_date":1593312066,"answer_id":62617638,"question_id":46350876,"body_markdown":"Got this error due to character issues in the sheet title. Removing spaces, dashes, and colons in the sheet titles and replacing them with underscores fixed it.","title":"Error trying to write a row in google sheets using API v4","body":"<p>Got this error due to character issues in the sheet title. Removing spaces, dashes, and colons in the sheet titles and replacing them with underscores fixed it.</p>\n"},{"tags":[],"owner":{"account_id":14969158,"reputation":1355,"user_id":10806551,"display_name":"olawalejuwonm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652121198,"creation_date":1652121198,"answer_id":72176711,"question_id":46350876,"body_markdown":"I have been on this for some time now, in my case i was trying to update more than 2 fields in a row and i specified range as A1:B1 this only depicts 2 rows to be updated. I changed it to just A1 and it worked.\r\n\r\nSo let your range be:\r\n\r\n    SheetName!A1","title":"Error trying to write a row in google sheets using API v4","body":"<p>I have been on this for some time now, in my case i was trying to update more than 2 fields in a row and i specified range as A1:B1 this only depicts 2 rows to be updated. I changed it to just A1 and it worked.</p>\n<p>So let your range be:</p>\n<pre><code>SheetName!A1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25404250,"reputation":31,"user_id":19213211,"display_name":"Jerry McQuin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653645084,"creation_date":1653645084,"answer_id":72403552,"question_id":46350876,"body_markdown":"Change your Sheet name to some simple version of it (without special symbols).\r\nHelped in my case.","title":"Error trying to write a row in google sheets using API v4","body":"<p>Change your Sheet name to some simple version of it (without special symbols).\nHelped in my case.</p>\n"}],"owner":{"account_id":4257661,"reputation":740,"user_id":3482896,"accept_rate":90,"display_name":"GregMa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9906,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":46360450,"answer_count":4,"score":7,"last_activity_date":1653645084,"creation_date":1506018466,"question_id":46350876,"body_markdown":"I&#39;m trying to write a row to a sheet using java and Google Sheets API v4.  I&#39;m getting an error that I just can&#39;t understand.  Any help would be greatly appreciated!\r\n\r\nThe values passed are:\r\n&gt;sRange = &#39;09/03/2017 11:01:13 PM&#39;!A1  \r\nbody = {majorDimension=ROWS, values=[[Test ID, Test Name, Run ID, Status, Run Duration, Execution Date, Execution Time]]}\r\n\r\nHere is the trouble code:\r\n\r\n    outputValues = Arrays.asList(Arrays.asList(&quot;Test ID&quot;, &quot;Test Name&quot;, &quot;Run ID&quot;, &quot;Status&quot;, &quot;Run Duration&quot;, &quot;Execution Date&quot;, &quot;Execution Time&quot;));\r\n    sRange = &quot;&#39;&quot; + sSheetName + &quot;&#39;&quot; + &quot;!&quot; + sHeaderRow;\r\n    body = new ValueRange().setValues(outputValues).setMajorDimension(&quot;ROWS&quot;);\r\n    result = service.spreadsheets().values().update(sSpreadsheetID, sRange, body).setValueInputOption(&quot;RAW&quot;).execute();\r\n\r\nAnd the result:\r\n\r\n    {\r\n      &quot;code&quot; : 400,\r\n      &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;global&quot;,\r\n        &quot;message&quot; : &quot;Requested writing within range [&#39;09/03/2017 11:01:13 PM&#39;!A1], but tried writing to column [B]&quot;,\r\n        &quot;reason&quot; : &quot;badRequest&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;Requested writing within range [&#39;09/03/2017 11:01:13 PM&#39;!A1], but tried writing to column [B]&quot;,\r\n      &quot;status&quot; : &quot;INVALID_ARGUMENT&quot;\r\n    }","title":"Error trying to write a row in google sheets using API v4","body":"<p>I'm trying to write a row to a sheet using java and Google Sheets API v4.  I'm getting an error that I just can't understand.  Any help would be greatly appreciated!</p>\n\n<p>The values passed are:</p>\n\n<blockquote>\n  <p>sRange = '09/03/2017 11:01:13 PM'!A1<br>\n  body = {majorDimension=ROWS, values=[[Test ID, Test Name, Run ID, Status, Run Duration, Execution Date, Execution Time]]}</p>\n</blockquote>\n\n<p>Here is the trouble code:</p>\n\n<pre><code>outputValues = Arrays.asList(Arrays.asList(\"Test ID\", \"Test Name\", \"Run ID\", \"Status\", \"Run Duration\", \"Execution Date\", \"Execution Time\"));\nsRange = \"'\" + sSheetName + \"'\" + \"!\" + sHeaderRow;\nbody = new ValueRange().setValues(outputValues).setMajorDimension(\"ROWS\");\nresult = service.spreadsheets().values().update(sSpreadsheetID, sRange, body).setValueInputOption(\"RAW\").execute();\n</code></pre>\n\n<p>And the result:</p>\n\n<pre><code>{\n  \"code\" : 400,\n  \"errors\" : [ {\n    \"domain\" : \"global\",\n    \"message\" : \"Requested writing within range ['09/03/2017 11:01:13 PM'!A1], but tried writing to column [B]\",\n    \"reason\" : \"badRequest\"\n  } ],\n  \"message\" : \"Requested writing within range ['09/03/2017 11:01:13 PM'!A1], but tried writing to column [B]\",\n  \"status\" : \"INVALID_ARGUMENT\"\n}\n</code></pre>\n"},{"tags":["java","spring","spring-webflux","nonblocking","spring-async"],"answers":[{"tags":[],"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653644727,"creation_date":1653644727,"answer_id":72403496,"question_id":72402688,"body_markdown":"***DIFFERENCES***\r\n\r\n* Spring Async I/O model during its communication with the client is blocking. It may cause a performance problem with slow clients. On the other hand, Spring WebFlux provides a non-blocking I/O model.\r\n* Reading the request body or request parts is blocking in Spring Async, whiles it is non-blocking in Spring WebFlux.\r\n* In Spring Async, Filters and Servlets are working synchronously, but Spring WebFlux supports full asynchronous communication.\r\n\r\nDo all of these items lead us to use Spring WebFlux? Well, Spring Async or even Spring MVC might be the right answer to a lot of projects out there, depending on the desired load scalability or availability of the system.\r\n\r\nRegarding scalability, Spring Async gives us better results than synchronous Spring MVC implementation. Spring WebFlux, because of its reactive nature, provides us elasticity and higher availability.\r\n\r\nSource: [Baeldung][1]\r\n\r\nThe Baeldung web provides a lot of information about Spring, I recommend that you use it regularly, it usually has what you are looking for\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-async-vs-webflux","title":"Spring Webflux vs Async","body":"<p><em><strong>DIFFERENCES</strong></em></p>\n<ul>\n<li>Spring Async I/O model during its communication with the client is blocking. It may cause a performance problem with slow clients. On the other hand, Spring WebFlux provides a non-blocking I/O model.</li>\n<li>Reading the request body or request parts is blocking in Spring Async, whiles it is non-blocking in Spring WebFlux.</li>\n<li>In Spring Async, Filters and Servlets are working synchronously, but Spring WebFlux supports full asynchronous communication.</li>\n</ul>\n<p>Do all of these items lead us to use Spring WebFlux? Well, Spring Async or even Spring MVC might be the right answer to a lot of projects out there, depending on the desired load scalability or availability of the system.</p>\n<p>Regarding scalability, Spring Async gives us better results than synchronous Spring MVC implementation. Spring WebFlux, because of its reactive nature, provides us elasticity and higher availability.</p>\n<p>Source: <a href=\"https://www.baeldung.com/spring-mvc-async-vs-webflux\" rel=\"nofollow noreferrer\">Baeldung</a></p>\n<p>The Baeldung web provides a lot of information about Spring, I recommend that you use it regularly, it usually has what you are looking for</p>\n"}],"owner":{"account_id":25403662,"reputation":11,"user_id":19212717,"display_name":"Gg5g4"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":895,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653644727,"creation_date":1653640683,"question_id":72402688,"body_markdown":"I&#39;m a bit confused about how Webflux is different from Springs @Async. Some pages say that Springs Async Model is blocking, and Webflux is non-blocking. Other pages state that Springs Async is indeed non-blocking.\r\nI thought that async can&#39;t be blocking, why would I use it if it was?\r\nWhat is the benefit of using webflux over async?","title":"Spring Webflux vs Async","body":"<p>I'm a bit confused about how Webflux is different from Springs @Async. Some pages say that Springs Async Model is blocking, and Webflux is non-blocking. Other pages state that Springs Async is indeed non-blocking.\nI thought that async can't be blocking, why would I use it if it was?\nWhat is the benefit of using webflux over async?</p>\n"},{"tags":["java","spring","jackson"],"comments":[{"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"score":0,"creation_date":1653564234,"post_id":72390350,"comment_id":127884820,"body_markdown":"I didn&#39;t understood the part you wrote about JsonIgnore. I think JsonIgnore would have fixed this issue ?","body":"I didn&#39;t understood the part you wrote about JsonIgnore. I think JsonIgnore would have fixed this issue ?"},{"owner":{"account_id":18420417,"reputation":13,"user_id":13994908,"display_name":"justAnArthur"},"score":0,"creation_date":1653587259,"post_id":72390350,"comment_id":127893231,"body_markdown":"@DeepakPatankar tried to explain as clearly as possible, and added an article at the end. thank you for your feedback)","body":"@DeepakPatankar tried to explain as clearly as possible, and added an article at the end. thank you for your feedback)"},{"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"score":0,"creation_date":1653627929,"post_id":72390350,"comment_id":127901382,"body_markdown":"@JsonProperty(access = JsonProperty.Access.READ_ONLY) helps ?","body":"@JsonProperty(access = JsonProperty.Access.READ_ONLY) helps ?"},{"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"score":0,"creation_date":1653628548,"post_id":72390350,"comment_id":127901456,"body_markdown":"Can you please check whether @Setter is creating a setter for assigned field ?","body":"Can you please check whether @Setter is creating a setter for assigned field ?"},{"owner":{"account_id":18420417,"reputation":13,"user_id":13994908,"display_name":"justAnArthur"},"score":0,"creation_date":1653632903,"post_id":72390350,"comment_id":127902331,"body_markdown":"@DeepakPatankar `JsonIgnoreProperties` does not work at all, as it is a method, not a value.","body":"@DeepakPatankar <code>JsonIgnoreProperties</code> does not work at all, as it is a method, not a value."},{"owner":{"account_id":18420417,"reputation":13,"user_id":13994908,"display_name":"justAnArthur"},"score":0,"creation_date":1653632933,"post_id":72390350,"comment_id":127902335,"body_markdown":"&gt; Can you please check whether @Setter is creating a setter for assigned field ?\nHow ?","body":"&gt; Can you please check whether @Setter is creating a setter for assigned field ? How ?"},{"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"score":0,"creation_date":1653640772,"post_id":72390350,"comment_id":127904699,"body_markdown":"Is Setter an lombok annotation ? If yes, Can you please try using delombok ? Can you please see what is the autogenerated code  generated by @Setter annotation","body":"Is Setter an lombok annotation ? If yes, Can you please try using delombok ? Can you please see what is the autogenerated code  generated by @Setter annotation"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1653647469,"post_id":72390350,"comment_id":127906869,"body_markdown":"This is the JavaBeans naming convention for boolean properties. A boolean property `assigned` has a `void setAssigned(boolean)` and `boolean isAssigned()` setter/getter pair (where any other type would have `type getAssigned()` instead). Jackson uses these naming conventions to determine which properties an object has. The NPE itself suggests that `orderLineAssignments` can be null, so maybe you should add a null check to `isAssigned()`","body":"This is the JavaBeans naming convention for boolean properties. A boolean property <code>assigned</code> has a <code>void setAssigned(boolean)</code> and <code>boolean isAssigned()</code> setter/getter pair (where any other type would have <code>type getAssigned()</code> instead). Jackson uses these naming conventions to determine which properties an object has. The NPE itself suggests that <code>orderLineAssignments</code> can be null, so maybe you should add a null check to <code>isAssigned()</code>"},{"owner":{"account_id":18420417,"reputation":13,"user_id":13994908,"display_name":"justAnArthur"},"score":0,"creation_date":1653649965,"post_id":72390350,"comment_id":127907631,"body_markdown":"@MarkRotteveel I replaced the method name with `getAssigned` but nothing has changed, the error is the same","body":"@MarkRotteveel I replaced the method name with <code>getAssigned</code> but nothing has changed, the error is the same"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1653650102,"post_id":72390350,"comment_id":127907672,"body_markdown":"That is because most parser following the JavaBeans convention will also consider `getAssigned` a getter for `assigned` even if it is a `boolean`.","body":"That is because most parser following the JavaBeans convention will also consider <code>getAssigned</code> a getter for <code>assigned</code> even if it is a <code>boolean</code>."},{"owner":{"account_id":18420417,"reputation":13,"user_id":13994908,"display_name":"justAnArthur"},"score":0,"creation_date":1653650154,"post_id":72390350,"comment_id":127907691,"body_markdown":"@MarkRotteveel and what should I do ?) no such problem with other variables in the inherited class, and I don&#39;t understand why","body":"@MarkRotteveel and what should I do ?) no such problem with other variables in the inherited class, and I don&#39;t understand why"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1653650244,"post_id":72390350,"comment_id":127907719,"body_markdown":"Use `@JsonIgnore`, which you already found out works, or rename that method so it isn&#39;t considered a JavaBeans property (e.g. just `assigned()`)","body":"Use <code>@JsonIgnore</code>, which you already found out works, or rename that method so it isn&#39;t considered a JavaBeans property (e.g. just <code>assigned()</code>)"},{"owner":{"account_id":18420417,"reputation":13,"user_id":13994908,"display_name":"justAnArthur"},"score":0,"creation_date":1653650406,"post_id":72390350,"comment_id":127907777,"body_markdown":"@MarkRotteveel I don&#39;t get why, when I had no problem with it before, I was able to name the method with `get` at the beginning, or `is`","body":"@MarkRotteveel I don&#39;t get why, when I had no problem with it before, I was able to name the method with <code>get</code> at the beginning, or <code>is</code>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1653654824,"post_id":72390350,"comment_id":127909266,"body_markdown":"Did you use Jackson at that time? If yes, what changed between the time it worked and now?","body":"Did you use Jackson at that time? If yes, what changed between the time it worked and now?"}],"owner":{"account_id":18420417,"reputation":13,"user_id":13994908,"display_name":"justAnArthur"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653644694,"creation_date":1653560808,"question_id":72390350,"body_markdown":"Jackson thinks that because of the method I have a value and need to assign it, although this is not the case. Same problem with [getDocumentView] if I use @JsonIgnore only on [isAssigned]. Although with methods in inherited class - no such problems. \r\n\r\nI got an error\r\n```\r\nCould not write JSON: (was java.lang.NullPointerException); nested exception is com.fasterxml.jackson.databind.JsonMappingException: (was java.lang.NullPointerException) (through reference chain: com.utg.acadsys.api.model.order.OrderDetailView[&quot;orderLineItems&quot;]-&gt;org.hibernate.collection.internal.PersistentBag[0]-&gt;com.utg.acadsys.dao.model.order.OrderLineItem[&quot;assigned&quot;])]\r\n```\r\n\r\nwhile sending that request in JSON format\r\n```\r\n{\r\n    &quot;existingSupplier&quot;: true,\r\n    &quot;systemInternalNumber&quot;: true,\r\n    &quot;orderLineItems&quot;: [\r\n        {\r\n            &quot;count&quot;: 1,\r\n            &quot;vat&quot;: 20,\r\n            &quot;text&quot;: &quot;123&quot;,\r\n            &quot;pricePerUnit&quot;: &quot;1&quot;\r\n        }\r\n    ],\r\n    &quot;subCompanyId&quot;: &quot;39ee3eb9-605c-47b6-87e2-a20405708979&quot;,\r\n    &quot;approvalLineId&quot;: &quot;04fa4a2c-9bce-11e8-aa4e-f23c910b0044&quot;,\r\n    &quot;email&quot;: null,\r\n    &quot;supplierId&quot;: &quot;d83c7f3f-cd49-11e8-bf92-f23c910b0044&quot;,\r\n    &quot;deliveryDate&quot;: &quot;2022-05-25&quot;,\r\n    &quot;reason&quot;: &quot;12313&quot;,\r\n    &quot;note&quot;: &quot;123123&quot;\r\n}\r\n```\r\n\r\n\r\n**OrderLineItem.java**\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class OrderLineItem extends LineItem {\r\n\r\n    @ManyToOne(optional = false)\r\n    @JsonIgnore\r\n    private Order order;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;orderLineItem&quot;)\r\n    @JsonIgnore\r\n    private List&lt;OrderLineAssignment&gt; orderLineAssignments;\r\n\r\n    public BigDecimal getAmountForCheck() {\r\n        if (order.getCompany().isUseTotalPriceForCheck()) {\r\n            return getTotalPrice();\r\n        }\r\n        return getPriceWithoutVat();\r\n    }\r\n\r\n    public boolean isAssigned() { // &lt;---here\r\n        return !orderLineAssignments.isEmpty();\r\n    }\r\n\r\n    public List&lt;AssignedDocumentView&gt; getAssignedDocumentsView() {\r\n        if (!orderLineAssignments.isEmpty()) {\r\n            List&lt;AssignedDocumentView&gt; assignedDocuments = new ArrayList&lt;&gt;();\r\n            orderLineAssignments.forEach(assignment -&gt; assignedDocuments.add(new AssignedDocumentView(assignment.getAssignedDocument().getId(), assignment.getAssignedDocument().getInvoiceNumber(), assignment.getAdditionDate())));\r\n            return assignedDocuments;\r\n        }\r\n        return null;\r\n    };\r\n}\r\n```\r\n\r\nand extender class **LineItem.java**\r\n```\r\n@MappedSuperclass\r\n@Getter\r\n@Setter\r\npublic class LineItem extends EntityWithUUID {\r\n\r\n    @NotNull\r\n    private String text;\r\n    @NotNull\r\n    private BigDecimal count;\r\n    @NotNull\r\n    private BigDecimal pricePerUnit;\r\n    private BigDecimal vat;\r\n\r\n    public BigDecimal getTotalPrice() {\r\n        if (count.compareTo(BigDecimal.ZERO) &gt; 0) {\r\n            return pricePerUnit.add(getVatAmount()).multiply(count);\r\n        }\r\n        return pricePerUnit.add(getVatAmount());\r\n    }\r\n\r\n    public BigDecimal getVatAmount() {\r\n        if (vat != null) {\r\n            return  pricePerUnit.multiply(vat.divide(BigDecimal.valueOf(100), 2, RoundingMode.HALF_EVEN));\r\n        }\r\n\r\n        return BigDecimal.ZERO;\r\n    }\r\n\r\n    public BigDecimal getPriceWithoutVat() {\r\n        if (count.compareTo(BigDecimal.ZERO) &gt; 0) {\r\n            return pricePerUnit.multiply(count);\r\n        }\r\n        return pricePerUnit;\r\n    }\r\n\r\n    public boolean isVat() {\r\n        return vat != null &amp;&amp; vat.compareTo(BigDecimal.ZERO) != 0;\r\n    }\r\n}\r\n```\r\nIf I use @JsonIgnore - everything works properly, but I need it in GET requests.\r\nIf you need anything else, let me know and I&#39;ll attach it.\r\n\r\n---\r\n\r\nYes, I managed to fix this by adding `@JsonIgnore` above the method. But I can no longer get the value of this method in GET requests as before with `vatAmount` and `priceWithoutVat`. And I&#39;m wondering why this is, and how I can fix it. I&#39;ve already googled options through `@JsonIgnoreProperties` to do a ban for POST requests and open for GET. (@JsonIgnoreProperties(allowSetters = false)) But it doesn&#39;t work as I have one method, not a value.\r\n\r\n---\r\ndelomboked OrderLineItem.java\r\n```\r\npackage com.utg.acadsys.dao.model.order;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.utg.acadsys.dao.model.LineItem;\r\nimport javax.persistence.*;\r\nimport java.math.BigDecimal;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Entity\r\npublic class OrderLineItem extends LineItem {\r\n    @ManyToOne(optional = false)\r\n    @JsonIgnore\r\n    private Order order;\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;orderLineItem&quot;)\r\n    @JsonIgnore\r\n    private List&lt;OrderLineAssignment&gt; orderLineAssignments;\r\n\r\n    public BigDecimal getAmountForCheck() {\r\n        if (order.getCompany().isUseTotalPriceForCheck()) {\r\n            return getTotalPrice();\r\n        }\r\n        return getPriceWithoutVat();\r\n    }\r\n\r\n    public boolean isAssigned() {\r\n        return !orderLineAssignments.isEmpty();\r\n    }\r\n\r\n    public List&lt;AssignedDocumentView&gt; getAssignedDocumentsView() {\r\n        if (!orderLineAssignments.isEmpty()) {\r\n            List&lt;AssignedDocumentView&gt; assignedDocuments = new ArrayList&lt;&gt;();\r\n            orderLineAssignments.forEach(assignment -&gt; assignedDocuments.add(new AssignedDocumentView(assignment.getAssignedDocument().getId(), assignment.getAssignedDocument().getInvoiceNumber(), assignment.getAdditionDate())));\r\n            return assignedDocuments;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @SuppressWarnings(&quot;all&quot;)\r\n    public Order getOrder() {\r\n        return this.order;\r\n    }\r\n\r\n    @SuppressWarnings(&quot;all&quot;)\r\n    public List&lt;OrderLineAssignment&gt; getOrderLineAssignments() {\r\n        return this.orderLineAssignments;\r\n    }\r\n\r\n    @JsonIgnore\r\n    @SuppressWarnings(&quot;all&quot;)\r\n    public void setOrder(final Order order) {\r\n        this.order = order;\r\n    }\r\n\r\n    @JsonIgnore\r\n    @SuppressWarnings(&quot;all&quot;)\r\n    public void setOrderLineAssignments(final List&lt;OrderLineAssignment&gt; orderLineAssignments) {\r\n        this.orderLineAssignments = orderLineAssignments;\r\n    }\r\n}\r\n```","title":"Why does Jackson think I have that value [assigned] because of the function [isAssigned]","body":"<p>Jackson thinks that because of the method I have a value and need to assign it, although this is not the case. Same problem with [getDocumentView] if I use @JsonIgnore only on [isAssigned]. Although with methods in inherited class - no such problems.</p>\n<p>I got an error</p>\n<pre><code>Could not write JSON: (was java.lang.NullPointerException); nested exception is com.fasterxml.jackson.databind.JsonMappingException: (was java.lang.NullPointerException) (through reference chain: com.utg.acadsys.api.model.order.OrderDetailView[&quot;orderLineItems&quot;]-&gt;org.hibernate.collection.internal.PersistentBag[0]-&gt;com.utg.acadsys.dao.model.order.OrderLineItem[&quot;assigned&quot;])]\n</code></pre>\n<p>while sending that request in JSON format</p>\n<pre><code>{\n    &quot;existingSupplier&quot;: true,\n    &quot;systemInternalNumber&quot;: true,\n    &quot;orderLineItems&quot;: [\n        {\n            &quot;count&quot;: 1,\n            &quot;vat&quot;: 20,\n            &quot;text&quot;: &quot;123&quot;,\n            &quot;pricePerUnit&quot;: &quot;1&quot;\n        }\n    ],\n    &quot;subCompanyId&quot;: &quot;39ee3eb9-605c-47b6-87e2-a20405708979&quot;,\n    &quot;approvalLineId&quot;: &quot;04fa4a2c-9bce-11e8-aa4e-f23c910b0044&quot;,\n    &quot;email&quot;: null,\n    &quot;supplierId&quot;: &quot;d83c7f3f-cd49-11e8-bf92-f23c910b0044&quot;,\n    &quot;deliveryDate&quot;: &quot;2022-05-25&quot;,\n    &quot;reason&quot;: &quot;12313&quot;,\n    &quot;note&quot;: &quot;123123&quot;\n}\n</code></pre>\n<p><strong>OrderLineItem.java</strong></p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class OrderLineItem extends LineItem {\n\n    @ManyToOne(optional = false)\n    @JsonIgnore\n    private Order order;\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;orderLineItem&quot;)\n    @JsonIgnore\n    private List&lt;OrderLineAssignment&gt; orderLineAssignments;\n\n    public BigDecimal getAmountForCheck() {\n        if (order.getCompany().isUseTotalPriceForCheck()) {\n            return getTotalPrice();\n        }\n        return getPriceWithoutVat();\n    }\n\n    public boolean isAssigned() { // &lt;---here\n        return !orderLineAssignments.isEmpty();\n    }\n\n    public List&lt;AssignedDocumentView&gt; getAssignedDocumentsView() {\n        if (!orderLineAssignments.isEmpty()) {\n            List&lt;AssignedDocumentView&gt; assignedDocuments = new ArrayList&lt;&gt;();\n            orderLineAssignments.forEach(assignment -&gt; assignedDocuments.add(new AssignedDocumentView(assignment.getAssignedDocument().getId(), assignment.getAssignedDocument().getInvoiceNumber(), assignment.getAdditionDate())));\n            return assignedDocuments;\n        }\n        return null;\n    };\n}\n</code></pre>\n<p>and extender class <strong>LineItem.java</strong></p>\n<pre><code>@MappedSuperclass\n@Getter\n@Setter\npublic class LineItem extends EntityWithUUID {\n\n    @NotNull\n    private String text;\n    @NotNull\n    private BigDecimal count;\n    @NotNull\n    private BigDecimal pricePerUnit;\n    private BigDecimal vat;\n\n    public BigDecimal getTotalPrice() {\n        if (count.compareTo(BigDecimal.ZERO) &gt; 0) {\n            return pricePerUnit.add(getVatAmount()).multiply(count);\n        }\n        return pricePerUnit.add(getVatAmount());\n    }\n\n    public BigDecimal getVatAmount() {\n        if (vat != null) {\n            return  pricePerUnit.multiply(vat.divide(BigDecimal.valueOf(100), 2, RoundingMode.HALF_EVEN));\n        }\n\n        return BigDecimal.ZERO;\n    }\n\n    public BigDecimal getPriceWithoutVat() {\n        if (count.compareTo(BigDecimal.ZERO) &gt; 0) {\n            return pricePerUnit.multiply(count);\n        }\n        return pricePerUnit;\n    }\n\n    public boolean isVat() {\n        return vat != null &amp;&amp; vat.compareTo(BigDecimal.ZERO) != 0;\n    }\n}\n</code></pre>\n<p>If I use @JsonIgnore - everything works properly, but I need it in GET requests.\nIf you need anything else, let me know and I'll attach it.</p>\n<hr />\n<p>Yes, I managed to fix this by adding <code>@JsonIgnore</code> above the method. But I can no longer get the value of this method in GET requests as before with <code>vatAmount</code> and <code>priceWithoutVat</code>. And I'm wondering why this is, and how I can fix it. I've already googled options through <code>@JsonIgnoreProperties</code> to do a ban for POST requests and open for GET. (@JsonIgnoreProperties(allowSetters = false)) But it doesn't work as I have one method, not a value.</p>\n<hr />\n<p>delomboked OrderLineItem.java</p>\n<pre><code>package com.utg.acadsys.dao.model.order;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.utg.acadsys.dao.model.LineItem;\nimport javax.persistence.*;\nimport java.math.BigDecimal;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Entity\npublic class OrderLineItem extends LineItem {\n    @ManyToOne(optional = false)\n    @JsonIgnore\n    private Order order;\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;orderLineItem&quot;)\n    @JsonIgnore\n    private List&lt;OrderLineAssignment&gt; orderLineAssignments;\n\n    public BigDecimal getAmountForCheck() {\n        if (order.getCompany().isUseTotalPriceForCheck()) {\n            return getTotalPrice();\n        }\n        return getPriceWithoutVat();\n    }\n\n    public boolean isAssigned() {\n        return !orderLineAssignments.isEmpty();\n    }\n\n    public List&lt;AssignedDocumentView&gt; getAssignedDocumentsView() {\n        if (!orderLineAssignments.isEmpty()) {\n            List&lt;AssignedDocumentView&gt; assignedDocuments = new ArrayList&lt;&gt;();\n            orderLineAssignments.forEach(assignment -&gt; assignedDocuments.add(new AssignedDocumentView(assignment.getAssignedDocument().getId(), assignment.getAssignedDocument().getInvoiceNumber(), assignment.getAdditionDate())));\n            return assignedDocuments;\n        }\n        return null;\n    }\n\n    @SuppressWarnings(&quot;all&quot;)\n    public Order getOrder() {\n        return this.order;\n    }\n\n    @SuppressWarnings(&quot;all&quot;)\n    public List&lt;OrderLineAssignment&gt; getOrderLineAssignments() {\n        return this.orderLineAssignments;\n    }\n\n    @JsonIgnore\n    @SuppressWarnings(&quot;all&quot;)\n    public void setOrder(final Order order) {\n        this.order = order;\n    }\n\n    @JsonIgnore\n    @SuppressWarnings(&quot;all&quot;)\n    public void setOrderLineAssignments(final List&lt;OrderLineAssignment&gt; orderLineAssignments) {\n        this.orderLineAssignments = orderLineAssignments;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1653642487,"post_id":72402907,"comment_id":127905234,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu () in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":25403782,"reputation":1,"user_id":19212819,"display_name":"Mar&#237;a Alameda"},"score":0,"creation_date":1653643308,"post_id":72402907,"comment_id":127905501,"body_markdown":"I dont know how to do that but I&#39;ve just posted how the structure of the table is","body":"I dont know how to do that but I&#39;ve just posted how the structure of the table is"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1653643410,"post_id":72402907,"comment_id":127905533,"body_markdown":"Have you tried to export as explained in the previous comment?","body":"Have you tried to export as explained in the previous comment?"},{"owner":{"account_id":25403782,"reputation":1,"user_id":19212819,"display_name":"Mar&#237;a Alameda"},"score":0,"creation_date":1653643732,"post_id":72402907,"comment_id":127905635,"body_markdown":"I need to delete those items in case &quot;nombre&quot; value is a specific value","body":"I need to delete those items in case &quot;nombre&quot; value is a specific value"},{"owner":{"account_id":25403782,"reputation":1,"user_id":19212819,"display_name":"Mar&#237;a Alameda"},"score":0,"creation_date":1653644058,"post_id":72402907,"comment_id":127905745,"body_markdown":"Okey, ive just exported","body":"Okey, ive just exported"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1653644708,"post_id":72402907,"comment_id":127905981,"body_markdown":"To understand better, you need to delete those items in case &quot;nombre&quot; value is a specific value that exists only under the `Tabla1` node, right?","body":"To understand better, you need to delete those items in case &quot;nombre&quot; value is a specific value that exists only under the <code>Tabla1</code> node, right?"},{"owner":{"account_id":25403782,"reputation":1,"user_id":19212819,"display_name":"Mar&#237;a Alameda"},"score":0,"creation_date":1653645781,"post_id":72402907,"comment_id":127906312,"body_markdown":"Right. When I create an item at Pedido node I also asociate it&#39;s id to &quot;nombre&quot; of some child of Tabla1 node. So when the app is finished I want to look for that nombre (which is the id of an item of Pedido) in every item of Tabla1, and in case they are the same delete those Tabla1 items","body":"Right. When I create an item at Pedido node I also asociate it&#39;s id to &quot;nombre&quot; of some child of Tabla1 node. So when the app is finished I want to look for that nombre (which is the id of an item of Pedido) in every item of Tabla1, and in case they are the same delete those Tabla1 items"},{"owner":{"account_id":25403782,"reputation":1,"user_id":19212819,"display_name":"Mar&#237;a Alameda"},"score":0,"creation_date":1653646082,"post_id":72402907,"comment_id":127906402,"body_markdown":"In that example, there is a Pedido item with id &quot;-N31LUB381t6Og7puJ73&quot; and there are 3 Tabla1 items whose &quot;nombre&quot; is that id, in the code it is called &quot;key&quot;, so I want to compare nombre with that key and then as they are the same remove them, if &quot;nombre&quot; didnt coincided with key then it wouldnt be removed","body":"In that example, there is a Pedido item with id &quot;-N31LUB381t6Og7puJ73&quot; and there are 3 Tabla1 items whose &quot;nombre&quot; is that id, in the code it is called &quot;key&quot;, so I want to compare nombre with that key and then as they are the same remove them, if &quot;nombre&quot; didnt coincided with key then it wouldnt be removed"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1653648886,"post_id":72402907,"comment_id":127907286,"body_markdown":"Is your `Tabla1` a direct child of your Firebase Database root?","body":"Is your <code>Tabla1</code> a direct child of your Firebase Database root?"},{"owner":{"account_id":25403782,"reputation":1,"user_id":19212819,"display_name":"Mar&#237;a Alameda"},"score":0,"creation_date":1653650060,"post_id":72402907,"comment_id":127907659,"body_markdown":"Yes, it is. I think the problem comes from onDestroy method, cause i&#39;ve used it this way at main activity and works correctly.","body":"Yes, it is. I think the problem comes from onDestroy method, cause i&#39;ve used it this way at main activity and works correctly."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1653661316,"post_id":72402907,"comment_id":127911924,"body_markdown":"Step one is to stop ignoring potential errors and implement `onCancelled`. At its minimum that should be `public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }`.","body":"Step one is to stop ignoring potential errors and implement <code>onCancelled</code>. At its minimum that should be <code>public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }</code>."},{"owner":{"account_id":25403782,"reputation":1,"user_id":19212819,"display_name":"Mar&#237;a Alameda"},"score":0,"creation_date":1653669803,"post_id":72402907,"comment_id":127915185,"body_markdown":"Just followed your advice and checked that it is not getting into onCancelled, it doesnt even get into onDataChange, so it is not repporting any error","body":"Just followed your advice and checked that it is not getting into onCancelled, it doesnt even get into onDataChange, so it is not repporting any error"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1653724010,"post_id":72402907,"comment_id":127924488,"body_markdown":"So you say that if you&#39;re using the exact same code inside onCreate, it works fine?","body":"So you say that if you&#39;re using the exact same code inside onCreate, it works fine?"}],"owner":{"account_id":25403782,"reputation":1,"user_id":19212819,"display_name":"Mar&#237;a Alameda"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653644574,"creation_date":1653641794,"question_id":72402907,"body_markdown":"I need to remove from a table &quot;Tabla1&quot; all items that contain a child with a specific value &quot;nombre&quot;, so I need to get into a for loop that compares each child. And this must be done just before the application or the activity is finished, so I need to do it in an onDestroy method (but this is not the main problem as I&#39;ve found an alternative for this), and at a closing service that is called every time, the app is completely finished at onTaskedRemoved. I&#39;ve been able to remove a specific child by getting to know its key, but cannot implement a loop like this: (I have implemented just the same code at many other places in code and it is working, but for some reason at onDestroy or onremovedtask methods it doesn&#39;t even step into the addListener... method)\r\n\r\n\r\n    public void onDestroy(){\r\n        super.onDestroy();\r\n        databaseReference.child(&quot;Pedido&quot;).child(key).removeValue(); //This is working\r\n\r\n        databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                DataSnapshot s = snapshot.child(&quot;Tabla1&quot;);\r\n                for (DataSnapshot x : s.getChildren()){\r\n                    if (key.equals(x.child(&quot;nombre&quot;).getValue(Integer.class).toString())){\r\n                        databaseReference.child(&quot;PedidoProd&quot;).child(x.getKey()).removeValue();\r\n                    }\r\n                }\r\n                \r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n        Log.d(&quot;Estado&quot;,&quot;onDestroy&quot;);\r\n    }\r\n\r\n\r\nFIREBASE:\r\n\r\n```\r\n  &quot;Pedido&quot;: {\r\n\r\n    &quot;-N31LUB381t6Og7puJ73&quot;: {\r\n      &quot;id_bebida&quot;: &quot;null&quot;,\r\n      &quot;id_pedido&quot;: &quot;-N31LOCf3UH0NkbX2jBD&quot;,\r\n      &quot;id_producto&quot;: &quot;1&quot;\r\n    }\r\n  },     \r\n\r\n    &quot;Tabla1&quot;: {\r\n    &quot;-N31LUB4ynUSVUzZfWAv&quot;: {\r\n      \r\n      &quot;nombre&quot;: &quot;-N31LUB381t6Og7puJ73&quot;,\r\n      &quot;lleva&quot;: false\r\n    },\r\n    &quot;-N31LUB66wW0psAw_ap7&quot;: {\r\n      \r\n      &quot;nombre&quot;: &quot;-N31LUB381t6Og7puJ73&quot;,\r\n      &quot;lleva&quot;: true\r\n    },\r\n    &quot;-N31LUB7381cazE2o7CX&quot;: {\r\n     \r\n      &quot;nombre&quot;: &quot;-N31LUB381t6Og7puJ73&quot;,\r\n      &quot;lleva&quot;: false\r\n    }\r\n  }\r\n```","title":"Is there any working alternative for creating a firebase database listener at onDestroy method?","body":"<p>I need to remove from a table &quot;Tabla1&quot; all items that contain a child with a specific value &quot;nombre&quot;, so I need to get into a for loop that compares each child. And this must be done just before the application or the activity is finished, so I need to do it in an onDestroy method (but this is not the main problem as I've found an alternative for this), and at a closing service that is called every time, the app is completely finished at onTaskedRemoved. I've been able to remove a specific child by getting to know its key, but cannot implement a loop like this: (I have implemented just the same code at many other places in code and it is working, but for some reason at onDestroy or onremovedtask methods it doesn't even step into the addListener... method)</p>\n<pre><code>public void onDestroy(){\n    super.onDestroy();\n    databaseReference.child(&quot;Pedido&quot;).child(key).removeValue(); //This is working\n\n    databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            DataSnapshot s = snapshot.child(&quot;Tabla1&quot;);\n            for (DataSnapshot x : s.getChildren()){\n                if (key.equals(x.child(&quot;nombre&quot;).getValue(Integer.class).toString())){\n                    databaseReference.child(&quot;PedidoProd&quot;).child(x.getKey()).removeValue();\n                }\n            }\n            \n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n\n\n    Log.d(&quot;Estado&quot;,&quot;onDestroy&quot;);\n}\n</code></pre>\n<p>FIREBASE:</p>\n<pre><code>  &quot;Pedido&quot;: {\n\n    &quot;-N31LUB381t6Og7puJ73&quot;: {\n      &quot;id_bebida&quot;: &quot;null&quot;,\n      &quot;id_pedido&quot;: &quot;-N31LOCf3UH0NkbX2jBD&quot;,\n      &quot;id_producto&quot;: &quot;1&quot;\n    }\n  },     \n\n    &quot;Tabla1&quot;: {\n    &quot;-N31LUB4ynUSVUzZfWAv&quot;: {\n      \n      &quot;nombre&quot;: &quot;-N31LUB381t6Og7puJ73&quot;,\n      &quot;lleva&quot;: false\n    },\n    &quot;-N31LUB66wW0psAw_ap7&quot;: {\n      \n      &quot;nombre&quot;: &quot;-N31LUB381t6Og7puJ73&quot;,\n      &quot;lleva&quot;: true\n    },\n    &quot;-N31LUB7381cazE2o7CX&quot;: {\n     \n      &quot;nombre&quot;: &quot;-N31LUB381t6Og7puJ73&quot;,\n      &quot;lleva&quot;: false\n    }\n  }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3568724,"reputation":39,"user_id":2979622,"accept_rate":40,"display_name":"user2979622"},"score":0,"creation_date":1385455426,"post_id":20212029,"comment_id":30138556,"body_markdown":"ahh I forgot one minute.","body":"ahh I forgot one minute."}],"answers":[{"tags":[],"owner":{"account_id":2720760,"reputation":2190,"user_id":2347107,"accept_rate":79,"display_name":"agad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385455458,"creation_date":1385455458,"answer_id":20212107,"question_id":20212029,"body_markdown":"Probably problem with locale: on the computer with Win8 there are locale, where `,` means decimal separator, but on the other tested computers `.` means decimal separator.","title":"DecimalFormat not working on Windows 7, but working on Windows 8","body":"<p>Probably problem with locale: on the computer with Win8 there are locale, where <code>,</code> means decimal separator, but on the other tested computers <code>.</code> means decimal separator.</p>\n"},{"tags":[],"owner":{"account_id":3568724,"reputation":39,"user_id":2979622,"accept_rate":40,"display_name":"user2979622"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385456494,"creation_date":1385456494,"answer_id":20212422,"question_id":20212029,"body_markdown":"I replaced `DecimalFormat ` with `(Math.round(corp400.y*100.0)/100.0)`\r\nBut if anyone can find out how to fix `DecimalFormat` to work with Windows 8 and windows 7 please Comment/Answer.","title":"DecimalFormat not working on Windows 7, but working on Windows 8","body":"<p>I replaced <code>DecimalFormat</code> with <code>(Math.round(corp400.y*100.0)/100.0)</code>\nBut if anyone can find out how to fix <code>DecimalFormat</code> to work with Windows 8 and windows 7 please Comment/Answer.</p>\n"},{"tags":[],"owner":{"account_id":1370355,"reputation":5676,"user_id":1305740,"display_name":"Carlo Pellegrini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653644498,"creation_date":1385457175,"answer_id":20212668,"question_id":20212029,"body_markdown":"Probably on windows 8 (where it works) you are using an English locale.\r\n\r\nThe problem, tough, is in the code:\r\n\r\n    String zz = new DecimalFormat(&quot;#.##&quot;).format(corp400.y);\r\n\r\nactually uses the default locale to format `corp400.y`, but the JavaDoc says that `Float.parseFloat` \r\n\r\n&gt; Returns a new float initialized to the value represented by the specified String, as performed by the valueOf method of class Float.\r\n\r\nThis means that, since `Float.valueOf` parses a floating point literal, it expects decimals separated by `.`  not `,`\r\n\r\nThe correct way to reverse your locale-dependant formatting is:\r\n\r\n    float value = new DecimalFormat(&quot;#.##&quot;).parse(zz).floatValue();\r\n\r\nAlternatively, you could use the locale-independent formatting on both ways as in:\r\n\r\n    String zz = String.valueOf(corp400.y);\r\n    float value = Float.parseFloat(zz)\r\n\r\n ","title":"DecimalFormat not working on Windows 7, but working on Windows 8","body":"<p>Probably on windows 8 (where it works) you are using an English locale.</p>\n<p>The problem, tough, is in the code:</p>\n<pre><code>String zz = new DecimalFormat(&quot;#.##&quot;).format(corp400.y);\n</code></pre>\n<p>actually uses the default locale to format <code>corp400.y</code>, but the JavaDoc says that <code>Float.parseFloat</code></p>\n<blockquote>\n<p>Returns a new float initialized to the value represented by the specified String, as performed by the valueOf method of class Float.</p>\n</blockquote>\n<p>This means that, since <code>Float.valueOf</code> parses a floating point literal, it expects decimals separated by <code>.</code>  not <code>,</code></p>\n<p>The correct way to reverse your locale-dependant formatting is:</p>\n<pre><code>float value = new DecimalFormat(&quot;#.##&quot;).parse(zz).floatValue();\n</code></pre>\n<p>Alternatively, you could use the locale-independent formatting on both ways as in:</p>\n<pre><code>String zz = String.valueOf(corp400.y);\nfloat value = Float.parseFloat(zz)\n</code></pre>\n"}],"owner":{"account_id":3568724,"reputation":39,"user_id":2979622,"accept_rate":40,"display_name":"user2979622"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1653644498,"creation_date":1385455192,"question_id":20212029,"body_markdown":"I have an applet which is working fine on Windows 8, but on Windows 7 I get the following error:\r\n    \r\n    Exception in thread &quot;Thread-13&quot; java.lang.NumberFormatException: For input string: &quot;-0,9&quot;\r\n\tat sun.misc.FloatingDecimal.readJavaFormatString(Unknown Source)\r\n\tat java.lang.Float.parseFloat(Unknown Source)\r\n\tat Tanc.Game$Corp.getDW(Game.java:1505)\r\n\tat Tanc.Game.borders(Game.java:975)\r\n\tat Tanc.Game.loose(Game.java:1068)\r\n\tat Tanc.Game.gameLoop(Game.java:242)\r\n\tat Tanc.Game$1.run(Game.java:144)\r\n    \r\nI have to mention that I tried on 2 different computers but the same problem. On Windows 8 I don&#39;t get this error...\r\n\r\nAnd code\r\n\r\n\tString zz = new DecimalFormat(&quot;#.##&quot;).format(corp400.y);\r\n\t\t\r\n\t\tSystem.out.println(zz);\r\n\t\t\r\n\t\tif (Float.parseFloat(zz) == 0.2f)\r\n\t\t\tsw = true;\r\n\t\tif (Float.parseFloat(zz) == -0.24f)\r\n\t\t\tsw = false;code here","title":"DecimalFormat not working on Windows 7, but working on Windows 8","body":"<p>I have an applet which is working fine on Windows 8, but on Windows 7 I get the following error:</p>\n<pre><code>Exception in thread &quot;Thread-13&quot; java.lang.NumberFormatException: For input string: &quot;-0,9&quot;\nat sun.misc.FloatingDecimal.readJavaFormatString(Unknown Source)\nat java.lang.Float.parseFloat(Unknown Source)\nat Tanc.Game$Corp.getDW(Game.java:1505)\nat Tanc.Game.borders(Game.java:975)\nat Tanc.Game.loose(Game.java:1068)\nat Tanc.Game.gameLoop(Game.java:242)\nat Tanc.Game$1.run(Game.java:144)\n</code></pre>\n<p>I have to mention that I tried on 2 different computers but the same problem. On Windows 8 I don't get this error...</p>\n<p>And code</p>\n<pre><code>String zz = new DecimalFormat(&quot;#.##&quot;).format(corp400.y);\n    \n    System.out.println(zz);\n    \n    if (Float.parseFloat(zz) == 0.2f)\n        sw = true;\n    if (Float.parseFloat(zz) == -0.24f)\n        sw = false;code here\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1653568366,"post_id":72391806,"comment_id":127886151,"body_markdown":"What is your question?  If Hackerrank lets you ArrayList instead of Array?  Does not really seem like a relevant question for this site.  Though, I am pretty sure when HackerRank asks you to use an _array_, you use an _array_ not a list","body":"What is your question?  If Hackerrank lets you ArrayList instead of Array?  Does not really seem like a relevant question for this site.  Though, I am pretty sure when HackerRank asks you to use an <i>array</i>, you use an <i>array</i> not a list"},{"owner":{"account_id":25350969,"reputation":11,"user_id":19167842,"display_name":"Noobcoder"},"score":0,"creation_date":1653644672,"post_id":72391806,"comment_id":127905966,"body_markdown":"Hackerrank enters ArrayList as the parameter for the function but i m getting timeout error in few test cases. I have provided the link for the question.","body":"Hackerrank enters ArrayList as the parameter for the function but i m getting timeout error in few test cases. I have provided the link for the question."},{"owner":{"account_id":6429797,"reputation":1843,"user_id":4983469,"accept_rate":94,"display_name":"leoOrion"},"score":0,"creation_date":1653644780,"post_id":72391806,"comment_id":127906005,"body_markdown":"Your for loop probably is not ending and times out. Check the logic in the forloop and see if it exits correctly","body":"Your for loop probably is not ending and times out. Check the logic in the forloop and see if it exits correctly"}],"owner":{"account_id":25350969,"reputation":11,"user_id":19167842,"display_name":"Noobcoder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653644472,"creation_date":1653568021,"question_id":72391806,"body_markdown":"I am getting error stating **Terminated due to timeout** for larger inputs when using ArrayList, for smaller one it works fine.\r\n\r\nI watched solutions where they were using **PREFIX SUM ALGORITHM** and 2-dimension array as parameter. Can we not use **ArrayList** as parameter instead of array?\r\n\r\nHere is the question ---\r\n\r\nStarting with a 1-indexed array of zeros and a list of operations, for each operation add a value to each of the array element between two given indices, inclusive. Once all operations have been performed, return the maximum value in your array.\r\n\r\nFor example, the length of your array of zeros . Your list of queries is as follows:\r\n```\r\na b k\r\n1 5 3\r\n4 8 7\r\n6 9 1\r\n```\r\n\r\nAdd the values of between the indices and inclusive:\r\n```\r\n\r\nindex -&gt; 1 2 3  4  5 6 7 8 9 10\r\n        [0,0,0, 0, 0,0,0,0,0, 0]\r\n        [3,3,3, 3, 3,0,0,0,0, 0]\r\n        [3,3,3,10,10,7,7,7,0, 0]\r\n        [3,3,3,10,10,8,8,8,1, 0]\r\n\r\n\r\nThe largest value is returned after all operations are performed.\r\nHere the output will be 10;\r\n```\r\n\r\nMy code is \r\n```\r\npublic static long arrayManipulation(int n, List&lt;List&lt;Integer&gt;&gt; queries) {\r\n        List&lt;Integer&gt; arr = new ArrayList&lt;Integer&gt;(Collections.nCopies(n+1, 0));\r\n\r\n        //PREFIX SUM \r\n        for(int i = 0; i&lt;queries.size(); i++){\r\n            int a = queries.get(i).get(0)-1;\r\n            int b = queries.get(i).get(1);\r\n            int k = queries.get(i).get(2);\r\n            \r\n            arr.set(a, arr.get(a)+k);\r\n            arr.set(b, arr.get(b)-k);\r\n        }\r\n        \r\n         long max=0;\r\n        for(int i = 1; i &lt; arr.size(); i++)\r\n        {\r\n            arr.set(i, arr.get(i)+arr.get(i-1));\r\n            if(arr.get(i)&gt;max)\r\n            {\r\n                max=arr.get(i);\r\n            }\r\n         } \r\n        \r\n        \r\n        Collections.sort(arr);\r\n        return arr.get(n);\r\n    }\r\n```\r\n","title":"Array Manipulation from HackerRank","body":"<p>I am getting error stating <strong>Terminated due to timeout</strong> for larger inputs when using ArrayList, for smaller one it works fine.</p>\n<p>I watched solutions where they were using <strong>PREFIX SUM ALGORITHM</strong> and 2-dimension array as parameter. Can we not use <strong>ArrayList</strong> as parameter instead of array?</p>\n<p>Here is the question ---</p>\n<p>Starting with a 1-indexed array of zeros and a list of operations, for each operation add a value to each of the array element between two given indices, inclusive. Once all operations have been performed, return the maximum value in your array.</p>\n<p>For example, the length of your array of zeros . Your list of queries is as follows:</p>\n<pre><code>a b k\n1 5 3\n4 8 7\n6 9 1\n</code></pre>\n<p>Add the values of between the indices and inclusive:</p>\n<pre><code>\nindex -&gt; 1 2 3  4  5 6 7 8 9 10\n        [0,0,0, 0, 0,0,0,0,0, 0]\n        [3,3,3, 3, 3,0,0,0,0, 0]\n        [3,3,3,10,10,7,7,7,0, 0]\n        [3,3,3,10,10,8,8,8,1, 0]\n\n\nThe largest value is returned after all operations are performed.\nHere the output will be 10;\n</code></pre>\n<p>My code is</p>\n<pre><code>public static long arrayManipulation(int n, List&lt;List&lt;Integer&gt;&gt; queries) {\n        List&lt;Integer&gt; arr = new ArrayList&lt;Integer&gt;(Collections.nCopies(n+1, 0));\n\n        //PREFIX SUM \n        for(int i = 0; i&lt;queries.size(); i++){\n            int a = queries.get(i).get(0)-1;\n            int b = queries.get(i).get(1);\n            int k = queries.get(i).get(2);\n            \n            arr.set(a, arr.get(a)+k);\n            arr.set(b, arr.get(b)-k);\n        }\n        \n         long max=0;\n        for(int i = 1; i &lt; arr.size(); i++)\n        {\n            arr.set(i, arr.get(i)+arr.get(i-1));\n            if(arr.get(i)&gt;max)\n            {\n                max=arr.get(i);\n            }\n         } \n        \n        \n        Collections.sort(arr);\n        return arr.get(n);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653644282,"creation_date":1653644282,"answer_id":72403405,"question_id":72392057,"body_markdown":"Since you are using Spring Data, entities annotated with `@CreatedBy  @LastModifiedBy`  are going to be populated with the currently logged user.\r\nYou can override this behaviour and tell Spring to store current user id whenever you insert new record in database. To achieve that you will need to provide an implementation of `AuditorAware` interface and override `getCurrentAuditor()` method. Inside `getCurrentAuditor()` you will need to fetch currently logged in user &#39;s id.\r\n\r\n   \r\n\r\n     @Component\r\n        public class SpringSecurityAuditorAware implements AuditorAware&lt;String&gt; {\r\n        \r\n            @Override\r\n            public String getCurrentAuditor() {\r\n               Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n    MyUserDetails customUser = (MyUserDetails)authentication.getPrincipal();\r\n    int userId = customUser.getUserId();\r\n         return String.valueOf(userId);\r\n            }\r\n        }\r\n\r\n\r\n\r\n","title":"Why Hibernate Envers is replacing Last_Edited_By column value to &quot;API&quot;","body":"<p>Since you are using Spring Data, entities annotated with <code>@CreatedBy  @LastModifiedBy</code>  are going to be populated with the currently logged user.\nYou can override this behaviour and tell Spring to store current user id whenever you insert new record in database. To achieve that you will need to provide an implementation of <code>AuditorAware</code> interface and override <code>getCurrentAuditor()</code> method. Inside <code>getCurrentAuditor()</code> you will need to fetch currently logged in user 's id.</p>\n<pre><code> @Component\n    public class SpringSecurityAuditorAware implements AuditorAware&lt;String&gt; {\n    \n        @Override\n        public String getCurrentAuditor() {\n           Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\nMyUserDetails customUser = (MyUserDetails)authentication.getPrincipal();\nint userId = customUser.getUserId();\n     return String.valueOf(userId);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":23526594,"reputation":249,"user_id":17573032,"display_name":"Mohsin M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72403405,"answer_count":1,"score":0,"last_activity_date":1653644282,"creation_date":1653569193,"question_id":72392057,"body_markdown":"I have class structure something like:\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name=&quot;person_dtl&quot;)\r\n    @Audited\r\n    @AuditTable(value=&quot;h$person_dtl&quot;)\r\n    public class Person extends AuditBaseEntity implements Serializable {\r\n    \r\n         @Id\r\n          @Column(name=&quot;person_ID&quot;, nullable = false)\r\n          private String personID;\r\n          \r\n          @Column(name=&quot;person_Name&quot;, nullable = false)\r\n          private String personName;\r\n    \r\n    }\r\n    \r\n    @Audited\r\n    @MappedSuperClass\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public abstract class AuditBaseEntity extends BaseEntity {\r\n        \r\n        \r\n        @Column(name = &quot;created_by&quot;, nullable = false, updatable = false)\r\n        @CreatedBy\r\n        protected String createdBy;\r\n    \r\n        @Column(name = &quot;last_modified_by&quot;)\r\n        @LastModifiedBy\r\n        private String lastModifiedBy;\r\n    \t\r\n        @Column(name = &quot;created_date&quot;, nullable = false, updatable = false)\r\n        @CreatedDate\r\n        protected Date createdDate;\r\n    \r\n        @Column(name = &quot;last_modified_date&quot;)\r\n        @LastModifiedDate\r\n        private Date lastModifiedDate;\r\n    \t\r\n        @PrePersist\r\n        public void onPrePersist() {\r\n            this.activeIndicator=&quot;A&quot;;\r\n        }\r\n         \r\n        @PreRemove\r\n        public void onPreRemove() {\r\n            this.activeIndicator=&quot;I&quot;;\r\n        }\r\n    }\r\n    \r\n    @Audited\r\n    @MappedSuperClass\r\n    public abstract class BaseEntity {\r\n        \r\n        @Column(name = &quot;active_ind&quot;, nullable = false)\r\n        @CreatedBy\r\n        protected String activeIndicator;\r\n    }\r\n\r\nI&#39;ve been using hibernate envers to for auditing purpose in my spring-boot app. I have included `spring-data-jpa` and `envers` dependency in pom. I am explicitly setting values of `createdBy` and `lastModifiedBy` columns to user&#39;s id but whenever the insert is happening `createdBy` and `lastModifiedBy` column values are being set to &quot;API&quot; in the table in our Oracle DB. Also whenever I am performing update `lastModifiedBy` column value is being set to &quot;API&quot; even though I have set userid in my entity. Why is this happening? Am I missing some property value?","title":"Why Hibernate Envers is replacing Last_Edited_By column value to &quot;API&quot;","body":"<p>I have class structure something like:</p>\n<pre><code>@Entity\n@Data\n@Table(name=&quot;person_dtl&quot;)\n@Audited\n@AuditTable(value=&quot;h$person_dtl&quot;)\npublic class Person extends AuditBaseEntity implements Serializable {\n\n     @Id\n      @Column(name=&quot;person_ID&quot;, nullable = false)\n      private String personID;\n      \n      @Column(name=&quot;person_Name&quot;, nullable = false)\n      private String personName;\n\n}\n\n@Audited\n@MappedSuperClass\n@EntityListeners(AuditingEntityListener.class)\npublic abstract class AuditBaseEntity extends BaseEntity {\n    \n    \n    @Column(name = &quot;created_by&quot;, nullable = false, updatable = false)\n    @CreatedBy\n    protected String createdBy;\n\n    @Column(name = &quot;last_modified_by&quot;)\n    @LastModifiedBy\n    private String lastModifiedBy;\n    \n    @Column(name = &quot;created_date&quot;, nullable = false, updatable = false)\n    @CreatedDate\n    protected Date createdDate;\n\n    @Column(name = &quot;last_modified_date&quot;)\n    @LastModifiedDate\n    private Date lastModifiedDate;\n    \n    @PrePersist\n    public void onPrePersist() {\n        this.activeIndicator=&quot;A&quot;;\n    }\n     \n    @PreRemove\n    public void onPreRemove() {\n        this.activeIndicator=&quot;I&quot;;\n    }\n}\n\n@Audited\n@MappedSuperClass\npublic abstract class BaseEntity {\n    \n    @Column(name = &quot;active_ind&quot;, nullable = false)\n    @CreatedBy\n    protected String activeIndicator;\n}\n</code></pre>\n<p>I've been using hibernate envers to for auditing purpose in my spring-boot app. I have included <code>spring-data-jpa</code> and <code>envers</code> dependency in pom. I am explicitly setting values of <code>createdBy</code> and <code>lastModifiedBy</code> columns to user's id but whenever the insert is happening <code>createdBy</code> and <code>lastModifiedBy</code> column values are being set to &quot;API&quot; in the table in our Oracle DB. Also whenever I am performing update <code>lastModifiedBy</code> column value is being set to &quot;API&quot; even though I have set userid in my entity. Why is this happening? Am I missing some property value?</p>\n"},{"tags":["java","xml","web-services","soap"],"comments":[{"owner":{"account_id":3850005,"reputation":23259,"user_id":3190413,"display_name":"helderdarocha"},"score":2,"creation_date":1400592769,"post_id":23758823,"comment_id":36534991,"body_markdown":"Remove the `&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;` from your `&lt;ExchangeData&gt;` block. You can&#39;t have a XML declaration there.","body":"Remove the <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</code> from your <code>&lt;ExchangeData&gt;</code> block. You can&#39;t have a XML declaration there."},{"owner":{"account_id":251692,"reputation":2306,"user_id":529256,"accept_rate":75,"display_name":"Craig"},"score":0,"creation_date":1400593734,"post_id":23758823,"comment_id":36535719,"body_markdown":"Actually, I&#39;d like to leave it there as I&#39;m going to pass the XML data in the &#39;&lt;ExchangeData&gt;` block to another service for unmarshalling. My question is how can I treat the contents of the &#39;&lt;ExchangeData&gt;` block as a string rather than as more XML content.","body":"Actually, I&#39;d like to leave it there as I&#39;m going to pass the XML data in the &#39;&lt;ExchangeData&gt;` block to another service for unmarshalling. My question is how can I treat the contents of the &#39;&lt;ExchangeData&gt;` block as a string rather than as more XML content."},{"owner":{"account_id":3850005,"reputation":23259,"user_id":3190413,"display_name":"helderdarocha"},"score":0,"creation_date":1400594349,"post_id":23758823,"comment_id":36536183,"body_markdown":"You can&#39;t leave it there. It&#39;s invalid XML. You *can* exchange data as XML, but you can&#39;t have a XML declaration in the block.","body":"You can&#39;t leave it there. It&#39;s invalid XML. You <i>can</i> exchange data as XML, but you can&#39;t have a XML declaration in the block."},{"owner":{"account_id":251692,"reputation":2306,"user_id":529256,"accept_rate":75,"display_name":"Craig"},"score":0,"creation_date":1400594556,"post_id":23758823,"comment_id":36536344,"body_markdown":"Ok, lets approach this in a different way. If I were to pass the values as XML data, then how would I declare the `exchangeData` variable in my `importDataExchange()` method?","body":"Ok, lets approach this in a different way. If I were to pass the values as XML data, then how would I declare the <code>exchangeData</code> variable in my <code>importDataExchange()</code> method?"},{"owner":{"account_id":251692,"reputation":2306,"user_id":529256,"accept_rate":75,"display_name":"Craig"},"score":0,"creation_date":1400598054,"post_id":23758823,"comment_id":36539171,"body_markdown":"I&#39;ve played around with it and I see that I can add my generated JAXB class as a parameter to the method which would allow me to parse the XML content directly. Rather than Unmarshalling it later by the import service. Hopefully this solves my problem. Thanks for pointing out that the `&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;` can&#39;t be in the `&lt;ExchangeData&gt;` it led me to the correct solution.... I hope.","body":"I&#39;ve played around with it and I see that I can add my generated JAXB class as a parameter to the method which would allow me to parse the XML content directly. Rather than Unmarshalling it later by the import service. Hopefully this solves my problem. Thanks for pointing out that the <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</code> can&#39;t be in the <code>&lt;ExchangeData&gt;</code> it led me to the correct solution.... I hope."}],"answers":[{"tags":[],"owner":{"account_id":14901094,"reputation":642,"user_id":13989422,"display_name":"Morteza"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1653644270,"creation_date":1628928142,"answer_id":68781460,"question_id":23758823,"body_markdown":"My problem was that the xml file was started by a blank line and `&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;` was not the beginning of the file.\r\n\r\nRemoved the blank line and the problem solved. ","title":"Error processing incoming SOAPMessage with XML data","body":"<p>My problem was that the xml file was started by a blank line and <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</code> was not the beginning of the file.</p>\n<p>Removed the blank line and the problem solved.</p>\n"}],"owner":{"account_id":251692,"reputation":2306,"user_id":529256,"accept_rate":75,"display_name":"Craig"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16346,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653644270,"creation_date":1400586010,"question_id":23758823,"body_markdown":"I&#39;m developing a web service which takes as input parameter two string values. The first identifies the service to use to import the xml data, and the second is a string of XML data. Here is an example of SOAP request\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:web=&quot;http://webservices.dataexchange.xxx.com/&quot;&gt;\r\n       &lt;soapenv:Header/&gt;\r\n       &lt;soapenv:Body&gt;\r\n          &lt;web:importDataExchange&gt;\r\n             &lt;ServiceID&gt;XmlImportServiceName&lt;/ServiceID&gt;\r\n             &lt;ExchangeData&gt;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;srv:exchange xmlns:cnt=&quot;Container&quot; xmlns:core=&quot;Core&quot; xmlns:srv=&quot;Service&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;Service http://xxx/xxx.xsd&quot;&gt;&lt;/srv:exchange&gt;&lt;/ExchangeData&gt;\r\n          &lt;/web:importDataExchange&gt;\r\n       &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nUnfortunately, whenever I try to parse the SOAPMessage, I received the following error:\r\n\r\n    javax.xml.bind.UnmarshalException\r\n     - with linked exception:\r\n    [com.ctc.wstx.exc.WstxParsingException: Illegal processing instruction target (&quot;xml&quot;); xml (case insensitive) is reserved by the specs.\r\n     at [row,col {unknown-source}]: [6,28]]\r\n\r\nThis is clearly because the JAX-WS I&#39;ve implemented is trying to Unmarshall the contents of the `&lt;ExchangeData&gt;` element. Of course, this can all be fixed by wrapping the contents of the `&lt;ExchangeData&gt;` in a `&lt;![CDATA[ ]]&gt;` element, however, I have no control over how the data is sent to the server. Therefore, I need a way to intercept the SOAPMessage and extract the ExchangeData as a string without Unmarshalling it. Or, I need a way to have the web service treat the contents of the ExchangeData node as a string rather than another XML node in the SOAPMessage body/payload. \r\n\r\nI have tried implementing a SOAPHandler and also a LogicalHandler, but in both instances whenever Message/Payload is fetched the web server attempts to unmarshall the SOAP message, which reproduces the same error again. \r\n\r\nThis is the ImportServiceEndpoint that I&#39;ve developed so far. \r\n\r\n    import javax.jws.WebMethod;\r\n    import javax.jws.WebParam;\r\n    import javax.jws.WebResult;\r\n    import javax.jws.WebService;\r\n    \r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.context.support.SpringBeanAutowiringSupport;\r\n    \r\n    @WebService(serviceName = &quot;ImportServiceEndpoint&quot;, portName = &quot;dataexchange&quot;)\r\n    // @HandlerChain(file = &quot;handlers.xml&quot;)\r\n    public class ImportServiceEndpoint extends SpringBeanAutowiringSupport {\r\n    \r\n    \tprivate static final Logger LOGGER = LoggerFactory.getLogger(ImportServiceEndpoint.class);\r\n    \r\n    \t/**\r\n    \t * The soap implementation of the data exchange service.\r\n    \t * \r\n    \t * @param serviceID\r\n    \t *          the id of the service\r\n    \t * @param exchangeData\r\n    \t *          the xml data for the request.\r\n    \t * @return a response about the success/failure of the dataexchange.\r\n    \t */\r\n    \t@WebMethod\r\n    \t@WebResult(name = &quot;importDataExchangeResponse&quot;)\r\n    \tpublic String importDataExchange(@ModelAttribute(&quot;ServiceID&quot;) @WebParam(name = &quot;ServiceID&quot;) final String serviceID,\r\n    \t\t\t@ModelAttribute(&quot;ExchangeData&quot;) @WebParam(name = &quot;ExchangeData&quot;) final String exchangeData) {\r\n    \t\tLOGGER.debug(&quot;Recevied Soap request for service {} with xml data &#39;{}&#39;&quot;, serviceID, exchangeData);\r\n    \t\treturn &quot;Message Received&quot;;\r\n    \t}\r\n    }\r\n\r\nI would be grateful for any assistance. I&#39;m getting quite frustrated as I&#39;ve been working on this for a couple of days now with little to show for it.\r\n","title":"Error processing incoming SOAPMessage with XML data","body":"<p>I'm developing a web service which takes as input parameter two string values. The first identifies the service to use to import the xml data, and the second is a string of XML data. Here is an example of SOAP request</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:web=\"http://webservices.dataexchange.xxx.com/\"&gt;\n   &lt;soapenv:Header/&gt;\n   &lt;soapenv:Body&gt;\n      &lt;web:importDataExchange&gt;\n         &lt;ServiceID&gt;XmlImportServiceName&lt;/ServiceID&gt;\n         &lt;ExchangeData&gt;&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;srv:exchange xmlns:cnt=\"Container\" xmlns:core=\"Core\" xmlns:srv=\"Service\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"Service http://xxx/xxx.xsd\"&gt;&lt;/srv:exchange&gt;&lt;/ExchangeData&gt;\n      &lt;/web:importDataExchange&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>Unfortunately, whenever I try to parse the SOAPMessage, I received the following error:</p>\n\n<pre><code>javax.xml.bind.UnmarshalException\n - with linked exception:\n[com.ctc.wstx.exc.WstxParsingException: Illegal processing instruction target (\"xml\"); xml (case insensitive) is reserved by the specs.\n at [row,col {unknown-source}]: [6,28]]\n</code></pre>\n\n<p>This is clearly because the JAX-WS I've implemented is trying to Unmarshall the contents of the <code>&lt;ExchangeData&gt;</code> element. Of course, this can all be fixed by wrapping the contents of the <code>&lt;ExchangeData&gt;</code> in a <code>&lt;![CDATA[ ]]&gt;</code> element, however, I have no control over how the data is sent to the server. Therefore, I need a way to intercept the SOAPMessage and extract the ExchangeData as a string without Unmarshalling it. Or, I need a way to have the web service treat the contents of the ExchangeData node as a string rather than another XML node in the SOAPMessage body/payload. </p>\n\n<p>I have tried implementing a SOAPHandler and also a LogicalHandler, but in both instances whenever Message/Payload is fetched the web server attempts to unmarshall the SOAP message, which reproduces the same error again. </p>\n\n<p>This is the ImportServiceEndpoint that I've developed so far. </p>\n\n<pre><code>import javax.jws.WebMethod;\nimport javax.jws.WebParam;\nimport javax.jws.WebResult;\nimport javax.jws.WebService;\n\nimport org.apache.commons.lang3.StringUtils;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.context.support.SpringBeanAutowiringSupport;\n\n@WebService(serviceName = \"ImportServiceEndpoint\", portName = \"dataexchange\")\n// @HandlerChain(file = \"handlers.xml\")\npublic class ImportServiceEndpoint extends SpringBeanAutowiringSupport {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(ImportServiceEndpoint.class);\n\n    /**\n     * The soap implementation of the data exchange service.\n     * \n     * @param serviceID\n     *          the id of the service\n     * @param exchangeData\n     *          the xml data for the request.\n     * @return a response about the success/failure of the dataexchange.\n     */\n    @WebMethod\n    @WebResult(name = \"importDataExchangeResponse\")\n    public String importDataExchange(@ModelAttribute(\"ServiceID\") @WebParam(name = \"ServiceID\") final String serviceID,\n            @ModelAttribute(\"ExchangeData\") @WebParam(name = \"ExchangeData\") final String exchangeData) {\n        LOGGER.debug(\"Recevied Soap request for service {} with xml data '{}'\", serviceID, exchangeData);\n        return \"Message Received\";\n    }\n}\n</code></pre>\n\n<p>I would be grateful for any assistance. I'm getting quite frustrated as I've been working on this for a couple of days now with little to show for it.</p>\n"},{"tags":["java","mysql","sql","oracle","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1381245492,"post_id":19251642,"comment_id":28498401,"body_markdown":"Please include the stacktrace of the exception and add some formatting (eg code formatting) to your question.","body":"Please include the stacktrace of the exception and add some formatting (eg code formatting) to your question."},{"owner":{"account_id":1088477,"reputation":16765,"user_id":1083652,"accept_rate":100,"display_name":"A.B.Cade"},"score":0,"creation_date":1381246099,"post_id":19251642,"comment_id":28498801,"body_markdown":"Are you sure that `bindValue` contains &#39;user01&#39; ? what happens when you try `preparedStatement.setObject(i, &#39;user01&#39;);` ?","body":"Are you sure that <code>bindValue</code> contains &#39;user01&#39; ? what happens when you try <code>preparedStatement.setObject(i, &#39;user01&#39;);</code> ?"},{"owner":{"account_id":2141493,"reputation":2417,"user_id":1900006,"accept_rate":36,"display_name":"Samy"},"score":0,"creation_date":1381246494,"post_id":19251642,"comment_id":28499059,"body_markdown":"@Mark Rotteveel : Sure will do it from now on and thanks for formatting it.","body":"@Mark Rotteveel : Sure will do it from now on and thanks for formatting it."},{"owner":{"account_id":2141493,"reputation":2417,"user_id":1900006,"accept_rate":36,"display_name":"Samy"},"score":0,"creation_date":1381246702,"post_id":19251642,"comment_id":28499216,"body_markdown":"@A.B.Cade Yes the variable bindValue has value &#39;user01&#39;.","body":"@A.B.Cade Yes the variable bindValue has value &#39;user01&#39;."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1381247135,"post_id":19251642,"comment_id":28499525,"body_markdown":"Have you looked at [`getParameterMetaData()`](http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#getParameterMetaData()) that should help you decide on the type (specifically [`getParameterType()`](http://docs.oracle.com/javase/7/docs/api/java/sql/ParameterMetaData.html#getParameterType(int)))","body":"Have you looked at <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#getParameterMetaData()\" rel=\"nofollow noreferrer\"><code>getParameterMetaData()</code></a> that should help you decide on the type (specifically <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/ParameterMetaData.html#getParameterType(int)\" rel=\"nofollow noreferrer\"><code>getParameterType()</code></a>)"},{"owner":{"account_id":2141493,"reputation":2417,"user_id":1900006,"accept_rate":36,"display_name":"Samy"},"score":0,"creation_date":1381295333,"post_id":19251642,"comment_id":28519020,"body_markdown":"`p_parameterMetaData.getParameterCount()` Resulted the parameter count i.e &#39;1&#39; in my case but `p_parameterMetaData.getParameterType(i)` threw         java.sql.SQLException: Unsupported feature\n\tat oracle.jdbc.driver.OracleParameterMetaData.getParameterType(OracleParameterMetaData.java:166)","body":"<code>p_parameterMetaData.getParameterCount()</code> Resulted the parameter count i.e &#39;1&#39; in my case but <code>p_parameterMetaData.getParameterType(i)</code> threw         java.sql.SQLException: Unsupported feature \tat oracle.jdbc.driver.OracleParameterMetaData.getParameterType(&zwnj;&#8203;OracleParameterMetaD&zwnj;&#8203;ata.java:166)"}],"answers":[{"tags":[],"owner":{"account_id":2859264,"reputation":193,"user_id":2454830,"accept_rate":33,"display_name":"user2454830"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381395769,"creation_date":1381395769,"answer_id":19291444,"question_id":19251642,"body_markdown":"I don&#39;t know the exact answer but...\r\n\r\nThe method setObject(index, Object) may be used to pass datatabase- specific abstract data types, by using a driver-specific Java type. If the object is of a class implementing the interface SQLData, the JDBC driver should call the method SQLData.writeSQL to write it to the SQL data stream. If, on the other hand, the object is of a class implementing Ref, Blob, Clob, NClob, Struct, java.net.URL, RowId, SQLXML or Array, the driver should pass it to the database as a value of the corresponding SQL type. --- Collected from Java Docs","title":"Binding Values To PreparedStatement without knowing the data types","body":"<p>I don't know the exact answer but...</p>\n\n<p>The method setObject(index, Object) may be used to pass datatabase- specific abstract data types, by using a driver-specific Java type. If the object is of a class implementing the interface SQLData, the JDBC driver should call the method SQLData.writeSQL to write it to the SQL data stream. If, on the other hand, the object is of a class implementing Ref, Blob, Clob, NClob, Struct, java.net.URL, RowId, SQLXML or Array, the driver should pass it to the database as a value of the corresponding SQL type. --- Collected from Java Docs</p>\n"},{"tags":[],"owner":{"account_id":11561490,"reputation":31,"user_id":8471039,"display_name":"Abishake Ryan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653644092,"creation_date":1653644092,"answer_id":72403365,"question_id":19251642,"body_markdown":"Try using the below parameters,\r\n\r\npreparedStatement.setString(index, value)\r\nEx:\r\npreparedStatement.setString(1, &#39;user01&#39;)","title":"Binding Values To PreparedStatement without knowing the data types","body":"<p>Try using the below parameters,</p>\n<p>preparedStatement.setString(index, value)\nEx:\npreparedStatement.setString(1, 'user01')</p>\n"}],"owner":{"account_id":2141493,"reputation":2417,"user_id":1900006,"accept_rate":36,"display_name":"Samy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3443,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1653644092,"creation_date":1381245271,"question_id":19251642,"body_markdown":"Binding the values to preparedstatement using setObject(index,object) worked fine using MySQL but not with Oracle.\r\n\r\n    preparedStatement.setObject(i, bindValue);\r\n\r\nBelow is the query built after appending the bind variables.\r\n\r\n    select ACC_NO from ACC_TABLE where ACC_NAME=&#39;java.lang.String&#39;;\r\n\r\nIt is trying to convert to `java.lang.String` type, which results in the following exception:\r\n\r\n&gt; java.sql.SQLException: Could not execute sql command - Original message: null\r\n\r\nWhereas my ACC_NAME is &#39;user01&#39;.\r\n\r\nSo actually the query should be some thing like this,\r\n\r\n    select ACC_NO from ACC_TABLE where ACC_NAME=&#39;user01&#39;;\r\n\r\nSo, if my understanding is not wrong, `preparedStatement.setObject(index, object)` is converting the data to its respective data type and setting it.\r\n\r\n`preparedStatement.setObject(index, object)` in MySQL is working perfectly alright with no issues.\r\n\r\nOnly problem is while using Oracle. \r\n\r\nThe Oracle DB version i am working with is:\r\n\r\n&gt; Oracle Database 11g Express Edition Release 11.2.0.2.0 - Production  \r\n&gt; PL/SQL Release 11.2.0.2.0 - Production &quot;CORE\t11.2.0.2.0\tProduction&quot;  \r\n&gt; TNS for 32-bit Windows: Version 11.2.0.2.0 - Production NLSRTL Version  \r\n&gt; 11.2.0.2.0 - Production  \r\n","title":"Binding Values To PreparedStatement without knowing the data types","body":"<p>Binding the values to preparedstatement using setObject(index,object) worked fine using MySQL but not with Oracle.</p>\n\n<pre><code>preparedStatement.setObject(i, bindValue);\n</code></pre>\n\n<p>Below is the query built after appending the bind variables.</p>\n\n<pre><code>select ACC_NO from ACC_TABLE where ACC_NAME='java.lang.String';\n</code></pre>\n\n<p>It is trying to convert to <code>java.lang.String</code> type, which results in the following exception:</p>\n\n<blockquote>\n  <p>java.sql.SQLException: Could not execute sql command - Original message: null</p>\n</blockquote>\n\n<p>Whereas my ACC_NAME is 'user01'.</p>\n\n<p>So actually the query should be some thing like this,</p>\n\n<pre><code>select ACC_NO from ACC_TABLE where ACC_NAME='user01';\n</code></pre>\n\n<p>So, if my understanding is not wrong, <code>preparedStatement.setObject(index, object)</code> is converting the data to its respective data type and setting it.</p>\n\n<p><code>preparedStatement.setObject(index, object)</code> in MySQL is working perfectly alright with no issues.</p>\n\n<p>Only problem is while using Oracle. </p>\n\n<p>The Oracle DB version i am working with is:</p>\n\n<blockquote>\n  <p>Oracle Database 11g Express Edition Release 11.2.0.2.0 - Production<br>\n  PL/SQL Release 11.2.0.2.0 - Production \"CORE  11.2.0.2.0  Production\"<br>\n  TNS for 32-bit Windows: Version 11.2.0.2.0 - Production NLSRTL Version<br>\n  11.2.0.2.0 - Production  </p>\n</blockquote>\n"},{"tags":["java","spring","spring-annotations","spring-el"],"comments":[{"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"score":3,"creation_date":1460137636,"post_id":36503277,"comment_id":60619024,"body_markdown":"This is supported as of Spring Framework 4.3.RC1. Please give that a try.","body":"This is supported as of Spring Framework 4.3.RC1. Please give that a try."},{"owner":{"account_id":3906058,"reputation":1357,"user_id":3232746,"accept_rate":100,"display_name":"Normal"},"score":0,"creation_date":1462547111,"post_id":36503277,"comment_id":61695949,"body_markdown":"any solution for this?","body":"any solution for this?"},{"owner":{"account_id":2308051,"reputation":1368,"user_id":3247198,"accept_rate":33,"display_name":"amgohan"},"score":0,"creation_date":1462555741,"post_id":36503277,"comment_id":61701201,"body_markdown":"@Normal for now I am working without SPEL, waiting for 4.3.0.RELEASE","body":"@Normal for now I am working without SPEL, waiting for 4.3.0.RELEASE"},{"owner":{"account_id":2308051,"reputation":1368,"user_id":3247198,"accept_rate":33,"display_name":"amgohan"},"score":2,"creation_date":1501210266,"post_id":36503277,"comment_id":77689080,"body_markdown":"@Normal, now working very well in 4.3.x","body":"@Normal, now working very well in 4.3.x"}],"answers":[{"tags":[],"owner":{"account_id":4461030,"reputation":81,"user_id":3723081,"display_name":"Michele C."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653643645,"creation_date":1653643645,"answer_id":72403262,"question_id":36503277,"body_markdown":"try this:\r\n\r\n    #{new Integer(${my.scheduler.fixed.delay}) * 1000}","title":"Spel not supported on spring annotation @Scheduled.fixedDelayString","body":"<p>try this:</p>\n<pre><code>#{new Integer(${my.scheduler.fixed.delay}) * 1000}\n</code></pre>\n"}],"owner":{"account_id":2308051,"reputation":1368,"user_id":3247198,"accept_rate":33,"display_name":"amgohan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2626,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":1,"score":13,"last_activity_date":1653643645,"creation_date":1460128525,"question_id":36503277,"body_markdown":"I want to configure the `fixedDelay` in seconds in my properties file, then I want to convert it to millis in `@Scheduled` annotation.\r\n\r\nI expected this to work:\r\n\r\n```java\r\n@Scheduled(fixedDelayString = &quot;#{${my.scheduler.fixed.delay} * 1000}&quot;)\r\n```\r\n\r\nBut it throw this exception:\r\n\r\n&gt; Caused by: java.lang.IllegalStateException: Encountered invalid\r\n&gt; @Scheduled method &#39;myMethod&#39;: Invalid fixedDelayString value &quot;#{5 *\r\n&gt; 1000}&quot; - cannot parse into integer at\r\n&gt; org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor.processScheduled(ScheduledAnnotationBeanPostProcessor.java:384)\r\n&gt; ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE] at\r\n&gt; org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor$1.doWith(ScheduledAnnotationBeanPostProcessor.java:227)\r\n&gt; ~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]\r\n\r\n`${my.scheduler.fixed.delay}` was correctly resolved but the expression was not resolved.\r\n\r\nI tried to configure my own `StringValueResolver`:\r\n\r\n```java\r\nprivate static class CustomValueResolver\r\n    implements StringValueResolver {\r\n\r\n    private final ConfigurableBeanFactory beanFactory;\r\n\r\n    private final ExpressionParser expressionParser;\r\n\r\n    public CustomValueResolver(final ConfigurableBeanFactory beanFactory, final ExpressionParser expressionParser) {\r\n\r\n        this.beanFactory = beanFactory;\r\n        this.expressionParser = expressionParser;\r\n    }\r\n\r\n    @Override\r\n    public String resolveStringValue(\r\n        final String strVal) {\r\n\r\n        String value = this.beanFactory.resolveEmbeddedValue(strVal);\r\n        if (value.startsWith(&quot;#{&quot;)) {\r\n            value = this.expressionParser.parseExpression(value).getValue(String.class);\r\n        }\r\n        return value;\r\n    }\r\n}\r\n```\r\n\r\nBut I don&#39;t find the way to inject my custom `CustomValueResolver`.\r\n\r\nAm I on the right or wrong way?","title":"Spel not supported on spring annotation @Scheduled.fixedDelayString","body":"<p>I want to configure the <code>fixedDelay</code> in seconds in my properties file, then I want to convert it to millis in <code>@Scheduled</code> annotation.</p>\n<p>I expected this to work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(fixedDelayString = &quot;#{${my.scheduler.fixed.delay} * 1000}&quot;)\n</code></pre>\n<p>But it throw this exception:</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalStateException: Encountered invalid\n@Scheduled method 'myMethod': Invalid fixedDelayString value &quot;#{5 *\n1000}&quot; - cannot parse into integer at\norg.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor.processScheduled(ScheduledAnnotationBeanPostProcessor.java:384)\n~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE] at\norg.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor$1.doWith(ScheduledAnnotationBeanPostProcessor.java:227)\n~[spring-context-4.1.6.RELEASE.jar:4.1.6.RELEASE]</p>\n</blockquote>\n<p><code>${my.scheduler.fixed.delay}</code> was correctly resolved but the expression was not resolved.</p>\n<p>I tried to configure my own <code>StringValueResolver</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static class CustomValueResolver\n    implements StringValueResolver {\n\n    private final ConfigurableBeanFactory beanFactory;\n\n    private final ExpressionParser expressionParser;\n\n    public CustomValueResolver(final ConfigurableBeanFactory beanFactory, final ExpressionParser expressionParser) {\n\n        this.beanFactory = beanFactory;\n        this.expressionParser = expressionParser;\n    }\n\n    @Override\n    public String resolveStringValue(\n        final String strVal) {\n\n        String value = this.beanFactory.resolveEmbeddedValue(strVal);\n        if (value.startsWith(&quot;#{&quot;)) {\n            value = this.expressionParser.parseExpression(value).getValue(String.class);\n        }\n        return value;\n    }\n}\n</code></pre>\n<p>But I don't find the way to inject my custom <code>CustomValueResolver</code>.</p>\n<p>Am I on the right or wrong way?</p>\n"},{"tags":["java","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1653643355,"post_id":72403118,"comment_id":127905519,"body_markdown":"It uses the JDK that is currently configured in your environment for both operations. Check if this helps https://stackoverflow.com/questions/50249466/switch-between-multiple-java-versions-jdk1-8-and-jdk10","body":"It uses the JDK that is currently configured in your environment for both operations. Check if this helps <a href=\"https://stackoverflow.com/questions/50249466/switch-between-multiple-java-versions-jdk1-8-and-jdk10\" title=\"switch between multiple java versions jdk1 8 and jdk10\">stackoverflow.com/questions/50249466/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3992180,"reputation":1524,"user_id":3290745,"display_name":"Tristate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653643491,"creation_date":1653643491,"answer_id":72403236,"question_id":72403118,"body_markdown":"Do \r\n\r\n    java --version\r\n\r\nin your command line. The result must be something like\r\n\r\n    openjdk 17 2021-09-14\r\n    OpenJDK Runtime Environment (build 17+35-2724)\r\n    OpenJDK 64-Bit Server VM (build 17+35-2724, mixed mode, sharing)\r\n\r\nThis JDK is used for build and run.","title":"Which jdk used by spring-boot maven plug-in?","body":"<p>Do</p>\n<pre><code>java --version\n</code></pre>\n<p>in your command line. The result must be something like</p>\n<pre><code>openjdk 17 2021-09-14\nOpenJDK Runtime Environment (build 17+35-2724)\nOpenJDK 64-Bit Server VM (build 17+35-2724, mixed mode, sharing)\n</code></pre>\n<p>This JDK is used for build and run.</p>\n"}],"owner":{"account_id":24918196,"reputation":95,"user_id":18786837,"display_name":"it.drive.view"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653643491,"creation_date":1653642931,"question_id":72403118,"body_markdown":"I build all my java projects with the command :\r\n\r\n\r\n    mvn spring-boot:run \r\n\r\nI&#39;d like to know which jdk (and how) is used :\r\n- to build java project\r\n- to run java project \r\n\r\nby spring-boot maven plugin ?\r\n\r\nIn fact, it seems that the jdk should not be the same for the build and the run.\r\n\r\nHow does it work ?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Which jdk used by spring-boot maven plug-in?","body":"<p>I build all my java projects with the command :</p>\n<pre><code>mvn spring-boot:run \n</code></pre>\n<p>I'd like to know which jdk (and how) is used :</p>\n<ul>\n<li>to build java project</li>\n<li>to run java project</li>\n</ul>\n<p>by spring-boot maven plugin ?</p>\n<p>In fact, it seems that the jdk should not be the same for the build and the run.</p>\n<p>How does it work ?</p>\n"},{"tags":["java","sax","saxparser"],"comments":[{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1653578942,"post_id":72393283,"comment_id":127890330,"body_markdown":"Aren&#39;t you pushing 2 model objects onto stack, 1 for outer element and 1 for inner element? So datum is on one model and others are on another model.   Once you find tecajnica stop pushing models.","body":"Aren&#39;t you pushing 2 model objects onto stack, 1 for outer element and 1 for inner element? So datum is on one model and others are on another model.   Once you find tecajnica stop pushing models."},{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":1,"creation_date":1653579163,"post_id":72393283,"comment_id":127890406,"body_markdown":"Your element is either `tecajnica` and has `datum`, *or* `tecaj`, having `oznaka`, `sifra` and value. You will never get everything set in a single call. What is shown on the screenshot seems to be the first two `tecaj` elements. The only thing to think about here is where the `tecajnica` went, as it should have been `push()`ed too, whatever that method does. This applies to the `qName`s too, according to the code there should be one visible between the two `CurrencyModel` items.","body":"Your element is either <code>tecajnica</code> and has <code>datum</code>, <i>or</i> <code>tecaj</code>, having <code>oznaka</code>, <code>sifra</code> and value. You will never get everything set in a single call. What is shown on the screenshot seems to be the first two <code>tecaj</code> elements. The only thing to think about here is where the <code>tecajnica</code> went, as it should have been <code>push()</code>ed too, whatever that method does. This applies to the <code>qName</code>s too, according to the code there should be one visible between the two <code>CurrencyModel</code> items."},{"owner":{"account_id":18053847,"reputation":35,"user_id":13122838,"display_name":"ApocalipticCoder"},"score":0,"creation_date":1653671355,"post_id":72393283,"comment_id":127915677,"body_markdown":"@tevemadar solved it now! The issue was as you suggested. I tried parsing all of it in one call! A few different lines of code solved the whole problem, and I am now parsing all elements as needed! Thank you for your help","body":"@tevemadar solved it now! The issue was as you suggested. I tried parsing all of it in one call! A few different lines of code solved the whole problem, and I am now parsing all elements as needed! Thank you for your help"}],"answers":[{"tags":[],"owner":{"account_id":16534998,"reputation":11,"user_id":11947274,"display_name":"Gurujegan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653643143,"creation_date":1653578110,"answer_id":72394099,"question_id":72393283,"body_markdown":"You can use JAXB parser instead of SAX, It converts each element tag into a Java objects and easily configurable too. But we need to create classes for each element tag in the XML file as mentioned in this article https://www.javatpoint.com/jaxb-tutorial\r\n\r\nAs per your data your root class will be like below:\r\n\r\n```\r\npackage com.a.b.c;\r\nimport javax.xml.bind.annotation.XmlAttribute;\r\nimport javax.xml.bind.annotation.XmlElement;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\n\r\n@XmlRootElement(name=&quot;DtecBs&quot;) \r\npublic class DtecBs {\r\n\t\r\n\tprivate String datum;\r\n\tprivate List&lt;tecjnica&gt; tecjnicaList;\r\n\t\r\n\t@XmlAttribute\r\n\tpublic String getDatum() {\r\n\t\treturn datum;\r\n\t}\r\n\tpublic void setDatum(String datum) {\r\n\t\tthis.datum = datum;\r\n\t}\r\n\t\r\n\t@XmlElement(name=&quot;tecjnica&quot;)\r\n\tpublic List&lt;tecjnica&gt; getTecjnicaList() {\r\n\t\treturn tecjnicaList;\r\n\t}\r\n\tpublic void setTecjnicaList(List&lt;tecjnica&gt; tecjnicaList) {\r\n\t\tthis.tecjnicaList = tecjnicaList;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nFollowing method helps to convert XML into JavaObject:\r\n\r\nRequired parameters are:\r\n\r\n- InputStream (Inputstream of the XML file)\r\n- Class (Class name of the root element in the XML ***com.a.b.c.DtecBs***)\r\n\r\n```\r\n    DtecBs dtecbsObj = (DtecBs)convertXmltoJavaObject(is,className);\r\n\r\n\tpublic Object convertXmltoJavaObject(InputStream is, Class className) throws JAXBException, ParserConfigurationException, SAXException {\r\n\t\t\r\n\t\t//Disable XXE\r\n\t\tSAXParserFactory spf = SAXParserFactory.newInstance();\r\n\t\tspf.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\r\n\t\tspf.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);\r\n\t\tspf.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;, false);\r\n\r\n\t\t//Do unmarshall operation\r\n\t\tSource xmlSource = new SAXSource(spf.newSAXParser().getXMLReader(),new InputSource(is));\r\n\t\tJAXBContext jaxbContext = JAXBContext.newInstance(className);\r\n\t\tUnmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n\t\tJAXBIntrospector ji = jaxbContext.createJAXBIntrospector();\r\n\t\treturn ji.getValue(jaxbUnmarshaller.unmarshal(xmlSource));\r\n\t}\r\n```\r\n","title":"How to parse whole XML document using SAX parser in Java","body":"<p>You can use JAXB parser instead of SAX, It converts each element tag into a Java objects and easily configurable too. But we need to create classes for each element tag in the XML file as mentioned in this article <a href=\"https://www.javatpoint.com/jaxb-tutorial\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/jaxb-tutorial</a></p>\n<p>As per your data your root class will be like below:</p>\n<pre><code>package com.a.b.c;\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n@XmlRootElement(name=&quot;DtecBs&quot;) \npublic class DtecBs {\n    \n    private String datum;\n    private List&lt;tecjnica&gt; tecjnicaList;\n    \n    @XmlAttribute\n    public String getDatum() {\n        return datum;\n    }\n    public void setDatum(String datum) {\n        this.datum = datum;\n    }\n    \n    @XmlElement(name=&quot;tecjnica&quot;)\n    public List&lt;tecjnica&gt; getTecjnicaList() {\n        return tecjnicaList;\n    }\n    public void setTecjnicaList(List&lt;tecjnica&gt; tecjnicaList) {\n        this.tecjnicaList = tecjnicaList;\n    }\n    \n}\n</code></pre>\n<p>Following method helps to convert XML into JavaObject:</p>\n<p>Required parameters are:</p>\n<ul>\n<li>InputStream (Inputstream of the XML file)</li>\n<li>Class (Class name of the root element in the XML <em><strong>com.a.b.c.DtecBs</strong></em>)</li>\n</ul>\n<pre><code>    DtecBs dtecbsObj = (DtecBs)convertXmltoJavaObject(is,className);\n\n    public Object convertXmltoJavaObject(InputStream is, Class className) throws JAXBException, ParserConfigurationException, SAXException {\n        \n        //Disable XXE\n        SAXParserFactory spf = SAXParserFactory.newInstance();\n        spf.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\n        spf.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);\n        spf.setFeature(&quot;http://apache.org/xml/features/nonvalidating/load-external-dtd&quot;, false);\n\n        //Do unmarshall operation\n        Source xmlSource = new SAXSource(spf.newSAXParser().getXMLReader(),new InputSource(is));\n        JAXBContext jaxbContext = JAXBContext.newInstance(className);\n        Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n        JAXBIntrospector ji = jaxbContext.createJAXBIntrospector();\n        return ji.getValue(jaxbUnmarshaller.unmarshal(xmlSource));\n    }\n</code></pre>\n"}],"owner":{"account_id":18053847,"reputation":35,"user_id":13122838,"display_name":"ApocalipticCoder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653643143,"creation_date":1653574610,"question_id":72393283,"body_markdown":"So Im pretty new to Java coming from C#! They are pretty similar programming languages, so im getting a hang of it quickly, but there is a problem I have been battling with for a while, that I hope you can help me solve!\r\n\r\nSo Im using my SAX parser to parse the XML document, and it works fine, but Im having problems parsing the whole xml document, and don&#39;t know how to parse the attribute value in the top element.\r\n \r\nMy xml document is as follows:\r\n\r\n[![Im having trouble parsing attribute &quot;datum&quot; from tecajnica element][1]][1]\r\n   \r\n\r\n\r\nThis is the code snippet where I believe the problem lies! This code works for parsing all of tecaj elements and their attributes/content values, but not &quot;datum&quot; attribute:\r\n\r\n    public void startElement(String uri, String localName, String qName, Attributes attributes) throws SAXException\r\n    {\r\n        this.elementStack.push(qName);\r\n        CurrencyModel model = new CurrencyModel();\r\n\r\n        if(&quot;tecajnica&quot;.equals(qName))\r\n        {\r\n            if(attributes != null)\r\n            {\r\n                model.setDatum(attributes.getValue(0));\r\n            }\r\n        }\r\n        else if(&quot;tecaj&quot;.equals(qName))\r\n        {\r\n            if(attributes != null)\r\n            {\r\n                model.setOznaka(attributes.getValue(0));\r\n                model.setSifra(attributes.getValue(1));\r\n            }\r\n        }\r\n        this.objectStack.push(model);\r\n    }\r\n\r\nSo I have a model class that looks like this: \r\n\r\n \r\n\r\n  \r\n\r\n      public class CurrencyModel\r\n    {\r\n        public String getDatum() {\r\n            return datum;\r\n        }\r\n    \r\n        public void setDatum(String datum) {\r\n            this.datum = datum;\r\n        }\r\n    \r\n        public String getOznaka() {\r\n            return oznaka;\r\n        }\r\n    \r\n        public void setOznaka(String oznaka) {\r\n            this.oznaka = oznaka;\r\n        }\r\n    \r\n        public String getSifra() {\r\n            return sifra;\r\n        }\r\n    \r\n        public void setSifra(String sifra) {\r\n            this.sifra = sifra;\r\n        }\r\n    \r\n        public double getValue() {\r\n            return value;\r\n        }\r\n    \r\n        public void setValue(double value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        String datum;\r\n        String oznaka;\r\n        String sifra;\r\n        double value;\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;CurrencyModel{&quot; +\r\n                    &quot;datum=&quot; + datum +\r\n                    &quot;, oznaka=&#39;&quot; + oznaka + &#39;\\&#39;&#39; +\r\n                    &quot;, sifra=&#39;&quot; + sifra + &#39;\\&#39;&#39; +\r\n                    &quot;, value=&quot; + value +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nSo each object of type CurrencyModel has its date property that is supposed to get the value of the attribute from its respected &quot;tecajnica&quot; element. It works for all of the other properties but &quot;Datum&quot;. At first I was parsing it as Date type, but as that didn&#39;t work I tried parsing it as a String. Now it works without any errors, but always sets the object &quot;Datum&quot; property to null...\r\n\r\nOutput looks as follows:\r\n[![enter image description here][2]][2]\r\n\r\nAny help and suggestions will be much appreciated!!! Thank you in advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kfDln.png\r\n  [2]: https://i.stack.imgur.com/VkawH.png","title":"How to parse whole XML document using SAX parser in Java","body":"<p>So Im pretty new to Java coming from C#! They are pretty similar programming languages, so im getting a hang of it quickly, but there is a problem I have been battling with for a while, that I hope you can help me solve!</p>\n<p>So Im using my SAX parser to parse the XML document, and it works fine, but Im having problems parsing the whole xml document, and don't know how to parse the attribute value in the top element.</p>\n<p>My xml document is as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/kfDln.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kfDln.png\" alt=\"Im having trouble parsing attribute &quot;datum&quot; from tecajnica element\" /></a></p>\n<p>This is the code snippet where I believe the problem lies! This code works for parsing all of tecaj elements and their attributes/content values, but not &quot;datum&quot; attribute:</p>\n<pre><code>public void startElement(String uri, String localName, String qName, Attributes attributes) throws SAXException\n{\n    this.elementStack.push(qName);\n    CurrencyModel model = new CurrencyModel();\n\n    if(&quot;tecajnica&quot;.equals(qName))\n    {\n        if(attributes != null)\n        {\n            model.setDatum(attributes.getValue(0));\n        }\n    }\n    else if(&quot;tecaj&quot;.equals(qName))\n    {\n        if(attributes != null)\n        {\n            model.setOznaka(attributes.getValue(0));\n            model.setSifra(attributes.getValue(1));\n        }\n    }\n    this.objectStack.push(model);\n}\n</code></pre>\n<p>So I have a model class that looks like this:</p>\n<pre><code>  public class CurrencyModel\n{\n    public String getDatum() {\n        return datum;\n    }\n\n    public void setDatum(String datum) {\n        this.datum = datum;\n    }\n\n    public String getOznaka() {\n        return oznaka;\n    }\n\n    public void setOznaka(String oznaka) {\n        this.oznaka = oznaka;\n    }\n\n    public String getSifra() {\n        return sifra;\n    }\n\n    public void setSifra(String sifra) {\n        this.sifra = sifra;\n    }\n\n    public double getValue() {\n        return value;\n    }\n\n    public void setValue(double value) {\n        this.value = value;\n    }\n\n    String datum;\n    String oznaka;\n    String sifra;\n    double value;\n\n    @Override\n    public String toString() {\n        return &quot;CurrencyModel{&quot; +\n                &quot;datum=&quot; + datum +\n                &quot;, oznaka='&quot; + oznaka + '\\'' +\n                &quot;, sifra='&quot; + sifra + '\\'' +\n                &quot;, value=&quot; + value +\n                '}';\n    }\n}\n</code></pre>\n<p>So each object of type CurrencyModel has its date property that is supposed to get the value of the attribute from its respected &quot;tecajnica&quot; element. It works for all of the other properties but &quot;Datum&quot;. At first I was parsing it as Date type, but as that didn't work I tried parsing it as a String. Now it works without any errors, but always sets the object &quot;Datum&quot; property to null...</p>\n<p>Output looks as follows:\n<a href=\"https://i.stack.imgur.com/VkawH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VkawH.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help and suggestions will be much appreciated!!! Thank you in advance!</p>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1653592502,"post_id":72396862,"comment_id":127894891,"body_markdown":"Post a [mcve] please, not just s = ....","body":"Post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please, not just s = ...."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653592636,"post_id":72396862,"comment_id":127894934,"body_markdown":"I can&#39;t see how you could have that string declaration even compile. If it&#39;s due to editor wrap, it won&#39;t have line separators in it","body":"I can&#39;t see how you could have that string declaration even compile. If it&#39;s due to editor wrap, it won&#39;t have line separators in it"},{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":3,"creation_date":1653592732,"post_id":72396862,"comment_id":127894966,"body_markdown":"try s.replaceAll(&quot;/(\\r\\n|\\n|\\r)/gm&quot;, &quot;&quot;);","body":"try s.replaceAll(&quot;/(\\r\\n|\\n|\\r)/gm&quot;, &quot;&quot;);"},{"owner":{"account_id":25335025,"reputation":83,"user_id":19154308,"display_name":"dsknjksad"},"score":0,"creation_date":1653592862,"post_id":72396862,"comment_id":127895017,"body_markdown":"doesnt seem to wokr tinitin","body":"doesnt seem to wokr tinitin"},{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":1,"creation_date":1653592918,"post_id":72396862,"comment_id":127895041,"body_markdown":"As @OldProgrammer said, post a minimal reproducible example please.","body":"As @OldProgrammer said, post a minimal reproducible example please."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1653593058,"post_id":72396862,"comment_id":127895090,"body_markdown":"While it&#39;s a two-step approach, how about `replaceAll(&quot;\\n+&quot;, &quot;\\n&quot;)`, followed by `replaceAll(&quot;\\n&quot;, &quot;,&quot;)`? It&#39;s a cost of performance for the simplicity of writing.","body":"While it&#39;s a two-step approach, how about <code>replaceAll(&quot;\\n+&quot;, &quot;\\n&quot;)</code>, followed by <code>replaceAll(&quot;\\n&quot;, &quot;,&quot;)</code>? It&#39;s a cost of performance for the simplicity of writing."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1653593831,"post_id":72396862,"comment_id":127895336,"body_markdown":"In your example bottom lines also have additional spacing on the left. Are those spaces part of string, or perhaps code indentation?","body":"In your example bottom lines also have additional spacing on the left. Are those spaces part of string, or perhaps code indentation?"}],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653642981,"creation_date":1653593717,"answer_id":72397128,"question_id":72396862,"body_markdown":"Since Java 8 we can use in regex `\\R` which represents [line separator][1] which aside from `\\n` can also be `\\r`, or `\\r\\n` pair and more. \r\n\r\nSo your code can look like\r\n\r\n```\r\ns = s.replaceAll(&quot;\\\\R+&quot;, &quot;,&quot;);\r\n```\r\n\r\n- `&quot;\\\\R&quot;` to represents `\\R` in regex  \r\n- `+` to match one or more line separator, in case you want to remove more than one empty lines with single comma `,`\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/31060125","title":"Replace new lines and make it all one line in java","body":"<p>Since Java 8 we can use in regex <code>\\R</code> which represents <a href=\"https://stackoverflow.com/a/31060125\">line separator</a> which aside from <code>\\n</code> can also be <code>\\r</code>, or <code>\\r\\n</code> pair and more.</p>\n<p>So your code can look like</p>\n<pre><code>s = s.replaceAll(&quot;\\\\R+&quot;, &quot;,&quot;);\n</code></pre>\n<ul>\n<li><code>&quot;\\\\R&quot;</code> to represents <code>\\R</code> in regex</li>\n<li><code>+</code> to match one or more line separator, in case you want to remove more than one empty lines with single comma <code>,</code></li>\n</ul>\n"}],"owner":{"account_id":25335025,"reputation":83,"user_id":19154308,"display_name":"dsknjksad"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653642981,"creation_date":1653592216,"question_id":72396862,"body_markdown":"I want to split these new lines into one line replace them with commas.\r\n\r\n  \r\n output now=\r\n\r\n     s = Ar,TB,YY \r\n        \r\n        0,2022323,02\r\n        \r\n        0,223233,29\r\n\r\n\r\noutput I want:\r\n\r\n    s = Ar,TB,YY,0,2022323,02,0,223233,29;\r\n\r\n\r\nI tried using s = s.replaceAll(&quot;\\\\n&quot;, &quot;,&quot;); , didnt seem to make a difference.","title":"Replace new lines and make it all one line in java","body":"<p>I want to split these new lines into one line replace them with commas.</p>\n<p>output now=</p>\n<pre><code> s = Ar,TB,YY \n    \n    0,2022323,02\n    \n    0,223233,29\n</code></pre>\n<p>output I want:</p>\n<pre><code>s = Ar,TB,YY,0,2022323,02,0,223233,29;\n</code></pre>\n<p>I tried using s = s.replaceAll(&quot;\\n&quot;, &quot;,&quot;); , didnt seem to make a difference.</p>\n"},{"tags":["java","multithreading","swing"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1653633474,"post_id":72401297,"comment_id":127902461,"body_markdown":"Thread creation isn&#39;t expensive at all compared to getting all the employees from your DAO, so a pool is for the ease of use rather than performance. Don&#39;t mistake code clarity for performance optimization. There&#39;s more to code than performance, even though beginners are obsessed with performance when they have the least clue how to achieve it.","body":"Thread creation isn&#39;t expensive at all compared to getting all the employees from your DAO, so a pool is for the ease of use rather than performance. Don&#39;t mistake code clarity for performance optimization. There&#39;s more to code than performance, even though beginners are obsessed with performance when they have the least clue how to achieve it."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1653633480,"post_id":72401297,"comment_id":127902465,"body_markdown":"You are confusing connection pool and thread pool. A connection pool keeps a bunch of database connections in order to avoid having to create new ones. A thread pool keeps a bunch of threads. It is not the same thing. You could use a thread pool for UI updates, but the approach suggested in the link is better.","body":"You are confusing connection pool and thread pool. A connection pool keeps a bunch of database connections in order to avoid having to create new ones. A thread pool keeps a bunch of threads. It is not the same thing. You could use a thread pool for UI updates, but the approach suggested in the link is better."},{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":1,"creation_date":1653633573,"post_id":72401297,"comment_id":127902486,"body_markdown":"Replaced title, both to remove SHOUTY CAPS and to replace threadpool by thread (becasuse, as @ewrammer comments, you were not using any extra threadpools at all)","body":"Replaced title, both to remove SHOUTY CAPS and to replace threadpool by thread (becasuse, as @ewrammer comments, you were not using any extra threadpools at all)"},{"owner":{"account_id":6344564,"reputation":159,"user_id":4925514,"accept_rate":40,"display_name":"Afroid1000"},"score":0,"creation_date":1653634315,"post_id":72401297,"comment_id":127902666,"body_markdown":"@Kayaman indeed what you say is enlightening, I thought the pool will improve performance, so its actually code clarity? Ouch. In the code sample, am not using any extra threadpools, yes, but i was wondering if replacing them with a thread pool will improve performance. Which seems not to be the case.","body":"@Kayaman indeed what you say is enlightening, I thought the pool will improve performance, so its actually code clarity? Ouch. In the code sample, am not using any extra threadpools, yes, but i was wondering if replacing them with a thread pool will improve performance. Which seems not to be the case."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653634437,"post_id":72401297,"comment_id":127902703,"body_markdown":"By the way, in the not so distant future, the new feature of [virtual threads](https://openjdk.java.net/jeps/425) in [*Project Loom*](https://wiki.openjdk.java.net/display/loom/Main) may make threads *very* cheap, using much less memory and CPU.","body":"By the way, in the not so distant future, the new feature of <a href=\"https://openjdk.java.net/jeps/425\" rel=\"nofollow noreferrer\">virtual threads</a> in <a href=\"https://wiki.openjdk.java.net/display/loom/Main\" rel=\"nofollow noreferrer\"><i>Project Loom</i></a> may make threads <i>very</i> cheap, using much less memory and CPU."},{"owner":{"account_id":6344564,"reputation":159,"user_id":4925514,"accept_rate":40,"display_name":"Afroid1000"},"score":0,"creation_date":1653634809,"post_id":72401297,"comment_id":127902794,"body_markdown":"@ewramner, I thought a connection pool is a type of threadpool dedicated for db access? An edit in my question will help you straighten me up on this issue..","body":"@ewramner, I thought a connection pool is a type of threadpool dedicated for db access? An edit in my question will help you straighten me up on this issue.."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653635634,"post_id":72401297,"comment_id":127903038,"body_markdown":"@Afroid1000 both are object pools, but one pools threads and the other pools DB connections. Also, whenever you even think about improving performance, you need to measure it to know how much it was improved. Otherwise you&#39;re just blindly doing things, not knowing if you&#39;re improving or hurting performance, and basically just acting randomly.","body":"@Afroid1000 both are object pools, but one pools threads and the other pools DB connections. Also, whenever you even think about improving performance, you need to measure it to know how much it was improved. Otherwise you&#39;re just blindly doing things, not knowing if you&#39;re improving or hurting performance, and basically just acting randomly."},{"owner":{"account_id":6344564,"reputation":159,"user_id":4925514,"accept_rate":40,"display_name":"Afroid1000"},"score":0,"creation_date":1653640106,"post_id":72401297,"comment_id":127904499,"body_markdown":"@Kayaman updated the question for clarity. Thanks.","body":"@Kayaman updated the question for clarity. Thanks."},{"owner":{"account_id":6344564,"reputation":159,"user_id":4925514,"accept_rate":40,"display_name":"Afroid1000"},"score":0,"creation_date":1653640167,"post_id":72401297,"comment_id":127904518,"body_markdown":"@ewramner  updated the question for clarity. Thanks.","body":"@ewramner  updated the question for clarity. Thanks."},{"owner":{"account_id":6344564,"reputation":159,"user_id":4925514,"accept_rate":40,"display_name":"Afroid1000"},"score":0,"creation_date":1653640546,"post_id":72401297,"comment_id":127904628,"body_markdown":"@matt if the purpose of a threadpool is to make thread creation less expensive by reusing them, shouldn&#39;t one prefer to use a thread pool? On the other hand, thread creation is not as expensive as I initially thought, but I since the app will be large, I prefer to put all the threads (Swing workers) calling the db in one dedicated pool which will also be updating the UI...does this make sense?","body":"@matt if the purpose of a threadpool is to make thread creation less expensive by reusing them, shouldn&#39;t one prefer to use a thread pool? On the other hand, thread creation is not as expensive as I initially thought, but I since the app will be large, I prefer to put all the threads (Swing workers) calling the db in one dedicated pool which will also be updating the UI...does this make sense?"},{"owner":{"account_id":6344564,"reputation":159,"user_id":4925514,"accept_rate":40,"display_name":"Afroid1000"},"score":0,"creation_date":1653641541,"post_id":72401297,"comment_id":127904917,"body_markdown":"@matt My UI was slightly slow till I rewrote the code using invoke later as the first code sample above. Is the first piece of code scalable? Creating threads every time an actionPerformed() method is called? Would it be better to create a threadpool where threads are already created and actionperformed will not create a thread but reuse the ones in the pool as the second code sample?","body":"@matt My UI was slightly slow till I rewrote the code using invoke later as the first code sample above. Is the first piece of code scalable? Creating threads every time an actionPerformed() method is called? Would it be better to create a threadpool where threads are already created and actionperformed will not create a thread but reuse the ones in the pool as the second code sample?"}],"answers":[{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653634061,"creation_date":1653634061,"answer_id":72401487,"question_id":72401297,"body_markdown":"Think of this in terms of &quot;extra work&quot;. Creating a thread is more expensive than, say, sorting a list of 1000 numbers (a &quot;small&quot; task). It is much less expensive than, say, connecting to a DB and retrieving the results of a query (a &quot;big&quot; task, as in your example). If your application\r\n- launches a thread whenever it does small stuff, and spends a lot of time doing small stuff... then it spends more time in thread creation than in doing stuff. This is bad for performance.\r\n- launches a thread whenever it does big stuff, and spends a lot of time doing big stuff... then threads are not part of the problem, and you should optimize the big stuff instead (maybe cache DB results to avoid unnecessary repeat queries, optimize the queries themselves, ...). \r\n\r\nThere is little performance to be gained by improving something that does not already take a substantial part of running time (because you can never make it take negative time, so your potential gains are small).\r\n\r\nTo answer your original question: no, you should not worry about thread pools in the current state of your application. The scalability bottleneck will be the queries to the DB (or the input-output, if not backed by a DB), not the threads.\r\n","title":"Java Swing multithreading: Will a dedicated threadpool for UI updates make the app performant?","body":"<p>Think of this in terms of &quot;extra work&quot;. Creating a thread is more expensive than, say, sorting a list of 1000 numbers (a &quot;small&quot; task). It is much less expensive than, say, connecting to a DB and retrieving the results of a query (a &quot;big&quot; task, as in your example). If your application</p>\n<ul>\n<li>launches a thread whenever it does small stuff, and spends a lot of time doing small stuff... then it spends more time in thread creation than in doing stuff. This is bad for performance.</li>\n<li>launches a thread whenever it does big stuff, and spends a lot of time doing big stuff... then threads are not part of the problem, and you should optimize the big stuff instead (maybe cache DB results to avoid unnecessary repeat queries, optimize the queries themselves, ...).</li>\n</ul>\n<p>There is little performance to be gained by improving something that does not already take a substantial part of running time (because you can never make it take negative time, so your potential gains are small).</p>\n<p>To answer your original question: no, you should not worry about thread pools in the current state of your application. The scalability bottleneck will be the queries to the DB (or the input-output, if not backed by a DB), not the threads.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653642796,"creation_date":1653641665,"answer_id":72402882,"question_id":72401297,"body_markdown":"I think what you&#39;ve written is sound, it fixes some of the issues creating a new thread vs re-using one.\r\n\r\nThe basic structure of a swing app is. Your UI generates an event, on the EDT you decide what action that event is and then you process it on *your event loop* that event loop could be an ExecutorService, it could be a literal while loop, or it could even be just firing of another thread. \r\n\r\nWhen you&#39;re finished with the event, you decide on any changes and post those changes to the EDT.\r\n\r\nSo I would not say that is &quot;A dedicated threadpool for updating the UI&quot;.\r\n\r\nYour SwingWorker looks fine. They&#39;ll execute once on a background thread and they&#39;ll respond on the EDT when finished. They are agnostic to the type of executor they&#39;re being submitted to. \r\n\r\nWhat is wrong with using `new Thread();`\r\n\r\n - You can fire off many successive events and generate a lot of threads that are working completely independently.\r\n - You need to keep track of the threads if you want to access the job somehow. ie interrupt.\r\n - It provides no control or a way to check if the job has finished.\r\n\r\nThese are issues that can be addressed by using an ExecutorService. The only issue you don&#39;t really address is, if somebody clicks the button twice, you&#39;ll get two tasks working completely in parallel. You have at least restricted it to the size of your pool.","title":"Java Swing multithreading: Will a dedicated threadpool for UI updates make the app performant?","body":"<p>I think what you've written is sound, it fixes some of the issues creating a new thread vs re-using one.</p>\n<p>The basic structure of a swing app is. Your UI generates an event, on the EDT you decide what action that event is and then you process it on <em>your event loop</em> that event loop could be an ExecutorService, it could be a literal while loop, or it could even be just firing of another thread.</p>\n<p>When you're finished with the event, you decide on any changes and post those changes to the EDT.</p>\n<p>So I would not say that is &quot;A dedicated threadpool for updating the UI&quot;.</p>\n<p>Your SwingWorker looks fine. They'll execute once on a background thread and they'll respond on the EDT when finished. They are agnostic to the type of executor they're being submitted to.</p>\n<p>What is wrong with using <code>new Thread();</code></p>\n<ul>\n<li>You can fire off many successive events and generate a lot of threads that are working completely independently.</li>\n<li>You need to keep track of the threads if you want to access the job somehow. ie interrupt.</li>\n<li>It provides no control or a way to check if the job has finished.</li>\n</ul>\n<p>These are issues that can be addressed by using an ExecutorService. The only issue you don't really address is, if somebody clicks the button twice, you'll get two tasks working completely in parallel. You have at least restricted it to the size of your pool.</p>\n"}],"owner":{"account_id":6344564,"reputation":159,"user_id":4925514,"accept_rate":40,"display_name":"Afroid1000"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653642796,"creation_date":1653632789,"question_id":72401297,"body_markdown":"Currently, am using the method below for a basic swing app that I expect will grow in complexity\r\n\r\n\r\n\r\n    public void actionPerformed(ActionEvent e)\r\n    {\r\n      new Thread(new Runnable()\r\n       {\r\n        //do heavy db stuff--------------------------------------------\r\n        DAO dao = DAO.getInstance();\r\n        List&lt;Employees&gt; employeeList = dao.getAllEmployees();\r\n        EmployeeModel empModel = new EmployeeModel(employeeList);\r\n        SwingUtilities.invokeLater(new Runnable() \r\n        {\r\n          public void run()\r\n          {\r\n             //update swing GUI----------------------------------------\r\n            jTableEmployees.setModel(empModel);\r\n          }\r\n        });\r\n      }).start();\r\n    }\r\n\r\n\r\nI have read this [answer][1] and [answer][2] and **preparing early** for the app will grow in complexity. My strategy to **UPDATE THE UI** of *a large complex swing app* is using Executor service as shown below.\r\n\r\n\r\n\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import javax.swing.SwingWorker;\r\n\r\n    public class SwiftExcecutor {\r\n    \r\n        private final ExecutorService exec = \r\n    Executors.newFixedThreadPool(2);\r\n    \r\n        private class GetEmployeesThread extends SwingWorker&lt;String, String&gt;{\r\n\r\n            @Override\r\n            protected String doInBackground() throws Exception {\r\n                return &quot;complete.&quot;;\r\n            }\r\n        \r\n             @Override\r\n            protected void done() {\r\n             //Safely update swing components------------------------------\r\n            }\r\n\r\n        }\r\n    \r\n    private class GetContractorsThread extends SwingWorker&lt;String, String&gt;{\r\n\r\n        @Override\r\n        protected String doInBackground() throws Exception {\r\n           return &quot;complete.&quot;;\r\n        }\r\n        \r\n         @Override\r\n        protected void done() {\r\n         //Safely update swing components------------------------------\r\n        }\r\n    }\r\n    \r\n    public void actionPerformed(ActionEvent e) {\r\n        \r\n      \r\n        GetEmployeesThread getAllEmployees = new GetEmployeesThread();\r\n        exec.execute(getAllEmployees);\r\n        \r\n        GetContractorsThread getAllContractors = new GetContractorsThread();\r\n        exec.execute(getAllContractors);\r\n        }    \r\n    }\r\n\r\n\r\n\r\n\r\nMy main concern is: \r\n\r\n 1. Is using a dedicated threadpool to update a complex Swing app a **sound** strategy? \r\n 2. Is the skeleton code with threadpool **thread-safe?** Can I update a component inside done(); method? As shown is skeleton code above?\r\n 3. Should I expect any performance gains in **UI response**?(Not in sql queries and long running background task, I understand this is a different issues all together).\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19085403/multithreading-with-swing\r\n  [2]: https://stackoverflow.com/questions/37710320/hikaricp-multithreading-separate-connection-for-each-thread","title":"Java Swing multithreading: Will a dedicated threadpool for UI updates make the app performant?","body":"<p>Currently, am using the method below for a basic swing app that I expect will grow in complexity</p>\n<pre><code>public void actionPerformed(ActionEvent e)\n{\n  new Thread(new Runnable()\n   {\n    //do heavy db stuff--------------------------------------------\n    DAO dao = DAO.getInstance();\n    List&lt;Employees&gt; employeeList = dao.getAllEmployees();\n    EmployeeModel empModel = new EmployeeModel(employeeList);\n    SwingUtilities.invokeLater(new Runnable() \n    {\n      public void run()\n      {\n         //update swing GUI----------------------------------------\n        jTableEmployees.setModel(empModel);\n      }\n    });\n  }).start();\n}\n</code></pre>\n<p>I have read this <a href=\"https://stackoverflow.com/questions/19085403/multithreading-with-swing\">answer</a> and <a href=\"https://stackoverflow.com/questions/37710320/hikaricp-multithreading-separate-connection-for-each-thread\">answer</a> and <strong>preparing early</strong> for the app will grow in complexity. My strategy to <strong>UPDATE THE UI</strong> of <em>a large complex swing app</em> is using Executor service as shown below.</p>\n<pre><code>import java.awt.event.ActionEvent;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport javax.swing.SwingWorker;\n\npublic class SwiftExcecutor {\n\n    private final ExecutorService exec = \nExecutors.newFixedThreadPool(2);\n\n    private class GetEmployeesThread extends SwingWorker&lt;String, String&gt;{\n\n        @Override\n        protected String doInBackground() throws Exception {\n            return &quot;complete.&quot;;\n        }\n    \n         @Override\n        protected void done() {\n         //Safely update swing components------------------------------\n        }\n\n    }\n\nprivate class GetContractorsThread extends SwingWorker&lt;String, String&gt;{\n\n    @Override\n    protected String doInBackground() throws Exception {\n       return &quot;complete.&quot;;\n    }\n    \n     @Override\n    protected void done() {\n     //Safely update swing components------------------------------\n    }\n}\n\npublic void actionPerformed(ActionEvent e) {\n    \n  \n    GetEmployeesThread getAllEmployees = new GetEmployeesThread();\n    exec.execute(getAllEmployees);\n    \n    GetContractorsThread getAllContractors = new GetContractorsThread();\n    exec.execute(getAllContractors);\n    }    \n}\n</code></pre>\n<p>My main concern is:</p>\n<ol>\n<li>Is using a dedicated threadpool to update a complex Swing app a <strong>sound</strong> strategy?</li>\n<li>Is the skeleton code with threadpool <strong>thread-safe?</strong> Can I update a component inside done(); method? As shown is skeleton code above?</li>\n<li>Should I expect any performance gains in <strong>UI response</strong>?(Not in sql queries and long running background task, I understand this is a different issues all together).</li>\n</ol>\n"},{"tags":["java","cassandra","cql","datastax","cql3"],"comments":[{"owner":{"account_id":1670457,"reputation":1985,"user_id":1537003,"accept_rate":85,"display_name":"Michal"},"score":4,"creation_date":1454508962,"post_id":33295137,"comment_id":58075759,"body_markdown":"This question as well as the following answer were very useful for me.","body":"This question as well as the following answer were very useful for me."},{"owner":{"display_name":"anon"},"score":0,"creation_date":1458507441,"post_id":33295137,"comment_id":59879092,"body_markdown":"@adapt-dev In general, it&#39;s recommended to have question titles be... a question. Not a sentence which has an ungrammatical question mark after it. While the latter is common and accepted, editing a question specifically so that it has bad grammar, when it previously had perfect grammar, is not recommended.","body":"@adapt-dev In general, it&#39;s recommended to have question titles be... a question. Not a sentence which has an ungrammatical question mark after it. While the latter is common and accepted, editing a question specifically so that it has bad grammar, when it previously had perfect grammar, is not recommended."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1445577140,"creation_date":1445577140,"answer_id":33295269,"question_id":33295137,"body_markdown":"The [`LocalDate.getMillisSinceEpoch()`](http://docs.datastax.com/en/drivers/java/2.2/com/datastax/driver/core/LocalDate.html#getMillisSinceEpoch--) Javadoc says *Returns the number of milliseconds since January 1st, 1970 GMT.* And, the [`Date(long)`](http://docs.oracle.com/javase/7/docs/api/java/util/Date.html#Date%28long%29) constructor Javadoc says *Allocates a `Date` object and initializes it to represent the specified number of milliseconds since the standard base time known as &quot;the epoch&quot;, namely January 1, 1970, 00:00:00 GMT.* So, given a `LocalDate` `ld` you should be able to do something like\r\n\r\n    Date d = new Date(ld.getMillisSinceEpoch());","title":"How can we convert com.datastax.driver.core.LocalDate to java.util.Date?","body":"<p>The <a href=\"http://docs.datastax.com/en/drivers/java/2.2/com/datastax/driver/core/LocalDate.html#getMillisSinceEpoch--\"><code>LocalDate.getMillisSinceEpoch()</code></a> Javadoc says <em>Returns the number of milliseconds since January 1st, 1970 GMT.</em> And, the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Date.html#Date%28long%29\"><code>Date(long)</code></a> constructor Javadoc says <em>Allocates a <code>Date</code> object and initializes it to represent the specified number of milliseconds since the standard base time known as \"the epoch\", namely January 1, 1970, 00:00:00 GMT.</em> So, given a <code>LocalDate</code> <code>ld</code> you should be able to do something like</p>\n\n<pre><code>Date d = new Date(ld.getMillisSinceEpoch());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3671825,"reputation":474,"user_id":3058847,"display_name":"Pankaj"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1484162007,"creation_date":1484162007,"answer_id":41598927,"question_id":33295137,"body_markdown":"As the other answer mentions either you can use \r\n\r\n`Date d = new Date(row.getDate().getMillisSinceEpoch());`\r\n\r\nor you can use `java.sql.Date.valueOf`\r\n\r\n`Date d = java.sql.Date.valueOf(row.getDate().getString());`\r\n\r\n**Instead of using `row.getDate` I personally use `row.getTimestamp` which returns Date object itself.**\r\n\r\n`Date d = row.getTimestamp();`","title":"How can we convert com.datastax.driver.core.LocalDate to java.util.Date?","body":"<p>As the other answer mentions either you can use </p>\n\n<p><code>Date d = new Date(row.getDate().getMillisSinceEpoch());</code></p>\n\n<p>or you can use <code>java.sql.Date.valueOf</code></p>\n\n<p><code>Date d = java.sql.Date.valueOf(row.getDate().getString());</code></p>\n\n<p><strong>Instead of using <code>row.getDate</code> I personally use <code>row.getTimestamp</code> which returns Date object itself.</strong></p>\n\n<p><code>Date d = row.getTimestamp();</code></p>\n"},{"tags":[],"owner":{"account_id":8659601,"reputation":865,"user_id":6482564,"display_name":"Manas Kumar Maharana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653642693,"creation_date":1653642388,"answer_id":72403024,"question_id":33295137,"body_markdown":"*you can follow below steps, to convert datastax LocalDate to Date:*\r\n\r\n 1. create LocateDate using Year, Month and Date from datastax LocalDate   \r\n      **datstax.Localdate dt = somevalue   \r\n        java.time.LocalDate ld = java.time.LocalDate.of(dt.getYear(), dt.getMonth(), dt.getDay())**\r\n 2. format above LocalDate then you will get String type date   \r\n      **String dtt = ld.format(DateTimeFormater.ofPattern(&quot;dd/MM/yyyy&quot;))**\r\n 3. then convert using SimpleDateFormat  \r\n      **Date tt = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(dtt)**\r\n\r\n\r\n\r\nEnjoy :)\r\n      \r\n\r\n","title":"How can we convert com.datastax.driver.core.LocalDate to java.util.Date?","body":"<p><em>you can follow below steps, to convert datastax LocalDate to Date:</em></p>\n<ol>\n<li>create LocateDate using Year, Month and Date from datastax LocalDate<br />\n<strong>datstax.Localdate dt = somevalue<br />\njava.time.LocalDate ld = java.time.LocalDate.of(dt.getYear(), dt.getMonth(), dt.getDay())</strong></li>\n<li>format above LocalDate then you will get String type date<br />\n<strong>String dtt = ld.format(DateTimeFormater.ofPattern(&quot;dd/MM/yyyy&quot;))</strong></li>\n<li>then convert using SimpleDateFormat<br />\n<strong>Date tt = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(dtt)</strong></li>\n</ol>\n<p>Enjoy :)</p>\n"}],"owner":{"account_id":7171141,"reputation":93,"user_id":5478554,"display_name":"Jayashree"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10446,"favorite_count":0,"down_vote_count":5,"up_vote_count":9,"accepted_answer_id":33295269,"answer_count":3,"score":4,"last_activity_date":1653642693,"creation_date":1445576221,"question_id":33295137,"body_markdown":"I am working with dates.  \r\n\r\nDatastax&#39;s CQL cassandra API  `Row.getDate()` returns a `com.datastax.driver.core.LocalDate`. \r\n\r\nI want to convert the `com.datastax.driver.core.LocalDate` object returned by the API to `java.util.Date`.  How can I do that?","title":"How can we convert com.datastax.driver.core.LocalDate to java.util.Date?","body":"<p>I am working with dates.  </p>\n\n<p>Datastax's CQL cassandra API  <code>Row.getDate()</code> returns a <code>com.datastax.driver.core.LocalDate</code>. </p>\n\n<p>I want to convert the <code>com.datastax.driver.core.LocalDate</code> object returned by the API to <code>java.util.Date</code>.  How can I do that?</p>\n"},{"tags":["java","postgresql","oracle","timestamp"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1653637490,"post_id":72401953,"comment_id":127903577,"body_markdown":"Was the migration done manually? Why was the Oracle DB type `Date` migrated to a Postgres type `Timestamp`? That appears wrong because Postgres has a type `Date` which obviously doesn&#39;t have to deal with fractions of seconds. See [Date/Time types in Postgres](https://www.postgresql.org/docs/current/datatype-datetime.html)","body":"Was the migration done manually? Why was the Oracle DB type <code>Date</code> migrated to a Postgres type <code>Timestamp</code>? That appears wrong because Postgres has a type <code>Date</code> which obviously doesn&#39;t have to deal with fractions of seconds. See <a href=\"https://www.postgresql.org/docs/current/datatype-datetime.html\" rel=\"nofollow noreferrer\">Date/Time types in Postgres</a>"},{"owner":{"account_id":2662746,"reputation":11456,"user_id":2302032,"display_name":"Stefanov.sm"},"score":0,"creation_date":1653639147,"post_id":72401953,"comment_id":127904159,"body_markdown":"Better use `to_char(the_field, &#39;YYYY-MM-DD&quot;T&quot;HH24:MI:SS.MS&#39;)` to extract the timestamp in ISO8601 format. A good discussion [here](https://stackoverflow.com/questions/10286204/what-is-the-right-json-date-format)","body":"Better use <code>to_char(the_field, &#39;YYYY-MM-DD&quot;T&quot;HH24:MI:SS.MS&#39;)</code> to extract the timestamp in ISO8601 format. A good discussion <a href=\"https://stackoverflow.com/questions/10286204/what-is-the-right-json-date-format\">here</a>"},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":2,"creation_date":1653639176,"post_id":72401953,"comment_id":127904169,"body_markdown":"In Oracle, a `DATE` data type is a binary data type that consists of 7 bytes (century, year-of-century, month, day, hour, minute and second) and it **ALWAYS** has all of those components. Some client applications will default to only **display** the date component of the Oracle `DATE` data type but that does not mean that the time component does not exist; it just is not displayed. So the migration from an Oracle `DATE` to a PostgreSQL `TIMESTAMP` is to be expected as it is the natural data type to hold the same information.","body":"In Oracle, a <code>DATE</code> data type is a binary data type that consists of 7 bytes (century, year-of-century, month, day, hour, minute and second) and it <b>ALWAYS</b> has all of those components. Some client applications will default to only <b>display</b> the date component of the Oracle <code>DATE</code> data type but that does not mean that the time component does not exist; it just is not displayed. So the migration from an Oracle <code>DATE</code> to a PostgreSQL <code>TIMESTAMP</code> is to be expected as it is the natural data type to hold the same information."},{"owner":{"account_id":19225308,"reputation":1,"user_id":14048319,"display_name":"vedant"},"score":0,"creation_date":1653642520,"post_id":72401953,"comment_id":127905245,"body_markdown":"@deHaar the comment from MT0 explains my reason to interchange Date to Timestamp, moreover I cannot just use Date in Postgre as I also require &#39;time&#39; to store and display","body":"@deHaar the comment from MT0 explains my reason to interchange Date to Timestamp, moreover I cannot just use Date in Postgre as I also require &#39;time&#39; to store and display"},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1653665347,"post_id":72401953,"comment_id":127913537,"body_markdown":"This seems to be a JAVA/Javascript issue rather then a database one, as there is nothing wrong with `2022-02-27 09:44:07.000` as a timestamp in Postgres: `select &#39;2022-02-27 09:44:07.000&#39;::timestamp; 2022-02-27 09:44:07`. What data type is the Javascript expecting?","body":"This seems to be a JAVA/Javascript issue rather then a database one, as there is nothing wrong with <code>2022-02-27 09:44:07.000</code> as a timestamp in Postgres: <code>select &#39;2022-02-27 09:44:07.000&#39;::timestamp; 2022-02-27 09:44:07</code>. What data type is the Javascript expecting?"},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1653667762,"post_id":72401953,"comment_id":127914494,"body_markdown":"More to the point and should have been included in my previous comment: `select &#39;2022-02-27 09:44:07.000&#39;::date  2022-02-27`.","body":"More to the point and should have been included in my previous comment: <code>select &#39;2022-02-27 09:44:07.000&#39;::date  2022-02-27</code>."},{"owner":{"account_id":19225308,"reputation":1,"user_id":14048319,"display_name":"vedant"},"score":0,"creation_date":1653882938,"post_id":72401953,"comment_id":127951410,"body_markdown":"Javascript is expecting text datatype","body":"Javascript is expecting text datatype"}],"owner":{"account_id":19225308,"reputation":1,"user_id":14048319,"display_name":"vedant"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653642276,"creation_date":1653636715,"question_id":72401953,"body_markdown":"I have migrated Oracle DB to PostGre DB. Upon migration, **Date datatype in Oracle is changed to Timestamp datatype in Postgre**.\r\n\r\nFor example, date value in Oracle- 27-May-22 is changed to 2022-02-27 09:44:07.000 in Postgre.\r\n\r\nWhile I try to read the record from the table using Java and display to Jsp I am getting &#39;**Invalid JSON response. For more information about this error, please see http://datatables.net/tn/1 **&#39; alert message.\r\n\r\nNow when I update the timestamp value to 2022-02-27 09:44:07.001 (notice the change in millisecond value from 000 to any value between 001 and 999) it works fine and no alert pops.\r\n\r\nAny reason why this problem may occur and solution for that other than updating the values in the column?","title":"Timestamp datatype issue in PostGreSQL getting Invalid JSON response","body":"<p>I have migrated Oracle DB to PostGre DB. Upon migration, <strong>Date datatype in Oracle is changed to Timestamp datatype in Postgre</strong>.</p>\n<p>For example, date value in Oracle- 27-May-22 is changed to 2022-02-27 09:44:07.000 in Postgre.</p>\n<p>While I try to read the record from the table using Java and display to Jsp I am getting '**Invalid JSON response. For more information about this error, please see <a href=\"http://datatables.net/tn/1\" rel=\"nofollow noreferrer\">http://datatables.net/tn/1</a> **' alert message.</p>\n<p>Now when I update the timestamp value to 2022-02-27 09:44:07.001 (notice the change in millisecond value from 000 to any value between 001 and 999) it works fine and no alert pops.</p>\n<p>Any reason why this problem may occur and solution for that other than updating the values in the column?</p>\n"},{"tags":["java","spring-boot","cassandra","datastax-astra"],"answers":[{"tags":[],"owner":{"account_id":4819783,"reputation":1505,"user_id":3890779,"display_name":"clunven"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653638934,"creation_date":1653638934,"answer_id":72402350,"question_id":72402006,"body_markdown":"The `astra-spring-boot-starter` (with all key `astra.*`) will initialize `CqlSession` and any connection needed for Astra (Cassandra, Rest Apis, gRPC, pulsar...).\r\n\r\nSpring Data Casandra detects the connection and uses it. You can use any configuration key of the Cassandra driver below `driver-config`.\r\n\r\nThe `application.yaml` should look like.\r\n\r\n    astra:\r\n      api:\r\n        application-token: &lt;your_token&gt;\r\n        database-id: &lt;your_db_id&gt;\r\n        database-region: &lt;your_db_region&gt;\r\n      cql:\r\n        enabled: true\r\n        download-scb: \r\n        enabled: true\r\n        driver-config:\r\n          basic:\r\n            session-keyspace: &lt;your_keyspace&gt;\r\n\r\nDocumentation of the starter\r\nhttps://github.com/datastax/astra-sdk-java/wiki/Spring-Boot-Starter-Quickstart#4-configuration\r\n\r\nSample working project (mvc, rest, cassandra, Oauth2, thymeleaf)\r\nhttps://github.com/datastaxdevs/workshop-betterreads","title":"Spring Boot Astra Cassandra - keyspace specified in application.yml but still throws error &quot;No keyspace has been specified&quot;","body":"<p>The <code>astra-spring-boot-starter</code> (with all key <code>astra.*</code>) will initialize <code>CqlSession</code> and any connection needed for Astra (Cassandra, Rest Apis, gRPC, pulsar...).</p>\n<p>Spring Data Casandra detects the connection and uses it. You can use any configuration key of the Cassandra driver below <code>driver-config</code>.</p>\n<p>The <code>application.yaml</code> should look like.</p>\n<pre><code>astra:\n  api:\n    application-token: &lt;your_token&gt;\n    database-id: &lt;your_db_id&gt;\n    database-region: &lt;your_db_region&gt;\n  cql:\n    enabled: true\n    download-scb: \n    enabled: true\n    driver-config:\n      basic:\n        session-keyspace: &lt;your_keyspace&gt;\n</code></pre>\n<p>Documentation of the starter\n<a href=\"https://github.com/datastax/astra-sdk-java/wiki/Spring-Boot-Starter-Quickstart#4-configuration\" rel=\"nofollow noreferrer\">https://github.com/datastax/astra-sdk-java/wiki/Spring-Boot-Starter-Quickstart#4-configuration</a></p>\n<p>Sample working project (mvc, rest, cassandra, Oauth2, thymeleaf)\n<a href=\"https://github.com/datastaxdevs/workshop-betterreads\" rel=\"nofollow noreferrer\">https://github.com/datastaxdevs/workshop-betterreads</a></p>\n"}],"owner":{"account_id":5299533,"reputation":13,"user_id":5431405,"display_name":"Penthrite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72402350,"answer_count":1,"score":1,"last_activity_date":1653642260,"creation_date":1653636901,"question_id":72402006,"body_markdown":"I am trying to build a very simple api connecting to an astra Cassandra nodal database with spring boot. However, even when I have specified the keyspace in application.yml, it still throws the exception:\r\n\r\n```\r\ncom.datastax.oss.driver.api.core.servererrors.InvalidQueryException: No keyspace has been specified. USE a keyspace, or explicitly specify keyspace.tablename\r\n```\r\n\r\nHere is my application.yml:\r\n\r\n```\r\nastra.api:\r\n  application-token: &lt;my-token&gt;\r\n  database-id: &lt;my-db-id&gt;\r\n  database-region: &lt;my-db-region&gt;\r\n\r\nastra.cql:\r\n  enabled: true\r\n  downloadScb.path: secure-connect.zip\r\n\r\nspring.data.cassandra:\r\n  keyspace-name: shopping_list\r\n  schema-action: CREATE_IF_NOT_EXISTS\r\n```\r\n\r\nI have also tried using ``keyspace`` instead of ``keyspace-name``, and putting it under astra.api or even astra.cql. None of these works, though.\r\n\r\nI am following [this tutorial][1] exactly but I cannot figure out what is the problem.\r\n\r\nI have checked the token, database-id and database-region are all correct and the secure connect bundle is also there. The application can indeed get the other values from application.yml such as the scb path and schema-action but apparently not keyspace-name.\r\n\r\nThanks a lot for any input! \r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-nosql-database","title":"Spring Boot Astra Cassandra - keyspace specified in application.yml but still throws error &quot;No keyspace has been specified&quot;","body":"<p>I am trying to build a very simple api connecting to an astra Cassandra nodal database with spring boot. However, even when I have specified the keyspace in application.yml, it still throws the exception:</p>\n<pre><code>com.datastax.oss.driver.api.core.servererrors.InvalidQueryException: No keyspace has been specified. USE a keyspace, or explicitly specify keyspace.tablename\n</code></pre>\n<p>Here is my application.yml:</p>\n<pre><code>astra.api:\n  application-token: &lt;my-token&gt;\n  database-id: &lt;my-db-id&gt;\n  database-region: &lt;my-db-region&gt;\n\nastra.cql:\n  enabled: true\n  downloadScb.path: secure-connect.zip\n\nspring.data.cassandra:\n  keyspace-name: shopping_list\n  schema-action: CREATE_IF_NOT_EXISTS\n</code></pre>\n<p>I have also tried using <code>keyspace</code> instead of <code>keyspace-name</code>, and putting it under astra.api or even astra.cql. None of these works, though.</p>\n<p>I am following <a href=\"https://www.baeldung.com/spring-boot-nosql-database\" rel=\"nofollow noreferrer\">this tutorial</a> exactly but I cannot figure out what is the problem.</p>\n<p>I have checked the token, database-id and database-region are all correct and the secure connect bundle is also there. The application can indeed get the other values from application.yml such as the scb path and schema-action but apparently not keyspace-name.</p>\n<p>Thanks a lot for any input!</p>\n"},{"tags":["java","image","embedded-resource"],"comments":[{"owner":{"account_id":9789138,"reputation":171,"user_id":7254424,"display_name":"thorin9000"},"score":0,"creation_date":1653339225,"post_id":72354291,"comment_id":127823707,"body_markdown":"Make sure AppIcon.png is in your root classpath folder (the root folder that holds .class files)","body":"Make sure AppIcon.png is in your root classpath folder (the root folder that holds .class files)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1653547464,"post_id":72354291,"comment_id":127879751,"body_markdown":"Is `AppIcon.png` at the root of the Jar files the IDE creates? That is where the run-time will expect to find it.","body":"Is <code>AppIcon.png</code> at the root of the Jar files the IDE creates? That is where the run-time will expect to find it."},{"owner":{"account_id":20204349,"reputation":13,"user_id":14819211,"display_name":"devsimsek"},"score":0,"creation_date":1653594548,"post_id":72354291,"comment_id":127895567,"body_markdown":"No it is all set. Gradle copies the resources folder to its required location.","body":"No it is all set. Gradle copies the resources folder to its required location."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653642212,"creation_date":1653358840,"answer_id":72356559,"question_id":72354291,"body_markdown":"The image that is used for the Form&#39;s icon can be any image but must be loaded as an **Image** type (not of **ImageIcon** type). The [JFrame#setIconImage()]() method will auto-size the image loaded. Here just a couple ways. These examples assume that the code resides in a class which ***extends JFrame***:\r\n\r\n**Example #1:**\r\n\r\n```\r\ntry {\r\n    /* For a Form&#39;s title bar icon....\r\n       Don&#39;t use this for animated .gif images otherwise your GUI will \r\n       freeze. I&#39;m not exactly sure why but it seems as though the gif \r\n       frames continuously cycle as though in an infinite loop. If you \r\n       want to use an animated .gif image as a Form&#39;s title bar icon \r\n       then don&#39;t use Toolkit, use ImageIO.read() instead since it will \r\n       only utilize the first gif frame as the image.                */\r\n    // Be sure to set the path string to your specific resources directory.\r\n    this.setIconImage(java.awt.Toolkit.getDefaultToolkit()\r\n            .getImage(getClass().getResource(&quot;/resources/images/Apple/png&quot;).getFile()));\r\n}\r\ncatch (java.lang.NullPointerException ex) {\r\n    // Do what you want with caught exception.\r\n    ex.printStackTrace();\r\n}\r\n```\r\n\r\n**Example #2:**\r\n\r\n```\r\ntry {\r\n    /* Can be used to also display an animated gif for the Form&#39;s Title \r\n       bar icon but only the first gif frame is utilized.         */\r\n    // Be sure to set the path string to your specific resources directory.\r\n    File pathToFile = new File(getClass().getResource(&quot;/resources/images/Apple.png&quot;).getFile());\r\n    Image image = ImageIO.read(pathToFile);\r\n    this.setIconImage(image);\r\n}\r\ncatch (IOException ex) {\r\n    // Do what you want with caught exception.\r\n    ex.printStackTrace();\r\n}\r\n```\r\n----------\r\n\r\n**UPDATE:**\r\n\r\nAs stated by @AndrewThompson in comments, the two above examples will not work as expected from a JAR file. They will work if run through the IDE however which in reality is no good except for testing. To use the two examples above in a distributive JAR file then also see **Example #3** and **Example #4**:\r\n\r\n**Example #3:**\r\n\r\n```\r\ntry {\r\n    /* For a Form&#39;s title bar icon.... To be used in a distributive JAR. \r\n       Don&#39;t use this for animated .gif images otherwise your GUI will \r\n       freeze. I&#39;m not exactly sure why but it seems as though the gif \r\n       frames continuously cycle as though in an infinite loop. If you \r\n       want to use an animated .gif image as a Form&#39;s title bar icon \r\n       then don&#39;t use Toolkit, use ImageIO.read() instead since it will \r\n       only utilize the first gif frame as the image.                */\r\n    // Be sure to set the path string to your specific resources directory.\r\n    java.net.URL url = getClass().getResource(&quot;/resources/images/Apple.png&quot;);\r\n    this.setIconImage(java.awt.Toolkit.getDefaultToolkit().getImage(url));\r\n}\r\ncatch (java.lang.NullPointerException ex) {\r\n    // Do what you want with caught exception.\r\n    ex.printStackTrace();\r\n}\r\n```\r\n\r\n**Example #4:**\r\n\r\n```\r\ntry {\r\n    /* For a Form&#39;s title bar icon.... To be used in a distributive JAR. \r\n       Can be used to also display an animated gif for the Form&#39;s Title \r\n       bar icon but only the first gif frame is utilized.         */\r\n    // Be sure to set the path string to your specific resources directory.\r\n    java.net.URL url = getClass().getResource(&quot;/resources/images/Apple.png&quot;);\r\n    Image image = ImageIO.read(url);\r\n    this.setIconImage(image);\r\n}\r\ncatch (IOException ex) {\r\n    // Do what you want with caught exception.\r\n    ex.printStackTrace();\r\n}\r\n```\r\n\r\nDon&#39;t even bother with Examples #1 and #2, they now just remain here for reference. Just use either Example #3 or Example #4. Both will work in the IDE or a distributive JAR file.","title":"Can&#39;t Change Default Java Image (JFrame.setIconImage)","body":"<p>The image that is used for the Form's icon can be any image but must be loaded as an <strong>Image</strong> type (not of <strong>ImageIcon</strong> type). The JFrame#setIconImage() method will auto-size the image loaded. Here just a couple ways. These examples assume that the code resides in a class which <em><strong>extends JFrame</strong></em>:</p>\n<p><strong>Example #1:</strong></p>\n<pre><code>try {\n    /* For a Form's title bar icon....\n       Don't use this for animated .gif images otherwise your GUI will \n       freeze. I'm not exactly sure why but it seems as though the gif \n       frames continuously cycle as though in an infinite loop. If you \n       want to use an animated .gif image as a Form's title bar icon \n       then don't use Toolkit, use ImageIO.read() instead since it will \n       only utilize the first gif frame as the image.                */\n    // Be sure to set the path string to your specific resources directory.\n    this.setIconImage(java.awt.Toolkit.getDefaultToolkit()\n            .getImage(getClass().getResource(&quot;/resources/images/Apple/png&quot;).getFile()));\n}\ncatch (java.lang.NullPointerException ex) {\n    // Do what you want with caught exception.\n    ex.printStackTrace();\n}\n</code></pre>\n<p><strong>Example #2:</strong></p>\n<pre><code>try {\n    /* Can be used to also display an animated gif for the Form's Title \n       bar icon but only the first gif frame is utilized.         */\n    // Be sure to set the path string to your specific resources directory.\n    File pathToFile = new File(getClass().getResource(&quot;/resources/images/Apple.png&quot;).getFile());\n    Image image = ImageIO.read(pathToFile);\n    this.setIconImage(image);\n}\ncatch (IOException ex) {\n    // Do what you want with caught exception.\n    ex.printStackTrace();\n}\n</code></pre>\n<hr />\n<p><strong>UPDATE:</strong></p>\n<p>As stated by @AndrewThompson in comments, the two above examples will not work as expected from a JAR file. They will work if run through the IDE however which in reality is no good except for testing. To use the two examples above in a distributive JAR file then also see <strong>Example #3</strong> and <strong>Example #4</strong>:</p>\n<p><strong>Example #3:</strong></p>\n<pre><code>try {\n    /* For a Form's title bar icon.... To be used in a distributive JAR. \n       Don't use this for animated .gif images otherwise your GUI will \n       freeze. I'm not exactly sure why but it seems as though the gif \n       frames continuously cycle as though in an infinite loop. If you \n       want to use an animated .gif image as a Form's title bar icon \n       then don't use Toolkit, use ImageIO.read() instead since it will \n       only utilize the first gif frame as the image.                */\n    // Be sure to set the path string to your specific resources directory.\n    java.net.URL url = getClass().getResource(&quot;/resources/images/Apple.png&quot;);\n    this.setIconImage(java.awt.Toolkit.getDefaultToolkit().getImage(url));\n}\ncatch (java.lang.NullPointerException ex) {\n    // Do what you want with caught exception.\n    ex.printStackTrace();\n}\n</code></pre>\n<p><strong>Example #4:</strong></p>\n<pre><code>try {\n    /* For a Form's title bar icon.... To be used in a distributive JAR. \n       Can be used to also display an animated gif for the Form's Title \n       bar icon but only the first gif frame is utilized.         */\n    // Be sure to set the path string to your specific resources directory.\n    java.net.URL url = getClass().getResource(&quot;/resources/images/Apple.png&quot;);\n    Image image = ImageIO.read(url);\n    this.setIconImage(image);\n}\ncatch (IOException ex) {\n    // Do what you want with caught exception.\n    ex.printStackTrace();\n}\n</code></pre>\n<p>Don't even bother with Examples #1 and #2, they now just remain here for reference. Just use either Example #3 or Example #4. Both will work in the IDE or a distributive JAR file.</p>\n"},{"tags":[],"owner":{"account_id":20204349,"reputation":13,"user_id":14819211,"display_name":"devsimsek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653394363,"creation_date":1653394363,"answer_id":72362682,"question_id":72354291,"body_markdown":"Solution;\r\nEverything works for windows but I am using Mac :D\r\nSo I started to look around Taskbar class comes with awt package and found the solution (Thanks to [flohall](https://stackoverflow.com/a/56924202/14819211))\r\n```java\r\ntry {\r\n    var image = new ImageIcon(Objects.requireNonNull(Main.class.getResource(&quot;/AppIcon.png&quot;)));\r\n    frame.setIconImage(image.getImage());\r\n    if (System.getProperty(&quot;os.name&quot;).startsWith(&quot;Mac&quot;) || System.getProperty(&quot;os.name&quot;).startsWith(&quot;Darwin&quot;)) {\r\n        Taskbar taskbar = Taskbar.getTaskbar();\r\n        try {\r\n            taskbar.setIconImage(image.getImage());\r\n        } catch (final UnsupportedOperationException e) {\r\n            System.out.println(&quot;Can&#39;t set taskbar icon.&quot;);\r\n        } catch (final SecurityException e) {\r\n            System.out.println(&quot;Warning. Can&#39;t set taskbar icon due to security exceptions.&quot;);\r\n        }\r\n    }\r\n} catch (NullPointerException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\nSo we are telling the taskbar to change its icon using built-in awt Taskbar class on ```taskbar.setIconImage(image.getImage());```. And that solves most of the things I&#39;ve needed for.","title":"Can&#39;t Change Default Java Image (JFrame.setIconImage)","body":"<p>Solution;\nEverything works for windows but I am using Mac :D\nSo I started to look around Taskbar class comes with awt package and found the solution (Thanks to <a href=\"https://stackoverflow.com/a/56924202/14819211\">flohall</a>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    var image = new ImageIcon(Objects.requireNonNull(Main.class.getResource(&quot;/AppIcon.png&quot;)));\n    frame.setIconImage(image.getImage());\n    if (System.getProperty(&quot;os.name&quot;).startsWith(&quot;Mac&quot;) || System.getProperty(&quot;os.name&quot;).startsWith(&quot;Darwin&quot;)) {\n        Taskbar taskbar = Taskbar.getTaskbar();\n        try {\n            taskbar.setIconImage(image.getImage());\n        } catch (final UnsupportedOperationException e) {\n            System.out.println(&quot;Can't set taskbar icon.&quot;);\n        } catch (final SecurityException e) {\n            System.out.println(&quot;Warning. Can't set taskbar icon due to security exceptions.&quot;);\n        }\n    }\n} catch (NullPointerException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>So we are telling the taskbar to change its icon using built-in awt Taskbar class on <code>taskbar.setIconImage(image.getImage());</code>. And that solves most of the things I've needed for.</p>\n"}],"owner":{"account_id":20204349,"reputation":13,"user_id":14819211,"display_name":"devsimsek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72362682,"answer_count":2,"score":0,"last_activity_date":1653642212,"creation_date":1653336469,"question_id":72354291,"body_markdown":"I am trying to change the icon of the Java application but nothing seems to work.\r\n\r\nI am trying to get image from resources path using: \r\n\r\n    getClass().getResource(&quot;/AppIcon.png&quot;)\r\n\r\nSometimes I get an error like URL not found.","title":"Can&#39;t Change Default Java Image (JFrame.setIconImage)","body":"<p>I am trying to change the icon of the Java application but nothing seems to work.</p>\n<p>I am trying to get image from resources path using:</p>\n<pre><code>getClass().getResource(&quot;/AppIcon.png&quot;)\n</code></pre>\n<p>Sometimes I get an error like URL not found.</p>\n"},{"tags":["java","azure","authentication","azure-active-directory"],"comments":[{"owner":{"account_id":1826174,"reputation":55261,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":0,"creation_date":1653637543,"post_id":72402029,"comment_id":127903595,"body_markdown":"Check from the docs (https://learn.microsoft.com/en-us/azure/active-directory/develop/authentication-flows-app-scenarios) what scenario matches your app.","body":"Check from the docs (<a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/authentication-flows-app-scenarios\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/active-directory/develop/&hellip;</a>) what scenario matches your app."}],"answers":[{"tags":[],"owner":{"account_id":24283882,"reputation":7637,"user_id":18229928,"display_name":"Rukmini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653638126,"creation_date":1653638126,"answer_id":72402214,"question_id":72402029,"body_markdown":"**AFAIK** there is no need to use client secret in web application while we are authenticating with Azure AD.\r\n\r\nWhile authenticating your App with Azure AD, your **code snippet** will be something like below:\r\n\r\n```json\r\n{  \r\n&quot;AzureAd&quot;: {  \r\n&quot;Instance&quot;: &quot;https://login.microsoftonline.com/&quot;,  \r\n&quot;ClientId&quot;: &quot;*******************************&quot;,  \r\n&quot;TenantId&quot;: &quot;*******************************&quot;,  \r\n&quot;CallbackPath&quot;: &quot;https://localhost/signin-oidc&quot;\r\n}\r\n```\r\nIf you want to get access token via **Postman** without using client secret, you can make use of ROPC flow like below:\r\n\r\n-   In Postman, Go to  **Authorization**  tab and select type as  **`Oauth2.0`**\r\n    \r\n-   Go to **Headers**  tab and include  **`Content-Type`**  key and give value as  _**application/x-www-form-urlencoded**_\r\n    \r\n-   In  **Body**  tab, include parameters like client_id, grant_type, **`username`**, **`password`** and scope as below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd you will get the **access token** like below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fV6HQ.png\r\n  [2]: https://i.stack.imgur.com/HwJc2.png","title":"how to use azure ad without client secret just with client id and tenant id?","body":"<p><strong>AFAIK</strong> there is no need to use client secret in web application while we are authenticating with Azure AD.</p>\n<p>While authenticating your App with Azure AD, your <strong>code snippet</strong> will be something like below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{  \n&quot;AzureAd&quot;: {  \n&quot;Instance&quot;: &quot;https://login.microsoftonline.com/&quot;,  \n&quot;ClientId&quot;: &quot;*******************************&quot;,  \n&quot;TenantId&quot;: &quot;*******************************&quot;,  \n&quot;CallbackPath&quot;: &quot;https://localhost/signin-oidc&quot;\n}\n</code></pre>\n<p>If you want to get access token via <strong>Postman</strong> without using client secret, you can make use of ROPC flow like below:</p>\n<ul>\n<li><p>In Postman, Go to  <strong>Authorization</strong>  tab and select type as  <strong><code>Oauth2.0</code></strong></p>\n</li>\n<li><p>Go to <strong>Headers</strong>  tab and include  <strong><code>Content-Type</code></strong>  key and give value as  <em><strong>application/x-www-form-urlencoded</strong></em></p>\n</li>\n<li><p>In  <strong>Body</strong>  tab, include parameters like client_id, grant_type, <strong><code>username</code></strong>, <strong><code>password</code></strong> and scope as below:</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/fV6HQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fV6HQ.png\" alt=\"enter image description here\" /></a></p>\n<p>And you will get the <strong>access token</strong> like below:</p>\n<p><a href=\"https://i.stack.imgur.com/HwJc2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HwJc2.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1778443,"reputation":11,"user_id":1621722,"display_name":"Curious_Soul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2672,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653642200,"creation_date":1653637026,"question_id":72402029,"body_markdown":"My question is how to apply user authentication in web application using azure ad in case I don&#39;t have client secret. I just have client-id and tenant-id. I would appreciate your swift response.","title":"how to use azure ad without client secret just with client id and tenant id?","body":"<p>My question is how to apply user authentication in web application using azure ad in case I don't have client secret. I just have client-id and tenant-id. I would appreciate your swift response.</p>\n"},{"tags":["java","atomic","volatile","lock-free","java-memory-model"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1653638483,"post_id":72402117,"comment_id":127903924,"body_markdown":"The fact that &quot;running&quot; is not volatile doesn&#39;t mean that &quot;t1&quot; will never see its value set by another thread,, it simply means that the JVM takes the liberty to optimize the code and not synchronizing the threads memory right after the set happens. But such synchronization will occur eventually, and you are forcing it by reading a volatile value (even though is not set). But again, you would end up reading it anyway, if you set a long timeout in your case 1, you may happen to stop as well (simply not at the right time)","body":"The fact that &quot;running&quot; is not volatile doesn&#39;t mean that &quot;t1&quot; will never see its value set by another thread,, it simply means that the JVM takes the liberty to optimize the code and not synchronizing the threads memory right after the set happens. But such synchronization will occur eventually, and you are forcing it by reading a volatile value (even though is not set). But again, you would end up reading it anyway, if you set a long timeout in your case 1, you may happen to stop as well (simply not at the right time)"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1653638514,"post_id":72402117,"comment_id":127903932,"body_markdown":"I suggest you to read [this guide about volatile](https://www.baeldung.com/java-volatile), I find it simple and pretty explanatory.","body":"I suggest you to read <a href=\"https://www.baeldung.com/java-volatile\" rel=\"nofollow noreferrer\">this guide about volatile</a>, I find it simple and pretty explanatory."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1653638953,"post_id":72402117,"comment_id":127904081,"body_markdown":"@MatteoNNZ: *But such synchronization will occur eventually,* -- not necessarily; I&#39;m pretty sure lack of `volatile` lets a JVM hoist a load out of the loop when making asm (like in C++ with a non-`atomic` int, where that would be undefined behaviour).  So the compiler / runtime can effectively transform `while(running)` into `if(running) while(42){}` when JITing.  The reason a volatile read matters is that it may synchronize with another thread, which would trigger language rules about being able to see values, and thus require a load in the asm.","body":"@MatteoNNZ: <i>But such synchronization will occur eventually,</i> -- not necessarily; I&#39;m pretty sure lack of <code>volatile</code> lets a JVM hoist a load out of the loop when making asm (like in C++ with a non-<code>atomic</code> int, where that would be undefined behaviour).  So the compiler / runtime can effectively transform <code>while(running)</code> into <code>if(running) while(42){}</code> when JITing.  The reason a volatile read matters is that it may synchronize with another thread, which would trigger language rules about being able to see values, and thus require a load in the asm."},{"owner":{"account_id":9904832,"reputation":21,"user_id":7333646,"display_name":"Jack Liu"},"score":0,"creation_date":1653639029,"post_id":72402117,"comment_id":127904116,"body_markdown":"@Matteo NNZ yes, you are right,  thanks. But I still want to know why reading a volatile value will make another non-volatile filed be synchronized ?Does JMM guarantee this someone told me that the reason is &quot;running&quot; share same cache line with &quot;volatileField&quot; , but after I add enough padding(&gt;= 128 bytes) between &quot;running&quot; and &quot;volatileField&quot;, the code still stop.","body":"@Matteo NNZ yes, you are right,  thanks. But I still want to know why reading a volatile value will make another non-volatile filed be synchronized ?Does JMM guarantee this someone told me that the reason is &quot;running&quot; share same cache line with &quot;volatileField&quot; , but after I add enough padding(&gt;= 128 bytes) between &quot;running&quot; and &quot;volatileField&quot;, the code still stop."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1653639321,"post_id":72402117,"comment_id":127904212,"body_markdown":"@JackLiu: Nothing to do with cache line boundaries; this is a JIT-compile-time effect.  yshavit&#39;s answer is correct (and agrees with my previous comment.)  And no, I don&#39;t Matteo is correct.  If the loop was checking the value at all, would see the store in tens of nanoseconds after another thread executes it, if you run this on a normal x86 system like yours.  The fact that it doesn&#39;t means there&#39;s most likely no check at all inside the loop the JIT compiler produced.","body":"@JackLiu: Nothing to do with cache line boundaries; this is a JIT-compile-time effect.  yshavit&#39;s answer is correct (and agrees with my previous comment.)  And no, I don&#39;t Matteo is correct.  If the loop was checking the value at all, would see the store in tens of nanoseconds after another thread executes it, if you run this on a normal x86 system like yours.  The fact that it doesn&#39;t means there&#39;s most likely no check at all inside the loop the JIT compiler produced."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1653639397,"post_id":72402117,"comment_id":127904240,"body_markdown":"@JackLiu the technical reason is explained in the answer you received. Declaring the field volatile makes the JVM respect an order of before/after, making your case 2&#39;s thread 1 memory having the same state of the main thread&#39;s memory (so it will see running = false), whereas in case 1, the synchronization of running = false in the cache of thread 1 may happen later and so you don&#39;t see it on time","body":"@JackLiu the technical reason is explained in the answer you received. Declaring the field volatile makes the JVM respect an order of before/after, making your case 2&#39;s thread 1 memory having the same state of the main thread&#39;s memory (so it will see running = false), whereas in case 1, the synchronization of running = false in the cache of thread 1 may happen later and so you don&#39;t see it on time"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1653639417,"post_id":72402117,"comment_id":127904248,"body_markdown":"@MatteoNNZ:  Related: https://software.rajivprab.com/2018/04/29/myths-programmers-believe-about-cpu-caches/ - cache is coherent on all hardware we run threads across.  The kind of &quot;caching&quot; that breaks code is when *compilers* choose to keep values in registers, not the CPU cache itself being stale.  If synchronization didn&#39;t happen in a hundred nanoseconds (in low contention conditions like this), it&#39;s not going to happen at all, unless the JVM discards the JIT optimized asm for some reason and happens to go back to interpreting naively for some iterations.","body":"@MatteoNNZ:  Related: <a href=\"https://software.rajivprab.com/2018/04/29/myths-programmers-believe-about-cpu-caches/\" rel=\"nofollow noreferrer\">software.rajivprab.com/2018/04/29/&hellip;</a> - cache is coherent on all hardware we run threads across.  The kind of &quot;caching&quot; that breaks code is when <i>compilers</i> choose to keep values in registers, not the CPU cache itself being stale.  If synchronization didn&#39;t happen in a hundred nanoseconds (in low contention conditions like this), it&#39;s not going to happen at all, unless the JVM discards the JIT optimized asm for some reason and happens to go back to interpreting naively for some iterations."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1653639603,"post_id":72402117,"comment_id":127904337,"body_markdown":"@PeterCordes while I agree with you on the pure theory, I posted my comment in the light of any JVM implementation that I&#39;ve ever used which always end up at some point flushing memory from the Ram to caches (for example at garbage collection). But it&#39;s not the theoretical answer, I agree, that&#39;s why I posted it as a comment","body":"@PeterCordes while I agree with you on the pure theory, I posted my comment in the light of any JVM implementation that I&#39;ve ever used which always end up at some point flushing memory from the Ram to caches (for example at garbage collection). But it&#39;s not the theoretical answer, I agree, that&#39;s why I posted it as a comment"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1653639642,"post_id":72402117,"comment_id":127904350,"body_markdown":"@PeterCordes My original answers was actually a bit incorrect, in that it incorrectly implied that a HB-edge is what&#39;s publishing the data. There&#39;s no write to the volatile field (other than its default value), so there isn&#39;t actually a HB. The JMM is just translating the read to a cache flush, which is a superset of the required semantics.","body":"@PeterCordes My original answers was actually a bit incorrect, in that it incorrectly implied that a HB-edge is what&#39;s publishing the data. There&#39;s no write to the volatile field (other than its default value), so there isn&#39;t actually a HB. The JMM is just translating the read to a cache flush, which is a superset of the required semantics."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1653640168,"post_id":72402117,"comment_id":127904519,"body_markdown":"@yshavit: Yeah, it doesn&#39;t *actually* sync with anything, the JIT just makes code that would work if it did.  That implies a JIT compiler can&#39;t assume values of other variables stay the same across a volatile read, that it works like a compiler barrier. (That&#39;s why I was saying in the first place, and I assume what your answer was intended to imply.  But yeah not a bad idea to make it explicit.) C and C++ compilers also don&#39;t try to optimize according to what other threads could actually be doing in the program, they make asm that works with any hypothetical other thread that follows the rules","body":"@yshavit: Yeah, it doesn&#39;t <i>actually</i> sync with anything, the JIT just makes code that would work if it did.  That implies a JIT compiler can&#39;t assume values of other variables stay the same across a volatile read, that it works like a compiler barrier. (That&#39;s why I was saying in the first place, and I assume what your answer was intended to imply.  But yeah not a bad idea to make it explicit.) C and C++ compilers also don&#39;t try to optimize according to what other threads could actually be doing in the program, they make asm that works with any hypothetical other thread that follows the rules"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1653640900,"post_id":72402117,"comment_id":127904729,"body_markdown":"@MatteoNNZ: No idea what you mean by &quot;flushing data from the RAM to the caches&quot;; if anything needed to get flushed it would be the cache getting flushed to RAM.  But it doesn&#39;t, actual CPU cache is coherent.  Interesting point that GC could make a loop not quite infinite; you&#39;re right, hotspot does load a pointer and deref it inside the loop, and a couple times per second that segfaults (SIGSEGV) which I guess it catches as a way to get notified of GC happening.  But despite that, this program is so simple that GC isn&#39;t moving `running` so it doesn&#39;t get re-read.","body":"@MatteoNNZ: No idea what you mean by &quot;flushing data from the RAM to the caches&quot;; if anything needed to get flushed it would be the cache getting flushed to RAM.  But it doesn&#39;t, actual CPU cache is coherent.  Interesting point that GC could make a loop not quite infinite; you&#39;re right, hotspot does load a pointer and deref it inside the loop, and a couple times per second that segfaults (SIGSEGV) which I guess it catches as a way to get notified of GC happening.  But despite that, this program is so simple that GC isn&#39;t moving <code>running</code> so it doesn&#39;t get re-read."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1653641115,"post_id":72402117,"comment_id":127904789,"body_markdown":"@MatteoNNZ: There&#39;s no timeout in this code.  The sleep is to give the reader thread time to get JIT optimized before the store.  I left it running for over 3 minutes, and as I expected it doesn&#39;t exit.  (OpenJDK 11.0.13 on x86-64).  (I changed the Sleep to a `for(int i=0 ; i&lt;1000000000 ; i++){}` since my javac didn&#39;t have that library I guess.)  Perhaps a non-toy program that does generate some GC churn would be different.  Of course the language standard doesn&#39;t rule out re-reading anything at any time; the important thing as we both agree is the lack of guarantee of prompt reading.","body":"@MatteoNNZ: There&#39;s no timeout in this code.  The sleep is to give the reader thread time to get JIT optimized before the store.  I left it running for over 3 minutes, and as I expected it doesn&#39;t exit.  (OpenJDK 11.0.13 on x86-64).  (I changed the Sleep to a <code>for(int i=0 ; i&lt;1000000000 ; i++){}</code> since my javac didn&#39;t have that library I guess.)  Perhaps a non-toy program that does generate some GC churn would be different.  Of course the language standard doesn&#39;t rule out re-reading anything at any time; the important thing as we both agree is the lack of guarantee of prompt reading."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1653641558,"post_id":72402117,"comment_id":127904923,"body_markdown":"@PeterCordes I quickly ran the same test on openjdk 11.0.2-BellSoft on x86-64, and it exits after 450ms :) I don&#39;t know the reason, I think it&#39;s really related to the JVM specific implementation. But again, I agree with you on the theory, you can disregard all my comments cause unfortunately now I don&#39;t have time to explain better what I meant plus comments are not very fit for that :)","body":"@PeterCordes I quickly ran the same test on openjdk 11.0.2-BellSoft on x86-64, and it exits after 450ms :) I don&#39;t know the reason, I think it&#39;s really related to the JVM specific implementation. But again, I agree with you on the theory, you can disregard all my comments cause unfortunately now I don&#39;t have time to explain better what I meant plus comments are not very fit for that :)"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1653642796,"post_id":72402117,"comment_id":127905328,"body_markdown":"@MatteoNNZ: 450ms after executing `t.running = false;`?  Or 450ms total, so probably nanoseconds after finishing my delay loop and running the store?  (The latter would mean that the `t1` loop is checking `running` every time, not hoisting the load).  I don&#39;t know what BellSoft is; I don&#39;t normally do much with Java.","body":"@MatteoNNZ: 450ms after executing <code>t.running = false;</code>?  Or 450ms total, so probably nanoseconds after finishing my delay loop and running the store?  (The latter would mean that the <code>t1</code> loop is checking <code>running</code> every time, not hoisting the load).  I don&#39;t know what BellSoft is; I don&#39;t normally do much with Java."}],"answers":[{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1653639958,"creation_date":1653638840,"answer_id":72402336,"question_id":72402117,"body_markdown":"Reading a volatile field doesn&#39;t only ensure you see the most up-to-date version of it. It also establishes a formal [happens-before](https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5) relationship: any write to the field happens-before a subsequent read to it. That happens-before means the reading thread sees at least the same state _of the full program_ as the writing thread saw at the time of the write. That&#39;s what&#39;s causing the reading thread to see the non-volatile write.\r\n\r\nThese same semantics are what also let you publish non-thread-safe objects across threads, as long as they&#39;re not modified after they&#39;re published. And they&#39;re the same semantics that various thread-safe collections create, as described in the docs for [`java.util.concurrent`](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/package-summary.html).\r\n\r\nNow, in your code, you don&#39;t actually write to `volatileField` after setting `running` to false. So, where is the happens-before edge come from? Actually -- nowhere! You still have a data race, and the JVM doesn&#39;t have to show you the most recent version of `running`. But many JVM implementations just treat a volatile read as &quot;okay, let&#39;s flush all the core caches to make sure this thread sees everything,&quot; and you&#39;re benefiting from that behavior. A JVM with a more stingy and precise application of the JMM could break your code.","title":"what does Java Volatile Read really do?","body":"<p>Reading a volatile field doesn't only ensure you see the most up-to-date version of it. It also establishes a formal <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">happens-before</a> relationship: any write to the field happens-before a subsequent read to it. That happens-before means the reading thread sees at least the same state <em>of the full program</em> as the writing thread saw at the time of the write. That's what's causing the reading thread to see the non-volatile write.</p>\n<p>These same semantics are what also let you publish non-thread-safe objects across threads, as long as they're not modified after they're published. And they're the same semantics that various thread-safe collections create, as described in the docs for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent</code></a>.</p>\n<p>Now, in your code, you don't actually write to <code>volatileField</code> after setting <code>running</code> to false. So, where is the happens-before edge come from? Actually -- nowhere! You still have a data race, and the JVM doesn't have to show you the most recent version of <code>running</code>. But many JVM implementations just treat a volatile read as &quot;okay, let's flush all the core caches to make sure this thread sees everything,&quot; and you're benefiting from that behavior. A JVM with a more stingy and precise application of the JMM could break your code.</p>\n"}],"owner":{"account_id":9904832,"reputation":21,"user_id":7333646,"display_name":"Jack Liu"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653641997,"creation_date":1653637587,"question_id":72402117,"body_markdown":"I have a very confused question about java volatile read. \r\n\r\nI will show two cases to explain my question. \r\n\r\ncase1:\r\n```java\r\nclass TestVolatile {\r\n    public boolean running = true;\r\n    public volatile boolean volatileField;\r\n\r\n    void run() {\r\n        while(running) {\r\n        }\r\n        System.out.println(&quot;stopped.&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        TestVolatile t = new TestVolatile ();\r\n\r\n        Thread t1 = new Thread(t::run, &quot;t1&quot;);\r\n        t1.start();\r\n        TimeUnit.SECONDS.sleep(1);\r\n\r\n        t.running = false;\r\n        t1.join();\r\n    }\r\n}\r\n```\r\n\r\ncase1 won&#39;t stop, This is completely understandable because running is not volatile. \r\n\r\nNext I will show the second case.\r\n\r\ncase2:\r\n```java\r\nclass TestVolatile {\r\n    public boolean running = true;\r\n    public volatile boolean volatileField;\r\n\r\n    void run() {\r\n        while(running) {\r\n            // just add a volatile read, the code will stop . \r\n            if (volatileField) {\r\n                \r\n            }\r\n        }\r\n        System.out.println(&quot;stopped.&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        TestVolatile t = new TestVolatile ();\r\n\r\n        Thread t1 = new Thread(t::run, &quot;t1&quot;);\r\n        t1.start();\r\n        TimeUnit.SECONDS.sleep(1);\r\n\r\n        t.running = false;\r\n        t1.join();\r\n    }\r\n}\r\n\r\n```\r\n\r\n**just as case2 shows, after add a volatile read in the while loop, the code will stop.** \r\n\r\n\r\nso, why? running is not a volatile field and the code does not write volatileField. \r\nis there some happen-before relation can explain case2? thanks a lot for any help! \r\n\r\nFrom the perspective of JMM, why? From the perspective of native code, why?\r\n\r\n\r\nI have added ** -XX:+UnlockDiagnosticVMOptions -XX:CompileCommand=print,*TestVolatile.run -XX:PrintAssemblyOptions=intel ** to jvm option to see native code of TestVolatile.run. But I don&#39;t see any special instruction about the volatile read. \r\n\r\n\r\nmy runtime: \r\n```\r\njava version &quot;1.8.0_151&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_151-b12)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.151-b12, mixed mode)\r\n\r\nmacOS catalina 10.15.5\r\n2.6 GHz 6-Core Intel Core i7 \r\n```","title":"what does Java Volatile Read really do?","body":"<p>I have a very confused question about java volatile read.</p>\n<p>I will show two cases to explain my question.</p>\n<p>case1:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class TestVolatile {\n    public boolean running = true;\n    public volatile boolean volatileField;\n\n    void run() {\n        while(running) {\n        }\n        System.out.println(&quot;stopped.&quot;);\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        TestVolatile t = new TestVolatile ();\n\n        Thread t1 = new Thread(t::run, &quot;t1&quot;);\n        t1.start();\n        TimeUnit.SECONDS.sleep(1);\n\n        t.running = false;\n        t1.join();\n    }\n}\n</code></pre>\n<p>case1 won't stop, This is completely understandable because running is not volatile.</p>\n<p>Next I will show the second case.</p>\n<p>case2:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class TestVolatile {\n    public boolean running = true;\n    public volatile boolean volatileField;\n\n    void run() {\n        while(running) {\n            // just add a volatile read, the code will stop . \n            if (volatileField) {\n                \n            }\n        }\n        System.out.println(&quot;stopped.&quot;);\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        TestVolatile t = new TestVolatile ();\n\n        Thread t1 = new Thread(t::run, &quot;t1&quot;);\n        t1.start();\n        TimeUnit.SECONDS.sleep(1);\n\n        t.running = false;\n        t1.join();\n    }\n}\n\n</code></pre>\n<p><strong>just as case2 shows, after add a volatile read in the while loop, the code will stop.</strong></p>\n<p>so, why? running is not a volatile field and the code does not write volatileField.\nis there some happen-before relation can explain case2? thanks a lot for any help!</p>\n<p>From the perspective of JMM, why? From the perspective of native code, why?</p>\n<p>I have added ** -XX:+UnlockDiagnosticVMOptions -XX:CompileCommand=print,*TestVolatile.run -XX:PrintAssemblyOptions=intel ** to jvm option to see native code of TestVolatile.run. But I don't see any special instruction about the volatile read.</p>\n<p>my runtime:</p>\n<pre><code>java version &quot;1.8.0_151&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_151-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.151-b12, mixed mode)\n\nmacOS catalina 10.15.5\n2.6 GHz 6-Core Intel Core i7 \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1653638631,"post_id":72402199,"comment_id":127903980,"body_markdown":"In your `for` loops, all you do is assign a (single!) value to `values1` (and values2 in the second loop). That overwrites the value from the previous loop iteration, so in the end values1 just contains the last single value it was assigned. `int[] player1 = {values1};` then creates an array with just one element. What you want is to add a value to the array in each loop iteration.","body":"In your <code>for</code> loops, all you do is assign a (single!) value to <code>values1</code> (and values2 in the second loop). That overwrites the value from the previous loop iteration, so in the end values1 just contains the last single value it was assigned. <code>int[] player1 = {values1};</code> then creates an array with just one element. What you want is to add a value to the array in each loop iteration."}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653639194,"creation_date":1653638364,"answer_id":72402254,"question_id":72402199,"body_markdown":"You are not understanding how to populate arrays\r\n\r\n    int[] player1 = new int[10];\r\n    for (int i = 0; i &lt; 10; i++) {\r\n           \r\n            values2 = 1+(int)(Math.random()*(6-1));\r\n            System.out.print(values2+&quot; &quot;);\r\n            player1[i] = values2;\r\n    }\r\n\r\nI have **changed** the size of the array to be 10 and not as you have coded it (which result in entry of 11 elements)\r\n        ","title":"sum of values of an array filled with integers randomly generated","body":"<p>You are not understanding how to populate arrays</p>\n<pre><code>int[] player1 = new int[10];\nfor (int i = 0; i &lt; 10; i++) {\n       \n        values2 = 1+(int)(Math.random()*(6-1));\n        System.out.print(values2+&quot; &quot;);\n        player1[i] = values2;\n}\n</code></pre>\n<p>I have <strong>changed</strong> the size of the array to be 10 and not as you have coded it (which result in entry of 11 elements)</p>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653638579,"creation_date":1653638579,"answer_id":72402288,"question_id":72402199,"body_markdown":"Main problem lies within your for loop. You are just updating `values1` and `values2` variable .You should be also adding them to the the arrays.\r\n\r\ncode will be \r\n```\r\nint[] player1 = new int[11];\r\nfor (int i = 0; i &lt;= 10; i++) {        \r\n   values1 = 1+(int)(Math.random()*(6-1));\r\n   player1[i] = values1;\r\n   System.out.print(values1+&quot; &quot;);\r\n}\r\n\r\n```\r\n\r\nIn addition you don&#39;t need these 2 lines.\r\n```\r\nint[] player1 = {values};\r\nint[] player2 = {values2};\r\n```","title":"sum of values of an array filled with integers randomly generated","body":"<p>Main problem lies within your for loop. You are just updating <code>values1</code> and <code>values2</code> variable .You should be also adding them to the the arrays.</p>\n<p>code will be</p>\n<pre><code>int[] player1 = new int[11];\nfor (int i = 0; i &lt;= 10; i++) {        \n   values1 = 1+(int)(Math.random()*(6-1));\n   player1[i] = values1;\n   System.out.print(values1+&quot; &quot;);\n}\n\n</code></pre>\n<p>In addition you don't need these 2 lines.</p>\n<pre><code>int[] player1 = {values};\nint[] player2 = {values2};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653638756,"creation_date":1653638756,"answer_id":72402321,"question_id":72402199,"body_markdown":"Your `player1 ` &amp; `player2` are only containing single element &amp; that is reason you are getting sum as last element&#39;s (or single element&#39;s )  value.\r\n\r\nIf you want to have `values1` containing multiple values then consider defining it as array instead of single integer.\r\n\r\n    int values1 = new int[11];\r\n    for (int i = 0; i &lt;= 10; i++) {\r\n               \r\n                values1[i] = 1+(int)(Math.random()*(6-1));\r\n                System.out.print(values1[i]+&quot; &quot;);\r\n            }\r\n\r\n\r\nSimilar case for your `values2`. After that, you can directly call:\r\n\r\n    sumArray(values1);\r\n\r\nNo need to define separate `player1` &amp; `player2`.\r\n","title":"sum of values of an array filled with integers randomly generated","body":"<p>Your <code>player1 </code> &amp; <code>player2</code> are only containing single element &amp; that is reason you are getting sum as last element's (or single element's )  value.</p>\n<p>If you want to have <code>values1</code> containing multiple values then consider defining it as array instead of single integer.</p>\n<pre><code>int values1 = new int[11];\nfor (int i = 0; i &lt;= 10; i++) {\n           \n            values1[i] = 1+(int)(Math.random()*(6-1));\n            System.out.print(values1[i]+&quot; &quot;);\n        }\n</code></pre>\n<p>Similar case for your <code>values2</code>. After that, you can directly call:</p>\n<pre><code>sumArray(values1);\n</code></pre>\n<p>No need to define separate <code>player1</code> &amp; <code>player2</code>.</p>\n"},{"tags":[],"owner":{"account_id":25132772,"reputation":176,"user_id":18979831,"display_name":"yodamousta"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1653639283,"creation_date":1653639283,"answer_id":72402416,"question_id":72402199,"body_markdown":"I would suggest a few things.  \r\nFirst, you should try not to &quot;duplicate&quot; the code. Here Player1 and Player2 could be just passed as parameters for a method that would generate their arrays.  \r\nSecond, if you want to do any manipulations on arrays, you should avoid [] but instead use ArrayList for example.   \r\nAlso, you may want to look into Object Oriented logic, as you don&#39;t seem to use class for Person, depending on what you want to achieve, you could use a class &quot;Person&quot; with attribute &quot;values&quot; which would be of type ArrayList.   \r\n\r\nAs for your code, you reallocate &quot;value1&quot; and &quot;value2&quot;, so they are just integers, not lists.  \r\nThis would give something like this:  \r\n```\r\npublic static int generateValue(PersonClass person) {\r\n    ArrayList&lt;Integer&gt; values = new ArrayList&lt;&gt;();\r\n\r\n    for (int i = 0; i &lt;= 10; i++) {\r\n        values.add(1+(int)(Math.random()*(6-1)));\r\n    }\r\n\r\n    person.setValues(values);\r\n\r\n    return sumArray(values);\r\n}\r\n\r\npublic static int sumArray(ArrayList&lt;Integer&gt; values) {\r\n    int add=0;\r\n    for (Integer value : values) {\r\n        add += value;\r\n    }\r\n    return add;\r\n}\r\n```\r\nThis way, you will be able to retrieve your values and to print them as you want. The &quot;PersonClass&quot; part is not mandatory, it just depends if you want to keep your values associated to a Person or not (how long will you need those data).\r\n\r\n(Example of class PersonClass :\r\n```\r\npublic class PersonClass {\r\n    private ArrayList&lt;Integer&gt; values = new ArrayList&lt;&gt;();\r\n\r\n    public ArrayList&lt;Integer&gt; getValues() {\r\n        return this.values;\r\n    }\r\n\r\n    public void setValues(ArrayList&lt;Integer&gt; newValues) {\r\n        this.values = newValues;\r\n    }\r\n}\r\n```\r\nas you should always use getters and setters). Good luck on you way to Java learning.\r\n","title":"sum of values of an array filled with integers randomly generated","body":"<p>I would suggest a few things.<br />\nFirst, you should try not to &quot;duplicate&quot; the code. Here Player1 and Player2 could be just passed as parameters for a method that would generate their arrays.<br />\nSecond, if you want to do any manipulations on arrays, you should avoid [] but instead use ArrayList for example.<br />\nAlso, you may want to look into Object Oriented logic, as you don't seem to use class for Person, depending on what you want to achieve, you could use a class &quot;Person&quot; with attribute &quot;values&quot; which would be of type ArrayList.</p>\n<p>As for your code, you reallocate &quot;value1&quot; and &quot;value2&quot;, so they are just integers, not lists.<br />\nThis would give something like this:</p>\n<pre><code>public static int generateValue(PersonClass person) {\n    ArrayList&lt;Integer&gt; values = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt;= 10; i++) {\n        values.add(1+(int)(Math.random()*(6-1)));\n    }\n\n    person.setValues(values);\n\n    return sumArray(values);\n}\n\npublic static int sumArray(ArrayList&lt;Integer&gt; values) {\n    int add=0;\n    for (Integer value : values) {\n        add += value;\n    }\n    return add;\n}\n</code></pre>\n<p>This way, you will be able to retrieve your values and to print them as you want. The &quot;PersonClass&quot; part is not mandatory, it just depends if you want to keep your values associated to a Person or not (how long will you need those data).</p>\n<p>(Example of class PersonClass :</p>\n<pre><code>public class PersonClass {\n    private ArrayList&lt;Integer&gt; values = new ArrayList&lt;&gt;();\n\n    public ArrayList&lt;Integer&gt; getValues() {\n        return this.values;\n    }\n\n    public void setValues(ArrayList&lt;Integer&gt; newValues) {\n        this.values = newValues;\n    }\n}\n</code></pre>\n<p>as you should always use getters and setters). Good luck on you way to Java learning.</p>\n"}],"owner":{"account_id":24809226,"reputation":13,"user_id":18690876,"display_name":"Solo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72402288,"answer_count":4,"score":1,"last_activity_date":1653641949,"creation_date":1653638026,"question_id":72402199,"body_markdown":"**Write a method sum(int[] values) that returns the sum of elements of the array values.**\r\n\r\n**when I display my sum method it only displays the last element of the array** \r\n\r\n(I&#39;m still a beginner, so go easy on me please)\r\n\r\n```\r\n        System.out.print(&quot;Generated numbers for player 1 are: &quot;);\r\n        int values1 = 0;\r\n        for (int i = 0; i &lt;= 10; i++) {\r\n           \r\n            values1 = 1+(int)(Math.random()*(6-1));\r\n            System.out.print(values1+&quot; &quot;);\r\n        }\r\n    \r\n        System.out.print(&quot;\\nGenerated numbers for player 2 are: &quot;);\r\n        int values2 = 0;\r\n        for (int i = 0; i &lt;= 10; i++) {\r\n           \r\n            values2 = 1+(int)(Math.random()*(6-1));\r\n            System.out.print(values2+&quot; &quot;);\r\n        }\r\n        int[] player1 = {values1};\r\n        int[] player2 = {values2};\r\n        System.out.println(&quot;\\n&quot;);\r\n        sumArray(player1);\r\n        sumArray(player2);\r\n        \r\n        System.out.println(sumArray(player1));\r\n       \r\n    }\r\n    public static int sumArray( int[] sum) {\r\n    int add=0;\r\n    for(int i=0; i&lt; sum.length; i++) { \r\n      add += sum[i];\r\n    }\r\n\r\n    return add;\r\n```","title":"sum of values of an array filled with integers randomly generated","body":"<p><strong>Write a method sum(int[] values) that returns the sum of elements of the array values.</strong></p>\n<p><strong>when I display my sum method it only displays the last element of the array</strong></p>\n<p>(I'm still a beginner, so go easy on me please)</p>\n<pre><code>        System.out.print(&quot;Generated numbers for player 1 are: &quot;);\n        int values1 = 0;\n        for (int i = 0; i &lt;= 10; i++) {\n           \n            values1 = 1+(int)(Math.random()*(6-1));\n            System.out.print(values1+&quot; &quot;);\n        }\n    \n        System.out.print(&quot;\\nGenerated numbers for player 2 are: &quot;);\n        int values2 = 0;\n        for (int i = 0; i &lt;= 10; i++) {\n           \n            values2 = 1+(int)(Math.random()*(6-1));\n            System.out.print(values2+&quot; &quot;);\n        }\n        int[] player1 = {values1};\n        int[] player2 = {values2};\n        System.out.println(&quot;\\n&quot;);\n        sumArray(player1);\n        sumArray(player2);\n        \n        System.out.println(sumArray(player1));\n       \n    }\n    public static int sumArray( int[] sum) {\n    int add=0;\n    for(int i=0; i&lt; sum.length; i++) { \n      add += sum[i];\n    }\n\n    return add;\n</code></pre>\n"},{"tags":["java","json","spring-boot","api"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653641383,"creation_date":1653641383,"answer_id":72402828,"question_id":72402604,"body_markdown":"I suggest you to use [gson][1] library for that.\r\n\r\nThen, after you added `gson` dependency in `pom.xml`, you can extract values from your JSON string with this few lines of code :\r\n\r\n    String raspuns = &quot;{\\&quot;mesaje\\&quot;:[{\\&quot;data_creare\\&quot;:\\&quot;202205191249\\&quot;,\\&quot;cif\\&quot;:\\&quot;1111111111118\\&quot;,\\&quot;id_solicitare\\&quot;:\\&quot;205804\\&quot;,\\&quot;detalii\\&quot;:\\&quot;Erori de validare identificate la factura primita cu id_incarcare=205804\\&quot;,\\&quot;tip\\&quot;:\\&quot;ERORI FACTURA\\&quot;,\\&quot;id\\&quot;:\\&quot;9279339\\&quot;}]}&quot;;\r\n\r\n\r\n   \r\n\r\n     JsonObject jsonObject = new JsonParser().parse(raspuns).getAsJsonObject();\r\n     JsonArray arr = jsonObject.getAsJsonArray(&quot;mesaje&quot;);\r\n        for (int i = 0; i &lt; arr.size(); i++) {\r\n            String data_creare = arr.get(i).getAsJsonObject().get(&quot;data_creare&quot;).getAsString();\r\n            String cif = arr.get(i).getAsJsonObject().get(&quot;cif&quot;).getAsString();\r\n            String id_solicitare = arr.get(i).getAsJsonObject().get(&quot;id_solicitare&quot;).getAsString();\r\n            String detalii = arr.get(i).getAsJsonObject().get(&quot;detalii&quot;).getAsString();\r\n            String tip = arr.get(i).getAsJsonObject().get(&quot;tip&quot;).getAsString();\r\n            String id = arr.get(i).getAsJsonObject().get(&quot;id&quot;).getAsString();\r\n            System.out.println(data_creare);\r\n            System.out.println(cif);\r\n            System.out.println(tip);\r\n            System.out.println(id_solicitare);\r\n            System.out.println(detalii);\r\n            System.out.println(id);\r\n    }\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.code.gson/gson/2.8.9","title":"Getting attribute values from JSON String in Java","body":"<p>I suggest you to use <a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson/2.8.9\" rel=\"nofollow noreferrer\">gson</a> library for that.</p>\n<p>Then, after you added <code>gson</code> dependency in <code>pom.xml</code>, you can extract values from your JSON string with this few lines of code :</p>\n<pre><code>String raspuns = &quot;{\\&quot;mesaje\\&quot;:[{\\&quot;data_creare\\&quot;:\\&quot;202205191249\\&quot;,\\&quot;cif\\&quot;:\\&quot;1111111111118\\&quot;,\\&quot;id_solicitare\\&quot;:\\&quot;205804\\&quot;,\\&quot;detalii\\&quot;:\\&quot;Erori de validare identificate la factura primita cu id_incarcare=205804\\&quot;,\\&quot;tip\\&quot;:\\&quot;ERORI FACTURA\\&quot;,\\&quot;id\\&quot;:\\&quot;9279339\\&quot;}]}&quot;;\n\n\n\n\n JsonObject jsonObject = new JsonParser().parse(raspuns).getAsJsonObject();\n JsonArray arr = jsonObject.getAsJsonArray(&quot;mesaje&quot;);\n    for (int i = 0; i &lt; arr.size(); i++) {\n        String data_creare = arr.get(i).getAsJsonObject().get(&quot;data_creare&quot;).getAsString();\n        String cif = arr.get(i).getAsJsonObject().get(&quot;cif&quot;).getAsString();\n        String id_solicitare = arr.get(i).getAsJsonObject().get(&quot;id_solicitare&quot;).getAsString();\n        String detalii = arr.get(i).getAsJsonObject().get(&quot;detalii&quot;).getAsString();\n        String tip = arr.get(i).getAsJsonObject().get(&quot;tip&quot;).getAsString();\n        String id = arr.get(i).getAsJsonObject().get(&quot;id&quot;).getAsString();\n        System.out.println(data_creare);\n        System.out.println(cif);\n        System.out.println(tip);\n        System.out.println(id_solicitare);\n        System.out.println(detalii);\n        System.out.println(id);\n}\n</code></pre>\n"}],"owner":{"account_id":24132797,"reputation":29,"user_id":18100193,"display_name":"JohnNewman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":962,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72402828,"answer_count":1,"score":-1,"last_activity_date":1653641383,"creation_date":1653640229,"question_id":72402604,"body_markdown":"Hello I am building a Spring Boot app with Thymeleaf and I am receiving from an API a JSON that I have to put in the HTML page. This is the JSON:\r\n\r\n    {&quot;mesaje&quot;:[{&quot;data_creare&quot;:&quot;202205191249&quot;,&quot;cif&quot;:&quot;1111111111118&quot;,&quot;id_solicitare&quot;:&quot;205804&quot;,&quot;detalii&quot;:&quot;Erori de validare identificate la factura primita cu id_incarcare=205804&quot;,&quot;tip&quot;:&quot;ERORI FACTURA&quot;,&quot;id&quot;:&quot;9279339&quot;}\r\n\r\nThis is what I have tried: \r\n\r\n        String raspuns = service.getListaMesaje(zile, select);\r\n         System.out.println(&quot;------------------------&quot;+raspuns);\r\n           JsonParser parser = new JsonParser();\r\n    JsonObject obj = parser.parse(raspuns).getAsJsonObject();\r\n    //String eroare = obj.get(&quot;eroare&quot;).getAsString();\r\n    String mesaje = obj.get(&quot;mesaje&quot;).getAsString();\r\n    \r\n            JSONObject responseObject = new JSONObject(raspuns);       \r\n            JSONArray jsonArray = (JSONArray) responseObject.get(&quot;mesaje&quot;);\r\n            JSONObject jsonObject = (JSONObject) jsonArray.get(0);\r\n            String dataCreare  = jsonObject.getString(&quot;data_creare&quot;);\r\n           \r\n            \r\n            model.addAttribute(&quot;data_creare&quot;, dataCreare);\r\n\r\nIn the console the JSON prints but I get this error also in the console: \r\n\r\n    java.lang.IllegalStateException: null\r\n\r\nCan someone show me an example how to extract the values from mesaje parent in the JSON ? \r\n\r\nThank you\r\n\r\n","title":"Getting attribute values from JSON String in Java","body":"<p>Hello I am building a Spring Boot app with Thymeleaf and I am receiving from an API a JSON that I have to put in the HTML page. This is the JSON:</p>\n<pre><code>{&quot;mesaje&quot;:[{&quot;data_creare&quot;:&quot;202205191249&quot;,&quot;cif&quot;:&quot;1111111111118&quot;,&quot;id_solicitare&quot;:&quot;205804&quot;,&quot;detalii&quot;:&quot;Erori de validare identificate la factura primita cu id_incarcare=205804&quot;,&quot;tip&quot;:&quot;ERORI FACTURA&quot;,&quot;id&quot;:&quot;9279339&quot;}\n</code></pre>\n<p>This is what I have tried:</p>\n<pre><code>    String raspuns = service.getListaMesaje(zile, select);\n     System.out.println(&quot;------------------------&quot;+raspuns);\n       JsonParser parser = new JsonParser();\nJsonObject obj = parser.parse(raspuns).getAsJsonObject();\n//String eroare = obj.get(&quot;eroare&quot;).getAsString();\nString mesaje = obj.get(&quot;mesaje&quot;).getAsString();\n\n        JSONObject responseObject = new JSONObject(raspuns);       \n        JSONArray jsonArray = (JSONArray) responseObject.get(&quot;mesaje&quot;);\n        JSONObject jsonObject = (JSONObject) jsonArray.get(0);\n        String dataCreare  = jsonObject.getString(&quot;data_creare&quot;);\n       \n        \n        model.addAttribute(&quot;data_creare&quot;, dataCreare);\n</code></pre>\n<p>In the console the JSON prints but I get this error also in the console:</p>\n<pre><code>java.lang.IllegalStateException: null\n</code></pre>\n<p>Can someone show me an example how to extract the values from mesaje parent in the JSON ?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-cloud-sleuth"],"comments":[{"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1631037643,"post_id":69074529,"comment_id":122114141,"body_markdown":"I think what you are doing is way too complicated, in order to troubleshoot this, I would start with the implementation that the docs suggests: https://docs.spring.io/spring-cloud-sleuth/docs/current/reference/htmlsingle/#how-to-change-context-propagation\nAfter you make this work, you can add more logic.","body":"I think what you are doing is way too complicated, in order to troubleshoot this, I would start with the implementation that the docs suggests: <a href=\"https://docs.spring.io/spring-cloud-sleuth/docs/current/reference/htmlsingle/#how-to-change-context-propagation\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-sleuth/docs/current/reference/&hellip;</a> After you make this work, you can add more logic."}],"answers":[{"tags":[],"owner":{"account_id":2121132,"reputation":21,"user_id":1884343,"display_name":"Hoang Le Anh Tu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653640413,"creation_date":1653640413,"answer_id":72402633,"question_id":69074529,"body_markdown":" 1. Remove @Component on CustomPropagator to not override default [&quot;Propagation.Factory sleuthPropagationWithB3Baggage&quot;][1]\r\n\r\n 2. Implement custom PropagationFactorySupplier\r\n\r\n        @Component\r\n        public class CustomPropagationFactorySupplier implements \r\n               PropagationFactorySupplier {\r\n    \r\n          @Override\r\n          public Factory get() {\r\n            return new CustomPropagator(); // Your custom propagator\r\n          }\r\n        }\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-sleuth/blob/3.1.x/spring-cloud-sleuth-autoconfigure/src/main/java/org/springframework/cloud/sleuth/autoconfig/brave/BraveBaggageConfiguration.java#L133","title":"Spring cloud sleuth baggage propagation not working when custom propagation mechanism implemented","body":"<ol>\n<li><p>Remove @Component on CustomPropagator to not override default <a href=\"https://github.com/spring-cloud/spring-cloud-sleuth/blob/3.1.x/spring-cloud-sleuth-autoconfigure/src/main/java/org/springframework/cloud/sleuth/autoconfig/brave/BraveBaggageConfiguration.java#L133\" rel=\"nofollow noreferrer\">&quot;Propagation.Factory sleuthPropagationWithB3Baggage&quot;</a></p>\n</li>\n<li><p>Implement custom PropagationFactorySupplier</p>\n<pre><code>@Component\npublic class CustomPropagationFactorySupplier implements \n       PropagationFactorySupplier {\n\n  @Override\n  public Factory get() {\n    return new CustomPropagator(); // Your custom propagator\n  }\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":12428380,"reputation":129,"user_id":9052041,"display_name":" "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653640413,"creation_date":1630931190,"question_id":69074529,"body_markdown":"I implemented custom propagation mechanism since i want to use another header names(not x-b3-traceid) for tracing. \r\n\r\nAfter that i decided to use baggage to propagate some additional fields. \r\n\r\nOut of the box, spring use composite propagation, tracing starts from BaggagePropagation, after delegates to B3Propagation. So how can i repeat that behavior but instead of using B3Propagation use my own implementation?\r\n\r\nHere is my propagator impleementation\r\n```\r\npackage com.example.demo\r\n\r\nimport brave.internal.Platform\r\nimport brave.internal.codec.HexCodec\r\nimport brave.internal.propagation.StringPropagationAdapter\r\nimport brave.propagation.Propagation\r\nimport brave.propagation.TraceContext\r\nimport brave.propagation.TraceContextOrSamplingFlags\r\nimport org.springframework.stereotype.Component\r\n\r\n@Component\r\nclass CustomPropagator :\r\n    Propagation.Factory(),\r\n    Propagation&lt;String&gt; {\r\n\r\n    override fun keys(): List&lt;String&gt; {\r\n        return HEADER_KEYS\r\n    }\r\n\r\n    override fun &lt;R&gt; injector(setter: Propagation.Setter&lt;R, String&gt;): TraceContext.Injector&lt;R&gt; {\r\n        return TraceContext.Injector { traceContext: TraceContext, request: R -&gt;\r\n            setter.put(request, ApplicationHeaders.TRACE_ID, traceContext.traceIdString())\r\n            setter.put(request, ApplicationHeaders.SPAN_ID, traceContext.spanIdString())\r\n            val parentId: String = traceContext.parentIdString()\r\n            if (!parentId.isEmpty()) setter.put(request, B3_PARENT_SPAN_ID, parentId)\r\n            if (traceContext.debug()) {\r\n                setter.put(request, B3_FLAGS, &quot;1&quot;)\r\n            } else if (traceContext.sampled() != null) {\r\n                setter.put(request, B3_SAMPLED, if (traceContext.sampled()) &quot;1&quot; else &quot;0&quot;)\r\n            }\r\n        }\r\n    }\r\n\r\n    override fun &lt;R&gt; extractor(getter: Propagation.Getter&lt;R, String&gt;): TraceContext.Extractor&lt;R&gt; {\r\n\r\n        return TraceContext.Extractor { request: R -&gt;\r\n            if (request == null) throw NullPointerException(&quot;request == null&quot;)\r\n            val sampled = getter[request, B3_SAMPLED]\r\n            val sampledV: Boolean?\r\n            sampledV = if (sampled == null) {\r\n                null // defer decision\r\n            } else if (sampled.length == 1) { // handle fast valid paths\r\n                val sampledC = sampled[0]\r\n                if (sampledC == &#39;1&#39;) {\r\n                    true\r\n                } else if (sampledC == &#39;0&#39;) {\r\n                    false\r\n                } else {\r\n                    // todo\r\n                    Platform.get().log(B3_SAMPLED_MALFORMED, sampled, null)\r\n                    return@Extractor TraceContextOrSamplingFlags.EMPTY // trace context is malformed so return empty\r\n                }\r\n            } else if (sampled.equals(&quot;true&quot;, ignoreCase = true)) { // old clients\r\n                true\r\n            } else if (sampled.equals(&quot;false&quot;, ignoreCase = true)) { // old clients\r\n                false\r\n            } else {\r\n                Platform.get().log(B3_SAMPLED_MALFORMED, sampled, null)\r\n                return@Extractor TraceContextOrSamplingFlags.EMPTY // Restart trace instead of propagating false\r\n            }\r\n\r\n            // The only flag we action is 1, but it could be that any integer is present.\r\n            // Here, we leniently parse as debug is not a primary consideration of the trace context.\r\n            val debug = &quot;1&quot; == getter[request, B3_FLAGS]\r\n\r\n            val traceIdString = getter[request, B3_TRACE_ID] ?: getter[request, ApplicationHeaders.TRACE_ID]\r\n            val spanIdString = getter[request, B3_SPAN_ID] ?: getter[request, ApplicationHeaders.SPAN_ID]\r\n\r\n            // It is ok to go without a trace ID, if sampling or debug is set\r\n            if (traceIdString == null) {\r\n                if (debug) return@Extractor TraceContextOrSamplingFlags.DEBUG\r\n                if (sampledV != null) {\r\n                    return@Extractor if (sampledV) TraceContextOrSamplingFlags.SAMPLED else TraceContextOrSamplingFlags.NOT_SAMPLED\r\n                }\r\n            }\r\n\r\n            // Try to parse the trace IDs into the context\r\n            val traceContextBuilder = TraceContext.newBuilder()\r\n            val traceIdFilled = traceContextBuilder.fillTraceId(traceIdString, &quot;trace id&quot;)\r\n            val spanIdFilled = traceContextBuilder.fillSpanId(spanIdString, &quot;span id&quot;)\r\n            val parentIdFilled = traceContextBuilder.fillParentId(getter, request, &quot;parent id&quot;)\r\n            if (traceIdFilled &amp;&amp; spanIdFilled &amp;&amp; parentIdFilled) {\r\n                if (sampledV != null) traceContextBuilder.sampled(sampledV)\r\n                if (debug) traceContextBuilder.debug(true)\r\n                return@Extractor TraceContextOrSamplingFlags.create(traceContextBuilder.build())\r\n            }\r\n\r\n            return@Extractor TraceContextOrSamplingFlags.EMPTY\r\n        }\r\n    }\r\n\r\n    override fun &lt;K&gt; create(keyFactory: Propagation.KeyFactory&lt;K&gt;): Propagation&lt;K&gt; {\r\n        return StringPropagationAdapter.create(this, keyFactory)\r\n    }\r\n\r\n    companion object {\r\n        const val B3_TRACE_ID = &quot;X-B3-TraceId&quot;\r\n        const val B3_SPAN_ID = &quot;X-B3-SpanId&quot;\r\n        const val B3_PARENT_SPAN_ID = &quot;X-B3-ParentSpanId&quot;\r\n        const val B3_SAMPLED = &quot;X-B3-Sampled&quot;\r\n        const val B3_SAMPLED_MALFORMED = &quot;Invalid input: expected 0 or 1 for $B3_SAMPLED, but found &#39;{0}&#39;&quot;\r\n        const val B3_FLAGS = &quot;X-B3-Flags&quot;\r\n        val HEADER_KEYS = listOf&lt;String&gt;(\r\n            B3_TRACE_ID,\r\n            B3_SPAN_ID,\r\n            B3_PARENT_SPAN_ID,\r\n            B3_SAMPLED,\r\n            B3_FLAGS,\r\n            &quot;X-trace-id&quot;\r\n            &quot;X-span-id&quot;\r\n        )\r\n    }\r\n}\r\n\r\nprivate fun &lt;R&gt; TraceContext.Builder.fillParentId(\r\n    getter: Propagation.Getter&lt;R, String&gt;,\r\n    request: R,\r\n    key: String\r\n): Boolean {\r\n    val parentIdString = getter[request, key] ?: return true\r\n    // absent parent is ok\r\n\r\n    val length = parentIdString.length\r\n    if (isIdLengthInvalid(key, length, 16)) return false\r\n\r\n    val parentIdLong = HexCodec.lenientLowerHexToUnsignedLong(parentIdString, 0, length)\r\n    parentId(parentIdLong)\r\n    if (parentIdLong != 0L) return true\r\n    Platform.get().log(&quot;{0} is not a lower-hex string&quot;, parentIdString, null)\r\n    return false\r\n}\r\n\r\nprivate fun TraceContext.Builder.fillSpanId(spanIdString: String?, key: String): Boolean {\r\n    if (spanIdString == null) return false\r\n    val length = spanIdString.length\r\n    if (isIdLengthInvalid(key, length, 16)) return false\r\n\r\n    val spanIdLong = HexCodec.lenientLowerHexToUnsignedLong(spanIdString, 0, length)\r\n    spanId(spanIdLong)\r\n    if (spanIdLong == 0L) {\r\n        if (isAllZeros(spanIdString, 0, length)) {\r\n            Platform.get().log(&quot;Invalid input: spanId was all zeros&quot;, null)\r\n            return false\r\n        }\r\n        Platform.get().log(&quot;{0} is not a lower-hex string&quot;, spanIdString, null)\r\n        return false\r\n    }\r\n    return true\r\n}\r\n\r\nprivate fun TraceContext.Builder.fillTraceId(traceIdString: String?, key: String): Boolean {\r\n    if (traceIdString == null) return false\r\n    val length = traceIdString.length\r\n    if (isIdLengthInvalid(key, length, 32)) return false\r\n    var traceIdHighAllZeros = false\r\n    var traceIdAllZeros = false\r\n    // left-most characters, if any, are the high bits\r\n    val traceIdIndex = Math.max(0, length - 16)\r\n    var traceIdHigh = 0L\r\n    if (traceIdIndex &gt; 0) {\r\n        traceIdHigh = HexCodec.lenientLowerHexToUnsignedLong(traceIdString, 0, traceIdIndex)\r\n        traceIdHigh(HexCodec.lenientLowerHexToUnsignedLong(traceIdString, 0, traceIdIndex))\r\n        if (traceIdHigh == 0L) {\r\n            traceIdHighAllZeros = isAllZeros(traceIdString, 0, traceIdIndex)\r\n            if (!traceIdHighAllZeros) {\r\n                Platform.get().log(&quot;{0} is not a lower-hex string&quot;, traceIdString, null)\r\n                return false\r\n            }\r\n        }\r\n    } else {\r\n        traceIdHighAllZeros = true\r\n    }\r\n\r\n    // right-most up to 16 characters are the low bits\r\n    val traceIdLong = HexCodec.lenientLowerHexToUnsignedLong(traceIdString, traceIdIndex, length)\r\n    traceId(HexCodec.lenientLowerHexToUnsignedLong(traceIdString, traceIdIndex, length))\r\n    if (traceIdLong == 0L) {\r\n        traceIdAllZeros = isAllZeros(traceIdString, traceIdIndex, length)\r\n        if (!traceIdAllZeros) {\r\n            Platform.get().log(&quot;{0} is not a lower-hex string&quot;, traceIdString, null)\r\n            return false\r\n        }\r\n    }\r\n    if (traceIdHighAllZeros &amp;&amp; traceIdAllZeros) {\r\n        Platform.get().log(&quot;Invalid input: traceId was all zeros&quot;, null)\r\n    }\r\n    return traceIdHigh != 0L || traceIdLong != 0L\r\n}\r\n\r\nfun isIdLengthInvalid(key: String, length: Int, max: Int): Boolean {\r\n    if (length &gt; 1 &amp;&amp; length &lt;= max) return false\r\n    Platform.get().log(\r\n        if (max == 32) &quot;{0} should be a 1 to 32 character lower-hex string with no prefix&quot; else &quot;{0} should be a 1 to 16 character lower-hex string with no prefix&quot;,\r\n        key,\r\n        null\r\n    )\r\n\r\n    return true\r\n}\r\n\r\nfun isAllZeros(value: String, beginIndex: Int, endIndex: Int): Boolean {\r\n    for (i in beginIndex until endIndex) {\r\n        if (value[i] != &#39;0&#39;) return false\r\n    }\r\n    return true\r\n}\r\n```\r\nHere is properties:\r\n\r\n```\r\nspring.sleuth.baggage.remote-fields=kek\r\nspring.sleuth.baggage.correlation-fields=kek\r\nspring.sleuth.baggage.tag-fields=kek\r\nspring.sleuth.propagation.type=custom\r\n```\r\n                    \r\nHere is logback pattern\r\n```\r\n                    &lt;pattern&gt;[%d{yyyy-MM-dd HH:mm:ss.SSS}] [%X{traceId:-}/%X{spanId:-}] [%X{kek:-}] %highlight(%-5level) %cyan(%-40.40logger{39}) : %message %n%whitespace_exception&lt;/pattern&gt;\r\n\r\n```\r\n\r\nWhen i comment out CustomPropagator it works as expected, the &quot;kek&quot; header value appers in logs.\r\nBut when CustomPropagator in context only traceid and spanid appears in logs\r\n\r\nAbout versions:\r\n\r\n    &lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\r\n    \r\n    &lt;spring-boot-starter-parent.version&gt;2.4.5&lt;/spring-boot-starter-parent.version&gt;\r\n\r\n","title":"Spring cloud sleuth baggage propagation not working when custom propagation mechanism implemented","body":"<p>I implemented custom propagation mechanism since i want to use another header names(not x-b3-traceid) for tracing.</p>\n<p>After that i decided to use baggage to propagate some additional fields.</p>\n<p>Out of the box, spring use composite propagation, tracing starts from BaggagePropagation, after delegates to B3Propagation. So how can i repeat that behavior but instead of using B3Propagation use my own implementation?</p>\n<p>Here is my propagator impleementation</p>\n<pre><code>package com.example.demo\n\nimport brave.internal.Platform\nimport brave.internal.codec.HexCodec\nimport brave.internal.propagation.StringPropagationAdapter\nimport brave.propagation.Propagation\nimport brave.propagation.TraceContext\nimport brave.propagation.TraceContextOrSamplingFlags\nimport org.springframework.stereotype.Component\n\n@Component\nclass CustomPropagator :\n    Propagation.Factory(),\n    Propagation&lt;String&gt; {\n\n    override fun keys(): List&lt;String&gt; {\n        return HEADER_KEYS\n    }\n\n    override fun &lt;R&gt; injector(setter: Propagation.Setter&lt;R, String&gt;): TraceContext.Injector&lt;R&gt; {\n        return TraceContext.Injector { traceContext: TraceContext, request: R -&gt;\n            setter.put(request, ApplicationHeaders.TRACE_ID, traceContext.traceIdString())\n            setter.put(request, ApplicationHeaders.SPAN_ID, traceContext.spanIdString())\n            val parentId: String = traceContext.parentIdString()\n            if (!parentId.isEmpty()) setter.put(request, B3_PARENT_SPAN_ID, parentId)\n            if (traceContext.debug()) {\n                setter.put(request, B3_FLAGS, &quot;1&quot;)\n            } else if (traceContext.sampled() != null) {\n                setter.put(request, B3_SAMPLED, if (traceContext.sampled()) &quot;1&quot; else &quot;0&quot;)\n            }\n        }\n    }\n\n    override fun &lt;R&gt; extractor(getter: Propagation.Getter&lt;R, String&gt;): TraceContext.Extractor&lt;R&gt; {\n\n        return TraceContext.Extractor { request: R -&gt;\n            if (request == null) throw NullPointerException(&quot;request == null&quot;)\n            val sampled = getter[request, B3_SAMPLED]\n            val sampledV: Boolean?\n            sampledV = if (sampled == null) {\n                null // defer decision\n            } else if (sampled.length == 1) { // handle fast valid paths\n                val sampledC = sampled[0]\n                if (sampledC == '1') {\n                    true\n                } else if (sampledC == '0') {\n                    false\n                } else {\n                    // todo\n                    Platform.get().log(B3_SAMPLED_MALFORMED, sampled, null)\n                    return@Extractor TraceContextOrSamplingFlags.EMPTY // trace context is malformed so return empty\n                }\n            } else if (sampled.equals(&quot;true&quot;, ignoreCase = true)) { // old clients\n                true\n            } else if (sampled.equals(&quot;false&quot;, ignoreCase = true)) { // old clients\n                false\n            } else {\n                Platform.get().log(B3_SAMPLED_MALFORMED, sampled, null)\n                return@Extractor TraceContextOrSamplingFlags.EMPTY // Restart trace instead of propagating false\n            }\n\n            // The only flag we action is 1, but it could be that any integer is present.\n            // Here, we leniently parse as debug is not a primary consideration of the trace context.\n            val debug = &quot;1&quot; == getter[request, B3_FLAGS]\n\n            val traceIdString = getter[request, B3_TRACE_ID] ?: getter[request, ApplicationHeaders.TRACE_ID]\n            val spanIdString = getter[request, B3_SPAN_ID] ?: getter[request, ApplicationHeaders.SPAN_ID]\n\n            // It is ok to go without a trace ID, if sampling or debug is set\n            if (traceIdString == null) {\n                if (debug) return@Extractor TraceContextOrSamplingFlags.DEBUG\n                if (sampledV != null) {\n                    return@Extractor if (sampledV) TraceContextOrSamplingFlags.SAMPLED else TraceContextOrSamplingFlags.NOT_SAMPLED\n                }\n            }\n\n            // Try to parse the trace IDs into the context\n            val traceContextBuilder = TraceContext.newBuilder()\n            val traceIdFilled = traceContextBuilder.fillTraceId(traceIdString, &quot;trace id&quot;)\n            val spanIdFilled = traceContextBuilder.fillSpanId(spanIdString, &quot;span id&quot;)\n            val parentIdFilled = traceContextBuilder.fillParentId(getter, request, &quot;parent id&quot;)\n            if (traceIdFilled &amp;&amp; spanIdFilled &amp;&amp; parentIdFilled) {\n                if (sampledV != null) traceContextBuilder.sampled(sampledV)\n                if (debug) traceContextBuilder.debug(true)\n                return@Extractor TraceContextOrSamplingFlags.create(traceContextBuilder.build())\n            }\n\n            return@Extractor TraceContextOrSamplingFlags.EMPTY\n        }\n    }\n\n    override fun &lt;K&gt; create(keyFactory: Propagation.KeyFactory&lt;K&gt;): Propagation&lt;K&gt; {\n        return StringPropagationAdapter.create(this, keyFactory)\n    }\n\n    companion object {\n        const val B3_TRACE_ID = &quot;X-B3-TraceId&quot;\n        const val B3_SPAN_ID = &quot;X-B3-SpanId&quot;\n        const val B3_PARENT_SPAN_ID = &quot;X-B3-ParentSpanId&quot;\n        const val B3_SAMPLED = &quot;X-B3-Sampled&quot;\n        const val B3_SAMPLED_MALFORMED = &quot;Invalid input: expected 0 or 1 for $B3_SAMPLED, but found '{0}'&quot;\n        const val B3_FLAGS = &quot;X-B3-Flags&quot;\n        val HEADER_KEYS = listOf&lt;String&gt;(\n            B3_TRACE_ID,\n            B3_SPAN_ID,\n            B3_PARENT_SPAN_ID,\n            B3_SAMPLED,\n            B3_FLAGS,\n            &quot;X-trace-id&quot;\n            &quot;X-span-id&quot;\n        )\n    }\n}\n\nprivate fun &lt;R&gt; TraceContext.Builder.fillParentId(\n    getter: Propagation.Getter&lt;R, String&gt;,\n    request: R,\n    key: String\n): Boolean {\n    val parentIdString = getter[request, key] ?: return true\n    // absent parent is ok\n\n    val length = parentIdString.length\n    if (isIdLengthInvalid(key, length, 16)) return false\n\n    val parentIdLong = HexCodec.lenientLowerHexToUnsignedLong(parentIdString, 0, length)\n    parentId(parentIdLong)\n    if (parentIdLong != 0L) return true\n    Platform.get().log(&quot;{0} is not a lower-hex string&quot;, parentIdString, null)\n    return false\n}\n\nprivate fun TraceContext.Builder.fillSpanId(spanIdString: String?, key: String): Boolean {\n    if (spanIdString == null) return false\n    val length = spanIdString.length\n    if (isIdLengthInvalid(key, length, 16)) return false\n\n    val spanIdLong = HexCodec.lenientLowerHexToUnsignedLong(spanIdString, 0, length)\n    spanId(spanIdLong)\n    if (spanIdLong == 0L) {\n        if (isAllZeros(spanIdString, 0, length)) {\n            Platform.get().log(&quot;Invalid input: spanId was all zeros&quot;, null)\n            return false\n        }\n        Platform.get().log(&quot;{0} is not a lower-hex string&quot;, spanIdString, null)\n        return false\n    }\n    return true\n}\n\nprivate fun TraceContext.Builder.fillTraceId(traceIdString: String?, key: String): Boolean {\n    if (traceIdString == null) return false\n    val length = traceIdString.length\n    if (isIdLengthInvalid(key, length, 32)) return false\n    var traceIdHighAllZeros = false\n    var traceIdAllZeros = false\n    // left-most characters, if any, are the high bits\n    val traceIdIndex = Math.max(0, length - 16)\n    var traceIdHigh = 0L\n    if (traceIdIndex &gt; 0) {\n        traceIdHigh = HexCodec.lenientLowerHexToUnsignedLong(traceIdString, 0, traceIdIndex)\n        traceIdHigh(HexCodec.lenientLowerHexToUnsignedLong(traceIdString, 0, traceIdIndex))\n        if (traceIdHigh == 0L) {\n            traceIdHighAllZeros = isAllZeros(traceIdString, 0, traceIdIndex)\n            if (!traceIdHighAllZeros) {\n                Platform.get().log(&quot;{0} is not a lower-hex string&quot;, traceIdString, null)\n                return false\n            }\n        }\n    } else {\n        traceIdHighAllZeros = true\n    }\n\n    // right-most up to 16 characters are the low bits\n    val traceIdLong = HexCodec.lenientLowerHexToUnsignedLong(traceIdString, traceIdIndex, length)\n    traceId(HexCodec.lenientLowerHexToUnsignedLong(traceIdString, traceIdIndex, length))\n    if (traceIdLong == 0L) {\n        traceIdAllZeros = isAllZeros(traceIdString, traceIdIndex, length)\n        if (!traceIdAllZeros) {\n            Platform.get().log(&quot;{0} is not a lower-hex string&quot;, traceIdString, null)\n            return false\n        }\n    }\n    if (traceIdHighAllZeros &amp;&amp; traceIdAllZeros) {\n        Platform.get().log(&quot;Invalid input: traceId was all zeros&quot;, null)\n    }\n    return traceIdHigh != 0L || traceIdLong != 0L\n}\n\nfun isIdLengthInvalid(key: String, length: Int, max: Int): Boolean {\n    if (length &gt; 1 &amp;&amp; length &lt;= max) return false\n    Platform.get().log(\n        if (max == 32) &quot;{0} should be a 1 to 32 character lower-hex string with no prefix&quot; else &quot;{0} should be a 1 to 16 character lower-hex string with no prefix&quot;,\n        key,\n        null\n    )\n\n    return true\n}\n\nfun isAllZeros(value: String, beginIndex: Int, endIndex: Int): Boolean {\n    for (i in beginIndex until endIndex) {\n        if (value[i] != '0') return false\n    }\n    return true\n}\n</code></pre>\n<p>Here is properties:</p>\n<pre><code>spring.sleuth.baggage.remote-fields=kek\nspring.sleuth.baggage.correlation-fields=kek\nspring.sleuth.baggage.tag-fields=kek\nspring.sleuth.propagation.type=custom\n</code></pre>\n<p>Here is logback pattern</p>\n<pre><code>                    &lt;pattern&gt;[%d{yyyy-MM-dd HH:mm:ss.SSS}] [%X{traceId:-}/%X{spanId:-}] [%X{kek:-}] %highlight(%-5level) %cyan(%-40.40logger{39}) : %message %n%whitespace_exception&lt;/pattern&gt;\n\n</code></pre>\n<p>When i comment out CustomPropagator it works as expected, the &quot;kek&quot; header value appers in logs.\nBut when CustomPropagator in context only traceid and spanid appears in logs</p>\n<p>About versions:</p>\n<pre><code>&lt;spring-cloud.version&gt;2020.0.3&lt;/spring-cloud.version&gt;\n\n&lt;spring-boot-starter-parent.version&gt;2.4.5&lt;/spring-boot-starter-parent.version&gt;\n</code></pre>\n"},{"tags":["java","android","in-app-billing","android-inapp-purchase"],"comments":[{"owner":{"account_id":3442581,"reputation":721,"user_id":2884158,"display_name":"MRK"},"score":2,"creation_date":1434008339,"post_id":27242746,"comment_id":49599622,"body_markdown":"Did you find a solution to this problem? I have the exact same problem, in fact my published version also has this problem. So purchases go through but my OnIabPurchaseFinishedListener is never called, so the purchase is never activated immediately. The funny part is that the purchase is registered on the Google server, so if the user re-opens the app, he can see the purchase.","body":"Did you find a solution to this problem? I have the exact same problem, in fact my published version also has this problem. So purchases go through but my OnIabPurchaseFinishedListener is never called, so the purchase is never activated immediately. The funny part is that the purchase is registered on the Google server, so if the user re-opens the app, he can see the purchase."},{"owner":{"account_id":5215531,"reputation":788,"user_id":4170616,"accept_rate":98,"display_name":"gogonapel"},"score":0,"creation_date":1434969568,"post_id":27242746,"comment_id":49986035,"body_markdown":"Any luck thus far, MRK?","body":"Any luck thus far, MRK?"},{"owner":{"account_id":4085886,"reputation":5535,"user_id":3355173,"accept_rate":57,"display_name":"kgandroid"},"score":0,"creation_date":1436256880,"post_id":27242746,"comment_id":50521598,"body_markdown":"Did you find the solution??","body":"Did you find the solution??"},{"owner":{"account_id":5420600,"reputation":811,"user_id":4314334,"display_name":"lordian"},"score":0,"creation_date":1436345494,"post_id":27242746,"comment_id":50567466,"body_markdown":"Whenever I create the list of things to buy using the adapter, I go through the items bought but not consumed, and consume it before generating the list.  This way, I can assure that all items are consumed whenever the user checks the list.  We record the purchased items of the user in our own backend so consuming items does not have much bearing on the items shown to the user.","body":"Whenever I create the list of things to buy using the adapter, I go through the items bought but not consumed, and consume it before generating the list.  This way, I can assure that all items are consumed whenever the user checks the list.  We record the purchased items of the user in our own backend so consuming items does not have much bearing on the items shown to the user."},{"owner":{"account_id":2138149,"reputation":5531,"user_id":1897423,"accept_rate":57,"display_name":"Lingviston"},"score":0,"creation_date":1441961652,"post_id":27242746,"comment_id":52896518,"body_markdown":"I have exactly the same issue. Suddenly it stopped working in all of my published apps which were using the same IAB implementation based in TrivialDrive example.","body":"I have exactly the same issue. Suddenly it stopped working in all of my published apps which were using the same IAB implementation based in TrivialDrive example."},{"owner":{"account_id":2393141,"reputation":13869,"user_id":2092587,"display_name":"Trinimon"},"score":0,"creation_date":1456933370,"post_id":27242746,"comment_id":59176751,"body_markdown":"Did anybody find what what went wrong? I&#39;ve the same issue :(","body":"Did anybody find what what went wrong? I&#39;ve the same issue :("},{"owner":{"account_id":3788825,"reputation":23829,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"score":0,"creation_date":1551262943,"post_id":27242746,"comment_id":96573431,"body_markdown":"Can you please post some of the related code? Is there any place where you passed an object between two activities or as parameters?","body":"Can you please post some of the related code? Is there any place where you passed an object between two activities or as parameters?"},{"owner":{"account_id":11181138,"reputation":383,"user_id":9537944,"display_name":"Divyansh Jain"},"score":0,"creation_date":1570362384,"post_id":27242746,"comment_id":102882787,"body_markdown":"Try to follow this answer on Stack Overflow: http://stackoverflow.com/a/35132936/521097","body":"Try to follow this answer on Stack Overflow: <a href=\"http://stackoverflow.com/a/35132936/521097\">stackoverflow.com/a/35132936/521097</a>"},{"owner":{"account_id":3829184,"reputation":649,"user_id":3175251,"display_name":"RoyalBigMack"},"score":2,"creation_date":1644506437,"post_id":27242746,"comment_id":125629829,"body_markdown":"How do you expect to get any answers without releasing _any_ code/example? the log is useless without some context","body":"How do you expect to get any answers without releasing <i>any</i> code/example? the log is useless without some context"},{"owner":{"account_id":24548949,"reputation":977,"user_id":18458353,"display_name":"Charfeddine Mohamed Ali"},"score":0,"creation_date":1649551077,"post_id":27242746,"comment_id":126904204,"body_markdown":"isn&#39;t this the same case ? https://stackoverflow.com/questions/28589509/android-e-parcel-class-not-found-when-unmarshalling-only-on-samsung-tab3","body":"isn&#39;t this the same case ? <a href=\"https://stackoverflow.com/questions/28589509/android-e-parcel-class-not-found-when-unmarshalling-only-on-samsung-tab3\" title=\"android e parcel class not found when unmarshalling only on samsung tab3\">stackoverflow.com/questions/28589509/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":173785,"reputation":930,"user_id":402723,"display_name":"Raul Lapeira Herrero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653640170,"creation_date":1649573383,"answer_id":71814367,"question_id":27242746,"body_markdown":"This problem has been making the rounds in stackoverflow, if [this issue is correct][1] it is related with some wrong reflection that tries to load a class that is not present when a parameter is null in your code\r\n\r\n&gt; It looks like there may be a race condition between PurchaseAsync and\r\n&gt; the HandleActivityResult callback. tcsPurchase is being set after the\r\n&gt; call to serviceConnection.Service.GetBuyIntent which I think allows\r\n&gt; the HandleActivityResult call happen while tcsPurchase is still null.\r\n&gt; When I pass an empty string for the &quot;payload&quot;, it gets deserialized as\r\n&gt; null, causing the comparison to fail when checking for success.\r\n\r\nSo make sure the payload is not null before calling that method.\r\n\r\n[1]: https://github.com/jamesmontemagno/InAppBillingPlugin/issues/41","title":"Successful purchase but has &quot;Class not found&quot; when unmarshalling: com.google.android.finsky.billing.lightpurchase.PurchaseParams","body":"<p>This problem has been making the rounds in stackoverflow, if <a href=\"https://github.com/jamesmontemagno/InAppBillingPlugin/issues/41\" rel=\"nofollow noreferrer\">this issue is correct</a> it is related with some wrong reflection that tries to load a class that is not present when a parameter is null in your code</p>\n<blockquote>\n<p>It looks like there may be a race condition between PurchaseAsync and\nthe HandleActivityResult callback. tcsPurchase is being set after the\ncall to serviceConnection.Service.GetBuyIntent which I think allows\nthe HandleActivityResult call happen while tcsPurchase is still null.\nWhen I pass an empty string for the &quot;payload&quot;, it gets deserialized as\nnull, causing the comparison to fail when checking for success.</p>\n</blockquote>\n<p>So make sure the payload is not null before calling that method.</p>\n"}],"owner":{"account_id":5420600,"reputation":811,"user_id":4314334,"display_name":"lordian"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3336,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"answer_count":1,"score":77,"last_activity_date":1653640170,"creation_date":1417499469,"question_id":27242746,"body_markdown":"I have an app with In-App Billing in its Adapter (list of items to buy).  I am having a problem during testing of the in-App Billing. \r\n\r\nEverything works fine - The user is able to go through the whole purchase process.  &quot;Successful Purchase&quot; is shown at the end of the Purchase Flow and there is an email being sent to the user confirming their purchase.  \r\n\r\nHowever, the item does not seem to be consumed and my server call to add the item to the user is not being called.  Upon checking the logs, I see this error  \r\n\r\n    12-02 13:04:47.701 29663 29663 D IabHelper: Launching buy intent for xxxxxxxxxxx. Request code: 10001\r\n    12-02 13:04:47.701  2450  3128 D EnterpriseDeviceManager: ContainerId: 0\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : Class not found when unmarshalling: com.google.android.finsky.billing.lightpurchase.PurchaseParams\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : java.lang.ClassNotFoundException: com.google.android.finsky.billing.lightpurchase.PurchaseParams\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat java.lang.Class.classForName(Native Method)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat java.lang.Class.forName(Class.java:251)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat java.lang.Class.forName(Class.java:216)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat android.os.Parcel.readParcelableCreator(Parcel.java:2133)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat android.os.Parcel.readParcelable(Parcel.java:2097)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat android.os.Parcel.readValue(Parcel.java:2013)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat android.os.Parcel.readArrayMapInternal(Parcel.java:2314)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat android.os.Bundle.unparcel(Bundle.java:249)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat android.os.Bundle.getString(Bundle.java:1118)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat android.content.Intent.getStringExtra(Intent.java:5145)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat com.android.server.am.ActivityStackSupervisor.startActivityLocked(ActivityStackSupervisor.java:1467)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat com.android.server.am.ActivityStackSupervisor.startActivityMayWait(ActivityStackSupervisor.java:1063)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat com.android.server.am.ActivityManagerService.startActivityInPackage(ActivityManagerService.java:4313)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat com.android.server.am.PendingIntentRecord.sendInner(PendingIntentRecord.java:254)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat com.android.server.am.ActivityManagerService.startActivityIntentSender(ActivityManagerService.java:4194)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat android.app.ActivityManagerNative.onTransact(ActivityManagerNative.java:260)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat com.android.server.am.ActivityManagerService.onTransact(ActivityManagerService.java:2645)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat android.os.Binder.execTransact(Binder.java:404)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat dalvik.system.NativeStart.run(Native Method)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : Caused by: java.lang.NoClassDefFoundError: com/google/android/finsky/billing/lightpurchase/PurchaseParams\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \t... 19 more\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.android.finsky.billing.lightpurchase.PurchaseParams&quot; on path: DexPathList[[directory &quot;.&quot;],nativeLibraryDirectories=[/vendor/lib, /system/lib]]\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:67)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat java.lang.ClassLoader.loadClass(ClassLoader.java:497)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \tat java.lang.ClassLoader.loadClass(ClassLoader.java:457)\r\n    12-02 13:04:47.711  2450  3128 E Parcel  : \t... 19 more\r\n    12-02 13:04:47.711  2450  3128 V ApplicationPolicy: isApplicationStateBlocked userId 0 pkgname com.android.vending","title":"Successful purchase but has &quot;Class not found&quot; when unmarshalling: com.google.android.finsky.billing.lightpurchase.PurchaseParams","body":"<p>I have an app with In-App Billing in its Adapter (list of items to buy).  I am having a problem during testing of the in-App Billing.</p>\n<p>Everything works fine - The user is able to go through the whole purchase process.  &quot;Successful Purchase&quot; is shown at the end of the Purchase Flow and there is an email being sent to the user confirming their purchase.</p>\n<p>However, the item does not seem to be consumed and my server call to add the item to the user is not being called.  Upon checking the logs, I see this error</p>\n<pre><code>12-02 13:04:47.701 29663 29663 D IabHelper: Launching buy intent for xxxxxxxxxxx. Request code: 10001\n12-02 13:04:47.701  2450  3128 D EnterpriseDeviceManager: ContainerId: 0\n12-02 13:04:47.711  2450  3128 E Parcel  : Class not found when unmarshalling: com.google.android.finsky.billing.lightpurchase.PurchaseParams\n12-02 13:04:47.711  2450  3128 E Parcel  : java.lang.ClassNotFoundException: com.google.android.finsky.billing.lightpurchase.PurchaseParams\n12-02 13:04:47.711  2450  3128 E Parcel  :  at java.lang.Class.classForName(Native Method)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at java.lang.Class.forName(Class.java:251)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at java.lang.Class.forName(Class.java:216)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at android.os.Parcel.readParcelableCreator(Parcel.java:2133)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at android.os.Parcel.readParcelable(Parcel.java:2097)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at android.os.Parcel.readValue(Parcel.java:2013)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at android.os.Parcel.readArrayMapInternal(Parcel.java:2314)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at android.os.Bundle.unparcel(Bundle.java:249)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at android.os.Bundle.getString(Bundle.java:1118)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at android.content.Intent.getStringExtra(Intent.java:5145)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at com.android.server.am.ActivityStackSupervisor.startActivityLocked(ActivityStackSupervisor.java:1467)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at com.android.server.am.ActivityStackSupervisor.startActivityMayWait(ActivityStackSupervisor.java:1063)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at com.android.server.am.ActivityManagerService.startActivityInPackage(ActivityManagerService.java:4313)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at com.android.server.am.PendingIntentRecord.sendInner(PendingIntentRecord.java:254)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at com.android.server.am.ActivityManagerService.startActivityIntentSender(ActivityManagerService.java:4194)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at android.app.ActivityManagerNative.onTransact(ActivityManagerNative.java:260)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at com.android.server.am.ActivityManagerService.onTransact(ActivityManagerService.java:2645)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at android.os.Binder.execTransact(Binder.java:404)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at dalvik.system.NativeStart.run(Native Method)\n12-02 13:04:47.711  2450  3128 E Parcel  : Caused by: java.lang.NoClassDefFoundError: com/google/android/finsky/billing/lightpurchase/PurchaseParams\n12-02 13:04:47.711  2450  3128 E Parcel  :  ... 19 more\n12-02 13:04:47.711  2450  3128 E Parcel  : Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.google.android.finsky.billing.lightpurchase.PurchaseParams&quot; on path: DexPathList[[directory &quot;.&quot;],nativeLibraryDirectories=[/vendor/lib, /system/lib]]\n12-02 13:04:47.711  2450  3128 E Parcel  :  at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:67)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at java.lang.ClassLoader.loadClass(ClassLoader.java:497)\n12-02 13:04:47.711  2450  3128 E Parcel  :  at java.lang.ClassLoader.loadClass(ClassLoader.java:457)\n12-02 13:04:47.711  2450  3128 E Parcel  :  ... 19 more\n12-02 13:04:47.711  2450  3128 V ApplicationPolicy: isApplicationStateBlocked userId 0 pkgname com.android.vending\n</code></pre>\n"},{"tags":["java","xml","spring-boot","jmx","spring-jmx"],"answers":[{"tags":[],"owner":{"account_id":4809798,"reputation":372,"user_id":3883598,"accept_rate":56,"display_name":"paul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653639514,"creation_date":1653639514,"answer_id":72402464,"question_id":72402306,"body_markdown":"Setting `spring.jmx.enabled=true` in `application.properties` file is the solution.\r\nThey have disabled it by default in newer versions including `2.5.0`.\r\n\r\nReference: https://github.com/spring-projects/spring-boot/issues/16090","title":"Why is Spring Boot 2.5.0 JMX Beans not showing in JConsole","body":"<p>Setting <code>spring.jmx.enabled=true</code> in <code>application.properties</code> file is the solution.\nThey have disabled it by default in newer versions including <code>2.5.0</code>.</p>\n<p>Reference: <a href=\"https://github.com/spring-projects/spring-boot/issues/16090\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/16090</a></p>\n"}],"owner":{"account_id":4809798,"reputation":372,"user_id":3883598,"accept_rate":56,"display_name":"paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":926,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72402464,"answer_count":1,"score":1,"last_activity_date":1653639514,"creation_date":1653638683,"question_id":72402306,"body_markdown":"Using Spring Boot `2.1.6.RELEASE` for JMX Beans are working correctly or they are shown in Jconsole but in `2.5.0` it does not. The following is my simple application using spring boot 2.5.0.\r\n\r\nIf you want to try version 2.1.6.RELEASE, just change the spring-boot-starter-parent version to 2.1.6.RELEASE and the JMX Beans will work.\r\n\r\npom.xml:\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nDemoApplication.java\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n    \r\n            System.out.print(&quot;Press [ENTER] to quit:&quot;);\r\n            System.in.read();\r\n        }\r\n    }\r\n\r\nJmxEndpoint.java\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.jmx.export.annotation.ManagedOperation;\r\n    import org.springframework.jmx.export.annotation.ManagedResource;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    @ManagedResource\r\n    public class JmxEndpoint {\r\n        @ManagedOperation\r\n        public void printMessage() {\r\n        }\r\n    }\r\n\r\n","title":"Why is Spring Boot 2.5.0 JMX Beans not showing in JConsole","body":"<p>Using Spring Boot <code>2.1.6.RELEASE</code> for JMX Beans are working correctly or they are shown in Jconsole but in <code>2.5.0</code> it does not. The following is my simple application using spring boot 2.5.0.</p>\n<p>If you want to try version 2.1.6.RELEASE, just change the spring-boot-starter-parent version to 2.1.6.RELEASE and the JMX Beans will work.</p>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>DemoApplication.java</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport java.io.IOException;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) throws IOException {\n        SpringApplication.run(DemoApplication.class, args);\n\n        System.out.print(&quot;Press [ENTER] to quit:&quot;);\n        System.in.read();\n    }\n}\n</code></pre>\n<p>JmxEndpoint.java</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.jmx.export.annotation.ManagedOperation;\nimport org.springframework.jmx.export.annotation.ManagedResource;\nimport org.springframework.stereotype.Component;\n\n@Component\n@ManagedResource\npublic class JmxEndpoint {\n    @ManagedOperation\n    public void printMessage() {\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635450189,"creation_date":1635450189,"answer_id":69760016,"question_id":69759608,"body_markdown":"In order to get what you are looking for you should change the logics of your code.  \r\nOne of the possible ways to do it can be as following:\r\n1) Collect al the elements texts into a list.\r\n2) iterate over the texts. In case the desired text is found - print the corresponding output. If that text was not found - print the other output.  \r\nSee the code example below\r\n```java\r\nList&lt;WebElement&gt; list = driver.findElements(By.xpath(&quot;Abc&quot;));\r\nList&lt;String&gt; texts = new ArrayList&lt;&gt;();\r\nfor(WebElement element : list){\r\n    texts.put(element.getText());\r\n}\r\nboolean found = false;\r\nfor(String str: texts) {\r\nif(str.trim().contains(&quot;Newly Created From Automation&quot;)){\r\n    logger.info(&quot;Unable to delete Saved Filter Successfully&quot;);\r\n    found = true;\r\n}\r\nif(!found){\r\n    logger.info(&quot;Filter deleted successfully&quot;);\r\n}\r\n```","title":"after deleting an item and check if the item was successfully deleted and print the information only once","body":"<p>In order to get what you are looking for you should change the logics of your code.<br />\nOne of the possible ways to do it can be as following:</p>\n<ol>\n<li>Collect al the elements texts into a list.</li>\n<li>iterate over the texts. In case the desired text is found - print the corresponding output. If that text was not found - print the other output.<br />\nSee the code example below</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;WebElement&gt; list = driver.findElements(By.xpath(&quot;Abc&quot;));\nList&lt;String&gt; texts = new ArrayList&lt;&gt;();\nfor(WebElement element : list){\n    texts.put(element.getText());\n}\nboolean found = false;\nfor(String str: texts) {\nif(str.trim().contains(&quot;Newly Created From Automation&quot;)){\n    logger.info(&quot;Unable to delete Saved Filter Successfully&quot;);\n    found = true;\n}\nif(!found){\n    logger.info(&quot;Filter deleted successfully&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635450227,"creation_date":1635450227,"answer_id":69760024,"question_id":69759608,"body_markdown":"You can simply use a for each loop like this :\r\n\r\n\r\n\tList&lt;WebElement&gt; list = driver.findElements(By.xpath(&quot;Abc&quot;));\r\n\tfor(WebElement element : list) {\r\n\t\tif(element.getText().equals(&quot;Newly Created From Automation&quot;)) {\r\n\t\t\tSystem.out.println(&quot;WebElement text matched with Newly Created From Automatio&quot;);\r\n\t\t\tlogger.info(&quot;Unable to delete Saved Filter Successfully&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;For WebElement&quot; + element.getAttribute(&quot;innerHTML&quot;) + &quot; seems like it does not have Newly Created From Automation&quot;);\r\n\t\t\tlogger.info(&quot;Filter deleted successfully&quot;);\r\n\t\t}\r\n\t}\r\n\r\nIt quite equivalent to what you already have, \r\n\r\n\r\nbut your for loop should be like this :\r\n\r\n\r\n    for (int i = 0; i&lt; list.size(); i++) {\r\n\r\nnot \r\n\r\n    for (int i = 0; i&lt; list; i++) {","title":"after deleting an item and check if the item was successfully deleted and print the information only once","body":"<p>You can simply use a for each loop like this :</p>\n<pre><code>List&lt;WebElement&gt; list = driver.findElements(By.xpath(&quot;Abc&quot;));\nfor(WebElement element : list) {\n    if(element.getText().equals(&quot;Newly Created From Automation&quot;)) {\n        System.out.println(&quot;WebElement text matched with Newly Created From Automatio&quot;);\n        logger.info(&quot;Unable to delete Saved Filter Successfully&quot;);\n    }\n    else {\n        System.out.println(&quot;For WebElement&quot; + element.getAttribute(&quot;innerHTML&quot;) + &quot; seems like it does not have Newly Created From Automation&quot;);\n        logger.info(&quot;Filter deleted successfully&quot;);\n    }\n}\n</code></pre>\n<p>It quite equivalent to what you already have,</p>\n<p>but your for loop should be like this :</p>\n<pre><code>for (int i = 0; i&lt; list.size(); i++) {\n</code></pre>\n<p>not</p>\n<pre><code>for (int i = 0; i&lt; list; i++) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635450527,"creation_date":1635450527,"answer_id":69760081,"question_id":69759608,"body_markdown":" Use Stream API `allMatch` to check if all the web element texts have the value `&quot;Newly Created From Automation&quot;` and if it is true print the message `&quot;Filter deleted successfully&quot;` else print `&quot;Unable to delete Saved Filter Successfully&quot;`:\r\n\r\n    boolean filterDeleted = list.stream().allMatch(webElement -&gt; \r\n        webElement.getText().equals(&quot;Newly Created From Automation&quot;));\r\n\r\n        if(filterDeleted)){\r\n            logger.info(&quot;Filter deleted successfully&quot;); \r\n        }else{\r\n            logger.info(&quot;Unable to delete Saved Filter Successfully&quot;);\r\n        }","title":"after deleting an item and check if the item was successfully deleted and print the information only once","body":"<p>Use Stream API <code>allMatch</code> to check if all the web element texts have the value <code>&quot;Newly Created From Automation&quot;</code> and if it is true print the message <code>&quot;Filter deleted successfully&quot;</code> else print <code>&quot;Unable to delete Saved Filter Successfully&quot;</code>:</p>\n<pre><code>boolean filterDeleted = list.stream().allMatch(webElement -&gt; \n    webElement.getText().equals(&quot;Newly Created From Automation&quot;));\n\n    if(filterDeleted)){\n        logger.info(&quot;Filter deleted successfully&quot;); \n    }else{\n        logger.info(&quot;Unable to delete Saved Filter Successfully&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":15856199,"reputation":81,"user_id":11440528,"display_name":"Abdurehman Siddiqui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":793,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1653639494,"creation_date":1635448098,"question_id":69759608,"body_markdown":"    List&lt;WebElement&gt; list= driver.findElements(By.xpath(&quot;Abc&quot;));\r\n            for (int i = 0; i&lt; list; i++) {\r\n                if (list.get(i).getText().equals(&quot;Newly Created From Automation&quot;)) {\r\n                    logger.info(&quot;Unable to delete Saved Filter Successfully&quot;);\r\n                }\r\n                else {\r\n                    logger.info(&quot;Filter deleted successfully&quot;);\r\n                }\r\n             }\r\n    \r\n    \r\nI want the if condition to check for all elements and print else condition only once, if the if condition is false for all elements, but instead it keeps on printing the code in else for every webElement.","title":"after deleting an item and check if the item was successfully deleted and print the information only once","body":"<pre><code>List&lt;WebElement&gt; list= driver.findElements(By.xpath(&quot;Abc&quot;));\n        for (int i = 0; i&lt; list; i++) {\n            if (list.get(i).getText().equals(&quot;Newly Created From Automation&quot;)) {\n                logger.info(&quot;Unable to delete Saved Filter Successfully&quot;);\n            }\n            else {\n                logger.info(&quot;Filter deleted successfully&quot;);\n            }\n         }\n</code></pre>\n<p>I want the if condition to check for all elements and print else condition only once, if the if condition is false for all elements, but instead it keeps on printing the code in else for every webElement.</p>\n"},{"tags":["java","web-services","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":211184,"reputation":4921,"user_id":463202,"accept_rate":92,"display_name":"Gonzalo Garcia Lasurtegui"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1319662195,"creation_date":1319662195,"answer_id":7908769,"question_id":7908726,"body_markdown":"&gt; For both server and client implementations of handlers using the\r\n&gt; @HandlerChain annotation, you must specify the location of the handler\r\n&gt; configuration as either a relative path from the annotated file or as\r\n&gt; an absolute URL. For example:\r\n\r\n&gt; `@HandlerChain(file=&quot;../../common/handlers/myhandlers.xml&quot;)` \r\n&gt; \r\nor\r\n&gt; \r\n`@HandlerChain(file=&quot;http://foo.com/myhandlers.xml&quot;)`\r\n\r\nTaken from [this][1] doc.\r\n\r\n\r\n  [1]: http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/index.jsp?topic=/com.ibm.websphere.express.doc/info/exp/ae/twbs_jaxwshandler.html\r\n\r\n","title":"How to configure @HandlerChain to point to a handler chain configuration file inside a JAR file?","body":"<blockquote>\n  <p>For both server and client implementations of handlers using the\n  @HandlerChain annotation, you must specify the location of the handler\n  configuration as either a relative path from the annotated file or as\n  an absolute URL. For example:</p>\n  \n  <p><code>@HandlerChain(file=\"../../common/handlers/myhandlers.xml\")</code> </p>\n  \n  <p>or</p>\n  \n  <p><code>@HandlerChain(file=\"http://foo.com/myhandlers.xml\")</code></p>\n</blockquote>\n\n<p>Taken from <a href=\"http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/index.jsp?topic=/com.ibm.websphere.express.doc/info/exp/ae/twbs_jaxwshandler.html\" rel=\"noreferrer\">this</a> doc.</p>\n"},{"tags":[],"owner":{"account_id":2310923,"reputation":189,"user_id":2029064,"display_name":"Vinod Cyriac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359636088,"creation_date":1359636088,"answer_id":14626052,"question_id":7908726,"body_markdown":"handler-chain.xml file must be inside the same classpath or same jar.\r\nYou need to specify the actual location of xml to load.\r\n","title":"How to configure @HandlerChain to point to a handler chain configuration file inside a JAR file?","body":"<p>handler-chain.xml file must be inside the same classpath or same jar.\nYou need to specify the actual location of xml to load.</p>\n"},{"tags":[],"owner":{"account_id":8293092,"reputation":873,"user_id":6234075,"display_name":"Vasudev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574875676,"creation_date":1574875676,"answer_id":59075533,"question_id":7908726,"body_markdown":"If there is no tight dependency on configuration file, you can skip it alltogether and handle everything in the code itself.\r\n\r\n    List&lt;Handler&gt; handlerChain = new ArrayList&lt;&gt;();\r\n    handlerChain.add(new MyHandler());\r\n    ((BindingProvider) port).getBinding().setHandlerChain(handlerChain);\r\n","title":"How to configure @HandlerChain to point to a handler chain configuration file inside a JAR file?","body":"<p>If there is no tight dependency on configuration file, you can skip it alltogether and handle everything in the code itself.</p>\n\n<pre><code>List&lt;Handler&gt; handlerChain = new ArrayList&lt;&gt;();\nhandlerChain.add(new MyHandler());\n((BindingProvider) port).getBinding().setHandlerChain(handlerChain);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14184067,"reputation":612,"user_id":10246652,"display_name":"Hritik Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653639435,"creation_date":1653639435,"answer_id":72402452,"question_id":7908726,"body_markdown":"I noticed when creating a jar, xml file was being excluded. So I moved my xml file to \r\n\r\n    resources/handlers/callbackHandler.xml\r\nand then referred to this file as\r\n\r\n    @HandlerChain(file = &quot;/handlers/callbackHandler.xml&quot;)","title":"How to configure @HandlerChain to point to a handler chain configuration file inside a JAR file?","body":"<p>I noticed when creating a jar, xml file was being excluded. So I moved my xml file to</p>\n<pre><code>resources/handlers/callbackHandler.xml\n</code></pre>\n<p>and then referred to this file as</p>\n<pre><code>@HandlerChain(file = &quot;/handlers/callbackHandler.xml&quot;)\n</code></pre>\n"}],"owner":{"account_id":237034,"reputation":1208,"user_id":504921,"accept_rate":67,"display_name":"Joaquim Oliveira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22694,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1653639435,"creation_date":1319661963,"question_id":7908726,"body_markdown":"Is there a way to reference a handler configuration file (e.g.: handler.xml) that is distributed inside a JAR file?\r\n\r\nSomething like this: `@HandlerChain(file=&quot;somefile.jar&quot;)` or `@HandlerChain(file=&quot;myhandler.xml&quot;)`, assuming that `myhandler.xml` is stored in `somefile.jar`.","title":"How to configure @HandlerChain to point to a handler chain configuration file inside a JAR file?","body":"<p>Is there a way to reference a handler configuration file (e.g.: handler.xml) that is distributed inside a JAR file?</p>\n\n<p>Something like this: <code>@HandlerChain(file=\"somefile.jar\")</code> or <code>@HandlerChain(file=\"myhandler.xml\")</code>, assuming that <code>myhandler.xml</code> is stored in <code>somefile.jar</code>.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":149392,"reputation":23125,"user_id":361842,"accept_rate":87,"display_name":"JohnLBevan"},"score":1,"creation_date":1653639432,"post_id":72402371,"comment_id":127904256,"body_markdown":"To check, do you want matches which are &quot;alphanumeric punctuation alphanumeric&quot; or strings which are made up of alphanumeric strings delimited by single punctuation characters (i.e. so you can have multiple `www.google.com` is valid as well as `www.google` being valid?  E.g. https://regex101.com/r/LVLTFg/1","body":"To check, do you want matches which are &quot;alphanumeric punctuation alphanumeric&quot; or strings which are made up of alphanumeric strings delimited by single punctuation characters (i.e. so you can have multiple <code>www.google.com</code> is valid as well as <code>www.google</code> being valid?  E.g. <a href=\"https://regex101.com/r/LVLTFg/1\" rel=\"nofollow noreferrer\">regex101.com/r/LVLTFg/1</a>"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653639433,"creation_date":1653639433,"answer_id":72402451,"question_id":72402371,"body_markdown":"You need to simplify the regex like this:\r\n```none\r\n(?=\\b((?:\\p{Alnum}+\\p{Punct}){2}\\p{Alnum}+)\\b)\r\n```\r\nSee the [regex demo][1].\r\n\r\n*Details*:\r\n\r\n - `\\b` - a word boundary\r\n - `((?:\\p{Alnum}+\\p{Punct}){2}\\p{Alnum}+)` - Group 1:\r\n   - `(?:\\p{Alnum}+\\p{Punct}){2}` - two occurrences of one or more letters/digits and a punctuation char and then\r\n   - `\\p{Alnum}+` - one or more letters/digits\r\n - `\\b` - a word boundary\r\n\r\nNote that each subsequent pattern does not match at the same location inside the string, which makes it as efficient as it can be (still, the overlapping patterns performance is not that great since they must evaluate each position inside the string, from left to right).\r\n\r\n  [1]: https://regex101.com/r/n6RjzI/1\r\n","title":"Regex taking a lot of time when tested with large data","body":"<p>You need to simplify the regex like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?=\\b((?:\\p{Alnum}+\\p{Punct}){2}\\p{Alnum}+)\\b)\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/n6RjzI/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>\\b</code> - a word boundary</li>\n<li><code>((?:\\p{Alnum}+\\p{Punct}){2}\\p{Alnum}+)</code> - Group 1:\n<ul>\n<li><code>(?:\\p{Alnum}+\\p{Punct}){2}</code> - two occurrences of one or more letters/digits and a punctuation char and then</li>\n<li><code>\\p{Alnum}+</code> - one or more letters/digits</li>\n</ul>\n</li>\n<li><code>\\b</code> - a word boundary</li>\n</ul>\n<p>Note that each subsequent pattern does not match at the same location inside the string, which makes it as efficient as it can be (still, the overlapping patterns performance is not that great since they must evaluate each position inside the string, from left to right).</p>\n"}],"owner":{"account_id":24831066,"reputation":47,"user_id":18784920,"display_name":"DareToDead"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72402451,"answer_count":1,"score":2,"last_activity_date":1653639433,"creation_date":1653639024,"question_id":72402371,"body_markdown":"I have created a java regex \r\n\r\n    (?=\\b((?&lt;![^\\p{Alnum}\\p{Punct}])(?:\\p{Alnum}+\\p{Punct}\\p{Alnum}+){2})\\b)\r\n\r\nI tested this regex against a sample string: https://www.google.com.google.com\r\n\r\nIt is giving me all the expected tokens:\r\n\r\n    www.google.com google.com.google com.google.com\r\n\r\nBut, the issue with the above regex is that it is taking a lot of time when tested with a large string. \r\n\r\nMy expected tokens are in the form of &quot;alphanumeric punctuation alphanumeric&quot;.\r\n\r\nHow can I optimize this regex? \r\n","title":"Regex taking a lot of time when tested with large data","body":"<p>I have created a java regex</p>\n<pre><code>(?=\\b((?&lt;![^\\p{Alnum}\\p{Punct}])(?:\\p{Alnum}+\\p{Punct}\\p{Alnum}+){2})\\b)\n</code></pre>\n<p>I tested this regex against a sample string: <a href=\"https://www.google.com.google.com\" rel=\"nofollow noreferrer\">https://www.google.com.google.com</a></p>\n<p>It is giving me all the expected tokens:</p>\n<pre><code>www.google.com google.com.google com.google.com\n</code></pre>\n<p>But, the issue with the above regex is that it is taking a lot of time when tested with a large string.</p>\n<p>My expected tokens are in the form of &quot;alphanumeric punctuation alphanumeric&quot;.</p>\n<p>How can I optimize this regex?</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"score":3,"creation_date":1653632340,"post_id":72401186,"comment_id":127902204,"body_markdown":"This isn&#39;t possible as such, due to type erasure. You need to use something like ParameterizedTypeReference. It&#39;s part of Spring. I don&#39;t know if something like this exists and is compatible with cassandra.","body":"This isn&#39;t possible as such, due to type erasure. You need to use something like ParameterizedTypeReference. It&#39;s part of Spring. I don&#39;t know if something like this exists and is compatible with cassandra."},{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1653639247,"post_id":72401186,"comment_id":127904192,"body_markdown":"@QuentinC `row.getSet(&quot;ranks&quot;, new TypeToken&lt;Map&lt;Long, String&gt;&gt;() { });` But it is showing as unstable warning. `import com.google.common.reflect.TypeToken;`","body":"@QuentinC <code>row.getSet(&quot;ranks&quot;, new TypeToken&lt;Map&lt;Long, String&gt;&gt;() { });</code> But it is showing as unstable warning. <code>import com.google.common.reflect.TypeToken;</code>"}],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653639391,"creation_date":1653632102,"question_id":72401186,"body_markdown":"I am using the below approach to fetch column data of type **Long** from cassandra :\r\n\r\n    // com.datastax.driver.core.Row;\r\n\r\n    Set&lt;Long&gt; idSet= new HashSet&lt;&gt;();\r\n    idSet= row.getSet(&quot;rankids&quot;, Long.class);\r\n\r\nSo this is working fine from me.\r\n\r\nNow I have column of type =   **Set&lt;Map&lt;Long,String&gt;&gt;**\r\nAnd I am trying like this :\r\n\r\n    Set&lt;Map&lt;Long,String&gt;&gt; rankSet= new HashSet&lt;&gt;();\r\n    rankSet = row.getSet(&quot;ranks&quot;, Map.class);\r\n\r\n    rankSet.forEach((final Map rankMap) -&gt; {\r\n        rankMap.forEach((k,v) -&gt;LOGGER.info(&quot;Key = &quot; + k + &quot;, Value = &quot; + v));\r\n    });\r\n\r\nBut this not working. What I need to do here. How to use the ***.class*** properly here.\r\n\r\n**UPDATE**\r\n\r\n    // import com.google.common.reflect.TypeToken;\r\n\r\n    row.getSet(&quot;ranks&quot;, new TypeToken&lt;Map&lt;Long, String&gt;&gt;() { }); \r\n\r\nThis is not giving any error but it is showing as unstable warning. ","title":"How to get a .class for a Map&lt;Long, String&gt; in java","body":"<p>I am using the below approach to fetch column data of type <strong>Long</strong> from cassandra :</p>\n<pre><code>// com.datastax.driver.core.Row;\n\nSet&lt;Long&gt; idSet= new HashSet&lt;&gt;();\nidSet= row.getSet(&quot;rankids&quot;, Long.class);\n</code></pre>\n<p>So this is working fine from me.</p>\n<p>Now I have column of type =   <strong>Set&lt;Map&lt;Long,String&gt;&gt;</strong>\nAnd I am trying like this :</p>\n<pre><code>Set&lt;Map&lt;Long,String&gt;&gt; rankSet= new HashSet&lt;&gt;();\nrankSet = row.getSet(&quot;ranks&quot;, Map.class);\n\nrankSet.forEach((final Map rankMap) -&gt; {\n    rankMap.forEach((k,v) -&gt;LOGGER.info(&quot;Key = &quot; + k + &quot;, Value = &quot; + v));\n});\n</code></pre>\n<p>But this not working. What I need to do here. How to use the <em><strong>.class</strong></em> properly here.</p>\n<p><strong>UPDATE</strong></p>\n<pre><code>// import com.google.common.reflect.TypeToken;\n\nrow.getSet(&quot;ranks&quot;, new TypeToken&lt;Map&lt;Long, String&gt;&gt;() { }); \n</code></pre>\n<p>This is not giving any error but it is showing as unstable warning.</p>\n"},{"tags":["java","copy"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1653639458,"post_id":72402412,"comment_id":127904271,"body_markdown":"Is java pass by value or pass by reference?","body":"Is java pass by value or pass by reference?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1653640196,"post_id":72402412,"comment_id":127904530,"body_markdown":"See https://stackoverflow.com/a/40507/2310289","body":"See <a href=\"https://stackoverflow.com/a/40507/2310289\">stackoverflow.com/a/40507/2310289</a>"}],"owner":{"account_id":17745842,"reputation":31,"user_id":12885142,"display_name":"Rocket"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653640101,"answer_count":0,"score":0,"last_activity_date":1653639263,"creation_date":1653639263,"question_id":72402412,"body_markdown":"I&#39;m trying to copy a source element into an existing destination element. It works fine in the method but the reference in the main method doesn&#39;t change. What is my mistake?\r\n\r\n```\r\npublic class Bounds {\r\n\tpublic static &lt;T extends Number&gt; void copy(Paar&lt;? extends Number&gt; src, Paar&lt;? extends Number&gt; dst) {\r\n\t\t// src = (1, 2) dst = (1.1, 2.2)\r\n\t\tT c1 = (T) src.p1;\r\n\t\tT c2 = (T) src.p2;\r\n\t\tdst = new Paar&lt;&gt;(c1, c2);\r\n\r\n\t\tSystem.out.println(&quot;Src:&quot; + src);\r\n\t\tSystem.out.println(&quot;Dst:&quot; + dst);\r\n\t\t// src = (1, 2) dst = (1, 2)\t\r\n\t}\r\n}\r\n```\r\n```\r\npublic class BoundsMain {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tInteger[] iFeld = { 1, 2, 3 };\r\n\t\tNumber[] nFeld = { 1.1, 2.2, 3.3 };\r\n\t\tPaar&lt;Integer&gt; src = new Paar&lt;&gt;(iFeld[0], iFeld[1]);\r\n\t\tPaar&lt;Number&gt; dst = new Paar&lt;&gt;(nFeld[0], nFeld[1]);\r\n\r\n\t\tSystem.out.println(&quot;src=&quot; + src + &quot;\\ndst vor copy =&quot; + dst );\r\n        // src = (1, 2) dst = (1.1, 2.2)\r\n\r\n\t\tBounds.copy(src, dst);\r\n\t\tSystem.out.println(&quot;src nach copy =&quot; + src);\r\n\t\tSystem.out.println(&quot;dst nach copy =&quot; + dst);\r\n        // src = (1, 2) dst = (1.1, 2.2)\r\n\t}\r\n}\r\n```","title":"Copying Element: Reference doesn&#39;t change","body":"<p>I'm trying to copy a source element into an existing destination element. It works fine in the method but the reference in the main method doesn't change. What is my mistake?</p>\n<pre><code>public class Bounds {\n    public static &lt;T extends Number&gt; void copy(Paar&lt;? extends Number&gt; src, Paar&lt;? extends Number&gt; dst) {\n        // src = (1, 2) dst = (1.1, 2.2)\n        T c1 = (T) src.p1;\n        T c2 = (T) src.p2;\n        dst = new Paar&lt;&gt;(c1, c2);\n\n        System.out.println(&quot;Src:&quot; + src);\n        System.out.println(&quot;Dst:&quot; + dst);\n        // src = (1, 2) dst = (1, 2)    \n    }\n}\n</code></pre>\n<pre><code>public class BoundsMain {\n\n    public static void main(String[] args) {\n\n        Integer[] iFeld = { 1, 2, 3 };\n        Number[] nFeld = { 1.1, 2.2, 3.3 };\n        Paar&lt;Integer&gt; src = new Paar&lt;&gt;(iFeld[0], iFeld[1]);\n        Paar&lt;Number&gt; dst = new Paar&lt;&gt;(nFeld[0], nFeld[1]);\n\n        System.out.println(&quot;src=&quot; + src + &quot;\\ndst vor copy =&quot; + dst );\n        // src = (1, 2) dst = (1.1, 2.2)\n\n        Bounds.copy(src, dst);\n        System.out.println(&quot;src nach copy =&quot; + src);\n        System.out.println(&quot;dst nach copy =&quot; + dst);\n        // src = (1, 2) dst = (1.1, 2.2)\n    }\n}\n</code></pre>\n"},{"tags":["java","tuples","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1653638825,"post_id":72401820,"comment_id":127904034,"body_markdown":"There&#39;s an underlying question here, that of what you&#39;re actually trying to do. I recommend you follow up with that question about how to write a particular mapping with jOOQ. I&#39;m positive, there&#39;s an easier way with the latest new features, including nested records and multiset.","body":"There&#39;s an underlying question here, that of what you&#39;re actually trying to do. I recommend you follow up with that question about how to write a particular mapping with jOOQ. I&#39;m positive, there&#39;s an easier way with the latest new features, including nested records and multiset."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653639119,"creation_date":1653639119,"answer_id":72402384,"question_id":72401820,"body_markdown":"If languages cannot abstract over &quot;generic type variable arity,&quot; libraries have to work around this by creating types like jOO&#39;s `Tuple[N]` types (max(N) = 16) or jOOQ&#39;s `Record[N]` types (max(N) = 22). The upper bound of type safety is arbitrarily chosen. There&#39;s no good reason for one or the other number. So, you will inevitably run into the limitation you ran into, eventually.\r\n\r\nThere are usually tools to nest tuples in order to work around this. I.e. there&#39;s no significant difference between the two types below:\r\n\r\n```java\r\nTuple3&lt;A, B, C&gt;\r\nTuple2&lt;A, Tuple2&lt;B, C&gt;&gt;\r\n```\r\n\r\nIf you must use the stack you&#39;ve started using (jOO and SimpleFlatMapper), then I suspect that this is one way to work around the limitation you&#39;ve encountered. Surely, there are other ways, e.g.\r\n\r\n- At some point, you can just use an `Object[]` and waive type safety.\r\n- If you&#39;re using jOOQ, you could use [nested records][1] already inside of jOOQ / SQL, so you never realistically reach this limit of 16 attributes\r\n\r\nThe latter suggestion hints at there possibly being a jOOQ-only solution to your underlying problem, which removes the need for the other two libraries. I&#39;m happy to look into that option in a follow-up question.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/nested-records/","title":"org.jooq.lambda.tuple - Create Tuples","body":"<p>If languages cannot abstract over &quot;generic type variable arity,&quot; libraries have to work around this by creating types like jOO's <code>Tuple[N]</code> types (max(N) = 16) or jOOQ's <code>Record[N]</code> types (max(N) = 22). The upper bound of type safety is arbitrarily chosen. There's no good reason for one or the other number. So, you will inevitably run into the limitation you ran into, eventually.</p>\n<p>There are usually tools to nest tuples in order to work around this. I.e. there's no significant difference between the two types below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Tuple3&lt;A, B, C&gt;\nTuple2&lt;A, Tuple2&lt;B, C&gt;&gt;\n</code></pre>\n<p>If you must use the stack you've started using (jOO and SimpleFlatMapper), then I suspect that this is one way to work around the limitation you've encountered. Surely, there are other ways, e.g.</p>\n<ul>\n<li>At some point, you can just use an <code>Object[]</code> and waive type safety.</li>\n<li>If you're using jOOQ, you could use <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/nested-records/\" rel=\"nofollow noreferrer\">nested records</a> already inside of jOOQ / SQL, so you never realistically reach this limit of 16 attributes</li>\n</ul>\n<p>The latter suggestion hints at there possibly being a jOOQ-only solution to your underlying problem, which removes the need for the other two libraries. I'm happy to look into that option in a follow-up question.</p>\n"}],"owner":{"account_id":6550845,"reputation":1029,"user_id":5065316,"accept_rate":43,"display_name":"Leo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72402384,"answer_count":1,"score":1,"last_activity_date":1653639119,"creation_date":1653635997,"question_id":72401820,"body_markdown":"In my project, I need to use **org.jooq.lambda.Tuple** for mapping fields for simpleflatmapper JdbcMapperFactory:\r\n\r\n    public static final JdbcMapper&lt;Tuple17&lt;\r\n            Entity1,\r\n            Entity2,\r\n            Entity3,\r\n            Entity4,\r\n            Entity5,\r\n            Entity6,\r\n            Entity7,\r\n            Entity8,\r\n            Entity9,\r\n            Entity10,\r\n            Entity11,\r\n            Entity12,\r\n            Entity13,\r\n            Entity14,\r\n            Entity15,\r\n            Entity16,\r\n            Entity17\r\n            &gt;&gt; MAPPER =\r\n            JdbcMapperFactory\r\n                    .newInstance()\r\n                    .unorderedJoin()\r\n                    .newMapper(\r\n                            new TypeReference&lt;&gt;() {\r\n                            });\r\nBut I have only 16 tuples in package org.jooq.lambda.tuple of library **org.jooq.jool:0.9.12**\r\n\r\nMy Idea is to avoid writing boilerplate code for my next **Tuple17,18,19**... etc.\r\n\r\nIn addition, I have been looking for a long time for a mention of similar, ready-made structures for **Jooq**, but I could not find it. Also, I can&#39;t find any generators of such Tuples.\r\n\r\nCan somebody help?\r\n\r\n\r\n","title":"org.jooq.lambda.tuple - Create Tuples","body":"<p>In my project, I need to use <strong>org.jooq.lambda.Tuple</strong> for mapping fields for simpleflatmapper JdbcMapperFactory:</p>\n<pre><code>public static final JdbcMapper&lt;Tuple17&lt;\n        Entity1,\n        Entity2,\n        Entity3,\n        Entity4,\n        Entity5,\n        Entity6,\n        Entity7,\n        Entity8,\n        Entity9,\n        Entity10,\n        Entity11,\n        Entity12,\n        Entity13,\n        Entity14,\n        Entity15,\n        Entity16,\n        Entity17\n        &gt;&gt; MAPPER =\n        JdbcMapperFactory\n                .newInstance()\n                .unorderedJoin()\n                .newMapper(\n                        new TypeReference&lt;&gt;() {\n                        });\n</code></pre>\n<p>But I have only 16 tuples in package org.jooq.lambda.tuple of library <strong>org.jooq.jool:0.9.12</strong></p>\n<p>My Idea is to avoid writing boilerplate code for my next <strong>Tuple17,18,19</strong>... etc.</p>\n<p>In addition, I have been looking for a long time for a mention of similar, ready-made structures for <strong>Jooq</strong>, but I could not find it. Also, I can't find any generators of such Tuples.</p>\n<p>Can somebody help?</p>\n"},{"tags":["java","synchronization","deadlock","semaphore","wait"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1363443058,"post_id":15450222,"comment_id":21859221,"body_markdown":"Please provide a short but *complete* program using the semaphore to demonstrate the problem. (We don&#39;t know whether you have enough threads signalling the semaphore, or what &quot;this&quot; is...)","body":"Please provide a short but <i>complete</i> program using the semaphore to demonstrate the problem. (We don&#39;t know whether you have enough threads signalling the semaphore, or what &quot;this&quot; is...)"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1363443285,"post_id":15450222,"comment_id":21859277,"body_markdown":"I don&#39;t see how you can get a deadlock with only one lock... Note that in your first example you could miss a signal because you use `notify` and you could wake up too early because your wait is not within a loop.","body":"I don&#39;t see how you can get a deadlock with only one lock... Note that in your first example you could miss a signal because you use <code>notify</code> and you could wake up too early because your wait is not within a loop."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1363443431,"post_id":15450222,"comment_id":21859312,"body_markdown":"what is the initial `value`?","body":"what is the initial <code>value</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1063176,"reputation":1796,"user_id":1064374,"display_name":"Piyas De"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1363443288,"creation_date":1363443288,"answer_id":15450311,"question_id":15450222,"body_markdown":"as you are using \r\n   \r\n\r\n    while(value &lt; 0)\r\n            wait();\r\n\r\nin your latter implementation, it is within an non-ending loop for value &lt;0 and it is looping here for ever.\r\n\r\nThis may be a pointer of your deadlock situation.","title":"Why does a semaphore that employs busy waiting cause a deadlock?","body":"<p>as you are using </p>\n\n<pre><code>while(value &lt; 0)\n        wait();\n</code></pre>\n\n<p>in your latter implementation, it is within an non-ending loop for value &lt;0 and it is looping here for ever.</p>\n\n<p>This may be a pointer of your deadlock situation.</p>\n"},{"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363446061,"creation_date":1363444590,"answer_id":15450525,"question_id":15450222,"body_markdown":"I can&#39;t spot any deadlock risk with the second implementation. The while loop is the right choice for waiting on a lock (See spurious wakeups in [Object.wait() documentation][1]).\r\n\r\nAlso, it looks like no signal operation can be missed. A signal can only occur when another thread is in a wait state, or when no other thread is running waitFor().\r\n\r\nTherefore, I suggest that you check other parts of the code:\r\n\r\n - Do all threads synchronize on the same instance of the semaphore? \r\n -  Are you sure that the value counter isn&#39;t used elsewhere, in a\r\n   non-thread-safe manner?  \r\n - Do all threads call sepmaphore.signal() when\r\n   they are done? (Typically this kind of release operations are placed in a finally block).\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#wait%28%29","title":"Why does a semaphore that employs busy waiting cause a deadlock?","body":"<p>I can't spot any deadlock risk with the second implementation. The while loop is the right choice for waiting on a lock (See spurious wakeups in <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#wait%28%29\" rel=\"nofollow\">Object.wait() documentation</a>).</p>\n\n<p>Also, it looks like no signal operation can be missed. A signal can only occur when another thread is in a wait state, or when no other thread is running waitFor().</p>\n\n<p>Therefore, I suggest that you check other parts of the code:</p>\n\n<ul>\n<li>Do all threads synchronize on the same instance of the semaphore? </li>\n<li>Are you sure that the value counter isn't used elsewhere, in a\nnon-thread-safe manner?  </li>\n<li>Do all threads call sepmaphore.signal() when\nthey are done? (Typically this kind of release operations are placed in a finally block).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653638917,"creation_date":1653638917,"answer_id":72402347,"question_id":15450222,"body_markdown":"This is because a synchronized method actually locks the whole object. So that if one synchronized method of an object is called, all other synchronized methods of the same object will wait.\r\n\r\nAs you stay in your waitFor method until value becomes less than 0 and your  signal method is waiting for the other sync method to complete, it deadlocked itself.\r\n\r\nTry using getters and setters for your value and have them synchronize. That way only the actual access is synchronized and not the wait loop as well.","title":"Why does a semaphore that employs busy waiting cause a deadlock?","body":"<p>This is because a synchronized method actually locks the whole object. So that if one synchronized method of an object is called, all other synchronized methods of the same object will wait.</p>\n<p>As you stay in your waitFor method until value becomes less than 0 and your  signal method is waiting for the other sync method to complete, it deadlocked itself.</p>\n<p>Try using getters and setters for your value and have them synchronize. That way only the actual access is synchronized and not the wait loop as well.</p>\n"}],"owner":{"account_id":507322,"reputation":672,"user_id":931065,"accept_rate":79,"display_name":"Katherine Rix"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1096,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1653638917,"creation_date":1363442645,"question_id":15450222,"body_markdown":"I have been playing around with implementing my own very basic semaphore and have noticed that the implementation I choose influences whether or not I get a deadlock. But I don&#39;t understand how the deadlock is happening.\r\n\r\nMy original implementation (no deadlock):\r\n\r\n    public synchronized void waitFor(){\r\n        value--;\r\n        if(value &lt; 0)\r\n\t    wait();\r\n\t}\r\n\t\r\n\tpublic synchronized void signal(){\r\n\t\tvalue++;\r\n\t\tnotify();\r\n\t}\r\n\r\nA later implementation (results in deadlock):\r\n\r\n\tpublic synchronized void waitFor(){\r\n\t    value--;\r\n\t    while(value &lt; 0)\r\n\t        wait();\r\n\t}\r\n\t\r\n\tpublic synchronized void signal(){\r\n\t\tvalue++;\r\n\t\tnotifyAll();\r\n\t}\r\n\r\nThe wait() is actually surrounded by a try-catch in both sets of code for catching thread interruptions, but I have left it out for readability and am assuming it makes no difference to the deadlock issue.\r\n\r\nAnyone have any ideas?","title":"Why does a semaphore that employs busy waiting cause a deadlock?","body":"<p>I have been playing around with implementing my own very basic semaphore and have noticed that the implementation I choose influences whether or not I get a deadlock. But I don't understand how the deadlock is happening.</p>\n\n<p>My original implementation (no deadlock):</p>\n\n<pre><code>public synchronized void waitFor(){\n    value--;\n    if(value &lt; 0)\n    wait();\n}\n\npublic synchronized void signal(){\n    value++;\n    notify();\n}\n</code></pre>\n\n<p>A later implementation (results in deadlock):</p>\n\n<pre><code>public synchronized void waitFor(){\n    value--;\n    while(value &lt; 0)\n        wait();\n}\n\npublic synchronized void signal(){\n    value++;\n    notifyAll();\n}\n</code></pre>\n\n<p>The wait() is actually surrounded by a try-catch in both sets of code for catching thread interruptions, but I have left it out for readability and am assuming it makes no difference to the deadlock issue.</p>\n\n<p>Anyone have any ideas?</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":16117709,"reputation":1646,"user_id":11634381,"display_name":"paranaaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653638851,"creation_date":1653638851,"answer_id":72402338,"question_id":71634641,"body_markdown":"You need to pass from class constructure \r\n\r\n    public class PostgresDatabaseReader implements ItemReader&lt;Employee&gt; {\r\n\r\n    private int count = 0;\r\n    private EmployeeService employeeService;\r\n\r\n    public PostgresDatabaseReader(EmployeeService employeeService) {\r\n      this.employeeService = employeeService;\r\n      ...\r\n\r\n    }\r\n\r\nthen, on `Step` creation will look like this.\r\n\r\n    @Autowired\r\n    private EmployeeService employeeService;\r\n\r\n    public Step step(String groupName) {\r\n      return stepBuilderFactory.get(&quot;Step #1:&quot;)\r\n             .&lt;String&gt; chunk(1)\r\n             .reader(new PostgresDatabaseReader(employeeService))\r\n             ...\r\n\r\n\r\nand now you can remove `@Bean PostgresDatabaseReader` ","title":"Spring batch + Item reader : Getting null value for autowiring inside Item-reader-Implementation class","body":"<p>You need to pass from class constructure</p>\n<pre><code>public class PostgresDatabaseReader implements ItemReader&lt;Employee&gt; {\n\nprivate int count = 0;\nprivate EmployeeService employeeService;\n\npublic PostgresDatabaseReader(EmployeeService employeeService) {\n  this.employeeService = employeeService;\n  ...\n\n}\n</code></pre>\n<p>then, on <code>Step</code> creation will look like this.</p>\n<pre><code>@Autowired\nprivate EmployeeService employeeService;\n\npublic Step step(String groupName) {\n  return stepBuilderFactory.get(&quot;Step #1:&quot;)\n         .&lt;String&gt; chunk(1)\n         .reader(new PostgresDatabaseReader(employeeService))\n         ...\n</code></pre>\n<p>and now you can remove <code>@Bean PostgresDatabaseReader</code></p>\n"}],"owner":{"account_id":9114195,"reputation":45,"user_id":6781778,"display_name":"Prashant VIDHATE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653638851,"creation_date":1648368407,"question_id":71634641,"body_markdown":"using Spring batch I want to read the data from PostgreSQL DB, for the same I am using Spring-boot. \r\nI want to autowired the service inside the custom-reader which implementing the ItemReader but every time I am getting null value.\r\n\r\ncustom-reader as below-\r\n```\r\npublic class PostgresDatabaseReader implements ItemReader&lt;Employee&gt; {\r\n\r\n\tprivate int count = 0;\r\n\r\n\t@Autowired\r\n\tprivate EmployeeService employeeService;\r\n\t\r\n\t@Override\r\n\tpublic Employee read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\r\n\r\n\t\tSystem.out.println(&quot;Postgres Reader is reading the data&quot;);\r\n\t\tList&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();//this.employeeService.findAll();\r\n\t\temployees = this.employeeService.findAll();\r\n\t\tif (CollectionUtils.isNotEmpty(employees)) {\r\n\t\t\tif (count &lt; employees.size()) {\r\n\t\t\t\treturn employees.get(count++);\r\n\t\t\t} else {\r\n\t\t\t\tcount = 0;\r\n\t\t\t}\t\r\n\t\t} else {\r\n\t\t\tcount = 0;\r\n\t\t}\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nConfiguration as -\r\n```\r\n@Configuration\r\n@EnableBatchProcessing\r\n@EnableAutoConfiguration\r\npublic class BatchConfig {\r\n\r\n\t@Autowired\r\n\tpublic JobBuilderFactory jobBuilderFactory;\r\n\r\n\t@Autowired\r\n\tpublic StepBuilderFactory stepBuilderFactory;\r\n\r\n\t@Bean\r\n\tpublic EmployeeService employeeService() {\r\n\t\treturn new EmployeeServiceImpl();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic ItemReader&lt;Employee&gt; postgresDatabaseReader() {\r\n        return new PostgresDatabaseReader();\r\n    }\r\n    ....\r\n```\r\n\r\nService which I need to inject/autowired - \r\n```\r\n@Service\r\npublic class EmployeeServiceImpl implements EmployeeService {\r\n\r\n\t@Autowired\r\n\tprivate EmployeeRepository employeeRepository;\r\n\t\r\n\t@Override\r\n\tpublic List&lt;Employee&gt; findAll() {\r\n\t\treturn this.employeeRepository.findAll();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Employee save(Employee employee) {\r\n\t\treturn this.employeeRepository.save(employee);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nException as - \r\n```\r\n2022-03-27 13:12:53.564 ERROR 8740 --- [nio-8080-exec-2] o.s.batch.core.step.AbstractStep         : Encountered an error executing step orderStep1 in job processJob\r\n\r\njava.lang.NullPointerException: null\r\n\tat com.javainuse.step.PostgresDatabaseReader.read(PostgresDatabaseReader.java:35) ~[classes/:na]\r\n\tat com.javainuse.step.PostgresDatabaseReader.read(PostgresDatabaseReader.java:1) ~[classes/:na]\r\n\tat org.springframework.batch.core.step.item.SimpleChunkProvider.doRead(SimpleChunkProvider.java:91) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.step.item.SimpleChunkProvider.read(SimpleChunkProvider.java:157) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.step.item.SimpleChunkProvider$1.doInIteration(SimpleChunkProvider.java:116) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:374) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:144) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.step.item.SimpleChunkProvider.provide(SimpleChunkProvider.java:110) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:69) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:406) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:330) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133) ~[spring-tx-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:271) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:81) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:374) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:144) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:257) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:200) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:64) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:67) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:134) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:306) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:135) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) [spring-core-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:128) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333) [spring-aop-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) [spring-aop-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) [spring-aop-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat com.sun.proxy.$Proxy92.run(Unknown Source) [na:na]\r\n\tat com.javainuse.controller.JobInvokerController.handle(JobInvokerController.java:33) [classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:622) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.6.jar:8.5.6]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.6.jar:8.5.6]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]\r\n```\r\n\r\nI tried various scenarios but not worked for me. The below problem is similar to mine, I tried that one but still, it was not useful for me. \r\nLink-\r\nhttps://stackoverflow.com/questions/46828464/spring-boot-batch-injected-autowired-beans-are-null-in-itemreader#new-answer","title":"Spring batch + Item reader : Getting null value for autowiring inside Item-reader-Implementation class","body":"<p>using Spring batch I want to read the data from PostgreSQL DB, for the same I am using Spring-boot.\nI want to autowired the service inside the custom-reader which implementing the ItemReader but every time I am getting null value.</p>\n<p>custom-reader as below-</p>\n<pre><code>public class PostgresDatabaseReader implements ItemReader&lt;Employee&gt; {\n\n    private int count = 0;\n\n    @Autowired\n    private EmployeeService employeeService;\n    \n    @Override\n    public Employee read() throws Exception, UnexpectedInputException, ParseException, NonTransientResourceException {\n\n        System.out.println(&quot;Postgres Reader is reading the data&quot;);\n        List&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();//this.employeeService.findAll();\n        employees = this.employeeService.findAll();\n        if (CollectionUtils.isNotEmpty(employees)) {\n            if (count &lt; employees.size()) {\n                return employees.get(count++);\n            } else {\n                count = 0;\n            }   \n        } else {\n            count = 0;\n        }\n        \n        return null;\n    }\n\n}\n</code></pre>\n<p>Configuration as -</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\n@EnableAutoConfiguration\npublic class BatchConfig {\n\n    @Autowired\n    public JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    public StepBuilderFactory stepBuilderFactory;\n\n    @Bean\n    public EmployeeService employeeService() {\n        return new EmployeeServiceImpl();\n    }\n    \n    @Bean\n    public ItemReader&lt;Employee&gt; postgresDatabaseReader() {\n        return new PostgresDatabaseReader();\n    }\n    ....\n</code></pre>\n<p>Service which I need to inject/autowired -</p>\n<pre><code>@Service\npublic class EmployeeServiceImpl implements EmployeeService {\n\n    @Autowired\n    private EmployeeRepository employeeRepository;\n    \n    @Override\n    public List&lt;Employee&gt; findAll() {\n        return this.employeeRepository.findAll();\n    }\n\n    @Override\n    public Employee save(Employee employee) {\n        return this.employeeRepository.save(employee);\n    }\n\n}\n</code></pre>\n<p>Exception as -</p>\n<pre><code>2022-03-27 13:12:53.564 ERROR 8740 --- [nio-8080-exec-2] o.s.batch.core.step.AbstractStep         : Encountered an error executing step orderStep1 in job processJob\n\njava.lang.NullPointerException: null\n    at com.javainuse.step.PostgresDatabaseReader.read(PostgresDatabaseReader.java:35) ~[classes/:na]\n    at com.javainuse.step.PostgresDatabaseReader.read(PostgresDatabaseReader.java:1) ~[classes/:na]\n    at org.springframework.batch.core.step.item.SimpleChunkProvider.doRead(SimpleChunkProvider.java:91) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.step.item.SimpleChunkProvider.read(SimpleChunkProvider.java:157) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.step.item.SimpleChunkProvider$1.doInIteration(SimpleChunkProvider.java:116) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:374) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:144) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.step.item.SimpleChunkProvider.provide(SimpleChunkProvider.java:110) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:69) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:406) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:330) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133) ~[spring-tx-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:271) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:81) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:374) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:144) ~[spring-batch-infrastructure-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:257) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:200) ~[spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:64) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:67) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:134) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:306) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:135) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) [spring-core-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:128) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333) [spring-aop-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) [spring-aop-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157) [spring-aop-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127) [spring-batch-core-3.0.7.RELEASE.jar:3.0.7.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) [spring-aop-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213) [spring-aop-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at com.sun.proxy.$Proxy92.run(Unknown Source) [na:na]\n    at com.javainuse.controller.JobInvokerController.handle(JobInvokerController.java:33) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:622) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.6.jar:8.5.6]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.5.RELEASE.jar:4.3.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:108) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:784) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:802) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1410) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.6.jar:8.5.6]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]\n</code></pre>\n<p>I tried various scenarios but not worked for me. The below problem is similar to mine, I tried that one but still, it was not useful for me.\nLink-\n<a href=\"https://stackoverflow.com/questions/46828464/spring-boot-batch-injected-autowired-beans-are-null-in-itemreader#new-answer\">Spring Boot + Batch : Injected/Autowired beans are null in ItemReader</a></p>\n"},{"tags":["java","sql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653638705,"creation_date":1653638705,"answer_id":72402313,"question_id":72401652,"body_markdown":"You can&#39;t make the `DefaultRecordMapper` case insensitive, there&#39;s currently (jOOQ 3.16) no such configuration, and there aren&#39;t any plans on implementing this as it seems unnecessary, except for edge cases like yours.\r\n\r\nSome takes:\r\n\r\n### Fixing the underlying problem: Inconsistent naming\r\n\r\n- If your database column is called `ITEMUNIT`, then why not call your attribute `itemunit`? It&#39;s the most canonical translation. You&#39;re not really gaining much by making that artificially camel cased here, but not snake cased there\r\n- If your attribute really needs to be called `itemUnit`, then why not consistently name your database column `ITEM_UNIT` as well?\r\n\r\nIn both of the above approaches, you wouldn&#39;t require case insensitivity as a workaround, but rather, have consistent naming across your database and application.\r\n\r\n### Working around the naming inconsistency\r\n\r\nIf the above isn&#39;t viable, you can still use various means to work around this:\r\n\r\n- You could annotate your attribute with the JPA `@Column` annotation, which jOOQ supports\r\n- You could use a view or computed column that &quot;fixes&quot; the ill chosen name in your database and projects `ITEMUNIT AS ITEM_UNIT` for everyone\r\n- You can indeed alias columns manually every time you use the reflective `DefaultRecordMapper`, but that&#39;s laborious (you don&#39;t have to alias *all* columns, just the ones that are inconsistently named)\r\n- You can override the `DefaultRecordMapper` behaviour using a [`RecordMapperProvider`][1]\r\n- You can avoid using reflective mapping and map things using\r\n  - [nested records][2] and [ad-hoc conversion][3]\r\n  - A custom `RecordMapper` created using [`Records::mapping`][4], e.g. `fetch(mapping(POJO::new))`, assuming your POJO has a constructor accepting all fields\r\n\r\nBut in all of this, I think the underlying problem is the naming inconsistency. It would be far easier if you just named the column/attribute consistently. There&#39;s no value in making this particular distinction, it just causes trouble.\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/pojos-with-recordmapper-provider/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/nested-records/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\r\n  [4]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Records.html","title":"jOOQ - DefaultRecordMapper - Case sensitivity","body":"<p>You can't make the <code>DefaultRecordMapper</code> case insensitive, there's currently (jOOQ 3.16) no such configuration, and there aren't any plans on implementing this as it seems unnecessary, except for edge cases like yours.</p>\n<p>Some takes:</p>\n<h3>Fixing the underlying problem: Inconsistent naming</h3>\n<ul>\n<li>If your database column is called <code>ITEMUNIT</code>, then why not call your attribute <code>itemunit</code>? It's the most canonical translation. You're not really gaining much by making that artificially camel cased here, but not snake cased there</li>\n<li>If your attribute really needs to be called <code>itemUnit</code>, then why not consistently name your database column <code>ITEM_UNIT</code> as well?</li>\n</ul>\n<p>In both of the above approaches, you wouldn't require case insensitivity as a workaround, but rather, have consistent naming across your database and application.</p>\n<h3>Working around the naming inconsistency</h3>\n<p>If the above isn't viable, you can still use various means to work around this:</p>\n<ul>\n<li>You could annotate your attribute with the JPA <code>@Column</code> annotation, which jOOQ supports</li>\n<li>You could use a view or computed column that &quot;fixes&quot; the ill chosen name in your database and projects <code>ITEMUNIT AS ITEM_UNIT</code> for everyone</li>\n<li>You can indeed alias columns manually every time you use the reflective <code>DefaultRecordMapper</code>, but that's laborious (you don't have to alias <em>all</em> columns, just the ones that are inconsistently named)</li>\n<li>You can override the <code>DefaultRecordMapper</code> behaviour using a <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/pojos-with-recordmapper-provider/\" rel=\"nofollow noreferrer\"><code>RecordMapperProvider</code></a></li>\n<li>You can avoid using reflective mapping and map things using\n<ul>\n<li><a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/nested-records/\" rel=\"nofollow noreferrer\">nested records</a> and <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc conversion</a></li>\n<li>A custom <code>RecordMapper</code> created using <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Records.html\" rel=\"nofollow noreferrer\"><code>Records::mapping</code></a>, e.g. <code>fetch(mapping(POJO::new))</code>, assuming your POJO has a constructor accepting all fields</li>\n</ul>\n</li>\n</ul>\n<p>But in all of this, I think the underlying problem is the naming inconsistency. It would be far easier if you just named the column/attribute consistently. There's no value in making this particular distinction, it just causes trouble.</p>\n"}],"owner":{"account_id":20754825,"reputation":69,"user_id":15241481,"display_name":"db2222"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72402313,"answer_count":1,"score":1,"last_activity_date":1653638705,"creation_date":1653635120,"question_id":72401652,"body_markdown":"Can the ```DefaultRecordMapper``` work case insensitive?\r\n\r\nThe reason for the question is that ```Oracle``` and ```H2``` have the default behavior\r\nof captilazing identifiers if not quoted (see https://seeq.atlassian.net/wiki/spaces/KB/pages/443088907/SQL+Column+Names+and+Case+Sensitivity and https://community.oracle.com/tech/developers/discussion/895094/is-there-anyway-to-make-oracle-field-names-case-insensitive-or-is-it-just). Unlike ```SQL Server``` which uses the case sensitivity as the table was created.\r\n\r\nThe case sensitivity of the SQL output then does not match with the field of the POJO for Oracle and H2.\r\n\r\nThe only 2 solutions I could think of are:\r\n- Aliasing every column with quotes via an own helper method to ensure the correct case sensitivity (```ITEMUNIT as &quot;itemUnit&quot;```).\r\n- Implement an own record mapper which works case-insensitive.\r\n\r\nThe first solution however has a disadvantage. In case ```fetch``` is used instead of ```fetchInto``` to work raw\r\nwith the result, the ```get``` method for a column value would need the alias too. So, the developer needs to know that there \r\nis a distinction between using the helper method only for ```fetchInto``` and the normal ```select``` for ```fetch```.\r\n\r\nHave I missed something? Is there a better/easier solution to this?\r\n\r\nI have found https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-name-style/ but this does not solve the problem.","title":"jOOQ - DefaultRecordMapper - Case sensitivity","body":"<p>Can the <code>DefaultRecordMapper</code> work case insensitive?</p>\n<p>The reason for the question is that <code>Oracle</code> and <code>H2</code> have the default behavior\nof captilazing identifiers if not quoted (see <a href=\"https://seeq.atlassian.net/wiki/spaces/KB/pages/443088907/SQL+Column+Names+and+Case+Sensitivity\" rel=\"nofollow noreferrer\">https://seeq.atlassian.net/wiki/spaces/KB/pages/443088907/SQL+Column+Names+and+Case+Sensitivity</a> and <a href=\"https://community.oracle.com/tech/developers/discussion/895094/is-there-anyway-to-make-oracle-field-names-case-insensitive-or-is-it-just\" rel=\"nofollow noreferrer\">https://community.oracle.com/tech/developers/discussion/895094/is-there-anyway-to-make-oracle-field-names-case-insensitive-or-is-it-just</a>). Unlike <code>SQL Server</code> which uses the case sensitivity as the table was created.</p>\n<p>The case sensitivity of the SQL output then does not match with the field of the POJO for Oracle and H2.</p>\n<p>The only 2 solutions I could think of are:</p>\n<ul>\n<li>Aliasing every column with quotes via an own helper method to ensure the correct case sensitivity (<code>ITEMUNIT as &quot;itemUnit&quot;</code>).</li>\n<li>Implement an own record mapper which works case-insensitive.</li>\n</ul>\n<p>The first solution however has a disadvantage. In case <code>fetch</code> is used instead of <code>fetchInto</code> to work raw\nwith the result, the <code>get</code> method for a column value would need the alias too. So, the developer needs to know that there\nis a distinction between using the helper method only for <code>fetchInto</code> and the normal <code>select</code> for <code>fetch</code>.</p>\n<p>Have I missed something? Is there a better/easier solution to this?</p>\n<p>I have found <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-name-style/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-name-style/</a> but this does not solve the problem.</p>\n"},{"tags":["java","spring","aop","aspectj"],"answers":[{"tags":[],"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1462884882,"creation_date":1297349647,"answer_id":4958595,"question_id":4958400,"body_markdown":"Try this pointcut instead.\r\n\r\n    within(com.xyz.someapp.ChildServiceInterface+) &amp;&amp; execution(* save(..))\r\n\r\nThe `+` indicates a [subtype pattern][1].\r\n\r\n\r\n  [1]: https://eclipse.org/aspectj/doc/released/progguide/quick-typePatterns.html","title":"How to create an aspect on an Interface Method that extends from A &quot;Super&quot; Interface","body":"<p>Try this pointcut instead.</p>\n\n<pre><code>within(com.xyz.someapp.ChildServiceInterface+) &amp;&amp; execution(* save(..))\n</code></pre>\n\n<p>The <code>+</code> indicates a <a href=\"https://eclipse.org/aspectj/doc/released/progguide/quick-typePatterns.html\" rel=\"noreferrer\">subtype pattern</a>.</p>\n"},{"tags":[],"owner":{"account_id":6339874,"reputation":1870,"user_id":4922167,"accept_rate":43,"display_name":"pokemon blue"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1498984692,"creation_date":1498984692,"answer_id":44868920,"question_id":4958400,"body_markdown":"Or you can put pointcut on all the methods of that class using \r\n\r\n    @Pointcut(&quot;execution(* com.xyz.someapp.ChildServiceInterface.*(..))&quot;)  \r\n    public void childServiceSavePointCut();\r\n\r\nThe `*` indicates all method type.\r\n","title":"How to create an aspect on an Interface Method that extends from A &quot;Super&quot; Interface","body":"<p>Or you can put pointcut on all the methods of that class using </p>\n\n<pre><code>@Pointcut(\"execution(* com.xyz.someapp.ChildServiceInterface.*(..))\")  \npublic void childServiceSavePointCut();\n</code></pre>\n\n<p>The <code>*</code> indicates all method type.</p>\n"},{"tags":[],"owner":{"account_id":10843877,"reputation":11,"user_id":7974162,"display_name":"Anton Petrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653638625,"creation_date":1653638625,"answer_id":72402300,"question_id":4958400,"body_markdown":"This one helps me:\r\n\r\n```\r\n    @Pointcut(\r\n        &quot;@within(com.xyz.someapp.ChildServiceInterface) &amp;&amp; execution(* save(..))&quot;\r\n    )\r\n\r\n```","title":"How to create an aspect on an Interface Method that extends from A &quot;Super&quot; Interface","body":"<p>This one helps me:</p>\n<pre><code>    @Pointcut(\n        &quot;@within(com.xyz.someapp.ChildServiceInterface) &amp;&amp; execution(* save(..))&quot;\n    )\n\n</code></pre>\n"}],"owner":{"account_id":22143,"reputation":5621,"user_id":54356,"accept_rate":74,"display_name":"El Guapo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24835,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":4958595,"answer_count":3,"score":13,"last_activity_date":1653638625,"creation_date":1297348554,"question_id":4958400,"body_markdown":"I have a service-layer Interface that extends from a base Interface; I would like to create a Pointcut around my service-layer Interface, but on one of the methods defined in the base Interface.\r\n\r\nFor instance.... I have a method in my base Interface called &quot;save()&quot;, I put it in my base Interface since just all of my &quot;child&quot; Interfaces will provide &quot;save&quot; functionality. \r\n\r\nI would like to create a PointCut on only one of my &quot;child&quot; interfaces for when my &quot;save&quot; gets called. \r\n\r\nI created the pointcut like the following:\r\n\r\n    @Pointcut(&quot;execution(* com.xyz.someapp.ChildServiceInterface.save(..))&quot;)  \r\n    public void childServiceSavePointCut();\r\n\r\nI then created a @Around advice around the above pointcut like the following:\r\n\r\n    @Around(&quot;childServiceSavePointCut()&quot;)\r\n    public void doMyAdvice()....\r\n\r\nwhere &quot;ChildServiceInterface&quot; extends another Interface which has the &quot;save()&quot; method defined. \r\n\r\nMy Advice never runs... I debugged my code and do not see my Advice in the list of Advisors for my target service. \r\n\r\nAm I way off base thinking this will work, or am I implementing it incorrectly?\r\n\r\n","title":"How to create an aspect on an Interface Method that extends from A &quot;Super&quot; Interface","body":"<p>I have a service-layer Interface that extends from a base Interface; I would like to create a Pointcut around my service-layer Interface, but on one of the methods defined in the base Interface.</p>\n\n<p>For instance.... I have a method in my base Interface called \"save()\", I put it in my base Interface since just all of my \"child\" Interfaces will provide \"save\" functionality. </p>\n\n<p>I would like to create a PointCut on only one of my \"child\" interfaces for when my \"save\" gets called. </p>\n\n<p>I created the pointcut like the following:</p>\n\n<pre><code>@Pointcut(\"execution(* com.xyz.someapp.ChildServiceInterface.save(..))\")  \npublic void childServiceSavePointCut();\n</code></pre>\n\n<p>I then created a @Around advice around the above pointcut like the following:</p>\n\n<pre><code>@Around(\"childServiceSavePointCut()\")\npublic void doMyAdvice()....\n</code></pre>\n\n<p>where \"ChildServiceInterface\" extends another Interface which has the \"save()\" method defined. </p>\n\n<p>My Advice never runs... I debugged my code and do not see my Advice in the list of Advisors for my target service. </p>\n\n<p>Am I way off base thinking this will work, or am I implementing it incorrectly?</p>\n"},{"tags":["java","spring-boot","api"],"comments":[{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1653637947,"post_id":72401900,"comment_id":127903731,"body_markdown":"I suspect that the answer has nothing to do with the server side, and must be implemented client-side","body":"I suspect that the answer has nothing to do with the server side, and must be implemented client-side"}],"answers":[{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653638483,"creation_date":1653638483,"answer_id":72402273,"question_id":72401900,"body_markdown":"Use JavaScript in your webpage. This has nothing to do with how the server sends the file, and must be displayed client-side -- well, the server *could* output somewhere how far it is along *sending* the file, but that is not what you want to show - you are interested in showing how much you have *received*, and showing it in the client; so any answer will have to rely on JS+html to an extent. Why not solve it entirely in the client side?\r\n\r\nIn [this answer](https://stackoverflow.com/questions/68390950/how-show-file-download-progress-using-javascript) they use the following code:\r\n\r\n    function saveOrOpenBlob(url, blobName) {\r\n        var blob;\r\n        var xmlHTTP = new XMLHttpRequest();\r\n        xmlHTTP.open(&#39;GET&#39;, url, true);\r\n        xmlHTTP.responseType = &#39;arraybuffer&#39;;\r\n        xmlHTTP.onload = function(e) {\r\n            blob = new Blob([this.response]);   \r\n        };\r\n        xmlHTTP.onprogress = function(pr) {\r\n            //pr.loaded - current state\r\n            //pr.total  - max\r\n        };\r\n        xmlHTTP.onloadend = function(e){\r\n            var fileName = blobName;\r\n            var tempEl = document.createElement(&quot;a&quot;);\r\n            document.body.appendChild(tempEl);\r\n            tempEl.style = &quot;display: none&quot;;\r\n            url = window.URL.createObjectURL(blob);\r\n            tempEl.href = url;\r\n            tempEl.download = fileName;\r\n            tempEl.click();\r\n            window.URL.revokeObjectURL(url);\r\n        }\r\n        xmlHTTP.send();\r\n    }\r\n\r\nNote that you are missing part where you display the progress somewhere. For example, you could implement it as follows:\r\n\r\n        xmlHTTP.onprogress = function(pr) {\r\n            //pr.loaded - current state\r\n            //pr.total  - max\r\n            let percentage = (pr.loaded / pr.total) / 100;\r\n            document.getElementById(&quot;progress&quot;).textContent = &quot;&quot; + percentage + &quot;% complete&quot;;\r\n        };\r\n\r\nThis assumes that there is something like \r\n\r\n      &lt;span id=&quot;progress&quot;&gt;downloading...&lt;/span&gt;\r\n\r\nin your html","title":"how to show download progress on file download?","body":"<p>Use JavaScript in your webpage. This has nothing to do with how the server sends the file, and must be displayed client-side -- well, the server <em>could</em> output somewhere how far it is along <em>sending</em> the file, but that is not what you want to show - you are interested in showing how much you have <em>received</em>, and showing it in the client; so any answer will have to rely on JS+html to an extent. Why not solve it entirely in the client side?</p>\n<p>In <a href=\"https://stackoverflow.com/questions/68390950/how-show-file-download-progress-using-javascript\">this answer</a> they use the following code:</p>\n<pre><code>function saveOrOpenBlob(url, blobName) {\n    var blob;\n    var xmlHTTP = new XMLHttpRequest();\n    xmlHTTP.open('GET', url, true);\n    xmlHTTP.responseType = 'arraybuffer';\n    xmlHTTP.onload = function(e) {\n        blob = new Blob([this.response]);   \n    };\n    xmlHTTP.onprogress = function(pr) {\n        //pr.loaded - current state\n        //pr.total  - max\n    };\n    xmlHTTP.onloadend = function(e){\n        var fileName = blobName;\n        var tempEl = document.createElement(&quot;a&quot;);\n        document.body.appendChild(tempEl);\n        tempEl.style = &quot;display: none&quot;;\n        url = window.URL.createObjectURL(blob);\n        tempEl.href = url;\n        tempEl.download = fileName;\n        tempEl.click();\n        window.URL.revokeObjectURL(url);\n    }\n    xmlHTTP.send();\n}\n</code></pre>\n<p>Note that you are missing part where you display the progress somewhere. For example, you could implement it as follows:</p>\n<pre><code>    xmlHTTP.onprogress = function(pr) {\n        //pr.loaded - current state\n        //pr.total  - max\n        let percentage = (pr.loaded / pr.total) / 100;\n        document.getElementById(&quot;progress&quot;).textContent = &quot;&quot; + percentage + &quot;% complete&quot;;\n    };\n</code></pre>\n<p>This assumes that there is something like</p>\n<pre><code>  &lt;span id=&quot;progress&quot;&gt;downloading...&lt;/span&gt;\n</code></pre>\n<p>in your html</p>\n"}],"owner":{"account_id":23499121,"reputation":319,"user_id":17549203,"display_name":"Vikash Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2494,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653638483,"creation_date":1653636395,"question_id":72401900,"body_markdown":"I have an api to download file. It is able to download file but showing only after download completes. there is no download progress.\r\nI want when user hit that url it will show download progress in chrome, currently it is showing after completion.\r\nI am using spring boot.\r\n```\r\npublic responseEntity&lt;Resource&gt;getFile(String fileName){\r\n    byte[] data=null;\r\n    File file=new File(fileName);\r\n    InputStream inputStream=new FileInputStream(file);\r\n    data=IOUtils.toByteArray(inputStream);\r\n    ByteArrayResource fileToDownload = new ByteArrayResource(data);\r\n\treturn ResponseEntity.ok()\r\n\t\t\t\t.contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\r\n\t\t\t\t.header(&quot;Content-Disposition&quot;, &quot;filename=&quot; + fileName)\r\n\t\t\t\t.body(fileToDownload);\r\n}\r\n```","title":"how to show download progress on file download?","body":"<p>I have an api to download file. It is able to download file but showing only after download completes. there is no download progress.\nI want when user hit that url it will show download progress in chrome, currently it is showing after completion.\nI am using spring boot.</p>\n<pre><code>public responseEntity&lt;Resource&gt;getFile(String fileName){\n    byte[] data=null;\n    File file=new File(fileName);\n    InputStream inputStream=new FileInputStream(file);\n    data=IOUtils.toByteArray(inputStream);\n    ByteArrayResource fileToDownload = new ByteArrayResource(data);\n    return ResponseEntity.ok()\n                .contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\n                .header(&quot;Content-Disposition&quot;, &quot;filename=&quot; + fileName)\n                .body(fileToDownload);\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","jsonb","spring-data-jdbc"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1612086352,"post_id":65977620,"comment_id":116651990,"body_markdown":"It&#39;s easily possible in plain JDBC, don&#39;t know about Spring though. Does it work if you declare the Java parameter as an array, e.g. `findByInterest(@Param(&quot;array&quot;) String[] interest);` and use `??| :array` in the query?","body":"It&#39;s easily possible in plain JDBC, don&#39;t know about Spring though. Does it work if you declare the Java parameter as an array, e.g. <code>findByInterest(@Param(&quot;array&quot;) String[] interest);</code> and use <code>??| :array</code> in the query?"},{"owner":{"account_id":6206361,"reputation":141,"user_id":4834223,"display_name":"Paolo bi"},"score":0,"creation_date":1612090347,"post_id":65977620,"comment_id":116652854,"body_markdown":"That&#39;s is strange! \nI tested it out, and using the `String[]` no error during compilation, but in runtime no result will be retrieved, what da hell...\nBut honestly also if this solution would work, I think we deserve a better code for this kind of stuff","body":"That&#39;s is strange!  I tested it out, and using the <code>String[]</code> no error during compilation, but in runtime no result will be retrieved, what da hell... But honestly also if this solution would work, I think we deserve a better code for this kind of stuff"},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1612091349,"post_id":65977620,"comment_id":116653094,"body_markdown":"Well, it&#39;s quite easy in plain JDBC","body":"Well, it&#39;s quite easy in plain JDBC"},{"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"score":1,"creation_date":1612101351,"post_id":65977620,"comment_id":116655594,"body_markdown":"Is it working? It&#39;s unclear what you&#39;re trying to achieve. Could you elaborate more?","body":"Is it working? It&#39;s unclear what you&#39;re trying to achieve. Could you elaborate more?"}],"answers":[{"tags":[],"owner":{"account_id":4946371,"reputation":110,"user_id":3981611,"display_name":"i v s narayana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653638053,"creation_date":1653638053,"answer_id":72402204,"question_id":65977620,"body_markdown":"JSON array elements strores data in the following way \r\n\r\n{\r\n    &quot;interests&quot; : [&quot;sport&quot;, &quot;cars&quot;]\r\n\r\n}\r\n\r\nSo if you directly java list it does not work, so one option is convert java array into a string which can be looked at as json array like [&quot;sport&quot;, &quot;cars&quot;] or\r\nuse jsonObject used to create json array like below\r\n\r\n    JSONArray interests = new JSONArray();\r\n    a.add(0, &quot;sport&quot;);\r\n    a.add(0, &quot;car&quot;);\r\n\r\n    findByInterest(interests.toString())\r\n    \r\n    @Query(&quot;SELECT * FROM people where interest-&gt;&#39;interests&#39; ??| :array::text[] &quot;)\r\n    List&lt;People&gt; findByInterest(@Param(&quot;array&quot;) String interest);\r\n\r\n","title":"Array contains into postgres jsonb with Spring data JDBC","body":"<p>JSON array elements strores data in the following way</p>\n<p>{\n&quot;interests&quot; : [&quot;sport&quot;, &quot;cars&quot;]</p>\n<p>}</p>\n<p>So if you directly java list it does not work, so one option is convert java array into a string which can be looked at as json array like [&quot;sport&quot;, &quot;cars&quot;] or\nuse jsonObject used to create json array like below</p>\n<pre><code>JSONArray interests = new JSONArray();\na.add(0, &quot;sport&quot;);\na.add(0, &quot;car&quot;);\n\nfindByInterest(interests.toString())\n\n@Query(&quot;SELECT * FROM people where interest-&gt;'interests' ??| :array::text[] &quot;)\nList&lt;People&gt; findByInterest(@Param(&quot;array&quot;) String interest);\n</code></pre>\n"}],"owner":{"account_id":6206361,"reputation":141,"user_id":4834223,"display_name":"Paolo bi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":706,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72402204,"answer_count":1,"score":2,"last_activity_date":1653638053,"creation_date":1612085807,"question_id":65977620,"body_markdown":"Let&#39;s make a journey...\r\n\r\nWhat I want to achieve is \r\n\r\n``` SELECT * FROM people WHERE interest-&gt;&#39;interests&#39; ?| ARRAY[&#39;sport&#39;,&#39;cars&#39;];```\r\n\r\ninto my Repository defined as \r\n\r\n```\r\npublic interface PeopleRepository extends CrudRepository&lt;People, UUID&gt; {\r\n   @Query(&quot;SELECT * FROM people where interest-&gt;&#39;interests&#39; ??| :array::text[] &quot;)\r\n   List&lt;People&gt; findByInterest(@Param(&quot;array&quot;) String interest);\r\n\r\n```\r\nand finally select interests, using the method in this way \r\n``` \r\nfindByInterest(&quot;{foo, beer}&quot;) \r\n```\r\n\r\nThis is what I achieved after a day of tests and \r\nIMHO is really **MEH**\r\n\r\nI think out of there, a nicest solution is possible \r\n(without sql cast and string concatenation in runtime) \r\n\r\nCould you help with a more &quot;clean code&quot; solution? \r\n(Sorry, for the long post) \r\n\r\n**Update**\r\n\r\nI will elaborate a little bit better my question. \r\nI&#39;m searching for something like \r\n```\r\n@Query(&quot;SELECT * FROM people where interest-&gt;&#39;interests&#39; ??| :array::text[] &quot;)\r\nList&lt;People&gt; findByInterest(@Param(&quot;array&quot;) List&lt;String&gt; interest);\r\n```\r\nis this possible ? \r\n","title":"Array contains into postgres jsonb with Spring data JDBC","body":"<p>Let's make a journey...</p>\n<p>What I want to achieve is</p>\n<p><code> SELECT * FROM people WHERE interest-&gt;'interests' ?| ARRAY['sport','cars'];</code></p>\n<p>into my Repository defined as</p>\n<pre><code>public interface PeopleRepository extends CrudRepository&lt;People, UUID&gt; {\n   @Query(&quot;SELECT * FROM people where interest-&gt;'interests' ??| :array::text[] &quot;)\n   List&lt;People&gt; findByInterest(@Param(&quot;array&quot;) String interest);\n\n</code></pre>\n<p>and finally select interests, using the method in this way</p>\n<pre><code>findByInterest(&quot;{foo, beer}&quot;) \n</code></pre>\n<p>This is what I achieved after a day of tests and\nIMHO is really <strong>MEH</strong></p>\n<p>I think out of there, a nicest solution is possible\n(without sql cast and string concatenation in runtime)</p>\n<p>Could you help with a more &quot;clean code&quot; solution?\n(Sorry, for the long post)</p>\n<p><strong>Update</strong></p>\n<p>I will elaborate a little bit better my question.\nI'm searching for something like</p>\n<pre><code>@Query(&quot;SELECT * FROM people where interest-&gt;'interests' ??| :array::text[] &quot;)\nList&lt;People&gt; findByInterest(@Param(&quot;array&quot;) List&lt;String&gt; interest);\n</code></pre>\n<p>is this possible ?</p>\n"},{"tags":["java","spring","generics","spring-repositories"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653637559,"creation_date":1653636411,"answer_id":72401901,"question_id":72401846,"body_markdown":"Try with the following\r\n\r\n    @Data\r\n    @MappedSuperclass\r\n    public class GenericEntity &lt;T extends GenericEntity&gt; {\r\n\r\n     ...\r\n     }\r\n\r\nAnd then\r\n\r\n    @Data\r\n    @ToString(callSuper = true)\r\n    @Entity\r\n    public class Person extends GenericEntity&lt;Person&gt; {\r\n     ...\r\n    }\r\n\r\nAnd then you need the generic repository which should return generic entities not specific persons\r\n\r\n     public interface GenericRepository extends JpaRepository&lt;GenericEntity, Integer&gt; {\r\n     }\r\n\r\nwhich can be called in service as \r\n\r\n     public List&lt;GenericEntity&gt; findAllGenericEntities() {\r\n            return genericRepository.findAll();\r\n        }\r\n\r\nAnd then you can also have a person repository \r\n\r\n     public interface PersonRepository extends JpaRepository&lt;Person, Integer&gt; {\r\n          }\r\n\r\nwhich can be called in service as \r\n\r\n     public List&lt;Person&gt; findAllPersons() {\r\n            return personRepository.findAll();\r\n        }","title":"Spring Data Repository not working with Generics","body":"<p>Try with the following</p>\n<pre><code>@Data\n@MappedSuperclass\npublic class GenericEntity &lt;T extends GenericEntity&gt; {\n\n ...\n }\n</code></pre>\n<p>And then</p>\n<pre><code>@Data\n@ToString(callSuper = true)\n@Entity\npublic class Person extends GenericEntity&lt;Person&gt; {\n ...\n}\n</code></pre>\n<p>And then you need the generic repository which should return generic entities not specific persons</p>\n<pre><code> public interface GenericRepository extends JpaRepository&lt;GenericEntity, Integer&gt; {\n }\n</code></pre>\n<p>which can be called in service as</p>\n<pre><code> public List&lt;GenericEntity&gt; findAllGenericEntities() {\n        return genericRepository.findAll();\n    }\n</code></pre>\n<p>And then you can also have a person repository</p>\n<pre><code> public interface PersonRepository extends JpaRepository&lt;Person, Integer&gt; {\n      }\n</code></pre>\n<p>which can be called in service as</p>\n<pre><code> public List&lt;Person&gt; findAllPersons() {\n        return personRepository.findAll();\n    }\n</code></pre>\n"}],"owner":{"account_id":4008871,"reputation":163,"user_id":3302843,"display_name":"cloooze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653637559,"creation_date":1653636105,"question_id":72401846,"body_markdown":"I&#39;m playing around with generics and Spring Data repository. I created a simple project with almost zero configuration, entities are in subpackage of main class.\r\n\r\nEntity\r\n\r\n```\r\n@Data\r\n@ToString(callSuper = true)\r\n@Entity\r\npublic class Person extends GenericEntity {\r\n\r\n    private String name;\r\n\r\n}\r\n\r\n\r\n@Data\r\n@MappedSuperclass\r\npublic class GenericEntity {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer id;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;TMS_INSERIMENTO&quot;)\r\n    private LocalDateTime tmsInserimento;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;TMS_AGGIORNAMENTO&quot;)\r\n    private LocalDateTime tmsAggiornamento;\r\n}\r\n```\r\n\r\nRepository\r\n\r\n```\r\npublic interface GenericRepository&lt;T extends GenericEntity&gt; extends JpaRepository&lt;T, Integer&gt; {\r\n}\r\n```\r\n\r\nService\r\n```\r\npublic List&lt;Person&gt; findAllPeople() {\r\n\treturn genericRepository.findAll();\r\n}\r\n```\r\n\r\nCall to findAll() throws the following exception:\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Not an entity: class com.example.demot.entity.GenericEntity; nested exception is java.lang.IllegalArgumentException: Not an entity: class com.example.demot.entity.GenericEntity\r\n```\r\n","title":"Spring Data Repository not working with Generics","body":"<p>I'm playing around with generics and Spring Data repository. I created a simple project with almost zero configuration, entities are in subpackage of main class.</p>\n<p>Entity</p>\n<pre><code>@Data\n@ToString(callSuper = true)\n@Entity\npublic class Person extends GenericEntity {\n\n    private String name;\n\n}\n\n\n@Data\n@MappedSuperclass\npublic class GenericEntity {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n\n    @CreationTimestamp\n    @Column(name = &quot;TMS_INSERIMENTO&quot;)\n    private LocalDateTime tmsInserimento;\n\n    @UpdateTimestamp\n    @Column(name = &quot;TMS_AGGIORNAMENTO&quot;)\n    private LocalDateTime tmsAggiornamento;\n}\n</code></pre>\n<p>Repository</p>\n<pre><code>public interface GenericRepository&lt;T extends GenericEntity&gt; extends JpaRepository&lt;T, Integer&gt; {\n}\n</code></pre>\n<p>Service</p>\n<pre><code>public List&lt;Person&gt; findAllPeople() {\n    return genericRepository.findAll();\n}\n</code></pre>\n<p>Call to findAll() throws the following exception:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Not an entity: class com.example.demot.entity.GenericEntity; nested exception is java.lang.IllegalArgumentException: Not an entity: class com.example.demot.entity.GenericEntity\n</code></pre>\n"},{"tags":["java","linux","apple-m1","lib","rosetta"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1653637251,"post_id":72401822,"comment_id":127903506,"body_markdown":"Did you ask the provider of the third part library for a version for the m1 achictecture? &quot;Also, the x86-64 linux distro won&#39;t run in vmware on the m1 - I tried the m1 tech preview and intel on rosetta.&quot; This seems like a totally separate problem that you should ask the vmware provider and the linux distrobution.","body":"Did you ask the provider of the third part library for a version for the m1 achictecture? &quot;Also, the x86-64 linux distro won&#39;t run in vmware on the m1 - I tried the m1 tech preview and intel on rosetta.&quot; This seems like a totally separate problem that you should ask the vmware provider and the linux distrobution."},{"owner":{"account_id":8899840,"reputation":1,"user_id":6643614,"display_name":"Mikeyfafa"},"score":0,"creation_date":1653644773,"post_id":72401822,"comment_id":127906002,"body_markdown":"I haven&#39;t but I&#39;m pretty sure they won&#39;t invest the time in it.","body":"I haven&#39;t but I&#39;m pretty sure they won&#39;t invest the time in it."}],"answers":[{"tags":[],"owner":{"account_id":21638035,"reputation":96,"user_id":15960699,"display_name":"12kadir12"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653637238,"creation_date":1653637238,"answer_id":72402067,"question_id":72401822,"body_markdown":"I am using UTM to emulate x86-64 distros. I haven&#39;t faced any problems. There are different options [here][1]. I think you can figure it out using UTM. It is an emulation and virtualization solution. This allows us to either run native ARM VMs or execute Intel x86 Virtual Machines by using emulation.\r\n\r\n\r\n  [1]: https://nomadic-dmitry.medium.com/apple-silicon-m1-how-to-run-x86-and-arm-virtual-machines-on-it-cdd9d9054483","title":"3rd Party x86 Library on M1 via rosetta?","body":"<p>I am using UTM to emulate x86-64 distros. I haven't faced any problems. There are different options <a href=\"https://nomadic-dmitry.medium.com/apple-silicon-m1-how-to-run-x86-and-arm-virtual-machines-on-it-cdd9d9054483\" rel=\"nofollow noreferrer\">here</a>. I think you can figure it out using UTM. It is an emulation and virtualization solution. This allows us to either run native ARM VMs or execute Intel x86 Virtual Machines by using emulation.</p>\n"}],"owner":{"account_id":8899840,"reputation":1,"user_id":6643614,"display_name":"Mikeyfafa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653637238,"creation_date":1653636014,"question_id":72401822,"body_markdown":"I have a java application that loads a third-party library. This is a native library that is wrapped in a java package and has an underlying windows and linux implementation.\r\n\r\nI have an M1 mac and an Intel mac and I&#39;ve managed to successfully get the application running on the Intel mac using a linux distro running in VMware.\r\n\r\nHowever, I&#39;ve been not so successful in doing this on the M1 mac. The java application will build and run but fails when calling the 3rd party library. Also, the x86-64 linux distro won&#39;t run in vmware on the m1 - I tried the m1 tech preview and intel on rosetta.\r\n\r\nLooking for ideas on how I might if possible solve this.\r\n","title":"3rd Party x86 Library on M1 via rosetta?","body":"<p>I have a java application that loads a third-party library. This is a native library that is wrapped in a java package and has an underlying windows and linux implementation.</p>\n<p>I have an M1 mac and an Intel mac and I've managed to successfully get the application running on the Intel mac using a linux distro running in VMware.</p>\n<p>However, I've been not so successful in doing this on the M1 mac. The java application will build and run but fails when calling the 3rd party library. Also, the x86-64 linux distro won't run in vmware on the m1 - I tried the m1 tech preview and intel on rosetta.</p>\n<p>Looking for ideas on how I might if possible solve this.</p>\n"},{"tags":["java","fonts","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1653623441,"post_id":72399961,"comment_id":127900831,"body_markdown":"What exactly is your question? How to get the correct names of all the fonts in a ttc file? (There can be several)","body":"What exactly is your question? How to get the correct names of all the fonts in a ttc file? (There can be several)"},{"owner":{"account_id":21131086,"reputation":27,"user_id":15536335,"display_name":"Serendipity"},"score":0,"creation_date":1653632453,"post_id":72399961,"comment_id":127902224,"body_markdown":"The main problem is to get the font name that can be recognized by **getFontByName**","body":"The main problem is to get the font name that can be recognized by <b>getFontByName</b>"},{"owner":{"account_id":21131086,"reputation":27,"user_id":15536335,"display_name":"Serendipity"},"score":0,"creation_date":1653636817,"post_id":72399961,"comment_id":127903377,"body_markdown":"The issue has been resolved, thanks.","body":"The issue has been resolved, thanks."}],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653636912,"creation_date":1653636912,"answer_id":72402007,"question_id":72399961,"body_markdown":"This shows the names:\r\n\r\n        TrueTypeCollection ttc = new TrueTypeCollection(new File(&quot;c:/windows/fonts/batang.ttc&quot;));\r\n        ttc.processAllFonts(new TrueTypeCollection.TrueTypeFontProcessor()\r\n        {\r\n            @Override\r\n            public void process(TrueTypeFont ttf) throws IOException\r\n            {\r\n                System.out.println(ttf.getName());\r\n            }\r\n        });\r\n\r\n","title":"PDFBox2.0.26 use TTC Fonts","body":"<p>This shows the names:</p>\n<pre><code>    TrueTypeCollection ttc = new TrueTypeCollection(new File(&quot;c:/windows/fonts/batang.ttc&quot;));\n    ttc.processAllFonts(new TrueTypeCollection.TrueTypeFontProcessor()\n    {\n        @Override\n        public void process(TrueTypeFont ttf) throws IOException\n        {\n            System.out.println(ttf.getName());\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21131086,"reputation":27,"user_id":15536335,"display_name":"Serendipity"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653636960,"creation_date":1653636960,"answer_id":72402017,"question_id":72399961,"body_markdown":"ttc Font:    \r\n\r\n    Font font = Font.createFont(Font.TRUETYPE_FONT, fb);\r\n    font = font.deriveFont(Font.PLAIN, fontHeight);\r\n    String fontEnName = font.getPSName();\r\n    PDFont pdfFont = PDType0Font.load(doc, new TrueTypeCollection(fontFile).getFontByName(fontEnName), true);\r\n\r\n","title":"PDFBox2.0.26 use TTC Fonts","body":"<p>ttc Font:</p>\n<pre><code>Font font = Font.createFont(Font.TRUETYPE_FONT, fb);\nfont = font.deriveFont(Font.PLAIN, fontHeight);\nString fontEnName = font.getPSName();\nPDFont pdfFont = PDType0Font.load(doc, new TrueTypeCollection(fontFile).getFontByName(fontEnName), true);\n</code></pre>\n"}],"owner":{"account_id":21131086,"reputation":27,"user_id":15536335,"display_name":"Serendipity"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653636960,"creation_date":1653619956,"question_id":72399961,"body_markdown":"I am trying to use pdfbox to add text watermark to pdf, but I encountered a problem when adding ttc format fonts.\r\n\r\n        Font2D font2D = FontUtilities.getFont2D(font);\r\n        String fontEnName = font2D.getFamilyName(Locale.ENGLISH);\r\n\r\n        PDFont pdfFont = PDType0Font.load(doc, new TrueTypeCollection(fontFile).getFontByName(fontEnName), true);\r\n\r\n        PDPageContentStream contents = new PDPageContentStream(doc, page, PDPageContentStream.AppendMode.APPEND, true, true);\r\n        contents.beginText();\r\n        contents.setFont(pdfFont, fontHeight);\r\n\r\nFirst of all, *Font2D* and *FontUtilities* are internal classes, which may be deleted in the future, which is not a good solution. Second, the obtained *fontEnName* is not necessarily the parameter required by *getFontByName*, maybe *fontEnName* is \r\n**simsum**, but the parameter of *getFontByName* needs **SimSun**, and the two names are not matching,there are other ttc Font related example, is there any other good solution?","title":"PDFBox2.0.26 use TTC Fonts","body":"<p>I am trying to use pdfbox to add text watermark to pdf, but I encountered a problem when adding ttc format fonts.</p>\n<pre><code>    Font2D font2D = FontUtilities.getFont2D(font);\n    String fontEnName = font2D.getFamilyName(Locale.ENGLISH);\n\n    PDFont pdfFont = PDType0Font.load(doc, new TrueTypeCollection(fontFile).getFontByName(fontEnName), true);\n\n    PDPageContentStream contents = new PDPageContentStream(doc, page, PDPageContentStream.AppendMode.APPEND, true, true);\n    contents.beginText();\n    contents.setFont(pdfFont, fontHeight);\n</code></pre>\n<p>First of all, <em>Font2D</em> and <em>FontUtilities</em> are internal classes, which may be deleted in the future, which is not a good solution. Second, the obtained <em>fontEnName</em> is not necessarily the parameter required by <em>getFontByName</em>, maybe <em>fontEnName</em> is\n<strong>simsum</strong>, but the parameter of <em>getFontByName</em> needs <strong>SimSun</strong>, and the two names are not matching,there are other ttc Font related example, is there any other good solution?</p>\n"},{"tags":["java","hibernate-validator","spring-validator"],"answers":[{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653636957,"creation_date":1653636957,"answer_id":72402015,"question_id":72382261,"body_markdown":"Assuming you have something like\r\n\r\n    @Controller\r\n    class ModelController {\r\n    \t...\r\n    \tpublic Result mappedMethod(@Valid Model model) {\r\n    \t\t...\r\n    \t}\r\n    }\r\n\r\nthen the model will be validated as a JavaBean. Meaning only fields and getters will be considered. \r\n\r\nIf a model class is modified to:\r\n\r\n    public class Model {\r\n        @NotNull\r\n        private String someField;\r\n    \r\n        @AssertTrue\r\n        public boolean isMethodConstraint() { ... }\r\n    }\r\n\r\nwhere the constrained method starts following the JavaBean requirements (method name begins with `is/get` and has 0 parameters) then that method will be executed during the validation.\r\n\r\nAlternatively, if beans do not follow the JavaBean format then a custom strategy can be used. See the documentation [here][1]. But if possible - it&#39;ll be easier just to update the model classes and make constrained methods start with `is/get`.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/validator/6.2/reference/en-US/html_single/#section-getter-property-selection-strategy","title":"Hibernate Validator: Method constraints not evaluated","body":"<p>Assuming you have something like</p>\n<pre><code>@Controller\nclass ModelController {\n    ...\n    public Result mappedMethod(@Valid Model model) {\n        ...\n    }\n}\n</code></pre>\n<p>then the model will be validated as a JavaBean. Meaning only fields and getters will be considered.</p>\n<p>If a model class is modified to:</p>\n<pre><code>public class Model {\n    @NotNull\n    private String someField;\n\n    @AssertTrue\n    public boolean isMethodConstraint() { ... }\n}\n</code></pre>\n<p>where the constrained method starts following the JavaBean requirements (method name begins with <code>is/get</code> and has 0 parameters) then that method will be executed during the validation.</p>\n<p>Alternatively, if beans do not follow the JavaBean format then a custom strategy can be used. See the documentation <a href=\"https://docs.jboss.org/hibernate/validator/6.2/reference/en-US/html_single/#section-getter-property-selection-strategy\" rel=\"nofollow noreferrer\">here</a>. But if possible - it'll be easier just to update the model classes and make constrained methods start with <code>is/get</code>.</p>\n"}],"owner":{"account_id":11643394,"reputation":1124,"user_id":8527109,"display_name":"L&#225;szl&#243; Stahorszki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72402015,"answer_count":1,"score":0,"last_activity_date":1653636957,"creation_date":1653501482,"question_id":72382261,"body_markdown":"I have a simple class, which I&#39;d like to validate:\r\n\r\n```\r\npublic class Model {\r\n    @NotNull\r\n    private String someField;\r\n\r\n    @AssertTrue\r\n    public boolean methodConstraint() { ... }\r\n}\r\n```\r\n\r\nThis class is validated as part of the inputs of a spring controller method.\r\n\r\nI managed to configure the validation of the fields (`someField` in this case), but for some reason the `methodConstraint()` isn&#39;t even invoked, let alone validated. I remember this being possible.\r\n\r\nI use the default Spring boot 2.6.6 configuration for validation, which means I use the 6.2.3 version of hibernate validator, with the 2.0.2 API version.\r\n\r\nI suspect it is the `ValidatorImpl:454` where thing go sideways, because this method only validates (direct) meta constraints, but method constraints don&#39;t seem to be considered as such.","title":"Hibernate Validator: Method constraints not evaluated","body":"<p>I have a simple class, which I'd like to validate:</p>\n<pre><code>public class Model {\n    @NotNull\n    private String someField;\n\n    @AssertTrue\n    public boolean methodConstraint() { ... }\n}\n</code></pre>\n<p>This class is validated as part of the inputs of a spring controller method.</p>\n<p>I managed to configure the validation of the fields (<code>someField</code> in this case), but for some reason the <code>methodConstraint()</code> isn't even invoked, let alone validated. I remember this being possible.</p>\n<p>I use the default Spring boot 2.6.6 configuration for validation, which means I use the 6.2.3 version of hibernate validator, with the 2.0.2 API version.</p>\n<p>I suspect it is the <code>ValidatorImpl:454</code> where thing go sideways, because this method only validates (direct) meta constraints, but method constraints don't seem to be considered as such.</p>\n"},{"tags":["java","android-studio","android-fragments","android-listview","android-adapter"],"answers":[{"tags":[],"owner":{"account_id":19040401,"reputation":98,"user_id":13900631,"display_name":"Nandala Abhinav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653636705,"creation_date":1653636705,"answer_id":72401951,"question_id":72380520,"body_markdown":"Try to **create an empty array list** in the `onStart()` itself as you wrote your code there. what you are doing is you are persisting that array and every time you comeback its loading your array again making the entries again","title":"Fragment ListView doubles on return","body":"<p>Try to <strong>create an empty array list</strong> in the <code>onStart()</code> itself as you wrote your code there. what you are doing is you are persisting that array and every time you comeback its loading your array again making the entries again</p>\n"}],"owner":{"account_id":25090019,"reputation":31,"user_id":18941766,"display_name":"shiho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653636705,"creation_date":1653492905,"question_id":72380520,"body_markdown":"I use a custom adapter for my ListView in a fragment. When I go to a second fragment and press the back key to go back, though, my list doubles (everything from my ArrayList is added again to the listView). This happens everytime I go to my second fragment and come back (the ArrayList gets appended to the back again). I tried checking if the adapter is null, but apparently it&#39;s always null when you go back to the fragment.\r\n\r\nI tried moving my code into the `onResume()` and the `onStart()` functions from this post [https://stackoverflow.com/questions/21446361/android-listview-duplicates-itself-when-i-launch-a-new-activity-and-press-back], but that doesn&#39;t fix my code :(\r\n\r\nIn addition, I tried adding `arr.clear()` and `notifyAll()` in `onPause` but that just breaks my code (cannot transition into second fragment). Same with `onStop()`\r\n\r\n    public void onStart() {\r\n            super.onStart();\r\n            for (int i = 0; i &lt; device_names.length; i++) {\r\n                arr.add(device_names[i]);\r\n            }\r\n    \r\n            final ListView list = (ListView)getView().findViewById(R.id.list);\r\n            CustomListView customAdapter = new CustomListView(context, arr);\r\n            if (list.getAdapter() == null) {\r\n                Log.i(&quot;SAKEGA&quot;, String.valueOf(list.getAdapter()));\r\n                Log.i(&quot;SAKEGA&quot;, &quot;it&#39;s null&quot;);\r\n            } else {\r\n                Log.i(&quot;SAKEGA&quot;, &quot;it&#39;s not null waaaaaaaaaah&quot;);\r\n                list.setAdapter(null);\r\n            }\r\n            list.setAdapter(customAdapter);\r\n            Log.i(&quot;SAKEGA&quot;, &quot;HMPH&quot;);\r\n            Button tv = (Button)getView().findViewById(R.id.add_devices_text);\r\n            ImageButton add = (ImageButton) getView().findViewById(R.id.add);\r\n            tv.setOnClickListener(add_device_click); // this click listener calls the 2nd fragment\r\n            add.setOnClickListener(add_device);\r\n        }\r\n\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        ViewGroup root = (ViewGroup) inflater.inflate(R.layout.fragment_scanneractivity, null);\r\n        return root;\r\n    }\r\n\r\nWhat I would like to do is, once we go back to the fragment, I clear the ListView and repopulate the listView with the ArrayList.","title":"Fragment ListView doubles on return","body":"<p>I use a custom adapter for my ListView in a fragment. When I go to a second fragment and press the back key to go back, though, my list doubles (everything from my ArrayList is added again to the listView). This happens everytime I go to my second fragment and come back (the ArrayList gets appended to the back again). I tried checking if the adapter is null, but apparently it's always null when you go back to the fragment.</p>\n<p>I tried moving my code into the <code>onResume()</code> and the <code>onStart()</code> functions from this post [https://stackoverflow.com/questions/21446361/android-listview-duplicates-itself-when-i-launch-a-new-activity-and-press-back], but that doesn't fix my code :(</p>\n<p>In addition, I tried adding <code>arr.clear()</code> and <code>notifyAll()</code> in <code>onPause</code> but that just breaks my code (cannot transition into second fragment). Same with <code>onStop()</code></p>\n<pre><code>public void onStart() {\n        super.onStart();\n        for (int i = 0; i &lt; device_names.length; i++) {\n            arr.add(device_names[i]);\n        }\n\n        final ListView list = (ListView)getView().findViewById(R.id.list);\n        CustomListView customAdapter = new CustomListView(context, arr);\n        if (list.getAdapter() == null) {\n            Log.i(&quot;SAKEGA&quot;, String.valueOf(list.getAdapter()));\n            Log.i(&quot;SAKEGA&quot;, &quot;it's null&quot;);\n        } else {\n            Log.i(&quot;SAKEGA&quot;, &quot;it's not null waaaaaaaaaah&quot;);\n            list.setAdapter(null);\n        }\n        list.setAdapter(customAdapter);\n        Log.i(&quot;SAKEGA&quot;, &quot;HMPH&quot;);\n        Button tv = (Button)getView().findViewById(R.id.add_devices_text);\n        ImageButton add = (ImageButton) getView().findViewById(R.id.add);\n        tv.setOnClickListener(add_device_click); // this click listener calls the 2nd fragment\n        add.setOnClickListener(add_device);\n    }\n\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    ViewGroup root = (ViewGroup) inflater.inflate(R.layout.fragment_scanneractivity, null);\n    return root;\n}\n</code></pre>\n<p>What I would like to do is, once we go back to the fragment, I clear the ListView and repopulate the listView with the ArrayList.</p>\n"},{"tags":["java","spring","email"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1415716385,"post_id":26867055,"comment_id":42293627,"body_markdown":"Assuming that the correct method is invoked (the `setTo(String[])` one) it should just work. What I don&#39;t get is why you are setting the session properties and host in this method, that should be in the configuration.","body":"Assuming that the correct method is invoked (the <code>setTo(String[])</code> one) it should just work. What I don&#39;t get is why you are setting the session properties and host in this method, that should be in the configuration."}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":3,"up_vote_count":50,"is_accepted":true,"score":47,"last_activity_date":1648164581,"creation_date":1415715952,"answer_id":26867119,"question_id":26867055,"body_markdown":"You have the choice to use the following 4 methods. I have provided examples of the two methods useful in this case. I have consolidated this information from the commentators below. \r\n\r\n    helper.setTo(InternetAddress.parse(&quot;email1@test.com,email2@test.com&quot;))\r\n    helper.setTo(new String[]{&quot;email1@test.com&quot;, &quot;email2@test.com&quot;});\r\n\r\nFrom the [Javadoc][1]:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mail/javamail/MimeMessageHelper.html\r\n  [2]: https://i.stack.imgur.com/G37PF.png","title":"How to send an email to multiple recipients in Spring","body":"<p>You have the choice to use the following 4 methods. I have provided examples of the two methods useful in this case. I have consolidated this information from the commentators below.</p>\n<pre><code>helper.setTo(InternetAddress.parse(&quot;email1@test.com,email2@test.com&quot;))\nhelper.setTo(new String[]{&quot;email1@test.com&quot;, &quot;email2@test.com&quot;});\n</code></pre>\n<p>From the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mail/javamail/MimeMessageHelper.html\" rel=\"noreferrer\">Javadoc</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/G37PF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/G37PF.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7714919,"reputation":9,"user_id":5843031,"display_name":"mangukiya mayur"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1472729150,"creation_date":1472726030,"answer_id":39269200,"question_id":26867055,"body_markdown":"    &lt;bean id=&quot;mailSender&quot; class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\r\n    \t  &lt;property name=&quot;host&quot; value=&quot;smtp.ccc.corp&quot;/&gt;\r\n    \t  &lt;property name=&quot;port&quot; value=&quot;25&quot;/&gt;\r\n    \t  &lt;property name=&quot;javaMailProperties&quot;&gt;&lt;props&gt;\r\n        \t&lt;prop key=&quot;mail.smtp.sendpartial&quot;&gt;true&lt;/prop&gt;\r\n    \t  &lt;/props&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nset `mail.smtp.sendpartial` true. I am sure its work for you\r\n","title":"How to send an email to multiple recipients in Spring","body":"<pre><code>&lt;bean id=\"mailSender\" class=\"org.springframework.mail.javamail.JavaMailSenderImpl\"&gt;\n      &lt;property name=\"host\" value=\"smtp.ccc.corp\"/&gt;\n      &lt;property name=\"port\" value=\"25\"/&gt;\n      &lt;property name=\"javaMailProperties\"&gt;&lt;props&gt;\n        &lt;prop key=\"mail.smtp.sendpartial\"&gt;true&lt;/prop&gt;\n      &lt;/props&gt;&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>set <code>mail.smtp.sendpartial</code> true. I am sure its work for you</p>\n"},{"tags":[],"owner":{"account_id":5175524,"reputation":616,"user_id":4142806,"accept_rate":71,"display_name":"Naved Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482143023,"creation_date":1482139883,"answer_id":41219489,"question_id":26867055,"body_markdown":"I think better approach is to declare &quot;to&quot; attribute as array in spring.xml file , pass values and use method `setTo(string[])` as suggested by Deinum in comment. Process is define &#39;to&#39; in xml file as \r\n\r\n    &lt;property name=&quot;to&quot;&gt;\r\n\t\t&lt;array&gt;\r\n\t\t&lt;value&gt;abc@gmail.com&lt;/value&gt;\r\n\t\t&lt;value&gt;xyz@gmail.com&lt;/value&gt;\r\n\t\t&lt;/array&gt;\r\n    &lt;/property&gt;\r\nNow generate getter setter method for this array containing address of multiple recipient and pass it to `setTo(String[])` method as :-\r\n\r\n    helper.setTo(to);\r\n\r\n","title":"How to send an email to multiple recipients in Spring","body":"<p>I think better approach is to declare \"to\" attribute as array in spring.xml file , pass values and use method <code>setTo(string[])</code> as suggested by Deinum in comment. Process is define 'to' in xml file as </p>\n\n<pre><code>&lt;property name=\"to\"&gt;\n    &lt;array&gt;\n    &lt;value&gt;abc@gmail.com&lt;/value&gt;\n    &lt;value&gt;xyz@gmail.com&lt;/value&gt;\n    &lt;/array&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>Now generate getter setter method for this array containing address of multiple recipient and pass it to <code>setTo(String[])</code> method as :-</p>\n\n<pre><code>helper.setTo(to);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7480706,"reputation":111,"user_id":5685516,"display_name":"Surya Nair"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1496669474,"creation_date":1496669474,"answer_id":44370157,"question_id":26867055,"body_markdown":"The better approach is to create an array containing the address of multiple recipients.\r\n\r\n        MimeMessageHelper helper = new MimeMessageHelper( message, true );\r\n        helper.setTo( String[] to );","title":"How to send an email to multiple recipients in Spring","body":"<p>The better approach is to create an array containing the address of multiple recipients.</p>\n\n<pre><code>    MimeMessageHelper helper = new MimeMessageHelper( message, true );\n    helper.setTo( String[] to );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8382269,"reputation":679,"user_id":6578132,"display_name":"Sreenath S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509025973,"creation_date":1497880483,"answer_id":44632513,"question_id":26867055,"body_markdown":"You can try this, instead of \r\n\r\n    helper.setTo(to);\r\n\r\n    String multipleEmailIds = &quot;abc@abc.com, abc@abc.com&quot;\r\n    mimeMsg.setRecipients(Message.RecipientType.TO, InternetAddress.parse(multipleEmailIds ));","title":"How to send an email to multiple recipients in Spring","body":"<p>You can try this, instead of </p>\n\n<pre><code>helper.setTo(to);\n\nString multipleEmailIds = \"abc@abc.com, abc@abc.com\"\nmimeMsg.setRecipients(Message.RecipientType.TO, InternetAddress.parse(multipleEmailIds ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052322,"reputation":951,"user_id":1831032,"accept_rate":48,"display_name":"Sree"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1535651424,"creation_date":1535651424,"answer_id":52102814,"question_id":26867055,"body_markdown":"just try like this.\r\n\r\n    helper.setTo(InternetAddress.parse(&quot;email1@test.com,email2@test.com&quot;)) ","title":"How to send an email to multiple recipients in Spring","body":"<p>just try like this.</p>\n\n<pre><code>helper.setTo(InternetAddress.parse(\"email1@test.com,email2@test.com\")) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13057642,"reputation":71,"user_id":9435958,"display_name":"Sri"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1591895619,"creation_date":1591895619,"answer_id":62329860,"question_id":26867055,"body_markdown":"Add all email ids in a String[] array\r\n\r\n    public String[] sendEmailIds() {\r\n    String[] emailIds = new String[4];\r\n    emailIds[0] = &quot;abc@mail.com&quot;;\r\n    emailIds[1] = &quot;deg@mail.com&quot;;\r\n    emailIds[2] = &quot;sgh@mail.com&quot;;\r\n    emailIds[3] = &quot;hht@mail.com&quot;;\r\n    return emailIds;\r\n    }\r\n\r\n    SimpleMailMessage mailMessage = new SimpleMailMessage();\r\n    mailMessage.setTo(sendEmailIds());\r\n    mailMessage.setSubject(subject);\r\n    mailMessage.setText(message);\r\n    mailMessage.setFrom(fromEmailAddress);\r\n    javaMailSender.send(mailMessage);","title":"How to send an email to multiple recipients in Spring","body":"<p>Add all email ids in a String[] array</p>\n\n<pre><code>public String[] sendEmailIds() {\nString[] emailIds = new String[4];\nemailIds[0] = \"abc@mail.com\";\nemailIds[1] = \"deg@mail.com\";\nemailIds[2] = \"sgh@mail.com\";\nemailIds[3] = \"hht@mail.com\";\nreturn emailIds;\n}\n\nSimpleMailMessage mailMessage = new SimpleMailMessage();\nmailMessage.setTo(sendEmailIds());\nmailMessage.setSubject(subject);\nmailMessage.setText(message);\nmailMessage.setFrom(fromEmailAddress);\njavaMailSender.send(mailMessage);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13239720,"reputation":112,"user_id":9560693,"display_name":"Yehouda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606903165,"creation_date":1606903165,"answer_id":65105833,"question_id":26867055,"body_markdown":"It&#39;s working well with the SimpleMailMessage.\r\nlike the answer of [Siri][1] \r\n\r\n\r\n    String[] to = {&quot;user1@gmail.com&quot;, &quot;user2@gmail.com&quot;};\r\n    \t\t\r\n    SimpleMailMessage simpleMailMessage = new SimpleMailMessage();\r\n    simpleMailMessage.setTo(to);\r\n    simpleMailMessage.setSubject(&quot;subject of mail&quot;);\r\n    simpleMailMessage.setText(&quot;content of mail&quot;);\r\n    \r\n    try {\r\n    \tjavaMailSender.send(simpleMailMessage);\r\n    } catch (MailSendException e) {\r\n         //...\r\n    }\t\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62329860/9560693","title":"How to send an email to multiple recipients in Spring","body":"<p>It's working well with the SimpleMailMessage.\nlike the answer of <a href=\"https://stackoverflow.com/a/62329860/9560693\">Siri</a></p>\n<pre><code>String[] to = {&quot;user1@gmail.com&quot;, &quot;user2@gmail.com&quot;};\n        \nSimpleMailMessage simpleMailMessage = new SimpleMailMessage();\nsimpleMailMessage.setTo(to);\nsimpleMailMessage.setSubject(&quot;subject of mail&quot;);\nsimpleMailMessage.setText(&quot;content of mail&quot;);\n\ntry {\n    javaMailSender.send(simpleMailMessage);\n} catch (MailSendException e) {\n     //...\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13359971,"reputation":1,"user_id":9642348,"display_name":"Tobby Echonga Rwotyera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653636205,"creation_date":1653636205,"answer_id":72401860,"question_id":26867055,"body_markdown":"I had the same issue, I used this and it worked for me. \r\nSet your receiptants in a String like\r\nreceitants = &quot;xxx@gmail, xqz@gmail.com&quot;;\r\n\r\n```\r\nMimeMessage message = javaMailSender.createMimeMessage();\r\nMimeMessageHelper helper = new MimeMessageHelper(message, true);\r\n\r\nhelper.setSubject(subject);\r\nhelper.setFrom(sender);\r\nmessage.setRecipients(Message.RecipientType.TO, InternetAddress.parse(receipants));\r\nmessage.setRecipients(Message.RecipientType.CC, InternetAddress.parse(ccrecepients));\r\n\r\nhelper.setText(body, true);\r\njavaMailSender.send(message);\r\n```","title":"How to send an email to multiple recipients in Spring","body":"<p>I had the same issue, I used this and it worked for me.\nSet your receiptants in a String like\nreceitants = &quot;xxx@gmail, xqz@gmail.com&quot;;</p>\n<pre><code>MimeMessage message = javaMailSender.createMimeMessage();\nMimeMessageHelper helper = new MimeMessageHelper(message, true);\n\nhelper.setSubject(subject);\nhelper.setFrom(sender);\nmessage.setRecipients(Message.RecipientType.TO, InternetAddress.parse(receipants));\nmessage.setRecipients(Message.RecipientType.CC, InternetAddress.parse(ccrecepients));\n\nhelper.setText(body, true);\njavaMailSender.send(message);\n</code></pre>\n"}],"owner":{"account_id":4299687,"reputation":6224,"user_id":3663765,"accept_rate":61,"display_name":"Program-Me-Rev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69099,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":26867119,"answer_count":9,"score":33,"last_activity_date":1653636205,"creation_date":1415715745,"question_id":26867055,"body_markdown":"The email gets sents only to the last email address in the `String[] to` array. I&#39;m intending to send to all email addresses added to the array. How can I make that work?\r\n\r\n    public void sendMail(String from, String[] to, String subject, String msg, List attachments) throws MessagingException {\r\n\r\n        // Creating message  \r\n        sender.setHost(&quot;smtp.gmail.com&quot;);\r\n        MimeMessage mimeMsg = sender.createMimeMessage();\r\n        MimeMessageHelper helper = new MimeMessageHelper(mimeMsg, true);\r\n        Properties props = new Properties();\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.port&quot;, &quot;425&quot;);\r\n\r\n        Session session = Session.getDefaultInstance(props, null);\r\n\r\n        helper.setFrom(from);\r\n\r\n        helper.setTo(to);\r\n\r\n        helper.setSubject(subject);\r\n        helper.setText(msg + &quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;hi welcome&lt;/h1&gt;&lt;body&gt;&lt;/html&quot;, true);\r\n\r\n        Iterator it = attachments.iterator();\r\n\r\n        while (it.hasNext()) {\r\n            FileSystemResource file = new FileSystemResource(new File((String) it.next()));\r\n            helper.addAttachment(file.getFilename(), file);\r\n        }\r\n\r\n        // Sending message  \r\n        sender.send(mimeMsg);\r\n    }\r\n","title":"How to send an email to multiple recipients in Spring","body":"<p>The email gets sents only to the last email address in the <code>String[] to</code> array. I'm intending to send to all email addresses added to the array. How can I make that work?</p>\n\n<pre><code>public void sendMail(String from, String[] to, String subject, String msg, List attachments) throws MessagingException {\n\n    // Creating message  \n    sender.setHost(\"smtp.gmail.com\");\n    MimeMessage mimeMsg = sender.createMimeMessage();\n    MimeMessageHelper helper = new MimeMessageHelper(mimeMsg, true);\n    Properties props = new Properties();\n    props.put(\"mail.smtp.starttls.enable\", \"true\");\n    props.put(\"mail.smtp.auth\", \"true\");\n    props.put(\"mail.smtp.port\", \"425\");\n\n    Session session = Session.getDefaultInstance(props, null);\n\n    helper.setFrom(from);\n\n    helper.setTo(to);\n\n    helper.setSubject(subject);\n    helper.setText(msg + \"&lt;html&gt;&lt;body&gt;&lt;h1&gt;hi welcome&lt;/h1&gt;&lt;body&gt;&lt;/html\", true);\n\n    Iterator it = attachments.iterator();\n\n    while (it.hasNext()) {\n        FileSystemResource file = new FileSystemResource(new File((String) it.next()));\n        helper.addAttachment(file.getFilename(), file);\n    }\n\n    // Sending message  \n    sender.send(mimeMsg);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":3076776,"reputation":1444,"user_id":2605902,"accept_rate":62,"display_name":"Stimpson Cat"},"score":1,"creation_date":1501844931,"post_id":45505043,"comment_id":77971130,"body_markdown":"I would use the Integer approach. If you have constraints on age, i think there won&#39;t be any problems","body":"I would use the Integer approach. If you have constraints on age, i think there won&#39;t be any problems"}],"answers":[{"tags":[],"owner":{"account_id":6759653,"reputation":5203,"user_id":5207023,"accept_rate":100,"display_name":"Mykola Yashchenko"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1501874997,"creation_date":1501848577,"answer_id":45506484,"question_id":45505043,"body_markdown":"Yes, you can do it:\r\n\r\n    Person p = new Person();\r\n    p.setLastName(&quot;Smith&quot;);\r\n    \r\n    Example criteria = Example.create(p).setPropertySelector(\r\n        Example.NotNullOrZeroPropertySelector.INSTANCE\r\n    );\r\n    List&lt;Person&gt; foundPersons = session.createCriteria(Person.class).add(criteria).list();\r\n\r\n`Example.NotNullOrZeroPropertySelector.INSTANCE` is a property selector that includes only properties that are not `null` and non-zero (if numeric)\r\n\r\n\r\nUPD\r\n\r\nAbove an example for Hibernate `org.hibernate.criterion.Example` class. For `org.springframework.data.domain.Example` you can ignore primitive fields by manually specifying names of these fields:\r\n\r\n    Person p = new Person();\r\n    p.setLastName(&quot;Smith&quot;);\r\n\r\n    ExampleMatcher matcher = ExampleMatcher.matching().withIgnorePaths(&quot;age&quot;).withIgnoreNullValues();\r\n    \r\n    Example criteria = Example.of(p, matcher);\r\n    List&lt;Person&gt; foundPersons = personRepository.findAll(criteria);","title":"Query-by-example skip primitives?","body":"<p>Yes, you can do it:</p>\n\n<pre><code>Person p = new Person();\np.setLastName(\"Smith\");\n\nExample criteria = Example.create(p).setPropertySelector(\n    Example.NotNullOrZeroPropertySelector.INSTANCE\n);\nList&lt;Person&gt; foundPersons = session.createCriteria(Person.class).add(criteria).list();\n</code></pre>\n\n<p><code>Example.NotNullOrZeroPropertySelector.INSTANCE</code> is a property selector that includes only properties that are not <code>null</code> and non-zero (if numeric)</p>\n\n<p>UPD</p>\n\n<p>Above an example for Hibernate <code>org.hibernate.criterion.Example</code> class. For <code>org.springframework.data.domain.Example</code> you can ignore primitive fields by manually specifying names of these fields:</p>\n\n<pre><code>Person p = new Person();\np.setLastName(\"Smith\");\n\nExampleMatcher matcher = ExampleMatcher.matching().withIgnorePaths(\"age\").withIgnoreNullValues();\n\nExample criteria = Example.of(p, matcher);\nList&lt;Person&gt; foundPersons = personRepository.findAll(criteria);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8625831,"reputation":720,"user_id":6459098,"display_name":"U_R_Naveen UR_Naveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583850018,"creation_date":1583850018,"answer_id":60619539,"question_id":45505043,"body_markdown":"In Spring boot, i was getting primitives as 0. so i have solved as below \r\n\r\n  \r\n         ExampleMatcher matcher = ExampleMatcher.matching().withIgnorePaths(&quot;parentId&quot;);//ignore primitives\r\n    \t Example&lt;ConfigMetadata&gt; configExample = Example.of(config, matcher);\r\n    \t if(config.getParentId()!=null &amp;&amp; config.getParentId() != 0) { //if primitives other than null/zero, create new example which includes them\r\n    \t\tconfigExample.getProbe().setParentId(config.getParentId());\r\n    \t\tconfigExample = Example.of(configExample.getProbe());\r\n    \t }\r\n\r\n","title":"Query-by-example skip primitives?","body":"<p>In Spring boot, i was getting primitives as 0. so i have solved as below </p>\n\n<pre><code>     ExampleMatcher matcher = ExampleMatcher.matching().withIgnorePaths(\"parentId\");//ignore primitives\n     Example&lt;ConfigMetadata&gt; configExample = Example.of(config, matcher);\n     if(config.getParentId()!=null &amp;&amp; config.getParentId() != 0) { //if primitives other than null/zero, create new example which includes them\n        configExample.getProbe().setParentId(config.getParentId());\n        configExample = Example.of(configExample.getProbe());\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25403044,"reputation":9,"user_id":19212197,"display_name":"Kevin Kent"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653636069,"creation_date":1653636069,"answer_id":72401840,"question_id":45505043,"body_markdown":"I use reactive java and spring data. \r\nHere is repository:\r\n\r\n    public interface MyObjectRepository extends ReactiveCrudRepository&lt;MyObject, Long&gt;, ReactiveQueryByExampleExecutor&lt;MyObject&gt; {}\r\n\r\nService:\r\n\r\n    public Mono&lt;Page&lt;MyObject&gt;&gt; getAllBySupport(Pageable pageable, Boolean isSupported) {\r\n       ExampleMatcher m;\r\n       Example&lt;MyObject&gt; ex;\r\n\r\n       if (isSupported != null) {\r\n          m = ExampleMatcher.matching().withIgnoreNullValues();\r\n          ex = Example.of(MyObject.builder().isSupport(isSupported).build(), m);\r\n       } else {\r\n          //isSupport field in Myobject has boolean primitive type\r\n          //if parameter isSupported is null - I ignore this parameter in example\r\n          //and result has objects with true and false isSupport field\r\n          m = ExampleMatcher.matching().withIgnorePaths(&quot;isSupport&quot;).withIgnoreNullValues();\r\n          ex = Example.of(new MyObject(), m);\r\n       }\r\n\r\n        return myObjectRepository.findBy(ex, (p) -&gt; p.page(pageable))\r\n                .map(s -&gt; new PageImpl&lt;&gt;(s.stream()\r\n                        .collect(Collectors.toList()), pageable, s.getTotalElements()));\r\n\r\nWith this code you also can hava pagination and sorting\r\n\r\nWish you luck:)","title":"Query-by-example skip primitives?","body":"<p>I use reactive java and spring data.\nHere is repository:</p>\n<pre><code>public interface MyObjectRepository extends ReactiveCrudRepository&lt;MyObject, Long&gt;, ReactiveQueryByExampleExecutor&lt;MyObject&gt; {}\n</code></pre>\n<p>Service:</p>\n<pre><code>public Mono&lt;Page&lt;MyObject&gt;&gt; getAllBySupport(Pageable pageable, Boolean isSupported) {\n   ExampleMatcher m;\n   Example&lt;MyObject&gt; ex;\n\n   if (isSupported != null) {\n      m = ExampleMatcher.matching().withIgnoreNullValues();\n      ex = Example.of(MyObject.builder().isSupport(isSupported).build(), m);\n   } else {\n      //isSupport field in Myobject has boolean primitive type\n      //if parameter isSupported is null - I ignore this parameter in example\n      //and result has objects with true and false isSupport field\n      m = ExampleMatcher.matching().withIgnorePaths(&quot;isSupport&quot;).withIgnoreNullValues();\n      ex = Example.of(new MyObject(), m);\n   }\n\n    return myObjectRepository.findBy(ex, (p) -&gt; p.page(pageable))\n            .map(s -&gt; new PageImpl&lt;&gt;(s.stream()\n                    .collect(Collectors.toList()), pageable, s.getTotalElements()));\n</code></pre>\n<p>With this code you also can hava pagination and sorting</p>\n<p>Wish you luck:)</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2735,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":45506484,"answer_count":3,"score":7,"last_activity_date":1653636069,"creation_date":1501844223,"question_id":45505043,"body_markdown":"Spring supports creating queries by examples of the object to look for. Like:\r\n\r\n    //if not setting the age, it will always look for age=0\r\n    Person p = new Person();\r\n    p.setLastName(&quot;Smith&quot;);\r\n    List&lt;Person&gt; foundPersons = personRepository.findAll(Example.of(p));\r\n    \r\n    @Entity\r\n    public class Person {\r\n      private String firstName;\r\n      private String lastName;\r\n      private LocalDate dob;\r\n      private int age;\r\n    }\r\n\r\nProblem: if the `@Entity` has primitive fields, then their default value will actually be used for creating the query. The example above will result in:\r\n\r\n`SELECT * from persons where lastname := &#39;Smith&#39; and age := 0`\r\n\r\nIn my example I have a database field where `age` must always be filled, thus is not allowed to be `null`. Therefore the entity has a primitive `int age` field.\r\n\r\nOf course I could now change the field to `Integer age`, but then I&#39;d marking the field being an optional nullable attribute, which is not true.\r\n\r\nSo, how can I skip primitives that have not been set on the `Example`?\r\n\r\n[Reference Example][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-examples/tree/master/jpa/query-by-example &quot;Reference&quot;","title":"Query-by-example skip primitives?","body":"<p>Spring supports creating queries by examples of the object to look for. Like:</p>\n\n<pre><code>//if not setting the age, it will always look for age=0\nPerson p = new Person();\np.setLastName(\"Smith\");\nList&lt;Person&gt; foundPersons = personRepository.findAll(Example.of(p));\n\n@Entity\npublic class Person {\n  private String firstName;\n  private String lastName;\n  private LocalDate dob;\n  private int age;\n}\n</code></pre>\n\n<p>Problem: if the <code>@Entity</code> has primitive fields, then their default value will actually be used for creating the query. The example above will result in:</p>\n\n<p><code>SELECT * from persons where lastname := 'Smith' and age := 0</code></p>\n\n<p>In my example I have a database field where <code>age</code> must always be filled, thus is not allowed to be <code>null</code>. Therefore the entity has a primitive <code>int age</code> field.</p>\n\n<p>Of course I could now change the field to <code>Integer age</code>, but then I'd marking the field being an optional nullable attribute, which is not true.</p>\n\n<p>So, how can I skip primitives that have not been set on the <code>Example</code>?</p>\n\n<p><a href=\"https://github.com/spring-projects/spring-data-examples/tree/master/jpa/query-by-example\" rel=\"noreferrer\" title=\"Reference\">Reference Example</a></p>\n"},{"tags":["java","spring","spring-boot","google-cloud-functions"],"answers":[{"tags":[],"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653636059,"creation_date":1653636059,"answer_id":72401834,"question_id":72398133,"body_markdown":"Cloud Functions is designed to handle only a function, only ONE entry point. If you have several entry point (request mapping) you must host a webserver on App Engine or on Cloud Run.","title":"Cloud Function with Java and Springboot","body":"<p>Cloud Functions is designed to handle only a function, only ONE entry point. If you have several entry point (request mapping) you must host a webserver on App Engine or on Cloud Run.</p>\n"}],"owner":{"account_id":25400252,"reputation":1,"user_id":19209883,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653636059,"creation_date":1653600049,"question_id":72398133,"body_markdown":"I&#39;m pretty new to this stuff, but I need it for university. So maybe someone can help me please?\r\nI&#39;ve made a little Java Application with Springboot to handle a simple ToDo-List:\r\n``` \r\npackage coco.ToDo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\npublic class ToDoListController {\r\n\r\n    private final ToDoListService toDoListService;\r\n\r\n    @Autowired\r\n    public ToDoListController(ToDoListService toDoListService) {\r\n        this.toDoListService = toDoListService;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/ToDoList&quot;)\r\n    public List&lt;ToDo&gt; getToDoList() {\r\n        return toDoListService.getToDoList();\r\n    }\r\n    \r\n    @RequestMapping(&quot;/ToDoList/add&quot;)\r\n    public void addToDo(@RequestParam(&quot;ToDo&quot;) String toDo){\r\n        toDoListService.addToDo(toDo);\r\n    }\r\n}\r\n ```\r\n\r\nI would like to run it on gcloud with Cloud Functions.\r\nBut i haven&#39;t figured it out yet. \r\n","title":"Cloud Function with Java and Springboot","body":"<p>I'm pretty new to this stuff, but I need it for university. So maybe someone can help me please?\nI've made a little Java Application with Springboot to handle a simple ToDo-List:</p>\n<pre><code>package coco.ToDo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\npublic class ToDoListController {\n\n    private final ToDoListService toDoListService;\n\n    @Autowired\n    public ToDoListController(ToDoListService toDoListService) {\n        this.toDoListService = toDoListService;\n    }\n\n    @RequestMapping(value = &quot;/ToDoList&quot;)\n    public List&lt;ToDo&gt; getToDoList() {\n        return toDoListService.getToDoList();\n    }\n    \n    @RequestMapping(&quot;/ToDoList/add&quot;)\n    public void addToDo(@RequestParam(&quot;ToDo&quot;) String toDo){\n        toDoListService.addToDo(toDo);\n    }\n}\n</code></pre>\n<p>I would like to run it on gcloud with Cloud Functions.\nBut i haven't figured it out yet.</p>\n"},{"tags":["java","arrays","filter","discord","discord-jda"],"comments":[{"owner":{"account_id":12843211,"reputation":822,"user_id":9290563,"display_name":"Danny"},"score":0,"creation_date":1654072675,"post_id":72394191,"comment_id":128002445,"body_markdown":"Would you mind adding the actual code you tried to your question? Right now, one can only assume what went wrong.","body":"Would you mind adding the actual code you tried to your question? Right now, one can only assume what went wrong."},{"owner":{"account_id":25394098,"reputation":1,"user_id":19204613,"display_name":"novice151"},"score":0,"creation_date":1656054561,"post_id":72394191,"comment_id":128482419,"body_markdown":"I solved this problem by using ButtonEvent. Sorry for the late reply, and I felt it was difficult to solve it because I couldn&#39;t use getMessageId method in the addreaction.","body":"I solved this problem by using ButtonEvent. Sorry for the late reply, and I felt it was difficult to solve it because I couldn&#39;t use getMessageId method in the addreaction."}],"owner":{"account_id":25394098,"reputation":1,"user_id":19204613,"display_name":"novice151"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653635955,"creation_date":1653578529,"question_id":72394191,"body_markdown":"\r\nWhen the user reacts, I want to edit the embed to insert the user&#39;s nickname into a field.\r\nSo I tried to use the onGuildMessageReactionAdd method but it failed. Is there a way?\r\n```\r\n  @Override\r\n    public void onGuildMessageReceived(GuildMessageReceivedEvent event) {\r\n        String[] args = event.getMessage().getContentRaw().split(&quot; &quot;);\r\n        String UserName = Objects.requireNonNull(event.getMember()).getNickname();\r\n        TextChannel textChannel = event.getGuild().getTextChannelById(SendChannelId); \r\n        if (args[0].equalsIgnoreCase(prefix + &quot;test&quot;)) {\r\n            EmbedBuilder embed = new EmbedBuilder();\r\n            try {\r\n                embed.setTitle(args[1], &quot;&quot;);\r\n            } catch (ArrayIndexOutOfBoundsException e) {\r\n                embed.addField(&quot;testField&quot;, &quot;testField&quot;, false);\r\n                embed.setFooter(&quot;test&quot;, Objects.requireNonNull(event.getGuild().getOwner()).getUser().getAvatarUrl());\r\n                event.getChannel().sendMessage(embed.build()).queue();\r\n                embed.clear();\r\n                return;\r\n            }\r\n            embed.addField(&quot;...&quot;, UserName, false);\r\n            embed.addField(&quot;...&quot;, &quot;&quot;, false); //I want to edit this field!\r\n            embed.addField(&quot;...&quot;, &quot;&quot;, false); \r\n             try {\r\n                embed.addField(&quot;...&quot;, args[2], false);\r\n            } catch (ArrayIndexOutOfBoundsException e) {\r\n                embed.addField(&quot;...&quot;, &quot;...&quot;, false);\r\n            }\r\n\r\n            embed.setColor(Color.CYAN);\r\n            embed.setFooter(&quot;test&quot;, Objects.requireNonNull(event.getGuild().getOwner()).getUser().getAvatarUrl());\r\n            Objects.requireNonNull(textChannel).sendMessage(embed.build()).override(true).queue(message -&gt; {\r\n                message.addReaction(&quot;minn:&quot; + emoji1).queue(); //When User react to this emoji\r\n                message.addReaction(&quot;minn:&quot; + emoji2).queue();\r\n                temp.push(message.getId());\r\n                target.put(event.getMember().getUser().getId().hashCode(), temp);\r\n                keySet = target.keySet();\r\n\r\n            });\r\n            embed.clear();\r\n        }\r\n&#39;&#39;&#39;","title":"How can I edit the embed when the user reacts? JDA","body":"<p>When the user reacts, I want to edit the embed to insert the user's nickname into a field.\nSo I tried to use the onGuildMessageReactionAdd method but it failed. Is there a way?</p>\n<pre><code>  @Override\n    public void onGuildMessageReceived(GuildMessageReceivedEvent event) {\n        String[] args = event.getMessage().getContentRaw().split(&quot; &quot;);\n        String UserName = Objects.requireNonNull(event.getMember()).getNickname();\n        TextChannel textChannel = event.getGuild().getTextChannelById(SendChannelId); \n        if (args[0].equalsIgnoreCase(prefix + &quot;test&quot;)) {\n            EmbedBuilder embed = new EmbedBuilder();\n            try {\n                embed.setTitle(args[1], &quot;&quot;);\n            } catch (ArrayIndexOutOfBoundsException e) {\n                embed.addField(&quot;testField&quot;, &quot;testField&quot;, false);\n                embed.setFooter(&quot;test&quot;, Objects.requireNonNull(event.getGuild().getOwner()).getUser().getAvatarUrl());\n                event.getChannel().sendMessage(embed.build()).queue();\n                embed.clear();\n                return;\n            }\n            embed.addField(&quot;...&quot;, UserName, false);\n            embed.addField(&quot;...&quot;, &quot;&quot;, false); //I want to edit this field!\n            embed.addField(&quot;...&quot;, &quot;&quot;, false); \n             try {\n                embed.addField(&quot;...&quot;, args[2], false);\n            } catch (ArrayIndexOutOfBoundsException e) {\n                embed.addField(&quot;...&quot;, &quot;...&quot;, false);\n            }\n\n            embed.setColor(Color.CYAN);\n            embed.setFooter(&quot;test&quot;, Objects.requireNonNull(event.getGuild().getOwner()).getUser().getAvatarUrl());\n            Objects.requireNonNull(textChannel).sendMessage(embed.build()).override(true).queue(message -&gt; {\n                message.addReaction(&quot;minn:&quot; + emoji1).queue(); //When User react to this emoji\n                message.addReaction(&quot;minn:&quot; + emoji2).queue();\n                temp.push(message.getId());\n                target.put(event.getMember().getUser().getId().hashCode(), temp);\n                keySet = target.keySet();\n\n            });\n            embed.clear();\n        }\n'''\n</code></pre>\n"},{"tags":["java","spring-boot","drools","rules"],"comments":[{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1653574385,"post_id":72390675,"comment_id":127888534,"body_markdown":"do you get any logs?","body":"do you get any logs?"},{"owner":{"account_id":19515098,"reputation":23,"user_id":14278155,"display_name":"Utku Uslusoy"},"score":0,"creation_date":1653575246,"post_id":72390675,"comment_id":127888857,"body_markdown":"no I don&#39;t get any logs @JonathanS.Fisher","body":"no I don&#39;t get any logs @JonathanS.Fisher"},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1653580615,"post_id":72390675,"comment_id":127890966,"body_markdown":"Does Transaction class have a `getTest()` method or a public variable `test`? You only show your modification, not the original.","body":"Does Transaction class have a <code>getTest()</code> method or a public variable <code>test</code>? You only show your modification, not the original."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1653597513,"post_id":72390675,"comment_id":127896515,"body_markdown":"@HasanCanSaral you fundamentally changed the code in the question, what gives?","body":"@HasanCanSaral you fundamentally changed the code in the question, what gives?"},{"owner":{"account_id":19515098,"reputation":23,"user_id":14278155,"display_name":"Utku Uslusoy"},"score":0,"creation_date":1653630278,"post_id":72390675,"comment_id":127901786,"body_markdown":"Original Transaction class does not have a test method I created new one @RoddyoftheFrozenPeas , we are in the same company with HasanCanSaral","body":"Original Transaction class does not have a test method I created new one @RoddyoftheFrozenPeas , we are in the same company with HasanCanSaral"}],"answers":[{"tags":[],"owner":{"account_id":19515098,"reputation":23,"user_id":14278155,"display_name":"Utku Uslusoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653635875,"creation_date":1653635875,"answer_id":72401792,"question_id":72390675,"body_markdown":"I have load Transaction class from containers classloader and it worked.\r\n\r\n    final KieSession kSession = container\r\n                    .getKieContainer()\r\n                    .newKieBase(configuration)\r\n                    .newKieSession();\r\n\r\n    Class&lt;?&gt; classA = container.getKieContainer().getClassLoader().loadClass(&quot;com.example.Transaction&quot;);\r\n    \r\n    Object transaction = classA.getDeclaredConstructor().newInstance();\r\n    \r\n    kSession.insert(transaction);\r\n    kSession.fireAllRules();\r\n\r\n","title":"Drools KieContainer does not fire rules with custom classloader","body":"<p>I have load Transaction class from containers classloader and it worked.</p>\n<pre><code>final KieSession kSession = container\n                .getKieContainer()\n                .newKieBase(configuration)\n                .newKieSession();\n\nClass&lt;?&gt; classA = container.getKieContainer().getClassLoader().loadClass(&quot;com.example.Transaction&quot;);\n\nObject transaction = classA.getDeclaredConstructor().newInstance();\n\nkSession.insert(transaction);\nkSession.fireAllRules();\n</code></pre>\n"}],"owner":{"account_id":19515098,"reputation":23,"user_id":14278155,"display_name":"Utku Uslusoy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72401792,"answer_count":1,"score":1,"last_activity_date":1653635875,"creation_date":1653562496,"question_id":72390675,"body_markdown":"I am trying to add a non-existing method to a Java bean, compile it and use the newly added method in Drools rules. Via a custom class loader.\r\n\r\nI am using [CompilerUtils](https://github.com/OpenHFT/Java-Runtime-Compiler) to bind newly modified class to the custom `ClassLoader` as follows:\r\n\r\n\r\n```java\r\n        ClassLoader loader = new ClassLoader(){};\r\n\r\n        String className = &quot;com.example.Transaction&quot;;\r\n\r\n        String path = &quot;file:D:/workspace/Transaction.class.tmp&quot;; // a tmp file that contains source for Java bean\r\n\r\n        try {\r\n\r\n            URL transactionUrl = new URL(path);\r\n\r\n            URLConnection connection = transactionUrl.openConnection();\r\n\r\n            InputStream input = connection.getInputStream();\r\n\r\n            String transactionClass = new String(StreamUtils.copyToByteArray(input), StandardCharsets.UTF_8);\r\n\r\n            System.out.println(transactionClass);\r\n\r\n            String javaCode = &quot;\\npublic int test() {\\n&quot; +\r\n                    &quot;        return 3;\\n&quot; +\r\n                    &quot;    }\\n&quot; +\r\n                    &quot;}&quot;;\r\n\r\n            String updatedClassString = transactionClass.substring(0, transactionClass.length() - 1).concat(javaCode);\r\n\r\n            Class&lt;?&gt; classB = CompilerUtils.CACHED_COMPILER.loadFromJava(loader, className, updatedClassString); // This is where the loader is made aware of the newly compiled class\r\n            \r\n            return loader;\r\n\r\n\r\n        } catch (IOException | ClassNotFoundException exception) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return null;\r\n\r\n```\r\nAnd this is where I give access to drools my classloader\r\n\r\n```java\r\n   \r\n        final KieServices kServices = KieServices.Factory.get();\r\n        final KieFileSystem kFileSystem = kServices.newKieFileSystem();\r\n\r\n        final KieModuleModel kModuleModel = KieRulePopulator.kieModuleModel();\r\n        if (kModuleModel != null) kFileSystem.writeKModuleXML(kModuleModel.toXML());\r\n\r\n        kServices\r\n                .newKieBuilder(kFileSystem, classLoader)\r\n                .buildAll();\r\n        }\r\n\r\n        KieContainer container = kServices.newKieContainer(kServices\r\n                .getRepository()\r\n                .getDefaultReleaseId(), classLoader);\r\n\r\n```\r\nThis is how I fire rules\r\n\r\n```java\r\n\r\n       final KieBaseConfiguration configuration = KieServices.Factory.get().newKieBaseConfiguration();\r\n\r\n       final KieSession kSession = container\r\n                .getKieContainer()\r\n                .newKieBase(configuration)\r\n                .newKieSession();\r\n\r\nTransaction someTransaction = new Transaction();\r\n\r\nkSession.insert(transaction);\r\nkSession.fireAllRules();\r\n    \r\n```\r\n\r\nAnd this is my rule\r\n\r\n```java\r\n    rule &quot;Rule_31F6DE769554404B89D4E3B7B5979CA1&quot;\r\n\tdialect &quot;java&quot;\r\n    no-loop true\r\n    \r\n\twhen\r\n\t\ttr : Transaction( test == 3 )\r\n\r\n\tthen\r\n        System.out.println(&quot;deneme&quot;);\r\n    end\r\n```","title":"Drools KieContainer does not fire rules with custom classloader","body":"<p>I am trying to add a non-existing method to a Java bean, compile it and use the newly added method in Drools rules. Via a custom class loader.</p>\n<p>I am using <a href=\"https://github.com/OpenHFT/Java-Runtime-Compiler\" rel=\"nofollow noreferrer\">CompilerUtils</a> to bind newly modified class to the custom <code>ClassLoader</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ClassLoader loader = new ClassLoader(){};\n\n        String className = &quot;com.example.Transaction&quot;;\n\n        String path = &quot;file:D:/workspace/Transaction.class.tmp&quot;; // a tmp file that contains source for Java bean\n\n        try {\n\n            URL transactionUrl = new URL(path);\n\n            URLConnection connection = transactionUrl.openConnection();\n\n            InputStream input = connection.getInputStream();\n\n            String transactionClass = new String(StreamUtils.copyToByteArray(input), StandardCharsets.UTF_8);\n\n            System.out.println(transactionClass);\n\n            String javaCode = &quot;\\npublic int test() {\\n&quot; +\n                    &quot;        return 3;\\n&quot; +\n                    &quot;    }\\n&quot; +\n                    &quot;}&quot;;\n\n            String updatedClassString = transactionClass.substring(0, transactionClass.length() - 1).concat(javaCode);\n\n            Class&lt;?&gt; classB = CompilerUtils.CACHED_COMPILER.loadFromJava(loader, className, updatedClassString); // This is where the loader is made aware of the newly compiled class\n            \n            return loader;\n\n\n        } catch (IOException | ClassNotFoundException exception) {\n            e.printStackTrace();\n        }\n\n        return null;\n\n</code></pre>\n<p>And this is where I give access to drools my classloader</p>\n<pre class=\"lang-java prettyprint-override\"><code>   \n        final KieServices kServices = KieServices.Factory.get();\n        final KieFileSystem kFileSystem = kServices.newKieFileSystem();\n\n        final KieModuleModel kModuleModel = KieRulePopulator.kieModuleModel();\n        if (kModuleModel != null) kFileSystem.writeKModuleXML(kModuleModel.toXML());\n\n        kServices\n                .newKieBuilder(kFileSystem, classLoader)\n                .buildAll();\n        }\n\n        KieContainer container = kServices.newKieContainer(kServices\n                .getRepository()\n                .getDefaultReleaseId(), classLoader);\n\n</code></pre>\n<p>This is how I fire rules</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n       final KieBaseConfiguration configuration = KieServices.Factory.get().newKieBaseConfiguration();\n\n       final KieSession kSession = container\n                .getKieContainer()\n                .newKieBase(configuration)\n                .newKieSession();\n\nTransaction someTransaction = new Transaction();\n\nkSession.insert(transaction);\nkSession.fireAllRules();\n    \n</code></pre>\n<p>And this is my rule</p>\n<pre class=\"lang-java prettyprint-override\"><code>    rule &quot;Rule_31F6DE769554404B89D4E3B7B5979CA1&quot;\n    dialect &quot;java&quot;\n    no-loop true\n    \n    when\n        tr : Transaction( test == 3 )\n\n    then\n        System.out.println(&quot;deneme&quot;);\n    end\n</code></pre>\n"},{"tags":["java","avro","confluent-platform","kafka-producer-api","confluent-schema-registry"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1653690610,"post_id":72400180,"comment_id":127920562,"body_markdown":"Is the registry actually running and healthy? Can you make a request to `http://localhost:8081/subjects`? Do you see any logs from the registry server when your producer runs?","body":"Is the registry actually running and healthy? Can you make a request to <code>http:&#47;&#47;localhost:8081&#47;subjects</code>? Do you see any logs from the registry server when your producer runs?"}],"owner":{"account_id":17006542,"reputation":79,"user_id":12302627,"display_name":"Vishist Bhoopalam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653635768,"creation_date":1653622406,"question_id":72400180,"body_markdown":"I am trying to create a topic and produce an avro record to a kafka topic, but I am facing an issue while send the record to the producer. I am getting an error.\r\n\r\n```\r\norg.apache.kafka.common.errors.SerializationException: Error registering Avro schema: {&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;MyClass&quot;,&quot;namespace&quot;:&quot;com.test.avro&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;event_type&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;time_stamp&quot;,&quot;type&quot;:&quot;long&quot;},{&quot;name&quot;:&quot;context&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;context&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;device&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;type&quot;,&quot;type&quot;:&quot;string&quot;}]}}]}\r\nCaused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: null; error code: 0\r\n\tat io.confluent.kafka.schemaregistry.client.rest.RestService.sendHttpRequest(RestService.java:294)\r\nCaused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: null; error code: 0\r\n\r\n```\r\nI am not able to fix the issue.\r\n\r\nI tried changing the version of kafka avro seriaizer from 5.3.0 version to 7.1.1\r\n\r\n```\r\nimplementation group: &#39;io.confluent&#39;, name: &#39;kafka-avro-serializer&#39;, version: &#39;5.3.0&#39;\r\n\r\n```\r\nFacing the same issue in all the version.\r\n\r\nMy code was able to create the topic was throwing an error when I was sending/submitting a record to the topic\r\n\r\n\r\n```\r\n producer.send(record);\r\n\r\n```\r\n\r\nSharing my code as well.\r\n\r\n```\r\nimport org.apache.avro.Schema;\r\nimport org.apache.avro.generic.GenericData;\r\nimport org.apache.avro.generic.GenericRecord;\r\nimport org.apache.kafka.clients.producer.KafkaProducer;\r\nimport org.apache.kafka.clients.producer.ProducerConfig;\r\nimport org.apache.kafka.clients.producer.ProducerRecord;\r\n\r\nimport java.util.Properties;\r\n\r\n\r\npublic class AvroSerialization {\r\n    public static void main(String[] args) {\r\n        Properties props = new Properties();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\r\n                org.apache.kafka.common.serialization.StringSerializer.class);\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\r\n                io.confluent.kafka.serializers.KafkaAvroSerializer.class);\r\n        props.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\r\n        KafkaProducer&lt;Object, Object&gt; producer = new KafkaProducer&lt;&gt;(props);\r\n\r\n\r\n        String key = &quot;key1&quot;;\r\n        String userSchema =  &quot;{\\n&quot; +\r\n                &quot;  \\&quot;type\\&quot; : \\&quot;record\\&quot;,\\n&quot; +\r\n                &quot;  \\&quot;name\\&quot; : \\&quot;MyClass\\&quot;,\\n&quot; +\r\n                &quot;  \\&quot;namespace\\&quot; : \\&quot;com.test.avro\\&quot;,\\n&quot; +\r\n                &quot;  \\&quot;fields\\&quot; : [ {\\n&quot; +\r\n                &quot;    \\&quot;name\\&quot; : \\&quot;event_type\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;type\\&quot; : \\&quot;string\\&quot;\\n&quot; +\r\n                &quot;  }, {\\n&quot; +\r\n                &quot;    \\&quot;name\\&quot; : \\&quot;time_stamp\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;type\\&quot; : \\&quot;long\\&quot;\\n&quot; +\r\n                &quot;  }, {\\n&quot; +\r\n                &quot;    \\&quot;name\\&quot; : \\&quot;context\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;type\\&quot; : {\\n&quot; +\r\n                &quot;      \\&quot;type\\&quot; : \\&quot;record\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;name\\&quot; : \\&quot;context\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;fields\\&quot; : [ {\\n&quot; +\r\n                &quot;        \\&quot;name\\&quot; : \\&quot;device\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;type\\&quot; : \\&quot;string\\&quot;\\n&quot; +\r\n                &quot;      }, {\\n&quot; +\r\n                &quot;        \\&quot;name\\&quot; : \\&quot;type\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;type\\&quot; : \\&quot;string\\&quot;\\n&quot; +\r\n                &quot;      }]\\n&quot; +\r\n                &quot;    }\\n&quot; +\r\n                &quot;  } ]\\n&quot; +\r\n                &quot;}&quot;;\r\n\r\n\r\n        Schema.Parser parser = new Schema.Parser();\r\n        Schema schema = parser.parse(userSchema);\r\n        GenericRecord avroRecord = new GenericData.Record(schema);\r\n        GenericRecord context = new GenericData.Record(schema.getField(&quot;context&quot;).schema());\r\n        avroRecord.put(&quot;event_type&quot;, &quot;visit&quot;);\r\n        avroRecord.put(&quot;time_stamp&quot;, System.currentTimeMillis());\r\n        context.put(&quot;device&quot;, &quot;ios&quot;);\r\n        context.put(&quot;type&quot;,&quot;iphone12max&quot;);\r\n        avroRecord.put(&quot;context&quot;, context);\r\n\r\n        ProducerRecord&lt;Object, Object&gt; record = new ProducerRecord&lt;&gt;(&quot;avrotopic&quot;, avroRecord);\r\n        try {\r\n            producer.send(record);\r\n        } catch (Throwable e) {\r\n            e.printStackTrace();\r\n            // may need to do something with it\r\n        }\r\n// When you&#39;re finished producing records, you can flush the producer to ensure it has all been written to Kafka and\r\n// then close the producer to free its resources.\r\n        finally {\r\n            producer.flush();\r\n            producer.close();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```","title":"kafka producer throwing error when sending an Avro record to topic:io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: null","body":"<p>I am trying to create a topic and produce an avro record to a kafka topic, but I am facing an issue while send the record to the producer. I am getting an error.</p>\n<pre><code>org.apache.kafka.common.errors.SerializationException: Error registering Avro schema: {&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;MyClass&quot;,&quot;namespace&quot;:&quot;com.test.avro&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;event_type&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;time_stamp&quot;,&quot;type&quot;:&quot;long&quot;},{&quot;name&quot;:&quot;context&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;context&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;device&quot;,&quot;type&quot;:&quot;string&quot;},{&quot;name&quot;:&quot;type&quot;,&quot;type&quot;:&quot;string&quot;}]}}]}\nCaused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: null; error code: 0\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.sendHttpRequest(RestService.java:294)\nCaused by: io.confluent.kafka.schemaregistry.client.rest.exceptions.RestClientException: null; error code: 0\n\n</code></pre>\n<p>I am not able to fix the issue.</p>\n<p>I tried changing the version of kafka avro seriaizer from 5.3.0 version to 7.1.1</p>\n<pre><code>implementation group: 'io.confluent', name: 'kafka-avro-serializer', version: '5.3.0'\n\n</code></pre>\n<p>Facing the same issue in all the version.</p>\n<p>My code was able to create the topic was throwing an error when I was sending/submitting a record to the topic</p>\n<pre><code> producer.send(record);\n\n</code></pre>\n<p>Sharing my code as well.</p>\n<pre><code>import org.apache.avro.Schema;\nimport org.apache.avro.generic.GenericData;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.clients.producer.ProducerRecord;\n\nimport java.util.Properties;\n\n\npublic class AvroSerialization {\n    public static void main(String[] args) {\n        Properties props = new Properties();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\n                org.apache.kafka.common.serialization.StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\n                io.confluent.kafka.serializers.KafkaAvroSerializer.class);\n        props.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\n        KafkaProducer&lt;Object, Object&gt; producer = new KafkaProducer&lt;&gt;(props);\n\n\n        String key = &quot;key1&quot;;\n        String userSchema =  &quot;{\\n&quot; +\n                &quot;  \\&quot;type\\&quot; : \\&quot;record\\&quot;,\\n&quot; +\n                &quot;  \\&quot;name\\&quot; : \\&quot;MyClass\\&quot;,\\n&quot; +\n                &quot;  \\&quot;namespace\\&quot; : \\&quot;com.test.avro\\&quot;,\\n&quot; +\n                &quot;  \\&quot;fields\\&quot; : [ {\\n&quot; +\n                &quot;    \\&quot;name\\&quot; : \\&quot;event_type\\&quot;,\\n&quot; +\n                &quot;    \\&quot;type\\&quot; : \\&quot;string\\&quot;\\n&quot; +\n                &quot;  }, {\\n&quot; +\n                &quot;    \\&quot;name\\&quot; : \\&quot;time_stamp\\&quot;,\\n&quot; +\n                &quot;    \\&quot;type\\&quot; : \\&quot;long\\&quot;\\n&quot; +\n                &quot;  }, {\\n&quot; +\n                &quot;    \\&quot;name\\&quot; : \\&quot;context\\&quot;,\\n&quot; +\n                &quot;    \\&quot;type\\&quot; : {\\n&quot; +\n                &quot;      \\&quot;type\\&quot; : \\&quot;record\\&quot;,\\n&quot; +\n                &quot;      \\&quot;name\\&quot; : \\&quot;context\\&quot;,\\n&quot; +\n                &quot;      \\&quot;fields\\&quot; : [ {\\n&quot; +\n                &quot;        \\&quot;name\\&quot; : \\&quot;device\\&quot;,\\n&quot; +\n                &quot;        \\&quot;type\\&quot; : \\&quot;string\\&quot;\\n&quot; +\n                &quot;      }, {\\n&quot; +\n                &quot;        \\&quot;name\\&quot; : \\&quot;type\\&quot;,\\n&quot; +\n                &quot;        \\&quot;type\\&quot; : \\&quot;string\\&quot;\\n&quot; +\n                &quot;      }]\\n&quot; +\n                &quot;    }\\n&quot; +\n                &quot;  } ]\\n&quot; +\n                &quot;}&quot;;\n\n\n        Schema.Parser parser = new Schema.Parser();\n        Schema schema = parser.parse(userSchema);\n        GenericRecord avroRecord = new GenericData.Record(schema);\n        GenericRecord context = new GenericData.Record(schema.getField(&quot;context&quot;).schema());\n        avroRecord.put(&quot;event_type&quot;, &quot;visit&quot;);\n        avroRecord.put(&quot;time_stamp&quot;, System.currentTimeMillis());\n        context.put(&quot;device&quot;, &quot;ios&quot;);\n        context.put(&quot;type&quot;,&quot;iphone12max&quot;);\n        avroRecord.put(&quot;context&quot;, context);\n\n        ProducerRecord&lt;Object, Object&gt; record = new ProducerRecord&lt;&gt;(&quot;avrotopic&quot;, avroRecord);\n        try {\n            producer.send(record);\n        } catch (Throwable e) {\n            e.printStackTrace();\n            // may need to do something with it\n        }\n// When you're finished producing records, you can flush the producer to ensure it has all been written to Kafka and\n// then close the producer to free its resources.\n        finally {\n            producer.flush();\n            producer.close();\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","security","encryption","amazon-kms"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1653623846,"post_id":72400291,"comment_id":127900881,"body_markdown":"Question is very unclear. It seems like you want to use a symmetric key to generate (?) an asymmetric keypair? (Btw, the inverse of &quot;encrypt&quot; is &quot;decrypt&quot;.)","body":"Question is very unclear. It seems like you want to use a symmetric key to generate (?) an asymmetric keypair? (Btw, the inverse of &quot;encrypt&quot; is &quot;decrypt&quot;.)"},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1653624434,"post_id":72400291,"comment_id":127900949,"body_markdown":"I have add some explain but I still did not know what is the right words to explain the two key name generate by custom master key. I called it plaintext data key and encrypt data key. the plaintext data key to encrypt password and encrypt data key to decrypt the password in the future.@RobbyCornelissen","body":"I have add some explain but I still did not know what is the right words to explain the two key name generate by custom master key. I called it plaintext data key and encrypt data key. the plaintext data key to encrypt password and encrypt data key to decrypt the password in the future.@RobbyCornelissen"},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":1,"creation_date":1653649915,"post_id":72400291,"comment_id":127907612,"body_markdown":"That diagram shows something fundamentally different from the text of your question. The `plaintext data key` is the symmetric key that you will actually use to encrypt and decrypt the data. The `encrypted data key` is that original key &#39;wrapped&#39; under the KMS key. You can (and typically will) safely store this encrypted data key with the ciphertext. To decrypt a ciphertext you take the EDK, unwrap it using the KMS key to obtain the original data key - and use that to decrypt the data.","body":"That diagram shows something fundamentally different from the text of your question. The <code>plaintext data key</code> is the symmetric key that you will actually use to encrypt and decrypt the data. The <code>encrypted data key</code> is that original key &#39;wrapped&#39; under the KMS key. You can (and typically will) safely store this encrypted data key with the ciphertext. To decrypt a ciphertext you take the EDK, unwrap it using the KMS key to obtain the original data key - and use that to decrypt the data."},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":1,"creation_date":1653650226,"post_id":72400291,"comment_id":127907713,"body_markdown":"There are two KMS primitives that let you &quot;generate the encrypt key&quot;: either you (cryptographically securely, of course) generate it yourself and then `encrypt` it with the master key and the context to obtain the EDK; or you have KMS do the work for you - the other primitive generates a PDK for you, encrypts it and returns to you this random PDK and the PDK encrypted (with the context) as the EDK.","body":"There are two KMS primitives that let you &quot;generate the encrypt key&quot;: either you (cryptographically securely, of course) generate it yourself and then <code>encrypt</code> it with the master key and the context to obtain the EDK; or you have KMS do the work for you - the other primitive generates a PDK for you, encrypts it and returns to you this random PDK and the PDK encrypted (with the context) as the EDK."},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":1,"creation_date":1653651355,"post_id":72400291,"comment_id":127908098,"body_markdown":"If what you are looking to do is encrypt and decrypt data using key(s) stored in KMS, don&#39;t roll your own. Use the AWS Encryption SDK: https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/java.html This does the work for you and provides additional best-practice features you&#39;d be unlikely to add on your own, like key derivation and commitment and (optional) signing.","body":"If what you are looking to do is encrypt and decrypt data using key(s) stored in KMS, don&#39;t roll your own. Use the AWS Encryption SDK: <a href=\"https://docs.aws.amazon.com/encryption-sdk/latest/developer-guide/java.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/encryption-sdk/latest/developer-guide/&hellip;</a> This does the work for you and provides additional best-practice features you&#39;d be unlikely to add on your own, like key derivation and commitment and (optional) signing."}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653635688,"creation_date":1653623594,"question_id":72400291,"body_markdown":"I am reading the amazon key management system [docs][1]. I have tried to implement the encrypt and decrypt workflow by myself. I am using this java code to generate a custom master key like this:\r\n\r\n      private static SecretKey generateMasterKey() throws NoSuchAlgorithmException {\r\n      \tKeyGenerator keyGen = null;\r\n    \r\n      \tkeyGen = KeyGenerator.getInstance(&quot;AES&quot;); \r\n      \t\r\n      \tkeyGen.init(256); // 256 bit key\r\n      \tSecretKey masterKey = keyGen.generateKey();\r\n      \treturn masterKey;\r\n      }\r\n\r\n\r\n\r\nThe next step is to use the [custom master key][2] to generate 2 types of key, the encrypt key and unencrypt key (I do not know how to explain the key name the right way, the key could encrypt the password for the next step). I want to use the unencrypt key to encrypt the password and store the password encrypt content and encrypt text in database. How to generate the encrypt key and unencrypt key from the custom master key? The two keys like the image:\r\n\r\n\r\n[![enter image description here][3]][3]\r\n \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/kms/latest/developerguide/create-keys.html\r\n  [2]: https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-cmk\r\n  [3]: https://i.stack.imgur.com/UY7AL.png","title":"how to using Custom Master Key to generate plain key and encrypt key with java","body":"<p>I am reading the amazon key management system <a href=\"https://docs.aws.amazon.com/kms/latest/developerguide/create-keys.html\" rel=\"nofollow noreferrer\">docs</a>. I have tried to implement the encrypt and decrypt workflow by myself. I am using this java code to generate a custom master key like this:</p>\n<pre><code>  private static SecretKey generateMasterKey() throws NoSuchAlgorithmException {\n    KeyGenerator keyGen = null;\n\n    keyGen = KeyGenerator.getInstance(&quot;AES&quot;); \n    \n    keyGen.init(256); // 256 bit key\n    SecretKey masterKey = keyGen.generateKey();\n    return masterKey;\n  }\n</code></pre>\n<p>The next step is to use the <a href=\"https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-cmk\" rel=\"nofollow noreferrer\">custom master key</a> to generate 2 types of key, the encrypt key and unencrypt key (I do not know how to explain the key name the right way, the key could encrypt the password for the next step). I want to use the unencrypt key to encrypt the password and store the password encrypt content and encrypt text in database. How to generate the encrypt key and unencrypt key from the custom master key? The two keys like the image:</p>\n<p><a href=\"https://i.stack.imgur.com/UY7AL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UY7AL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":2,"creation_date":1610110191,"post_id":65629255,"comment_id":116034902,"body_markdown":"With binary search you can find the index to the value 80, and then the index is the number of the elements less than 80 (assuming ascending order).","body":"With binary search you can find the index to the value 80, and then the index is the number of the elements less than 80 (assuming ascending order)."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1610110244,"post_id":65629255,"comment_id":116034929,"body_markdown":"or, stream, filter, ...","body":"or, stream, filter, ..."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1610110699,"post_id":65629255,"comment_id":116035166,"body_markdown":"&quot;I was thinking Binary Search but then again i&#39;m not searching for any key&quot; - well you are, in that you&#39;re trying to find *where that key lives in the array* (or where it would be if it did exist).","body":"&quot;I was thinking Binary Search but then again i&#39;m not searching for any key&quot; - well you are, in that you&#39;re trying to find <i>where that key lives in the array</i> (or where it would be if it did exist)."}],"answers":[{"tags":[],"owner":{"account_id":943859,"reputation":169,"user_id":4481812,"display_name":"Anderson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653635579,"creation_date":1610111125,"answer_id":65629533,"question_id":65629255,"body_markdown":"You can use [`Arrays.binarySearch`][1]. According to the documentation it returns the *index of the search key, if it is contained in the array; otherwise, `(-(insertion point) - 1)`*. Using your example:\r\n\r\n```java\r\nimport java.util.Arrays;\r\n\r\nclass Main {\r\n    public static void main(String args[]) {\r\n        int[] arr = {21, 32, 58, 70, 100, 4342};\r\n\r\n        int res70 = Arrays.binarySearch(arr, 70);// returns 3\r\n        int res80 = Arrays.binarySearch(arr, 80);// returns -5\r\n    }\r\n}\r\n```\r\n\r\nWith that in mind, you can use that information to get an efficient count: if the result is positive, the count is `result`, if the result is negative, the count is `(-result)-1` or `-(result+1)` (depending on your preference):\r\n\r\n```java\r\nimport java.util.Arrays;\r\n\r\nclass Main {\r\n    public static void main(String args[]) {\r\n        int[] arr = {21, 32, 58, 70, 100, 4342};\r\n\r\n        System.out.println(&quot;Count is:&quot; + count(arr, 70));// returns 3\r\n        System.out.println(&quot;Count is:&quot; + count(arr, 80));// returns 4\r\n    }\r\n\r\n    private static int count(int[] sortedArray, int n) {\r\n        int result = Arrays.binarySearch(sortedArray, n);\r\n        if (result &gt; -1) {\r\n            return result;\r\n        }\r\n        return (-result) - 1;\r\n    }\r\n}\r\n```\r\n\r\nFor the case where duplicates are possible, and multiple 80s exist in the array, there are two possible solutions:\r\n\r\n1. Do a linear search from the result of the binary search. This would make the worst-case `O(n)` though, while still being `O(lg n)` on average.\r\n\r\n2. Manually implement (or find a library that has) a binary search to find the last element equal to a value (while preserving the consideration for the element not found as the Java library does). An example of finding the last element exists in this answer: [Last index of multiple keys using binary-search?][2] That would keep worst-case at `O(lg n)`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#binarySearch(int[],%20int)\r\n  [2]: https://stackoverflow.com/questions/14415408/last-index-of-multiple-keys-using-binary-search/14415588#14415588","title":"How do I efficiently count elements less than a certain value in a sorted array?","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#binarySearch(int%5B%5D,%20int)\" rel=\"nofollow noreferrer\"><code>Arrays.binarySearch</code></a>. According to the documentation it returns the <em>index of the search key, if it is contained in the array; otherwise, <code>(-(insertion point) - 1)</code></em>. Using your example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\nclass Main {\n    public static void main(String args[]) {\n        int[] arr = {21, 32, 58, 70, 100, 4342};\n\n        int res70 = Arrays.binarySearch(arr, 70);// returns 3\n        int res80 = Arrays.binarySearch(arr, 80);// returns -5\n    }\n}\n</code></pre>\n<p>With that in mind, you can use that information to get an efficient count: if the result is positive, the count is <code>result</code>, if the result is negative, the count is <code>(-result)-1</code> or <code>-(result+1)</code> (depending on your preference):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\nclass Main {\n    public static void main(String args[]) {\n        int[] arr = {21, 32, 58, 70, 100, 4342};\n\n        System.out.println(&quot;Count is:&quot; + count(arr, 70));// returns 3\n        System.out.println(&quot;Count is:&quot; + count(arr, 80));// returns 4\n    }\n\n    private static int count(int[] sortedArray, int n) {\n        int result = Arrays.binarySearch(sortedArray, n);\n        if (result &gt; -1) {\n            return result;\n        }\n        return (-result) - 1;\n    }\n}\n</code></pre>\n<p>For the case where duplicates are possible, and multiple 80s exist in the array, there are two possible solutions:</p>\n<ol>\n<li><p>Do a linear search from the result of the binary search. This would make the worst-case <code>O(n)</code> though, while still being <code>O(lg n)</code> on average.</p>\n</li>\n<li><p>Manually implement (or find a library that has) a binary search to find the last element equal to a value (while preserving the consideration for the element not found as the Java library does). An example of finding the last element exists in this answer: <a href=\"https://stackoverflow.com/questions/14415408/last-index-of-multiple-keys-using-binary-search/14415588#14415588\">Last index of multiple keys using binary-search?</a> That would keep worst-case at <code>O(lg n)</code>.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"display_name":"user15309136"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615062379,"creation_date":1615062379,"answer_id":66510331,"question_id":65629255,"body_markdown":"Since *Java 9* you can use [`takeWhile`][1] and [`dropWhile`][2] methods if the source array is *ordered*:\r\n```java\r\nint key = 80, arr[] = {21, 32, 58, 70, 100, 4342};\r\n\r\nSystem.out.println(&quot;Count: &quot; + Arrays.stream(arr)\r\n        .takeWhile(i -&gt; i &lt; key)\r\n        .peek(i -&gt; System.out.print(i + &quot; &quot;))\r\n        .count()); // 21 32 58 70 Count: 4\r\n\r\nSystem.out.println(&quot;Count: &quot; + Arrays.stream(arr)\r\n        .dropWhile(i -&gt; i &lt; key)\r\n        .peek(i -&gt; System.out.print(i + &quot; &quot;))\r\n        .count()); // 100 4342 Count: 2\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/stream/IntStream.html#takeWhile-java.util.function.IntPredicate-\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/util/stream/IntStream.html#dropWhile-java.util.function.IntPredicate-","title":"How do I efficiently count elements less than a certain value in a sorted array?","body":"<p>Since <em>Java 9</em> you can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/IntStream.html#takeWhile-java.util.function.IntPredicate-\" rel=\"nofollow noreferrer\"><code>takeWhile</code></a> and <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/IntStream.html#dropWhile-java.util.function.IntPredicate-\" rel=\"nofollow noreferrer\"><code>dropWhile</code></a> methods if the source array is <em>ordered</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int key = 80, arr[] = {21, 32, 58, 70, 100, 4342};\n\nSystem.out.println(&quot;Count: &quot; + Arrays.stream(arr)\n        .takeWhile(i -&gt; i &lt; key)\n        .peek(i -&gt; System.out.print(i + &quot; &quot;))\n        .count()); // 21 32 58 70 Count: 4\n\nSystem.out.println(&quot;Count: &quot; + Arrays.stream(arr)\n        .dropWhile(i -&gt; i &lt; key)\n        .peek(i -&gt; System.out.print(i + &quot; &quot;))\n        .count()); // 100 4342 Count: 2\n</code></pre>\n"}],"owner":{"account_id":19442405,"reputation":21,"user_id":14220570,"display_name":"tootiefairy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65629533,"answer_count":2,"score":0,"last_activity_date":1653635579,"creation_date":1610110069,"question_id":65629255,"body_markdown":"Say for example I have a sorted array:\r\n\r\n```\r\n[21, 32, 58, 70, 100, 4342]\r\n```\r\n\r\nAnd a key value `80`\r\n\r\nHow do I efficiently count all values from 80 below without iterating through the whole array with an if condition? I was thinking Binary Search but then again i&#39;m not searching for any key, I just need the fastest way return the count of values less than or equal to key value.","title":"How do I efficiently count elements less than a certain value in a sorted array?","body":"<p>Say for example I have a sorted array:</p>\n<pre><code>[21, 32, 58, 70, 100, 4342]\n</code></pre>\n<p>And a key value <code>80</code></p>\n<p>How do I efficiently count all values from 80 below without iterating through the whole array with an if condition? I was thinking Binary Search but then again i'm not searching for any key, I just need the fastest way return the count of values less than or equal to key value.</p>\n"},{"tags":["java","spring","spring-boot","kotlin","security"],"comments":[{"owner":{"account_id":9539852,"reputation":31,"user_id":7088531,"display_name":"Vit Ph&#250;"},"score":0,"creation_date":1653632527,"post_id":72401154,"comment_id":127902241,"body_markdown":"I think this should be your answer\nhttps://stackoverflow.com/questions/59666903/how-can-test-a-spring-boot-controller-method-annoted-with-preauthorizedhasanya","body":"I think this should be your answer <a href=\"https://stackoverflow.com/questions/59666903/how-can-test-a-spring-boot-controller-method-annoted-with-preauthorizedhasanya\" title=\"how can test a spring boot controller method annoted with preauthorizedhasanya\">stackoverflow.com/questions/59666903/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25374072,"reputation":60,"user_id":19187445,"display_name":"Gannebal Barka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653635545,"creation_date":1653635545,"answer_id":72401738,"question_id":72401154,"body_markdown":"Usually you can use mock system for authorization with spring-test  \r\n```lang-xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n   &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n   &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n**For web FLUX**\r\n```lang-java\r\nimport org.springframework.security.test.context.support.WithMockUser;\r\nimport org.springframework.boot.test.autoconfigure.web.reactive.AutoConfigureWebTestClient;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\n@WithMockUser\r\n@SpringBootTest\r\n@AutoConfigureWebTestClient\r\nclass MyTest {\r\n    @Autowired\r\n    WebTestClient rest;\r\n\r\n    @Test\r\n    void fooTest() {\r\n      StatusAssertions.isOk(rest.get().uri(path).exchange().expectStatus())\r\n    }\r\n}\r\n```\r\n**For web MVC**\r\n```lang-java\r\nimport org.springframework.security.test.context.support.WithMockUser;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n@WithMockUser\r\n@AutoConfigureMockMvc\r\n@SpringBootTest\r\nclass MyTest {\r\n    @Autowired\r\n    private MockMvc mvc;\r\n\r\n    @Test\r\n    void fooTest() {\r\n      mvc.perform(get(&quot;path&quot;)).andExpect(status().isOk())\r\n    }\r\n}\r\n```","title":"how to disable @PreAuthorize for tests?","body":"<p>Usually you can use mock system for authorization with spring-test</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>For web FLUX</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.security.test.context.support.WithMockUser;\nimport org.springframework.boot.test.autoconfigure.web.reactive.AutoConfigureWebTestClient;\nimport org.springframework.beans.factory.annotation.Autowired;\n\n@WithMockUser\n@SpringBootTest\n@AutoConfigureWebTestClient\nclass MyTest {\n    @Autowired\n    WebTestClient rest;\n\n    @Test\n    void fooTest() {\n      StatusAssertions.isOk(rest.get().uri(path).exchange().expectStatus())\n    }\n}\n</code></pre>\n<p><strong>For web MVC</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.security.test.context.support.WithMockUser;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@WithMockUser\n@AutoConfigureMockMvc\n@SpringBootTest\nclass MyTest {\n    @Autowired\n    private MockMvc mvc;\n\n    @Test\n    void fooTest() {\n      mvc.perform(get(&quot;path&quot;)).andExpect(status().isOk())\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16189468,"reputation":804,"user_id":11688668,"display_name":"Ilya Y"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653635545,"creation_date":1653631862,"question_id":72401154,"body_markdown":"I use Spring Boot with Spring Security. I want to disable security so that @PreAuthorize. I partially managed to do it, but there is still an error.\r\n\r\nsecurity is partially disabled. but some part is included. finally, I would like to disable security for certain tests\r\n\r\n\r\n    org.springframework.security.access.AccessDeniedException: Access denied\r\n    \tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.attemptAuthorization(AbstractSecurityInterceptor.java:238) ~[spring-security-core-5.5.3.jar:5.5.3]\r\n\r\n\r\nThis is my controller\r\n\r\n    @PreAuthorize(&quot;hasAnyAuthority(&#39;ADMIN&#39;)&quot;)\r\n    @GetMapping(&quot;/hello&quot;)\r\n    fun hello(): String {\r\n        return &quot;Hello&quot;\r\n    }\r\n\r\nThis my Spring Configutarion for tests.\r\n\r\n    @TestConfiguration\r\n    @Order(1)\r\n    class TestSecurityConfig : WebSecurityConfigurerAdapter()  {\r\n    \r\n        @Override\r\n        override fun configure(httpSecurity: HttpSecurity) {\r\n            http.authorizeRequests()\r\n                .anyRequest().permitAll();\r\n    \r\n            http.csrf().disable()\r\n                .httpBasic().disable()\r\n                .formLogin().disable()\r\n                .logout().disable();\r\n        }\r\n    \r\n    }\r\n\r\nAnd finally my test class:\r\n\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n        classes = [TestSecurityConfig::class])\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @ExtendWith(SpringExtension::class)\r\n    class HelloControllerTest {\r\n    \r\n        @LocalServerPort\r\n        private var port: Int = 8281\r\n    \r\n        @Value(&quot;#{servletContext.contextPath}&quot;)\r\n        private lateinit var contextPath: String\r\n    \r\n        private lateinit var url: String\r\n    \r\n        @Autowired\r\n        private lateinit var testRestTemplate: TestRestTemplate\r\n    \r\n    \r\n        @BeforeAll\r\n        fun setUp() {\r\n            url = UriComponentsBuilder\r\n                .fromUriString(&quot;http://localhost&quot;)\r\n                .port(port)\r\n                .path(contextPath)\r\n                .pathSegment(&quot;hello&quot;)\r\n                .toUriString()\r\n        }\r\n    \r\n        @Test\r\n        fun hello() {\r\n    \r\n            val responseEntity = testRestTemplate.getForEntity(url, String::class.java)\r\n            assertNotNull(responseEntity)\r\n            assertEquals(HttpStatus.OK, responseEntity.statusCode)\r\n            val response = responseEntity.body\r\n        }","title":"how to disable @PreAuthorize for tests?","body":"<p>I use Spring Boot with Spring Security. I want to disable security so that @PreAuthorize. I partially managed to do it, but there is still an error.</p>\n<p>security is partially disabled. but some part is included. finally, I would like to disable security for certain tests</p>\n<pre><code>org.springframework.security.access.AccessDeniedException: Access denied\n    at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.5.3.jar:5.5.3]\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.attemptAuthorization(AbstractSecurityInterceptor.java:238) ~[spring-security-core-5.5.3.jar:5.5.3]\n</code></pre>\n<p>This is my controller</p>\n<pre><code>@PreAuthorize(&quot;hasAnyAuthority('ADMIN')&quot;)\n@GetMapping(&quot;/hello&quot;)\nfun hello(): String {\n    return &quot;Hello&quot;\n}\n</code></pre>\n<p>This my Spring Configutarion for tests.</p>\n<pre><code>@TestConfiguration\n@Order(1)\nclass TestSecurityConfig : WebSecurityConfigurerAdapter()  {\n\n    @Override\n    override fun configure(httpSecurity: HttpSecurity) {\n        http.authorizeRequests()\n            .anyRequest().permitAll();\n\n        http.csrf().disable()\n            .httpBasic().disable()\n            .formLogin().disable()\n            .logout().disable();\n    }\n\n}\n</code></pre>\n<p>And finally my test class:</p>\n<pre><code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n    classes = [TestSecurityConfig::class])\n@ActiveProfiles(&quot;test&quot;)\n@ExtendWith(SpringExtension::class)\nclass HelloControllerTest {\n\n    @LocalServerPort\n    private var port: Int = 8281\n\n    @Value(&quot;#{servletContext.contextPath}&quot;)\n    private lateinit var contextPath: String\n\n    private lateinit var url: String\n\n    @Autowired\n    private lateinit var testRestTemplate: TestRestTemplate\n\n\n    @BeforeAll\n    fun setUp() {\n        url = UriComponentsBuilder\n            .fromUriString(&quot;http://localhost&quot;)\n            .port(port)\n            .path(contextPath)\n            .pathSegment(&quot;hello&quot;)\n            .toUriString()\n    }\n\n    @Test\n    fun hello() {\n\n        val responseEntity = testRestTemplate.getForEntity(url, String::class.java)\n        assertNotNull(responseEntity)\n        assertEquals(HttpStatus.OK, responseEntity.statusCode)\n        val response = responseEntity.body\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","pre-signed-url"],"comments":[{"owner":{"account_id":14805334,"reputation":11146,"user_id":10692493,"display_name":"jellycsc"},"score":0,"creation_date":1653657033,"post_id":72400432,"comment_id":127910153,"body_markdown":"Is your system clock correct?","body":"Is your system clock correct?"},{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":0,"creation_date":1653661915,"post_id":72400432,"comment_id":127912152,"body_markdown":"You appear to be using different code from what you&#39;ve shown, the expired time is 7 days.  If you&#39;re signing in a Lambda or other environment with an instance profile, then [your signed URL won&#39;t function for the full 7 days](https://aws.amazon.com/premiumsupport/knowledge-center/presigned-url-s3-bucket-expiration/).","body":"You appear to be using different code from what you&#39;ve shown, the expired time is 7 days.  If you&#39;re signing in a Lambda or other environment with an instance profile, then <a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/presigned-url-s3-bucket-expiration/\" rel=\"nofollow noreferrer\">your signed URL won&#39;t function for the full 7 days</a>."}],"owner":{"account_id":22515372,"reputation":21,"user_id":16709664,"display_name":"Max"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653635486,"creation_date":1653625190,"question_id":72400432,"body_markdown":"I have working Java code to get pre-sign URL for uploading files to s3:\r\n\r\n        String objectKey = &quot;folder/fileName.pdf&quot;;\r\n        Date expiration = new Date();\r\n        long expTimeMillis = expiration.getTime();\r\n        expTimeMillis += 1000 * 60 * 15;//15 minutes\r\n        expiration.setTime(expTimeMillis);\r\n\r\n        GeneratePresignedUrlRequest generatePresignedUrlRequest = new GeneratePresignedUrlRequest(S3_BUCKET_NAME, objectKey)\r\n                .withMethod(HttpMethod.PUT)\r\n                .withExpiration(expiration);\r\n        URL url = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\r\n\r\n        return url.toString()\r\n\r\nthis code works, it produces url that I can put in Postman, run Put request and get response, also it works on our prod servers. Now I need code to download the same file. I tried to use same code, the only difference - I used GET method instead of PUT:\r\n\r\n    .withMethod(HttpMethod.GET)\r\n\r\nit produces URL:\r\n\r\n    https://bucketName.s3.us-west-2.amazonaws.com/folder/fileName.pdf?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=ASDFABASDF%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20220527T034939Z&amp;X-Amz-Expires=604800&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Security-Token=FwoAdFASDFAOBASDsdfSF%2F%2F%2F%2F%2F%2F%2F%2FwEaDM69O7O54EA7PUeu0yLSARm%2Bduy8vQQtmA7yyvWutiSNLuosByvxyN%2BGZUxmI12r0HdqqRbrwAr1k9bj%2FJEDeEGD3MDpt6%2Bwh9XjoLwyUsUCk7Iah1zPakr%2BDe6%2BNMntjPIS%2BbxXvgttumg0aLG4WDbWE9k40M5HpbJ5YJLjHwI0IB5zF4A9Oq4KrIUWiYhEM4lEVbGCHKoS3nxNnYh1eqSmx2rMHE%2FPFsKPMVL0FUj1bDV3AHzxFwTb6JuKP5A4YGdSsogiH4BGpcZLxUGKohBAqMCjY9IyIBjIrGDHqlsb2p7wvYKtlQPd%2FsEeB%2BAwACfCZhAJ4X45IOTVlowo7AdsnWtogsg%3D%3D&amp;X-Amz-Signature=5ab6e616sdfsaf0a6412a68a40f776f26d9ea8f8c136a78874baa7c\r\n \r\nBut when I paste it in browser I have an error:\r\n\r\n    &lt;Error&gt;\r\n         &lt;Code&gt;ExpiredToken&lt;/Code&gt;\r\n         &lt;Message&gt;The provided token has expired.&lt;/Message&gt;\r\n         &lt;Token-0&gt;aVDSAFVdzEKH//////////wEaDM69O7O54EASDF ASDF;LJ ;AS DFGZUxmI12r0HdqqRbrwAr1k9bj/JEDeEGD3MDpt6+wh9XjoLwyUsUCk7Iah1zPakr+De6+NMntjPIS+bxXvgttumg0aLG4WDbWE9k40M5HpbJ5YJLjHwI0IB5zF4ADF32E/PFsKPMVL0FUj1bDV3AHzxFwTb6JuKP5A4YGdSsogiH4BGpcZLxUGKohBAqMCjY9adsf#2SDFsEeB+AwACfCZhAJ4X45IOTVlowo7AdsnWtogsg==&lt;/Token-0&gt;\r\n         &lt;RequestId&gt;EX3Q0KY8BT4HDFASDF234&lt;/RequestId&gt;\r\n         &lt;HostId&gt;SiSQsVjDiGpTmWqECybt0nob#xdASDFRIXVJNUG+cmmkI7bHBy6lUejXL5HvchpSCbj0U= \r\n         &lt;/HostId&gt;\r\n    &lt;/Error&gt;\r\n\r\nI added expiration time and had same result.\r\nNext I tried to out put data:\r\n\r\n        System.out.println(generatePresignedUrlRequest.getBucketName());\r\n        System.out.println(generatePresignedUrlRequest.getMethod());\r\n        System.out.println(generatePresignedUrlRequest.getExpiration());\r\n        System.out.println(generatePresignedUrlRequest.getContentType());\r\n        System.out.println(generatePresignedUrlRequest.getKey());\r\n\r\nAnd I got result:\r\n\r\n        bucketName\r\n        GET\r\n        Thu Jun 02 23:25:21 GMT 2022\r\n        null\r\n        folder/fileName.pdf\r\n\r\nToday is May 26, so it should not be expired.\r\nI tried to run console command:\r\n\r\n    aws s3 presign s3://bucketName/folder/fileName.pdf --expires-in 604800 --region us-west-2\r\n\r\nit produces same URL as above. When I paste this url in browser I have same error as above.\r\nWhat am I doing wrong? how to fix it? how to generate Pre-Sign URL to download file from S3?\r\n","title":"AWS Get Pre-Sign URL always show ExpiredToken when download file","body":"<p>I have working Java code to get pre-sign URL for uploading files to s3:</p>\n<pre><code>    String objectKey = &quot;folder/fileName.pdf&quot;;\n    Date expiration = new Date();\n    long expTimeMillis = expiration.getTime();\n    expTimeMillis += 1000 * 60 * 15;//15 minutes\n    expiration.setTime(expTimeMillis);\n\n    GeneratePresignedUrlRequest generatePresignedUrlRequest = new GeneratePresignedUrlRequest(S3_BUCKET_NAME, objectKey)\n            .withMethod(HttpMethod.PUT)\n            .withExpiration(expiration);\n    URL url = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\n\n    return url.toString()\n</code></pre>\n<p>this code works, it produces url that I can put in Postman, run Put request and get response, also it works on our prod servers. Now I need code to download the same file. I tried to use same code, the only difference - I used GET method instead of PUT:</p>\n<pre><code>.withMethod(HttpMethod.GET)\n</code></pre>\n<p>it produces URL:</p>\n<pre><code>https://bucketName.s3.us-west-2.amazonaws.com/folder/fileName.pdf?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=ASDFABASDF%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20220527T034939Z&amp;X-Amz-Expires=604800&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Security-Token=FwoAdFASDFAOBASDsdfSF%2F%2F%2F%2F%2F%2F%2F%2FwEaDM69O7O54EA7PUeu0yLSARm%2Bduy8vQQtmA7yyvWutiSNLuosByvxyN%2BGZUxmI12r0HdqqRbrwAr1k9bj%2FJEDeEGD3MDpt6%2Bwh9XjoLwyUsUCk7Iah1zPakr%2BDe6%2BNMntjPIS%2BbxXvgttumg0aLG4WDbWE9k40M5HpbJ5YJLjHwI0IB5zF4A9Oq4KrIUWiYhEM4lEVbGCHKoS3nxNnYh1eqSmx2rMHE%2FPFsKPMVL0FUj1bDV3AHzxFwTb6JuKP5A4YGdSsogiH4BGpcZLxUGKohBAqMCjY9IyIBjIrGDHqlsb2p7wvYKtlQPd%2FsEeB%2BAwACfCZhAJ4X45IOTVlowo7AdsnWtogsg%3D%3D&amp;X-Amz-Signature=5ab6e616sdfsaf0a6412a68a40f776f26d9ea8f8c136a78874baa7c\n</code></pre>\n<p>But when I paste it in browser I have an error:</p>\n<pre><code>&lt;Error&gt;\n     &lt;Code&gt;ExpiredToken&lt;/Code&gt;\n     &lt;Message&gt;The provided token has expired.&lt;/Message&gt;\n     &lt;Token-0&gt;aVDSAFVdzEKH//////////wEaDM69O7O54EASDF ASDF;LJ ;AS DFGZUxmI12r0HdqqRbrwAr1k9bj/JEDeEGD3MDpt6+wh9XjoLwyUsUCk7Iah1zPakr+De6+NMntjPIS+bxXvgttumg0aLG4WDbWE9k40M5HpbJ5YJLjHwI0IB5zF4ADF32E/PFsKPMVL0FUj1bDV3AHzxFwTb6JuKP5A4YGdSsogiH4BGpcZLxUGKohBAqMCjY9adsf#2SDFsEeB+AwACfCZhAJ4X45IOTVlowo7AdsnWtogsg==&lt;/Token-0&gt;\n     &lt;RequestId&gt;EX3Q0KY8BT4HDFASDF234&lt;/RequestId&gt;\n     &lt;HostId&gt;SiSQsVjDiGpTmWqECybt0nob#xdASDFRIXVJNUG+cmmkI7bHBy6lUejXL5HvchpSCbj0U= \n     &lt;/HostId&gt;\n&lt;/Error&gt;\n</code></pre>\n<p>I added expiration time and had same result.\nNext I tried to out put data:</p>\n<pre><code>    System.out.println(generatePresignedUrlRequest.getBucketName());\n    System.out.println(generatePresignedUrlRequest.getMethod());\n    System.out.println(generatePresignedUrlRequest.getExpiration());\n    System.out.println(generatePresignedUrlRequest.getContentType());\n    System.out.println(generatePresignedUrlRequest.getKey());\n</code></pre>\n<p>And I got result:</p>\n<pre><code>    bucketName\n    GET\n    Thu Jun 02 23:25:21 GMT 2022\n    null\n    folder/fileName.pdf\n</code></pre>\n<p>Today is May 26, so it should not be expired.\nI tried to run console command:</p>\n<pre><code>aws s3 presign s3://bucketName/folder/fileName.pdf --expires-in 604800 --region us-west-2\n</code></pre>\n<p>it produces same URL as above. When I paste this url in browser I have same error as above.\nWhat am I doing wrong? how to fix it? how to generate Pre-Sign URL to download file from S3?</p>\n"},{"tags":["javascript","java","json","google-distancematrix-api"],"answers":[{"tags":[],"owner":{"account_id":201482,"reputation":1906,"user_id":447952,"accept_rate":68,"display_name":"AHOYAHOY"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1452049122,"creation_date":1452049122,"answer_id":34624884,"question_id":34624598,"body_markdown":"If you use Javascript in Browser, you need use Google Maps Api.\r\n\r\nCheck this example:\r\n\r\n    &lt;script src=&quot;https://maps.google.com/maps/api/js?sensor=false&quot;&gt;&lt;/script&gt;\r\n    &lt;script&gt;\r\n    function init() {\r\n      var service = new google.maps.DistanceMatrixService;\r\n      service.getDistanceMatrix({\r\n        origins: [&#39;Los Angeles&#39;],\r\n        destinations: [&#39;New York&#39;],\r\n        travelMode: google.maps.TravelMode.DRIVING,\r\n        unitSystem: google.maps.UnitSystem.METRIC,\r\n        avoidHighways: false,\r\n        avoidTolls: false\r\n      }, function(response, status) {\r\n        if (status !== google.maps.DistanceMatrixStatus.OK) {\r\n          alert(&#39;Error was: &#39; + status);\r\n        } else {\r\n          alert(response.originAddresses[0] + &#39; --&gt; &#39; + response.destinationAddresses[0] + &#39; ==&gt; &#39; + response.rows[0].elements[0].distance.text);\r\n        }\r\n      });\r\n    }\r\n    &lt;/script&gt;\r\n    &lt;body onload=&quot;init()&quot;&gt;\r\n    &lt;/body&gt;\r\n\r\nRunning example https://jsfiddle.net/3b03m5mt/","title":"get distance using google maps distance matrix api JSON output","body":"<p>If you use Javascript in Browser, you need use Google Maps Api.</p>\n\n<p>Check this example:</p>\n\n<pre><code>&lt;script src=\"https://maps.google.com/maps/api/js?sensor=false\"&gt;&lt;/script&gt;\n&lt;script&gt;\nfunction init() {\n  var service = new google.maps.DistanceMatrixService;\n  service.getDistanceMatrix({\n    origins: ['Los Angeles'],\n    destinations: ['New York'],\n    travelMode: google.maps.TravelMode.DRIVING,\n    unitSystem: google.maps.UnitSystem.METRIC,\n    avoidHighways: false,\n    avoidTolls: false\n  }, function(response, status) {\n    if (status !== google.maps.DistanceMatrixStatus.OK) {\n      alert('Error was: ' + status);\n    } else {\n      alert(response.originAddresses[0] + ' --&gt; ' + response.destinationAddresses[0] + ' ==&gt; ' + response.rows[0].elements[0].distance.text);\n    }\n  });\n}\n&lt;/script&gt;\n&lt;body onload=\"init()\"&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Running example <a href=\"https://jsfiddle.net/3b03m5mt/\" rel=\"nofollow\">https://jsfiddle.net/3b03m5mt/</a></p>\n"},{"tags":[],"owner":{"account_id":18231680,"reputation":1,"user_id":19212220,"display_name":"Unni Krishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653635408,"creation_date":1653635408,"answer_id":72401713,"question_id":34624598,"body_markdown":"You can check out this code \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?php\r\n     $addressFrom=&quot;Your from address&quot;;\r\n     $addressTo=&quot;your to address&quot;;\r\n      // Change address format\r\n      $formattedAddrFrom    = str_replace(&#39; &#39;, &#39;+&#39;, $addressFrom);\r\n      $formattedAddrTo     = str_replace(&#39; &#39;, &#39;+&#39;, $addressTo);\r\n      \r\n      // Geocoding API request with start address\r\n      $distance_data = file_get_contents(&#39;https://maps.googleapis.com/maps/api/distancematrix/json?origins=&#39;.$formattedAddrFrom.&#39;&amp;destinations=&#39;.$formattedAddrTo.&#39;&amp;sensor=false&amp;key=YOUR-API-KEY&#39;);\r\n      $output_data = json_decode($distance_data);\r\n      if(!empty($output_data-&gt;error_message)){\r\n          return $output_data-&gt;error_message;\r\n      }\r\n     //echo &quot;&lt;pre&gt;&quot;;\r\n    //print_r($output_data) ;\r\n\r\n    $output_status = $output_data-&gt;status;\r\n    $output_km =$output_data-&gt;rows[0]-&gt;elements[0]-&gt;distance-&gt;text;\r\n    $output_meter =$output_data-&gt;rows[0]-&gt;elements[0]-&gt;distance-&gt;value;\r\n    ?&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"get distance using google maps distance matrix api JSON output","body":"<p>You can check out this code</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?php\n $addressFrom=\"Your from address\";\n $addressTo=\"your to address\";\n  // Change address format\n  $formattedAddrFrom    = str_replace(' ', '+', $addressFrom);\n  $formattedAddrTo     = str_replace(' ', '+', $addressTo);\n  \n  // Geocoding API request with start address\n  $distance_data = file_get_contents('https://maps.googleapis.com/maps/api/distancematrix/json?origins='.$formattedAddrFrom.'&amp;destinations='.$formattedAddrTo.'&amp;sensor=false&amp;key=YOUR-API-KEY');\n  $output_data = json_decode($distance_data);\n  if(!empty($output_data-&gt;error_message)){\n      return $output_data-&gt;error_message;\n  }\n //echo \"&lt;pre&gt;\";\n//print_r($output_data) ;\n\n$output_status = $output_data-&gt;status;\n$output_km =$output_data-&gt;rows[0]-&gt;elements[0]-&gt;distance-&gt;text;\n$output_meter =$output_data-&gt;rows[0]-&gt;elements[0]-&gt;distance-&gt;value;\n?&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":7574740,"reputation":13,"user_id":5747475,"display_name":"sheslv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5024,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34624884,"answer_count":2,"score":1,"last_activity_date":1653635408,"creation_date":1452046839,"question_id":34624598,"body_markdown":"I developed the following code to get the distance of the given 2 cities through 2 textfields and i want to send them to google maps distance matrix api using the following URl. I send those cities and got the JSON output file. but my problem is how can i get the specific attribute(distance) from that JSON file and display on a another textfield. \r\n\r\n    function m() {\r\n\r\n                var x = document.getElementById(&quot;autocomplete&quot;).value;\r\n                var y = document.getElementById(&quot;autocomplete1&quot;).value;\r\n\r\n                var url = &quot;https://maps.googleapis.com/maps/api/distancematrix/json?origins=&quot; + x + &quot;&amp;destinations=&quot; + y + &quot;&amp;key=AIzaSyD5KX6VRon6yQ0vu4s6GSnAVzazRWg8wrc&quot;;\r\n\r\n    window.location=url; // this will go to the above url and display the JSON output file on the browser. I dont want that to be shown. just some processing and should display only the distance form that file on a textfield!\r\n\r\n    }\r\n\r\nthe JSON output file &lt;http://pastebin.ca/3318529&gt;\r\n\r\nPlease help to solve this. i am new to JSON. So if you have any other ideas tell me. Many thanks :)","title":"get distance using google maps distance matrix api JSON output","body":"<p>I developed the following code to get the distance of the given 2 cities through 2 textfields and i want to send them to google maps distance matrix api using the following URl. I send those cities and got the JSON output file. but my problem is how can i get the specific attribute(distance) from that JSON file and display on a another textfield. </p>\n\n<pre><code>function m() {\n\n            var x = document.getElementById(\"autocomplete\").value;\n            var y = document.getElementById(\"autocomplete1\").value;\n\n            var url = \"https://maps.googleapis.com/maps/api/distancematrix/json?origins=\" + x + \"&amp;destinations=\" + y + \"&amp;key=AIzaSyD5KX6VRon6yQ0vu4s6GSnAVzazRWg8wrc\";\n\nwindow.location=url; // this will go to the above url and display the JSON output file on the browser. I dont want that to be shown. just some processing and should display only the distance form that file on a textfield!\n\n}\n</code></pre>\n\n<p>the JSON output file <a href=\"http://pastebin.ca/3318529\" rel=\"nofollow\">http://pastebin.ca/3318529</a></p>\n\n<p>Please help to solve this. i am new to JSON. So if you have any other ideas tell me. Many thanks :)</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1653553299,"post_id":72388755,"comment_id":127881344,"body_markdown":"`@Configurable` has always been fragile and unreliable. It&#39;s much better to use constructor parameters instead.","body":"<code>@Configurable</code> has always been fragile and unreliable. It&#39;s much better to use constructor parameters instead."},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1653553356,"post_id":72388755,"comment_id":127881365,"body_markdown":"Have you enabled AspectJ (e.g. as described at https://www.baeldung.com/spring-inject-bean-into-unmanaged-objects)?","body":"Have you enabled AspectJ (e.g. as described at <a href=\"https://www.baeldung.com/spring-inject-bean-into-unmanaged-objects\" rel=\"nofollow noreferrer\">baeldung.com/spring-inject-bean-into-unmanaged-objects</a>)?"},{"owner":{"account_id":16779032,"reputation":854,"user_id":12129644,"display_name":"Daigo"},"score":0,"creation_date":1653574853,"post_id":72388755,"comment_id":127888714,"body_markdown":"@dunni Thanks, I tried setting that but have the same issue...","body":"@dunni Thanks, I tried setting that but have the same issue..."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1653576247,"post_id":72388755,"comment_id":127889274,"body_markdown":"@Daigo what is the reason that you have `@Configurable` ? Do you need AOP AspectJ ?","body":"@Daigo what is the reason that you have <code>@Configurable</code> ? Do you need AOP AspectJ ?"},{"owner":{"account_id":16779032,"reputation":854,"user_id":12129644,"display_name":"Daigo"},"score":0,"creation_date":1653605727,"post_id":72388755,"comment_id":127898390,"body_markdown":"@PanagiotisBougioukos Not really, I just thought it is needed to read the application.yml from an instantiated object. `TestClass` needs to be instantiated since it has parameterized constructor. Im new to using this so my thought could be completely wrong.","body":"@PanagiotisBougioukos Not really, I just thought it is needed to read the application.yml from an instantiated object. <code>TestClass</code> needs to be instantiated since it has parameterized constructor. Im new to using this so my thought could be completely wrong."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1653635307,"post_id":72388755,"comment_id":127902935,"body_markdown":"@Daigo check updated answer","body":"@Daigo check updated answer"},{"owner":{"account_id":16779032,"reputation":854,"user_id":12129644,"display_name":"Daigo"},"score":0,"creation_date":1653702385,"post_id":72388755,"comment_id":127922075,"body_markdown":"Thank you for your kind support, I got to understand the meaning of each annotation! I still have the problem but will try to solve it.","body":"Thank you for your kind support, I got to understand the meaning of each annotation! I still have the problem but will try to solve it."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653635299,"creation_date":1653556227,"answer_id":72389404,"question_id":72388755,"body_markdown":"**Short Answer:**\r\n\r\nFind the class that is annotated with `@SpringBootApplication` and add there also the annotation `@EnableConfigurationProperties(Properties.class)`\r\n\r\n    @SpringBootApplication\r\n    @EnableConfigurationProperties(Properties.class)\r\n    public class ServiceLauncher {\r\n\r\n\r\n**Explanation:**\r\n\r\n`@ConfigurationProperties` does not register the class that brings this annotation as a spring bean. It is only used so that Spring can read the properties with some meta configured information (ex `prefix = &quot;some.prop.prefix&quot;`).\r\n\r\nIf you wish to use this class as a spring bean (ex via `@Autowired`) you need to combine the above annotation with `@EnableConfigurationProperties` which then says to spring that this class must become a spring bean.\r\n\r\n**Another workaround:**\r\n\r\nYou could also instead just use the `@Component` on the Properties class and that would be enough without the need of `@EnableConfigurationProperties` but the later is better practice to be used.\r\n\r\n    @Component\r\n    @ConfigurationProperties\r\n    @Getter\r\n    @Setter\r\n    public class Properties {\r\n    \r\n\r\n**Edit:** After clarrified in the comments there is also another mistake in this  code. You should replace `@Configurable` with `@Configuration`. The first one does not create a spring bean on the class that is placed!","title":"Spring Boot - Cannot read application.yml values from instantiated object","body":"<p><strong>Short Answer:</strong></p>\n<p>Find the class that is annotated with <code>@SpringBootApplication</code> and add there also the annotation <code>@EnableConfigurationProperties(Properties.class)</code></p>\n<pre><code>@SpringBootApplication\n@EnableConfigurationProperties(Properties.class)\npublic class ServiceLauncher {\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<p><code>@ConfigurationProperties</code> does not register the class that brings this annotation as a spring bean. It is only used so that Spring can read the properties with some meta configured information (ex <code>prefix = &quot;some.prop.prefix&quot;</code>).</p>\n<p>If you wish to use this class as a spring bean (ex via <code>@Autowired</code>) you need to combine the above annotation with <code>@EnableConfigurationProperties</code> which then says to spring that this class must become a spring bean.</p>\n<p><strong>Another workaround:</strong></p>\n<p>You could also instead just use the <code>@Component</code> on the Properties class and that would be enough without the need of <code>@EnableConfigurationProperties</code> but the later is better practice to be used.</p>\n<pre><code>@Component\n@ConfigurationProperties\n@Getter\n@Setter\npublic class Properties {\n</code></pre>\n<p><strong>Edit:</strong> After clarrified in the comments there is also another mistake in this  code. You should replace <code>@Configurable</code> with <code>@Configuration</code>. The first one does not create a spring bean on the class that is placed!</p>\n"}],"owner":{"account_id":16779032,"reputation":854,"user_id":12129644,"display_name":"Daigo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653635299,"creation_date":1653552786,"question_id":72388755,"body_markdown":"I&#39;m trying to read some setting values from application.yml using the @ConfigurationProperties annotation.\r\n\r\nAn instantiated object of the class `TestClass` uses the properties class, so I added the `@Configurable` annotation, but the `properties` always be `null` and it causes NullpointerException.\r\n\r\nThe properties class:\r\n\r\n```java\r\n@ConfigurationProperties\r\n@Getter\r\n@Setter\r\npublic class Properties {\r\n    \r\n    private String setting;\r\n\r\n}\r\n```\r\n\r\nAnd the object which uses the properties:\r\n\r\n```java\r\n\r\n@Configurable\r\npublic class TestClass{\r\n\r\n    @Autowired\r\n    private Properties properties;\r\n\r\n    void print(){\r\n        System.out.println(properties.getSetting());\r\n    }\r\n}\r\n\r\n```\r\n\r\nIf I call the print method, `NullPointerException` will be occurred:\r\n\r\n```java\r\nTestClass testClass = new TestClass();\r\ntestClass.print();\r\n```\r\n\r\nAm I missing something?","title":"Spring Boot - Cannot read application.yml values from instantiated object","body":"<p>I'm trying to read some setting values from application.yml using the @ConfigurationProperties annotation.</p>\n<p>An instantiated object of the class <code>TestClass</code> uses the properties class, so I added the <code>@Configurable</code> annotation, but the <code>properties</code> always be <code>null</code> and it causes NullpointerException.</p>\n<p>The properties class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties\n@Getter\n@Setter\npublic class Properties {\n    \n    private String setting;\n\n}\n</code></pre>\n<p>And the object which uses the properties:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configurable\npublic class TestClass{\n\n    @Autowired\n    private Properties properties;\n\n    void print(){\n        System.out.println(properties.getSetting());\n    }\n}\n\n</code></pre>\n<p>If I call the print method, <code>NullPointerException</code> will be occurred:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TestClass testClass = new TestClass();\ntestClass.print();\n</code></pre>\n<p>Am I missing something?</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"score":1,"creation_date":1665648907,"post_id":72401413,"comment_id":130750541,"body_markdown":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like.","body":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like."}],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653635111,"creation_date":1653635111,"answer_id":72401651,"question_id":72401413,"body_markdown":"You have to return `Page&lt;FooBar&gt;` instead of `List&lt;FooBar&gt;`.\r\n```java\r\n@Query(nativeQuery = true, value = &quot;select * from foos where bar_id=:barId&quot;)\r\nPage&lt;FooBar&gt; findFoosByBarId(Long barId, Pageable pageable);\r\n```\r\n\r\nThen you can call the method in this way:\r\n```java\r\nPageable pageable = PageRequest.of(0, 5, Sort.by(Sort.Direction.DESC, &quot;id&quot;));\r\nPage&lt;FooBar&gt; page = foosRepository.findFoosByBarId(barId, pageable);\r\n```\r\n\r\nOn the `page` variable, uou can call several useful methods:\r\n - `page.getContent()` to retrieve the list of elements of the page\r\n - `page.getTotalElements()` to get the number of all elements\r\n - `page.getTotalPages()` to get the number of pages\r\n\r\n[Here][1] the other methods of `Page` class.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Page.html","title":"How to return Page instead of List on a JPA query","body":"<p>You have to return <code>Page&lt;FooBar&gt;</code> instead of <code>List&lt;FooBar&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(nativeQuery = true, value = &quot;select * from foos where bar_id=:barId&quot;)\nPage&lt;FooBar&gt; findFoosByBarId(Long barId, Pageable pageable);\n</code></pre>\n<p>Then you can call the method in this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pageable pageable = PageRequest.of(0, 5, Sort.by(Sort.Direction.DESC, &quot;id&quot;));\nPage&lt;FooBar&gt; page = foosRepository.findFoosByBarId(barId, pageable);\n</code></pre>\n<p>On the <code>page</code> variable, uou can call several useful methods:</p>\n<ul>\n<li><code>page.getContent()</code> to retrieve the list of elements of the page</li>\n<li><code>page.getTotalElements()</code> to get the number of all elements</li>\n<li><code>page.getTotalPages()</code> to get the number of pages</li>\n</ul>\n<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Page.html\" rel=\"nofollow noreferrer\">Here</a> the other methods of <code>Page</code> class.</p>\n"}],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1089,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72401651,"answer_count":1,"score":0,"last_activity_date":1653635111,"creation_date":1653633597,"question_id":72401413,"body_markdown":"How to return Page instead of List on the following native JPA query\r\nHow to handle Pageable as an argument to return a paginated list\r\n\r\n    @Query(nativeQuery = true, value = &quot;select * from foos where bar_id=:barId&quot;)\r\n    List&lt;FooBar&gt; findFoosByBarId(Long barId, Pageable pageable);\r\n\r\n    @Entity\r\n    @Table(name = &quot;foo_bars&quot;)\r\n    public class FooBar {\r\n    \r\n        @ManyToOne\r\n        Foo foo;\r\n     \r\n        @ManyToOne\r\n        Bar bar;\r\n    }\r\n\r\n","title":"How to return Page instead of List on a JPA query","body":"<p>How to return Page instead of List on the following native JPA query\nHow to handle Pageable as an argument to return a paginated list</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;select * from foos where bar_id=:barId&quot;)\nList&lt;FooBar&gt; findFoosByBarId(Long barId, Pageable pageable);\n\n@Entity\n@Table(name = &quot;foo_bars&quot;)\npublic class FooBar {\n\n    @ManyToOne\n    Foo foo;\n \n    @ManyToOne\n    Bar bar;\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653563989,"post_id":72388957,"comment_id":127884732,"body_markdown":"If you call via `formatter:format` you are calling a goal of a plugin and not executing the life cycle ...that means using `-T 1C` or alike does not make sense...because all execution is done with single thread. But I would like to know why do you need that to run in parallel .. and why the speed is here a problem or how often do you call that formatting? Don&#39;t you use configurations in your IDE ?","body":"If you call via <code>formatter:format</code> you are calling a goal of a plugin and not executing the life cycle ...that means using <code>-T 1C</code> or alike does not make sense...because all execution is done with single thread. But I would like to know why do you need that to run in parallel .. and why the speed is here a problem or how often do you call that formatting? Don&#39;t you use configurations in your IDE ?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653564024,"post_id":72388957,"comment_id":127884745,"body_markdown":"Technically in such cases the plugin could handle that but I don&#39;t know any plugin which does that...","body":"Technically in such cases the plugin could handle that but I don&#39;t know any plugin which does that..."},{"owner":{"account_id":3936130,"reputation":723,"user_id":3252477,"display_name":"Kineolyan"},"score":0,"creation_date":1653592192,"post_id":72388957,"comment_id":127894790,"body_markdown":"Well, I empirically see that `-T 1C` speed things up, for checkstyle for example. And yes, speed matters. IDEs can be configured, but eventually, I want something that runs from the terminal, to perform checks in CI, to clean the codebase after git merges, etc. My understanding is that maven works module per module. `-T` being a general maven option, I assumed that it triggered a parallel processing of modules. That maven would follow the order of dependencies seemed logical. It is interesting that you mention this can be controlled per plugin. Do you have any link to that I can read, please?","body":"Well, I empirically see that <code>-T 1C</code> speed things up, for checkstyle for example. And yes, speed matters. IDEs can be configured, but eventually, I want something that runs from the terminal, to perform checks in CI, to clean the codebase after git merges, etc. My understanding is that maven works module per module. <code>-T</code> being a general maven option, I assumed that it triggered a parallel processing of modules. That maven would follow the order of dependencies seemed logical. It is interesting that you mention this can be controlled per plugin. Do you have any link to that I can read, please?"}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653634917,"creation_date":1653598845,"answer_id":72397963,"question_id":72388957,"body_markdown":"Yes you are right about the assumption to speed up things via `-T1C` if the plugin it does it correctly. As you can see that the `formatter-maven-plugin` does it correctly. As you can see the results which shows it improves the speed.\r\n\r\n\r\n    $ hyperfine -L threads 2,4,6,8,1C -p &#39;git co -- .&#39; &#39;mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T {threads}&#39;\r\n    Benchmark 1: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 2\r\n      Time (mean &#177; ):     10.111 s &#177;  0.623 s    [User: 17.796 s, System: 0.918 s]\r\n      Range (min  max):    9.349 s  11.446 s    10 runs\r\n     \r\n    Benchmark 2: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 4\r\n      Time (mean &#177; ):      8.693 s &#177;  0.629 s    [User: 17.247 s, System: 0.862 s]\r\n      Range (min  max):    7.827 s   9.628 s    10 runs\r\n     \r\n    Benchmark 3: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 6\r\n      Time (mean &#177; ):      8.829 s &#177;  0.567 s    [User: 18.438 s, System: 0.965 s]\r\n      Range (min  max):    8.098 s   9.803 s    10 runs\r\n     \r\n    Benchmark 4: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 8\r\n      Time (mean &#177; ):      9.257 s &#177;  0.956 s    [User: 18.195 s, System: 0.996 s]\r\n      Range (min  max):    8.053 s  10.938 s    10 runs\r\n     \r\n    Benchmark 5: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 1C\r\n      Time (mean &#177; ):      8.568 s &#177;  0.515 s    [User: 17.955 s, System: 0.942 s]\r\n      Range (min  max):    7.682 s   9.537 s    10 runs\r\n     \r\n    Summary\r\n      &#39;mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 1C&#39; ran\r\n        1.01 &#177; 0.10 times faster than &#39;mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 4&#39;\r\n        1.03 &#177; 0.09 times faster than &#39;mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 6&#39;\r\n        1.08 &#177; 0.13 times faster than &#39;mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 8&#39;\r\n        1.18 &#177; 0.10 times faster than &#39;mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 2&#39;\r\n\r\n\r\nJust as a comparison for example with versions-maven-plugin:\r\n\r\n    $ hyperfine -L threads 2,4,6,8,1C -p &#39;git co -- .&#39; &#39;mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T {threads}&#39;\r\n    Benchmark 1: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 2\r\n      Time (mean &#177; ):      1.581 s &#177;  0.104 s    [User: 4.641 s, System: 0.198 s]\r\n      Range (min  max):    1.513 s   1.863 s    10 runs\r\n     \r\n    Benchmark 2: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 4\r\n      Time (mean &#177; ):      1.575 s &#177;  0.031 s    [User: 4.627 s, System: 0.190 s]\r\n      Range (min  max):    1.527 s   1.623 s    10 runs\r\n     \r\n    Benchmark 3: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 6\r\n      Time (mean &#177; ):      1.572 s &#177;  0.034 s    [User: 4.608 s, System: 0.195 s]\r\n      Range (min  max):    1.530 s   1.623 s    10 runs\r\n     \r\n    Benchmark 4: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 8\r\n      Time (mean &#177; ):      1.558 s &#177;  0.031 s    [User: 4.589 s, System: 0.192 s]\r\n      Range (min  max):    1.481 s   1.586 s    10 runs\r\n     \r\n    Benchmark 5: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 1C\r\n      Time (mean &#177; ):      1.565 s &#177;  0.024 s    [User: 4.597 s, System: 0.196 s]\r\n      Range (min  max):    1.533 s   1.600 s    10 runs\r\n     \r\n    Summary\r\n      &#39;mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 8&#39; ran\r\n        1.00 &#177; 0.03 times faster than &#39;mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 1C&#39;\r\n        1.01 &#177; 0.03 times faster than &#39;mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 6&#39;\r\n        1.01 &#177; 0.03 times faster than &#39;mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 4&#39;\r\n        1.01 &#177; 0.07 times faster than &#39;mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 2&#39;\r\n\r\nHere you can see there is no difference by different `-T ..` \r\n\r\n\r\n&gt; I want something that runs from the terminal, to perform checks in CI, to clean the codebase after git merges,\r\n\r\nYou can call some of the goals on command line via goal only. (Always the plugins must do it correctly.).\r\n\r\n&gt;  to clean the codebase after git merges, \r\n\r\nIf you have two states of code which are correctly formatted a merge will not change the formatting (assumed automatic merge will work). Except there are conflicts which could not being done automatically (This is job for IDE).\r\n\r\nYou could break the build if the formatting is not correct.\r\n\r\n\r\n&gt;  I assumed that it triggered a parallel processing of modules. \r\n\r\nThe parallelizations is based on levels of modules\r\n\r\n&gt; That maven would follow the order of dependencies seemed logical.\r\n\r\nYes the order of the reactor is analyzed by Maven. \r\n\r\n&gt; It is interesting that you mention this can be controlled per plugin. \r\n&gt; Do you have any link to that I can read, please?\r\n\r\nA plugin can simply read the pom files on its which circumvents the information of reactor... some plugins do that (versions-maven-plugin) which means the plugin can do everything on it&#39;s own, but repeats the logic which is already implemented in Maven itself.\r\n\r\nUpdate: The versions-maven-plugin does not override the reactor it does not take into account that this information exists. It&#39;s just working on it&#39;s own\r\n","title":"Run maven plugin on all modules in parallel without dependency order","body":"<p>Yes you are right about the assumption to speed up things via <code>-T1C</code> if the plugin it does it correctly. As you can see that the <code>formatter-maven-plugin</code> does it correctly. As you can see the results which shows it improves the speed.</p>\n<pre><code>$ hyperfine -L threads 2,4,6,8,1C -p 'git co -- .' 'mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T {threads}'\nBenchmark 1: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 2\n  Time (mean  ):     10.111 s   0.623 s    [User: 17.796 s, System: 0.918 s]\n  Range (min  max):    9.349 s  11.446 s    10 runs\n \nBenchmark 2: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 4\n  Time (mean  ):      8.693 s   0.629 s    [User: 17.247 s, System: 0.862 s]\n  Range (min  max):    7.827 s   9.628 s    10 runs\n \nBenchmark 3: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 6\n  Time (mean  ):      8.829 s   0.567 s    [User: 18.438 s, System: 0.965 s]\n  Range (min  max):    8.098 s   9.803 s    10 runs\n \nBenchmark 4: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 8\n  Time (mean  ):      9.257 s   0.956 s    [User: 18.195 s, System: 0.996 s]\n  Range (min  max):    8.053 s  10.938 s    10 runs\n \nBenchmark 5: mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 1C\n  Time (mean  ):      8.568 s   0.515 s    [User: 17.955 s, System: 0.942 s]\n  Range (min  max):    7.682 s   9.537 s    10 runs\n \nSummary\n  'mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 1C' ran\n    1.01  0.10 times faster than 'mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 4'\n    1.03  0.09 times faster than 'mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 6'\n    1.08  0.13 times faster than 'mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 8'\n    1.18  0.10 times faster than 'mvn net.revelc.code.formatter:formatter-maven-plugin:2.18.0:format -T 2'\n</code></pre>\n<p>Just as a comparison for example with versions-maven-plugin:</p>\n<pre><code>$ hyperfine -L threads 2,4,6,8,1C -p 'git co -- .' 'mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T {threads}'\nBenchmark 1: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 2\n  Time (mean  ):      1.581 s   0.104 s    [User: 4.641 s, System: 0.198 s]\n  Range (min  max):    1.513 s   1.863 s    10 runs\n \nBenchmark 2: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 4\n  Time (mean  ):      1.575 s   0.031 s    [User: 4.627 s, System: 0.190 s]\n  Range (min  max):    1.527 s   1.623 s    10 runs\n \nBenchmark 3: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 6\n  Time (mean  ):      1.572 s   0.034 s    [User: 4.608 s, System: 0.195 s]\n  Range (min  max):    1.530 s   1.623 s    10 runs\n \nBenchmark 4: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 8\n  Time (mean  ):      1.558 s   0.031 s    [User: 4.589 s, System: 0.192 s]\n  Range (min  max):    1.481 s   1.586 s    10 runs\n \nBenchmark 5: mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 1C\n  Time (mean  ):      1.565 s   0.024 s    [User: 4.597 s, System: 0.196 s]\n  Range (min  max):    1.533 s   1.600 s    10 runs\n \nSummary\n  'mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 8' ran\n    1.00  0.03 times faster than 'mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 1C'\n    1.01  0.03 times faster than 'mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 6'\n    1.01  0.03 times faster than 'mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 4'\n    1.01  0.07 times faster than 'mvn versions:set -DnewVersion=1.0.0-SNAPSHOT -DgenerateBackupPoms=false -T 2'\n</code></pre>\n<p>Here you can see there is no difference by different <code>-T ..</code></p>\n<blockquote>\n<p>I want something that runs from the terminal, to perform checks in CI, to clean the codebase after git merges,</p>\n</blockquote>\n<p>You can call some of the goals on command line via goal only. (Always the plugins must do it correctly.).</p>\n<blockquote>\n<p>to clean the codebase after git merges,</p>\n</blockquote>\n<p>If you have two states of code which are correctly formatted a merge will not change the formatting (assumed automatic merge will work). Except there are conflicts which could not being done automatically (This is job for IDE).</p>\n<p>You could break the build if the formatting is not correct.</p>\n<blockquote>\n<p>I assumed that it triggered a parallel processing of modules.</p>\n</blockquote>\n<p>The parallelizations is based on levels of modules</p>\n<blockquote>\n<p>That maven would follow the order of dependencies seemed logical.</p>\n</blockquote>\n<p>Yes the order of the reactor is analyzed by Maven.</p>\n<blockquote>\n<p>It is interesting that you mention this can be controlled per plugin.\nDo you have any link to that I can read, please?</p>\n</blockquote>\n<p>A plugin can simply read the pom files on its which circumvents the information of reactor... some plugins do that (versions-maven-plugin) which means the plugin can do everything on it's own, but repeats the logic which is already implemented in Maven itself.</p>\n<p>Update: The versions-maven-plugin does not override the reactor it does not take into account that this information exists. It's just working on it's own</p>\n"}],"owner":{"account_id":3936130,"reputation":723,"user_id":3252477,"display_name":"Kineolyan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72397963,"answer_count":1,"score":2,"last_activity_date":1653634917,"creation_date":1653553929,"question_id":72388957,"body_markdown":"I am looking for a way to run a maven plugin, like [the formatter plugin][1] or [checkstyle][2], on all sub-modules in parallel. It would look like `mvn -T 1C formatter:format` with an additional magic option.  \r\nThis is a bit different from running standard maven actions because each module are independent from each other regardless formatting.  \r\n\r\nFor example, let&#39;s consider a project with two sub-modules _lib_ and _app_. _app_ depends on _lib_, implementing its underlying logic.  \r\nWhen compiling code, it is not possible to compile _app_ without first compiling _lib_. However, when formatting code, we can safely do both in parallel. \r\n\r\nI suspect that this is not possible because this does not follow maven architecture, oriented towards predefined life-cycles on which we hook some plugins. But I may have missed something &#129310;\r\n\r\n\r\n  [1]: https://code.revelc.net/formatter-maven-plugin/format-mojo.html\r\n  [2]: https://maven.apache.org/plugins/maven-checkstyle-plugin/checkstyle-mojo.html","title":"Run maven plugin on all modules in parallel without dependency order","body":"<p>I am looking for a way to run a maven plugin, like <a href=\"https://code.revelc.net/formatter-maven-plugin/format-mojo.html\" rel=\"nofollow noreferrer\">the formatter plugin</a> or <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/checkstyle-mojo.html\" rel=\"nofollow noreferrer\">checkstyle</a>, on all sub-modules in parallel. It would look like <code>mvn -T 1C formatter:format</code> with an additional magic option.<br />\nThis is a bit different from running standard maven actions because each module are independent from each other regardless formatting.</p>\n<p>For example, let's consider a project with two sub-modules <em>lib</em> and <em>app</em>. <em>app</em> depends on <em>lib</em>, implementing its underlying logic.<br />\nWhen compiling code, it is not possible to compile <em>app</em> without first compiling <em>lib</em>. However, when formatting code, we can safely do both in parallel.</p>\n<p>I suspect that this is not possible because this does not follow maven architecture, oriented towards predefined life-cycles on which we hook some plugins. But I may have missed something </p>\n"},{"tags":["java","maven","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653615912,"creation_date":1653615912,"answer_id":72399644,"question_id":72398328,"body_markdown":"You can install the [Project Manager for Java][1] extension,The effect is as follows\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-dependency\r\n  [2]: https://i.stack.imgur.com/vhK9A.png","title":"Why is my Java project not found in my workspace (Visual Studio Code)?","body":"<p>You can install the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-dependency\" rel=\"nofollow noreferrer\">Project Manager for Java</a> extension,The effect is as follows</p>\n<p><a href=\"https://i.stack.imgur.com/vhK9A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vhK9A.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10612246,"reputation":388,"user_id":9808476,"display_name":"FOR_SCIENCE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653634495,"creation_date":1653634495,"answer_id":72401560,"question_id":72398328,"body_markdown":"It turns out that a folder named &#39;postgres-data&#39; (generated from my PostgreSQL database) has strict permissions that disallowed my project manager extension to scan my project. A workaround is to run `chmod 777 -R postgres-data`.","title":"Why is my Java project not found in my workspace (Visual Studio Code)?","body":"<p>It turns out that a folder named 'postgres-data' (generated from my PostgreSQL database) has strict permissions that disallowed my project manager extension to scan my project. A workaround is to run <code>chmod 777 -R postgres-data</code>.</p>\n"}],"owner":{"account_id":10612246,"reputation":388,"user_id":9808476,"display_name":"FOR_SCIENCE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72401560,"answer_count":2,"score":1,"last_activity_date":1653634495,"creation_date":1653601385,"question_id":72398328,"body_markdown":"My Java extensions do not seem to be able to actually recognize my project as a Java project. As a result, my project management, linter and formatter extensions do not work.. I use the Java extension pack from Microsoft along with the Java language support extension by Red Hat.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIt might have something to do with the fact that I renamed my package from &#39;productestservice&#39; to &#39;producttestservice&#39;. I tried an answer from a related thread, which is to &#39;clean the Java language server workspace&#39;. Unfortunately, this did not solve the issue.\r\n\r\n[Here][3] is a repository that I prepared for the reproduction of this issue.\r\n\r\n**EDIT: I found out that my language server extension fails to scan my project.**\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MUUGi.png\r\n  [2]: https://i.stack.imgur.com/ajc6x.png\r\n  [3]: https://github.com/cassis163/workspace-issue/tree/main\r\n  [4]: https://i.stack.imgur.com/tDg6u.png","title":"Why is my Java project not found in my workspace (Visual Studio Code)?","body":"<p>My Java extensions do not seem to be able to actually recognize my project as a Java project. As a result, my project management, linter and formatter extensions do not work.. I use the Java extension pack from Microsoft along with the Java language support extension by Red Hat.</p>\n<p><a href=\"https://i.stack.imgur.com/MUUGi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MUUGi.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ajc6x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ajc6x.png\" alt=\"enter image description here\" /></a></p>\n<p>It might have something to do with the fact that I renamed my package from 'productestservice' to 'producttestservice'. I tried an answer from a related thread, which is to 'clean the Java language server workspace'. Unfortunately, this did not solve the issue.</p>\n<p><a href=\"https://github.com/cassis163/workspace-issue/tree/main\" rel=\"nofollow noreferrer\">Here</a> is a repository that I prepared for the reproduction of this issue.</p>\n<p><strong>EDIT: I found out that my language server extension fails to scan my project.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/tDg6u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tDg6u.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","exception","dependencies","multi-module"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1404987158,"post_id":24673671,"comment_id":38253723,"body_markdown":"The groupId in your parent does not match the groupId referenced?","body":"The groupId in your parent does not match the groupId referenced?"},{"owner":{"account_id":1141338,"reputation":6503,"user_id":1125151,"accept_rate":34,"display_name":"Harmeet Singh Taara"},"score":0,"creation_date":1404987448,"post_id":24673671,"comment_id":38253919,"body_markdown":"@GyroGearless thanks, the parent group id is incorrect in post, other wise in project its same.","body":"@GyroGearless thanks, the parent group id is incorrect in post, other wise in project its same."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1404987753,"post_id":24673671,"comment_id":38254089,"body_markdown":"The things you marked in Eclipse output is the workspace resolution in Eclipse. How does your folder strucuture on your hard disk look like?","body":"The things you marked in Eclipse output is the workspace resolution in Eclipse. How does your folder strucuture on your hard disk look like?"},{"owner":{"account_id":1141338,"reputation":6503,"user_id":1125151,"accept_rate":34,"display_name":"Harmeet Singh Taara"},"score":0,"creation_date":1404987860,"post_id":24673671,"comment_id":38254162,"body_markdown":"the folder structure is `D:\\luna_workspace\\empire_club\\empirecl`.","body":"the folder structure is <code>D:\\luna_workspace\\empire_club\\empirecl</code>."},{"owner":{"account_id":18263692,"reputation":563,"user_id":13295921,"display_name":"UN..D"},"score":0,"creation_date":1672085329,"post_id":24673671,"comment_id":132219206,"body_markdown":"it&#39;s cause of your root com.netsol:empirecl:pom:0.0.1-SNAPSHOT not installed inside .m2 file. it happen with me when tried to install only sub package needed so I tried to install all the packages and compile worked fine so notice that root package wasn&#39;t installed was the difference.","body":"it&#39;s cause of your root com.netsol:empirecl:pom:0.0.1-SNAPSHOT not installed inside .m2 file. it happen with me when tried to install only sub package needed so I tried to install all the packages and compile worked fine so notice that root package wasn&#39;t installed was the difference."}],"answers":[{"tags":[],"owner":{"account_id":298380,"reputation":4120,"user_id":604382,"display_name":"declension"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1421081449,"creation_date":1421081449,"answer_id":27906888,"question_id":24673671,"body_markdown":"In case anybody comes back to this, I think the problem here was failing to install the parent pom first, which all these submodules depend on, so the [Maven Reactor](http://books.sonatype.com/mvnex-book/reference/multimodule-sect-building-multimodule.html) can&#39;t collect the necessary dependencies to build the submodule.\r\n\r\nSo from the root directory (here `D:\\luna_workspace\\empire_club\\empirecl`) it probably just needs a: \r\n\r\n    mvn clean install\r\n\r\n(Aside: `&lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;` is not really necessary as [it&#39;s the default value](http://maven.apache.org/ref/3.0.3/maven-model/maven.html#class_parent)).\r\n\r\n","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>In case anybody comes back to this, I think the problem here was failing to install the parent pom first, which all these submodules depend on, so the <a href=\"http://books.sonatype.com/mvnex-book/reference/multimodule-sect-building-multimodule.html\" rel=\"noreferrer\">Maven Reactor</a> can't collect the necessary dependencies to build the submodule.</p>\n\n<p>So from the root directory (here <code>D:\\luna_workspace\\empire_club\\empirecl</code>) it probably just needs a: </p>\n\n<pre><code>mvn clean install\n</code></pre>\n\n<p>(Aside: <code>&lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;</code> is not really necessary as <a href=\"http://maven.apache.org/ref/3.0.3/maven-model/maven.html#class_parent\" rel=\"noreferrer\">it's the default value</a>).</p>\n"},{"tags":[],"owner":{"account_id":5588048,"reputation":101,"user_id":4428092,"display_name":"Sultan1991"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1537723491,"creation_date":1537723491,"answer_id":52468547,"question_id":24673671,"body_markdown":"In my case I forgot it was packaging conflict jar vs pom. I forgot to write \r\n\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\nIn every child pom.xml file","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>In my case I forgot it was packaging conflict jar vs pom. I forgot to write </p>\n\n<pre><code>&lt;packaging&gt;pom&lt;/packaging&gt;\n</code></pre>\n\n<p>In every child pom.xml file</p>\n"},{"tags":[],"owner":{"account_id":16371628,"reputation":31,"user_id":11824796,"display_name":"WounderGrifft"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580884445,"creation_date":1563886295,"answer_id":57164600,"question_id":24673671,"body_markdown":"My solution was to insert `&lt;packaging&gt;pom&lt;/packaging&gt;` between `artifactId` and `version`\r\n\r\n    &lt;groupId&gt;com.onlinechat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;chat-online&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;server&lt;/module&gt;\r\n        &lt;module&gt;client&lt;/module&gt;\r\n        &lt;module&gt;network&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>My solution was to insert <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code> between <code>artifactId</code> and <code>version</code></p>\n\n<pre><code>&lt;groupId&gt;com.onlinechat&lt;/groupId&gt;\n&lt;artifactId&gt;chat-online&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;modules&gt;\n    &lt;module&gt;server&lt;/module&gt;\n    &lt;module&gt;client&lt;/module&gt;\n    &lt;module&gt;network&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17824706,"reputation":137,"user_id":12946201,"display_name":"WhiteCherry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585579455,"creation_date":1585579455,"answer_id":60933080,"question_id":24673671,"body_markdown":"My solution:\r\n\r\n 1. remove all projects in current workspace\r\n 2. import all again\r\n 3. maven update project (Alt + F5) -&gt; *Select All* and check *Force Update of Snapshots/Releases*\r\n 4. maven build (Ctrl + B) until there is nothing to build\r\n\r\nIt worked for me after the second try.","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>My solution:</p>\n\n<ol>\n<li>remove all projects in current workspace</li>\n<li>import all again</li>\n<li>maven update project (Alt + F5) -> <em>Select All</em> and check <em>Force Update of Snapshots/Releases</em></li>\n<li>maven build (Ctrl + B) until there is nothing to build</li>\n</ol>\n\n<p>It worked for me after the second try.</p>\n"},{"tags":[],"owner":{"account_id":13954604,"reputation":2357,"user_id":10077354,"display_name":"Suraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612804445,"creation_date":1612804445,"answer_id":66106200,"question_id":24673671,"body_markdown":"For me, adding the following block of code under `&lt;dependency management&gt;&lt;dependencies&gt;` solved the problem.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.1-b06&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>For me, adding the following block of code under <code>&lt;dependency management&gt;&lt;dependencies&gt;</code> solved the problem.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1-b06&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20833834,"reputation":1,"user_id":15795723,"display_name":"Blas Albir"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1622706339,"creation_date":1622675133,"answer_id":67813549,"question_id":24673671,"body_markdown":"Delete or close all other projects, and restart netbeans IDE, and try again.","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>Delete or close all other projects, and restart netbeans IDE, and try again.</p>\n"},{"tags":[],"owner":{"account_id":9057807,"reputation":319,"user_id":6745434,"display_name":"Gitesh kumar Jha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627750714,"creation_date":1627750714,"answer_id":68604145,"question_id":24673671,"body_markdown":"This what worked for me -\r\nGo to Java build path --&gt; Order and Export(check JRE system libraries and maven dependencies) in my case these 2 were unchecked.","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>This what worked for me -\nGo to Java build path --&gt; Order and Export(check JRE system libraries and maven dependencies) in my case these 2 were unchecked.</p>\n"},{"tags":[],"owner":{"account_id":25402994,"reputation":1,"user_id":19212151,"display_name":"Sanjay hs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653634260,"creation_date":1653634260,"answer_id":72401515,"question_id":24673671,"body_markdown":"Check with your VPN connection, if you are working in home.","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>Check with your VPN connection, if you are working in home.</p>\n"}],"owner":{"account_id":1141338,"reputation":6503,"user_id":1125151,"accept_rate":34,"display_name":"Harmeet Singh Taara"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239778,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"answer_count":8,"score":42,"last_activity_date":1653634260,"creation_date":1404986524,"question_id":24673671,"body_markdown":"I am trying to create a maven multi-module project. the project is created successfully but when I am trying to use one module as a dependency of another module, it throws an exception. When I create a module using eclipse, I was selecting packaging as a jar, but when the module is created, the packaging tag was not mention in child pom.xml and I manually insert the packaging tag as a jar. \r\nfollowing is my parent `pom.xml`: \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.netsol&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;empirecl&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    -------------------------\r\n    &lt;modules&gt;\r\n\t\t&lt;module&gt;empirecl-web&lt;/module&gt;\r\n\t\t&lt;module&gt;empirecl-dao&lt;/module&gt;\r\n\t\t&lt;module&gt;empirecl-service&lt;/module&gt;\r\n\t\t&lt;module&gt;empirecl-api&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n\r\nDao Child Module: \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.netsol&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;empirecl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;artifactId&gt;empirecl-dao&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;empirecl-dao&lt;/name&gt;\r\n    ------------------------\r\n\r\nService Child Module: \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;com.netsol&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;empirecl&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;artifactId&gt;empirecl-service&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;empirecl-service&lt;/name&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.netsol&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;empirecl-dao&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n    ------------------------------------------\r\n\r\nThe Dao module maven clean and install successfully, but when i trying to use service module, it will generate an following exception: \r\n\r\n    [ERROR] Failed to execute goal on project empirecl-service: Could not resolve dependencies for project com.netsol:empirecl-service:jar:0.0.1-SNAPSHOT: Failed to collect dependencies at com.netsol:empirecl-dao:jar:0.0.1-SNAPSHOT: Failed to read artifact descriptor for com.netsol:empirecl-dao:jar:0.0.1-SNAPSHOT: Could not find artifact com.netsol:empirecl:pom:0.0.1-SNAPSHOT -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project empirecl-service: Could not resolve dependencies for project com.netsol:empirecl-service:jar:0.0.1-SNAPSHOT: Failed to collect dependencies at com.netsol:empirecl-dao:jar:0.0.1-SNAPSHOT\r\n\r\nI am trying the find to solution from web, but still the solution is not found. In eclipse when i open the `Dependency Hierarchy` of service module, it shown the DAO module as a folder not jar. below is the screen shot of `Dependency Hierarchy` of service module. \r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/hd7mD.png","title":"MavenError: Failed to execute goal on project: Could not resolve dependencies In Maven Multimodule project","body":"<p>I am trying to create a maven multi-module project. the project is created successfully but when I am trying to use one module as a dependency of another module, it throws an exception. When I create a module using eclipse, I was selecting packaging as a jar, but when the module is created, the packaging tag was not mention in child pom.xml and I manually insert the packaging tag as a jar. \nfollowing is my parent <code>pom.xml</code>: </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.netsol&lt;/groupId&gt;\n&lt;artifactId&gt;empirecl&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n-------------------------\n&lt;modules&gt;\n    &lt;module&gt;empirecl-web&lt;/module&gt;\n    &lt;module&gt;empirecl-dao&lt;/module&gt;\n    &lt;module&gt;empirecl-service&lt;/module&gt;\n    &lt;module&gt;empirecl-api&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n\n<p>Dao Child Module: </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;com.netsol&lt;/groupId&gt;\n    &lt;artifactId&gt;empirecl&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n&lt;/parent&gt;\n&lt;artifactId&gt;empirecl-dao&lt;/artifactId&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;name&gt;empirecl-dao&lt;/name&gt;\n------------------------\n</code></pre>\n\n<p>Service Child Module: </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;com.netsol&lt;/groupId&gt;\n    &lt;artifactId&gt;empirecl&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n&lt;/parent&gt;\n&lt;artifactId&gt;empirecl-service&lt;/artifactId&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;name&gt;empirecl-service&lt;/name&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.netsol&lt;/groupId&gt;\n        &lt;artifactId&gt;empirecl-dao&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n------------------------------------------\n</code></pre>\n\n<p>The Dao module maven clean and install successfully, but when i trying to use service module, it will generate an following exception: </p>\n\n<pre><code>[ERROR] Failed to execute goal on project empirecl-service: Could not resolve dependencies for project com.netsol:empirecl-service:jar:0.0.1-SNAPSHOT: Failed to collect dependencies at com.netsol:empirecl-dao:jar:0.0.1-SNAPSHOT: Failed to read artifact descriptor for com.netsol:empirecl-dao:jar:0.0.1-SNAPSHOT: Could not find artifact com.netsol:empirecl:pom:0.0.1-SNAPSHOT -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project empirecl-service: Could not resolve dependencies for project com.netsol:empirecl-service:jar:0.0.1-SNAPSHOT: Failed to collect dependencies at com.netsol:empirecl-dao:jar:0.0.1-SNAPSHOT\n</code></pre>\n\n<p>I am trying the find to solution from web, but still the solution is not found. In eclipse when i open the <code>Dependency Hierarchy</code> of service module, it shown the DAO module as a folder not jar. below is the screen shot of <code>Dependency Hierarchy</code> of service module. </p>\n\n<p><img src=\"https://i.stack.imgur.com/hd7mD.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":22555461,"reputation":31,"user_id":16743927,"display_name":"Adarsh Roop"},"score":0,"creation_date":1653632978,"post_id":72396787,"comment_id":127902345,"body_markdown":"@GaryRussell - Can you please help me to find some docs or websites on this ?","body":"@GaryRussell - Can you please help me to find some docs or websites on this ?"},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1654005112,"post_id":72396787,"comment_id":127985450,"body_markdown":"This makes no sense to me; please provide an [MCRE](https://stackoverflow.com/help/minimal-reproducible-example) so I can see what&#39;s wrong.","body":"This makes no sense to me; please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCRE</a> so I can see what&#39;s wrong."}],"owner":{"account_id":22555461,"reputation":31,"user_id":16743927,"display_name":"Adarsh Roop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4058,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653634005,"creation_date":1653591821,"question_id":72396787,"body_markdown":"After a lot of effort and research on Kafka exception handling in Spring Boot application I am here for help.\r\nI am using Spring boot version 2.5.9. Requirement is to handle the exceptions in spring kafka i.e., Retry the message for certain times and then commit the offset. \r\n\r\nFirstly, I have tried with `seekToCurrentErrorHandler` with the Acknowledgment mode **Auto** as the below:\r\n\r\n    @Bean\r\n    ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\r\n            ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\r\n            ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        configurer.configure(factory, kafkaConsumerFactory);\r\n        SeekToCurrentErrorHandler errorHandler = new SeekToCurrentErrorHandler((r, e) -&gt;  {\r\n        \tlog.info(&quot;in Error Handler record : {} and exception is : {}&quot;, r, e);\r\n        }, new FixedBackOff(0L, 3L)); \r\n        factory.setErrorHandler(errorHandler);\r\n        return factory;\r\n    }\r\n\r\nAnd tested with an integrated test case, the Listener invoked 4 times and worked as expected.\r\n\r\n    verify(kafkaConsumer, times(4)).onMessage(isA(ConsumerRecord.class));\r\n\r\nThe same is invoking **only once** when provided Acknowledgment as **MANUAL or MANUAL_IMMEDIATE**\r\n\r\nSecondly, have tried the below approach with RetryTemplate and Acknowledgment mode as **AUTO**\r\n\r\n    @Bean\r\n    ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\r\n            ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\r\n            ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        configurer.configure(factory, kafkaConsumerFactory);\r\n        factory.setErrorHandler(((thrownException, data) -&gt; {\r\n            log.info(&quot;Exception in consumerConfig is {} and the record is {}&quot;, thrownException.getMessage(), data);\r\n            //persist\r\n        }));\r\n        factory.setRetryTemplate(retryTemplate());\r\n        return factory;\r\n    }\r\n\r\n    private RetryTemplate retryTemplate() {\r\n    \r\n\t\tFixedBackOffPolicy fixedBackOffPolicy = new FixedBackOffPolicy();\r\n\t\tfixedBackOffPolicy.setBackOffPeriod(1000);\r\n\t\tRetryTemplate retryTemplate = new RetryTemplate();\r\n\t\tretryTemplate.setRetryPolicy(simpleRetryPolicy());\r\n\t\tretryTemplate.setBackOffPolicy(fixedBackOffPolicy);\r\n\t\treturn retryTemplate;\r\n\t}\r\n    \r\n\r\n    private RetryPolicy simpleRetryPolicy() {\r\n\r\n    \tSimpleRetryPolicy simpleRetryPolicy = new SimpleRetryPolicy();\r\n    \tsimpleRetryPolicy.setMaxAttempts(3);\r\n    \treturn simpleRetryPolicy;\r\n    }\r\n\r\nthis worked as expected, where the message retried processing with 3 attempts.\r\n\r\nThe same is invoking **only once** when provided Acknowledgment as **MANUAL or MANUAL_IMMEDIATE**\r\n\r\nI unable to find any articles/docs/code repos on Kafka Exception Handling with **MANUAL** Ack Mode.\r\nKindly, Please suggest me some websites if any to handle the Spring kafka exceptions(Listener and Container level) with **MANUAL** Ack mode.\r\n\r\n","title":"Spring-kafka exception handling with Manual Acknowledgment Mode","body":"<p>After a lot of effort and research on Kafka exception handling in Spring Boot application I am here for help.\nI am using Spring boot version 2.5.9. Requirement is to handle the exceptions in spring kafka i.e., Retry the message for certain times and then commit the offset.</p>\n<p>Firstly, I have tried with <code>seekToCurrentErrorHandler</code> with the Acknowledgment mode <strong>Auto</strong> as the below:</p>\n<pre><code>@Bean\nConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\n        ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\n        ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    configurer.configure(factory, kafkaConsumerFactory);\n    SeekToCurrentErrorHandler errorHandler = new SeekToCurrentErrorHandler((r, e) -&gt;  {\n        log.info(&quot;in Error Handler record : {} and exception is : {}&quot;, r, e);\n    }, new FixedBackOff(0L, 3L)); \n    factory.setErrorHandler(errorHandler);\n    return factory;\n}\n</code></pre>\n<p>And tested with an integrated test case, the Listener invoked 4 times and worked as expected.</p>\n<pre><code>verify(kafkaConsumer, times(4)).onMessage(isA(ConsumerRecord.class));\n</code></pre>\n<p>The same is invoking <strong>only once</strong> when provided Acknowledgment as <strong>MANUAL or MANUAL_IMMEDIATE</strong></p>\n<p>Secondly, have tried the below approach with RetryTemplate and Acknowledgment mode as <strong>AUTO</strong></p>\n<pre><code>@Bean\nConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\n        ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\n        ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    configurer.configure(factory, kafkaConsumerFactory);\n    factory.setErrorHandler(((thrownException, data) -&gt; {\n        log.info(&quot;Exception in consumerConfig is {} and the record is {}&quot;, thrownException.getMessage(), data);\n        //persist\n    }));\n    factory.setRetryTemplate(retryTemplate());\n    return factory;\n}\n\nprivate RetryTemplate retryTemplate() {\n\n    FixedBackOffPolicy fixedBackOffPolicy = new FixedBackOffPolicy();\n    fixedBackOffPolicy.setBackOffPeriod(1000);\n    RetryTemplate retryTemplate = new RetryTemplate();\n    retryTemplate.setRetryPolicy(simpleRetryPolicy());\n    retryTemplate.setBackOffPolicy(fixedBackOffPolicy);\n    return retryTemplate;\n}\n\n\nprivate RetryPolicy simpleRetryPolicy() {\n\n    SimpleRetryPolicy simpleRetryPolicy = new SimpleRetryPolicy();\n    simpleRetryPolicy.setMaxAttempts(3);\n    return simpleRetryPolicy;\n}\n</code></pre>\n<p>this worked as expected, where the message retried processing with 3 attempts.</p>\n<p>The same is invoking <strong>only once</strong> when provided Acknowledgment as <strong>MANUAL or MANUAL_IMMEDIATE</strong></p>\n<p>I unable to find any articles/docs/code repos on Kafka Exception Handling with <strong>MANUAL</strong> Ack Mode.\nKindly, Please suggest me some websites if any to handle the Spring kafka exceptions(Listener and Container level) with <strong>MANUAL</strong> Ack mode.</p>\n"},{"tags":["java","spring","api","rest","spring-mvc"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653632639,"post_id":72401043,"comment_id":127902270,"body_markdown":"May be because you aren&#39;t scanning `kr.or.connect.finalproject.service.impl`","body":"May be because you aren&#39;t scanning <code>kr.or.connect.finalproject.service.impl</code>"},{"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"score":0,"creation_date":1653632952,"post_id":72401043,"comment_id":127902339,"body_markdown":"@tgdavies Can you explain in detail?","body":"@tgdavies Can you explain in detail?"},{"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"score":0,"creation_date":1653633959,"post_id":72401043,"comment_id":127902571,"body_markdown":"I thought ```kr.or.connect.finalproject.service package includes``` ```kr.or.connect.finalproject.service.impl.```","body":"I thought <code>kr.or.connect.finalproject.service package includes</code> <code>kr.or.connect.finalproject.service.impl.</code>"},{"owner":{"account_id":20499100,"reputation":377,"user_id":15043397,"display_name":"yuri777"},"score":0,"creation_date":1653634223,"post_id":72401043,"comment_id":127902638,"body_markdown":"Maybe you have 2 classes that implement PromotionService?","body":"Maybe you have 2 classes that implement PromotionService?"},{"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"score":0,"creation_date":1653635648,"post_id":72401043,"comment_id":127903041,"body_markdown":"@yuri777 It looks like 2 implement classes. i tried to remove one PromotionService impement, but eclpise deteles both. i think elipse just show us mirrored package.","body":"@yuri777 It looks like 2 implement classes. i tried to remove one PromotionService impement, but eclpise deteles both. i think elipse just show us mirrored package."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653635940,"post_id":72401043,"comment_id":127903121,"body_markdown":"Yes, you&#39;re right, it should","body":"Yes, you&#39;re right, it should"},{"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"score":0,"creation_date":1653637198,"post_id":72401043,"comment_id":127903491,"body_markdown":"@tgdavies OK. then at least it&#39;s not a package problem","body":"@tgdavies OK. then at least it&#39;s not a package problem"},{"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"score":0,"creation_date":1653893866,"post_id":72401043,"comment_id":127953506,"body_markdown":"Problem solved\nMain reason was lack of adding web.xml settings.","body":"Problem solved Main reason was lack of adding web.xml settings."},{"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"score":0,"creation_date":1653893982,"post_id":72401043,"comment_id":127953532,"body_markdown":"`&lt;context-param&gt;\n\t\t&lt;param-name&gt;contextClass&lt;/param-name&gt;\n\t\t&lt;param-value&gt;org.springframework.web.context.support.AnnotationConfigWebApplicationContext\n\t\t&lt;/param-value&gt;\n\t&lt;/context-param&gt;\n\t&lt;context-param&gt;\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n\t\t&lt;param-value&gt;kr.or.connect.finalproject.config.ApplicationConfig\n\t\t&lt;/param-value&gt;\n\t&lt;/context-param&gt;\n\t&lt;listener&gt;\n\t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener\n\t\t&lt;/listener-class&gt;\n\t&lt;/listener&gt; `","body":"<code>&lt;context-param&gt; \t\t&lt;param-name&gt;contextClass&lt;&#47;param-name&gt; \t\t&lt;param-value&gt;org.springframework.web.context.support.Annot&zwnj;&#8203;ationConfigWebApplic&zwnj;&#8203;ationContext \t\t&lt;&#47;param-value&gt; \t&lt;&#47;context-param&gt; \t&lt;context-param&gt; \t\t&lt;param-name&gt;contextConfigLocation&lt;&#47;param-name&gt; \t\t&lt;param-value&gt;kr.or.connect.finalproject.config.Application&zwnj;&#8203;Config \t\t&lt;&#47;param-value&gt; \t&lt;&#47;context-param&gt; \t&lt;listener&gt; \t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoa&zwnj;&#8203;derListener \t\t&lt;&#47;listener-class&gt; \t&lt;&#47;listener&gt; </code>"},{"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"score":0,"creation_date":1653894155,"post_id":72401043,"comment_id":127953583,"body_markdown":"`&lt;filter&gt;\n\t\t&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n\t\t&lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter\n\t\t&lt;/filter-class&gt;\n\t\t&lt;init-param&gt;\n\t\t\t&lt;param-name&gt;encoding&lt;/param-name&gt;\n\t\t\t&lt;param-value&gt;UTF-8&lt;/param-value&gt;\n\t\t&lt;/init-param&gt;\n\t&lt;/filter&gt;\n\t&lt;filter-mapping&gt;\n\t\t&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n\t&lt;/filter-mapping&gt;`","body":"<code>&lt;filter&gt; \t\t&lt;filter-name&gt;encodingFilter&lt;&#47;filter-name&gt; \t\t&lt;filter-class&gt;org.springframework.web.filter.CharacterEnco&zwnj;&#8203;dingFilter \t\t&lt;&#47;filter-class&gt; \t\t&lt;init-param&gt; \t\t\t&lt;param-name&gt;encoding&lt;&#47;param-name&gt; \t\t\t&lt;param-value&gt;UTF-8&lt;&#47;param-value&gt; \t\t&lt;&#47;init-param&gt; \t&lt;&#47;filter&gt; \t&lt;filter-mapping&gt; \t\t&lt;filter-name&gt;encodingFilter&lt;&#47;filter-name&gt; \t\t&lt;url-pattern&gt;&#47;*&lt;&#47;url-pattern&gt; \t&lt;&#47;filter-mapping&gt;</code>"},{"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"score":0,"creation_date":1653894221,"post_id":72401043,"comment_id":127953611,"body_markdown":"when i added those code in web.xml, it immidiately worked!!","body":"when i added those code in web.xml, it immidiately worked!!"}],"owner":{"account_id":25402516,"reputation":1,"user_id":19211737,"display_name":"qwerpoiu"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653633267,"creation_date":1653631014,"question_id":72401043,"body_markdown":"[enter image description here][1]**I checeked JDBC and checked it works.**\r\n\r\n**but i&#39;m trying to make Rest api (a.k.a RESTful api) but i got 500 error.**\r\n\r\n**Guys, Can u find which part is wrong?**\r\n\r\n**ERROR : 500 Interal Server problem**\r\n\r\n**javax.servlet.ServletException:**\r\n\r\nerror details : org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;promotionApiController&#39; defined in file [C:\\Users\\ICT\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\finalproject\\WEB-INF\\classes\\kr\\or\\connect\\finalproject\\controller\\PromotionApiController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;kr.or.connect.finalproject.service.PromotionService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\n ---PromotionApiController.java-------\r\n\r\n    package kr.or.connect.finalproject.controller;\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport kr.or.connect.finalproject.dto.Promotion;\r\nimport kr.or.connect.finalproject.service.PromotionService;\r\n\r\n\r\n@RestController\r\n@RequestMapping(path=&quot;/api/promotions&quot;)  \r\npublic class PromotionApiController {\r\n\t@Autowired \r\n\tPromotionService promotionService;\r\n\t\r\n\t\r\n\tpublic PromotionApiController(PromotionService promotionService) {\r\n\t\tthis.promotionService = promotionService;\r\n\t}\r\n\t@GetMapping\r\n\t \r\n\tpublic List&lt;Promotion&gt; getPromotion() { \r\n\t\treturn promotionService.getPromotion();//promotionService\r\n\t};\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nApplicationConfing.java\r\n```\r\npackage kr.or.connect.finalproject.config;\r\n\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Import;\r\n\r\n\r\n@Configuration\r\n@ComponentScan(basePackages = { &quot;kr.or.connect.finalproject.dao&quot;,  &quot;kr.or.connect.finalproject.service&quot;}) \r\n\r\n@Import({ DBConfig.class })\r\npublic class ApplicationConfig {\r\n}\r\n```\r\n\r\nPromotionDao.java\r\n```\r\npackage kr.or.connect.finalproject.dao;\r\n\r\nimport javax.sql.DataSource;\r\n\r\nimport org.springframework.jdbc.core.BeanPropertyRowMapper;\r\nimport org.springframework.jdbc.core.RowMapper;\r\nimport org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport kr.or.connect.finalproject.dto.Promotion;\r\nimport static kr.or.connect.finalproject.dao.PromotionDaoSqls.*;\r\n\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic class PromotionDao {\r\n\tprivate NamedParameterJdbcTemplate jdbc;\r\n\tprivate RowMapper&lt;Promotion&gt; promotionRowMapper = BeanPropertyRowMapper.newInstance(Promotion.class);\r\n\t\r\n\tpublic PromotionDao(DataSource datasource) {\r\n\t\tthis.jdbc = new NamedParameterJdbcTemplate(datasource);\r\n\t}\r\n\t\r\n\tpublic List&lt;Promotion&gt; selectPromotion() {\r\n\t\treturn jdbc.query(SELECT_PROMOTION, Collections.emptyMap(), promotionRowMapper);\r\n\t}\r\n}\r\n```\r\n\r\nPromotionDaoSqls\r\n```\r\npackage kr.or.connect.finalproject.dao;\r\n\r\npublic class PromotionDaoSqls {\r\n\tpublic static final String SELECT_PROMOTION = &quot;select promotion.id as id, promotion.product_id as product_id, save_file_name as productImageUrl \\r\\n&quot;\r\n\t\t\t+ &quot;from promotion, product_image, file_info \\r\\n&quot;\r\n\t\t\t+ &quot;where promotion.product_id = product_image.product_id and type=&#39;th&#39; and file_info.id=product_image.file_id&quot;;\r\n}\r\n```\r\n\r\n\r\nPromotion.java   (DTO)\r\n\r\n```\r\npackage kr.or.connect.finalproject.dto;\r\n\r\npublic class Promotion {\r\n\tprivate int id;\r\n\tprivate int product_id;\r\n\tprivate String productImageUrl;\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic int getProduct_id() {\r\n\t\treturn product_id;\r\n\t}\r\n\tpublic void setProduct_id(int product_id) {\r\n\t\tthis.product_id = product_id;\r\n\t}\r\n\tpublic String getProductImageUrl() {\r\n\t\treturn productImageUrl;\r\n\t}\r\n\tpublic void setProductImageUrl(String productImageUrl) {\r\n\t\tthis.productImageUrl = productImageUrl;\r\n\t}\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Promotion [id=&quot; + id + &quot;, product_id=&quot; + product_id + &quot;, productImageUrl=&quot; + productImageUrl + &quot;]&quot;;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nPromotionService.java \r\n```\r\npackage kr.or.connect.finalproject.service;\r\n\r\nimport java.util.List;\r\n\r\nimport kr.or.connect.finalproject.dto.Promotion;\r\n\r\npublic interface PromotionService {\r\n\tpublic List&lt;Promotion&gt; getPromotion();\r\n\t\r\n}\r\n```\r\n\r\nPromotionServficeImpl.java\r\n```\r\npackage kr.or.connect.finalproject.service.impl;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport kr.or.connect.finalproject.dao.PromotionDao;\r\nimport kr.or.connect.finalproject.dto.Promotion;//promotion dto\r\nimport kr.or.connect.finalproject.service.PromotionService;\r\n\r\n@Service\r\npublic class PromotionServiceImpl implements PromotionService{\r\n\t@Autowired\r\n\t PromotionDao promotionDao;\r\n\t\r\n\tpublic PromotionServiceImpl(PromotionDao promotionDao) {\r\n\t\tthis.promotionDao = promotionDao;\r\n\t}\r\n\t\r\n\t@Override\r\n\t@Transactional(readOnly = true)\r\n\tpublic List&lt;Promotion&gt; getPromotion() {\r\n\t\treturn promotionDao.selectPromotion();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rc0Ti.png\r\n  [2]: https://i.stack.imgur.com/7ODTM.png","title":"I am trying Spring MVC and got problem about API works(Server)","body":"<p><a href=\"https://i.stack.imgur.com/Rc0Ti.png\" rel=\"nofollow noreferrer\">enter image description here</a><strong>I checeked JDBC and checked it works.</strong></p>\n<p><strong>but i'm trying to make Rest api (a.k.a RESTful api) but i got 500 error.</strong></p>\n<p><strong>Guys, Can u find which part is wrong?</strong></p>\n<p><strong>ERROR : 500 Interal Server problem</strong></p>\n<p><strong>javax.servlet.ServletException:</strong></p>\n<p>error details : org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'promotionApiController' defined in file [C:\\Users\\ICT\\eclipse-workspace.metadata.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\finalproject\\WEB-INF\\classes\\kr\\or\\connect\\finalproject\\controller\\PromotionApiController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'kr.or.connect.finalproject.service.PromotionService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</p>\n<p>---PromotionApiController.java-------</p>\n<pre><code>package kr.or.connect.finalproject.controller;\n</code></pre>\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport kr.or.connect.finalproject.dto.Promotion;\nimport kr.or.connect.finalproject.service.PromotionService;\n\n\n@RestController\n@RequestMapping(path=&quot;/api/promotions&quot;)  \npublic class PromotionApiController {\n    @Autowired \n    PromotionService promotionService;\n    \n    \n    public PromotionApiController(PromotionService promotionService) {\n        this.promotionService = promotionService;\n    }\n    @GetMapping\n     \n    public List&lt;Promotion&gt; getPromotion() { \n        return promotionService.getPromotion();//promotionService\n    };\n    \n    \n}\n</code></pre>\n<p>ApplicationConfing.java</p>\n<pre><code>package kr.or.connect.finalproject.config;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Import;\n\n\n@Configuration\n@ComponentScan(basePackages = { &quot;kr.or.connect.finalproject.dao&quot;,  &quot;kr.or.connect.finalproject.service&quot;}) \n\n@Import({ DBConfig.class })\npublic class ApplicationConfig {\n}\n</code></pre>\n<p>PromotionDao.java</p>\n<pre><code>package kr.or.connect.finalproject.dao;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.jdbc.core.BeanPropertyRowMapper;\nimport org.springframework.jdbc.core.RowMapper;\nimport org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate;\nimport org.springframework.stereotype.Repository;\n\nimport kr.or.connect.finalproject.dto.Promotion;\nimport static kr.or.connect.finalproject.dao.PromotionDaoSqls.*;\n\nimport java.util.Collections;\nimport java.util.List;\n\n@Repository\npublic class PromotionDao {\n    private NamedParameterJdbcTemplate jdbc;\n    private RowMapper&lt;Promotion&gt; promotionRowMapper = BeanPropertyRowMapper.newInstance(Promotion.class);\n    \n    public PromotionDao(DataSource datasource) {\n        this.jdbc = new NamedParameterJdbcTemplate(datasource);\n    }\n    \n    public List&lt;Promotion&gt; selectPromotion() {\n        return jdbc.query(SELECT_PROMOTION, Collections.emptyMap(), promotionRowMapper);\n    }\n}\n</code></pre>\n<p>PromotionDaoSqls</p>\n<pre><code>package kr.or.connect.finalproject.dao;\n\npublic class PromotionDaoSqls {\n    public static final String SELECT_PROMOTION = &quot;select promotion.id as id, promotion.product_id as product_id, save_file_name as productImageUrl \\r\\n&quot;\n            + &quot;from promotion, product_image, file_info \\r\\n&quot;\n            + &quot;where promotion.product_id = product_image.product_id and type='th' and file_info.id=product_image.file_id&quot;;\n}\n</code></pre>\n<p>Promotion.java   (DTO)</p>\n<pre><code>package kr.or.connect.finalproject.dto;\n\npublic class Promotion {\n    private int id;\n    private int product_id;\n    private String productImageUrl;\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public int getProduct_id() {\n        return product_id;\n    }\n    public void setProduct_id(int product_id) {\n        this.product_id = product_id;\n    }\n    public String getProductImageUrl() {\n        return productImageUrl;\n    }\n    public void setProductImageUrl(String productImageUrl) {\n        this.productImageUrl = productImageUrl;\n    }\n    @Override\n    public String toString() {\n        return &quot;Promotion [id=&quot; + id + &quot;, product_id=&quot; + product_id + &quot;, productImageUrl=&quot; + productImageUrl + &quot;]&quot;;\n    }\n    \n}\n\n</code></pre>\n<p>PromotionService.java</p>\n<pre><code>package kr.or.connect.finalproject.service;\n\nimport java.util.List;\n\nimport kr.or.connect.finalproject.dto.Promotion;\n\npublic interface PromotionService {\n    public List&lt;Promotion&gt; getPromotion();\n    \n}\n</code></pre>\n<p>PromotionServficeImpl.java</p>\n<pre><code>package kr.or.connect.finalproject.service.impl;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport kr.or.connect.finalproject.dao.PromotionDao;\nimport kr.or.connect.finalproject.dto.Promotion;//promotion dto\nimport kr.or.connect.finalproject.service.PromotionService;\n\n@Service\npublic class PromotionServiceImpl implements PromotionService{\n    @Autowired\n     PromotionDao promotionDao;\n    \n    public PromotionServiceImpl(PromotionDao promotionDao) {\n        this.promotionDao = promotionDao;\n    }\n    \n    @Override\n    @Transactional(readOnly = true)\n    public List&lt;Promotion&gt; getPromotion() {\n        return promotionDao.selectPromotion();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7ODTM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1317728028,"post_id":7646572,"comment_id":9289259,"body_markdown":"I think that the answer is &quot;No, you can&#39;t&quot;.","body":"I think that the answer is &quot;No, you can&#39;t&quot;."},{"owner":{"account_id":11040,"reputation":6760,"user_id":21132,"accept_rate":89,"display_name":"Fabien"},"score":0,"creation_date":1318584898,"post_id":7646572,"comment_id":9454021,"body_markdown":"Nobody seems to be sure enough to say it as an answer.","body":"Nobody seems to be sure enough to say it as an answer."},{"owner":{"account_id":340843,"reputation":11330,"user_id":671092,"accept_rate":82,"display_name":"gd1"},"score":2,"creation_date":1360922105,"post_id":7646572,"comment_id":20884153,"body_markdown":"As an extreme solution, you can consider using an AOP framework (e.g. AspectJ) for intercepting the calls to the setters. This is really tricky so I&#39;m not suggesting it as a solution.","body":"As an extreme solution, you can consider using an AOP framework (e.g. AspectJ) for intercepting the calls to the setters. This is really tricky so I&#39;m not suggesting it as a solution."},{"owner":{"account_id":42441,"reputation":2772,"user_id":123642,"accept_rate":40,"display_name":"kolen"},"score":2,"creation_date":1361527058,"post_id":7646572,"comment_id":21106149,"body_markdown":"If EclipseLink can be configured to generate `INSERT IGNORE` and `UPDATE IGNORE` statements, then MySQL will truncate on these operations. But be careful, `ignore` modifiers should be only set where truncation is really needed and controlled. Truncation is dangerous and can lead to vulnerabilities.","body":"If EclipseLink can be configured to generate <code>INSERT IGNORE</code> and <code>UPDATE IGNORE</code> statements, then MySQL will truncate on these operations. But be careful, <code>ignore</code> modifiers should be only set where truncation is really needed and controlled. Truncation is dangerous and can lead to vulnerabilities."}],"answers":[{"tags":[],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1317732405,"creation_date":1317732405,"answer_id":7648104,"question_id":7646572,"body_markdown":"I don&#39;t know anything about the EclipseLink, but in the Hibernate it&#39;s doable - you could make an org.hibernate.Interceptor and in onFlushDirty method modify the object&#39;s currentState using entity meta data.\r\n","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>I don't know anything about the EclipseLink, but in the Hibernate it's doable - you could make an org.hibernate.Interceptor and in onFlushDirty method modify the object's currentState using entity meta data.</p>\n"},{"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1317733020,"creation_date":1317733020,"answer_id":7648243,"question_id":7646572,"body_markdown":"You can use a Descriptor PreInsert/PreUpdate event for this, or possibly just use JPA PreInsert and PreUpdate events.\r\n\r\nJust check the size of the fields and truncate them in the event code.\r\n\r\nIf required, you could get the field size from the descriptor&#39;s mapping&#39;s DatabaseField, or use Java reflection to get it from the annotation.\r\n\r\nIt would probably be even better to just do the truncation in your set methods.  Then you do not need to worry about events.\r\n\r\nYou may also be able to truncate it on the database, check your MySQL settings, or possible use a trigger.\r\n","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>You can use a Descriptor PreInsert/PreUpdate event for this, or possibly just use JPA PreInsert and PreUpdate events.</p>\n\n<p>Just check the size of the fields and truncate them in the event code.</p>\n\n<p>If required, you could get the field size from the descriptor's mapping's DatabaseField, or use Java reflection to get it from the annotation.</p>\n\n<p>It would probably be even better to just do the truncation in your set methods.  Then you do not need to worry about events.</p>\n\n<p>You may also be able to truncate it on the database, check your MySQL settings, or possible use a trigger.</p>\n"},{"tags":[],"owner":{"account_id":1087429,"reputation":460,"user_id":1082811,"display_name":"Choufler"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1328031926,"creation_date":1328031926,"answer_id":9084340,"question_id":7646572,"body_markdown":"There is another way to do it, may be even faster (at least it works on 5th version of MySql):\r\n\r\nFirst, check your sql_mode setting: [there is a detailed description how to do it][1]. This setting should have value of &quot;&quot; for windows, and &quot;modes&quot; for Unix.\r\n\r\nThat didn&#39;t help me, so I found another setting, this time in jdbc: \r\n\r\n    jdbcCompliantTruncation=false. \r\n\r\nIn my case (I used persistence) it is defined in persistence.xml:\r\n\r\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://127.0.0.1:3306/dbname?jdbcCompliantTruncation=false&quot;/&gt;\r\n\r\n\r\nThese 2 settings work only together, I tried to use them separately and had no effect.\r\n\r\n**Notice**: remember that by setting sql_mode as described above you switch off important database checks, so please do it carefully.\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.0/en/server-sql-mode.html","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>There is another way to do it, may be even faster (at least it works on 5th version of MySql):</p>\n\n<p>First, check your sql_mode setting: <a href=\"http://dev.mysql.com/doc/refman/5.0/en/server-sql-mode.html\" rel=\"noreferrer\">there is a detailed description how to do it</a>. This setting should have value of \"\" for windows, and \"modes\" for Unix.</p>\n\n<p>That didn't help me, so I found another setting, this time in jdbc: </p>\n\n<pre><code>jdbcCompliantTruncation=false. \n</code></pre>\n\n<p>In my case (I used persistence) it is defined in persistence.xml:</p>\n\n<pre><code>&lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:mysql://127.0.0.1:3306/dbname?jdbcCompliantTruncation=false\"/&gt;\n</code></pre>\n\n<p>These 2 settings work only together, I tried to use them separately and had no effect.</p>\n\n<p><strong>Notice</strong>: remember that by setting sql_mode as described above you switch off important database checks, so please do it carefully.</p>\n"},{"tags":[],"owner":{"account_id":2390155,"reputation":586,"user_id":2090146,"display_name":"Doron Manor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361367712,"creation_date":1361367712,"answer_id":14981315,"question_id":7646572,"body_markdown":"You can set your database to work in a non strict mode as explained here:\r\nhttps://stackoverflow.com/questions/3186343/automatically-trimming-length-of-string-submitted-to-mysql\r\n\r\nNote that it might cancel other validations too so be careful in what you wish for","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>You can set your database to work in a non strict mode as explained here:\n<a href=\"https://stackoverflow.com/questions/3186343/automatically-trimming-length-of-string-submitted-to-mysql\">Automatically trimming length of string submitted to MySQL</a></p>\n\n<p>Note that it might cancel other validations too so be careful in what you wish for</p>\n"},{"tags":[],"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361487540,"creation_date":1361487540,"answer_id":15013861,"question_id":7646572,"body_markdown":"Since the Exception seems to be raised at the database level during the commit() process, a before-insert Trigger on the target table/s could truncate the new values before they are committed, bypassing the error.\r\n","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>Since the Exception seems to be raised at the database level during the commit() process, a before-insert Trigger on the target table/s could truncate the new values before they are committed, bypassing the error.</p>\n"},{"tags":[],"owner":{"account_id":1141397,"reputation":4287,"user_id":1125197,"accept_rate":80,"display_name":"lichengwu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361495315,"creation_date":1361495315,"answer_id":15015193,"question_id":7646572,"body_markdown":"Maybe AOP will help:\r\n\r\nIntercept all set method in you JavaBean/POJO, and then get the filed to be set. Check if the field is annotate with `@Column` and field type is `String`. Then truncate the field if it&#39;s too long than `length`.","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>Maybe AOP will help:</p>\n\n<p>Intercept all set method in you JavaBean/POJO, and then get the filed to be set. Check if the field is annotate with <code>@Column</code> and field type is <code>String</code>. Then truncate the field if it's too long than <code>length</code>.</p>\n"},{"tags":[],"owner":{"account_id":147528,"reputation":3201,"user_id":358696,"display_name":"Eric Galluzzo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1361509353,"creation_date":1361509353,"answer_id":15017201,"question_id":7646572,"body_markdown":"If you want to do this on a field-by-field basis rather than globally, then you might be able to make a custom type mapping that truncates the value to the given length before inserting it into the table.  Then you can attach the converter to the entity by an annotation like:\r\n\r\n    @Converter(name=&quot;myConverter&quot;, class=&quot;com.example.MyConverter&quot;)\r\n\r\nand to the relevant fields via:\r\n\r\n    @Convert(&quot;myConverter&quot;)\r\n\r\nThis is really meant for supporting custom SQL types, but it might work for normal varchar type fields as well.  [Here](https://github.com/ancoron/pg-inet-maven/wiki/Support-custom-data-types-in-EclipseLink) is a tutorial on making one of these converters.","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>If you want to do this on a field-by-field basis rather than globally, then you might be able to make a custom type mapping that truncates the value to the given length before inserting it into the table.  Then you can attach the converter to the entity by an annotation like:</p>\n\n<pre><code>@Converter(name=\"myConverter\", class=\"com.example.MyConverter\")\n</code></pre>\n\n<p>and to the relevant fields via:</p>\n\n<pre><code>@Convert(\"myConverter\")\n</code></pre>\n\n<p>This is really meant for supporting custom SQL types, but it might work for normal varchar type fields as well.  <a href=\"https://github.com/ancoron/pg-inet-maven/wiki/Support-custom-data-types-in-EclipseLink\" rel=\"nofollow\">Here</a> is a tutorial on making one of these converters.</p>\n"},{"tags":[],"owner":{"account_id":1659920,"reputation":22819,"user_id":1528401,"display_name":"Glen Best"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1361518847,"creation_date":1361518847,"answer_id":15019178,"question_id":7646572,"body_markdown":"Two very important features of UI design:\r\n\r\n1.  You should never silently alter user data - the user should be aware, in control and consent to such changes.\r\n2.  You should never allow data to be entered that cannot be handled - use UI/HTML attributes and validation to restrict data to legal values\r\n\r\n\r\nThe answer to your problem is very simple.  Simply limit your UI input fields to 256 characters, to match the database field length:\r\n\r\n    &lt;input type=&quot;text&quot; name=&quot;widgetDescription&quot; maxlength=&quot;256&quot;&gt;\r\n\r\nThis is a system limitation - the user should not be able to enter more data than this.  If this is insufficient, change the database.","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>Two very important features of UI design:</p>\n\n<ol>\n<li>You should never silently alter user data - the user should be aware, in control and consent to such changes.</li>\n<li>You should never allow data to be entered that cannot be handled - use UI/HTML attributes and validation to restrict data to legal values</li>\n</ol>\n\n<p>The answer to your problem is very simple.  Simply limit your UI input fields to 256 characters, to match the database field length:</p>\n\n<pre><code>&lt;input type=\"text\" name=\"widgetDescription\" maxlength=\"256\"&gt;\n</code></pre>\n\n<p>This is a system limitation - the user should not be able to enter more data than this.  If this is insufficient, change the database.</p>\n"},{"tags":[],"owner":{"account_id":9104,"reputation":33430,"user_id":16673,"accept_rate":89,"display_name":"Suma"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1427824269,"creation_date":1361524622,"answer_id":15020587,"question_id":7646572,"body_markdown":"One can truncate a string according to the JPA annotations in the setter for the corresponding field:\r\n\r\n    public void setX(String x) {\r\n        try {\r\n            int size = getClass().getDeclaredField(&quot;x&quot;).getAnnotation(Column.class).length();\r\n            int inLength = x.length();\r\n            if (inLength&gt;size)\r\n            {\r\n                x = x.substring(0, size);\r\n            }\r\n        } catch (NoSuchFieldException ex) {\r\n        } catch (SecurityException ex) {\r\n        }\r\n        this.x = x;\r\n    }\r\n\r\nThe annotation itself should look like:\r\n\r\n    @Column(name = &quot;x&quot;, length=100)\r\n    private String x;\r\n\r\n(Based on https://stackoverflow.com/a/1946901/16673)\r\n\r\nThe annotations can be recreated from the database if the database changes, as hinted in the comment to https://stackoverflow.com/a/7648243/16673\r\n","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>One can truncate a string according to the JPA annotations in the setter for the corresponding field:</p>\n\n<pre><code>public void setX(String x) {\n    try {\n        int size = getClass().getDeclaredField(\"x\").getAnnotation(Column.class).length();\n        int inLength = x.length();\n        if (inLength&gt;size)\n        {\n            x = x.substring(0, size);\n        }\n    } catch (NoSuchFieldException ex) {\n    } catch (SecurityException ex) {\n    }\n    this.x = x;\n}\n</code></pre>\n\n<p>The annotation itself should look like:</p>\n\n<pre><code>@Column(name = \"x\", length=100)\nprivate String x;\n</code></pre>\n\n<p>(Based on <a href=\"https://stackoverflow.com/a/1946901/16673\">https://stackoverflow.com/a/1946901/16673</a>)</p>\n\n<p>The annotations can be recreated from the database if the database changes, as hinted in the comment to <a href=\"https://stackoverflow.com/a/7648243/16673\">https://stackoverflow.com/a/7648243/16673</a></p>\n"},{"tags":[],"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1361526469,"creation_date":1361526469,"answer_id":15021214,"question_id":7646572,"body_markdown":"You have different solutions and false solutions.\r\n\r\n**Using trigger or any database level trick**\r\n\r\nThis will create inconsistency between the objects in the ORM and their serialized form in the DB. If you use second level caching: it can leads to lots of troubles. In my opinion this is not a real solution for a general use case.\r\n\r\n**Using pre-insert, pre-update hooks**\r\n\r\nYou will silently modify the user data just before persisting it. So your code may behave differently depending on the fact that the object is already persisted or not. It may cause trouble too. Additionally, you must be careful with the order of hooks invocation: be sure that your &quot;field-truncator-hook&quot; is the very first one called by the persistence provider.\r\n\r\n**Using aop to intercept call to setters**\r\n\r\nThis solution will more or less silently modify user/automatic input, but your objects won&#39;t be modified after you use them to do some business logic. So this is more acceptable than the 2 previous solutions, but the setters won&#39;t follow the contract of usual setters. Additionally, if you use field injection: it will bypass the aspect (depending on your configuration, jpa provider may use field injection. Most of the time: Spring use setters. I guess some other frameworks may use field injection, so even if you don&#39;t use it explicitelly be aware of the underlying implementation of frameworks you are using).\r\n\r\n**Using aop to intercept field modification**\r\n\r\nSimilar to the previous solution except that field injection will also be intercepted by the aspect. (note that I never wrote an aspect doing this kind of things, but I think it&#39;s feasible)\r\n\r\n**Adding a controller layer to check field length before calling the setter**\r\n\r\nProbably the best solution in terms of data integrity. But it may requires a lot of refactoring. For a general use case, this is (in my opinion) the only acceptable solution.\r\n\r\nDepending on your use case, you may choose any of those solutions. Be aware of the drawbacks.","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>You have different solutions and false solutions.</p>\n\n<p><strong>Using trigger or any database level trick</strong></p>\n\n<p>This will create inconsistency between the objects in the ORM and their serialized form in the DB. If you use second level caching: it can leads to lots of troubles. In my opinion this is not a real solution for a general use case.</p>\n\n<p><strong>Using pre-insert, pre-update hooks</strong></p>\n\n<p>You will silently modify the user data just before persisting it. So your code may behave differently depending on the fact that the object is already persisted or not. It may cause trouble too. Additionally, you must be careful with the order of hooks invocation: be sure that your \"field-truncator-hook\" is the very first one called by the persistence provider.</p>\n\n<p><strong>Using aop to intercept call to setters</strong></p>\n\n<p>This solution will more or less silently modify user/automatic input, but your objects won't be modified after you use them to do some business logic. So this is more acceptable than the 2 previous solutions, but the setters won't follow the contract of usual setters. Additionally, if you use field injection: it will bypass the aspect (depending on your configuration, jpa provider may use field injection. Most of the time: Spring use setters. I guess some other frameworks may use field injection, so even if you don't use it explicitelly be aware of the underlying implementation of frameworks you are using).</p>\n\n<p><strong>Using aop to intercept field modification</strong></p>\n\n<p>Similar to the previous solution except that field injection will also be intercepted by the aspect. (note that I never wrote an aspect doing this kind of things, but I think it's feasible)</p>\n\n<p><strong>Adding a controller layer to check field length before calling the setter</strong></p>\n\n<p>Probably the best solution in terms of data integrity. But it may requires a lot of refactoring. For a general use case, this is (in my opinion) the only acceptable solution.</p>\n\n<p>Depending on your use case, you may choose any of those solutions. Be aware of the drawbacks.</p>\n"},{"tags":[],"owner":{"account_id":3418297,"reputation":41,"user_id":2866596,"display_name":"P. C&#233;dric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518569641,"creation_date":1518569641,"answer_id":48778075,"question_id":7646572,"body_markdown":"Another option is to declare a constant and reference it everywhere you need that length starting with the @Column annotation itself.\r\n\r\nThis constant can be then forwarded to a truncate function or a validation function that throw a preventive exception if the passed string is too long.\r\nThis constant can also be re-used on some other layers such as a UI.\r\n\r\nFor example:\r\n\r\n    @Entity\r\n    public class MyEntity {\r\n\t    public static final int NAME_LENGTH=32;\r\n\r\n\t    private Long id;\r\n        private String name;\r\n\r\n        @Id @GeneratedValue\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n        protected void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n\r\n        @Column(length=NAME_LENGTH)\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = JpaUtil.truncate(name, NAME_LENGTH);\r\n        }\r\n    }\r\n\r\n    public class JpaUtil {\r\n        public static String truncate(String value, int length) {\r\n            return value != null &amp;&amp; value.length() &gt; length ? value.substring(0, length) : value;\r\n        }\r\n    }\r\n","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>Another option is to declare a constant and reference it everywhere you need that length starting with the @Column annotation itself.</p>\n\n<p>This constant can be then forwarded to a truncate function or a validation function that throw a preventive exception if the passed string is too long.\nThis constant can also be re-used on some other layers such as a UI.</p>\n\n<p>For example:</p>\n\n<pre><code>@Entity\npublic class MyEntity {\n    public static final int NAME_LENGTH=32;\n\n    private Long id;\n    private String name;\n\n    @Id @GeneratedValue\n    public Long getId() {\n        return id;\n    }\n    protected void setId(Long id) {\n        this.id = id;\n    }\n\n    @Column(length=NAME_LENGTH)\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = JpaUtil.truncate(name, NAME_LENGTH);\n    }\n}\n\npublic class JpaUtil {\n    public static String truncate(String value, int length) {\n        return value != null &amp;&amp; value.length() &gt; length ? value.substring(0, length) : value;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":900361,"reputation":801,"user_id":936670,"display_name":"Aleksei Egorov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1524089127,"creation_date":1524088436,"answer_id":49909584,"question_id":7646572,"body_markdown":"There was already [answer mentioned Converters][1], but I want to add more details. My answer also assumes Converters from JPA, not EclipseLink specific.\r\n\r\nAt first create this class - special type converter which responsibility will be to truncate value at the persistence moment:\r\n\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Convert;\r\n    \r\n    @Convert\r\n    public class TruncatedStringConverter implements AttributeConverter&lt;String, String&gt; {\r\n      private static final int LIMIT = 999;\r\n    \r\n      @Override\r\n      public String convertToDatabaseColumn(String attribute) {\r\n        if (attribute == null) {\r\n          return null;\r\n        } else if (attribute.length() &gt; LIMIT) {\r\n          return attribute.substring(0, LIMIT);\r\n        } else {\r\n          return attribute;\r\n        }\r\n      }\r\n    \r\n      @Override\r\n      public String convertToEntityAttribute(String dbData) {\r\n        return dbData;\r\n      }\r\n    }\r\n\r\nThen you can use it in your entities like this:\r\n\r\n    @Entity(name = &quot;PersonTable&quot;)\r\n    public class MyEntity {\r\n    &#160;&#160;&#160;&#160;\r\n        @Convert(converter = TruncatedStringConverter.class)\r\n    &#160;&#160;&#160;&#160;private String veryLongValueThatNeedToBeTruncated;\r\n    &#160;\r\n    &#160;&#160;&#160;&#160;//...\r\n    }\r\n\r\nRelated article about JPA Converters: http://www.baeldung.com/jpa-attribute-converters\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15017201/936670","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>There was already <a href=\"https://stackoverflow.com/a/15017201/936670\">answer mentioned Converters</a>, but I want to add more details. My answer also assumes Converters from JPA, not EclipseLink specific.</p>\n\n<p>At first create this class - special type converter which responsibility will be to truncate value at the persistence moment:</p>\n\n<pre><code>import javax.persistence.AttributeConverter;\nimport javax.persistence.Convert;\n\n@Convert\npublic class TruncatedStringConverter implements AttributeConverter&lt;String, String&gt; {\n  private static final int LIMIT = 999;\n\n  @Override\n  public String convertToDatabaseColumn(String attribute) {\n    if (attribute == null) {\n      return null;\n    } else if (attribute.length() &gt; LIMIT) {\n      return attribute.substring(0, LIMIT);\n    } else {\n      return attribute;\n    }\n  }\n\n  @Override\n  public String convertToEntityAttribute(String dbData) {\n    return dbData;\n  }\n}\n</code></pre>\n\n<p>Then you can use it in your entities like this:</p>\n\n<pre><code>@Entity(name = \"PersonTable\")\npublic class MyEntity {\n\n    @Convert(converter = TruncatedStringConverter.class)\nprivate String veryLongValueThatNeedToBeTruncated;\n\n//...\n}\n</code></pre>\n\n<p>Related article about JPA Converters: <a href=\"http://www.baeldung.com/jpa-attribute-converters\" rel=\"noreferrer\">http://www.baeldung.com/jpa-attribute-converters</a></p>\n"},{"tags":[],"owner":{"account_id":25399504,"reputation":11,"user_id":19209246,"display_name":"Ichigo.NV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653633257,"creation_date":1653591916,"answer_id":72396808,"question_id":7646572,"body_markdown":"A simple solution that works for me is to modify the set method of the attributes you want to truncate. For your case:\r\n\r\n    public void setModel(String model) {\r\n        model= model!= null &amp;&amp; model.length() &gt; 256? girObsTxt.substring(0, 255) : model;\r\n        this.model= model;\r\n    }","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>A simple solution that works for me is to modify the set method of the attributes you want to truncate. For your case:</p>\n<pre><code>public void setModel(String model) {\n    model= model!= null &amp;&amp; model.length() &gt; 256? girObsTxt.substring(0, 255) : model;\n    this.model= model;\n}\n</code></pre>\n"}],"owner":{"account_id":11040,"reputation":6760,"user_id":21132,"accept_rate":89,"display_name":"Fabien"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37013,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"answer_count":13,"score":38,"last_activity_date":1653633257,"creation_date":1317724539,"question_id":7646572,"body_markdown":"I have  a web app, using EclipseLink and MySQL for storing data.\r\nSome of these data are strings, ie varchars in the DB.\r\nIn the code of entities, the strings have attributes like this:\r\n\r\n    @Column(name = &quot;MODEL&quot;, nullable = true, length = 256)\r\n    private String model;\r\n\r\nThe database is not created by eclipseLink from the code, but the length matches the varchar length in the DB.\r\nWhen the length of such a string data is greater than the length attribute, an exception is raised during the call to javax.persistence.EntityTransaction.commit():\r\n\r\n    javax.persistence.RollbackException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.1.0.v20100614-r7608): org.eclipse.persistence.exceptions.DatabaseException\r\n    Internal Exception: com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column &#39;MODEL&#39; at row 1\r\n\r\nThen the transaction is rolled back.\r\nWhile I understand that it is the default behaviour, this is not the one I want.\r\nI would like the data to be silently truncated, and the transaction to be committed.\r\n\r\nCan I do this without adding a call to substring to each and every set method of string data for the concerned entities?\r\n","title":"How to silently truncate strings while storing them when they are longer than the column length definition?","body":"<p>I have  a web app, using EclipseLink and MySQL for storing data.\nSome of these data are strings, ie varchars in the DB.\nIn the code of entities, the strings have attributes like this:</p>\n\n<pre><code>@Column(name = \"MODEL\", nullable = true, length = 256)\nprivate String model;\n</code></pre>\n\n<p>The database is not created by eclipseLink from the code, but the length matches the varchar length in the DB.\nWhen the length of such a string data is greater than the length attribute, an exception is raised during the call to javax.persistence.EntityTransaction.commit():</p>\n\n<pre><code>javax.persistence.RollbackException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.1.0.v20100614-r7608): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'MODEL' at row 1\n</code></pre>\n\n<p>Then the transaction is rolled back.\nWhile I understand that it is the default behaviour, this is not the one I want.\nI would like the data to be silently truncated, and the transaction to be committed.</p>\n\n<p>Can I do this without adding a call to substring to each and every set method of string data for the concerned entities?</p>\n"},{"tags":["java","overloading"],"comments":[{"owner":{"account_id":2078676,"reputation":2468,"user_id":1851302,"accept_rate":62,"display_name":"KNU"},"score":1,"creation_date":1416997833,"post_id":2439782,"comment_id":42788973,"body_markdown":"possible duplicate of [Function overloading by return type?](http://stackoverflow.com/questions/442026/function-overloading-by-return-type)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/442026/function-overloading-by-return-type\">Function overloading by return type?</a>"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":2,"creation_date":1474353681,"post_id":2439782,"comment_id":66483967,"body_markdown":"KNU, the other answer differs in that it asks the question in general, non-language specific terms. Also interesting is that other question&#39;s accepted answer goes further by specifying that the Java JVM does allow it to be done with manipulation of internals.","body":"KNU, the other answer differs in that it asks the question in general, non-language specific terms. Also interesting is that other question&#39;s accepted answer goes further by specifying that the Java JVM does allow it to be done with manipulation of internals."}],"answers":[{"tags":[],"owner":{"account_id":83491,"reputation":45831,"user_id":234053,"display_name":"Alexander Gessler"},"down_vote_count":2,"up_vote_count":187,"is_accepted":true,"score":185,"last_activity_date":1268509909,"creation_date":1268509909,"answer_id":2439788,"question_id":2439782,"body_markdown":"You can&#39;t do it in Java, and you can&#39;t do it in C++. The rationale is that the return value alone is not sufficient for the compiler to figure out which function to call:\r\n\r\n    public int foo() {...}\r\n    public float foo() {..}\r\n\r\n    ...\r\n    foo(); // which one?\r\n\r\n\r\n\r\n","title":"Overload with different return type in Java?","body":"<p>You can't do it in Java, and you can't do it in C++. The rationale is that the return value alone is not sufficient for the compiler to figure out which function to call:</p>\n\n<pre><code>public int foo() {...}\npublic float foo() {..}\n\n...\nfoo(); // which one?\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1190,"reputation":492175,"user_id":1583,"accept_rate":100,"display_name":"Oded"},"down_vote_count":3,"up_vote_count":58,"is_accepted":false,"score":55,"last_activity_date":1268510003,"creation_date":1268510003,"answer_id":2439798,"question_id":2439782,"body_markdown":"The reason is that overloads in Java are only allowed for methods with different _signatures_.\r\n\r\nThe return type is not part of the method signature, hence cannot be used to distinguish overloads.\r\n\r\nSee [Defining Methods][1] from the Java tutorials.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/java/javaOO/methods.html","title":"Overload with different return type in Java?","body":"<p>The reason is that overloads in Java are only allowed for methods with different <em>signatures</em>.</p>\n\n<p>The return type is not part of the method signature, hence cannot be used to distinguish overloads.</p>\n\n<p>See <a href=\"http://java.sun.com/docs/books/tutorial/java/javaOO/methods.html\" rel=\"noreferrer\">Defining Methods</a> from the Java tutorials.</p>\n"},{"tags":[],"owner":{"account_id":138148,"reputation":5659,"user_id":342882,"accept_rate":34,"display_name":"Daniil Iaitskov"},"down_vote_count":5,"up_vote_count":28,"is_accepted":false,"score":23,"last_activity_date":1358614453,"creation_date":1358614453,"answer_id":14416570,"question_id":2439782,"body_markdown":"Before Java 5.0, when you override a method, both parameters and return type must match exactly. In Java 5.0, it introduces a new facility called covariant return type. You can override a method with the same signature but returns a subclass of the object returned. In another words, a method in a subclass can return an object whose type is a subclass of the type returned by the method with the same signature in the superclass.","title":"Overload with different return type in Java?","body":"<p>Before Java 5.0, when you override a method, both parameters and return type must match exactly. In Java 5.0, it introduces a new facility called covariant return type. You can override a method with the same signature but returns a subclass of the object returned. In another words, a method in a subclass can return an object whose type is a subclass of the type returned by the method with the same signature in the superclass.</p>\n"},{"tags":[],"owner":{"account_id":3022348,"reputation":51,"user_id":2563065,"accept_rate":57,"display_name":"Ganesh Kumar Palaniappan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374561496,"creation_date":1374561496,"answer_id":17803080,"question_id":2439782,"body_markdown":"The compiler does not consider return type when differentiating methods, so you cannot declare two methods with the same signature even if they have a different return type.","title":"Overload with different return type in Java?","body":"<p>The compiler does not consider return type when differentiating methods, so you cannot declare two methods with the same signature even if they have a different return type.</p>\n"},{"tags":[],"owner":{"account_id":8840190,"reputation":19,"user_id":6602890,"display_name":"Vinayak"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1468855655,"creation_date":1468834766,"answer_id":38433361,"question_id":2439782,"body_markdown":"Return type does not matter while overloading a method. We just need to ensure there is no ambiguity!\r\n\r\nThe only way Java can know which method to call is by differentiating the types of the argument list. If the compiler allowed two methods with the same name and same argument types, there would be no way to determine which one it should call.","title":"Overload with different return type in Java?","body":"<p>Return type does not matter while overloading a method. We just need to ensure there is no ambiguity!</p>\n\n<p>The only way Java can know which method to call is by differentiating the types of the argument list. If the compiler allowed two methods with the same name and same argument types, there would be no way to determine which one it should call.</p>\n"},{"tags":[],"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1653016884,"creation_date":1476516961,"answer_id":40056404,"question_id":2439782,"body_markdown":"`Overloaded` methods in java may have different return types given that the argument is also different.\r\n\r\nCheck out the sample code.\r\n\r\n    public class B {\r\n    \t\r\n        // Method to be overloaded\r\n        public String greet() {\r\n    \t\treturn &quot;Hello&quot;;\r\n    \t}\r\n\r\n        //This will work\r\n        public StringBuilder greet(String name) {\r\n    \t\treturn new StringBuilder(&quot;Hello &quot; + name);\r\n    \t}\r\n\r\n        //This will not work\r\n        //Error: Duplicate method greet() in type B\r\n        public StringBuilder greet() {\r\n            return new StringBuilder(&quot;Hello Tarzan&quot;);\r\n        }\r\n      \t\r\n    }","title":"Overload with different return type in Java?","body":"<p><code>Overloaded</code> methods in java may have different return types given that the argument is also different.</p>\n<p>Check out the sample code.</p>\n<pre><code>public class B {\n    \n    // Method to be overloaded\n    public String greet() {\n        return &quot;Hello&quot;;\n    }\n\n    //This will work\n    public StringBuilder greet(String name) {\n        return new StringBuilder(&quot;Hello &quot; + name);\n    }\n\n    //This will not work\n    //Error: Duplicate method greet() in type B\n    public StringBuilder greet() {\n        return new StringBuilder(&quot;Hello Tarzan&quot;);\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10345408,"reputation":1,"user_id":7630526,"display_name":"MAYANK AMRIT"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1488208093,"creation_date":1488208093,"answer_id":42489095,"question_id":2439782,"body_markdown":"no not really possible that way you can only overload by no of arguments or data type of the arguments \r\n\r\n","title":"Overload with different return type in Java?","body":"<p>no not really possible that way you can only overload by no of arguments or data type of the arguments </p>\n"},{"tags":[],"owner":{"account_id":3917255,"reputation":693,"user_id":3240787,"display_name":"Bhanu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500277554,"creation_date":1500277554,"answer_id":45138610,"question_id":2439782,"body_markdown":"The compiler does not consider return type when differentiating methods, so you cannot declare two methods with the same signature even if they have a different return type.\r\n\r\nIf you are aware of function execution then you will be aware that when we call a function the definition part executes and at last we require the return statement, hence we can say return comes after the function&#39;s whole defintion, thats why if there are two or more functions with same name and with same type and no. of arguments then at the time of calling how compiler will know about which one to be called, because function name and parameters are the same. At the time of calling firstly all the focus will be on arguments and function name and after the completion of function definition at last we deal with return statement.\r\n\r\nCompile Time Error is better than Run Time Error. So, java compiler renders compiler time error if you declare the same method having same parameters.","title":"Overload with different return type in Java?","body":"<p>The compiler does not consider return type when differentiating methods, so you cannot declare two methods with the same signature even if they have a different return type.</p>\n\n<p>If you are aware of function execution then you will be aware that when we call a function the definition part executes and at last we require the return statement, hence we can say return comes after the function's whole defintion, thats why if there are two or more functions with same name and with same type and no. of arguments then at the time of calling how compiler will know about which one to be called, because function name and parameters are the same. At the time of calling firstly all the focus will be on arguments and function name and after the completion of function definition at last we deal with return statement.</p>\n\n<p>Compile Time Error is better than Run Time Error. So, java compiler renders compiler time error if you declare the same method having same parameters.</p>\n"},{"tags":[],"owner":{"account_id":15305578,"reputation":2692,"user_id":11042460,"display_name":"Java wanna bee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600863927,"creation_date":1600863927,"answer_id":64027929,"question_id":2439782,"body_markdown":"The overloaded method is a completely different method from any other method of the same name. Overloading is not much more than name reuse.","title":"Overload with different return type in Java?","body":"<p>The overloaded method is a completely different method from any other method of the same name. Overloading is not much more than name reuse.</p>\n"},{"tags":[],"owner":{"account_id":14276174,"reputation":33,"user_id":10312214,"display_name":""},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653633102,"creation_date":1653633102,"answer_id":72401345,"question_id":2439782,"body_markdown":"   ```\r\n public int division(int a, int b){\r\n      int result = a/b;\r\n      return result;\r\n   }\r\n   public double division (float a, float b){\r\n      double result = a/b;\r\n      return result;\r\n   }\r\n```\r\n\r\ni am pretty sure that in java 8\r\n\r\nit is ok\r\n\r\n","title":"Overload with different return type in Java?","body":"<pre><code>public int division(int a, int b){\n   int result = a/b;\n   return result;\n}\npublic double division (float a, float b){\n   double result = a/b;\n   return result;\n}\n</code></pre>\n<p>i am pretty sure that in java 8</p>\n<p>it is ok</p>\n"}],"owner":{"account_id":54074,"reputation":20649,"user_id":161746,"accept_rate":91,"display_name":"nunos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112709,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":2439788,"answer_count":10,"score":137,"last_activity_date":1653633102,"creation_date":1268509793,"question_id":2439782,"body_markdown":"Why is it not possible to overload a function just by changing the return type?  Will that change in a future version of Java?\r\n\r\nBy the way, just for reference, is this possible in C++?","title":"Overload with different return type in Java?","body":"<p>Why is it not possible to overload a function just by changing the return type?  Will that change in a future version of Java?</p>\n\n<p>By the way, just for reference, is this possible in C++?</p>\n"},{"tags":["java","excel","postgresql","spring-boot","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1653640650,"post_id":72401307,"comment_id":127904659,"body_markdown":"Please go through the [Help center](https://stackoverflow.com/help). Especially read [What topics can I ask about here?](https://stackoverflow.com/help/on-topic) and [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask).","body":"Please go through the <a href=\"https://stackoverflow.com/help\">Help center</a>. Especially read <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a> and <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1653640654,"post_id":72401307,"comment_id":127904662,"body_markdown":"Problems with your current question are: 1. You say, you can solve what you need using &quot;a small simple excel with no merged cells&quot;. But you do not tell us where exactly you are stuck when using &quot;a huge excel with merged cells&quot;. (Btw.: 2 MB is not that huge.) 2. You say, you need &quot;not all, but selected field values&quot;. But you do not tell us what &quot;selected field values&quot; means. Do you mean only the cells which were selected before last saving?","body":"Problems with your current question are: 1. You say, you can solve what you need using &quot;a small simple excel with no merged cells&quot;. But you do not tell us where exactly you are stuck when using &quot;a huge excel with merged cells&quot;. (Btw.: 2 MB is not that huge.) 2. You say, you need &quot;not all, but selected field values&quot;. But you do not tell us what &quot;selected field values&quot; means. Do you mean only the cells which were selected before last saving?"}],"owner":{"account_id":25402793,"reputation":1,"user_id":19211969,"display_name":"user19211969"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653633093,"creation_date":1653632857,"question_id":72401307,"body_markdown":"\r\nI have got an excel which I need to upload to an API using java, spring boot. The excel has many merged cells in it. It is a huge file of more than 2 MB. While uploading, I need to save some (not all, but selected field values) to PostgreSQL DB. Using apache poi and a small simple excel with no merged cells, I can upload the entire content to a table. But what I need is to save only few values from a huge excel with merged cells to DB while it gets uploaded to the api server. How to do that? ","title":"How to upload a big excel with merged cells to springboot api and save only a selected data from it to database","body":"<p>I have got an excel which I need to upload to an API using java, spring boot. The excel has many merged cells in it. It is a huge file of more than 2 MB. While uploading, I need to save some (not all, but selected field values) to PostgreSQL DB. Using apache poi and a small simple excel with no merged cells, I can upload the entire content to a table. But what I need is to save only few values from a huge excel with merged cells to DB while it gets uploaded to the api server. How to do that?</p>\n"},{"tags":["java","apache-poi","docx"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653632801,"creation_date":1653632175,"answer_id":72401198,"question_id":72399443,"body_markdown":"The `setColor` is a method of `XWPFRun`. So it only affects the text in that `XWPFRun`.\r\n\r\nThe method `XWPFParagraph paragraph ...; ... paragraph.getCTP().addNewFldSimple()` ist the simplest method to add a field into a Office Open XML Word document. But as this adds a field into the paragraph outside all text runs, no text formatting is possible. This is because text formatting in Word is only possible for text runs.\r\n\r\nIf special text formatting is needed, then the field would must be within a text run. But there is no simple field possible within a text run. To store fields in text runs, there must be a special text run having field char type BEGIN, followed by a special text run having the field content as in-string text, followed by a special text run having field char type END.\r\n\r\nFollowing code shows that. All used `XWPFRun`s provide text fromatting. \r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.apache.poi.xwpf.model.XWPFHeaderFooterPolicy;\r\n    import org.apache.poi.wp.usermodel.HeaderFooterType;\r\n    \r\n    public class CreateWordHeaderFooter3 {\r\n    \t\r\n     static XWPFRun createRunFldCharTypeBegin(XWPFParagraph paragraph) {\r\n      XWPFRun run = paragraph.createRun();\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR cTR = run.getCTR();\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar cTFldChar = org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar.Factory.newInstance();\r\n      cTFldChar.setFldCharType(org.openxmlformats.schemas.wordprocessingml.x2006.main.STFldCharType.BEGIN);\r\n      cTR.setFldCharArray(new org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar[]{cTFldChar});\r\n      return run;\r\n     }\r\n    \r\n     static XWPFRun createRunInstrText(XWPFParagraph paragraph, String instrText) {\r\n      XWPFRun run = paragraph.createRun();\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR cTR = run.getCTR();\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTText cTText = org.openxmlformats.schemas.wordprocessingml.x2006.main.CTText.Factory.newInstance();\r\n      cTText.setStringValue(instrText);\r\n      cTR.setInstrTextArray(new org.openxmlformats.schemas.wordprocessingml.x2006.main.CTText[]{cTText});\r\n      return run;\r\n     }\r\n     \r\n     static XWPFRun createRunFldCharTypeEnd(XWPFParagraph paragraph) {\r\n      XWPFRun run = paragraph.createRun();\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR cTR = run.getCTR();\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar cTFldChar = org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar.Factory.newInstance();\r\n      cTFldChar.setFldCharType(org.openxmlformats.schemas.wordprocessingml.x2006.main.STFldCharType.END);\r\n      cTR.setFldCharArray(new org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar[]{cTFldChar});\r\n      return run;\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument doc = new XWPFDocument();\r\n      XWPFParagraph paragraph;\r\n      XWPFRun run;\r\n      \r\n      // the body content\r\n      paragraph = doc.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;The Body:&quot;);\r\n    \r\n      paragraph = doc.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;Lorem ipsum.... page 1&quot;);\r\n    \r\n      paragraph = doc.createParagraph();\r\n      run=paragraph.createRun();\r\n      run.addBreak(BreakType.PAGE); \r\n      run.setText(&quot;Lorem ipsum.... page 2&quot;);\r\n    \r\n      paragraph = doc.createParagraph();\r\n      run=paragraph.createRun();\r\n      run.addBreak(BreakType.PAGE); \r\n      run.setText(&quot;Lorem ipsum.... page 3&quot;);\r\n    \r\n      // create header-footer\r\n      // create header start\r\n      XWPFHeader header = doc.createHeader(HeaderFooterType.DEFAULT);\r\n    \r\n      paragraph = header.getParagraphArray(0);\r\n      if (paragraph == null) paragraph = header.createParagraph();\r\n      paragraph.setAlignment(ParagraphAlignment.LEFT);\r\n    \r\n      run = paragraph.createRun();  \r\n      run.setText(&quot;The Header:&quot;);\r\n      // create header end\r\n    \r\n      // create footer start\r\n      XWPFFooter footer = doc.createFooter(HeaderFooterType.DEFAULT);\r\n    \r\n      paragraph = footer.getParagraphArray(0);\r\n      if (paragraph == null) paragraph = footer.createParagraph();\r\n      paragraph.setAlignment(ParagraphAlignment.CENTER);\r\n      \r\n      run = paragraph.createRun();  \r\n      run.setText(&quot;Page &quot;);\r\n      \r\n      //paragraph.getCTP().addNewFldSimple().setInstr(&quot;PAGE \\\\* MERGEFORMAT&quot;);\r\n      run = createRunFldCharTypeBegin(paragraph);\r\n      run.setFontSize(16);\r\n      run.setColor(&quot;FF0000&quot;);\r\n      run = createRunInstrText(paragraph, &quot;PAGE \\\\* MERGEFORMAT&quot;);\r\n      run = createRunFldCharTypeEnd(paragraph);\r\n      \r\n      run = paragraph.createRun();  \r\n      run.setText(&quot; of &quot;);\r\n      \r\n      //paragraph.getCTP().addNewFldSimple().setInstr(&quot;NUMPAGES \\\\* MERGEFORMAT&quot;);\r\n      run = createRunFldCharTypeBegin(paragraph);\r\n      run.setFontSize(16);\r\n      run.setColor(&quot;0000FF&quot;);\r\n      run = createRunInstrText(paragraph, &quot;NUMPAGES \\\\* MERGEFORMAT&quot;);\r\n      run = createRunFldCharTypeEnd(paragraph);\r\n      \r\n      // create footer end\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;CreateWordHeaderFooter.docx&quot;);\r\n      doc.write(out);\r\n      out.close();\r\n      doc.close();\r\n    \r\n     }\r\n    }\r\n\r\n","title":"Apache Poi - XWPF: How to change font color, size, style of the footer Page Number in docx","body":"<p>The <code>setColor</code> is a method of <code>XWPFRun</code>. So it only affects the text in that <code>XWPFRun</code>.</p>\n<p>The method <code>XWPFParagraph paragraph ...; ... paragraph.getCTP().addNewFldSimple()</code> ist the simplest method to add a field into a Office Open XML Word document. But as this adds a field into the paragraph outside all text runs, no text formatting is possible. This is because text formatting in Word is only possible for text runs.</p>\n<p>If special text formatting is needed, then the field would must be within a text run. But there is no simple field possible within a text run. To store fields in text runs, there must be a special text run having field char type BEGIN, followed by a special text run having the field content as in-string text, followed by a special text run having field char type END.</p>\n<p>Following code shows that. All used <code>XWPFRun</code>s provide text fromatting.</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.apache.poi.xwpf.model.XWPFHeaderFooterPolicy;\nimport org.apache.poi.wp.usermodel.HeaderFooterType;\n\npublic class CreateWordHeaderFooter3 {\n    \n static XWPFRun createRunFldCharTypeBegin(XWPFParagraph paragraph) {\n  XWPFRun run = paragraph.createRun();\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR cTR = run.getCTR();\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar cTFldChar = org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar.Factory.newInstance();\n  cTFldChar.setFldCharType(org.openxmlformats.schemas.wordprocessingml.x2006.main.STFldCharType.BEGIN);\n  cTR.setFldCharArray(new org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar[]{cTFldChar});\n  return run;\n }\n\n static XWPFRun createRunInstrText(XWPFParagraph paragraph, String instrText) {\n  XWPFRun run = paragraph.createRun();\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR cTR = run.getCTR();\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTText cTText = org.openxmlformats.schemas.wordprocessingml.x2006.main.CTText.Factory.newInstance();\n  cTText.setStringValue(instrText);\n  cTR.setInstrTextArray(new org.openxmlformats.schemas.wordprocessingml.x2006.main.CTText[]{cTText});\n  return run;\n }\n \n static XWPFRun createRunFldCharTypeEnd(XWPFParagraph paragraph) {\n  XWPFRun run = paragraph.createRun();\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR cTR = run.getCTR();\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar cTFldChar = org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar.Factory.newInstance();\n  cTFldChar.setFldCharType(org.openxmlformats.schemas.wordprocessingml.x2006.main.STFldCharType.END);\n  cTR.setFldCharArray(new org.openxmlformats.schemas.wordprocessingml.x2006.main.CTFldChar[]{cTFldChar});\n  return run;\n }\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument doc = new XWPFDocument();\n  XWPFParagraph paragraph;\n  XWPFRun run;\n  \n  // the body content\n  paragraph = doc.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;The Body:&quot;);\n\n  paragraph = doc.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;Lorem ipsum.... page 1&quot;);\n\n  paragraph = doc.createParagraph();\n  run=paragraph.createRun();\n  run.addBreak(BreakType.PAGE); \n  run.setText(&quot;Lorem ipsum.... page 2&quot;);\n\n  paragraph = doc.createParagraph();\n  run=paragraph.createRun();\n  run.addBreak(BreakType.PAGE); \n  run.setText(&quot;Lorem ipsum.... page 3&quot;);\n\n  // create header-footer\n  // create header start\n  XWPFHeader header = doc.createHeader(HeaderFooterType.DEFAULT);\n\n  paragraph = header.getParagraphArray(0);\n  if (paragraph == null) paragraph = header.createParagraph();\n  paragraph.setAlignment(ParagraphAlignment.LEFT);\n\n  run = paragraph.createRun();  \n  run.setText(&quot;The Header:&quot;);\n  // create header end\n\n  // create footer start\n  XWPFFooter footer = doc.createFooter(HeaderFooterType.DEFAULT);\n\n  paragraph = footer.getParagraphArray(0);\n  if (paragraph == null) paragraph = footer.createParagraph();\n  paragraph.setAlignment(ParagraphAlignment.CENTER);\n  \n  run = paragraph.createRun();  \n  run.setText(&quot;Page &quot;);\n  \n  //paragraph.getCTP().addNewFldSimple().setInstr(&quot;PAGE \\\\* MERGEFORMAT&quot;);\n  run = createRunFldCharTypeBegin(paragraph);\n  run.setFontSize(16);\n  run.setColor(&quot;FF0000&quot;);\n  run = createRunInstrText(paragraph, &quot;PAGE \\\\* MERGEFORMAT&quot;);\n  run = createRunFldCharTypeEnd(paragraph);\n  \n  run = paragraph.createRun();  \n  run.setText(&quot; of &quot;);\n  \n  //paragraph.getCTP().addNewFldSimple().setInstr(&quot;NUMPAGES \\\\* MERGEFORMAT&quot;);\n  run = createRunFldCharTypeBegin(paragraph);\n  run.setFontSize(16);\n  run.setColor(&quot;0000FF&quot;);\n  run = createRunInstrText(paragraph, &quot;NUMPAGES \\\\* MERGEFORMAT&quot;);\n  run = createRunFldCharTypeEnd(paragraph);\n  \n  // create footer end\n\n  FileOutputStream out = new FileOutputStream(&quot;CreateWordHeaderFooter.docx&quot;);\n  doc.write(out);\n  out.close();\n  doc.close();\n\n }\n}\n</code></pre>\n"}],"owner":{"account_id":25384097,"reputation":25,"user_id":19196103,"display_name":"fidilen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1206,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72401198,"answer_count":1,"score":2,"last_activity_date":1653632801,"creation_date":1653613317,"question_id":72399443,"body_markdown":"I have tried the code below, but it seems that `setColor()` only updates the text in the paragraph -- it does not affect the color of `CTSimpleField` Page Number.\r\n\r\n```\r\nCTSectPr sectPr = getSectionProperty(0);\r\nCTHdrFtrRef footerRef = sectPr.addNewFooterReference();\r\nXWPFFooter footer = headerFooterPolicy.createFooter(XWPFHeaderFooterPolicy.DEFAULT);\r\nfooterRef.setId(footer.getPackageRelationship().getId());\r\n\r\nXWPFParagraph paragraph = footer.createParagraph();\r\n\r\nCTSimpleField simpleField =  paragraph.getCTP().addNewFldSimple().setInstr(&quot;PAGE  \\\\* Arabic  \\\\* MERGEFORMAT&quot;);\r\n\r\nXWPFRun run = paragraph.createRun();\r\nrun.setText(&quot;Page &quot;);\r\nrun.setColor(&quot;ffffff&quot;);\r\n```\r\nIs there a way to update the `CTSimpleField` font color, style, and size? or is there a different way to generate Page Numbers where we can update their font color?","title":"Apache Poi - XWPF: How to change font color, size, style of the footer Page Number in docx","body":"<p>I have tried the code below, but it seems that <code>setColor()</code> only updates the text in the paragraph -- it does not affect the color of <code>CTSimpleField</code> Page Number.</p>\n<pre><code>CTSectPr sectPr = getSectionProperty(0);\nCTHdrFtrRef footerRef = sectPr.addNewFooterReference();\nXWPFFooter footer = headerFooterPolicy.createFooter(XWPFHeaderFooterPolicy.DEFAULT);\nfooterRef.setId(footer.getPackageRelationship().getId());\n\nXWPFParagraph paragraph = footer.createParagraph();\n\nCTSimpleField simpleField =  paragraph.getCTP().addNewFldSimple().setInstr(&quot;PAGE  \\\\* Arabic  \\\\* MERGEFORMAT&quot;);\n\nXWPFRun run = paragraph.createRun();\nrun.setText(&quot;Page &quot;);\nrun.setColor(&quot;ffffff&quot;);\n</code></pre>\n<p>Is there a way to update the <code>CTSimpleField</code> font color, style, and size? or is there a different way to generate Page Numbers where we can update their font color?</p>\n"},{"tags":["java","algorithm","optimization","biginteger","lcm"],"comments":[{"owner":{"account_id":1576271,"reputation":13026,"user_id":1462604,"accept_rate":80,"display_name":"Wug"},"score":0,"creation_date":1345066100,"post_id":11977582,"comment_id":15967856,"body_markdown":"It&#39;s notable that I can probably use prime numbers to speed this up somehow.  It&#39;s also notable that I can use this range of numbers to calculate prime numbers: if gcd(LCM, n) is prime and n is less than the square of the top of the range, n must be prime).  This will let me check primality of numbers less than max^2 in approximately linear time (to the size of LCM)","body":"It&#39;s notable that I can probably use prime numbers to speed this up somehow.  It&#39;s also notable that I can use this range of numbers to calculate prime numbers: if gcd(LCM, n) is prime and n is less than the square of the top of the range, n must be prime).  This will let me check primality of numbers less than max^2 in approximately linear time (to the size of LCM)"},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1345068078,"post_id":11977582,"comment_id":15968626,"body_markdown":"For the logarithm sub-question: loga(b) = logx(b)/logx(a), where x could be any constant, so simply dividing the binary (or decimal) length of the two numbers should give you an approximation. Or is that not accurate enough?","body":"For the logarithm sub-question: loga(b) = logx(b)/logx(a), where x could be any constant, so simply dividing the binary (or decimal) length of the two numbers should give you an approximation. Or is that not accurate enough?"},{"owner":{"account_id":1576271,"reputation":13026,"user_id":1462604,"accept_rate":80,"display_name":"Wug"},"score":0,"creation_date":1345128071,"post_id":11977582,"comment_id":15987527,"body_markdown":"@biziclop I need the exact value of floor(a log b base c), where a, b, and c are presumably all bigintegers.  Though in practice, I may not run this algorithm with large enough inputs to require that c be a biginteger.","body":"@biziclop I need the exact value of floor(a log b base c), where a, b, and c are presumably all bigintegers.  Though in practice, I may not run this algorithm with large enough inputs to require that c be a biginteger."}],"answers":[{"tags":[],"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1345069072,"creation_date":1345068278,"answer_id":11978005,"question_id":11977582,"body_markdown":"This is the layout of the algorithm. I assume that you always start from 1:\r\n\r\n1. Find prime numbers in the range. You can use Eratosthenes sieve for 350000. For bigger range of number, you&#39;d need [segmented sieve](https://stackoverflow.com/questions/10249378/segmented-sieve-of-eratosthenes).\r\n\r\n2. For each prime number p, use logarithmic function to find the largest exponent e that p&lt;sup&gt;e&lt;/sup&gt; is within the range. Multiply p&lt;sup&gt;e&lt;/sup&gt; to the LCM. (The optimization details is up to your implementation)\r\n\r\nWhy is it correct?\r\n\r\n- For numbers in the form p&lt;sup&gt;e&lt;/sup&gt; where p is prime, and e &gt;= 1, due to step 2, has been include in the LCM, so p&lt;sup&gt;e&lt;/sup&gt; | LCM.\r\n- Other numbers will have the form N = p&lt;sub&gt;1&lt;/sub&gt;&lt;sup&gt;e&lt;sub&gt;1&lt;/sub&gt;&lt;/sup&gt;p&lt;sub&gt;2&lt;/sub&gt;&lt;sup&gt;e&lt;sub&gt;2&lt;/sub&gt;&lt;/sup&gt;...p&lt;sub&gt;n&lt;/sub&gt;&lt;sup&gt;e&lt;sub&gt;n&lt;/sub&gt;&lt;/sup&gt; (where p&lt;sub&gt;i&lt;/sub&gt; are pairwise distinct primes numbers and e&lt;sub&gt;i&lt;/sub&gt; &gt;= 1), which is larger or equal to p&lt;sub&gt;i&lt;/sub&gt;&lt;sup&gt;e&lt;sub&gt;i&lt;/sub&gt;&lt;/sup&gt; (for all i from 1 to n). Since p&lt;sub&gt;i&lt;/sub&gt;&lt;sup&gt;e&lt;sub&gt;i&lt;/sub&gt;&lt;/sup&gt; | LCM, due to previous argument, N | LCM.","title":"What&#39;s the most efficient algorithm to calculate the LCM of a range of numbers?","body":"<p>This is the layout of the algorithm. I assume that you always start from 1:</p>\n\n<ol>\n<li><p>Find prime numbers in the range. You can use Eratosthenes sieve for 350000. For bigger range of number, you'd need <a href=\"https://stackoverflow.com/questions/10249378/segmented-sieve-of-eratosthenes\">segmented sieve</a>.</p></li>\n<li><p>For each prime number p, use logarithmic function to find the largest exponent e that p<sup>e</sup> is within the range. Multiply p<sup>e</sup> to the LCM. (The optimization details is up to your implementation)</p></li>\n</ol>\n\n<p>Why is it correct?</p>\n\n<ul>\n<li>For numbers in the form p<sup>e</sup> where p is prime, and e >= 1, due to step 2, has been include in the LCM, so p<sup>e</sup> | LCM.</li>\n<li>Other numbers will have the form N = p<sub>1</sub><sup>e<sub>1</sub></sup>p<sub>2</sub><sup>e<sub>2</sub></sup>...p<sub>n</sub><sup>e<sub>n</sub></sup> (where p<sub>i</sub> are pairwise distinct primes numbers and e<sub>i</sub> >= 1), which is larger or equal to p<sub>i</sub><sup>e<sub>i</sub></sup> (for all i from 1 to n). Since p<sub>i</sub><sup>e<sub>i</sub></sup> | LCM, due to previous argument, N | LCM.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345072458,"creation_date":1345071807,"answer_id":11978533,"question_id":11977582,"body_markdown":"This is a generalisation of the answer of @nhahtdh\r\n\r\nFirst step, find all the primes that are less than or equal to the upper bound.\r\n\r\nThen take each prime p and write down both the lower and upper bound in a base p notation. The highest digit that is different in the two numbers is the exponent of p that you need to include in your LCM. If lower bound is 1, this is trivially the same as the other answer.\r\n\r\nNote that the complexity of this algorithm doesn&#39;t depend on the length of the range, only the magnitude of the upper bound.","title":"What&#39;s the most efficient algorithm to calculate the LCM of a range of numbers?","body":"<p>This is a generalisation of the answer of @nhahtdh</p>\n\n<p>First step, find all the primes that are less than or equal to the upper bound.</p>\n\n<p>Then take each prime p and write down both the lower and upper bound in a base p notation. The highest digit that is different in the two numbers is the exponent of p that you need to include in your LCM. If lower bound is 1, this is trivially the same as the other answer.</p>\n\n<p>Note that the complexity of this algorithm doesn't depend on the length of the range, only the magnitude of the upper bound.</p>\n"},{"tags":[],"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653632701,"creation_date":1653632701,"answer_id":72401277,"question_id":11977582,"body_markdown":"Instead of a prime generator and some explicit means to determine largest powers under thelimit*n*(350000),  \r\nTry a modified SoE:  \r\n\r\nUse &quot;allones&quot; (`~0`) or -1 forMULTIPRIME: hasmore than one distinct prime factor,  \r\n0 or 1 for CANDIDATE.  \r\nFor each natural number upto*l*=sqrt(*n*), keep in *sieve* an integer large enough to hold *l*, initialised to 0 for *primecandidate*.  \r\nSet sieve at multiples of a prime *p* to *p* if zero, else to MULTIPRIME if not equal to *p*.  \r\n\r\nThe Least Common Multiple is the product of all elements of sieve &gt; CANDIDATE and not MULTIPRIME (&gt; CANDIDATE if CANDIDATE &gt; MULTIPRIME).\r\n___\r\n(Depending on memory system and CPU, re-assigning values or avoiding it \r\n~~~\r\n    sieve[p] = sieve[p] | p == p ? p : MULTIPRIME;\r\n// or\r\n    if (sieve[p] != MULTIPRIME)\r\n        if (sieve[p] == CANDIDATE)\r\n            sieve[p] = p;\r\n        else if (sieve[p] != p)\r\n            sieve[p] = MULTIPRIME;\r\n~~~\r\nmay be slower.)","title":"What&#39;s the most efficient algorithm to calculate the LCM of a range of numbers?","body":"<p>Instead of a prime generator and some explicit means to determine largest powers under thelimit<em>n</em>(350000),<br />\nTry a modified SoE:</p>\n<p>Use &quot;allones&quot; (<code>~0</code>) or -1 forMULTIPRIME: hasmore than one distinct prime factor,<br />\n0 or 1 for CANDIDATE.<br />\nFor each natural number upto<em>l</em>=sqrt(<em>n</em>), keep in <em>sieve</em> an integer large enough to hold <em>l</em>, initialised to 0 for <em>primecandidate</em>.<br />\nSet sieve at multiples of a prime <em>p</em> to <em>p</em> if zero, else to MULTIPRIME if not equal to <em>p</em>.</p>\n<p>The Least Common Multiple is the product of all elements of sieve &gt; CANDIDATE and not MULTIPRIME (&gt; CANDIDATE if CANDIDATE &gt; MULTIPRIME).</p>\n<hr />\n<p>(Depending on memory system and CPU, re-assigning values or avoiding it</p>\n<pre><code>    sieve[p] = sieve[p] | p == p ? p : MULTIPRIME;\n// or\n    if (sieve[p] != MULTIPRIME)\n        if (sieve[p] == CANDIDATE)\n            sieve[p] = p;\n        else if (sieve[p] != p)\n            sieve[p] = MULTIPRIME;\n</code></pre>\n<p>may be slower.)</p>\n"}],"owner":{"account_id":1576271,"reputation":13026,"user_id":1462604,"accept_rate":80,"display_name":"Wug"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4229,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":11978005,"answer_count":3,"score":9,"last_activity_date":1653632701,"creation_date":1345065966,"question_id":11977582,"body_markdown":"I looked around and found other questions that had answers but none of them address the scope of this particular question., including [this question](https://stackoverflow.com/questions/185781/finding-the-lcm-of-a-range-of-numbers), and also [this one](https://stackoverflow.com/questions/8806520/how-to-get-gcd-and-lcm-of-a-range-of-numbers-efficiently).\n\nI have to compute the LCM of large ranges of numbers in an efficient way.  I didn&#39;t look too in-depth at those other questions because they don&#39;t deal with ranges of numbers that are as large as the ones this algorithm must process.\n\nThe code I&#39;ve got right now can calculate the LCM of every number between 1 and 350000 in about 90 seconds. (The resulting number is some 76000 decimal digits long).  I hope to eventually be able to scale it over ranges that are millions or maybe even billions of elements long.\n\nIt will probably be paralellized eventually.  With some algorithms this won&#39;t be hard at all, for others it will be trickier (if, for example, the algorithm uses the currently generated LCM to compute primality for other parts of its computation)\n\nHere it is:\n\n&lt;!-- language: java --&gt;\n\n    public static BigInteger getLCMOfRange(BigInteger lower, BigInteger upper)\n    {\n        BigInteger M = BigInteger.ONE;\n        BigInteger t;\n        \n        // long l = System.currentTimeMillis();\n        // System.out.println(&quot;Calculating LCM of numbers up to &quot; + upper + &quot;...&quot;);\n        for (; lower.compareTo(upper) != 1; lower = lower.add(BigInteger.ONE))\n        {\n            t = M.gcd(lower);\n            if (t.compareTo(lower) == 0)\n                continue;\n            M = M.multiply(lower).divide(t);\n        }\n        // System.out.println(&quot;Done.  Took &quot; + (System.currentTimeMillis() - l) + &quot; milliseconds.  LCM is &quot; + M.bitCount()+ &quot; bits long.&quot;);\n        return M;\n    }\n\nNote that unlike a typical for loop, this function operates over [lower, upper] instead of [lower, upper).  This behavior is intentional.\n\nA bit of supporting math is that the LCM of some set of numbers product of the set of prime factors from which any one of the numbers can be produced without requiring any outside of the pool.  If my range is [1,20], I can represent that in the following way:\n\n    1: 1         6:  3*2      11: 11       16: 2^4\n    2: 2         7:  7        12: 3*2^2    17: 17\n    3: 3         8:  2^3      13: 13       18: 3^2*2\n    4: 2^2       9:  3^2      14: 7*2      19: 19\n    5: 5         10: 5*2      15: 5*3      20: 5*2^2\n    \n    LCM{[1,20]}: 2^4*3^2*5*7*11*13*17*19 = 232792560\n\nAre there any more efficient ways to compute an LCM over such a large range?\n\nI don&#39;t care if the algorithm someone suggests is very memory-heavy, time performance is much more important (and also more expensive) than memory performance in this case.\n\nThis is not a homework question.\n\n# Question\n\nWhat is the most efficient way to calculate the LCM of a very large range of numbers?  This algorithm needs to operate on prohibitively wide ranges of numbers and must thus be carefully optimized.\n\n# Addendum 1\n\nA closely related question is: What&#39;s the most efficient way to calculate the logarithm of one BigInteger (base another BigInteger)?  The resulting value can be truncated to the nearest integer.","title":"What&#39;s the most efficient algorithm to calculate the LCM of a range of numbers?","body":"<p>I looked around and found other questions that had answers but none of them address the scope of this particular question., including <a href=\"https://stackoverflow.com/questions/185781/finding-the-lcm-of-a-range-of-numbers\">this question</a>, and also <a href=\"https://stackoverflow.com/questions/8806520/how-to-get-gcd-and-lcm-of-a-range-of-numbers-efficiently\">this one</a>.</p>\n<p>I have to compute the LCM of large ranges of numbers in an efficient way.  I didn't look too in-depth at those other questions because they don't deal with ranges of numbers that are as large as the ones this algorithm must process.</p>\n<p>The code I've got right now can calculate the LCM of every number between 1 and 350000 in about 90 seconds. (The resulting number is some 76000 decimal digits long).  I hope to eventually be able to scale it over ranges that are millions or maybe even billions of elements long.</p>\n<p>It will probably be paralellized eventually.  With some algorithms this won't be hard at all, for others it will be trickier (if, for example, the algorithm uses the currently generated LCM to compute primality for other parts of its computation)</p>\n<p>Here it is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static BigInteger getLCMOfRange(BigInteger lower, BigInteger upper)\n{\n    BigInteger M = BigInteger.ONE;\n    BigInteger t;\n    \n    // long l = System.currentTimeMillis();\n    // System.out.println(&quot;Calculating LCM of numbers up to &quot; + upper + &quot;...&quot;);\n    for (; lower.compareTo(upper) != 1; lower = lower.add(BigInteger.ONE))\n    {\n        t = M.gcd(lower);\n        if (t.compareTo(lower) == 0)\n            continue;\n        M = M.multiply(lower).divide(t);\n    }\n    // System.out.println(&quot;Done.  Took &quot; + (System.currentTimeMillis() - l) + &quot; milliseconds.  LCM is &quot; + M.bitCount()+ &quot; bits long.&quot;);\n    return M;\n}\n</code></pre>\n<p>Note that unlike a typical for loop, this function operates over [lower, upper] instead of [lower, upper).  This behavior is intentional.</p>\n<p>A bit of supporting math is that the LCM of some set of numbers product of the set of prime factors from which any one of the numbers can be produced without requiring any outside of the pool.  If my range is [1,20], I can represent that in the following way:</p>\n<pre><code>1: 1         6:  3*2      11: 11       16: 2^4\n2: 2         7:  7        12: 3*2^2    17: 17\n3: 3         8:  2^3      13: 13       18: 3^2*2\n4: 2^2       9:  3^2      14: 7*2      19: 19\n5: 5         10: 5*2      15: 5*3      20: 5*2^2\n\nLCM{[1,20]}: 2^4*3^2*5*7*11*13*17*19 = 232792560\n</code></pre>\n<p>Are there any more efficient ways to compute an LCM over such a large range?</p>\n<p>I don't care if the algorithm someone suggests is very memory-heavy, time performance is much more important (and also more expensive) than memory performance in this case.</p>\n<p>This is not a homework question.</p>\n<h1>Question</h1>\n<p>What is the most efficient way to calculate the LCM of a very large range of numbers?  This algorithm needs to operate on prohibitively wide ranges of numbers and must thus be carefully optimized.</p>\n<h1>Addendum 1</h1>\n<p>A closely related question is: What's the most efficient way to calculate the logarithm of one BigInteger (base another BigInteger)?  The resulting value can be truncated to the nearest integer.</p>\n"},{"tags":["java","c"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1653628470,"post_id":72400704,"comment_id":127901450,"body_markdown":"The answer is **no**","body":"The answer is <b>no</b>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1653628607,"post_id":72400704,"comment_id":127901463,"body_markdown":"Also, works without an error for me `5 5 4 3 2 1\n[1, 2, 3, 4, 5]`","body":"Also, works without an error for me <code>5 5 4 3 2 1 [1, 2, 3, 4, 5]</code>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1653628613,"post_id":72400704,"comment_id":127901465,"body_markdown":"C doesn&#39;t do index bounds checks. It happily accesses a nonsensical index -1 of an array even though the array has only allowed indexes 0 to some value.","body":"C doesn&#39;t do index bounds checks. It happily accesses a nonsensical index -1 of an array even though the array has only allowed indexes 0 to some value."},{"owner":{"account_id":3568716,"reputation":28786,"user_id":2979617,"display_name":"M Oehm"},"score":0,"creation_date":1653628656,"post_id":72400704,"comment_id":127901474,"body_markdown":"The difference is not in how `&amp;&amp;` works, but in how programming errors are treated. Java checks for invalid array accesses and raises an exception. C lets you stomp happily into invalid terrain and calls it &quot;undefined behaviour&quot;, something the programmer has to avoid.","body":"The difference is not in how <code>&amp;&amp;</code> works, but in how programming errors are treated. Java checks for invalid array accesses and raises an exception. C lets you stomp happily into invalid terrain and calls it &quot;undefined behaviour&quot;, something the programmer has to avoid."},{"owner":{"account_id":20736130,"reputation":11,"user_id":19211585,"display_name":"Md Asad Ali"},"score":0,"creation_date":1653629051,"post_id":72400704,"comment_id":127901550,"body_markdown":"@ThomasKl&#228;ger But how does placing the same condition before or after another condition result in error. &amp;&amp; operator should check both the conditions if the first one is true.","body":"@ThomasKl&#228;ger But how does placing the same condition before or after another condition result in error. &amp;&amp; operator should check both the conditions if the first one is true."},{"owner":{"account_id":3568716,"reputation":28786,"user_id":2979617,"display_name":"M Oehm"},"score":0,"creation_date":1653630144,"post_id":72400704,"comment_id":127901754,"body_markdown":"If you put the access first, you cannot be sure that you have a valid index. It is the other way round: You must rely on the fact that the second condition isn&#39;t checked when the first one is false. That way, you will never make an invalid access if your index is invalid. The pattern goes `(precondition_for_test &amp;&amp; actual_test)`.","body":"If you put the access first, you cannot be sure that you have a valid index. It is the other way round: You must rely on the fact that the second condition isn&#39;t checked when the first one is false. That way, you will never make an invalid access if your index is invalid. The pattern goes <code>(precondition_for_test &amp;&amp; actual_test)</code>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1653630677,"post_id":72400704,"comment_id":127901872,"body_markdown":"&quot;&amp;&amp; operator should check both the conditions if the first one is true&quot; - correct, but if j is -1 then the condition `j &gt;= 0` is false. If the complete condition is `(j &gt;= 0) &amp;&amp; (temp &lt; arr[j])` then its `false &amp;&amp; something` and that something is never evaluated. If the complete condition is `((temp &lt; arr[j]) &amp;&amp; (j &gt;= 0))` then the array access is evaluated first and trying to access an array at index -1 throws the exception.","body":"&quot;&amp;&amp; operator should check both the conditions if the first one is true&quot; - correct, but if j is -1 then the condition <code>j &gt;= 0</code> is false. If the complete condition is <code>(j &gt;= 0) &amp;&amp; (temp &lt; arr[j])</code> then its <code>false &amp;&amp; something</code> and that something is never evaluated. If the complete condition is <code>((temp &lt; arr[j]) &amp;&amp; (j &gt;= 0))</code> then the array access is evaluated first and trying to access an array at index -1 throws the exception."},{"owner":{"account_id":20736130,"reputation":11,"user_id":19211585,"display_name":"Md Asad Ali"},"score":0,"creation_date":1653632173,"post_id":72400704,"comment_id":127902168,"body_markdown":"@ThomasKl&#228;ger @M Oehm thankyou for clearing the doubt.","body":"@ThomasKl&#228;ger @M Oehm thankyou for clearing the doubt."}],"answers":[{"tags":[],"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653632453,"creation_date":1653628641,"answer_id":72400756,"question_id":72400704,"body_markdown":"No. Its called shortcircuit.\r\n\r\nThe order can affect your condition because if any of the conditions from left to right fails, it will mark the complete condition as false and doesn&#39;t evaluate any more conditions.\r\n\r\n \r\n    while ((j &gt;= 0) &amp;&amp; (temp &lt; arr[j]))\r\n\r\nSo if `j &gt;= 0` is false, it will not evaluate `temp &lt; arr[j]`\r\n\r\nbut if you interchange first it will evaluate `temp &lt; arr[j]` where `arr[j]` can produce an ArrayIndexOutOfBoundsException in Java.\r\n\r\nYou can read more about [shortCircuit][1].\r\n\r\nIn C, it may not give an exception; rather it may give you a garbage value.\r\n\r\n  [1]: https://www.geeksforgeeks.org/short-circuit-logical-operators-in-java-with-examples/","title":"Is there a difference in the working of AND operator in JAVA and C?","body":"<p>No. Its called shortcircuit.</p>\n<p>The order can affect your condition because if any of the conditions from left to right fails, it will mark the complete condition as false and doesn't evaluate any more conditions.</p>\n<pre><code>while ((j &gt;= 0) &amp;&amp; (temp &lt; arr[j]))\n</code></pre>\n<p>So if <code>j &gt;= 0</code> is false, it will not evaluate <code>temp &lt; arr[j]</code></p>\n<p>but if you interchange first it will evaluate <code>temp &lt; arr[j]</code> where <code>arr[j]</code> can produce an ArrayIndexOutOfBoundsException in Java.</p>\n<p>You can read more about <a href=\"https://www.geeksforgeeks.org/short-circuit-logical-operators-in-java-with-examples/\" rel=\"nofollow noreferrer\">shortCircuit</a>.</p>\n<p>In C, it may not give an exception; rather it may give you a garbage value.</p>\n"}],"owner":{"account_id":20736130,"reputation":11,"user_id":19211585,"display_name":"Md Asad Ali"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1653641012,"accepted_answer_id":72400756,"answer_count":1,"score":0,"last_activity_date":1653632453,"creation_date":1653628166,"question_id":72400704,"body_markdown":"       \r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n        \r\n    public class InsertionSort {\r\n        public static void main(String[] args) {\r\n        \tScanner s = new Scanner(System.in);\r\n        \tint[] arr = new int[s.nextInt()];\r\n        \tfor (int i = 0; i &lt; arr.length; i++) {\r\n        \t\tarr[i] = s.nextInt();\r\n        \t}\r\n        \ts.close();\r\n        \tnew RunInsertionSort().insertionSort(arr);\r\n        \tSystem.out.println(Arrays.toString(arr));\r\n        }\r\n    }\r\n\r\n    class RunInsertionSort {\r\n       \tpublic void insertionSort(int[] arr) {\r\n       \t\tint i, j, temp;\r\n       \t\tfor (i = 1; i &lt; arr.length; i++) {\r\n       \t\t\ttemp = arr[i];\r\n       \t\t\tj = i - 1;\r\n       \t\t\twhile ((j &gt;= 0) &amp;&amp; (temp &lt; arr[j])) {\r\n       \t\t\t\tarr[j + 1] = arr[j];\r\n       \t\t\t\tj--;\r\n       \t\t\t}\r\n       \t\t\tarr[j + 1] = temp;\r\n       \t\t}\r\n       \t}\r\n    }\r\nIf `j&gt;=0` is placed after the condition `temp&lt; arr[j]`, I&#39;m getting the error as\r\n\r\n```\r\n5\r\n\r\n5 4 3 2 1\r\n\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 5\r\n\r\n\tat RunInsertionSort.insertionSort(InsertionSort.java:22)\r\n\r\n\tat InsertionSort.main(InsertionSort.java:12)\r\n\r\n```\r\nBut in C language this doesn&#39;t happen either I write `j&gt;=0 &amp;&amp; temp &lt; arr[i]` or `temp&lt;arr[i] &amp;&amp; j&gt;=0`.\r\n\r\n1st Image\r\n[Image of Error when j&gt;=0 is placed after temp&lt;arr[j]][1]\r\n\r\n\r\n2nd Image [Image when j&gt;=0 is placed before temp&lt;arr[j]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JY7q8.png\r\n  [2]: https://i.stack.imgur.com/5AcFb.png","title":"Is there a difference in the working of AND operator in JAVA and C?","body":"<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n    \npublic class InsertionSort {\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        int[] arr = new int[s.nextInt()];\n        for (int i = 0; i &lt; arr.length; i++) {\n            arr[i] = s.nextInt();\n        }\n        s.close();\n        new RunInsertionSort().insertionSort(arr);\n        System.out.println(Arrays.toString(arr));\n    }\n}\n\nclass RunInsertionSort {\n    public void insertionSort(int[] arr) {\n        int i, j, temp;\n        for (i = 1; i &lt; arr.length; i++) {\n            temp = arr[i];\n            j = i - 1;\n            while ((j &gt;= 0) &amp;&amp; (temp &lt; arr[j])) {\n                arr[j + 1] = arr[j];\n                j--;\n            }\n            arr[j + 1] = temp;\n        }\n    }\n}\n</code></pre>\n<p>If <code>j&gt;=0</code> is placed after the condition <code>temp&lt; arr[j]</code>, I'm getting the error as</p>\n<pre><code>5\n\n5 4 3 2 1\n\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 5\n\n    at RunInsertionSort.insertionSort(InsertionSort.java:22)\n\n    at InsertionSort.main(InsertionSort.java:12)\n\n</code></pre>\n<p>But in C language this doesn't happen either I write <code>j&gt;=0 &amp;&amp; temp &lt; arr[i]</code> or <code>temp&lt;arr[i] &amp;&amp; j&gt;=0</code>.</p>\n<p>1st Image\n<a href=\"https://i.stack.imgur.com/JY7q8.png\" rel=\"nofollow noreferrer\">Image of Error when j&gt;=0 is placed after temp&lt;arr[j]</a></p>\n<p>2nd Image <a href=\"https://i.stack.imgur.com/5AcFb.png\" rel=\"nofollow noreferrer\">Image when j&gt;=0 is placed before temp&lt;arr[j]</a></p>\n"},{"tags":["java","spring","spring-boot","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653631703,"creation_date":1653631703,"answer_id":72401134,"question_id":72391408,"body_markdown":"Finally i could solve the issue. In the parent pom had elastic search version was given explicitly. Once i remove the given version error has gone and application works fine.","title":"Spring upgrade issue - ClassNotFoundException","body":"<p>Finally i could solve the issue. In the parent pom had elastic search version was given explicitly. Once i remove the given version error has gone and application works fine.</p>\n"}],"owner":{"account_id":22896902,"reputation":1,"user_id":17036298,"display_name":"jobi07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72401134,"answer_count":1,"score":0,"last_activity_date":1653631703,"creation_date":1653566091,"question_id":72391408,"body_markdown":"I have upgraded my spring boot from 2.2.6.RELEASE to 2.7.0. \r\nAfter the upgrade , i am getting ClassNotFoundException when i start the application.\r\nI tried with 2.6.6 but result is same.\r\n\r\nMy pom file looks like \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\r\n            &lt;/dependency&gt; \r\n\r\nException :\r\n\r\n        org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;reactiveElasticsearchClient&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ReactiveElasticsearchRestClientAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.data.elasticsearch.client.reactive.DefaultReactiveElasticsearchClient] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n    org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n        Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.data.elasticsearch.client.reactive.DefaultReactiveElasticsearchClient] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n        org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.3.20.jar:5.3.20]\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ... 15 common frames omitted\r\n        Caused by: java.lang.NoClassDefFoundError: org/elasticsearch/xcontent/XContentParser\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.....\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467) ~[spring-core-5.3.20.jar:5.3.20]\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ... 22 common frames omitted\r\n        Caused by: java.lang.ClassNotFoundException: org.elasticsearch.xcontent.XContentParser\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583) ~[na:na]\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n        &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;... 26 common frames omitted\r\n\r\nCan anyone please help on this?","title":"Spring upgrade issue - ClassNotFoundException","body":"<p>I have upgraded my spring boot from 2.2.6.RELEASE to 2.7.0.\nAfter the upgrade , i am getting ClassNotFoundException when i start the application.\nI tried with 2.6.6 but result is same.</p>\n<p>My pom file looks like</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n     &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\n        &lt;/dependency&gt; \n</code></pre>\n<p>Exception :</p>\n<pre><code>    org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reactiveElasticsearchClient' defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ReactiveElasticsearchRestClientAutoConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.data.elasticsearch.client.reactive.DefaultReactiveElasticsearchClient] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\n    \norg.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]\n    \n    Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.data.elasticsearch.client.reactive.DefaultReactiveElasticsearchClient] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\n    \n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.3.20.jar:5.3.20]\n     ... 15 common frames omitted\n    Caused by: java.lang.NoClassDefFoundError: org/elasticsearch/xcontent/XContentParser\n    .....\n     at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467) ~[spring-core-5.3.20.jar:5.3.20]\n     ... 22 common frames omitted\n    Caused by: java.lang.ClassNotFoundException: org.elasticsearch.xcontent.XContentParser\n     at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583) ~[na:na]\n     at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n     at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 26 common frames omitted\n</code></pre>\n<p>Can anyone please help on this?</p>\n"},{"tags":["java","gradle","build.gradle","micronaut","micronaut-rest"],"answers":[{"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653631571,"creation_date":1653631571,"answer_id":72401121,"question_id":72400907,"body_markdown":"The documentation has a section about retaining parameter names https://docs.micronaut.io/latest/guide/#retainparameternames","title":"Methods signature got changed while compiling the gradle java application and referencing to other project","body":"<p>The documentation has a section about retaining parameter names <a href=\"https://docs.micronaut.io/latest/guide/#retainparameternames\" rel=\"nofollow noreferrer\">https://docs.micronaut.io/latest/guide/#retainparameternames</a></p>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72401121,"answer_count":1,"score":-2,"last_activity_date":1653631571,"creation_date":1653629873,"question_id":72400907,"body_markdown":"I have two projects known as (`Common` and `ApiGateway`).The common is a Gradle java project and ApiGateway is a Micronaut java application. In the common project, I am keeping all the common things and referencing the jar to the Apigateway project.\r\n\r\n**Common project**\r\n\r\nThe below code is compiled with `./gradlew build`\r\n\r\n    @Validated\r\n    public interface IProductOperation {\r\n        @Get(value = &quot;/search/{text}&quot;)\r\n        @Secured(SecurityRule.IS_ANONYMOUS)\r\n        Flux&lt;?&gt; freeTextSearch(@NotBlank String text);\r\n    \r\n    \r\n        @Get(value = &quot;/{?searchCriteria*}&quot;)\r\n        @Secured(SecurityRule.IS_ANONYMOUS)\r\n        Mono&lt;?&gt; find(FilterProductModel searchCriteria);\r\n    }\r\n\r\nThe **API gateway** implements the `IProductOperation` interface which is in the **common project**. When I navigate to the **code base**, I can see the below code is generated\r\n\r\n    @Validated\r\n    public interface IProductOperation {\r\n    \r\n        @Get(&quot;/search/{text}&quot;)\r\n        @Secured({&quot;isAnonymous()&quot;})\r\n        Flux&lt;?&gt; freeTextSearch(@NotBlank String var1);\r\n    \r\n    \r\n        @Get(&quot;/{?searchCriteria*}&quot;)\r\n        @Secured({&quot;isAnonymous()&quot;})\r\n        Mono&lt;?&gt; find(FilterProductModel var1);\r\n    \r\n    }\r\n\r\nNow when I compile the second application the **Apigateway** project, I get an exception as `The route declares a uri variable named [text], but no corresponding method argument is present` which is valid because the parameter in `freeTextSearch()` and `find()` methods got changed to `var1`.\r\n\r\nI have below dependency in the common project\r\n\r\n    dependencies {\r\n        annotationProcessor &quot;io.micronaut:micronaut-inject-java:3.5.0&quot;\r\n        annotationProcessor &quot;io.micronaut:micronaut-validation:3.5.0&quot;\r\n    \r\n        implementation(&#39;io.swagger.core.v3:swagger-annotations:2.2.0&#39;)\r\n        implementation &#39;io.micronaut:micronaut-core:3.5.0&#39;\r\n    \r\n        implementation &quot;io.micronaut:micronaut-inject:3.5.0&quot;\r\n        implementation &#39;io.micronaut:micronaut-validation:3.5.0&#39;\r\n        implementation (&#39;io.micronaut.reactor:micronaut-reactor:2.2.2&#39;)\r\n        implementation(&quot;io.micronaut.security:micronaut-security-jwt:3.6.0&quot;)\r\n    }\r\nI have build the application and publish to local mavel.","title":"Methods signature got changed while compiling the gradle java application and referencing to other project","body":"<p>I have two projects known as (<code>Common</code> and <code>ApiGateway</code>).The common is a Gradle java project and ApiGateway is a Micronaut java application. In the common project, I am keeping all the common things and referencing the jar to the Apigateway project.</p>\n<p><strong>Common project</strong></p>\n<p>The below code is compiled with <code>./gradlew build</code></p>\n<pre><code>@Validated\npublic interface IProductOperation {\n    @Get(value = &quot;/search/{text}&quot;)\n    @Secured(SecurityRule.IS_ANONYMOUS)\n    Flux&lt;?&gt; freeTextSearch(@NotBlank String text);\n\n\n    @Get(value = &quot;/{?searchCriteria*}&quot;)\n    @Secured(SecurityRule.IS_ANONYMOUS)\n    Mono&lt;?&gt; find(FilterProductModel searchCriteria);\n}\n</code></pre>\n<p>The <strong>API gateway</strong> implements the <code>IProductOperation</code> interface which is in the <strong>common project</strong>. When I navigate to the <strong>code base</strong>, I can see the below code is generated</p>\n<pre><code>@Validated\npublic interface IProductOperation {\n\n    @Get(&quot;/search/{text}&quot;)\n    @Secured({&quot;isAnonymous()&quot;})\n    Flux&lt;?&gt; freeTextSearch(@NotBlank String var1);\n\n\n    @Get(&quot;/{?searchCriteria*}&quot;)\n    @Secured({&quot;isAnonymous()&quot;})\n    Mono&lt;?&gt; find(FilterProductModel var1);\n\n}\n</code></pre>\n<p>Now when I compile the second application the <strong>Apigateway</strong> project, I get an exception as <code>The route declares a uri variable named [text], but no corresponding method argument is present</code> which is valid because the parameter in <code>freeTextSearch()</code> and <code>find()</code> methods got changed to <code>var1</code>.</p>\n<p>I have below dependency in the common project</p>\n<pre><code>dependencies {\n    annotationProcessor &quot;io.micronaut:micronaut-inject-java:3.5.0&quot;\n    annotationProcessor &quot;io.micronaut:micronaut-validation:3.5.0&quot;\n\n    implementation('io.swagger.core.v3:swagger-annotations:2.2.0')\n    implementation 'io.micronaut:micronaut-core:3.5.0'\n\n    implementation &quot;io.micronaut:micronaut-inject:3.5.0&quot;\n    implementation 'io.micronaut:micronaut-validation:3.5.0'\n    implementation ('io.micronaut.reactor:micronaut-reactor:2.2.2')\n    implementation(&quot;io.micronaut.security:micronaut-security-jwt:3.6.0&quot;)\n}\n</code></pre>\n<p>I have build the application and publish to local mavel.</p>\n"},{"tags":["java","dagger-2"],"comments":[{"owner":{"account_id":17032947,"reputation":115,"user_id":12322701,"display_name":"Anders"},"score":2,"creation_date":1653631388,"post_id":72401067,"comment_id":127901995,"body_markdown":"I think it would still be interesting to hear thoughts on this but, just to say, this has resolved itself now, it&#39;s injecting the right constructor and I&#39;ve been able to completely remove the no-parameter constructor without issue. I did try rebuilding the project in IntelliJ, which might have worked (but didn&#39;t look like it had at the time I did it), or maybe it was just a case of leaving it a while, which isn&#39;t very useful!","body":"I think it would still be interesting to hear thoughts on this but, just to say, this has resolved itself now, it&#39;s injecting the right constructor and I&#39;ve been able to completely remove the no-parameter constructor without issue. I did try rebuilding the project in IntelliJ, which might have worked (but didn&#39;t look like it had at the time I did it), or maybe it was just a case of leaving it a while, which isn&#39;t very useful!"},{"owner":{"account_id":9579833,"reputation":1418,"user_id":7114714,"display_name":"Yavor Mitev"},"score":1,"creation_date":1653636393,"post_id":72401067,"comment_id":127903238,"body_markdown":"Yes, this is really annoying. You need to click &quot;Clean Project&quot; from time to time. That is the only way for now. If you see something broken that does not make sense to be broken or you can&#39;t understand it - first &quot;Clean&quot; - investigate second :)","body":"Yes, this is really annoying. You need to click &quot;Clean Project&quot; from time to time. That is the only way for now. If you see something broken that does not make sense to be broken or you can&#39;t understand it - first &quot;Clean&quot; - investigate second :)"}],"owner":{"account_id":17032947,"reputation":115,"user_id":12322701,"display_name":"Anders"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653631146,"creation_date":1653631146,"question_id":72401067,"body_markdown":"I&#39;m following along with the Dagger ATM tutorial online and have hit issues at the end of the page: https://dagger.dev/tutorial/03-first-command\r\n\r\nI&#39;ve dumped all of the code below for ease of reference but essentially what I understand to be happening is the Command and CommandRouter instances are being injected into the DaggerCommandRouterFactory but no matter what I do the no-parameter constructor for CommandRouter is being used - the compiler isn&#39;t happy if I leave it out, so I had two constructors and only injected the one I needed, but it was STILL calling the no-parameter constructor!\r\n\r\nI came across the following article online (https://youtrack.jetbrains.com/issue/IDEA-190622), which suggests that IntelliJ is caching aspects of the previous builds and I guess within that is the annotation injecting the no-parameter constructor but I&#39;m a bit stuck on how to rectify it.\r\n\r\n\r\n```\r\nimport java.util.List;\r\n\r\npublic interface Command {\r\n    String key();\r\n    Status handleInput(List&lt;String&gt; input);\r\n\r\n    enum Status {\r\n        INVALID,\r\n        HANDLED\r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport javax.inject.Inject;\r\nimport java.util.List;\r\n\r\npublic final class HelloWorldCommand implements Command {\r\n    @Inject\r\n    HelloWorldCommand(){};\r\n\r\n    @Override\r\n    public String key() {\r\n        return &quot;hello&quot;;\r\n    }\r\n\r\n    @Override\r\n    public Status handleInput(List&lt;String&gt; input) {\r\n        System.out.println(input.size());\r\n        if (!input.isEmpty())\r\n            return Status.INVALID;\r\n        System.out.println(&quot;world!&quot;);\r\n        return Status.HANDLED;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport ATM.Command.Status;\r\nimport javax.inject.Inject;\r\n\r\npublic class CommandRouter {\r\n    private final Map&lt;String, Command&gt; commands = new HashMap&lt;&gt;();\r\n\r\n    @Inject\r\n    CommandRouter(HelloWorldCommand helloWorldCommand){\r\n        System.out.println(&quot;HelloWorldCommand Constructor&quot;);\r\n        commands.put(helloWorldCommand.key(), helloWorldCommand);\r\n    }\r\n\r\n    CommandRouter(){\r\n        System.out.println(&quot;No Parameter Constructor&quot;);\r\n    }\r\n\r\n    Status route(String input) {\r\n        List&lt;String&gt; splitInput = split(input);\r\n        if (splitInput.isEmpty()) {\r\n            return invalidCommand(input);\r\n        }\r\n\r\n        String commandKey = splitInput.get(0);\r\n        Command command = commands.get(commandKey);\r\n\r\n        if (command == null) {\r\n            return invalidCommand(input);\r\n        }\r\n\r\n        Status status = command.handleInput(splitInput.subList(1, splitInput.size()));\r\n\r\n        if (status == Status.INVALID){\r\n            System.out.println(commandKey + &quot;: invalid arguments&quot;);\r\n        }\r\n\r\n        return status;\r\n    }\r\n\r\n    private Status invalidCommand(String input) {\r\n        System.out.println(String.format(&quot;couldn&#39;t understand \\&quot;%s\\&quot;. please try again.&quot;, input));\r\n        return Status.INVALID;\r\n    }\r\n\r\n    private List&lt;String&gt; split(String input) {\r\n        List&lt;String&gt; tokens = List.of(input.split(&quot; &quot;));\r\n        return tokens;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport dagger.Component;\r\n\r\n@Component\r\npublic interface CommandRouterFactory {\r\n    CommandRouter router();\r\n}\r\n```\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class CommandLineATM {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        CommandRouterFactory commandRouterFactory = DaggerCommandRouterFactory.create();\r\n        CommandRouter commandRouter = commandRouterFactory.router();\r\n\r\n        while(scanner.hasNextLine()){\r\n            commandRouter.route(scanner.nextLine());\r\n        }\r\n    }\r\n}\r\n```","title":"Dagger choosing the no-argument constructor, despite a different constructor being annotated @Inject","body":"<p>I'm following along with the Dagger ATM tutorial online and have hit issues at the end of the page: <a href=\"https://dagger.dev/tutorial/03-first-command\" rel=\"nofollow noreferrer\">https://dagger.dev/tutorial/03-first-command</a></p>\n<p>I've dumped all of the code below for ease of reference but essentially what I understand to be happening is the Command and CommandRouter instances are being injected into the DaggerCommandRouterFactory but no matter what I do the no-parameter constructor for CommandRouter is being used - the compiler isn't happy if I leave it out, so I had two constructors and only injected the one I needed, but it was STILL calling the no-parameter constructor!</p>\n<p>I came across the following article online (<a href=\"https://youtrack.jetbrains.com/issue/IDEA-190622\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-190622</a>), which suggests that IntelliJ is caching aspects of the previous builds and I guess within that is the annotation injecting the no-parameter constructor but I'm a bit stuck on how to rectify it.</p>\n<pre><code>import java.util.List;\n\npublic interface Command {\n    String key();\n    Status handleInput(List&lt;String&gt; input);\n\n    enum Status {\n        INVALID,\n        HANDLED\n    }\n}\n</code></pre>\n<pre><code>import javax.inject.Inject;\nimport java.util.List;\n\npublic final class HelloWorldCommand implements Command {\n    @Inject\n    HelloWorldCommand(){};\n\n    @Override\n    public String key() {\n        return &quot;hello&quot;;\n    }\n\n    @Override\n    public Status handleInput(List&lt;String&gt; input) {\n        System.out.println(input.size());\n        if (!input.isEmpty())\n            return Status.INVALID;\n        System.out.println(&quot;world!&quot;);\n        return Status.HANDLED;\n    }\n}\n</code></pre>\n<pre><code>import java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport ATM.Command.Status;\nimport javax.inject.Inject;\n\npublic class CommandRouter {\n    private final Map&lt;String, Command&gt; commands = new HashMap&lt;&gt;();\n\n    @Inject\n    CommandRouter(HelloWorldCommand helloWorldCommand){\n        System.out.println(&quot;HelloWorldCommand Constructor&quot;);\n        commands.put(helloWorldCommand.key(), helloWorldCommand);\n    }\n\n    CommandRouter(){\n        System.out.println(&quot;No Parameter Constructor&quot;);\n    }\n\n    Status route(String input) {\n        List&lt;String&gt; splitInput = split(input);\n        if (splitInput.isEmpty()) {\n            return invalidCommand(input);\n        }\n\n        String commandKey = splitInput.get(0);\n        Command command = commands.get(commandKey);\n\n        if (command == null) {\n            return invalidCommand(input);\n        }\n\n        Status status = command.handleInput(splitInput.subList(1, splitInput.size()));\n\n        if (status == Status.INVALID){\n            System.out.println(commandKey + &quot;: invalid arguments&quot;);\n        }\n\n        return status;\n    }\n\n    private Status invalidCommand(String input) {\n        System.out.println(String.format(&quot;couldn't understand \\&quot;%s\\&quot;. please try again.&quot;, input));\n        return Status.INVALID;\n    }\n\n    private List&lt;String&gt; split(String input) {\n        List&lt;String&gt; tokens = List.of(input.split(&quot; &quot;));\n        return tokens;\n    }\n}\n</code></pre>\n<pre><code>import dagger.Component;\n\n@Component\npublic interface CommandRouterFactory {\n    CommandRouter router();\n}\n</code></pre>\n<pre><code>import java.util.Scanner;\n\npublic class CommandLineATM {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        CommandRouterFactory commandRouterFactory = DaggerCommandRouterFactory.create();\n        CommandRouter commandRouter = commandRouterFactory.router();\n\n        while(scanner.hasNextLine()){\n            commandRouter.route(scanner.nextLine());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":48946,"reputation":14899,"user_id":145567,"accept_rate":78,"display_name":"Dominic Bou-Samra"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1433546519,"creation_date":1343368676,"answer_id":11682231,"question_id":11682212,"body_markdown":"You need to instantiate the class it is contained within, or make the method static.\r\n\r\nSo if it is contained within class Foo:\r\n\r\n    Foo x = new Foo();\r\n    List&lt;Integer&gt; stuff = x.myNumbers();\r\n\r\nor alternatively shorthand:\r\n\r\n    List&lt;Integer&gt; stuff = new Foo().myNumbers();\r\n\r\nor if you make it static like so: \r\n\r\n    public static List&lt;Integer&gt; myNumbers()    {\r\n        List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n        numbers.add(5);\r\n        numbers.add(11);\r\n        numbers.add(3);\r\n        return(numbers);\r\n    }\r\n\r\nyou can call it like so: \r\n\r\n    List&lt;Integer&gt; stuff = Foo.myNumbers();","title":"Java Returning method which returns arraylist?","body":"<p>You need to instantiate the class it is contained within, or make the method static.</p>\n\n<p>So if it is contained within class Foo:</p>\n\n<pre><code>Foo x = new Foo();\nList&lt;Integer&gt; stuff = x.myNumbers();\n</code></pre>\n\n<p>or alternatively shorthand:</p>\n\n<pre><code>List&lt;Integer&gt; stuff = new Foo().myNumbers();\n</code></pre>\n\n<p>or if you make it static like so: </p>\n\n<pre><code>public static List&lt;Integer&gt; myNumbers()    {\n    List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n    numbers.add(5);\n    numbers.add(11);\n    numbers.add(3);\n    return(numbers);\n}\n</code></pre>\n\n<p>you can call it like so: </p>\n\n<pre><code>List&lt;Integer&gt; stuff = Foo.myNumbers();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343368694,"creation_date":1343368694,"answer_id":11682235,"question_id":11682212,"body_markdown":"If Foo is the class enclose this method\r\n\r\n    class Foo{\r\n      public ArrayList&lt;Integer&gt; myNumbers()    {\r\n         //code code code\r\n      }\r\n    }\r\n\r\nthen\r\n\r\n    new Foo().myNumbers();\r\n","title":"Java Returning method which returns arraylist?","body":"<p>If Foo is the class enclose this method</p>\n\n<pre><code>class Foo{\n  public ArrayList&lt;Integer&gt; myNumbers()    {\n     //code code code\n  }\n}\n</code></pre>\n\n<p>then</p>\n\n<pre><code>new Foo().myNumbers();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":2,"up_vote_count":26,"is_accepted":true,"score":24,"last_activity_date":1499340178,"creation_date":1343368707,"answer_id":11682238,"question_id":11682212,"body_markdown":"**1.** If that class from which you want to call this method, is in the same package, then create an instance of this class and call the method.\r\n\r\n**2.** Use `Composition`\r\n\r\n**3.** It would be better to have a `Generic ArrayList` like `ArrayList&lt;Integer&gt;` etc...\r\n\r\n**eg:**\r\n\r\n\r\n    public class Test{\r\n    \r\n    public ArrayList&lt;Integer&gt; myNumbers()    {\r\n        ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n        numbers.add(5);\r\n        numbers.add(11);\r\n        numbers.add(3);\r\n        return(numbers);\r\n     }\r\n    }\r\n    \r\n    \r\n    public class T{\r\n    \r\n    \r\n    public static void main(String[] args){\r\n    \r\n       Test t = new Test();\r\n       ArrayList&lt;Integer&gt; arr = t.myNumbers();        // You can catch the returned integer arraylist into an arraylist.\r\n     }\r\n    \r\n    \r\n    }\r\n    \r\n    \r\n      ","title":"Java Returning method which returns arraylist?","body":"<p><strong>1.</strong> If that class from which you want to call this method, is in the same package, then create an instance of this class and call the method.</p>\n\n<p><strong>2.</strong> Use <code>Composition</code></p>\n\n<p><strong>3.</strong> It would be better to have a <code>Generic ArrayList</code> like <code>ArrayList&lt;Integer&gt;</code> etc...</p>\n\n<p><strong>eg:</strong></p>\n\n<pre><code>public class Test{\n\npublic ArrayList&lt;Integer&gt; myNumbers()    {\n    ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n    numbers.add(5);\n    numbers.add(11);\n    numbers.add(3);\n    return(numbers);\n }\n}\n\n\npublic class T{\n\n\npublic static void main(String[] args){\n\n   Test t = new Test();\n   ArrayList&lt;Integer&gt; arr = t.myNumbers();        // You can catch the returned integer arraylist into an arraylist.\n }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343368710,"creation_date":1343368710,"answer_id":11682239,"question_id":11682212,"body_markdown":"    MyClass obj = new MyClass();\r\n    ArrayList&lt;Integer&gt; numbers = obj.myNumbers();","title":"Java Returning method which returns arraylist?","body":"<pre><code>MyClass obj = new MyClass();\nArrayList&lt;Integer&gt; numbers = obj.myNumbers();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":270781,"reputation":11897,"user_id":560934,"accept_rate":61,"display_name":"Nirmal- thInk beYond"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343368741,"creation_date":1343368741,"answer_id":11682243,"question_id":11682212,"body_markdown":"You can use on another class\r\n\r\n    public ArrayList&lt;Integer&gt; myNumbers = new Foo().myNumbers();\r\n\r\nor \r\n\r\n    Foo myClass = new Foo();\r\n     public ArrayList&lt;Integer&gt; myNumbers = myclass.myNumbers();","title":"Java Returning method which returns arraylist?","body":"<p>You can use on another class</p>\n\n<pre><code>public ArrayList&lt;Integer&gt; myNumbers = new Foo().myNumbers();\n</code></pre>\n\n<p>or </p>\n\n<pre><code>Foo myClass = new Foo();\n public ArrayList&lt;Integer&gt; myNumbers = myclass.myNumbers();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1343368755,"creation_date":1343368755,"answer_id":11682248,"question_id":11682212,"body_markdown":"Assuming you have something like so:\r\n\r\n    public class MyFirstClass {\r\n       ...\r\n       public ArrayList&lt;Integer&gt; myNumbers()    {\r\n        ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n        numbers.add(5);\r\n        numbers.add(11);\r\n        numbers.add(3);\r\n        return(numbers);\r\n       }\r\n       ...\r\n    }\r\n\r\nYou can call that method like so:\r\n\r\n    public class MySecondClass {\r\n        ...\r\n        MyFirstClass m1 = new MyFirstClass();\r\n        List&lt;Integer&gt; myList = m1.myNumbers();\r\n        ...\r\n    }\r\n\r\nSince the method you are trying to call is not *static*, you will have to create an instance of the class which provides this method. Once you create the instance, you will then have access to the method.\r\n\r\nNote, that in the code example above, I used this line: `List&lt;Integer&gt; myList = m1.myNumbers();`. This can be changed by the following: `ArrayList&lt;Integer&gt; myList = m1.myNumbers();`. However, it is usually recommended to program to an interface, and not to a concrete implementation, so my suggestion for the method you are using would be to do something like so:\r\n\r\n    public List&lt;Integer&gt; myNumbers()    {\r\n        List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n        numbers.add(5);\r\n        numbers.add(11);\r\n        numbers.add(3);\r\n        return(numbers);\r\n       }\r\n\r\nThis will allow you to assign the contents of that list to whatever implements the `List` interface.","title":"Java Returning method which returns arraylist?","body":"<p>Assuming you have something like so:</p>\n\n<pre><code>public class MyFirstClass {\n   ...\n   public ArrayList&lt;Integer&gt; myNumbers()    {\n    ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n    numbers.add(5);\n    numbers.add(11);\n    numbers.add(3);\n    return(numbers);\n   }\n   ...\n}\n</code></pre>\n\n<p>You can call that method like so:</p>\n\n<pre><code>public class MySecondClass {\n    ...\n    MyFirstClass m1 = new MyFirstClass();\n    List&lt;Integer&gt; myList = m1.myNumbers();\n    ...\n}\n</code></pre>\n\n<p>Since the method you are trying to call is not <em>static</em>, you will have to create an instance of the class which provides this method. Once you create the instance, you will then have access to the method.</p>\n\n<p>Note, that in the code example above, I used this line: <code>List&lt;Integer&gt; myList = m1.myNumbers();</code>. This can be changed by the following: <code>ArrayList&lt;Integer&gt; myList = m1.myNumbers();</code>. However, it is usually recommended to program to an interface, and not to a concrete implementation, so my suggestion for the method you are using would be to do something like so:</p>\n\n<pre><code>public List&lt;Integer&gt; myNumbers()    {\n    List&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n    numbers.add(5);\n    numbers.add(11);\n    numbers.add(3);\n    return(numbers);\n   }\n</code></pre>\n\n<p>This will allow you to assign the contents of that list to whatever implements the <code>List</code> interface.</p>\n"},{"tags":[],"owner":{"display_name":"user1464472"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343368787,"creation_date":1343368787,"answer_id":11682255,"question_id":11682212,"body_markdown":"    List&lt;Integer&gt; numbers = new TheClassName().myNumbers();\r\n\r\n","title":"Java Returning method which returns arraylist?","body":"<pre><code>List&lt;Integer&gt; numbers = new TheClassName().myNumbers();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10327472,"reputation":3,"user_id":7618480,"display_name":"kyle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492306753,"creation_date":1492306753,"answer_id":43432877,"question_id":11682212,"body_markdown":" Your method can be called and the arraylist can be stored like this\n\n    YourClassName class = new YourClassName();\n    Arraylist&lt;Integer&gt; numbers = class.numbers(); \nThis also allows the arraylist to be manipulated further in this class","title":"Java Returning method which returns arraylist?","body":"<p>Your method can be called and the arraylist can be stored like this</p>\n\n<pre><code>YourClassName class = new YourClassName();\nArraylist&lt;Integer&gt; numbers = class.numbers(); \n</code></pre>\n\n<p>This also allows the arraylist to be manipulated further in this class</p>\n"},{"tags":[],"owner":{"account_id":24033285,"reputation":1,"user_id":18013851,"display_name":"Aritn faghanzadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653631037,"creation_date":1653122543,"answer_id":72327965,"question_id":11682212,"body_markdown":"you can also create method like prime_f and then call ArrayList like:\r\n\r\n       public static ArrayList&lt;Integer&gt; prime_f(int number) {\r\n\t   ArrayList&lt;Integer&gt; counter = new ArrayList&lt;Integer&gt;();\r\n\t   for (int i = 2;i &lt; number;i++) {\r\n\t\t   while(number%i == 0) {\r\n\t\t\t   counter.add(i);\r\n\t\t\t   number = number/i;\r\n\t\t   }\r\n\t   }\r\n\t   if (number &gt; 2) {\r\n\t\t   counter.add(number);\r\n\t   }\r\n\t   return counter;\r\n    }","title":"Java Returning method which returns arraylist?","body":"<p>you can also create method like prime_f and then call ArrayList like:</p>\n<pre><code>   public static ArrayList&lt;Integer&gt; prime_f(int number) {\n   ArrayList&lt;Integer&gt; counter = new ArrayList&lt;Integer&gt;();\n   for (int i = 2;i &lt; number;i++) {\n       while(number%i == 0) {\n           counter.add(i);\n           number = number/i;\n       }\n   }\n   if (number &gt; 2) {\n       counter.add(number);\n   }\n   return counter;\n}\n</code></pre>\n"}],"owner":{"account_id":1685240,"reputation":2857,"user_id":1548689,"accept_rate":67,"display_name":"Nikhil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358713,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":11682238,"answer_count":9,"score":19,"last_activity_date":1653631037,"creation_date":1343368538,"question_id":11682212,"body_markdown":"I have one class with a method like this:\r\n\r\n    public ArrayList&lt;Integer&gt; myNumbers()    {\r\n        ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\r\n        numbers.add(5);\r\n        numbers.add(11);\r\n        numbers.add(3);\r\n        return(numbers);\r\n    }\r\n\r\nhow can i call this method inside another class?","title":"Java Returning method which returns arraylist?","body":"<p>I have one class with a method like this:</p>\n\n<pre><code>public ArrayList&lt;Integer&gt; myNumbers()    {\n    ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;Integer&gt;();\n    numbers.add(5);\n    numbers.add(11);\n    numbers.add(3);\n    return(numbers);\n}\n</code></pre>\n\n<p>how can i call this method inside another class?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653630663,"post_id":72400924,"comment_id":127901866,"body_markdown":"what is the actual problem you are facing?","body":"what is the actual problem you are facing?"},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653630877,"post_id":72400924,"comment_id":127901901,"body_markdown":"When I hit the endpoint (/placeinDB), I do not have the resources to playwith. I need the entryList , dates to write to DB","body":"When I hit the endpoint (/placeinDB), I do not have the resources to playwith. I need the entryList , dates to write to DB"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653631785,"post_id":72400924,"comment_id":127902087,"body_markdown":"do you understand how scopes work in Java? Either you call that method from your placeInDB method, or you add that data in your model, or you don&#39;t have that data.","body":"do you understand how scopes work in Java? Either you call that method from your placeInDB method, or you add that data in your model, or you don&#39;t have that data."},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653633863,"post_id":72400924,"comment_id":127902541,"body_markdown":"yeah, so point is, is there any way to add to the model in the global scope? Currently I am adding within another method","body":"yeah, so point is, is there any way to add to the model in the global scope? Currently I am adding within another method"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653634002,"post_id":72400924,"comment_id":127902582,"body_markdown":"this is your code we are talking about. You should know all of that. Also, what do you mean: &quot;global scope&quot;?","body":"this is your code we are talking about. You should know all of that. Also, what do you mean: &quot;global scope&quot;?"},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653634344,"post_id":72400924,"comment_id":127902676,"body_markdown":"I mean in a way, where it is accessible for all functions","body":"I mean in a way, where it is accessible for all functions"},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653634398,"post_id":72400924,"comment_id":127902691,"body_markdown":"a separate function,which would have all the details which I need while going hitting the endpoint(/placeinDB)","body":"a separate function,which would have all the details which I need while going hitting the endpoint(/placeinDB)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653634726,"post_id":72400924,"comment_id":127902771,"body_markdown":"you already have a &quot;separate method that has all the information&quot;, you need to call it, though. no, there isn&#39;t immediately a way to set this so it is available for all methods, since then you would create a statefull controller, which you shouldn&#39;t do. But, again: why don&#39;t you call that method from where you want that information?","body":"you already have a &quot;separate method that has all the information&quot;, you need to call it, though. no, there isn&#39;t immediately a way to set this so it is available for all methods, since then you would create a statefull controller, which you shouldn&#39;t do. But, again: why don&#39;t you call that method from where you want that information?"},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653634956,"post_id":72400924,"comment_id":127902827,"body_markdown":"That separate method you are referring to does a lot of validation already, and in the placeinDB, I do not want to repeat the whole procedure again. if I do it again, its just repeating the same functionalities and not optimal","body":"That separate method you are referring to does a lot of validation already, and in the placeinDB, I do not want to repeat the whole procedure again. if I do it again, its just repeating the same functionalities and not optimal"},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653635003,"post_id":72400924,"comment_id":127902842,"body_markdown":"You are referring to the method inside (/showForm) i beliebve","body":"You are referring to the method inside (/showForm) i beliebve"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653635175,"post_id":72400924,"comment_id":127902902,"body_markdown":"no I am not. and I don&#39;t see any validation in your placeinDB method, or in the method I am referring to. You stated that the information you need is in the method above placeinDB, which is not showForm, but prepareConfiguration","body":"no I am not. and I don&#39;t see any validation in your placeinDB method, or in the method I am referring to. You stated that the information you need is in the method above placeinDB, which is not showForm, but prepareConfiguration"},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653635440,"post_id":72400924,"comment_id":127902981,"body_markdown":"Alright, sorry for the gap. I mean  the showForm","body":"Alright, sorry for the gap. I mean  the showForm"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653635954,"post_id":72400924,"comment_id":127903128,"body_markdown":"in showForm you call prepareConfiguration. What is stopping you from doing the same from placeinDB? just make sure you have the right parameters to call it.","body":"in showForm you call prepareConfiguration. What is stopping you from doing the same from placeinDB? just make sure you have the right parameters to call it."},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653636237,"post_id":72400924,"comment_id":127903195,"body_markdown":"The workflow:  1) I enter the dates 2) Click on a button ( which hits the showForm endpoint). There is a lot of validation going on within. (Ofcourse not all are shown here). 3) If there are any errors, the errors are shown in the text area and the &quot;import&quot; button is disabled. 4) if there are no errors, then the &quot;import&quot; is active and onclick the entryList can be imported to DB","body":"The workflow:  1) I enter the dates 2) Click on a button ( which hits the showForm endpoint). There is a lot of validation going on within. (Ofcourse not all are shown here). 3) If there are any errors, the errors are shown in the text area and the &quot;import&quot; button is disabled. 4) if there are no errors, then the &quot;import&quot; is active and onclick the entryList can be imported to DB"},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1653636267,"post_id":72400924,"comment_id":127903202,"body_markdown":"currently, If I create the same code again, repeating the validation again would occur.","body":"currently, If I create the same code again, repeating the validation again would occur."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1653636672,"post_id":72400924,"comment_id":127903332,"body_markdown":"... no, it would not, unless you put it in there. Do you understand the concept of reusing common code?","body":"... no, it would not, unless you put it in there. Do you understand the concept of reusing common code?"},{"owner":{"account_id":19332677,"reputation":302,"user_id":14133911,"display_name":"Rafael da Silva"},"score":0,"creation_date":1653658089,"post_id":72400924,"comment_id":127910579,"body_markdown":"why not just put a button to store in the database?\nexample, a &#39;save&#39; button, which when clicked, the data will be validated, if everything is ok, the save is effective, else, it returns the errors to the page.","body":"why not just put a button to store in the database? example, a &#39;save&#39; button, which when clicked, the data will be validated, if everything is ok, the save is effective, else, it returns the errors to the page."}],"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653631033,"creation_date":1653630051,"question_id":72400924,"body_markdown":"I am working on a springboot+thymeleaf project. I have a page(form) which accepts user data (startdate and enddate),and a button(Check). On click of the button, backend does some validation. If there are errors, I print the errors on the textarea within the same page (below the check button). If there are no errors, then I activate another button below the textarea, to signify that the entries between the mentioned dates are ready to be stored in the database.\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;\r\n\txmlns:sec=&quot;https://www.thymeleaf.org/thymeleaf-extras-springsecurity5&quot;&gt;\r\n\r\n&lt;body&gt;\r\n\t&lt;div th:fragment=&quot;contentinput&quot;&gt;\r\n\t\t&lt;div class=&quot;container-md&quot;&gt;\r\n\t\t\t&lt;a&gt;Import Worklogs&lt;/a&gt;\r\n\t\t\t&lt;div class=&quot;row justify-content-md-end&quot;&gt;\r\n\t\t\t\t&lt;form modelAttribute = &quot;userData&quot;&gt;\r\n\t\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;col-2&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;txtFrom&quot;\r\n\t\t\t\t\t\t\t\tplaceholder=&quot;start date(yyyy-mm-dd)&quot; name=&quot;dateFrom&quot;&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;col-2&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;txtTo&quot;\r\n\t\t\t\t\t\t\t\tplaceholder=&quot;end date(yyyy-mm-dd)&quot; name=&quot;dateTo&quot;&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;div&gt;\r\n\t\t\t\t\t\t&lt;br&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;row-2&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;input type=&quot;submit&quot; class=&quot;btn btn-primary btn-sml&quot;\r\n\t\t\t\t\t\t\t\tvalue=&quot;check&quot;&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;/form&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;div th:fragment=&quot;contentresult&quot;&gt;\r\n\t\t&lt;div class=&quot;container-md&quot;&gt;\r\n\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\r\n\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t\t&lt;label style=&quot;color: black; font-weight: bold;&quot;&gt;Issues: &lt;/label&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;br&gt;\r\n\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t\t&lt;label for=&quot;Feedback&quot;\r\n\t\t\t\t\t\tth:text=&quot;&#39;checking entries between &#39;+ ${dateFrom}+&#39; and &#39;+ ${dateTo}&quot;&gt;&lt;/label&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;div&gt;\r\n\t\t\t\t\t&lt;textarea id=&quot;feedbackSection&quot; name=&quot;story&quot; cols=&quot;100&quot; rows=&quot;10&quot;\r\n\t\t\t\t\t\tth:text=&quot;${styledErrors}&quot;&gt;\t\r\n\t\t\t\t\t\t&lt;/textarea&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;div&gt;\r\n\t\t\t\t&lt;label th:if=&quot;${containsErrors}&quot; style=&quot;color: green;&quot;&gt; There are\r\n\t\t\t\t\tno issues. The entries can be imported&lt;/label&gt; \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t&lt;label\r\n\t\t\t\t\tth:unless=&quot;${containsErrors}&quot; style=&quot;color: red;&quot;&gt; There are\r\n\t\t\t\t\tissues! Read the above for details&lt;/label&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;br&gt;\r\n\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t&lt;div class=&quot;row-2&quot;&gt;\r\n\t\t\t\t\t&lt;a th:if=&quot;${containsErrors}&quot; type=&quot;button&quot; th:attr=&quot;href=&#39;/importToDb&#39;&quot; \r\n\t\t\t\t\t\tclass=&quot;btn btn-primary btn-sml&quot;&gt;Import&lt;/a&gt; \r\n\t\t\t\t\t&lt;input th:unless=&quot;${containsErrors}&quot; type=&quot;button&quot; disabled=&quot;disabled&quot;\r\n\t\t\t\t\t\tvalue=&quot;Import&quot;&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n\r\n\t&lt;div th:fragment=&quot;contentmessage&quot;&gt;\r\n\t\t&lt;div class=&quot;container-md&quot;&gt;\r\n\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t&lt;label style=&quot;color: green; font-weight: bold;&quot;\r\n\t\t\t\t\tth:text=&quot;&#39;Entries between &#39;+ ${dateFrom}+&#39; and &#39;+ ${dateTo}+&#39; are stored on the database&#39;&quot;&gt;&lt;/label&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\nI have run into a problem in my controller application for the import button. When I click on the import, I want to utilise the features that were used while clicking the button (check)\r\n\r\n```\r\n @GetMapping(&quot;/showform&quot;)\r\n  public String showForm(@RequestParam(value = &quot;dateFrom&quot;, required = false) String dateFrom,\r\n      @RequestParam(value = &quot;dateTo&quot;, required = false) String dateTo, Model model)\r\n      throws IOException, JSONException, InterruptedException, ExecutionException,\r\n      NumberFormatException, SQLException {\r\n    if (dateFrom != null &amp;&amp; dateTo != null &amp;&amp; !dateFrom.isBlank() &amp;&amp; !dateTo.isBlank()) {\r\n      logger.info(&quot;inside the datefrom dateto&quot;);  \r\n      CheckManager wm = prepareConfiguration(dateFrom, dateTo);\r\n      model.addAttribute(&quot;containsErrors&quot;, wm.getErrors().isEmpty());\r\n      model.addAttribute(&quot;styledErros&quot;, wm.getFormattedErrors(wm.getErrors()));\r\n      model.addAttribute(&quot;dateFrom&quot;, dateFrom);\r\n      model.addAttribute(&quot;dateTo&quot;, dateTo);\r\n      return &quot;showform-errors&quot;; //shows the fragment with contentinput and contentResult\r\n    } else {\r\n      logger.info(&quot;inside the validationform&quot;);\r\n      return &quot;showform&quot;; //only contentinput( having 2 textboxes for dates and a button)\r\n    }\r\n  }\r\n\r\n  private CheckManager prepareConfiguration(String dateFrom, String dateTo)\r\n      throws IOException, JSONException, InterruptedException, ExecutionException,\r\n      NumberFormatException, SQLException {\r\n    LocalDate from = LocalDate.parse(dateFrom, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;));\r\n    LocalDate to = LocalDate.parse(dateTo, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;));\r\n\r\n\r\n    Request req = new Request(&quot;username&quot;, &quot;password&quot;);\r\n    List&lt;Entry&gt; entrylist = req.getEntryList(from,to); \r\n    // I want this info entrylist to be used  globally\r\n\r\n    return new CheckManager(entryList,from,to);\r\n  }\r\n  \r\n  @GetMapping(&quot;/placeinDB&quot;)\r\n  public String placeInDb(Model model) {\r\n    logger.info(&quot;Inside the db import&quot;);\r\n   //HERE I WOULD LIKE TO USE THE DATES AND THE LIST I HAD IN THE ABOVE RETURN STATEMENT\r\n   }\r\n```\r\nProblem: When I hit the endpoint(/placeinDB) I do not have the resources like entryList, datefrom, dateTo to perform some modifications. \r\nI am hoping there is some spring annotation that could help me here. Please let me know. ","title":"Spring annotation for a global scope of function variables?","body":"<p>I am working on a springboot+thymeleaf project. I have a page(form) which accepts user data (startdate and enddate),and a button(Check). On click of the button, backend does some validation. If there are errors, I print the errors on the textarea within the same page (below the check button). If there are no errors, then I activate another button below the textarea, to signify that the entries between the mentioned dates are ready to be stored in the database.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;https://www.thymeleaf.org&quot;\n    xmlns:sec=&quot;https://www.thymeleaf.org/thymeleaf-extras-springsecurity5&quot;&gt;\n\n&lt;body&gt;\n    &lt;div th:fragment=&quot;contentinput&quot;&gt;\n        &lt;div class=&quot;container-md&quot;&gt;\n            &lt;a&gt;Import Worklogs&lt;/a&gt;\n            &lt;div class=&quot;row justify-content-md-end&quot;&gt;\n                &lt;form modelAttribute = &quot;userData&quot;&gt;\n                    &lt;div class=&quot;row&quot;&gt;\n                        &lt;div class=&quot;col-2&quot;&gt;\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;txtFrom&quot;\n                                placeholder=&quot;start date(yyyy-mm-dd)&quot; name=&quot;dateFrom&quot;&gt;\n                        &lt;/div&gt;\n                        &lt;div class=&quot;col-2&quot;&gt;\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;txtTo&quot;\n                                placeholder=&quot;end date(yyyy-mm-dd)&quot; name=&quot;dateTo&quot;&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div&gt;\n                        &lt;br&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;row&quot;&gt;\n                        &lt;div class=&quot;row-2&quot;&gt;\n                            &lt;input type=&quot;submit&quot; class=&quot;btn btn-primary btn-sml&quot;\n                                value=&quot;check&quot;&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div th:fragment=&quot;contentresult&quot;&gt;\n        &lt;div class=&quot;container-md&quot;&gt;\n            &lt;div class=&quot;row&quot;&gt;\n\n                &lt;div class=&quot;row&quot;&gt;\n                    &lt;label style=&quot;color: black; font-weight: bold;&quot;&gt;Issues: &lt;/label&gt;\n                &lt;/div&gt;\n                &lt;br&gt;\n                &lt;div class=&quot;row&quot;&gt;\n                    &lt;label for=&quot;Feedback&quot;\n                        th:text=&quot;'checking entries between '+ ${dateFrom}+' and '+ ${dateTo}&quot;&gt;&lt;/label&gt;\n                &lt;/div&gt;\n                &lt;div&gt;\n                    &lt;textarea id=&quot;feedbackSection&quot; name=&quot;story&quot; cols=&quot;100&quot; rows=&quot;10&quot;\n                        th:text=&quot;${styledErrors}&quot;&gt;  \n                        &lt;/textarea&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;label th:if=&quot;${containsErrors}&quot; style=&quot;color: green;&quot;&gt; There are\n                    no issues. The entries can be imported&lt;/label&gt; \n                                \n                &lt;label\n                    th:unless=&quot;${containsErrors}&quot; style=&quot;color: red;&quot;&gt; There are\n                    issues! Read the above for details&lt;/label&gt;\n            &lt;/div&gt;\n            &lt;br&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;div class=&quot;row-2&quot;&gt;\n                    &lt;a th:if=&quot;${containsErrors}&quot; type=&quot;button&quot; th:attr=&quot;href='/importToDb'&quot; \n                        class=&quot;btn btn-primary btn-sml&quot;&gt;Import&lt;/a&gt; \n                    &lt;input th:unless=&quot;${containsErrors}&quot; type=&quot;button&quot; disabled=&quot;disabled&quot;\n                        value=&quot;Import&quot;&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div th:fragment=&quot;contentmessage&quot;&gt;\n        &lt;div class=&quot;container-md&quot;&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;label style=&quot;color: green; font-weight: bold;&quot;\n                    th:text=&quot;'Entries between '+ ${dateFrom}+' and '+ ${dateTo}+' are stored on the database'&quot;&gt;&lt;/label&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>I have run into a problem in my controller application for the import button. When I click on the import, I want to utilise the features that were used while clicking the button (check)</p>\n<pre><code> @GetMapping(&quot;/showform&quot;)\n  public String showForm(@RequestParam(value = &quot;dateFrom&quot;, required = false) String dateFrom,\n      @RequestParam(value = &quot;dateTo&quot;, required = false) String dateTo, Model model)\n      throws IOException, JSONException, InterruptedException, ExecutionException,\n      NumberFormatException, SQLException {\n    if (dateFrom != null &amp;&amp; dateTo != null &amp;&amp; !dateFrom.isBlank() &amp;&amp; !dateTo.isBlank()) {\n      logger.info(&quot;inside the datefrom dateto&quot;);  \n      CheckManager wm = prepareConfiguration(dateFrom, dateTo);\n      model.addAttribute(&quot;containsErrors&quot;, wm.getErrors().isEmpty());\n      model.addAttribute(&quot;styledErros&quot;, wm.getFormattedErrors(wm.getErrors()));\n      model.addAttribute(&quot;dateFrom&quot;, dateFrom);\n      model.addAttribute(&quot;dateTo&quot;, dateTo);\n      return &quot;showform-errors&quot;; //shows the fragment with contentinput and contentResult\n    } else {\n      logger.info(&quot;inside the validationform&quot;);\n      return &quot;showform&quot;; //only contentinput( having 2 textboxes for dates and a button)\n    }\n  }\n\n  private CheckManager prepareConfiguration(String dateFrom, String dateTo)\n      throws IOException, JSONException, InterruptedException, ExecutionException,\n      NumberFormatException, SQLException {\n    LocalDate from = LocalDate.parse(dateFrom, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;));\n    LocalDate to = LocalDate.parse(dateTo, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;));\n\n\n    Request req = new Request(&quot;username&quot;, &quot;password&quot;);\n    List&lt;Entry&gt; entrylist = req.getEntryList(from,to); \n    // I want this info entrylist to be used  globally\n\n    return new CheckManager(entryList,from,to);\n  }\n  \n  @GetMapping(&quot;/placeinDB&quot;)\n  public String placeInDb(Model model) {\n    logger.info(&quot;Inside the db import&quot;);\n   //HERE I WOULD LIKE TO USE THE DATES AND THE LIST I HAD IN THE ABOVE RETURN STATEMENT\n   }\n</code></pre>\n<p>Problem: When I hit the endpoint(/placeinDB) I do not have the resources like entryList, datefrom, dateTo to perform some modifications.\nI am hoping there is some spring annotation that could help me here. Please let me know.</p>\n"},{"tags":["java","html","mysql","jsp","consolidation"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653631730,"post_id":72400956,"comment_id":127902076,"body_markdown":"Why wouldn&#39;t you just calculate those on the fly? You need two queries, one to return the overview results and one for the &quot;click me&quot; logic.","body":"Why wouldn&#39;t you just calculate those on the fly? You need two queries, one to return the overview results and one for the &quot;click me&quot; logic."},{"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"score":1,"creation_date":1653632681,"post_id":72400956,"comment_id":127902282,"body_markdown":"It&#39;s usually best to do data aggregation like this on the database rather than in Java whenever possible.","body":"It&#39;s usually best to do data aggregation like this on the database rather than in Java whenever possible."},{"owner":{"account_id":21851008,"reputation":1,"user_id":16143084,"display_name":"Khai Zhan YUONG"},"score":0,"creation_date":1653644163,"post_id":72400956,"comment_id":127905784,"body_markdown":"Hi @Kayaman, thanks for your reply, currently I&#39;m using two queries for the overview and the breakdowns. Should I pass the breakdowns result together when retrieving the overview result? Or I should wait user click on the &quot;Click Me&quot; and then we only execute the second query to retrieve the breakdowns?","body":"Hi @Kayaman, thanks for your reply, currently I&#39;m using two queries for the overview and the breakdowns. Should I pass the breakdowns result together when retrieving the overview result? Or I should wait user click on the &quot;Click Me&quot; and then we only execute the second query to retrieve the breakdowns?"},{"owner":{"account_id":21851008,"reputation":1,"user_id":16143084,"display_name":"Khai Zhan YUONG"},"score":0,"creation_date":1653644301,"post_id":72400956,"comment_id":127905835,"body_markdown":"Hi @QuentinC, Thanks for your reply. Now I&#39;m doing the data aggregation on the database level. I think it is quite efficient to aggregate on database if there is a lot of records included. :D","body":"Hi @QuentinC, Thanks for your reply. Now I&#39;m doing the data aggregation on the database level. I think it is quite efficient to aggregate on database if there is a lot of records included. :D"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1653648271,"post_id":72400956,"comment_id":127907112,"body_markdown":"Why wouldn&#39;t you wait for the user to click on &quot;click me&quot;? What if the data changes? Are you going to return stale data?","body":"Why wouldn&#39;t you wait for the user to click on &quot;click me&quot;? What if the data changes? Are you going to return stale data?"},{"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"score":0,"creation_date":1653654222,"post_id":72400956,"comment_id":127909037,"body_markdown":"I think it is quite efficient to aggregate on database if\nthere is a lot of records included. ==&gt; If you find it slow, you can store the total for the whole order when you create/update it. Caching data can be interesting as soon as you read a lot more frequently than you update it.","body":"I think it is quite efficient to aggregate on database if there is a lot of records included. ==&gt; If you find it slow, you can store the total for the whole order when you create/update it. Caching data can be interesting as soon as you read a lot more frequently than you update it."}],"owner":{"account_id":21851008,"reputation":1,"user_id":16143084,"display_name":"Khai Zhan YUONG"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653630559,"creation_date":1653630341,"question_id":72400956,"body_markdown":"\r\nI have a following scenario and would like to seek for advices/recommendation about the best solution to implement it.\r\n\r\nAssuming I have following data in the DB:\r\n\r\n| OrderID | CustomerID | OrderDate | Prices |\r\n| --------| --------| ---------- | ------|\r\n| 1| CustomerA | 15-Jan-2022 | 30 |\r\n| 2| CustomerA | 15-Jan-2022 | 20 |\r\n| 3| CustomerB | 15-Jan-2022 | 13 |\r\n| 1| CustomerB | 16-Jan-2022 | 15 |\r\n\r\nAnd would like to display following table on webpage:\r\n\r\n| CustomerID | OrderDate | TotalPrices | Breakdown |\r\n| --------| ------ | -----------|----------------|\r\n| CustomerA | 15-Jan-2022 | 50 | Click me |\r\n| CustomerB | 15-Jan-2022 | 13 | Click me |\r\n| CustomerB | 16-Jan-2022 | 15 | Click me |\r\n\r\nWhen user click on the &quot;Click me&quot; for customerA on 15-Jan-2022, it will shows following:\r\n\r\n| OrderID | CustomerID | OrderDate | Prices |\r\n| --------| -------- | ----------- | ------ |\r\n| 1| CustomerA | 15-Jan-2022 | 30 |\r\n| 2| CustomerA | 15-Jan-2022 | 20 |\r\n\r\nThe current possible solutions in my mind are following:\r\n\r\n1) User SQL consolidate to DB -&gt; Return the summary table to Java API -&gt; Send the summary table to Frontend -&gt; When user click on the &quot;Click Me&quot; button, will have another SQL call to retrieve the breakdown records.\r\n\r\n2) Retrieve the DB records -&gt; Consolidate in Java API -&gt; Send the summary table and breakdowns to frontend.\r\n\r\nFeel free to suggest for more ideas on this, thanks!","title":"What is the best practices for consolidating the DB record and send to frontend?","body":"<p>I have a following scenario and would like to seek for advices/recommendation about the best solution to implement it.</p>\n<p>Assuming I have following data in the DB:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>OrderID</th>\n<th>CustomerID</th>\n<th>OrderDate</th>\n<th>Prices</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>CustomerA</td>\n<td>15-Jan-2022</td>\n<td>30</td>\n</tr>\n<tr>\n<td>2</td>\n<td>CustomerA</td>\n<td>15-Jan-2022</td>\n<td>20</td>\n</tr>\n<tr>\n<td>3</td>\n<td>CustomerB</td>\n<td>15-Jan-2022</td>\n<td>13</td>\n</tr>\n<tr>\n<td>1</td>\n<td>CustomerB</td>\n<td>16-Jan-2022</td>\n<td>15</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>And would like to display following table on webpage:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>CustomerID</th>\n<th>OrderDate</th>\n<th>TotalPrices</th>\n<th>Breakdown</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>CustomerA</td>\n<td>15-Jan-2022</td>\n<td>50</td>\n<td>Click me</td>\n</tr>\n<tr>\n<td>CustomerB</td>\n<td>15-Jan-2022</td>\n<td>13</td>\n<td>Click me</td>\n</tr>\n<tr>\n<td>CustomerB</td>\n<td>16-Jan-2022</td>\n<td>15</td>\n<td>Click me</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>When user click on the &quot;Click me&quot; for customerA on 15-Jan-2022, it will shows following:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>OrderID</th>\n<th>CustomerID</th>\n<th>OrderDate</th>\n<th>Prices</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>CustomerA</td>\n<td>15-Jan-2022</td>\n<td>30</td>\n</tr>\n<tr>\n<td>2</td>\n<td>CustomerA</td>\n<td>15-Jan-2022</td>\n<td>20</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The current possible solutions in my mind are following:</p>\n<ol>\n<li><p>User SQL consolidate to DB -&gt; Return the summary table to Java API -&gt; Send the summary table to Frontend -&gt; When user click on the &quot;Click Me&quot; button, will have another SQL call to retrieve the breakdown records.</p>\n</li>\n<li><p>Retrieve the DB records -&gt; Consolidate in Java API -&gt; Send the summary table and breakdowns to frontend.</p>\n</li>\n</ol>\n<p>Feel free to suggest for more ideas on this, thanks!</p>\n"},{"tags":["java","swing","jtextarea","jtextpane"],"answers":[{"tags":[],"owner":{"account_id":3135078,"reputation":1516,"user_id":2754695,"accept_rate":62,"display_name":"Constantin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1439238682,"creation_date":1439237975,"answer_id":31928409,"question_id":31928306,"body_markdown":"    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JTextPane;\r\n    import javax.swing.text.BadLocationException;\r\n    import javax.swing.text.Style;\r\n    import javax.swing.text.StyleConstants;\r\n    import javax.swing.text.StyledDocument;\r\n    \r\n    public class Example {\r\n    \r\n    \tpublic Example() {\r\n    \r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tJTextPane pane = new JTextPane();;\r\n    \t\tJButton button = new JButton(&quot;Button&quot;);\r\n     \t\t\r\n    \t\taddColoredText(pane, &quot;Red Text\\n&quot;, Color.RED);\r\n    \t\taddColoredText(pane, &quot;Blue Text\\n&quot;, Color.BLUE);\r\n    \t\t\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tpane.setPreferredSize(new Dimension(200, 200));\r\n    \t\tframe.getContentPane().add(pane, BorderLayout.CENTER);\r\n    \t\tframe.getContentPane().add(button, BorderLayout.WEST);\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew Example();\r\n    \t}\r\n    \t\r\n    \tpublic void addColoredText(JTextPane pane, String text, Color color) {\r\n            StyledDocument doc = pane.getStyledDocument();\r\n    \r\n            Style style = pane.addStyle(&quot;Color Style&quot;, null);\r\n            StyleConstants.setForeground(style, color);\r\n            try {\r\n    \t\t\tdoc.insertString(doc.getLength(), text, style);\r\n    \t\t} \r\n            catch (BadLocationException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} \t\t\t\r\n    \t}\r\n    }\r\n\r\nTry this example\r\n\r\n","title":"How to create and use a JTextPane","body":"<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JTextPane;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.Style;\nimport javax.swing.text.StyleConstants;\nimport javax.swing.text.StyledDocument;\n\npublic class Example {\n\n    public Example() {\n\n        JFrame frame = new JFrame();\n        JTextPane pane = new JTextPane();;\n        JButton button = new JButton(\"Button\");\n\n        addColoredText(pane, \"Red Text\\n\", Color.RED);\n        addColoredText(pane, \"Blue Text\\n\", Color.BLUE);\n\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        pane.setPreferredSize(new Dimension(200, 200));\n        frame.getContentPane().add(pane, BorderLayout.CENTER);\n        frame.getContentPane().add(button, BorderLayout.WEST);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new Example();\n    }\n\n    public void addColoredText(JTextPane pane, String text, Color color) {\n        StyledDocument doc = pane.getStyledDocument();\n\n        Style style = pane.addStyle(\"Color Style\", null);\n        StyleConstants.setForeground(style, color);\n        try {\n            doc.insertString(doc.getLength(), text, style);\n        } \n        catch (BadLocationException e) {\n            e.printStackTrace();\n        }           \n    }\n}\n</code></pre>\n\n<p>Try this example</p>\n"},{"tags":[],"owner":{"account_id":6516652,"reputation":29,"user_id":5042256,"display_name":"Pilotito_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439249269,"creation_date":1439238105,"answer_id":31928435,"question_id":31928306,"body_markdown":"I would recommend you to check out JavaFX, it has a much nicer UI. \r\nHowever, you are already using JPanel and JButton. You could use a JLabel to display the desired text, and use `JLabel.setTextFill(Color.WHITESMOKE)` to set the color of the text. ","title":"How to create and use a JTextPane","body":"<p>I would recommend you to check out JavaFX, it has a much nicer UI. \nHowever, you are already using JPanel and JButton. You could use a JLabel to display the desired text, and use <code>JLabel.setTextFill(Color.WHITESMOKE)</code> to set the color of the text. </p>\n"},{"tags":[],"owner":{"account_id":5730202,"reputation":1185,"user_id":4525976,"display_name":"Theo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439240118,"creation_date":1439240118,"answer_id":31928986,"question_id":31928306,"body_markdown":"This is a better start:\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.text.*;\r\n    import java.awt.*;\r\n \r\n    public class test  {\r\n    \r\n        public test() throws BadLocationException {\r\n    \r\n            JFrame frame = new JFrame();\r\n            DefaultStyledDocument document = new DefaultStyledDocument();\r\n            JTextPane pane = new JTextPane(document);\r\n            JPanel mainPanel = new JPanel();\r\n            JButton button = new JButton(&quot;Button&quot;);\r\n            button.setPreferredSize(new Dimension(100, 40));\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            pane.setPreferredSize(new Dimension(200, 200));\r\n            mainPanel.add(button);\r\n            frame.getContentPane().add(pane, BorderLayout.CENTER);\r\n            frame.getContentPane().add(mainPanel, BorderLayout.WEST);\r\n            StyleContext context = new StyleContext();\r\n            // build a style\r\n            Style style = context.addStyle(&quot;test&quot;, null);\r\n            // set some style properties\r\n            StyleConstants.setForeground(style, Color.BLACK);\r\n            document.insertString(0, &quot;Four: success \\n&quot;, style);\r\n            StyleConstants.setForeground(style, Color.RED);\r\n            document.insertString(0, &quot;Three: error \\n&quot;, style);\r\n            document.insertString(0, &quot;Two: error \\n&quot;, style);\r\n        \r\n            StyleConstants.setForeground(style, Color.BLACK);\r\n            // add some data to the document\r\n            document.insertString(0, &quot;One: success \\n&quot;, style);\r\n    \r\n    \r\n            //  StyleConstants.setForeground(style, Color.blue);\r\n    \r\n            frame.pack();\r\n            frame.setVisible(true);\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) throws BadLocationException {\r\n            new test();\r\n        }\r\n    }\r\n\r\nIt is quite basic, but should get you started. You can create different methods when you have to add text and cascade through the colours.","title":"How to create and use a JTextPane","body":"<p>This is a better start:</p>\n\n<pre><code>import javax.swing.*;\nimport javax.swing.text.*;\nimport java.awt.*;\n\npublic class test  {\n\n    public test() throws BadLocationException {\n\n        JFrame frame = new JFrame();\n        DefaultStyledDocument document = new DefaultStyledDocument();\n        JTextPane pane = new JTextPane(document);\n        JPanel mainPanel = new JPanel();\n        JButton button = new JButton(\"Button\");\n        button.setPreferredSize(new Dimension(100, 40));\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        pane.setPreferredSize(new Dimension(200, 200));\n        mainPanel.add(button);\n        frame.getContentPane().add(pane, BorderLayout.CENTER);\n        frame.getContentPane().add(mainPanel, BorderLayout.WEST);\n        StyleContext context = new StyleContext();\n        // build a style\n        Style style = context.addStyle(\"test\", null);\n        // set some style properties\n        StyleConstants.setForeground(style, Color.BLACK);\n        document.insertString(0, \"Four: success \\n\", style);\n        StyleConstants.setForeground(style, Color.RED);\n        document.insertString(0, \"Three: error \\n\", style);\n        document.insertString(0, \"Two: error \\n\", style);\n\n        StyleConstants.setForeground(style, Color.BLACK);\n        // add some data to the document\n        document.insertString(0, \"One: success \\n\", style);\n\n\n        //  StyleConstants.setForeground(style, Color.blue);\n\n        frame.pack();\n        frame.setVisible(true);\n\n    }\n\n    public static void main(String[] args) throws BadLocationException {\n        new test();\n    }\n}\n</code></pre>\n\n<p>It is quite basic, but should get you started. You can create different methods when you have to add text and cascade through the colours.</p>\n"},{"tags":[],"owner":{"account_id":25402561,"reputation":1,"user_id":19211773,"display_name":"Jing Qing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653630271,"creation_date":1653630271,"answer_id":72400946,"question_id":31928306,"body_markdown":"JTextPane disappears because adding multiple components to the same area will overwrite the new ones added later. So you need to add them to different areas.\r\n```java\r\nframe.add(pane);\r\nframe.add(button,BorderLayout.SOUTH);\r\n```\r\nLike this. I would recommend you to check out layout.","title":"How to create and use a JTextPane","body":"<p>JTextPane disappears because adding multiple components to the same area will overwrite the new ones added later. So you need to add them to different areas.</p>\n<pre class=\"lang-java prettyprint-override\"><code>frame.add(pane);\nframe.add(button,BorderLayout.SOUTH);\n</code></pre>\n<p>Like this. I would recommend you to check out layout.</p>\n"}],"owner":{"display_name":"user3808470"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16038,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31928409,"answer_count":4,"score":1,"last_activity_date":1653630271,"creation_date":1439237564,"question_id":31928306,"body_markdown":"I would like to create a program in Java that it is done this way:\n[![What I want][1]][1]\n\nA window containing a button and a component (JTextArea, JTextPane, etc.) that can&#39;t be modified in which appear some strings based on the execution of some work.\nAs seen from the drawing, if the job is successful the text will be black, if there were errors will be marked red.\n\nI managed to do everything correctly using a JTextArea and a JButton but I found that you can&#39;t change the color of the strings line by line.\n\nI read that should use a JTextPane but I haven&#39;t been able to use it.\nHere&#39;s the code I wrote:\n\n    public class Example {\n    \n       public Example() {\n            JFrame frame = new JFrame();\n            JTextPane pane = new JTextPane();\n            JButton button = new JButton(&quot;Button&quot;);\n        \n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            pane.setPreferredSize(new Dimension(200, 200));\n            frame.add(pane);\n            frame.add(button);\n            frame.pack();\n            frame.setVisible(true);\n        }\n\n        public static void main(String[] args) {\n            new Example();\n        }\n    }\n\nWhen I run the program, this is what is created:\n\n[![enter image description here][2]][2]\n\nWhere the TextPane?\n\nAlso, before I added the text in JTextArea using append(), I haven&#39;t found a similar method to the JTextPane there? How do you use it?\nHow do I change the color of a single line?\n\nI have read and seen and tried various examples found on the internet but I could not finish anything...\nThere are worked examples similar to this?\n\nI apologize for the &quot;generic&quot; request...\n\nThanks\n\n  [1]: http://i.stack.imgur.com/qRpY5.png\n  [2]: http://i.stack.imgur.com/6IBzx.png","title":"How to create and use a JTextPane","body":"<p>I would like to create a program in Java that it is done this way:\n<a href=\"https://i.stack.imgur.com/qRpY5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qRpY5.png\" alt=\"What I want\" /></a></p>\n<p>A window containing a button and a component (JTextArea, JTextPane, etc.) that can't be modified in which appear some strings based on the execution of some work.\nAs seen from the drawing, if the job is successful the text will be black, if there were errors will be marked red.</p>\n<p>I managed to do everything correctly using a JTextArea and a JButton but I found that you can't change the color of the strings line by line.</p>\n<p>I read that should use a JTextPane but I haven't been able to use it.\nHere's the code I wrote:</p>\n<pre><code>public class Example {\n\n   public Example() {\n        JFrame frame = new JFrame();\n        JTextPane pane = new JTextPane();\n        JButton button = new JButton(&quot;Button&quot;);\n    \n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        pane.setPreferredSize(new Dimension(200, 200));\n        frame.add(pane);\n        frame.add(button);\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new Example();\n    }\n}\n</code></pre>\n<p>When I run the program, this is what is created:</p>\n<p><a href=\"https://i.stack.imgur.com/6IBzx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6IBzx.png\" alt=\"enter image description here\" /></a></p>\n<p>Where the TextPane?</p>\n<p>Also, before I added the text in JTextArea using append(), I haven't found a similar method to the JTextPane there? How do you use it?\nHow do I change the color of a single line?</p>\n<p>I have read and seen and tried various examples found on the internet but I could not finish anything...\nThere are worked examples similar to this?</p>\n<p>I apologize for the &quot;generic&quot; request...</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","spring-data"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":1,"creation_date":1653630211,"post_id":72400882,"comment_id":127901771,"body_markdown":"Why you can not use Java HLC or Spring data ? you are calling API using Elastic URL and authentication details right then that is suffeciant for Java HLC and spring data.","body":"Why you can not use Java HLC or Spring data ? you are calling API using Elastic URL and authentication details right then that is suffeciant for Java HLC and spring data."},{"owner":{"account_id":10401081,"reputation":371,"user_id":7669315,"display_name":"JCB"},"score":0,"creation_date":1653654639,"post_id":72400882,"comment_id":127909194,"body_markdown":"@SagarPatel - I cannot call using Spring Data or Java HLC because the ES Clusters are not available for me to call. I only have access through a separate REST layer that accepts Query DSL as the body of the request. I have tried to use them both, and they complain that my REST endpoint is NOT the ES cluster instance.","body":"@SagarPatel - I cannot call using Spring Data or Java HLC because the ES Clusters are not available for me to call. I only have access through a separate REST layer that accepts Query DSL as the body of the request. I have tried to use them both, and they complain that my REST endpoint is NOT the ES cluster instance."},{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":1,"creation_date":1653656222,"post_id":72400882,"comment_id":127909789,"body_markdown":"ok got it.. You have intermiddiate layer or proxy layer and request is going through it. If this is the case then you can not use `SearchResponse` object as well. You need to conver response to `JsonObject` then you can peform other task like getting document or hit etc.","body":"ok got it.. You have intermiddiate layer or proxy layer and request is going through it. If this is the case then you can not use <code>SearchResponse</code> object as well. You need to conver response to <code>JsonObject</code> then you can peform other task like getting document or hit etc."}],"owner":{"account_id":10401081,"reputation":371,"user_id":7669315,"display_name":"JCB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653629610,"creation_date":1653629610,"question_id":72400882,"body_markdown":"I am using the Spring Rest Template to call a REST endpoint that houses the ElasticSearch (ES) cluster instance. I have NO access to the ES cluster instance. This is why I cannot use Spring Data ES, nor could I use the Java Rest Highlevel Client. I only have access through the REST endpoint which accepts Query DSL in the post request, and provides the raw JSON response that the ES Instance uses. \r\n\r\nI would like to know, in this situation, what is the best approach to get an unmarshalled version of the JSON search response from the REST endpoint? I tried to use the SearchResponse object that Elastic Search provides, but the Rest Template barfed with the following exception.\r\n\r\n    org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.elasticsearch.action.search.SearchResponse]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.elasticsearch.action.search.SearchResponse` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n     at [Source: (PushbackInputStream); line: 1, column: 2]\r\n\r\nHere is a snippet of the response\r\n\r\n    {\r\n        &quot;took&quot;: 1034,\r\n        &quot;timed_out&quot;: false,\r\n        &quot;_shards&quot;: {\r\n            &quot;total&quot;: 608,\r\n            &quot;successful&quot;: 608,\r\n            &quot;skipped&quot;: 542,\r\n            &quot;failed&quot;: 0\r\n        },\r\n        &quot;hits&quot;: {\r\n            &quot;total&quot;: {\r\n                &quot;value&quot;: 17,\r\n                &quot;relation&quot;: &quot;eq&quot;\r\n            },\r\n            &quot;max_score&quot;: null,\r\n            &quot;hits&quot;: [\r\n                {\r\n                    &quot;_index&quot;: &quot;some-index&quot;,\r\n                    &quot;_type&quot;: &quot;_doc&quot;,\r\n                    &quot;_id&quot;: &quot;some-id&quot;,\r\n                    &quot;_score&quot;: null,\r\n                    &quot;_source&quot;: {\r\n    ...","title":"How do I Unmarshal an Elasticsearch JSON Response?","body":"<p>I am using the Spring Rest Template to call a REST endpoint that houses the ElasticSearch (ES) cluster instance. I have NO access to the ES cluster instance. This is why I cannot use Spring Data ES, nor could I use the Java Rest Highlevel Client. I only have access through the REST endpoint which accepts Query DSL in the post request, and provides the raw JSON response that the ES Instance uses.</p>\n<p>I would like to know, in this situation, what is the best approach to get an unmarshalled version of the JSON search response from the REST endpoint? I tried to use the SearchResponse object that Elastic Search provides, but the Rest Template barfed with the following exception.</p>\n<pre><code>org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.elasticsearch.action.search.SearchResponse]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.elasticsearch.action.search.SearchResponse` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n at [Source: (PushbackInputStream); line: 1, column: 2]\n</code></pre>\n<p>Here is a snippet of the response</p>\n<pre><code>{\n    &quot;took&quot;: 1034,\n    &quot;timed_out&quot;: false,\n    &quot;_shards&quot;: {\n        &quot;total&quot;: 608,\n        &quot;successful&quot;: 608,\n        &quot;skipped&quot;: 542,\n        &quot;failed&quot;: 0\n    },\n    &quot;hits&quot;: {\n        &quot;total&quot;: {\n            &quot;value&quot;: 17,\n            &quot;relation&quot;: &quot;eq&quot;\n        },\n        &quot;max_score&quot;: null,\n        &quot;hits&quot;: [\n            {\n                &quot;_index&quot;: &quot;some-index&quot;,\n                &quot;_type&quot;: &quot;_doc&quot;,\n                &quot;_id&quot;: &quot;some-id&quot;,\n                &quot;_score&quot;: null,\n                &quot;_source&quot;: {\n...\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1653628657,"post_id":72400698,"comment_id":127901475,"body_markdown":"`jpg` doesn&#39;t support alpha based colors - ie `BufferedImage.TYPE_INT_ARGB`","body":"<code>jpg</code> doesn&#39;t support alpha based colors - ie <code>BufferedImage.TYPE_INT_ARGB</code>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653629207,"creation_date":1653629207,"answer_id":72400831,"question_id":72400698,"body_markdown":"So, beware, not all image formats will support transparency (ie `BufferedImage.TYPE_INT_ARGB`), so, make sure you actually know where the file is been written, it might &quot;appear&quot; as it&#39;s not getting written, but it might be getting written to some place you&#39;re not expecting.\r\n\r\nSo, the following example works just fine, pay attention to the output at the end of the file, it&#39;s telling the directory the images were written to.\r\n\r\n    import java.awt.Graphics2D;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            try {\r\n                new Main();\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n\r\n        public Main() throws MalformedURLException, IOException {\r\n            BufferedImage original = ImageIO.read(new URL(&quot;http://www.fullerton.edu/_resources/images/empowerment-james.jpg&quot;));\r\n            BufferedImage mirrored = new BufferedImage(original.getWidth(), original.getHeight(), original.getTransparency());\r\n            Graphics2D g2d = mirrored.createGraphics();\r\n            g2d.setTransform(AffineTransform.getScaleInstance(-1, 1));\r\n            g2d.drawImage(original, -original.getWidth(), 0, null);\r\n            g2d.dispose();\r\n\r\n            JPanel panel = new JPanel();\r\n            panel.add(new JLabel(new ImageIcon(original)));\r\n            panel.add(new JLabel(new ImageIcon(mirrored)));\r\n\r\n            JOptionPane.showMessageDialog(null, panel);\r\n\r\n            System.out.println(&quot;Writing to &quot; + System.getProperty(&quot;user.dir&quot;));\r\n\r\n            ImageIO.write(mirrored, &quot;png&quot;, new File(&quot;Test.png&quot;));\r\n            ImageIO.write(mirrored, &quot;jpg&quot;, new File(&quot;Test.jpg&quot;));\r\n        }\r\n\r\n\r\n    }\r\n","title":"ImageIO.write a mirrored image only functional in png in Java","body":"<p>So, beware, not all image formats will support transparency (ie <code>BufferedImage.TYPE_INT_ARGB</code>), so, make sure you actually know where the file is been written, it might &quot;appear&quot; as it's not getting written, but it might be getting written to some place you're not expecting.</p>\n<p>So, the following example works just fine, pay attention to the output at the end of the file, it's telling the directory the images were written to.</p>\n<pre><code>import java.awt.Graphics2D;\nimport java.awt.geom.AffineTransform;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        try {\n            new Main();\n        } catch (IOException ex) {\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n    public Main() throws MalformedURLException, IOException {\n        BufferedImage original = ImageIO.read(new URL(&quot;http://www.fullerton.edu/_resources/images/empowerment-james.jpg&quot;));\n        BufferedImage mirrored = new BufferedImage(original.getWidth(), original.getHeight(), original.getTransparency());\n        Graphics2D g2d = mirrored.createGraphics();\n        g2d.setTransform(AffineTransform.getScaleInstance(-1, 1));\n        g2d.drawImage(original, -original.getWidth(), 0, null);\n        g2d.dispose();\n\n        JPanel panel = new JPanel();\n        panel.add(new JLabel(new ImageIcon(original)));\n        panel.add(new JLabel(new ImageIcon(mirrored)));\n\n        JOptionPane.showMessageDialog(null, panel);\n\n        System.out.println(&quot;Writing to &quot; + System.getProperty(&quot;user.dir&quot;));\n\n        ImageIO.write(mirrored, &quot;png&quot;, new File(&quot;Test.png&quot;));\n        ImageIO.write(mirrored, &quot;jpg&quot;, new File(&quot;Test.jpg&quot;));\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":25402354,"reputation":3,"user_id":19211606,"display_name":"Yiwei Tu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72400831,"answer_count":1,"score":0,"last_activity_date":1653629207,"creation_date":1653628132,"question_id":72400698,"body_markdown":"I was using ImageIO to write a mirror image to the local file. However, I found that the mirrored image file would be created only if I wrote the image to png file. Please note that the original image was in jpg format. If I change the ImageIO.write format to &quot;jpg&quot; or some formats other than &quot;png&quot;, no image file would be created.\r\n\r\n    BufferedImage image = null;\r\n    URL url = null;\r\n    String link = &quot;http://www.fullerton.edu/_resources/images/empowerment-james.jpg&quot;;\r\n    try {\r\n    \r\n        url = new URL(link);\r\n        image = ImageIO.read(url);\r\n        width = image.getWidth();\r\n        height = image.getHeight();\r\n    \r\n        BufferedImage mirror = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n    \r\n        for (int y = 0; y &lt; height; y++) {\r\n            for (int lx = 0, rx = width - 1; lx &lt; width; lx++, rx--) {\r\n                int lp = image.getRGB(lx, y);\r\n    \r\n                mirror.setRGB(rx, y, lp);\r\n    \r\n            }\r\n        }\r\n        JFrame frame2 = new JFrame();\r\n        frame2.setSize(width + offset, height + offset);\r\n        JLabel label2 = new JLabel(new ImageIcon(mirror));\r\n        frame2.add(label2);\r\n        frame2.setVisible(true);\r\n        file = new File(&quot;mirror.png&quot;);\r\n    \r\n        ImageIO.write(mirror, &quot;png&quot;, file);\r\n    } catch (IOException e) {\r\n        System.out.println(e.getMessage());\r\n    }","title":"ImageIO.write a mirrored image only functional in png in Java","body":"<p>I was using ImageIO to write a mirror image to the local file. However, I found that the mirrored image file would be created only if I wrote the image to png file. Please note that the original image was in jpg format. If I change the ImageIO.write format to &quot;jpg&quot; or some formats other than &quot;png&quot;, no image file would be created.</p>\n<pre><code>BufferedImage image = null;\nURL url = null;\nString link = &quot;http://www.fullerton.edu/_resources/images/empowerment-james.jpg&quot;;\ntry {\n\n    url = new URL(link);\n    image = ImageIO.read(url);\n    width = image.getWidth();\n    height = image.getHeight();\n\n    BufferedImage mirror = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n\n    for (int y = 0; y &lt; height; y++) {\n        for (int lx = 0, rx = width - 1; lx &lt; width; lx++, rx--) {\n            int lp = image.getRGB(lx, y);\n\n            mirror.setRGB(rx, y, lp);\n\n        }\n    }\n    JFrame frame2 = new JFrame();\n    frame2.setSize(width + offset, height + offset);\n    JLabel label2 = new JLabel(new ImageIcon(mirror));\n    frame2.add(label2);\n    frame2.setVisible(true);\n    file = new File(&quot;mirror.png&quot;);\n\n    ImageIO.write(mirror, &quot;png&quot;, file);\n} catch (IOException e) {\n    System.out.println(e.getMessage());\n}\n</code></pre>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1653514777,"post_id":72384358,"comment_id":127874567,"body_markdown":"Not sure what you mean by saying that class `a` &quot;mocks a class `b`&quot;.  Can you show us some code to illustrate your point?","body":"Not sure what you mean by saying that class <code>a</code> &quot;mocks a class <code>b</code>&quot;.  Can you show us some code to illustrate your point?"},{"owner":{"account_id":9795689,"reputation":1259,"user_id":7258827,"display_name":"AppleCiderGuy"},"score":0,"creation_date":1653521031,"post_id":72384358,"comment_id":127875762,"body_markdown":"which class are you writing unit test for ? class A ?","body":"which class are you writing unit test for ? class A ?"}],"answers":[{"tags":[],"owner":{"account_id":12914655,"reputation":1112,"user_id":9339330,"display_name":"Min Hyoung Hong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653527420,"creation_date":1653527420,"answer_id":72385619,"question_id":72384358,"body_markdown":"`Beta` can be also mock object.\r\n\r\nfor example\r\n```\r\n@Mock\r\nAlpha alpha;\r\n\r\n@Mock\r\nBeta beta;\r\n\r\n...\r\n\r\nwhen(alpha.getBeta()).thenReturn(beta);   // now you get mocked beta from alpha\r\nwhen(beta.getStrings()).thenReturn(&quot;mock string&quot;);\r\n```","title":"Junit/Mockito how to mock an object called from class b which is called from class a","body":"<p><code>Beta</code> can be also mock object.</p>\n<p>for example</p>\n<pre><code>@Mock\nAlpha alpha;\n\n@Mock\nBeta beta;\n\n...\n\nwhen(alpha.getBeta()).thenReturn(beta);   // now you get mocked beta from alpha\nwhen(beta.getStrings()).thenReturn(&quot;mock string&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653629129,"creation_date":1653629129,"answer_id":72400824,"question_id":72384358,"body_markdown":"You need to find a way of injecting your `Beta` mock into the `Alpha` object that you&#39;re testing.  Otherwise, your `Alpha` object will just have the `Beta` that was created at the line \r\n\r\n    Beta beta = new Beta();\r\n\r\nOne way to do that would be to have a `setBeta` method in your `Alpha` class, which you could then call in your test.\r\n\r\nAnother way would be to refactor your `Alpha` class so that it gets its `Beta` object from a factory, and then inject the factory when you construct the `Alpha` object.  This is &quot;pattern 2&quot; in [my article here](https://code.google.com/archive/p/mockito/wikis/MockingObjectCreation.wiki)","title":"Junit/Mockito how to mock an object called from class b which is called from class a","body":"<p>You need to find a way of injecting your <code>Beta</code> mock into the <code>Alpha</code> object that you're testing.  Otherwise, your <code>Alpha</code> object will just have the <code>Beta</code> that was created at the line</p>\n<pre><code>Beta beta = new Beta();\n</code></pre>\n<p>One way to do that would be to have a <code>setBeta</code> method in your <code>Alpha</code> class, which you could then call in your test.</p>\n<p>Another way would be to refactor your <code>Alpha</code> class so that it gets its <code>Beta</code> object from a factory, and then inject the factory when you construct the <code>Alpha</code> object.  This is &quot;pattern 2&quot; in <a href=\"https://code.google.com/archive/p/mockito/wikis/MockingObjectCreation.wiki\" rel=\"nofollow noreferrer\">my article here</a></p>\n"}],"owner":{"account_id":14735132,"reputation":1,"user_id":10902811,"display_name":"Bootham Deyyam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653629129,"creation_date":1653514005,"question_id":72384358,"body_markdown":"I have a class called a, which mocks a class b.\r\n\r\nClass b has a method which is creating an object by calling a data access object (DAO) c. That is, \r\n`a.method1 -&gt; b.method2` which internally calls `c.getdata()`.\r\n\r\nWhen I try to create a unit test I get object c is null. How do I resolve this issue?\r\n\r\n```java\r\n  class Alpha {\r\n      \r\n  \tString abc;\r\n  \tBeta beta = new Beta();\r\n  \tList&lt;String&gt; seriesOfStgs = new ArrayList&lt;&gt;();\r\n  \t\r\n  \tpublic void alphaMethod() {\r\n  \t\tseriesOfStgs.addAll(beta.getStrings());\r\n  \t}\r\n  }\r\n\r\n  class Beta {\r\n      \r\n  \tStringDao stringDao = new StringDao();\r\n  \t\r\n  \tpublic List&lt;String&gt; getStrings() {\r\n  \t\treturn stringDao.getListOfStrings();\r\n  \t}\r\n  }\r\n```\r\n\r\nIf you see above, I have 2 separate classes `Alpha` and `Beta`. I am writing the test for `Alpha`. I am able to mock `Beta` in my JUnit test, `TestAlpha.java`.\r\nI am getting a null pointer exception when I try to get the strings because `stringDao` is null. \r\n\r\nHow do I instantiate `stringDao` in `TestAlpha`, or how do I pass a reference to `StringDao`?","title":"Junit/Mockito how to mock an object called from class b which is called from class a","body":"<p>I have a class called a, which mocks a class b.</p>\n<p>Class b has a method which is creating an object by calling a data access object (DAO) c. That is,\n<code>a.method1 -&gt; b.method2</code> which internally calls <code>c.getdata()</code>.</p>\n<p>When I try to create a unit test I get object c is null. How do I resolve this issue?</p>\n<pre class=\"lang-java prettyprint-override\"><code>  class Alpha {\n      \n    String abc;\n    Beta beta = new Beta();\n    List&lt;String&gt; seriesOfStgs = new ArrayList&lt;&gt;();\n    \n    public void alphaMethod() {\n        seriesOfStgs.addAll(beta.getStrings());\n    }\n  }\n\n  class Beta {\n      \n    StringDao stringDao = new StringDao();\n    \n    public List&lt;String&gt; getStrings() {\n        return stringDao.getListOfStrings();\n    }\n  }\n</code></pre>\n<p>If you see above, I have 2 separate classes <code>Alpha</code> and <code>Beta</code>. I am writing the test for <code>Alpha</code>. I am able to mock <code>Beta</code> in my JUnit test, <code>TestAlpha.java</code>.\nI am getting a null pointer exception when I try to get the strings because <code>stringDao</code> is null.</p>\n<p>How do I instantiate <code>stringDao</code> in <code>TestAlpha</code>, or how do I pass a reference to <code>StringDao</code>?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653634831,"post_id":72400776,"comment_id":127902801,"body_markdown":"Why do you like to change the version manually? Release plugin supports that via `mvn release:prepare -DdevelopmentVersion=DEVVERSION -DreleaseVersion=RELEASEVERSION` ... ? Apart from that if you use release plugin it&#39;s assuming that you work via `1.0-SNAPSHOT..1.0...1.1-SNAPSHOT..1.1...1.2-SNAPSHOT` etc.","body":"Why do you like to change the version manually? Release plugin supports that via <code>mvn release:prepare -DdevelopmentVersion=DEVVERSION -DreleaseVersion=RELEASEVERSION</code> ... ? Apart from that if you use release plugin it&#39;s assuming that you work via <code>1.0-SNAPSHOT..1.0...1.1-SNAPSHOT..1.1...1.2-SNAPSHOT</code> etc."},{"owner":{"account_id":9206713,"reputation":115,"user_id":6841669,"display_name":"Harsha Chittepu"},"score":0,"creation_date":1653635119,"post_id":72400776,"comment_id":127902885,"body_markdown":"@khmarbaise Release plugin is expecting a SNAPSHOT version for next-dev cycle. Let&#39;s say I released the version 1.2.0, release plugin suggests to have 1.2.1-SNAPSHOT as next dev version. But I want the dev version to be 1.2.0 or anything without SNAPSHOT. Is this possible ?","body":"@khmarbaise Release plugin is expecting a SNAPSHOT version for next-dev cycle. Let&#39;s say I released the version 1.2.0, release plugin suggests to have 1.2.1-SNAPSHOT as next dev version. But I want the dev version to be 1.2.0 or anything without SNAPSHOT. Is this possible ?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653636724,"post_id":72400776,"comment_id":127903348,"body_markdown":"A dev version which is the same as a release versions makes no sense..If you like to change the strategy how it works you could take a look because since 3.0.0-MX there is a possible strategy https://maven.apache.org/maven-release/maven-release-plugin/prepare-mojo.html#releaseStrategyId and other things...","body":"A dev version which is the same as a release versions makes no sense..If you like to change the strategy how it works you could take a look because since 3.0.0-MX there is a possible strategy <a href=\"https://maven.apache.org/maven-release/maven-release-plugin/prepare-mojo.html#releaseStrategyId\" rel=\"nofollow noreferrer\">maven.apache.org/maven-release/maven-release-plugin/&hellip;</a> and other things..."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1653640387,"post_id":72400776,"comment_id":127904589,"body_markdown":"@HarshaChittepu SNAPSHOT versions for development are very handy because you can create the same version multiple times. You cannot do that properly with release versions.","body":"@HarshaChittepu SNAPSHOT versions for development are very handy because you can create the same version multiple times. You cannot do that properly with release versions."}],"owner":{"account_id":9206713,"reputation":115,"user_id":6841669,"display_name":"Harsha Chittepu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653628761,"creation_date":1653628761,"question_id":72400776,"body_markdown":"I have a use case where during release, I create a release branch and run mvn release plugin on it to release the artifacts. While doing mvn release:prepare, it expects to have a SNAPSHOT version for next development iteration. Is there a way to avoid having a SNAPSHOT project version for next dev iteration ? I intend to change the version manually if I do another release.","title":"Is there a way to not change the maven project version for next development iteration during release-prepare?","body":"<p>I have a use case where during release, I create a release branch and run mvn release plugin on it to release the artifacts. While doing mvn release:prepare, it expects to have a SNAPSHOT version for next development iteration. Is there a way to avoid having a SNAPSHOT project version for next dev iteration ? I intend to change the version manually if I do another release.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8681,"page":1311,"page_size":100}
