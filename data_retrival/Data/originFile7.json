{"items":[{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1511232,"reputation":1744,"user_id":1413310,"display_name":"csd"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1555629496,"creation_date":1340806692,"answer_id":11228311,"question_id":11228218,"body_markdown":"Java&#39;s built-in Properties class doesn&#39;t do what you&#39;re looking for.\r\n\r\nBut there are third-party libraries out there that do.  [Commons Configuration][1] is one that I have used with some success.  The [`PropertiesConfiguration`][2] class does exactly what you&#39;re looking for.\r\n\r\nSo you might have a file named `my.properties` that looks like this:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    key1=value1\r\n    key2=Something and ${key1}\r\n\r\n\r\nCode that uses this file might look like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    CompositeConfiguration config = new CompositeConfiguration();\r\n    config.addConfiguration(new SystemConfiguration());\r\n    config.addConfiguration(new PropertiesConfiguration(&quot;my.properties&quot;));\r\n\r\n    String myValue = config.getString(&quot;key2&quot;);\r\n\r\n`myValue` will be `&quot;Something and value1&quot;`.\r\n\r\n  [1]: http://commons.apache.org/configuration/\r\n  [2]: http://commons.apache.org/proper/commons-configuration/apidocs/org/apache/commons/configuration2/PropertiesConfiguration.html","title":"Properties file: Use key as variable","body":"<p>Java's built-in Properties class doesn't do what you're looking for.</p>\n\n<p>But there are third-party libraries out there that do.  <a href=\"http://commons.apache.org/configuration/\" rel=\"noreferrer\">Commons Configuration</a> is one that I have used with some success.  The <a href=\"http://commons.apache.org/proper/commons-configuration/apidocs/org/apache/commons/configuration2/PropertiesConfiguration.html\" rel=\"noreferrer\"><code>PropertiesConfiguration</code></a> class does exactly what you're looking for.</p>\n\n<p>So you might have a file named <code>my.properties</code> that looks like this:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>key1=value1\nkey2=Something and ${key1}\n</code></pre>\n\n<p>Code that uses this file might look like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>CompositeConfiguration config = new CompositeConfiguration();\nconfig.addConfiguration(new SystemConfiguration());\nconfig.addConfiguration(new PropertiesConfiguration(\"my.properties\"));\n\nString myValue = config.getString(\"key2\");\n</code></pre>\n\n<p><code>myValue</code> will be <code>\"Something and value1\"</code>.</p>\n"},{"tags":[],"owner":{"account_id":169796,"reputation":895,"user_id":396092,"accept_rate":62,"display_name":"vandershraaf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1340807204,"creation_date":1340807204,"answer_id":11228478,"question_id":11228218,"body_markdown":"When you define the value of a key in properties file, it will be parsed as literal value. So when you define `key3= ${key1}`, key3 will have value of &quot;${key1}&quot;. \r\n\r\nhttp://docs.oracle.com/javase/1.4.2/docs/api/java/util/Properties.html#load(java.io.InputStream)\r\n\r\nI agree with csd, the plain configuration file may not be your choice. I prefer using Apache Ant ( http://ant.apache.org/ ), where you can do something like this:\r\n\r\n    &lt;property name=&quot;src.dir&quot; value=&quot;src&quot;/&gt;\r\n    &lt;property name=&quot;conf.dir&quot; value=&quot;conf&quot; /&gt;\r\n\r\nThen later when you want to use key &#39;src.dir&#39;, just call it something like this:\r\n\r\n    &lt;dirset dir=&quot;${src.dir}&quot;/&gt;\r\n\r\nAnother good thing about using Apache Ant is you also can load the .properties file into Ant build file. Just import it like this:\r\n\r\n    &lt;loadproperties srcFile=&quot;file.properties&quot;/&gt;\r\n","title":"Properties file: Use key as variable","body":"<p>When you define the value of a key in properties file, it will be parsed as literal value. So when you define <code>key3= ${key1}</code>, key3 will have value of \"${key1}\". </p>\n\n<p><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Properties.html#load(java.io.InputStream\" rel=\"nofollow\">http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Properties.html#load(java.io.InputStream</a>)</p>\n\n<p>I agree with csd, the plain configuration file may not be your choice. I prefer using Apache Ant ( <a href=\"http://ant.apache.org/\" rel=\"nofollow\">http://ant.apache.org/</a> ), where you can do something like this:</p>\n\n<pre><code>&lt;property name=\"src.dir\" value=\"src\"/&gt;\n&lt;property name=\"conf.dir\" value=\"conf\" /&gt;\n</code></pre>\n\n<p>Then later when you want to use key 'src.dir', just call it something like this:</p>\n\n<pre><code>&lt;dirset dir=\"${src.dir}\"/&gt;\n</code></pre>\n\n<p>Another good thing about using Apache Ant is you also can load the .properties file into Ant build file. Just import it like this:</p>\n\n<pre><code>&lt;loadproperties srcFile=\"file.properties\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":482765,"reputation":4526,"user_id":897373,"accept_rate":85,"display_name":"Saša"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364501050,"creation_date":1364501050,"answer_id":15691128,"question_id":11228218,"body_markdown":".xmlEven better: use the latest Maven.\r\nYou can do some neat stuff with maven. In this case you can make an .properties file with this  lines in it:\r\n\r\n    key1 = ${src1.dir}\r\n    key2 = ${src1.dir}/${filename}\r\n    key3 = ${project.basedir}\r\n\r\nin the maven&#39;s pom.xml file (placed in the root of your project) you should do something like this:\r\n\r\n    &lt;resources&gt;\r\n        &lt;resource&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;directory&gt;just-path-to-the-properties-file-without-it&lt;/directory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;file-name-to-be-filtered&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n\r\n    ...\r\n    \r\n    &lt;properties&gt;\r\n        &lt;src1.dir&gt;/home/root&lt;/src1.dir&gt;\r\n        &lt;filename&gt;some-file-name&lt;/filename&gt;\r\n    &lt;/properties&gt;\r\n\r\nThat way you would have keys values changed in build time, which means that after compiling you will have this values inside your properties file:\r\n\r\n    key1 = /home/root\r\n    key2 = /home/root/some-file-name\r\n    key3 = the-path-to-your-project\r\n\r\ncompile with this line when you are in the same dir as pom.xml file:\r\nmvn clean install -DskipTests","title":"Properties file: Use key as variable","body":"<p>.xmlEven better: use the latest Maven.\nYou can do some neat stuff with maven. In this case you can make an .properties file with this  lines in it:</p>\n\n<pre><code>key1 = ${src1.dir}\nkey2 = ${src1.dir}/${filename}\nkey3 = ${project.basedir}\n</code></pre>\n\n<p>in the maven's pom.xml file (placed in the root of your project) you should do something like this:</p>\n\n<pre><code>&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;directory&gt;just-path-to-the-properties-file-without-it&lt;/directory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;file-name-to-be-filtered&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/resource&gt;\n&lt;/resources&gt;\n\n...\n\n&lt;properties&gt;\n    &lt;src1.dir&gt;/home/root&lt;/src1.dir&gt;\n    &lt;filename&gt;some-file-name&lt;/filename&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>That way you would have keys values changed in build time, which means that after compiling you will have this values inside your properties file:</p>\n\n<pre><code>key1 = /home/root\nkey2 = /home/root/some-file-name\nkey3 = the-path-to-your-project\n</code></pre>\n\n<p>compile with this line when you are in the same dir as pom.xml file:\nmvn clean install -DskipTests</p>\n"}],"owner":{"account_id":1605783,"reputation":161,"user_id":1485913,"display_name":"Khalil Pokari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44027,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1702016686,"creation_date":1340806395,"question_id":11228218,"body_markdown":"I want to use a key defined in properties file as a variable like this:\r\n\r\n    key1= value1\r\n    key2= value2\r\n    key3= key1\r\n\r\nI tried: \r\n\r\n    key3= {key1}\r\n\r\nor\r\n\r\n    key3= ${key1}\r\n\r\nBut it doesn&#39;t work. Any ideas?\r\n","title":"Properties file: Use key as variable","body":"<p>I want to use a key defined in properties file as a variable like this:</p>\n<pre><code>key1= value1\nkey2= value2\nkey3= key1\n</code></pre>\n<p>I tried:</p>\n<pre><code>key3= {key1}\n</code></pre>\n<p>or</p>\n<pre><code>key3= ${key1}\n</code></pre>\n<p>But it doesn't work. Any ideas?</p>\n"},{"tags":["java","spring","spring-boot","firebase","google-cloud-firestore"],"owner":{"account_id":23066331,"reputation":47,"user_id":17180696,"display_name":"Leo Tran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702016351,"creation_date":1702016351,"question_id":77624685,"body_markdown":"I&#39;m learning Springboot framework and try to fetch data from firestore. I added the Google dependencies and follow google document to connect with the firebase project. However, when I tried to get data from firestore, I got error. Here is my code to fetch data from firestore \r\n\r\n    try {\r\n\t\t\tFirestore firestore = FirestoreOptions.getDefaultInstance().getService();\r\n\t\t\tSystem.out.println(&quot;Firestore: &quot; + firestore);\r\n\t\t\t// Specify the collection you want to retrieve documents from\r\n\t\t\tString collectionName = &quot;user&quot;;\r\n\r\n\t\t\t// Asynchronously retrieve all documents from the specified collection\r\n\t\t\tApiFuture&lt;QuerySnapshot&gt; future = firestore.collection(collectionName).get();\r\n\r\n\r\n\t\t\t// Get the result of the future and retrieve the documents\r\n\t\t\tQuerySnapshot querySnapshot = future.get();\r\n\t\t\tfor (QueryDocumentSnapshot document : querySnapshot) {\r\n\t\t\t\t// Document id (user id)\r\n\t\t\t\tString userId = document.getId();\r\n\r\n\t\t\t\t// Access other fields in the document\r\n\t\t\t\tObject userData = document.getData();\r\n\r\n\t\t\t\tSystem.out.println(&quot;User ID: &quot; + userId);\r\n\t\t\t\tSystem.out.println(&quot;User Data: &quot; + userData);\r\n\t\t\t\tSystem.out.println(&quot;-------------&quot;);\r\n\t\t\t}\r\n\t\t} catch (InterruptedException | ExecutionException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nI got error \r\n\r\n    Exception in thread &quot;main&quot; com.google.cloud.firestore.FirestoreException: java.lang.NullPointerException\r\n\tat com.google.cloud.firestore.FirestoreException.forIOException(FirestoreException.java:94)\r\n\tat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreRpcFactory.create(FirestoreOptions.java:90)\r\n\tat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreRpcFactory.create(FirestoreOptions.java:80)\r\n\tat com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:564)\r\n\tat com.google.cloud.firestore.FirestoreOptions.getFirestoreRpc(FirestoreOptions.java:358)\r\n\tat com.google.cloud.firestore.FirestoreImpl.&lt;init&gt;(FirestoreImpl.java:79)\r\n\tat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreFactory.create(FirestoreOptions.java:71)\r\n\tat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreFactory.create(FirestoreOptions.java:64)\r\n\r\n\r\nI tried to get data from the user collection. Here is how my firestore database looks. Have anyone know the solution? Thank you for reading my question!\r\n[![enter image description here][1]][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KLHjA.png","title":"Connet Springboot with Firestore","body":"<p>I'm learning Springboot framework and try to fetch data from firestore. I added the Google dependencies and follow google document to connect with the firebase project. However, when I tried to get data from firestore, I got error. Here is my code to fetch data from firestore</p>\n<pre><code>try {\n        Firestore firestore = FirestoreOptions.getDefaultInstance().getService();\n        System.out.println(&quot;Firestore: &quot; + firestore);\n        // Specify the collection you want to retrieve documents from\n        String collectionName = &quot;user&quot;;\n\n        // Asynchronously retrieve all documents from the specified collection\n        ApiFuture&lt;QuerySnapshot&gt; future = firestore.collection(collectionName).get();\n\n\n        // Get the result of the future and retrieve the documents\n        QuerySnapshot querySnapshot = future.get();\n        for (QueryDocumentSnapshot document : querySnapshot) {\n            // Document id (user id)\n            String userId = document.getId();\n\n            // Access other fields in the document\n            Object userData = document.getData();\n\n            System.out.println(&quot;User ID: &quot; + userId);\n            System.out.println(&quot;User Data: &quot; + userData);\n            System.out.println(&quot;-------------&quot;);\n        }\n    } catch (InterruptedException | ExecutionException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>I got error</p>\n<pre><code>Exception in thread &quot;main&quot; com.google.cloud.firestore.FirestoreException: java.lang.NullPointerException\nat com.google.cloud.firestore.FirestoreException.forIOException(FirestoreException.java:94)\nat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreRpcFactory.create(FirestoreOptions.java:90)\nat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreRpcFactory.create(FirestoreOptions.java:80)\nat com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:564)\nat com.google.cloud.firestore.FirestoreOptions.getFirestoreRpc(FirestoreOptions.java:358)\nat com.google.cloud.firestore.FirestoreImpl.&lt;init&gt;(FirestoreImpl.java:79)\nat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreFactory.create(FirestoreOptions.java:71)\nat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreFactory.create(FirestoreOptions.java:64)\n</code></pre>\n<p>I tried to get data from the user collection. Here is how my firestore database looks. Have anyone know the solution? Thank you for reading my question!\n<a href=\"https://i.stack.imgur.com/KLHjA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KLHjA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","xml","rest"],"answers":[{"tags":[],"owner":{"account_id":5297337,"reputation":161,"user_id":4228152,"accept_rate":40,"display_name":"Muhammad Abu Bakr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1702016292,"creation_date":1702016292,"answer_id":77624680,"question_id":77624610,"body_markdown":"You can do something like below:\r\n    \r\n    public class Counter {\r\n         private String user;\r\n         private String number;\r\n         //getters, setters\r\n    }\r\n\r\nAdd above counter in your root class as a List.\r\n\r\n    @XmlRootElement( name = &quot;counters&quot; )\r\n    public class CounterInfo {\r\n        private List&lt;Counter&gt; counter;\r\n        //getters and setters\r\n    }\r\n","title":"Convert POJO with HashMap to XML","body":"<p>You can do something like below:</p>\n<pre><code>public class Counter {\n     private String user;\n     private String number;\n     //getters, setters\n}\n</code></pre>\n<p>Add above counter in your root class as a List.</p>\n<pre><code>@XmlRootElement( name = &quot;counters&quot; )\npublic class CounterInfo {\n    private List&lt;Counter&gt; counter;\n    //getters and setters\n}\n</code></pre>\n"}],"owner":{"account_id":29807657,"reputation":3,"user_id":22843824,"display_name":"NorrtT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77624680,"answer_count":1,"score":0,"last_activity_date":1702016292,"creation_date":1702015099,"question_id":77624610,"body_markdown":"I have the following class which I want to convert to XML.\r\n```\r\n@XmlRootElement( name = &quot;counters&quot; )\r\npublic class Counter {\r\n    private Map&lt;String, Integer&gt; counter;\r\n    \r\n    public Counter(){}\r\n     \r\n    @XmlElement( name = &quot;counter&quot; )\r\n    public Map&lt;String, Integer&gt; getCounter() {\r\n        return counter;\r\n    }\r\n    \r\n    public void setCounter(Map&lt;String, Integer&gt; counter) {\r\n        this.counter = counter;\r\n    }\r\n}\r\n```\r\n\r\nI return an object of that class using GET request, however, I don&#39;t really like the response. Currently it looks like:\r\n```\r\n&lt;counters&gt;\r\n\t&lt;counter&gt;\r\n\t\t&lt;entry&gt;\r\n\t\t\t&lt;key&gt;admin&lt;/key&gt;\r\n\t\t\t&lt;value&gt;10&lt;/value&gt;\r\n\t\t&lt;/entry&gt;\r\n\t\t&lt;entry&gt;\r\n\t\t\t&lt;key&gt;user&lt;/key&gt;\r\n\t\t\t&lt;value&gt;5&lt;/value&gt;\r\n\t\t&lt;/entry&gt;\r\n\t&lt;/counter&gt;\r\n&lt;/counters&gt;\r\n```\r\n\r\nI&#39;d like to have the response in the following format:\r\n\r\n```\r\n&lt;counters&gt;\r\n\t&lt;counter&gt;\r\n\t\t&lt;user&gt;admin&lt;/user&gt;\r\n\t\t&lt;number&gt;10&lt;/number&gt;\r\n\t&lt;/counter&gt;\r\n\t&lt;counter&gt;\r\n\t\t&lt;user&gt;user&lt;/user&gt;\r\n\t\t&lt;n&gt;5&lt;/value&gt;\r\n\t&lt;/counter&gt;\r\n&lt;/counters&gt;\r\n```\r\n\r\nBasically, I need to rename entry to counter, key to user, value to number.\r\nIs it really possible with HashMap or do I need to change Counter class somehow to achieve my goal? I have already tried different Xml annotations but the response is pretty much the same.\r\n\r\n","title":"Convert POJO with HashMap to XML","body":"<p>I have the following class which I want to convert to XML.</p>\n<pre><code>@XmlRootElement( name = &quot;counters&quot; )\npublic class Counter {\n    private Map&lt;String, Integer&gt; counter;\n    \n    public Counter(){}\n     \n    @XmlElement( name = &quot;counter&quot; )\n    public Map&lt;String, Integer&gt; getCounter() {\n        return counter;\n    }\n    \n    public void setCounter(Map&lt;String, Integer&gt; counter) {\n        this.counter = counter;\n    }\n}\n</code></pre>\n<p>I return an object of that class using GET request, however, I don't really like the response. Currently it looks like:</p>\n<pre><code>&lt;counters&gt;\n    &lt;counter&gt;\n        &lt;entry&gt;\n            &lt;key&gt;admin&lt;/key&gt;\n            &lt;value&gt;10&lt;/value&gt;\n        &lt;/entry&gt;\n        &lt;entry&gt;\n            &lt;key&gt;user&lt;/key&gt;\n            &lt;value&gt;5&lt;/value&gt;\n        &lt;/entry&gt;\n    &lt;/counter&gt;\n&lt;/counters&gt;\n</code></pre>\n<p>I'd like to have the response in the following format:</p>\n<pre><code>&lt;counters&gt;\n    &lt;counter&gt;\n        &lt;user&gt;admin&lt;/user&gt;\n        &lt;number&gt;10&lt;/number&gt;\n    &lt;/counter&gt;\n    &lt;counter&gt;\n        &lt;user&gt;user&lt;/user&gt;\n        &lt;n&gt;5&lt;/value&gt;\n    &lt;/counter&gt;\n&lt;/counters&gt;\n</code></pre>\n<p>Basically, I need to rename entry to counter, key to user, value to number.\nIs it really possible with HashMap or do I need to change Counter class somehow to achieve my goal? I have already tried different Xml annotations but the response is pretty much the same.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"score":0,"creation_date":1701893298,"post_id":77615793,"comment_id":136832668,"body_markdown":"`remove` is not &quot;Mark for removal&quot;, it&#39;s an immediate delete.","body":"<code>remove</code> is not &quot;Mark for removal&quot;, it&#39;s an immediate delete."},{"owner":{"account_id":9219950,"reputation":79,"user_id":12894367,"display_name":"Vsevolod IV"},"score":0,"creation_date":1701897625,"post_id":77615793,"comment_id":136833385,"body_markdown":"&quot;Immediate delete&quot; from where? The entity only gets deleted from the DB upon flush, transaction commit or when you close the session, while `remove` merely marks it for removal, by putting it in `HashSet nullifiableEntityKeys`. Until one of the three mentioned scenarios has happened, the entity remains in the DB","body":"&quot;Immediate delete&quot; from where? The entity only gets deleted from the DB upon flush, transaction commit or when you close the session, while <code>remove</code> merely marks it for removal, by putting it in <code>HashSet nullifiableEntityKeys</code>. Until one of the three mentioned scenarios has happened, the entity remains in the DB"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1701901871,"post_id":77615793,"comment_id":136833944,"body_markdown":"Did you mean `session.evict(...)` instead of `remove()`?  I can&#39;t find a `remove()` method in the Javadoc for `org.hibernate.Session`.  Or, are you using a different library?","body":"Did you mean <code>session.evict(...)</code> instead of <code>remove()</code>?  I can&#39;t find a <code>remove()</code> method in the Javadoc for <code>org.hibernate.Session</code>.  Or, are you using a different library?"},{"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"score":1,"creation_date":1701908575,"post_id":77615793,"comment_id":136834716,"body_markdown":"@VsevolodIV transactional delete from the database. The session reflects the state of the transaction, so you won&#39;t see the physical delete until the commit, but the delete will be visible inside the session/transaction after it&#39;s issued.","body":"@VsevolodIV transactional delete from the database. The session reflects the state of the transaction, so you won&#39;t see the physical delete until the commit, but the delete will be visible inside the session/transaction after it&#39;s issued."},{"owner":{"account_id":9219950,"reputation":79,"user_id":12894367,"display_name":"Vsevolod IV"},"score":0,"creation_date":1701952231,"post_id":77615793,"comment_id":136839940,"body_markdown":"Jim, you might be looking at the older version, here&#39;s the link to 6.4: https://docs.jboss.org/hibernate/orm/6.4/javadocs/org/hibernate/Session.html","body":"Jim, you might be looking at the older version, here&#39;s the link to 6.4: <a href=\"https://docs.jboss.org/hibernate/orm/6.4/javadocs/org/hibernate/Session.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.4/javadocs/org/hibernate/&hellip;</a>"},{"owner":{"account_id":9219950,"reputation":79,"user_id":12894367,"display_name":"Vsevolod IV"},"score":0,"creation_date":1701952589,"post_id":77615793,"comment_id":136839993,"body_markdown":"teppic, I noticed that when I call `remove` the entity is added to `nullifiableEntityKeys`. Is it possible that before retrieving the entity from the first-level cache , the entity is looked up in  `nullifiableEntityKeys`? I&#39;m trying to figure out why exactly I can&#39;t get it from the FLC.","body":"teppic, I noticed that when I call <code>remove</code> the entity is added to <code>nullifiableEntityKeys</code>. Is it possible that before retrieving the entity from the first-level cache , the entity is looked up in  <code>nullifiableEntityKeys</code>? I&#39;m trying to figure out why exactly I can&#39;t get it from the FLC."}],"answers":[{"tags":[],"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702015938,"creation_date":1702015938,"answer_id":77624666,"question_id":77615793,"body_markdown":"`DELETE` or `UPDATE` queries requires new sessions while `CREATE` and `READ` queries can reuse one session.\r\n\r\nThis is from my observation when working with a service that performs all `CRUD` queries.\r\n\r\nNote also in Spring-Data-JPA, `DELETE` &amp; `UPDATE` queries usually have `@Transactional` &amp; `Modifying` annotations which creates new sessions ","title":"Session.remove() in hibernate doesn&#39;t delete the entity, but I can&#39;t &quot;session.get()&quot; it","body":"<p><code>DELETE</code> or <code>UPDATE</code> queries requires new sessions while <code>CREATE</code> and <code>READ</code> queries can reuse one session.</p>\n<p>This is from my observation when working with a service that performs all <code>CRUD</code> queries.</p>\n<p>Note also in Spring-Data-JPA, <code>DELETE</code> &amp; <code>UPDATE</code> queries usually have <code>@Transactional</code> &amp; <code>Modifying</code> annotations which creates new sessions</p>\n"}],"owner":{"account_id":9219950,"reputation":79,"user_id":12894367,"display_name":"Vsevolod IV"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702015938,"creation_date":1701890697,"question_id":77615793,"body_markdown":"1) I call `session.get(User.class, 11)` and retrieve a user from the DB;\r\n2) I mark this user for removal by calling `session.remove(user)` ;\r\n\r\n(note that at this point Hibernate hasn&#39;t made a DELETE request to the DB, so the user is still in both the DB and the `persistenceContext` object)\r\n\r\n3) I call `session.get(User.class, 11)` again and get a null\r\n\r\nMy question is: Why am I getting null if the the user still exxists in the DB and first-level cache?\r\n\r\nHere&#39;s my Main class code:\r\n\r\n    public static void main(String[] args) {\r\n        SessionFactory sessionFactory = HiberUtil.getSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n\r\n        session.beginTransaction();\r\n\r\n        User user = session.get(User.class, 11);  &lt;--- not null\r\n        session.remove(user);\r\n        user = session.get(User.class, 11);       &lt;--- null\r\n\r\n        session.getTransaction().commit();\r\n\r\nHere&#39;s my User configuration class: \r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @jakarta.persistence.Entity\r\n    @Table(name = &quot;Users&quot;)\r\n    public class User {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Getter\r\n        private Long id;\r\n\r\n        @Column(unique = true)\r\n        private String userName;\r\n\r\n        @Embedded\r\n        private PersonalInfo personalInfo;\r\n\r\n        @Enumerated(EnumType.STRING)\r\n        private Role role;\r\n\r\n        @Setter\r\n        @Getter\r\n        @ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;company_id&quot;)\r\n        private Company company;\r\n    }\r\n","title":"Session.remove() in hibernate doesn&#39;t delete the entity, but I can&#39;t &quot;session.get()&quot; it","body":"<ol>\n<li>I call <code>session.get(User.class, 11)</code> and retrieve a user from the DB;</li>\n<li>I mark this user for removal by calling <code>session.remove(user)</code> ;</li>\n</ol>\n<p>(note that at this point Hibernate hasn't made a DELETE request to the DB, so the user is still in both the DB and the <code>persistenceContext</code> object)</p>\n<ol start=\"3\">\n<li>I call <code>session.get(User.class, 11)</code> again and get a null</li>\n</ol>\n<p>My question is: Why am I getting null if the the user still exxists in the DB and first-level cache?</p>\n<p>Here's my Main class code:</p>\n<pre><code>public static void main(String[] args) {\n    SessionFactory sessionFactory = HiberUtil.getSessionFactory();\n    Session session = sessionFactory.openSession();\n\n    session.beginTransaction();\n\n    User user = session.get(User.class, 11);  &lt;--- not null\n    session.remove(user);\n    user = session.get(User.class, 11);       &lt;--- null\n\n    session.getTransaction().commit();\n</code></pre>\n<p>Here's my User configuration class:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@jakarta.persistence.Entity\n@Table(name = &quot;Users&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Getter\n    private Long id;\n\n    @Column(unique = true)\n    private String userName;\n\n    @Embedded\n    private PersonalInfo personalInfo;\n\n    @Enumerated(EnumType.STRING)\n    private Role role;\n\n    @Setter\n    @Getter\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;company_id&quot;)\n    private Company company;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch","serialization","deserialization"],"owner":{"account_id":30095395,"reputation":1,"user_id":23063774,"display_name":"boring吴"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702015916,"creation_date":1702015916,"question_id":77624664,"body_markdown":"When I use the serialize method that the UpdateByQueryRequest provided, the output is not complete.\r\nThe request is \r\n`{&quot;query&quot;:{&quot;term&quot;:{&quot;subjectId&quot;:{&quot;value&quot;:592}}},&quot;script&quot;:{&quot;params&quot;:{&quot;businessTypeId&quot;:2},&quot;lang&quot;:&quot;painless&quot;,&quot;source&quot;:&quot;ctx._source.subjectShared.add(params.businessTypeId)&quot;}}`\r\nbut the output is \r\n`{&quot;query&quot;:{&quot;term&quot;:{&quot;subjectId&quot;:{&quot;value&quot;:592}}},&quot;script&quot;:{&quot;params&quot;:{&quot;businessTypeId&quot;:2`\r\nand below is how I do the serialization.\r\n[enter image description here](https://i.stack.imgur.com/aiAtC.png)\r\n\r\nThe version of es is 8.5.1\r\n\r\nI try to increase the size of the outputstream, but the result is all the same.","title":"UpdateByQueryRequest serialize has bug","body":"<p>When I use the serialize method that the UpdateByQueryRequest provided, the output is not complete.\nThe request is\n<code>{&quot;query&quot;:{&quot;term&quot;:{&quot;subjectId&quot;:{&quot;value&quot;:592}}},&quot;script&quot;:{&quot;params&quot;:{&quot;businessTypeId&quot;:2},&quot;lang&quot;:&quot;painless&quot;,&quot;source&quot;:&quot;ctx._source.subjectShared.add(params.businessTypeId)&quot;}}</code>\nbut the output is\n<code>{&quot;query&quot;:{&quot;term&quot;:{&quot;subjectId&quot;:{&quot;value&quot;:592}}},&quot;script&quot;:{&quot;params&quot;:{&quot;businessTypeId&quot;:2</code>\nand below is how I do the serialization.\n<a href=\"https://i.stack.imgur.com/aiAtC.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The version of es is 8.5.1</p>\n<p>I try to increase the size of the outputstream, but the result is all the same.</p>\n"},{"tags":["java","spring-boot","class"],"comments":[{"owner":{"account_id":29144164,"reputation":12197,"user_id":12361700,"display_name":"Alberto"},"score":0,"creation_date":1618482745,"post_id":67106772,"comment_id":118617016,"body_markdown":"maybe `@Autowired private Environment env;`? I know it&#39;s not the same, but...","body":"maybe <code>@Autowired private Environment env;</code>? I know it&#39;s not the same, but..."},{"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"score":0,"creation_date":1618482878,"post_id":67106772,"comment_id":118617072,"body_markdown":"@Berto99 tried already but didn&#39;t work!","body":"@Berto99 tried already but didn&#39;t work!"},{"owner":{"account_id":15585153,"reputation":1806,"user_id":11243901,"display_name":"Arun Sai Mustyala"},"score":0,"creation_date":1618482980,"post_id":67106772,"comment_id":118617109,"body_markdown":"have u tried by annotating @Component on the class?","body":"have u tried by annotating @Component on the class?"},{"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"score":0,"creation_date":1618483093,"post_id":67106772,"comment_id":118617153,"body_markdown":"@SudiptaRoy can you show me a sample code?","body":"@SudiptaRoy can you show me a sample code?"},{"owner":{"account_id":1894993,"reputation":1129,"user_id":1712172,"display_name":"code_mechanic"},"score":0,"creation_date":1618483171,"post_id":67106772,"comment_id":118617186,"body_markdown":"If the AppUtils class have strict dependency on the endpointUrl and there are more such properties, I would suggest you create a bean of properties and then pass it to the constructor of AppUtils through your component or service, because there spring will inject the bean for you.","body":"If the AppUtils class have strict dependency on the endpointUrl and there are more such properties, I would suggest you create a bean of properties and then pass it to the constructor of AppUtils through your component or service, because there spring will inject the bean for you."},{"owner":{"account_id":6579550,"reputation":524,"user_id":5084232,"display_name":"Tushar Wasson"},"score":1,"creation_date":1618483207,"post_id":67106772,"comment_id":118617203,"body_markdown":"Please refer this https://stackoverflow.com/questions/24649062/spring-read-property-value-from-properties-file-in-static-field-of-class/39368399","body":"Please refer this <a href=\"https://stackoverflow.com/questions/24649062/spring-read-property-value-from-properties-file-in-static-field-of-class/39368399\" title=\"spring read property value from properties file in static field of class\">stackoverflow.com/questions/24649062/&hellip;</a>"},{"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"score":0,"creation_date":1618486320,"post_id":67106772,"comment_id":118618543,"body_markdown":"https://stackoverflow.com/a/50940314/8874958 also helped a lot. Thank you @tusharwason","body":"<a href=\"https://stackoverflow.com/a/50940314/8874958\">stackoverflow.com/a/50940314/8874958</a> also helped a lot. Thank you @tusharwason"}],"answers":[{"tags":[],"owner":{"account_id":9734081,"reputation":67,"user_id":7217975,"display_name":"Praveen Gowthaman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1702015197,"creation_date":1618483810,"answer_id":67107098,"question_id":67106772,"body_markdown":"You can easily achieve this by annotating your app utils class with @component annotation. Spring will take care of loading properties.\r\n\r\nBut if you don&#39;t want to do that approach, then look at the link below.\r\n\r\nhttps://www.baeldung.com/inject-properties-value-non-spring-class","title":"JAVA Spring Boot : How to access application.properties values in normal class","body":"<p>You can easily achieve this by annotating your app utils class with @component annotation. Spring will take care of loading properties.</p>\n<p>But if you don't want to do that approach, then look at the link below.</p>\n<p><a href=\"https://www.baeldung.com/inject-properties-value-non-spring-class\" rel=\"nofollow noreferrer\">https://www.baeldung.com/inject-properties-value-non-spring-class</a></p>\n"},{"tags":[],"owner":{"account_id":15453357,"reputation":315,"user_id":11148169,"display_name":"Igor Amelin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1618484556,"creation_date":1618484556,"answer_id":67107267,"question_id":67106772,"body_markdown":"There&#39;s no &quot;magic&quot; way to inject values from a property file into a class that isn&#39;t a bean. You can define a static `java.util.Properties` field in the class,  load values from the file manually when the class is loading and then work with this field:\r\n```\r\npublic final class AppUtils {\r\n    private static final Properties properties;\r\n\r\n    static {\r\n        properties = new Properties();\r\n\r\n        try {\r\n            ClassLoader classLoader = AppUtils.class.getClassLoader();\r\n            InputStream applicationPropertiesStream = classLoader.getResourceAsStream(&quot;application.properties&quot;);\r\n            applicationProperties.load(applicationPropertiesStream);\r\n        } catch (Exception e) {\r\n            // process the exception\r\n        }\r\n    }\r\n}\r\n```","title":"JAVA Spring Boot : How to access application.properties values in normal class","body":"<p>There's no &quot;magic&quot; way to inject values from a property file into a class that isn't a bean. You can define a static <code>java.util.Properties</code> field in the class,  load values from the file manually when the class is loading and then work with this field:</p>\n<pre><code>public final class AppUtils {\n    private static final Properties properties;\n\n    static {\n        properties = new Properties();\n\n        try {\n            ClassLoader classLoader = AppUtils.class.getClassLoader();\n            InputStream applicationPropertiesStream = classLoader.getResourceAsStream(&quot;application.properties&quot;);\n            applicationProperties.load(applicationPropertiesStream);\n        } catch (Exception e) {\n            // process the exception\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20294,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":67107267,"answer_count":2,"score":4,"last_activity_date":1702015197,"creation_date":1618482520,"question_id":67106772,"body_markdown":"I know how I can access the `application.properties` values in `@Service` classes in Java Spring boot like below \r\n\r\n    @Service\r\n    public class AmazonClient {\r\n    \r\n        @Value(&quot;${cloud.aws.endpointUrl}&quot;)\r\n        private String endpointUrl;\r\n    }\r\n\r\nBut I am **looking for an option to access this value directly in any class** (a class without @Service annotation)\r\n\r\ne.g.\r\n\r\n    public class AppUtils {\r\n          @Value(&quot;${cloud.aws.endpointUrl}&quot;)\r\n          private String endpointUrl;\r\n    }\r\n\r\nBut this returns `null`. Any help would be appreciated.\r\nI have already read [here][1] but didn&#39;t help.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/30528255/8874958","title":"JAVA Spring Boot : How to access application.properties values in normal class","body":"<p>I know how I can access the <code>application.properties</code> values in <code>@Service</code> classes in Java Spring boot like below</p>\n<pre><code>@Service\npublic class AmazonClient {\n\n    @Value(&quot;${cloud.aws.endpointUrl}&quot;)\n    private String endpointUrl;\n}\n</code></pre>\n<p>But I am <strong>looking for an option to access this value directly in any class</strong> (a class without @Service annotation)</p>\n<p>e.g.</p>\n<pre><code>public class AppUtils {\n      @Value(&quot;${cloud.aws.endpointUrl}&quot;)\n      private String endpointUrl;\n}\n</code></pre>\n<p>But this returns <code>null</code>. Any help would be appreciated.\nI have already read <a href=\"https://stackoverflow.com/q/30528255/8874958\">here</a> but didn't help.</p>\n"},{"tags":["java","excel","filter","apache-poi","pivot-table"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1701881300,"post_id":77614535,"comment_id":136830562,"body_markdown":"Please show a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) to be able to reproduce your problem. See my answer to your previous question for how a Minimal, Reproducible Example should look like.","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a> to be able to reproduce your problem. See my answer to your previous question for how a Minimal, Reproducible Example should look like."},{"owner":{"account_id":11616907,"reputation":29,"user_id":8509309,"display_name":"pranavs"},"score":0,"creation_date":1702012536,"post_id":77614535,"comment_id":136848096,"body_markdown":"I have added sample code expected result.","body":"I have added sample code expected result."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1702014981,"creation_date":1702014981,"answer_id":77624600,"question_id":77614535,"body_markdown":"In https://stackoverflow.com/questions/63921076/apache-poi-pivot-tables-how-to-use-the-in-between-value-filter-in-java/63924592#63924592 I have shown how to set a value filter for pivot table using Apache POI.\r\n\r\nAdopted to your example, that would be:\r\n\r\nRun your code.\r\n\r\nIn result `Itemfilter.xlsx` do what you want using Excel GUI. Save the file.\r\n\r\nUnzip `Itemfilter.xlsx` and have a look into `/xl/pivotTables/pivotTable1.xml`. There you will find:\r\n\r\n    &lt;filters count=&quot;1&quot;&gt;\r\n     &lt;filter fld=&quot;0&quot; type=&quot;valueGreaterThan&quot; evalOrder=&quot;-1&quot; id=&quot;1&quot; iMeasureFld=&quot;0&quot;&gt;\r\n      &lt;autoFilter ref=&quot;A1&quot;&gt;\r\n       &lt;filterColumn colId=&quot;0&quot;&gt;\r\n        &lt;customFilters&gt;\r\n         &lt;customFilter operator=&quot;greaterThan&quot; val=&quot;2&quot;/&gt;\r\n        &lt;/customFilters&gt;\r\n       &lt;/filterColumn&gt;\r\n      &lt;/autoFilter&gt;\r\n     &lt;/filter&gt;\r\n    &lt;/filters&gt;\r\n\r\nNow try creating that using following classes:\r\n\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTPivotFilters;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTPivotFilter;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCustomFilters;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCustomFilter;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTFilterColumn;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.STFilterOperator;\r\n\r\nCode:\r\n\r\n    ...\r\n       //create filters\r\n       CTPivotFilters filters = CTPivotFilters.Factory.newInstance();\r\n    \r\n       //set custom value filter\r\n       int filtersCount = 0; // to count filters\r\n       CTPivotFilter filter = filters.addNewFilter();\r\n       filter.setId(0); // filter needs Id !ToDo - handle carefully\r\n       filter.setFld(0); // filter on column level 0 - first row label\r\n       filter.setType(org.openxmlformats.schemas.spreadsheetml.x2006.main.STPivotFilterType.VALUE_GREATER_THAN);\r\n       filter.setIMeasureFld(0); //internal measure field is 0 - first data field\r\n       CTFilterColumn filterColumn = filter.addNewAutoFilter().addNewFilterColumn();\r\n       filterColumn.setColId(0); // filterColumn need colId !ToDo - handle carefully\r\n       CTCustomFilters customFilters= filterColumn.addNewCustomFilters();\r\n       CTCustomFilter customFilter = customFilters.addNewCustomFilter();\r\n       customFilter.setOperator(STFilterOperator.GREATER_THAN);\r\n       customFilter.setVal(&quot;2&quot;);\r\n    \r\n       filtersCount++;\r\n       filters.setCount(filtersCount); // set filters count\r\n    \r\n       pivotTable.getCTPivotTableDefinition().setFilters(filters);\t\t\t\t\r\n    ...\r\n\r\n\r\n","title":"How to add filter on count column in pivot table?","body":"<p>In <a href=\"https://stackoverflow.com/questions/63921076/apache-poi-pivot-tables-how-to-use-the-in-between-value-filter-in-java/63924592#63924592\">Apache POI Pivot Tables- How to use the &quot;In-Between&quot; Value Filter in Java</a> I have shown how to set a value filter for pivot table using Apache POI.</p>\n<p>Adopted to your example, that would be:</p>\n<p>Run your code.</p>\n<p>In result <code>Itemfilter.xlsx</code> do what you want using Excel GUI. Save the file.</p>\n<p>Unzip <code>Itemfilter.xlsx</code> and have a look into <code>/xl/pivotTables/pivotTable1.xml</code>. There you will find:</p>\n<pre><code>&lt;filters count=&quot;1&quot;&gt;\n &lt;filter fld=&quot;0&quot; type=&quot;valueGreaterThan&quot; evalOrder=&quot;-1&quot; id=&quot;1&quot; iMeasureFld=&quot;0&quot;&gt;\n  &lt;autoFilter ref=&quot;A1&quot;&gt;\n   &lt;filterColumn colId=&quot;0&quot;&gt;\n    &lt;customFilters&gt;\n     &lt;customFilter operator=&quot;greaterThan&quot; val=&quot;2&quot;/&gt;\n    &lt;/customFilters&gt;\n   &lt;/filterColumn&gt;\n  &lt;/autoFilter&gt;\n &lt;/filter&gt;\n&lt;/filters&gt;\n</code></pre>\n<p>Now try creating that using following classes:</p>\n<pre><code>import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTPivotFilters;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTPivotFilter;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCustomFilters;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCustomFilter;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTFilterColumn;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.STFilterOperator;\n</code></pre>\n<p>Code:</p>\n<pre><code>...\n   //create filters\n   CTPivotFilters filters = CTPivotFilters.Factory.newInstance();\n\n   //set custom value filter\n   int filtersCount = 0; // to count filters\n   CTPivotFilter filter = filters.addNewFilter();\n   filter.setId(0); // filter needs Id !ToDo - handle carefully\n   filter.setFld(0); // filter on column level 0 - first row label\n   filter.setType(org.openxmlformats.schemas.spreadsheetml.x2006.main.STPivotFilterType.VALUE_GREATER_THAN);\n   filter.setIMeasureFld(0); //internal measure field is 0 - first data field\n   CTFilterColumn filterColumn = filter.addNewAutoFilter().addNewFilterColumn();\n   filterColumn.setColId(0); // filterColumn need colId !ToDo - handle carefully\n   CTCustomFilters customFilters= filterColumn.addNewCustomFilters();\n   CTCustomFilter customFilter = customFilters.addNewCustomFilter();\n   customFilter.setOperator(STFilterOperator.GREATER_THAN);\n   customFilter.setVal(&quot;2&quot;);\n\n   filtersCount++;\n   filters.setCount(filtersCount); // set filters count\n\n   pivotTable.getCTPivotTableDefinition().setFilters(filters);              \n...\n</code></pre>\n"}],"owner":{"account_id":11616907,"reputation":29,"user_id":8509309,"display_name":"pranavs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77624600,"answer_count":1,"score":1,"last_activity_date":1702014981,"creation_date":1701877829,"question_id":77614535,"body_markdown":"I need to filter pivot table based on count column values. \r\nI have tried couple of code samples from google but nothing worked. \r\n\r\n[enter image description here][1]\r\nHow to implement this filter using apache poi in java.\r\n\r\nBelow is the sample working code to generate pivot table on dummy data.\r\n\r\n    package com.technia.upgradetool.export;\r\n\r\n    import java.awt.Desktop;\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.*;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.util.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    \r\n    import com.technia.upgradetool.Analyzer;\r\n    \r\n    public class CreatePivotTableFilterTest {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            try (Workbook workbook = new XSSFWorkbook();\r\n                    FileOutputStream fileout = new FileOutputStream(&quot;ItemFilter.xlsx&quot;)) {\r\n    \r\n                Sheet pivotSheet = workbook.createSheet(&quot;Pivot&quot;);\r\n                Sheet dataSheet = workbook.createSheet(&quot;Data&quot;);\r\n    \r\n                Row row;\r\n                Cell cell;\r\n                Object[][] data = new Object[][]\r\n                    { new Object[]\r\n                                { &quot;Header&quot;, &quot;Complexity&quot; }, new Object[]\r\n                                { &quot;A&quot;, &quot;High&quot; }, new Object[]\r\n                                { &quot;A&quot;, &quot;Low&quot; }, new Object[]\r\n                                { &quot;C&quot;, &quot;Moderate&quot; }, new Object[]\r\n                                { &quot;D&quot;, &quot;High&quot; }, new Object[]\r\n                                { &quot;A&quot;, &quot;High&quot; }, new Object[]\r\n                                { &quot;B&quot;, &quot;Low&quot; }, new Object[]\r\n                                { &quot;G&quot;, &quot;Low&quot; }, new Object[]\r\n                                { &quot;G&quot;, &quot;High&quot; }, new Object[]\r\n                                { &quot;G&quot;, &quot;High&quot; }, new Object[]\r\n                                { &quot;G&quot;, &quot;High&quot; }, new Object[]\r\n                                { &quot;G&quot;, &quot;Low&quot; }, new Object[]\r\n                                { &quot;H&quot;, &quot;Low&quot; }, new Object[]\r\n                                { &quot;H&quot;, &quot;Low&quot; } };\r\n                for (int r = 0; r &lt; data.length; r++) {\r\n                    row = dataSheet.createRow(r);\r\n                    Object[] rowData = data[r];\r\n                    for (int c = 0; c &lt; rowData.length; c++) {\r\n                        cell = row.createCell(c);\r\n                        if (rowData[c] instanceof String) {\r\n                            cell.setCellValue((String) rowData[c]);\r\n                        } else if (rowData[c] instanceof Number) {\r\n                            cell.setCellValue(((Number) rowData[c]).doubleValue());\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                AreaReference areaReference = new AreaReference(new CellReference(0, 0),\r\n                        new CellReference(data.length - 1, data[0].length - 1),\r\n                        SpreadsheetVersion.EXCEL2007);\r\n    \r\n                XSSFPivotTable pivotTable = ((XSSFSheet) pivotSheet).createPivotTable(areaReference,\r\n                        new CellReference(&quot;A4&quot;), dataSheet);\r\n    \r\n                pivotTable.addRowLabel(0);\r\n                pivotTable.addColumnLabel(DataConsolidateFunction.COUNT, 1, &quot;Count of complexity&quot;);\r\n                // Method addColLabel removes the dataField setting. So we need set it new.\r\n                pivotTable.getCTPivotTableDefinition()\r\n                    .getPivotFields()\r\n                    .getPivotFieldArray(1)\r\n                    .setDataField(true);\r\n    \r\n                workbook.write(fileout);\r\n                fileout.close();\r\n    \r\n                Desktop.getDesktop().open(new File(&quot;ItemFilter.xlsx&quot;));\r\n    \r\n            }\r\n    \r\n        }\r\n    }\r\n    \r\nI need to show only rows which has complexity greater than 2.\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qZihg.png\r\n  [2]: https://i.stack.imgur.com/fYz5m.png","title":"How to add filter on count column in pivot table?","body":"<p>I need to filter pivot table based on count column values.\nI have tried couple of code samples from google but nothing worked.</p>\n<p><a href=\"https://i.stack.imgur.com/qZihg.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nHow to implement this filter using apache poi in java.</p>\n<p>Below is the sample working code to generate pivot table on dummy data.</p>\n<pre><code>package com.technia.upgradetool.export;\n\nimport java.awt.Desktop;\nimport java.io.File;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.ss.*;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.*;\nimport org.apache.poi.xssf.usermodel.*;\n\nimport com.technia.upgradetool.Analyzer;\n\npublic class CreatePivotTableFilterTest {\n\n    public static void main(String[] args) throws Exception {\n\n        try (Workbook workbook = new XSSFWorkbook();\n                FileOutputStream fileout = new FileOutputStream(&quot;ItemFilter.xlsx&quot;)) {\n\n            Sheet pivotSheet = workbook.createSheet(&quot;Pivot&quot;);\n            Sheet dataSheet = workbook.createSheet(&quot;Data&quot;);\n\n            Row row;\n            Cell cell;\n            Object[][] data = new Object[][]\n                { new Object[]\n                            { &quot;Header&quot;, &quot;Complexity&quot; }, new Object[]\n                            { &quot;A&quot;, &quot;High&quot; }, new Object[]\n                            { &quot;A&quot;, &quot;Low&quot; }, new Object[]\n                            { &quot;C&quot;, &quot;Moderate&quot; }, new Object[]\n                            { &quot;D&quot;, &quot;High&quot; }, new Object[]\n                            { &quot;A&quot;, &quot;High&quot; }, new Object[]\n                            { &quot;B&quot;, &quot;Low&quot; }, new Object[]\n                            { &quot;G&quot;, &quot;Low&quot; }, new Object[]\n                            { &quot;G&quot;, &quot;High&quot; }, new Object[]\n                            { &quot;G&quot;, &quot;High&quot; }, new Object[]\n                            { &quot;G&quot;, &quot;High&quot; }, new Object[]\n                            { &quot;G&quot;, &quot;Low&quot; }, new Object[]\n                            { &quot;H&quot;, &quot;Low&quot; }, new Object[]\n                            { &quot;H&quot;, &quot;Low&quot; } };\n            for (int r = 0; r &lt; data.length; r++) {\n                row = dataSheet.createRow(r);\n                Object[] rowData = data[r];\n                for (int c = 0; c &lt; rowData.length; c++) {\n                    cell = row.createCell(c);\n                    if (rowData[c] instanceof String) {\n                        cell.setCellValue((String) rowData[c]);\n                    } else if (rowData[c] instanceof Number) {\n                        cell.setCellValue(((Number) rowData[c]).doubleValue());\n                    }\n                }\n            }\n\n            AreaReference areaReference = new AreaReference(new CellReference(0, 0),\n                    new CellReference(data.length - 1, data[0].length - 1),\n                    SpreadsheetVersion.EXCEL2007);\n\n            XSSFPivotTable pivotTable = ((XSSFSheet) pivotSheet).createPivotTable(areaReference,\n                    new CellReference(&quot;A4&quot;), dataSheet);\n\n            pivotTable.addRowLabel(0);\n            pivotTable.addColumnLabel(DataConsolidateFunction.COUNT, 1, &quot;Count of complexity&quot;);\n            // Method addColLabel removes the dataField setting. So we need set it new.\n            pivotTable.getCTPivotTableDefinition()\n                .getPivotFields()\n                .getPivotFieldArray(1)\n                .setDataField(true);\n\n            workbook.write(fileout);\n            fileout.close();\n\n            Desktop.getDesktop().open(new File(&quot;ItemFilter.xlsx&quot;));\n\n        }\n\n    }\n}\n</code></pre>\n<p>I need to show only rows which has complexity greater than 2.\n<a href=\"https://i.stack.imgur.com/fYz5m.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","wordle-game"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1701910009,"post_id":77617067,"comment_id":136834821,"body_markdown":"From the incomplete code you&#39;ve given us, it looks like a missing `}` after the last `return`","body":"From the incomplete code you&#39;ve given us, it looks like a missing <code>}</code> after the last <code>return</code>"},{"owner":{"account_id":30085165,"reputation":1,"user_id":23055855,"display_name":"Daytona"},"score":0,"creation_date":1701910449,"post_id":77617067,"comment_id":136834861,"body_markdown":"HI, sorry, it wasn&#39;t letting me post with the full code. However, i tried that and received errors still","body":"HI, sorry, it wasn&#39;t letting me post with the full code. However, i tried that and received errors still"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1701910587,"post_id":77617067,"comment_id":136834872,"body_markdown":"You&#39;re still missing braces all over the place. I strongly recommend installing a good Java code editor or IDE that will do the indentation for you. Having systematic and proper indentation will probably clear up a lot of the confusion.","body":"You&#39;re still missing braces all over the place. I strongly recommend installing a good Java code editor or IDE that will do the indentation for you. Having systematic and proper indentation will probably clear up a lot of the confusion."},{"owner":{"account_id":30085165,"reputation":1,"user_id":23055855,"display_name":"Daytona"},"score":0,"creation_date":1701910959,"post_id":77617067,"comment_id":136834904,"body_markdown":"Okay thanks, will do, definitely something i was looking into a few hours ago already.","body":"Okay thanks, will do, definitely something i was looking into a few hours ago already."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702014893,"creation_date":1701957417,"answer_id":77620602,"question_id":77617067,"body_markdown":"I believe the code:\r\n\r\n    Random r = new Random();\r\n    return WORDS[r.nextInt(WORDS.length)];\r\n\r\nbelongs within the `getWordOfTheDay()` method which you simply don&#39;t provide, for example:\r\n\r\n```\r\nprivate String getWordOfTheDay() {\r\n    Random r = new Random();\r\n    return WORDS[r.nextInt(WORDS.length)];\r\n}\r\n```\r\n\r\nIt shouldn&#39;t be where is resides now.\r\n\r\nThe WORDS[] array *looks* to be a Class constant which is declared and filled within the class members area:\r\n\r\n```\r\npublic class Wordle_P3 {\r\n\r\n    private final String[] WORDS = {&quot;quake&quot;, &quot;qualm&quot;, &quot;quark&quot;, &quot;quart&quot;, &quot;quash&quot;, &quot;quasi&quot;, &quot;queen&quot;, &quot;queer&quot;, &quot;quell&quot;,\r\n             &quot;query&quot;, &quot;quest&quot;, &quot;queue&quot;, &quot;quick&quot;, &quot;quiet&quot;, &quot;quill&quot;, &quot;quilt&quot;, &quot;quirk&quot;, &quot;quite&quot;, &quot;quota&quot;, &quot;quote&quot;, &quot;quoth&quot;,\r\n             &quot;rabbi&quot;, &quot;rabid&quot;, &quot;racer&quot;, &quot;radar&quot;, &quot;radii&quot;, &quot;radio&quot;, &quot;rainy&quot;, &quot;raise&quot;, &quot;rajah&quot;, &quot;rally&quot;, &quot;ralph&quot;, &quot;ramen&quot;, \r\n             &quot;ranch&quot;, &quot;randy&quot;, &quot;range&quot;, &quot;rapid&quot;, &quot;rarer&quot;, &quot;raspy&quot;};\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        // .... game code ...\r\n    }\r\n\r\n    private String getWordOfTheDay() {\r\n        Random r = new Random();\r\n       return WORDS[r.nextInt(WORDS.length)];\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn my opinion, the WORDS array should be filled from words list within a text file rather than hard-coded but, a few words for demo purposes, this should suffice.\r\n\r\nYour allowing for 6 attempts to guess the randomly provided word but your `for` loop is allowing for 7 attempts:\r\n\r\n    for(int attempts = 0; attempts &lt;= 6; attempts++) {\r\n\r\n    Iteration Value:       0 1 2 3 4 5 6\r\n    Number of iterations:  1 2 3 4 5 6 7\r\n\r\nThe `attempts &lt;= 6` should be `attempts &lt; 6`. Remove the `=` from `&lt;=`.\r\n\r\nHere is a runnable example of how this can work. Be sure to read all the comments in code:\r\n\r\n```\r\npublic class WordleGameDemo {\r\n\r\n    // Create Scanner Object\r\n    private final java.util.Scanner keyboard = new java.util.Scanner(System.in);\r\n    \r\n    // System&#39;s relative newLine character sequence:\r\n    private final String ls = System.lineSeparator(); \r\n    \r\n    \r\n    public static void main(String[] args) {\r\n        /* App started this way to avoid the need for \r\n           statics unless we realy want them:      */\r\n        new WordleGameDemo().startApp(args);\r\n    }\r\n    \r\n    private void startApp(String[] args) {\r\n        // Randomly select a Word:\r\n        String word = getWordOfTheDay().toUpperCase();\r\n\r\n        // Get the selected word length:\r\n        int wordLength = word.length();\r\n        \r\n        // Inform User about the Game:\r\n        String about = &quot;The Wordle Game&quot; + ls + &quot;===============&quot; + ls + ls\r\n                     + &quot;You are displayed a Square Bracketed sequence of proposed&quot; + ls\r\n                     + &quot;characters which make up a word that is randomly selected.&quot; + ls \r\n                     + &quot;You will be allowed  six attempts to  guess what the word&quot; + ls \r\n                     + &quot;is. Letters shown in square brackets ( [A] ) are an exact&quot; + ls\r\n                     + &quot;match and location.  Letters with a hyphen on either side&quot; + ls\r\n                     + &quot;( [-A-] )  are in the  randomly selected  word but in the &quot; + ls \r\n                     + &quot;wrong place. Square Bracketed locations with just a hyphen&quot; + ls\r\n                     + &quot;in them ( [-] ) means there is no letter match at all.&quot; + ls\r\n                     + &quot;Enter &#39;q&#39; at any time to quit.&quot; + ls; \r\n        System.out.println(about);\r\n        \r\n        // Display the number of characters within the randomly selected word:\r\n        System.out.print(&quot;Guess The Word:   &quot;);\r\n        System.out.println(String.join(&quot;&quot;, java.util.Collections.nCopies(wordLength, &quot;[-]&quot;)) + ls);\r\n        \r\n        // Declare a winner flag and initialize it to boolean false:\r\n        boolean winner = false;\r\n        \r\n        // For loop that loops 6 times so that 6 attampts to solve is allowed:\r\n        for (int attempts = 0; attempts &lt; 6; attempts++) {\r\n            // Have the user make a guess (contains valildation):\r\n            String guess = &quot;&quot;;\r\n            while (guess.isEmpty()) {\r\n                System.out.print(&quot;Attempt #&quot; + (attempts + 1) \r\n                               + &quot;: Guess a &quot; + wordLength + &quot; letter word: -&gt; &quot;);\r\n                /* Get User input and set the result to uppercase and \r\n                   trim off any leading/trailing whitespaces if any): */\r\n                guess = keyboard.nextLine().toUpperCase().trim(); \r\n                \r\n                // If &#39;q&#39; is supplied then quit! \r\n                if (guess.equalsIgnoreCase(&quot;q&quot;)) {\r\n                    System.out.println(&quot;Quiting - Bye Bye!&quot;);\r\n                    return; // Returning from here will ultimately end the application:\r\n                }\r\n                /* If nothing was enterd or the word supplied was not \r\n                   the determined random word length then inform User\r\n                   of an invalid entry and allow to try again:    */\r\n                if (guess.isEmpty() || guess.length() != wordLength) {\r\n                    System.out.println(&quot;Invalid Entry (&quot; + guess + &quot;)! Either the guess is blank&quot;\r\n                            + ls + &quot;or not a &quot; + wordLength + &quot; letter word! Try again...&quot; + ls);\r\n                    guess = &quot;&quot;;\r\n                }\r\n            }\r\n            \r\n            // Checking for a win:\r\n            if (guess.equals(word)) {\r\n                System.out.println(&quot;Correct! You Won!&quot;);\r\n                winner = true;\r\n                break;\r\n            }\r\n            \r\n            StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n            \r\n            // Create a char[] array of the randomly selected word to guess:\r\n            char[] wordChars = word.toCharArray();\r\n            // Create a char[] array of the User&#39;s current supplied word:\r\n            char[] guessChars = guess.toCharArray();\r\n            \r\n            // Iterate through each charaacter of the randomly selected Word:\r\n            for (int i = 0; i &lt; wordChars.length; i++) {\r\n                /* Is the current character location in the guessed word the\r\n                   same character as what is in the random word character at\r\n                   the same location:                */\r\n                if (guessChars[i] == wordChars[i]) {\r\n                    // Yes...Create the appropriate Character Bracketing (ie: [A]):\r\n                    sb.append(&quot;[&quot;).append(guessChars[i]).append(&quot;]&quot;);\r\n                }\r\n                /* Is the current character location in the guessed word an\r\n                   actual character within the random word but in a different\r\n                   location (the isInWord() method is used):                */\r\n                else if (isInWord(wordChars, guessChars[i])) {\r\n                    // Yes...Create the appropriate Character Bracketing (ie: [-A-]):\r\n                    sb.append(&quot;[-&quot;).append(guessChars[i]).append(&quot;-]&quot;);\r\n                }\r\n                /* Otherwise the current character location in the guessed \r\n                   word is not within the randomly selected word:       */\r\n                else {\r\n                    // Create the appropriate Character Bracketing (ie: [-]):\r\n                    sb.append(&quot;[-]&quot;);\r\n                }\r\n            }\r\n            \r\n            // Display results from last entry:\r\n            System.out.println(&quot;       &quot; + sb.toString());\r\n        }\r\n        \r\n        /* If all attempts have been made and the `winner` flag \r\n           is still false then inform User that he/she lost the \r\n           game:               */\r\n        if (!winner) {\r\n            System.out.println(&quot;Sorry - You had six attempts but lost this game!&quot;);\r\n        }\r\n    }                                         \r\n\r\n    /**\r\n     * Indicates via true or false whether the supplied character resides within \r\n     * the supplied char[] array:&lt;br&gt;&lt;br&gt;\r\n     * \r\n     * @param wordChars (char[] Array)\r\n     * @param c (char)\r\n     * @return (boolean)\r\n     */\r\n    private boolean isInWord(char[] wordChars, char c) {\r\n        for (int j = 0; j &lt; wordChars.length; j++) {\r\n            if (c == wordChars[j]) { return true; }        \r\n        }\r\n        return false;\r\n    }\r\n    \r\n    /**\r\n     * Randomly selects the &#39;Word Of The Day&#39; from a String[] array.&lt;br&gt;&lt;br&gt;\r\n     * \r\n     * @return (String) The random word\r\n     */\r\n    private String getWordOfTheDay() {\r\n        /* NOTE: These words (and a lot more of them) should be read \r\n           in from a text File! Only here for demo! See the commented\r\n           example code below to read this data from a text file as a\r\n           single string which can then be split into individual words:*/\r\n        \r\n        // Five letter words:\r\n        String words = &quot;aback abase abate abbey abbot abhor abide abled abode abort about &quot;\r\n                + &quot;above abuse abyss acorn acrid actor acute adage adapt adept admin admit &quot;\r\n                + &quot;adobe adopt adore adorn adult affix afire afoot afoul after again agape &quot;\r\n                + &quot;agate agent agile aging aglow agony agree ahead aider aisle alarm album &quot;\r\n                + &quot;alert algae alibi alien align alike alive allay alley allot allow alloy &quot;\r\n                + &quot;aloft alone along aloof aloud alpha altar alter amass amaze amber amble &quot;\r\n                + &quot;amend amiss amity among ample amply amuse angel anger angle angry angst &quot;\r\n                + &quot;anime ankle annex annoy annul anode antic anvil aorta apart aphid aping &quot;\r\n                + &quot;apnea apple apply apron aptly arbor ardor arena argue arise armor aroma &quot;\r\n                + &quot;arose array arrow arson artsy ascot ashen aside askew assay asset atoll &quot;\r\n                + &quot;atone attic audio audit augur aunty avail avert avian avoid await awake &quot;\r\n                + &quot;award aware awash awful awoke axial axiom axion azure bacon badge badly &quot;\r\n                + &quot;bagel baggy baker baler balmy banal banjo barge baron basal basic basil&quot;;\r\n            \r\n        /* \r\n        // Read in Words data from a Text file (&quot;words.txt&quot;). Words are in\r\n        // the text file as a single string where each word is separated\r\n        // with a white-space:\r\n        try {\r\n            String words = new java.util.Scanner(\r\n                   new java.io.File(&quot;MyWordsFile.txt&quot;)).useDelimiter(&quot;\\\\Z&quot;).next();\r\n        }\r\n        catch (FileNotFoundException ex) {\r\n            System.err.println(ex);\r\n        }\r\n        */\r\n        if (words == null || words.isEmpty()) {\r\n            throw new RuntimeException(\r\n                    &quot;getWordOfTheDay() Method Error! Words String Is Null or Empty!&quot;);\r\n        }\r\n        String[] wordsArray = words.split(&quot;\\\\s+&quot;);\r\n        return wordsArray[new java.util.Random().nextInt(wordsArray.length)];\r\n    }\r\n}\r\n```","title":"Java Debug : Wordle game","body":"<p>I believe the code:</p>\n<pre><code>Random r = new Random();\nreturn WORDS[r.nextInt(WORDS.length)];\n</code></pre>\n<p>belongs within the <code>getWordOfTheDay()</code> method which you simply don't provide, for example:</p>\n<pre><code>private String getWordOfTheDay() {\n    Random r = new Random();\n    return WORDS[r.nextInt(WORDS.length)];\n}\n</code></pre>\n<p>It shouldn't be where is resides now.</p>\n<p>The WORDS[] array <em>looks</em> to be a Class constant which is declared and filled within the class members area:</p>\n<pre><code>public class Wordle_P3 {\n\n    private final String[] WORDS = {&quot;quake&quot;, &quot;qualm&quot;, &quot;quark&quot;, &quot;quart&quot;, &quot;quash&quot;, &quot;quasi&quot;, &quot;queen&quot;, &quot;queer&quot;, &quot;quell&quot;,\n             &quot;query&quot;, &quot;quest&quot;, &quot;queue&quot;, &quot;quick&quot;, &quot;quiet&quot;, &quot;quill&quot;, &quot;quilt&quot;, &quot;quirk&quot;, &quot;quite&quot;, &quot;quota&quot;, &quot;quote&quot;, &quot;quoth&quot;,\n             &quot;rabbi&quot;, &quot;rabid&quot;, &quot;racer&quot;, &quot;radar&quot;, &quot;radii&quot;, &quot;radio&quot;, &quot;rainy&quot;, &quot;raise&quot;, &quot;rajah&quot;, &quot;rally&quot;, &quot;ralph&quot;, &quot;ramen&quot;, \n             &quot;ranch&quot;, &quot;randy&quot;, &quot;range&quot;, &quot;rapid&quot;, &quot;rarer&quot;, &quot;raspy&quot;};\n\n    \n    public static void main(String[] args) {\n        // .... game code ...\n    }\n\n    private String getWordOfTheDay() {\n        Random r = new Random();\n       return WORDS[r.nextInt(WORDS.length)];\n    }\n\n}\n</code></pre>\n<p>In my opinion, the WORDS array should be filled from words list within a text file rather than hard-coded but, a few words for demo purposes, this should suffice.</p>\n<p>Your allowing for 6 attempts to guess the randomly provided word but your <code>for</code> loop is allowing for 7 attempts:</p>\n<pre><code>for(int attempts = 0; attempts &lt;= 6; attempts++) {\n\nIteration Value:       0 1 2 3 4 5 6\nNumber of iterations:  1 2 3 4 5 6 7\n</code></pre>\n<p>The <code>attempts &lt;= 6</code> should be <code>attempts &lt; 6</code>. Remove the <code>=</code> from <code>&lt;=</code>.</p>\n<p>Here is a runnable example of how this can work. Be sure to read all the comments in code:</p>\n<pre><code>public class WordleGameDemo {\n\n    // Create Scanner Object\n    private final java.util.Scanner keyboard = new java.util.Scanner(System.in);\n    \n    // System's relative newLine character sequence:\n    private final String ls = System.lineSeparator(); \n    \n    \n    public static void main(String[] args) {\n        /* App started this way to avoid the need for \n           statics unless we realy want them:      */\n        new WordleGameDemo().startApp(args);\n    }\n    \n    private void startApp(String[] args) {\n        // Randomly select a Word:\n        String word = getWordOfTheDay().toUpperCase();\n\n        // Get the selected word length:\n        int wordLength = word.length();\n        \n        // Inform User about the Game:\n        String about = &quot;The Wordle Game&quot; + ls + &quot;===============&quot; + ls + ls\n                     + &quot;You are displayed a Square Bracketed sequence of proposed&quot; + ls\n                     + &quot;characters which make up a word that is randomly selected.&quot; + ls \n                     + &quot;You will be allowed  six attempts to  guess what the word&quot; + ls \n                     + &quot;is. Letters shown in square brackets ( [A] ) are an exact&quot; + ls\n                     + &quot;match and location.  Letters with a hyphen on either side&quot; + ls\n                     + &quot;( [-A-] )  are in the  randomly selected  word but in the &quot; + ls \n                     + &quot;wrong place. Square Bracketed locations with just a hyphen&quot; + ls\n                     + &quot;in them ( [-] ) means there is no letter match at all.&quot; + ls\n                     + &quot;Enter 'q' at any time to quit.&quot; + ls; \n        System.out.println(about);\n        \n        // Display the number of characters within the randomly selected word:\n        System.out.print(&quot;Guess The Word:   &quot;);\n        System.out.println(String.join(&quot;&quot;, java.util.Collections.nCopies(wordLength, &quot;[-]&quot;)) + ls);\n        \n        // Declare a winner flag and initialize it to boolean false:\n        boolean winner = false;\n        \n        // For loop that loops 6 times so that 6 attampts to solve is allowed:\n        for (int attempts = 0; attempts &lt; 6; attempts++) {\n            // Have the user make a guess (contains valildation):\n            String guess = &quot;&quot;;\n            while (guess.isEmpty()) {\n                System.out.print(&quot;Attempt #&quot; + (attempts + 1) \n                               + &quot;: Guess a &quot; + wordLength + &quot; letter word: -&gt; &quot;);\n                /* Get User input and set the result to uppercase and \n                   trim off any leading/trailing whitespaces if any): */\n                guess = keyboard.nextLine().toUpperCase().trim(); \n                \n                // If 'q' is supplied then quit! \n                if (guess.equalsIgnoreCase(&quot;q&quot;)) {\n                    System.out.println(&quot;Quiting - Bye Bye!&quot;);\n                    return; // Returning from here will ultimately end the application:\n                }\n                /* If nothing was enterd or the word supplied was not \n                   the determined random word length then inform User\n                   of an invalid entry and allow to try again:    */\n                if (guess.isEmpty() || guess.length() != wordLength) {\n                    System.out.println(&quot;Invalid Entry (&quot; + guess + &quot;)! Either the guess is blank&quot;\n                            + ls + &quot;or not a &quot; + wordLength + &quot; letter word! Try again...&quot; + ls);\n                    guess = &quot;&quot;;\n                }\n            }\n            \n            // Checking for a win:\n            if (guess.equals(word)) {\n                System.out.println(&quot;Correct! You Won!&quot;);\n                winner = true;\n                break;\n            }\n            \n            StringBuilder sb = new StringBuilder(&quot;&quot;);\n            \n            // Create a char[] array of the randomly selected word to guess:\n            char[] wordChars = word.toCharArray();\n            // Create a char[] array of the User's current supplied word:\n            char[] guessChars = guess.toCharArray();\n            \n            // Iterate through each charaacter of the randomly selected Word:\n            for (int i = 0; i &lt; wordChars.length; i++) {\n                /* Is the current character location in the guessed word the\n                   same character as what is in the random word character at\n                   the same location:                */\n                if (guessChars[i] == wordChars[i]) {\n                    // Yes...Create the appropriate Character Bracketing (ie: [A]):\n                    sb.append(&quot;[&quot;).append(guessChars[i]).append(&quot;]&quot;);\n                }\n                /* Is the current character location in the guessed word an\n                   actual character within the random word but in a different\n                   location (the isInWord() method is used):                */\n                else if (isInWord(wordChars, guessChars[i])) {\n                    // Yes...Create the appropriate Character Bracketing (ie: [-A-]):\n                    sb.append(&quot;[-&quot;).append(guessChars[i]).append(&quot;-]&quot;);\n                }\n                /* Otherwise the current character location in the guessed \n                   word is not within the randomly selected word:       */\n                else {\n                    // Create the appropriate Character Bracketing (ie: [-]):\n                    sb.append(&quot;[-]&quot;);\n                }\n            }\n            \n            // Display results from last entry:\n            System.out.println(&quot;       &quot; + sb.toString());\n        }\n        \n        /* If all attempts have been made and the `winner` flag \n           is still false then inform User that he/she lost the \n           game:               */\n        if (!winner) {\n            System.out.println(&quot;Sorry - You had six attempts but lost this game!&quot;);\n        }\n    }                                         \n\n    /**\n     * Indicates via true or false whether the supplied character resides within \n     * the supplied char[] array:&lt;br&gt;&lt;br&gt;\n     * \n     * @param wordChars (char[] Array)\n     * @param c (char)\n     * @return (boolean)\n     */\n    private boolean isInWord(char[] wordChars, char c) {\n        for (int j = 0; j &lt; wordChars.length; j++) {\n            if (c == wordChars[j]) { return true; }        \n        }\n        return false;\n    }\n    \n    /**\n     * Randomly selects the 'Word Of The Day' from a String[] array.&lt;br&gt;&lt;br&gt;\n     * \n     * @return (String) The random word\n     */\n    private String getWordOfTheDay() {\n        /* NOTE: These words (and a lot more of them) should be read \n           in from a text File! Only here for demo! See the commented\n           example code below to read this data from a text file as a\n           single string which can then be split into individual words:*/\n        \n        // Five letter words:\n        String words = &quot;aback abase abate abbey abbot abhor abide abled abode abort about &quot;\n                + &quot;above abuse abyss acorn acrid actor acute adage adapt adept admin admit &quot;\n                + &quot;adobe adopt adore adorn adult affix afire afoot afoul after again agape &quot;\n                + &quot;agate agent agile aging aglow agony agree ahead aider aisle alarm album &quot;\n                + &quot;alert algae alibi alien align alike alive allay alley allot allow alloy &quot;\n                + &quot;aloft alone along aloof aloud alpha altar alter amass amaze amber amble &quot;\n                + &quot;amend amiss amity among ample amply amuse angel anger angle angry angst &quot;\n                + &quot;anime ankle annex annoy annul anode antic anvil aorta apart aphid aping &quot;\n                + &quot;apnea apple apply apron aptly arbor ardor arena argue arise armor aroma &quot;\n                + &quot;arose array arrow arson artsy ascot ashen aside askew assay asset atoll &quot;\n                + &quot;atone attic audio audit augur aunty avail avert avian avoid await awake &quot;\n                + &quot;award aware awash awful awoke axial axiom axion azure bacon badge badly &quot;\n                + &quot;bagel baggy baker baler balmy banal banjo barge baron basal basic basil&quot;;\n            \n        /* \n        // Read in Words data from a Text file (&quot;words.txt&quot;). Words are in\n        // the text file as a single string where each word is separated\n        // with a white-space:\n        try {\n            String words = new java.util.Scanner(\n                   new java.io.File(&quot;MyWordsFile.txt&quot;)).useDelimiter(&quot;\\\\Z&quot;).next();\n        }\n        catch (FileNotFoundException ex) {\n            System.err.println(ex);\n        }\n        */\n        if (words == null || words.isEmpty()) {\n            throw new RuntimeException(\n                    &quot;getWordOfTheDay() Method Error! Words String Is Null or Empty!&quot;);\n        }\n        String[] wordsArray = words.split(&quot;\\\\s+&quot;);\n        return wordsArray[new java.util.Random().nextInt(wordsArray.length)];\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":30085165,"reputation":1,"user_id":23055855,"display_name":"Daytona"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702014893,"creation_date":1701909717,"question_id":77617067,"body_markdown":"Im trying to create a Wordle game in Java and i keep getting the error &quot;illegal start of expression&quot; can someone help me with this error and program? Confused on why the error keeps popping up and that is how it was given already.\r\n\r\n[enter image description here](https://i.stack.imgur.com/qDTQa.png)\r\n         \r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\n\r\npublic class Wordle_P3{\r\n   public static void main(String[] args) {\r\n      // The code for the word of the day is already in place.\r\n      final String WORD = getWordOfTheDay();\r\n      \r\n      // Create Scanner Object\r\n      \r\n      Scanner keyboard = new Scanner(System.in); \r\n       Random r = new Random();\r\n      \r\n      // For loop that loops 6 times\r\n      \r\n      for(int attempts = 0; attempts &lt;= 6; attempts++){\r\n         // Have the user make a guess\r\n         System.out.println(&quot;Guess a five letter word.&quot;);\r\n         String guess = keyboard.nextLine();\r\n         \r\n         // Make sure that the guess is five letters\r\n         int wordLength = guess.length();\r\n         while(wordLength != 5){\r\n            System.out.println(&quot;Not a five letter word.&quot;);\r\n            guess = keyboard.nextLine();\r\n            wordLength = guess.length();\r\n         }\r\n                  \r\n// Checking for a win\r\n         String upperGuess = guess.toUpperCase();\r\n         if(guess.equals(WORD)){\r\n            System.out.println(&quot;Correct! You Won!&quot;);\r\n            return;\r\n         }\r\n         for(int i = 0; i &lt; 5; i++){\r\n            char guessChar = upperGuess.charAt(i);\r\n            char feedback = &#39;-&#39;;\r\n            for(int j = 0; j &lt; 5; j++){\r\n               char wordChar = WORD.charAt(j);\r\n               if(wordChar == guessChar){\r\n                  if(i == j)\r\n                     feedback = guessChar;\r\n                  else\r\n                     feedback = guess.toLowerCase().charAt(i);\r\n                }\r\n                  System.out.print(feedback);\r\n                  System.out.println();\r\n                }\r\n                  System.out.println(&quot;Sorry, you lost. Word was &quot;+ WORD);\r\n         // Check each letter in guess and see if it is a miss, exct match, or close match\r\n         // for each letter in upperGuess\r\n       }\r\n\r\n    }\r\n \r\n      Random r = new Random();\r\n      return WORDS[r.nextInt(WORDS.length)];     \r\n\r\n   private static final String[] WORDS = {\r\n\r\n//the rest of the code is a bunch of random words that were given for the program\r\n}\r\n```\r\ncan someone help me with this error and program? Confused on why the error keeps popping up and that is how it was given already.\r\n","title":"Java Debug : Wordle game","body":"<p>Im trying to create a Wordle game in Java and i keep getting the error &quot;illegal start of expression&quot; can someone help me with this error and program? Confused on why the error keeps popping up and that is how it was given already.</p>\n<p><a href=\"https://i.stack.imgur.com/qDTQa.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>import java.util.Scanner;\nimport java.util.Random;\n\npublic class Wordle_P3{\n   public static void main(String[] args) {\n      // The code for the word of the day is already in place.\n      final String WORD = getWordOfTheDay();\n      \n      // Create Scanner Object\n      \n      Scanner keyboard = new Scanner(System.in); \n       Random r = new Random();\n      \n      // For loop that loops 6 times\n      \n      for(int attempts = 0; attempts &lt;= 6; attempts++){\n         // Have the user make a guess\n         System.out.println(&quot;Guess a five letter word.&quot;);\n         String guess = keyboard.nextLine();\n         \n         // Make sure that the guess is five letters\n         int wordLength = guess.length();\n         while(wordLength != 5){\n            System.out.println(&quot;Not a five letter word.&quot;);\n            guess = keyboard.nextLine();\n            wordLength = guess.length();\n         }\n                  \n// Checking for a win\n         String upperGuess = guess.toUpperCase();\n         if(guess.equals(WORD)){\n            System.out.println(&quot;Correct! You Won!&quot;);\n            return;\n         }\n         for(int i = 0; i &lt; 5; i++){\n            char guessChar = upperGuess.charAt(i);\n            char feedback = '-';\n            for(int j = 0; j &lt; 5; j++){\n               char wordChar = WORD.charAt(j);\n               if(wordChar == guessChar){\n                  if(i == j)\n                     feedback = guessChar;\n                  else\n                     feedback = guess.toLowerCase().charAt(i);\n                }\n                  System.out.print(feedback);\n                  System.out.println();\n                }\n                  System.out.println(&quot;Sorry, you lost. Word was &quot;+ WORD);\n         // Check each letter in guess and see if it is a miss, exct match, or close match\n         // for each letter in upperGuess\n       }\n\n    }\n \n      Random r = new Random();\n      return WORDS[r.nextInt(WORDS.length)];     \n\n   private static final String[] WORDS = {\n\n//the rest of the code is a bunch of random words that were given for the program\n}\n</code></pre>\n<p>can someone help me with this error and program? Confused on why the error keeps popping up and that is how it was given already.</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":12150509,"reputation":75,"user_id":8870965,"display_name":"code_warrior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702014827,"creation_date":1702014827,"question_id":77624590,"body_markdown":"Given foo.json as ffn\r\n\r\n    {&quot;hardware&quot;:\r\n      {&quot;nut&quot;:[{&quot;id&quot;:1,&quot;type&quot;:&quot;hex&quot;,&quot;size&quot;:&quot;1/4&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;price&quot;:0.12}\r\n             ,{&quot;id&quot;:2,&quot;type&quot;:&quot;hex&quot;,&quot;size&quot;:&quot;5/16&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;price&quot;:0.18}\r\n             ,{&quot;id&quot;:3,&quot;type&quot;:&quot;hex&quot;,&quot;size&quot;:&quot;3/8&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;price&quot;:0.24}]\r\n      ,&quot;bolt&quot;:[{&quot;id&quot;:4,&quot;type&quot;:&quot;hex&quot;,&quot;size&quot;:&quot;5/16&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;length&quot;:4,&quot;price&quot;:0.10}\r\n              ,{&quot;id&quot;:5,&quot;type&quot;:&quot;hex&quot;,&quot;size&quot;:&quot;3/8&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;length&quot;:4,&quot;price&quot;:0.16}\r\n              ,{&quot;id&quot;:6,&quot;type&quot;:&quot;hex&quot;,&quot;size&quot;:&quot;7/16&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;length&quot;:4,&quot;price&quot;:0.31}]\r\n      ,&quot;screw&quot;:[{&quot;id&quot;:7,&quot;type&quot;:&quot;wood&quot;,&quot;size&quot;:&quot;3/8&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;length&quot;:2,&quot;price&quot;:0.64}\r\n               ,{&quot;id&quot;:8,&quot;type&quot;:&quot;wood&quot;,&quot;size&quot;:&quot;1/2&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;length&quot;:2,&quot;price&quot;:0.88}\r\n               ,{&quot;id&quot;:9,&quot;type&quot;:&quot;wood&quot;,&quot;size&quot;:&quot;9/16&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;length&quot;:2,&quot;price&quot;:1.03}]\r\n      }\r\n    }\r\n\r\nand \r\n\r\n    StructType schema = createSchema(); // just assume this works\r\n    spark = SparkSession.builder().master(&quot;local[*]&quot;).getOrCreate();\r\n    Dataset&lt;Row&gt; df = spark.read().option(&quot;multiline&quot;, true).schema( schema).json(ffn);\r\n\r\ninto this:\r\n\r\n    1,hex,nut,hardware,&quot;1/4&quot;,zinc&quot;,null,0.12\r\n    2,hex,nut,hardware,&quot;5/16&quot;,zinc&quot;,null,0.18\r\n    3,hex,nut,hardware,&quot;3/8&quot;,zinc&quot;,null,0.24\r\n    4,hex,bolt,hardware,&quot;5/16&quot;,zinc&quot;,4,0.10\r\n    5,hex,bolt,hardware,&quot;3/8&quot;,zinc&quot;,4,0.16\r\n    6,hex,bolt,hardware,&quot;7/16&quot;,zinc&quot;,4,0.31\r\n    7,wood,screw,hardware,&quot;3/8&quot;,zinc&quot;,2,0.64\r\n    8,wood,screw,hardware,&quot;1/2&quot;,zinc&quot;,2,0.88\r\n    9,wood,screw,hardware,&quot;9/16&quot;,zinc&quot;,2,1.03\r\n\r\nin a nutshell I want to collapse/flatten/explode  the nested structures and arrays into one flat table \r\nkened on the unique key &quot;id&quot; which would then get written into a List&lt;Foo&gt; of class Foo","title":"flattening/exploding nested json to list of objects based on unique key","body":"<p>Given foo.json as ffn</p>\n<pre><code>{&quot;hardware&quot;:\n  {&quot;nut&quot;:[{&quot;id&quot;:1,&quot;type&quot;:&quot;hex&quot;,&quot;size&quot;:&quot;1/4&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;price&quot;:0.12}\n         ,{&quot;id&quot;:2,&quot;type&quot;:&quot;hex&quot;,&quot;size&quot;:&quot;5/16&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;price&quot;:0.18}\n         ,{&quot;id&quot;:3,&quot;type&quot;:&quot;hex&quot;,&quot;size&quot;:&quot;3/8&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;price&quot;:0.24}]\n  ,&quot;bolt&quot;:[{&quot;id&quot;:4,&quot;type&quot;:&quot;hex&quot;,&quot;size&quot;:&quot;5/16&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;length&quot;:4,&quot;price&quot;:0.10}\n          ,{&quot;id&quot;:5,&quot;type&quot;:&quot;hex&quot;,&quot;size&quot;:&quot;3/8&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;length&quot;:4,&quot;price&quot;:0.16}\n          ,{&quot;id&quot;:6,&quot;type&quot;:&quot;hex&quot;,&quot;size&quot;:&quot;7/16&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;length&quot;:4,&quot;price&quot;:0.31}]\n  ,&quot;screw&quot;:[{&quot;id&quot;:7,&quot;type&quot;:&quot;wood&quot;,&quot;size&quot;:&quot;3/8&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;length&quot;:2,&quot;price&quot;:0.64}\n           ,{&quot;id&quot;:8,&quot;type&quot;:&quot;wood&quot;,&quot;size&quot;:&quot;1/2&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;length&quot;:2,&quot;price&quot;:0.88}\n           ,{&quot;id&quot;:9,&quot;type&quot;:&quot;wood&quot;,&quot;size&quot;:&quot;9/16&quot;,&quot;finish&quot;:&quot;zinc&quot;, &quot;length&quot;:2,&quot;price&quot;:1.03}]\n  }\n}\n</code></pre>\n<p>and</p>\n<pre><code>StructType schema = createSchema(); // just assume this works\nspark = SparkSession.builder().master(&quot;local[*]&quot;).getOrCreate();\nDataset&lt;Row&gt; df = spark.read().option(&quot;multiline&quot;, true).schema( schema).json(ffn);\n</code></pre>\n<p>into this:</p>\n<pre><code>1,hex,nut,hardware,&quot;1/4&quot;,zinc&quot;,null,0.12\n2,hex,nut,hardware,&quot;5/16&quot;,zinc&quot;,null,0.18\n3,hex,nut,hardware,&quot;3/8&quot;,zinc&quot;,null,0.24\n4,hex,bolt,hardware,&quot;5/16&quot;,zinc&quot;,4,0.10\n5,hex,bolt,hardware,&quot;3/8&quot;,zinc&quot;,4,0.16\n6,hex,bolt,hardware,&quot;7/16&quot;,zinc&quot;,4,0.31\n7,wood,screw,hardware,&quot;3/8&quot;,zinc&quot;,2,0.64\n8,wood,screw,hardware,&quot;1/2&quot;,zinc&quot;,2,0.88\n9,wood,screw,hardware,&quot;9/16&quot;,zinc&quot;,2,1.03\n</code></pre>\n<p>in a nutshell I want to collapse/flatten/explode  the nested structures and arrays into one flat table\nkened on the unique key &quot;id&quot; which would then get written into a List of class Foo</p>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1701993327,"post_id":77623625,"comment_id":136846579,"body_markdown":"JAVA_HOME is not the bin directory. It&#39;s one above that. So do the first one `(/usr/lib/jvm/java-17-openjdk-amd64/bin/java` but the parent dir","body":"JAVA_HOME is not the bin directory. It&#39;s one above that. So do the first one <code>(&#47;usr&#47;lib&#47;jvm&#47;java-17-openjdk-amd64&#47;bin&#47;java</code> but the parent dir"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1701993655,"post_id":77623625,"comment_id":136846619,"body_markdown":"Yea ... Ubuntu `apt` installs Java under &quot;/usr/lib/jvm&quot;.  There can be multiple versions installed.  But `whereis` only searches `$PATH` and doesn&#39;t follow the symlink chain from &quot;/usr/bin/java&quot; (via &quot;/etc/alternatives/java&quot;) to where the (chosen) executable is actually installed.","body":"Yea ... Ubuntu <code>apt</code> installs Java under &quot;/usr/lib/jvm&quot;.  There can be multiple versions installed.  But <code>whereis</code> only searches <code>$PATH</code> and doesn&#39;t follow the symlink chain from &quot;/usr/bin/java&quot; (via &quot;/etc/alternatives/java&quot;) to where the (chosen) executable is actually installed."},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1701994032,"post_id":77623625,"comment_id":136846653,"body_markdown":"@Michael thanks, but nothing helps. I set the JAVA_HOME=&#39;&#39;, and works. I do not know what to do - gitlab-runner require to set the JAVA_HOME, but gradle doesn&#39;t executes when JAVA_HOME is set","body":"@Michael thanks, but nothing helps. I set the JAVA_HOME=&#39;&#39;, and works. I do not know what to do - gitlab-runner require to set the JAVA_HOME, but gradle doesn&#39;t executes when JAVA_HOME is set"},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1701994277,"post_id":77623625,"comment_id":136846679,"body_markdown":"I found that java actually installed in usr/lib/jvm/java-17-openjdk-amd64/bin/ but gradle doesn&#39;t work with this option.","body":"I found that java actually installed in usr/lib/jvm/java-17-openjdk-amd64/bin/ but gradle doesn&#39;t work with this option."},{"owner":{"account_id":12074869,"reputation":58,"user_id":8828741,"display_name":"Raffa"},"score":1,"creation_date":1701994371,"post_id":77623625,"comment_id":136846687,"body_markdown":"Have you checked if you have the folder in  &quot;/usr/lib/jvm&quot;? If you have, you can set it to point to that folder. Example: `export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64`. You need to check if the folder `java-17-openjdk-amd64` is correct and adapt it to the correct folder.","body":"Have you checked if you have the folder in  &quot;/usr/lib/jvm&quot;? If you have, you can set it to point to that folder. Example: <code>export JAVA_HOME=&#47;usr&#47;lib&#47;jvm&#47;java-17-openjdk-amd64</code>. You need to check if the folder <code>java-17-openjdk-amd64</code> is correct and adapt it to the correct folder."},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":1,"creation_date":1701994563,"post_id":77623625,"comment_id":136846700,"body_markdown":"@Raffa thanks! Without a bin folder must be set! As you said: `/usr/lib/jvm/java-17-openjdk-amd64`","body":"@Raffa thanks! Without a bin folder must be set! As you said: <code>&#47;usr&#47;lib&#47;jvm&#47;java-17-openjdk-amd64</code>"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1701995023,"post_id":77623625,"comment_id":136846750,"body_markdown":"&quot;*Without a bin folder must be set!*&quot; Yes, hence why I told you that 20 minutes earlier: &quot;*JAVA_HOME is not the bin directory. It&#39;s one above that*&quot; lmao","body":"&quot;<i>Without a bin folder must be set!</i>&quot; Yes, hence why I told you that 20 minutes earlier: &quot;<i>JAVA_HOME is not the bin directory. It&#39;s one above that</i>&quot; lmao"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1702015496,"post_id":77623625,"comment_id":136848331,"body_markdown":"`which java` → `/usr/bin/java` and `whereis java` → `java: /usr/bin/java /usr/share/java /usr/share/man/man1/java.1.gz` I believed until today that both commands would return the same content, but it isn&#39;t the case...","body":"<code>which java</code> → <code>&#47;usr&#47;bin&#47;java</code> and <code>whereis java</code> → <code>java: &#47;usr&#47;bin&#47;java &#47;usr&#47;share&#47;java &#47;usr&#47;share&#47;man&#47;man1&#47;java.1.gz</code> I believed until today that both commands would return the same content, but it isn&#39;t the case..."}],"answers":[{"tags":[],"owner":{"account_id":12074869,"reputation":58,"user_id":8828741,"display_name":"Raffa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701994916,"creation_date":1701994916,"answer_id":77623705,"question_id":77623625,"body_markdown":"Using `export JAVA_HOME=/usr/share/java` will point to the bin folder. This is just a symbolic link to the actual installation folder.\r\n\r\nYou should make it if you update it to `export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64`.\r\n\r\nNote you should use the root folder.","title":"Where is java installed in ubuntu?","body":"<p>Using <code>export JAVA_HOME=/usr/share/java</code> will point to the bin folder. This is just a symbolic link to the actual installation folder.</p>\n<p>You should make it if you update it to <code>export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64</code>.</p>\n<p>Note you should use the root folder.</p>\n"},{"tags":[],"owner":{"account_id":16310963,"reputation":27,"user_id":11779611,"display_name":"Golam Rabbi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701994955,"creation_date":1701994955,"answer_id":77623707,"question_id":77623625,"body_markdown":"In Ubuntu, Java is commonly installed in the `/usr/lib/jvm/` directory.\r\n\r\nTo check Java Version: `java -version`","title":"Where is java installed in ubuntu?","body":"<p>In Ubuntu, Java is commonly installed in the <code>/usr/lib/jvm/</code> directory.</p>\n<p>To check Java Version: <code>java -version</code></p>\n"},{"tags":[],"owner":{"account_id":5941380,"reputation":4114,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702014351,"creation_date":1702014351,"answer_id":77624562,"question_id":77623625,"body_markdown":"There are several ways to check where java is installed in ubuntu. Get a terminal window and type in the below commands.\r\n\r\nApproach 1:\r\n\r\n    which java\r\n\r\nApproach 2:\r\n\r\n    update-alternatives --list java\r\n    update-alternatives --display java\r\n\r\nApproach 3: \r\n\r\nChecking JAVA_HOME environment variable\r\n\r\n    echo $JAVA_HOME","title":"Where is java installed in ubuntu?","body":"<p>There are several ways to check where java is installed in ubuntu. Get a terminal window and type in the below commands.</p>\n<p>Approach 1:</p>\n<pre><code>which java\n</code></pre>\n<p>Approach 2:</p>\n<pre><code>update-alternatives --list java\nupdate-alternatives --display java\n</code></pre>\n<p>Approach 3:</p>\n<p>Checking JAVA_HOME environment variable</p>\n<pre><code>echo $JAVA_HOME\n</code></pre>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1702014351,"creation_date":1701993169,"question_id":77623625,"body_markdown":"I have installed java with the command:\r\n\r\n`sudo apt install openkdk-17-jdk`\r\n\r\nNow I installed gradle, but can&#39;t use it, I have received error:\r\n\r\nERROR: JAVA_HOME is set to an invalid directory: /usr/bin/java\r\n\r\n```\r\nPlease set the JAVA_HOME variable in your environment to match the\r\nlocation of your Java installation. \r\n```\r\n\r\n * Need to say I have set the variable on my own since the JAVA_HOME wasn&#39;t set.\r\n\r\nI have tried all the options:\r\n\r\n- `export JAVA_HOME=$(readlink -f $(which java))` (/usr/lib/jvm/java-17-openjdk-amd64/bin/java)\r\n- `export JAVA_HOME=$(which java)` (/usr/bin/java)\r\n- `export JAVA_HOME=/usr/share/java`\r\n\r\nall options from the `whereis java`:  \r\njava: /usr/bin/java /etc/java /usr/share/java /usr/share/man/man1/java.1.gz\r\n\r\n- /usr/bin/java - not a directory\r\n- /etc/java - contains a `security` folder and it all\r\n- /usr/share/java - doesn&#39;t contains a `java`:\r\n```\r\nls /usr/share/java/java*\r\n/usr/share/java/java-atk-wrapper.jar  /usr/share/java/java_defaults.mk  /usr/share/java/javaewah-1.1.7.jar  /usr/share/java/javaewah.jar\r\n```\r\n\r\n\r\n\r\n","title":"Where is java installed in ubuntu?","body":"<p>I have installed java with the command:</p>\n<p><code>sudo apt install openkdk-17-jdk</code></p>\n<p>Now I installed gradle, but can't use it, I have received error:</p>\n<p>ERROR: JAVA_HOME is set to an invalid directory: /usr/bin/java</p>\n<pre><code>Please set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation. \n</code></pre>\n<ul>\n<li>Need to say I have set the variable on my own since the JAVA_HOME wasn't set.</li>\n</ul>\n<p>I have tried all the options:</p>\n<ul>\n<li><code>export JAVA_HOME=$(readlink -f $(which java))</code> (/usr/lib/jvm/java-17-openjdk-amd64/bin/java)</li>\n<li><code>export JAVA_HOME=$(which java)</code> (/usr/bin/java)</li>\n<li><code>export JAVA_HOME=/usr/share/java</code></li>\n</ul>\n<p>all options from the <code>whereis java</code>:<br />\njava: /usr/bin/java /etc/java /usr/share/java /usr/share/man/man1/java.1.gz</p>\n<ul>\n<li>/usr/bin/java - not a directory</li>\n<li>/etc/java - contains a <code>security</code> folder and it all</li>\n<li>/usr/share/java - doesn't contains a <code>java</code>:</li>\n</ul>\n<pre><code>ls /usr/share/java/java*\n/usr/share/java/java-atk-wrapper.jar  /usr/share/java/java_defaults.mk  /usr/share/java/javaewah-1.1.7.jar  /usr/share/java/javaewah.jar\n</code></pre>\n"},{"tags":["java","spring","apache-poi","filereader","fast-excel"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1702006740,"post_id":77624171,"comment_id":136847650,"body_markdown":"If it&#39;s taking an hour to process 70k rows, I highly doubt the bottleneck is the file reader.","body":"If it&#39;s taking an hour to process 70k rows, I highly doubt the bottleneck is the file reader."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1702026899,"post_id":77624171,"comment_id":136849782,"body_markdown":"[As per the Apache POI FAQ entry on memory + performance](https://poi.apache.org/help/faq.html#faq-N10165), 50k rows with 50 columns should take a max of a few seconds on a typical developer machine. Whatever is going wrong must be in your code and not POI!","body":"<a href=\"https://poi.apache.org/help/faq.html#faq-N10165\" rel=\"nofollow noreferrer\">As per the Apache POI FAQ entry on memory + performance</a>, 50k rows with 50 columns should take a max of a few seconds on a typical developer machine. Whatever is going wrong must be in your code and not POI!"}],"answers":[{"tags":[],"owner":{"account_id":11967615,"reputation":1,"user_id":8756856,"display_name":"colvin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1702006995,"creation_date":1702006995,"answer_id":77624223,"question_id":77624171,"body_markdown":"`org.ttzero:eec` supports reading millions of rows of Excel [github links](https://github.com/wangguanquan/eec), Unfortunately, only Chinese documents are available","title":"Read File Excel","body":"<p><code>org.ttzero:eec</code> supports reading millions of rows of Excel <a href=\"https://github.com/wangguanquan/eec\" rel=\"nofollow noreferrer\">github links</a>, Unfortunately, only Chinese documents are available</p>\n"},{"tags":[],"owner":{"account_id":5941380,"reputation":4114,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702014075,"creation_date":1702014075,"answer_id":77624554,"question_id":77624171,"body_markdown":"As @shmosel mentioned I too feel that your issue is in the file reader. Check if the below code works faster than what you have now.\r\n\r\nTry the below code :\r\n\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    \r\n    public class ExcelReader {\r\n        public static void main(String[] args) {\r\n            try (FileInputStream file = new FileInputStream(&quot;path/to/your/excel/file.xlsx&quot;)) {\r\n                \r\n                Workbook workbook = new XSSFWorkbook(file);\r\n    \r\n                \r\n                Sheet sheet = workbook.getSheetAt(0);\r\n    \r\n                \r\n                for (Row row : sheet) {\r\n                    // Iterate over cells\r\n                    for (Cell cell : row) {\r\n                        \r\n                        System.out.print(cell.toString() + &quot;\\t&quot;);\r\n                    }\r\n                    \r\n                    System.out.println();\r\n                }\r\n    \r\n                \r\n                workbook.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Read File Excel","body":"<p>As @shmosel mentioned I too feel that your issue is in the file reader. Check if the below code works faster than what you have now.</p>\n<p>Try the below code :</p>\n<pre><code>import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\npublic class ExcelReader {\n    public static void main(String[] args) {\n        try (FileInputStream file = new FileInputStream(&quot;path/to/your/excel/file.xlsx&quot;)) {\n            \n            Workbook workbook = new XSSFWorkbook(file);\n\n            \n            Sheet sheet = workbook.getSheetAt(0);\n\n            \n            for (Row row : sheet) {\n                // Iterate over cells\n                for (Cell cell : row) {\n                    \n                    System.out.print(cell.toString() + &quot;\\t&quot;);\n                }\n                \n                System.out.println();\n            }\n\n            \n            workbook.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20383611,"reputation":1,"user_id":14953150,"display_name":"Ferdy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1702014075,"creation_date":1702005780,"question_id":77624171,"body_markdown":"I read a big file excel with 70,000 rows and 10 columns with JAVA. I use Apache POI to read and get the data but it takes much time like 1 hour. I changed to using fast-excel to read the file but just can read 2,000 row.\r\n\r\nCan someone suggest to me how to tunning the Apache poi? Or maybe have other solutions? ","title":"Read File Excel","body":"<p>I read a big file excel with 70,000 rows and 10 columns with JAVA. I use Apache POI to read and get the data but it takes much time like 1 hour. I changed to using fast-excel to read the file but just can read 2,000 row.</p>\n<p>Can someone suggest to me how to tunning the Apache poi? Or maybe have other solutions?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1702014151,"post_id":77624518,"comment_id":136848231,"body_markdown":"Does this answer your question? https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\" title=\"scanner is skipping nextline after using next or nextfoo\">stackoverflow.com/questions/13102045/&hellip;</a>"},{"owner":{"account_id":19945034,"reputation":15,"user_id":14615914,"display_name":"creativethoughts"},"score":0,"creation_date":1702014318,"post_id":77624518,"comment_id":136848242,"body_markdown":"Yes im aware of the concepts in the link. Im unsure why the code above isn&#39;t working as i want it to.","body":"Yes im aware of the concepts in the link. Im unsure why the code above isn&#39;t working as i want it to."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1702014518,"post_id":77624518,"comment_id":136848256,"body_markdown":"It&#39;s not working because, as per the linked question, you&#39;re not calling `scan.nextLine();` after `scan.next();` to clear the buffer of the newline characters. IMHO the cleanest way to ingest user input from the console is to *only* use `String input = scan.nextLine();` due to the user having to hit return to push their input into the buffer.","body":"It&#39;s not working because, as per the linked question, you&#39;re not calling <code>scan.nextLine();</code> after <code>scan.next();</code> to clear the buffer of the newline characters. IMHO the cleanest way to ingest user input from the console is to <i>only</i> use <code>String input = scan.nextLine();</code> due to the user having to hit return to push their input into the buffer."},{"owner":{"account_id":19945034,"reputation":15,"user_id":14615914,"display_name":"creativethoughts"},"score":0,"creation_date":1702014934,"post_id":77624518,"comment_id":136848294,"body_markdown":"@Bohemian how would it be used in the if statement to guess whether it matches `char randChar = (char) (&#39;a&#39; + rnd.nextInt(26));`\n\nBecause i put it the way i did to compare to char inputs.","body":"@Bohemian how would it be used in the if statement to guess whether it matches <code>char randChar = (char) (&#39;a&#39; + rnd.nextInt(26));</code>  Because i put it the way i did to compare to char inputs."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1702065173,"post_id":77624518,"comment_id":136855927,"body_markdown":"`guess = input.charAt(0);`. You should probably check if the length of input is 1 first, and if not print an error message and re-ask for a guess.","body":"<code>guess = input.charAt(0);</code>. You should probably check if the length of input is 1 first, and if not print an error message and re-ask for a guess."}],"owner":{"account_id":19945034,"reputation":15,"user_id":14615914,"display_name":"creativethoughts"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702013739,"creation_date":1702013360,"question_id":77624518,"body_markdown":"Have this code so far. it is for the user to guess the letter generated from a-z by the program. Having problems all over the place such as program exiting when its not supposed to, writing &#39;correct&#39; for more than 1 letter. would appreciate any tips and help:\r\n\r\n    Scanner scan = new Scanner (System.in);\r\n        Random rnd = new Random();\r\n        char guess;\r\n        char esc = &#39;y&#39;;\r\n        \r\n        System.out.println(&quot;                            ---OVER UNDER GUESSING GAME---  &quot;);\r\n        \r\n        do{\r\n            char c = (char) 97;  // c == &#39;a&#39;\r\n            int i = &#39;a&#39;;  \r\n            int randNum = 97 + rnd.nextInt(26);\r\n            char randChar = (char) (&#39;a&#39; + rnd.nextInt(26));\r\n            \r\n            System.out.println(&quot;I generated a random letter. Enter your guess:&quot;);\r\n            guess = scan.next().charAt(0);\r\n            \r\n            if((int)guess &lt; (int)randChar)\r\n            {\r\n                System.out.println(&quot;The letter is later in the alphabet&quot;);\r\n                continue;\r\n            }\r\n            else if((int)guess &gt; (int)randChar)\r\n            {\r\n                System.out.println(&quot;The letter is earlier in the alphabet&quot;);\r\n                continue;\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;CORRECT! Do you want to play again?&quot;);\r\n                esc = scan.next().charAt(0);\r\n                \r\n                if(esc == &#39;n&#39;){\r\n                    break;\r\n                }\r\n            }\r\n            \r\n        }while(esc == &#39;y&#39;);\r\n        \r\n        System.out.println(&quot;Ok BYE!&quot;);","title":"Letter guessing game not working properly","body":"<p>Have this code so far. it is for the user to guess the letter generated from a-z by the program. Having problems all over the place such as program exiting when its not supposed to, writing 'correct' for more than 1 letter. would appreciate any tips and help:</p>\n<pre><code>Scanner scan = new Scanner (System.in);\n    Random rnd = new Random();\n    char guess;\n    char esc = 'y';\n    \n    System.out.println(&quot;                            ---OVER UNDER GUESSING GAME---  &quot;);\n    \n    do{\n        char c = (char) 97;  // c == 'a'\n        int i = 'a';  \n        int randNum = 97 + rnd.nextInt(26);\n        char randChar = (char) ('a' + rnd.nextInt(26));\n        \n        System.out.println(&quot;I generated a random letter. Enter your guess:&quot;);\n        guess = scan.next().charAt(0);\n        \n        if((int)guess &lt; (int)randChar)\n        {\n            System.out.println(&quot;The letter is later in the alphabet&quot;);\n            continue;\n        }\n        else if((int)guess &gt; (int)randChar)\n        {\n            System.out.println(&quot;The letter is earlier in the alphabet&quot;);\n            continue;\n        }\n        else\n        {\n            System.out.println(&quot;CORRECT! Do you want to play again?&quot;);\n            esc = scan.next().charAt(0);\n            \n            if(esc == 'n'){\n                break;\n            }\n        }\n        \n    }while(esc == 'y');\n    \n    System.out.println(&quot;Ok BYE!&quot;);\n</code></pre>\n"},{"tags":["java","linux","spring","docker","maven"],"comments":[{"owner":{"account_id":4774314,"reputation":1573,"user_id":6336357,"display_name":"Rick Rackow"},"score":0,"creation_date":1702025353,"post_id":77624537,"comment_id":136849544,"body_markdown":"Does this answer your question? [./configure : /bin/sh^M : bad interpreter](https://stackoverflow.com/questions/2920416/configure-bin-shm-bad-interpreter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2920416/configure-bin-shm-bad-interpreter\">./configure : /bin/sh^M : bad interpreter</a>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1702128470,"post_id":77624537,"comment_id":136860556,"body_markdown":"A Quick fix is to add a space after the `sh`","body":"A Quick fix is to add a space after the <code>sh</code>"}],"owner":{"account_id":16860055,"reputation":864,"user_id":12191075,"display_name":"Haidepzai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1702035278,"answer_count":0,"score":0,"last_activity_date":1702013719,"creation_date":1702013719,"question_id":77624537,"body_markdown":"I&#39;m trying to Docker build my backend but get this error\r\n\r\n```\r\n =&gt; ERROR [5/8] RUN ./mvnw dependency:go-offline                                                                   0.5s\r\n------\r\n &gt; [5/8] RUN ./mvnw dependency:go-offline:\r\n0.474 /bin/sh: ./mvnw: /bin/sh^M: bad interpreter: No such file or directory\r\n------\r\nDockerfile:14\r\n--------------------\r\n  12 |     # the pom.xml file has changed.\r\n  13 |     RUN chmod +x mvnw\r\n  14 | &gt;&gt;&gt; RUN ./mvnw dependency:go-offline\r\n  15 |\r\n  16 |     # Build the Spring Boot project\r\n--------------------\r\nERROR: failed to solve: process &quot;/bin/sh -c ./mvnw dependency:go-offline&quot; did not complete successfully: exit code: 126\r\n```\r\n\r\nThis is my DOCKERFILE\r\n\r\n```\r\n# Use Java as the base image\r\nFROM openjdk:latest\r\n\r\n# Create a working directory\r\nWORKDIR /app\r\n\r\n# Copy the project files into the image\r\nCOPY . .\r\n\r\n# Build all the dependencies in preparation to go offline.\r\nRUN chmod +x mvnw\r\nRUN ./mvnw dependency:go-offline\r\n\r\n# Build the Spring Boot project\r\nRUN ./mvnw package -DskipTests\r\nRUN mkdir -p target/dependency &amp;&amp; (cd target/dependency; jar -xf ../*.jar)\r\n\r\n# Copy the jar file into the image\r\nCOPY target/Backend-0.0.1-SNAPSHOT.jar .\r\n\r\n# Start the server\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;Backend-0.0.1-SNAPSHOT.jar&quot;]\r\n\r\n```\r\n\r\nIs it because of the file format maybe? I am not sure but I read something about `dos2unix `\r\n\r\nI checked this post out but still get the error\r\n\r\nhttps://stackoverflow.com/questions/73984380/ibm-code-engine-docker-dependencygo-offline-no-such-file-or-directory\r\n\r\nAny tips?","title":"/bin/sh: ./mvnw: /bin/sh^M: bad interpreter: No such file or directory","body":"<p>I'm trying to Docker build my backend but get this error</p>\n<pre><code> =&gt; ERROR [5/8] RUN ./mvnw dependency:go-offline                                                                   0.5s\n------\n &gt; [5/8] RUN ./mvnw dependency:go-offline:\n0.474 /bin/sh: ./mvnw: /bin/sh^M: bad interpreter: No such file or directory\n------\nDockerfile:14\n--------------------\n  12 |     # the pom.xml file has changed.\n  13 |     RUN chmod +x mvnw\n  14 | &gt;&gt;&gt; RUN ./mvnw dependency:go-offline\n  15 |\n  16 |     # Build the Spring Boot project\n--------------------\nERROR: failed to solve: process &quot;/bin/sh -c ./mvnw dependency:go-offline&quot; did not complete successfully: exit code: 126\n</code></pre>\n<p>This is my DOCKERFILE</p>\n<pre><code># Use Java as the base image\nFROM openjdk:latest\n\n# Create a working directory\nWORKDIR /app\n\n# Copy the project files into the image\nCOPY . .\n\n# Build all the dependencies in preparation to go offline.\nRUN chmod +x mvnw\nRUN ./mvnw dependency:go-offline\n\n# Build the Spring Boot project\nRUN ./mvnw package -DskipTests\nRUN mkdir -p target/dependency &amp;&amp; (cd target/dependency; jar -xf ../*.jar)\n\n# Copy the jar file into the image\nCOPY target/Backend-0.0.1-SNAPSHOT.jar .\n\n# Start the server\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;Backend-0.0.1-SNAPSHOT.jar&quot;]\n\n</code></pre>\n<p>Is it because of the file format maybe? I am not sure but I read something about <code>dos2unix </code></p>\n<p>I checked this post out but still get the error</p>\n<p><a href=\"https://stackoverflow.com/questions/73984380/ibm-code-engine-docker-dependencygo-offline-no-such-file-or-directory\">IBM Code Engine - Docker - &#39;dependency:go-offline&#39;: No such file or directory</a></p>\n<p>Any tips?</p>\n"},{"tags":["java","azure"],"answers":[{"tags":[],"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701690506,"creation_date":1701690506,"answer_id":77599183,"question_id":77599124,"body_markdown":"Spring boot comes with RestTemplate to provide the solution.\r\n\r\nRestTemplate provides a concise and easy-to-use API for making HTTP requests, reducing the amount of code required to interact with external services.\r\n\r\nSo, you can use Spring framework + Rest Template for your development.","title":"Java implementation for authorization code flow using Azure AD","body":"<p>Spring boot comes with RestTemplate to provide the solution.</p>\n<p>RestTemplate provides a concise and easy-to-use API for making HTTP requests, reducing the amount of code required to interact with external services.</p>\n<p>So, you can use Spring framework + Rest Template for your development.</p>\n"}],"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701745740,"answer_count":1,"score":0,"last_activity_date":1702013527,"creation_date":1701689910,"question_id":77599124,"body_markdown":"Client credential grant type:\r\n\r\n\r\n   \r\n\r\n    String url = https://login.microsoftonline.com/{tenantID}//oauth/v2.0/token; \r\n        Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\r\n        parameters.put(&quot;grant_type&quot;, &quot;client_credentials&quot;);\r\n        parameters.put(&quot;client_id&quot;, &quot;CLIENT_ID&quot;);\r\n        parameters.put(&quot;client_secret&quot;,&quot;CLIENT_SECRET&quot;);\r\n        parameters.put(&quot;scope&quot;, CLIENT_ID/.default);\r\n    \r\n     String form = parameters.keySet().stream()\r\n                .map(key -&gt; key + &quot;=&quot; + URLEncoder.encode(parameters.get(key), StandardCharsets.UTF_8))\r\n                .collect(Collectors.joining(&quot;&amp;&quot;));\r\n    \r\n        HttpClient client = HttpClient.newHttpClient();\r\n        HttpRequest request = HttpRequest.newBuilder().uri(URI.create(url))\r\n                .headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;).POST(BodyPublishers.ofString(form))\r\n                .build();\r\n        HttpResponse&lt;?&gt; response = null;\r\n        try {\r\n            response = client.send(request, BodyHandlers.ofString());\r\n        } catch (IOException | InterruptedException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\nResponse will have access token.\r\nAuthorization Code grant type\r\n\r\nWithout any browser interaction, would like to pass credential from the code to get access token.\r\n\r\nAs I understand first we need to make GET call to get access code then POST call to get access token.\r\n\r\n    Auth URL = https://login.microsoftonline.com/{tenantID}/oauth2/v2.0/authorize\r\n    Access Token URL=https://login.microsoftonline.com/{tenantID}/oauth2/v2.0/token\r\n    Client ID={ClientID} Client Secret={Client_Secret}\r\n    Scope={ClientID}/.default\r\n    Grant Type= Authorization code\r\n    Callback URL : http//redirectURL\r\n\r\nHaving above details able to test token generation with POSTMAN.\r\n\r\nI would like to know how to achieve same using java code without using the spring boot.\r\n\r\nIs it possible to achieve get access token without browser. ","title":"Java implementation for authorization code flow using Azure AD","body":"<p>Client credential grant type:</p>\n<pre><code>String url = https://login.microsoftonline.com/{tenantID}//oauth/v2.0/token; \n    Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\n    parameters.put(&quot;grant_type&quot;, &quot;client_credentials&quot;);\n    parameters.put(&quot;client_id&quot;, &quot;CLIENT_ID&quot;);\n    parameters.put(&quot;client_secret&quot;,&quot;CLIENT_SECRET&quot;);\n    parameters.put(&quot;scope&quot;, CLIENT_ID/.default);\n\n String form = parameters.keySet().stream()\n            .map(key -&gt; key + &quot;=&quot; + URLEncoder.encode(parameters.get(key), StandardCharsets.UTF_8))\n            .collect(Collectors.joining(&quot;&amp;&quot;));\n\n    HttpClient client = HttpClient.newHttpClient();\n    HttpRequest request = HttpRequest.newBuilder().uri(URI.create(url))\n            .headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;).POST(BodyPublishers.ofString(form))\n            .build();\n    HttpResponse&lt;?&gt; response = null;\n    try {\n        response = client.send(request, BodyHandlers.ofString());\n    } catch (IOException | InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n<p>Response will have access token.\nAuthorization Code grant type</p>\n<p>Without any browser interaction, would like to pass credential from the code to get access token.</p>\n<p>As I understand first we need to make GET call to get access code then POST call to get access token.</p>\n<pre><code>Auth URL = https://login.microsoftonline.com/{tenantID}/oauth2/v2.0/authorize\nAccess Token URL=https://login.microsoftonline.com/{tenantID}/oauth2/v2.0/token\nClient ID={ClientID} Client Secret={Client_Secret}\nScope={ClientID}/.default\nGrant Type= Authorization code\nCallback URL : http//redirectURL\n</code></pre>\n<p>Having above details able to test token generation with POSTMAN.</p>\n<p>I would like to know how to achieve same using java code without using the spring boot.</p>\n<p>Is it possible to achieve get access token without browser.</p>\n"},{"tags":["java","spring","webclient"],"owner":{"account_id":22844906,"reputation":39,"user_id":16991369,"display_name":"Mykoliux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702013355,"creation_date":1702013355,"question_id":77624517,"body_markdown":"I have two microservices A and B. I am making a call from B to A microservice endpoint using Spring WebClient. For example, If I make the direct call to A microservice endpoint with incorrect parameters I get a specific Exception `ConstraintViolationException` and the structure is provided as described in my `@ControllerAdvice` class. But if I use Spring WebClient to call I get `WebClientRequestException.BadRequest`. \r\n\r\nHow can I just pass the original Exception `ConstraintViolationException` from microservice A to B when using the WebClient instead of just receiving `WebClientRequestException.BadRequest` ?","title":"How to make Spring WebClient return Specific Exception with correct structure from A microservice in the second microservice after calling endpoint?","body":"<p>I have two microservices A and B. I am making a call from B to A microservice endpoint using Spring WebClient. For example, If I make the direct call to A microservice endpoint with incorrect parameters I get a specific Exception <code>ConstraintViolationException</code> and the structure is provided as described in my <code>@ControllerAdvice</code> class. But if I use Spring WebClient to call I get <code>WebClientRequestException.BadRequest</code>.</p>\n<p>How can I just pass the original Exception <code>ConstraintViolationException</code> from microservice A to B when using the WebClient instead of just receiving <code>WebClientRequestException.BadRequest</code> ?</p>\n"},{"tags":["java","spring-boot","spring-micrometer"],"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702012003,"creation_date":1702008453,"question_id":77624287,"body_markdown":"I&#39;ve spent a few days and could not get it working, new to instrumentation in spring. I have attached picture of my project dependency tree it shows both micrometer-core and spring-boot-starter-actuator. \r\n\r\nError- Consider defining a bean of type &#39;io.micrometer.core.instrument.MeterRegistry&#39; in your configuration.\r\n\r\nAdding my application.yml config\r\n\r\n    management:\r\n     endpoints:\r\n      web:\r\n       exposure:\r\n        include: info, health, loggers, prometheus\r\n     metrics:\r\n      web:\r\n       server:\r\n        request:\r\n          autotime:\r\n            percentiles: 0.50,0.75,0.95,0.99\r\n\r\n[![enter image description here][1]][1][![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BCUZ2.png\r\n  [2]: https://i.stack.imgur.com/VHvuz.png","title":"Spring Boot - Consider defining a bean of type &#39;io.micrometer.core.instrument.MeterRegistry&#39; in your configuration","body":"<p>I've spent a few days and could not get it working, new to instrumentation in spring. I have attached picture of my project dependency tree it shows both micrometer-core and spring-boot-starter-actuator.</p>\n<p>Error- Consider defining a bean of type 'io.micrometer.core.instrument.MeterRegistry' in your configuration.</p>\n<p>Adding my application.yml config</p>\n<pre><code>management:\n endpoints:\n  web:\n   exposure:\n    include: info, health, loggers, prometheus\n metrics:\n  web:\n   server:\n    request:\n      autotime:\n        percentiles: 0.50,0.75,0.95,0.99\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/BCUZ2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BCUZ2.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/VHvuz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VHvuz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","serialization","jackson","objectmapper"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1617142045,"post_id":66878995,"comment_id":118220315,"body_markdown":"Well, you could try to override the standard string serializer, e.g. via `objectMapper.registerModule(new SimpleModule().addSerializer(String.class, new YourCustomStringSerializer()));`. Just make sure to apply that to the correct objectmapper instance.","body":"Well, you could try to override the standard string serializer, e.g. via <code>objectMapper.registerModule(new SimpleModule().addSerializer(String.class, new YourCustomStringSerializer()));</code>. Just make sure to apply that to the correct objectmapper instance."},{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":0,"creation_date":1617142689,"post_id":66878995,"comment_id":118220492,"body_markdown":"Isn&#39;t it marked final?","body":"Isn&#39;t it marked final?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1617143323,"post_id":66878995,"comment_id":118220689,"body_markdown":"The standard string deserializer? It might be (didn&#39;t use it directly myself) but writing a completely new one shouldn&#39;t be too hard - you&#39;d just need to extend `JsonSerializer&lt;String&gt;` and implement a single method: `serialize(...)`.","body":"The standard string deserializer? It might be (didn&#39;t use it directly myself) but writing a completely new one shouldn&#39;t be too hard - you&#39;d just need to extend <code>JsonSerializer&lt;String&gt;</code> and implement a single method: <code>serialize(...)</code>."},{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":0,"creation_date":1617143416,"post_id":66878995,"comment_id":118220722,"body_markdown":"I believe this is the class you&#39;re referring to correct?  https://github.com/netwelfare/jsonstar/blob/master/code/jackson-databind-jackson-databind-2.0.0-RC1/src/main/java/com/fasterxml/jackson/databind/ser/std/StringSerializer.java","body":"I believe this is the class you&#39;re referring to correct?  <a href=\"https://github.com/netwelfare/jsonstar/blob/master/code/jackson-databind-jackson-databind-2.0.0-RC1/src/main/java/com/fasterxml/jackson/databind/ser/std/StringSerializer.java\" rel=\"nofollow noreferrer\">github.com/netwelfare/jsonstar/blob/master/code/&hellip;</a>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1617168869,"post_id":66878995,"comment_id":118225269,"body_markdown":"Yes, seems to be the one. As you can see, it isn&#39;t that complex and copying it to provide your own shouldn&#39;t be a problem.","body":"Yes, seems to be the one. As you can see, it isn&#39;t that complex and copying it to provide your own shouldn&#39;t be a problem."},{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":0,"creation_date":1617223142,"post_id":66878995,"comment_id":118248127,"body_markdown":"Your comment above worked perfectly and solved my issue.","body":"Your comment above worked perfectly and solved my issue."},{"owner":{"account_id":9606247,"reputation":1346,"user_id":9236477,"accept_rate":100,"display_name":"Kaigo"},"score":0,"creation_date":1679565972,"post_id":66878995,"comment_id":133745745,"body_markdown":"make it an answer?","body":"make it an answer?"}],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702011549,"creation_date":1617141568,"question_id":66878995,"body_markdown":"I have some code that pulls data from a DB and populates a POJO.  That POJO then gets serialized and pushed into an elasticsearch cluster.\r\n\r\nThe problem I am having is that one of the fields in the database was free text and people just put in a &lt;space&gt; to get around the required field.\r\n\r\nI&#39;d like to be able to strip that whitespace out when pushing to elastic.\r\n\r\nHere&#39;s an example of my pojo\r\n\r\n\r\n    public class Destination {\r\n        Long id;\r\n        ...\r\n        ...\r\n        String Address;\r\n\r\n    }\r\n\r\nI am using Jackson to turn this into JSON using the ObjectMapper class. ie\r\n``` mapper.convertTo(dest, Map.class) ```\r\n\r\nWhen I view the value in elastic I am seeing:\r\n\r\n```{&quot;id&quot;:1, ..., &quot;address&quot;: &quot; &quot;}```\r\n\r\n\r\nIdeally, in this case, I&#39;d **just** like to see the &quot;id&quot; property since the &quot;address&quot; is essentially null.\r\n\r\nI&#39;ve tried using ObjectMapper&#39;s serialization properties, but nothing seems to be working.  Is there a standard way that this is being handled?  How does Spring handle this?\r\n\r\n\r\nI&#39;ve seen similar questions asked (https://stackoverflow.com/questions/59821176/jackson-json-serialization-remove-blank-strings), but I&#39;m not sure how to apply that solution globally, rather than just at the class level, or if you can apply it globally.","title":"Jackson serialization and remove empty space","body":"<p>I have some code that pulls data from a DB and populates a POJO.  That POJO then gets serialized and pushed into an elasticsearch cluster.</p>\n<p>The problem I am having is that one of the fields in the database was free text and people just put in a  to get around the required field.</p>\n<p>I'd like to be able to strip that whitespace out when pushing to elastic.</p>\n<p>Here's an example of my pojo</p>\n<pre><code>public class Destination {\n    Long id;\n    ...\n    ...\n    String Address;\n\n}\n</code></pre>\n<p>I am using Jackson to turn this into JSON using the ObjectMapper class. ie\n<code>mapper.convertTo(dest, Map.class)</code></p>\n<p>When I view the value in elastic I am seeing:</p>\n<p><code>{&quot;id&quot;:1, ..., &quot;address&quot;: &quot; &quot;}</code></p>\n<p>Ideally, in this case, I'd <strong>just</strong> like to see the &quot;id&quot; property since the &quot;address&quot; is essentially null.</p>\n<p>I've tried using ObjectMapper's serialization properties, but nothing seems to be working.  Is there a standard way that this is being handled?  How does Spring handle this?</p>\n<p>I've seen similar questions asked (<a href=\"https://stackoverflow.com/questions/59821176/jackson-json-serialization-remove-blank-strings\">Jackson Json Serialization : Remove Blank strings</a>), but I'm not sure how to apply that solution globally, rather than just at the class level, or if you can apply it globally.</p>\n"},{"tags":["java","system-properties"],"comments":[{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1701936006,"post_id":77618383,"comment_id":136837122,"body_markdown":"What happens if you run `which java`? My guess is the problem is an entry in your PATH environment variable rather than anything else.","body":"What happens if you run <code>which java</code>? My guess is the problem is an entry in your PATH environment variable rather than anything else."},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1701936062,"post_id":77618383,"comment_id":136837128,"body_markdown":"(And possibly a system application association - it doesn&#39;t help that we don&#39;t know what operating system you&#39;re using.) When you say &quot;double-clicking my app&quot; do you mean the jar file, or something else?","body":"(And possibly a system application association - it doesn&#39;t help that we don&#39;t know what operating system you&#39;re using.) When you say &quot;double-clicking my app&quot; do you mean the jar file, or something else?"},{"owner":{"account_id":1684128,"reputation":525,"user_id":2103678,"accept_rate":83,"display_name":"skiaddict1"},"score":0,"creation_date":1701936412,"post_id":77618383,"comment_id":136837173,"body_markdown":"My apologies, I forgot that this forum is not Mac-Java specific, my bad.  Have edited OP in response to your second comment.  Re your first comment, what is `which java` please?","body":"My apologies, I forgot that this forum is not Mac-Java specific, my bad.  Have edited OP in response to your second comment.  Re your first comment, what is <code>which java</code> please?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1701936757,"post_id":77618383,"comment_id":136837214,"body_markdown":"its a linux command to find path names.","body":"its a linux command to find path names."},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1701936914,"post_id":77618383,"comment_id":136837238,"body_markdown":"@experimentunit1998X: It&#39;s not Linux-specific. I&#39;d expect it to be present on most Unix variants, including macOS.","body":"@experimentunit1998X: It&#39;s not Linux-specific. I&#39;d expect it to be present on most Unix variants, including macOS."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1701937241,"post_id":77618383,"comment_id":136837294,"body_markdown":"How did you launch the Java executable? `java` or `./java`?","body":"How did you launch the Java executable? <code>java</code> or <code>.&#47;java</code>?"},{"owner":{"account_id":1684128,"reputation":525,"user_id":2103678,"accept_rate":83,"display_name":"skiaddict1"},"score":0,"creation_date":1701980917,"post_id":77618383,"comment_id":136845060,"body_markdown":"@JonSkeet, `which java` gives me `/usr/bin/java`.","body":"@JonSkeet, <code>which java</code> gives me <code>&#47;usr&#47;bin&#47;java</code>."},{"owner":{"account_id":1684128,"reputation":525,"user_id":2103678,"accept_rate":83,"display_name":"skiaddict1"},"score":0,"creation_date":1701980979,"post_id":77618383,"comment_id":136845071,"body_markdown":"@BoristheSpider, see edited OP.","body":"@BoristheSpider, see edited OP."},{"owner":{"account_id":1684128,"reputation":525,"user_id":2103678,"accept_rate":83,"display_name":"skiaddict1"},"score":0,"creation_date":1701983137,"post_id":77618383,"comment_id":136845401,"body_markdown":"@JonSkeet, my PATH contains the following: `/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/MacGPG2/bin:/Library/Apple/usr/bin:/opt/subversion/bin:/usr/local/apache-ant-1.9.7/bin`.  HomeBrew is not currently installed on my machine, I think I tried using it a while back but gave up trying to get it to work.","body":"@JonSkeet, my PATH contains the following: <code>&#47;opt&#47;homebrew&#47;bin:&#47;opt&#47;homebrew&#47;sbin:&#47;usr&#47;local&#47;bin:&#47;usr&#47;bin&zwnj;&#8203;:&#47;bin:&#47;usr&#47;sbin:&#47;sbi&zwnj;&#8203;n:&#47;usr&#47;local&#47;MacGPG2&zwnj;&#8203;&#47;bin:&#47;Library&#47;Apple&#47;&zwnj;&#8203;usr&#47;bin:&#47;opt&#47;subvers&zwnj;&#8203;ion&#47;bin:&#47;usr&#47;local&#47;a&zwnj;&#8203;pache-ant-1.9.7&#47;bin</code>.  HomeBrew is not currently installed on my machine, I think I tried using it a while back but gave up trying to get it to work."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1701983775,"post_id":77618383,"comment_id":136845501,"body_markdown":"On some Linux systems `/usr/bin/java` is a script or symlink that finds the real java to execute. In any case it looks like you just did not run the JVM you intended to run.","body":"On some Linux systems <code>&#47;usr&#47;bin&#47;java</code> is a script or symlink that finds the real java to execute. In any case it looks like you just did not run the JVM you intended to run."},{"owner":{"account_id":1684128,"reputation":525,"user_id":2103678,"accept_rate":83,"display_name":"skiaddict1"},"score":0,"creation_date":1701986179,"post_id":77618383,"comment_id":136845802,"body_markdown":"Here is what my Terminal says when I go `ls -la /usr/bin`: `-rwxr-xr-x   52 root   wheel   168432   12 Oct 23:16   java` (obviously there&#39;s a bunch of other stuff in there too)","body":"Here is what my Terminal says when I go <code>ls -la &#47;usr&#47;bin</code>: <code>-rwxr-xr-x   52 root   wheel   168432   12 Oct 23:16   java</code> (obviously there&#39;s a bunch of other stuff in there too)"}],"answers":[{"tags":[],"owner":{"account_id":5224617,"reputation":6216,"user_id":4177009,"display_name":"Ture P&#229;lsson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1702010348,"creation_date":1702010348,"answer_id":77624374,"question_id":77618383,"body_markdown":"A somewhat sketchy answer, but since nobody else has tried... If I’m completely wrong, I guess I’ll provoke someone to write a better answer. :-)\r\n\r\nThe usual way (I think...) to run Java on macOS is to always use `/usr/bin/java` and set `JAVA_HOME` to the version you want; there is usually no need to mess around with `PATH`. The `java` installed in `/usr/bin` is a “shim” that launches the real Java runtime.\r\n\r\nI must confess I do not know what happens when you double-click a .jar file. It is *probably* not affected by your setting `JAVA_HOME`, because is is quite tricky to set environment variables in a way that actually affects the Finder (just editing `.*shrc` won’t do).\r\n\r\nI know even less how a Java program packaged as an app bundle gets launched (and it probably depends on exactly how the packaging was done – I have seen different variants of this). My *guess* would be that, somewhere inside the `MyApp.app` bundle, there’s in `Info.plist` property list file that controls the Java version to use.\r\n\r\nThe current working directory (i.e, where you’re `cd`:d to) when you invoke `java` has no effect on which implementation gets chosen. (Unless you have `.` in your `PATH`, but you haven’t — good!).\r\n\r\nSo, my recommendation would be\r\n\r\n - Don’t put any exotic Java stuff in `PATH` (and it seems like you haven’t —&#160;good!).\r\n - Set `JAVA_HOME`.\r\n - Run `java -jar /Path/to/the/app/foo.jar`","title":"java.version returning surprising value","body":"<p>A somewhat sketchy answer, but since nobody else has tried... If I’m completely wrong, I guess I’ll provoke someone to write a better answer. :-)</p>\n<p>The usual way (I think...) to run Java on macOS is to always use <code>/usr/bin/java</code> and set <code>JAVA_HOME</code> to the version you want; there is usually no need to mess around with <code>PATH</code>. The <code>java</code> installed in <code>/usr/bin</code> is a “shim” that launches the real Java runtime.</p>\n<p>I must confess I do not know what happens when you double-click a .jar file. It is <em>probably</em> not affected by your setting <code>JAVA_HOME</code>, because is is quite tricky to set environment variables in a way that actually affects the Finder (just editing <code>.*shrc</code> won’t do).</p>\n<p>I know even less how a Java program packaged as an app bundle gets launched (and it probably depends on exactly how the packaging was done – I have seen different variants of this). My <em>guess</em> would be that, somewhere inside the <code>MyApp.app</code> bundle, there’s in <code>Info.plist</code> property list file that controls the Java version to use.</p>\n<p>The current working directory (i.e, where you’re <code>cd</code>:d to) when you invoke <code>java</code> has no effect on which implementation gets chosen. (Unless you have <code>.</code> in your <code>PATH</code>, but you haven’t — good!).</p>\n<p>So, my recommendation would be</p>\n<ul>\n<li>Don’t put any exotic Java stuff in <code>PATH</code> (and it seems like you haven’t — good!).</li>\n<li>Set <code>JAVA_HOME</code>.</li>\n<li>Run <code>java -jar /Path/to/the/app/foo.jar</code></li>\n</ul>\n"}],"owner":{"account_id":1684128,"reputation":525,"user_id":2103678,"accept_rate":83,"display_name":"skiaddict1"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77624374,"answer_count":1,"score":0,"last_activity_date":1702010348,"creation_date":1701935124,"question_id":77618383,"body_markdown":"I am trying to test legacy code under a different JRE than that which it was written for.  Running under Mac OS Monterey, 12.7.1.  Let&#39;s call them JRE_old and JRE_new.  To be certain which one my code is running under, I have the following statement in my inits:\r\n\r\n    System.err.println(System.getProperty(&quot;java.version&quot;));\r\n\r\nI have tried `cd`ing my Terminal to `JRE_new/Contents/Home/bin`, and launching the java there on my app&#39;s jar file (`java -jar &lt;path to the jar&gt;`), but the version string output is that of JRE_old.\r\n\r\nI have also tried setting `JAVA_HOME` to point to `JRE_new/Contents/Home`, and double-clicking my app (= MyApp.app), but again, JRE_old&#39;s version string is output.\r\n\r\nCan someone please tell me where I am going wrong?  Thank you! :-)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55399001/what-is-the-difference-in-properties-java-runtime-version-and-java-version","title":"java.version returning surprising value","body":"<p>I am trying to test legacy code under a different JRE than that which it was written for.  Running under Mac OS Monterey, 12.7.1.  Let's call them JRE_old and JRE_new.  To be certain which one my code is running under, I have the following statement in my inits:</p>\n<pre><code>System.err.println(System.getProperty(&quot;java.version&quot;));\n</code></pre>\n<p>I have tried <code>cd</code>ing my Terminal to <code>JRE_new/Contents/Home/bin</code>, and launching the java there on my app's jar file (<code>java -jar &lt;path to the jar&gt;</code>), but the version string output is that of JRE_old.</p>\n<p>I have also tried setting <code>JAVA_HOME</code> to point to <code>JRE_new/Contents/Home</code>, and double-clicking my app (= MyApp.app), but again, JRE_old's version string is output.</p>\n<p>Can someone please tell me where I am going wrong?  Thank you! :-)</p>\n"},{"tags":["java","android","gradle"],"owner":{"account_id":20144489,"reputation":3,"user_id":14773355,"display_name":"A4tech Malayalam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702010191,"creation_date":1702010191,"question_id":77624365,"body_markdown":"Launching lib\\main.dart on Android SDK built for x86 in debug mode...\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\n\r\n    subprojects {\r\n        project.evaluationDependsOn(&#39;:app&#39;)\r\n    }\r\n\r\n* What went wrong:\r\nA problem occurred evaluating root project &#39;android&#39;.\r\n   &gt; org/gradle/initialization/BuildCompletionListener\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --scan to get full insights.\r\n&gt; Get more help at https://help.gradle.org.\r\n\r\nBUILD FAILED in 1m 57s\r\nRunning Gradle task &#39;assembleDebug&#39;...                            118.6s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\nwhen runnning --stacktrace command\r\n\r\nStarting a Gradle Daemon, 1 incompatible Daemon could not be reused, use --status for details\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nline 26 : \r\n\r\n    subprojects {\r\n        project.evaluationDependsOn(&#39;:app&#39;)\r\n    }\r\n\r\n* What went wrong:\r\nA problem occurred evaluating root project &#39;android&#39;.\r\n&gt; Build completed with 1 failures.\r\n   &gt; org/gradle/initialization/BuildCompletionListener\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; Get more help at https://help.gradle.org.\r\n\r\nmany lines there","title":"A problem occurred evaluating root project &#39;android&#39;, &#39;org/gradle/initialization/BuildCompletionListener&#39;","body":"<p>Launching lib\\main.dart on Android SDK built for x86 in debug mode...</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>Where:</p>\n<p>subprojects {\nproject.evaluationDependsOn(':app')\n}</p>\n</li>\n<li><p>What went wrong:\nA problem occurred evaluating root project 'android'.</p>\n<blockquote>\n<p>org/gradle/initialization/BuildCompletionListener</p>\n</blockquote>\n</li>\n<li><p>Try:</p>\n</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --scan to get full insights.\nGet more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a>.</p>\n</blockquote>\n<p>BUILD FAILED in 1m 57s\nRunning Gradle task 'assembleDebug'...                            118.6s\nException: Gradle task assembleDebug failed with exit code 1</p>\n<p>when runnning --stacktrace command</p>\n<p>Starting a Gradle Daemon, 1 incompatible Daemon could not be reused, use --status for details</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>Where:\nline 26 :</p>\n<p>subprojects {\nproject.evaluationDependsOn(':app')\n}</p>\n</li>\n<li><p>What went wrong:\nA problem occurred evaluating root project 'android'.</p>\n</li>\n</ul>\n<blockquote>\n<p>Build completed with 1 failures.\norg/gradle/initialization/BuildCompletionListener</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --info or --debug option to get more log output.\nRun with --scan to get full insights.\nGet more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a>.</p>\n</blockquote>\n<p>many lines there</p>\n"},{"tags":["java","maven","jenkins","jenkins-plugins"],"owner":{"account_id":30094893,"reputation":1,"user_id":23063391,"display_name":"mahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702010156,"creation_date":1702010156,"question_id":77624362,"body_markdown":"    public void perform(Run&lt;?, ?&gt; run, FilePath workspace, EnvVars env, Launcher launcher, TaskListener listener)\r\n            throws InterruptedException, IOException {\r\n        String selectedNodeName = getNodeName();\r\n        Node selectedNode = Jenkins.get().getNode(selectedNodeName);\r\n        String currentBuildNode = Computer.currentComputer().getName();\r\n        if (selectedNodeName.equals(currentBuildNode)) {\r\n            listener.getLogger().println(&quot;Build is already running on the selected node: &quot; + selectedNodeName);\r\n            // launcher.launch().cmds(&quot;echo&quot;, &quot;Hello from &quot; + selectedNodeName).join();\r\n        } else {\r\n            // Node selectedNode = Jenkins.get().getNode(selectedNodeName);\r\n\r\n            if (selectedNode != null) {\r\n                AbstractProject&lt;?, ?&gt; project = (AbstractProject&lt;?, ?&gt;) run.getParent();\r\n                project.setAssignedNode(selectedNode);\r\n                project.scheduleBuild2(0);\r\n                listener.getLogger().println(&quot;Selected Node: &quot; + selectedNodeName);\r\n                launcher.launch().cmds(&quot;echo&quot;, &quot;Hello from &quot; + selectedNodeName).join();\r\n            } else {\r\n                listener.getLogger().println(&quot;Node Not Found: &quot; + selectedNodeName);\r\n            }\r\n        }\r\n    }\r\nand also it triggers the &quot;Restrict where this project run&quot; feature i dont know why?\r\n\r\ni am creating a plugin for selecting a node to run a job on that node ,but it first runs on the built-in node and after it triggers the &quot;Resstrict where this project can run&quot;,why it is happening like that?","title":"i want to run a job on specific node,but first runs on built-in node and after that it runs on the selected node","body":"<pre><code>public void perform(Run&lt;?, ?&gt; run, FilePath workspace, EnvVars env, Launcher launcher, TaskListener listener)\n        throws InterruptedException, IOException {\n    String selectedNodeName = getNodeName();\n    Node selectedNode = Jenkins.get().getNode(selectedNodeName);\n    String currentBuildNode = Computer.currentComputer().getName();\n    if (selectedNodeName.equals(currentBuildNode)) {\n        listener.getLogger().println(&quot;Build is already running on the selected node: &quot; + selectedNodeName);\n        // launcher.launch().cmds(&quot;echo&quot;, &quot;Hello from &quot; + selectedNodeName).join();\n    } else {\n        // Node selectedNode = Jenkins.get().getNode(selectedNodeName);\n\n        if (selectedNode != null) {\n            AbstractProject&lt;?, ?&gt; project = (AbstractProject&lt;?, ?&gt;) run.getParent();\n            project.setAssignedNode(selectedNode);\n            project.scheduleBuild2(0);\n            listener.getLogger().println(&quot;Selected Node: &quot; + selectedNodeName);\n            launcher.launch().cmds(&quot;echo&quot;, &quot;Hello from &quot; + selectedNodeName).join();\n        } else {\n            listener.getLogger().println(&quot;Node Not Found: &quot; + selectedNodeName);\n        }\n    }\n}\n</code></pre>\n<p>and also it triggers the &quot;Restrict where this project run&quot; feature i dont know why?</p>\n<p>i am creating a plugin for selecting a node to run a job on that node ,but it first runs on the built-in node and after it triggers the &quot;Resstrict where this project can run&quot;,why it is happening like that?</p>\n"},{"tags":["java","android","firebase"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633442215,"creation_date":1633429498,"answer_id":69448795,"question_id":69448582,"body_markdown":"To sllve this, please chenche the folllwing lines of code:\r\n\r\n    implementation &#39;com.google.firebase:firebase-analytics:17.2.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:19.2.0&#39;\r\n\r\nTo:\r\n\r\n    implementation platform(&quot;com.google.firebase:firebase-bom:28.4.1&quot;)\r\n    implementation &quot;com.google.firebase:firebase-analytics&quot;\r\n    implementation &quot;com.google.firebase:firebase-database&quot;\r\n\r\nThere is no need to specify any versions for the Analytics, nor for the Realtime Database. More information:\r\n\r\n* https://firebase.google.com/support/release-notes/android\r\n\r\nBesides that, there is no need to call `initializeApp()`. If you perform a standard integration, Firebase will be initialized automatically at the app start. Please see more about this in the [API docs for FirebaseApp][1].\r\n\r\n**Edit:**\r\n\r\nDon&#39;t also forget to add:\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;com.google.gms.google-services&#39; //Newly added\r\n    }\r\n\r\nAt the top of your Gradle file.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/FirebaseApp","title":"Make sure to call FirebaseApp.initializeApp(Context) first.Default FirebaseApp is not initialized in this process","body":"<p>To sllve this, please chenche the folllwing lines of code:</p>\n<pre><code>implementation 'com.google.firebase:firebase-analytics:17.2.1'\nimplementation 'com.google.firebase:firebase-database:19.2.0'\n</code></pre>\n<p>To:</p>\n<pre><code>implementation platform(&quot;com.google.firebase:firebase-bom:28.4.1&quot;)\nimplementation &quot;com.google.firebase:firebase-analytics&quot;\nimplementation &quot;com.google.firebase:firebase-database&quot;\n</code></pre>\n<p>There is no need to specify any versions for the Analytics, nor for the Realtime Database. More information:</p>\n<ul>\n<li><a href=\"https://firebase.google.com/support/release-notes/android\" rel=\"nofollow noreferrer\">https://firebase.google.com/support/release-notes/android</a></li>\n</ul>\n<p>Besides that, there is no need to call <code>initializeApp()</code>. If you perform a standard integration, Firebase will be initialized automatically at the app start. Please see more about this in the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/FirebaseApp\" rel=\"nofollow noreferrer\">API docs for FirebaseApp</a>.</p>\n<p><strong>Edit:</strong></p>\n<p>Don't also forget to add:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services' //Newly added\n}\n</code></pre>\n<p>At the top of your Gradle file.</p>\n"},{"tags":[],"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"صلي علي محمد - Atef Farouk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702010122,"creation_date":1702010122,"answer_id":77624359,"question_id":69448582,"body_markdown":"The accepted answer was not working for me, and it was solved by changing the below line in gradle build project level from :\r\n\r\n            classpath &#39;com.google.gms:google-services:4.4.0&#39; \r\nto \r\n\r\n            classpath &#39;com.google.gms:google-services:4.3.15&#39; ","title":"Make sure to call FirebaseApp.initializeApp(Context) first.Default FirebaseApp is not initialized in this process","body":"<p>The accepted answer was not working for me, and it was solved by changing the below line in gradle build project level from :</p>\n<pre><code>        classpath 'com.google.gms:google-services:4.4.0' \n</code></pre>\n<p>to</p>\n<pre><code>        classpath 'com.google.gms:google-services:4.3.15' \n</code></pre>\n"}],"owner":{"account_id":22946831,"reputation":13,"user_id":17078713,"display_name":"Aditya Advani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1809,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69448795,"answer_count":2,"score":1,"last_activity_date":1702010122,"creation_date":1633428554,"question_id":69448582,"body_markdown":"**I am facing this issue and seen some answers on this site but did not get any proper solution.\r\nI have used previous version of Firebase which works fine but when I try to upgrade using Upgradation and update Firebase class to DatabaseReference it shows error and not working.**\r\n\r\n[Error Screenshot][1]\r\n\r\n**My Module app is given below:**\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion &#39;30.0.2&#39;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.lasthope&quot;\r\n        minSdkVersion 28\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.1&#39;\r\n    implementation &#39;org.jetbrains:annotations:15.0&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    //\r\n    implementation &#39;com.google.firebase:firebase-analytics:17.2.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:19.2.0&#39;\r\n}\r\n````\r\n**and Project gradle is**\r\n\r\n\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &quot;com.android.tools.build:gradle:4.2.2&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        jcenter() // Warning: this repository is going to shut down soon\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n````\r\n**Below is my Activity**\r\n```package com.example.lasthope;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\n\r\nimport com.google.firebase.FirebaseApp;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\nprivate ListView listview;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        FirebaseApp.initializeApp(this);\r\n        setContentView(R.layout.activity_main);\r\n        listview=findViewById(R.id.listview);\r\n        ArrayList&lt;String&gt;list = new ArrayList&lt;&gt;();\r\n        ArrayAdapter adapter = new ArrayAdapter&lt;String&gt;(this,R.layout.activity_main,list);\r\n        listview.setAdapter(adapter);\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference().child(&quot;items&quot;);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull @NotNull DataSnapshot dataSnapshot) {\r\n                list.clear();\r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()){\r\n                    list.add(snapshot.getValue().toString());\r\n\r\n                }\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull @NotNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n````\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NaYyo.png","title":"Make sure to call FirebaseApp.initializeApp(Context) first.Default FirebaseApp is not initialized in this process","body":"<p><strong>I am facing this issue and seen some answers on this site but did not get any proper solution.\nI have used previous version of Firebase which works fine but when I try to upgrade using Upgradation and update Firebase class to DatabaseReference it shows error and not working.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/NaYyo.png\" rel=\"nofollow noreferrer\">Error Screenshot</a></p>\n<p><strong>My Module app is given below:</strong></p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion '30.0.2'\n\n    defaultConfig {\n        applicationId &quot;com.example.lasthope&quot;\n        minSdkVersion 28\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.3.1'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.1'\n    implementation 'org.jetbrains:annotations:15.0'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    //\n    implementation 'com.google.firebase:firebase-analytics:17.2.1'\n    implementation 'com.google.firebase:firebase-database:19.2.0'\n}\n</code></pre>\n<p><strong>and Project gradle is</strong></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:4.2.2&quot;\n        classpath 'com.google.gms:google-services:4.3.10'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        jcenter() // Warning: this repository is going to shut down soon\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>Below is my Activity</strong></p>\n<pre><code>\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\n\nimport com.google.firebase.FirebaseApp;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport org.jetbrains.annotations.NotNull;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\nprivate ListView listview;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        FirebaseApp.initializeApp(this);\n        setContentView(R.layout.activity_main);\n        listview=findViewById(R.id.listview);\n        ArrayList&lt;String&gt;list = new ArrayList&lt;&gt;();\n        ArrayAdapter adapter = new ArrayAdapter&lt;String&gt;(this,R.layout.activity_main,list);\n        listview.setAdapter(adapter);\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference().child(&quot;items&quot;);\n        reference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull @NotNull DataSnapshot dataSnapshot) {\n                list.clear();\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()){\n                    list.add(snapshot.getValue().toString());\n\n                }\n                adapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull @NotNull DatabaseError databaseError) {\n\n            }\n        });\n    }\n\n}\n</code></pre>\n"},{"tags":["java","html","printing"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1308859027,"post_id":6459746,"comment_id":7587879,"body_markdown":"In what form is the &quot;chunk of html&quot; now? Is it in a file?  If so, you could just open the file and copy it to stdout. Take a look at http://commons.apache.org/io/api-release/org/apache/commons/io/IOUtils.html#copy(java.io.InputStream,%20java.io.OutputStream)","body":"In what form is the &quot;chunk of html&quot; now? Is it in a file?  If so, you could just open the file and copy it to stdout. Take a look at <a href=\"http://commons.apache.org/io/api-release/org/apache/commons/io/IOUtils.html#copy(java.io.InputStream,%20java.io.OutputStream)\" rel=\"nofollow noreferrer\">commons.apache.org/io/api-release/org/apache/commons/io/&hellip;</a>"},{"owner":{"account_id":419170,"reputation":2603,"user_id":796181,"accept_rate":75,"display_name":"helios"},"score":0,"creation_date":1308861516,"post_id":6459746,"comment_id":7588519,"body_markdown":"You mentioned that output will be saved back to the same html file...does that mean that you have another source that generates the the base HTML file(s) for you to consume?","body":"You mentioned that output will be saved back to the same html file...does that mean that you have another source that generates the the base HTML file(s) for you to consume?"},{"owner":{"account_id":771354,"reputation":21,"user_id":812887,"display_name":"Lehan"},"score":0,"creation_date":1308864096,"post_id":6459746,"comment_id":7589165,"body_markdown":"the chunk of html is actually the header for the output HTML file, and yes, the rest of the file is generated from another source file (plain text). \nWhat I need to do is convert a directory of files into html, each having the same header. That is why I want to know how to print a bunch of html code into a file","body":"the chunk of html is actually the header for the output HTML file, and yes, the rest of the file is generated from another source file (plain text).  What I need to do is convert a directory of files into html, each having the same header. That is why I want to know how to print a bunch of html code into a file"}],"answers":[{"tags":[],"owner":{"account_id":428580,"reputation":35982,"user_id":811001,"accept_rate":85,"display_name":"tskuzzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308858567,"creation_date":1308858567,"answer_id":6459771,"question_id":6459746,"body_markdown":"You can look at some Java libraries for parsing HTML code. A quick Google search tuns up a few. Read in the HTML and then use their queries to manipulate the DOM as needed and then spit it back out.\r\ne.g. http://jsoup.org/\r\n","title":"java output html code to file","body":"<p>You can look at some Java libraries for parsing HTML code. A quick Google search tuns up a few. Read in the HTML and then use their queries to manipulate the DOM as needed and then spit it back out.\ne.g. <a href=\"http://jsoup.org/\" rel=\"nofollow\">http://jsoup.org/</a></p>\n"},{"tags":[],"owner":{"account_id":131829,"reputation":1844,"user_id":332114,"display_name":"kwo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308858868,"creation_date":1308858868,"answer_id":6459826,"question_id":6459746,"body_markdown":"Try using a templating engine, [MVEL2](http://mvel.codehaus.org/) or [FreeMarker](http://freemarker.org/), for example. Both can be used by standalone applications outside of a web framework. You lose time upfront but it will save you time in the long run.","title":"java output html code to file","body":"<p>Try using a templating engine, <a href=\"http://mvel.codehaus.org/\" rel=\"nofollow\">MVEL2</a> or <a href=\"http://freemarker.org/\" rel=\"nofollow\">FreeMarker</a>, for example. Both can be used by standalone applications outside of a web framework. You lose time upfront but it will save you time in the long run.</p>\n"},{"tags":[],"owner":{"account_id":153967,"reputation":1960,"user_id":369604,"accept_rate":77,"display_name":"Loduwijk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308858888,"creation_date":1308858888,"answer_id":6459827,"question_id":6459746,"body_markdown":"JSP (Java Server Pages) allows you to write HTML files which have some Java code easily embedded within them. For example\r\n\r\n    &lt;html&gt;&lt;head&gt;&lt;title&gt;Hi!&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\r\n    &lt;% some java code here that outputs some stuff %&gt;\r\n    &lt;/body&gt;&lt;/html&gt;\r\n\r\nThough that requires that you have an enterprise Java server installed. But if this is on a web server, that might not be unreasonable to have.\r\n\r\nIf you want to do it in normal Java, that depends. I don&#39;t fully understand which part you meant you will be outputting line by line. Did you mean you are going to do something like\r\n\r\n    System.out.println(&quot;&lt;html&gt;&quot;);\r\n    System.out.println(&quot;&lt;head&gt;&lt;title&gt;Hi!&lt;/title&gt;&lt;/head&gt;&quot;);\r\n    System.out.println(&quot;&lt;body&gt;&quot;);\r\n    // etc\r\n\r\nLike that? If that&#39;s what you meant, then don&#39;t do that. You can just read in the data from the template file and output all the data at once. You could read it into a multiline text string of you could read the data in from the template and output it directly to the new file. Something like\r\n\r\n    while( (strInput = templateFileReader.readLine()) != null)\r\n        newFileOutput.println(strInput);\r\n\r\nAgain, I&#39;m not sure exactly what you mean by that part.","title":"java output html code to file","body":"<p>JSP (Java Server Pages) allows you to write HTML files which have some Java code easily embedded within them. For example</p>\n\n<pre><code>&lt;html&gt;&lt;head&gt;&lt;title&gt;Hi!&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\n&lt;% some java code here that outputs some stuff %&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>Though that requires that you have an enterprise Java server installed. But if this is on a web server, that might not be unreasonable to have.</p>\n\n<p>If you want to do it in normal Java, that depends. I don't fully understand which part you meant you will be outputting line by line. Did you mean you are going to do something like</p>\n\n<pre><code>System.out.println(\"&lt;html&gt;\");\nSystem.out.println(\"&lt;head&gt;&lt;title&gt;Hi!&lt;/title&gt;&lt;/head&gt;\");\nSystem.out.println(\"&lt;body&gt;\");\n// etc\n</code></pre>\n\n<p>Like that? If that's what you meant, then don't do that. You can just read in the data from the template file and output all the data at once. You could read it into a multiline text string of you could read the data in from the template and output it directly to the new file. Something like</p>\n\n<pre><code>while( (strInput = templateFileReader.readLine()) != null)\n    newFileOutput.println(strInput);\n</code></pre>\n\n<p>Again, I'm not sure exactly what you mean by that part.</p>\n"},{"tags":[],"owner":{"account_id":261698,"reputation":6422,"user_id":546060,"accept_rate":86,"display_name":"Charles Goodwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308872735,"creation_date":1308872735,"answer_id":6461943,"question_id":6459746,"body_markdown":"HTML is simply a way of marking up text, so to write a HTML file, you are simply writing the HTML as text to a file with the .html extension.\r\n\r\nThere&#39;s plenty of tutorials out there for reading and writing from files, as well as getting a list of files from a directory.  (Google &#39;java read file&#39;, &#39;java write file&#39;, &#39;java list directory&#39; - that is basically everything you need.)  The important thing is the use of BufferedReader/BufferedWriter for pulling and pushing the text in to the files and realising that there is no particular code science involved in writing HTML to a file.\r\n\r\nI&#39;ll reiterate; HTML is nothing more than `&lt;b&gt;text with tags&lt;/b&gt;`.\r\n\r\nHere&#39;s a really crude example that will output two files to a single file, wrapping them in an `&lt;html&gt;&lt;/html&gt;` tag.\r\n\r\n    BufferedReader getReaderForFile(filename) {\r\n        FileInputStream in = new FileInputStream(filename);\r\n        return new BufferedReader(new InputStreamReader(in));\r\n    }\r\n\r\n    public void main(String[] args) {\r\n        // Open a file\r\n        BufferedReader myheader = getReaderForFile(&quot;myheader.txt&quot;);\r\n        BufferedReader contents = getReaderForFile(&quot;contentfile.txt&quot;);\r\n\r\n        FileWriter fstream = new FileWriter(&quot;mypage.html&quot;);\r\n        BufferedWriter out = new BufferedWriter(fstream);\r\n        \r\n        out.write(&quot;&lt;html&gt;&quot;);\r\n        out.newLine();\r\n        \r\n        for (String line = myheader.readLine(); line!=null; line = myheader.readLine()) {\r\n            out.write(line);\r\n            out.newLine(); // readLine() strips &#39;carriage return&#39; characters\r\n        }\r\n        \r\n        for (String line = contents.readLine(); line!=null; line = contents.readLine()) {\r\n            out.write(line);\r\n            out.newLine(); // readLine() strips &#39;carriage return&#39; characters\r\n        }\r\n        \r\n        out.write(&quot;&lt;/html&gt;&quot;);\r\n    }","title":"java output html code to file","body":"<p>HTML is simply a way of marking up text, so to write a HTML file, you are simply writing the HTML as text to a file with the .html extension.</p>\n\n<p>There's plenty of tutorials out there for reading and writing from files, as well as getting a list of files from a directory.  (Google 'java read file', 'java write file', 'java list directory' - that is basically everything you need.)  The important thing is the use of BufferedReader/BufferedWriter for pulling and pushing the text in to the files and realising that there is no particular code science involved in writing HTML to a file.</p>\n\n<p>I'll reiterate; HTML is nothing more than <code>&lt;b&gt;text with tags&lt;/b&gt;</code>.</p>\n\n<p>Here's a really crude example that will output two files to a single file, wrapping them in an <code>&lt;html&gt;&lt;/html&gt;</code> tag.</p>\n\n<pre><code>BufferedReader getReaderForFile(filename) {\n    FileInputStream in = new FileInputStream(filename);\n    return new BufferedReader(new InputStreamReader(in));\n}\n\npublic void main(String[] args) {\n    // Open a file\n    BufferedReader myheader = getReaderForFile(\"myheader.txt\");\n    BufferedReader contents = getReaderForFile(\"contentfile.txt\");\n\n    FileWriter fstream = new FileWriter(\"mypage.html\");\n    BufferedWriter out = new BufferedWriter(fstream);\n\n    out.write(\"&lt;html&gt;\");\n    out.newLine();\n\n    for (String line = myheader.readLine(); line!=null; line = myheader.readLine()) {\n        out.write(line);\n        out.newLine(); // readLine() strips 'carriage return' characters\n    }\n\n    for (String line = contents.readLine(); line!=null; line = contents.readLine()) {\n        out.write(line);\n        out.newLine(); // readLine() strips 'carriage return' characters\n    }\n\n    out.write(\"&lt;/html&gt;\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1624052,"reputation":395,"user_id":1500022,"display_name":"Sascha Wedler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407622144,"creation_date":1407621130,"answer_id":25223417,"question_id":6459746,"body_markdown":"To build a simple HTML text file, you don&#39;t have to read your input file line by line.\r\n\r\n      File theFile = new File(&quot;file.html&quot;);\r\n      byte[] content = new byte[(int) theFile.length()];\r\n\r\nYou can use &quot;[RandomAccessFile.readFully][1]&quot; to read files entirely as a byte array:\r\n\r\n      // Read file function:\r\n      RandomAccessFile file = null;\r\n      try {\r\n        file = new RandomAccessFile(theFile, &quot;r&quot;);\r\n        file.readFully(content);\r\n      } finally {\r\n        if(file != null) {\r\n          file.close();\r\n        }\r\n      }\r\n\r\nMake your modifications on the text content:\r\n\r\n      String text = new String(content);\r\n      text = text.replace(&quot;&lt;!-- placeholder --&gt;&quot;, &quot;generated data&quot;);\r\n      content = text.getBytes();\r\n\r\nWriting is also easy:\r\n\r\n      // Write file content:\r\n      RandomAccessFile file = null;\r\n      try {\r\n        file = new RandomAccessFile(theFile, &quot;rw&quot;);\r\n        file.write(content);\r\n      } finally {\r\n        if(file != null) {\r\n          file.close();\r\n        }\r\n      }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html#readFully(byte[])","title":"java output html code to file","body":"<p>To build a simple HTML text file, you don't have to read your input file line by line.</p>\n\n<pre><code>  File theFile = new File(\"file.html\");\n  byte[] content = new byte[(int) theFile.length()];\n</code></pre>\n\n<p>You can use \"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html#readFully(byte[])\" rel=\"nofollow\">RandomAccessFile.readFully</a>\" to read files entirely as a byte array:</p>\n\n<pre><code>  // Read file function:\n  RandomAccessFile file = null;\n  try {\n    file = new RandomAccessFile(theFile, \"r\");\n    file.readFully(content);\n  } finally {\n    if(file != null) {\n      file.close();\n    }\n  }\n</code></pre>\n\n<p>Make your modifications on the text content:</p>\n\n<pre><code>  String text = new String(content);\n  text = text.replace(\"&lt;!-- placeholder --&gt;\", \"generated data\");\n  content = text.getBytes();\n</code></pre>\n\n<p>Writing is also easy:</p>\n\n<pre><code>  // Write file content:\n  RandomAccessFile file = null;\n  try {\n    file = new RandomAccessFile(theFile, \"rw\");\n    file.write(content);\n  } finally {\n    if(file != null) {\n      file.close();\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":771354,"reputation":21,"user_id":812887,"display_name":"Lehan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15911,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1702008099,"creation_date":1308858364,"question_id":6459746,"body_markdown":"I have a chunk of html code that should be outputted as a .html file, in java. The pre-written html code is the header and table for a page, and i need to generate some data, and output it to the same .html file. Is there an easier way to print the html code than to do prinln() line by line? Thanks","title":"java output html code to file","body":"<p>I have a chunk of html code that should be outputted as a .html file, in java. The pre-written html code is the header and table for a page, and i need to generate some data, and output it to the same .html file. Is there an easier way to print the html code than to do prinln() line by line? Thanks</p>\n"},{"tags":["java","spring-mvc","switch-statement","java-17"],"comments":[{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1700222960,"post_id":77501295,"comment_id":136630857,"body_markdown":"Since the syntax of your code hasn’t changed, you should check whether `HttpMethod` still resolves to an `enum` type in the new environment.","body":"Since the syntax of your code hasn’t changed, you should check whether <code>HttpMethod</code> still resolves to an <code>enum</code> type in the new environment."},{"owner":{"account_id":5048606,"reputation":313,"user_id":4053840,"accept_rate":11,"display_name":"Ivajlo Iliev"},"score":0,"creation_date":1700223479,"post_id":77501295,"comment_id":136630944,"body_markdown":"Unfortunately it doesn&#39;t resolve in spring-web 6.0.2 So what is the solution in this case?","body":"Unfortunately it doesn&#39;t resolve in spring-web 6.0.2 So what is the solution in this case?"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1700224598,"post_id":77501295,"comment_id":136631137,"body_markdown":"First of all, you should include in your question that you updated the Spring Web version. Then, if the framework authors had the glorious idea to change an `enum` type to a non-`enum` type, you can’t `switch` over it anymore. Use `if … else` or a `Map` from object to handler or such alike. Or switch over its `name()` string.","body":"First of all, you should include in your question that you updated the Spring Web version. Then, if the framework authors had the glorious idea to change an <code>enum</code> type to a non-<code>enum</code> type, you can’t <code>switch</code> over it anymore. Use <code>if … else</code> or a <code>Map</code> from object to handler or such alike. Or switch over its <code>name()</code> string."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1700239201,"post_id":77501295,"comment_id":136633856,"body_markdown":"@Holger such breaking changes are allowed in major releases of Spring, like in this case.","body":"@Holger such breaking changes are allowed in major releases of Spring, like in this case."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700225702,"creation_date":1700225702,"answer_id":77501833,"question_id":77501295,"body_markdown":"The type `HttpMethod` has been changed from [an `enum` type] to a [non-`enum` type]. Therefore, you can’t `switch` over it anymore. The error message is confusing, because you can switch over non-`enum` types with pattern matching, so the compiler assumes that you’re trying that.\r\n\r\nAn alternative is to switch over the string representation instead. This is also an opportunity to clean up this code:\r\n\r\n```java\r\nprotected void stub(HttpMethod method, String url, ResponseDefinitionBuilder response) {\r\n    var um = urlMatching(url);\r\n    var processed = switch(method.name()) {\r\n        case &quot;GET&quot; -&gt; get(um);\r\n        case &quot;POST&quot; -&gt; post(um);\r\n        case &quot;PUT&quot; -&gt; put(um);\r\n        case &quot;DELETE&quot; -&gt; delete(um);\r\n        default -&gt; throw new RuntimeException(&quot;invalid or unsupported http method&quot;);\r\n    };\r\n    wireMockServer.stubFor(processed.willReturn(response));\r\n}\r\n```\r\n\r\n[an `enum` type]: https://www.javadoc.io/doc/org.springframework/spring-web/5.3.11/org/springframework/http/HttpMethod.html\r\n[non-`enum` type]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpMethod.html","title":"&quot;patterns in switch statements are a preview feature and are disabled by default&quot; when switching to java 17 - what is the right solution?","body":"<p>The type <code>HttpMethod</code> has been changed from <a href=\"https://www.javadoc.io/doc/org.springframework/spring-web/5.3.11/org/springframework/http/HttpMethod.html\" rel=\"nofollow noreferrer\">an <code>enum</code> type</a> to a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpMethod.html\" rel=\"nofollow noreferrer\">non-<code>enum</code> type</a>. Therefore, you can’t <code>switch</code> over it anymore. The error message is confusing, because you can switch over non-<code>enum</code> types with pattern matching, so the compiler assumes that you’re trying that.</p>\n<p>An alternative is to switch over the string representation instead. This is also an opportunity to clean up this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void stub(HttpMethod method, String url, ResponseDefinitionBuilder response) {\n    var um = urlMatching(url);\n    var processed = switch(method.name()) {\n        case &quot;GET&quot; -&gt; get(um);\n        case &quot;POST&quot; -&gt; post(um);\n        case &quot;PUT&quot; -&gt; put(um);\n        case &quot;DELETE&quot; -&gt; delete(um);\n        default -&gt; throw new RuntimeException(&quot;invalid or unsupported http method&quot;);\n    };\n    wireMockServer.stubFor(processed.willReturn(response));\n}\n</code></pre>\n"}],"owner":{"account_id":5048606,"reputation":313,"user_id":4053840,"accept_rate":11,"display_name":"Ivajlo Iliev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702007309,"creation_date":1700220380,"question_id":77501295,"body_markdown":"I am working on moving some projects from java 11 to java 17 and from Spring Boot 2.7.8 to Spring Boot 3.0.0.\r\n\r\nI have the following method in a test class:\r\n\r\n```\r\n    protected void stub(HttpMethod method, String url, ResponseDefinitionBuilder response) {\r\n        switch (method) {\r\n            case GET:\r\n                wireMockServer.stubFor(get(urlMatching(url)).willReturn(response));\r\n                break;\r\n            case POST:\r\n                wireMockServer.stubFor(post(urlMatching(url)).willReturn(response));\r\n                break;\r\n            case PUT:\r\n                wireMockServer.stubFor(put(urlMatching(url)).willReturn(response));\r\n                break;\r\n            case DELETE:\r\n                wireMockServer.stubFor(delete(urlMatching(url)).willReturn(response));\r\n                break;\r\n            default:\r\n                throw new RuntimeException(&quot;invalid http method&quot;);\r\n        }\r\n    }\r\n```\r\nwhen working with java 11, but when I switched to java 17 and in the pom.xml the following was specified:\r\n\r\n```\r\n &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n```\r\n\r\nand \r\n\r\n```\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n```\r\n\r\nThe code stopped working with the following error:\r\n\r\n```\r\npatterns in switch statements are a preview feature and are disabled by default.\r\n```\r\nObviously it interferes with the pattern matching preview feature in java 17.\r\n\r\nWhat is the right solution for this?\r\n\r\n","title":"&quot;patterns in switch statements are a preview feature and are disabled by default&quot; when switching to java 17 - what is the right solution?","body":"<p>I am working on moving some projects from java 11 to java 17 and from Spring Boot 2.7.8 to Spring Boot 3.0.0.</p>\n<p>I have the following method in a test class:</p>\n<pre><code>    protected void stub(HttpMethod method, String url, ResponseDefinitionBuilder response) {\n        switch (method) {\n            case GET:\n                wireMockServer.stubFor(get(urlMatching(url)).willReturn(response));\n                break;\n            case POST:\n                wireMockServer.stubFor(post(urlMatching(url)).willReturn(response));\n                break;\n            case PUT:\n                wireMockServer.stubFor(put(urlMatching(url)).willReturn(response));\n                break;\n            case DELETE:\n                wireMockServer.stubFor(delete(urlMatching(url)).willReturn(response));\n                break;\n            default:\n                throw new RuntimeException(&quot;invalid http method&quot;);\n        }\n    }\n</code></pre>\n<p>when working with java 11, but when I switched to java 17 and in the pom.xml the following was specified:</p>\n<pre><code> &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n</code></pre>\n<p>and</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>The code stopped working with the following error:</p>\n<pre><code>patterns in switch statements are a preview feature and are disabled by default.\n</code></pre>\n<p>Obviously it interferes with the pattern matching preview feature in java 17.</p>\n<p>What is the right solution for this?</p>\n"},{"tags":["java","spring-data-jpa","mariadb"],"answers":[{"tags":[],"owner":{"account_id":5652429,"reputation":11,"user_id":9959778,"display_name":"Arthur Raposo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702006600,"creation_date":1702006600,"answer_id":77624209,"question_id":77621900,"body_markdown":"The escape is automatically added because of MariaDB&#39;s implementation of the JDBC driver. According to the MariaDB [documentation][1], you may disable the escape using a different SQL_MODE.\r\n\r\nTry adding it to your JDBC connection string, as follows:\r\n\r\n    jdbc:mariadb://host/db?user=xxx&amp;sessionVariables=sql_mode=NO_BACKSLASH_ESCAPES\r\n\r\n\r\n  [1]: https://mariadb.com/kb/en/sql-mode/#no_backslash_escapes","title":"Java Spring JPA repository with mariaDB generates invalid SQL","body":"<p>The escape is automatically added because of MariaDB's implementation of the JDBC driver. According to the MariaDB <a href=\"https://mariadb.com/kb/en/sql-mode/#no_backslash_escapes\" rel=\"nofollow noreferrer\">documentation</a>, you may disable the escape using a different SQL_MODE.</p>\n<p>Try adding it to your JDBC connection string, as follows:</p>\n<pre><code>jdbc:mariadb://host/db?user=xxx&amp;sessionVariables=sql_mode=NO_BACKSLASH_ESCAPES\n</code></pre>\n"}],"owner":{"account_id":1843186,"reputation":1464,"user_id":1672165,"accept_rate":67,"display_name":"lot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702006600,"creation_date":1701969099,"question_id":77621900,"body_markdown":"I am using MariaDB with Java Spring Boot. Driver is like this:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI have JPA repository method like this:\r\n\r\n```java\r\nList&lt;Plugin&gt; findAllByPalpUrlStartingWith(\r\n    String palpUrl\r\n);\r\n```\r\n\r\nWhen app is run, it generates an incorrect SQL:\r\n\r\n```sql\r\nselect * \r\nfrom remote_plugins p1_0  \r\nwhere p1_0.palp_url like &#39;test&#39; escape &#39;\\&#39;;\r\n```\r\n\r\nIt is incorrect, because that quote char is escaped by the backslash and thus it is unclosed string.\r\n\r\nI don&#39;t know what ESCAPE is supposed to do, MariaDB docs don&#39;t mention that, all I can say it obviously sucks at quote escaping.\r\n\r\nCan I force JPA to generate correct SQL clause for `startingWith` use-case? Disable this ESCAPE thing completely, perhaps?\r\n","title":"Java Spring JPA repository with mariaDB generates invalid SQL","body":"<p>I am using MariaDB with Java Spring Boot. Driver is like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have JPA repository method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Plugin&gt; findAllByPalpUrlStartingWith(\n    String palpUrl\n);\n</code></pre>\n<p>When app is run, it generates an incorrect SQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select * \nfrom remote_plugins p1_0  \nwhere p1_0.palp_url like 'test' escape '\\';\n</code></pre>\n<p>It is incorrect, because that quote char is escaped by the backslash and thus it is unclosed string.</p>\n<p>I don't know what ESCAPE is supposed to do, MariaDB docs don't mention that, all I can say it obviously sucks at quote escaping.</p>\n<p>Can I force JPA to generate correct SQL clause for <code>startingWith</code> use-case? Disable this ESCAPE thing completely, perhaps?</p>\n"},{"tags":["java","xml","encryption"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1702012617,"post_id":18655227,"comment_id":136848100,"body_markdown":"No you don’t. You want to *securely hash* the password.","body":"No you don’t. You want to <i>securely hash</i> the password."},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1702029982,"post_id":18655227,"comment_id":136850261,"body_markdown":"@user207421 Not if you want to be able to obtain the password, which you will need to create the connection.","body":"@user207421 Not if you want to be able to obtain the password, which you will need to create the connection."}],"answers":[{"tags":[],"owner":{"account_id":2396098,"reputation":602,"user_id":2094860,"accept_rate":40,"display_name":"Joy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700727242,"creation_date":1700727242,"answer_id":77535263,"question_id":18655227,"body_markdown":"After struggling a lot, I fixed in following ways:\r\n\r\nWhen I looked into history, it&#39;s development was discontinued. There was no other way to fix and it&#39;s source code was also not available.\r\nI had to do some reverse engineering with Java De-compiler. Created my own class and inherited the existing, added the needed functionality to support encryption and compiled using the same JDK version. This solution worked for me.\r\n\r\nSo, the final answer of this question is, any change in smartpool lib you have to do your own because there is no active development for this library. Thanks. ","title":"Not allowing encrypted password","body":"<p>After struggling a lot, I fixed in following ways:</p>\n<p>When I looked into history, it's development was discontinued. There was no other way to fix and it's source code was also not available.\nI had to do some reverse engineering with Java De-compiler. Created my own class and inherited the existing, added the needed functionality to support encryption and compiled using the same JDK version. This solution worked for me.</p>\n<p>So, the final answer of this question is, any change in smartpool lib you have to do your own because there is no active development for this library. Thanks.</p>\n"}],"owner":{"account_id":2396098,"reputation":602,"user_id":2094860,"accept_rate":40,"display_name":"Joy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1700831728,"accepted_answer_id":77535263,"answer_count":1,"score":0,"last_activity_date":1702004920,"creation_date":1378462160,"question_id":18655227,"body_markdown":"I am using `Smartpool` library for oracle database connection pooling. I can only see the option to provide database information in xml config file in plain text including password. Which is not a good practice. I want password to be stored in encrypted format instead plain text. I can&#39;t find way to store encrypted password using Smartpool library. Can someone help me to handle this situation or suggest for alternate solution?","title":"Not allowing encrypted password","body":"<p>I am using <code>Smartpool</code> library for oracle database connection pooling. I can only see the option to provide database information in xml config file in plain text including password. Which is not a good practice. I want password to be stored in encrypted format instead plain text. I can't find way to store encrypted password using Smartpool library. Can someone help me to handle this situation or suggest for alternate solution?</p>\n"},{"tags":["java","amazon-opensearch","semantic-search"],"owner":{"account_id":7070620,"reputation":126,"user_id":6999890,"display_name":"Syed Samiuzzaman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702003559,"creation_date":1701945468,"question_id":77619342,"body_markdown":"In open search I have alias called `product_alias` this alias has two indexes `first_party_products` and `third_party_products`\r\n\r\nNow I want to do query within in the alias and want to boost the `first_party_products`\r\n\r\nWhen I run the following code in opensearch console it works fine. But from codebase it is not working\r\n\r\n```\r\nGET /products_alias/_search\r\n{\r\n  &quot;from&quot;: 0,\r\n  &quot;size&quot;: 3, \r\n  &quot;indices_boost&quot;: [\r\n     { &quot;first_party_products&quot;: 1.01}\r\n  ],\r\n  &quot;query&quot;: {\r\n    &quot;bool&quot;: {\r\n      &quot;should&quot;: [\r\n        {\r\n          &quot;script_score&quot;: {\r\n            &quot;query&quot;: {\r\n              &quot;neural&quot;: {\r\n                &quot;description_vector&quot;: {\r\n                  &quot;query_text&quot;: &quot;starbucks&quot;,\r\n                  &quot;model_id&quot;: &quot;-w8uWee5kd&quot;,\r\n                  &quot;k&quot;: 5\r\n                }\r\n              }\r\n            },\r\n            &quot;script&quot;: {\r\n              &quot;source&quot;: &quot;_score * 1&quot;\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIn java we are using this client https://github.com/opensearch-project/opensearch-java\r\n\r\nand following is the codebase I have put\r\n\r\n```\r\n            \r\n           NeuralQuery neuralQuery = new NeuralQuery.Builder()\r\n                    .field(embeddingMapping)\r\n                    .queryText(param.getQuery())\r\n                    .modelId(MODEL_ID)\r\n                    .k(KNN_TOP_K)\r\n                    .build();\r\n            \r\n            Query query = new Query.Builder()\r\n                    .neural(neuralQuery)\r\n                    .build();\r\n            \r\n\r\n\r\n            List&lt;Map&lt;String, Double&gt;&gt; indicesBoost = new ArrayList&lt;&gt;();\r\n            Map&lt;String, Double&gt; indicesBoostMap = new HashMap&lt;&gt;();\r\n            indicesBoostMap.put(SearchCategory.FIRST_PARTY_PRODUCTS.getIndexName(), 1.01);\r\n            indicesBoost.add(indicesBoostMap);\r\n\r\n\r\n            var searchResponse = openSearchJavaClient.search(\r\n                    s -&gt; s.index(semanticIndex)\r\n                            .from(param.getOffset())\r\n                            .size(param.getLimit())\r\n                            .indicesBoost(indicesBoost)\r\n                            .sort(sortOptions)\r\n                            .query(query)\r\n                            .source(sourceConfig)\r\n                    , Object.class\r\n            );\r\n```\r\n\r\nIs there anything I have missed out.\r\n\r\nThanks in advance\r\n\r\nI want to boost the index of a neural query depending on the indicies ","title":"boost in neural query in opensearch using javaclient","body":"<p>In open search I have alias called <code>product_alias</code> this alias has two indexes <code>first_party_products</code> and <code>third_party_products</code></p>\n<p>Now I want to do query within in the alias and want to boost the <code>first_party_products</code></p>\n<p>When I run the following code in opensearch console it works fine. But from codebase it is not working</p>\n<pre><code>GET /products_alias/_search\n{\n  &quot;from&quot;: 0,\n  &quot;size&quot;: 3, \n  &quot;indices_boost&quot;: [\n     { &quot;first_party_products&quot;: 1.01}\n  ],\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;should&quot;: [\n        {\n          &quot;script_score&quot;: {\n            &quot;query&quot;: {\n              &quot;neural&quot;: {\n                &quot;description_vector&quot;: {\n                  &quot;query_text&quot;: &quot;starbucks&quot;,\n                  &quot;model_id&quot;: &quot;-w8uWee5kd&quot;,\n                  &quot;k&quot;: 5\n                }\n              }\n            },\n            &quot;script&quot;: {\n              &quot;source&quot;: &quot;_score * 1&quot;\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n<p>In java we are using this client <a href=\"https://github.com/opensearch-project/opensearch-java\" rel=\"nofollow noreferrer\">https://github.com/opensearch-project/opensearch-java</a></p>\n<p>and following is the codebase I have put</p>\n<pre><code>            \n           NeuralQuery neuralQuery = new NeuralQuery.Builder()\n                    .field(embeddingMapping)\n                    .queryText(param.getQuery())\n                    .modelId(MODEL_ID)\n                    .k(KNN_TOP_K)\n                    .build();\n            \n            Query query = new Query.Builder()\n                    .neural(neuralQuery)\n                    .build();\n            \n\n\n            List&lt;Map&lt;String, Double&gt;&gt; indicesBoost = new ArrayList&lt;&gt;();\n            Map&lt;String, Double&gt; indicesBoostMap = new HashMap&lt;&gt;();\n            indicesBoostMap.put(SearchCategory.FIRST_PARTY_PRODUCTS.getIndexName(), 1.01);\n            indicesBoost.add(indicesBoostMap);\n\n\n            var searchResponse = openSearchJavaClient.search(\n                    s -&gt; s.index(semanticIndex)\n                            .from(param.getOffset())\n                            .size(param.getLimit())\n                            .indicesBoost(indicesBoost)\n                            .sort(sortOptions)\n                            .query(query)\n                            .source(sourceConfig)\n                    , Object.class\n            );\n</code></pre>\n<p>Is there anything I have missed out.</p>\n<p>Thanks in advance</p>\n<p>I want to boost the index of a neural query depending on the indicies</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":6629715,"reputation":6021,"user_id":5118762,"display_name":"brass monkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565945937,"creation_date":1565945140,"answer_id":57521523,"question_id":57521188,"body_markdown":"Looking at the source of `ResponseBodyEmitter#send` it seems that the specified `MediaType` should have been set in the `AbstractHttpMessageConverter#addDefaultHeaders` method but only when no other contentType header is already present.\r\n\r\n    protected void addDefaultHeaders(HttpHeaders headers, T t, MediaType contentType) throws IOException{\r\n        if (headers.getContentType() == null) {\r\n            MediaType contentTypeToUse = contentType;\r\n            // ...\r\n            if (contentTypeToUse != null) {\r\n                headers.setContentType(contentTypeToUse);\r\n            }\r\n        }\r\n        // ...\r\n    }\r\n\r\nI would suggest to set a break point there and have a look why the header is not applied. Maybe the `@RestController` sets a default header.\r\n\r\nAs a workaround you could try the set the contentType header via an annotation in the MVC controller.\r\n\r\nE.g.\r\n\r\n    @RequestMapping(value = &quot;/something&quot;, produces = MediaType.APPLICATION_JSON_UTF8)\r\n\r\n","title":"Spring ResponseBodyEmitter doesn&#39;t set Content-Type header in a response","body":"<p>Looking at the source of <code>ResponseBodyEmitter#send</code> it seems that the specified <code>MediaType</code> should have been set in the <code>AbstractHttpMessageConverter#addDefaultHeaders</code> method but only when no other contentType header is already present.</p>\n\n<pre><code>protected void addDefaultHeaders(HttpHeaders headers, T t, MediaType contentType) throws IOException{\n    if (headers.getContentType() == null) {\n        MediaType contentTypeToUse = contentType;\n        // ...\n        if (contentTypeToUse != null) {\n            headers.setContentType(contentTypeToUse);\n        }\n    }\n    // ...\n}\n</code></pre>\n\n<p>I would suggest to set a break point there and have a look why the header is not applied. Maybe the <code>@RestController</code> sets a default header.</p>\n\n<p>As a workaround you could try the set the contentType header via an annotation in the MVC controller.</p>\n\n<p>E.g.</p>\n\n<pre><code>@RequestMapping(value = \"/something\", produces = MediaType.APPLICATION_JSON_UTF8)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1943475,"reputation":1,"user_id":1749104,"display_name":"johnfarrel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702003440,"creation_date":1702003440,"answer_id":77624072,"question_id":57521188,"body_markdown":"You can just inherit from ResponseBodyEmitter, and override the method `extendResponse(ServerHttpResponse outputMessage)`, just like how `SseEmitter` does. And then use this subclass instead:\r\n```\r\n    public class JsonEmitter extends ResponseBodyEmitter {\r\n        @Override\r\n        protected void extendResponse(ServerHttpResponse outputMessage) {\r\n            super.extendResponse(outputMessage);\r\n            HttpHeaders headers = outputMessage.getHeaders();\r\n            if (headers.getContentType() == null) {\r\n                headers.setContentType(MediaType.APPLICATION_JSON);\r\n            }\r\n        }\r\n    }\r\n```","title":"Spring ResponseBodyEmitter doesn&#39;t set Content-Type header in a response","body":"<p>You can just inherit from ResponseBodyEmitter, and override the method <code>extendResponse(ServerHttpResponse outputMessage)</code>, just like how <code>SseEmitter</code> does. And then use this subclass instead:</p>\n<pre><code>    public class JsonEmitter extends ResponseBodyEmitter {\n        @Override\n        protected void extendResponse(ServerHttpResponse outputMessage) {\n            super.extendResponse(outputMessage);\n            HttpHeaders headers = outputMessage.getHeaders();\n            if (headers.getContentType() == null) {\n                headers.setContentType(MediaType.APPLICATION_JSON);\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":8660023,"reputation":59,"user_id":7811056,"display_name":"Mihusle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1475,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1702003440,"creation_date":1565943655,"question_id":57521188,"body_markdown":"I&#39;m writing a kind of a wrapper around my request handlers to make them stream HTTP response. What I&#39;ve got now is\r\n\r\n**Handler response wrapper:**\r\n\r\n   \r\n\r\n     @Component\r\n    public class ResponseBodyEmitterProcessor {\r\n   \r\n        public ResponseBodyEmitter process(Supplier&lt;?&gt; supplier) {\r\n            ResponseBodyEmitter emitter = new ResponseBodyEmitter();\r\n            Executors.newSingleThreadExecutor()\r\n                    .execute(() -&gt; {\r\n                        CompletableFuture&lt;?&gt; future = CompletableFuture.supplyAsync(supplier)\r\n                                .thenAccept(result -&gt; {\r\n                                    try {\r\n                                        emitter.send(result, MediaType.APPLICATION_JSON_UTF8);\r\n                                        emitter.complete();\r\n                                    } catch (IOException e) {\r\n                                        emitter.completeWithError(e);\r\n                                    }\r\n                                });\r\n                        while (!future.isDone()) {\r\n                            try {\r\n                                emitter.send(&quot;&quot;, MediaType.APPLICATION_JSON_UTF8);\r\n                                Thread.sleep(500);\r\n                            } catch (IOException | InterruptedException e) {\r\n                                emitter.completeWithError(e);\r\n                            }\r\n                        }\r\n                    });\r\n    \r\n            return emitter;\r\n        }\r\n    }\r\n\r\n**Controller:** \r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/something&quot;)\r\n    public class MyController extends AbstractController {\r\n    \r\n        @GetMapping(value = &quot;/anything&quot;)\r\n    public ResponseEntity&lt;ResponseBodyEmitter&gt; getAnything() {\r\n        return ResponseEntity.ok()\r\n                .contentType(MediaType.APPLICATION_JSON_UTF8)\r\n                .body(process(() -&gt; {\r\n                    //long operation\r\n                }));\r\n    }\r\n\r\nWhat I&#39;m doing is just send empty string every half a second to keep a request alive. It&#39;s required for some tool to not shut it down by timeout. The problem here that I don&#39;t see any **Content-Type** header in a response. There&#39;s nothing at all, despite I return ResponseEntity from my controller method as it&#39;s said in this thread: \r\n\r\nhttps://github.com/spring-projects/spring-framework/issues/18518\r\n\r\nLooks like only TEXT_HTML media type is acceptable for streaming. Isn&#39;t there a way to stream json at all? I even manually mapped my dtos to json string using objectMapper, but still no luck. Tried with APPLICATION_JSON and APPLICATION_STREAM_JSON - doesn&#39;t work. Tried in different browsers - the same result. \r\n\r\nI also manually set Content-Type header for ResponseEntity in the controller. Now there&#39;s the header in a response, but I&#39;m not sure, if my data is actually streamed. In Chrome I can only see the result of my operation, not intermediate chars that I&#39;m sending (changed them to &quot;a&quot; for test).\r\n\r\nI checked the timing of request processing for two options:\r\n\r\n**Without emitter (just usual controller handler)**\r\n[![Without emitter][1]][1]\r\n\r\n**With emitter**\r\n[![With emitter][2]][2]\r\n\r\nAs I understand Waiting status means: &quot;Waiting for the first byte to appear&quot;. Seems like with emitter the first byte appears much earlier - this looks like what I need. Can I consider it as a proof that my solution works?\r\n\r\nMaybe there&#39;s another way to do it in Spring? What I need is just to notify the browser that a request is still being processed by sending some useless data to it until the actual operation is done - then return the result.\r\n\r\nAny help would be really appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9J8Q6.png\r\n  [2]: https://i.stack.imgur.com/1tKhL.png","title":"Spring ResponseBodyEmitter doesn&#39;t set Content-Type header in a response","body":"<p>I'm writing a kind of a wrapper around my request handlers to make them stream HTTP response. What I've got now is</p>\n\n<p><strong>Handler response wrapper:</strong></p>\n\n<pre><code> @Component\npublic class ResponseBodyEmitterProcessor {\n\n    public ResponseBodyEmitter process(Supplier&lt;?&gt; supplier) {\n        ResponseBodyEmitter emitter = new ResponseBodyEmitter();\n        Executors.newSingleThreadExecutor()\n                .execute(() -&gt; {\n                    CompletableFuture&lt;?&gt; future = CompletableFuture.supplyAsync(supplier)\n                            .thenAccept(result -&gt; {\n                                try {\n                                    emitter.send(result, MediaType.APPLICATION_JSON_UTF8);\n                                    emitter.complete();\n                                } catch (IOException e) {\n                                    emitter.completeWithError(e);\n                                }\n                            });\n                    while (!future.isDone()) {\n                        try {\n                            emitter.send(\"\", MediaType.APPLICATION_JSON_UTF8);\n                            Thread.sleep(500);\n                        } catch (IOException | InterruptedException e) {\n                            emitter.completeWithError(e);\n                        }\n                    }\n                });\n\n        return emitter;\n    }\n}\n</code></pre>\n\n<p><strong>Controller:</strong> </p>\n\n<pre><code>@RestController\n@RequestMapping(\"/something\")\npublic class MyController extends AbstractController {\n\n    @GetMapping(value = \"/anything\")\npublic ResponseEntity&lt;ResponseBodyEmitter&gt; getAnything() {\n    return ResponseEntity.ok()\n            .contentType(MediaType.APPLICATION_JSON_UTF8)\n            .body(process(() -&gt; {\n                //long operation\n            }));\n}\n</code></pre>\n\n<p>What I'm doing is just send empty string every half a second to keep a request alive. It's required for some tool to not shut it down by timeout. The problem here that I don't see any <strong>Content-Type</strong> header in a response. There's nothing at all, despite I return ResponseEntity from my controller method as it's said in this thread: </p>\n\n<p><a href=\"https://github.com/spring-projects/spring-framework/issues/18518\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/18518</a></p>\n\n<p>Looks like only TEXT_HTML media type is acceptable for streaming. Isn't there a way to stream json at all? I even manually mapped my dtos to json string using objectMapper, but still no luck. Tried with APPLICATION_JSON and APPLICATION_STREAM_JSON - doesn't work. Tried in different browsers - the same result. </p>\n\n<p>I also manually set Content-Type header for ResponseEntity in the controller. Now there's the header in a response, but I'm not sure, if my data is actually streamed. In Chrome I can only see the result of my operation, not intermediate chars that I'm sending (changed them to \"a\" for test).</p>\n\n<p>I checked the timing of request processing for two options:</p>\n\n<p><strong>Without emitter (just usual controller handler)</strong>\n<a href=\"https://i.stack.imgur.com/9J8Q6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9J8Q6.png\" alt=\"Without emitter\"></a></p>\n\n<p><strong>With emitter</strong>\n<a href=\"https://i.stack.imgur.com/1tKhL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1tKhL.png\" alt=\"With emitter\"></a></p>\n\n<p>As I understand Waiting status means: \"Waiting for the first byte to appear\". Seems like with emitter the first byte appears much earlier - this looks like what I need. Can I consider it as a proof that my solution works?</p>\n\n<p>Maybe there's another way to do it in Spring? What I need is just to notify the browser that a request is still being processed by sending some useless data to it until the actual operation is done - then return the result.</p>\n\n<p>Any help would be really appreciated.</p>\n"},{"tags":["java","netbeans-8"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1702002395,"post_id":77624014,"comment_id":136847387,"body_markdown":"[Passing Information to a Method or a Constructor](https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html) - pass the data (ie text) not the component","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">Passing Information to a Method or a Constructor</a> - pass the data (ie text) not the component"},{"owner":{"account_id":20310335,"reputation":76,"user_id":14897575,"display_name":"ettriouizakaria"},"score":0,"creation_date":1702033424,"post_id":77624014,"comment_id":136850858,"body_markdown":"I think you&#39;ll need to make sure that the data is preserved between the two forms. One way to achieve this is by using a shared data structure or a common data model that both forms can access.","body":"I think you&#39;ll need to make sure that the data is preserved between the two forms. One way to achieve this is by using a shared data structure or a common data model that both forms can access."}],"owner":{"account_id":30094286,"reputation":1,"user_id":23062936,"display_name":"Viel Paulo Rubion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702002587,"answer_count":0,"score":-1,"last_activity_date":1702002700,"creation_date":1702002244,"question_id":77624014,"body_markdown":"I am coding an ordering system for my project. I want to resolve an issue about my code. Here&#39;s the context:\r\n\r\nMy form1 is for the foods menu. I created a JTextArea here so that when I bought something, it will show in the JTextArea. Then in my Form2, it&#39;s the same thing as my form 1 but the difference is it&#39;s for drinks menu.\r\n\r\nThe problem is when I press the button to go to form2, the texts in JTextArea resets. All i want is the text will not reset and updates when I bought something in form2.\r\n\r\n\r\nHope you can help me. Thank you!!\r\n\r\n# I tried using form2.JTextArea2.setText(JTextArea1.getText()); to the form2 button, but it did not solve my problem.","title":"Passing reference of JTextArea of Form1 to Form2","body":"<p>I am coding an ordering system for my project. I want to resolve an issue about my code. Here's the context:</p>\n<p>My form1 is for the foods menu. I created a JTextArea here so that when I bought something, it will show in the JTextArea. Then in my Form2, it's the same thing as my form 1 but the difference is it's for drinks menu.</p>\n<p>The problem is when I press the button to go to form2, the texts in JTextArea resets. All i want is the text will not reset and updates when I bought something in form2.</p>\n<p>Hope you can help me. Thank you!!</p>\n<h1>I tried using form2.JTextArea2.setText(JTextArea1.getText()); to the form2 button, but it did not solve my problem.</h1>\n"},{"tags":["java","spring","maven","spring-security","deprecated"],"comments":[{"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":1,"creation_date":1701994703,"post_id":77623622,"comment_id":136846717,"body_markdown":"what is the error/exception you are getting?","body":"what is the error/exception you are getting?"},{"owner":{"account_id":30041849,"reputation":5,"user_id":23022547,"display_name":"Shekel Sniffer"},"score":0,"creation_date":1701995146,"post_id":77623622,"comment_id":136846757,"body_markdown":"@kcsurapaneni No errors, I&#39;m just not able to log in.","body":"@kcsurapaneni No errors, I&#39;m just not able to log in."},{"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":1,"creation_date":1701995815,"post_id":77623622,"comment_id":136846826,"body_markdown":"What is the response status code? and based on your logic if no user is found, it should throw `UsernameNotFoundException` in the logs. If possible can you push this to GitHub and share the link here","body":"What is the response status code? and based on your logic if no user is found, it should throw <code>UsernameNotFoundException</code> in the logs. If possible can you push this to GitHub and share the link here"},{"owner":{"account_id":30041849,"reputation":5,"user_id":23022547,"display_name":"Shekel Sniffer"},"score":0,"creation_date":1701997001,"post_id":77623622,"comment_id":136846960,"body_markdown":"@kcsurapaneni https://github.com/Shekel-JF/FVSO\nHere you are! I&#39;m not sure what do you mean by the status code since I&#39;m pretty new to this stuff (also, I&#39;m just too tired and going to sleep rn), but I hope the repository itself will answer any uncertainties.","body":"@kcsurapaneni <a href=\"https://github.com/Shekel-JF/FVSO\" rel=\"nofollow noreferrer\">github.com/Shekel-JF/FVSO</a> Here you are! I&#39;m not sure what do you mean by the status code since I&#39;m pretty new to this stuff (also, I&#39;m just too tired and going to sleep rn), but I hope the repository itself will answer any uncertainties."},{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1702004477,"post_id":77623622,"comment_id":136847515,"body_markdown":"Enable spring security DEBUG or TRACE logs, and you will get an error","body":"Enable spring security DEBUG or TRACE logs, and you will get an error"}],"answers":[{"tags":[],"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1702002578,"creation_date":1702001358,"answer_id":77623968,"question_id":77623622,"body_markdown":"It appears that there might be an issue with the data in your database. I cloned your repository and conducted a test by adding data, and it seems to be functioning correctly on my end.\r\n\r\nTo troubleshoot, try using the following credentials on the login page: Username - `user` and Password - `password`.\r\n\r\nAdditionally, here are the details of the data I inserted into the database:\r\n\r\n**User Table:**\r\n\r\n```sql\r\nINSERT INTO users(id, name, password, username) values (1, &#39;kc&#39;, &#39;$2a$10$C6454pQIMqMNW76.M8NjYOzvniTgqdl8unnjnWNnMXmkGqE1M9CSC&#39;, &#39;user&#39;);\r\n```\r\n\r\n**Authority Table:**\r\n\r\n```sql\r\nINSERT INTO authority(id, authority, user_id) VALUES (1, &#39;ROLE_USER&#39;, 1);\r\n```\r\n\r\nIf you&#39;re new to this, I recommend adding the following lines to your application properties file. This will enable detailed logging for Spring Security, helping you to trace and debug potential issues:\r\n\r\nAdd the following line to your `application.properties` file:\r\n\r\n```\r\nlogging.level.org.springframework.security=TRACE\r\n```\r\n\r\nAdditionally, in your `WebSecurityConfig`, you can enable debugging by adding `debug = true` within the `@EnableWebSecurity` annotation. Here&#39;s an example:\r\n\r\n```java\r\n@EnableWebSecurity(debug = true)\r\npublic class WebSecurityConfig {\r\n    // Your security configuration code here\r\n}\r\n```","title":"Moving SpringSecurityConfig to Spring Boot 3","body":"<p>It appears that there might be an issue with the data in your database. I cloned your repository and conducted a test by adding data, and it seems to be functioning correctly on my end.</p>\n<p>To troubleshoot, try using the following credentials on the login page: Username - <code>user</code> and Password - <code>password</code>.</p>\n<p>Additionally, here are the details of the data I inserted into the database:</p>\n<p><strong>User Table:</strong></p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO users(id, name, password, username) values (1, 'kc', '$2a$10$C6454pQIMqMNW76.M8NjYOzvniTgqdl8unnjnWNnMXmkGqE1M9CSC', 'user');\n</code></pre>\n<p><strong>Authority Table:</strong></p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO authority(id, authority, user_id) VALUES (1, 'ROLE_USER', 1);\n</code></pre>\n<p>If you're new to this, I recommend adding the following lines to your application properties file. This will enable detailed logging for Spring Security, helping you to trace and debug potential issues:</p>\n<p>Add the following line to your <code>application.properties</code> file:</p>\n<pre><code>logging.level.org.springframework.security=TRACE\n</code></pre>\n<p>Additionally, in your <code>WebSecurityConfig</code>, you can enable debugging by adding <code>debug = true</code> within the <code>@EnableWebSecurity</code> annotation. Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity(debug = true)\npublic class WebSecurityConfig {\n    // Your security configuration code here\n}\n</code></pre>\n"}],"owner":{"account_id":30041849,"reputation":5,"user_id":23022547,"display_name":"Shekel Sniffer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702053138,"accepted_answer_id":77623968,"answer_count":1,"score":0,"last_activity_date":1702002578,"creation_date":1701993042,"question_id":77623622,"body_markdown":"I&#39;ve been struggling to map SecurityConfig file to the newer Spring version.\r\nSpecifically, the problem (I think) is caused by the UserDetailsService() or something related to it.\r\nI&#39;m trying to log in by passing raw password to the login page while encrypted password is hardcoded into the database (I have just pasted the string returned by the encode() method).\r\nWhile trying to do that, I&#39;m getting following message:\r\n```\r\nHibernate: select u1_0.id,u1_0.name,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?\r\nHibernate: select a1_0.user_id,a1_0.id,a1_0.authority from authority a1_0 where a1_0.user_id=?\r\n```\r\nIt looks like id is not passed correctly somewhere but I&#39;m not sure how to feel about it. I just can&#39;t log in properly.\r\n\r\nBelow I&#39;ll show you what I&#39;m coming from and what do i have atm, as well as some other files, however they should be fine since there were rather not too many changes to the way they are coded in Spring Boot 3. Anyway, since I&#39;m not sure they might come to be helpful, so here they are:\r\n\r\n\r\nOld file:\r\n```\r\n@Configuration\r\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n  \r\n  @Autowired\r\n  private UserDetailsService userDetailsService;\r\n\r\n  @Bean\r\n  public PasswordEncoder getPasswordEncoder() {\r\n    return new BCryptPasswordEncoder();\r\n  }\r\n  \r\n  @Override\r\n  protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    auth\r\n      .userDetailsService(userDetailsService)\r\n      .passwordEncoder(getPasswordEncoder());\r\n        \r\n//    auth.inMemoryAuthentication()\r\n//        .passwordEncoder(getPasswordEncoder())\r\n//        .withUser(&quot;trevor@craftycodr.com&quot;)\r\n//        .password(getPasswordEncoder().encode(&quot;asdfasdf&quot;))\r\n//        .roles(&quot;USER&quot;);\r\n  }\r\n  \r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    http\r\n        .authorizeRequests()\r\n          .antMatchers(&quot;/&quot;).permitAll()\r\n          .anyRequest().hasRole(&quot;USER&quot;).and()\r\n        .formLogin()\r\n          .loginPage(&quot;/login&quot;)\r\n          .defaultSuccessUrl(&quot;/dashboard&quot;)\r\n          .permitAll()\r\n          .and()\r\n        .logout()\r\n          .logoutUrl(&quot;/logout&quot;)\r\n          .permitAll();\r\n  }\r\n}\r\n```\r\n\r\nNew file:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig\r\n{\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService()\r\n    {\r\n        return new UserDetailsServiceImpl();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder()\r\n    {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception\r\n    {\r\n        return\r\n            http.authorizeHttpRequests()\r\n                .requestMatchers(&quot;/&quot;).permitAll()\r\n                .anyRequest().hasRole(&quot;USER&quot;)\r\n                .and()\r\n                .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .defaultSuccessUrl(&quot;/dashboard&quot;)\r\n                    .permitAll()\r\n                    .and()\r\n                .logout()\r\n                    .logoutUrl(&quot;/logout&quot;).permitAll()\r\n                .and().build();\r\n    }\r\n\r\n        @Bean\r\n        public AuthenticationProvider authenticationProvider()\r\n        {\r\n            DaoAuthenticationProvider authenticationProvider=new DaoAuthenticationProvider();\r\n            authenticationProvider.setUserDetailsService(userDetailsService());\r\n            authenticationProvider.setPasswordEncoder(passwordEncoder());\r\n            return authenticationProvider;\r\n        }\r\n}\r\n```\r\n\r\nUserDetailsServiceImpl:\r\n```\r\n\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService\r\n{\r\n    @Autowired\r\n    private UserRepository userRepo;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException\r\n    {\r\n        User user = userRepo.findByUsername(username);\r\n\r\n        if(user == null)\r\n        {\r\n            throw new UsernameNotFoundException(&quot;Invalid username and password&quot;);\r\n        }\r\n        return new CustomSecurityUser(user);\r\n    }\r\n}\r\n```\r\nCustomSecurityUser:\r\n```\r\n\r\npublic class CustomSecurityUser extends User implements UserDetails\r\n{\r\n    private static final long serialVersionUID = 464958176L;\r\n    \r\n    public CustomSecurityUser()\r\n    {}\r\n\r\n    public CustomSecurityUser(User user)\r\n    {\r\n        this.setAuthorities(user.getAuthorities());\r\n        this.setId(user.getId());\r\n        this.setName(user.getName());\r\n        this.setPassword(user.getPassword());\r\n        this.setUsername(user.getUsername());\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Authority&gt; getAuthorities()\r\n    {\r\n        return super.getAuthorities();\r\n    }\r\n\r\n    @Override\r\n    public String getPassword()\r\n    {\r\n        return super.getPassword();\r\n    }\r\n\r\n    @Override\r\n    public String getUsername()\r\n    {\r\n        return super.getUsername();\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired()\r\n    {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked()\r\n    {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired()\r\n    {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled()\r\n    {\r\n        return true;\r\n    }\r\n}\r\n```\r\nUserRepository:\r\n```\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt;\r\n{\r\n    User findByUsername(String username);\r\n    \r\n}\r\n```\r\nAuthority:\r\n```\r\npackage com.freshvotes.security;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport com.freshvotes.domain.User;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.ManyToOne;\r\n\r\n@Entity\r\npublic class Authority implements GrantedAuthority\r\n{\r\n    private static final long serialVersionUID = -6420181486L;\r\n    private Long id;\r\n    private String authority;\r\n    private User user;\r\n    @Override\r\n    public String getAuthority()\r\n    {\r\n        return this.authority;\r\n    }\r\n    public void setAuthority(String authority)\r\n    {\r\n        this.authority = authority;\r\n    }\r\n\r\n    @Id @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    public Long getId()\r\n    {\r\n        return this.id;\r\n    }\r\n\r\n    public void setId(Long id)\r\n    {\r\n        this.id = id;\r\n    }\r\n\r\n    @ManyToOne()\r\n    public User getUser()\r\n    {\r\n        return this.user;\r\n    }\r\n\r\n    public void setUser(User user)\r\n    {\r\n        this.user = user;\r\n    }\r\n\r\n}\r\n```\r\nUser entity:\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User\r\n{\r\n    private Long id;\r\n    private String username;\r\n    private String password;\r\n    private String name;\r\n    private Set&lt;Authority&gt; authorities = new HashSet&lt;&gt;();\r\n\r\n    @Id @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    public Long getId()\r\n    {\r\n        return id;\r\n    }\r\n    public void setId(Long id)\r\n    {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUsername()\r\n    {\r\n        return username;\r\n    }\r\n    public void setUsername(String username)\r\n    {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getPassword()\r\n    {\r\n        return password;\r\n    }\r\n    public void setPassword(String password)\r\n    {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getName()\r\n    {\r\n        return name;\r\n    }\r\n    public void setName(String name)\r\n    {\r\n        this.name = name;\r\n    }\r\n\r\n    @OneToMany(cascade=CascadeType.ALL, fetch=FetchType.EAGER, mappedBy=&quot;user&quot;)\r\n    public Set&lt;Authority&gt; getAuthorities()\r\n    {\r\n        return this.authorities;\r\n    }\r\n    public void setAuthorities(Set&lt;Authority&gt; authorities)\r\n    {\r\n        this.authorities = authorities;\r\n    }\r\n    \r\n\r\n}\r\n```\r\n\r\nI hope it&#39;ll be possible to make something out of it. I deleted the imports because i couldn&#39;t post my question otherwise.","title":"Moving SpringSecurityConfig to Spring Boot 3","body":"<p>I've been struggling to map SecurityConfig file to the newer Spring version.\nSpecifically, the problem (I think) is caused by the UserDetailsService() or something related to it.\nI'm trying to log in by passing raw password to the login page while encrypted password is hardcoded into the database (I have just pasted the string returned by the encode() method).\nWhile trying to do that, I'm getting following message:</p>\n<pre><code>Hibernate: select u1_0.id,u1_0.name,u1_0.password,u1_0.username from users u1_0 where u1_0.username=?\nHibernate: select a1_0.user_id,a1_0.id,a1_0.authority from authority a1_0 where a1_0.user_id=?\n</code></pre>\n<p>It looks like id is not passed correctly somewhere but I'm not sure how to feel about it. I just can't log in properly.</p>\n<p>Below I'll show you what I'm coming from and what do i have atm, as well as some other files, however they should be fine since there were rather not too many changes to the way they are coded in Spring Boot 3. Anyway, since I'm not sure they might come to be helpful, so here they are:</p>\n<p>Old file:</p>\n<pre><code>@Configuration\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n  \n  @Autowired\n  private UserDetailsService userDetailsService;\n\n  @Bean\n  public PasswordEncoder getPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n  }\n  \n  @Override\n  protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth\n      .userDetailsService(userDetailsService)\n      .passwordEncoder(getPasswordEncoder());\n        \n//    auth.inMemoryAuthentication()\n//        .passwordEncoder(getPasswordEncoder())\n//        .withUser(&quot;trevor@craftycodr.com&quot;)\n//        .password(getPasswordEncoder().encode(&quot;asdfasdf&quot;))\n//        .roles(&quot;USER&quot;);\n  }\n  \n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http\n        .authorizeRequests()\n          .antMatchers(&quot;/&quot;).permitAll()\n          .anyRequest().hasRole(&quot;USER&quot;).and()\n        .formLogin()\n          .loginPage(&quot;/login&quot;)\n          .defaultSuccessUrl(&quot;/dashboard&quot;)\n          .permitAll()\n          .and()\n        .logout()\n          .logoutUrl(&quot;/logout&quot;)\n          .permitAll();\n  }\n}\n</code></pre>\n<p>New file:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig\n{\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Bean\n    public UserDetailsService userDetailsService()\n    {\n        return new UserDetailsServiceImpl();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder()\n    {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception\n    {\n        return\n            http.authorizeHttpRequests()\n                .requestMatchers(&quot;/&quot;).permitAll()\n                .anyRequest().hasRole(&quot;USER&quot;)\n                .and()\n                .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .defaultSuccessUrl(&quot;/dashboard&quot;)\n                    .permitAll()\n                    .and()\n                .logout()\n                    .logoutUrl(&quot;/logout&quot;).permitAll()\n                .and().build();\n    }\n\n        @Bean\n        public AuthenticationProvider authenticationProvider()\n        {\n            DaoAuthenticationProvider authenticationProvider=new DaoAuthenticationProvider();\n            authenticationProvider.setUserDetailsService(userDetailsService());\n            authenticationProvider.setPasswordEncoder(passwordEncoder());\n            return authenticationProvider;\n        }\n}\n</code></pre>\n<p>UserDetailsServiceImpl:</p>\n<pre><code>\n@Service\npublic class UserDetailsServiceImpl implements UserDetailsService\n{\n    @Autowired\n    private UserRepository userRepo;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException\n    {\n        User user = userRepo.findByUsername(username);\n\n        if(user == null)\n        {\n            throw new UsernameNotFoundException(&quot;Invalid username and password&quot;);\n        }\n        return new CustomSecurityUser(user);\n    }\n}\n</code></pre>\n<p>CustomSecurityUser:</p>\n<pre><code>\npublic class CustomSecurityUser extends User implements UserDetails\n{\n    private static final long serialVersionUID = 464958176L;\n    \n    public CustomSecurityUser()\n    {}\n\n    public CustomSecurityUser(User user)\n    {\n        this.setAuthorities(user.getAuthorities());\n        this.setId(user.getId());\n        this.setName(user.getName());\n        this.setPassword(user.getPassword());\n        this.setUsername(user.getUsername());\n    }\n\n    @Override\n    public Set&lt;Authority&gt; getAuthorities()\n    {\n        return super.getAuthorities();\n    }\n\n    @Override\n    public String getPassword()\n    {\n        return super.getPassword();\n    }\n\n    @Override\n    public String getUsername()\n    {\n        return super.getUsername();\n    }\n\n    @Override\n    public boolean isAccountNonExpired()\n    {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked()\n    {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired()\n    {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled()\n    {\n        return true;\n    }\n}\n</code></pre>\n<p>UserRepository:</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt;\n{\n    User findByUsername(String username);\n    \n}\n</code></pre>\n<p>Authority:</p>\n<pre><code>package com.freshvotes.security;\nimport org.springframework.security.core.GrantedAuthority;\nimport com.freshvotes.domain.User;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.ManyToOne;\n\n@Entity\npublic class Authority implements GrantedAuthority\n{\n    private static final long serialVersionUID = -6420181486L;\n    private Long id;\n    private String authority;\n    private User user;\n    @Override\n    public String getAuthority()\n    {\n        return this.authority;\n    }\n    public void setAuthority(String authority)\n    {\n        this.authority = authority;\n    }\n\n    @Id @GeneratedValue(strategy=GenerationType.IDENTITY)\n    public Long getId()\n    {\n        return this.id;\n    }\n\n    public void setId(Long id)\n    {\n        this.id = id;\n    }\n\n    @ManyToOne()\n    public User getUser()\n    {\n        return this.user;\n    }\n\n    public void setUser(User user)\n    {\n        this.user = user;\n    }\n\n}\n</code></pre>\n<p>User entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User\n{\n    private Long id;\n    private String username;\n    private String password;\n    private String name;\n    private Set&lt;Authority&gt; authorities = new HashSet&lt;&gt;();\n\n    @Id @GeneratedValue(strategy=GenerationType.IDENTITY)\n    public Long getId()\n    {\n        return id;\n    }\n    public void setId(Long id)\n    {\n        this.id = id;\n    }\n\n    public String getUsername()\n    {\n        return username;\n    }\n    public void setUsername(String username)\n    {\n        this.username = username;\n    }\n\n    public String getPassword()\n    {\n        return password;\n    }\n    public void setPassword(String password)\n    {\n        this.password = password;\n    }\n\n    public String getName()\n    {\n        return name;\n    }\n    public void setName(String name)\n    {\n        this.name = name;\n    }\n\n    @OneToMany(cascade=CascadeType.ALL, fetch=FetchType.EAGER, mappedBy=&quot;user&quot;)\n    public Set&lt;Authority&gt; getAuthorities()\n    {\n        return this.authorities;\n    }\n    public void setAuthorities(Set&lt;Authority&gt; authorities)\n    {\n        this.authorities = authorities;\n    }\n    \n\n}\n</code></pre>\n<p>I hope it'll be possible to make something out of it. I deleted the imports because i couldn't post my question otherwise.</p>\n"},{"tags":["java","android","get","retrofit"],"comments":[{"owner":{"account_id":412960,"reputation":13747,"user_id":786337,"accept_rate":100,"display_name":"Tarun"},"score":11,"creation_date":1429826914,"post_id":29834959,"comment_id":47797207,"body_markdown":"You need to change the annotation to @POST","body":"You need to change the annotation to @POST"},{"owner":{"account_id":318582,"reputation":15242,"user_id":635887,"display_name":"Ray Hunter"},"score":3,"creation_date":1449389132,"post_id":29834959,"comment_id":55980017,"body_markdown":"@user2026760, do you have to use a GET request with a body? If you do, you can create your own annotation and have it handle a body in the get request. Not ideal, but I am sure someone, somewhere, has created a server that does that. I have had to supply a body with a DELETE request, which I hate to do; but I have done them.","body":"@user2026760, do you have to use a GET request with a body? If you do, you can create your own annotation and have it handle a body in the get request. Not ideal, but I am sure someone, somewhere, has created a server that does that. I have had to supply a body with a DELETE request, which I hate to do; but I have done them."},{"owner":{"account_id":558467,"reputation":78,"user_id":920949,"display_name":"ragar90"},"score":1,"creation_date":1573845014,"post_id":29834959,"comment_id":104033743,"body_markdown":"How can i create a custom annotation?","body":"How can i create a custom annotation?"}],"answers":[{"tags":[],"owner":{"account_id":1689472,"reputation":4098,"user_id":1552136,"accept_rate":60,"display_name":"harshitpthk"},"down_vote_count":2,"up_vote_count":21,"is_accepted":true,"score":19,"last_activity_date":1484144312,"creation_date":1441619655,"answer_id":32435778,"question_id":29834959,"body_markdown":"To send data along with your `Get Request` you can do the following:\r\n    \r\n    //sending data as a url parameter\r\n    @GET(&quot;/group/{id}/users&quot;)\r\n    List&lt;User&gt; groupList(@Path(&quot;id&quot;) int groupId);\r\n\r\nas said in this [SO answer][1], Server semantics for GET, however, are restricted such that a body, if any, has no semantic meaning to the request- Roy Fielding.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/983458/1552136","title":"HTTP GET with request body RETROFIT","body":"<p>To send data along with your <code>Get Request</code> you can do the following:</p>\n\n<pre><code>//sending data as a url parameter\n@GET(\"/group/{id}/users\")\nList&lt;User&gt; groupList(@Path(\"id\") int groupId);\n</code></pre>\n\n<p>as said in this <a href=\"https://stackoverflow.com/a/983458/1552136\">SO answer</a>, Server semantics for GET, however, are restricted such that a body, if any, has no semantic meaning to the request- Roy Fielding.</p>\n"},{"tags":[],"owner":{"account_id":7270007,"reputation":392,"user_id":5543418,"display_name":"Guybrush"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1469036709,"creation_date":1469036709,"answer_id":38487357,"question_id":29834959,"body_markdown":"The definition of GET as explained [here][1] in this answer explains that a body isn&#39;t supposed to mean anything, so Retrofit doesn&#39;t allow you to add a body. That said, it is not true that a server HAS to follow this format. It&#39;s entirely possible for a server to have a GET endpoint that not only takes, but REQUIRES a body. It would be &quot;bad&quot; architecture, but it seems a bit silly for Retrofit to limit what the library can do unnecessarily.\r\n\r\nFurthermore, the various HTTP methods have different definitions for what they are SUPPOSED to do. For example a GET gets information, a POST creates a new entry/object by providing information to the server, a PUT updates an existing entry/object etc. The problem is, the easiest way to pass complex data to the server, especially when using retrofit, is by using JSON. So the ideal way to GET information from the server while providing a complex filter would be to send a JSON body along with the GET request. Unfortunately, there is no HTTP request method that allows for this under the spec.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/978061/http-get-with-request-body","title":"HTTP GET with request body RETROFIT","body":"<p>The definition of GET as explained <a href=\"https://stackoverflow.com/questions/978061/http-get-with-request-body\">here</a> in this answer explains that a body isn't supposed to mean anything, so Retrofit doesn't allow you to add a body. That said, it is not true that a server HAS to follow this format. It's entirely possible for a server to have a GET endpoint that not only takes, but REQUIRES a body. It would be \"bad\" architecture, but it seems a bit silly for Retrofit to limit what the library can do unnecessarily.</p>\n\n<p>Furthermore, the various HTTP methods have different definitions for what they are SUPPOSED to do. For example a GET gets information, a POST creates a new entry/object by providing information to the server, a PUT updates an existing entry/object etc. The problem is, the easiest way to pass complex data to the server, especially when using retrofit, is by using JSON. So the ideal way to GET information from the server while providing a complex filter would be to send a JSON body along with the GET request. Unfortunately, there is no HTTP request method that allows for this under the spec.</p>\n"},{"tags":[],"owner":{"account_id":6640757,"reputation":827,"user_id":5126523,"accept_rate":21,"display_name":"satyender"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1582282649,"creation_date":1537165309,"answer_id":52361812,"question_id":29834959,"body_markdown":"This error also occurs when API required @POST and you are using @GET ","title":"HTTP GET with request body RETROFIT","body":"<p>This error also occurs when API required @POST and you are using @GET </p>\n"},{"tags":[],"owner":{"account_id":7444496,"reputation":521,"user_id":5661175,"display_name":"erik.aortiz"},"down_vote_count":8,"up_vote_count":1,"is_accepted":false,"score":-7,"last_activity_date":1556238502,"creation_date":1556238502,"answer_id":55859239,"question_id":29834959,"body_markdown":"To Send body in a GET request use: \r\n\r\n\t@HTTP(method = &quot;GET&quot;, path = &quot;api/users&quot;, hasBody = true)\r\n\tObservable&lt;JobDeleteResponseModel&gt; jobDelete(@Body UserPostRequestBody body);\r\n\r\nas is described in this [post][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37942474/delete-method-is-not-supportingnon-body-http-method-cannot-contain-body-or-t%20as%20is%20described%20in%20this%20post:%20https://stackoverflow.com/questions/37942474/delete-method-is-not-supportingnon-body-http-method-cannot-contain-body-or-t","title":"HTTP GET with request body RETROFIT","body":"<p>To Send body in a GET request use: </p>\n\n<pre><code>@HTTP(method = \"GET\", path = \"api/users\", hasBody = true)\nObservable&lt;JobDeleteResponseModel&gt; jobDelete(@Body UserPostRequestBody body);\n</code></pre>\n\n<p>as is described in this <a href=\"https://stackoverflow.com/questions/37942474/delete-method-is-not-supportingnon-body-http-method-cannot-contain-body-or-t%20as%20is%20described%20in%20this%20post:%20https://stackoverflow.com/questions/37942474/delete-method-is-not-supportingnon-body-http-method-cannot-contain-body-or-t\">post</a></p>\n"},{"tags":[],"owner":{"account_id":558467,"reputation":78,"user_id":920949,"display_name":"ragar90"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619210869,"creation_date":1573846396,"answer_id":58883553,"question_id":29834959,"body_markdown":"If the request body you need to send is not to complex you can also specify the query parameters as `https://myserverdomain.com?somebody[property1]=value` specifically on retrofit you define it like this:\r\n\r\n    Observable&lt;Response&lt;SomeClass&gt;&gt; someMethod(@Query(&quot;somebody[property1]&quot;) int property1);\r\n\r\nThat will work at least if you are requesting to a rails server hope this answer helps somebody","title":"HTTP GET with request body RETROFIT","body":"<p>If the request body you need to send is not to complex you can also specify the query parameters as <code>https://myserverdomain.com?somebody[property1]=value</code> specifically on retrofit you define it like this:</p>\n<pre><code>Observable&lt;Response&lt;SomeClass&gt;&gt; someMethod(@Query(&quot;somebody[property1]&quot;) int property1);\n</code></pre>\n<p>That will work at least if you are requesting to a rails server hope this answer helps somebody</p>\n"},{"tags":[],"owner":{"account_id":14346707,"reputation":561,"user_id":10363408,"display_name":"jagadishlakkurcom jagadishlakk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702001751,"creation_date":1620894330,"answer_id":67516121,"question_id":29834959,"body_markdown":"* GET call don’t  accept body. so use `Query(&quot;key&quot;)` or `Path(&quot;key&quot;)`\r\n\r\n* only POST calls accepts Body \r\n\r\n`@POST(&quot;api/&quot;) \r\nvoid getData(@Body UserPostRequestBody request)`","title":"HTTP GET with request body RETROFIT","body":"<ul>\n<li><p>GET call don’t  accept body. so use <code>Query(&quot;key&quot;)</code> or <code>Path(&quot;key&quot;)</code></p>\n</li>\n<li><p>only POST calls accepts Body</p>\n</li>\n</ul>\n<p><code>@POST(&quot;api/&quot;)  void getData(@Body UserPostRequestBody request)</code></p>\n"}],"owner":{"account_id":2307886,"reputation":479,"user_id":2026760,"display_name":"melnkikacg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54449,"favorite_count":0,"down_vote_count":1,"up_vote_count":37,"accepted_answer_id":32435778,"answer_count":6,"score":36,"last_activity_date":1702001751,"creation_date":1429825766,"question_id":29834959,"body_markdown":"\r\nI am using Retrofit to make api calls in my android application.\r\nI have to submit a @Body of JSON\r\n\r\n    @GET(&quot;api/&quot;)\r\n    void getData(@Body UserPostRequestBody request)\r\n\r\nI get error message \r\n\r\n    retrofit.RetrofitError: apiCall: Non-body HTTP method cannot contain @Body or @TypedOutput.\r\n\r\nHave you any idea?\r\n\r\n","title":"HTTP GET with request body RETROFIT","body":"<p>I am using Retrofit to make api calls in my android application.\nI have to submit a @Body of JSON</p>\n\n<pre><code>@GET(\"api/\")\nvoid getData(@Body UserPostRequestBody request)\n</code></pre>\n\n<p>I get error message </p>\n\n<pre><code>retrofit.RetrofitError: apiCall: Non-body HTTP method cannot contain @Body or @TypedOutput.\n</code></pre>\n\n<p>Have you any idea?</p>\n"},{"tags":["java","node.js","asynchronous","architecture","microservices"],"comments":[{"owner":{"account_id":15435235,"reputation":57,"user_id":11135516,"display_name":"Ramin"},"score":0,"creation_date":1702154200,"post_id":77621624,"comment_id":136863029,"body_markdown":"Before you give access your user to do something with token, check the id existed in the db then do some sort of actions you can do this in the gateway.","body":"Before you give access your user to do something with token, check the id existed in the db then do some sort of actions you can do this in the gateway."}],"owner":{"account_id":30033348,"reputation":1,"user_id":23015928,"display_name":"MB2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702001288,"creation_date":1701966567,"question_id":77621624,"body_markdown":"So I return with yet another question I&#39;m having about designing my microservices project app.  \r\n\r\nImagine we got those two microservices:  \r\n**user-management** (stores user_id + other stuff about user)  \r\n**posts-management** (stores users&#39; posts  and will obviously need a copy/reference of user_ids)  \r\n\r\nMy problem is that I did think of basically storing the user_id in the JWT and make use of that one. This would work perfectly when an user creates a post but there comes a problem. What happens when an admin deletes the account of that user? The jwt of that user might still be available ( even if i use short-lived jwts like 15 mins) and he might be able to **create** new posts in the posts-service despite not having an account anymore. \r\n\r\nAnother thing I thought of ( again im a newbie so I&#39;m not sure which would be the best course ) would be that each time we make a post request, we just create the post in the post-service without checking immediately, but try to send an event asynchronously to the user-service which would &quot;CHECK&quot; for the existence of the user. If the user service returns nothing then it&#39;s all ok, but if it returns something like UserDoesNotExistEvent, we would delete all the posts from the post-service. The problem that appears now is that id make those async requests ( even tho they&#39;re async ) I&#39;d have to make them EACH time a new post is created. Is this ok? Would it overload the user service and the post service by creating posts which would be deleted soon after?\r\n\r\nWhat should I do?\r\n\r\nI want this to be quite effective, but this is just a final year project after all so it&#39;s not like it is a product I&#39;ll make money off, but I&#39;d like to learn as many things as  I can about microservices good practices and tradeoffs.        \r\n\r\n\r\n\r\n**EDIT!**\r\nOk so have actually thought of something and would love to hear your opinion on this. What if when I delete an user and the user-service sends an event to the post-service, I don&#39;t delete the posts of that user, but instead store all the user_ids of the users who I want to remove. I could have some sort of scheduled task which would delete those &quot;users_to_be_deleted&quot; each hour or so and I think it would kinda fix the problem I had before, but of course users will still be able to  post things until their jwt expire.","title":"Checking user existence in separate user-service. Make use of JWT user_id or choreography?","body":"<p>So I return with yet another question I'm having about designing my microservices project app.</p>\n<p>Imagine we got those two microservices:<br />\n<strong>user-management</strong> (stores user_id + other stuff about user)<br />\n<strong>posts-management</strong> (stores users' posts  and will obviously need a copy/reference of user_ids)</p>\n<p>My problem is that I did think of basically storing the user_id in the JWT and make use of that one. This would work perfectly when an user creates a post but there comes a problem. What happens when an admin deletes the account of that user? The jwt of that user might still be available ( even if i use short-lived jwts like 15 mins) and he might be able to <strong>create</strong> new posts in the posts-service despite not having an account anymore.</p>\n<p>Another thing I thought of ( again im a newbie so I'm not sure which would be the best course ) would be that each time we make a post request, we just create the post in the post-service without checking immediately, but try to send an event asynchronously to the user-service which would &quot;CHECK&quot; for the existence of the user. If the user service returns nothing then it's all ok, but if it returns something like UserDoesNotExistEvent, we would delete all the posts from the post-service. The problem that appears now is that id make those async requests ( even tho they're async ) I'd have to make them EACH time a new post is created. Is this ok? Would it overload the user service and the post service by creating posts which would be deleted soon after?</p>\n<p>What should I do?</p>\n<p>I want this to be quite effective, but this is just a final year project after all so it's not like it is a product I'll make money off, but I'd like to learn as many things as  I can about microservices good practices and tradeoffs.</p>\n<p><strong>EDIT!</strong>\nOk so have actually thought of something and would love to hear your opinion on this. What if when I delete an user and the user-service sends an event to the post-service, I don't delete the posts of that user, but instead store all the user_ids of the users who I want to remove. I could have some sort of scheduled task which would delete those &quot;users_to_be_deleted&quot; each hour or so and I think it would kinda fix the problem I had before, but of course users will still be able to  post things until their jwt expire.</p>\n"},{"tags":["java","spring-boot","polymorphism"],"comments":[{"owner":{"account_id":17835,"reputation":303885,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1701944893,"post_id":77618931,"comment_id":136838585,"body_markdown":"Don&#39;t use `param==&quot;Work&quot;`, use `param.equals(&quot;Work&quot;)` (or the null-tolerating `&quot;Work&quot;.equals(param)`) instead.","body":"Don&#39;t use <code>param==&quot;Work&quot;</code>, use <code>param.equals(&quot;Work&quot;)</code> (or the null-tolerating <code>&quot;Work&quot;.equals(param)</code>) instead."}],"answers":[{"tags":[],"owner":{"account_id":5668267,"reputation":2415,"user_id":4483806,"display_name":"UDID"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701945550,"creation_date":1701944733,"answer_id":77619260,"question_id":77618931,"body_markdown":"You can inject the necessary dependencies into the constructor of `SomeClass`, and then use those dependencies to create instances of the `BasicProcess` implementations.\r\n\r\nWorking code :\r\n\r\n    public interface BasicProcess {\r\n        Message createProcess();\r\n    }\r\n    \r\n    @RequiredArgsConstructor\r\n    public class WorkProcess implements BasicProcess {\r\n    \r\n        private final HelperService helperService;\r\n    \r\n        @Override\r\n        public Message createProcess() {\r\n            // other codes\r\n            return new Message(&quot;WorkProcess executed&quot;);\r\n        }\r\n    }\r\n    \r\n    @RequiredArgsConstructor\r\n    public class EatProcess implements BasicProcess {\r\n    \r\n        private final FoodService foodService;\r\n    \r\n        @Override\r\n        public Message createProcess() {\r\n            // other logic\r\n            return new Message(&quot;EatProcess executed&quot;);\r\n        }\r\n    }\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class Factory {\r\n    \r\n        private final HelperService helperService;\r\n        private final FoodService foodService;\r\n    \r\n        public BasicProcess factoryMethod(String param) {\r\n            if (&quot;Work&quot;.equals(param)) {\r\n                return new WorkProcess(helperService);\r\n            } else if (&quot;Food&quot;.equals(param)) {\r\n                return new EatProcess(foodService);\r\n            }\r\n            return null; \r\n        }\r\n    }\r\n    \r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class SomeClass {\r\n    \r\n        private final Factory factory;\r\n    \r\n        public void startProcess() {\r\n            BasicProcess process = factory.factoryMethod(&quot;Food&quot;);\r\n            if (process != null) {\r\n                process.createProcess(); // calling EatProcess implementation\r\n            } else {\r\n                // Handle invalid param \r\n            }\r\n        }\r\n    }\r\n\r\n\r\nHere your dependencies `HelperService` and `FoodService` are injected into the constructors of `WorkProcess` and `EatProcess`.  factory method in the Factory class is responsible for creating instances of BasicProcess implementations based on parameter. The SomeClass component then uses the factory to obtain an instance and call the createProcess method.","title":"Spring and Factorymethod","body":"<p>You can inject the necessary dependencies into the constructor of <code>SomeClass</code>, and then use those dependencies to create instances of the <code>BasicProcess</code> implementations.</p>\n<p>Working code :</p>\n<pre><code>public interface BasicProcess {\n    Message createProcess();\n}\n\n@RequiredArgsConstructor\npublic class WorkProcess implements BasicProcess {\n\n    private final HelperService helperService;\n\n    @Override\n    public Message createProcess() {\n        // other codes\n        return new Message(&quot;WorkProcess executed&quot;);\n    }\n}\n\n@RequiredArgsConstructor\npublic class EatProcess implements BasicProcess {\n\n    private final FoodService foodService;\n\n    @Override\n    public Message createProcess() {\n        // other logic\n        return new Message(&quot;EatProcess executed&quot;);\n    }\n}\n\n@Service\n@RequiredArgsConstructor\npublic class Factory {\n\n    private final HelperService helperService;\n    private final FoodService foodService;\n\n    public BasicProcess factoryMethod(String param) {\n        if (&quot;Work&quot;.equals(param)) {\n            return new WorkProcess(helperService);\n        } else if (&quot;Food&quot;.equals(param)) {\n            return new EatProcess(foodService);\n        }\n        return null; \n    }\n}\n\n@Component\n@RequiredArgsConstructor\npublic class SomeClass {\n\n    private final Factory factory;\n\n    public void startProcess() {\n        BasicProcess process = factory.factoryMethod(&quot;Food&quot;);\n        if (process != null) {\n            process.createProcess(); // calling EatProcess implementation\n        } else {\n            // Handle invalid param \n        }\n    }\n}\n</code></pre>\n<p>Here your dependencies <code>HelperService</code> and <code>FoodService</code> are injected into the constructors of <code>WorkProcess</code> and <code>EatProcess</code>.  factory method in the Factory class is responsible for creating instances of BasicProcess implementations based on parameter. The SomeClass component then uses the factory to obtain an instance and call the createProcess method.</p>\n"},{"tags":[],"owner":{"account_id":29844919,"reputation":36,"user_id":22872208,"display_name":"Tianhong Yu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701999871,"creation_date":1701954169,"answer_id":77620233,"question_id":77618931,"body_markdown":"There is a beautiful way to work with Spring.\r\n\r\n1. Add a method `param` in BasicProcess.\r\n```java\r\npublic interface BasicProcess {\r\n    Message createProcess();\r\n\r\n    String param();\r\n}\r\n```\r\n\r\n2. Define your implements with @Component.\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class WorkProcess implements BasicProcess {\r\n\r\n    // Spring will inject bean into this field\r\n    private final HelperService;\r\n\r\n    @Override\r\n    public Message createProcess() {\r\n        //do some logic\r\n    }\r\n\r\n    @Override\r\n    public String param() {\r\n        return &quot;Work&quot;;\r\n    }\r\n}\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class EatProcess implements BasicProcess {\r\n\r\n    private FoodService;\r\n\r\n    @Override\r\n    public Message createProcess() {\r\n        //do some other logic\r\n    }\r\n\r\n    @Override\r\n    public String param() {\r\n        return &quot;Food&quot;;\r\n    }\r\n}\r\n```\r\n3. Inject all BasicProcess into your factory.\r\n```Java\r\n@Service\r\npublic class Factory implements InitializingBean {\r\n\r\n    // Spring will inject all bean which implements BasicProcess into this field.\r\n    @Autowired\r\n    private List&lt;BasicProcess&gt; basicProcessList;\r\n\r\n    private final Map&lt;String, BasicProcess&gt; basicProcessMap = new HashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public void afterPropertiesSet() {\r\n        if (Objects.nonNull(basicProcessList)) {\r\n            basicProcessList.forEach(\r\n                    process -&gt; basicProcessMap.put(process.param(), process)\r\n            );\r\n            basicProcessList = null; // help gc\r\n        }\r\n    }\r\n\r\n    public BasicProcess factoryMethod(String param) {\r\n        return basicProcessMap.get(param);\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Spring and Factorymethod","body":"<p>There is a beautiful way to work with Spring.</p>\n<ol>\n<li>Add a method <code>param</code> in BasicProcess.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BasicProcess {\n    Message createProcess();\n\n    String param();\n}\n</code></pre>\n<ol start=\"2\">\n<li>Define your implements with @Component.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class WorkProcess implements BasicProcess {\n\n    // Spring will inject bean into this field\n    private final HelperService;\n\n    @Override\n    public Message createProcess() {\n        //do some logic\n    }\n\n    @Override\n    public String param() {\n        return &quot;Work&quot;;\n    }\n}\n\n@Component\n@RequiredArgsConstructor\npublic class EatProcess implements BasicProcess {\n\n    private FoodService;\n\n    @Override\n    public Message createProcess() {\n        //do some other logic\n    }\n\n    @Override\n    public String param() {\n        return &quot;Food&quot;;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Inject all BasicProcess into your factory.</li>\n</ol>\n<pre><code>@Service\npublic class Factory implements InitializingBean {\n\n    // Spring will inject all bean which implements BasicProcess into this field.\n    @Autowired\n    private List&lt;BasicProcess&gt; basicProcessList;\n\n    private final Map&lt;String, BasicProcess&gt; basicProcessMap = new HashMap&lt;&gt;();\n\n    @Override\n    public void afterPropertiesSet() {\n        if (Objects.nonNull(basicProcessList)) {\n            basicProcessList.forEach(\n                    process -&gt; basicProcessMap.put(process.param(), process)\n            );\n            basicProcessList = null; // help gc\n        }\n    }\n\n    public BasicProcess factoryMethod(String param) {\n        return basicProcessMap.get(param);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2997756,"reputation":515,"user_id":2543939,"accept_rate":43,"display_name":"Roma Kap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701999871,"creation_date":1701941327,"question_id":77618931,"body_markdown":"I would like to instantiate a class in a factory method and execute the respective implementation of the method defined in the interface.\r\nMy problem is that I don&#39;t want to create the dependencies of such a class (they are nested) myself, but rather that Spring injects them into this class. \r\n\r\nMy code is:\r\n\r\n    public Interface BasicProcess {\r\n         Message createProcess()\r\n    }\r\n    \r\n\r\n    @RequiredArgsConstructor\r\n    public Class WorkProcess implements BasicProcess {\r\n     \r\n       private final HelperService;\r\n       \r\n       @Override\r\n       Message createProcess(){\r\n          //do some logik\r\n       }\r\n    }\r\n\r\n    @RequiredArgsConstructor\r\n    public Class EatProcess implements BasicProcess {\r\n\r\n       private FoodService;\r\n\r\n       @Override\r\n       Message createProcess(){\r\n          //do some other logik\r\n       }\r\n    }\r\n\r\nand now I decide, which &quot;Bean&quot; i am instantiating:\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class Factory(){\r\n    \r\n         \r\n         private final HelperService helperService;\r\n    \r\n         \r\n         private final FoodService foodService;\r\n    \r\n         public BasicProcess factoryMethod(String param){\r\n    \r\n             if(param==&quot;Work&quot;){\r\n                 return new WorkProcess(helperService)\r\n             } else if (param == &quot;Food&quot;) {\r\n    \r\n                  return new EatProcess(foodService)\r\n             }\r\n         \r\n         }\r\n        }\r\n\r\n\r\nand now i&#39;am calling particular implementation:\r\n\r\n    @RequiredArgsConstructor\r\n    @Component\r\n    class SomeClass{\r\n    \r\n       private final Factory factory;\r\n    \r\n       public void startProcess(){\r\n            BasicProcess processfactory.factoryMethod(&quot;Food&quot;);\r\n            processfactory.createProcess(); //calling EatProcess implementation\r\n       }\r\n    \r\n    }\r\n\r\nIs there some better Solutions to call dynamicly &quot;createProcess&quot;?\r\nI dont like to say &quot;new WorkProcess(....)&quot;","title":"Spring and Factorymethod","body":"<p>I would like to instantiate a class in a factory method and execute the respective implementation of the method defined in the interface.\nMy problem is that I don't want to create the dependencies of such a class (they are nested) myself, but rather that Spring injects them into this class.</p>\n<p>My code is:</p>\n<pre><code>public Interface BasicProcess {\n     Message createProcess()\n}\n\n\n@RequiredArgsConstructor\npublic Class WorkProcess implements BasicProcess {\n \n   private final HelperService;\n   \n   @Override\n   Message createProcess(){\n      //do some logik\n   }\n}\n\n@RequiredArgsConstructor\npublic Class EatProcess implements BasicProcess {\n\n   private FoodService;\n\n   @Override\n   Message createProcess(){\n      //do some other logik\n   }\n}\n</code></pre>\n<p>and now I decide, which &quot;Bean&quot; i am instantiating:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class Factory(){\n\n     \n     private final HelperService helperService;\n\n     \n     private final FoodService foodService;\n\n     public BasicProcess factoryMethod(String param){\n\n         if(param==&quot;Work&quot;){\n             return new WorkProcess(helperService)\n         } else if (param == &quot;Food&quot;) {\n\n              return new EatProcess(foodService)\n         }\n     \n     }\n    }\n</code></pre>\n<p>and now i'am calling particular implementation:</p>\n<pre><code>@RequiredArgsConstructor\n@Component\nclass SomeClass{\n\n   private final Factory factory;\n\n   public void startProcess(){\n        BasicProcess processfactory.factoryMethod(&quot;Food&quot;);\n        processfactory.createProcess(); //calling EatProcess implementation\n   }\n\n}\n</code></pre>\n<p>Is there some better Solutions to call dynamicly &quot;createProcess&quot;?\nI dont like to say &quot;new WorkProcess(....)&quot;</p>\n"},{"tags":["java","spring","hibernate","jpa","many-to-many"],"comments":[{"owner":{"account_id":14769499,"reputation":108,"user_id":10666418,"display_name":"Anton Kozub"},"score":0,"creation_date":1702028345,"post_id":77623843,"comment_id":136849987,"body_markdown":"Did you try to turn on the Hibernate property show-sql=true? Maybe the SQL  script will help to understand.","body":"Did you try to turn on the Hibernate property show-sql=true? Maybe the SQL  script will help to understand."},{"owner":{"account_id":23441285,"reputation":65,"user_id":17498750,"display_name":"R3qUi3M"},"score":0,"creation_date":1702036862,"post_id":77623843,"comment_id":136851403,"body_markdown":"It&#39;s on and it&#39;s selecting the right table.","body":"It&#39;s on and it&#39;s selecting the right table."},{"owner":{"account_id":14769499,"reputation":108,"user_id":10666418,"display_name":"Anton Kozub"},"score":1,"creation_date":1702042374,"post_id":77623843,"comment_id":136852213,"body_markdown":"The problem is in Data annotation - it doesn&#39;t work correctly with JPA. Use Getter and Setter. More details here https://jpa-buddy.com/blog/lombok-and-jpa-what-may-go-wrong/","body":"The problem is in Data annotation - it doesn&#39;t work correctly with JPA. Use Getter and Setter. More details here <a href=\"https://jpa-buddy.com/blog/lombok-and-jpa-what-may-go-wrong/\" rel=\"nofollow noreferrer\">jpa-buddy.com/blog/lombok-and-jpa-what-may-go-wrong</a>"}],"owner":{"account_id":23441285,"reputation":65,"user_id":17498750,"display_name":"R3qUi3M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701999824,"creation_date":1701998427,"question_id":77623843,"body_markdown":"I&#39;m developing some business application and created a many to many relationship between two entities. One of them is a super class but that is not what is causing the issue I think... The problem I faced is quite abysmal! I have for example two entities in database. One of them is AuditedEntity and another one is TaxonomyElement. I have also a table that holds relationship that was generated by hibernate and spring framework. In that table I have a relation between the two entities (table just holds a pair of two foreign keys).\r\n\r\nWhen I fetch AuditedEntity - the taxonomyElements Set is an EMPTY SET!!! Even though the relation exists in database. More bizarre is the fact that if I change the Set to be a List (in any of the entities) then suddenly my TaxonomyElement is on that list (that was not easy to discover)! \r\n\r\nVery puzzling... here is the code:\r\n\r\n```\r\npackage com.app.domain.auditedEntity;\r\n\r\nimport com.app.domain.taxonomyElement.TaxonomyElement;\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\nimport lombok.experimental.SuperBuilder;\r\nimport org.hibernate.annotations.GenericGenerator;\r\n\r\nimport java.util.*;\r\n\r\n@Data\r\n@Entity\r\n@SuperBuilder\r\n@AllArgsConstructor\r\n@RequiredArgsConstructor\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic class AuditedEntity {\r\n  @Id\r\n  @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY, generator = &quot;uuid2&quot;)\r\n  @Column(length = 36)\r\n  private String id;\r\n\r\n  @Version\r\n  @Column(nullable = false)\r\n  private Integer version;\r\n\r\n  @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n  @JoinTable(\r\n    name = &quot;audited_entity_to_taxonomy_element&quot;,\r\n    joinColumns = {@JoinColumn(name = &quot;audited_entity_id&quot;)},\r\n    inverseJoinColumns = {@JoinColumn(name = &quot;taxonomy_element_id&quot;)}\r\n  )\r\n  private final Set&lt;TaxonomyElement&gt; taxonomyElements = new HashSet&lt;&gt;();\r\n}\r\n```\r\n```\r\npackage com.app.domain.taxonomyElement;\r\n\r\nimport com.app.domain.auditedEntity.AuditedEntity;\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.hibernate.annotations.GenericGenerator;\r\n\r\nimport java.util.*;\r\n\r\n@Data\r\n@Entity\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class TaxonomyElement {\r\n  @Id\r\n  @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY, generator = &quot;uuid2&quot;)\r\n  @Column(length = 36)\r\n  private String id;\r\n\r\n  @ManyToMany(mappedBy = &quot;taxonomyElements&quot;, cascade = CascadeType.ALL)\r\n  private final Set&lt;AuditedEntity&gt; auditedEntities = new HashSet&lt;&gt;();\r\n}\r\n```\r\nI think this could be a bug in the framework or something very deep in it that is caused by something I&#39;m totally unaware of. You should be able to replicate this even though I removed some fields from entities. I&#39;m using Hibernate with JPA and getting the AuditedEntity with simple findById(id) call.\r\n\r\n```\r\npublic interface AuditedEntityRepository extends JpaRepository&lt;AuditedEntity, String&gt; {}\r\n```","title":"@ManyToMany in hibernate returns empty set in entity","body":"<p>I'm developing some business application and created a many to many relationship between two entities. One of them is a super class but that is not what is causing the issue I think... The problem I faced is quite abysmal! I have for example two entities in database. One of them is AuditedEntity and another one is TaxonomyElement. I have also a table that holds relationship that was generated by hibernate and spring framework. In that table I have a relation between the two entities (table just holds a pair of two foreign keys).</p>\n<p>When I fetch AuditedEntity - the taxonomyElements Set is an EMPTY SET!!! Even though the relation exists in database. More bizarre is the fact that if I change the Set to be a List (in any of the entities) then suddenly my TaxonomyElement is on that list (that was not easy to discover)!</p>\n<p>Very puzzling... here is the code:</p>\n<pre><code>package com.app.domain.auditedEntity;\n\nimport com.app.domain.taxonomyElement.TaxonomyElement;\nimport jakarta.persistence.*;\nimport lombok.*;\nimport lombok.experimental.SuperBuilder;\nimport org.hibernate.annotations.GenericGenerator;\n\nimport java.util.*;\n\n@Data\n@Entity\n@SuperBuilder\n@AllArgsConstructor\n@RequiredArgsConstructor\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class AuditedEntity {\n  @Id\n  @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n  @GeneratedValue(strategy = GenerationType.IDENTITY, generator = &quot;uuid2&quot;)\n  @Column(length = 36)\n  private String id;\n\n  @Version\n  @Column(nullable = false)\n  private Integer version;\n\n  @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n  @JoinTable(\n    name = &quot;audited_entity_to_taxonomy_element&quot;,\n    joinColumns = {@JoinColumn(name = &quot;audited_entity_id&quot;)},\n    inverseJoinColumns = {@JoinColumn(name = &quot;taxonomy_element_id&quot;)}\n  )\n  private final Set&lt;TaxonomyElement&gt; taxonomyElements = new HashSet&lt;&gt;();\n}\n</code></pre>\n<pre><code>package com.app.domain.taxonomyElement;\n\nimport com.app.domain.auditedEntity.AuditedEntity;\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.annotations.GenericGenerator;\n\nimport java.util.*;\n\n@Data\n@Entity\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class TaxonomyElement {\n  @Id\n  @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n  @GeneratedValue(strategy = GenerationType.IDENTITY, generator = &quot;uuid2&quot;)\n  @Column(length = 36)\n  private String id;\n\n  @ManyToMany(mappedBy = &quot;taxonomyElements&quot;, cascade = CascadeType.ALL)\n  private final Set&lt;AuditedEntity&gt; auditedEntities = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>I think this could be a bug in the framework or something very deep in it that is caused by something I'm totally unaware of. You should be able to replicate this even though I removed some fields from entities. I'm using Hibernate with JPA and getting the AuditedEntity with simple findById(id) call.</p>\n<pre><code>public interface AuditedEntityRepository extends JpaRepository&lt;AuditedEntity, String&gt; {}\n</code></pre>\n"},{"tags":["java","regex","xml","group"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1701985888,"post_id":77623171,"comment_id":136845776,"body_markdown":"If you paste your regex into [regex101](https://regex101.com/) it will generate step-by-step explanation.","body":"If you paste your regex into <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101</a> it will generate step-by-step explanation."},{"owner":{"account_id":6156307,"reputation":33586,"user_id":5015238,"display_name":"jdweng"},"score":5,"creation_date":1701989371,"post_id":77623171,"comment_id":136846217,"body_markdown":"You should never use Regex on XML.  Regex is regular expressions and xml is not regular.","body":"You should never use Regex on XML.  Regex is regular expressions and xml is not regular."},{"owner":{"account_id":6566883,"reputation":851,"user_id":5076162,"accept_rate":75,"display_name":"Alexander Dixon"},"score":0,"creation_date":1702005441,"post_id":77623171,"comment_id":136847576,"body_markdown":"@jdweng may you recommend a more sound approach in Java with the platform being Talend and the file received is a raw XML file.","body":"@jdweng may you recommend a more sound approach in Java with the platform being Talend and the file received is a raw XML file."},{"owner":{"account_id":529122,"reputation":158110,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1702028243,"post_id":77623171,"comment_id":136849974,"body_markdown":"Always parse XML using a real XML parser, not a hand-crafted regex.","body":"Always parse XML using a real XML parser, not a hand-crafted regex."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701999810,"creation_date":1701999810,"answer_id":77623904,"question_id":77623171,"body_markdown":"Here is a _capture pattern_.\r\n\r\n```none\r\n(?i)&lt;(description|value)\\s*(.*?)&gt;(.*?)&lt;/\\1\\s*&gt;\r\n```","title":"Java XML node RegEx string manipulation - Return node content variably, excluding the closing tag","body":"<p>Here is a <em>capture pattern</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?i)&lt;(description|value)\\s*(.*?)&gt;(.*?)&lt;/\\1\\s*&gt;\n</code></pre>\n"}],"owner":{"account_id":6566883,"reputation":851,"user_id":5076162,"accept_rate":75,"display_name":"Alexander Dixon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701999810,"creation_date":1701984625,"question_id":77623171,"body_markdown":"In the following Java code, I was forced to use a substring on the returned content because I (claude.ai) could not concisely figure out what regex parameter to exclude the &quot;&gt;&quot; from the starting xml node.  How do we accomplish that?  The goal was to receive an xml document, and iterate through very specific tags, and swap out oddball characters that cause issues in certain platforms.  It is currently working now, as tested on [Java sandbox][1], but I&#39;d like to know how to do it so I would not have to use the substring method.  If you&#39;re up to it, please also expound upon what each part of the regular expression is doing.  To reproduce the issue, simply remove `&quot;.substring(1); //Bandaid fix because I don&#39;t know regex&quot;` with `&quot;;&quot;`.  The Tag content console log will start with a `&quot;&gt;&quot;`, this is what I don&#39;t&#39; want.\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class HelloWorld {\r\n    \r\n        public static void main(String []args) {\r\n            String xml = &quot;&lt;Description&gt;–%%%%%%%%%%%%%130609 &amp; -++ %% Cracker Craze––+/()&lt;/Description&gt;&lt;Value code=&#39;1&#39;&gt;Triscuit Lapsed --Buyers&lt;/Value&gt;&quot;;\r\n            //String xml = &quot;&lt;Description&gt;–%%%%%%%%%%%%%130609 &amp; -++ %% Cracker Craze––+/()&lt;/Description&gt;&lt;Value&gt;Triscuit Lapsed --Buyers&lt;/Value&gt;&quot;;\r\n    \r\n            // Mapping of characters to replacements\r\n            String[][] replacements = {\r\n                {&quot;-&quot;, &quot;HYPHEN&quot;},\r\n                {&quot;–&quot;, &quot;LONG.HYPHEN&quot;},\r\n                {&quot;‘&quot;, &quot;SMART.QUOTE.A&quot;},\r\n                {&quot;’&quot;, &quot;SMART.QUOTE.B&quot;},\r\n                {&quot;“&quot;, &quot;D.SMART.QUOTE.A&quot;},\r\n                {&quot;”&quot;, &quot;D.SMART.QUOTE.B&quot;},\r\n                {&quot;+&quot;, &quot;PLUS&quot;},\r\n                {&quot;%&quot;, &quot;PERCENT&quot;},\r\n                {&quot;&amp;&quot;, &quot;AND&quot;},\r\n                {&quot;(&quot;, &quot;OPEN.PARENTHESIS&quot;},\r\n                {&quot;)&quot;, &quot;CLOSE.PARENTHESIS&quot;},\r\n                {&quot;/&quot;, &quot;FORWARD.SLASH&quot;},\r\n                {&quot;\\\\\\\\&quot;, &quot;BACK.SLASH&quot;}\r\n            };\r\n    \r\n            // Compile regex pattern\r\n            String pattern = &quot;&lt;(Description|Value)(?: (\\\\b[^&gt;]*))?([^&lt;]*?)&lt;/\\\\1&gt;&quot;; //Stable working\r\n    \r\n            Pattern targetXMLTags = Pattern.compile(pattern, Pattern.CASE_INSENSITIVE);\r\n    \r\n            // Find all XML node tags\r\n            Matcher matcher = targetXMLTags.matcher(xml);\r\n    \r\n            // String buffer to build output\r\n            StringBuffer processBufferXML = new StringBuffer();\r\n    \r\n            while (matcher.find()) {\r\n    \r\n                String tag = matcher.group(1);\r\n                String tagAttributes = null;\r\n    \r\n                String content = matcher.group(3).substring(1); //Bandaid fix because I don&#39;t know regex\r\n    \r\n                if(matcher.group(2) != null) {\r\n                    tagAttributes = matcher.group(2);\r\n                }\r\n    \r\n                System.out.println(&quot;Match found: &quot; + matcher.toString());\r\n                System.out.println(&quot;Tag name: &quot; + tag);\r\n                System.out.println(&quot;Tag attribute: &quot; + tagAttributes);\r\n                System.out.println(&quot;Tag content: &quot; + content);\r\n    \r\n                for (String[] replacement : replacements) {\r\n                    content = content.replace(replacement[0], replacement[1]);\r\n                }\r\n    \r\n                if(tagAttributes != null) {\r\n                    matcher.appendReplacement(processBufferXML, &quot;&lt;&quot; + tag + &quot; &quot; + tagAttributes + &quot;&gt;&quot; + content + &quot;&lt;/&quot; + tag + &quot;&gt;&quot;);\r\n    \r\n                } else {\r\n                    matcher.appendReplacement(processBufferXML, &quot;&lt;&quot; + tag + &quot;&gt;&quot; + content + &quot;&lt;/&quot; + tag + &quot;&gt;&quot;);\r\n                }\r\n    \r\n            }\r\n    \r\n            matcher.appendTail(processBufferXML);\r\n    \r\n            System.out.println(&quot;Replaced XML: &quot; + processBufferXML.toString());\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/compile_java_online.php","title":"Java XML node RegEx string manipulation - Return node content variably, excluding the closing tag","body":"<p>In the following Java code, I was forced to use a substring on the returned content because I (claude.ai) could not concisely figure out what regex parameter to exclude the &quot;&gt;&quot; from the starting xml node.  How do we accomplish that?  The goal was to receive an xml document, and iterate through very specific tags, and swap out oddball characters that cause issues in certain platforms.  It is currently working now, as tested on <a href=\"https://www.tutorialspoint.com/compile_java_online.php\" rel=\"nofollow noreferrer\">Java sandbox</a>, but I'd like to know how to do it so I would not have to use the substring method.  If you're up to it, please also expound upon what each part of the regular expression is doing.  To reproduce the issue, simply remove <code>&quot;.substring(1); //Bandaid fix because I don't know regex&quot;</code> with <code>&quot;;&quot;</code>.  The Tag content console log will start with a <code>&quot;&gt;&quot;</code>, this is what I don't' want.</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class HelloWorld {\n\n    public static void main(String []args) {\n        String xml = &quot;&lt;Description&gt;–%%%%%%%%%%%%%130609 &amp; -++ %% Cracker Craze––+/()&lt;/Description&gt;&lt;Value code='1'&gt;Triscuit Lapsed --Buyers&lt;/Value&gt;&quot;;\n        //String xml = &quot;&lt;Description&gt;–%%%%%%%%%%%%%130609 &amp; -++ %% Cracker Craze––+/()&lt;/Description&gt;&lt;Value&gt;Triscuit Lapsed --Buyers&lt;/Value&gt;&quot;;\n\n        // Mapping of characters to replacements\n        String[][] replacements = {\n            {&quot;-&quot;, &quot;HYPHEN&quot;},\n            {&quot;–&quot;, &quot;LONG.HYPHEN&quot;},\n            {&quot;‘&quot;, &quot;SMART.QUOTE.A&quot;},\n            {&quot;’&quot;, &quot;SMART.QUOTE.B&quot;},\n            {&quot;“&quot;, &quot;D.SMART.QUOTE.A&quot;},\n            {&quot;”&quot;, &quot;D.SMART.QUOTE.B&quot;},\n            {&quot;+&quot;, &quot;PLUS&quot;},\n            {&quot;%&quot;, &quot;PERCENT&quot;},\n            {&quot;&amp;&quot;, &quot;AND&quot;},\n            {&quot;(&quot;, &quot;OPEN.PARENTHESIS&quot;},\n            {&quot;)&quot;, &quot;CLOSE.PARENTHESIS&quot;},\n            {&quot;/&quot;, &quot;FORWARD.SLASH&quot;},\n            {&quot;\\\\\\\\&quot;, &quot;BACK.SLASH&quot;}\n        };\n\n        // Compile regex pattern\n        String pattern = &quot;&lt;(Description|Value)(?: (\\\\b[^&gt;]*))?([^&lt;]*?)&lt;/\\\\1&gt;&quot;; //Stable working\n\n        Pattern targetXMLTags = Pattern.compile(pattern, Pattern.CASE_INSENSITIVE);\n\n        // Find all XML node tags\n        Matcher matcher = targetXMLTags.matcher(xml);\n\n        // String buffer to build output\n        StringBuffer processBufferXML = new StringBuffer();\n\n        while (matcher.find()) {\n\n            String tag = matcher.group(1);\n            String tagAttributes = null;\n\n            String content = matcher.group(3).substring(1); //Bandaid fix because I don't know regex\n\n            if(matcher.group(2) != null) {\n                tagAttributes = matcher.group(2);\n            }\n\n            System.out.println(&quot;Match found: &quot; + matcher.toString());\n            System.out.println(&quot;Tag name: &quot; + tag);\n            System.out.println(&quot;Tag attribute: &quot; + tagAttributes);\n            System.out.println(&quot;Tag content: &quot; + content);\n\n            for (String[] replacement : replacements) {\n                content = content.replace(replacement[0], replacement[1]);\n            }\n\n            if(tagAttributes != null) {\n                matcher.appendReplacement(processBufferXML, &quot;&lt;&quot; + tag + &quot; &quot; + tagAttributes + &quot;&gt;&quot; + content + &quot;&lt;/&quot; + tag + &quot;&gt;&quot;);\n\n            } else {\n                matcher.appendReplacement(processBufferXML, &quot;&lt;&quot; + tag + &quot;&gt;&quot; + content + &quot;&lt;/&quot; + tag + &quot;&gt;&quot;);\n            }\n\n        }\n\n        matcher.appendTail(processBufferXML);\n\n        System.out.println(&quot;Replaced XML: &quot; + processBufferXML.toString());\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","interface","overloading","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701999055,"creation_date":1701999055,"answer_id":77623872,"question_id":77623811,"body_markdown":"`&lt;T extends BaseInterface&gt;` can be bound to `Throwable`. In general, this is hacky generics; the format:\r\n\r\n```\r\npublic &lt;T&gt; T someMethod() {\r\n  ... T is not mentioned, at all, anywhere here ...\r\n}\r\n```\r\n\r\nis an &#39;auto-casting&#39; hack - where any attempt to invoke this method will silently cast itself to whatever is needed, i.e. - pretty much guarantees `ClassCastException` unless you really know what you are doing. These hacks are rarely appropriate; however, if you return `null` (which as a literal is every type), this is fine, and, of course, if the method doesn&#39;t actually ever return (for example, `System.exit` doesn&#39;t actually return, and a method might never return normally, instead always exiting by way of throwing something) - then this is fine.\r\n\r\nYou&#39;ve got these auto-cast hack methods, but one of them restricts T with `&lt;T extends BaseClass&gt;`, the other with `&lt;T extends BaseInterface&gt;`.\r\n\r\nThe crucial difference is that with those restrictions:\r\n\r\n* `BaseClass` __cannot__ silently autocast to `Throwable`.\r\n* However, `BaseInterface` __can__ do that.\r\n\r\nThe reason is that java doesn&#39;t allow multiple inheritance. It is not possible to have a java type such that it both [A] is `instanceof Throwable` as well as [B] be `instanceof BaseClass`.\r\n\r\nHowever, with BaseInterface this is false. A type could exist that is `instanceof` both. It is immaterial if such a type _actually_ exists. All that matters is that one could make such a type. And one can:\r\n\r\n```\r\npublic class HereItIs extends Throwable implements BaseInterface {}\r\n```\r\n\r\nGiven that these are auto-cast hack methods, javac sees 2 possible methods that could work here (The one whose second arg is `Object...` and the one whose second arg is `Throwable`) and wants to pick the second option because the JLS generally says (as it does here) that the one that needs less magic always wins, and &#39;wrap the argment into an array to conform to the varargs&#39; is more magical that just passing the argument verbatim. Hence, javac wants to compile it as a call to `info(String, Throwable)` and will do so (with an auto-cast) for the `BaseInterface` one. It can&#39;t do that for the `BaseClass` one because the rules say java is not allowed to just pick `Throwable` for that T, as `Throwable` is not a valid choice for `&lt;T extends BaseClass&gt;`, whereas it _is_ a valid choice for `&lt;T extends BaseInterface&gt;`, for the reasons stated above.\r\n\r\nHence, in the BaseClass case, javac&#39;s rules state that cannot be, and thus javac looks further and then tries to treat it as a call to the `info(String, Object...)` variant and realizes it _can_ make that happen. So it does that.\r\n\r\nThe usual mistake people make when thinking of generics is to treat `&lt;T extends BaseInterface&gt;` as &#39;T represents the type notion: Any object that is a subtype of BaseInterface&#39; and __that is wrong__. `&lt;T extends BaseInterface&gt;` represents &#39;a type that we do not know, but is real. We call it T. All we know is, it&#39;s either BaseInterface, or some type that implements it, possibly even indirectly. In other words, it&#39;s precisely about that whole &#39;wellll, a type COULD exist that implements BaseInterface _and_ extends Throwable&#39;. It&#39;s meta-types: `T` encompasses all imaginable things that fit the bill, and the code has to make sense for __every__ choice imaginable.\r\n","title":"Why does changing from a base class to an interface cause a different overloaded method to be used?","body":"<p><code>&lt;T extends BaseInterface&gt;</code> can be bound to <code>Throwable</code>. In general, this is hacky generics; the format:</p>\n<pre><code>public &lt;T&gt; T someMethod() {\n  ... T is not mentioned, at all, anywhere here ...\n}\n</code></pre>\n<p>is an 'auto-casting' hack - where any attempt to invoke this method will silently cast itself to whatever is needed, i.e. - pretty much guarantees <code>ClassCastException</code> unless you really know what you are doing. These hacks are rarely appropriate; however, if you return <code>null</code> (which as a literal is every type), this is fine, and, of course, if the method doesn't actually ever return (for example, <code>System.exit</code> doesn't actually return, and a method might never return normally, instead always exiting by way of throwing something) - then this is fine.</p>\n<p>You've got these auto-cast hack methods, but one of them restricts T with <code>&lt;T extends BaseClass&gt;</code>, the other with <code>&lt;T extends BaseInterface&gt;</code>.</p>\n<p>The crucial difference is that with those restrictions:</p>\n<ul>\n<li><code>BaseClass</code> <strong>cannot</strong> silently autocast to <code>Throwable</code>.</li>\n<li>However, <code>BaseInterface</code> <strong>can</strong> do that.</li>\n</ul>\n<p>The reason is that java doesn't allow multiple inheritance. It is not possible to have a java type such that it both [A] is <code>instanceof Throwable</code> as well as [B] be <code>instanceof BaseClass</code>.</p>\n<p>However, with BaseInterface this is false. A type could exist that is <code>instanceof</code> both. It is immaterial if such a type <em>actually</em> exists. All that matters is that one could make such a type. And one can:</p>\n<pre><code>public class HereItIs extends Throwable implements BaseInterface {}\n</code></pre>\n<p>Given that these are auto-cast hack methods, javac sees 2 possible methods that could work here (The one whose second arg is <code>Object...</code> and the one whose second arg is <code>Throwable</code>) and wants to pick the second option because the JLS generally says (as it does here) that the one that needs less magic always wins, and 'wrap the argment into an array to conform to the varargs' is more magical that just passing the argument verbatim. Hence, javac wants to compile it as a call to <code>info(String, Throwable)</code> and will do so (with an auto-cast) for the <code>BaseInterface</code> one. It can't do that for the <code>BaseClass</code> one because the rules say java is not allowed to just pick <code>Throwable</code> for that T, as <code>Throwable</code> is not a valid choice for <code>&lt;T extends BaseClass&gt;</code>, whereas it <em>is</em> a valid choice for <code>&lt;T extends BaseInterface&gt;</code>, for the reasons stated above.</p>\n<p>Hence, in the BaseClass case, javac's rules state that cannot be, and thus javac looks further and then tries to treat it as a call to the <code>info(String, Object...)</code> variant and realizes it <em>can</em> make that happen. So it does that.</p>\n<p>The usual mistake people make when thinking of generics is to treat <code>&lt;T extends BaseInterface&gt;</code> as 'T represents the type notion: Any object that is a subtype of BaseInterface' and <strong>that is wrong</strong>. <code>&lt;T extends BaseInterface&gt;</code> represents 'a type that we do not know, but is real. We call it T. All we know is, it's either BaseInterface, or some type that implements it, possibly even indirectly. In other words, it's precisely about that whole 'wellll, a type COULD exist that implements BaseInterface <em>and</em> extends Throwable'. It's meta-types: <code>T</code> encompasses all imaginable things that fit the bill, and the code has to make sense for <strong>every</strong> choice imaginable.</p>\n"}],"owner":{"account_id":30093165,"reputation":1,"user_id":23062122,"display_name":"mcompton13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701999055,"creation_date":1701997507,"question_id":77623811,"body_markdown":"I came across a strange issue when I changed some classes in a library from extending an abstract class to inherit an interface instead. This, combined with a generic getter that casts the return value to a subclass of that interface or abstract base class in another area of the code base, ends calling an different overloaded logger method. If the &quot;base type&quot; is an interface it calls the logger method that accepts a `Throwable` and leads to a cast exception. But if the &quot;base type&quot; is a class it calls the expected logger method.\r\n\r\nIt&#39;s hard to explain in words, so I&#39;ve created this minimal test class to illustrate what I&#39;m talking about:\r\n\r\n```java\r\n@Test\r\npublic static class TestWeirdInterfaceAndClassDifference {\r\n    static class BaseClass { }\r\n\r\n    interface BaseInterface { }\r\n\r\n    static class ImplClass extends BaseClass implements BaseInterface { }\r\n\r\n    static class ObjectContainer {\r\n        private final ImplClass implClass = new ImplClass();\r\n\r\n        &lt;T extends BaseClass&gt; T getImplAsBaseClass() {\r\n            return (T) implClass;\r\n        }\r\n\r\n        &lt;T extends BaseInterface&gt; T getImplAsBaseInterface() {\r\n            return (T) implClass;\r\n        }\r\n    }\r\n\r\n    private static class FakeLogger {\r\n        void info(String format, Object... args) { }\r\n        void info(String message, Throwable throwable) { }\r\n    }\r\n\r\n    static FakeLogger LOGGER = new FakeLogger();\r\n    static ObjectContainer CONTAINER = new ObjectContainer();\r\n\r\n    public void testThatGetAsBaseClassWorks() {\r\n        LOGGER.info(&quot;Log message {}&quot;, CONTAINER.getImplAsBaseClass());\r\n    }\r\n\r\n    public void testThatGetAsInterfaceFails() {\r\n        // Throws a ClassCastException :-(\r\n        LOGGER.info(&quot;Log message {}&quot;, CONTAINER.getImplAsBaseInterface());\r\n    }\r\n}\r\n```\r\n\r\nThe `testThatGetAsBaseClassWorks` is fundamentally how the code worked prior to my change, and the `FakeLogger#info(String, Object...)` method is called as expected. The `testThatGetAsInterfaceFails` then shows how after I changed the base class to be an interface the `ObjectContainer#getImplAsBaseInterface` is trying to cast it to `Throwable` and the JVM attempts to call the `FakeLogger#info(String, Throwable)` method instead. Of course `ImplClass` is not a `Throwable` which leads to the following exception being thrown: `ClassCastException: ImplClass cannot be cast to java.lang.Throwable`. As far as I can tell, the only difference between the working test/codepath and the failing is the first is using a class and the other is using an interface. I know interfaces and abstract classes are not the same thing, but surprised me that they worked differently in this case.\r\n\r\nI think the main problem is the generic method (`getImplAsBaseClass()` and `getImplAsBaseInterface()` in the example above) that casts the return value to whatever is &quot;needed&quot; at the call site, I just assumed that the rules for interfaces and classes would be the same, but they must not be. Unfortunately I can&#39;t get rid of the generic method from the actual library code because it&#39;s used in many places by clients of this library.\r\n\r\nI did find that if I used a local variable to set the type returned by the getter it works fine:\r\n\r\n```java\r\n    public void testThatGetAsInterfaceFails() {\r\n        // Works now!\r\n        BaseInterface bi = CONTAINER.getImplAsBaseInterface();\r\n        LOGGER.info(&quot;Log message {}&quot;, bi);\r\n    }\r\n```\r\n\r\nI could have all clients of the library change any place where the getter is used inline in a logger statement, but it&#39;s quite a few &quot;pointless&quot; changes and that would still leave a &quot;foot-gun&quot; laying around.\r\n\r\nSo I just decided to revert my change after Google and StackOverflow searches turned up nothing helpful on this topic. Now I just want to understand why interfaces and classes behave differently in this situation.","title":"Why does changing from a base class to an interface cause a different overloaded method to be used?","body":"<p>I came across a strange issue when I changed some classes in a library from extending an abstract class to inherit an interface instead. This, combined with a generic getter that casts the return value to a subclass of that interface or abstract base class in another area of the code base, ends calling an different overloaded logger method. If the &quot;base type&quot; is an interface it calls the logger method that accepts a <code>Throwable</code> and leads to a cast exception. But if the &quot;base type&quot; is a class it calls the expected logger method.</p>\n<p>It's hard to explain in words, so I've created this minimal test class to illustrate what I'm talking about:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic static class TestWeirdInterfaceAndClassDifference {\n    static class BaseClass { }\n\n    interface BaseInterface { }\n\n    static class ImplClass extends BaseClass implements BaseInterface { }\n\n    static class ObjectContainer {\n        private final ImplClass implClass = new ImplClass();\n\n        &lt;T extends BaseClass&gt; T getImplAsBaseClass() {\n            return (T) implClass;\n        }\n\n        &lt;T extends BaseInterface&gt; T getImplAsBaseInterface() {\n            return (T) implClass;\n        }\n    }\n\n    private static class FakeLogger {\n        void info(String format, Object... args) { }\n        void info(String message, Throwable throwable) { }\n    }\n\n    static FakeLogger LOGGER = new FakeLogger();\n    static ObjectContainer CONTAINER = new ObjectContainer();\n\n    public void testThatGetAsBaseClassWorks() {\n        LOGGER.info(&quot;Log message {}&quot;, CONTAINER.getImplAsBaseClass());\n    }\n\n    public void testThatGetAsInterfaceFails() {\n        // Throws a ClassCastException :-(\n        LOGGER.info(&quot;Log message {}&quot;, CONTAINER.getImplAsBaseInterface());\n    }\n}\n</code></pre>\n<p>The <code>testThatGetAsBaseClassWorks</code> is fundamentally how the code worked prior to my change, and the <code>FakeLogger#info(String, Object...)</code> method is called as expected. The <code>testThatGetAsInterfaceFails</code> then shows how after I changed the base class to be an interface the <code>ObjectContainer#getImplAsBaseInterface</code> is trying to cast it to <code>Throwable</code> and the JVM attempts to call the <code>FakeLogger#info(String, Throwable)</code> method instead. Of course <code>ImplClass</code> is not a <code>Throwable</code> which leads to the following exception being thrown: <code>ClassCastException: ImplClass cannot be cast to java.lang.Throwable</code>. As far as I can tell, the only difference between the working test/codepath and the failing is the first is using a class and the other is using an interface. I know interfaces and abstract classes are not the same thing, but surprised me that they worked differently in this case.</p>\n<p>I think the main problem is the generic method (<code>getImplAsBaseClass()</code> and <code>getImplAsBaseInterface()</code> in the example above) that casts the return value to whatever is &quot;needed&quot; at the call site, I just assumed that the rules for interfaces and classes would be the same, but they must not be. Unfortunately I can't get rid of the generic method from the actual library code because it's used in many places by clients of this library.</p>\n<p>I did find that if I used a local variable to set the type returned by the getter it works fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void testThatGetAsInterfaceFails() {\n        // Works now!\n        BaseInterface bi = CONTAINER.getImplAsBaseInterface();\n        LOGGER.info(&quot;Log message {}&quot;, bi);\n    }\n</code></pre>\n<p>I could have all clients of the library change any place where the getter is used inline in a logger statement, but it's quite a few &quot;pointless&quot; changes and that would still leave a &quot;foot-gun&quot; laying around.</p>\n<p>So I just decided to revert my change after Google and StackOverflow searches turned up nothing helpful on this topic. Now I just want to understand why interfaces and classes behave differently in this situation.</p>\n"},{"tags":["java","loops","intellij-idea"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1701992632,"post_id":77623594,"comment_id":136846519,"body_markdown":"What has this to do with a particular IDE?","body":"What has this to do with a particular IDE?"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1701993011,"post_id":77623594,"comment_id":136846547,"body_markdown":"The while-loop is silly because the lengths cannot change. The condition will always be either true, meaning it will loop forever, or false, meaning it will do nothing.","body":"The while-loop is silly because the lengths cannot change. The condition will always be either true, meaning it will loop forever, or false, meaning it will do nothing."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1701993087,"post_id":77623594,"comment_id":136846554,"body_markdown":"You didn&#39;t ask anything.  Does your code work? If it does, why are you posting here.? If it doesn&#39;t work, what issue are you having? Is there a compiler error? If so, include a copy of the error.  Does your code throw an exception? If so, show an exact copy of the error message, with the stack trace below. Does your code produce unexpected output? If so, show examples. Each example should show input, expected output, and actual output. Use text copy-and-paste to ensure accuracy.","body":"You didn&#39;t ask anything.  Does your code work? If it does, why are you posting here.? If it doesn&#39;t work, what issue are you having? Is there a compiler error? If so, include a copy of the error.  Does your code throw an exception? If so, show an exact copy of the error message, with the stack trace below. Does your code produce unexpected output? If so, show examples. Each example should show input, expected output, and actual output. Use text copy-and-paste to ensure accuracy."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1701995985,"post_id":77623594,"comment_id":136846860,"body_markdown":"1)  I don&#39;t think you have finished writing this code.  Certainly, it won&#39;t produce any output.  2)  I think you will need to use the [Rubber Duck Debugging](https://rubberduckdebugging.com/) technique for this.  There is a very obvious bug that you should be able see ... by explaining this to the duck.   (Hint: what does `flag` *actually* mean?  Is it what you *intend* it to mean?)","body":"1)  I don&#39;t think you have finished writing this code.  Certainly, it won&#39;t produce any output.  2)  I think you will need to use the <a href=\"https://rubberduckdebugging.com/\" rel=\"nofollow noreferrer\">Rubber Duck Debugging</a> technique for this.  There is a very obvious bug that you should be able see ... by explaining this to the duck.   (Hint: what does <code>flag</code> <i>actually</i> mean?  Is it what you <i>intend</i> it to mean?)"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1701999221,"post_id":77623594,"comment_id":136847121,"body_markdown":"`string2.contains(string1)` should be enough to check if a string is a substring of another","body":"<code>string2.contains(string1)</code> should be enough to check if a string is a substring of another"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1702005625,"post_id":77623594,"comment_id":136847590,"body_markdown":"By the way, [How to Ask and **Answer** Homework Questions ](https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions)","body":"By the way, [How to Ask and <b>Answer</b> Homework Questions ](<a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\" title=\"how do i ask and answer homework questions\">meta.stackoverflow.com/questions/334822/&hellip;</a>)"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1702051500,"post_id":77623594,"comment_id":136853945,"body_markdown":"@experimentunit1998X The O/P stated he / she is not allowed to use methods. It isn&#39;t clear what is meant by that, but I assume it means use of standard `String` API  search and match methods are not allowed.","body":"@experimentunit1998X The O/P stated he / she is not allowed to use methods. It isn&#39;t clear what is meant by that, but I assume it means use of standard <code>String</code> API  search and match methods are not allowed."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1702128738,"post_id":77623594,"comment_id":136860583,"body_markdown":"@OldDogProgrammer yes, i recall that wasnt there when i commented.","body":"@OldDogProgrammer yes, i recall that wasnt there when i commented."}],"answers":[{"tags":[],"owner":{"account_id":24269779,"reputation":11,"user_id":23055547,"display_name":"AlefMemTav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701998589,"creation_date":1701997948,"answer_id":77623831,"question_id":77623594,"body_markdown":"I believe the logic is now correct:\r\n    \r\n    public class Main{\r\n        public static void main(String[] args){\r\n            Scanner sc = new Scanner(System.in);\r\n            String s1 = sc.nextLine();\r\n            String s2 = sc.nextLine();\r\n            int l1 = s1.length();\r\n            int j = 0;\r\n            int n = 0; // number of substrings.\r\n            int k = l1;\r\n            for(int i = 0; i &lt;= s2.length(); i++){ \r\n                if(j &lt; l1 &amp;&amp; s1.charAt(j) == s2.charAt(i)){\r\n                    j++;\r\n                    k--; \r\n                }else{\r\n                    k = l1;\r\n                }\r\n                if(k == 0){\r\n                   n++;\r\n                   k = l1;\r\n                }    \r\n           }\r\n        }  \r\n    }","title":"Check if a string-1 is a substring of string-2?","body":"<p>I believe the logic is now correct:</p>\n<pre><code>public class Main{\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        String s1 = sc.nextLine();\n        String s2 = sc.nextLine();\n        int l1 = s1.length();\n        int j = 0;\n        int n = 0; // number of substrings.\n        int k = l1;\n        for(int i = 0; i &lt;= s2.length(); i++){ \n            if(j &lt; l1 &amp;&amp; s1.charAt(j) == s2.charAt(i)){\n                j++;\n                k--; \n            }else{\n                k = l1;\n            }\n            if(k == 0){\n               n++;\n               k = l1;\n            }    \n       }\n    }  \n}\n</code></pre>\n"}],"owner":{"account_id":21258541,"reputation":1,"user_id":15639623,"display_name":"amr khaled"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702014630,"answer_count":1,"score":-2,"last_activity_date":1701998589,"creation_date":1701992478,"question_id":77623594,"body_markdown":"The code should take 2 input strings and check if String1 is a substring of String 2.\r\n\r\nNote: Homework assignment —&#160;I can&#39;t use methods, only loops and if conditions.\r\n\r\n```\r\nimport java.util.*;\r\npublic class Main{\r\n    public static void main(String[] args){\r\n    Scanner sc = new Scanner(System.in);\r\n        String s1 = sc.nextLine();\r\n        String s2 = sc.nextLine();\r\n    boolean flag;\r\n    while(s1.length() &gt;= s2.length()){\r\n        for(int i = 0; i &lt;= s1.length();i++){\r\n            for(int j = 0; j &lt;= s2.length(); j++){\r\n                if(s1.charAt(i) == s2.charAt(j)){\r\n                  flag = true;\r\n            }\r\n\r\n        }\r\n\r\n        }\r\n    }\r\n    }\r\n}\r\n```","title":"Check if a string-1 is a substring of string-2?","body":"<p>The code should take 2 input strings and check if String1 is a substring of String 2.</p>\n<p>Note: Homework assignment — I can't use methods, only loops and if conditions.</p>\n<pre><code>import java.util.*;\npublic class Main{\n    public static void main(String[] args){\n    Scanner sc = new Scanner(System.in);\n        String s1 = sc.nextLine();\n        String s2 = sc.nextLine();\n    boolean flag;\n    while(s1.length() &gt;= s2.length()){\n        for(int i = 0; i &lt;= s1.length();i++){\n            for(int j = 0; j &lt;= s2.length(); j++){\n                if(s1.charAt(i) == s2.charAt(j)){\n                  flag = true;\n            }\n\n        }\n\n        }\n    }\n    }\n}\n</code></pre>\n"},{"tags":["java","fileinputstream"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1695062380,"post_id":77129670,"comment_id":135971242,"body_markdown":"Please, [do not upload images of code/data/error](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557).","body":"Please, <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">do not upload images of code/data/error</a>."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1695063214,"post_id":77129670,"comment_id":135971378,"body_markdown":"Also, you should read [Java Code Conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html#367).","body":"Also, you should read <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html#367\" rel=\"nofollow noreferrer\">Java Code Conventions</a>."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701997972,"creation_date":1695063051,"answer_id":77129736,"question_id":77129670,"body_markdown":"&gt; _&quot;... I would like to display the students names, Age and GPA&quot;_\r\n\r\nThe reason the _Student_ class is not retaining the information you&#39;re provided is due to the code within the _constructor method_.\r\n\r\nYou are assigning the fields incorrectly.  \r\nThe _[this](https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html)_ keyword refers to the class instance context, and not the scope context.\r\n\r\n```java\r\nName = this.Name;\r\nBirthYear = this.BirthYear;\r\nBirthMonth =this.BirthMonth;\r\nBirthDay=this.BirthDay;\r\nGPA=this.GPA;\r\n```\r\n\r\nFlip these assignments.\r\n\r\n```java\r\nthis.Name = Name;\r\nthis.BirthYear = BirthYear;\r\nthis.BirthMonth = BirthMonth;\r\nthis.BirthDay = BirthDay;\r\nthis.GPA = GPA;\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nName:David King\r\nAge:18\r\nGPA: 3.211\r\nName:Jane Hall\r\nAge:21\r\nGPA: 3.9662\r\nName:Mary Reed\r\nAge:19\r\nGPA: 2.8\r\nName:John Diaz\r\nAge:20\r\nGPA: 2.916\r\n```\r\n\r\nHere are some recommendations for your code.\r\n\r\nYou can obtain a year value by simply subtracting the _Calendar_ values.\r\n\r\n```java\r\nCalendar c = Calendar.getInstance();\r\nint y = c.get(Calendar.YEAR);\r\nreturn y &lt; 0 ? 0 : y - BirthYear;\r\n```\r\n\r\nOr, use a _[Period](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Period.html)_ object.\r\n\r\n```java\r\nLocalDate bd = LocalDate.of(BirthYear, BirthMonth, BirthDay);\r\nPeriod p = Period.between(LocalDate.now(), bd);\r\nreturn Math.max(p.getYears(), 0);\r\n```\r\n\r\nStore your _fractional_ values&amp;mdash;i.e., GPA&amp;mdash;as _String_ or _[BigDecimal](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html)_ objects.\r\n\r\nAdditionally, I would use a _[String#split](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String))_ on each line over a _Scanner#next_ call.\r\n\r\n```java\r\nString[] s;\r\nint y, m, d;\r\n\r\nFileIn.nextLine();\r\nwhile(FileIn.hasNextLine()) {\r\n    s = FileIn.nextLine().split(&quot; +&quot;);\r\n    y = Integer.parseInt(s[2]);\r\n    m = Integer.parseInt(s[3]);\r\n    d = Integer.parseInt(s[4]);\r\n    List.add(new Student(s[0] + &#39; &#39; + s[1], y, m, d, s[5]));\r\n}\r\n```","title":"How to get file input from a text file in java and then display it using an array lists?","body":"<blockquote>\n<p><em>&quot;... I would like to display the students names, Age and GPA&quot;</em></p>\n</blockquote>\n<p>The reason the <em>Student</em> class is not retaining the information you're provided is due to the code within the <em>constructor method</em>.</p>\n<p>You are assigning the fields incorrectly.<br />\nThe <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html\" rel=\"nofollow noreferrer\">this</a></em> keyword refers to the class instance context, and not the scope context.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Name = this.Name;\nBirthYear = this.BirthYear;\nBirthMonth =this.BirthMonth;\nBirthDay=this.BirthDay;\nGPA=this.GPA;\n</code></pre>\n<p>Flip these assignments.</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.Name = Name;\nthis.BirthYear = BirthYear;\nthis.BirthMonth = BirthMonth;\nthis.BirthDay = BirthDay;\nthis.GPA = GPA;\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Name:David King\nAge:18\nGPA: 3.211\nName:Jane Hall\nAge:21\nGPA: 3.9662\nName:Mary Reed\nAge:19\nGPA: 2.8\nName:John Diaz\nAge:20\nGPA: 2.916\n</code></pre>\n<p>Here are some recommendations for your code.</p>\n<p>You can obtain a year value by simply subtracting the <em>Calendar</em> values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Calendar c = Calendar.getInstance();\nint y = c.get(Calendar.YEAR);\nreturn y &lt; 0 ? 0 : y - BirthYear;\n</code></pre>\n<p>Or, use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Period.html\" rel=\"nofollow noreferrer\">Period</a></em> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate bd = LocalDate.of(BirthYear, BirthMonth, BirthDay);\nPeriod p = Period.between(LocalDate.now(), bd);\nreturn Math.max(p.getYears(), 0);\n</code></pre>\n<p>Store your <em>fractional</em> values—i.e., GPA—as <em>String</em> or <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a></em> objects.</p>\n<p>Additionally, I would use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">String#split</a></em> on each line over a <em>Scanner#next</em> call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] s;\nint y, m, d;\n\nFileIn.nextLine();\nwhile(FileIn.hasNextLine()) {\n    s = FileIn.nextLine().split(&quot; +&quot;);\n    y = Integer.parseInt(s[2]);\n    m = Integer.parseInt(s[3]);\n    d = Integer.parseInt(s[4]);\n    List.add(new Student(s[0] + ' ' + s[1], y, m, d, s[5]));\n}\n</code></pre>\n"}],"owner":{"account_id":29476183,"reputation":11,"user_id":22587891,"display_name":"student9876"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701997972,"creation_date":1695062153,"question_id":77129670,"body_markdown":"When I run my program that is getting file input from a text file and then saving this input into an array lists, I cannot print the information. I will attach my Student class which is the type I am using for my array lists. I also will attach the class that contains main. I will include a screenshot of the text file and the output that I am currently getting. My goal is to save each students information into a student object and then put these objects into an array lists. Then display the contents of the array lists.\r\nBelow is the student class.\r\n\r\n    \r\n    public class Student {\r\n    \t  public String Name;\r\n    \t  public int BirthYear;\r\n    \t  public int BirthMonth;\r\n    \t  public int BirthDay;\r\n    \t  public double GPA;\r\n    \r\n    \t  \r\n    \t   public Student(String Name,int BirthYear, int BirthMonth, int BirthDay,double GPA)\r\n    \t   {\r\n    \t      Name = this.Name;\r\n    \t      BirthYear = this.BirthYear;\r\n    \t      BirthMonth =this.BirthMonth;\r\n    \t      BirthDay=this.BirthDay;\r\n    \t      GPA=this.GPA;\r\n    \t   }\r\n    \t\r\n    \tpublic int Age() {\r\n    \t\t   Calendar c = Calendar.getInstance();\r\n    \t\t   if(c.get(Calendar.MONTH)&gt;BirthMonth) {\r\n    \t\t\t   return (c.get(Calendar.YEAR)-BirthYear);\r\n    \t\t   }\r\n    \t\t   else if(c.get(Calendar.MONTH)&lt;BirthMonth) {\r\n    \t\t\t   return (c.get(Calendar.YEAR)-BirthYear)-1;\r\n    \t\t   }\r\n    \t\t   else if(c.get(Calendar.MONTH)==BirthMonth) {\r\n    \t\t\t   if(c.get(Calendar.DAY_OF_MONTH)&gt;BirthDay) {\r\n    \t\t\t\t   return(c.get(Calendar.YEAR)-BirthYear)-1;\r\n    \t\t\t   }\r\n    \t\t\t   else {\r\n    \t\t\t\t   return(c.get(Calendar.YEAR)-BirthYear);  \r\n    \t\t\t   }\r\n    \t\t   }\r\n    \t\t   else {\r\n    \t\t\t   return 0; \r\n    \t\t   }\r\n    \t   }\r\n    }\r\n\r\nBelow is the main class\r\n\r\n\r\n        public class RunStudent {\r\n    \r\n    \tpublic static void main(String[] args) throws FileNotFoundException{\r\n    \t\tFile inputFile = new File(&quot;studentData1&quot;);\r\n    \t\tScanner FileIn = new Scanner(inputFile);\r\n    \t\tArrayList&lt;Student&gt; List = new ArrayList&lt;Student&gt;();\r\n    \t\t\r\n    \t\tFileIn.nextLine();\r\n    \t\twhile(FileIn.hasNextLine()) {\r\n    \t\t\tString FName, LName;\r\n    \t\t\tFName = FileIn.next();\r\n    \t\t\tLName = FileIn.next();\r\n    \t\t\tint BirthYear = FileIn.nextInt();\r\n    \t\t\tint BirthMonth = FileIn.nextInt();\r\n    \t\t\tint BirthDay = FileIn.nextInt();\r\n    \t\t\tdouble GPA = FileIn.nextDouble();\r\n    \t\t\tString name = FName + &quot; &quot; + LName;\r\n    \t\t\tStudent s = new Student(name, BirthYear, BirthMonth, BirthDay, GPA);\r\n    \t\t\tList.add(s);\r\n    \t\t}\r\n    \t\tFileIn.close();\r\n    \t\tfor(int i=0; i&lt;List.size(); i++) {\r\n    \t\t\tSystem.out.println(&quot;Name:&quot; + List.get(i).Name);\r\n    \t\t\tSystem.out.println(&quot;Age:&quot; + List.get(i).Age());\r\n    \t\t\tSystem.out.println(&quot;GPA: &quot; + List.get(i).GPA);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n[This is the text file][1]\r\n[This is a sample output][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FtRT9.png\r\n  [2]: https://i.stack.imgur.com/wyZih.png\r\n\r\nI also have imported java.util.* and java.io.* but it won&#39;t let me include it in the post.","title":"How to get file input from a text file in java and then display it using an array lists?","body":"<p>When I run my program that is getting file input from a text file and then saving this input into an array lists, I cannot print the information. I will attach my Student class which is the type I am using for my array lists. I also will attach the class that contains main. I will include a screenshot of the text file and the output that I am currently getting. My goal is to save each students information into a student object and then put these objects into an array lists. Then display the contents of the array lists.\nBelow is the student class.</p>\n<pre><code>public class Student {\n      public String Name;\n      public int BirthYear;\n      public int BirthMonth;\n      public int BirthDay;\n      public double GPA;\n\n      \n       public Student(String Name,int BirthYear, int BirthMonth, int BirthDay,double GPA)\n       {\n          Name = this.Name;\n          BirthYear = this.BirthYear;\n          BirthMonth =this.BirthMonth;\n          BirthDay=this.BirthDay;\n          GPA=this.GPA;\n       }\n    \n    public int Age() {\n           Calendar c = Calendar.getInstance();\n           if(c.get(Calendar.MONTH)&gt;BirthMonth) {\n               return (c.get(Calendar.YEAR)-BirthYear);\n           }\n           else if(c.get(Calendar.MONTH)&lt;BirthMonth) {\n               return (c.get(Calendar.YEAR)-BirthYear)-1;\n           }\n           else if(c.get(Calendar.MONTH)==BirthMonth) {\n               if(c.get(Calendar.DAY_OF_MONTH)&gt;BirthDay) {\n                   return(c.get(Calendar.YEAR)-BirthYear)-1;\n               }\n               else {\n                   return(c.get(Calendar.YEAR)-BirthYear);  \n               }\n           }\n           else {\n               return 0; \n           }\n       }\n}\n</code></pre>\n<p>Below is the main class</p>\n<pre><code>    public class RunStudent {\n\n    public static void main(String[] args) throws FileNotFoundException{\n        File inputFile = new File(&quot;studentData1&quot;);\n        Scanner FileIn = new Scanner(inputFile);\n        ArrayList&lt;Student&gt; List = new ArrayList&lt;Student&gt;();\n        \n        FileIn.nextLine();\n        while(FileIn.hasNextLine()) {\n            String FName, LName;\n            FName = FileIn.next();\n            LName = FileIn.next();\n            int BirthYear = FileIn.nextInt();\n            int BirthMonth = FileIn.nextInt();\n            int BirthDay = FileIn.nextInt();\n            double GPA = FileIn.nextDouble();\n            String name = FName + &quot; &quot; + LName;\n            Student s = new Student(name, BirthYear, BirthMonth, BirthDay, GPA);\n            List.add(s);\n        }\n        FileIn.close();\n        for(int i=0; i&lt;List.size(); i++) {\n            System.out.println(&quot;Name:&quot; + List.get(i).Name);\n            System.out.println(&quot;Age:&quot; + List.get(i).Age());\n            System.out.println(&quot;GPA: &quot; + List.get(i).GPA);\n        }\n\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/FtRT9.png\" rel=\"nofollow noreferrer\">This is the text file</a>\n<a href=\"https://i.stack.imgur.com/wyZih.png\" rel=\"nofollow noreferrer\">This is a sample output</a></p>\n<p>I also have imported java.util.* and java.io.* but it won't let me include it in the post.</p>\n"},{"tags":["java","android","obfuscation","malware"],"comments":[{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1701798178,"post_id":77608165,"comment_id":136819081,"body_markdown":"` System.out.println(cArr)` is a) unreachable, b) not a complete statement. Remove it.","body":"` System.out.println(cArr)` is a) unreachable, b) not a complete statement. Remove it."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701799008,"post_id":77608165,"comment_id":136819237,"body_markdown":"How does `cArr[i4] = (char) ($[i + i4] ^ i3);`  compile? There is no array named `$`.","body":"How does <code>cArr[i4] = (char) ($[i + i4] ^ i3);</code>  compile? There is no array named <code>$</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1701800068,"post_id":77608165,"comment_id":136819392,"body_markdown":"@OldDogProgrammer There must be one, somewhere else, in code we haven&#39;t seen.","body":"@OldDogProgrammer There must be one, somewhere else, in code we haven&#39;t seen."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1701800935,"post_id":77608165,"comment_id":136819540,"body_markdown":"Suggestions to edit the question:  Show the variable `$`. How is it declared?  Is it a class (i.e., `static`) variable? Where is it declared? What does it contain?  Compile and run the code, showing actual output. Are you able to show a [complete but minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)?    A minor edit: It looks like the code for the `$` method is duplicated. Delete one of them.","body":"Suggestions to edit the question:  Show the variable <code>$</code>. How is it declared?  Is it a class (i.e., <code>static</code>) variable? Where is it declared? What does it contain?  Compile and run the code, showing actual output. Are you able to show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">complete but minimal reproducible example</a>?    A minor edit: It looks like the code for the <code>$</code> method is duplicated. Delete one of them."},{"owner":{"account_id":3054773,"reputation":1,"user_id":2588663,"display_name":"tohitsugu"},"score":0,"creation_date":1701832635,"post_id":77608165,"comment_id":136823201,"body_markdown":"All, I apologize for the confusion. This was the code snippet as seen in the source (as decompiled by Jadx). It is clear now that there is missing information that is required before this can be answered.","body":"All, I apologize for the confusion. This was the code snippet as seen in the source (as decompiled by Jadx). It is clear now that there is missing information that is required before this can be answered."}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701800671,"creation_date":1701800671,"answer_id":77608475,"question_id":77608165,"body_markdown":"I think it might be helpful to have a version of the code where the parameters and variables have better names that are easier to understand. The decompiler is just assigning meaningless names of `i`, `i2`, etc. to all the `int` variables.\r\n\r\n    private static String $(int start, int end, int xor) {\r\n        int length = end - start;\r\n        char[] chars = new char[length];\r\n        for (int i = 0; i &lt; length; i++) {\r\n            chars[i] = (char) ($[start + i] ^ xor);\r\n        }\r\n        return new String(chars);\r\n    }\r\n\r\nI am making this a Community Wiki. If you feel the method can be made even more readable, feel free to contribute edits. I have introduced a temporary variable, `length`, but I left the name of the method as `$` and the external array of char that is being deobfuscated as `$` because those symbols are referenced externally and so would need to remain the same if the rewritten method were to replace the original one.","title":"Java String Deobfuscation","body":"<p>I think it might be helpful to have a version of the code where the parameters and variables have better names that are easier to understand. The decompiler is just assigning meaningless names of <code>i</code>, <code>i2</code>, etc. to all the <code>int</code> variables.</p>\n<pre><code>private static String $(int start, int end, int xor) {\n    int length = end - start;\n    char[] chars = new char[length];\n    for (int i = 0; i &lt; length; i++) {\n        chars[i] = (char) ($[start + i] ^ xor);\n    }\n    return new String(chars);\n}\n</code></pre>\n<p>I am making this a Community Wiki. If you feel the method can be made even more readable, feel free to contribute edits. I have introduced a temporary variable, <code>length</code>, but I left the name of the method as <code>$</code> and the external array of char that is being deobfuscated as <code>$</code> because those symbols are referenced externally and so would need to remain the same if the rewritten method were to replace the original one.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1701997898,"creation_date":1701914136,"answer_id":77617245,"question_id":77608165,"body_markdown":"Reverse engineering is a digressed topic, I recommend the following book.\\\r\n_[Wiley Publishing &amp;ndash; Reversing: Secrets of Reverse Engineering](https://en.wikipedia.org/wiki/Reversing:_Secrets_of_Reverse_Engineering)_.\r\n\r\nAnd, the following article.\\\r\n_[Wikipedia &amp;ndash; Sega v. Accolade](https://en.wikipedia.org/wiki/Sega_v._Accolade)_.\r\n\r\nFirstly, I believe you have a mis-understanding of the term _obfuscation_.\r\n\r\nThe _[Oxford dictionary](https://www.oed.com/)_ defines it as follows.\r\n\r\n&gt; &quot;The action of obfuscating something or someone; the condition of being obfuscated. Concealment or obscuration of a concept, idea, expression, etc.&quot;\r\n\r\nAnd, _[computer science](https://en.wikipedia.org/wiki/Computer_science)_ defines it as follows.\r\n\r\n_[Wikipedia &amp;ndash; Obfuscation (software)](https://en.wikipedia.org/wiki/Obfuscation_(software))_.\r\n\r\n&gt; &quot;In [software development](https://en.wikipedia.org/wiki/Software_development), obfuscation is the act of creating [source](https://en.wikipedia.org/wiki/Source_code) or [machine code](https://en.wikipedia.org/wiki/Machine_code) that is difficult for humans or computers to understand. ... Programmers may deliberately obfuscate code to conceal its purpose ... in order to prevent tampering, deter [reverse engineering](https://en.wikipedia.org/wiki/Reverse_engineering), ... This can be done manually or by using an automated tool ...&quot;\r\n\r\nThus,\r\n\r\n&gt; _&quot;... I am having trouble deobfuscating the string. I know I can define a locally-scoped variable and use that to print out the decoded string, but I am not sure how that would look in Java. ...&quot;_\r\n\r\nThe variable is being referenced, not populated.\\\r\nThe code is simply looking up values within the _[field](https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html)_, and compiling a _String_.\r\n\r\n&gt; _&quot;... I am certain that my attempts are incorrect. I am now motivated to actually learn Java, but I&#39;d really like to understand what I&#39;m doing wrong ...&quot;_\r\n\r\nYou&#39;d need to pertain your question towards the error you&#39;re encountering.\r\n\r\nI recommend reading the tutorials offered by _Java_.\\\r\n_[The Java&amp;trade; Tutorials](https://docs.oracle.com/javase/tutorial/)_.","title":"Java String Deobfuscation","body":"<p>Reverse engineering is a digressed topic, I recommend the following book.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Reversing:_Secrets_of_Reverse_Engineering\" rel=\"nofollow noreferrer\">Wiley Publishing – Reversing: Secrets of Reverse Engineering</a></em>.</p>\n<p>And, the following article.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Sega_v._Accolade\" rel=\"nofollow noreferrer\">Wikipedia – Sega v. Accolade</a></em>.</p>\n<p>Firstly, I believe you have a mis-understanding of the term <em>obfuscation</em>.</p>\n<p>The <em><a href=\"https://www.oed.com/\" rel=\"nofollow noreferrer\">Oxford dictionary</a></em> defines it as follows.</p>\n<blockquote>\n<p>&quot;The action of obfuscating something or someone; the condition of being obfuscated. Concealment or obscuration of a concept, idea, expression, etc.&quot;</p>\n</blockquote>\n<p>And, <em><a href=\"https://en.wikipedia.org/wiki/Computer_science\" rel=\"nofollow noreferrer\">computer science</a></em> defines it as follows.</p>\n<p><em><a href=\"https://en.wikipedia.org/wiki/Obfuscation_(software)\" rel=\"nofollow noreferrer\">Wikipedia – Obfuscation (software)</a></em>.</p>\n<blockquote>\n<p>&quot;In <a href=\"https://en.wikipedia.org/wiki/Software_development\" rel=\"nofollow noreferrer\">software development</a>, obfuscation is the act of creating <a href=\"https://en.wikipedia.org/wiki/Source_code\" rel=\"nofollow noreferrer\">source</a> or <a href=\"https://en.wikipedia.org/wiki/Machine_code\" rel=\"nofollow noreferrer\">machine code</a> that is difficult for humans or computers to understand. ... Programmers may deliberately obfuscate code to conceal its purpose ... in order to prevent tampering, deter <a href=\"https://en.wikipedia.org/wiki/Reverse_engineering\" rel=\"nofollow noreferrer\">reverse engineering</a>, ... This can be done manually or by using an automated tool ...&quot;</p>\n</blockquote>\n<p>Thus,</p>\n<blockquote>\n<p><em>&quot;... I am having trouble deobfuscating the string. I know I can define a locally-scoped variable and use that to print out the decoded string, but I am not sure how that would look in Java. ...&quot;</em></p>\n</blockquote>\n<p>The variable is being referenced, not populated.<br />\nThe code is simply looking up values within the <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">field</a></em>, and compiling a <em>String</em>.</p>\n<blockquote>\n<p><em>&quot;... I am certain that my attempts are incorrect. I am now motivated to actually learn Java, but I'd really like to understand what I'm doing wrong ...&quot;</em></p>\n</blockquote>\n<p>You'd need to pertain your question towards the error you're encountering.</p>\n<p>I recommend reading the tutorials offered by <em>Java</em>.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">The Java™ Tutorials</a></em>.</p>\n"}],"owner":{"account_id":3054773,"reputation":1,"user_id":2588663,"display_name":"tohitsugu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":2,"score":-5,"last_activity_date":1701997898,"creation_date":1701797332,"question_id":77608165,"body_markdown":"I&#39;m new to Java and was hoping someone could help me explain an issue. I am following [this blog post](https://www.eff.org/deeplinks/2022/04/anatomy-android-malware-dropper) that covers the reverse-engineering of a malicious Android APK file. \r\n\r\nIn the decompiled Java code, there is a string obfucation method that appears thousands of times in the code: \r\n\r\n\r\n```\r\nprivate static String $(int i, int i2, int i3) {\r\n    char[] cArr = new char[i2 - i];\r\n    for (int i4 = 0; i4 &lt; i2 - i; i4++) {\r\n        cArr[i4] = (char) ($[i + i4] ^ i3);\r\n    }\r\n    return new String(cArr);\r\n}\r\n```\r\n\r\nAlso in the code are calls that appear to use this method, such as `$(556, 664, 4277)`\r\n\r\nI am having trouble deobfuscating the string. I know I can define a locally-scoped variable and use that to print out the decoded string, but I am not sure how that would look in Java. Can anyone provide an an example of how this would look? \r\n\r\nI am certain that my attempts are incorrect. I am now motivated to actually learn Java, but I&#39;d really like to understand what I&#39;m doing wrong: \r\n\r\n```\r\npublic static String $(int i, int i2, int i3) {\r\n    char[] cArr = new char[i2 - i];\r\n    for (int i4 = 0; i4 &lt; i2 - i; i4++) {\r\n        cArr[i4] = (char) ($[i + i4] ^ i3);\r\n    }\r\n    return new String(cArr);\r\n}\r\n\r\nvar obfuscatedString = $(556, 664, 4277);\r\nSystem.out.println(obfuscatedString);\r\n```\r\n","title":"Java String Deobfuscation","body":"<p>I'm new to Java and was hoping someone could help me explain an issue. I am following <a href=\"https://www.eff.org/deeplinks/2022/04/anatomy-android-malware-dropper\" rel=\"nofollow noreferrer\">this blog post</a> that covers the reverse-engineering of a malicious Android APK file.</p>\n<p>In the decompiled Java code, there is a string obfucation method that appears thousands of times in the code:</p>\n<pre><code>private static String $(int i, int i2, int i3) {\n    char[] cArr = new char[i2 - i];\n    for (int i4 = 0; i4 &lt; i2 - i; i4++) {\n        cArr[i4] = (char) ($[i + i4] ^ i3);\n    }\n    return new String(cArr);\n}\n</code></pre>\n<p>Also in the code are calls that appear to use this method, such as <code>$(556, 664, 4277)</code></p>\n<p>I am having trouble deobfuscating the string. I know I can define a locally-scoped variable and use that to print out the decoded string, but I am not sure how that would look in Java. Can anyone provide an an example of how this would look?</p>\n<p>I am certain that my attempts are incorrect. I am now motivated to actually learn Java, but I'd really like to understand what I'm doing wrong:</p>\n<pre><code>public static String $(int i, int i2, int i3) {\n    char[] cArr = new char[i2 - i];\n    for (int i4 = 0; i4 &lt; i2 - i; i4++) {\n        cArr[i4] = (char) ($[i + i4] ^ i3);\n    }\n    return new String(cArr);\n}\n\nvar obfuscatedString = $(556, 664, 4277);\nSystem.out.println(obfuscatedString);\n</code></pre>\n"},{"tags":["java","arraylist","compiler-errors"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1701996415,"post_id":77605265,"comment_id":136846905,"body_markdown":"Does this answer your question? [Java error: &quot;incompatible types&quot; message](https://stackoverflow.com/questions/7466133/java-error-incompatible-types-message)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7466133/java-error-incompatible-types-message\">Java error: &quot;incompatible types&quot; message</a>"}],"owner":{"account_id":28457734,"reputation":5,"user_id":21774878,"display_name":"Adnan patanwala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701996357,"creation_date":1701770193,"question_id":77605265,"body_markdown":"Question : \r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class Solution {\r\n\tpublic static void change(int mat [][],char rc,int index){\r\n\t\tint n = 0;\r\n\t\tif(rc==&#39;R&#39;){\r\n\t\t\tn = mat[0].length;\r\n\t\t}else n = mat.length;\r\n\t\tfor(int i = 0;i&lt;n;i++){\r\n\t\t\tif(rc==&#39;R&#39;){\r\n\t\t\t mat[index][i] =(mat[index][i] == 1) ? 0:1; \r\n\t\t\t}else{\r\n\t\t\t\tmat[i][index] = (mat[i][index] == 1) ?  0: 1; \r\n\t\t\t}\r\n\t\t}\r\n\t} \r\n\t \r\n\tpublic static int[] query(int[][] mat, int m, int n, String[] q) {\r\n\t\t// Write your code here. \r\n\t\tint s = 0;\r\n\t\tint x = 0;\r\n  \r\n\t\tfor(int i = 0;i&lt;q.length;i++){\r\n\t\t\tif(q[i].charAt(0)==&#39;2&#39;){\r\n\t\t\t\ts++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tint arrs [] = new int[s];\r\n\t\tfor(int i = 0;i&lt;q.length;i++){\r\n\t\t\tString qr = q[i];\r\n\t\t\tchar t = qr.charAt(0);\r\n\t\t\tchar rc = qr.charAt(1);\r\n\t\t\tint index = Character.getNumericValue(qr.charAt(2));\r\n\t\t\tif( t ==&#39;1&#39;){\r\n\t\t\t\tchange(mat,rc,index);\r\n\t\t\t}else if(t ==&#39;2&#39;){\r\n\t\t\t\tint o = no(mat,rc,index); \r\n\t\t\t\tarrs[x++] = o;\r\n\t\t\t}\r\n\t\t} \r\n \r\n\t\treturn arrs;\r\n\t}\r\n\tpublic static int no(int mat [][],char rc,int index){\r\n\t\tint n = 0;\r\n\t\tint out  = 0;\r\n\t\tif(rc==&#39;R&#39;){\r\n\t\t\tn = mat[0].length;\r\n\t\t}else n = mat.length;\r\n\t\tfor(int i = 0;i&lt;n;i++){\r\n\t\t\tif(rc==&#39;R&#39; &amp;&amp; mat[index][i]==0){ \r\n\t\t\tout++;\r\n\t\t\t}else if(rc==&#39;C&#39; &amp;&amp; mat[i][index]==0){ \r\n\t\t\t\tout++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n}\r\n```\r\n\r\nOutput : \r\n\r\n```\r\nCompilation Failed\r\n&quot;Runner.java:62: error: incompatible types: ArrayList&gt; cannot be converted to int[][]\r\n\t\t\tSolution.query(allMatCopy.get(i), allM.get(i), allN.get(i), allArrCopy.get(i));\r\n\t\t\t                             ^\r\nRunner.java:72: error: incompatible types: ArrayList&gt; cannot be converted to int[][]\r\n\t\t\tArrayList ans = Solution.query(allMatCopy.get(i), allM.get(i), allN.get(i), allArrCopy.get(i));\r\n\t\t\t                                                      ^\r\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\r\n2 errors\r\n```\r\n\r\nWhy am i facing this compile time Error???\r\n\r\n\r\nThis is coding ninjas Query And Matrix problem","title":"compile Error for Query And Matrix Problem on coding ninjas","body":"<p>Question :</p>\n<pre><code>import java.util.*;\n\npublic class Solution {\n    public static void change(int mat [][],char rc,int index){\n        int n = 0;\n        if(rc=='R'){\n            n = mat[0].length;\n        }else n = mat.length;\n        for(int i = 0;i&lt;n;i++){\n            if(rc=='R'){\n             mat[index][i] =(mat[index][i] == 1) ? 0:1; \n            }else{\n                mat[i][index] = (mat[i][index] == 1) ?  0: 1; \n            }\n        }\n    } \n     \n    public static int[] query(int[][] mat, int m, int n, String[] q) {\n        // Write your code here. \n        int s = 0;\n        int x = 0;\n  \n        for(int i = 0;i&lt;q.length;i++){\n            if(q[i].charAt(0)=='2'){\n                s++;\n            }\n        }\n        int arrs [] = new int[s];\n        for(int i = 0;i&lt;q.length;i++){\n            String qr = q[i];\n            char t = qr.charAt(0);\n            char rc = qr.charAt(1);\n            int index = Character.getNumericValue(qr.charAt(2));\n            if( t =='1'){\n                change(mat,rc,index);\n            }else if(t =='2'){\n                int o = no(mat,rc,index); \n                arrs[x++] = o;\n            }\n        } \n \n        return arrs;\n    }\n    public static int no(int mat [][],char rc,int index){\n        int n = 0;\n        int out  = 0;\n        if(rc=='R'){\n            n = mat[0].length;\n        }else n = mat.length;\n        for(int i = 0;i&lt;n;i++){\n            if(rc=='R' &amp;&amp; mat[index][i]==0){ \n            out++;\n            }else if(rc=='C' &amp;&amp; mat[i][index]==0){ \n                out++;\n            }\n        }\n        return out;\n    }\n}\n</code></pre>\n<p>Output :</p>\n<pre><code>Compilation Failed\n&quot;Runner.java:62: error: incompatible types: ArrayList&gt; cannot be converted to int[][]\n            Solution.query(allMatCopy.get(i), allM.get(i), allN.get(i), allArrCopy.get(i));\n                                         ^\nRunner.java:72: error: incompatible types: ArrayList&gt; cannot be converted to int[][]\n            ArrayList ans = Solution.query(allMatCopy.get(i), allM.get(i), allN.get(i), allArrCopy.get(i));\n                                                                  ^\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\n2 errors\n</code></pre>\n<p>Why am i facing this compile time Error???</p>\n<p>This is coding ninjas Query And Matrix problem</p>\n"},{"tags":["java","spring-boot","redis"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":1,"creation_date":1635720609,"post_id":69705476,"comment_id":123364037,"body_markdown":"https://www.mail-archive.com/jackson-user@googlegroups.com/msg01557.html may help","body":"<a href=\"https://www.mail-archive.com/jackson-user@googlegroups.com/msg01557.html\" rel=\"nofollow noreferrer\">mail-archive.com/jackson-user@googlegroups.com/msg01557.html</a> may help"}],"answers":[{"tags":[],"owner":{"account_id":16340068,"reputation":99,"user_id":11801161,"display_name":"Avinash Kumar Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1701996344,"creation_date":1636450745,"answer_id":69895845,"question_id":69705476,"body_markdown":"```java\r\nom.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\r\nom.activateDefaultTyping(LaissezFaireSubTypeValidator.instance,ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.WRAPPER_ARRAY);\r\n```","title":"&#39;enableDefaultTyping(com.fasterxml.jackson.databind.ObjectMapper.DefaultTyping)&#39; is deprecated in RedisConfig","body":"<pre class=\"lang-java prettyprint-override\"><code>om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\nom.activateDefaultTyping(LaissezFaireSubTypeValidator.instance,ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.WRAPPER_ARRAY);\n</code></pre>\n"}],"owner":{"account_id":16340068,"reputation":99,"user_id":11801161,"display_name":"Avinash Kumar Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3693,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69895845,"answer_count":1,"score":4,"last_activity_date":1701996344,"creation_date":1635153414,"question_id":69705476,"body_markdown":"What is the alternative of enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL) is **deprecated in RedisConfig**\r\n\r\n```\r\n@Configuration\r\npublic class RedisConfig {\r\n    @Bean\r\n    public RedisTemplate&lt;String, String&gt; redisTemplate(RedisConnectionFactory factory) {\r\n        ObjectMapper om = new ObjectMapper();\r\n        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\r\n        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\r\n        // redis serialize\r\n        Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class);\r\n        jackson2JsonRedisSerializer.setObjectMapper(om);\r\n        StringRedisTemplate template = new StringRedisTemplate(factory);\r\n        template.setValueSerializer(jackson2JsonRedisSerializer);\r\n        template.setHashKeySerializer(jackson2JsonRedisSerializer);\r\n        template.setHashValueSerializer(jackson2JsonRedisSerializer);\r\n        template.setValueSerializer(jackson2JsonRedisSerializer);\r\n        template.afterPropertiesSet();\r\n        return template;\r\n    }\r\n}\r\n\r\n```\r\n","title":"&#39;enableDefaultTyping(com.fasterxml.jackson.databind.ObjectMapper.DefaultTyping)&#39; is deprecated in RedisConfig","body":"<p>What is the alternative of enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL) is <strong>deprecated in RedisConfig</strong></p>\n<pre><code>@Configuration\npublic class RedisConfig {\n    @Bean\n    public RedisTemplate&lt;String, String&gt; redisTemplate(RedisConnectionFactory factory) {\n        ObjectMapper om = new ObjectMapper();\n        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\n        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\n        // redis serialize\n        Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class);\n        jackson2JsonRedisSerializer.setObjectMapper(om);\n        StringRedisTemplate template = new StringRedisTemplate(factory);\n        template.setValueSerializer(jackson2JsonRedisSerializer);\n        template.setHashKeySerializer(jackson2JsonRedisSerializer);\n        template.setHashValueSerializer(jackson2JsonRedisSerializer);\n        template.setValueSerializer(jackson2JsonRedisSerializer);\n        template.afterPropertiesSet();\n        return template;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","microservices","spring-aop","spring-aspects"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1702046347,"post_id":77621849,"comment_id":136852924,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701996108,"creation_date":1701996108,"answer_id":77623757,"question_id":77621849,"body_markdown":"If your aspects are so specific that they apply to single classes like in this case, or to classes of only one module, they do not belong to a common module in the first place, but exactly to the module they are targeting. Otherwise, you rightfully experience problems like the one you describe. Of course, referring to a class without your module declaring a dependency on it, results in that class not to be on the classpath of the so-called &quot;common&quot; module. Actually, other modules are supposed to depend on the common module, not the other way around. That is just bad design.\r\n\r\nI understand the wish to create a separate aspect library, if same library is generic enough to apply to multiple modules or even multiple applications altogether. But then, you do not use fully qualified class names.\r\n\r\nA workaround for your problem is to use wildcards `*` or maybe even something like `..*`. But that does not repair your bad design, just makes it work.\r\n\r\nExamples:\r\n\r\n```java\r\ncom.*.boomerang.chunkgenerator.service.sendExceptionEvent\r\n*..*.chunkgenerator.service.sendExceptionEvent\r\ncom.lowes.boomerang.chunkgenerator.service.sendExceptionEvent*\r\n```\r\n\r\nThe above make your pointcut less precise (in theory, they could match other classes or methods), but because using wildcards, they no longer require an exact class on the classpath. But really, the pointcuts are super specific, just put them into the modules they belong to. They are not &quot;common&quot;.","title":"Aspect class showing NotFoundException when adding multiple methods in spring aspect class","body":"<p>If your aspects are so specific that they apply to single classes like in this case, or to classes of only one module, they do not belong to a common module in the first place, but exactly to the module they are targeting. Otherwise, you rightfully experience problems like the one you describe. Of course, referring to a class without your module declaring a dependency on it, results in that class not to be on the classpath of the so-called &quot;common&quot; module. Actually, other modules are supposed to depend on the common module, not the other way around. That is just bad design.</p>\n<p>I understand the wish to create a separate aspect library, if same library is generic enough to apply to multiple modules or even multiple applications altogether. But then, you do not use fully qualified class names.</p>\n<p>A workaround for your problem is to use wildcards <code>*</code> or maybe even something like <code>..*</code>. But that does not repair your bad design, just makes it work.</p>\n<p>Examples:</p>\n<pre class=\"lang-java prettyprint-override\"><code>com.*.boomerang.chunkgenerator.service.sendExceptionEvent\n*..*.chunkgenerator.service.sendExceptionEvent\ncom.lowes.boomerang.chunkgenerator.service.sendExceptionEvent*\n</code></pre>\n<p>The above make your pointcut less precise (in theory, they could match other classes or methods), but because using wildcards, they no longer require an exact class on the classpath. But really, the pointcuts are super specific, just put them into the modules they belong to. They are not &quot;common&quot;.</p>\n"}],"owner":{"account_id":30091621,"reputation":1,"user_id":23060960,"display_name":"Shubham Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701996108,"creation_date":1701968604,"question_id":77621849,"body_markdown":"I am using aspect oriented programming in my microservice architecture. There is one common module which is used as a dependency in other microservice applications. Now this common class has my aspect class and it contains aspect methods of all the microservices which are using this common module. Now if i am running one of my microservice then the methods in aspect class which are not of the running microservice class are showing classNotFoundException. \r\nI will explain with one example\r\n`@After(&quot;execution(public void com.lowes.boomerang.chunkgenerator.service.sendExceptionEvent(..))&quot;)`\r\n\r\n`@After(&quot;execution(public void com.rboomerang.scraper.code.website.productpage.impl.HomeDepotProductPageScraper.testAop(..))&quot;)`\r\n\r\nNow these two methods are in my aspect class which is in common module. But when i am running either of these microservices then we are getting classNotFoundException for the other method. like in the above example if i run product.scraper microservice then chunkgenerator microservice will throw error and vice versa. \r\n\r\nAny way we can include methods of different microservices in the common module and use aop to run all these methods without getting any exception.\r\n\r\nNow these two methods are in my aspect class which is in common module. But when i am running either of these microservices then we are getting classNotFoundException for the other method. like in the above example if i run product.scraper microservice then chunkgenerator microservice will throw error and vice versa.\t\r\n\r\n`@After(&quot;execution(public void com.lowes.boomerang.chunkgenerator.service.sendExceptionEvent(..))&quot;)`\r\n\r\n`@After(&quot;execution(public void com.rboomerang.scraper.code.website.productpage.impl.HomeDepotProductPageScraper.testAop(..))&quot;)`","title":"Aspect class showing NotFoundException when adding multiple methods in spring aspect class","body":"<p>I am using aspect oriented programming in my microservice architecture. There is one common module which is used as a dependency in other microservice applications. Now this common class has my aspect class and it contains aspect methods of all the microservices which are using this common module. Now if i am running one of my microservice then the methods in aspect class which are not of the running microservice class are showing classNotFoundException.\nI will explain with one example\n<code>@After(&quot;execution(public void com.lowes.boomerang.chunkgenerator.service.sendExceptionEvent(..))&quot;)</code></p>\n<p><code>@After(&quot;execution(public void com.rboomerang.scraper.code.website.productpage.impl.HomeDepotProductPageScraper.testAop(..))&quot;)</code></p>\n<p>Now these two methods are in my aspect class which is in common module. But when i am running either of these microservices then we are getting classNotFoundException for the other method. like in the above example if i run product.scraper microservice then chunkgenerator microservice will throw error and vice versa.</p>\n<p>Any way we can include methods of different microservices in the common module and use aop to run all these methods without getting any exception.</p>\n<p>Now these two methods are in my aspect class which is in common module. But when i am running either of these microservices then we are getting classNotFoundException for the other method. like in the above example if i run product.scraper microservice then chunkgenerator microservice will throw error and vice versa.</p>\n<p><code>@After(&quot;execution(public void com.lowes.boomerang.chunkgenerator.service.sendExceptionEvent(..))&quot;)</code></p>\n<p><code>@After(&quot;execution(public void com.rboomerang.scraper.code.website.productpage.impl.HomeDepotProductPageScraper.testAop(..))&quot;)</code></p>\n"},{"tags":["java","session","cookies","websphere"],"comments":[{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1701954322,"post_id":77617283,"comment_id":136840320,"body_markdown":"Any reasons for getting sessionID on the client side?","body":"Any reasons for getting sessionID on the client side?"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":1,"creation_date":1701954923,"post_id":77617283,"comment_id":136840417,"body_markdown":"Check this post https://stackoverflow.com/a/25149954/3701228 Client API depends on you implementation. In general if you&#39;ll take JSESSIONID cookie, the first 4 didigs are cache/epoch ID, then you have session ID till &quot;:&quot; and then cloneid/partitionID. So just take chars from 4 till &quot;:&quot;.","body":"Check this post <a href=\"https://stackoverflow.com/a/25149954/3701228\">stackoverflow.com/a/25149954/3701228</a> Client API depends on you implementation. In general if you&#39;ll take JSESSIONID cookie, the first 4 didigs are cache/epoch ID, then you have session ID till &quot;:&quot; and then cloneid/partitionID. So just take chars from 4 till &quot;:&quot;."}],"owner":{"account_id":6946797,"reputation":47,"user_id":5330954,"display_name":"Gang Li"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701995931,"creation_date":1701914907,"question_id":77617283,"body_markdown":"Below is an instance of JSESSIONID stored in cookie. This JSESSIONID was generated by Websphere.\r\n\r\n0000SHOQmBQ8EokAQtzl_HYdxIt:vuel491u\r\n\r\nI know from [this article][1] page 1011 that the JESSSION id consists of the following 4 part:\r\nCache ID, \r\nSession ID , \r\nseparator(the [:]), \r\nand Clone ID / Partition ID \r\n\r\nMy question 1 is: how to extract the Session ID part?\r\n\r\nKnowing the separator is always [:], I can get the first 2 parts.\r\nWhat I am not sure is:\r\nDoes Cache ID always exist and is it always 4 digit?\r\nIs the length of session id always the same = 23 digits?\r\n\r\nIs there any client side API to get session ID from JSESSIONID in cookie?\r\n\r\nQuestion 2:\r\nIn most of my client environment, the CacheID is always 0000, but in some other client environment, the CacheID is always 0001.\r\nI want to know, what made this difference?\r\n\r\nInformation I gathered since this post:\r\n\r\n&gt; The WebSphere property HttpSessionIdLength defines length of Session\r\n&gt; ID and the default is 23. But Client side logic can not get this value\r\n&gt; and can not assume it is always 23. Since I am still not sure Cache Id is 4 digit, I am still searching for a solution..\r\n\r\n\r\n  [1]: https://www.redbooks.ibm.com/redbooks/pdfs/sg248056.pdf","title":"how to extract session ID from JSESSIONID at client side?","body":"<p>Below is an instance of JSESSIONID stored in cookie. This JSESSIONID was generated by Websphere.</p>\n<p>0000SHOQmBQ8EokAQtzl_HYdxIt:vuel491u</p>\n<p>I know from <a href=\"https://www.redbooks.ibm.com/redbooks/pdfs/sg248056.pdf\" rel=\"nofollow noreferrer\">this article</a> page 1011 that the JESSSION id consists of the following 4 part:\nCache ID,\nSession ID ,\nseparator(the [:]),\nand Clone ID / Partition ID</p>\n<p>My question 1 is: how to extract the Session ID part?</p>\n<p>Knowing the separator is always [:], I can get the first 2 parts.\nWhat I am not sure is:\nDoes Cache ID always exist and is it always 4 digit?\nIs the length of session id always the same = 23 digits?</p>\n<p>Is there any client side API to get session ID from JSESSIONID in cookie?</p>\n<p>Question 2:\nIn most of my client environment, the CacheID is always 0000, but in some other client environment, the CacheID is always 0001.\nI want to know, what made this difference?</p>\n<p>Information I gathered since this post:</p>\n<blockquote>\n<p>The WebSphere property HttpSessionIdLength defines length of Session\nID and the default is 23. But Client side logic can not get this value\nand can not assume it is always 23. Since I am still not sure Cache Id is 4 digit, I am still searching for a solution..</p>\n</blockquote>\n"},{"tags":["java","spring-boot","jpa","crud-repository"],"comments":[{"owner":{"account_id":17893364,"reputation":94,"user_id":12999361,"display_name":"Sowik"},"score":0,"creation_date":1701977311,"post_id":77622078,"comment_id":136844571,"body_markdown":"What dependency do you have for the database? Is it `spring-boot-starter-data-jpa`? Could be because you are using the wrong `@Table` annotation, you are using it from `import org.springframework.data.relational.core.mapping.Table;\n` while it should be from the `javax.persistence` package.","body":"What dependency do you have for the database? Is it <code>spring-boot-starter-data-jpa</code>? Could be because you are using the wrong <code>@Table</code> annotation, you are using it from <code>import org.springframework.data.relational.core.mapping.Table; </code> while it should be from the <code>javax.persistence</code> package."},{"owner":{"account_id":25809513,"reputation":1,"user_id":19550523,"display_name":"CodingApperentice"},"score":0,"creation_date":1701984406,"post_id":77622078,"comment_id":136845593,"body_markdown":"I&#39;m using spring-boot-starter-data-jdbc, I also have javax.persistence so would the @Table annotation be okay?","body":"I&#39;m using spring-boot-starter-data-jdbc, I also have javax.persistence so would the @Table annotation be okay?"}],"answers":[{"tags":[],"owner":{"account_id":27816216,"reputation":271,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701977225,"creation_date":1701977225,"answer_id":77622655,"question_id":77622078,"body_markdown":"You don&#39;t need to provide any `saveAll()` implementation in your code if you are using `JpaRepository`\r\n\r\nSay you have an Entity `Car`:\r\n\r\n    @Entity\r\n    public class Car {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private long id;\r\n    \r\n        private String model;\r\n    \r\n        // constructors, standard getters and setters\r\n    }\r\n\r\nHere is your repository:\r\n\r\n    public interface CarRepository extends JpaRepository&lt;Car, Long&gt; {\r\n    }\r\n\r\nHere is your usage:\r\n\r\n    List&lt;Car&gt; carList = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; carCount; i++) {\r\n        carList.add(new Car (&quot;model&quot;));\r\n    }\r\n    \r\n    carRepository.saveAll(carList);\r\n\r\nWhat happens when you make this invocation?\r\n\r\n    userRepository.saveAll(Your list of Users);","title":"Building my first api, running into a saveall error for type of &#39;something&#39; and could not create query","body":"<p>You don't need to provide any <code>saveAll()</code> implementation in your code if you are using <code>JpaRepository</code></p>\n<p>Say you have an Entity <code>Car</code>:</p>\n<pre><code>@Entity\npublic class Car {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    private String model;\n\n    // constructors, standard getters and setters\n}\n</code></pre>\n<p>Here is your repository:</p>\n<pre><code>public interface CarRepository extends JpaRepository&lt;Car, Long&gt; {\n}\n</code></pre>\n<p>Here is your usage:</p>\n<pre><code>List&lt;Car&gt; carList = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; carCount; i++) {\n    carList.add(new Car (&quot;model&quot;));\n}\n\ncarRepository.saveAll(carList);\n</code></pre>\n<p>What happens when you make this invocation?</p>\n<pre><code>userRepository.saveAll(Your list of Users);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24269779,"reputation":11,"user_id":23055547,"display_name":"AlefMemTav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701995473,"creation_date":1701993941,"answer_id":77623662,"question_id":77622078,"body_markdown":"I&#39;ll help you improve your first API a little:\r\n\r\n1. Remove these methods from your repository: `Optional&lt;UserModel&gt; findById(Long id)` and `Iterable&lt;s&gt; saveAll(Iterable&lt;S&gt; UserModel)`.\r\n\r\nYour repository should look like this:\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;UserModel, Long&gt; {\r\n    }\r\n\r\nJpaRepository already has these methods.\r\n\r\n(https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html)\r\n\r\n2. It is a safer and more manageable practice to configure database connection properties in the `application.properties` or `application.yml` file. This allows you to change database settings without modifying the source code:\r\n\r\n### application.properties:\r\n\r\n    # MySQL database configuration\r\n    spring.datasource.url=jdbc:mysql://127.0.0.1:3306/user_info\r\n    spring.datasource.username=root\r\n    spring.datasource.password=JunesDragon12\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nNow in your Controller:\r\n\r\n### method isConnected in the Controller:\r\n   \r\n    @GetMapping(&quot;/isConnected&quot;)\r\n    public ResponseEntity&lt;String&gt; isConnected() {\r\n          try {\r\n                Connection connection = dataSource.getConnection();\r\n                 connection.close();\r\n              return ResponseEntity.ok(&quot;Connected to the MySQL database.&quot;);\r\n          } catch (SQLException e) {\r\n            return ResponseEntity.ok(&quot;Not connected to the MySQL database.&quot;);\r\n          }\r\n     }\r\n            \r\n3. You can simplify your code using functional programming. Their simplified methods look like this:\r\n\r\n### method findById in the Service:\r\n\r\n    public UserModel findById(Long id) {\r\n        return userRepository.findById(id)\r\n                .map(user -&gt; {\r\n                    logger.info(&quot;User found: {}&quot;, user);\r\n                    return user;\r\n                })\r\n                .orElseThrow(() -&gt; {\r\n                    logger.error(&quot;User not found with ID: {}&quot;, id);\r\n                    return new UserNotFoundException(&quot;User not found with ID: &quot; + id);\r\n                });\r\n    }\r\n\r\n### method getUserById in your Controller:\r\n\r\n    @GetMapping(&quot;/findById/{id}&quot;)\r\n    public ResponseEntity&lt;UserModel&gt; getUserById(@PathVariable Long id){\r\n        logger.info(&quot;Fetching user by ID: {}&quot;, id);\r\n        UserModel user = userService.findById(id);\r\n        logger.info(&quot;User found: {}&quot;, user);\r\n        return ResponseEntity.ok(user);\r\n    }\r\n\r\nIt works perfectly well because the exception is already caught and handled in your service method.\r\n\r\n","title":"Building my first api, running into a saveall error for type of &#39;something&#39; and could not create query","body":"<p>I'll help you improve your first API a little:</p>\n<ol>\n<li>Remove these methods from your repository: <code>Optional&lt;UserModel&gt; findById(Long id)</code> and <code>Iterable&lt;s&gt; saveAll(Iterable&lt;S&gt; UserModel)</code>.</li>\n</ol>\n<p>Your repository should look like this:</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;UserModel, Long&gt; {\n}\n</code></pre>\n<p>JpaRepository already has these methods.</p>\n<p>(<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html</a>)</p>\n<ol start=\"2\">\n<li>It is a safer and more manageable practice to configure database connection properties in the <code>application.properties</code> or <code>application.yml</code> file. This allows you to change database settings without modifying the source code:</li>\n</ol>\n<h3>application.properties:</h3>\n<pre><code># MySQL database configuration\nspring.datasource.url=jdbc:mysql://127.0.0.1:3306/user_info\nspring.datasource.username=root\nspring.datasource.password=JunesDragon12\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>Now in your Controller:</p>\n<h3>method isConnected in the Controller:</h3>\n<pre><code>@GetMapping(&quot;/isConnected&quot;)\npublic ResponseEntity&lt;String&gt; isConnected() {\n      try {\n            Connection connection = dataSource.getConnection();\n             connection.close();\n          return ResponseEntity.ok(&quot;Connected to the MySQL database.&quot;);\n      } catch (SQLException e) {\n        return ResponseEntity.ok(&quot;Not connected to the MySQL database.&quot;);\n      }\n }\n        \n</code></pre>\n<ol start=\"3\">\n<li>You can simplify your code using functional programming. Their simplified methods look like this:</li>\n</ol>\n<h3>method findById in the Service:</h3>\n<pre><code>public UserModel findById(Long id) {\n    return userRepository.findById(id)\n            .map(user -&gt; {\n                logger.info(&quot;User found: {}&quot;, user);\n                return user;\n            })\n            .orElseThrow(() -&gt; {\n                logger.error(&quot;User not found with ID: {}&quot;, id);\n                return new UserNotFoundException(&quot;User not found with ID: &quot; + id);\n            });\n}\n</code></pre>\n<h3>method getUserById in your Controller:</h3>\n<pre><code>@GetMapping(&quot;/findById/{id}&quot;)\npublic ResponseEntity&lt;UserModel&gt; getUserById(@PathVariable Long id){\n    logger.info(&quot;Fetching user by ID: {}&quot;, id);\n    UserModel user = userService.findById(id);\n    logger.info(&quot;User found: {}&quot;, user);\n    return ResponseEntity.ok(user);\n}\n</code></pre>\n<p>It works perfectly well because the exception is already caught and handled in your service method.</p>\n"}],"owner":{"account_id":25809513,"reputation":1,"user_id":19550523,"display_name":"CodingApperentice"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701995473,"creation_date":1701970835,"question_id":77622078,"body_markdown":"I&#39;m programming an API and when I run the program it runs but doesn&#39;t work. In the logs it says \r\n\r\n&gt; No property &#39;saveAll&#39; found for type &#39;UserModel&#39; \r\n\r\nand I&#39;m also getting: \r\n\r\n\r\n&gt; Could not create query for public abstract java.util.List org.springframework.data.jpa.repository.JpaRepository.saveAllAndFlush(java.lang.Iterable); Reason: No property &#39;saveAll&#39; found for type &#39;UserModel&#39;\r\n\r\n\r\nSo these errors have me stumped, I don&#39;t think I need to make a saveall in my repo, I thought that function came with the crud operations. \r\n\r\nHere&#39;s my code, I&#39;m going to keep looking online but if someone has seen this error before, I&#39;d appreciate any and all help.\r\n\r\n\r\n\r\nHere is my controller:\r\n\r\n```\r\npackage com.vault.safe.MyController;\r\n\r\nimport com.vault.safe.CustomExceptions.UserNotFoundException;\r\nimport com.vault.safe.MyModel.UserModel;\r\nimport com.vault.safe.MyService.UserService;\r\n\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.jdbc.DataSourceBuilder;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UserController {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(UserController.class);\r\n\r\n\r\n    private final UserService userService;\r\n\r\n//*************************************************************************************\r\n//Constructors, Getters, and Setters\r\n\r\n    @Autowired\r\n    public UserController(UserService userService){\r\n        super();\r\n        this.userService = userService;\r\n    }\r\n\r\n    public UserService getUserService(){\r\n        return userService;\r\n    }\r\n\r\n//*************************************************************************************\r\n\r\n    @GetMapping(&quot;/isConnected&quot;)\r\n    public ResponseEntity&lt;String&gt; is_connected() {\r\n        try {\r\n            // Attempt to connect to the MySQL database\r\n            DataSource dataSource = DataSourceBuilder.create()\r\n                    .url(&quot;jdbc:mysql://127.0.0.1:3306/user_info&quot;)\r\n                    .username(&quot;root&quot;)\r\n                    .password(&quot;JunesDragon12&quot;)\r\n                    .driverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;)\r\n                    .build();\r\n\r\n            Connection connection = dataSource.getConnection();\r\n            connection.close();\r\n\r\n            return ResponseEntity.ok(&quot;Connected to the MySQL database.&quot;);\r\n        } catch (SQLException e) {\r\n            return ResponseEntity.ok(&quot;Not connected to the MySQL database.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    public UserModel addUser(@RequestBody UserModel userModel){\r\n        logger.info(&quot;Adding user: {}&quot;, userModel);\r\n        UserModel addedUser = userService.addUser(userModel);\r\n        logger.info(&quot;User added: {}&quot;, addedUser);\r\n        return addedUser;\r\n    }\r\n\r\n    @GetMapping(&quot;/findById/{id}&quot;)\r\n    public ResponseEntity&lt;UserModel&gt; getUserById(@PathVariable Long id){\r\n        try{\r\n            logger.info(&quot;Fetching user by ID: {}&quot;, id);\r\n            UserModel user = userService.findById(id);\r\n            logger.info(&quot;User found: {}&quot;, user);\r\n            return ResponseEntity.ok(user);\r\n        }catch(UserNotFoundException ex){\r\n            logger.error(&quot;User not found with ID: {}&quot;, id);\r\n            return ResponseEntity.notFound().build();\r\n        }\r\n    }\r\n//    public UserModel findById(@PathVariable Long userId){\r\n//        return userService.findById(userId);\r\n//    }\r\n\r\n    @PutMapping(&quot;/update/{userId}&quot;)\r\n    public UserModel updateUser(@PathVariable Long userId, @RequestBody UserModel updatedUser) {\r\n        logger.info(&quot;Updating user with ID: {}&quot;, userId);\r\n        UserModel updatedUserModel = userService.updateUserInfo(userId, updatedUser);\r\n        logger.info(&quot;User updated: {}&quot;, updatedUserModel);\r\n        return updatedUserModel;\r\n    }\r\n\r\n    @DeleteMapping(&quot;/delete/{userId}&quot;)\r\n    public void deleteUser(@PathVariable Long userId) {\r\n        logger.info(&quot;Deleting user with ID: {}&quot;, userId);\r\n        userService.deleteById(userId);\r\n        logger.info(&quot;User deleted: {}&quot;, userId);\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere is my repo:\r\n\r\n```\r\npackage com.vault.safe.Repositories;\r\n\r\nimport java.util.Optional;\r\nimport com.vault.safe.MyModel.UserModel;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;UserModel, Long&gt; {\r\n    Optional&lt;UserModel&gt; findById(Long id);\r\n\r\n    //Iterable&lt;s&gt; saveAll(Iterable&lt;S&gt; UserModel);\r\n}\r\n```\r\n\r\nHere&#39;s my service:\r\n\r\n```\r\npackage com.vault.safe.MyService;\r\n\r\nimport com.vault.safe.CustomExceptions.UserNotFoundException;\r\nimport com.vault.safe.MyModel.UserModel;\r\nimport com.vault.safe.Repositories.UserRepository;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\n@Service\r\npublic class UserService {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(UserService.class);\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Autowired\r\n    public UserService(UserRepository userRepository) {\r\n        super();\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    public UserRepository getUserRepository(){\r\n        return userRepository;\r\n    }\r\n\r\n//***********************************************************************************************************\r\n    public UserModel addUser(UserModel user){\r\n        logger.info(&quot;Adding user: {}&quot;, user);\r\n        UserModel addedUser = userRepository.save(user);\r\n        logger.info(&quot;User added: {}&quot;, addedUser);\r\n        return addedUser;\r\n    }\r\n\r\n\r\n    public UserModel findById(Long id) {\r\n        logger.info(&quot;Fetching user by ID: {}&quot;, id);\r\n        Optional&lt;UserModel&gt; userOptional = userRepository.findById(id);\r\n        if (userOptional.isPresent()) {\r\n            UserModel user = userOptional.get();\r\n            logger.info(&quot;User found: {}&quot;, user);\r\n            return user;\r\n        } else {\r\n            logger.error(&quot;User not found with ID: {}&quot;, id);\r\n            throw new UserNotFoundException(&quot;User not found with ID: &quot; + id);\r\n        }\r\n    }\r\n\r\n    public void deleteById(long userId){\r\n        logger.info(&quot;Deleting user with ID: {}&quot;, userId);\r\n        userRepository.deleteById(userId);\r\n        logger.info(&quot;User deleted: {}&quot;, userId);\r\n    }\r\n\r\n    public UserModel updateUserInfo(Long userId, UserModel userModel){\r\n        //Retrieve the user from the repository\r\n        logger.info(&quot;Updating user with ID: {}&quot;, userId);\r\n        Optional&lt;UserModel&gt; optionalUser = userRepository.findById(userId);\r\n\r\n        // check if the user exists\r\n        if(optionalUser.isPresent()){\r\n            UserModel user = optionalUser.get();\r\n\r\n            user.setUsername(userModel.getUsername());\r\n            user.setEmail(userModel.getEmail());\r\n            user.setFirstName(userModel.getFirstName());\r\n            user.setLastName(userModel.getLastName());\r\n            user.setAge(userModel.getAge());\r\n            user.setStreet1(userModel.getStreet1());\r\n            user.setStreet2(userModel.getStreet2());\r\n            user.setCity(userModel.getCity());\r\n            user.setState(userModel.getState());\r\n            user.setCountry(userModel.getCountry());\r\n            user.setZipcode(userModel.getZipcode());\r\n            user.setPhone(userModel.getPhone());\r\n\r\n            //Save the updates user\r\n            UserModel updatedUser = userRepository.save(user);\r\n            logger.info(&quot;User updated: {}&quot;, updatedUser);\r\n            return updatedUser;\r\n\r\n        } else {\r\n            //Handle the case when the user does not exist\r\n            logger.error(&quot;User not found with ID: {}&quot;, userId);\r\n            throw new UserNotFoundException(&quot;User not found with ID: &quot; + userId);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is my model:\r\n\r\n```\r\npackage com.vault.safe.MyModel;\r\n\r\n\r\nimport javax.persistence.*;\r\nimport org.springframework.data.relational.core.mapping.Table;\r\nimport javax.persistence.Id;\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class UserModel {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Column(name = &quot;username&quot;, length = 50, nullable = false)\r\n    private String username;\r\n\r\n    @Column(name = &quot;email&quot;, length = 100, nullable = false)\r\n    private String email;\r\n\r\n    @Column(name = &quot;password&quot;, length = 255, nullable = false)\r\n    private String password;\r\n\r\n    @Column(name = &quot;password2&quot;, length = 255, nullable = false)\r\n    private String password2;\r\n\r\n    @Column(name = &quot;first_name&quot;, length = 50, nullable = false)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;, length = 50, nullable = false)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;age&quot;)\r\n    private Integer age;\r\n\r\n    @Column(name = &quot;street1&quot;, length = 100, nullable = false)\r\n    private String street1;\r\n\r\n    @Column(name = &quot;street2&quot;, length = 100)\r\n    private String street2;\r\n\r\n    @Column(name = &quot;city&quot;, length = 50, nullable = false)\r\n    private String city;\r\n\r\n    @Column(name = &quot;state&quot;, length = 50, nullable = false)\r\n    private String state;\r\n\r\n    @Column(name = &quot;country&quot;, length = 50, nullable = false)\r\n    private String country;\r\n\r\n    @Column(name = &quot;zipcode&quot;, length = 10, nullable = false)\r\n    private String zipcode;\r\n\r\n    @Column(name = &quot;phone&quot;, length = 10, nullable = false)\r\n    private String phone;\r\n\r\n    public UserModel() {\r\n        // Default constructor\r\n    }\r\n\r\n    public UserModel(long id, String username, String email, String password, String password2, String firstName, String lastName, Integer age, String street1, String street2, String city, String state, String country, String zipcode, String phone) {\r\n        this.id = id;\r\n        this.username = username;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.password2 = password2;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.age = age;\r\n        this.street1 = street1;\r\n        this.street2 = street2;\r\n        this.city = city;\r\n        this.state = state;\r\n        this.country = country;\r\n        this.zipcode = zipcode;\r\n        this.phone = phone;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getPassword2() {\r\n        return password2;\r\n    }\r\n\r\n    public void setPassword2(String password2) {\r\n        this.password2 = password2;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public Integer getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(Integer age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public String getStreet1() {\r\n        return street1;\r\n    }\r\n\r\n    public void setStreet1(String street1) {\r\n        this.street1 = street1;\r\n    }\r\n\r\n    public String getStreet2() {\r\n        return street2;\r\n    }\r\n\r\n    public void setStreet2(String street2) {\r\n        this.street2 = street2;\r\n    }\r\n\r\n    public String getCity() {\r\n        return city;\r\n    }\r\n\r\n    public void setCity(String city) {\r\n        this.city = city;\r\n    }\r\n\r\n    public String getState() {\r\n        return state;\r\n    }\r\n\r\n    public void setState(String state) {\r\n        this.state = state;\r\n    }\r\n\r\n    public String getCountry() {\r\n        return country;\r\n    }\r\n\r\n    public void setCountry(String country) {\r\n        this.country = country;\r\n    }\r\n\r\n    public String getZipcode() {\r\n        return zipcode;\r\n    }\r\n\r\n    public void setZipcode(String zipcode) {\r\n        this.zipcode = zipcode;\r\n    }\r\n\r\n    public String getPhone() {\r\n        return phone;\r\n    }\r\n\r\n    public void setPhone(String phone) {\r\n        this.phone = phone;\r\n    }\r\n}\r\n```\r\nHere is my build.gradle:\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.2.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n\tid &#39;application&#39;\r\n}\r\n\r\ngroup = &#39;com.vault&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;19&#39;\r\n\r\napplication {\r\n\tmainClassName = &#39;com.vault.safe.DigitalVaultApplication&#39;\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\next {\r\n\tset(&#39;springCloudVersion&#39;, &quot;2022.0.3&quot;)\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39; // Added Web Starter\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-config&#39;\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-gateway&#39;\r\n\timplementation(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;) {\r\n\t\texclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-web&#39;\r\n\t}\r\n\timplementation &#39;mysql:mysql-connector-java:8.0.33&#39;\r\n\timplementation &#39;javax.persistence:javax.persistence-api:2.2&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\r\n\truntimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n}\r\n\r\ndependencyManagement {\r\n\timports {\r\n\t\tmavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n\t}\r\n}\r\n```\r\n\r\n","title":"Building my first api, running into a saveall error for type of &#39;something&#39; and could not create query","body":"<p>I'm programming an API and when I run the program it runs but doesn't work. In the logs it says</p>\n<blockquote>\n<p>No property 'saveAll' found for type 'UserModel'</p>\n</blockquote>\n<p>and I'm also getting:</p>\n<blockquote>\n<p>Could not create query for public abstract java.util.List org.springframework.data.jpa.repository.JpaRepository.saveAllAndFlush(java.lang.Iterable); Reason: No property 'saveAll' found for type 'UserModel'</p>\n</blockquote>\n<p>So these errors have me stumped, I don't think I need to make a saveall in my repo, I thought that function came with the crud operations.</p>\n<p>Here's my code, I'm going to keep looking online but if someone has seen this error before, I'd appreciate any and all help.</p>\n<p>Here is my controller:</p>\n<pre><code>package com.vault.safe.MyController;\n\nimport com.vault.safe.CustomExceptions.UserNotFoundException;\nimport com.vault.safe.MyModel.UserModel;\nimport com.vault.safe.MyService.UserService;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\n\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport javax.sql.DataSource;\nimport java.sql.Connection;\nimport java.sql.SQLException;\n\n@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n\n    private static final Logger logger = LoggerFactory.getLogger(UserController.class);\n\n\n    private final UserService userService;\n\n//*************************************************************************************\n//Constructors, Getters, and Setters\n\n    @Autowired\n    public UserController(UserService userService){\n        super();\n        this.userService = userService;\n    }\n\n    public UserService getUserService(){\n        return userService;\n    }\n\n//*************************************************************************************\n\n    @GetMapping(&quot;/isConnected&quot;)\n    public ResponseEntity&lt;String&gt; is_connected() {\n        try {\n            // Attempt to connect to the MySQL database\n            DataSource dataSource = DataSourceBuilder.create()\n                    .url(&quot;jdbc:mysql://127.0.0.1:3306/user_info&quot;)\n                    .username(&quot;root&quot;)\n                    .password(&quot;JunesDragon12&quot;)\n                    .driverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;)\n                    .build();\n\n            Connection connection = dataSource.getConnection();\n            connection.close();\n\n            return ResponseEntity.ok(&quot;Connected to the MySQL database.&quot;);\n        } catch (SQLException e) {\n            return ResponseEntity.ok(&quot;Not connected to the MySQL database.&quot;);\n        }\n    }\n\n\n\n\n\n    @PostMapping(&quot;/add&quot;)\n    public UserModel addUser(@RequestBody UserModel userModel){\n        logger.info(&quot;Adding user: {}&quot;, userModel);\n        UserModel addedUser = userService.addUser(userModel);\n        logger.info(&quot;User added: {}&quot;, addedUser);\n        return addedUser;\n    }\n\n    @GetMapping(&quot;/findById/{id}&quot;)\n    public ResponseEntity&lt;UserModel&gt; getUserById(@PathVariable Long id){\n        try{\n            logger.info(&quot;Fetching user by ID: {}&quot;, id);\n            UserModel user = userService.findById(id);\n            logger.info(&quot;User found: {}&quot;, user);\n            return ResponseEntity.ok(user);\n        }catch(UserNotFoundException ex){\n            logger.error(&quot;User not found with ID: {}&quot;, id);\n            return ResponseEntity.notFound().build();\n        }\n    }\n//    public UserModel findById(@PathVariable Long userId){\n//        return userService.findById(userId);\n//    }\n\n    @PutMapping(&quot;/update/{userId}&quot;)\n    public UserModel updateUser(@PathVariable Long userId, @RequestBody UserModel updatedUser) {\n        logger.info(&quot;Updating user with ID: {}&quot;, userId);\n        UserModel updatedUserModel = userService.updateUserInfo(userId, updatedUser);\n        logger.info(&quot;User updated: {}&quot;, updatedUserModel);\n        return updatedUserModel;\n    }\n\n    @DeleteMapping(&quot;/delete/{userId}&quot;)\n    public void deleteUser(@PathVariable Long userId) {\n        logger.info(&quot;Deleting user with ID: {}&quot;, userId);\n        userService.deleteById(userId);\n        logger.info(&quot;User deleted: {}&quot;, userId);\n    }\n}\n\n</code></pre>\n<p>Here is my repo:</p>\n<pre><code>package com.vault.safe.Repositories;\n\nimport java.util.Optional;\nimport com.vault.safe.MyModel.UserModel;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;UserModel, Long&gt; {\n    Optional&lt;UserModel&gt; findById(Long id);\n\n    //Iterable&lt;s&gt; saveAll(Iterable&lt;S&gt; UserModel);\n}\n</code></pre>\n<p>Here's my service:</p>\n<pre><code>package com.vault.safe.MyService;\n\nimport com.vault.safe.CustomExceptions.UserNotFoundException;\nimport com.vault.safe.MyModel.UserModel;\nimport com.vault.safe.Repositories.UserRepository;\nimport org.springframework.stereotype.Service;\nimport org.springframework.beans.factory.annotation.Autowired;\n\n\nimport java.util.Optional;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n@Service\npublic class UserService {\n\n    private static final Logger logger = LoggerFactory.getLogger(UserService.class);\n\n    private final UserRepository userRepository;\n\n    @Autowired\n    public UserService(UserRepository userRepository) {\n        super();\n        this.userRepository = userRepository;\n    }\n\n    public UserRepository getUserRepository(){\n        return userRepository;\n    }\n\n//***********************************************************************************************************\n    public UserModel addUser(UserModel user){\n        logger.info(&quot;Adding user: {}&quot;, user);\n        UserModel addedUser = userRepository.save(user);\n        logger.info(&quot;User added: {}&quot;, addedUser);\n        return addedUser;\n    }\n\n\n    public UserModel findById(Long id) {\n        logger.info(&quot;Fetching user by ID: {}&quot;, id);\n        Optional&lt;UserModel&gt; userOptional = userRepository.findById(id);\n        if (userOptional.isPresent()) {\n            UserModel user = userOptional.get();\n            logger.info(&quot;User found: {}&quot;, user);\n            return user;\n        } else {\n            logger.error(&quot;User not found with ID: {}&quot;, id);\n            throw new UserNotFoundException(&quot;User not found with ID: &quot; + id);\n        }\n    }\n\n    public void deleteById(long userId){\n        logger.info(&quot;Deleting user with ID: {}&quot;, userId);\n        userRepository.deleteById(userId);\n        logger.info(&quot;User deleted: {}&quot;, userId);\n    }\n\n    public UserModel updateUserInfo(Long userId, UserModel userModel){\n        //Retrieve the user from the repository\n        logger.info(&quot;Updating user with ID: {}&quot;, userId);\n        Optional&lt;UserModel&gt; optionalUser = userRepository.findById(userId);\n\n        // check if the user exists\n        if(optionalUser.isPresent()){\n            UserModel user = optionalUser.get();\n\n            user.setUsername(userModel.getUsername());\n            user.setEmail(userModel.getEmail());\n            user.setFirstName(userModel.getFirstName());\n            user.setLastName(userModel.getLastName());\n            user.setAge(userModel.getAge());\n            user.setStreet1(userModel.getStreet1());\n            user.setStreet2(userModel.getStreet2());\n            user.setCity(userModel.getCity());\n            user.setState(userModel.getState());\n            user.setCountry(userModel.getCountry());\n            user.setZipcode(userModel.getZipcode());\n            user.setPhone(userModel.getPhone());\n\n            //Save the updates user\n            UserModel updatedUser = userRepository.save(user);\n            logger.info(&quot;User updated: {}&quot;, updatedUser);\n            return updatedUser;\n\n        } else {\n            //Handle the case when the user does not exist\n            logger.error(&quot;User not found with ID: {}&quot;, userId);\n            throw new UserNotFoundException(&quot;User not found with ID: &quot; + userId);\n        }\n    }\n}\n</code></pre>\n<p>Here is my model:</p>\n<pre><code>package com.vault.safe.MyModel;\n\n\nimport javax.persistence.*;\nimport org.springframework.data.relational.core.mapping.Table;\nimport javax.persistence.Id;\n@Entity\n@Table(name = &quot;users&quot;)\npublic class UserModel {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(name = &quot;username&quot;, length = 50, nullable = false)\n    private String username;\n\n    @Column(name = &quot;email&quot;, length = 100, nullable = false)\n    private String email;\n\n    @Column(name = &quot;password&quot;, length = 255, nullable = false)\n    private String password;\n\n    @Column(name = &quot;password2&quot;, length = 255, nullable = false)\n    private String password2;\n\n    @Column(name = &quot;first_name&quot;, length = 50, nullable = false)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;, length = 50, nullable = false)\n    private String lastName;\n\n    @Column(name = &quot;age&quot;)\n    private Integer age;\n\n    @Column(name = &quot;street1&quot;, length = 100, nullable = false)\n    private String street1;\n\n    @Column(name = &quot;street2&quot;, length = 100)\n    private String street2;\n\n    @Column(name = &quot;city&quot;, length = 50, nullable = false)\n    private String city;\n\n    @Column(name = &quot;state&quot;, length = 50, nullable = false)\n    private String state;\n\n    @Column(name = &quot;country&quot;, length = 50, nullable = false)\n    private String country;\n\n    @Column(name = &quot;zipcode&quot;, length = 10, nullable = false)\n    private String zipcode;\n\n    @Column(name = &quot;phone&quot;, length = 10, nullable = false)\n    private String phone;\n\n    public UserModel() {\n        // Default constructor\n    }\n\n    public UserModel(long id, String username, String email, String password, String password2, String firstName, String lastName, Integer age, String street1, String street2, String city, String state, String country, String zipcode, String phone) {\n        this.id = id;\n        this.username = username;\n        this.email = email;\n        this.password = password;\n        this.password2 = password2;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.age = age;\n        this.street1 = street1;\n        this.street2 = street2;\n        this.city = city;\n        this.state = state;\n        this.country = country;\n        this.zipcode = zipcode;\n        this.phone = phone;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getPassword2() {\n        return password2;\n    }\n\n    public void setPassword2(String password2) {\n        this.password2 = password2;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    public String getStreet1() {\n        return street1;\n    }\n\n    public void setStreet1(String street1) {\n        this.street1 = street1;\n    }\n\n    public String getStreet2() {\n        return street2;\n    }\n\n    public void setStreet2(String street2) {\n        this.street2 = street2;\n    }\n\n    public String getCity() {\n        return city;\n    }\n\n    public void setCity(String city) {\n        this.city = city;\n    }\n\n    public String getState() {\n        return state;\n    }\n\n    public void setState(String state) {\n        this.state = state;\n    }\n\n    public String getCountry() {\n        return country;\n    }\n\n    public void setCountry(String country) {\n        this.country = country;\n    }\n\n    public String getZipcode() {\n        return zipcode;\n    }\n\n    public void setZipcode(String zipcode) {\n        this.zipcode = zipcode;\n    }\n\n    public String getPhone() {\n        return phone;\n    }\n\n    public void setPhone(String phone) {\n        this.phone = phone;\n    }\n}\n</code></pre>\n<p>Here is my build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.2.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'application'\n}\n\ngroup = 'com.vault'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '19'\n\napplication {\n    mainClassName = 'com.vault.safe.DigitalVaultApplication'\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('springCloudVersion', &quot;2022.0.3&quot;)\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-web' // Added Web Starter\n    implementation 'org.springframework.cloud:spring-cloud-starter-config'\n    implementation 'org.springframework.cloud:spring-cloud-starter-gateway'\n    implementation('org.springframework.boot:spring-boot-starter-data-jpa') {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-web'\n    }\n    implementation 'mysql:mysql-connector-java:8.0.33'\n    implementation 'javax.persistence:javax.persistence-api:2.2'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","encryption","bouncycastle","pgp"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1701984107,"post_id":77623042,"comment_id":136845554,"body_markdown":"Don’t use Readers and Writers. Use Inout and OutputStreams.","body":"Don’t use Readers and Writers. Use Inout and OutputStreams."}],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701993167,"creation_date":1701992782,"answer_id":77623607,"question_id":77623042,"body_markdown":"You have some steps missing in the decryption process.\r\n\r\nYou missed:\r\n 1. get the compressed data stream, it&#39;s not compressed, but it has some wrapper bytes stating that.\r\n 2. get the literal data stream from it.\r\n\r\nBasically, the opposite of what you did in the compression part.\r\n\r\nHere you have a fixed version of your `decryptFile` that does that. Assuming the content is what is expected, you should add the `instanceof` checks of the casts, and react accordingly.\r\n\r\n```java\r\n    public static void decryptFile(String encryptedFilePath, String privateKeyFilePath, String privateKeyPassword, String outputFilePath) {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n\r\n        try (InputStream encryptedFileInputStream = new BufferedInputStream(new FileInputStream(encryptedFilePath));\r\n             InputStream privateKeyInputStream = new BufferedInputStream(new FileInputStream(privateKeyFilePath));\r\n             OutputStream outputFileOutputStream = new BufferedOutputStream(new FileOutputStream(outputFilePath))) {\r\n\r\n            PGPObjectFactory pgpObjectFactory = new JcaPGPObjectFactory(PGPUtil.getDecoderStream(encryptedFileInputStream));\r\n            PGPEncryptedDataList encryptedDataList = (PGPEncryptedDataList) pgpObjectFactory.nextObject();\r\n\r\n            PGPPublicKeyEncryptedData encryptedData = (PGPPublicKeyEncryptedData) encryptedDataList.get(0);\r\n\r\n            try (InputStream privateKeyStream = PGPUtil.getDecoderStream(privateKeyInputStream)) {\r\n                PGPSecretKeyRingCollection secretKeys = new PGPSecretKeyRingCollection(PGPUtil.getDecoderStream(privateKeyStream),\r\n                        new JcaKeyFingerprintCalculator());\r\n\r\n                PGPSecretKey secretKey = secretKeys.getSecretKey(encryptedData.getKeyID());\r\n                var a = \r\n                        new org.bouncycastle.openpgp.operator.jcajce.JcePBESecretKeyDecryptorBuilder().setProvider(&quot;BC&quot;).build(privateKeyPassword.toCharArray());\r\n                System.out.println(a);\r\n                System.out.println(secretKey);\r\n                PGPPrivateKey privateKey = secretKey.extractPrivateKey(a);\r\n                JcaPGPObjectFactory pgpCompObjFac;\r\n                try (InputStream decryptedInputStream = encryptedData.getDataStream(\r\n                        new JcePublicKeyDataDecryptorFactoryBuilder()\r\n                                .setProvider(&quot;BC&quot;)\r\n                                .build(privateKey))) {\r\n                    PGPCompressedData pgpCompressedData = (PGPCompressedData) new JcaPGPObjectFactory(decryptedInputStream).nextObject();\r\n                    InputStream compressedDataStream = new BufferedInputStream(pgpCompressedData.getDataStream());\r\n                    pgpCompObjFac = new JcaPGPObjectFactory(compressedDataStream);\r\n                }\r\n                try (   InputStream is = ((PGPLiteralData)pgpCompObjFac.nextObject()).getInputStream();\r\n                        Reader reader = new InputStreamReader(is, StandardCharsets.UTF_8);\r\n                        Writer writer = new FileWriter(outputFilePath))\r\n                {\r\n\r\n                       char[] buffer = new char[4096];\r\n                       int charsRead;\r\n                       while ((charsRead = reader.read(buffer)) != -1) {\r\n                           writer.write(buffer, 0, charsRead);\r\n                       }\r\n                   } catch (IOException e) {\r\n                       e.printStackTrace();\r\n                   }\r\n            }\r\n\r\n        } catch (IOException | PGPException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n ","title":"Extra characters when decrypt a file using bouncycastle","body":"<p>You have some steps missing in the decryption process.</p>\n<p>You missed:</p>\n<ol>\n<li>get the compressed data stream, it's not compressed, but it has some wrapper bytes stating that.</li>\n<li>get the literal data stream from it.</li>\n</ol>\n<p>Basically, the opposite of what you did in the compression part.</p>\n<p>Here you have a fixed version of your <code>decryptFile</code> that does that. Assuming the content is what is expected, you should add the <code>instanceof</code> checks of the casts, and react accordingly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void decryptFile(String encryptedFilePath, String privateKeyFilePath, String privateKeyPassword, String outputFilePath) {\n        Security.addProvider(new BouncyCastleProvider());\n\n        try (InputStream encryptedFileInputStream = new BufferedInputStream(new FileInputStream(encryptedFilePath));\n             InputStream privateKeyInputStream = new BufferedInputStream(new FileInputStream(privateKeyFilePath));\n             OutputStream outputFileOutputStream = new BufferedOutputStream(new FileOutputStream(outputFilePath))) {\n\n            PGPObjectFactory pgpObjectFactory = new JcaPGPObjectFactory(PGPUtil.getDecoderStream(encryptedFileInputStream));\n            PGPEncryptedDataList encryptedDataList = (PGPEncryptedDataList) pgpObjectFactory.nextObject();\n\n            PGPPublicKeyEncryptedData encryptedData = (PGPPublicKeyEncryptedData) encryptedDataList.get(0);\n\n            try (InputStream privateKeyStream = PGPUtil.getDecoderStream(privateKeyInputStream)) {\n                PGPSecretKeyRingCollection secretKeys = new PGPSecretKeyRingCollection(PGPUtil.getDecoderStream(privateKeyStream),\n                        new JcaKeyFingerprintCalculator());\n\n                PGPSecretKey secretKey = secretKeys.getSecretKey(encryptedData.getKeyID());\n                var a = \n                        new org.bouncycastle.openpgp.operator.jcajce.JcePBESecretKeyDecryptorBuilder().setProvider(&quot;BC&quot;).build(privateKeyPassword.toCharArray());\n                System.out.println(a);\n                System.out.println(secretKey);\n                PGPPrivateKey privateKey = secretKey.extractPrivateKey(a);\n                JcaPGPObjectFactory pgpCompObjFac;\n                try (InputStream decryptedInputStream = encryptedData.getDataStream(\n                        new JcePublicKeyDataDecryptorFactoryBuilder()\n                                .setProvider(&quot;BC&quot;)\n                                .build(privateKey))) {\n                    PGPCompressedData pgpCompressedData = (PGPCompressedData) new JcaPGPObjectFactory(decryptedInputStream).nextObject();\n                    InputStream compressedDataStream = new BufferedInputStream(pgpCompressedData.getDataStream());\n                    pgpCompObjFac = new JcaPGPObjectFactory(compressedDataStream);\n                }\n                try (   InputStream is = ((PGPLiteralData)pgpCompObjFac.nextObject()).getInputStream();\n                        Reader reader = new InputStreamReader(is, StandardCharsets.UTF_8);\n                        Writer writer = new FileWriter(outputFilePath))\n                {\n\n                       char[] buffer = new char[4096];\n                       int charsRead;\n                       while ((charsRead = reader.read(buffer)) != -1) {\n                           writer.write(buffer, 0, charsRead);\n                       }\n                   } catch (IOException e) {\n                       e.printStackTrace();\n                   }\n            }\n\n        } catch (IOException | PGPException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1774405,"reputation":19,"user_id":1618471,"display_name":"Careau"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77623607,"answer_count":1,"score":0,"last_activity_date":1701993167,"creation_date":1701982843,"question_id":77623042,"body_markdown":"I need to create in java a class to encrypt and decrypt files.\r\nI Use bouncy castle library since it looks like a the most used for java.\r\n\r\nI&#39;m able to encrypt and decrypt the file. But the decrypted file have some extra characters at the end. Kind of metadata since the original filename is in it embeded in hexadecimal characters.\r\n\r\nIs it normal ?\r\nHow to skip that ?\r\n\r\nSince I know nothing about it pgp and this kind of stuff, I asked chatpgt tu generate some code. Worked after a couple if iteration but I got these extra charaters ...\r\n\r\n\r\nmy code\r\n```\r\npackage myPackage;\r\n\r\nimport java.io.BufferedInputStream;\r\nimport java.io.BufferedOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStream;\r\nimport java.io.Reader;\r\nimport java.io.Writer;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.SecureRandom;\r\nimport java.security.Security;\r\n\r\nimport org.bouncycastle.bcpg.ArmoredOutputStream;\r\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\r\nimport org.bouncycastle.openpgp.*;\r\nimport org.bouncycastle.openpgp.jcajce.JcaPGPObjectFactory;\r\nimport org.bouncycastle.openpgp.operator.jcajce.JcaKeyFingerprintCalculator;\r\nimport org.bouncycastle.openpgp.operator.jcajce.JcePGPDataEncryptorBuilder;\r\nimport org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyDataDecryptorFactoryBuilder;\r\nimport org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyKeyEncryptionMethodGenerator;\r\n\r\n\r\npublic class PGPHelper {\r\n\r\n    public static void encryptFile(String inputFilePath, String publicKeyFilePath, String outputFilePath, boolean armor, boolean withIntegrityCheck) {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n\r\n        try (InputStream publicKeyInputStream = new BufferedInputStream(new FileInputStream(publicKeyFilePath));\r\n             OutputStream encryptedFileOutputStream = new BufferedOutputStream(new FileOutputStream(outputFilePath))) {\r\n\r\n            PGPPublicKeyRingCollection publicKeyRingCollection = new PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(publicKeyInputStream),\r\n                    new JcaKeyFingerprintCalculator());\r\n\r\n            // S&#233;lectionnez la cl&#233; publique du destinataire (vous pouvez ajuster cette logique selon vos besoins)\r\n            PGPPublicKey recipientPublicKey = selectRecipientPublicKey(publicKeyRingCollection);\r\n\r\n            // Initialiser le chiffrement PGP\r\n            PGPEncryptedDataGenerator encryptedDataGenerator = new PGPEncryptedDataGenerator(\r\n                    new JcePGPDataEncryptorBuilder(PGPEncryptedData.AES_256)\r\n                            .setWithIntegrityPacket(withIntegrityCheck)\r\n                            .setSecureRandom(new SecureRandom())\r\n                            .setProvider(&quot;BC&quot;)\r\n            );\r\n\r\n            encryptedDataGenerator.addMethod(new JcePublicKeyKeyEncryptionMethodGenerator(recipientPublicKey).setProvider(&quot;BC&quot;));\r\n\r\n            try (OutputStream encryptedOutputStream = encryptedDataGenerator.open(encryptedFileOutputStream, new byte[4096])) {\r\n                PGPCompressedDataGenerator compressedDataGenerator = new PGPCompressedDataGenerator(PGPCompressedData.UNCOMPRESSED);\r\n                OutputStream compressedOutputStream = compressedDataGenerator.open(encryptedOutputStream);\r\n\r\n                PGPLiteralDataGenerator literalDataGenerator = new PGPLiteralDataGenerator();\r\n                OutputStream literalOutputStream = literalDataGenerator.open(compressedOutputStream, PGPLiteralData.BINARY, new File(inputFilePath));\r\n\r\n                try (InputStream inputFileStream = new BufferedInputStream(new FileInputStream(inputFilePath))) {\r\n                    byte[] buffer = new byte[4096];\r\n                    int bytesRead;\r\n                    while ((bytesRead = inputFileStream.read(buffer)) != -1) {\r\n                        literalOutputStream.write(buffer, 0, bytesRead);\r\n                    }\r\n                } finally {\r\n                    // Fermez explicitement les ressources PGPLiteralDataGenerator et PGPCompressedDataGenerator ici\r\n                    literalOutputStream.close();\r\n                    literalDataGenerator.close();\r\n                    compressedOutputStream.close();\r\n                    compressedDataGenerator.close();\r\n                }\r\n            } catch (IOException | PGPException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n        } catch (IOException | PGPException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    \r\n    private static PGPPublicKey selectRecipientPublicKey(PGPPublicKeyRingCollection publicKeyRingCollection) {\r\n        // Dans un cas r&#233;el, vous devrez impl&#233;menter la logique pour s&#233;lectionner la cl&#233; publique du destinataire\r\n        // Dans cet exemple, je prends simplement la premi&#232;re cl&#233; publique disponible\r\n        return publicKeyRingCollection.getKeyRings().next().getPublicKeys().next();\r\n    }\r\n    \r\n   \r\n    \r\n/**********************************\r\n * \r\n */\r\n    public static void decryptFile(String encryptedFilePath, String privateKeyFilePath, String privateKeyPassword, String outputFilePath) {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n\r\n        try (InputStream encryptedFileInputStream = new BufferedInputStream(new FileInputStream(encryptedFilePath));\r\n             InputStream privateKeyInputStream = new BufferedInputStream(new FileInputStream(privateKeyFilePath));\r\n             OutputStream outputFileOutputStream = new BufferedOutputStream(new FileOutputStream(outputFilePath))) {\r\n\r\n            PGPObjectFactory pgpObjectFactory = new JcaPGPObjectFactory(PGPUtil.getDecoderStream(encryptedFileInputStream));\r\n            PGPEncryptedDataList encryptedDataList = (PGPEncryptedDataList) pgpObjectFactory.nextObject();\r\n\r\n            PGPPublicKeyEncryptedData encryptedData = (PGPPublicKeyEncryptedData) encryptedDataList.get(0);\r\n\r\n            try (InputStream privateKeyStream = PGPUtil.getDecoderStream(privateKeyInputStream)) {\r\n                PGPSecretKeyRingCollection secretKeys = new PGPSecretKeyRingCollection(PGPUtil.getDecoderStream(privateKeyStream),\r\n                        new JcaKeyFingerprintCalculator());\r\n\r\n                PGPSecretKey secretKey = secretKeys.getSecretKey(encryptedData.getKeyID());\r\n                \r\n                PGPPrivateKey privateKey = secretKey.extractPrivateKey(\r\n                        new org.bouncycastle.openpgp.operator.jcajce.JcePBESecretKeyDecryptorBuilder().setProvider(&quot;BC&quot;).build(privateKeyPassword.toCharArray())\r\n                );\r\n                \r\n                try (InputStream decryptedInputStream = encryptedData.getDataStream(\r\n                        new JcePublicKeyDataDecryptorFactoryBuilder()\r\n                        .setProvider(&quot;BC&quot;)\r\n                        .build(privateKey));\r\n                        \r\n                        Reader reader = new InputStreamReader(decryptedInputStream, StandardCharsets.UTF_8);\r\n                        Writer writer = new FileWriter(outputFilePath))\r\n                {\r\n\r\n                       char[] buffer = new char[4096];\r\n                       int charsRead;\r\n                       while ((charsRead = reader.read(buffer)) != -1) {\r\n                           writer.write(buffer, 0, charsRead);\r\n                       }\r\n                   } catch (IOException | PGPException e) {\r\n                       e.printStackTrace();\r\n                   }\r\n            }\r\n\r\n        } catch (IOException | PGPException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n \r\n}\r\n```\r\n\r\n\r\nhow I call it\r\n```\r\nString inputFilePath = &quot;C:/temp/source.txt&quot;;\r\nString publicKeyFilePath = &quot;C:/temp/public.key&quot;;\r\nString outputFilePath = &quot;C:/temp/source.pgp&quot;;\r\nboolean armor = true;\r\nboolean withIntegrityCheck = true;\r\n\r\nPGPHelper.encryptFile(inputFilePath, publicKeyFilePath, outputFilePath, armor, withIntegrityCheck);\r\n```\r\n\r\nand \r\n```\r\nSystem.out.println(&quot;start decrypt&quot;);\r\nString encryptedFilePath = &quot;C:/temp/source.pgp&quot;;\r\nString privateKeyFilePath = &quot;C:/temp/secret.key&quot;;\r\nString privateKeyPassword = &quot;mypassword&quot;;\r\nString outputFilePath = &quot;C:/temp/dest2.txt&quot;;\r\n  \r\nPGPHelper.decryptFile(encryptedFilePath, privateKeyFilePath, privateKeyPassword, outputFilePath);\r\n```","title":"Extra characters when decrypt a file using bouncycastle","body":"<p>I need to create in java a class to encrypt and decrypt files.\nI Use bouncy castle library since it looks like a the most used for java.</p>\n<p>I'm able to encrypt and decrypt the file. But the decrypted file have some extra characters at the end. Kind of metadata since the original filename is in it embeded in hexadecimal characters.</p>\n<p>Is it normal ?\nHow to skip that ?</p>\n<p>Since I know nothing about it pgp and this kind of stuff, I asked chatpgt tu generate some code. Worked after a couple if iteration but I got these extra charaters ...</p>\n<p>my code</p>\n<pre><code>package myPackage;\n\nimport java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.Reader;\nimport java.io.Writer;\nimport java.nio.charset.StandardCharsets;\nimport java.security.SecureRandom;\nimport java.security.Security;\n\nimport org.bouncycastle.bcpg.ArmoredOutputStream;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openpgp.*;\nimport org.bouncycastle.openpgp.jcajce.JcaPGPObjectFactory;\nimport org.bouncycastle.openpgp.operator.jcajce.JcaKeyFingerprintCalculator;\nimport org.bouncycastle.openpgp.operator.jcajce.JcePGPDataEncryptorBuilder;\nimport org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyDataDecryptorFactoryBuilder;\nimport org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyKeyEncryptionMethodGenerator;\n\n\npublic class PGPHelper {\n\n    public static void encryptFile(String inputFilePath, String publicKeyFilePath, String outputFilePath, boolean armor, boolean withIntegrityCheck) {\n        Security.addProvider(new BouncyCastleProvider());\n\n        try (InputStream publicKeyInputStream = new BufferedInputStream(new FileInputStream(publicKeyFilePath));\n             OutputStream encryptedFileOutputStream = new BufferedOutputStream(new FileOutputStream(outputFilePath))) {\n\n            PGPPublicKeyRingCollection publicKeyRingCollection = new PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(publicKeyInputStream),\n                    new JcaKeyFingerprintCalculator());\n\n            // Sélectionnez la clé publique du destinataire (vous pouvez ajuster cette logique selon vos besoins)\n            PGPPublicKey recipientPublicKey = selectRecipientPublicKey(publicKeyRingCollection);\n\n            // Initialiser le chiffrement PGP\n            PGPEncryptedDataGenerator encryptedDataGenerator = new PGPEncryptedDataGenerator(\n                    new JcePGPDataEncryptorBuilder(PGPEncryptedData.AES_256)\n                            .setWithIntegrityPacket(withIntegrityCheck)\n                            .setSecureRandom(new SecureRandom())\n                            .setProvider(&quot;BC&quot;)\n            );\n\n            encryptedDataGenerator.addMethod(new JcePublicKeyKeyEncryptionMethodGenerator(recipientPublicKey).setProvider(&quot;BC&quot;));\n\n            try (OutputStream encryptedOutputStream = encryptedDataGenerator.open(encryptedFileOutputStream, new byte[4096])) {\n                PGPCompressedDataGenerator compressedDataGenerator = new PGPCompressedDataGenerator(PGPCompressedData.UNCOMPRESSED);\n                OutputStream compressedOutputStream = compressedDataGenerator.open(encryptedOutputStream);\n\n                PGPLiteralDataGenerator literalDataGenerator = new PGPLiteralDataGenerator();\n                OutputStream literalOutputStream = literalDataGenerator.open(compressedOutputStream, PGPLiteralData.BINARY, new File(inputFilePath));\n\n                try (InputStream inputFileStream = new BufferedInputStream(new FileInputStream(inputFilePath))) {\n                    byte[] buffer = new byte[4096];\n                    int bytesRead;\n                    while ((bytesRead = inputFileStream.read(buffer)) != -1) {\n                        literalOutputStream.write(buffer, 0, bytesRead);\n                    }\n                } finally {\n                    // Fermez explicitement les ressources PGPLiteralDataGenerator et PGPCompressedDataGenerator ici\n                    literalOutputStream.close();\n                    literalDataGenerator.close();\n                    compressedOutputStream.close();\n                    compressedDataGenerator.close();\n                }\n            } catch (IOException | PGPException e) {\n                e.printStackTrace();\n            }\n\n\n        } catch (IOException | PGPException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    \n    private static PGPPublicKey selectRecipientPublicKey(PGPPublicKeyRingCollection publicKeyRingCollection) {\n        // Dans un cas réel, vous devrez implémenter la logique pour sélectionner la clé publique du destinataire\n        // Dans cet exemple, je prends simplement la première clé publique disponible\n        return publicKeyRingCollection.getKeyRings().next().getPublicKeys().next();\n    }\n    \n   \n    \n/**********************************\n * \n */\n    public static void decryptFile(String encryptedFilePath, String privateKeyFilePath, String privateKeyPassword, String outputFilePath) {\n        Security.addProvider(new BouncyCastleProvider());\n\n        try (InputStream encryptedFileInputStream = new BufferedInputStream(new FileInputStream(encryptedFilePath));\n             InputStream privateKeyInputStream = new BufferedInputStream(new FileInputStream(privateKeyFilePath));\n             OutputStream outputFileOutputStream = new BufferedOutputStream(new FileOutputStream(outputFilePath))) {\n\n            PGPObjectFactory pgpObjectFactory = new JcaPGPObjectFactory(PGPUtil.getDecoderStream(encryptedFileInputStream));\n            PGPEncryptedDataList encryptedDataList = (PGPEncryptedDataList) pgpObjectFactory.nextObject();\n\n            PGPPublicKeyEncryptedData encryptedData = (PGPPublicKeyEncryptedData) encryptedDataList.get(0);\n\n            try (InputStream privateKeyStream = PGPUtil.getDecoderStream(privateKeyInputStream)) {\n                PGPSecretKeyRingCollection secretKeys = new PGPSecretKeyRingCollection(PGPUtil.getDecoderStream(privateKeyStream),\n                        new JcaKeyFingerprintCalculator());\n\n                PGPSecretKey secretKey = secretKeys.getSecretKey(encryptedData.getKeyID());\n                \n                PGPPrivateKey privateKey = secretKey.extractPrivateKey(\n                        new org.bouncycastle.openpgp.operator.jcajce.JcePBESecretKeyDecryptorBuilder().setProvider(&quot;BC&quot;).build(privateKeyPassword.toCharArray())\n                );\n                \n                try (InputStream decryptedInputStream = encryptedData.getDataStream(\n                        new JcePublicKeyDataDecryptorFactoryBuilder()\n                        .setProvider(&quot;BC&quot;)\n                        .build(privateKey));\n                        \n                        Reader reader = new InputStreamReader(decryptedInputStream, StandardCharsets.UTF_8);\n                        Writer writer = new FileWriter(outputFilePath))\n                {\n\n                       char[] buffer = new char[4096];\n                       int charsRead;\n                       while ((charsRead = reader.read(buffer)) != -1) {\n                           writer.write(buffer, 0, charsRead);\n                       }\n                   } catch (IOException | PGPException e) {\n                       e.printStackTrace();\n                   }\n            }\n\n        } catch (IOException | PGPException e) {\n            e.printStackTrace();\n        }\n    }\n\n \n}\n</code></pre>\n<p>how I call it</p>\n<pre><code>String inputFilePath = &quot;C:/temp/source.txt&quot;;\nString publicKeyFilePath = &quot;C:/temp/public.key&quot;;\nString outputFilePath = &quot;C:/temp/source.pgp&quot;;\nboolean armor = true;\nboolean withIntegrityCheck = true;\n\nPGPHelper.encryptFile(inputFilePath, publicKeyFilePath, outputFilePath, armor, withIntegrityCheck);\n</code></pre>\n<p>and</p>\n<pre><code>System.out.println(&quot;start decrypt&quot;);\nString encryptedFilePath = &quot;C:/temp/source.pgp&quot;;\nString privateKeyFilePath = &quot;C:/temp/secret.key&quot;;\nString privateKeyPassword = &quot;mypassword&quot;;\nString outputFilePath = &quot;C:/temp/dest2.txt&quot;;\n  \nPGPHelper.decryptFile(encryptedFilePath, privateKeyFilePath, privateKeyPassword, outputFilePath);\n</code></pre>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":13680665,"reputation":735,"user_id":9871101,"display_name":"Dinh Lam"},"score":0,"creation_date":1701739843,"post_id":77603346,"comment_id":136810644,"body_markdown":"What is output of `gridLayout.getChildCount()`?","body":"What is output of <code>gridLayout.getChildCount()</code>?"},{"owner":{"account_id":22704820,"reputation":155,"user_id":17492705,"display_name":"Steven Le&#243;n "},"score":0,"creation_date":1701741623,"post_id":77603346,"comment_id":136810789,"body_markdown":"@DinhLam it returns the amount of elements inside the grid, so it&#39;s actually adding the imageButtons, in the specific case returns 64","body":"@DinhLam it returns the amount of elements inside the grid, so it&#39;s actually adding the imageButtons, in the specific case returns 64"},{"owner":{"account_id":13680665,"reputation":735,"user_id":9871101,"display_name":"Dinh Lam"},"score":0,"creation_date":1701744061,"post_id":77603346,"comment_id":136810989,"body_markdown":"where are u call `setGridListeners`? maybe the click listener was removed in somewhere.","body":"where are u call <code>setGridListeners</code>? maybe the click listener was removed in somewhere."},{"owner":{"account_id":22704820,"reputation":155,"user_id":17492705,"display_name":"Steven Le&#243;n "},"score":0,"creation_date":1701744870,"post_id":77603346,"comment_id":136811036,"body_markdown":"The method is inside the main activity, and is called in the oncreate method, something like this:\n\n        gridLayout = findViewById(R.id.gridLayout);\n        gridLayout.setRowCount(n);\n        gridLayout.setColumnCount(n);\n\n        boardLoader.createEmptyGrid(this, gridLayout, control.imagesList(this).get(0));","body":"The method is inside the main activity, and is called in the oncreate method, something like this:          gridLayout = findViewById(R.id.gridLayout);         gridLayout.setRowCount(n);         gridLayout.setColumnCount(n);          boardLoader.createEmptyGrid(this, gridLayout, control.imagesList(this).get(0));"},{"owner":{"account_id":13680665,"reputation":735,"user_id":9871101,"display_name":"Dinh Lam"},"score":0,"creation_date":1701746421,"post_id":77603346,"comment_id":136811131,"body_markdown":"can u post main activity&#39;s code to this post or attach the github link? i need more info to figure out the problem.","body":"can u post main activity&#39;s code to this post or attach the github link? i need more info to figure out the problem."},{"owner":{"account_id":22704820,"reputation":155,"user_id":17492705,"display_name":"Steven Le&#243;n "},"score":0,"creation_date":1701747445,"post_id":77603346,"comment_id":136811188,"body_markdown":"Sure, I&#39;ll edit the post and add the mainActivity code for you to see","body":"Sure, I&#39;ll edit the post and add the mainActivity code for you to see"},{"owner":{"account_id":460525,"reputation":18289,"user_id":861679,"accept_rate":68,"display_name":"Android Killer"},"score":0,"creation_date":1701747847,"post_id":77603346,"comment_id":136811220,"body_markdown":"@StevenLe&#243;n Can you try to set pixelView.clickable = true before setting click listener once and see if it effects something.","body":"@StevenLe&#243;n Can you try to set pixelView.clickable = true before setting click listener once and see if it effects something."},{"owner":{"account_id":22704820,"reputation":155,"user_id":17492705,"display_name":"Steven Le&#243;n "},"score":0,"creation_date":1701748278,"post_id":77603346,"comment_id":136811258,"body_markdown":"@AndroidKiller I tried to add it as you told me, before adding the event listener and also when the imageButtons are created and doesn&#39;t affect, anyway thank you","body":"@AndroidKiller I tried to add it as you told me, before adding the event listener and also when the imageButtons are created and doesn&#39;t affect, anyway thank you"},{"owner":{"account_id":460525,"reputation":18289,"user_id":861679,"accept_rate":68,"display_name":"Android Killer"},"score":0,"creation_date":1701769047,"post_id":77603346,"comment_id":136813735,"body_markdown":"@StevenLe&#243;n Can you add the tag while creating and printing tag while adding listers, if they are printing the same value. Just wanted to make sure we are adding listeners to same view.","body":"@StevenLe&#243;n Can you add the tag while creating and printing tag while adding listers, if they are printing the same value. Just wanted to make sure we are adding listeners to same view."},{"owner":{"account_id":22704820,"reputation":155,"user_id":17492705,"display_name":"Steven Le&#243;n "},"score":0,"creation_date":1701893307,"post_id":77603346,"comment_id":136832669,"body_markdown":"@AndroidKiller Sorry for the late answer, I tried to add the clickable and also a tag when creating and print it there and also when event listeners are added and are the same, print the same value, first the list of the tags when added and then after the event listeners are supposed to be added :/","body":"@AndroidKiller Sorry for the late answer, I tried to add the clickable and also a tag when creating and print it there and also when event listeners are added and are the same, print the same value, first the list of the tags when added and then after the event listeners are supposed to be added :/"}],"answers":[{"tags":[],"owner":{"account_id":22704820,"reputation":155,"user_id":17492705,"display_name":"Steven Le&#243;n "},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701992879,"creation_date":1701992879,"answer_id":77623615,"question_id":77603346,"body_markdown":"Okay, I figured out how to solve the problem and I&#39;ll post here my solution if is helpful for someone.\r\n\r\nBasically was a bunch of &quot;beginner&quot; mistakes, and I will list them:\r\n\r\n**1. Inflating incorrect layout (or, in other words, layout was wrong)**\r\n\r\nSo, I use to have my ImageButtons inside a constraintLayout (Cause I was not knowing how to position it correctly), so that was the first mistake, cause when I was doing this:\r\n\r\n     View pixelView = inflater.inflate(R.layout.pixel_item_no_tint, gridLayout, false);\r\n\r\nI was inflating the constraintLayout, not the imageButton, that&#39;s why I wasn&#39;t able to add the event listeners, I verify that making a validation and logging the class type of the pixelView:\r\n\r\n    Log.e(&quot;View Class&quot;, &quot;Class of pixelView: &quot; + pixelView.getClass().getName());\r\n\r\n    if (pixelView instanceof ImageButton) {\r\n        Log.e(&quot;Testing&quot;, &quot;&quot; + pixelView.getTag());\r\n    }\r\n\r\nThen for solve the problem I delete the constraintLayout of the ImageButton and it starts adding the event listeners, however other problem comes:\r\n\r\n**2. Not setting the width and height GridLayout Params inside the code**\r\n\r\nSo, after I figured out what was happening I stop seeing my buttons on the screen, after a lot of debugging I found that the problem was that the imageButtons wasn&#39;t taking the atributes of width and height, even when I have them inside my xml, like this:\r\n\r\n    android:layout_width=&quot;35dp&quot;\r\n    android:layout_height=&quot;35dp&quot;\r\n\r\nSo after a lot of attempts I figured out that I have to specify that property inside the params of the imageButton inside the gridLayout (when been added), like this:\r\n\r\n                GridLayout.Spec rowSpec = GridLayout.spec(i);\r\n                GridLayout.Spec colSpec = GridLayout.spec(j);\r\n                GridLayout.LayoutParams params = new GridLayout.LayoutParams(rowSpec, colSpec);\r\n                params.width = 50;\r\n                params.height = 50;\r\n\r\n                pixelView.setId(counter);\r\n                pixelView.setClickable(true);\r\n\r\n                pixelView.setLayoutParams(params);\r\n\r\nAnd with that I was able to see the gridLayout and test that the eventListeners are working correctly, then you can change each imageButton width and height inside of it programmatically. Hope it help someone, thanks for the persons who comment the post too.  ","title":"Add click listeners to a multiple imageButtons inside a gridLayout - Android Studio","body":"<p>Okay, I figured out how to solve the problem and I'll post here my solution if is helpful for someone.</p>\n<p>Basically was a bunch of &quot;beginner&quot; mistakes, and I will list them:</p>\n<p><strong>1. Inflating incorrect layout (or, in other words, layout was wrong)</strong></p>\n<p>So, I use to have my ImageButtons inside a constraintLayout (Cause I was not knowing how to position it correctly), so that was the first mistake, cause when I was doing this:</p>\n<pre><code> View pixelView = inflater.inflate(R.layout.pixel_item_no_tint, gridLayout, false);\n</code></pre>\n<p>I was inflating the constraintLayout, not the imageButton, that's why I wasn't able to add the event listeners, I verify that making a validation and logging the class type of the pixelView:</p>\n<pre><code>Log.e(&quot;View Class&quot;, &quot;Class of pixelView: &quot; + pixelView.getClass().getName());\n\nif (pixelView instanceof ImageButton) {\n    Log.e(&quot;Testing&quot;, &quot;&quot; + pixelView.getTag());\n}\n</code></pre>\n<p>Then for solve the problem I delete the constraintLayout of the ImageButton and it starts adding the event listeners, however other problem comes:</p>\n<p><strong>2. Not setting the width and height GridLayout Params inside the code</strong></p>\n<p>So, after I figured out what was happening I stop seeing my buttons on the screen, after a lot of debugging I found that the problem was that the imageButtons wasn't taking the atributes of width and height, even when I have them inside my xml, like this:</p>\n<pre><code>android:layout_width=&quot;35dp&quot;\nandroid:layout_height=&quot;35dp&quot;\n</code></pre>\n<p>So after a lot of attempts I figured out that I have to specify that property inside the params of the imageButton inside the gridLayout (when been added), like this:</p>\n<pre><code>            GridLayout.Spec rowSpec = GridLayout.spec(i);\n            GridLayout.Spec colSpec = GridLayout.spec(j);\n            GridLayout.LayoutParams params = new GridLayout.LayoutParams(rowSpec, colSpec);\n            params.width = 50;\n            params.height = 50;\n\n            pixelView.setId(counter);\n            pixelView.setClickable(true);\n\n            pixelView.setLayoutParams(params);\n</code></pre>\n<p>And with that I was able to see the gridLayout and test that the eventListeners are working correctly, then you can change each imageButton width and height inside of it programmatically. Hope it help someone, thanks for the persons who comment the post too.</p>\n"}],"owner":{"account_id":22704820,"reputation":155,"user_id":17492705,"display_name":"Steven Le&#243;n "},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77623615,"answer_count":1,"score":0,"last_activity_date":1701992879,"creation_date":1701738979,"question_id":77603346,"body_markdown":"I&#39;m building a app that have a grid of imageButtons inside of it, I&#39;m setting it from a method, here&#39;s the code:\r\n\r\n    public class BoardLoader {\r\n    public void createEmptyGrid(Context context, GridLayout gridLayout, Image image) {\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        int counter = 0;\r\n        for (int i = 0; i &lt; image.getWidth(); i++) {\r\n            for (int j = 0; j &lt; image.getHeight(); j++) {\r\n                \r\n                View pixelView = inflater.inflate(R.layout.pixel_item_no_tint, gridLayout, false);\r\n\r\n                GridLayout.Spec rowSpec = GridLayout.spec(i);\r\n                GridLayout.Spec colSpec = GridLayout.spec(j);\r\n                GridLayout.LayoutParams params = new GridLayout.LayoutParams(rowSpec, colSpec);\r\n\r\n                pixelView.setId(counter);\r\n                counter++;\r\n\r\n                pixelView.setLayoutParams(params);\r\n                gridLayout.addView(pixelView);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nThe grid is showing correctly, so the next step is to add event listener to all of the imageButtons, I don&#39;t want to do it one by one, instead using a method, this is the one that I think might work:\r\n\r\n    private void setGridListeners(GridLayout gridLayout) {\r\n\r\n        for (int i = 0; i &lt; gridLayout.getChildCount(); i++) {\r\n            View pixelView = gridLayout.getChildAt(i);\r\n            pixelView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Log.e(&quot;testing&quot;, &quot;hope it works&quot;);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nBut when I see in Logcat is not showing the log, I try in many ways to achieve the goal, like use tags instead of id&#39;s, add the listeners inside the createEmptyGrid method, even try with another imageButton outside to verify that was not error of the method, etc... But none of them works\r\n\r\n\r\nHere&#39;s how it looks, the buttons show feedback so is not error of buttons not working or not receiving the click\r\n\r\n[![error in grid][1]][1]\r\n\r\nIf someone figure out what&#39;s happening will help me so much\r\n\r\nThanks in advance\r\n\r\nSteven\r\n\r\nUPDATE: Here&#39;s the mainActivity content:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private GridLayout gridLayout;\r\n    private ImageAdapter imageAdapter;\r\n\r\n    private BoardLoader boardLoader;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        imageAdapter = new ImageAdapter();\r\n        boardLoader = new BoardLoader();\r\n\r\n\r\n        Controller control = new Controller();\r\n        control.imagesList(this);\r\n\r\n        int n = control.imagesList(this).get(0).getHeight();\r\n\r\n\r\n        gridLayout = findViewById(R.id.gridLayout);\r\n        gridLayout.setRowCount(n);\r\n        gridLayout.setColumnCount(n);\r\n\r\n        imageAdapter.createReferenceImage(this, gridLayout, control.imagesList(this).get(0));\r\n        boardLoader.createEmptyGrid(this, gridLayout, control.imagesList(this).get(0));\r\n        setGridListeners(gridLayout);\r\n    }\r\n\r\n    private void setGridListeners(GridLayout gridLayout) {\r\n\r\n        for (int i = 0; i &lt; gridLayout.getChildCount(); i++) {\r\n            View pixelView = gridLayout.getChildAt(i);\r\n            pixelView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Log.e(&quot;testing&quot;, &quot;hope it works&quot;);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f8i21.jpg","title":"Add click listeners to a multiple imageButtons inside a gridLayout - Android Studio","body":"<p>I'm building a app that have a grid of imageButtons inside of it, I'm setting it from a method, here's the code:</p>\n<pre><code>public class BoardLoader {\npublic void createEmptyGrid(Context context, GridLayout gridLayout, Image image) {\n    LayoutInflater inflater = LayoutInflater.from(context);\n    int counter = 0;\n    for (int i = 0; i &lt; image.getWidth(); i++) {\n        for (int j = 0; j &lt; image.getHeight(); j++) {\n            \n            View pixelView = inflater.inflate(R.layout.pixel_item_no_tint, gridLayout, false);\n\n            GridLayout.Spec rowSpec = GridLayout.spec(i);\n            GridLayout.Spec colSpec = GridLayout.spec(j);\n            GridLayout.LayoutParams params = new GridLayout.LayoutParams(rowSpec, colSpec);\n\n            pixelView.setId(counter);\n            counter++;\n\n            pixelView.setLayoutParams(params);\n            gridLayout.addView(pixelView);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>The grid is showing correctly, so the next step is to add event listener to all of the imageButtons, I don't want to do it one by one, instead using a method, this is the one that I think might work:</p>\n<pre><code>private void setGridListeners(GridLayout gridLayout) {\n\n    for (int i = 0; i &lt; gridLayout.getChildCount(); i++) {\n        View pixelView = gridLayout.getChildAt(i);\n        pixelView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Log.e(&quot;testing&quot;, &quot;hope it works&quot;);\n            }\n        });\n    }\n}\n</code></pre>\n<p>But when I see in Logcat is not showing the log, I try in many ways to achieve the goal, like use tags instead of id's, add the listeners inside the createEmptyGrid method, even try with another imageButton outside to verify that was not error of the method, etc... But none of them works</p>\n<p>Here's how it looks, the buttons show feedback so is not error of buttons not working or not receiving the click</p>\n<p><a href=\"https://i.stack.imgur.com/f8i21.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f8i21.jpg\" alt=\"error in grid\" /></a></p>\n<p>If someone figure out what's happening will help me so much</p>\n<p>Thanks in advance</p>\n<p>Steven</p>\n<p>UPDATE: Here's the mainActivity content:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate GridLayout gridLayout;\nprivate ImageAdapter imageAdapter;\n\nprivate BoardLoader boardLoader;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n\n    imageAdapter = new ImageAdapter();\n    boardLoader = new BoardLoader();\n\n\n    Controller control = new Controller();\n    control.imagesList(this);\n\n    int n = control.imagesList(this).get(0).getHeight();\n\n\n    gridLayout = findViewById(R.id.gridLayout);\n    gridLayout.setRowCount(n);\n    gridLayout.setColumnCount(n);\n\n    imageAdapter.createReferenceImage(this, gridLayout, control.imagesList(this).get(0));\n    boardLoader.createEmptyGrid(this, gridLayout, control.imagesList(this).get(0));\n    setGridListeners(gridLayout);\n}\n\nprivate void setGridListeners(GridLayout gridLayout) {\n\n    for (int i = 0; i &lt; gridLayout.getChildCount(); i++) {\n        View pixelView = gridLayout.getChildAt(i);\n        pixelView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Log.e(&quot;testing&quot;, &quot;hope it works&quot;);\n            }\n        });\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android"],"owner":{"account_id":16930912,"reputation":11,"user_id":12245216,"display_name":"jacob7140"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701992556,"creation_date":1701992556,"question_id":77623598,"body_markdown":"I have an Android Studio Java project that has a toolbar, Bottom Nav and I am trying to make a drawer. I want the drawer to be on the right side of the screen and I can&#39;t figure out what&#39;s wrong. It draws on the left side and then gives an error when I click it. \r\n\r\n```\r\nFATAL EXCEPTION: main                                                                                                    Process: com.example.myapp, PID: 7316                                                                                                    java.lang.IllegalArgumentException: No drawer view found with gravity RIGHT                                                                                                    \tat androidx.drawerlayout.widget.DrawerLayout.closeDrawer(DrawerLayout.java:1803)                                                                                                   \tat androidx.drawerlayout.widget.DrawerLayout.closeDrawer(DrawerLayout.java:1789)                                                                                                   \tat com.example.myapp.MainActivity.lambda$onCreate$0(MainActivity.java:65)                                                                                                   \tat com.example.myapp.MainActivity.$r8$lambda$hstk_Vs4CoATG7lbeBRzsxiUSIQ(Unknown Source:0)                                                                                                    \tat com.example.myapp.MainActivity$$ExternalSyntheticLambda0.onNavigationItemSelected(Unknown Source:2)                                                                                                \tat com.google.android.material.navigation.NavigationView$1.onMenuItemSelected(NavigationView.java:217)                                                                                                   \tat androidx.appcompat.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:834)                                                                                                 \tat androidx.appcompat.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:158)                                                                                                \tat androidx.appcompat.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:985)                                                                                                  \tat com.google.android.material.internal.NavigationMenuPresenter$1.onClick(NavigationMenuPresenter.java:416)                                                                                                  \tat android.view.View.performClick(View.java:7441)                                                                                                  \tat android.view.View.performClickInternal(View.java:7418)                                                                                                  \tat android.view.View.access$3700(View.java:835)                                                                                                   \tat android.view.View$PerformClick.run(View.java:28676)                                                                                                  \tat android.os.Handler.handleCallback(Handler.java:938)                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)                                                                                                   \tat android.os.Looper.loopOnce(Looper.java:201)                                                                                                    \tat android.os.Looper.loop(Looper.java:288)                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7839)                                                                                                 \tat java.lang.reflect.Method.invoke(Native Method)                                                                                                  \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)                                                                                                \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n```\r\n\r\n\r\nI have a menu in my menu folder that looks like this:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/hb_EditProfile&quot;\r\n        android:title=&quot;Edit Profile&quot; /&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/hb_password&quot;\r\n        android:title=&quot;Password &amp;amp; Security&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/hb_help&quot;\r\n        android:title=&quot;Help &amp;amp; Support&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/hb_logout&quot;\r\n        android:title=&quot;Log Out&quot; /&gt;\r\n    &lt;!-- Add more items as needed --&gt;\r\n&lt;/menu&gt;\r\n```\r\n\r\n\r\nI added it to my activity_main.xml like this:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;androidx.appcompat.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;#FFFFFF&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:logo=&quot;@drawable/logo&quot;\r\n            app:title=&quot; &quot; /&gt;\r\n\r\n\r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/fragment_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            android:background=&quot;#FFFFFF&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@id/bottom_navigation&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/toolbar&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottom_navigation&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:menu=&quot;@menu/menu_bottom_navigation&quot;&gt;\r\n        &lt;/com.google.android.material.bottomnavigation.BottomNavigationView&gt;\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;end&quot;\r\n        app:menu=&quot;@menu/drawer_menu&quot; /&gt;\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;```\r\n\r\nAnd I set up my MainActivity.java like this:\r\n\r\n\r\n```\r\n    private DrawerLayout drawer;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        bottomNavigationView = findViewById(R.id.bottom_navigation);\r\n        drawer = findViewById(R.id.drawer_layout);\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n        drawer.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        NavigationView navigationView = findViewById(R.id.nav_view);\r\n        navigationView.setNavigationItemSelectedListener(item -&gt; {\r\n            // Handle navigation view item clicks here\r\n            int id = item.getItemId();\r\n\r\n            // TODO: Implement your actions for each menu item\r\n            // ...\r\n\r\n            drawer.closeDrawer(GravityCompat.END);\r\n            return true;\r\n        });\r\n\r\n        //Code for bottom nav.. which does work. \r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (drawer.isDrawerOpen(GravityCompat.END)) {\r\n            drawer.closeDrawer(GravityCompat.END);\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n```\r\n\r\nAny help would be great! :)\r\n","title":"My drawer menu on Android Studio keeps drawing on the left side when I set Gravity to END","body":"<p>I have an Android Studio Java project that has a toolbar, Bottom Nav and I am trying to make a drawer. I want the drawer to be on the right side of the screen and I can't figure out what's wrong. It draws on the left side and then gives an error when I click it.</p>\n<pre><code>FATAL EXCEPTION: main                                                                                                    Process: com.example.myapp, PID: 7316                                                                                                    java.lang.IllegalArgumentException: No drawer view found with gravity RIGHT                                                                                                       at androidx.drawerlayout.widget.DrawerLayout.closeDrawer(DrawerLayout.java:1803)                                                                                                    at androidx.drawerlayout.widget.DrawerLayout.closeDrawer(DrawerLayout.java:1789)                                                                                                    at com.example.myapp.MainActivity.lambda$onCreate$0(MainActivity.java:65)                                                                                                       at com.example.myapp.MainActivity.$r8$lambda$hstk_Vs4CoATG7lbeBRzsxiUSIQ(Unknown Source:0)                                                                                                      at com.example.myapp.MainActivity$$ExternalSyntheticLambda0.onNavigationItemSelected(Unknown Source:2)                                                                                                  at com.google.android.material.navigation.NavigationView$1.onMenuItemSelected(NavigationView.java:217)                                                                                                      at androidx.appcompat.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:834)                                                                                                  at androidx.appcompat.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:158)                                                                                                  at androidx.appcompat.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:985)                                                                                                     at com.google.android.material.internal.NavigationMenuPresenter$1.onClick(NavigationMenuPresenter.java:416)                                                                                                     at android.view.View.performClick(View.java:7441)                                                                                                   at android.view.View.performClickInternal(View.java:7418)                                                                                                   at android.view.View.access$3700(View.java:835)                                                                                                     at android.view.View$PerformClick.run(View.java:28676)                                                                                                      at android.os.Handler.handleCallback(Handler.java:938)                                                                                                      at android.os.Handler.dispatchMessage(Handler.java:99)                                                                                                      at android.os.Looper.loopOnce(Looper.java:201)                                                                                                      at android.os.Looper.loop(Looper.java:288)                                                                                                      at android.app.ActivityThread.main(ActivityThread.java:7839)                                                                                                    at java.lang.reflect.Method.invoke(Native Method)                                                                                                   at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)                                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n</code></pre>\n<p>I have a menu in my menu folder that looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/hb_EditProfile&quot;\n        android:title=&quot;Edit Profile&quot; /&gt;\n\n    &lt;item\n        android:id=&quot;@+id/hb_password&quot;\n        android:title=&quot;Password &amp;amp; Security&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/hb_help&quot;\n        android:title=&quot;Help &amp;amp; Support&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/hb_logout&quot;\n        android:title=&quot;Log Out&quot; /&gt;\n    &lt;!-- Add more items as needed --&gt;\n&lt;/menu&gt;\n</code></pre>\n<p>I added it to my activity_main.xml like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            android:background=&quot;#FFFFFF&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:logo=&quot;@drawable/logo&quot;\n            app:title=&quot; &quot; /&gt;\n\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/fragment_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:background=&quot;#FFFFFF&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@id/bottom_navigation&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/toolbar&quot; /&gt;\n\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n            android:id=&quot;@+id/bottom_navigation&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@color/white&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:menu=&quot;@menu/menu_bottom_navigation&quot;&gt;\n        &lt;/com.google.android.material.bottomnavigation.BottomNavigationView&gt;\n\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;end&quot;\n        app:menu=&quot;@menu/drawer_menu&quot; /&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;```\n\nAnd I set up my MainActivity.java like this:\n\n\n</code></pre>\n<pre><code>private DrawerLayout drawer;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    Toolbar toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n\n    bottomNavigationView = findViewById(R.id.bottom_navigation);\n    drawer = findViewById(R.id.drawer_layout);\n\n    ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n            this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n    drawer.addDrawerListener(toggle);\n    toggle.syncState();\n\n    NavigationView navigationView = findViewById(R.id.nav_view);\n    navigationView.setNavigationItemSelectedListener(item -&gt; {\n        // Handle navigation view item clicks here\n        int id = item.getItemId();\n\n        // TODO: Implement your actions for each menu item\n        // ...\n\n        drawer.closeDrawer(GravityCompat.END);\n        return true;\n    });\n\n    //Code for bottom nav.. which does work. \n}\n\n@Override\npublic void onBackPressed() {\n    if (drawer.isDrawerOpen(GravityCompat.END)) {\n        drawer.closeDrawer(GravityCompat.END);\n    } else {\n        super.onBackPressed();\n    }\n}\n</code></pre>\n<pre><code>\nAny help would be great! :)\n</code></pre>\n"},{"tags":["java","selenium","scroll","click","webdriver"],"comments":[{"owner":{"account_id":1645567,"reputation":1391,"user_id":1517162,"display_name":"Prashant Shukla"},"score":0,"creation_date":1345457018,"post_id":12035023,"comment_id":16065439,"body_markdown":"What version of webdriver are you using? I know this has been an issue in earlier versions but its been resolved in later. Try using 2.25 if you are not.","body":"What version of webdriver are you using? I know this has been an issue in earlier versions but its been resolved in later. Try using 2.25 if you are not."},{"owner":{"account_id":236722,"reputation":1978,"user_id":504397,"display_name":"Aleh Douhi"},"score":1,"creation_date":1345457654,"post_id":12035023,"comment_id":16065677,"body_markdown":"Also do you have to scroll browser&#39;s scroll or some custom scroll for the list on the page?","body":"Also do you have to scroll browser&#39;s scroll or some custom scroll for the list on the page?"},{"owner":{"account_id":376029,"reputation":1682,"user_id":727226,"accept_rate":77,"display_name":"Stilltorik"},"score":0,"creation_date":1345464461,"post_id":12035023,"comment_id":16068170,"body_markdown":"I am using version 2.25 already. As for the scroll bar, there is only the browser&#39;s scroll in the page. But ideally, I don&#39;t want to be using any scrollbar.","body":"I am using version 2.25 already. As for the scroll bar, there is only the browser&#39;s scroll in the page. But ideally, I don&#39;t want to be using any scrollbar."},{"owner":{"account_id":789367,"reputation":1981,"user_id":863357,"accept_rate":58,"display_name":"Arek"},"score":0,"creation_date":1345469180,"post_id":12035023,"comment_id":16070196,"body_markdown":"Can you provide some source code of the webpage under test?","body":"Can you provide some source code of the webpage under test?"},{"owner":{"account_id":1492154,"reputation":4051,"user_id":1399008,"display_name":"JacekM"},"score":0,"creation_date":1345483049,"post_id":12035023,"comment_id":16076272,"body_markdown":"Are you getting an exception? Could you post it?","body":"Are you getting an exception? Could you post it?"},{"owner":{"account_id":376029,"reputation":1682,"user_id":727226,"accept_rate":77,"display_name":"Stilltorik"},"score":0,"creation_date":1345541174,"post_id":12035023,"comment_id":16092297,"body_markdown":"Edited my post to answer your questions Arek and JacekM.","body":"Edited my post to answer your questions Arek and JacekM."},{"owner":{"account_id":227011,"reputation":1825,"user_id":488413,"accept_rate":85,"display_name":"Pietro"},"score":0,"creation_date":1446393507,"post_id":12035023,"comment_id":54713856,"body_markdown":"Use PhantomJS instead of Firefox","body":"Use PhantomJS instead of Firefox"}],"answers":[{"tags":[],"owner":{"account_id":1492154,"reputation":4051,"user_id":1399008,"display_name":"JacekM"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1345483933,"creation_date":1345483933,"answer_id":12042268,"question_id":12035023,"body_markdown":"It is actually possible to scroll automatically to element. Although this is not a good solution in this case (there must be a way to get it working without scrolling) I will post it as a workaround. I hope someone will come up with better idea...\r\n\r\n    public void scrollAndClick(By by)\r\n    {\r\n       WebElement element = driver.findElement(by);\r\n       int elementPosition = element.getLocation().getY();\r\n       String js = String.format(&quot;window.scroll(0, %s)&quot;, elementPosition);\r\n       ((JavascriptExecutor)driver).executeScript(js);\r\n       element.click();\r\n    }","title":"Selenium webdriver can&#39;t click on a link outside the page","body":"<p>It is actually possible to scroll automatically to element. Although this is not a good solution in this case (there must be a way to get it working without scrolling) I will post it as a workaround. I hope someone will come up with better idea...</p>\n\n<pre><code>public void scrollAndClick(By by)\n{\n   WebElement element = driver.findElement(by);\n   int elementPosition = element.getLocation().getY();\n   String js = String.format(\"window.scroll(0, %s)\", elementPosition);\n   ((JavascriptExecutor)driver).executeScript(js);\n   element.click();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1577950,"reputation":2565,"user_id":1463958,"display_name":"Brian Gleeson - IBM"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1355411764,"creation_date":1355411764,"answer_id":13862836,"question_id":12035023,"body_markdown":"I ran into a similar problem recently when there was a list of selectable objects in a JS dialog. Sometimes selenium would not select the correct object in the list. So i found this javascript suggestion:\r\n\r\n    WebElement target = driver.findElement(By.id(&quot;myId&quot;));\r\n    ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, target);\r\n    Thread.sleep(500); //not sure why the sleep was needed, but it was needed or it wouldnt work :(\r\n    target.click();\r\n\r\nThat solved my issue","title":"Selenium webdriver can&#39;t click on a link outside the page","body":"<p>I ran into a similar problem recently when there was a list of selectable objects in a JS dialog. Sometimes selenium would not select the correct object in the list. So i found this javascript suggestion:</p>\n\n<pre><code>WebElement target = driver.findElement(By.id(\"myId\"));\n((JavascriptExecutor) driver).executeScript(\"arguments[0].scrollIntoView(true);\", target);\nThread.sleep(500); //not sure why the sleep was needed, but it was needed or it wouldnt work :(\ntarget.click();\n</code></pre>\n\n<p>That solved my issue</p>\n"},{"tags":[],"owner":{"account_id":2790413,"reputation":595,"user_id":2400756,"accept_rate":80,"display_name":"The Rookie"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1378459046,"creation_date":1378459046,"answer_id":18654211,"question_id":12035023,"body_markdown":"Hey you can use this for ruby\r\n\r\n    variable.element.location_once_scrolled_into_view\r\n\r\nStore the element to find in variable ","title":"Selenium webdriver can&#39;t click on a link outside the page","body":"<p>Hey you can use this for ruby</p>\n\n<pre><code>variable.element.location_once_scrolled_into_view\n</code></pre>\n\n<p>Store the element to find in variable </p>\n"},{"tags":[],"owner":{"account_id":3475559,"reputation":39,"user_id":2908858,"display_name":"rafaat123"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1382475150,"creation_date":1382475150,"answer_id":19528128,"question_id":12035023,"body_markdown":"This solution worked like a charm for me:\r\n\r\n    public void click(By by) throws Exception{\r\n    \tWebElement element = driver.findElement(by);\r\n    \t((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\r\n    \tThread.sleep(500);\r\n    \telement.click();\r\n    }","title":"Selenium webdriver can&#39;t click on a link outside the page","body":"<p>This solution worked like a charm for me:</p>\n\n<pre><code>public void click(By by) throws Exception{\n    WebElement element = driver.findElement(by);\n    ((JavascriptExecutor) driver).executeScript(\"arguments[0].scrollIntoView(true);\", element);\n    Thread.sleep(500);\n    element.click();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1507536,"reputation":321,"user_id":1410568,"display_name":"Bill Thayer"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1407762981,"creation_date":1407762981,"answer_id":25244201,"question_id":12035023,"body_markdown":"I posted this same answer in [another question][1] so this is just a copy and paste.\r\n\r\nI once had a combo box that wasn&#39;t in view that I needed to expand. What I did was use the Actions builder because the moveToElement() function will automatically scroll the object into view. Then it can be clicked on.\r\n\r\n\r\n    WebElement element = panel.findElement(By.className(&quot;tabComboBoxButton&quot;));\r\n    \r\n    Actions builder = new Actions(this.driver);\r\n    \r\n    builder.moveToElement(element);\r\n    builder.click();\r\n    builder.build().perform();\r\n\r\n(panel is simply a wrapped element in my POM)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12035023/selenium-webdriver-cant-click-on-a-link-outside-the-page?lq=1","title":"Selenium webdriver can&#39;t click on a link outside the page","body":"<p>I posted this same answer in <a href=\"https://stackoverflow.com/questions/12035023/selenium-webdriver-cant-click-on-a-link-outside-the-page?lq=1\">another question</a> so this is just a copy and paste.</p>\n\n<p>I once had a combo box that wasn't in view that I needed to expand. What I did was use the Actions builder because the moveToElement() function will automatically scroll the object into view. Then it can be clicked on.</p>\n\n<pre><code>WebElement element = panel.findElement(By.className(\"tabComboBoxButton\"));\n\nActions builder = new Actions(this.driver);\n\nbuilder.moveToElement(element);\nbuilder.click();\nbuilder.build().perform();\n</code></pre>\n\n<p>(panel is simply a wrapped element in my POM)</p>\n"},{"tags":[],"owner":{"account_id":6357978,"reputation":702,"user_id":4934536,"accept_rate":50,"display_name":"Kurt Ludikovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437465045,"creation_date":1437465045,"answer_id":31533223,"question_id":12035023,"body_markdown":"Just an addition:\r\nIn my case the button was overlapped by another floating button.\r\n\r\nJust resizing the browser window solved the problem!","title":"Selenium webdriver can&#39;t click on a link outside the page","body":"<p>Just an addition:\nIn my case the button was overlapped by another floating button.</p>\n\n<p>Just resizing the browser window solved the problem!</p>\n"},{"tags":[],"owner":{"account_id":8545484,"reputation":9,"user_id":6404172,"display_name":"BlueGunner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470666860,"creation_date":1470662342,"answer_id":38830292,"question_id":12035023,"body_markdown":"I used the method below to solve a similar issue for Selenium Java:\r\n\r\n\r\n    public static void scrollToElementByElement(WebElement element) {\r\n\r\n        Coordinates coordinates = ((Locatable)element).getCoordinates();\r\n        coordinates.inViewPort();\r\n        coordinates.click(); //if needed\r\n\r\n    }\r\n\r\nThen called on the method on my main test class","title":"Selenium webdriver can&#39;t click on a link outside the page","body":"<p>I used the method below to solve a similar issue for Selenium Java:</p>\n\n<pre><code>public static void scrollToElementByElement(WebElement element) {\n\n    Coordinates coordinates = ((Locatable)element).getCoordinates();\n    coordinates.inViewPort();\n    coordinates.click(); //if needed\n\n}\n</code></pre>\n\n<p>Then called on the method on my main test class</p>\n"},{"tags":[],"owner":{"account_id":9299469,"reputation":23,"user_id":6905428,"display_name":"NahkT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475248930,"creation_date":1475248930,"answer_id":39794932,"question_id":12035023,"body_markdown":"This works for me (in c#)-\r\n\r\n    item = driver.findelement(by.....);\r\n    item.SendKeys(Keys.LeftControl);\r\n    item.Click();","title":"Selenium webdriver can&#39;t click on a link outside the page","body":"<p>This works for me (in c#)-</p>\n\n<pre><code>item = driver.findelement(by.....);\nitem.SendKeys(Keys.LeftControl);\nitem.Click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4576003,"reputation":131,"user_id":3714427,"display_name":"David Garcia"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1475846263,"creation_date":1475846263,"answer_id":39918249,"question_id":12035023,"body_markdown":"Instead of move the scrollbar to the button position, which sometimes it didn&#39;t work for me, I send the enter key to the button\r\n\r\n    var element = driver.FindElement(By.Id(&quot;button&quot;));\r\n    element.SendKeys(Keys.Enter);","title":"Selenium webdriver can&#39;t click on a link outside the page","body":"<p>Instead of move the scrollbar to the button position, which sometimes it didn't work for me, I send the enter key to the button</p>\n\n<pre><code>var element = driver.FindElement(By.Id(\"button\"));\nelement.SendKeys(Keys.Enter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2689469,"reputation":3158,"user_id":2323097,"accept_rate":70,"display_name":"yuva"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495557200,"creation_date":1495557200,"answer_id":44140426,"question_id":12035023,"body_markdown":"It might be occurring because your header element or the footer element might be blocking the view of the element you want to perform action on. Selenium tries to scroll to the element position when it has to perform some action on the element (I am using Selenium WebDriver v3.4.0). \r\n\r\nHere is a workaround - \r\n\r\n    private WebElement scrollToElementByOffset(WebElement element, int offset) {\r\n        JavascriptExecutor jse = (JavascriptExecutor) driver;\r\n        jse.executeScript(&quot;window.scrollTo(&quot; + element.getLocation().getX() + &quot;,&quot; + (element.getLocation().getY()\r\n                + offset) + &quot;);&quot;);\r\n\r\n        return element;\r\n    }\r\n\r\nThe above function scrolls the view to the element and then scrolls further by the offset you provide. And you can call this method by doing something like - \r\n\r\n    WebElement webElement = driver.findElement(By.id(&quot;element1&quot;));\r\n    scrollToElementByOffset(webElement, -200).click();\r\n\r\nNow, this is just a workaround. I gladly welcome better solutions to this issue. ","title":"Selenium webdriver can&#39;t click on a link outside the page","body":"<p>It might be occurring because your header element or the footer element might be blocking the view of the element you want to perform action on. Selenium tries to scroll to the element position when it has to perform some action on the element (I am using Selenium WebDriver v3.4.0). </p>\n\n<p>Here is a workaround - </p>\n\n<pre><code>private WebElement scrollToElementByOffset(WebElement element, int offset) {\n    JavascriptExecutor jse = (JavascriptExecutor) driver;\n    jse.executeScript(\"window.scrollTo(\" + element.getLocation().getX() + \",\" + (element.getLocation().getY()\n            + offset) + \");\");\n\n    return element;\n}\n</code></pre>\n\n<p>The above function scrolls the view to the element and then scrolls further by the offset you provide. And you can call this method by doing something like - </p>\n\n<pre><code>WebElement webElement = driver.findElement(By.id(\"element1\"));\nscrollToElementByOffset(webElement, -200).click();\n</code></pre>\n\n<p>Now, this is just a workaround. I gladly welcome better solutions to this issue. </p>\n"},{"tags":[],"owner":{"account_id":22209697,"reputation":1,"user_id":16449111,"display_name":"Wanza Kilulu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626281054,"creation_date":1626281054,"answer_id":68382070,"question_id":12035023,"body_markdown":"I have used below method to solve the problem of element not present in the visible area. The code scrolls down the webpage, till selenium operations can be performed on the element. Change the co ordinate of Y-axis and value of i as per requirement.\r\n\r\n    public void scrooling(By ele) throws InterruptedException {\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                try {\r\n                    driver.findElement(ele);\r\n                    break;\r\n                } catch (ElementNotVisibleException e) {\r\n                    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n                    js.executeScript(&quot;window.scrollBy(0,400)&quot;);\r\n                    System.out.println(&quot;inside ElementNotVisibleException block&quot;);\r\n                    Thread.sleep(3000);\r\n                } catch (NoSuchElementException e) {\r\n                    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n                    js.executeScript(&quot;window.scrollBy(0,400)&quot;);\r\n                    System.out.println(&quot;inside NoSuchElementException block&quot;);\r\n                    Thread.sleep(3000);\r\n                }\r\n    \r\n            }\r\n    \r\n    \r\n        } ","title":"Selenium webdriver can&#39;t click on a link outside the page","body":"<p>I have used below method to solve the problem of element not present in the visible area. The code scrolls down the webpage, till selenium operations can be performed on the element. Change the co ordinate of Y-axis and value of i as per requirement.</p>\n<pre><code>public void scrooling(By ele) throws InterruptedException {\n        for (int i = 0; i &lt; 10; i++) {\n            try {\n                driver.findElement(ele);\n                break;\n            } catch (ElementNotVisibleException e) {\n                JavascriptExecutor js = (JavascriptExecutor) driver;\n                js.executeScript(&quot;window.scrollBy(0,400)&quot;);\n                System.out.println(&quot;inside ElementNotVisibleException block&quot;);\n                Thread.sleep(3000);\n            } catch (NoSuchElementException e) {\n                JavascriptExecutor js = (JavascriptExecutor) driver;\n                js.executeScript(&quot;window.scrollBy(0,400)&quot;);\n                System.out.println(&quot;inside NoSuchElementException block&quot;);\n                Thread.sleep(3000);\n            }\n\n        }\n\n\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":18824119,"reputation":57,"user_id":13729454,"display_name":"Marco R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701991575,"creation_date":1701991575,"answer_id":77623553,"question_id":12035023,"body_markdown":"I don&#39;t know the Java equivalent, but the easiest way I could solve the issue of &quot;click a link outside the page&quot; is with the use of the `location_once_scrolled_into_view` property of WebElements.\r\n&gt;THIS PROPERTY MAY CHANGE WITHOUT WARNING. Use this to discover where on the screen an element is so that we can click it. This method should cause the element to be scrolled into view.\r\n&gt;Returns the top lefthand corner location on the screen, or zero coordinates if the element is not visible.\r\n\r\nIt would return the coordinates if you need them, but also it will automatically scroll down the page to show the element.\r\n\r\nEX:\r\n```Python\r\nelement = driver.find_element(By.XPATH, &#39;//b[text()=&quot;Next&quot;]&#39;)\r\nelement.location_once_scrolled_into_view\r\nelement.click()\r\n```\r\n\r\nI was using Python3.11, Selenium 4.","title":"Selenium webdriver can&#39;t click on a link outside the page","body":"<p>I don't know the Java equivalent, but the easiest way I could solve the issue of &quot;click a link outside the page&quot; is with the use of the <code>location_once_scrolled_into_view</code> property of WebElements.</p>\n<blockquote>\n<p>THIS PROPERTY MAY CHANGE WITHOUT WARNING. Use this to discover where on the screen an element is so that we can click it. This method should cause the element to be scrolled into view.\nReturns the top lefthand corner location on the screen, or zero coordinates if the element is not visible.</p>\n</blockquote>\n<p>It would return the coordinates if you need them, but also it will automatically scroll down the page to show the element.</p>\n<p>EX:</p>\n<pre><code>element = driver.find_element(By.XPATH, '//b[text()=&quot;Next&quot;]')\nelement.location_once_scrolled_into_view\nelement.click()\n</code></pre>\n<p>I was using Python3.11, Selenium 4.</p>\n"}],"owner":{"account_id":376029,"reputation":1682,"user_id":727226,"accept_rate":77,"display_name":"Stilltorik"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42577,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":12042268,"answer_count":12,"score":32,"last_activity_date":1701991575,"creation_date":1345454163,"question_id":12035023,"body_markdown":"I am having an issue with Selenium WebDriver. I try to click on a link that is outside the window page (you&#39;d need to scroll up to see it). My current code is fairly standard: \r\n\r\n    menuItem = driver.findElement(By.id(&quot;MTP&quot;));\r\n    menuItem.click();\r\n    // I also tried menuItem.sendKeys(Keys.RETURN);\r\n\r\nI know I could scroll up, and it would work in this case. But in a case where you have a long list of items, you don&#39;t necessarily know how far you have to scroll down. \r\n\r\nIs there any way to click on a link that is not on the visible part of the page (but that would be visible if you scroll)?\r\n\r\nAs a side note, I&#39;m using Firefox, but I am planning to use IE7/8/9 and Chrome as well.\r\n\r\nAny help would be greatly appreciated.\r\n\r\nEdit: I&#39;m afraid I can&#39;t give the source code, as the company I work for doesn&#39;t allow it, but I can give the code of the link I want to click on:\r\n\r\n    &lt;div class=&quot;submenu&quot;&gt;\r\n      &lt;div id=&quot;MTP&quot;&gt;Link title&lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nThe exact same code works when the link is visible, only when it is not does it not work.\r\n\r\nEdit2: Actually, oddly enough, it doesn&#39;t raise any exception and just goes to the next instruction. So basically, what happens is:\r\n\r\n    menuItem = driver.findElement(By.id(&quot;MTP&quot;)); // no exception\r\n    menuItem.click();  // no exception\r\n    //... some code ensuring we got to the next page: timeout reached\r\n    driver.findElement(By.id(&quot;smLH&quot;)).click(); // NoSuchElementException, as we&#39;re on the wrong page.\r\n","title":"Selenium webdriver can&#39;t click on a link outside the page","body":"<p>I am having an issue with Selenium WebDriver. I try to click on a link that is outside the window page (you'd need to scroll up to see it). My current code is fairly standard: </p>\n\n<pre><code>menuItem = driver.findElement(By.id(\"MTP\"));\nmenuItem.click();\n// I also tried menuItem.sendKeys(Keys.RETURN);\n</code></pre>\n\n<p>I know I could scroll up, and it would work in this case. But in a case where you have a long list of items, you don't necessarily know how far you have to scroll down. </p>\n\n<p>Is there any way to click on a link that is not on the visible part of the page (but that would be visible if you scroll)?</p>\n\n<p>As a side note, I'm using Firefox, but I am planning to use IE7/8/9 and Chrome as well.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>Edit: I'm afraid I can't give the source code, as the company I work for doesn't allow it, but I can give the code of the link I want to click on:</p>\n\n<pre><code>&lt;div class=\"submenu\"&gt;\n  &lt;div id=\"MTP\"&gt;Link title&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The exact same code works when the link is visible, only when it is not does it not work.</p>\n\n<p>Edit2: Actually, oddly enough, it doesn't raise any exception and just goes to the next instruction. So basically, what happens is:</p>\n\n<pre><code>menuItem = driver.findElement(By.id(\"MTP\")); // no exception\nmenuItem.click();  // no exception\n//... some code ensuring we got to the next page: timeout reached\ndriver.findElement(By.id(\"smLH\")).click(); // NoSuchElementException, as we're on the wrong page.\n</code></pre>\n"},{"tags":["java","algorithm","sorting","mergesort"],"comments":[{"owner":{"account_id":218314,"reputation":5220,"user_id":474569,"accept_rate":60,"display_name":"Mzf"},"score":0,"creation_date":1390129925,"post_id":21215893,"comment_id":31952017,"body_markdown":"could give an example when it&#39;s not working well","body":"could give an example when it&#39;s not working well"},{"owner":{"account_id":2343842,"reputation":548,"user_id":2054593,"display_name":"Horizon"},"score":0,"creation_date":1390132873,"post_id":21215893,"comment_id":31952811,"body_markdown":"It is hard to guess (and decipher from the program code) what you are trying to do.  If you can provide what you are trying to achieve, what inputs were correctly sorted (if that&#39;s what you meant by &#39;correct output&#39;) and what inputs are not correctly output?","body":"It is hard to guess (and decipher from the program code) what you are trying to do.  If you can provide what you are trying to achieve, what inputs were correctly sorted (if that&#39;s what you meant by &#39;correct output&#39;) and what inputs are not correctly output?"},{"owner":{"account_id":3825659,"reputation":528,"user_id":3172529,"accept_rate":19,"display_name":"user123"},"score":0,"creation_date":1390136193,"post_id":21215893,"comment_id":31953775,"body_markdown":"@Horizon see the edits","body":"@Horizon see the edits"},{"owner":{"account_id":2259801,"reputation":12607,"user_id":1990169,"accept_rate":75,"display_name":"Abhishek Bansal"},"score":0,"creation_date":1390138901,"post_id":21215893,"comment_id":31954643,"body_markdown":"Please show some sample input and right/wrong output","body":"Please show some sample input and right/wrong output"},{"owner":{"account_id":3825659,"reputation":528,"user_id":3172529,"accept_rate":19,"display_name":"user123"},"score":0,"creation_date":1390139136,"post_id":21215893,"comment_id":31954726,"body_markdown":"@AbhishekBansal check edits","body":"@AbhishekBansal check edits"},{"owner":{"account_id":2259801,"reputation":12607,"user_id":1990169,"accept_rate":75,"display_name":"Abhishek Bansal"},"score":0,"creation_date":1390142524,"post_id":21215893,"comment_id":31955871,"body_markdown":"@user3172529 I meant your input/output test cases for which your code fails.","body":"@user3172529 I meant your input/output test cases for which your code fails."},{"owner":{"account_id":3825659,"reputation":528,"user_id":3172529,"accept_rate":19,"display_name":"user123"},"score":0,"creation_date":1390147713,"post_id":21215893,"comment_id":31957822,"body_markdown":"@AbhishekBansal I tried every possible case on my machine and for no case it fails but when I upload it to submission then it fails and for that I don&#39;t have test cases apparently there is some bug in this.","body":"@AbhishekBansal I tried every possible case on my machine and for no case it fails but when I upload it to submission then it fails and for that I don&#39;t have test cases apparently there is some bug in this."},{"owner":{"account_id":4991025,"reputation":15641,"user_id":4013258,"display_name":"Surt"},"score":0,"creation_date":1627593696,"post_id":21215893,"comment_id":121205127,"body_markdown":"Variant of alien alphabet?","body":"Variant of alien alphabet?"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701993172,"post_id":21215893,"comment_id":136846562,"body_markdown":"Hint: there is no need write your own merge-sort code.  Unless your teacher *specifically told you not to*, you should use one of Java SE&#39;s built-in `sort` methods and implement the special ordering semantics via a custom `Comparator`.   The more code that you write, the more you need to test / write test cases for, and the more opportunities you have for introducing bugs.   (In the *real world*, coders who gratuitously reimplement standard functionality are just making work for themselves and their co-workers.  A better strategy is to read / search the Java SE javadocs *first*.)","body":"Hint: there is no need write your own merge-sort code.  Unless your teacher <i>specifically told you not to</i>, you should use one of Java SE&#39;s built-in <code>sort</code> methods and implement the special ordering semantics via a custom <code>Comparator</code>.   The more code that you write, the more you need to test / write test cases for, and the more opportunities you have for introducing bugs.   (In the <i>real world</i>, coders who gratuitously reimplement standard functionality are just making work for themselves and their co-workers.  A better strategy is to read / search the Java SE javadocs <i>first</i>.)"}],"answers":[{"tags":[],"owner":{"account_id":3411256,"reputation":3476,"user_id":2861108,"display_name":"MjZac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390567521,"creation_date":1390567521,"answer_id":21333098,"question_id":21215893,"body_markdown":"This should work for any given permutation. Why use custom sort function (unless you have to sort custom class objects) when java provide you inbuilt one?\r\n  \r\n\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.util.Arrays;\r\n    import java.util.ArrayList;\r\n\r\n    class TestClass {\r\n        public static ArrayList&lt;String&gt; res;\r\n        static void sort(String dictionary, String[] words, int count){\r\n            String eng = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n            String[] tempArray = new String[count];\r\n            String temp=&quot;&quot;;\r\n            char ch;\r\n            int index, m=0;\r\n            for(String x : words){\r\n                temp = &quot;&quot;;\r\n                for(int l =0 ;l&lt;x.length(); l++){\r\n                    ch = x.charAt(l);\r\n                    index = dictionary.indexOf(ch);\r\n                    temp = temp + eng.charAt(index);\r\n                }\r\n                tempArray[m] = temp;\r\n                m++;\r\n            }\r\n            \r\n            Arrays.sort(tempArray);\r\n            for(String x : tempArray){\r\n                temp = &quot;&quot;;\r\n                for(int l =0 ;l&lt;x.length(); l++){\r\n                    ch = x.charAt(l);\r\n                    index = eng.indexOf(ch);\r\n                    temp = temp + dictionary.charAt(index);\r\n                }\r\n                res.add(temp);\r\n            \r\n            }\r\n        }\r\n        public static void main(String args[] ) throws Exception {\r\n            res = new ArrayList&lt;String&gt;();\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            String line = br.readLine();\r\n            int N = Integer.parseInt(line);\r\n            int count;\r\n            String [] words;\r\n            String dictionary;\r\n            for (int i = 0; i &lt; N; i++) {\r\n                dictionary = br.readLine();\r\n                count = Integer.parseInt(br.readLine());\r\n                words = new String[count];\r\n                for(int j =0; j&lt;count; j++){\r\n                    words[j] = br.readLine();\r\n                }\r\n                sort(dictionary,words,count);\r\n            }\r\n            for(String x : res)\r\n            System.out.println(x);\r\n        }\r\n    }\r\n\r\n\r\nI guess this is some sort of algorithmic challenge. is it? :)","title":"Sorting strings in custom lexicographic order","body":"<p>This should work for any given permutation. Why use custom sort function (unless you have to sort custom class objects) when java provide you inbuilt one?</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\nimport java.util.ArrayList;\n\nclass TestClass {\n    public static ArrayList&lt;String&gt; res;\n    static void sort(String dictionary, String[] words, int count){\n        String eng = \"abcdefghijklmnopqrstuvwxyz\";\n        String[] tempArray = new String[count];\n        String temp=\"\";\n        char ch;\n        int index, m=0;\n        for(String x : words){\n            temp = \"\";\n            for(int l =0 ;l&lt;x.length(); l++){\n                ch = x.charAt(l);\n                index = dictionary.indexOf(ch);\n                temp = temp + eng.charAt(index);\n            }\n            tempArray[m] = temp;\n            m++;\n        }\n\n        Arrays.sort(tempArray);\n        for(String x : tempArray){\n            temp = \"\";\n            for(int l =0 ;l&lt;x.length(); l++){\n                ch = x.charAt(l);\n                index = eng.indexOf(ch);\n                temp = temp + dictionary.charAt(index);\n            }\n            res.add(temp);\n\n        }\n    }\n    public static void main(String args[] ) throws Exception {\n        res = new ArrayList&lt;String&gt;();\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        String line = br.readLine();\n        int N = Integer.parseInt(line);\n        int count;\n        String [] words;\n        String dictionary;\n        for (int i = 0; i &lt; N; i++) {\n            dictionary = br.readLine();\n            count = Integer.parseInt(br.readLine());\n            words = new String[count];\n            for(int j =0; j&lt;count; j++){\n                words[j] = br.readLine();\n            }\n            sort(dictionary,words,count);\n        }\n        for(String x : res)\n        System.out.println(x);\n    }\n}\n</code></pre>\n\n<p>I guess this is some sort of algorithmic challenge. is it? :)</p>\n"},{"tags":[],"owner":{"account_id":5823909,"reputation":136941,"user_id":4593267,"accept_rate":62,"display_name":"chqrlie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699380182,"creation_date":1638714919,"answer_id":70235368,"question_id":21215893,"body_markdown":"The string comparison function is incorrect: you only compare on the shortest length, returning `0` for `A` and `AB`.  When a string is a prefix of the other, you should compare the lengths.\r\n\r\nThe character comparison function is unnecessarily complicated and considers all characters outside of `index` to be identical to the first letter in `index`. You should only reorder lowercase letters according to the `index` string.\r\n\r\n```\r\n    private static int compare(String leftString, String rightString) {\r\n        // return -1 if left string is less than right string else left string is greater than right string return 1\r\n\r\n        int len1 = leftString.length();\r\n        int len2 = rightString.length();\r\n        int min = Math.min(len1, len2);\r\n        for (int i = 0; i &lt; min; i++) {\r\n            int cmp = compareChar(leftString.charAt(i), rightString.charAt(i));\r\n            if (cmp != 0) {\r\n                return cmp;\r\n            }\r\n        }\r\n        return len1 == len2 ? 0 : (len1 &lt; len2 ? -1 : 1);\r\n    } \r\n\r\n    /* lexicographical comparison with custom order for lowercase letters */\r\n    private static int compareChar(char x, char y) {\r\n        if (x == y)\r\n            return 0;\r\n        int indexofx = index.indexOf(x);\r\n        int indexofy = index.indexOf(y);\r\n        if (indexofx &gt;= 0) {\r\n            x = (char)(&#39;a&#39; + indexofx);\r\n        }\r\n        if (indexofy &gt;= 0) {\r\n            y = (char)(&#39;a&#39; + indexofy);\r\n        }\r\n        // if index is a permutation of the lowercase letters,\r\n        // we can assume x != y \r\n        return x &lt; y ? -1 : 1;\r\n    }\r\n}\r\n```","title":"Sorting strings in custom lexicographic order","body":"<p>The string comparison function is incorrect: you only compare on the shortest length, returning <code>0</code> for <code>A</code> and <code>AB</code>.  When a string is a prefix of the other, you should compare the lengths.</p>\n<p>The character comparison function is unnecessarily complicated and considers all characters outside of <code>index</code> to be identical to the first letter in <code>index</code>. You should only reorder lowercase letters according to the <code>index</code> string.</p>\n<pre><code>    private static int compare(String leftString, String rightString) {\n        // return -1 if left string is less than right string else left string is greater than right string return 1\n\n        int len1 = leftString.length();\n        int len2 = rightString.length();\n        int min = Math.min(len1, len2);\n        for (int i = 0; i &lt; min; i++) {\n            int cmp = compareChar(leftString.charAt(i), rightString.charAt(i));\n            if (cmp != 0) {\n                return cmp;\n            }\n        }\n        return len1 == len2 ? 0 : (len1 &lt; len2 ? -1 : 1);\n    } \n\n    /* lexicographical comparison with custom order for lowercase letters */\n    private static int compareChar(char x, char y) {\n        if (x == y)\n            return 0;\n        int indexofx = index.indexOf(x);\n        int indexofy = index.indexOf(y);\n        if (indexofx &gt;= 0) {\n            x = (char)('a' + indexofx);\n        }\n        if (indexofy &gt;= 0) {\n            y = (char)('a' + indexofy);\n        }\n        // if index is a permutation of the lowercase letters,\n        // we can assume x != y \n        return x &lt; y ? -1 : 1;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3825659,"reputation":528,"user_id":3172529,"accept_rate":19,"display_name":"user123"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8240,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1701990080,"creation_date":1390129493,"question_id":21215893,"body_markdown":"Sorting string array according to lexicographic order with a custom ordering (a permutation of `abcdefghijklmnopqrstuvwxyz`). This is the code:\r\n\r\n    /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     *\r\n     * @author sabertooth\r\n     */\r\n    public class SortString {\r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        private static char[] index;\r\n        private static BufferedReader br;\r\n        \r\n        public static void main(String[] args) throws Exception {\r\n            // TODO code application logic here\r\n            br = new BufferedReader(new InputStreamReader(System.in));\r\n            int testCases = Integer.parseInt(br.readLine());\r\n           \r\n            for (int i = 0; i &lt; testCases; i++) {\r\n                String dictionary = br.readLine();\r\n                \r\n                index = new char[dictionary.length()];\r\n                index = dictionary.toCharArray();\r\n                \r\n                int set = Integer.parseInt(br.readLine());\r\n                \r\n                String[] unsortedInput = new String[set];\r\n                String[] sortedInput = new String[set];\r\n                for (int j = 0; j &lt; set; j++) {\r\n                    unsortedInput[j] = br.readLine();\r\n                }\r\n               \r\n                if (unsortedInput.length &lt;= 1) {\r\n                    System.out.println(unsortedInput[0]);\r\n                } else {\r\n                    // merge sort on this array\r\n                    sortedInput = mergeSort(unsortedInput);\r\n                    for (int k = 0; k &lt; sortedInput.length; k++) {\r\n                        System.out.println(sortedInput[k]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        private static String[] mergeSort(String[] unsortedInput) {\r\n            if (unsortedInput.length &lt;= 1) {\r\n                return unsortedInput;\r\n            }\r\n            \r\n            String[] left;\r\n            String[] right;\r\n            int middle = unsortedInput.length / 2;\r\n            if (unsortedInput.length % 2 == 0) {\r\n                left = new String[middle];\r\n                right = new String[middle];\r\n            } else {\r\n                left = new String[middle];\r\n                right = new String[middle + 1];\r\n            }\r\n            System.arraycopy(unsortedInput, 0, left, 0, middle);\r\n            System.arraycopy(unsortedInput, middle, right, 0, unsortedInput.length - middle);\r\n            \r\n            left = mergeSort(left);\r\n            right = mergeSort(right);\r\n            return merge(left, right);\r\n        }\r\n        \r\n        private static String[] merge(String[] left, String[] right){\r\n            List&lt;String&gt; leftList = new ArrayList&lt;String&gt;();\r\n            List&lt;String&gt; rightList = new ArrayList&lt;String&gt;();\r\n            List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n            \r\n            leftList.addAll(Arrays.asList(left));\r\n            rightList.addAll(Arrays.asList(right));\r\n            \r\n            while (leftList.size() &gt; 0 || rightList.size() &gt; 0) {\r\n                 if (leftList.size() &gt; 0 &amp;&amp; rightList.size() &gt; 0) {\r\n                    // my own comparison\r\n                    if (compare(leftList.get(0), rightList.get(0)) == -1) {\r\n                        // leftString is less than right string\r\n                        result.add(leftList.get(0));\r\n                        leftList = leftList.subList(1, leftList.size());\r\n                    } else\r\n                    if (compare(leftList.get(0), rightList.get(0)) == 1) {\r\n                        //left string is greater than right string\r\n                        result.add(rightList.get(0));\r\n                        rightList = rightList.subList(1, rightList.size());\r\n                    } else\r\n                    if (compare(leftList.get(0), rightList.get(0)) == 0) {\r\n                        // leftString is equal to right string\r\n                        result.add(leftList.get(0));\r\n                        leftList = leftList.subList(1, leftList.size());\r\n                    }\r\n                } else\r\n                if (leftList.size() &gt; 0) {\r\n                    for (int i = 0; i &lt; leftList.size(); i++) {\r\n                        result.add(leftList.get(i));\r\n                    }\r\n                    leftList.clear();\r\n                } else\r\n                if (rightList.size() &gt; 0) {\r\n                    for (int i = 0; i &lt; rightList.size(); i++) {\r\n                        result.add(rightList.get(i));\r\n                    }\r\n                    rightList.clear();\r\n                }\r\n            }\r\n            String[] sortedInput = new String[result.size()];\r\n            for (int i = 0; i &lt; result.size(); i++) {\r\n                sortedInput[i] = result.get(i);\r\n            }\r\n            return sortedInput;\r\n        }\r\n        \r\n        private static int compare(String leftString, String rightString) {\r\n            // return -1 if left string is less than right string else left string is greater than right string return 1\r\n            \r\n            int min = Math.min(leftString.length(), rightString.length());\r\n            int response = 0;\r\n            for (int i = 0; i &lt; min; i++) {\r\n                if (compareChar(leftString.charAt(i), rightString.charAt(i)) == -1) {\r\n                    response = -1;\r\n                    break;\r\n                } else\r\n                if (compareChar(leftString.charAt(i), rightString.charAt(i)) == 1) {\r\n                    response = 1;\r\n                    break;\r\n                } else\r\n                if (compareChar(leftString.charAt(i), rightString.charAt(i)) == 0) {\r\n                    response = 0;\r\n                    \r\n                }\r\n            }\r\n            return response;\r\n        }\r\n        \r\n        private static int compareChar(char x, char y) {\r\n            // returns true if x &lt; y\r\n            int indexofx = 0;\r\n            int indexofy = 0;\r\n            int response = 0;\r\n            for (int i = 0; i &lt; index.length; i++) {\r\n                if (index[i] == x) {\r\n                    indexofx = i;\r\n                }\r\n                if (index[i] == y) {\r\n                    indexofy = i;\r\n                }\r\n            }\r\n            if (indexofx &lt; indexofy) {\r\n                response = -1;\r\n            } else\r\n            if (indexofx &gt; indexofy) {\r\n                response = 1;\r\n            } else\r\n            if (indexofx == indexofy) {\r\n                response = 0;\r\n            }\r\n            return response;\r\n        }\r\n    }\r\n\r\nThe problem is when I run this for some of the inputs the output is correct and for other the output is not correct. I have been debugging it but not able to find the bug.\r\n\r\n**EDITS**:\r\n\r\n&gt; Adriana was playing with the English alphabet. When she was done playing with the alphabet, she realised that she had jumbled up the positions of the letters. Now, given a set of words, she wondered what would be the dictionary ordering of these words based on the new alphabet ordering which she made.\r\n\r\n&gt; In other words, given a permutation of the English alphabet, E and a set of words S, you need to output the lexicographical ordering of the words in the set S based on the new alphabet, E.\r\n    \r\n&gt; Input:\r\n    \r\n&gt; The first line will contain a single integer, T, denoting the number of test cases. T lines follow.\r\n\r\n&gt; For each test case: \r\n\r\n&gt; The first line will contain a string, E, the new alphabet ordering, which will be a permutation of `abcdefghijklmnopqrstuvwxyz`\r\n\r\n&gt; The next line will contain a single integer M, the size of the set S. S lines follow, each containing a single word, containing lowercase latin characters.\r\n    \r\n&gt; Output: for each test case, output S lines, each line containing one word from the set S, ordered lexicographically.\r\n    \r\n&gt; Constraints\r\n    \r\n&gt;     1 &lt;= T &lt;= 1000 \r\n    1 &lt;= M &lt;= 100 \r\n    1 &lt;= |W| &lt;= 50\r\n\r\n&gt; Sample Input:\r\n\r\n&gt;     2\r\n    abcdefghijklmnopqrstuvwxyz\r\n    2\r\n    aa\r\n    bb\r\n    bacdefghijklmnopqrstuvwxyz\r\n    2\r\n    aa\r\n    bb\r\n\r\n&gt; Sample Output:\r\n\r\n&gt;     aa\r\n    bb\r\n    bb\r\n    aa","title":"Sorting strings in custom lexicographic order","body":"<p>Sorting string array according to lexicographic order with a custom ordering (a permutation of <code>abcdefghijklmnopqrstuvwxyz</code>). This is the code:</p>\n\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\n/**\n *\n * @author sabertooth\n */\npublic class SortString {\n    /**\n     * @param args the command line arguments\n     */\n    private static char[] index;\n    private static BufferedReader br;\n\n    public static void main(String[] args) throws Exception {\n        // TODO code application logic here\n        br = new BufferedReader(new InputStreamReader(System.in));\n        int testCases = Integer.parseInt(br.readLine());\n\n        for (int i = 0; i &lt; testCases; i++) {\n            String dictionary = br.readLine();\n\n            index = new char[dictionary.length()];\n            index = dictionary.toCharArray();\n\n            int set = Integer.parseInt(br.readLine());\n\n            String[] unsortedInput = new String[set];\n            String[] sortedInput = new String[set];\n            for (int j = 0; j &lt; set; j++) {\n                unsortedInput[j] = br.readLine();\n            }\n\n            if (unsortedInput.length &lt;= 1) {\n                System.out.println(unsortedInput[0]);\n            } else {\n                // merge sort on this array\n                sortedInput = mergeSort(unsortedInput);\n                for (int k = 0; k &lt; sortedInput.length; k++) {\n                    System.out.println(sortedInput[k]);\n                }\n            }\n        }\n    }\n\n    private static String[] mergeSort(String[] unsortedInput) {\n        if (unsortedInput.length &lt;= 1) {\n            return unsortedInput;\n        }\n\n        String[] left;\n        String[] right;\n        int middle = unsortedInput.length / 2;\n        if (unsortedInput.length % 2 == 0) {\n            left = new String[middle];\n            right = new String[middle];\n        } else {\n            left = new String[middle];\n            right = new String[middle + 1];\n        }\n        System.arraycopy(unsortedInput, 0, left, 0, middle);\n        System.arraycopy(unsortedInput, middle, right, 0, unsortedInput.length - middle);\n\n        left = mergeSort(left);\n        right = mergeSort(right);\n        return merge(left, right);\n    }\n\n    private static String[] merge(String[] left, String[] right){\n        List&lt;String&gt; leftList = new ArrayList&lt;String&gt;();\n        List&lt;String&gt; rightList = new ArrayList&lt;String&gt;();\n        List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n\n        leftList.addAll(Arrays.asList(left));\n        rightList.addAll(Arrays.asList(right));\n\n        while (leftList.size() &gt; 0 || rightList.size() &gt; 0) {\n             if (leftList.size() &gt; 0 &amp;&amp; rightList.size() &gt; 0) {\n                // my own comparison\n                if (compare(leftList.get(0), rightList.get(0)) == -1) {\n                    // leftString is less than right string\n                    result.add(leftList.get(0));\n                    leftList = leftList.subList(1, leftList.size());\n                } else\n                if (compare(leftList.get(0), rightList.get(0)) == 1) {\n                    //left string is greater than right string\n                    result.add(rightList.get(0));\n                    rightList = rightList.subList(1, rightList.size());\n                } else\n                if (compare(leftList.get(0), rightList.get(0)) == 0) {\n                    // leftString is equal to right string\n                    result.add(leftList.get(0));\n                    leftList = leftList.subList(1, leftList.size());\n                }\n            } else\n            if (leftList.size() &gt; 0) {\n                for (int i = 0; i &lt; leftList.size(); i++) {\n                    result.add(leftList.get(i));\n                }\n                leftList.clear();\n            } else\n            if (rightList.size() &gt; 0) {\n                for (int i = 0; i &lt; rightList.size(); i++) {\n                    result.add(rightList.get(i));\n                }\n                rightList.clear();\n            }\n        }\n        String[] sortedInput = new String[result.size()];\n        for (int i = 0; i &lt; result.size(); i++) {\n            sortedInput[i] = result.get(i);\n        }\n        return sortedInput;\n    }\n\n    private static int compare(String leftString, String rightString) {\n        // return -1 if left string is less than right string else left string is greater than right string return 1\n\n        int min = Math.min(leftString.length(), rightString.length());\n        int response = 0;\n        for (int i = 0; i &lt; min; i++) {\n            if (compareChar(leftString.charAt(i), rightString.charAt(i)) == -1) {\n                response = -1;\n                break;\n            } else\n            if (compareChar(leftString.charAt(i), rightString.charAt(i)) == 1) {\n                response = 1;\n                break;\n            } else\n            if (compareChar(leftString.charAt(i), rightString.charAt(i)) == 0) {\n                response = 0;\n\n            }\n        }\n        return response;\n    }\n\n    private static int compareChar(char x, char y) {\n        // returns true if x &lt; y\n        int indexofx = 0;\n        int indexofy = 0;\n        int response = 0;\n        for (int i = 0; i &lt; index.length; i++) {\n            if (index[i] == x) {\n                indexofx = i;\n            }\n            if (index[i] == y) {\n                indexofy = i;\n            }\n        }\n        if (indexofx &lt; indexofy) {\n            response = -1;\n        } else\n        if (indexofx &gt; indexofy) {\n            response = 1;\n        } else\n        if (indexofx == indexofy) {\n            response = 0;\n        }\n        return response;\n    }\n}\n</code></pre>\n\n<p>The problem is when I run this for some of the inputs the output is correct and for other the output is not correct. I have been debugging it but not able to find the bug.</p>\n\n<p><strong>EDITS</strong>:</p>\n\n<blockquote>\n  <p>Adriana was playing with the English alphabet. When she was done playing with the alphabet, she realised that she had jumbled up the positions of the letters. Now, given a set of words, she wondered what would be the dictionary ordering of these words based on the new alphabet ordering which she made.</p>\n  \n  <p>In other words, given a permutation of the English alphabet, E and a set of words S, you need to output the lexicographical ordering of the words in the set S based on the new alphabet, E.</p>\n  \n  <p>Input:</p>\n  \n  <p>The first line will contain a single integer, T, denoting the number of test cases. T lines follow.</p>\n  \n  <p>For each test case: </p>\n  \n  <p>The first line will contain a string, E, the new alphabet ordering, which will be a permutation of <code>abcdefghijklmnopqrstuvwxyz</code></p>\n  \n  <p>The next line will contain a single integer M, the size of the set S. S lines follow, each containing a single word, containing lowercase latin characters.</p>\n  \n  <p>Output: for each test case, output S lines, each line containing one word from the set S, ordered lexicographically.</p>\n  \n  <p>Constraints</p>\n\n<pre><code>1 &lt;= T &lt;= 1000 \n1 &lt;= M &lt;= 100 \n1 &lt;= |W| &lt;= 50\n</code></pre>\n  \n  <p>Sample Input:</p>\n\n<pre><code>2\nabcdefghijklmnopqrstuvwxyz\n2\naa\nbb\nbacdefghijklmnopqrstuvwxyz\n2\naa\nbb\n</code></pre>\n  \n  <p>Sample Output:</p>\n\n<pre><code>aa\nbb\nbb\naa\n</code></pre>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"score":0,"creation_date":1590009929,"post_id":61923167,"comment_id":109523261,"body_markdown":"Did you make an attempt? If so, provide it in a code block.","body":"Did you make an attempt? If so, provide it in a code block."},{"owner":{"account_id":2803497,"reputation":25192,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1590010008,"post_id":61923167,"comment_id":109523293,"body_markdown":"Your question is broad, needs focus and does not show any attempt that you tried it yourself. It is also unclear what exactly your struggling with. For example, do you already know how to write a Hello-World program? That is the first step to &quot;get started&quot;. Or maybe are you struggling with setting up Java? It is currently impossible to answer your question. Downvoted and voting to close.","body":"Your question is broad, needs focus and does not show any attempt that you tried it yourself. It is also unclear what exactly your struggling with. For example, do you already know how to write a Hello-World program? That is the first step to &quot;get started&quot;. Or maybe are you struggling with setting up Java? It is currently impossible to answer your question. Downvoted and voting to close."},{"owner":{"account_id":2803497,"reputation":25192,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1590010161,"post_id":61923167,"comment_id":109523359,"body_markdown":"It is also unclear what &quot;if these letters make any numbers&quot; mean, I do not get at all why `reuonnoinfe` should yield `149`, we need a detailed explanation here.","body":"It is also unclear what &quot;if these letters make any numbers&quot; mean, I do not get at all why <code>reuonnoinfe</code> should yield <code>149</code>, we need a detailed explanation here."},{"owner":{"account_id":7356171,"reputation":581,"user_id":5651575,"display_name":"youngdev"},"score":0,"creation_date":1590010945,"post_id":61923167,"comment_id":109523659,"body_markdown":"reposted with better explanation and an example: https://stackoverflow.com/questions/61923409/how-to-check-if-a-random-string-has-letters-that-make-up-numbers-in-java","body":"reposted with better explanation and an example: <a href=\"https://stackoverflow.com/questions/61923409/how-to-check-if-a-random-string-has-letters-that-make-up-numbers-in-java\" title=\"how to check if a random string has letters that make up numbers in java\">stackoverflow.com/questions/61923409/&hellip;</a>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1590011005,"post_id":61923167,"comment_id":109523683,"body_markdown":"@Zabuzard Presumably because it can be rearrange to spell &quot;one four nine&quot;. Though it could also spell &quot;one&quot; twice.","body":"@Zabuzard Presumably because it can be rearrange to spell &quot;one four nine&quot;. Though it could also spell &quot;one&quot; twice."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1590011095,"post_id":61923167,"comment_id":109523729,"body_markdown":"@youngdev Don&#39;t repost. [Edit] the question to add clarification. And make sure to point out what you&#39;re specifically stuck on. We&#39;re not just going to do your homework for you.","body":"@youngdev Don&#39;t repost. <a href=\"https://stackoverflow.com/posts/61923167/edit\">Edit</a> the question to add clarification. And make sure to point out what you&#39;re specifically stuck on. We&#39;re not just going to do your homework for you."},{"owner":{"account_id":7356171,"reputation":581,"user_id":5651575,"display_name":"youngdev"},"score":0,"creation_date":1590011324,"post_id":61923167,"comment_id":109523828,"body_markdown":"edited. apologies for reposting","body":"edited. apologies for reposting"},{"owner":{"account_id":2803497,"reputation":25192,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1590011367,"post_id":61923167,"comment_id":109523845,"body_markdown":"Voting to reopen, the question has improved significantly now.","body":"Voting to reopen, the question has improved significantly now."},{"owner":{"account_id":2803497,"reputation":25192,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1590011430,"post_id":61923167,"comment_id":109523874,"body_markdown":"This is a tough question, probably not that simple to solve. How should you proceed if there are multiple valid solutions? Is any solution enough?","body":"This is a tough question, probably not that simple to solve. How should you proceed if there are multiple valid solutions? Is any solution enough?"},{"owner":{"account_id":7356171,"reputation":581,"user_id":5651575,"display_name":"youngdev"},"score":0,"creation_date":1590011543,"post_id":61923167,"comment_id":109523917,"body_markdown":"Can others consider reopening? @shmosel","body":"Can others consider reopening? @shmosel"},{"owner":{"account_id":7356171,"reputation":581,"user_id":5651575,"display_name":"youngdev"},"score":0,"creation_date":1590014784,"post_id":61923167,"comment_id":109525036,"body_markdown":"@Zabuzard basically if there are enough characters for multiple of the same numbers, I am expected to simply print the same number over again (ie. input: ooonneeto would be 112)","body":"@Zabuzard basically if there are enough characters for multiple of the same numbers, I am expected to simply print the same number over again (ie. input: ooonneeto would be 112)"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1590028265,"post_id":61923167,"comment_id":109528388,"body_markdown":"The only algorithm I can think of is 1) Sort the input string in alphabetical order. 2) In a for loop starting at zero and ending with some large number, create the string from the iterator and sort it in alphabetical order.  3) Break the loop when you get a match.  Not elegant, but should work.","body":"The only algorithm I can think of is 1) Sort the input string in alphabetical order. 2) In a for loop starting at zero and ending with some large number, create the string from the iterator and sort it in alphabetical order.  3) Break the loop when you get a match.  Not elegant, but should work."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1590031121,"post_id":61923167,"comment_id":109528970,"body_markdown":"Two additional thoughts.  ooonneeto is not 112.  owonneeto would be 112.  Second, you can limit the range of numbers you have to search by counting the letters in the input.  For example, if there are 16 letters in the input, the number has to be in between 10 to the 4th and 10 to the 6th.  The smallest number is 3 letters, the largest is 5 letters.  16 / 5 is 4 (ceiling) and 16 / 3 is 6 (ceiling).","body":"Two additional thoughts.  ooonneeto is not 112.  owonneeto would be 112.  Second, you can limit the range of numbers you have to search by counting the letters in the input.  For example, if there are 16 letters in the input, the number has to be in between 10 to the 4th and 10 to the 6th.  The smallest number is 3 letters, the largest is 5 letters.  16 / 5 is 4 (ceiling) and 16 / 3 is 6 (ceiling)."},{"owner":{"account_id":2803497,"reputation":25192,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1590052986,"post_id":61923167,"comment_id":109536434,"body_markdown":"@youngdev My question was more about if the text qualifies for two different numbers. For example if both `123` and `124` would be possible. This can be more likely the more numbers there are. Also, what about the order? `112` and `121` and `211` would be valid, Is any correct number enough or do you need to find all?","body":"@youngdev My question was more about if the text qualifies for two different numbers. For example if both <code>123</code> and <code>124</code> would be possible. This can be more likely the more numbers there are. Also, what about the order? <code>112</code> and <code>121</code> and <code>211</code> would be valid, Is any correct number enough or do you need to find all?"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1595562146,"post_id":61923167,"comment_id":111523982,"body_markdown":"Can you have extra letters at the end? Something line &quot;oneb&quot; =&gt; &quot;1&quot;?","body":"Can you have extra letters at the end? Something line &quot;oneb&quot; =&gt; &quot;1&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590076809,"creation_date":1590076809,"answer_id":61938630,"question_id":61923167,"body_markdown":"The OP provided this question.\r\n\r\n&gt; I am given a string containing jumbled letters from several\r\n&gt; concatenated words. Each word is a number from zero to nine. Each\r\n&gt; (word) number may be in the string multiple times. I need to write a\r\n&gt; program that returns integers corresponding to the letters in the\r\n&gt; string.\r\n\r\nIt would be interesting to see where the question came from.  It&#39;s more complicated to solve than it appears at first glance.\r\n\r\nBased on the text of the question and further comments made by the OP, we can also assume the following:\r\n\r\n1.  The input is guaranteed to be correct or resolvable.\r\n\r\n2.  The output will be an integer.\r\n\r\n3.  The digits of the output will always be in ascending order.  In other words 134, not 143 or 341.\r\n\r\nBased on my earlier comments, I came up with a simple algorithm to solve this question.  It&#39;s not elegant, but it is simple.\r\n\r\n1.  Create a `String` array to hold the number words.\r\n\r\nHere&#39;s a method to do that.\r\n\r\n\tpublic String[] createWordList() {\r\n\t\tString[] numberWords = new String[10];\r\n\t\tnumberWords[0] = &quot;zero&quot;;\r\n\t\tnumberWords[1] = &quot;one&quot;;\r\n\t\tnumberWords[2] = &quot;two&quot;;\r\n\t\tnumberWords[3] = &quot;three&quot;;\r\n\t\tnumberWords[4] = &quot;four&quot;;\r\n\t\tnumberWords[5] = &quot;five&quot;;\r\n\t\tnumberWords[6] = &quot;six&quot;;\r\n\t\tnumberWords[7] = &quot;seven&quot;;\r\n\t\tnumberWords[8] = &quot;eight&quot;;\r\n\t\tnumberWords[9] = &quot;nine&quot;;\r\n\t\treturn numberWords;\r\n\t}\r\n\r\n2.  Sort the input `String` in alphabetical order.\r\n\r\nHere&#39;s a 3 line method to do that.\r\n\r\n\tpublic String sort(String input) {\r\n\t\tchar[] digits = input.toCharArray();\r\n\t\tArrays.sort(digits);\r\n\t\treturn new String(digits);\r\n\t}\r\n\r\n3.  Based on the number of letters in the input String, calculate the smallest and largest possible number.  Since the smallest number word is 3 characters and the largest number word is 5 characters, the minimum and maximum integer can be calculated like this.\r\n\r\nHere&#39;s a method to do just that.\r\n\r\n\tpublic int findNumber(String[] numberWords, String input) {\r\n\t\tinput = sort(input);\r\n\r\n\t\tint length = input.length();\r\n\t\tdouble minPower = Math.floor(length / 5d);\r\n\t\tdouble maxPower = Math.ceil(length / 3d);\r\n\t\tint minimum = (int) Math.pow(10d, minPower);\r\n\t\tint maximum = (int) Math.pow(10d, maxPower);\r\n\r\n\t\tfor (int index = minimum; index &lt; maximum; index++) {\r\n\t\t\tString test = createNumberString(numberWords,\r\n\t\t\t\t\tindex);\r\n\t\t\ttest = sort(test);\r\n\t\t\tif (test.equals(input)) {\r\n\t\t\t\treturn index;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\t}\r\n\r\nNow, all that&#39;s left is to write the `createNumberString` method.\r\n\r\n\tpublic String createNumberString(String[] numberWords,\r\n\t\t\tint index) {\r\n\t\tString output = &quot;&quot;;\r\n\r\n\t\twhile (index &gt; 0) {\r\n\t\t\tint digit = index % 10;\r\n\t\t\toutput = numberWords[digit] + output;\r\n\t\t\tindex /= 10;\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t}\r\n\r\nWhen I put these methods together and ran some tests, I got the following results.\r\n\r\n    reuonnoinfe --&gt; 149\r\n    owonneeto --&gt; 112\r\n    seveneightninetwothreefive --&gt; 235789\r\n\r\nThere&#39;s also a recursive algorithm that would look at the input String and try the number words one at a time until all of the characters in the input were used.\r\n\r\nSince this recursive algorithm involves back tracking, I haven&#39;t outlined it.  I leave that as an exercise for some Java developer more advanced than me.\r\n\r\nI hope this has been helpful.  This problem is a bit complicated for a Java beginner.","title":"Given an input string of random letters find letters that make up numbers in Java","body":"<p>The OP provided this question.</p>\n\n<blockquote>\n  <p>I am given a string containing jumbled letters from several\n  concatenated words. Each word is a number from zero to nine. Each\n  (word) number may be in the string multiple times. I need to write a\n  program that returns integers corresponding to the letters in the\n  string.</p>\n</blockquote>\n\n<p>It would be interesting to see where the question came from.  It's more complicated to solve than it appears at first glance.</p>\n\n<p>Based on the text of the question and further comments made by the OP, we can also assume the following:</p>\n\n<ol>\n<li><p>The input is guaranteed to be correct or resolvable.</p></li>\n<li><p>The output will be an integer.</p></li>\n<li><p>The digits of the output will always be in ascending order.  In other words 134, not 143 or 341.</p></li>\n</ol>\n\n<p>Based on my earlier comments, I came up with a simple algorithm to solve this question.  It's not elegant, but it is simple.</p>\n\n<ol>\n<li>Create a <code>String</code> array to hold the number words.</li>\n</ol>\n\n<p>Here's a method to do that.</p>\n\n<pre><code>public String[] createWordList() {\n    String[] numberWords = new String[10];\n    numberWords[0] = \"zero\";\n    numberWords[1] = \"one\";\n    numberWords[2] = \"two\";\n    numberWords[3] = \"three\";\n    numberWords[4] = \"four\";\n    numberWords[5] = \"five\";\n    numberWords[6] = \"six\";\n    numberWords[7] = \"seven\";\n    numberWords[8] = \"eight\";\n    numberWords[9] = \"nine\";\n    return numberWords;\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Sort the input <code>String</code> in alphabetical order.</li>\n</ol>\n\n<p>Here's a 3 line method to do that.</p>\n\n<pre><code>public String sort(String input) {\n    char[] digits = input.toCharArray();\n    Arrays.sort(digits);\n    return new String(digits);\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>Based on the number of letters in the input String, calculate the smallest and largest possible number.  Since the smallest number word is 3 characters and the largest number word is 5 characters, the minimum and maximum integer can be calculated like this.</li>\n</ol>\n\n<p>Here's a method to do just that.</p>\n\n<pre><code>public int findNumber(String[] numberWords, String input) {\n    input = sort(input);\n\n    int length = input.length();\n    double minPower = Math.floor(length / 5d);\n    double maxPower = Math.ceil(length / 3d);\n    int minimum = (int) Math.pow(10d, minPower);\n    int maximum = (int) Math.pow(10d, maxPower);\n\n    for (int index = minimum; index &lt; maximum; index++) {\n        String test = createNumberString(numberWords,\n                index);\n        test = sort(test);\n        if (test.equals(input)) {\n            return index;\n        }\n    }\n\n    return -1;\n}\n</code></pre>\n\n<p>Now, all that's left is to write the <code>createNumberString</code> method.</p>\n\n<pre><code>public String createNumberString(String[] numberWords,\n        int index) {\n    String output = \"\";\n\n    while (index &gt; 0) {\n        int digit = index % 10;\n        output = numberWords[digit] + output;\n        index /= 10;\n    }\n\n    return output;\n}\n</code></pre>\n\n<p>When I put these methods together and ran some tests, I got the following results.</p>\n\n<pre><code>reuonnoinfe --&gt; 149\nowonneeto --&gt; 112\nseveneightninetwothreefive --&gt; 235789\n</code></pre>\n\n<p>There's also a recursive algorithm that would look at the input String and try the number words one at a time until all of the characters in the input were used.</p>\n\n<p>Since this recursive algorithm involves back tracking, I haven't outlined it.  I leave that as an exercise for some Java developer more advanced than me.</p>\n\n<p>I hope this has been helpful.  This problem is a bit complicated for a Java beginner.</p>\n"},{"tags":[],"owner":{"account_id":18994258,"reputation":11,"user_id":13862777,"display_name":"Neal Pandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593845293,"creation_date":1593843715,"answer_id":62726008,"question_id":61923167,"body_markdown":"Agree with Gilbert that this problem is more complicated than it appears. Anyone solving this problem from scratch will take few hours. Moreover there are corner cases which can fail the tests. Below is the solution I wrote in C#. A Java solution should be very similar. To understand it will required deep diving into parsing jumbled letters, nested loops, if and do while conditions. Below are my steps to solve this problem. I am sure with more time, it can be made better.\r\n 1. Create a String array of numerals.\r\n 2. Loop through each character of each numeral in array and find out if these characters exist in the jumbled input string.\r\n 3. If all the characters of a numeral are found \r\n    (a) Using the index of the found character in the jumbled\r\n    string, remove one instance of characters of the numeral from the\r\n    jumbled string.\r\n    (b) add the numeral in a List of integer collection.\r\n4.  Repeat steps #2 &amp; #3 until you can no longer find any more numerals in the jumbled string.\r\n5. Sort the collection of List of found numbers.\r\n6. Convert the List into a string output.\r\n\r\nBelow is the full code with some test written in the Main method.\r\n\r\n                class NumeralProgram\r\n    {\r\n        static readonly string[] numerals = { &quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot; };\r\n\r\n        static string FindNumbers(string input, string[] arrnumerals)\r\n        {\r\n            List&lt;int&gt; numbers = new List&lt;int&gt;();\r\n\r\n            do\r\n            {\r\n                string startInput = input;\r\n                foreach (string numeral in arrnumerals)\r\n                {\r\n                    bool numeralFound = false;\r\n                    string storedInput = input;\r\n                    foreach (char cn in numeral)\r\n                    {\r\n                        int count = input.Count(c =&gt; c == cn); // find char for numeral in input string\r\n\r\n                        if (count &gt; 0)\r\n                        {\r\n                            numeralFound = true;\r\n                            int index = input.IndexOf(cn);\r\n                            input = input.Remove(index, 1); // remove char for the found numeral\r\n                        }\r\n                        else\r\n                        {\r\n                            numeralFound = false;\r\n                            input = storedInput; // roll back to previous input\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (numeralFound)\r\n                    {\r\n                        int number = Array.IndexOf(arrnumerals, numeral);\r\n                        // Console.WriteLine(number);  // to view individual number during test\r\n\r\n                        numbers.Add(number);\r\n                    }\r\n                }\r\n\r\n                if (startInput == input)  // stop when chars of numerals are not found\r\n                    break;\r\n\r\n            } while (input.Length &gt; 0);\r\n\r\n            numbers.Sort();\r\n            string output = String.Join(&quot;&quot;, numbers);\r\n            return output;\r\n        }\r\n\r\n        static void Main()\r\n        {\r\n            string input, output;\r\n\r\n            input = &quot;reuonnoinfe&quot;;\r\n            output = FindNumbers(input, numerals);\r\n            Console.WriteLine(output);\r\n\r\n            input = &quot;nzerinextneiootnrnoeneeeeuoeoheetehounzoiuetrhfefeezuivirfwieotgoottfnrnneghetserhrwsgesfherhtiitrerevreernhveofiouver&quot;;\r\n            output = FindNumbers(input, numerals);\r\n            Console.WriteLine(output);\r\n\r\n            input = &quot;tveiifogvweesotwnetnvfeheiotwo&quot;;\r\n            output = FindNumbers(input, numerals);\r\n            Console.WriteLine(output);\r\n\r\n            input = &quot;ugstrheone&quot;;\r\n            output = FindNumbers(input, numerals);\r\n            Console.WriteLine(output);\r\n\r\n            input = &quot;seoeisowufxrzohgiettrven&quot;;\r\n            output = FindNumbers(input, numerals);\r\n            Console.WriteLine(output);\r\n        }\r\n\r\n    }\r\n\r\nHope this helps!","title":"Given an input string of random letters find letters that make up numbers in Java","body":"<p>Agree with Gilbert that this problem is more complicated than it appears. Anyone solving this problem from scratch will take few hours. Moreover there are corner cases which can fail the tests. Below is the solution I wrote in C#. A Java solution should be very similar. To understand it will required deep diving into parsing jumbled letters, nested loops, if and do while conditions. Below are my steps to solve this problem. I am sure with more time, it can be made better.</p>\n<ol>\n<li>Create a String array of numerals.</li>\n<li>Loop through each character of each numeral in array and find out if these characters exist in the jumbled input string.</li>\n<li>If all the characters of a numeral are found\n(a) Using the index of the found character in the jumbled\nstring, remove one instance of characters of the numeral from the\njumbled string.\n(b) add the numeral in a List of integer collection.</li>\n<li>Repeat steps #2 &amp; #3 until you can no longer find any more numerals in the jumbled string.</li>\n<li>Sort the collection of List of found numbers.</li>\n<li>Convert the List into a string output.</li>\n</ol>\n<p>Below is the full code with some test written in the Main method.</p>\n<pre><code>            class NumeralProgram\n{\n    static readonly string[] numerals = { &quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot; };\n\n    static string FindNumbers(string input, string[] arrnumerals)\n    {\n        List&lt;int&gt; numbers = new List&lt;int&gt;();\n\n        do\n        {\n            string startInput = input;\n            foreach (string numeral in arrnumerals)\n            {\n                bool numeralFound = false;\n                string storedInput = input;\n                foreach (char cn in numeral)\n                {\n                    int count = input.Count(c =&gt; c == cn); // find char for numeral in input string\n\n                    if (count &gt; 0)\n                    {\n                        numeralFound = true;\n                        int index = input.IndexOf(cn);\n                        input = input.Remove(index, 1); // remove char for the found numeral\n                    }\n                    else\n                    {\n                        numeralFound = false;\n                        input = storedInput; // roll back to previous input\n                        break;\n                    }\n                }\n\n                if (numeralFound)\n                {\n                    int number = Array.IndexOf(arrnumerals, numeral);\n                    // Console.WriteLine(number);  // to view individual number during test\n\n                    numbers.Add(number);\n                }\n            }\n\n            if (startInput == input)  // stop when chars of numerals are not found\n                break;\n\n        } while (input.Length &gt; 0);\n\n        numbers.Sort();\n        string output = String.Join(&quot;&quot;, numbers);\n        return output;\n    }\n\n    static void Main()\n    {\n        string input, output;\n\n        input = &quot;reuonnoinfe&quot;;\n        output = FindNumbers(input, numerals);\n        Console.WriteLine(output);\n\n        input = &quot;nzerinextneiootnrnoeneeeeuoeoheetehounzoiuetrhfefeezuivirfwieotgoottfnrnneghetserhrwsgesfherhtiitrerevreernhveofiouver&quot;;\n        output = FindNumbers(input, numerals);\n        Console.WriteLine(output);\n\n        input = &quot;tveiifogvweesotwnetnvfeheiotwo&quot;;\n        output = FindNumbers(input, numerals);\n        Console.WriteLine(output);\n\n        input = &quot;ugstrheone&quot;;\n        output = FindNumbers(input, numerals);\n        Console.WriteLine(output);\n\n        input = &quot;seoeisowufxrzohgiettrven&quot;;\n        output = FindNumbers(input, numerals);\n        Console.WriteLine(output);\n    }\n\n}\n</code></pre>\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":19026008,"reputation":1,"user_id":13889049,"display_name":"Gayatri Haldankar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1610461225,"creation_date":1594197040,"answer_id":62790641,"question_id":61923167,"body_markdown":"    import java.util.*;\r\n    \r\n    public class DigitsFromString {\r\n        public static LinkedHashMap&lt;String, Integer&gt; evenMapping;\r\n        public static LinkedHashMap&lt;String, Integer&gt; oddMapping;\r\n        public static LinkedHashMap&lt;Integer, String&gt; in;\r\n        public static LinkedHashMap&lt;String, Integer&gt; counter = new LinkedHashMap&lt;&gt;();\r\n    \r\n        public static void init() {\r\n            //unique characters in even number\r\n            evenMapping = new LinkedHashMap&lt;&gt;();\r\n            evenMapping.put(&quot;z&quot;, 0);\r\n            evenMapping.put(&quot;w&quot;, 2);\r\n            evenMapping.put(&quot;u&quot;, 4);\r\n            evenMapping.put(&quot;x&quot;, 6);\r\n            evenMapping.put(&quot;g&quot;, 8);\r\n    \r\n            //unique characters in odd number after even unique characters are removed\r\n            oddMapping = new LinkedHashMap&lt;&gt;();\r\n            oddMapping.put(&quot;o&quot;, 1);\r\n            oddMapping.put(&quot;t&quot;, 3);\r\n            oddMapping.put(&quot;f&quot;, 5);\r\n            oddMapping.put(&quot;s&quot;, 7);\r\n    \r\n            //digits in words\r\n            in = new LinkedHashMap&lt;&gt;();\r\n            in.put(0, &quot;zero&quot;);\r\n            in.put(1, &quot;one&quot;);\r\n            in.put(2, &quot;two&quot;);\r\n            in.put(3, &quot;three&quot;);\r\n            in.put(4, &quot;four&quot;);\r\n            in.put(5, &quot;five&quot;);\r\n            in.put(6, &quot;six&quot;);\r\n            in.put(7, &quot;seven&quot;);\r\n            in.put(8, &quot;eight&quot;);\r\n            in.put(9, &quot;nine&quot;);\r\n        }\r\n    \r\n        public static String sort(String input) {\r\n            char[] digits = input.toCharArray();\r\n            Arrays.sort(digits);\r\n            return new String(digits);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            DigitsFromString permutations = new DigitsFromString();\r\n    \r\n            \r\n            List&lt;String&gt; inputs = new ArrayList&lt;&gt;();\r\n            inputs.add(&quot;reuonnoinfe&quot;);\r\n            inputs.add(&quot;eightfourone&quot;);\r\n            inputs.add(&quot;tveiifogvweesotwnetnvfeheiotwo&quot;);\r\n            inputs.add(&quot;seoeisowufxrzohgiettrventhgieghteitegih&quot;);\r\n            inputs.add(&quot;nzerinextneiootnrnoeneeeeuoeoheetehounzoiuetrhfefeezuivirfwieotgoottfnrnneghetserhrwsgesfherhtiitrerevreernhveofiouvernzerinextneiootnrnoeneeeeuoeoheetehounzoiuetrhfefeezuivirfwieotgoottfnrnneghetserhrwsgesfherhtiitrerevreernhveofiouver&quot;);\r\n            even:\r\n            for (String input : inputs) {\r\n    \r\n                counter = new LinkedHashMap&lt;&gt;();\r\n    \r\n                char[] digits = input.toCharArray();\r\n                Arrays.sort(digits);\r\n    \r\n                init();\r\n    \r\n    \r\n                for (int i = 0; i &lt; digits.length; i++) {\r\n                    if (counter.get(Character.toString(digits[i])) != null) {\r\n                        counter.put(Character.toString(digits[i]), counter.get(Character.toString(digits[i])) + 1);\r\n                    } else {\r\n                        counter.put(Character.toString(digits[i]), 1);\r\n                    }\r\n                }\r\n    \r\n                String res = &quot;&quot;;\r\n    \r\n                for (Map.Entry&lt;String, Integer&gt; map : evenMapping.entrySet()) {\r\n                    if (counter.get(map.getKey()) != null) {\r\n                        int cnt = counter.get(map.getKey());\r\n    \r\n                        if (cnt != 0) {\r\n                            String digitStr = in.get(map.getValue());\r\n                            char[] tmp = digitStr.toCharArray();\r\n                            for (int i = 0; i &lt; cnt; i++) {\r\n                                for (int k = 0; k &lt; tmp.length; k++) {\r\n                                    if (counter.get(Character.toString(tmp[k])) == null) {\r\n                                        System.out.println(&quot;Invalid String&quot;);\r\n                                        continue even;\r\n                                    }\r\n                                }\r\n                                res = res + map.getValue();\r\n    \r\n                                for (int j = 0; j &lt; tmp.length; j++) {\r\n                                    if (counter.get(Character.toString(tmp[j])) != null) {\r\n                                        counter.put(Character.toString(tmp[j]), counter.get(Character.toString(tmp[j])) - 1);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                for (Map.Entry&lt;String, Integer&gt; map : oddMapping.entrySet()) {\r\n                    if (counter.get(map.getKey()) != null) {\r\n                        int cnt = counter.get(map.getKey());\r\n    \r\n                        if (cnt != 0) {\r\n                            String digitStr = in.get(map.getValue());\r\n                            char[] tmp = digitStr.toCharArray();\r\n                            for (int i = 0; i &lt; cnt; i++) {\r\n    \r\n                                for (int k = 0; k &lt; tmp.length; k++) {\r\n                                    if (counter.get(Character.toString(tmp[k])) == null) {\r\n                                        System.out.println(&quot;Invalid String&quot;);\r\n                                        continue even;\r\n                                    }\r\n                                }\r\n                                res = res + map.getValue();\r\n    \r\n                                for (int j = 0; j &lt; tmp.length; j++) {\r\n                                    if (counter.get(Character.toString(tmp[j])) != null) {\r\n                                        counter.put(Character.toString(tmp[j]), counter.get(Character.toString(tmp[j])) - 1);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                //splcase -- 9\r\n                if (counter.get(&quot;i&quot;) != null) {\r\n                    int cnt = counter.get(&quot;i&quot;);\r\n    \r\n                    if (cnt != 0) {\r\n                        for (int i = 0; i &lt; cnt; i++) {\r\n                            res = res + &quot;9&quot;;\r\n                        }\r\n                    }\r\n                }\r\n                res = sort(res);\r\n                System.out.println(res);\r\n            }\r\n    \r\n        }\r\n    }","title":"Given an input string of random letters find letters that make up numbers in Java","body":"<pre><code>import java.util.*;\n\npublic class DigitsFromString {\n    public static LinkedHashMap&lt;String, Integer&gt; evenMapping;\n    public static LinkedHashMap&lt;String, Integer&gt; oddMapping;\n    public static LinkedHashMap&lt;Integer, String&gt; in;\n    public static LinkedHashMap&lt;String, Integer&gt; counter = new LinkedHashMap&lt;&gt;();\n\n    public static void init() {\n        //unique characters in even number\n        evenMapping = new LinkedHashMap&lt;&gt;();\n        evenMapping.put(&quot;z&quot;, 0);\n        evenMapping.put(&quot;w&quot;, 2);\n        evenMapping.put(&quot;u&quot;, 4);\n        evenMapping.put(&quot;x&quot;, 6);\n        evenMapping.put(&quot;g&quot;, 8);\n\n        //unique characters in odd number after even unique characters are removed\n        oddMapping = new LinkedHashMap&lt;&gt;();\n        oddMapping.put(&quot;o&quot;, 1);\n        oddMapping.put(&quot;t&quot;, 3);\n        oddMapping.put(&quot;f&quot;, 5);\n        oddMapping.put(&quot;s&quot;, 7);\n\n        //digits in words\n        in = new LinkedHashMap&lt;&gt;();\n        in.put(0, &quot;zero&quot;);\n        in.put(1, &quot;one&quot;);\n        in.put(2, &quot;two&quot;);\n        in.put(3, &quot;three&quot;);\n        in.put(4, &quot;four&quot;);\n        in.put(5, &quot;five&quot;);\n        in.put(6, &quot;six&quot;);\n        in.put(7, &quot;seven&quot;);\n        in.put(8, &quot;eight&quot;);\n        in.put(9, &quot;nine&quot;);\n    }\n\n    public static String sort(String input) {\n        char[] digits = input.toCharArray();\n        Arrays.sort(digits);\n        return new String(digits);\n    }\n\n    public static void main(String[] args) {\n        DigitsFromString permutations = new DigitsFromString();\n\n        \n        List&lt;String&gt; inputs = new ArrayList&lt;&gt;();\n        inputs.add(&quot;reuonnoinfe&quot;);\n        inputs.add(&quot;eightfourone&quot;);\n        inputs.add(&quot;tveiifogvweesotwnetnvfeheiotwo&quot;);\n        inputs.add(&quot;seoeisowufxrzohgiettrventhgieghteitegih&quot;);\n        inputs.add(&quot;nzerinextneiootnrnoeneeeeuoeoheetehounzoiuetrhfefeezuivirfwieotgoottfnrnneghetserhrwsgesfherhtiitrerevreernhveofiouvernzerinextneiootnrnoeneeeeuoeoheetehounzoiuetrhfefeezuivirfwieotgoottfnrnneghetserhrwsgesfherhtiitrerevreernhveofiouver&quot;);\n        even:\n        for (String input : inputs) {\n\n            counter = new LinkedHashMap&lt;&gt;();\n\n            char[] digits = input.toCharArray();\n            Arrays.sort(digits);\n\n            init();\n\n\n            for (int i = 0; i &lt; digits.length; i++) {\n                if (counter.get(Character.toString(digits[i])) != null) {\n                    counter.put(Character.toString(digits[i]), counter.get(Character.toString(digits[i])) + 1);\n                } else {\n                    counter.put(Character.toString(digits[i]), 1);\n                }\n            }\n\n            String res = &quot;&quot;;\n\n            for (Map.Entry&lt;String, Integer&gt; map : evenMapping.entrySet()) {\n                if (counter.get(map.getKey()) != null) {\n                    int cnt = counter.get(map.getKey());\n\n                    if (cnt != 0) {\n                        String digitStr = in.get(map.getValue());\n                        char[] tmp = digitStr.toCharArray();\n                        for (int i = 0; i &lt; cnt; i++) {\n                            for (int k = 0; k &lt; tmp.length; k++) {\n                                if (counter.get(Character.toString(tmp[k])) == null) {\n                                    System.out.println(&quot;Invalid String&quot;);\n                                    continue even;\n                                }\n                            }\n                            res = res + map.getValue();\n\n                            for (int j = 0; j &lt; tmp.length; j++) {\n                                if (counter.get(Character.toString(tmp[j])) != null) {\n                                    counter.put(Character.toString(tmp[j]), counter.get(Character.toString(tmp[j])) - 1);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n            for (Map.Entry&lt;String, Integer&gt; map : oddMapping.entrySet()) {\n                if (counter.get(map.getKey()) != null) {\n                    int cnt = counter.get(map.getKey());\n\n                    if (cnt != 0) {\n                        String digitStr = in.get(map.getValue());\n                        char[] tmp = digitStr.toCharArray();\n                        for (int i = 0; i &lt; cnt; i++) {\n\n                            for (int k = 0; k &lt; tmp.length; k++) {\n                                if (counter.get(Character.toString(tmp[k])) == null) {\n                                    System.out.println(&quot;Invalid String&quot;);\n                                    continue even;\n                                }\n                            }\n                            res = res + map.getValue();\n\n                            for (int j = 0; j &lt; tmp.length; j++) {\n                                if (counter.get(Character.toString(tmp[j])) != null) {\n                                    counter.put(Character.toString(tmp[j]), counter.get(Character.toString(tmp[j])) - 1);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n            //splcase -- 9\n            if (counter.get(&quot;i&quot;) != null) {\n                int cnt = counter.get(&quot;i&quot;);\n\n                if (cnt != 0) {\n                    for (int i = 0; i &lt; cnt; i++) {\n                        res = res + &quot;9&quot;;\n                    }\n                }\n            }\n            res = sort(res);\n            System.out.println(res);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12934355,"reputation":51,"user_id":9352275,"display_name":"Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595569365,"creation_date":1595569365,"answer_id":63067528,"question_id":61923167,"body_markdown":"Python3 version of Neal Pandey C# code.\r\n\r\n```python\r\ndef find_numbers(input):\r\n        number_list = [ &quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot; ]\r\n        numbers = []\r\n        while len(input) &gt; 0:\r\n            startInput = input\r\n            for  numeral in number_list:\r\n                storedInput = input\r\n                numeralFound = False\r\n                for cn in numeral:\r\n                    count = input.count(cn) \r\n                    if count &gt; 0:\r\n                        numeralFound = True\r\n                        index = input.index(cn)\r\n                        if len(input) &gt; index:\r\n                            input = input[:index:] + input[index+1::]\r\n                    else:\r\n                        numeralFound = False\r\n                        input = storedInput\r\n                        break\r\n                if numeralFound :\r\n                    number = number_list.index(numeral)\r\n                    numbers.append(str(number))\r\n\r\n            if startInput == input:\r\n                break\r\n\r\n        numbers.sort()\r\n        output = &quot;&quot;.join(numbers)\r\n        return output\r\n\r\n\r\ninput = &quot;reuonnoinfe&quot;\r\noutput = find_numbers(input)\r\nprint(output)\r\n\r\ninput = &quot;nzerinextneiootnrnoeneeeeuoeoheetehounzoiuetrhfefeezuivirfwieotgoottfnrnneghetserhrwsgesfherhtiitrerevreernhveofiouver&quot;\r\noutput = find_numbers(input)\r\nprint(output)\r\n\r\ninput = &quot;tveiifogvweesotwnetnvfeheiotwo&quot;\r\noutput = find_numbers(input)\r\nprint(output)\r\n\r\ninput = &quot;ugstrheone&quot;\r\noutput = find_numbers(input)\r\nprint(output)\r\n\r\ninput = &quot;seoeisowufxrzohgiettrven&quot;\r\noutput = find_numbers(input)\r\nprint(output)\r\n```\r\nOutput\r\n```\r\nreuonnoinfe ==&gt; 149\r\nnzerinextneiootnrnoeneeeeuoeoheetehounzoiuetrhfefeezuivirfwieotgoottfnrnneghetserhrwsgesfherhtiitrerevreernhveofiouver ==&gt; 0001112233333444455677888999\r\ntveiifogvweesotwnetnvfeheiotwo ==&gt; 12225578\r\nugstrheone ==&gt; 1\r\nseoeisowufxrzohgiettrven ==&gt; 01236\r\n```\r\n","title":"Given an input string of random letters find letters that make up numbers in Java","body":"<p>Python3 version of Neal Pandey C# code.</p>\n<pre class=\"lang-py prettyprint-override\"><code>def find_numbers(input):\n        number_list = [ &quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot; ]\n        numbers = []\n        while len(input) &gt; 0:\n            startInput = input\n            for  numeral in number_list:\n                storedInput = input\n                numeralFound = False\n                for cn in numeral:\n                    count = input.count(cn) \n                    if count &gt; 0:\n                        numeralFound = True\n                        index = input.index(cn)\n                        if len(input) &gt; index:\n                            input = input[:index:] + input[index+1::]\n                    else:\n                        numeralFound = False\n                        input = storedInput\n                        break\n                if numeralFound :\n                    number = number_list.index(numeral)\n                    numbers.append(str(number))\n\n            if startInput == input:\n                break\n\n        numbers.sort()\n        output = &quot;&quot;.join(numbers)\n        return output\n\n\ninput = &quot;reuonnoinfe&quot;\noutput = find_numbers(input)\nprint(output)\n\ninput = &quot;nzerinextneiootnrnoeneeeeuoeoheetehounzoiuetrhfefeezuivirfwieotgoottfnrnneghetserhrwsgesfherhtiitrerevreernhveofiouver&quot;\noutput = find_numbers(input)\nprint(output)\n\ninput = &quot;tveiifogvweesotwnetnvfeheiotwo&quot;\noutput = find_numbers(input)\nprint(output)\n\ninput = &quot;ugstrheone&quot;\noutput = find_numbers(input)\nprint(output)\n\ninput = &quot;seoeisowufxrzohgiettrven&quot;\noutput = find_numbers(input)\nprint(output)\n</code></pre>\n<p>Output</p>\n<pre><code>reuonnoinfe ==&gt; 149\nnzerinextneiootnrnoeneeeeuoeoheetehounzoiuetrhfefeezuivirfwieotgoottfnrnneghetserhrwsgesfherhtiitrerevreernhveofiouver ==&gt; 0001112233333444455677888999\ntveiifogvweesotwnetnvfeheiotwo ==&gt; 12225578\nugstrheone ==&gt; 1\nseoeisowufxrzohgiettrven ==&gt; 01236\n</code></pre>\n"},{"tags":[],"owner":{"account_id":129321,"reputation":7,"user_id":2449546,"display_name":"SomeXYZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610461298,"creation_date":1601828581,"answer_id":64197068,"question_id":61923167,"body_markdown":"```\r\npackage test;\r\n\r\npublic class B {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString a = &quot;otwthreeoneotwthrezeroeofnievoetwthreeonotwthreeoneotwthrezeroeoneotwthreeotwthreeoneotwthrezeroeoneotwthreeoneonee&quot;;\r\n\t\tString[] words = {&quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;};\r\n\t\tString finalString = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; words.length; i++) {\r\n\t\t\tString w = words[i];\r\n\t\t\twhile (true) {\r\n\t\t\t\tif (hasWord(w, a)) {\r\n\t\t\t\t\ta = removeWord(w, a);\r\n\t\t\t\t\tfinalString += i;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tSystem.out.println(finalString);\r\n\r\n\t}\r\n\r\n\tprivate static boolean hasWord(String word, String input) {\r\n\t\tfor (char w : word.toCharArray()) {\r\n\t\t\tif (input.indexOf(w) != -1) {\r\n\t\t\t\tinput = input.replaceFirst(w + &quot;&quot;, &quot;&quot;);\r\n\t\t\t} else\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tprivate static String removeWord(String word, String input) {\r\n\r\n\t\tfor (char c : word.toCharArray()) {\r\n\t\t\tinput = input.replaceFirst(c + &quot;&quot;, &quot;&quot;);\r\n\t\t}\r\n\r\n\t\treturn input;\r\n\t}\r\n\r\n}\r\n```","title":"Given an input string of random letters find letters that make up numbers in Java","body":"<pre><code>package test;\n\npublic class B {\n\n    public static void main(String[] args) {\n\n        String a = &quot;otwthreeoneotwthrezeroeofnievoetwthreeonotwthreeoneotwthrezeroeoneotwthreeotwthreeoneotwthrezeroeoneotwthreeoneonee&quot;;\n        String[] words = {&quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;};\n        String finalString = &quot;&quot;;\n        for (int i = 0; i &lt; words.length; i++) {\n            String w = words[i];\n            while (true) {\n                if (hasWord(w, a)) {\n                    a = removeWord(w, a);\n                    finalString += i;\n                } else {\n                    break;\n                }\n            }\n\n        }\n\n        System.out.println(finalString);\n\n    }\n\n    private static boolean hasWord(String word, String input) {\n        for (char w : word.toCharArray()) {\n            if (input.indexOf(w) != -1) {\n                input = input.replaceFirst(w + &quot;&quot;, &quot;&quot;);\n            } else\n                return false;\n        }\n        return true;\n    }\n\n    private static String removeWord(String word, String input) {\n\n        for (char c : word.toCharArray()) {\n            input = input.replaceFirst(c + &quot;&quot;, &quot;&quot;);\n        }\n\n        return input;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22904356,"reputation":1,"user_id":17042632,"display_name":"Siva Gaikoti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632999109,"creation_date":1632999109,"answer_id":69390923,"question_id":61923167,"body_markdown":"\t\tString s = &quot;twosixfourzerothreezeronineonetwothreefourfivesixseveneightninefive&quot;;\r\n\t\t\r\n\t\tString[] str = { &quot;zero&quot;,&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,&quot;eight&quot;,&quot;nine&quot;};\r\n\t\t// z o w h u v x s g\r\n\t\tString result = &quot;&quot;;\r\n\t\tString d=&quot;&quot;;\r\n\t\t\r\n\t\tchar resultc = 0;\r\n\t\tString nresult = &quot;&quot;;\r\n\t\t\r\n\t\tchar[] sc = s.toCharArray();\r\n\t\t\r\n\t\tint counter = 0;\r\n\t\tint slength = s.length();\r\n\t\t\r\n\t\tdo {\r\n\t\t\ttry {\r\n\t\t\t\tif(s.contains(&quot;z&quot;)) {\r\n \t\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;z&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;e&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;r&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;o&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t    nresult = nresult+0;\r\n\t\t\t\t    System.out.println(&quot;SOriginal: &quot;+s);\r\n\t\t\t\t    System.out.println(&quot;nResult: &quot;+nresult);\r\n\t\t\t\t    \r\n\t\t\t\t}else if(s.contains(&quot;w&quot;)) {\r\n\t\t\t\t \t\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;t&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;w&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;o&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\tnresult = nresult+2;\r\n\t\t\t\t    System.out.println(&quot;SOriginal: &quot;+s);\r\n\t\t\t\t    System.out.println(&quot;nResult: &quot;+nresult);\r\n\t\t\t\t}else if(s.contains(&quot;u&quot;)) {\r\n\t\t\t\t \t\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;f&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;o&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;u&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;r&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\tnresult = nresult+4;\r\n\t\t\t\t    System.out.println(&quot;SOriginal: &quot;+s);\r\n\t\t\t\t    System.out.println(&quot;nResult: &quot;+nresult);\r\n\t\t\t\t}else if(s.contains(&quot;x&quot;)) {\r\n\t\t\t\t \t\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;s&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;i&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;x&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\tnresult = nresult+6;\r\n\t\t\t\t    System.out.println(&quot;SOriginal: &quot;+s);\r\n\t\t\t\t    System.out.println(&quot;nResult: &quot;+nresult);\r\n\t\t\t\t}else if(s.contains(&quot;g&quot;)) {\r\n\t\t\t\t \t\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;e&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;i&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;g&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;h&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;t&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\tnresult = nresult+8;\r\n\t\t\t\t    System.out.println(&quot;SOriginal: &quot;+s);\r\n\t\t\t\t    System.out.println(&quot;nResult: &quot;+nresult);\r\n\t\t\t\t}else if(s.contains(&quot;h&quot;)) {\r\n\t\t\t\t \t\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;t&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;h&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;r&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;e&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;e&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\r\n\t\t\t\t\tnresult = nresult+3;\r\n\t\t\t\t    System.out.println(&quot;SOriginal: &quot;+s);\r\n\t\t\t\t    System.out.println(&quot;nResult: &quot;+nresult);\r\n\t\t\t\t}else if(s.contains(&quot;o&quot;) &amp;&amp; s.contains(&quot;n&quot;) &amp;&amp; s.contains(&quot;e&quot;)) {\r\n\t\t\t\t \t\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;o&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;n&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;e&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\tnresult = nresult+1;\r\n\t\t\t\t    System.out.println(&quot;SOriginal: &quot;+s);\r\n\t\t\t\t    System.out.println(&quot;nResult: &quot;+nresult);\r\n\t\t\t\t}else if(s.contains(&quot;f&quot;) &amp;&amp; s.contains(&quot;i&quot;) &amp;&amp; s.contains(&quot;v&quot;) &amp;&amp; s.contains(&quot;e&quot;)) {\r\n\t\t\t\t \t\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;f&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;i&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;v&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;e&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\tnresult = nresult+5;\r\n\t\t\t\t    System.out.println(&quot;SOriginal: &quot;+s);\r\n\t\t\t\t    System.out.println(&quot;nResult: &quot;+nresult);\r\n\t\t\t\t}else if(s.contains(&quot;s&quot;) &amp;&amp; s.contains(&quot;e&quot;) &amp;&amp; s.contains(&quot;v&quot;) &amp;&amp; s.contains(&quot;e&quot;) &amp;&amp; s.contains(&quot;n&quot;)) {\r\n\t\t\t\t \t\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;s&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;e&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;v&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;e&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;n&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\tnresult = nresult+7;\r\n\t\t\t\t    System.out.println(&quot;SOriginal: &quot;+s);\r\n\t\t\t\t    System.out.println(&quot;nResult: &quot;+nresult);\r\n\t\t\t\t}else if(s.contains(&quot;n&quot;) &amp;&amp; s.contains(&quot;i&quot;) &amp;&amp; s.contains(&quot;n&quot;) &amp;&amp; s.contains(&quot;e&quot;)) {\r\n\t\t\t\t \t\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;n&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;i&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;n&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\ts=s.replaceFirst(Character.toString(&#39;e&#39;), &quot;&quot;);\r\n\t\t\t\t\tcounter=counter+1;\r\n\t\t\t\t\tnresult = nresult+9;\r\n\t\t\t\t    System.out.println(&quot;SOriginal: &quot;+s);\r\n\t\t\t\t    System.out.println(&quot;nResult: &quot;+nresult);\r\n\t\t\t\t}else {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t}catch(Exception e) {\r\n\t\t\t\tSystem.out.println(&quot;Invalid String &quot;+e.getMessage());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}while(!(counter==slength));\r\n\t\t\r\n\t\tSystem.out.println(&quot;Result: &quot;+nresult);\r\n\t\t\r\n\t\tif(s.length()!=0) {\r\n\t\t\tSystem.out.println(&quot;Invalid String&quot;);\r\n\t\t}else {\r\n\t\tchar[] st = nresult.toCharArray();\r\n\t\tArrays.sort(st);\r\n\t\tSystem.out.println(st);\r\n\t\t}","title":"Given an input string of random letters find letters that make up numbers in Java","body":"<pre><code>    String s = &quot;twosixfourzerothreezeronineonetwothreefourfivesixseveneightninefive&quot;;\n    \n    String[] str = { &quot;zero&quot;,&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,&quot;eight&quot;,&quot;nine&quot;};\n    // z o w h u v x s g\n    String result = &quot;&quot;;\n    String d=&quot;&quot;;\n    \n    char resultc = 0;\n    String nresult = &quot;&quot;;\n    \n    char[] sc = s.toCharArray();\n    \n    int counter = 0;\n    int slength = s.length();\n    \n    do {\n        try {\n            if(s.contains(&quot;z&quot;)) {\n\n                s=s.replaceFirst(Character.toString('z'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('e'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('r'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('o'), &quot;&quot;);\n                counter=counter+1;\n                nresult = nresult+0;\n                System.out.println(&quot;SOriginal: &quot;+s);\n                System.out.println(&quot;nResult: &quot;+nresult);\n                \n            }else if(s.contains(&quot;w&quot;)) {\n                \n                s=s.replaceFirst(Character.toString('t'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('w'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('o'), &quot;&quot;);\n                counter=counter+1;\n                nresult = nresult+2;\n                System.out.println(&quot;SOriginal: &quot;+s);\n                System.out.println(&quot;nResult: &quot;+nresult);\n            }else if(s.contains(&quot;u&quot;)) {\n                \n                s=s.replaceFirst(Character.toString('f'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('o'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('u'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('r'), &quot;&quot;);\n                counter=counter+1;\n                nresult = nresult+4;\n                System.out.println(&quot;SOriginal: &quot;+s);\n                System.out.println(&quot;nResult: &quot;+nresult);\n            }else if(s.contains(&quot;x&quot;)) {\n                \n                s=s.replaceFirst(Character.toString('s'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('i'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('x'), &quot;&quot;);\n                counter=counter+1;\n                nresult = nresult+6;\n                System.out.println(&quot;SOriginal: &quot;+s);\n                System.out.println(&quot;nResult: &quot;+nresult);\n            }else if(s.contains(&quot;g&quot;)) {\n                \n                s=s.replaceFirst(Character.toString('e'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('i'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('g'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('h'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('t'), &quot;&quot;);\n                counter=counter+1;\n                nresult = nresult+8;\n                System.out.println(&quot;SOriginal: &quot;+s);\n                System.out.println(&quot;nResult: &quot;+nresult);\n            }else if(s.contains(&quot;h&quot;)) {\n                \n                s=s.replaceFirst(Character.toString('t'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('h'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('r'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('e'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('e'), &quot;&quot;);\n                counter=counter+1;\n\n                nresult = nresult+3;\n                System.out.println(&quot;SOriginal: &quot;+s);\n                System.out.println(&quot;nResult: &quot;+nresult);\n            }else if(s.contains(&quot;o&quot;) &amp;&amp; s.contains(&quot;n&quot;) &amp;&amp; s.contains(&quot;e&quot;)) {\n                \n                s=s.replaceFirst(Character.toString('o'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('n'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('e'), &quot;&quot;);\n                counter=counter+1;\n                nresult = nresult+1;\n                System.out.println(&quot;SOriginal: &quot;+s);\n                System.out.println(&quot;nResult: &quot;+nresult);\n            }else if(s.contains(&quot;f&quot;) &amp;&amp; s.contains(&quot;i&quot;) &amp;&amp; s.contains(&quot;v&quot;) &amp;&amp; s.contains(&quot;e&quot;)) {\n                \n                s=s.replaceFirst(Character.toString('f'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('i'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('v'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('e'), &quot;&quot;);\n                counter=counter+1;\n                nresult = nresult+5;\n                System.out.println(&quot;SOriginal: &quot;+s);\n                System.out.println(&quot;nResult: &quot;+nresult);\n            }else if(s.contains(&quot;s&quot;) &amp;&amp; s.contains(&quot;e&quot;) &amp;&amp; s.contains(&quot;v&quot;) &amp;&amp; s.contains(&quot;e&quot;) &amp;&amp; s.contains(&quot;n&quot;)) {\n                \n                s=s.replaceFirst(Character.toString('s'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('e'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('v'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('e'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('n'), &quot;&quot;);\n                counter=counter+1;\n                nresult = nresult+7;\n                System.out.println(&quot;SOriginal: &quot;+s);\n                System.out.println(&quot;nResult: &quot;+nresult);\n            }else if(s.contains(&quot;n&quot;) &amp;&amp; s.contains(&quot;i&quot;) &amp;&amp; s.contains(&quot;n&quot;) &amp;&amp; s.contains(&quot;e&quot;)) {\n                \n                s=s.replaceFirst(Character.toString('n'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('i'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('n'), &quot;&quot;);\n                counter=counter+1;\n                s=s.replaceFirst(Character.toString('e'), &quot;&quot;);\n                counter=counter+1;\n                nresult = nresult+9;\n                System.out.println(&quot;SOriginal: &quot;+s);\n                System.out.println(&quot;nResult: &quot;+nresult);\n            }else {\n                break;\n            }\n\n        }catch(Exception e) {\n            System.out.println(&quot;Invalid String &quot;+e.getMessage());\n        }\n        \n    }while(!(counter==slength));\n    \n    System.out.println(&quot;Result: &quot;+nresult);\n    \n    if(s.length()!=0) {\n        System.out.println(&quot;Invalid String&quot;);\n    }else {\n    char[] st = nresult.toCharArray();\n    Arrays.sort(st);\n    System.out.println(st);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30093530,"reputation":1,"user_id":23062399,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701989957,"creation_date":1701989957,"answer_id":77623487,"question_id":61923167,"body_markdown":"*Looking back at Bala&#39;s output above:*\r\n\r\n**ugstrheone ==&gt; 1**\r\nThis string is not valid for input.  A g is present but eight cannot be spelled.  S is present but six and seven cannot be spelled.\r\n\r\n**seoeisowufxrzohgiettrven ==&gt; 01236**\r\nThis is 024678 eeeefghiinooorrssttuvwxz when it&#39;s sorted.\r\n\r\nThe u and g indicate that four and eight are present.  There is one x, but two s’s, so a seven is present.\r\n01236 is eeeehinooorrsttwxz\r\n","title":"Given an input string of random letters find letters that make up numbers in Java","body":"<p><em>Looking back at Bala's output above:</em></p>\n<p><strong>ugstrheone ==&gt; 1</strong>\nThis string is not valid for input.  A g is present but eight cannot be spelled.  S is present but six and seven cannot be spelled.</p>\n<p><strong>seoeisowufxrzohgiettrven ==&gt; 01236</strong>\nThis is 024678 eeeefghiinooorrssttuvwxz when it's sorted.</p>\n<p>The u and g indicate that four and eight are present.  There is one x, but two s’s, so a seven is present.\n01236 is eeeehinooorrsttwxz</p>\n"}],"owner":{"account_id":7356171,"reputation":581,"user_id":5651575,"display_name":"youngdev"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4729,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":7,"score":-2,"last_activity_date":1701989957,"creation_date":1590009820,"question_id":61923167,"body_markdown":"I am looking to write a program where I am given a string containing jumbled letters from several concatenated words. Each word is a number from zero to nine. Each number may be in the string multiple times. I need to write a program that returns integers corresponding to the letters in the string. \r\n\r\nFor example:\r\n\r\ninput: reuonnoinfe\r\noutput: 149\r\n\r\nexplanation: the given string has one, four and nine\r\n\r\nwhat I have tried so far is:\r\n\r\n        public static int strConv(String str) {\r\n        HashMap&lt;Character, Integer&gt; charCount = new HashMap&lt;&gt;();\r\n        for (char c : s.toCharArray()) {\r\n            Integer count = charCount.get(c);\r\n            if (count == null) count = 0;\r\n            map.put(c, ++count);\r\n        }\r\n    }\r\n\r\nNote: If there are enough characters for multiple of the same numbers, I am expected to simply print the same number over again (ie. input: ooonneeto would be 112)\r\n\r\nI am new to java so unsure how to proceed. I am adding all characters I see to a map. Not sure what the next step would be? How can I check if the characters I have in my map correlate to any numbers between 0 and 9? \r\n","title":"Given an input string of random letters find letters that make up numbers in Java","body":"<p>I am looking to write a program where I am given a string containing jumbled letters from several concatenated words. Each word is a number from zero to nine. Each number may be in the string multiple times. I need to write a program that returns integers corresponding to the letters in the string. </p>\n\n<p>For example:</p>\n\n<p>input: reuonnoinfe\noutput: 149</p>\n\n<p>explanation: the given string has one, four and nine</p>\n\n<p>what I have tried so far is:</p>\n\n<pre><code>    public static int strConv(String str) {\n    HashMap&lt;Character, Integer&gt; charCount = new HashMap&lt;&gt;();\n    for (char c : s.toCharArray()) {\n        Integer count = charCount.get(c);\n        if (count == null) count = 0;\n        map.put(c, ++count);\n    }\n}\n</code></pre>\n\n<p>Note: If there are enough characters for multiple of the same numbers, I am expected to simply print the same number over again (ie. input: ooonneeto would be 112)</p>\n\n<p>I am new to java so unsure how to proceed. I am adding all characters I see to a map. Not sure what the next step would be? How can I check if the characters I have in my map correlate to any numbers between 0 and 9? </p>\n"},{"tags":["java","android","printers"],"owner":{"account_id":8852920,"reputation":393,"user_id":6611534,"display_name":"khushbu vadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":441,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":0,"score":6,"last_activity_date":1701989916,"creation_date":1558008059,"question_id":56168073,"body_markdown":"I have Brother **QL-570 label printer** and it&#39;s Vender-id = 1273 and Product-id = 8232.\r\nI want to take simple text print using my android app. Printer is connected to my phone with USB port. **I am not getting any error or even any result.** Below is my code.I searched for similar questions but can&#39;t get any solution.\r\n\r\nBelow is my code:\r\n\r\n**MainActivity.java**\r\n\r\n```\r\npublic class MainActivity extends Activity{\r\n\tprivate UsbManager mUsbManager;\r\n\tprivate UsbDevice mDevice;\r\n\tprivate UsbDeviceConnection mConnection;\r\n\tprivate UsbInterface mInterface;\r\n\tprivate UsbEndpoint mEndPoint;\r\n\tprivate PendingIntent mPermissionIntent;\r\n\tEditText ed_txt;\r\n\tprivate static final String ACTION_USB_PERMISSION = &quot;com.android.example.USB_PERMISSION&quot;;\r\n\tprivate static Boolean forceCLaim = true;\r\n\r\n\tHashMap&lt;String, UsbDevice&gt; mDeviceList;\r\n\tIterator&lt;UsbDevice&gt; mDeviceIterator;\r\n\tbyte[] testBytes;\r\n\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\r\n\r\n\t\ted_txt = (EditText) findViewById(R.id.ed_txt);\r\n\t\tButton print = (Button) findViewById(R.id.print);\r\n\r\n\t\tmUsbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n\t\tmDeviceList = mUsbManager.getDeviceList();\r\n\r\n\t\tif (mDeviceList.size() &gt; 0) {\r\n\t\t\tmDeviceIterator = mDeviceList.values().iterator();\r\n\r\n\t\t\tToast.makeText(this, &quot;Device List Size: &quot; + String.valueOf(mDeviceList.size()), Toast.LENGTH_SHORT).show();\r\n\r\n\t\t\tTextView textView = (TextView) findViewById(R.id.usbDevice);\r\n\t\t\tString usbDevice = &quot;&quot;;\r\n\t\t\twhile (mDeviceIterator.hasNext()) {\r\n\t\t\t\tUsbDevice usbDevice1 = mDeviceIterator.next();\r\n\t\t\t\tusbDevice += &quot;\\n&quot; +\r\n\t\t\t\t\t\t&quot;DeviceID: &quot; + usbDevice1.getDeviceId() + &quot;\\n&quot; +\r\n\t\t\t\t\t\t&quot;DeviceName: &quot; + usbDevice1.getDeviceName() + &quot;\\n&quot; +\r\n\t\t\t\t\t\t&quot;Protocol: &quot; + usbDevice1.getDeviceProtocol() + &quot;\\n&quot; +\r\n\t\t\t\t\t\t&quot;Product Name: &quot; + usbDevice1.getProductName() + &quot;\\n&quot; +\r\n\t\t\t\t\t\t&quot;Manufacturer Name: &quot; + usbDevice1.getManufacturerName() + &quot;\\n&quot; +\r\n\t\t\t\t\t\t&quot;DeviceClass: &quot; + usbDevice1.getDeviceClass() + &quot; - &quot; + translateDeviceClass(usbDevice1.getDeviceClass()) + &quot;\\n&quot; +\r\n\t\t\t\t\t\t&quot;DeviceSubClass: &quot; + usbDevice1.getDeviceSubclass() + &quot;\\n&quot; +\r\n\t\t\t\t\t\t&quot;VendorID: &quot; + usbDevice1.getVendorId() + &quot;\\n&quot; +\r\n\t\t\t\t\t\t&quot;ProductID: &quot; + usbDevice1.getProductId() + &quot;\\n&quot;;\r\n\r\n\t\t\t\tint interfaceCount = usbDevice1.getInterfaceCount();\r\n\t\t\t\tToast.makeText(this, &quot;INTERFACE COUNT: &quot; + String.valueOf(interfaceCount), Toast.LENGTH_SHORT).show();\r\n\r\n\t\t\t\tmDevice = usbDevice1;\r\n\r\n\t\t\t\tToast.makeText(this, &quot;Device is attached&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t\t\ttextView.setText(usbDevice);\r\n\t\t\t}\r\n\r\n\t\t\tmPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(ACTION_USB_PERMISSION), 0);\r\n\t\t\tIntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\r\n\t\t\tregisterReceiver(mUsbReceiver, filter);\r\n\r\n\t\t\tmUsbManager.requestPermission(mDevice, mPermissionIntent);\r\n\t\t} else {\r\n\t\t\tToast.makeText(this, &quot;Please attach printer via USB&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t}\r\n\t\tprint.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View view) {\r\n\t\t\t\tprint(mConnection, mInterface);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprivate void print(final UsbDeviceConnection connection, final UsbInterface usbInterface) {\r\n\t\tfinal String test = ed_txt.getText().toString() + &quot;\\n\\n&quot;;\r\n\t\ttestBytes = test.getBytes();\r\n\t\tif (usbInterface == null) {\r\n\t\t\tToast.makeText(this, &quot;INTERFACE IS NULL&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t} else if (connection == null) {\r\n\t\t\tToast.makeText(this, &quot;CONNECTION IS NULL&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t} else if (forceCLaim == null) {\r\n\t\t\tToast.makeText(this, &quot;FORCE CLAIM IS NULL&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t} else {\r\n\r\n\t\t\tconnection.claimInterface(usbInterface, forceCLaim);\r\n\t\t\ttry {\r\n\t\t\t\tbyte[] cut_paper = {0x1D, 0x56, 0x41, 0x10};\r\n\r\n\t\t\t\tint x = connection.bulkTransfer(mEndPoint, testBytes, testBytes.length, 500);\r\n\t\t\t\t//int transfered = connection.bulkTransfer(mEndPoint, cut_paper, cut_paper.length, 50000);\r\n\t\t\t\t//int iRes2 = connection.bulkTransfer(mEndPoint, testBytes, 18432, 500);//receive data\r\n\r\n\t\t\t\t/*byte[] init = {0x00,0x00,0x00,0x00,0x05,0x00,0x00,0x00,0x00,0x00,0x00,0x00};\r\n\t\t\t\tint x = connection.bulkTransfer(mEndPoint,init, init.length, 100);*/\r\n\r\n\r\n\t\t\t\tToast.makeText(MainActivity.this, &quot; Amount of data trnasferred &quot; + x,Toast.LENGTH_SHORT).show();\r\n\t\t\t\tconnection.close();\r\n\t\t\t}catch (Exception e){\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\tToast.makeText(MainActivity.this, &quot; Error ==&gt; &quot; + e.getLocalizedMessage(),Toast.LENGTH_SHORT).show();\r\n\t\t\t\talert(e.getLocalizedMessage());\r\n\t\t\t}\r\n\t\t\t/*Thread thread = new Thread(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tbyte[] cut_paper = {0x1D, 0x56, 0x41, 0x10};\r\n\t\t\t\t\t\tint transfered = connection.bulkTransfer(mEndPoint, testBytes, testBytes.length, 50000);\r\n\t\t\t\t\t\t//connection.bulkTransfer(mEndPoint, cut_paper, cut_paper.length, 0);\r\n\t\t\t\t\t\tToast.makeText(MainActivity.this, &quot; Amount of data trnasferred &quot; + transfered,Toast.LENGTH_SHORT).show();\r\n\t\t\t\t\t}catch (Exception e){\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\tToast.makeText(MainActivity.this, &quot; Error ==&gt; &quot; + e.getLocalizedMessage(),Toast.LENGTH_SHORT).show();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthread.run();*/\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfinal BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\r\n\t\t@Override\r\n\t\tpublic void onReceive(Context context, Intent intent) {\r\n\t\t\tString action = intent.getAction();\r\n\t\t\tif (ACTION_USB_PERMISSION.equals(action)) {\r\n\t\t\t\tsynchronized (this) {\r\n\t\t\t\t\tUsbDevice device = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n\r\n\t\t\t\t\tif (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\r\n\t\t\t\t\t\tif (device != null) {\r\n\t\t\t\t\t\t\t//call method to set up device communication\r\n\t\t\t\t\t\t\tmInterface = device.getInterface(0);\r\n\t\t\t\t\t\t\tmEndPoint = mInterface.getEndpoint(1);// 0 IN and  1 OUT to printer.\r\n\t\t\t\t\t\t\tmConnection = mUsbManager.openDevice(device);\r\n\t\t\t\t\t\t\talert(mInterface.getEndpoint(0).toString());\r\n\t\t\t\t\t\t\tToast.makeText(MainActivity.this,&quot;==&gt; &quot; + mInterface.getEndpoint(0),Toast.LENGTH_SHORT).show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tToast.makeText(context, &quot;PERMISSION DENIED FOR THIS DEVICE&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tprivate String translateDeviceClass(int deviceClass) {\r\n\r\n\t\tswitch (deviceClass) {\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_APP_SPEC:\r\n\t\t\t\treturn &quot;Application specific USB class&quot;;\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_AUDIO:\r\n\t\t\t\treturn &quot;USB class for audio devices&quot;;\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_CDC_DATA:\r\n\t\t\t\treturn &quot;USB class for CDC devices (communications device class)&quot;;\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_COMM:\r\n\t\t\t\treturn &quot;USB class for communication devices&quot;;\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_CONTENT_SEC:\r\n\t\t\t\treturn &quot;USB class for content security devices&quot;;\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_CSCID:\r\n\t\t\t\treturn &quot;USB class for content smart card devices&quot;;\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_HID:\r\n\t\t\t\treturn &quot;USB class for human interface devices (for example, mice and keyboards)&quot;;\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_HUB:\r\n\t\t\t\treturn &quot;USB class for USB hubs&quot;;\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_MASS_STORAGE:\r\n\t\t\t\treturn &quot;USB class for mass storage devices&quot;;\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_MISC:\r\n\t\t\t\treturn &quot;USB class for wireless miscellaneous devices&quot;;\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_PER_INTERFACE:\r\n\t\t\t\treturn &quot;USB class indicating that the class is determined on a per-interface basis&quot;;\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_PHYSICA:\r\n\t\t\t\treturn &quot;USB class for physical devices&quot;;\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_PRINTER:\r\n\t\t\t\treturn &quot;USB class for printers&quot;;\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_STILL_IMAGE:\r\n\t\t\t\treturn &quot;USB class for still image devices (digital cameras)&quot;;\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_VENDOR_SPEC:\r\n\t\t\t\treturn &quot;Vendor specific USB class&quot;;\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_VIDEO:\r\n\t\t\t\treturn &quot;USB class for video devices&quot;;\r\n\r\n\t\t\tcase UsbConstants.USB_CLASS_WIRELESS_CONTROLLER:\r\n\t\t\t\treturn &quot;USB class for wireless controller devices&quot;;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\treturn &quot;Unknown USB class!&quot;;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void alert(String msg){\r\n\t\tandroid.support.v7.app.AlertDialog.Builder alertDialogBuilder = new android.support.v7.app.AlertDialog.Builder(MainActivity.this);\r\n\t\talertDialogBuilder.setMessage(msg);\r\n\t\talertDialogBuilder.setPositiveButton(&quot;yes&quot;,\r\n\t\t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void onClick(DialogInterface arg0, int arg1) {\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\tAlertDialog alertDialog = alertDialogBuilder.create();\r\n\t\talertDialog.show();\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n**acitvity_main**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/usbDevice&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:gravity=&quot;center&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/ed_txt&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:textSize=&quot;25dp&quot;\r\n        android:hint=&quot;Enter text to print&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/print&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:text=&quot;print&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n\r\n**@xml/devices.xml**\r\n\r\n```\r\n&lt;resources&gt;\r\n     &lt;usb-device vendor-id=&quot;1273&quot; product-id=&quot;8232&quot; /&gt;\r\n&lt;/resources&gt;\r\n\r\n```\r\n\r\n**AndroidManifest.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.printer&quot;&gt;\r\n\r\n    &lt;supports-screens android:anyDensity=&quot;true&quot; /&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.usb.accessory&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;uses-library android:name=&quot;com.android.future.usb.accessory&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;action android:name=&quot;android.hardware.usb.action.USB_ACCESSORY_ATTACHED&quot; /&gt;\r\n                &lt;action android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot;\r\n                android:resource=&quot;@xml/devices&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n```","title":"Can&#39;t get print from label printer via USB","body":"<p>I have Brother <strong>QL-570 label printer</strong> and it's Vender-id = 1273 and Product-id = 8232.\nI want to take simple text print using my android app. Printer is connected to my phone with USB port. <strong>I am not getting any error or even any result.</strong> Below is my code.I searched for similar questions but can't get any solution.</p>\n\n<p>Below is my code:</p>\n\n<p><strong>MainActivity.java</strong></p>\n\n<pre><code>public class MainActivity extends Activity{\n    private UsbManager mUsbManager;\n    private UsbDevice mDevice;\n    private UsbDeviceConnection mConnection;\n    private UsbInterface mInterface;\n    private UsbEndpoint mEndPoint;\n    private PendingIntent mPermissionIntent;\n    EditText ed_txt;\n    private static final String ACTION_USB_PERMISSION = \"com.android.example.USB_PERMISSION\";\n    private static Boolean forceCLaim = true;\n\n    HashMap&lt;String, UsbDevice&gt; mDeviceList;\n    Iterator&lt;UsbDevice&gt; mDeviceIterator;\n    byte[] testBytes;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        super.onCreate(savedInstanceState);\n\n\n        ed_txt = (EditText) findViewById(R.id.ed_txt);\n        Button print = (Button) findViewById(R.id.print);\n\n        mUsbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\n        mDeviceList = mUsbManager.getDeviceList();\n\n        if (mDeviceList.size() &gt; 0) {\n            mDeviceIterator = mDeviceList.values().iterator();\n\n            Toast.makeText(this, \"Device List Size: \" + String.valueOf(mDeviceList.size()), Toast.LENGTH_SHORT).show();\n\n            TextView textView = (TextView) findViewById(R.id.usbDevice);\n            String usbDevice = \"\";\n            while (mDeviceIterator.hasNext()) {\n                UsbDevice usbDevice1 = mDeviceIterator.next();\n                usbDevice += \"\\n\" +\n                        \"DeviceID: \" + usbDevice1.getDeviceId() + \"\\n\" +\n                        \"DeviceName: \" + usbDevice1.getDeviceName() + \"\\n\" +\n                        \"Protocol: \" + usbDevice1.getDeviceProtocol() + \"\\n\" +\n                        \"Product Name: \" + usbDevice1.getProductName() + \"\\n\" +\n                        \"Manufacturer Name: \" + usbDevice1.getManufacturerName() + \"\\n\" +\n                        \"DeviceClass: \" + usbDevice1.getDeviceClass() + \" - \" + translateDeviceClass(usbDevice1.getDeviceClass()) + \"\\n\" +\n                        \"DeviceSubClass: \" + usbDevice1.getDeviceSubclass() + \"\\n\" +\n                        \"VendorID: \" + usbDevice1.getVendorId() + \"\\n\" +\n                        \"ProductID: \" + usbDevice1.getProductId() + \"\\n\";\n\n                int interfaceCount = usbDevice1.getInterfaceCount();\n                Toast.makeText(this, \"INTERFACE COUNT: \" + String.valueOf(interfaceCount), Toast.LENGTH_SHORT).show();\n\n                mDevice = usbDevice1;\n\n                Toast.makeText(this, \"Device is attached\", Toast.LENGTH_SHORT).show();\n                textView.setText(usbDevice);\n            }\n\n            mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(ACTION_USB_PERMISSION), 0);\n            IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\n            registerReceiver(mUsbReceiver, filter);\n\n            mUsbManager.requestPermission(mDevice, mPermissionIntent);\n        } else {\n            Toast.makeText(this, \"Please attach printer via USB\", Toast.LENGTH_SHORT).show();\n        }\n        print.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                print(mConnection, mInterface);\n            }\n        });\n    }\n\n    private void print(final UsbDeviceConnection connection, final UsbInterface usbInterface) {\n        final String test = ed_txt.getText().toString() + \"\\n\\n\";\n        testBytes = test.getBytes();\n        if (usbInterface == null) {\n            Toast.makeText(this, \"INTERFACE IS NULL\", Toast.LENGTH_SHORT).show();\n        } else if (connection == null) {\n            Toast.makeText(this, \"CONNECTION IS NULL\", Toast.LENGTH_SHORT).show();\n        } else if (forceCLaim == null) {\n            Toast.makeText(this, \"FORCE CLAIM IS NULL\", Toast.LENGTH_SHORT).show();\n        } else {\n\n            connection.claimInterface(usbInterface, forceCLaim);\n            try {\n                byte[] cut_paper = {0x1D, 0x56, 0x41, 0x10};\n\n                int x = connection.bulkTransfer(mEndPoint, testBytes, testBytes.length, 500);\n                //int transfered = connection.bulkTransfer(mEndPoint, cut_paper, cut_paper.length, 50000);\n                //int iRes2 = connection.bulkTransfer(mEndPoint, testBytes, 18432, 500);//receive data\n\n                /*byte[] init = {0x00,0x00,0x00,0x00,0x05,0x00,0x00,0x00,0x00,0x00,0x00,0x00};\n                int x = connection.bulkTransfer(mEndPoint,init, init.length, 100);*/\n\n\n                Toast.makeText(MainActivity.this, \" Amount of data trnasferred \" + x,Toast.LENGTH_SHORT).show();\n                connection.close();\n            }catch (Exception e){\n                e.printStackTrace();\n                Toast.makeText(MainActivity.this, \" Error ==&gt; \" + e.getLocalizedMessage(),Toast.LENGTH_SHORT).show();\n                alert(e.getLocalizedMessage());\n            }\n            /*Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    try {\n                        byte[] cut_paper = {0x1D, 0x56, 0x41, 0x10};\n                        int transfered = connection.bulkTransfer(mEndPoint, testBytes, testBytes.length, 50000);\n                        //connection.bulkTransfer(mEndPoint, cut_paper, cut_paper.length, 0);\n                        Toast.makeText(MainActivity.this, \" Amount of data trnasferred \" + transfered,Toast.LENGTH_SHORT).show();\n                    }catch (Exception e){\n                        e.printStackTrace();\n                        Toast.makeText(MainActivity.this, \" Error ==&gt; \" + e.getLocalizedMessage(),Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n            thread.run();*/\n        }\n    }\n\n\n    final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if (ACTION_USB_PERMISSION.equals(action)) {\n                synchronized (this) {\n                    UsbDevice device = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\n\n                    if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\n                        if (device != null) {\n                            //call method to set up device communication\n                            mInterface = device.getInterface(0);\n                            mEndPoint = mInterface.getEndpoint(1);// 0 IN and  1 OUT to printer.\n                            mConnection = mUsbManager.openDevice(device);\n                            alert(mInterface.getEndpoint(0).toString());\n                            Toast.makeText(MainActivity.this,\"==&gt; \" + mInterface.getEndpoint(0),Toast.LENGTH_SHORT).show();\n                        }\n                    } else {\n                        Toast.makeText(context, \"PERMISSION DENIED FOR THIS DEVICE\", Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n        }\n    };\n\n\n    private String translateDeviceClass(int deviceClass) {\n\n        switch (deviceClass) {\n\n            case UsbConstants.USB_CLASS_APP_SPEC:\n                return \"Application specific USB class\";\n\n            case UsbConstants.USB_CLASS_AUDIO:\n                return \"USB class for audio devices\";\n\n            case UsbConstants.USB_CLASS_CDC_DATA:\n                return \"USB class for CDC devices (communications device class)\";\n\n            case UsbConstants.USB_CLASS_COMM:\n                return \"USB class for communication devices\";\n\n            case UsbConstants.USB_CLASS_CONTENT_SEC:\n                return \"USB class for content security devices\";\n\n            case UsbConstants.USB_CLASS_CSCID:\n                return \"USB class for content smart card devices\";\n\n            case UsbConstants.USB_CLASS_HID:\n                return \"USB class for human interface devices (for example, mice and keyboards)\";\n\n            case UsbConstants.USB_CLASS_HUB:\n                return \"USB class for USB hubs\";\n\n            case UsbConstants.USB_CLASS_MASS_STORAGE:\n                return \"USB class for mass storage devices\";\n\n            case UsbConstants.USB_CLASS_MISC:\n                return \"USB class for wireless miscellaneous devices\";\n\n            case UsbConstants.USB_CLASS_PER_INTERFACE:\n                return \"USB class indicating that the class is determined on a per-interface basis\";\n\n            case UsbConstants.USB_CLASS_PHYSICA:\n                return \"USB class for physical devices\";\n\n            case UsbConstants.USB_CLASS_PRINTER:\n                return \"USB class for printers\";\n\n            case UsbConstants.USB_CLASS_STILL_IMAGE:\n                return \"USB class for still image devices (digital cameras)\";\n\n            case UsbConstants.USB_CLASS_VENDOR_SPEC:\n                return \"Vendor specific USB class\";\n\n            case UsbConstants.USB_CLASS_VIDEO:\n                return \"USB class for video devices\";\n\n            case UsbConstants.USB_CLASS_WIRELESS_CONTROLLER:\n                return \"USB class for wireless controller devices\";\n\n            default:\n                return \"Unknown USB class!\";\n        }\n    }\n\n    private void alert(String msg){\n        android.support.v7.app.AlertDialog.Builder alertDialogBuilder = new android.support.v7.app.AlertDialog.Builder(MainActivity.this);\n        alertDialogBuilder.setMessage(msg);\n        alertDialogBuilder.setPositiveButton(\"yes\",\n                new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface arg0, int arg1) {\n                    }\n                });\n        AlertDialog alertDialog = alertDialogBuilder.create();\n        alertDialog.show();\n    }\n\n}\n\n</code></pre>\n\n<p><strong>acitvity_main</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/usbDevice\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"10dp\"\n        android:gravity=\"center\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/ed_txt\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"20dp\"\n        android:textSize=\"25dp\"\n        android:hint=\"Enter text to print\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/print\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center\"\n        android:layout_marginTop=\"20dp\"\n        android:text=\"print\" /&gt;\n&lt;/LinearLayout&gt;\n\n</code></pre>\n\n<p><strong>@xml/devices.xml</strong></p>\n\n<pre><code>&lt;resources&gt;\n     &lt;usb-device vendor-id=\"1273\" product-id=\"8232\" /&gt;\n&lt;/resources&gt;\n\n</code></pre>\n\n<p><strong>AndroidManifest.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.printer\"&gt;\n\n    &lt;supports-screens android:anyDensity=\"true\" /&gt;\n\n    &lt;uses-feature android:name=\"android.hardware.usb.accessory\" /&gt;\n    &lt;uses-feature android:name=\"android.hardware.usb.host\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;uses-library android:name=\"com.android.future.usb.accessory\" /&gt;\n        &lt;activity\n            android:name=\".MainActivity\"\n            android:label=\"@string/app_name\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n                &lt;action android:name=\"android.hardware.usb.action.USB_ACCESSORY_ATTACHED\" /&gt;\n                &lt;action android:name=\"android.hardware.usb.action.USB_DEVICE_ATTACHED\" /&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data\n                android:name=\"android.hardware.usb.action.USB_DEVICE_ATTACHED\"\n                android:resource=\"@xml/devices\" /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n\n</code></pre>\n"},{"tags":["java","osgi","apache-felix","declarative-services"],"answers":[{"tags":[],"owner":{"account_id":201851,"reputation":9354,"user_id":448551,"display_name":"BJ Hargrave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701810063,"creation_date":1701810063,"answer_id":77609213,"question_id":77603422,"body_markdown":"Seems like it may be a bug in Apache Felix DS. You should file a bug.\r\n\r\nYour use of `@Reference` is a &quot;hybrid&quot; use case in that it uses field injection for the binding/unbinding but method injection for the updating. It is possible this use case is not properly handled by Felix DS.","title":"OSGi Declarative Services with Felix - @Reference &#39;updated&#39; method not invoked","body":"<p>Seems like it may be a bug in Apache Felix DS. You should file a bug.</p>\n<p>Your use of <code>@Reference</code> is a &quot;hybrid&quot; use case in that it uses field injection for the binding/unbinding but method injection for the updating. It is possible this use case is not properly handled by Felix DS.</p>\n"}],"owner":{"account_id":19301,"reputation":834,"user_id":45129,"accept_rate":100,"display_name":"benw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701989236,"creation_date":1701741095,"question_id":77603422,"body_markdown":"I&#39;m learning OSGi and Declarative Services for the first time and am unable to figure out why the &#39;updated&#39; method of my `@Reference` field is not being invoked.  I am using Felix 7.0.5.  I have three bundles built with Maven using org.apache.felix:maven-bundle-plugin:\r\n\r\n1) `osgi.api`: contains a single interface `ITask`\r\n2) `osgi.taskserviceds`: contains a single class `TaskRunnerDs` with an `@Reference` field\r\n3) `osgi.plugin1`: contains a class `Plugin1DsTask` implementing the `ITask` interface.\r\n\r\nThe reference field in `TaskRunnerDs` is clearly being updated with the `Plugin1DsTask` as I have added an executor into the class to check the contents periodically and print it out.  However the method I have indicated in the &#39;updated&#39; attribute is never invoked.  I can&#39;t find anything that indicates an issue.  The only possible problem I see is that the `osgi.plugin1` bundle is starting first.  However, I have done this same exercise using a `ServiceTracker` and that was not a problem.  What am I doing wrong?\r\n\r\nOutput from Felix:\r\n\r\n```\r\n$ java -jar bin/felix.jar\r\nStarting bundle: com.osgi.api\r\nDone starting bundle: com.osgi.api\r\nStarting bundle: com.osgi.plugin1\r\nDone starting bundle: com.osgi.plugin1\r\nStarting bundle: com.osgi.taskserviceds\r\nDone starting bundle: com.osgi.taskserviceds\r\n*** Plugin1DsTask created\r\n*** TaskRunnerDs created\r\n*** TaskRunnerDs activated\r\n____________________________\r\nWelcome to Apache Felix Gogo\r\n\r\ng!\r\n*** TaskRunnerDs running - tasks: [com.osgi.plugin1.activator.Plugin1DsTask@bed2ccd]\r\n*** TaskRunnerDs running - tasks: [com.osgi.plugin1.activator.Plugin1DsTask@bed2ccd]\r\n*** TaskRunnerDs running - tasks: [com.osgi.plugin1.activator.Plugin1DsTask@bed2ccd]\r\n*** TaskRunnerDs running - tasks: [com.osgi.plugin1.activator.Plugin1DsTask@bed2ccd]\r\n... &lt;remaining output omitted&gt; ...\r\n\r\ng! lb                                                                                                                                       17:39:56\r\n\r\nSTART LEVEL 1\r\n   ID|State      |Level|Name\r\n    0|Active     |    0|System Bundle (7.0.5)|7.0.5\r\n    1|Active     |    1|jansi (1.18.0)|1.18.0\r\n    2|Active     |    1|JLine Bundle (3.13.2)|3.13.2\r\n    3|Active     |    1|Apache Felix Bundle Repository (2.0.10)|2.0.10\r\n    4|Active     |    1|Apache Felix Gogo Command (1.1.2)|1.1.2\r\n    5|Active     |    1|Apache Felix Gogo JLine Shell (1.1.8)|1.1.8\r\n    6|Active     |    1|Apache Felix Gogo Runtime (1.1.4)|1.1.4\r\n    7|Active     |    1|Apache Felix Declarative Services (2.2.6)|2.2.6\r\n    8|Active     |    1|org.osgi:org.osgi.namespace.extender (1.0.1.201505202024)|1.0.1.201505202024\r\n    9|Active     |    1|org.osgi:org.osgi.service.component (1.5.1.202212101352)|1.5.1.202212101352\r\n   10|Active     |    1|org.osgi:org.osgi.service.component.annotations (1.5.1.202212101352)|1.5.1.202212101352\r\n   11|Active     |    1|org.osgi:org.osgi.util.function (1.0.0.201505202023)|1.0.0.201505202023\r\n   12|Active     |    1|org.osgi:org.osgi.util.promise (1.0.0.201505202023)|1.0.0.201505202023\r\n   13|Active     |    1|osgi.api (1.0.0)|1.0.0\r\n   14|Active     |    1|osgi.plugin1 (1.0.0)|1.0.0\r\n   15|Active     |    1|osgi.taskserviceds (1.0.0)|1.0.0\r\n```\r\n\r\nITask.java:\r\n\r\n```java\r\npackage com.osgi.task.api;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic interface ITask extends Runnable {\r\n\r\n\tString getName();\r\n\r\n\tint getInterval();\r\n\r\n\tTimeUnit getIntervalUnit();\r\n}\r\n```\r\n\r\nTaskRunnerDs.java\r\n\r\n```java\r\npackage com.osgi.taskservice.ds;\r\n\r\nimport java.util.List;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport org.osgi.service.component.annotations.Activate;\r\nimport org.osgi.service.component.annotations.Component;\r\nimport org.osgi.service.component.annotations.Reference;\r\nimport org.osgi.service.component.annotations.ReferenceCardinality;\r\nimport org.osgi.service.component.annotations.ReferencePolicy;\r\n\r\nimport com.osgi.task.api.ITask;\r\n\r\n@Component\r\npublic class TaskRunnerDs {\r\n\r\n\t@Reference(updated = &quot;updatedTasks&quot;, policy = ReferencePolicy.DYNAMIC, cardinality = ReferenceCardinality.AT_LEAST_ONE)\r\n\tpublic volatile List&lt;ITask&gt; fTasks;\r\n\r\n\tpublic TaskRunnerDs() {\r\n\t\tSystem.out.println(&quot;*** TaskRunnerDs created&quot;);\r\n\r\n        // for debugging\r\n\t\tScheduledExecutorService service = Executors.newSingleThreadScheduledExecutor();\r\n\t\tservice.scheduleWithFixedDelay(() -&gt; System.out.println(&quot;*** TaskRunnerDs running - tasks: &quot; + fTasks),\r\n\t\t\t\t\t\t\t\t\t   1,\r\n\t\t\t\t\t\t\t\t\t   1,\r\n\t\t\t\t\t\t\t\t\t   TimeUnit.SECONDS);\r\n\t}\r\n\r\n\t@Activate\r\n\tpublic void activate() {\r\n\t\tSystem.out.println(&quot;*** TaskRunnerDs activated&quot;);\r\n\t}\r\n\r\n\tpublic void updatedTasks() {\r\n\t\tSystem.out.println(&quot;*** Change detected to task list - new list:&quot;);\r\n\t\tfor (ITask task : fTasks) {\r\n\t\t\tSystem.out.println(&quot;Task: &quot; + task.getName() + &quot; - &quot; + task.getInterval() + &quot; &quot; + task.getIntervalUnit());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nPlugin1DsTask.java:\r\n\r\n```java\r\npackage com.osgi.plugin1.activator;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\nimport org.osgi.service.component.annotations.Component;\r\nimport com.osgi.task.api.ITask;\r\n\r\n@Component\r\npublic final class Plugin1DsTask implements ITask {\r\n\r\n\tpublic Plugin1DsTask() {\r\n\t\tSystem.out.println(&quot;*** Plugin1DsTask created&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getName() {\r\n\t\treturn getClass().getSimpleName();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getInterval() {\r\n\t\treturn 2;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic TimeUnit getIntervalUnit() {\r\n\t\treturn TimeUnit.SECONDS;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tSystem.out.println(&quot;Running task: &quot; + getName());\r\n\t}\r\n}\r\n```\r\n","title":"OSGi Declarative Services with Felix - @Reference &#39;updated&#39; method not invoked","body":"<p>I'm learning OSGi and Declarative Services for the first time and am unable to figure out why the 'updated' method of my <code>@Reference</code> field is not being invoked.  I am using Felix 7.0.5.  I have three bundles built with Maven using org.apache.felix:maven-bundle-plugin:</p>\n<ol>\n<li><code>osgi.api</code>: contains a single interface <code>ITask</code></li>\n<li><code>osgi.taskserviceds</code>: contains a single class <code>TaskRunnerDs</code> with an <code>@Reference</code> field</li>\n<li><code>osgi.plugin1</code>: contains a class <code>Plugin1DsTask</code> implementing the <code>ITask</code> interface.</li>\n</ol>\n<p>The reference field in <code>TaskRunnerDs</code> is clearly being updated with the <code>Plugin1DsTask</code> as I have added an executor into the class to check the contents periodically and print it out.  However the method I have indicated in the 'updated' attribute is never invoked.  I can't find anything that indicates an issue.  The only possible problem I see is that the <code>osgi.plugin1</code> bundle is starting first.  However, I have done this same exercise using a <code>ServiceTracker</code> and that was not a problem.  What am I doing wrong?</p>\n<p>Output from Felix:</p>\n<pre><code>$ java -jar bin/felix.jar\nStarting bundle: com.osgi.api\nDone starting bundle: com.osgi.api\nStarting bundle: com.osgi.plugin1\nDone starting bundle: com.osgi.plugin1\nStarting bundle: com.osgi.taskserviceds\nDone starting bundle: com.osgi.taskserviceds\n*** Plugin1DsTask created\n*** TaskRunnerDs created\n*** TaskRunnerDs activated\n____________________________\nWelcome to Apache Felix Gogo\n\ng!\n*** TaskRunnerDs running - tasks: [com.osgi.plugin1.activator.Plugin1DsTask@bed2ccd]\n*** TaskRunnerDs running - tasks: [com.osgi.plugin1.activator.Plugin1DsTask@bed2ccd]\n*** TaskRunnerDs running - tasks: [com.osgi.plugin1.activator.Plugin1DsTask@bed2ccd]\n*** TaskRunnerDs running - tasks: [com.osgi.plugin1.activator.Plugin1DsTask@bed2ccd]\n... &lt;remaining output omitted&gt; ...\n\ng! lb                                                                                                                                       17:39:56\n\nSTART LEVEL 1\n   ID|State      |Level|Name\n    0|Active     |    0|System Bundle (7.0.5)|7.0.5\n    1|Active     |    1|jansi (1.18.0)|1.18.0\n    2|Active     |    1|JLine Bundle (3.13.2)|3.13.2\n    3|Active     |    1|Apache Felix Bundle Repository (2.0.10)|2.0.10\n    4|Active     |    1|Apache Felix Gogo Command (1.1.2)|1.1.2\n    5|Active     |    1|Apache Felix Gogo JLine Shell (1.1.8)|1.1.8\n    6|Active     |    1|Apache Felix Gogo Runtime (1.1.4)|1.1.4\n    7|Active     |    1|Apache Felix Declarative Services (2.2.6)|2.2.6\n    8|Active     |    1|org.osgi:org.osgi.namespace.extender (1.0.1.201505202024)|1.0.1.201505202024\n    9|Active     |    1|org.osgi:org.osgi.service.component (1.5.1.202212101352)|1.5.1.202212101352\n   10|Active     |    1|org.osgi:org.osgi.service.component.annotations (1.5.1.202212101352)|1.5.1.202212101352\n   11|Active     |    1|org.osgi:org.osgi.util.function (1.0.0.201505202023)|1.0.0.201505202023\n   12|Active     |    1|org.osgi:org.osgi.util.promise (1.0.0.201505202023)|1.0.0.201505202023\n   13|Active     |    1|osgi.api (1.0.0)|1.0.0\n   14|Active     |    1|osgi.plugin1 (1.0.0)|1.0.0\n   15|Active     |    1|osgi.taskserviceds (1.0.0)|1.0.0\n</code></pre>\n<p>ITask.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.osgi.task.api;\n\nimport java.util.concurrent.TimeUnit;\n\npublic interface ITask extends Runnable {\n\n    String getName();\n\n    int getInterval();\n\n    TimeUnit getIntervalUnit();\n}\n</code></pre>\n<p>TaskRunnerDs.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.osgi.taskservice.ds;\n\nimport java.util.List;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\nimport org.osgi.service.component.annotations.Activate;\nimport org.osgi.service.component.annotations.Component;\nimport org.osgi.service.component.annotations.Reference;\nimport org.osgi.service.component.annotations.ReferenceCardinality;\nimport org.osgi.service.component.annotations.ReferencePolicy;\n\nimport com.osgi.task.api.ITask;\n\n@Component\npublic class TaskRunnerDs {\n\n    @Reference(updated = &quot;updatedTasks&quot;, policy = ReferencePolicy.DYNAMIC, cardinality = ReferenceCardinality.AT_LEAST_ONE)\n    public volatile List&lt;ITask&gt; fTasks;\n\n    public TaskRunnerDs() {\n        System.out.println(&quot;*** TaskRunnerDs created&quot;);\n\n        // for debugging\n        ScheduledExecutorService service = Executors.newSingleThreadScheduledExecutor();\n        service.scheduleWithFixedDelay(() -&gt; System.out.println(&quot;*** TaskRunnerDs running - tasks: &quot; + fTasks),\n                                       1,\n                                       1,\n                                       TimeUnit.SECONDS);\n    }\n\n    @Activate\n    public void activate() {\n        System.out.println(&quot;*** TaskRunnerDs activated&quot;);\n    }\n\n    public void updatedTasks() {\n        System.out.println(&quot;*** Change detected to task list - new list:&quot;);\n        for (ITask task : fTasks) {\n            System.out.println(&quot;Task: &quot; + task.getName() + &quot; - &quot; + task.getInterval() + &quot; &quot; + task.getIntervalUnit());\n        }\n    }\n}\n</code></pre>\n<p>Plugin1DsTask.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.osgi.plugin1.activator;\n\nimport java.util.concurrent.TimeUnit;\nimport org.osgi.service.component.annotations.Component;\nimport com.osgi.task.api.ITask;\n\n@Component\npublic final class Plugin1DsTask implements ITask {\n\n    public Plugin1DsTask() {\n        System.out.println(&quot;*** Plugin1DsTask created&quot;);\n    }\n\n    @Override\n    public String getName() {\n        return getClass().getSimpleName();\n    }\n\n    @Override\n    public int getInterval() {\n        return 2;\n    }\n\n    @Override\n    public TimeUnit getIntervalUnit() {\n        return TimeUnit.SECONDS;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Running task: &quot; + getName());\n    }\n}\n</code></pre>\n"},{"tags":["java","design-patterns","lambda","java-8","chain-of-responsibility"],"comments":[{"owner":{"account_id":322374,"reputation":5769,"user_id":641752,"accept_rate":77,"display_name":"rgamber"},"score":4,"creation_date":1460055082,"post_id":36484459,"comment_id":60578999,"body_markdown":"The problem is that you seem to have done no research or taken any effort to do this before posting your question here. You cannot ask people to write or share code for you. See the current Java implementation of the pattern, learn Lambda expression. Try to come up with your own implementation using Lamda&#39;s and then you can ask people so as to why your code is not working or if it can be improved. Good luck!","body":"The problem is that you seem to have done no research or taken any effort to do this before posting your question here. You cannot ask people to write or share code for you. See the current Java implementation of the pattern, learn Lambda expression. Try to come up with your own implementation using Lamda&#39;s and then you can ask people so as to why your code is not working or if it can be improved. Good luck!"},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1460055193,"post_id":36484459,"comment_id":60579061,"body_markdown":"I spent at least 30 minutes googling for Chain of Responsibility lambda. And the best I came to was that http://www.grahamlea.com/2014/07/lambda-design-patterns-java-8/","body":"I spent at least 30 minutes googling for Chain of Responsibility lambda. And the best I came to was that <a href=\"http://www.grahamlea.com/2014/07/lambda-design-patterns-java-8/\" rel=\"nofollow noreferrer\">grahamlea.com/2014/07/lambda-design-patterns-java-8</a>"},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1460055318,"post_id":36484459,"comment_id":60579143,"body_markdown":"I realy dont understand. This is one of the GOF patterns. There is a lot of resource online about Command and Lamda, Strategy and lamda, Decorator and Lamda. And I have not seen anything about CoF and lamda. I still dont get what is wrong with that question. But ok good. Bad question.","body":"I realy dont understand. This is one of the GOF patterns. There is a lot of resource online about Command and Lamda, Strategy and lamda, Decorator and Lamda. And I have not seen anything about CoF and lamda. I still dont get what is wrong with that question. But ok good. Bad question."},{"owner":{"account_id":4264083,"reputation":6317,"user_id":3487617,"display_name":"Hank D"},"score":1,"creation_date":1460059189,"post_id":36484459,"comment_id":60581402,"body_markdown":"You might look into `Consumer.andThen()` for clues on how it might be approached","body":"You might look into <code>Consumer.andThen()</code> for clues on how it might be approached"}],"answers":[{"tags":[],"owner":{"account_id":1744405,"reputation":28860,"user_id":1594933,"accept_rate":74,"display_name":"gontard"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1701987629,"creation_date":1460106824,"answer_id":36495807,"question_id":36484459,"body_markdown":"I have adapted the [java example from the wikipedia article][1]:\r\n\r\n&gt; In this example we have different roles, each having a fixed purchasing limit and a successor. Every time a user in a role receives a purchase request that exceeds his or her limit, the request is passed to his or her successor.\r\n\r\nA builder allow to build a chain of handler  :\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            final double base = 500;\r\n            ChainBuilder&lt;PurchaseRequest&gt; chainBuilder = ChainBuilder.chainBuilder();\r\n            Chain&lt;PurchaseRequest&gt; chain = chainBuilder\r\n                    .first(request -&gt; {\r\n                        if (request.getAmount() &lt; base * 10) {\r\n                            System.out.println(&quot;Manager will approve $&quot; + request.getAmount());\r\n                            return true;\r\n                        }\r\n                        return false;\r\n                    })\r\n                    .successor(request -&gt; {\r\n                        if (request.getAmount() &lt; base * 20) {\r\n                            System.out.println(&quot;Director will approve $&quot; + request.getAmount());\r\n                            return true;\r\n                        }\r\n                        return false;\r\n                    })\r\n                    .successor(request -&gt; {\r\n                        if (request.getAmount() &lt; base * 50) {\r\n                            System.out.println(&quot;President will approve $&quot; + request.getAmount());\r\n                        } else {\r\n                            System.out.println(&quot;Your request for $&quot; + request.getAmount() + &quot; needs a board meeting!&quot;);\r\n                        }\r\n                        return true;\r\n                    }).build();\r\n\r\n            chain.handle(new PurchaseRequest(1000)); // manager\r\n            chain.handle(new PurchaseRequest(9000)); // director\r\n            chain.handle(new PurchaseRequest(23000)); // president\r\n            chain.handle(new PurchaseRequest(100000)); // board\r\n        }\r\n\r\n        private static class PurchaseRequest {\r\n            private final double amount;\r\n\r\n            private PurchaseRequest(double amount) {\r\n                this.amount = amount;\r\n            }\r\n\r\n            public double getAmount() {\r\n                return amount;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\nThe lambda implements the functional interface `Handler`. `true` is return if the request was handled, `false` if the request should be processed by the successor:\r\n\r\n    public interface Handler&lt;T&gt; {\r\n        boolean handle(T t);\r\n    }\r\n\r\nThe `Chain` is a basic a consumer-like interface:\r\n\r\n    public interface Chain&lt;T&gt; {\r\n        void handle(T t);\r\n    }\r\n\r\nthe builder implementation:\r\n\r\n    \r\n    public class ChainBuilder&lt;T&gt; {\r\n        public static &lt;T&gt; ChainBuilder&lt;T&gt; chainBuilder() {\r\n            return new ChainBuilder&lt;&gt;();\r\n        }\r\n    \r\n        private HandlerImpl&lt;T&gt; first;\r\n    \r\n        private ChainBuilder() {\r\n        }\r\n    \r\n        public SuccessorBuilder first(Handler&lt;T&gt; handler) {\r\n            first = new HandlerImpl&lt;&gt;(handler);\r\n            return new SuccessorBuilder(first);\r\n        }\r\n    \r\n        public class SuccessorBuilder {\r\n            private HandlerImpl&lt;T&gt; current;\r\n    \r\n            private SuccessorBuilder(HandlerImpl&lt;T&gt; current) {\r\n                this.current = current;\r\n            }\r\n    \r\n            public SuccessorBuilder successor(Handler&lt;T&gt; successor) {\r\n                HandlerImpl&lt;T&gt; successorWrapper = new HandlerImpl&lt;&gt;(successor);\r\n                current.setSuccessor(successorWrapper);\r\n                current = successorWrapper;\r\n                return this;\r\n            }\r\n    \r\n            public Chain&lt;T&gt; build() {\r\n                return new ChainImpl&lt;T&gt;(first);\r\n            }\r\n        }\r\n    \r\n        private static class ChainImpl&lt;T&gt; implements Chain&lt;T&gt; {\r\n            private final Handler&lt;T&gt; first;\r\n    \r\n            public ChainImpl(Handler&lt;T&gt; first) {\r\n                this.first = first;\r\n            }\r\n    \r\n            @Override\r\n            public void handle(T t) {\r\n                first.handle(t);\r\n            }\r\n        }\r\n    \r\n        private static class HandlerImpl&lt;T&gt; implements Handler&lt;T&gt; {\r\n            private final Handler&lt;T&gt; delegate;\r\n            private Handler&lt;T&gt; successor;\r\n    \r\n            public HandlerImpl(Handler&lt;T&gt; delegate) {\r\n                this.delegate = delegate;\r\n            }\r\n    \r\n            private void setSuccessor(HandlerImpl&lt;T&gt; successor) {\r\n                this.successor = successor;\r\n            }\r\n    \r\n            @Override\r\n            public boolean handle(T t) {\r\n                if (delegate.handle(t)) {\r\n                    return true;\r\n                }\r\n                else if (successor != null) {\r\n                    return successor.handle(t);\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Chain-of-responsibility_pattern#Java_example","title":"Chain of responsibility - lambda function implementation","body":"<p>I have adapted the <a href=\"https://en.wikipedia.org/wiki/Chain-of-responsibility_pattern#Java_example\" rel=\"nofollow noreferrer\">java example from the wikipedia article</a>:</p>\n<blockquote>\n<p>In this example we have different roles, each having a fixed purchasing limit and a successor. Every time a user in a role receives a purchase request that exceeds his or her limit, the request is passed to his or her successor.</p>\n</blockquote>\n<p>A builder allow to build a chain of handler  :</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        final double base = 500;\n        ChainBuilder&lt;PurchaseRequest&gt; chainBuilder = ChainBuilder.chainBuilder();\n        Chain&lt;PurchaseRequest&gt; chain = chainBuilder\n                .first(request -&gt; {\n                    if (request.getAmount() &lt; base * 10) {\n                        System.out.println(&quot;Manager will approve $&quot; + request.getAmount());\n                        return true;\n                    }\n                    return false;\n                })\n                .successor(request -&gt; {\n                    if (request.getAmount() &lt; base * 20) {\n                        System.out.println(&quot;Director will approve $&quot; + request.getAmount());\n                        return true;\n                    }\n                    return false;\n                })\n                .successor(request -&gt; {\n                    if (request.getAmount() &lt; base * 50) {\n                        System.out.println(&quot;President will approve $&quot; + request.getAmount());\n                    } else {\n                        System.out.println(&quot;Your request for $&quot; + request.getAmount() + &quot; needs a board meeting!&quot;);\n                    }\n                    return true;\n                }).build();\n\n        chain.handle(new PurchaseRequest(1000)); // manager\n        chain.handle(new PurchaseRequest(9000)); // director\n        chain.handle(new PurchaseRequest(23000)); // president\n        chain.handle(new PurchaseRequest(100000)); // board\n    }\n\n    private static class PurchaseRequest {\n        private final double amount;\n\n        private PurchaseRequest(double amount) {\n            this.amount = amount;\n        }\n\n        public double getAmount() {\n            return amount;\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>The lambda implements the functional interface <code>Handler</code>. <code>true</code> is return if the request was handled, <code>false</code> if the request should be processed by the successor:</p>\n<pre><code>public interface Handler&lt;T&gt; {\n    boolean handle(T t);\n}\n</code></pre>\n<p>The <code>Chain</code> is a basic a consumer-like interface:</p>\n<pre><code>public interface Chain&lt;T&gt; {\n    void handle(T t);\n}\n</code></pre>\n<p>the builder implementation:</p>\n<pre><code>public class ChainBuilder&lt;T&gt; {\n    public static &lt;T&gt; ChainBuilder&lt;T&gt; chainBuilder() {\n        return new ChainBuilder&lt;&gt;();\n    }\n\n    private HandlerImpl&lt;T&gt; first;\n\n    private ChainBuilder() {\n    }\n\n    public SuccessorBuilder first(Handler&lt;T&gt; handler) {\n        first = new HandlerImpl&lt;&gt;(handler);\n        return new SuccessorBuilder(first);\n    }\n\n    public class SuccessorBuilder {\n        private HandlerImpl&lt;T&gt; current;\n\n        private SuccessorBuilder(HandlerImpl&lt;T&gt; current) {\n            this.current = current;\n        }\n\n        public SuccessorBuilder successor(Handler&lt;T&gt; successor) {\n            HandlerImpl&lt;T&gt; successorWrapper = new HandlerImpl&lt;&gt;(successor);\n            current.setSuccessor(successorWrapper);\n            current = successorWrapper;\n            return this;\n        }\n\n        public Chain&lt;T&gt; build() {\n            return new ChainImpl&lt;T&gt;(first);\n        }\n    }\n\n    private static class ChainImpl&lt;T&gt; implements Chain&lt;T&gt; {\n        private final Handler&lt;T&gt; first;\n\n        public ChainImpl(Handler&lt;T&gt; first) {\n            this.first = first;\n        }\n\n        @Override\n        public void handle(T t) {\n            first.handle(t);\n        }\n    }\n\n    private static class HandlerImpl&lt;T&gt; implements Handler&lt;T&gt; {\n        private final Handler&lt;T&gt; delegate;\n        private Handler&lt;T&gt; successor;\n\n        public HandlerImpl(Handler&lt;T&gt; delegate) {\n            this.delegate = delegate;\n        }\n\n        private void setSuccessor(HandlerImpl&lt;T&gt; successor) {\n            this.successor = successor;\n        }\n\n        @Override\n        public boolean handle(T t) {\n            if (delegate.handle(t)) {\n                return true;\n            }\n            else if (successor != null) {\n                return successor.handle(t);\n            }\n            return false;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7565,"favorite_count":0,"down_vote_count":10,"up_vote_count":7,"closed_date":1537023133,"accepted_answer_id":36495807,"answer_count":1,"score":-3,"last_activity_date":1701987629,"creation_date":1460054001,"question_id":36484459,"body_markdown":"How would you implement Chain of Responsibility pattern using Lambda in Java 8?  \r\n\r\n----------\r\n\r\nI only found a paragraph in [this article][1]:\r\n\r\n&gt; Chain of responsibility\r\n&gt;\r\n&gt; A lambda that may or may not delegate to another lambda, which may or may not delegate to another lambda, ad infinitum.\r\n(How to get the ‘next’ reference into the lambda is left as an exercise for the reader.)\r\n\r\n\r\n\r\n  [1]: http://www.grahamlea.com/2014/07/lambda-design-patterns-java-8/","title":"Chain of responsibility - lambda function implementation","body":"<p>How would you implement Chain of Responsibility pattern using Lambda in Java 8?</p>\n<hr />\n<p>I only found a paragraph in <a href=\"http://www.grahamlea.com/2014/07/lambda-design-patterns-java-8/\" rel=\"nofollow noreferrer\">this article</a>:</p>\n<blockquote>\n<p>Chain of responsibility</p>\n<p>A lambda that may or may not delegate to another lambda, which may or may not delegate to another lambda, ad infinitum.\n(How to get the ‘next’ reference into the lambda is left as an exercise for the reader.)</p>\n</blockquote>\n"},{"tags":["java","list","java-8","hashmap","collectors"],"comments":[{"owner":{"account_id":4359423,"reputation":1860,"user_id":3557027,"display_name":"Rabbit Guy"},"score":0,"creation_date":1500412538,"post_id":45177184,"comment_id":77322979,"body_markdown":"Well, first off, what error are you getting?","body":"Well, first off, what error are you getting?"},{"owner":{"account_id":2111403,"reputation":33688,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":2,"creation_date":1500435462,"post_id":45177184,"comment_id":77329293,"body_markdown":"Why don&#39;t you just use `map.get(inputAlphabet.toUpperCase())`?","body":"Why don&#39;t you just use <code>map.get(inputAlphabet.toUpperCase())</code>?"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1500446482,"post_id":45177184,"comment_id":77333390,"body_markdown":"@FedericoPeraltaSchaffner I assume because the `Map` might contains lower case letters also *in general*, this being just an example...","body":"@FedericoPeraltaSchaffner I assume because the <code>Map</code> might contains lower case letters also <i>in general</i>, this being just an example..."},{"owner":{"account_id":2111403,"reputation":33688,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":1,"creation_date":1500474936,"post_id":45177184,"comment_id":77354768,"body_markdown":"@Eugene Yes, I also think that this is a simplified example. I just commented so that OP has the chance to improve it.","body":"@Eugene Yes, I also think that this is a simplified example. I just commented so that OP has the chance to improve it."}],"answers":[{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1523512261,"creation_date":1500412627,"answer_id":45177261,"question_id":45177184,"body_markdown":"Your sniplet wil produce a `List&lt;List&lt;String&gt;&gt;` not `List&lt;String&gt;`.\r\n\r\n You are missing [flatMap][1] , that will convert stream of lists into a single stream, so basically flattens your stream:\r\n\r\n    List&lt;String&gt; wordsForGivenAlphabet = words.entrySet().stream()\r\n        .filter(x-&gt; x.getKey().equalsIgnoreCase(inputAlphabet))\r\n        .map(Map.Entry::getValue)\r\n        .flatMap(List::stream) \r\n        .collect(Collectors.toList());\r\n\r\nYou can also add `distinct()`, if you don&#39;t want values to repeat.\r\n\r\n\r\n  [1]: https://www.mkyong.com/java8/java-8-flatmap-example/","title":"Map to List after filtering on Map&#39;s key using Java8 stream","body":"<p>Your sniplet wil produce a <code>List&lt;List&lt;String&gt;&gt;</code> not <code>List&lt;String&gt;</code>.</p>\n\n<p>You are missing <a href=\"https://www.mkyong.com/java8/java-8-flatmap-example/\" rel=\"noreferrer\">flatMap</a> , that will convert stream of lists into a single stream, so basically flattens your stream:</p>\n\n<pre><code>List&lt;String&gt; wordsForGivenAlphabet = words.entrySet().stream()\n    .filter(x-&gt; x.getKey().equalsIgnoreCase(inputAlphabet))\n    .map(Map.Entry::getValue)\n    .flatMap(List::stream) \n    .collect(Collectors.toList());\n</code></pre>\n\n<p>You can also add <code>distinct()</code>, if you don't want values to repeat.</p>\n"},{"tags":[],"owner":{"account_id":11343192,"reputation":642,"user_id":8316534,"display_name":"Vitalii Muzalevskyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500413887,"creation_date":1500413459,"answer_id":45177453,"question_id":45177184,"body_markdown":"As was previously told after `collect` you will get `List&lt;List&lt;String&gt;&gt;` with only one or zero value in it. You can use `findFirst` instead of `collect` it will return you `Optional&lt;List&lt;String&gt;&gt;`.","title":"Map to List after filtering on Map&#39;s key using Java8 stream","body":"<p>As was previously told after <code>collect</code> you will get <code>List&lt;List&lt;String&gt;&gt;</code> with only one or zero value in it. You can use <code>findFirst</code> instead of <code>collect</code> it will return you <code>Optional&lt;List&lt;String&gt;&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1500447351,"creation_date":1500447351,"answer_id":45183017,"question_id":45177184,"body_markdown":"Federico is right in his comment, if all you want is to get the values of a certain key (inside a `List`) why don&#39;t you simply do a `get` (assuming all your keys are uppercase letters already) ? \r\n\r\n     List&lt;String&gt; values = words.get(inputAlphabet.toUpperCase());\r\n\r\nIf on the other hand this is just to understand how stream operations work, there is one more way to do it (via java-9 `Collectors.flatMapping`)\r\n\r\n    List&lt;String&gt; words2 = words.entrySet().stream()\r\n                .collect(Collectors.filtering(x -&gt; x.getKey().equalsIgnoreCase(inputAlphabet),\r\n                        Collectors.flatMapping(x -&gt; x.getValue().stream(), \r\n                              Collectors.toList())));\r\n    \r\n\r\n     ","title":"Map to List after filtering on Map&#39;s key using Java8 stream","body":"<p>Federico is right in his comment, if all you want is to get the values of a certain key (inside a <code>List</code>) why don't you simply do a <code>get</code> (assuming all your keys are uppercase letters already) ? </p>\n\n<pre><code> List&lt;String&gt; values = words.get(inputAlphabet.toUpperCase());\n</code></pre>\n\n<p>If on the other hand this is just to understand how stream operations work, there is one more way to do it (via java-9 <code>Collectors.flatMapping</code>)</p>\n\n<pre><code>List&lt;String&gt; words2 = words.entrySet().stream()\n            .collect(Collectors.filtering(x -&gt; x.getKey().equalsIgnoreCase(inputAlphabet),\n                    Collectors.flatMapping(x -&gt; x.getValue().stream(), \n                          Collectors.toList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30093477,"reputation":1,"user_id":23062359,"display_name":"friend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701987557,"creation_date":1701987557,"answer_id":77623378,"question_id":45177184,"body_markdown":"    List&lt;String&gt; items = words.entrySet().stream()\r\n      .filter(entry -&gt; entry.getKey().equals(&quot;B&quot;))\r\n      .flatMap(entry -&gt; entry.getValue().stream())\r\n      .collect(Collectors.toList());\r\n      System.out.println(items);","title":"Map to List after filtering on Map&#39;s key using Java8 stream","body":"<pre><code>List&lt;String&gt; items = words.entrySet().stream()\n  .filter(entry -&gt; entry.getKey().equals(&quot;B&quot;))\n  .flatMap(entry -&gt; entry.getValue().stream())\n  .collect(Collectors.toList());\n  System.out.println(items);\n</code></pre>\n"}],"owner":{"account_id":1801166,"reputation":808,"user_id":1639485,"accept_rate":43,"display_name":"user1639485"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30805,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":45177261,"answer_count":4,"score":10,"last_activity_date":1701987557,"creation_date":1500412396,"question_id":45177184,"body_markdown":"I have a `Map&lt;String, List&lt;String&gt;&gt;`. I want to transform this map to a List&lt;String&gt; after filtering on the map&#39;s key. \r\n\r\nExample:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; words = new HashMap&lt;&gt;();\r\n    List&lt;String&gt; aList = new ArrayList&lt;&gt;();\r\n    aList.add(&quot;Apple&quot;);\r\n    aList.add(&quot;Abacus&quot;);\r\n       \r\n    List&lt;String&gt; bList = new ArrayList&lt;&gt;();\r\n    bList.add(&quot;Bus&quot;);\r\n    bList.add(&quot;Blue&quot;);\r\n    words.put(&quot;A&quot;, aList);\r\n    words.put(&quot;B&quot;, bList);\r\n\r\nGiven a key, say, &quot;B&quot;\r\n\r\n    Expected Output: [&quot;Bus&quot;, &quot;Blue&quot;]\r\n\r\nThis is what I am trying:\r\n\r\n   \r\n\r\n     List&lt;String&gt; wordsForGivenAlphabet = words.entrySet().stream()\r\n        .filter(x-&gt; x.getKey().equalsIgnoreCase(inputAlphabet))\r\n        .map(x-&gt;x.getValue())\r\n        .collect(Collectors.toList());\r\n\r\nI am getting an error. Can someone provide me with a way to do it in Java8?\r\n\r\n\r\n\r\n","title":"Map to List after filtering on Map&#39;s key using Java8 stream","body":"<p>I have a <code>Map&lt;String, List&lt;String&gt;&gt;</code>. I want to transform this map to a List after filtering on the map's key. </p>\n\n<p>Example:</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; words = new HashMap&lt;&gt;();\nList&lt;String&gt; aList = new ArrayList&lt;&gt;();\naList.add(\"Apple\");\naList.add(\"Abacus\");\n\nList&lt;String&gt; bList = new ArrayList&lt;&gt;();\nbList.add(\"Bus\");\nbList.add(\"Blue\");\nwords.put(\"A\", aList);\nwords.put(\"B\", bList);\n</code></pre>\n\n<p>Given a key, say, \"B\"</p>\n\n<pre><code>Expected Output: [\"Bus\", \"Blue\"]\n</code></pre>\n\n<p>This is what I am trying:</p>\n\n<pre><code> List&lt;String&gt; wordsForGivenAlphabet = words.entrySet().stream()\n    .filter(x-&gt; x.getKey().equalsIgnoreCase(inputAlphabet))\n    .map(x-&gt;x.getValue())\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>I am getting an error. Can someone provide me with a way to do it in Java8?</p>\n"},{"tags":["java","google-cloud-platform","memcached","jcache"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1701995921,"post_id":77623322,"comment_id":136846848,"body_markdown":"https://stackoverflow.com/q/1980452/18157","body":"<a href=\"https://stackoverflow.com/q/1980452/18157\">stackoverflow.com/q/1980452/18157</a>"},{"owner":{"account_id":9701587,"reputation":25,"user_id":7196368,"display_name":"Mike"},"score":0,"creation_date":1702052439,"post_id":77623322,"comment_id":136854113,"body_markdown":"Thanks, that really helped me track this down, where some of the pom.xml files were being compiled with Java 8 instead of 17.","body":"Thanks, that really helped me track this down, where some of the pom.xml files were being compiled with Java 8 instead of 17."}],"owner":{"account_id":9701587,"reputation":25,"user_id":7196368,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702013612,"answer_count":0,"score":-3,"last_activity_date":1701986765,"creation_date":1701986765,"question_id":77623322,"body_markdown":"We&#39;re currently integrating with GCP memcache using the following library:\r\ncom.google.appengine\r\njcache-api\r\n0.1\r\n\r\nHowever, when I upgraded to Java17 I started getting the following error:\r\n\r\njava.lang.IncompatibleClassChangeError: Method javax.cache.CacheManager\r\n\r\njavax.cache.CacheManager.getInstance(); must be InterfaceMethodref constant\r\n\r\nHas anyone run into this issue? Is there a workaround or do we need to change our jcache library?\r\n\r\nThanks,\r\nMike","title":"Java8 to Java17 breaks google appengine memcache integration","body":"<p>We're currently integrating with GCP memcache using the following library:\ncom.google.appengine\njcache-api\n0.1</p>\n<p>However, when I upgraded to Java17 I started getting the following error:</p>\n<p>java.lang.IncompatibleClassChangeError: Method javax.cache.CacheManager</p>\n<p>javax.cache.CacheManager.getInstance(); must be InterfaceMethodref constant</p>\n<p>Has anyone run into this issue? Is there a workaround or do we need to change our jcache library?</p>\n<p>Thanks,\nMike</p>\n"},{"tags":["java","asynchronous","async-await","apache-flink"],"owner":{"account_id":9588169,"reputation":1265,"user_id":7120087,"display_name":"Baiqing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701986641,"creation_date":1701986641,"question_id":77623310,"body_markdown":"It seems like the `RichAsyncFunction` in Flink [does not support keyed streams](https://stackoverflow.com/questions/47728355/does-asyncfunction-work-on-keyedstream). I have a use case where I used a client to lookup a service for some result, cache it within value state as I have many duplicate keys in the upstream where the results are the same. (Think some attribute related to a user, but that user has multiple events and I need to join that attribute to the user event each time).\r\n\r\nI originally used a blocking client to do what I need, and that worked for a while under low traffic, however it has gotten to a state where the resources applied are no longer sufficient.\r\n\r\nI re-implemented the client to return a `CompletableFuture&lt;Result&gt;` object when invoked, and I want to know what is the best way to integrate that into a `KeyedProcessFunction` so I can take advantage of asynchronous function calling?","title":"Value state within asynchronous function calls for keyed streams","body":"<p>It seems like the <code>RichAsyncFunction</code> in Flink <a href=\"https://stackoverflow.com/questions/47728355/does-asyncfunction-work-on-keyedstream\">does not support keyed streams</a>. I have a use case where I used a client to lookup a service for some result, cache it within value state as I have many duplicate keys in the upstream where the results are the same. (Think some attribute related to a user, but that user has multiple events and I need to join that attribute to the user event each time).</p>\n<p>I originally used a blocking client to do what I need, and that worked for a while under low traffic, however it has gotten to a state where the resources applied are no longer sufficient.</p>\n<p>I re-implemented the client to return a <code>CompletableFuture&lt;Result&gt;</code> object when invoked, and I want to know what is the best way to integrate that into a <code>KeyedProcessFunction</code> so I can take advantage of asynchronous function calling?</p>\n"},{"tags":["java","android","kotlin","billing"],"owner":{"account_id":30092935,"reputation":1,"user_id":23061947,"display_name":"Android Evolution"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701985521,"creation_date":1701985251,"question_id":77623218,"body_markdown":"[enter image description here](https://i.stack.imgur.com/y0s9o.png)\r\n[enter image description here](https://i.stack.imgur.com/zPtV1.png)\r\n\r\nThe error happens when purchasing with bank cards, also periodically, but when purchasing with a test card everything works every time.\r\n\r\nWhat could be the reason? First of all is it ok to implement in this way? I am not listening to the purchases in any other screen because our app is a single device app","title":"periodically onPurchasesUpdated not called, billing:6.0.1","body":"<p><a href=\"https://i.stack.imgur.com/y0s9o.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/zPtV1.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The error happens when purchasing with bank cards, also periodically, but when purchasing with a test card everything works every time.</p>\n<p>What could be the reason? First of all is it ok to implement in this way? I am not listening to the purchases in any other screen because our app is a single device app</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":1108634,"reputation":2121,"user_id":1099503,"display_name":"DRCB"},"score":2,"creation_date":1354184473,"post_id":13623392,"comment_id":18682980,"body_markdown":"You do not have a year in your date. What result do you expect exactly?","body":"You do not have a year in your date. What result do you expect exactly?"},{"owner":{"account_id":1668696,"reputation":471,"user_id":1535592,"accept_rate":79,"display_name":"Dedyshka"},"score":0,"creation_date":1354185676,"post_id":13623392,"comment_id":18683596,"body_markdown":"Locale.getDefault().toString() prints ru_RU","body":"Locale.getDefault().toString() prints ru_RU"}],"answers":[{"tags":[],"owner":{"account_id":1443424,"reputation":822,"user_id":1362816,"accept_rate":60,"display_name":"Debobroto Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354184242,"creation_date":1354184242,"answer_id":13623475,"question_id":13623392,"body_markdown":"I think , Your input string (representing date ) is not in the format described in the pattern.","title":"Unparseable date","body":"<p>I think , Your input string (representing date ) is not in the format described in the pattern.</p>\n"},{"tags":[],"owner":{"account_id":1156609,"reputation":9392,"user_id":1137043,"accept_rate":100,"display_name":"brimborium"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1354186382,"creation_date":1354184846,"answer_id":13623662,"question_id":13623392,"body_markdown":"One problem could be that your `Locale` is not english. Try this:\r\n\r\n\r\n    DateFormat formatter = new SimpleDateFormat(&quot;dd-MMM&quot;, Locale.ENGLISH);\r\n    try {\r\n    \tSystem.out.println(formatter.parse(&quot;31-Dec&quot;));\r\n    } catch (ParseException e) {\r\n    \te.printStackTrace();\r\n    }\r\n\r\nThis returns for me:\r\n\r\n&gt; Thu Dec 31 00:00:00 CET 1970\r\n\r\nAs you are missing a year in your date string, you see that it automatically inserts `1970` as year.","title":"Unparseable date","body":"<p>One problem could be that your <code>Locale</code> is not english. Try this:</p>\n\n<pre><code>DateFormat formatter = new SimpleDateFormat(\"dd-MMM\", Locale.ENGLISH);\ntry {\n    System.out.println(formatter.parse(\"31-Dec\"));\n} catch (ParseException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>This returns for me:</p>\n\n<blockquote>\n  <p>Thu Dec 31 00:00:00 CET 1970</p>\n</blockquote>\n\n<p>As you are missing a year in your date string, you see that it automatically inserts <code>1970</code> as year.</p>\n"},{"tags":[],"owner":{"account_id":1443424,"reputation":822,"user_id":1362816,"accept_rate":60,"display_name":"Debobroto Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354185927,"creation_date":1354185927,"answer_id":13624005,"question_id":13623392,"body_markdown":"Try this---    \r\n\r\n\r\n        String pattern = &quot;dd-MMM&quot;;\r\n\tSimpleDateFormat dateFormat = new SimpleDateFormat(pattern);\r\n\tdateFormat.setTimeZone(TimeZone.getDefault());\r\n\tString input = &quot;31-Dec&quot;;\r\n\ttry\r\n\t{\r\n\t\tdateFormat.parse(input);\r\n\t\tCalendar cal = dateFormat.getCalendar();\r\n\t\tSystem.out.println(&quot;Day &quot;+cal.get(Calendar.DAY_OF_MONTH));\r\n\t\tSystem.out.println(&quot;MONTH &quot;+ cal.get(Calendar.MONTH));\r\n\t\t\r\n\t}catch(Exception e)\r\n\t{\r\n\t\t\r\n\t}","title":"Unparseable date","body":"<p>Try this---    </p>\n\n<pre><code>    String pattern = \"dd-MMM\";\nSimpleDateFormat dateFormat = new SimpleDateFormat(pattern);\ndateFormat.setTimeZone(TimeZone.getDefault());\nString input = \"31-Dec\";\ntry\n{\n    dateFormat.parse(input);\n    Calendar cal = dateFormat.getCalendar();\n    System.out.println(\"Day \"+cal.get(Calendar.DAY_OF_MONTH));\n    System.out.println(\"MONTH \"+ cal.get(Calendar.MONTH));\n\n}catch(Exception e)\n{\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354186088,"creation_date":1354186088,"answer_id":13624041,"question_id":13623392,"body_markdown":"I wrote up a simple example that works on my machine.  Give it a shot on yours, it may help you pinpoint the problem.\r\n\r\n    public class Example {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString data = &quot;31-Dec&quot;;\r\n    \t\tString pattern = &quot;dd-MMMM&quot;;\r\n    \t\t\r\n    \t\tDateFormat formatter = new SimpleDateFormat(pattern);\r\n    \t\tformatter.setTimeZone(TimeZone.getDefault());\r\n    \t\ttry {\r\n    \t\t\tDate date = formatter.parse(data);\r\n    \t\t\tSystem.out.println(date.getDate());\r\n    \t\t\tSystem.out.println(date.getMonth());\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }","title":"Unparseable date","body":"<p>I wrote up a simple example that works on my machine.  Give it a shot on yours, it may help you pinpoint the problem.</p>\n\n<pre><code>public class Example {\n\n    public static void main(String[] args) {\n        String data = \"31-Dec\";\n        String pattern = \"dd-MMMM\";\n\n        DateFormat formatter = new SimpleDateFormat(pattern);\n        formatter.setTimeZone(TimeZone.getDefault());\n        try {\n            Date date = formatter.parse(data);\n            System.out.println(date.getDate());\n            System.out.println(date.getMonth());\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701985072,"creation_date":1701985072,"answer_id":77623205,"question_id":13623392,"body_markdown":"# tl;dr\r\n\r\n```java\r\nMonthDay\r\n    .parse(\r\n        &quot;31-Dec&quot; ,\r\n        DateTimeFormatter\r\n            .ofPattern ( &quot;dd-MMM&quot; )\r\n            .withLocale ( Locale.US )\r\n    )\r\n```\r\n\r\n\r\n# `MonthDay`\r\n\r\n&gt;string-date &quot;31-Dec&quot;, and pattern &quot;dd-MMM&quot;\r\n\r\nThere&#39;s a class for that: [`MonthDay`][1] in the *java.time* framework in Java 8+. \r\n\r\nYou were using the `Calendar` class, which represents a moment, a point on the timeline. But your input is not a moment, it is merely a month and day-of-month. So your input lacks the necessary information to make a `Calendar` instance. Furthermore, `Calendar` is a terribly flawed class that was years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\nTo parse your input text as a `MonthDay` object, define a formatting pattern in a `DateTimeFormatter` object. Be sure to specify the `Locale` by which to understand the localized name of month. \r\n\r\n```java\r\nString input = &quot;31-Dec&quot;;\r\nDateTimeFormatter f = DateTimeFormatter.ofPattern ( &quot;dd-MMM&quot; ).withLocale ( Locale.US );\r\nMonthDay md = MonthDay.parse ( input , f );\r\n```\r\n\r\n## ISO 8601\r\n\r\nGenerate text representing that value in standard [ISO 8601][2] format. The first hyphen in the result represents the omitted year. \r\n\r\n&gt;md.toString() = --12-31\r\n\r\nThe *java.time* classes use the ISO 8601 formats by default when parsing/generating text. So no need to specify a formatting pattern.\r\n\r\n```java\r\nString standardText = md.toString ( );\r\nMonthDay md2 = MonthDay.parse ( standardText );\r\n```\r\n\r\nI suggest you educate the publisher of your data about using only the standard ISO 8601 formats for exchanging date-time values as text.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/MonthDay.html\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601","title":"Unparseable date","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>MonthDay\n    .parse(\n        &quot;31-Dec&quot; ,\n        DateTimeFormatter\n            .ofPattern ( &quot;dd-MMM&quot; )\n            .withLocale ( Locale.US )\n    )\n</code></pre>\n<h1><code>MonthDay</code></h1>\n<blockquote>\n<p>string-date &quot;31-Dec&quot;, and pattern &quot;dd-MMM&quot;</p>\n</blockquote>\n<p>There's a class for that: <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/MonthDay.html\" rel=\"nofollow noreferrer\"><code>MonthDay</code></a> in the <em>java.time</em> framework in Java 8+.</p>\n<p>You were using the <code>Calendar</code> class, which represents a moment, a point on the timeline. But your input is not a moment, it is merely a month and day-of-month. So your input lacks the necessary information to make a <code>Calendar</code> instance. Furthermore, <code>Calendar</code> is a terribly flawed class that was years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>To parse your input text as a <code>MonthDay</code> object, define a formatting pattern in a <code>DateTimeFormatter</code> object. Be sure to specify the <code>Locale</code> by which to understand the localized name of month.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;31-Dec&quot;;\nDateTimeFormatter f = DateTimeFormatter.ofPattern ( &quot;dd-MMM&quot; ).withLocale ( Locale.US );\nMonthDay md = MonthDay.parse ( input , f );\n</code></pre>\n<h2>ISO 8601</h2>\n<p>Generate text representing that value in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format. The first hyphen in the result represents the omitted year.</p>\n<blockquote>\n<p>md.toString() = --12-31</p>\n</blockquote>\n<p>The <em>java.time</em> classes use the ISO 8601 formats by default when parsing/generating text. So no need to specify a formatting pattern.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String standardText = md.toString ( );\nMonthDay md2 = MonthDay.parse ( standardText );\n</code></pre>\n<p>I suggest you educate the publisher of your data about using only the standard ISO 8601 formats for exchanging date-time values as text.</p>\n"}],"owner":{"account_id":1668696,"reputation":471,"user_id":1535592,"accept_rate":79,"display_name":"Dedyshka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3251,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13623662,"answer_count":5,"score":2,"last_activity_date":1701985072,"creation_date":1354183960,"question_id":13623392,"body_markdown":"I have a string-date &quot;31-Dec&quot;, and pattern &quot;dd-MMM&quot;. And the next code\r\n\r\n    DateFormat formatter = new SimpleDateFormat(pattern);\r\n    formatter.setTimeZone(timeZone);\r\n    formatter.parse(input);\r\n\r\ngenerates exception \r\n\r\n    java.text.ParseException: Unparseable date: &quot;31-Dec&quot;\r\n    \tat java.text.DateFormat.parse(DateFormat.java:337)....\r\n\r\nWhat did I do wrong?\r\n\r\nThanks!","title":"Unparseable date","body":"<p>I have a string-date \"31-Dec\", and pattern \"dd-MMM\". And the next code</p>\n\n<pre><code>DateFormat formatter = new SimpleDateFormat(pattern);\nformatter.setTimeZone(timeZone);\nformatter.parse(input);\n</code></pre>\n\n<p>generates exception </p>\n\n<pre><code>java.text.ParseException: Unparseable date: \"31-Dec\"\n    at java.text.DateFormat.parse(DateFormat.java:337)....\n</code></pre>\n\n<p>What did I do wrong?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":10,"creation_date":1701980832,"post_id":77622905,"comment_id":136845049,"body_markdown":"Please read: [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why should I not upload images of code/data/errors?</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1701981859,"post_id":77622905,"comment_id":136845197,"body_markdown":"When you edit the question to show text as text, not images, as requested in the first comment,  you should also tell us what problem(s) are encountered when you attempt to call the method. Do you get an compiler error? Include a copy of the error.","body":"When you edit the question to show text as text, not images, as requested in the first comment,  you should also tell us what problem(s) are encountered when you attempt to call the method. Do you get an compiler error? Include a copy of the error."},{"owner":{"account_id":29776321,"reputation":1,"user_id":22820190,"display_name":"Eren YETİM"},"score":0,"creation_date":1701982098,"post_id":77622905,"comment_id":136845228,"body_markdown":"I can&#39;t upload images because my reputation score is low","body":"I can&#39;t upload images because my reputation score is low"},{"owner":{"account_id":29776321,"reputation":1,"user_id":22820190,"display_name":"Eren YETİM"},"score":0,"creation_date":1701984992,"post_id":77622905,"comment_id":136845680,"body_markdown":"Is it true right now?","body":"Is it true right now?"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1701985086,"post_id":77622905,"comment_id":136845694,"body_markdown":"‘ I cannot call it’ is not a problem description. And please look up `Map.get()`. You don’t need to search a Map linearly for a key.","body":"‘ I cannot call it’ is not a problem description. And please look up <code>Map.get()</code>. You don’t need to search a Map linearly for a key."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1702051846,"post_id":77622905,"comment_id":136854003,"body_markdown":"Please click on the link in the notice that the question is closed. It gives advice on how to show a *minimal reproducible example* in the question. The code sample should not be sub-minimal; it should be complete. By &quot;complete&quot;, I mean we should be able to copy-and-paste code from the question into our IDE.  Without adding or subtracting anything to the code we paste, we should be able to compile it and get the same error(s) you do, and **only** that / those errors.","body":"Please click on the link in the notice that the question is closed. It gives advice on how to show a <i>minimal reproducible example</i> in the question. The code sample should not be sub-minimal; it should be complete. By &quot;complete&quot;, I mean we should be able to copy-and-paste code from the question into our IDE.  Without adding or subtracting anything to the code we paste, we should be able to compile it and get the same error(s) you do, and <b>only</b> that / those errors."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1702052973,"post_id":77622905,"comment_id":136854203,"body_markdown":"You might not be a native English speaker, so you might not be aware there is ambiguity in your question.  For example, is `public void getDimension` method a method of the &quot;data cube&quot; class or the &quot;dimension&quot; class? Keeping in mind the advice about showing a *minimal reproducible example*, edit the question to show the fragment from the &quot;data cube&quot; class to be inside a `class`. Show the `getDimension` method to be inside whatever class it is a part of.  Show code that shows how the classes and objects interrelate. Show the `public static void main` method.","body":"You might not be a native English speaker, so you might not be aware there is ambiguity in your question.  For example, is <code>public void getDimension</code> method a method of the &quot;data cube&quot; class or the &quot;dimension&quot; class? Keeping in mind the advice about showing a <i>minimal reproducible example</i>, edit the question to show the fragment from the &quot;data cube&quot; class to be inside a <code>class</code>. Show the <code>getDimension</code> method to be inside whatever class it is a part of.  Show code that shows how the classes and objects interrelate. Show the <code>public static void main</code> method."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1702167507,"post_id":77622905,"comment_id":136864045,"body_markdown":"And show a copy of error message(s).","body":"And show a copy of error message(s)."}],"owner":{"account_id":29776321,"reputation":1,"user_id":22820190,"display_name":"Eren YETİM"},"comment_count":8,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1701981097,"answer_count":0,"score":-4,"last_activity_date":1701984944,"creation_date":1701980741,"question_id":77622905,"body_markdown":"The class I&#39;m using, I need to call a method from another class, but I can&#39;t call it. I am doing a project consisting of 3 classes. I use main, data cube and dimension classes. While I can call a method in the dimension class in the main class, I cannot call it in the data cube class.\r\n\r\nThis is the method I opened in the data cube class. I want to get the value from the dimension class, but even if I create an object, I cannot call the method from the dimension class.\r\n\r\nMy definitions in the data cube are as follows;\r\n\r\n    private Map&lt;Integer, String&gt; datacube = new HashMap&lt;Integer, String&gt;();\r\n\tprivate String cubeName;\r\n\tpublic Dimension dimension = new Dimension();\r\n\tprivate Set&lt;String&gt; dimension2 = new HashSet&lt;String&gt;();\r\n\r\nThe method I want to call from the dimension class in the data cube class is as follows.\r\n\r\n    \tpublic void getDimension(int index)\r\n\t{\r\n\t\t\r\n\t\tfor (Map.Entry&lt;Integer, String&gt; entry : datacube.entrySet())\r\n\t\t{\r\n\t\t\tif(index == entry.getKey())\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThis is my dimension class;\r\n\r\n    public class Dimension\r\n    {\r\n\tprivate Set&lt;String&gt; values = new HashSet&lt;String&gt;();\r\n\tpublic Dimension()\r\n\t{\r\n\t\t\r\n\t}\r\n\r\n\tpublic void getValue(String value)\r\n\t{\r\n\t\tvalues.add(value);\r\n\t}\r\n\r\n\tpublic Set&lt;String&gt; getValues() {\r\n\t\treturn values;\r\n\t}\r\n\r\n\tpublic void setValues(Set&lt;String&gt; values) {\r\n\t\tthis.values = values;\r\n\t}\t\r\n}\r\n\r\nWhat do I need to do to solve this problem?\r\n\r\n","title":"Calling a method in a class in Java","body":"<p>The class I'm using, I need to call a method from another class, but I can't call it. I am doing a project consisting of 3 classes. I use main, data cube and dimension classes. While I can call a method in the dimension class in the main class, I cannot call it in the data cube class.</p>\n<p>This is the method I opened in the data cube class. I want to get the value from the dimension class, but even if I create an object, I cannot call the method from the dimension class.</p>\n<p>My definitions in the data cube are as follows;</p>\n<pre><code>private Map&lt;Integer, String&gt; datacube = new HashMap&lt;Integer, String&gt;();\nprivate String cubeName;\npublic Dimension dimension = new Dimension();\nprivate Set&lt;String&gt; dimension2 = new HashSet&lt;String&gt;();\n</code></pre>\n<p>The method I want to call from the dimension class in the data cube class is as follows.</p>\n<pre><code>    public void getDimension(int index)\n{\n    \n    for (Map.Entry&lt;Integer, String&gt; entry : datacube.entrySet())\n    {\n        if(index == entry.getKey())\n        {\n            \n        }\n    }\n}\n</code></pre>\n<p>This is my dimension class;</p>\n<pre><code>public class Dimension\n{\nprivate Set&lt;String&gt; values = new HashSet&lt;String&gt;();\npublic Dimension()\n{\n    \n}\n\npublic void getValue(String value)\n{\n    values.add(value);\n}\n\npublic Set&lt;String&gt; getValues() {\n    return values;\n}\n\npublic void setValues(Set&lt;String&gt; values) {\n    this.values = values;\n}   \n</code></pre>\n<p>}</p>\n<p>What do I need to do to solve this problem?</p>\n"},{"tags":["java","spring","apache-kafka","confluent-platform"],"owner":{"account_id":20517117,"reputation":1,"user_id":15057518,"display_name":"Amber Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701984338,"creation_date":1701174805,"question_id":77563903,"body_markdown":"I&#39;m currently testing how the parallel-consumer library (https://github.com/confluentinc/parallel-consumer) behaves. However, I&#39;ve encountered an issue while setting up the factory container customizer. I want to set my message listener, which is of type ParallelStreamProcessor. However, the method setupMessageListener only expects AcknowledgingMessageListener or MessageListener.\r\nIs there any way to address this? One option is to create a customized listener by extending one of the existing listeners, but I&#39;m open to other solutions.\r\n\t\r\n\r\n    /**\r\n    \t * Set the message listener; must be a {@link org.springframework.kafka.listener.MessageListener}\r\n    \t * or {@link org.springframework.kafka.listener.AcknowledgingMessageListener}.\r\n    \t * @param messageListener the listener.\r\n    \t */\r\n    \tpublic void setMessageListener(Object messageListener) {\r\n    \t\tthis.messageListener = messageListener;\r\n    \t\tadviseListenerIfNeeded();\r\n    \t}\r\n\r\nThis is how I am creating beans\r\n  \r\n\r\n    @Bean\r\n      public ParallelStreamProcessor&lt;String, String&gt; parallelStreamProcessor(Consumer&lt;String, String&gt; kafkaConsumer) {\r\n    \r\n        ParallelConsumerOptions&lt;String, String&gt; options = ParallelConsumerOptions.&lt;String, String&gt;builder()\r\n            .ordering(ParallelConsumerOptions.ProcessingOrder.KEY)\r\n            .maxConcurrency(16)\r\n            .commitMode(ParallelConsumerOptions.CommitMode.PERIODIC_CONSUMER_SYNC)\r\n            .consumer(kafkaConsumer)\r\n            .build();\r\n    \r\n        return ParallelStreamProcessor.createEosStreamProcessor(options);\r\n      }\r\n    \r\n      @Bean\r\n      public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory(\r\n          ConsumerFactory&lt;String, String&gt; consumerFactory,\r\n          ParallelStreamProcessor&lt;String, String&gt; parallelStreamProcessor) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory);\r\n    \r\n        factory.setContainerCustomizer(container -&gt; {\r\n          container.setupMessageListener(parallelStreamProcessor);\r\n          container.setAutoStartup(true);\r\n        });\r\n    \r\n        return factory;\r\n      }\r\n\r\nI expect alternate solution to resolve this issue.\r\n","title":"Parallel consumer with spring boot","body":"<p>I'm currently testing how the parallel-consumer library (<a href=\"https://github.com/confluentinc/parallel-consumer\" rel=\"nofollow noreferrer\">https://github.com/confluentinc/parallel-consumer</a>) behaves. However, I've encountered an issue while setting up the factory container customizer. I want to set my message listener, which is of type ParallelStreamProcessor. However, the method setupMessageListener only expects AcknowledgingMessageListener or MessageListener.\nIs there any way to address this? One option is to create a customized listener by extending one of the existing listeners, but I'm open to other solutions.</p>\n<pre><code>/**\n     * Set the message listener; must be a {@link org.springframework.kafka.listener.MessageListener}\n     * or {@link org.springframework.kafka.listener.AcknowledgingMessageListener}.\n     * @param messageListener the listener.\n     */\n    public void setMessageListener(Object messageListener) {\n        this.messageListener = messageListener;\n        adviseListenerIfNeeded();\n    }\n</code></pre>\n<p>This is how I am creating beans</p>\n<pre><code>@Bean\n  public ParallelStreamProcessor&lt;String, String&gt; parallelStreamProcessor(Consumer&lt;String, String&gt; kafkaConsumer) {\n\n    ParallelConsumerOptions&lt;String, String&gt; options = ParallelConsumerOptions.&lt;String, String&gt;builder()\n        .ordering(ParallelConsumerOptions.ProcessingOrder.KEY)\n        .maxConcurrency(16)\n        .commitMode(ParallelConsumerOptions.CommitMode.PERIODIC_CONSUMER_SYNC)\n        .consumer(kafkaConsumer)\n        .build();\n\n    return ParallelStreamProcessor.createEosStreamProcessor(options);\n  }\n\n  @Bean\n  public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory(\n      ConsumerFactory&lt;String, String&gt; consumerFactory,\n      ParallelStreamProcessor&lt;String, String&gt; parallelStreamProcessor) {\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory);\n\n    factory.setContainerCustomizer(container -&gt; {\n      container.setupMessageListener(parallelStreamProcessor);\n      container.setAutoStartup(true);\n    });\n\n    return factory;\n  }\n</code></pre>\n<p>I expect alternate solution to resolve this issue.</p>\n"},{"tags":["java","spring","opencsv"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1701984973,"post_id":77623097,"comment_id":136845676,"body_markdown":"Does this answer your question? [How to differentiate between empty string and null with OpenCSV](https://stackoverflow.com/questions/25301620/how-to-differentiate-between-empty-string-and-null-with-opencsv)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25301620/how-to-differentiate-between-empty-string-and-null-with-opencsv\">How to differentiate between empty string and null with OpenCSV</a>"}],"owner":{"account_id":11451785,"reputation":35,"user_id":8393984,"display_name":"Larry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701983579,"creation_date":1701983579,"question_id":77623097,"body_markdown":"Using OpenCSV 5.9\r\n\r\nHow should I be configuring my `CsvToBeanBuilder` to convert empty Strings to null on my POJO. For example, the I&#39;d expect the following POJO to have a `null` value for &quot;lastName&quot; - instead the value is `&quot;&quot;`. I thought setting `.withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)` would work but I&#39;m still seeing empty Strings as the value for `lastName` instead of `null`\r\n\r\n## CSV example\r\n```csv\r\n&quot;FIRST_NAME&quot;,&quot;LAST_NAME&quot;\r\n&quot;Bob&quot;,&quot;&quot;\r\n```\r\n\r\n## POJO\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\npublic class Person {\r\n\r\n  @CsvBindByName(column = &quot;FIRST_NAME&quot;)\r\n  private String firstName;\r\n\r\n  @CsvBindByName(column = &quot;LAST_NAME&quot;)\r\n  private String lastName;\r\n\r\n}\r\n```\r\n\r\n## Parser\r\n```java\r\n@Slf4j\r\n@Component\r\n@Qualifier(&quot;CsvParser&quot;)\r\npublic class CsvParser implements FileParser {\r\n\r\n  @Override\r\n  public List&lt;Person&gt; parse(InputStream inputStream) {\r\n    log.debug(&quot;Parsing InputStream as CSV&quot;);\r\n\r\n    return new CsvToBeanBuilder&lt;Person&gt;(new CSVReader(new InputStreamReader(inputStream)))\r\n        .withType(Person.class)\r\n        .withSeparator(&#39;,&#39;)\r\n        .withIgnoreLeadingWhiteSpace(true)\r\n        .withIgnoreEmptyLine(true)\r\n        .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\r\n        .build()\r\n        .parse();\r\n  }\r\n}\r\n```\r\n\r\n## Pom dependency\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n      &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n      &lt;version&gt;5.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n","title":"OpenCSV not converting empty string to null POJO field","body":"<p>Using OpenCSV 5.9</p>\n<p>How should I be configuring my <code>CsvToBeanBuilder</code> to convert empty Strings to null on my POJO. For example, the I'd expect the following POJO to have a <code>null</code> value for &quot;lastName&quot; - instead the value is <code>&quot;&quot;</code>. I thought setting <code>.withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)</code> would work but I'm still seeing empty Strings as the value for <code>lastName</code> instead of <code>null</code></p>\n<h2>CSV example</h2>\n<pre><code>&quot;FIRST_NAME&quot;,&quot;LAST_NAME&quot;\n&quot;Bob&quot;,&quot;&quot;\n</code></pre>\n<h2>POJO</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@EqualsAndHashCode\npublic class Person {\n\n  @CsvBindByName(column = &quot;FIRST_NAME&quot;)\n  private String firstName;\n\n  @CsvBindByName(column = &quot;LAST_NAME&quot;)\n  private String lastName;\n\n}\n</code></pre>\n<h2>Parser</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Component\n@Qualifier(&quot;CsvParser&quot;)\npublic class CsvParser implements FileParser {\n\n  @Override\n  public List&lt;Person&gt; parse(InputStream inputStream) {\n    log.debug(&quot;Parsing InputStream as CSV&quot;);\n\n    return new CsvToBeanBuilder&lt;Person&gt;(new CSVReader(new InputStreamReader(inputStream)))\n        .withType(Person.class)\n        .withSeparator(',')\n        .withIgnoreLeadingWhiteSpace(true)\n        .withIgnoreEmptyLine(true)\n        .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\n        .build()\n        .parse();\n  }\n}\n</code></pre>\n<h2>Pom dependency</h2>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n      &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n      &lt;version&gt;5.9&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":4710907,"reputation":2178,"user_id":3811763,"display_name":"uneq95"},"score":0,"creation_date":1540499508,"post_id":52997621,"comment_id":92900073,"body_markdown":"Why dont you give an examole scenario?","body":"Why dont you give an examole scenario?"},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":2,"creation_date":1540499519,"post_id":52997621,"comment_id":92900077,"body_markdown":"What do you mean this is being passed as parameter? you mean obj.method(par, this) is how JVM treats this method? Where did you read that &quot;this&quot; is passed as another parameter? I think you misread whatever it is. The material you read might be telling this.obj.method(par);","body":"What do you mean this is being passed as parameter? you mean obj.method(par, this) is how JVM treats this method? Where did you read that &quot;this&quot; is passed as another parameter? I think you misread whatever it is. The material you read might be telling this.obj.method(par);"},{"owner":{"account_id":4455252,"reputation":1626,"user_id":3625770,"accept_rate":20,"display_name":"Azim"},"score":1,"creation_date":1540499757,"post_id":52997621,"comment_id":92900180,"body_markdown":"This seems to be a Python concept than Java.","body":"This seems to be a Python concept than Java."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1540499762,"post_id":52997621,"comment_id":92900184,"body_markdown":"`this ` is the instance of a class, not just the class - it holds the values of the given instance fields, just declaring the class of a method is not enough. The method needs access to the actual field values of the given instance.","body":"<code>this </code> is the instance of a class, not just the class - it holds the values of the given instance fields, just declaring the class of a method is not enough. The method needs access to the actual field values of the given instance."},{"owner":{"account_id":8732,"reputation":87898,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":0,"creation_date":1540500390,"post_id":52997621,"comment_id":92900437,"body_markdown":"If you&#39;re seeing `this` being explicitly passed, that&#39;s... weird.  In non-static methods, `this` is a &quot;magic&quot; variable that refers to the current object.","body":"If you&#39;re seeing <code>this</code> being explicitly passed, that&#39;s... weird.  In non-static methods, <code>this</code> is a &quot;magic&quot; variable that refers to the current object."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1540500927,"post_id":52997621,"comment_id":92900664,"body_markdown":"You absolutely need to show an *actual example*, not nonsense code. This could mean a number of different things, most of which usually reduce to &quot;it&#39;s not actually a parameter&quot;.","body":"You absolutely need to show an <i>actual example</i>, not nonsense code. This could mean a number of different things, most of which usually reduce to &quot;it&#39;s not actually a parameter&quot;."}],"answers":[{"tags":[],"owner":{"account_id":11199663,"reputation":5351,"user_id":8217180,"display_name":"Tobias Ribizel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1540502563,"creation_date":1540502563,"answer_id":52998305,"question_id":52997621,"body_markdown":"Probably the most direct way to understand *why* you need to implicitly pass the `this` reference to every non-static function you call is to show you how such a function call works &#39;under the hood&#39;.\r\n\r\nLet&#39;s take a simple example like\r\n\r\n    class Test {\r\n        public void foo(int arg) {}\r\n        public static void bar(int arg) {}\r\n        public void baz() {\r\n            foo(1);\r\n            bar(2);\r\n        }\r\n    }\r\n\r\nNow what is the difference between `foo` and `bar`?  \r\nThe non-static function `foo` gets executed in the context of an object, while the static `bar` doesn&#39;t have such a context. That means that `foo` would be able to read and write any fields within that object, `bar` would not.\r\n\r\nWhile Java as a language knows about the context of any function you call, the Java Virtual Machine (JVM) that actually executes the code does not directly differentiate between static and non-static functions and does not know any call contexts.\r\n(Yes, this is a bit of a semantics question, since it differentiates between static and dynamic binding which is mostly the same as static/non-static functions)\r\n\r\nSo when you call a non-static method, the call context (i.e. the object on which the method is called) needs to be provided as an implicit parameter, which is called `this`.\r\n\r\nThe JVM bytecode for the example above is then the following:\r\n\r\n    public void baz();\r\n    Code:\r\n       0: aload_0           // Push &#39;this&#39; as the first parameter onto the stack\r\n       1: iconst_1          // Push 1 as the second parameter onto the stack\r\n       2: invokevirtual #2  // Call &#39;foo&#39;\r\n       5: iconst_2          // Push 2 as the first parameter onto the stack\r\n       6: invokestatic  #3  // Call &#39;bar&#39;\r\n       9: return \r\n\r\nYou see that for a static function, you only push the parameter onto the stack (which is then popped by the subsequent invoke), for non-static functions, you first push `this` onto the stack, which was also the first argument of the `baz` function call (`aload` stands for *argument load*)","title":"Why is &quot;this&quot; being implicitly passed as a parameter whenever trying to invoke a constructor or a method?","body":"<p>Probably the most direct way to understand <em>why</em> you need to implicitly pass the <code>this</code> reference to every non-static function you call is to show you how such a function call works 'under the hood'.</p>\n\n<p>Let's take a simple example like</p>\n\n<pre><code>class Test {\n    public void foo(int arg) {}\n    public static void bar(int arg) {}\n    public void baz() {\n        foo(1);\n        bar(2);\n    }\n}\n</code></pre>\n\n<p>Now what is the difference between <code>foo</code> and <code>bar</code>?<br>\nThe non-static function <code>foo</code> gets executed in the context of an object, while the static <code>bar</code> doesn't have such a context. That means that <code>foo</code> would be able to read and write any fields within that object, <code>bar</code> would not.</p>\n\n<p>While Java as a language knows about the context of any function you call, the Java Virtual Machine (JVM) that actually executes the code does not directly differentiate between static and non-static functions and does not know any call contexts.\n(Yes, this is a bit of a semantics question, since it differentiates between static and dynamic binding which is mostly the same as static/non-static functions)</p>\n\n<p>So when you call a non-static method, the call context (i.e. the object on which the method is called) needs to be provided as an implicit parameter, which is called <code>this</code>.</p>\n\n<p>The JVM bytecode for the example above is then the following:</p>\n\n<pre><code>public void baz();\nCode:\n   0: aload_0           // Push 'this' as the first parameter onto the stack\n   1: iconst_1          // Push 1 as the second parameter onto the stack\n   2: invokevirtual #2  // Call 'foo'\n   5: iconst_2          // Push 2 as the first parameter onto the stack\n   6: invokestatic  #3  // Call 'bar'\n   9: return \n</code></pre>\n\n<p>You see that for a static function, you only push the parameter onto the stack (which is then popped by the subsequent invoke), for non-static functions, you first push <code>this</code> onto the stack, which was also the first argument of the <code>baz</code> function call (<code>aload</code> stands for <em>argument load</em>)</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1701982820,"creation_date":1540503141,"answer_id":52998409,"question_id":52997621,"body_markdown":"I believe what you are looking for is: All(?) OO programming languages are implemented by passing &quot;this&quot; as a parameter to every function contained in a class.  The differences in the languages are how that&#39; functionality is implemented.\r\n\r\nIn Python functions are just defined as functions and you pass &quot;this&quot; as the first parameter.\r\n\r\nMost other OO languages hide &quot;this&quot; when they pass it, but it&#39;s still there--it has to be.  You could think of the passing of &quot;this&quot; as the difference between a method and a function.\r\n\r\nIn java if you want a function instead of a method, declare it static and then &quot;this&quot; shouldn&#39;t be passed.","title":"Why is &quot;this&quot; being implicitly passed as a parameter whenever trying to invoke a constructor or a method?","body":"<p>I believe what you are looking for is: All(?) OO programming languages are implemented by passing &quot;this&quot; as a parameter to every function contained in a class.  The differences in the languages are how that' functionality is implemented.</p>\n<p>In Python functions are just defined as functions and you pass &quot;this&quot; as the first parameter.</p>\n<p>Most other OO languages hide &quot;this&quot; when they pass it, but it's still there--it has to be.  You could think of the passing of &quot;this&quot; as the difference between a method and a function.</p>\n<p>In java if you want a function instead of a method, declare it static and then &quot;this&quot; shouldn't be passed.</p>\n"}],"owner":{"account_id":14621150,"reputation":11,"user_id":10559800,"display_name":"Ahmed Hossam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52998305,"answer_count":2,"score":1,"last_activity_date":1701982820,"creation_date":1540499349,"question_id":52997621,"body_markdown":"Consider this block of java code \r\n\r\n        Public class MyClass {\r\n           public void method(int a) {\r\n                doSometing() ;\r\n           }\r\n          Public static void main(String[] args) {\r\n              MyClass obj = new MyClass() ;\r\n              int a = 0 ;\r\n              obj.method(a) ; \r\n         }\r\n        }\r\n\r\nApparently in java , whenever trying to invoke a constructor or a method it turns out that there is actually another value being implicitly \r\npassed by Java other than the explicit one passed by the Developer , which is &quot;this&quot; and I am familiar with the notion of &quot;this&quot; keyword in java but I think it is redundant for &quot;this&quot; to be passed to the method or the constructor implicitly if ive already declared which object this method belongs to, so why would the keyword &quot;this&quot; has to be passed ? , So in the example above Ive declared a class &quot;MyClass&quot; and a method in that class &quot;method&quot; with a return type of &quot;void&quot; then in the main function im declaring a new instance of that class &quot;obj&quot; and calling the method &quot;method&quot; passing the variable &quot;a&quot; as a parameter , so what is actually happening behind the scenes that when declaring a new instance of a class and invoking it`s constructor there is actually a parameter being passed implicitly which is the &quot;this&quot; keyword , so thats what it really looks like behind the scenes :\r\n\r\n    MyClass obj = new MyClass(this) ;\r\nand the same thing applies when invoking the method :\r\n\r\n    obj.method(this,a) ;\r\nThats it , so please can anyone help me with that cuz im tryna learn java and I need to make sure that everything`s clear to me before I proceed any further to Advanced Topics \r\n \r\nThank you","title":"Why is &quot;this&quot; being implicitly passed as a parameter whenever trying to invoke a constructor or a method?","body":"<p>Consider this block of java code </p>\n\n<pre><code>    Public class MyClass {\n       public void method(int a) {\n            doSometing() ;\n       }\n      Public static void main(String[] args) {\n          MyClass obj = new MyClass() ;\n          int a = 0 ;\n          obj.method(a) ; \n     }\n    }\n</code></pre>\n\n<p>Apparently in java , whenever trying to invoke a constructor or a method it turns out that there is actually another value being implicitly \npassed by Java other than the explicit one passed by the Developer , which is \"this\" and I am familiar with the notion of \"this\" keyword in java but I think it is redundant for \"this\" to be passed to the method or the constructor implicitly if ive already declared which object this method belongs to, so why would the keyword \"this\" has to be passed ? , So in the example above Ive declared a class \"MyClass\" and a method in that class \"method\" with a return type of \"void\" then in the main function im declaring a new instance of that class \"obj\" and calling the method \"method\" passing the variable \"a\" as a parameter , so what is actually happening behind the scenes that when declaring a new instance of a class and invoking it`s constructor there is actually a parameter being passed implicitly which is the \"this\" keyword , so thats what it really looks like behind the scenes :</p>\n\n<pre><code>MyClass obj = new MyClass(this) ;\n</code></pre>\n\n<p>and the same thing applies when invoking the method :</p>\n\n<pre><code>obj.method(this,a) ;\n</code></pre>\n\n<p>Thats it , so please can anyone help me with that cuz im tryna learn java and I need to make sure that everything`s clear to me before I proceed any further to Advanced Topics </p>\n\n<p>Thank you</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":12379838,"reputation":551,"user_id":9025960,"display_name":"rgnt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672949634,"creation_date":1672944930,"answer_id":75023163,"question_id":75022618,"body_markdown":"It&#39;s not undefined behavior, but it can slow down your program. Writing and/or reading different fields at the same time (knowing they don&#39;t depend on each other) is quite safe to do so. Although this is a textbook example of a **false sharing** and shouldn&#39;t be done.\r\n\r\nWhen accessing a memory location (class and it&#39;s members), that location gets copied into CPU cache-lines for faster access. If more threads try to access that memory location at the same time, it can invalidate these cache-lines to maintain memory coherency and thus slow down the execution.  \r\n\r\n[From oracle docs](https://docs.oracle.com/cd/E19205-01/819-5270/aewcy/index.html):\r\n\r\n&gt; However, simultaneous updates of individual elements in the same cache line coming from different processors invalidates entire cache lines, even though these updates are logically independent of each other. Each update of an individual element of a cache line marks the line as invalid. Other processors accessing a different element in the same line see the line marked as invalid. They are forced to fetch a more recent copy of the line from memory or elsewhere, even though the element accessed has not been modified. This is because cache coherency is maintained on a cache-line basis, and not for individual elements. As a result there will be an increase in interconnect traffic and overhead. Also, while the cache-line update is in progress, access to the elements in the line is inhibited.\r\n\r\n[Jenkov has great resource on this](https://jenkov.com/tutorials/java-concurrency/false-sharing.html)(They talk about multi-cpu systems, but it&#39;s still applicable as platform threads share the cache-lines).","title":"Updating (or/and reading) different fields of a shared mutable object in different threads concurrently","body":"<p>It's not undefined behavior, but it can slow down your program. Writing and/or reading different fields at the same time (knowing they don't depend on each other) is quite safe to do so. Although this is a textbook example of a <strong>false sharing</strong> and shouldn't be done.</p>\n<p>When accessing a memory location (class and it's members), that location gets copied into CPU cache-lines for faster access. If more threads try to access that memory location at the same time, it can invalidate these cache-lines to maintain memory coherency and thus slow down the execution.</p>\n<p><a href=\"https://docs.oracle.com/cd/E19205-01/819-5270/aewcy/index.html\" rel=\"nofollow noreferrer\">From oracle docs</a>:</p>\n<blockquote>\n<p>However, simultaneous updates of individual elements in the same cache line coming from different processors invalidates entire cache lines, even though these updates are logically independent of each other. Each update of an individual element of a cache line marks the line as invalid. Other processors accessing a different element in the same line see the line marked as invalid. They are forced to fetch a more recent copy of the line from memory or elsewhere, even though the element accessed has not been modified. This is because cache coherency is maintained on a cache-line basis, and not for individual elements. As a result there will be an increase in interconnect traffic and overhead. Also, while the cache-line update is in progress, access to the elements in the line is inhibited.</p>\n</blockquote>\n<p><a href=\"https://jenkov.com/tutorials/java-concurrency/false-sharing.html\" rel=\"nofollow noreferrer\">Jenkov has great resource on this</a>(They talk about multi-cpu systems, but it's still applicable as platform threads share the cache-lines).</p>\n"}],"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75023163,"answer_count":1,"score":2,"last_activity_date":1701981366,"creation_date":1672941986,"question_id":75022618,"body_markdown":"Is Updating (or/and reading) different fields of a shared object in different threads concurrently, thread safe? And if it is, is it a good practice? \r\n\r\nNOTE: ***Assuming we know that at any time no two (or more) threads will act (read or write) on the same field/property of this shared mutable object.***\r\n\r\nE.G consider this code - is updating and reading the different fields of the shared mutable object `emp` in threads `t1`, `t2` and `t3` concurrently thread safe and an accepted practice?\r\n\r\n    package concurrency;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    public class SharedObjectApp {\r\n    \r\n      public static void main(String args[]){\r\n          new App().doSomething();\r\n      }\r\n    \r\n      public class App{\r\n    \r\n          Employee emp = new Employee(001, 100000, 32);\r\n    \r\n          public void doSomething(){\r\n    \r\n              Thread t1 = new Thread(new Runnable(){\r\n                  @Override\r\n                  public void run(){\r\n                      emp.setSalary(emp.getSalary() + 1000);\r\n                  }\r\n              });\r\n    \r\n              Thread t2 = new Thread(new Runnable() {\r\n                  @Override\r\n                  public void run() {\r\n                      emp.setExp(emp.getExp() + 1);\r\n                  }\r\n              });\r\n    \r\n              Thread t3 = new Thread(new Runnable() {\r\n                  @Override\r\n                  public void run() {\r\n                      for(int i = 0; i &lt; 10; i ++){\r\n                          System.out.println(emp.getId());\r\n                      }\r\n                  }\r\n              });\r\n    \r\n              // is this thread safe?\r\n    \r\n              t1.start(); //updating salary\r\n              t2.start(); //updating experience\r\n              t3.start(); //getting id\r\n          }\r\n      }\r\n    \r\n      @NoArgsConstructor\r\n      @AllArgsConstructor\r\n      @Getter\r\n      @Setter\r\n      public static class Employee {\r\n        int id;\r\n        double salary;\r\n        double exp;\r\n      }\r\n    \r\n    }\r\n\r\n","title":"Updating (or/and reading) different fields of a shared mutable object in different threads concurrently","body":"<p>Is Updating (or/and reading) different fields of a shared object in different threads concurrently, thread safe? And if it is, is it a good practice?</p>\n<p>NOTE: <em><strong>Assuming we know that at any time no two (or more) threads will act (read or write) on the same field/property of this shared mutable object.</strong></em></p>\n<p>E.G consider this code - is updating and reading the different fields of the shared mutable object <code>emp</code> in threads <code>t1</code>, <code>t2</code> and <code>t3</code> concurrently thread safe and an accepted practice?</p>\n<pre><code>package concurrency;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\npublic class SharedObjectApp {\n\n  public static void main(String args[]){\n      new App().doSomething();\n  }\n\n  public class App{\n\n      Employee emp = new Employee(001, 100000, 32);\n\n      public void doSomething(){\n\n          Thread t1 = new Thread(new Runnable(){\n              @Override\n              public void run(){\n                  emp.setSalary(emp.getSalary() + 1000);\n              }\n          });\n\n          Thread t2 = new Thread(new Runnable() {\n              @Override\n              public void run() {\n                  emp.setExp(emp.getExp() + 1);\n              }\n          });\n\n          Thread t3 = new Thread(new Runnable() {\n              @Override\n              public void run() {\n                  for(int i = 0; i &lt; 10; i ++){\n                      System.out.println(emp.getId());\n                  }\n              }\n          });\n\n          // is this thread safe?\n\n          t1.start(); //updating salary\n          t2.start(); //updating experience\n          t3.start(); //getting id\n      }\n  }\n\n  @NoArgsConstructor\n  @AllArgsConstructor\n  @Getter\n  @Setter\n  public static class Employee {\n    int id;\n    double salary;\n    double exp;\n  }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":13956201,"reputation":102,"user_id":10078504,"display_name":"Mayank Pandit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701980958,"creation_date":1701980958,"answer_id":77622916,"question_id":77032836,"body_markdown":"I solved mine by changing the gradle plugin version in project level build.gradle file.\r\n\r\nI changed from\r\n\r\n    classpath &#39;com.android.tools.build:gradle:4.2.2&#39;\r\nto\r\n\r\n    classpath &#39;com.android.tools.build:gradle:7.1.2&#39;\r\n\r\nI also had to update my distributionUrl in gradle-wrapper.properties file to `distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-bin.zip`\r\n\r\nIf you are using any maven based url to fetch any library, also make sure that your url is HTTPS and not HTTP.","title":"Error after changing app&#39;s compileSdkVersion and targetSdkVersion","body":"<p>I solved mine by changing the gradle plugin version in project level build.gradle file.</p>\n<p>I changed from</p>\n<pre><code>classpath 'com.android.tools.build:gradle:4.2.2'\n</code></pre>\n<p>to</p>\n<pre><code>classpath 'com.android.tools.build:gradle:7.1.2'\n</code></pre>\n<p>I also had to update my distributionUrl in gradle-wrapper.properties file to <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-bin.zip</code></p>\n<p>If you are using any maven based url to fetch any library, also make sure that your url is HTTPS and not HTTP.</p>\n"}],"owner":{"account_id":16796752,"reputation":135,"user_id":12143067,"display_name":"Lekan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701980958,"creation_date":1693752678,"question_id":77032836,"body_markdown":"My app working well until I changed the `compileSdkVersion 34` and the `targetSdkVersion 34`.\r\nI am getting the error:\r\n```\r\nExecution failed for task &#39;:app:processDebugResources&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$TaskAction\r\n   &gt; AAPT2 aapt2-4.2.2-7147631-osx Daemon #0: Unexpected error during link, attempting to stop daemon.\r\n     This should not happen under normal circumstances, please file an issue if it does.\r\n```\r\n\r\nI have tried the following:\r\n\r\n 1. Invalid Caches/Restart\r\n 2. Change the version of buildTools\r\n 3. Clean project\r\n 4. [this answer][1]\r\n 5. Editted the line in the gradle.properties file:`org.gradle.jvmargs=-Xmx4608m`\r\n 6. I saw [this][3] but the app is not separated into modules\r\n 7. I tried [this solution][2] to upgrade to gradle-8.3 but I got a new error:\r\n`Failed to notify dependency resolution listener.\r\norg.gradle.api.artifacts.DependencySubstitutions$Substitution.with(Lorg/gradle/api/artifacts/component/ComponentSelector;)V`\r\n\r\n\r\nI was previously using `targetSdkVersion 30` and `compileSdkVersion 33` but **Google Play requires that apps target API level 31 or higher** and I need to publish an update to Google Play.\r\n\r\n`build.gradle (:app)`:\r\n```\r\nplugins {\r\n\r\n    id &#39;com.android.application&#39;\r\n\r\n    // Add the Google services Gradle plugin\r\n    id &#39;com.google.gms.google-services&#39;\r\n\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 34\r\n    buildToolsVersion &quot;34.0.0&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com...&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 34\r\n        versionCode 10\r\n        versionName &quot;10.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n\r\n        multiDexEnabled true\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/68430992/12143067\r\n  [2]: https://stackoverflow.com/a/76856741/12143067\r\n  [3]: https://stackoverflow.com/a/61983831/12143067","title":"Error after changing app&#39;s compileSdkVersion and targetSdkVersion","body":"<p>My app working well until I changed the <code>compileSdkVersion 34</code> and the <code>targetSdkVersion 34</code>.\nI am getting the error:</p>\n<pre><code>Execution failed for task ':app:processDebugResources'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.res.LinkApplicationAndroidResourcesTask$TaskAction\n   &gt; AAPT2 aapt2-4.2.2-7147631-osx Daemon #0: Unexpected error during link, attempting to stop daemon.\n     This should not happen under normal circumstances, please file an issue if it does.\n</code></pre>\n<p>I have tried the following:</p>\n<ol>\n<li>Invalid Caches/Restart</li>\n<li>Change the version of buildTools</li>\n<li>Clean project</li>\n<li><a href=\"https://stackoverflow.com/a/68430992/12143067\">this answer</a></li>\n<li>Editted the line in the gradle.properties file:<code>org.gradle.jvmargs=-Xmx4608m</code></li>\n<li>I saw <a href=\"https://stackoverflow.com/a/61983831/12143067\">this</a> but the app is not separated into modules</li>\n<li>I tried <a href=\"https://stackoverflow.com/a/76856741/12143067\">this solution</a> to upgrade to gradle-8.3 but I got a new error:\n<code>Failed to notify dependency resolution listener. org.gradle.api.artifacts.DependencySubstitutions$Substitution.with(Lorg/gradle/api/artifacts/component/ComponentSelector;)V</code></li>\n</ol>\n<p>I was previously using <code>targetSdkVersion 30</code> and <code>compileSdkVersion 33</code> but <strong>Google Play requires that apps target API level 31 or higher</strong> and I need to publish an update to Google Play.</p>\n<p><code>build.gradle (:app)</code>:</p>\n<pre><code>plugins {\n\n    id 'com.android.application'\n\n    // Add the Google services Gradle plugin\n    id 'com.google.gms.google-services'\n\n}\n\nandroid {\n    compileSdkVersion 34\n    buildToolsVersion &quot;34.0.0&quot;\n\n    defaultConfig {\n        applicationId &quot;com...&quot;\n        minSdkVersion 19\n        targetSdkVersion 34\n        versionCode 10\n        versionName &quot;10.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n        multiDexEnabled true\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1690967213,"post_id":76818266,"comment_id":135425278,"body_markdown":"I don&#39;t understand your question, what issue or error are you facing at the moment ?","body":"I don&#39;t understand your question, what issue or error are you facing at the moment ?"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1690967365,"post_id":76818266,"comment_id":135425316,"body_markdown":"Querying goes through the service, save/delete goes through the repo directly. Why.","body":"Querying goes through the service, save/delete goes through the repo directly. Why."},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1690967533,"post_id":76818266,"comment_id":135425362,"body_markdown":"You can use your service for all requests, just add a &quot;save&quot;  method and any other relevant methods to your service .","body":"You can use your service for all requests, just add a &quot;save&quot;  method and any other relevant methods to your service ."},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1690967558,"post_id":76818266,"comment_id":135425371,"body_markdown":"it&#39;s just how the code is written, you could have everything in a service, or call everything from the repo directly. It&#39;s just a matter of code design then","body":"it&#39;s just how the code is written, you could have everything in a service, or call everything from the repo directly. It&#39;s just a matter of code design then"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1690967882,"post_id":76818266,"comment_id":135425440,"body_markdown":"Should I access the service or the service implementation?","body":"Should I access the service or the service implementation?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690967967,"post_id":76818266,"comment_id":135425448,"body_markdown":"Add mehod to the service, you should be programming to interfaces not the implementation (if there is just 1 implementation just ditch the interface). The `@Repository` on the interface is useless to, it doesn&#39;t add anything to a Spring Data repository as it is detected otherwise.","body":"Add mehod to the service, you should be programming to interfaces not the implementation (if there is just 1 implementation just ditch the interface). The <code>@Repository</code> on the interface is useless to, it doesn&#39;t add anything to a Spring Data repository as it is detected otherwise."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1690968290,"post_id":76818266,"comment_id":135425521,"body_markdown":"i recommend you to check this [Q/A](https://softwareengineering.stackexchange.com/questions/411026/layered-architecture-horizontal-dependencies)","body":"i recommend you to check this <a href=\"https://softwareengineering.stackexchange.com/questions/411026/layered-architecture-horizontal-dependencies\">Q/A</a>"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1690969005,"post_id":76818266,"comment_id":135425717,"body_markdown":"Does below answer look setup correctly?","body":"Does below answer look setup correctly?"}],"answers":[{"tags":[],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690969323,"creation_date":1690968977,"answer_id":76818564,"question_id":76818266,"body_markdown":"I discovered you can refer to `entityRepository.save` without a save method on the Repository as it is part of the CRUD methods you get by default.\r\n\r\nAdd your own save methods to the service and repository. Setup like this:\r\n\r\n**REPOSITORY**\r\n\r\n    @Repository // DELETE @Repository?\r\n    public interface CarRepository extends JpaRepository&lt;Car, Long&gt; {\r\n    \r\n        Optional&lt;Car&gt; findById(Long id);\r\n        // No need for save method here as provided by CRUD out of the box\r\n    }\r\n\r\n**SERVICE**\r\n\r\n    public interface CarService {\r\n    \r\n        Optional&lt;Car&gt; findById(Long id);\r\n        public Car saveCar(Car car);\r\n    }\r\n\r\n\r\n**SERVICE IMPLEMENTATION**\r\n\r\nAny business logic associated goes in this service implementation.\r\n\r\n    @Service\r\n    @Transactional\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class CarServiceImpl implements CarService {\r\n    private final CarRepository carRepository;\r\n\r\n    @Override\r\n    public Optional&lt;Car&gt; findById(Long id) {\r\n        return carRepository.findById(id);\r\n    }\r\n\r\n\r\n    public Car saveCar(Car car) {\r\n        return carRepository.save(car);\r\n        }\r\n    }\r\n\r\n**CONTROLLER**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/&quot;)\r\n    @RequiredArgsConstructor\r\n    public class CarController {\r\n\r\n    @Autowired\r\n    private final CarServiceImpl carServiceImpl;\r\n\r\n    // GET ONE CAR\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;Car&gt;&gt; find(@PathVariable Long id) {\r\n        return ResponseEntity.ok()\r\n                .header(&quot;Custom-Header&quot;, &quot;foo&quot;)\r\n                .body(carServiceImpl.findById(id));\r\n    }\r\n\r\n    // SAVE ONE CAR\r\n    @PostMapping(&quot;/&quot;)\r\n    Car newCar(@RequestBody Car Car) {\r\n        return carServiceImpl.saveCar(car);\r\n       }\r\n    }\r\n\r\n","title":"Springboot Service, ServiceImpl and Repository","body":"<p>I discovered you can refer to <code>entityRepository.save</code> without a save method on the Repository as it is part of the CRUD methods you get by default.</p>\n<p>Add your own save methods to the service and repository. Setup like this:</p>\n<p><strong>REPOSITORY</strong></p>\n<pre><code>@Repository // DELETE @Repository?\npublic interface CarRepository extends JpaRepository&lt;Car, Long&gt; {\n\n    Optional&lt;Car&gt; findById(Long id);\n    // No need for save method here as provided by CRUD out of the box\n}\n</code></pre>\n<p><strong>SERVICE</strong></p>\n<pre><code>public interface CarService {\n\n    Optional&lt;Car&gt; findById(Long id);\n    public Car saveCar(Car car);\n}\n</code></pre>\n<p><strong>SERVICE IMPLEMENTATION</strong></p>\n<p>Any business logic associated goes in this service implementation.</p>\n<pre><code>@Service\n@Transactional\n@Slf4j\n@RequiredArgsConstructor\npublic class CarServiceImpl implements CarService {\nprivate final CarRepository carRepository;\n\n@Override\npublic Optional&lt;Car&gt; findById(Long id) {\n    return carRepository.findById(id);\n}\n\n\npublic Car saveCar(Car car) {\n    return carRepository.save(car);\n    }\n}\n</code></pre>\n<p><strong>CONTROLLER</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/&quot;)\n@RequiredArgsConstructor\npublic class CarController {\n\n@Autowired\nprivate final CarServiceImpl carServiceImpl;\n\n// GET ONE CAR\n@GetMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;Optional&lt;Car&gt;&gt; find(@PathVariable Long id) {\n    return ResponseEntity.ok()\n            .header(&quot;Custom-Header&quot;, &quot;foo&quot;)\n            .body(carServiceImpl.findById(id));\n}\n\n// SAVE ONE CAR\n@PostMapping(&quot;/&quot;)\nCar newCar(@RequestBody Car Car) {\n    return carServiceImpl.saveCar(car);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701980464,"creation_date":1690970183,"answer_id":76818736,"question_id":76818266,"body_markdown":"**Repository**\r\n\r\n    public interface CarRepository extends JpaRepository&lt;Car, Long&gt; {\r\n        // remove this method because it&#39;s provided by CrudRepository\r\n        Optional&lt;Car&gt; findById(Long id);\r\n    }\r\n\r\n**SERVICE**\r\n\r\n    public interface CarService {\r\n        Optional&lt;Car&gt; findById(Long id);\r\n        Car saveCar(Car car);\r\n    }\r\n\r\n**SERVICE IMPLEMENTATION**\r\n\r\n    @Service\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class CarServiceImpl implements CarService {\r\n    private final CarRepository carRepository;\r\n    \r\n    @Override\r\n    public Car findById(Long id) {\r\n   \r\n        return carRepository.findById(id).orElse(&quot;return something if car by id is not present in database&quot;);\r\n    }\r\n    \r\n    @Override\r\n    public Car saveCar(Car car) {\r\n        return carRepository.save(car);\r\n        }\r\n    }\r\n\r\n**CONTROLLER**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/&quot;)\r\n    @RequiredArgsConstructor\r\n    public class CarController {\r\n    \r\n    private final CarService carService;\r\n    \r\n    // GET ONE CAR\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Car&gt; find(@PathVariable Long id) {\r\n        return ResponseEntity.ok()\r\n                .header(&quot;Custom-Header&quot;, &quot;foo&quot;)\r\n                .body(carService.findById(id);\r\n    }\r\n    \r\n    // SAVE ONE CAR\r\n    @PostMapping(&quot;/&quot;)\r\n    ResponseEntity&lt;Car&gt; newCar(@RequestBody Car Car) {\r\n        return ResponseEntity.ok().body(carService.saveCar(car));\r\n       }\r\n    }","title":"Springboot Service, ServiceImpl and Repository","body":"<p><strong>Repository</strong></p>\n<pre><code>public interface CarRepository extends JpaRepository&lt;Car, Long&gt; {\n    // remove this method because it's provided by CrudRepository\n    Optional&lt;Car&gt; findById(Long id);\n}\n</code></pre>\n<p><strong>SERVICE</strong></p>\n<pre><code>public interface CarService {\n    Optional&lt;Car&gt; findById(Long id);\n    Car saveCar(Car car);\n}\n</code></pre>\n<p><strong>SERVICE IMPLEMENTATION</strong></p>\n<pre><code>@Service\n@Slf4j\n@RequiredArgsConstructor\npublic class CarServiceImpl implements CarService {\nprivate final CarRepository carRepository;\n\n@Override\npublic Car findById(Long id) {\n\n    return carRepository.findById(id).orElse(&quot;return something if car by id is not present in database&quot;);\n}\n\n@Override\npublic Car saveCar(Car car) {\n    return carRepository.save(car);\n    }\n}\n</code></pre>\n<p><strong>CONTROLLER</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/&quot;)\n@RequiredArgsConstructor\npublic class CarController {\n\nprivate final CarService carService;\n\n// GET ONE CAR\n@GetMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;Car&gt; find(@PathVariable Long id) {\n    return ResponseEntity.ok()\n            .header(&quot;Custom-Header&quot;, &quot;foo&quot;)\n            .body(carService.findById(id);\n}\n\n// SAVE ONE CAR\n@PostMapping(&quot;/&quot;)\nResponseEntity&lt;Car&gt; newCar(@RequestBody Car Car) {\n    return ResponseEntity.ok().body(carService.saveCar(car));\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1691002922,"accepted_answer_id":76818736,"answer_count":2,"score":0,"last_activity_date":1701980464,"creation_date":1690967106,"question_id":76818266,"body_markdown":"Many Spring Boot applications are structured with a Repository, Service and Service Implementation.\r\n\r\nExample:\r\n\r\n**Repository**\r\n\r\n    @Repository\r\n    public interface CarRepository extends JpaRepository&lt;Car, Long&gt; {\r\n    \r\n        Optional&lt;Car&gt; findById(Long id);    \r\n    }\r\n\r\n**CarService**\r\n\r\n    public interface CarService {\r\n    Optional&lt;Car&gt; findById(Long id);\r\n    }\r\n\r\n**CarServiceImpl**\r\n\r\n    @Service\r\n    @Transactional\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class CarServiceImpl implements CarService {\r\n        private final CarRepository carRepository;\r\n    \r\n        @Override\r\n        public Optional&lt;Car&gt; findById(Long id) {\r\n            return carRepository.findById(id);\r\n        }    \r\n    }\r\n\r\nNow on the controller for example I have seen:\r\n\r\n**Car Controller**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/&quot;)\r\n    @RequiredArgsConstructor\r\n    public class CarController {\r\n\r\n    @Autowired\r\n    private final CarService carService\r\n\r\n        // GET ONE CAR\r\n        @GetMapping(&quot;/{id}&quot;)\r\n        public ResponseEntity&lt;Optional&lt;Car&gt;&gt; find(@PathVariable Long id) {\r\n            return ResponseEntity.ok()\r\n                    .header(&quot;Custom-Header&quot;, &quot;foo&quot;)\r\n                    .body(carService.findById(id));\r\n        }\r\n\r\nBut if I need to save a car I need access to:\r\n\r\n    @Autowired\r\n    private final CarRepository carRepository\r\n\r\nAnd then a method on the controller like:\r\n\r\n    // SAVE ONE CAR\r\n    @PostMapping(&quot;/&quot;)\r\n    Car newCar(@RequestBody Car car) {\r\n        return carRepository.save(car);\r\n    }\r\n\r\nQ: Can it be explained why when saving entities I access the repository directly and when querying I go through the service implementation?\r\n\r\nAre some CRUD methods getting default implementations?\r\n","title":"Springboot Service, ServiceImpl and Repository","body":"<p>Many Spring Boot applications are structured with a Repository, Service and Service Implementation.</p>\n<p>Example:</p>\n<p><strong>Repository</strong></p>\n<pre><code>@Repository\npublic interface CarRepository extends JpaRepository&lt;Car, Long&gt; {\n\n    Optional&lt;Car&gt; findById(Long id);    \n}\n</code></pre>\n<p><strong>CarService</strong></p>\n<pre><code>public interface CarService {\nOptional&lt;Car&gt; findById(Long id);\n}\n</code></pre>\n<p><strong>CarServiceImpl</strong></p>\n<pre><code>@Service\n@Transactional\n@Slf4j\n@RequiredArgsConstructor\npublic class CarServiceImpl implements CarService {\n    private final CarRepository carRepository;\n\n    @Override\n    public Optional&lt;Car&gt; findById(Long id) {\n        return carRepository.findById(id);\n    }    \n}\n</code></pre>\n<p>Now on the controller for example I have seen:</p>\n<p><strong>Car Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/&quot;)\n@RequiredArgsConstructor\npublic class CarController {\n\n@Autowired\nprivate final CarService carService\n\n    // GET ONE CAR\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;Car&gt;&gt; find(@PathVariable Long id) {\n        return ResponseEntity.ok()\n                .header(&quot;Custom-Header&quot;, &quot;foo&quot;)\n                .body(carService.findById(id));\n    }\n</code></pre>\n<p>But if I need to save a car I need access to:</p>\n<pre><code>@Autowired\nprivate final CarRepository carRepository\n</code></pre>\n<p>And then a method on the controller like:</p>\n<pre><code>// SAVE ONE CAR\n@PostMapping(&quot;/&quot;)\nCar newCar(@RequestBody Car car) {\n    return carRepository.save(car);\n}\n</code></pre>\n<p>Q: Can it be explained why when saving entities I access the repository directly and when querying I go through the service implementation?</p>\n<p>Are some CRUD methods getting default implementations?</p>\n"},{"tags":["java","spring"],"owner":{"account_id":29336650,"reputation":1,"user_id":22476902,"display_name":"johny john"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701979989,"creation_date":1700848092,"question_id":77544873,"body_markdown":"This is the file for creating the token\r\n\r\n```\r\nprivate String createToken(Map&lt;String, Object&gt; claims, String username) {\r\n\r\n\t\treturn Jwts.builder().setClaims(claims).setSubject(username).setIssuedAt(new Date(System.currentTimeMillis()))\r\n\t\t\t\t.setExpiration(new Date(System.currentTimeMillis() + 900000))\r\n\t\t\t\t.signWith(SignatureAlgorithm.HS256, &quot;secretkey&quot;).compact();\r\n\t}\r\n\r\npublic String generateToken(UserDetails userDetail) {\r\n\t\tMap&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n\t\treturn createToken(claims, userDetail.getUsername());\r\n\t}\r\n\r\nprivate Claims extractAllClaims(String token) {\r\n\t\treturn Jwts.parser().setSigningKey(&quot;secretkey&quot;).parseClaimsJws(token).getBody();\r\n\t}\r\n\r\nprivate &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n\t\tfinal Claims claim = extractAllClaims(token);\r\n\t\treturn claimsResolver.apply(claim);\r\n\t}\r\n\r\npublic String extractUsername(String token) {\r\n\t\treturn extractClaim(token, Claims::getSubject);\r\n\t}\r\n\r\npublic Boolean isTokenExpired(String token) {\r\n\t\tDate expirationDate = extractClaim(token, Claims::getExpiration);\r\n\t\treturn expirationDate.before(new Date());\r\n\t}\r\n\r\npublic Boolean validateToken(String token, UserDetails user) {\r\n\t\tfinal String username = extractUsername(token);\r\n\t\treturn (user.getUsername().equals(username) &amp;&amp; !isTokenExpired(token));\r\n\t}\r\n```\r\n\r\nThis is the file for the `jwtAuthenticationFilter` extends `oncePerRequestFilter`\r\n\r\n\r\n\t@Autowired\r\n\tJwtUtil jwtUtil;\r\n\r\n\t@Autowired\r\n\tUserDetailsService userDetailsService;\r\n\t\r\n\r\n\t@Override\r\n\tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n\t\t\tthrows ServletException, IOException {\r\n\r\n\t\tString token = request.getHeader(&quot;JWT&quot;);\r\n\t\tString username = null;\r\n\t\ttry {\r\n\t\t\tif (token != null) {\r\n\t\t\t\tusername = jwtUtil.extractUsername(token);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n \r\n\t\tif (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n\r\n\t\t\tUserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n\t\t\tboolean validateToken = jwtUtil.validateToken(token, userDetails);\r\n\t\t\tif (validateToken) {\r\n\t\t\t\tUsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\r\n\t\t\t\t\t\tuserDetails, null, userDetails.getAuthorities());\r\n\t\t\t\tauthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\t\t\t\tSecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tfilterChain.doFilter(request, response);\r\n\t}\r\n\r\nThis the file for the configurations of the protection\r\n\r\n    @Autowired\r\n\tUserAuthService userAuthService;\r\n\r\n\t@Autowired \t\r\n\tJwtAuthenticationFilter jwtAuthenticationFilter;\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.cors().disable().csrf().disable();\r\n\t\thttp.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\t\thttp.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n\t\thttp.authorizeRequests().antMatchers(&quot;/api/public/**&quot;, &quot;/api/public1/**&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/api/auth/consumer/**&quot;).hasAnyAuthority(&quot;CONSUMER&quot;).antMatchers(&quot;/api/auth/seller/**&quot;)\r\n\t\t\t\t.hasAnyAuthority(&quot;SELLER&quot;).anyRequest().authenticated();\r\n\r\n\t\thttp.exceptionHandling().authenticationEntryPoint((request, response, ex) -&gt; {\r\n\t\t\tresponse.sendError(HttpServletResponse.SC_UNAUTHORIZED, ex.getMessage());\r\n\t\t});\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void configure(WebSecurity web) throws Exception {\r\n\t\t\tweb.ignoring().antMatchers(&quot;/h2/**&quot;);\r\n\t}\t\r\n\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.userDetailsService(userAuthService);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManagerBean(AuthenticationConfiguration builder) throws Exception {\r\n\t\r\n\t\tsuper.authenticationManagerBean();\r\n\t\t\treturn builder.getAuthenticationManager();\r\n\t}\r\n\r\n\tpublic BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn NoOpPasswordEncoder.getInstance();\r\n\t}\r\n\r\n\t/*\r\n\t * @Bean public SecurityFilterChain filterChain(HttpSecurity http) throws\r\n\t * Exception {\r\n\t * \r\n\t * http.authorizeHttpRequests(configurer -&gt;\r\n\t * configurer.requestMatchers(&quot;/&quot;).hasRole(&quot;EMPLOYEE&quot;)\r\n\t * .requestMatchers(&quot;/leaders/**&quot;).hasRole(&quot;MANAGER&quot;).requestMatchers(\r\n\t * &quot;/systems/**&quot;).hasRole(&quot;ADMIN&quot;) .requestMatchers(&quot;/h2-console&quot;).permitAll())\r\n\t * .formLogin(form -&gt;\r\n\t * form.loginPage(&quot;/showMyLoginPage&quot;).loginProcessingUrl(&quot;/authenticateTheUser&quot;)\r\n\t * .permitAll()) .logout(logout -&gt; logout.permitAll())\r\n\t * .exceptionHandling(configurer -&gt;\r\n\t * configurer.accessDeniedPage(&quot;/access-denied&quot;));\r\n\t * \r\n\t * // Using basic Authentication\r\n\t * \r\n\t * // Disable Cross Site Requests Forgery(CSRF). //In General,Not required for\r\n\t * // state less REST APIs that use POST,PUT,DElETE and Or PATCH http.csrf(csrf\r\n\t * return http.build(); }\r\n\t */\r\n\r\n\r\nFile for the `ApiAuthentication` that implements the `AuthenticationEntryPoint`:\r\n\r\n\t@Override\r\n\tpublic void commence(HttpServletRequest request, HttpServletResponse response,\r\n\t\t\tAuthenticationException authException) throws IOException, ServletException {\r\n\t\tresponse.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\r\n\t}\r\n\r\nThis is for the Auth service implements `userDetailsService`:\r\n\r\n\t@Autowired\r\n\tUserRepo userRepo;\r\n\r\n\t@Override\r\n\tpublic User loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\t\tOptional&lt;User&gt; userName = userRepo.findByUsername(username);\r\n\t\tif (userName.isPresent()) {\r\n\t\t\treturn userName.get();\r\n\t\t} else {\r\n\t\t\tthrow new UsernameNotFoundException(&quot;User ID not found&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\r\nBelow are some of the APIs that I have created:\r\n\r\n\t@Autowired\r\n\tProductRepo productRepo;\r\n\t@Autowired\r\n\tCartProductRepo cartProductRepo;\r\n\t@Autowired\r\n\tCartRepo cartrepo;\r\n\tboolean firstpass,secondpass;\r\n\r\n\tpublic User getUsername() {\r\n\t\tAuthentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\t\tif (authentication != null) {\r\n\t\t\treturn (User) authentication.getPrincipal();\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@GetMapping(&quot;cart&quot;)\r\n\tResponseEntity&lt;?&gt; consumerCart() {\r\n\t\tUserDetails details = getUsername();\r\n\t\tString userName = details.getUsername();\r\n\t\tOptional&lt;Cart&gt; find = cartrepo.findById(1);\r\n\t\tCart findByUserUsername = cartrepo.findByUserUsername(userName);\r\n\t\tif(secondpass) {\r\n\t\t\tfindByUserUsername.getCartProducts().remove(1);\r\n\t\t\tfindByUserUsername.getCartProducts().remove(0);\r\n\t\t\treturn ResponseEntity.ok(findByUserUsername);\r\n\t\t}\r\n\t\tif(firstpass) {\r\n\t\t\tfindByUserUsername.getCartProducts().remove(1);\r\n\t\t\treturn ResponseEntity.ok(findByUserUsername);\r\n\t\t}\r\n\t\treturn ResponseEntity.ok(findByUserUsername);\r\n\t}\r\n\r\n\t@PostMapping(&quot;cart&quot;)\r\n\tResponseEntity&lt;?&gt; addProductInCart(@RequestBody Product product) {\r\n\t\tString username = getUsername().getUsername();\r\n\t\tCart cartOfUser = cartrepo.findByUserUsername(username);\r\n\t\tList&lt;CartProduct&gt; cartProducts = cartOfUser.getCartProducts();\r\n\t\tCategory category = new Category();\r\n\t\tcategory.setCategoryId(2);\r\n\t\tcategory.setCategoryName(&quot;Electronics&quot;);\r\n\t\tproduct.setCategory(category);\r\n\t\tCartProduct newProductInCart = new CartProduct();\r\n\t\tnewProductInCart.setProduct(product);\r\n\t\tnewProductInCart.setCart(cartOfUser);\r\n\t\tnewProductInCart.setQuantity(1);\r\n\t\tboolean check = false;\r\n\t\tfor (CartProduct cartproduct : cartProducts) {\r\n\t\t\tif (cartproduct.getProduct().getProductId().equals(product.getProductId())) {\r\n\t\t\t\tcheck = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (check) {\r\n\t\t\treturn ResponseEntity.status(HttpStatus.CONFLICT).build();\r\n\t\t} else {\r\n\t\t\tcartProducts.add(newProductInCart);\r\n\t\t\tcartrepo.saveAndFlush(cartOfUser);\r\n\t\t\treturn ResponseEntity.status(HttpStatus.OK).build();\r\n\t\t}\r\n\t}\r\n\r\n\t@PutMapping(&quot;cart&quot;)\r\n\tResponseEntity&lt;?&gt; putCart(@RequestBody CartProduct cartProduct) {\r\n\r\n\t\tString username = getUsername().getUsername();\r\n\t\tCart cartOfUser = cartrepo.findByUserUsername(username);\r\n\t\tList&lt;CartProduct&gt; cartProducts = cartOfUser.getCartProducts();\r\n\t\tif (cartProduct.getQuantity() != null) {\r\n\r\n\t\t\tif (cartProduct.getQuantity() &lt;= 0) {\r\n\t\t\t\tcartProducts.remove(1);\r\n\t\t\t\tfirstpass=true;\r\n\t\t\t\tCart saveAndFlush = cartrepo.saveAndFlush(cartOfUser);\r\n\t\t\t\treturn ResponseEntity.status(200).body(saveAndFlush);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcartProducts.get(1).setQuantity(3);\r\n\r\n\t\tCart saveAndFlush = cartrepo.saveAndFlush(cartOfUser);\r\n\t\treturn ResponseEntity.status(200).body(saveAndFlush);\r\n\t}\r\n\r\n\t@DeleteMapping(&quot;cart&quot;)\r\n\tResponseEntity&lt;?&gt; consumerDeleteProduct(@RequestBody Product product) {\r\n\t\tUserDetails details = getUsername();\r\n\t\tString userName = details.getUsername();\r\n\t\tCart cartUsername = cartrepo.findByUserUsername(userName);\r\n\t\tList&lt;CartProduct&gt; cartProducts = cartUsername.getCartProducts();\r\n\t\tcartProducts.remove(0);\r\n\t\tcartrepo.saveAndFlush(cartUsername);\r\n\t\tsecondpass=true;\r\n\t\treturn ResponseEntity.ok().body(null);\r\n\t}\r\n\t\r\n\t@DeleteMapping(&quot;product/{id}&quot;)\r\n\tResponseEntity&lt;?&gt; deleteProduct(@PathVariable int id) {\r\n\t\tOptional&lt;Product&gt; product123 = productRepo.findById(id);\r\n\t\tif (product123.isPresent()) {\r\n\t\t\tProduct product = product123.get();\r\n\t\t\tif (product.getSeller().getUsername().equals(getUser().getUsername())) {\r\n\t\t\t\t//productRepo.deleteById(id);\r\n\t\t\t\tsellerTestpass=true;\r\n\t\t\t\treturn ResponseEntity.ok().body(null);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ResponseEntity.status(HttpStatus.NOT_FOUND).build();\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;product&quot;)\r\n\t@Transactional\r\n\tResponseEntity&lt;?&gt; addProduct(@RequestHeader(name = &quot;JWT&quot;) String JWT, @RequestBody Product product) {\r\n\t\tString extractUsername = jwtUtil.extractUsername(JWT);\r\n\t\tproduct.setSeller(getUser());\r\n\t\tproduct.getCategory().setCategoryId(2);\r\n\t\tProduct save = productRepo.saveAndFlush(product);\r\n\t\tString abc = &quot;http://localhost:8000/api/auth/seller/product/&quot; + save.getProductId();\r\n\t\tURI anu = URI.create(abc);\r\n\t\treturn ResponseEntity.created(URI.create(abc)).build();\r\n\t\t//return ResponseEntity.status(HttpStatus.CREATED).location(anu).build();\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;product/{id}&quot;)\r\n\tResponseEntity&lt;?&gt; viewProduct(@PathVariable int id) {\r\n\t\tOptional&lt;Product&gt; product123 = productRepo.findById(id);\r\n\t\tif(sellerTestpass) {\r\n\t\t\treturn ResponseEntity.status(404).body(null);\r\n\t\t}\r\n\t\tif (product123.isPresent()) {\r\n\t\t\tProduct product = product123.get();\r\n\t\t\tif (product.getSeller().getUsername().equals(getUser().getUsername())) {\r\n\t\t\t\treturn ResponseEntity.ok(productRepo.findById(id));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ResponseEntity.status(HttpStatus.NOT_FOUND).build();\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;product/{id}&quot;)\r\n\tResponseEntity&lt;?&gt; viewProduct(@PathVariable int id) {\r\n\t\tOptional&lt;Product&gt; product123 = productRepo.findById(id);\r\n\t\tif(sellerTestpass) {\r\n\t\t\treturn ResponseEntity.status(404).body(null);\r\n\t\t}\r\n\t\tif (product123.isPresent()) {\r\n\t\t\tProduct product = product123.get();\r\n\t\t\tif (product.getSeller().getUsername().equals(getUser().getUsername())) {\r\n\t\t\t\treturn ResponseEntity.ok(productRepo.findById(id));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ResponseEntity.status(HttpStatus.NOT_FOUND).build();\r\n\t}\r\n\r\n\r\nFor the public controller used for the login:\r\n\r\n\t@Autowired\r\n\tAuthenticationManager authenticationManager;\r\n\t\r\n\t@Scheduled(initialDelay = 10000,fixedDelay = 30000)\r\n\tpublic void abc() {\r\n\t\tSystem.out.println(&quot;Hey its the scheduler&quot;);\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;product/search&quot;)\r\n\tResponseEntity&lt;?&gt; searchPublic(@RequestParam String keyword){\r\n\t\tList&lt;Product&gt; findByProductName = productRepo.findByProductNameContainingIgnoreCaseOrCategoryCategoryNameContainingIgnoreCase(keyword,keyword);\r\n\t\treturn ResponseEntity.ok(findByProductName);\r\n\t}\r\n\r\n\t@PostMapping(&quot;login&quot;)\r\n\tResponseEntity&lt;?&gt; login(@RequestBody HashMap&lt;String,Object&gt;abc){\r\n\t\tString userName = (String) abc.get(&quot;username&quot;);\r\n\t\tString password= (String) abc.get(&quot;password&quot;);\r\n\t\tdoAuthenticate(userName, password);\r\n\t\tUser user=authService.loadUserByUsername(userName);\r\n\r\n\t\tif(!user.getPassword().equals(password)) {\r\n\t\t\treturn  ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\r\n\t\t}\r\n\r\n\t\tif (user != null) {\r\n\t\t\tString token = jwtUtil.generateToken(user);\r\n\t\t\treturn ResponseEntity.ok(token);\r\n\t\t}\r\n\r\n\t\treturn  ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\r\n\t}\r\n\t\r\n\tprivate void doAuthenticate(String email, String password) {\r\n\r\n\t\tUsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(email, password);\r\n\t\ttry {\r\n\t\t\tauthenticationManager.authenticate(authentication);\r\n\r\n\t\t} catch (BadCredentialsException e) {\r\n\t\t\tthrow new BadCredentialsException(&quot; Invalid Username or Password  !!&quot;);\r\n\t\t}\r\n\t}","title":"Trying to implement the javaScript in the Api for the configuration","body":"<p>This is the file for creating the token</p>\n<pre><code>private String createToken(Map&lt;String, Object&gt; claims, String username) {\n\n        return Jwts.builder().setClaims(claims).setSubject(username).setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 900000))\n                .signWith(SignatureAlgorithm.HS256, &quot;secretkey&quot;).compact();\n    }\n\npublic String generateToken(UserDetails userDetail) {\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        return createToken(claims, userDetail.getUsername());\n    }\n\nprivate Claims extractAllClaims(String token) {\n        return Jwts.parser().setSigningKey(&quot;secretkey&quot;).parseClaimsJws(token).getBody();\n    }\n\nprivate &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\n        final Claims claim = extractAllClaims(token);\n        return claimsResolver.apply(claim);\n    }\n\npublic String extractUsername(String token) {\n        return extractClaim(token, Claims::getSubject);\n    }\n\npublic Boolean isTokenExpired(String token) {\n        Date expirationDate = extractClaim(token, Claims::getExpiration);\n        return expirationDate.before(new Date());\n    }\n\npublic Boolean validateToken(String token, UserDetails user) {\n        final String username = extractUsername(token);\n        return (user.getUsername().equals(username) &amp;&amp; !isTokenExpired(token));\n    }\n</code></pre>\n<p>This is the file for the <code>jwtAuthenticationFilter</code> extends <code>oncePerRequestFilter</code></p>\n<pre><code>@Autowired\nJwtUtil jwtUtil;\n\n@Autowired\nUserDetailsService userDetailsService;\n\n\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n        throws ServletException, IOException {\n\n    String token = request.getHeader(&quot;JWT&quot;);\n    String username = null;\n    try {\n        if (token != null) {\n            username = jwtUtil.extractUsername(token);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n\n        UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n        boolean validateToken = jwtUtil.validateToken(token, userDetails);\n        if (validateToken) {\n            UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\n                    userDetails, null, userDetails.getAuthorities());\n            authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n            SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n\n        }\n    }\n    filterChain.doFilter(request, response);\n}\n</code></pre>\n<p>This the file for the configurations of the protection</p>\n<pre><code>@Autowired\nUserAuthService userAuthService;\n\n@Autowired  \nJwtAuthenticationFilter jwtAuthenticationFilter;\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.cors().disable().csrf().disable();\n    http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    http.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n    http.authorizeRequests().antMatchers(&quot;/api/public/**&quot;, &quot;/api/public1/**&quot;).permitAll()\n            .antMatchers(&quot;/api/auth/consumer/**&quot;).hasAnyAuthority(&quot;CONSUMER&quot;).antMatchers(&quot;/api/auth/seller/**&quot;)\n            .hasAnyAuthority(&quot;SELLER&quot;).anyRequest().authenticated();\n\n    http.exceptionHandling().authenticationEntryPoint((request, response, ex) -&gt; {\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, ex.getMessage());\n    });\n}\n\n@Override\npublic void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/h2/**&quot;);\n}   \n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(userAuthService);\n}\n\n@Bean\npublic AuthenticationManager authenticationManagerBean(AuthenticationConfiguration builder) throws Exception {\n\n    super.authenticationManagerBean();\n        return builder.getAuthenticationManager();\n}\n\npublic BCryptPasswordEncoder bCryptPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return NoOpPasswordEncoder.getInstance();\n}\n\n/*\n * @Bean public SecurityFilterChain filterChain(HttpSecurity http) throws\n * Exception {\n * \n * http.authorizeHttpRequests(configurer -&gt;\n * configurer.requestMatchers(&quot;/&quot;).hasRole(&quot;EMPLOYEE&quot;)\n * .requestMatchers(&quot;/leaders/**&quot;).hasRole(&quot;MANAGER&quot;).requestMatchers(\n * &quot;/systems/**&quot;).hasRole(&quot;ADMIN&quot;) .requestMatchers(&quot;/h2-console&quot;).permitAll())\n * .formLogin(form -&gt;\n * form.loginPage(&quot;/showMyLoginPage&quot;).loginProcessingUrl(&quot;/authenticateTheUser&quot;)\n * .permitAll()) .logout(logout -&gt; logout.permitAll())\n * .exceptionHandling(configurer -&gt;\n * configurer.accessDeniedPage(&quot;/access-denied&quot;));\n * \n * // Using basic Authentication\n * \n * // Disable Cross Site Requests Forgery(CSRF). //In General,Not required for\n * // state less REST APIs that use POST,PUT,DElETE and Or PATCH http.csrf(csrf\n * return http.build(); }\n */\n</code></pre>\n<p>File for the <code>ApiAuthentication</code> that implements the <code>AuthenticationEntryPoint</code>:</p>\n<pre><code>@Override\npublic void commence(HttpServletRequest request, HttpServletResponse response,\n        AuthenticationException authException) throws IOException, ServletException {\n    response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\n}\n</code></pre>\n<p>This is for the Auth service implements <code>userDetailsService</code>:</p>\n<pre><code>@Autowired\nUserRepo userRepo;\n\n@Override\npublic User loadUserByUsername(String username) throws UsernameNotFoundException {\n    Optional&lt;User&gt; userName = userRepo.findByUsername(username);\n    if (userName.isPresent()) {\n        return userName.get();\n    } else {\n        throw new UsernameNotFoundException(&quot;User ID not found&quot;);\n    }\n}\n</code></pre>\n<p>Below are some of the APIs that I have created:</p>\n<pre><code>@Autowired\nProductRepo productRepo;\n@Autowired\nCartProductRepo cartProductRepo;\n@Autowired\nCartRepo cartrepo;\nboolean firstpass,secondpass;\n\npublic User getUsername() {\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    if (authentication != null) {\n        return (User) authentication.getPrincipal();\n    }\n\n    return null;\n}\n\n@GetMapping(&quot;cart&quot;)\nResponseEntity&lt;?&gt; consumerCart() {\n    UserDetails details = getUsername();\n    String userName = details.getUsername();\n    Optional&lt;Cart&gt; find = cartrepo.findById(1);\n    Cart findByUserUsername = cartrepo.findByUserUsername(userName);\n    if(secondpass) {\n        findByUserUsername.getCartProducts().remove(1);\n        findByUserUsername.getCartProducts().remove(0);\n        return ResponseEntity.ok(findByUserUsername);\n    }\n    if(firstpass) {\n        findByUserUsername.getCartProducts().remove(1);\n        return ResponseEntity.ok(findByUserUsername);\n    }\n    return ResponseEntity.ok(findByUserUsername);\n}\n\n@PostMapping(&quot;cart&quot;)\nResponseEntity&lt;?&gt; addProductInCart(@RequestBody Product product) {\n    String username = getUsername().getUsername();\n    Cart cartOfUser = cartrepo.findByUserUsername(username);\n    List&lt;CartProduct&gt; cartProducts = cartOfUser.getCartProducts();\n    Category category = new Category();\n    category.setCategoryId(2);\n    category.setCategoryName(&quot;Electronics&quot;);\n    product.setCategory(category);\n    CartProduct newProductInCart = new CartProduct();\n    newProductInCart.setProduct(product);\n    newProductInCart.setCart(cartOfUser);\n    newProductInCart.setQuantity(1);\n    boolean check = false;\n    for (CartProduct cartproduct : cartProducts) {\n        if (cartproduct.getProduct().getProductId().equals(product.getProductId())) {\n            check = true;\n        }\n    }\n\n    if (check) {\n        return ResponseEntity.status(HttpStatus.CONFLICT).build();\n    } else {\n        cartProducts.add(newProductInCart);\n        cartrepo.saveAndFlush(cartOfUser);\n        return ResponseEntity.status(HttpStatus.OK).build();\n    }\n}\n\n@PutMapping(&quot;cart&quot;)\nResponseEntity&lt;?&gt; putCart(@RequestBody CartProduct cartProduct) {\n\n    String username = getUsername().getUsername();\n    Cart cartOfUser = cartrepo.findByUserUsername(username);\n    List&lt;CartProduct&gt; cartProducts = cartOfUser.getCartProducts();\n    if (cartProduct.getQuantity() != null) {\n\n        if (cartProduct.getQuantity() &lt;= 0) {\n            cartProducts.remove(1);\n            firstpass=true;\n            Cart saveAndFlush = cartrepo.saveAndFlush(cartOfUser);\n            return ResponseEntity.status(200).body(saveAndFlush);\n        }\n    }\n\n    cartProducts.get(1).setQuantity(3);\n\n    Cart saveAndFlush = cartrepo.saveAndFlush(cartOfUser);\n    return ResponseEntity.status(200).body(saveAndFlush);\n}\n\n@DeleteMapping(&quot;cart&quot;)\nResponseEntity&lt;?&gt; consumerDeleteProduct(@RequestBody Product product) {\n    UserDetails details = getUsername();\n    String userName = details.getUsername();\n    Cart cartUsername = cartrepo.findByUserUsername(userName);\n    List&lt;CartProduct&gt; cartProducts = cartUsername.getCartProducts();\n    cartProducts.remove(0);\n    cartrepo.saveAndFlush(cartUsername);\n    secondpass=true;\n    return ResponseEntity.ok().body(null);\n}\n\n@DeleteMapping(&quot;product/{id}&quot;)\nResponseEntity&lt;?&gt; deleteProduct(@PathVariable int id) {\n    Optional&lt;Product&gt; product123 = productRepo.findById(id);\n    if (product123.isPresent()) {\n        Product product = product123.get();\n        if (product.getSeller().getUsername().equals(getUser().getUsername())) {\n            //productRepo.deleteById(id);\n            sellerTestpass=true;\n            return ResponseEntity.ok().body(null);\n        }\n    }\n    return ResponseEntity.status(HttpStatus.NOT_FOUND).build();\n}\n\n@PostMapping(&quot;product&quot;)\n@Transactional\nResponseEntity&lt;?&gt; addProduct(@RequestHeader(name = &quot;JWT&quot;) String JWT, @RequestBody Product product) {\n    String extractUsername = jwtUtil.extractUsername(JWT);\n    product.setSeller(getUser());\n    product.getCategory().setCategoryId(2);\n    Product save = productRepo.saveAndFlush(product);\n    String abc = &quot;http://localhost:8000/api/auth/seller/product/&quot; + save.getProductId();\n    URI anu = URI.create(abc);\n    return ResponseEntity.created(URI.create(abc)).build();\n    //return ResponseEntity.status(HttpStatus.CREATED).location(anu).build();\n}\n\n@GetMapping(&quot;product/{id}&quot;)\nResponseEntity&lt;?&gt; viewProduct(@PathVariable int id) {\n    Optional&lt;Product&gt; product123 = productRepo.findById(id);\n    if(sellerTestpass) {\n        return ResponseEntity.status(404).body(null);\n    }\n    if (product123.isPresent()) {\n        Product product = product123.get();\n        if (product.getSeller().getUsername().equals(getUser().getUsername())) {\n            return ResponseEntity.ok(productRepo.findById(id));\n        }\n    }\n    return ResponseEntity.status(HttpStatus.NOT_FOUND).build();\n}\n\n@GetMapping(&quot;product/{id}&quot;)\nResponseEntity&lt;?&gt; viewProduct(@PathVariable int id) {\n    Optional&lt;Product&gt; product123 = productRepo.findById(id);\n    if(sellerTestpass) {\n        return ResponseEntity.status(404).body(null);\n    }\n    if (product123.isPresent()) {\n        Product product = product123.get();\n        if (product.getSeller().getUsername().equals(getUser().getUsername())) {\n            return ResponseEntity.ok(productRepo.findById(id));\n        }\n    }\n    return ResponseEntity.status(HttpStatus.NOT_FOUND).build();\n}\n</code></pre>\n<p>For the public controller used for the login:</p>\n<pre><code>@Autowired\nAuthenticationManager authenticationManager;\n\n@Scheduled(initialDelay = 10000,fixedDelay = 30000)\npublic void abc() {\n    System.out.println(&quot;Hey its the scheduler&quot;);\n}\n\n@GetMapping(&quot;product/search&quot;)\nResponseEntity&lt;?&gt; searchPublic(@RequestParam String keyword){\n    List&lt;Product&gt; findByProductName = productRepo.findByProductNameContainingIgnoreCaseOrCategoryCategoryNameContainingIgnoreCase(keyword,keyword);\n    return ResponseEntity.ok(findByProductName);\n}\n\n@PostMapping(&quot;login&quot;)\nResponseEntity&lt;?&gt; login(@RequestBody HashMap&lt;String,Object&gt;abc){\n    String userName = (String) abc.get(&quot;username&quot;);\n    String password= (String) abc.get(&quot;password&quot;);\n    doAuthenticate(userName, password);\n    User user=authService.loadUserByUsername(userName);\n\n    if(!user.getPassword().equals(password)) {\n        return  ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\n    }\n\n    if (user != null) {\n        String token = jwtUtil.generateToken(user);\n        return ResponseEntity.ok(token);\n    }\n\n    return  ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();\n}\n\nprivate void doAuthenticate(String email, String password) {\n\n    UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(email, password);\n    try {\n        authenticationManager.authenticate(authentication);\n\n    } catch (BadCredentialsException e) {\n        throw new BadCredentialsException(&quot; Invalid Username or Password  !!&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","deployment","devops","continuous-deployment"],"owner":{"account_id":461144,"reputation":1546,"user_id":862666,"accept_rate":67,"display_name":"S Gaber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701979794,"creation_date":1701670050,"question_id":77597484,"body_markdown":"I am building a POC for the Hot Reload for a big Spring Boot Project which is linked to git, many developers involved in the development and have multiple environments SIT, UAT and Prod\r\n\r\nAs a simple implementation for it, to add the dependencies and do some configuration on the IDE and run the application from the IDE itself.\r\n\r\nLet us say that we are having some servers and external web servers that we need to host the .war file into it, Git, many developers working on it, how can we have this project configured as Hot Reload thing.","title":"Hot Reload | Live Reload for big Spring Boot Project","body":"<p>I am building a POC for the Hot Reload for a big Spring Boot Project which is linked to git, many developers involved in the development and have multiple environments SIT, UAT and Prod</p>\n<p>As a simple implementation for it, to add the dependencies and do some configuration on the IDE and run the application from the IDE itself.</p>\n<p>Let us say that we are having some servers and external web servers that we need to host the .war file into it, Git, many developers working on it, how can we have this project configured as Hot Reload thing.</p>\n"},{"tags":["java","multithreading","keyword","synchronized"],"comments":[{"owner":{"account_id":27071,"reputation":11482,"user_id":71034,"display_name":"Dan Breslau"},"score":19,"creation_date":1295721442,"post_id":1085709,"comment_id":5278614,"body_markdown":"http://download.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html","body":"<a href=\"http://download.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>"},{"owner":{"account_id":137377,"reputation":39554,"user_id":341508,"accept_rate":88,"display_name":"limc"},"score":1,"creation_date":1295721762,"post_id":1085709,"comment_id":5278672,"body_markdown":"helpful discussion between hashmap and hashtable, and synchronization: http://stackoverflow.com/questions/40471/java-hashmap-vs-hashtable","body":"helpful discussion between hashmap and hashtable, and synchronization: <a href=\"http://stackoverflow.com/questions/40471/java-hashmap-vs-hashtable\" title=\"java hashmap vs hashtable\">stackoverflow.com/questions/40471/java-hashmap-vs-hashtable</a>"},{"owner":{"account_id":2775886,"reputation":8861,"user_id":2401535,"accept_rate":47,"display_name":"Marian Paździoch"},"score":2,"creation_date":1470671167,"post_id":1085709,"comment_id":65032269,"body_markdown":"Possible duplicate of [How does synchronized work in Java](http://stackoverflow.com/questions/749641/how-does-synchronized-work-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/749641/how-does-synchronized-work-in-java\">How does synchronized work in Java</a>"},{"owner":{"display_name":"user2453382"},"score":2,"creation_date":1556088043,"post_id":1085709,"comment_id":98312955,"body_markdown":"I went through the whole documentation link from the first comment, and didn&#39;t understand until I got to the last paragraph. Instead of pasting links and quoting nothing, may be pasting links and adding a quote is more helpful.","body":"I went through the whole documentation link from the first comment, and didn&#39;t understand until I got to the last paragraph. Instead of pasting links and quoting nothing, may be pasting links and adding a quote is more helpful."},{"owner":{"account_id":7729686,"reputation":2056,"user_id":6041389,"accept_rate":61,"display_name":"csandreas1"},"score":1,"creation_date":1610430921,"post_id":1085709,"comment_id":116122995,"body_markdown":"I had written an answer 3 years ago and Stackoverflow faulty deleted my question as I did not include any copyrights from Github :) Totally Wrong, I remember the answer from university and wrote it With my own words. How do you know Github user did not copy that from me geniouses?","body":"I had written an answer 3 years ago and Stackoverflow faulty deleted my question as I did not include any copyrights from Github :) Totally Wrong, I remember the answer from university and wrote it With my own words. How do you know Github user did not copy that from me geniouses?"}],"answers":[{"tags":[],"owner":{"account_id":21955,"reputation":28696,"user_id":53771,"accept_rate":79,"display_name":"Spence"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1246863695,"creation_date":1246863695,"answer_id":1085744,"question_id":1085709,"body_markdown":"To my understanding synchronized basically means that the compiler write a monitor.enter and monitor.exit around your method. As such it may be thread safe depending on how it is used (what I mean is you can write an object with synchronized methods that isn&#39;t threadsafe depending on what your class does).","title":"What does &#39;synchronized&#39; mean?","body":"<p>To my understanding synchronized basically means that the compiler write a monitor.enter and monitor.exit around your method. As such it may be thread safe depending on how it is used (what I mean is you can write an object with synchronized methods that isn't threadsafe depending on what your class does).</p>\n"},{"tags":[],"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"down_vote_count":0,"up_vote_count":970,"is_accepted":true,"score":970,"last_activity_date":1522394327,"creation_date":1246863709,"answer_id":1085745,"question_id":1085709,"body_markdown":"The `synchronized` keyword is all about different threads reading and writing to the same variables, objects and resources.  This is not a trivial topic in Java, but here is a quote from Sun:\r\n\r\n&gt; `synchronized` methods enable a simple\r\n&gt; strategy for preventing thread\r\n&gt; interference and memory consistency\r\n&gt; errors: if an object is visible to\r\n&gt; more than one thread, all reads or\r\n&gt; writes to that object&#39;s variables are\r\n&gt; done through synchronized methods.\r\n\r\n*In a very, very small nutshell:* When you have two threads that are reading and writing to the same &#39;resource&#39;, say a variable named `foo`, you need to ensure that these threads access the variable in an atomic way.  Without the `synchronized` keyword, your thread 1 may not see the change thread 2 made to `foo`, or worse, it may only be half changed.  This would not be what you logically expect.\r\n\r\nAgain, this is a non-trivial topic in Java.  To learn more, explore topics here on SO and the Interwebs  about:\r\n\r\n - [Concurrency][1]\r\n - [Java Memory Model][2]\r\n \r\nKeep exploring these topics until the name *&quot;Brian Goetz&quot;* becomes permanently associated with the term *&quot;concurrency&quot;* in your brain.  \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/index.html\r\n  [2]: http://en.wikipedia.org/wiki/Java_Memory_Model","title":"What does &#39;synchronized&#39; mean?","body":"<p>The <code>synchronized</code> keyword is all about different threads reading and writing to the same variables, objects and resources.  This is not a trivial topic in Java, but here is a quote from Sun:</p>\n\n<blockquote>\n  <p><code>synchronized</code> methods enable a simple\n  strategy for preventing thread\n  interference and memory consistency\n  errors: if an object is visible to\n  more than one thread, all reads or\n  writes to that object's variables are\n  done through synchronized methods.</p>\n</blockquote>\n\n<p><em>In a very, very small nutshell:</em> When you have two threads that are reading and writing to the same 'resource', say a variable named <code>foo</code>, you need to ensure that these threads access the variable in an atomic way.  Without the <code>synchronized</code> keyword, your thread 1 may not see the change thread 2 made to <code>foo</code>, or worse, it may only be half changed.  This would not be what you logically expect.</p>\n\n<p>Again, this is a non-trivial topic in Java.  To learn more, explore topics here on SO and the Interwebs  about:</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/index.html\" rel=\"noreferrer\">Concurrency</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Java_Memory_Model\" rel=\"noreferrer\">Java Memory Model</a></li>\n</ul>\n\n<p>Keep exploring these topics until the name <em>\"Brian Goetz\"</em> becomes permanently associated with the term <em>\"concurrency\"</em> in your brain.  </p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258535,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1246864173,"creation_date":1246864173,"answer_id":1085768,"question_id":1085709,"body_markdown":"The `synchronized` keyword causes a thread to obtain a lock when entering the method, so that only one thread can execute the method at the same time (for the given object instance, unless it is a static method).\r\n\r\nThis is frequently called making the class thread-safe, but I would say this is a euphemism. While it is true that synchronization protects the internal state of the Vector from getting corrupted, this does not usually help the user of Vector much. \r\n\r\nConsider this:\r\n\r\n     if (vector.isEmpty()){\r\n         vector.add(data);\r\n     }\r\n\r\n\r\nEven though the methods involved are synchronized, because they are being locked and unlocked individually, two unfortunately timed threads can create a vector with two elements.\r\n\r\nSo in effect, you have to synchronize in your application code as well.\r\n\r\nBecause method-level synchronization is a) expensive when you don&#39;t need it and b) insufficient when you need synchronization, there are now un-synchronized replacements (ArrayList in the case of Vector).\r\n\r\nMore recently, the concurrency package has been released, with a number of clever utilities that take care of multi-threading issues.","title":"What does &#39;synchronized&#39; mean?","body":"<p>The <code>synchronized</code> keyword causes a thread to obtain a lock when entering the method, so that only one thread can execute the method at the same time (for the given object instance, unless it is a static method).</p>\n\n<p>This is frequently called making the class thread-safe, but I would say this is a euphemism. While it is true that synchronization protects the internal state of the Vector from getting corrupted, this does not usually help the user of Vector much. </p>\n\n<p>Consider this:</p>\n\n<pre><code> if (vector.isEmpty()){\n     vector.add(data);\n }\n</code></pre>\n\n<p>Even though the methods involved are synchronized, because they are being locked and unlocked individually, two unfortunately timed threads can create a vector with two elements.</p>\n\n<p>So in effect, you have to synchronize in your application code as well.</p>\n\n<p>Because method-level synchronization is a) expensive when you don't need it and b) insufficient when you need synchronization, there are now un-synchronized replacements (ArrayList in the case of Vector).</p>\n\n<p>More recently, the concurrency package has been released, with a number of clever utilities that take care of multi-threading issues.</p>\n"},{"tags":[],"owner":{"account_id":6642,"reputation":13384,"user_id":11249,"accept_rate":51,"display_name":"paul"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1246864192,"creation_date":1246864192,"answer_id":1085769,"question_id":1085709,"body_markdown":"Think of it as a kind of turnstile like you might find at a football ground. There are parallel steams of people wanting to get in but at the turnstile they are &#39;synchronised&#39;. Only one person at a time can get through. All those wanting to get through will do, but they may have to wait until they can go through.","title":"What does &#39;synchronized&#39; mean?","body":"<p>Think of it as a kind of turnstile like you might find at a football ground. There are parallel steams of people wanting to get in but at the turnstile they are 'synchronised'. Only one person at a time can get through. All those wanting to get through will do, but they may have to wait until they can go through.</p>\n"},{"tags":[],"owner":{"account_id":202653,"reputation":54444,"user_id":449856,"accept_rate":88,"display_name":"Codemwnci"},"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1479391269,"creation_date":1295721573,"answer_id":4769766,"question_id":1085709,"body_markdown":"`synchronized` means that in a multi threaded environment, an object having  `synchronized` method(s)/block(s) does not let two threads to access the `synchronized` method(s)/block(s) of code at the same time. This means that one thread can&#39;t read while another thread updates it.\r\n\r\nThe second thread will instead wait until the first thread completes its execution. The overhead is speed, but the advantage is guaranteed consistency of data.\r\n\r\nIf your application is single threaded though, `synchronized` blocks does not provide benefits.","title":"What does &#39;synchronized&#39; mean?","body":"<p><code>synchronized</code> means that in a multi threaded environment, an object having  <code>synchronized</code> method(s)/block(s) does not let two threads to access the <code>synchronized</code> method(s)/block(s) of code at the same time. This means that one thread can't read while another thread updates it.</p>\n\n<p>The second thread will instead wait until the first thread completes its execution. The overhead is speed, but the advantage is guaranteed consistency of data.</p>\n\n<p>If your application is single threaded though, <code>synchronized</code> blocks does not provide benefits.</p>\n"},{"tags":[],"owner":{"account_id":265671,"reputation":33764,"user_id":552792,"accept_rate":43,"display_name":"jamesmortensen"},"down_vote_count":0,"up_vote_count":123,"is_accepted":false,"score":123,"last_activity_date":1583966453,"creation_date":1295721584,"answer_id":4769769,"question_id":1085709,"body_markdown":"The `synchronized` keyword prevents concurrent access to a block of code or object by multiple threads. All the methods of `Hashtable` are `synchronized`, so only one thread can execute any of them at a time.  \r\n\r\nWhen using non-`synchronized` constructs like `HashMap`, you must build thread-safety features in your code to prevent consistency errors.","title":"What does &#39;synchronized&#39; mean?","body":"<p>The <code>synchronized</code> keyword prevents concurrent access to a block of code or object by multiple threads. All the methods of <code>Hashtable</code> are <code>synchronized</code>, so only one thread can execute any of them at a time.  </p>\n\n<p>When using non-<code>synchronized</code> constructs like <code>HashMap</code>, you must build thread-safety features in your code to prevent consistency errors.</p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368951105,"creation_date":1368951105,"answer_id":16632627,"question_id":1085709,"body_markdown":"synchronized simple means no two threads can access the block/method simultaneously. When we say any block/method of a class is synchronized it means only one thread can access them at a time. Internally the thread which tries to access it first take a lock on that object and as long as this lock is not available no other thread can access any of the synchronized methods/blocks of that instance of the class.\r\n\r\nNote another thread can access a method of the same object which is not defined to be synchronized. A thread can release the lock by calling\r\n\r\n    Object.wait()","title":"What does &#39;synchronized&#39; mean?","body":"<p>synchronized simple means no two threads can access the block/method simultaneously. When we say any block/method of a class is synchronized it means only one thread can access them at a time. Internally the thread which tries to access it first take a lock on that object and as long as this lock is not available no other thread can access any of the synchronized methods/blocks of that instance of the class.</p>\n\n<p>Note another thread can access a method of the same object which is not defined to be synchronized. A thread can release the lock by calling</p>\n\n<pre><code>Object.wait()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2815987,"reputation":3975,"user_id":3314058,"display_name":"Dheeraj Sachan"},"down_vote_count":0,"up_vote_count":332,"is_accepted":false,"score":332,"last_activity_date":1701979743,"creation_date":1400160183,"answer_id":23679563,"question_id":1085709,"body_markdown":"Well, I think we had enough of theoretical explanations, so consider this code\r\n\r\n   \r\n   \r\n\r\n    public class TestThread extends Thread {\r\n        String name;\r\n        TheDemo theDemo;\r\n    \r\n        public TestThread(String name, TheDemo theDemo) {\r\n            this.theDemo = theDemo;\r\n            this.name = name;\r\n            start();\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            theDemo.test(name);\r\n        }\r\n    \r\n        public static class TheDemo {\r\n            public synchronized void test(String name) {\r\n                for (int i = 0; i &lt; 10; i++) {\r\n                    System.out.println(name + &quot; :: &quot; + i);\r\n                    try {\r\n                        Thread.sleep(500);\r\n                    } catch (Exception e) {\r\n                        System.out.println(e.getMessage());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            TheDemo theDemo = new TheDemo();\r\n            new TestThread(&quot;THREAD 1&quot;, theDemo);\r\n            new TestThread(&quot;THREAD 2&quot;, theDemo);\r\n            new TestThread(&quot;THREAD 3&quot;, theDemo);\r\n        }\r\n    }\r\n       \r\n\r\nNote: `synchronized` blocks the next thread&#39;s call to method test() as long as the previous thread&#39;s execution is not finished. Threads can access this method one at a time. Without `synchronized` all threads can access this method simultaneously.\r\n\r\nWhen a thread calls the synchronized method &#39;test&#39; of the object (here object is an instance of &#39;TheDemo&#39; class) it acquires the lock of that object, any new thread cannot call ANY synchronized method of the same object as long as previous thread which had acquired the lock does not release the lock.\r\n\r\nSimilar thing happens when any static synchronized method of the class is called. The thread acquires the lock associated with the class(in this case any non static synchronized method of an instance of that class can be called by any thread because that object level lock is still available). Any other thread will not be able to call any static synchronized method of the class as long as the class level lock is not released by the thread which currently holds the lock.\r\n\r\n__Output with synchronised__\r\n\r\n    THREAD 1 :: 0\r\n    THREAD 1 :: 1\r\n    THREAD 1 :: 2\r\n    THREAD 1 :: 3\r\n    THREAD 1 :: 4\r\n    THREAD 1 :: 5\r\n    THREAD 1 :: 6\r\n    THREAD 1 :: 7\r\n    THREAD 1 :: 8\r\n    THREAD 1 :: 9\r\n    THREAD 3 :: 0\r\n    THREAD 3 :: 1\r\n    THREAD 3 :: 2\r\n    THREAD 3 :: 3\r\n    THREAD 3 :: 4\r\n    THREAD 3 :: 5\r\n    THREAD 3 :: 6\r\n    THREAD 3 :: 7\r\n    THREAD 3 :: 8\r\n    THREAD 3 :: 9\r\n    THREAD 2 :: 0\r\n    THREAD 2 :: 1\r\n    THREAD 2 :: 2\r\n    THREAD 2 :: 3\r\n    THREAD 2 :: 4\r\n    THREAD 2 :: 5\r\n    THREAD 2 :: 6\r\n    THREAD 2 :: 7\r\n    THREAD 2 :: 8\r\n    THREAD 2 :: 9\r\n\r\n__Output without synchronized__\r\n\r\n    THREAD 1 :: 0\r\n    THREAD 2 :: 0\r\n    THREAD 3 :: 0\r\n    THREAD 1 :: 1\r\n    THREAD 2 :: 1\r\n    THREAD 3 :: 1\r\n    THREAD 1 :: 2\r\n    THREAD 2 :: 2\r\n    THREAD 3 :: 2\r\n    THREAD 1 :: 3\r\n    THREAD 2 :: 3\r\n    THREAD 3 :: 3\r\n    THREAD 1 :: 4\r\n    THREAD 2 :: 4\r\n    THREAD 3 :: 4\r\n    THREAD 1 :: 5\r\n    THREAD 2 :: 5\r\n    THREAD 3 :: 5\r\n    THREAD 1 :: 6\r\n    THREAD 2 :: 6\r\n    THREAD 3 :: 6\r\n    THREAD 1 :: 7\r\n    THREAD 2 :: 7\r\n    THREAD 3 :: 7\r\n    THREAD 1 :: 8\r\n    THREAD 2 :: 8\r\n    THREAD 3 :: 8\r\n    THREAD 1 :: 9\r\n    THREAD 2 :: 9\r\n    THREAD 3 :: 9\r\n","title":"What does &#39;synchronized&#39; mean?","body":"<p>Well, I think we had enough of theoretical explanations, so consider this code</p>\n<pre><code>public class TestThread extends Thread {\n    String name;\n    TheDemo theDemo;\n\n    public TestThread(String name, TheDemo theDemo) {\n        this.theDemo = theDemo;\n        this.name = name;\n        start();\n    }\n\n    @Override\n    public void run() {\n        theDemo.test(name);\n    }\n\n    public static class TheDemo {\n        public synchronized void test(String name) {\n            for (int i = 0; i &lt; 10; i++) {\n                System.out.println(name + &quot; :: &quot; + i);\n                try {\n                    Thread.sleep(500);\n                } catch (Exception e) {\n                    System.out.println(e.getMessage());\n                }\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        TheDemo theDemo = new TheDemo();\n        new TestThread(&quot;THREAD 1&quot;, theDemo);\n        new TestThread(&quot;THREAD 2&quot;, theDemo);\n        new TestThread(&quot;THREAD 3&quot;, theDemo);\n    }\n}\n   \n</code></pre>\n<p>Note: <code>synchronized</code> blocks the next thread's call to method test() as long as the previous thread's execution is not finished. Threads can access this method one at a time. Without <code>synchronized</code> all threads can access this method simultaneously.</p>\n<p>When a thread calls the synchronized method 'test' of the object (here object is an instance of 'TheDemo' class) it acquires the lock of that object, any new thread cannot call ANY synchronized method of the same object as long as previous thread which had acquired the lock does not release the lock.</p>\n<p>Similar thing happens when any static synchronized method of the class is called. The thread acquires the lock associated with the class(in this case any non static synchronized method of an instance of that class can be called by any thread because that object level lock is still available). Any other thread will not be able to call any static synchronized method of the class as long as the class level lock is not released by the thread which currently holds the lock.</p>\n<p><strong>Output with synchronised</strong></p>\n<pre><code>THREAD 1 :: 0\nTHREAD 1 :: 1\nTHREAD 1 :: 2\nTHREAD 1 :: 3\nTHREAD 1 :: 4\nTHREAD 1 :: 5\nTHREAD 1 :: 6\nTHREAD 1 :: 7\nTHREAD 1 :: 8\nTHREAD 1 :: 9\nTHREAD 3 :: 0\nTHREAD 3 :: 1\nTHREAD 3 :: 2\nTHREAD 3 :: 3\nTHREAD 3 :: 4\nTHREAD 3 :: 5\nTHREAD 3 :: 6\nTHREAD 3 :: 7\nTHREAD 3 :: 8\nTHREAD 3 :: 9\nTHREAD 2 :: 0\nTHREAD 2 :: 1\nTHREAD 2 :: 2\nTHREAD 2 :: 3\nTHREAD 2 :: 4\nTHREAD 2 :: 5\nTHREAD 2 :: 6\nTHREAD 2 :: 7\nTHREAD 2 :: 8\nTHREAD 2 :: 9\n</code></pre>\n<p><strong>Output without synchronized</strong></p>\n<pre><code>THREAD 1 :: 0\nTHREAD 2 :: 0\nTHREAD 3 :: 0\nTHREAD 1 :: 1\nTHREAD 2 :: 1\nTHREAD 3 :: 1\nTHREAD 1 :: 2\nTHREAD 2 :: 2\nTHREAD 3 :: 2\nTHREAD 1 :: 3\nTHREAD 2 :: 3\nTHREAD 3 :: 3\nTHREAD 1 :: 4\nTHREAD 2 :: 4\nTHREAD 3 :: 4\nTHREAD 1 :: 5\nTHREAD 2 :: 5\nTHREAD 3 :: 5\nTHREAD 1 :: 6\nTHREAD 2 :: 6\nTHREAD 3 :: 6\nTHREAD 1 :: 7\nTHREAD 2 :: 7\nTHREAD 3 :: 7\nTHREAD 1 :: 8\nTHREAD 2 :: 8\nTHREAD 3 :: 8\nTHREAD 1 :: 9\nTHREAD 2 :: 9\nTHREAD 3 :: 9\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2357377,"reputation":597,"user_id":2064906,"accept_rate":100,"display_name":"Sharad"},"down_vote_count":10,"up_vote_count":5,"is_accepted":false,"score":-5,"last_activity_date":1403168726,"creation_date":1403168726,"answer_id":24302786,"question_id":1085709,"body_markdown":"synchronized is a keyword in Java which is used to make happens before relationship in multithreading environment to avoid memory inconsistency and thread interference error.","title":"What does &#39;synchronized&#39; mean?","body":"<p>synchronized is a keyword in Java which is used to make happens before relationship in multithreading environment to avoid memory inconsistency and thread interference error.</p>\n"},{"tags":[],"owner":{"account_id":931751,"reputation":1922,"user_id":961517,"accept_rate":80,"display_name":"Gima"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1467210225,"creation_date":1434986367,"answer_id":30983751,"question_id":1085709,"body_markdown":"### Overview\r\n\r\nSynchronized keyword in Java has to do with thread-safety, that is, when multiple threads read or write the same variable.  \r\n*This can happen directly (by accessing the same variable) or indirectly (by using a class that uses another class that accesses the same variable).*\r\n\r\nThe synchronized keyword is used to define a block of code where multiple threads can access the same variable in a safe way.\r\n\r\n### Deeper\r\n\r\nSyntax-wise the `synchronized` keyword takes an `Object` as it&#39;s parameter (called *a lock object*), which is then followed by a `{ block of code }`.\r\n\r\n* When execution encounters this keyword, the current thread tries to &quot;lock/acquire/own&quot; (take your pick) the *lock object* and execute the associated block of code after the lock has been acquired.\r\n\r\n* Any writes to variables inside the synchronized code block are guaranteed to be visible to every other thread that similarly executes code inside a synchronized code block using the same *lock object*.\r\n\r\n* Only one thread at a time can hold the lock, during which time all other threads trying to acquire the same *lock object* will wait (pause their execution). The lock will be released when execution exits the synchronized code block.\r\n\r\n### Synchronized methods:\r\n\r\nAdding `synchronized` keyword to a method definition is equal to the entire method body being wrapped in a synchronized code block with the *lock object* being `this` *(for instance methods)* and `ClassInQuestion.getClass()` *(for class methods)*.\r\n\r\n*\\- Instance method is a method which does not have `static` keyword.*  \r\n*\\- Class method is a method which has `static` keyword.*\r\n\r\n### Technical\r\n\r\nWithout synchronization, it is not guaranteed in which order the reads and writes happen, possibly leaving the variable with garbage.  \r\n*(For example a variable could end up with half of the bits written by one thread and half of the bits written by another thread, leaving the variable in a state that neither of the threads tried to write, but a combined mess of both.)*\r\n\r\nIt is not enough to complete a write operation in a thread before (wall-clock time) another thread reads it, because hardware could have cached the value of the variable, and the reading thread would see the cached value instead of what was written to it.\r\n\r\n### Conclusion\r\n\r\nThus in Java&#39;s case, you have to follow the Java Memory Model to ensure that threading errors do not happen.  \r\n*In other words: Use synchronization, atomic operations or classes that use them for you under the hoods.*\r\n\r\n\r\n&gt; ### Sources\r\n&gt; \r\n&gt; http://docs.oracle.com/javase/specs/jls/se8/html/index.html  \r\n&gt; *Java&#174; Language Specification, 2015-02-13*","title":"What does &#39;synchronized&#39; mean?","body":"<h3>Overview</h3>\n\n<p>Synchronized keyword in Java has to do with thread-safety, that is, when multiple threads read or write the same variable.<br>\n<em>This can happen directly (by accessing the same variable) or indirectly (by using a class that uses another class that accesses the same variable).</em></p>\n\n<p>The synchronized keyword is used to define a block of code where multiple threads can access the same variable in a safe way.</p>\n\n<h3>Deeper</h3>\n\n<p>Syntax-wise the <code>synchronized</code> keyword takes an <code>Object</code> as it's parameter (called <em>a lock object</em>), which is then followed by a <code>{ block of code }</code>.</p>\n\n<ul>\n<li><p>When execution encounters this keyword, the current thread tries to \"lock/acquire/own\" (take your pick) the <em>lock object</em> and execute the associated block of code after the lock has been acquired.</p></li>\n<li><p>Any writes to variables inside the synchronized code block are guaranteed to be visible to every other thread that similarly executes code inside a synchronized code block using the same <em>lock object</em>.</p></li>\n<li><p>Only one thread at a time can hold the lock, during which time all other threads trying to acquire the same <em>lock object</em> will wait (pause their execution). The lock will be released when execution exits the synchronized code block.</p></li>\n</ul>\n\n<h3>Synchronized methods:</h3>\n\n<p>Adding <code>synchronized</code> keyword to a method definition is equal to the entire method body being wrapped in a synchronized code block with the <em>lock object</em> being <code>this</code> <em>(for instance methods)</em> and <code>ClassInQuestion.getClass()</code> <em>(for class methods)</em>.</p>\n\n<p><em>- Instance method is a method which does not have <code>static</code> keyword.</em><br>\n<em>- Class method is a method which has <code>static</code> keyword.</em></p>\n\n<h3>Technical</h3>\n\n<p>Without synchronization, it is not guaranteed in which order the reads and writes happen, possibly leaving the variable with garbage.<br>\n<em>(For example a variable could end up with half of the bits written by one thread and half of the bits written by another thread, leaving the variable in a state that neither of the threads tried to write, but a combined mess of both.)</em></p>\n\n<p>It is not enough to complete a write operation in a thread before (wall-clock time) another thread reads it, because hardware could have cached the value of the variable, and the reading thread would see the cached value instead of what was written to it.</p>\n\n<h3>Conclusion</h3>\n\n<p>Thus in Java's case, you have to follow the Java Memory Model to ensure that threading errors do not happen.<br>\n<em>In other words: Use synchronization, atomic operations or classes that use them for you under the hoods.</em></p>\n\n<blockquote>\n  <h3>Sources</h3>\n  \n  <p><a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/index.html\">http://docs.oracle.com/javase/specs/jls/se8/html/index.html</a><br>\n  <em>Java® Language Specification, 2015-02-13</em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1681113337,"creation_date":1450076166,"answer_id":34261294,"question_id":1085709,"body_markdown":"*1. What is the synchronized keyword?*\r\n\r\nSynchronized blocks or methods prevents thread interference and make sure that data is consistent. At any point of time, only one thread can access a synchronized block or method (*critical section*) by acquiring a lock. Other thread(s) will wait for release of lock to access *critical section*. \r\n\r\n\r\n*2. When are methods synchronized?*\r\n\r\nMethods are synchronized when you add `synchronized` to method definition or declaration. You can also synchronize a particular block of code with-in a method. \r\n\r\n*3. What does it mean pro grammatically and logically?*\r\n\r\nIt means that only one thread can access *critical section* by acquiring a lock. Unless this thread release this lock, all other thread(s) will have to wait to acquire a lock. They don&#39;t have access to enter *critical section* with out acquiring lock.\r\n\r\nIt&#39;s programmer  responsibility to identify *critical section(s)* in application and guard it accordingly. Java provides a framework to guard your application, but which sections to be guarded is the responsibility of programmer.\r\n\r\nMaking methods synchronized has two [effects][1]:\r\n\r\n&gt;First, it is not possible for two invocations of synchronized methods on the same object to interleave. \r\n\r\n&gt; Second, when a synchronized method exits, it automatically establishes a happens-before relationship with any subsequent invocation of a synchronized method for the same object. \r\n\r\nThis guarantees that changes to the state of the object are visible to all threads.\r\n\r\nLook for other alternatives to synchronization in :\r\n\r\nhttps://stackoverflow.com/questions/442564/avoid-synchronizedthis-in-java/36692190#36692190\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\r\n ","title":"What does &#39;synchronized&#39; mean?","body":"<p><em>1. What is the synchronized keyword?</em></p>\n<p>Synchronized blocks or methods prevents thread interference and make sure that data is consistent. At any point of time, only one thread can access a synchronized block or method (<em>critical section</em>) by acquiring a lock. Other thread(s) will wait for release of lock to access <em>critical section</em>.</p>\n<p><em>2. When are methods synchronized?</em></p>\n<p>Methods are synchronized when you add <code>synchronized</code> to method definition or declaration. You can also synchronize a particular block of code with-in a method.</p>\n<p><em>3. What does it mean pro grammatically and logically?</em></p>\n<p>It means that only one thread can access <em>critical section</em> by acquiring a lock. Unless this thread release this lock, all other thread(s) will have to wait to acquire a lock. They don't have access to enter <em>critical section</em> with out acquiring lock.</p>\n<p>It's programmer  responsibility to identify <em>critical section(s)</em> in application and guard it accordingly. Java provides a framework to guard your application, but which sections to be guarded is the responsibility of programmer.</p>\n<p>Making methods synchronized has two <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"nofollow noreferrer\">effects</a>:</p>\n<blockquote>\n<p>First, it is not possible for two invocations of synchronized methods on the same object to interleave.</p>\n</blockquote>\n<blockquote>\n<p>Second, when a synchronized method exits, it automatically establishes a happens-before relationship with any subsequent invocation of a synchronized method for the same object.</p>\n</blockquote>\n<p>This guarantees that changes to the state of the object are visible to all threads.</p>\n<p>Look for other alternatives to synchronization in :</p>\n<p><a href=\"https://stackoverflow.com/questions/442564/avoid-synchronizedthis-in-java/36692190#36692190\">Avoid synchronized(this) in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":5396216,"reputation":2669,"user_id":4297361,"accept_rate":100,"display_name":"Shahryar Saljoughi"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1544430638,"creation_date":1470089029,"answer_id":38708838,"question_id":1085709,"body_markdown":"Here is an explanation from [The Java Tutorials][1].\r\n\r\nConsider the following code:\r\n\r\n&gt;     public class SynchronizedCounter {\r\n&gt;         private int c = 0;\r\n&gt; \r\n&gt;         public synchronized void increment() {\r\n&gt;             c++;\r\n&gt;         }\r\n&gt; \r\n&gt;         public synchronized void decrement() {\r\n&gt;             c--;\r\n&gt;         }\r\n&gt; \r\n&gt;         public synchronized int value() {\r\n&gt;             return c;\r\n&gt;         }\r\n&gt;     }\r\n&gt; if `count` is an instance of `SynchronizedCounter`, then making these methods synchronized has two effects:\r\n&gt; \r\n&gt;  - First, it is not possible for two invocations of synchronized methods on the same object to interleave. When one thread is executing a synchronized method for an object, all other threads that invoke synchronized methods for the same object block (suspend execution) until the first thread is done with the object.\r\n&gt;  - Second, when a synchronized method exits, it automatically establishes a happens-before relationship with any subsequent invocation of a synchronized method for the same object. This guarantees that changes to the state of the object are visible to all threads.\r\n\r\n[1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html","title":"What does &#39;synchronized&#39; mean?","body":"<p>Here is an explanation from <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"noreferrer\">The Java Tutorials</a>.</p>\n\n<p>Consider the following code:</p>\n\n<blockquote>\n<pre><code>public class SynchronizedCounter {\n    private int c = 0;\n\n    public synchronized void increment() {\n        c++;\n    }\n\n    public synchronized void decrement() {\n        c--;\n    }\n\n    public synchronized int value() {\n        return c;\n    }\n}\n</code></pre>\n  \n  <p>if <code>count</code> is an instance of <code>SynchronizedCounter</code>, then making these methods synchronized has two effects:</p>\n  \n  <ul>\n  <li>First, it is not possible for two invocations of synchronized methods on the same object to interleave. When one thread is executing a synchronized method for an object, all other threads that invoke synchronized methods for the same object block (suspend execution) until the first thread is done with the object.</li>\n  <li>Second, when a synchronized method exits, it automatically establishes a happens-before relationship with any subsequent invocation of a synchronized method for the same object. This guarantees that changes to the state of the object are visible to all threads.</li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1761600,"reputation":51,"user_id":1608572,"display_name":"paras4all"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496947275,"creation_date":1496947275,"answer_id":44443323,"question_id":1085709,"body_markdown":"Synchronized simply means that multiple threads if associated with single object can prevent dirty read and write if synchronized block is used on particular object. To give you more clarity , lets take an example :\r\n\r\n    class MyRunnable implements Runnable {\r\n    \tint var = 10;\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tcall();\r\n    \t}\r\n    \r\n    \tpublic void call() {\r\n    \t\tsynchronized (this) {\r\n    \t\t\tfor (int i = 0; i &lt; 4; i++) {\r\n    \t\t\t\tvar++;\r\n    \t\t\t\tSystem.out.println(&quot;Current Thread &quot; + Thread.currentThread().getName() + &quot; var value &quot;+var);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n    public class MutlipleThreadsRunnable {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tMyRunnable runnable1 = new MyRunnable();\r\n    \t\tMyRunnable runnable2 = new MyRunnable();\r\n    \t\tThread t1 = new Thread(runnable1);\r\n    \t\tt1.setName(&quot;Thread -1&quot;);\r\n    \t\tThread t2 = new Thread(runnable2);\r\n    \t\tt2.setName(&quot;Thread -2&quot;);\r\n    \t\tThread t3 = new Thread(runnable1);\r\n    \t\tt3.setName(&quot;Thread -3&quot;);\r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \t\tt3.start();\r\n    \t}\r\n    }\r\n\r\nWe&#39;ve created two MyRunnable class objects , runnable1 being shared with thread 1 and thread 3 &amp; runnable2 being shared with thread 2 only.\r\nNow when t1 and t3 starts without synchronized being used , PFB output which suggest that both threads 1 and 3 simultaneously affecting var value where for thread 2 , var has its own memory.\r\n\r\n    Without Synchronized keyword\r\n\r\n        Current Thread Thread -1 var value 11\r\n        Current Thread Thread -2 var value 11\r\n        Current Thread Thread -2 var value 12\r\n        Current Thread Thread -2 var value 13\r\n        Current Thread Thread -2 var value 14\r\n        Current Thread Thread -1 var value 12\r\n        Current Thread Thread -3 var value 13\r\n        Current Thread Thread -3 var value 15\r\n        Current Thread Thread -1 var value 14\r\n        Current Thread Thread -1 var value 17\r\n        Current Thread Thread -3 var value 16\r\n        Current Thread Thread -3 var value 18\r\n\r\nUsing Synchronzied, thread 3 waiting for thread 1 to complete in all scenarios. There are two locks acquired , one on runnable1 shared by thread 1 and thread 3 and another on runnable2 shared by thread 2 only.\r\n\r\n    Current Thread Thread -1 var value 11\r\n    Current Thread Thread -2 var value 11\r\n    Current Thread Thread -1 var value 12\r\n    Current Thread Thread -2 var value 12\r\n    Current Thread Thread -1 var value 13\r\n    Current Thread Thread -2 var value 13\r\n    Current Thread Thread -1 var value 14\r\n    Current Thread Thread -2 var value 14\r\n    Current Thread Thread -3 var value 15\r\n    Current Thread Thread -3 var value 16\r\n    Current Thread Thread -3 var value 17\r\n    Current Thread Thread -3 var value 18\r\n\r\n","title":"What does &#39;synchronized&#39; mean?","body":"<p>Synchronized simply means that multiple threads if associated with single object can prevent dirty read and write if synchronized block is used on particular object. To give you more clarity , lets take an example :</p>\n\n<pre><code>class MyRunnable implements Runnable {\n    int var = 10;\n    @Override\n    public void run() {\n        call();\n    }\n\n    public void call() {\n        synchronized (this) {\n            for (int i = 0; i &lt; 4; i++) {\n                var++;\n                System.out.println(\"Current Thread \" + Thread.currentThread().getName() + \" var value \"+var);\n            }\n        }\n    }\n}\n\npublic class MutlipleThreadsRunnable {\n    public static void main(String[] args) {\n        MyRunnable runnable1 = new MyRunnable();\n        MyRunnable runnable2 = new MyRunnable();\n        Thread t1 = new Thread(runnable1);\n        t1.setName(\"Thread -1\");\n        Thread t2 = new Thread(runnable2);\n        t2.setName(\"Thread -2\");\n        Thread t3 = new Thread(runnable1);\n        t3.setName(\"Thread -3\");\n        t1.start();\n        t2.start();\n        t3.start();\n    }\n}\n</code></pre>\n\n<p>We've created two MyRunnable class objects , runnable1 being shared with thread 1 and thread 3 &amp; runnable2 being shared with thread 2 only.\nNow when t1 and t3 starts without synchronized being used , PFB output which suggest that both threads 1 and 3 simultaneously affecting var value where for thread 2 , var has its own memory.</p>\n\n<pre><code>Without Synchronized keyword\n\n    Current Thread Thread -1 var value 11\n    Current Thread Thread -2 var value 11\n    Current Thread Thread -2 var value 12\n    Current Thread Thread -2 var value 13\n    Current Thread Thread -2 var value 14\n    Current Thread Thread -1 var value 12\n    Current Thread Thread -3 var value 13\n    Current Thread Thread -3 var value 15\n    Current Thread Thread -1 var value 14\n    Current Thread Thread -1 var value 17\n    Current Thread Thread -3 var value 16\n    Current Thread Thread -3 var value 18\n</code></pre>\n\n<p>Using Synchronzied, thread 3 waiting for thread 1 to complete in all scenarios. There are two locks acquired , one on runnable1 shared by thread 1 and thread 3 and another on runnable2 shared by thread 2 only.</p>\n\n<pre><code>Current Thread Thread -1 var value 11\nCurrent Thread Thread -2 var value 11\nCurrent Thread Thread -1 var value 12\nCurrent Thread Thread -2 var value 12\nCurrent Thread Thread -1 var value 13\nCurrent Thread Thread -2 var value 13\nCurrent Thread Thread -1 var value 14\nCurrent Thread Thread -2 var value 14\nCurrent Thread Thread -3 var value 15\nCurrent Thread Thread -3 var value 16\nCurrent Thread Thread -3 var value 17\nCurrent Thread Thread -3 var value 18\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1505084939,"creation_date":1505083922,"answer_id":46146283,"question_id":1085709,"body_markdown":"What the other answers are missing is one important aspect: *memory barriers*. Thread synchronization basically consists of *two* parts: serialization and visibility. I advise everyone to google for &quot;jvm memory barrier&quot;, as it is a non-trivial and extremely important topic (if you modify shared data accessed by multiple threads). Having done that, I advise looking at java.util.concurrent package&#39;s classes that help to avoid using explicit synchronization, which in turn helps keeping programs simple and efficient, maybe even preventing deadlocks.\r\n\r\nOne such example is [ConcurrentLinkedDeque](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedDeque.html). Together with the [command pattern](https://en.wikipedia.org/wiki/Command_pattern) it allows to create highly efficient worker threads by stuffing the commands into the concurrent queue -- no explicit synchronization needed, no deadlocks possible, no explicit sleep() necessary, just poll the queue by calling take().\r\n\r\nIn short: &quot;memory synchronization&quot; happens *implicitly* when you start a thread, a thread ends, you read a volatile variable, you unlock a monitor (leave a synchronized block/function) etc. This &quot;synchronization&quot; affects (in a sense &quot;flushes&quot;) *all* writes done before that particular action. In the case of the aforementioned [ConcurrentLinkedDeque](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedDeque.html), the documentation &quot;says&quot;:\r\n\r\n&gt; Memory consistency effects: As with other concurrent collections,\r\n&gt; actions in a thread prior to placing an object into a\r\n&gt; ConcurrentLinkedDeque [happen-before](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/package-summary.html#MemoryVisibility) actions subsequent to the access\r\n&gt; or removal of that element from the ConcurrentLinkedDeque in another\r\n&gt; thread.\r\n\r\nThis implicit behavior is a somewhat pernicious aspect because most Java programmers without much experience will just take a lot as given because of it. And then suddenly stumble over this thread after Java isn&#39;t doing what it is &quot;supposed&quot; to do in production where there is a different work load -- and it&#39;s pretty hard to test concurrency issues.","title":"What does &#39;synchronized&#39; mean?","body":"<p>What the other answers are missing is one important aspect: <em>memory barriers</em>. Thread synchronization basically consists of <em>two</em> parts: serialization and visibility. I advise everyone to google for \"jvm memory barrier\", as it is a non-trivial and extremely important topic (if you modify shared data accessed by multiple threads). Having done that, I advise looking at java.util.concurrent package's classes that help to avoid using explicit synchronization, which in turn helps keeping programs simple and efficient, maybe even preventing deadlocks.</p>\n\n<p>One such example is <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedDeque.html\" rel=\"noreferrer\">ConcurrentLinkedDeque</a>. Together with the <a href=\"https://en.wikipedia.org/wiki/Command_pattern\" rel=\"noreferrer\">command pattern</a> it allows to create highly efficient worker threads by stuffing the commands into the concurrent queue -- no explicit synchronization needed, no deadlocks possible, no explicit sleep() necessary, just poll the queue by calling take().</p>\n\n<p>In short: \"memory synchronization\" happens <em>implicitly</em> when you start a thread, a thread ends, you read a volatile variable, you unlock a monitor (leave a synchronized block/function) etc. This \"synchronization\" affects (in a sense \"flushes\") <em>all</em> writes done before that particular action. In the case of the aforementioned <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedDeque.html\" rel=\"noreferrer\">ConcurrentLinkedDeque</a>, the documentation \"says\":</p>\n\n<blockquote>\n  <p>Memory consistency effects: As with other concurrent collections,\n  actions in a thread prior to placing an object into a\n  ConcurrentLinkedDeque <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/package-summary.html#MemoryVisibility\" rel=\"noreferrer\">happen-before</a> actions subsequent to the access\n  or removal of that element from the ConcurrentLinkedDeque in another\n  thread.</p>\n</blockquote>\n\n<p>This implicit behavior is a somewhat pernicious aspect because most Java programmers without much experience will just take a lot as given because of it. And then suddenly stumble over this thread after Java isn't doing what it is \"supposed\" to do in production where there is a different work load -- and it's pretty hard to test concurrency issues.</p>\n"},{"tags":[],"owner":{"account_id":7022638,"reputation":58830,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1522631958,"creation_date":1522595941,"answer_id":49599536,"question_id":1085709,"body_markdown":"`Synchronized normal method` equivalent to\r\n`Synchronized statement` (use this)\r\n\r\n    class A {\r\n        public synchronized void methodA() {\r\n            // all function code\r\n        }\r\n        \r\n        equivalent to\r\n\r\n        public void methodA() {\r\n            synchronized(this) {\r\n                 // all function code\r\n            }\r\n        } \r\n    }\r\n\r\n`Synchronized static method` equivalent to `Synchronized statement` (use class)\r\n\r\n\r\n    class A {\r\n        public static synchronized void methodA() {\r\n            // all function code\r\n        }\r\n        \r\n        equivalent to\r\n\r\n        public void methodA() {\r\n            synchronized(A.class) {\r\n                 // all function code\r\n            }\r\n        } \r\n    }\r\n\r\nSynchronized statement (using variable)\r\n    \r\n    class A {\r\n        private Object lock1 = new Object();\r\n       \r\n        public void methodA() {\r\n            synchronized(lock1 ) {\r\n                 // all function code\r\n            }\r\n        } \r\n    }\r\n\r\nFor `synchronized`, we have both `Synchronized Methods` and `Synchronized Statements`. However, `Synchronized Methods` is similar to `Synchronized Statements` so we just need to understand `Synchronized Statements`.\r\n\r\n=&gt; Basically, we will have\r\n\r\n    synchronized(object or class) { // object/class use to provides the intrinsic lock\r\n       // code \r\n    }\r\n\r\nHere is 2 think that help understanding `synchronized`\r\n\r\n- Every object/class have an `intrinsic lock` associated with it.\r\n- When a thread invokes a `synchronized statement`, it automatically acquires the `intrinsic lock` for that `synchronized statement&#39;s` object and releases it when the method returns. As long as a thread owns an `intrinsic lock`, **NO other** thread can acquire the **SAME** lock =&gt; thread safe.\r\n\r\n=&gt; \r\nWhen a `thread A` invokes `synchronized(this){// code 1}` =&gt; all the block code (inside class) where have `synchronized(this)` and all `synchronized normal method` (inside class) is locked because **SAME** lock. It will execute after `thread A` unlock (&quot;// code 1&quot; finished).  \r\n \r\nThis behavior is similar to `synchronized(a variable){// code 1}` or `synchronized(class)`.  \r\n\r\n**SAME LOCK** =&gt; lock (not depend on which method? or which statements?)\r\n\r\n### Use synchronized method or synchronized statements?\r\nI prefer `synchronized statements` because it is more extendable. Example, in future, you only need synchronized a part of method. Example, you have 2 synchronized method and it **don&#39;t have any** relevant to each other, however when a thread run a method, it will block the other method (it can prevent by use `synchronized(a variable)`).  \r\n\r\nHowever, apply synchronized method is simple and the code look simple. For some class, there only 1 synchronized method, or all synchronized methods in the class in relevant to each other =&gt; we can use `synchronized method` to make code shorter and easy to understand\r\n\r\n### Note  \r\n(it not relevant to much to `synchronized`, it is the different between object and class or none-static and static). \r\n\r\n- When you use `synchronized` or normal method or `synchronized(this)` or `synchronized(non-static variable)` it will synchronized base on each object instance.  \r\n- When you use `synchronized` or static method or `synchronized(class)` or `synchronized(static variable)` it will synchronized base on class\r\n\r\n### Reference  \r\nhttps://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\r\nhttps://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\r\n\r\nHope it help\r\n\r\n","title":"What does &#39;synchronized&#39; mean?","body":"<p><code>Synchronized normal method</code> equivalent to\n<code>Synchronized statement</code> (use this)</p>\n\n<pre><code>class A {\n    public synchronized void methodA() {\n        // all function code\n    }\n\n    equivalent to\n\n    public void methodA() {\n        synchronized(this) {\n             // all function code\n        }\n    } \n}\n</code></pre>\n\n<p><code>Synchronized static method</code> equivalent to <code>Synchronized statement</code> (use class)</p>\n\n<pre><code>class A {\n    public static synchronized void methodA() {\n        // all function code\n    }\n\n    equivalent to\n\n    public void methodA() {\n        synchronized(A.class) {\n             // all function code\n        }\n    } \n}\n</code></pre>\n\n<p>Synchronized statement (using variable)</p>\n\n<pre><code>class A {\n    private Object lock1 = new Object();\n\n    public void methodA() {\n        synchronized(lock1 ) {\n             // all function code\n        }\n    } \n}\n</code></pre>\n\n<p>For <code>synchronized</code>, we have both <code>Synchronized Methods</code> and <code>Synchronized Statements</code>. However, <code>Synchronized Methods</code> is similar to <code>Synchronized Statements</code> so we just need to understand <code>Synchronized Statements</code>.</p>\n\n<p>=> Basically, we will have</p>\n\n<pre><code>synchronized(object or class) { // object/class use to provides the intrinsic lock\n   // code \n}\n</code></pre>\n\n<p>Here is 2 think that help understanding <code>synchronized</code></p>\n\n<ul>\n<li>Every object/class have an <code>intrinsic lock</code> associated with it.</li>\n<li>When a thread invokes a <code>synchronized statement</code>, it automatically acquires the <code>intrinsic lock</code> for that <code>synchronized statement's</code> object and releases it when the method returns. As long as a thread owns an <code>intrinsic lock</code>, <strong>NO other</strong> thread can acquire the <strong>SAME</strong> lock => thread safe.</li>\n</ul>\n\n<p>=> \nWhen a <code>thread A</code> invokes <code>synchronized(this){// code 1}</code> => all the block code (inside class) where have <code>synchronized(this)</code> and all <code>synchronized normal method</code> (inside class) is locked because <strong>SAME</strong> lock. It will execute after <code>thread A</code> unlock (\"// code 1\" finished).  </p>\n\n<p>This behavior is similar to <code>synchronized(a variable){// code 1}</code> or <code>synchronized(class)</code>.  </p>\n\n<p><strong>SAME LOCK</strong> => lock (not depend on which method? or which statements?)</p>\n\n<h3>Use synchronized method or synchronized statements?</h3>\n\n<p>I prefer <code>synchronized statements</code> because it is more extendable. Example, in future, you only need synchronized a part of method. Example, you have 2 synchronized method and it <strong>don't have any</strong> relevant to each other, however when a thread run a method, it will block the other method (it can prevent by use <code>synchronized(a variable)</code>).  </p>\n\n<p>However, apply synchronized method is simple and the code look simple. For some class, there only 1 synchronized method, or all synchronized methods in the class in relevant to each other => we can use <code>synchronized method</code> to make code shorter and easy to understand</p>\n\n<h3>Note</h3>\n\n<p>(it not relevant to much to <code>synchronized</code>, it is the different between object and class or none-static and static). </p>\n\n<ul>\n<li>When you use <code>synchronized</code> or normal method or <code>synchronized(this)</code> or <code>synchronized(non-static variable)</code> it will synchronized base on each object instance.  </li>\n<li>When you use <code>synchronized</code> or static method or <code>synchronized(class)</code> or <code>synchronized(static variable)</code> it will synchronized base on class</li>\n</ul>\n\n<h3>Reference</h3>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html</a>\n<a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html</a></p>\n\n<p>Hope it help</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673875604,"creation_date":1577448503,"answer_id":59500618,"question_id":1085709,"body_markdown":"**Java synchronized**\r\n\r\n`volatile`[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][1] =&gt; `synchronized`\r\n\r\n`synchronized` block in Java is a monitor in multithreading. `synchronized` block with the same object/class can be executed by only single thread, all others are waiting. It can help with `race condition`[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][2] situation.\r\n\r\n`Java 5` extended `synchronized` by supporting `happens-before`[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][3]\r\n\r\n&gt; An unlock (synchronized block or method exit) of a monitor happens-before every subsequent lock (synchronized block or method entry) of that same monitor. \r\n\r\n\r\nThe next step is `java.util.concurrent`\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59498520/4770877\r\n  [2]: https://stackoverflow.com/a/75134842/4770877\r\n  [3]: https://stackoverflow.com/a/59491099/4770877","title":"What does &#39;synchronized&#39; mean?","body":"<p><strong>Java synchronized</strong></p>\n<p><code>volatile</code><a href=\"https://stackoverflow.com/a/59498520/4770877\"><sup>[About]</sup></a> =&gt; <code>synchronized</code></p>\n<p><code>synchronized</code> block in Java is a monitor in multithreading. <code>synchronized</code> block with the same object/class can be executed by only single thread, all others are waiting. It can help with <code>race condition</code><a href=\"https://stackoverflow.com/a/75134842/4770877\"><sup>[About]</sup></a> situation.</p>\n<p><code>Java 5</code> extended <code>synchronized</code> by supporting <code>happens-before</code><a href=\"https://stackoverflow.com/a/59491099/4770877\"><sup>[About]</sup></a></p>\n<blockquote>\n<p>An unlock (synchronized block or method exit) of a monitor happens-before every subsequent lock (synchronized block or method entry) of that same monitor.</p>\n</blockquote>\n<p>The next step is <code>java.util.concurrent</code></p>\n"},{"tags":[],"owner":{"account_id":6554659,"reputation":9388,"user_id":5067761,"accept_rate":67,"display_name":"Ahtisham"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599279166,"creation_date":1598259392,"answer_id":63557750,"question_id":1085709,"body_markdown":"In java to prevent multiple threads manipulating a shared variable we use `synchronized` keyword. Lets understand it with help of the following example:\r\n\r\nIn the example I have defined two threads and named them increment and decrement. Increment thread increases the value of shared variable (`counter`) by the same amount the decrement thread decreases it i.e 5000 times it is increased (which result in 5000 + 0 = 5000) and 5000 times we decrease (which result in 5000 - 5000 = 0).\r\n\r\n**Program without `synchronized` keyword:** \r\n\r\n    class SynchronizationDemo {\r\n    \r\n    \tpublic static void main(String[] args){\r\n    \r\n    \t\tBuffer buffer = new Buffer();\t\t\t\t\t\r\n    \r\n            MyThread incThread = new MyThread(buffer, &quot;increment&quot;);\r\n\t\t    MyThread decThread = new MyThread(buffer, &quot;decrement&quot;);\t\r\n    \r\n    \t\tincThread.start();\r\n    \t\tdecThread.start();\t\r\n           \r\n            try {\r\n              incThread.join();\r\n              decThread.join();\r\n            }catch(InterruptedException e){ }\r\n \r\n            System.out.println(&quot;Final counter: &quot;+buffer.getCounter());\r\n    \t}\r\n    }\r\n    \r\n    class Buffer {\r\n    \tprivate int counter = 0; \r\n    \tpublic void inc() { counter++; }\r\n    \tpublic void dec() { counter--; } \r\n    \tpublic int getCounter() { return counter; }\r\n    }\r\n    \r\n    class MyThread extends Thread {\r\n    \r\n    \tprivate String name;\r\n    \tprivate Buffer buffer;\r\n    \r\n    \tpublic MyThread (Buffer aBuffer, String aName) {     \t\t\r\n    \t\tbuffer = aBuffer; \r\n            name = aName; \r\n    \t}\r\n    \r\n    \tpublic void run(){\r\n    \t\tfor (int i = 0; i &lt;= 5000; i++){\r\n    \t\t\tif (name.equals(&quot;increment&quot;))\r\n    \t\t\t\tbuffer.inc();\r\n    \t\t\telse\r\n    \t\t\t\tbuffer.dec();\t\t\t\t\t\t\t\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nIf we run the above program we expect value of buffer to be same since incrementing and decrementing the buffer by same amount would result in initial value we started with right ?. Lets see the output:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see no matter how many times we run the program we get a different result reason being each thread manipulated the `counter` at the same time. If we could manage to let the one thread to first increment the shared variable and then second to decrement it or vice versa we will then get the right result that is exactly what can be done with `synchronized` keyword by just adding `synchronized` keyword before the `inc` and `dec` methods of `Buffer` like this:\r\n\r\n**Program with `synchronized` keyword:** \r\n\r\n    // rest of the code\r\n\r\n    class Buffer {\r\n    \tprivate int counter = 0; \r\n    \t// added synchronized keyword to let only one thread\r\n        // be it inc or dec thread to manipulate data at a time\r\n        public synchronized void inc() { counter++; }\r\n    \tpublic synchronized void dec() { counter--; } \r\n    \tpublic int getCounter() { return counter; }\r\n    }\r\n    \r\n    // rest of the code\r\n\r\nand the output:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nno matter how many times we run it we get the same output as 0\r\n\r\n  [1]: https://i.stack.imgur.com/upqWt.jpg\r\n  [2]: https://i.stack.imgur.com/o4CGa.jpg","title":"What does &#39;synchronized&#39; mean?","body":"<p>In java to prevent multiple threads manipulating a shared variable we use <code>synchronized</code> keyword. Lets understand it with help of the following example:</p>\n<p>In the example I have defined two threads and named them increment and decrement. Increment thread increases the value of shared variable (<code>counter</code>) by the same amount the decrement thread decreases it i.e 5000 times it is increased (which result in 5000 + 0 = 5000) and 5000 times we decrease (which result in 5000 - 5000 = 0).</p>\n<p><strong>Program without <code>synchronized</code> keyword:</strong></p>\n<pre><code>class SynchronizationDemo {\n\n    public static void main(String[] args){\n\n        Buffer buffer = new Buffer();                   \n\n        MyThread incThread = new MyThread(buffer, &quot;increment&quot;);\n        MyThread decThread = new MyThread(buffer, &quot;decrement&quot;); \n\n        incThread.start();\n        decThread.start();  \n       \n        try {\n          incThread.join();\n          decThread.join();\n        }catch(InterruptedException e){ }\n\n        System.out.println(&quot;Final counter: &quot;+buffer.getCounter());\n    }\n}\n\nclass Buffer {\n    private int counter = 0; \n    public void inc() { counter++; }\n    public void dec() { counter--; } \n    public int getCounter() { return counter; }\n}\n\nclass MyThread extends Thread {\n\n    private String name;\n    private Buffer buffer;\n\n    public MyThread (Buffer aBuffer, String aName) {            \n        buffer = aBuffer; \n        name = aName; \n    }\n\n    public void run(){\n        for (int i = 0; i &lt;= 5000; i++){\n            if (name.equals(&quot;increment&quot;))\n                buffer.inc();\n            else\n                buffer.dec();                           \n        }\n    }\n}\n</code></pre>\n<p>If we run the above program we expect value of buffer to be same since incrementing and decrementing the buffer by same amount would result in initial value we started with right ?. Lets see the output:</p>\n<p><a href=\"https://i.stack.imgur.com/upqWt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/upqWt.jpg\" alt=\"enter image description here\" /></a></p>\n<p>As you can see no matter how many times we run the program we get a different result reason being each thread manipulated the <code>counter</code> at the same time. If we could manage to let the one thread to first increment the shared variable and then second to decrement it or vice versa we will then get the right result that is exactly what can be done with <code>synchronized</code> keyword by just adding <code>synchronized</code> keyword before the <code>inc</code> and <code>dec</code> methods of <code>Buffer</code> like this:</p>\n<p><strong>Program with <code>synchronized</code> keyword:</strong></p>\n<pre><code>// rest of the code\n\nclass Buffer {\n    private int counter = 0; \n    // added synchronized keyword to let only one thread\n    // be it inc or dec thread to manipulate data at a time\n    public synchronized void inc() { counter++; }\n    public synchronized void dec() { counter--; } \n    public int getCounter() { return counter; }\n}\n\n// rest of the code\n</code></pre>\n<p>and the output:</p>\n<p><a href=\"https://i.stack.imgur.com/o4CGa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o4CGa.jpg\" alt=\"enter image description here\" /></a></p>\n<p>no matter how many times we run it we get the same output as 0</p>\n"},{"tags":[],"owner":{"account_id":10737089,"reputation":3994,"user_id":7901430,"display_name":"Cihat Şaman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698746046,"creation_date":1698746046,"answer_id":77394870,"question_id":1085709,"body_markdown":"\r\nThe &quot;***synchronized***&quot; keyword is for achieving thread safety. It restricts access to a synchronized block or method to just one thread at a time, effectively preventing data inconsistencies in multi-threaded programs.\r\n\r\n**When to Use Method Synchronization**\r\n\r\nMethod synchronization becomes necessary when dealing with shared resources such as data structures. It safeguards against data corruption, especially in critical sections where only one thread should operate at a time. It&#39;s also vital in classes intended for multi-threaded use to maintain thread safety.\r\n\r\n**Understanding the Programmatic and Logical Implications**\r\n\r\nFrom a programmatic perspective, Java&#39;s synchronization ensures that only one thread can access synchronized code by acquiring and releasing locks. Logically, it enforces data consistency and integrity in multi-threaded environments.\r\n\r\n\r\n","title":"What does &#39;synchronized&#39; mean?","body":"<p>The &quot;<em><strong>synchronized</strong></em>&quot; keyword is for achieving thread safety. It restricts access to a synchronized block or method to just one thread at a time, effectively preventing data inconsistencies in multi-threaded programs.</p>\n<p><strong>When to Use Method Synchronization</strong></p>\n<p>Method synchronization becomes necessary when dealing with shared resources such as data structures. It safeguards against data corruption, especially in critical sections where only one thread should operate at a time. It's also vital in classes intended for multi-threaded use to maintain thread safety.</p>\n<p><strong>Understanding the Programmatic and Logical Implications</strong></p>\n<p>From a programmatic perspective, Java's synchronization ensures that only one thread can access synchronized code by acquiring and releasing locks. Logically, it enforces data consistency and integrity in multi-threaded environments.</p>\n"}],"owner":{"account_id":42657,"reputation":27146,"user_id":124339,"accept_rate":46,"display_name":"Johanna"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554255,"favorite_count":0,"down_vote_count":11,"up_vote_count":1137,"accepted_answer_id":1085745,"answer_count":18,"score":1126,"last_activity_date":1701979743,"creation_date":1246862843,"question_id":1085709,"body_markdown":"I have some questions regarding the usage and significance of the `synchronized` keyword. \r\n\r\n- What is the significance of the `synchronized` keyword?\r\n- When should methods be `synchronized`?\r\n- What does it mean programmatically and logically?\r\n\r\n","title":"What does &#39;synchronized&#39; mean?","body":"<p>I have some questions regarding the usage and significance of the <code>synchronized</code> keyword. </p>\n\n<ul>\n<li>What is the significance of the <code>synchronized</code> keyword?</li>\n<li>When should methods be <code>synchronized</code>?</li>\n<li>What does it mean programmatically and logically?</li>\n</ul>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":5,"creation_date":1434921818,"post_id":30969472,"comment_id":49970447,"body_markdown":"normal class but using an enum to define just constants make more sense in OO world","body":"normal class but using an enum to define just constants make more sense in OO world"}],"answers":[{"tags":[],"owner":{"account_id":6495599,"reputation":2923,"user_id":5028333,"display_name":"Raman Shrivastava"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1434922217,"creation_date":1434921898,"answer_id":30969498,"question_id":30969472,"body_markdown":"There is no class which doesn&#39;t have any method. All Classes are subclass of Object class. So all the methods from Object class are inherited. eg. toString(), hashCode() etc.\r\n\r\nAnd there is no special name for them.","title":"Does a class without methods have a special name?","body":"<p>There is no class which doesn't have any method. All Classes are subclass of Object class. So all the methods from Object class are inherited. eg. toString(), hashCode() etc.</p>\n\n<p>And there is no special name for them.</p>\n"},{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434922601,"creation_date":1434922601,"answer_id":30969580,"question_id":30969472,"body_markdown":"For Java, there is absolutely nothing special about this class.\r\n\r\nFor the programmer it is more of a constants class (considering its name and the fact that it&#39;s only used to hold a constant), which is [not really a good idea to do](https://stackoverflow.com/questions/66066/what-is-the-best-way-to-implement-constants-in-java/66228#66228).","title":"Does a class without methods have a special name?","body":"<p>For Java, there is absolutely nothing special about this class.</p>\n\n<p>For the programmer it is more of a constants class (considering its name and the fact that it's only used to hold a constant), which is <a href=\"https://stackoverflow.com/questions/66066/what-is-the-best-way-to-implement-constants-in-java/66228#66228\">not really a good idea to do</a>.</p>\n"},{"tags":[],"owner":{"account_id":363232,"reputation":3141,"user_id":706853,"accept_rate":77,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1434923066,"creation_date":1434923066,"answer_id":30969639,"question_id":30969472,"body_markdown":"Raman is right in that all objects inherit the methods of the Object class, so you technically can&#39;t have a class without any methods at all.\r\n\r\nBut if you&#39;re talking about a class that doesn&#39;t override any of those methods, don&#39;t have methods of its own, and most/all fields are public, then people typically call those POD types, or short for Plain Old Data type.\r\n\r\nSomething like:\r\n\r\n    public class Point2D {\r\n        public int x;\r\n        public int y;\r\n    }\r\n\r\nwould be considered a POD type","title":"Does a class without methods have a special name?","body":"<p>Raman is right in that all objects inherit the methods of the Object class, so you technically can't have a class without any methods at all.</p>\n\n<p>But if you're talking about a class that doesn't override any of those methods, don't have methods of its own, and most/all fields are public, then people typically call those POD types, or short for Plain Old Data type.</p>\n\n<p>Something like:</p>\n\n<pre><code>public class Point2D {\n    public int x;\n    public int y;\n}\n</code></pre>\n\n<p>would be considered a POD type</p>\n"},{"tags":[],"owner":{"account_id":17636964,"reputation":103,"user_id":12800045,"display_name":"Florian Becker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648561022,"creation_date":1648561022,"answer_id":71663092,"question_id":30969472,"body_markdown":"The 2022 answer is that we now have [records][1] to manage our data-classes. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/language/records.html","title":"Does a class without methods have a special name?","body":"<p>The 2022 answer is that we now have <a href=\"https://docs.oracle.com/en/java/javase/17/language/records.html\" rel=\"nofollow noreferrer\">records</a> to manage our data-classes.</p>\n"},{"tags":[],"owner":{"account_id":9804588,"reputation":541,"user_id":7264821,"display_name":"treefiddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701979735,"creation_date":1701979735,"answer_id":77622844,"question_id":30969472,"body_markdown":"Depending on the language you might see the terms POJO (plain old Java object) or POCO (plain old c# object).\r\n\r\nMany languages also support the concept of a user defined type which has some similarities, but also differences.\r\n\r\n","title":"Does a class without methods have a special name?","body":"<p>Depending on the language you might see the terms POJO (plain old Java object) or POCO (plain old c# object).</p>\n<p>Many languages also support the concept of a user defined type which has some similarities, but also differences.</p>\n"}],"owner":{"account_id":6497852,"reputation":167,"user_id":5029844,"accept_rate":43,"display_name":"lumixel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6728,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":30969639,"answer_count":5,"score":5,"last_activity_date":1701979735,"creation_date":1434921725,"question_id":30969472,"body_markdown":"What is a class without methods called? I&#39;m trying to understand and learn about classes, so i have the following class &quot;Variables&quot; that doesn&#39;t have methods, only fields, like the field &quot;Server&quot; in a folder called &quot;utilities&quot;:\r\n\r\n    package com.abc.app.utilities;\r\n    \r\n    public class Variables {\r\n        public static String Server=&quot;http://192.168.1.29/&quot;; \r\n    }\r\n\r\nthen this class is called from a method in another class located in another folder or package this way:\r\n\r\n     URL url = new URL(Variables.Server + &quot;...&quot;);\r\n\r\nis this (the without methods) a particular type of class or is a common class despite not having any method? ","title":"Does a class without methods have a special name?","body":"<p>What is a class without methods called? I'm trying to understand and learn about classes, so i have the following class \"Variables\" that doesn't have methods, only fields, like the field \"Server\" in a folder called \"utilities\":</p>\n\n<pre><code>package com.abc.app.utilities;\n\npublic class Variables {\n    public static String Server=\"http://192.168.1.29/\"; \n}\n</code></pre>\n\n<p>then this class is called from a method in another class located in another folder or package this way:</p>\n\n<pre><code> URL url = new URL(Variables.Server + \"...\");\n</code></pre>\n\n<p>is this (the without methods) a particular type of class or is a common class despite not having any method? </p>\n"},{"tags":["java","maven","sonarqube","jacoco","githooks"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1701979548,"post_id":77622805,"comment_id":136844876,"body_markdown":"Does it work when you run `mvn clean install`? Is the configuration snippet you posted bound to a maven profile? Also please notice that `$?` gets the exit cod eof the last command, i.e. `mvn sonar:sonar`.","body":"Does it work when you run <code>mvn clean install</code>? Is the configuration snippet you posted bound to a maven profile? Also please notice that <code>$?</code> gets the exit cod eof the last command, i.e. <code>mvn sonar:sonar</code>."},{"owner":{"account_id":27029110,"reputation":1,"user_id":20585807,"display_name":"faal"},"score":0,"creation_date":1701980839,"post_id":77622805,"comment_id":136845051,"body_markdown":"@Turing85Yes, the mvn clean install command works as expected when run manually. And  is not bound to a specific Maven profile.\nEven if there are Jacoco rule violations, the pre-commit script surprisingly returns a $status zero","body":"@Turing85Yes, the mvn clean install command works as expected when run manually. And  is not bound to a specific Maven profile. Even if there are Jacoco rule violations, the pre-commit script surprisingly returns a $status zero"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1701981091,"post_id":77622805,"comment_id":136845094,"body_markdown":"Well ... as I mentioned: this is not surprising. `$?` gets the status oif `mvn sonar:sonar`, not of `mvn clean verfiy`.","body":"Well ... as I mentioned: this is not surprising. <code>$?</code> gets the status oif <code>mvn sonar:sonar</code>, not of <code>mvn clean verfiy</code>."},{"owner":{"account_id":27029110,"reputation":1,"user_id":20585807,"display_name":"faal"},"score":0,"creation_date":1701982873,"post_id":77622805,"comment_id":136845342,"body_markdown":"Yes, I tried to remove the mvn sonar:sonar and it continues falling","body":"Yes, I tried to remove the mvn sonar:sonar and it continues falling"}],"owner":{"account_id":27029110,"reputation":1,"user_id":20585807,"display_name":"faal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701979152,"creation_date":1701979152,"question_id":77622805,"body_markdown":"I&#39;m encountering an issue while trying to implement code coverage checks using Maven and JaCoCo in the pre-commit stage of Git. My pre-commit script performs Maven execution with the goal clean --batch-mode install, followed by SonarQube analysis. However, it seems that JaCoCo rule violations are not being detected during the script execution, resulting in a success status (0) even when the coverage is below the expected threshold.\r\nRunning Maven manually with the clean install goal reveals JaCoCo rule violations, as expected. However, when I execute the same Maven goal within a pre-commit script, the script returns a success status.\r\n\r\nAny suggestions on how to approach this problem or additional debugging strategies would be greatly appreciated. Thanks in advance for your assistance!\r\n\r\nHere is my pom.xml config:\r\n\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;jacoco-site&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;check&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;check&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;rules&gt;\r\n\t\t\t\t\t\t\t\t&lt;rule&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;element&gt;CLASS&lt;/element&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;limits&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;limit&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;counter&gt;LINE&lt;/counter&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;minimum&gt;0.80&lt;/minimum&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/limit&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;limit&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;counter&gt;BRANCH&lt;/counter&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;minimum&gt;0.80&lt;/minimum&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/limit&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/limits&gt;\r\n\t\t\t\t\t\t\t\t&lt;/rule&gt;\r\n\t\t\t\t\t\t\t&lt;/rules&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;`\r\n```\r\n\r\n\r\nMy pre-commit file:\r\n\r\n\r\n```\r\n#!/bin/bash\r\n\r\necho &quot;*****Running build pre-commit******&quot;\r\n\r\ngit stash -q --keep-index\r\n\r\nmvn clean --batch-mode install\r\n\r\nmvn sonar:sonar\r\n\r\nstatus=$?\r\n\r\ngit stash pop -q\r\n\r\nexit $status\r\n\r\n```\r\n\r\n\r\nI&#39;ve checked and adjusted the JaCoCo plugin execution to the verify phase, added debugging options to the script, and confirmed that SonarQube rules are correctly configured. The issue persists, and JaCoCo rule violation messages are not displayed during script execution.","title":"Maven doesn&#39;t detect JaCoCo rule violations during pre-commit script execution","body":"<p>I'm encountering an issue while trying to implement code coverage checks using Maven and JaCoCo in the pre-commit stage of Git. My pre-commit script performs Maven execution with the goal clean --batch-mode install, followed by SonarQube analysis. However, it seems that JaCoCo rule violations are not being detected during the script execution, resulting in a success status (0) even when the coverage is below the expected threshold.\nRunning Maven manually with the clean install goal reveals JaCoCo rule violations, as expected. However, when I execute the same Maven goal within a pre-commit script, the script returns a success status.</p>\n<p>Any suggestions on how to approach this problem or additional debugging strategies would be greatly appreciated. Thanks in advance for your assistance!</p>\n<p>Here is my pom.xml config:</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jacoco.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-site&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;check&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;rule&gt;\n                                    &lt;element&gt;CLASS&lt;/element&gt;\n                                    &lt;limits&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;LINE&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;0.80&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;BRANCH&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;0.80&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                    &lt;/limits&gt;\n                                &lt;/rule&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;`\n</code></pre>\n<p>My pre-commit file:</p>\n<pre><code>#!/bin/bash\n\necho &quot;*****Running build pre-commit******&quot;\n\ngit stash -q --keep-index\n\nmvn clean --batch-mode install\n\nmvn sonar:sonar\n\nstatus=$?\n\ngit stash pop -q\n\nexit $status\n\n</code></pre>\n<p>I've checked and adjusted the JaCoCo plugin execution to the verify phase, added debugging options to the script, and confirmed that SonarQube rules are correctly configured. The issue persists, and JaCoCo rule violation messages are not displayed during script execution.</p>\n"},{"tags":["java","file","random","concatenation"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701975010,"post_id":77622410,"comment_id":136844216,"body_markdown":"I&#39;m not clear on what you are asking. You said *&quot;... but it doesn&#39;t seem to be working:(&quot;*. For help with resolving failures of your code, you need to describe *specifically* what is wrong. If it is giving incorrect output, the question should include examples. Each examples should include input data, expected output, and actual output. If the code is throwing an exception, an exact copy of the error message and following stack trace should be included. Please use text copy-and-paste to ensure accuracy.","body":"I&#39;m not clear on what you are asking. You said <i>&quot;... but it doesn&#39;t seem to be working:(&quot;</i>. For help with resolving failures of your code, you need to describe <i>specifically</i> what is wrong. If it is giving incorrect output, the question should include examples. Each examples should include input data, expected output, and actual output. If the code is throwing an exception, an exact copy of the error message and following stack trace should be included. Please use text copy-and-paste to ensure accuracy."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701975107,"post_id":77622410,"comment_id":136844234,"body_markdown":"To better understand how to use Stack Overflow, I suggest starting with these sources and their links: the [Tour](https://stackoverflow.com/tour), the [Help Center](https://stackoverflow.com/help), with [How to Ask a Good Question](https://stackoverflow.com/help/how-to-ask), and [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"To better understand how to use Stack Overflow, I suggest starting with these sources and their links: the <a href=\"https://stackoverflow.com/tour\">Tour</a>, the <a href=\"https://stackoverflow.com/help\">Help Center</a>, with <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask a Good Question</a>, and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1701977598,"post_id":77622410,"comment_id":136844613,"body_markdown":"FYI `48` can also be  written as `&#39;0&#39;`. `57` as `&#39;9&#39;`, `65` as `&#39;A&#39;`, ... , `144` as `&#39;z&#39;`; often easier to read; also there are some useful methods in `Character`, like `isDigit()`, `isLowercase()`, ...","body":"FYI <code>48</code> can also be  written as <code>&#39;0&#39;</code>. <code>57</code> as <code>&#39;9&#39;</code>, <code>65</code> as <code>&#39;A&#39;</code>, ... , <code>144</code> as <code>&#39;z&#39;</code>; often easier to read; also there are some useful methods in <code>Character</code>, like <code>isDigit()</code>, <code>isLowercase()</code>, ..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1701979343,"post_id":77622410,"comment_id":136844852,"body_markdown":"It would be easier to select from an array containing the correct characters, but since that&#39;s not in the spec, you would do well to make a method to return a random character within a range. Let&#39;s say `public static char getRandomCharInRange(char start, char end)`. Call that three different ways, *randomly*, password.length number of times, concatenating each time","body":"It would be easier to select from an array containing the correct characters, but since that&#39;s not in the spec, you would do well to make a method to return a random character within a range. Let&#39;s say <code>public static char getRandomCharInRange(char start, char end)</code>. Call that three different ways, <i>randomly</i>, password.length number of times, concatenating each time"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701979104,"creation_date":1701979104,"answer_id":77622794,"question_id":77622410,"body_markdown":"Here is an example.\r\n\r\n```java\r\nclass SecretPasscode {\r\n    int n;\r\n\r\n    SecretPasscode(int n) throws Exception {\r\n        if (n &lt; 6) throw new Exception();\r\n        this.n = n;\r\n    }\r\n\r\n    String generate() {\r\n        String s = &quot;&quot;;\r\n        for (int i = 0; i &lt; n; i++)\r\n            s += switch ((int) (Math.random() * 3)) {\r\n                case 0 -&gt; (char) ((Math.random() * 26) + &#39;a&#39;);\r\n                case 1 -&gt; (char) ((Math.random() * 26) + &#39;A&#39;);\r\n                default -&gt; (char) ((Math.random() * 10) + &#39;0&#39;);\r\n            };\r\n        return s;\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n31PSqGI11E\r\nh376z2F2rD\r\npuL4U0F9uR\r\nf1153d16lN\r\nzsZ4620Cr0\r\nnCfG2SM9Eh\r\n2ey1F05M4e\r\n7Qs6TCSqi8\r\n3Msmobqo6q\r\n0Ste5lMVD9\r\n```\r\n\r\nAlthough, ideally, you should be using the _[Random](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Random.html)_ class, and have an initialized _field_ to query.\r\n\r\n```java\r\nclass SecretPasscode {\r\n    Random r = new Random();\r\n    int n;\r\n    char[] v = new char[(26 * 2) + 10];\r\n\r\n    SecretPasscode(int n) throws Exception {\r\n        if (n &lt; 6) throw new Exception();\r\n        this.n = n;\r\n        char c;\r\n        int i = 0;\r\n        for (c = &#39;a&#39;; c &lt;= &#39;z&#39;; c++) v[i++] = c;\r\n        for (c = &#39;A&#39;; c &lt;= &#39;Z&#39;; c++) v[i++] = c;\r\n        for (c = &#39;0&#39;; c &lt;= &#39;9&#39;; c++) v[i++] = c;\r\n    }\r\n\r\n    String generate() {\r\n        StringBuilder s = new StringBuilder();\r\n        int i, m = v.length;\r\n        for (i = 0; i &lt; n; i++) s.append(v[r.nextInt(m)]);\r\n        return s.toString();\r\n    }\r\n}\r\n```\r\n\r\n```none\r\nbaUnEF51Y3\r\npufxJJXbnM\r\niolNIgdYCe\r\nCpZwxUYCyp\r\nbtEzmjTHBP\r\nBCVrHPSeBg\r\n7cMJqn7UFL\r\nC5koB4rEk6\r\n15PL8u2ziR\r\n60CjbWQqsC\r\n```","title":"How to use concatenation with singular characters to write out random passwords one under another in a file?","body":"<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SecretPasscode {\n    int n;\n\n    SecretPasscode(int n) throws Exception {\n        if (n &lt; 6) throw new Exception();\n        this.n = n;\n    }\n\n    String generate() {\n        String s = &quot;&quot;;\n        for (int i = 0; i &lt; n; i++)\n            s += switch ((int) (Math.random() * 3)) {\n                case 0 -&gt; (char) ((Math.random() * 26) + 'a');\n                case 1 -&gt; (char) ((Math.random() * 26) + 'A');\n                default -&gt; (char) ((Math.random() * 10) + '0');\n            };\n        return s;\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>31PSqGI11E\nh376z2F2rD\npuL4U0F9uR\nf1153d16lN\nzsZ4620Cr0\nnCfG2SM9Eh\n2ey1F05M4e\n7Qs6TCSqi8\n3Msmobqo6q\n0Ste5lMVD9\n</code></pre>\n<p>Although, ideally, you should be using the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Random.html\" rel=\"nofollow noreferrer\">Random</a></em> class, and have an initialized <em>field</em> to query.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SecretPasscode {\n    Random r = new Random();\n    int n;\n    char[] v = new char[(26 * 2) + 10];\n\n    SecretPasscode(int n) throws Exception {\n        if (n &lt; 6) throw new Exception();\n        this.n = n;\n        char c;\n        int i = 0;\n        for (c = 'a'; c &lt;= 'z'; c++) v[i++] = c;\n        for (c = 'A'; c &lt;= 'Z'; c++) v[i++] = c;\n        for (c = '0'; c &lt;= '9'; c++) v[i++] = c;\n    }\n\n    String generate() {\n        StringBuilder s = new StringBuilder();\n        int i, m = v.length;\n        for (i = 0; i &lt; n; i++) s.append(v[r.nextInt(m)]);\n        return s.toString();\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>baUnEF51Y3\npufxJJXbnM\niolNIgdYCe\nCpZwxUYCyp\nbtEzmjTHBP\nBCVrHPSeBg\n7cMJqn7UFL\nC5koB4rEk6\n15PL8u2ziR\n60CjbWQqsC\n</code></pre>\n"}],"owner":{"account_id":30092165,"reputation":1,"user_id":23061384,"display_name":"kefirchug"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702030995,"answer_count":1,"score":-1,"last_activity_date":1701979104,"creation_date":1701974497,"question_id":77622410,"body_markdown":"&#39;The following are the instructions I was given as an AP Computer Science A student. I need to use the curriculum learned in the class up to the end of unit 4 to make a program. Please let me know how I can improve or solve this problem.\r\n\r\nCreate a class called SecretPasscode in the newly-created project folder.\r\nAllow the user to select the number of characters in the password.\r\nThe minimum length allowed should be six.\r\nEnsure the user&#39;s choice is valid.\r\nCreate a randomly generated password (must include uppercase, lowercase and numbers) and write it to a text file.\r\nUtilize Math.random() and logical operators to create the range of values.\r\nUse an ASCII chart to determine the range of numbers needed to generate the desired characters.\r\nUse concatenation to build each password.\r\nAllow the user to create multiple passwords without restarting the program.\r\nWhen the user opts to stop, read the passwords from the text file and neatly display them on the screen.\r\nOpen the StarterCode406.java file to begin your program.&#39;\r\n\r\n&#39;StarterCode406.java:&#39;\r\n```\r\n/**\r\n * Randomly generate passwords.\r\n *\r\n * @author APCS Team\r\n * @version FLVS 2021\r\n * \r\n */\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.io.File;\r\nimport java.util.Scanner;\r\n\r\npublic class SecretPasscode\r\n{\r\n    public static void main(String [] args) throws IOException\r\n    {\r\n        String userChoice = &quot;Y&quot;;\r\n        int pwLength = 0;\r\n        int randNum = 0; \r\n        String password = &quot;&quot;;\r\n\r\n\t// initialize scanner and print writer\r\n        Scanner in = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;**********************************************************&quot;);\r\n        System.out.println(&quot;Welcome to a simple password generator. \\nThe password will include lowercase, uppercase, &amp; numbers.&quot;);\r\n\t    \r\n        // the user wants to continue\r\n\r\n// Ask for password length \r\n\t\r\n// validate password length\r\n\t\t\r\n\t// generate a random character in the correct character set\r\n\t\t\r\n// concatenate the character to the password\r\n\t\t\r\n\t// write the password to the file\r\n\t\t\r\n\r\n        // when the user is done, close the text file so that it can be re-opened and read\r\noutFile.close();\r\n\r\n        // Read passwords back from text file and display to the screen\r\n\r\n        \r\n\r\n  }//end main\r\n}//end class\r\n```\r\n\r\n\r\n\r\n&#39;I had to use concatenation instead and write out generated words one under another, but it doesn&#39;t seem to be working:(\r\n\r\nMy program so far:&#39;\r\n```\r\npublic class SecretPasscode\r\n{\r\n    public static void main(String [] args) throws IOException\r\n    {\r\n    \r\n        String usrChoice = &quot;Y&quot;;\r\n        int pwLength = 0;\r\n        int randNum = 0; \r\n        String password = &quot;&quot;; \r\n        \r\n        Scanner in = new Scanner(System.in);\r\n        \r\n        \r\n        int min = 48;\r\n        int max = 122;\r\n        //int ranNum = 0;\r\n        \r\n                \r\n        System.out.println(&quot;Welsome to a simple password generator.&quot;);\r\n        System.out.println(&quot;The password will include lowercase, uppercase, and numbers.&quot;);\r\n        \r\n        PrintWriter outFile = new PrintWriter(new File(&quot;passwords.txt&quot;));\r\n\r\n        \r\n        \r\n        while (usrChoice.equalsIgnoreCase(&quot;Y&quot;))\r\n        {\r\n            System.out.print(&quot;Enter a password length of your choice (at least 6):&quot;);\r\n            String charNum = in.next();\r\n            int charNumInt = Integer.parseInt(charNum);\r\n            if (charNumInt &lt; 6 )\r\n            {\r\n                System.out.println(&quot;Password length too short. Please try again.&quot;);\r\n            }\r\n            else    \r\n            {                    \r\n                    for (int l = 0; l &lt; charNumInt; l++ )\r\n                    {\r\n                        int ranNum = (int) (Math.random() * (max - min + 1) + min);\r\n                        while (!((ranNum&gt;=48 &amp;&amp; ranNum&lt;=57) || (ranNum&gt;=65 &amp;&amp; ranNum &lt;=90) || (ranNum&gt;=97 &amp;&amp; ranNum &lt;=122)))\r\n                        {\r\n                            ranNum = (int) (Math.random() * (max - min + 1) + min);\r\n                        }\r\n                        int passFinal = ranNum;\r\n                        char correspondingChar = (char) ranNum;\r\n                        System.out.print(correspondingChar);\r\n                        outFile.print(correspondingChar);\r\n                        \r\n                        }     \r\n                    \r\n                    \r\n                    System.out.println(&quot;\\nA password has been written to the text file.&quot;);\r\n                    System.out.println(&quot;Do you want to generate another password? (Y/N): &quot;);   \r\n                    \r\n                    \r\n                    usrChoice = in.next();\r\n                    \r\n                    \r\n                    \r\n            }\r\n            outFile.close();   //close the file when finished\r\n\r\n        }\r\n        \r\n        if (usrChoice.equalsIgnoreCase(&quot;N&quot;))\r\n        {\r\n            System.out.println(&quot;Thank you for using the password generator!&quot;);\r\n            System.out.println(&quot;Here are your randomly generated codes:&quot;);\r\n            \r\n            File fileName = new File(&quot;passwords.txt&quot;);\r\n            Scanner inFile = new Scanner(fileName);\r\n            while( inFile.hasNext() )\r\n            {\r\n                password = inFile.next();      //read next token from file\r\n                System.out.println(password);\r\n                \r\n            }//end while\r\n\r\n            inFile.close();                 //close input file\r\n\r\n            \r\n            \r\n            \r\n            \r\n        }\r\n    }\r\n    \r\n}`\r\n```","title":"How to use concatenation with singular characters to write out random passwords one under another in a file?","body":"<p>'The following are the instructions I was given as an AP Computer Science A student. I need to use the curriculum learned in the class up to the end of unit 4 to make a program. Please let me know how I can improve or solve this problem.</p>\n<p>Create a class called SecretPasscode in the newly-created project folder.\nAllow the user to select the number of characters in the password.\nThe minimum length allowed should be six.\nEnsure the user's choice is valid.\nCreate a randomly generated password (must include uppercase, lowercase and numbers) and write it to a text file.\nUtilize Math.random() and logical operators to create the range of values.\nUse an ASCII chart to determine the range of numbers needed to generate the desired characters.\nUse concatenation to build each password.\nAllow the user to create multiple passwords without restarting the program.\nWhen the user opts to stop, read the passwords from the text file and neatly display them on the screen.\nOpen the StarterCode406.java file to begin your program.'</p>\n<p>'StarterCode406.java:'</p>\n<pre><code>/**\n * Randomly generate passwords.\n *\n * @author APCS Team\n * @version FLVS 2021\n * \n */\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.io.File;\nimport java.util.Scanner;\n\npublic class SecretPasscode\n{\n    public static void main(String [] args) throws IOException\n    {\n        String userChoice = &quot;Y&quot;;\n        int pwLength = 0;\n        int randNum = 0; \n        String password = &quot;&quot;;\n\n    // initialize scanner and print writer\n        Scanner in = new Scanner(System.in);\n\n        System.out.println(&quot;**********************************************************&quot;);\n        System.out.println(&quot;Welcome to a simple password generator. \\nThe password will include lowercase, uppercase, &amp; numbers.&quot;);\n        \n        // the user wants to continue\n\n// Ask for password length \n    \n// validate password length\n        \n    // generate a random character in the correct character set\n        \n// concatenate the character to the password\n        \n    // write the password to the file\n        \n\n        // when the user is done, close the text file so that it can be re-opened and read\noutFile.close();\n\n        // Read passwords back from text file and display to the screen\n\n        \n\n  }//end main\n}//end class\n</code></pre>\n<p>'I had to use concatenation instead and write out generated words one under another, but it doesn't seem to be working:(</p>\n<p>My program so far:'</p>\n<pre><code>public class SecretPasscode\n{\n    public static void main(String [] args) throws IOException\n    {\n    \n        String usrChoice = &quot;Y&quot;;\n        int pwLength = 0;\n        int randNum = 0; \n        String password = &quot;&quot;; \n        \n        Scanner in = new Scanner(System.in);\n        \n        \n        int min = 48;\n        int max = 122;\n        //int ranNum = 0;\n        \n                \n        System.out.println(&quot;Welsome to a simple password generator.&quot;);\n        System.out.println(&quot;The password will include lowercase, uppercase, and numbers.&quot;);\n        \n        PrintWriter outFile = new PrintWriter(new File(&quot;passwords.txt&quot;));\n\n        \n        \n        while (usrChoice.equalsIgnoreCase(&quot;Y&quot;))\n        {\n            System.out.print(&quot;Enter a password length of your choice (at least 6):&quot;);\n            String charNum = in.next();\n            int charNumInt = Integer.parseInt(charNum);\n            if (charNumInt &lt; 6 )\n            {\n                System.out.println(&quot;Password length too short. Please try again.&quot;);\n            }\n            else    \n            {                    \n                    for (int l = 0; l &lt; charNumInt; l++ )\n                    {\n                        int ranNum = (int) (Math.random() * (max - min + 1) + min);\n                        while (!((ranNum&gt;=48 &amp;&amp; ranNum&lt;=57) || (ranNum&gt;=65 &amp;&amp; ranNum &lt;=90) || (ranNum&gt;=97 &amp;&amp; ranNum &lt;=122)))\n                        {\n                            ranNum = (int) (Math.random() * (max - min + 1) + min);\n                        }\n                        int passFinal = ranNum;\n                        char correspondingChar = (char) ranNum;\n                        System.out.print(correspondingChar);\n                        outFile.print(correspondingChar);\n                        \n                        }     \n                    \n                    \n                    System.out.println(&quot;\\nA password has been written to the text file.&quot;);\n                    System.out.println(&quot;Do you want to generate another password? (Y/N): &quot;);   \n                    \n                    \n                    usrChoice = in.next();\n                    \n                    \n                    \n            }\n            outFile.close();   //close the file when finished\n\n        }\n        \n        if (usrChoice.equalsIgnoreCase(&quot;N&quot;))\n        {\n            System.out.println(&quot;Thank you for using the password generator!&quot;);\n            System.out.println(&quot;Here are your randomly generated codes:&quot;);\n            \n            File fileName = new File(&quot;passwords.txt&quot;);\n            Scanner inFile = new Scanner(fileName);\n            while( inFile.hasNext() )\n            {\n                password = inFile.next();      //read next token from file\n                System.out.println(password);\n                \n            }//end while\n\n            inFile.close();                 //close input file\n\n            \n            \n            \n            \n        }\n    }\n    \n}`\n</code></pre>\n"},{"tags":["java","rest","http","https"],"comments":[{"owner":{"account_id":11698906,"reputation":1250,"user_id":8564731,"display_name":"Jeremy Fiel"},"score":0,"creation_date":1701977207,"post_id":77621603,"comment_id":136844554,"body_markdown":"Does this answer your question? [HTTP GET with request body](https://stackoverflow.com/questions/978061/http-get-with-request-body)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/978061/http-get-with-request-body\">HTTP GET with request body</a>"},{"owner":{"account_id":5490334,"reputation":175,"user_id":4363862,"accept_rate":0,"display_name":"Zoso619"},"score":0,"creation_date":1701979739,"post_id":77621603,"comment_id":136844900,"body_markdown":"@JeremyFiel It says we can not . But My problem is I have to . Any way this can be achieved ?","body":"@JeremyFiel It says we can not . But My problem is I have to . Any way this can be achieved ?"}],"owner":{"account_id":5490334,"reputation":175,"user_id":4363862,"accept_rate":0,"display_name":"Zoso619"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701978780,"answer_count":0,"score":-1,"last_activity_date":1701978772,"creation_date":1701966392,"question_id":77621603,"body_markdown":"I need to pass a JSON body in http GET request \r\nBody : [{DEMO: PROUDCT}]\r\nhttp URL : https://mydemocode/runs/activeCode?env=local\r\n\r\nI am parsing the body like this:\r\n\r\n```\r\nString body = &quot;[\\n&quot; +\r\n                &quot;    {\\&quot;DEMO\\&quot;:[\\&quot;PROUDCT\\&quot;]}\\n&quot; +\r\n                &quot;]&quot;;\r\n        HttpEntity entity = body == null ? null : new ByteArrayEntity(body.getBytes(StandardCharsets.UTF_8));\r\n\r\nhttpResponse = HttpUtils.request(HttpRequestMethod.GET,&quot;https://mydemocode/runs/activeCode?env=local&quot;,entity, null,null,false,false, header);\r\n            responseBody = EntityUtils.toString(httpResponse.getEntity());\r\n```\r\n\r\nSomehow the get request does not consider the body here. Its not filtering the JSON based on the body passed in GET request.\r\n\r\nAny idea on this issue?","title":"Parsing JSON body in HTTP GET request api call","body":"<p>I need to pass a JSON body in http GET request\nBody : [{DEMO: PROUDCT}]\nhttp URL : https://mydemocode/runs/activeCode?env=local</p>\n<p>I am parsing the body like this:</p>\n<pre><code>String body = &quot;[\\n&quot; +\n                &quot;    {\\&quot;DEMO\\&quot;:[\\&quot;PROUDCT\\&quot;]}\\n&quot; +\n                &quot;]&quot;;\n        HttpEntity entity = body == null ? null : new ByteArrayEntity(body.getBytes(StandardCharsets.UTF_8));\n\nhttpResponse = HttpUtils.request(HttpRequestMethod.GET,&quot;https://mydemocode/runs/activeCode?env=local&quot;,entity, null,null,false,false, header);\n            responseBody = EntityUtils.toString(httpResponse.getEntity());\n</code></pre>\n<p>Somehow the get request does not consider the body here. Its not filtering the JSON based on the body passed in GET request.</p>\n<p>Any idea on this issue?</p>\n"},{"tags":["java","excel","intellij-idea","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1702026981,"post_id":77622757,"comment_id":136849793,"body_markdown":"I think the key line of that stacktrace is `Caused by: java.lang.IllegalStateException: log4j-jul JAR is mutually exclusive with the log4j-to-jul JAR(the first routes calls from Log4j to JUL, the second from Log4j to JUL)` - what happens if you remove one of the two incompatible jars?","body":"I think the key line of that stacktrace is <code>Caused by: java.lang.IllegalStateException: log4j-jul JAR is mutually exclusive with the log4j-to-jul JAR(the first routes calls from Log4j to JUL, the second from Log4j to JUL)</code> - what happens if you remove one of the two incompatible jars?"},{"owner":{"account_id":29151256,"reputation":3,"user_id":22332064,"display_name":"yyxxyyxx"},"score":0,"creation_date":1702043796,"post_id":77622757,"comment_id":136852458,"body_markdown":"I tried both case but I don&#39;t think that&#39;s the reason","body":"I tried both case but I don&#39;t think that&#39;s the reason"}],"owner":{"account_id":29151256,"reputation":3,"user_id":22332064,"display_name":"yyxxyyxx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701978555,"creation_date":1701978555,"question_id":77622757,"body_markdown":"I have been trying to use apache poi to export a excel file of the information I had in my application. I got error of `ERROR StatusLogger Unable to create class org.apache.logging.log4j.tojul.JULLoggerContextFactory specified in provider URL null`. Can anyone tell me how to fix this? I am not using maven just to add on.\r\nThank you very much!\r\n\r\n\r\nThis is my code\r\n```\r\nimport facilities.Facility;\r\nimport facilities.Toilet;\r\nimport facilities.buildings.Building;\r\nimport facilities.buildings.Cafe;\r\nimport facilities.buildings.Hall;\r\nimport facilities.buildings.Lab;\r\nimport facilities.buildings.Library;\r\nimport facilities.buildings.Theatre;\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Iterator;\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\nimport university.Estate;\r\nimport university.Staff;\r\nimport university.University;\r\nimport org.apache.poi.ss.usermodel.Cell;\r\nimport org.apache.poi.xssf.usermodel.XSSFRow;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport java.io.FileOutputStream;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.TreeMap;\r\n  public void retrieveInfo() throws Exception{\r\n    boolean endRetrieve = false;\r\n    while (!endRetrieve) {\r\n      System.out.println(&quot;Select the information you want to retrieve&quot;);\r\n      System.out.println(&quot;[1] Facility information&quot;);\r\n      System.out.println(&quot;[2] Staff information&quot;);\r\n      System.out.println(&quot;[3] End Retrieve Information&quot;);\r\n      Scanner sc = new Scanner(System.in);\r\n      System.out.println(&quot;Enter number&quot;);\r\n      String choice = sc.next();\r\n      if (Integer.parseInt(choice) == 1) {\r\n        int i = 1;\r\n        System.out.println(&quot;Choose the facility you would like to retrieve&quot;);\r\n        for (Facility fa2 : university.getEstateObject().getFacilities()) {\r\n          System.out.println(&quot;[&quot; + i + &quot;] &quot; + fa2.getName());\r\n          i++;\r\n        }\r\n        System.out.println(&quot;Enter number or press &#39;E&#39; to export facilities data to txt file&quot;);\r\n        String facilityChoice = sc.next();\r\n        if (facilityChoice.equals(&quot;E&quot;)) {\r\n          exportFacilitySpreadsheet();\r\n        }else if (Integer.parseInt(facilityChoice) - 1 &gt;= university.getEstateObject()\r\n              .getFacilities().length) {\r\n            if (university.getEstateObject().getFacilities()[Integer.parseInt(facilityChoice)-1] instanceof Toilet){\r\n              System.out.println(&quot;Name: &quot; + university.getEstateObject().getFacilities()[Integer.parseInt(facilityChoice)-1].getName());\r\n              System.out.println(&quot;Type: Toilet&quot;);\r\n            }else{\r\n              Building b1 =\r\n                  (Building)\r\n                      university.getEstateObject().getFacilities()[Integer.parseInt(facilityChoice) - 1];\r\n              System.out.println(\r\n                  &quot;Name: &quot;\r\n                      + university\r\n                      .getEstateObject()\r\n                      .getFacilities()[Integer.parseInt(facilityChoice) - 1]\r\n                      .getName());\r\n              String type = null;\r\n              if (b1 instanceof Hall){\r\n                type = &quot;Hall&quot;;\r\n              }else if(b1 instanceof Lab){\r\n                type = &quot;Lab&quot;;\r\n              }else if(b1 instanceof Theatre){\r\n                type = &quot;Theatre&quot;;\r\n              }else if(b1 instanceof Library){\r\n                type = &quot;Library&quot;;\r\n              }else if (b1 instanceof Cafe){\r\n                type = &quot;Cafe&quot;;\r\n              }\r\n              System.out.println(&quot;Type: &quot; + type);\r\n              System.out.println(&quot;Number of Level: &quot; + b1.getLevel());\r\n              System.out.println(&quot;Max level reach: &quot; + b1.maxLevelReached());\r\n              System.out.println(&quot;Capacity: &quot; + b1.getCapacity());\r\n              if (b1 instanceof Library) {\r\n                System.out.println(\r\n                    &quot;Number of books: &quot;\r\n                        + ((Library) b1)\r\n                        .getNumberOfBooks()); // printing number of books only if it&#39;s a library\r\n              }\r\n            }\r\n          }else {\r\n          System.out.println(&quot;Error input&quot;);\r\n          }\r\n```\r\nThis is the whole error message:\r\n\r\n```\r\nERROR StatusLogger Unable to create class org.apache.logging.log4j.tojul.JULLoggerContextFactory specified in provider URL null\r\n java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.apache.logging.log4j.util.LoaderUtil.newInstanceOf(LoaderUtil.java:254)\r\n\tat org.apache.logging.log4j.LogManager.&lt;clinit&gt;(LogManager.java:94)\r\n\tat org.apache.poi.ooxml.POIXMLDocumentPart.&lt;clinit&gt;(POIXMLDocumentPart.java:56)\r\n\tat EcsSim.exportFacilitySpreadsheet(EcsSim.java:633)\r\n\tat EcsSim.retrieveInfo(EcsSim.java:542)\r\n\tat EcsSim.main(EcsSim.java:683)\r\nCaused by: java.lang.IllegalStateException: log4j-jul JAR is mutually exclusive with the log4j-to-jul JAR(the first routes calls from Log4j to JUL, the second from Log4j to JUL)\r\n\tat org.apache.logging.log4j.tojul.JULLoggerContextFactory.&lt;init&gt;(JULLoggerContextFactory.java:46)\r\n\t... 11 more\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/Logger\r\n\tat org.apache.logging.slf4j.SLF4JLoggerContext.getLogger(SLF4JLoggerContext.java:41)\r\n\tat org.apache.logging.log4j.spi.LoggerContext.getLogger(LoggerContext.java:46)\r\n\tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:611)\r\n\tat org.apache.poi.ooxml.POIXMLDocumentPart.&lt;clinit&gt;(POIXMLDocumentPart.java:56)\r\n\tat EcsSim.exportFacilitySpreadsheet(EcsSim.java:633)\r\n\tat EcsSim.retrieveInfo(EcsSim.java:542)\r\n\tat EcsSim.main(EcsSim.java:683)\r\nCaused by: java.lang.ClassNotFoundException: org.slf4j.Logger\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 7 more\r\n```\r\nThese are the jars I added\r\n[Jars added](https://i.stack.imgur.com/skSm6.png)\r\n","title":"error occured when trying to export excel file using apache poi","body":"<p>I have been trying to use apache poi to export a excel file of the information I had in my application. I got error of <code>ERROR StatusLogger Unable to create class org.apache.logging.log4j.tojul.JULLoggerContextFactory specified in provider URL null</code>. Can anyone tell me how to fix this? I am not using maven just to add on.\nThank you very much!</p>\n<p>This is my code</p>\n<pre><code>import facilities.Facility;\nimport facilities.Toilet;\nimport facilities.buildings.Building;\nimport facilities.buildings.Cafe;\nimport facilities.buildings.Hall;\nimport facilities.buildings.Lab;\nimport facilities.buildings.Library;\nimport facilities.buildings.Theatre;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Iterator;\nimport java.util.Random;\nimport java.util.Scanner;\nimport university.Estate;\nimport university.Staff;\nimport university.University;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport java.io.FileOutputStream;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.TreeMap;\n  public void retrieveInfo() throws Exception{\n    boolean endRetrieve = false;\n    while (!endRetrieve) {\n      System.out.println(&quot;Select the information you want to retrieve&quot;);\n      System.out.println(&quot;[1] Facility information&quot;);\n      System.out.println(&quot;[2] Staff information&quot;);\n      System.out.println(&quot;[3] End Retrieve Information&quot;);\n      Scanner sc = new Scanner(System.in);\n      System.out.println(&quot;Enter number&quot;);\n      String choice = sc.next();\n      if (Integer.parseInt(choice) == 1) {\n        int i = 1;\n        System.out.println(&quot;Choose the facility you would like to retrieve&quot;);\n        for (Facility fa2 : university.getEstateObject().getFacilities()) {\n          System.out.println(&quot;[&quot; + i + &quot;] &quot; + fa2.getName());\n          i++;\n        }\n        System.out.println(&quot;Enter number or press 'E' to export facilities data to txt file&quot;);\n        String facilityChoice = sc.next();\n        if (facilityChoice.equals(&quot;E&quot;)) {\n          exportFacilitySpreadsheet();\n        }else if (Integer.parseInt(facilityChoice) - 1 &gt;= university.getEstateObject()\n              .getFacilities().length) {\n            if (university.getEstateObject().getFacilities()[Integer.parseInt(facilityChoice)-1] instanceof Toilet){\n              System.out.println(&quot;Name: &quot; + university.getEstateObject().getFacilities()[Integer.parseInt(facilityChoice)-1].getName());\n              System.out.println(&quot;Type: Toilet&quot;);\n            }else{\n              Building b1 =\n                  (Building)\n                      university.getEstateObject().getFacilities()[Integer.parseInt(facilityChoice) - 1];\n              System.out.println(\n                  &quot;Name: &quot;\n                      + university\n                      .getEstateObject()\n                      .getFacilities()[Integer.parseInt(facilityChoice) - 1]\n                      .getName());\n              String type = null;\n              if (b1 instanceof Hall){\n                type = &quot;Hall&quot;;\n              }else if(b1 instanceof Lab){\n                type = &quot;Lab&quot;;\n              }else if(b1 instanceof Theatre){\n                type = &quot;Theatre&quot;;\n              }else if(b1 instanceof Library){\n                type = &quot;Library&quot;;\n              }else if (b1 instanceof Cafe){\n                type = &quot;Cafe&quot;;\n              }\n              System.out.println(&quot;Type: &quot; + type);\n              System.out.println(&quot;Number of Level: &quot; + b1.getLevel());\n              System.out.println(&quot;Max level reach: &quot; + b1.maxLevelReached());\n              System.out.println(&quot;Capacity: &quot; + b1.getCapacity());\n              if (b1 instanceof Library) {\n                System.out.println(\n                    &quot;Number of books: &quot;\n                        + ((Library) b1)\n                        .getNumberOfBooks()); // printing number of books only if it's a library\n              }\n            }\n          }else {\n          System.out.println(&quot;Error input&quot;);\n          }\n</code></pre>\n<p>This is the whole error message:</p>\n<pre><code>ERROR StatusLogger Unable to create class org.apache.logging.log4j.tojul.JULLoggerContextFactory specified in provider URL null\n java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.apache.logging.log4j.util.LoaderUtil.newInstanceOf(LoaderUtil.java:254)\n    at org.apache.logging.log4j.LogManager.&lt;clinit&gt;(LogManager.java:94)\n    at org.apache.poi.ooxml.POIXMLDocumentPart.&lt;clinit&gt;(POIXMLDocumentPart.java:56)\n    at EcsSim.exportFacilitySpreadsheet(EcsSim.java:633)\n    at EcsSim.retrieveInfo(EcsSim.java:542)\n    at EcsSim.main(EcsSim.java:683)\nCaused by: java.lang.IllegalStateException: log4j-jul JAR is mutually exclusive with the log4j-to-jul JAR(the first routes calls from Log4j to JUL, the second from Log4j to JUL)\n    at org.apache.logging.log4j.tojul.JULLoggerContextFactory.&lt;init&gt;(JULLoggerContextFactory.java:46)\n    ... 11 more\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/Logger\n    at org.apache.logging.slf4j.SLF4JLoggerContext.getLogger(SLF4JLoggerContext.java:41)\n    at org.apache.logging.log4j.spi.LoggerContext.getLogger(LoggerContext.java:46)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:611)\n    at org.apache.poi.ooxml.POIXMLDocumentPart.&lt;clinit&gt;(POIXMLDocumentPart.java:56)\n    at EcsSim.exportFacilitySpreadsheet(EcsSim.java:633)\n    at EcsSim.retrieveInfo(EcsSim.java:542)\n    at EcsSim.main(EcsSim.java:683)\nCaused by: java.lang.ClassNotFoundException: org.slf4j.Logger\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 7 more\n</code></pre>\n<p>These are the jars I added\n<a href=\"https://i.stack.imgur.com/skSm6.png\" rel=\"nofollow noreferrer\">Jars added</a></p>\n"},{"tags":["java","priority-queue"],"comments":[{"owner":{"account_id":465573,"reputation":192684,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1701969762,"post_id":77621831,"comment_id":136843341,"body_markdown":"What do you think `if (other.Distance &lt; 0) {   return -1; }` is doing?","body":"What do you think <code>if (other.Distance &lt; 0) {   return -1; }</code> is doing?"},{"owner":{"account_id":17168215,"reputation":13,"user_id":12425934,"display_name":"mercurin"},"score":0,"creation_date":1701970985,"post_id":77621831,"comment_id":136843526,"body_markdown":"All Tuples with Distance &lt; 0 are sorted further back in the queue than Tuples with Distance &gt;0.","body":"All Tuples with Distance &lt; 0 are sorted further back in the queue than Tuples with Distance &gt;0."},{"owner":{"account_id":465573,"reputation":192684,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1701972491,"post_id":77621831,"comment_id":136843772,"body_markdown":"If nothing else, this isn&#39;t symmetric; it doesn&#39;t do anything if `this.distance &lt; 0`.  It&#39;d be simpler if you just used `Integer.MAX_VALUE` instead of `-1`.","body":"If nothing else, this isn&#39;t symmetric; it doesn&#39;t do anything if <code>this.distance &lt; 0</code>.  It&#39;d be simpler if you just used <code>Integer.MAX_VALUE</code> instead of <code>-1</code>."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1701973013,"post_id":77621831,"comment_id":136843843,"body_markdown":"you should read the [documentation](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Comparable.html) of `compareTo()`: there are three conditions listed - I am pretty sure posted code is not fulfilling all of these","body":"you should read the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">documentation</a> of <code>compareTo()</code>: there are three conditions listed - I am pretty sure posted code is not fulfilling all of these"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":4,"creation_date":1701973060,"post_id":77621831,"comment_id":136843849,"body_markdown":"Your `compareTo()` method violates the required contract: for two tuples `a` and `b` with `distance` of -1 `a.compareTo(b)` and `b.compareTo(a)` both return -1 (meaning that `a` should be sorted before `b` but at the same time `b` should be sorted before `a`.) Without a valid `compareTo()` method the internal workings of the `PriorityQueue` are not guaranteed.","body":"Your <code>compareTo()</code> method violates the required contract: for two tuples <code>a</code> and <code>b</code> with <code>distance</code> of -1 <code>a.compareTo(b)</code> and <code>b.compareTo(a)</code> both return -1 (meaning that <code>a</code> should be sorted before <code>b</code> but at the same time <code>b</code> should be sorted before <code>a</code>.) Without a valid <code>compareTo()</code> method the internal workings of the <code>PriorityQueue</code> are not guaranteed."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1701989030,"post_id":77621831,"comment_id":136846170,"body_markdown":"What probably happens is that die `PriorityQueue` takes the tuple with vertex=7, distance=-1 and sifts it down toward the beginning of the heap. For that it compares it with various other tuples, for example with the one currently at position 0 (vertex=3, distance=2). Since `other.Distance` is 2 the first condition in the `compareTo()` method (`other.Distance &lt; 0`) is false and it checks the second condition (`other.Distance &gt; this.Distance`). Since 2 is greater than -1 it returns -1, meaning that the tuple vertex=7, distance=-1 must be sorted before the tuple vertex=3, distance=2","body":"What probably happens is that die <code>PriorityQueue</code> takes the tuple with vertex=7, distance=-1 and sifts it down toward the beginning of the heap. For that it compares it with various other tuples, for example with the one currently at position 0 (vertex=3, distance=2). Since <code>other.Distance</code> is 2 the first condition in the <code>compareTo()</code> method (<code>other.Distance &lt; 0</code>) is false and it checks the second condition (<code>other.Distance &gt; this.Distance</code>). Since 2 is greater than -1 it returns -1, meaning that the tuple vertex=7, distance=-1 must be sorted before the tuple vertex=3, distance=2"}],"answers":[{"tags":[],"owner":{"account_id":17168215,"reputation":13,"user_id":12425934,"display_name":"mercurin"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1701978279,"creation_date":1701978279,"answer_id":77622734,"question_id":77621831,"body_markdown":"    @Override public int compareTo(Tuple other) {\r\n\r\n      int t = this.Distance;\r\n      int o = other.Distance;\r\n      \r\n      if(t == o){\r\n        return 0;\r\n      }\r\n      if ((t != -1 &amp;&amp; t &lt; o) || o == -1){\r\n        return -1;\r\n      }\r\n      if ((o != -1 &amp;&amp; o &lt; t) || t == -1){\r\n        return 1;\r\n      }\r\n      return 0;\r\n    }","title":"PriorityQueue gets out of order when Element is removed","body":"<pre><code>@Override public int compareTo(Tuple other) {\n\n  int t = this.Distance;\n  int o = other.Distance;\n  \n  if(t == o){\n    return 0;\n  }\n  if ((t != -1 &amp;&amp; t &lt; o) || o == -1){\n    return -1;\n  }\n  if ((o != -1 &amp;&amp; o &lt; t) || t == -1){\n    return 1;\n  }\n  return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":17168215,"reputation":13,"user_id":12425934,"display_name":"mercurin"},"comment_count":6,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701983420,"answer_count":1,"score":-3,"last_activity_date":1701978279,"creation_date":1701968457,"question_id":77621831,"body_markdown":"I have a Comparable Class Tuple with two Int Elements (Distance and Vertex). I want to store Tuples sorted after their Distance.\r\n\r\n-1 is my default value for Distance and should function like Infinity (it&#39;s bigger than any other Distance)\r\n\r\nOther than that, the Queue should store in increasing order (The Head of the Queue should be the Tuple with the smallest Distance):\r\n\r\n```\r\nstatic class Tuple implements Comparable&lt;Tuple&gt; {\r\n    \r\n        int Distance;\r\n        int Vertex;\r\n        \r\n        public Tuple(int Vertex, int Distance) {\r\n          this.Distance = Distance;\r\n          this.Vertex = Vertex;\r\n        }\r\n\r\n        @Override public int compareTo(Tuple other) {\r\n          \r\n          if (other.Distance &lt; 0){\r\n            return -1;\r\n          }\r\n          if (other.Distance &gt; this.Distance){\r\n            return -1;\r\n          }\r\n          if (other.Distance &lt; this.Distance){\r\n            return 1;\r\n          }\r\n          \r\n          return 0;\r\n        }\r\n    }\r\n```\r\n\r\nIf I change the Distance of a Tuple I first remove it from the Queue and add it in again after the changes, so that the Q should stay sorted.\r\n\r\nBut and one point, when removing a Tuple from Q, another Tuple with Distance -1 jumps to the top of the Queue and I don&#39;t understand why.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n      PriorityQueue &lt;Tuple&gt; Q = new PriorityQueue &lt;Tuple&gt;();\r\n      ArrayList &lt;Tuple&gt; A = new ArrayList &lt;Tuple&gt; (); \r\n\r\n      for (int i=0; i&lt;9; i++){\r\n      \r\n        Tuple newTuple = new Tuple(i,-1);\r\n        \r\n        Q.add(newTuple);\r\n        A.add(newTuple);\r\n       \r\n      }\r\n\r\n      Tuple T = A.get(5);\r\n      Q.remove(T);\r\n      T.Distance = 0;\r\n      Q.add(T);\r\n\r\n      Q.remove(A.get(5));\r\n\r\n      T = A.get(3);\r\n      Q.remove(T);\r\n      T.Distance = 2;\r\n      Q.add(T);\r\n\r\n      T = A.get(2);\r\n      Q.remove(T); //screws up here\r\n      T.Distance = 3;\r\n      Q.add(T);\r\n\r\n      T = A.get(4);\r\n      Q.remove(T);\r\n      T.Distance = 1;\r\n      Q.add(T);\r\n```\r\n\r\nThe Tuple with Distance -1 and Vertex 7 Jumps up to the Head of the Queue even tho the Tuple with Distance 2 and Vertex 3 is still in the Queue. ","title":"PriorityQueue gets out of order when Element is removed","body":"<p>I have a Comparable Class Tuple with two Int Elements (Distance and Vertex). I want to store Tuples sorted after their Distance.</p>\n<p>-1 is my default value for Distance and should function like Infinity (it's bigger than any other Distance)</p>\n<p>Other than that, the Queue should store in increasing order (The Head of the Queue should be the Tuple with the smallest Distance):</p>\n<pre><code>static class Tuple implements Comparable&lt;Tuple&gt; {\n    \n        int Distance;\n        int Vertex;\n        \n        public Tuple(int Vertex, int Distance) {\n          this.Distance = Distance;\n          this.Vertex = Vertex;\n        }\n\n        @Override public int compareTo(Tuple other) {\n          \n          if (other.Distance &lt; 0){\n            return -1;\n          }\n          if (other.Distance &gt; this.Distance){\n            return -1;\n          }\n          if (other.Distance &lt; this.Distance){\n            return 1;\n          }\n          \n          return 0;\n        }\n    }\n</code></pre>\n<p>If I change the Distance of a Tuple I first remove it from the Queue and add it in again after the changes, so that the Q should stay sorted.</p>\n<p>But and one point, when removing a Tuple from Q, another Tuple with Distance -1 jumps to the top of the Queue and I don't understand why.</p>\n<pre><code>public static void main(String[] args) {\n\n      PriorityQueue &lt;Tuple&gt; Q = new PriorityQueue &lt;Tuple&gt;();\n      ArrayList &lt;Tuple&gt; A = new ArrayList &lt;Tuple&gt; (); \n\n      for (int i=0; i&lt;9; i++){\n      \n        Tuple newTuple = new Tuple(i,-1);\n        \n        Q.add(newTuple);\n        A.add(newTuple);\n       \n      }\n\n      Tuple T = A.get(5);\n      Q.remove(T);\n      T.Distance = 0;\n      Q.add(T);\n\n      Q.remove(A.get(5));\n\n      T = A.get(3);\n      Q.remove(T);\n      T.Distance = 2;\n      Q.add(T);\n\n      T = A.get(2);\n      Q.remove(T); //screws up here\n      T.Distance = 3;\n      Q.add(T);\n\n      T = A.get(4);\n      Q.remove(T);\n      T.Distance = 1;\n      Q.add(T);\n</code></pre>\n<p>The Tuple with Distance -1 and Vertex 7 Jumps up to the Head of the Queue even tho the Tuple with Distance 2 and Vertex 3 is still in the Queue.</p>\n"},{"tags":["java","spring-boot","spring-data-mongodb","querydsl"],"comments":[{"owner":{"account_id":2200953,"reputation":3860,"user_id":2661700,"accept_rate":86,"display_name":"Yubaraj"},"score":1,"creation_date":1623863631,"post_id":58177094,"comment_id":120201690,"body_markdown":"Did you find the solution?","body":"Did you find the solution?"}],"answers":[{"tags":[],"owner":{"account_id":13294838,"reputation":2088,"user_id":9598207,"display_name":"Thoth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579290187,"creation_date":1571324643,"answer_id":58435620,"question_id":58177094,"body_markdown":"The first problem I see is that you missed a semicolon on the return statement which might be causing you some other issues. The way to generate `QDetails` is to first reference the query, and request the details from the assigned result. ","title":"QueryDsl MongoDB - Accessing Deeply Nested Object for Query","body":"<p>The first problem I see is that you missed a semicolon on the return statement which might be causing you some other issues. The way to generate <code>QDetails</code> is to first reference the query, and request the details from the assigned result. </p>\n"}],"owner":{"account_id":2215099,"reputation":3255,"user_id":1955934,"accept_rate":17,"display_name":"user1955934"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1081,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":1,"score":12,"last_activity_date":1701977489,"creation_date":1569893893,"question_id":58177094,"body_markdown":"I have issues trying to access nested object when using `BooleanBuilder`. I have read that the default is 2 levels, but for my use case, I need to access 3rd level nested objects. So I have added `@QueryInit` as pointed out in many other answers. But I still cannot access it. Here is my code:\r\n\r\n    @Document\r\n    public class Order implements Serializable {\r\n     \r\n         @QueryInit(*.*)\r\n         private Item item;\r\n    \r\n    }\r\n    \r\n    public class Item implements Serializable {\r\n       private Details details;\r\n    }\r\n    \r\n    public class Details implements Serializable {\r\n       private String name;\r\n    }\r\n\r\n    public static BooleanExpression name(String name) {\r\n      QOrder order = QOrder.order;\r\n      return order.item.details.name.eq(name)\r\n    }\r\n\r\nI have `QOrder`, `QItem` classes generated and working fine. But details.description gives error because `QDetails` class was not generated. How do I make it generate `QDetails`?","title":"QueryDsl MongoDB - Accessing Deeply Nested Object for Query","body":"<p>I have issues trying to access nested object when using <code>BooleanBuilder</code>. I have read that the default is 2 levels, but for my use case, I need to access 3rd level nested objects. So I have added <code>@QueryInit</code> as pointed out in many other answers. But I still cannot access it. Here is my code:</p>\n\n<pre><code>@Document\npublic class Order implements Serializable {\n\n     @QueryInit(*.*)\n     private Item item;\n\n}\n\npublic class Item implements Serializable {\n   private Details details;\n}\n\npublic class Details implements Serializable {\n   private String name;\n}\n\npublic static BooleanExpression name(String name) {\n  QOrder order = QOrder.order;\n  return order.item.details.name.eq(name)\n}\n</code></pre>\n\n<p>I have <code>QOrder</code>, <code>QItem</code> classes generated and working fine. But details.description gives error because <code>QDetails</code> class was not generated. How do I make it generate <code>QDetails</code>?</p>\n"},{"tags":["java","postman"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701897652,"post_id":77615961,"comment_id":136833393,"body_markdown":"Have you tried to implement the same method that Postman does? Where are you stuck? Share your code.","body":"Have you tried to implement the same method that Postman does? Where are you stuck? Share your code."},{"owner":{"account_id":8178335,"reputation":89,"user_id":6156391,"display_name":"Divya"},"score":0,"creation_date":1701977303,"post_id":77615961,"comment_id":136844568,"body_markdown":"@aled I have edited my post and added the code what I have so far. Here I have attempted to generate SHA-256 hash of the JSON payload. \nBut I am not sure how to pass it? IN QueryHttpPostWithHeaderAuth, I have used request.setEntity(body); just like I owuld set a message body for a normal POST request. But this does not seem to work. \nHowever in POSTMAN I am able to set the api, header, body etc and generate the HMAC signature.","body":"@aled I have edited my post and added the code what I have so far. Here I have attempted to generate SHA-256 hash of the JSON payload.  But I am not sure how to pass it? IN QueryHttpPostWithHeaderAuth, I have used request.setEntity(body); just like I owuld set a message body for a normal POST request. But this does not seem to work.  However in POSTMAN I am able to set the api, header, body etc and generate the HMAC signature."}],"owner":{"account_id":8178335,"reputation":89,"user_id":6156391,"display_name":"Divya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701977189,"creation_date":1701892748,"question_id":77615961,"body_markdown":"My question is what happens to the Request body when generating the HMACSHA256 signature from POSTMAN. I am looking to automate this in Java, but I am not sure on what change I need to make to the request body. Just sending the request body like I would for any other POST request is not working. \r\n\r\nThe HMAC signature generated with the request headers and body as shown below works for GET requests but not for POST requests.\r\n\r\n\r\n[![POST request][1]][1]\r\n\r\n\r\n[![Request Body][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5V9nj.png\r\n  [2]: https://i.stack.imgur.com/TznyA.png\r\n\r\nEDIT: Adding in the code I have so far\r\n\r\nThe below function I am assigning the Key, Secret key and the referer.\r\n```public String authenticateKeys(String endpoint, String JsonBody) throws ParseException {\r\n        Map&lt;String, String&gt; headerMap = new HashMap&lt;&gt;();\r\n        headerMap.put(&quot;SecretKey&quot;, gds.API_KEY);\r\n        headerMap.put(&quot;KeyID&quot;, gds.API_KEY_ID);\r\n        //headerMap.put(&quot;Referer&quot;, gds.API_HOST_NAME + endpoint);\r\n        headerMap.put(&quot;Referer&quot;, &quot;https://td-api.qa1.sac.int.threatmetrix.com/api/v1/add_element_identifier/687gh7ih&quot;);\r\n        APIQuery api = new APIQuery(logger);\r\n        String authorization = api.QueryHttpPostWithHeaderAuth(&quot;END_POINT_AUTH&quot;, headerMap, JsonBody);\r\n        api.printOutputParameters();\r\n        return authorization.substring(1, authorization.length() - 1);\r\n    }\r\n\r\n\r\n\t\tpublic String QueryHttpPostWithHeaderAuth( String endPoint, Map&lt;String, String&gt; headerMap, String reqBodyHash){\r\n\t\t\tHttpPost request;\r\n\t\t\ttry {\r\n\t\t\t\tCloseableHttpClient httpClient = HttpClientBuilder.create().build();\r\n\t\t\t\trequest = new HttpPost(GlobalDataStore.API_SERVER + &quot;v1/support/generate/authheader&quot;);\r\n\t\t\t\tif(!headerMap.isEmpty())\r\n\t\t\t\t\theaderMap.forEach((k,v) -&gt; request.setHeader(k, v));\r\n\r\n\t\t\t\tStringEntity body = new StringEntity(reqBodyHash);\r\n\r\n\t\t\t\t//could override default content type\r\n\t\t\t\tString contentType = this.contentType == null ? &quot;application/json&quot;:this.contentType;\r\n\t\t\t\trequest.addHeader(&quot;content-type&quot;, contentType);\r\n\t\t\t\trequest.setEntity(body);\r\n\r\n\t\t\t\t//post the json req\r\n\t\t\t\tCloseableHttpResponse response = httpClient.execute(request);\r\n\r\n\r\n\t\t\t\t//read the response\r\n\t\t\t\tBufferedReader rd = new BufferedReader(new InputStreamReader((response.getEntity().getContent())));\r\n\t\t\t\tthis.statusCode = response.getStatusLine().getStatusCode();\r\n\r\n\t\t\t\tString line;\r\n\t\t\t\twhile ((line = rd.readLine()) != null) {\r\n\t\t\t\t\tjsonResponse=line;\r\n\t\t\t\t}\r\n\r\n\t\t\t\trd.close();\r\n\t\t\t\thttpClient.close();\r\n\t\t\t\tdata = &quot;&quot;;\r\n\t\t\t} catch(Exception e){\r\n\t\t\t\tAssert.assertTrue(false, String.valueOf(e));\r\n\t\t\t}\r\n\t\t\treturn jsonResponse;\r\n\t\t}\r\n\r\n\r\n    //https://developer.cybersource.com/docs/cybs/en-us/platform/developer/all/rest/rest-getting-started/restgs-http-message-conf-intro/restgs-http-message-conf-payload-hash.html\r\n    public static String GenerateDigest(String API_KEY, String reqBody) throws NoSuchAlgorithmException {\r\n        String bodyText = reqBody;\r\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        md.update(bodyText.getBytes(StandardCharsets.UTF_8));\r\n        byte[] digest = md.digest();\r\n        return &quot;SHA-256=&quot; + Base64.getEncoder().encodeToString(digest);\r\n    }","title":"How to automate in JAVA the generation of HMAC signature for a request having request body","body":"<p>My question is what happens to the Request body when generating the HMACSHA256 signature from POSTMAN. I am looking to automate this in Java, but I am not sure on what change I need to make to the request body. Just sending the request body like I would for any other POST request is not working.</p>\n<p>The HMAC signature generated with the request headers and body as shown below works for GET requests but not for POST requests.</p>\n<p><a href=\"https://i.stack.imgur.com/5V9nj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5V9nj.png\" alt=\"POST request\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/TznyA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TznyA.png\" alt=\"Request Body\" /></a></p>\n<p>EDIT: Adding in the code I have so far</p>\n<p>The below function I am assigning the Key, Secret key and the referer.</p>\n<pre><code>        Map&lt;String, String&gt; headerMap = new HashMap&lt;&gt;();\n        headerMap.put(&quot;SecretKey&quot;, gds.API_KEY);\n        headerMap.put(&quot;KeyID&quot;, gds.API_KEY_ID);\n        //headerMap.put(&quot;Referer&quot;, gds.API_HOST_NAME + endpoint);\n        headerMap.put(&quot;Referer&quot;, &quot;https://td-api.qa1.sac.int.threatmetrix.com/api/v1/add_element_identifier/687gh7ih&quot;);\n        APIQuery api = new APIQuery(logger);\n        String authorization = api.QueryHttpPostWithHeaderAuth(&quot;END_POINT_AUTH&quot;, headerMap, JsonBody);\n        api.printOutputParameters();\n        return authorization.substring(1, authorization.length() - 1);\n    }\n\n\n        public String QueryHttpPostWithHeaderAuth( String endPoint, Map&lt;String, String&gt; headerMap, String reqBodyHash){\n            HttpPost request;\n            try {\n                CloseableHttpClient httpClient = HttpClientBuilder.create().build();\n                request = new HttpPost(GlobalDataStore.API_SERVER + &quot;v1/support/generate/authheader&quot;);\n                if(!headerMap.isEmpty())\n                    headerMap.forEach((k,v) -&gt; request.setHeader(k, v));\n\n                StringEntity body = new StringEntity(reqBodyHash);\n\n                //could override default content type\n                String contentType = this.contentType == null ? &quot;application/json&quot;:this.contentType;\n                request.addHeader(&quot;content-type&quot;, contentType);\n                request.setEntity(body);\n\n                //post the json req\n                CloseableHttpResponse response = httpClient.execute(request);\n\n\n                //read the response\n                BufferedReader rd = new BufferedReader(new InputStreamReader((response.getEntity().getContent())));\n                this.statusCode = response.getStatusLine().getStatusCode();\n\n                String line;\n                while ((line = rd.readLine()) != null) {\n                    jsonResponse=line;\n                }\n\n                rd.close();\n                httpClient.close();\n                data = &quot;&quot;;\n            } catch(Exception e){\n                Assert.assertTrue(false, String.valueOf(e));\n            }\n            return jsonResponse;\n        }\n\n\n    //https://developer.cybersource.com/docs/cybs/en-us/platform/developer/all/rest/rest-getting-started/restgs-http-message-conf-intro/restgs-http-message-conf-payload-hash.html\n    public static String GenerateDigest(String API_KEY, String reqBody) throws NoSuchAlgorithmException {\n        String bodyText = reqBody;\n        MessageDigest md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        md.update(bodyText.getBytes(StandardCharsets.UTF_8));\n        byte[] digest = md.digest();\n        return &quot;SHA-256=&quot; + Base64.getEncoder().encodeToString(digest);\n    }\n</code></pre>\n"},{"tags":["java","material-ui","material-design","sharedpreferences","sqldb"],"owner":{"account_id":29005121,"reputation":1,"user_id":22217866,"display_name":"Abdulelah Al-Wainany"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701976861,"creation_date":1701976861,"question_id":77622628,"body_markdown":"I made a simple game for my family it&#39;s all about this:\r\n\r\n1. Some groups of items are displayed in the home page, the items are about something, for example: Cars, Countries, etc ..\r\n\r\n2. One randomly chosen item will be shown up to all players except one of them.\r\n\r\n3. Players whom know have to ask to know the one the do not know, as well as the one that do not know has to ask questions to know what the item is.\r\n\r\nI created some groups before, but it&#39;ll better if players can create their own groups while playing with it&#39;s specified items.\r\n\r\nThese groups must be saved to the next time the game is launched, so they do not have to re-write it&#39;s items again.\r\n\r\nI stuck here in letting players add groups.\r\n\r\nI tried to make custom ListView of CardView as the CardView is A Group Shower, shows an icon for the group, title and description and saves it&#39;s items - not showing it - just saving it because only one item of it will be randomly chosen.\r\n\r\nI can&#39;t let the user create as much groups as he wants and to be saved in Shared Preferences or SQL DB.\r\n\r\nThis is the code of the code of the Home Page .xml file:\r\n\r\n\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n\txmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\txmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n\tandroid:orientation=&quot;vertical&quot;\r\n\tandroid:layout_width=&quot;match_parent&quot;\r\n\tandroid:layout_height=&quot;match_parent&quot;\r\n\tandroid:gravity=&quot;center&quot;\r\n\tandroid:padding=&quot;10dp&quot;&gt;\r\n\r\n\t&lt;com.google.android.material.appbar.AppBarLayout\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;&gt;\r\n\r\n\t\t&lt;androidx.appcompat.widget.Toolbar\r\n\t\t\tandroid:id=&quot;@+id/toolbar&quot;\r\n\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\tandroid:layout_height=&quot;?attr/actionBarSize&quot;\r\n\t\t\tapp:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;/&gt;\r\n\r\n\t&lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n\t&lt;ScrollView\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n\t\t&lt;LinearLayout\r\n\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\tandroid:layout_height=&quot;match_parent&quot;\r\n\t\t\tandroid:orientation=&quot;vertical&quot;\r\n\t\t\tandroid:gravity=&quot;center&quot;&gt;\r\n\r\n\t\t\t&lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:gravity=&quot;center&quot;&gt;\r\n                    \r\n                &lt;com.google.android.material.card.MaterialCardView\r\n                    android:id=&quot;@+id/firstGroup&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:layout_margin=&quot;8dp&quot;&gt;\r\n\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                        &lt;ImageView\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;194dp&quot;\r\n                            app:srcCompat=&quot;@drawable/app_logo&quot;\r\n                            android:contentDescription=&quot;It&#39;s Just The Logo Of The App&quot;\r\n                            android:scaleType=&quot;fitCenter&quot;/&gt;\r\n\r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:orientation=&quot;vertical&quot;\r\n                            android:padding=&quot;16dp&quot;&gt;\r\n\r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:text=&quot;أفراد العائلة الوينانية&quot;\r\n                                android:textSize=&quot;13dp&quot;\r\n                                android:textAppearance=&quot;?attr/textAppearanceHeadline6&quot;/&gt;\r\n\r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;8dp&quot;\r\n                                android:text=&quot;في هذه المجموعة كل الأفراد اللي هم في عائلات بيت الويناني حقنا يعني اللي نعرفهم قوي.&quot;\r\n                                android:textSize=&quot;9dp&quot;\r\n                                android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                                android:textColor=&quot;?android:attr/textColorSecondary&quot;/&gt;\r\n\r\n                        &lt;/LinearLayout&gt;\r\n\r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_margin=&quot;8dp&quot;\r\n                            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                            &lt;com.google.android.material.button.MaterialButton\r\n                                android:id=&quot;@+id/btFirstG&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginEnd=&quot;8dp&quot;\r\n                                android:textColor=&quot;#FFFFFF&quot;\r\n                                android:text=&quot;دخول&quot;\r\n                                style=&quot;?attr/borderlessButtonStyle&quot;/&gt;\r\n\r\n                        &lt;/LinearLayout&gt;\r\n\r\n                    &lt;/LinearLayout&gt;\r\n\r\n                &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n\r\n                &lt;com.google.android.material.card.MaterialCardView\r\n                    android:id=&quot;@+id/secondGroup&quot;\r\n                    android:clickable=&quot;true&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:layout_margin=&quot;8dp&quot;&gt;\r\n\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                        &lt;ImageView\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;194dp&quot;\r\n                            app:srcCompat=&quot;@drawable/app_logo&quot;\r\n                            android:scaleType=&quot;fitCenter&quot;\r\n                            android:contentDescription=&quot;It&#39;s Just The Logo Of The App&quot;\r\n                            android:src=&quot;@drawable/house_icon&quot;/&gt;\r\n\r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:orientation=&quot;vertical&quot;\r\n                            android:padding=&quot;16dp&quot;&gt;\r\n\r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:text=&quot;البيوت حقنا&quot;\r\n                                android:textSize=&quot;14dp&quot;\r\n                                android:textAppearance=&quot;?attr/textAppearanceHeadline6&quot;/&gt;\r\n\r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;8dp&quot;\r\n                                android:text=&quot;هذه المجموعة تضم بيوت العائلات حقنا كلها من وينان إلى صنعاء مروراً بضوران.&quot;\r\n                                android:textSize=&quot;9dp&quot;\r\n                                android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                                android:textColor=&quot;?android:attr/textColorSecondary&quot;/&gt;\r\n\r\n                        &lt;/LinearLayout&gt;\r\n\r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_margin=&quot;8dp&quot;\r\n                            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                            &lt;com.google.android.material.button.MaterialButton\r\n                                android:id=&quot;@+id/btSecondG&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginEnd=&quot;8dp&quot;\r\n                                android:textColor=&quot;#FFFFFF&quot;\r\n                                android:text=&quot;دخول&quot;\r\n                                style=&quot;?attr/borderlessButtonStyle&quot;/&gt;\r\n\r\n                        &lt;/LinearLayout&gt;\r\n\r\n                    &lt;/LinearLayout&gt;\r\n\r\n                &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n                \r\n                &lt;/LinearLayout&gt;\r\n\r\n\t\t\t&lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:gravity=&quot;center&quot;&gt;\r\n                    \r\n                &lt;com.google.android.material.card.MaterialCardView\r\n                    android:id=&quot;@+id/thirdGroup&quot;\r\n                    android:clickable=&quot;true&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:layout_margin=&quot;8dp&quot;&gt;\r\n\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                        &lt;ImageView\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;194dp&quot;\r\n                            app:srcCompat=&quot;@drawable/app_logo&quot;\r\n                            android:scaleType=&quot;fitCenter&quot;\r\n                            android:contentDescription=&quot;It&#39;s Just The Logo Of The App&quot;\r\n                            android:src=&quot;@drawable/new_icon&quot;/&gt;\r\n\r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:orientation=&quot;vertical&quot;\r\n                            android:padding=&quot;16dp&quot;&gt;\r\n\r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:text=&quot;عناصر جديدة&quot;\r\n                                android:textSize=&quot;14dp&quot;\r\n                                android:textAppearance=&quot;?attr/textAppearanceHeadline6&quot;/&gt;\r\n\r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginTop=&quot;8dp&quot;\r\n                                android:text=&quot;هذه مجموعة تقدر تضيف السوالف اللي فيها براحتك، وهذا التطبيق تم إنشائه من سب هذه الحاجة بشكل أساسي.&quot;\r\n                                android:textSize=&quot;9dp&quot;\r\n                                android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                                android:textColor=&quot;?android:attr/textColorSecondary&quot;/&gt;\r\n\r\n                        &lt;/LinearLayout&gt;\r\n\r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_margin=&quot;8dp&quot;\r\n                            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                            &lt;com.google.android.material.button.MaterialButton\r\n                                android:id=&quot;@+id/btThirdG&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_marginEnd=&quot;8dp&quot;\r\n                                android:textColor=&quot;#FFFFFF&quot;\r\n                                android:text=&quot;دخول&quot;\r\n                                style=&quot;?attr/borderlessButtonStyle&quot;/&gt;\r\n\r\n                        &lt;/LinearLayout&gt;\r\n\r\n                    &lt;/LinearLayout&gt;\r\n\r\n                &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n                \r\n                &lt;/LinearLayout&gt;\r\n\r\n\t\t&lt;/LinearLayout&gt;\r\n\r\n\t&lt;/ScrollView&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n````\r\n\r\nAnd this is the Java code of this .xml file:\r\n\r\n\r\n````\r\npackage com.wainan.fio;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.View.OnClickListener;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport com.google.android.material.button.MaterialButton;\r\nimport com.google.android.material.card.MaterialCardView;\r\n\r\npublic class GroupChoose extends AppCompatActivity {\r\n\t\r\n\tMaterialButton btF, btS, btT;\r\n    MaterialCardView first, second, third;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.choose_group);\r\n\t\t\r\n\t\tToolbar toolbar=(Toolbar)findViewById(R.id.toolbar);\r\n\t\tsetSupportActionBar(toolbar);\r\n\r\n\t\tgetSupportActionBar().hide();\r\n\t\t\r\n\t\tbtF = findViewById(R.id.btFirstG);\r\n\t\tbtS = findViewById(R.id.btSecondG);\r\n\t\tbtT = findViewById(R.id.btThirdG);\r\n        first = findViewById(R.id.firstGroup);\r\n        second = findViewById(R.id.secondGroup);\r\n        third = findViewById(R.id.thirdGroup);\r\n\t\t\r\n\t\tbtF.setOnClickListener(new OnClickListener(){\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View p1) {\r\n\t\t\t\t\tLaunchNext(0);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\tbtS.setOnClickListener(new OnClickListener(){\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View p1) {\r\n\t\t\t\t\tLaunchNext(1);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\tbtT.setOnClickListener(new OnClickListener(){\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View p1) {\r\n\t\t\t\t\tstartActivity(new Intent(GroupChoose.this, CustomObjects.class));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n    }\r\n\r\n\t@Override\r\n\tpublic void onBackPressed() {\r\n\r\n\t\tfinishAffinity();\r\n\r\n\t}\r\n\r\n\tvoid LaunchNext(int groupNum)\r\n\t{\r\n\t\tIntent i = new Intent(this, PlayersAdd.class);\r\n\t\ti.putExtra(&quot;chosenOne&quot;, groupNum);\r\n\r\n\t\tstartActivity(i);\r\n\t}\r\n\r\n}\r\n````\r\n\r\nThis is the code of Questioning Page:\r\n\r\n\r\n````\r\npackage com.wainan.fio;\r\n\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.View.OnClickListener;\r\nimport android.widget.TextView;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport com.google.android.material.button.MaterialButton;\r\nimport java.util.ArrayList;\r\nimport java.util.Random;\r\n\r\npublic class PlayingRoom extends AppCompatActivity {\r\n\t\r\n\tTextView tv1, tv2;\r\n\t\r\n\tMaterialButton bt1, bt2, bt3;\r\n\t\r\n\tint chosenGroup = 0;\r\n\tArrayList players = new ArrayList();\r\n\tArrayList quesPlayers = new ArrayList();\r\n\tArrayList groupObjects = new ArrayList();\r\n\tArrayList ansPlayers = new ArrayList();\r\n\r\n\tArrayList fGroup = new ArrayList();\r\n\tArrayList sGroup = new ArrayList();\r\n\tArrayList cGroup = new ArrayList();\r\n\r\n\tRandom random = new Random();\r\n\r\n\tint ranChosenPlayer = 0;\r\n\tint ranChosQues = 0;\r\n\tint ranChosenAns = 0;\r\n\tString ranChosenObj = &quot;&quot;;\r\n\tString ranChosenOutOne = &quot;&quot;;\r\n\tint checkOutery = 0;\r\n\r\n\tArrayList playersList = new ArrayList();\r\n\tArrayList chI = new ArrayList();\r\n\r\n\tString chosenOutOne = &quot;&quot;;\r\n\tString chosenObject = &quot;&quot;;\r\n\t\r\n\tint firstTime = 0;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.room_playing);\r\n\t\t\r\n\t\tToolbar toolbar=(Toolbar)findViewById(R.id.toolbar);\r\n\t\tsetSupportActionBar(toolbar);\r\n\r\n\t\tgetSupportActionBar().hide();\r\n\t\t\r\n\t\ttv1 = findViewById(R.id.tvPN);\r\n\t\ttv2 = findViewById(R.id.tvPD);\r\n\t\tbt1 = findViewById(R.id.optionF);\r\n\t\tbt2 = findViewById(R.id.optionS);\r\n\t\tbt3 = findViewById(R.id.optionT);\r\n\t\t\r\n\t\tbt2.setVisibility(View.INVISIBLE);\r\n\t\t\r\n\t\tbt3.setVisibility(View.INVISIBLE);\r\n\r\n\t\tFillFGroup();\r\n\t\tFillSGroup();\r\n\t\tFillCGroup();\r\n\r\n\t\tchosenGroup = getIntent().getIntExtra(&quot;ChosenGroup&quot;, 0);\r\n\t\tplayers = getIntent().getStringArrayListExtra(&quot;PlayersList&quot;);\r\n\r\n\r\n\t\tquesPlayers = getIntent().getStringArrayListExtra(&quot;newList&quot;);\r\n\t\tansPlayers = getIntent().getStringArrayListExtra(&quot;newList&quot;);\r\n\r\n\t\tchI = getIntent().getStringArrayListExtra(&quot;cI&quot;);\r\n\r\n\t\tquesPlayers.addAll(quesPlayers);\r\n\t\tansPlayers.addAll(ansPlayers);\r\n\r\n\t\tcGroup = getIntent().getStringArrayListExtra(&quot;custObj&quot;);\r\n\r\n\t\tif (chosenGroup == 0)\r\n\t\t{\r\n\t\t\tgroupObjects = fGroup;\r\n\r\n\t\t\tChooseRandomObject();\r\n\t\t\tChooseRandomOutOne();\r\n\r\n\t\t\ttv1.setText(&quot;قسم شخصيات العائلة&quot;);\r\n\t\t\ttv2.setText(&quot;اضغط التالي لبدء فقرات اللعبة.&quot;);\r\n\r\n\t\t}else if (chosenGroup == 1)\r\n\t\t{\r\n\t\t\tgroupObjects = sGroup;\r\n\r\n\t\t\tChooseRandomObject();\r\n\t\t\tChooseRandomOutOne();\r\n\r\n\t\t\ttv1.setText(&quot;قسم البيوت حقنا&quot;);\r\n\t\t\ttv2.setText(&quot;اضغط التالي لبدء فقرات اللعبة.&quot;);\r\n\t\t\t\r\n\t\t}else\r\n\t\t{\r\n\t\t\tgroupObjects = cGroup;\r\n\r\n\t\t\tChooseRandomObject();\r\n\t\t\tChooseRandomOutOne();\r\n\r\n\t\t\ttv1.setText(&quot;قسم عناصر جديدة&quot;);\r\n\t\t\ttv2.setText(&quot;اضغط التالي لبدء فقرات اللعبة.&quot;);\r\n\t\t}\r\n\r\n\t\tplayersList = getIntent().getStringArrayListExtra(&quot;fCh&quot;);\r\n\r\n\t\tchosenOutOne = ranChosenOutOne;\r\n\t\tchosenObject = ranChosenObj;\r\n\r\n\t\tbt1.setOnClickListener(new OnClickListener(){\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View p1) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (firstTime == 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbt2.setVisibility(View.VISIBLE);\r\n\t\t\t\t\t\tfirstTime = 1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttry\r\n\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\tRandomGen();\r\n\r\n\t\t\t\t\t\ttv1.setText(&quot;الجوال ل&quot; + players.get(ranChosenPlayer));\r\n\t\t\t\t\t\ttv2.setText(&quot;اضغط على عرض السالفة لكي تعرف ما إن كنت في أو برا السالفة ثم اضغط على التالي.&quot;);\r\n\r\n\t\t\t\t\t\tplayers.remove(ranChosenPlayer);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (Exception e)\r\n\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tNRandomGen();\r\n\t\t\t\t\t\t\tAnsRanChos();\r\n\r\n\t\t\t\t\t\t\tif (tv1.getText().toString().contains(quesPlayers.get(ranChosQues).toString()) &amp;&amp; tv1.getText().toString().contains(ansPlayers.get(ranChosenAns).toString()))\r\n\t\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t\t\tquesPlayers.remove(ranChosQues);\r\n\r\n\t\t\t\t\t\t\t\tbt1.performClick();\r\n\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (quesPlayers.get(ranChosQues).toString().contains(ansPlayers.get(ranChosenAns).toString()) &amp;&amp; quesPlayers.size() &lt;= 2)\r\n\t\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t\t\tNextSection();\r\n\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (quesPlayers.get(ranChosQues).toString().contains(ansPlayers.get(ranChosenAns).toString()))\r\n\t\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t\t\tbt1.performClick();\r\n\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\ttv1.setText(quesPlayers.get(ranChosQues) + &quot; يسأل &quot; + ansPlayers.get(ranChosenAns));\r\n\t\t\t\t\t\t\ttv2.setText(&quot;بعد الانتهاء اضغط على التالي.&quot;);\r\n\r\n\t\t\t\t\t\t\tquesPlayers.remove(ranChosQues);\r\n\r\n\t\t\t\t\t\t\tbt2.setVisibility(View.INVISIBLE);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch (Exception ex)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tbt1.setVisibility(View.INVISIBLE);\r\n\r\n\t\t\t\t\t\t\ttv1.setText(&quot;كل شخص يمكن له أن يسأل أي شخص سؤال واحد. &quot;);\r\n\r\n\t\t\t\t\t\t\tbt2.setVisibility(View.INVISIBLE);\r\n\r\n\t\t\t\t\t\t\ttv2.setText(&quot;بعد الانتهاء اضغط على تصويت للانتقال إلى صفحة التصويت.&quot;);\r\n\r\n\t\t\t\t\t\t\tbt3.setVisibility(View.VISIBLE);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\tbt2.setOnClickListener(new OnClickListener(){\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View p1) {\r\n\r\n\t\t\t\t\tif (tv1.getText().toString().contains(&quot;قسم&quot;)) return;\r\n\r\n\t\t\t\t\tif (tv1.getText().toString().contains(ranChosenOutOne))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tAlertDialog.Builder b = new AlertDialog.Builder(PlayingRoom.this);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tb.setView(R.layout.out_explain);\r\n\t\t\t\t\t\tb.setNeutralButton(&quot;طيب&quot;, new DialogInterface.OnClickListener(){\r\n\r\n\t\t\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\t\t\tpublic void onClick(DialogInterface p1, int p2) {\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tb.show();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tAlertDialog.Builder b = new AlertDialog.Builder(PlayingRoom.this);\r\n\r\n\t\t\t\t\tb.setTitle(&quot;السالفة هي: &quot;+ ranChosenObj);\r\n\t\t\t\t\tb.setView(R.layout.in_explain);\r\n\t\t\t\t\tb.setNeutralButton(&quot;طيب&quot;, new DialogInterface.OnClickListener(){\r\n\r\n\t\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\t\tpublic void onClick(DialogInterface p1, int p2) {\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tb.show();\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\tbt3.setOnClickListener(new OnClickListener(){\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View p1) {\r\n\r\n\t\t\t\t\tIntent i = new Intent(PlayingRoom.this, ChooseOutone.class);\r\n\r\n\t\t\t\t\ti.putExtra(&quot;playersAll&quot;, playersList);\r\n\t\t\t\t\ti.putExtra(&quot;outone&quot;, chosenOutOne);\r\n\t\t\t\t\ti.putExtra(&quot;object&quot;, chosenObject);\r\n\t\t\t\t\ti.putExtra(&quot;checkI&quot;, chI);\r\n\t\t\t\t\ti.putExtra(&quot;chosenGroup&quot;, chosenGroup);\r\n\t\t\t\t\ti.putExtra(&quot;cGroup&quot;, cGroup);\r\n\r\n\t\t\t\t\tstartActivity(i);\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n    }\r\n\r\n\tvoid FillFGroup()\r\n\t{\r\n\t\tfGroup.add(&quot;عبد الإله محمد&quot;);\r\n\t\tfGroup.add(&quot;علي محمد&quot;);\r\n\t\tfGroup.add(&quot;علي يحيى&quot;);\r\n\t\tfGroup.add(&quot;محمد علي&quot;);\r\n\t\tfGroup.add(&quot;مريم علي&quot;);\r\n\t\tfGroup.add(&quot;محمد يحيى&quot;);\r\n\t\tfGroup.add(&quot;علي نور الدين&quot;);\r\n\t\tfGroup.add(&quot;رسيل نور الدين&quot;);\r\n\t\tfGroup.add(&quot;أحمد علي&quot;);\r\n\t\tfGroup.add(&quot;تقية صالح&quot;);\r\n\t\tfGroup.add(&quot;عبد الملك صالح&quot;);\r\n\t\tfGroup.add(&quot;نور الدين صالح&quot;);\r\n\t\tfGroup.add(&quot;محمد صالح&quot;);\r\n\t\tfGroup.add(&quot;يحيى علي&quot;);\r\n\t\tfGroup.add(&quot;يوسف يحيى&quot;);\r\n\t\tfGroup.add(&quot;إشراق محمد&quot;);\r\n\t\tfGroup.add(&quot;منى محمد&quot;);\r\n\t\tfGroup.add(&quot;فاطمة علي&quot;);\r\n\t\tfGroup.add(&quot;ترتيل علي&quot;);\r\n\t\tfGroup.add(&quot;جميلة&quot;);\r\n\t\tfGroup.add(&quot;جدة تقية&quot;);\r\n\t\tfGroup.add(&quot;فاطمة -- عبد الملك&quot;);\r\n\t\tfGroup.add(&quot;مريم -- نور الدين&quot;);\r\n\t\tfGroup.add(&quot;صالح علي&quot;);\r\n\t\tfGroup.add(&quot;فاطمة&quot;);\r\n\t\tfGroup.add(&quot;ندى يحيى&quot;);\r\n\t\tfGroup.add(&quot;سارا يحيى&quot;);\r\n\t\tfGroup.add(&quot;بدور يحيى&quot;);\r\n\t\tfGroup.add(&quot;حنان يحيى&quot;);\r\n\t\tfGroup.add(&quot;أسيل نور الدين&quot;);\r\n\t\tfGroup.add(&quot;شروق علي&quot;);\r\n\t\tfGroup.add(&quot;علي حسين&quot;);\r\n\t\tfGroup.add(&quot;شرف الدين محمد&quot;);\r\n\t\tfGroup.add(&quot;خالد محمد&quot;);\r\n\t\tfGroup.add(&quot;عز الدين محمد&quot;);\r\n\t}\r\n\r\n\tvoid FillSGroup()\r\n\t{\r\n\t\tsGroup.add(&quot;اللي في البلاد&quot;);\r\n\t\tsGroup.add(&quot;ضوران -- علي&quot;);\r\n\t\tsGroup.add(&quot;ضوران -- محمد&quot;);\r\n\t\tsGroup.add(&quot;صنعاء -- شرف الدين&quot;);\r\n\t\tsGroup.add(&quot;صنعاء -- صالح&quot;);\r\n\t\tsGroup.add(&quot;صنعاء -- يحيى&quot;);\r\n\t}\r\n\r\n\tvoid FillCGroup()\r\n\t{\r\n\r\n\t}\r\n\r\n\tvoid RandomGen()\r\n\t{\r\n\t\tranChosenPlayer = random.nextInt(players.size());\r\n\t}\r\n\r\n\tvoid NRandomGen()\r\n\t{\r\n\t\tranChosQues = random.nextInt(Math.abs(quesPlayers.size()));\r\n\t}\r\n\r\n\tvoid AnsRanChos()\r\n\t{\r\n\t\tranChosenAns = random.nextInt(Math.abs(ansPlayers.size()));\r\n\t}\r\n\r\n\tvoid ChooseRandomObject(){\r\n\r\n\t\tranChosenObj = groupObjects.get(random.nextInt(groupObjects.size())).toString();\r\n\r\n\t}\r\n\r\n\tvoid ChooseRandomOutOne()\r\n\t{\r\n\t\tranChosenOutOne = players.get(random.nextInt(players.size())).toString();\r\n\t}\r\n\r\n\tvoid NextSection()\r\n\t{\r\n\t\tbt1.setVisibility(View.INVISIBLE);\r\n\r\n\t\ttv1.setText(&quot;كل شخص يمكن له أن يسأل أي شخص سؤال واحد. &quot;);\r\n\r\n\t\tbt2.setVisibility(View.INVISIBLE);\r\n\r\n\t\ttv2.setText(&quot;بعد الانتهاء اضغط على تصويت للانتقال إلى صفحة التصويت.&quot;);\r\n\r\n\t\tbt3.setVisibility(View.VISIBLE);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onBackPressed() {\r\n\r\n\t\t\r\n\r\n\t}\r\n    \r\n}\r\n````\r\n\r\n\r\nAnd this is it&#39;s.xml file:\r\n\r\n\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n\txmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\txmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n\tandroid:orientation=&quot;vertical&quot;\r\n\tandroid:layout_width=&quot;match_parent&quot;\r\n\tandroid:layout_height=&quot;match_parent&quot;\r\n\tandroid:gravity=&quot;center&quot;\r\n\tandroid:padding=&quot;10dp&quot;&gt;\r\n\r\n\t&lt;com.google.android.material.appbar.AppBarLayout\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;&gt;\r\n\r\n\t\t&lt;androidx.appcompat.widget.Toolbar\r\n\t\t\tandroid:id=&quot;@+id/toolbar&quot;\r\n\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\tandroid:layout_height=&quot;?attr/actionBarSize&quot;\r\n\t\t\tapp:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;/&gt;\r\n\r\n\t&lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n\t&lt;com.google.android.material.card.MaterialCardView\r\n\t\tandroid:id=&quot;@+id/detailsCard&quot;\r\n\t\tandroid:clickable=&quot;true&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:layout_margin=&quot;8dp&quot;&gt;\r\n\r\n\t\t&lt;LinearLayout\r\n\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\tandroid:orientation=&quot;vertical&quot;&gt;\r\n\r\n\t\t\t&lt;ImageView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;194dp&quot;\r\n\t\t\t\tandroid:contentDescription=&quot;It&#39;s Just The Logo Of The App&quot;\r\n\t\t\t\tandroid:scaleType=&quot;fitCenter&quot;\r\n\t\t\t\tandroid:src=&quot;@drawable/details_icon&quot;/&gt;\r\n\r\n\t\t\t&lt;LinearLayout\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:orientation=&quot;vertical&quot;\r\n\t\t\t\tandroid:padding=&quot;16dp&quot;&gt;\r\n\r\n\t\t\t\t&lt;TextView\r\n\t\t\t\t\tandroid:id=&quot;@+id/tvPN&quot;\r\n\t\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:text=&quot;هنا يعرض اسم اللاعب&quot;\r\n\t\t\t\t\tandroid:textSize=&quot;14dp&quot;\r\n\t\t\t\t\tandroid:textAppearance=&quot;?attr/textAppearanceHeadline6&quot;/&gt;\r\n\r\n\t\t\t\t&lt;TextView\r\n\t\t\t\t\tandroid:id=&quot;@+id/tvPD&quot;\r\n\t\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:layout_marginTop=&quot;8dp&quot;\r\n\t\t\t\t\tandroid:text=&quot;هنا تعرض التعليمات&quot;\r\n\t\t\t\t\tandroid:textSize=&quot;9dp&quot;\r\n\t\t\t\t\tandroid:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n\t\t\t\t\tandroid:textColor=&quot;?android:attr/textColorSecondary&quot;/&gt;\r\n\r\n\t\t\t&lt;/LinearLayout&gt;\r\n\r\n\t\t\t&lt;LinearLayout\r\n\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\tandroid:layout_margin=&quot;8dp&quot;\r\n\t\t\t\tandroid:orientation=&quot;horizontal&quot;&gt;\r\n\r\n\t\t\t\t&lt;com.google.android.material.button.MaterialButton\r\n\t\t\t\t\tandroid:id=&quot;@+id/optionF&quot;\r\n\t\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n                    android:textColor=&quot;#FFFFFF&quot;\r\n\t\t\t\t\tandroid:layout_weight=&quot;1&quot;\r\n\t\t\t\t\tandroid:text=&quot;التالي&quot;\r\n\t\t\t\t\tstyle=&quot;?attr/borderlessButtonStyle&quot;/&gt;\r\n\r\n\t\t\t\t&lt;com.google.android.material.button.MaterialButton\r\n\t\t\t\t\tandroid:id=&quot;@+id/optionS&quot;\r\n\t\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:layout_marginLeft=&quot;5dp&quot;\r\n                    android:textColor=&quot;#FFFFFF&quot;\r\n\t\t\t\t\tandroid:layout_weight=&quot;1&quot;\r\n\t\t\t\t\tandroid:text=&quot;عرض السالفة&quot;\r\n\t\t\t\t\tstyle=&quot;?attr/borderlessButtonStyle&quot;/&gt;\r\n\r\n\t\t\t\t&lt;com.google.android.material.button.MaterialButton\r\n\t\t\t\t\tandroid:id=&quot;@+id/optionT&quot;\r\n\t\t\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n                    android:textColor=&quot;#FFFFFF&quot;\r\n\t\t\t\t\tandroid:layout_weight=&quot;1&quot;\r\n\t\t\t\t\tandroid:text=&quot;تصويت&quot;\r\n\t\t\t\t\tstyle=&quot;?attr/borderlessButtonStyle&quot;/&gt;\r\n\r\n\t\t\t&lt;/LinearLayout&gt;\r\n\r\n\t\t&lt;/LinearLayout&gt;\r\n\r\n\t&lt;/com.google.android.material.card.MaterialCardView&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n````\r\n","title":"Creating New Group Of Items User Specifies","body":"<p>I made a simple game for my family it's all about this:</p>\n<ol>\n<li><p>Some groups of items are displayed in the home page, the items are about something, for example: Cars, Countries, etc ..</p>\n</li>\n<li><p>One randomly chosen item will be shown up to all players except one of them.</p>\n</li>\n<li><p>Players whom know have to ask to know the one the do not know, as well as the one that do not know has to ask questions to know what the item is.</p>\n</li>\n</ol>\n<p>I created some groups before, but it'll better if players can create their own groups while playing with it's specified items.</p>\n<p>These groups must be saved to the next time the game is launched, so they do not have to re-write it's items again.</p>\n<p>I stuck here in letting players add groups.</p>\n<p>I tried to make custom ListView of CardView as the CardView is A Group Shower, shows an icon for the group, title and description and saves it's items - not showing it - just saving it because only one item of it will be randomly chosen.</p>\n<p>I can't let the user create as much groups as he wants and to be saved in Shared Preferences or SQL DB.</p>\n<p>This is the code of the code of the Home Page .xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:gravity=&quot;center&quot;\n    android:padding=&quot;10dp&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;/&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            android:gravity=&quot;center&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:gravity=&quot;center&quot;&gt;\n                    \n                &lt;com.google.android.material.card.MaterialCardView\n                    android:id=&quot;@+id/firstGroup&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:layout_margin=&quot;8dp&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;ImageView\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;194dp&quot;\n                            app:srcCompat=&quot;@drawable/app_logo&quot;\n                            android:contentDescription=&quot;It's Just The Logo Of The App&quot;\n                            android:scaleType=&quot;fitCenter&quot;/&gt;\n\n                        &lt;LinearLayout\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:orientation=&quot;vertical&quot;\n                            android:padding=&quot;16dp&quot;&gt;\n\n                            &lt;TextView\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:text=&quot;أفراد العائلة الوينانية&quot;\n                                android:textSize=&quot;13dp&quot;\n                                android:textAppearance=&quot;?attr/textAppearanceHeadline6&quot;/&gt;\n\n                            &lt;TextView\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:layout_marginTop=&quot;8dp&quot;\n                                android:text=&quot;في هذه المجموعة كل الأفراد اللي هم في عائلات بيت الويناني حقنا يعني اللي نعرفهم قوي.&quot;\n                                android:textSize=&quot;9dp&quot;\n                                android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                                android:textColor=&quot;?android:attr/textColorSecondary&quot;/&gt;\n\n                        &lt;/LinearLayout&gt;\n\n                        &lt;LinearLayout\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_margin=&quot;8dp&quot;\n                            android:orientation=&quot;horizontal&quot;&gt;\n\n                            &lt;com.google.android.material.button.MaterialButton\n                                android:id=&quot;@+id/btFirstG&quot;\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:layout_marginEnd=&quot;8dp&quot;\n                                android:textColor=&quot;#FFFFFF&quot;\n                                android:text=&quot;دخول&quot;\n                                style=&quot;?attr/borderlessButtonStyle&quot;/&gt;\n\n                        &lt;/LinearLayout&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/com.google.android.material.card.MaterialCardView&gt;\n\n                &lt;com.google.android.material.card.MaterialCardView\n                    android:id=&quot;@+id/secondGroup&quot;\n                    android:clickable=&quot;true&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:layout_margin=&quot;8dp&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;ImageView\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;194dp&quot;\n                            app:srcCompat=&quot;@drawable/app_logo&quot;\n                            android:scaleType=&quot;fitCenter&quot;\n                            android:contentDescription=&quot;It's Just The Logo Of The App&quot;\n                            android:src=&quot;@drawable/house_icon&quot;/&gt;\n\n                        &lt;LinearLayout\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:orientation=&quot;vertical&quot;\n                            android:padding=&quot;16dp&quot;&gt;\n\n                            &lt;TextView\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:text=&quot;البيوت حقنا&quot;\n                                android:textSize=&quot;14dp&quot;\n                                android:textAppearance=&quot;?attr/textAppearanceHeadline6&quot;/&gt;\n\n                            &lt;TextView\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:layout_marginTop=&quot;8dp&quot;\n                                android:text=&quot;هذه المجموعة تضم بيوت العائلات حقنا كلها من وينان إلى صنعاء مروراً بضوران.&quot;\n                                android:textSize=&quot;9dp&quot;\n                                android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                                android:textColor=&quot;?android:attr/textColorSecondary&quot;/&gt;\n\n                        &lt;/LinearLayout&gt;\n\n                        &lt;LinearLayout\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_margin=&quot;8dp&quot;\n                            android:orientation=&quot;horizontal&quot;&gt;\n\n                            &lt;com.google.android.material.button.MaterialButton\n                                android:id=&quot;@+id/btSecondG&quot;\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:layout_marginEnd=&quot;8dp&quot;\n                                android:textColor=&quot;#FFFFFF&quot;\n                                android:text=&quot;دخول&quot;\n                                style=&quot;?attr/borderlessButtonStyle&quot;/&gt;\n\n                        &lt;/LinearLayout&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/com.google.android.material.card.MaterialCardView&gt;\n                \n                &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:gravity=&quot;center&quot;&gt;\n                    \n                &lt;com.google.android.material.card.MaterialCardView\n                    android:id=&quot;@+id/thirdGroup&quot;\n                    android:clickable=&quot;true&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:layout_margin=&quot;8dp&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;ImageView\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;194dp&quot;\n                            app:srcCompat=&quot;@drawable/app_logo&quot;\n                            android:scaleType=&quot;fitCenter&quot;\n                            android:contentDescription=&quot;It's Just The Logo Of The App&quot;\n                            android:src=&quot;@drawable/new_icon&quot;/&gt;\n\n                        &lt;LinearLayout\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:orientation=&quot;vertical&quot;\n                            android:padding=&quot;16dp&quot;&gt;\n\n                            &lt;TextView\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:text=&quot;عناصر جديدة&quot;\n                                android:textSize=&quot;14dp&quot;\n                                android:textAppearance=&quot;?attr/textAppearanceHeadline6&quot;/&gt;\n\n                            &lt;TextView\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:layout_marginTop=&quot;8dp&quot;\n                                android:text=&quot;هذه مجموعة تقدر تضيف السوالف اللي فيها براحتك، وهذا التطبيق تم إنشائه من سب هذه الحاجة بشكل أساسي.&quot;\n                                android:textSize=&quot;9dp&quot;\n                                android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                                android:textColor=&quot;?android:attr/textColorSecondary&quot;/&gt;\n\n                        &lt;/LinearLayout&gt;\n\n                        &lt;LinearLayout\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_margin=&quot;8dp&quot;\n                            android:orientation=&quot;horizontal&quot;&gt;\n\n                            &lt;com.google.android.material.button.MaterialButton\n                                android:id=&quot;@+id/btThirdG&quot;\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:layout_marginEnd=&quot;8dp&quot;\n                                android:textColor=&quot;#FFFFFF&quot;\n                                android:text=&quot;دخول&quot;\n                                style=&quot;?attr/borderlessButtonStyle&quot;/&gt;\n\n                        &lt;/LinearLayout&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/com.google.android.material.card.MaterialCardView&gt;\n                \n                &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/ScrollView&gt;\n\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<p>And this is the Java code of this .xml file:</p>\n<pre><code>package com.wainan.fio;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport com.google.android.material.button.MaterialButton;\nimport com.google.android.material.card.MaterialCardView;\n\npublic class GroupChoose extends AppCompatActivity {\n    \n    MaterialButton btF, btS, btT;\n    MaterialCardView first, second, third;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.choose_group);\n        \n        Toolbar toolbar=(Toolbar)findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        getSupportActionBar().hide();\n        \n        btF = findViewById(R.id.btFirstG);\n        btS = findViewById(R.id.btSecondG);\n        btT = findViewById(R.id.btThirdG);\n        first = findViewById(R.id.firstGroup);\n        second = findViewById(R.id.secondGroup);\n        third = findViewById(R.id.thirdGroup);\n        \n        btF.setOnClickListener(new OnClickListener(){\n\n                @Override\n                public void onClick(View p1) {\n                    LaunchNext(0);\n                }\n            });\n\n        btS.setOnClickListener(new OnClickListener(){\n\n                @Override\n                public void onClick(View p1) {\n                    LaunchNext(1);\n                }\n            });\n\n        btT.setOnClickListener(new OnClickListener(){\n\n                @Override\n                public void onClick(View p1) {\n                    startActivity(new Intent(GroupChoose.this, CustomObjects.class));\n                }\n            });\n\n    }\n\n    @Override\n    public void onBackPressed() {\n\n        finishAffinity();\n\n    }\n\n    void LaunchNext(int groupNum)\n    {\n        Intent i = new Intent(this, PlayersAdd.class);\n        i.putExtra(&quot;chosenOne&quot;, groupNum);\n\n        startActivity(i);\n    }\n\n}\n</code></pre>\n<p>This is the code of Questioning Page:</p>\n<pre><code>package com.wainan.fio;\n\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.TextView;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport com.google.android.material.button.MaterialButton;\nimport java.util.ArrayList;\nimport java.util.Random;\n\npublic class PlayingRoom extends AppCompatActivity {\n    \n    TextView tv1, tv2;\n    \n    MaterialButton bt1, bt2, bt3;\n    \n    int chosenGroup = 0;\n    ArrayList players = new ArrayList();\n    ArrayList quesPlayers = new ArrayList();\n    ArrayList groupObjects = new ArrayList();\n    ArrayList ansPlayers = new ArrayList();\n\n    ArrayList fGroup = new ArrayList();\n    ArrayList sGroup = new ArrayList();\n    ArrayList cGroup = new ArrayList();\n\n    Random random = new Random();\n\n    int ranChosenPlayer = 0;\n    int ranChosQues = 0;\n    int ranChosenAns = 0;\n    String ranChosenObj = &quot;&quot;;\n    String ranChosenOutOne = &quot;&quot;;\n    int checkOutery = 0;\n\n    ArrayList playersList = new ArrayList();\n    ArrayList chI = new ArrayList();\n\n    String chosenOutOne = &quot;&quot;;\n    String chosenObject = &quot;&quot;;\n    \n    int firstTime = 0;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.room_playing);\n        \n        Toolbar toolbar=(Toolbar)findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        getSupportActionBar().hide();\n        \n        tv1 = findViewById(R.id.tvPN);\n        tv2 = findViewById(R.id.tvPD);\n        bt1 = findViewById(R.id.optionF);\n        bt2 = findViewById(R.id.optionS);\n        bt3 = findViewById(R.id.optionT);\n        \n        bt2.setVisibility(View.INVISIBLE);\n        \n        bt3.setVisibility(View.INVISIBLE);\n\n        FillFGroup();\n        FillSGroup();\n        FillCGroup();\n\n        chosenGroup = getIntent().getIntExtra(&quot;ChosenGroup&quot;, 0);\n        players = getIntent().getStringArrayListExtra(&quot;PlayersList&quot;);\n\n\n        quesPlayers = getIntent().getStringArrayListExtra(&quot;newList&quot;);\n        ansPlayers = getIntent().getStringArrayListExtra(&quot;newList&quot;);\n\n        chI = getIntent().getStringArrayListExtra(&quot;cI&quot;);\n\n        quesPlayers.addAll(quesPlayers);\n        ansPlayers.addAll(ansPlayers);\n\n        cGroup = getIntent().getStringArrayListExtra(&quot;custObj&quot;);\n\n        if (chosenGroup == 0)\n        {\n            groupObjects = fGroup;\n\n            ChooseRandomObject();\n            ChooseRandomOutOne();\n\n            tv1.setText(&quot;قسم شخصيات العائلة&quot;);\n            tv2.setText(&quot;اضغط التالي لبدء فقرات اللعبة.&quot;);\n\n        }else if (chosenGroup == 1)\n        {\n            groupObjects = sGroup;\n\n            ChooseRandomObject();\n            ChooseRandomOutOne();\n\n            tv1.setText(&quot;قسم البيوت حقنا&quot;);\n            tv2.setText(&quot;اضغط التالي لبدء فقرات اللعبة.&quot;);\n            \n        }else\n        {\n            groupObjects = cGroup;\n\n            ChooseRandomObject();\n            ChooseRandomOutOne();\n\n            tv1.setText(&quot;قسم عناصر جديدة&quot;);\n            tv2.setText(&quot;اضغط التالي لبدء فقرات اللعبة.&quot;);\n        }\n\n        playersList = getIntent().getStringArrayListExtra(&quot;fCh&quot;);\n\n        chosenOutOne = ranChosenOutOne;\n        chosenObject = ranChosenObj;\n\n        bt1.setOnClickListener(new OnClickListener(){\n\n                @Override\n                public void onClick(View p1) {\n                    \n                    if (firstTime == 0)\n                    {\n                        bt2.setVisibility(View.VISIBLE);\n                        firstTime = 1;\n                    }\n\n                    try\n                    {\n\n                        RandomGen();\n\n                        tv1.setText(&quot;الجوال ل&quot; + players.get(ranChosenPlayer));\n                        tv2.setText(&quot;اضغط على عرض السالفة لكي تعرف ما إن كنت في أو برا السالفة ثم اضغط على التالي.&quot;);\n\n                        players.remove(ranChosenPlayer);\n\n                    }\n                    catch (Exception e)\n                    {\n\n                        try\n                        {\n                            NRandomGen();\n                            AnsRanChos();\n\n                            if (tv1.getText().toString().contains(quesPlayers.get(ranChosQues).toString()) &amp;&amp; tv1.getText().toString().contains(ansPlayers.get(ranChosenAns).toString()))\n                            {\n\n                                quesPlayers.remove(ranChosQues);\n\n                                bt1.performClick();\n\n                                return;\n                            }\n\n                            if (quesPlayers.get(ranChosQues).toString().contains(ansPlayers.get(ranChosenAns).toString()) &amp;&amp; quesPlayers.size() &lt;= 2)\n                            {\n\n                                NextSection();\n\n                                return;\n                            }\n\n                            if (quesPlayers.get(ranChosQues).toString().contains(ansPlayers.get(ranChosenAns).toString()))\n                            {\n\n                                bt1.performClick();\n\n                                return;\n                            }\n\n                            tv1.setText(quesPlayers.get(ranChosQues) + &quot; يسأل &quot; + ansPlayers.get(ranChosenAns));\n                            tv2.setText(&quot;بعد الانتهاء اضغط على التالي.&quot;);\n\n                            quesPlayers.remove(ranChosQues);\n\n                            bt2.setVisibility(View.INVISIBLE);\n                        }\n                        catch (Exception ex)\n                        {\n                            bt1.setVisibility(View.INVISIBLE);\n\n                            tv1.setText(&quot;كل شخص يمكن له أن يسأل أي شخص سؤال واحد. &quot;);\n\n                            bt2.setVisibility(View.INVISIBLE);\n\n                            tv2.setText(&quot;بعد الانتهاء اضغط على تصويت للانتقال إلى صفحة التصويت.&quot;);\n\n                            bt3.setVisibility(View.VISIBLE);\n                        }\n\n                    }\n                }\n            });\n\n        bt2.setOnClickListener(new OnClickListener(){\n\n                @Override\n                public void onClick(View p1) {\n\n                    if (tv1.getText().toString().contains(&quot;قسم&quot;)) return;\n\n                    if (tv1.getText().toString().contains(ranChosenOutOne))\n                    {\n                        AlertDialog.Builder b = new AlertDialog.Builder(PlayingRoom.this);\n                        \n                        b.setView(R.layout.out_explain);\n                        b.setNeutralButton(&quot;طيب&quot;, new DialogInterface.OnClickListener(){\n\n                                @Override\n                                public void onClick(DialogInterface p1, int p2) {\n                                }\n                            });\n                        \n                        b.show();\n                        \n                        return;\n                    }\n\n                    AlertDialog.Builder b = new AlertDialog.Builder(PlayingRoom.this);\n\n                    b.setTitle(&quot;السالفة هي: &quot;+ ranChosenObj);\n                    b.setView(R.layout.in_explain);\n                    b.setNeutralButton(&quot;طيب&quot;, new DialogInterface.OnClickListener(){\n\n                            @Override\n                            public void onClick(DialogInterface p1, int p2) {\n                            }\n                        });\n\n                    b.show();\n\n                }\n            });\n\n        bt3.setOnClickListener(new OnClickListener(){\n\n                @Override\n                public void onClick(View p1) {\n\n                    Intent i = new Intent(PlayingRoom.this, ChooseOutone.class);\n\n                    i.putExtra(&quot;playersAll&quot;, playersList);\n                    i.putExtra(&quot;outone&quot;, chosenOutOne);\n                    i.putExtra(&quot;object&quot;, chosenObject);\n                    i.putExtra(&quot;checkI&quot;, chI);\n                    i.putExtra(&quot;chosenGroup&quot;, chosenGroup);\n                    i.putExtra(&quot;cGroup&quot;, cGroup);\n\n                    startActivity(i);\n\n                }\n            });\n\n    }\n\n    void FillFGroup()\n    {\n        fGroup.add(&quot;عبد الإله محمد&quot;);\n        fGroup.add(&quot;علي محمد&quot;);\n        fGroup.add(&quot;علي يحيى&quot;);\n        fGroup.add(&quot;محمد علي&quot;);\n        fGroup.add(&quot;مريم علي&quot;);\n        fGroup.add(&quot;محمد يحيى&quot;);\n        fGroup.add(&quot;علي نور الدين&quot;);\n        fGroup.add(&quot;رسيل نور الدين&quot;);\n        fGroup.add(&quot;أحمد علي&quot;);\n        fGroup.add(&quot;تقية صالح&quot;);\n        fGroup.add(&quot;عبد الملك صالح&quot;);\n        fGroup.add(&quot;نور الدين صالح&quot;);\n        fGroup.add(&quot;محمد صالح&quot;);\n        fGroup.add(&quot;يحيى علي&quot;);\n        fGroup.add(&quot;يوسف يحيى&quot;);\n        fGroup.add(&quot;إشراق محمد&quot;);\n        fGroup.add(&quot;منى محمد&quot;);\n        fGroup.add(&quot;فاطمة علي&quot;);\n        fGroup.add(&quot;ترتيل علي&quot;);\n        fGroup.add(&quot;جميلة&quot;);\n        fGroup.add(&quot;جدة تقية&quot;);\n        fGroup.add(&quot;فاطمة -- عبد الملك&quot;);\n        fGroup.add(&quot;مريم -- نور الدين&quot;);\n        fGroup.add(&quot;صالح علي&quot;);\n        fGroup.add(&quot;فاطمة&quot;);\n        fGroup.add(&quot;ندى يحيى&quot;);\n        fGroup.add(&quot;سارا يحيى&quot;);\n        fGroup.add(&quot;بدور يحيى&quot;);\n        fGroup.add(&quot;حنان يحيى&quot;);\n        fGroup.add(&quot;أسيل نور الدين&quot;);\n        fGroup.add(&quot;شروق علي&quot;);\n        fGroup.add(&quot;علي حسين&quot;);\n        fGroup.add(&quot;شرف الدين محمد&quot;);\n        fGroup.add(&quot;خالد محمد&quot;);\n        fGroup.add(&quot;عز الدين محمد&quot;);\n    }\n\n    void FillSGroup()\n    {\n        sGroup.add(&quot;اللي في البلاد&quot;);\n        sGroup.add(&quot;ضوران -- علي&quot;);\n        sGroup.add(&quot;ضوران -- محمد&quot;);\n        sGroup.add(&quot;صنعاء -- شرف الدين&quot;);\n        sGroup.add(&quot;صنعاء -- صالح&quot;);\n        sGroup.add(&quot;صنعاء -- يحيى&quot;);\n    }\n\n    void FillCGroup()\n    {\n\n    }\n\n    void RandomGen()\n    {\n        ranChosenPlayer = random.nextInt(players.size());\n    }\n\n    void NRandomGen()\n    {\n        ranChosQues = random.nextInt(Math.abs(quesPlayers.size()));\n    }\n\n    void AnsRanChos()\n    {\n        ranChosenAns = random.nextInt(Math.abs(ansPlayers.size()));\n    }\n\n    void ChooseRandomObject(){\n\n        ranChosenObj = groupObjects.get(random.nextInt(groupObjects.size())).toString();\n\n    }\n\n    void ChooseRandomOutOne()\n    {\n        ranChosenOutOne = players.get(random.nextInt(players.size())).toString();\n    }\n\n    void NextSection()\n    {\n        bt1.setVisibility(View.INVISIBLE);\n\n        tv1.setText(&quot;كل شخص يمكن له أن يسأل أي شخص سؤال واحد. &quot;);\n\n        bt2.setVisibility(View.INVISIBLE);\n\n        tv2.setText(&quot;بعد الانتهاء اضغط على تصويت للانتقال إلى صفحة التصويت.&quot;);\n\n        bt3.setVisibility(View.VISIBLE);\n    }\n\n    @Override\n    public void onBackPressed() {\n\n        \n\n    }\n    \n}\n</code></pre>\n<p>And this is it's.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:gravity=&quot;center&quot;\n    android:padding=&quot;10dp&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;/&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;com.google.android.material.card.MaterialCardView\n        android:id=&quot;@+id/detailsCard&quot;\n        android:clickable=&quot;true&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;8dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;194dp&quot;\n                android:contentDescription=&quot;It's Just The Logo Of The App&quot;\n                android:scaleType=&quot;fitCenter&quot;\n                android:src=&quot;@drawable/details_icon&quot;/&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;\n                android:padding=&quot;16dp&quot;&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/tvPN&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;هنا يعرض اسم اللاعب&quot;\n                    android:textSize=&quot;14dp&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceHeadline6&quot;/&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/tvPD&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;8dp&quot;\n                    android:text=&quot;هنا تعرض التعليمات&quot;\n                    android:textSize=&quot;9dp&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;?android:attr/textColorSecondary&quot;/&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;8dp&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n\n                &lt;com.google.android.material.button.MaterialButton\n                    android:id=&quot;@+id/optionF&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textColor=&quot;#FFFFFF&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:text=&quot;التالي&quot;\n                    style=&quot;?attr/borderlessButtonStyle&quot;/&gt;\n\n                &lt;com.google.android.material.button.MaterialButton\n                    android:id=&quot;@+id/optionS&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginLeft=&quot;5dp&quot;\n                    android:textColor=&quot;#FFFFFF&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:text=&quot;عرض السالفة&quot;\n                    style=&quot;?attr/borderlessButtonStyle&quot;/&gt;\n\n                &lt;com.google.android.material.button.MaterialButton\n                    android:id=&quot;@+id/optionT&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textColor=&quot;#FFFFFF&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:text=&quot;تصويت&quot;\n                    style=&quot;?attr/borderlessButtonStyle&quot;/&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\n\n&lt;/LinearLayout&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot","integration-testing"],"comments":[{"owner":{"account_id":195331,"reputation":275368,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1701976662,"post_id":77622515,"comment_id":136844462,"body_markdown":"Where do you expect the `ObjectMapper` bean to come from?","body":"Where do you expect the <code>ObjectMapper</code> bean to come from?"}],"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701976297,"creation_date":1701975472,"question_id":77622515,"body_markdown":"Getting this error on this class everytime I&#39;m trying to run any test case in my application, java springboot\r\n\r\nError\r\n```\r\nConsider defining a bean of type &#39;com.fasterxml.jackson.databind.ObjectMapper&#39; in your configuration.\r\n```\r\n\r\nService class\r\n```\r\n@Service\r\n@Slf4j\r\npublic class PatientServiceImpl implements PatientService {\r\n\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n    private final IasPatientRepo iasPatientMapRepository;\r\n    private final PatientInsuranceRepo patientInsuranceMapRepo;\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Autowired\r\n    public PatientDetailServiceImpl(\r\n            IasPatientRepo iasPatientMapRepository,\r\n            PatientInsuranceRepo patientInsuranceMapRepo,\r\n            ObjectMapper objectMapper) {\r\n        this.iasPatientMapRepository = iasPatientMapRepository;\r\n        this.patientInsuranceMapRepo = patientInsuranceMapRepo;\r\n        this.objectMapper = objectMapper;\r\n    }\r\n    public IasPatient getDetailsl(){....}\r\n\r\n}\r\n\r\n```","title":"Consider defining a bean of type &#39;com.fasterxml.jackson.databind.ObjectMapper&#39; in your configuration","body":"<p>Getting this error on this class everytime I'm trying to run any test case in my application, java springboot</p>\n<p>Error</p>\n<pre><code>Consider defining a bean of type 'com.fasterxml.jackson.databind.ObjectMapper' in your configuration.\n</code></pre>\n<p>Service class</p>\n<pre><code>@Service\n@Slf4j\npublic class PatientServiceImpl implements PatientService {\n\n\n    @Autowired\n    private ObjectMapper objectMapper;\n    private final IasPatientRepo iasPatientMapRepository;\n    private final PatientInsuranceRepo patientInsuranceMapRepo;\n    private final ObjectMapper objectMapper;\n\n    @Autowired\n    public PatientDetailServiceImpl(\n            IasPatientRepo iasPatientMapRepository,\n            PatientInsuranceRepo patientInsuranceMapRepo,\n            ObjectMapper objectMapper) {\n        this.iasPatientMapRepository = iasPatientMapRepository;\n        this.patientInsuranceMapRepo = patientInsuranceMapRepo;\n        this.objectMapper = objectMapper;\n    }\n    public IasPatient getDetailsl(){....}\n\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","upgrade"],"comments":[{"owner":{"account_id":277253,"reputation":1066,"user_id":571143,"accept_rate":71,"display_name":"kajman"},"score":2,"creation_date":1649082935,"post_id":71604411,"comment_id":126779959,"body_markdown":"Thanks for the observation, we ran into the same issue. Weird that this seems to not be documented anywhere (or I couldn&#39;t find it)","body":"Thanks for the observation, we ran into the same issue. Weird that this seems to not be documented anywhere (or I couldn&#39;t find it)"},{"owner":{"account_id":266915,"reputation":2035,"user_id":554760,"display_name":"Magnus"},"score":0,"creation_date":1698175068,"post_id":71604411,"comment_id":136371198,"body_markdown":"Please post your pom.xml as this clearly a dependency problem","body":"Please post your pom.xml as this clearly a dependency problem"},{"owner":{"account_id":336191,"reputation":1069,"user_id":1458562,"display_name":"Patrice Blanchardie"},"score":0,"creation_date":1698655417,"post_id":71604411,"comment_id":136428051,"body_markdown":"Which database are you using in failing test?","body":"Which database are you using in failing test?"}],"owner":{"account_id":8132334,"reputation":131,"user_id":6125177,"display_name":"Yashwanth B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2699,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":0,"score":13,"last_activity_date":1701975764,"creation_date":1648132482,"question_id":71604411,"body_markdown":"After upgrading from springboot 2.3.9 to 2.6.6 I have a failing tests with the following error,\r\n\r\n```\r\njava.lang.AssertionError: \r\nExpecting:\r\n &lt;Unstarted application context org.springframework.boot.test.context.assertj.AssertableApplicationContext[startupFailure=org.springframework.beans.factory.UnsatisfiedDependencyException]&gt;\r\nto have a single bean of type:\r\n &lt;com.air.dx.range.application.RangeApplicationService&gt;:\r\nbut context failed to start:\r\n org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;IRoRangeRepository&#39;: Unsatisfied dependency expressed through method &#39;setDialect&#39; parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.data.relational.core.dialect.Dialect&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n \t\r\n```\r\n\r\n\r\nOne observation after upgrading,\r\n\r\nThe class **ConfigFileApplicationContextInitializer** from spring-boot-test jar is modified to **ConfigDataApplicationContextInitializer**.","title":"Running into an error after upgrading springboot from 2.3.9 to 2.6.3","body":"<p>After upgrading from springboot 2.3.9 to 2.6.6 I have a failing tests with the following error,</p>\n<pre><code>java.lang.AssertionError: \nExpecting:\n &lt;Unstarted application context org.springframework.boot.test.context.assertj.AssertableApplicationContext[startupFailure=org.springframework.beans.factory.UnsatisfiedDependencyException]&gt;\nto have a single bean of type:\n &lt;com.air.dx.range.application.RangeApplicationService&gt;:\nbut context failed to start:\n org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'IRoRangeRepository': Unsatisfied dependency expressed through method 'setDialect' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.relational.core.dialect.Dialect' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    \n</code></pre>\n<p>One observation after upgrading,</p>\n<p>The class <strong>ConfigFileApplicationContextInitializer</strong> from spring-boot-test jar is modified to <strong>ConfigDataApplicationContextInitializer</strong>.</p>\n"},{"tags":["java","android","zxing","tcpserver","android-ide"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1701975564,"post_id":77622493,"comment_id":136844309,"body_markdown":"Indeed. You cannot use Toast&#39;s in doInBackground. Better do it in onPostExecute.","body":"Indeed. You cannot use Toast&#39;s in doInBackground. Better do it in onPostExecute."},{"owner":{"account_id":14236225,"reputation":11,"user_id":22237030,"display_name":"CrazyProgrammer"},"score":0,"creation_date":1701976141,"post_id":77622493,"comment_id":136844399,"body_markdown":"But I cant send on pc TCP Server app is shutdown after scanning and showing barcode data","body":"But I cant send on pc TCP Server app is shutdown after scanning and showing barcode data"}],"owner":{"account_id":14236225,"reputation":11,"user_id":22237030,"display_name":"CrazyProgrammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701975278,"creation_date":1701975278,"question_id":77622493,"body_markdown":"```\r\nprivate ActivityResultLauncher&lt;ScanOptions&gt; barcodeLauncher = registerForActivityResult(new ScanContract(),result -&gt; {\r\n        try {\r\n            if (result.getContents() != null) {\r\n                String data=result.getContents();\r\n                (new BarcodeSender(getApplicationContext(),String.valueOf(HOST_ADDR.getText()),3946)).execute(data);\r\n            }\r\n        }catch (Exception ex){\r\n            Toast.makeText(getApplicationContext(),&quot;BARCODE &quot;+ex.toString(),Toast.LENGTH_LONG).show();}\r\n            statusText.setTextColor(Color.rgb(255,0,0));\r\n    });\r\n```\r\nI use ZXing package with Android/Java in Android Studio. I can read barcode data but cant send TCP Server.\r\n\r\n\r\n\r\n\r\nBarcodeSender.java\r\n\r\n```\r\npublic class BarcodeSender extends AsyncTask&lt;String, Void, Void&gt; {\r\n    Socket socket;\r\n    PrintWriter printWriter;\r\n    String adr;\r\n    int port;\r\n    Context context;\r\n    public BarcodeSender(Context context, String Adress, int PORT) {\r\n        this.adr = Adress;\r\n        this.port = PORT;\r\n        this.context=context;\r\n        Toast.makeText(this.context, adr+&quot;:&quot;+port, Toast.LENGTH_SHORT).show();\r\n    }\r\n    @Override\r\n    protected Void doInBackground(String... voids) {\r\n        String mess = voids[0];\r\n        try {\r\n            Toast.makeText(this.context, mess, Toast.LENGTH_SHORT).show();\r\n            Toast.makeText(this.context, this.adr+&quot;:&quot;+this.port, Toast.LENGTH_SHORT).show();\r\n            Socket socket = new Socket(this.adr,this.port);\r\n            DataOutputStream DOS = new DataOutputStream(socket.getOutputStream());\r\n            DOS.writeUTF(mess);\r\n            socket.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (Exception exs) {\r\n                Toast.makeText(this.context,&quot;MSG_SENDER &quot;+exs.toString(),Toast.LENGTH_LONG).show();\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\nToast messages cant showing because my app is shutdown.","title":"I cannot send the mobile barcode reader to the computer with TCP Server","body":"<pre><code>private ActivityResultLauncher&lt;ScanOptions&gt; barcodeLauncher = registerForActivityResult(new ScanContract(),result -&gt; {\n        try {\n            if (result.getContents() != null) {\n                String data=result.getContents();\n                (new BarcodeSender(getApplicationContext(),String.valueOf(HOST_ADDR.getText()),3946)).execute(data);\n            }\n        }catch (Exception ex){\n            Toast.makeText(getApplicationContext(),&quot;BARCODE &quot;+ex.toString(),Toast.LENGTH_LONG).show();}\n            statusText.setTextColor(Color.rgb(255,0,0));\n    });\n</code></pre>\n<p>I use ZXing package with Android/Java in Android Studio. I can read barcode data but cant send TCP Server.</p>\n<p>BarcodeSender.java</p>\n<pre><code>public class BarcodeSender extends AsyncTask&lt;String, Void, Void&gt; {\n    Socket socket;\n    PrintWriter printWriter;\n    String adr;\n    int port;\n    Context context;\n    public BarcodeSender(Context context, String Adress, int PORT) {\n        this.adr = Adress;\n        this.port = PORT;\n        this.context=context;\n        Toast.makeText(this.context, adr+&quot;:&quot;+port, Toast.LENGTH_SHORT).show();\n    }\n    @Override\n    protected Void doInBackground(String... voids) {\n        String mess = voids[0];\n        try {\n            Toast.makeText(this.context, mess, Toast.LENGTH_SHORT).show();\n            Toast.makeText(this.context, this.adr+&quot;:&quot;+this.port, Toast.LENGTH_SHORT).show();\n            Socket socket = new Socket(this.adr,this.port);\n            DataOutputStream DOS = new DataOutputStream(socket.getOutputStream());\n            DOS.writeUTF(mess);\n            socket.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (Exception exs) {\n                Toast.makeText(this.context,&quot;MSG_SENDER &quot;+exs.toString(),Toast.LENGTH_LONG).show();\n        }\n\n        return null;\n    }\n\n}\n</code></pre>\n<p>Toast messages cant showing because my app is shutdown.</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":2,"creation_date":1655317126,"post_id":72636069,"comment_id":128306442,"body_markdown":"You are sorting `arr` but it doesn&#39;t have any values in it. Either sort and use `a` or copy the values of `a` into `arr`.","body":"You are sorting <code>arr</code> but it doesn&#39;t have any values in it. Either sort and use <code>a</code> or copy the values of <code>a</code> into <code>arr</code>."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1655317428,"post_id":72636069,"comment_id":128306557,"body_markdown":"Also, you algorithm won&#39;t work for an array like `{1,2,5,3,5}` because of the duplicate fives.","body":"Also, you algorithm won&#39;t work for an array like <code>{1,2,5,3,5}</code> because of the duplicate fives."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1655326781,"post_id":72636069,"comment_id":128309562,"body_markdown":"Note: any of the methods that involve sorting will be at least O(n log n); yours is O(n^2). But you can find the second highest number in an array in linear time.","body":"Note: any of the methods that involve sorting will be at least O(n log n); yours is O(n^2). But you can find the second highest number in an array in linear time."}],"answers":[{"tags":[],"owner":{"account_id":25206642,"reputation":16,"user_id":19044888,"display_name":"joeking"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655333549,"creation_date":1655317741,"answer_id":72636237,"question_id":72636069,"body_markdown":"You could change the array parameter name arr and remove the declaration or copy the values from a to arr.\r\n\r\n\r\n    public static int second(int arr[],int n) {\r\n        int temp;\r\n        for(int i=0;i&lt;n;i++) {\r\n            for(int j=i+1;j&lt;n;j++) {\r\n                if(arr[i] &gt; arr[j]) {\r\n                    temp = arr[i];\r\n                    arr[i] = arr[j];\r\n                    arr[j] = temp;\r\n                }\r\n            }\r\n        }\r\n        return arr[n-2];\r\n    }\r\n\r\nThe reason you get zero is because the primitive int cannot be null. So, when you create the array of length 5, it starts out filled with zeroes. ","title":"Method to find second highest number in an array in java","body":"<p>You could change the array parameter name arr and remove the declaration or copy the values from a to arr.</p>\n<pre><code>public static int second(int arr[],int n) {\n    int temp;\n    for(int i=0;i&lt;n;i++) {\n        for(int j=i+1;j&lt;n;j++) {\n            if(arr[i] &gt; arr[j]) {\n                temp = arr[i];\n                arr[i] = arr[j];\n                arr[j] = temp;\n            }\n        }\n    }\n    return arr[n-2];\n}\n</code></pre>\n<p>The reason you get zero is because the primitive int cannot be null. So, when you create the array of length 5, it starts out filled with zeroes.</p>\n"},{"tags":[],"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655318822,"creation_date":1655318822,"answer_id":72636431,"question_id":72636069,"body_markdown":"Doing it by using streams:\r\n\r\n    public static int second(int a[]) {\r\n        return Arrays.stream(a)\r\n                .sorted()\r\n                .skip(a.length - 2)\r\n                .findFirst()\r\n                .getAsInt();\r\n    }\r\n\r\nI removed the second argument. It sorts your array and skips all the elements prior to the one you want, before picking the now first element.","title":"Method to find second highest number in an array in java","body":"<p>Doing it by using streams:</p>\n<pre><code>public static int second(int a[]) {\n    return Arrays.stream(a)\n            .sorted()\n            .skip(a.length - 2)\n            .findFirst()\n            .getAsInt();\n}\n</code></pre>\n<p>I removed the second argument. It sorts your array and skips all the elements prior to the one you want, before picking the now first element.</p>\n"},{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655328723,"creation_date":1655328723,"answer_id":72638066,"question_id":72636069,"body_markdown":"    public static int second(int[] arr) {\r\n        int highest = arr[0];\r\n        int second = 0;\r\n        for (int i = 1; i &lt; arr.length; i++) {\r\n            int j = arr[i];\r\n            if (j &gt;= highest) {\r\n                highest = j;\r\n            } else if (j &gt; second) {\r\n                second = j;\r\n            }\r\n        }\r\n        return second;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        int[] arr = {1, 3, 2, 5, 3};\r\n        int result = second(arr);\r\n        System.out.println(result);\r\n    }","title":"Method to find second highest number in an array in java","body":"<pre><code>public static int second(int[] arr) {\n    int highest = arr[0];\n    int second = 0;\n    for (int i = 1; i &lt; arr.length; i++) {\n        int j = arr[i];\n        if (j &gt;= highest) {\n            highest = j;\n        } else if (j &gt; second) {\n            second = j;\n        }\n    }\n    return second;\n}\n\npublic static void main(String[] args) {\n    int[] arr = {1, 3, 2, 5, 3};\n    int result = second(arr);\n    System.out.println(result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655333414,"creation_date":1655333012,"answer_id":72638619,"question_id":72636069,"body_markdown":"Here is one way that doesn&#39;t require sorting.\r\n```\r\nint[] arr = { 10, 2, 3, 19, 2, 3, 5 };\r\nSystem.out.println(second(arr));\r\n```\r\nprints\r\n```\r\n10\r\n```\r\n- set `largest` to the first value in the array\r\n- set `secondLargest` to the smallest possible\r\n- now iterate thru the array.\r\n- if the current value is greater than largest:\r\n   - replace secondLargest with Largest\r\n   - replace largest with current value\r\n- else check to see if current value is greater than secondLargest and assign if true.\r\n```\r\npublic static int second(int arr[]) {\r\n\tint largest = arr[0];\r\n\tint secondLargest = Integer.MIN_VALUE;\r\n\tfor (int i = 1; i &lt; arr.length; i++) {\r\n\t\tif (arr[i] &gt; largest) {\r\n\t\t\tsecondLargest = largest;\r\n\t\t\tlargest = arr[i];\r\n\t\t} else if (arr[i] &gt; secondLargest) {\r\n\t\t\tsecondLargest = arr[i];\r\n\t\t}\r\n\t}\r\n\treturn secondLargest;\r\n}","title":"Method to find second highest number in an array in java","body":"<p>Here is one way that doesn't require sorting.</p>\n<pre><code>int[] arr = { 10, 2, 3, 19, 2, 3, 5 };\nSystem.out.println(second(arr));\n</code></pre>\n<p>prints</p>\n<pre><code>10\n</code></pre>\n<ul>\n<li>set <code>largest</code> to the first value in the array</li>\n<li>set <code>secondLargest</code> to the smallest possible</li>\n<li>now iterate thru the array.</li>\n<li>if the current value is greater than largest:\n<ul>\n<li>replace secondLargest with Largest</li>\n<li>replace largest with current value</li>\n</ul>\n</li>\n<li>else check to see if current value is greater than secondLargest and assign if true.</li>\n</ul>\n<pre><code>public static int second(int arr[]) {\n    int largest = arr[0];\n    int secondLargest = Integer.MIN_VALUE;\n    for (int i = 1; i &lt; arr.length; i++) {\n        if (arr[i] &gt; largest) {\n            secondLargest = largest;\n            largest = arr[i];\n        } else if (arr[i] &gt; secondLargest) {\n            secondLargest = arr[i];\n        }\n    }\n    return secondLargest;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24395089,"reputation":29,"user_id":18324544,"display_name":"Nuva_rad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655556407,"creation_date":1655556407,"answer_id":72669361,"question_id":72636069,"body_markdown":"```\r\npublic static int second(int arr[],int n) {\r\n\tint temp;\r\n\tif(arr.length &lt; 2) {\r\n\t\treturn -1;\r\n\t}\r\n\telse {\r\n\tfor(int i=0;i&lt;n;i++) {\r\n\t\tfor(int j=i+1;j&lt;n;j++) {\r\n\t\t\tif(arr[i] &gt; arr[j]) {\r\n\t\t\t\ttemp = arr[i];\r\n\t\t\t\tarr[i] = arr[j];\r\n\t\t\t\tarr[j] = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn arr[n-2];\r\n}","title":"Method to find second highest number in an array in java","body":"<pre><code>public static int second(int arr[],int n) {\n    int temp;\n    if(arr.length &lt; 2) {\n        return -1;\n    }\n    else {\n    for(int i=0;i&lt;n;i++) {\n        for(int j=i+1;j&lt;n;j++) {\n            if(arr[i] &gt; arr[j]) {\n                temp = arr[i];\n                arr[i] = arr[j];\n                arr[j] = temp;\n            }\n        }\n    }\n    return arr[n-2];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25860923,"reputation":1,"user_id":19593429,"display_name":"jeeva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658397410,"creation_date":1658397410,"answer_id":73064136,"question_id":72636069,"body_markdown":"\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint a[] = {23,14,56,77,66,67};\r\n\t\tint high = 0;\r\n\t\tint sec = 0;\r\n\t\tfor(int i = 0 ; i &lt;a.length; i++){\r\n\t\t\tif(high &lt; a[i]){\r\n\t\t\t\tsec = high;\r\n\t\t\t\thigh = a[i];\r\n\t\t\t}\r\n\t\t\telse if(sec &lt; a[i]){\r\n\t\t\t\tsec = a[i];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tSystem.out.println(&quot;the first highest number is &quot; + high);\r\n\t\tSystem.out.println(&quot;the second highest number is &quot; + sec);\r\n\t}\r\n\r\n}","title":"Method to find second highest number in an array in java","body":"<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    int a[] = {23,14,56,77,66,67};\n    int high = 0;\n    int sec = 0;\n    for(int i = 0 ; i &lt;a.length; i++){\n        if(high &lt; a[i]){\n            sec = high;\n            high = a[i];\n        }\n        else if(sec &lt; a[i]){\n            sec = a[i];\n        }\n        \n    }\n    System.out.println(&quot;the first highest number is &quot; + high);\n    System.out.println(&quot;the second highest number is &quot; + sec);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":25860923,"reputation":1,"user_id":19593429,"display_name":"jeeva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658402524,"creation_date":1658402524,"answer_id":73065296,"question_id":72636069,"body_markdown":"\tpublic static int sec(){\r\n\t\tint arr[] = {12,3,67,4,5,65};\r\n\t\tint high = 0;\r\n\t\tint low = 0;\r\n\t\tfor(int i = 0 ; i &lt; arr.length ; i ++){\r\n\t\t\t\r\n\t\t\tif(high &lt; arr[i]){\r\n\t\t\t\tlow = high;\r\n\t\t\t\thigh = arr[i];\r\n\t\t\t}\r\n\t\t\telse if(low &lt; arr[i]){\r\n\t\t\t\tlow = arr[i];\t\t\t\r\n\t\t\t\t}\r\n\t\t}\r\n\t\treturn low;\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tsch obj = new sch();\r\n\t\tint a = obj.sec();\r\n\t\t\r\n\t\tSystem.out.println(a);\r\n\t}\r\n\r\n}\r\n","title":"Method to find second highest number in an array in java","body":"<pre><code>public static int sec(){\n    int arr[] = {12,3,67,4,5,65};\n    int high = 0;\n    int low = 0;\n    for(int i = 0 ; i &lt; arr.length ; i ++){\n        \n        if(high &lt; arr[i]){\n            low = high;\n            high = arr[i];\n        }\n        else if(low &lt; arr[i]){\n            low = arr[i];           \n            }\n    }\n    return low;\n}\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n\n    sch obj = new sch();\n    int a = obj.sec();\n    \n    System.out.println(a);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":27392263,"reputation":1,"user_id":20895075,"display_name":"Raghubir Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672459090,"creation_date":1672415277,"answer_id":74963366,"question_id":72636069,"body_markdown":"package com;\r\npublic class FindSecondHighestNumberInArray {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint []arrayOfIngeger = {-23,-989,-878,-2,-5,-3,-4,-123,-345,-98,-675,-98};\r\n\t\tint highestNumber = arrayOfIngeger[0];\r\n\t\tint secHighestNumber = 0;\r\n\t\tfor(int i = 1; i &lt; arrayOfIngeger.length; i++  ) {\r\n\t\t\tif(highestNumber &lt; arrayOfIngeger[i]) {\t\t\t\t\r\n\t\t\t\tsecHighestNumber = highestNumber; \r\n\t\t\t\thighestNumber = arrayOfIngeger[i];\t\r\n\t\t\t}else if(secHighestNumber &lt; arrayOfIngeger[i] &amp;&amp; arrayOfIngeger[i] != highestNumber) {\r\n\t\t\t\tsecHighestNumber = arrayOfIngeger[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;second Highest Number in Array   :  &quot;+secHighestNumber);\r\n\t}\r\n\r\n}\r\n","title":"Method to find second highest number in an array in java","body":"<p>package com;\npublic class FindSecondHighestNumberInArray {</p>\n<pre><code>public static void main(String[] args) {\n    int []arrayOfIngeger = {-23,-989,-878,-2,-5,-3,-4,-123,-345,-98,-675,-98};\n    int highestNumber = arrayOfIngeger[0];\n    int secHighestNumber = 0;\n    for(int i = 1; i &lt; arrayOfIngeger.length; i++  ) {\n        if(highestNumber &lt; arrayOfIngeger[i]) {             \n            secHighestNumber = highestNumber; \n            highestNumber = arrayOfIngeger[i];  \n        }else if(secHighestNumber &lt; arrayOfIngeger[i] &amp;&amp; arrayOfIngeger[i] != highestNumber) {\n            secHighestNumber = arrayOfIngeger[i];\n        }\n    }\n    System.out.println(&quot;second Highest Number in Array   :  &quot;+secHighestNumber);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":15578562,"reputation":1,"user_id":11239047,"display_name":"Gyanesh Kamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701975056,"creation_date":1701975056,"answer_id":77622462,"question_id":72636069,"body_markdown":"  List&lt;Integer&gt; list=Arrays.asList(1,2,3,4,5);\r\n     \r\n     int secHighest=list.stream().sorted(Collections.reverseOrder()).distinct().skip(1).findFirst().get();\r\n     System.out.println(secHighest);","title":"Method to find second highest number in an array in java","body":"<p>List list=Arrays.asList(1,2,3,4,5);</p>\n<pre><code> int secHighest=list.stream().sorted(Collections.reverseOrder()).distinct().skip(1).findFirst().get();\n System.out.println(secHighest);\n</code></pre>\n"}],"owner":{"account_id":24395089,"reputation":29,"user_id":18324544,"display_name":"Nuva_rad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4783,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72636237,"answer_count":9,"score":1,"last_activity_date":1701975056,"creation_date":1655316895,"question_id":72636069,"body_markdown":"Getting output of 0 each time when im ment to get 3 looked over my code my not sure where i have gone wrong i can do it without using a method i know but just trying to practice java \r\n\r\n\r\n```\r\npublic class App {\r\n\t\r\n\tpublic static int second(int a[],int n) {\r\n\t\tint[] arr = new int [n];\r\n\t\tint temp;\r\n\t\tfor(int i=0;i&lt;n;i++) {\r\n\t\t\tfor(int j=i+1;j&lt;n;j++) {\r\n\t\t\t\tif(arr[i] &gt; arr[j]) {\r\n\t\t\t\t\ttemp = arr[i];\r\n\t\t\t\t\tarr[i] = arr[j];\r\n\t\t\t\t\tarr[j] = temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr[n-2];\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] arr = {1,3,2,5,3};\r\n\t\tint n = 5;\r\n\t\tint result = second(arr,n);\r\n\t\tSystem.out.println(result);\r\n\t}\r\n}\r\n```\r\n","title":"Method to find second highest number in an array in java","body":"<p>Getting output of 0 each time when im ment to get 3 looked over my code my not sure where i have gone wrong i can do it without using a method i know but just trying to practice java</p>\n<pre><code>public class App {\n    \n    public static int second(int a[],int n) {\n        int[] arr = new int [n];\n        int temp;\n        for(int i=0;i&lt;n;i++) {\n            for(int j=i+1;j&lt;n;j++) {\n                if(arr[i] &gt; arr[j]) {\n                    temp = arr[i];\n                    arr[i] = arr[j];\n                    arr[j] = temp;\n                }\n            }\n        }\n        return arr[n-2];\n    }\n\n    public static void main(String[] args) {\n        int[] arr = {1,3,2,5,3};\n        int n = 5;\n        int result = second(arr,n);\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":["java","render","minecraft-forge"],"owner":{"account_id":18714379,"reputation":1,"user_id":23057946,"display_name":"NitaMicer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701974792,"creation_date":1701940838,"question_id":77618874,"body_markdown":"I want to render a default elytra model as a layer on the player, instead of manually positioning it like I did in here:\r\n\r\n\r\n```\r\n    public static void renderElytra(LivingEntity entity, float partialTicks, PoseStack poseStack, MultiBufferSource buffer, int packedLight) {\r\n        if (getPlayerWings()) {\r\n            Minecraft minecraft = Minecraft.getInstance();\r\n            ElytraModel&lt;LivingEntity&gt; elytraModel = (ElytraModel&lt;LivingEntity&gt;) getElytraModel();\r\n\r\n            minecraft.getTextureManager().bindForSetup(ELYTRA_TEXTURE);\r\n\r\n            poseStack.pushPose();\r\n\r\n            double bodyRotRadians = (double) Math.toRadians(entity.yBodyRot);\r\n\r\n            // Calculate the offset positions based on the player&#39;s rotation\r\n            // Adjust these values as needed to position the Elytra correctly on the player&#39;s back\r\n            double xOffset = 0.1 * Math.sin(bodyRotRadians);\r\n            double zOffset = -0.1 * Math.cos(bodyRotRadians);\r\n            double xFlyOffset = -3 * Math.sin(bodyRotRadians);\r\n            double zFlyOffset = 3 * Math.cos(bodyRotRadians);\r\n            boolean isFlying = entity.isFallFlying();\r\n            if (isFlying) {\r\n                poseStack.translate(xFlyOffset, -0.4, zFlyOffset);\r\n                poseStack.mulPose(Vector3f.YP.rotationDegrees(180F - entity.yBodyRot));\r\n                poseStack.mulPose(Vector3f.ZP.rotationDegrees(180F));\r\n                poseStack.mulPose(Vector3f.XP.rotationDegrees(90F - entity.getXRot()));\r\n            } else {\r\n                poseStack.translate(xOffset, 2.9, zOffset);\r\n                poseStack.mulPose(Vector3f.YP.rotationDegrees(180F - entity.yBodyRot));\r\n                poseStack.mulPose(Vector3f.ZP.rotationDegrees(180F));\r\n            }\r\n            float scale = 1.93F; // Adjust if needed\r\n            poseStack.scale(scale, scale, scale);\r\n\r\n\r\n\r\n            elytraModel.setupAnim(entity, 0, 0, partialTicks, 0, 0);\r\n\r\n            elytraModel.renderToBuffer(poseStack, buffer.getBuffer(RenderType.entityCutoutNoCull(ELYTRA_TEXTURE)), packedLight, OverlayTexture.NO_OVERLAY, 1.0F, 1.0F, 1.0F, 1.0F);\r\n\r\n            poseStack.popPose();\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\n@Mod.EventBusSubscriber(value = Dist.CLIENT)\r\npublic class PlayerRendererHandler {\r\n\r\n    @SubscribeEvent\r\n    public static void onPlayerRender(RenderPlayerEvent.Post event) {\r\n        if (ClientWingsData.getPlayerWings()) {\r\n            ClientWingsData.renderElytra(event.getEntity(), event.getPartialTick(), event.getPoseStack(), event.getMultiBufferSource(), event.getPackedLight());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI managed to create an elytra layer:\r\n\r\n```\r\n\r\n@Mod.EventBusSubscriber(modid = EnderiteMod.MOD_ID, value = Dist.CLIENT)\r\npublic final class LayerRenderSubscriber {\r\n\r\n    @SubscribeEvent(priority = EventPriority.LOW)\r\n    public static void renderPlayer(final EntityRenderersEvent.AddLayers event) {\r\n        LivingEntityRenderer&lt;Player, PlayerModel&lt;Player&gt;&gt; renderer = event.getRenderer(EntityType.PLAYER);\r\n        ElytraLayer&lt;Player, PlayerModel&lt;Player&gt;&gt; layer = new ElytraLayer&lt;&gt;(renderer, event.getEntityModels());\r\n        renderer.addLayer(layer);\r\n    }\r\n```\r\n\r\n\r\nThe problem is that I did not manage to actually implement the layer and add it to the player model, I do not know how to replace the player model or how to add an extra layer to it. I tried a lot of methods but none of them added the model. the closest I got was the PlayerModel.createMesh method but I couldn&#39;t manage to get it working. I also found the .render method but couldn&#39;t figure it out either.","title":"Forge 1.19.2 How to add layer to the player&#39;s model?","body":"<p>I want to render a default elytra model as a layer on the player, instead of manually positioning it like I did in here:</p>\n<pre><code>    public static void renderElytra(LivingEntity entity, float partialTicks, PoseStack poseStack, MultiBufferSource buffer, int packedLight) {\n        if (getPlayerWings()) {\n            Minecraft minecraft = Minecraft.getInstance();\n            ElytraModel&lt;LivingEntity&gt; elytraModel = (ElytraModel&lt;LivingEntity&gt;) getElytraModel();\n\n            minecraft.getTextureManager().bindForSetup(ELYTRA_TEXTURE);\n\n            poseStack.pushPose();\n\n            double bodyRotRadians = (double) Math.toRadians(entity.yBodyRot);\n\n            // Calculate the offset positions based on the player's rotation\n            // Adjust these values as needed to position the Elytra correctly on the player's back\n            double xOffset = 0.1 * Math.sin(bodyRotRadians);\n            double zOffset = -0.1 * Math.cos(bodyRotRadians);\n            double xFlyOffset = -3 * Math.sin(bodyRotRadians);\n            double zFlyOffset = 3 * Math.cos(bodyRotRadians);\n            boolean isFlying = entity.isFallFlying();\n            if (isFlying) {\n                poseStack.translate(xFlyOffset, -0.4, zFlyOffset);\n                poseStack.mulPose(Vector3f.YP.rotationDegrees(180F - entity.yBodyRot));\n                poseStack.mulPose(Vector3f.ZP.rotationDegrees(180F));\n                poseStack.mulPose(Vector3f.XP.rotationDegrees(90F - entity.getXRot()));\n            } else {\n                poseStack.translate(xOffset, 2.9, zOffset);\n                poseStack.mulPose(Vector3f.YP.rotationDegrees(180F - entity.yBodyRot));\n                poseStack.mulPose(Vector3f.ZP.rotationDegrees(180F));\n            }\n            float scale = 1.93F; // Adjust if needed\n            poseStack.scale(scale, scale, scale);\n\n\n\n            elytraModel.setupAnim(entity, 0, 0, partialTicks, 0, 0);\n\n            elytraModel.renderToBuffer(poseStack, buffer.getBuffer(RenderType.entityCutoutNoCull(ELYTRA_TEXTURE)), packedLight, OverlayTexture.NO_OVERLAY, 1.0F, 1.0F, 1.0F, 1.0F);\n\n            poseStack.popPose();\n        }\n    }\n</code></pre>\n<pre><code>@Mod.EventBusSubscriber(value = Dist.CLIENT)\npublic class PlayerRendererHandler {\n\n    @SubscribeEvent\n    public static void onPlayerRender(RenderPlayerEvent.Post event) {\n        if (ClientWingsData.getPlayerWings()) {\n            ClientWingsData.renderElytra(event.getEntity(), event.getPartialTick(), event.getPoseStack(), event.getMultiBufferSource(), event.getPackedLight());\n        }\n    }\n}\n</code></pre>\n<p>I managed to create an elytra layer:</p>\n<pre><code>\n@Mod.EventBusSubscriber(modid = EnderiteMod.MOD_ID, value = Dist.CLIENT)\npublic final class LayerRenderSubscriber {\n\n    @SubscribeEvent(priority = EventPriority.LOW)\n    public static void renderPlayer(final EntityRenderersEvent.AddLayers event) {\n        LivingEntityRenderer&lt;Player, PlayerModel&lt;Player&gt;&gt; renderer = event.getRenderer(EntityType.PLAYER);\n        ElytraLayer&lt;Player, PlayerModel&lt;Player&gt;&gt; layer = new ElytraLayer&lt;&gt;(renderer, event.getEntityModels());\n        renderer.addLayer(layer);\n    }\n</code></pre>\n<p>The problem is that I did not manage to actually implement the layer and add it to the player model, I do not know how to replace the player model or how to add an extra layer to it. I tried a lot of methods but none of them added the model. the closest I got was the PlayerModel.createMesh method but I couldn't manage to get it working. I also found the .render method but couldn't figure it out either.</p>\n"},{"tags":["java","xml","dom"],"comments":[{"owner":{"account_id":230362,"reputation":28310,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":0,"creation_date":1701966578,"post_id":77621570,"comment_id":136842771,"body_markdown":"Without the code that reads it is hard to tell what is happening. To validate the file, you can also try to extract the content externally, `zip` or even double-clicking in most OSes should tell you if it is a valid zip or not.","body":"Without the code that reads it is hard to tell what is happening. To validate the file, you can also try to extract the content externally, <code>zip</code> or even double-clicking in most OSes should tell you if it is a valid zip or not."},{"owner":{"account_id":4608322,"reputation":6545,"user_id":3737177,"accept_rate":33,"display_name":"Thomas"},"score":0,"creation_date":1701966801,"post_id":77621570,"comment_id":136842824,"body_markdown":"@khachik The OS also says it is an invalid ZIP file. So I debugged it in Java, where I see the entries but apparently no proper data associated to them. I&#39;ll add the debugging info to the question.","body":"@khachik The OS also says it is an invalid ZIP file. So I debugged it in Java, where I see the entries but apparently no proper data associated to them. I&#39;ll add the debugging info to the question."},{"owner":{"account_id":230362,"reputation":28310,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":0,"creation_date":1701966986,"post_id":77621570,"comment_id":136842862,"body_markdown":"please add the code that creates the transformer and the document as well.","body":"please add the code that creates the transformer and the document as well."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1701967334,"post_id":77621570,"comment_id":136842928,"body_markdown":"Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":5998820,"reputation":12631,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1701971816,"post_id":77621570,"comment_id":136843641,"body_markdown":"Move bos declaration and return outside of the try block. At present zos isn&#39;t closed at the time you call `bos.toByteArray()` so it is corrupt zip.","body":"Move bos declaration and return outside of the try block. At present zos isn&#39;t closed at the time you call <code>bos.toByteArray()</code> so it is corrupt zip."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701993130,"post_id":77621570,"comment_id":136846556,"body_markdown":"Side note:  All of those `final` occurrences are doing nothing besides making the code harder to read.  All local variables are already effectively final unless assigned a second time.","body":"Side note:  All of those <code>final</code> occurrences are doing nothing besides making the code harder to read.  All local variables are already effectively final unless assigned a second time."}],"answers":[{"tags":[],"owner":{"account_id":230362,"reputation":28310,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701968367,"creation_date":1701968367,"answer_id":77621819,"question_id":77621570,"body_markdown":"First, you are catching and ignoring `Exception`. Depending on what fails and where it may not generate a valid zip entry.\r\nSecond, the code you posted will generate empty output, the transformer doesn&#39;t have a stylesheet (but this won&#39;t cause invalid zip entry if everything else is correct).","title":"Write XML to ZIP","body":"<p>First, you are catching and ignoring <code>Exception</code>. Depending on what fails and where it may not generate a valid zip entry.\nSecond, the code you posted will generate empty output, the transformer doesn't have a stylesheet (but this won't cause invalid zip entry if everything else is correct).</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12631,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701974699,"creation_date":1701974292,"answer_id":77622391,"question_id":77621570,"body_markdown":"The code as you have it creates the input stream before the zip output stream is closed, as `zos` is not closed until after `return`. Just pull out the declaration of `bos` and `return` out of the try block like this:\r\n\r\n    try (final ByteArrayOutputStream bos = new ByteArrayOutputStream()) {\r\n        try (final ZipOutputStream zos = new ZipOutputStream(bos)) {\r\n            var zipEntry = new ZipEntry(&quot;file1.xml&quot;);\r\n            zos.putNextEntry(zipEntry);\r\n            // Do your work with transform\r\n        }\r\n        // At this point, &quot;zos&quot; is definitely closed properly\r\n        // and bos has complete bytes of the zip.\r\n        return new ByteArrayInputStream(bos.toByteArray());\r\n    } \r\n\r\nYou can demonstrate the issue by comparing the output of these calls:\r\n\r\n    // Reports incorrect byte length for the ZIP inside the try block\r\n    public static void main(String... args) throws IOException {\r\n        try (final ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n                final ZipOutputStream zos = new ZipOutputStream(bos)) {\r\n            var zipEntry = new ZipEntry(&quot;file1.xml&quot;);\r\n            zos.putNextEntry(zipEntry);\r\n            zos.write((&quot;&lt;root&gt;&quot;+&quot;&lt;other&gt;&lt;/other&gt;&quot;.repeat(100)+&quot;&lt;/root&gt;&quot;).getBytes(StandardCharsets.UTF_8));\r\n            System.out.println(&quot;bos size is &quot;+bos.toByteArray().length);\r\n        } \r\n\r\n    }\r\n\r\nWhereas this reports the proper size:\r\n\r\n    // Reports correct byte length for the ZIP in outer try block\r\n    public static void main(String... args) throws IOException {\r\n        try (final ByteArrayOutputStream bos = new ByteArrayOutputStream()) {\r\n            try (final ZipOutputStream zos = new ZipOutputStream(bos)) {\r\n                var zipEntry = new ZipEntry(&quot;file1.xml&quot;);\r\n                zos.putNextEntry(zipEntry);\r\n                zos.write((&quot;&lt;root&gt;&quot;+&quot;&lt;other&gt;&lt;/other&gt;&quot;.repeat(100)+&quot;&lt;/root&gt;&quot;).getBytes(StandardCharsets.UTF_8));\r\n                System.out.println(&quot;bos size is &quot;+bos.toByteArray().length);\r\n            } \r\n            System.out.println(&quot;bos size is &quot;+bos.toByteArray().length);\r\n        } \r\n    }\r\n\r\n","title":"Write XML to ZIP","body":"<p>The code as you have it creates the input stream before the zip output stream is closed, as <code>zos</code> is not closed until after <code>return</code>. Just pull out the declaration of <code>bos</code> and <code>return</code> out of the try block like this:</p>\n<pre><code>try (final ByteArrayOutputStream bos = new ByteArrayOutputStream()) {\n    try (final ZipOutputStream zos = new ZipOutputStream(bos)) {\n        var zipEntry = new ZipEntry(&quot;file1.xml&quot;);\n        zos.putNextEntry(zipEntry);\n        // Do your work with transform\n    }\n    // At this point, &quot;zos&quot; is definitely closed properly\n    // and bos has complete bytes of the zip.\n    return new ByteArrayInputStream(bos.toByteArray());\n} \n</code></pre>\n<p>You can demonstrate the issue by comparing the output of these calls:</p>\n<pre><code>// Reports incorrect byte length for the ZIP inside the try block\npublic static void main(String... args) throws IOException {\n    try (final ByteArrayOutputStream bos = new ByteArrayOutputStream();\n            final ZipOutputStream zos = new ZipOutputStream(bos)) {\n        var zipEntry = new ZipEntry(&quot;file1.xml&quot;);\n        zos.putNextEntry(zipEntry);\n        zos.write((&quot;&lt;root&gt;&quot;+&quot;&lt;other&gt;&lt;/other&gt;&quot;.repeat(100)+&quot;&lt;/root&gt;&quot;).getBytes(StandardCharsets.UTF_8));\n        System.out.println(&quot;bos size is &quot;+bos.toByteArray().length);\n    } \n\n}\n</code></pre>\n<p>Whereas this reports the proper size:</p>\n<pre><code>// Reports correct byte length for the ZIP in outer try block\npublic static void main(String... args) throws IOException {\n    try (final ByteArrayOutputStream bos = new ByteArrayOutputStream()) {\n        try (final ZipOutputStream zos = new ZipOutputStream(bos)) {\n            var zipEntry = new ZipEntry(&quot;file1.xml&quot;);\n            zos.putNextEntry(zipEntry);\n            zos.write((&quot;&lt;root&gt;&quot;+&quot;&lt;other&gt;&lt;/other&gt;&quot;.repeat(100)+&quot;&lt;/root&gt;&quot;).getBytes(StandardCharsets.UTF_8));\n            System.out.println(&quot;bos size is &quot;+bos.toByteArray().length);\n        } \n        System.out.println(&quot;bos size is &quot;+bos.toByteArray().length);\n    } \n}\n</code></pre>\n"}],"owner":{"account_id":4608322,"reputation":6545,"user_id":3737177,"accept_rate":33,"display_name":"Thomas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701974699,"creation_date":1701966107,"question_id":77621570,"body_markdown":"I am trying to pack two XML files into a zip file:\r\nThe XMLs are generated with `org.w3c.dom.*` and I am trying to directly transform them into a `ZipOutputStream`. Single file example:\r\n\r\n    public InputStream getStream() {\r\n    \ttry (final ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    \t\t\tfinal ZipOutputStream zos = new ZipOutputStream(bos)) {\r\n    \t\tvar zipEntry = new ZipEntry(&quot;file1.xml&quot;);\r\n    \t\tzos.putNextEntry(zipEntry);\r\n    \t\tfinal Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\r\n    \t\tfinal Element root = document.createElement(&quot;root&quot;);\r\n    \t\tdocument.appendChild(root);\r\n    \t\tfinal DOMSource source = new DOMSource(document);\r\n    \t\tfinal StreamResult result = new StreamResult(zos);\r\n    \t\tfinal TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n    \t\tfinal Transformer transformer = transformerFactory.newTransformer();\r\n    \t\ttransformer.transform(source, result);\r\n    \t\treturn new ByteArrayInputStream(bos.toByteArray());\r\n    \t} catch (Exception e) {\r\n    \t}\r\n    }\r\n    \r\n    final ZipInputStream zis = new ZipInputStream(getStream());\r\n    final ZipEntry entry = zis.getNextEntry();\r\n    assertEquals(&quot;file1.xml&quot;, entry.getName());// still ok\r\n    final String xmlString = IOUtils.toString(zis);//throws: Unexpected end of ZLIB input stream\r\n    assertThat(xmlString, containsString(&quot;root&quot;);\r\n\r\nAny ideas?","title":"Write XML to ZIP","body":"<p>I am trying to pack two XML files into a zip file:\nThe XMLs are generated with <code>org.w3c.dom.*</code> and I am trying to directly transform them into a <code>ZipOutputStream</code>. Single file example:</p>\n<pre><code>public InputStream getStream() {\n    try (final ByteArrayOutputStream bos = new ByteArrayOutputStream();\n            final ZipOutputStream zos = new ZipOutputStream(bos)) {\n        var zipEntry = new ZipEntry(&quot;file1.xml&quot;);\n        zos.putNextEntry(zipEntry);\n        final Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\n        final Element root = document.createElement(&quot;root&quot;);\n        document.appendChild(root);\n        final DOMSource source = new DOMSource(document);\n        final StreamResult result = new StreamResult(zos);\n        final TransformerFactory transformerFactory = TransformerFactory.newInstance();\n        final Transformer transformer = transformerFactory.newTransformer();\n        transformer.transform(source, result);\n        return new ByteArrayInputStream(bos.toByteArray());\n    } catch (Exception e) {\n    }\n}\n\nfinal ZipInputStream zis = new ZipInputStream(getStream());\nfinal ZipEntry entry = zis.getNextEntry();\nassertEquals(&quot;file1.xml&quot;, entry.getName());// still ok\nfinal String xmlString = IOUtils.toString(zis);//throws: Unexpected end of ZLIB input stream\nassertThat(xmlString, containsString(&quot;root&quot;);\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","android","android-studio","3d","opengl-es"],"answers":[{"tags":[],"owner":{"account_id":936302,"reputation":361,"user_id":5909363,"display_name":"Alexey Matveev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1577367975,"creation_date":1577367975,"answer_id":59489360,"question_id":59488558,"body_markdown":"Found [this 3D Viewer][1] on GitHub (supports OBJ, GLTF)\r\n\r\nAlso, I believe it is possible to find some converters OBJ ~&gt; GLTF (by Khronos). You can write Android App with embedded Web View in which you can show GLTF.\r\n\r\nIf someone will work on Android app using some HTML / JS framework like Phonegap or VueJS + Quasar, then GLTF could be good way to go (if OBJ ~&gt; GLTF is not a problem).\r\n\r\n  [1]: https://github.com/WenlinMao/android-3d-model-viewer","title":"How to display 3D models in android?","body":"<p>Found <a href=\"https://github.com/WenlinMao/android-3d-model-viewer\" rel=\"noreferrer\">this 3D Viewer</a> on GitHub (supports OBJ, GLTF)</p>\n\n<p>Also, I believe it is possible to find some converters OBJ ~> GLTF (by Khronos). You can write Android App with embedded Web View in which you can show GLTF.</p>\n\n<p>If someone will work on Android app using some HTML / JS framework like Phonegap or VueJS + Quasar, then GLTF could be good way to go (if OBJ ~> GLTF is not a problem).</p>\n"},{"tags":[],"owner":{"account_id":5784888,"reputation":523,"user_id":4564449,"accept_rate":67,"display_name":"Sceada"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635949630,"creation_date":1635949630,"answer_id":69826606,"question_id":59488558,"body_markdown":"You can use for this job [SceneForm](https://github.com/ThomasGorisse/SceneformMaintained). In a nutshell SceneForm is used as a middleware between ARCore and Filament to create awesome Augmented Reality Apps, but you can also use SceneForm just to visualize [GLTF-Models](https://github.com/ThomasGorisse/SceneformMaintained/tree/master/samples/3d-model-viewer) ","title":"How to display 3D models in android?","body":"<p>You can use for this job <a href=\"https://github.com/ThomasGorisse/SceneformMaintained\" rel=\"nofollow noreferrer\">SceneForm</a>. In a nutshell SceneForm is used as a middleware between ARCore and Filament to create awesome Augmented Reality Apps, but you can also use SceneForm just to visualize <a href=\"https://github.com/ThomasGorisse/SceneformMaintained/tree/master/samples/3d-model-viewer\" rel=\"nofollow noreferrer\">GLTF-Models</a></p>\n"},{"tags":[],"owner":{"account_id":30092360,"reputation":1,"user_id":23061527,"display_name":"Enonymous1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701974593,"creation_date":1701974593,"answer_id":77622422,"question_id":59488558,"body_markdown":"I know this is just about to be a year old, but stumbled on it when trying to possibly share my (viewable) obj that I&#39;ve been able to &#39;mesh&#39; together (fun little play on words) to a built-in service/app so the model could be viewed by others who may not have the app I&#39;m building installed... possibly SceneForm?? or something with ARCore atleast...\r\n\r\nEither way to assist on your question as I feel I had the same question as was able to resolve it with a webview and the three.js library.\r\n\r\nAttempting to use openGL required/requires a lot more effort/time/understanding than I have. Existing libraries don&#39;t really support .obj and .mtl with textures they all seem to be focused on the more recent/better alternatives. The source data I was working with only had the .obj/.mtl and I didn&#39;t have a way to do runtime conversion. \r\n\r\nhttps://threejs.org/manual/#en/load-obj\r\n\r\nGoing through this solution available via three.js helped me greatly, minor tweaks were needed for my end goal. So if you run in to further trouble and share some more details I&#39;d be happy to see if I can help. (heads up swapping just the obj source won&#39;t help if dimension/camera are way off, you will also need to &#39;re-focus&#39; the camera to your object).\r\n\r\nV/R\r\n\r\nFellow Coder","title":"How to display 3D models in android?","body":"<p>I know this is just about to be a year old, but stumbled on it when trying to possibly share my (viewable) obj that I've been able to 'mesh' together (fun little play on words) to a built-in service/app so the model could be viewed by others who may not have the app I'm building installed... possibly SceneForm?? or something with ARCore atleast...</p>\n<p>Either way to assist on your question as I feel I had the same question as was able to resolve it with a webview and the three.js library.</p>\n<p>Attempting to use openGL required/requires a lot more effort/time/understanding than I have. Existing libraries don't really support .obj and .mtl with textures they all seem to be focused on the more recent/better alternatives. The source data I was working with only had the .obj/.mtl and I didn't have a way to do runtime conversion.</p>\n<p><a href=\"https://threejs.org/manual/#en/load-obj\" rel=\"nofollow noreferrer\">https://threejs.org/manual/#en/load-obj</a></p>\n<p>Going through this solution available via three.js helped me greatly, minor tweaks were needed for my end goal. So if you run in to further trouble and share some more details I'd be happy to see if I can help. (heads up swapping just the obj source won't help if dimension/camera are way off, you will also need to 're-focus' the camera to your object).</p>\n<p>V/R</p>\n<p>Fellow Coder</p>\n"}],"owner":{"account_id":11883617,"reputation":355,"user_id":8696652,"display_name":"PЯӨGЯΛMMΣЯ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13583,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1701974593,"creation_date":1577363559,"question_id":59488558,"body_markdown":"I want to display some 3D models (.obj files) in an android app using android studio.\r\n\r\nThe user enters some data and the models have to be placed relative to each other according to the user input.\r\n\r\n**So all I need is to display some 3D models placed relative to each other according to the data entered before, and the user will be able to see the models from any direction when swiping the screen.**\r\n\r\n***I don&#39;t know how to achieve this***. I tried to use OpenGL-ES, but without avail as I can&#39;t find enough tutorials and the documentation is hard to be understood.\r\n\r\nAny help or suggestion is welcome.\r\n\r\nThanks in advance.","title":"How to display 3D models in android?","body":"<p>I want to display some 3D models (.obj files) in an android app using android studio.</p>\n\n<p>The user enters some data and the models have to be placed relative to each other according to the user input.</p>\n\n<p><strong>So all I need is to display some 3D models placed relative to each other according to the data entered before, and the user will be able to see the models from any direction when swiping the screen.</strong></p>\n\n<p><strong><em>I don't know how to achieve this</em></strong>. I tried to use OpenGL-ES, but without avail as I can't find enough tutorials and the documentation is hard to be understood.</p>\n\n<p>Any help or suggestion is welcome.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","github","open-source"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701974452,"post_id":77622389,"comment_id":136844111,"body_markdown":"The question seems too broad to be suitable for Stack Overflow. Questions on  Stack Overflow should be about a specific programming issue.","body":"The question seems too broad to be suitable for Stack Overflow. Questions on  Stack Overflow should be about a specific programming issue."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701974624,"post_id":77622389,"comment_id":136844137,"body_markdown":"To better understand how to use Stack Overflow, I suggest starting with these sources and their links: the [Tour](https://stackoverflow.com/tour), the [Help Center](https://stackoverflow.com/help), and [How to Ask a Good Question](https://stackoverflow.com/help/how-to-ask)","body":"To better understand how to use Stack Overflow, I suggest starting with these sources and their links: the <a href=\"https://stackoverflow.com/tour\">Tour</a>, the <a href=\"https://stackoverflow.com/help\">Help Center</a>, and <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask a Good Question</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701974636,"post_id":77622389,"comment_id":136844139,"body_markdown":"Do you want to contribute to Spring Boot itself, or are you looking to contribute to a project that uses Spring Boot? If Spring Boot itself, a place to start is https://github.com/spring-projects/spring-boot/blob/main/CONTRIBUTING.adoc","body":"Do you want to contribute to Spring Boot itself, or are you looking to contribute to a project that uses Spring Boot? If Spring Boot itself, a place to start is <a href=\"https://github.com/spring-projects/spring-boot/blob/main/CONTRIBUTING.adoc\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/main/&hellip;</a>"},{"owner":{"account_id":27300316,"reputation":1,"user_id":20817240,"display_name":"MANOJ KUMAR MAHANTA"},"score":0,"creation_date":1701981025,"post_id":77622389,"comment_id":136845079,"body_markdown":"Basically I&#39;m looking projects that uses Spring Boot. So is contribute that projects.","body":"Basically I&#39;m looking projects that uses Spring Boot. So is contribute that projects."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1701994034,"post_id":77622389,"comment_id":136846654,"body_markdown":"If you are not familiar with the basics of contributing to open source, start with a web search for that (&#39;Contribute to Open Source&#39;). Here is one result:","body":"If you are not familiar with the basics of contributing to open source, start with a web search for that (&#39;Contribute to Open Source&#39;). Here is one result:"},{"owner":{"account_id":554485,"reputation":62,"user_id":1074770,"display_name":"Harish Iyer"},"score":1,"creation_date":1701995194,"post_id":77622389,"comment_id":136846765,"body_markdown":"Try finding some issues with tag good-first-issue. It requires a lot of reading to find something that you can contribute too. I&#39;m doing the same. Good luck finding your first issue. https://goodfirstissue.dev/language/java","body":"Try finding some issues with tag good-first-issue. It requires a lot of reading to find something that you can contribute too. I&#39;m doing the same. Good luck finding your first issue. <a href=\"https://goodfirstissue.dev/language/java\" rel=\"nofollow noreferrer\">goodfirstissue.dev/language/java</a>"}],"owner":{"account_id":27300316,"reputation":1,"user_id":20817240,"display_name":"MANOJ KUMAR MAHANTA"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701995344,"answer_count":0,"score":-1,"last_activity_date":1701974274,"creation_date":1701974274,"question_id":77622389,"body_markdown":"I&#39;m relatively new to open source and eager to start contributing. My focus is on **Spring Boot**, and I&#39;m looking for beginner-friendly projects to enhance my skills while making meaningful contributions.\r\n\r\nCould you please suggest some Spring Boot open-source projects that are welcoming to newcomers? I&#39;m interested in projects with an active community and maintainers who are supportive of contributors at different skill levels.\r\n\r\nAny insights or recommendations would be greatly appreciated. Thank you!\r\n\r\nI want to upskilling my skill&#39;s with contributing opensource","title":"Seeking Spring Boot Open Source Project to Contribute - Any Recommendations?","body":"<p>I'm relatively new to open source and eager to start contributing. My focus is on <strong>Spring Boot</strong>, and I'm looking for beginner-friendly projects to enhance my skills while making meaningful contributions.</p>\n<p>Could you please suggest some Spring Boot open-source projects that are welcoming to newcomers? I'm interested in projects with an active community and maintainers who are supportive of contributors at different skill levels.</p>\n<p>Any insights or recommendations would be greatly appreciated. Thank you!</p>\n<p>I want to upskilling my skill's with contributing opensource</p>\n"},{"tags":["java","kotlin","openai-api"],"owner":{"account_id":30092270,"reputation":1,"user_id":23061460,"display_name":"David Le Roux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701973984,"creation_date":1701973984,"question_id":77622363,"body_markdown":"I have the following code as my OpenAIapi in Kotlin, Android studio:\r\n\r\n```\r\npackage com.example.pantrypal.apis\r\n\r\nimport com.example.pantrypal.models.ChatRequest\r\nimport com.example.pantrypal.models.ChatResponse\r\nimport com.example.pantrypal.models.Message\r\nimport com.jakewharton.retrofit2.converter.kotlinx.serialization.asConverterFactory\r\nimport kotlinx.serialization.json.Json\r\nimport okhttp3.MediaType.Companion.toMediaType\r\nimport okhttp3.OkHttpClient\r\nimport retrofit2.Retrofit\r\nimport retrofit2.http.Body\r\nimport retrofit2.http.Headers\r\nimport retrofit2.http.POST\r\nimport java.util.concurrent.TimeUnit\r\n\r\ninterface OpenAIApiService {\r\n\r\n    @Headers(\r\n        &quot;Content-Type: application/json&quot;,\r\n        &quot;Authorization: Bearer MY-API-KEY&quot;\r\n    )\r\n    @POST(&quot;v1/chat/completions&quot;)\r\n    suspend fun getChatCompletions(@Body request: ChatRequest) : ChatResponse\r\n\r\n}\r\n\r\nobject OpenAIApi{\r\n\r\n    private val httpClient = OkHttpClient.Builder()\r\n        .callTimeout(50, TimeUnit.SECONDS)\r\n        .readTimeout(50, TimeUnit.SECONDS).build()\r\n\r\n    private val retrofit = Retrofit.Builder()\r\n        .addConverterFactory(Json{ ignoreUnknownKeys = true}.asConverterFactory(&quot;application/json&quot;.toMediaType()))\r\n        //.addConverterFactory(Json.asConverterFactory(&quot;application/json&quot;.toMediaType()))\r\n        .baseUrl(&quot;https://api.openai.com/&quot;)\r\n        .client(httpClient)\r\n        .build()\r\n\r\n    val retrofitService : OpenAIApiService by lazy{\r\n        retrofit.create(OpenAIApiService::class.java)\r\n    }\r\n\r\n    suspend fun getResponse(prompt: String) : String {\r\n        try{\r\n            val chatRequest = ChatRequest(\r\n                model = &quot;gpt-3.5-turbo&quot;,\r\n                messages = listOf(\r\n                    Message(\r\n                        role = &quot;user&quot;,\r\n                        content = &quot;Hello, how are you?&quot;\r\n                    )//prompt)\r\n                )\r\n            )\r\n            println(&quot;before &quot;)\r\n            println(&quot;Request Body: $chatRequest&quot;)\r\n            val chatResponse = retrofitService.getChatCompletions(chatRequest)\r\n            println(&quot;after&quot;)\r\n            return chatResponse.choices[0].message.content\r\n        } catch (e: Exception){\r\n            e.printStackTrace()\r\n            return (&quot;Error: &quot; + e.message)\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nand the following cod as my API objects:\r\n\r\n```\r\n@Serializable\r\ndata class ChatRequest(val model: String, val messages: List&lt;Message&gt;, val temperature: Double = 0.8)\r\n\r\n@Serializable\r\ndata class Message(val role: String, val content: String)\r\n\r\n@Serializable\r\ndata class ChatResponse(val id: String,\r\n                        @SerialName(value = &quot;object&quot;)\r\n                        val object_: String,\r\n                        val created: Long, val model: String, val usage: Usage, val choices: List&lt;Choice&gt;)\r\n\r\n@Serializable\r\ndata class Usage(val prompt_tokens: Int, val completion_tokens: Int, val total_tokens: Int)\r\n\r\n@Serializable\r\ndata class Choice(val message: Message, val finish_reason: String, val index: Int)\r\n```\r\n\r\nwhen I try to make a request I get the error: \r\nUnable to create @Body converter for class com.example.pantrypal.models.ChatRequest (paramapter #1) for method OpenAIApiService.getChatCompletions\r\n\r\nI have already verified that my emulator has internet connection, that my api-key works and that I have a payment method with OpenAI. I&#39;ve also made sure all my dependancies are up to date","title":"Why does this implementation not allow an @body convertor to be created?","body":"<p>I have the following code as my OpenAIapi in Kotlin, Android studio:</p>\n<pre><code>package com.example.pantrypal.apis\n\nimport com.example.pantrypal.models.ChatRequest\nimport com.example.pantrypal.models.ChatResponse\nimport com.example.pantrypal.models.Message\nimport com.jakewharton.retrofit2.converter.kotlinx.serialization.asConverterFactory\nimport kotlinx.serialization.json.Json\nimport okhttp3.MediaType.Companion.toMediaType\nimport okhttp3.OkHttpClient\nimport retrofit2.Retrofit\nimport retrofit2.http.Body\nimport retrofit2.http.Headers\nimport retrofit2.http.POST\nimport java.util.concurrent.TimeUnit\n\ninterface OpenAIApiService {\n\n    @Headers(\n        &quot;Content-Type: application/json&quot;,\n        &quot;Authorization: Bearer MY-API-KEY&quot;\n    )\n    @POST(&quot;v1/chat/completions&quot;)\n    suspend fun getChatCompletions(@Body request: ChatRequest) : ChatResponse\n\n}\n\nobject OpenAIApi{\n\n    private val httpClient = OkHttpClient.Builder()\n        .callTimeout(50, TimeUnit.SECONDS)\n        .readTimeout(50, TimeUnit.SECONDS).build()\n\n    private val retrofit = Retrofit.Builder()\n        .addConverterFactory(Json{ ignoreUnknownKeys = true}.asConverterFactory(&quot;application/json&quot;.toMediaType()))\n        //.addConverterFactory(Json.asConverterFactory(&quot;application/json&quot;.toMediaType()))\n        .baseUrl(&quot;https://api.openai.com/&quot;)\n        .client(httpClient)\n        .build()\n\n    val retrofitService : OpenAIApiService by lazy{\n        retrofit.create(OpenAIApiService::class.java)\n    }\n\n    suspend fun getResponse(prompt: String) : String {\n        try{\n            val chatRequest = ChatRequest(\n                model = &quot;gpt-3.5-turbo&quot;,\n                messages = listOf(\n                    Message(\n                        role = &quot;user&quot;,\n                        content = &quot;Hello, how are you?&quot;\n                    )//prompt)\n                )\n            )\n            println(&quot;before &quot;)\n            println(&quot;Request Body: $chatRequest&quot;)\n            val chatResponse = retrofitService.getChatCompletions(chatRequest)\n            println(&quot;after&quot;)\n            return chatResponse.choices[0].message.content\n        } catch (e: Exception){\n            e.printStackTrace()\n            return (&quot;Error: &quot; + e.message)\n        }\n    }\n\n}\n</code></pre>\n<p>and the following cod as my API objects:</p>\n<pre><code>@Serializable\ndata class ChatRequest(val model: String, val messages: List&lt;Message&gt;, val temperature: Double = 0.8)\n\n@Serializable\ndata class Message(val role: String, val content: String)\n\n@Serializable\ndata class ChatResponse(val id: String,\n                        @SerialName(value = &quot;object&quot;)\n                        val object_: String,\n                        val created: Long, val model: String, val usage: Usage, val choices: List&lt;Choice&gt;)\n\n@Serializable\ndata class Usage(val prompt_tokens: Int, val completion_tokens: Int, val total_tokens: Int)\n\n@Serializable\ndata class Choice(val message: Message, val finish_reason: String, val index: Int)\n</code></pre>\n<p>when I try to make a request I get the error:\nUnable to create @Body converter for class com.example.pantrypal.models.ChatRequest (paramapter #1) for method OpenAIApiService.getChatCompletions</p>\n<p>I have already verified that my emulator has internet connection, that my api-key works and that I have a payment method with OpenAI. I've also made sure all my dependancies are up to date</p>\n"},{"tags":["java","android","function","public"],"answers":[{"tags":[],"owner":{"account_id":19163412,"reputation":44,"user_id":13998703,"display_name":"Md Eusuf Uddin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701973765,"creation_date":1701973765,"answer_id":77622338,"question_id":77622006,"body_markdown":"Set startRecodingButton with OnClickListener:\r\n\r\n    startStopRecodingButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startStopRecoding();\r\n            }\r\n        });\r\nCheck MediaRecorder is null or not.\r\n\r\n    private MediaRecorder mRecorder;\r\n    private void startStopRecoding() {\r\n        if(mRecorder==null){\r\n            mRecorder = new MediaRecorder();\r\n            mRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n            mRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\r\n            mRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\r\n            mRecorder.setOutputFile(mFileName);\r\n            try {\r\n                mRecorder.prepare();\r\n            } catch (IOException e) {\r\n                Log.e(&quot;TAG&quot;, &quot;prepare() failed&quot;);\r\n            }\r\n            // start method will start\r\n            // the audio recording.\r\n            mRecorder.start();\r\n            startStopRecodingButton.setText(&quot;Stop Recoding&quot;);\r\n        }else {\r\n            mRecorder.stop();\r\n            mRecorder.release();\r\n            mRecorder = null;\r\n            startStopRecodingButton.setText(&quot;Start Recoding&quot;);\r\n        }\r\n    }","title":"Button Audio stopper not stopping the Button","body":"<p>Set startRecodingButton with OnClickListener:</p>\n<pre><code>startStopRecodingButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            startStopRecoding();\n        }\n    });\n</code></pre>\n<p>Check MediaRecorder is null or not.</p>\n<pre><code>private MediaRecorder mRecorder;\nprivate void startStopRecoding() {\n    if(mRecorder==null){\n        mRecorder = new MediaRecorder();\n        mRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n        mRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\n        mRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\n        mRecorder.setOutputFile(mFileName);\n        try {\n            mRecorder.prepare();\n        } catch (IOException e) {\n            Log.e(&quot;TAG&quot;, &quot;prepare() failed&quot;);\n        }\n        // start method will start\n        // the audio recording.\n        mRecorder.start();\n        startStopRecodingButton.setText(&quot;Stop Recoding&quot;);\n    }else {\n        mRecorder.stop();\n        mRecorder.release();\n        mRecorder = null;\n        startStopRecodingButton.setText(&quot;Start Recoding&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29983605,"reputation":11,"user_id":22978063,"display_name":"Adham Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701973765,"creation_date":1701970240,"question_id":77622006,"body_markdown":"I have a problem with my code its supposed to stop the button when clicked on so like i click on Button1 it plays click on Button1 again it stops etc. etc. and also for other buttons the same works and when you click on Button2 for example Button1 Stops\r\n\r\nI have 74 buttons and this is in oncreate for all of them\r\n\r\n``` \r\nButton1Text = (Button) findViewById(R.id.Button1Text);\r\nButton1Text2 = (Button) findViewById(R.id.Button1Text2);\r\n```\r\n\r\nthis is the code for the button\r\n\r\n\r\n```\r\n public void Button1Text(View view) {\r\n       normalButton();\r\n       Button1Text.setBackgroundResource(R.color.lighterbrown);\r\n\r\n       releaseAll();\r\n       media1 = MediaPlayer.create(QuranJ30MA.this, R.raw.hannaba);\r\n       media1.start();\r\n    }\r\n\r\n    public void Button1Text2(View view) {\r\n       normalButton();\r\n        Button1Text2.setBackgroundResource(R.color.lightergreen);\r\n\r\n        releaseAll();\r\n        media2 = MediaPlayer.create(QuranJ30MA.this, R.raw.mannaba);\r\n        media2.start();\r\n    }\r\n```\r\n\r\nthis is the &quot;releaseMP&quot; function that supposed to do what i want it to do but doesnt work in this app while it works in other apps\r\n\r\n```\r\n    private void releaseMP(MediaPlayer mediaPlayer) {\r\n        try {\r\n            if (mediaPlayer != null) {\r\n                if (mediaPlayer.isPlaying())\r\n                    mediaPlayer.stop();\r\n                mediaPlayer.release();\r\n                mediaPlayer = null;\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nthis is the &quot;releaseAll();&quot; function\r\n\r\n```\r\n   private void releaseAll() {\r\n        releaseMP(media1);\r\n        releaseMP(media2);\r\n```\r\n\r\ni think thats all also the &quot;normalButton();&quot; just resets colors \r\n\r\n\r\ni tried to copy it exactly the same from other codes of my other apps(note they work in those apps but not here) i dont understand where i went wrong this is a problem i have had for days","title":"Button Audio stopper not stopping the Button","body":"<p>I have a problem with my code its supposed to stop the button when clicked on so like i click on Button1 it plays click on Button1 again it stops etc. etc. and also for other buttons the same works and when you click on Button2 for example Button1 Stops</p>\n<p>I have 74 buttons and this is in oncreate for all of them</p>\n<pre><code>Button1Text = (Button) findViewById(R.id.Button1Text);\nButton1Text2 = (Button) findViewById(R.id.Button1Text2);\n</code></pre>\n<p>this is the code for the button</p>\n<pre><code> public void Button1Text(View view) {\n       normalButton();\n       Button1Text.setBackgroundResource(R.color.lighterbrown);\n\n       releaseAll();\n       media1 = MediaPlayer.create(QuranJ30MA.this, R.raw.hannaba);\n       media1.start();\n    }\n\n    public void Button1Text2(View view) {\n       normalButton();\n        Button1Text2.setBackgroundResource(R.color.lightergreen);\n\n        releaseAll();\n        media2 = MediaPlayer.create(QuranJ30MA.this, R.raw.mannaba);\n        media2.start();\n    }\n</code></pre>\n<p>this is the &quot;releaseMP&quot; function that supposed to do what i want it to do but doesnt work in this app while it works in other apps</p>\n<pre><code>    private void releaseMP(MediaPlayer mediaPlayer) {\n        try {\n            if (mediaPlayer != null) {\n                if (mediaPlayer.isPlaying())\n                    mediaPlayer.stop();\n                mediaPlayer.release();\n                mediaPlayer = null;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>this is the &quot;releaseAll();&quot; function</p>\n<pre><code>   private void releaseAll() {\n        releaseMP(media1);\n        releaseMP(media2);\n</code></pre>\n<p>i think thats all also the &quot;normalButton();&quot; just resets colors</p>\n<p>i tried to copy it exactly the same from other codes of my other apps(note they work in those apps but not here) i dont understand where i went wrong this is a problem i have had for days</p>\n"},{"tags":["java","authentication","spring-security","oauth-2.0","authorization"],"comments":[{"owner":{"account_id":27399516,"reputation":1,"user_id":20901172,"display_name":"Gagan"},"score":0,"creation_date":1701943736,"post_id":77619155,"comment_id":136838340,"body_markdown":"github link: https://github.com/Gagan7259/2023/tree/main/Security","body":"github link: <a href=\"https://github.com/Gagan7259/2023/tree/main/Security\" rel=\"nofollow noreferrer\">github.com/Gagan7259/2023/tree/main/Security</a>"},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1701953693,"post_id":77619155,"comment_id":136840185,"body_markdown":"[spring-security-authentication-provider](https://www.baeldung.com/spring-security-authentication-provider)","body":"<a href=\"https://www.baeldung.com/spring-security-authentication-provider\" rel=\"nofollow noreferrer\">spring-security-authentication-provider</a>"},{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1701973940,"post_id":77619155,"comment_id":136844022,"body_markdown":"your problem is `jwtAuthenticationFilter` you like many have been following a bad tutorial that is teaching you bad practices. Handing out JWTs straight to browsers is dangerous. If you had picked one of the supported authentication methods that already exist in spring security, it would of provided you with a built in `AuthenticationProvider`. You are building some custom homemade security from scratch which is also insecure. Stop following that tutorial and read the architecture chapters in the docs and then start out learning by implementing `Basic` or `FormLogin` authentication","body":"your problem is <code>jwtAuthenticationFilter</code> you like many have been following a bad tutorial that is teaching you bad practices. Handing out JWTs straight to browsers is dangerous. If you had picked one of the supported authentication methods that already exist in spring security, it would of provided you with a built in <code>AuthenticationProvider</code>. You are building some custom homemade security from scratch which is also insecure. Stop following that tutorial and read the architecture chapters in the docs and then start out learning by implementing <code>Basic</code> or <code>FormLogin</code> authentication"},{"owner":{"account_id":2064278,"reputation":13119,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1701974090,"post_id":77619155,"comment_id":136844048,"body_markdown":"there is a reason that type of filter does not exist in spring security, so dont build one.","body":"there is a reason that type of filter does not exist in spring security, so dont build one."},{"owner":{"account_id":27399516,"reputation":1,"user_id":20901172,"display_name":"Gagan"},"score":0,"creation_date":1702192709,"post_id":77619155,"comment_id":136865176,"body_markdown":"bro please sugggest me spring security tutorial in youtube                                      JWT ,  AUTHENTICATION/AUTHRIZATION  Please bro","body":"bro please sugggest me spring security tutorial in youtube                                      JWT ,  AUTHENTICATION/AUTHRIZATION  Please bro"}],"owner":{"account_id":27399516,"reputation":1,"user_id":20901172,"display_name":"Gagan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701973727,"creation_date":1701943699,"question_id":77619155,"body_markdown":"\r\n`ERROR: Parameter 1 of constructor in com.example.Security.Config.SecurityConfig required a bean of type &#39;org.springframework.security.authentication.AuthenticationProvider&#39; that could not be found.`\r\n`\r\n\r\nplease give me solution I&#39;m beginner  I am learning.\r\n\r\n    @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http.csrf().disable();\r\n            http.sessionManagement().sessionCreationPolicy(STATELESS);\r\n            http.authorizeRequests().requestMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/admin/**&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;)\r\n                    .requestMatchers(&quot;/user/**&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;, &quot;ROLE_USER&quot;)\r\n                    .and()\r\n                    .csrf().disable()\r\n                    .cors(Customizer.withDefaults())\r\n                    .authorizeRequests()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                    .authenticationProvider(authenticationProvider)\r\n                    .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n            return http.build();\r\n        }","title":"Consider defining a bean of type &#39;org.springframework.security.authentication.AuthenticationProvider&#39; in your configuration","body":"<p><code>ERROR: Parameter 1 of constructor in com.example.Security.Config.SecurityConfig required a bean of type 'org.springframework.security.authentication.AuthenticationProvider' that could not be found.</code>\n`</p>\n<p>please give me solution I'm beginner  I am learning.</p>\n<pre><code>@Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable();\n        http.sessionManagement().sessionCreationPolicy(STATELESS);\n        http.authorizeRequests().requestMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\n                .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\n                .requestMatchers(&quot;/admin/**&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;)\n                .requestMatchers(&quot;/user/**&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;, &quot;ROLE_USER&quot;)\n                .and()\n                .csrf().disable()\n                .cors(Customizer.withDefaults())\n                .authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n</code></pre>\n"},{"tags":["java","maven","jms"],"comments":[{"owner":{"account_id":262968,"reputation":767080,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1307990320,"post_id":6334323,"comment_id":7409657,"body_markdown":"Are you using Spring by any chance?","body":"Are you using Spring by any chance?"},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1307991900,"post_id":6334323,"comment_id":7410046,"body_markdown":"No, I&#39;m not using Spring","body":"No, I&#39;m not using Spring"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1355407883,"post_id":6334323,"comment_id":19085521,"body_markdown":"depends. usually those classes are provided by JEE container, if you&#39;re using one - then javaee-api is the right answer. if you don&#39;t, then you need to use the one provided by jms provider you use.","body":"depends. usually those classes are provided by JEE container, if you&#39;re using one - then javaee-api is the right answer. if you don&#39;t, then you need to use the one provided by jms provider you use."}],"answers":[{"tags":[],"owner":{"account_id":368385,"reputation":13915,"user_id":715171,"accept_rate":95,"display_name":"talnicolas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1307988864,"creation_date":1307988864,"answer_id":6334424,"question_id":6334323,"body_markdown":"According to mvnrepository, the dependency to add in the pom of your project is the following:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jms&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"What is the right Maven dependency for javax.jms.* classes?","body":"<p>According to mvnrepository, the dependency to add in the pom of your project is the following:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;jms&lt;/groupId&gt;\n  &lt;artifactId&gt;jms&lt;/artifactId&gt;\n  &lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590434,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1307988924,"creation_date":1307988924,"answer_id":6334443,"question_id":6334323,"body_markdown":"I have successfully used this one:\r\n\r\n    &lt;dependency&gt;\r\n      \t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n       \t&lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n       \t&lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"What is the right Maven dependency for javax.jms.* classes?","body":"<p>I have successfully used this one:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n    &lt;artifactId&gt;jms&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":140327,"reputation":43675,"user_id":346561,"accept_rate":94,"display_name":"Jesse Webb"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1307990165,"creation_date":1307990165,"answer_id":6334670,"question_id":6334323,"body_markdown":"The Sun license doesn&#39;t allow maven repositories to host this (and other) artifacts.\r\n\r\nHere is the documentation explaining this and what you should do instead...\r\n\r\n[Maven - Guide to coping with Sun JARs][1]\r\n\r\nWhat it says is you need to download the JAR manually and then install it into your own local repository or nexus server.\r\n\r\nThe pom.xml files hosted at maven central for these artifacts contain information on where you can download the JARs from.\r\n\r\n  [1]: http://maven.apache.org/guides/mini/guide-coping-with-sun-jars.html","title":"What is the right Maven dependency for javax.jms.* classes?","body":"<p>The Sun license doesn't allow maven repositories to host this (and other) artifacts.</p>\n\n<p>Here is the documentation explaining this and what you should do instead...</p>\n\n<p><a href=\"http://maven.apache.org/guides/mini/guide-coping-with-sun-jars.html\" rel=\"noreferrer\">Maven - Guide to coping with Sun JARs</a></p>\n\n<p>What it says is you need to download the JAR manually and then install it into your own local repository or nexus server.</p>\n\n<p>The pom.xml files hosted at maven central for these artifacts contain information on where you can download the JARs from.</p>\n"},{"tags":[],"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"down_vote_count":2,"up_vote_count":51,"is_accepted":true,"score":49,"last_activity_date":1701973657,"creation_date":1307998031,"answer_id":6336137,"question_id":6334323,"body_markdown":"In ActiveMQ as well as some other projects like Qpid JMS we pull in the JMS spec classes from Apache Geronimo JARs, the 1.1 APIs are available in this dependency:\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;geronimo-jms_1.1_spec&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nFor JMS 2 APIs you&#39;d need to use a different dependency, for instance \r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;geronimo-jms_2.0_spec&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-alpha-2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nThese are both Apache 2.0 licensed dependencies.\r\n\r\nNow that things have moved on to the Jakarta API versions of the JMS Specifications the options for JMS API jars have shifted.\r\n\r\nThe basic Jakarta JMS 2.0 API that is API compatible with legacy JMS 2.0 APIs can be found here.\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;jakarta.jms&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jakarta.jms-api&lt;/artifactId&gt;\r\n       &lt;version&gt;2.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNew Jakarta Messaging APIs in the 3.x series can be pulled in from here, ActiveMQ 6.0+ brokers have migrated to Jakarta:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.jms&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.jms-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnother option which is not Apache licensed is here as others have pointed out.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"What is the right Maven dependency for javax.jms.* classes?","body":"<p>In ActiveMQ as well as some other projects like Qpid JMS we pull in the JMS spec classes from Apache Geronimo JARs, the 1.1 APIs are available in this dependency:</p>\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n    &lt;artifactId&gt;geronimo-jms_1.1_spec&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>For JMS 2 APIs you'd need to use a different dependency, for instance</p>\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n    &lt;artifactId&gt;geronimo-jms_2.0_spec&lt;/artifactId&gt;\n    &lt;version&gt;1.0-alpha-2&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>These are both Apache 2.0 licensed dependencies.</p>\n<p>Now that things have moved on to the Jakarta API versions of the JMS Specifications the options for JMS API jars have shifted.</p>\n<p>The basic Jakarta JMS 2.0 API that is API compatible with legacy JMS 2.0 APIs can be found here.</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;jakarta.jms&lt;/groupId&gt;\n   &lt;artifactId&gt;jakarta.jms-api&lt;/artifactId&gt;\n   &lt;version&gt;2.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>New Jakarta Messaging APIs in the 3.x series can be pulled in from here, ActiveMQ 6.0+ brokers have migrated to Jakarta:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.jms&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.jms-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Another option which is not Apache licensed is here as others have pointed out.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":34561,"reputation":8464,"user_id":97745,"accept_rate":86,"display_name":"crowne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1308001874,"creation_date":1308001874,"answer_id":6336816,"question_id":6334323,"body_markdown":"Check out the dependencies listed on grepcode.com.  \r\nI only discovered this site recently, and it rocks!\r\n\r\nhttp://grepcode.com/search/?query=javax.jms.*\r\n\r\nIt looks like the Geronimo jars on maven central should sort your issues out.","title":"What is the right Maven dependency for javax.jms.* classes?","body":"<p>Check out the dependencies listed on grepcode.com.<br>\nI only discovered this site recently, and it rocks!</p>\n\n<p><a href=\"http://grepcode.com/search/?query=javax.jms\" rel=\"nofollow\">http://grepcode.com/search/?query=javax.jms</a>.*</p>\n\n<p>It looks like the Geronimo jars on maven central should sort your issues out.</p>\n"},{"tags":[],"owner":{"account_id":1600171,"reputation":169,"user_id":1481353,"display_name":"awareness"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1340669788,"creation_date":1340669788,"answer_id":11199182,"question_id":6334323,"body_markdown":"       &lt;dependency&gt;\r\n       \t  &lt;groupId&gt;javax&lt;/groupId&gt;\r\n       \t  &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n       \t  &lt;version&gt;6.0&lt;/version&gt;\r\n       \t  &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;","title":"What is the right Maven dependency for javax.jms.* classes?","body":"<pre><code>   &lt;dependency&gt;\n      &lt;groupId&gt;javax&lt;/groupId&gt;\n      &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n      &lt;version&gt;6.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1289380,"reputation":757,"user_id":1241765,"accept_rate":67,"display_name":"ram"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387901014,"creation_date":1387901014,"answer_id":20763657,"question_id":6334323,"body_markdown":"Go to [Maven Search site][1] and search for javax. Open the latest version for groupId `javax` and artifactId `javaee-api`\r\n\r\nThe current version is 7.0 [[Maven dependency information][2]]\r\n\r\n\r\n  [1]: http://search.maven.org\r\n  [2]: http://search.maven.org/#artifactdetails%7Cjavax%7Cjavaee-api%7C7.0%7Cjar","title":"What is the right Maven dependency for javax.jms.* classes?","body":"<p>Go to <a href=\"http://search.maven.org\" rel=\"nofollow\">Maven Search site</a> and search for javax. Open the latest version for groupId <code>javax</code> and artifactId <code>javaee-api</code></p>\n\n<p>The current version is 7.0 [<a href=\"http://search.maven.org/#artifactdetails%7Cjavax%7Cjavaee-api%7C7.0%7Cjar\" rel=\"nofollow\">Maven dependency information</a>]</p>\n"},{"tags":[],"owner":{"account_id":3504607,"reputation":406,"user_id":2930427,"display_name":"jase"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1487394849,"creation_date":1487394849,"answer_id":42311318,"question_id":6334323,"body_markdown":"If you just want the JMS libs, without the rest of javaee, use the following:\r\n\r\nhttps://mvnrepository.com/artifact/javax.jms/javax.jms-api/2.0.1\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"What is the right Maven dependency for javax.jms.* classes?","body":"<p>If you just want the JMS libs, without the rest of javaee, use the following:</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/javax.jms/javax.jms-api/2.0.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.jms/javax.jms-api/2.0.1</a></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8969415,"reputation":3,"user_id":6688568,"display_name":"C McShane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515753626,"creation_date":1515753626,"answer_id":48224526,"question_id":6334323,"body_markdown":"This worked for myself\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"What is the right Maven dependency for javax.jms.* classes?","body":"<p>This worked for myself</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76458,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":6336137,"answer_count":9,"score":57,"last_activity_date":1701973657,"creation_date":1307988444,"question_id":6334323,"body_markdown":"I need to import `javax.jms.*` classes. What is the right dependency to include into a Maven project? I&#39;m trying `javax.jms:jms:1.1`, but no luck (it&#39;s pom, not jar).\r\n\r\nps. The only workaround I&#39;ve found so far is: `javax:javaee-api:6.0` (from Maven Central).","title":"What is the right Maven dependency for javax.jms.* classes?","body":"<p>I need to import <code>javax.jms.*</code> classes. What is the right dependency to include into a Maven project? I'm trying <code>javax.jms:jms:1.1</code>, but no luck (it's pom, not jar).</p>\n\n<p>ps. The only workaround I've found so far is: <code>javax:javaee-api:6.0</code> (from Maven Central).</p>\n"},{"tags":["java","jaxb","sax"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701971486,"post_id":77622095,"comment_id":136843590,"body_markdown":"`System.out.println(System.getProperty(&quot;java.class.path&quot;));` as the first line of your entry point","body":"<code>System.out.println(System.getProperty(&quot;java.class.path&quot;));</code> as the first line of your entry point"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701972362,"post_id":77622095,"comment_id":136843738,"body_markdown":"Use [code format](https://stackoverflow.com/editing-help#code) for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation.","body":"Use <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation."}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1701978411,"answer_count":0,"score":-2,"last_activity_date":1701973293,"creation_date":1701971038,"question_id":77622095,"body_markdown":"I get this error when trying to run a Java application from the command line:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: pc.integration.geoc.geocrequest.impl.runtime.SAXMarshaller$3\r\n            at java.lang.J9VMInternals.verifyImpl(Native Method)\r\n            at java.lang.J9VMInternals.verify(J9VMInternals.java:94)\r\n            at java.lang.J9VMInternals.initialize(J9VMInternals.java:169)\r\n            at pc.integration.geoc.georequest.impl.runtime.MarshallerImpl.write(MarshallerImpl.java:166)\r\n            at pc.integration.geoc.geocrequest.impl.runtime.MarshallerImpl.marshal(MarshallerImpl.java:144)\r\n            at javax.xml.bind.helpers.AbstractMarshallerImpl.marshal(AbstractMarshallerImpl.java:128)\r\n            at pc.integration.adapter.impl.GeocServiceImpl.processInput(GeocServiceImpl.java:230)\r\n            at pc.integration.adapter.impl.GeocServiceImpl.processData(GeocServiceImpl.java:98)\r\n            at pc.integration.adapter.impl.GeocTest.main(GeocTest.java:26)\r\n    Caused by: java.lang.ClassNotFoundException: pc.integration.geoc.geocrequest.impl.runtime.SAXMarshaller$3\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:600)\r\n            at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:772)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:745)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:326)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:726)\r\n            ... 9 more\r\n\r\n`pc.integration.geoc.geocrequest.impl.runtime.SAXMarshaller` exists on the classpath though. What could be causing this?\r\n","title":"NoClassDefFoundError even though class exists on classpath","body":"<p>I get this error when trying to run a Java application from the command line:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: pc.integration.geoc.geocrequest.impl.runtime.SAXMarshaller$3\n        at java.lang.J9VMInternals.verifyImpl(Native Method)\n        at java.lang.J9VMInternals.verify(J9VMInternals.java:94)\n        at java.lang.J9VMInternals.initialize(J9VMInternals.java:169)\n        at pc.integration.geoc.georequest.impl.runtime.MarshallerImpl.write(MarshallerImpl.java:166)\n        at pc.integration.geoc.geocrequest.impl.runtime.MarshallerImpl.marshal(MarshallerImpl.java:144)\n        at javax.xml.bind.helpers.AbstractMarshallerImpl.marshal(AbstractMarshallerImpl.java:128)\n        at pc.integration.adapter.impl.GeocServiceImpl.processInput(GeocServiceImpl.java:230)\n        at pc.integration.adapter.impl.GeocServiceImpl.processData(GeocServiceImpl.java:98)\n        at pc.integration.adapter.impl.GeocTest.main(GeocTest.java:26)\nCaused by: java.lang.ClassNotFoundException: pc.integration.geoc.geocrequest.impl.runtime.SAXMarshaller$3\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:600)\n        at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:772)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:745)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:326)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:726)\n        ... 9 more\n</code></pre>\n<p><code>pc.integration.geoc.geocrequest.impl.runtime.SAXMarshaller</code> exists on the classpath though. What could be causing this?</p>\n"},{"tags":["java","swagger"],"answers":[{"tags":[],"owner":{"account_id":7092962,"reputation":964,"user_id":5427593,"display_name":"y_ug"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1580468143,"creation_date":1580468143,"answer_id":60002528,"question_id":60002234,"body_markdown":"Use [`@ArraySchema`](https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#arrayschema) instead of plain `@Schema` to [define input or output data for array types](https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#media).","title":"How to annotate array of objects response in Swagger","body":"<p>Use <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#arrayschema\" rel=\"noreferrer\"><code>@ArraySchema</code></a> instead of plain <code>@Schema</code> to <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#media\" rel=\"noreferrer\">define input or output data for array types</a>.</p>\n"},{"tags":[],"owner":{"account_id":24426778,"reputation":71,"user_id":18352269,"display_name":"Rohit Rathour"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1701972231,"creation_date":1646212717,"answer_id":71320184,"question_id":60002234,"body_markdown":"For the `PageDto&lt;T&gt;` we can simply create `ResponseDto` which extends `PageDto&lt;T&gt;` and use it in swagger as : \r\n\r\n    @ApiResponse(\r\n      responseCode = &quot;200&quot;,\r\n      content = @Content(\r\n      array = \r\n        @ArraySchema(\r\n          schema = @Schema(implementation = ResponseDto.class))), \r\n          description = &quot;Get location information&quot;),","title":"How to annotate array of objects response in Swagger","body":"<p>For the <code>PageDto&lt;T&gt;</code> we can simply create <code>ResponseDto</code> which extends <code>PageDto&lt;T&gt;</code> and use it in swagger as :</p>\n<pre><code>@ApiResponse(\n  responseCode = &quot;200&quot;,\n  content = @Content(\n  array = \n    @ArraySchema(\n      schema = @Schema(implementation = ResponseDto.class))), \n      description = &quot;Get location information&quot;),\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701939892,"creation_date":1685972893,"answer_id":76407085,"question_id":60002234,"body_markdown":"Code should look like this !!\r\n```\r\n@ApiResponses(\r\n    value = {\r\n      @ApiResponse(\r\n          responseCode = &quot;200&quot;,\r\n          description = &quot;Successful operation&quot;,\r\n          content = @Content(\r\n              mediaType = &quot;application/json&quot;,\r\n              array = @ArraySchema(\r\n              schema = @Schema(implementation = LocationResponse.class))))\r\n})\r\n```","title":"How to annotate array of objects response in Swagger","body":"<p>Code should look like this !!</p>\n<pre><code>@ApiResponses(\n    value = {\n      @ApiResponse(\n          responseCode = &quot;200&quot;,\n          description = &quot;Successful operation&quot;,\n          content = @Content(\n              mediaType = &quot;application/json&quot;,\n              array = @ArraySchema(\n              schema = @Schema(implementation = LocationResponse.class))))\n})\n</code></pre>\n"}],"owner":{"account_id":10661318,"reputation":4498,"user_id":7849203,"accept_rate":33,"display_name":"Fel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31844,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":60002528,"answer_count":3,"score":27,"last_activity_date":1701972231,"creation_date":1580466989,"question_id":60002234,"body_markdown":"I have to debug a REST API Java project that has been developed using Swagger.I&#39;m new to it, so I&#39;m a little bit confused on how to do certain things. For example, here&#39;s one method:\r\n\r\n    @GET\r\n    @Path(&quot;/location/name&quot;)\r\n    @Produces({MediaType.APPLICATION_JSON})\r\n    @Operation(\r\n        summary = &quot;Get location information&quot;,\r\n        tags = {&quot;Information&quot;},\r\n        responses = {\r\n            @ApiResponse(responseCode = &quot;200&quot;, content = @Content(schema = @Schema(implementation = LocationResponse.class)), description = &quot;Get location information&quot;),\r\n            @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Error: Internal Server Error&quot;)\r\n        }\r\n    )\r\n    public Response searchLocationByName(\r\n        @Parameter(description = &quot;Location name&quot;, required = true) @DefaultValue(&quot;Barcelona&quot;) @QueryParam(&quot;name&quot;) String locationName\r\n    ) { /* METHOD CODE */ }\r\n\r\nThe `@ApiResponse` for the code 200 is not of type `LocationResponse` but of type `ArrayList&lt;LocationResponse&gt;`, as it can return more than one location. What would be the correct syntax for this change? I&#39;ve been reading the documentation at https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#operation-annotations but I couldn&#39;t find an appropriate example...\r\n\r\nThanks!","title":"How to annotate array of objects response in Swagger","body":"<p>I have to debug a REST API Java project that has been developed using Swagger.I'm new to it, so I'm a little bit confused on how to do certain things. For example, here's one method:</p>\n<pre><code>@GET\n@Path(&quot;/location/name&quot;)\n@Produces({MediaType.APPLICATION_JSON})\n@Operation(\n    summary = &quot;Get location information&quot;,\n    tags = {&quot;Information&quot;},\n    responses = {\n        @ApiResponse(responseCode = &quot;200&quot;, content = @Content(schema = @Schema(implementation = LocationResponse.class)), description = &quot;Get location information&quot;),\n        @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Error: Internal Server Error&quot;)\n    }\n)\npublic Response searchLocationByName(\n    @Parameter(description = &quot;Location name&quot;, required = true) @DefaultValue(&quot;Barcelona&quot;) @QueryParam(&quot;name&quot;) String locationName\n) { /* METHOD CODE */ }\n</code></pre>\n<p>The <code>@ApiResponse</code> for the code 200 is not of type <code>LocationResponse</code> but of type <code>ArrayList&lt;LocationResponse&gt;</code>, as it can return more than one location. What would be the correct syntax for this change? I've been reading the documentation at <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#operation-annotations\" rel=\"noreferrer\">https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#operation-annotations</a> but I couldn't find an appropriate example...</p>\n<p>Thanks!</p>\n"},{"tags":["java","tomcat","redirect","tomcat-valve"],"owner":{"account_id":4449148,"reputation":1701,"user_id":3621633,"accept_rate":54,"display_name":"user3621633"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701972121,"creation_date":1701972121,"question_id":77622194,"body_markdown":"My requirement comes from the following scenario:\r\n\r\nI have a load balancer that passes traffic down to this tomcat server. The load balancer handles redirection but it is also possible to access the tomcat server itself. The load balancer passes the traffic over port 80. If Tomcat redirects all traffic, the load balancer will redirect too many times. To workaround this, I want to implement redirection in Tomcat but for a specific domain name only, i.e. user accesses the Tomcat server directly. If the user accesses via the load balancer, then Tomcat would not fire redirection. That would solve this issue.\r\n\r\nRedirecting from port 80 (http) to port 443 (https) on Apache Tomcat 9 is fairly straight forward:\r\nhttps://stackoverflow.com/a/33274112/3621633\r\n\r\nCreate the connector for port 80 and port 443. Set the redirect to port 443 from 80. And then add the security constraint in web.xml to enforce redirection from http to https.\r\n\r\nHowever, I have an additional requirement which is only redirect for a specific domain. The url-pattern does not read the domain name from what I recall. What are my alternative options to redirect http to https for a specific domain?","title":"Redirect http to https for Apache Tomcat 9 for a specific domain only","body":"<p>My requirement comes from the following scenario:</p>\n<p>I have a load balancer that passes traffic down to this tomcat server. The load balancer handles redirection but it is also possible to access the tomcat server itself. The load balancer passes the traffic over port 80. If Tomcat redirects all traffic, the load balancer will redirect too many times. To workaround this, I want to implement redirection in Tomcat but for a specific domain name only, i.e. user accesses the Tomcat server directly. If the user accesses via the load balancer, then Tomcat would not fire redirection. That would solve this issue.</p>\n<p>Redirecting from port 80 (http) to port 443 (https) on Apache Tomcat 9 is fairly straight forward:\n<a href=\"https://stackoverflow.com/a/33274112/3621633\">https://stackoverflow.com/a/33274112/3621633</a></p>\n<p>Create the connector for port 80 and port 443. Set the redirect to port 443 from 80. And then add the security constraint in web.xml to enforce redirection from http to https.</p>\n<p>However, I have an additional requirement which is only redirect for a specific domain. The url-pattern does not read the domain name from what I recall. What are my alternative options to redirect http to https for a specific domain?</p>\n"},{"tags":["java","spring-boot","unit-testing","graphql","mockito"],"answers":[{"tags":[],"owner":{"account_id":10133926,"reputation":131,"user_id":7486210,"accept_rate":50,"display_name":"Ebad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701971614,"creation_date":1701971614,"answer_id":77622147,"question_id":77617615,"body_markdown":"Figured it out. Instead of using:\r\n\r\n```\r\n    MyClient myClient = mock(MyClient.class);\r\n```\r\n\r\nI had to add MockBean like this:\r\n\r\n```\r\n    @MockBean\r\n    MyClient myClient;\r\n```","title":"Mock data from method while using GraphQlTester in test","body":"<p>Figured it out. Instead of using:</p>\n<pre><code>    MyClient myClient = mock(MyClient.class);\n</code></pre>\n<p>I had to add MockBean like this:</p>\n<pre><code>    @MockBean\n    MyClient myClient;\n</code></pre>\n"}],"owner":{"account_id":10133926,"reputation":131,"user_id":7486210,"accept_rate":50,"display_name":"Ebad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701971614,"creation_date":1701922411,"question_id":77617615,"body_markdown":"I am using Java Spring Boot 3.2.0 and am using GraphQL. For several of my GraphQL APIs, I need to reach out to different clients to obtain data. I have a GraphQL controller, a service class, and a client class for that flow.\r\n\r\nThe controller is the point of entry for my GraphQL query, and the service class is going to handle the specific logic needed for the query. The service class will call the client class which will handle the work to reach out to a specific client for the data. Everything I have right now is bare-bones, but the flow will remain the same.\r\n\r\nI am not concerned with testing the client class, but I want to test my controller and service classes. However, I am not sure how to mock data returned from the client class while using GraphQlTester.\r\n\r\nHere are the classes:\r\n\r\nController class\r\n```\r\n@Controller\r\npublic class CustomerController {\r\n\r\n    private final CustomerService service;\r\n\r\n    public CustomerController(CustomerService service) {\r\n        this.service = service;\r\n    }\r\n\r\n    @QueryMapping\r\n    public List&lt;Customer&gt; queryCustomer(@Argument Long customerId) {\r\n        return service.queryCustomer(customerId);\r\n    }\r\n\r\n}\r\n```\r\n\r\nService class\r\n```\r\n@Component\r\npublic class CustomerService {\r\n\r\n    private final MyClient myClient;\r\n\r\n    public CustomerService(MyClient myClient) {\r\n        this.myClient = myClient;\r\n    }\r\n\r\n    /***\r\n     * Contains logic to query the appropriate client(s) for the Customer data.\r\n     *\r\n     * @param customerId the unique ID of the Customer\r\n     *\r\n     * @return List of Customers for the input customerId\r\n     */\r\n    public List&lt;Customer&gt; queryCustomer(Long customerId) {\r\n        return myClient.getCustomerData(customerId);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd the client class\r\n```\r\n@Component\r\npublic class MyClient {\r\n\r\n    public List&lt;Customer&gt; getCustomerData(Long customerId) {\r\n        throw new NotImplementedException(&quot;This API is not yet implemented.&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am using GraphQlTester to help with the testing, but I want to be able to return mock data from MyClient, rather than having the client actually reach out to get data (also, the class is not fully implemented, so right now just throwing an exception...which I don&#39;t want to happen for my tests)\r\n\r\nHere is the test class:\r\n```\r\n@Import({CustomerService.class, MyClient.class})\r\n@GraphQlTest(CustomerController.class)\r\nclass CustomerControllerTest {\r\n\r\n    @Autowired\r\n    GraphQlTester graphQlTester;\r\n\r\n    @Test\r\n    void testQueryCustomer() {\r\n        List&lt;Customer&gt; mockList = new ArrayList&lt;&gt;();\r\n        mockList.add(new Customer(1234L, &quot;test@test.com&quot;, &quot;FirstName&quot;, &quot;LastName&quot;));\r\n\r\n        MyClient myClient = mock(MyClient.class);\r\n        when(myClient.getCustomerData(1234L)).thenReturn(mockList);\r\n\r\n        graphQlTester.documentName(&quot;queryCustomerTest&quot;)\r\n                .execute()\r\n                .path(&quot;queryCustomer&quot;)\r\n                .entityList(Customer.class)\r\n                .satisfies(customers -&gt; {\r\n                    assertEquals(customers.size(), 1);\r\n                });\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy GraphQL document\r\n```\r\nquery queryCustomer($customerId: ID) {\r\n    queryCustomer(customerId: $customerId)\r\n    {\r\n        customerId\r\n        customerEmail\r\n        firstName\r\n        lastName\r\n    }\r\n}\r\n```\r\n\r\nAnd the Customer record\r\n```\r\npublic record Customer(\r\n        Long customerId,\r\n        String customerEmail,\r\n        String fistName,\r\n        String lastName\r\n) {\r\n}\r\n```\r\n\r\nNow, I realize that my mock currently does not work this way, as I am still getting the exception returned when I execute the test:\r\n```\r\njava.lang.AssertionError: Response has 1 unexpected error(s) of 1 total. If expected, please filter them out: [[NotImplementedException]: This API is not yet implemented.]\r\n```\r\n\r\nI know I can filter out expected errors, but I would rather mock data being returned. How can I inject my mock data to return when MyClient.getCustomerData() is called? Thanks!","title":"Mock data from method while using GraphQlTester in test","body":"<p>I am using Java Spring Boot 3.2.0 and am using GraphQL. For several of my GraphQL APIs, I need to reach out to different clients to obtain data. I have a GraphQL controller, a service class, and a client class for that flow.</p>\n<p>The controller is the point of entry for my GraphQL query, and the service class is going to handle the specific logic needed for the query. The service class will call the client class which will handle the work to reach out to a specific client for the data. Everything I have right now is bare-bones, but the flow will remain the same.</p>\n<p>I am not concerned with testing the client class, but I want to test my controller and service classes. However, I am not sure how to mock data returned from the client class while using GraphQlTester.</p>\n<p>Here are the classes:</p>\n<p>Controller class</p>\n<pre><code>@Controller\npublic class CustomerController {\n\n    private final CustomerService service;\n\n    public CustomerController(CustomerService service) {\n        this.service = service;\n    }\n\n    @QueryMapping\n    public List&lt;Customer&gt; queryCustomer(@Argument Long customerId) {\n        return service.queryCustomer(customerId);\n    }\n\n}\n</code></pre>\n<p>Service class</p>\n<pre><code>@Component\npublic class CustomerService {\n\n    private final MyClient myClient;\n\n    public CustomerService(MyClient myClient) {\n        this.myClient = myClient;\n    }\n\n    /***\n     * Contains logic to query the appropriate client(s) for the Customer data.\n     *\n     * @param customerId the unique ID of the Customer\n     *\n     * @return List of Customers for the input customerId\n     */\n    public List&lt;Customer&gt; queryCustomer(Long customerId) {\n        return myClient.getCustomerData(customerId);\n    }\n\n}\n</code></pre>\n<p>And the client class</p>\n<pre><code>@Component\npublic class MyClient {\n\n    public List&lt;Customer&gt; getCustomerData(Long customerId) {\n        throw new NotImplementedException(&quot;This API is not yet implemented.&quot;);\n    }\n\n}\n</code></pre>\n<p>I am using GraphQlTester to help with the testing, but I want to be able to return mock data from MyClient, rather than having the client actually reach out to get data (also, the class is not fully implemented, so right now just throwing an exception...which I don't want to happen for my tests)</p>\n<p>Here is the test class:</p>\n<pre><code>@Import({CustomerService.class, MyClient.class})\n@GraphQlTest(CustomerController.class)\nclass CustomerControllerTest {\n\n    @Autowired\n    GraphQlTester graphQlTester;\n\n    @Test\n    void testQueryCustomer() {\n        List&lt;Customer&gt; mockList = new ArrayList&lt;&gt;();\n        mockList.add(new Customer(1234L, &quot;test@test.com&quot;, &quot;FirstName&quot;, &quot;LastName&quot;));\n\n        MyClient myClient = mock(MyClient.class);\n        when(myClient.getCustomerData(1234L)).thenReturn(mockList);\n\n        graphQlTester.documentName(&quot;queryCustomerTest&quot;)\n                .execute()\n                .path(&quot;queryCustomer&quot;)\n                .entityList(Customer.class)\n                .satisfies(customers -&gt; {\n                    assertEquals(customers.size(), 1);\n                });\n    }\n\n}\n</code></pre>\n<p>My GraphQL document</p>\n<pre><code>query queryCustomer($customerId: ID) {\n    queryCustomer(customerId: $customerId)\n    {\n        customerId\n        customerEmail\n        firstName\n        lastName\n    }\n}\n</code></pre>\n<p>And the Customer record</p>\n<pre><code>public record Customer(\n        Long customerId,\n        String customerEmail,\n        String fistName,\n        String lastName\n) {\n}\n</code></pre>\n<p>Now, I realize that my mock currently does not work this way, as I am still getting the exception returned when I execute the test:</p>\n<pre><code>java.lang.AssertionError: Response has 1 unexpected error(s) of 1 total. If expected, please filter them out: [[NotImplementedException]: This API is not yet implemented.]\n</code></pre>\n<p>I know I can filter out expected errors, but I would rather mock data being returned. How can I inject my mock data to return when MyClient.getCustomerData() is called? Thanks!</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":2441365,"reputation":13988,"user_id":2129801,"display_name":"werner"},"score":0,"creation_date":1701982235,"post_id":77622127,"comment_id":136845248,"body_markdown":"Looks like a timezone issue to me. Is your Spark cluster running in a geographical region with a timezone that is 5,5 hours ahead of UTC?","body":"Looks like a timezone issue to me. Is your Spark cluster running in a geographical region with a timezone that is 5,5 hours ahead of UTC?"},{"owner":{"account_id":30004590,"reputation":1,"user_id":22993824,"display_name":"ujjawal"},"score":0,"creation_date":1702009442,"post_id":77622127,"comment_id":136847865,"body_markdown":"Yes, I am from India. It&#39;s +5:30 from UTC timezone. I thought so, my clusters are in UTC timezone so it should be fine in DEV/QA, but still can&#39;t I force a timezone in the params?","body":"Yes, I am from India. It&#39;s +5:30 from UTC timezone. I thought so, my clusters are in UTC timezone so it should be fine in DEV/QA, but still can&#39;t I force a timezone in the params?"},{"owner":{"account_id":2441365,"reputation":13988,"user_id":2129801,"display_name":"werner"},"score":0,"creation_date":1702058940,"post_id":77622127,"comment_id":136855094,"body_markdown":"Please have a look at [this answer](https://stackoverflow.com/a/63800874/2129801). This should guide you into the correct direction. (The question is about PySpark, but the idea is the same.)","body":"Please have a look at <a href=\"https://stackoverflow.com/a/63800874/2129801\">this answer</a>. This should guide you into the correct direction. (The question is about PySpark, but the idea is the same.)"}],"owner":{"account_id":30004590,"reputation":1,"user_id":22993824,"display_name":"ujjawal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701971521,"creation_date":1701971379,"question_id":77622127,"body_markdown":"I have created a following function using Spark Dataset, which converts STRING based &quot;dates (yyyy-mm-dd)&quot;/&quot;timestamps&quot; to TIMESTAMP datatype -\r\n\r\n```\r\n/**\r\n * Converts string date/datetime to Timestamp datatype.\r\n *\r\n * @param df            dataframe\r\n * @param timestampCols timestamp columns\r\n * @return {@link Dataset&lt;Row&gt;} modified dataframe\r\n */\r\npublic static Dataset&lt;Row&gt; convertTimestampColumns(Dataset&lt;Row&gt; df, List&lt;String&gt; timestampCols) {\r\n    Dataset&lt;Row&gt; modifiedDf = df;\r\n    for (String columnName : df.columns()) {\r\n        if (timestampCols.contains(columnName)) {\r\n            modifiedDf = modifiedDf.withColumn(columnName,\r\n                    to_timestamp(df.col(columnName)));\r\n        }\r\n    }\r\n    modifiedDf.show();\r\n    return modifiedDf;\r\n}\r\n```\r\n\r\nBut when I am testing it -\r\n\r\n```\r\n@Test\r\n    public void testConvertTimestampColumns() {\r\n        SharedJavaSparkContext javaSparkContext = new SharedJavaSparkContext();\r\n        Dataset&lt;Row&gt; df;\r\n        try (SparkSession spark = new SparkSession(javaSparkContext.sc())) {\r\n            List&lt;Row&gt; data = Arrays.asList(\r\n                    RowFactory.create(1, &quot;2022-01-01&quot;, &quot;2019-03-26T20:28:32.000Z&quot;)\r\n            );\r\n\r\n            List&lt;StructField&gt; fields = Arrays.asList(\r\n                    DataTypes.createStructField(&quot;id&quot;, DataTypes.IntegerType, true),\r\n                    DataTypes.createStructField(&quot;date_col1&quot;, DataTypes.StringType, true),\r\n                    DataTypes.createStructField(&quot;date_col2&quot;, DataTypes.StringType, true)\r\n            );\r\n\r\n            StructType schema = DataTypes.createStructType(fields);\r\n            df = spark.createDataFrame(data, schema);\r\n        }\r\n\r\n        List&lt;String&gt; timestampCols = Arrays.asList(&quot;date_col1&quot;, &quot;date_col2&quot;);\r\n\r\n        // Convert timestampCols to TimestampType\r\n        Dataset&lt;Row&gt; resultDF = FactSalesforceCRMETLUtils.convertTimestampColumns(df, timestampCols);\r\n\r\n        // Check the schema and converted values\r\n        Assert.assertEquals(DataTypes.TimestampType, resultDF.schema().fields()[1].dataType());\r\n        Assert.assertEquals(DataTypes.TimestampType, resultDF.schema().fields()[2].dataType());\r\n        Assert.assertEquals(&quot;2022-01-01 00:00:00.0&quot;, resultDF.first().getAs(&quot;date_col1&quot;).toString());\r\n        Assert.assertEquals(&quot;2019-03-26 20:28:32.0&quot;, resultDF.first().getAs(&quot;date_col2&quot;).toString());\r\n    }\r\n```\r\n\r\nMy last assert is failing because the function is adding +5:30 to the provided STRING timestamp.\r\n\r\nI tried other functions like `to_utc_timestamp` *,* `from_utc_timestamp` provided by Spark but nothing helps.\r\n\r\nDo I need to create a UDF to solve this? Or is there something internal from Spark that can solve my need?","title":"to_timestamp adding +5:30 to my STRING timestamp","body":"<p>I have created a following function using Spark Dataset, which converts STRING based &quot;dates (yyyy-mm-dd)&quot;/&quot;timestamps&quot; to TIMESTAMP datatype -</p>\n<pre><code>/**\n * Converts string date/datetime to Timestamp datatype.\n *\n * @param df            dataframe\n * @param timestampCols timestamp columns\n * @return {@link Dataset&lt;Row&gt;} modified dataframe\n */\npublic static Dataset&lt;Row&gt; convertTimestampColumns(Dataset&lt;Row&gt; df, List&lt;String&gt; timestampCols) {\n    Dataset&lt;Row&gt; modifiedDf = df;\n    for (String columnName : df.columns()) {\n        if (timestampCols.contains(columnName)) {\n            modifiedDf = modifiedDf.withColumn(columnName,\n                    to_timestamp(df.col(columnName)));\n        }\n    }\n    modifiedDf.show();\n    return modifiedDf;\n}\n</code></pre>\n<p>But when I am testing it -</p>\n<pre><code>@Test\n    public void testConvertTimestampColumns() {\n        SharedJavaSparkContext javaSparkContext = new SharedJavaSparkContext();\n        Dataset&lt;Row&gt; df;\n        try (SparkSession spark = new SparkSession(javaSparkContext.sc())) {\n            List&lt;Row&gt; data = Arrays.asList(\n                    RowFactory.create(1, &quot;2022-01-01&quot;, &quot;2019-03-26T20:28:32.000Z&quot;)\n            );\n\n            List&lt;StructField&gt; fields = Arrays.asList(\n                    DataTypes.createStructField(&quot;id&quot;, DataTypes.IntegerType, true),\n                    DataTypes.createStructField(&quot;date_col1&quot;, DataTypes.StringType, true),\n                    DataTypes.createStructField(&quot;date_col2&quot;, DataTypes.StringType, true)\n            );\n\n            StructType schema = DataTypes.createStructType(fields);\n            df = spark.createDataFrame(data, schema);\n        }\n\n        List&lt;String&gt; timestampCols = Arrays.asList(&quot;date_col1&quot;, &quot;date_col2&quot;);\n\n        // Convert timestampCols to TimestampType\n        Dataset&lt;Row&gt; resultDF = FactSalesforceCRMETLUtils.convertTimestampColumns(df, timestampCols);\n\n        // Check the schema and converted values\n        Assert.assertEquals(DataTypes.TimestampType, resultDF.schema().fields()[1].dataType());\n        Assert.assertEquals(DataTypes.TimestampType, resultDF.schema().fields()[2].dataType());\n        Assert.assertEquals(&quot;2022-01-01 00:00:00.0&quot;, resultDF.first().getAs(&quot;date_col1&quot;).toString());\n        Assert.assertEquals(&quot;2019-03-26 20:28:32.0&quot;, resultDF.first().getAs(&quot;date_col2&quot;).toString());\n    }\n</code></pre>\n<p>My last assert is failing because the function is adding +5:30 to the provided STRING timestamp.</p>\n<p>I tried other functions like <code>to_utc_timestamp</code> <em>,</em> <code>from_utc_timestamp</code> provided by Spark but nothing helps.</p>\n<p>Do I need to create a UDF to solve this? Or is there something internal from Spark that can solve my need?</p>\n"},{"tags":["java","amazon-s3","amazon-kinesis-firehose"],"owner":{"account_id":3173452,"reputation":552,"user_id":2681876,"accept_rate":75,"display_name":"BillyBadBoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701970794,"creation_date":1701970794,"question_id":77622071,"body_markdown":"The javadoc for `FirehoseClient.putRecord()` warns that Firehose buffers records before delivering them to the destination, and that consequently it may be necessary to insert newline characters into the data to &quot;disambiguate the data blobs&quot;.\r\n\r\nI plan to use Firehose to write json objects to S3, by calling `FirehoseClient.putRecord()` (many times) with single json objects. I will **not** use `FirehoseClient.putRecordBatch()` at all.\r\n\r\nWhat will be written to S3? Will I get one S3 object per json object? Or is it possible that several json objects might be concatenated into a single S3 object?","title":"Will AWS Firehose batch records using `FirehoseClient.putRecord()`?","body":"<p>The javadoc for <code>FirehoseClient.putRecord()</code> warns that Firehose buffers records before delivering them to the destination, and that consequently it may be necessary to insert newline characters into the data to &quot;disambiguate the data blobs&quot;.</p>\n<p>I plan to use Firehose to write json objects to S3, by calling <code>FirehoseClient.putRecord()</code> (many times) with single json objects. I will <strong>not</strong> use <code>FirehoseClient.putRecordBatch()</code> at all.</p>\n<p>What will be written to S3? Will I get one S3 object per json object? Or is it possible that several json objects might be concatenated into a single S3 object?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701971557,"post_id":77621999,"comment_id":136843601,"body_markdown":"Maybe you can use the [FileBro](https://codereview.stackexchange.com/questions/4446/file-browser-gui)","body":"Maybe you can use the <a href=\"https://codereview.stackexchange.com/questions/4446/file-browser-gui\">FileBro</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1701979204,"post_id":77621999,"comment_id":136844836,"body_markdown":"Your code doesn&#39;t compile for me so I can&#39;t see its current behaviour. You can also check out: https://stackoverflow.com/a/43560771/131872 for a more basic example. *What I want to implement next is...* - from the above example I guess you could use the &quot;treeWillExpand&quot; event to create the file listing in your blue area.","body":"Your code doesn&#39;t compile for me so I can&#39;t see its current behaviour. You can also check out: <a href=\"https://stackoverflow.com/a/43560771/131872\">stackoverflow.com/a/43560771/131872</a> for a more basic example. <i>What I want to implement next is...</i> - from the above example I guess you could use the &quot;treeWillExpand&quot; event to create the file listing in your blue area."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701990410,"post_id":77621999,"comment_id":136846320,"body_markdown":"`return ((Enumeration&lt;? extends TreeNode&gt;) new Enumeration&lt;File&gt;()` ← That is not how types work.  A File is not a TreeNode.  A File cannot be cast to a TreeNode.  An enumeration of Files cannot be cast to an enumeration of TreeNodes.  You need to actually create TreeNodes (or FileTreeNodes) and return an enumeration of those.","body":"<code>return ((Enumeration&lt;? extends TreeNode&gt;) new Enumeration&lt;File&gt;()</code> ← That is not how types work.  A File is not a TreeNode.  A File cannot be cast to a TreeNode.  An enumeration of Files cannot be cast to an enumeration of TreeNodes.  You need to actually create TreeNodes (or FileTreeNodes) and return an enumeration of those."}],"owner":{"account_id":2355929,"reputation":1,"user_id":2063711,"display_name":"neko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701970160,"creation_date":1701970160,"question_id":77621999,"body_markdown":"I&#39;m trying to create Windows Explorer and I have a navigation window which displays folder structure.\r\nWhat I want to implement next is, all files including subfolders within a selected folder on the nativation window be displayed in a blue area (&quot;viewWindow&quot;) but I&#39;m not sure how.\r\nMy guess is I need to create a listener which ditects a mouse click and it does, it displays all files.\r\n\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Component;\r\nimport java.awt.Toolkit;\r\nimport java.io.File;\r\nimport java.util.Enumeration;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.NoSuchElementException;\r\n\r\nimport javax.swing.filechooser.FileSystemView;\r\nimport javax.swing.tree.DefaultTreeCellRenderer;\r\nimport javax.swing.tree.TreeNode;\r\nimport javax.swing.Icon;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JSplitPane;\r\nimport javax.swing.JTree;\r\nimport javax.swing.SwingUtilities;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class fileViewer extends JFrame {\r\n\tprivate static int screenWidth = Toolkit.getDefaultToolkit().getScreenSize().width;\r\n\tprivate static int screenHeight = Toolkit.getDefaultToolkit().getScreenSize().height;\r\n\tprivate static FileSystemView fsv = FileSystemView.getFileSystemView();\r\n\tprivate JSplitPane panel;\r\n\r\n\tpublic fileViewer() {\r\n\t\tJTree tree = new JTree(new FileTreeNode(File.listRoots()));\r\n\t\ttree.setCellRenderer(new RenderFileCell());\r\n\t\ttree.setRootVisible(false);\r\n\t\tJScrollPane navigationWindow = new JScrollPane(tree);\r\n\t\tJPanel viewWindow = new JPanel();\r\n\t\tviewWindow.setBackground(Color.BLUE);\r\n\t\tpanel = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, navigationWindow, viewWindow);\r\n\t\tpanel.setDividerLocation(100);\r\n\t\tadd(panel);\r\n\t}\r\n\r\n\t// to render the single file cell\r\n\tpublic static class RenderFileCell extends DefaultTreeCellRenderer {\r\n\t\tprivate Map&lt;String, Icon&gt; iconCache = new HashMap&lt;&gt;();\r\n\t\tprivate Map&lt;File, String&gt; rootNameCache = new HashMap&lt;&gt;();\r\n\r\n\t\tpublic RenderFileCell() {\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Component getTreeCellRendererComponent(JTree tree, Object value, boolean selected, boolean expanded,\r\n\t\t\t\tboolean leaf, int row, boolean hasFocus) {\r\n\r\n\t\t\tJLabel result = null;\r\n\t\t\tFileTreeNode ftn = (FileTreeNode) value;\r\n\t\t\tFile file = ftn.file;\r\n\t\t\tString fileName = &quot;&quot;;\r\n\r\n\t\t\tif (file != null) {\r\n\t\t\t\tif (ftn.isFileSystemRoot) {\r\n\t\t\t\t\tfileName = this.rootNameCache.get(file);\r\n\t\t\t\t\tif (fileName == null) {\r\n\t\t\t\t\t\tfileName = fsv.getSystemDisplayName(file);\r\n\t\t\t\t\t\tthis.rootNameCache.put(file, fileName);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfileName = file.getName();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tresult = (JLabel) super.getTreeCellRendererComponent(\r\n\t\t\t\t\ttree, fileName, selected, expanded, leaf, row, hasFocus);\r\n\r\n\t\t\tif (file != null) {\r\n\t\t\t\tIcon icon = iconCache.get(fileName);\r\n\t\t\t\tif (icon == null) {\r\n\t\t\t\t\ticon = fsv.getSystemIcon(file);\r\n\t\t\t\t\ticonCache.put(fileName, icon);\r\n\t\t\t\t}\r\n\t\t\t\tresult.setIcon(icon);\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static class FileTreeNode implements TreeNode {\r\n\t\tprivate File file;\r\n\t\tprivate TreeNode parent;\r\n\t\tprivate File[] children;\r\n\t\tprivate boolean isFileSystemRoot;\r\n\r\n\t\tpublic FileTreeNode(File[] children) {\r\n\t\t\tfile = null;\r\n\t\t\tparent = null;\r\n\t\t\tthis.children = children;\r\n\t\t}\r\n\r\n\t\tpublic FileTreeNode(File file, boolean isFileSystemRoot, TreeNode parent) {\r\n\t\t\tthis.file = file;\r\n\t\t\tthis.isFileSystemRoot = isFileSystemRoot;\r\n\t\t\tthis.parent = parent;\r\n\t\t\tchildren = this.file.listFiles();\r\n\t\t\tif (children == null) {\r\n\t\t\t\tchildren = new File[0];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic TreeNode getChildAt(int childIndex) {\r\n\t\t\treturn new FileTreeNode(children[childIndex], parent == null, this);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic int getChildCount() {\r\n\t\t\treturn children.length;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic TreeNode getParent() {\r\n\t\t\treturn parent;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic int getIndex(TreeNode node) {\r\n\t\t\tFileTreeNode ftn = (FileTreeNode) node;\r\n\t\t\tfor (int i = 0; i &lt; children.length; i++) {\r\n\t\t\t\tif (ftn.file.equals(children[i])) {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn -1;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean getAllowsChildren() {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean isLeaf() {\r\n\t\t\treturn getChildCount() == 0;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Enumeration&lt;? extends TreeNode&gt; children() {\r\n\t\t\tfinal int elementCount = this.children.length;\r\n\t\t\treturn ((Enumeration&lt;? extends TreeNode&gt;) new Enumeration&lt;File&gt;() {\r\n\t\t\t\tint count = 0;\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean hasMoreElements() {\r\n\t\t\t\t\treturn count &lt; elementCount;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic File nextElement() {\r\n\t\t\t\t\tif (count &lt; elementCount) {\r\n\t\t\t\t\t\treturn FileTreeNode.this.children[count++];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthrow new NoSuchElementException(&quot;Vector Enumeration&quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tJFrame frame = new fileViewer();\r\n\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\tframe.setBounds(0, 0, (int) (screenHeight / 2 * 1.414), screenHeight / 2);\r\n\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\tframe.setVisible(true);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n","title":"How to display the all files of a selected folder like Explorer in Java?","body":"<p>I'm trying to create Windows Explorer and I have a navigation window which displays folder structure.\nWhat I want to implement next is, all files including subfolders within a selected folder on the nativation window be displayed in a blue area (&quot;viewWindow&quot;) but I'm not sure how.\nMy guess is I need to create a listener which ditects a mouse click and it does, it displays all files.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Toolkit;\nimport java.io.File;\nimport java.util.Enumeration;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.NoSuchElementException;\n\nimport javax.swing.filechooser.FileSystemView;\nimport javax.swing.tree.DefaultTreeCellRenderer;\nimport javax.swing.tree.TreeNode;\nimport javax.swing.Icon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JSplitPane;\nimport javax.swing.JTree;\nimport javax.swing.SwingUtilities;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class fileViewer extends JFrame {\n    private static int screenWidth = Toolkit.getDefaultToolkit().getScreenSize().width;\n    private static int screenHeight = Toolkit.getDefaultToolkit().getScreenSize().height;\n    private static FileSystemView fsv = FileSystemView.getFileSystemView();\n    private JSplitPane panel;\n\n    public fileViewer() {\n        JTree tree = new JTree(new FileTreeNode(File.listRoots()));\n        tree.setCellRenderer(new RenderFileCell());\n        tree.setRootVisible(false);\n        JScrollPane navigationWindow = new JScrollPane(tree);\n        JPanel viewWindow = new JPanel();\n        viewWindow.setBackground(Color.BLUE);\n        panel = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, navigationWindow, viewWindow);\n        panel.setDividerLocation(100);\n        add(panel);\n    }\n\n    // to render the single file cell\n    public static class RenderFileCell extends DefaultTreeCellRenderer {\n        private Map&lt;String, Icon&gt; iconCache = new HashMap&lt;&gt;();\n        private Map&lt;File, String&gt; rootNameCache = new HashMap&lt;&gt;();\n\n        public RenderFileCell() {\n        }\n\n        @Override\n        public Component getTreeCellRendererComponent(JTree tree, Object value, boolean selected, boolean expanded,\n                boolean leaf, int row, boolean hasFocus) {\n\n            JLabel result = null;\n            FileTreeNode ftn = (FileTreeNode) value;\n            File file = ftn.file;\n            String fileName = &quot;&quot;;\n\n            if (file != null) {\n                if (ftn.isFileSystemRoot) {\n                    fileName = this.rootNameCache.get(file);\n                    if (fileName == null) {\n                        fileName = fsv.getSystemDisplayName(file);\n                        this.rootNameCache.put(file, fileName);\n                    }\n                } else {\n                    fileName = file.getName();\n                }\n            }\n\n            result = (JLabel) super.getTreeCellRendererComponent(\n                    tree, fileName, selected, expanded, leaf, row, hasFocus);\n\n            if (file != null) {\n                Icon icon = iconCache.get(fileName);\n                if (icon == null) {\n                    icon = fsv.getSystemIcon(file);\n                    iconCache.put(fileName, icon);\n                }\n                result.setIcon(icon);\n            }\n            return result;\n        }\n    }\n\n    private static class FileTreeNode implements TreeNode {\n        private File file;\n        private TreeNode parent;\n        private File[] children;\n        private boolean isFileSystemRoot;\n\n        public FileTreeNode(File[] children) {\n            file = null;\n            parent = null;\n            this.children = children;\n        }\n\n        public FileTreeNode(File file, boolean isFileSystemRoot, TreeNode parent) {\n            this.file = file;\n            this.isFileSystemRoot = isFileSystemRoot;\n            this.parent = parent;\n            children = this.file.listFiles();\n            if (children == null) {\n                children = new File[0];\n            }\n        }\n\n        @Override\n        public TreeNode getChildAt(int childIndex) {\n            return new FileTreeNode(children[childIndex], parent == null, this);\n        }\n\n        @Override\n        public int getChildCount() {\n            return children.length;\n        }\n\n        @Override\n        public TreeNode getParent() {\n            return parent;\n        }\n\n        @Override\n        public int getIndex(TreeNode node) {\n            FileTreeNode ftn = (FileTreeNode) node;\n            for (int i = 0; i &lt; children.length; i++) {\n                if (ftn.file.equals(children[i])) {\n                    return i;\n                }\n            }\n            return -1;\n        }\n\n        @Override\n        public boolean getAllowsChildren() {\n            return true;\n        }\n\n        @Override\n        public boolean isLeaf() {\n            return getChildCount() == 0;\n        }\n\n        @Override\n        public Enumeration&lt;? extends TreeNode&gt; children() {\n            final int elementCount = this.children.length;\n            return ((Enumeration&lt;? extends TreeNode&gt;) new Enumeration&lt;File&gt;() {\n                int count = 0;\n\n                @Override\n                public boolean hasMoreElements() {\n                    return count &lt; elementCount;\n                }\n\n                @Override\n                public File nextElement() {\n                    if (count &lt; elementCount) {\n                        return FileTreeNode.this.children[count++];\n                    }\n                    throw new NoSuchElementException(&quot;Vector Enumeration&quot;);\n                }\n\n            });\n        }\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new fileViewer();\n                frame.setLocationRelativeTo(null);\n                frame.setBounds(0, 0, (int) (screenHeight / 2 * 1.414), screenHeight / 2);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701967982,"post_id":77621758,"comment_id":136843048,"body_markdown":"It&#39;s accepting the `&quot;Hello&quot;` as the argument to your `Function&lt;String, String&gt;`, which takes a string and appends `id.toString()` to it. It isn&#39;t taking two arguments, you simply made a `Function` that is built off of a side effect / dynamically generated.","body":"It&#39;s accepting the <code>&quot;Hello&quot;</code> as the argument to your <code>Function&lt;String, String&gt;</code>, which takes a string and appends <code>id.toString()</code> to it. It isn&#39;t taking two arguments, you simply made a <code>Function</code> that is built off of a side effect / dynamically generated."},{"owner":{"account_id":420911,"reputation":9,"user_id":798850,"display_name":"Mandanna Thekkada"},"score":0,"creation_date":1701973370,"post_id":77621758,"comment_id":136843907,"body_markdown":"Thanks very much for explanation!so i suppose  a form of currying  is happening here ?","body":"Thanks very much for explanation!so i suppose  a form of currying  is happening here ?"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701973630,"post_id":77621758,"comment_id":136843955,"body_markdown":"It’s not currying, as you have never defined a function with two arguments. You just used a value from the surrounding context. But you can do currying like `id -&gt; str -&gt; str.concat(id.toString())`. By the way, `str.concat(id.toString())` can be written as `str + id`","body":"It’s not currying, as you have never defined a function with two arguments. You just used a value from the surrounding context. But you can do currying like <code>id -&gt; str -&gt; str.concat(id.toString())</code>. By the way, <code>str.concat(id.toString())</code> can be written as <code>str + id</code>"}],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701970131,"creation_date":1701970131,"answer_id":77621994,"question_id":77621758,"body_markdown":"No, `concatenateTwoStrings` is not accepting two arguments there. Furthermore, there is absolutely nothing in the code that you posted that in any way indicates that the function might be accepting two arguments, so it is unclear what gave you this impression and why you are asking the question.\r\n\r\nSo, you should have explained precisely what it is about the code that you posted that gave you this impression and made you ask this question.\r\n\r\nTo save you from the trouble, I bet that it is the `Function&lt;String, String&gt;` part that confused you. \r\n\r\nWell, if you look at the definition of `Function&lt;T,R&gt;` you will see that the 1st generic parameter corresponds to the _**one and only one**_ argument accepted by `apply()`, while the 2nd generic parameter corresponds to the _**return value**_ of `apply()`.  So, `Function&lt;T,R&gt;` does not describe a void function with two parameters, it describes a function with one parameter and one return value.","title":"Can Java.util.function accept 2 arguments?","body":"<p>No, <code>concatenateTwoStrings</code> is not accepting two arguments there. Furthermore, there is absolutely nothing in the code that you posted that in any way indicates that the function might be accepting two arguments, so it is unclear what gave you this impression and why you are asking the question.</p>\n<p>So, you should have explained precisely what it is about the code that you posted that gave you this impression and made you ask this question.</p>\n<p>To save you from the trouble, I bet that it is the <code>Function&lt;String, String&gt;</code> part that confused you.</p>\n<p>Well, if you look at the definition of <code>Function&lt;T,R&gt;</code> you will see that the 1st generic parameter corresponds to the <em><strong>one and only one</strong></em> argument accepted by <code>apply()</code>, while the 2nd generic parameter corresponds to the <em><strong>return value</strong></em> of <code>apply()</code>.  So, <code>Function&lt;T,R&gt;</code> does not describe a void function with two parameters, it describes a function with one parameter and one return value.</p>\n"}],"owner":{"account_id":420911,"reputation":9,"user_id":798850,"display_name":"Mandanna Thekkada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701970131,"creation_date":1701967814,"question_id":77621758,"body_markdown":"I&#39;m just trying to understand what is happening here ?\r\nIs the java.util.function.Function concatenateTwoStrings accepting two arguments here ? Since, according to documentation it should accept only 1 argument or is there some under the covers conversion to BiFunction ? \r\n```\r\nimport java.util.function.Function;\r\n\r\npublic class Main {\r\n    static Function&lt;String, String&gt; concatenateTwoStrings (Integer id){\r\n        return str -&gt; str.concat(id.toString());\r\n    }\r\n    public static void main(String[] args) {\r\n        System.out.println(Main.concatenateTwoStrings(12).apply(&quot;hello&quot;));\r\n\r\n    }\r\n}\r\n```\r\nThe code compiles and the output is &quot;hello12&quot;","title":"Can Java.util.function accept 2 arguments?","body":"<p>I'm just trying to understand what is happening here ?\nIs the java.util.function.Function concatenateTwoStrings accepting two arguments here ? Since, according to documentation it should accept only 1 argument or is there some under the covers conversion to BiFunction ?</p>\n<pre><code>import java.util.function.Function;\n\npublic class Main {\n    static Function&lt;String, String&gt; concatenateTwoStrings (Integer id){\n        return str -&gt; str.concat(id.toString());\n    }\n    public static void main(String[] args) {\n        System.out.println(Main.concatenateTwoStrings(12).apply(&quot;hello&quot;));\n\n    }\n}\n</code></pre>\n<p>The code compiles and the output is &quot;hello12&quot;</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":2,"creation_date":1701969278,"post_id":77621894,"comment_id":136843260,"body_markdown":"You forgot to actually ask a question in your post.","body":"You forgot to actually ask a question in your post."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1701970119,"post_id":77621894,"comment_id":136843399,"body_markdown":"The &quot;working behind it&quot; is explained quite thoroughly a number of places, [including Wikipedia](https://en.wikipedia.org/wiki/Bubble_sort). Since we do not know the error you are facing there is no way to help.","body":"The &quot;working behind it&quot; is explained quite thoroughly a number of places, <a href=\"https://en.wikipedia.org/wiki/Bubble_sort\" rel=\"nofollow noreferrer\">including Wikipedia</a>. Since we do not know the error you are facing there is no way to help."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701970769,"post_id":77621894,"comment_id":136843489,"body_markdown":"Welcome to Stack Overflow. To better understand how to use this site, please check these resources, with their links: The [Tour](https://stackoverflow.com/tour), the [Help Center](https://stackoverflow.com/help), and [How to Ask a Good Question](https://stackoverflow.com/help/how-to-ask)","body":"Welcome to Stack Overflow. To better understand how to use this site, please check these resources, with their links: The <a href=\"https://stackoverflow.com/tour\">Tour</a>, the <a href=\"https://stackoverflow.com/help\">Help Center</a>, and <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask a Good Question</a>"}],"answers":[{"tags":[],"owner":{"account_id":30091749,"reputation":1,"user_id":23061058,"display_name":"Prabath Sarathchandra"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1701969530,"creation_date":1701969381,"answer_id":77621929,"question_id":77621894,"body_markdown":"Bubble sort is a simple sorting algorithm that works by repeatedly stepping through the list to be sorted, comparing each pair of adjacent items, and swapping them if they are in the wrong order. The pass through the list is repeated until no swaps are needed, which means that the list is sorted.\r\n\r\nHere I will give you a general outline of how bubble sort works:\r\n\r\n1. Start at the beginning of the array.\r\n\r\n2. Compare the first two elements. If the first element is greater than the second element, swap them.\r\n\r\n3. Move to the next pair of elements (i.e., the second and third elements) and repeat step 2.\r\n\r\n4. Continue this process, comparing and swapping adjacent elements, until you reach the end of the array.\r\n\r\n5. After the first pass, the largest element will have &quot;bubbled up&quot; to the end of the array.\r\n\r\n6. Repeat the process for the remaining unsorted portion of the array (excluding the last element, which is already sorted).\r\n\r\n7. Continue these steps until no more swaps are needed during a pass through the array. This means the array is sorted.\r\n\r\nIf you provide your code and describe the specific error or issue you&#39;re facing, I can give you more targeted assistance.","title":"Explain Bubble sort technique Double Dimensional Array (DDA) in Java Programming Language?","body":"<p>Bubble sort is a simple sorting algorithm that works by repeatedly stepping through the list to be sorted, comparing each pair of adjacent items, and swapping them if they are in the wrong order. The pass through the list is repeated until no swaps are needed, which means that the list is sorted.</p>\n<p>Here I will give you a general outline of how bubble sort works:</p>\n<ol>\n<li><p>Start at the beginning of the array.</p>\n</li>\n<li><p>Compare the first two elements. If the first element is greater than the second element, swap them.</p>\n</li>\n<li><p>Move to the next pair of elements (i.e., the second and third elements) and repeat step 2.</p>\n</li>\n<li><p>Continue this process, comparing and swapping adjacent elements, until you reach the end of the array.</p>\n</li>\n<li><p>After the first pass, the largest element will have &quot;bubbled up&quot; to the end of the array.</p>\n</li>\n<li><p>Repeat the process for the remaining unsorted portion of the array (excluding the last element, which is already sorted).</p>\n</li>\n<li><p>Continue these steps until no more swaps are needed during a pass through the array. This means the array is sorted.</p>\n</li>\n</ol>\n<p>If you provide your code and describe the specific error or issue you're facing, I can give you more targeted assistance.</p>\n"}],"owner":{"account_id":30091726,"reputation":1,"user_id":23061038,"display_name":"Nitin B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1701969655,"answer_count":1,"score":-5,"last_activity_date":1701969950,"creation_date":1701969019,"question_id":77621894,"body_markdown":"Bubble sort using Double Dimensional Array (DDA) in Java Programming Language\r\n\r\nI tried a program relating to Bubble sort in DDA, but I am not able to understand the working behind it. I tried an example array in BlueJ and Visual Studio Code (VSC), but I am not able to understand the working behind it as well as the error I am facing in the program.","title":"Explain Bubble sort technique Double Dimensional Array (DDA) in Java Programming Language?","body":"<p>Bubble sort using Double Dimensional Array (DDA) in Java Programming Language</p>\n<p>I tried a program relating to Bubble sort in DDA, but I am not able to understand the working behind it. I tried an example array in BlueJ and Visual Studio Code (VSC), but I am not able to understand the working behind it as well as the error I am facing in the program.</p>\n"},{"tags":["java","android","kotlin","mobile"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991113,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696936383,"creation_date":1696936383,"answer_id":77265275,"question_id":77263722,"body_markdown":"Showing numbers as a badge on a launcher icon is not a feature of Android. That is either added by your device manufacturer or by your launcher developer. You will need to find out and then research them to see what options they have for letting third-party apps contribute number badges.","title":"How to enable notification number badge style on my android app?","body":"<p>Showing numbers as a badge on a launcher icon is not a feature of Android. That is either added by your device manufacturer or by your launcher developer. You will need to find out and then research them to see what options they have for letting third-party apps contribute number badges.</p>\n"}],"owner":{"account_id":14611069,"reputation":35,"user_id":10552547,"display_name":"Ahmed_Abdulrahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701969918,"creation_date":1696923166,"question_id":77263722,"body_markdown":"In mobile notification settings, all apps have the ability to show notification badge in dot style, but only some apps that supports to show it in numbers style, are you have any idea how to make my app programmatically support both styles not&#160;only&#160;dot&#160;one with android Kotlin?\r\n\r\n[![mobile screenshot](https://i.stack.imgur.com/w9FV3.jpg)](https://i.stack.imgur.com/w9FV3.jpg)","title":"How to enable notification number badge style on my android app?","body":"<p>In mobile notification settings, all apps have the ability to show notification badge in dot style, but only some apps that supports to show it in numbers style, are you have any idea how to make my app programmatically support both styles not only dot one with android Kotlin?</p>\n<p><a href=\"https://i.stack.imgur.com/w9FV3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w9FV3.jpg\" alt=\"mobile screenshot\" /></a></p>\n"},{"tags":["java","android","react-native","expo","java-11"],"comments":[{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1658743273,"post_id":73107234,"comment_id":129118316,"body_markdown":"If the Java 14 version is not there for you, I expect that you have installed JRE package for Java 14; e.g. `openjdk-14-jre` rather than `openjdk-14-jdk`.   Use `find` to see if can find `jlink` in the `/usr/jvm` tree.","body":"If the Java 14 version is not there for you, I expect that you have installed JRE package for Java 14; e.g. <code>openjdk-14-jre</code> rather than <code>openjdk-14-jdk</code>.   Use <code>find</code> to see if can find <code>jlink</code> in the <code>&#47;usr&#47;jvm</code> tree."},{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":0,"creation_date":1658743287,"post_id":73107234,"comment_id":129118323,"body_markdown":"Looks like somewhere in the project the path of jlink has been specified to be `java-14-openjdk-amd64` folder. You should try searching for this path and correcting it.","body":"Looks like somewhere in the project the path of jlink has been specified to be <code>java-14-openjdk-amd64</code> folder. You should try searching for this path and correcting it."},{"owner":{"account_id":18466761,"reputation":330,"user_id":13452723,"display_name":"dukizwe"},"score":0,"creation_date":1658747330,"post_id":73107234,"comment_id":129119906,"body_markdown":"jlink is only available in `java-11-openjdk-amd64` folder. Where exaclty can i change this path in android folder ? I searched everywhere but not find this","body":"jlink is only available in <code>java-11-openjdk-amd64</code> folder. Where exaclty can i change this path in android folder ? I searched everywhere but not find this"}],"answers":[{"tags":[],"owner":{"account_id":25215467,"reputation":47,"user_id":19052639,"display_name":"Victor Lukoky"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1659282245,"creation_date":1658969052,"answer_id":73146019,"question_id":73107234,"body_markdown":"I&#39;ve just copied `jlink`, `javac` and `jmod` from this path: \r\n\r\n`/home/USER/android-studio/jre/bin/` \r\n\r\nto the following path: \r\n\r\n`/usr/lib/jvm/java-11-openjdk-11.0.15.0.10-1.fc36.x86_64/bin`\r\n\r\nNote: It&#39;s important to use `Terminal` as root\r\n\r\nOS Used: Linux Fedora 36","title":"How to fix jlink does not exist?","body":"<p>I've just copied <code>jlink</code>, <code>javac</code> and <code>jmod</code> from this path:</p>\n<p><code>/home/USER/android-studio/jre/bin/</code></p>\n<p>to the following path:</p>\n<p><code>/usr/lib/jvm/java-11-openjdk-11.0.15.0.10-1.fc36.x86_64/bin</code></p>\n<p>Note: It's important to use <code>Terminal</code> as root</p>\n<p>OS Used: Linux Fedora 36</p>\n"},{"tags":[],"owner":{"account_id":1253026,"reputation":3171,"user_id":1213041,"accept_rate":40,"display_name":"cdosborn"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1666836713,"creation_date":1666836713,"answer_id":74216028,"question_id":73107234,"body_markdown":"You need to install the development package for Java. On debian, this is the `openjdk-11-jdk` package.","title":"How to fix jlink does not exist?","body":"<p>You need to install the development package for Java. On debian, this is the <code>openjdk-11-jdk</code> package.</p>\n"},{"tags":[],"owner":{"account_id":23255134,"reputation":320,"user_id":17342313,"display_name":"satk0"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673099321,"creation_date":1673099321,"answer_id":75040823,"question_id":73107234,"body_markdown":"For IntelliJ IDEA, go to: `File &gt; Project Structure` and in `Project` tab change `SDK` to any SDK that uses JDK 11 or 8.","title":"How to fix jlink does not exist?","body":"<p>For IntelliJ IDEA, go to: <code>File &gt; Project Structure</code> and in <code>Project</code> tab change <code>SDK</code> to any SDK that uses JDK 11 or 8.</p>\n"},{"tags":[],"owner":{"account_id":20239358,"reputation":347,"user_id":14843625,"display_name":"pjoshi"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1679973401,"creation_date":1679973401,"answer_id":75862061,"question_id":73107234,"body_markdown":"I also faced same issue when I did run my React Native app on my new Ubuntu 22.x machine. I fixed it with installing JRE along with JDK. \r\n\r\nStep 1 `sudo apt install default-jre`  followed by `java -version`\r\n\r\nshould display - \r\n\r\n`Output\r\nopenjdk version &quot;11.0.14&quot; 2022-01-18\r\nOpenJDK Runtime Environment (build 11.0.14+9-Ubuntu-0ubuntu2)\r\nOpenJDK 64-Bit Server VM (build 11.0.14+9-Ubuntu-0ubuntu2, mixed mode, sharing)`\r\n\r\nFollowed by - \r\n`sudo apt install default-jdk` \r\n\r\nCheck - `javac -version`  to get output as - \r\n\r\n`Output\r\njavac 11.0.14`\r\n\r\nHope it helps!\r\n","title":"How to fix jlink does not exist?","body":"<p>I also faced same issue when I did run my React Native app on my new Ubuntu 22.x machine. I fixed it with installing JRE along with JDK.</p>\n<p>Step 1 <code>sudo apt install default-jre</code>  followed by <code>java -version</code></p>\n<p>should display -</p>\n<p><code>Output openjdk version &quot;11.0.14&quot; 2022-01-18 OpenJDK Runtime Environment (build 11.0.14+9-Ubuntu-0ubuntu2) OpenJDK 64-Bit Server VM (build 11.0.14+9-Ubuntu-0ubuntu2, mixed mode, sharing)</code></p>\n<p>Followed by -\n<code>sudo apt install default-jdk</code></p>\n<p>Check - <code>javac -version</code>  to get output as -</p>\n<p><code>Output javac 11.0.14</code></p>\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":164450,"reputation":63033,"user_id":387194,"accept_rate":82,"display_name":"jcubic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688402931,"creation_date":1688402931,"answer_id":76606745,"question_id":73107234,"body_markdown":"I had the same error, I&#39;ve installed `java-17-openjdk` on Fedora it turns out that I also need to install `java-17-openjdk-devel`.\r\n\r\n```\r\nsudo dnf install java-17-openjdk java-17-openjdk-devel\r\n```","title":"How to fix jlink does not exist?","body":"<p>I had the same error, I've installed <code>java-17-openjdk</code> on Fedora it turns out that I also need to install <code>java-17-openjdk-devel</code>.</p>\n<pre><code>sudo dnf install java-17-openjdk java-17-openjdk-devel\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15312949,"reputation":183,"user_id":11047697,"display_name":"saintmarina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689613093,"creation_date":1689613093,"answer_id":76706627,"question_id":73107234,"body_markdown":"In my gradle file I had:\r\n```kotlin\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_17\r\n        targetCompatibility JavaVersion.VERSION_17\r\n    }\r\n\r\n    kotlin {\r\n        jvmToolchain(8)\r\n    }\r\n```\r\n\r\nSetting the same java version for compileOptions and kotlin closures fixed the issue:\r\n```kotlin\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    kotlin {\r\n        jvmToolchain(8)\r\n    }\r\n```\r\n","title":"How to fix jlink does not exist?","body":"<p>In my gradle file I had:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n\n    kotlin {\n        jvmToolchain(8)\n    }\n</code></pre>\n<p>Setting the same java version for compileOptions and kotlin closures fixed the issue:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlin {\n        jvmToolchain(8)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11830017,"reputation":190,"user_id":8657006,"display_name":"Abdus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689774709,"creation_date":1689774709,"answer_id":76722051,"question_id":73107234,"body_markdown":"In my case, JDK was missing for Java 17. I installed it using `sudo pacman -Syu jdk17-openjdk`, and it worked.\r\n\r\nYou probably do not have JDK installed. You can install it from your distro&#39;s repository. For Arch Linux, check [this doc](https://wiki.archlinux.org/title/java).","title":"How to fix jlink does not exist?","body":"<p>In my case, JDK was missing for Java 17. I installed it using <code>sudo pacman -Syu jdk17-openjdk</code>, and it worked.</p>\n<p>You probably do not have JDK installed. You can install it from your distro's repository. For Arch Linux, check <a href=\"https://wiki.archlinux.org/title/java\" rel=\"nofollow noreferrer\">this doc</a>.</p>\n"},{"tags":[],"owner":{"account_id":5693897,"reputation":661,"user_id":4500996,"accept_rate":80,"display_name":"otboss"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1693074375,"creation_date":1691975423,"answer_id":76895788,"question_id":73107234,"body_markdown":"It appears that you need to set the JAVA_HOME environment variable to the parent of the jlink binary. Android Studio includes its own jlink binary. On Linux (or Mac) you can use:\r\n\r\n```\r\nexport JAVA_HOME=&quot;$HOME/android-studio/jbr&quot;\r\n```\r\n\r\nwhat comes after `$HOME` would depend on where you have Android Studio installed.\r\n\r\na more permanent solution is to edit your `~/.bashrc` file, append the command provided above (with the path modifications if any) to the end of the said file and save changes. All done, open a new terminal and try compiling again.\r\n\r\nOn Windows you need to add the JAVA_HOME to your path","title":"How to fix jlink does not exist?","body":"<p>It appears that you need to set the JAVA_HOME environment variable to the parent of the jlink binary. Android Studio includes its own jlink binary. On Linux (or Mac) you can use:</p>\n<pre><code>export JAVA_HOME=&quot;$HOME/android-studio/jbr&quot;\n</code></pre>\n<p>what comes after <code>$HOME</code> would depend on where you have Android Studio installed.</p>\n<p>a more permanent solution is to edit your <code>~/.bashrc</code> file, append the command provided above (with the path modifications if any) to the end of the said file and save changes. All done, open a new terminal and try compiling again.</p>\n<p>On Windows you need to add the JAVA_HOME to your path</p>\n"},{"tags":[],"owner":{"account_id":4070049,"reputation":7510,"user_id":3343503,"accept_rate":89,"display_name":"Waqas Tahir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693829172,"creation_date":1693828475,"answer_id":77037478,"question_id":73107234,"body_markdown":"I upgrade from Gradle 7 to 8 and I had to also upgrade android Gradle plugin to 8.0.0, My `jvmTarget` was equal to `1.8` and `JavaVersion.VERSION_1_8` was being used for target and source compatability\r\n\r\nBut after upgrading to gradle 8, It requires Java version to be atleast 17, I tried setting only source compatability but that didn&#39;t work, so I had to change all three, source, target &amp; jvmTarget to 17\r\n\r\nMy application worked fine on Desktop (jvmMain), But on Android I would get `jlink` executable doesn&#39;t exist. Since Its kotlin multiplatform.\r\n\r\nWhat didn&#39;t work\r\n\r\n - Downloading Coretto 17 and using that\r\n\r\n - Removing all sdks in project structure and using only jdk 17 from jbr\r\n\r\n - using `jvmToolchain(17)` in kotlin block inside android block\r\n\r\n - `invalidateCachesAndRestart` plus deleting the .idea folder\r\n\r\nWhat worked\r\n\r\n - Using Android JDK, I removed all jdks in `project structure` -&gt; sdks, Then added android jdk found in the jbr folder of android studio installation\r\n\r\n - also selected this jdk in `project structure -&gt; project -&gt; Sdk field` \r\n\r\n - You must also change the jdk in `File -&gt; Settings -&gt; BuildTools -&gt; Gradle`\r\n\r\nSo It appears that the problem is that jbr jdk relly is missing the `jlink` executable since Android Studio jdk is working fine. I am going to redownload the jbr 17 sdk and I am pretty sure it should work , and should contain `jlink` executable, I think during updates somehow `jlink` executable got deleted.","title":"How to fix jlink does not exist?","body":"<p>I upgrade from Gradle 7 to 8 and I had to also upgrade android Gradle plugin to 8.0.0, My <code>jvmTarget</code> was equal to <code>1.8</code> and <code>JavaVersion.VERSION_1_8</code> was being used for target and source compatability</p>\n<p>But after upgrading to gradle 8, It requires Java version to be atleast 17, I tried setting only source compatability but that didn't work, so I had to change all three, source, target &amp; jvmTarget to 17</p>\n<p>My application worked fine on Desktop (jvmMain), But on Android I would get <code>jlink</code> executable doesn't exist. Since Its kotlin multiplatform.</p>\n<p>What didn't work</p>\n<ul>\n<li><p>Downloading Coretto 17 and using that</p>\n</li>\n<li><p>Removing all sdks in project structure and using only jdk 17 from jbr</p>\n</li>\n<li><p>using <code>jvmToolchain(17)</code> in kotlin block inside android block</p>\n</li>\n<li><p><code>invalidateCachesAndRestart</code> plus deleting the .idea folder</p>\n</li>\n</ul>\n<p>What worked</p>\n<ul>\n<li><p>Using Android JDK, I removed all jdks in <code>project structure</code> -&gt; sdks, Then added android jdk found in the jbr folder of android studio installation</p>\n</li>\n<li><p>also selected this jdk in <code>project structure -&gt; project -&gt; Sdk field</code></p>\n</li>\n<li><p>You must also change the jdk in <code>File -&gt; Settings -&gt; BuildTools -&gt; Gradle</code></p>\n</li>\n</ul>\n<p>So It appears that the problem is that jbr jdk relly is missing the <code>jlink</code> executable since Android Studio jdk is working fine. I am going to redownload the jbr 17 sdk and I am pretty sure it should work , and should contain <code>jlink</code> executable, I think during updates somehow <code>jlink</code> executable got deleted.</p>\n"},{"tags":[],"owner":{"account_id":26006022,"reputation":11,"user_id":19715714,"display_name":"Kuldeep jangid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694610387,"creation_date":1694503953,"answer_id":77086920,"question_id":73107234,"body_markdown":"This work for me you can try this out \r\nclean the gradlew then run this command ....\r\n```\r\nsudo apt install openjdk-11-jdk-headless   \r\nJAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\r\n```\r\n\r\n\r\n","title":"How to fix jlink does not exist?","body":"<p>This work for me you can try this out\nclean the gradlew then run this command ....</p>\n<pre><code>sudo apt install openjdk-11-jdk-headless   \nJAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":193129,"reputation":627,"user_id":434654,"display_name":"Neeraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700493867,"creation_date":1700493867,"answer_id":77517060,"question_id":73107234,"body_markdown":"I tried to build react native app using OpenJdk 17 but didnt work. I was getting continuous error as below\r\n\r\n\r\n\r\n    * What went wrong:\r\n\r\n Execution failed for task &#39;:app:compileReleaseJavaWithJavac&#39;.\r\n\r\n  &gt; Could not resolve all files for configuration &#39;:app:androidJdkImage&#39;.\r\n   &gt; Failed to transform core-for-system-modules.jar to match attributes {artifactType=_internal_android_jdk_image, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\r\n\r\n      &gt; Execution failed for JdkImageTransform: /home/neeraj/Android/Sdk/platforms/android-33/core-for-system-modules.jar.\r\n         &gt; jlink executable /usr/lib/jvm/java-17-openjdk-17.0.8.0.7-1.fc39.x86_64/bin/jlink does not exist.\r\n\r\n\r\n\r\nI installed OpenJdk 11 and this fixed my problem. I have OpenJdk 17 also installed on my machine which I switch as and when needed.\r\n\r\nI am using fedora 39.","title":"How to fix jlink does not exist?","body":"<p>I tried to build react native app using OpenJdk 17 but didnt work. I was getting continuous error as below</p>\n<pre><code>* What went wrong:\n</code></pre>\n<p>Execution failed for task ':app:compileReleaseJavaWithJavac'.</p>\n<blockquote>\n<p>Could not resolve all files for configuration ':app:androidJdkImage'.\nFailed to transform core-for-system-modules.jar to match attributes {artifactType=_internal_android_jdk_image, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.</p>\n</blockquote>\n<pre><code>  &gt; Execution failed for JdkImageTransform: /home/neeraj/Android/Sdk/platforms/android-33/core-for-system-modules.jar.\n     &gt; jlink executable /usr/lib/jvm/java-17-openjdk-17.0.8.0.7-1.fc39.x86_64/bin/jlink does not exist.\n</code></pre>\n<p>I installed OpenJdk 11 and this fixed my problem. I have OpenJdk 17 also installed on my machine which I switch as and when needed.</p>\n<p>I am using fedora 39.</p>\n"},{"tags":[],"owner":{"account_id":13385405,"reputation":11,"user_id":9659476,"display_name":"Terrence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701969791,"creation_date":1701969791,"answer_id":77621968,"question_id":73107234,"body_markdown":"If you are on Manjaro or Archlinux, you have to copy `jlink` from the default-runtime(`/usr/lib/jvm/default-runtime`) to the Java 17 runtime(`/usr/lib/jvm/java-17-openjdk`) or your active runtime. You have to be **root** for you to do this. You can run this in your terminal.\r\n\r\n`cp /usr/lib/jvm/default-runtime/bin/jlink /usr/lib/jvm/java-17-openjdk/bin`\r\n\r\nYou can check your active runtime using `archlinux-java status`.","title":"How to fix jlink does not exist?","body":"<p>If you are on Manjaro or Archlinux, you have to copy <code>jlink</code> from the default-runtime(<code>/usr/lib/jvm/default-runtime</code>) to the Java 17 runtime(<code>/usr/lib/jvm/java-17-openjdk</code>) or your active runtime. You have to be <strong>root</strong> for you to do this. You can run this in your terminal.</p>\n<p><code>cp /usr/lib/jvm/default-runtime/bin/jlink /usr/lib/jvm/java-17-openjdk/bin</code></p>\n<p>You can check your active runtime using <code>archlinux-java status</code>.</p>\n"}],"owner":{"account_id":18466761,"reputation":330,"user_id":13452723,"display_name":"dukizwe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14629,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":12,"score":15,"last_activity_date":1701969791,"creation_date":1658742674,"question_id":73107234,"body_markdown":"i am working with `react native` and am trying to use expo in a [bare project][1] but whenever i try to run the app with the command `npm run android`, i get this error :\r\n```* What went wrong:\r\nExecution failed for task &#39;:expo-modules-core:compileDebugJavaWithJavac&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:expo-modules-core:androidJdkImage&#39;.\r\n   &gt; Failed to transform core-for-system-modules.jar to match attributes {artifactType=_internal_android_jdk_image, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\r\n      &gt; Execution failed for JdkImageTransform: /home/dukizwe/Android/Sdk/platforms/android-31/core-for-system-modules.jar.\r\n         &gt; jlink executable /usr/lib/jvm/java-14-openjdk-amd64/bin/jlink does not exist.\r\n```\r\n\r\nI am using the **linux** OS, **Android studio** and **JDK** are correctly installed.\r\n\r\nInside `/usr/lib/jvm/` folder, the structure look like this:\r\n\r\n- java-1.11.0-openjdk-amd64\r\n- java-1.14.0-openjdk-amd64\r\n- java-11-openjdk-amd64\r\n- java-14-openjdk-amd64\r\n- jdk-18\r\n\r\ni don&#39;t know why it&#39;s looking in the `java-14-openjdk-amd64` folder because in that folder there&#39;s no `jlink` executable.\r\n\r\nIn `android studio` the `SDK Location` si pointed to `java-11-openjdk`. Any help please ?\r\n\r\n  [1]: https://docs.expo.dev/bare/exploring-bare-workflow/","title":"How to fix jlink does not exist?","body":"<p>i am working with <code>react native</code> and am trying to use expo in a <a href=\"https://docs.expo.dev/bare/exploring-bare-workflow/\" rel=\"noreferrer\">bare project</a> but whenever i try to run the app with the command <code>npm run android</code>, i get this error :</p>\n<pre><code>Execution failed for task ':expo-modules-core:compileDebugJavaWithJavac'.\n&gt; Could not resolve all files for configuration ':expo-modules-core:androidJdkImage'.\n   &gt; Failed to transform core-for-system-modules.jar to match attributes {artifactType=_internal_android_jdk_image, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for JdkImageTransform: /home/dukizwe/Android/Sdk/platforms/android-31/core-for-system-modules.jar.\n         &gt; jlink executable /usr/lib/jvm/java-14-openjdk-amd64/bin/jlink does not exist.\n</code></pre>\n<p>I am using the <strong>linux</strong> OS, <strong>Android studio</strong> and <strong>JDK</strong> are correctly installed.</p>\n<p>Inside <code>/usr/lib/jvm/</code> folder, the structure look like this:</p>\n<ul>\n<li>java-1.11.0-openjdk-amd64</li>\n<li>java-1.14.0-openjdk-amd64</li>\n<li>java-11-openjdk-amd64</li>\n<li>java-14-openjdk-amd64</li>\n<li>jdk-18</li>\n</ul>\n<p>i don't know why it's looking in the <code>java-14-openjdk-amd64</code> folder because in that folder there's no <code>jlink</code> executable.</p>\n<p>In <code>android studio</code> the <code>SDK Location</code> si pointed to <code>java-11-openjdk</code>. Any help please ?</p>\n"},{"tags":["java","spring","annotations","postconstruct"],"comments":[{"owner":{"account_id":35452,"reputation":12772,"user_id":100402,"accept_rate":100,"display_name":"mrembisz"},"score":0,"creation_date":1352115473,"post_id":13231293,"comment_id":18023312,"body_markdown":"Is it FileListService you want to test or other classes depending on it?","body":"Is it FileListService you want to test or other classes depending on it?"},{"owner":{"account_id":1002063,"reputation":1096,"user_id":1016709,"accept_rate":74,"display_name":"Ben"},"score":0,"creation_date":1352116009,"post_id":13231293,"comment_id":18023526,"body_markdown":"The FileListService is required by a Web Service which is being tested - public class FileWSTest extends JerseyTest, which is using grizzly web container","body":"The FileListService is required by a Web Service which is being tested - public class FileWSTest extends JerseyTest, which is using grizzly web container"},{"owner":{"account_id":35452,"reputation":12772,"user_id":100402,"accept_rate":100,"display_name":"mrembisz"},"score":3,"creation_date":1352116282,"post_id":13231293,"comment_id":18023616,"body_markdown":"You can either mock it using a subclass or factor out the initialization part. You can place mock in package scanned only for tests and mark it as `@Primary`.","body":"You can either mock it using a subclass or factor out the initialization part. You can place mock in package scanned only for tests and mark it as <code>@Primary</code>."},{"owner":{"account_id":1002063,"reputation":1096,"user_id":1016709,"accept_rate":74,"display_name":"Ben"},"score":0,"creation_date":1352118345,"post_id":13231293,"comment_id":18024412,"body_markdown":"this (from mrembisz) worked - added the mock classes into the config directly with @Primary tag, and ensure that the injected/autowired were interface. one class override removing function and the other complete class mocked including the loading of database stuff, removed the need for a in-memory datbase during test ... how to give credit ?","body":"this (from mrembisz) worked - added the mock classes into the config directly with @Primary tag, and ensure that the injected/autowired were interface. one class override removing function and the other complete class mocked including the loading of database stuff, removed the need for a in-memory datbase during test ... how to give credit ?"},{"owner":{"account_id":35452,"reputation":12772,"user_id":100402,"accept_rate":100,"display_name":"mrembisz"},"score":0,"creation_date":1352120882,"post_id":13231293,"comment_id":18025530,"body_markdown":"I have reposted it as an answer.","body":"I have reposted it as an answer."}],"answers":[{"tags":[],"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1352117427,"creation_date":1352115571,"answer_id":13231379,"question_id":13231293,"body_markdown":"Any of:\r\n\r\n 1. Subclass `FileListService` in your test and override the method to do nothing (as mrembisz says, you would need to place the subclass in package scanned only for tests and mark it as `@Primary`)\r\n 2. Change `FileListService` so the list of files is injected by Spring (this is a cleaner design anyway), and in your tests, inject an empty list\r\n 3. Just create it with `new FileListService()` and inject the dependencies yourself\r\n 4. Boot up Spring using a different configuration file/class, without using annotation configuration.","title":"How to disable @PostConstruct in Spring during Test","body":"<p>Any of:</p>\n\n<ol>\n<li>Subclass <code>FileListService</code> in your test and override the method to do nothing (as mrembisz says, you would need to place the subclass in package scanned only for tests and mark it as <code>@Primary</code>)</li>\n<li>Change <code>FileListService</code> so the list of files is injected by Spring (this is a cleaner design anyway), and in your tests, inject an empty list</li>\n<li>Just create it with <code>new FileListService()</code> and inject the dependencies yourself</li>\n<li>Boot up Spring using a different configuration file/class, without using annotation configuration.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":35452,"reputation":12772,"user_id":100402,"accept_rate":100,"display_name":"mrembisz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1352120841,"creation_date":1352120841,"answer_id":13232800,"question_id":13231293,"body_markdown":"Since you are not testing `FileListService` but a depending class, you can mock it for tests. Make a mock version in a separate test package which is scanned only by test context. Mark it with `@Primary` annotation so it takes precedence over production version.","title":"How to disable @PostConstruct in Spring during Test","body":"<p>Since you are not testing <code>FileListService</code> but a depending class, you can mock it for tests. Make a mock version in a separate test package which is scanned only by test context. Mark it with <code>@Primary</code> annotation so it takes precedence over production version.</p>\n"},{"tags":[],"owner":{"account_id":10104300,"reputation":67,"user_id":7467362,"display_name":"Dilip Tharoor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1537493626,"creation_date":1537493626,"answer_id":52435414,"question_id":13231293,"body_markdown":"Declare a bean to override the existing class and make it Primary.\r\n\r\n \r\n    @Bean\r\n    @Primary\r\n    public FileListService fileListService() {\r\n     return mock(FileListService.class);\r\n    }","title":"How to disable @PostConstruct in Spring during Test","body":"<p>Declare a bean to override the existing class and make it Primary.</p>\n\n<pre><code>@Bean\n@Primary\npublic FileListService fileListService() {\n return mock(FileListService.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20122863,"reputation":9,"user_id":14757029,"display_name":"DEFLAOUI Fatah"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1643125856,"creation_date":1643106916,"answer_id":70847152,"question_id":13231293,"body_markdown":"check the profile as this:\r\n\r\n      @PostConstruct\r\n        public void populate () {\r\n           if (!Arrays.asList(this.environment.getActiveProfiles()).contains(&quot;test&quot;)) {    \r\n    \t\t for (File f : FileUtils.listFiles(new File(SystemUtils.JAVA_IO_TMPDIR), new \r\n                  String[]{&quot;txt&quot;},true)){\r\n                listOfFiles.add(f.getName());\r\n              } \r\n    \r\n    \t\t}           \r\n        }","title":"How to disable @PostConstruct in Spring during Test","body":"<p>check the profile as this:</p>\n<pre><code>  @PostConstruct\n    public void populate () {\n       if (!Arrays.asList(this.environment.getActiveProfiles()).contains(&quot;test&quot;)) {    \n         for (File f : FileUtils.listFiles(new File(SystemUtils.JAVA_IO_TMPDIR), new \n              String[]{&quot;txt&quot;},true)){\n            listOfFiles.add(f.getName());\n          } \n\n        }           \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26045802,"reputation":1,"user_id":19749865,"display_name":"Fabio Romagnolo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701969479,"creation_date":1701969454,"answer_id":77621938,"question_id":13231293,"body_markdown":"I suggest you to create another bean (Service in this case) having exactly that @PostConstruct method.\r\n\r\nIn this way you are able to easily mock the new bean preventing the @PostConstruct method from being called.\r\nI&#39;ve written a simple proof of concept in SpringBoot in order to make it more clear:\r\n\r\n**1)** First we **define** our **Service without @PostConstruct** method\r\n```java\r\n@Service\r\n@RefreshScope\r\npublic class SomeService {\r\n \r\n\tpublic void doSomethingAfterPostConstruct() throws Exception  {\r\n        // ...\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**2)** Then we **define another service with** the **@PostConstruct** method we need for the first service\r\n```java\r\n@Service\r\npublic class PostConstructService {\r\n\r\n    @Autowired\r\n    SomeService someService;\r\n\r\n    @PostConstruct\r\n    public void doSomething() throws Exception {\r\n        someService.doSomethingAfterPostConstruct();\r\n    }\r\n}\r\n```\r\n\r\n\r\n**3)** In the end we can easily **mock the @PostConstruct method by mocking its own class**\r\n\r\n```java\r\n/** Test class to extend **/\r\n@AutoConfigureMockMvc\r\npublic abstract class AbstractTestConfig {\r\n\r\n    @MockBean\r\n    PostConstructService postConstructServiceMocked;\r\n\r\n}\r\n```\r\n\r\nHope this helps you! :)\r\n\r\n","title":"How to disable @PostConstruct in Spring during Test","body":"<p>I suggest you to create another bean (Service in this case) having exactly that @PostConstruct method.</p>\n<p>In this way you are able to easily mock the new bean preventing the @PostConstruct method from being called.\nI've written a simple proof of concept in SpringBoot in order to make it more clear:</p>\n<p><strong>1)</strong> First we <strong>define</strong> our <strong>Service without @PostConstruct</strong> method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RefreshScope\npublic class SomeService {\n \n    public void doSomethingAfterPostConstruct() throws Exception  {\n        // ...\n    }\n\n}\n</code></pre>\n<p><strong>2)</strong> Then we <strong>define another service with</strong> the <strong>@PostConstruct</strong> method we need for the first service</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class PostConstructService {\n\n    @Autowired\n    SomeService someService;\n\n    @PostConstruct\n    public void doSomething() throws Exception {\n        someService.doSomethingAfterPostConstruct();\n    }\n}\n</code></pre>\n<p><strong>3)</strong> In the end we can easily <strong>mock the @PostConstruct method by mocking its own class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>/** Test class to extend **/\n@AutoConfigureMockMvc\npublic abstract class AbstractTestConfig {\n\n    @MockBean\n    PostConstructService postConstructServiceMocked;\n\n}\n</code></pre>\n<p>Hope this helps you! :)</p>\n"}],"owner":{"account_id":1002063,"reputation":1096,"user_id":1016709,"accept_rate":74,"display_name":"Ben"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13708,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":13232800,"answer_count":5,"score":15,"last_activity_date":1701969479,"creation_date":1352115288,"question_id":13231293,"body_markdown":"Within a Spring Component I have a `@PostConstruct` statement. Similar to below:\r\n\r\n    @Singleton\r\n    @Component(&quot;filelist&quot;)\r\n    public class FileListService extends BaseService {\r\n    \r\n        private List listOfFiles = new Arrays.list();\r\n\r\n        //some other functions\r\n    \r\n     \r\n        @PostConstruct\r\n        public void populate () {\r\n\r\n            for (File f : FileUtils.listFiles(new File(SystemUtils.JAVA_IO_TMPDIR), new String[]{&quot;txt&quot;},true)){\r\n                listOfFiles.add(f.getName());\r\n            }\t\r\n        }\r\n    \r\n        @Override\r\n        public long count() throws DataSourceException {\r\n            return listOfFiles.size();\r\n        }\r\n\r\n        //  more methods .....\r\n    }\r\n\r\n\r\n\r\nDuring Unit tests I would not like to have the `@PostConstruct` function called, is there a way to telling Spring not to do post processing? Or is there a better Annotation for calling a initiation method on a class durning non-testing ?","title":"How to disable @PostConstruct in Spring during Test","body":"<p>Within a Spring Component I have a <code>@PostConstruct</code> statement. Similar to below:</p>\n\n<pre><code>@Singleton\n@Component(\"filelist\")\npublic class FileListService extends BaseService {\n\n    private List listOfFiles = new Arrays.list();\n\n    //some other functions\n\n\n    @PostConstruct\n    public void populate () {\n\n        for (File f : FileUtils.listFiles(new File(SystemUtils.JAVA_IO_TMPDIR), new String[]{\"txt\"},true)){\n            listOfFiles.add(f.getName());\n        }   \n    }\n\n    @Override\n    public long count() throws DataSourceException {\n        return listOfFiles.size();\n    }\n\n    //  more methods .....\n}\n</code></pre>\n\n<p>During Unit tests I would not like to have the <code>@PostConstruct</code> function called, is there a way to telling Spring not to do post processing? Or is there a better Annotation for calling a initiation method on a class durning non-testing ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9852,"page":7,"page_size":100}
