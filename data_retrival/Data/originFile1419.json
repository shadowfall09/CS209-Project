{"items":[{"tags":["java","spring-boot","gradle","jackson","cve"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1650389586,"post_id":71928411,"comment_id":127101917,"body_markdown":"Please post Exception details or complete logs for further understanding the exact issue","body":"Please post Exception details or complete logs for further understanding the exact issue"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1650416203,"post_id":71928411,"comment_id":127108727,"body_markdown":"Try to override the last version of the `bom` instead.","body":"Try to override the last version of the <code>bom</code> instead."},{"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"score":0,"creation_date":1650431498,"post_id":71928411,"comment_id":127110999,"body_markdown":"Spring Boot is designed to work with a specific set of dependency versions. You can&#39;t do a massive downgrade of one of the key dependencies and expect it to work.","body":"Spring Boot is designed to work with a specific set of dependency versions. You can&#39;t do a massive downgrade of one of the key dependencies and expect it to work."}],"owner":{"account_id":15507184,"reputation":1,"user_id":11187013,"display_name":"Nithish reddy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650386369,"creation_date":1650386369,"question_id":71928411,"body_markdown":"Springboot 2.6.6 version application failed to start  after overiding the jackson dependencies to avoid CVE-2018-7658 by default springboot comes with jackson 2.13.2 version need to downgrade to 2.9.5 version to avoid vulnerability but application is not starting up.","title":"Spring boot failed to run after overriding the Jackson dependencies in gradle to avoid CVE-2018-7658","body":"<p>Springboot 2.6.6 version application failed to start  after overiding the jackson dependencies to avoid CVE-2018-7658 by default springboot comes with jackson 2.13.2 version need to downgrade to 2.9.5 version to avoid vulnerability but application is not starting up.</p>\n"},{"tags":["java","maven","apache-poi"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1650385937,"post_id":71928278,"comment_id":127100624,"body_markdown":"Why are you mixing different versions of poi? 5.2.2, 5.0.0 ???","body":"Why are you mixing different versions of poi? 5.2.2, 5.0.0 ???"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1650386249,"post_id":71928278,"comment_id":127100730,"body_markdown":"Don&#39;t mix different versions of `apache poi`. The `poi-ooxml-full-5.2.2` does not fit to `poi-ooxml-5.0.0`. Also `xmlbeans-3.1.0` does not fit. See https://poi.apache.org/components/index.html#components. Using `maven` dependencies `&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;` and `&lt;artifactId&gt;poi&lt;/artifactId&gt;` should be enough. All other should be pulled automatically as needed.","body":"Don&#39;t mix different versions of <code>apache poi</code>. The <code>poi-ooxml-full-5.2.2</code> does not fit to <code>poi-ooxml-5.0.0</code>. Also <code>xmlbeans-3.1.0</code> does not fit. See <a href=\"https://poi.apache.org/components/index.html#components\" rel=\"nofollow noreferrer\">poi.apache.org/components/index.html#components</a>. Using <code>maven</code> dependencies <code>&lt;artifactId&gt;poi-ooxml&lt;&#47;artifactId&gt;</code> and <code>&lt;artifactId&gt;poi&lt;&#47;artifactId&gt;</code> should be enough. All other should be pulled automatically as needed."},{"owner":{"account_id":22467383,"reputation":1,"user_id":16673518,"display_name":"Manu"},"score":0,"creation_date":1650386606,"post_id":71928278,"comment_id":127100859,"body_markdown":"I have tried putting the same version and the error continues","body":"I have tried putting the same version and the error continues"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1650386876,"post_id":71928278,"comment_id":127100934,"body_markdown":"`xmlbeans` also needs to fit. It needs to be `xmlbeans-4.0.0` for `poi-ooxml-full-5.0.0` and `xmlbeans-5.0.3` for `poi-ooxml-full-5.2.2`.","body":"<code>xmlbeans</code> also needs to fit. It needs to be <code>xmlbeans-4.0.0</code> for <code>poi-ooxml-full-5.0.0</code> and <code>xmlbeans-5.0.3</code> for <code>poi-ooxml-full-5.2.2</code>."},{"owner":{"account_id":22467383,"reputation":1,"user_id":16673518,"display_name":"Manu"},"score":0,"creation_date":1650387808,"post_id":71928278,"comment_id":127101240,"body_markdown":"I have put the versions that you have told me and it has given me the following error `java.lang.NoClassDefFoundError: org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream`, I add the dependency of `commons-io-2.11.0` and it works. Thanks for your help","body":"I have put the versions that you have told me and it has given me the following error <code>java.lang.NoClassDefFoundError: org&#47;apache&#47;commons&#47;io&#47;output&#47;UnsynchronizedByteArrayOutputSt&zwnj;&#8203;ream</code>, I add the dependency of <code>commons-io-2.11.0</code> and it works. Thanks for your help"}],"owner":{"account_id":22467383,"reputation":1,"user_id":16673518,"display_name":"Manu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650385690,"creation_date":1650385690,"question_id":71928278,"body_markdown":"I want to add an image to a new word document but when I run the program I get this error `java.lang.NoClassDefFoundError: org/apache/xmlbeans/XmlToken$Factory` \r\n\r\n\r\nAfter I added the xmlbean library to my pom.xml and got the following error `java.lang.NoClassDefFoundError: org/apache/xmlbeans/impl/schema/DocumentFactory`\r\n\r\nI leave my code\r\n\r\n    XWPFDocument doc = new XWPFDocument();   \r\n    XWPFParagraph title = doc.createParagraph();   \r\n    XWPFRun run = title.createRun();\r\n    run.addPicture(new ByteArrayInputStream(a), XWPFDocument.PICTURE_TYPE_PNG, bar.getTitle().getText(), Units.toEMU(200), Units.toEMU(200));\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    doc.write(out);\r\n\r\nand the apache POI dependecies that I use\r\n\r\n    &lt;dependency&gt;\r\n             &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\r\n             &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\r\n             &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n             &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n             &lt;artifactId&gt;poi-ooxml-full&lt;/artifactId&gt;\r\n             &lt;version&gt;5.2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n             &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n             &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n             &lt;version&gt;5.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n             &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n             &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n             &lt;version&gt;5.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf I remove the xmlbean dependency I get the first error, otherwise the second. Is it a problem of version 5.0.0 of apache POI?\r\n\r\nThanks for your help","title":"addPicture method of XWPFRun of Apache POI does not work","body":"<p>I want to add an image to a new word document but when I run the program I get this error <code>java.lang.NoClassDefFoundError: org/apache/xmlbeans/XmlToken$Factory</code></p>\n<p>After I added the xmlbean library to my pom.xml and got the following error <code>java.lang.NoClassDefFoundError: org/apache/xmlbeans/impl/schema/DocumentFactory</code></p>\n<p>I leave my code</p>\n<pre><code>XWPFDocument doc = new XWPFDocument();   \nXWPFParagraph title = doc.createParagraph();   \nXWPFRun run = title.createRun();\nrun.addPicture(new ByteArrayInputStream(a), XWPFDocument.PICTURE_TYPE_PNG, bar.getTitle().getText(), Units.toEMU(200), Units.toEMU(200));\nByteArrayOutputStream out = new ByteArrayOutputStream();\ndoc.write(out);\n</code></pre>\n<p>and the apache POI dependecies that I use</p>\n<pre><code>&lt;dependency&gt;\n         &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\n         &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\n         &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n         &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n         &lt;artifactId&gt;poi-ooxml-full&lt;/artifactId&gt;\n         &lt;version&gt;5.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n         &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n         &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n         &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n         &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n         &lt;artifactId&gt;poi&lt;/artifactId&gt;\n         &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If I remove the xmlbean dependency I get the first error, otherwise the second. Is it a problem of version 5.0.0 of apache POI?</p>\n<p>Thanks for your help</p>\n"},{"tags":["java","spring","spring-boot","h2"],"answers":[{"tags":[],"owner":{"account_id":9478194,"reputation":177,"user_id":7046938,"display_name":"codeskin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650385671,"creation_date":1650385671,"answer_id":71928274,"question_id":71927439,"body_markdown":"Update!\r\n\r\nProblem resolved.\r\n\r\nI manually added the column and id values to the `organization_application_lookup` table.\r\n\r\nThe next issue on returning data was related to table mapping.\r\n\r\nI changed the relationship between Platform and Application to `@OneToMany`\r\n\r\n    @OneToMany(mappedBy = &quot;platform&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\r\n and the relationship with Application and Platform to `@ManyToOne` \r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n\r\nThanks to anyone that took time to look at this. ","title":"Spring Boot app compile error org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: NULL not allowed","body":"<p>Update!</p>\n<p>Problem resolved.</p>\n<p>I manually added the column and id values to the <code>organization_application_lookup</code> table.</p>\n<p>The next issue on returning data was related to table mapping.</p>\n<p>I changed the relationship between Platform and Application to <code>@OneToMany</code></p>\n<pre><code>@OneToMany(mappedBy = &quot;platform&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n</code></pre>\n<p>and the relationship with Application and Platform to <code>@ManyToOne</code></p>\n<pre><code>@ManyToOne(cascade = CascadeType.ALL)\n</code></pre>\n<p>Thanks to anyone that took time to look at this.</p>\n"}],"owner":{"account_id":9478194,"reputation":177,"user_id":7046938,"display_name":"codeskin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650385671,"creation_date":1650381903,"question_id":71927439,"body_markdown":"Newbie Spring Boot developer looking for some assistance to resolve my blocker.\r\n\r\nI am working on Spring Boot practice project that uses a H2 db.\r\n\r\nThe main objective of the project is to use API calls to get data from the database.\r\n\r\nThe majority of the API calls are returning data as expected but the filtering one is not. \r\n\r\nI have looked on Stack overflow to try and resolve my error but have not been successful.\r\n\r\nI have a compile error and this is stoping progress:\r\n\r\n    Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: NULL not allowed for column &quot;VALUE&quot;; SQL statement:\r\nINSERT INTO organization_application_lookup (organization_id, application_id) VALUES (&#39;1&#39;, &#39;1&#39;) [23502-200]\r\n\r\nI am trying to introduce a filter query to the application whereby the results will return upon entering the first letter of the application name. When &#39;c&#39; is entered applications starting with &#39;c&#39; will be returned. \r\n\r\nAfter reading [this article][1] I added the annotation @EmbeddedId to resolve the issue but unfortunately, it has not worked. \r\n\r\nThe point is, table `organization_application_lookup` should not really have a PK id column I don&#39;t think.\r\n\r\nI created an object and table in the OrgAppMapper class as follows:\r\n\r\n        package com.ciaranmckenna.companycoordinatorapp.model;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.EmbeddedId;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name= &quot;organization_application_lookup&quot;)\r\n    public class OrgAppMapper {\r\n    \r\n        @EmbeddedId\r\n        @Column(name = &quot;organization_id&quot;)\r\n        private Long organisationId;\r\n        @Column(name = &quot;application_id&quot;)\r\n        private Long applicationId;\r\n    \r\n        public OrgAppMapper() {\r\n        }\r\n    \r\n        public OrgAppMapper(Long organisationId, Long applicationId) {\r\n            this.organisationId = organisationId;\r\n            this.applicationId = applicationId;\r\n        }\r\n    \r\n        public Long getOrganisationId() {\r\n            return organisationId;\r\n        }\r\n    \r\n        public void setOrganisationId(Long organisationId) {\r\n            this.organisationId = organisationId;\r\n        }\r\n    \r\n        public Long getApplicationId() {\r\n            return applicationId;\r\n        }\r\n    \r\n        public void setApplicationId(Long applicationId) {\r\n            this.applicationId = applicationId;\r\n        }\r\n\r\n}\r\n\r\nThe line `private Long organizationId` is causing a compile error. Stating that the &#39;Embedded&#39; attribute type should not be &#39;Long&#39;.\r\n\r\nI have uploaded the project to codesandbox for the first time to make it easy for developers to help me out. \r\n\r\n\r\n[Link for project on codesandbox.io][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3820897/jpa-entity-without-id\r\n  [2]: https://codesandbox.io/s/cool-hamilton-y91bvk?file=/company-coordinator-app/src/main/java/com/ciaranmckenna/companycoordinatorapp/model/OrgAppMapper.java\r\n","title":"Spring Boot app compile error org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: NULL not allowed","body":"<p>Newbie Spring Boot developer looking for some assistance to resolve my blocker.</p>\n<p>I am working on Spring Boot practice project that uses a H2 db.</p>\n<p>The main objective of the project is to use API calls to get data from the database.</p>\n<p>The majority of the API calls are returning data as expected but the filtering one is not.</p>\n<p>I have looked on Stack overflow to try and resolve my error but have not been successful.</p>\n<p>I have a compile error and this is stoping progress:</p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: NULL not allowed for column &quot;VALUE&quot;; SQL statement:\n</code></pre>\n<p>INSERT INTO organization_application_lookup (organization_id, application_id) VALUES ('1', '1') [23502-200]</p>\n<p>I am trying to introduce a filter query to the application whereby the results will return upon entering the first letter of the application name. When 'c' is entered applications starting with 'c' will be returned.</p>\n<p>After reading <a href=\"https://stackoverflow.com/questions/3820897/jpa-entity-without-id\">this article</a> I added the annotation @EmbeddedId to resolve the issue but unfortunately, it has not worked.</p>\n<p>The point is, table <code>organization_application_lookup</code> should not really have a PK id column I don't think.</p>\n<p>I created an object and table in the OrgAppMapper class as follows:</p>\n<pre><code>    package com.ciaranmckenna.companycoordinatorapp.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.EmbeddedId;\nimport javax.persistence.Entity;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name= &quot;organization_application_lookup&quot;)\npublic class OrgAppMapper {\n\n    @EmbeddedId\n    @Column(name = &quot;organization_id&quot;)\n    private Long organisationId;\n    @Column(name = &quot;application_id&quot;)\n    private Long applicationId;\n\n    public OrgAppMapper() {\n    }\n\n    public OrgAppMapper(Long organisationId, Long applicationId) {\n        this.organisationId = organisationId;\n        this.applicationId = applicationId;\n    }\n\n    public Long getOrganisationId() {\n        return organisationId;\n    }\n\n    public void setOrganisationId(Long organisationId) {\n        this.organisationId = organisationId;\n    }\n\n    public Long getApplicationId() {\n        return applicationId;\n    }\n\n    public void setApplicationId(Long applicationId) {\n        this.applicationId = applicationId;\n    }\n</code></pre>\n<p>}</p>\n<p>The line <code>private Long organizationId</code> is causing a compile error. Stating that the 'Embedded' attribute type should not be 'Long'.</p>\n<p>I have uploaded the project to codesandbox for the first time to make it easy for developers to help me out.</p>\n<p><a href=\"https://codesandbox.io/s/cool-hamilton-y91bvk?file=/company-coordinator-app/src/main/java/com/ciaranmckenna/companycoordinatorapp/model/OrgAppMapper.java\" rel=\"nofollow noreferrer\">Link for project on codesandbox.io</a></p>\n"},{"tags":["java","selenium","outlook","selenium-chromedriver"],"comments":[{"owner":{"account_id":131793,"reputation":64005,"user_id":332059,"accept_rate":57,"display_name":"Dmitry Streblechenko"},"score":0,"creation_date":1650297005,"post_id":71914011,"comment_id":127076266,"body_markdown":"What is the exact API you are using POP3? IMAP4? Are you asking how to use OAuth with Exchange server? Keep in mind that Outlook is a client app, you can&#39;t connect to it using POP3 or IMAP4.","body":"What is the exact API you are using POP3? IMAP4? Are you asking how to use OAuth with Exchange server? Keep in mind that Outlook is a client app, you can&#39;t connect to it using POP3 or IMAP4."},{"owner":{"account_id":23672724,"reputation":67,"user_id":17699278,"display_name":"Jakson"},"score":0,"creation_date":1650297401,"post_id":71914011,"comment_id":127076375,"body_markdown":"Yeah it actually how to use OAuth with exchange server","body":"Yeah it actually how to use OAuth with exchange server"}],"answers":[{"tags":[],"owner":{"account_id":131793,"reputation":64005,"user_id":332059,"accept_rate":57,"display_name":"Dmitry Streblechenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650384216,"creation_date":1650384216,"answer_id":71927964,"question_id":71914011,"body_markdown":"See [Authenticate an IMAP, POP or SMTP connection using OAuth][1] on MSDN \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth","title":"How to use OAuth with Exchange Server","body":"<p>See <a href=\"https://learn.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth\" rel=\"nofollow noreferrer\">Authenticate an IMAP, POP or SMTP connection using OAuth</a> on MSDN</p>\n"}],"owner":{"account_id":23672724,"reputation":67,"user_id":17699278,"display_name":"Jakson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650385601,"creation_date":1650296841,"question_id":71914011,"body_markdown":"Actually in our automation we need to fetch email from outlook for which we created a function which uses exchange service using basic auth.\r\n\r\nBut due to some conditional access policy we are not able to use basic AUTH. Now we need to use modern AUTH to fetch the email data.\r\n\r\nCan anyone help me to get the resources or some way to achieve this using modern auth.\r\n","title":"How to use OAuth with Exchange Server","body":"<p>Actually in our automation we need to fetch email from outlook for which we created a function which uses exchange service using basic auth.</p>\n<p>But due to some conditional access policy we are not able to use basic AUTH. Now we need to use modern AUTH to fetch the email data.</p>\n<p>Can anyone help me to get the resources or some way to achieve this using modern auth.</p>\n"},{"tags":["java","logging","log4j2","fileappender"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1650362531,"post_id":71899777,"comment_id":127091418,"body_markdown":"There are some [old benchmarks](https://logging.apache.org/log4j/2.x/performance.html#whichAppender) on Log4j&#39;s site, but I have serious doubts on the performance of the console appender (should be on par with the `FileAppender`).","body":"There are some <a href=\"https://logging.apache.org/log4j/2.x/performance.html#whichAppender\" rel=\"nofollow noreferrer\">old benchmarks</a> on Log4j&#39;s site, but I have serious doubts on the performance of the console appender (should be on par with the <code>FileAppender</code>)."},{"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1650384956,"post_id":71899777,"comment_id":127100254,"body_markdown":"will it matter if we are using async logger?","body":"will it matter if we are using async logger?"}],"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650385136,"creation_date":1650176722,"question_id":71899777,"body_markdown":"1. What is the difference between console and File based logging from performance standpoint?\r\n2. In the case of file based logging I Understand that logging performance is impacted by disk io. Will the similar constrain hold true in console based logging? \r\n3. Where are the logs buffered till they are flushed to console? \r\n\r\n\r\n4. &lt;strike&gt;In the case of kubernates how does it let me download console logs? Where is it stored actually ?&lt;/strike&gt;(answered [here][1])\r\n\r\n5. If i am using [async logger][2], are [these][3] perf benchmark still relevant to me?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/58922141/3892213\r\n  [2]: https://logging.apache.org/log4j/2.x/performance.html#asyncLoggingResponseTime\r\n  [3]: https://logging.apache.org/log4j/2.x/performance.html#tradeoffs","title":"Java console vs RollingRandomAccessFile logging","body":"<ol>\n<li><p>What is the difference between console and File based logging from performance standpoint?</p>\n</li>\n<li><p>In the case of file based logging I Understand that logging performance is impacted by disk io. Will the similar constrain hold true in console based logging?</p>\n</li>\n<li><p>Where are the logs buffered till they are flushed to console?</p>\n</li>\n<li><p><strike>In the case of kubernates how does it let me download console logs? Where is it stored actually ?</strike>(answered <a href=\"https://stackoverflow.com/a/58922141/3892213\">here</a>)</p>\n</li>\n<li><p>If i am using <a href=\"https://logging.apache.org/log4j/2.x/performance.html#asyncLoggingResponseTime\" rel=\"nofollow noreferrer\">async logger</a>, are <a href=\"https://logging.apache.org/log4j/2.x/performance.html#tradeoffs\" rel=\"nofollow noreferrer\">these</a> perf benchmark still relevant to me?</p>\n</li>\n</ol>\n"},{"tags":["java","amazon-web-services","amazon-ec2","aws-java-sdk","aws-java-sdk-2.x"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1650373819,"post_id":71925126,"comment_id":127095618,"body_markdown":"At a guess, your Java app is not running as the same effective user that you used when storing the `~/.aws/credentials` profile or you didn&#39;t save the creds as the default profile. That aside, don&#39;t supply creds to your app using IAM User credentials (regardless of whether you use credentials profile or environment variables). That&#39;s not a security best practice. Use IAM Roles.","body":"At a guess, your Java app is not running as the same effective user that you used when storing the <code>~&#47;.aws&#47;credentials</code> profile or you didn&#39;t save the creds as the default profile. That aside, don&#39;t supply creds to your app using IAM User credentials (regardless of whether you use credentials profile or environment variables). That&#39;s not a security best practice. Use IAM Roles."},{"owner":{"account_id":7261043,"reputation":939,"user_id":5537770,"accept_rate":55,"display_name":"Pryda"},"score":0,"creation_date":1650378810,"post_id":71925126,"comment_id":127097765,"body_markdown":"I didn&#39;t get the first point (the java app is not running as the same user I used when storing the credentials profile). Regarding the second point, I checked and I&#39;m using the creds as the default profile","body":"I didn&#39;t get the first point (the java app is not running as the same user I used when storing the credentials profile). Regarding the second point, I checked and I&#39;m using the creds as the default profile"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1650380041,"post_id":71925126,"comment_id":127098300,"body_markdown":"You referenced the old v1 docs (v2 credentials doc is [here](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html)) but yes, you should be able to leverage the default provider chain.","body":"You referenced the old v1 docs (v2 credentials doc is <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">here</a>) but yes, you should be able to leverage the default provider chain."},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1650380215,"post_id":71925126,"comment_id":127098376,"body_markdown":"On the &quot;same user&quot; comment, each user on the system has a different home directory. If you were logged in as ec2-user (or ubuntu) when saving `~/.aws/credentials` but then you ran your Java app under the user context of tomcat or apache or root then they would have a different home directory and it would *not* contain the credentials files, hence no profile would be read. This matches your symptoms (but something else could also be the cause).","body":"On the &quot;same user&quot; comment, each user on the system has a different home directory. If you were logged in as ec2-user (or ubuntu) when saving <code>~&#47;.aws&#47;credentials</code> but then you ran your Java app under the user context of tomcat or apache or root then they would have a different home directory and it would <i>not</i> contain the credentials files, hence no profile would be read. This matches your symptoms (but something else could also be the cause)."}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650372998,"creation_date":1650372998,"answer_id":71925348,"question_id":71925126,"body_markdown":"Instead of using a Credential file under .aws, try setting EC2 environment variables. This is a valid cred provider and is described as ***Environment variables provider*** in the [AWS SDK for Java V2 DEV Guide][1].\r\n\r\nTo use this provider with a AWS Java v2 Service client, you use: \r\n\r\n    Region region = Region.US_EAST_1;\r\n         RdsDataClient dataClient = RdsDataClient.builder()\r\n                   .credentialsProvider(EnvironmentVariableCredentialsProvider.create())\r\n                    .region(region)\r\n                    .build(); \r\n\r\n\r\nThis solution works nicely. \r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html","title":"AWS SDK for Java v2 is unable to load credentials from EC2 instance","body":"<p>Instead of using a Credential file under .aws, try setting EC2 environment variables. This is a valid cred provider and is described as <em><strong>Environment variables provider</strong></em> in the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">AWS SDK for Java V2 DEV Guide</a>.</p>\n<p>To use this provider with a AWS Java v2 Service client, you use:</p>\n<pre><code>Region region = Region.US_EAST_1;\n     RdsDataClient dataClient = RdsDataClient.builder()\n               .credentialsProvider(EnvironmentVariableCredentialsProvider.create())\n                .region(region)\n                .build(); \n</code></pre>\n<p>This solution works nicely.</p>\n"},{"tags":[],"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650385016,"creation_date":1650373206,"answer_id":71925396,"question_id":71925126,"body_markdown":"Don&#39;t use IAM User credentials on EC2 unless you absolutely have to. Instead, launch the EC2 instance with an appropriate [IAM Role][1] (or edit the instance later to apply an IAM Role).\r\n\r\nThe SDK will then automatically retrieve credentials and they will be auto-rotated for you (unlike IAM User credentials, which are fixed and hence your exposure is greater). You don&#39;t need to indicate which credentials provider to use. The SDK [does this for you](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html#credentials-chain).\r\n\r\nAnd, it should go without saying, always give the IAM Role the [minimum set of permissions][2] that it actually needs.\r\n\r\nIf you feel that you must use IAM User credentials, then these can be stored in the `~/.aws/credentials` file but be sure that this is located under the HOME folder of the **same OS user** that your application will run as, otherwise the AWS SDK loaded by your app will not retrieve the credentials.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html\r\n  [2]: https://aws.amazon.com/blogs/security/techniques-for-writing-least-privilege-iam-policies/","title":"AWS SDK for Java v2 is unable to load credentials from EC2 instance","body":"<p>Don't use IAM User credentials on EC2 unless you absolutely have to. Instead, launch the EC2 instance with an appropriate <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html\" rel=\"nofollow noreferrer\">IAM Role</a> (or edit the instance later to apply an IAM Role).</p>\n<p>The SDK will then automatically retrieve credentials and they will be auto-rotated for you (unlike IAM User credentials, which are fixed and hence your exposure is greater). You don't need to indicate which credentials provider to use. The SDK <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html#credentials-chain\" rel=\"nofollow noreferrer\">does this for you</a>.</p>\n<p>And, it should go without saying, always give the IAM Role the <a href=\"https://aws.amazon.com/blogs/security/techniques-for-writing-least-privilege-iam-policies/\" rel=\"nofollow noreferrer\">minimum set of permissions</a> that it actually needs.</p>\n<p>If you feel that you must use IAM User credentials, then these can be stored in the <code>~/.aws/credentials</code> file but be sure that this is located under the HOME folder of the <strong>same OS user</strong> that your application will run as, otherwise the AWS SDK loaded by your app will not retrieve the credentials.</p>\n"}],"owner":{"account_id":7261043,"reputation":939,"user_id":5537770,"accept_rate":55,"display_name":"Pryda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1650385016,"creation_date":1650372012,"question_id":71925126,"body_markdown":"I inserted my `AWS_ACCESS_KEY_ID` and `AWS_SECRET_ACCESS_KEY`  in `~/.aws/credentials` and they seem to work. However, my java application (running on that EC2 instance and using AWS Java v2 SDK) is unable to see them. I got this exception while uploading a file to S3 using java code.\r\n\r\n    Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain(credentialsProviders=[SystemPropertyCredentialsProvider(), EnvironmentVariableCredentialsProvider(), WebIdentityTokenCredentialsProvider(), ProfileCredentialsProvider(), ContainerCredentialsProvider(), InstanceProfileCredentialsProvider()]) : [SystemPropertyCredentialsProvider(): Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId)., EnvironmentVariableCredentialsProvider(): Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId)., WebIdentityTokenCredentialsProvider(): Either the environment variable AWS_WEB_IDENTITY_TOKEN_FILE or the javaproperty aws.webIdentityTokenFile must be set., ProfileCredentialsProvider(): Profile file contained no credentials for profile &#39;default&#39;: ProfileFile(profiles=[]), ContainerCredentialsProvider(): Cannot fetch credentials from container - neither AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI environment variables are set., InstanceProfileCredentialsProvider(): The requested metadata is not found at http://169.254.169.254/latest/meta-data/iam/security-credentials/]\r\n\r\nFYI, uploading the file using aws cli works fine while running this command in my ec2 instance: `aws s3 cp foo.txt s3://mybucket-name`\r\n\r\nFYI, the same application runs correctly when I run it on my local machine with an STS client as a credential provider\r\n\r\nAccording to [AWS documentation][1],\r\n\r\n&gt; Using the Default Credential Provider Chain **When you initialize a new service client without supplying any arguments, the AWS SDK for\r\n&gt; Java attempts to find AWS credentials by using the default credential\r\n&gt; provider chain implemented by the DefaultAWSCredentialsProviderChain\r\n&gt; class. The default credential provider chain looks for credentials in\r\n&gt; this order:**\r\n&gt; \r\n&gt; 1. Environment variables-AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY. \r\n&gt; \r\n&gt; 2. Java system properties-aws.accessKeyId and aws.secretKey. \r\n&gt; \r\n&gt; 3. Web Identity Token credentials from the environment or container.\r\n&gt; \r\n&gt; 4. The default credential profiles file- typically located at\r\n&gt; ~/.aws/credentials (location can vary per platform), and shared by\r\n&gt; many of the AWS SDKs and by the AWS CLI.\r\n&gt; \r\n&gt; 5. Amazon ECS container credentials- loaded from the Amazon ECS if the\r\n&gt; environment variable AWS_CONTAINER_CREDENTIALS_RELATIVE_URI is set.\r\n&gt; \r\n&gt; 6. Instance profile credentials- used on EC2 instances, and delivered\r\n&gt; through the Amazon EC2 metadata service.\r\n\r\nIf I understand correctly, the default credential provider chain will do everything for me and no credential provider needs to be mentioned. Is that correct?\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html#:~:text=IAM%20User%20Guide.-,Using%20the%20Default%20Credential%20Provider%20Chain,-When%20you%20initialize","title":"AWS SDK for Java v2 is unable to load credentials from EC2 instance","body":"<p>I inserted my <code>AWS_ACCESS_KEY_ID</code> and <code>AWS_SECRET_ACCESS_KEY</code>  in <code>~/.aws/credentials</code> and they seem to work. However, my java application (running on that EC2 instance and using AWS Java v2 SDK) is unable to see them. I got this exception while uploading a file to S3 using java code.</p>\n<pre><code>Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain(credentialsProviders=[SystemPropertyCredentialsProvider(), EnvironmentVariableCredentialsProvider(), WebIdentityTokenCredentialsProvider(), ProfileCredentialsProvider(), ContainerCredentialsProvider(), InstanceProfileCredentialsProvider()]) : [SystemPropertyCredentialsProvider(): Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId)., EnvironmentVariableCredentialsProvider(): Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId)., WebIdentityTokenCredentialsProvider(): Either the environment variable AWS_WEB_IDENTITY_TOKEN_FILE or the javaproperty aws.webIdentityTokenFile must be set., ProfileCredentialsProvider(): Profile file contained no credentials for profile 'default': ProfileFile(profiles=[]), ContainerCredentialsProvider(): Cannot fetch credentials from container - neither AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI environment variables are set., InstanceProfileCredentialsProvider(): The requested metadata is not found at http://169.254.169.254/latest/meta-data/iam/security-credentials/]\n</code></pre>\n<p>FYI, uploading the file using aws cli works fine while running this command in my ec2 instance: <code>aws s3 cp foo.txt s3://mybucket-name</code></p>\n<p>FYI, the same application runs correctly when I run it on my local machine with an STS client as a credential provider</p>\n<p>According to <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html#:%7E:text=IAM%20User%20Guide.-,Using%20the%20Default%20Credential%20Provider%20Chain,-When%20you%20initialize\" rel=\"nofollow noreferrer\">AWS documentation</a>,</p>\n<blockquote>\n<p>Using the Default Credential Provider Chain <strong>When you initialize a new service client without supplying any arguments, the AWS SDK for\nJava attempts to find AWS credentials by using the default credential\nprovider chain implemented by the DefaultAWSCredentialsProviderChain\nclass. The default credential provider chain looks for credentials in\nthis order:</strong></p>\n<ol>\n<li><p>Environment variables-AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY.</p>\n</li>\n<li><p>Java system properties-aws.accessKeyId and aws.secretKey.</p>\n</li>\n<li><p>Web Identity Token credentials from the environment or container.</p>\n</li>\n<li><p>The default credential profiles file- typically located at\n~/.aws/credentials (location can vary per platform), and shared by\nmany of the AWS SDKs and by the AWS CLI.</p>\n</li>\n<li><p>Amazon ECS container credentials- loaded from the Amazon ECS if the\nenvironment variable AWS_CONTAINER_CREDENTIALS_RELATIVE_URI is set.</p>\n</li>\n<li><p>Instance profile credentials- used on EC2 instances, and delivered\nthrough the Amazon EC2 metadata service.</p>\n</li>\n</ol>\n</blockquote>\n<p>If I understand correctly, the default credential provider chain will do everything for me and no credential provider needs to be mentioned. Is that correct?</p>\n"},{"tags":["java","android","android-studio","spannablestringbuilder"],"answers":[{"tags":[],"owner":{"account_id":22679603,"reputation":47,"user_id":16850119,"display_name":"Tamzid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1631038403,"creation_date":1631038403,"answer_id":69092852,"question_id":69085469,"body_markdown":"As we can&#39;t reuse instance of formatting style twice, all that had to be done was move the declaration of the formatting such as ```UnderlineSpan underlineSpan = new UnderlineSpan();``` inside the for loop. \r\n","title":"SpannableStringBuilder only keeping formatting for the first for loop","body":"<p>As we can't reuse instance of formatting style twice, all that had to be done was move the declaration of the formatting such as <code>UnderlineSpan underlineSpan = new UnderlineSpan();</code> inside the for loop.</p>\n"}],"owner":{"account_id":22679603,"reputation":47,"user_id":16850119,"display_name":"Tamzid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69092852,"answer_count":1,"score":1,"last_activity_date":1650385012,"creation_date":1631006085,"question_id":69085469,"body_markdown":"I am trying to use a for loop to add formatting using `SpannableStringBuild` from strings in a list, however in the `TextView`, despite all the strings having been appended, only the string appended in the initial for loop keeps its formatting. ","title":"SpannableStringBuilder only keeping formatting for the first for loop","body":"<p>I am trying to use a for loop to add formatting using <code>SpannableStringBuild</code> from strings in a list, however in the <code>TextView</code>, despite all the strings having been appended, only the string appended in the initial for loop keeps its formatting.</p>\n"},{"tags":["java","loops","exception","inputmismatchexception"],"answers":[{"tags":[],"owner":{"account_id":3520251,"reputation":114,"user_id":2942745,"display_name":"cogitoboy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650384831,"creation_date":1650384139,"answer_id":71927947,"question_id":71927891,"body_markdown":"So when a non integer is entered, the code immediately jumps to the exception block, because `parser.nextInt()` throws an exception. This exception causes the execution to jump over your assignment of `valid=true` straight to the `catch` block.  Therefore, the while loop keeps on going because `!valid` is still true. \r\n\r\nMaybe add `System.exit()` in your exception block.\r\n\r\nBetter would be to get the next character, test to see if it is valid. If valid exit the loop, if not valid display message. Also give them a character to press to stop trying. So that if they enter a pin or a &#39;exit&#39; character you will stop.\r\n\r\nPost your next try.","title":"My while loop meant to catch an exception and ask for a new input is repeating infinitly, and I&#39;m not sure why","body":"<p>So when a non integer is entered, the code immediately jumps to the exception block, because <code>parser.nextInt()</code> throws an exception. This exception causes the execution to jump over your assignment of <code>valid=true</code> straight to the <code>catch</code> block.  Therefore, the while loop keeps on going because <code>!valid</code> is still true.</p>\n<p>Maybe add <code>System.exit()</code> in your exception block.</p>\n<p>Better would be to get the next character, test to see if it is valid. If valid exit the loop, if not valid display message. Also give them a character to press to stop trying. So that if they enter a pin or a 'exit' character you will stop.</p>\n<p>Post your next try.</p>\n"}],"owner":{"account_id":25006047,"reputation":23,"user_id":18865975,"display_name":"RadiantAine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650384142,"answer_count":1,"score":0,"last_activity_date":1650384831,"creation_date":1650383850,"question_id":71927891,"body_markdown":"I&#39;m a very beginner programmer, in my first year of college. Currently, I&#39;m trying to write some Java code to have the user insert a pin number using a scanner, asking for a new input if the pin provided isn&#39;t an int. Here&#39;s what I&#39;ve written:\r\n\r\n\r\n    System.out.println(&quot;Please enter your pin. Please note that only numbers are allowed for this selection.&quot;);\r\n        boolean valid = false;\r\n        while(!valid)\r\n        {\r\n            try\r\n            {\r\n                pin = parser.nextInt();\r\n                valid = true;\r\n            }\r\n            catch (InputMismatchException error)\r\n            {\r\n                System.out.println(&quot;Please use only numbers in your pin.&quot;);\r\n            }\r\n        }\r\n\r\nThis code asks for a pin, sets a boolean variable to false, and enters a while loop. A scanner object asks for an input from System.in, and if the response isn&#39;t an int, then the catch statement is entered, where an error message is printed. If the response is an int, then all is well, and the int is assigned to the pin field and we move on. The issue, however, is that when the catch statement is entered, it repeats infinitely. My intention with this code was that the catch statement would execute, the code would run back to the top of the while loop, and I would be able to use the try block again, giving a new input to be checked. However, the code seems to be skipping this new input step, simply going straight to the catch block on subsequent loops. Any ideas on how to fix this? ","title":"My while loop meant to catch an exception and ask for a new input is repeating infinitly, and I&#39;m not sure why","body":"<p>I'm a very beginner programmer, in my first year of college. Currently, I'm trying to write some Java code to have the user insert a pin number using a scanner, asking for a new input if the pin provided isn't an int. Here's what I've written:</p>\n<pre><code>System.out.println(&quot;Please enter your pin. Please note that only numbers are allowed for this selection.&quot;);\n    boolean valid = false;\n    while(!valid)\n    {\n        try\n        {\n            pin = parser.nextInt();\n            valid = true;\n        }\n        catch (InputMismatchException error)\n        {\n            System.out.println(&quot;Please use only numbers in your pin.&quot;);\n        }\n    }\n</code></pre>\n<p>This code asks for a pin, sets a boolean variable to false, and enters a while loop. A scanner object asks for an input from System.in, and if the response isn't an int, then the catch statement is entered, where an error message is printed. If the response is an int, then all is well, and the int is assigned to the pin field and we move on. The issue, however, is that when the catch statement is entered, it repeats infinitely. My intention with this code was that the catch statement would execute, the code would run back to the top of the while loop, and I would be able to use the try block again, giving a new input to be checked. However, the code seems to be skipping this new input step, simply going straight to the catch block on subsequent loops. Any ideas on how to fix this?</p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":2812217,"reputation":5723,"user_id":2418224,"display_name":"juzraai"},"score":0,"creation_date":1650370069,"post_id":71924652,"comment_id":127094061,"body_markdown":"Have you tried putting `EEE` instead of `E` in the format string?","body":"Have you tried putting <code>EEE</code> instead of <code>E</code> in the format string?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1650370405,"post_id":71924652,"comment_id":127094215,"body_markdown":"Check your locale settings.","body":"Check your locale settings."},{"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"score":1,"creation_date":1650370766,"post_id":71924652,"comment_id":127094342,"body_markdown":"@juzraai makes no difference.","body":"@juzraai makes no difference."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1650370887,"post_id":71924652,"comment_id":127094377,"body_markdown":"@kylie.zoltan I doubt that. It fails for me as well, but if I call `toFormatter(Locale.ROOT)` instead of `toFormatter()`, then it works for me.","body":"@kylie.zoltan I doubt that. It fails for me as well, but if I call <code>toFormatter(Locale.ROOT)</code> instead of <code>toFormatter()</code>, then it works for me."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1650384247,"post_id":71924652,"comment_id":127099977,"body_markdown":"Specify your locale explicitly with a call to `withLocale`.","body":"Specify your locale explicitly with a call to <code>withLocale</code>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650384826,"creation_date":1650384826,"answer_id":71928097,"question_id":71924652,"body_markdown":"# Specify `Locale`\r\n\r\nSpecify a locale, to determine a human language and culture to use in translation. \r\n\r\n    final DateTimeFormatterBuilder dateTimeFormatterBuilder = new DateTimeFormatterBuilder()\r\n        .appendOptional( DateTimeFormatter.ofPattern( &quot;dd-MM-yyyy&quot; ) )\r\n        .appendOptional( DateTimeFormatter.ofPattern( &quot;dd/MM/yyyy&quot; ) )\r\n        .appendOptional( DateTimeFormatter.ofPattern( &quot;E MMM dd yyyy&quot; ) )\r\n        .parseDefaulting( ChronoField.HOUR_OF_DAY, 0 )\r\n        .parseDefaulting( ChronoField.MINUTE_OF_HOUR, 0 )\r\n        .parseDefaulting( ChronoField.SECOND_OF_MINUTE, 0 );\r\n\r\n    String input = &quot;Tue Apr 19 2022&quot; ;\r\n    Locale locale = Locale.US ;\r\n    final LocalDateTime ldt = LocalDateTime.parse( input , dateTimeFormatterBuilder.toFormatter().withLocale( locale ) );\r\n    System.out.println ( ldt ) ;\r\n\r\n\r\n\r\nSee this [code run live at IdeOne.com][1]. \r\n\r\n&gt;2022-04-19T00:00\r\n\r\n\r\n\r\n  [1]: https://ideone.com/gb7qoD","title":"Cannot parse E MMM dd yyyy date","body":"<h1>Specify <code>Locale</code></h1>\n<p>Specify a locale, to determine a human language and culture to use in translation.</p>\n<pre><code>final DateTimeFormatterBuilder dateTimeFormatterBuilder = new DateTimeFormatterBuilder()\n    .appendOptional( DateTimeFormatter.ofPattern( &quot;dd-MM-yyyy&quot; ) )\n    .appendOptional( DateTimeFormatter.ofPattern( &quot;dd/MM/yyyy&quot; ) )\n    .appendOptional( DateTimeFormatter.ofPattern( &quot;E MMM dd yyyy&quot; ) )\n    .parseDefaulting( ChronoField.HOUR_OF_DAY, 0 )\n    .parseDefaulting( ChronoField.MINUTE_OF_HOUR, 0 )\n    .parseDefaulting( ChronoField.SECOND_OF_MINUTE, 0 );\n\nString input = &quot;Tue Apr 19 2022&quot; ;\nLocale locale = Locale.US ;\nfinal LocalDateTime ldt = LocalDateTime.parse( input , dateTimeFormatterBuilder.toFormatter().withLocale( locale ) );\nSystem.out.println ( ldt ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/gb7qoD\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>2022-04-19T00:00</p>\n</blockquote>\n"}],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1650463480,"accepted_answer_id":71928097,"answer_count":1,"score":0,"last_activity_date":1650384826,"creation_date":1650369909,"question_id":71924652,"body_markdown":"I have the following code:\r\n\r\n    public static String convert( final String date )\r\n    {\r\n        final DateTimeFormatterBuilder dateTimeFormatterBuilder = new DateTimeFormatterBuilder()\r\n            .appendOptional( DateTimeFormatter.ofPattern( &quot;dd-MM-yyyy&quot; ) )\r\n            .appendOptional( DateTimeFormatter.ofPattern( &quot;dd/MM/yyyy&quot; ) )\r\n            .appendOptional( DateTimeFormatter.ofPattern( &quot;E MMM dd yyyy&quot; ) )\r\n            .parseDefaulting( ChronoField.HOUR_OF_DAY, 0 )\r\n            .parseDefaulting( ChronoField.MINUTE_OF_HOUR, 0 )\r\n            .parseDefaulting( ChronoField.SECOND_OF_MINUTE, 0 );\r\n\r\n        final LocalDateTime dateTime = LocalDateTime.parse( date, dateTimeFormatterBuilder.toFormatter() );\r\n\r\n        return dateTime.format( DateTimeFormatter.ofPattern( &quot;dd-MM-yyyy&quot; ) );\r\n    }\r\n\r\nBut when the date is the following: Tue Apr 19 2022\r\n\r\nIt fails to convert but it shouldn&#39;t since the &quot;E MMM dd yyyy&quot; is there.\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;Tue Apr 19 2022&#39; could not be parsed, unparsed text found at index 0\r\n\r\nThanks","title":"Cannot parse E MMM dd yyyy date","body":"<p>I have the following code:</p>\n<pre><code>public static String convert( final String date )\n{\n    final DateTimeFormatterBuilder dateTimeFormatterBuilder = new DateTimeFormatterBuilder()\n        .appendOptional( DateTimeFormatter.ofPattern( &quot;dd-MM-yyyy&quot; ) )\n        .appendOptional( DateTimeFormatter.ofPattern( &quot;dd/MM/yyyy&quot; ) )\n        .appendOptional( DateTimeFormatter.ofPattern( &quot;E MMM dd yyyy&quot; ) )\n        .parseDefaulting( ChronoField.HOUR_OF_DAY, 0 )\n        .parseDefaulting( ChronoField.MINUTE_OF_HOUR, 0 )\n        .parseDefaulting( ChronoField.SECOND_OF_MINUTE, 0 );\n\n    final LocalDateTime dateTime = LocalDateTime.parse( date, dateTimeFormatterBuilder.toFormatter() );\n\n    return dateTime.format( DateTimeFormatter.ofPattern( &quot;dd-MM-yyyy&quot; ) );\n}\n</code></pre>\n<p>But when the date is the following: Tue Apr 19 2022</p>\n<p>It fails to convert but it shouldn't since the &quot;E MMM dd yyyy&quot; is there.</p>\n<pre><code>java.time.format.DateTimeParseException: Text 'Tue Apr 19 2022' could not be parsed, unparsed text found at index 0\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","apache-nifi"],"answers":[{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502795909,"creation_date":1502795909,"answer_id":45691779,"question_id":45684653,"body_markdown":"check that in your nar (nifi archive) the file `META-INF/MANIFEST.MF`\r\ncontains `Nar-*` attributes\r\n\r\nfor example this one defines dependency on another nar:\r\n\r\n    Nar-Dependency-Id: nifi-standard-services-api-nar\r\n\r\nand libraries from `nifi-standard-services-api-nar.nar` will be available in classloader of your nar file...\r\n\r\nread this:\r\n\r\nhttps://nifi.apache.org/docs/nifi-docs/html/developer-guide.html#nars","title":"NIFI: NoClassDefFoundError - AbstractListProcessor","body":"<p>check that in your nar (nifi archive) the file <code>META-INF/MANIFEST.MF</code>\ncontains <code>Nar-*</code> attributes</p>\n\n<p>for example this one defines dependency on another nar:</p>\n\n<pre><code>Nar-Dependency-Id: nifi-standard-services-api-nar\n</code></pre>\n\n<p>and libraries from <code>nifi-standard-services-api-nar.nar</code> will be available in classloader of your nar file...</p>\n\n<p>read this:</p>\n\n<p><a href=\"https://nifi.apache.org/docs/nifi-docs/html/developer-guide.html#nars\" rel=\"nofollow noreferrer\">https://nifi.apache.org/docs/nifi-docs/html/developer-guide.html#nars</a></p>\n"},{"tags":[],"owner":{"account_id":7428562,"reputation":18430,"user_id":5650316,"display_name":"Bryan Bende"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1502804562,"creation_date":1502804562,"answer_id":45694119,"question_id":45684653,"body_markdown":"Generally processors aren&#39;t really meant to be extended and it would be better to not have a dependency on nifi-standard-nar. The nifi-processor-utils project exists to hold common code to share across processors like AbstractListProcessor:\r\n\r\nhttps://github.com/apache/nifi/tree/master/nifi-nar-bundles/nifi-extension-utils\r\n\r\nIf there is other code in nifi-standard-processors that should be shared then we should look at refactoring and moving it into modules under nifi-extension-utils.\r\n\r\nFor now, you are probably better off copying and pasting ListFile, FileTransfer, and FileInfo into your own project and modifying them accordingly, and remove the dependency on nifi-standard-processors.\r\n\r\nTo answer the specific question about why you get that exception... its because your NAR needs to have a NAR dependency on nifi-standard-nar in order to resolve the classes at runtime. This wiki page shows an example which would be the same situation: \r\n\r\nhttps://cwiki.apache.org/confluence/display/NIFI/Maven+Projects+for+Extensions#MavenProjectsforExtensions-LinkingProcessorsandControllerServices","title":"NIFI: NoClassDefFoundError - AbstractListProcessor","body":"<p>Generally processors aren't really meant to be extended and it would be better to not have a dependency on nifi-standard-nar. The nifi-processor-utils project exists to hold common code to share across processors like AbstractListProcessor:</p>\n\n<p><a href=\"https://github.com/apache/nifi/tree/master/nifi-nar-bundles/nifi-extension-utils\" rel=\"nofollow noreferrer\">https://github.com/apache/nifi/tree/master/nifi-nar-bundles/nifi-extension-utils</a></p>\n\n<p>If there is other code in nifi-standard-processors that should be shared then we should look at refactoring and moving it into modules under nifi-extension-utils.</p>\n\n<p>For now, you are probably better off copying and pasting ListFile, FileTransfer, and FileInfo into your own project and modifying them accordingly, and remove the dependency on nifi-standard-processors.</p>\n\n<p>To answer the specific question about why you get that exception... its because your NAR needs to have a NAR dependency on nifi-standard-nar in order to resolve the classes at runtime. This wiki page shows an example which would be the same situation: </p>\n\n<p><a href=\"https://cwiki.apache.org/confluence/display/NIFI/Maven+Projects+for+Extensions#MavenProjectsforExtensions-LinkingProcessorsandControllerServices\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/NIFI/Maven+Projects+for+Extensions#MavenProjectsforExtensions-LinkingProcessorsandControllerServices</a></p>\n"}],"owner":{"account_id":4779691,"reputation":78,"user_id":3861837,"accept_rate":40,"display_name":"codeviper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45694119,"answer_count":2,"score":0,"last_activity_date":1650384719,"creation_date":1502754674,"question_id":45684653,"body_markdown":"I&#39;m extending a standard processor to create a custom nifi processor. The project builds fine. But, when I restart my nifi after adding the newly generated nar to lib/ directory, nifi fails to start with `NoClassDefFoundError`:\r\n```java\r\n    java.lang.NoClassDefFoundError: org/apache/nifi/processor/util/list/AbstractListProcessor\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:763)\r\n    \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\r\n    \tat java.net.URLClassLoader.access$100(URLClassLoader.java:73)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:368)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:362)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:361)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:763)\r\n    \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\r\n    \tat java.net.URLClassLoader.access$100(URLClassLoader.java:73)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:368)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:362)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:361)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:348)\r\n    \tat java.util.ServiceLoader$LazyIterator.nextService(ServiceLoader.java:370)\r\n    \tat java.util.ServiceLoader$LazyIterator.next(ServiceLoader.java:404)\r\n    \tat java.util.ServiceLoader$1.next(ServiceLoader.java:480)\r\n    \tat org.apache.nifi.nar.ExtensionManager.loadExtensions(ExtensionManager.java:138)\r\n    \tat org.apache.nifi.nar.ExtensionManager.discoverExtensions(ExtensionManager.java:113)\r\n    \tat org.apache.nifi.web.server.JettyServer.start(JettyServer.java:699)\r\n    \tat org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:160)\r\n    \tat org.apache.nifi.NiFi.main(NiFi.java:267)\r\n```\r\nCan someone help me understand if I&#39;m missing something here.\r\n\r\nI&#39;m using the following dependencies in processor-bundle&#39;s `POM.xml`:\r\n```xml\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;nifi-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;nifi-standard-processors&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;nifi-processor-utils&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;nifi-utils&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nMy imports in my code:\r\n```java\r\n    import org.apache.commons.io.IOUtils;\r\n    import org.apache.nifi.components.PropertyDescriptor;\r\n    import org.apache.nifi.flowfile.attributes.CoreAttributes;\r\n    import org.apache.nifi.processor.ProcessContext;\r\n    import org.apache.nifi.processor.util.StandardValidators;\r\n    import org.apache.nifi.processor.util.list.AbstractListProcessor;\r\n    import org.apache.nifi.processors.standard.util.FileInfo;\r\n    import org.apache.nifi.processors.standard.util.FileTransfer;\r\n    import org.apache.nifi.processors.standard.ListFile;\r\n```\r\n","title":"NIFI: NoClassDefFoundError - AbstractListProcessor","body":"<p>I'm extending a standard processor to create a custom nifi processor. The project builds fine. But, when I restart my nifi after adding the newly generated nar to lib/ directory, nifi fails to start with <code>NoClassDefFoundError</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    java.lang.NoClassDefFoundError: org/apache/nifi/processor/util/list/AbstractListProcessor\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:73)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:368)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:362)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:361)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:73)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:368)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:362)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:361)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at java.util.ServiceLoader$LazyIterator.nextService(ServiceLoader.java:370)\n        at java.util.ServiceLoader$LazyIterator.next(ServiceLoader.java:404)\n        at java.util.ServiceLoader$1.next(ServiceLoader.java:480)\n        at org.apache.nifi.nar.ExtensionManager.loadExtensions(ExtensionManager.java:138)\n        at org.apache.nifi.nar.ExtensionManager.discoverExtensions(ExtensionManager.java:113)\n        at org.apache.nifi.web.server.JettyServer.start(JettyServer.java:699)\n        at org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:160)\n        at org.apache.nifi.NiFi.main(NiFi.java:267)\n</code></pre>\n<p>Can someone help me understand if I'm missing something here.</p>\n<p>I'm using the following dependencies in processor-bundle's <code>POM.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n        &lt;artifactId&gt;nifi-api&lt;/artifactId&gt;\n        &lt;version&gt;1.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n        &lt;artifactId&gt;nifi-standard-processors&lt;/artifactId&gt;\n        &lt;version&gt;1.3.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n        &lt;artifactId&gt;nifi-processor-utils&lt;/artifactId&gt;\n        &lt;version&gt;1.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n        &lt;artifactId&gt;nifi-utils&lt;/artifactId&gt;\n        &lt;version&gt;1.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>My imports in my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import org.apache.commons.io.IOUtils;\n    import org.apache.nifi.components.PropertyDescriptor;\n    import org.apache.nifi.flowfile.attributes.CoreAttributes;\n    import org.apache.nifi.processor.ProcessContext;\n    import org.apache.nifi.processor.util.StandardValidators;\n    import org.apache.nifi.processor.util.list.AbstractListProcessor;\n    import org.apache.nifi.processors.standard.util.FileInfo;\n    import org.apache.nifi.processors.standard.util.FileTransfer;\n    import org.apache.nifi.processors.standard.ListFile;\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1650378970,"post_id":71926324,"comment_id":127097851,"body_markdown":"Check my answer [here](https://stackoverflow.com/questions/71022383/how-to-link-a-vaadin-grid-with-the-result-of-spring-mono-webclient-data/71033265#71033265). It deals with the exact same problem - deserialization of classes without default constructor. It&#39;s about `Page`, but the same principle is applicable to your case.","body":"Check my answer <a href=\"https://stackoverflow.com/questions/71022383/how-to-link-a-vaadin-grid-with-the-result-of-spring-mono-webclient-data/71033265#71033265\">here</a>. It deals with the exact same problem - deserialization of classes without default constructor. It&#39;s about <code>Page</code>, but the same principle is applicable to your case."},{"owner":{"account_id":24819930,"reputation":101,"user_id":18700381,"display_name":"daph111"},"score":0,"creation_date":1650379403,"post_id":71926324,"comment_id":127098030,"body_markdown":"@Chaosfire thanks but this is way too much stuff for a simple issue. Any simplers solution?","body":"@Chaosfire thanks but this is way too much stuff for a simple issue. Any simplers solution?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1650384607,"post_id":71926324,"comment_id":127100113,"body_markdown":"This method is tested and it works(with pages, i have not had dealings with geojson). Check my answer for simpler, but untested, solution. I have not used this module before.","body":"This method is tested and it works(with pages, i have not had dealings with geojson). Check my answer for simpler, but untested, solution. I have not used this module before."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650384513,"creation_date":1650384513,"answer_id":71928023,"question_id":71926324,"body_markdown":"Check static methods of [GeoJsonModule][1]. It contains modules containing serializers and deserializers for geo json classes.\r\n\r\nRegister with your instance of `ObjectMapper`.\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.registerModule(GeoJsonModule.geoJsonModule());\r\n```\r\n`geoJsonModule()` contains both serializers and deserializers, if you need only deserializers use `deserializers()`.\r\n\r\n  [1]: https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/geo/GeoJsonModule.html","title":"How to add No Argument Constructor to Java class from another package?","body":"<p>Check static methods of <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/geo/GeoJsonModule.html\" rel=\"nofollow noreferrer\">GeoJsonModule</a>. It contains modules containing serializers and deserializers for geo json classes.</p>\n<p>Register with your instance of <code>ObjectMapper</code>.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(GeoJsonModule.geoJsonModule());\n</code></pre>\n<p><code>geoJsonModule()</code> contains both serializers and deserializers, if you need only deserializers use <code>deserializers()</code>.</p>\n"}],"owner":{"account_id":24819930,"reputation":101,"user_id":18700381,"display_name":"daph111"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71928023,"answer_count":1,"score":1,"last_activity_date":1650384513,"creation_date":1650377157,"question_id":71926324,"body_markdown":"I&#39;m trying to read a json file and convert to Object and this works fine for other classes but in this case my model has `GeoJsonMultiPolygon` which is from `package org.springframework.data.mongodb.core.geo;` and **does not contain a constructor with no arguments**\r\n\r\n    Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.mongodb.core.geo.GeoJsonMultiPolygon` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n\r\n\r\n    at [Source: (BufferedInputStream); line: 12, column: 5] (through reference chain: java.util.ArrayList[0]-&gt;data.countryboundaries.CountryBoundaries[&quot;geometry&quot;])\r\n\r\nModel:\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString()\r\n    @EqualsAndHashCode\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @Document(collection = &quot;country-boundaries&quot;)\r\n    public class CountryBoundaries {\r\n        @Id\r\n        private String id;\r\n        @EqualsAndHashCode.Exclude\r\n        private String type;\r\n        @EqualsAndHashCode.Exclude\r\n        private CountryBoundariesProperties properties;\r\n        @EqualsAndHashCode.Exclude\r\n        private GeoJsonMultiPolygon geometry;\r\n    }\r\n\r\nCode:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n            InputStream is = Country.class.getResourceAsStream(&quot;/country-boundaries.json&quot;);\r\n            List&lt;CountryBoundaries&gt; countryBoundaries = mapper.readValue(is,  new TypeReference&lt;&gt;(){});\r\n            countryBoundariesRepository.saveAll(countryBoundaries);\r\n\r\n\r\nHow can I bypass this error since I&#39;m not able to modify code from a library and fill the geometry object using the ObjectMapper?","title":"How to add No Argument Constructor to Java class from another package?","body":"<p>I'm trying to read a json file and convert to Object and this works fine for other classes but in this case my model has <code>GeoJsonMultiPolygon</code> which is from <code>package org.springframework.data.mongodb.core.geo;</code> and <strong>does not contain a constructor with no arguments</strong></p>\n<pre><code>Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.mongodb.core.geo.GeoJsonMultiPolygon` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n\n\nat [Source: (BufferedInputStream); line: 12, column: 5] (through reference chain: java.util.ArrayList[0]-&gt;data.countryboundaries.CountryBoundaries[&quot;geometry&quot;])\n</code></pre>\n<p>Model:</p>\n<pre><code>@Getter\n@Setter\n@ToString()\n@EqualsAndHashCode\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\n@Document(collection = &quot;country-boundaries&quot;)\npublic class CountryBoundaries {\n    @Id\n    private String id;\n    @EqualsAndHashCode.Exclude\n    private String type;\n    @EqualsAndHashCode.Exclude\n    private CountryBoundariesProperties properties;\n    @EqualsAndHashCode.Exclude\n    private GeoJsonMultiPolygon geometry;\n}\n</code></pre>\n<p>Code:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n        InputStream is = Country.class.getResourceAsStream(&quot;/country-boundaries.json&quot;);\n        List&lt;CountryBoundaries&gt; countryBoundaries = mapper.readValue(is,  new TypeReference&lt;&gt;(){});\n        countryBoundariesRepository.saveAll(countryBoundaries);\n</code></pre>\n<p>How can I bypass this error since I'm not able to modify code from a library and fill the geometry object using the ObjectMapper?</p>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1650385034,"post_id":71928009,"comment_id":127100285,"body_markdown":"have you tried testing it with fewer threads first, making sure it works the way you intended and gradually scaling up testing as you go? 10 -&gt; 20 -&gt;100 -&gt; 250 -&gt; 500 -&gt; 1000 etc.","body":"have you tried testing it with fewer threads first, making sure it works the way you intended and gradually scaling up testing as you go? 10 -&gt; 20 -&gt;100 -&gt; 250 -&gt; 500 -&gt; 1000 etc."},{"owner":{"account_id":3300373,"reputation":1,"user_id":2776700,"display_name":"artfly"},"score":0,"creation_date":1650386017,"post_id":71928009,"comment_id":127100647,"body_markdown":"I&#39;ve reproduced same problem with 100 threads. Couldn&#39;t reproduce with less (50), but maybe there just weren&#39;t enough attempts...\nI also tried to tweak `sleep` time. When I set it to some high number (e.g. 20 seconds) problem is gone.","body":"I&#39;ve reproduced same problem with 100 threads. Couldn&#39;t reproduce with less (50), but maybe there just weren&#39;t enough attempts... I also tried to tweak <code>sleep</code> time. When I set it to some high number (e.g. 20 seconds) problem is gone."},{"owner":{"account_id":3300373,"reputation":1,"user_id":2776700,"display_name":"artfly"},"score":0,"creation_date":1650386879,"post_id":71928009,"comment_id":127100936,"body_markdown":"It does not seem relevant to me who actually closes connection - server or client. But I&#39;ve done as you&#39;ve suggested - removed `client.close()` from server side. Client already closed connection since I use try-catch-with-resources. \nProblem still persists, some clients send message, but server haven&#39;t even `accept`ed them...","body":"It does not seem relevant to me who actually closes connection - server or client. But I&#39;ve done as you&#39;ve suggested - removed <code>client.close()</code> from server side. Client already closed connection since I use try-catch-with-resources.  Problem still persists, some clients send message, but server haven&#39;t even <code>accept</code>ed them..."},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1650387374,"post_id":71928009,"comment_id":127101116,"body_markdown":"What about creating a server with multiple connection threads? You wouldn&#39;t want a single server to have to handle all the connections one at a time? Why not divide the work between 4 server accept threads? See where that gets you.","body":"What about creating a server with multiple connection threads? You wouldn&#39;t want a single server to have to handle all the connections one at a time? Why not divide the work between 4 server accept threads? See where that gets you."},{"owner":{"account_id":3300373,"reputation":1,"user_id":2776700,"display_name":"artfly"},"score":0,"creation_date":1650388043,"post_id":71928009,"comment_id":127101325,"body_markdown":"Agree, I can rewrite server in some different manner - multiple threads, nio, etc...But I&#39;m trying to understand what&#39;s the problem in the current configuration. For me it seems that I do not fully understand some part of my program: maybe how os works with sockets, maybe how java handles sockets internally...So my goal here is mainly an educational one (that&#39;s why code is so simple)","body":"Agree, I can rewrite server in some different manner - multiple threads, nio, etc...But I&#39;m trying to understand what&#39;s the problem in the current configuration. For me it seems that I do not fully understand some part of my program: maybe how os works with sockets, maybe how java handles sockets internally...So my goal here is mainly an educational one (that&#39;s why code is so simple)"},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1650388629,"post_id":71928009,"comment_id":127101559,"body_markdown":"My guess would be that some of your clients timeout trying to connect to the server. What&#39;s the behavior of `socket.connect(new InetSocketAddress(&quot;localhost&quot;, 8080));`? Does it wait forever, or does it wait for a certain amount of time? And what about creating a collection of Sockets for your server instead of using only 1 connections for all those threads. Then when the client closes the connection on its end, your server will go through clean up all the sockets once their closed? Similar to how you wait for all your threads to shut down on your client side.","body":"My guess would be that some of your clients timeout trying to connect to the server. What&#39;s the behavior of <code>socket.connect(new InetSocketAddress(&quot;localhost&quot;, 8080));</code>? Does it wait forever, or does it wait for a certain amount of time? And what about creating a collection of Sockets for your server instead of using only 1 connections for all those threads. Then when the client closes the connection on its end, your server will go through clean up all the sockets once their closed? Similar to how you wait for all your threads to shut down on your client side."},{"owner":{"account_id":3300373,"reputation":1,"user_id":2776700,"display_name":"artfly"},"score":0,"creation_date":1650390452,"post_id":71928009,"comment_id":127102256,"body_markdown":"They indeed timeout and this is expected. I can see `Operation timed out` exceptions in logs. So, `# clients that server accepted` &lt;`# clients that sent message` &lt; 1000. But if I see `Client {} sent message (port {})` in logs it means that this particular client did not timeout, and I only count this clients as &quot;clients that sent message&quot;. So it seems to me that there&#39;s some other problem\nI didn&#39;t quite understand the reasoning behind  &quot;collection of Sockets on server side&quot;. How exactly closing of sockets will affect correlation between &quot;sent requests&quot; and &quot;number of accepted clients&quot;?","body":"They indeed timeout and this is expected. I can see <code>Operation timed out</code> exceptions in logs. So, <code># clients that server accepted</code> &lt;<code># clients that sent message</code> &lt; 1000. But if I see <code>Client {} sent message (port {})</code> in logs it means that this particular client did not timeout, and I only count this clients as &quot;clients that sent message&quot;. So it seems to me that there&#39;s some other problem I didn&#39;t quite understand the reasoning behind  &quot;collection of Sockets on server side&quot;. How exactly closing of sockets will affect correlation between &quot;sent requests&quot; and &quot;number of accepted clients&quot;?"}],"owner":{"account_id":3300373,"reputation":1,"user_id":2776700,"display_name":"artfly"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650384469,"creation_date":1650384469,"question_id":71928009,"body_markdown":"## Problem\r\n\r\nI have 1000 threads that send messages to my server.\r\n\r\nClient code looks like this:\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; 1_000; i++) {\r\n            Thread thread = new Thread(new Client(i));\r\n            thread.start();\r\n            threads.add(thread);\r\n        }\r\n        for (Thread thread : threads) {\r\n            thread.join();\r\n        }\r\n    }\r\n\r\n    private static class Client implements Runnable {\r\n\r\n        private static final Logger LOG = LoggerFactory.getLogger(Client.class);\r\n\r\n        private final int id;\r\n\r\n        Client(int id) {\r\n            this.id = id;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            try (Socket socket = new Socket()) {\r\n                LOG.debug(&quot;Client {} connects to server...&quot;, id);\r\n                socket.connect(new InetSocketAddress(&quot;localhost&quot;, 8080));\r\n                Writer writer = new OutputStreamWriter(socket.getOutputStream());\r\n                LOG.debug(&quot;Client {} sends message...&quot;, id);\r\n                writer.write(&quot;Client id: &quot; + id);\r\n                writer.flush();\r\n                LOG.info(&quot;Client {} sent message (port {})&quot;, id, socket.getLocalPort());\r\n            } catch (IOException e) {\r\n                throw new UncheckedIOException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd server code looks like this:\r\n```\r\npublic class Main {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(Main.class);\r\n\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        blocking();\r\n    }\r\n\r\n    private static void blocking() throws IOException, InterruptedException {\r\n        try (ServerSocket socket = new ServerSocket(8080, 1, InetAddress.getByName(&quot;localhost&quot;))) {\r\n            LOG.debug(&quot;Server started...&quot;);\r\n            while (true) {\r\n                Socket client = socket.accept();\r\n                LOG.info(&quot;New client! (port {})&quot;, client.getPort());\r\n                Thread.sleep(100);\r\n                client.close();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow when I&#39;m running this program I expect to see `# of clients server accepted` ≥ `# of clients who successfully sent message`. But sometimes it is not! Sometimes we have `# of clients server accepted` &lt; `# of clients who successfully sent message`.\r\n\r\n\r\n## What I&#39;ve tried\r\n\r\n 1. tweak backlog parameter\r\n 2. synchronize write to server between clients\r\n\r\n## Current thoughts\r\n\r\nBased on timestamps in logs it seems that clients that are not handled actually send message when server sleeps. But I don&#39;t understand, where they send them... Maybe they stay in backlog queue, send message, disconnect and after that they are removed from the queue?\r\n\r\n## Configuration\r\n\r\nmacOS, openjdk-17","title":"Java sockets: parallel clients, one server: some of the client messages are missing","body":"<h2>Problem</h2>\n<p>I have 1000 threads that send messages to my server.</p>\n<p>Client code looks like this:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws InterruptedException {\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 1_000; i++) {\n            Thread thread = new Thread(new Client(i));\n            thread.start();\n            threads.add(thread);\n        }\n        for (Thread thread : threads) {\n            thread.join();\n        }\n    }\n\n    private static class Client implements Runnable {\n\n        private static final Logger LOG = LoggerFactory.getLogger(Client.class);\n\n        private final int id;\n\n        Client(int id) {\n            this.id = id;\n        }\n\n        @Override\n        public void run() {\n            try (Socket socket = new Socket()) {\n                LOG.debug(&quot;Client {} connects to server...&quot;, id);\n                socket.connect(new InetSocketAddress(&quot;localhost&quot;, 8080));\n                Writer writer = new OutputStreamWriter(socket.getOutputStream());\n                LOG.debug(&quot;Client {} sends message...&quot;, id);\n                writer.write(&quot;Client id: &quot; + id);\n                writer.flush();\n                LOG.info(&quot;Client {} sent message (port {})&quot;, id, socket.getLocalPort());\n            } catch (IOException e) {\n                throw new UncheckedIOException(e);\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>And server code looks like this:</p>\n<pre><code>public class Main {\n\n    private static final Logger LOG = LoggerFactory.getLogger(Main.class);\n\n    public static void main(String[] args) throws IOException, InterruptedException {\n        blocking();\n    }\n\n    private static void blocking() throws IOException, InterruptedException {\n        try (ServerSocket socket = new ServerSocket(8080, 1, InetAddress.getByName(&quot;localhost&quot;))) {\n            LOG.debug(&quot;Server started...&quot;);\n            while (true) {\n                Socket client = socket.accept();\n                LOG.info(&quot;New client! (port {})&quot;, client.getPort());\n                Thread.sleep(100);\n                client.close();\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>Now when I'm running this program I expect to see <code># of clients server accepted</code> ≥ <code># of clients who successfully sent message</code>. But sometimes it is not! Sometimes we have <code># of clients server accepted</code> &lt; <code># of clients who successfully sent message</code>.</p>\n<h2>What I've tried</h2>\n<ol>\n<li>tweak backlog parameter</li>\n<li>synchronize write to server between clients</li>\n</ol>\n<h2>Current thoughts</h2>\n<p>Based on timestamps in logs it seems that clients that are not handled actually send message when server sleeps. But I don't understand, where they send them... Maybe they stay in backlog queue, send message, disconnect and after that they are removed from the queue?</p>\n<h2>Configuration</h2>\n<p>macOS, openjdk-17</p>\n"},{"tags":["java","recursion","integer"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1650340721,"post_id":71919489,"comment_id":127085623,"body_markdown":"The best way is not to have a static method, that way it will be reset every time you create a new instance of the class. Otherwise, create a new starter method called `initiateBalanceParenthesesRecursive` that simply resets the 3 storage values (tempSpot, holderValue1, holderValue2) to 0. And when you want to use the recursion call the new method, but have that method call your existing method `balanceParenthesesRecursive`","body":"The best way is not to have a static method, that way it will be reset every time you create a new instance of the class. Otherwise, create a new starter method called <code>initiateBalanceParenthesesRecursive</code> that simply resets the 3 storage values (tempSpot, holderValue1, holderValue2) to 0. And when you want to use the recursion call the new method, but have that method call your existing method <code>balanceParenthesesRecursive</code>"},{"owner":{"account_id":24347458,"reputation":25,"user_id":18283794,"display_name":"Banks N"},"score":0,"creation_date":1650345700,"post_id":71919489,"comment_id":127086426,"body_markdown":"When I remove static from the integers, I get an error stating that they cant be called from a static context. Do you know a way around that so I can update or call on them without them being static?","body":"When I remove static from the integers, I get an error stating that they cant be called from a static context. Do you know a way around that so I can update or call on them without them being static?"}],"answers":[{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650348130,"creation_date":1650342960,"answer_id":71919732,"question_id":71919489,"body_markdown":"I believe, you do not need to &quot;store&quot; any data. You may pass the data as parameters to the next recursion loop. Something like that:\r\n\r\n    public static boolean balanceParenthesesRecursive(\r\n        String str, int tempSpot, int openCount, int closeCount\r\n    ) {\r\n        if (str.charAt(tempSpot) == &#39;(&#39;) {\r\n            openCount++;\r\n        }\r\n        if (str.charAt(tempSpot) == &#39;)&#39;) {\r\n            closeCount++;\r\n        }\r\n        tempSpot++;\r\n        if (tempSpot == str.length()) {\r\n            return openCount == closeCount;\r\n        } else {\r\n            return balanceParenthesesRecursive(str, tempSpot, openCount, closeCount);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Positive result = &quot; + balanceParenthesesRecursive(&quot;this is (positive) test string.&quot;, 0, 0, 0));\r\n        System.out.println(&quot;Negative result = &quot; + balanceParenthesesRecursive(&quot;this is (negative)) test string.&quot;, 0, 0, 0));\r\n    }\r\nUpdate:\r\nYou said that you have a requirement that the method should accept only one parameter (the string).\r\nThere is an alternative, but it is really ugly one. To clear the static variables when the work is done: \r\n\r\n    public static int tempSpot = 0; // this integer stores the position of the string im at\r\n    // since I&#39;m not allowed to use a for loop to serve the same purpose\r\n    public static int openCount1 = 0;\r\n    public static int closeCount1 = 0; // track the count of &quot;(&quot; or &quot;)&quot;\r\n\r\n    public static boolean balanceParenthesesRecursive(String str){\r\n        if (str.charAt(tempSpot) == &#39;(&#39;){\r\n            openCount1++;\r\n        }\r\n        if (str.charAt(tempSpot) == &#39;)&#39;){\r\n            closeCount1++;\r\n        }\r\n        tempSpot++;\r\n        if (tempSpot == str.length()){  // prevents recursion if next call will be out of bounds\r\n            boolean result = openCount1 == closeCount1;\r\n            tempSpot = 0;\r\n            openCount1 = 0;\r\n            closeCount1 = 0;\r\n            return result;\r\n        } else {\r\n            return balanceParenthesesRecursive(str);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Positive result = &quot; + balanceParenthesesRecursive(&quot;this is (positive) test string.&quot;));\r\n        System.out.println(&quot;Negative result = &quot; + balanceParenthesesRecursive(&quot;this is (negative)) test string.&quot;));\r\n    }\r\n\r\nAlternative #2. Maybe it&#39;s ok to &quot;wrap&quot; recursive method into non-recursive:\r\n\r\n    public static boolean balanceParenthesesRecursive(\r\n        String str, int tempSpot, int openCount, int closeCount\r\n    ) {\r\n        if (str.charAt(tempSpot) == &#39;(&#39;) {\r\n            openCount++;\r\n        }\r\n        if (str.charAt(tempSpot) == &#39;)&#39;) {\r\n            closeCount++;\r\n        }\r\n        tempSpot++;\r\n        if (tempSpot == str.length()) {\r\n            return openCount == closeCount;\r\n        } else {\r\n            return balanceParenthesesRecursive(str, tempSpot, openCount, closeCount);\r\n        }\r\n    }\r\n\r\n    public static boolean balanceParentheses(String str) {\r\n        return balanceParenthesesRecursive(str, 0, 0, 0);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Positive result = &quot; + balanceParentheses(&quot;this is (positive) test string.&quot;));\r\n        System.out.println(&quot;Negative result = &quot; + balanceParentheses(&quot;this is (negative)) test string.&quot;));\r\n    }","title":"How to best store data when working with recursion, and reset the data if method is re-called","body":"<p>I believe, you do not need to &quot;store&quot; any data. You may pass the data as parameters to the next recursion loop. Something like that:</p>\n<pre><code>public static boolean balanceParenthesesRecursive(\n    String str, int tempSpot, int openCount, int closeCount\n) {\n    if (str.charAt(tempSpot) == '(') {\n        openCount++;\n    }\n    if (str.charAt(tempSpot) == ')') {\n        closeCount++;\n    }\n    tempSpot++;\n    if (tempSpot == str.length()) {\n        return openCount == closeCount;\n    } else {\n        return balanceParenthesesRecursive(str, tempSpot, openCount, closeCount);\n    }\n}\n\npublic static void main(String[] args) {\n    System.out.println(&quot;Positive result = &quot; + balanceParenthesesRecursive(&quot;this is (positive) test string.&quot;, 0, 0, 0));\n    System.out.println(&quot;Negative result = &quot; + balanceParenthesesRecursive(&quot;this is (negative)) test string.&quot;, 0, 0, 0));\n}\n</code></pre>\n<p>Update:\nYou said that you have a requirement that the method should accept only one parameter (the string).\nThere is an alternative, but it is really ugly one. To clear the static variables when the work is done:</p>\n<pre><code>public static int tempSpot = 0; // this integer stores the position of the string im at\n// since I'm not allowed to use a for loop to serve the same purpose\npublic static int openCount1 = 0;\npublic static int closeCount1 = 0; // track the count of &quot;(&quot; or &quot;)&quot;\n\npublic static boolean balanceParenthesesRecursive(String str){\n    if (str.charAt(tempSpot) == '('){\n        openCount1++;\n    }\n    if (str.charAt(tempSpot) == ')'){\n        closeCount1++;\n    }\n    tempSpot++;\n    if (tempSpot == str.length()){  // prevents recursion if next call will be out of bounds\n        boolean result = openCount1 == closeCount1;\n        tempSpot = 0;\n        openCount1 = 0;\n        closeCount1 = 0;\n        return result;\n    } else {\n        return balanceParenthesesRecursive(str);\n    }\n}\n\npublic static void main(String[] args) {\n    System.out.println(&quot;Positive result = &quot; + balanceParenthesesRecursive(&quot;this is (positive) test string.&quot;));\n    System.out.println(&quot;Negative result = &quot; + balanceParenthesesRecursive(&quot;this is (negative)) test string.&quot;));\n}\n</code></pre>\n<p>Alternative #2. Maybe it's ok to &quot;wrap&quot; recursive method into non-recursive:</p>\n<pre><code>public static boolean balanceParenthesesRecursive(\n    String str, int tempSpot, int openCount, int closeCount\n) {\n    if (str.charAt(tempSpot) == '(') {\n        openCount++;\n    }\n    if (str.charAt(tempSpot) == ')') {\n        closeCount++;\n    }\n    tempSpot++;\n    if (tempSpot == str.length()) {\n        return openCount == closeCount;\n    } else {\n        return balanceParenthesesRecursive(str, tempSpot, openCount, closeCount);\n    }\n}\n\npublic static boolean balanceParentheses(String str) {\n    return balanceParenthesesRecursive(str, 0, 0, 0);\n}\n\npublic static void main(String[] args) {\n    System.out.println(&quot;Positive result = &quot; + balanceParentheses(&quot;this is (positive) test string.&quot;));\n    System.out.println(&quot;Negative result = &quot; + balanceParentheses(&quot;this is (negative)) test string.&quot;));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650370310,"creation_date":1650370310,"answer_id":71924732,"question_id":71919489,"body_markdown":"The existing answer is good, but to address your comment, the following is a solution without using static variables by making use of an instanced class/object.\r\n\r\nFirst, we create a new class, for this example, I used `SomeClass` as follows, and note how nothing is static:\r\n\r\n    public class SomeClass {\r\n\r\n        //Variables will be reset to the below values every time you create a new instance of this object\r\n        private int tempSpot = 0;\r\n        private int openCount1 = 0;\r\n        private int closeCount1 = 0;\r\n    \r\n        public boolean balanceParenthesesRecursive(String str) {\r\n            if (str.charAt(tempSpot) == &#39;(&#39;) {\r\n                openCount1++;\r\n            }\r\n            if (str.charAt(tempSpot) == &#39;)&#39;) {\r\n                closeCount1++;\r\n            }\r\n            tempSpot++;\r\n            if (tempSpot == str.length()) {  // prevents recursion if next call will be out of bounds\r\n                return openCount1 == closeCount1;\r\n            } else {\r\n                balanceParenthesesRecursive(str);\r\n            }\r\n            return openCount1 == closeCount1;\r\n        }\r\n    }\r\n\r\nThen to call this class and use the method we first need to use `new SomeClass()` to create an instance of the class, then we can call the method and get the result like so:\r\n\r\n    Boolean result = new SomeClass().balanceParenthesesRecursive(yourString);\r\n\r\n\r\n----------\r\n\r\n\r\nSide note, a better solution might be to merge both of my suggestions to have both a starter method and still keep the methods instanced to the class (not static). This is a safer option, but is not necessary in most cases and does not need to be non static. Note how the starter method is public, and the recursive method with the variables is private so it can not be accessed from outside of the class/object:\r\n\r\n    public class SomeClass {\r\n        \r\n        //public starter method that starts the values at 0\r\n        public boolean balanceParenthesesRecursive(String str) {\r\n            return balanceParenthesesRecursive(str, 0, 0, 0);\r\n        }\r\n          \r\n        //tempSpot stores the position of the string im at\r\n        //openCount1 tracks the count of &quot;(&quot;\r\n        //closeCount1 tracks the count of &quot;)&quot;\r\n        private boolean balanceParenthesesRecursive(String str, int tempSpot, int openCount1, int closeCount1) {\r\n            if (str.charAt(tempSpot) == &#39;(&#39;) {\r\n                openCount1++;\r\n            }\r\n            if (str.charAt(tempSpot) == &#39;)&#39;) {\r\n                closeCount1++;\r\n            }\r\n            tempSpot++;\r\n            if (tempSpot == str.length()) {  // prevents recursion if next call will be out of bounds\r\n                return openCount1 == closeCount1;\r\n            } else {\r\n                balanceParenthesesRecursive(str);\r\n            }\r\n            return openCount1 == closeCount1;\r\n        }\r\n    }\r\n\r\nYou would use the new class instance and method call to get results from this second option:\r\n\r\n    Boolean result = new SomeClass().balanceParenthesesRecursive(yourString);","title":"How to best store data when working with recursion, and reset the data if method is re-called","body":"<p>The existing answer is good, but to address your comment, the following is a solution without using static variables by making use of an instanced class/object.</p>\n<p>First, we create a new class, for this example, I used <code>SomeClass</code> as follows, and note how nothing is static:</p>\n<pre><code>public class SomeClass {\n\n    //Variables will be reset to the below values every time you create a new instance of this object\n    private int tempSpot = 0;\n    private int openCount1 = 0;\n    private int closeCount1 = 0;\n\n    public boolean balanceParenthesesRecursive(String str) {\n        if (str.charAt(tempSpot) == '(') {\n            openCount1++;\n        }\n        if (str.charAt(tempSpot) == ')') {\n            closeCount1++;\n        }\n        tempSpot++;\n        if (tempSpot == str.length()) {  // prevents recursion if next call will be out of bounds\n            return openCount1 == closeCount1;\n        } else {\n            balanceParenthesesRecursive(str);\n        }\n        return openCount1 == closeCount1;\n    }\n}\n</code></pre>\n<p>Then to call this class and use the method we first need to use <code>new SomeClass()</code> to create an instance of the class, then we can call the method and get the result like so:</p>\n<pre><code>Boolean result = new SomeClass().balanceParenthesesRecursive(yourString);\n</code></pre>\n<hr />\n<p>Side note, a better solution might be to merge both of my suggestions to have both a starter method and still keep the methods instanced to the class (not static). This is a safer option, but is not necessary in most cases and does not need to be non static. Note how the starter method is public, and the recursive method with the variables is private so it can not be accessed from outside of the class/object:</p>\n<pre><code>public class SomeClass {\n    \n    //public starter method that starts the values at 0\n    public boolean balanceParenthesesRecursive(String str) {\n        return balanceParenthesesRecursive(str, 0, 0, 0);\n    }\n      \n    //tempSpot stores the position of the string im at\n    //openCount1 tracks the count of &quot;(&quot;\n    //closeCount1 tracks the count of &quot;)&quot;\n    private boolean balanceParenthesesRecursive(String str, int tempSpot, int openCount1, int closeCount1) {\n        if (str.charAt(tempSpot) == '(') {\n            openCount1++;\n        }\n        if (str.charAt(tempSpot) == ')') {\n            closeCount1++;\n        }\n        tempSpot++;\n        if (tempSpot == str.length()) {  // prevents recursion if next call will be out of bounds\n            return openCount1 == closeCount1;\n        } else {\n            balanceParenthesesRecursive(str);\n        }\n        return openCount1 == closeCount1;\n    }\n}\n</code></pre>\n<p>You would use the new class instance and method call to get results from this second option:</p>\n<pre><code>Boolean result = new SomeClass().balanceParenthesesRecursive(yourString);\n</code></pre>\n"}],"owner":{"account_id":24347458,"reputation":25,"user_id":18283794,"display_name":"Banks N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71919732,"answer_count":2,"score":0,"last_activity_date":1650384194,"creation_date":1650340425,"question_id":71919489,"body_markdown":"I&#39;m tasked with searching recursively and iteratively for a string in a given input. More specifically I need to ensure that all parentheses brackets have an opposite one to match it. My code returns true if paratheses are all matched and false if they aren&#39;t. My problem is with the recursion as I&#39;m struggling to track the parentheses. My code beneath works perfectly when called once, but if I call it multiple times the integers cross-track and it causes out of bounds exceptions. I want to know the best way that I can store the values when calling the function, as well as how I can reset the integers when the function gets called again.\r\n\r\nIn other words, how can I reset these numbers after calling the code so that it works when called again, and what&#39;s the best way to track a number within recursion?\r\n\r\n\r\n\r\n\r\n```\r\npublic static int tempSpot = 0; // this integer stores the position of the string im at\r\n                                // since I&#39;m not allowed to use a for loop to serve the same purpose\r\npublic static int openCount1 = 0; // track the count of &quot;(&quot;\r\npublic static int closeCount1 = 0; // track the count of &quot;)&quot;\r\n\r\n    public static boolean balanceParenthesesRecursive(String str){\r\n        if (str.charAt(tempSpot) == &#39;(&#39;) {\r\n            openCount1++;\r\n        }\r\n        if (str.charAt(tempSpot) == &#39;)&#39;) {\r\n            closeCount1++;\r\n        }\r\n        tempSpot++;\r\n        if (tempSpot == str.length()) {  // prevents recursion if next call will be out of bounds\r\n            return openCount1 == closeCount1;\r\n        } else {\r\n            balanceParenthesesRecursive(str);\r\n        }\r\n        return openCount1 == closeCount1;\r\n    }\r\n```","title":"How to best store data when working with recursion, and reset the data if method is re-called","body":"<p>I'm tasked with searching recursively and iteratively for a string in a given input. More specifically I need to ensure that all parentheses brackets have an opposite one to match it. My code returns true if paratheses are all matched and false if they aren't. My problem is with the recursion as I'm struggling to track the parentheses. My code beneath works perfectly when called once, but if I call it multiple times the integers cross-track and it causes out of bounds exceptions. I want to know the best way that I can store the values when calling the function, as well as how I can reset the integers when the function gets called again.</p>\n<p>In other words, how can I reset these numbers after calling the code so that it works when called again, and what's the best way to track a number within recursion?</p>\n<pre><code>public static int tempSpot = 0; // this integer stores the position of the string im at\n                                // since I'm not allowed to use a for loop to serve the same purpose\npublic static int openCount1 = 0; // track the count of &quot;(&quot;\npublic static int closeCount1 = 0; // track the count of &quot;)&quot;\n\n    public static boolean balanceParenthesesRecursive(String str){\n        if (str.charAt(tempSpot) == '(') {\n            openCount1++;\n        }\n        if (str.charAt(tempSpot) == ')') {\n            closeCount1++;\n        }\n        tempSpot++;\n        if (tempSpot == str.length()) {  // prevents recursion if next call will be out of bounds\n            return openCount1 == closeCount1;\n        } else {\n            balanceParenthesesRecursive(str);\n        }\n        return openCount1 == closeCount1;\n    }\n</code></pre>\n"},{"tags":["java","spring","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650384120,"creation_date":1650379272,"answer_id":71926843,"question_id":71926588,"body_markdown":"try this\r\n\r\n```java\r\npublic class StaticClassTest {\r\n\r\n    MockedStatic&lt;YourStatic&gt; mockedStatic;\r\n\r\n    @Before\r\n    public void setup() {\r\n        mockedStatic = Mockito.mockStatic(YourStatic.class);\r\n\r\n        // if you want the same behavior all along.\r\n        mockedStatic.when(() -&gt; YourStatic.doSomething(anyString())).thenReturn(&quot;TEST&quot;);\r\n    }\r\n    \r\n    @Test\r\n    public void test_static() {\r\n        // write your test here\r\n    }\r\n\r\n\r\n    @After\r\n    public void teardown() {\r\n        mockedStatic.close();\r\n    }\r\n}\r\n```","title":"spring test mock static method globally","body":"<p>try this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StaticClassTest {\n\n    MockedStatic&lt;YourStatic&gt; mockedStatic;\n\n    @Before\n    public void setup() {\n        mockedStatic = Mockito.mockStatic(YourStatic.class);\n\n        // if you want the same behavior all along.\n        mockedStatic.when(() -&gt; YourStatic.doSomething(anyString())).thenReturn(&quot;TEST&quot;);\n    }\n    \n    @Test\n    public void test_static() {\n        // write your test here\n    }\n\n\n    @After\n    public void teardown() {\n        mockedStatic.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":199879,"reputation":1105,"user_id":445440,"accept_rate":68,"display_name":"danny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2037,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71926843,"answer_count":1,"score":3,"last_activity_date":1650384120,"creation_date":1650378231,"question_id":71926588,"body_markdown":"in spring test, I know I can mock static method(usually static util methods: generate id, get value from Redis) using Mockito like:\r\n```\r\ntry (MockedStatic) {\r\n}\r\n```\r\nbut having to do this in every test method is ugly and cumbersome, is there any way to do it all(i am ok to have a single mocked behavior)\r\n\r\nI am thinking maybe a junit5 extension, or Mockito extension, this seems like a common problem, I wonder if anyone tries something with any success. ","title":"spring test mock static method globally","body":"<p>in spring test, I know I can mock static method(usually static util methods: generate id, get value from Redis) using Mockito like:</p>\n<pre><code>try (MockedStatic) {\n}\n</code></pre>\n<p>but having to do this in every test method is ugly and cumbersome, is there any way to do it all(i am ok to have a single mocked behavior)</p>\n<p>I am thinking maybe a junit5 extension, or Mockito extension, this seems like a common problem, I wonder if anyone tries something with any success.</p>\n"},{"tags":["java","multithreading","executorservice"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1650308129,"post_id":71915874,"comment_id":127079539,"body_markdown":"Something feels not right in your for loop. Where do you increase st?","body":"Something feels not right in your for loop. Where do you increase st?"},{"owner":{"account_id":14189749,"reputation":34,"user_id":10250776,"display_name":"Mandalorean&#39;s Code"},"score":0,"creation_date":1650308284,"post_id":71915874,"comment_id":127079583,"body_markdown":"@HiranChaudhuri thanks for the comment, i actually skipped putting the incrementation loop here and replaced it with a comment in the code, i guess i will update the code with that part as well.","body":"@HiranChaudhuri thanks for the comment, i actually skipped putting the incrementation loop here and replaced it with a comment in the code, i guess i will update the code with that part as well."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1650308748,"post_id":71915874,"comment_id":127079729,"body_markdown":"It still looks to me that you increase realstart and realend - but after the loop. And st is not increased at all. Am still confused why this should work.","body":"It still looks to me that you increase realstart and realend - but after the loop. And st is not increased at all. Am still confused why this should work."},{"owner":{"account_id":14189749,"reputation":34,"user_id":10250776,"display_name":"Mandalorean&#39;s Code"},"score":0,"creation_date":1650309072,"post_id":71915874,"comment_id":127079829,"body_markdown":"@HiranChaudhuri my bad updated the code, i could not copy paste so i had to type out the logic in the stackoverflow . so basically variables st and end keeps getting updated to another batch, every iteration.","body":"@HiranChaudhuri my bad updated the code, i could not copy paste so i had to type out the logic in the stackoverflow . so basically variables st and end keeps getting updated to another batch, every iteration."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1650309905,"post_id":71915874,"comment_id":127080072,"body_markdown":"Well, if the visible code is your real code you should have an endless loop. If it is not, I give up.","body":"Well, if the visible code is your real code you should have an endless loop. If it is not, I give up."},{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":0,"creation_date":1650320811,"post_id":71915874,"comment_id":127082737,"body_markdown":"Agree with @HiranChaudhuri - currently the loop is endless. Unless you made a typo and st and end are updated within for-loop. Currently they are updated outside of the loop.","body":"Agree with @HiranChaudhuri - currently the loop is endless. Unless you made a typo and st and end are updated within for-loop. Currently they are updated outside of the loop."},{"owner":{"account_id":14189749,"reputation":34,"user_id":10250776,"display_name":"Mandalorean&#39;s Code"},"score":0,"creation_date":1650338469,"post_id":71915874,"comment_id":127085325,"body_markdown":"@SveKamenska thanks for pointing, that out, yes they are updated inside the loop, I have updated the code.","body":"@SveKamenska thanks for pointing, that out, yes they are updated inside the loop, I have updated the code."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1650345720,"post_id":71915874,"comment_id":127086432,"body_markdown":"Why bother to batch? Why not process each user-id one at a time? If 100,000 user ids, why not submit 100,000 tasks to the executor service? Or is there some efficiencies to be gained from handling multiple at a time in your `verify` method?","body":"Why bother to batch? Why not process each user-id one at a time? If 100,000 user ids, why not submit 100,000 tasks to the executor service? Or is there some efficiencies to be gained from handling multiple at a time in your <code>verify</code> method?"},{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":0,"creation_date":1650382686,"post_id":71915874,"comment_id":127099362,"body_markdown":"So, if you have 100 users, then each thread will process 1 user in one go. If you have 500k users, then each thread will process 5000 users in one go. Is it intended solution that with increased load, you increase load on each thread? As it can be another way around: always process let&#39;s say 10 users: if you have 100 users, then only 10 threads will be activated and execute only once; if you have 500k, then all 100 threads will be activated and execute 500 times. Anyway, since you see that program gets stuck, it means we need to see verify() method","body":"So, if you have 100 users, then each thread will process 1 user in one go. If you have 500k users, then each thread will process 5000 users in one go. Is it intended solution that with increased load, you increase load on each thread? As it can be another way around: always process let&#39;s say 10 users: if you have 100 users, then only 10 threads will be activated and execute only once; if you have 500k, then all 100 threads will be activated and execute 500 times. Anyway, since you see that program gets stuck, it means we need to see verify() method"}],"answers":[{"tags":[],"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650383941,"creation_date":1650383941,"answer_id":71927903,"question_id":71915874,"body_markdown":"Assuming that everything is OK with 100 threads and you system can handle it.\r\n\r\nThen the issue can be within `verify()` method. Let&#39;s say, you have 10k users -&gt; each thread processes 100 users at a time.\r\n1. Logic of `verify()` method cannot handle it\r\n2. `users Id&#39;s` are not unique within the list `userIds` and several threads are trying to process the same userId concurrently and maybe get dead-locked over some resources related to that user Id.\r\n3. other issue with threads blocking each other, but again - it depends on your application logic\r\n\r\nNote: `executor.awaitTermination(Long.MAX_VALUE, TimeUnit.SECONDS);` only tells whether or not executor finished its processing, it does not force it to terminate after time has elapsed. According to [Oracle][1], the correct way to finish would be :\r\n\r\n    executor.shutdown();\r\n    try {\r\n        if (!executor.awaitTermination(800, TimeUnit.MILLISECONDS)) {\r\n            executor.shutdownNow();\r\n        } \r\n    } catch (InterruptedException e) {\r\n        executor.shutdownNow();\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n\r\nAnother Note: you can use `while (st&lt;userIds.size())` instead of half-empty `for (; st &lt; userIds.size();)`","title":"Why is my Executor Service getting stuck when its close to completion every single time?","body":"<p>Assuming that everything is OK with 100 threads and you system can handle it.</p>\n<p>Then the issue can be within <code>verify()</code> method. Let's say, you have 10k users -&gt; each thread processes 100 users at a time.</p>\n<ol>\n<li>Logic of <code>verify()</code> method cannot handle it</li>\n<li><code>users Id's</code> are not unique within the list <code>userIds</code> and several threads are trying to process the same userId concurrently and maybe get dead-locked over some resources related to that user Id.</li>\n<li>other issue with threads blocking each other, but again - it depends on your application logic</li>\n</ol>\n<p>Note: <code>executor.awaitTermination(Long.MAX_VALUE, TimeUnit.SECONDS);</code> only tells whether or not executor finished its processing, it does not force it to terminate after time has elapsed. According to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">Oracle</a>, the correct way to finish would be :</p>\n<pre><code>executor.shutdown();\ntry {\n    if (!executor.awaitTermination(800, TimeUnit.MILLISECONDS)) {\n        executor.shutdownNow();\n    } \n} catch (InterruptedException e) {\n    executor.shutdownNow();\n}\n</code></pre>\n<p>Another Note: you can use <code>while (st&lt;userIds.size())</code> instead of half-empty <code>for (; st &lt; userIds.size();)</code></p>\n"}],"owner":{"account_id":14189749,"reputation":34,"user_id":10250776,"display_name":"Mandalorean&#39;s Code"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650383941,"creation_date":1650307887,"question_id":71915874,"body_markdown":"To put simply, i have a a List&lt;String&gt; userIds which could have a size of any number from 10k to 100k and those are user_ids, and my core logic is that for each user_id I call two different rest api end point and get those payloads, and then do a verfication operation among the payloads\r\n\r\nI have used executor service for faster processing in the following way, i have split the records as batches and predefined 100 threads so that 1 thread could process (int)(userIds.size()/100) users\r\n\r\n```\r\npublic void execute(List &lt; String &gt; userIds) {\r\n    int numberOfThreads = 100;\r\n    int WINDOW = (int) Math.floor(userIds.size() / numberOfThreads);\r\n   \r\n    int st = 0;\r\n    int end = WINDOW;\r\n   \r\n    for (; st &lt; userIds.size();) {\r\n        int realStart = st;\r\n        int realEnd = end;\r\n\r\n        executor.execute(\r\n            () - &gt; {\r\n                verify(realStart, realEnd, userIds) // this method has logic to verify users for the given start and end indexes from the userIds list\r\n\r\n            }\r\n        )\r\n    \r\n    st = end + 1;\r\n    if (end + WINDOW &gt;= userIds.size()) {\r\n        end = userIds.size() - 1;\r\n    } else {\r\n        end = st + WINDOW;\r\n    } // code to update the indexes realStart and realEnd for next &#39;n&#39; batches\r\n}\r\nexecutor.shutDown();\r\ntry {\r\n    System.out.println(&quot;Done&quot;);\r\n    executor.awaitTermination(Long.MAX_VALUE, TimeUnit.SECONDS);\r\n    System.out.println(&quot;Done on a rope&quot;);\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n}\r\n```\r\n\r\nLets say for 10k records when it is nearing completion, the code gets stuck, which makes me think if there are a few threads which are stuck inside the exectuorService, if so how do i workAround it, or is there any obvious flaw im making here?\r\nAny help is appreciated :)","title":"Why is my Executor Service getting stuck when its close to completion every single time?","body":"<p>To put simply, i have a a List userIds which could have a size of any number from 10k to 100k and those are user_ids, and my core logic is that for each user_id I call two different rest api end point and get those payloads, and then do a verfication operation among the payloads</p>\n<p>I have used executor service for faster processing in the following way, i have split the records as batches and predefined 100 threads so that 1 thread could process (int)(userIds.size()/100) users</p>\n<pre><code>public void execute(List &lt; String &gt; userIds) {\n    int numberOfThreads = 100;\n    int WINDOW = (int) Math.floor(userIds.size() / numberOfThreads);\n   \n    int st = 0;\n    int end = WINDOW;\n   \n    for (; st &lt; userIds.size();) {\n        int realStart = st;\n        int realEnd = end;\n\n        executor.execute(\n            () - &gt; {\n                verify(realStart, realEnd, userIds) // this method has logic to verify users for the given start and end indexes from the userIds list\n\n            }\n        )\n    \n    st = end + 1;\n    if (end + WINDOW &gt;= userIds.size()) {\n        end = userIds.size() - 1;\n    } else {\n        end = st + WINDOW;\n    } // code to update the indexes realStart and realEnd for next 'n' batches\n}\nexecutor.shutDown();\ntry {\n    System.out.println(&quot;Done&quot;);\n    executor.awaitTermination(Long.MAX_VALUE, TimeUnit.SECONDS);\n    System.out.println(&quot;Done on a rope&quot;);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n}\n</code></pre>\n<p>Lets say for 10k records when it is nearing completion, the code gets stuck, which makes me think if there are a few threads which are stuck inside the exectuorService, if so how do i workAround it, or is there any obvious flaw im making here?\nAny help is appreciated :)</p>\n"},{"tags":["java","android","android-studio","android-notifications","android-permissions"],"comments":[{"owner":{"account_id":16549970,"reputation":2193,"user_id":11958566,"display_name":"Shlomi Katriel"},"score":0,"creation_date":1650331068,"post_id":71917903,"comment_id":127084289,"body_markdown":"Do you ask the user to grant this permission?","body":"Do you ask the user to grant this permission?"},{"owner":{"account_id":10005624,"reputation":276,"user_id":7400198,"display_name":"Sanat"},"score":0,"creation_date":1650383113,"post_id":71917903,"comment_id":127099542,"body_markdown":"that is the main problem, I am not sure how to request permission in a class that is not an activity class.  To request permission, I have to pass activity class instance as a parameter.","body":"that is the main problem, I am not sure how to request permission in a class that is not an activity class.  To request permission, I have to pass activity class instance as a parameter."},{"owner":{"account_id":16549970,"reputation":2193,"user_id":11958566,"display_name":"Shlomi Katriel"},"score":0,"creation_date":1650386161,"post_id":71917903,"comment_id":127100697,"body_markdown":"You cannot request permission from any ui other then activity, which makes sense since, as a user, you don&#39;t want apps poking around permissions unless app is opened and visible. You should wait for the user to open app (or pop notification that opens app), then request permission from the activity.","body":"You cannot request permission from any ui other then activity, which makes sense since, as a user, you don&#39;t want apps poking around permissions unless app is opened and visible. You should wait for the user to open app (or pop notification that opens app), then request permission from the activity."},{"owner":{"account_id":10005624,"reputation":276,"user_id":7400198,"display_name":"Sanat"},"score":0,"creation_date":1650400239,"post_id":71917903,"comment_id":127105401,"body_markdown":"Right, but I am working with services and using only one activity class.","body":"Right, but I am working with services and using only one activity class."},{"owner":{"account_id":16549970,"reputation":2193,"user_id":11958566,"display_name":"Shlomi Katriel"},"score":0,"creation_date":1650444897,"post_id":71917903,"comment_id":127115117,"body_markdown":"If your app is mainly in background I recommend popping notification, which will open new activity (either open existing activity or create new one) for requesting permission","body":"If your app is mainly in background I recommend popping notification, which will open new activity (either open existing activity or create new one) for requesting permission"}],"owner":{"account_id":10005624,"reputation":276,"user_id":7400198,"display_name":"Sanat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650383509,"creation_date":1650322955,"question_id":71917903,"body_markdown":"I am working on one task where I need to read the data from calendar, as per android documentation, I added\r\n \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALENDAR&quot; /&gt;\r\n\r\n\r\nbut now when I am using a method \r\n\r\n    ActivityCompat.checkSelfPermission(this,\r\n                    Manifest.permission.READ_CALENDAR)\r\n\r\n\r\nit is always returning -1, and permission is denial always, After investigation, I found that I have to request permission at run time, and there are multiple permission required to be granted in my framework,\r\n\r\nI found that PermissionEverywhere.getpermission, can solve this issue, \r\n\r\nbut I am getting error &quot;Developer warning for package &lt;package name&gt; Failed to post notification on channel &quot;null&quot; see log for more details\r\n\r\n\r\nI tried adding the notification channel using below method\r\n\r\n       private void createNotificationChannelIfNeeded(int id, String title, String message) {\r\n        // Create the NotificationChannel, but only on API 26+ because\r\n        // the NotificationChannel class is new and not in the support library\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            CharSequence name = title;\r\n            String description = message;\r\n            int importance = NotificationManager.IMPORTANCE_DEFAULT;\r\n            NotificationChannel channel = new NotificationChannel(title, name, importance);\r\n            channel.setDescription(description);\r\n            // Register the channel with the system; you can&#39;t change the importance\r\n            // or other notification behaviors after this\r\n            NotificationManager mNotifyMgr =\r\n                    (NotificationManager) getApplicationContext().getSystemService(NOTIFICATION_SERVICE);\r\n            mNotifyMgr.createNotificationChannel(channel);\r\n        }\r\n\r\n \r\n\r\n\r\nbut still getting the same error. please let me know, how to create channel for Permission everywhere class","title":"How to create notification channel for PermissionEverywhere.getpermission","body":"<p>I am working on one task where I need to read the data from calendar, as per android documentation, I added</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_CALENDAR&quot; /&gt;\n</code></pre>\n<p>but now when I am using a method</p>\n<pre><code>ActivityCompat.checkSelfPermission(this,\n                Manifest.permission.READ_CALENDAR)\n</code></pre>\n<p>it is always returning -1, and permission is denial always, After investigation, I found that I have to request permission at run time, and there are multiple permission required to be granted in my framework,</p>\n<p>I found that PermissionEverywhere.getpermission, can solve this issue,</p>\n<p>but I am getting error &quot;Developer warning for package  Failed to post notification on channel &quot;null&quot; see log for more details</p>\n<p>I tried adding the notification channel using below method</p>\n<pre><code>   private void createNotificationChannelIfNeeded(int id, String title, String message) {\n    // Create the NotificationChannel, but only on API 26+ because\n    // the NotificationChannel class is new and not in the support library\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        CharSequence name = title;\n        String description = message;\n        int importance = NotificationManager.IMPORTANCE_DEFAULT;\n        NotificationChannel channel = new NotificationChannel(title, name, importance);\n        channel.setDescription(description);\n        // Register the channel with the system; you can't change the importance\n        // or other notification behaviors after this\n        NotificationManager mNotifyMgr =\n                (NotificationManager) getApplicationContext().getSystemService(NOTIFICATION_SERVICE);\n        mNotifyMgr.createNotificationChannel(channel);\n    }\n</code></pre>\n<p>but still getting the same error. please let me know, how to create channel for Permission everywhere class</p>\n"},{"tags":["java","grpc","grpc-java"],"owner":{"account_id":12519802,"reputation":352,"user_id":11450331,"display_name":"omri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1042,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650383311,"creation_date":1650383311,"question_id":71927764,"body_markdown":"Extending on my conversation with Eric A. [in this SO post][1], I&#39;ve seen instances in which the client side gets onError called on its StreamObserver, but the server doesn&#39;t and vice versa. Both client and server are going to include channel level keepalive with a time of 30s intervals. I&#39;ve set my channel&#39;s timeout to 10s. \r\n\r\nWhat I want to be sure of, however, is that when the server side gets onError called on its StreamObserver for any reason, would the keepalive capture this? What if server gets an error and recovers quickly, calls onError on their previous StreamObserver, and the client sends a message on the stream? Would this bounce back an error to the client? \r\n\r\nThe reason I ask is because a couple days ago we saw an NPE on server side because instead of calling onError on their StreamObserver, they set it to null, and we tried to send a message on the stream, they got an NPE. This might be further muddled by the fact that server side has three HA nodes, and I&#39;m not particularly keen on all of the details. \r\n\r\nAnother thing I wanted to ask about that I&#39;ve seen around SO is the gRPC Context. To detect ANY cancel on the other side of the stream, is it as simple as adding a listener:\r\n```\r\nContext.current.addListener((context) -&gt; {\r\n    log.info(&quot;Other side received cancel with cause &#39;{}&#39;, context.cancellationCause.toString());\r\n    \r\n    // can&#39;t use our StreamObservers anymore, call onCompleted() on our streams\r\n    // ... insert code here\r\n    \r\n   // Call the bidirection stream RPC on the stubs again to reassign StreamObservers\r\n   // ... insert code here\r\n\r\n\r\n };\r\n```\r\nThe Javadocs about the Context confused me a little bit. If other side gets an error for ANY reason and has to recover by reassigning their StreamObserver after calling onComplete or onError on it, does the OTHER side need to know and do the same? \r\n\r\n  [1]: https://stackoverflow.com/questions/71851301/grpc-client-side-reconnection-logic-causing-duplicate-streams-to-be-opened-serve","title":"gRPC server received &#39;client cancelled&#39; but client didn&#39;t receive an error","body":"<p>Extending on my conversation with Eric A. <a href=\"https://stackoverflow.com/questions/71851301/grpc-client-side-reconnection-logic-causing-duplicate-streams-to-be-opened-serve\">in this SO post</a>, I've seen instances in which the client side gets onError called on its StreamObserver, but the server doesn't and vice versa. Both client and server are going to include channel level keepalive with a time of 30s intervals. I've set my channel's timeout to 10s.</p>\n<p>What I want to be sure of, however, is that when the server side gets onError called on its StreamObserver for any reason, would the keepalive capture this? What if server gets an error and recovers quickly, calls onError on their previous StreamObserver, and the client sends a message on the stream? Would this bounce back an error to the client?</p>\n<p>The reason I ask is because a couple days ago we saw an NPE on server side because instead of calling onError on their StreamObserver, they set it to null, and we tried to send a message on the stream, they got an NPE. This might be further muddled by the fact that server side has three HA nodes, and I'm not particularly keen on all of the details.</p>\n<p>Another thing I wanted to ask about that I've seen around SO is the gRPC Context. To detect ANY cancel on the other side of the stream, is it as simple as adding a listener:</p>\n<pre><code>Context.current.addListener((context) -&gt; {\n    log.info(&quot;Other side received cancel with cause '{}', context.cancellationCause.toString());\n    \n    // can't use our StreamObservers anymore, call onCompleted() on our streams\n    // ... insert code here\n    \n   // Call the bidirection stream RPC on the stubs again to reassign StreamObservers\n   // ... insert code here\n\n\n };\n</code></pre>\n<p>The Javadocs about the Context confused me a little bit. If other side gets an error for ANY reason and has to recover by reassigning their StreamObserver after calling onComplete or onError on it, does the OTHER side need to know and do the same?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1650383136,"post_id":71927665,"comment_id":127099551,"body_markdown":"Why `Void.class`? `T` erases to `Object` here.","body":"Why <code>Void.class</code>? <code>T</code> erases to <code>Object</code> here."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1650385217,"post_id":71927665,"comment_id":127100349,"body_markdown":"If you&#39;re not sure of parameter types: `Method method = Arrays.stream(NonBlockingClientImpl.class.getDeclaredMethods()).filter(m -&gt; m.getName().equals(&quot;send&quot;)).filter(m -&gt; m.getParameterCount() == 6).findFirst().get();`.","body":"If you&#39;re not sure of parameter types: <code>Method method = Arrays.stream(NonBlockingClientImpl.class.getDeclaredMethods&zwnj;&#8203;()).filter(m -&gt; m.getName().equals(&quot;send&quot;)).filter(m -&gt; m.getParameterCount() == 6).findFirst().get();</code>."}],"owner":{"account_id":5938004,"reputation":263,"user_id":4670315,"accept_rate":31,"display_name":"Weizen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650389399,"answer_count":0,"score":0,"last_activity_date":1650382869,"creation_date":1650382869,"question_id":71927665,"body_markdown":"i&#39;ve got this method\r\n\r\n    private &lt;T&gt; boolean send(String topic, Message protonMsg, Map&lt;String, Object&gt; properties, SendOptions sendOptions, CompletionListener&lt;T&gt; listener, T context) throws StoppedException {\r\n\r\nI need to access it from another class. I tried:\r\n\r\n    Method indexOfMethod = NonBlockingClientImpl.class.getDeclaredMethod(&quot;send&quot;, String.class, Message.class, Map.class, SendOptions.class, CompletionListener.class, Void.class);\r\n\r\nBut it&#39;s not working, and it is giving me java.lang.Class.throwNoSuchMethodException. Can you please give me hints? Thanks","title":"Java reflection getDeclaredMethod","body":"<p>i've got this method</p>\n<pre><code>private &lt;T&gt; boolean send(String topic, Message protonMsg, Map&lt;String, Object&gt; properties, SendOptions sendOptions, CompletionListener&lt;T&gt; listener, T context) throws StoppedException {\n</code></pre>\n<p>I need to access it from another class. I tried:</p>\n<pre><code>Method indexOfMethod = NonBlockingClientImpl.class.getDeclaredMethod(&quot;send&quot;, String.class, Message.class, Map.class, SendOptions.class, CompletionListener.class, Void.class);\n</code></pre>\n<p>But it's not working, and it is giving me java.lang.Class.throwNoSuchMethodException. Can you please give me hints? Thanks</p>\n"},{"tags":["java","maven","war"],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650382811,"creation_date":1575266774,"answer_id":59133448,"question_id":59132426,"body_markdown":"Firstly, to avoid showing null when no profiles, we can provide a default value for the property `rp.build.warname`, as mentioned in [Setting default values for custom Maven 2 properties][1].\r\n\r\nFor the case running `mvn clean install -P test1,test2`, the war name is `prefix-test2.war` as the value of `rp.build.warname` is overridden, you may read [How are conflicting properties resolved if multiple profiles are activated][2] for more details.\r\nIn Order to have multiple values, we can use two properties(`rp.build.warname1`, `rp.build.warname2`) instead.\r\n\r\nThe following pom.xml includes the above changes\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;com.sbill&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;sbill-wrapper&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;artifactId&gt;executable&lt;/artifactId&gt;\r\n    \r\n    \t&lt;!-- Provide default value here to avoid null in file name --&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;rp.build.warname1/&gt;\r\n    \t\t&lt;rp.build.warname2/&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;test1&lt;/id&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;rp.build.warname1&gt;-test1&lt;/rp.build.warname1&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \r\n    \t\t&lt;/profile&gt;\r\n    \r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;test2&lt;/id&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;rp.build.warname2&gt;-test2&lt;/rp.build.warname2&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;   \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;prefix${rp.build.warname1}${rp.build.warname2}&lt;/finalName&gt;        \r\n    \t&lt;/build&gt; \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/899274/setting-default-values-for-custom-maven-2-properties\r\n  [2]: https://stackoverflow.com/questions/12477562/how-are-conflicting-properties-resolved-if-multiple-profiles-are-activated","title":"Update war name based on activated maven profile","body":"<p>Firstly, to avoid showing null when no profiles, we can provide a default value for the property <code>rp.build.warname</code>, as mentioned in <a href=\"https://stackoverflow.com/questions/899274/setting-default-values-for-custom-maven-2-properties\">Setting default values for custom Maven 2 properties</a>.</p>\n<p>For the case running <code>mvn clean install -P test1,test2</code>, the war name is <code>prefix-test2.war</code> as the value of <code>rp.build.warname</code> is overridden, you may read <a href=\"https://stackoverflow.com/questions/12477562/how-are-conflicting-properties-resolved-if-multiple-profiles-are-activated\">How are conflicting properties resolved if multiple profiles are activated</a> for more details.\nIn Order to have multiple values, we can use two properties(<code>rp.build.warname1</code>, <code>rp.build.warname2</code>) instead.</p>\n<p>The following pom.xml includes the above changes</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.sbill&lt;/groupId&gt;\n        &lt;artifactId&gt;sbill-wrapper&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;artifactId&gt;executable&lt;/artifactId&gt;\n\n    &lt;!-- Provide default value here to avoid null in file name --&gt;\n    &lt;properties&gt;\n        &lt;rp.build.warname1/&gt;\n        &lt;rp.build.warname2/&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;test1&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;rp.build.warname1&gt;-test1&lt;/rp.build.warname1&gt;\n            &lt;/properties&gt;\n\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;test2&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;rp.build.warname2&gt;-test2&lt;/rp.build.warname2&gt;\n            &lt;/properties&gt;\n\n        &lt;/profile&gt;\n    &lt;/profiles&gt;   \n    &lt;build&gt;\n        &lt;finalName&gt;prefix${rp.build.warname1}${rp.build.warname2}&lt;/finalName&gt;        \n    &lt;/build&gt; \n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":11924371,"reputation":696,"user_id":8726081,"display_name":"Harish Bagora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1364,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59133448,"answer_count":1,"score":3,"last_activity_date":1650382811,"creation_date":1575258560,"question_id":59132426,"body_markdown":"In my pom, I have two profiles.\r\n\r\n1. test1\r\n\r\n2. test2\r\n\r\nNow I want my war name to change based on the activated profile.  \r\n## Expected Result ##\r\nWhen `test1` profile is activated, war name should be `prefix-test1.war`.  \r\nWhen `test1` and `test2` are activated, war name should be `prefix-test1-test2.war`.  \r\nWhen **no** profile is activated, war name should be `prefix.war`.\r\n\r\nMy POM file ....\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n       &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n       &lt;parent&gt;\r\n          &lt;groupId&gt;com.sbill&lt;/groupId&gt;\r\n          &lt;artifactId&gt;sbill-wrapper&lt;/artifactId&gt;\r\n          &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n       &lt;/parent&gt;\r\n       &lt;packaging&gt;war&lt;/packaging&gt;\r\n       &lt;artifactId&gt;executable&lt;/artifactId&gt;\r\n       &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n          &lt;/dependency&gt;\r\n       &lt;/dependencies&gt;\r\n       &lt;profiles&gt;\r\n          &lt;profile&gt;\r\n             &lt;id&gt;test1&lt;/id&gt;\r\n             &lt;properties&gt;\r\n                &lt;rp.build.warname&gt;test1&lt;/rp.build.warname&gt;\r\n             &lt;/properties&gt;\r\n          &lt;/profile&gt;\r\n          &lt;profile&gt;\r\n             &lt;id&gt;test2&lt;/id&gt;\r\n             &lt;properties&gt;\r\n                &lt;rp.build.warname&gt;test2&lt;/rp.build.warname&gt;\r\n             &lt;/properties&gt;\r\n          &lt;/profile&gt;\r\n       &lt;/profiles&gt;\r\n       &lt;build&gt;\r\n          &lt;finalName&gt;prefix-${rp.build.warname}&lt;/finalName&gt;\r\n       &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nRight now if I run command `mvn clean install` the war name is `prefix-null.war` \r\n. If I run command `mvn clean install -P test1,test2` the war name is `prefix-test2.war`. \r\n\r\nThe result is different to what expected.\r\n\r\n","title":"Update war name based on activated maven profile","body":"<p>In my pom, I have two profiles.</p>\n\n<ol>\n<li><p>test1</p></li>\n<li><p>test2</p></li>\n</ol>\n\n<p>Now I want my war name to change based on the activated profile.  </p>\n\n<h2>Expected Result</h2>\n\n<p>When <code>test1</code> profile is activated, war name should be <code>prefix-test1.war</code>.<br>\nWhen <code>test1</code> and <code>test2</code> are activated, war name should be <code>prefix-test1-test2.war</code>.<br>\nWhen <strong>no</strong> profile is activated, war name should be <code>prefix.war</code>.</p>\n\n<p>My POM file ....</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n      &lt;groupId&gt;com.sbill&lt;/groupId&gt;\n      &lt;artifactId&gt;sbill-wrapper&lt;/artifactId&gt;\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n   &lt;/parent&gt;\n   &lt;packaging&gt;war&lt;/packaging&gt;\n   &lt;artifactId&gt;executable&lt;/artifactId&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n   &lt;profiles&gt;\n      &lt;profile&gt;\n         &lt;id&gt;test1&lt;/id&gt;\n         &lt;properties&gt;\n            &lt;rp.build.warname&gt;test1&lt;/rp.build.warname&gt;\n         &lt;/properties&gt;\n      &lt;/profile&gt;\n      &lt;profile&gt;\n         &lt;id&gt;test2&lt;/id&gt;\n         &lt;properties&gt;\n            &lt;rp.build.warname&gt;test2&lt;/rp.build.warname&gt;\n         &lt;/properties&gt;\n      &lt;/profile&gt;\n   &lt;/profiles&gt;\n   &lt;build&gt;\n      &lt;finalName&gt;prefix-${rp.build.warname}&lt;/finalName&gt;\n   &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Right now if I run command <code>mvn clean install</code> the war name is <code>prefix-null.war</code> \n. If I run command <code>mvn clean install -P test1,test2</code> the war name is <code>prefix-test2.war</code>. </p>\n\n<p>The result is different to what expected.</p>\n"},{"tags":["java","json","spring","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650342280,"creation_date":1650341892,"answer_id":71919618,"question_id":71918764,"body_markdown":"`@JsonInclude(Include.NON_EMPTY)` should do the trick.\r\n\r\nInclude.NON_EMPTY: Indicates that only properties that are not empty will be included in JSON.\r\n\r\nThe simplest solution,\r\n------------\r\n\r\n**Root.java**\r\n\r\n    public class Root {\r\n    \tpublic Type type;\r\n    \t//Todo getter setter constructor\r\n    }\r\n\r\n**Type.java**\r\n\r\n    public class Type {\r\n    \r\n    \tpublic int nbrCurrentRemainingDays;\r\n    \r\n    \t@JsonInclude(Include.NON_EMPTY)\r\n    \tpublic String desc;\r\n    \tpublic int id;\r\n    \r\n    //Todo getter setter constructor\r\n    }\r\n\r\n**MyController.java**\r\n\r\n    @RestController\r\n    public class MyController {\r\n    \r\n    \t@GetMapping(&quot;/all-fields&quot;)\r\n    \tpublic Root test1() {\r\n    \r\n    \t\tRoot root = new Root();\r\n    \t\tType type = new Type();\r\n    \t\ttype.setNbrCurrentRemainingDays(0);\r\n    \t\ttype.setId(32);\r\n    \t\ttype.setDesc(&quot;put desc here !&quot;);\r\n    \t\troot.setType(type);\r\n    \t\treturn root;\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/ignore-desc&quot;)\r\n    \tpublic Root test2() {\r\n    \r\n    \t\tRoot root = new Root();\r\n    \t\tType type = new Type();\r\n    \t\ttype.setNbrCurrentRemainingDays(0);\r\n    \t\ttype.setId(32);\r\n    \t\ttype.setDesc(&quot;put desc here !&quot;);\r\n    \t\troot.setType(type);\r\n    \r\n    \t\t//Set null value \r\n    \t\ttype.setDesc(null);\r\n    \t\treturn root;\r\n    \t}\r\n    }\r\n\r\n \r\n\r\n**Endpoint 1:localhost:8080/all-fields(with desc)**\r\n\r\n \r\n\r\n      {\r\n        &quot;type&quot;: {\r\n            &quot;nbrCurrentRemainingDays&quot;: 0,\r\n            &quot;desc&quot;: &quot;put desc here !&quot;,\r\n            &quot;id&quot;: 32\r\n        }\r\n    }\r\n\r\n**Endpoint 2: localhost:8080/ignore-desc(no desc)**\r\n\r\n      {\r\n        &quot;type&quot;: {\r\n            &quot;nbrCurrentRemainingDays&quot;: 0,\r\n            &quot;id&quot;: 32\r\n        }\r\n    }","title":"How to ignore a JsonProperty just for a given single endPoint and let it works for others","body":"<p><code>@JsonInclude(Include.NON_EMPTY)</code> should do the trick.</p>\n<p>Include.NON_EMPTY: Indicates that only properties that are not empty will be included in JSON.</p>\n<h2>The simplest solution,</h2>\n<p><strong>Root.java</strong></p>\n<pre><code>public class Root {\n    public Type type;\n    //Todo getter setter constructor\n}\n</code></pre>\n<p><strong>Type.java</strong></p>\n<pre><code>public class Type {\n\n    public int nbrCurrentRemainingDays;\n\n    @JsonInclude(Include.NON_EMPTY)\n    public String desc;\n    public int id;\n\n//Todo getter setter constructor\n}\n</code></pre>\n<p><strong>MyController.java</strong></p>\n<pre><code>@RestController\npublic class MyController {\n\n    @GetMapping(&quot;/all-fields&quot;)\n    public Root test1() {\n\n        Root root = new Root();\n        Type type = new Type();\n        type.setNbrCurrentRemainingDays(0);\n        type.setId(32);\n        type.setDesc(&quot;put desc here !&quot;);\n        root.setType(type);\n        return root;\n    }\n\n    @GetMapping(&quot;/ignore-desc&quot;)\n    public Root test2() {\n\n        Root root = new Root();\n        Type type = new Type();\n        type.setNbrCurrentRemainingDays(0);\n        type.setId(32);\n        type.setDesc(&quot;put desc here !&quot;);\n        root.setType(type);\n\n        //Set null value \n        type.setDesc(null);\n        return root;\n    }\n}\n</code></pre>\n<p><strong>Endpoint 1:localhost:8080/all-fields(with desc)</strong></p>\n<pre><code>  {\n    &quot;type&quot;: {\n        &quot;nbrCurrentRemainingDays&quot;: 0,\n        &quot;desc&quot;: &quot;put desc here !&quot;,\n        &quot;id&quot;: 32\n    }\n}\n</code></pre>\n<p><strong>Endpoint 2: localhost:8080/ignore-desc(no desc)</strong></p>\n<pre><code>  {\n    &quot;type&quot;: {\n        &quot;nbrCurrentRemainingDays&quot;: 0,\n        &quot;id&quot;: 32\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8762853,"reputation":51,"user_id":6552317,"display_name":"kushal agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650343189,"creation_date":1650343189,"answer_id":71919754,"question_id":71918764,"body_markdown":"use @JsonIgnore annotation for the field and create a manual getter and setter for the desc field where the setter will be returned based on the field value.\r\n\r\nThe setter, Getter method needs to be annotated with @JsonProperty, Now setter will return the value based on the URL path (or any condition based on your choice).","title":"How to ignore a JsonProperty just for a given single endPoint and let it works for others","body":"<p>use @JsonIgnore annotation for the field and create a manual getter and setter for the desc field where the setter will be returned based on the field value.</p>\n<p>The setter, Getter method needs to be annotated with @JsonProperty, Now setter will return the value based on the URL path (or any condition based on your choice).</p>\n"},{"tags":[],"owner":{"account_id":24280118,"reputation":1,"user_id":18226776,"display_name":"Meric Cana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650382429,"creation_date":1650382429,"answer_id":71927558,"question_id":71918764,"body_markdown":"I know a solution for this. You can extend the Json Serializer class and override the serialize method in it. You can disable the fields you don&#39;t want in it.\r\njust like this\r\n\r\n[JsonView][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vg9Hn.png","title":"How to ignore a JsonProperty just for a given single endPoint and let it works for others","body":"<p>I know a solution for this. You can extend the Json Serializer class and override the serialize method in it. You can disable the fields you don't want in it.\njust like this</p>\n<p><a href=\"https://i.stack.imgur.com/Vg9Hn.png\" rel=\"nofollow noreferrer\">JsonView</a></p>\n"}],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1650382429,"creation_date":1650332576,"question_id":71918764,"body_markdown":"I have two endPoints that returns this Json : \r\n\r\n     &quot;type&quot;: {\r\n          &quot;nbrCurrentRemainingDays&quot;: 0,\r\n          &quot;desc&quot;: &quot;put desc here !&quot;,\r\n          &quot;id&quot;: 32\r\n        }\r\n\r\nI need to make it ignore the desc for the first endPoint and let it for the second , is there any solution other than creating another ResponseDTO ?\r\n `@jsonIgnore` will ignore the property for all endPoints. \r\n\r\n----------- \r\nFor the first endPoint : no desc \r\n\r\n     &quot;type&quot;: {\r\n          &quot;nbrCurrentRemainingDays&quot;: 0,\r\n          &quot;id&quot;: 32\r\n        }\r\nFor the second : with desc\r\n \r\n\r\n    &quot;type&quot;: {\r\n          &quot;nbrCurrentRemainingDays&quot;: 0,\r\n          &quot;desc&quot;: &quot;put desc here !&quot;,\r\n          &quot;id&quot;: 32\r\n        }\r\n\r\n","title":"How to ignore a JsonProperty just for a given single endPoint and let it works for others","body":"<p>I have two endPoints that returns this Json :</p>\n<pre><code> &quot;type&quot;: {\n      &quot;nbrCurrentRemainingDays&quot;: 0,\n      &quot;desc&quot;: &quot;put desc here !&quot;,\n      &quot;id&quot;: 32\n    }\n</code></pre>\n<p>I need to make it ignore the desc for the first endPoint and let it for the second , is there any solution other than creating another ResponseDTO ?\n<code>@jsonIgnore</code> will ignore the property for all endPoints.</p>\n<hr />\n<p>For the first endPoint : no desc</p>\n<pre><code> &quot;type&quot;: {\n      &quot;nbrCurrentRemainingDays&quot;: 0,\n      &quot;id&quot;: 32\n    }\n</code></pre>\n<p>For the second : with desc</p>\n<pre><code>&quot;type&quot;: {\n      &quot;nbrCurrentRemainingDays&quot;: 0,\n      &quot;desc&quot;: &quot;put desc here !&quot;,\n      &quot;id&quot;: 32\n    }\n</code></pre>\n"},{"tags":["java","file","github","github-api"],"answers":[{"tags":[],"owner":{"account_id":18746749,"reputation":121,"user_id":13668740,"display_name":"CoocooFroggy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650382119,"creation_date":1650382119,"answer_id":71927497,"question_id":71926598,"body_markdown":"You can use [GitHub&#39;s repository content API](https://docs.github.com/en/rest/reference/repos#get-repository-content) to list files in a directory as well as read file contents.\r\n\r\nFor example, listing the files in the directory called &quot;XML&quot; could look like the following:\r\n\r\n`https://api.github.com/repos/company/project/contents/XML/`\r\n\r\nThe response would be an array of items in the directory. Each item includes the property `type`, which lets you know whether the item is a file or directory, as well as `url`, a link to request that item.\r\n\r\nBy performing a new request to an item&#39;s URL, you can access the contents of a file through its `content` property, or if it is a directory, you can access another array of files inside.","title":"How to get list of all files and their raw contents under the GitHub project folder using the Java?","body":"<p>You can use <a href=\"https://docs.github.com/en/rest/reference/repos#get-repository-content\" rel=\"nofollow noreferrer\">GitHub's repository content API</a> to list files in a directory as well as read file contents.</p>\n<p>For example, listing the files in the directory called &quot;XML&quot; could look like the following:</p>\n<p><code>https://api.github.com/repos/company/project/contents/XML/</code></p>\n<p>The response would be an array of items in the directory. Each item includes the property <code>type</code>, which lets you know whether the item is a file or directory, as well as <code>url</code>, a link to request that item.</p>\n<p>By performing a new request to an item's URL, you can access the contents of a file through its <code>content</code> property, or if it is a directory, you can access another array of files inside.</p>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71927497,"answer_count":1,"score":0,"last_activity_date":1650382119,"creation_date":1650378256,"question_id":71926598,"body_markdown":"I am trying to read the files and each file&#39;s raw contents under the particular folder of the GitHub URL but I am not getting the right response. \r\n\r\nBasically, I would like to do something like this:\r\n\r\n1. I have a public GitHub project within which I have a folder `folder1`. This `folder1` contains many files either `XML/JSON`.\r\n\r\n2. I want to use the link which is pointing towards `folder1`: `https://github.com/comapny/project/tree/master/folder1/tempFolder` and get its content.\r\n\r\n3. Under this folder I have many files whose contents I want to read raw data.\r\n\r\nAs of now, I am able to make requests to single files and their raw data under the folder but unable to read files under the folder and read all files and their content.\r\n\r\nFollowing is the code I have so far:\r\n```\r\nimport org.apache.http.StatusLine;\r\nimport org.apache.http.client.methods.CloseableHttpResponse;\r\nimport org.apache.http.client.methods.HttpGet;\r\nimport org.apache.http.impl.client.CloseableHttpClient;\r\nimport org.apache.http.impl.client.HttpClients;\r\nimport org.apache.http.util.EntityUtils;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class TestMain {\r\n    public static void main(String[] args) throws IOException {\r\n        //Read the GitHub files\r\n        final String inputURL = &quot;https://github.com/company/project/tree/master/XML/withData&quot;;\r\n        //final String inputURL = &quot;https://raw.githubusercontent.com/company/project/blob/master/XML/withData/myFileName.xml&quot;;\r\n        CloseableHttpClient httpClient = HttpClients.createDefault();\r\n        CloseableHttpResponse response = httpClient.execute(new HttpGet(inputURL));\r\n        StatusLine statusLine = response.getStatusLine();\r\n        String responseBody = EntityUtils.toString(response.getEntity(), StandardCharsets.UTF_8);\r\n        System.out.println(&quot;Response Code : &quot; + statusLine.getStatusCode() + &quot; ---- &quot; + &quot;Response Phrase :  &quot; + statusLine.getReasonPhrase());\r\n        System.out.println(&quot;Response body: &quot; + responseBody);\r\n    }\r\n}\r\n```","title":"How to get list of all files and their raw contents under the GitHub project folder using the Java?","body":"<p>I am trying to read the files and each file's raw contents under the particular folder of the GitHub URL but I am not getting the right response.</p>\n<p>Basically, I would like to do something like this:</p>\n<ol>\n<li><p>I have a public GitHub project within which I have a folder <code>folder1</code>. This <code>folder1</code> contains many files either <code>XML/JSON</code>.</p>\n</li>\n<li><p>I want to use the link which is pointing towards <code>folder1</code>: <code>https://github.com/comapny/project/tree/master/folder1/tempFolder</code> and get its content.</p>\n</li>\n<li><p>Under this folder I have many files whose contents I want to read raw data.</p>\n</li>\n</ol>\n<p>As of now, I am able to make requests to single files and their raw data under the folder but unable to read files under the folder and read all files and their content.</p>\n<p>Following is the code I have so far:</p>\n<pre><code>import org.apache.http.StatusLine;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.util.EntityUtils;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\n\npublic class TestMain {\n    public static void main(String[] args) throws IOException {\n        //Read the GitHub files\n        final String inputURL = &quot;https://github.com/company/project/tree/master/XML/withData&quot;;\n        //final String inputURL = &quot;https://raw.githubusercontent.com/company/project/blob/master/XML/withData/myFileName.xml&quot;;\n        CloseableHttpClient httpClient = HttpClients.createDefault();\n        CloseableHttpResponse response = httpClient.execute(new HttpGet(inputURL));\n        StatusLine statusLine = response.getStatusLine();\n        String responseBody = EntityUtils.toString(response.getEntity(), StandardCharsets.UTF_8);\n        System.out.println(&quot;Response Code : &quot; + statusLine.getStatusCode() + &quot; ---- &quot; + &quot;Response Phrase :  &quot; + statusLine.getReasonPhrase());\n        System.out.println(&quot;Response body: &quot; + responseBody);\n    }\n}\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":7,"creation_date":1566552383,"post_id":57623335,"comment_id":101700631,"body_markdown":"You probably created your own Exception class that isn&#39;t actually a Throwable, and which hides the standard java.lang.Exception class. Delete this class.","body":"You probably created your own Exception class that isn&#39;t actually a Throwable, and which hides the standard java.lang.Exception class. Delete this class."},{"owner":{"account_id":16529322,"reputation":45,"user_id":11943071,"display_name":"Siddhesh Jadhav"},"score":0,"creation_date":1566557582,"post_id":57623335,"comment_id":101703207,"body_markdown":"sorry, I&#39;m new to java and I didn&#39;t get what u suggested. I uploaded the entire code this time so plz explain in little detail.","body":"sorry, I&#39;m new to java and I didn&#39;t get what u suggested. I uploaded the entire code this time so plz explain in little detail."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1566557693,"post_id":57623335,"comment_id":101703279,"body_markdown":"I suggest that you created a class, and you named it Exception. And so, this class of yours has the same name as the standard Exception class provided by Java, and that name clash causes the problem you&#39;re seeing. And I thus suggest to delete that class that you named Exception (or at least rename it to something else), to avoid this name clash.","body":"I suggest that you created a class, and you named it Exception. And so, this class of yours has the same name as the standard Exception class provided by Java, and that name clash causes the problem you&#39;re seeing. And I thus suggest to delete that class that you named Exception (or at least rename it to something else), to avoid this name clash."},{"owner":{"account_id":16529322,"reputation":45,"user_id":11943071,"display_name":"Siddhesh Jadhav"},"score":0,"creation_date":1566558111,"post_id":57623335,"comment_id":101703493,"body_markdown":"I renamed class to Demoe, but still getting the same error.","body":"I renamed class to Demoe, but still getting the same error."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1566558199,"post_id":57623335,"comment_id":101703538,"body_markdown":"You&#39;re not reading carefully. The class you posted doesn&#39;t need to be renamed. What needs to be renamed is the **other** class that, I guess, you created and named `Exception`.","body":"You&#39;re not reading carefully. The class you posted doesn&#39;t need to be renamed. What needs to be renamed is the <b>other</b> class that, I guess, you created and named <code>Exception</code>."}],"answers":[{"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1566552666,"creation_date":1566552666,"answer_id":57623442,"question_id":57623335,"body_markdown":"    catch(java.lang.Exception e) {\r\n        // handle e\r\n    }\r\n\r\nUse fully-qualified names if you aren&#39;t sure what is imported, and what class will be used under the name `Exception`.\r\n\r\nThe name `Exception` looks too broad for your application. `[YourApplicationName]Exception` would be a cleaner and conflictless root of your exception hierarchy (if you want to have one).","title":"Exception cannot be converted to Throwable","body":"<pre><code>catch(java.lang.Exception e) {\n    // handle e\n}\n</code></pre>\n\n<p>Use fully-qualified names if you aren't sure what is imported, and what class will be used under the name <code>Exception</code>.</p>\n\n<p>The name <code>Exception</code> looks too broad for your application. <code>[YourApplicationName]Exception</code> would be a cleaner and conflictless root of your exception hierarchy (if you want to have one).</p>\n"},{"tags":[],"owner":{"account_id":18253072,"reputation":11,"user_id":13287647,"display_name":"Anish Kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1586617680,"creation_date":1586617680,"answer_id":61158958,"question_id":57623335,"body_markdown":"I was having the same problem, but later I noticed that my class name was Exception because of my class name which is(Exception ) I was getting that error .when I changed my class name (filename )  then it work. ","title":"Exception cannot be converted to Throwable","body":"<p>I was having the same problem, but later I noticed that my class name was Exception because of my class name which is(Exception ) I was getting that error .when I changed my class name (filename )  then it work. </p>\n"},{"tags":[],"owner":{"account_id":20296098,"reputation":1,"user_id":14886601,"display_name":"doaffa"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1608878569,"creation_date":1608878569,"answer_id":65445862,"question_id":57623335,"body_markdown":"you should import first\r\n\r\n    import java.lang.Exception;","title":"Exception cannot be converted to Throwable","body":"<p>you should import first</p>\n<pre><code>import java.lang.Exception;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20778478,"reputation":34,"user_id":15259465,"display_name":"Sanjay Sanjay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628977595,"creation_date":1628977595,"answer_id":68787259,"question_id":57623335,"body_markdown":"If there is any file named &quot;Exception.java&quot; then rename that file and delete that class file then it will work fine.","title":"Exception cannot be converted to Throwable","body":"<p>If there is any file named &quot;Exception.java&quot; then rename that file and delete that class file then it will work fine.</p>\n"},{"tags":[],"owner":{"account_id":24970662,"reputation":1,"user_id":18833865,"display_name":"workfromhome"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650381821,"creation_date":1650201602,"answer_id":71902233,"question_id":57623335,"body_markdown":"The problem is your file name is `Exception.java` and the class you are trying to implement is the same, but from a different package (java.lang.Exception), so either you change your file name, or you can import that package, or you can write the full package at the catch param block.","title":"Exception cannot be converted to Throwable","body":"<p>The problem is your file name is <code>Exception.java</code> and the class you are trying to implement is the same, but from a different package (java.lang.Exception), so either you change your file name, or you can import that package, or you can write the full package at the catch param block.</p>\n"}],"owner":{"account_id":16529322,"reputation":45,"user_id":11943071,"display_name":"Siddhesh Jadhav"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18868,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57623442,"answer_count":5,"score":3,"last_activity_date":1650381821,"creation_date":1566552252,"question_id":57623335,"body_markdown":"I&#39;m working on macOS with JDK8.\r\n\r\nIn catch, I have to give the entire name of exception like\r\nin this case (ArithmeticException e) instead of (Exception e)\r\nto run the code.\r\n\r\nIf I use (Exception e) it gives an error that I&#39;m not getting on windows os.\r\n\r\nwhy is that??\r\nand how should I solve this??\r\n\r\nThe code works perfectly on windows OS with JDK8.\r\nOn macOS work perfectly if the proper name of the exception (ArithmeticException e) is given.\r\n\r\n    import java.util.*;\r\n    public class ExceptionDemo\r\n    {\r\n    public static void main(String args[])\r\n    {\r\n   \t   int a,b,c;\r\n\t   Scanner sc=new Scanner(System.in);\r\n\t   System.out.println(&quot;enter first number:&quot;);\r\n\t   a=sc.nextInt();\r\n\t   System.out.println(&quot;enter second number:&quot;);\r\n\t   b=sc.nextInt();\r\n\t   try\r\n\t   {\r\n\t   \t   c=a/b;\r\n\t   \t   System.out.println(&quot;Result is:&quot;+c);\r\n\t   }\r\n\t   catch(Exception e)\r\n\t   {\r\n\t   \t   System.out.println(&quot;second number cannot be zero/0 &quot;+e);\r\n\t   }\r\n\t   \t   \r\n       System.out.println(&quot;still running&quot;);\r\n       }\r\n       }\r\n\r\n\r\n\r\n\r\nThis is the error I&#39;m getting as below: \r\n\r\n&gt; incompatible types: Exception cannot be converted to Throwable\r\n&gt; \tcatch(Exception e)","title":"Exception cannot be converted to Throwable","body":"<p>I'm working on macOS with JDK8.</p>\n\n<p>In catch, I have to give the entire name of exception like\nin this case (ArithmeticException e) instead of (Exception e)\nto run the code.</p>\n\n<p>If I use (Exception e) it gives an error that I'm not getting on windows os.</p>\n\n<p>why is that??\nand how should I solve this??</p>\n\n<p>The code works perfectly on windows OS with JDK8.\nOn macOS work perfectly if the proper name of the exception (ArithmeticException e) is given.</p>\n\n<pre><code>import java.util.*;\npublic class ExceptionDemo\n{\npublic static void main(String args[])\n{\n   int a,b,c;\n   Scanner sc=new Scanner(System.in);\n   System.out.println(\"enter first number:\");\n   a=sc.nextInt();\n   System.out.println(\"enter second number:\");\n   b=sc.nextInt();\n   try\n   {\n       c=a/b;\n       System.out.println(\"Result is:\"+c);\n   }\n   catch(Exception e)\n   {\n       System.out.println(\"second number cannot be zero/0 \"+e);\n   }\n\n   System.out.println(\"still running\");\n   }\n   }\n</code></pre>\n\n<p>This is the error I'm getting as below: </p>\n\n<blockquote>\n  <p>incompatible types: Exception cannot be converted to Throwable\n    catch(Exception e)</p>\n</blockquote>\n"},{"tags":["java","junit","junit4"],"comments":[{"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"score":0,"creation_date":1650368259,"post_id":71924250,"comment_id":127093472,"body_markdown":"Are you trying to perform integration(data-driven) tests or Mock tests with JUnit?","body":"Are you trying to perform integration(data-driven) tests or Mock tests with JUnit?"},{"owner":{"account_id":24642641,"reputation":53,"user_id":18540664,"display_name":"bull19"},"score":0,"creation_date":1650368363,"post_id":71924250,"comment_id":127093506,"body_markdown":"I think Mock Tests with JUnit @Pawan.Java","body":"I think Mock Tests with JUnit @Pawan.Java"},{"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"score":0,"creation_date":1650368629,"post_id":71924250,"comment_id":127093582,"body_markdown":"So you have to create a dependency of your Rocksciccorspaper class into your Test class first. Then you have to parse data which you would desire to obtain as a result into your winner function. Finally use assertEquals to compare the expected value to the obtained value.","body":"So you have to create a dependency of your Rocksciccorspaper class into your Test class first. Then you have to parse data which you would desire to obtain as a result into your winner function. Finally use assertEquals to compare the expected value to the obtained value."},{"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"score":0,"creation_date":1650368844,"post_id":71924250,"comment_id":127093649,"body_markdown":"You need a good tutorial to start with Junit, consult this link: https://www.arhohuttunen.com/junit-5-getting-started/","body":"You need a good tutorial to start with Junit, consult this link: <a href=\"https://www.arhohuttunen.com/junit-5-getting-started/\" rel=\"nofollow noreferrer\">arhohuttunen.com/junit-5-getting-started</a>"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1650369507,"post_id":71924250,"comment_id":127093891,"body_markdown":"&quot;winner&quot; is tested by passing in ask combinations of inputs and making sure its return value matches your expectations.","body":"&quot;winner&quot; is tested by passing in ask combinations of inputs and making sure its return value matches your expectations."}],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650369441,"creation_date":1650369063,"answer_id":71924492,"question_id":71924250,"body_markdown":"If it is difficult to think of a test, then a Test First approach is often useful. Put your existing code aside. Write a test. Write enough code to satisfy that test (perhaps copy and paste your old code; perhaps not). Refactor if you wish. Repeat until done.\r\n\r\nTest First aside:\r\n\r\nThe method `winner` is probably going to be your first target to test. It needs to be made accessible to the test. In this case that is easy to do by making it `static` and `public` and moving it to a separate class. Including UI text makes that test fragile (say, you decide to capitalise `&quot;draw&quot;`), so consider using an enum instead of `String`.\r\n\r\n\r\nThe actual code for testing winner will be something like:\r\n\r\n    import static mypackage.Decision.*;\r\n    // ...\r\n        assertEquals(&quot;draw&quot;, winner(R, R));\r\n\r\nThere&#39;s only nine possible combinations, so exhaustive testing is trvial.\r\n\r\nAs well as UI, global state makes testing (and everything else) hacky. Consider replacing `System.in` and `System.out` with parameters. The globals themselves only need to be referenced right up in `main`.\r\n","title":"Is there a way to test with JUnit this project?","body":"<p>If it is difficult to think of a test, then a Test First approach is often useful. Put your existing code aside. Write a test. Write enough code to satisfy that test (perhaps copy and paste your old code; perhaps not). Refactor if you wish. Repeat until done.</p>\n<p>Test First aside:</p>\n<p>The method <code>winner</code> is probably going to be your first target to test. It needs to be made accessible to the test. In this case that is easy to do by making it <code>static</code> and <code>public</code> and moving it to a separate class. Including UI text makes that test fragile (say, you decide to capitalise <code>&quot;draw&quot;</code>), so consider using an enum instead of <code>String</code>.</p>\n<p>The actual code for testing winner will be something like:</p>\n<pre><code>import static mypackage.Decision.*;\n// ...\n    assertEquals(&quot;draw&quot;, winner(R, R));\n</code></pre>\n<p>There's only nine possible combinations, so exhaustive testing is trvial.</p>\n<p>As well as UI, global state makes testing (and everything else) hacky. Consider replacing <code>System.in</code> and <code>System.out</code> with parameters. The globals themselves only need to be referenced right up in <code>main</code>.</p>\n"}],"owner":{"account_id":24642641,"reputation":53,"user_id":18540664,"display_name":"bull19"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71924492,"answer_count":1,"score":0,"last_activity_date":1650381736,"creation_date":1650367900,"question_id":71924250,"body_markdown":"I created this rock scissors paper project\r\n\r\n```\r\npublic class Rocksciccorspaper {\r\n    private static final int R = 1;\r\n    private static final int S = 2;\r\n    private static final int P = 3;\r\n    private int rounds;\r\n\r\n    public Rocksciccorspaper(int rounds) {\r\n        this.rounds = rounds;\r\n    }\r\n\r\n    private String winner(int userSelect, int botSelect) {\r\n        if (userSelect == botSelect) {\r\n            return &quot;draw&quot;;\r\n        } else if (botSelect - userSelect == 1 || botSelect - userSelect == -2) {\r\n            return &quot;Congrats, you won.&quot;;\r\n        } else {\r\n            return &quot;You lose.&quot;;\r\n        }\r\n    }\r\n\r\n    public void start() {\r\n        Scanner sc = new Scanner(System.in);\r\n        int playedRounds = 0;\r\n        while (playedRounds &lt; rounds) {\r\n            System.out.print(&quot;choose Rock(1), Sciccors(2), Paper(3): &quot;);\r\n            int userSelect = sc.nextInt();\r\n            int botSelect = new Random().nextInt(3) + 1;\r\n            System.out.println(&quot;You Choose: &quot;\r\n                    + selectionDetect(userSelect));\r\n            System.out.println(&quot;Bot Choose: &quot;\r\n                    + selectionDetect(botSelect));\r\n            System.out.println(winner(userSelect, botSelect));\r\n            System.out.println();\r\n            playedRounds++;\r\n        }\r\n        sc.close();\r\n    }\r\n\r\n    private String selectionDetect(int selection) {\r\n        if (selection == R) {\r\n            return &quot;Rock (1)&quot;;\r\n        } else if (selection == S) {\r\n            return &quot;Sciccors (2)&quot;;\r\n        } else if (selection == P) {\r\n            return &quot;Paper (3)&quot;;\r\n        } else {\r\n            return &quot;Invalid Selection (&quot; + selection + &quot;)&quot;;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Rocksciccorspaper rocksciccorsPaper = new Rocksciccorspaper(3);\r\n        rocksciccorsPaper.start();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI want to test it. The first function which I want to test is the winner function. I think that&#39;s one of the important functions.\r\n\r\nI tried something but it doesn&#39;t work well. I&#39;m not sure how to test the selection in my if condition.\r\n\r\n```\r\nimport static org.junit.Assert.*;\r\n\r\nimport org.junit.Test;\r\n\r\npublic class RocksciccorspaperTest {\r\n\t@Test\r\n\tpublic void test() {\r\n\t\tfail(&quot;Not yet implemented&quot;);\r\n\t}\r\n}\r\n```\r\n","title":"Is there a way to test with JUnit this project?","body":"<p>I created this rock scissors paper project</p>\n<pre><code>public class Rocksciccorspaper {\n    private static final int R = 1;\n    private static final int S = 2;\n    private static final int P = 3;\n    private int rounds;\n\n    public Rocksciccorspaper(int rounds) {\n        this.rounds = rounds;\n    }\n\n    private String winner(int userSelect, int botSelect) {\n        if (userSelect == botSelect) {\n            return &quot;draw&quot;;\n        } else if (botSelect - userSelect == 1 || botSelect - userSelect == -2) {\n            return &quot;Congrats, you won.&quot;;\n        } else {\n            return &quot;You lose.&quot;;\n        }\n    }\n\n    public void start() {\n        Scanner sc = new Scanner(System.in);\n        int playedRounds = 0;\n        while (playedRounds &lt; rounds) {\n            System.out.print(&quot;choose Rock(1), Sciccors(2), Paper(3): &quot;);\n            int userSelect = sc.nextInt();\n            int botSelect = new Random().nextInt(3) + 1;\n            System.out.println(&quot;You Choose: &quot;\n                    + selectionDetect(userSelect));\n            System.out.println(&quot;Bot Choose: &quot;\n                    + selectionDetect(botSelect));\n            System.out.println(winner(userSelect, botSelect));\n            System.out.println();\n            playedRounds++;\n        }\n        sc.close();\n    }\n\n    private String selectionDetect(int selection) {\n        if (selection == R) {\n            return &quot;Rock (1)&quot;;\n        } else if (selection == S) {\n            return &quot;Sciccors (2)&quot;;\n        } else if (selection == P) {\n            return &quot;Paper (3)&quot;;\n        } else {\n            return &quot;Invalid Selection (&quot; + selection + &quot;)&quot;;\n        }\n    }\n\n    public static void main(String[] args) {\n        Rocksciccorspaper rocksciccorsPaper = new Rocksciccorspaper(3);\n        rocksciccorsPaper.start();\n    }\n\n}\n</code></pre>\n<p>I want to test it. The first function which I want to test is the winner function. I think that's one of the important functions.</p>\n<p>I tried something but it doesn't work well. I'm not sure how to test the selection in my if condition.</p>\n<pre><code>import static org.junit.Assert.*;\n\nimport org.junit.Test;\n\npublic class RocksciccorspaperTest {\n    @Test\n    public void test() {\n        fail(&quot;Not yet implemented&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","microsoft-graph-sdks"],"comments":[{"owner":{"account_id":23997029,"reputation":589,"user_id":17982436,"display_name":"Mehtab Siddique"},"score":0,"creation_date":1650274278,"post_id":71870349,"comment_id":127069625,"body_markdown":"Hi @Orbit419, This might be the exact answer but you can please refer this [DOC](https://learn.microsoft.com/en-us/graph/sdks/create-requests?tabs=CS) , which states on how to Make API calls using the Microsoft Graph SDKs.","body":"Hi @Orbit419, This might be the exact answer but you can please refer this <a href=\"https://learn.microsoft.com/en-us/graph/sdks/create-requests?tabs=CS\" rel=\"nofollow noreferrer\">DOC</a> , which states on how to Make API calls using the Microsoft Graph SDKs."}],"answers":[{"tags":[],"owner":{"account_id":18110809,"reputation":41,"user_id":13935270,"display_name":"Orbit419"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650381292,"creation_date":1650363615,"answer_id":71923341,"question_id":71870349,"body_markdown":"I have found a method `setServiceRoot(String url)` in `BaseClient` class used in unit tests of the project. With this method, you can change the address of the API and use MockServer to mock the calls","title":"Mock Microsoft Graph API SDK for Java service Integration Tests","body":"<p>I have found a method <code>setServiceRoot(String url)</code> in <code>BaseClient</code> class used in unit tests of the project. With this method, you can change the address of the API and use MockServer to mock the calls</p>\n"}],"owner":{"account_id":18110809,"reputation":41,"user_id":13935270,"display_name":"Orbit419"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":719,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71923341,"answer_count":1,"score":0,"last_activity_date":1650381292,"creation_date":1649933095,"question_id":71870349,"body_markdown":"I&#39;m trying to write integration tests with tests containers for my JAVA service and I want to find a way to mock the SDK calls. Maybe there are any ways to override the URL for requests and use it with the mock server container or smth?\r\nThe main idea is to write tests for the service in a separate container running in production mode.\r\nI&#39;m writing tests using Groovy for Java service with Spring-Boot","title":"Mock Microsoft Graph API SDK for Java service Integration Tests","body":"<p>I'm trying to write integration tests with tests containers for my JAVA service and I want to find a way to mock the SDK calls. Maybe there are any ways to override the URL for requests and use it with the mock server container or smth?\nThe main idea is to write tests for the service in a separate container running in production mode.\nI'm writing tests using Groovy for Java service with Spring-Boot</p>\n"},{"tags":["java","jnlp","java-web-start"],"comments":[{"owner":{"account_id":15128,"reputation":1701,"user_id":31629,"accept_rate":73,"display_name":"Ken"},"score":0,"creation_date":1373477583,"post_id":1912676,"comment_id":25575228,"body_markdown":"I see this problem too -- really annoying.","body":"I see this problem too -- really annoying."}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1260952103,"creation_date":1260952103,"answer_id":1913152,"question_id":1912676,"body_markdown":"Have a look at what happens if you run javaws.exe directly from the command line.  ","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>Have a look at what happens if you run javaws.exe directly from the command line.  </p>\n"},{"tags":[],"owner":{"account_id":75782,"reputation":1215,"user_id":217269,"display_name":"spork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1260973334,"creation_date":1260973334,"answer_id":1914936,"question_id":1912676,"body_markdown":"Is this an application to which you have the code? Java 6u14 included a change to the way it handles jar security that for us caused very similar issues. If your jars are signed and work with Java 6u13 or below, you might consider either refactoring your code to work around this update or requiring Java 6u13 or below. Unfortunately I don&#39;t recall exactly what we did to resolve the issue - it was panic mode at the time.\r\n\r\nAgain, if you have the code you have tools to work with. You can put in `System.out.println` statements in your startup routines - anything console output is displayed in the command window when you run the JNLP from the command line. Otherwise you might consider using a nice logger like `log4j` to get a better idea of the point of failure.\r\n\r\nYou may also consider removing the application entirely and downloading it anew. Java Web Start has a Control Panel applet that allows you to see the URL your app is downloading from (could be the wrong one), uninstall the app, set security options, etc.","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>Is this an application to which you have the code? Java 6u14 included a change to the way it handles jar security that for us caused very similar issues. If your jars are signed and work with Java 6u13 or below, you might consider either refactoring your code to work around this update or requiring Java 6u13 or below. Unfortunately I don't recall exactly what we did to resolve the issue - it was panic mode at the time.</p>\n\n<p>Again, if you have the code you have tools to work with. You can put in <code>System.out.println</code> statements in your startup routines - anything console output is displayed in the command window when you run the JNLP from the command line. Otherwise you might consider using a nice logger like <code>log4j</code> to get a better idea of the point of failure.</p>\n\n<p>You may also consider removing the application entirely and downloading it anew. Java Web Start has a Control Panel applet that allows you to see the URL your app is downloading from (could be the wrong one), uninstall the app, set security options, etc.</p>\n"},{"tags":[],"owner":{"account_id":726926,"reputation":31,"user_id":677042,"display_name":"Bob Lauer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1353927324,"creation_date":1301067996,"answer_id":5434794,"question_id":1912676,"body_markdown":"If javacpl does not open and gives you *Could not find the main class:*, it could be that Java is confused because of changes in deployment.properties (can be found in `C:\\Users\\&lt;username&gt;\\AppData\\LocalLow\\Sun\\Java\\Deployment on Win7`). Delete that file and everything&#39;s fine.\r\n\r\nThis bug seems to be 6 years old, [cf](https://bugs.java.com/bugdatabase/view_bug?bug_id=4975888). An app should be able to ignore properties that have become obsolete over time, shouldn&#39;t it?","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>If javacpl does not open and gives you <em>Could not find the main class:</em>, it could be that Java is confused because of changes in deployment.properties (can be found in <code>C:\\Users\\&lt;username&gt;\\AppData\\LocalLow\\Sun\\Java\\Deployment on Win7</code>). Delete that file and everything's fine.</p>\n<p>This bug seems to be 6 years old, <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4975888\" rel=\"nofollow noreferrer\">cf</a>. An app should be able to ignore properties that have become obsolete over time, shouldn't it?</p>\n"},{"tags":[],"owner":{"account_id":37972,"reputation":1797,"user_id":108769,"accept_rate":45,"display_name":"akjain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1430206622,"creation_date":1377594947,"answer_id":18461490,"question_id":1912676,"body_markdown":"Although this question is bit old, the issue was caused by **corrupted ClearType registry setting** and resolved by fixing it, as described in this [ClearType, install4j and case of Java bug][2] post.\n\n&gt; ClearType, install4j and case of Java bug Java \n&gt;\n&gt;Do you know what\n&gt; ClearType (font-smoothing technology in Windows) has in common with\n&gt; Java (programming language and one of  the recommended frameworks)?\n&gt; \n&gt; Nothing except that they were working together hard at making me\n&gt; miserable for few months. I had some Java software that I couldn’t\n&gt; install. I mean really couldn’t – not even figure out reason or\n&gt; reproduce it on another PC.\n&gt; \n&gt; Recently I was approved for Woopra beta (site analytics service) and\n&gt; it uses desktop client written in Java… I couldn’t install. That got\n&gt; me really mad. :)\n&gt; \n&gt; \n&gt; Story All of the software in question was similar :\n&gt; \n&gt; setup based on install4j; setup crashing with bunch of errors. I was\n&gt; blaming install4j during early (hundred or so) attempts to solve\n&gt; issue. Later I slowly understood that if it was that bugged for that\n&gt; long time – solution would have been created and googled.\n&gt; \n&gt; Tracing After shifting focus from install4j I decided to push Java\n&gt; framework. I was trying stable versions earlier so decided to go for\n&gt; non-stable 1.6 Update 10 Release Candidate.\n&gt; \n&gt; This actually fixed error messages but not crashes. I had also noticed\n&gt; that there was new error log created in directory with setup files.\n&gt; Previously I had only seen logs in Windows temporary directory.\n&gt; \n&gt; New error log was saying following :\n&gt; \n&gt; Could not display the GUI. This application needs access to an X\n&gt; Server. If you have access there is probably an X library missing.\n&gt; ******************************************************************* You can also run this application in console mode without access to an\n&gt; X server by passing the argument -c Very weird to look for X-Server on\n&gt; non-Linux PC, isn’t it? So I decided to try that “-c” argument. And\n&gt; was actually able to install in console mode.\n&gt; \n&gt; Happy ending? Nope. Now installed app was crashing. But it really got\n&gt; me thinking. If console works but graphical interface doesn’t – there\n&gt; must be problem with latter.\n&gt; \n&gt; One more error log (in application folder) was now saying (among other\n&gt; things) :\n&gt; \n&gt; Caused by: java.lang.IllegalArgumentException: -60397977 incompatible\n&gt; with Text-specific LCD contrast key Which successfully googled me\n&gt; description of bug with Java unable to read non-standard ClearType\n&gt; registry setting.\n&gt; \n&gt; Solution I immediately launched ClearType Tuner from Control Panel and\n&gt; found setting showing gibberish number. After correcting it to proper\n&gt; one all problems with Java were instantly gone.\n&gt; \n&gt; cleartypetuner_screenshot Lessons learned Don’t be fast to blame\n&gt; software problems on single application. Even minor and totally\n&gt; unrelated settings can launch deadly chain reactions. Links Jave\n&gt; Runtime Environment http://www.java.com/en/download/index.jsp\n&gt; \n&gt; ClearType Tuner\n&gt; http://www.microsoft.com/windowsxp/downloads/powertoys/xppowertoys.mspx\n&gt; \n&gt; Woopra http://www.woopra.com/\n&gt; \n&gt; install4j\n&gt; http://www.ej-technologies.com/products/install4j/overview.html\n\n[2]: http://www.rarst.net/software/cleartype-install4j-java-bug/","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>Although this question is bit old, the issue was caused by <strong>corrupted ClearType registry setting</strong> and resolved by fixing it, as described in this <a href=\"http://www.rarst.net/software/cleartype-install4j-java-bug/\" rel=\"nofollow noreferrer\">ClearType, install4j and case of Java bug</a> post.</p>\n<blockquote>\n<p>ClearType, install4j and case of Java bug Java</p>\n<p>Do you know what\nClearType (font-smoothing technology in Windows) has in common with\nJava (programming language and one of  the recommended frameworks)?</p>\n<p>Nothing except that they were working together hard at making me\nmiserable for few months. I had some Java software that I couldn’t\ninstall. I mean really couldn’t – not even figure out reason or\nreproduce it on another PC.</p>\n<p>Recently I was approved for Woopra beta (site analytics service) and\nit uses desktop client written in Java… I couldn’t install. That got\nme really mad. :)</p>\n<p>Story All of the software in question was similar :</p>\n<p>setup based on install4j; setup crashing with bunch of errors. I was\nblaming install4j during early (hundred or so) attempts to solve\nissue. Later I slowly understood that if it was that bugged for that\nlong time – solution would have been created and googled.</p>\n<p>Tracing After shifting focus from install4j I decided to push Java\nframework. I was trying stable versions earlier so decided to go for\nnon-stable 1.6 Update 10 Release Candidate.</p>\n<p>This actually fixed error messages but not crashes. I had also noticed\nthat there was new error log created in directory with setup files.\nPreviously I had only seen logs in Windows temporary directory.</p>\n<p>New error log was saying following :</p>\n<p>Could not display the GUI. This application needs access to an X\nServer. If you have access there is probably an X library missing.\n******************************************************************* You can also run this application in console mode without access to an\nX server by passing the argument -c Very weird to look for X-Server on\nnon-Linux PC, isn’t it? So I decided to try that “-c” argument. And\nwas actually able to install in console mode.</p>\n<p>Happy ending? Nope. Now installed app was crashing. But it really got\nme thinking. If console works but graphical interface doesn’t – there\nmust be problem with latter.</p>\n<p>One more error log (in application folder) was now saying (among other\nthings) :</p>\n<p>Caused by: java.lang.IllegalArgumentException: -60397977 incompatible\nwith Text-specific LCD contrast key Which successfully googled me\ndescription of bug with Java unable to read non-standard ClearType\nregistry setting.</p>\n<p>Solution I immediately launched ClearType Tuner from Control Panel and\nfound setting showing gibberish number. After correcting it to proper\none all problems with Java were instantly gone.</p>\n<p>cleartypetuner_screenshot Lessons learned Don’t be fast to blame\nsoftware problems on single application. Even minor and totally\nunrelated settings can launch deadly chain reactions. Links Jave\nRuntime Environment <a href=\"http://www.java.com/en/download/index.jsp\" rel=\"nofollow noreferrer\">http://www.java.com/en/download/index.jsp</a></p>\n<p>ClearType Tuner\n<a href=\"http://www.microsoft.com/windowsxp/downloads/powertoys/xppowertoys.mspx\" rel=\"nofollow noreferrer\">http://www.microsoft.com/windowsxp/downloads/powertoys/xppowertoys.mspx</a></p>\n<p>Woopra <a href=\"http://www.woopra.com/\" rel=\"nofollow noreferrer\">http://www.woopra.com/</a></p>\n<p>install4j\n<a href=\"http://www.ej-technologies.com/products/install4j/overview.html\" rel=\"nofollow noreferrer\">http://www.ej-technologies.com/products/install4j/overview.html</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3433944,"reputation":464,"user_id":2877493,"accept_rate":60,"display_name":"nairb"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1580411994,"creation_date":1400570928,"answer_id":23753490,"question_id":1912676,"body_markdown":"i had the same problem here. go to your Java Control Panel and Settings... Uncheck &#39;Keep temporary files on my computer&#39;. Apply changes and try again your .jnlp \r\n\r\n[![Java Control Panel - Keep temporary files on my computer][1]][1]\r\n\r\nNote: Tested on different machines; Windows Server 2012, Windows Server 2008 and Windows 7 64bit. \r\nJava Version: 1.7++ since my jnlp app is built on 1.7\r\n\r\nPlease let me know your feedback too. :D\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NNJMs.png","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>i had the same problem here. go to your Java Control Panel and Settings... Uncheck 'Keep temporary files on my computer'. Apply changes and try again your .jnlp </p>\n\n<p><a href=\"https://i.stack.imgur.com/NNJMs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NNJMs.png\" alt=\"Java Control Panel - Keep temporary files on my computer\"></a></p>\n\n<p>Note: Tested on different machines; Windows Server 2012, Windows Server 2008 and Windows 7 64bit. \nJava Version: 1.7++ since my jnlp app is built on 1.7</p>\n\n<p>Please let me know your feedback too. :D</p>\n"},{"tags":[],"owner":{"account_id":4501549,"reputation":131,"user_id":3659954,"display_name":"hpereira"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1448272724,"creation_date":1434188336,"answer_id":30817184,"question_id":1912676,"body_markdown":"I know this is an older question but this past week I started to get a similar problem, so I leave here some notes regarding the solution that fits me.\r\n\r\nThis happened only in some Windows machines using even the last JRE to date (1.8.0_45).\r\n\r\nThe Java Web Start started to load but nothing happened and none of the previous solution attempts worked.\r\n\r\nAfter some digging i&#39;ve found this thread, which gives the same setup and a great explanation.\r\n\r\nhttps://community.oracle.com/thread/3676876\r\n\r\nSo, in conclusion, it was a memory problem in x86 JRE and since our JNLP&#39;s max heap was defined as 1024MB, we changed to 780MB as suggested and it was fixed.\r\n\r\nHowever, if you need more than 780MB, can always try launching in a x64 JRE version.","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>I know this is an older question but this past week I started to get a similar problem, so I leave here some notes regarding the solution that fits me.</p>\n\n<p>This happened only in some Windows machines using even the last JRE to date (1.8.0_45).</p>\n\n<p>The Java Web Start started to load but nothing happened and none of the previous solution attempts worked.</p>\n\n<p>After some digging i've found this thread, which gives the same setup and a great explanation.</p>\n\n<p><a href=\"https://community.oracle.com/thread/3676876\" rel=\"noreferrer\">https://community.oracle.com/thread/3676876</a></p>\n\n<p>So, in conclusion, it was a memory problem in x86 JRE and since our JNLP's max heap was defined as 1024MB, we changed to 780MB as suggested and it was fixed.</p>\n\n<p>However, if you need more than 780MB, can always try launching in a x64 JRE version.</p>\n"},{"tags":[],"owner":{"account_id":2746531,"reputation":21,"user_id":2366835,"display_name":"Bech"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448268915,"creation_date":1448268915,"answer_id":33866934,"question_id":1912676,"body_markdown":"I had the exact same problem. Turned out that the max-heap-size was set to 1024 and missing the unit. The configuration needed to be max-heap-size=1024**m**.\r\n\r\nSo apparently invalid memory configuration in the jnlp file will cause this exact behavior.","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>I had the exact same problem. Turned out that the max-heap-size was set to 1024 and missing the unit. The configuration needed to be max-heap-size=1024<strong>m</strong>.</p>\n\n<p>So apparently invalid memory configuration in the jnlp file will cause this exact behavior.</p>\n"},{"tags":[],"owner":{"account_id":7395644,"reputation":1,"user_id":5627673,"display_name":"Rick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449006085,"creation_date":1449006085,"answer_id":34030721,"question_id":1912676,"body_markdown":"In my case, the problem was caused by starting my app from a shortcut on the public desktop (windows 7). As a result, as far as I can tell, the temporary files location was set to c:\\users\\public\\etc. This resulted in the unable to write to cache detail. When I reset to defaults in the temporary files control applet, all worked fine.","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>In my case, the problem was caused by starting my app from a shortcut on the public desktop (windows 7). As a result, as far as I can tell, the temporary files location was set to c:\\users\\public\\etc. This resulted in the unable to write to cache detail. When I reset to defaults in the temporary files control applet, all worked fine.</p>\n"},{"tags":[],"owner":{"account_id":933736,"reputation":13154,"user_id":963076,"accept_rate":59,"display_name":"ryvantage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466904089,"creation_date":1466904089,"answer_id":38034424,"question_id":1912676,"body_markdown":"In my case, Netbeans automatically creates a .jnlp file that doesn&#39;t work and my problem was due to an accidental overwriting of the `launch.jnlp` file on the server (by the inadequate and incorrect version from Netbeans). This caused a mismatch between the local `.jnlp` file and the remote `.jnlp` file, resulting in Java Web Start just quitting after &quot;Verifying application.&quot;\r\n\r\nSo no one else has to waste an hour finding a bug that should be communicated adequately (but isn&#39;t) by Java WS.","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>In my case, Netbeans automatically creates a .jnlp file that doesn't work and my problem was due to an accidental overwriting of the <code>launch.jnlp</code> file on the server (by the inadequate and incorrect version from Netbeans). This caused a mismatch between the local <code>.jnlp</code> file and the remote <code>.jnlp</code> file, resulting in Java Web Start just quitting after \"Verifying application.\"</p>\n\n<p>So no one else has to waste an hour finding a bug that should be communicated adequately (but isn't) by Java WS.</p>\n"},{"tags":[],"owner":{"account_id":11816044,"reputation":31,"user_id":8646228,"display_name":"Marc.S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510553216,"creation_date":1510553216,"answer_id":47258025,"question_id":1912676,"body_markdown":"This can also be due to environment variable CATALINA_HOME in your system. In our organization there were several cases where JNLP applications just refused to start without logging anything and emptying CATALINA_HOME solved the issue.\r\n\r\nI had the environment variable set in the command prompt and it didn&#39;t appear in GUI. I&#39;m not sure if setx command or register removal commands did the trick. Restart seems to be necessary after removing the variable.","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>This can also be due to environment variable CATALINA_HOME in your system. In our organization there were several cases where JNLP applications just refused to start without logging anything and emptying CATALINA_HOME solved the issue.</p>\n\n<p>I had the environment variable set in the command prompt and it didn't appear in GUI. I'm not sure if setx command or register removal commands did the trick. Restart seems to be necessary after removing the variable.</p>\n"},{"tags":[],"owner":{"account_id":12576808,"reputation":612,"user_id":9211311,"display_name":"Sumith08"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1516200642,"creation_date":1516199233,"answer_id":48303441,"question_id":1912676,"body_markdown":"I was also facing the same problem. To fix this to the following steps.\r\n\r\n1. open Javaws from cmd runnig javaws -viewer command. A new window will open\r\n2. Select the jnlp file which you want and click the run button.\r\n3. Close the javaws viewer window.\r\n","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>I was also facing the same problem. To fix this to the following steps.</p>\n\n<ol>\n<li>open Javaws from cmd runnig javaws -viewer command. A new window will open</li>\n<li>Select the jnlp file which you want and click the run button.</li>\n<li>Close the javaws viewer window.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1287160,"reputation":3077,"user_id":1240018,"accept_rate":54,"display_name":"eventhorizon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551774765,"creation_date":1551774765,"answer_id":54998443,"question_id":1912676,"body_markdown":"I believe this is a security problem. If I download the jnpl file and execute it after a clean java 8 installation via `javaws myfile.jnpl` everything is working fine (I get multiple windows where I have to confirm some security problems).","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>I believe this is a security problem. If I download the jnpl file and execute it after a clean java 8 installation via <code>javaws myfile.jnpl</code> everything is working fine (I get multiple windows where I have to confirm some security problems).</p>\n"},{"tags":[],"owner":{"account_id":8399218,"reputation":945,"user_id":6305105,"accept_rate":78,"display_name":"A X"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564862410,"creation_date":1564862410,"answer_id":57341704,"question_id":1912676,"body_markdown":"I wanted to share the root cause for my issue.  I was using High DPI in Windows and this caused JNLP to not launch.  I had to turn off High DPI for this to work.  Hope this helps.","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>I wanted to share the root cause for my issue.  I was using High DPI in Windows and this caused JNLP to not launch.  I had to turn off High DPI for this to work.  Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":16190590,"reputation":78,"user_id":11689495,"display_name":"Guy Sela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580291182,"creation_date":1580291182,"answer_id":59964377,"question_id":1912676,"body_markdown":"Try Java Web Launcher, rather than Java Web Start Launcher. It worked for me.  ","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>Try Java Web Launcher, rather than Java Web Start Launcher. It worked for me.  </p>\n"},{"tags":[],"owner":{"account_id":18864344,"reputation":11,"user_id":13841699,"display_name":"ALOK KUMAR SRIVASTAVA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593531096,"creation_date":1593529444,"answer_id":62660484,"question_id":1912676,"body_markdown":"Same solution worked as suggested by hpereira\r\nThe issue was due to JRE version was 32 bit and not 64 Bit \r\nCheck with `java -version` to see if your Java is 64 bit\r\n```\r\nC:\\&gt;java -version\r\njava version &quot;1.8.0_192&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_192-b12)\r\nJava HotSpot(TM) **64-Bit Server** VM (build 25.192-b12, mixed mode)\r\n```","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>Same solution worked as suggested by hpereira\nThe issue was due to JRE version was 32 bit and not 64 Bit\nCheck with <code>java -version</code> to see if your Java is 64 bit</p>\n<pre><code>C:\\&gt;java -version\njava version &quot;1.8.0_192&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_192-b12)\nJava HotSpot(TM) **64-Bit Server** VM (build 25.192-b12, mixed mode)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11521773,"reputation":171,"user_id":8443332,"display_name":"Ravindra Yadav"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1598340605,"creation_date":1598340605,"answer_id":63574006,"question_id":1912676,"body_markdown":"&lt;b&gt;Java web start should be enabled.&lt;/b&gt;&lt;br /&gt;\r\nCheck if javaws (Java web start is enabled for your system), Use below command in console to open java control panel.\r\n\r\n\r\n    javaws -viewer\r\n\r\n[![Image for your refrence][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Ta8YT.png","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p><b>Java web start should be enabled.</b><br />\nCheck if javaws (Java web start is enabled for your system), Use below command in console to open java control panel.</p>\n<pre><code>javaws -viewer\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Ta8YT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ta8YT.png\" alt=\"Image for your refrence\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1264721,"reputation":1210,"user_id":1222271,"accept_rate":33,"display_name":"Boris Karloff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650381243,"creation_date":1650381243,"answer_id":71927289,"question_id":1912676,"body_markdown":"Right-click on the JNLP file that is not opening and select Open With.\r\nIn the ‘How you want to open this File’ window, scroll down and click on Look for another app on this PC option.\r\nWhen the File Explorer window opens, navigate to the following location:\r\nC:\\Program Files (x86)\\Java\\jre1.8.0_261\\bin\r\nor the folder for 64bit version\r\n\r\nSelect javaws.exe and click the Open button. This will open the JNLP file as intended.\r\nMake sure to check the Always use this app to open .jnlp files.\r\nThat&#39;s all.","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>Right-click on the JNLP file that is not opening and select Open With.\nIn the ‘How you want to open this File’ window, scroll down and click on Look for another app on this PC option.\nWhen the File Explorer window opens, navigate to the following location:\nC:\\Program Files (x86)\\Java\\jre1.8.0_261\\bin\nor the folder for 64bit version</p>\n<p>Select javaws.exe and click the Open button. This will open the JNLP file as intended.\nMake sure to check the Always use this app to open .jnlp files.\nThat's all.</p>\n"}],"owner":{"account_id":37972,"reputation":1797,"user_id":108769,"accept_rate":45,"display_name":"akjain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281349,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":18461490,"answer_count":17,"score":31,"last_activity_date":1650381243,"creation_date":1260944293,"question_id":1912676,"body_markdown":"Up until recently, I was able to launch/open *JNLP* files in *Firefox* using *Java web start*.\r\n\r\nDon&#39;t know what happened all of a sudden *JNLP* files stopped launching, a splash screen appears saying *Java Starting...* and then nothing happens. Even the *Java Console* in the browser and *javacpl.cpl* applet doesn&#39;t open.\r\n\r\nTried all possibilities: removed all older version and installed the latest JRE (java version &quot;1.6.0_17&quot;), still it doesn&#39;t work.\r\n\r\nDone some googling for this problem, people suggested to start *javaws.exe* with *-viewer* option but same behavior (a splash screen appears saying &quot;Java Starting...&quot; and then disappears)\r\n\r\nThe problem is that I don&#39;t know any place (logs etc.) to look for to see what is causing the problem.\r\n\r\nI am using WinXP SP3, and some of the screenshots below shows further info about my system. \r\nI can provide any other detail if required but please help me solve this problem.\r\n\r\n  [2]: http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6877831\r\n","title":"I am not able launch JNLP applications using &quot;Java Web Start&quot;?","body":"<p>Up until recently, I was able to launch/open <em>JNLP</em> files in <em>Firefox</em> using <em>Java web start</em>.</p>\n\n<p>Don't know what happened all of a sudden <em>JNLP</em> files stopped launching, a splash screen appears saying <em>Java Starting...</em> and then nothing happens. Even the <em>Java Console</em> in the browser and <em>javacpl.cpl</em> applet doesn't open.</p>\n\n<p>Tried all possibilities: removed all older version and installed the latest JRE (java version \"1.6.0_17\"), still it doesn't work.</p>\n\n<p>Done some googling for this problem, people suggested to start <em>javaws.exe</em> with <em>-viewer</em> option but same behavior (a splash screen appears saying \"Java Starting...\" and then disappears)</p>\n\n<p>The problem is that I don't know any place (logs etc.) to look for to see what is causing the problem.</p>\n\n<p>I am using WinXP SP3, and some of the screenshots below shows further info about my system. \nI can provide any other detail if required but please help me solve this problem.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":1,"creation_date":1431529332,"post_id":30218508,"comment_id":48541164,"body_markdown":"This seems a little vague. Could you post the code that you have so far.","body":"This seems a little vague. Could you post the code that you have so far."},{"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"score":0,"creation_date":1431531843,"post_id":30218508,"comment_id":48543017,"body_markdown":"@bhspencer I&#39;ll add the code to my post.","body":"@bhspencer I&#39;ll add the code to my post."}],"answers":[{"tags":[],"owner":{"account_id":5858718,"reputation":913,"user_id":4615177,"accept_rate":42,"display_name":"George"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431529798,"creation_date":1431529798,"answer_id":30218856,"question_id":30218508,"body_markdown":"Sounds like you&#39;re trying to implement a barrier with a timeout. Have you tried this:\r\nhttp://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CyclicBarrier.html","title":"Join multiple threads with timeout","body":"<p>Sounds like you're trying to implement a barrier with a timeout. Have you tried this:\n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CyclicBarrier.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CyclicBarrier.html</a></p>\n"},{"tags":[],"owner":{"account_id":4089780,"reputation":1489,"user_id":3358126,"accept_rate":44,"display_name":"Pavel Niedoba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650381156,"creation_date":1650381156,"answer_id":71927280,"question_id":30218508,"body_markdown":"you can track elapsed time and join on timeout - elapsed, if it&#39;s negative, you don&#39;t need to wait at all, it&#39;s time-outed already","title":"Join multiple threads with timeout","body":"<p>you can track elapsed time and join on timeout - elapsed, if it's negative, you don't need to wait at all, it's time-outed already</p>\n"}],"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1650381156,"creation_date":1431528867,"question_id":30218508,"body_markdown":"I need to join multiple threads with a timeout. Something like `Thread.join(long millis)` but for multiple threads.\r\n\r\nI found some posts about joining multiple threads, but not regarding joining with timeout.\r\n\r\nThe code I&#39;m changing is:\r\n\r\n    for (Thread thread : threads) {\r\n        thread.join(units.toMillis(timeout));\r\n    }\r\n\r\nBut this obviously waits for each thread separately having the effect of waiting up to `threads.length * timeout`. I want to wait up to `timeout` for all threads altogether.\r\n\r\nWhat would be the right way to do this?\r\n","title":"Join multiple threads with timeout","body":"<p>I need to join multiple threads with a timeout. Something like <code>Thread.join(long millis)</code> but for multiple threads.</p>\n\n<p>I found some posts about joining multiple threads, but not regarding joining with timeout.</p>\n\n<p>The code I'm changing is:</p>\n\n<pre><code>for (Thread thread : threads) {\n    thread.join(units.toMillis(timeout));\n}\n</code></pre>\n\n<p>But this obviously waits for each thread separately having the effect of waiting up to <code>threads.length * timeout</code>. I want to wait up to <code>timeout</code> for all threads altogether.</p>\n\n<p>What would be the right way to do this?</p>\n"},{"tags":["java","zip","java-io","outputstream","zipoutputstream"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650381152,"creation_date":1650380758,"answer_id":71927202,"question_id":71926406,"body_markdown":"I&#39;m mildly surprised that this even works.\r\n\r\nWhen your `zip()` method calls itself recursively it creates a new `FileOutputStream` with the same filename as the previous call. That means that your recursive calls write on top of each other instead of appending to a single zip file.\r\n\r\nYou should open the FileOutputStream / ZipOutputStream only once and then use it for zipping all files and directories.\r\n\r\nThat means rewriting some of your code so that at the first level of zipping you create the `zipOutputStream` and then call an internal method `zip(path, zipOutputStream)`. The recursive calls also must call this `zip(path, zipOutputStream)` method.\r\n\r\nThis will look something like\r\n\r\n    private void zip(Set&lt;String&gt; path) {\r\n        // create FileOutputStream, ZipOutputStream\r\n        ZipOutputStream zipOutputStream = new ZipOutputStream(fileOutputStream);\r\n        // call worker method\r\n        zip(path, zipOutputStream);\r\n        // close output stream\r\n        zipOutputStream.flush();\r\n        zipOutputStream.close();\r\n    }\r\n\r\n    private void zip(Set&lt;String&gt; path, ZipOutputStream zipOutputStream) {\r\n        // loop over paths\r\n            if (f.isDirectory()) {\r\n                zipOutputStream.putNextEntry(new ZipEntry(f.getName() + &quot;/&quot;));\r\n                zip(listFiles(f.getPath()), zipOutputStream);\r\n            }\r\n        // end of loop over paths\r\n    }","title":"ZipOutputStream does not create new entries for Directories","body":"<p>I'm mildly surprised that this even works.</p>\n<p>When your <code>zip()</code> method calls itself recursively it creates a new <code>FileOutputStream</code> with the same filename as the previous call. That means that your recursive calls write on top of each other instead of appending to a single zip file.</p>\n<p>You should open the FileOutputStream / ZipOutputStream only once and then use it for zipping all files and directories.</p>\n<p>That means rewriting some of your code so that at the first level of zipping you create the <code>zipOutputStream</code> and then call an internal method <code>zip(path, zipOutputStream)</code>. The recursive calls also must call this <code>zip(path, zipOutputStream)</code> method.</p>\n<p>This will look something like</p>\n<pre><code>private void zip(Set&lt;String&gt; path) {\n    // create FileOutputStream, ZipOutputStream\n    ZipOutputStream zipOutputStream = new ZipOutputStream(fileOutputStream);\n    // call worker method\n    zip(path, zipOutputStream);\n    // close output stream\n    zipOutputStream.flush();\n    zipOutputStream.close();\n}\n\nprivate void zip(Set&lt;String&gt; path, ZipOutputStream zipOutputStream) {\n    // loop over paths\n        if (f.isDirectory()) {\n            zipOutputStream.putNextEntry(new ZipEntry(f.getName() + &quot;/&quot;));\n            zip(listFiles(f.getPath()), zipOutputStream);\n        }\n    // end of loop over paths\n}\n</code></pre>\n"}],"owner":{"account_id":16447516,"reputation":135,"user_id":11881850,"display_name":"kpwn Apps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71927202,"answer_count":1,"score":0,"last_activity_date":1650381152,"creation_date":1650377499,"question_id":71926406,"body_markdown":"I am trying to create directories in a .zip file but only one directory is being created in the .zip. I&#39;m not sure why only the first directory gets created. zip() method gets called everytime theres a directory. \r\n\r\nMethod to list files: \r\n\r\n    private Set&lt;String&gt; listFiles(String path){\r\n    \r\n            File f = new File(path);\r\n            Set&lt;String&gt; files = new HashSet&lt;&gt;();\r\n    \r\n            for(File file : Objects.requireNonNull(f.listFiles())){\r\n                files.add(file.getPath());\r\n            }\r\n            return files;\r\n        }\r\n\r\nMethod to zip:\r\n\r\n     private void zip(Set&lt;String&gt; path){\r\n            try {\r\n                BufferedInputStream bufferedInputStream = null;\r\n                BufferedOutputStream bufferedOutputStream;\r\n                ZipOutputStream zipOutputStream;\r\n    \r\n                File f;\r\n    \r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n    \r\n                    bufferedOutputStream = new BufferedOutputStream(new FileOutputStream(&quot;/sdcard/Android/data/com.kpwnapps.pmmpplugins/files/PocketMine-MP/test.zip&quot;));\r\n                    zipOutputStream= new ZipOutputStream(bufferedOutputStream, StandardCharsets.UTF_8);\r\n    \r\n                    for (String file : path){\r\n    \r\n                        f = new File(file);\r\n    \r\n                        if (f.isDirectory()){\r\n                            zipOutputStream.putNextEntry(new ZipEntry(f.getName() + &quot;/&quot;));\r\n                            zip(listFiles(f.getPath()));\r\n                        }else {\r\n                          \r\n                            bufferedInputStream = new BufferedInputStream(new FileInputStream(file));\r\n                            zipOutputStream.putNextEntry(new ZipEntry(f.getName()));\r\n                            IOUtils.copy(bufferedInputStream, zipOutputStream);\r\n                            zipOutputStream.closeEntry();\r\n                        }\r\n                         */\r\n    \r\n                    }\r\n    \r\n                    if (bufferedInputStream != null){\r\n                        bufferedInputStream.close();\r\n                    }\r\n    \r\n                    zipOutputStream.flush();\r\n                    zipOutputStream.close();\r\n    \r\n                }\r\n            }catch (Exception ignored){\r\n            }\r\n    \r\n        }","title":"ZipOutputStream does not create new entries for Directories","body":"<p>I am trying to create directories in a .zip file but only one directory is being created in the .zip. I'm not sure why only the first directory gets created. zip() method gets called everytime theres a directory.</p>\n<p>Method to list files:</p>\n<pre><code>private Set&lt;String&gt; listFiles(String path){\n\n        File f = new File(path);\n        Set&lt;String&gt; files = new HashSet&lt;&gt;();\n\n        for(File file : Objects.requireNonNull(f.listFiles())){\n            files.add(file.getPath());\n        }\n        return files;\n    }\n</code></pre>\n<p>Method to zip:</p>\n<pre><code> private void zip(Set&lt;String&gt; path){\n        try {\n            BufferedInputStream bufferedInputStream = null;\n            BufferedOutputStream bufferedOutputStream;\n            ZipOutputStream zipOutputStream;\n\n            File f;\n\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n\n                bufferedOutputStream = new BufferedOutputStream(new FileOutputStream(&quot;/sdcard/Android/data/com.kpwnapps.pmmpplugins/files/PocketMine-MP/test.zip&quot;));\n                zipOutputStream= new ZipOutputStream(bufferedOutputStream, StandardCharsets.UTF_8);\n\n                for (String file : path){\n\n                    f = new File(file);\n\n                    if (f.isDirectory()){\n                        zipOutputStream.putNextEntry(new ZipEntry(f.getName() + &quot;/&quot;));\n                        zip(listFiles(f.getPath()));\n                    }else {\n                      \n                        bufferedInputStream = new BufferedInputStream(new FileInputStream(file));\n                        zipOutputStream.putNextEntry(new ZipEntry(f.getName()));\n                        IOUtils.copy(bufferedInputStream, zipOutputStream);\n                        zipOutputStream.closeEntry();\n                    }\n                     */\n\n                }\n\n                if (bufferedInputStream != null){\n                    bufferedInputStream.close();\n                }\n\n                zipOutputStream.flush();\n                zipOutputStream.close();\n\n            }\n        }catch (Exception ignored){\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1650332460,"post_id":71918581,"comment_id":127084514,"body_markdown":"`feature_obj` is already a `JSONObject`. Cast it `JSONObject feature = (JSONObject) feature_obj;`.","body":"<code>feature_obj</code> is already a <code>JSONObject</code>. Cast it <code>JSONObject feature = (JSONObject) feature_obj;</code>."}],"answers":[{"tags":[],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650332672,"creation_date":1650332672,"answer_id":71918774,"question_id":71918581,"body_markdown":"Try the below code:\r\n\r\n            JSONObject json_obj = new JSONObject(valueFromKafka);\r\n            JSONArray features = json_obj.getJSONArray(&quot;features&quot;);\r\n            for (int i = 0; i &lt; features.length(); i++) {\r\n                JSONObject feature = features.getJSONObject(i);\r\n                /*JSONObject properties = feature.getJSONObject(&quot;properties&quot;);*/\r\n                Long STATIONS_ID = feature.getJSONObject(&quot;properties&quot;).getLong(&quot;STATIONS_ID&quot;);\r\n                Long MESS_DATUM = feature.getJSONObject(&quot;properties&quot;).getLong(&quot;MESS_DATUM&quot;);\r\n                Double RWS_DAU_10 = feature.getJSONObject(&quot;properties&quot;).getDouble(&quot;RWS_DAU_10&quot;);\r\n                Long RWS_IND_10 = feature.getJSONObject(&quot;properties&quot;).getLong(&quot;RWS_IND_10&quot;);\r\n                Float RWS_10 = feature.getJSONObject(&quot;properties&quot;).getFloat(&quot;RWS_10&quot;);\r\n                JSONArray coordJson = feature.getJSONObject(&quot;geometry&quot;).getJSONArray(&quot;coordinates&quot;);\r\n                String pointWKT = &quot;POINT(&quot; + coordJson.getDouble(0) + &quot; &quot; + coordJson.getDouble(1) + &quot;)&quot;;\r\n            }","title":"org.json.JSONException: JSONObject[&quot;properties&quot;] not found","body":"<p>Try the below code:</p>\n<pre><code>        JSONObject json_obj = new JSONObject(valueFromKafka);\n        JSONArray features = json_obj.getJSONArray(&quot;features&quot;);\n        for (int i = 0; i &lt; features.length(); i++) {\n            JSONObject feature = features.getJSONObject(i);\n            /*JSONObject properties = feature.getJSONObject(&quot;properties&quot;);*/\n            Long STATIONS_ID = feature.getJSONObject(&quot;properties&quot;).getLong(&quot;STATIONS_ID&quot;);\n            Long MESS_DATUM = feature.getJSONObject(&quot;properties&quot;).getLong(&quot;MESS_DATUM&quot;);\n            Double RWS_DAU_10 = feature.getJSONObject(&quot;properties&quot;).getDouble(&quot;RWS_DAU_10&quot;);\n            Long RWS_IND_10 = feature.getJSONObject(&quot;properties&quot;).getLong(&quot;RWS_IND_10&quot;);\n            Float RWS_10 = feature.getJSONObject(&quot;properties&quot;).getFloat(&quot;RWS_10&quot;);\n            JSONArray coordJson = feature.getJSONObject(&quot;geometry&quot;).getJSONArray(&quot;coordinates&quot;);\n            String pointWKT = &quot;POINT(&quot; + coordJson.getDouble(0) + &quot; &quot; + coordJson.getDouble(1) + &quot;)&quot;;\n        }\n</code></pre>\n"}],"owner":{"account_id":14960305,"reputation":21,"user_id":11805384,"display_name":"Ellee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650380610,"creation_date":1650330273,"question_id":71918581,"body_markdown":"I am new to programming and am trying to read massages from Kafka as a whole String and convert them into a JSON object (Array) and then access each element in the JSON Array to extract the values. But it is giving me the following error: \r\n\r\n**org.json.JSONException: JSONObject[&quot;properties&quot;] not found.**\r\n\r\n**Here is my JSON Array:**\r\nPlease note that I have multiple JSON arrays like this which is why I am looping them all to iterate this process and put them each in a separate JSON Object.\r\n```\r\n{&quot;type&quot;: &quot;FeatureCollection&quot;, &quot;features&quot;: [{&quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;STATIONS_ID&quot;: 662, &quot;MESS_DATUM&quot;: 202204120000, &quot;RWS_DAU_10&quot;: 0, &quot;RWS_10&quot;: 0.0, &quot;RWS_IND_10&quot;: 0}, &quot;geometry&quot;: {&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [10.516667, 52.266666]}}]}\r\n```\r\n\r\nThis is my code:\r\n```\r\n// input massages from a Kafka topic\r\nJSONObject json_obj = new JSONObject(valueFromKafka); \r\n// Access to the JSON Array element &quot;features&quot;\r\nJSONArray jsonFeatures =  (JSONArray) objJsonObject.getJSONArray(&quot;features&quot;);\r\n\r\n// for anhanced loop to iterate this process\r\nfor (Object feature_obj : jsonFeatures) {\r\nJSONObject feature = new JSONObject(feature_obj);\r\n\r\n// access and get values from the JSON Array\r\nLong STATIONS_ID = feature.getJSONObject(&quot;properties&quot;).getLong(&quot;STATIONS_ID&quot;);\r\nLong MESS_DATUM = feature.getJSONObject(&quot;properties&quot;).getLong(&quot;MESS_DATUM&quot;);\r\nDouble RWS_DAU_10 = feature.getJSONObject(&quot;properties&quot;).getDouble(&quot;RWS_DAU_10&quot;);\r\nLong RWS_IND_10 = feature.getJSONObject(&quot;properties&quot;).getLong(&quot;RWS_IND_10&quot;);\r\nFloat RWS_10 = feature.getJSONObject(&quot;properties&quot;).getFloat(&quot;RWS_10&quot;);\r\nJSONArray coordJson = feature.getJSONObject(&quot;properties&quot;).getJSONObject(&quot;geometry&quot;).getJSONArray(&quot;coordinates&quot;);\r\nString pointWKT = &quot;POINT(&quot; + coordJson.getFloat(0) + &quot; &quot; + coordJson.getFloat(1) + &quot;)&quot;;\r\n```","title":"org.json.JSONException: JSONObject[&quot;properties&quot;] not found","body":"<p>I am new to programming and am trying to read massages from Kafka as a whole String and convert them into a JSON object (Array) and then access each element in the JSON Array to extract the values. But it is giving me the following error:</p>\n<p><strong>org.json.JSONException: JSONObject[&quot;properties&quot;] not found.</strong></p>\n<p><strong>Here is my JSON Array:</strong>\nPlease note that I have multiple JSON arrays like this which is why I am looping them all to iterate this process and put them each in a separate JSON Object.</p>\n<pre><code>{&quot;type&quot;: &quot;FeatureCollection&quot;, &quot;features&quot;: [{&quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;STATIONS_ID&quot;: 662, &quot;MESS_DATUM&quot;: 202204120000, &quot;RWS_DAU_10&quot;: 0, &quot;RWS_10&quot;: 0.0, &quot;RWS_IND_10&quot;: 0}, &quot;geometry&quot;: {&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [10.516667, 52.266666]}}]}\n</code></pre>\n<p>This is my code:</p>\n<pre><code>// input massages from a Kafka topic\nJSONObject json_obj = new JSONObject(valueFromKafka); \n// Access to the JSON Array element &quot;features&quot;\nJSONArray jsonFeatures =  (JSONArray) objJsonObject.getJSONArray(&quot;features&quot;);\n\n// for anhanced loop to iterate this process\nfor (Object feature_obj : jsonFeatures) {\nJSONObject feature = new JSONObject(feature_obj);\n\n// access and get values from the JSON Array\nLong STATIONS_ID = feature.getJSONObject(&quot;properties&quot;).getLong(&quot;STATIONS_ID&quot;);\nLong MESS_DATUM = feature.getJSONObject(&quot;properties&quot;).getLong(&quot;MESS_DATUM&quot;);\nDouble RWS_DAU_10 = feature.getJSONObject(&quot;properties&quot;).getDouble(&quot;RWS_DAU_10&quot;);\nLong RWS_IND_10 = feature.getJSONObject(&quot;properties&quot;).getLong(&quot;RWS_IND_10&quot;);\nFloat RWS_10 = feature.getJSONObject(&quot;properties&quot;).getFloat(&quot;RWS_10&quot;);\nJSONArray coordJson = feature.getJSONObject(&quot;properties&quot;).getJSONObject(&quot;geometry&quot;).getJSONArray(&quot;coordinates&quot;);\nString pointWKT = &quot;POINT(&quot; + coordJson.getFloat(0) + &quot; &quot; + coordJson.getFloat(1) + &quot;)&quot;;\n</code></pre>\n"},{"tags":["java","swing","netbeans"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1650387314,"post_id":71927133,"comment_id":127101093,"body_markdown":"A better solution is to NOT use the IDE to generate your code, then you are in full control of the structure of your code. Now you are spending time learning how to use the IDE instead of learning Java/Swing. If you ever switch to a different IDE the code will not be maintainable. You can still use the IDE to help structure your classes and compile, test and debug.","body":"A better solution is to NOT use the IDE to generate your code, then you are in full control of the structure of your code. Now you are spending time learning how to use the IDE instead of learning Java/Swing. If you ever switch to a different IDE the code will not be maintainable. You can still use the IDE to help structure your classes and compile, test and debug."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1650404457,"post_id":71927133,"comment_id":127106591,"body_markdown":"Also consider the approach suggested [here](https://stackoverflow.com/a/2561540/230513).","body":"Also consider the approach suggested <a href=\"https://stackoverflow.com/a/2561540/230513\">here</a>."}],"owner":{"account_id":10870620,"reputation":39,"user_id":7992657,"display_name":"FBGenesy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650380485,"creation_date":1650380485,"question_id":71927133,"body_markdown":"I want to customize the default add method used inside autogenerated initComponentes() function and use my own version. Specifically, I would like to add a boolean parameter to the method to perform or not perform certain operations like:\r\n```public void add(Component comp, Object constraints, boolean skip)```\r\nand use it. I tried to modify default code with Customize Code in Netbeans but the add method is not customizable. How I can do it with Netbeans (without modify autogenerated code outside)?\r\n\r\nThan you in advance!","title":"Netbeans customize add method Swing","body":"<p>I want to customize the default add method used inside autogenerated initComponentes() function and use my own version. Specifically, I would like to add a boolean parameter to the method to perform or not perform certain operations like:\n<code>public void add(Component comp, Object constraints, boolean skip)</code>\nand use it. I tried to modify default code with Customize Code in Netbeans but the add method is not customizable. How I can do it with Netbeans (without modify autogenerated code outside)?</p>\n<p>Than you in advance!</p>\n"},{"tags":["java","stored-procedures","jdbc","ojdbc"],"comments":[{"owner":{"account_id":5854892,"reputation":3571,"user_id":4612499,"display_name":"Jean de Lavarene"},"score":0,"creation_date":1650882990,"post_id":71927112,"comment_id":127220429,"body_markdown":"Which version of the driver are you using?","body":"Which version of the driver are you using?"},{"owner":{"account_id":4754685,"reputation":69,"user_id":3843722,"accept_rate":31,"display_name":"lifeline2"},"score":0,"creation_date":1651071368,"post_id":71927112,"comment_id":127275942,"body_markdown":"ojdbc 8. got it wrkng by creating an OracleStructure with type and Object[] as attribute than creating OracleArray with type and OracleStructure[] from above. The code is something like this. it.List&lt;String&gt; elements = new ArrayList();\nelements.add(&quot;1&quot;,&quot;2&quot;);\nList&lt;Object&gt; oracleArrayObject = new ArrayList&lt;&gt;();\nelements.forEach(e -&gt; {\n\t\toracleArrayObject.add(con.createStruct(&quot;Structure_TYPE_NAME&quot;,new Object[] {e}));\n});\nOracleArray createOracleArray = (OracleArray)con.createOracleArray(&quot;Array_TYPE_NAME&quot;,oracleArrayObject.toArray());\ncs.setArray(1, createOracleArray);\ncs.execute();","body":"ojdbc 8. got it wrkng by creating an OracleStructure with type and Object[] as attribute than creating OracleArray with type and OracleStructure[] from above. The code is something like this. it.List&lt;String&gt; elements = new ArrayList(); elements.add(&quot;1&quot;,&quot;2&quot;); List&lt;Object&gt; oracleArrayObject = new ArrayList&lt;&gt;(); elements.forEach(e -&gt; { \t\toracleArrayObject.add(con.createStruct(&quot;Structure_TYPE_NAM&zwnj;&#8203;E&quot;,new Object[] {e})); }); OracleArray createOracleArray = (OracleArray)con.createOracleArray(&quot;Array_TYPE_NAME&quot;,oracleA&zwnj;&#8203;rrayObject.toArray()&zwnj;&#8203;); cs.setArray(1, createOracleArray); cs.execute();"}],"owner":{"account_id":4754685,"reputation":69,"user_id":3843722,"accept_rate":31,"display_name":"lifeline2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650380402,"creation_date":1650380402,"question_id":71927112,"body_markdown":"The oracle code :\r\n\r\n    PROCEDURE get_details (\r\n            p_array     IN   XXX_TYPES,\r\n    \t\t.....\r\n    \t\t......\r\n        )\r\n\r\n where XXX_TYPES is a complex type in Oracle:\r\n\r\n        TYPE IDType\r\n        IS\r\n          RECORD\r\n          (\r\n            c_number           c_table.c_number%TYPE\r\n            );\r\n        \r\n        TYPE XXX_TYPES\r\n        IS\r\n        TABLE OF IDType;\r\n\r\nAnd the java code to set input Parameter : \r\n\r\n    //Create an array of Struct objects\r\n    Object[] array = new Object[] {&quot;1&quot;, &quot;2&quot;};\r\n    OracleStruct createStruct1 = (OracleStruct) con.createStruct(&quot;IDType&quot;, array);\r\n    Struct[] structArray = new Struct[] {createStruct1};\r\n    OracleArray createOracleArray = (OracleArray)con.createOracleArray(&quot;XXX_TYPES&quot;,structArray);\r\n    \t\t\t\r\n    //Set the input parameter\r\n    cs.setArray(1, createOracleArray);\r\n\r\nGetting exception for OracleStruct createStruct1 = (OracleStruct) con.createStruct(&quot;IDType&quot;, array); line:\r\nunexpected error - java.sql.SQLException: Inconsistent java and sql object types, for classes implementing ORAData or OracleData, respective factory classes ORADataFactory and OracleDataFactory should be registered in typeMap.\r\n\r\nLooked SOF but most of them referred to [StructDescriptor][1] which is deprecated now.\r\nappreciate any help on this or any link to setting and array as stored procedure input parameter would do.\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E18283_01/appdev.112/e13995/oracle/sql/StructDescriptor.html","title":"Unable to set Array as inputparameter to OracleCallableStatement from java","body":"<p>The oracle code :</p>\n<pre><code>PROCEDURE get_details (\n        p_array     IN   XXX_TYPES,\n        .....\n        ......\n    )\n</code></pre>\n<p>where XXX_TYPES is a complex type in Oracle:</p>\n<pre><code>    TYPE IDType\n    IS\n      RECORD\n      (\n        c_number           c_table.c_number%TYPE\n        );\n    \n    TYPE XXX_TYPES\n    IS\n    TABLE OF IDType;\n</code></pre>\n<p>And the java code to set input Parameter :</p>\n<pre><code>//Create an array of Struct objects\nObject[] array = new Object[] {&quot;1&quot;, &quot;2&quot;};\nOracleStruct createStruct1 = (OracleStruct) con.createStruct(&quot;IDType&quot;, array);\nStruct[] structArray = new Struct[] {createStruct1};\nOracleArray createOracleArray = (OracleArray)con.createOracleArray(&quot;XXX_TYPES&quot;,structArray);\n            \n//Set the input parameter\ncs.setArray(1, createOracleArray);\n</code></pre>\n<p>Getting exception for OracleStruct createStruct1 = (OracleStruct) con.createStruct(&quot;IDType&quot;, array); line:\nunexpected error - java.sql.SQLException: Inconsistent java and sql object types, for classes implementing ORAData or OracleData, respective factory classes ORADataFactory and OracleDataFactory should be registered in typeMap.</p>\n<p>Looked SOF but most of them referred to <a href=\"https://docs.oracle.com/cd/E18283_01/appdev.112/e13995/oracle/sql/StructDescriptor.html\" rel=\"nofollow noreferrer\">StructDescriptor</a> which is deprecated now.\nappreciate any help on this or any link to setting and array as stored procedure input parameter would do.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":1,"creation_date":1650379818,"post_id":71926925,"comment_id":127098204,"body_markdown":"You only sort the `score` not the `name`, then you select the values at the same position in both arrays but those values are generally not connected to each other. Think about creating a class `Wrapper` which has both a `name` and a `score` attribute and have an array of `Wrapper` and then sort that. This way you will always have the `name` and the `score` closely associated.","body":"You only sort the <code>score</code> not the <code>name</code>, then you select the values at the same position in both arrays but those values are generally not connected to each other. Think about creating a class <code>Wrapper</code> which has both a <code>name</code> and a <code>score</code> attribute and have an array of <code>Wrapper</code> and then sort that. This way you will always have the <code>name</code> and the <code>score</code> closely associated."}],"answers":[{"tags":[],"owner":{"account_id":23611897,"reputation":334,"user_id":17646774,"display_name":"Marco Balo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650380106,"creation_date":1650380106,"answer_id":71927043,"question_id":71926925,"body_markdown":"```java\r\n//Sort the array in descending order    \r\n    for (int i = 0; i &lt; score.length; i++) {     \r\n        for (int j = i+1; j &lt; score.length; j++) {     \r\n           if(score[i] &lt; score[j]) {    \r\n               temp = score[i];    \r\n               score[i] = score[j];    \r\n               score[j] = temp;    \r\n           }     \r\n        }     \r\n    }   \r\n```\r\n\r\nHere, when you sort the arrays, you only swap `score` elements. To maintain the `name`/`score` pairing you should swap even name elements:\r\n\r\n```java\r\n//Sort the array in descending order    \r\n    for (int i = 0; i &lt; score.length; i++) {     \r\n        for (int j = i+1; j &lt; score.length; j++) {     \r\n           if(score[i] &lt; score[j]) {    \r\n               temp = score[i];    \r\n               score[i] = score[j];    \r\n               score[j] = temp;\r\n               tmp = name[i]\r\n               name[i] = name[j]\r\n               name[j] = tmp\r\n           }     \r\n        }     \r\n    }   \r\n```","title":"Descening order for the string [name]","body":"<pre class=\"lang-java prettyprint-override\"><code>//Sort the array in descending order    \n    for (int i = 0; i &lt; score.length; i++) {     \n        for (int j = i+1; j &lt; score.length; j++) {     \n           if(score[i] &lt; score[j]) {    \n               temp = score[i];    \n               score[i] = score[j];    \n               score[j] = temp;    \n           }     \n        }     \n    }   \n</code></pre>\n<p>Here, when you sort the arrays, you only swap <code>score</code> elements. To maintain the <code>name</code>/<code>score</code> pairing you should swap even name elements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Sort the array in descending order    \n    for (int i = 0; i &lt; score.length; i++) {     \n        for (int j = i+1; j &lt; score.length; j++) {     \n           if(score[i] &lt; score[j]) {    \n               temp = score[i];    \n               score[i] = score[j];    \n               score[j] = temp;\n               tmp = name[i]\n               name[i] = name[j]\n               name[j] = tmp\n           }     \n        }     \n    }   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3624100,"reputation":370,"user_id":3022175,"display_name":"PeterOeClausen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650380189,"creation_date":1650380189,"answer_id":71927061,"question_id":71926925,"body_markdown":"You have two arrays, one named `name`, and one named `score`.\r\n\r\nYou only sort `score`, while making no changes to `name`.\r\n\r\nI would suggest either one of two solutions:\r\n\r\n1) Keep names and scores in objects, and store these in one array, and sort that array based on scores.\r\n\r\nor\r\n\r\n2) Do the same index changes to `name` as you do to `score`.\r\n\r\nI would suggest trying to implement number 1, as name and score are conceptually part of the same object, like &quot;age&quot; and &quot;name&quot; would be for an object representing a &quot;person&quot;.\r\n\r\nHope this helps, good luck with your assignment :-)","title":"Descening order for the string [name]","body":"<p>You have two arrays, one named <code>name</code>, and one named <code>score</code>.</p>\n<p>You only sort <code>score</code>, while making no changes to <code>name</code>.</p>\n<p>I would suggest either one of two solutions:</p>\n<ol>\n<li>Keep names and scores in objects, and store these in one array, and sort that array based on scores.</li>\n</ol>\n<p>or</p>\n<ol start=\"2\">\n<li>Do the same index changes to <code>name</code> as you do to <code>score</code>.</li>\n</ol>\n<p>I would suggest trying to implement number 1, as name and score are conceptually part of the same object, like &quot;age&quot; and &quot;name&quot; would be for an object representing a &quot;person&quot;.</p>\n<p>Hope this helps, good luck with your assignment :-)</p>\n"}],"owner":{"account_id":20869581,"reputation":5,"user_id":15329858,"display_name":"xKD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71927061,"answer_count":2,"score":0,"last_activity_date":1650380189,"creation_date":1650379603,"question_id":71926925,"body_markdown":"   help please on sorting string according to the top number/score (btw according to our instructor, we can&#39;t use &quot;arrays.sort&quot;)\r\n\r\n \r\n\r\n    package test;\r\n    import java.util.Scanner;\r\n    \r\n    public class Test\r\n    {\r\n    \r\n    public static void main(String[] args) {   \r\n\r\n     \r\n        \r\n        Scanner sc = new Scanner(System.in);\r\n        String [] name = new String[10];\r\n        int [] score = new int [10];     \r\n        int temp = 0;    \r\n            \r\n        //Displaying elements of original array \r\n        for (int i = 0; i &lt; 10; i++) {  \r\n        System.out.println(&quot;\\nNumber &quot; + (i+1));\r\n        System.out.print(&quot;Input your name: &quot;);\r\n            name[i] = sc.next();\r\n        System.out.print(&quot;Input your score: &quot;);\r\n            score[i] = sc.nextInt();\r\n        }    \r\n            \r\n        //Sort the array in descending order    \r\n        for (int i = 0; i &lt; score.length; i++) {     \r\n            for (int j = i+1; j &lt; score.length; j++) {     \r\n               if(score[i] &lt; score[j]) {    \r\n                   temp = score[i];    \r\n                   score[i] = score[j];    \r\n                   score[j] = temp;    \r\n               }     \r\n            }     \r\n        }    \r\n            \r\n        System.out.println();    \r\n            \r\n        //Displaying elements of array after sorting    \r\n        System.out.println(&quot;Elements of array sorted in descending order: &quot;);    \r\n        for (int i = 0; i &lt; 3; i++) {     \r\n            System.out.println(&quot;the score of &quot; + name[i] + &quot; is &quot; +score[i] + &quot;. &quot;);    \r\n        }    \r\n    }    \r\n}\r\n\r\n\r\nThe example Input is like this\r\n\r\n    k1 96\r\n    k2 92\r\n    k3 94\r\n    k4 98\r\n    k5 91\r\n    k6 95\r\n    k7 90\r\n    k8 99\r\n    k9 93\r\n    k10 97\r\n\r\n  The desired output that I want is like this\r\n\r\n    k8 99\r\n    k4 98\r\n    k10 97\r\n\r\nBut what happens is:\r\n\r\n    k1 99\r\n    k2 98\r\n    k3 97\r\n\r\nplease help, would love a simple explanation. Thank you.","title":"Descening order for the string [name]","body":"<p>help please on sorting string according to the top number/score (btw according to our instructor, we can't use &quot;arrays.sort&quot;)</p>\n<pre><code>package test;\nimport java.util.Scanner;\n\npublic class Test\n{\n\npublic static void main(String[] args) {   \n\n \n    \n    Scanner sc = new Scanner(System.in);\n    String [] name = new String[10];\n    int [] score = new int [10];     \n    int temp = 0;    \n        \n    //Displaying elements of original array \n    for (int i = 0; i &lt; 10; i++) {  \n    System.out.println(&quot;\\nNumber &quot; + (i+1));\n    System.out.print(&quot;Input your name: &quot;);\n        name[i] = sc.next();\n    System.out.print(&quot;Input your score: &quot;);\n        score[i] = sc.nextInt();\n    }    \n        \n    //Sort the array in descending order    \n    for (int i = 0; i &lt; score.length; i++) {     \n        for (int j = i+1; j &lt; score.length; j++) {     \n           if(score[i] &lt; score[j]) {    \n               temp = score[i];    \n               score[i] = score[j];    \n               score[j] = temp;    \n           }     \n        }     \n    }    \n        \n    System.out.println();    \n        \n    //Displaying elements of array after sorting    \n    System.out.println(&quot;Elements of array sorted in descending order: &quot;);    \n    for (int i = 0; i &lt; 3; i++) {     \n        System.out.println(&quot;the score of &quot; + name[i] + &quot; is &quot; +score[i] + &quot;. &quot;);    \n    }    \n}    \n</code></pre>\n<p>}</p>\n<p>The example Input is like this</p>\n<pre><code>k1 96\nk2 92\nk3 94\nk4 98\nk5 91\nk6 95\nk7 90\nk8 99\nk9 93\nk10 97\n</code></pre>\n<p>The desired output that I want is like this</p>\n<pre><code>k8 99\nk4 98\nk10 97\n</code></pre>\n<p>But what happens is:</p>\n<pre><code>k1 99\nk2 98\nk3 97\n</code></pre>\n<p>please help, would love a simple explanation. Thank you.</p>\n"},{"tags":["java","eclipse","formatting"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1650379683,"post_id":71926568,"comment_id":127098145,"body_markdown":"For what language? It matters.","body":"For what language? It matters."},{"owner":{"account_id":6500168,"reputation":930,"user_id":5116356,"accept_rate":100,"display_name":"luca.vercelli"},"score":0,"creation_date":1650379975,"post_id":71926568,"comment_id":127098274,"body_markdown":"Sorry! I am talking about Java, I will edit my post.","body":"Sorry! I am talking about Java, I will edit my post."},{"owner":{"account_id":3270033,"reputation":193,"user_id":2753620,"display_name":"Kenneth Ong"},"score":0,"creation_date":1650381557,"post_id":71926568,"comment_id":127098940,"body_markdown":"I don&#39;t think eclipse has &quot;invert selection&quot;. Basically you can do it the other way round, just select lines that you need to format then Ctrl+Shift+F","body":"I don&#39;t think eclipse has &quot;invert selection&quot;. Basically you can do it the other way round, just select lines that you need to format then Ctrl+Shift+F"},{"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"score":0,"creation_date":1650387102,"post_id":71926568,"comment_id":127101022,"body_markdown":"Please elaborate on your question properly and mention your triggering point to get the answer.","body":"Please elaborate on your question properly and mention your triggering point to get the answer."}],"owner":{"account_id":6500168,"reputation":930,"user_id":5116356,"accept_rate":100,"display_name":"luca.vercelli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650440590,"answer_count":0,"score":0,"last_activity_date":1650379999,"creation_date":1650378178,"question_id":71926568,"body_markdown":"I often use `Ctrl+Shift+F` in Eclipse to format Java source code.\r\n\r\nHowever in some situations I would like that some portions of code were not formatted, e.g. some long CLI commands inside comments.\r\n\r\nSo, I would like to tell Eclipse: *&quot;whenever I hit `Ctrl+Shift+F`, please format all lines of code except for x-y-z&quot;*.\r\n\r\n\r\nIs it possible?","title":"How to force Eclipse not to format portions of code?","body":"<p>I often use <code>Ctrl+Shift+F</code> in Eclipse to format Java source code.</p>\n<p>However in some situations I would like that some portions of code were not formatted, e.g. some long CLI commands inside comments.</p>\n<p>So, I would like to tell Eclipse: <em>&quot;whenever I hit <code>Ctrl+Shift+F</code>, please format all lines of code except for x-y-z&quot;</em>.</p>\n<p>Is it possible?</p>\n"},{"tags":["java","javafx","filter","tableview","nstableviewcell"],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1569452684,"creation_date":1569452684,"answer_id":58107602,"question_id":58106199,"body_markdown":"Yes as you mentioned the problem is from updateItem method. TableView (acutally VirtualFlow) is rendered by using same rows/cells to avoid performance issues. The row/cell updateItem will be called based on the provided item. In your case, you only added to update the cell if the item is present and ignored it when it is empty. So the cell will not get updated for empty rows.\r\n\r\nTo fix your issue.. you need to add the **else condition**.\r\n\r\n    colQuanJour.setCellFactory( \r\n                   new Callback&lt;TableColumn&lt;Log,Integer&gt;,TableCell&lt;Log,Integer&gt;&gt;(){\r\n               @Override\r\n               public TableCell&lt;Log, Integer&gt; call(TableColumn&lt;Log, Integer&gt; param) {\r\n                  return new TableCell&lt;Log, Integer&gt;(){\r\n                      @Override\r\n                      protected void updateItem(Integer item, boolean empty) {\r\n                          if( ! empty){\r\n                              // Your code...\r\n                              setText(Char+val);\r\n                          }else{\r\n                              setText(null); // This will clear the text for empty rows\r\n                          }\r\n                      }\r\n                  };\r\n               }\r\n            });","title":"Filter a tableView leaves some data in a specific column","body":"<p>Yes as you mentioned the problem is from updateItem method. TableView (acutally VirtualFlow) is rendered by using same rows/cells to avoid performance issues. The row/cell updateItem will be called based on the provided item. In your case, you only added to update the cell if the item is present and ignored it when it is empty. So the cell will not get updated for empty rows.</p>\n\n<p>To fix your issue.. you need to add the <strong>else condition</strong>.</p>\n\n<pre><code>colQuanJour.setCellFactory( \n               new Callback&lt;TableColumn&lt;Log,Integer&gt;,TableCell&lt;Log,Integer&gt;&gt;(){\n           @Override\n           public TableCell&lt;Log, Integer&gt; call(TableColumn&lt;Log, Integer&gt; param) {\n              return new TableCell&lt;Log, Integer&gt;(){\n                  @Override\n                  protected void updateItem(Integer item, boolean empty) {\n                      if( ! empty){\n                          // Your code...\n                          setText(Char+val);\n                      }else{\n                          setText(null); // This will clear the text for empty rows\n                      }\n                  }\n              };\n           }\n        });\n</code></pre>\n"}],"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58107602,"answer_count":1,"score":0,"last_activity_date":1650379948,"creation_date":1569443827,"question_id":58106199,"body_markdown":"I have made my table view with column and everything works fine.\r\n\r\njust one thing that I have remarked is that when I filter rows, some data stay in a column that I have defined its cellFactory.\r\n\r\nImage showing the problem:  \r\n[![enter image description here][1]][1]\r\n\r\ncode of the column:\r\n\r\n     @FXML\r\n            private TableColumn&lt;Log, Integer&gt; colQuanJour;\r\n\r\n    colQuanJour.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;quantite&quot;));\r\n\r\nCellFactory to add color and character (+ or -)\r\n\r\n    colQuanJour.setCellFactory( \r\n                   new Callback&lt;TableColumn&lt;Log,Integer&gt;,TableCell&lt;Log,Integer&gt;&gt;(){\r\n               @Override\r\n               public TableCell&lt;Log, Integer&gt; call(TableColumn&lt;Log, Integer&gt; param) {\r\n                  return new TableCell&lt;Log, Integer&gt;(){\r\n                      @Override\r\n                      protected void updateItem(Integer item, boolean empty) {\r\n                          if( ! empty){\r\n                             \r\n                              int currIndex = indexProperty().getValue() &lt; 0 ? 0 \r\n                                      : indexProperty().getValue();\r\n                              \r\n                              int operIndex = param.getTableView().getItems().get(currIndex).getOperation().getId_operation();\r\n                              setStyle(&quot;-fx-font-weight: bold&quot;);\r\n                              String Char ;\r\n                              if(operIndex == 2){\r\n                                  setStyle(&quot;-fx-font-size : 16px&quot;);\r\n                                  setStyle(&quot;-fx-text-fill : red&quot;);\r\n                                   Char = &quot;-&quot;;\r\n                              }else {\r\n                                  setStyle(&quot;-fx-font-size : 16px&quot;);\r\n                                  setStyle(&quot;-fx-text-fill : green&quot;);\r\n                                   Char = &quot;+&quot;;\r\n                              }\r\n                              String val = String.valueOf(param.getTableView().getItems().get(currIndex).getQuantite());\r\n                              setText(Char+val);\r\n                          }\r\n                      }\r\n                      \r\n                  };\r\n                   \r\n               }\r\n            \r\n            });\r\n\r\nLog is a pojo that contains a property quantity (SimpleIntegerProperty).\r\n\r\nand my table is \r\n\r\n    TableView&lt;Log&gt; tblart;\r\n\r\nfunction to filter: \r\n\r\nthis function takes the value from the comboBox to choose which column to use to filter, by default it filter from all the table as shown below: \r\n\r\n       void filterOneJour(String id,String newVal){\r\n        ObservableList&lt;Log&gt; obsList = FXCollections.observableArrayList();\r\n\r\n        for(Log jour : tblJour.getItems()){\r\n                    String num = String.valueOf(jour.getNum());\r\n                    String qte = String.valueOf(jour.        \r\n                    switch(id){\r\n            \r\n                        case &quot;Num&#233;ro&quot; : \r\n                            if(num.toUpperCase().contains(newVal))\r\n                                obsList.add(jour);break;\r\n                      \r\n                        case &quot;Quantit&#233;&quot;:\r\n                            if(qte.toUpperCase().contains(newVal))\r\n                                obsList.add(jour);break;\r\n                      \r\n                        default : \r\n                            if(num.toUpperCase().contains( qte.toUpperCase().contains(newVal) )\r\n                                obsList.add(jour);\r\n                    }         \r\n        }\r\n        tblJour.setItems(obsList);\r\n                \r\n    }\r\n\r\nSo I hope that Everything is clear, I think the problem come from cellFactory and more exactly the updateItem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mw0bt.png","title":"Filter a tableView leaves some data in a specific column","body":"<p>I have made my table view with column and everything works fine.</p>\n<p>just one thing that I have remarked is that when I filter rows, some data stay in a column that I have defined its cellFactory.</p>\n<p>Image showing the problem:<br />\n<a href=\"https://i.stack.imgur.com/mw0bt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mw0bt.png\" alt=\"enter image description here\" /></a></p>\n<p>code of the column:</p>\n<pre><code> @FXML\n        private TableColumn&lt;Log, Integer&gt; colQuanJour;\n\ncolQuanJour.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;quantite&quot;));\n</code></pre>\n<p>CellFactory to add color and character (+ or -)</p>\n<pre><code>colQuanJour.setCellFactory( \n               new Callback&lt;TableColumn&lt;Log,Integer&gt;,TableCell&lt;Log,Integer&gt;&gt;(){\n           @Override\n           public TableCell&lt;Log, Integer&gt; call(TableColumn&lt;Log, Integer&gt; param) {\n              return new TableCell&lt;Log, Integer&gt;(){\n                  @Override\n                  protected void updateItem(Integer item, boolean empty) {\n                      if( ! empty){\n                         \n                          int currIndex = indexProperty().getValue() &lt; 0 ? 0 \n                                  : indexProperty().getValue();\n                          \n                          int operIndex = param.getTableView().getItems().get(currIndex).getOperation().getId_operation();\n                          setStyle(&quot;-fx-font-weight: bold&quot;);\n                          String Char ;\n                          if(operIndex == 2){\n                              setStyle(&quot;-fx-font-size : 16px&quot;);\n                              setStyle(&quot;-fx-text-fill : red&quot;);\n                               Char = &quot;-&quot;;\n                          }else {\n                              setStyle(&quot;-fx-font-size : 16px&quot;);\n                              setStyle(&quot;-fx-text-fill : green&quot;);\n                               Char = &quot;+&quot;;\n                          }\n                          String val = String.valueOf(param.getTableView().getItems().get(currIndex).getQuantite());\n                          setText(Char+val);\n                      }\n                  }\n                  \n              };\n               \n           }\n        \n        });\n</code></pre>\n<p>Log is a pojo that contains a property quantity (SimpleIntegerProperty).</p>\n<p>and my table is</p>\n<pre><code>TableView&lt;Log&gt; tblart;\n</code></pre>\n<p>function to filter:</p>\n<p>this function takes the value from the comboBox to choose which column to use to filter, by default it filter from all the table as shown below:</p>\n<pre><code>   void filterOneJour(String id,String newVal){\n    ObservableList&lt;Log&gt; obsList = FXCollections.observableArrayList();\n\n    for(Log jour : tblJour.getItems()){\n                String num = String.valueOf(jour.getNum());\n                String qte = String.valueOf(jour.        \n                switch(id){\n        \n                    case &quot;Numéro&quot; : \n                        if(num.toUpperCase().contains(newVal))\n                            obsList.add(jour);break;\n                  \n                    case &quot;Quantité&quot;:\n                        if(qte.toUpperCase().contains(newVal))\n                            obsList.add(jour);break;\n                  \n                    default : \n                        if(num.toUpperCase().contains( qte.toUpperCase().contains(newVal) )\n                            obsList.add(jour);\n                }         \n    }\n    tblJour.setItems(obsList);\n            \n}\n</code></pre>\n<p>So I hope that Everything is clear, I think the problem come from cellFactory and more exactly the updateItem.</p>\n"},{"tags":["java","spring","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":19749931,"reputation":23,"user_id":14461497,"display_name":"Enbidi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650379879,"creation_date":1650379879,"answer_id":71926994,"question_id":71288816,"body_markdown":"I had the same issue and I solved it by access my github profile and update my name (In my case I didn&#39;t provide it)!","title":"Spring OAuth2 name always null","body":"<p>I had the same issue and I solved it by access my github profile and update my name (In my case I didn't provide it)!</p>\n"}],"owner":{"account_id":17147449,"reputation":354,"user_id":12410126,"display_name":"amy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650379879,"creation_date":1645999498,"question_id":71288816,"body_markdown":"New to OAuth2 and Spring framework. Have followed two introduction guides to it so far (for example [this](https://spring.io/guides/tutorials/spring-boot-oauth2/) one) and the `OAuth2User` object (org.springframework.security.oauth2.core.user.OAuth2User) always has a null value for the &quot;name&quot; attribute which, as following along with the tutorials, should not be null apparently. Ended up cloning the repo just to make sure I had identical code and value was still null.\r\n\r\n```\r\n@SpringBootApplication\r\n@RestController\r\npublic class SocialApplication extends WebSecurityConfigurerAdapter {\r\n\r\n\t@GetMapping(&quot;/user&quot;)\r\n\tpublic Map&lt;String, Object&gt; user(@AuthenticationPrincipal OAuth2User principal) {\r\n\t\t\r\n//\t\tfor(String key : principal.getAttributes().keySet()) {\r\n//\t\t\tSystem.out.println(String.format(&quot;key= %s value=%s&quot;, key, principal.getAttribute(key)));\r\n//\t\t}\r\n\t\treturn Collections.singletonMap(&quot;name&quot;, principal.getAttribute(&quot;name&quot;));\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t// @formatter:off\r\n\t\thttp\r\n\t\t\t.authorizeRequests(a -&gt; a\r\n\t\t\t\t.antMatchers(&quot;/&quot;, &quot;/error&quot;, &quot;/webjars/**&quot;).permitAll()\r\n\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t)\r\n\t\t\t.exceptionHandling(e -&gt; e\r\n\t\t\t\t.authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\r\n\t\t\t)\r\n\t\t\t.oauth2Login();\r\n\t\t// @formatter:on\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SocialApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SocialApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nUncommenting the for loop above revleals most keys fetched from `principle.getAttributes()` to be null (including *name*, *email* etc). Not clear to me what I&#39;m doing wrong here - I have clientId and clientSecret (obtained by creating github OAuth app) configured correctly in my properties fie. Any help would be much appreciated \r\n","title":"Spring OAuth2 name always null","body":"<p>New to OAuth2 and Spring framework. Have followed two introduction guides to it so far (for example <a href=\"https://spring.io/guides/tutorials/spring-boot-oauth2/\" rel=\"nofollow noreferrer\">this</a> one) and the <code>OAuth2User</code> object (org.springframework.security.oauth2.core.user.OAuth2User) always has a null value for the &quot;name&quot; attribute which, as following along with the tutorials, should not be null apparently. Ended up cloning the repo just to make sure I had identical code and value was still null.</p>\n<pre><code>@SpringBootApplication\n@RestController\npublic class SocialApplication extends WebSecurityConfigurerAdapter {\n\n    @GetMapping(&quot;/user&quot;)\n    public Map&lt;String, Object&gt; user(@AuthenticationPrincipal OAuth2User principal) {\n        \n//      for(String key : principal.getAttributes().keySet()) {\n//          System.out.println(String.format(&quot;key= %s value=%s&quot;, key, principal.getAttribute(key)));\n//      }\n        return Collections.singletonMap(&quot;name&quot;, principal.getAttribute(&quot;name&quot;));\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // @formatter:off\n        http\n            .authorizeRequests(a -&gt; a\n                .antMatchers(&quot;/&quot;, &quot;/error&quot;, &quot;/webjars/**&quot;).permitAll()\n                .anyRequest().authenticated()\n            )\n            .exceptionHandling(e -&gt; e\n                .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\n            )\n            .oauth2Login();\n        // @formatter:on\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(SocialApplication.class, args);\n    }\n\n}\n\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(SocialApplication.class, args);\n    }\n}\n</code></pre>\n<p>Uncommenting the for loop above revleals most keys fetched from <code>principle.getAttributes()</code> to be null (including <em>name</em>, <em>email</em> etc). Not clear to me what I'm doing wrong here - I have clientId and clientSecret (obtained by creating github OAuth app) configured correctly in my properties fie. Any help would be much appreciated</p>\n"},{"tags":["java","android","arrays","sorting","indexing"],"comments":[{"owner":{"account_id":944073,"reputation":6184,"user_id":971683,"accept_rate":83,"display_name":"h4ck3d"},"score":0,"creation_date":1361820511,"post_id":15074837,"comment_id":21200112,"body_markdown":"Please post your LogCat output","body":"Please post your LogCat output"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1361820652,"post_id":15074837,"comment_id":21200188,"body_markdown":"I believe this is known as an &quot;index sort&quot;.","body":"I believe this is known as an &quot;index sort&quot;."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1361821624,"creation_date":1361820803,"answer_id":15074961,"question_id":15074837,"body_markdown":"This is a design smell. You shouldn&#39;t have two parallel arrays. Instead, you should have a single array of Player objects, where each Player would have a name and a score.\r\n\r\nStoring the arra of players by name or by score would then be extremely simple.\r\n\r\nJava is an OO language. Use objects.\r\n\r\n    public class Player\r\n        private final String name;\r\n        private int score;\r\n    \r\n        public Player(String name, int score) {\r\n            this.name = name;\r\n            this.score = score;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public int getScore() {\r\n            return score;\r\n        }\r\n        \r\n        public void setScore(int score) {\r\n            this.score = score;\r\n        }\r\n    }\r\n\r\n    ...\r\n    Player[] players = new Player[4];\r\n    players[0] = new Player(&quot;player1&quot;, 10);\r\n    ...\r\n","title":"Sorting an array of integers in descending order and relating it to its corresponding string array","body":"<p>This is a design smell. You shouldn't have two parallel arrays. Instead, you should have a single array of Player objects, where each Player would have a name and a score.</p>\n\n<p>Storing the arra of players by name or by score would then be extremely simple.</p>\n\n<p>Java is an OO language. Use objects.</p>\n\n<pre><code>public class Player\n    private final String name;\n    private int score;\n\n    public Player(String name, int score) {\n        this.name = name;\n        this.score = score;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public int getScore() {\n        return score;\n    }\n\n    public void setScore(int score) {\n        this.score = score;\n    }\n}\n\n...\nPlayer[] players = new Player[4];\nplayers[0] = new Player(\"player1\", 10);\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1361821019,"creation_date":1361821019,"answer_id":15075012,"question_id":15074837,"body_markdown":"you need to associate the score and the user name.  Currently, you are associating them by array index.  when you sort the scores, the indices of the scores will change.\r\n\r\nTry something like this:\r\n\r\n    class Score implements Comparable&lt;Score&gt;\r\n    {\r\n      int score;\r\n      String player;\r\n\r\n      public Score(int theScore, String thePlayer)\r\n      {\r\n        score = theScore;\r\n        player = thePlayer;\r\n      }\r\n\r\n      public int compareTo(Score)\r\n      {\r\n        ... compare based on the int score value ...\r\n      }\r\n\r\n      ... getters.  setters optional ...\r\n    }\r\n\r\n    List&lt;Score&gt; scoreList = new ArrayList&lt;Score&gt;();\r\n\r\n    ... fill scoreList with Score objects. ...\r\n\r\n    Collections.sort(scoreList);","title":"Sorting an array of integers in descending order and relating it to its corresponding string array","body":"<p>you need to associate the score and the user name.  Currently, you are associating them by array index.  when you sort the scores, the indices of the scores will change.</p>\n\n<p>Try something like this:</p>\n\n<pre><code>class Score implements Comparable&lt;Score&gt;\n{\n  int score;\n  String player;\n\n  public Score(int theScore, String thePlayer)\n  {\n    score = theScore;\n    player = thePlayer;\n  }\n\n  public int compareTo(Score)\n  {\n    ... compare based on the int score value ...\n  }\n\n  ... getters.  setters optional ...\n}\n\nList&lt;Score&gt; scoreList = new ArrayList&lt;Score&gt;();\n\n... fill scoreList with Score objects. ...\n\nCollections.sort(scoreList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2398782,"reputation":420,"user_id":2097015,"accept_rate":38,"display_name":"ako"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1361823220,"creation_date":1361823220,"answer_id":15075618,"question_id":15074837,"body_markdown":"Create Player model which holds player&#39;s name and score and then use Comparator to sort players by score.\r\n\r\nPlayer model:\r\n\r\n    class Player {\r\n\r\n    private String name;\r\n\r\n    private int score;\r\n\r\n    public Player(String name, int score) {\r\n        this.name = name;\r\n        this.score = score;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public int getScore() {\r\n        return score;\r\n    }\r\n\r\n    public String toString() {\r\n        return &quot;name=&quot; + name + &quot;; score=&quot; + score;\r\n    }\r\n}\r\n\r\nComparator:\r\n\r\n    class PlayerComparator implements Comparator&lt;Player&gt; {\r\n    public int compare(Player p1, Player p2) {\r\n        return p1.getScore() &lt; p2.getScore() ? -1\r\n                : p1.getScore() &gt; p2.getScore() ? 1 : 0;\r\n    }\r\n}\r\n\r\nAnd an example of usage:\r\n\r\n    public class PlayerTest {\r\n\r\n    public static void main(String[] args) {\r\n        int score[]= new int[4];\r\n        score[0]= 10;\r\n        score[1]= 50;\r\n        score[2]= 20;\r\n        score[3]= 60;\r\n\r\n        String names[] = new String[4];\r\n        names[0]= &quot;player1&quot;;\r\n        names[1]= &quot;player2&quot;;\r\n        names[2]= &quot;player3&quot;;\r\n        names[3]= &quot;player4&quot;;\r\n\r\n        Player[] players = new Player[names.length];\r\n        for(int i = 0; i &lt; names.length; i++) {\r\n            players[i] = new Player(names[i], score[i]);\r\n        }\r\n\r\n        Arrays.sort(players, new PlayerComparator());\r\n\r\n    }\r\n}","title":"Sorting an array of integers in descending order and relating it to its corresponding string array","body":"<p>Create Player model which holds player's name and score and then use Comparator to sort players by score.</p>\n\n<p>Player model:</p>\n\n<pre><code>class Player {\n\nprivate String name;\n\nprivate int score;\n\npublic Player(String name, int score) {\n    this.name = name;\n    this.score = score;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic int getScore() {\n    return score;\n}\n\npublic String toString() {\n    return \"name=\" + name + \"; score=\" + score;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Comparator:</p>\n\n<pre><code>class PlayerComparator implements Comparator&lt;Player&gt; {\npublic int compare(Player p1, Player p2) {\n    return p1.getScore() &lt; p2.getScore() ? -1\n            : p1.getScore() &gt; p2.getScore() ? 1 : 0;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And an example of usage:</p>\n\n<pre><code>public class PlayerTest {\n\npublic static void main(String[] args) {\n    int score[]= new int[4];\n    score[0]= 10;\n    score[1]= 50;\n    score[2]= 20;\n    score[3]= 60;\n\n    String names[] = new String[4];\n    names[0]= \"player1\";\n    names[1]= \"player2\";\n    names[2]= \"player3\";\n    names[3]= \"player4\";\n\n    Player[] players = new Player[names.length];\n    for(int i = 0; i &lt; names.length; i++) {\n        players[i] = new Player(names[i], score[i]);\n    }\n\n    Arrays.sort(players, new PlayerComparator());\n\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":2373459,"reputation":35,"user_id":2077503,"accept_rate":70,"display_name":"chArm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2489,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":15075618,"answer_count":3,"score":1,"last_activity_date":1650379636,"creation_date":1361820403,"question_id":15074837,"body_markdown":"I am trying to output the names and corresponding scores in descending order. Having an array of strings and another array of integers, I am trying to relate the two arrays. I used *Arrays.sort* and tries to get the indices. The indices is then to be used to arrange the names in similar location as the corresponding scores. I have this code but I get run time error saying *unfortunately, your app has stopped*. Can anyone please help me on what to be done to achieve my goal here? Thank you so much!\r\n\r\n\r\n\r\n\r\n               int score[]= new int[4];\r\n\t\t        score[0]= 10;\r\n\t\t        score[1]= 50;\t\t        \r\n                score[2]= 20;\r\n\t\t        score[3]= 60;\r\n\t\t       String names[] = new String[4];\r\n\t\t        names[0]= &quot;player1&quot;;\r\n\t\t        names[1]= &quot;player2&quot;;\r\n\t\t        names[2]= &quot;player3&quot;;\r\n\t\t        names[3]= &quot;player4&quot;;\r\n\t\t        \r\n                Arrays.sort(score);\r\n\t\t        int index_array[] = new int[4];\r\n\t\t        int m = 0;\r\n\t\t        for(m = 0; m &lt;4; m++){\r\n\t\t        \tindex_array[m]=Arrays.binarySearch(score ,score[m]);\r\n\t\t        \tl = index_array[0];\r\n\t\t        \t\r\n\t\t        \t\r\n\t\t        }\r\n\t\t        for(int i = 0; i&lt;4; i++){\r\n\t\t        \tif(l == score[i]){\r\n\t\t        \t\tj = i;\r\n\t\t        \t}\r\n\t\t        }\r\n\t\t        String name = names[m];\r\n\t\t        show.setText(name + &quot; &quot; + Integer.toString(l));","title":"Sorting an array of integers in descending order and relating it to its corresponding string array","body":"<p>I am trying to output the names and corresponding scores in descending order. Having an array of strings and another array of integers, I am trying to relate the two arrays. I used <em>Arrays.sort</em> and tries to get the indices. The indices is then to be used to arrange the names in similar location as the corresponding scores. I have this code but I get run time error saying <em>unfortunately, your app has stopped</em>. Can anyone please help me on what to be done to achieve my goal here? Thank you so much!</p>\n\n<pre><code>           int score[]= new int[4];\n            score[0]= 10;\n            score[1]= 50;               \n            score[2]= 20;\n            score[3]= 60;\n           String names[] = new String[4];\n            names[0]= \"player1\";\n            names[1]= \"player2\";\n            names[2]= \"player3\";\n            names[3]= \"player4\";\n\n            Arrays.sort(score);\n            int index_array[] = new int[4];\n            int m = 0;\n            for(m = 0; m &lt;4; m++){\n                index_array[m]=Arrays.binarySearch(score ,score[m]);\n                l = index_array[0];\n\n\n            }\n            for(int i = 0; i&lt;4; i++){\n                if(l == score[i]){\n                    j = i;\n                }\n            }\n            String name = names[m];\n            show.setText(name + \" \" + Integer.toString(l));\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7636556,"reputation":385,"user_id":5789945,"display_name":"tiborK"},"score":0,"creation_date":1560200893,"post_id":56533358,"comment_id":99650269,"body_markdown":"Can you add more code so we can analyze it?","body":"Can you add more code so we can analyze it?"},{"owner":{"account_id":413049,"reputation":1517,"user_id":786462,"display_name":"DataDino"},"score":0,"creation_date":1560206070,"post_id":56533358,"comment_id":99651619,"body_markdown":"Check that `R.id.unitads` is actually a `LinearLayout`.","body":"Check that <code>R.id.unitads</code> is actually a <code>LinearLayout</code>."}],"answers":[{"tags":[],"owner":{"account_id":6302644,"reputation":5803,"user_id":4896784,"display_name":"ismail alaoui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650379457,"creation_date":1560205502,"answer_id":56534246,"question_id":56533358,"body_markdown":"your are initializing your widget (button , linearlayout, .... ) with incompatible variable , you need to cast them to the right widget type , i guess you are initializing your widgets this way :\r\n\r\n    Button start = findViewById(R.id.start) ; \r\n\r\nand you should do this : \r\n\r\n    Button start = (Button) findViewById(R.id.start) ; \r\n\r\nthe way you are doing it is wrong , but you can use them if you are using `buildToolsVersion 26` or higher\r\n","title":"incompatible types: View cannot be converted to LinearLayout","body":"<p>your are initializing your widget (button , linearlayout, .... ) with incompatible variable , you need to cast them to the right widget type , i guess you are initializing your widgets this way :</p>\n<pre><code>Button start = findViewById(R.id.start) ; \n</code></pre>\n<p>and you should do this :</p>\n<pre><code>Button start = (Button) findViewById(R.id.start) ; \n</code></pre>\n<p>the way you are doing it is wrong , but you can use them if you are using <code>buildToolsVersion 26</code> or higher</p>\n"}],"owner":{"account_id":11585159,"reputation":1,"user_id":8487587,"display_name":"AbdEssamad Hayani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650379457,"creation_date":1560199863,"question_id":56533358,"body_markdown":"When I want to make Apk file I get 8 errors, I hope someone helps me to fix it \r\n\r\n&gt; Task :app:compileReleaseJavaWithJavac FAILED\r\nC:\\Codes\\code\\app\\src\\main\\java\\com\\insta\\followers\\TagsActivity.java:61: error: incompatible types: View cannot be converted to LinearLayout\r\n        unitBanner = findViewById(R.id.unitads);\r\n                                 ^\r\nC:\\Codes\\code\\app\\src\\main\\java\\com\\insta\\followers\\HelpActivity.java:32: error: incompatible types: View cannot be converted to LinearLayout\r\n        unitBanner = findViewById(R.id.unitads);\r\n                                 ^\r\nC:\\Codes\\instagram hashTags\\app\\src\\main\\java\\com\\insta\\followers\\MainActivity.java:57: error: incompatible types: View cannot be converted to LinearLayout\r\n        unitBanner = findViewById(R.id.unitads);\r\n                                 ^\r\nC:\\Codes\\code\\app\\src\\main\\java\\com\\insta\\followers\\MainActivity.java:109: error: incompatible types: View cannot be converted to LinearLayout\r\n        rate = findViewById(R.id.rate);\r\n                           ^\r\nC:\\Codes\\code\\app\\src\\main\\java\\com\\insta\\followers\\MainActivity.java:110: error: incompatible types: View cannot be converted to LinearLayout\r\n        share = findViewById(R.id.share);\r\n                            ^\r\nC:\\Codes\\code\\app\\src\\main\\java\\com\\insta\\followers\\MainActivity.java:111: error: incompatible types: View cannot be converted to LinearLayout\r\n        settings = findViewById(R.id.settings);\r\n                               ^\r\nC:\\Codes\\code\\app\\src\\main\\java\\com\\insta\\followers\\SettingsActivity.java:58: error: incompatible types: View cannot be converted to LinearLayout\r\n        unitBanner = findViewById(R.id.unitads);\r\n                                 ^\r\nC:\\Codes\\code\\app\\src\\main\\java\\com\\insta\\followers\\Splash.java:50: error: incompatible types: View cannot be converted to Button\r\n        start = findViewById(R.id.start);\r\n                            ^\r\n8 errors\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileReleaseJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 34s","title":"incompatible types: View cannot be converted to LinearLayout","body":"<p>When I want to make Apk file I get 8 errors, I hope someone helps me to fix it </p>\n\n<blockquote>\n  <p>Task :app:compileReleaseJavaWithJavac FAILED\n  C:\\Codes\\code\\app\\src\\main\\java\\com\\insta\\followers\\TagsActivity.java:61: error: incompatible types: View cannot be converted to LinearLayout\n          unitBanner = findViewById(R.id.unitads);\n                                   ^\n  C:\\Codes\\code\\app\\src\\main\\java\\com\\insta\\followers\\HelpActivity.java:32: error: incompatible types: View cannot be converted to LinearLayout\n          unitBanner = findViewById(R.id.unitads);\n                                   ^\n  C:\\Codes\\instagram hashTags\\app\\src\\main\\java\\com\\insta\\followers\\MainActivity.java:57: error: incompatible types: View cannot be converted to LinearLayout\n          unitBanner = findViewById(R.id.unitads);\n                                   ^\n  C:\\Codes\\code\\app\\src\\main\\java\\com\\insta\\followers\\MainActivity.java:109: error: incompatible types: View cannot be converted to LinearLayout\n          rate = findViewById(R.id.rate);\n                             ^\n  C:\\Codes\\code\\app\\src\\main\\java\\com\\insta\\followers\\MainActivity.java:110: error: incompatible types: View cannot be converted to LinearLayout\n          share = findViewById(R.id.share);\n                              ^\n  C:\\Codes\\code\\app\\src\\main\\java\\com\\insta\\followers\\MainActivity.java:111: error: incompatible types: View cannot be converted to LinearLayout\n          settings = findViewById(R.id.settings);\n                                 ^\n  C:\\Codes\\code\\app\\src\\main\\java\\com\\insta\\followers\\SettingsActivity.java:58: error: incompatible types: View cannot be converted to LinearLayout\n          unitBanner = findViewById(R.id.unitads);\n                                   ^\n  C:\\Codes\\code\\app\\src\\main\\java\\com\\insta\\followers\\Splash.java:50: error: incompatible types: View cannot be converted to Button\n          start = findViewById(R.id.start);\n                              ^\n  8 errors</p>\n</blockquote>\n\n<p>FAILURE: Build failed with an exception.</p>\n\n<ul>\n<li><p>What went wrong:\nExecution failed for task ':app:compileReleaseJavaWithJavac'.</p>\n\n<blockquote>\n  <p>Compilation failed; see the compiler error output for details.</p>\n</blockquote></li>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p></li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p></li>\n</ul>\n\n<p>BUILD FAILED in 34s</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1650349101,"post_id":71920329,"comment_id":127087060,"body_markdown":"I note that each of your methods could have a single (simple) line method body if you use lambda expressions. Is that really so much of a maintenance issue? But yes, you could create an enum where each enum value has a `Comparator&lt;File&gt;` provided in its constructor... have you tried that? What happened?","body":"I note that each of your methods could have a single (simple) line method body if you use lambda expressions. Is that really so much of a maintenance issue? But yes, you could create an enum where each enum value has a <code>Comparator&lt;File&gt;</code> provided in its constructor... have you tried that? What happened?"},{"owner":{"account_id":24998419,"reputation":3,"user_id":18859029,"display_name":"Java Deve"},"score":0,"creation_date":1650349758,"post_id":71920329,"comment_id":127087220,"body_markdown":"@JonSkeet Can you please share a code snippet.","body":"@JonSkeet Can you please share a code snippet."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1650349925,"post_id":71920329,"comment_id":127087256,"body_markdown":"Note: using subtraction in `comparetTo` is already *dangerous* when comparing `int`, even worse if comparing `long` - due to overflow or underflow, the result sign can be wrong - better use `Long.compare` (or `Integer.compare`) ||| BTW the `Comparator` already has factory methods to create `Comparator` for a given `Supplier` (e.g. `comparingLong`)","body":"Note: using subtraction in <code>comparetTo</code> is already <i>dangerous</i> when comparing <code>int</code>, even worse if comparing <code>long</code> - due to overflow or underflow, the result sign can be wrong - better use <code>Long.compare</code> (or <code>Integer.compare</code>) ||| BTW the <code>Comparator</code> already has factory methods to create <code>Comparator</code> for a given <code>Supplier</code> (e.g. <code>comparingLong</code>)"}],"answers":[{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650350042,"creation_date":1650349322,"answer_id":71920465,"question_id":71920329,"body_markdown":"You can create an `enum` that implements `Comparator&lt;File&gt;`, and have each enum type to implement the `compare` method\r\n     \r\n    enum FileComparator implements Comparator&lt;File&gt; {\r\n    \r\n        ByName {\r\n            @Override\r\n            public int compare(File f1, File f2) {\r\n                return f1.getName().compareTo(f2.getName());\r\n            }\r\n        },\r\n        ByDate {\r\n            @Override\r\n            public int compare(File f1, File f2) {\r\n                return (int) (f1.lastModified() - f2.lastModified());\r\n            }\r\n        },\r\n        BySize {\r\n            @Override\r\n            public int compare(File f1, File f2) {\r\n                return (int) (f1.length() - f2.length());\r\n            }\r\n        };\r\n    \r\n    }\r\n\r\nBelow code is the implementation to test\r\n\r\n    public class Lab {\r\n        public static void main(String[] args) {\r\n            File folder = new File(&quot;/Users/**/Documents&quot;);\r\n            File[] listOfFiles = folder.listFiles();\r\n            Arrays.sort(listOfFiles,FileComparator.ByDate);\r\n            System.out.println(Arrays.toString(listOfFiles));\r\n        }\r\n    }","title":"How to get rid of this multiple comparator methods in Java?","body":"<p>You can create an <code>enum</code> that implements <code>Comparator&lt;File&gt;</code>, and have each enum type to implement the <code>compare</code> method</p>\n<pre><code>enum FileComparator implements Comparator&lt;File&gt; {\n\n    ByName {\n        @Override\n        public int compare(File f1, File f2) {\n            return f1.getName().compareTo(f2.getName());\n        }\n    },\n    ByDate {\n        @Override\n        public int compare(File f1, File f2) {\n            return (int) (f1.lastModified() - f2.lastModified());\n        }\n    },\n    BySize {\n        @Override\n        public int compare(File f1, File f2) {\n            return (int) (f1.length() - f2.length());\n        }\n    };\n\n}\n</code></pre>\n<p>Below code is the implementation to test</p>\n<pre><code>public class Lab {\n    public static void main(String[] args) {\n        File folder = new File(&quot;/Users/**/Documents&quot;);\n        File[] listOfFiles = folder.listFiles();\n        Arrays.sort(listOfFiles,FileComparator.ByDate);\n        System.out.println(Arrays.toString(listOfFiles));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11901543,"reputation":2366,"user_id":8709389,"accept_rate":14,"display_name":"zhh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650350838,"creation_date":1650349831,"answer_id":71920544,"question_id":71920329,"body_markdown":"If I understand you correctly, you want the code look more concise with just one `Comparator`. Now with Lambda and Java 13&#39;s enhanced switch, you can write `sortBy` as follows:\r\n\r\n```java\r\nenum SortType {\r\n    Name, Date, Size\r\n}\r\n\r\nvoid sortBy(SortType type, File[] files) {\r\n    Arrays.sort(files, (t, t1) -&gt; switch (type) {\r\n        case Name -&gt; t.getName().compareTo(t1.getName());\r\n        case Date -&gt; Long.compare(t.lastModified(), t1.lastModified());\r\n        case Size -&gt; Long.compare(t.length(), t1.length());\r\n    });\r\n}\r\n```\r\n\r\nBut from the view of performance, it would be better to use three independent comparators.\r\n\r\nWithout lambda and enhanced switch, `sortBy` is written as:\r\n\r\n```java\r\nvoid sortBy(SortType type, File[] files) {\r\n    Arrays.sort(files, new Comparator&lt;File&gt;() {\r\n        @Override\r\n        public int compare(File t, File t1) {\r\n            switch (type) {\r\n                case Name:\r\n                    return t.getName().compareTo(t1.getName());\r\n                case Date:\r\n                    return Long.compare(t.lastModified(), t1.lastModified());\r\n                case Size:\r\n                    return Long.compare(t.length(), t1.length());\r\n            };\r\n            throw new IllegalStateException(&quot;Unreachable!&quot;);\r\n        }\r\n    });\r\n}\r\n```","title":"How to get rid of this multiple comparator methods in Java?","body":"<p>If I understand you correctly, you want the code look more concise with just one <code>Comparator</code>. Now with Lambda and Java 13's enhanced switch, you can write <code>sortBy</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum SortType {\n    Name, Date, Size\n}\n\nvoid sortBy(SortType type, File[] files) {\n    Arrays.sort(files, (t, t1) -&gt; switch (type) {\n        case Name -&gt; t.getName().compareTo(t1.getName());\n        case Date -&gt; Long.compare(t.lastModified(), t1.lastModified());\n        case Size -&gt; Long.compare(t.length(), t1.length());\n    });\n}\n</code></pre>\n<p>But from the view of performance, it would be better to use three independent comparators.</p>\n<p>Without lambda and enhanced switch, <code>sortBy</code> is written as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void sortBy(SortType type, File[] files) {\n    Arrays.sort(files, new Comparator&lt;File&gt;() {\n        @Override\n        public int compare(File t, File t1) {\n            switch (type) {\n                case Name:\n                    return t.getName().compareTo(t1.getName());\n                case Date:\n                    return Long.compare(t.lastModified(), t1.lastModified());\n                case Size:\n                    return Long.compare(t.length(), t1.length());\n            };\n            throw new IllegalStateException(&quot;Unreachable!&quot;);\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24998375,"reputation":3,"user_id":18858988,"display_name":"user18858988"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650351191,"creation_date":1650351191,"answer_id":71920773,"question_id":71920329,"body_markdown":"It&#39;s easiest to use a Stream:\r\n\r\n```java\r\nFile[] files = {};\r\n\r\nArrays\r\n\t.stream(files)\r\n\t.sorted(\r\n\t\tComparator\r\n\t\t\t.comparing(File::getName)\r\n\t\t\t.thenComparing(File::lastModified)\r\n\t\t\t.thenComparing(File::length)\r\n\t)\r\n\t.collect(Collectors.toList());\r\n```","title":"How to get rid of this multiple comparator methods in Java?","body":"<p>It's easiest to use a Stream:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File[] files = {};\n\nArrays\n    .stream(files)\n    .sorted(\n        Comparator\n            .comparing(File::getName)\n            .thenComparing(File::lastModified)\n            .thenComparing(File::length)\n    )\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650378562,"creation_date":1650351310,"answer_id":71920794,"question_id":71920329,"body_markdown":"With lambdas, method references here, and the comparing methods of Comparator, one can write:\r\n\r\n        Arrays.sort(listOfFiles, Comparator.comparing(File::getName));\r\n        Arrays.sort(listOfFiles, Comparator.comparingLong(File::lastModified));\r\n        Arrays.sort(listOfFiles, Comparator.comparingLong(File::length));\r\n\r\nThis even allows composition of comparators, like reverse order, or first by last modified, then length or such.\r\n\r\n        Arrays.sort(listOfFiles, Comparator.comparingLong(File::length).reversed());\r\n        Arrays.sort(listOfFiles, Comparator.comparingLong(File::lastModified)\r\n                                           .thenComparingLong(File::length));\r\n\r\nFor an internal usage this suffices. For an external library API maybe not.\r\n\r\n--------------\r\n***Sorting by file extension:***\r\n\r\n    static final Comparator&lt;File&gt; BY_EXTENSION =\r\n        Comparator.comparing(f -&gt; f.getName().replaceFirst(&quot;^(.*?)((\\\\.[^\\\\.]*)?)$&quot;, &quot;$2&quot;));\r\n    Arrays.sort(listOfFiles, BY_EXTENSION);\r\n\r\nThe lambda passed to sort does not need to be a method reference like `File::getName` but can be some function on File.\r\n\r\nThe `replaceFirst` should only keep the extension, yielding `&quot;.txt&quot;` or `&quot;&quot;` (no dot in name).\r\n\r\nOr if you need the file extension as function:\r\n\r\n    class Foo { // Need some class name.\r\n        public static String getFileExtension(File file) {\r\n            return file.getName()\r\n                .replaceFirst(&quot;^(.*?)((\\\\.[^\\\\.]*)?)$&quot;, &quot;$2&quot;);\r\n        }\r\n    }\r\n\r\n    Arrays.sort(Foo::getFileExtension);\r\n\r\nAgain using a method reference, though of a static method, File as parameter instead of as `this`.\r\n\r\nShould one use a `Comparator&lt;Path&gt;` instead of `Comparator&lt;File&gt;` - as Path is more general than File -, then be aware that `Path.getName()` returns a `Path`:\r\n\r\n    static final Comparator&lt;Path&gt; BY_EXTENSION =\r\n        Comparator.comparing(p -&gt; p.getName().toString()\r\n            .replaceFirst(&quot;^(.*?)((\\\\.[^\\\\.]*)?)$&quot;, &quot;$2&quot;));\r\n\r\n--------------------\r\n***In one method:***\r\n\r\n    public static final Comparator&lt;Path&gt; BY_NAME =\r\n        Comparator.comparing(File::getName);\r\n    public static final Comparator&lt;Path&gt; BY_MODIFIED =\r\n        Comparator.comparingLong(File::lastModified);\r\n    public static final Comparator&lt;Path&gt; BY_LENGTH =\r\n        Comparator.comparingLong(File::length);\r\n    public static final Comparator&lt;Path&gt; BY_EXTENSION =\r\n        Comparator.comparing(p -&gt; p.getName().toString()\r\n            .replaceFirst(&quot;^(.*?)((\\\\.[^\\\\.]*)?)$&quot;, &quot;$2&quot;));\r\n\r\nEither\r\n\r\n    Arrays.sort(listOfFiles, BY_NAME);\r\n\r\nor:\r\n\r\n    void sortFiles(File[] files, Comparator&lt;File&gt; comparator) {\r\n        Arrays.sort(files, comparator);\r\n    }\r\n\r\n    sortFiles(listOfFiles, BY_NAME);\r\n\r\nWith Stream:\r\n\r\n    List&lt;File&gt; sortFiles(Stream&lt;File&gt; fileStream, Comparator&lt;File&gt; comparator) {\r\n        return fileStream.sorted(comparator).collect(Collectors.toList());\r\n    }\r\n\r\n    File[] fileArray = ...\r\n    List&lt;File&gt; fileList = ...\r\n    List&lt;File&gt; sorted = sorted(Arrays.stream(fileArray), BY_NAME);\r\n    List&lt;File&gt; sorted = sorted(fileList.stream(), BY_NAME);","title":"How to get rid of this multiple comparator methods in Java?","body":"<p>With lambdas, method references here, and the comparing methods of Comparator, one can write:</p>\n<pre><code>    Arrays.sort(listOfFiles, Comparator.comparing(File::getName));\n    Arrays.sort(listOfFiles, Comparator.comparingLong(File::lastModified));\n    Arrays.sort(listOfFiles, Comparator.comparingLong(File::length));\n</code></pre>\n<p>This even allows composition of comparators, like reverse order, or first by last modified, then length or such.</p>\n<pre><code>    Arrays.sort(listOfFiles, Comparator.comparingLong(File::length).reversed());\n    Arrays.sort(listOfFiles, Comparator.comparingLong(File::lastModified)\n                                       .thenComparingLong(File::length));\n</code></pre>\n<p>For an internal usage this suffices. For an external library API maybe not.</p>\n<hr />\n<p><em><strong>Sorting by file extension:</strong></em></p>\n<pre><code>static final Comparator&lt;File&gt; BY_EXTENSION =\n    Comparator.comparing(f -&gt; f.getName().replaceFirst(&quot;^(.*?)((\\\\.[^\\\\.]*)?)$&quot;, &quot;$2&quot;));\nArrays.sort(listOfFiles, BY_EXTENSION);\n</code></pre>\n<p>The lambda passed to sort does not need to be a method reference like <code>File::getName</code> but can be some function on File.</p>\n<p>The <code>replaceFirst</code> should only keep the extension, yielding <code>&quot;.txt&quot;</code> or <code>&quot;&quot;</code> (no dot in name).</p>\n<p>Or if you need the file extension as function:</p>\n<pre><code>class Foo { // Need some class name.\n    public static String getFileExtension(File file) {\n        return file.getName()\n            .replaceFirst(&quot;^(.*?)((\\\\.[^\\\\.]*)?)$&quot;, &quot;$2&quot;);\n    }\n}\n\nArrays.sort(Foo::getFileExtension);\n</code></pre>\n<p>Again using a method reference, though of a static method, File as parameter instead of as <code>this</code>.</p>\n<p>Should one use a <code>Comparator&lt;Path&gt;</code> instead of <code>Comparator&lt;File&gt;</code> - as Path is more general than File -, then be aware that <code>Path.getName()</code> returns a <code>Path</code>:</p>\n<pre><code>static final Comparator&lt;Path&gt; BY_EXTENSION =\n    Comparator.comparing(p -&gt; p.getName().toString()\n        .replaceFirst(&quot;^(.*?)((\\\\.[^\\\\.]*)?)$&quot;, &quot;$2&quot;));\n</code></pre>\n<hr />\n<p><em><strong>In one method:</strong></em></p>\n<pre><code>public static final Comparator&lt;Path&gt; BY_NAME =\n    Comparator.comparing(File::getName);\npublic static final Comparator&lt;Path&gt; BY_MODIFIED =\n    Comparator.comparingLong(File::lastModified);\npublic static final Comparator&lt;Path&gt; BY_LENGTH =\n    Comparator.comparingLong(File::length);\npublic static final Comparator&lt;Path&gt; BY_EXTENSION =\n    Comparator.comparing(p -&gt; p.getName().toString()\n        .replaceFirst(&quot;^(.*?)((\\\\.[^\\\\.]*)?)$&quot;, &quot;$2&quot;));\n</code></pre>\n<p>Either</p>\n<pre><code>Arrays.sort(listOfFiles, BY_NAME);\n</code></pre>\n<p>or:</p>\n<pre><code>void sortFiles(File[] files, Comparator&lt;File&gt; comparator) {\n    Arrays.sort(files, comparator);\n}\n\nsortFiles(listOfFiles, BY_NAME);\n</code></pre>\n<p>With Stream:</p>\n<pre><code>List&lt;File&gt; sortFiles(Stream&lt;File&gt; fileStream, Comparator&lt;File&gt; comparator) {\n    return fileStream.sorted(comparator).collect(Collectors.toList());\n}\n\nFile[] fileArray = ...\nList&lt;File&gt; fileList = ...\nList&lt;File&gt; sorted = sorted(Arrays.stream(fileArray), BY_NAME);\nList&lt;File&gt; sorted = sorted(fileList.stream(), BY_NAME);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23119134,"reputation":44,"user_id":17400037,"display_name":"brandon v"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650363419,"creation_date":1650358085,"answer_id":71922131,"question_id":71920329,"body_markdown":"You can try with this method, you don&#39;t need to create enum &lt;br&gt;\r\nDoing it with strings would be the simplest.\r\n\r\n    public static List shortFiles(String shortType, List files){\r\n        files.sort(new Comparator&lt;File&gt;() {\r\n        @Override\r\n        public int compare(File t, File t1) {\r\n            int x=0;\r\n            switch (shortType) {\r\n                case &quot;name&quot; -&gt;{x = t.getName().compareTo(t1.getName());}\r\n                case &quot;date&quot; -&gt;{x = Long.compare(t.lastModified(), t1.lastModified());}\r\n                case &quot;size&quot; -&gt;{x = Long.compare(t.length(), t1.length());}\r\n            }\r\n            return x;\r\n        }\r\n    });\r\n        return files;\r\n    }\r\n\r\nAdditional to that i have created a filter for the file List\r\n\r\n    /* I create a FileFilter for files with a extension diferent of *.tmp or *.TMP */\r\n    FileFilter logFilefilter = new FileFilter() {\r\n            @Override\r\n            public boolean accept(File file) {                \r\n                return !file.getName().toLowerCase().endsWith(&quot;.tmp&quot;) &amp;&amp; file.getName().contains(&quot;.&quot;)&amp;&amp; file.isFile();\r\n            }\r\n    };\r\nThen create the file List with the File Filter (optional) specifying the path for the files\r\n\r\n        /* Specify the Directory which contains the files to short */\r\n        File f = new File(&quot;C:\\\\Users\\\\brdn\\\\AppData\\\\Local\\\\Temp&quot;);\r\n        \r\n        if(f.exists()){//execute if the Directory exists\r\n            /* create the files with the FileFilter (optionally) */\r\n            List&lt;File&gt; files = Arrays.asList(f.listFiles(logFilefilter));\r\n        }else\r\n            System.out.println(&quot;The directory: &quot; + f.getAbsolutePath() + &quot; does not exist&quot;);\r\n\r\nFinally here you a complete example\r\n\r\n    package brdn_company.mavenproject2;\r\n\r\n    import java.io.File;\r\n    import java.io.FileFilter;\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    import java.text.SimpleDateFormat;\r\n    \r\n    public class Mavenproject2 {\r\n\r\n    public static void main(String[] args) {\r\n        /* I create a FileFilter for files with a extension diferent of *.tmp or *.TMP */\r\n        FileFilter logFilefilter = new FileFilter() {\r\n            @Override\r\n            public boolean accept(File file) {                \r\n                return !file.getName().toLowerCase().endsWith(&quot;.tmp&quot;) &amp;&amp; file.getName().contains(&quot;.&quot;)&amp;&amp; file.isFile();\r\n            }\r\n        };\r\n        \r\n        /* Specify the Directory which contains the files to short */\r\n        File f = new File(&quot;C:\\\\Users\\\\brdn\\\\AppData\\\\Local\\\\Temp&quot;);\r\n        \r\n        if(f.exists()){//execute if the Directory exists\r\n            /* create the files with the FileFilter (optionally) */\r\n            List&lt;File&gt; files = Arrays.asList(f.listFiles(logFilefilter));\r\n            \r\n            System.out.println(&quot;----------------SHORTING BY NAME----------------&quot;);\r\n            files = shortFiles(&quot;name&quot;, files);\r\n            for(File file : files)\r\n                    System.out.println(file.getName());\r\n\r\n            System.out.println(&quot;\\n----------------SHORTING BY SIZE----------------&quot;);\r\n            files = shortFiles(&quot;size&quot;, files);\r\n            for(File file : files)\r\n                    System.out.format(&quot;%-70s size= %d bytes \\n&quot;,file.getName(), file.length());\r\n            \r\n            System.out.println(&quot;\\n----------------SHORTING BY DATE----------------&quot;);\r\n            files = shortFiles(&quot;date&quot;, files);\r\n            for(File file : files)\r\n                    System.out.format(&quot;%-70s Date= %s \\n&quot;, file.getName(), new SimpleDateFormat(&quot;dd&#39;/&#39;MMMM&#39;/&#39;YYYY&quot;).format(new Date(file.lastModified())) );\r\n        }else\r\n            System.out.println(&quot;The directory: &quot; + f.getAbsolutePath() + &quot; does not exist&quot;);\r\n    }\r\n    \r\n    public static List shortFiles(String shortType, List files){\r\n        files.sort(new Comparator&lt;File&gt;() {\r\n        @Override\r\n        public int compare(File t, File t1) {\r\n            int x=0;\r\n            switch (shortType) {\r\n                case &quot;name&quot; -&gt;{x = t.getName().compareTo(t1.getName());}\r\n                case &quot;date&quot; -&gt;{x = Long.compare(t.lastModified(), t1.lastModified());}\r\n                case &quot;size&quot; -&gt;{x = Long.compare(t.length(), t1.length());\r\n                case &quot;extension&quot; -&gt;{\r\n                        x = t.getName().contains(&quot;.&quot;)==t1.getName().contains(&quot;.&quot;)? t.getName().split(&quot;[.]&quot;)[1].compareTo(t.getName().split(&quot;[.]&quot;)[1])\r\n                                : !t.getName().contains(&quot;.&quot;)?1:\r\n                                -1;}}\r\n            }\r\n            return x;\r\n        }\r\n    });\r\n        return files;\r\n    }\r\n    }\r\n\r\nWhich outputs:\r\n\r\n    ----------------SHORTING BY NAME----------------\r\n    .ses\r\n    DTL-5996-162487191930034982.fxml\r\n    DTL-5996-3330347463011941505.fxml\r\n    DTL-5996-3504539881087568310.fxml\r\n    JavaDeployReg.log\r\n    JavaLauncher.log\r\n    fallback4142601253054055938.netbeans.pom\r\n    fallback8710927843535716668.netbeans.pom\r\n    jusched.log\r\n    pcsx2-1.6.0-include_standard.exe\r\n    sqlite-3.34.0-ffd2f809-64f1-445e-85ce-61dea205401e-sqlitejdbc.dll\r\n    \r\n    ----------------SHORTING BY SIZE----------------\r\n    .ses                                                                   size= 53 bytes \r\n    fallback4142601253054055938.netbeans.pom                               size= 203 bytes \r\n    fallback8710927843535716668.netbeans.pom                               size= 207 bytes \r\n    JavaDeployReg.log                                                      size= 1943 bytes \r\n    DTL-5996-162487191930034982.fxml                                       size= 4248 bytes \r\n    DTL-5996-3504539881087568310.fxml                                      size= 4248 bytes \r\n    DTL-5996-3330347463011941505.fxml                                      size= 4298 bytes \r\n    JavaLauncher.log                                                       size= 12978 bytes \r\n    pcsx2-1.6.0-include_standard.exe                                       size= 137428 bytes \r\n    jusched.log                                                            size= 623658 bytes \r\n    sqlite-3.34.0-ffd2f809-64f1-445e-85ce-61dea205401e-sqlitejdbc.dll      size= 852992 bytes \r\n    \r\n    ----------------SHORTING BY DATE----------------\r\n    pcsx2-1.6.0-include_standard.exe                                       Date= 06/mayo/2020 \r\n    sqlite-3.34.0-ffd2f809-64f1-445e-85ce-61dea205401e-sqlitejdbc.dll      Date= 13/abril/2022 \r\n    JavaDeployReg.log                                                      Date= 15/abril/2022 \r\n    jusched.log                                                            Date= 15/abril/2022 \r\n    JavaLauncher.log                                                       Date= 17/abril/2022 \r\n    fallback8710927843535716668.netbeans.pom                               Date= 17/abril/2022 \r\n    fallback4142601253054055938.netbeans.pom                               Date= 17/abril/2022 \r\n    DTL-5996-162487191930034982.fxml                                       Date= 17/abril/2022 \r\n    DTL-5996-3504539881087568310.fxml                                      Date= 17/abril/2022 \r\n    DTL-5996-3330347463011941505.fxml                                      Date= 17/abril/2022 \r\n    .ses                                                                   Date= 19/abril/2022 \r\n\r\nGood luck :) and sorry for the grammar, I&#39;m a Spanish speaker.","title":"How to get rid of this multiple comparator methods in Java?","body":"<p>You can try with this method, you don't need to create enum <br>\nDoing it with strings would be the simplest.</p>\n<pre><code>public static List shortFiles(String shortType, List files){\n    files.sort(new Comparator&lt;File&gt;() {\n    @Override\n    public int compare(File t, File t1) {\n        int x=0;\n        switch (shortType) {\n            case &quot;name&quot; -&gt;{x = t.getName().compareTo(t1.getName());}\n            case &quot;date&quot; -&gt;{x = Long.compare(t.lastModified(), t1.lastModified());}\n            case &quot;size&quot; -&gt;{x = Long.compare(t.length(), t1.length());}\n        }\n        return x;\n    }\n});\n    return files;\n}\n</code></pre>\n<p>Additional to that i have created a filter for the file List</p>\n<pre><code>/* I create a FileFilter for files with a extension diferent of *.tmp or *.TMP */\nFileFilter logFilefilter = new FileFilter() {\n        @Override\n        public boolean accept(File file) {                \n            return !file.getName().toLowerCase().endsWith(&quot;.tmp&quot;) &amp;&amp; file.getName().contains(&quot;.&quot;)&amp;&amp; file.isFile();\n        }\n};\n</code></pre>\n<p>Then create the file List with the File Filter (optional) specifying the path for the files</p>\n<pre><code>    /* Specify the Directory which contains the files to short */\n    File f = new File(&quot;C:\\\\Users\\\\brdn\\\\AppData\\\\Local\\\\Temp&quot;);\n    \n    if(f.exists()){//execute if the Directory exists\n        /* create the files with the FileFilter (optionally) */\n        List&lt;File&gt; files = Arrays.asList(f.listFiles(logFilefilter));\n    }else\n        System.out.println(&quot;The directory: &quot; + f.getAbsolutePath() + &quot; does not exist&quot;);\n</code></pre>\n<p>Finally here you a complete example</p>\n<pre><code>package brdn_company.mavenproject2;\n\nimport java.io.File;\nimport java.io.FileFilter;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.Date;\nimport java.util.List;\nimport java.text.SimpleDateFormat;\n\npublic class Mavenproject2 {\n\npublic static void main(String[] args) {\n    /* I create a FileFilter for files with a extension diferent of *.tmp or *.TMP */\n    FileFilter logFilefilter = new FileFilter() {\n        @Override\n        public boolean accept(File file) {                \n            return !file.getName().toLowerCase().endsWith(&quot;.tmp&quot;) &amp;&amp; file.getName().contains(&quot;.&quot;)&amp;&amp; file.isFile();\n        }\n    };\n    \n    /* Specify the Directory which contains the files to short */\n    File f = new File(&quot;C:\\\\Users\\\\brdn\\\\AppData\\\\Local\\\\Temp&quot;);\n    \n    if(f.exists()){//execute if the Directory exists\n        /* create the files with the FileFilter (optionally) */\n        List&lt;File&gt; files = Arrays.asList(f.listFiles(logFilefilter));\n        \n        System.out.println(&quot;----------------SHORTING BY NAME----------------&quot;);\n        files = shortFiles(&quot;name&quot;, files);\n        for(File file : files)\n                System.out.println(file.getName());\n\n        System.out.println(&quot;\\n----------------SHORTING BY SIZE----------------&quot;);\n        files = shortFiles(&quot;size&quot;, files);\n        for(File file : files)\n                System.out.format(&quot;%-70s size= %d bytes \\n&quot;,file.getName(), file.length());\n        \n        System.out.println(&quot;\\n----------------SHORTING BY DATE----------------&quot;);\n        files = shortFiles(&quot;date&quot;, files);\n        for(File file : files)\n                System.out.format(&quot;%-70s Date= %s \\n&quot;, file.getName(), new SimpleDateFormat(&quot;dd'/'MMMM'/'YYYY&quot;).format(new Date(file.lastModified())) );\n    }else\n        System.out.println(&quot;The directory: &quot; + f.getAbsolutePath() + &quot; does not exist&quot;);\n}\n\npublic static List shortFiles(String shortType, List files){\n    files.sort(new Comparator&lt;File&gt;() {\n    @Override\n    public int compare(File t, File t1) {\n        int x=0;\n        switch (shortType) {\n            case &quot;name&quot; -&gt;{x = t.getName().compareTo(t1.getName());}\n            case &quot;date&quot; -&gt;{x = Long.compare(t.lastModified(), t1.lastModified());}\n            case &quot;size&quot; -&gt;{x = Long.compare(t.length(), t1.length());\n            case &quot;extension&quot; -&gt;{\n                    x = t.getName().contains(&quot;.&quot;)==t1.getName().contains(&quot;.&quot;)? t.getName().split(&quot;[.]&quot;)[1].compareTo(t.getName().split(&quot;[.]&quot;)[1])\n                            : !t.getName().contains(&quot;.&quot;)?1:\n                            -1;}}\n        }\n        return x;\n    }\n});\n    return files;\n}\n}\n</code></pre>\n<p>Which outputs:</p>\n<pre><code>----------------SHORTING BY NAME----------------\n.ses\nDTL-5996-162487191930034982.fxml\nDTL-5996-3330347463011941505.fxml\nDTL-5996-3504539881087568310.fxml\nJavaDeployReg.log\nJavaLauncher.log\nfallback4142601253054055938.netbeans.pom\nfallback8710927843535716668.netbeans.pom\njusched.log\npcsx2-1.6.0-include_standard.exe\nsqlite-3.34.0-ffd2f809-64f1-445e-85ce-61dea205401e-sqlitejdbc.dll\n\n----------------SHORTING BY SIZE----------------\n.ses                                                                   size= 53 bytes \nfallback4142601253054055938.netbeans.pom                               size= 203 bytes \nfallback8710927843535716668.netbeans.pom                               size= 207 bytes \nJavaDeployReg.log                                                      size= 1943 bytes \nDTL-5996-162487191930034982.fxml                                       size= 4248 bytes \nDTL-5996-3504539881087568310.fxml                                      size= 4248 bytes \nDTL-5996-3330347463011941505.fxml                                      size= 4298 bytes \nJavaLauncher.log                                                       size= 12978 bytes \npcsx2-1.6.0-include_standard.exe                                       size= 137428 bytes \njusched.log                                                            size= 623658 bytes \nsqlite-3.34.0-ffd2f809-64f1-445e-85ce-61dea205401e-sqlitejdbc.dll      size= 852992 bytes \n\n----------------SHORTING BY DATE----------------\npcsx2-1.6.0-include_standard.exe                                       Date= 06/mayo/2020 \nsqlite-3.34.0-ffd2f809-64f1-445e-85ce-61dea205401e-sqlitejdbc.dll      Date= 13/abril/2022 \nJavaDeployReg.log                                                      Date= 15/abril/2022 \njusched.log                                                            Date= 15/abril/2022 \nJavaLauncher.log                                                       Date= 17/abril/2022 \nfallback8710927843535716668.netbeans.pom                               Date= 17/abril/2022 \nfallback4142601253054055938.netbeans.pom                               Date= 17/abril/2022 \nDTL-5996-162487191930034982.fxml                                       Date= 17/abril/2022 \nDTL-5996-3504539881087568310.fxml                                      Date= 17/abril/2022 \nDTL-5996-3330347463011941505.fxml                                      Date= 17/abril/2022 \n.ses                                                                   Date= 19/abril/2022 \n</code></pre>\n<p>Good luck :) and sorry for the grammar, I'm a Spanish speaker.</p>\n"}],"owner":{"account_id":24998419,"reputation":3,"user_id":18859029,"display_name":"Java Deve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71920794,"answer_count":5,"score":0,"last_activity_date":1650378562,"creation_date":1650348230,"question_id":71920329,"body_markdown":"I want to make the comparator for file object as parameterized. (Ex: sort by name, length, size, last modified, file extension). One method with parameterized as sortType.\r\n\r\nI don&#39;t want different methods as stated in https://stackoverflow.com/questions/30898662/sort-array-by-date-and-size-files\r\n\r\n    private void sortByName(File[] files){\r\n      Arrays.sort(files, new Comparator&lt;File&gt;() {\r\n        @Override\r\n        public int compare(File t, File t1) {\r\n            return t.getName().compareTo(t1.getName());\r\n        }\r\n      });\r\n    }\r\n\r\n    private void sortByDate(File[] files){\r\n     Arrays.sort(files, new Comparator&lt;File&gt;() {\r\n        @Override\r\n        public int compare(File t, File t1) {\r\n            return (int) (t.lastModified() - t1.lastModified());\r\n        }\r\n      });\r\n    }\r\n\r\n    private void sortBySize(File[] files){\r\n      Arrays.sort(files, new Comparator&lt;File&gt;() {\r\n        @Override\r\n        public int compare(File t, File t1) {\r\n            return (int) (t.length() - t1.length());\r\n        }\r\n      });\r\n    }\r\n\r\nHow to create a method something like sort(String sortType) or sort(Enum sortType) and have only one sorting comparator to do the needful.\r\n\r\nHaving multiple methods is having maintenance issue and unnecessary boilerplate code.\r\n\r\nThanks.","title":"How to get rid of this multiple comparator methods in Java?","body":"<p>I want to make the comparator for file object as parameterized. (Ex: sort by name, length, size, last modified, file extension). One method with parameterized as sortType.</p>\n<p>I don't want different methods as stated in <a href=\"https://stackoverflow.com/questions/30898662/sort-array-by-date-and-size-files\">Sort Array by Date and Size (Files)</a></p>\n<pre><code>private void sortByName(File[] files){\n  Arrays.sort(files, new Comparator&lt;File&gt;() {\n    @Override\n    public int compare(File t, File t1) {\n        return t.getName().compareTo(t1.getName());\n    }\n  });\n}\n\nprivate void sortByDate(File[] files){\n Arrays.sort(files, new Comparator&lt;File&gt;() {\n    @Override\n    public int compare(File t, File t1) {\n        return (int) (t.lastModified() - t1.lastModified());\n    }\n  });\n}\n\nprivate void sortBySize(File[] files){\n  Arrays.sort(files, new Comparator&lt;File&gt;() {\n    @Override\n    public int compare(File t, File t1) {\n        return (int) (t.length() - t1.length());\n    }\n  });\n}\n</code></pre>\n<p>How to create a method something like sort(String sortType) or sort(Enum sortType) and have only one sorting comparator to do the needful.</p>\n<p>Having multiple methods is having maintenance issue and unnecessary boilerplate code.</p>\n<p>Thanks.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647814413,"post_id":71551001,"comment_id":126459657,"body_markdown":"For people who know IntelliJ, you should probably state its version and also your Java versions","body":"For people who know IntelliJ, you should probably state its version and also your Java versions"},{"owner":{"account_id":24482357,"reputation":3,"user_id":18400573,"display_name":"Phantom11"},"score":0,"creation_date":1647816395,"post_id":71551001,"comment_id":126460012,"body_markdown":"Done and done, you are correct. Hopefully that helps!","body":"Done and done, you are correct. Hopefully that helps!"}],"answers":[{"tags":[],"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650378534,"creation_date":1647820958,"answer_id":71551573,"question_id":71551001,"body_markdown":"From the [docs][1]\r\n\r\n&gt; Boot JDK path is stored in the &lt;product&gt;.jdk file located in the\r\n&gt; config folder. It can be modified either via the Change IDE boot JDK\r\n&gt; action or by manually editing .jdk file (if you can&#39;t start the IDE to\r\n&gt; change it via an action).\r\n\r\nSo you need to manually edit the `.jdk` file. (As for what that editing looks like, I&#39;m unsure. It&#39;s not mentioned in the docs)\r\n\r\nFor Linux and Mac, JetBrains recommends their own JRE, which is referenced in that doc.\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under#:~:text=Boot%20JDK%20path%20is%20stored%20in%20the%20%3Cproduct%3E.jdk%20file%20located%20in%20the%20config%20folder.%20It%20can%20be%20modified%20either%20via%20the%20Change%20IDE%20boot%20JDK%20action%20or%20by%20manually%20editing%20.jdk%20file%20(if%20you%20can%27t%20start%20the%20IDE%20to%20change%20it%20via%20an%20action).","title":"Error message when opening IntelliJ, from command line in Linux","body":"<p>From the <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under#:%7E:text=Boot%20JDK%20path%20is%20stored%20in%20the%20%3Cproduct%3E.jdk%20file%20located%20in%20the%20config%20folder.%20It%20can%20be%20modified%20either%20via%20the%20Change%20IDE%20boot%20JDK%20action%20or%20by%20manually%20editing%20.jdk%20file%20(if%20you%20can%27t%20start%20the%20IDE%20to%20change%20it%20via%20an%20action).\" rel=\"nofollow noreferrer\">docs</a></p>\n<blockquote>\n<p>Boot JDK path is stored in the .jdk file located in the\nconfig folder. It can be modified either via the Change IDE boot JDK\naction or by manually editing .jdk file (if you can't start the IDE to\nchange it via an action).</p>\n</blockquote>\n<p>So you need to manually edit the <code>.jdk</code> file. (As for what that editing looks like, I'm unsure. It's not mentioned in the docs)</p>\n<p>For Linux and Mac, JetBrains recommends their own JRE, which is referenced in that doc.</p>\n"},{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647820987,"creation_date":1647820987,"answer_id":71551576,"question_id":71551001,"body_markdown":"[Intellij IDEA 2020.3 does not support the use of JDK 17](https://www.jetbrains.com/help/idea/supported-java-versions.html#2020). That makes sense since it was released in November 2020, and JDK 17 was released about 10 months later, on September 14, 2021.\r\n\r\nThe most recent JDK you can use with Intellij IDEA 2020.3 is JDK 15.\r\n\r\nSo either downgrade the JDK used by Intellij IDEA 2020.3 to JDK 15, or [upgrade to a version of Intellij IDEA &gt;= 2021.2](https://www.jetbrains.com/help/idea/supported-java-versions.html#2021), allowing you to use JDK 17.","title":"Error message when opening IntelliJ, from command line in Linux","body":"<p><a href=\"https://www.jetbrains.com/help/idea/supported-java-versions.html#2020\" rel=\"nofollow noreferrer\">Intellij IDEA 2020.3 does not support the use of JDK 17</a>. That makes sense since it was released in November 2020, and JDK 17 was released about 10 months later, on September 14, 2021.</p>\n<p>The most recent JDK you can use with Intellij IDEA 2020.3 is JDK 15.</p>\n<p>So either downgrade the JDK used by Intellij IDEA 2020.3 to JDK 15, or <a href=\"https://www.jetbrains.com/help/idea/supported-java-versions.html#2021\" rel=\"nofollow noreferrer\">upgrade to a version of Intellij IDEA &gt;= 2021.2</a>, allowing you to use JDK 17.</p>\n"}],"owner":{"account_id":24482357,"reputation":3,"user_id":18400573,"display_name":"Phantom11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71551573,"answer_count":2,"score":0,"last_activity_date":1650378534,"creation_date":1647813730,"question_id":71551001,"body_markdown":"I changed my IntelliJs base JDK, to try and fix an error, and now it will not even let me open up Intellij. I tried to re-install, but that did not work.\r\nIntelliJ version - 2020.3.3\r\nJDK of my Linux VM - openjdk 11.0.14 2022-01-18\r\nJDK I changed my IntelliJ too - 17.0.2\r\n```\r\n!bootstrap.error.message.internal.error.please.refer.to.0!https://jb.gg/ide/critical-startup-errors!\r\n\r\njava.lang.IllegalAccessError: class com.intellij.idea.StartupUtil (in unnamed module @0x7c89fbb9) cannot access class sun.awt.AWTAutoShutdown (in module java.desktop) because module java.desktop does not export sun.awt to unnamed module @0x7c89fbb9\r\n    at com.intellij.idea.StartupUtil.start(StartupUtil.java:301)\r\n    at com.intellij.idea.Main.bootstrap(Main.java:134)\r\n    at com.intellij.idea.Main.main(Main.java:82)\r\n```","title":"Error message when opening IntelliJ, from command line in Linux","body":"<p>I changed my IntelliJs base JDK, to try and fix an error, and now it will not even let me open up Intellij. I tried to re-install, but that did not work.\nIntelliJ version - 2020.3.3\nJDK of my Linux VM - openjdk 11.0.14 2022-01-18\nJDK I changed my IntelliJ too - 17.0.2</p>\n<pre><code>!bootstrap.error.message.internal.error.please.refer.to.0!https://jb.gg/ide/critical-startup-errors!\n\njava.lang.IllegalAccessError: class com.intellij.idea.StartupUtil (in unnamed module @0x7c89fbb9) cannot access class sun.awt.AWTAutoShutdown (in module java.desktop) because module java.desktop does not export sun.awt to unnamed module @0x7c89fbb9\n    at com.intellij.idea.StartupUtil.start(StartupUtil.java:301)\n    at com.intellij.idea.Main.bootstrap(Main.java:134)\n    at com.intellij.idea.Main.main(Main.java:82)\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","int","long-integer"],"comments":[{"owner":{"display_name":"user180100"},"score":1,"creation_date":1455486495,"post_id":35398349,"comment_id":58499082,"body_markdown":"What `JSONObject` is that? Did you try using `Long.valueOf()`?","body":"What <code>JSONObject</code> is that? Did you try using <code>Long.valueOf()</code>?"},{"owner":{"account_id":449536,"reputation":251,"user_id":844373,"accept_rate":53,"display_name":"Gargob"},"score":0,"creation_date":1455486678,"post_id":35398349,"comment_id":58499140,"body_markdown":"It is the org.json.simple.JSONObject, and I didn&#39;t, because the error occurs when I try to get it out of the JSONObject. I&#39;ll edit it to make it more clear.","body":"It is the org.json.simple.JSONObject, and I didn&#39;t, because the error occurs when I try to get it out of the JSONObject. I&#39;ll edit it to make it more clear."},{"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"score":0,"creation_date":1455523537,"post_id":35398349,"comment_id":58509761,"body_markdown":"You can&#39;t cast `Integer` to `Long` even though you can cast `int` to `long`. The reason is that these 2 types are classes and not primitives.","body":"You can&#39;t cast <code>Integer</code> to <code>Long</code> even though you can cast <code>int</code> to <code>long</code>. The reason is that these 2 types are classes and not primitives."}],"answers":[{"tags":[],"owner":{"account_id":931709,"reputation":4835,"user_id":961480,"display_name":"hyness"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1455526663,"creation_date":1455487655,"answer_id":35398601,"question_id":35398349,"body_markdown":"The simple answer is to use a **java.lang.Number** object, which is the superclass of the **Long** and **Integer** classes.  It has a **longValue()** method to get the value as a long every time.\r\n\r\n    public String getData (@RequestBody User user) {\r\n        Long id_long = ((Number) jsonRequest.get(&quot;id&quot;)).longValue();\r\n\r\nThe longer answer would be not to use a generic class like JSONObject.  Define your own class, and use spring to bind to it...\r\n\r\n    public class User {\r\n        private long id;\r\n    \r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n    }\r\n\r\n    public String getData (@RequestBody User user) {\r\n        Long id_long = user.getId(); ","title":"Convert Int in Request Body to Long always","body":"<p>The simple answer is to use a <strong>java.lang.Number</strong> object, which is the superclass of the <strong>Long</strong> and <strong>Integer</strong> classes.  It has a <strong>longValue()</strong> method to get the value as a long every time.</p>\n\n<pre><code>public String getData (@RequestBody User user) {\n    Long id_long = ((Number) jsonRequest.get(\"id\")).longValue();\n</code></pre>\n\n<p>The longer answer would be not to use a generic class like JSONObject.  Define your own class, and use spring to bind to it...</p>\n\n<pre><code>public class User {\n    private long id;\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n}\n\npublic String getData (@RequestBody User user) {\n    Long id_long = user.getId(); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455524046,"creation_date":1455524046,"answer_id":35404350,"question_id":35398349,"body_markdown":"`Integer` has a [longValue][1] method that returns the value as a `long` (primitive). You can assign it to `id_long` and let the [autoboxing][2] wrapping it into a `Long`.    \r\n\r\n    public String getData (@RequestBody JSONObject jsonRequest) {\r\n        Long id_long = jsonRequest.get(&quot;id&quot;).longValue();\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#longValue--\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html","title":"Convert Int in Request Body to Long always","body":"<p><code>Integer</code> has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#longValue--\" rel=\"nofollow\">longValue</a> method that returns the value as a <code>long</code> (primitive). You can assign it to <code>id_long</code> and let the <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow\">autoboxing</a> wrapping it into a <code>Long</code>.    </p>\n\n<pre><code>public String getData (@RequestBody JSONObject jsonRequest) {\n    Long id_long = jsonRequest.get(\"id\").longValue();\n}\n</code></pre>\n"}],"owner":{"account_id":449536,"reputation":251,"user_id":844373,"accept_rate":53,"display_name":"Gargob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35398601,"answer_count":2,"score":1,"last_activity_date":1650378468,"creation_date":1455486211,"question_id":35398349,"body_markdown":"I wrote my backend in Java, and the endpoint is hit with a request body. The endpoint has a JSON body that looks like this\r\n\r\n    {&quot;id&quot;: 1234, &quot;data&quot;: {...}}\r\n\r\nNow, I&#39;m getting the request data, and storing it by the id. I want to save the ids&#39; as longs, however, the values can be anywhere from int-valid to long-valid.\r\n\r\nI&#39;m using the Spring framework in order to save it. The function looks like this\r\n\r\n    public String getData (@RequestBody JSONObject jsonRequest) {\r\n    \tLong id_long = (Long) jsonRequest.get(&quot;id&quot;); \r\n\r\nHowever, I get this error \r\n    \r\n    java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.Long\r\n\r\nThis is where I&#39;m stuck. Sometimes the id value will be valid like 1234L, or a really long number which is in long range. However, sometimes it is int range. I haven&#39;t used Java that much so I was wondering how to do the cast properly so I always get a long.","title":"Convert Int in Request Body to Long always","body":"<p>I wrote my backend in Java, and the endpoint is hit with a request body. The endpoint has a JSON body that looks like this</p>\n\n<pre><code>{\"id\": 1234, \"data\": {...}}\n</code></pre>\n\n<p>Now, I'm getting the request data, and storing it by the id. I want to save the ids' as longs, however, the values can be anywhere from int-valid to long-valid.</p>\n\n<p>I'm using the Spring framework in order to save it. The function looks like this</p>\n\n<pre><code>public String getData (@RequestBody JSONObject jsonRequest) {\n    Long id_long = (Long) jsonRequest.get(\"id\"); \n</code></pre>\n\n<p>However, I get this error </p>\n\n<pre><code>java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.Long\n</code></pre>\n\n<p>This is where I'm stuck. Sometimes the id value will be valid like 1234L, or a really long number which is in long range. However, sometimes it is int range. I haven't used Java that much so I was wondering how to do the cast properly so I always get a long.</p>\n"},{"tags":["java","sql","database"],"comments":[{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":0,"creation_date":1650373448,"post_id":71925426,"comment_id":127095467,"body_markdown":"Use a parameter instead to pass the input value.","body":"Use a parameter instead to pass the input value."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1650373671,"post_id":71925426,"comment_id":127095559,"body_markdown":"`if (rs.next()) { // input found }`. Incidentally, no need for the overhead of `SELECT *`. Just the key column will do","body":"<code>if (rs.next()) { &#47;&#47; input found }</code>. Incidentally, no need for the overhead of <code>SELECT *</code>. Just the key column will do"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1650374022,"post_id":71925426,"comment_id":127095699,"body_markdown":"A result set is a &quot;tabular data structure&quot;. That means it consists of rows, each one including multiple fields. Do you want to check for the existence of rows or for the value of a specific field?","body":"A result set is a &quot;tabular data structure&quot;. That means it consists of rows, each one including multiple fields. Do you want to check for the existence of rows or for the value of a specific field?"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1650376858,"post_id":71925426,"comment_id":127096905,"body_markdown":"@g00se – Your comment provides the best answer to the question, and I would like to upvote it … but as it is a mere comment, that is useless …","body":"@g00se – Your comment provides the best answer to the question, and I would like to upvote it … but as it is a mere comment, that is useless …"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650377221,"post_id":71925426,"comment_id":127097072,"body_markdown":"I can post it as an answer. But the comment about using `PreparedStatement` is important too AND includes my comment","body":"I can post it as an answer. But the comment about using <code>PreparedStatement</code> is important too AND includes my comment"},{"owner":{"account_id":15251160,"reputation":11,"user_id":11004464,"display_name":"Swagatg Gautam"},"score":0,"creation_date":1650386802,"post_id":71925426,"comment_id":127100916,"body_markdown":"I want to check if there exists a record that has an ISBN number that matches the value line. If yes,  &quot;line&quot; will be passed and I will extract the record details and show it on the displayBookInfo() module. So check if it returns null or a value and how do I do it?","body":"I want to check if there exists a record that has an ISBN number that matches the value line. If yes,  &quot;line&quot; will be passed and I will extract the record details and show it on the displayBookInfo() module. So check if it returns null or a value and how do I do it?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650373839,"creation_date":1650373839,"answer_id":71925532,"question_id":71925426,"body_markdown":"This __code is a security leak__. You must fix this first.\r\n\r\nYou cannot include untrusted inputs in a query like this. What if someone enters, say:\r\n\r\n```\r\n1234&#39;; DROP TABLE books CASCADE; EXECUTE &#39;FORMAT C: /Y&#39;; --\r\n```\r\n\r\nIn the web form? Don&#39;t try it, you&#39;ll wipe your disk. You get the point, surely.\r\n\r\nThe right way is to use `stm.prepareStatement(sql)`, where `sql` is _a constant_ (so not something you insert user entered stuff into), using a `?` where user input is needed, then calling `.setString(1, line)` to then tell your db driver what should go in place of the question mark.\r\n\r\nThen, simply `rs.next()`, which advanced to the next row in the result (first call advances to the first row). If there are no rows left, it returns false instead. Hence, if your query returns 0 rows, the first `resultSet.next()` call returns false right away.\r\n\r\nYour code also fails to close. You must use try-with-resources on everything (ResultSet, (Prepared)Statement, and most importantly the Connection), or your app will crash after a few statements.\r\n\r\nNB: Minor nit, if all you want to know is if there&#39;s at least one result, add `LIMIT 1`, and just `SELECT 1 FROM` instead - it&#39;s less overhead that way.\r\n","title":"How do I check if the sql command returns null or a value?","body":"<p>This <strong>code is a security leak</strong>. You must fix this first.</p>\n<p>You cannot include untrusted inputs in a query like this. What if someone enters, say:</p>\n<pre><code>1234'; DROP TABLE books CASCADE; EXECUTE 'FORMAT C: /Y'; --\n</code></pre>\n<p>In the web form? Don't try it, you'll wipe your disk. You get the point, surely.</p>\n<p>The right way is to use <code>stm.prepareStatement(sql)</code>, where <code>sql</code> is <em>a constant</em> (so not something you insert user entered stuff into), using a <code>?</code> where user input is needed, then calling <code>.setString(1, line)</code> to then tell your db driver what should go in place of the question mark.</p>\n<p>Then, simply <code>rs.next()</code>, which advanced to the next row in the result (first call advances to the first row). If there are no rows left, it returns false instead. Hence, if your query returns 0 rows, the first <code>resultSet.next()</code> call returns false right away.</p>\n<p>Your code also fails to close. You must use try-with-resources on everything (ResultSet, (Prepared)Statement, and most importantly the Connection), or your app will crash after a few statements.</p>\n<p>NB: Minor nit, if all you want to know is if there's at least one result, add <code>LIMIT 1</code>, and just <code>SELECT 1 FROM</code> instead - it's less overhead that way.</p>\n"}],"owner":{"account_id":15251160,"reputation":11,"user_id":11004464,"display_name":"Swagatg Gautam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650378230,"creation_date":1650373365,"question_id":71925426,"body_markdown":"    try{\r\n            Statement stm = conn.createStatement();\r\n\r\n            String sql = &quot;SELECT * from BOOKS WHERE ISBN_No = &#39;&quot; + line + &quot;&#39;&quot;;\r\n            ResultSet rs = stm.executeQuery(sql);\r\n            if(//values are returned) {\r\n                displayBookInfo(line);\r\n            }\r\n            else (//if it is null) {\r\n                System.out.println(&quot;No book found&quot;);\r\n            }\r\n            stm.close();\r\n\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n            System.out.println(&quot;Fail to search the book&quot; + line );\r\n            noException = false;\r\n        }\r\nAfter I execute the ResultSet rs = stm.executeQuery(sql); I want to check if the query returned a value or if it was empty so that I can execute either &quot;display book details&quot; or &quot;no book found message&quot;. I am just confused about how I should compare and how comparison works.","title":"How do I check if the sql command returns null or a value?","body":"<pre><code>try{\n        Statement stm = conn.createStatement();\n\n        String sql = &quot;SELECT * from BOOKS WHERE ISBN_No = '&quot; + line + &quot;'&quot;;\n        ResultSet rs = stm.executeQuery(sql);\n        if(//values are returned) {\n            displayBookInfo(line);\n        }\n        else (//if it is null) {\n            System.out.println(&quot;No book found&quot;);\n        }\n        stm.close();\n\n    } catch (SQLException e) {\n        e.printStackTrace();\n        System.out.println(&quot;Fail to search the book&quot; + line );\n        noException = false;\n    }\n</code></pre>\n<p>After I execute the ResultSet rs = stm.executeQuery(sql); I want to check if the query returned a value or if it was empty so that I can execute either &quot;display book details&quot; or &quot;no book found message&quot;. I am just confused about how I should compare and how comparison works.</p>\n"},{"tags":["java","regex","mongodb"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":2,"creation_date":1442917168,"post_id":32714333,"comment_id":53270883,"body_markdown":"In Java, do not use regex delimiters. Try `&quot;^(?i)&quot;+Pattern.quote(name)` instead of `&quot;/^&quot;+name+&quot;/i&quot;`.","body":"In Java, do not use regex delimiters. Try <code>&quot;^(?i)&quot;+Pattern.quote(name)</code> instead of <code>&quot;&#47;^&quot;+name+&quot;&#47;i&quot;</code>."},{"owner":{"account_id":1813261,"reputation":642,"user_id":1648908,"display_name":"Indrajeet"},"score":0,"creation_date":1442917879,"post_id":32714333,"comment_id":53271310,"body_markdown":"Thanks, it worked so basically &quot;^(?)&quot;+Pattern.quote(&quot;ind&quot;) converted value to ^(?)\\Qind\\E","body":"Thanks, it worked so basically &quot;^(?)&quot;+Pattern.quote(&quot;ind&quot;) converted value to ^(?)\\Qind\\E"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1442918045,"post_id":32714333,"comment_id":53271414,"body_markdown":"Yes, that is true. I posted the suggestion as an answer.","body":"Yes, that is true. I posted the suggestion as an answer."},{"owner":{"account_id":900262,"reputation":720,"user_id":936586,"display_name":"Marco Fantasia"},"score":0,"creation_date":1506408994,"post_id":32714333,"comment_id":79796598,"body_markdown":"Please specify which import you use.\nimport java.util.regex.Pattern;","body":"Please specify which import you use. import java.util.regex.Pattern;"},{"owner":{"account_id":5676253,"reputation":1243,"user_id":4489295,"display_name":"TimeTraveler"},"score":0,"creation_date":1609916151,"post_id":32714333,"comment_id":115967605,"body_markdown":"Something similar worked for me - `findQuery.append(&quot;name&quot;, new BsonRegularExpression(regexLiteral));`","body":"Something similar worked for me - <code>findQuery.append(&quot;name&quot;, new BsonRegularExpression(regexLiteral));</code>"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1442918028,"creation_date":1442918028,"answer_id":32714630,"question_id":32714333,"body_markdown":"You cannot use regex delimiters in Java `Pattern.compile`, as there are other means in Java (e.g. flags) to do the same.\r\n\r\nTo enforce case-insensitive search, use inline modifier `(?i)`. So,\r\nuse `&quot;^(?i)&quot;+Pattern.quote(name)` instead of `&quot;/^&quot;+name+&quot;/i&quot;`.\r\n\r\n`Pattern.quote` just escapes all regex metacharacters so  that they were treated as literals (same as `\\Q`...`\\E`).","title":"Java Mongodb regex query","body":"<p>You cannot use regex delimiters in Java <code>Pattern.compile</code>, as there are other means in Java (e.g. flags) to do the same.</p>\n\n<p>To enforce case-insensitive search, use inline modifier <code>(?i)</code>. So,\nuse <code>\"^(?i)\"+Pattern.quote(name)</code> instead of <code>\"/^\"+name+\"/i\"</code>.</p>\n\n<p><code>Pattern.quote</code> just escapes all regex metacharacters so  that they were treated as literals (same as <code>\\Q</code>...<code>\\E</code>).</p>\n"},{"tags":[],"owner":{"account_id":1633828,"reputation":495,"user_id":1507859,"accept_rate":57,"display_name":"pulu"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1475758997,"creation_date":1475758997,"answer_id":39896781,"question_id":32714333,"body_markdown":"I guess there is a more elegant way to do that in Java, by using the provided Filters in the MongoDB Java Driver (version 3 and above):\r\n\r\n    Document query = new Document(&quot;equipment&quot;,&quot;gloves&quot;);\r\n\r\n    //whatever pattern you need. But you do not need the &quot;/&quot; delimiters\r\n    String pattern = &quot;.*&quot; + query.getString(&quot;equipment&quot;) + &quot;.*&quot;;\r\n\r\n    //find(regex(&quot;field name&quot;, &quot;pattern&quot;, &quot;options&quot;));\r\n    collection.find(regex(&quot;equipment&quot;, pattern, &quot;i&quot;));\r\n\r\n","title":"Java Mongodb regex query","body":"<p>I guess there is a more elegant way to do that in Java, by using the provided Filters in the MongoDB Java Driver (version 3 and above):</p>\n\n<pre><code>Document query = new Document(\"equipment\",\"gloves\");\n\n//whatever pattern you need. But you do not need the \"/\" delimiters\nString pattern = \".*\" + query.getString(\"equipment\") + \".*\";\n\n//find(regex(\"field name\", \"pattern\", \"options\"));\ncollection.find(regex(\"equipment\", pattern, \"i\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2394186,"reputation":3386,"user_id":2093371,"display_name":"hestellezg"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1650378145,"creation_date":1498253432,"answer_id":44730220,"question_id":32714333,"body_markdown":"You could use Pattern -and Filters-\r\n\r\n    Pattern regex = Pattern.compile(&quot;ind&quot;, Pattern.CASE_INSENSITIVE);\r\n    Bson filter = Filters.eq(&quot;name&quot;, regex);\r\n\r\nThe object Pattern has some other flags, as you can see [here][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#field_summary","title":"Java Mongodb regex query","body":"<p>You could use Pattern -and Filters-</p>\n<pre><code>Pattern regex = Pattern.compile(&quot;ind&quot;, Pattern.CASE_INSENSITIVE);\nBson filter = Filters.eq(&quot;name&quot;, regex);\n</code></pre>\n<p>The object Pattern has some other flags, as you can see <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#field_summary\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":13438799,"reputation":255,"user_id":9696537,"display_name":"Mihael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534255461,"creation_date":1534255461,"answer_id":51843368,"question_id":32714333,"body_markdown":"Most of the answers here are not working for me (maybe not up-to-date MongoDB Java driver). Here is what worked for me:\r\n\r\n    Document regexQuery = new Document();\r\n    regexQuery.append(&quot;$regex&quot;, &quot;.*&quot; + Pattern.quote(searchTerm) + &quot;.*&quot;);\r\n    BasicDBObject criteria = new BasicDBObject(&quot;name&quot;, regexQuery);\r\n    DBCursor cursor = collection.find(criteria);","title":"Java Mongodb regex query","body":"<p>Most of the answers here are not working for me (maybe not up-to-date MongoDB Java driver). Here is what worked for me:</p>\n\n<pre><code>Document regexQuery = new Document();\nregexQuery.append(\"$regex\", \".*\" + Pattern.quote(searchTerm) + \".*\");\nBasicDBObject criteria = new BasicDBObject(\"name\", regexQuery);\nDBCursor cursor = collection.find(criteria);\n</code></pre>\n"}],"owner":{"account_id":1813261,"reputation":642,"user_id":1648908,"display_name":"Indrajeet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28625,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":32714630,"answer_count":4,"score":20,"last_activity_date":1650378145,"creation_date":1442917093,"question_id":32714333,"body_markdown":"I have to run this query in Java\r\n\r\n     db.Users.find({&quot;name&quot;: /^ind/i})\r\n\r\nMy Java code is \r\n\r\n    Document findQuery = new Document();\r\n    findQuery.append(&quot;name&quot;, Pattern.compile(&quot;/^&quot;+name+&quot;/i&quot;));\r\n    FindIterable&lt;Document&gt; iterable = db.getCollection(&quot;Users&quot;).find(findQuery);\r\n\r\nIt is not returning any data, I think the above java code is converting \r\n\r\n    &gt; /^ind/i into &quot;/^ind/i&quot;\r\n\r\n \r\nThanks in advance.\r\n\r\n**Edit:**\r\n\r\nBased on stribizhev suggestion updated the query and its worked \r\n\r\n    db.Users.find({&quot;name&quot;: {&quot;$regex&quot;: /^ind/, &quot;$options&quot;: &quot;i&quot;}})\r\n\r\nJava code \r\n\r\n    Document regQuery = new Document();\r\n    regQuery.append(&quot;$regex&quot;, &quot;^(?)&quot; + Pattern.quote(name));\r\n    regQuery.append(&quot;$options&quot;, &quot;i&quot;);\r\n    \r\n    Document findQuery = new Document();\r\n    findQuery.append(&quot;name&quot;, regQuery);\r\n    FindIterable&lt;Document&gt; iterable = db.getCollection(&quot;Users&quot;).find(findQuery);","title":"Java Mongodb regex query","body":"<p>I have to run this query in Java</p>\n\n<pre><code> db.Users.find({\"name\": /^ind/i})\n</code></pre>\n\n<p>My Java code is </p>\n\n<pre><code>Document findQuery = new Document();\nfindQuery.append(\"name\", Pattern.compile(\"/^\"+name+\"/i\"));\nFindIterable&lt;Document&gt; iterable = db.getCollection(\"Users\").find(findQuery);\n</code></pre>\n\n<p>It is not returning any data, I think the above java code is converting </p>\n\n<pre><code>&gt; /^ind/i into \"/^ind/i\"\n</code></pre>\n\n<p>Thanks in advance.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Based on stribizhev suggestion updated the query and its worked </p>\n\n<pre><code>db.Users.find({\"name\": {\"$regex\": /^ind/, \"$options\": \"i\"}})\n</code></pre>\n\n<p>Java code </p>\n\n<pre><code>Document regQuery = new Document();\nregQuery.append(\"$regex\", \"^(?)\" + Pattern.quote(name));\nregQuery.append(\"$options\", \"i\");\n\nDocument findQuery = new Document();\nfindQuery.append(\"name\", regQuery);\nFindIterable&lt;Document&gt; iterable = db.getCollection(\"Users\").find(findQuery);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1650375254,"post_id":71923567,"comment_id":127096192,"body_markdown":"Just saying: when following java naming conventions, the correct camel case would be TradId. Which looks weird, so I get it why you prefer ID instead of Id.","body":"Just saying: when following java naming conventions, the correct camel case would be TradId. Which looks weird, so I get it why you prefer ID instead of Id."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1650378363,"post_id":71923567,"comment_id":127097564,"body_markdown":"@GhostCat I think it should be `TradeId`, which looks perfectly fine to me :-)","body":"@GhostCat I think it should be <code>TradeId</code>, which looks perfectly fine to me :-)"},{"owner":{"account_id":29923,"reputation":10691,"user_id":81216,"display_name":"TonyArra"},"score":0,"creation_date":1650423813,"post_id":71923567,"comment_id":127109843,"body_markdown":"Does this answer your question? [Regex for converting CamelCase to camel\\_case in java](https://stackoverflow.com/questions/10310321/regex-for-converting-camelcase-to-camel-case-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10310321/regex-for-converting-camelcase-to-camel-case-in-java\">Regex for converting CamelCase to camel_case in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650368251,"creation_date":1650366980,"answer_id":71924052,"question_id":71923567,"body_markdown":"try this\r\n\r\n```java\r\nstr = str.replace(&quot;get&quot;, &quot;&quot;)\r\n    .replaceAll(&quot;([A-Z]+)([A-Z][a-z])&quot;, &quot;$1_$2&quot;)\r\n    .replaceAll(&quot;([a-z])([A-Z])&quot;, &quot;$1_$2&quot;)\r\n```","title":"Is there any simple way to convert camel-case to snake-case correctly?","body":"<p>try this</p>\n<pre class=\"lang-java prettyprint-override\"><code>str = str.replace(&quot;get&quot;, &quot;&quot;)\n    .replaceAll(&quot;([A-Z]+)([A-Z][a-z])&quot;, &quot;$1_$2&quot;)\n    .replaceAll(&quot;([a-z])([A-Z])&quot;, &quot;$1_$2&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650367328,"creation_date":1650367328,"answer_id":71924126,"question_id":71923567,"body_markdown":"Use a boolean first-time switch to only put an underscore after the second upper case letter.\r\n\r\nHere are some test results.\r\n\r\n    getTradeID\r\n    Trade_ID\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    public class RemoveGet {\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\targs = new String[1];\r\n    \t\targs[0] = &quot;getTradeID&quot;;\r\n    \t\t\r\n    \t\tfor (String a : args) {\r\n    \t\t\tSystem.out.println(a);\r\n    \t\t\tString b = a.replace(&quot;get&quot;, &quot;&quot;);\r\n    \t\t\tboolean firstTimeSwitch = true;\r\n    //\t\t\tSystem.out.println(b);\r\n    \t\t\tStringBuffer sb = new StringBuffer();\r\n    \t\t\tsb.append(b.charAt(0));\r\n    \t\t\t\r\n    \t\t\tfor (int i = 1; i &lt; b.length(); i++) {\r\n    \t\t\t\tif (firstTimeSwitch &amp;&amp; Character.isUpperCase(b.charAt(i))) {\r\n    \t\t\t\t\tsb.append(&quot;_&quot;);\r\n    \t\t\t\t\tsb.append(b.charAt(i));\r\n    \t\t\t\t\tfirstTimeSwitch = false;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tsb.append(b.charAt(i));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(sb.toString());\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"Is there any simple way to convert camel-case to snake-case correctly?","body":"<p>Use a boolean first-time switch to only put an underscore after the second upper case letter.</p>\n<p>Here are some test results.</p>\n<pre><code>getTradeID\nTrade_ID\n</code></pre>\n<p>Here's the complete runnable code.</p>\n<pre><code>public class RemoveGet {\n\n    public static void main(String args[]) {\n        args = new String[1];\n        args[0] = &quot;getTradeID&quot;;\n        \n        for (String a : args) {\n            System.out.println(a);\n            String b = a.replace(&quot;get&quot;, &quot;&quot;);\n            boolean firstTimeSwitch = true;\n//          System.out.println(b);\n            StringBuffer sb = new StringBuffer();\n            sb.append(b.charAt(0));\n            \n            for (int i = 1; i &lt; b.length(); i++) {\n                if (firstTimeSwitch &amp;&amp; Character.isUpperCase(b.charAt(i))) {\n                    sb.append(&quot;_&quot;);\n                    sb.append(b.charAt(i));\n                    firstTimeSwitch = false;\n                } else {\n                    sb.append(b.charAt(i));\n                }\n            }\n            \n            System.out.println(sb.toString());\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1985247,"reputation":395,"user_id":1780667,"accept_rate":67,"display_name":"Deepeshkumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650378021,"creation_date":1650378021,"answer_id":71926529,"question_id":71923567,"body_markdown":"Instead of writing all logic in the main function, write some functions to do small tasks and call them in the main function. This makes the code readable and easy to debug. This could be the possible solution code:\r\n\r\n    public class RemoveGet {\r\n\r\n     public static String addUnderScoreAppropriately(String input) {\r\n         String result = &quot;&quot;;\r\n         String underScore = &quot;_&quot;;\r\n         for(int i=0; i&lt;input.length();i++) {\r\n             if((Character.isUpperCase(input.charAt(i))) &amp;&amp; (i != 0)) {\r\n                 result = result + underScore + input.charAt(i);\r\n             }else{\r\n                 result = result + input.charAt(i);\r\n             }\r\n         }\r\n         result = result.replace(&quot;_I_D&quot;,&quot;_ID&quot;);\r\n         return result;\r\n     }\r\n\r\n     public static void main(String args[]) {\r\n        for (String a : args) {\r\n            System.out.println(addUnderScoreAppropriately(a.replace(&quot;get&quot;,&quot;&quot;)));\r\n        }\r\n     }\r\n\r\n    }","title":"Is there any simple way to convert camel-case to snake-case correctly?","body":"<p>Instead of writing all logic in the main function, write some functions to do small tasks and call them in the main function. This makes the code readable and easy to debug. This could be the possible solution code:</p>\n<pre><code>public class RemoveGet {\n\n public static String addUnderScoreAppropriately(String input) {\n     String result = &quot;&quot;;\n     String underScore = &quot;_&quot;;\n     for(int i=0; i&lt;input.length();i++) {\n         if((Character.isUpperCase(input.charAt(i))) &amp;&amp; (i != 0)) {\n             result = result + underScore + input.charAt(i);\n         }else{\n             result = result + input.charAt(i);\n         }\n     }\n     result = result.replace(&quot;_I_D&quot;,&quot;_ID&quot;);\n     return result;\n }\n\n public static void main(String args[]) {\n    for (String a : args) {\n        System.out.println(addUnderScoreAppropriately(a.replace(&quot;get&quot;,&quot;&quot;)));\n    }\n }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25002076,"reputation":11,"user_id":18862396,"display_name":"Sai Chand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1650378021,"creation_date":1650364796,"question_id":71923567,"body_markdown":"\r\nI tried as the below code code snippet, but the TradeID is printing as Trade_I_D, but it must be as Trade_ID.\r\n\r\n- input: `getCurrency, getAccountName, getTradeID `\r\n- expected output: `Currency, Account_Name, Trade_ID`\r\n\r\n\r\n```java\r\npublic class RemoveGet {\r\n\r\n    public static void main(String args[]) {\r\n        for (String a : args) {\r\n            String b = a.replace(&quot;get&quot;, &quot;&quot;);\r\n            //System.out.println(b);\r\n            StringBuffer sb = new StringBuffer();\r\n            for (int i = 0; i &lt; b.length(); i++) {\r\n                if (Character.isUpperCase(b.charAt(i))) {\r\n                    sb.append(&quot;_&quot;);\r\n                    sb.append(b.charAt(i));\r\n                } else {\r\n                    sb.append(b.charAt(i));\r\n                }\r\n            }\r\n            //System.out.println(sb.toString());\r\n            String c = sb.toString();\r\n            if (c.startsWith(&quot;_&quot;)) {\r\n                System.out.println(c.substring(1));\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Is there any simple way to convert camel-case to snake-case correctly?","body":"<p>I tried as the below code code snippet, but the TradeID is printing as Trade_I_D, but it must be as Trade_ID.</p>\n<ul>\n<li>input: <code>getCurrency, getAccountName, getTradeID </code></li>\n<li>expected output: <code>Currency, Account_Name, Trade_ID</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class RemoveGet {\n\n    public static void main(String args[]) {\n        for (String a : args) {\n            String b = a.replace(&quot;get&quot;, &quot;&quot;);\n            //System.out.println(b);\n            StringBuffer sb = new StringBuffer();\n            for (int i = 0; i &lt; b.length(); i++) {\n                if (Character.isUpperCase(b.charAt(i))) {\n                    sb.append(&quot;_&quot;);\n                    sb.append(b.charAt(i));\n                } else {\n                    sb.append(b.charAt(i));\n                }\n            }\n            //System.out.println(sb.toString());\n            String c = sb.toString();\n            if (c.startsWith(&quot;_&quot;)) {\n                System.out.println(c.substring(1));\n            }\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650377604,"post_id":71919067,"comment_id":127097229,"body_markdown":"Creating this won&#39;t solve a thing. It isn&#39;t the save method that executes the additional select it is JPA. So trying to shoehorn a new method inthere won&#39;t change a thing it will only introduce complexity.","body":"Creating this won&#39;t solve a thing. It isn&#39;t the save method that executes the additional select it is JPA. So trying to shoehorn a new method inthere won&#39;t change a thing it will only introduce complexity."},{"owner":{"account_id":3996823,"reputation":302,"user_id":3294082,"display_name":"RookieCookie"},"score":0,"creation_date":1650397585,"post_id":71919067,"comment_id":127104545,"body_markdown":"@M.Deinum I was refering to the save method of JpaRepository which corressponds to the save method of CrudRepository. I don&#39;t understand why this won&#39;t solve a thing but I see how complexity is being introduced. Both of the solutions do not trigger a SELECT before INSERT but complexity aside, is this a safe approach accross multiple requests?","body":"@M.Deinum I was refering to the save method of JpaRepository which corressponds to the save method of CrudRepository. I don&#39;t understand why this won&#39;t solve a thing but I see how complexity is being introduced. Both of the solutions do not trigger a SELECT before INSERT but complexity aside, is this a safe approach accross multiple requests?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1650436912,"post_id":71919067,"comment_id":127112251,"body_markdown":"Eventually the `save` method calls `entitymanager.persist` or `entitymanager.merge` as well. So it has nothing to do with Spring Data JPA but how JPA works, the same will happen if you use `entitymanager.merge` yourself.","body":"Eventually the <code>save</code> method calls <code>entitymanager.persist</code> or <code>entitymanager.merge</code> as well. So it has nothing to do with Spring Data JPA but how JPA works, the same will happen if you use <code>entitymanager.merge</code> yourself."}],"owner":{"account_id":3996823,"reputation":302,"user_id":3294082,"display_name":"RookieCookie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650377211,"creation_date":1650335893,"question_id":71919067,"body_markdown":"I observed that the `.save()` method executes an extra `SELECT` query to check whether the corresponding record already exists when the corresponding ID is not a `AUTO INCREMENT` one.\r\n\r\nI tried to implement a repository for this kind of situation that will be extended **by many** `JpaRepository` interfaces which will be used across different stateless services and I would like to know if my code is safe - race conditions wise - accross multiple requests as I am not that comfortable using the `EntityManager` yet.\r\n\r\nUser Entity :\r\n\r\n    public class User  {\r\n    \r\n        @Id\r\n        @Column(name = &quot;username&quot;, nullable = false, length = 45)\r\n        private String username;\r\n    \r\n        @Column(name = &quot;password&quot;, nullable = false, length = 256)\r\n        private String password;\r\n    }\r\n\r\n**Solution 1** :\r\n\r\n    public interface SimpleRepository&lt;T&gt; {\r\n    \r\n        void persist(T entity);\r\n    }\r\n    \r\n    public class SimpleRepositoryImpl&lt;T&gt; implements SimpleRepository&lt;T&gt; {\r\n    \r\n        @PersistenceContext\r\n        EntityManager entityManager;\r\n    \r\n        @Transactional\r\n        @Override\r\n        public void persist(T entity) {\r\n            entityManager.persist(entity);\r\n        }\r\n    }\r\n\r\nUser Repository :\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, String&gt;, SimpleRepository&lt;User&gt; {}\r\n\r\nUser Service :\r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n    public class UserService {\r\n    \r\n        private final UserRepository userRepository;\r\n      \r\n    \r\n        public void createUser(User user) {\r\n            this.userRepository.persist(user);\r\n        }\r\n    }\r\n\r\nThe same implementation will be followed across many different JPA Repositories and Services in the application.\r\n\r\nIf the solution above **is not safe** how about this one? \r\n\r\n    @Service\r\n    public class PersistenceService {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n        @Transactional\r\n        public &lt;T&gt; void persist(T entity) {\r\n            entityManager.persist(entity);\r\n        }\r\n    \r\n    }\r\n\r\nWhich will turn my UserService and every other Service that is in need of the same functionality to :\r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n    public class UserService {\r\n    \r\n        private final PersistenceService persistenceService;\r\n      \r\n        public void createUser(User user) {\r\n            this.persistenceService.persist(user);\r\n        }\r\n    }\r\n  ","title":"Custom Repository using Entity Manager in Spring Boot","body":"<p>I observed that the <code>.save()</code> method executes an extra <code>SELECT</code> query to check whether the corresponding record already exists when the corresponding ID is not a <code>AUTO INCREMENT</code> one.</p>\n<p>I tried to implement a repository for this kind of situation that will be extended <strong>by many</strong> <code>JpaRepository</code> interfaces which will be used across different stateless services and I would like to know if my code is safe - race conditions wise - accross multiple requests as I am not that comfortable using the <code>EntityManager</code> yet.</p>\n<p>User Entity :</p>\n<pre><code>public class User  {\n\n    @Id\n    @Column(name = &quot;username&quot;, nullable = false, length = 45)\n    private String username;\n\n    @Column(name = &quot;password&quot;, nullable = false, length = 256)\n    private String password;\n}\n</code></pre>\n<p><strong>Solution 1</strong> :</p>\n<pre><code>public interface SimpleRepository&lt;T&gt; {\n\n    void persist(T entity);\n}\n\npublic class SimpleRepositoryImpl&lt;T&gt; implements SimpleRepository&lt;T&gt; {\n\n    @PersistenceContext\n    EntityManager entityManager;\n\n    @Transactional\n    @Override\n    public void persist(T entity) {\n        entityManager.persist(entity);\n    }\n}\n</code></pre>\n<p>User Repository :</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, String&gt;, SimpleRepository&lt;User&gt; {}\n</code></pre>\n<p>User Service :</p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class UserService {\n\n    private final UserRepository userRepository;\n  \n\n    public void createUser(User user) {\n        this.userRepository.persist(user);\n    }\n}\n</code></pre>\n<p>The same implementation will be followed across many different JPA Repositories and Services in the application.</p>\n<p>If the solution above <strong>is not safe</strong> how about this one?</p>\n<pre><code>@Service\npublic class PersistenceService {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Transactional\n    public &lt;T&gt; void persist(T entity) {\n        entityManager.persist(entity);\n    }\n\n}\n</code></pre>\n<p>Which will turn my UserService and every other Service that is in need of the same functionality to :</p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class UserService {\n\n    private final PersistenceService persistenceService;\n  \n    public void createUser(User user) {\n        this.persistenceService.persist(user);\n    }\n}\n</code></pre>\n"},{"tags":["java","php","android","mysql","android-studio"],"comments":[{"owner":{"account_id":4671581,"reputation":5413,"user_id":3783243,"accept_rate":82,"display_name":"user3783243"},"score":0,"creation_date":1650377379,"post_id":71925624,"comment_id":127097140,"body_markdown":"Prepared statement is being misused here. `FROM users WHERE username = ?` then bind `$username`.","body":"Prepared statement is being misused here. <code>FROM users WHERE username = ?</code> then bind <code>$username</code>."}],"answers":[{"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650377185,"creation_date":1650375126,"answer_id":71925846,"question_id":71925624,"body_markdown":"This code is your problem:\r\n\r\n    try{\r\n        JSONArray array = new JSONArray(response);\r\n        for(int i = 0; i&lt;array.length(); i++){\r\n            JSONObject object = array.getJSONObject(i);\r\n            gold = object.getInt(&quot;gold&quot;);\r\n            goldMultiplier = object.getInt(&quot;goldMulti&quot;);\r\n            xp = object.getInt(&quot;xp&quot;);\r\n            xpMultiplier = object.getInt(&quot;xpMulti&quot;);\r\n            xpMax = object.getInt(&quot;xpMax&quot;);\r\n            xpMaxMulti = object.getInt(&quot;xpMaxMulti&quot;);\r\n            dmg = object.getInt(&quot;dmg&quot;);\r\n            dmgMultiplier = object.getInt(&quot;dmgMulti&quot;);\r\n            bossCount = object.getInt(&quot;bossCount&quot;);\r\n            bossHP = object.getInt(&quot;bossHp&quot;);\r\n            bossHPMultiplier = object.getInt(&quot;bossHpMulti&quot;);\r\n            level = object.getInt(&quot;level&quot;);\r\n            backgroundCount = object.getInt(&quot;backgroundCount&quot;);\r\n        }\r\n    } catch (Exception e) {\r\n    \r\n    }\r\n\r\nYou should not leave the catch block empty. It&#39;s likely throwing and swallowing an error.\r\n\r\nDo this:\r\n\r\n        } catch (Exception e) {\r\n            Log.e(&quot;MyApp&quot;, &quot;Error parsing!&quot;, e);\r\n        }\r\n\r\n(Some reading on Logcat https://developer.android.com/studio/debug/am-logcat)\r\nor get rid of the try catch all together and let your app crash (fail fast)!!\r\n\r\n____\r\n\r\nYour actual error (or first error I can see anyway) is that you are attempting to parse a JSONarray when your server side response is a JSONObject. This line of code:\r\n\r\n    JSONArray array = new JSONArray(response);\r\n\r\nAnd this response:   \r\n\r\n    {\r\n       &quot;gold&quot;:600, &quot;goldMulti&quot;:3,\r\n       &quot;xp&quot;:0, &quot;xpMulti&quot;:3, &quot;xpMax&quot;:0, &quot;xpMaxMulti&quot;:0,\r\n       &quot;dmg&quot;:3,&quot;dmgMulti&quot;:3,\r\n       &quot;bossCount&quot;:3,\r\n       &quot;bossHp&quot;:80, \r\n       &quot;bossHpMulti&quot;:14,\r\n       &quot;level&quot;:3,\r\n       &quot;backgroundCount&quot;:3\r\n    }\r\n\r\n(from here) http://jg1104.brighton.domains/AppPhp/variablesretrieval.php\r\n\r\nYou should parse it as a `JsonObject` or wrap your server side returned response in an Array `[]`.","title":"Why are my variables being reset to zero every time I reopen my Main activity","body":"<p>This code is your problem:</p>\n<pre><code>try{\n    JSONArray array = new JSONArray(response);\n    for(int i = 0; i&lt;array.length(); i++){\n        JSONObject object = array.getJSONObject(i);\n        gold = object.getInt(&quot;gold&quot;);\n        goldMultiplier = object.getInt(&quot;goldMulti&quot;);\n        xp = object.getInt(&quot;xp&quot;);\n        xpMultiplier = object.getInt(&quot;xpMulti&quot;);\n        xpMax = object.getInt(&quot;xpMax&quot;);\n        xpMaxMulti = object.getInt(&quot;xpMaxMulti&quot;);\n        dmg = object.getInt(&quot;dmg&quot;);\n        dmgMultiplier = object.getInt(&quot;dmgMulti&quot;);\n        bossCount = object.getInt(&quot;bossCount&quot;);\n        bossHP = object.getInt(&quot;bossHp&quot;);\n        bossHPMultiplier = object.getInt(&quot;bossHpMulti&quot;);\n        level = object.getInt(&quot;level&quot;);\n        backgroundCount = object.getInt(&quot;backgroundCount&quot;);\n    }\n} catch (Exception e) {\n\n}\n</code></pre>\n<p>You should not leave the catch block empty. It's likely throwing and swallowing an error.</p>\n<p>Do this:</p>\n<pre><code>    } catch (Exception e) {\n        Log.e(&quot;MyApp&quot;, &quot;Error parsing!&quot;, e);\n    }\n</code></pre>\n<p>(Some reading on Logcat <a href=\"https://developer.android.com/studio/debug/am-logcat\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/debug/am-logcat</a>)\nor get rid of the try catch all together and let your app crash (fail fast)!!</p>\n<hr />\n<p>Your actual error (or first error I can see anyway) is that you are attempting to parse a JSONarray when your server side response is a JSONObject. This line of code:</p>\n<pre><code>JSONArray array = new JSONArray(response);\n</code></pre>\n<p>And this response:</p>\n<pre><code>{\n   &quot;gold&quot;:600, &quot;goldMulti&quot;:3,\n   &quot;xp&quot;:0, &quot;xpMulti&quot;:3, &quot;xpMax&quot;:0, &quot;xpMaxMulti&quot;:0,\n   &quot;dmg&quot;:3,&quot;dmgMulti&quot;:3,\n   &quot;bossCount&quot;:3,\n   &quot;bossHp&quot;:80, \n   &quot;bossHpMulti&quot;:14,\n   &quot;level&quot;:3,\n   &quot;backgroundCount&quot;:3\n}\n</code></pre>\n<p>(from here) <a href=\"http://jg1104.brighton.domains/AppPhp/variablesretrieval.php\" rel=\"nofollow noreferrer\">http://jg1104.brighton.domains/AppPhp/variablesretrieval.php</a></p>\n<p>You should parse it as a <code>JsonObject</code> or wrap your server side returned response in an Array <code>[]</code>.</p>\n"}],"owner":{"account_id":24913498,"reputation":15,"user_id":18782750,"display_name":"SnuffyWasTaken"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71925846,"answer_count":1,"score":1,"last_activity_date":1650377185,"creation_date":1650374313,"question_id":71925624,"body_markdown":"I am currently creating an app for a university project. Within the app I use two php scripts - one to set data from variables within the app to a MySQL data base, and the other to retrieve data from the database and set the variables within the app. The first script that sends the data to mySQL is working fine with no issues, however the script to retrieve the data from mySQL to set variables within the app is only working when ran through my webserver. When run within my app (on Activity Start and create) the variables are all set to zero. Any help would be amazing, Ive been stuck for weeks!\r\n\r\n```php\r\n&lt;?php\r\n\r\nrequire &quot;conn.php&quot;;\r\n\r\n$username = &quot;test&quot;;\r\n\r\n$stmt = $conn-&gt;prepare(&quot;SELECT gold, goldMulti, xp, xpMulti, xpMax, xpMaxMulti, dmg, dmgMulti, bossCount, bossHp, bossHpMulti, level, backgroundCount FROM users WHERE username = &#39;$username&#39;&quot;);\r\n\r\n$stmt -&gt;execute();\r\n$stmt -&gt;bind_result($gold, $goldMulti, $xp, $xpMulti, $xpMax, $xpMaxMulti, $dmg, $dmgMulti, $bossCount, $bossHp, $bossHpMulti, $level, $backgroundCount);\r\n\r\n$varaibles = array();\r\n\r\n$stmt -&gt;fetch();\r\n\r\n$temp = array();\r\n\r\n$temp[&#39;gold&#39;] = $gold;\r\n$temp[&#39;goldMulti&#39;] = $goldMulti;\r\n$temp[&#39;xp&#39;] = $xp;\r\n$temp[&#39;xpMulti&#39;] = $xpMulti;\r\n$temp[&#39;xpMax&#39;] = $xpMax;\r\n$temp[&#39;xpMaxMulti&#39;] = $xpMaxMulti;\r\n$temp[&#39;dmg&#39;] = $dmg;\r\n$temp[&#39;dmgMulti&#39;] = $dmgMulti;\r\n$temp[&#39;bossCount&#39;] = $bossCount;\r\n$temp[&#39;bossHp&#39;] = $bossHp;\r\n$temp[&#39;bossHpMulti&#39;] = $bossHpMulti;\r\n$temp[&#39;level&#39;] = $level;\r\n$temp[&#39;backgroundCount&#39;] = $backgroundCount;\r\n\r\n\r\narray_push($variables,$temp);\r\n\r\necho json_encode($temp);\r\n\r\n?&gt;\r\n```\r\n\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n    // int variables for logic and functions ------------------------------------------------------\r\n    public int gold;\r\n    public int goldAwarded;\r\n    public int goldMultiplier;\r\n    public int xp;\r\n    public int xpAwarded;\r\n    public int xpMultiplier;\r\n    public int dmg;\r\n    public int dmgMultiplier;\r\n    public int bossCount;\r\n    public int bossHP;\r\n    public int bossHPMultiplier;\r\n    public int bossHPBase;\r\n    public int level;\r\n    public int xpMax;\r\n    public int bossCountFunc;\r\n    public int backgroundCount;\r\n    public int xpMaxMulti;\r\n    public int baseDmg;\r\n\r\n\r\n// Widget variables -----------------------------------------------------------------------------\r\n    private TextView bossNumberText;\r\n    private TextView levelText;\r\n    private TextView goldText;\r\n    private TextView bossHealthText;\r\n    private ImageButton tapButton;\r\n    private ImageView bossImage;\r\n    private ImageView playerImage;\r\n    private ImageView bossImage2;\r\n    private ImageView bossImage3;\r\n    private ImageButton shopButton;\r\n    public String LoggedInUser = LogIn.getUser();\r\n\r\n// Audio players --------------------------------------------------------------------------------\r\n    MediaPlayer mps;\r\n    MediaPlayer mpb;\r\n    MediaPlayer mpc;\r\n    MediaPlayer mpl;\r\n    MediaPlayer mpp;\r\n\r\n\r\n\r\n// Websever php file URL to retrieve Data from user ----------------------------------------------\r\n\r\n    private static final String URL = &quot;http://jg1104.brighton.domains/AppPhp/variablesretrieval.php&quot;;\r\n\r\n    private void getData(){\r\n\r\n        StringRequest stringRequest = new StringRequest(Request.Method.GET, URL, new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n\r\n                try{\r\n\r\n                    JSONArray array = new JSONArray(response);\r\n                    for(int i = 0; i&lt;array.length(); i++){\r\n                        JSONObject object = array.getJSONObject(i);\r\n                            gold = object.getInt(&quot;gold&quot;);\r\n                            goldMultiplier = object.getInt(&quot;goldMulti&quot;);\r\n                            xp = object.getInt(&quot;xp&quot;);\r\n                            xpMultiplier = object.getInt(&quot;xpMulti&quot;);\r\n                            xpMax = object.getInt(&quot;xpMax&quot;);\r\n                            xpMaxMulti = object.getInt(&quot;xpMaxMulti&quot;);\r\n                            dmg = object.getInt(&quot;dmg&quot;);\r\n                            dmgMultiplier = object.getInt(&quot;dmgMulti&quot;);\r\n                            bossCount = object.getInt(&quot;bossCount&quot;);\r\n                            bossHP = object.getInt(&quot;bossHp&quot;);\r\n                            bossHPMultiplier = object.getInt(&quot;bossHpMulti&quot;);\r\n                            level = object.getInt(&quot;level&quot;);\r\n                            backgroundCount = object.getInt(&quot;backgroundCount&quot;);\r\n\r\n                    }\r\n\r\n                }catch (Exception e) {\r\n\r\n                }\r\n\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(MainActivity.this,error.toString(), Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n                HashMap&lt;String, String&gt; param = new HashMap&lt;&gt;();\r\n                param.put(&quot;LoggedInUser&quot;, LoggedInUser);\r\n\r\n\r\n                return param;\r\n            }\r\n        }\r\n        );\r\n\r\n        Volley.newRequestQueue(MainActivity.this).add(stringRequest);\r\n    }\r\n\r\n\r\n\r\n\r\n    // On create -------------------------------------------------------------------------------------\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        bossNumberText = (TextView) findViewById(R.id.bossNumberText);\r\n        levelText = (TextView) findViewById(R.id.levelText);\r\n        goldText = (TextView) findViewById(R.id.goldText);\r\n        bossHealthText = (TextView) findViewById(R.id.bossHealthText);\r\n        tapButton = (ImageButton) findViewById(R.id.TapButton);\r\n        bossImage = (ImageView) findViewById(R.id.bossImage);\r\n        playerImage = (ImageView) findViewById(R.id.playerImage);\r\n        bossImage2 = (ImageView) findViewById(R.id.bossImage2);\r\n        bossImage3 = (ImageView) findViewById(R.id.bossImage3);\r\n        shopButton = (ImageButton) findViewById(R.id.shopButton);\r\n\r\n        mpb = MediaPlayer.create(this, R.raw.backgroundmusic);\r\n        mpc = MediaPlayer.create(this, R.raw.coin);\r\n        mpl = MediaPlayer.create(this, R.raw.levelup);\r\n        mpp = MediaPlayer.create(this, R.raw.pain);\r\n        mps = MediaPlayer.create(this, R.raw.shootingsound);\r\n\r\n        // retrieving data from database and setting TextViews -----------------------------------\r\n        getData();\r\n\r\n        // Set looping and start of background music ---------------------------------------------\r\n        mpb.setLooping(true);\r\n        mpb.start();\r\n        // Initialising variable values on create ------------------------------------------------\r\n        goldAwarded = 100;\r\n        xpAwarded = 100;\r\n        baseDmg = 1;\r\n        bossHPBase = 10;\r\n        bossCountFunc = 1;\r\n\r\n\r\n        shopButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                launchShop();\r\n            }\r\n        });\r\n\r\n    }\r\n    @Override\r\n            protected void onStart() {\r\n        // onclickListener for main button --------------------------------------------------------\r\n        super.onStart();\r\n        getData();\r\n        levelText.setText(&quot;Level: &quot; + Integer.toString(level));\r\n        goldText.setText(&quot;Gold: &quot; + Integer.toString(gold));\r\n        bossHealthText.setText(&quot;HP: &quot; + Integer.toString(bossHP));\r\n        bossNumberText.setText(&quot;Boss: &quot; + bossCount);\r\n\r\n        tapButton.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                // shooting sound\r\n                mps.start();\r\n                // run method that looks to see if background needs to be changed\r\n                newBackground();\r\n                // handlers for enemy animations\r\n                new Handler().postDelayed(new Runnable() {\r\n\r\n                    @Override\r\n                    public void run() {\r\n                        bossImage.setImageDrawable(getResources().getDrawable(R.drawable.onezshot));\r\n                        AnimationDrawable oneshotz = (AnimationDrawable) bossImage.getDrawable();\r\n                        oneshotz.start();\r\n\r\n\r\n                    }\r\n                }, 0);\r\n                new Handler().postDelayed(new Runnable() {\r\n\r\n                    @Override\r\n                    public void run() {\r\n                        bossImage2.setImageDrawable(getResources().getDrawable(R.drawable.twozshot));\r\n                        AnimationDrawable twozshot = (AnimationDrawable) bossImage2.getDrawable();\r\n                        twozshot.start();\r\n\r\n\r\n                    }\r\n                }, 0);\r\n                new Handler().postDelayed(new Runnable() {\r\n\r\n                    @Override\r\n                    public void run() {\r\n                        bossImage3.setImageDrawable(getResources().getDrawable(R.drawable.threezshot));\r\n                        AnimationDrawable threezshot = (AnimationDrawable) bossImage3.getDrawable();\r\n                        threezshot.start();\r\n\r\n\r\n                    }\r\n                }, 0);\r\n                // handler for shooting animation\r\n                new Handler().postDelayed(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        playerImage.setImageDrawable(getResources().getDrawable(R.drawable.shooting));\r\n                        AnimationDrawable shooting = (AnimationDrawable) playerImage.getDrawable();\r\n                        shooting.start();\r\n\r\n                    }\r\n                }, 0);\r\n\r\n                bossHP -= dmg;\r\n                bossHealthText.setText(&quot;HP: &quot; + Integer.toString(bossHP));\r\n                // if boss dies\r\n                if (bossHP &lt;= 1) {\r\n                    mpp.start();\r\n                    bossCount++;\r\n                    bossCountFunc++;\r\n                    backgroundCount++;\r\n                    if (backgroundCount &gt; 9) {\r\n                        backgroundCount = 1;\r\n                    }\r\n                    if (bossCountFunc &gt; 3) {\r\n                        bossCountFunc = 1;\r\n                    }\r\n                    bossNumberText.setText(&quot;Boss: &quot; + bossCount);\r\n                    goldMultiplier++;\r\n                    xpMultiplier++;\r\n                    mpc.start();\r\n                    gold += (goldAwarded * goldMultiplier);\r\n                    goldText.setText(&quot;Gold: &quot; + Integer.toString(gold));\r\n                    xp += (xpAwarded * xpMultiplier);\r\n                    bossHPMultiplier++;\r\n                    // look for level up\r\n                    if (xp &gt;= xpMax) {\r\n                        mpl.start();\r\n                        level++;\r\n                        dmgMultiplier++;\r\n                        bossHPMultiplier *= 2;\r\n                        dmg = (baseDmg * dmgMultiplier);\r\n                        levelText.setText(&quot;lvl: &quot; + Integer.toString(level));\r\n                        xp = 0;\r\n                        xpMax = xpMax * xpMaxMulti;\r\n                    }\r\n                    newBoss();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n    // Method to show or hide boss frames\r\n    public void newBoss(){\r\n        bossHP = bossHPBase * bossHPMultiplier;\r\n\r\n        if(bossCountFunc==1){\r\n            bossImage.setVisibility(View.VISIBLE);\r\n            bossImage2.setVisibility(View.INVISIBLE);\r\n            bossImage3.setVisibility(View.INVISIBLE);\r\n\r\n        }\r\n\r\n\r\n        if(bossCountFunc==2){\r\n            bossImage.setVisibility(View.INVISIBLE);\r\n            bossImage2.setVisibility(View.VISIBLE);\r\n\r\n\r\n        }\r\n        if(bossCountFunc==3){\r\n            bossImage2.setVisibility(View.INVISIBLE);\r\n            bossImage3.setVisibility(View.VISIBLE);\r\n\r\n        }\r\n    }\r\n    // method to check and change background\r\n    public void newBackground(){\r\n        ConstraintLayout layout = (ConstraintLayout) findViewById(R.id.constraintLayout);\r\n\r\n        if(backgroundCount&lt;=3){\r\n            layout.setBackgroundResource(R.drawable.main);\r\n        }\r\n        if(backgroundCount&gt;3 &amp;&amp; backgroundCount&lt;=6){\r\n            layout.setBackgroundResource(R.drawable.maintwo);\r\n        }\r\n        if(backgroundCount&gt;6 &amp;&amp; backgroundCount&lt;=9){\r\n            layout.setBackgroundResource(R.drawable.mainthree);\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    public void launchShop(){\r\n\r\n        Intent intent = new Intent(this, Shop.class);\r\n        startActivity(intent);\r\n\r\n    }\r\n\r\n    private void setData(final String LoggedInUser, final int gold,final int goldMultiplier,final int xp,final int xpMultiplier\r\n            ,final int xpMax,final int xpMaxMulti,final int dmg\r\n            ,final int dmgMultiplier,final int bossCount,final int bossHP\r\n            ,final int bossHPMultiplier,final int level,final int backgroundCount){\r\n        final ProgressDialog progressDialog = new ProgressDialog(MainActivity.this);\r\n        progressDialog.setCancelable(false);\r\n        progressDialog.setIndeterminate(false);\r\n        progressDialog.setTitle(&quot;Setting Data&quot;);\r\n        progressDialog.show();\r\n        String uRl = &quot;http://jg1104.brighton.domains/AppPhp/setdata.php&quot;;\r\n        StringRequest request = new StringRequest(Request.Method.POST, uRl, new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                if(response.equals(&quot;Data set&quot;)){\r\n                    progressDialog.dismiss();\r\n                    Toast.makeText(MainActivity.this, response, Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n                else{\r\n                    progressDialog.dismiss();\r\n                    Toast.makeText(MainActivity.this, response, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                progressDialog.dismiss();\r\n                Toast.makeText(MainActivity.this, error.toString(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        }){\r\n\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n                HashMap&lt;String, String&gt; param = new HashMap&lt;&gt;();\r\n                param.put(&quot;LoggedInUser&quot;, LoggedInUser);\r\n                param.put(&quot;gold&quot;, Integer.toString(gold));\r\n                param.put(&quot;goldMulti&quot;, Integer.toString(goldMultiplier));\r\n                param.put(&quot;xp&quot;, Integer.toString(xp));\r\n                param.put(&quot;xpMulti&quot;, Integer.toString(xpMultiplier));\r\n                param.put(&quot;xpMax&quot;, Integer.toString(xpMax));\r\n                param.put(&quot;xpMaxMulti&quot;, Integer.toString(xpMaxMulti));\r\n                param.put(&quot;dmg&quot;, Integer.toString(dmg));\r\n                param.put(&quot;dmgMulti&quot;, Integer.toString(dmgMultiplier));\r\n                param.put(&quot;bossCount&quot;, Integer.toString(bossCount));\r\n                param.put(&quot;bossHp&quot;, Integer.toString(bossHP));\r\n                param.put(&quot;bossHpMulti&quot;, Integer.toString(bossHPMultiplier));\r\n                param.put(&quot;level&quot;, Integer.toString(level));\r\n                param.put(&quot;backgroundCount&quot;, Integer.toString(backgroundCount));\r\n                return param;\r\n            }\r\n        };\r\n\r\n        request.setRetryPolicy(new DefaultRetryPolicy(30000,DefaultRetryPolicy.DEFAULT_MAX_RETRIES,DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n        MySingleton.getmInstance(MainActivity.this).addToRequestQueue(request);\r\n    }\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        setData(LoggedInUser,gold,goldMultiplier,xp,xpMultiplier,xpMax,xpMaxMulti,dmg,dmgMultiplier,bossCount,bossHP,bossHPMultiplier,level,backgroundCount);\r\n    }\r\n\r\n}\r\n```\r\n\r\nSince the script is working when used in my webserver, I am sure it is something to do with my java coding.\r\n","title":"Why are my variables being reset to zero every time I reopen my Main activity","body":"<p>I am currently creating an app for a university project. Within the app I use two php scripts - one to set data from variables within the app to a MySQL data base, and the other to retrieve data from the database and set the variables within the app. The first script that sends the data to mySQL is working fine with no issues, however the script to retrieve the data from mySQL to set variables within the app is only working when ran through my webserver. When run within my app (on Activity Start and create) the variables are all set to zero. Any help would be amazing, Ive been stuck for weeks!</p>\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php\n\nrequire &quot;conn.php&quot;;\n\n$username = &quot;test&quot;;\n\n$stmt = $conn-&gt;prepare(&quot;SELECT gold, goldMulti, xp, xpMulti, xpMax, xpMaxMulti, dmg, dmgMulti, bossCount, bossHp, bossHpMulti, level, backgroundCount FROM users WHERE username = '$username'&quot;);\n\n$stmt -&gt;execute();\n$stmt -&gt;bind_result($gold, $goldMulti, $xp, $xpMulti, $xpMax, $xpMaxMulti, $dmg, $dmgMulti, $bossCount, $bossHp, $bossHpMulti, $level, $backgroundCount);\n\n$varaibles = array();\n\n$stmt -&gt;fetch();\n\n$temp = array();\n\n$temp['gold'] = $gold;\n$temp['goldMulti'] = $goldMulti;\n$temp['xp'] = $xp;\n$temp['xpMulti'] = $xpMulti;\n$temp['xpMax'] = $xpMax;\n$temp['xpMaxMulti'] = $xpMaxMulti;\n$temp['dmg'] = $dmg;\n$temp['dmgMulti'] = $dmgMulti;\n$temp['bossCount'] = $bossCount;\n$temp['bossHp'] = $bossHp;\n$temp['bossHpMulti'] = $bossHpMulti;\n$temp['level'] = $level;\n$temp['backgroundCount'] = $backgroundCount;\n\n\narray_push($variables,$temp);\n\necho json_encode($temp);\n\n?&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n    // int variables for logic and functions ------------------------------------------------------\n    public int gold;\n    public int goldAwarded;\n    public int goldMultiplier;\n    public int xp;\n    public int xpAwarded;\n    public int xpMultiplier;\n    public int dmg;\n    public int dmgMultiplier;\n    public int bossCount;\n    public int bossHP;\n    public int bossHPMultiplier;\n    public int bossHPBase;\n    public int level;\n    public int xpMax;\n    public int bossCountFunc;\n    public int backgroundCount;\n    public int xpMaxMulti;\n    public int baseDmg;\n\n\n// Widget variables -----------------------------------------------------------------------------\n    private TextView bossNumberText;\n    private TextView levelText;\n    private TextView goldText;\n    private TextView bossHealthText;\n    private ImageButton tapButton;\n    private ImageView bossImage;\n    private ImageView playerImage;\n    private ImageView bossImage2;\n    private ImageView bossImage3;\n    private ImageButton shopButton;\n    public String LoggedInUser = LogIn.getUser();\n\n// Audio players --------------------------------------------------------------------------------\n    MediaPlayer mps;\n    MediaPlayer mpb;\n    MediaPlayer mpc;\n    MediaPlayer mpl;\n    MediaPlayer mpp;\n\n\n\n// Websever php file URL to retrieve Data from user ----------------------------------------------\n\n    private static final String URL = &quot;http://jg1104.brighton.domains/AppPhp/variablesretrieval.php&quot;;\n\n    private void getData(){\n\n        StringRequest stringRequest = new StringRequest(Request.Method.GET, URL, new Response.Listener&lt;String&gt;() {\n            @Override\n            public void onResponse(String response) {\n\n                try{\n\n                    JSONArray array = new JSONArray(response);\n                    for(int i = 0; i&lt;array.length(); i++){\n                        JSONObject object = array.getJSONObject(i);\n                            gold = object.getInt(&quot;gold&quot;);\n                            goldMultiplier = object.getInt(&quot;goldMulti&quot;);\n                            xp = object.getInt(&quot;xp&quot;);\n                            xpMultiplier = object.getInt(&quot;xpMulti&quot;);\n                            xpMax = object.getInt(&quot;xpMax&quot;);\n                            xpMaxMulti = object.getInt(&quot;xpMaxMulti&quot;);\n                            dmg = object.getInt(&quot;dmg&quot;);\n                            dmgMultiplier = object.getInt(&quot;dmgMulti&quot;);\n                            bossCount = object.getInt(&quot;bossCount&quot;);\n                            bossHP = object.getInt(&quot;bossHp&quot;);\n                            bossHPMultiplier = object.getInt(&quot;bossHpMulti&quot;);\n                            level = object.getInt(&quot;level&quot;);\n                            backgroundCount = object.getInt(&quot;backgroundCount&quot;);\n\n                    }\n\n                }catch (Exception e) {\n\n                }\n\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Toast.makeText(MainActivity.this,error.toString(), Toast.LENGTH_SHORT).show();\n            }\n\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n                HashMap&lt;String, String&gt; param = new HashMap&lt;&gt;();\n                param.put(&quot;LoggedInUser&quot;, LoggedInUser);\n\n\n                return param;\n            }\n        }\n        );\n\n        Volley.newRequestQueue(MainActivity.this).add(stringRequest);\n    }\n\n\n\n\n    // On create -------------------------------------------------------------------------------------\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        bossNumberText = (TextView) findViewById(R.id.bossNumberText);\n        levelText = (TextView) findViewById(R.id.levelText);\n        goldText = (TextView) findViewById(R.id.goldText);\n        bossHealthText = (TextView) findViewById(R.id.bossHealthText);\n        tapButton = (ImageButton) findViewById(R.id.TapButton);\n        bossImage = (ImageView) findViewById(R.id.bossImage);\n        playerImage = (ImageView) findViewById(R.id.playerImage);\n        bossImage2 = (ImageView) findViewById(R.id.bossImage2);\n        bossImage3 = (ImageView) findViewById(R.id.bossImage3);\n        shopButton = (ImageButton) findViewById(R.id.shopButton);\n\n        mpb = MediaPlayer.create(this, R.raw.backgroundmusic);\n        mpc = MediaPlayer.create(this, R.raw.coin);\n        mpl = MediaPlayer.create(this, R.raw.levelup);\n        mpp = MediaPlayer.create(this, R.raw.pain);\n        mps = MediaPlayer.create(this, R.raw.shootingsound);\n\n        // retrieving data from database and setting TextViews -----------------------------------\n        getData();\n\n        // Set looping and start of background music ---------------------------------------------\n        mpb.setLooping(true);\n        mpb.start();\n        // Initialising variable values on create ------------------------------------------------\n        goldAwarded = 100;\n        xpAwarded = 100;\n        baseDmg = 1;\n        bossHPBase = 10;\n        bossCountFunc = 1;\n\n\n        shopButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                launchShop();\n            }\n        });\n\n    }\n    @Override\n            protected void onStart() {\n        // onclickListener for main button --------------------------------------------------------\n        super.onStart();\n        getData();\n        levelText.setText(&quot;Level: &quot; + Integer.toString(level));\n        goldText.setText(&quot;Gold: &quot; + Integer.toString(gold));\n        bossHealthText.setText(&quot;HP: &quot; + Integer.toString(bossHP));\n        bossNumberText.setText(&quot;Boss: &quot; + bossCount);\n\n        tapButton.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // shooting sound\n                mps.start();\n                // run method that looks to see if background needs to be changed\n                newBackground();\n                // handlers for enemy animations\n                new Handler().postDelayed(new Runnable() {\n\n                    @Override\n                    public void run() {\n                        bossImage.setImageDrawable(getResources().getDrawable(R.drawable.onezshot));\n                        AnimationDrawable oneshotz = (AnimationDrawable) bossImage.getDrawable();\n                        oneshotz.start();\n\n\n                    }\n                }, 0);\n                new Handler().postDelayed(new Runnable() {\n\n                    @Override\n                    public void run() {\n                        bossImage2.setImageDrawable(getResources().getDrawable(R.drawable.twozshot));\n                        AnimationDrawable twozshot = (AnimationDrawable) bossImage2.getDrawable();\n                        twozshot.start();\n\n\n                    }\n                }, 0);\n                new Handler().postDelayed(new Runnable() {\n\n                    @Override\n                    public void run() {\n                        bossImage3.setImageDrawable(getResources().getDrawable(R.drawable.threezshot));\n                        AnimationDrawable threezshot = (AnimationDrawable) bossImage3.getDrawable();\n                        threezshot.start();\n\n\n                    }\n                }, 0);\n                // handler for shooting animation\n                new Handler().postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        playerImage.setImageDrawable(getResources().getDrawable(R.drawable.shooting));\n                        AnimationDrawable shooting = (AnimationDrawable) playerImage.getDrawable();\n                        shooting.start();\n\n                    }\n                }, 0);\n\n                bossHP -= dmg;\n                bossHealthText.setText(&quot;HP: &quot; + Integer.toString(bossHP));\n                // if boss dies\n                if (bossHP &lt;= 1) {\n                    mpp.start();\n                    bossCount++;\n                    bossCountFunc++;\n                    backgroundCount++;\n                    if (backgroundCount &gt; 9) {\n                        backgroundCount = 1;\n                    }\n                    if (bossCountFunc &gt; 3) {\n                        bossCountFunc = 1;\n                    }\n                    bossNumberText.setText(&quot;Boss: &quot; + bossCount);\n                    goldMultiplier++;\n                    xpMultiplier++;\n                    mpc.start();\n                    gold += (goldAwarded * goldMultiplier);\n                    goldText.setText(&quot;Gold: &quot; + Integer.toString(gold));\n                    xp += (xpAwarded * xpMultiplier);\n                    bossHPMultiplier++;\n                    // look for level up\n                    if (xp &gt;= xpMax) {\n                        mpl.start();\n                        level++;\n                        dmgMultiplier++;\n                        bossHPMultiplier *= 2;\n                        dmg = (baseDmg * dmgMultiplier);\n                        levelText.setText(&quot;lvl: &quot; + Integer.toString(level));\n                        xp = 0;\n                        xpMax = xpMax * xpMaxMulti;\n                    }\n                    newBoss();\n                }\n            }\n        });\n\n\n    }\n    // Method to show or hide boss frames\n    public void newBoss(){\n        bossHP = bossHPBase * bossHPMultiplier;\n\n        if(bossCountFunc==1){\n            bossImage.setVisibility(View.VISIBLE);\n            bossImage2.setVisibility(View.INVISIBLE);\n            bossImage3.setVisibility(View.INVISIBLE);\n\n        }\n\n\n        if(bossCountFunc==2){\n            bossImage.setVisibility(View.INVISIBLE);\n            bossImage2.setVisibility(View.VISIBLE);\n\n\n        }\n        if(bossCountFunc==3){\n            bossImage2.setVisibility(View.INVISIBLE);\n            bossImage3.setVisibility(View.VISIBLE);\n\n        }\n    }\n    // method to check and change background\n    public void newBackground(){\n        ConstraintLayout layout = (ConstraintLayout) findViewById(R.id.constraintLayout);\n\n        if(backgroundCount&lt;=3){\n            layout.setBackgroundResource(R.drawable.main);\n        }\n        if(backgroundCount&gt;3 &amp;&amp; backgroundCount&lt;=6){\n            layout.setBackgroundResource(R.drawable.maintwo);\n        }\n        if(backgroundCount&gt;6 &amp;&amp; backgroundCount&lt;=9){\n            layout.setBackgroundResource(R.drawable.mainthree);\n\n        }\n\n    }\n\n\n    public void launchShop(){\n\n        Intent intent = new Intent(this, Shop.class);\n        startActivity(intent);\n\n    }\n\n    private void setData(final String LoggedInUser, final int gold,final int goldMultiplier,final int xp,final int xpMultiplier\n            ,final int xpMax,final int xpMaxMulti,final int dmg\n            ,final int dmgMultiplier,final int bossCount,final int bossHP\n            ,final int bossHPMultiplier,final int level,final int backgroundCount){\n        final ProgressDialog progressDialog = new ProgressDialog(MainActivity.this);\n        progressDialog.setCancelable(false);\n        progressDialog.setIndeterminate(false);\n        progressDialog.setTitle(&quot;Setting Data&quot;);\n        progressDialog.show();\n        String uRl = &quot;http://jg1104.brighton.domains/AppPhp/setdata.php&quot;;\n        StringRequest request = new StringRequest(Request.Method.POST, uRl, new Response.Listener&lt;String&gt;() {\n            @Override\n            public void onResponse(String response) {\n                if(response.equals(&quot;Data set&quot;)){\n                    progressDialog.dismiss();\n                    Toast.makeText(MainActivity.this, response, Toast.LENGTH_SHORT).show();\n\n                }\n                else{\n                    progressDialog.dismiss();\n                    Toast.makeText(MainActivity.this, response, Toast.LENGTH_SHORT).show();\n                }\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                progressDialog.dismiss();\n                Toast.makeText(MainActivity.this, error.toString(), Toast.LENGTH_SHORT).show();\n            }\n        }){\n\n            @Override\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n                HashMap&lt;String, String&gt; param = new HashMap&lt;&gt;();\n                param.put(&quot;LoggedInUser&quot;, LoggedInUser);\n                param.put(&quot;gold&quot;, Integer.toString(gold));\n                param.put(&quot;goldMulti&quot;, Integer.toString(goldMultiplier));\n                param.put(&quot;xp&quot;, Integer.toString(xp));\n                param.put(&quot;xpMulti&quot;, Integer.toString(xpMultiplier));\n                param.put(&quot;xpMax&quot;, Integer.toString(xpMax));\n                param.put(&quot;xpMaxMulti&quot;, Integer.toString(xpMaxMulti));\n                param.put(&quot;dmg&quot;, Integer.toString(dmg));\n                param.put(&quot;dmgMulti&quot;, Integer.toString(dmgMultiplier));\n                param.put(&quot;bossCount&quot;, Integer.toString(bossCount));\n                param.put(&quot;bossHp&quot;, Integer.toString(bossHP));\n                param.put(&quot;bossHpMulti&quot;, Integer.toString(bossHPMultiplier));\n                param.put(&quot;level&quot;, Integer.toString(level));\n                param.put(&quot;backgroundCount&quot;, Integer.toString(backgroundCount));\n                return param;\n            }\n        };\n\n        request.setRetryPolicy(new DefaultRetryPolicy(30000,DefaultRetryPolicy.DEFAULT_MAX_RETRIES,DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n        MySingleton.getmInstance(MainActivity.this).addToRequestQueue(request);\n    }\n    @Override\n    protected void onStop() {\n        super.onStop();\n        setData(LoggedInUser,gold,goldMultiplier,xp,xpMultiplier,xpMax,xpMaxMulti,dmg,dmgMultiplier,bossCount,bossHP,bossHPMultiplier,level,backgroundCount);\n    }\n\n}\n</code></pre>\n<p>Since the script is working when used in my webserver, I am sure it is something to do with my java coding.</p>\n"},{"tags":["java","spring","docker","gradle"],"comments":[{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1650375490,"post_id":71925712,"comment_id":127096307,"body_markdown":"I think you answered your own question. You should at least have a volume for your maven dependencies or bind mount your local .m2 folder.","body":"I think you answered your own question. You should at least have a volume for your maven dependencies or bind mount your local .m2 folder."}],"answers":[{"tags":[],"owner":{"account_id":226463,"reputation":16416,"user_id":487524,"accept_rate":88,"display_name":"epoch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650375643,"creation_date":1650374847,"answer_id":71925776,"question_id":71925712,"body_markdown":"Is there a reason you need to build the app in the docker context? If you build it outside (locally), and only copy the artefacts, you can leverage build caching from the (local) `gradle` daemon, which should increase the speeds significantly.\r\n\r\nEssentially, you are building the project from scratch on each build/invocation.\r\n\r\ni.e, don&#39;t build inside the `Dockerfile`, only copy the already built artefacts.\r\n\r\n_PS: If you have to build inside the docker context (for instance, if you don&#39;t have a JDK locally), you can try to figure out where `gradle` keeps its local cache and also sync/copy that over._","title":"Spring boot development with docker intellij idea build takes too long","body":"<p>Is there a reason you need to build the app in the docker context? If you build it outside (locally), and only copy the artefacts, you can leverage build caching from the (local) <code>gradle</code> daemon, which should increase the speeds significantly.</p>\n<p>Essentially, you are building the project from scratch on each build/invocation.</p>\n<p>i.e, don't build inside the <code>Dockerfile</code>, only copy the already built artefacts.</p>\n<p><em>PS: If you have to build inside the docker context (for instance, if you don't have a JDK locally), you can try to figure out where <code>gradle</code> keeps its local cache and also sync/copy that over.</em></p>\n"},{"tags":[],"owner":{"account_id":16526510,"reputation":372,"user_id":11941108,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650377073,"creation_date":1650377073,"answer_id":71926303,"question_id":71925712,"body_markdown":"As you mentioned the issue is the build takes long time because it downloads dependencies each time.\r\n\r\nIf that is the case, you can try using [multi-stage builds](https://docs.docker.com/develop/develop-images/multistage-build/).\r\n\r\nBasically you download the dependencies once then you just copy them each time. This also reduces the size of the image.\r\n\r\n### References:\r\n- https://docs.docker.com/develop/develop-images/multistage-build/\r\n- https://spring.io/guides/topicals/spring-boot-docker/\r\n- https://gist.github.com/msauza/6a906e879549e218c54868d81161afcb\r\n- https://hashedin.com/blog/a-guide-to-optimize-build-time-in-docker/\r\n\r\n_P.S: I have not tried this for Spring Boot applications, but they work well for applications based on Go._","title":"Spring boot development with docker intellij idea build takes too long","body":"<p>As you mentioned the issue is the build takes long time because it downloads dependencies each time.</p>\n<p>If that is the case, you can try using <a href=\"https://docs.docker.com/develop/develop-images/multistage-build/\" rel=\"nofollow noreferrer\">multi-stage builds</a>.</p>\n<p>Basically you download the dependencies once then you just copy them each time. This also reduces the size of the image.</p>\n<h3>References:</h3>\n<ul>\n<li><a href=\"https://docs.docker.com/develop/develop-images/multistage-build/\" rel=\"nofollow noreferrer\">https://docs.docker.com/develop/develop-images/multistage-build/</a></li>\n<li><a href=\"https://spring.io/guides/topicals/spring-boot-docker/\" rel=\"nofollow noreferrer\">https://spring.io/guides/topicals/spring-boot-docker/</a></li>\n<li><a href=\"https://gist.github.com/msauza/6a906e879549e218c54868d81161afcb\" rel=\"nofollow noreferrer\">https://gist.github.com/msauza/6a906e879549e218c54868d81161afcb</a></li>\n<li><a href=\"https://hashedin.com/blog/a-guide-to-optimize-build-time-in-docker/\" rel=\"nofollow noreferrer\">https://hashedin.com/blog/a-guide-to-optimize-build-time-in-docker/</a></li>\n</ul>\n<p><em>P.S: I have not tried this for Spring Boot applications, but they work well for applications based on Go.</em></p>\n"}],"owner":{"account_id":3023276,"reputation":5556,"user_id":2563803,"accept_rate":70,"display_name":"Mubashar Abbas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1024,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1650377073,"creation_date":1650374645,"question_id":71925712,"body_markdown":"I am trying to setup my development environment using docker for a sprint boot application.\r\n\r\nI am using intellij idea.\r\n\r\nHere is the dockerfile.\r\n\r\n    FROM gradle:7.4.2-jdk18-alpine AS build\r\n    COPY --chown=gradle:gradle ./ /home/gradle/src\r\n    WORKDIR /home/gradle/src\r\n    RUN gradle build --no-daemon --debug\r\n    \r\n    FROM openjdk:19-slim\r\n    \r\n    EXPOSE 5097\r\n    EXPOSE 5005\r\n    \r\n    RUN mkdir /app\r\n    \r\n    COPY --from=build /home/gradle/src/build/libs/*.jar /app/spring-boot-application.jar\r\n    \r\n    ENTRYPOINT [&quot;java&quot;, &quot;-Xdebug&quot;, &quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005&quot;, &quot;-jar&quot;, &quot;/app/spring-boot-application.jar&quot;]\r\n\r\nand docker-compose.yml is:\r\n\r\n    version: &#39;3.7&#39;\r\n    services:\r\n      hmis-config-service:\r\n        build:\r\n          context: .\r\n          dockerfile: Dockerfile\r\n        image: &#39;hmis-config-service:0.0.0.1&#39;\r\n        ports:\r\n          - &quot;9060:5080&quot;\r\n          - &quot;8091:5005&quot;\r\n        volumes:\r\n          - myapp:/home/gradle/src\r\n        environment:\r\n          db.url: &#39;jdbc:postgresql://host.docker.internal:5432/hms&#39;\r\n          db.username: &#39;postgres&#39;\r\n          db.password: &#39;pgsroot&#39;\r\n          GRADLE_HOME: /usr/local/gradle\r\n          JAVA_HOME: /usr/lib/jvm/java\r\n          M2: /usr/local/apache-maven/bin\r\n          M2_HOME: /usr/local/apache-maven\r\n    volumes:\r\n      myapp:\r\n\r\nEvery time I try to build it, it takes a long time because it downloads all gradle dependencies. Hence even a small change takes a long time.\r\n\r\nIf project is started using\r\n\r\n`docker-compose up # without the --build flag`\r\n\r\nit starts instantaneously but the changes made aren&#39;t in the container.\r\n\r\nI have tried to mount the volume /home/gradle/src to keep the dependencies synced but that didn&#39;t do anything. \r\n\r\nWhat can be done to improve the build time and cache the dependencies?","title":"Spring boot development with docker intellij idea build takes too long","body":"<p>I am trying to setup my development environment using docker for a sprint boot application.</p>\n<p>I am using intellij idea.</p>\n<p>Here is the dockerfile.</p>\n<pre><code>FROM gradle:7.4.2-jdk18-alpine AS build\nCOPY --chown=gradle:gradle ./ /home/gradle/src\nWORKDIR /home/gradle/src\nRUN gradle build --no-daemon --debug\n\nFROM openjdk:19-slim\n\nEXPOSE 5097\nEXPOSE 5005\n\nRUN mkdir /app\n\nCOPY --from=build /home/gradle/src/build/libs/*.jar /app/spring-boot-application.jar\n\nENTRYPOINT [&quot;java&quot;, &quot;-Xdebug&quot;, &quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005&quot;, &quot;-jar&quot;, &quot;/app/spring-boot-application.jar&quot;]\n</code></pre>\n<p>and docker-compose.yml is:</p>\n<pre><code>version: '3.7'\nservices:\n  hmis-config-service:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    image: 'hmis-config-service:0.0.0.1'\n    ports:\n      - &quot;9060:5080&quot;\n      - &quot;8091:5005&quot;\n    volumes:\n      - myapp:/home/gradle/src\n    environment:\n      db.url: 'jdbc:postgresql://host.docker.internal:5432/hms'\n      db.username: 'postgres'\n      db.password: 'pgsroot'\n      GRADLE_HOME: /usr/local/gradle\n      JAVA_HOME: /usr/lib/jvm/java\n      M2: /usr/local/apache-maven/bin\n      M2_HOME: /usr/local/apache-maven\nvolumes:\n  myapp:\n</code></pre>\n<p>Every time I try to build it, it takes a long time because it downloads all gradle dependencies. Hence even a small change takes a long time.</p>\n<p>If project is started using</p>\n<p><code>docker-compose up # without the --build flag</code></p>\n<p>it starts instantaneously but the changes made aren't in the container.</p>\n<p>I have tried to mount the volume /home/gradle/src to keep the dependencies synced but that didn't do anything.</p>\n<p>What can be done to improve the build time and cache the dependencies?</p>\n"},{"tags":["java","if-statement","enums"],"comments":[{"owner":{"account_id":95875,"reputation":9861,"user_id":260894,"accept_rate":56,"display_name":"dhblah"},"score":0,"creation_date":1306335939,"post_id":6126242,"comment_id":7108851,"body_markdown":"Changed my code sample for it to be more clear what I&#39;m talking about.","body":"Changed my code sample for it to be more clear what I&#39;m talking about."},{"owner":{"account_id":12885,"reputation":5538,"user_id":2711383,"display_name":"Martin Vilcans"},"score":0,"creation_date":1308683548,"post_id":6126242,"comment_id":7545875,"body_markdown":"Ignore the people who say that you should use polymorphism instead of enums. That&#39;s like saying you should use a vehicle instead of a car. Java&#39;s enums are objects and support polymorphism, which is the feature that you use. I&#39;d prefer your if/else solution or your enum solutions before any of the other suggestions in this thread. Which one to use depends on the circumstances.","body":"Ignore the people who say that you should use polymorphism instead of enums. That&#39;s like saying you should use a vehicle instead of a car. Java&#39;s enums are objects and support polymorphism, which is the feature that you use. I&#39;d prefer your if/else solution or your enum solutions before any of the other suggestions in this thread. Which one to use depends on the circumstances."},{"owner":{"account_id":56162,"reputation":18871,"user_id":168212,"accept_rate":79,"display_name":"SingleShot"},"score":0,"creation_date":1308779062,"post_id":6126242,"comment_id":7569563,"body_markdown":"@Martin: I agree what to do depends on the circumstances, but do not agree that an object-oriented solution (what you label as &quot;polymorphism&quot;) should be ignored. Also, contrary to what you suggest, the enum example does not use polymorphism - it still uses an if-else to select which Fruit to call. That kind of code is not extensible without modification. The OO version is.","body":"@Martin: I agree what to do depends on the circumstances, but do not agree that an object-oriented solution (what you label as &quot;polymorphism&quot;) should be ignored. Also, contrary to what you suggest, the enum example does not use polymorphism - it still uses an if-else to select which Fruit to call. That kind of code is not extensible without modification. The OO version is."},{"owner":{"account_id":12885,"reputation":5538,"user_id":2711383,"display_name":"Martin Vilcans"},"score":0,"creation_date":1308779932,"post_id":6126242,"comment_id":7569744,"body_markdown":"@SingleShot: Yeah, you&#39;re right, gasan&#39;s code doesn&#39;t use polymorphism. It just looks like it should. Other than that, my thinking was sound. :-)","body":"@SingleShot: Yeah, you&#39;re right, gasan&#39;s code doesn&#39;t use polymorphism. It just looks like it should. Other than that, my thinking was sound. :-)"}],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1306335002,"creation_date":1306334659,"answer_id":6126300,"question_id":6126242,"body_markdown":"Enums are the way to go, but you can dramatically improve your code like this:\r\n\r\n\r\n    public static String grow(String type) {\r\n        return Fruits.valueOf(type.toUpperCase()).gimmeFruit();\r\n    };\r\n\r\nOh, you need a default case, that makes it a bit tougher. Of course you can do this:\r\n\r\n\r\n    public static String grow(String type) {\r\n        try{\r\n            return Fruits.valueOf(type.toUpperCase()).gimmeFruit();\r\n        }catch(IllegalArgumentException e){\r\n            return Fruits.OTHER.gimmeFruit();\r\n        }\r\n    };\r\n\r\nBut that&#39;s pretty ugly. I guess I&#39;d to something like this:\r\n\r\n\r\n    public static String grow(String type) {\r\n        Fruits /*btw enums should be singular */ fruit = Fruits.OTHER;\r\n        for(Fruits candidate : Fruits.values()){\r\n            if(candidate.name().equalsIgnoreCase(type)){\r\n                fruit = candidate;\r\n                break;\r\n            }\r\n        }\r\n        return fruit.gimmeFruit();\r\n    };\r\n\r\nAlso, if all your enum methods do is return a value, you should refactor your design so that you initialize the values in a constructor and return them in a method defined in the Enum class, not the individual items:\r\n\r\n    public enum Fruit{\r\n        WATERMELON(&quot;watermelon fruit&quot;),\r\n        APPLE(&quot;apple fruit&quot;)\r\n        // etc.\r\n    \r\n        ;\r\n        private final String innerName;\r\n        private Fruit(String innerName){ this.innerName = innerName; }\r\n        public String getInnerName(){ return this.innerName; }\r\n    }","title":"Multiple If-else or enum - which one is preferable and why?","body":"<p>Enums are the way to go, but you can dramatically improve your code like this:</p>\n\n<pre><code>public static String grow(String type) {\n    return Fruits.valueOf(type.toUpperCase()).gimmeFruit();\n};\n</code></pre>\n\n<p>Oh, you need a default case, that makes it a bit tougher. Of course you can do this:</p>\n\n<pre><code>public static String grow(String type) {\n    try{\n        return Fruits.valueOf(type.toUpperCase()).gimmeFruit();\n    }catch(IllegalArgumentException e){\n        return Fruits.OTHER.gimmeFruit();\n    }\n};\n</code></pre>\n\n<p>But that's pretty ugly. I guess I'd to something like this:</p>\n\n<pre><code>public static String grow(String type) {\n    Fruits /*btw enums should be singular */ fruit = Fruits.OTHER;\n    for(Fruits candidate : Fruits.values()){\n        if(candidate.name().equalsIgnoreCase(type)){\n            fruit = candidate;\n            break;\n        }\n    }\n    return fruit.gimmeFruit();\n};\n</code></pre>\n\n<p>Also, if all your enum methods do is return a value, you should refactor your design so that you initialize the values in a constructor and return them in a method defined in the Enum class, not the individual items:</p>\n\n<pre><code>public enum Fruit{\n    WATERMELON(\"watermelon fruit\"),\n    APPLE(\"apple fruit\")\n    // etc.\n\n    ;\n    private final String innerName;\n    private Fruit(String innerName){ this.innerName = innerName; }\n    public String getInnerName(){ return this.innerName; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1306335381,"creation_date":1306334755,"answer_id":6126322,"question_id":6126242,"body_markdown":"You have only made half of the changes to be cleaner. The grow method should be changed like this:\r\n\r\n    static String grow(Fruits type) {\r\n        return type.gimmeFruit();\r\n    }\r\n\r\nAnd `Fruits` should be renamed to `Fruit`: an apple is a fruit, not a fruits.\r\n\r\nIf you really need to keep your string types, then define a method (in the enum class itself, for example) returning the Fruit associated to each type. But most of the code should use Fruit instead of String.","title":"Multiple If-else or enum - which one is preferable and why?","body":"<p>You have only made half of the changes to be cleaner. The grow method should be changed like this:</p>\n\n<pre><code>static String grow(Fruits type) {\n    return type.gimmeFruit();\n}\n</code></pre>\n\n<p>And <code>Fruits</code> should be renamed to <code>Fruit</code>: an apple is a fruit, not a fruits.</p>\n\n<p>If you really need to keep your string types, then define a method (in the enum class itself, for example) returning the Fruit associated to each type. But most of the code should use Fruit instead of String.</p>\n"},{"tags":[],"owner":{"account_id":203255,"reputation":10399,"user_id":450811,"accept_rate":77,"display_name":"Waldheinz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306335045,"creation_date":1306335045,"answer_id":6126386,"question_id":6126242,"body_markdown":"I second Sean Patrick Floyd on that enums are the way to go, but would like to add that you can shorten your code event more dramatically by using a scheme like this:\r\n\r\n    enum Fruits {\r\n       WATERMELON(&quot;watermelon fruit&quot;),\r\n       APPLE(&quot;apple fruit&quot;); //...\r\n\r\n       private final String gimme;\r\n\r\n       private Fruits(String gimme) {\r\n          this.gimme = gimme;\r\n       }\r\n\r\n       String gimmeFruit() { return this.gimme; }       \r\n    }\r\n\r\nAlso, the &quot;grow&quot; method is suspicious. Shouldn&#39;t it be something like\r\n\r\n    public static String grow(Fruits f) {\r\n       return f.gimmeFruit();\r\n    }\r\n","title":"Multiple If-else or enum - which one is preferable and why?","body":"<p>I second Sean Patrick Floyd on that enums are the way to go, but would like to add that you can shorten your code event more dramatically by using a scheme like this:</p>\n\n<pre><code>enum Fruits {\n   WATERMELON(\"watermelon fruit\"),\n   APPLE(\"apple fruit\"); //...\n\n   private final String gimme;\n\n   private Fruits(String gimme) {\n      this.gimme = gimme;\n   }\n\n   String gimmeFruit() { return this.gimme; }       \n}\n</code></pre>\n\n<p>Also, the \"grow\" method is suspicious. Shouldn't it be something like</p>\n\n<pre><code>public static String grow(Fruits f) {\n   return f.gimmeFruit();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306335575,"creation_date":1306335575,"answer_id":6126532,"question_id":6126242,"body_markdown":"You can also improve it by using a variable to store the gimmeFruit value and inititialize with the constructor.\r\n\r\n(I haven&#39;t actually compiled this so there may be some syntax errors)\r\n\r\n\r\n    public class FruitGrower {\r\n        enum Fruits {\r\n            WATERMELON(&quot;watermelon fruit&quot;),\r\n            APPLE(&quot;apple fruit&quot;),\r\n            PINEAPPLE(&quot;pineapple fruit&quot;),\r\n            ORANGE(&quot;orange fruit&quot;),\r\n            OTHER(&quot;other fruit&quot;)\r\n    \r\n            private String gimmeStr;\r\n    \r\n            private Fruits(String gimmeText) {\r\n                gimmeStr = gimmeText;\r\n            }\r\n    \r\n            public static String grow(String type) {\r\n                return Fruits.valueOf(type.toUpperCase()).gimmeFruit();\r\n            }\r\n\r\n            public String gimmeFruit(String type) {\r\n                return gimmeStr;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nEDIT:\r\nIf the type for the grow method is not the same string, then use a Map to define the matches of type to Enum and return the lookup from the map.","title":"Multiple If-else or enum - which one is preferable and why?","body":"<p>You can also improve it by using a variable to store the gimmeFruit value and inititialize with the constructor.</p>\n\n<p>(I haven't actually compiled this so there may be some syntax errors)</p>\n\n<pre><code>public class FruitGrower {\n    enum Fruits {\n        WATERMELON(\"watermelon fruit\"),\n        APPLE(\"apple fruit\"),\n        PINEAPPLE(\"pineapple fruit\"),\n        ORANGE(\"orange fruit\"),\n        OTHER(\"other fruit\")\n\n        private String gimmeStr;\n\n        private Fruits(String gimmeText) {\n            gimmeStr = gimmeText;\n        }\n\n        public static String grow(String type) {\n            return Fruits.valueOf(type.toUpperCase()).gimmeFruit();\n        }\n\n        public String gimmeFruit(String type) {\n            return gimmeStr;\n        }\n\n    }\n}\n</code></pre>\n\n<p>EDIT:\nIf the type for the grow method is not the same string, then use a Map to define the matches of type to Enum and return the lookup from the map.</p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1308233133,"creation_date":1308233133,"answer_id":6373211,"question_id":6126242,"body_markdown":"I think you want a `Map&lt;String, Fruit&gt;` (or `&lt;String, FruitGrower&gt;`).\r\n\r\nThis map could be filled automatically by the enum&#39;s constructors, or by a static initializer. (It could even map multiple names on the same enum constant, if some fruits have alias names.)\r\n\r\nYour `grow` method then looks like this:\r\n\r\n    static void grow(String type) {\r\n       Fruit f = map.get(type);\r\n       if (f == null) {\r\n           OTHER.growFruit();\r\n       }\r\n       else {\r\n           f.growFruit();\r\n       }\r\n    }\r\n\r\nOf course, do you really need the string here? Shouldn&#39;t you always use the enum object?","title":"Multiple If-else or enum - which one is preferable and why?","body":"<p>I think you want a <code>Map&lt;String, Fruit&gt;</code> (or <code>&lt;String, FruitGrower&gt;</code>).</p>\n\n<p>This map could be filled automatically by the enum's constructors, or by a static initializer. (It could even map multiple names on the same enum constant, if some fruits have alias names.)</p>\n\n<p>Your <code>grow</code> method then looks like this:</p>\n\n<pre><code>static void grow(String type) {\n   Fruit f = map.get(type);\n   if (f == null) {\n       OTHER.growFruit();\n   }\n   else {\n       f.growFruit();\n   }\n}\n</code></pre>\n\n<p>Of course, do you really need the string here? Shouldn't you always use the enum object?</p>\n"},{"tags":[],"owner":{"account_id":200630,"reputation":27386,"user_id":446591,"accept_rate":65,"display_name":"Brad Mace"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1440009683,"creation_date":1308378035,"answer_id":6394281,"question_id":6126242,"body_markdown":"You&#39;ve already got good answers about improving your use of Enums. As for why they&#39;re better than string constants:\r\n\r\nI think the biggest benefit is **compile-time error checking**. If I were to call `growAFruit(&quot;watermelon&quot;)`, the compiler would have no idea anything was wrong. And since I&#39;ve spelled it correctly, it&#39;s not going to stand out as a mistake when you&#39;re viewing the code. But if I were to `WATERMELEN.growAFruit()`, the compiler can tell you immediately that I&#39;ve misspelled it.\r\n\r\nYou also get to define `growAFruit` as a bunch of simple, easy-to-read methods, instead of a big block of `if`-`then`-`else`s. This becomes even more apparent when you have a few dozen fruits, or when you start adding `harvestAFruit()`, `packageAFruit()`, `sellAFruit()`, etc. Without enums you&#39;d be copying your big if-else block all over, and if you forgot to add a case it would fall through to the default case or do nothing, while with enums the compiler can tell you that the method hasn&#39;t been implemented.\r\n\r\nEven more compiler-checking goodness: If you also have a `growVegetable` method and the related string constants, there&#39;s nothing stopping you from calling `growVegetable(&quot;pineapple&quot;)` or `growFruit(&quot;peas&quot;)`.  If you&#39;ve got a `&quot;tomato&quot;` constant, the only way to know if you consider it a fruit or a vegetable is to read the source code of the relevant methods. Once again, with enums the compiler can tell you right away if you&#39;ve done something wrong.\r\n\r\nAnother benefit is that it **groups related constants together and gives them a proper home**. The alternative being a bunch of `public static final` fields thrown in some class that happens to use them, or stuck a interface of constants. The interface full of constants doesn&#39;t even make sense because if that&#39;s all you need defining the enum is *much easier* than writing out the interface. Also, in classes or interfaces there is the possibility to accidentally use the same value for more than one constant.\r\n\r\nThey&#39;re also **iterable**. To get all the values of an enum you can just call `Fruit.values()`, whereas with constants you&#39;d have to create and populate your own array. Or if just using literals as in your example, there is **no authoritive list** of valid values.\r\n\r\nBonus Round: IDE Support\r\n\r\n   * With an enum, you can use your IDE&#39;s auto-completion feature and automated refactorings\r\n   * You can use things like &quot;Find References&quot; in Eclipse with enum values, while you&#39;d have to do a plain text search to find string literals, which will usually also return a lot of false-positives (event if you use static final constants, someone could have used the string literal somewhere)\r\n\r\nThe main reason *not* to use an enum would be if you don&#39;t know all the possible values at compile time (i.e. you need to add more values while the program is running). In that case you might want to define them as a class heirarchy. Also, don&#39;t throw a bunch of unrelated constants into an enum and call it a day. There should be some sort of common thread connecting the values.  You can always make multiple enums if that&#39;s more appropriate.","title":"Multiple If-else or enum - which one is preferable and why?","body":"<p>You've already got good answers about improving your use of Enums. As for why they're better than string constants:</p>\n\n<p>I think the biggest benefit is <strong>compile-time error checking</strong>. If I were to call <code>growAFruit(\"watermelon\")</code>, the compiler would have no idea anything was wrong. And since I've spelled it correctly, it's not going to stand out as a mistake when you're viewing the code. But if I were to <code>WATERMELEN.growAFruit()</code>, the compiler can tell you immediately that I've misspelled it.</p>\n\n<p>You also get to define <code>growAFruit</code> as a bunch of simple, easy-to-read methods, instead of a big block of <code>if</code>-<code>then</code>-<code>else</code>s. This becomes even more apparent when you have a few dozen fruits, or when you start adding <code>harvestAFruit()</code>, <code>packageAFruit()</code>, <code>sellAFruit()</code>, etc. Without enums you'd be copying your big if-else block all over, and if you forgot to add a case it would fall through to the default case or do nothing, while with enums the compiler can tell you that the method hasn't been implemented.</p>\n\n<p>Even more compiler-checking goodness: If you also have a <code>growVegetable</code> method and the related string constants, there's nothing stopping you from calling <code>growVegetable(\"pineapple\")</code> or <code>growFruit(\"peas\")</code>.  If you've got a <code>\"tomato\"</code> constant, the only way to know if you consider it a fruit or a vegetable is to read the source code of the relevant methods. Once again, with enums the compiler can tell you right away if you've done something wrong.</p>\n\n<p>Another benefit is that it <strong>groups related constants together and gives them a proper home</strong>. The alternative being a bunch of <code>public static final</code> fields thrown in some class that happens to use them, or stuck a interface of constants. The interface full of constants doesn't even make sense because if that's all you need defining the enum is <em>much easier</em> than writing out the interface. Also, in classes or interfaces there is the possibility to accidentally use the same value for more than one constant.</p>\n\n<p>They're also <strong>iterable</strong>. To get all the values of an enum you can just call <code>Fruit.values()</code>, whereas with constants you'd have to create and populate your own array. Or if just using literals as in your example, there is <strong>no authoritive list</strong> of valid values.</p>\n\n<p>Bonus Round: IDE Support</p>\n\n<ul>\n<li>With an enum, you can use your IDE's auto-completion feature and automated refactorings</li>\n<li>You can use things like \"Find References\" in Eclipse with enum values, while you'd have to do a plain text search to find string literals, which will usually also return a lot of false-positives (event if you use static final constants, someone could have used the string literal somewhere)</li>\n</ul>\n\n<p>The main reason <em>not</em> to use an enum would be if you don't know all the possible values at compile time (i.e. you need to add more values while the program is running). In that case you might want to define them as a class heirarchy. Also, don't throw a bunch of unrelated constants into an enum and call it a day. There should be some sort of common thread connecting the values.  You can always make multiple enums if that's more appropriate.</p>\n"},{"tags":[],"owner":{"account_id":284516,"reputation":14349,"user_id":582675,"accept_rate":75,"display_name":"Fabian Barney"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308588236,"creation_date":1308587869,"answer_id":6414547,"question_id":6126242,"body_markdown":"I often implement a method in enums parsing a given String and gives back the corresponding enum constant. I always name this method `parse(String)`.\r\n\r\nSometimes I overload this method in order to parse enum constant by another given input type, too.\r\n\r\nIt&#39;s implementation is always the same:\r\nIterate over all enum values() and return when you hit one. Finally do a return as fallthrough - often a specific enum constant or `null`. In most cases I prefer null.\r\n\r\n\r\n    public class FruitGrower {\r\n        enum Fruit {\r\n            WATERMELON(&quot;wtrmln&quot;) {\r\n                @Override\r\n                void grow() {\r\n                    //do watermelon growing stuff\r\n                }\r\n            },\r\n    \r\n            APPLE(&quot;ppl&quot;) {\r\n                @Override\r\n                void grow() {\r\n                    //do apple growing stuff\r\n                }\r\n            },\r\n    \r\n            PINEAPPLE(&quot;pnppl&quot;) {\r\n                @Override\r\n                void grow() {\r\n                    //do pineapple growing stuff\r\n                }\r\n            },\r\n    \r\n            ORANGE(&quot;rng&quot;) {\r\n                @Override\r\n                void grow() {\r\n                    //do orange growing stuff\r\n                }\r\n            },\r\n    \r\n            OTHER(&quot;&quot;) {\r\n                @Override\r\n                void grow() {\r\n                    // do other fruit growing stuff\r\n                }\r\n            };\r\n\r\n            private String name;\r\n\r\n            private Fruit(String name) {\r\n                this.name = name;\r\n            }\r\n\r\n            abstract void grow();\r\n\r\n            public static Fruit parse(String name) {\r\n                for(Fruit f : values()) {\r\n                    if(f.name.equals(name)){\r\n                        return f;\r\n                    }\r\n                }\r\n\r\n                return OTHER; //fallthrough value (null or specific enum constant like here.)\r\n            }\r\n        }\r\n    \r\n        \r\n        public void growAFruit(String name) {\r\n            Fruit.parse(name).grow();\r\n        }\r\n    }\r\n\r\n\r\nIf you do not really need this `Fruit.OTHER` then delete it. Or how a &quot;Other-fruit&quot; grows? oO\r\nReturn `null` then in `parse(String)` method as fallthrough value and do null-check before calling `grow()` in `growAFruit(String)`.\r\n\r\nIt is a good idea to add `@CheckForNull` annotation to the `parse(String)` method then.","title":"Multiple If-else or enum - which one is preferable and why?","body":"<p>I often implement a method in enums parsing a given String and gives back the corresponding enum constant. I always name this method <code>parse(String)</code>.</p>\n\n<p>Sometimes I overload this method in order to parse enum constant by another given input type, too.</p>\n\n<p>It's implementation is always the same:\nIterate over all enum values() and return when you hit one. Finally do a return as fallthrough - often a specific enum constant or <code>null</code>. In most cases I prefer null.</p>\n\n<pre><code>public class FruitGrower {\n    enum Fruit {\n        WATERMELON(\"wtrmln\") {\n            @Override\n            void grow() {\n                //do watermelon growing stuff\n            }\n        },\n\n        APPLE(\"ppl\") {\n            @Override\n            void grow() {\n                //do apple growing stuff\n            }\n        },\n\n        PINEAPPLE(\"pnppl\") {\n            @Override\n            void grow() {\n                //do pineapple growing stuff\n            }\n        },\n\n        ORANGE(\"rng\") {\n            @Override\n            void grow() {\n                //do orange growing stuff\n            }\n        },\n\n        OTHER(\"\") {\n            @Override\n            void grow() {\n                // do other fruit growing stuff\n            }\n        };\n\n        private String name;\n\n        private Fruit(String name) {\n            this.name = name;\n        }\n\n        abstract void grow();\n\n        public static Fruit parse(String name) {\n            for(Fruit f : values()) {\n                if(f.name.equals(name)){\n                    return f;\n                }\n            }\n\n            return OTHER; //fallthrough value (null or specific enum constant like here.)\n        }\n    }\n\n\n    public void growAFruit(String name) {\n        Fruit.parse(name).grow();\n    }\n}\n</code></pre>\n\n<p>If you do not really need this <code>Fruit.OTHER</code> then delete it. Or how a \"Other-fruit\" grows? oO\nReturn <code>null</code> then in <code>parse(String)</code> method as fallthrough value and do null-check before calling <code>grow()</code> in <code>growAFruit(String)</code>.</p>\n\n<p>It is a good idea to add <code>@CheckForNull</code> annotation to the <code>parse(String)</code> method then.</p>\n"},{"tags":[],"owner":{"account_id":134479,"reputation":18681,"user_id":336648,"accept_rate":81,"display_name":"Kjartan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308659055,"creation_date":1308597103,"answer_id":6416192,"question_id":6126242,"body_markdown":"I&#39;m not sure I&#39;d use Enums here. I may be missing something here (?), but I think my solution would look something like this, with separate classes for each type of fruit, all based on one genera fruit-class:\r\n\r\n\r\n    // Note: Added in response to comment below\r\n    public enum FruitType {\r\n        WATERMELON,\r\n        WHATEVERYOUWANT,\r\n        ....\r\n    }\r\n\r\n\r\n    public class FruitFactory {\r\n    \r\n        public Fruit getFruitToGrow(FruitType type) {\r\n            \r\n            Fruit fruitToGrow = null;\r\n            \r\n            switch(type){\r\n                case WATERMELON:\r\n                    fruitToGrow = new Watermelon();\r\n                    break;\r\n                case WHATEVERYOUWANT:\r\n                    ...\r\n                default:\r\n                    fruitToGrow = new Fruit();\r\n            }\r\n    \r\n            return fruitToGrow;\r\n        }\r\n    }\r\n    \r\n    \r\n    public class Fruit(){\r\n        public void grow() {\r\n            // Do other fruit growing stuff\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    // Add a separate class for each specific fruit:\r\n    public class Watermelon extends Fruit(){\r\n        @override\r\n        public void grow(){\r\n            // Do more specific stuff... \r\n        }\r\n    }","title":"Multiple If-else or enum - which one is preferable and why?","body":"<p>I'm not sure I'd use Enums here. I may be missing something here (?), but I think my solution would look something like this, with separate classes for each type of fruit, all based on one genera fruit-class:</p>\n\n<pre><code>// Note: Added in response to comment below\npublic enum FruitType {\n    WATERMELON,\n    WHATEVERYOUWANT,\n    ....\n}\n\n\npublic class FruitFactory {\n\n    public Fruit getFruitToGrow(FruitType type) {\n\n        Fruit fruitToGrow = null;\n\n        switch(type){\n            case WATERMELON:\n                fruitToGrow = new Watermelon();\n                break;\n            case WHATEVERYOUWANT:\n                ...\n            default:\n                fruitToGrow = new Fruit();\n        }\n\n        return fruitToGrow;\n    }\n}\n\n\npublic class Fruit(){\n    public void grow() {\n        // Do other fruit growing stuff\n    }\n}\n\n\n\n// Add a separate class for each specific fruit:\npublic class Watermelon extends Fruit(){\n    @override\n    public void grow(){\n        // Do more specific stuff... \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":424469,"reputation":1269,"user_id":804484,"display_name":"BARNZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1308610531,"creation_date":1308609955,"answer_id":6418427,"question_id":6126242,"body_markdown":"To answer your question, I would say neither if-else or enums are preferable to your specific problem. A good way to approach this problem would be to use encapsulation and abstraction and let inheritance handle the &quot;type&quot; for you.\r\n\r\nThe task of growing a fruit varies greatly between each fruit. It would be wise to make each fruit its own class allowing greater flexibility later on when more functionality may be needed.\r\n\r\nHeres a good example:\r\n\r\n    // Abstract Base Class (Everything common across all fruits)\r\n    public abstract class Fruit {\r\n        public abstract void grow();\r\n    }\r\n    \r\n    // Concrete class, for each &quot;type&quot; of fruit\r\n    public class Apple extends Fruit {\r\n        @override\r\n        public void grow() {\r\n            // Grow an apple\r\n        }\r\n    }\r\n    \r\n    public class Orange extends Fruit {\r\n        @override\r\n        public void grow() {\r\n            // Grow an orange\r\n        }\r\n    }\r\n    \r\n    ...\r\n    \r\nOnce the product classes have been defined we can create a class that grows fruit without any &quot;ify&quot; type checking.\r\n    \r\n    public class FruitGrower {\r\n        public void growAFruit(Fruit fruit) {\r\n            fruit.grow();\r\n        }\r\n    }","title":"Multiple If-else or enum - which one is preferable and why?","body":"<p>To answer your question, I would say neither if-else or enums are preferable to your specific problem. A good way to approach this problem would be to use encapsulation and abstraction and let inheritance handle the \"type\" for you.</p>\n\n<p>The task of growing a fruit varies greatly between each fruit. It would be wise to make each fruit its own class allowing greater flexibility later on when more functionality may be needed.</p>\n\n<p>Heres a good example:</p>\n\n<pre><code>// Abstract Base Class (Everything common across all fruits)\npublic abstract class Fruit {\n    public abstract void grow();\n}\n\n// Concrete class, for each \"type\" of fruit\npublic class Apple extends Fruit {\n    @override\n    public void grow() {\n        // Grow an apple\n    }\n}\n\npublic class Orange extends Fruit {\n    @override\n    public void grow() {\n        // Grow an orange\n    }\n}\n\n...\n</code></pre>\n\n<p>Once the product classes have been defined we can create a class that grows fruit without any \"ify\" type checking.</p>\n\n<pre><code>public class FruitGrower {\n    public void growAFruit(Fruit fruit) {\n        fruit.grow();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":110658,"reputation":9404,"user_id":292728,"accept_rate":87,"display_name":"Kevin K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308614594,"creation_date":1308614594,"answer_id":6418933,"question_id":6126242,"body_markdown":"The public API is exactly the same.  You still have the same if-else block, it&#39;s just in the enum now.  So I think it&#39;s no better.  If anything it&#39;s worse, due to added complexity.\r\n\r\nWhat does it mean to &#39;do fruit growing stuff&#39;?  Are you talking about stuff the fruit grower does (till the soil, plant seeds, etc), or stuff the fruit itself does (germinate, sprout, blossom, etc)?  In the original example, the actions are defined by the `FruitGrower`, but in your modifications they are defined by the `Fruit`.  This makes a big difference when you consider subclassing.  For example I might want to define a `MasterFruitGrower` who uses different processes to grow fruit better.  Having the `grow()` operation defined in `Fruit` makes this harder to reason about.\r\n\r\nHow complex are the fruit growing operations?  If you&#39;re concerned about the line length of the if-else block, I think a better idea is to define separate fruit growing methods (`growWatermelon()`, `growOrange()`, ...) or define a `FruitGrowingProcedure` interface, implementing subclasses for each fruit type, and store them in a map or set under `FruitGrower`.","title":"Multiple If-else or enum - which one is preferable and why?","body":"<p>The public API is exactly the same.  You still have the same if-else block, it's just in the enum now.  So I think it's no better.  If anything it's worse, due to added complexity.</p>\n\n<p>What does it mean to 'do fruit growing stuff'?  Are you talking about stuff the fruit grower does (till the soil, plant seeds, etc), or stuff the fruit itself does (germinate, sprout, blossom, etc)?  In the original example, the actions are defined by the <code>FruitGrower</code>, but in your modifications they are defined by the <code>Fruit</code>.  This makes a big difference when you consider subclassing.  For example I might want to define a <code>MasterFruitGrower</code> who uses different processes to grow fruit better.  Having the <code>grow()</code> operation defined in <code>Fruit</code> makes this harder to reason about.</p>\n\n<p>How complex are the fruit growing operations?  If you're concerned about the line length of the if-else block, I think a better idea is to define separate fruit growing methods (<code>growWatermelon()</code>, <code>growOrange()</code>, ...) or define a <code>FruitGrowingProcedure</code> interface, implementing subclasses for each fruit type, and store them in a map or set under <code>FruitGrower</code>.</p>\n"},{"tags":[],"owner":{"account_id":205122,"reputation":13270,"user_id":453708,"display_name":"ruhsuzbaykus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308644020,"creation_date":1308644020,"answer_id":6422232,"question_id":6126242,"body_markdown":"The answer to your question is using enums, or better yet, factories and polymorphism, as mentioned above. However, if you want to get rid of switches (which is what your if-else statement is really doing) completely , a good way, if not the best, to do it is using inversion of control. Thus, I suggest using spring, as follows:\r\n\r\n    public interface Fruit {\r\n       public void grow();\r\n    }\r\n\r\n    public class Watermelon implements Fruit {\r\n\r\n       @Override\r\n       public void grow()\r\n       {\r\n           //Add Business Logic Here\r\n       }\r\n    }\r\n\r\nNow, create the fruit locator interface, as follows:\r\n    \r\n    public interface FruitLocator {\r\n\r\n\tFruit getFruit(String type);\r\n    }\r\n\r\nLet main class have a reference to a FruitLocator object, a setter for it, and just call the getFruit command:\r\n    \r\n    private FruitLocator fruitLocator;\r\n\r\n    public void setFruitLocator (FruitLocator fruitLocator)\r\n    {\r\n        this.fruitLocator = fruitLocator;\r\n    }\r\n\r\n    public void growAFruit(String type) {\r\n        fruitLocator.getFruit(type).grow();\r\n    }\r\n\r\nNow comes the tricky part. Define your FruitGrower class as a spring bean, as well as your FruitLocator and Fruits:\r\n\r\n    &lt;bean id=&quot;fruitGrower&quot; class=&quot;yourpackage.FruitGrower&quot;&gt;\t\t\r\n\t\t&lt;property name=&quot;fruitLocator&quot; ref=&quot;fruitLocator&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;fruitLocator&quot;\r\n\t\tclass=&quot;org.springframework.beans.factory.config.ServiceLocatorFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;serviceLocatorInterface&quot;\r\n\t\t\tvalue=&quot;yourpackage.FruitLocator&quot; /&gt;\r\n\t\t&lt;property name=&quot;serviceMappings&quot; ref=&quot;locatorProperties&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;locatorProperties&quot;\r\n\t\tclass=&quot;org.springframework.beans.factory.config.PropertiesFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;location&quot; value=&quot;classpath:fruits.properties&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n        \r\n        &lt;bean id=&quot;waterMelon&quot; class=&quot;yourpackage.WaterMelon&quot;&gt;\t\t\r\n\t&lt;/bean&gt;\r\n\r\nOnly thing left to do is create a fruits.properties file in your classpath and add the type-bean mapping, as follows:\r\n\r\n    wtrmln=waterMelon        \r\n    \r\nNow, you can add as many fruits as you wish, you only need to create a new fruit class, define it as a bean and add a mapping to your properties file. Much much more scalable than hunting for if-else logic in the code.\r\n\r\nI know this seems complex at first, but I think the topic would be incomplete without mentioning Inversion of Control.\r\n\r\n\r\n\r\n    \r\n","title":"Multiple If-else or enum - which one is preferable and why?","body":"<p>The answer to your question is using enums, or better yet, factories and polymorphism, as mentioned above. However, if you want to get rid of switches (which is what your if-else statement is really doing) completely , a good way, if not the best, to do it is using inversion of control. Thus, I suggest using spring, as follows:</p>\n\n<pre><code>public interface Fruit {\n   public void grow();\n}\n\npublic class Watermelon implements Fruit {\n\n   @Override\n   public void grow()\n   {\n       //Add Business Logic Here\n   }\n}\n</code></pre>\n\n<p>Now, create the fruit locator interface, as follows:</p>\n\n<pre><code>public interface FruitLocator {\n\nFruit getFruit(String type);\n}\n</code></pre>\n\n<p>Let main class have a reference to a FruitLocator object, a setter for it, and just call the getFruit command:</p>\n\n<pre><code>private FruitLocator fruitLocator;\n\npublic void setFruitLocator (FruitLocator fruitLocator)\n{\n    this.fruitLocator = fruitLocator;\n}\n\npublic void growAFruit(String type) {\n    fruitLocator.getFruit(type).grow();\n}\n</code></pre>\n\n<p>Now comes the tricky part. Define your FruitGrower class as a spring bean, as well as your FruitLocator and Fruits:</p>\n\n<pre><code>&lt;bean id=\"fruitGrower\" class=\"yourpackage.FruitGrower\"&gt;     \n    &lt;property name=\"fruitLocator\" ref=\"fruitLocator\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"fruitLocator\"\n    class=\"org.springframework.beans.factory.config.ServiceLocatorFactoryBean\"&gt;\n    &lt;property name=\"serviceLocatorInterface\"\n        value=\"yourpackage.FruitLocator\" /&gt;\n    &lt;property name=\"serviceMappings\" ref=\"locatorProperties\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"locatorProperties\"\n    class=\"org.springframework.beans.factory.config.PropertiesFactoryBean\"&gt;\n    &lt;property name=\"location\" value=\"classpath:fruits.properties\" /&gt;\n&lt;/bean&gt;\n\n    &lt;bean id=\"waterMelon\" class=\"yourpackage.WaterMelon\"&gt;       \n&lt;/bean&gt;\n</code></pre>\n\n<p>Only thing left to do is create a fruits.properties file in your classpath and add the type-bean mapping, as follows:</p>\n\n<pre><code>wtrmln=waterMelon        \n</code></pre>\n\n<p>Now, you can add as many fruits as you wish, you only need to create a new fruit class, define it as a bean and add a mapping to your properties file. Much much more scalable than hunting for if-else logic in the code.</p>\n\n<p>I know this seems complex at first, but I think the topic would be incomplete without mentioning Inversion of Control.</p>\n"},{"tags":[],"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308745305,"creation_date":1308733875,"answer_id":6437495,"question_id":6126242,"body_markdown":"I think you&#39;re on the right track. I&#39;d go and throw in some extra bytes for a HashMap to get rid of the string switching block. This gives you both, cleaner looks, less code and most likely a little extra performance.\r\n\r\n    public enum Fruit {\r\n\r\n        APPLE(&quot;ppl&quot;) {\r\n            public void grow() {\r\n                // TODO\r\n            }\r\n        },\r\n        WATERMELON(&quot;wtrmln&quot;) {\r\n            public void grow() {\r\n                // TODO\r\n            }\r\n        },\r\n\r\n        // SNIP extra vitamins go here\r\n\r\n        OTHER(null) {\r\n            public void grow() {\r\n                // TODO\r\n            }\r\n        };\r\n\r\n        private static Map&lt;String, Fruit&gt; CODE_LOOKUP;\r\n        static {\r\n            // populate code lookup map with all fruits but other\r\n            Map&lt;String, Fruit&gt; map = new HashMap&lt;String, Fruit&gt;();\r\n            for (Fruit v : values()) {\r\n                if (v != OTHER) {\r\n                    map.put(v.getCode(), v);\r\n                }\r\n            }\r\n            CODE_LOOKUP = Collections.unmodifiableMap(map);\r\n        }\r\n\r\n        public static Fruit getByCode(String code) {\r\n            Fruit f = CODE_LOOKUP.get(code);\r\n            return f == null ? OTHER : f;\r\n        }\r\n\r\n        private final String _code;\r\n\r\n        private Fruit(String code) {\r\n            _code = code;\r\n        }\r\n\r\n        public String getCode() {\r\n            return _code;\r\n        }\r\n\r\n        public abstract void grow();\r\n    }\r\n\r\nAnd that&#39;s how you use it:\r\n\r\n    Fruit.getByCode(&quot;wtrmln&quot;).grow();\r\n\r\nSimple, no need for a FruitGrower, but go for it if you think it&#39;s necessary.","title":"Multiple If-else or enum - which one is preferable and why?","body":"<p>I think you're on the right track. I'd go and throw in some extra bytes for a HashMap to get rid of the string switching block. This gives you both, cleaner looks, less code and most likely a little extra performance.</p>\n\n<pre><code>public enum Fruit {\n\n    APPLE(\"ppl\") {\n        public void grow() {\n            // TODO\n        }\n    },\n    WATERMELON(\"wtrmln\") {\n        public void grow() {\n            // TODO\n        }\n    },\n\n    // SNIP extra vitamins go here\n\n    OTHER(null) {\n        public void grow() {\n            // TODO\n        }\n    };\n\n    private static Map&lt;String, Fruit&gt; CODE_LOOKUP;\n    static {\n        // populate code lookup map with all fruits but other\n        Map&lt;String, Fruit&gt; map = new HashMap&lt;String, Fruit&gt;();\n        for (Fruit v : values()) {\n            if (v != OTHER) {\n                map.put(v.getCode(), v);\n            }\n        }\n        CODE_LOOKUP = Collections.unmodifiableMap(map);\n    }\n\n    public static Fruit getByCode(String code) {\n        Fruit f = CODE_LOOKUP.get(code);\n        return f == null ? OTHER : f;\n    }\n\n    private final String _code;\n\n    private Fruit(String code) {\n        _code = code;\n    }\n\n    public String getCode() {\n        return _code;\n    }\n\n    public abstract void grow();\n}\n</code></pre>\n\n<p>And that's how you use it:</p>\n\n<pre><code>Fruit.getByCode(\"wtrmln\").grow();\n</code></pre>\n\n<p>Simple, no need for a FruitGrower, but go for it if you think it's necessary.</p>\n"},{"tags":[],"owner":{"account_id":111625,"reputation":2845,"user_id":294789,"accept_rate":94,"display_name":"adranale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1308754046,"creation_date":1308754046,"answer_id":6441854,"question_id":6126242,"body_markdown":"Well, the enums code is surely longer. What I suggest:\r\n\r\n - Use Strings when the logic is simple, small, and will be used 1 time.\r\n - Use Enums when you have to use the constants many times, addition or modifications are possible, or when they are mixed in a complex code so it is better to clarify them with the Enum.","title":"Multiple If-else or enum - which one is preferable and why?","body":"<p>Well, the enums code is surely longer. What I suggest:</p>\n\n<ul>\n<li>Use Strings when the logic is simple, small, and will be used 1 time.</li>\n<li>Use Enums when you have to use the constants many times, addition or modifications are possible, or when they are mixed in a complex code so it is better to clarify them with the Enum.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":56162,"reputation":18871,"user_id":168212,"accept_rate":79,"display_name":"SingleShot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1308766549,"creation_date":1308766549,"answer_id":6444534,"question_id":6126242,"body_markdown":"If different Fruits have different grow behaviors, I would not use an if-else or an enum, and instead use an object-oriented design. The problem with the if-else/enum style (I consider them equivalent in your example) is that they collect behaviors of different object types into one location. If you add a new fruit, you have to edit your if-else/enum each time. This violates the [open-closed principle][1]. \r\n\r\nConsider if your 4 fruits had 3 behaviors (e.g. grow, ripen, rot). You would have an if-else/enum for each behavior, each containing 4 fruit references. Now consider adding a 5th fruit, you must edit 3 different if-else/enum blocks. The behavior of a watermelon has nothing to do with an apple, but they are in the same piece of code. Now consider adding a new fruit behavior (e.g. aroma) - you must create a new if-else/enum, which has the same issues.\r\n\r\nI believe the right solution in most cases is to use classes (e.g. a Fruit interface/base class with one implementation class per fruit) and put the behavior in each class instead of collecting it all in one place. So when you add a new fruit, the only code being changed is that a new fruit class is written. \r\n\r\nThere is a well-known refactoring you can use to take your existing code and migrate it to what I am talking about. It&#39;s called [Replace Conditional with Polymorphism][2].\r\n\r\n\r\n  [1]: http://www.objectmentor.com/resources/articles/ocp.pdf\r\n  [2]: http://sourcemaking.com/refactoring/replace-conditional-with-polymorphism","title":"Multiple If-else or enum - which one is preferable and why?","body":"<p>If different Fruits have different grow behaviors, I would not use an if-else or an enum, and instead use an object-oriented design. The problem with the if-else/enum style (I consider them equivalent in your example) is that they collect behaviors of different object types into one location. If you add a new fruit, you have to edit your if-else/enum each time. This violates the <a href=\"http://www.objectmentor.com/resources/articles/ocp.pdf\" rel=\"nofollow\">open-closed principle</a>. </p>\n\n<p>Consider if your 4 fruits had 3 behaviors (e.g. grow, ripen, rot). You would have an if-else/enum for each behavior, each containing 4 fruit references. Now consider adding a 5th fruit, you must edit 3 different if-else/enum blocks. The behavior of a watermelon has nothing to do with an apple, but they are in the same piece of code. Now consider adding a new fruit behavior (e.g. aroma) - you must create a new if-else/enum, which has the same issues.</p>\n\n<p>I believe the right solution in most cases is to use classes (e.g. a Fruit interface/base class with one implementation class per fruit) and put the behavior in each class instead of collecting it all in one place. So when you add a new fruit, the only code being changed is that a new fruit class is written. </p>\n\n<p>There is a well-known refactoring you can use to take your existing code and migrate it to what I am talking about. It's called <a href=\"http://sourcemaking.com/refactoring/replace-conditional-with-polymorphism\" rel=\"nofollow\">Replace Conditional with Polymorphism</a>.</p>\n"}],"owner":{"account_id":95875,"reputation":9861,"user_id":260894,"accept_rate":56,"display_name":"dhblah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21218,"favorite_count":0,"down_vote_count":2,"up_vote_count":16,"closed_date":1650386125,"accepted_answer_id":6394281,"answer_count":14,"score":14,"last_activity_date":1650377029,"creation_date":1306334454,"question_id":6126242,"body_markdown":"Here is the original code:\r\n\r\n    public class FruitGrower {\r\n        public void growAFruit(String type) {\r\n            if (&quot;wtrmln&quot;.equals(type)) {\r\n                //do watermelon growing stuff\r\n            } else if (&quot;ppl&quot;.equals(type)) {\r\n                //do apple growing stuff\r\n            } else if (&quot;pnppl&quot;.equals(type)) {\r\n                //do pineapple growing stuff\r\n            } else if (&quot;rng&quot;.equals(type)) {\r\n                //do orange growing stuff\r\n            } else {\r\n                // do other fruit growing stuff\r\n            }\r\n        }\r\n    }\r\n\r\nThis is how I changed it:\r\n\r\n    public class FruitGrower {\r\n        enum Fruits {\r\n            WATERMELON {\r\n                @Override\r\n                void growAFruit() {\r\n                    //do watermelon growing stuff\r\n                }\r\n            },\r\n    \r\n            APPLE {\r\n                @Override\r\n                void growAFruit() {\r\n                    //do apple growing stuff\r\n                }\r\n            },\r\n    \r\n            PINEAPPLE {\r\n                @Override\r\n                void growAFruit() {\r\n                    //do pineapple growing stuff\r\n                }\r\n            },\r\n    \r\n            ORANGE {\r\n                @Override\r\n                void growAFruit() {\r\n                    //do orange growing stuff\r\n                }\r\n            },\r\n    \r\n            OTHER {\r\n                @Override\r\n                void growAFruit() {\r\n                    // do other fruit growing stuff\r\n                }\r\n            };\r\n            static void grow(String type) {\r\n                if (&quot;wtrmln&quot;.equals(type)) {\r\n                    WATERMELON.growAFruit();\r\n                } else if (&quot;ppl&quot;.equals(type)) {\r\n                    APPLE.growAFruit();\r\n                } else if (&quot;pnppl&quot;.equals(type)) {\r\n                    PINEAPPLE.growAFruit();\r\n                } else if (&quot;rng&quot;.equals(type)) {\r\n                    ORANGE.growAFruit();\r\n                } else {\r\n                    OTHER.growAFruit();\r\n                }\r\n            };\r\n            abstract void growAFruit();\r\n        }\r\n    \r\n        \r\n        public void growAFruit(String type) {\r\n            Fruits.grow(type);\r\n        }\r\n    }\r\n\r\nI see that `enums` code is longer and may be not as clear as `if-else` code, but I believe it&#39;s better, could someone tell me, why I&#39;m wrong (or maybe I&#39;m not)?\r\n\r\nAre there any concerns about using enum instead of if-else?","title":"Multiple If-else or enum - which one is preferable and why?","body":"<p>Here is the original code:</p>\n<pre><code>public class FruitGrower {\n    public void growAFruit(String type) {\n        if (&quot;wtrmln&quot;.equals(type)) {\n            //do watermelon growing stuff\n        } else if (&quot;ppl&quot;.equals(type)) {\n            //do apple growing stuff\n        } else if (&quot;pnppl&quot;.equals(type)) {\n            //do pineapple growing stuff\n        } else if (&quot;rng&quot;.equals(type)) {\n            //do orange growing stuff\n        } else {\n            // do other fruit growing stuff\n        }\n    }\n}\n</code></pre>\n<p>This is how I changed it:</p>\n<pre><code>public class FruitGrower {\n    enum Fruits {\n        WATERMELON {\n            @Override\n            void growAFruit() {\n                //do watermelon growing stuff\n            }\n        },\n\n        APPLE {\n            @Override\n            void growAFruit() {\n                //do apple growing stuff\n            }\n        },\n\n        PINEAPPLE {\n            @Override\n            void growAFruit() {\n                //do pineapple growing stuff\n            }\n        },\n\n        ORANGE {\n            @Override\n            void growAFruit() {\n                //do orange growing stuff\n            }\n        },\n\n        OTHER {\n            @Override\n            void growAFruit() {\n                // do other fruit growing stuff\n            }\n        };\n        static void grow(String type) {\n            if (&quot;wtrmln&quot;.equals(type)) {\n                WATERMELON.growAFruit();\n            } else if (&quot;ppl&quot;.equals(type)) {\n                APPLE.growAFruit();\n            } else if (&quot;pnppl&quot;.equals(type)) {\n                PINEAPPLE.growAFruit();\n            } else if (&quot;rng&quot;.equals(type)) {\n                ORANGE.growAFruit();\n            } else {\n                OTHER.growAFruit();\n            }\n        };\n        abstract void growAFruit();\n    }\n\n    \n    public void growAFruit(String type) {\n        Fruits.grow(type);\n    }\n}\n</code></pre>\n<p>I see that <code>enums</code> code is longer and may be not as clear as <code>if-else</code> code, but I believe it's better, could someone tell me, why I'm wrong (or maybe I'm not)?</p>\n<p>Are there any concerns about using enum instead of if-else?</p>\n"},{"tags":["java","executable-jar","jpackage"],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650376984,"creation_date":1650376984,"answer_id":71926280,"question_id":71924648,"body_markdown":"By default `jpackage` will pass the following flags when invoking `jlink` to create the runtime image:\r\n\r\n    --strip-native-commands --strip-debug --no-man-pages --no-header-files\r\n\r\nIt is this `--strip-native-commands` flag that removes the `java` launcher from the runtime image.\r\n\r\nYou can use the `--jlink-options` flag when invoking `jpackage` to override the default commands, and drop the `--strip-native-commands` flag:\r\n\r\n    --jlink-options &quot;--strip-debug --no-man-pages --no-header-files&quot;\r\n\r\nThat should result in the `java` command (as well as others) being present in the created runtime image.\r\n\r\n---\r\n\r\nIf you want even more control over the custom JVM/runtime image used by jpackage, you could also manually run `jlink` to create a runtime image, and then pass that image to `jpackage` using the `--runtime-image` flag.","title":"JPackage for only one application?","body":"<p>By default <code>jpackage</code> will pass the following flags when invoking <code>jlink</code> to create the runtime image:</p>\n<pre><code>--strip-native-commands --strip-debug --no-man-pages --no-header-files\n</code></pre>\n<p>It is this <code>--strip-native-commands</code> flag that removes the <code>java</code> launcher from the runtime image.</p>\n<p>You can use the <code>--jlink-options</code> flag when invoking <code>jpackage</code> to override the default commands, and drop the <code>--strip-native-commands</code> flag:</p>\n<pre><code>--jlink-options &quot;--strip-debug --no-man-pages --no-header-files&quot;\n</code></pre>\n<p>That should result in the <code>java</code> command (as well as others) being present in the created runtime image.</p>\n<hr />\n<p>If you want even more control over the custom JVM/runtime image used by jpackage, you could also manually run <code>jlink</code> to create a runtime image, and then pass that image to <code>jpackage</code> using the <code>--runtime-image</code> flag.</p>\n"}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71926280,"answer_count":1,"score":1,"last_activity_date":1650376984,"creation_date":1650369896,"question_id":71924648,"body_markdown":"I have a java application that at runtime shall spawn another JVM. Yet I want to package my application using jpackage, which works quite well. But at runtime, when my application tries to invoke the next JVM using\r\n\r\n    File javaHome = new File(System.getProperty(&quot;java.home&quot;));\r\n    File java = new File(javaHome, &quot;bin/java&quot;); // may need a tweak on Windows\r\n    new ProcessBuilder().start(java.getAbsolutePath(), &quot;-jar&quot;, ...);\r\n\r\nI have to learn that the application was launched using a custom built JVM, and there just is no command such as &#39;java&#39;. So the error I am getting is that this java.getAbsolutePath() cannot be executed.\r\n\r\nWithout the java executable, how can my application run another jar in a separate process? Can I reuse the JVM bundled with my application, or do I still have to provide another one?","title":"JPackage for only one application?","body":"<p>I have a java application that at runtime shall spawn another JVM. Yet I want to package my application using jpackage, which works quite well. But at runtime, when my application tries to invoke the next JVM using</p>\n<pre><code>File javaHome = new File(System.getProperty(&quot;java.home&quot;));\nFile java = new File(javaHome, &quot;bin/java&quot;); // may need a tweak on Windows\nnew ProcessBuilder().start(java.getAbsolutePath(), &quot;-jar&quot;, ...);\n</code></pre>\n<p>I have to learn that the application was launched using a custom built JVM, and there just is no command such as 'java'. So the error I am getting is that this java.getAbsolutePath() cannot be executed.</p>\n<p>Without the java executable, how can my application run another jar in a separate process? Can I reuse the JVM bundled with my application, or do I still have to provide another one?</p>\n"},{"tags":["java","sql-server","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":118925,"reputation":5299,"user_id":310297,"accept_rate":97,"display_name":"Jazzepi"},"score":1,"creation_date":1605283790,"post_id":64824151,"comment_id":114611841,"body_markdown":"For someone to help you really need to post a stack trace of the exception, or the message of an error, that you&#39;re getting.","body":"For someone to help you really need to post a stack trace of the exception, or the message of an error, that you&#39;re getting."},{"owner":{"account_id":18204904,"reputation":11,"user_id":13248438,"display_name":"nathaliej"},"score":0,"creation_date":1605284073,"post_id":64824151,"comment_id":114611982,"body_markdown":"It&#39;s done, thank you","body":"It&#39;s done, thank you"},{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1605285102,"post_id":64824151,"comment_id":114612445,"body_markdown":"@nathaliej Could you please also show the `Ramette` entity?","body":"@nathaliej Could you please also show the <code>Ramette</code> entity?"},{"owner":{"account_id":18204904,"reputation":11,"user_id":13248438,"display_name":"nathaliej"},"score":0,"creation_date":1605287465,"post_id":64824151,"comment_id":114613389,"body_markdown":"@SternK it&#39;s ok","body":"@SternK it&#39;s ok"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605545684,"creation_date":1605545684,"answer_id":64862241,"question_id":64824151,"body_markdown":"This makes not much sense. This exception is only thrown when you have a discriminator in the table that has no match in the entity model. Maybe you have trailing spaces in the table?","title":"How to properly use JPA/Hibernate?","body":"<p>This makes not much sense. This exception is only thrown when you have a discriminator in the table that has no match in the entity model. Maybe you have trailing spaces in the table?</p>\n"}],"owner":{"account_id":18204904,"reputation":11,"user_id":13248438,"display_name":"nathaliej"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650376864,"creation_date":1605283563,"question_id":64824151,"body_markdown":"I&#39;m trying to understand annotations better with JPA / Hibernate and SQL Server. \r\n\r\nI created a simple project: an abstract class named &quot;Articles&quot;. Two classes inherit it: Ramette which adds a weight and Pen which adds a color. The code below is not working and I am unable to correct the errors. Do you have an idea? Thank you!\r\n\r\n\r\n    package fr.eni.hibernate.entities;\r\n     \r\n    import java.io.Serializable;\r\n     \r\n    import javax.persistence.Column;\r\n    import javax.persistence.DiscriminatorColumn;\r\n    import javax.persistence.DiscriminatorType;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Inheritance;\r\n    import javax.persistence.InheritanceType;\r\n    import javax.persistence.Table;\r\n     \r\n    @Entity\r\n    @Table(name = &quot;Articles&quot;)\r\n    @Inheritance( strategy = InheritanceType.SINGLE_TABLE )\r\n    @DiscriminatorColumn( name=&quot;type&quot;, discriminatorType = DiscriminatorType.STRING)\r\n    public abstract class Articles implements Serializable {\r\n     \r\n    \tprivate static final long serialVersionUID = 1L;\r\n     \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;idarticle&quot;)\r\n    \tprivate Integer idarticle;\r\n    \t@Column(name = &quot;reference&quot;)\r\n    \tprivate String reference;\r\n    \t@Column(name = &quot;marque&quot;)\r\n    \tprivate String marque ;\r\n    \t@Column(name = &quot;designation&quot;)\r\n    \tprivate String designation;\r\n    \t@Column(name = &quot;prixUnitaire&quot;)\r\n    \tprivate float prixUnitaire ;\r\n    \t@Column(name = &quot;qteStock&quot;)\r\n    \tprivate int qteStock ;\r\n     \r\n    \tpublic Articles() {\r\n    \t}\r\n     \r\n     \r\n     \r\n    \tpublic Integer getIdArticle() {\r\n    \t\treturn idarticle;\r\n    \t}\r\n     \r\n    \tpublic String getReference() {\r\n    \t\treturn reference;\r\n    \t}\r\n     \r\n    \tpublic void setReference(String reference) {\r\n    \t\tthis.reference = reference;\r\n    \t}\r\n     \r\n    \tpublic String getMarque() {\r\n    \t\treturn marque;\r\n    \t}\r\n     \r\n    \tpublic void setMarque(String marque) {\r\n    \t\tthis.marque = marque;\r\n    \t}\r\n     \r\n    \tpublic String getDesignation() {\r\n    \t\treturn designation;\r\n    \t}\r\n     \r\n    \tpublic void setDesignation(String designation) {\r\n    \t\tthis.designation = designation;\r\n    \t}\r\n     \r\n    \tpublic float getPrixUnitaire() {\r\n    \t\treturn prixUnitaire;\r\n    \t}\r\n     \r\n    \tpublic void setPrixUnitaire(float prixUnitaire) {\r\n    \t\tthis.prixUnitaire = prixUnitaire;\r\n    \t}\r\n     \r\n    \tpublic int getQteStock() {\r\n    \t\treturn qteStock;\r\n    \t}\r\n     \r\n    \tpublic void setQteStock(int qteStock) {\r\n    \t\tthis.qteStock = qteStock;\r\n    \t}\r\n     \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Article [idArticle=&quot; + idarticle + &quot;, reference=&quot; + reference + &quot;, marque=&quot; + marque + &quot;, designation=&quot;\r\n    \t\t\t\t+ designation + &quot;, prixUnitaire=&quot; + prixUnitaire + &quot;, qteStock=&quot; + qteStock + &quot;]&quot;;\r\n    \t}\r\n     \r\n    }\r\n    \r\n    \r\n  \r\n    package fr.eni.hibernate.entities;\r\n     \r\n    import javax.persistence.Column;\r\n    import javax.persistence.DiscriminatorValue;\r\n    import javax.persistence.Entity;\r\n     \r\n    @Entity\r\n    @DiscriminatorValue(&quot;Ramette&quot;)\r\n    public class Ramette extends Articles {\r\n     \r\n     \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate int grammage;\r\n     \r\n    \tpublic Ramette() {\r\n     \r\n    \t}\r\n     \r\n     \r\n     \r\n    \t@Column(name = &quot;grammage&quot;)\r\n    \tpublic int getGrammage() {\r\n    \t\treturn grammage;\r\n    \t}\r\n     \r\n    \tpublic void setGrammage(int grammage) {\r\n    \t\tthis.grammage = grammage;\r\n    \t}\r\n     \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn super.toString() + &quot; Ramette [grammage=&quot; + grammage + &quot;]&quot;;\r\n    \t}\r\n     \r\n    }\r\n    \r\n\r\n    package fr.eni.hibernate.entities;\r\n     \r\n    import javax.persistence.Column;\r\n    import javax.persistence.DiscriminatorValue;\r\n    import javax.persistence.Entity;\r\n     \r\n    @Entity\r\n    @DiscriminatorValue(&quot;Stylo&quot;)\r\n    public class Stylo extends Articles {\r\n     \r\n     \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate String couleur;\r\n     \r\n    \tpublic Stylo() {\r\n     \r\n    \t}\r\n     \r\n     \r\n     \r\n    \t@Column(name = &quot;couleur&quot;)\r\n    \tpublic String getCouleur() {\r\n    \t\treturn couleur;\r\n    \t}\r\n     \r\n    \tpublic void setCouleur(String couleur) {\r\n    \t\tthis.couleur = couleur;\r\n    \t}\r\n     \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn super.toString() + &quot; Stylo [couleur=&quot; + couleur + &quot;]&quot;;\r\n    \t}\r\n     \r\n    }\r\n    \r\n\r\n    \r\n    package fr.eni.hibernate.entities;\r\n     \r\n    import java.util.List;\r\n     \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.Persistence;\r\n    import javax.persistence.TypedQuery;\r\n     \r\n    public class Main {\r\n     \r\n    \tpublic static void main(String[] args) throws Exception {\r\n     \r\n    \t\tEntityManagerFactory entityManagerFactory = null;\r\n    \t\tEntityManager entityManager = null;\r\n    \t\ttry {\r\n    \t\t\tentityManagerFactory = Persistence.createEntityManagerFactory(&quot;WebStore&quot;);\r\n    \t\t\tentityManager = entityManagerFactory.createEntityManager();\r\n     \r\n    \t\t\tTypedQuery&lt;Articles&gt; query = entityManager.createQuery(&quot;from Articles&quot;, Articles.class);\r\n    \t\t\tList&lt;Articles&gt; art = query.getResultList();\r\n    \t\t\tfor (Articles article : art) {\r\n    \t\t\t\tSystem.out.println(art.getClass().getName());\r\n    \t\t\t\tSystem.out.println(&quot;\\t&quot; + article);\r\n    \t\t\t}\r\n     \r\n    \t\t} finally {\r\n    \t\t\tif (entityManager != null)\r\n    \t\t\t\tentityManager.close();\r\n    \t\t\tif (entityManagerFactory != null)\r\n    \t\t\t\tentityManagerFactory.close();\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n\r\n    \r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n    \txmlns&lt;img src=&quot;images/smilies/icon_mad.gif&quot; border=&quot;0&quot; alt=&quot;&quot; title=&quot;:x&quot; class=&quot;inlineimg&quot; /&gt;si=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence \r\n                       http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\r\n    \tversion=&quot;2.0&quot;&gt;\r\n     \r\n    \t&lt;persistence-unit name=&quot;WebStore&quot;&gt;\r\n    \t\t&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n     \r\n    \t\t&lt;class&gt;fr.eni.hibernate.entities.Articles&lt;/class&gt;\r\n                    &lt;class&gt;fr.eni.hibernate.entities.Stylo&lt;/class&gt;\r\n                    &lt;class&gt;fr.eni.hibernate.entities.Ramette&lt;/class&gt;\r\n     \r\n     \r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot;\r\n    \t\t\t\tvalue=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;javax.persistence.jdbc.url&quot;\r\n    \t\t\t\tvalue=&quot;jdbc:sqlserver://localhost;database=PAPETERIE_TEST&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;xx&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;x&quot; /&gt;\r\n     \r\n    \t\t\t&lt;property name=&quot;hibernate.dialect&quot;\r\n    \t\t\t\tvalue=&quot;org.hibernate.dialect.SQLServerDialect&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.format_sql&quot; value=&quot;false&quot; /&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/persistence-unit&gt;\r\n     \r\n    &lt;/persistence&gt;\r\n   \r\n\r\n    CREATE TABLE Articles\r\n    (\r\n    \tidarticle INT IDENTITY(1,1),\r\n    \treference varchar(10) NOT NULL,\r\n    \tmarque nvarchar(200) NOT NULL,\r\n    \tdesignation nvarchar(250) NOT NULL,\r\n    \tprixUnitaire float NOT NULL,\r\n    \tqteStock int NOT NULL,\r\n    \tgrammage int NULL,\r\n    \tcouleur nvarchar(50) NULL,\r\n    \ttype nchar(10) NOT NULL,\r\n     \r\n    \tCONSTRAINT PK_Articles PRIMARY KEY (idarticle)\r\n    )\r\n     \r\n    INSERT INTO Articles (reference, marque, designation, prixUnitaire, qteStock, grammage, couleur, type) \r\n    VALUES (&#39;Bic&#39;, &#39;BBOrange&#39;, &#39;Bic bille Orange&#39;, 1.2, 20, 0, &#39;Bleu&#39;, &#39;Stylo&#39;),\r\n           (&#39;Bic&#39;, &#39;BBOrange&#39;, &#39;Bic bille Orange&#39;, 1.2, 20, 0,&#39;noir&#39;, &#39;Stylo&#39;),\r\n           (&#39;Clairef&#39;, &#39;CRA4S&#39;, &#39;Ramette A4 Sup&#39;, 9, 20, 80, null, &#39;Ramette&#39;);\r\n  \r\n    ","title":"How to properly use JPA/Hibernate?","body":"<p>I'm trying to understand annotations better with JPA / Hibernate and SQL Server.</p>\n<p>I created a simple project: an abstract class named &quot;Articles&quot;. Two classes inherit it: Ramette which adds a weight and Pen which adds a color. The code below is not working and I am unable to correct the errors. Do you have an idea? Thank you!</p>\n<pre><code>package fr.eni.hibernate.entities;\n \nimport java.io.Serializable;\n \nimport javax.persistence.Column;\nimport javax.persistence.DiscriminatorColumn;\nimport javax.persistence.DiscriminatorType;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Inheritance;\nimport javax.persistence.InheritanceType;\nimport javax.persistence.Table;\n \n@Entity\n@Table(name = &quot;Articles&quot;)\n@Inheritance( strategy = InheritanceType.SINGLE_TABLE )\n@DiscriminatorColumn( name=&quot;type&quot;, discriminatorType = DiscriminatorType.STRING)\npublic abstract class Articles implements Serializable {\n \n    private static final long serialVersionUID = 1L;\n \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;idarticle&quot;)\n    private Integer idarticle;\n    @Column(name = &quot;reference&quot;)\n    private String reference;\n    @Column(name = &quot;marque&quot;)\n    private String marque ;\n    @Column(name = &quot;designation&quot;)\n    private String designation;\n    @Column(name = &quot;prixUnitaire&quot;)\n    private float prixUnitaire ;\n    @Column(name = &quot;qteStock&quot;)\n    private int qteStock ;\n \n    public Articles() {\n    }\n \n \n \n    public Integer getIdArticle() {\n        return idarticle;\n    }\n \n    public String getReference() {\n        return reference;\n    }\n \n    public void setReference(String reference) {\n        this.reference = reference;\n    }\n \n    public String getMarque() {\n        return marque;\n    }\n \n    public void setMarque(String marque) {\n        this.marque = marque;\n    }\n \n    public String getDesignation() {\n        return designation;\n    }\n \n    public void setDesignation(String designation) {\n        this.designation = designation;\n    }\n \n    public float getPrixUnitaire() {\n        return prixUnitaire;\n    }\n \n    public void setPrixUnitaire(float prixUnitaire) {\n        this.prixUnitaire = prixUnitaire;\n    }\n \n    public int getQteStock() {\n        return qteStock;\n    }\n \n    public void setQteStock(int qteStock) {\n        this.qteStock = qteStock;\n    }\n \n    @Override\n    public String toString() {\n        return &quot;Article [idArticle=&quot; + idarticle + &quot;, reference=&quot; + reference + &quot;, marque=&quot; + marque + &quot;, designation=&quot;\n                + designation + &quot;, prixUnitaire=&quot; + prixUnitaire + &quot;, qteStock=&quot; + qteStock + &quot;]&quot;;\n    }\n \n}\n\n\n\npackage fr.eni.hibernate.entities;\n \nimport javax.persistence.Column;\nimport javax.persistence.DiscriminatorValue;\nimport javax.persistence.Entity;\n \n@Entity\n@DiscriminatorValue(&quot;Ramette&quot;)\npublic class Ramette extends Articles {\n \n \n    private static final long serialVersionUID = 1L;\n    private int grammage;\n \n    public Ramette() {\n \n    }\n \n \n \n    @Column(name = &quot;grammage&quot;)\n    public int getGrammage() {\n        return grammage;\n    }\n \n    public void setGrammage(int grammage) {\n        this.grammage = grammage;\n    }\n \n    @Override\n    public String toString() {\n        return super.toString() + &quot; Ramette [grammage=&quot; + grammage + &quot;]&quot;;\n    }\n \n}\n\n\npackage fr.eni.hibernate.entities;\n \nimport javax.persistence.Column;\nimport javax.persistence.DiscriminatorValue;\nimport javax.persistence.Entity;\n \n@Entity\n@DiscriminatorValue(&quot;Stylo&quot;)\npublic class Stylo extends Articles {\n \n \n    private static final long serialVersionUID = 1L;\n    private String couleur;\n \n    public Stylo() {\n \n    }\n \n \n \n    @Column(name = &quot;couleur&quot;)\n    public String getCouleur() {\n        return couleur;\n    }\n \n    public void setCouleur(String couleur) {\n        this.couleur = couleur;\n    }\n \n    @Override\n    public String toString() {\n        return super.toString() + &quot; Stylo [couleur=&quot; + couleur + &quot;]&quot;;\n    }\n \n}\n\n\n\npackage fr.eni.hibernate.entities;\n \nimport java.util.List;\n \nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\nimport javax.persistence.TypedQuery;\n \npublic class Main {\n \n    public static void main(String[] args) throws Exception {\n \n        EntityManagerFactory entityManagerFactory = null;\n        EntityManager entityManager = null;\n        try {\n            entityManagerFactory = Persistence.createEntityManagerFactory(&quot;WebStore&quot;);\n            entityManager = entityManagerFactory.createEntityManager();\n \n            TypedQuery&lt;Articles&gt; query = entityManager.createQuery(&quot;from Articles&quot;, Articles.class);\n            List&lt;Articles&gt; art = query.getResultList();\n            for (Articles article : art) {\n                System.out.println(art.getClass().getName());\n                System.out.println(&quot;\\t&quot; + article);\n            }\n \n        } finally {\n            if (entityManager != null)\n                entityManager.close();\n            if (entityManagerFactory != null)\n                entityManagerFactory.close();\n        }\n    }\n}\n\n\n\n&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\n    xmlns&lt;img src=&quot;images/smilies/icon_mad.gif&quot; border=&quot;0&quot; alt=&quot;&quot; title=&quot;:x&quot; class=&quot;inlineimg&quot; /&gt;si=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence \n                   http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\n    version=&quot;2.0&quot;&gt;\n \n    &lt;persistence-unit name=&quot;WebStore&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n \n        &lt;class&gt;fr.eni.hibernate.entities.Articles&lt;/class&gt;\n                &lt;class&gt;fr.eni.hibernate.entities.Stylo&lt;/class&gt;\n                &lt;class&gt;fr.eni.hibernate.entities.Ramette&lt;/class&gt;\n \n \n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot;\n                value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot;\n                value=&quot;jdbc:sqlserver://localhost;database=PAPETERIE_TEST&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;xx&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;x&quot; /&gt;\n \n            &lt;property name=&quot;hibernate.dialect&quot;\n                value=&quot;org.hibernate.dialect.SQLServerDialect&quot; /&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;false&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n \n&lt;/persistence&gt;\n\n\nCREATE TABLE Articles\n(\n    idarticle INT IDENTITY(1,1),\n    reference varchar(10) NOT NULL,\n    marque nvarchar(200) NOT NULL,\n    designation nvarchar(250) NOT NULL,\n    prixUnitaire float NOT NULL,\n    qteStock int NOT NULL,\n    grammage int NULL,\n    couleur nvarchar(50) NULL,\n    type nchar(10) NOT NULL,\n \n    CONSTRAINT PK_Articles PRIMARY KEY (idarticle)\n)\n \nINSERT INTO Articles (reference, marque, designation, prixUnitaire, qteStock, grammage, couleur, type) \nVALUES ('Bic', 'BBOrange', 'Bic bille Orange', 1.2, 20, 0, 'Bleu', 'Stylo'),\n       ('Bic', 'BBOrange', 'Bic bille Orange', 1.2, 20, 0,'noir', 'Stylo'),\n       ('Clairef', 'CRA4S', 'Ramette A4 Sup', 9, 20, 80, null, 'Ramette');\n</code></pre>\n"},{"tags":["java","spring-boot","tcp","connection","embedded-tomcat"],"comments":[{"owner":{"account_id":6392687,"reputation":466,"user_id":4958233,"display_name":"kus"},"score":0,"creation_date":1650395898,"post_id":71926250,"comment_id":127104056,"body_markdown":"check server.tomcat.threads.max if set in application.properties, default value is 200. so default should be fine. alternatively enable the debug and check the log file.","body":"check server.tomcat.threads.max if set in application.properties, default value is 200. so default should be fine. alternatively enable the debug and check the log file."},{"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"score":0,"creation_date":1650445431,"post_id":71926250,"comment_id":127115316,"body_markdown":"@kus, server.tomcat.threads.max is not configured, so it&#39;s default 200. What could be another reason?","body":"@kus, server.tomcat.threads.max is not configured, so it&#39;s default 200. What could be another reason?"},{"owner":{"account_id":6392687,"reputation":466,"user_id":4958233,"display_name":"kus"},"score":0,"creation_date":1650467920,"post_id":71926250,"comment_id":127124801,"body_markdown":"As suggested capture the log and share it. for reference i just tested, I can see two thread in log file and both request was successful.   you can also check how both request are triggered there might be something wrong.","body":"As suggested capture the log and share it. for reference i just tested, I can see two thread in log file and both request was successful.   you can also check how both request are triggered there might be something wrong."},{"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"score":0,"creation_date":1651409326,"post_id":71926250,"comment_id":127353554,"body_markdown":"@kus, I found an issue. I&#39;ve recoreded pcaps from both sides (from server side and from client side) and found that there is some network issue and packets are lost. Client is trying to establish connection -&gt; send packet -&gt; packet is lost -&gt; server doesn&#39;t recieve this packet -&gt; no connection.","body":"@kus, I found an issue. I&#39;ve recoreded pcaps from both sides (from server side and from client side) and found that there is some network issue and packets are lost. Client is trying to establish connection -&gt; send packet -&gt; packet is lost -&gt; server doesn&#39;t recieve this packet -&gt; no connection."}],"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650376840,"creation_date":1650376840,"question_id":71926250,"body_markdown":"I have spring boot application 2.5.8 that uses embedded Tomcat. This server listens to port 8081.\r\n\r\nWhen a client establishes TCP connection with my server, it works ok.\r\n\r\nBut when client is trying simultaniously to setablish 2 connections from different ports - one connection is established. But the second connection is not established. \r\nIn wireshark I see the next:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nConnection from port 56542 is established, but connection from port 64005 is never established. \r\n\r\nWhat could be a reason? How to solve this issue? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BD3jO.png","title":"Spring boot Embedded Tomcat does not establish multiple connections from the same src IP","body":"<p>I have spring boot application 2.5.8 that uses embedded Tomcat. This server listens to port 8081.</p>\n<p>When a client establishes TCP connection with my server, it works ok.</p>\n<p>But when client is trying simultaniously to setablish 2 connections from different ports - one connection is established. But the second connection is not established.\nIn wireshark I see the next:</p>\n<p><a href=\"https://i.stack.imgur.com/BD3jO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BD3jO.png\" alt=\"enter image description here\" /></a></p>\n<p>Connection from port 56542 is established, but connection from port 64005 is never established.</p>\n<p>What could be a reason? How to solve this issue?</p>\n"},{"tags":["java","string","append","string-formatting"],"comments":[{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":2,"creation_date":1428500448,"post_id":29516260,"comment_id":47187887,"body_markdown":"`x= &quot;&#39;&quot; + x + &quot;&#39;&quot;;`. Better yet, `String x = &quot;&#39;ABC&#39;&quot;;","body":"<code>x= &quot;&#39;&quot; + x + &quot;&#39;&quot;;</code>. Better yet, `String x = &quot;&#39;ABC&#39;&quot;;"}],"answers":[{"tags":[],"owner":{"account_id":6102260,"reputation":46,"user_id":4763969,"display_name":"Edward Fitzgerald"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1428500817,"creation_date":1428500817,"answer_id":29516516,"question_id":29516260,"body_markdown":"The other option is the escape character, which in Java is the backslash (\\).\r\nSo: `String x = &quot;\\&#39;ABC\\&#39;&quot;;`\r\n\r\nHere is a good [reference][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/data/characters.html","title":"Which is the best way to append single quotes for a String in java","body":"<p>The other option is the escape character, which in Java is the backslash ().\nSo: <code>String x = \"\\'ABC\\'\";</code></p>\n\n<p>Here is a good <a href=\"http://docs.oracle.com/javase/tutorial/java/data/characters.html\" rel=\"nofollow\">reference</a>.</p>\n"},{"tags":[],"owner":{"account_id":5733087,"reputation":6013,"user_id":4528039,"display_name":"T.Gounelle"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1428502039,"creation_date":1428502039,"answer_id":29517020,"question_id":29516260,"body_markdown":"This will create less intermediate `String` objects than with `+` \r\n\r\n\tpublic static String quote(String s) {\r\n\t    return new StringBuilder()\r\n\t        .append(&#39;\\&#39;&#39;)\r\n\t        .append(s)\r\n\t        .append(&#39;\\&#39;&#39;)\r\n\t        .toString();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString x = &quot;ABC&quot;;\r\n\t    String quotedX = quote(x);\r\n\t    System.out.println(quotedX);\r\n\t}\r\n\r\nprints `&#39;ABC&#39;`\r\n\r\n\r\n\r\n","title":"Which is the best way to append single quotes for a String in java","body":"<p>This will create less intermediate <code>String</code> objects than with <code>+</code> </p>\n\n<pre><code>public static String quote(String s) {\n    return new StringBuilder()\n        .append('\\'')\n        .append(s)\n        .append('\\'')\n        .toString();\n}\n\npublic static void main(String[] args) {\n    String x = \"ABC\";\n    String quotedX = quote(x);\n    System.out.println(quotedX);\n}\n</code></pre>\n\n<p>prints <code>'ABC'</code></p>\n"},{"tags":[],"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1631451187,"creation_date":1631449660,"answer_id":69151418,"question_id":29516260,"body_markdown":"You can use `String` inner `StringBuilder` like\r\n\r\n    sb.append(String.format(&quot;&#39;%s&#39;&quot;, variable));","title":"Which is the best way to append single quotes for a String in java","body":"<p>You can use <code>String</code> inner <code>StringBuilder</code> like</p>\n<pre><code>sb.append(String.format(&quot;'%s'&quot;, variable));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5524210,"reputation":633,"user_id":4386227,"accept_rate":67,"display_name":"Woland"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650376756,"creation_date":1650376756,"answer_id":71926229,"question_id":29516260,"body_markdown":"For those who uses Spring Framework:\r\n\r\n    import org.springframework.util.StringUtils;\r\n    String x = &quot;ABC&quot;;\r\n    x = StringUtils.quote(x);\r\n\r\n&gt; Quote the given String with single quotes. &lt;br&gt;Parameters:\r\n&lt;br&gt;str - the input String (e.g. &quot;myString&quot;)\r\n&lt;br&gt;Returns:\r\n&lt;br&gt;the quoted String (e.g. &quot;&#39;myString&#39;&quot;), or null if the input was null\r\n\r\nConsider also `StringUtils.quoteIfString(Object obj)`.","title":"Which is the best way to append single quotes for a String in java","body":"<p>For those who uses Spring Framework:</p>\n<pre><code>import org.springframework.util.StringUtils;\nString x = &quot;ABC&quot;;\nx = StringUtils.quote(x);\n</code></pre>\n<blockquote>\n<p>Quote the given String with single quotes. <br>Parameters:\n<br>str - the input String (e.g. &quot;myString&quot;)\n<br>Returns:\n<br>the quoted String (e.g. &quot;'myString'&quot;), or null if the input was null</p>\n</blockquote>\n<p>Consider also <code>StringUtils.quoteIfString(Object obj)</code>.</p>\n"}],"owner":{"account_id":5928703,"reputation":332,"user_id":4663869,"accept_rate":45,"display_name":"SHILPA AR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39580,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"accepted_answer_id":69151418,"answer_count":4,"score":2,"last_activity_date":1650376756,"creation_date":1428500251,"question_id":29516260,"body_markdown":"For example, \r\n\r\n    String x= &quot;ABC&quot;;\r\n\r\n*Which is the best way to convert ABC to &#39;ABC&#39; ?*\r\n","title":"Which is the best way to append single quotes for a String in java","body":"<p>For example, </p>\n\n<pre><code>String x= \"ABC\";\n</code></pre>\n\n<p><em>Which is the best way to convert ABC to 'ABC' ?</em></p>\n"},{"tags":["java","sockets","connection"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1650364545,"post_id":71923185,"comment_id":127092172,"body_markdown":"It&#39;s up to you. Both are valid choices.","body":"It&#39;s up to you. Both are valid choices."}],"answers":[{"tags":[],"owner":{"account_id":9525,"reputation":1720,"user_id":17646,"accept_rate":71,"display_name":"Roland B&#228;r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650376351,"creation_date":1650376351,"answer_id":71926140,"question_id":71923185,"body_markdown":"First I hope this is just a learning example. Otherwise please avoid to send passwords over plain connections as this is really bad practice!\r\n\r\nAs for your real question: As user253751 already mentioned, it is up to you.\r\n\r\nBut you should think about the protocol that is used between the client and the server. According to your code you send the username on the first line and the password on the second line. But I think you will not just log in to the server but also do some actions/process some data. Think about how you will recognize if the message is a login, a data request or a processing command. I suggest you read about some often used protocols like http, smtp etc. to learn and get inspiration from them.\r\n\r\nAlso be aware that when you receive data, it will not always be the whole message. It can be the first part of a message, then in the same buffer the second (and last) part of the message and the beginning of the next message.\r\n\r\nAnother thing you should keep in mind when you try to decide if you keep the connection open or not is that you have to keep the state of the client in the server and make sure that only logged in users can start the actions. The open connection can be an easy way, but it can also be solved by a session identifier that has to be provided with each action (and also should not be readable plain on the network).\r\n\r\nHope this helps for taking the next steps.","title":"How to create a socket connection between this client and server","body":"<p>First I hope this is just a learning example. Otherwise please avoid to send passwords over plain connections as this is really bad practice!</p>\n<p>As for your real question: As user253751 already mentioned, it is up to you.</p>\n<p>But you should think about the protocol that is used between the client and the server. According to your code you send the username on the first line and the password on the second line. But I think you will not just log in to the server but also do some actions/process some data. Think about how you will recognize if the message is a login, a data request or a processing command. I suggest you read about some often used protocols like http, smtp etc. to learn and get inspiration from them.</p>\n<p>Also be aware that when you receive data, it will not always be the whole message. It can be the first part of a message, then in the same buffer the second (and last) part of the message and the beginning of the next message.</p>\n<p>Another thing you should keep in mind when you try to decide if you keep the connection open or not is that you have to keep the state of the client in the server and make sure that only logged in users can start the actions. The open connection can be an easy way, but it can also be solved by a session identifier that has to be provided with each action (and also should not be readable plain on the network).</p>\n<p>Hope this helps for taking the next steps.</p>\n"}],"owner":{"display_name":"user18721721"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71926140,"answer_count":1,"score":0,"last_activity_date":1650376351,"creation_date":1650362927,"question_id":71923185,"body_markdown":"I have to connect two java application using a socket. The client is a java form where i insert the username and password, while the server is the &quot;authenticator&quot;.\r\n\r\n[Client App GUI][1]\r\n\r\nMy question is: I should create a client connection each time or i have to continue to use the same connection until the application is closed? Because in this case, how can i send the data only when i click the button?\r\n\r\n**ClientSocket class**\r\n\r\n    public class ClientSocket {\r\n\r\n    public void start(String txtUser, String txtPsw) {\r\n\r\n        String hostname = &quot;127.0.0.1&quot;;\r\n        int port = 42768;\r\n\r\n        try (Socket socket = new Socket(hostname, port)) {\r\n\r\n            System.out.println(&quot;Socket started&quot;);\r\n\r\n            OutputStream output = socket.getOutputStream();\r\n            PrintWriter writer = new PrintWriter(output, true);\r\n\r\n            writer.println(txtUser);\r\n            writer.println(txtPsw);\r\n\r\n        } catch (UnknownHostException ex) {\r\n\r\n            System.out.println(&quot;Server not found: &quot; + ex.getMessage());\r\n\r\n        } catch (IOException ex) {\r\n\r\n            System.out.println(&quot;I/O error: &quot; + ex.getMessage());\r\n        }\r\n    }\r\n    }\r\n\r\n**FormGUI class**\r\n\r\n    \r\n    public class FormGUI {\r\n    private JPanel panel1;\r\n    private JTextField txtUser;\r\n    private JPasswordField txtPsw;\r\n    private JButton button1;\r\n\r\n\r\n    public FormGUI() {\r\n\r\n        button1.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                System.out.println(txtUser.getText());\r\n                System.out.println(txtPsw.getPassword());\r\n                new ClientSocket().start(txtUser.getText(), String.valueOf(txtPsw.getPassword()));\r\n            }\r\n        });\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame(&quot;FormGUI&quot;);\r\n        frame.setContentPane(new FormGUI().panel1);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n\r\n    }\r\n\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/m0cJa.png","title":"How to create a socket connection between this client and server","body":"<p>I have to connect two java application using a socket. The client is a java form where i insert the username and password, while the server is the &quot;authenticator&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/m0cJa.png\" rel=\"nofollow noreferrer\">Client App GUI</a></p>\n<p>My question is: I should create a client connection each time or i have to continue to use the same connection until the application is closed? Because in this case, how can i send the data only when i click the button?</p>\n<p><strong>ClientSocket class</strong></p>\n<pre><code>public class ClientSocket {\n\npublic void start(String txtUser, String txtPsw) {\n\n    String hostname = &quot;127.0.0.1&quot;;\n    int port = 42768;\n\n    try (Socket socket = new Socket(hostname, port)) {\n\n        System.out.println(&quot;Socket started&quot;);\n\n        OutputStream output = socket.getOutputStream();\n        PrintWriter writer = new PrintWriter(output, true);\n\n        writer.println(txtUser);\n        writer.println(txtPsw);\n\n    } catch (UnknownHostException ex) {\n\n        System.out.println(&quot;Server not found: &quot; + ex.getMessage());\n\n    } catch (IOException ex) {\n\n        System.out.println(&quot;I/O error: &quot; + ex.getMessage());\n    }\n}\n}\n</code></pre>\n<p><strong>FormGUI class</strong></p>\n<pre><code>public class FormGUI {\nprivate JPanel panel1;\nprivate JTextField txtUser;\nprivate JPasswordField txtPsw;\nprivate JButton button1;\n\n\npublic FormGUI() {\n\n    button1.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            System.out.println(txtUser.getText());\n            System.out.println(txtPsw.getPassword());\n            new ClientSocket().start(txtUser.getText(), String.valueOf(txtPsw.getPassword()));\n        }\n    });\n}\n\npublic static void main(String[] args) {\n    JFrame frame = new JFrame(&quot;FormGUI&quot;);\n    frame.setContentPane(new FormGUI().panel1);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.pack();\n    frame.setVisible(true);\n\n}\n\n}\n</code></pre>\n"},{"tags":["java","google-api","push-notification","google-drive-api","google-api-java-client"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1649348334,"post_id":71784186,"comment_id":126858609,"body_markdown":"Which operation are you doing on the folder? Are you renaming it?","body":"Which operation are you doing on the folder? Are you renaming it?"},{"owner":{"account_id":7353455,"reputation":1,"user_id":5598860,"display_name":"Atul Gupta"},"score":0,"creation_date":1649352357,"post_id":71784186,"comment_id":126860096,"body_markdown":"We are adding and delete file from the folder","body":"We are adding and delete file from the folder"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1649352619,"post_id":71784186,"comment_id":126860175,"body_markdown":"You have a watch on the folder does that mean that it watches for changes within the folder?","body":"You have a watch on the folder does that mean that it watches for changes within the folder?"},{"owner":{"account_id":7353455,"reputation":1,"user_id":5598860,"display_name":"Atul Gupta"},"score":0,"creation_date":1649407588,"post_id":71784186,"comment_id":126872491,"body_markdown":"Yes we trying to achive if any changes occur in google drive folder, we would get the changed list of files . Is there any other way to achive this","body":"Yes we trying to achive if any changes occur in google drive folder, we would get the changed list of files . Is there any other way to achive this"},{"owner":{"account_id":7353455,"reputation":1,"user_id":5598860,"display_name":"Atul Gupta"},"score":0,"creation_date":1650014715,"post_id":71784186,"comment_id":127022509,"body_markdown":"@DaImTo: Can you have any suggestions to achieve this??","body":"@DaImTo: Can you have any suggestions to achieve this??"}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650021752,"creation_date":1650021752,"answer_id":71883410,"question_id":71784186,"body_markdown":"Push-notification channel will not send you requests for files inside a folder inside of a folder, just because you set up a watch on the folder itself.\r\n\r\n&gt;To request [push notifications][1], you need to set up a notification channel for each resource you want to watch.\r\n\r\nIf you preform a watch on a folder you will get a notification if for example the name of the folder is changed.  \r\n\r\nIf you want to know if there are changes to a file then you will need to set up the watch for each of the files.\r\n\r\n\r\n  [1]: https://developers.google.com/drive/api/guides/push","title":"Google Drive setup push notifications","body":"<p>Push-notification channel will not send you requests for files inside a folder inside of a folder, just because you set up a watch on the folder itself.</p>\n<blockquote>\n<p>To request <a href=\"https://developers.google.com/drive/api/guides/push\" rel=\"nofollow noreferrer\">push notifications</a>, you need to set up a notification channel for each resource you want to watch.</p>\n</blockquote>\n<p>If you preform a watch on a folder you will get a notification if for example the name of the folder is changed.</p>\n<p>If you want to know if there are changes to a file then you will need to set up the watch for each of the files.</p>\n"},{"tags":[],"owner":{"account_id":11573894,"reputation":51,"user_id":8479864,"display_name":"Kamal "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650376069,"creation_date":1650376069,"answer_id":71926073,"question_id":71784186,"body_markdown":"It seems that you are passing the current token to the changeList api.\r\nThis will return no results.\r\nActually, the solution is to find the changes since last token till the current token using a loop. So, store the last token somewhere and iterate till last token to current and pass the iterative value to chageList api to get the files changed.\r\n\r\nHope that works.\r\n\r\n","title":"Google Drive setup push notifications","body":"<p>It seems that you are passing the current token to the changeList api.\nThis will return no results.\nActually, the solution is to find the changes since last token till the current token using a loop. So, store the last token somewhere and iterate till last token to current and pass the iterative value to chageList api to get the files changed.</p>\n<p>Hope that works.</p>\n"}],"owner":{"account_id":7353455,"reputation":1,"user_id":5598860,"display_name":"Atul Gupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650376069,"creation_date":1649342415,"question_id":71784186,"body_markdown":"We want to receive notifications from google when we do anychange(Add,Edit OR Delete) on google drive folder for these purpose we have integrated google watch api in our spring boot application.\r\n\r\n\r\n**code snippet :** \r\n\r\n    public Channel setUpWatch() throws IOException, GeneralSecurityException {\r\n        Channel channel = new Channel();\r\n    \tchannel.setAddress(&quot;https://somedomain.com/notifications&quot;);\r\n    \tchannel.setType(&quot;web_hook&quot;);\r\n    \tchannel.setId(UUID.randomUUID().toString());\r\n    \tchannel.setKind(&quot;api#channel&quot;);\r\n        StartPageToken pageToken = \r\n        driveServiceProvider.getDriveService().changes().getStartPageToken().execute();\r\n    \tSystem.out.println(pageToken.getStartPageToken());\r\n    \r\n    \tChannel changesChannel = driveServiceProvider.getDriveService().changes()\r\n    \t\t\t\t.watch(pageToken.getStartPageToken(), channel).execute();\r\n    \tSystem.out.println(changesChannel.getExpiration());return\r\n    \treturn changesChannel;\r\n    }\r\n\t\r\n\r\nAfter running this code we are getting 200 in response, but we are not receiving any push notification from google  when we do any operation in google drive. `We are getting empty changeList`\r\n\r\nWe are checking this code on local with no domain registration\r\n\r\nIs there any other way to get the edit, add or deleted files list from google drive?\r\n\r\nWe do not want any notification on any domain or address. Whenever we trigger the api and if any file(s) is changed, we want that file(s) details like drive url, file name.\r\n\r\n","title":"Google Drive setup push notifications","body":"<p>We want to receive notifications from google when we do anychange(Add,Edit OR Delete) on google drive folder for these purpose we have integrated google watch api in our spring boot application.</p>\n<p><strong>code snippet :</strong></p>\n<pre><code>public Channel setUpWatch() throws IOException, GeneralSecurityException {\n    Channel channel = new Channel();\n    channel.setAddress(&quot;https://somedomain.com/notifications&quot;);\n    channel.setType(&quot;web_hook&quot;);\n    channel.setId(UUID.randomUUID().toString());\n    channel.setKind(&quot;api#channel&quot;);\n    StartPageToken pageToken = \n    driveServiceProvider.getDriveService().changes().getStartPageToken().execute();\n    System.out.println(pageToken.getStartPageToken());\n\n    Channel changesChannel = driveServiceProvider.getDriveService().changes()\n                .watch(pageToken.getStartPageToken(), channel).execute();\n    System.out.println(changesChannel.getExpiration());return\n    return changesChannel;\n}\n</code></pre>\n<p>After running this code we are getting 200 in response, but we are not receiving any push notification from google  when we do any operation in google drive. <code>We are getting empty changeList</code></p>\n<p>We are checking this code on local with no domain registration</p>\n<p>Is there any other way to get the edit, add or deleted files list from google drive?</p>\n<p>We do not want any notification on any domain or address. Whenever we trigger the api and if any file(s) is changed, we want that file(s) details like drive url, file name.</p>\n"},{"tags":["java","exception","talend","jobs"],"answers":[{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602625878,"creation_date":1602625878,"answer_id":64343679,"question_id":64330493,"body_markdown":"You don&#39;t need to code in Talend to catch and log Exception. Just drop a tLogCatcher and link its output to a file component.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe tLogCatcher will catch the Exception and populate several fields.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe tFileOutputDelimited will create your log file.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QOFxI.png\r\n  [2]: https://i.stack.imgur.com/wGtFb.png\r\n  [3]: https://i.stack.imgur.com/VDKok.png","title":"How to capture nullpointerexception,ftp connection issues via a log/output file talend job","body":"<p>You don't need to code in Talend to catch and log Exception. Just drop a tLogCatcher and link its output to a file component.</p>\n<p><a href=\"https://i.stack.imgur.com/QOFxI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QOFxI.png\" alt=\"enter image description here\" /></a></p>\n<p>The tLogCatcher will catch the Exception and populate several fields.</p>\n<p><a href=\"https://i.stack.imgur.com/wGtFb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wGtFb.png\" alt=\"enter image description here\" /></a></p>\n<p>The tFileOutputDelimited will create your log file.</p>\n<p><a href=\"https://i.stack.imgur.com/VDKok.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VDKok.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19522929,"reputation":55,"user_id":14284366,"display_name":"Tommy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650375755,"creation_date":1602573992,"question_id":64330493,"body_markdown":"[![enter image description here][1]][1]My talend job is working perfectly now,but i would like to induce some basic quality validation checks and put them in place to capture the error right away without any hassle.So inorder for that i am going to schedule the job to run hourly and if there is some failure due to **disk space,FTP connection failure issues,errors due to file parsing name(by splitting the name i will load into db)** -So if i run into  java **IOException****nullpointerexception** or something like that.How do i capture the error from console onto the log file in the folder from the talend job which keeps running in the background.\r\n\r\nThis is the code i am using to write the console output to an file.however i cannot capture the erraneous cases,please advise how to do that:\r\n\r\n    java.io.File file = new java.io.File(&quot;C:/Users/hsivakumar/Desktop/tests/output.txt&quot;);\r\n    \r\n    java.io.PrintStream ps = new java.io.PrintStream(new java.io.FileOutputStream(file));\r\n    \r\n    //java.io.File outputFileErr = new java.io.File(&quot;C:/Users/hsivakumar/Desktop/tests/outputerr.txt&quot;);\r\n    \r\n    System.setOut(ps);\r\n    \r\n    System.setErr(outputFileErr);\r\n\r\n \r\n\r\nI am getting an error when using setErr\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/33nFJ.png","title":"How to capture nullpointerexception,ftp connection issues via a log/output file talend job","body":"<p><a href=\"https://i.stack.imgur.com/33nFJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/33nFJ.png\" alt=\"enter image description here\" /></a>My talend job is working perfectly now,but i would like to induce some basic quality validation checks and put them in place to capture the error right away without any hassle.So inorder for that i am going to schedule the job to run hourly and if there is some failure due to <strong>disk space,FTP connection failure issues,errors due to file parsing name(by splitting the name i will load into db)</strong> -So if i run into  java <strong>IOException****nullpointerexception</strong> or something like that.How do i capture the error from console onto the log file in the folder from the talend job which keeps running in the background.</p>\n<p>This is the code i am using to write the console output to an file.however i cannot capture the erraneous cases,please advise how to do that:</p>\n<pre><code>java.io.File file = new java.io.File(&quot;C:/Users/hsivakumar/Desktop/tests/output.txt&quot;);\n\njava.io.PrintStream ps = new java.io.PrintStream(new java.io.FileOutputStream(file));\n\n//java.io.File outputFileErr = new java.io.File(&quot;C:/Users/hsivakumar/Desktop/tests/outputerr.txt&quot;);\n\nSystem.setOut(ps);\n\nSystem.setErr(outputFileErr);\n</code></pre>\n<p>I am getting an error when using setErr</p>\n"},{"tags":["java","jdbc","jpackage"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650375709,"creation_date":1650375709,"answer_id":71925986,"question_id":71825621,"body_markdown":"I declared all dependencies (including the JDBC driver) to Maven or Gradle, and the tool on it&#39;s own would build the application jar and drop it together with all the dependencies in a lib folder. JPackage will use that lib folder to create a package - at runtime consider all these files to be on the classpath.\r\n\r\nSo if mysql.jar does not end up in that directory for you, maybe you want to run jpackage twice:\r\n\r\n- Run jpackage to create an app-image. That is the directory structure before the actual packaging happens.\r\n- Add your files into the app-image structure where you need them\r\n- Run jpackage to finish building the package\r\n\r\nWith that you can customize a lot that jpackage does not offer out of the box.","title":"How to Add Another Directory (bundle) with jpackage After Installation Java Program","body":"<p>I declared all dependencies (including the JDBC driver) to Maven or Gradle, and the tool on it's own would build the application jar and drop it together with all the dependencies in a lib folder. JPackage will use that lib folder to create a package - at runtime consider all these files to be on the classpath.</p>\n<p>So if mysql.jar does not end up in that directory for you, maybe you want to run jpackage twice:</p>\n<ul>\n<li>Run jpackage to create an app-image. That is the directory structure before the actual packaging happens.</li>\n<li>Add your files into the app-image structure where you need them</li>\n<li>Run jpackage to finish building the package</li>\n</ul>\n<p>With that you can customize a lot that jpackage does not offer out of the box.</p>\n"}],"owner":{"account_id":24270954,"reputation":181,"user_id":18219011,"display_name":"Noobie Cooder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650375709,"creation_date":1649669815,"question_id":71825621,"body_markdown":"I&#39;m using jpackage to create native Java installer **on Windows**. And also my app need a JDBC library (example `mysql-connector-java-8.0.28.jar`) to run the native app to connect the database.\r\n\r\nI&#39;m using NetBeans to build the app and after build, I saw the `mysql-connector-java-8.0.28.jar` are in `dist/lib` directory. \r\n\r\nSo that&#39;s mean, if I run `java -jar myProgram.jar` inside `dist` directory, the app will refer the `mysql-connector-java-8.0.28.jar` inside the `lib` library.\r\n\r\nThe directory in my project be like this:\r\n```\r\ndist/\r\n  lib/mysql-connector-java-8.0.28.jar\r\n  myProgram.jar\r\n```\r\n\r\nThis is the result after using jpackage and install the native app:\r\n\r\n```\r\nmyProgram/\r\n   app/myProgram.jar\r\n   runtime/&lt;the jre directory&gt;\r\n   myProgram.exe\r\n```\r\n\r\nAnd I run the app, I got error that JDBC class not found:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/naming/NamingException\r\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:186)\r\n        at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\r\n```\r\n\r\nI&#39;m using this command to create the installer:\r\n\r\n```\r\n jpackage \\\r\n--type exe \\\r\n--runtime-image minimal-jre \\\r\n--main-jar myProgram.jar \\\r\n--input target \\ \r\n--win-console\r\n```\r\n\r\nSo, my question is, how to bundle the `lib` folder so that `.exe` program can connect the JDBC class?\r\n\r\nThe documentation: https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html","title":"How to Add Another Directory (bundle) with jpackage After Installation Java Program","body":"<p>I'm using jpackage to create native Java installer <strong>on Windows</strong>. And also my app need a JDBC library (example <code>mysql-connector-java-8.0.28.jar</code>) to run the native app to connect the database.</p>\n<p>I'm using NetBeans to build the app and after build, I saw the <code>mysql-connector-java-8.0.28.jar</code> are in <code>dist/lib</code> directory.</p>\n<p>So that's mean, if I run <code>java -jar myProgram.jar</code> inside <code>dist</code> directory, the app will refer the <code>mysql-connector-java-8.0.28.jar</code> inside the <code>lib</code> library.</p>\n<p>The directory in my project be like this:</p>\n<pre><code>dist/\n  lib/mysql-connector-java-8.0.28.jar\n  myProgram.jar\n</code></pre>\n<p>This is the result after using jpackage and install the native app:</p>\n<pre><code>myProgram/\n   app/myProgram.jar\n   runtime/&lt;the jre directory&gt;\n   myProgram.exe\n</code></pre>\n<p>And I run the app, I got error that JDBC class not found:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/naming/NamingException\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:186)\n        at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\n</code></pre>\n<p>I'm using this command to create the installer:</p>\n<pre><code> jpackage \\\n--type exe \\\n--runtime-image minimal-jre \\\n--main-jar myProgram.jar \\\n--input target \\ \n--win-console\n</code></pre>\n<p>So, my question is, how to bundle the <code>lib</code> folder so that <code>.exe</code> program can connect the JDBC class?</p>\n<p>The documentation: <a href=\"https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html</a></p>\n"},{"tags":["java","arrays","unique"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1650369337,"post_id":71924503,"comment_id":127093827,"body_markdown":"Does this answer your question? [How do I remove repeated elements from ArrayList?](https://stackoverflow.com/questions/203984/how-do-i-remove-repeated-elements-from-arraylist)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/203984/how-do-i-remove-repeated-elements-from-arraylist\">How do I remove repeated elements from ArrayList?</a>"},{"owner":{"account_id":8886305,"reputation":1872,"user_id":6634462,"accept_rate":0,"display_name":"Ravindra Kumar"},"score":0,"creation_date":1650369413,"post_id":71924503,"comment_id":127093861,"body_markdown":"possible dupliate https://stackoverflow.com/questions/13912004/remove-duplicates-from-integer-array","body":"possible dupliate <a href=\"https://stackoverflow.com/questions/13912004/remove-duplicates-from-integer-array\" title=\"remove duplicates from integer array\">stackoverflow.com/questions/13912004/&hellip;</a>"},{"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"score":0,"creation_date":1650369488,"post_id":71924503,"comment_id":127093884,"body_markdown":"@Ravindra not duplicate because lists are not hashable.","body":"@Ravindra not duplicate because lists are not hashable."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1650369980,"post_id":71924503,"comment_id":127094029,"body_markdown":"Just note: conceptually it isn&#39;t great to mix two different concepts. Either use arrays, or use Collection interfaces/classes. Prefer a List of List, not a List of Array. And when you do that, you get the &quot;expected&quot; behavior out of the box, as two lists are equal when their entries are equal, which means you just push them into a Set to remove the duplicate entries.","body":"Just note: conceptually it isn&#39;t great to mix two different concepts. Either use arrays, or use Collection interfaces/classes. Prefer a List of List, not a List of Array. And when you do that, you get the &quot;expected&quot; behavior out of the box, as two lists are equal when their entries are equal, which means you just push them into a Set to remove the duplicate entries."},{"owner":{"account_id":6009919,"reputation":547,"user_id":4720669,"display_name":"Aakash Patel"},"score":0,"creation_date":1650370397,"post_id":71924503,"comment_id":127094209,"body_markdown":"Hi @hulk that question does not answer the question because In my case it is List&lt;Integer[]&gt; which means i have to make sure that in the list there is no duplicate array. If it was string, it would have been easy. or even any array of object, it was easy due to euqls and hashcode mathod. But it is Integer[], which is the problem here","body":"Hi @hulk that question does not answer the question because In my case it is List&lt;Integer[]&gt; which means i have to make sure that in the list there is no duplicate array. If it was string, it would have been easy. or even any array of object, it was easy due to euqls and hashcode mathod. But it is Integer[], which is the problem here"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1650371296,"post_id":71924503,"comment_id":127094553,"body_markdown":"@AakashPatel Ok agreed, none of the top answers there handels this case.","body":"@AakashPatel Ok agreed, none of the top answers there handels this case."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650375592,"creation_date":1650370340,"answer_id":71924742,"question_id":71924503,"body_markdown":"Regular sets do not check for equality of Arrays. So you can&#39;t depend on the duplicate Array to be removed. \r\n\r\n```\r\nInteger[] i1 = new Integer[2]; i1[0] = 1; i1[1] = 1;\r\nInteger[] i2 = new Integer[2]; i2[0] = 1; i2[1] = 1;\r\nInteger[] i3 = new Integer[2]; i3[0] = 0; i3[1] = 0;\r\n\r\nList&lt;Integer[]&gt; list1\t= List.of(i1,i2,i3);\r\nSet&lt;Integer[]&gt; set = new HashSet&lt;&gt;();\r\nset.addAll(list1);\r\nset.forEach(arr-&gt;System.out.println(Arrays.toString(arr)));\r\n```\r\nprints\r\n```\r\n[0, 0]\r\n[1, 1]\r\n[1, 1]\r\n``` \r\nBut you can do it like so.\r\n\r\n- define a comparator for a `TreeSet` and use that for duplicate detection in the Array.\r\n```\r\nComparator&lt;Integer[]&gt; comp = (a,b)-&gt;Arrays.compare(a,b);\r\n\r\nSet&lt;Integer[]&gt; set = new TreeSet&lt;&gt;(comp);\r\nset.addAll(list1);\r\nset.forEach(a-&gt;System.out.println(Arrays.toString(a));\r\n```\r\nprints\r\n```\r\n[0, 0]\r\n[1, 1]\r\n\r\n```\r\nNote that the order of the arrays in the set may change from what they were in the list.  To preserve the encounter order you can use a stateful filter which records checks to see if the Array has already been seen.\r\n```\r\nSet&lt;Integer[]&gt; seen = new TreeSet&lt;&gt;((a, b) -&gt; Arrays.compare(a, b));\r\nList&lt;Integer[]&gt; result =\r\n\t\tlist1.stream().filter(seen::add).toList();\r\n```\r\n**NOTE:** This should only be used in `sequential streams`.  Parallel operations may result in race conditions giving inaccurate results.","title":"How to get unique list of array?","body":"<p>Regular sets do not check for equality of Arrays. So you can't depend on the duplicate Array to be removed.</p>\n<pre><code>Integer[] i1 = new Integer[2]; i1[0] = 1; i1[1] = 1;\nInteger[] i2 = new Integer[2]; i2[0] = 1; i2[1] = 1;\nInteger[] i3 = new Integer[2]; i3[0] = 0; i3[1] = 0;\n\nList&lt;Integer[]&gt; list1   = List.of(i1,i2,i3);\nSet&lt;Integer[]&gt; set = new HashSet&lt;&gt;();\nset.addAll(list1);\nset.forEach(arr-&gt;System.out.println(Arrays.toString(arr)));\n</code></pre>\n<p>prints</p>\n<pre><code>[0, 0]\n[1, 1]\n[1, 1]\n</code></pre>\n<p>But you can do it like so.</p>\n<ul>\n<li>define a comparator for a <code>TreeSet</code> and use that for duplicate detection in the Array.</li>\n</ul>\n<pre><code>Comparator&lt;Integer[]&gt; comp = (a,b)-&gt;Arrays.compare(a,b);\n\nSet&lt;Integer[]&gt; set = new TreeSet&lt;&gt;(comp);\nset.addAll(list1);\nset.forEach(a-&gt;System.out.println(Arrays.toString(a));\n</code></pre>\n<p>prints</p>\n<pre><code>[0, 0]\n[1, 1]\n\n</code></pre>\n<p>Note that the order of the arrays in the set may change from what they were in the list.  To preserve the encounter order you can use a stateful filter which records checks to see if the Array has already been seen.</p>\n<pre><code>Set&lt;Integer[]&gt; seen = new TreeSet&lt;&gt;((a, b) -&gt; Arrays.compare(a, b));\nList&lt;Integer[]&gt; result =\n        list1.stream().filter(seen::add).toList();\n</code></pre>\n<p><strong>NOTE:</strong> This should only be used in <code>sequential streams</code>.  Parallel operations may result in race conditions giving inaccurate results.</p>\n"},{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650372967,"creation_date":1650372170,"answer_id":71925177,"question_id":71924503,"body_markdown":"If you want to maintain the order of the entries in the original list and the original list is mutable, you can also use [`List.removeIf`][1]:\r\n\r\n    Comparator&lt;Integer[]&gt; comp = (a,b)-&gt;Arrays.compare(a,b);\r\n    Set&lt;Integer[]&gt; set = new TreeSet&lt;&gt;(comp); \r\n    yourList.removeIf(x -&gt; !set.add(x));\r\n\r\n(based on a [comment][2] by Holger on an answer to a related question)\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Collection.html#removeIf(java.util.function.Predicate)\r\n  [2]: https://stackoverflow.com/questions/203984/how-do-i-remove-repeated-elements-from-arraylist#comment109987647_203992","title":"How to get unique list of array?","body":"<p>If you want to maintain the order of the entries in the original list and the original list is mutable, you can also use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Collection.html#removeIf(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>List.removeIf</code></a>:</p>\n<pre><code>Comparator&lt;Integer[]&gt; comp = (a,b)-&gt;Arrays.compare(a,b);\nSet&lt;Integer[]&gt; set = new TreeSet&lt;&gt;(comp); \nyourList.removeIf(x -&gt; !set.add(x));\n</code></pre>\n<p>(based on a <a href=\"https://stackoverflow.com/questions/203984/how-do-i-remove-repeated-elements-from-arraylist#comment109987647_203992\">comment</a> by Holger on an answer to a related question)</p>\n"}],"owner":{"account_id":6009919,"reputation":547,"user_id":4720669,"display_name":"Aakash Patel"},"comment_count":6,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1650373252,"accepted_answer_id":71924742,"answer_count":2,"score":1,"last_activity_date":1650375592,"creation_date":1650369105,"question_id":71924503,"body_markdown":"I have List of Integer arrays\r\n\r\n    Integer[] i1 = new Integer[2]; i1[0] = 1; i1[1] = 1;\r\n    Integer[] i2 = new Integer[2]; i2[0] = 1; i2[1] = 1;\r\n    Integer[] i3 = new Integer[2]; i3[0] = 0; i3[1] = 0;\r\n    \r\n    List&lt;Integer[] arrayList = new ArrayList&lt;&gt;();\r\n    arrayList.add(i1);\r\n    arrayList.add(i2);\r\n    arrayList.add(i3); \r\n\r\nHow can I remove duplicate array i2 from that list?","title":"How to get unique list of array?","body":"<p>I have List of Integer arrays</p>\n<pre><code>Integer[] i1 = new Integer[2]; i1[0] = 1; i1[1] = 1;\nInteger[] i2 = new Integer[2]; i2[0] = 1; i2[1] = 1;\nInteger[] i3 = new Integer[2]; i3[0] = 0; i3[1] = 0;\n\nList&lt;Integer[] arrayList = new ArrayList&lt;&gt;();\narrayList.add(i1);\narrayList.add(i2);\narrayList.add(i3); \n</code></pre>\n<p>How can I remove duplicate array i2 from that list?</p>\n"},{"tags":["java","android","android-studio","bluetooth-lowenergy"],"answers":[{"tags":[],"owner":{"account_id":23917432,"reputation":143,"user_id":17913726,"display_name":"fabik111"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650375564,"creation_date":1650375564,"answer_id":71925950,"question_id":71919512,"body_markdown":"According to [Android documentation][1] about Bluetooth permissions you must request the location permission to the user (runtime permissions), not only in the manifest\r\n\r\nIn my project on Android 11 (should be fine also for Android 6) I used this code in the `onCreate` function of `MainActivity` class\r\n\r\n    if (ContextCompat.checkSelfPermission(\r\n            this, Manifest.permission.ACCESS_FINE_LOCATION) !=\r\n            PackageManager.PERMISSION_GRANTED \r\n    ) {\r\n        ActivityCompat.requestPermissions(this,new String[] { Manifest.permission.ACCESS_FINE_LOCATION },\r\n                1);\r\n    }\r\n\r\nAnd I `overrided` the `onRequestPermissionsResult` function\r\n\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                                           int[] grantResults) {\r\n        switch (requestCode) {\r\n            case 1:\r\n                // If request is cancelled, the result arrays are empty.\r\n                if (grantResults.length &gt; 0 &amp;&amp;\r\n                        grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    \r\n                    Logger.d(&quot;MainActivity&quot;,&quot;Permission approved&quot;);\r\n                }  else {\r\n                    Logger.d(&quot;MainActivity&quot;,&quot;Error getting permission&quot;);\r\n                }\r\n                return;\r\n        }\r\n    \r\n    }\r\n\r\nThis works for me, I hope would help you\r\n\r\n  [1]: https://developer.android.com/guide/topics/connectivity/bluetooth/permissions#declare-android11-or-lower\r\n","title":"Callback from BTLE cannot working properly","body":"<p>According to <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/permissions#declare-android11-or-lower\" rel=\"nofollow noreferrer\">Android documentation</a> about Bluetooth permissions you must request the location permission to the user (runtime permissions), not only in the manifest</p>\n<p>In my project on Android 11 (should be fine also for Android 6) I used this code in the <code>onCreate</code> function of <code>MainActivity</code> class</p>\n<pre><code>if (ContextCompat.checkSelfPermission(\n        this, Manifest.permission.ACCESS_FINE_LOCATION) !=\n        PackageManager.PERMISSION_GRANTED \n) {\n    ActivityCompat.requestPermissions(this,new String[] { Manifest.permission.ACCESS_FINE_LOCATION },\n            1);\n}\n</code></pre>\n<p>And I <code>overrided</code> the <code>onRequestPermissionsResult</code> function</p>\n<pre><code>public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                                       int[] grantResults) {\n    switch (requestCode) {\n        case 1:\n            // If request is cancelled, the result arrays are empty.\n            if (grantResults.length &gt; 0 &amp;&amp;\n                    grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                \n                Logger.d(&quot;MainActivity&quot;,&quot;Permission approved&quot;);\n            }  else {\n                Logger.d(&quot;MainActivity&quot;,&quot;Error getting permission&quot;);\n            }\n            return;\n    }\n\n}\n</code></pre>\n<p>This works for me, I hope would help you</p>\n"}],"owner":{"account_id":24740824,"reputation":133,"user_id":18627591,"display_name":"AndroidE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650375564,"creation_date":1650340777,"question_id":71919512,"body_markdown":"MainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        private Button scan;\r\n        private BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n        private BluetoothLeScanner bluetoothLeScanner = bluetoothAdapter.getBluetoothLeScanner();\r\n        private boolean scanning=false;\r\n        private Handler handler = new Handler();\r\n        private static final long SCAN_PERIOD = 10000;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            scan = findViewById(R.id.scan);\r\n    \r\n            final Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    state();\r\n                    Log.d(&quot;Logger&quot;, &quot;State Check&quot;);\r\n                    handler.postDelayed(this, 1000);\r\n                }\r\n            }, SCAN_PERIOD);\r\n    \r\n            scan.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(scanning){\r\n                        scan.setText(&quot;TURN ON&quot;);\r\n                        scanning = false;\r\n                    }else{\r\n                        scan.setText(&quot;TURN OFF&quot;);\r\n                        scanning = true;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void state(){\r\n            if(scanning){\r\n                if(bluetoothAdapter!=null){\r\n                    if (!bluetoothAdapter.isEnabled()) {\r\n                        Intent eintent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n                        startActivityForResult(eintent, 1);\r\n                    }else{\r\n                        Log.d(&quot;Logger&quot;, &quot;state: berhasil akses&quot;);\r\n                        bluetoothLeScanner.startScan(leScanCallback);\r\n                    }\r\n                }\r\n            }else{\r\n            bluetoothLeScanner.stopScan(leScanCallback);\r\n            }\r\n        }\r\n    \r\n        private ScanCallback leScanCallback =\r\n                new ScanCallback() {\r\n                    @Override\r\n                    public void onScanResult(int callbackType, ScanResult result) {\r\n                        super.onScanResult(callbackType, result);\r\n                        Log.d(&quot;Logger&quot;, &quot;onScanResult: Berhasil Akses&quot;);\r\n                        BluetoothDevice newDevice = result.getDevice();\r\n                        String device_address = newDevice.getAddress();\r\n                        Toast.makeText(MainActivity.this,&quot;Device &quot;+device_address+&quot; &quot;+String.valueOf(result.getRssi()),Toast.LENGTH_SHORT).show();\r\n                    }\r\n                };\r\n    }\r\n\r\nThis my manifest, i declared the uses-permission.\r\nManifest\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.androidble&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.AndroidBLE&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nI want to scan BLE using bluetoothLeScanner but my program not working properly. After I debug, it is known that the callback from BTLE cannot be called. Why does this happen and what is the solution? Thank you.\r\n\r\nFYI, i am using android 6 API.","title":"Callback from BTLE cannot working properly","body":"<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private Button scan;\n    private BluetoothAdapter bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n    private BluetoothLeScanner bluetoothLeScanner = bluetoothAdapter.getBluetoothLeScanner();\n    private boolean scanning=false;\n    private Handler handler = new Handler();\n    private static final long SCAN_PERIOD = 10000;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        scan = findViewById(R.id.scan);\n\n        final Handler handler = new Handler();\n        handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                state();\n                Log.d(&quot;Logger&quot;, &quot;State Check&quot;);\n                handler.postDelayed(this, 1000);\n            }\n        }, SCAN_PERIOD);\n\n        scan.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(scanning){\n                    scan.setText(&quot;TURN ON&quot;);\n                    scanning = false;\n                }else{\n                    scan.setText(&quot;TURN OFF&quot;);\n                    scanning = true;\n                }\n            }\n        });\n    }\n\n    private void state(){\n        if(scanning){\n            if(bluetoothAdapter!=null){\n                if (!bluetoothAdapter.isEnabled()) {\n                    Intent eintent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n                    startActivityForResult(eintent, 1);\n                }else{\n                    Log.d(&quot;Logger&quot;, &quot;state: berhasil akses&quot;);\n                    bluetoothLeScanner.startScan(leScanCallback);\n                }\n            }\n        }else{\n        bluetoothLeScanner.stopScan(leScanCallback);\n        }\n    }\n\n    private ScanCallback leScanCallback =\n            new ScanCallback() {\n                @Override\n                public void onScanResult(int callbackType, ScanResult result) {\n                    super.onScanResult(callbackType, result);\n                    Log.d(&quot;Logger&quot;, &quot;onScanResult: Berhasil Akses&quot;);\n                    BluetoothDevice newDevice = result.getDevice();\n                    String device_address = newDevice.getAddress();\n                    Toast.makeText(MainActivity.this,&quot;Device &quot;+device_address+&quot; &quot;+String.valueOf(result.getRssi()),Toast.LENGTH_SHORT).show();\n                }\n            };\n}\n</code></pre>\n<p>This my manifest, i declared the uses-permission.\nManifest</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.androidble&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.AndroidBLE&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I want to scan BLE using bluetoothLeScanner but my program not working properly. After I debug, it is known that the callback from BTLE cannot be called. Why does this happen and what is the solution? Thank you.</p>\n<p>FYI, i am using android 6 API.</p>\n"},{"tags":["java","spring-boot","groovy"],"comments":[{"owner":{"account_id":23920972,"reputation":71,"user_id":17916822,"display_name":"CodeWizard777"},"score":0,"creation_date":1650321814,"post_id":71917724,"comment_id":127082900,"body_markdown":"I&#39;m not sure I understand. Are you trying to import something from one file to another, or do this all in a single file?","body":"I&#39;m not sure I understand. Are you trying to import something from one file to another, or do this all in a single file?"},{"owner":{"account_id":12168563,"reputation":1,"user_id":8884057,"display_name":"taurus"},"score":0,"creation_date":1650324250,"post_id":71917724,"comment_id":127084962,"body_markdown":"Do you mean how to use or consume the api&#39;s that provide the service in application A inside application B? Not sure about your question. Can you be clear.","body":"Do you mean how to use or consume the api&#39;s that provide the service in application A inside application B? Not sure about your question. Can you be clear."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650346307,"post_id":71917724,"comment_id":127086527,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":24673101,"reputation":159,"user_id":18567855,"display_name":"blabla blabla"},"score":0,"creation_date":1650363408,"post_id":71917724,"comment_id":127091769,"body_markdown":"@taurus   I need to import the service from app A as an autowired dependency into my app B so I can directly use (sorta like a bean)","body":"@taurus   I need to import the service from app A as an autowired dependency into my app B so I can directly use (sorta like a bean)"}],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650375514,"creation_date":1650375514,"answer_id":71925939,"question_id":71917724,"body_markdown":"&gt; Is there a way to use that service instead of writing the code again?\r\n\r\nYes.  The typical thing to do is to put the shared code in a library and consume that library from the applications which want to share that code.  \r\n\r\nbtw... If you are usning Gradle, the `micronaut-library` plugin at https://plugins.gradle.org/plugin/io.micronaut.library will be helpful.","title":"How to import a service from application A into application B?","body":"<blockquote>\n<p>Is there a way to use that service instead of writing the code again?</p>\n</blockquote>\n<p>Yes.  The typical thing to do is to put the shared code in a library and consume that library from the applications which want to share that code.</p>\n<p>btw... If you are usning Gradle, the <code>micronaut-library</code> plugin at <a href=\"https://plugins.gradle.org/plugin/io.micronaut.library\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/plugin/io.micronaut.library</a> will be helpful.</p>\n"}],"owner":{"account_id":24673101,"reputation":159,"user_id":18567855,"display_name":"blabla blabla"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71925939,"answer_count":1,"score":0,"last_activity_date":1650375514,"creation_date":1650321111,"question_id":71917724,"body_markdown":"So I have 2 applications : A and B  . application A contains a service that I created and I want to use in my application B.\r\nIs there a way to use that service instead of writing the code again? \r\n\r\n","title":"How to import a service from application A into application B?","body":"<p>So I have 2 applications : A and B  . application A contains a service that I created and I want to use in my application B.\nIs there a way to use that service instead of writing the code again?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","autowired"],"comments":[{"owner":{"account_id":16904098,"reputation":627,"user_id":12224743,"display_name":"Umeshwaran"},"score":0,"creation_date":1650374127,"post_id":71925287,"comment_id":127095743,"body_markdown":"Add @EnableKafka to your Spring Boot Application java file and try","body":"Add @EnableKafka to your Spring Boot Application java file and try"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1650374805,"post_id":71925287,"comment_id":127096003,"body_markdown":"Try declare that bean as `KafkaTemplate&lt;?, ?&gt;` type - not with those specific generics.","body":"Try declare that bean as <code>KafkaTemplate&lt;?, ?&gt;</code> type - not with those specific generics."},{"owner":{"account_id":5271386,"reputation":373,"user_id":4209531,"accept_rate":71,"display_name":"Marley"},"score":0,"creation_date":1650375481,"post_id":71925287,"comment_id":127096305,"body_markdown":"Thanks for the suggestions, but I managed to find the issue. It was a case of PEBKAC.","body":"Thanks for the suggestions, but I managed to find the issue. It was a case of PEBKAC."}],"answers":[{"tags":[],"owner":{"account_id":5271386,"reputation":373,"user_id":4209531,"accept_rate":71,"display_name":"Marley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650375443,"creation_date":1650375443,"answer_id":71925923,"question_id":71925287,"body_markdown":"So it turns out this was a case of PEBKAC (Problem exists between keyboard and chair). \r\n\r\nThe `Bytes` type in my config object referred to `com.google.common.primitives.Bytes` and the `Bytes` in my service class referred to `org.apache.kafka.common.utils.Bytes`.\r\n\r\nLesson to self:\r\n\r\nCheck your types.","title":"Can&#39;t find KafkaTemplate bean, even though I&#39;ve defined one","body":"<p>So it turns out this was a case of PEBKAC (Problem exists between keyboard and chair).</p>\n<p>The <code>Bytes</code> type in my config object referred to <code>com.google.common.primitives.Bytes</code> and the <code>Bytes</code> in my service class referred to <code>org.apache.kafka.common.utils.Bytes</code>.</p>\n<p>Lesson to self:</p>\n<p>Check your types.</p>\n"}],"owner":{"account_id":5271386,"reputation":373,"user_id":4209531,"accept_rate":71,"display_name":"Marley"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71925923,"answer_count":1,"score":0,"last_activity_date":1650375443,"creation_date":1650372740,"question_id":71925287,"body_markdown":"My environment context looks like this:\r\n\r\n```\r\n- Spring Boot v2.5.12\r\n- Maven Multi Module project (this is a module, it imports its Spring Boot dependencies from the parent pom)\r\n- JDK 11\r\n```\r\n\r\nAnd the error that I am receiving looks like this:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 1 of constructor in com.example.group.service.SomeServiceImpl required a bean of type &#39;org.springframework.kafka.core.KafkaTemplate&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.kafka.core.KafkaTemplate&#39; in your configuration.\r\n```\r\n\r\nThe relevant files:\r\n\r\n```xml\r\n&lt;!-- ${base.dir}/pom.xml --&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;master-config&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.2&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.example.group&lt;/groupId&gt;\r\n    &lt;artifactId&gt;parent-pom&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;app1&lt;/module&gt;\r\n        &lt;module&gt;app2&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\r\n        &lt;spring.boot.version&gt;2.5.12&lt;/spring.boot.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Omitted --&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n&lt;/project&gt;\r\n\r\n&lt;!-- ${base.dir}/app2/pom.xml --&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.example.group&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent-pom&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;app2&lt;/artifactId&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n```java\r\n// ${base.dir}/app2/src/main/java/com/example/group/SomeApplication.java\r\n\r\npackage com.example.group;\r\n\r\n/* Imports omitted */\r\n\r\n@SpringBootApplication\r\npublic class SomeApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SomeApplication.class, args);\r\n    }\r\n}\r\n\r\n// ${base.dir}/app2/src/main/java/com/example/group/configuration/AppConfig.java\r\npackage com.example.group.configuration;\r\n\r\n/* Imports omitted */\r\n\r\n@Configuration\r\npublic class AppConfig {\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;Bytes, Object&gt; kafkaTemplate(ProducerFactory&lt;Bytes, Object&gt; kafkaProducerFactory) {\r\n        return new KafkaTemplate&lt;&gt;(kafkaProducerFactory);\r\n    }\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;Bytes, Object&gt; kafkaProducerFactory() {\r\n        Map&lt;String, Object&gt; producerProperties = /* Config omitted */;\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerProperties);\r\n    }\r\n}\r\n\r\n// ${base.dir}/app2/src/main/java/com/example/group/service/SomeService.java\r\npackage com.example.group.service;\r\n\r\n/* Imports omitted */\r\n\r\n@Service\r\npublic final class SomeServiceImpl implements SomeService {\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(SomeServiceImpl.class);\r\n\r\n    private final KafkaTemplate&lt;Bytes, Object&gt; kafkaTemplate;\r\n    private final String topic;\r\n\r\n    @Autowired\r\n    public SomeServiceImpl(\r\n        KafkaTemplate&lt;Bytes, Object&gt; kafkaTemplate,\r\n        @Value(&quot;${topic}&quot;) String topic) {\r\n        this.kafkaTemplate = kafkaTemplate;\r\n        this.topic = topic;\r\n    }\r\n\r\n    /* omitted */\r\n}\r\n```\r\n\r\nThis is bizarre and I cannot figure out why Spring keeps telling me it cannot find a `KafkaTemplate` bean. Even IntelliJ tells me that it cannot find an autowire candidate for `KafkaTemplate`.\r\n\r\n## Things I&#39;ve tried ##\r\n\r\n1. Deleting my custom `@Bean`s, and relying on `KafkaAutoConfiguration` (it fails, saying it cannot find a `ProducerFactory`)\r\n2. Giving the `KafkaTemplate` bean a name, and using `@Qualifier` in `SomeService`\r\n3. Moving the `@Bean` definitions around.\r\n\r\nNone of these have worked, and so I&#39;m at my wits end. Any insights would be helpful.\r\n\r\n","title":"Can&#39;t find KafkaTemplate bean, even though I&#39;ve defined one","body":"<p>My environment context looks like this:</p>\n<pre><code>- Spring Boot v2.5.12\n- Maven Multi Module project (this is a module, it imports its Spring Boot dependencies from the parent pom)\n- JDK 11\n</code></pre>\n<p>And the error that I am receiving looks like this:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of constructor in com.example.group.service.SomeServiceImpl required a bean of type 'org.springframework.kafka.core.KafkaTemplate' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.kafka.core.KafkaTemplate' in your configuration.\n</code></pre>\n<p>The relevant files:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- ${base.dir}/pom.xml --&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;master-config&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.example.group&lt;/groupId&gt;\n    &lt;artifactId&gt;parent-pom&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;app1&lt;/module&gt;\n        &lt;module&gt;app2&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\n        &lt;spring.boot.version&gt;2.5.12&lt;/spring.boot.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Omitted --&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n\n&lt;!-- ${base.dir}/app2/pom.xml --&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.example.group&lt;/groupId&gt;\n        &lt;artifactId&gt;parent-pom&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;app2&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// ${base.dir}/app2/src/main/java/com/example/group/SomeApplication.java\n\npackage com.example.group;\n\n/* Imports omitted */\n\n@SpringBootApplication\npublic class SomeApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(SomeApplication.class, args);\n    }\n}\n\n// ${base.dir}/app2/src/main/java/com/example/group/configuration/AppConfig.java\npackage com.example.group.configuration;\n\n/* Imports omitted */\n\n@Configuration\npublic class AppConfig {\n\n    @Bean\n    public KafkaTemplate&lt;Bytes, Object&gt; kafkaTemplate(ProducerFactory&lt;Bytes, Object&gt; kafkaProducerFactory) {\n        return new KafkaTemplate&lt;&gt;(kafkaProducerFactory);\n    }\n\n    @Bean\n    public ProducerFactory&lt;Bytes, Object&gt; kafkaProducerFactory() {\n        Map&lt;String, Object&gt; producerProperties = /* Config omitted */;\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerProperties);\n    }\n}\n\n// ${base.dir}/app2/src/main/java/com/example/group/service/SomeService.java\npackage com.example.group.service;\n\n/* Imports omitted */\n\n@Service\npublic final class SomeServiceImpl implements SomeService {\n    private static final Logger LOGGER = LoggerFactory.getLogger(SomeServiceImpl.class);\n\n    private final KafkaTemplate&lt;Bytes, Object&gt; kafkaTemplate;\n    private final String topic;\n\n    @Autowired\n    public SomeServiceImpl(\n        KafkaTemplate&lt;Bytes, Object&gt; kafkaTemplate,\n        @Value(&quot;${topic}&quot;) String topic) {\n        this.kafkaTemplate = kafkaTemplate;\n        this.topic = topic;\n    }\n\n    /* omitted */\n}\n</code></pre>\n<p>This is bizarre and I cannot figure out why Spring keeps telling me it cannot find a <code>KafkaTemplate</code> bean. Even IntelliJ tells me that it cannot find an autowire candidate for <code>KafkaTemplate</code>.</p>\n<h2>Things I've tried</h2>\n<ol>\n<li>Deleting my custom <code>@Bean</code>s, and relying on <code>KafkaAutoConfiguration</code> (it fails, saying it cannot find a <code>ProducerFactory</code>)</li>\n<li>Giving the <code>KafkaTemplate</code> bean a name, and using <code>@Qualifier</code> in <code>SomeService</code></li>\n<li>Moving the <code>@Bean</code> definitions around.</li>\n</ol>\n<p>None of these have worked, and so I'm at my wits end. Any insights would be helpful.</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1650374255,"post_id":71925538,"comment_id":127095792,"body_markdown":"You have an int _IDEleve marked as the ID for the entity, but not shown how you set that value; basically you&#39;ve just told JPA to insert a row with an ID value of 0, so its done that and cached the object as ID=0. If you are going to use DB identity or triggers to set the value, you need to tell JPA about it so that it knows 0 isn&#39;t the actual entity ID value, and so it knows how to go about looking it up (either after, or even before) aka sequencing. https://en.wikibooks.org/wiki/Java_Persistence/Identity_and_Sequencing","body":"You have an int _IDEleve marked as the ID for the entity, but not shown how you set that value; basically you&#39;ve just told JPA to insert a row with an ID value of 0, so its done that and cached the object as ID=0. If you are going to use DB identity or triggers to set the value, you need to tell JPA about it so that it knows 0 isn&#39;t the actual entity ID value, and so it knows how to go about looking it up (either after, or even before) aka sequencing. <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/Identity_and_Sequencing\" rel=\"nofollow noreferrer\">en.wikibooks.org/wiki/Java_Persistence/Identity_and_Sequenci&zwnj;&#8203;ng</a>"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1650374949,"post_id":71925538,"comment_id":127096064,"body_markdown":"@Chris this comment looks a lot like an answer, doesn&#39;t it?","body":"@Chris this comment looks a lot like an answer, doesn&#39;t it?"}],"answers":[{"tags":[],"owner":{"account_id":12672087,"reputation":504,"user_id":9209277,"display_name":"Jonas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650375373,"creation_date":1650375053,"answer_id":71925834,"question_id":71925538,"body_markdown":"Did you try to add the `@GeneratedValue` annotation at your ID field?\r\n\r\nThere are four possible strategies you can choose from:\r\n* `GenerationType.AUTO`: The JPA provider will choose an appropriate strategy for the underlying database.\r\n* `GenerationType.IDENTITY`: Relies on a auto-increment column in your database.\r\n* `GenerationType.SEQUENCE`: Relies on a database sequence\r\n* `GenerationType.TABLE`: Uses a generator table in the database.\r\n\r\nMore info: https://www.baeldung.com/jpa-strategies-when-set-primary-key\r\n\r\nIf you ever change to a more powerful framework it is likely that this manages your transactions (CMT) so you can&#39;t (or don&#39;t want) commit everytime you want to access the ID for a new entity. In these cases you can use `EntityManager#flush` to synchronize Entity Manager with database.","title":"ID of java objects not synchronizing with database","body":"<p>Did you try to add the <code>@GeneratedValue</code> annotation at your ID field?</p>\n<p>There are four possible strategies you can choose from:</p>\n<ul>\n<li><code>GenerationType.AUTO</code>: The JPA provider will choose an appropriate strategy for the underlying database.</li>\n<li><code>GenerationType.IDENTITY</code>: Relies on a auto-increment column in your database.</li>\n<li><code>GenerationType.SEQUENCE</code>: Relies on a database sequence</li>\n<li><code>GenerationType.TABLE</code>: Uses a generator table in the database.</li>\n</ul>\n<p>More info: <a href=\"https://www.baeldung.com/jpa-strategies-when-set-primary-key\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-strategies-when-set-primary-key</a></p>\n<p>If you ever change to a more powerful framework it is likely that this manages your transactions (CMT) so you can't (or don't want) commit everytime you want to access the ID for a new entity. In these cases you can use <code>EntityManager#flush</code> to synchronize Entity Manager with database.</p>\n"}],"owner":{"account_id":25003935,"reputation":3,"user_id":18864087,"display_name":"jayqui-grisli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71925834,"answer_count":1,"score":0,"last_activity_date":1650375373,"creation_date":1650373874,"question_id":71925538,"body_markdown":"The only link I found that&#39;s close to what I am experiencing is this one : \r\nhttps://stackoverflow.com/questions/4654506/how-do-you-synchronize-the-id-of-a-java-object-to-its-associated-db-row?newreg=f0aff7f4936140d0a331386ab884ec90\r\nand there&#39;s not much of a solution in it.\r\n\r\nMy problem is that my Java objects aren&#39;t updated after being added to my database despite the .commit()\r\n\r\n    \tem.getTransaction().begin();\r\n\t\tSystem.out.println(eleve.getID());\r\n\t\tem.persist(eleve);\r\n\t\tem.getTransaction().commit();\r\n        System.out.println(eleve.getID());\r\nwhich refers to this class \r\n\r\n    public class Eleve {\r\n\r\n\tprivate String _nom;\r\n\tprivate String _prenom;\r\n\tprivate float _ptsMerite;\r\n\t@Id\r\n\tprivate int _IDEleve;\r\nand yields this output :\r\n    0\r\n    0\r\n\r\nI think I&#39;ve done everything properly when it comes to the persistence since it does create the object in the database (mySQL) with correct ID&#39;s which I&#39;ve set to be autoincrement.\r\nI am using javax.persistence for everything (annotations and such).\r\n","title":"ID of java objects not synchronizing with database","body":"<p>The only link I found that's close to what I am experiencing is this one :\n<a href=\"https://stackoverflow.com/questions/4654506/how-do-you-synchronize-the-id-of-a-java-object-to-its-associated-db-row?newreg=f0aff7f4936140d0a331386ab884ec90\">How do you synchronize the id of a java object to its associated db row?</a>\nand there's not much of a solution in it.</p>\n<p>My problem is that my Java objects aren't updated after being added to my database despite the .commit()</p>\n<pre><code>    em.getTransaction().begin();\n    System.out.println(eleve.getID());\n    em.persist(eleve);\n    em.getTransaction().commit();\n    System.out.println(eleve.getID());\n</code></pre>\n<p>which refers to this class</p>\n<pre><code>public class Eleve {\n\nprivate String _nom;\nprivate String _prenom;\nprivate float _ptsMerite;\n@Id\nprivate int _IDEleve;\n</code></pre>\n<p>and yields this output :\n0\n0</p>\n<p>I think I've done everything properly when it comes to the persistence since it does create the object in the database (mySQL) with correct ID's which I've set to be autoincrement.\nI am using javax.persistence for everything (annotations and such).</p>\n"},{"tags":["java","talend"],"answers":[{"tags":[],"owner":{"account_id":13407034,"reputation":755,"user_id":9674760,"display_name":"Amine Ben Khelifa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619792195,"creation_date":1619597643,"answer_id":67296331,"question_id":67289268,"body_markdown":"In your tfileoutputdelimited  name just type this : \r\n\r\n`&quot;Your Repository &quot;+&quot;FILENAME_&quot;+TalendDate.getDate(&quot;YYYYMMdd&quot;)+&quot;.csv&quot;` \r\n\r\nJust type your pattern ..\r\n","title":"how to create tfileoutputdelimited with file_name_sysdate as the filename for a particular session run and append data","body":"<p>In your tfileoutputdelimited  name just type this :</p>\n<p><code>&quot;Your Repository &quot;+&quot;FILENAME_&quot;+TalendDate.getDate(&quot;YYYYMMdd&quot;)+&quot;.csv&quot;</code></p>\n<p>Just type your pattern ..</p>\n"}],"owner":{"account_id":20165448,"reputation":1,"user_id":14789514,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650375257,"creation_date":1619550506,"question_id":67289268,"body_markdown":"I have  a tfileoutputdelimited component that has filename and i want to append the sysdate to the variable after every session run like FILENAME_20210427010624 and append processed data to the csv file contents.\r\n\r\nHow can i do this in talend?\r\n\r\nflow like this:  \r\n`tmap-&gt;textractdelimitedfields-&gt;tfileoutputdelimited `\r\n\r\nPlease suggest?","title":"how to create tfileoutputdelimited with file_name_sysdate as the filename for a particular session run and append data","body":"<p>I have  a tfileoutputdelimited component that has filename and i want to append the sysdate to the variable after every session run like FILENAME_20210427010624 and append processed data to the csv file contents.</p>\n<p>How can i do this in talend?</p>\n<p>flow like this:<br />\n<code>tmap-&gt;textractdelimitedfields-&gt;tfileoutputdelimited </code></p>\n<p>Please suggest?</p>\n"},{"tags":["java","spring-boot","h2"],"answers":[{"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650375068,"creation_date":1650255898,"answer_id":71907579,"question_id":71907368,"body_markdown":"You can disable cache of identity column generator with `NO CACHE` clause:\r\n```lang-sql\r\nCREATE TABLE TEST(\r\n    ID BIGINT GENERATED BY DEFAULT AS IDENTITY(NO CACHE) PRIMARY KEY,\r\n    V INTEGER\r\n);\r\n```\r\nIf you use sequence instead of identity column, you need to disable its cache in the same way:\r\n```lang-sql\r\nCREATE SEQUENCE TEST_SEQUENCE NO CACHE;\r\n```\r\n\r\nIt slightly increases disk I/O, however. You should also understand that gaps will be still possible, if application can insert a row and rollback a transaction after that, generated values aren&#39;t reused.\r\n\r\nActually it is a very bad idea to abort an application with **embedded** database in a hard way, because it may cause data loss or database corruption. If you use `DB_CLOSE_ON_EXIT=FALSE`, you must always execute the `SHUTDOWN` command before termination of your application or close all connections (this is enough only if `DB_CLOSE_DELAY` isn&#39;t used).\r\n\r\nIf you don&#39;t have a reason to use `DB_CLOSE_ON_EXIT=FALSE` (it is only needed when application registers a shutdown hook and works with database during shutdown of JVM), it will be better to remove this connection option.\r\n\r\nWith properly closed database caches of sequence generators don&#39;t affect generated values.\r\n\r\n**NOTE**:\r\nRemember that H2 generates random sequence name on first start up when using `@GeneratedValue(strategy = GenerationType.IDENTITY)` which you can check on the h2console, just use `ALTER SEQUENCE paste_seq_name NO CACHE`\r\n\r\nexample: \r\n`ALTER SEQUENCE SYSTEM_SEQUENCE_63AF2D03_F992_40AD_88AA_6E0F10DA12CE NO CACHE`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QAMPY.png","title":"h2 database problem with autoincrement on column generates gap","body":"<p>You can disable cache of identity column generator with <code>NO CACHE</code> clause:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE TEST(\n    ID BIGINT GENERATED BY DEFAULT AS IDENTITY(NO CACHE) PRIMARY KEY,\n    V INTEGER\n);\n</code></pre>\n<p>If you use sequence instead of identity column, you need to disable its cache in the same way:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE SEQUENCE TEST_SEQUENCE NO CACHE;\n</code></pre>\n<p>It slightly increases disk I/O, however. You should also understand that gaps will be still possible, if application can insert a row and rollback a transaction after that, generated values aren't reused.</p>\n<p>Actually it is a very bad idea to abort an application with <strong>embedded</strong> database in a hard way, because it may cause data loss or database corruption. If you use <code>DB_CLOSE_ON_EXIT=FALSE</code>, you must always execute the <code>SHUTDOWN</code> command before termination of your application or close all connections (this is enough only if <code>DB_CLOSE_DELAY</code> isn't used).</p>\n<p>If you don't have a reason to use <code>DB_CLOSE_ON_EXIT=FALSE</code> (it is only needed when application registers a shutdown hook and works with database during shutdown of JVM), it will be better to remove this connection option.</p>\n<p>With properly closed database caches of sequence generators don't affect generated values.</p>\n<p><strong>NOTE</strong>:\nRemember that H2 generates random sequence name on first start up when using <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> which you can check on the h2console, just use <code>ALTER SEQUENCE paste_seq_name NO CACHE</code></p>\n<p>example:\n<code>ALTER SEQUENCE SYSTEM_SEQUENCE_63AF2D03_F992_40AD_88AA_6E0F10DA12CE NO CACHE</code></p>\n<p><a href=\"https://i.stack.imgur.com/QAMPY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QAMPY.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71907579,"answer_count":1,"score":0,"last_activity_date":1650375068,"creation_date":1650252998,"question_id":71907368,"body_markdown":"When I start the h2 database for the first time and make some inserts the autogenerated id goes correctly as 1, 2, 3 and so on, but when I stop the springboot application and turn it on again then it starts again from like 30 positions above, basically exact same problem this post experienced https://stackoverflow.com/questions/11653892/in-h2-database-the-auto-increment-field-is-incremented-by-32 \r\n\r\nI can avoid this problem by executing the &quot;`shutdown`&quot; command at the h2 console and after that shutdown my springboot app, but the thing is that I would like this to be solved in a much more elegant way via java code so that you dont have to go to the h2console and do that by yourself, also in production it would not be good.\r\n\r\nThis is an issue only when you persist the h2 database for example in a file, if you are creating a new one on each application start then this should not matter. Does anyone knows how can this be resolved?\r\n\r\nI have tried some configurations on the spring properties without success, one solution I was thinking about was to make a `@PreDestroy` method which would execute a shutdown statement before the spring shutdown (via eclipse ide by the way), but im not sure if that will work or if it is the correct solution, im posting this in hopes somebody came into this issue recently and knows what to do since the other posts similar dont provide a solution, just an explanation of what causes the problem\r\n\r\nMy application properties:\r\n\r\n\r\n    spring.datasource.url=jdbc:h2:./src/main/resources/data;DB_CLOSE_ON_EXIT=FALSE;AUTO_RECONNECT=TRUE\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=password\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.path=/h2-console\r\n    spring.h2.console.settings.trace=false\r\n    spring.h2.console.settings.web-allow-others=false\r\n\r\n\r\nother posts with this problem:\r\n\r\nhttps://stackoverflow.com/questions/64125581/with-spring-jpa-and-h2-database-the-id-isnt-consequent-after-app-restart\r\n\r\nhttps://stackoverflow.com/questions/11653892/in-h2-database-the-auto-increment-field-is-incremented-by-32\r\n\r\n**UPDATE**:\r\n\r\nWhen using the actuator endpoint for shutdown like on this guide https://www.baeldung.com/spring-boot-shutdown\r\nThe bug doesnt happen, and I guess it is because it is shutting down the application in a &quot;good way&quot;, but the thing is that I also dont think the solution is to call an endpoint for shutting down the application, there must be a way to just use the terminate button in eclipse and that this bug doesnt happen =(","title":"h2 database problem with autoincrement on column generates gap","body":"<p>When I start the h2 database for the first time and make some inserts the autogenerated id goes correctly as 1, 2, 3 and so on, but when I stop the springboot application and turn it on again then it starts again from like 30 positions above, basically exact same problem this post experienced <a href=\"https://stackoverflow.com/questions/11653892/in-h2-database-the-auto-increment-field-is-incremented-by-32\">In H2 database, the auto_increment field is incremented by 32?</a></p>\n<p>I can avoid this problem by executing the &quot;<code>shutdown</code>&quot; command at the h2 console and after that shutdown my springboot app, but the thing is that I would like this to be solved in a much more elegant way via java code so that you dont have to go to the h2console and do that by yourself, also in production it would not be good.</p>\n<p>This is an issue only when you persist the h2 database for example in a file, if you are creating a new one on each application start then this should not matter. Does anyone knows how can this be resolved?</p>\n<p>I have tried some configurations on the spring properties without success, one solution I was thinking about was to make a <code>@PreDestroy</code> method which would execute a shutdown statement before the spring shutdown (via eclipse ide by the way), but im not sure if that will work or if it is the correct solution, im posting this in hopes somebody came into this issue recently and knows what to do since the other posts similar dont provide a solution, just an explanation of what causes the problem</p>\n<p>My application properties:</p>\n<pre><code>spring.datasource.url=jdbc:h2:./src/main/resources/data;DB_CLOSE_ON_EXIT=FALSE;AUTO_RECONNECT=TRUE\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\nspring.h2.console.settings.trace=false\nspring.h2.console.settings.web-allow-others=false\n</code></pre>\n<p>other posts with this problem:</p>\n<p><a href=\"https://stackoverflow.com/questions/64125581/with-spring-jpa-and-h2-database-the-id-isnt-consequent-after-app-restart\">With Spring JPA and H2 database the ID isn&#39;t consequent after app restart</a></p>\n<p><a href=\"https://stackoverflow.com/questions/11653892/in-h2-database-the-auto-increment-field-is-incremented-by-32\">In H2 database, the auto_increment field is incremented by 32?</a></p>\n<p><strong>UPDATE</strong>:</p>\n<p>When using the actuator endpoint for shutdown like on this guide <a href=\"https://www.baeldung.com/spring-boot-shutdown\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-shutdown</a>\nThe bug doesnt happen, and I guess it is because it is shutting down the application in a &quot;good way&quot;, but the thing is that I also dont think the solution is to call an endpoint for shutting down the application, there must be a way to just use the terminate button in eclipse and that this bug doesnt happen =(</p>\n"},{"tags":["java","arrays","queue"],"answers":[{"tags":[],"owner":{"account_id":6269879,"reputation":168,"user_id":4874430,"display_name":"Isma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650375033,"creation_date":1649761777,"answer_id":71841583,"question_id":71834135,"body_markdown":"I&#39;d recommend you to check if front&gt;=0 in deteleArr function. Also you should use the queue instance defined in main, and not a new instance:\r\n\r\n\tvoid deleteArr(String task[]) {\r\n\t    int NUM;\r\n\t    Scanner sc = new Scanner(System.in);\r\n\t    System.out.print(&quot;Enter customer num to delete : &quot;);\r\n\t    NUM = sc.nextInt()-1;\r\n\t    task[NUM] = &quot;EMPTY&quot;;\r\n\t    if(front&gt;=0) {\r\n\t    \ttask[NUM]=Integer.toString(items[front]);\r\n\t    }\r\n\t    this.deQueue();\r\n\t}\r\n\r\n\r\nIf you want, you can use the following display queue function:\r\n\r\n\tvoid display() {\r\n\t    int i;\r\n\t    System.out.println(&quot;Print queue&quot;);\r\n    \tSystem.out.println(&quot;===========&quot;);\r\n\t    if (isEmpty()) {\r\n\t        System.out.println(&quot;Empty Queue&quot;);\r\n\t    } else {\r\n\t        System.out.println(&quot;Front -&gt; &quot; + front);\r\n\t        for (i = front; i &lt;= rear; i++) {\r\n\t            System.out.println(&quot;item[&quot;+i+&quot;]: &quot; +items[i]);\r\n\t        }\r\n\t        System.out.println(&quot;Rear -&gt; &quot; + rear);\r\n\t    }\r\n\t    System.out.println(&quot;============&quot;);\r\n\t}\r\n\r\n\r\nAnd you can use this another function to display the task array:\r\n\r\n    public static void printTaskArray(String task[]) {\r\n    \tSystem.out.println(&quot;Print task[]&quot;);\r\n    \tSystem.out.println(&quot;============&quot;);\r\n    \tif (task.length==0) {\r\n\t        System.out.println(&quot;Empty task&quot;);\r\n    \t} else {\r\n\t    \tfor (int j = 0; j &lt; task.length; j++) {\t        \t\r\n\t            System.out.println(&quot;task[&quot;+j+&quot;]: &quot;+task[j]);\r\n\t        }\r\n    \t}\r\n    \tSystem.out.println(&quot;============&quot;);\r\n    }\r\n\r\nWith this encapsulation you can change your main as follows:\r\n\r\n    public static void main(String[] args) {\r\n        int k =1;\r\n        String task[] = new String[12];\r\n        CQueue q = new CQueue ();\r\n        q.initialize(task);\r\n        printTaskArray(task);\r\n        q.display();\r\n        for (int i = 0; i &lt; task.length; i++) {\r\n            if (task[i].equals(&quot;FULL&quot;)) {\r\n                q.enQueue(k);\r\n                k++;\r\n            }\r\n        }\r\n        printTaskArray(task);\r\n        q.display();\r\n        while (true) {\r\n            q.deleteArr(task);\r\n            printTaskArray(task);\r\n            q.display();\r\n        }\r\n    }\r\n\r\nI hope this help you.","title":"Circular queue array implementation","body":"<p>I'd recommend you to check if front&gt;=0 in deteleArr function. Also you should use the queue instance defined in main, and not a new instance:</p>\n<pre><code>void deleteArr(String task[]) {\n    int NUM;\n    Scanner sc = new Scanner(System.in);\n    System.out.print(&quot;Enter customer num to delete : &quot;);\n    NUM = sc.nextInt()-1;\n    task[NUM] = &quot;EMPTY&quot;;\n    if(front&gt;=0) {\n        task[NUM]=Integer.toString(items[front]);\n    }\n    this.deQueue();\n}\n</code></pre>\n<p>If you want, you can use the following display queue function:</p>\n<pre><code>void display() {\n    int i;\n    System.out.println(&quot;Print queue&quot;);\n    System.out.println(&quot;===========&quot;);\n    if (isEmpty()) {\n        System.out.println(&quot;Empty Queue&quot;);\n    } else {\n        System.out.println(&quot;Front -&gt; &quot; + front);\n        for (i = front; i &lt;= rear; i++) {\n            System.out.println(&quot;item[&quot;+i+&quot;]: &quot; +items[i]);\n        }\n        System.out.println(&quot;Rear -&gt; &quot; + rear);\n    }\n    System.out.println(&quot;============&quot;);\n}\n</code></pre>\n<p>And you can use this another function to display the task array:</p>\n<pre><code>public static void printTaskArray(String task[]) {\n    System.out.println(&quot;Print task[]&quot;);\n    System.out.println(&quot;============&quot;);\n    if (task.length==0) {\n        System.out.println(&quot;Empty task&quot;);\n    } else {\n        for (int j = 0; j &lt; task.length; j++) {             \n            System.out.println(&quot;task[&quot;+j+&quot;]: &quot;+task[j]);\n        }\n    }\n    System.out.println(&quot;============&quot;);\n}\n</code></pre>\n<p>With this encapsulation you can change your main as follows:</p>\n<pre><code>public static void main(String[] args) {\n    int k =1;\n    String task[] = new String[12];\n    CQueue q = new CQueue ();\n    q.initialize(task);\n    printTaskArray(task);\n    q.display();\n    for (int i = 0; i &lt; task.length; i++) {\n        if (task[i].equals(&quot;FULL&quot;)) {\n            q.enQueue(k);\n            k++;\n        }\n    }\n    printTaskArray(task);\n    q.display();\n    while (true) {\n        q.deleteArr(task);\n        printTaskArray(task);\n        q.display();\n    }\n}\n</code></pre>\n<p>I hope this help you.</p>\n"}],"owner":{"account_id":24646698,"reputation":11,"user_id":18544275,"display_name":"Private Xoxo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650375033,"creation_date":1649710154,"question_id":71834135,"body_markdown":"Im trying to create a waiting list which will hold names of customers in a static array when the main array is full.and When the main array gets an EMPTY slot the first customer in the waiting list array will fill up the EMPTY slot of main array and the added element will be removed Im trying to create this using circular queue implementation.following the FIFO(First in first out) system\r\n\r\nThis is the circular queue implementation I have come up with\r\n\r\n    public class CQueue {\r\n\r\n    int SIZE = 4; \r\n    int front, rear;\r\n    int items[] = new int[4];\r\n\r\n    void initialize (String[]task) {\r\n        for (int i = 0; i &lt; task.length; i++) {\r\n            task[i] = &quot;FULL&quot;;\r\n        }\r\n    }\r\n\r\n    CQueue() {\r\n        front = -1;\r\n        rear = -1;\r\n    }\r\n\r\n    boolean isFull() {\r\n        if (front == 0 &amp;&amp; rear == SIZE - 1) {\r\n            return true;\r\n        }\r\n        if (front == rear + 1) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    boolean isEmpty() {\r\n        if (front == -1)\r\n            return true;\r\n        else\r\n            return false;\r\n    }\r\n\r\n    void enQueue(int element) {\r\n        if (isFull()) {\r\n            System.out.println(&quot;Queue is full&quot;);\r\n        } else {\r\n            if (front == -1)\r\n                front = 0;\r\n            rear = (rear + 1) % SIZE;\r\n            items[rear] = element;\r\n            System.out.println(&quot;Inserted &quot; + element);\r\n        }\r\n    }\r\n\r\n\r\n    int deQueue() {\r\n        int element;\r\n        if (isEmpty()) {\r\n            System.out.println(&quot;Queue is empty&quot;);\r\n            return (-1);\r\n        } else {\r\n            element = items[front];\r\n            if (front == rear) {\r\n                front = -1;\r\n                rear = -1;\r\n            } \r\n            else {\r\n                front = (front + 1) % SIZE;\r\n            }\r\n            return (element);\r\n        }\r\n    }\r\n\r\n    void display() {\r\n        int i;\r\n        if (isEmpty()) {\r\n            System.out.println(&quot;Empty Queue&quot;);\r\n        } else {\r\n            System.out.println(&quot;Front -&gt; &quot; + front);\r\n            System.out.println(&quot;Items -&gt; &quot;);\r\n            for (i = front; i != rear; i = (i + 1) % SIZE)\r\n                System.out.print(items[i] + &quot; &quot;);\r\n            System.out.println(items[i]);\r\n            System.out.println(&quot;Rear -&gt; &quot; + rear);\r\n        }\r\n    }\r\n\r\n\r\n\r\nThis the delete method which will take user input to delete the element from task array and add the first come element of queue.\r\n\r\n    void deleteArr(String task[]) {\r\n        CQueue q = new CQueue();\r\n        int NUM;\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Enter customer num to delete : &quot;);\r\n        NUM = sc.nextInt()-1;\r\n        task[NUM] = &quot;EMPTY&quot;;\r\n        int element = items[front];\r\n        task[NUM]=Integer.toString(element);\r\n        q.deQueue();\r\n        q.display();\r\n    }\r\n\r\nThe main method\r\n\r\n        public static void main(String[] args) {\r\n            int k =1;\r\n            String task[] = new String[12];\r\n            CQueue q = new CQueue();\r\n            q.initialize(task);\r\n            q.display();\r\n            for (int i = 0; i &lt; task.length; i++) {\r\n                if (task[i].equals(&quot;FULL&quot;)) {\r\n                    q.enQueue(k);\r\n                    k++;\r\n                }\r\n            }\r\n            while (true) {\r\n                q.deleteArr(task);\r\n                for (int j = 0; j &lt; task.length; j++) {\r\n                    System.out.println(task[j]);\r\n                }\r\n            }\r\n    \r\n    }\r\n\r\nI am stuck on how to add the queue element to the task array when a task array is deleted ","title":"Circular queue array implementation","body":"<p>Im trying to create a waiting list which will hold names of customers in a static array when the main array is full.and When the main array gets an EMPTY slot the first customer in the waiting list array will fill up the EMPTY slot of main array and the added element will be removed Im trying to create this using circular queue implementation.following the FIFO(First in first out) system</p>\n<p>This is the circular queue implementation I have come up with</p>\n<pre><code>public class CQueue {\n\nint SIZE = 4; \nint front, rear;\nint items[] = new int[4];\n\nvoid initialize (String[]task) {\n    for (int i = 0; i &lt; task.length; i++) {\n        task[i] = &quot;FULL&quot;;\n    }\n}\n\nCQueue() {\n    front = -1;\n    rear = -1;\n}\n\nboolean isFull() {\n    if (front == 0 &amp;&amp; rear == SIZE - 1) {\n        return true;\n    }\n    if (front == rear + 1) {\n        return true;\n    }\n    return false;\n}\n\nboolean isEmpty() {\n    if (front == -1)\n        return true;\n    else\n        return false;\n}\n\nvoid enQueue(int element) {\n    if (isFull()) {\n        System.out.println(&quot;Queue is full&quot;);\n    } else {\n        if (front == -1)\n            front = 0;\n        rear = (rear + 1) % SIZE;\n        items[rear] = element;\n        System.out.println(&quot;Inserted &quot; + element);\n    }\n}\n\n\nint deQueue() {\n    int element;\n    if (isEmpty()) {\n        System.out.println(&quot;Queue is empty&quot;);\n        return (-1);\n    } else {\n        element = items[front];\n        if (front == rear) {\n            front = -1;\n            rear = -1;\n        } \n        else {\n            front = (front + 1) % SIZE;\n        }\n        return (element);\n    }\n}\n\nvoid display() {\n    int i;\n    if (isEmpty()) {\n        System.out.println(&quot;Empty Queue&quot;);\n    } else {\n        System.out.println(&quot;Front -&gt; &quot; + front);\n        System.out.println(&quot;Items -&gt; &quot;);\n        for (i = front; i != rear; i = (i + 1) % SIZE)\n            System.out.print(items[i] + &quot; &quot;);\n        System.out.println(items[i]);\n        System.out.println(&quot;Rear -&gt; &quot; + rear);\n    }\n}\n</code></pre>\n<p>This the delete method which will take user input to delete the element from task array and add the first come element of queue.</p>\n<pre><code>void deleteArr(String task[]) {\n    CQueue q = new CQueue();\n    int NUM;\n    Scanner sc = new Scanner(System.in);\n    System.out.print(&quot;Enter customer num to delete : &quot;);\n    NUM = sc.nextInt()-1;\n    task[NUM] = &quot;EMPTY&quot;;\n    int element = items[front];\n    task[NUM]=Integer.toString(element);\n    q.deQueue();\n    q.display();\n}\n</code></pre>\n<p>The main method</p>\n<pre><code>    public static void main(String[] args) {\n        int k =1;\n        String task[] = new String[12];\n        CQueue q = new CQueue();\n        q.initialize(task);\n        q.display();\n        for (int i = 0; i &lt; task.length; i++) {\n            if (task[i].equals(&quot;FULL&quot;)) {\n                q.enQueue(k);\n                k++;\n            }\n        }\n        while (true) {\n            q.deleteArr(task);\n            for (int j = 0; j &lt; task.length; j++) {\n                System.out.println(task[j]);\n            }\n        }\n\n}\n</code></pre>\n<p>I am stuck on how to add the queue element to the task array when a task array is deleted</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-sqs","connectionexception"],"answers":[{"tags":[],"owner":{"account_id":4412574,"reputation":152,"user_id":3595029,"accept_rate":100,"display_name":"danielapsmaior"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646670344,"creation_date":1646670344,"answer_id":71384175,"question_id":71208128,"body_markdown":"I think the problem might be that the endpoint is `http://localhost:9324/queue/test-sns-queue`","title":"Sending message to a SQS queue fails from local in java","body":"<p>I think the problem might be that the endpoint is <code>http://localhost:9324/queue/test-sns-queue</code></p>\n"}],"owner":{"account_id":6753452,"reputation":115,"user_id":5202764,"display_name":"N.Rajal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71384175,"answer_count":1,"score":1,"last_activity_date":1650374972,"creation_date":1645454241,"question_id":71208128,"body_markdown":"I&#39;m not able to send message to *sqs-queue* from my java application. \r\nI am running **roribio16/alpine-sqs** docker image for SQS in my local and I&#39;ve created a standard queue. \r\n\r\nCode snippets:\r\n\r\n    @Data\r\n    @Configuration\r\n    @EnableSqs\r\n    public class SQSConfig {\r\n    \r\n        private final String amazonAWSAccessKey;\r\n        private final String amazonAWSSecretKey;\r\n        private final String amazonSQSRegion;\r\n    \r\n        public SQSConfig(@Value(&quot;${aws.accesskey}&quot;) String amazonAWSAccessKey,\r\n                         @Value(&quot;${aws.secretkey}&quot;) String amazonAWSSecretKey,\r\n                         @Value(&quot;${sqs.aws.region}&quot;) String amazonSQSRegion) {\r\n            this.amazonAWSAccessKey = amazonAWSAccessKey;\r\n            this.amazonAWSSecretKey = amazonAWSSecretKey;\r\n            this.amazonSQSRegion = amazonSQSRegion;\r\n        }\r\n    \r\n        @Bean\r\n        public QueueMessagingTemplate queueMessagingTemplate() {\r\n            return new QueueMessagingTemplate(amazonSQSClient());\r\n        }\r\n    \r\n        @Bean\r\n        @Primary\r\n        public AmazonSQSAsync amazonSQSClient() {\r\n            return AmazonSQSAsyncClientBuilder.standard()\r\n                    .withRegion(amazonSQSRegion)\r\n                    .withCredentials(new AWSStaticCredentialsProvider(new DefaultAWSCredentialsProviderChain().getCredentials()))\r\n                    .build();\r\n        }\r\n    \r\n        private AWSStaticCredentialsProvider amazonAWSCredentials() {\r\n            return new AWSStaticCredentialsProvider(new BasicAWSCredentials(amazonAWSAccessKey, amazonAWSSecretKey));\r\n        }\r\n    \r\n    }\r\n\r\n\r\nMessageProducerService:\r\n\r\n    @Component\r\n    public class SQSMessageProducerService {\r\n    \r\n        @Value(&quot;${sqs.endpoint}&quot;)\r\n        private String amazonSQSEndpoint;\r\n    \r\n        @Autowired\r\n        private QueueMessagingTemplate queueMessagingTemplate;\r\n    \r\n        public void sendMessage(String messageBody) {\r\n            Message messageBuilt = MessageBuilder.withPayload(messageBody).build();\r\n            try {\r\n                queueMessagingTemplate.send(amazonSQSEndpoint, messageBuilt);\r\n            } catch (MessagingException e) {\r\n                System.out.println(e);\r\n            }\r\n            System.out.println(&quot;message sent: &quot; + messageBody);\r\n    \r\n        }\r\n    }\r\n\r\nCalling using - \r\n\r\n    sqsMessageProducerService.sendMessage(userEvent.toString());\r\n\r\nError stack - \r\n\r\n&gt; InvalidAction; see the SQS docs. (Service: AmazonSQS; Status Code:\r\n&gt; 400; Error Code: InvalidAction; Request ID:\r\n&gt; 00000000-0000-0000-0000-000000000000)\r\n\r\nVars from properties file -\r\n\r\n    sqs.endpoint=${SQS_ENDPOINT:http://localhost:9324/test-sns-queue}\r\n    sqs.aws.region=${SQS_AWS_REGION:us-west-2}\r\n\r\n\r\nAlso, SQS instance is up in my local and can be accessed using http://localhost:9325/.\r\nIs there some config that I&#39;m missing here? ","title":"Sending message to a SQS queue fails from local in java","body":"<p>I'm not able to send message to <em>sqs-queue</em> from my java application.\nI am running <strong>roribio16/alpine-sqs</strong> docker image for SQS in my local and I've created a standard queue.</p>\n<p>Code snippets:</p>\n<pre><code>@Data\n@Configuration\n@EnableSqs\npublic class SQSConfig {\n\n    private final String amazonAWSAccessKey;\n    private final String amazonAWSSecretKey;\n    private final String amazonSQSRegion;\n\n    public SQSConfig(@Value(&quot;${aws.accesskey}&quot;) String amazonAWSAccessKey,\n                     @Value(&quot;${aws.secretkey}&quot;) String amazonAWSSecretKey,\n                     @Value(&quot;${sqs.aws.region}&quot;) String amazonSQSRegion) {\n        this.amazonAWSAccessKey = amazonAWSAccessKey;\n        this.amazonAWSSecretKey = amazonAWSSecretKey;\n        this.amazonSQSRegion = amazonSQSRegion;\n    }\n\n    @Bean\n    public QueueMessagingTemplate queueMessagingTemplate() {\n        return new QueueMessagingTemplate(amazonSQSClient());\n    }\n\n    @Bean\n    @Primary\n    public AmazonSQSAsync amazonSQSClient() {\n        return AmazonSQSAsyncClientBuilder.standard()\n                .withRegion(amazonSQSRegion)\n                .withCredentials(new AWSStaticCredentialsProvider(new DefaultAWSCredentialsProviderChain().getCredentials()))\n                .build();\n    }\n\n    private AWSStaticCredentialsProvider amazonAWSCredentials() {\n        return new AWSStaticCredentialsProvider(new BasicAWSCredentials(amazonAWSAccessKey, amazonAWSSecretKey));\n    }\n\n}\n</code></pre>\n<p>MessageProducerService:</p>\n<pre><code>@Component\npublic class SQSMessageProducerService {\n\n    @Value(&quot;${sqs.endpoint}&quot;)\n    private String amazonSQSEndpoint;\n\n    @Autowired\n    private QueueMessagingTemplate queueMessagingTemplate;\n\n    public void sendMessage(String messageBody) {\n        Message messageBuilt = MessageBuilder.withPayload(messageBody).build();\n        try {\n            queueMessagingTemplate.send(amazonSQSEndpoint, messageBuilt);\n        } catch (MessagingException e) {\n            System.out.println(e);\n        }\n        System.out.println(&quot;message sent: &quot; + messageBody);\n\n    }\n}\n</code></pre>\n<p>Calling using -</p>\n<pre><code>sqsMessageProducerService.sendMessage(userEvent.toString());\n</code></pre>\n<p>Error stack -</p>\n<blockquote>\n<p>InvalidAction; see the SQS docs. (Service: AmazonSQS; Status Code:\n400; Error Code: InvalidAction; Request ID:\n00000000-0000-0000-0000-000000000000)</p>\n</blockquote>\n<p>Vars from properties file -</p>\n<pre><code>sqs.endpoint=${SQS_ENDPOINT:http://localhost:9324/test-sns-queue}\nsqs.aws.region=${SQS_AWS_REGION:us-west-2}\n</code></pre>\n<p>Also, SQS instance is up in my local and can be accessed using http://localhost:9325/.\nIs there some config that I'm missing here?</p>\n"},{"tags":["java","jms","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650228270,"creation_date":1650228270,"answer_id":71905327,"question_id":71903043,"body_markdown":"The ActiveMQ 5 client updates the lists of topics and queues through the [advisory messages][1]. Since ActiveMQ Artemis 2.18 the advisory messages support is disabled by default, see [ARTEMIS-3414][2]. To enable the advisory messages support add the supportAdvisory parameter to the acceptor, i.e.\r\n\r\n    &lt;acceptor name=&quot;artemis&quot;&gt;tcp://0.0.0.0:61616?protocols=OPENWIRE;supportAdvisory=true&lt;/acceptor&gt;\r\n\r\n\r\n  [1]: https://activemq.apache.org/advisory-message\r\n  [2]: https://issues.apache.org/jira/browse/ARTEMIS-3414","title":"ActiveMQ Artemis - Obtain list of available Addresses using JMS","body":"<p>The ActiveMQ 5 client updates the lists of topics and queues through the <a href=\"https://activemq.apache.org/advisory-message\" rel=\"nofollow noreferrer\">advisory messages</a>. Since ActiveMQ Artemis 2.18 the advisory messages support is disabled by default, see <a href=\"https://issues.apache.org/jira/browse/ARTEMIS-3414\" rel=\"nofollow noreferrer\">ARTEMIS-3414</a>. To enable the advisory messages support add the supportAdvisory parameter to the acceptor, i.e.</p>\n<pre><code>&lt;acceptor name=&quot;artemis&quot;&gt;tcp://0.0.0.0:61616?protocols=OPENWIRE;supportAdvisory=true&lt;/acceptor&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650327777,"creation_date":1650291095,"answer_id":71912923,"question_id":71903043,"body_markdown":"Management operations like this are not covered by the JMS specification so every broker implementation will have different ways of providing access. ActiveMQ Artemis is similar in many ways to ActiveMQ &quot;Classic,&quot; but accessing management operations is different. That said, you _can_ [use JMS to invoke management operations][1]. You can list all the addresses using code like this:\r\n```java\r\nimport javax.jms.Message;\r\nimport javax.jms.Queue;\r\nimport javax.jms.QueueConnection;\r\nimport javax.jms.QueueConnectionFactory;\r\nimport javax.jms.QueueRequestor;\r\nimport javax.jms.QueueSession;\r\nimport javax.jms.Session;\r\n...\r\nimport org.apache.activemq.artemis.api.jms.ActiveMQJMSClient;\r\nimport org.apache.activemq.artemis.api.jms.management.JMSManagementHelper;\r\nimport org.apache.activemq.artemis.api.core.management.ResourceNames;\r\n...\r\n\r\nQueueSession session = connection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\r\nQueue managementQueue = ActiveMQJMSClient.createQueue(&quot;activemq.management&quot;);\r\nQueueRequestor requestor = new QueueRequestor(session, managementQueue);\r\nMessage m = session.createMessage();\r\nJMSManagementHelper.putOperationInvocation(m, ResourceNames.BROKER, &quot;getAddressNames&quot;);\r\nMessage reply = requestor.request(m);\r\nboolean success = JMSManagementHelper.hasOperationSucceeded(reply);\r\nif (success) {\r\n   Object[] addresses = (Object[]) JMSManagementHelper.getResult(reply);\r\n   for (Object address : addresses) {\r\n      System.out.println(address);\r\n   }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/documentation/latest/management.html#using-management-message-api","title":"ActiveMQ Artemis - Obtain list of available Addresses using JMS","body":"<p>Management operations like this are not covered by the JMS specification so every broker implementation will have different ways of providing access. ActiveMQ Artemis is similar in many ways to ActiveMQ &quot;Classic,&quot; but accessing management operations is different. That said, you <em>can</em> <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/management.html#using-management-message-api\" rel=\"nofollow noreferrer\">use JMS to invoke management operations</a>. You can list all the addresses using code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.jms.Message;\nimport javax.jms.Queue;\nimport javax.jms.QueueConnection;\nimport javax.jms.QueueConnectionFactory;\nimport javax.jms.QueueRequestor;\nimport javax.jms.QueueSession;\nimport javax.jms.Session;\n...\nimport org.apache.activemq.artemis.api.jms.ActiveMQJMSClient;\nimport org.apache.activemq.artemis.api.jms.management.JMSManagementHelper;\nimport org.apache.activemq.artemis.api.core.management.ResourceNames;\n...\n\nQueueSession session = connection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\nQueue managementQueue = ActiveMQJMSClient.createQueue(&quot;activemq.management&quot;);\nQueueRequestor requestor = new QueueRequestor(session, managementQueue);\nMessage m = session.createMessage();\nJMSManagementHelper.putOperationInvocation(m, ResourceNames.BROKER, &quot;getAddressNames&quot;);\nMessage reply = requestor.request(m);\nboolean success = JMSManagementHelper.hasOperationSucceeded(reply);\nif (success) {\n   Object[] addresses = (Object[]) JMSManagementHelper.getResult(reply);\n   for (Object address : addresses) {\n      System.out.println(address);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":22398921,"reputation":9,"user_id":16609735,"display_name":"squidmonkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71912923,"answer_count":2,"score":0,"last_activity_date":1650374908,"creation_date":1650208411,"question_id":71903043,"body_markdown":"I recently had to switch from ActiveMQ 5.X to ActiveMQ Artemis for the project I&#39;m working on.  I have a function that would read the available topics and populate a table in a MySQL database, but the function no longer works with the change in methodology in Artemis.\r\n\r\nBasically, instead of getting the list of available Topics (aka mutlicast queues), I need to get a list of available addresses so that my consumer can connect and create a multicast queue for that address with the same name.\r\n\r\nHere&#39;s why I need this functionality:\r\n\r\n - User selects address name from ActiveMQ using a website (which reads from\r\n   database) \r\n - consumer connects to that address name and makes the queue\r\n - Java consumer / producer updates database every second with available addresses for the website\r\n\r\nHere is the previous code I have that worked with the previous ActiveMQ 5.X:\r\n\r\n\r\n```\r\npublic class ActiveMQ {\r\n\r\n    public ActiveMQ(String amq_url) throws JMSException, NamingException{\r\n        ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(amq_url);      \r\n        this.connection = (ActiveMQConnection) connectionFactory.createConnection();\r\n        session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n        connection.start();\r\n    }\r\n\r\n    public void useTopic(String topicName) throws JMSException{\r\n        this.topic = session.createTopic(topicName);\r\n        this.producer = session.createConsumer(topic);\r\n    }\r\n\r\n    \r\n    public void readAvailableTopics() throws JMSException{ \r\n         \r\n        Set&lt;ActiveMQTopic&gt; topics = connection.getDestinationSource().getTopics();\r\n        System.out.println(topics.toString());\r\n        return topics;\r\n    }\r\n \r\n```\r\nThe readAvailableTopics() method is the one in question.\r\n\r\nI&#39;ve tried .getTopics() and .getQueues() on both the consumer AND producer side and they both always return an empty set.  I cannot find any documentation for JMS in order to get the available addresses.\r\n\r\nAny help would be appreciated.","title":"ActiveMQ Artemis - Obtain list of available Addresses using JMS","body":"<p>I recently had to switch from ActiveMQ 5.X to ActiveMQ Artemis for the project I'm working on.  I have a function that would read the available topics and populate a table in a MySQL database, but the function no longer works with the change in methodology in Artemis.</p>\n<p>Basically, instead of getting the list of available Topics (aka mutlicast queues), I need to get a list of available addresses so that my consumer can connect and create a multicast queue for that address with the same name.</p>\n<p>Here's why I need this functionality:</p>\n<ul>\n<li>User selects address name from ActiveMQ using a website (which reads from\ndatabase)</li>\n<li>consumer connects to that address name and makes the queue</li>\n<li>Java consumer / producer updates database every second with available addresses for the website</li>\n</ul>\n<p>Here is the previous code I have that worked with the previous ActiveMQ 5.X:</p>\n<pre><code>public class ActiveMQ {\n\n    public ActiveMQ(String amq_url) throws JMSException, NamingException{\n        ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(amq_url);      \n        this.connection = (ActiveMQConnection) connectionFactory.createConnection();\n        session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n        connection.start();\n    }\n\n    public void useTopic(String topicName) throws JMSException{\n        this.topic = session.createTopic(topicName);\n        this.producer = session.createConsumer(topic);\n    }\n\n    \n    public void readAvailableTopics() throws JMSException{ \n         \n        Set&lt;ActiveMQTopic&gt; topics = connection.getDestinationSource().getTopics();\n        System.out.println(topics.toString());\n        return topics;\n    }\n \n</code></pre>\n<p>The readAvailableTopics() method is the one in question.</p>\n<p>I've tried .getTopics() and .getQueues() on both the consumer AND producer side and they both always return an empty set.  I cannot find any documentation for JMS in order to get the available addresses.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","object","hashmap"],"comments":[{"owner":{"account_id":24964485,"reputation":1,"user_id":18828146,"display_name":"ameerh alharbi"},"score":0,"creation_date":1650173590,"post_id":71899517,"comment_id":127051852,"body_markdown":"my teacher told me to not use database and instead of that hashmap , because its small project","body":"my teacher told me to not use database and instead of that hashmap , because its small project"},{"owner":{"account_id":11537349,"reputation":193,"user_id":8454261,"display_name":"RAZ0229"},"score":1,"creation_date":1650174360,"post_id":71899517,"comment_id":127051960,"body_markdown":"You are instantiating a new HashMap inside your loop, each time you run it in an infinite loop. This alone causes all problems. Plus asking for user input from your own class definition is a really bad practice. A simple approach would be to construct a plain old java object with public getters and setters and a parameterized constructor for your fields. Ask for user input inside your main and then instantiate your class using the input.","body":"You are instantiating a new HashMap inside your loop, each time you run it in an infinite loop. This alone causes all problems. Plus asking for user input from your own class definition is a really bad practice. A simple approach would be to construct a plain old java object with public getters and setters and a parameterized constructor for your fields. Ask for user input inside your main and then instantiate your class using the input."},{"owner":{"account_id":11537349,"reputation":193,"user_id":8454261,"display_name":"RAZ0229"},"score":0,"creation_date":1650174469,"post_id":71899517,"comment_id":127051977,"body_markdown":"See [Java POJO](https://www.javatpoint.com/pojo-in-java) for reference","body":"See <a href=\"https://www.javatpoint.com/pojo-in-java\" rel=\"nofollow noreferrer\">Java POJO</a> for reference"},{"owner":{"account_id":24964485,"reputation":1,"user_id":18828146,"display_name":"ameerh alharbi"},"score":0,"creation_date":1650177900,"post_id":71899517,"comment_id":127052437,"body_markdown":"i fixed what u said but i still idk how to check if particular user is already on Hash map or not , can u help me this is my update   if(UsersList.containsValue(user.tosting())){\n           System.out.printf(&quot;your account is already registered \\n&quot;); \n        }\n       \n        else{\n            UsersList.put(user,user.tosting());\n        System.out.printf(&quot;you create your account succefully \\n&quot;);}","body":"i fixed what u said but i still idk how to check if particular user is already on Hash map or not , can u help me this is my update   if(UsersList.containsValue(user.tosting())){            System.out.printf(&quot;your account is already registered \\n&quot;);          }                 else{             UsersList.put(user,user.tosting());         System.out.printf(&quot;you create your account succefully \\n&quot;);}"},{"owner":{"account_id":11537349,"reputation":193,"user_id":8454261,"display_name":"RAZ0229"},"score":0,"creation_date":1650192292,"post_id":71899517,"comment_id":127054689,"body_markdown":"This is not going to work this way. You dont even need a HashMap here. you can push the  ID to an array and then check if particular ID exists (your code needs a lot of correction). Better way to do this would be to use Serializable interface and store the data in a file so you dont have to rely on your code running all the time.","body":"This is not going to work this way. You dont even need a HashMap here. you can push the  ID to an array and then check if particular ID exists (your code needs a lot of correction). Better way to do this would be to use Serializable interface and store the data in a file so you dont have to rely on your code running all the time."},{"owner":{"account_id":11537349,"reputation":193,"user_id":8454261,"display_name":"RAZ0229"},"score":0,"creation_date":1650192405,"post_id":71899517,"comment_id":127054706,"body_markdown":"also, share a working code please","body":"also, share a working code please"}],"answers":[{"tags":[],"owner":{"account_id":11537349,"reputation":193,"user_id":8454261,"display_name":"RAZ0229"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650195064,"creation_date":1650195064,"answer_id":71901506,"question_id":71899517,"body_markdown":"This is probably what you are looking for right now:\r\n\r\n```\r\nimport java.util.*;\r\n\r\nclass Customer  {\r\n\r\n      String  name, email, mobile, password, city, postcode;\r\n    \r\n    Customer(){}\r\n\r\n    Customer (String name, String email, String mobile, String city, String  postcode, String password) \r\n    {\r\n        this.name = name;\r\n        this.city = city;\r\n        this.postcode = postcode;\r\n        this.email = email;\r\n        this.mobile = mobile;\r\n        this.password = password;\r\n        \r\n    }\r\n    \r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getMobile() {\r\n        return mobile;\r\n    }\r\n\r\n    public void setMobile(String mobile) {\r\n        this.mobile = mobile;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n    \r\n    public String getCity() {\r\n        return city;\r\n    }\r\n\r\n    public void setCity(String city) {\r\n       this.city = city;\r\n    }\r\n    \r\n     public String getpostcode() {\r\n        return postcode;\r\n    }\r\n\r\n    public void setpostcode(String postcode) {\r\n        this.postcode = postcode;\r\n    }\r\n\r\n    public String toString() {\r\n        return this.name + &quot; &quot; + this.email + &quot; &quot; + this.mobile + &quot; &quot; + this.city + &quot; &quot; + this.postcode;\r\n    }\r\n\r\n    public void print() {\r\n        System.out.println(this.name + &quot; &quot; + this.email + &quot; &quot; + this.mobile + &quot; &quot; + this.city + &quot; &quot; + this.postcode);\r\n    }\r\n    \r\npublic static void main(String[] args) {\r\n    \r\n        \r\n    Customer user = new Customer();\r\n    Scanner sc = new Scanner(System.in);\r\n    HashMap&lt;String, String&gt; hm = new HashMap&lt;&gt;();\r\n\r\n    while (true) {\r\n        System.out.println(&quot;\\n\\nChoose (1,2,3): \\n1) Login \\n2) Register \\n3) Exit&quot;);\r\n    \r\n    int input = sc.nextInt();\r\n    \r\n    switch (input) {\r\n        // get login details\r\n        case 1:\r\n            Scanner login = new Scanner(System.in);\r\n\r\n            System.out.print(&quot;Enter name: &quot;);\r\n            user.setName(login.nextLine());\r\n\r\n            System.out.print(&quot;Enter password: &quot;);\r\n            user.setPassword(login.nextLine());\r\n\r\n            System.out.println(&quot;Logged with with =&gt; Name: &quot; + user.getName() + &quot;\\n Password: &quot; + user.getPassword());\r\n            break;\r\n\r\n        case 2:\r\n            Scanner register = new Scanner(System.in);\r\n\r\n            System.out.print(&quot;Enter name: &quot;);\r\n            user.setName(register.nextLine());\r\n\r\n            System.out.print(&quot;Enter password: &quot;);\r\n            user.setPassword(register.nextLine());\r\n\r\n            System.out.print(&quot;Enter mobile: &quot;);\r\n            user.setMobile(register.nextLine());\r\n\r\n            System.out.print(&quot;Enter email: &quot;);\r\n            user.setEmail(register.nextLine());\r\n\r\n            System.out.print(&quot;Enter city: &quot;);\r\n            user.setCity(register.nextLine());\r\n\r\n            System.out.print(&quot;Enter post code: &quot;);\r\n            user.setpostcode(register.nextLine());\r\n\r\n            if (!hm.containsValue(user.toString())) {\r\n                hm.put(UUID.randomUUID().toString(), user.toString());\r\n                System.out.println(&quot;Account created successfully&quot;);\r\n            } else {\r\n                System.out.println(&quot;User already exists&quot;);\r\n            }\r\n\r\n            break;\r\n        case 3:\r\n            //\r\n            break;\r\n\r\n        default:\r\n            throw new IllegalArgumentException(&quot;Wrong Choice&quot;);\r\n    }\r\n    }\r\n\r\n }\r\n\r\n}\r\n\r\n```\r\n","title":"How can I add an object to a HashMap while I don&#39;t have a value for it","body":"<p>This is probably what you are looking for right now:</p>\n<pre><code>import java.util.*;\n\nclass Customer  {\n\n      String  name, email, mobile, password, city, postcode;\n    \n    Customer(){}\n\n    Customer (String name, String email, String mobile, String city, String  postcode, String password) \n    {\n        this.name = name;\n        this.city = city;\n        this.postcode = postcode;\n        this.email = email;\n        this.mobile = mobile;\n        this.password = password;\n        \n    }\n    \n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getMobile() {\n        return mobile;\n    }\n\n    public void setMobile(String mobile) {\n        this.mobile = mobile;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n    \n    public String getCity() {\n        return city;\n    }\n\n    public void setCity(String city) {\n       this.city = city;\n    }\n    \n     public String getpostcode() {\n        return postcode;\n    }\n\n    public void setpostcode(String postcode) {\n        this.postcode = postcode;\n    }\n\n    public String toString() {\n        return this.name + &quot; &quot; + this.email + &quot; &quot; + this.mobile + &quot; &quot; + this.city + &quot; &quot; + this.postcode;\n    }\n\n    public void print() {\n        System.out.println(this.name + &quot; &quot; + this.email + &quot; &quot; + this.mobile + &quot; &quot; + this.city + &quot; &quot; + this.postcode);\n    }\n    \npublic static void main(String[] args) {\n    \n        \n    Customer user = new Customer();\n    Scanner sc = new Scanner(System.in);\n    HashMap&lt;String, String&gt; hm = new HashMap&lt;&gt;();\n\n    while (true) {\n        System.out.println(&quot;\\n\\nChoose (1,2,3): \\n1) Login \\n2) Register \\n3) Exit&quot;);\n    \n    int input = sc.nextInt();\n    \n    switch (input) {\n        // get login details\n        case 1:\n            Scanner login = new Scanner(System.in);\n\n            System.out.print(&quot;Enter name: &quot;);\n            user.setName(login.nextLine());\n\n            System.out.print(&quot;Enter password: &quot;);\n            user.setPassword(login.nextLine());\n\n            System.out.println(&quot;Logged with with =&gt; Name: &quot; + user.getName() + &quot;\\n Password: &quot; + user.getPassword());\n            break;\n\n        case 2:\n            Scanner register = new Scanner(System.in);\n\n            System.out.print(&quot;Enter name: &quot;);\n            user.setName(register.nextLine());\n\n            System.out.print(&quot;Enter password: &quot;);\n            user.setPassword(register.nextLine());\n\n            System.out.print(&quot;Enter mobile: &quot;);\n            user.setMobile(register.nextLine());\n\n            System.out.print(&quot;Enter email: &quot;);\n            user.setEmail(register.nextLine());\n\n            System.out.print(&quot;Enter city: &quot;);\n            user.setCity(register.nextLine());\n\n            System.out.print(&quot;Enter post code: &quot;);\n            user.setpostcode(register.nextLine());\n\n            if (!hm.containsValue(user.toString())) {\n                hm.put(UUID.randomUUID().toString(), user.toString());\n                System.out.println(&quot;Account created successfully&quot;);\n            } else {\n                System.out.println(&quot;User already exists&quot;);\n            }\n\n            break;\n        case 3:\n            //\n            break;\n\n        default:\n            throw new IllegalArgumentException(&quot;Wrong Choice&quot;);\n    }\n    }\n\n }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":24964485,"reputation":1,"user_id":18828146,"display_name":"ameerh alharbi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650374827,"creation_date":1650173238,"question_id":71899517,"body_markdown":"I have an object `user` from a constructor `customer` and I want to add this object to the `HashMap`, but I don&#39;t have the values for `user` because it&#39;s input. After I added it to `HashMap` how can I check if this particular `user` is already in the `HashMap` or not?\r\n`UsersList` is the name of the `HashMap`. &lt;br/&gt; Here is my code:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Scanner;\r\n    \r\n    public class Customer {\r\n    \r\n    \r\n        int id;\r\n        String Name;\r\n        String email;\r\n        String mobile;\r\n        String password;\r\n        String city;\r\n        String postcode;\r\n        public static String input;\r\n    \r\n        Scanner scanner = new Scanner(System.in);\r\n        Customer user = new Customer();\r\n    \r\n        Customer() {\r\n        }\r\n    \r\n    \r\n        Customer(int id, String Name, String city, String postcode, String email, String mobile, String password) {\r\n            this.id = id;\r\n            this.Name = Name;\r\n            this.city = city;\r\n            this.postcode = postcode;\r\n            this.email = email;\r\n            this.mobile = mobile;\r\n            this.password = password;\r\n    \r\n        }\r\n    \r\n    \r\n        public String getName() {\r\n            return Name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            System.out.println (&quot;Enter your name:&quot;);\r\n            String Name = scanner.nextLine();\r\n            this.Name = name;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            System.out.println(&quot;Enter your email:&quot;);\r\n            user.email = scanner.nextLine();\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getMobile() {\r\n            return mobile;\r\n        }\r\n    \r\n        public void setMobile(String mobile) {\r\n            System.out.println(&quot;Enter your mobile number:&quot;);\r\n            user.mobile = scanner.nextLine();\r\n            this.mobile = mobile;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            System.out.println(&quot;Enter your password:&quot;);\r\n            user.password = scanner.nextLine();\r\n            this.password = password;\r\n        }\r\n    \r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getcity() {\r\n            return city;\r\n        }\r\n    \r\n        public void setcity(String city) {\r\n            System.out.println(&quot;Enter your city:&quot;);\r\n            user.city = scanner.nextLine();\r\n            this.city = city;\r\n        }\r\n    \r\n        public String getpostcode() {\r\n            return postcode;\r\n        }\r\n    \r\n        public void setpostcode(String postcode) {\r\n            System.out.println(&quot;Enter postcode:&quot;);\r\n            user.postcode = scanner.nextLine();\r\n            this.postcode = postcode;\r\n        }\r\n    \r\n        public void main(String[] args) {\r\n    \r\n            do {\r\n                System.out.println(&quot;Enter \\&quot;login\\&quot;, \\&quot;register\\&quot;, or \\&quot;exit\\&quot;&quot;);\r\n                input = scanner.nextLine();\r\n                if (input.equals(&quot;login&quot;)) {\r\n                    // get login details\r\n                    user.setName(user.Name);\r\n                    user.setPassword(user.password);\r\n                    System.out.printf(&quot;%s login&quot;);\r\n    \r\n                } else if (input.equals(&quot;register&quot;)) {\r\n                    // get register details\r\n                    user.setName(user.Name);\r\n                    user.setMobile(user.mobile);\r\n                    user.setPassword(user.password);\r\n                    user.setEmail(user.email);\r\n                    user.setcity(user.city);\r\n                    user.setpostcode(user.postcode);\r\n                    HashMap&lt;String, Customer&gt; UsersList = new HashMap&lt;&gt;();\r\n                    UsersList.put(&quot;user&quot;, new Customer(id, Name, city, postcode, email, mobile, password));\r\n                    // Customer testCustomer = UsersList.get(&quot;user&quot;);\r\n                    // int id= testCustomer.getId();\r\n                    if (UsersList.containsValue(id)) {\r\n                        System.out.printf(&quot;your account is already registered \\n&quot;);\r\n                    }\r\n                    // String email= testCustomer.getEmail();\r\n                    else {\r\n                        System.out.printf(&quot;you create your account succefully \\n&quot;);\r\n                        System.out.printf(&quot;Enter &#39;login&#39; to log in or &#39;register&#39; to open another account&quot;);\r\n                        input = scanner.nextLine();\r\n                    }\r\n                } else if (input.equals(&quot;exit&quot;)) {\r\n                    break; // exit the loop\r\n                } else {\r\n                    System.out.printf(&quot;invalid input , try again&quot;);\r\n                    input = scanner.nextLine();\r\n                    // invalid input\r\n                }\r\n            } while (true);\r\n        }\r\n    }\r\n\r\n","title":"How can I add an object to a HashMap while I don&#39;t have a value for it","body":"<p>I have an object <code>user</code> from a constructor <code>customer</code> and I want to add this object to the <code>HashMap</code>, but I don't have the values for <code>user</code> because it's input. After I added it to <code>HashMap</code> how can I check if this particular <code>user</code> is already in the <code>HashMap</code> or not?\n<code>UsersList</code> is the name of the <code>HashMap</code>. <br/> Here is my code:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Scanner;\n\npublic class Customer {\n\n\n    int id;\n    String Name;\n    String email;\n    String mobile;\n    String password;\n    String city;\n    String postcode;\n    public static String input;\n\n    Scanner scanner = new Scanner(System.in);\n    Customer user = new Customer();\n\n    Customer() {\n    }\n\n\n    Customer(int id, String Name, String city, String postcode, String email, String mobile, String password) {\n        this.id = id;\n        this.Name = Name;\n        this.city = city;\n        this.postcode = postcode;\n        this.email = email;\n        this.mobile = mobile;\n        this.password = password;\n\n    }\n\n\n    public String getName() {\n        return Name;\n    }\n\n    public void setName(String name) {\n        System.out.println (&quot;Enter your name:&quot;);\n        String Name = scanner.nextLine();\n        this.Name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        System.out.println(&quot;Enter your email:&quot;);\n        user.email = scanner.nextLine();\n        this.email = email;\n    }\n\n    public String getMobile() {\n        return mobile;\n    }\n\n    public void setMobile(String mobile) {\n        System.out.println(&quot;Enter your mobile number:&quot;);\n        user.mobile = scanner.nextLine();\n        this.mobile = mobile;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        System.out.println(&quot;Enter your password:&quot;);\n        user.password = scanner.nextLine();\n        this.password = password;\n    }\n\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getcity() {\n        return city;\n    }\n\n    public void setcity(String city) {\n        System.out.println(&quot;Enter your city:&quot;);\n        user.city = scanner.nextLine();\n        this.city = city;\n    }\n\n    public String getpostcode() {\n        return postcode;\n    }\n\n    public void setpostcode(String postcode) {\n        System.out.println(&quot;Enter postcode:&quot;);\n        user.postcode = scanner.nextLine();\n        this.postcode = postcode;\n    }\n\n    public void main(String[] args) {\n\n        do {\n            System.out.println(&quot;Enter \\&quot;login\\&quot;, \\&quot;register\\&quot;, or \\&quot;exit\\&quot;&quot;);\n            input = scanner.nextLine();\n            if (input.equals(&quot;login&quot;)) {\n                // get login details\n                user.setName(user.Name);\n                user.setPassword(user.password);\n                System.out.printf(&quot;%s login&quot;);\n\n            } else if (input.equals(&quot;register&quot;)) {\n                // get register details\n                user.setName(user.Name);\n                user.setMobile(user.mobile);\n                user.setPassword(user.password);\n                user.setEmail(user.email);\n                user.setcity(user.city);\n                user.setpostcode(user.postcode);\n                HashMap&lt;String, Customer&gt; UsersList = new HashMap&lt;&gt;();\n                UsersList.put(&quot;user&quot;, new Customer(id, Name, city, postcode, email, mobile, password));\n                // Customer testCustomer = UsersList.get(&quot;user&quot;);\n                // int id= testCustomer.getId();\n                if (UsersList.containsValue(id)) {\n                    System.out.printf(&quot;your account is already registered \\n&quot;);\n                }\n                // String email= testCustomer.getEmail();\n                else {\n                    System.out.printf(&quot;you create your account succefully \\n&quot;);\n                    System.out.printf(&quot;Enter 'login' to log in or 'register' to open another account&quot;);\n                    input = scanner.nextLine();\n                }\n            } else if (input.equals(&quot;exit&quot;)) {\n                break; // exit the loop\n            } else {\n                System.out.printf(&quot;invalid input , try again&quot;);\n                input = scanner.nextLine();\n                // invalid input\n            }\n        } while (true);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1650375016,"post_id":71925730,"comment_id":127096087,"body_markdown":"Why on earth is your reader a processor and writer? Why combine all thatin a single class, that seems like wrong design in the first place. If you want the size just set the chunk size as page size on your reader.","body":"Why on earth is your reader a processor and writer? Why combine all thatin a single class, that seems like wrong design in the first place. If you want the size just set the chunk size as page size on your reader."},{"owner":{"account_id":14063662,"reputation":1,"user_id":10159046,"display_name":"hyunsun yoo"},"score":0,"creation_date":1650377122,"post_id":71925730,"comment_id":127097025,"body_markdown":"thank, but Is there really no way to use it?","body":"thank, but Is there really no way to use it?"}],"owner":{"account_id":14063662,"reputation":1,"user_id":10159046,"display_name":"hyunsun yoo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650374712,"creation_date":1650374712,"question_id":71925730,"body_markdown":"1. JobConfig\r\n```java\r\n@RequiredArgsConstructor\r\n@Configuration\r\npublic class SampleJobConfig {\r\n    private static final int JOB_CHUNK_SIZE = 100;\r\n\r\n    private final JobBuilderFactory jobBuilderFactory;\r\n    private final StepBuilderFactory stepBuilderFactory;\r\n\r\n    private final SampleItemProvider sampleItemProvider; // custom class : itemReader, itemProcessor, itemWriter\r\n\r\n    @Bean\r\n    public Job myJob() {\r\n        return jobBuilderFactory.get(&quot;myJob&quot;).start(myStep()).build();\r\n    }\r\n\r\n    @Bean\r\n    @JobScope\r\n    public Step myStep() {\r\n        return stepBuilderFactory.get(&quot;myStep&quot;)\r\n                .&lt;String, String&gt;chunk(JOB_CHUNK_SIZE)\r\n                .reader(sampleItemReader)\r\n                .processor(sampleItemProvider)\r\n                .writer(sampleItemProvider)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\n\r\n2. StepProvider : Another Class\r\n\r\n``` java\r\n\r\n@RequiredArgsConstructor\r\n@Component\r\n@StepScope\r\npublic class SampleItemProvider extends AbstractPaginItemReader&lt;String&gt; implements ItemProcessor&lt;String, String&gt;, ItemWriter&lt;String&gt; {\r\n    \r\n    @Override\r\n    protected void doReadPage() {\r\n        // ** I want to get the chunk size set to &quot;SampleJobConfig -&gt; StepBuilder&quot; from here. **\r\n        // not Variable declaration\r\n        // not magic number \r\n        // I want to get the chunksize that I took over when this StepScope was called.\r\n\r\n    }\r\n\r\n    // ..... Processor and Writer\r\n}\r\n\r\n```\r\n\r\n** I want to get the chunk size set to &quot;SampleJobConfig -&gt; StepBuilder&quot; from here. **\r\n\r\nnot Variable declaration\r\n\r\nnot magic number \r\n\r\nWant to get the chunksize that I took over when this StepScope was called.... \r\n\r\n\r\n\r\n","title":"How to get chunk size in my ItemReader class","body":"<ol>\n<li>JobConfig</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\n@Configuration\npublic class SampleJobConfig {\n    private static final int JOB_CHUNK_SIZE = 100;\n\n    private final JobBuilderFactory jobBuilderFactory;\n    private final StepBuilderFactory stepBuilderFactory;\n\n    private final SampleItemProvider sampleItemProvider; // custom class : itemReader, itemProcessor, itemWriter\n\n    @Bean\n    public Job myJob() {\n        return jobBuilderFactory.get(&quot;myJob&quot;).start(myStep()).build();\n    }\n\n    @Bean\n    @JobScope\n    public Step myStep() {\n        return stepBuilderFactory.get(&quot;myStep&quot;)\n                .&lt;String, String&gt;chunk(JOB_CHUNK_SIZE)\n                .reader(sampleItemReader)\n                .processor(sampleItemProvider)\n                .writer(sampleItemProvider)\n                .build();\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>StepProvider : Another Class</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>\n@RequiredArgsConstructor\n@Component\n@StepScope\npublic class SampleItemProvider extends AbstractPaginItemReader&lt;String&gt; implements ItemProcessor&lt;String, String&gt;, ItemWriter&lt;String&gt; {\n    \n    @Override\n    protected void doReadPage() {\n        // ** I want to get the chunk size set to &quot;SampleJobConfig -&gt; StepBuilder&quot; from here. **\n        // not Variable declaration\n        // not magic number \n        // I want to get the chunksize that I took over when this StepScope was called.\n\n    }\n\n    // ..... Processor and Writer\n}\n\n</code></pre>\n<p>** I want to get the chunk size set to &quot;SampleJobConfig -&gt; StepBuilder&quot; from here. **</p>\n<p>not Variable declaration</p>\n<p>not magic number</p>\n<p>Want to get the chunksize that I took over when this StepScope was called....</p>\n"},{"tags":["java","jpa","drools","jta","drools-flow"],"answers":[{"tags":[],"owner":{"account_id":572776,"reputation":2918,"user_id":221541,"display_name":"Kris Verlaenen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650374543,"creation_date":1302898517,"answer_id":5681912,"question_id":5676940,"body_markdown":"When you deploy to an application server, it might not always be able to pick up your orm.xml in the META-INF directory by default.  The best way is to solve this is usually create a custom orm file (in this case a JBPMorm.xml in the META-INF directory) and add the mapping directly to your persistence.xml:\r\n\r\n    &lt;persistence-unit name=&quot;org.jbpm.persistence.jpa&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n        &lt;jta-data-source&gt;java:jdbc/testDS1&lt;/jta-data-source&gt;        \r\n        &lt;mapping-file&gt;META-INF/JBPMorm.xml&lt;/mapping-file&gt;\r\n        ...\r\n","title":"Drools flow persistence - Named query not found: ProcessInstancesWaitingForEvent","body":"<p>When you deploy to an application server, it might not always be able to pick up your orm.xml in the META-INF directory by default.  The best way is to solve this is usually create a custom orm file (in this case a JBPMorm.xml in the META-INF directory) and add the mapping directly to your persistence.xml:</p>\n<pre><code>&lt;persistence-unit name=&quot;org.jbpm.persistence.jpa&quot; transaction-type=&quot;JTA&quot;&gt;\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n    &lt;jta-data-source&gt;java:jdbc/testDS1&lt;/jta-data-source&gt;        \n    &lt;mapping-file&gt;META-INF/JBPMorm.xml&lt;/mapping-file&gt;\n    ...\n</code></pre>\n"}],"owner":{"account_id":294407,"reputation":263,"user_id":598293,"accept_rate":88,"display_name":"GoofyHTS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1860,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":5681912,"answer_count":1,"score":0,"last_activity_date":1650374543,"creation_date":1302871555,"question_id":5676940,"body_markdown":"I have a problem with drools flow persistence (MySQL), I get the following exception:\r\n\r\n    2011-04-15 14:38:27,244 INFO  [STDOUT] (http-0.0.0.0-8000-5) Hibernate: insert into ProcessInstanceInfo (externalVariables, lastModificationDate, lastReadDate, processId, processInstanceByteArray, startDate, state, OPTLOCK) values (?, ?, ?, ?, ?, ?, ?, ?)\r\n    \r\n    2011-04-15 14:38:27,244 INFO  [STDOUT] (http-0.0.0.0-8000-5) Hello World\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) java.lang.RuntimeException: Could not commit session\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.persistence.session.SingleSessionCommandService.execute(SingleSessionCommandService.java:292)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.command.impl.CommandBasedStatefulKnowledgeSession.startProcess(CommandBasedStatefulKnowledgeSession.java:193)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.command.impl.CommandBasedStatefulKnowledgeSession.startProcess(CommandBasedStatefulKnowledgeSession.java:184)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat com.servlet.Servlet.doGet(Servlet.java:101)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:734)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:847)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:324)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:242)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:181)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.event(CatalinaContext.java:285)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.invoke(CatalinaContext.java:261)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:88)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.jboss.web.tomcat.security.SecurityContextEstablishmentValve.invoke(SecurityContextEstablishmentValve.java:100)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:158)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.jboss.web.tomcat.service.request.ActiveRequestResponseCacheValve.invoke(ActiveRequestResponseCacheValve.java:53)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:362)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:654)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:951)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat java.lang.Thread.run(Thread.java:619)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) Caused by: java.lang.IllegalArgumentException: Named query not found: ProcessInstancesWaitingForEvent\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.hibernate.ejb.AbstractEntityManagerImpl.createNamedQuery(AbstractEntityManagerImpl.java:455)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.persistence.processinstance.JPASignalManager.getProcessInstancesForEvent(JPASignalManager.java:32)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.persistence.processinstance.JPASignalManager.signalEvent(JPASignalManager.java:21)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.workflow.instance.impl.WorkflowProcessInstanceImpl.setState(WorkflowProcessInstanceImpl.java:270)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.workflow.instance.impl.WorkflowProcessInstanceImpl.nodeInstanceCompleted(WorkflowProcessInstanceImpl.java:421)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.workflow.instance.node.EndNodeInstance.internalTrigger(EndNodeInstance.java:62)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:117)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.workflow.instance.impl.NodeInstanceImpl.triggerConnection(NodeInstanceImpl.java:178)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.workflow.instance.impl.NodeInstanceImpl.triggerCompleted(NodeInstanceImpl.java:144)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.workflow.instance.node.ActionNodeInstance.triggerCompleted(ActionNodeInstance.java:62)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.workflow.instance.node.ActionNodeInstance.internalTrigger(ActionNodeInstance.java:58)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:117)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.workflow.instance.impl.NodeInstanceImpl.triggerConnection(NodeInstanceImpl.java:178)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.workflow.instance.impl.NodeInstanceImpl.triggerCompleted(NodeInstanceImpl.java:144)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.workflow.instance.node.StartNodeInstance.triggerCompleted(StartNodeInstance.java:49)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.workflow.instance.node.StartNodeInstance.internalTrigger(StartNodeInstance.java:41)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:117)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.ruleflow.instance.RuleFlowProcessInstance.internalStart(RuleFlowProcessInstance.java:32)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.process.instance.impl.ProcessInstanceImpl.start(ProcessInstanceImpl.java:192)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.workflow.instance.impl.WorkflowProcessInstanceImpl.start(WorkflowProcessInstanceImpl.java:309)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.common.AbstractWorkingMemory.startProcess(AbstractWorkingMemory.java:1644)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.impl.StatefulKnowledgeSessionImpl.startProcess(StatefulKnowledgeSessionImpl.java:306)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.command.runtime.process.StartProcessCommand.execute(StartProcessCommand.java:99)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.command.runtime.process.StartProcessCommand.execute(StartProcessCommand.java:38)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \tat org.drools.persistence.session.SingleSessionCommandService.execute(SingleSessionCommandService.java:279)\r\n    \r\n    2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) \t... 24 more\r\n\r\n\r\nI&#39;ve read everywhere that a orm.xml file must be placed in my META-INF folder (which I&#39;ve done) with the following contents:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;entity-mappings xmlns=&quot;http://java.sun.com/xml/ns/persistence/orm&quot;\r\n                   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                   xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence/orm orm_1_0.xsd&quot;\r\n                   version=&quot;1.0&quot;&gt;\r\n          &lt;named-query name=&quot;ProcessInstancesWaitingForEvent&quot;&gt;\r\n              &lt;query&gt;\r\n    select\r\n        processInstanceInfo.processInstanceId\r\n    from\r\n        ProcessInstanceInfo processInstanceInfo\r\n    where\r\n        :type in elements(processInstanceInfo.eventTypes)\r\n              &lt;/query&gt;\r\n          &lt;/named-query&gt;\r\n    &lt;/entity-mappings&gt;\r\n\r\nBut it still throws that exception, you can have a look at my configuration files in a previous question I asked yesterday, [HERE][1]\r\n\r\nThis is driving me crazy, any help or ideas appreciated.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5669998/drools-flow-persistence-no-active-jta-transaction-on-jointransaction-call/5671698","title":"Drools flow persistence - Named query not found: ProcessInstancesWaitingForEvent","body":"<p>I have a problem with drools flow persistence (MySQL), I get the following exception:</p>\n\n<pre><code>2011-04-15 14:38:27,244 INFO  [STDOUT] (http-0.0.0.0-8000-5) Hibernate: insert into ProcessInstanceInfo (externalVariables, lastModificationDate, lastReadDate, processId, processInstanceByteArray, startDate, state, OPTLOCK) values (?, ?, ?, ?, ?, ?, ?, ?)\n\n2011-04-15 14:38:27,244 INFO  [STDOUT] (http-0.0.0.0-8000-5) Hello World\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) java.lang.RuntimeException: Could not commit session\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.persistence.session.SingleSessionCommandService.execute(SingleSessionCommandService.java:292)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.command.impl.CommandBasedStatefulKnowledgeSession.startProcess(CommandBasedStatefulKnowledgeSession.java:193)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.command.impl.CommandBasedStatefulKnowledgeSession.startProcess(CommandBasedStatefulKnowledgeSession.java:184)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at com.servlet.Servlet.doGet(Servlet.java:101)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at javax.servlet.http.HttpServlet.service(HttpServlet.java:734)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:324)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:242)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:181)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.event(CatalinaContext.java:285)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.invoke(CatalinaContext.java:261)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:88)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.jboss.web.tomcat.security.SecurityContextEstablishmentValve.invoke(SecurityContextEstablishmentValve.java:100)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:158)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.jboss.web.tomcat.service.request.ActiveRequestResponseCacheValve.invoke(ActiveRequestResponseCacheValve.java:53)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:362)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:654)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:951)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at java.lang.Thread.run(Thread.java:619)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5) Caused by: java.lang.IllegalArgumentException: Named query not found: ProcessInstancesWaitingForEvent\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.hibernate.ejb.AbstractEntityManagerImpl.createNamedQuery(AbstractEntityManagerImpl.java:455)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.persistence.processinstance.JPASignalManager.getProcessInstancesForEvent(JPASignalManager.java:32)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.persistence.processinstance.JPASignalManager.signalEvent(JPASignalManager.java:21)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.workflow.instance.impl.WorkflowProcessInstanceImpl.setState(WorkflowProcessInstanceImpl.java:270)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.workflow.instance.impl.WorkflowProcessInstanceImpl.nodeInstanceCompleted(WorkflowProcessInstanceImpl.java:421)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.workflow.instance.node.EndNodeInstance.internalTrigger(EndNodeInstance.java:62)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:117)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.workflow.instance.impl.NodeInstanceImpl.triggerConnection(NodeInstanceImpl.java:178)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.workflow.instance.impl.NodeInstanceImpl.triggerCompleted(NodeInstanceImpl.java:144)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.workflow.instance.node.ActionNodeInstance.triggerCompleted(ActionNodeInstance.java:62)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.workflow.instance.node.ActionNodeInstance.internalTrigger(ActionNodeInstance.java:58)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:117)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.workflow.instance.impl.NodeInstanceImpl.triggerConnection(NodeInstanceImpl.java:178)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.workflow.instance.impl.NodeInstanceImpl.triggerCompleted(NodeInstanceImpl.java:144)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.workflow.instance.node.StartNodeInstance.triggerCompleted(StartNodeInstance.java:49)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.workflow.instance.node.StartNodeInstance.internalTrigger(StartNodeInstance.java:41)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.workflow.instance.impl.NodeInstanceImpl.trigger(NodeInstanceImpl.java:117)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.ruleflow.instance.RuleFlowProcessInstance.internalStart(RuleFlowProcessInstance.java:32)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.process.instance.impl.ProcessInstanceImpl.start(ProcessInstanceImpl.java:192)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.workflow.instance.impl.WorkflowProcessInstanceImpl.start(WorkflowProcessInstanceImpl.java:309)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.common.AbstractWorkingMemory.startProcess(AbstractWorkingMemory.java:1644)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.impl.StatefulKnowledgeSessionImpl.startProcess(StatefulKnowledgeSessionImpl.java:306)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.command.runtime.process.StartProcessCommand.execute(StartProcessCommand.java:99)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.command.runtime.process.StartProcessCommand.execute(StartProcessCommand.java:38)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    at org.drools.persistence.session.SingleSessionCommandService.execute(SingleSessionCommandService.java:279)\n\n2011-04-15 14:38:27,244 ERROR [STDERR] (http-0.0.0.0-8000-5)    ... 24 more\n</code></pre>\n\n<p>I've read everywhere that a orm.xml file must be placed in my META-INF folder (which I've done) with the following contents:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;entity-mappings xmlns=\"http://java.sun.com/xml/ns/persistence/orm\"\n               xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n               xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence/orm orm_1_0.xsd\"\n               version=\"1.0\"&gt;\n      &lt;named-query name=\"ProcessInstancesWaitingForEvent\"&gt;\n          &lt;query&gt;\nselect\n    processInstanceInfo.processInstanceId\nfrom\n    ProcessInstanceInfo processInstanceInfo\nwhere\n    :type in elements(processInstanceInfo.eventTypes)\n          &lt;/query&gt;\n      &lt;/named-query&gt;\n&lt;/entity-mappings&gt;\n</code></pre>\n\n<p>But it still throws that exception, you can have a look at my configuration files in a previous question I asked yesterday, <a href=\"https://stackoverflow.com/questions/5669998/drools-flow-persistence-no-active-jta-transaction-on-jointransaction-call/5671698\">HERE</a></p>\n\n<p>This is driving me crazy, any help or ideas appreciated.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":14854758,"reputation":239,"user_id":10727619,"display_name":"GamingFelix"},"score":1,"creation_date":1650374383,"post_id":71925613,"comment_id":127095847,"body_markdown":"You could make it an Optional and do &quot;ifPresent&quot;","body":"You could make it an Optional and do &quot;ifPresent&quot;"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1650374750,"post_id":71925613,"comment_id":127095975,"body_markdown":"`commentId = Optional.ofNullable(com.getParent()).map(Parent::getId).orElse(null)`","body":"<code>commentId = Optional.ofNullable(com.getParent()).map(Parent::getId).orEl&zwnj;&#8203;se(null)</code>"}],"answers":[{"tags":[],"owner":{"account_id":13580418,"reputation":676,"user_id":9796589,"display_name":"red"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650374468,"creation_date":1650374468,"answer_id":71925666,"question_id":71925613,"body_markdown":"You can do it like \r\n```\r\npublic CommentDto(Comment com) {\r\n        id = com.getId();\r\n        comment = com.getComment();\r\n        if (com.getParent() != null) {\r\n            commentId = com.getParent().getId();\r\n        }\r\n        nickname = com.getMember().getNickname();\r\n    }\r\n```\r\nor \r\n\r\n```\r\npublic CommentDto(Comment com) {\r\n        id = com.getId();\r\n        comment = com.getComment();\r\n        if (Objects.nonNull(com.getParent())) {\r\n            commentId = com.getParent().getId();\r\n        }\r\n        nickname = com.getMember().getNickname();\r\n    }\r\n```","title":"How can I set a variable only when not null?","body":"<p>You can do it like</p>\n<pre><code>public CommentDto(Comment com) {\n        id = com.getId();\n        comment = com.getComment();\n        if (com.getParent() != null) {\n            commentId = com.getParent().getId();\n        }\n        nickname = com.getMember().getNickname();\n    }\n</code></pre>\n<p>or</p>\n<pre><code>public CommentDto(Comment com) {\n        id = com.getId();\n        comment = com.getComment();\n        if (Objects.nonNull(com.getParent())) {\n            commentId = com.getParent().getId();\n        }\n        nickname = com.getMember().getNickname();\n    }\n</code></pre>\n"}],"owner":{"account_id":25004039,"reputation":13,"user_id":18864180,"display_name":"zhao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71925666,"answer_count":1,"score":0,"last_activity_date":1650374468,"creation_date":1650374246,"question_id":71925613,"body_markdown":"       @GetMapping(&quot;api/posts/{id}/comments&quot;)\r\n    public Result findComment(@PathVariable(&quot;id&quot;) Long id) {\r\n\r\n        List&lt;Comment&gt; comments = commentRepository.findAllComment(id);\r\n        System.out.println(&quot;parent: &quot; + comments.get(2).getParent().getId());\r\n        List&lt;CommentDto&gt; collect = comments.stream()\r\n                .map(c -&gt; new CommentDto(c))\r\n                .collect(Collectors.toList());\r\n        System.out.println(&quot;1. collect: &quot; + collect);\r\n        return new Result(collect.size(), collect);\r\n    }\r\n\r\n    @Data\r\n    static class CommentDto {\r\n        private Long id;\r\n        private Long commentId;\r\n        private String comment;\r\n        private String nickname;\r\n\r\n        public CommentDto(Comment com) {\r\n            id = com.getId();\r\n            comment = com.getComment();\r\n            if (!com.getParent().equals(null)) {\r\n                commentId = com.getParent().getId();\r\n            }\r\n            nickname = com.getMember().getNickname();\r\n        }\r\n    }\r\n\r\nI am converting the values ​​received as a list into DTO one by one using &quot;stream map&quot;. I want to set the &quot;commentId&quot; only when the converted values ​​are not null. What should I do?\r\n[enter image description here][1]\r\n[1]: https://i.stack.imgur.com/QtFVi.png","title":"How can I set a variable only when not null?","body":"<pre><code>   @GetMapping(&quot;api/posts/{id}/comments&quot;)\npublic Result findComment(@PathVariable(&quot;id&quot;) Long id) {\n\n    List&lt;Comment&gt; comments = commentRepository.findAllComment(id);\n    System.out.println(&quot;parent: &quot; + comments.get(2).getParent().getId());\n    List&lt;CommentDto&gt; collect = comments.stream()\n            .map(c -&gt; new CommentDto(c))\n            .collect(Collectors.toList());\n    System.out.println(&quot;1. collect: &quot; + collect);\n    return new Result(collect.size(), collect);\n}\n\n@Data\nstatic class CommentDto {\n    private Long id;\n    private Long commentId;\n    private String comment;\n    private String nickname;\n\n    public CommentDto(Comment com) {\n        id = com.getId();\n        comment = com.getComment();\n        if (!com.getParent().equals(null)) {\n            commentId = com.getParent().getId();\n        }\n        nickname = com.getMember().getNickname();\n    }\n}\n</code></pre>\n<p>I am converting the values ​​received as a list into DTO one by one using &quot;stream map&quot;. I want to set the &quot;commentId&quot; only when the converted values ​​are not null. What should I do?\n[enter image description here][1]\n[1]: https://i.stack.imgur.com/QtFVi.png</p>\n"},{"tags":["java","opendaylight"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1393341044,"post_id":22018227,"comment_id":33375326,"body_markdown":"How can we help you with your code if you are not showing it? Unfortunately SO is not place where we write tutorials. You need to ask more specific question, describe how you are trying to solve it and what problems/errors you see.","body":"How can we help you with your code if you are not showing it? Unfortunately SO is not place where we write tutorials. You need to ask more specific question, describe how you are trying to solve it and what problems/errors you see."}],"answers":[{"tags":[],"owner":{"account_id":3037584,"reputation":21,"user_id":2575287,"display_name":"NetworkStatic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395733370,"creation_date":1395733370,"answer_id":22628225,"question_id":22018227,"body_markdown":"The simplest way is to add a flow would be:\r\n\r\n 1. Start the controller and point your switch or Open vSwitch / mininet\r\n    instance at the controller on 6633.\r\n\r\n 2. On the same host as the controller, open a browser to\r\n    http:// localhost :8080\r\n\r\n 3. Click on the &quot;flows&quot; tab.\r\n\r\n 4. Add your static flowmod.\r\n\r\nAlternatively you can use the API. The following is a PDF that might help you get started. The accompanying video is on the OpenDaylight YouTube channel.\r\n\r\n[OpenDaylight Tutorial][1]\r\n\r\n-Cheers\r\n\r\n\r\n  [1]: http://events.linuxfoundation.org/sites/events/files/slides/Tutorial-Ericsson-RedHat-Juniper.pdf","title":"Add a Flow in OpenDaylight using Java API","body":"<p>The simplest way is to add a flow would be:</p>\n\n<ol>\n<li><p>Start the controller and point your switch or Open vSwitch / mininet\ninstance at the controller on 6633.</p></li>\n<li><p>On the same host as the controller, open a browser to\nhttp:// localhost :8080</p></li>\n<li><p>Click on the \"flows\" tab.</p></li>\n<li><p>Add your static flowmod.</p></li>\n</ol>\n\n<p>Alternatively you can use the API. The following is a PDF that might help you get started. The accompanying video is on the OpenDaylight YouTube channel.</p>\n\n<p><a href=\"http://events.linuxfoundation.org/sites/events/files/slides/Tutorial-Ericsson-RedHat-Juniper.pdf\" rel=\"nofollow\">OpenDaylight Tutorial</a></p>\n\n<p>-Cheers</p>\n"}],"owner":{"account_id":2716540,"reputation":17,"user_id":2343788,"accept_rate":0,"display_name":"SirPilgrims"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1758,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650374440,"creation_date":1393340936,"question_id":22018227,"body_markdown":"I&#39;m a newbie in opendaylight developing using the java api.\r\nI&#39;m trying to add a simple flow but I can&#39;t do it, maybe I can&#39;t understand well the documentation.\r\nCan anybody help me?\r\n","title":"Add a Flow in OpenDaylight using Java API","body":"<p>I'm a newbie in opendaylight developing using the java api.\nI'm trying to add a simple flow but I can't do it, maybe I can't understand well the documentation.\nCan anybody help me?</p>\n"},{"tags":["java","jar","war"],"answers":[{"tags":[],"owner":{"account_id":301993,"reputation":11379,"user_id":610094,"accept_rate":93,"display_name":"nyanev"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1304433163,"creation_date":1304433163,"answer_id":5871087,"question_id":5871053,"body_markdown":"war and jar are archives for java files. war is web archive and they are running on web server. jar is java archive.","title":"Difference between jar and war in Java","body":"<p>war and jar are archives for java files. war is web archive and they are running on web server. jar is java archive.</p>\n"},{"tags":[],"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"down_vote_count":7,"up_vote_count":31,"is_accepted":false,"score":24,"last_activity_date":1304433188,"creation_date":1304433188,"answer_id":5871096,"question_id":5871053,"body_markdown":"A `.war` file is a Web Application Archive which runs inside an application server while a `.jar` is Java Application Archive that runs a desktop application on a user&#39;s machine.","title":"Difference between jar and war in Java","body":"<p>A <code>.war</code> file is a Web Application Archive which runs inside an application server while a <code>.jar</code> is Java Application Archive that runs a desktop application on a user's machine.</p>\n"},{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":1,"up_vote_count":103,"is_accepted":false,"score":102,"last_activity_date":1304433193,"creation_date":1304433193,"answer_id":5871097,"question_id":5871053,"body_markdown":"A [`.war` file][1] has a specific structure in terms of where certain files will be. Other than that, yes, it&#39;s just a `.jar`.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/WAR_%28Sun_file_format%29","title":"Difference between jar and war in Java","body":"<p>A <a href=\"http://en.wikipedia.org/wiki/WAR_%28Sun_file_format%29\"><code>.war</code> file</a> has a specific structure in terms of where certain files will be. Other than that, yes, it's just a <code>.jar</code>.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":475,"is_accepted":true,"score":475,"last_activity_date":1634024406,"creation_date":1304433202,"answer_id":5871102,"question_id":5871053,"body_markdown":"**From [Java Tips: Difference between ear jar and war files][1]:**\r\n\r\n&gt; These files are simply zipped files\r\n&gt; using the java jar tool. These files are\r\n&gt; created for different purposes. Here\r\n&gt; is the description of these files:\r\n&gt; \r\n&gt; - **.jar files:** The .jar files **contain\r\n&gt; libraries, resources and\r\n&gt; accessories files** like property files.\r\n&gt; \r\n&gt; - **.war files:**  The war file **contains\r\n&gt; the web application** that can be\r\n&gt; deployed on any servlet/jsp\r\n&gt; container. The .war file **contains jsp,\r\n&gt; html, javascript** and other files\r\n&gt; necessary for the development of web\r\n&gt; applications.\r\n\r\n\r\n----------\r\n\r\n\r\n**Official Sun/Oracle descriptions:**\r\n\r\n- [The J2EETM Tutorial: **Web Application Archives**][2]\r\n- [The Java Archive (JAR) File Format: **The Basics**][3]\r\n\r\n\r\n----------\r\n\r\n\r\n**Wikipedia articles:**\r\n\r\n- [WAR file format (Sun)][4]\r\n- [JAR file][5]\r\n\r\n  [1]: https://web.archive.org/web/20161225002040/http://www.java-tips.org/java-ee-tips-100042/17-enterprise-java-beans/1994-difference-between-ear-jar-and-war-files.html\r\n  [2]: https://web.archive.org/web/20120626020019/http://java.sun.com/j2ee/tutorial/1_3-fcs/doc/WCC3.html\r\n  [3]: https://web.archive.org/web/20120626012843/http://java.sun.com/developer/Books/javaprogramming/JAR/basics\r\n  [4]: http://en.wikipedia.org/wiki/WAR_file_format_(Sun)\r\n  [5]: http://en.wikipedia.org/wiki/Jar_file","title":"Difference between jar and war in Java","body":"<p><strong>From <a href=\"https://web.archive.org/web/20161225002040/http://www.java-tips.org/java-ee-tips-100042/17-enterprise-java-beans/1994-difference-between-ear-jar-and-war-files.html\" rel=\"noreferrer\">Java Tips: Difference between ear jar and war files</a>:</strong></p>\n<blockquote>\n<p>These files are simply zipped files\nusing the java jar tool. These files are\ncreated for different purposes. Here\nis the description of these files:</p>\n<ul>\n<li><p><strong>.jar files:</strong> The .jar files <strong>contain\nlibraries, resources and\naccessories files</strong> like property files.</p>\n</li>\n<li><p><strong>.war files:</strong>  The war file <strong>contains\nthe web application</strong> that can be\ndeployed on any servlet/jsp\ncontainer. The .war file <strong>contains jsp,\nhtml, javascript</strong> and other files\nnecessary for the development of web\napplications.</p>\n</li>\n</ul>\n</blockquote>\n<hr />\n<p><strong>Official Sun/Oracle descriptions:</strong></p>\n<ul>\n<li><a href=\"https://web.archive.org/web/20120626020019/http://java.sun.com/j2ee/tutorial/1_3-fcs/doc/WCC3.html\" rel=\"noreferrer\">The J2EETM Tutorial: <strong>Web Application Archives</strong></a></li>\n<li><a href=\"https://web.archive.org/web/20120626012843/http://java.sun.com/developer/Books/javaprogramming/JAR/basics\" rel=\"noreferrer\">The Java Archive (JAR) File Format: <strong>The Basics</strong></a></li>\n</ul>\n<hr />\n<p><strong>Wikipedia articles:</strong></p>\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/WAR_file_format_(Sun)\" rel=\"noreferrer\">WAR file format (Sun)</a></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Jar_file\" rel=\"noreferrer\">JAR file</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":230303,"reputation":14381,"user_id":493823,"display_name":"fmucar"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1304433218,"creation_date":1304433218,"answer_id":5871108,"question_id":5871053,"body_markdown":"Basicly both compressed archives. war is used for web application with a specific directory structure. ","title":"Difference between jar and war in Java","body":"<p>Basicly both compressed archives. war is used for web application with a specific directory structure. </p>\n"},{"tags":[],"owner":{"account_id":74379,"reputation":14630,"user_id":213758,"accept_rate":100,"display_name":"justkt"},"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1304433279,"creation_date":1304433279,"answer_id":5871126,"question_id":5871053,"body_markdown":"&gt;You add web components to a J2EE application in a package called a web application archive (WAR), which is a JAR similar to the package used for Java class libraries. A WAR usually contains other resources besides web components, including:\n&gt;\n&gt;    * Server-side utility classes (database beans, shopping carts, and so on).\n&gt;    * Static web resources (HTML, image, and sound files, and so on)\n&gt;    * Client-side classes (applets and utility classes)\n&gt;\n&gt;A WAR has a specific hierarchical directory structure. The top-level directory of a WAR is the document root of the application. The document root is where JSP pages, client-side classes and archives, and static web resources are stored. \n\n([source][1])\n\nSo a .war is a .jar, but it contains web application components and is laid out according to a specific structure.  A .war is designed to be deployed to a web application server such as Tomcat or Jetty or a Java EE server such as JBoss or Glassfish.\n\n\n  [1]: http://java.sun.com/j2ee/tutorial/1_3-fcs/doc/WebComponents3.html","title":"Difference between jar and war in Java","body":"<blockquote>\n<p>You add web components to a J2EE application in a package called a web application archive (WAR), which is a JAR similar to the package used for Java class libraries. A WAR usually contains other resources besides web components, including:</p>\n<ul>\n<li>Server-side utility classes (database beans, shopping carts, and so on).</li>\n<li>Static web resources (HTML, image, and sound files, and so on)</li>\n<li>Client-side classes (applets and utility classes)</li>\n</ul>\n<p>A WAR has a specific hierarchical directory structure. The top-level directory of a WAR is the document root of the application. The document root is where JSP pages, client-side classes and archives, and static web resources are stored.</p>\n</blockquote>\n<p>(<a href=\"http://java.sun.com/j2ee/tutorial/1_3-fcs/doc/WebComponents3.html\" rel=\"noreferrer\">source</a>)</p>\n<p>So a .war is a .jar, but it contains web application components and is laid out according to a specific structure.  A .war is designed to be deployed to a web application server such as Tomcat or Jetty or a Java EE server such as JBoss or Glassfish.</p>\n"},{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1304433284,"creation_date":1304433284,"answer_id":5871128,"question_id":5871053,"body_markdown":"A war file is a special jar file that is used to package a web application to make it easy to deploy it on an application server. The content of the war file must follow a defined structure.\r\n","title":"Difference between jar and war in Java","body":"<p>A war file is a special jar file that is used to package a web application to make it easy to deploy it on an application server. The content of the war file must follow a defined structure.</p>\n"},{"tags":[],"owner":{"account_id":375799,"reputation":314,"user_id":726845,"display_name":"Haim Sulam"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1304440024,"creation_date":1304440024,"answer_id":5872620,"question_id":5871053,"body_markdown":".jar and .war are both zipped archived files.\r\nBoth can have the optional META-INF/MANIFEST.MF manifest file which hold informative information like versioning, and instructional attributes like classpath and main-class for the JVM that will execute it.\r\n\r\n.war file - Web Application Archive intended to be execute inside a &#39;Servlet Container&#39; and may include other jar files (at WEB-INF/lib directory) compiled classes (at WEB-INF/classes (servlet goes there too)) .jsp files images, files etc. \r\nAll WAR content that is there in order to create a self-contained module.","title":"Difference between jar and war in Java","body":"<p>.jar and .war are both zipped archived files.\nBoth can have the optional META-INF/MANIFEST.MF manifest file which hold informative information like versioning, and instructional attributes like classpath and main-class for the JVM that will execute it.</p>\n\n<p>.war file - Web Application Archive intended to be execute inside a 'Servlet Container' and may include other jar files (at WEB-INF/lib directory) compiled classes (at WEB-INF/classes (servlet goes there too)) .jsp files images, files etc. \nAll WAR content that is there in order to create a self-contained module.</p>\n"},{"tags":[],"owner":{"account_id":10710514,"reputation":3940,"user_id":7882886,"display_name":"Akitha_MJ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535786939,"creation_date":1535786939,"answer_id":52125941,"question_id":5871053,"body_markdown":"War - \r\n\r\n&gt; distribute Java-based web applications. A WAR has the same file\r\n&gt; structure as a JAR file, which is a single compressed file that\r\n&gt; contains multiple files bundled inside it.\r\n\r\nJar -\r\n\r\n&gt;  The .jar files contain libraries, resources and accessories files\r\n&gt; like property files.\r\n\r\n\r\n&gt; WAR files are used to combine JSPs, servlets, Java class files, XML\r\n&gt; files, javascript libraries, JAR libraries, static web pages, and any\r\n&gt; other resources needed to run the application.","title":"Difference between jar and war in Java","body":"<p>War - </p>\n\n<blockquote>\n  <p>distribute Java-based web applications. A WAR has the same file\n  structure as a JAR file, which is a single compressed file that\n  contains multiple files bundled inside it.</p>\n</blockquote>\n\n<p>Jar -</p>\n\n<blockquote>\n  <p>The .jar files contain libraries, resources and accessories files\n  like property files.</p>\n  \n  <p>WAR files are used to combine JSPs, servlets, Java class files, XML\n  files, javascript libraries, JAR libraries, static web pages, and any\n  other resources needed to run the application.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"down_vote_count":0,"up_vote_count":143,"is_accepted":false,"score":143,"last_activity_date":1539002790,"creation_date":1539002790,"answer_id":52702665,"question_id":5871053,"body_markdown":"**WAR** stands for **Web application ARchive**\r\n\r\n**JAR** stands for **Java ARchive**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZLdF7.png","title":"Difference between jar and war in Java","body":"<p><strong>WAR</strong> stands for <strong>Web application ARchive</strong></p>\n\n<p><strong>JAR</strong> stands for <strong>Java ARchive</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/ZLdF7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZLdF7.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":15718236,"reputation":11,"user_id":11341876,"display_name":"Thermal IT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563020958,"creation_date":1563020958,"answer_id":57019173,"question_id":5871053,"body_markdown":"**Jar**:- jar contain only .class\r\n**war**:- war contain html, js, css and .class also jsp and servlets pages ","title":"Difference between jar and war in Java","body":"<p><strong>Jar</strong>:- jar contain only .class\n<strong>war</strong>:- war contain html, js, css and .class also jsp and servlets pages </p>\n"},{"tags":[],"owner":{"account_id":9378438,"reputation":1138,"user_id":8504033,"display_name":"Abdul Alim Shakir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565176253,"creation_date":1565176253,"answer_id":57393069,"question_id":5871053,"body_markdown":"JAR files allow to package multiple files in order to use it as a library, plugin, or any kind of application. On the other hand, WAR files are used only for web applications. \r\n\r\nJAR can be created with any desired structure. In contrast, WAR has a predefined structure with WEB-INF and META-INF directories. \r\n\r\nA JAR file allows Java Runtime Environment (JRE) to deploy an entire application including the classes and the associated resources in a single request. On the other hand, a WAR file allows testing and deploying a web application easily.","title":"Difference between jar and war in Java","body":"<p>JAR files allow to package multiple files in order to use it as a library, plugin, or any kind of application. On the other hand, WAR files are used only for web applications. </p>\n\n<p>JAR can be created with any desired structure. In contrast, WAR has a predefined structure with WEB-INF and META-INF directories. </p>\n\n<p>A JAR file allows Java Runtime Environment (JRE) to deploy an entire application including the classes and the associated resources in a single request. On the other hand, a WAR file allows testing and deploying a web application easily.</p>\n"},{"tags":[],"owner":{"account_id":13992532,"reputation":331,"user_id":10106201,"display_name":"Animesh Jaiswal"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1565177124,"creation_date":1565177124,"answer_id":57393340,"question_id":5871053,"body_markdown":"A JAR file extension is .jar and is created with jar command from command prompt (like javac command is executed). Generally, a JAR file contains Java related resources like libraries, classes etc.JAR file is like winzip file except that Jar files are platform independent.\r\n\r\nA WAR file is simply a JAR file but contains only Web related Java files like Servlets, JSP, HTML.\r\n\r\nTo execute a WAR file, a Web server or Web container is required, for example, Tomcat or Weblogic or Websphere. To execute a JAR file, simple JDK is enough.","title":"Difference between jar and war in Java","body":"<p>A JAR file extension is .jar and is created with jar command from command prompt (like javac command is executed). Generally, a JAR file contains Java related resources like libraries, classes etc.JAR file is like winzip file except that Jar files are platform independent.</p>\n\n<p>A WAR file is simply a JAR file but contains only Web related Java files like Servlets, JSP, HTML.</p>\n\n<p>To execute a WAR file, a Web server or Web container is required, for example, Tomcat or Weblogic or Websphere. To execute a JAR file, simple JDK is enough.</p>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1618315434,"creation_date":1618315434,"answer_id":67074486,"question_id":5871053,"body_markdown":"  **War** : For web-applications  \r\n   **Jar** : For desktop applications\r\n\r\nOR \r\n\r\n**War** : Working on browser  \r\n**Jar** : Working on machine","title":"Difference between jar and war in Java","body":"<p><strong>War</strong> : For web-applications<br />\n<strong>Jar</strong> : For desktop applications</p>\n<p>OR</p>\n<p><strong>War</strong> : Working on browser<br />\n<strong>Jar</strong> : Working on machine</p>\n"},{"tags":[],"owner":{"display_name":"user9578753"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632212691,"creation_date":1632212691,"answer_id":69265672,"question_id":5871053,"body_markdown":"Also, using an embedded container, you can run a **JAR** file directly whitouh setting up a web server like when running your java app with spring boot. However, for a **WAR** file, you need to set up first a web server like Tomcat for example.","title":"Difference between jar and war in Java","body":"<p>Also, using an embedded container, you can run a <strong>JAR</strong> file directly whitouh setting up a web server like when running your java app with spring boot. However, for a <strong>WAR</strong> file, you need to set up first a web server like Tomcat for example.</p>\n"}],"owner":{"account_id":88014,"reputation":60053,"user_id":1178669,"accept_rate":93,"display_name":"helpermethod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446924,"favorite_count":0,"down_vote_count":1,"up_vote_count":581,"accepted_answer_id":5871102,"answer_count":15,"score":580,"last_activity_date":1650374369,"creation_date":1304433063,"question_id":5871053,"body_markdown":"What is the difference between a `.jar` and a `.war` file?  \r\nIs it only the file extension or is there something more?","title":"Difference between jar and war in Java","body":"<p>What is the difference between a <code>.jar</code> and a <code>.war</code> file?<br>\nIs it only the file extension or is there something more?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":18734066,"reputation":3624,"user_id":13658816,"display_name":"jsN00b"},"score":2,"creation_date":1650304247,"post_id":71915145,"comment_id":127078427,"body_markdown":"Based on which programming language you choose (let&#39;s say `C`, or `C++`, or may be assembly-language), the steps may vary. Basically, iterate through the string (by each character) &amp; &quot;remember&quot; the previous iteration&#39;s character. If current iteration is a comma and previous is not a digit (ie, not 0, 1, 2, ...9), then add the comma and a space into a result string. If not, just add the character as-is to the result string.","body":"Based on which programming language you choose (let&#39;s say <code>C</code>, or <code>C++</code>, or may be assembly-language), the steps may vary. Basically, iterate through the string (by each character) &amp; &quot;remember&quot; the previous iteration&#39;s character. If current iteration is a comma and previous is not a digit (ie, not 0, 1, 2, ...9), then add the comma and a space into a result string. If not, just add the character as-is to the result string."},{"owner":{"account_id":145051,"reputation":130089,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1650306114,"post_id":71915145,"comment_id":127078981,"body_markdown":"What do you mean by &quot;using Regression? Do you maybe mean _recursion?_","body":"What do you mean by &quot;using Regression? Do you maybe mean <i>recursion?</i>"},{"owner":{"account_id":16041008,"reputation":11,"user_id":11577413,"display_name":"Pranav Nigam"},"score":0,"creation_date":1650306538,"post_id":71915145,"comment_id":127079106,"body_markdown":"@Chris Sorry by mistake I mentioned Regression, using regex I need to do this","body":"@Chris Sorry by mistake I mentioned Regression, using regex I need to do this"},{"owner":{"account_id":16041008,"reputation":11,"user_id":11577413,"display_name":"Pranav Nigam"},"score":0,"creation_date":1650306698,"post_id":71915145,"comment_id":127079150,"body_markdown":"@jsN00b Condition will be like if before comma and after comma if it&#39;s an Integer then do not put space after comma but I don&#39;t know how to write it using Regex","body":"@jsN00b Condition will be like if before comma and after comma if it&#39;s an Integer then do not put space after comma but I don&#39;t know how to write it using Regex"},{"owner":{"account_id":6560034,"reputation":259,"user_id":5071492,"display_name":"AdoobII"},"score":0,"creation_date":1650312993,"post_id":71915145,"comment_id":127080985,"body_markdown":"@jsN00b the issue with what you&#39;re suggesting is that he could have strings that start/end with an int character. He didn&#39;t provide enough information about the problem but I am assuming that he has blocks which contain either numbers where commas are used to separate thousands or random strings with each block separated by a comma.","body":"@jsN00b the issue with what you&#39;re suggesting is that he could have strings that start/end with an int character. He didn&#39;t provide enough information about the problem but I am assuming that he has blocks which contain either numbers where commas are used to separate thousands or random strings with each block separated by a comma."},{"owner":{"account_id":18734066,"reputation":3624,"user_id":13658816,"display_name":"jsN00b"},"score":0,"creation_date":1650341683,"post_id":71915145,"comment_id":127085765,"body_markdown":"@PranavNigam - please update the question. You should be able to click &quot;Edit&quot; and change the question so it states &quot;RegEx&quot; and not &quot;Regression&quot; (particularly in the &quot;Title&quot;). And, you have also not mentioned which programming language you intend to use (RegEx is applicable on multiple languages).","body":"@PranavNigam - please update the question. You should be able to click &quot;Edit&quot; and change the question so it states &quot;RegEx&quot; and not &quot;Regression&quot; (particularly in the &quot;Title&quot;). And, you have also not mentioned which programming language you intend to use (RegEx is applicable on multiple languages)."}],"answers":[{"tags":[],"owner":{"account_id":6560034,"reputation":259,"user_id":5071492,"display_name":"AdoobII"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650312576,"creation_date":1650312576,"answer_id":71916559,"question_id":71915145,"body_markdown":"You didn&#39;t mention which environment you are attempting to solve this problem in. So the following answer is written with the assumption that you are working with Python.\r\n\r\nExample string:\r\n\r\n    abcd,anhdc,bajb,abc1hb,nj2acsn,10,000,nijaxiu\r\n\r\nThis code in Python should get the job done:\r\n\r\n    import re\r\n    \r\n    s  = &quot;abcd,anhdc,bajb,abc1hb,nj2acsn,10,000,nijaxiu&quot;\r\n    \r\n    blocks = re.findall(&#39;[a-zA-Z0-9]+&#39;, s)\r\n    seperated_blocks = &#39;&#39;\r\n    seperated_blocks += blocks[0] + &#39;,&#39;\r\n    \r\n    for idx in range(1, len(blocks), 1):\r\n      if re.match(&#39;\\d+&#39;, blocks[idx-1]) and re.match(&#39;\\d+&#39;, blocks[idx]):\r\n        seperated_blocks += blocks[idx]+&#39;,&#39;\r\n      else:\r\n        seperated_blocks += &#39; &#39; + blocks[idx]+&#39;,&#39;\r\n    \r\n    seperated_blocks = seperated_blocks[0:-1]\r\n\r\nOutput:\r\n\r\n    &#39;abcd, anhdc, bajb, abc1hb, nj2acsn, 10,000, nijaxiu&#39;","title":"How to add space after comma if it has letters on each side in a string using RegEx(Java)","body":"<p>You didn't mention which environment you are attempting to solve this problem in. So the following answer is written with the assumption that you are working with Python.</p>\n<p>Example string:</p>\n<pre><code>abcd,anhdc,bajb,abc1hb,nj2acsn,10,000,nijaxiu\n</code></pre>\n<p>This code in Python should get the job done:</p>\n<pre><code>import re\n\ns  = &quot;abcd,anhdc,bajb,abc1hb,nj2acsn,10,000,nijaxiu&quot;\n\nblocks = re.findall('[a-zA-Z0-9]+', s)\nseperated_blocks = ''\nseperated_blocks += blocks[0] + ','\n\nfor idx in range(1, len(blocks), 1):\n  if re.match('\\d+', blocks[idx-1]) and re.match('\\d+', blocks[idx]):\n    seperated_blocks += blocks[idx]+','\n  else:\n    seperated_blocks += ' ' + blocks[idx]+','\n\nseperated_blocks = seperated_blocks[0:-1]\n</code></pre>\n<p>Output:</p>\n<pre><code>'abcd, anhdc, bajb, abc1hb, nj2acsn, 10,000, nijaxiu'\n</code></pre>\n"}],"owner":{"account_id":16041008,"reputation":11,"user_id":11577413,"display_name":"Pranav Nigam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1650374241,"creation_date":1650303511,"question_id":71915145,"body_markdown":"Example\r\nString = &quot;abcd,anhdc,bajb,abchb,njacsn,10,000,nijaxiu&quot;\r\n\r\nResult = &quot;abcd, anhdc, bajb, abchb, njacsn, **10,000**, nijaxiu&quot;\r\n\r\nSpace should not be there after **10,** as it is Integer","title":"How to add space after comma if it has letters on each side in a string using RegEx(Java)","body":"<p>Example\nString = &quot;abcd,anhdc,bajb,abchb,njacsn,10,000,nijaxiu&quot;</p>\n<p>Result = &quot;abcd, anhdc, bajb, abchb, njacsn, <strong>10,000</strong>, nijaxiu&quot;</p>\n<p>Space should not be there after <strong>10,</strong> as it is Integer</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":4,"creation_date":1346841948,"post_id":12279667,"comment_id":16468628,"body_markdown":"You could simply sort the array and return `array[2]` (if it is in descending order).","body":"You could simply sort the array and return <code>array[2]</code> (if it is in descending order)."},{"owner":{"account_id":1468530,"reputation":6479,"user_id":1380710,"accept_rate":67,"display_name":"Aske B."},"score":3,"creation_date":1346842015,"post_id":12279667,"comment_id":16468657,"body_markdown":"@assylias You&#39;re right, but it&#39;s a lot less efficient. To be honest I don&#39;t think the OP cares about that though.","body":"@assylias You&#39;re right, but it&#39;s a lot less efficient. To be honest I don&#39;t think the OP cares about that though."},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":3,"creation_date":1346842117,"post_id":12279667,"comment_id":16468698,"body_markdown":"Is it homework? If it is - mention it, it will help us refer the question better, otherwise you are likely to get solutions based on more advanced algorithms (sorting, selection, min-heap)","body":"Is it homework? If it is - mention it, it will help us refer the question better, otherwise you are likely to get solutions based on more advanced algorithms (sorting, selection, min-heap)"},{"owner":{"account_id":313669,"reputation":3393,"user_id":1384204,"accept_rate":70,"display_name":"Andy Clark"},"score":0,"creation_date":1346842164,"post_id":12279667,"comment_id":16468718,"body_markdown":"@assylias what if the number at position 1 and 2 are the same value?","body":"@assylias what if the number at position 1 and 2 are the same value?"},{"owner":{"account_id":1148495,"reputation":12633,"user_id":1130734,"accept_rate":97,"display_name":"Timm"},"score":2,"creation_date":1346842229,"post_id":12279667,"comment_id":16468756,"body_markdown":"@AndyClark then they&#39;d still be the 2nd and 3rd largest numbers!","body":"@AndyClark then they&#39;d still be the 2nd and 3rd largest numbers!"},{"owner":{"account_id":1331302,"reputation":118767,"user_id":1275169,"accept_rate":71,"display_name":"P.P"},"score":0,"creation_date":1346842506,"post_id":12279667,"comment_id":16468894,"body_markdown":"Sorting is typically O(nlogn) whereas you only need to scan through the array once to  find the 3rd largest which is only `O(n)`.","body":"Sorting is typically O(nlogn) whereas you only need to scan through the array once to  find the 3rd largest which is only <code>O(n)</code>."},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1346842696,"post_id":12279667,"comment_id":16468992,"body_markdown":"@KingsIndian: Yes and no. For constant 3 - yes, but for arbitrary k? I also doubt this question is about sorting, it seems like homework designed to teach students how to think with boolean expressions &amp; conditions and basic loops.","body":"@KingsIndian: Yes and no. For constant 3 - yes, but for arbitrary k? I also doubt this question is about sorting, it seems like homework designed to teach students how to think with boolean expressions &amp; conditions and basic loops."},{"owner":{"account_id":1331302,"reputation":118767,"user_id":1275169,"accept_rate":71,"display_name":"P.P"},"score":0,"creation_date":1346842963,"post_id":12279667,"comment_id":16469112,"body_markdown":"@amit I think, in that case, we can choose the algorithm which is `min(nk,nlogn)` for an arbitrary k. i.e. sorting vs. scanning linearly.","body":"@amit I think, in that case, we can choose the algorithm which is <code>min(nk,nlogn)</code> for an arbitrary k. i.e. sorting vs. scanning linearly."},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1346843120,"post_id":12279667,"comment_id":16469193,"body_markdown":"@KingsIndian: FYI, If you are after efficiency, I once addressed this question (for general/larger k) in [this thread](http://stackoverflow.com/q/10751953/572670). It can be done in O(nlogk) using a heap or in O(n) using selection algorithm. But I really think this is not what the question is really about.","body":"@KingsIndian: FYI, If you are after efficiency, I once addressed this question (for general/larger k) in <a href=\"http://stackoverflow.com/q/10751953/572670\">this thread</a>. It can be done in O(nlogk) using a heap or in O(n) using selection algorithm. But I really think this is not what the question is really about."}],"answers":[{"tags":[],"owner":{"account_id":291689,"reputation":1631,"user_id":593995,"accept_rate":88,"display_name":"Infiltrator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346841976,"creation_date":1346841976,"answer_id":12279714,"question_id":12279667,"body_markdown":"Just cycle through the whole array and keep track of the three largest numbers.\r\n\r\nOr you could sort it and then return the third element from the top.","title":"Find third largest no in Java","body":"<p>Just cycle through the whole array and keep track of the three largest numbers.</p>\n\n<p>Or you could sort it and then return the third element from the top.</p>\n"},{"tags":[],"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346842018,"creation_date":1346842018,"answer_id":12279727,"question_id":12279667,"body_markdown":"Use a java list, sort it. Take the third element.\r\n\r\n[java.util.Collections.sort()][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Collections.html#sort%28java.util.List%29","title":"Find third largest no in Java","body":"<p>Use a java list, sort it. Take the third element.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Collections.html#sort%28java.util.List%29\" rel=\"nofollow\">java.util.Collections.sort()</a></p>\n"},{"tags":[],"owner":{"account_id":1783738,"reputation":2058,"user_id":1625955,"accept_rate":100,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1346842691,"creation_date":1346842132,"answer_id":12279764,"question_id":12279667,"body_markdown":"I would try something like this:\r\n\r\n    if (largest &lt; ar[i]) {\r\n        thirdlargest = secondlargest;\r\n        secondlargest = largest;\r\n        largest = arr[i];\r\n    } else if (secondlargest &lt; ar[i]) {\r\n        thirdlargest = secondlargest;\r\n        secondlargest = ar[i];\r\n    } else if (thirdlargest &lt; ar[i]) {\r\n        thirdlargest = ar[i];\r\n    }\r\n\r\nNot tested but I think the second IF isn&#39;t needed anymore.\r\n\r\nCode Explanation:\r\n\r\nWe are verifying that if an entered number is greater than largest then move the third, second and 1st largest values one level up. If an entered value is greater than 2nd largest and less than largest, then move 3 and 2 one level up. If entered values is greated than 3rd largest and less than 2nd largest then move 3rd largest to the entered value.","title":"Find third largest no in Java","body":"<p>I would try something like this:</p>\n\n<pre><code>if (largest &lt; ar[i]) {\n    thirdlargest = secondlargest;\n    secondlargest = largest;\n    largest = arr[i];\n} else if (secondlargest &lt; ar[i]) {\n    thirdlargest = secondlargest;\n    secondlargest = ar[i];\n} else if (thirdlargest &lt; ar[i]) {\n    thirdlargest = ar[i];\n}\n</code></pre>\n\n<p>Not tested but I think the second IF isn't needed anymore.</p>\n\n<p>Code Explanation:</p>\n\n<p>We are verifying that if an entered number is greater than largest then move the third, second and 1st largest values one level up. If an entered value is greater than 2nd largest and less than largest, then move 3 and 2 one level up. If entered values is greated than 3rd largest and less than 2nd largest then move 3rd largest to the entered value.</p>\n"},{"tags":[],"owner":{"account_id":1162335,"reputation":107,"user_id":1141599,"accept_rate":75,"display_name":"Joseph Gardiner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346842284,"creation_date":1346842284,"answer_id":12279806,"question_id":12279667,"body_markdown":"Once you have the array read in, just call Arrays.sort(array) on the array (so in your case Arrays.sort(arr);  ). This will sort it into ascending order, then you can just retrieve the element arr.length-2\r\n\r\nFull description here:\r\nhttp://www.homeandlearn.co.uk/java/sorting_arrays.html\r\n\r\nExample:\r\n\r\n        Scanner input = new Scanner(System.in);\r\n                System.out.println(&quot;Enter array values: &quot;);\r\n                int arr[] = new int[5];\r\n                for (int i = 0; i &lt; arr.length; i++) {\r\n                    arr[i] = input.nextInt();\r\n            }\r\n        Arrays.sort(arr);\r\n    System.out.println(&quot;Second Largest number is: &quot; + arr[4]\r\n                    + &quot;\\nThird largest number is=====&quot; + arr[3]);","title":"Find third largest no in Java","body":"<p>Once you have the array read in, just call Arrays.sort(array) on the array (so in your case Arrays.sort(arr);  ). This will sort it into ascending order, then you can just retrieve the element arr.length-2</p>\n\n<p>Full description here:\n<a href=\"http://www.homeandlearn.co.uk/java/sorting_arrays.html\" rel=\"nofollow\">http://www.homeandlearn.co.uk/java/sorting_arrays.html</a></p>\n\n<p>Example:</p>\n\n<pre><code>    Scanner input = new Scanner(System.in);\n            System.out.println(\"Enter array values: \");\n            int arr[] = new int[5];\n            for (int i = 0; i &lt; arr.length; i++) {\n                arr[i] = input.nextInt();\n        }\n    Arrays.sort(arr);\nSystem.out.println(\"Second Largest number is: \" + arr[4]\n                + \"\\nThird largest number is=====\" + arr[3]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108419,"reputation":8029,"user_id":287783,"accept_rate":62,"display_name":"perilbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346842372,"creation_date":1346842372,"answer_id":12279849,"question_id":12279667,"body_markdown":"    for (int i = 0; i &lt; arr.length; i++)\r\n     {\r\n    \t\tarr[i] = input.nextInt();\r\n    \t\tif (largest &lt; arr[i]) {\r\n    \t\t\tsecondlargest = largest;\r\n    \t\t\tlargest = arr[i];\r\n    \t\t\tcontinue;\r\n    \t\t}\r\n    \t\tif (secondlargest &lt;= arr[i] &amp;&amp; largest &gt; arr[i])\r\n    \t\t{\r\n    \t\t\tthirdlargest = secondlargest;\r\n    \t\t\tsecondlargest = arr[i];\r\n    \t\t\tcontinue;\r\n    \t\t}\r\n    \t\tif (thirdlargest &lt;= arr[i] &amp;&amp; secondlargest &gt; arr[i])\r\n    \t\t{\r\n    \t\t\t\tthirdlargest = arr[i];\r\n    \t\t}\r\n    \r\n     }","title":"Find third largest no in Java","body":"<pre><code>for (int i = 0; i &lt; arr.length; i++)\n {\n        arr[i] = input.nextInt();\n        if (largest &lt; arr[i]) {\n            secondlargest = largest;\n            largest = arr[i];\n            continue;\n        }\n        if (secondlargest &lt;= arr[i] &amp;&amp; largest &gt; arr[i])\n        {\n            thirdlargest = secondlargest;\n            secondlargest = arr[i];\n            continue;\n        }\n        if (thirdlargest &lt;= arr[i] &amp;&amp; secondlargest &gt; arr[i])\n        {\n                thirdlargest = arr[i];\n        }\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1155134,"reputation":13311,"user_id":1135954,"accept_rate":68,"display_name":"mtk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346842469,"creation_date":1346842469,"answer_id":12279872,"question_id":12279667,"body_markdown":"Use `Integer` array and then sort it using `Collections` and just pick the element you need:\r\n\r\n### Code:\r\n\r\n\r\n    System.out.println(&quot;Enter array values: &quot;);\r\n    Integer arr[] = new Integer[5];\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n                arr[i] = input.nextInt();\r\n    }\r\n    List&lt;Integer&gt; list = Arrays.asList(arr);\r\n    Collections.sort(list);\r\n    System.out.println(list);\r\n\r\nThe output is:\r\n\r\n    [0, 1, 2, 3, 6]\r\n\r\nSo, now select the 3rd larget number as `list.get(list.size()-3))`.\r\n\r\nYou can also reverse sort the Collection. Check it&#39;s [documentation][1].\r\n\r\n[1]:http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html","title":"Find third largest no in Java","body":"<p>Use <code>Integer</code> array and then sort it using <code>Collections</code> and just pick the element you need:</p>\n\n<h3>Code:</h3>\n\n<pre><code>System.out.println(\"Enter array values: \");\nInteger arr[] = new Integer[5];\nfor (int i = 0; i &lt; arr.length; i++) {\n            arr[i] = input.nextInt();\n}\nList&lt;Integer&gt; list = Arrays.asList(arr);\nCollections.sort(list);\nSystem.out.println(list);\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>[0, 1, 2, 3, 6]\n</code></pre>\n\n<p>So, now select the 3rd larget number as <code>list.get(list.size()-3))</code>.</p>\n\n<p>You can also reverse sort the Collection. Check it's <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html\" rel=\"nofollow\">documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":1162335,"reputation":107,"user_id":1141599,"accept_rate":75,"display_name":"Joseph Gardiner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346842796,"creation_date":1346842796,"answer_id":12279960,"question_id":12279667,"body_markdown":"If you want that code to work, I think the problem is here:\r\n\r\n     if (secondlargest &lt; arr[i] &amp;&amp; largest != arr[i]) {\r\n                    thirdlargest = secondlargest;\r\n                    secondlargest = arr[i];\r\n                    if (thirdlargest &lt; arr[i] &amp;&amp; secondlargest != arr[i])\r\n                        thirdlargest = arr[i];\r\n                }\r\n\r\nThe issue is you are setting thirdLargest to be secondLargest, which has already been identified as less than arr[i]. You are then testing if thirdLargest is less than arr[i] (which it is guaranteed to be as it it has been set to second largest within the outer condition) and then setting it to arr[i]. Try removing the \r\n\r\n    if (thirdlargest &lt; arr[i] &amp;&amp; secondlargest != arr[i])\r\n                            thirdlargest = arr[i];\r\n\r\nand if that doesn&#39;t work try adding a third separate condition to cover cases where arr[i] is less than secondGreatest but greater then thirdGreatest. (see Jens answer above), something like :\r\n","title":"Find third largest no in Java","body":"<p>If you want that code to work, I think the problem is here:</p>\n\n<pre><code> if (secondlargest &lt; arr[i] &amp;&amp; largest != arr[i]) {\n                thirdlargest = secondlargest;\n                secondlargest = arr[i];\n                if (thirdlargest &lt; arr[i] &amp;&amp; secondlargest != arr[i])\n                    thirdlargest = arr[i];\n            }\n</code></pre>\n\n<p>The issue is you are setting thirdLargest to be secondLargest, which has already been identified as less than arr[i]. You are then testing if thirdLargest is less than arr[i] (which it is guaranteed to be as it it has been set to second largest within the outer condition) and then setting it to arr[i]. Try removing the </p>\n\n<pre><code>if (thirdlargest &lt; arr[i] &amp;&amp; secondlargest != arr[i])\n                        thirdlargest = arr[i];\n</code></pre>\n\n<p>and if that doesn't work try adding a third separate condition to cover cases where arr[i] is less than secondGreatest but greater then thirdGreatest. (see Jens answer above), something like :</p>\n"},{"tags":[],"owner":{"account_id":1780708,"reputation":1054,"user_id":1623538,"accept_rate":50,"display_name":"Nos"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1346843595,"creation_date":1346843595,"answer_id":12280196,"question_id":12279667,"body_markdown":"Collections API. Here is an example:\r\n\r\n        List list = Arrays.asList(new Integer[] {1, 2, 29, 4, 28, 6, 27, 8});\r\n        Collections.sort(list);\r\n        System.out.print(list.get(list.size()-3));","title":"Find third largest no in Java","body":"<p>Collections API. Here is an example:</p>\n\n<pre><code>    List list = Arrays.asList(new Integer[] {1, 2, 29, 4, 28, 6, 27, 8});\n    Collections.sort(list);\n    System.out.print(list.get(list.size()-3));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1690092,"reputation":181,"user_id":1552628,"display_name":"Sujith Mohan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403654165,"creation_date":1403654165,"answer_id":24398164,"question_id":12279667,"body_markdown":"\r\n\t\t\r\n\t\t\tif(firstLargest&lt;array[num])\r\n\t\t\t{\r\n\t\t\t\tthirdLargest=secondLargest;\r\n\t\t\t\tsecondLargest=firstLargest;\r\n\t\t\t\tfirstLargest = array[num];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if((secondLargest&lt;array[num])&amp;&amp;(array[num]!=firstLargest))\r\n\t\t\t{\r\n\t\t\t\tthirdLargest=secondLargest;\r\n\t\t\t\tsecondLargest = array[num];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse if((thirdLargest&lt;array[num])&amp;&amp;(array[num]!=secondLargest))\r\n\t\t\t{\r\n\t\t\t\tthirdLargest = array[num];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t","title":"Find third largest no in Java","body":"<pre><code>        if(firstLargest&lt;array[num])\n        {\n            thirdLargest=secondLargest;\n            secondLargest=firstLargest;\n            firstLargest = array[num];\n        }\n\n        else if((secondLargest&lt;array[num])&amp;&amp;(array[num]!=firstLargest))\n        {\n            thirdLargest=secondLargest;\n            secondLargest = array[num];\n        }\n\n        else if((thirdLargest&lt;array[num])&amp;&amp;(array[num]!=secondLargest))\n        {\n            thirdLargest = array[num];\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8285501,"reputation":1,"user_id":6228714,"display_name":"unknown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461138269,"creation_date":1461136072,"answer_id":36736290,"question_id":12279667,"body_markdown":"Try this code, \r\n   \r\n    public static void main(String[] args) {\r\n\t\t\r\n        int arr[] = {67, 56, 87, 42};\r\n\t      \r\n        for (int i = 0; i &lt;arr.length - 1; i++) {\r\n            if (arr[i] &lt; arr[i + 1]) {\r\n                int swap = arr[i];\r\n                arr[i] = arr[i + 1];\r\n                arr[i + 1] = swap;       \r\n            }\r\n        }\r\n\t        \r\n        System.out.println(&quot;third highest element is: &quot; + arr[2]);\r\n    }\t","title":"Find third largest no in Java","body":"<p>Try this code, </p>\n\n<pre><code>public static void main(String[] args) {\n\n    int arr[] = {67, 56, 87, 42};\n\n    for (int i = 0; i &lt;arr.length - 1; i++) {\n        if (arr[i] &lt; arr[i + 1]) {\n            int swap = arr[i];\n            arr[i] = arr[i + 1];\n            arr[i + 1] = swap;       \n        }\n    }\n\n    System.out.println(\"third highest element is: \" + arr[2]);\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":11347855,"reputation":1,"user_id":8319819,"display_name":"Narasingha Pattnayak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501259021,"creation_date":1500297441,"answer_id":45145358,"question_id":12279667,"body_markdown":"    package algo;\r\n    \r\n    public class LargestNumbers {\r\n    \r\n    \tpublic static void main(String args[]){\r\n    \t\tint arr[] = new int[]{5,2,3,4,6};\r\n    \t\t\r\n    \t\tint largest=Integer.MIN_VALUE;;\r\n    \t\tint secondLargest=Integer.MIN_VALUE;;\r\n    \t\tint thirdLargest=Integer.MIN_VALUE;;\r\n    \t\t\r\n    \t\t\r\n    \t\tfor(int i=0;i&lt;arr.length;i++){\r\n    \t\t\t\r\n    \t\t\t  if(largest&lt;arr[i])\r\n    \t\t        {\r\n    \t\t            thirdLargest=secondLargest;\r\n    \t\t            secondLargest=largest;\r\n    \t\t            largest = arr[i];\r\n    \t\t        }\r\n    \r\n    \t\t       else if((secondLargest&lt;arr[i])&amp;&amp;(arr[i]!=largest))\r\n    \t\t        {\r\n    \t\t            thirdLargest=secondLargest;\r\n    \t\t            secondLargest = arr[i];\r\n    \t\t        }\r\n    \r\n    \t\t       else if((thirdLargest&lt;arr[i])&amp;&amp;(arr[i]!=secondLargest))\r\n    \t\t        {\r\n    \t\t            thirdLargest = arr[i];\r\n    \t\t        }\r\n    \t\t\t\r\n    \t\t}//for\r\n    \t\t\r\n    \r\n    \t\t System.out.println(&quot;Numbers are: &quot; + largest + &quot; &quot;  + secondLargest\r\n    \t                + &quot;\\nThird largest number is=====&quot; + thirdLargest);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Find third largest no in Java","body":"<pre><code>package algo;\n\npublic class LargestNumbers {\n\n    public static void main(String args[]){\n        int arr[] = new int[]{5,2,3,4,6};\n\n        int largest=Integer.MIN_VALUE;;\n        int secondLargest=Integer.MIN_VALUE;;\n        int thirdLargest=Integer.MIN_VALUE;;\n\n\n        for(int i=0;i&lt;arr.length;i++){\n\n              if(largest&lt;arr[i])\n                {\n                    thirdLargest=secondLargest;\n                    secondLargest=largest;\n                    largest = arr[i];\n                }\n\n               else if((secondLargest&lt;arr[i])&amp;&amp;(arr[i]!=largest))\n                {\n                    thirdLargest=secondLargest;\n                    secondLargest = arr[i];\n                }\n\n               else if((thirdLargest&lt;arr[i])&amp;&amp;(arr[i]!=secondLargest))\n                {\n                    thirdLargest = arr[i];\n                }\n\n        }//for\n\n\n         System.out.println(\"Numbers are: \" + largest + \" \"  + secondLargest\n                    + \"\\nThird largest number is=====\" + thirdLargest);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14421648,"reputation":1,"user_id":10417511,"display_name":"Shyam Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633162986,"creation_date":1633162986,"answer_id":69415223,"question_id":12279667,"body_markdown":"    package arrays;\r\n    \r\n    import java.util.Arrays;\r\n    public class ArraythirdHighestvalues {\r\n    \t//method 1 \r\n    \tpublic static  int highest(int []arr,int length)\r\n    \t{\r\n    \t\tint temp;\r\n    \t\tfor(int i=0;i&lt;length;i++)\r\n    \t\t{\r\n    \t\t\tfor(int j=i+1;j&lt;length;j++)\r\n    \t\t\t{\r\n    \t\t\t\tif(arr[i]&gt;arr[j])\r\n    \t\t\t\t{\r\n    \t\t\t\t\ttemp=arr[i];\r\n    \t\t\t\t\tarr[i]=arr[j];\r\n    \t\t\t\t\tarr[j]=temp;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn arr[length-2];\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint arr[]= {1,3,5,6,7,2,};\r\n    \t\tSystem.out.println(highest(arr,arr.length));\r\n    \t\tSystem.out.println(&quot;method 2 to find array second higest element value --&quot;);\r\n    \t\tArrays.parallelSort(arr);\r\n    \t\tSystem.out.println(arr[arr.length-3]);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n","title":"Find third largest no in Java","body":"<pre><code>package arrays;\n\nimport java.util.Arrays;\npublic class ArraythirdHighestvalues {\n    //method 1 \n    public static  int highest(int []arr,int length)\n    {\n        int temp;\n        for(int i=0;i&lt;length;i++)\n        {\n            for(int j=i+1;j&lt;length;j++)\n            {\n                if(arr[i]&gt;arr[j])\n                {\n                    temp=arr[i];\n                    arr[i]=arr[j];\n                    arr[j]=temp;\n                }\n            }\n        }\n        return arr[length-2];\n    }\n    public static void main(String[] args) {\n        int arr[]= {1,3,5,6,7,2,};\n        System.out.println(highest(arr,arr.length));\n        System.out.println(&quot;method 2 to find array second higest element value --&quot;);\n        Arrays.parallelSort(arr);\n        System.out.println(arr[arr.length-3]);\n        \n        \n        \n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14421648,"reputation":1,"user_id":10417511,"display_name":"Shyam Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633173284,"creation_date":1633173284,"answer_id":69416382,"question_id":12279667,"body_markdown":"package algo;\r\n\r\npublic class LargestNumbers {\r\n\r\n    public static void main(String args[]){\r\n        int arr[] = new int[]{5,2,3,4,6};\r\n\r\n        int largest=Integer.MIN_VALUE;;\r\n        int secondLargest=Integer.MIN_VALUE;;\r\n        int thirdLargest=Integer.MIN_VALUE;;\r\n\r\n\r\n        for(int i=0;i&lt;arr.length;i++){\r\n\r\n              if(largest&lt;arr[i])\r\n                {\r\n                    thirdLargest=secondLargest;\r\n                    secondLargest=largest;\r\n                    largest = arr[i];\r\n                }\r\n\r\n               else if((secondLargest&lt;arr[i])&amp;&amp;(arr[i]!=largest))\r\n                {\r\n                    thirdLargest=secondLargest;\r\n                    secondLargest = arr[i];\r\n                }\r\n\r\n               else if((thirdLargest&lt;arr[i])&amp;&amp;(arr[i]!=secondLargest))\r\n                {\r\n                    thirdLargest = arr[i];\r\n                }\r\n\r\n        }//for\r\n\r\n\r\n         System.out.println(&quot;Numbers a`enter code here`re: &quot; + largest + &quot; &quot;  + secondLargest\r\n                    + &quot;\\nThird largest number is=====&quot; + thirdLargest);\r\n    }\r\n\r\n}","title":"Find third largest no in Java","body":"<p>package algo;</p>\n<p>public class LargestNumbers {</p>\n<pre><code>public static void main(String args[]){\n    int arr[] = new int[]{5,2,3,4,6};\n\n    int largest=Integer.MIN_VALUE;;\n    int secondLargest=Integer.MIN_VALUE;;\n    int thirdLargest=Integer.MIN_VALUE;;\n\n\n    for(int i=0;i&lt;arr.length;i++){\n\n          if(largest&lt;arr[i])\n            {\n                thirdLargest=secondLargest;\n                secondLargest=largest;\n                largest = arr[i];\n            }\n\n           else if((secondLargest&lt;arr[i])&amp;&amp;(arr[i]!=largest))\n            {\n                thirdLargest=secondLargest;\n                secondLargest = arr[i];\n            }\n\n           else if((thirdLargest&lt;arr[i])&amp;&amp;(arr[i]!=secondLargest))\n            {\n                thirdLargest = arr[i];\n            }\n\n    }//for\n\n\n     System.out.println(&quot;Numbers a`enter code here`re: &quot; + largest + &quot; &quot;  + secondLargest\n                + &quot;\\nThird largest number is=====&quot; + thirdLargest);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":9528766,"reputation":59,"user_id":7081190,"display_name":"Mohammed Imran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650373957,"creation_date":1650370489,"answer_id":71924769,"question_id":12279667,"body_markdown":"    Stream.of(23, 11, 96, 33, 89, 63, 17, 44 ,67, 55, 7, 76,42).sorted(Comparator.reverseOrder()).distinct().limit(3).skip(2).findFirst().get();\r\n\r\nInitialize ```Arrays.asList(new int[]{23, 11, 9}).stream()```","title":"Find third largest no in Java","body":"<pre><code>Stream.of(23, 11, 96, 33, 89, 63, 17, 44 ,67, 55, 7, 76,42).sorted(Comparator.reverseOrder()).distinct().limit(3).skip(2).findFirst().get();\n</code></pre>\n<p>Initialize <code>Arrays.asList(new int[]{23, 11, 9}).stream()</code></p>\n"}],"owner":{"account_id":1600922,"reputation":2291,"user_id":1481962,"accept_rate":77,"display_name":"Dilip"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21693,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":12279764,"answer_count":14,"score":5,"last_activity_date":1650373957,"creation_date":1346841853,"question_id":12279667,"body_markdown":"I&#39;m little confused with this simple program.I have to find third largest no in array.I have done some code but getting only second largest no problem in third largest no so please suggest me what is wrong with this solution:\r\n\r\n    class ArrayExample {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint secondlargest = Integer.MIN_VALUE;\r\n    \t\tint thirdlargest = Integer.MIN_VALUE;\r\n    \t\tint largest = Integer.MIN_VALUE;\r\n    \t\tScanner input = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter array values: &quot;);\r\n    \t\tint arr[] = new int[5];\r\n    \t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n    \t\t\tarr[i] = input.nextInt();\r\n    \t\t\tif (largest &lt; arr[i]) {\r\n    \t\t\t\tsecondlargest = largest;\r\n    \t\t\t\tlargest = arr[i];\r\n    \t\t\t}\r\n    \t\t\tif (secondlargest &lt; arr[i] &amp;&amp; largest != arr[i]) {\r\n    \t\t\t\tthirdlargest = secondlargest;\r\n    \t\t\t\tsecondlargest = arr[i];\r\n    \t\t\t\tif (thirdlargest &lt; arr[i] &amp;&amp; secondlargest != arr[i])\r\n    \t\t\t\t\tthirdlargest = arr[i];\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Second Largest number is: &quot; + secondlargest\r\n    \t\t\t\t+ &quot;\\nThird largest number is=====&quot; + thirdlargest);\r\n    \t}\r\n    }","title":"Find third largest no in Java","body":"<p>I'm little confused with this simple program.I have to find third largest no in array.I have done some code but getting only second largest no problem in third largest no so please suggest me what is wrong with this solution:</p>\n\n<pre><code>class ArrayExample {\n    public static void main(String[] args) {\n        int secondlargest = Integer.MIN_VALUE;\n        int thirdlargest = Integer.MIN_VALUE;\n        int largest = Integer.MIN_VALUE;\n        Scanner input = new Scanner(System.in);\n        System.out.println(\"Enter array values: \");\n        int arr[] = new int[5];\n        for (int i = 0; i &lt; arr.length; i++) {\n            arr[i] = input.nextInt();\n            if (largest &lt; arr[i]) {\n                secondlargest = largest;\n                largest = arr[i];\n            }\n            if (secondlargest &lt; arr[i] &amp;&amp; largest != arr[i]) {\n                thirdlargest = secondlargest;\n                secondlargest = arr[i];\n                if (thirdlargest &lt; arr[i] &amp;&amp; secondlargest != arr[i])\n                    thirdlargest = arr[i];\n            }\n\n        }\n        System.out.println(\"Second Largest number is: \" + secondlargest\n                + \"\\nThird largest number is=====\" + thirdlargest);\n    }\n}\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":20517487,"reputation":151,"user_id":15057809,"display_name":"squid233"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650373916,"creation_date":1650373916,"answer_id":71925549,"question_id":70393554,"body_markdown":"Vanilla deprecated the methods in `Block` that should be called with `BlockState`. It&#39;s ok to override them.","title":"getOutlineShape is deprecated, is there another method to change the hitbox?","body":"<p>Vanilla deprecated the methods in <code>Block</code> that should be called with <code>BlockState</code>. It's ok to override them.</p>\n"}],"owner":{"account_id":21722493,"reputation":1,"user_id":16032396,"display_name":"SamL2020"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650373916,"creation_date":1639745868,"question_id":70393554,"body_markdown":"I&#39;m making a block that does not occupy a full block in Fabric 1.18.\r\n\r\nI&#39;ve tried the following code as suggested on the Fabric wiki.\r\n```java\r\nprotected static final VoxelShape SHAPE = Block.createCuboidShape(2.d, .0d, 2.d, 14.d, 4.d, 14.d);\r\n\r\n@Override\r\npublic VoxelShape getOutlineShape(BlockState state, BlockView view, BlockPos pos, ShapeContext context) {\r\n    return SHAPE;\r\n}\r\n```\r\n\r\nIt does work, just that a deprecated warning shows in the IDE and the console.\r\n\r\nIs there something else I should use for this?","title":"getOutlineShape is deprecated, is there another method to change the hitbox?","body":"<p>I'm making a block that does not occupy a full block in Fabric 1.18.</p>\n<p>I've tried the following code as suggested on the Fabric wiki.</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected static final VoxelShape SHAPE = Block.createCuboidShape(2.d, .0d, 2.d, 14.d, 4.d, 14.d);\n\n@Override\npublic VoxelShape getOutlineShape(BlockState state, BlockView view, BlockPos pos, ShapeContext context) {\n    return SHAPE;\n}\n</code></pre>\n<p>It does work, just that a deprecated warning shows in the IDE and the console.</p>\n<p>Is there something else I should use for this?</p>\n"},{"tags":["java","inheritance","stack-overflow"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1416370535,"post_id":27008832,"comment_id":42545696,"body_markdown":"The implementation of `setName()` looks a little problematic.","body":"The implementation of <code>setName()</code> looks a little problematic."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1416371152,"post_id":27008832,"comment_id":42545826,"body_markdown":"Aside from the answers, there are some conceptual problem with your inheritance tree. By making `Pet` a superclass of `Mammal` for instance, you are saying that a mammal is a pet. There are tons of mammals that can&#39;t be domesticated. Also, some `Fish` can be pets. Therefore, it is probably best to make `Pet` an interface instead of a class. Remember, the scope narrows when you get down the inheritance tree. That means that a subclass is a more specific type than its superclass.  This rule is not observed in your example. I know it has nothing to do with your problem, but a needed observation.","body":"Aside from the answers, there are some conceptual problem with your inheritance tree. By making <code>Pet</code> a superclass of <code>Mammal</code> for instance, you are saying that a mammal is a pet. There are tons of mammals that can&#39;t be domesticated. Also, some <code>Fish</code> can be pets. Therefore, it is probably best to make <code>Pet</code> an interface instead of a class. Remember, the scope narrows when you get down the inheritance tree. That means that a subclass is a more specific type than its superclass.  This rule is not observed in your example. I know it has nothing to do with your problem, but a needed observation."}],"answers":[{"tags":[],"owner":{"display_name":"user2575725"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416371007,"creation_date":1416370552,"answer_id":27008854,"question_id":27008832,"body_markdown":"Your problem is here,in class Mammal \r\n\r\n    public void setName(String inName){\r\n        setName(inName);//&lt;-- recursive class\r\n    }\r\n\r\nTry instead, if you really want to override it, else don&#39;t do it\r\n\r\n    @Override\r\n    public void setName(String inName){\r\n        super.setName(inName);\r\n    }","title":"Stack overflow error in java concerning inheritance","body":"<p>Your problem is here,in class Mammal </p>\n\n<pre><code>public void setName(String inName){\n    setName(inName);//&lt;-- recursive class\n}\n</code></pre>\n\n<p>Try instead, if you really want to override it, else don't do it</p>\n\n<pre><code>@Override\npublic void setName(String inName){\n    super.setName(inName);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1416370643,"creation_date":1416370643,"answer_id":27008860,"question_id":27008832,"body_markdown":"To call the super class method, you should write:\r\n\r\n    public void setName(String inName){\r\n        super.setName(inName);\r\n    }\r\n\r\nThat said, you don&#39;t really need to implement `setName` in the sub-class if it only calls the super class implementation.","title":"Stack overflow error in java concerning inheritance","body":"<p>To call the super class method, you should write:</p>\n\n<pre><code>public void setName(String inName){\n    super.setName(inName);\n}\n</code></pre>\n\n<p>That said, you don't really need to implement <code>setName</code> in the sub-class if it only calls the super class implementation.</p>\n"},{"tags":[],"owner":{"account_id":3547937,"reputation":571,"user_id":2963406,"accept_rate":85,"display_name":"Luminusss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416370768,"creation_date":1416370768,"answer_id":27008880,"question_id":27008832,"body_markdown":"When you call \r\n\r\n    public void setName(String inName){\r\n       setName(inName);\r\n    }\r\nyou are recursively calling the method and there is no break to stop it, so the stack keeps incrementing until it overflows. You might want to try using the keyword `super` before to call the parent class&#39; method:\r\n\r\n`super.setName(inName);`\r\n\r\nBut since this is a child of a parent with this predefined method, you really don&#39;t even need this unless you want this method to do something different. That is the point of inheritance.","title":"Stack overflow error in java concerning inheritance","body":"<p>When you call </p>\n\n<pre><code>public void setName(String inName){\n   setName(inName);\n}\n</code></pre>\n\n<p>you are recursively calling the method and there is no break to stop it, so the stack keeps incrementing until it overflows. You might want to try using the keyword <code>super</code> before to call the parent class' method:</p>\n\n<p><code>super.setName(inName);</code></p>\n\n<p>But since this is a child of a parent with this predefined method, you really don't even need this unless you want this method to do something different. That is the point of inheritance.</p>\n"}],"owner":{"account_id":4009895,"reputation":51,"user_id":3303616,"accept_rate":43,"display_name":"KevinRandall"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1650373870,"creation_date":1416370415,"question_id":27008832,"body_markdown":"I am working on a project for my intro to java class and am working on inheritance.  The problem is with the classes `Mammal` and `Pet`.  When I run the driver class I get a stack overflow error on line 12 where it calls `setName(inName)`  of `Mammal`.  Can someone point me in the right direction?\r\n```\r\n\r\npackage inlab9;\r\n\r\n\r\n/**\r\n * Driver for Inlab9.\r\n * \r\n * @author yaw \r\n * @version 14 Nov 2014\r\n */\r\npublic class Driver\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Pet p = new Pet(&quot;Terrance&quot;);\r\n        p.printInfo();\r\n        System.out.println();\r\n    \r\n        Mammal m = new Mammal();\r\n        m.printInfo();\r\n        m.setName(&quot;Roxie&quot;);\r\n        m.printInfo();\r\n        System.out.println();\r\n    \r\n        Fish f = new Fish(&quot;red&quot;);\r\n        f.printInfo();\r\n        f.setName(&quot;Shark&quot;);\r\n        f.printInfo();\r\n        System.out.println();\r\n    \r\n        Dog d = new Dog(&quot;Watson&quot;, &quot;Basset&quot;);\r\n        d.printInfo();\r\n    }\r\n}\r\n```\r\n```\r\npackage inlab9;\r\n\r\npublic class Mammal extends Pet {\r\n    protected static String name = &quot;Fluffy&quot;;\r\n\r\n    public Mammal(){\r\n\t    super(name);\r\n    }\r\n\r\n    public void setName(String inName){\r\n\t    setName(inName);\r\n    }\r\n    public void printInfo(){\r\n\t    System.out.println(&quot;The pet&#39;s name is &quot; +name);\r\n    }\r\n}\r\n```\r\n```\r\n\r\npackage inlab9;\r\n\r\npublic class Pet {\r\n\tprotected String name;\r\n\r\n    public Pet(String name){\r\n\t    this.name = name;\r\n    }\r\n\r\n    public void printInfo(){\r\n    \tSystem.out.println(&quot;The pets name is &quot; + name);\r\n    }\r\n    public void setName(String name){\r\n\t    this.name = name;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Stack overflow error in java concerning inheritance","body":"<p>I am working on a project for my intro to java class and am working on inheritance.  The problem is with the classes <code>Mammal</code> and <code>Pet</code>.  When I run the driver class I get a stack overflow error on line 12 where it calls <code>setName(inName)</code>  of <code>Mammal</code>.  Can someone point me in the right direction?</p>\n<pre><code>\npackage inlab9;\n\n\n/**\n * Driver for Inlab9.\n * \n * @author yaw \n * @version 14 Nov 2014\n */\npublic class Driver\n{\n    public static void main(String[] args)\n    {\n        Pet p = new Pet(&quot;Terrance&quot;);\n        p.printInfo();\n        System.out.println();\n    \n        Mammal m = new Mammal();\n        m.printInfo();\n        m.setName(&quot;Roxie&quot;);\n        m.printInfo();\n        System.out.println();\n    \n        Fish f = new Fish(&quot;red&quot;);\n        f.printInfo();\n        f.setName(&quot;Shark&quot;);\n        f.printInfo();\n        System.out.println();\n    \n        Dog d = new Dog(&quot;Watson&quot;, &quot;Basset&quot;);\n        d.printInfo();\n    }\n}\n</code></pre>\n<pre><code>package inlab9;\n\npublic class Mammal extends Pet {\n    protected static String name = &quot;Fluffy&quot;;\n\n    public Mammal(){\n        super(name);\n    }\n\n    public void setName(String inName){\n        setName(inName);\n    }\n    public void printInfo(){\n        System.out.println(&quot;The pet's name is &quot; +name);\n    }\n}\n</code></pre>\n<pre><code>\npackage inlab9;\n\npublic class Pet {\n    protected String name;\n\n    public Pet(String name){\n        this.name = name;\n    }\n\n    public void printInfo(){\n        System.out.println(&quot;The pets name is &quot; + name);\n    }\n    public void setName(String name){\n        this.name = name;\n    }\n}\n</code></pre>\n"},{"tags":["java","discord","bots"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650373297,"creation_date":1650373297,"answer_id":71925413,"question_id":71924743,"body_markdown":"You can just check the id of the author directly:\r\n\r\n```java\r\nif (event.getAuthor().getId().equals(&quot;id&quot;)) {\r\n  ...\r\n}\r\n```","title":"Java JDA Bot How to check if message is written by specific User","body":"<p>You can just check the id of the author directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (event.getAuthor().getId().equals(&quot;id&quot;)) {\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":25003283,"reputation":1,"user_id":18863494,"display_name":"Krokotitus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650373297,"creation_date":1650370352,"question_id":71924743,"body_markdown":"I want to make a command which some users are allowed to use, but somehow my checks do not work\r\n\r\n```\r\n Member member = event.getGuild().retrieveMemberById(&quot;id&quot;).complete();\r\n\r\n        if(event.getAuthor().isBot()) return;\r\n        if(event.getMember() == member) { ... }\r\n```\r\nI also tried \r\n````\r\nMember member = event.getMemerById(&quot;id&quot;); \r\n````\r\nbut non of this worked \r\ncan anyone help me?","title":"Java JDA Bot How to check if message is written by specific User","body":"<p>I want to make a command which some users are allowed to use, but somehow my checks do not work</p>\n<pre><code> Member member = event.getGuild().retrieveMemberById(&quot;id&quot;).complete();\n\n        if(event.getAuthor().isBot()) return;\n        if(event.getMember() == member) { ... }\n</code></pre>\n<p>I also tried</p>\n<pre><code>Member member = event.getMemerById(&quot;id&quot;); \n</code></pre>\n<p>but non of this worked\ncan anyone help me?</p>\n"},{"tags":["java","algorithm","mergesort"],"comments":[{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1650371298,"post_id":71924688,"comment_id":127094555,"body_markdown":"Your merge sort will not work as it is currently syntactically incorrect. `intArr` is not defined. You should pass an array to `sort()` and `merge()` so it works for any array. I am assuming you have this method in some class which has a static attribute `intArr` here (in that case it would work, but you really should be using local variables here.","body":"Your merge sort will not work as it is currently syntactically incorrect. <code>intArr</code> is not defined. You should pass an array to <code>sort()</code> and <code>merge()</code> so it works for any array. I am assuming you have this method in some class which has a static attribute <code>intArr</code> here (in that case it would work, but you really should be using local variables here."},{"owner":{"account_id":18891948,"reputation":3,"user_id":13782044,"display_name":"soulcraft123"},"score":0,"creation_date":1650371738,"post_id":71924688,"comment_id":127094745,"body_markdown":"The array is indeed static but that&#39;s just for testing.","body":"The array is indeed static but that&#39;s just for testing."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1650372275,"post_id":71924688,"comment_id":127094972,"body_markdown":"What prevents you from running the code with small example sets to see what happens?","body":"What prevents you from running the code with small example sets to see what happens?"},{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":1,"creation_date":1650434047,"post_id":71924688,"comment_id":127111517,"body_markdown":"To simplify @Mushroomator&#39;s answer, recursive merge sort just pushes indexes onto the stack via recursive calls until an instance of two pairs of indexes where each pair of indexes that represent a single element occurs. Only then does merging take place, merging two single element runs to create a sorted run of two elements. Then the call chain is followed up and down the stack, to create sorted runs of size 2, 4, 8, 16, ... .","body":"To simplify @Mushroomator&#39;s answer, recursive merge sort just pushes indexes onto the stack via recursive calls until an instance of two pairs of indexes where each pair of indexes that represent a single element occurs. Only then does merging take place, merging two single element runs to create a sorted run of two elements. Then the call chain is followed up and down the stack, to create sorted runs of size 2, 4, 8, 16, ... ."},{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":0,"creation_date":1650434125,"post_id":71924688,"comment_id":127111535,"body_markdown":"[Bottom up merge sort](https://en.wikipedia.org/wiki/Merge_sort#Bottom-up_implementation), skips all the recursion and starts off treating an array of n elements as n runs of size 1, and then proceeds to merge even and odd runs, creating runs of size 2, 4, 8, 16, ... . Most library implementations are some hybrid of insertion sort and bottom up merge sort. Recursive merge sort is mostly used for academic purposes, not actual implementations.","body":"<a href=\"https://en.wikipedia.org/wiki/Merge_sort#Bottom-up_implementation\" rel=\"nofollow noreferrer\">Bottom up merge sort</a>, skips all the recursion and starts off treating an array of n elements as n runs of size 1, and then proceeds to merge even and odd runs, creating runs of size 2, 4, 8, 16, ... . Most library implementations are some hybrid of insertion sort and bottom up merge sort. Recursive merge sort is mostly used for academic purposes, not actual implementations."}],"answers":[{"tags":[],"owner":{"display_name":"user1196549"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650371709,"creation_date":1650371454,"answer_id":71925002,"question_id":71924688,"body_markdown":"Take for granted that when `sort(i, j)` returns, the array is sorted in `[i..j]`.\r\n\r\nNow `sort(l, q)` returns with `array[l..q]` sorted and `sort(q+1, r)` returns with `array[q+1, r]` sorted. Then `merge(l, q, r)` interleaves the two sorted subarrays in a single one so that `array[l, r]` becomes sorted (merging two sorted arrays is an easy operation).\r\n\r\nHence, mergesort sorts bigger and bigger arrays.\r\n\r\nNotice that when `l==r`, the function returns immediately, because an array of a single element is perforce sorted.","title":"MergeSort recursion explained","body":"<p>Take for granted that when <code>sort(i, j)</code> returns, the array is sorted in <code>[i..j]</code>.</p>\n<p>Now <code>sort(l, q)</code> returns with <code>array[l..q]</code> sorted and <code>sort(q+1, r)</code> returns with <code>array[q+1, r]</code> sorted. Then <code>merge(l, q, r)</code> interleaves the two sorted subarrays in a single one so that <code>array[l, r]</code> becomes sorted (merging two sorted arrays is an easy operation).</p>\n<p>Hence, mergesort sorts bigger and bigger arrays.</p>\n<p>Notice that when <code>l==r</code>, the function returns immediately, because an array of a single element is perforce sorted.</p>\n"},{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650373157,"creation_date":1650371985,"answer_id":71925119,"question_id":71924688,"body_markdown":"When you call `sort(0, 4)` for `intArr = {16, 12, 9, 3, 19}` you will have another call to `sort(0, 2)`, then `sort(0, 1)` and finally `sort(0, 0)`. When you reach that `l &lt; r` will no longer hold true and you will return the unchanged array as an array with one element `16` is already sorted. So we are back to the call to `sort(0,1)` so the next thing would be the call to `sort(1,1)` where `l &lt; r` will no longer hold true and you will return the unchanged array as `12` is a single element and therefore already sorted. \r\nOnly then you will reach the first `merge(0, 1)` call which will take `{16, 12, 9, 3, 19}` and sort all values from 0 to 1 so the result will be (assuming ascending order) `{12, 16, 9, 3, 19}`. Notice, that we call `merge(0, 1)` with two sorted arrays left and right from `q`. Then we have finished the `sort(0, 1)` call and move back to the previous `sort(0, 2)` call and now have a call to `sort(2, 2)`. This will return the array unchanged as `l &lt; r` is no longer true and we move on to `merge(0, 2)` with the array `{12, 16, 9, 3, 19}`. The result of that call will be `{9, 12, 16, 3, 19}` and we&#39;ve finished `sort(0, 2)` and move to `sort(0, 4)` and so on.\r\n\r\nI suggest you debug through your program (or print the indices for your `sort()` calls) and you will see that the first `merge()` call only happens after a few calls to `sort()` and it will only ever be called for already sorted arrays left and right from it. \r\n\r\nAlso might be worth doing it on some paper so you get the concept.\r\n\r\n```\r\n16 12 9 3 19    Sort(0, 4)\r\n16 12 9 | 3 19  Sort(0, 2)\r\n16 12 | 9 3 19  Sort(0, 1)\r\n16 | 12 9 3 19  Sort(0, 0)\r\n^sorted \r\n16 | 12 9 3 19  Sort(1, 1)\r\n      ^sorted \r\n12 16 | 9 3 19  Merge(0, 1)\r\n  ^sorted\r\n12 16 | 9 3 19  Sort(2, 2)\r\n        ^sorted\r\n9 12 16 | 3 19  Merge(0, 2)\r\n   ^sorted\r\n9 12 16 | 3 19  Sort(3, 4)\r\n9 12 16 3 | 19  Sort(3, 3)\r\n        ^sorted\r\n9 12 16 3 | 19  Sort(4, 4)\r\n             ^sorted\r\n9 12 16 | 3 19  Merge(3, 4)\r\n           ^sorted\r\n3 9 12 16 19    Merge(0, 4)\r\nall sorted          \r\n```","title":"MergeSort recursion explained","body":"<p>When you call <code>sort(0, 4)</code> for <code>intArr = {16, 12, 9, 3, 19}</code> you will have another call to <code>sort(0, 2)</code>, then <code>sort(0, 1)</code> and finally <code>sort(0, 0)</code>. When you reach that <code>l &lt; r</code> will no longer hold true and you will return the unchanged array as an array with one element <code>16</code> is already sorted. So we are back to the call to <code>sort(0,1)</code> so the next thing would be the call to <code>sort(1,1)</code> where <code>l &lt; r</code> will no longer hold true and you will return the unchanged array as <code>12</code> is a single element and therefore already sorted.\nOnly then you will reach the first <code>merge(0, 1)</code> call which will take <code>{16, 12, 9, 3, 19}</code> and sort all values from 0 to 1 so the result will be (assuming ascending order) <code>{12, 16, 9, 3, 19}</code>. Notice, that we call <code>merge(0, 1)</code> with two sorted arrays left and right from <code>q</code>. Then we have finished the <code>sort(0, 1)</code> call and move back to the previous <code>sort(0, 2)</code> call and now have a call to <code>sort(2, 2)</code>. This will return the array unchanged as <code>l &lt; r</code> is no longer true and we move on to <code>merge(0, 2)</code> with the array <code>{12, 16, 9, 3, 19}</code>. The result of that call will be <code>{9, 12, 16, 3, 19}</code> and we've finished <code>sort(0, 2)</code> and move to <code>sort(0, 4)</code> and so on.</p>\n<p>I suggest you debug through your program (or print the indices for your <code>sort()</code> calls) and you will see that the first <code>merge()</code> call only happens after a few calls to <code>sort()</code> and it will only ever be called for already sorted arrays left and right from it.</p>\n<p>Also might be worth doing it on some paper so you get the concept.</p>\n<pre><code>16 12 9 3 19    Sort(0, 4)\n16 12 9 | 3 19  Sort(0, 2)\n16 12 | 9 3 19  Sort(0, 1)\n16 | 12 9 3 19  Sort(0, 0)\n^sorted \n16 | 12 9 3 19  Sort(1, 1)\n      ^sorted \n12 16 | 9 3 19  Merge(0, 1)\n  ^sorted\n12 16 | 9 3 19  Sort(2, 2)\n        ^sorted\n9 12 16 | 3 19  Merge(0, 2)\n   ^sorted\n9 12 16 | 3 19  Sort(3, 4)\n9 12 16 3 | 19  Sort(3, 3)\n        ^sorted\n9 12 16 3 | 19  Sort(4, 4)\n             ^sorted\n9 12 16 | 3 19  Merge(3, 4)\n           ^sorted\n3 9 12 16 19    Merge(0, 4)\nall sorted          \n</code></pre>\n"}],"owner":{"account_id":18891948,"reputation":3,"user_id":13782044,"display_name":"soulcraft123"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71925119,"answer_count":2,"score":0,"last_activity_date":1650373157,"creation_date":1650370099,"question_id":71924688,"body_markdown":"I know this question has been asked a lot and there are many useful and good answers but I have a specific question about the recursion. When we call sort recursively many times, what exactly happens? \r\nExample: `int[] intArr = {16, 12, 9, 3, 19};`\r\nWhen we split that array into 2 parts or look at it with two indices, what does `merge()` do with that two unsorted parts?\r\nI mean in the first iteration the first two halfs are unsorted, right?\r\nAnd the method should reach `merge()` with this current order:\r\n`merge({16, 12}, {9, 3, 19})`\r\n\r\n    public static int[] sort(int l, int r) { \r\n         \r\n        if (l &lt; r) { \r\n            int q = (l + r) / 2; \r\n             \r\n            sort(l, q); \r\n            sort(q + 1, r); \r\n            merge(l, q, r); \r\n        } \r\n        return intArr; \r\n    } \r\n\r\n\r\nI don&#39;t know what the problem is but I don&#39;t get the recursion behind Merge Sort completely. There&#39;s a basic understanding but the merge()-method makes it difficult for me.","title":"MergeSort recursion explained","body":"<p>I know this question has been asked a lot and there are many useful and good answers but I have a specific question about the recursion. When we call sort recursively many times, what exactly happens?\nExample: <code>int[] intArr = {16, 12, 9, 3, 19};</code>\nWhen we split that array into 2 parts or look at it with two indices, what does <code>merge()</code> do with that two unsorted parts?\nI mean in the first iteration the first two halfs are unsorted, right?\nAnd the method should reach <code>merge()</code> with this current order:\n<code>merge({16, 12}, {9, 3, 19})</code></p>\n<pre><code>public static int[] sort(int l, int r) { \n     \n    if (l &lt; r) { \n        int q = (l + r) / 2; \n         \n        sort(l, q); \n        sort(q + 1, r); \n        merge(l, q, r); \n    } \n    return intArr; \n} \n</code></pre>\n<p>I don't know what the problem is but I don't get the recursion behind Merge Sort completely. There's a basic understanding but the merge()-method makes it difficult for me.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1650277099,"post_id":71910496,"comment_id":127070399,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"score":0,"creation_date":1650278140,"post_id":71910496,"comment_id":127070658,"body_markdown":"Added a version of the ChoiceBox that can be added be used in any JavaFX program. Should I provide an Application-class as well or is it sufficient as is?","body":"Added a version of the ChoiceBox that can be added be used in any JavaFX program. Should I provide an Application-class as well or is it sufficient as is?"},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1650279998,"post_id":71910496,"comment_id":127071132,"body_markdown":"@floxbr The example is not complete. You are forcing us to invest extra work to wrap it with something of our own just in order to make this runnable. This burden should be on your side and not ours.","body":"@floxbr The example is not complete. You are forcing us to invest extra work to wrap it with something of our own just in order to make this runnable. This burden should be on your side and not ours."},{"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"score":0,"creation_date":1650280902,"post_id":71910496,"comment_id":127071388,"body_markdown":"I also added an Application class so you can run the to example classes together. I don&#39;t think you learn anything that helps answering the question from running it, though...","body":"I also added an Application class so you can run the to example classes together. I don&#39;t think you learn anything that helps answering the question from running it, though..."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1650284643,"post_id":71910496,"comment_id":127072393,"body_markdown":"hmm .. don&#39;t quite understand what you want to achieve: how is the _change language_ related to update (the visual representation of) all items? Does {A, B, C} stand for the languages? If so why not use languages and an appropriate converter to translate all from the selected (currently chosen) language? Please edit the example to clarify.","body":"hmm .. don&#39;t quite understand what you want to achieve: how is the <i>change language</i> related to update (the visual representation of) all items? Does {A, B, C} stand for the languages? If so why not use languages and an appropriate converter to translate all from the selected (currently chosen) language? Please edit the example to clarify."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1650284914,"post_id":71910496,"comment_id":127072462,"body_markdown":"Is [_Change application language on the run_](https://stackoverflow.com/q/32464974/230513) relevant?","body":"Is <a href=\"https://stackoverflow.com/q/32464974/230513\"><i>Change application language on the run</i></a> relevant?"},{"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"score":0,"creation_date":1650287248,"post_id":71910496,"comment_id":127073086,"body_markdown":"@kleopatra If you want it closer to the use case, just imagine a &quot;translated&quot; instead of &quot;selected&quot; and .getValue() to produce the appropriate translated String. Ultimately this does not matter for the question, though. In general I simply have a ChoiceBox where the Strings in the popup depend on the currently selected value and am looking for a way to update said Strings in the popup when I select another value.","body":"@kleopatra If you want it closer to the use case, just imagine a &quot;translated&quot; instead of &quot;selected&quot; and .getValue() to produce the appropriate translated String. Ultimately this does not matter for the question, though. In general I simply have a ChoiceBox where the Strings in the popup depend on the currently selected value and am looking for a way to update said Strings in the popup when I select another value."},{"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"score":0,"creation_date":1650287414,"post_id":71910496,"comment_id":127073130,"body_markdown":"@trashgod I think it relates to my &quot;another approach&quot; paragraph: I actually do have StringProperty-objects that are updated when the language changes and with them also StringBindings as suggested in the linked question. However, I don&#39;t see a good way to bind them to the popup entries.","body":"@trashgod I think it relates to my &quot;another approach&quot; paragraph: I actually do have StringProperty-objects that are updated when the language changes and with them also StringBindings as suggested in the linked question. However, I don&#39;t see a good way to bind them to the popup entries."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1650288024,"post_id":71910496,"comment_id":127073323,"body_markdown":"please have a look at my answer - will clean up or delete later (have to run now), depending on whether or not my assumptions match your requirement or not :) Whatever it is: don&#39;t extend a control (or any class) if you can achieve what you want by configuration! Also note, that a StringConverter is assumed to be immutable.","body":"please have a look at my answer - will clean up or delete later (have to run now), depending on whether or not my assumptions match your requirement or not :) Whatever it is: don&#39;t extend a control (or any class) if you can achieve what you want by configuration! Also note, that a StringConverter is assumed to be immutable."},{"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"score":0,"creation_date":1650289490,"post_id":71910496,"comment_id":127073814,"body_markdown":"Thanks for your help! I think in the current state, what I want to do can indeed be achieved by configuration and does not require extending `ChoiceBox` anymore.","body":"Thanks for your help! I think in the current state, what I want to do can indeed be achieved by configuration and does not require extending <code>ChoiceBox</code> anymore."}],"answers":[{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650372601,"creation_date":1650287733,"answer_id":71912298,"question_id":71910496,"body_markdown":"Not entirely certain whether or not I understand your requirement correctly, my assumptions:\r\n\r\n- there&#39;s a ChoiceBox which contains the &quot;language&quot; for your ui, including the itself: lets say it contains the items Locale.ENGLISH and Locale.GERMAN, the visual representation of its items should be &quot;English&quot;, &quot;German&quot; if its value is Locale.ENGLISH and &quot;Englisch&quot;, &quot;Deutsch&quot; if its value is Locale.GERMAN\r\n- the visual representation is done by a StringConverter configurable with the value\r\n\r\nIf so, &lt;s&gt;the solution is in separating out concerns&lt;/s&gt; - actually, it&#39;s not: the problem described (and hacked!) in the question is [JDK-8088507][1]: setting the converter doesn&#39;t update the selection of the menu items in the drop down. One hack is as bad or good as another, my personal preferenced would go for a custom skin which \r\n\r\n- adds a change listener to the converter property\r\n- reflectively calls updateSelection \r\n\r\nSomething like:\r\n\r\n    public static class MyChoiceBoxSkin&lt;T&gt; extends ChoiceBoxSkin&lt;T&gt; {\r\n\r\n        public MyChoiceBoxSkin(ChoiceBox&lt;T&gt; control) {\r\n            super(control);\r\n            registerChangeListener(control.converterProperty(), e -&gt; {\r\n                // my local reflection helper, use your own\r\n                FXUtils.invokeMethod(ChoiceBoxSkin.class, this, &quot;updateSelection&quot;);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n\r\nNote: the hacks - this nor the OP&#39;s solution - do not solve the missing offset of the popup on first opening (initially or after selecting an item in the popup).\r\n\r\n----------\r\n\r\nNot a solution to the question, just one way to have a value-dependent converter ;)\r\n\r\n- have a StringConverter with a fixed value (for simplicity) for conversion\r\n- have a converter controller having that a property with that value and a second property with a converter configured with the value: make sure the converter is replaced on change of the value\r\n- bind the controller&#39;s value to the box&#39; value and the box&#39; converter to the controller&#39;s converter\r\n\r\nIn (very raw) code:\r\n\r\n    public static class LanguageConverter&lt;T&gt; extends StringConverter&lt;T&gt; {\r\n\r\n        private T currentLanguage;\r\n\r\n        public LanguageConverter(T language) {\r\n            currentLanguage = language;\r\n        }\r\n\r\n        @Override\r\n        public String toString(T object) {\r\n            Object value = currentLanguage;\r\n            return &quot;&quot; + object + (value != null ? value : &quot;&quot;);\r\n        }\r\n\r\n        @Override\r\n        public T fromString(String string) {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    public static class LanguageController&lt;T&gt; {\r\n\r\n        private ObjectProperty&lt;StringConverter&lt;T&gt;&gt; currentConverter = new SimpleObjectProperty&lt;&gt;();\r\n        private ObjectProperty&lt;T&gt; currentValue = new SimpleObjectProperty&lt;&gt;() {\r\n\r\n            @Override\r\n            protected void invalidated() {\r\n                currentConverter.set(new LanguageConverter&lt;&gt;(get()));\r\n            }\r\n\r\n        };\r\n\r\n    }\r\n\r\nUsage:\r\n\r\n    ChoiceBox&lt;String&gt; box = new ChoiceBox&lt;&gt;();\r\n    box.getItems().addAll(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n    box.getSelectionModel().selectFirst();\r\n    LanguageController&lt;String&gt; controller = new LanguageController&lt;&gt;();\r\n    controller.currentValue.bind(box.valueProperty());\r\n    box.converterProperty().bind(controller.currentConverter);\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8088507","title":"JavaFX ChoiceBox - How can you update the text of the popup items?","body":"<p>Not entirely certain whether or not I understand your requirement correctly, my assumptions:</p>\n<ul>\n<li>there's a ChoiceBox which contains the &quot;language&quot; for your ui, including the itself: lets say it contains the items Locale.ENGLISH and Locale.GERMAN, the visual representation of its items should be &quot;English&quot;, &quot;German&quot; if its value is Locale.ENGLISH and &quot;Englisch&quot;, &quot;Deutsch&quot; if its value is Locale.GERMAN</li>\n<li>the visual representation is done by a StringConverter configurable with the value</li>\n</ul>\n<p>If so, <s>the solution is in separating out concerns</s> - actually, it's not: the problem described (and hacked!) in the question is <a href=\"https://bugs.openjdk.java.net/browse/JDK-8088507\" rel=\"nofollow noreferrer\">JDK-8088507</a>: setting the converter doesn't update the selection of the menu items in the drop down. One hack is as bad or good as another, my personal preferenced would go for a custom skin which</p>\n<ul>\n<li>adds a change listener to the converter property</li>\n<li>reflectively calls updateSelection</li>\n</ul>\n<p>Something like:</p>\n<pre><code>public static class MyChoiceBoxSkin&lt;T&gt; extends ChoiceBoxSkin&lt;T&gt; {\n\n    public MyChoiceBoxSkin(ChoiceBox&lt;T&gt; control) {\n        super(control);\n        registerChangeListener(control.converterProperty(), e -&gt; {\n            // my local reflection helper, use your own\n            FXUtils.invokeMethod(ChoiceBoxSkin.class, this, &quot;updateSelection&quot;);\n        });\n    }\n\n}\n</code></pre>\n<p>Note: the hacks - this nor the OP's solution - do not solve the missing offset of the popup on first opening (initially or after selecting an item in the popup).</p>\n<hr />\n<p>Not a solution to the question, just one way to have a value-dependent converter ;)</p>\n<ul>\n<li>have a StringConverter with a fixed value (for simplicity) for conversion</li>\n<li>have a converter controller having that a property with that value and a second property with a converter configured with the value: make sure the converter is replaced on change of the value</li>\n<li>bind the controller's value to the box' value and the box' converter to the controller's converter</li>\n</ul>\n<p>In (very raw) code:</p>\n<pre><code>public static class LanguageConverter&lt;T&gt; extends StringConverter&lt;T&gt; {\n\n    private T currentLanguage;\n\n    public LanguageConverter(T language) {\n        currentLanguage = language;\n    }\n\n    @Override\n    public String toString(T object) {\n        Object value = currentLanguage;\n        return &quot;&quot; + object + (value != null ? value : &quot;&quot;);\n    }\n\n    @Override\n    public T fromString(String string) {\n        return null;\n    }\n\n}\n\npublic static class LanguageController&lt;T&gt; {\n\n    private ObjectProperty&lt;StringConverter&lt;T&gt;&gt; currentConverter = new SimpleObjectProperty&lt;&gt;();\n    private ObjectProperty&lt;T&gt; currentValue = new SimpleObjectProperty&lt;&gt;() {\n\n        @Override\n        protected void invalidated() {\n            currentConverter.set(new LanguageConverter&lt;&gt;(get()));\n        }\n\n    };\n\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>ChoiceBox&lt;String&gt; box = new ChoiceBox&lt;&gt;();\nbox.getItems().addAll(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\nbox.getSelectionModel().selectFirst();\nLanguageController&lt;String&gt; controller = new LanguageController&lt;&gt;();\ncontroller.currentValue.bind(box.valueProperty());\nbox.converterProperty().bind(controller.currentConverter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650340037,"creation_date":1650340037,"answer_id":71919447,"question_id":71910496,"body_markdown":"I’m not sure if this meets your needs, as your description of the problem is unclear in a few places.\r\n\r\nHere’s a ChoiceBox which updates its converter using its own chosen language, and also retains its value when that change occurs:\r\n\r\n    import java.util.Locale;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.binding.Bindings;\r\n    import javafx.geometry.Insets;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ChoiceBox;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.util.StringConverter;\r\n\r\n    public class FXLocaleSelector\r\n    extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n            ChoiceBox&lt;Locale&gt; choiceBox = new ChoiceBox&lt;&gt;();\r\n            choiceBox.getItems().addAll(\r\n                Locale.ENGLISH,\r\n                Locale.FRENCH,\r\n                Locale.GERMAN,\r\n                Locale.ITALIAN,\r\n                Locale.CHINESE,\r\n                Locale.JAPANESE,\r\n                Locale.KOREAN\r\n            );\r\n\r\n            choiceBox.converterProperty().bind(\r\n                Bindings.createObjectBinding(\r\n                    () -&gt; createConverter(choiceBox.getValue()),\r\n                    choiceBox.valueProperty()));\r\n\r\n            BorderPane pane = new BorderPane(choiceBox);\r\n            pane.setPadding(new Insets(40));\r\n\r\n            stage.setScene(new Scene(pane));\r\n            stage.setTitle(&quot;Locale Selector&quot;);\r\n            stage.show();\r\n        }\r\n\r\n        private StringConverter&lt;Locale&gt; createConverter(Locale locale) {\r\n            Locale conversionLocale =\r\n                (locale != null ? locale : Locale.getDefault());\r\n\r\n            return new StringConverter&lt;Locale&gt;() {\r\n                @Override\r\n                public String toString(Locale value) {\r\n                    if (value != null) {\r\n                        return value.getDisplayName(conversionLocale);\r\n                    } else {\r\n                        return &quot;&quot;;\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public Locale fromString(String s) {\r\n                    return null;\r\n                }\r\n            };\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            launch(FXLocaleSelector.class, args);\r\n        }\r\n    }\r\n","title":"JavaFX ChoiceBox - How can you update the text of the popup items?","body":"<p>I’m not sure if this meets your needs, as your description of the problem is unclear in a few places.</p>\n<p>Here’s a ChoiceBox which updates its converter using its own chosen language, and also retains its value when that change occurs:</p>\n<pre><code>import java.util.Locale;\n\nimport javafx.application.Application;\nimport javafx.beans.binding.Bindings;\nimport javafx.geometry.Insets;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ChoiceBox;\nimport javafx.scene.layout.BorderPane;\nimport javafx.util.StringConverter;\n\npublic class FXLocaleSelector\nextends Application {\n    @Override\n    public void start(Stage stage) {\n        ChoiceBox&lt;Locale&gt; choiceBox = new ChoiceBox&lt;&gt;();\n        choiceBox.getItems().addAll(\n            Locale.ENGLISH,\n            Locale.FRENCH,\n            Locale.GERMAN,\n            Locale.ITALIAN,\n            Locale.CHINESE,\n            Locale.JAPANESE,\n            Locale.KOREAN\n        );\n\n        choiceBox.converterProperty().bind(\n            Bindings.createObjectBinding(\n                () -&gt; createConverter(choiceBox.getValue()),\n                choiceBox.valueProperty()));\n\n        BorderPane pane = new BorderPane(choiceBox);\n        pane.setPadding(new Insets(40));\n\n        stage.setScene(new Scene(pane));\n        stage.setTitle(&quot;Locale Selector&quot;);\n        stage.show();\n    }\n\n    private StringConverter&lt;Locale&gt; createConverter(Locale locale) {\n        Locale conversionLocale =\n            (locale != null ? locale : Locale.getDefault());\n\n        return new StringConverter&lt;Locale&gt;() {\n            @Override\n            public String toString(Locale value) {\n                if (value != null) {\n                    return value.getDisplayName(conversionLocale);\n                } else {\n                    return &quot;&quot;;\n                }\n            }\n\n            @Override\n            public Locale fromString(String s) {\n                return null;\n            }\n        };\n    }\n\n    public static void main(String[] args) {\n        launch(FXLocaleSelector.class, args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1650372601,"creation_date":1650276988,"question_id":71910496,"body_markdown":"I have a ```ChoiceBox``` where I can select the language for my program. When I select another language, the label gets translated as desired (because it is recomputed using ```ChoiceBoxSkin#getDisplayText``` and my ```StringConverter``` takes the language into account), but the elements in the popup list stay the same.\r\n\r\nNow, I could do something like\r\n\r\n    public void updateStrings() {\r\n        var converter = getConverter();\r\n        setConverter(null);\r\n        setConverter(converter);\r\n        var selected = valueProperty().getValue();\r\n        valueProperty().setValue(null);\r\n        valueProperty().setValue(selected);\r\n    }\r\n\r\nin my ```ChoiceBox```-subclass. This will re-populate the popup list with the correctly translated texts. Setting the value again is necessary beacause ```ChoiceBoxSkin#updatePopupItems``` (which is triggered when changing the converter) also resets the ```toggleGroup```. That means that the selected item would no longer be marked as selected in the popup list.\r\n\r\nDespite being kind of ugly, this actually works for my current use case. However, it breaks if any listener of the ```valueProperty``` does something problematic on either setting it to ```null``` or selecting the desired item a second time.\r\n\r\nAm I missing a cleaner or just all-around better way to achieve this?\r\n\r\nAnother approach might be to use a custom ```ChoiceBoxSkin```. Extending that, I&#39;d have access to ```ChoiceBoxSkin#getChoiceBoxPopup``` (although that is commented with &quot;Test only purpose&quot;) and could actually bind the text properties of the ```RadioMenuItems``` to the corresponding translated ```StringProperty```. But that breaks as soon as ```ChoiceBoxSkin#updatePopupItems``` is triggered from anywhere else...\r\n\r\nA MRP should be:\r\n    \r\n    import javafx.scene.control.ChoiceBox;\r\n    import javafx.util.StringConverter;\r\n    \r\n    public class LabelChangeChoiceBox extends ChoiceBox&lt;String&gt; {\r\n        private boolean duringUpdate = false;\r\n    \r\n        public LabelChangeChoiceBox() {\r\n            getItems().addAll(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n            setConverter(new StringConverter&lt;&gt;() {\r\n                @Override\r\n                public String toString(String item) {\r\n                    return item + &quot; selected:&quot; + valueProperty().getValue();\r\n                }\r\n    \r\n                @Override\r\n                public String fromString(String unused) {\r\n                    throw new UnsupportedOperationException();\r\n                }\r\n            });\r\n            valueProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                if(duringUpdate) {\r\n                    return;\r\n                }\r\n                duringUpdate = true;\r\n                updateStrings();\r\n                duringUpdate = false;\r\n            });\r\n        }\r\n    \r\n        public void updateStrings() {\r\n            var converter = getConverter();\r\n            setConverter(null);\r\n            setConverter(converter);\r\n            var selected = valueProperty().getValue();\r\n            valueProperty().setValue(null);\r\n            valueProperty().setValue(selected);\r\n        }\r\n    }\r\n\r\nAnd an Application-class like\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    import ui.LabelChangeChoiceBox;\r\n    \r\n    public class Launcher extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n            Scene scene = new Scene(new LabelChangeChoiceBox());\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nThis works but needs the duringUpdate variable and can break if there is another change listener.","title":"JavaFX ChoiceBox - How can you update the text of the popup items?","body":"<p>I have a <code>ChoiceBox</code> where I can select the language for my program. When I select another language, the label gets translated as desired (because it is recomputed using <code>ChoiceBoxSkin#getDisplayText</code> and my <code>StringConverter</code> takes the language into account), but the elements in the popup list stay the same.</p>\n<p>Now, I could do something like</p>\n<pre><code>public void updateStrings() {\n    var converter = getConverter();\n    setConverter(null);\n    setConverter(converter);\n    var selected = valueProperty().getValue();\n    valueProperty().setValue(null);\n    valueProperty().setValue(selected);\n}\n</code></pre>\n<p>in my <code>ChoiceBox</code>-subclass. This will re-populate the popup list with the correctly translated texts. Setting the value again is necessary beacause <code>ChoiceBoxSkin#updatePopupItems</code> (which is triggered when changing the converter) also resets the <code>toggleGroup</code>. That means that the selected item would no longer be marked as selected in the popup list.</p>\n<p>Despite being kind of ugly, this actually works for my current use case. However, it breaks if any listener of the <code>valueProperty</code> does something problematic on either setting it to <code>null</code> or selecting the desired item a second time.</p>\n<p>Am I missing a cleaner or just all-around better way to achieve this?</p>\n<p>Another approach might be to use a custom <code>ChoiceBoxSkin</code>. Extending that, I'd have access to <code>ChoiceBoxSkin#getChoiceBoxPopup</code> (although that is commented with &quot;Test only purpose&quot;) and could actually bind the text properties of the <code>RadioMenuItems</code> to the corresponding translated <code>StringProperty</code>. But that breaks as soon as <code>ChoiceBoxSkin#updatePopupItems</code> is triggered from anywhere else...</p>\n<p>A MRP should be:</p>\n<pre><code>import javafx.scene.control.ChoiceBox;\nimport javafx.util.StringConverter;\n\npublic class LabelChangeChoiceBox extends ChoiceBox&lt;String&gt; {\n    private boolean duringUpdate = false;\n\n    public LabelChangeChoiceBox() {\n        getItems().addAll(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n        setConverter(new StringConverter&lt;&gt;() {\n            @Override\n            public String toString(String item) {\n                return item + &quot; selected:&quot; + valueProperty().getValue();\n            }\n\n            @Override\n            public String fromString(String unused) {\n                throw new UnsupportedOperationException();\n            }\n        });\n        valueProperty().addListener((observable, oldValue, newValue) -&gt; {\n            if(duringUpdate) {\n                return;\n            }\n            duringUpdate = true;\n            updateStrings();\n            duringUpdate = false;\n        });\n    }\n\n    public void updateStrings() {\n        var converter = getConverter();\n        setConverter(null);\n        setConverter(converter);\n        var selected = valueProperty().getValue();\n        valueProperty().setValue(null);\n        valueProperty().setValue(selected);\n    }\n}\n</code></pre>\n<p>And an Application-class like</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport ui.LabelChangeChoiceBox;\n\npublic class Launcher extends Application {\n    @Override\n    public void start(Stage stage) {\n        Scene scene = new Scene(new LabelChangeChoiceBox());\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>This works but needs the duringUpdate variable and can break if there is another change listener.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1574437506,"creation_date":1574436940,"answer_id":58997392,"question_id":58997218,"body_markdown":"One should realize that 2 pages form a unit, using integer division by 2.\r\n\r\nYou did not utilize the remainder dropping integer division, where 12 / 7 == 1.\r\n\r\n    static int pagesTurnCount(int n, int p) {\r\n        n /= 2; // &gt;&gt;= 1\r\n        p /= 2;\r\n        return Math.min(p, n - p); // From front, from back\r\n    }\r\n\r\n           p\r\n     0  &gt;  1  &lt;  2  &lt;  3      page pairs\r\n    - 1   2 3   4 5   6 -     pages\r\nThe zero based programmer should be aware that that **last index** for double-pages\r\nis indeed &quot;the number of pages&quot; n divided by 2.","title":"How to solve below problem of Drawing Book","body":"<p>One should realize that 2 pages form a unit, using integer division by 2.</p>\n\n<p>You did not utilize the remainder dropping integer division, where 12 / 7 == 1.</p>\n\n<pre><code>static int pagesTurnCount(int n, int p) {\n    n /= 2; // &gt;&gt;= 1\n    p /= 2;\n    return Math.min(p, n - p); // From front, from back\n}\n\n       p\n 0  &gt;  1  &lt;  2  &lt;  3      page pairs\n- 1   2 3   4 5   6 -     pages\n</code></pre>\n\n<p>The zero based programmer should be aware that that <strong>last index</strong> for double-pages\nis indeed \"the number of pages\" n divided by 2.</p>\n"},{"tags":[],"owner":{"account_id":1051589,"reputation":14287,"user_id":1055395,"display_name":"Anatolii"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574438284,"creation_date":1574437627,"answer_id":58997562,"question_id":58997218,"body_markdown":"Each time a page is turned 2 more pages get visible. So, it means that in the worst case the teacher needs `n/2` turns to get from the first page to the last one. However, since she&#39;s also allowed to turn from the end of the book, she can do the worst case in `n/4` flips.\r\n\r\nSo, if her page number is `p &lt;= n/2`, then she needs `p/2` flips, otherwise - `n/2 - p/2` steps or just `min(p/2, (n/2) - (p/2))`:\r\n\r\n    uint32_t pageCount(uint32_t n, uint32_t p) {\r\n        return std::min(p / 2, (n/2) - (p/2));\r\n    }\r\n\r\n**EDIT**\r\n\r\nSince a solution in **JAVA** is required I&#39;m adding it here:\r\n\r\n    int pageCount(int n, int p) {\r\n        return Math.min(p / 2, (n/2) - (p/2));\r\n    }","title":"How to solve below problem of Drawing Book","body":"<p>Each time a page is turned 2 more pages get visible. So, it means that in the worst case the teacher needs <code>n/2</code> turns to get from the first page to the last one. However, since she's also allowed to turn from the end of the book, she can do the worst case in <code>n/4</code> flips.</p>\n\n<p>So, if her page number is <code>p &lt;= n/2</code>, then she needs <code>p/2</code> flips, otherwise - <code>n/2 - p/2</code> steps or just <code>min(p/2, (n/2) - (p/2))</code>:</p>\n\n<pre><code>uint32_t pageCount(uint32_t n, uint32_t p) {\n    return std::min(p / 2, (n/2) - (p/2));\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Since a solution in <strong>JAVA</strong> is required I'm adding it here:</p>\n\n<pre><code>int pageCount(int n, int p) {\n    return Math.min(p / 2, (n/2) - (p/2));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17338548,"reputation":11,"user_id":12559856,"display_name":"Bansi Mangukiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598201317,"creation_date":1598199896,"answer_id":63549358,"question_id":58997218,"body_markdown":"    def pageCount(n, p):\r\n        if p==n or p==1:\r\n            c=0\r\n        elif n%2!=0 and p==n-1:\r\n            c=0\r\n        else:\r\n            if p%2==0:\r\n                if n%2==0:\r\n                    c=min(p/2,(n-p)/2)\r\n                else:\r\n                    c=min(p/2,(n-p-1)/2)\r\n            else:\r\n                if n%2==0:\r\n                    c=min((p-1)/2,(n-p+1)/2)\r\n                else:\r\n                    c=min((p-1)/2,(n-p)/2)\r\n    return int(c)\r\n\r\n","title":"How to solve below problem of Drawing Book","body":"<pre><code>def pageCount(n, p):\n    if p==n or p==1:\n        c=0\n    elif n%2!=0 and p==n-1:\n        c=0\n    else:\n        if p%2==0:\n            if n%2==0:\n                c=min(p/2,(n-p)/2)\n            else:\n                c=min(p/2,(n-p-1)/2)\n        else:\n            if n%2==0:\n                c=min((p-1)/2,(n-p+1)/2)\n            else:\n                c=min((p-1)/2,(n-p)/2)\nreturn int(c)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6432090,"reputation":789,"user_id":5663340,"display_name":"Jim Ovejera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618324484,"creation_date":1618324484,"answer_id":67076913,"question_id":58997218,"body_markdown":"Here&#39;s my solution to that\r\n\r\n```\r\nfun pageCount(n: Int, p: Int): Int {\r\n    val pages = IntArray(n) { it }\r\n    val pairs = mutableListOf&lt;Pair&lt;Int, Int&gt;&gt;()\r\n    for (i in 0..n - 1 step 2) {\r\n        val lastItem = if (pages[i] + 1 &gt;= pages.size) 0 else 1\r\n        pairs.add(pages[i] to pages[i + lastItem])\r\n    }\r\n    \r\n    var forwardTurns = 0\r\n    var backwardTurns = 0\r\n    pairs.apply {\r\n        this.forEach { pair -&gt;\r\n            if (pair.first == p || pair.second == p) return@apply else forwardTurns++\r\n        }\r\n    }\r\n    for (i in pairs.size - 1 downTo 0) {\r\n        if (pairs[i].first == p || pairs[i].second == p) break else backwardTurns++\r\n    }\r\n    return Math.min(forwardTurns, backwardTurns)\r\n}\r\n```","title":"How to solve below problem of Drawing Book","body":"<p>Here's my solution to that</p>\n<pre><code>fun pageCount(n: Int, p: Int): Int {\n    val pages = IntArray(n) { it }\n    val pairs = mutableListOf&lt;Pair&lt;Int, Int&gt;&gt;()\n    for (i in 0..n - 1 step 2) {\n        val lastItem = if (pages[i] + 1 &gt;= pages.size) 0 else 1\n        pairs.add(pages[i] to pages[i + lastItem])\n    }\n    \n    var forwardTurns = 0\n    var backwardTurns = 0\n    pairs.apply {\n        this.forEach { pair -&gt;\n            if (pair.first == p || pair.second == p) return@apply else forwardTurns++\n        }\n    }\n    for (i in pairs.size - 1 downTo 0) {\n        if (pairs[i].first == p || pairs[i].second == p) break else backwardTurns++\n    }\n    return Math.min(forwardTurns, backwardTurns)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22496549,"reputation":31,"user_id":16693443,"display_name":"Sakthi Krishna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629652865,"creation_date":1629652865,"answer_id":68883574,"question_id":58997218,"body_markdown":"    import java.io.*;     \r\n    import java.util.*;     \r\n    public class Solution {      \r\n    private static int pageCount(int n, int p) {      \r\n    return Math.min(p / 2, (n/2) - (p/2));\r\n    }      \r\n    public static void main(String[] args){     \r\n    Scanner sc= new Scanner(System.in);        \r\n    int n=sc.nextInt();        \r\n    int p=sc.nextInt();   \r\n    System.out.println(pageCount(n,p));\r\n        }\r\n    }\r\n     \r\n    \r\n        \r\n\r\n","title":"How to solve below problem of Drawing Book","body":"<pre><code>import java.io.*;     \nimport java.util.*;     \npublic class Solution {      \nprivate static int pageCount(int n, int p) {      \nreturn Math.min(p / 2, (n/2) - (p/2));\n}      \npublic static void main(String[] args){     \nScanner sc= new Scanner(System.in);        \nint n=sc.nextInt();        \nint p=sc.nextInt();   \nSystem.out.println(pageCount(n,p));\n    }\n}\n \n\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":22165884,"reputation":11,"user_id":16412084,"display_name":"emgy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639029154,"creation_date":1639029154,"answer_id":70285294,"question_id":58997218,"body_markdown":"Here&#39;s my Python3 solution to that \r\n\r\n    forward = 0\r\n    backward = 0\r\n    i, i_ = 0, 1\r\n    \r\n    if n % 2 != 0:\r\n        j, j_ = n-1, n\r\n    else:\r\n        j, j_ = n, n+1\r\n    \r\n    while p not in (i, i_, j, j_):\r\n        i += 2\r\n        i_ += 2\r\n        forward += 1\r\n        j -= 2\r\n        j_ -= 2\r\n        backward += 1\r\n    \r\n    if backward &lt; forward:\r\n        return backward\r\n    else:\r\n        return forward","title":"How to solve below problem of Drawing Book","body":"<p>Here's my Python3 solution to that</p>\n<pre><code>forward = 0\nbackward = 0\ni, i_ = 0, 1\n\nif n % 2 != 0:\n    j, j_ = n-1, n\nelse:\n    j, j_ = n, n+1\n\nwhile p not in (i, i_, j, j_):\n    i += 2\n    i_ += 2\n    forward += 1\n    j -= 2\n    j_ -= 2\n    backward += 1\n\nif backward &lt; forward:\n    return backward\nelse:\n    return forward\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22885901,"reputation":59,"user_id":17026787,"display_name":"manoj_theChad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646396358,"creation_date":1646396358,"answer_id":71351309,"question_id":58997218,"body_markdown":"simple python solution\r\n\r\n    def pageCount(n, p):\r\n        back_val=0\r\n        res=[i for i in range(n+1)]\r\n        new=[res[i:i+2] for i in range(0,len(res),2)]\r\n        \r\n        for i in range(len(new)):\r\n            if p in new[i]:\r\n                front_val=i\r\n            if p in new[::-1][i]:\r\n                back_val=i\r\n                print(back_val) \r\n                        \r\n        return min([front_val,back_val])","title":"How to solve below problem of Drawing Book","body":"<p>simple python solution</p>\n<pre><code>def pageCount(n, p):\n    back_val=0\n    res=[i for i in range(n+1)]\n    new=[res[i:i+2] for i in range(0,len(res),2)]\n    \n    for i in range(len(new)):\n        if p in new[i]:\n            front_val=i\n        if p in new[::-1][i]:\n            back_val=i\n            print(back_val) \n                    \n    return min([front_val,back_val])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17326711,"reputation":35,"user_id":12550775,"display_name":"Rajan m"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1650372583,"creation_date":1650372583,"answer_id":71925257,"question_id":58997218,"body_markdown":"Javascript solution:\r\n```\r\nfunction pageCount(n, p) {\r\n    var fromFront = Math.floor(p/2);\r\n    var fromBack = (n%2 ===0 &amp;&amp; p%2 !==0)? Math.floor((n-p)/2)+1 : Math.floor((n-p)/2);\r\n    return fromFront&gt;fromBack?fromBack:fromFront;\r\n}\r\n```","title":"How to solve below problem of Drawing Book","body":"<p>Javascript solution:</p>\n<pre><code>function pageCount(n, p) {\n    var fromFront = Math.floor(p/2);\n    var fromBack = (n%2 ===0 &amp;&amp; p%2 !==0)? Math.floor((n-p)/2)+1 : Math.floor((n-p)/2);\n    return fromFront&gt;fromBack?fromBack:fromFront;\n}\n</code></pre>\n"}],"owner":{"account_id":3331453,"reputation":569,"user_id":2800318,"display_name":"MANITORATION"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4525,"favorite_count":0,"down_vote_count":7,"up_vote_count":2,"closed_date":1659113484,"accepted_answer_id":58997392,"answer_count":8,"score":-5,"last_activity_date":1650372583,"creation_date":1574436235,"question_id":58997218,"body_markdown":"Hackerrank problem Drawing Book.\r\n\r\n&gt; Brie’s Drawing teacher asks her class to open their books to a page number. Brie can either start turning pages from the front of the book or from the back of the book. She always turns pages one at a time. When she opens the book, page 1 is always on the right side:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n&gt; When she flips to page 1, she sees pages 2 and 3. Each page except the last\r\n&gt; page will always be printed on both sides. The last page may only be\r\n&gt; printed on the front, given the length of the book. If the book is n\r\n&gt; pages long, and she wants to turn to page p, what is the minimum number\r\n&gt; of pages she will turn? She can start at the beginning or the end of\r\n&gt; the book.\r\n&gt; \r\n&gt; Given n and p, find and print the minimum number of pages Brie must turn\r\n&gt; in order to arrive at page p.\r\n&gt; \r\n&gt; **Function Description**\r\n&gt; \r\n&gt; Complete the pageCount function in the editor below. It should return\r\n&gt; the minimum number of pages Brie must turn.\r\n&gt; \r\n&gt; pageCount has the following parameter(s):\r\n \r\n&gt;-  n: the number of pages in the book \r\n&gt;-   p: the page number to turn to\r\n\r\nInput Format\r\n\r\nThe first line contains an integer n, the number of pages in the book.\r\nThe second line contains an integer, p, the page that Brie&#39;s teacher wants her to turn to.\r\n\r\n&gt;**Constraints**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Output Format**\r\n\r\nPrint an integer denoting the minimum number of pages Brie must turn to get to page p.\r\n\r\n**Sample Input 0**\r\n\r\n    6\r\n    2\r\n**Sample Output 0**\r\n\r\n    1\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n**Sample Input 1**\r\n\r\n    5\r\n    4\r\n\r\n**Sample Output 1**\r\n\r\n    0\r\n\r\n  [1]: https://i.stack.imgur.com/xKBnq.png\r\n  [2]: https://i.stack.imgur.com/53QsY.png\r\n  [3]: https://i.stack.imgur.com/eRdG8.png\r\n===================================================\r\n","title":"How to solve below problem of Drawing Book","body":"<p>Hackerrank problem Drawing Book.</p>\n\n<blockquote>\n  <p>Brie’s Drawing teacher asks her class to open their books to a page number. Brie can either start turning pages from the front of the book or from the back of the book. She always turns pages one at a time. When she opens the book, page 1 is always on the right side:</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/xKBnq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xKBnq.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>When she flips to page 1, she sees pages 2 and 3. Each page except the last\n  page will always be printed on both sides. The last page may only be\n  printed on the front, given the length of the book. If the book is n\n  pages long, and she wants to turn to page p, what is the minimum number\n  of pages she will turn? She can start at the beginning or the end of\n  the book.</p>\n  \n  <p>Given n and p, find and print the minimum number of pages Brie must turn\n  in order to arrive at page p.</p>\n  \n  <p><strong>Function Description</strong></p>\n  \n  <p>Complete the pageCount function in the editor below. It should return\n  the minimum number of pages Brie must turn.</p>\n  \n  <p>pageCount has the following parameter(s):</p>\n  \n  <ul>\n  <li>n: the number of pages in the book </li>\n  <li>p: the page number to turn to</li>\n  </ul>\n</blockquote>\n\n<p>Input Format</p>\n\n<p>The first line contains an integer n, the number of pages in the book.\nThe second line contains an integer, p, the page that Brie's teacher wants her to turn to.</p>\n\n<blockquote>\n  <p><strong>Constraints</strong></p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/53QsY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/53QsY.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Output Format</strong></p>\n\n<p>Print an integer denoting the minimum number of pages Brie must turn to get to page p.</p>\n\n<p><strong>Sample Input 0</strong></p>\n\n<pre><code>6\n2\n</code></pre>\n\n<p><strong>Sample Output 0</strong></p>\n\n<pre><code>1\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/eRdG8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eRdG8.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Sample Input 1</strong></p>\n\n<pre><code>5\n4\n</code></pre>\n\n<p><strong>Sample Output 1</strong></p>\n\n<pre><code>0\n</code></pre>\n\n<p>===================================================</p>\n"},{"tags":["java","maven","nexus","circleci","sonatype"],"answers":[{"tags":[],"owner":{"account_id":12005357,"reputation":163,"user_id":8783870,"accept_rate":88,"display_name":"Vadym"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650372223,"creation_date":1650372223,"answer_id":71925192,"question_id":71820460,"body_markdown":"The resolution of this problem is to manually say what exactly file to use for getting credentials.\r\n\r\nThis is how my `config.yml` file looks after all:\r\n\r\n```\r\nversion: 2.1\r\n\r\norbs:\r\n  maven: circleci/maven@1.3.0\r\n\r\njobs:\r\n  build:\r\n    executor: maven/default\r\n    working_directory: ~/my-project\r\n    steps:\r\n      - checkout\r\n      - restore_cache:\r\n          keys:\r\n            - v1-dependencies-{{ checksum &quot;pom.xml&quot; }}\r\n            - v1-dependencies-\r\n      - run:\r\n          name: Test\r\n          command: |\r\n            mvn -s ./settings.xml clean test\r\n      - save_cache:\r\n          paths:\r\n            - ~/.m2\r\n          key: v1-dependencies-{{ checksum &quot;pom.xml&quot; }}\r\n\r\nworkflows:\r\n  main:\r\n    jobs:\r\n      - build\r\n```\r\n\r\nI do not need `nexus` orb anymore. I used `maven` orb for an `executor`.\r\nAdded command `mvn -s ./settings.xml clean test` to run tests and says in which file nexus credentials are.\r\n\r\n`settings.xml` file:\r\n\r\n```\r\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n                      https://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n    &lt;servers&gt;\r\n        &lt;server&gt;\r\n            &lt;id&gt;MYPROJECT&lt;/id&gt;\r\n            &lt;username&gt;*****&lt;/username&gt;\r\n            &lt;password&gt;*****&lt;/password&gt;\r\n        &lt;/server&gt;\r\n    &lt;/servers&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\nAnd link to `Nexus` repository I added in `pom.xml` file:\r\n\r\n```\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt; MYPROJECT &lt;/id&gt;\r\n        &lt;name&gt;*****&lt;/name&gt;\r\n        &lt;url&gt;https://nexus.*****/&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```\r\n\r\nHope this case will help someone.","title":"Configure CircleCI for Maven project using Nexus repo","body":"<p>The resolution of this problem is to manually say what exactly file to use for getting credentials.</p>\n<p>This is how my <code>config.yml</code> file looks after all:</p>\n<pre><code>version: 2.1\n\norbs:\n  maven: circleci/maven@1.3.0\n\njobs:\n  build:\n    executor: maven/default\n    working_directory: ~/my-project\n    steps:\n      - checkout\n      - restore_cache:\n          keys:\n            - v1-dependencies-{{ checksum &quot;pom.xml&quot; }}\n            - v1-dependencies-\n      - run:\n          name: Test\n          command: |\n            mvn -s ./settings.xml clean test\n      - save_cache:\n          paths:\n            - ~/.m2\n          key: v1-dependencies-{{ checksum &quot;pom.xml&quot; }}\n\nworkflows:\n  main:\n    jobs:\n      - build\n</code></pre>\n<p>I do not need <code>nexus</code> orb anymore. I used <code>maven</code> orb for an <code>executor</code>.\nAdded command <code>mvn -s ./settings.xml clean test</code> to run tests and says in which file nexus credentials are.</p>\n<p><code>settings.xml</code> file:</p>\n<pre><code>&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\n                      https://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n    &lt;servers&gt;\n        &lt;server&gt;\n            &lt;id&gt;MYPROJECT&lt;/id&gt;\n            &lt;username&gt;*****&lt;/username&gt;\n            &lt;password&gt;*****&lt;/password&gt;\n        &lt;/server&gt;\n    &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>And link to <code>Nexus</code> repository I added in <code>pom.xml</code> file:</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt; MYPROJECT &lt;/id&gt;\n        &lt;name&gt;*****&lt;/name&gt;\n        &lt;url&gt;https://nexus.*****/&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>Hope this case will help someone.</p>\n"}],"owner":{"account_id":12005357,"reputation":163,"user_id":8783870,"accept_rate":88,"display_name":"Vadym"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71925192,"answer_count":1,"score":1,"last_activity_date":1650372330,"creation_date":1649623802,"question_id":71820460,"body_markdown":"I&#39;m using external `Nexus` repository for java maven project and I trying to config circleCI config. At first I need to somehow say `CircleCI` to look into env variables for credentials during build.\r\nIn `grade` driven java projects all going fine without any extra configs, but in `maven` it says that can&#39;t have access to nexus.\r\nHave anybody experience with it?\r\nIt&#39;s my first time configuring CircleCI\r\n\r\n**UPD1:**\r\n\r\nFor authorisation I added env variables for `username`, `password`, `server url` and `attributes` to context on CircleCI Organization Settings page\r\n\r\nI using [this][1] ORB and there I have found the names of env variables I have to use as default names.\r\n\r\n\r\nCreated `circleci` config file:\r\n\r\n```\r\nversion: 2.1\r\n\r\norbs:\r\n  nexus-platform-orb: sonatype/nexus-platform-orb@1.0.28\r\n\r\nworkflows:\r\n  main:\r\n    jobs:\r\n      - nexus-platform-orb/nexusjob:\r\n          context: MyContext\r\n```\r\n\r\nAnd have this error:\r\n\r\n```\r\nCaught: java.io.FileNotFoundException: /tmp/workspace (Is a directory)\r\njava.io.FileNotFoundException: /tmp/workspace (Is a directory)\r\n\tat NexusPublisher.run(NexusPublisher.groovy:59)\r\n\r\nExited with code exit status 1\r\n```\r\n\r\nBut when I added `command` to create file inside and used it, I steel have the same problem.\r\n***For a which file or directory circleci is looking for?***\r\n\r\n**UPD1:**\r\n\r\nI a bit updated my config file:\r\n\r\n```\r\nversion: 2.1\r\n\r\norbs:\r\n  maven: circleci/maven@1.3.0\r\n  nexus-platform-orb: sonatype/nexus-platform-orb@1.0.28\r\n\r\njobs:\r\n  install-nexus:\r\n    executor: nexus-platform-orb/nexus-platform-cli\r\n    steps:\r\n      - checkout\r\n      - nexus-platform-orb/install\r\n\r\nworkflows:\r\n  main:\r\n    jobs:\r\n      - install-nexus\r\n      - nexus-platform-orb/nexusjob:\r\n          context: MyContext\r\n          workspace: tmp/workspace/\r\n          requires:\r\n            - install-nexus\r\n\r\n```\r\n\r\nAs a result I have an error running this job:\r\n\r\n```\r\n/bin/sh: curl: not found\r\n```\r\n\r\nBecause command `nexus-platform-orb/install` contains this line:\r\n\r\n```\r\ncurl -L\r\n      https://groovy.jfrog.io/artifactory/libs-release-local/org/codehaus/groovy/groovy-binary/&lt;&lt;\r\n      parameters.groovy-version &gt;&gt;/groovy-binary-&lt;&lt; parameters.groovy-version\r\n      &gt;&gt;.zip -o apache-groovy-binary.zip\r\n```\r\n\r\nBut adding command installing `curl` gives me one another error:\r\n\r\n```\r\nsteps:\r\n      - checkout\r\n      - run: apk update &amp;&amp; apk add curl curl-dev bash\r\n      - nexus-platform-orb/install\r\n```\r\n\r\n```\r\n#!/bin/sh -eo pipefail\r\napk update &amp;&amp; apk add curl curl-dev bash\r\nERROR: Unable to lock database: Permission denied\r\nERROR: Failed to open apk database: Permission denied\r\n\r\nExited with code exit status 99\r\n```\r\nAnd I have no idea how to fix it, because only way I found is to add `RUN root` to the `Dockerfile`. But it not works.\r\n\r\n**UPD2:**\r\n\r\nI spent more than week to understand how to fix it and posted my resolution as an answer.\r\nHope it will save time for someone.\r\n\r\n\r\n  [1]: https://circleci.com/developer/orbs/orb/sonatype/nexus-platform-orb","title":"Configure CircleCI for Maven project using Nexus repo","body":"<p>I'm using external <code>Nexus</code> repository for java maven project and I trying to config circleCI config. At first I need to somehow say <code>CircleCI</code> to look into env variables for credentials during build.\nIn <code>grade</code> driven java projects all going fine without any extra configs, but in <code>maven</code> it says that can't have access to nexus.\nHave anybody experience with it?\nIt's my first time configuring CircleCI</p>\n<p><strong>UPD1:</strong></p>\n<p>For authorisation I added env variables for <code>username</code>, <code>password</code>, <code>server url</code> and <code>attributes</code> to context on CircleCI Organization Settings page</p>\n<p>I using <a href=\"https://circleci.com/developer/orbs/orb/sonatype/nexus-platform-orb\" rel=\"nofollow noreferrer\">this</a> ORB and there I have found the names of env variables I have to use as default names.</p>\n<p>Created <code>circleci</code> config file:</p>\n<pre><code>version: 2.1\n\norbs:\n  nexus-platform-orb: sonatype/nexus-platform-orb@1.0.28\n\nworkflows:\n  main:\n    jobs:\n      - nexus-platform-orb/nexusjob:\n          context: MyContext\n</code></pre>\n<p>And have this error:</p>\n<pre><code>Caught: java.io.FileNotFoundException: /tmp/workspace (Is a directory)\njava.io.FileNotFoundException: /tmp/workspace (Is a directory)\n    at NexusPublisher.run(NexusPublisher.groovy:59)\n\nExited with code exit status 1\n</code></pre>\n<p>But when I added <code>command</code> to create file inside and used it, I steel have the same problem.\n<em><strong>For a which file or directory circleci is looking for?</strong></em></p>\n<p><strong>UPD1:</strong></p>\n<p>I a bit updated my config file:</p>\n<pre><code>version: 2.1\n\norbs:\n  maven: circleci/maven@1.3.0\n  nexus-platform-orb: sonatype/nexus-platform-orb@1.0.28\n\njobs:\n  install-nexus:\n    executor: nexus-platform-orb/nexus-platform-cli\n    steps:\n      - checkout\n      - nexus-platform-orb/install\n\nworkflows:\n  main:\n    jobs:\n      - install-nexus\n      - nexus-platform-orb/nexusjob:\n          context: MyContext\n          workspace: tmp/workspace/\n          requires:\n            - install-nexus\n\n</code></pre>\n<p>As a result I have an error running this job:</p>\n<pre><code>/bin/sh: curl: not found\n</code></pre>\n<p>Because command <code>nexus-platform-orb/install</code> contains this line:</p>\n<pre><code>curl -L\n      https://groovy.jfrog.io/artifactory/libs-release-local/org/codehaus/groovy/groovy-binary/&lt;&lt;\n      parameters.groovy-version &gt;&gt;/groovy-binary-&lt;&lt; parameters.groovy-version\n      &gt;&gt;.zip -o apache-groovy-binary.zip\n</code></pre>\n<p>But adding command installing <code>curl</code> gives me one another error:</p>\n<pre><code>steps:\n      - checkout\n      - run: apk update &amp;&amp; apk add curl curl-dev bash\n      - nexus-platform-orb/install\n</code></pre>\n<pre><code>#!/bin/sh -eo pipefail\napk update &amp;&amp; apk add curl curl-dev bash\nERROR: Unable to lock database: Permission denied\nERROR: Failed to open apk database: Permission denied\n\nExited with code exit status 99\n</code></pre>\n<p>And I have no idea how to fix it, because only way I found is to add <code>RUN root</code> to the <code>Dockerfile</code>. But it not works.</p>\n<p><strong>UPD2:</strong></p>\n<p>I spent more than week to understand how to fix it and posted my resolution as an answer.\nHope it will save time for someone.</p>\n"},{"tags":["java","spring","reactor","reactive-streams"],"answers":[{"tags":[],"owner":{"account_id":3048687,"reputation":125,"user_id":2583744,"display_name":"a.khakh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650372170,"creation_date":1650372170,"answer_id":71925178,"question_id":68255276,"body_markdown":"This [fire and forget pattern](https://stackoverflow.com/a/57569541/2583744) answers my question. So in my case it will look like this:\r\n```java\r\n... ... ... // chain starts somewhere here\r\n.flatMap(item -&gt; processItem(item))\r\n.doOnNext(item -&gt; billingService.bill(item).subscribe())\r\n... ... ... // continue to work with processed items\r\n```","title":"What is the best way to do async side effect in Reactor?","body":"<p>This <a href=\"https://stackoverflow.com/a/57569541/2583744\">fire and forget pattern</a> answers my question. So in my case it will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>... ... ... // chain starts somewhere here\n.flatMap(item -&gt; processItem(item))\n.doOnNext(item -&gt; billingService.bill(item).subscribe())\n... ... ... // continue to work with processed items\n</code></pre>\n"}],"owner":{"account_id":3048687,"reputation":125,"user_id":2583744,"display_name":"a.khakh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1234,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71925178,"answer_count":1,"score":2,"last_activity_date":1650372170,"creation_date":1625484160,"question_id":68255276,"body_markdown":"Let&#39;s assume I have a main chain with some processing and I want to call billing service on each item processed and then return the results of the processing further like so:\r\n```java\r\n... ... ... // chain starts somewhere here\r\n.flatMap(item -&gt; processItem(item))\r\n.doOnNext(item -&gt; billingService.bill(item))\r\n... ... ... // continue to work with processed items\r\n```\r\ni.e I want to do some side effect action on the chain. This would work if `billingService.bill()` were sync, but it returns `Mono`.\r\nSo, here&#39;s what I have to do instead:\r\n```java\r\n... ... ... // chain starts somewhere here\r\n.flatMap(item -&gt; processItem(item))\r\n.flatMap(item -&gt; billingService.bill(item).thenReturn(item))\r\n... ... ... // continue to work with processed items\r\n```\r\n\r\nIs there a better way to do it? Seems kinda awkward to me...\r\n","title":"What is the best way to do async side effect in Reactor?","body":"<p>Let's assume I have a main chain with some processing and I want to call billing service on each item processed and then return the results of the processing further like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>... ... ... // chain starts somewhere here\n.flatMap(item -&gt; processItem(item))\n.doOnNext(item -&gt; billingService.bill(item))\n... ... ... // continue to work with processed items\n</code></pre>\n<p>i.e I want to do some side effect action on the chain. This would work if <code>billingService.bill()</code> were sync, but it returns <code>Mono</code>.\nSo, here's what I have to do instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>... ... ... // chain starts somewhere here\n.flatMap(item -&gt; processItem(item))\n.flatMap(item -&gt; billingService.bill(item).thenReturn(item))\n... ... ... // continue to work with processed items\n</code></pre>\n<p>Is there a better way to do it? Seems kinda awkward to me...</p>\n"},{"tags":["java","javafx","installation","windows-installer","jpackage"],"comments":[{"owner":{"account_id":18609068,"reputation":1628,"user_id":13561971,"display_name":"anko"},"score":0,"creation_date":1632667421,"post_id":69335221,"comment_id":122549354,"body_markdown":"As far as I know jpackage does not provide such an option.","body":"As far as I know jpackage does not provide such an option."},{"owner":{"account_id":16778997,"reputation":2244,"user_id":12473258,"display_name":"srilakshmikanthanp"},"score":0,"creation_date":1632667611,"post_id":69335221,"comment_id":122549396,"body_markdown":"Thanks for your reply, there is any other option to achive this ?","body":"Thanks for your reply, there is any other option to achive this ?"},{"owner":{"account_id":18609068,"reputation":1628,"user_id":13561971,"display_name":"anko"},"score":0,"creation_date":1632667941,"post_id":69335221,"comment_id":122549477,"body_markdown":"I think not, but maybe someone else knows. Good luck :)","body":"I think not, but maybe someone else knows. Good luck :)"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1632689110,"post_id":69335221,"comment_id":122554335,"body_markdown":"You may want to submit a feature request for this, assuming one doesn&#39;t already exist. A potential workaround, if you continue to use `jpackage`, might be to try and do this within your application when it first starts. For instance, on Windows I&#39;m pretty sure startup apps are determined by simply having a shortcut in a specific folder; not sure about other operating systems.","body":"You may want to submit a feature request for this, assuming one doesn&#39;t already exist. A potential workaround, if you continue to use <code>jpackage</code>, might be to try and do this within your application when it first starts. For instance, on Windows I&#39;m pretty sure startup apps are determined by simply having a shortcut in a specific folder; not sure about other operating systems."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1632711967,"post_id":69335221,"comment_id":122557782,"body_markdown":"`jpackage` relies on the wix toolset to build Windows installers.  Wix can define [services](https://wixtoolset.org/documentation/manual/v3/howtos/general/install_windows_service.html), or [add a program to start on boot](https://stackoverflow.com/questions/28305179/how-to-making-a-program-start-on-windows-startup-with-wix-toolset). It may be possible to customize your build to specify the options you wish so Wix will build the installer you want, but I haven’t enough `jpackage` experience to know that for sure or provide instructions.","body":"<code>jpackage</code> relies on the wix toolset to build Windows installers.  Wix can define <a href=\"https://wixtoolset.org/documentation/manual/v3/howtos/general/install_windows_service.html\" rel=\"nofollow noreferrer\">services</a>, or <a href=\"https://stackoverflow.com/questions/28305179/how-to-making-a-program-start-on-windows-startup-with-wix-toolset\">add a program to start on boot</a>. It may be possible to customize your build to specify the options you wish so Wix will build the installer you want, but I haven’t enough <code>jpackage</code> experience to know that for sure or provide instructions."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650372087,"creation_date":1650372087,"answer_id":71925150,"question_id":69335221,"body_markdown":"While you are running on Windows, I know how to tackle this on Linux.\r\n\r\nJPackage will create a Debian Package. Such a package contains mainly two tar balls: The main one contains the files that need to be installed in the filesystem. The other one contains metadata (what package do we have here?) as well as four scripts, each of them will be run at a specific event:\r\n\r\n- preinst executed before the tar ball gets extracted (installation)\r\n- postinst executed after the tar ball got extracted (installation)\r\n- prerm executed before the application will be removed (uninstall)\r\n- postrm executed before the application was removed (uninstall)\r\n\r\nComing back to your question, all I&#39;d have to do is provide my version of the postinst script that would register the application to autostart following https://docs.oracle.com/en/java/javase/17/jpackage/override-jpackage-resources.html#GUID-1B718F8B-B68D-4D46-B1DB-003D7729AAB6\r\n\r\nMaybe there is something similar for the Windows version?","title":"How to add a program to startup with jpackage?","body":"<p>While you are running on Windows, I know how to tackle this on Linux.</p>\n<p>JPackage will create a Debian Package. Such a package contains mainly two tar balls: The main one contains the files that need to be installed in the filesystem. The other one contains metadata (what package do we have here?) as well as four scripts, each of them will be run at a specific event:</p>\n<ul>\n<li>preinst executed before the tar ball gets extracted (installation)</li>\n<li>postinst executed after the tar ball got extracted (installation)</li>\n<li>prerm executed before the application will be removed (uninstall)</li>\n<li>postrm executed before the application was removed (uninstall)</li>\n</ul>\n<p>Coming back to your question, all I'd have to do is provide my version of the postinst script that would register the application to autostart following <a href=\"https://docs.oracle.com/en/java/javase/17/jpackage/override-jpackage-resources.html#GUID-1B718F8B-B68D-4D46-B1DB-003D7729AAB6\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/jpackage/override-jpackage-resources.html#GUID-1B718F8B-B68D-4D46-B1DB-003D7729AAB6</a></p>\n<p>Maybe there is something similar for the Windows version?</p>\n"}],"owner":{"account_id":16778997,"reputation":2244,"user_id":12473258,"display_name":"srilakshmikanthanp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1650372087,"creation_date":1632661619,"question_id":69335221,"body_markdown":"i am recently looked at jpackage there is any option automatically adds the appilication to startup, For Example consider I have,\r\n\r\nApp.java\r\n\r\n~~~java\r\npackage org.openjfx;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n\r\n/**\r\n * JavaFX App\r\n */\r\npublic class App extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        var label = new Label(&quot;Hello, JavaFX&quot;);\r\n        var scene = new Scene(new StackPane(label), 640, 480);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n~~~\r\n\r\nmodule-info.java\r\n\r\n~~~java\r\nmodule Sample {\r\n    requires javafx.controls;\r\n    opens org.openjfx;\r\n}\r\n~~~\r\n\r\nUsing maven to generate runtime,\r\n\r\n~~~bash\r\nmvn javafx:jlink\r\n~~~\r\n\r\nThen generate the installer,\r\n\r\n~~~bash\r\njpackage --win-dir-chooser --runtime-image ./target/image/ --name Sample-Javafx --module Sample/org.openjfx.App -d ./target/bin/\r\n~~~\r\n\r\nThis all works fine but what i want is to register App.java at startup and start this app after installation is it possible with jpackage or there is any trick inside App.java to achive this ?","title":"How to add a program to startup with jpackage?","body":"<p>i am recently looked at jpackage there is any option automatically adds the appilication to startup, For Example consider I have,</p>\n<p>App.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.openjfx;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\n/**\n * JavaFX App\n */\npublic class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        var label = new Label(&quot;Hello, JavaFX&quot;);\n        var scene = new Scene(new StackPane(label), 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>module-info.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>module Sample {\n    requires javafx.controls;\n    opens org.openjfx;\n}\n</code></pre>\n<p>Using maven to generate runtime,</p>\n<pre class=\"lang-sh prettyprint-override\"><code>mvn javafx:jlink\n</code></pre>\n<p>Then generate the installer,</p>\n<pre class=\"lang-sh prettyprint-override\"><code>jpackage --win-dir-chooser --runtime-image ./target/image/ --name Sample-Javafx --module Sample/org.openjfx.App -d ./target/bin/\n</code></pre>\n<p>This all works fine but what i want is to register App.java at startup and start this app after installation is it possible with jpackage or there is any trick inside App.java to achive this ?</p>\n"},{"tags":["java","ssl","ldap","ssl-certificate","ldapconnection"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1509613877,"post_id":47068124,"comment_id":81090817,"body_markdown":"You don&#39;t want to add it to `cacerts` why? Your LDAP server is using a self-signed certificate why?","body":"You don&#39;t want to add it to <code>cacerts</code> why? Your LDAP server is using a self-signed certificate why?"},{"owner":{"account_id":3464826,"reputation":505,"user_id":2975627,"accept_rate":38,"display_name":"geekops"},"score":0,"creation_date":1509628600,"post_id":47068124,"comment_id":81100848,"body_markdown":"i do not want to add it to the cacerts so in case i need to upgrade jre i need to this manually.Better option will be to use a custom socket which uses the certificate only during the Ldap connection. Problem is/was `System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;C:\\\\temp\\\\AD-Cert-TrustStore.jks&quot;);` is not taking effect .","body":"i do not want to add it to the cacerts so in case i need to upgrade jre i need to this manually.Better option will be to use a custom socket which uses the certificate only during the Ldap connection. Problem is/was <code>System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;C:\\\\temp\\\\AD-Cert-TrustStore.jks&quot;);</code> is not taking effect ."},{"owner":{"account_id":7981152,"reputation":119,"user_id":6022442,"display_name":"Wojciech Piotrowiak"},"score":0,"creation_date":1535696103,"post_id":47068124,"comment_id":91169505,"body_markdown":"@user207421 I have similar problem, don&#39;t want to add to cacerts because in my case there will be many connections to different URLs and want to have them separated.","body":"@user207421 I have similar problem, don&#39;t want to add to cacerts because in my case there will be many connections to different URLs and want to have them separated."},{"owner":{"account_id":820046,"reputation":86,"user_id":1305582,"display_name":"John Tkaczewski"},"score":0,"creation_date":1542143128,"post_id":47068124,"comment_id":93460721,"body_markdown":"Any answers this question? I&#39;m having the same issue Java 8_191? I found somewhere else saying that you must use forward slash in your path on windows and not \\\\, but I tried that as well but no luck,","body":"Any answers this question? I&#39;m having the same issue Java 8_191? I found somewhere else saying that you must use forward slash in your path on windows and not \\\\, but I tried that as well but no luck,"},{"owner":{"account_id":1437036,"reputation":2669,"user_id":1358179,"display_name":"Martin"},"score":0,"creation_date":1631094685,"post_id":47068124,"comment_id":122128761,"body_markdown":"Does this answer your question? [how to accept self-signed certificates for JNDI/LDAP connections?](https://stackoverflow.com/questions/4615163/how-to-accept-self-signed-certificates-for-jndi-ldap-connections)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4615163/how-to-accept-self-signed-certificates-for-jndi-ldap-connections\">how to accept self-signed certificates for JNDI/LDAP connections?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6087998,"reputation":21,"user_id":4751294,"display_name":"user4751294"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650371202,"creation_date":1650371202,"answer_id":71924946,"question_id":47068124,"body_markdown":"If all the necessary javax.net....-properties are correctly spelled and have correct values, there must be premature initialization of some ssl-aware objects. For example, if in your app SslRMIClientSocketFactory or SslRMIServerSocketFactory are created before setting those properties, then subsequent attempts to start ssl-connection even with new factories will behave as if the properties were not set.","title":"Ldap ssl with dynamic truststore","body":"<p>If all the necessary javax.net....-properties are correctly spelled and have correct values, there must be premature initialization of some ssl-aware objects. For example, if in your app SslRMIClientSocketFactory or SslRMIServerSocketFactory are created before setting those properties, then subsequent attempts to start ssl-connection even with new factories will behave as if the properties were not set.</p>\n"}],"owner":{"account_id":3464826,"reputation":505,"user_id":2975627,"accept_rate":38,"display_name":"geekops"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2420,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1650371202,"creation_date":1509600109,"question_id":47068124,"body_markdown":"I am trying to connect to a ldap over ssl. I have generated a .jks file with the certificate entry. I do not want to import this to cacerts rather want to access it dynamically when i initialize the ldap connection.\r\n\r\n    if (sslAuth) {\r\n\t\t\tldapHost = &quot;ldaps://&quot; + ldapHost;\r\n\t\t} else {\r\n\t\t\tldapHost = &quot;ldap://&quot; + ldapHost;\r\n\t\t}\r\n\t\tHashtable&lt;Object, Object&gt; env = new Hashtable&lt;Object, Object&gt;();\r\n\t\tenv.put(Context.INITIAL_CONTEXT_FACTORY,\r\n\t\t\t\t&quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n\t\tenv.put(Context.PROVIDER_URL, ldapHost);\t\r\n\t\tenv.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\n\t\tenv.put(Context.SECURITY_PRINCIPAL, &quot;userName&quot;);\r\n\t\tenv.put(Context.SECURITY_CREDENTIALS, &quot;password&quot;);\t\t\r\n\t\tif (sslAuth) {\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;C:\\\\temp\\\\AD-Cert-TrustStore.jks&quot;);\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\t\t\r\n\t\t\tenv.put(DirContext.SECURITY_PROTOCOL, &quot;ssl&quot;);\r\n\t\t}\r\n\t\tLdapContext ctx = new InitialLdapContext(env, null);\r\n\t\treturn ctx;\r\n\r\nBut i am getting the below exception\r\n      \r\n\r\n     javax.naming.CommunicationException: simple bind failed: ldaphost:636 [Root exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target]","title":"Ldap ssl with dynamic truststore","body":"<p>I am trying to connect to a ldap over ssl. I have generated a .jks file with the certificate entry. I do not want to import this to cacerts rather want to access it dynamically when i initialize the ldap connection.</p>\n\n<pre><code>if (sslAuth) {\n        ldapHost = \"ldaps://\" + ldapHost;\n    } else {\n        ldapHost = \"ldap://\" + ldapHost;\n    }\n    Hashtable&lt;Object, Object&gt; env = new Hashtable&lt;Object, Object&gt;();\n    env.put(Context.INITIAL_CONTEXT_FACTORY,\n            \"com.sun.jndi.ldap.LdapCtxFactory\");\n    env.put(Context.PROVIDER_URL, ldapHost);    \n    env.put(Context.SECURITY_AUTHENTICATION, \"simple\");\n    env.put(Context.SECURITY_PRINCIPAL, \"userName\");\n    env.put(Context.SECURITY_CREDENTIALS, \"password\");      \n    if (sslAuth) {\n        System.setProperty(\"javax.net.ssl.trustStore\", \"C:\\\\temp\\\\AD-Cert-TrustStore.jks\");\n        System.setProperty(\"javax.net.ssl.trustStorePassword\", \"changeit\");     \n        env.put(DirContext.SECURITY_PROTOCOL, \"ssl\");\n    }\n    LdapContext ctx = new InitialLdapContext(env, null);\n    return ctx;\n</code></pre>\n\n<p>But i am getting the below exception</p>\n\n<pre><code> javax.naming.CommunicationException: simple bind failed: ldaphost:636 [Root exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target]\n</code></pre>\n"},{"tags":["java","eclipse","classpath","minecraft","eclipse-classpath"],"comments":[{"owner":{"account_id":3969990,"reputation":7267,"user_id":3274830,"accept_rate":58,"display_name":"Mohsen Kamrani"},"score":1,"creation_date":1397226187,"post_id":23015231,"comment_id":35155765,"body_markdown":"If you&#39;re not sure that all the required packages are imported, hit Ctrl + Shift + O inside the class that raises this error, and import all the required packages and the compile the code again.","body":"If you&#39;re not sure that all the required packages are imported, hit Ctrl + Shift + O inside the class that raises this error, and import all the required packages and the compile the code again."},{"owner":{"account_id":3654040,"reputation":5772,"user_id":3045515,"accept_rate":93,"display_name":"Sambhav Sharma"},"score":0,"creation_date":1397226274,"post_id":23015231,"comment_id":35155822,"body_markdown":"what are you exactly trying to do? The question lacks information. You get ClassNotFoundException in a lot of cases. You already had a running code in eclipse and suddenyl you got this error or you imported a project and then you couldn&#39;t run it. what kind of project is it?","body":"what are you exactly trying to do? The question lacks information. You get ClassNotFoundException in a lot of cases. You already had a running code in eclipse and suddenyl you got this error or you imported a project and then you couldn&#39;t run it. what kind of project is it?"},{"owner":{"account_id":3654040,"reputation":5772,"user_id":3045515,"accept_rate":93,"display_name":"Sambhav Sharma"},"score":0,"creation_date":1397226320,"post_id":23015231,"comment_id":35155852,"body_markdown":"Actually you could also look into markers and look for java errors if you have any.. or maybe build path errors.","body":"Actually you could also look into markers and look for java errors if you have any.. or maybe build path errors."},{"owner":{"account_id":4093172,"reputation":910,"user_id":3360666,"display_name":"Gladhus"},"score":0,"creation_date":1397226674,"post_id":23015231,"comment_id":35156102,"body_markdown":"Wow @mok I can&#39;t believe I did not know that shortcut :P Thanks for sharing","body":"Wow @mok I can&#39;t believe I did not know that shortcut :P Thanks for sharing"},{"owner":{"account_id":3969990,"reputation":7267,"user_id":3274830,"accept_rate":58,"display_name":"Mohsen Kamrani"},"score":0,"creation_date":1397226797,"post_id":23015231,"comment_id":35156172,"body_markdown":"@aileron565&gt; So I posted it as an answer.","body":"@aileron565&gt; So I posted it as an answer."}],"answers":[{"tags":[],"owner":{"account_id":3969990,"reputation":7267,"user_id":3274830,"accept_rate":58,"display_name":"Mohsen Kamrani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397226774,"creation_date":1397226774,"answer_id":23015529,"question_id":23015231,"body_markdown":"If you&#39;re not sure that all the required packages are imported, hit Ctrl + Shift + O inside the class that raises this error, and import all the required packages and the compile the code again.","title":"Running in Eclipse is Not Able to Find the Class","body":"<p>If you're not sure that all the required packages are imported, hit Ctrl + Shift + O inside the class that raises this error, and import all the required packages and the compile the code again.</p>\n"},{"tags":[],"owner":{"account_id":2348323,"reputation":13158,"user_id":2057902,"accept_rate":80,"display_name":"Sireesh Yarlagadda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650371148,"creation_date":1397227050,"answer_id":23015636,"question_id":23015231,"body_markdown":"This problem clearly specifies it lacks class files.\r\n    \r\nSteps to narrow done this problem : \r\n    \r\n1. Clicking - Ctrl+Shift+T\r\n\r\nPaste the package name `cpw.mods.fml.common.launcher.FMLTweaker`, you should be able to figure out, which jar/source file hold this.\r\n    \r\n2. Go to *Build Path-&gt;Configure Build Path -&gt;Order and Export-&gt; Arrange the folders* according to the sequence they have to be loaded. (Sometimes if A expects B but B is loaded after A, causes this issue)\r\n    \r\n3. Try to import the packages using Ctrl + Shift + o, which automatically gives the suggestions to select from. Pick the right one.\r\n    \r\n4. This might be even happening because of the same name class conflicts.(Same Class Name used in multiples jars/source files). Import the right package one from it.\r\n\r\n\r\n","title":"Running in Eclipse is Not Able to Find the Class","body":"<p>This problem clearly specifies it lacks class files.</p>\n<p>Steps to narrow done this problem :</p>\n<ol>\n<li>Clicking - Ctrl+Shift+T</li>\n</ol>\n<p>Paste the package name <code>cpw.mods.fml.common.launcher.FMLTweaker</code>, you should be able to figure out, which jar/source file hold this.</p>\n<ol start=\"2\">\n<li><p>Go to <em>Build Path-&gt;Configure Build Path -&gt;Order and Export-&gt; Arrange the folders</em> according to the sequence they have to be loaded. (Sometimes if A expects B but B is loaded after A, causes this issue)</p>\n</li>\n<li><p>Try to import the packages using Ctrl + Shift + o, which automatically gives the suggestions to select from. Pick the right one.</p>\n</li>\n<li><p>This might be even happening because of the same name class conflicts.(Same Class Name used in multiples jars/source files). Import the right package one from it.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":2299003,"reputation":1,"user_id":2019759,"display_name":"aileron565"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650371148,"creation_date":1397226018,"question_id":23015231,"body_markdown":"Trying to run my project in Eclipse, but it creates the following error:\r\n\r\n    Apr 11, 2014 8:02:17 AM net.minecraft.launchwrapper.LogWrapper log\r\n    INFO: Loading tweak class name cpw.mods.fml.common.launcher.FMLTweaker\r\n    Apr 11, 2014 8:02:21 AM net.minecraft.launchwrapper.LogWrapper log\r\n    SEVERE: Unable to launch\r\n    java.lang.ClassNotFoundException: cpw.mods.fml.common.launcher.FMLTweaker\r\n\t      at java.net.URLClassLoader$1.run(Unknown Source)\r\n\t      at java.net.URLClassLoader$1.run(Unknown Source)\r\n\t      at java.security.AccessController.doPrivileged(Native Method)\r\n\t      at java.net.URLClassLoader.findClass(Unknown Source)\r\n\t      at java.lang.ClassLoader.loadClass(Unknown Source)\r\n\t      at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n\t      at java.lang.ClassLoader.loadClass(Unknown Source)\r\n\t      at net.minecraft.launchwrapper.LaunchClassLoader.findClass(LaunchClassLoader.java:102)\r\n\t      at java.lang.ClassLoader.loadClass(Unknown Source)\r\n\t      at java.lang.ClassLoader.loadClass(Unknown Source)\r\n\t      at java.lang.Class.forName0(Native Method)\r\n\t      at java.lang.Class.forName(Unknown Source)\r\n\t      at net.minecraft.launchwrapper.Launch.launch(Launch.java:94)\r\n\t      at net.minecraft.launchwrapper.Launch.main(Launch.java:27)\r\n\r\nBut I have all of the files included in my project.\r\n\r\nThis is a very similar issue to [this][1], but I tried the solution of refreshing the classpath and it didn&#39;t work.\r\n\r\nAny suggestions?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17984343/eclipse-run-not-finding-the-class/ &quot;this&quot;","title":"Running in Eclipse is Not Able to Find the Class","body":"<p>Trying to run my project in Eclipse, but it creates the following error:</p>\n<pre><code>Apr 11, 2014 8:02:17 AM net.minecraft.launchwrapper.LogWrapper log\nINFO: Loading tweak class name cpw.mods.fml.common.launcher.FMLTweaker\nApr 11, 2014 8:02:21 AM net.minecraft.launchwrapper.LogWrapper log\nSEVERE: Unable to launch\njava.lang.ClassNotFoundException: cpw.mods.fml.common.launcher.FMLTweaker\n      at java.net.URLClassLoader$1.run(Unknown Source)\n      at java.net.URLClassLoader$1.run(Unknown Source)\n      at java.security.AccessController.doPrivileged(Native Method)\n      at java.net.URLClassLoader.findClass(Unknown Source)\n      at java.lang.ClassLoader.loadClass(Unknown Source)\n      at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n      at java.lang.ClassLoader.loadClass(Unknown Source)\n      at net.minecraft.launchwrapper.LaunchClassLoader.findClass(LaunchClassLoader.java:102)\n      at java.lang.ClassLoader.loadClass(Unknown Source)\n      at java.lang.ClassLoader.loadClass(Unknown Source)\n      at java.lang.Class.forName0(Native Method)\n      at java.lang.Class.forName(Unknown Source)\n      at net.minecraft.launchwrapper.Launch.launch(Launch.java:94)\n      at net.minecraft.launchwrapper.Launch.main(Launch.java:27)\n</code></pre>\n<p>But I have all of the files included in my project.</p>\n<p>This is a very similar issue to <a href=\"https://stackoverflow.com/questions/17984343/eclipse-run-not-finding-the-class/\" title=\"this\">this</a>, but I tried the solution of refreshing the classpath and it didn't work.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","scala","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":4422064,"reputation":12456,"user_id":3601682,"accept_rate":75,"display_name":"ChintanShah25"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1452820599,"creation_date":1452820599,"answer_id":34802814,"question_id":34801397,"body_markdown":"Try doing it with [bool query][1]. Wrap your two range clauses inside it like\r\n\r\n    QueryBuilder qb = boolQuery()\r\n        .must(rangeQuery(&quot;max_duration&quot;).gte(duration))\r\n        .must(rangeQuery(&quot;min_duration&quot;).lte(duration));\r\n\r\n\r\nDoes this help?\r\n\r\n\r\n  [1]: https://github.com/elastic/elasticsearch/blob/master/docs/java-api/query-dsl/bool-query.asciidoc","title":"Range queries in Elasticsearch Java API","body":"<p>Try doing it with <a href=\"https://github.com/elastic/elasticsearch/blob/master/docs/java-api/query-dsl/bool-query.asciidoc\" rel=\"noreferrer\">bool query</a>. Wrap your two range clauses inside it like</p>\n\n<pre><code>QueryBuilder qb = boolQuery()\n    .must(rangeQuery(\"max_duration\").gte(duration))\n    .must(rangeQuery(\"min_duration\").lte(duration));\n</code></pre>\n\n<p>Does this help?</p>\n"}],"owner":{"account_id":1004774,"reputation":561,"user_id":1018818,"accept_rate":44,"display_name":"Arun Shyam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34802814,"answer_count":1,"score":1,"last_activity_date":1650371013,"creation_date":1452812463,"question_id":34801397,"body_markdown":"I have two fields in my ES index: `min_duration` and `max_duration`. I want to create a query to find all the documents for input `duration` such that :\r\n\r\n`min_duration&lt;=duration&lt;=max_duration`\r\n\r\nFor example if `duration` is 30 seconds then I should get all docs having `min_duration` less than eq to `duration` and `duration` less than eq to `max_duration`.\r\n\r\nI am using ES Java API and seems like range filter is the way to go. I have constructed the range filter as follows:\r\n\r\n    val filter = FilterBuilders.andFilter( FilterBuilders.rangeFilter(&quot;min_duration&quot;).lte(duration),FilterBuilders.rangeFilter(&quot;max_duration&quot;).gte(duration))\r\n\r\nThough it still not seems to work for me. Is it the correct way to build this type of query or am I missing something?\r\n\r\nThanks. ","title":"Range queries in Elasticsearch Java API","body":"<p>I have two fields in my ES index: <code>min_duration</code> and <code>max_duration</code>. I want to create a query to find all the documents for input <code>duration</code> such that :</p>\n\n<p><code>min_duration&lt;=duration&lt;=max_duration</code></p>\n\n<p>For example if <code>duration</code> is 30 seconds then I should get all docs having <code>min_duration</code> less than eq to <code>duration</code> and <code>duration</code> less than eq to <code>max_duration</code>.</p>\n\n<p>I am using ES Java API and seems like range filter is the way to go. I have constructed the range filter as follows:</p>\n\n<pre><code>val filter = FilterBuilders.andFilter( FilterBuilders.rangeFilter(\"min_duration\").lte(duration),FilterBuilders.rangeFilter(\"max_duration\").gte(duration))\n</code></pre>\n\n<p>Though it still not seems to work for me. Is it the correct way to build this type of query or am I missing something?</p>\n\n<p>Thanks. </p>\n"},{"tags":["java","class","methods"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1561612383,"creation_date":1561612383,"answer_id":56784314,"question_id":56784266,"body_markdown":"There are a few issues with your posted code. The method should be named `milesToLaps` (not `MilesToLaps`). The method takes the user&#39;s input, and does not prompt. The method should return the result, not output it itself. And, I would multiply by 4 instead of dividing by `0.25`. Like,\r\n\r\n\r\n\tpublic static double milesToLaps(double userMiles) {\r\n\t\treturn userMiles * 4;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scnr = new Scanner(System.in);\r\n\t\tdouble userMiles = scnr.nextDouble();\r\n\t\tSystem.out.printf(&quot;%.2f%n&quot;, milesToLaps(userMiles));\r\n\t}","title":"How to fix/ learning help understanding basic method and classes, Java code and word Problem","body":"<p>There are a few issues with your posted code. The method should be named <code>milesToLaps</code> (not <code>MilesToLaps</code>). The method takes the user's input, and does not prompt. The method should return the result, not output it itself. And, I would multiply by 4 instead of dividing by <code>0.25</code>. Like,</p>\n\n<pre><code>public static double milesToLaps(double userMiles) {\n    return userMiles * 4;\n}\n\npublic static void main(String[] args) {\n    Scanner scnr = new Scanner(System.in);\n    double userMiles = scnr.nextDouble();\n    System.out.printf(\"%.2f%n\", milesToLaps(userMiles));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6949890,"reputation":163,"user_id":5332832,"display_name":"Abhishek Maurya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650370752,"creation_date":1561613837,"answer_id":56784550,"question_id":56784266,"body_markdown":"Please go through some basic java tutorials(JavaTpoint, Toutrialspoint etc.) where you can get a basic understanding of class, object, methods how these things works.\r\n\r\n    public static double MilesToLaps(double userMiles)\r\n    {\r\n        Scanner scnr = new Scanner(System.in);\r\n        System.out.println(&quot;Enter a number&quot;);\r\n        userMiles = scnr.nextDouble();\r\n\r\n        double x = (userMiles / 0.25);\r\n        return x;\r\n    }\r\n\r\n    public static void main(String[] args) \r\n    {\r\n        //LabProgram numMiles = new LabProgram(); this object not require because your calling method MilesToLaps() is static.\r\n    \tdouble result = MilesToLaps(5); // here in this method you need to pass a double type value.\r\n        System.out.println(&quot;user miles :&quot;+ result);\r\n    }","title":"How to fix/ learning help understanding basic method and classes, Java code and word Problem","body":"<p>Please go through some basic java tutorials(JavaTpoint, Toutrialspoint etc.) where you can get a basic understanding of class, object, methods how these things works.</p>\n<pre><code>public static double MilesToLaps(double userMiles)\n{\n    Scanner scnr = new Scanner(System.in);\n    System.out.println(&quot;Enter a number&quot;);\n    userMiles = scnr.nextDouble();\n\n    double x = (userMiles / 0.25);\n    return x;\n}\n\npublic static void main(String[] args) \n{\n    //LabProgram numMiles = new LabProgram(); this object not require because your calling method MilesToLaps() is static.\n    double result = MilesToLaps(5); // here in this method you need to pass a double type value.\n    System.out.println(&quot;user miles :&quot;+ result);\n}\n</code></pre>\n"}],"owner":{"account_id":15354108,"reputation":13,"user_id":11076864,"display_name":"Ryan Jarvis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2804,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":56784314,"answer_count":2,"score":0,"last_activity_date":1650370752,"creation_date":1561612140,"question_id":56784266,"body_markdown":"I&#39;m struggling on this problem, given that I&#39;m probably making a basic mistake or I haven&#39;t got a clue what I&#39;m doing. \r\n\r\nplatform being a `Zybook`\r\nthe problem reads: \r\nOne lap around a standard high-school running track is exactly `0.25` miles. Write a program that takes a number of miles as input, and outputs the number of `laps.Output` each `floating-point` value with two digits after the decimal point, which can be achieved as follows:\r\n\r\n    System.out.printf(&quot;%.2f&quot;, yourValue);\r\n\r\nYour program must define and call a method:\r\npublic static double \r\n\r\n    milesToLaps(double userMiles)\r\n\r\nIt gives off a couple of example input 1.5 -&gt; 6.00, 2.2 -&gt;8.80 etc.\r\n\r\nit gives you a start off of:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n\r\n    public static void main(String[] args) {\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nBelow I&#39;ve edited to this point, still I don&#39;t think I know what I&#39;m doing. However I&#39;ve gotten it down to one error which states that&gt; error: cannot find symbol `numMiles.printMilesToLaps(userMiles);`. I would like someone to tell me if I&#39;m doing this someway maybe correctly and or if they can solve this error, cause I&#39;ve completely redid the code multiple times, and I&#39;m at the point of giving up and never submitting it. \r\n\r\nalso sometimes I start to remove code that&#39;s supposed to be there, but at the same time doesn&#39;t make sense to the computer ex. being (return;), but maybe you can explain it in greater detail then the `zybook` or its checking system.\r\n\r\nThe code itself looked a bit neater, but I was forced to change it after the multiple errors. \r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n\r\n    public static double MilesToLaps(double userMiles){\r\n        Scanner scnr = new Scanner(System.in);\r\n        \r\n        userMiles = scnr.nextDouble();\r\n        \r\n        System.out.printf(&quot;%.2f&quot;, (userMiles / 0.25));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        LabProgram numMiles = new LabProgram();\r\n\r\n        numMiles.printMilesToLaps(userMiles);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;m getting constant cannot find symbol errors, mostly on the secondary public method. I could think I could fix this, but it wouldn&#39;t line up with the question parameters. \r\n\r\nI&#39;m usually only using the example input values in the input terminal.\r\n","title":"How to fix/ learning help understanding basic method and classes, Java code and word Problem","body":"<p>I'm struggling on this problem, given that I'm probably making a basic mistake or I haven't got a clue what I'm doing. </p>\n\n<p>platform being a <code>Zybook</code>\nthe problem reads: \nOne lap around a standard high-school running track is exactly <code>0.25</code> miles. Write a program that takes a number of miles as input, and outputs the number of <code>laps.Output</code> each <code>floating-point</code> value with two digits after the decimal point, which can be achieved as follows:</p>\n\n<pre><code>System.out.printf(\"%.2f\", yourValue);\n</code></pre>\n\n<p>Your program must define and call a method:\npublic static double </p>\n\n<pre><code>milesToLaps(double userMiles)\n</code></pre>\n\n<p>It gives off a couple of example input 1.5 -> 6.00, 2.2 ->8.80 etc.</p>\n\n<p>it gives you a start off of:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class LabProgram {\n\n    public static void main(String[] args) {\n\n    }\n}\n</code></pre>\n\n<p>Below I've edited to this point, still I don't think I know what I'm doing. However I've gotten it down to one error which states that> error: cannot find symbol <code>numMiles.printMilesToLaps(userMiles);</code>. I would like someone to tell me if I'm doing this someway maybe correctly and or if they can solve this error, cause I've completely redid the code multiple times, and I'm at the point of giving up and never submitting it. </p>\n\n<p>also sometimes I start to remove code that's supposed to be there, but at the same time doesn't make sense to the computer ex. being (return;), but maybe you can explain it in greater detail then the <code>zybook</code> or its checking system.</p>\n\n<p>The code itself looked a bit neater, but I was forced to change it after the multiple errors. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class LabProgram {\n\n    public static double MilesToLaps(double userMiles){\n        Scanner scnr = new Scanner(System.in);\n\n        userMiles = scnr.nextDouble();\n\n        System.out.printf(\"%.2f\", (userMiles / 0.25));\n    }\n\n    public static void main(String[] args) {\n\n        LabProgram numMiles = new LabProgram();\n\n        numMiles.printMilesToLaps(userMiles);\n    }\n}\n\n</code></pre>\n\n<p>I'm getting constant cannot find symbol errors, mostly on the secondary public method. I could think I could fix this, but it wouldn't line up with the question parameters. </p>\n\n<p>I'm usually only using the example input values in the input terminal.</p>\n"},{"tags":["java","lambda","option-type"],"comments":[{"owner":{"account_id":1479533,"reputation":689,"user_id":1389221,"accept_rate":60,"display_name":"Krishnanunni P V"},"score":0,"creation_date":1483621509,"post_id":41485751,"comment_id":70176614,"body_markdown":"Possible duplicate of [Proper usage of Optional.ifPresent()](http://stackoverflow.com/questions/24228279/proper-usage-of-optional-ifpresent)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/24228279/proper-usage-of-optional-ifpresent\">Proper usage of Optional.ifPresent()</a>"}],"answers":[{"tags":[],"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1483621510,"creation_date":1483621510,"answer_id":41485888,"question_id":41485751,"body_markdown":"Use the `map`-function instead. It transforms the value inside the optional.\r\n\r\nLike this:\r\n\r\n    private String getStringIfObjectIsPresent(Optional&lt;Object&gt; object) {\r\n        return object.map(() -&gt; {\r\n            String result = &quot;result&quot;;\r\n            //some logic with result and return it\r\n            return result;\r\n        }).orElseThrow(MyCustomException::new);\r\n    }","title":"Java 8 optional: ifPresent return object orElseThrow exception","body":"<p>Use the <code>map</code>-function instead. It transforms the value inside the optional.</p>\n\n<p>Like this:</p>\n\n<pre><code>private String getStringIfObjectIsPresent(Optional&lt;Object&gt; object) {\n    return object.map(() -&gt; {\n        String result = \"result\";\n        //some logic with result and return it\n        return result;\n    }).orElseThrow(MyCustomException::new);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":106,"is_accepted":true,"score":106,"last_activity_date":1483626783,"creation_date":1483621519,"answer_id":41485894,"question_id":41485751,"body_markdown":"Actually what you are searching is: [Optional.map][1]. Your code would then look like:\r\n\r\n    object.map(o -&gt; &quot;result&quot; /* or your function */)\r\n          .orElseThrow(MyCustomException::new);\r\n\r\nI would rather omit passing the `Optional` if you can. In the end you gain nothing using an `Optional` here. A slightly other variant:\r\n\r\n    public String getString(Object yourObject) {\r\n      if (Objects.isNull(yourObject)) { // or use requireNonNull instead if NullPointerException suffices\r\n         throw new MyCustomException();\r\n      }\r\n      String result = ...\r\n      // your string mapping function\r\n      return result;\r\n    }\r\n\r\nIf you already have the `Optional`-object due to another call, I would still recommend you to use the `map`-method, instead of `isPresent`, etc. for the single reason, that I find it more readable (clearly a subjective decision ;-)).\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-","title":"Java 8 optional: ifPresent return object orElseThrow exception","body":"<p>Actually what you are searching is: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-\" rel=\"noreferrer\">Optional.map</a>. Your code would then look like:</p>\n\n<pre><code>object.map(o -&gt; \"result\" /* or your function */)\n      .orElseThrow(MyCustomException::new);\n</code></pre>\n\n<p>I would rather omit passing the <code>Optional</code> if you can. In the end you gain nothing using an <code>Optional</code> here. A slightly other variant:</p>\n\n<pre><code>public String getString(Object yourObject) {\n  if (Objects.isNull(yourObject)) { // or use requireNonNull instead if NullPointerException suffices\n     throw new MyCustomException();\n  }\n  String result = ...\n  // your string mapping function\n  return result;\n}\n</code></pre>\n\n<p>If you already have the <code>Optional</code>-object due to another call, I would still recommend you to use the <code>map</code>-method, instead of <code>isPresent</code>, etc. for the single reason, that I find it more readable (clearly a subjective decision ;-)).</p>\n"},{"tags":[],"owner":{"account_id":4073057,"reputation":3037,"user_id":3441063,"display_name":"Vlad Bochenin"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1483621740,"creation_date":1483621740,"answer_id":41485975,"question_id":41485751,"body_markdown":"Two options here:\r\n\r\nReplace `ifPresent` with `map` and use `Function` instead of `Consumer`\r\n\r\n    private String getStringIfObjectIsPresent(Optional&lt;Object&gt; object) {\r\n        return object\r\n                .map(obj -&gt; {\r\n                    String result = &quot;result&quot;;\r\n                    //some logic with result and return it\r\n                    return result;\r\n                })\r\n                .orElseThrow(MyCustomException::new);\r\n    }\r\n\r\nUse `isPresent`:\r\n\r\n    private String getStringIfObjectIsPresent(Optional&lt;Object&gt; object) {\r\n        if (object.isPresent()) {\r\n            String result = &quot;result&quot;;\r\n            //some logic with result and return it\r\n            return result;\r\n        } else {\r\n            throw new MyCustomException();\r\n        }\r\n    }","title":"Java 8 optional: ifPresent return object orElseThrow exception","body":"<p>Two options here:</p>\n\n<p>Replace <code>ifPresent</code> with <code>map</code> and use <code>Function</code> instead of <code>Consumer</code></p>\n\n<pre><code>private String getStringIfObjectIsPresent(Optional&lt;Object&gt; object) {\n    return object\n            .map(obj -&gt; {\n                String result = \"result\";\n                //some logic with result and return it\n                return result;\n            })\n            .orElseThrow(MyCustomException::new);\n}\n</code></pre>\n\n<p>Use <code>isPresent</code>:</p>\n\n<pre><code>private String getStringIfObjectIsPresent(Optional&lt;Object&gt; object) {\n    if (object.isPresent()) {\n        String result = \"result\";\n        //some logic with result and return it\n        return result;\n    } else {\n        throw new MyCustomException();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":411559,"reputation":3015,"user_id":784088,"accept_rate":50,"display_name":"iamiddy"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1483623364,"creation_date":1483623364,"answer_id":41486500,"question_id":41485751,"body_markdown":"I&#39;d prefer mapping after making sure the value is available\r\n\r\n    private String getStringIfObjectIsPresent(Optional&lt;Object&gt; object) {\r\n       Object ob = object.orElseThrow(MyCustomException::new);\r\n        // do your mapping with ob\r\n       String result = your-map-function(ob);\r\n      return result;\r\n    }\r\n\r\nor one liner\r\n\r\n    private String getStringIfObjectIsPresent(Optional&lt;Object&gt; object) {\r\n       return your-map-function(object.orElseThrow(MyCustomException::new));\r\n    }\r\n\r\n","title":"Java 8 optional: ifPresent return object orElseThrow exception","body":"<p>I'd prefer mapping after making sure the value is available</p>\n\n<pre><code>private String getStringIfObjectIsPresent(Optional&lt;Object&gt; object) {\n   Object ob = object.orElseThrow(MyCustomException::new);\n    // do your mapping with ob\n   String result = your-map-function(ob);\n  return result;\n}\n</code></pre>\n\n<p>or one liner</p>\n\n<pre><code>private String getStringIfObjectIsPresent(Optional&lt;Object&gt; object) {\n   return your-map-function(object.orElseThrow(MyCustomException::new));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15651161,"reputation":73,"user_id":11292515,"display_name":"Ryan Zheng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650370328,"creation_date":1650370328,"answer_id":71924738,"question_id":41485751,"body_markdown":"The example u put is not a good example. Optional shouldn&#39;t be sent as parameter into another function. Good practice is always sending non-null parameter into function. So that we know always that the input will not be null. This can decrease our code uncertainty.","title":"Java 8 optional: ifPresent return object orElseThrow exception","body":"<p>The example u put is not a good example. Optional shouldn't be sent as parameter into another function. Good practice is always sending non-null parameter into function. So that we know always that the input will not be null. This can decrease our code uncertainty.</p>\n"}],"owner":{"account_id":3551933,"reputation":3290,"user_id":2966603,"accept_rate":36,"display_name":"RichardK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225644,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":41485894,"answer_count":5,"score":86,"last_activity_date":1650370328,"creation_date":1483621075,"question_id":41485751,"body_markdown":"I&#39;m trying to make something like this:\r\n\r\n     private String getStringIfObjectIsPresent(Optional&lt;Object&gt; object){\r\n            object.ifPresent(() -&gt;{\r\n                String result = &quot;result&quot;;\r\n                //some logic with result and return it\r\n                return result;\r\n            }).orElseThrow(MyCustomException::new);\r\n        }\r\n\r\nThis won&#39;t work, because ifPresent takes Consumer functional interface as parameter, which has void accept(T t). It cannot return any value. Is there any other way to do it ?\r\n","title":"Java 8 optional: ifPresent return object orElseThrow exception","body":"<p>I'm trying to make something like this:</p>\n\n<pre><code> private String getStringIfObjectIsPresent(Optional&lt;Object&gt; object){\n        object.ifPresent(() -&gt;{\n            String result = \"result\";\n            //some logic with result and return it\n            return result;\n        }).orElseThrow(MyCustomException::new);\n    }\n</code></pre>\n\n<p>This won't work, because ifPresent takes Consumer functional interface as parameter, which has void accept(T t). It cannot return any value. Is there any other way to do it ?</p>\n"},{"tags":["java","spring","tomcat","jdbctemplate"],"comments":[{"owner":{"account_id":1292806,"reputation":177,"user_id":1244555,"accept_rate":54,"display_name":"dodjavola"},"score":0,"creation_date":1662587786,"post_id":71924669,"comment_id":130043374,"body_markdown":"Have you ever solved this? I am running into similar issues now with Spring upgrade","body":"Have you ever solved this? I am running into similar issues now with Spring upgrade"}],"owner":{"account_id":24924715,"reputation":11,"user_id":18792631,"display_name":"shailesh singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650369999,"creation_date":1650369999,"question_id":71924669,"body_markdown":"In **Applicationcontext.xml** we are configuring the datasource for the db connection\r\n\r\n        &lt;bean id=&quot;dataSource&quot; class=&quot;xx.datasource.ConfigureDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot; /&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;${notification.central.ds.url}&quot; /&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;${notification.central.ds.username}&quot; /&gt;\r\n        &lt;property name=&quot;encryptedPassword&quot; value=&quot;di.tomcat.enc.NOTIFICATION_CENTRAL_DS&quot; /&gt;\r\n        &lt;property name=&quot;maxActive&quot; value=&quot;200&quot;/&gt;\r\n        &lt;property name=&quot;minIdle&quot; value=&quot;5&quot;/&gt;\r\n        &lt;property name=&quot;maxIdle&quot; value=&quot;200&quot;/&gt;\r\n        &lt;property name=&quot;initialSize&quot; value=&quot;0&quot;/&gt;\r\n        &lt;property name=&quot;removeAbandonedTimeout&quot; value=&quot;180&quot;/&gt;\r\n        &lt;property name=&quot;removeAbandoned&quot; value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;logAbandoned&quot; value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;180000&quot;/&gt;\r\n        &lt;property name=&quot;jmxEnabled&quot; value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;testOnBorrow&quot; value=&quot;false&quot;/&gt;\r\n        &lt;property name=&quot;testOnConnect&quot; value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;validationQuery&quot; value=&quot;select 1 from dual&quot;/&gt;\r\n        &lt;property name=&quot;validationInterval&quot; value=&quot;20000&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nConfigureDataSource is a custom class used for the connection pool.\r\n\r\n\r\n\r\n\r\n\r\n    public class ConfigureDataSource extends DataSource implements InitializingBean {\r\n    final static XLogger logger = XLoggerFactory.getXLogger(ConfigureDataSource.class);\r\n    private PropertyReplacerUtil util = null;\r\n    private String encryptedPassword;\r\n\r\n    public ConfigureDataSource() throws TomcatutilException {\r\n        util = new PropertyReplacerUtil();\r\n    }\r\n\r\n    public String getEncryptedPassword() {\r\n        return encryptedPassword;\r\n    }\r\n\r\n    public void setEncryptedPassword(String encryptedPassword) {\r\n        this.encryptedPassword = encryptedPassword;\r\n    }\r\n\r\n    @Override\r\n    public void afterPropertiesSet() {\r\n        logger.entry();\r\n        try {\r\n            logger.info(&quot;password for decryption &quot;, this.encryptedPassword);\r\n\r\n            String pass = util.decryptFromKeyStore(this.encryptedPassword);\r\n            setPassword(pass);\r\n            logger.info(&quot;password decrypted and set successfully&quot;);\r\n            String jdbcInterceptors = new StringBuilder(&quot;org.apache.tomcat.jdbc.pool.interceptor.ConnectionState;org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer(trace=true);StatementCache(prepared=true,callable=false,max=100)&quot;).toString();\r\n            setJdbcInterceptors(jdbcInterceptors);\r\n        } catch (Exception e) {\r\n            logger.error(&quot;exception while decrypting the encrypted string in application.properties&quot;, e.getLocalizedMessage() + e.getCause());\r\n        }\r\n    }\r\n\r\n}\r\n\r\ni have used the tomcat-jdbc:9.05 and tomcat-utili:9.05 version in pom.xml\r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n          &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n          &lt;version&gt;9.0.5&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n          &lt;artifactId&gt;tomcat-juli&lt;/artifactId&gt;\r\n          &lt;version&gt;9.0.5&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n          &lt;artifactId&gt;tomcat-util&lt;/artifactId&gt;\r\n          &lt;version&gt;9.0.5&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nwhen i tried first with update API then it worked fine, but 2nd time it throws the below error. Not sure why connection pool is getting closed or connection getting closed.\r\nplease let me know any help.\r\n\r\n\r\nCaused by: java.sql.SQLException: PooledConnection has already been closed.\r\n        at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:87)\r\n        at com.sun.proxy.$Proxy90.getMetaData(Unknown Source)\r\n        at org.springframework.jdbc.core.StatementCreatorUtils.setNull(StatementCreatorUtils.java:259)\r\n        at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:229)\r\n        at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:163)\r\n        at org.springframework.jdbc.core.ArgumentPreparedStatementSetter.doSetValue(ArgumentPreparedStatementSetter.java:69)\r\n        at org.springframework.jdbc.core.ArgumentPreparedStatementSetter.setValues(ArgumentPreparedStatementSetter.java:50)\r\n        at org.springframework.jdbc.core.JdbcTemplate.lambda$update$0(JdbcTemplate.java:865)\r\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:617)","title":"while upgrading the spring 4.x to 5.x and then &quot;Getting error Caused by: java.sql.SQLException: PooledConnection has already been closed&quot;","body":"<p>In <strong>Applicationcontext.xml</strong> we are configuring the datasource for the db connection</p>\n<pre><code>    &lt;bean id=&quot;dataSource&quot; class=&quot;xx.datasource.ConfigureDataSource&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot; /&gt;\n    &lt;property name=&quot;url&quot; value=&quot;${notification.central.ds.url}&quot; /&gt;\n    &lt;property name=&quot;username&quot; value=&quot;${notification.central.ds.username}&quot; /&gt;\n    &lt;property name=&quot;encryptedPassword&quot; value=&quot;di.tomcat.enc.NOTIFICATION_CENTRAL_DS&quot; /&gt;\n    &lt;property name=&quot;maxActive&quot; value=&quot;200&quot;/&gt;\n    &lt;property name=&quot;minIdle&quot; value=&quot;5&quot;/&gt;\n    &lt;property name=&quot;maxIdle&quot; value=&quot;200&quot;/&gt;\n    &lt;property name=&quot;initialSize&quot; value=&quot;0&quot;/&gt;\n    &lt;property name=&quot;removeAbandonedTimeout&quot; value=&quot;180&quot;/&gt;\n    &lt;property name=&quot;removeAbandoned&quot; value=&quot;true&quot;/&gt;\n    &lt;property name=&quot;logAbandoned&quot; value=&quot;true&quot;/&gt;\n    &lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;180000&quot;/&gt;\n    &lt;property name=&quot;jmxEnabled&quot; value=&quot;true&quot;/&gt;\n    &lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot;/&gt;\n    &lt;property name=&quot;testOnBorrow&quot; value=&quot;false&quot;/&gt;\n    &lt;property name=&quot;testOnConnect&quot; value=&quot;true&quot;/&gt;\n    &lt;property name=&quot;validationQuery&quot; value=&quot;select 1 from dual&quot;/&gt;\n    &lt;property name=&quot;validationInterval&quot; value=&quot;20000&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>ConfigureDataSource is a custom class used for the connection pool.</p>\n<pre><code>public class ConfigureDataSource extends DataSource implements InitializingBean {\nfinal static XLogger logger = XLoggerFactory.getXLogger(ConfigureDataSource.class);\nprivate PropertyReplacerUtil util = null;\nprivate String encryptedPassword;\n\npublic ConfigureDataSource() throws TomcatutilException {\n    util = new PropertyReplacerUtil();\n}\n\npublic String getEncryptedPassword() {\n    return encryptedPassword;\n}\n\npublic void setEncryptedPassword(String encryptedPassword) {\n    this.encryptedPassword = encryptedPassword;\n}\n\n@Override\npublic void afterPropertiesSet() {\n    logger.entry();\n    try {\n        logger.info(&quot;password for decryption &quot;, this.encryptedPassword);\n\n        String pass = util.decryptFromKeyStore(this.encryptedPassword);\n        setPassword(pass);\n        logger.info(&quot;password decrypted and set successfully&quot;);\n        String jdbcInterceptors = new StringBuilder(&quot;org.apache.tomcat.jdbc.pool.interceptor.ConnectionState;org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer(trace=true);StatementCache(prepared=true,callable=false,max=100)&quot;).toString();\n        setJdbcInterceptors(jdbcInterceptors);\n    } catch (Exception e) {\n        logger.error(&quot;exception while decrypting the encrypted string in application.properties&quot;, e.getLocalizedMessage() + e.getCause());\n    }\n}\n</code></pre>\n<p>}</p>\n<p>i have used the tomcat-jdbc:9.05 and tomcat-utili:9.05 version in pom.xml</p>\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n      &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n      &lt;version&gt;9.0.5&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n      &lt;artifactId&gt;tomcat-juli&lt;/artifactId&gt;\n      &lt;version&gt;9.0.5&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n      &lt;artifactId&gt;tomcat-util&lt;/artifactId&gt;\n      &lt;version&gt;9.0.5&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>when i tried first with update API then it worked fine, but 2nd time it throws the below error. Not sure why connection pool is getting closed or connection getting closed.\nplease let me know any help.</p>\n<p>Caused by: java.sql.SQLException: PooledConnection has already been closed.\nat org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:87)\nat com.sun.proxy.$Proxy90.getMetaData(Unknown Source)\nat org.springframework.jdbc.core.StatementCreatorUtils.setNull(StatementCreatorUtils.java:259)\nat org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:229)\nat org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:163)\nat org.springframework.jdbc.core.ArgumentPreparedStatementSetter.doSetValue(ArgumentPreparedStatementSetter.java:69)\nat org.springframework.jdbc.core.ArgumentPreparedStatementSetter.setValues(ArgumentPreparedStatementSetter.java:50)\nat org.springframework.jdbc.core.JdbcTemplate.lambda$update$0(JdbcTemplate.java:865)\nat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:617)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1650369934,"post_id":71923893,"comment_id":127094019,"body_markdown":"Your second format with `[&quot;text&quot;: &quot;Values&quot;, &quot;text2&quot; : &quot;Values&quot;]` is invalid JSON. Square brackets are used for arrays, not objects with key-value pairs. Did you actually mean `{&quot;text&quot;: &quot;Values&quot;, &quot;text2&quot; : &quot;Values&quot;}`?","body":"Your second format with <code>[&quot;text&quot;: &quot;Values&quot;, &quot;text2&quot; : &quot;Values&quot;]</code> is invalid JSON. Square brackets are used for arrays, not objects with key-value pairs. Did you actually mean <code>{&quot;text&quot;: &quot;Values&quot;, &quot;text2&quot; : &quot;Values&quot;}</code>?"}],"answers":[{"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650369990,"creation_date":1650369634,"answer_id":71924606,"question_id":71923893,"body_markdown":"**Welll.. you shouldn&#39;t do that in the first place.**\r\n\r\nBut sometimes there is a case when some badly written rest api will return something like that. I have one solution which we are using **only** for parsing and sending through data. \r\n\r\nSo it works for us, but may not work for you\r\n\r\n    public class ListOrNotList {\r\n      protected ListOrNotList() {\r\n\r\n      }\r\n\r\n      protected String get(Object item) {\r\n        if (item instanceof String) {\r\n            return (String)item;\r\n        } else if (item instanceof List) {\r\n            for (Object it : (List)item) {\r\n                if (it instanceof LinkedHashMap) {\r\n                    LinkedHashMap hashMap = (LinkedHashMap) it;\r\n                    if (hashMap.containsKey(&quot;value&quot;)) {\r\n                        Object value = hashMap.get(&quot;value&quot;);\r\n                        if (value == null) {\r\n                            return null;\r\n                        }\r\n                        return value.toString();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n      }\r\n    }\r\n\r\nThen you make your class MyClass which extends from ListOrNotList \r\n\r\n    public class MyClass extends ListOrNotList {\r\n      private Object myText;\r\n\r\n      public String getMyText() {\r\n        return get(myText); //This is method from ListOrNotList class\r\n      }\r\n    }\r\n\r\n**This is not 100% working solution for OP, just an idea how it can be handled**\r\n\r\nIn this example get function returns string or first element from List\r\n\r\nyou could also implement casting to T type in that method if you have a specific type and want to use any operations on it.\r\n\r\n\r\n**If you are creating api yourself then don&#39;t do things like returning different datatypes with the same name, it&#39;s bad practice and will harm development when anyone will try to integrate it in an app (including you after few months)**","title":"Create a class with JSON conditionally format","body":"<p><strong>Welll.. you shouldn't do that in the first place.</strong></p>\n<p>But sometimes there is a case when some badly written rest api will return something like that. I have one solution which we are using <strong>only</strong> for parsing and sending through data.</p>\n<p>So it works for us, but may not work for you</p>\n<pre><code>public class ListOrNotList {\n  protected ListOrNotList() {\n\n  }\n\n  protected String get(Object item) {\n    if (item instanceof String) {\n        return (String)item;\n    } else if (item instanceof List) {\n        for (Object it : (List)item) {\n            if (it instanceof LinkedHashMap) {\n                LinkedHashMap hashMap = (LinkedHashMap) it;\n                if (hashMap.containsKey(&quot;value&quot;)) {\n                    Object value = hashMap.get(&quot;value&quot;);\n                    if (value == null) {\n                        return null;\n                    }\n                    return value.toString();\n                }\n            }\n        }\n    }\n    return null;\n  }\n}\n</code></pre>\n<p>Then you make your class MyClass which extends from ListOrNotList</p>\n<pre><code>public class MyClass extends ListOrNotList {\n  private Object myText;\n\n  public String getMyText() {\n    return get(myText); //This is method from ListOrNotList class\n  }\n}\n</code></pre>\n<p><strong>This is not 100% working solution for OP, just an idea how it can be handled</strong></p>\n<p>In this example get function returns string or first element from List</p>\n<p>you could also implement casting to T type in that method if you have a specific type and want to use any operations on it.</p>\n<p><strong>If you are creating api yourself then don't do things like returning different datatypes with the same name, it's bad practice and will harm development when anyone will try to integrate it in an app (including you after few months)</strong></p>\n"}],"owner":{"account_id":10733820,"reputation":47,"user_id":11118861,"display_name":"jodevelofer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650369990,"creation_date":1650366246,"question_id":71923893,"body_markdown":"how can i convert this field in to Java Class field where `myText` field can be conditionally one of this format:\r\n\r\n \r\n\r\n        {\r\n           &quot;myText&quot; : &quot;Values\r\n        }\r\n    \r\n    \r\n        {\r\n           &quot;myText&quot; : [&quot;text&quot;: &quot;Values&quot;, &quot;text2&quot; : &quot;Values&quot;]\r\n        }\r\n\r\n\r\n    public class MyClass {\r\n    \r\n       private String myText;\r\n\r\n       //or \r\n\r\n       private MyText myText;\r\n    \r\n    }\r\n\r\n    public class MyText {\r\n\r\n        private String text1;\r\n        private String text2;\r\n\r\n    }","title":"Create a class with JSON conditionally format","body":"<p>how can i convert this field in to Java Class field where <code>myText</code> field can be conditionally one of this format:</p>\n<pre><code>    {\n       &quot;myText&quot; : &quot;Values\n    }\n\n\n    {\n       &quot;myText&quot; : [&quot;text&quot;: &quot;Values&quot;, &quot;text2&quot; : &quot;Values&quot;]\n    }\n\n\npublic class MyClass {\n\n   private String myText;\n\n   //or \n\n   private MyText myText;\n\n}\n\npublic class MyText {\n\n    private String text1;\n    private String text2;\n\n}\n</code></pre>\n"},{"tags":["java","annotations","java-17"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1650032321,"post_id":71885000,"comment_id":127027573,"body_markdown":"I have a counter-question: why do you think it should work? Does Lombok provide a mechanism supporting custom annotations to generate boilerplate just like you want it to be? I haven&#39;t heard of such magic, to be honest. Also, `@lombok.Getter` does exactly what you&#39;re trying to achieve.","body":"I have a counter-question: why do you think it should work? Does Lombok provide a mechanism supporting custom annotations to generate boilerplate just like you want it to be? I haven&#39;t heard of such magic, to be honest. Also, <code>@lombok.Getter</code> does exactly what you&#39;re trying to achieve."},{"owner":{"account_id":24872142,"reputation":1,"user_id":18746527,"display_name":"Retroviler"},"score":0,"creation_date":1650109017,"post_id":71885000,"comment_id":127041612,"body_markdown":"@terrorrussia-keeps-killing, Omg, for the sake of 1 annotation, okay 2x, load the whole library? Silly at least.","body":"@terrorrussia-keeps-killing, Omg, for the sake of 1 annotation, okay 2x, load the whole library? Silly at least."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":2,"creation_date":1650115352,"post_id":71885000,"comment_id":127042798,"body_markdown":"The thing that makes the lombok annotations work is the annotation processor that uses reflection to modify the compiler&#39;s AST. This is not something that can be easily replicated (and I wouldn&#39;t recommend doing that either way, since it&#39;s dependent on compiler internals). But if you&#39;re interested the source code is available: https://github.com/projectlombok/lombok","body":"The thing that makes the lombok annotations work is the annotation processor that uses reflection to modify the compiler&#39;s AST. This is not something that can be easily replicated (and I wouldn&#39;t recommend doing that either way, since it&#39;s dependent on compiler internals). But if you&#39;re interested the source code is available: <a href=\"https://github.com/projectlombok/lombok\" rel=\"nofollow noreferrer\">github.com/projectlombok/lombok</a>"},{"owner":{"account_id":24872142,"reputation":1,"user_id":18746527,"display_name":"Retroviler"},"score":0,"creation_date":1650124701,"post_id":71885000,"comment_id":127044796,"body_markdown":"@JornVernee, Yes, I already understood. It&#39;s better not to do that. Yes, and somehow suspicious, because the set and get methods can have different structures, and there a lot cannot be done without headaches. And it turns out a mess ... It&#39;s easier to create a set or get method. The experiment failed. =))","body":"@JornVernee, Yes, I already understood. It&#39;s better not to do that. Yes, and somehow suspicious, because the set and get methods can have different structures, and there a lot cannot be done without headaches. And it turns out a mess ... It&#39;s easier to create a set or get method. The experiment failed. =))"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1650129284,"post_id":71885000,"comment_id":127045752,"body_markdown":"You understand that such implementation must be implemented _somewhere_. There is no such thing in JDK, and if you don&#39;t use _the whole library_, who&#39;s going to generate the boilerplate code for you? Perhaps, your code/library then, right? Even more, nothing tells _what_ the `@Get` is supposed to do, so that I was asking _why_ you think it can do the magic for you. I can&#39;t see anything silly in using a tool that does a required job: `javac` compiles the code, Lombok adds some spice to vanilla Java, _your code_ implements its job too. Note that using Lombok is **zero** cost at runtime.","body":"You understand that such implementation must be implemented <i>somewhere</i>. There is no such thing in JDK, and if you don&#39;t use <i>the whole library</i>, who&#39;s going to generate the boilerplate code for you? Perhaps, your code/library then, right? Even more, nothing tells <i>what</i> the <code>@Get</code> is supposed to do, so that I was asking <i>why</i> you think it can do the magic for you. I can&#39;t see anything silly in using a tool that does a required job: <code>javac</code> compiles the code, Lombok adds some spice to vanilla Java, <i>your code</i> implements its job too. Note that using Lombok is <b>zero</b> cost at runtime."},{"owner":{"account_id":24872142,"reputation":1,"user_id":18746527,"display_name":"Retroviler"},"score":0,"creation_date":1650172311,"post_id":71885000,"comment_id":127051673,"body_markdown":"@terrorrussia-keeps-killing, Well, either I will write 1 method, or I will write `@Getter`.\nAgain, for methods that will have a separate structure, `@Getter` does not help. This is a pointless library. It&#39;s better not to use it. It&#39;s easier to write a regular `getName()` than to write `@Getter String name;`.","body":"@terrorrussia-keeps-killing, Well, either I will write 1 method, or I will write <code>@Getter</code>. Again, for methods that will have a separate structure, <code>@Getter</code> does not help. This is a pointless library. It&#39;s better not to use it. It&#39;s easier to write a regular <code>getName()</code> than to write <code>@Getter String name;</code>."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1650173873,"post_id":71885000,"comment_id":127051894,"body_markdown":"Obviously, there is no magic in real life, and if the structure of your method differs and the method payload cannot be configured, auto-generated method is not what you want. Lombok or similar tools are not @Get-only &quot;pointless&quot; tools,. The ironical thing here is that you asked why self-coined-up-@Get-magic does not work for you, but then you say that it&#39;s easier to write the boilerplate by hands. Well, nothing to add. Good luck!","body":"Obviously, there is no magic in real life, and if the structure of your method differs and the method payload cannot be configured, auto-generated method is not what you want. Lombok or similar tools are not @Get-only &quot;pointless&quot; tools,. The ironical thing here is that you asked why self-coined-up-@Get-magic does not work for you, but then you say that it&#39;s easier to write the boilerplate by hands. Well, nothing to add. Good luck!"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1650370142,"post_id":71885000,"comment_id":127094092,"body_markdown":"You might be better off using a `record`, e.g. `public record Test(int l) {}` gives you a `private int l;` field and a `public int l() { return l; }` accessor method *and* a `Test(int l) { this.l = l; }` constructor, as well as an `equals`, `hashCode`, and `toString()` method…","body":"You might be better off using a <code>record</code>, e.g. <code>public record Test(int l) {}</code> gives you a <code>private int l;</code> field and a <code>public int l() { return l; }</code> accessor method <i>and</i> a <code>Test(int l) { this.l = l; }</code> constructor, as well as an <code>equals</code>, <code>hashCode</code>, and <code>toString()</code> method…"},{"owner":{"account_id":24872142,"reputation":1,"user_id":18746527,"display_name":"Retroviler"},"score":0,"creation_date":1652069218,"post_id":71885000,"comment_id":127507784,"body_markdown":"@Holger, I decided not to even suffer from this when I need to do a setter and / or getter.","body":"@Holger, I decided not to even suffer from this when I need to do a setter and / or getter."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1652084913,"post_id":71885000,"comment_id":127511348,"body_markdown":"I don’t know what you’d suffer from when using a `record`. That’s a built-in language feature without any relationship to tools like Lombok. Of course, you can also go ahead with your own annotation approach and end up having reinvented Lombok. All for the sake of saving a few source characters. Though, I’ve seen examples on Stackoverflow, where the annotation consisted of more code than the generated feature would have needed when written manually…","body":"I don’t know what you’d suffer from when using a <code>record</code>. That’s a built-in language feature without any relationship to tools like Lombok. Of course, you can also go ahead with your own annotation approach and end up having reinvented Lombok. All for the sake of saving a few source characters. Though, I’ve seen examples on Stackoverflow, where the annotation consisted of more code than the generated feature would have needed when written manually…"}],"owner":{"account_id":24872142,"reputation":1,"user_id":18746527,"display_name":"Retroviler"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650369965,"creation_date":1650031345,"question_id":71885000,"body_markdown":"I&#39;m trying to make my own getter annotation, as it is done in `lombok`:\r\n\r\n    package testAnns.anns;\r\n    \r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n\r\n    @Target({ElementType.FIELD, ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface Get {\r\n        Access value() default Access.PUBLIC;\r\n        Value[] method() default {};\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @Target({})\r\n        @interface Value {}\r\n    }\r\n    \r\n\r\nTried to specify:\r\n\r\n    package testAnns;\r\n\r\n    import testAnns.anns.Get;\r\n    \r\n    public class TestAnns {\r\n       @Get public int l = 10;\r\n    }\r\n\r\nI try to call:\r\n\r\n    public static void main(String[] args) {\r\n        TestAnns ann = new TestAnns();\r\n        System.out.println(ann.getL()); // error\r\n    }\r\n\r\nNothing works.  \r\nWhat to do, how to be, why does not work?  \r\nConnoisseurs, please help me figure it out, I don’t understand why it doesn’t work ...\r\n\r\n","title":"How to create my own annotation, nothing works","body":"<p>I'm trying to make my own getter annotation, as it is done in <code>lombok</code>:</p>\n<pre><code>package testAnns.anns;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target({ElementType.FIELD, ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Get {\n    Access value() default Access.PUBLIC;\n    Value[] method() default {};\n    @Retention(RetentionPolicy.RUNTIME)\n    @Target({})\n    @interface Value {}\n}\n</code></pre>\n<p>Tried to specify:</p>\n<pre><code>package testAnns;\n\nimport testAnns.anns.Get;\n\npublic class TestAnns {\n   @Get public int l = 10;\n}\n</code></pre>\n<p>I try to call:</p>\n<pre><code>public static void main(String[] args) {\n    TestAnns ann = new TestAnns();\n    System.out.println(ann.getL()); // error\n}\n</code></pre>\n<p>Nothing works.<br />\nWhat to do, how to be, why does not work?<br />\nConnoisseurs, please help me figure it out, I don’t understand why it doesn’t work ...</p>\n"},{"tags":["java","android","nfc"],"answers":[{"tags":[],"owner":{"account_id":5097603,"reputation":143,"user_id":4088378,"display_name":"Warabei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411913688,"creation_date":1411913243,"answer_id":26085696,"question_id":26084781,"body_markdown":"Maybe the best possible approach will be calling the setIntent() function on the received intent while executing onNewIntent() of an Activity and retreiving it back via getActivity().getIntent() during a fragment lifecycle.\r\nUpd: \r\nAlso you can use the pattern Observer to dispatch intent receiving events immediately to the registered fragments. Then you can obtain required data from getActivity().getIntent().","title":"onNewIntent in Fragments in android","body":"<p>Maybe the best possible approach will be calling the setIntent() function on the received intent while executing onNewIntent() of an Activity and retreiving it back via getActivity().getIntent() during a fragment lifecycle.\nUpd: \nAlso you can use the pattern Observer to dispatch intent receiving events immediately to the registered fragments. Then you can obtain required data from getActivity().getIntent().</p>\n"},{"tags":[],"owner":{"account_id":4608033,"reputation":9671,"user_id":3736955,"accept_rate":71,"display_name":"Jemshit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1417723616,"creation_date":1417723616,"answer_id":27303058,"question_id":26084781,"body_markdown":"According to here (https://stackoverflow.com/a/5320694/3736955), you cant catch NFC intent by BroadcastReceiver. The only way to handle it is by ForegroundDispatch and onNewIntent() function within activity. When NFC Tag is tapped, it looks for foreground activity to handle him.","title":"onNewIntent in Fragments in android","body":"<p>According to here (<a href=\"https://stackoverflow.com/a/5320694/3736955\">https://stackoverflow.com/a/5320694/3736955</a>), you cant catch NFC intent by BroadcastReceiver. The only way to handle it is by ForegroundDispatch and onNewIntent() function within activity. When NFC Tag is tapped, it looks for foreground activity to handle him.</p>\n"}],"owner":{"display_name":"user3421416"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3925,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":27303058,"answer_count":2,"score":2,"last_activity_date":1650369949,"creation_date":1411906680,"question_id":26084781,"body_markdown":"I am trying to develop a NFC application. I need to recognize the NFC TAG from the `OnNewIntent` that in the `Activity` class. Now I need to move and use fragments and not activity. Is their a way to replace the `onNewIntent` in the fragment class?","title":"onNewIntent in Fragments in android","body":"<p>I am trying to develop a NFC application. I need to recognize the NFC TAG from the <code>OnNewIntent</code> that in the <code>Activity</code> class. Now I need to move and use fragments and not activity. Is their a way to replace the <code>onNewIntent</code> in the fragment class?</p>\n"},{"tags":["java","testing","mobile","java-me","emulation"],"answers":[{"tags":[],"owner":{"account_id":227021,"reputation":14353,"user_id":488433,"accept_rate":94,"display_name":"bharath"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1325851787,"creation_date":1295585574,"answer_id":4755509,"question_id":4748269,"body_markdown":"you can download the Emulators for testing from following sites,\r\n\r\n[Sprint SDK][1]\r\n\r\n\r\n[Sony Ericsson SDK][2]\r\n\r\n\r\n[Samsung SDK][3]\r\n\r\n\r\n&lt;STRIKE&gt;[Motorola SDK][4]&lt;/STRIKE&gt;   [ Link not found. ] \r\n\r\n\r\n[Nokia SDK][5]\r\n\r\n[Oracle Java ME SDK][7]\r\n\r\n\r\nAnd you can also test your application on Nokia RDA devices. see this site.\r\n\r\n[Nokia RDA devices][6]\r\n\r\n\r\n  [1]: http://developer.sprint.com/site/global/develop/mobile_platforms/java_me/javame.jsp\r\n  [2]: http://developer.sonyericsson.com/wportal/devworld/downloads?cc=gb&amp;lc=en\r\n  [3]: http://innovator.samsungmobile.com/\r\n  [4]: http://developer.motorola.com/docstools/sdks/\r\n  [5]: http://www.forum.nokia.com/Library/Tools_and_downloads/\r\n  [6]: http://www.forum.nokia.com/Devices/Remote_device_access/\r\n  [7]: http://www.oracle.com/technetwork/java/javame/index.html","title":"Is there any mobile testing tools?","body":"<p>you can download the Emulators for testing from following sites,</p>\n\n<p><a href=\"http://developer.sprint.com/site/global/develop/mobile_platforms/java_me/javame.jsp\" rel=\"nofollow\">Sprint SDK</a></p>\n\n<p><a href=\"http://developer.sonyericsson.com/wportal/devworld/downloads?cc=gb&amp;lc=en\" rel=\"nofollow\">Sony Ericsson SDK</a></p>\n\n<p><a href=\"http://innovator.samsungmobile.com/\" rel=\"nofollow\">Samsung SDK</a></p>\n\n<p><STRIKE><a href=\"http://developer.motorola.com/docstools/sdks/\" rel=\"nofollow\">Motorola SDK</a></STRIKE>   [ Link not found. ] </p>\n\n<p><a href=\"http://www.forum.nokia.com/Library/Tools_and_downloads/\" rel=\"nofollow\">Nokia SDK</a></p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javame/index.html\" rel=\"nofollow\">Oracle Java ME SDK</a></p>\n\n<p>And you can also test your application on Nokia RDA devices. see this site.</p>\n\n<p><a href=\"http://www.forum.nokia.com/Devices/Remote_device_access/\" rel=\"nofollow\">Nokia RDA devices</a></p>\n"}],"owner":{"account_id":263368,"reputation":1068,"user_id":548868,"accept_rate":55,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":920,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1650459219,"accepted_answer_id":4755509,"answer_count":1,"score":1,"last_activity_date":1650369898,"creation_date":1295533481,"question_id":4748269,"body_markdown":"I want to ask about a tool or software to test j2me mobile app. On\r\ndifferent screens and different devices.\r\n\r\nAlso if available to test if application not certified or try to steal user data\r\n\r\nPreferred free if exist.","title":"Is there any mobile testing tools?","body":"<p>I want to ask about a tool or software to test j2me mobile app. On\ndifferent screens and different devices.</p>\n\n<p>Also if available to test if application not certified or try to steal user data</p>\n\n<p>Preferred free if exist.</p>\n"},{"tags":["java","maven","plexus"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1648840355,"post_id":71711729,"comment_id":126734879,"body_markdown":"CVE are critical vulnerabilities that you need to update out of as _fast_ as possible. In this case, https://nvd.nist.gov/vuln/detail/CVE-2017-1000487, which applies to all versions of Plexus-utils prior to version 3.0.16 - In this case, Maven relies on plexus, and the version of maven you&#39;re using wants 2.0.4, which is critically vulnerable.","body":"CVE are critical vulnerabilities that you need to update out of as <i>fast</i> as possible. In this case, <a href=\"https://nvd.nist.gov/vuln/detail/CVE-2017-1000487\" rel=\"nofollow noreferrer\">nvd.nist.gov/vuln/detail/CVE-2017-1000487</a>, which applies to all versions of Plexus-utils prior to version 3.0.16 - In this case, Maven relies on plexus, and the version of maven you&#39;re using wants 2.0.4, which is critically vulnerable."},{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1648840640,"post_id":71711729,"comment_id":126734937,"body_markdown":"It is probably telling you about the various versions - do you mind attaching the full output of what is being flagged as text please? Regarding fixing it, you just need to exclude it from `org.apache.maven.plugins:maven-clean-plugin` and manually update the dependency to the newer version.","body":"It is probably telling you about the various versions - do you mind attaching the full output of what is being flagged as text please? Regarding fixing it, you just need to exclude it from <code>org.apache.maven.plugins:maven-clean-plugin</code> and manually update the dependency to the newer version."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1649267157,"post_id":71711729,"comment_id":126834995,"body_markdown":"The best thing is to upgrade the nested version of the maven-clean-plugin (https://lists.apache.org/thread/2nwrsgqxndhnjqwstcool6t30hyx81wb) https://maven.apache.org/plugins/","body":"The best thing is to upgrade the nested version of the maven-clean-plugin (<a href=\"https://lists.apache.org/thread/2nwrsgqxndhnjqwstcool6t30hyx81wb\" rel=\"nofollow noreferrer\">lists.apache.org/thread/2nwrsgqxndhnjqwstcool6t30hyx81wb</a>) <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1649267571,"post_id":71711729,"comment_id":126835146,"body_markdown":"Understood, let me try that","body":"Understood, let me try that"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1649273125,"post_id":71711729,"comment_id":126836923,"body_markdown":"This is the correct answer, 3.2.0 does fix it, thanks","body":"This is the correct answer, 3.2.0 does fix it, thanks"}],"answers":[{"tags":[],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650369709,"creation_date":1650369709,"answer_id":71924618,"question_id":71711729,"body_markdown":"Credits to khmarbaise, upgrading to the latest Maven clean plugin 3.2.0 does fix this issue.","title":"Java Maven - CVE-2017-1000487 on plexus-utils-2.0.4.jar plexus-utils-3.0.10.jar","body":"<p>Credits to khmarbaise, upgrading to the latest Maven clean plugin 3.2.0 does fix this issue.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1051,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71924618,"answer_count":1,"score":0,"last_activity_date":1650369709,"creation_date":1648840085,"question_id":71711729,"body_markdown":"Small question regarding Java and maven please.\r\n\r\nWith a very simple project, reproducible 100%, with just this code snippet (please feel free to copy paste)\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.6&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cvequestion&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;project.type&gt;application&lt;/project.type&gt;\r\n        &lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\r\n        &lt;sonar.java.libraries&gt;target/&lt;/sonar.java.libraries&gt;\r\n        &lt;sonar.junit.reportsPaths&gt;target/reports/junit&lt;/sonar.junit.reportsPaths&gt;\r\n        &lt;sonar.language&gt;java&lt;/sonar.language&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2021.0.1&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-cassandra-reactive&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-kubernetes-fabric8&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-config-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-netty-http-brave&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resilience4j-micrometer&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resilience4j-reactor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-contract-verifier&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.lmax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;disruptor&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.statemachine&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-statemachine-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-admin-starter-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-webflux-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sslcontext-kickstart-for-netty&lt;/artifactId&gt;\r\n            &lt;version&gt;7.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                    &lt;reportsDirectory&gt;target/reports/junit&lt;/reportsDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;target/javadoc&lt;/outputDirectory&gt;\r\n                    &lt;reportOutputDirectory&gt;target/javadoc&lt;/reportOutputDirectory&gt;\r\n                    &lt;javadocExecutable&gt;${java.home}/bin/javadoc&lt;/javadocExecutable&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;javadoc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;site&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.9.1.2184&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.codehaus.woodstox&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;woodstox-core-asl&lt;/artifactId&gt;\r\n                        &lt;version&gt;4.4.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.5.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;target/reports/findbugs&lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.16.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;targetDirectory&gt;.out/reports/pmd&lt;/targetDirectory&gt;\r\n                    &lt;outputDirectory&gt;target/reports/pmd&lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputFile&gt;.out/reports/checkstyle/checkstyle-result.xml&lt;/outputFile&gt;\r\n                    &lt;outputDirectory&gt;target/reports/checkstyle&lt;/outputDirectory&gt;\r\n                    &lt;outputFileFormat&gt;xml&lt;/outputFileFormat&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\r\n                        &lt;version&gt;10.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.7&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;append&gt;true&lt;/append&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                            &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n                &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;withHistory&gt;true&lt;/withHistory&gt;\r\n                    &lt;threads&gt;16&lt;/threads&gt;\r\n                    &lt;outputFormats&gt;\r\n                        &lt;param&gt;XML&lt;/param&gt;\r\n                        &lt;param&gt;HTML&lt;/param&gt;\r\n                    &lt;/outputFormats&gt;\r\n                    &lt;mutators&gt;\r\n                        &lt;mutator&gt;CONDITIONALS_BOUNDARY&lt;/mutator&gt;\r\n                        &lt;mutator&gt;INCREMENTS&lt;/mutator&gt;\r\n                        &lt;mutator&gt;INVERT_NEGS&lt;/mutator&gt;\r\n                        &lt;mutator&gt;MATH&lt;/mutator&gt;\r\n                        &lt;mutator&gt;NEGATE_CONDITIONALS&lt;/mutator&gt;\r\n                        &lt;mutator&gt;EMPTY_RETURNS&lt;/mutator&gt;\r\n                        &lt;mutator&gt;FALSE_RETURNS&lt;/mutator&gt;\r\n                        &lt;mutator&gt;TRUE_RETURNS&lt;/mutator&gt;\r\n                        &lt;mutator&gt;PRIMITIVE_RETURNS&lt;/mutator&gt;\r\n                        &lt;mutator&gt;REMOVE_INCREMENTS&lt;/mutator&gt;\r\n                        &lt;mutator&gt;EXPERIMENTAL_BIG_INTEGER&lt;/mutator&gt;\r\n                        &lt;mutator&gt;EXPERIMENTAL_MEMBER_VARIABLE&lt;/mutator&gt;\r\n                        &lt;mutator&gt;EXPERIMENTAL_SWITCH&lt;/mutator&gt;\r\n                    &lt;/mutators&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;0.15&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;reporting&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jxr-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/reporting&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nand running this simple command: (please feel free to run)\r\n\r\n```\r\nmvn clean install dependency:tree -X\r\n```\r\n\r\nAfter feeding this to some static analysis (Black Duck, SonarQube, Dependency-check, etc...)\r\n\r\nI am being flagged with this CVE: \r\n\r\n**CVE-2017-1000487** on two jars : plexus-utils-2.0.4.jar plexus-utils-3.0.10.jar \r\n\r\nI am having a hard time understanding, since the output so far is:\r\n\r\n```\r\nINFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ cvequestion ---\r\n[DEBUG] Dependency collection stats: {ConflictMarker.analyzeTime=53001, ConflictMarker.markTime=16625, ConflictMarker.nodeCount=14, ConflictIdSorter.graphTime=30625, ConflictIdSorter.topsortTime=11493, ConflictIdSorter.conflictIdCount=12, ConflictIdSorter.conflictIdCycleCount=0, ConflictResolver.totalTime=215510, ConflictResolver.conflictItemCount=14, DefaultDependencyCollector.collectTime=75144505, DefaultDependencyCollector.transformTime=399107}\r\n[DEBUG] org.apache.maven.plugins:maven-clean-plugin:jar:3.1.0\r\n[DEBUG]    org.apache.maven:maven-plugin-api:jar:3.0:compile\r\n[DEBUG]       org.apache.maven:maven-model:jar:3.0:compile\r\n[DEBUG]          org.codehaus.plexus:plexus-utils:jar:2.0.4:compile\r\n\r\n```\r\n\r\nAnd I do not see ```plexus-utils-3.0.10.jar``` in the dependency tree at all.\r\n\r\nQuestion 1: Where is this plexus-utils-3.0.10.jar coming from? I do not have this dependency, and no one from the tree is pulling this dependency.\r\n\r\nQuestion 2: May I ask how do I fix this CVE please? I am interesting in the process and steps of fixing this.\r\n\r\nThank you","title":"Java Maven - CVE-2017-1000487 on plexus-utils-2.0.4.jar plexus-utils-3.0.10.jar","body":"<p>Small question regarding Java and maven please.</p>\n<p>With a very simple project, reproducible 100%, with just this code snippet (please feel free to copy paste)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;cvequestion&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;project.type&gt;application&lt;/project.type&gt;\n        &lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\n        &lt;sonar.java.libraries&gt;target/&lt;/sonar.java.libraries&gt;\n        &lt;sonar.junit.reportsPaths&gt;target/reports/junit&lt;/sonar.junit.reportsPaths&gt;\n        &lt;sonar.language&gt;java&lt;/sonar.language&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2021.0.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-cassandra-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-kubernetes-fabric8&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-config-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-netty-http-brave&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n            &lt;artifactId&gt;resilience4j-micrometer&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n            &lt;artifactId&gt;resilience4j-reactor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.resilience4j&lt;/groupId&gt;\n            &lt;artifactId&gt;resilience4j-spring-boot2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-contract-verifier&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.lmax&lt;/groupId&gt;\n            &lt;artifactId&gt;disruptor&lt;/artifactId&gt;\n            &lt;version&gt;3.4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.statemachine&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-statemachine-core&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n            &lt;version&gt;7.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.codecentric&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-admin-starter-client&lt;/artifactId&gt;\n            &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-webflux-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n            &lt;artifactId&gt;sslcontext-kickstart-for-netty&lt;/artifactId&gt;\n            &lt;version&gt;7.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;reportsDirectory&gt;target/reports/junit&lt;/reportsDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;target/javadoc&lt;/outputDirectory&gt;\n                    &lt;reportOutputDirectory&gt;target/javadoc&lt;/reportOutputDirectory&gt;\n                    &lt;javadocExecutable&gt;${java.home}/bin/javadoc&lt;/javadocExecutable&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;javadoc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;site&lt;/phase&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.9.1.2184&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.codehaus.woodstox&lt;/groupId&gt;\n                        &lt;artifactId&gt;woodstox-core-asl&lt;/artifactId&gt;\n                        &lt;version&gt;4.4.1&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\n                &lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.5.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;target/reports/findbugs&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.16.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;targetDirectory&gt;.out/reports/pmd&lt;/targetDirectory&gt;\n                    &lt;outputDirectory&gt;target/reports/pmd&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;outputFile&gt;.out/reports/checkstyle/checkstyle-result.xml&lt;/outputFile&gt;\n                    &lt;outputDirectory&gt;target/reports/checkstyle&lt;/outputDirectory&gt;\n                    &lt;outputFileFormat&gt;xml&lt;/outputFileFormat&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.puppycrawl.tools&lt;/groupId&gt;\n                        &lt;artifactId&gt;checkstyle&lt;/artifactId&gt;\n                        &lt;version&gt;10.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.7&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;append&gt;true&lt;/append&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                            &lt;goal&gt;report-aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n                &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n                &lt;version&gt;1.7.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;withHistory&gt;true&lt;/withHistory&gt;\n                    &lt;threads&gt;16&lt;/threads&gt;\n                    &lt;outputFormats&gt;\n                        &lt;param&gt;XML&lt;/param&gt;\n                        &lt;param&gt;HTML&lt;/param&gt;\n                    &lt;/outputFormats&gt;\n                    &lt;mutators&gt;\n                        &lt;mutator&gt;CONDITIONALS_BOUNDARY&lt;/mutator&gt;\n                        &lt;mutator&gt;INCREMENTS&lt;/mutator&gt;\n                        &lt;mutator&gt;INVERT_NEGS&lt;/mutator&gt;\n                        &lt;mutator&gt;MATH&lt;/mutator&gt;\n                        &lt;mutator&gt;NEGATE_CONDITIONALS&lt;/mutator&gt;\n                        &lt;mutator&gt;EMPTY_RETURNS&lt;/mutator&gt;\n                        &lt;mutator&gt;FALSE_RETURNS&lt;/mutator&gt;\n                        &lt;mutator&gt;TRUE_RETURNS&lt;/mutator&gt;\n                        &lt;mutator&gt;PRIMITIVE_RETURNS&lt;/mutator&gt;\n                        &lt;mutator&gt;REMOVE_INCREMENTS&lt;/mutator&gt;\n                        &lt;mutator&gt;EXPERIMENTAL_BIG_INTEGER&lt;/mutator&gt;\n                        &lt;mutator&gt;EXPERIMENTAL_MEMBER_VARIABLE&lt;/mutator&gt;\n                        &lt;mutator&gt;EXPERIMENTAL_SWITCH&lt;/mutator&gt;\n                    &lt;/mutators&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n                        &lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;0.15&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jxr-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>and running this simple command: (please feel free to run)</p>\n<pre><code>mvn clean install dependency:tree -X\n</code></pre>\n<p>After feeding this to some static analysis (Black Duck, SonarQube, Dependency-check, etc...)</p>\n<p>I am being flagged with this CVE:</p>\n<p><strong>CVE-2017-1000487</strong> on two jars : plexus-utils-2.0.4.jar plexus-utils-3.0.10.jar</p>\n<p>I am having a hard time understanding, since the output so far is:</p>\n<pre><code>INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ cvequestion ---\n[DEBUG] Dependency collection stats: {ConflictMarker.analyzeTime=53001, ConflictMarker.markTime=16625, ConflictMarker.nodeCount=14, ConflictIdSorter.graphTime=30625, ConflictIdSorter.topsortTime=11493, ConflictIdSorter.conflictIdCount=12, ConflictIdSorter.conflictIdCycleCount=0, ConflictResolver.totalTime=215510, ConflictResolver.conflictItemCount=14, DefaultDependencyCollector.collectTime=75144505, DefaultDependencyCollector.transformTime=399107}\n[DEBUG] org.apache.maven.plugins:maven-clean-plugin:jar:3.1.0\n[DEBUG]    org.apache.maven:maven-plugin-api:jar:3.0:compile\n[DEBUG]       org.apache.maven:maven-model:jar:3.0:compile\n[DEBUG]          org.codehaus.plexus:plexus-utils:jar:2.0.4:compile\n\n</code></pre>\n<p>And I do not see <code>plexus-utils-3.0.10.jar</code> in the dependency tree at all.</p>\n<p>Question 1: Where is this plexus-utils-3.0.10.jar coming from? I do not have this dependency, and no one from the tree is pulling this dependency.</p>\n<p>Question 2: May I ask how do I fix this CVE please? I am interesting in the process and steps of fixing this.</p>\n<p>Thank you</p>\n"},{"tags":["java","casting","java-11","twos-complement"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1650101663,"post_id":71891641,"comment_id":127040353,"body_markdown":"It does &quot;remember&quot;? Nope. `(short) (char) 65535` returns `-1`.","body":"It does &quot;remember&quot;? Nope. <code>(short) (char) 65535</code> returns <code>-1</code>."}],"answers":[{"tags":[],"owner":{"account_id":16244430,"reputation":380,"user_id":11729954,"display_name":"Beast"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650178287,"creation_date":1650178287,"answer_id":71899897,"question_id":71891641,"body_markdown":"I found out why. Turns out there is no such behaviour though it appears to be.\r\n\r\n`charo` is `65535` under the hood. When it is cast to `short` it is still `-1` not because it remembers what it was but as a result of overflow.\r\n\r\n`short`s have a max value of 32767. `65535 - 32767 = 32768`. By counting up from and including `-32768` for `32768` steps, we arrive at `-1` again. Thus it appears to remember what it was but it is not the case. It&#39;s all normal casting behaviour under the hood.\r\n\r\nThank you Johannes Kuhn for your comment.","title":"Weird Lazy Casting Behaviour for character in Java 11","body":"<p>I found out why. Turns out there is no such behaviour though it appears to be.</p>\n<p><code>charo</code> is <code>65535</code> under the hood. When it is cast to <code>short</code> it is still <code>-1</code> not because it remembers what it was but as a result of overflow.</p>\n<p><code>short</code>s have a max value of 32767. <code>65535 - 32767 = 32768</code>. By counting up from and including <code>-32768</code> for <code>32768</code> steps, we arrive at <code>-1</code> again. Thus it appears to remember what it was but it is not the case. It's all normal casting behaviour under the hood.</p>\n<p>Thank you Johannes Kuhn for your comment.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650368970,"creation_date":1650368970,"answer_id":71924472,"question_id":71891641,"body_markdown":"The `int` value `-1` is equivalent to `0xFFFF_FFFF` in the [Two’s Complement] representation. When casting it to a `char`, you’re cutting off the upper bits, ending up at `0xFFFF` or rather `&#39;\\uFFFF&#39;`.\r\n\r\nIt’s important to keep in mind that when you do `System.out.println(charo);` you’re ending up at a different method than the other print statements, as a `char` does not only have a different value range than `short` or `int`, but also different semantics.\r\n\r\nWhen you cast `0xFFFF` to `short`, the value doesn’t change, but `0xFFFF` is exactly `-1` in the 16 bit [Two’s Complement] representation. On the other hand, when you cast it to `int`, the value gets zero extended to `0x0000_FFFF` which equals to `65535`.\r\n\r\nThat’s the way to explain it in terms of the `short`, `char`, and `int` datatypes, but since you also asked “What is happening under the hood?”, it’s worth pointing out that this not how Java actually works.\r\n\r\nIn Java, all arithmetic involving `byte`, `short`, `char`, or `int` is done using `int`. Even local variables of any of these types are actually `int` variables on the bytecode level. In fact, the same applies to `boolean` variables but the Java language does not allow us to exploit this for arithmetic.\r\n\r\nSo the code\r\n\r\n```java\r\nchar charo = (char)-1;\r\nSystem.out.println(charo);\r\nSystem.out.println((short)charo);\r\nSystem.out.println((int)charo);\r\n```\r\nactually compiles to the same as\r\n```java\r\nint charo = (char)-1;\r\nSystem.out.println(charo); // but invoking println(char)\r\nSystem.out.println((short)charo);\r\nSystem.out.println(charo);\r\n```\r\nor\r\n```java\r\nint charo = 0x0000_FFFF;\r\nSystem.out.println(charo); // but invoking println(char)\r\nSystem.out.println((short)charo);\r\nSystem.out.println(charo);\r\n```\r\n\r\nA said at the beginning, the first `println` ends up at a different method, responsible for the different semantics. The compile-time type of the variable only matters insofar as it made the compiler select the different method.\r\n\r\nWhen always maintaining all 32 bits of a value, a cast to `char` has the effect of setting the upper 16 bits to zero. So the result of `(char)-1` is `0x0000_FFFF` and this operation is even done at compile-time already. So the first statement assigns the constant `0xFFFF` to a variable.\r\n\r\nThe next statement invokes the `println(char)` method. No conversion is involved at the caller’s side.\r\n\r\nThe other two invocations end up at `println(int)` and here, the cast to `short` is actually modifying the value. It has the effect of sign-extending a `short` value to an `int` value, which means, the 15th bit is copied over to the upper 16 bits. So for `0x...._FFFF`, the 15th bit is a one, so all upper bits are set to one, ending up at `0xFFFF_FFFF`, which is the `int` value `-1` when using [Two’s Complement].\r\n\r\nThe final result is in line with the first explanation given above, reasoning about the value ranges of `char`, `short`, and `int`. For a lot of scenarios, explanations on that level are sufficient. But you might notice that there is no `println(short)` method, so to understand why `println(int)` is sufficient for printing `short` (or `byte`) values, it’s necessary to know what’s really going on.\r\n\r\n[Two’s Complement]: https://en.wikipedia.org/wiki/Two%27s_complement","title":"Weird Lazy Casting Behaviour for character in Java 11","body":"<p>The <code>int</code> value <code>-1</code> is equivalent to <code>0xFFFF_FFFF</code> in the <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">Two’s Complement</a> representation. When casting it to a <code>char</code>, you’re cutting off the upper bits, ending up at <code>0xFFFF</code> or rather <code>'\\uFFFF'</code>.</p>\n<p>It’s important to keep in mind that when you do <code>System.out.println(charo);</code> you’re ending up at a different method than the other print statements, as a <code>char</code> does not only have a different value range than <code>short</code> or <code>int</code>, but also different semantics.</p>\n<p>When you cast <code>0xFFFF</code> to <code>short</code>, the value doesn’t change, but <code>0xFFFF</code> is exactly <code>-1</code> in the 16 bit <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">Two’s Complement</a> representation. On the other hand, when you cast it to <code>int</code>, the value gets zero extended to <code>0x0000_FFFF</code> which equals to <code>65535</code>.</p>\n<p>That’s the way to explain it in terms of the <code>short</code>, <code>char</code>, and <code>int</code> datatypes, but since you also asked “What is happening under the hood?”, it’s worth pointing out that this not how Java actually works.</p>\n<p>In Java, all arithmetic involving <code>byte</code>, <code>short</code>, <code>char</code>, or <code>int</code> is done using <code>int</code>. Even local variables of any of these types are actually <code>int</code> variables on the bytecode level. In fact, the same applies to <code>boolean</code> variables but the Java language does not allow us to exploit this for arithmetic.</p>\n<p>So the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>char charo = (char)-1;\nSystem.out.println(charo);\nSystem.out.println((short)charo);\nSystem.out.println((int)charo);\n</code></pre>\n<p>actually compiles to the same as</p>\n<pre class=\"lang-java prettyprint-override\"><code>int charo = (char)-1;\nSystem.out.println(charo); // but invoking println(char)\nSystem.out.println((short)charo);\nSystem.out.println(charo);\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>int charo = 0x0000_FFFF;\nSystem.out.println(charo); // but invoking println(char)\nSystem.out.println((short)charo);\nSystem.out.println(charo);\n</code></pre>\n<p>A said at the beginning, the first <code>println</code> ends up at a different method, responsible for the different semantics. The compile-time type of the variable only matters insofar as it made the compiler select the different method.</p>\n<p>When always maintaining all 32 bits of a value, a cast to <code>char</code> has the effect of setting the upper 16 bits to zero. So the result of <code>(char)-1</code> is <code>0x0000_FFFF</code> and this operation is even done at compile-time already. So the first statement assigns the constant <code>0xFFFF</code> to a variable.</p>\n<p>The next statement invokes the <code>println(char)</code> method. No conversion is involved at the caller’s side.</p>\n<p>The other two invocations end up at <code>println(int)</code> and here, the cast to <code>short</code> is actually modifying the value. It has the effect of sign-extending a <code>short</code> value to an <code>int</code> value, which means, the 15th bit is copied over to the upper 16 bits. So for <code>0x...._FFFF</code>, the 15th bit is a one, so all upper bits are set to one, ending up at <code>0xFFFF_FFFF</code>, which is the <code>int</code> value <code>-1</code> when using <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">Two’s Complement</a>.</p>\n<p>The final result is in line with the first explanation given above, reasoning about the value ranges of <code>char</code>, <code>short</code>, and <code>int</code>. For a lot of scenarios, explanations on that level are sufficient. But you might notice that there is no <code>println(short)</code> method, so to understand why <code>println(int)</code> is sufficient for printing <code>short</code> (or <code>byte</code>) values, it’s necessary to know what’s really going on.</p>\n"}],"owner":{"account_id":16244430,"reputation":380,"user_id":11729954,"display_name":"Beast"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71924472,"answer_count":2,"score":0,"last_activity_date":1650369670,"creation_date":1650090813,"question_id":71891641,"body_markdown":"Can someone kindly explain the casting behaviour I illustrated below?\r\n\r\nCode\r\n\r\n```java\r\nchar charo = (char) -1;\r\nSystem.out.println(charo);\r\nSystem.out.println((short) charo);\r\nSystem.out.println((int) charo);\r\n```\r\nExpected Output\r\n```\r\n?\r\n-1\r\n-1\r\n```\r\n\r\nActual Output\r\n```\r\n?\r\n-1\r\n65535\r\n```\r\n\r\nAs observed, when -1 is cast to `char` &amp; back to `short`, it remembers what it was (which is -1) whereas when cast to an `int` it is 65535. I&#39;d expected charo to be 65535 due to underflow upon casting to `char` since `char` only holds positive values.\r\n\r\n\r\nIs there some sort of lazy casting behaviour I&#39;m missing out? What is happening under the hood?\r\n\r\n\r\n\r\n\r\nEDIT 1: Added expected output to illustrate my misconception","title":"Weird Lazy Casting Behaviour for character in Java 11","body":"<p>Can someone kindly explain the casting behaviour I illustrated below?</p>\n<p>Code</p>\n<pre class=\"lang-java prettyprint-override\"><code>char charo = (char) -1;\nSystem.out.println(charo);\nSystem.out.println((short) charo);\nSystem.out.println((int) charo);\n</code></pre>\n<p>Expected Output</p>\n<pre><code>?\n-1\n-1\n</code></pre>\n<p>Actual Output</p>\n<pre><code>?\n-1\n65535\n</code></pre>\n<p>As observed, when -1 is cast to <code>char</code> &amp; back to <code>short</code>, it remembers what it was (which is -1) whereas when cast to an <code>int</code> it is 65535. I'd expected charo to be 65535 due to underflow upon casting to <code>char</code> since <code>char</code> only holds positive values.</p>\n<p>Is there some sort of lazy casting behaviour I'm missing out? What is happening under the hood?</p>\n<p>EDIT 1: Added expected output to illustrate my misconception</p>\n"},{"tags":["java","android","android-listfragment"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1461429021,"post_id":36813381,"comment_id":61199619,"body_markdown":"Never do `new MainActivity();`...  You can call `getActivity` from a Fragment","body":"Never do <code>new MainActivity();</code>...  You can call <code>getActivity</code> from a Fragment"},{"owner":{"account_id":8298573,"reputation":13,"user_id":6237970,"display_name":"Branden R"},"score":0,"creation_date":1461429142,"post_id":36813381,"comment_id":61199664,"body_markdown":"i do that because im calling a variable from it and i couldnt use getActivity","body":"i do that because im calling a variable from it and i couldnt use getActivity"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1461429557,"post_id":36813381,"comment_id":61199788,"body_markdown":"1) You would have needed to cast it 2) You shouldn&#39;t need to do that anyway. If my answer below doesn&#39;t address the problem, then let me know","body":"1) You would have needed to cast it 2) You shouldn&#39;t need to do that anyway. If my answer below doesn&#39;t address the problem, then let me know"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1461430723,"creation_date":1461429470,"answer_id":36813493,"question_id":36813381,"body_markdown":"You create an Activity instance that isn&#39;t managed by the Android life cycle, so the Arraylist that you want to use is empty because it was never populated in the onCreate method of the activity. \r\n\r\n        MainActivity act = new MainActivity();\r\n\r\n        universalListings = act.universalListings; // size = 0\r\n\r\nAlong with that, you have some asynchronous code to go fetch your data, so the Fragment may not even get the list that you download when the FragmentTransaction completes. \r\n\r\nYou&#39;ll have to pass the Arraylist to the adapter from the Fragment in the `processFinish` method you have, or call that AsyncTask code to inside the Fragment and populate the Adapter from inside the `processFinish` method \r\n","title":"ListFragment Not displaying data from List","body":"<p>You create an Activity instance that isn't managed by the Android life cycle, so the Arraylist that you want to use is empty because it was never populated in the onCreate method of the activity. </p>\n\n<pre><code>    MainActivity act = new MainActivity();\n\n    universalListings = act.universalListings; // size = 0\n</code></pre>\n\n<p>Along with that, you have some asynchronous code to go fetch your data, so the Fragment may not even get the list that you download when the FragmentTransaction completes. </p>\n\n<p>You'll have to pass the Arraylist to the adapter from the Fragment in the <code>processFinish</code> method you have, or call that AsyncTask code to inside the Fragment and populate the Adapter from inside the <code>processFinish</code> method </p>\n"}],"owner":{"account_id":8298573,"reputation":13,"user_id":6237970,"display_name":"Branden R"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":36813493,"answer_count":1,"score":-1,"last_activity_date":1650369364,"creation_date":1461428876,"question_id":36813381,"body_markdown":"After I try to open the navigation drawer and go to a different tab and then go back to it. It is not showing data in a list once again.\r\n\r\nMain Activity\r\n\r\n    package com.goldleaf.branden.goldleafcomics;\r\n    \r\n    import android.os.Bundle;\r\n    import android.support.design.widget.NavigationView;\r\n    import android.support.v4.view.GravityCompat;\r\n    import android.support.v4.widget.DrawerLayout;\r\n    import android.support.v7.app.ActionBarDrawerToggle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.support.v7.widget.Toolbar;\r\n    import android.view.MenuItem;\r\n    import android.widget.ListView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.kosalgeek.android.json.JsonConverter;\r\n    import com.kosalgeek.genasync12.AsyncResponse;\r\n    import com.kosalgeek.genasync12.PostResponseAsyncTask;\r\n    \r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener{\r\n        ListView lvGlimpse;\r\n        public List&lt;UniverseListing&gt;universalListings = new ArrayList&lt;UniverseListing&gt;();\r\n        final GlimpseListFragment glimpse = new GlimpseListFragment();\r\n    \r\n        NavigationView navigationView;\r\n        Toolbar toolbar;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            String url = &quot;http://goldleafcomics.com/application/UniverseGlimpse.JSON&quot;;\r\n            PostResponseAsyncTask task = new PostResponseAsyncTask(MainActivity.this, new AsyncResponse() {\r\n                @Override\r\n                public void processFinish(String s) {\r\n                    universalListings = new JsonConverter&lt;UniverseListing&gt;().toArrayList(s, UniverseListing.class);\r\n                    Toast.makeText(MainActivity.this, &quot;Application Data Refreshed&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            });\r\n            task.execute(url);\r\n    \r\n            android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n            fragmentTransaction.replace(R.id.fragment_container, glimpse);\r\n            fragmentTransaction.commit();\r\n    \r\n            toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n            getSupportActionBar().setTitle(&quot;Glimpse&quot;);\r\n    \r\n            DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n            ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n            drawer.setDrawerListener(toggle);\r\n            toggle.syncState();\r\n    \r\n            navigationView = (NavigationView) findViewById(R.id.nav_view);\r\n            navigationView.setNavigationItemSelectedListener(this);\r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n            if (drawer.isDrawerOpen(GravityCompat.START)) {\r\n                drawer.closeDrawer(GravityCompat.START);\r\n            } else {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;StatementWithEmptyBody&quot;)\r\n        @Override\r\n        public boolean onNavigationItemSelected(MenuItem item) {\r\n            // Handle navigation view item clicks here.\r\n            int id = item.getItemId();\r\n    \r\n            if (id == R.id.nav_news) {\r\n                getSupportActionBar().setTitle(&quot;G.C. News&quot;);\r\n            } else if (id == R.id.nav_team) {\r\n                TeamFeedFragment fragment = new TeamFeedFragment();\r\n                android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n                fragmentTransaction.replace(R.id.fragment_container, fragment);\r\n                getSupportActionBar().setTitle(&quot;Team Feed&quot;);\r\n                fragmentTransaction.commit();\r\n            }else if(id == R.id.nav_notifications){\r\n                getSupportActionBar().setTitle(&quot;Notifications&quot;);\r\n            }else if(id == R.id.nav_comics){\r\n                getSupportActionBar().setTitle(&quot;Comics&quot;);\r\n            }else if(id == R.id.nav_glimpse){\r\n                android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n                fragmentTransaction.replace(R.id.fragment_container, glimpse);\r\n                getSupportActionBar().setTitle(&quot;Glimpse&quot;);\r\n                fragmentTransaction.commit();\r\n            }\r\n            DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n            drawer.closeDrawer(GravityCompat.START);\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\nUniverseListing\r\n\r\n    package com.goldleaf.branden.goldleafcomics;\r\n    \r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class UniverseListing {\r\n        @SerializedName(&quot;universe_id&quot;)\r\n        public String universeId;\r\n    \r\n        @SerializedName(&quot;universe_glimpse&quot;)\r\n        public String universeGlimpse;\r\n    \r\n        @SerializedName(&quot;universe_url&quot;)\r\n        public String universeuRL;\r\n    \r\n    }\r\n\r\nGlimpse List Fragment\r\n\r\n    package com.goldleaf.branden.goldleafcomics;\r\n    \r\n    import android.os.Bundle;\r\n    import android.support.annotation.Nullable;\r\n    import android.support.v4.app.ListFragment;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.kosalgeek.android.json.JsonConverter;\r\n    import com.kosalgeek.genasync12.*;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class GlimpseListFragment extends ListFragment {\r\n        List&lt;UniverseListing&gt; universalListings = new ArrayList&lt;UniverseListing&gt;();\r\n        List&lt;String&gt; glimpse = new ArrayList&lt;String&gt;();\r\n        List&lt;String&gt; titles = new ArrayList&lt;String&gt;();\r\n    \r\n        public GlimpseListFragment() {\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n    \r\n            ViewGroup rootView = (ViewGroup)inflater.inflate(R.layout.fragment_glimpse_list, container, false);\r\n    \r\n            return rootView;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            MainActivity act = new MainActivity();\r\n    \r\n            universalListings = act.universalListings;\r\n    \r\n            ArrayList&lt;String&gt; glimpse = new ArrayList&lt;String&gt;();\r\n            for(UniverseListing value: universalListings){\r\n                glimpse.add(value.universeGlimpse);\r\n            }\r\n    \r\n            ArrayList&lt;String&gt; titles = new ArrayList&lt;String&gt;();\r\n            for(UniverseListing value: universalListings){\r\n                titles.add(value.universeId);\r\n            }\r\n    \r\n            ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_list_item_1, titles);\r\n            setListAdapter(adapter);\r\n        }\r\n    \r\n        @Override\r\n        public void onListItemClick(ListView l, View v, int position, long id) {\r\n            super.onListItemClick(l, v, position, id);\r\n            String value = (String)getListAdapter().getItem(position);\r\n            Toast.makeText(getActivity(), value, Toast.LENGTH_LONG).show();\r\n        }\r\n    }","title":"ListFragment Not displaying data from List","body":"<p>After I try to open the navigation drawer and go to a different tab and then go back to it. It is not showing data in a list once again.</p>\n<p>Main Activity</p>\n<pre><code>package com.goldleaf.branden.goldleafcomics;\n\nimport android.os.Bundle;\nimport android.support.design.widget.NavigationView;\nimport android.support.v4.view.GravityCompat;\nimport android.support.v4.widget.DrawerLayout;\nimport android.support.v7.app.ActionBarDrawerToggle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.widget.Toolbar;\nimport android.view.MenuItem;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport com.kosalgeek.android.json.JsonConverter;\nimport com.kosalgeek.genasync12.AsyncResponse;\nimport com.kosalgeek.genasync12.PostResponseAsyncTask;\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener{\n    ListView lvGlimpse;\n    public List&lt;UniverseListing&gt;universalListings = new ArrayList&lt;UniverseListing&gt;();\n    final GlimpseListFragment glimpse = new GlimpseListFragment();\n\n    NavigationView navigationView;\n    Toolbar toolbar;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        String url = &quot;http://goldleafcomics.com/application/UniverseGlimpse.JSON&quot;;\n        PostResponseAsyncTask task = new PostResponseAsyncTask(MainActivity.this, new AsyncResponse() {\n            @Override\n            public void processFinish(String s) {\n                universalListings = new JsonConverter&lt;UniverseListing&gt;().toArrayList(s, UniverseListing.class);\n                Toast.makeText(MainActivity.this, &quot;Application Data Refreshed&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n        task.execute(url);\n\n        android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n        fragmentTransaction.replace(R.id.fragment_container, glimpse);\n        fragmentTransaction.commit();\n\n        toolbar = (Toolbar) findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        getSupportActionBar().setTitle(&quot;Glimpse&quot;);\n\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n        drawer.setDrawerListener(toggle);\n        toggle.syncState();\n\n        navigationView = (NavigationView) findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n    }\n\n    @Override\n    public void onBackPressed() {\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n        if (drawer.isDrawerOpen(GravityCompat.START)) {\n            drawer.closeDrawer(GravityCompat.START);\n        } else {\n            super.onBackPressed();\n        }\n    }\n\n    @SuppressWarnings(&quot;StatementWithEmptyBody&quot;)\n    @Override\n    public boolean onNavigationItemSelected(MenuItem item) {\n        // Handle navigation view item clicks here.\n        int id = item.getItemId();\n\n        if (id == R.id.nav_news) {\n            getSupportActionBar().setTitle(&quot;G.C. News&quot;);\n        } else if (id == R.id.nav_team) {\n            TeamFeedFragment fragment = new TeamFeedFragment();\n            android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n            fragmentTransaction.replace(R.id.fragment_container, fragment);\n            getSupportActionBar().setTitle(&quot;Team Feed&quot;);\n            fragmentTransaction.commit();\n        }else if(id == R.id.nav_notifications){\n            getSupportActionBar().setTitle(&quot;Notifications&quot;);\n        }else if(id == R.id.nav_comics){\n            getSupportActionBar().setTitle(&quot;Comics&quot;);\n        }else if(id == R.id.nav_glimpse){\n            android.support.v4.app.FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n            fragmentTransaction.replace(R.id.fragment_container, glimpse);\n            getSupportActionBar().setTitle(&quot;Glimpse&quot;);\n            fragmentTransaction.commit();\n        }\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n        drawer.closeDrawer(GravityCompat.START);\n        return true;\n    }\n}\n</code></pre>\n<p>UniverseListing</p>\n<pre><code>package com.goldleaf.branden.goldleafcomics;\n\nimport com.google.gson.annotations.SerializedName;\n\npublic class UniverseListing {\n    @SerializedName(&quot;universe_id&quot;)\n    public String universeId;\n\n    @SerializedName(&quot;universe_glimpse&quot;)\n    public String universeGlimpse;\n\n    @SerializedName(&quot;universe_url&quot;)\n    public String universeuRL;\n\n}\n</code></pre>\n<p>Glimpse List Fragment</p>\n<pre><code>package com.goldleaf.branden.goldleafcomics;\n\nimport android.os.Bundle;\nimport android.support.annotation.Nullable;\nimport android.support.v4.app.ListFragment;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.kosalgeek.android.json.JsonConverter;\nimport com.kosalgeek.genasync12.*;\n\nimport java.io.FileInputStream;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class GlimpseListFragment extends ListFragment {\n    List&lt;UniverseListing&gt; universalListings = new ArrayList&lt;UniverseListing&gt;();\n    List&lt;String&gt; glimpse = new ArrayList&lt;String&gt;();\n    List&lt;String&gt; titles = new ArrayList&lt;String&gt;();\n\n    public GlimpseListFragment() {\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n        ViewGroup rootView = (ViewGroup)inflater.inflate(R.layout.fragment_glimpse_list, container, false);\n\n        return rootView;\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        MainActivity act = new MainActivity();\n\n        universalListings = act.universalListings;\n\n        ArrayList&lt;String&gt; glimpse = new ArrayList&lt;String&gt;();\n        for(UniverseListing value: universalListings){\n            glimpse.add(value.universeGlimpse);\n        }\n\n        ArrayList&lt;String&gt; titles = new ArrayList&lt;String&gt;();\n        for(UniverseListing value: universalListings){\n            titles.add(value.universeId);\n        }\n\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_list_item_1, titles);\n        setListAdapter(adapter);\n    }\n\n    @Override\n    public void onListItemClick(ListView l, View v, int position, long id) {\n        super.onListItemClick(l, v, position, id);\n        String value = (String)getListAdapter().getItem(position);\n        Toast.makeText(getActivity(), value, Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-sqs"],"comments":[{"owner":{"account_id":2127577,"reputation":20001,"user_id":1889273,"display_name":"Boaz"},"score":2,"creation_date":1647516301,"post_id":71511218,"comment_id":126393194,"body_markdown":"Once an SQS message is consumed, it&#39;s effectively hidden by SQS for a given &quot;visibility timeout&quot;, after which it will be &quot;back&quot; in the queue, unless it&#39;s deleted first. Are you successfully deleting the message? Alternatively, is the &quot;visibility timeout&quot; set too low perhaps?","body":"Once an SQS message is consumed, it&#39;s effectively hidden by SQS for a given &quot;visibility timeout&quot;, after which it will be &quot;back&quot; in the queue, unless it&#39;s deleted first. Are you successfully deleting the message? Alternatively, is the &quot;visibility timeout&quot; set too low perhaps?"},{"owner":{"account_id":8327675,"reputation":252,"user_id":6257248,"display_name":"Patrick Brielmayer"},"score":0,"creation_date":1647517135,"post_id":71511218,"comment_id":126393479,"body_markdown":"@Boaz Like I said, the method distributeMessages() only takes 1 second, so the visibility timeout should be enough! How would I know if the message was deleted successfully? There is no exception whatsoever","body":"@Boaz Like I said, the method distributeMessages() only takes 1 second, so the visibility timeout should be enough! How would I know if the message was deleted successfully? There is no exception whatsoever"},{"owner":{"account_id":2127577,"reputation":20001,"user_id":1889273,"display_name":"Boaz"},"score":0,"creation_date":1647517829,"post_id":71511218,"comment_id":126393711,"body_markdown":"The AWS Console should show the state of the messages in the queue. For example, see this [related post on SQS](https://stackoverflow.com/questions/19792881/why-do-sqs-messages-sometimes-remain-in-flight-on-queue)","body":"The AWS Console should show the state of the messages in the queue. For example, see this <a href=\"https://stackoverflow.com/questions/19792881/why-do-sqs-messages-sometimes-remain-in-flight-on-queue\">related post on SQS</a>"}],"owner":{"account_id":8327675,"reputation":252,"user_id":6257248,"display_name":"Patrick Brielmayer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650369317,"creation_date":1647515007,"question_id":71511218,"body_markdown":"We do use an SQS to receive notifications from S3, but for some reason we receive the exact same message again and again. \r\n\r\nSeems like the message never gets deleted from SQS.  \r\n\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class SqsTimer {\r\n\r\n    private final SqsFacade sqsFacade;\r\n\r\n    @Scheduled(fixedDelay = 2000)\r\n    public void execute() {\r\n        List&lt;Message&gt; messages;\r\n        do {\r\n            messages = receiveMessages();\r\n            distributeMessages(messages);\r\n            deleteMessages(messages);\r\n        } while (!messages.isEmpty());\r\n    }\r\n\r\n    private List&lt;Message&gt; receiveMessages() {\r\n        final ReceiveMessageRequest receiveMessageRequest = ReceiveMessageRequest.builder()\r\n                .queueUrl(&quot;URL&quot;)\r\n                .visibilityTimeout(30)\r\n                .build();\r\n\r\n        return sqsFacade.getSqsClient()\r\n                .receiveMessage(receiveMessageRequest)\r\n                .messages();\r\n    }\r\n\r\n    private void distributeMessages(final List&lt;Message&gt; messages) {\r\n        ...\r\n    }\r\n\r\n    private void deleteMessages(final List&lt;Message&gt; messages) {\r\n        messages.forEach(message -&gt; {\r\n            log.debug(&quot;Delete message: {}&quot;, message.receiptHandle());\r\n            final DeleteMessageRequest deleteMessageRequest = DeleteMessageRequest.builder()\r\n                    .queueUrl(&quot;URL&quot;)\r\n                    .receiptHandle(message.receiptHandle())\r\n                    .build();\r\n            sqsFacade.getSqsClient().deleteMessage(deleteMessageRequest);\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe method distributeMessages() completes in under 1 second!\r\n\r\n1. Why do we receive the same message again and again?\r\n2. Why are the messages not deleted?","title":"SQS Message never gets deleted","body":"<p>We do use an SQS to receive notifications from S3, but for some reason we receive the exact same message again and again.</p>\n<p>Seems like the message never gets deleted from SQS.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class SqsTimer {\n\n    private final SqsFacade sqsFacade;\n\n    @Scheduled(fixedDelay = 2000)\n    public void execute() {\n        List&lt;Message&gt; messages;\n        do {\n            messages = receiveMessages();\n            distributeMessages(messages);\n            deleteMessages(messages);\n        } while (!messages.isEmpty());\n    }\n\n    private List&lt;Message&gt; receiveMessages() {\n        final ReceiveMessageRequest receiveMessageRequest = ReceiveMessageRequest.builder()\n                .queueUrl(&quot;URL&quot;)\n                .visibilityTimeout(30)\n                .build();\n\n        return sqsFacade.getSqsClient()\n                .receiveMessage(receiveMessageRequest)\n                .messages();\n    }\n\n    private void distributeMessages(final List&lt;Message&gt; messages) {\n        ...\n    }\n\n    private void deleteMessages(final List&lt;Message&gt; messages) {\n        messages.forEach(message -&gt; {\n            log.debug(&quot;Delete message: {}&quot;, message.receiptHandle());\n            final DeleteMessageRequest deleteMessageRequest = DeleteMessageRequest.builder()\n                    .queueUrl(&quot;URL&quot;)\n                    .receiptHandle(message.receiptHandle())\n                    .build();\n            sqsFacade.getSqsClient().deleteMessage(deleteMessageRequest);\n        });\n    }\n}\n\n</code></pre>\n<p>The method distributeMessages() completes in under 1 second!</p>\n<ol>\n<li>Why do we receive the same message again and again?</li>\n<li>Why are the messages not deleted?</li>\n</ol>\n"},{"tags":["java","multithreading","kotlin"],"comments":[{"owner":{"account_id":6512774,"reputation":7115,"user_id":5039498,"display_name":"Amit Bera"},"score":0,"creation_date":1528697141,"post_id":50791081,"comment_id":88588538,"body_markdown":"do you have provision to change `while (true)` condition?","body":"do you have provision to change <code>while (true)</code> condition?"},{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":0,"creation_date":1528697534,"post_id":50791081,"comment_id":88588700,"body_markdown":"You said you have `future`. Any issue calling `Future#cancel(true)` ?","body":"You said you have <code>future</code>. Any issue calling <code>Future#cancel(true)</code> ?"},{"owner":{"account_id":13751383,"reputation":61,"user_id":9923376,"display_name":"Antil Karev"},"score":0,"creation_date":1528698105,"post_id":50791081,"comment_id":88588914,"body_markdown":"@AmitBera No, I can&#39;t touch the code inside the function that does it.","body":"@AmitBera No, I can&#39;t touch the code inside the function that does it."},{"owner":{"account_id":13751383,"reputation":61,"user_id":9923376,"display_name":"Antil Karev"},"score":0,"creation_date":1528698158,"post_id":50791081,"comment_id":88588935,"body_markdown":"@rkosegi I do call it, I even call ExecutorService#shutdownNow() function but the both of them cannot kill the thread.","body":"@rkosegi I do call it, I even call ExecutorService#shutdownNow() function but the both of them cannot kill the thread."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1528707336,"post_id":50791081,"comment_id":88593653,"body_markdown":"`Thread#stop()` is your only option, but it a) is a crappy, leaky mechanism that can destabilize the whole application, b) may still fail to kill the thread because all it does is throw an exception in the thread.","body":"<code>Thread#stop()</code> is your only option, but it a) is a crappy, leaky mechanism that can destabilize the whole application, b) may still fail to kill the thread because all it does is throw an exception in the thread."}],"answers":[{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528700708,"creation_date":1528700708,"answer_id":50792080,"question_id":50791081,"body_markdown":"If you can capture it&#39;s thread you should be able to kill it so long as it is doing some kind of blocking function internally.\r\n\r\n    class OtherFunction implements Runnable {\r\n\r\n        @Override\r\n        public void run() {\r\n            while(true) {\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    // We assume the thread will exit when interrupted.\r\n                    System.out.println(&quot;Bye!!&quot;);\r\n                    return;\r\n                }\r\n                System.out.println(&quot;Hello&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    class Killable implements Runnable {\r\n        final Runnable target;\r\n        private Thread itsThread;\r\n\r\n        Killable(Runnable target) {\r\n            this.target = target;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            // Catch the thread id of the target.\r\n            itsThread = Thread.currentThread();\r\n            // Launch it.\r\n            target.run();\r\n        }\r\n\r\n        public void kill() {\r\n            // Give it a good kick.\r\n            itsThread.interrupt();\r\n        }\r\n    }\r\n\r\n    public void test() throws InterruptedException {\r\n        OtherFunction theFunction = new OtherFunction();\r\n        Killable killableVersion = new Killable(theFunction);\r\n        new Thread(killableVersion).start();\r\n        // Wait for a few seconds.\r\n        Thread.sleep(10000);\r\n        // Kill it.\r\n        killableVersion.kill();\r\n    }\r\n","title":"Killing a thread or an asynchronous task","body":"<p>If you can capture it's thread you should be able to kill it so long as it is doing some kind of blocking function internally.</p>\n\n<pre><code>class OtherFunction implements Runnable {\n\n    @Override\n    public void run() {\n        while(true) {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                // We assume the thread will exit when interrupted.\n                System.out.println(\"Bye!!\");\n                return;\n            }\n            System.out.println(\"Hello\");\n        }\n    }\n}\n\n\nclass Killable implements Runnable {\n    final Runnable target;\n    private Thread itsThread;\n\n    Killable(Runnable target) {\n        this.target = target;\n    }\n\n    @Override\n    public void run() {\n        // Catch the thread id of the target.\n        itsThread = Thread.currentThread();\n        // Launch it.\n        target.run();\n    }\n\n    public void kill() {\n        // Give it a good kick.\n        itsThread.interrupt();\n    }\n}\n\npublic void test() throws InterruptedException {\n    OtherFunction theFunction = new OtherFunction();\n    Killable killableVersion = new Killable(theFunction);\n    new Thread(killableVersion).start();\n    // Wait for a few seconds.\n    Thread.sleep(10000);\n    // Kill it.\n    killableVersion.kill();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13751383,"reputation":61,"user_id":9923376,"display_name":"Antil Karev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528792370,"creation_date":1528792370,"answer_id":50812667,"question_id":50791081,"body_markdown":"It seems like `Thread#stop()` solved my problem. I know it&#39;s deprecated and can be prevented with `catch(Throwable t)` but at least it did the trick for me. \r\n\r\nBy the way, to get the thread from the executor, I&#39;ve used `AtomicReference&lt;Thread&gt;` and set it in the callback. ","title":"Killing a thread or an asynchronous task","body":"<p>It seems like <code>Thread#stop()</code> solved my problem. I know it's deprecated and can be prevented with <code>catch(Throwable t)</code> but at least it did the trick for me. </p>\n\n<p>By the way, to get the thread from the executor, I've used <code>AtomicReference&lt;Thread&gt;</code> and set it in the callback. </p>\n"},{"tags":[],"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528804482,"creation_date":1528795913,"answer_id":50813804,"question_id":50791081,"body_markdown":"`Thread#stop()` is deprecated as &#39;inherently unsafe&#39; and should be avoided if at all possible.\r\n\r\nIt&#39;s a source of instability and corruption and may fail anyway!\r\n\r\nIt actually causes a `ThreadDeath` exception to be throw in the target thread.\r\nThe authors of whatever code it pops into are unlikely to have expected that outcome.\r\nObjects may be in an inconsistent state, external resources may be held and get leaked, files may be incompletely written.\r\n\r\nThere are ways of handling unexpected errors but in practice most code is written assuming it knows which exceptions might be thrown and not in anticipation for such a &#39;surprise&#39;.\r\n\r\nGiven `ThreadDeath` is a `Throwable` any `catch(Throwable t)` will catch it and again, unless great care was taken in every piece of code the thread might execute (unrealistic) `ThreadDeath` might just get absorbed and not end the thread.\r\n\r\nThe correct way to handle this is declare an atomic variable (usually as part of the `Runnable` that represents the task.\r\n\r\n    AtomicBoolean stopThread=new AtomicBoolean(false);\r\n\r\nThen write the loop as:\r\n\r\n     while (!stopThread.get()) {\r\n         System.out.println(1);\r\n     }\r\n\r\nAnd provide a method:\r\n\r\n    public void stopThread(){\r\n        stopThread.set(true);\r\n    } \r\n\r\nAlternatively you can use `interrupt()` and check `interrupted()`. These are cleaner methods provided in the `Thread` class. `interrupted()` has the behaviour of clearing the flag when called. That&#39;s not always helpful and while the flag can be examined by `Thread.currentThread().isInterrupted()` the &#39;checking the flag clears it&#39; behaviour can be unhelpful and also suffers some of the issues of `stop()` because it can cause &quot;surprising&quot; exceptions to be throw at points other code has never anticipated. The right approach is to use your own flag and be in full control of where the process decides to quit.\r\n\r\nTake your pick.\r\n\r\nSee also: [Java Thread Primitive Deprecation][1]\r\n\r\n\r\n-------\r\n\r\n\r\nEver wondered why when you click &#39;Cancel&#39; on some concurrent process you are often made to wait ages for it to respond?\r\nThis is why. The task needs to come to a well defined point and do any necessary clean up to terminate in a well defined way.\r\n\r\nThink of `Thread#stop()` as like stopping a cyclist by kicking them off their bike. The method here waves a red flag at them and they then come to a halt as swiftly as they safely can.\r\n\r\n`Thread#stop()` should never have been in Java and you should never use it.\r\nYou get away with it in development and small systems. It causes havoc in large production environments. \r\nIt&#39;s not just deprecated as &#39;not recommended&#39; it is &#39;inherently unsafe&#39; do not use it. \r\nIt&#39;s been deprecated for years and its disappointing that some &#39;removal date&#39; has never been advertised.\r\n\r\nHere&#39;s an example that uses either `Thread#stop()` or `interrupt()` depending on whether you opt for being dangerous.\r\n\r\n    import java.lang.System;\r\n    import java.lang.Thread;\r\n    \r\n    class Ideone\r\n    {\r\n    \t\r\n        private static boolean beDangerous=true;//Indicates if we&#39;re going to use the Thread#stop()....\t\r\n    \t\r\n        //This main method uses either stop() or interrupt() depending on the option.\r\n        public static void main (String[] args) throws java.lang.Exception\r\n        {\r\n            \r\n            PrimeFactor factor=new PrimeFactor();\r\n            try{\r\n    \tfor(int i=1;i&lt;30;++i){\r\n    \t    Thread thrd=new Thread(new Primer(factor));\r\n    \t    thrd.start();\r\n    \t    \r\n    \t    Thread.sleep(10);//Represents some concurrent processing...\r\n    \t    \r\n    \t    if(beDangerous){\r\n    \t        thrd.stop();\r\n    \t    }else{\r\n    \t        thrd.interrupt();\r\n    \t    }\r\n    \t    thrd.join();\r\n    \t    if(!factor.check()){\r\n    \t        System.out.println(&quot;Oops at &quot;+i);\r\n    \t    }\r\n    \t}\r\n            }catch(Throwable t){\r\n            \tSystem.out.println(t);\r\n            }\r\n        }\r\n        \r\n        //This class just hammers the PrimeFactor object until interrupt()ed (or stop()ed).\r\n        private static class Primer implements Runnable {\r\n        \t\r\n        \tprivate PrimeFactor factor;\r\n    \r\n        \tpublic Primer(PrimeFactor ifactor){\r\n        \t    factor=ifactor;\r\n        \t}\r\n        \t\r\n        \t\r\n        \tpublic void run(){\r\n        \t    int i=1;\r\n        \t    while(!Thread.interrupted()){\t\r\n        \t        factor.set(i++);\t\r\n    \t    }\r\n               }\r\n        }\r\n        \r\n        //Don&#39;t worry about this bit too much.\r\n        //It&#39;s a class that does a non-trivial calculation and that&#39;s all we need to know.\r\n        //&quot;You&#39;re not expected to understand this&quot;. If you don&#39;t get the joke, Google it.\r\n    \t\r\n        //This class calculates the largest prime factor of some given number.\r\n        //Here it represents a class that ensures internal consistency using synchronized.\r\n        //But if we use Thread#stop() this apprently thread-safe class will be broken.\r\n        private static class PrimeFactor {\r\n        \tprivate long num;\r\n        \tprivate long prime;\r\n        \t\r\n        \tpublic static long getFactor(long num){\r\n        \t    if(num&lt;=1){\r\n        \t       return num;\r\n        \t    }\r\n        \t    long temp=num;\r\n        \t    long factor=2;\r\n        \t    for(int i=2;temp!=1;++i){\r\n        \t        if(temp%i==0){\r\n        \t        \tfactor=i;\r\n        \t        \tdo{\r\n        \t        \t    temp=temp/i;\r\n        \t        \t}while(temp%i==0);\r\n        \t        }\t\r\n        \t    }\r\n        \t    return factor;\r\n        \t} \r\n        \t\r\n        \tpublic synchronized void set(long value){\r\n        \t    num=value;\r\n        \t    prime=getFactor(value);\r\n        \t}\r\n        \t\r\n        \tpublic synchronized boolean check(){\r\n        \t    return prime==getFactor(num);\r\n        \t}\r\n        }\t\r\n    }\r\n\r\nTypical partial output:\r\n\r\n    Oops at 1\r\n    Oops at 2\r\n    Oops at 3\r\n    Oops at 6\r\n    Oops at 8\r\n\r\nNotice that the `PrimeFactor` class can be described as thread-safe. All it&#39;s methods are `synchronized`. Imagine it&#39;s in some library. It&#39;s unrealistic to expect &quot;thread-safe&quot; to mean `Thread#stop()`-safe and the only way to do that would be intrusive. Putting calls to it in a  `try-catch(ThreadDeath tde)` block won&#39;t fix anything. The damage will have been down before it&#39;s caught.\r\n\r\nDon&#39;t convince yourself that changing `set()` to the following solves it:\r\n\r\n    public synchronized void set(long value){\r\n        long temp=getFactor(value);\r\n        num=value;\r\n        prime=temp;\r\n    }\r\n\r\nFirst and foremost the the `ThreadDeath` exception could throw during the assignments so all that does is potentially shorten the odds on the Race Condition. It hasn&#39;t been negated. Never make &quot;how likely is that to happen&quot; arguments about race conditions. Programs call methods billions of times so billion to one-shots come up regularly.\r\n\r\nTo use `Thread#stop()` you can essentially never use any library objects including `java.*` and jump through hoops to handle `ThreadDeath` everywhere in your code and almost certainly eventually fail anyway.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html &quot;Java Thread Primitive Deprecation&quot;","title":"Killing a thread or an asynchronous task","body":"<p><code>Thread#stop()</code> is deprecated as 'inherently unsafe' and should be avoided if at all possible.</p>\n\n<p>It's a source of instability and corruption and may fail anyway!</p>\n\n<p>It actually causes a <code>ThreadDeath</code> exception to be throw in the target thread.\nThe authors of whatever code it pops into are unlikely to have expected that outcome.\nObjects may be in an inconsistent state, external resources may be held and get leaked, files may be incompletely written.</p>\n\n<p>There are ways of handling unexpected errors but in practice most code is written assuming it knows which exceptions might be thrown and not in anticipation for such a 'surprise'.</p>\n\n<p>Given <code>ThreadDeath</code> is a <code>Throwable</code> any <code>catch(Throwable t)</code> will catch it and again, unless great care was taken in every piece of code the thread might execute (unrealistic) <code>ThreadDeath</code> might just get absorbed and not end the thread.</p>\n\n<p>The correct way to handle this is declare an atomic variable (usually as part of the <code>Runnable</code> that represents the task.</p>\n\n<pre><code>AtomicBoolean stopThread=new AtomicBoolean(false);\n</code></pre>\n\n<p>Then write the loop as:</p>\n\n<pre><code> while (!stopThread.get()) {\n     System.out.println(1);\n }\n</code></pre>\n\n<p>And provide a method:</p>\n\n<pre><code>public void stopThread(){\n    stopThread.set(true);\n} \n</code></pre>\n\n<p>Alternatively you can use <code>interrupt()</code> and check <code>interrupted()</code>. These are cleaner methods provided in the <code>Thread</code> class. <code>interrupted()</code> has the behaviour of clearing the flag when called. That's not always helpful and while the flag can be examined by <code>Thread.currentThread().isInterrupted()</code> the 'checking the flag clears it' behaviour can be unhelpful and also suffers some of the issues of <code>stop()</code> because it can cause \"surprising\" exceptions to be throw at points other code has never anticipated. The right approach is to use your own flag and be in full control of where the process decides to quit.</p>\n\n<p>Take your pick.</p>\n\n<p>See also: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\" rel=\"nofollow noreferrer\" title=\"Java Thread Primitive Deprecation\">Java Thread Primitive Deprecation</a></p>\n\n<hr>\n\n<p>Ever wondered why when you click 'Cancel' on some concurrent process you are often made to wait ages for it to respond?\nThis is why. The task needs to come to a well defined point and do any necessary clean up to terminate in a well defined way.</p>\n\n<p>Think of <code>Thread#stop()</code> as like stopping a cyclist by kicking them off their bike. The method here waves a red flag at them and they then come to a halt as swiftly as they safely can.</p>\n\n<p><code>Thread#stop()</code> should never have been in Java and you should never use it.\nYou get away with it in development and small systems. It causes havoc in large production environments. \nIt's not just deprecated as 'not recommended' it is 'inherently unsafe' do not use it. \nIt's been deprecated for years and its disappointing that some 'removal date' has never been advertised.</p>\n\n<p>Here's an example that uses either <code>Thread#stop()</code> or <code>interrupt()</code> depending on whether you opt for being dangerous.</p>\n\n<pre><code>import java.lang.System;\nimport java.lang.Thread;\n\nclass Ideone\n{\n\n    private static boolean beDangerous=true;//Indicates if we're going to use the Thread#stop().... \n\n    //This main method uses either stop() or interrupt() depending on the option.\n    public static void main (String[] args) throws java.lang.Exception\n    {\n\n        PrimeFactor factor=new PrimeFactor();\n        try{\n    for(int i=1;i&lt;30;++i){\n        Thread thrd=new Thread(new Primer(factor));\n        thrd.start();\n\n        Thread.sleep(10);//Represents some concurrent processing...\n\n        if(beDangerous){\n            thrd.stop();\n        }else{\n            thrd.interrupt();\n        }\n        thrd.join();\n        if(!factor.check()){\n            System.out.println(\"Oops at \"+i);\n        }\n    }\n        }catch(Throwable t){\n            System.out.println(t);\n        }\n    }\n\n    //This class just hammers the PrimeFactor object until interrupt()ed (or stop()ed).\n    private static class Primer implements Runnable {\n\n        private PrimeFactor factor;\n\n        public Primer(PrimeFactor ifactor){\n            factor=ifactor;\n        }\n\n\n        public void run(){\n            int i=1;\n            while(!Thread.interrupted()){   \n                factor.set(i++);    \n        }\n           }\n    }\n\n    //Don't worry about this bit too much.\n    //It's a class that does a non-trivial calculation and that's all we need to know.\n    //\"You're not expected to understand this\". If you don't get the joke, Google it.\n\n    //This class calculates the largest prime factor of some given number.\n    //Here it represents a class that ensures internal consistency using synchronized.\n    //But if we use Thread#stop() this apprently thread-safe class will be broken.\n    private static class PrimeFactor {\n        private long num;\n        private long prime;\n\n        public static long getFactor(long num){\n            if(num&lt;=1){\n               return num;\n            }\n            long temp=num;\n            long factor=2;\n            for(int i=2;temp!=1;++i){\n                if(temp%i==0){\n                    factor=i;\n                    do{\n                        temp=temp/i;\n                    }while(temp%i==0);\n                }   \n            }\n            return factor;\n        } \n\n        public synchronized void set(long value){\n            num=value;\n            prime=getFactor(value);\n        }\n\n        public synchronized boolean check(){\n            return prime==getFactor(num);\n        }\n    }   \n}\n</code></pre>\n\n<p>Typical partial output:</p>\n\n<pre><code>Oops at 1\nOops at 2\nOops at 3\nOops at 6\nOops at 8\n</code></pre>\n\n<p>Notice that the <code>PrimeFactor</code> class can be described as thread-safe. All it's methods are <code>synchronized</code>. Imagine it's in some library. It's unrealistic to expect \"thread-safe\" to mean <code>Thread#stop()</code>-safe and the only way to do that would be intrusive. Putting calls to it in a  <code>try-catch(ThreadDeath tde)</code> block won't fix anything. The damage will have been down before it's caught.</p>\n\n<p>Don't convince yourself that changing <code>set()</code> to the following solves it:</p>\n\n<pre><code>public synchronized void set(long value){\n    long temp=getFactor(value);\n    num=value;\n    prime=temp;\n}\n</code></pre>\n\n<p>First and foremost the the <code>ThreadDeath</code> exception could throw during the assignments so all that does is potentially shorten the odds on the Race Condition. It hasn't been negated. Never make \"how likely is that to happen\" arguments about race conditions. Programs call methods billions of times so billion to one-shots come up regularly.</p>\n\n<p>To use <code>Thread#stop()</code> you can essentially never use any library objects including <code>java.*</code> and jump through hoops to handle <code>ThreadDeath</code> everywhere in your code and almost certainly eventually fail anyway.</p>\n"},{"tags":[],"owner":{"account_id":4089780,"reputation":1489,"user_id":3358126,"accept_rate":44,"display_name":"Pavel Niedoba"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650369173,"creation_date":1650369173,"answer_id":71924516,"question_id":50791081,"body_markdown":"In java there is no official way of killing thread. This is bug. (no need to argue with it here) Thread#stop() should not be deprecated. It may be improved that it cannot be consumed. Even now it will work most of the time just fine. \r\n\r\nRight now, if I write function which will be executed with kill need, I would start new thread and joint to it with timeout or other disconnect mechanism. This will make your code to continue like main thread was killed. Problem is that main thread is still running. All resources are still in use. This is still better than application being frozen. Calling thread.interrupt() is first step but it this does not work using thread.stop() is adequate here. It won&#39;t make things worse.\r\n\r\nIf you really must kill the thread, only way would be to start another jvm via jni, run unsafe code there and use linux kill -9 to stop the whole process if needed.\r\n\r\nI believe killing thread is perfectly possible, only jvm developers didn&#39;t care enough. I get into this situation all the time and answers like don&#39;t use any libraries, fix all foreign code, write your own language or live with it are just frustrating.","title":"Killing a thread or an asynchronous task","body":"<p>In java there is no official way of killing thread. This is bug. (no need to argue with it here) Thread#stop() should not be deprecated. It may be improved that it cannot be consumed. Even now it will work most of the time just fine.</p>\n<p>Right now, if I write function which will be executed with kill need, I would start new thread and joint to it with timeout or other disconnect mechanism. This will make your code to continue like main thread was killed. Problem is that main thread is still running. All resources are still in use. This is still better than application being frozen. Calling thread.interrupt() is first step but it this does not work using thread.stop() is adequate here. It won't make things worse.</p>\n<p>If you really must kill the thread, only way would be to start another jvm via jni, run unsafe code there and use linux kill -9 to stop the whole process if needed.</p>\n<p>I believe killing thread is perfectly possible, only jvm developers didn't care enough. I get into this situation all the time and answers like don't use any libraries, fix all foreign code, write your own language or live with it are just frustrating.</p>\n"}],"owner":{"account_id":13751383,"reputation":61,"user_id":9923376,"display_name":"Antil Karev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4003,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":4,"score":5,"last_activity_date":1650369173,"creation_date":1528695653,"question_id":50791081,"body_markdown":"let&#39;s say I use a jar that IBM has created. \r\nLet&#39;s say that this Jar has a function that I need but is ultimately build as such:\r\n\r\n     while (true) {\r\n         System.out.println(1)\r\n     }\r\n\r\n(of course it doesn&#39;t really just printing 1, but for the example let&#39;s say it is)\r\nSo, I made the call to the function that does it in another thread using future. How can I completely kill the thread that this code is running in? Or alternatively, how can I kill the asynchronous task in Kotlin that runs the code.\r\n\r\nSolutions in Kotlin or Java will be great,\r\nthanks in advance!\r\n\r\nEDIT:\r\n\r\nI&#39;ve found out, that if this is a thread, I can `Thread#stop()` it to really make it stop. But unfortunately making the constructor throwing exceptions multiple times, causes the JVM to erase the class from memory causing a `NoClassDefFoundError` when instantiating the class the next time.. ","title":"Killing a thread or an asynchronous task","body":"<p>let's say I use a jar that IBM has created. \nLet's say that this Jar has a function that I need but is ultimately build as such:</p>\n\n<pre><code> while (true) {\n     System.out.println(1)\n }\n</code></pre>\n\n<p>(of course it doesn't really just printing 1, but for the example let's say it is)\nSo, I made the call to the function that does it in another thread using future. How can I completely kill the thread that this code is running in? Or alternatively, how can I kill the asynchronous task in Kotlin that runs the code.</p>\n\n<p>Solutions in Kotlin or Java will be great,\nthanks in advance!</p>\n\n<p>EDIT:</p>\n\n<p>I've found out, that if this is a thread, I can <code>Thread#stop()</code> it to really make it stop. But unfortunately making the constructor throwing exceptions multiple times, causes the JVM to erase the class from memory causing a <code>NoClassDefFoundError</code> when instantiating the class the next time.. </p>\n"},{"tags":["java","graphics"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1356101187,"post_id":13992150,"comment_id":19311602,"body_markdown":"Where you want to draw rectangle? in Swing app? in JSP or where?","body":"Where you want to draw rectangle? in Swing app? in JSP or where?"},{"owner":{"account_id":1075496,"reputation":22388,"user_id":1073758,"accept_rate":75,"display_name":"moonwave99"},"score":0,"creation_date":1356101961,"post_id":13992150,"comment_id":19311950,"body_markdown":"Draw a rectangle, then rotate it via `AffineTransform`.","body":"Draw a rectangle, then rotate it via <code>AffineTransform</code>."},{"owner":{"account_id":505874,"reputation":8230,"user_id":1757964,"accept_rate":86,"display_name":"APerson"},"score":0,"creation_date":1528826814,"post_id":13992150,"comment_id":88651536,"body_markdown":"@J.Steen It wasn&#39;t, actually :)","body":"@J.Steen It wasn&#39;t, actually :)"}],"answers":[{"tags":[],"owner":{"account_id":2136870,"reputation":93,"user_id":1896410,"display_name":"nomnomnomplant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356101491,"creation_date":1356101491,"answer_id":13992256,"question_id":13992150,"body_markdown":"For the first point, you can just figure out the coordinates of the center of the square by using a distance formula, `(int)Math.sqrt((x1 - x2)*(x1 - x2) + (y1 - y2)*(y1 - y2));` them divide by 2. you can do this for the width and height. I don&#39;t know enough about Java draw to give you better answers based on what was in your question but I hope that helps.\r\n\r\nFor the second, you would need to just create a polygon right?","title":"Drawing rectangles at an angle","body":"<p>For the first point, you can just figure out the coordinates of the center of the square by using a distance formula, <code>(int)Math.sqrt((x1 - x2)*(x1 - x2) + (y1 - y2)*(y1 - y2));</code> them divide by 2. you can do this for the width and height. I don't know enough about Java draw to give you better answers based on what was in your question but I hope that helps.</p>\n\n<p>For the second, you would need to just create a polygon right?</p>\n"},{"tags":[],"owner":{"account_id":251932,"reputation":37692,"user_id":529630,"accept_rate":86,"display_name":"Dunes"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1650368703,"creation_date":1356103012,"answer_id":13992597,"question_id":13992150,"body_markdown":"To draw a rectangle in the way you suggest you need to use the class [`AffineTransform`][1]. The class can be used to transform a shape in all manner of ways. To perform a rotation use:\r\n\r\n\r\n    int x = 200;\r\n    int y = 100;\r\n    int width = 50;\r\n    int height = 30;\r\n    double theta = Math.toRadians(45);\r\n    \r\n    // create rect centred on the point we want to rotate it about\r\n    Rectangle2D rect = new Rectangle2D.Double(-width/2., -height/2., width, height);\r\n    \r\n    AffineTransform transform = new AffineTransform();\r\n    transform.rotate(theta);\r\n    transform.translate(x, y); \r\n    // it&#39;s been while, you might have to perform the rotation and translate in the\r\n    // opposite order\r\n    \r\n    Shape rotatedRect = transform.createTransformedShape(rect);\r\n    \r\n    Graphics2D graphics = ...; // get it from whatever you&#39;re drawing to\r\n    \r\n    graphics.draw(rotatedRect);\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/awt/geom/AffineTransform.html","title":"Drawing rectangles at an angle","body":"<p>To draw a rectangle in the way you suggest you need to use the class <a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/geom/AffineTransform.html\" rel=\"nofollow noreferrer\"><code>AffineTransform</code></a>. The class can be used to transform a shape in all manner of ways. To perform a rotation use:</p>\n<pre><code>int x = 200;\nint y = 100;\nint width = 50;\nint height = 30;\ndouble theta = Math.toRadians(45);\n\n// create rect centred on the point we want to rotate it about\nRectangle2D rect = new Rectangle2D.Double(-width/2., -height/2., width, height);\n\nAffineTransform transform = new AffineTransform();\ntransform.rotate(theta);\ntransform.translate(x, y); \n// it's been while, you might have to perform the rotation and translate in the\n// opposite order\n\nShape rotatedRect = transform.createTransformedShape(rect);\n\nGraphics2D graphics = ...; // get it from whatever you're drawing to\n\ngraphics.draw(rotatedRect);\n</code></pre>\n"}],"owner":{"account_id":505874,"reputation":8230,"user_id":1757964,"accept_rate":86,"display_name":"APerson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8706,"favorite_count":0,"down_vote_count":5,"up_vote_count":8,"accepted_answer_id":13992597,"answer_count":2,"score":3,"last_activity_date":1650368703,"creation_date":1356101056,"question_id":13992150,"body_markdown":"What is a method in Java that draws a rectangle given the following:\r\n\r\n- The coordinates of the center of the square\r\n- The angle of the rectangle from vertical, in degrees","title":"Drawing rectangles at an angle","body":"<p>What is a method in Java that draws a rectangle given the following:</p>\n\n<ul>\n<li>The coordinates of the center of the square</li>\n<li>The angle of the rectangle from vertical, in degrees</li>\n</ul>\n"},{"tags":["java","android","bash","shell","android-ndk"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650368272,"post_id":71924085,"comment_id":127093479,"body_markdown":"Bear in mind that the file system will also have selinux in force most probably: https://source.android.com/security/selinux/","body":"Bear in mind that the file system will also have selinux in force most probably: <a href=\"https://source.android.com/security/selinux/\" rel=\"nofollow noreferrer\">source.android.com/security/selinux</a>"}],"answers":[{"tags":[],"owner":{"account_id":10973709,"reputation":32,"user_id":8063011,"display_name":"Gaurav Rajput"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650368249,"creation_date":1650368249,"answer_id":71924324,"question_id":71924085,"body_markdown":"You have problem in reading that file.Script is fine. Can you try using this: \r\n\r\n    chmod u+x /data/local/tmp/test.sh\r\n\r\n\r\nYou can also go through this [this link][1].  \r\n\r\n\r\n  [1]: https://www.learn2crack.com/2014/03/android-executing-shell-commands.html","title":"How to run shell command on Android device?","body":"<p>You have problem in reading that file.Script is fine. Can you try using this:</p>\n<pre><code>chmod u+x /data/local/tmp/test.sh\n</code></pre>\n<p>You can also go through this <a href=\"https://www.learn2crack.com/2014/03/android-executing-shell-commands.html\" rel=\"nofollow noreferrer\">this link</a>.</p>\n"}],"owner":{"account_id":25002446,"reputation":1,"user_id":18862738,"display_name":"Bon Jay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650368249,"creation_date":1650367133,"question_id":71924085,"body_markdown":"I try to run shell command on android app by using Runtime class and ndk system/exec functions.\r\n\r\nFirst, i use Runtime class that was guided by other user.\r\nhttps://stackoverflow.com/questions/20932102/execute-shell-command-from-android\r\n\r\nlike this : Runtime.getRuntime().exec(&quot;/data/local/tmp/test.sh&quot;); (i double checked file permission it was 777)\r\n\r\nbut following error happended when i run upper command. \r\n\r\n    try {\r\n            Process process = Runtime.getRuntime().exec(&quot;/data/local/tmp/test.sh&quot;);\r\n            BufferedReader reader = new BufferedReader(\r\n                    new InputStreamReader(process.getInputStream()));\r\n            int read;\r\n            char[] buffer = new char[4096];\r\n            StringBuffer output = new StringBuffer();\r\n            while ((read = reader.read(buffer)) &gt; 0) {\r\n                output.append(buffer, 0, read);\r\n            }\r\n            reader.close();\r\n            process.waitFor();\r\n            return output.toString();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\nerror\r\n\r\n    at com.sec.sq.myapp.apis.test.tasks.test.MyTester.exec(MyTester.java:47)\r\n        at com.sec.sq.myapp.apis.test.tasks.test.MyTester.run(MyTester.java:29)&#160;\r\n        at com.sec.sq.myapp.apis.manager.ThreadManager.doTask(ThreadManager.java:108)&#160;\r\n        at com.sec.sq.myapp.apis.manager.ThreadManager.doTest(ThreadManager.java:81)&#160;\r\n        at com.sec.sq.myapp.apis.manager.ThreadManager.run(ThreadManager.java:118)&#160;\r\n     Caused by: java.io.IOException: error=13, Permission denied\r\n\r\n\r\nSecond, i tried native-ndk system/exec functions but it&#39;s also not working.\r\n\r\n&gt; - execl(&quot;/system/bin/sh&quot;, &quot;/data/local/tmp/test.sh&quot;, NULL);\r\n  \r\n: app crashed, and can see permission denied error=13.\r\n&gt;\r\n&gt; system(&quot;/system/bin/sh /data/local/tmp/test.sh&quot;);\r\n\r\n : noting happended and shell not run.\r\n\r\n\r\n\r\nCan somebody help me to find a way how to run shell command on Android app?","title":"How to run shell command on Android device?","body":"<p>I try to run shell command on android app by using Runtime class and ndk system/exec functions.</p>\n<p>First, i use Runtime class that was guided by other user.\n<a href=\"https://stackoverflow.com/questions/20932102/execute-shell-command-from-android\">execute shell command from android</a></p>\n<p>like this : Runtime.getRuntime().exec(&quot;/data/local/tmp/test.sh&quot;); (i double checked file permission it was 777)</p>\n<p>but following error happended when i run upper command.</p>\n<pre><code>try {\n        Process process = Runtime.getRuntime().exec(&quot;/data/local/tmp/test.sh&quot;);\n        BufferedReader reader = new BufferedReader(\n                new InputStreamReader(process.getInputStream()));\n        int read;\n        char[] buffer = new char[4096];\n        StringBuffer output = new StringBuffer();\n        while ((read = reader.read(buffer)) &gt; 0) {\n            output.append(buffer, 0, read);\n        }\n        reader.close();\n        process.waitFor();\n        return output.toString();\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n<p>error</p>\n<pre><code>at com.sec.sq.myapp.apis.test.tasks.test.MyTester.exec(MyTester.java:47)\n    at com.sec.sq.myapp.apis.test.tasks.test.MyTester.run(MyTester.java:29) \n    at com.sec.sq.myapp.apis.manager.ThreadManager.doTask(ThreadManager.java:108) \n    at com.sec.sq.myapp.apis.manager.ThreadManager.doTest(ThreadManager.java:81) \n    at com.sec.sq.myapp.apis.manager.ThreadManager.run(ThreadManager.java:118) \n Caused by: java.io.IOException: error=13, Permission denied\n</code></pre>\n<p>Second, i tried native-ndk system/exec functions but it's also not working.</p>\n<blockquote>\n<ul>\n<li>execl(&quot;/system/bin/sh&quot;, &quot;/data/local/tmp/test.sh&quot;, NULL);</li>\n</ul>\n</blockquote>\n<p>: app crashed, and can see permission denied error=13.</p>\n<blockquote>\n<p>system(&quot;/system/bin/sh /data/local/tmp/test.sh&quot;);</p>\n</blockquote>\n<p>: noting happended and shell not run.</p>\n<p>Can somebody help me to find a way how to run shell command on Android app?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":24129251,"reputation":124,"user_id":18097074,"display_name":"Santil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650368123,"creation_date":1650368123,"answer_id":71924296,"question_id":71924255,"body_markdown":"Use the below logic. Before that get the username and password from the user and authenticate it ...and send the authenticationto the generate token method and generate token like this.\r\n   \r\n\r\n     public String generateToken(Authentication authentication) {\r\n    \t\tDetails user = (Details) authentication.getPrincipal();\r\n    \r\n    \t\treturn Jwts.builder().setClaims(null).setSubject(user.getUsername()).setSubject(user.getEmail())\r\n    \t\t\t\t.setIssuedAt(new Date())\r\n    \t\t\t\t.setExpiration(new Date((new Date()).getTime() + tokenExpirationTime))\r\n    \t\t\t\t.signWith(SignatureAlgorithm.HS512, secretKey).compact();\r\n    \t}","title":"How to use Jwts to generate Jwt Token ? Can anyone share me code..?","body":"<p>Use the below logic. Before that get the username and password from the user and authenticate it ...and send the authenticationto the generate token method and generate token like this.</p>\n<pre><code> public String generateToken(Authentication authentication) {\n        Details user = (Details) authentication.getPrincipal();\n\n        return Jwts.builder().setClaims(null).setSubject(user.getUsername()).setSubject(user.getEmail())\n                .setIssuedAt(new Date())\n                .setExpiration(new Date((new Date()).getTime() + tokenExpirationTime))\n                .signWith(SignatureAlgorithm.HS512, secretKey).compact();\n    }\n</code></pre>\n"}],"owner":{"account_id":25002761,"reputation":1,"user_id":18863020,"display_name":"Bhuvaneswari Thulasi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":660,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71924296,"answer_count":1,"score":-1,"last_activity_date":1650368123,"creation_date":1650367926,"question_id":71924255,"body_markdown":"    private String dogenerateToken(Map&lt;String, Object&gt; map, String username) {\r\n    \treturn null;\r\n    }\r\nI am having only null method...Can you write logic to generate jwt token...","title":"How to use Jwts to generate Jwt Token ? Can anyone share me code..?","body":"<pre><code>private String dogenerateToken(Map&lt;String, Object&gt; map, String username) {\n    return null;\n}\n</code></pre>\n<p>I am having only null method...Can you write logic to generate jwt token...</p>\n"},{"tags":["java","servlets","radio-button"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":2,"creation_date":1333737347,"post_id":10047654,"comment_id":12855437,"body_markdown":"Oh no, why aren&#39;t you using a JSP to generate the HTML?","body":"Oh no, why aren&#39;t you using a JSP to generate the HTML?"}],"answers":[{"tags":[],"owner":{"account_id":1375604,"reputation":7717,"user_id":1309650,"accept_rate":33,"display_name":"dash1e"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1333737533,"creation_date":1333737533,"answer_id":10047719,"question_id":10047654,"body_markdown":"Give the same name to the radios of the same question, and set different values.\r\nLook at this [page][1].\r\n\r\nThen in the request you will get a parameter with the name of the radio group and the value selected.\r\nAfter submit the servlet the receives the post can use:\r\n\r\n    String value = request.getParameter(&quot;radioName&quot;);\r\n\r\n  [1]: http://www.w3schools.com/html/html_forms.asp","title":"Java Servlet: How can I retrieve selected radio button values?","body":"<p>Give the same name to the radios of the same question, and set different values.\nLook at this <a href=\"http://www.w3schools.com/html/html_forms.asp\" rel=\"nofollow\">page</a>.</p>\n\n<p>Then in the request you will get a parameter with the name of the radio group and the value selected.\nAfter submit the servlet the receives the post can use:</p>\n\n<pre><code>String value = request.getParameter(\"radioName\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":55539,"reputation":160129,"user_id":166339,"display_name":"Asaph"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1333739299,"creation_date":1333737630,"answer_id":10047738,"question_id":10047654,"body_markdown":"You haven&#39;t named your radio buttons correctly. Each radio option for the same question need the same name attribute. Also, you should have a `value` attribute on each `&lt;input type=&quot;radio&quot;&gt;`. I&#39;m not sure you need the `onclick` handler at all. You should also have a `&lt;/form&gt;` closer tag. Your form might look like this:\r\n\r\n     out.println(&quot;&lt;form action=\\&quot;Game\\&quot; method=\\&quot;POST\\&quot;&gt;&quot; +\r\n\r\n        &quot;&lt;b&gt;Question 1: Are you over the age of 25? &lt;/b&gt;&lt;br&gt; &lt;br&gt;&quot; +\r\n\r\n        &quot;&lt;input type = \\&quot;radio\\&quot; name = \\&quot;Q1\\&quot; value=\\&quot;True\\&quot;&gt; True &quot; +\r\n        &quot;&lt;input type = \\&quot;radio\\&quot; name = \\&quot;Q1\\&quot; value=\\&quot;False\\&quot;&gt; False&lt;br&gt;&quot; +\r\n\r\n        &quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;Question 2: Are you from earth?&lt;/b&gt;&lt;br&gt; &lt;br&gt;&quot; +\r\n\r\n        &quot;&lt;input type = \\&quot;radio\\&quot; name = \\&quot;Q2\\&quot; value=\\&quot;True\\&quot;&gt; True &quot; +\r\n        &quot;&lt;input type = \\&quot;radio\\&quot; name = \\&quot;Q2\\&quot; value=\\&quot;False\\&quot;&gt; False&lt;br&gt;&quot; +\r\n\r\n        &quot;&lt;Center&gt;&lt;INPUT  TYPE=\\&quot;SUBMIT\\&quot;&gt;&lt;/Center&gt;&quot; +\r\n\r\n        &quot;&lt;/form&gt;&quot;\r\n        );\r\n\r\nAnd then in the `doPost()` method of servlet that handles the form submission, you can access the values using `request.getParameter()`. Something like this:\r\n\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        String q1 = request.getParameter(&quot;Q1&quot;);\r\n        String q2 = request.getParameter(&quot;Q2&quot;);\r\n        // more processing code...\r\n    }\r\n","title":"Java Servlet: How can I retrieve selected radio button values?","body":"<p>You haven't named your radio buttons correctly. Each radio option for the same question need the same name attribute. Also, you should have a <code>value</code> attribute on each <code>&lt;input type=\"radio\"&gt;</code>. I'm not sure you need the <code>onclick</code> handler at all. You should also have a <code>&lt;/form&gt;</code> closer tag. Your form might look like this:</p>\n\n<pre><code> out.println(\"&lt;form action=\\\"Game\\\" method=\\\"POST\\\"&gt;\" +\n\n    \"&lt;b&gt;Question 1: Are you over the age of 25? &lt;/b&gt;&lt;br&gt; &lt;br&gt;\" +\n\n    \"&lt;input type = \\\"radio\\\" name = \\\"Q1\\\" value=\\\"True\\\"&gt; True \" +\n    \"&lt;input type = \\\"radio\\\" name = \\\"Q1\\\" value=\\\"False\\\"&gt; False&lt;br&gt;\" +\n\n    \"&lt;br&gt;&lt;br&gt;&lt;b&gt;Question 2: Are you from earth?&lt;/b&gt;&lt;br&gt; &lt;br&gt;\" +\n\n    \"&lt;input type = \\\"radio\\\" name = \\\"Q2\\\" value=\\\"True\\\"&gt; True \" +\n    \"&lt;input type = \\\"radio\\\" name = \\\"Q2\\\" value=\\\"False\\\"&gt; False&lt;br&gt;\" +\n\n    \"&lt;Center&gt;&lt;INPUT  TYPE=\\\"SUBMIT\\\"&gt;&lt;/Center&gt;\" +\n\n    \"&lt;/form&gt;\"\n    );\n</code></pre>\n\n<p>And then in the <code>doPost()</code> method of servlet that handles the form submission, you can access the values using <code>request.getParameter()</code>. Something like this:</p>\n\n<pre><code>protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    String q1 = request.getParameter(\"Q1\");\n    String q2 = request.getParameter(\"Q2\");\n    // more processing code...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1384870,"reputation":5570,"user_id":1317117,"display_name":"andih"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1650367799,"creation_date":1333738060,"answer_id":10047829,"question_id":10047654,"body_markdown":"You have to define the value you want to retrieve when the radio button is selected\r\n\r\nThe *value* setting defines what will be submitted if checked.\r\n\r\nThe *name* setting tells which group of radio buttons the field belongs to. When you select one button, all other buttons in the same group are unselected.\r\n\r\n```html\r\n&lt;input type=&quot;radio&quot; name=&quot;Q2&quot; onclick=&quot;getAnswer(&#39;b&#39;)&quot; value=&quot;b&quot;&gt;\r\n&lt;input type=&quot;radio&quot; name=&quot;Q2&quot; onclick=&quot;getAnswer(&#39;a&#39;)&quot; value=&quot;a&quot;&gt;\r\n```\r\n\r\nIn your Servlet which will recieve the request you&#39;ll have something like \r\n\r\n```java\r\npublic void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    // get the value of the button group \r\n    String q2 = request.getParameter(&quot;Q2&quot;);\r\n    // compare selected value \r\n    if (&quot;a&quot;.equals(q2)) {\r\n    ...\r\n    }\r\n    ...\r\n    \r\n}\r\n```\r\n","title":"Java Servlet: How can I retrieve selected radio button values?","body":"<p>You have to define the value you want to retrieve when the radio button is selected</p>\n<p>The <em>value</em> setting defines what will be submitted if checked.</p>\n<p>The <em>name</em> setting tells which group of radio buttons the field belongs to. When you select one button, all other buttons in the same group are unselected.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=&quot;radio&quot; name=&quot;Q2&quot; onclick=&quot;getAnswer('b')&quot; value=&quot;b&quot;&gt;\n&lt;input type=&quot;radio&quot; name=&quot;Q2&quot; onclick=&quot;getAnswer('a')&quot; value=&quot;a&quot;&gt;\n</code></pre>\n<p>In your Servlet which will recieve the request you'll have something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    // get the value of the button group \n    String q2 = request.getParameter(&quot;Q2&quot;);\n    // compare selected value \n    if (&quot;a&quot;.equals(q2)) {\n    ...\n    }\n    ...\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4442770,"reputation":1415,"user_id":3616924,"accept_rate":71,"display_name":"Balaji"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408447400,"creation_date":1408447400,"answer_id":25382147,"question_id":10047654,"body_markdown":"For your HTML Code the below lines are enough\r\n\r\n    protected void doPost(HttpServletRequest req,HttpServletResponse res){\r\n    String q1 = request.getParameter(&quot;Q1&quot;);\r\n    String q2 = request.getParameter(&quot;Q2&quot;);`\r\n    }\r\n\r\nFor example, Considering your HTML Code.\r\n\r\nIf Q1 is pressed\r\n\r\n&gt; &quot;TRUE&quot;\r\n\r\n then it would be our &quot;Input&quot; in Servlet.","title":"Java Servlet: How can I retrieve selected radio button values?","body":"<p>For your HTML Code the below lines are enough</p>\n\n<pre><code>protected void doPost(HttpServletRequest req,HttpServletResponse res){\nString q1 = request.getParameter(\"Q1\");\nString q2 = request.getParameter(\"Q2\");`\n}\n</code></pre>\n\n<p>For example, Considering your HTML Code.</p>\n\n<p>If Q1 is pressed</p>\n\n<blockquote>\n  <p>\"TRUE\"</p>\n</blockquote>\n\n<p>then it would be our \"Input\" in Servlet.</p>\n"}],"owner":{"account_id":340000,"reputation":762,"user_id":669788,"accept_rate":56,"display_name":"Php Pete"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94095,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":4,"score":6,"last_activity_date":1650367799,"creation_date":1333737169,"question_id":10047654,"body_markdown":"I have created a simple servlet in which a user will be presented with 2 questions, answering either true or false. My problem lies in retrieving the answers selected by the user. \r\n\r\nCode:\r\n\r\n    \t\t\tout.println(&quot;&lt;FORM ACTION=\\&quot;Game\\&quot; METHOD = \\&quot;POST\\&quot;&gt;&quot; +\r\n\t\t\t\r\n\t\t\t&quot;&lt;b&gt;Question 1: Are you over the age of 25? &lt;/b&gt;&lt;br&gt; &lt;br&gt;&quot; +\r\n\r\n\t\t\t&quot;&lt;input type = \\&quot;radio\\&quot; name = \\&quot;Q1rad1\\&quot; onclick = \\&quot;getAnswer(&#39;a&#39;)\\&quot;&gt; True &quot; +\r\n\t\t\t&quot;&lt;input type = \\&quot;radio\\&quot; name = \\&quot;Q1rad2\\&quot; onclick = \\&quot;getAnswer(&#39;b&#39;)\\&quot;&gt; False&lt;br&gt;&quot; +\r\n\r\n\t\t\t&quot;&lt;br&gt;&lt;br&gt;&lt;b&gt;Question 2: Are you from earth?&lt;/b&gt;&lt;br&gt; &lt;br&gt;&quot; +\r\n\r\n\t\t\t&quot;&lt;input type = \\&quot;radio\\&quot; name = \\&quot;Q2rad1\\&quot; onclick = \\&quot;getAnswer(&#39;a&#39;)\\&quot;&gt; True &quot; +\r\n\t\t\t&quot;&lt;input type = \\&quot;radio\\&quot; name = \\&quot;Q2rad2\\&quot; onclick = \\&quot;getAnswer(&#39;b&#39;)\\&quot;&gt; False&lt;br&gt;&quot; +\r\n\r\n    \t\tout.println(&quot;&lt;Center&gt;&lt;INPUT  TYPE=\\&quot;SUBMIT\\&quot;&gt;&lt;/Center&gt;&quot;);\r\n\r\n\r\n\t\t\t);\r\n\r\nEach question has 2 radio buttons, Q1rad1 &amp; Q2rad2, for answering True or False. How can i know the value selected by each user when the submit button is pressed.\r\n\r\nI understand it may be more efficient when using Javascript but for the purposes of this problem I must be using servlets.","title":"Java Servlet: How can I retrieve selected radio button values?","body":"<p>I have created a simple servlet in which a user will be presented with 2 questions, answering either true or false. My problem lies in retrieving the answers selected by the user. </p>\n\n<p>Code:</p>\n\n<pre><code>            out.println(\"&lt;FORM ACTION=\\\"Game\\\" METHOD = \\\"POST\\\"&gt;\" +\n\n        \"&lt;b&gt;Question 1: Are you over the age of 25? &lt;/b&gt;&lt;br&gt; &lt;br&gt;\" +\n\n        \"&lt;input type = \\\"radio\\\" name = \\\"Q1rad1\\\" onclick = \\\"getAnswer('a')\\\"&gt; True \" +\n        \"&lt;input type = \\\"radio\\\" name = \\\"Q1rad2\\\" onclick = \\\"getAnswer('b')\\\"&gt; False&lt;br&gt;\" +\n\n        \"&lt;br&gt;&lt;br&gt;&lt;b&gt;Question 2: Are you from earth?&lt;/b&gt;&lt;br&gt; &lt;br&gt;\" +\n\n        \"&lt;input type = \\\"radio\\\" name = \\\"Q2rad1\\\" onclick = \\\"getAnswer('a')\\\"&gt; True \" +\n        \"&lt;input type = \\\"radio\\\" name = \\\"Q2rad2\\\" onclick = \\\"getAnswer('b')\\\"&gt; False&lt;br&gt;\" +\n\n        out.println(\"&lt;Center&gt;&lt;INPUT  TYPE=\\\"SUBMIT\\\"&gt;&lt;/Center&gt;\");\n\n\n        );\n</code></pre>\n\n<p>Each question has 2 radio buttons, Q1rad1 &amp; Q2rad2, for answering True or False. How can i know the value selected by each user when the submit button is pressed.</p>\n\n<p>I understand it may be more efficient when using Javascript but for the purposes of this problem I must be using servlets.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8573,"page":1419,"page_size":100}
