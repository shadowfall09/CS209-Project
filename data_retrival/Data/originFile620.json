{"items":[{"tags":["java","multimap"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1411056624,"post_id":25917531,"comment_id":40569467,"body_markdown":"You need to make the &quot;value&quot; a List.","body":"You need to make the &quot;value&quot; a List."},{"owner":{"account_id":239923,"reputation":11783,"user_id":509840,"accept_rate":71,"display_name":"rajah9"},"score":0,"creation_date":1411056700,"post_id":25917531,"comment_id":40569512,"body_markdown":"Make the value a subclass of Collection, such as ArrayList. The code you have above will not accumulate 1 and 2 but rather replace 1 with 2.","body":"Make the value a subclass of Collection, such as ArrayList. The code you have above will not accumulate 1 and 2 but rather replace 1 with 2."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1411062915,"creation_date":1411056685,"answer_id":25917581,"question_id":25917531,"body_markdown":"You can use a Multimap instead. It keeps multiple values for a key in a list. There are implementations in [commons-collections][1] and in [Guava][2].\r\n\r\n    Multimap&lt;String, String&gt; multimap = ArrayListMultimap.create();   \r\n    multimap.put(&quot;ducks&quot;, &quot;Huey&quot;);\r\n    multimap.put(&quot;ducks&quot;, &quot;Dewey&quot;);\r\n    multimap.put(&quot;ducks&quot;, &quot;Louie&quot;);\r\n    Collection&lt;String&gt; ducks = multimap.get(&quot;ducks&quot;);\r\n    System.out.println(ducks); // [Huey, Dewey, Louie]\r\n\r\nIt is similar to using a Hashmap where the values are lists, but you don&#39;t have to explicitly create the lists.\r\n\r\nThe same example done the do-it-yourself way looks like:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;ducks&quot;, new ArrayList&lt;String&gt;());\r\n    map.get(&quot;ducks&quot;).add(&quot;Huey&quot;);\r\n    map.get(&quot;ducks&quot;).add(&quot;Dewey&quot;);\r\n    map.get(&quot;ducks&quot;).add(&quot;Louie&quot;);\r\n    // or as an alternative to the prev 4 lines:\r\n    // map.put(&quot;ducks&quot;, new ArrayList&lt;String&gt;(\r\n    //     new String[] {&quot;Huey&quot;, &quot;Dewey&quot;, &quot;Louie&quot;}));\r\n    Collection&lt;String&gt; ducks = map.get(&quot;ducks&quot;);\r\n    System.out.println(ducks); // [Huey, Dewey, Louie]\r\n\r\nNote that you can use the Multimap as a builder and call [asMap][3] on it to return a map.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiMap.html\r\n  [2]: http://docs.guava-libraries.googlecode.com/git-history/master/javadoc/com/google/common/collect/Multimap.html\r\n  [3]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Multimap.html#asMap%28%29","title":"HashMap with multiple Value","body":"<p>You can use a Multimap instead. It keeps multiple values for a key in a list. There are implementations in <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiMap.html\" rel=\"nofollow\">commons-collections</a> and in <a href=\"http://docs.guava-libraries.googlecode.com/git-history/master/javadoc/com/google/common/collect/Multimap.html\" rel=\"nofollow\">Guava</a>.</p>\n\n<pre><code>Multimap&lt;String, String&gt; multimap = ArrayListMultimap.create();   \nmultimap.put(\"ducks\", \"Huey\");\nmultimap.put(\"ducks\", \"Dewey\");\nmultimap.put(\"ducks\", \"Louie\");\nCollection&lt;String&gt; ducks = multimap.get(\"ducks\");\nSystem.out.println(ducks); // [Huey, Dewey, Louie]\n</code></pre>\n\n<p>It is similar to using a Hashmap where the values are lists, but you don't have to explicitly create the lists.</p>\n\n<p>The same example done the do-it-yourself way looks like:</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\nmap.put(\"ducks\", new ArrayList&lt;String&gt;());\nmap.get(\"ducks\").add(\"Huey\");\nmap.get(\"ducks\").add(\"Dewey\");\nmap.get(\"ducks\").add(\"Louie\");\n// or as an alternative to the prev 4 lines:\n// map.put(\"ducks\", new ArrayList&lt;String&gt;(\n//     new String[] {\"Huey\", \"Dewey\", \"Louie\"}));\nCollection&lt;String&gt; ducks = map.get(\"ducks\");\nSystem.out.println(ducks); // [Huey, Dewey, Louie]\n</code></pre>\n\n<p>Note that you can use the Multimap as a builder and call <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Multimap.html#asMap%28%29\" rel=\"nofollow\">asMap</a> on it to return a map.</p>\n"},{"tags":[],"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677264785,"creation_date":1411056736,"answer_id":25917597,"question_id":25917531,"body_markdown":"Try `HashMap&lt;Key, List&lt;Value&gt;&gt;`  You will need to manage the list, creating if it doesn&#39;t exist already, and adding to it if you need.  \r\n\r\nGuava also provides a [Multimap][1] implementation\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Multimap.html","title":"HashMap with multiple Value","body":"<p>Try <code>HashMap&lt;Key, List&lt;Value&gt;&gt;</code>  You will need to manage the list, creating if it doesn't exist already, and adding to it if you need.</p>\n<p>Guava also provides a <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Multimap.html\" rel=\"nofollow noreferrer\">Multimap</a> implementation</p>\n"},{"tags":[],"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411056937,"creation_date":1411056937,"answer_id":25917656,"question_id":25917531,"body_markdown":"Do it this way\r\n\r\n    Map&lt;String, List&gt; map = new HashMap&lt;String, List&gt;();\r\n    List listOne = new ArrayList();\r\n    for(int i=0;i&lt;4;i++){\r\n        listOne.add(i);\r\n    }\r\n    List listTwo = new ArrayList();\r\n    for(int i=4;i&lt;6;i++){\r\n        listTwo.add(i);\r\n    }\r\n    map.put(&quot;listOne&quot;,listOne);\r\n    map.put(&quot;listTwo&quot;,listTwo);\r\nOr you can even use Guava&#39;s Multimap","title":"HashMap with multiple Value","body":"<p>Do it this way</p>\n\n<pre><code>Map&lt;String, List&gt; map = new HashMap&lt;String, List&gt;();\nList listOne = new ArrayList();\nfor(int i=0;i&lt;4;i++){\n    listOne.add(i);\n}\nList listTwo = new ArrayList();\nfor(int i=4;i&lt;6;i++){\n    listTwo.add(i);\n}\nmap.put(\"listOne\",listOne);\nmap.put(\"listTwo\",listTwo);\n</code></pre>\n\n<p>Or you can even use Guava's Multimap</p>\n"}],"owner":{"account_id":5039771,"reputation":75,"user_id":4047545,"accept_rate":50,"display_name":"starter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2242,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1430338010,"accepted_answer_id":25917581,"answer_count":3,"score":2,"last_activity_date":1677264785,"creation_date":1411056489,"question_id":25917531,"body_markdown":"I want to implement Hash table with multiple values in java i.e\r\n   \r\n    // if sample is a hashmap\r\n    sample.put(1,1);\r\n    sample.put(1,2);\r\n\r\nand `sample.get(1);` will return 2 values.\r\n \r\nHow can i achieve this?","title":"HashMap with multiple Value","body":"<p>I want to implement Hash table with multiple values in java i.e</p>\n\n<pre><code>// if sample is a hashmap\nsample.put(1,1);\nsample.put(1,2);\n</code></pre>\n\n<p>and <code>sample.get(1);</code> will return 2 values.</p>\n\n<p>How can i achieve this?</p>\n"},{"tags":["java","json","sorting","vert.x"],"comments":[{"owner":{"account_id":5631513,"reputation":398,"user_id":4458340,"display_name":"Bruno Marco Visioli"},"score":1,"creation_date":1677264614,"post_id":75560215,"comment_id":133310182,"body_markdown":"If you add an example of your input and the expected output it would make it easier for people to understand what you want to achieve. For me, it&#39;s not clear if you want the fields of a JSON object to be serialized alphabetically or if it&#39;s a JSON array that should be ordered based on some property of its items.","body":"If you add an example of your input and the expected output it would make it easier for people to understand what you want to achieve. For me, it&#39;s not clear if you want the fields of a JSON object to be serialized alphabetically or if it&#39;s a JSON array that should be ordered based on some property of its items."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1677269167,"post_id":75560215,"comment_id":133311232,"body_markdown":"Does this answer your question? [Jackson&#39;s SORT\\_PROPERTIES\\_ALPHABETICALLY for Map](https://stackoverflow.com/questions/48986100/jacksons-sort-properties-alphabetically-for-map)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48986100/jacksons-sort-properties-alphabetically-for-map\">Jackson&#39;s SORT_PROPERTIES_ALPHABETICALLY for Map</a>"}],"owner":{"account_id":4075017,"reputation":703,"user_id":3346931,"accept_rate":43,"display_name":"needoriginalname"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677263806,"creation_date":1677263806,"question_id":75560215,"body_markdown":"This is an issue I am trying to solve for work. We are using the Json Parser that comes part of the Vert.x library for Java.\r\n\r\nI need a way to serialize json, so when the generated code is done o in alphabetical order, as the json is going to used for a list of rules for our application.\r\n\r\nSince the rule file is over 2000 lines, I want to use a json generator so the rule file is easier to maintain, however it needs to be alphabetically sorted otherwise it will be difficult to read in a PR.\r\n\r\nI have tried a few attempts to configure the underlining Jackson Serializer to enable sorting, but so far it has not generated the Json in an alphabetical order. ","title":"How can I make a Json Serializer, to serialize json to an alphabetical better","body":"<p>This is an issue I am trying to solve for work. We are using the Json Parser that comes part of the Vert.x library for Java.</p>\n<p>I need a way to serialize json, so when the generated code is done o in alphabetical order, as the json is going to used for a list of rules for our application.</p>\n<p>Since the rule file is over 2000 lines, I want to use a json generator so the rule file is easier to maintain, however it needs to be alphabetically sorted otherwise it will be difficult to read in a PR.</p>\n<p>I have tried a few attempts to configure the underlining Jackson Serializer to enable sorting, but so far it has not generated the Json in an alphabetical order.</p>\n"},{"tags":["java","grpc","netty"],"comments":[{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":0,"creation_date":1677166362,"post_id":75540208,"comment_id":133287884,"body_markdown":"Describe more of how you&#39;re making a fatjar. See https://github.com/grpc/grpc-java/issues/9387","body":"Describe more of how you&#39;re making a fatjar. See <a href=\"https://github.com/grpc/grpc-java/issues/9387\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-java/issues/9387</a>"},{"owner":{"account_id":13582506,"reputation":41,"user_id":9798048,"display_name":"rocksnslopes"},"score":0,"creation_date":1677176325,"post_id":75540208,"comment_id":133291131,"body_markdown":"Using gradle and [shadow plugin](https://github.com/johnrengelman/shadow)","body":"Using gradle and <a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\">shadow plugin</a>"}],"answers":[{"tags":[],"owner":{"account_id":13582506,"reputation":41,"user_id":9798048,"display_name":"rocksnslopes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677263409,"creation_date":1677199989,"answer_id":75551717,"question_id":75540208,"body_markdown":"Found the solution for my particular case here:\r\n\r\nhttps://stackoverflow.com/questions/73286776/grpc-unsupportedaddresstypeexception-but-only-when-packaged-with-shadowjar\r\n\r\nApparently my fat jar was being packaged incorrectly and I needed to use the [`mergeServiceFiles()` function](https://imperceptiblethoughts.com/shadow/configuration/merging/#merging-service-descriptor-files) from shadowJar in order to merge my service files.","title":"Address family not supported by protocol for GRPC Netty","body":"<p>Found the solution for my particular case here:</p>\n<p><a href=\"https://stackoverflow.com/questions/73286776/grpc-unsupportedaddresstypeexception-but-only-when-packaged-with-shadowjar\">gRPC UnsupportedAddressTypeException, but only when packaged with shadowJar</a></p>\n<p>Apparently my fat jar was being packaged incorrectly and I needed to use the <a href=\"https://imperceptiblethoughts.com/shadow/configuration/merging/#merging-service-descriptor-files\" rel=\"nofollow noreferrer\"><code>mergeServiceFiles()</code> function</a> from shadowJar in order to merge my service files.</p>\n"}],"owner":{"account_id":13582506,"reputation":41,"user_id":9798048,"display_name":"rocksnslopes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677263409,"creation_date":1677121580,"question_id":75540208,"body_markdown":"I&#39;m getting the following error when deployed to a remote host:\r\n\r\n```\r\nWrapped by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: connect(..) failed: Address family not supported by protocol: /somegrpcservice-grpc.abc.com:443\r\nWrapped by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\n\tat io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:271)\r\n\tat io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:252)\r\n\tat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:165)\r\n```\r\n\r\nI&#39;m deploying using a fatjar, when run locally everything fine.  It is only when the service is deployed to a remote host.  Some things I&#39;ve already tried:\r\n\r\n- Various version of **io.grpc:grpc-netty-shaded** from 1.30.0 to 1.53.0\r\n- Running Ncat from the remote host and successfully connecting\r\n- Setting system property:  -Djava.net.preferIPv4Stack=true\r\n\r\nNone of these seemed to make a difference.  Appreciate if anyone else has any ideas.  Thanks!\r\n","title":"Address family not supported by protocol for GRPC Netty","body":"<p>I'm getting the following error when deployed to a remote host:</p>\n<pre><code>Wrapped by: io.grpc.netty.shaded.io.netty.channel.AbstractChannel$AnnotatedConnectException: connect(..) failed: Address family not supported by protocol: /somegrpcservice-grpc.abc.com:443\nWrapped by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\n    at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:271)\n    at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:252)\n    at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:165)\n</code></pre>\n<p>I'm deploying using a fatjar, when run locally everything fine.  It is only when the service is deployed to a remote host.  Some things I've already tried:</p>\n<ul>\n<li>Various version of <strong>io.grpc:grpc-netty-shaded</strong> from 1.30.0 to 1.53.0</li>\n<li>Running Ncat from the remote host and successfully connecting</li>\n<li>Setting system property:  -Djava.net.preferIPv4Stack=true</li>\n</ul>\n<p>None of these seemed to make a difference.  Appreciate if anyone else has any ideas.  Thanks!</p>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1677260393,"post_id":75559087,"comment_id":133309183,"body_markdown":"Is SnapStart configured on these Lambda functions? Do CloudWatch Logs for the errant Lambda invocation show START, END, and REPORT logs that are what you expected to see (success and correct, sub-15 minute execution)?","body":"Is SnapStart configured on these Lambda functions? Do CloudWatch Logs for the errant Lambda invocation show START, END, and REPORT logs that are what you expected to see (success and correct, sub-15 minute execution)?"},{"owner":{"account_id":11001743,"reputation":587,"user_id":8082161,"display_name":"Werner Daehn"},"score":0,"creation_date":1677262869,"post_id":75559087,"comment_id":133309773,"body_markdown":"Snapstart no. START, END, REPORT all present. I will update above post with that info.","body":"Snapstart no. START, END, REPORT all present. I will update above post with that info."},{"owner":{"account_id":11001743,"reputation":587,"user_id":8082161,"display_name":"Werner Daehn"},"score":0,"creation_date":1677263398,"post_id":75559087,"comment_id":133309905,"body_markdown":"@jarmod You might be on to something: Memory Size: 4096 MB Max Memory Used: 4096 MB","body":"@jarmod You might be on to something: Memory Size: 4096 MB Max Memory Used: 4096 MB"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1677265844,"post_id":75559087,"comment_id":133310480,"body_markdown":"Yes, that sounds like something to dig into. FYI increasing RAM size for your Lambda functions also proportionally increases CPU, and gives you a greater share of network bandwidth. While it costs more per CPU second, tasks complete faster so the net increase in cost might be quite manageable.","body":"Yes, that sounds like something to dig into. FYI increasing RAM size for your Lambda functions also proportionally increases CPU, and gives you a greater share of network bandwidth. While it costs more per CPU second, tasks complete faster so the net increase in cost might be quite manageable."}],"owner":{"account_id":11001743,"reputation":587,"user_id":8082161,"display_name":"Werner Daehn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677263142,"creation_date":1677256427,"question_id":75559087,"body_markdown":"I have two AWS Lambdas, one is creating individual files and the other is supposed to combine all files in a zip folder. Goal is to create one file per day.\r\nThe called Lambda gets the file type as parameter, reads the data from matching DynamoDB and produces the output file.\r\n\r\nThe calling lambda goes through the list of all file types and for each submits the request to produce a file via the ExecutorService. Its callable does a `AWSLambda.invoke()`.\r\nThis works for 29 files but one, always the same and the one that takes the longest with 6 minutes, finished and even 10 minutes later the AWSLambda.invoke() call is still waiting. Eventually the calling lambda dies after 900 seconds (Lambda execution limit).\r\n\r\nFor example the caller started at 15:50:33, the other lambda was started at 15:50:57, finished at 15:56:47 and the caller kept waiting until 16:03 for it to complete. Meanwhile all other 29 instances were started, completed and their files are ready.\r\n\r\nDoes anybody have an idea what could be the root cause? How to debug that?\r\n\r\nNote: It worked for months, then suddenly I can see that behavior and then it starts to work again after a new code deploy. I am not aware of any changes that should impact that.\r\n\r\nThe Callable for triggering the child Lambda for a given payload contains that code.\r\n\r\n    InvokeRequest lmbRequest = new InvokeRequest()\r\n    &#160;&#160;&#160;&#160; .withFunctionName(functionname)\r\n    &#160;&#160;&#160;&#160;&#160;.withPayload(inputJSON );\r\n    lmbRequest.setInvocationType(InvocationType.RequestResponse);\r\n    ClientConfiguration configuration = new ClientConfiguration();\r\n    configuration.setSocketTimeout(700000000); // 700 secs max\r\n    configuration.setClientExecutionTimeout(700000000);\r\n    configuration.setRequestTimeout(700000000);\r\n    AWSLambda lambda = AWSLambdaClientBuilder.standard()\r\n    &#160;&#160;&#160;&#160;&#160;&#160;.withClientConfiguration(configuration)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;.withRegion(region)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;.withCredentials(new DefaultAWSCredentialsProviderChain()).build();\r\n    InvokeResult lambdaresult = lambda.invoke(lmbRequest);\r\n    String error = lambdaresult.getFunctionError(); \r\n    if (error != null) throw ...;\r\n    else return lambdaresult;\r\n\r\n\r\nThe log of the called Lambda starts with \r\n\r\n    START RequestId: 34d69efa-a261-40df-a4e7-d4a47bcb5c6c Version: $LATEST\r\n    2023-02-24 16:52:37 34d69efa-a261-40df-a4e7-d4a47bcb5c6c INFO File 11 triggered\r\n\r\nand ends with\r\n\r\n    2023-02-24 16:58:48 34d69efa-a261-40df-a4e7-d4a47bcb5c6c INFO File 11 created\r\n    END RequestId: 34d69efa-a261-40df-a4e7-d4a47bcb5c6c\r\n    REPORT RequestId: 34d69efa-a261-40df-a4e7-d4a47bcb5c6c\r\n        Duration: 371068.41 ms Billed Duration: 371069 ms\r\n        Memory Size: 4096 MB Max Memory Used: 4096 MB\r\n\r\nEDIT: The max memory used above worries me. I did not get an exception but there is quite some data in memory. I&#39;ll increase the lambda&#39;s max memory setting.","title":"AWSLambda.invoke does not return after the called lambda finished successfully","body":"<p>I have two AWS Lambdas, one is creating individual files and the other is supposed to combine all files in a zip folder. Goal is to create one file per day.\nThe called Lambda gets the file type as parameter, reads the data from matching DynamoDB and produces the output file.</p>\n<p>The calling lambda goes through the list of all file types and for each submits the request to produce a file via the ExecutorService. Its callable does a <code>AWSLambda.invoke()</code>.\nThis works for 29 files but one, always the same and the one that takes the longest with 6 minutes, finished and even 10 minutes later the AWSLambda.invoke() call is still waiting. Eventually the calling lambda dies after 900 seconds (Lambda execution limit).</p>\n<p>For example the caller started at 15:50:33, the other lambda was started at 15:50:57, finished at 15:56:47 and the caller kept waiting until 16:03 for it to complete. Meanwhile all other 29 instances were started, completed and their files are ready.</p>\n<p>Does anybody have an idea what could be the root cause? How to debug that?</p>\n<p>Note: It worked for months, then suddenly I can see that behavior and then it starts to work again after a new code deploy. I am not aware of any changes that should impact that.</p>\n<p>The Callable for triggering the child Lambda for a given payload contains that code.</p>\n<pre><code>InvokeRequest lmbRequest = new InvokeRequest()\n     .withFunctionName(functionname)\n     .withPayload(inputJSON );\nlmbRequest.setInvocationType(InvocationType.RequestResponse);\nClientConfiguration configuration = new ClientConfiguration();\nconfiguration.setSocketTimeout(700000000); // 700 secs max\nconfiguration.setClientExecutionTimeout(700000000);\nconfiguration.setRequestTimeout(700000000);\nAWSLambda lambda = AWSLambdaClientBuilder.standard()\n      .withClientConfiguration(configuration)\n      .withRegion(region)\n      .withCredentials(new DefaultAWSCredentialsProviderChain()).build();\nInvokeResult lambdaresult = lambda.invoke(lmbRequest);\nString error = lambdaresult.getFunctionError(); \nif (error != null) throw ...;\nelse return lambdaresult;\n</code></pre>\n<p>The log of the called Lambda starts with</p>\n<pre><code>START RequestId: 34d69efa-a261-40df-a4e7-d4a47bcb5c6c Version: $LATEST\n2023-02-24 16:52:37 34d69efa-a261-40df-a4e7-d4a47bcb5c6c INFO File 11 triggered\n</code></pre>\n<p>and ends with</p>\n<pre><code>2023-02-24 16:58:48 34d69efa-a261-40df-a4e7-d4a47bcb5c6c INFO File 11 created\nEND RequestId: 34d69efa-a261-40df-a4e7-d4a47bcb5c6c\nREPORT RequestId: 34d69efa-a261-40df-a4e7-d4a47bcb5c6c\n    Duration: 371068.41 ms Billed Duration: 371069 ms\n    Memory Size: 4096 MB Max Memory Used: 4096 MB\n</code></pre>\n<p>EDIT: The max memory used above worries me. I did not get an exception but there is quite some data in memory. I'll increase the lambda's max memory setting.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1299032,"reputation":5308,"user_id":1249325,"accept_rate":50,"display_name":"KhAn SaAb"},"score":1,"creation_date":1472641835,"post_id":39247984,"comment_id":65831830,"body_markdown":"super is an key word not an reference or object for super/parent class, it will call method or constructor of super/parent class.","body":"super is an key word not an reference or object for super/parent class, it will call method or constructor of super/parent class."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1472641983,"post_id":39247984,"comment_id":65831926,"body_markdown":"interfaces can `extend` other interfaces.","body":"interfaces can <code>extend</code> other interfaces."},{"owner":{"account_id":3355003,"reputation":533,"user_id":2818167,"accept_rate":28,"display_name":"Robin"},"score":0,"creation_date":1472642052,"post_id":39247984,"comment_id":65831979,"body_markdown":"Thanks you are right, But my doubt is here DefaultMethod interface have no super class, then which constructor is called?","body":"Thanks you are right, But my doubt is here DefaultMethod interface have no super class, then which constructor is called?"},{"owner":{"account_id":1299032,"reputation":5308,"user_id":1249325,"accept_rate":50,"display_name":"KhAn SaAb"},"score":0,"creation_date":1472642153,"post_id":39247984,"comment_id":65832049,"body_markdown":"you cant use super class then no use of super keyword in that interface/class","body":"you cant use super class then no use of super keyword in that interface/class"},{"owner":{"account_id":3355003,"reputation":533,"user_id":2818167,"accept_rate":28,"display_name":"Robin"},"score":0,"creation_date":1472642655,"post_id":39247984,"comment_id":65832382,"body_markdown":"Thanks khAn your answer is right.","body":"Thanks khAn your answer is right."}],"answers":[{"tags":[],"owner":{"account_id":6145482,"reputation":1570,"user_id":4791599,"display_name":"Markus Mitterauer"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1472642412,"creation_date":1472642412,"answer_id":39248234,"question_id":39247984,"body_markdown":"If you use `super` in a `class` it usually refers to the ancestor of that class (either the `extend`ed class or `Object`).\r\n\r\nIn the case of overriden `default` method of an `interface` you have to specify the specific interface which default implementation you want to invoke, hence\r\n\r\n    &lt;Interface&gt;.super.&lt;method&gt;();\r\n\r\n\r\nSee also [The diamond problem](https://en.wikipedia.org/wiki/Multiple_inheritance#The_diamond_problem).","title":"What is Interface.super","body":"<p>If you use <code>super</code> in a <code>class</code> it usually refers to the ancestor of that class (either the <code>extend</code>ed class or <code>Object</code>).</p>\n\n<p>In the case of overriden <code>default</code> method of an <code>interface</code> you have to specify the specific interface which default implementation you want to invoke, hence</p>\n\n<pre><code>&lt;Interface&gt;.super.&lt;method&gt;();\n</code></pre>\n\n<p>See also <a href=\"https://en.wikipedia.org/wiki/Multiple_inheritance#The_diamond_problem\" rel=\"noreferrer\">The diamond problem</a>.</p>\n"},{"tags":[],"owner":{"account_id":15965387,"reputation":121,"user_id":11521221,"display_name":"Najib Tounsi"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1558200151,"creation_date":1558200151,"answer_id":56201266,"question_id":39247984,"body_markdown":"`&lt;Interface&gt;.&lt;method&gt;();` would consider `&lt;method&gt;` as static, and this is not the case. Hence the use of key word `super` which is a reference variable that is used to refer a &quot;parent&quot; object.","title":"What is Interface.super","body":"<p><code>&lt;Interface&gt;.&lt;method&gt;();</code> would consider <code>&lt;method&gt;</code> as static, and this is not the case. Hence the use of key word <code>super</code> which is a reference variable that is used to refer a \"parent\" object.</p>\n"},{"tags":[],"owner":{"account_id":19787800,"reputation":89,"user_id":14491411,"display_name":"shalitha anuradha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665845724,"creation_date":1665845724,"answer_id":74080507,"question_id":39247984,"body_markdown":"The main reason is that there could be more than one interface with a super level having a default method with the same method signature. The java compiler needs to understand what Interface is referring to here.\r\n\r\nSee the below example.\r\n\r\n    public interface ABC {\r\n        default String showMyName(String name) {\r\n            return &quot;Hai &quot; + name;\r\n    \r\n        }\r\n    }\r\n    \r\n    public interface CDE {\r\n        default String showMyName(String name) {\r\n            return &quot;Hey.........!!! &quot; + name;\r\n    \r\n        }\r\n    }\r\n    \r\n    public class DefaultMethodMainImpl implements ABC, CDE {\r\n    \r\n        @Override\r\n        public String showMyName(String name) {\r\n            System.out.println(ABC.super.showMyName(name));\r\n            System.out.println(CDE.super.showMyName(name));\r\n            return ABC.super.showMyName(name);\r\n        }\r\n    }\r\n\r\n","title":"What is Interface.super","body":"<p>The main reason is that there could be more than one interface with a super level having a default method with the same method signature. The java compiler needs to understand what Interface is referring to here.</p>\n<p>See the below example.</p>\n<pre><code>public interface ABC {\n    default String showMyName(String name) {\n        return &quot;Hai &quot; + name;\n\n    }\n}\n\npublic interface CDE {\n    default String showMyName(String name) {\n        return &quot;Hey.........!!! &quot; + name;\n\n    }\n}\n\npublic class DefaultMethodMainImpl implements ABC, CDE {\n\n    @Override\n    public String showMyName(String name) {\n        System.out.println(ABC.super.showMyName(name));\n        System.out.println(CDE.super.showMyName(name));\n        return ABC.super.showMyName(name);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677262946,"creation_date":1677262946,"answer_id":75560111,"question_id":39247984,"body_markdown":"Consider this code: \r\n\r\n    public interface One {\r\n    default void method (){\r\n        System.out.println(&quot;method from One&quot;);\r\n    }\r\n    }\r\n\r\n    interface Two extends One {\r\n      default void method(){\r\n        System.out.println(&quot;method from Two&quot;);\r\n    }\r\n    }\r\n\r\n    class Three implements Two{\r\n    \r\n      public void method (){\r\n        Two.super.method();\r\n      }\r\n        \r\n      public static void main(String[] args) {\r\n        new Three().method();\r\n      }\r\n    }\r\n`Output: method from Two`\r\n\r\n`Two.super.method()` is just a clumsy syntax to avoid the diamond problem explained in another answer. \r\nAs you can see from the program output, `super` not really means &quot;calling to ancestor&quot; as it used to be in Java. ","title":"What is Interface.super","body":"<p>Consider this code:</p>\n<pre><code>public interface One {\ndefault void method (){\n    System.out.println(&quot;method from One&quot;);\n}\n}\n\ninterface Two extends One {\n  default void method(){\n    System.out.println(&quot;method from Two&quot;);\n}\n}\n\nclass Three implements Two{\n\n  public void method (){\n    Two.super.method();\n  }\n    \n  public static void main(String[] args) {\n    new Three().method();\n  }\n}\n</code></pre>\n<p><code>Output: method from Two</code></p>\n<p><code>Two.super.method()</code> is just a clumsy syntax to avoid the diamond problem explained in another answer.\nAs you can see from the program output, <code>super</code> not really means &quot;calling to ancestor&quot; as it used to be in Java.</p>\n"}],"owner":{"account_id":3355003,"reputation":533,"user_id":2818167,"accept_rate":28,"display_name":"Robin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15822,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":39248234,"answer_count":4,"score":20,"last_activity_date":1677262946,"creation_date":1472641744,"question_id":39247984,"body_markdown":"I have recently used default methods in java.\r\nIn its implementation I found \r\n\r\n    public interface DefaultMethod {\r\n\t    default String showMyName(String name){\r\n\t\t    return &quot;Hai &quot;+name;\r\n\t\t\r\n\t    }\r\n    }\r\n\r\n\r\n    public class DefaultMethodMainImpl implements DefaultMethod{\r\n\t\r\n\t    @Override\r\n\t    public String showMyName(String name){\r\n\t\t    return DefaultMethod.super.showMyName(name);\r\n\t\t\r\n\t    }\r\n    }\r\n\r\nMy question is in **DefaultMethod.super** where **super** will call it have no super class except Object? **what super will return**?","title":"What is Interface.super","body":"<p>I have recently used default methods in java.\nIn its implementation I found </p>\n\n<pre><code>public interface DefaultMethod {\n    default String showMyName(String name){\n        return \"Hai \"+name;\n\n    }\n}\n\n\npublic class DefaultMethodMainImpl implements DefaultMethod{\n\n    @Override\n    public String showMyName(String name){\n        return DefaultMethod.super.showMyName(name);\n\n    }\n}\n</code></pre>\n\n<p>My question is in <strong>DefaultMethod.super</strong> where <strong>super</strong> will call it have no super class except Object? <strong>what super will return</strong>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1677250341,"post_id":75557896,"comment_id":133306281,"body_markdown":"It sounds like you actually want more of a curses-like interface.","body":"It sounds like you actually want more of a curses-like interface."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1677250393,"post_id":75557896,"comment_id":133306303,"body_markdown":"Check the content of the user input and remove anything you don&#39;t want in there.","body":"Check the content of the user input and remove anything you don&#39;t want in there."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1677265287,"post_id":75557896,"comment_id":133310362,"body_markdown":"See [this thread](https://stackoverflow.com/questions/1066318/how-to-read-a-single-char-from-the-console-in-java-as-the-user-types-it). Short answer, there is no easy, completely portable method that works under all conditions.","body":"See <a href=\"https://stackoverflow.com/questions/1066318/how-to-read-a-single-char-from-the-console-in-java-as-the-user-types-it\">this thread</a>. Short answer, there is no easy, completely portable method that works under all conditions."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677262614,"creation_date":1677262614,"answer_id":75560064,"question_id":75557896,"body_markdown":"What you want to achieve is not possible using pure System.in/System.out console stream input/output. You would need a character base UI framework to implement something like that.\r\n","title":"Is there a way to stop newline whenever I use user input?","body":"<p>What you want to achieve is not possible using pure System.in/System.out console stream input/output. You would need a character base UI framework to implement something like that.</p>\n"}],"owner":{"account_id":26545508,"reputation":1,"user_id":20175632,"display_name":"Migu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1677262614,"creation_date":1677249839,"question_id":75557896,"body_markdown":"My code looks like this, I wanted to design my program, something like a card, it&#39;ll ask for a color then print out a message.\r\n\r\nMy problem is, I can&#39;t really close it up... \r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Main{\r\n    public static void main(String args[]) {\r\n        Scanner cin = new Scanner(System.in);\r\n        String color;\r\n        \r\n        System.out.println(&quot;------------------------------------------------------&quot;);\r\n        System.out.println(&quot;|                  Welcome Card!!                    |&quot;);\r\n        System.out.println(&quot;|                   Pick a color                     |&quot;);\r\n        System.out.println(&quot;|                                                    |&quot;);\r\n        System.out.println(&quot;|              Green, Blue, Red, Orange              |&quot;);\r\n        System.out.println(&quot;|                                                    |&quot;);\r\n        System.out.println(&quot;|                                                    |&quot;);\r\n        System.out.print(&quot;|\\t\\t\\t\\t       &quot;); color = cin.nextLine();\r\n        \r\n        switch (color.toLowerCase()){\r\n            case &quot;blue&quot;:\r\n                System.out.println(&quot;|                    Success                         |&quot;);\r\n                System.out.println(&quot;------------------------------------------------------&quot;);\r\n                break;\r\n\r\n            default:\r\n                System.out.println(&quot;unsuccessful&quot;);\r\n        }\r\n        \r\n        }\r\n    }\r\n```\r\n\r\n\r\nthe output looks like this: \r\n```\r\n------------------------------------------------------\r\n|                  Welcome Card!!                    |\r\n|                   Pick a color                     |\r\n|                                                    |\r\n|              Green, Blue, Red, Orange              |\r\n|                                                    |\r\n|                                                    |\r\n|\t\t               blue\r\n|                    Success                         |\r\n------------------------------------------------------\r\n```\r\n\r\nwhat I want to achieve:\r\n```\r\n------------------------------------------------------\r\n|                  Welcome Card!!                    |\r\n|                   Pick a color                     |\r\n|                                                    |\r\n|              Green, Blue, Red, Orange              |\r\n|                                                    |\r\n|                                                    |\r\n|\t\t              blue                           |\r\n|                    Success                         |\r\n------------------------------------------------------\r\n```\r\n\r\nIt&#39;s still a rough draft, just tryna figure out how to put another vertical line on that gap...","title":"Is there a way to stop newline whenever I use user input?","body":"<p>My code looks like this, I wanted to design my program, something like a card, it'll ask for a color then print out a message.</p>\n<p>My problem is, I can't really close it up...</p>\n<pre><code>import java.util.Scanner;\npublic class Main{\n    public static void main(String args[]) {\n        Scanner cin = new Scanner(System.in);\n        String color;\n        \n        System.out.println(&quot;------------------------------------------------------&quot;);\n        System.out.println(&quot;|                  Welcome Card!!                    |&quot;);\n        System.out.println(&quot;|                   Pick a color                     |&quot;);\n        System.out.println(&quot;|                                                    |&quot;);\n        System.out.println(&quot;|              Green, Blue, Red, Orange              |&quot;);\n        System.out.println(&quot;|                                                    |&quot;);\n        System.out.println(&quot;|                                                    |&quot;);\n        System.out.print(&quot;|\\t\\t\\t\\t       &quot;); color = cin.nextLine();\n        \n        switch (color.toLowerCase()){\n            case &quot;blue&quot;:\n                System.out.println(&quot;|                    Success                         |&quot;);\n                System.out.println(&quot;------------------------------------------------------&quot;);\n                break;\n\n            default:\n                System.out.println(&quot;unsuccessful&quot;);\n        }\n        \n        }\n    }\n</code></pre>\n<p>the output looks like this:</p>\n<pre><code>------------------------------------------------------\n|                  Welcome Card!!                    |\n|                   Pick a color                     |\n|                                                    |\n|              Green, Blue, Red, Orange              |\n|                                                    |\n|                                                    |\n|                      blue\n|                    Success                         |\n------------------------------------------------------\n</code></pre>\n<p>what I want to achieve:</p>\n<pre><code>------------------------------------------------------\n|                  Welcome Card!!                    |\n|                   Pick a color                     |\n|                                                    |\n|              Green, Blue, Red, Orange              |\n|                                                    |\n|                                                    |\n|                     blue                           |\n|                    Success                         |\n------------------------------------------------------\n</code></pre>\n<p>It's still a rough draft, just tryna figure out how to put another vertical line on that gap...</p>\n"},{"tags":["java","android","gson"],"comments":[{"owner":{"account_id":2010820,"reputation":3386,"user_id":1799284,"accept_rate":40,"display_name":"EngineSense"},"score":0,"creation_date":1441777744,"post_id":32444863,"comment_id":52804931,"body_markdown":"Weird problem for more than week... it works in local installation not from the play store installation","body":"Weird problem for more than week... it works in local installation not from the play store installation"},{"owner":{"account_id":4598289,"reputation":1210,"user_id":3763032,"accept_rate":62,"display_name":"mochadwi"},"score":0,"creation_date":1581404123,"post_id":32444863,"comment_id":106411343,"body_markdown":"@CodeSpy btw, thanks for providing great answer and approach but using it&#39;s recommended to use `TypeToken` instead manually get the `LinkedMapTree` object by name","body":"@CodeSpy btw, thanks for providing great answer and approach but using it&#39;s recommended to use <code>TypeToken</code> instead manually get the <code>LinkedMapTree</code> object by name"}],"answers":[{"tags":[],"owner":{"account_id":2010820,"reputation":3386,"user_id":1799284,"accept_rate":40,"display_name":"EngineSense"},"down_vote_count":0,"up_vote_count":125,"is_accepted":true,"score":125,"last_activity_date":1475842818,"creation_date":1441864192,"answer_id":32494079,"question_id":32444863,"body_markdown":"Serializing and Deserializing Generic Types\r\n\r\nWhen you call toJson(obj), Gson calls obj.getClass() to get information on the fields to serialize. Similarly, you can typically pass MyClass.class object in the fromJson(json, MyClass.class) method. This works fine if the object is a non-generic type. However, if the object is of a generic type, then the Generic type information is lost because of Java Type Erasure. Here is an example illustrating the point: \r\n\r\n    class Foo&lt;T&gt; {  T value;}\r\n    Gson gson = new Gson();\r\n    Foo&lt;Bar&gt; foo = new Foo&lt;Bar&gt;();\r\n    gson.toJson(foo); // May not serialize foo.value correctly\r\n    gson.fromJson(json, foo.getClass()); // Fails to deserialize foo.value as Bar\r\n\r\nThe above code fails to interpret value as type Bar because Gson invokes list.getClass() to get its class information, but this method returns a raw class, Foo.class. This means that Gson has no way of knowing that this is an object of type Foo&lt;Bar&gt;, and not just plain Foo. \r\n\r\nYou can solve this problem by specifying the correct parameterized type for your generic type. You can do this by using the TypeToken class. \r\n    \r\n   \r\n\r\n    Type fooType = new TypeToken&lt;Foo&lt;Bar&gt;&gt;() {}.getType();    \r\n    gson.toJson(foo, fooType);\r\n    gson.fromJson(json, fooType);\r\n\r\nI have Parent class and it&#39;s child class some of them having List types in it. Like this parent class i have 30 files. I solved it like this. \r\n\r\n    Gson gson = new Gson();\r\n    JSONObject jsonObj = new JSONObject(object.get(DO_SERVICES).toString());\r\n    Type type = new TypeToken&lt;MyDto&gt;() {}.getType();\r\n    servDto = gson.fromJson(jsonObj.toString(),type);\r\n\r\n**The most important thing is, I can&#39;t reproduce this error in local testing from Android studio. This problem pops up only, When i generate signed apk and publish app into PlayStore were the app stops, and the report says Cannot cast LinkedTreeMap to myclass.**\r\n\r\nIt was hard for me to reproduce the same result in my local testing (includes Debug mode).","title":"google gson LinkedTreeMap class cast to myclass","body":"<p>Serializing and Deserializing Generic Types</p>\n\n<p>When you call toJson(obj), Gson calls obj.getClass() to get information on the fields to serialize. Similarly, you can typically pass MyClass.class object in the fromJson(json, MyClass.class) method. This works fine if the object is a non-generic type. However, if the object is of a generic type, then the Generic type information is lost because of Java Type Erasure. Here is an example illustrating the point: </p>\n\n<pre><code>class Foo&lt;T&gt; {  T value;}\nGson gson = new Gson();\nFoo&lt;Bar&gt; foo = new Foo&lt;Bar&gt;();\ngson.toJson(foo); // May not serialize foo.value correctly\ngson.fromJson(json, foo.getClass()); // Fails to deserialize foo.value as Bar\n</code></pre>\n\n<p>The above code fails to interpret value as type Bar because Gson invokes list.getClass() to get its class information, but this method returns a raw class, Foo.class. This means that Gson has no way of knowing that this is an object of type Foo, and not just plain Foo. </p>\n\n<p>You can solve this problem by specifying the correct parameterized type for your generic type. You can do this by using the TypeToken class. </p>\n\n<pre><code>Type fooType = new TypeToken&lt;Foo&lt;Bar&gt;&gt;() {}.getType();    \ngson.toJson(foo, fooType);\ngson.fromJson(json, fooType);\n</code></pre>\n\n<p>I have Parent class and it's child class some of them having List types in it. Like this parent class i have 30 files. I solved it like this. </p>\n\n<pre><code>Gson gson = new Gson();\nJSONObject jsonObj = new JSONObject(object.get(DO_SERVICES).toString());\nType type = new TypeToken&lt;MyDto&gt;() {}.getType();\nservDto = gson.fromJson(jsonObj.toString(),type);\n</code></pre>\n\n<p><strong>The most important thing is, I can't reproduce this error in local testing from Android studio. This problem pops up only, When i generate signed apk and publish app into PlayStore were the app stops, and the report says Cannot cast LinkedTreeMap to myclass.</strong></p>\n\n<p>It was hard for me to reproduce the same result in my local testing (includes Debug mode).</p>\n"},{"tags":[],"owner":{"account_id":1038775,"reputation":9724,"user_id":1045296,"accept_rate":100,"display_name":"Code Spy"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1535352340,"creation_date":1535352340,"answer_id":52033860,"question_id":32444863,"body_markdown":"**[Source][1]** \r\n\r\nIn My **ListView BaseAdapter** facing same issue\r\n\r\n**JSON format** to show \r\n\r\n\t{\r\n\t\tresults: [\r\n\t\t{\r\n\t\t\tid: &quot;10&quot;,\r\n\t\t\tphone: &quot;+91783XXXX345&quot;,\r\n\t\t\tname: &quot;Mr Example&quot;,\r\n\t\t\temail: &quot;freaky@jolly.com&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: &quot;11&quot;,\r\n\t\t\tphone: &quot;+9178XXXX66&quot;,\r\n\t\t\tname: &quot;Mr Foo&quot;,\r\n\t\t\temail: &quot;freaky@jolly.com&quot;\r\n\t\t}],\r\n\t\tstatusCode: &quot;1&quot;,\r\n\t\tcount: &quot;2&quot;\r\n\t}\r\n\r\n\r\nI was facing this issue \r\n\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: main\r\n&gt;                   Process: com.hsa.ffgp.hapdfgdfgoon, PID: 25879\r\n&gt;                   java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap cannot be cast to\r\n&gt; com.hsa.......\r\n\r\n\r\nThen I mapped data using **LinkedTreeMap** Key Value as below\r\n\r\n\t...\r\n\t...\r\n\r\n\t\t@Override\r\n\t\tpublic View getView(final int i, View view, ViewGroup viewGroup) {\r\n\t\t\tif(view==null)\r\n\t\t\t{\r\n\t\t\t\tview= LayoutInflater.from(c).inflate(R.layout.listview_manage_clients,viewGroup,false);\r\n\t\t\t}\r\n\r\n\t\t\tTextView mUserName = (TextView) view.findViewById(R.id.userName);\r\n\t\t\tTextView mUserPhone = (TextView) view.findViewById(R.id.userPhone);\r\n\r\n\r\n\t\t\tObject getrow = this.users.get(i);\r\n\t\t\tLinkedTreeMap&lt;Object,Object&gt; t = (LinkedTreeMap) getrow;\r\n\t\t\tString name = t.get(&quot;name&quot;).toString();\r\n\r\n\t\t\tmUserName.setText(&quot;Name is &quot;+name);\r\n\t\t\tmUserPhone.setText(&quot;Phone is &quot;+phone);\r\n\r\n\t\t\treturn view;\r\n\t\t}\r\n\t...\r\n\t...\r\n\r\n\r\n\r\n\r\n  [1]: https://www.freakyjolly.com/com-google-gson-internal-linkedtreemap-cannot-be-cast-to-how-to-resolve/","title":"google gson LinkedTreeMap class cast to myclass","body":"<p><strong><a href=\"https://www.freakyjolly.com/com-google-gson-internal-linkedtreemap-cannot-be-cast-to-how-to-resolve/\" rel=\"noreferrer\">Source</a></strong> </p>\n\n<p>In My <strong>ListView BaseAdapter</strong> facing same issue</p>\n\n<p><strong>JSON format</strong> to show </p>\n\n<pre><code>{\n    results: [\n    {\n        id: \"10\",\n        phone: \"+91783XXXX345\",\n        name: \"Mr Example\",\n        email: \"freaky@jolly.com\"\n    },\n    {\n        id: \"11\",\n        phone: \"+9178XXXX66\",\n        name: \"Mr Foo\",\n        email: \"freaky@jolly.com\"\n    }],\n    statusCode: \"1\",\n    count: \"2\"\n}\n</code></pre>\n\n<p>I was facing this issue </p>\n\n<blockquote>\n  <p>E/AndroidRuntime: FATAL EXCEPTION: main\n                    Process: com.hsa.ffgp.hapdfgdfgoon, PID: 25879\n                    java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap cannot be cast to\n  com.hsa.......</p>\n</blockquote>\n\n<p>Then I mapped data using <strong>LinkedTreeMap</strong> Key Value as below</p>\n\n<pre><code>...\n...\n\n    @Override\n    public View getView(final int i, View view, ViewGroup viewGroup) {\n        if(view==null)\n        {\n            view= LayoutInflater.from(c).inflate(R.layout.listview_manage_clients,viewGroup,false);\n        }\n\n        TextView mUserName = (TextView) view.findViewById(R.id.userName);\n        TextView mUserPhone = (TextView) view.findViewById(R.id.userPhone);\n\n\n        Object getrow = this.users.get(i);\n        LinkedTreeMap&lt;Object,Object&gt; t = (LinkedTreeMap) getrow;\n        String name = t.get(\"name\").toString();\n\n        mUserName.setText(\"Name is \"+name);\n        mUserPhone.setText(\"Phone is \"+phone);\n\n        return view;\n    }\n...\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11362435,"reputation":554,"user_id":8330249,"display_name":"Deepak Kataria"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547965910,"creation_date":1547965910,"answer_id":54274159,"question_id":32444863,"body_markdown":" In my case error occurred while fetching a list of objects from shared preferences.\r\n The error was solved by adding TypeToken as shown below:\r\n\r\n\r\n\r\n     public static &lt;GenericClass&gt; GenericClass getListOfObjectsFromSharedPref(Context context,String preferenceFileName, String preferenceKey ){\r\n\r\n        SharedPreferences sharedPreferences = \r\n        context.getSharedPreferences(preferenceFileName, 0);\r\n        Type type = new TypeToken&lt;ArrayList&lt;Classname.class&gt;&gt;() {}.getType();\r\n        String json = sharedPreferences.getString(preferenceKey, &quot;&quot;);\r\n        final Gson gson = new Gson();\r\n        return gson.fromJson(json, type);\r\n    }\r\n....","title":"google gson LinkedTreeMap class cast to myclass","body":"<p>In my case error occurred while fetching a list of objects from shared preferences.\n The error was solved by adding TypeToken as shown below:</p>\n\n<pre><code> public static &lt;GenericClass&gt; GenericClass getListOfObjectsFromSharedPref(Context context,String preferenceFileName, String preferenceKey ){\n\n    SharedPreferences sharedPreferences = \n    context.getSharedPreferences(preferenceFileName, 0);\n    Type type = new TypeToken&lt;ArrayList&lt;Classname.class&gt;&gt;() {}.getType();\n    String json = sharedPreferences.getString(preferenceKey, \"\");\n    final Gson gson = new Gson();\n    return gson.fromJson(json, type);\n}\n</code></pre>\n\n<p>....</p>\n"},{"tags":[],"owner":{"account_id":1185980,"reputation":2864,"user_id":1159930,"accept_rate":50,"display_name":"Markymark"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1593474788,"creation_date":1593474788,"answer_id":62648322,"question_id":32444863,"body_markdown":"EngineSense&#39;s answer is correct.&lt;br /&gt;\r\nHowever, if you still want to use generics and don&#39;t want to pass in the concrete class type as a parameter here&#39;s an example of a workaround in Kotlin.\r\n&lt;br /&gt;*(Note that inline methods with reified type params cannot be called from Java)*.\r\n\r\n\r\nMay not be the most efficient way to get things done but it does work.\r\n\r\n---\r\n\r\nThe following is in `GsonUtil.kt`\r\n\r\n    inline fun &lt;reified T&gt; fromJson(json: String): T? {\r\n        return gson.fromJson(json, object : TypeToken&lt;T&gt;() {}.type)\r\n    }\r\n\r\n    fun &lt;T&gt; mapToObject(map: Map&lt;String, Any?&gt;?, type: Class&lt;T&gt;): T? {\r\n        if (map == null) return null\r\n\r\n        val json = gson.toJson(map)\r\n        return gson.fromJson(json, type)\r\n    }\r\n\r\n---\r\n\r\nMethod that retrieves a lightweight list of generic objects.\r\n\r\n    inline fun &lt;reified T: MyBaseClass&gt; getGenericList(): List&lt;T&gt; {\r\n        val json = ...\r\n\r\n        //Must use map here because the result is a list of LinkedTreeMaps\r\n        val list: ArrayList&lt;Map&lt;String, Any?&gt;&gt;? = GsonUtil.fromJson(json)\r\n        //handle type erasure\r\n        val result = list?.mapNotNull {\r\n            GsonUtil.mapToObject(it, T::class.java)\r\n        }\r\n\r\n        return  result ?: listOf()\r\n    }","title":"google gson LinkedTreeMap class cast to myclass","body":"<p>EngineSense's answer is correct.<br />\nHowever, if you still want to use generics and don't want to pass in the concrete class type as a parameter here's an example of a workaround in Kotlin.\n<br /><em>(Note that inline methods with reified type params cannot be called from Java)</em>.</p>\n<p>May not be the most efficient way to get things done but it does work.</p>\n<hr />\n<p>The following is in <code>GsonUtil.kt</code></p>\n<pre><code>inline fun &lt;reified T&gt; fromJson(json: String): T? {\n    return gson.fromJson(json, object : TypeToken&lt;T&gt;() {}.type)\n}\n\nfun &lt;T&gt; mapToObject(map: Map&lt;String, Any?&gt;?, type: Class&lt;T&gt;): T? {\n    if (map == null) return null\n\n    val json = gson.toJson(map)\n    return gson.fromJson(json, type)\n}\n</code></pre>\n<hr />\n<p>Method that retrieves a lightweight list of generic objects.</p>\n<pre><code>inline fun &lt;reified T: MyBaseClass&gt; getGenericList(): List&lt;T&gt; {\n    val json = ...\n\n    //Must use map here because the result is a list of LinkedTreeMaps\n    val list: ArrayList&lt;Map&lt;String, Any?&gt;&gt;? = GsonUtil.fromJson(json)\n    //handle type erasure\n    val result = list?.mapNotNull {\n        GsonUtil.mapToObject(it, T::class.java)\n    }\n\n    return  result ?: listOf()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13309984,"reputation":89,"user_id":9608569,"display_name":"S.m. Kamal Hussain Shahi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1625805668,"creation_date":1595308519,"answer_id":63007833,"question_id":32444863,"body_markdown":"```\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.reflect.TypeToken;\r\n\r\nString json = new Gson().toJson(&quot;Your Value&quot;);\r\nArrayList&lt;YourClassName&gt; outputList = new Gson().fromJson(&quot;Receive Value&quot;, new TypeToken&lt;ArrayList&lt;YourClassName&gt;&gt;() {\r\n            }.getType());\r\n\r\nLog.d(&quot;TAG&quot;, outputList.get(0).getName);\r\n```","title":"google gson LinkedTreeMap class cast to myclass","body":"<pre><code>import com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\n\nString json = new Gson().toJson(&quot;Your Value&quot;);\nArrayList&lt;YourClassName&gt; outputList = new Gson().fromJson(&quot;Receive Value&quot;, new TypeToken&lt;ArrayList&lt;YourClassName&gt;&gt;() {\n            }.getType());\n\nLog.d(&quot;TAG&quot;, outputList.get(0).getName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12683786,"reputation":372,"user_id":9216437,"display_name":"Arun P M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677262381,"creation_date":1677262381,"answer_id":75560036,"question_id":32444863,"body_markdown":"For me, it was due to `minifyEnabled = true`, if you enabled it, please add the class you are trying to parse in the `progaurd-rules.pro` file.\r\n\r\n    -keep class your.pakage.YourClassName","title":"google gson LinkedTreeMap class cast to myclass","body":"<p>For me, it was due to <code>minifyEnabled = true</code>, if you enabled it, please add the class you are trying to parse in the <code>progaurd-rules.pro</code> file.</p>\n<pre><code>-keep class your.pakage.YourClassName\n</code></pre>\n"}],"owner":{"account_id":2010820,"reputation":3386,"user_id":1799284,"accept_rate":40,"display_name":"EngineSense"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98692,"favorite_count":0,"down_vote_count":1,"up_vote_count":54,"accepted_answer_id":32494079,"answer_count":6,"score":53,"last_activity_date":1677262381,"creation_date":1441653520,"question_id":32444863,"body_markdown":"I knew this question has been asked before. Due to my novice skill in java and android. I can&#39;t resolve this issue for more than a week. \r\n\r\nOne of my friend and i developing an android project were there are a couple of things like this. \r\n\r\nThe most weird part of this things is, it&#39;s happening only from when i download and test it from Google play store. Not from local android studio installation or debug mode. \r\n\r\nWhat could be the problem here, or this returning list which is totally wrong ?\r\nMy friend convincing that this code returns correctly but from play store installation it&#39;s always an error. \r\n\r\n\r\nPlease suggest me where should i keep digging?\r\n\r\n    @Override\r\n    public void promiseMethod(JSONObject object) {\r\n        if (object != null) {\r\n    \r\n            if (object.has(DO_SERVICES)) {\r\n                vehicleDetails = new ArrayList &lt; Object[] &gt; (1);\r\n                List &lt; String &gt; vehicleNoList = new ArrayList &lt; String &gt; (1);\r\n                List &lt; String &gt; serviceList = new ArrayList &lt; String &gt; (1);\r\n                try {\r\n                    Gson gson = new Gson();\r\n                    JSONObject jsonObj = new JSONObject(object.get(DO_SERVICES)\r\n                        .toString());\r\n                    servDto = gson.fromJson(jsonObj.toString(),\r\n                        ServiceDto.class);\r\n    \r\n    \r\n                    if (servDto.getServiceDto() instanceof List) {\r\n    \r\n                        List &lt; DoServiceDto &gt; doServiceList = servDto.getServiceDto();\r\n\r\n\r\nException is \r\n\r\n&gt; java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap           cannot be cast to com.gaurage.dto.DoServiceDto\r\n  at com.gaurage.user.User_Test_Main.promiseMethod(Unknown Source)\r\n","title":"google gson LinkedTreeMap class cast to myclass","body":"<p>I knew this question has been asked before. Due to my novice skill in java and android. I can't resolve this issue for more than a week. </p>\n\n<p>One of my friend and i developing an android project were there are a couple of things like this. </p>\n\n<p>The most weird part of this things is, it's happening only from when i download and test it from Google play store. Not from local android studio installation or debug mode. </p>\n\n<p>What could be the problem here, or this returning list which is totally wrong ?\nMy friend convincing that this code returns correctly but from play store installation it's always an error. </p>\n\n<p>Please suggest me where should i keep digging?</p>\n\n<pre><code>@Override\npublic void promiseMethod(JSONObject object) {\n    if (object != null) {\n\n        if (object.has(DO_SERVICES)) {\n            vehicleDetails = new ArrayList &lt; Object[] &gt; (1);\n            List &lt; String &gt; vehicleNoList = new ArrayList &lt; String &gt; (1);\n            List &lt; String &gt; serviceList = new ArrayList &lt; String &gt; (1);\n            try {\n                Gson gson = new Gson();\n                JSONObject jsonObj = new JSONObject(object.get(DO_SERVICES)\n                    .toString());\n                servDto = gson.fromJson(jsonObj.toString(),\n                    ServiceDto.class);\n\n\n                if (servDto.getServiceDto() instanceof List) {\n\n                    List &lt; DoServiceDto &gt; doServiceList = servDto.getServiceDto();\n</code></pre>\n\n<p>Exception is </p>\n\n<blockquote>\n  <p>java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap           cannot be cast to com.gaurage.dto.DoServiceDto\n    at com.gaurage.user.User_Test_Main.promiseMethod(Unknown Source)</p>\n</blockquote>\n"},{"tags":["java","azure","azure-functions","azure-cosmosdb","azure-storage-account"],"comments":[{"owner":{"account_id":101080,"reputation":69711,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1677215489,"post_id":75549922,"comment_id":133297868,"body_markdown":"You&#39;re not reading from `local.settings.json` in your code; you&#39;re passing the literal string &quot;AzureWebJobsStorage&quot; as your connection string. You need to read it from your settings file first.","body":"You&#39;re not reading from <code>local.settings.json</code> in your code; you&#39;re passing the literal string &quot;AzureWebJobsStorage&quot; as your connection string. You need to read it from your settings file first."},{"owner":{"account_id":27785102,"reputation":11,"user_id":21212734,"display_name":"ScottG"},"score":0,"creation_date":1677517105,"post_id":75549922,"comment_id":133349164,"body_markdown":"This did not work for me. I have put my connection in a different variable name and called System.getenv(&quot;hyperScalerAPIStorageQueue&quot;) in order to receive the connection string and I still get the same error. (I also did sysout println System.getenv(&quot;hyperScalerAPIStorageQueue&quot;) to ensure that the connection string is correct)","body":"This did not work for me. I have put my connection in a different variable name and called System.getenv(&quot;hyperScalerAPIStorageQueue&quot;) in order to receive the connection string and I still get the same error. (I also did sysout println System.getenv(&quot;hyperScalerAPIStorageQueue&quot;) to ensure that the connection string is correct)"}],"answers":[{"tags":[],"owner":{"account_id":16306358,"reputation":1,"user_id":11776248,"display_name":"No One"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677262003,"creation_date":1677261949,"answer_id":75559974,"question_id":75549922,"body_markdown":"you have to use Environment.GetEnvironmentVariable(&quot;app setting variable name&quot;).\r\nalso i would recommend to use a different storage account than the web job storage account","title":"Connecting to Azure Storage Queue","body":"<p>you have to use Environment.GetEnvironmentVariable(&quot;app setting variable name&quot;).\nalso i would recommend to use a different storage account than the web job storage account</p>\n"}],"owner":{"account_id":27785102,"reputation":11,"user_id":21212734,"display_name":"ScottG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677262003,"creation_date":1677183557,"question_id":75549922,"body_markdown":"I have a program where I build an envelope based on an HTTP Request. My next step is to take this envelope and add it to the Storage Queue so that I can then add the payload from the envelope to a Cosmos DB. It seems as if I am unable to connect to my Storage Account.\r\n\r\nThis is my code that actually sends the envelope to the Storage account: \r\n\r\n```\r\nimport com.azure.storage.queue.QueueClientBuilder;\r\nimport com.azure.storage.queue.models.QueueStorageException;\r\nimport com.azure.storage.queue.QueueClient;\r\n\r\n\r\npublic class StorageQueueSend {\r\n    public static String send(CfLog envelope) {\r\n        try {\r\n            QueueClient queueClient = new QueueClientBuilder()                              \r\n               .connectionString(&quot;AzureWebJobsStorage&quot;)\r\n               .queueName(&quot;hyperscalerapistorage-queue&quot;)\r\n               .buildClient();\r\n            queueClient.sendMessage(envelope.toString());\r\n            return &quot;Envelope added to storage queue\\n&quot;;\r\n        } catch(QueueStorageException e) {\r\n            return e.getMessage();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nhyperscalerapistorage-queue is the name of my queue. My connection string is stored in my local.settings.json as &quot;AzureWebJobsStorage&quot;. And I have the proper connection string also stored in an Application Setting called &quot;AzureWebJobsStorage&quot; in my Function App. Here is the error message I am receiving:\r\n\r\n```none\r\n[2023-02-23T20:15:59.682Z] Microsoft.Azure.WebJobs.Host: Error indexing method &#39;Functions.create&#39;. System.Private.CoreLib: Exception has been thrown by the target of an invocation. Azure.Storage.Queues: No valid combination of account information found.\r\n[2023-02-23T20:15:59.691Z] Error indexing method &#39;Functions.create&#39;\r\n[2023-02-23T20:15:59.696Z] Microsoft.Azure.WebJobs.Host: Error indexing method &#39;Functions.create&#39;. System.Private.CoreLib: Exception has been thrown by the target of an invocation. Azure.Storage.Queues: No valid combination of account information found.\r\n[2023-02-23T20:15:59.708Z] Function &#39;Functions.create&#39; failed indexing and will be disabled.\r\n[2023-02-23T20:16:00.022Z] Listening for transport dt_socket at address: 5005\r\n[2023-02-23T20:16:00.077Z] The &#39;create&#39; function is in error: Microsoft.Azure.WebJobs.Host: Error indexing method &#39;Functions.create&#39;. System.Private.CoreLib: Exception has been thrown by the target of an invocation. Azure.Storage.Queues: No valid combination of account information found.\r\n```\r\n\r\n","title":"Connecting to Azure Storage Queue","body":"<p>I have a program where I build an envelope based on an HTTP Request. My next step is to take this envelope and add it to the Storage Queue so that I can then add the payload from the envelope to a Cosmos DB. It seems as if I am unable to connect to my Storage Account.</p>\n<p>This is my code that actually sends the envelope to the Storage account:</p>\n<pre><code>import com.azure.storage.queue.QueueClientBuilder;\nimport com.azure.storage.queue.models.QueueStorageException;\nimport com.azure.storage.queue.QueueClient;\n\n\npublic class StorageQueueSend {\n    public static String send(CfLog envelope) {\n        try {\n            QueueClient queueClient = new QueueClientBuilder()                              \n               .connectionString(&quot;AzureWebJobsStorage&quot;)\n               .queueName(&quot;hyperscalerapistorage-queue&quot;)\n               .buildClient();\n            queueClient.sendMessage(envelope.toString());\n            return &quot;Envelope added to storage queue\\n&quot;;\n        } catch(QueueStorageException e) {\n            return e.getMessage();\n        }\n    }\n}\n</code></pre>\n<p>hyperscalerapistorage-queue is the name of my queue. My connection string is stored in my local.settings.json as &quot;AzureWebJobsStorage&quot;. And I have the proper connection string also stored in an Application Setting called &quot;AzureWebJobsStorage&quot; in my Function App. Here is the error message I am receiving:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2023-02-23T20:15:59.682Z] Microsoft.Azure.WebJobs.Host: Error indexing method 'Functions.create'. System.Private.CoreLib: Exception has been thrown by the target of an invocation. Azure.Storage.Queues: No valid combination of account information found.\n[2023-02-23T20:15:59.691Z] Error indexing method 'Functions.create'\n[2023-02-23T20:15:59.696Z] Microsoft.Azure.WebJobs.Host: Error indexing method 'Functions.create'. System.Private.CoreLib: Exception has been thrown by the target of an invocation. Azure.Storage.Queues: No valid combination of account information found.\n[2023-02-23T20:15:59.708Z] Function 'Functions.create' failed indexing and will be disabled.\n[2023-02-23T20:16:00.022Z] Listening for transport dt_socket at address: 5005\n[2023-02-23T20:16:00.077Z] The 'create' function is in error: Microsoft.Azure.WebJobs.Host: Error indexing method 'Functions.create'. System.Private.CoreLib: Exception has been thrown by the target of an invocation. Azure.Storage.Queues: No valid combination of account information found.\n</code></pre>\n"},{"tags":["java","macos","intellij-idea","java-8"],"comments":[{"owner":{"account_id":2926388,"reputation":654,"user_id":2507589,"display_name":"kmorris"},"score":2,"creation_date":1380239634,"post_id":19039752,"comment_id":28138175,"body_markdown":"Why do you want to use JDK 6?  It has been EOL&#39;d, see http://www.oracle.com/technetwork/java/eol-135779.html.  If you don&#39;t want a beta version (JDK 8), you should move to JDK 7.","body":"Why do you want to use JDK 6?  It has been EOL&#39;d, see <a href=\"http://www.oracle.com/technetwork/java/eol-135779.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/eol-135779.html</a>.  If you don&#39;t want a beta version (JDK 8), you should move to JDK 7."},{"owner":{"account_id":140434,"reputation":11503,"user_id":346741,"accept_rate":84,"display_name":"Rob"},"score":1,"creation_date":1380239749,"post_id":19039752,"comment_id":28138203,"body_markdown":"JDK7 on Mac is still a mess. Have had a lot of issues with it. But I would take 7 at this point. (Though, in case you didn&#39;t know, JetBrains is still saying they don&#39;t support it on mac..!)","body":"JDK7 on Mac is still a mess. Have had a lot of issues with it. But I would take 7 at this point. (Though, in case you didn&#39;t know, JetBrains is still saying they don&#39;t support it on mac..!)"},{"owner":{"account_id":2926388,"reputation":654,"user_id":2507589,"display_name":"kmorris"},"score":0,"creation_date":1380241926,"post_id":19039752,"comment_id":28138679,"body_markdown":"I hadn&#39;t heard that JetBrains won&#39;t support it... and Oracle won&#39;t support JDK6 any more.  I did get jdk 7 to work, I&#39;ll post an answer.","body":"I hadn&#39;t heard that JetBrains won&#39;t support it... and Oracle won&#39;t support JDK6 any more.  I did get jdk 7 to work, I&#39;ll post an answer."},{"owner":{"account_id":230261,"reputation":791,"user_id":493759,"display_name":"Agoston Horvath"},"score":3,"creation_date":1411043525,"post_id":19039752,"comment_id":40560109,"body_markdown":"Also consider installing jdk as a homebrew cask - (un)installing/upgrading then is a simple brew command.","body":"Also consider installing jdk as a homebrew cask - (un)installing/upgrading then is a simple brew command."},{"owner":{"account_id":396097,"reputation":19603,"user_id":759452,"accept_rate":56,"display_name":"Adriano"},"score":2,"creation_date":1427027040,"post_id":19039752,"comment_id":46601787,"body_markdown":"Seems like using `Homebrew`&amp; `Jenv` to manage the installed `Java` version is the way to go. see http://hanxue-it.blogspot.ch/2014/05/installing-java-8-managing-multiple.html","body":"Seems like using <code>Homebrew</code>&amp; <code>Jenv</code> to manage the installed <code>Java</code> version is the way to go. see <a href=\"http://hanxue-it.blogspot.ch/2014/05/installing-java-8-managing-multiple.html\" rel=\"nofollow noreferrer\">hanxue-it.blogspot.ch/2014/05/&hellip;</a>"},{"owner":{"account_id":1286307,"reputation":631,"user_id":1239295,"accept_rate":67,"display_name":"Bruce Sun"},"score":1,"creation_date":1506753020,"post_id":19039752,"comment_id":79954762,"body_markdown":"I found it useful to reference homebrew-cask java formulas on how they uninstall jdk. [jdk9](https://github.com/caskroom/homebrew-cask/blob/master/Casks/java.rb) &amp; [jdk8](https://github.com/caskroom/homebrew-versions/blob/master/Casks/java8.rb).","body":"I found it useful to reference homebrew-cask java formulas on how they uninstall jdk. <a href=\"https://github.com/caskroom/homebrew-cask/blob/master/Casks/java.rb\" rel=\"nofollow noreferrer\">jdk9</a> &amp; <a href=\"https://github.com/caskroom/homebrew-versions/blob/master/Casks/java8.rb\" rel=\"nofollow noreferrer\">jdk8</a>."},{"owner":{"account_id":332615,"reputation":1042,"user_id":658019,"accept_rate":100,"display_name":"Sam"},"score":0,"creation_date":1560803737,"post_id":19039752,"comment_id":99848074,"body_markdown":"For anyone else discovering a similar issue, my jenkins installation kept using jdk 11 despite `java -version` saying it was using 8, despite jenkins configured to use jdk 8, and despite java_home pointing to jdk 8. I uninstalled all java and just installed 8... then it worked.","body":"For anyone else discovering a similar issue, my jenkins installation kept using jdk 11 despite <code>java -version</code> saying it was using 8, despite jenkins configured to use jdk 8, and despite java_home pointing to jdk 8. I uninstalled all java and just installed 8... then it worked."},{"owner":{"account_id":1403468,"reputation":534,"user_id":1331801,"display_name":"Pankaj Jangid"},"score":0,"creation_date":1602856468,"post_id":19039752,"comment_id":113860470,"body_markdown":"BTW you don&#39;t have to uninstall any JDK from macOS. You can set your JAVA_HOME environment variable like this `export JAVA_HOME=$(/usr/libexec/java_home -v 1.8)`.","body":"BTW you don&#39;t have to uninstall any JDK from macOS. You can set your JAVA_HOME environment variable like this <code>export JAVA_HOME=$(&#47;usr&#47;libexec&#47;java_home -v 1.8)</code>."}],"answers":[{"tags":[],"owner":{"account_id":2926388,"reputation":654,"user_id":2507589,"display_name":"kmorris"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1380319367,"creation_date":1380319367,"answer_id":19060792,"question_id":19039752,"body_markdown":"Managing Java versions on Mac OSX is a nightmare.  I recently switched over to using JDK 1.7, deleting JDK 6 from my MacBook entirely (I also had traces of JDK 5 - this laptop has been updated a few times).\r\n\r\nHere&#39;s what I did to move to JDK 7.\r\n\r\n1) download the latest from Oracle (http://www.oracle.com/technetwork/java/javase/downloads/index.html) and install it.\r\n\r\n2) Remove (using rm - if you&#39;ve got backups, you can revert if you make a mistake) all the JDK6 and JRE6 files.\r\n\r\nAt this stage, you should see:\r\n\r\n    % ls /Library/Java/JavaVirtualMachines/\r\n    jdk1.7.0_nn.jdk\r\n\r\n (and nothing else)\r\n\r\n3) In the folder /Library/Java/Extensions/, you&#39;ll need to remove all the old jar files, the ones that correspond to other releases of Java.  If you don&#39;t, you&#39;ll get the infamous message about the wrong version of tools.jar (see https://stackoverflow.com/questions/17099379/builds-failing-after-upgrading-to-java7-missing-tools-jar-and-bad-class-version).  It is not enough to rename the jar files, because Java will open every jar in that folder - I moved mine into a sub-directory.  It&#39;s safe to remove them once you know everything else works.\r\n\r\nI haven&#39;t found I need to set JAVA_HOME for simple things.\r\n\r\n\r\n***Note***: I just tried running IntelliJ and it **will not** start unless you have Apple&#39;s JDK 6 installed (see http://youtrack.jetbrains.com/issue/IDEA-93710).  Same is true for Eclipse. Netbeans works fine.\r\n","title":"Removing Java 8 JDK from Mac","body":"<p>Managing Java versions on Mac OSX is a nightmare.  I recently switched over to using JDK 1.7, deleting JDK 6 from my MacBook entirely (I also had traces of JDK 5 - this laptop has been updated a few times).</p>\n\n<p>Here's what I did to move to JDK 7.</p>\n\n<p>1) download the latest from Oracle (<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a>) and install it.</p>\n\n<p>2) Remove (using rm - if you've got backups, you can revert if you make a mistake) all the JDK6 and JRE6 files.</p>\n\n<p>At this stage, you should see:</p>\n\n<pre><code>% ls /Library/Java/JavaVirtualMachines/\njdk1.7.0_nn.jdk\n</code></pre>\n\n<p>(and nothing else)</p>\n\n<p>3) In the folder /Library/Java/Extensions/, you'll need to remove all the old jar files, the ones that correspond to other releases of Java.  If you don't, you'll get the infamous message about the wrong version of tools.jar (see <a href=\"https://stackoverflow.com/questions/17099379/builds-failing-after-upgrading-to-java7-missing-tools-jar-and-bad-class-version\">Builds failing after upgrading to Java7, Missing Tools.jar and bad class versions</a>).  It is not enough to rename the jar files, because Java will open every jar in that folder - I moved mine into a sub-directory.  It's safe to remove them once you know everything else works.</p>\n\n<p>I haven't found I need to set JAVA_HOME for simple things.</p>\n\n<p><strong><em>Note</em></strong>: I just tried running IntelliJ and it <strong>will not</strong> start unless you have Apple's JDK 6 installed (see <a href=\"http://youtrack.jetbrains.com/issue/IDEA-93710\" rel=\"noreferrer\">http://youtrack.jetbrains.com/issue/IDEA-93710</a>).  Same is true for Eclipse. Netbeans works fine.</p>\n"},{"tags":[],"owner":{"account_id":115287,"reputation":1567,"user_id":302789,"display_name":"Gr&#233;gory Joseph"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1559677282,"creation_date":1386778464,"answer_id":20524278,"question_id":19039752,"body_markdown":"Use `/usr/libexec/java_home` ; I found these alias and function to be pretty useful in my `~/.profile`:\r\n\r\n\r\n    alias java_ls=&#39;/usr/libexec/java_home -V 2&gt;&amp;1 | cut -s -d , -f 1 | cut -c 5-&#39;\r\n    function java_use() {\r\n        export JAVA_HOME=$(/usr/libexec/java_home -v $1)\r\n        java -version\r\n    }","title":"Removing Java 8 JDK from Mac","body":"<p>Use <code>/usr/libexec/java_home</code> ; I found these alias and function to be pretty useful in my <code>~/.profile</code>:</p>\n\n<pre><code>alias java_ls='/usr/libexec/java_home -V 2&gt;&amp;1 | cut -s -d , -f 1 | cut -c 5-'\nfunction java_use() {\n    export JAVA_HOME=$(/usr/libexec/java_home -v $1)\n    java -version\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4291904,"reputation":59,"user_id":3508036,"display_name":"Danny Shi"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1396895360,"creation_date":1396895360,"answer_id":22920263,"question_id":19039752,"body_markdown":"If you have installed jdk8 on your Mac but now you want to remove it, just run below command &quot;sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk&quot;","title":"Removing Java 8 JDK from Mac","body":"<p>If you have installed jdk8 on your Mac but now you want to remove it, just run below command \"sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk\"</p>\n"},{"tags":[],"owner":{"account_id":4332144,"reputation":7960,"user_id":3540745,"display_name":"Samuel Alpoim"},"down_vote_count":4,"up_vote_count":795,"is_accepted":true,"score":791,"last_activity_date":1510243534,"creation_date":1397587904,"answer_id":23092014,"question_id":19039752,"body_markdown":"I was able to unistall jdk 8 in mavericks successfully doing the following steps:\r\n\r\n**Run this command to just remove the JDK**\r\n\r\n    sudo rm -rf /Library/Java/JavaVirtualMachines/jdk&lt;version&gt;.jdk\r\n\r\n**Run these commands if you want to remove plugins**\r\n\r\n    sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\r\n    sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\r\n    sudo rm -rf /Library/LaunchAgents/com.oracle.java.Java-Updater.plist\r\n    sudo rm -rf /Library/PrivilegedHelperTools/com.oracle.java.JavaUpdateHelper\r\n    sudo rm -rf /Library/LaunchDaemons/com.oracle.java.Helper-Tool.plist\r\n    sudo rm -rf /Library/Preferences/com.oracle.java.Helper-Tool.plist","title":"Removing Java 8 JDK from Mac","body":"<p>I was able to unistall jdk 8 in mavericks successfully doing the following steps:</p>\n\n<p><strong>Run this command to just remove the JDK</strong></p>\n\n<pre><code>sudo rm -rf /Library/Java/JavaVirtualMachines/jdk&lt;version&gt;.jdk\n</code></pre>\n\n<p><strong>Run these commands if you want to remove plugins</strong></p>\n\n<pre><code>sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\nsudo rm -rf /Library/LaunchAgents/com.oracle.java.Java-Updater.plist\nsudo rm -rf /Library/PrivilegedHelperTools/com.oracle.java.JavaUpdateHelper\nsudo rm -rf /Library/LaunchDaemons/com.oracle.java.Helper-Tool.plist\nsudo rm -rf /Library/Preferences/com.oracle.java.Helper-Tool.plist\n</code></pre>\n"},{"tags":[],"owner":{"account_id":144389,"reputation":2265,"user_id":353405,"display_name":"Lonre Wang"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1397926548,"creation_date":1397926548,"answer_id":23172845,"question_id":19039752,"body_markdown":"Here is the official document about uninstalling the JDK.\r\n\r\nhttp://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html#A1096903","title":"Removing Java 8 JDK from Mac","body":"<p>Here is the official document about uninstalling the JDK.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html#A1096903\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/docs/technotes/guides/install/mac_jdk.html#A1096903</a></p>\n"},{"tags":[],"owner":{"account_id":2784121,"reputation":11,"user_id":2395976,"display_name":"Neal Rauhauser"},"down_vote_count":12,"up_vote_count":0,"is_accepted":false,"score":-12,"last_activity_date":1432743974,"creation_date":1406915582,"answer_id":25085946,"question_id":19039752,"body_markdown":"This worked perfectly for me:\r\n\r\n    sudo rm -rf /Library/Java/JavaVirtualMachines\r\n    sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\r\n    sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin","title":"Removing Java 8 JDK from Mac","body":"<p>This worked perfectly for me:</p>\n\n<pre><code>sudo rm -rf /Library/Java/JavaVirtualMachines\nsudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3185652"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1411754632,"creation_date":1409185456,"answer_id":25538941,"question_id":19039752,"body_markdown":"If you uninstall all the files but it still fails, use this line:\r\n\r\n    sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk","title":"Removing Java 8 JDK from Mac","body":"<p>If you uninstall all the files but it still fails, use this line:</p>\n\n<pre><code>sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6353663,"reputation":1291,"user_id":4931783,"display_name":"Jonny T S"},"down_vote_count":5,"up_vote_count":130,"is_accepted":false,"score":125,"last_activity_date":1587451278,"creation_date":1432379698,"answer_id":30412014,"question_id":19039752,"body_markdown":"You just need to use these commands\r\n\r\n    sudo rm -rf /Library/Java/*\r\n    sudo rm -rf /Library/PreferencePanes/Java*\r\n    sudo rm -rf /Library/Internet\\ Plug-Ins/Java*\r\n\r\n","title":"Removing Java 8 JDK from Mac","body":"<p>You just need to use these commands</p>\n\n<pre><code>sudo rm -rf /Library/Java/*\nsudo rm -rf /Library/PreferencePanes/Java*\nsudo rm -rf /Library/Internet\\ Plug-Ins/Java*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":316828,"reputation":130866,"user_id":633183,"accept_rate":66,"display_name":"Mulan"},"down_vote_count":6,"up_vote_count":17,"is_accepted":false,"score":11,"last_activity_date":1601427936,"creation_date":1448427422,"answer_id":33908738,"question_id":19039752,"body_markdown":"I nuked everything Java, JDK, and oracle. I was running Java 8 on OSX El Capitan\r\n\r\nOther answers were missing tons of stuff. This answer covers a lot more bases.\r\n\r\nGood bye, shovelware.\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\r\n    sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\r\n    sudo rm -rf /Library/LaunchAgents/com.oracle.java.Java-Updater.plist\r\n    sudo rm -rf /Library/LaunchDaemons/com.oracle.java.Helper-Tool.plist\r\n    sudo rm -rf /Library/Preferences/com.oracle.java.Helper-Tool.plist\r\n    sudo rm -rf /System/Library/Frameworks/JavaVM.framework\r\n    sudo rm -rf /var/db/receipts/com.oracle.jdk8u65.bom\r\n    sudo rm -rf /var/db/receipts/com.oracle.jdk8u65.plist\r\n    sudo rm -rf /var/db/receipts/com.oracle.jre.bom\r\n    sudo rm -rf /var/db/receipts/com.oracle.jre.plist\r\n    sudo rm -rf /var/root/Library/Preferences/com.oracle.javadeployment.plist\r\n    sudo rm -rf ~/Library/Preferences/com.oracle.java.JavaAppletPlugin.plist\r\n    sudo rm -rf ~/Library/Preferences/com.oracle.javadeployment.plist\r\n    sudo rm -rf ~/.oracle_jre_usage\r\n\r\n","title":"Removing Java 8 JDK from Mac","body":"<p>I nuked everything Java, JDK, and oracle. I was running Java 8 on OSX El Capitan</p>\n<p>Other answers were missing tons of stuff. This answer covers a lot more bases.</p>\n<p>Good bye, shovelware.</p>\n<pre class=\"lang-none prettyprint-override\"><code>sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\nsudo rm -rf /Library/LaunchAgents/com.oracle.java.Java-Updater.plist\nsudo rm -rf /Library/LaunchDaemons/com.oracle.java.Helper-Tool.plist\nsudo rm -rf /Library/Preferences/com.oracle.java.Helper-Tool.plist\nsudo rm -rf /System/Library/Frameworks/JavaVM.framework\nsudo rm -rf /var/db/receipts/com.oracle.jdk8u65.bom\nsudo rm -rf /var/db/receipts/com.oracle.jdk8u65.plist\nsudo rm -rf /var/db/receipts/com.oracle.jre.bom\nsudo rm -rf /var/db/receipts/com.oracle.jre.plist\nsudo rm -rf /var/root/Library/Preferences/com.oracle.javadeployment.plist\nsudo rm -rf ~/Library/Preferences/com.oracle.java.JavaAppletPlugin.plist\nsudo rm -rf ~/Library/Preferences/com.oracle.javadeployment.plist\nsudo rm -rf ~/.oracle_jre_usage\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5408299,"reputation":1815,"user_id":4306033,"display_name":"Karthik damodara"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1510570177,"creation_date":1510570177,"answer_id":47262562,"question_id":19039752,"body_markdown":"To uninstall java of any version on mac just do: \r\n\r\n    sudo rm -fr /Library/Java/JavaVirtualMachines/jdk-YOUR_ACCURATE_VERSION.jdk/ \r\n    sudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin \r\n    sudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane","title":"Removing Java 8 JDK from Mac","body":"<p>To uninstall java of any version on mac just do: </p>\n\n<pre><code>sudo rm -fr /Library/Java/JavaVirtualMachines/jdk-YOUR_ACCURATE_VERSION.jdk/ \nsudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin \nsudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3692369,"reputation":9939,"user_id":3960700,"accept_rate":81,"display_name":"Stephen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1551771299,"creation_date":1551771299,"answer_id":54997584,"question_id":19039752,"body_markdown":"Two ways you can do that:\r\n\r\n1. Removing JDK directly from Users-&gt; Library -&gt; Java -&gt; VirtualMachines -&gt; then delete the jdk folder directly to uninstall the java.\r\n\r\n2. By following the command: (uninstall java 1.8 version )\r\n \r\nmake sure you are in home directory by using below command, before you write the command:\r\n\r\n`cd ~/`\r\n    \r\n    sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.8.jdk\r\n    sudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\r\n    sudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\r\n    sudo rm -rf /Library/Application\\ Support/Oracle/Java","title":"Removing Java 8 JDK from Mac","body":"<p>Two ways you can do that:</p>\n\n<ol>\n<li><p>Removing JDK directly from Users-> Library -> Java -> VirtualMachines -> then delete the jdk folder directly to uninstall the java.</p></li>\n<li><p>By following the command: (uninstall java 1.8 version )</p></li>\n</ol>\n\n<p>make sure you are in home directory by using below command, before you write the command:</p>\n\n<p><code>cd ~/</code></p>\n\n<pre><code>sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.8.jdk\nsudo rm -rf /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -rf /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\nsudo rm -rf /Library/Application\\ Support/Oracle/Java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1576683794,"creation_date":1574934308,"answer_id":59085852,"question_id":19039752,"body_markdown":"**in Mac** Remove Java Version using this 3 Commands\r\n\r\n\r\njava -version\r\n\r\nsudo rm -rf /Library/Java/*\r\n\r\nsudo rm -rf /Library/PreferencePanes/Java*\r\n\r\nsudo rm -rf /Library/Internet\\ Plug-Ins/Java*\r\n\r\nRun \r\n\r\njava -version\r\n\r\n//See java was successfully uninstalled. \r\n\r\n\r\njava -version\r\nsudo rm -rf /Library/Java/*\r\nsudo rm -rf /Library/PreferencePanes/Java*\r\nsudo rm -rf /Library/Internet\\ Plug-Ins/Java*\r\n\r\nRun \r\njava -version\r\n\r\n[Install Java 8 Link][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://adoptopenjdk.net/releases.html\r\n  [2]: https://i.stack.imgur.com/Sp2Dq.png\r\n\r\n\r\nDownload Package and click next next next ","title":"Removing Java 8 JDK from Mac","body":"<p><strong>in Mac</strong> Remove Java Version using this 3 Commands</p>\n\n<p>java -version</p>\n\n<p>sudo rm -rf /Library/Java/*</p>\n\n<p>sudo rm -rf /Library/PreferencePanes/Java*</p>\n\n<p>sudo rm -rf /Library/Internet\\ Plug-Ins/Java*</p>\n\n<p>Run </p>\n\n<p>java -version</p>\n\n<p>//See java was successfully uninstalled. </p>\n\n<p>java -version\nsudo rm -rf /Library/Java/*\nsudo rm -rf /Library/PreferencePanes/Java*\nsudo rm -rf /Library/Internet\\ Plug-Ins/Java*</p>\n\n<p>Run \njava -version</p>\n\n<p><a href=\"https://adoptopenjdk.net/releases.html\" rel=\"nofollow noreferrer\">Install Java 8 Link</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Sp2Dq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sp2Dq.png\" alt=\"enter image description here\"></a></p>\n\n<p>Download Package and click next next next </p>\n"},{"tags":[],"owner":{"account_id":4254889,"reputation":3902,"user_id":3568919,"accept_rate":50,"display_name":"Nasif Md. Tanjim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650086946,"creation_date":1650086946,"answer_id":71891360,"question_id":19039752,"body_markdown":"Official recommendation\r\n\r\nhttps://www.java.com/en/download/help/mac_uninstall_java.html\r\n\r\n```bash\r\nsudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\r\nsudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\r\nsudo rm -fr ~/Library/Application\\ Support/Oracle/Java\r\n```","title":"Removing Java 8 JDK from Mac","body":"<p>Official recommendation</p>\n<p><a href=\"https://www.java.com/en/download/help/mac_uninstall_java.html\" rel=\"nofollow noreferrer\">https://www.java.com/en/download/help/mac_uninstall_java.html</a></p>\n<pre class=\"lang-sh prettyprint-override\"><code>sudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\nsudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -fr ~/Library/Application\\ Support/Oracle/Java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6404691,"reputation":1890,"user_id":7760910,"accept_rate":73,"display_name":"whatsinthename"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677262003,"creation_date":1677262003,"answer_id":75559985,"question_id":19039752,"body_markdown":"You can just locate the `Java` versions inside the `/Library/Java` on *MacOS* and delete the version folder you want to delete and keep the one you need. It works fine. No problem at all.","title":"Removing Java 8 JDK from Mac","body":"<p>You can just locate the <code>Java</code> versions inside the <code>/Library/Java</code> on <em>MacOS</em> and delete the version folder you want to delete and keep the one you need. It works fine. No problem at all.</p>\n"}],"owner":{"account_id":140434,"reputation":11503,"user_id":346741,"accept_rate":84,"display_name":"Rob"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437121,"favorite_count":0,"down_vote_count":2,"up_vote_count":306,"accepted_answer_id":23092014,"answer_count":14,"score":304,"last_activity_date":1677262003,"creation_date":1380234412,"question_id":19039752,"body_markdown":"So I installed the beta of JDK 8 a while ago to look at some of the examples. I thought for sure by now, it&#39;s easy to change between versions. \r\n\r\nDoing some Play development with IntelliJ. For some reason, IntelliJ is compiling with 8 even though:\r\n\r\n* I have the compiler set in Preferences to use 1.6\r\n* Supposedly it&#39;s using SBT through external build, but sbt from the command line works\r\n* JAVA_HOME is pointing to JDK 6.\r\n\r\nIf I go to the Java Preferences page, it does show 8 installed, but there is no option to uninstall it and it doesn&#39;t see any of the other versions.\r\n\r\nWhen I do `which java`, it tells me `/usr/bin/java` and I do `/usr/bin/java -version` and it returns 1.6.\r\n\r\nNote: with a  little fiddling, you can use IntelliJ and JDK7, see [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13019199/how-do-i-run-idea-intellij-on-mac-os-x-with-jdk-7","title":"Removing Java 8 JDK from Mac","body":"<p>So I installed the beta of JDK 8 a while ago to look at some of the examples. I thought for sure by now, it's easy to change between versions. </p>\n\n<p>Doing some Play development with IntelliJ. For some reason, IntelliJ is compiling with 8 even though:</p>\n\n<ul>\n<li>I have the compiler set in Preferences to use 1.6</li>\n<li>Supposedly it's using SBT through external build, but sbt from the command line works</li>\n<li>JAVA_HOME is pointing to JDK 6.</li>\n</ul>\n\n<p>If I go to the Java Preferences page, it does show 8 installed, but there is no option to uninstall it and it doesn't see any of the other versions.</p>\n\n<p>When I do <code>which java</code>, it tells me <code>/usr/bin/java</code> and I do <code>/usr/bin/java -version</code> and it returns 1.6.</p>\n\n<p>Note: with a  little fiddling, you can use IntelliJ and JDK7, see <a href=\"https://stackoverflow.com/questions/13019199/how-do-i-run-idea-intellij-on-mac-os-x-with-jdk-7\">here</a>.</p>\n"},{"tags":["java","maven","maven-3"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677097643,"post_id":75537601,"comment_id":133272639,"body_markdown":"Does the dependency have the `&lt;classifier&gt;tests&lt;/classifier&gt;` specified? Looks quite useless to configure the `compile` scope as this is the default value, when you want to ignore it with the tests, you rather should add it to the `test` scope","body":"Does the dependency have the <code>&lt;classifier&gt;tests&lt;&#47;classifier&gt;</code> specified? Looks quite useless to configure the <code>compile</code> scope as this is the default value, when you want to ignore it with the tests, you rather should add it to the <code>test</code> scope"},{"owner":{"account_id":276700,"reputation":993,"user_id":570291,"accept_rate":86,"display_name":"Drizzt321"},"score":0,"creation_date":1677099881,"post_id":75537601,"comment_id":133273332,"body_markdown":"@cyberbrain nope, no `&lt;classifier&gt;` tags. I was just trying out some auto-complete options just in case.\n\nAny other ideas to try?","body":"@cyberbrain nope, no <code>&lt;classifier&gt;</code> tags. I was just trying out some auto-complete options just in case.  Any other ideas to try?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1677105331,"post_id":75537601,"comment_id":133274564,"body_markdown":"Is the `tests:1.3-SNAPSHOT` defined by one of your own builds? Does that exist in your repository manager ? Might it be deleted in the meantime (many repo manager have cleanup strategies for SNAPSHOT&#39;s in place)... ? can show the full pom file? Alos the logging output...","body":"Is the <code>tests:1.3-SNAPSHOT</code> defined by one of your own builds? Does that exist in your repository manager ? Might it be deleted in the meantime (many repo manager have cleanup strategies for SNAPSHOT&#39;s in place)... ? can show the full pom file? Alos the logging output..."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677653886,"post_id":75537601,"comment_id":133378315,"body_markdown":"what value has `${f2.version}` ? you can find out with `mvn help:effective-pom` what the effective version of this dependency is - Is there a possibility that the version is defined as something different than  &quot;1.3-SNAPSHOT&quot;?","body":"what value has <code>${f2.version}</code> ? you can find out with <code>mvn help:effective-pom</code> what the effective version of this dependency is - Is there a possibility that the version is defined as something different than  &quot;1.3-SNAPSHOT&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677148314,"creation_date":1677148314,"answer_id":75543565,"question_id":75537601,"body_markdown":"The filename *biz-lib-1.3-SNAPSHOT-tests.jar* can be referenced in two ways as dependency (see the last part of the section [But where do I set Artifact extension?](https://maven.apache.org/repositories/artifacts.html#but-where-do-i-set-artifact-extension) as explanation):\r\n\r\n``` lang-xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.findology.f2&lt;/groupId&gt;\r\n  &lt;artifactId&gt;biz-lib&lt;/artifactId&gt;\r\n  &lt;version&gt;1.3-SNAPSHOT&lt;/version&gt;\r\n  &lt;classifier&gt;tests&lt;/classifier&gt;\r\n&lt;/dependency&gt;\r\n```\r\nor\r\n``` lang-xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.findology.f2&lt;/groupId&gt;\r\n  &lt;artifactId&gt;biz-lib&lt;/artifactId&gt;\r\n  &lt;version&gt;1.3-SNAPSHOT&lt;/version&gt;\r\n  &lt;type&gt;test-jar&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nTo exclude it, you have either to get rid of that dependency, or add `&lt;scope&gt;test&lt;/scope&gt;` to it (that it should have anyways, because tests shouldn&#39;t go into a production build), so it is ignored when you skip the tests.\r\nIf that doesn&#39;t help, you can also make it an optional dependency with the addition of `&lt;optional&gt;true&lt;/optional&gt;` to the dependency.","title":"Existing maven config is now saying can&#39;t find a tests artifact (separate module) when building WAR, and I can&#39;t get maven to not check/ignore this","body":"<p>The filename <em>biz-lib-1.3-SNAPSHOT-tests.jar</em> can be referenced in two ways as dependency (see the last part of the section <a href=\"https://maven.apache.org/repositories/artifacts.html#but-where-do-i-set-artifact-extension\" rel=\"nofollow noreferrer\">But where do I set Artifact extension?</a> as explanation):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.findology.f2&lt;/groupId&gt;\n  &lt;artifactId&gt;biz-lib&lt;/artifactId&gt;\n  &lt;version&gt;1.3-SNAPSHOT&lt;/version&gt;\n  &lt;classifier&gt;tests&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.findology.f2&lt;/groupId&gt;\n  &lt;artifactId&gt;biz-lib&lt;/artifactId&gt;\n  &lt;version&gt;1.3-SNAPSHOT&lt;/version&gt;\n  &lt;type&gt;test-jar&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To exclude it, you have either to get rid of that dependency, or add <code>&lt;scope&gt;test&lt;/scope&gt;</code> to it (that it should have anyways, because tests shouldn't go into a production build), so it is ignored when you skip the tests.\nIf that doesn't help, you can also make it an optional dependency with the addition of <code>&lt;optional&gt;true&lt;/optional&gt;</code> to the dependency.</p>\n"}],"owner":{"account_id":276700,"reputation":993,"user_id":570291,"accept_rate":86,"display_name":"Drizzt321"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677261311,"creation_date":1677095924,"question_id":75537601,"body_markdown":"To start, this is a very old code base, currently being compiled/run under Java8. I&#39;m trying to get it compiled/run under OpenJDK 17. So far getting many of the modules to compile, but I&#39;m getting stuck on one of them, which depends on another, asking for the &quot;tests&quot; jar.\r\n\r\nThe error is `Could not find artifact com.findology.f2:biz-lib:jar:tests:1.3-SNAPSHOT`\r\n\r\nIn the local `~/.m2/repository` repository, I do see `biz-lib-1.3-SNAPSHOT-tests.jar` file, so really not sure why it&#39;s not finding it. \r\n\r\nI&#39;m building the module WAR module with `mvn clean install -Dmaven.test.skip=true -DfailIfNoTests=false`, but despite that it still keeps giving me that error. \r\n\r\nI&#39;ve tried adding the following to the dependency, but hasn&#39;t made a difference\r\n```\r\n&lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;type&gt;jar&lt;/type&gt;\r\n```\r\n\r\nI&#39;m using Maven v3.8.5, OpenJDK v17.0.5 on KDE Neon (Ubuntu 22.04 based\r\n\r\nEDIT: My dependency entry looks like \r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.findology.f2&lt;/groupId&gt;\r\n   &lt;artifactId&gt;biz-lib&lt;/artifactId&gt;\r\n   &lt;version&gt;${f2.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Existing maven config is now saying can&#39;t find a tests artifact (separate module) when building WAR, and I can&#39;t get maven to not check/ignore this","body":"<p>To start, this is a very old code base, currently being compiled/run under Java8. I'm trying to get it compiled/run under OpenJDK 17. So far getting many of the modules to compile, but I'm getting stuck on one of them, which depends on another, asking for the &quot;tests&quot; jar.</p>\n<p>The error is <code>Could not find artifact com.findology.f2:biz-lib:jar:tests:1.3-SNAPSHOT</code></p>\n<p>In the local <code>~/.m2/repository</code> repository, I do see <code>biz-lib-1.3-SNAPSHOT-tests.jar</code> file, so really not sure why it's not finding it.</p>\n<p>I'm building the module WAR module with <code>mvn clean install -Dmaven.test.skip=true -DfailIfNoTests=false</code>, but despite that it still keeps giving me that error.</p>\n<p>I've tried adding the following to the dependency, but hasn't made a difference</p>\n<pre><code>&lt;scope&gt;compile&lt;/scope&gt;\n&lt;type&gt;jar&lt;/type&gt;\n</code></pre>\n<p>I'm using Maven v3.8.5, OpenJDK v17.0.5 on KDE Neon (Ubuntu 22.04 based</p>\n<p>EDIT: My dependency entry looks like</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.findology.f2&lt;/groupId&gt;\n   &lt;artifactId&gt;biz-lib&lt;/artifactId&gt;\n   &lt;version&gt;${f2.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","maven","h2"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677260435,"creation_date":1677260435,"answer_id":75559751,"question_id":75559245,"body_markdown":"Your url says to make it in the current location:  `./database`\r\n\r\nThat location seems to be the project base.\r\n\r\nYou don&#39;t say how you are starting it, so there is little more that can be said.","title":"H2 database generated in wrong directory when generated with maven","body":"<p>Your url says to make it in the current location:  <code>./database</code></p>\n<p>That location seems to be the project base.</p>\n<p>You don't say how you are starting it, so there is little more that can be said.</p>\n"}],"owner":{"account_id":20129119,"reputation":94,"user_id":14761844,"display_name":"andi2.2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677260435,"creation_date":1677257275,"question_id":75559245,"body_markdown":"I have the following project structure\r\n\r\n```\r\nproject/\r\n├─ frontend/\r\n├─ backend/\r\n│  ├─ src/main/resources/\r\n│  │  ├─ application.yml\r\n```\r\n\r\nMy application.yml contains:\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:h2:./database\r\n    driver-class-name: org.h2.Driver\r\n```\r\n\r\nIf I run some maven goal (e.g. `maven clean compile`), the database files are created under `project` instead of `backend`.\r\n\r\nDo I need to configure my maven environment in a way that it knows where the project root is?","title":"H2 database generated in wrong directory when generated with maven","body":"<p>I have the following project structure</p>\n<pre><code>project/\n├─ frontend/\n├─ backend/\n│  ├─ src/main/resources/\n│  │  ├─ application.yml\n</code></pre>\n<p>My application.yml contains:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:h2:./database\n    driver-class-name: org.h2.Driver\n</code></pre>\n<p>If I run some maven goal (e.g. <code>maven clean compile</code>), the database files are created under <code>project</code> instead of <code>backend</code>.</p>\n<p>Do I need to configure my maven environment in a way that it knows where the project root is?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677314832,"post_id":75558412,"comment_id":133316647,"body_markdown":"Please edit your question and add the content of your `DataClass1` class.","body":"Please edit your question and add the content of your <code>DataClass1</code> class."}],"owner":{"account_id":27870610,"reputation":1,"user_id":21281208,"display_name":"Alyanna Bayani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677260253,"creation_date":1677252686,"question_id":75558412,"body_markdown":"I am trying to retrieve data from realtime database, but it doesn&#39;t work since I cannot call the section name.\r\n\r\n[Here&#39;s the Realtime Database Structure](https://i.stack.imgur.com/Txuz6.png)\r\n\r\nI&#39;m trying to retrieve the subject name.\r\n\r\n        database = FirebaseDatabase.getInstance();\r\n        dbref = database.getReference(&quot;Sections&quot;);\r\n\r\n        eventListener = dbref.child(getSection).addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    //get data from firebase\r\n                    dataclass1.clear();\r\n\r\n                    if (snapshot.exists()) {\r\n                        for (DataSnapshot itemSnapshot: snapshot.getChildren()) {\r\n                            DataClass1 dataClass = itemSnapshot.getValue(DataClass1.class);\r\n                            dataclass1.add(dataClass);\r\n                        }\r\n                        sectionAdapter.notifyDataSetChanged();\r\n                    }\r\n\r\n                    //dialog.dismiss()\r\n                }","title":"Retrieve Subject Name From Firebase","body":"<p>I am trying to retrieve data from realtime database, but it doesn't work since I cannot call the section name.</p>\n<p><a href=\"https://i.stack.imgur.com/Txuz6.png\" rel=\"nofollow noreferrer\">Here's the Realtime Database Structure</a></p>\n<p>I'm trying to retrieve the subject name.</p>\n<pre><code>    database = FirebaseDatabase.getInstance();\n    dbref = database.getReference(&quot;Sections&quot;);\n\n    eventListener = dbref.child(getSection).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                //get data from firebase\n                dataclass1.clear();\n\n                if (snapshot.exists()) {\n                    for (DataSnapshot itemSnapshot: snapshot.getChildren()) {\n                        DataClass1 dataClass = itemSnapshot.getValue(DataClass1.class);\n                        dataclass1.add(dataClass);\n                    }\n                    sectionAdapter.notifyDataSetChanged();\n                }\n\n                //dialog.dismiss()\n            }\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677259913,"creation_date":1677259913,"answer_id":75559668,"question_id":75559353,"body_markdown":"Im guessing you&#39;re using the Mapper Client for DynamoDB. Have a read of this blog, you need to set the right save behavior for your needs:\r\n\r\nhttps://aws.amazon.com/blogs/developer/using-the-savebehavior-configuration-for-the-dynamodbmapper/","title":"Spring project with DynamoDB; When updating the document with fewer attributes are these removed?","body":"<p>Im guessing you're using the Mapper Client for DynamoDB. Have a read of this blog, you need to set the right save behavior for your needs:</p>\n<p><a href=\"https://aws.amazon.com/blogs/developer/using-the-savebehavior-configuration-for-the-dynamodbmapper/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/developer/using-the-savebehavior-configuration-for-the-dynamodbmapper/</a></p>\n"}],"owner":{"account_id":19589941,"reputation":3,"user_id":14337178,"display_name":"Gabriel Cortez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75559668,"answer_count":1,"score":0,"last_activity_date":1677259913,"creation_date":1677257848,"question_id":75559353,"body_markdown":"I have lost information in dynamoDB in the address attribute, I try to track when this information is lost, it is updated by different microservices, my question is that if I update a document (json) from a collection with fewer attributes, will these be lost? example,\r\n\r\ninsert {id:1,name:&quot;gabriel&quot;, address:&quot;xxx&quot;}\r\n\r\nupdate {id:1,name:&quot;gabriel&quot;}\r\n\r\n\r\nwhen consulting the id 1 it would only have {id:1,name:&quot;gabriel&quot;}\r\n","title":"Spring project with DynamoDB; When updating the document with fewer attributes are these removed?","body":"<p>I have lost information in dynamoDB in the address attribute, I try to track when this information is lost, it is updated by different microservices, my question is that if I update a document (json) from a collection with fewer attributes, will these be lost? example,</p>\n<p>insert {id:1,name:&quot;gabriel&quot;, address:&quot;xxx&quot;}</p>\n<p>update {id:1,name:&quot;gabriel&quot;}</p>\n<p>when consulting the id 1 it would only have {id:1,name:&quot;gabriel&quot;}</p>\n"},{"tags":["java","spring","multithreading","threadpool"],"owner":{"account_id":23678757,"reputation":11,"user_id":17704606,"display_name":"JavaN00b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677259211,"creation_date":1677187253,"question_id":75550439,"body_markdown":"I&#39;ve tried and read a few things. However, thread pooling and the ThreadPoolTaskExecutor are reported differently everywhere. Maybe I&#39;ll mess things up and you can just untie the knot in my head.\r\n\r\nFirst of all, what am I going to do?\r\n\r\nI have a spring boot application that does some long calculations. For this I wanted to start a maximum of 10 threads in parallel and the rest should wait in a queue. If one calculation is finish the next one should start from the queue.\r\n\r\nThat&#39;s why I came up with the ThreadPoolTaskExecutor.\r\n\r\nThe first attempt was to set up the ThreadPoolTaskExecutor like a cachedPoolExecutor.\r\nAccording to the javadoc, this set the corePoolSize to 0 and the MaxPoolSize to 10 or Integer.MAX.\r\n\r\nObservation:\r\nOnly 1 thread is started and used at the same time. Never see the 10 Threads.\r\n\r\nNext try:\r\nSet core size pool to 10 and max pool size to 25.\r\n\r\nObservation: 10 threads are always started. Never see the 25 Threads.\r\n\r\nI would have expected something different\r\n\r\nNow after some reading I understand the following (maybe wrong).\r\n\r\nThe core size is the minimum threads that are in the pool. If the queue is full, the maximum number of max-pool-size will be created.\r\n\r\nUnfortunately, I didn&#39;t understand the meaning behind it. Why the max-pool thread isn&#39;t created and everything beyond that goes into the queue? So that i have this range from n to x. \r\nCan someone explain me the reason?\r\n\r\nWhat is the most efficient way to implement my scenario of 0-10 threads? Or is this a bad idea in general?\r\n\r\n\r\nHow does a connection pool like Hikari work with a maximum pool size of 25. There are never more than 3 threads open or opened and on demand.\r\n\r\nThanks in advance","title":"Understand Spring ThreadPoolTaskExecutor and Pooling in general","body":"<p>I've tried and read a few things. However, thread pooling and the ThreadPoolTaskExecutor are reported differently everywhere. Maybe I'll mess things up and you can just untie the knot in my head.</p>\n<p>First of all, what am I going to do?</p>\n<p>I have a spring boot application that does some long calculations. For this I wanted to start a maximum of 10 threads in parallel and the rest should wait in a queue. If one calculation is finish the next one should start from the queue.</p>\n<p>That's why I came up with the ThreadPoolTaskExecutor.</p>\n<p>The first attempt was to set up the ThreadPoolTaskExecutor like a cachedPoolExecutor.\nAccording to the javadoc, this set the corePoolSize to 0 and the MaxPoolSize to 10 or Integer.MAX.</p>\n<p>Observation:\nOnly 1 thread is started and used at the same time. Never see the 10 Threads.</p>\n<p>Next try:\nSet core size pool to 10 and max pool size to 25.</p>\n<p>Observation: 10 threads are always started. Never see the 25 Threads.</p>\n<p>I would have expected something different</p>\n<p>Now after some reading I understand the following (maybe wrong).</p>\n<p>The core size is the minimum threads that are in the pool. If the queue is full, the maximum number of max-pool-size will be created.</p>\n<p>Unfortunately, I didn't understand the meaning behind it. Why the max-pool thread isn't created and everything beyond that goes into the queue? So that i have this range from n to x.\nCan someone explain me the reason?</p>\n<p>What is the most efficient way to implement my scenario of 0-10 threads? Or is this a bad idea in general?</p>\n<p>How does a connection pool like Hikari work with a maximum pool size of 25. There are never more than 3 threads open or opened and on demand.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","android","webview","android-webview"],"owner":{"account_id":12983302,"reputation":19,"user_id":9384968,"display_name":"Ashis Autar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677258873,"creation_date":1677255362,"question_id":75558886,"body_markdown":"I have a webview app of my website. On my website i have a plugin installed of facebook, twitter, LinkedIn and whatsapp. But if I want to click on facebook or twitter or linkedin or whatsapp via my webview app on one of the pages because i want to share that page/blog, the apps on my mobile will not open.  How can i make sure my webview app will do that.\r\nsee the code below\r\n\r\n\r\n\r\n\r\n\r\n    import android.annotation.SuppressLint;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.webkit.WebChromeClient;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.widget.ProgressBar;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        WebView webView;\r\n        ProgressBar progressBar;\r\n    \r\n    \r\n        @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            webView = findViewById(R.id.webview);\r\n            progressBar = findViewById(R.id.progress);\r\n    \r\n            webView.setWebChromeClient( new MyWebChromeClient());\r\n            webView.setWebViewClient( new webClient());\r\n            webView.getSettings().setLoadWithOverviewMode(true);\r\n            webView.getSettings().setSupportZoom(true);\r\n            webView.getSettings().setJavaScriptEnabled(true);\r\n            webView.loadUrl(&quot;https://www.hindnc.nl/&quot;);\r\n        }\r\n    \r\n        public class  MyWebChromeClient extends WebChromeClient {\r\n            public void onProgressChanged(WebView view, int newProgress) {\r\n                progressBar.setVisibility(View.VISIBLE);\r\n                progressBar.setProgress(newProgress);\r\n            }\r\n        }\r\n    \r\n        public class webClient extends WebViewClient {\r\n            public boolean  shouldOverrideUrlLoading(WebView view, String url) {\r\n                view.loadUrl(url);\r\n                return true;\r\n            }\r\n    \r\n            @Override\r\n            public void onPageFinished(WebView view, String url) {\r\n                super.onPageFinished(view, url);\r\n                progressBar.setVisibility(View.GONE);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            if (webView.canGoBack()) {\r\n                webView.goBack();\r\n                progressBar.setVisibility(View.GONE);\r\n            } else  {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n    }","title":"Android Java Webview app: how to open facebook, twitter, linkedin and whatsapp app via my webview app","body":"<p>I have a webview app of my website. On my website i have a plugin installed of facebook, twitter, LinkedIn and whatsapp. But if I want to click on facebook or twitter or linkedin or whatsapp via my webview app on one of the pages because i want to share that page/blog, the apps on my mobile will not open.  How can i make sure my webview app will do that.\nsee the code below</p>\n<pre><code>import android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.ProgressBar;\nimport androidx.appcompat.app.AppCompatActivity;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    WebView webView;\n    ProgressBar progressBar;\n\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        webView = findViewById(R.id.webview);\n        progressBar = findViewById(R.id.progress);\n\n        webView.setWebChromeClient( new MyWebChromeClient());\n        webView.setWebViewClient( new webClient());\n        webView.getSettings().setLoadWithOverviewMode(true);\n        webView.getSettings().setSupportZoom(true);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.loadUrl(&quot;https://www.hindnc.nl/&quot;);\n    }\n\n    public class  MyWebChromeClient extends WebChromeClient {\n        public void onProgressChanged(WebView view, int newProgress) {\n            progressBar.setVisibility(View.VISIBLE);\n            progressBar.setProgress(newProgress);\n        }\n    }\n\n    public class webClient extends WebViewClient {\n        public boolean  shouldOverrideUrlLoading(WebView view, String url) {\n            view.loadUrl(url);\n            return true;\n        }\n\n        @Override\n        public void onPageFinished(WebView view, String url) {\n            super.onPageFinished(view, url);\n            progressBar.setVisibility(View.GONE);\n        }\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (webView.canGoBack()) {\n            webView.goBack();\n            progressBar.setVisibility(View.GONE);\n        } else  {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","android-glide","color-palette"],"answers":[{"tags":[],"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593254130,"creation_date":1593254130,"answer_id":62608840,"question_id":62608747,"body_markdown":"Move the pallet color-related code outside of the onResourceReady() and keep rest things same as it is \r\n\r\n    public class CoffeeAdapter extends RecyclerView.Adapter&lt;CoffeeAdapter.ViewHolder&gt; implements Filterable{\r\n    \r\n        private static final String TAG = &quot;RecyclerAdapter&quot;;\r\n    \r\n        private ArrayList&lt;CoffeeItem&gt; coffeeItems;\r\n        ArrayList&lt;CoffeeItem&gt; coffeeItemsAll;\r\n        private Context mContext;\r\n        private FavDB favDB;\r\n        private DownloadDB downloadDB;\r\n    \r\n        public CoffeeAdapter(ArrayList&lt;CoffeeItem&gt; coffeeItems, Context mContext) {\r\n            this.coffeeItems = coffeeItems;\r\n            this.coffeeItemsAll = new ArrayList&lt;CoffeeItem&gt;(coffeeItems);\r\n            this.mContext = mContext;\r\n            notifyDataSetChanged();\r\n    \r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            favDB = new FavDB(mContext);\r\n            downloadDB = new DownloadDB(mContext);\r\n            //create table on first\r\n            SharedPreferences prefs = mContext.getSharedPreferences(&quot;prefs&quot;, mContext.MODE_PRIVATE);\r\n            boolean firstStart = prefs.getBoolean(&quot;firstStart&quot;, true);\r\n            if (firstStart) {\r\n                createTableOnFirstStart();\r\n                createTableOnFirstStart1();\r\n            }\r\n    \r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item,\r\n                    parent,false);\r\n            return new ViewHolder(view);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull final CoffeeAdapter.ViewHolder holder, int position) {\r\n            final CoffeeItem coffeeItem = coffeeItems.get(position);\r\n            readCursorData(coffeeItem, holder);\r\n            readCursorData1(coffeeItem, holder);\r\n\r\n\r\n           Palette.from(resource)\r\n           .generate(new Palette.PaletteAsyncListener() {\r\n             @Override\r\n             public void onGenerated(@Nullable Palette palette) {\r\n             Palette.Swatch darkVibrantSwatch = palette.getDarkVibrantSwatch();\r\n             Palette.Swatch dominantSwatch = palette.getDominantSwatch();\r\n             Palette.Swatch lightVibrantSwatch = palette.getLightVibrantSwatch();\r\n             if (darkVibrantSwatch != null) {\r\n                 holder.cardView.setCardBackgroundColor(darkVibrantSwatch.getRgb());\r\n             } else if (dominantSwatch != null) {\r\n\r\n                 holder.cardView.setCardBackgroundColor(dominantSwatch.getRgb());\r\n\r\n             } else {\r\n\r\n                 holder.cardView.setCardBackgroundColor(lightVibrantSwatch.getRgb());\r\n\r\n                }\r\n\r\n              }\r\n           });\r\n    \r\n           // Glide.with(mContext).load(coffeeItems.get(position).getUrl()).into(holder.imageView);\r\n    \r\n            Glide.with(mContext)\r\n                    .asBitmap()\r\n                    .load(coffeeItems.get(position).getUrl())\r\n                    .thumbnail(0.05f)\r\n                    .apply(new RequestOptions().override(600,1200))\r\n                    .apply(new RequestOptions().diskCacheStrategy(DiskCacheStrategy.ALL))\r\n                    .listener(new RequestListener&lt;Bitmap&gt;() {\r\n                        @Override\r\n                        public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Bitmap&gt; target, boolean isFirstResource) {\r\n                            return false;\r\n                        }\r\n    \r\n                        @Override\r\n                        public boolean onResourceReady(Bitmap resource, Object model, Target&lt;Bitmap&gt; target, DataSource dataSource, boolean isFirstResource) {\r\n                            return false;\r\n                        }\r\n                    })\r\n                    .into(holder.imageView);\r\n    \r\n    \r\n    \r\n            //Picasso.get().load(coffeeItems.get(position).getUrl()).resize(1080,1920).onlyScaleDown().into(holder.imageView);\r\n            //holder.imageView.setImageResource(coffeeItem.getImageResourse());\r\n            holder.titleTextView.setText(coffeeItem.getTitle());\r\n    \r\n            holder.cardView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(mContext,ViewActivity.class);\r\n                    intent.putExtra(&quot;image&quot;,coffeeItem.getUrl());\r\n                    intent.putExtra(&quot;title&quot;,coffeeItem.getTitle());\r\n                    intent.putExtra(&quot;tag&quot;,coffeeItem.getTag());\r\n                    intent.putExtra(&quot;resolution&quot;, coffeeItem.getResolution());\r\n                    intent.putExtra(&quot;size&quot;,coffeeItem.getSize());\r\n                    intent.putExtra(&quot;desc&quot;,coffeeItem.getDescription());\r\n                    intent.putExtra(&quot;keyId&quot;,coffeeItem.getKey_id());\r\n                    intent.putExtra(&quot;favStatus&quot;,coffeeItem.getFavStatus());\r\n                    intent.putExtra(&quot;downloadStatus&quot;,coffeeItem.getDownloadStatus());\r\n    \r\n                    mContext.startActivity(intent);\r\n                }\r\n            });\r\n        }","title":"How to load color palette as cardView background while images load in android?","body":"<p>Move the pallet color-related code outside of the onResourceReady() and keep rest things same as it is</p>\n<pre><code>public class CoffeeAdapter extends RecyclerView.Adapter&lt;CoffeeAdapter.ViewHolder&gt; implements Filterable{\n\n    private static final String TAG = &quot;RecyclerAdapter&quot;;\n\n    private ArrayList&lt;CoffeeItem&gt; coffeeItems;\n    ArrayList&lt;CoffeeItem&gt; coffeeItemsAll;\n    private Context mContext;\n    private FavDB favDB;\n    private DownloadDB downloadDB;\n\n    public CoffeeAdapter(ArrayList&lt;CoffeeItem&gt; coffeeItems, Context mContext) {\n        this.coffeeItems = coffeeItems;\n        this.coffeeItemsAll = new ArrayList&lt;CoffeeItem&gt;(coffeeItems);\n        this.mContext = mContext;\n        notifyDataSetChanged();\n\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        favDB = new FavDB(mContext);\n        downloadDB = new DownloadDB(mContext);\n        //create table on first\n        SharedPreferences prefs = mContext.getSharedPreferences(&quot;prefs&quot;, mContext.MODE_PRIVATE);\n        boolean firstStart = prefs.getBoolean(&quot;firstStart&quot;, true);\n        if (firstStart) {\n            createTableOnFirstStart();\n            createTableOnFirstStart1();\n        }\n\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item,\n                parent,false);\n        return new ViewHolder(view);\n    }\n\n\n    @Override\n    public void onBindViewHolder(@NonNull final CoffeeAdapter.ViewHolder holder, int position) {\n        final CoffeeItem coffeeItem = coffeeItems.get(position);\n        readCursorData(coffeeItem, holder);\n        readCursorData1(coffeeItem, holder);\n\n\n       Palette.from(resource)\n       .generate(new Palette.PaletteAsyncListener() {\n         @Override\n         public void onGenerated(@Nullable Palette palette) {\n         Palette.Swatch darkVibrantSwatch = palette.getDarkVibrantSwatch();\n         Palette.Swatch dominantSwatch = palette.getDominantSwatch();\n         Palette.Swatch lightVibrantSwatch = palette.getLightVibrantSwatch();\n         if (darkVibrantSwatch != null) {\n             holder.cardView.setCardBackgroundColor(darkVibrantSwatch.getRgb());\n         } else if (dominantSwatch != null) {\n\n             holder.cardView.setCardBackgroundColor(dominantSwatch.getRgb());\n\n         } else {\n\n             holder.cardView.setCardBackgroundColor(lightVibrantSwatch.getRgb());\n\n            }\n\n          }\n       });\n\n       // Glide.with(mContext).load(coffeeItems.get(position).getUrl()).into(holder.imageView);\n\n        Glide.with(mContext)\n                .asBitmap()\n                .load(coffeeItems.get(position).getUrl())\n                .thumbnail(0.05f)\n                .apply(new RequestOptions().override(600,1200))\n                .apply(new RequestOptions().diskCacheStrategy(DiskCacheStrategy.ALL))\n                .listener(new RequestListener&lt;Bitmap&gt;() {\n                    @Override\n                    public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Bitmap&gt; target, boolean isFirstResource) {\n                        return false;\n                    }\n\n                    @Override\n                    public boolean onResourceReady(Bitmap resource, Object model, Target&lt;Bitmap&gt; target, DataSource dataSource, boolean isFirstResource) {\n                        return false;\n                    }\n                })\n                .into(holder.imageView);\n\n\n\n        //Picasso.get().load(coffeeItems.get(position).getUrl()).resize(1080,1920).onlyScaleDown().into(holder.imageView);\n        //holder.imageView.setImageResource(coffeeItem.getImageResourse());\n        holder.titleTextView.setText(coffeeItem.getTitle());\n\n        holder.cardView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(mContext,ViewActivity.class);\n                intent.putExtra(&quot;image&quot;,coffeeItem.getUrl());\n                intent.putExtra(&quot;title&quot;,coffeeItem.getTitle());\n                intent.putExtra(&quot;tag&quot;,coffeeItem.getTag());\n                intent.putExtra(&quot;resolution&quot;, coffeeItem.getResolution());\n                intent.putExtra(&quot;size&quot;,coffeeItem.getSize());\n                intent.putExtra(&quot;desc&quot;,coffeeItem.getDescription());\n                intent.putExtra(&quot;keyId&quot;,coffeeItem.getKey_id());\n                intent.putExtra(&quot;favStatus&quot;,coffeeItem.getFavStatus());\n                intent.putExtra(&quot;downloadStatus&quot;,coffeeItem.getDownloadStatus());\n\n                mContext.startActivity(intent);\n            }\n        });\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5103901,"reputation":1219,"user_id":4092624,"display_name":"Robby Lebotha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677258842,"creation_date":1677258842,"answer_id":75559500,"question_id":62608747,"body_markdown":"Try it this way\r\n\r\n\r\n    @Override\r\n                    public boolean onResourceReady(Bitmap resource,\r\n                                                   Object model, Target&lt;Bitmap&gt; target,\r\n                                                   DataSource dataSource,\r\n                                                   boolean isFirstResource) {\r\n\r\n                        try{\r\n\r\n                                Palette palette = Palette.from(resource).generate();\r\n                                Palette.Swatch vibrant = palette.getDominantSwatch();\r\n\r\n                            if(vibrant != null){\r\n                                int bgColor = vibrant.getPopulation();\r\n                                cardview_background.setBackgroundColor(bgColor);\r\n                            }\r\n                        }catch(Exception e){\r\n                            Log.e(TAG,&quot;Failed to set cardview background&quot;);\r\n                        }\r\n                        return false;\r\n                    }\r\n\r\n   \r\n\r\n\r\nIts working for me, just tried it out on a custom listview I have","title":"How to load color palette as cardView background while images load in android?","body":"<p>Try it this way</p>\n<pre><code>@Override\n                public boolean onResourceReady(Bitmap resource,\n                                               Object model, Target&lt;Bitmap&gt; target,\n                                               DataSource dataSource,\n                                               boolean isFirstResource) {\n\n                    try{\n\n                            Palette palette = Palette.from(resource).generate();\n                            Palette.Swatch vibrant = palette.getDominantSwatch();\n\n                        if(vibrant != null){\n                            int bgColor = vibrant.getPopulation();\n                            cardview_background.setBackgroundColor(bgColor);\n                        }\n                    }catch(Exception e){\n                        Log.e(TAG,&quot;Failed to set cardview background&quot;);\n                    }\n                    return false;\n                }\n</code></pre>\n<p>Its working for me, just tried it out on a custom listview I have</p>\n"}],"owner":{"account_id":18869253,"reputation":42,"user_id":13764283,"display_name":"BhavitBJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677258842,"creation_date":1593253492,"question_id":62608747,"body_markdown":"**I am trying to show colors in the card background before images load, same as *Pinterest*. The color palette is getting implemented but background remains white and colors show up only for a split second before image loads.**\r\n\r\n\r\n**I am using *Glide* library to load images in *cardView*. Please help me show the colors as soon as any activity is opened.**\r\n\r\n**I am using Android Palette Library to get colors from ImageView.**\r\n\r\n\r\n`Here is my RecyclerView Adapter`\r\n\r\n```\r\n\r\npublic class CoffeeAdapter extends RecyclerView.Adapter&lt;CoffeeAdapter.ViewHolder&gt; implements Filterable{\r\n\r\n    private static final String TAG = &quot;RecyclerAdapter&quot;;\r\n\r\n    private ArrayList&lt;CoffeeItem&gt; coffeeItems;\r\n    ArrayList&lt;CoffeeItem&gt; coffeeItemsAll;\r\n    private Context mContext;\r\n    private FavDB favDB;\r\n    private DownloadDB downloadDB;\r\n\r\n    public CoffeeAdapter(ArrayList&lt;CoffeeItem&gt; coffeeItems, Context mContext) {\r\n        this.coffeeItems = coffeeItems;\r\n        this.coffeeItemsAll = new ArrayList&lt;CoffeeItem&gt;(coffeeItems);\r\n        this.mContext = mContext;\r\n        notifyDataSetChanged();\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        favDB = new FavDB(mContext);\r\n        downloadDB = new DownloadDB(mContext);\r\n        //create table on first\r\n        SharedPreferences prefs = mContext.getSharedPreferences(&quot;prefs&quot;, mContext.MODE_PRIVATE);\r\n        boolean firstStart = prefs.getBoolean(&quot;firstStart&quot;, true);\r\n        if (firstStart) {\r\n            createTableOnFirstStart();\r\n            createTableOnFirstStart1();\r\n        }\r\n\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item,\r\n                parent,false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final CoffeeAdapter.ViewHolder holder, int position) {\r\n        final CoffeeItem coffeeItem = coffeeItems.get(position);\r\n        readCursorData(coffeeItem, holder);\r\n        readCursorData1(coffeeItem, holder);\r\n\r\n       // Glide.with(mContext).load(coffeeItems.get(position).getUrl()).into(holder.imageView);\r\n\r\n        Glide.with(mContext)\r\n                .asBitmap()\r\n                .load(coffeeItems.get(position).getUrl())\r\n                .thumbnail(0.05f)\r\n                .apply(new RequestOptions().override(600,1200))\r\n                .apply(new RequestOptions().diskCacheStrategy(DiskCacheStrategy.ALL))\r\n                .listener(new RequestListener&lt;Bitmap&gt;() {\r\n                    @Override\r\n                    public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Bitmap&gt; target, boolean isFirstResource) {\r\n                        return false;\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean onResourceReady(Bitmap resource, Object model, Target&lt;Bitmap&gt; target, DataSource dataSource, boolean isFirstResource) {\r\n\r\n                        Palette.from(resource)\r\n                                .generate(new Palette.PaletteAsyncListener() {\r\n                                    @Override\r\n                                    public void onGenerated(@Nullable Palette palette) {\r\n                                        Palette.Swatch darkVibrantSwatch = palette.getDarkVibrantSwatch();\r\n                                        Palette.Swatch dominantSwatch = palette.getDominantSwatch();\r\n                                        Palette.Swatch lightVibrantSwatch = palette.getLightVibrantSwatch();\r\n                                        if (darkVibrantSwatch != null) {\r\n\r\n                                            holder.cardView.setCardBackgroundColor(darkVibrantSwatch.getRgb());\r\n\r\n                                        }else if (dominantSwatch != null) {\r\n\r\n                                            holder.cardView.setCardBackgroundColor(dominantSwatch.getRgb());\r\n\r\n                                        }else {\r\n\r\n                                            holder.cardView.setCardBackgroundColor(lightVibrantSwatch.getRgb());\r\n\r\n                                        }\r\n\r\n                                    }\r\n                                });\r\n\r\n                        return false;\r\n                    }\r\n                })\r\n                .into(holder.imageView);\r\n\r\n\r\n\r\n        //Picasso.get().load(coffeeItems.get(position).getUrl()).resize(1080,1920).onlyScaleDown().into(holder.imageView);\r\n        //holder.imageView.setImageResource(coffeeItem.getImageResourse());\r\n        holder.titleTextView.setText(coffeeItem.getTitle());\r\n\r\n        holder.cardView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(mContext,ViewActivity.class);\r\n                intent.putExtra(&quot;image&quot;,coffeeItem.getUrl());\r\n                intent.putExtra(&quot;title&quot;,coffeeItem.getTitle());\r\n                intent.putExtra(&quot;tag&quot;,coffeeItem.getTag());\r\n                intent.putExtra(&quot;resolution&quot;, coffeeItem.getResolution());\r\n                intent.putExtra(&quot;size&quot;,coffeeItem.getSize());\r\n                intent.putExtra(&quot;desc&quot;,coffeeItem.getDescription());\r\n                intent.putExtra(&quot;keyId&quot;,coffeeItem.getKey_id());\r\n                intent.putExtra(&quot;favStatus&quot;,coffeeItem.getFavStatus());\r\n                intent.putExtra(&quot;downloadStatus&quot;,coffeeItem.getDownloadStatus());\r\n\r\n                mContext.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n\r\n`Screenshots`\r\n\r\n[Here is my App Screen][1]\r\n\r\n\r\n[This is what i want to achieve (Pinterest App Screenshot)][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LixsQ.jpg\r\n  [2]: https://i.stack.imgur.com/6oryJ.jpg","title":"How to load color palette as cardView background while images load in android?","body":"<p><strong>I am trying to show colors in the card background before images load, same as <em>Pinterest</em>. The color palette is getting implemented but background remains white and colors show up only for a split second before image loads.</strong></p>\n<p><strong>I am using <em>Glide</em> library to load images in <em>cardView</em>. Please help me show the colors as soon as any activity is opened.</strong></p>\n<p><strong>I am using Android Palette Library to get colors from ImageView.</strong></p>\n<p><code>Here is my RecyclerView Adapter</code></p>\n<pre><code>\npublic class CoffeeAdapter extends RecyclerView.Adapter&lt;CoffeeAdapter.ViewHolder&gt; implements Filterable{\n\n    private static final String TAG = &quot;RecyclerAdapter&quot;;\n\n    private ArrayList&lt;CoffeeItem&gt; coffeeItems;\n    ArrayList&lt;CoffeeItem&gt; coffeeItemsAll;\n    private Context mContext;\n    private FavDB favDB;\n    private DownloadDB downloadDB;\n\n    public CoffeeAdapter(ArrayList&lt;CoffeeItem&gt; coffeeItems, Context mContext) {\n        this.coffeeItems = coffeeItems;\n        this.coffeeItemsAll = new ArrayList&lt;CoffeeItem&gt;(coffeeItems);\n        this.mContext = mContext;\n        notifyDataSetChanged();\n\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        favDB = new FavDB(mContext);\n        downloadDB = new DownloadDB(mContext);\n        //create table on first\n        SharedPreferences prefs = mContext.getSharedPreferences(&quot;prefs&quot;, mContext.MODE_PRIVATE);\n        boolean firstStart = prefs.getBoolean(&quot;firstStart&quot;, true);\n        if (firstStart) {\n            createTableOnFirstStart();\n            createTableOnFirstStart1();\n        }\n\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item,\n                parent,false);\n        return new ViewHolder(view);\n    }\n\n\n    @Override\n    public void onBindViewHolder(@NonNull final CoffeeAdapter.ViewHolder holder, int position) {\n        final CoffeeItem coffeeItem = coffeeItems.get(position);\n        readCursorData(coffeeItem, holder);\n        readCursorData1(coffeeItem, holder);\n\n       // Glide.with(mContext).load(coffeeItems.get(position).getUrl()).into(holder.imageView);\n\n        Glide.with(mContext)\n                .asBitmap()\n                .load(coffeeItems.get(position).getUrl())\n                .thumbnail(0.05f)\n                .apply(new RequestOptions().override(600,1200))\n                .apply(new RequestOptions().diskCacheStrategy(DiskCacheStrategy.ALL))\n                .listener(new RequestListener&lt;Bitmap&gt;() {\n                    @Override\n                    public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Bitmap&gt; target, boolean isFirstResource) {\n                        return false;\n                    }\n\n                    @Override\n                    public boolean onResourceReady(Bitmap resource, Object model, Target&lt;Bitmap&gt; target, DataSource dataSource, boolean isFirstResource) {\n\n                        Palette.from(resource)\n                                .generate(new Palette.PaletteAsyncListener() {\n                                    @Override\n                                    public void onGenerated(@Nullable Palette palette) {\n                                        Palette.Swatch darkVibrantSwatch = palette.getDarkVibrantSwatch();\n                                        Palette.Swatch dominantSwatch = palette.getDominantSwatch();\n                                        Palette.Swatch lightVibrantSwatch = palette.getLightVibrantSwatch();\n                                        if (darkVibrantSwatch != null) {\n\n                                            holder.cardView.setCardBackgroundColor(darkVibrantSwatch.getRgb());\n\n                                        }else if (dominantSwatch != null) {\n\n                                            holder.cardView.setCardBackgroundColor(dominantSwatch.getRgb());\n\n                                        }else {\n\n                                            holder.cardView.setCardBackgroundColor(lightVibrantSwatch.getRgb());\n\n                                        }\n\n                                    }\n                                });\n\n                        return false;\n                    }\n                })\n                .into(holder.imageView);\n\n\n\n        //Picasso.get().load(coffeeItems.get(position).getUrl()).resize(1080,1920).onlyScaleDown().into(holder.imageView);\n        //holder.imageView.setImageResource(coffeeItem.getImageResourse());\n        holder.titleTextView.setText(coffeeItem.getTitle());\n\n        holder.cardView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(mContext,ViewActivity.class);\n                intent.putExtra(&quot;image&quot;,coffeeItem.getUrl());\n                intent.putExtra(&quot;title&quot;,coffeeItem.getTitle());\n                intent.putExtra(&quot;tag&quot;,coffeeItem.getTag());\n                intent.putExtra(&quot;resolution&quot;, coffeeItem.getResolution());\n                intent.putExtra(&quot;size&quot;,coffeeItem.getSize());\n                intent.putExtra(&quot;desc&quot;,coffeeItem.getDescription());\n                intent.putExtra(&quot;keyId&quot;,coffeeItem.getKey_id());\n                intent.putExtra(&quot;favStatus&quot;,coffeeItem.getFavStatus());\n                intent.putExtra(&quot;downloadStatus&quot;,coffeeItem.getDownloadStatus());\n\n                mContext.startActivity(intent);\n            }\n        });\n    }\n</code></pre>\n<p><code>Screenshots</code></p>\n<p><a href=\"https://i.stack.imgur.com/LixsQ.jpg\" rel=\"nofollow noreferrer\">Here is my App Screen</a></p>\n<p><a href=\"https://i.stack.imgur.com/6oryJ.jpg\" rel=\"nofollow noreferrer\">This is what i want to achieve (Pinterest App Screenshot)</a></p>\n"},{"tags":["java","solr"],"answers":[{"tags":[],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677258613,"creation_date":1652215517,"answer_id":72192729,"question_id":72191178,"body_markdown":"I was talking with some Solr committers via slack and they said the answer is Yes. Each core has its own classloader. See https://issues.apache.org/jira/browse/SOLR-16131 for a read on some issues related to this, which confirms that each core has its own classloader. \r\n\r\nUpdate: Solr 9.x from comments\r\n\r\nI had to add my custom plugin (now module in 9.x) to the `solr.modules` variable, otherwise it still instantiates multiple singletons.","title":"Does each Solr core have its own classloader?","body":"<p>I was talking with some Solr committers via slack and they said the answer is Yes. Each core has its own classloader. See <a href=\"https://issues.apache.org/jira/browse/SOLR-16131\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/SOLR-16131</a> for a read on some issues related to this, which confirms that each core has its own classloader.</p>\n<p>Update: Solr 9.x from comments</p>\n<p>I had to add my custom plugin (now module in 9.x) to the <code>solr.modules</code> variable, otherwise it still instantiates multiple singletons.</p>\n"}],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72192729,"answer_count":1,"score":2,"last_activity_date":1677258613,"creation_date":1652206299,"question_id":72191178,"body_markdown":"When creating plugins for Solr, you add some plugin library jar files into the solrconfig.xml file:\r\n\r\n`&lt;lib dir=&quot;/path/to/jar/files&quot; regex=&quot;.*\\.jar&quot; /&gt;`\r\n\r\nIn my case, I use a few system libraries (`.dll`, `.so`)\r\n\r\nAnd I need to make sure they do not try to load them more than once.\r\n\r\nDoes each Solr core have its own classloader? ","title":"Does each Solr core have its own classloader?","body":"<p>When creating plugins for Solr, you add some plugin library jar files into the solrconfig.xml file:</p>\n<p><code>&lt;lib dir=&quot;/path/to/jar/files&quot; regex=&quot;.*\\.jar&quot; /&gt;</code></p>\n<p>In my case, I use a few system libraries (<code>.dll</code>, <code>.so</code>)</p>\n<p>And I need to make sure they do not try to load them more than once.</p>\n<p>Does each Solr core have its own classloader?</p>\n"},{"tags":["java","spring","spring-boot","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677258605,"creation_date":1677258605,"answer_id":75559457,"question_id":75552870,"body_markdown":"The [`JsonTypeInfo.As#WRAPPER_OBJECT`](https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.As.html#WRAPPER_OBJECT) works only for the serialization process while you are trying to deserialize your json input. In this case you can use the [`JsonTypeInfo.Id#DEDUCTION`](https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.Id.html#DEDUCTION) to deduce the correct type from the existing properties. Taking for example a simplified version of your json input like below:\r\n\r\n~~~\r\n{\r\n  &quot;operations&quot;: [\r\n    {\r\n      &quot;extension&quot;: {\r\n        &quot;serviceId&quot;: &quot;id&quot;,\r\n        &quot;serviceType&quot;: &quot;type&quot;\r\n      },\r\n      &quot;name&quot;: &quot;name&quot;,\r\n      &quot;tags&quot;: &quot;tags&quot;\r\n    }\r\n  ]\r\n}\r\n~~~ \r\n\r\nYou have an array containing an anonymous object with the three properties *extension, name, tag* that can be deserialized like below:\r\n\r\n~~~\r\n@Data\r\npublic class Payload {\r\n    List&lt;OperationWrapper&gt; operations;\r\n}\r\n\r\n@Data\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\r\n@JsonSubTypes({\r\n    @JsonSubTypes.Type(value = ExtensionWrapper.class)\r\n})\r\npublic abstract class OperationWrapper {}\r\n\r\n@Data\r\npublic class ExtensionWrapper extends OperationWrapper {\r\n    private Extension extension;\r\n    private String name;\r\n    private String tags;\r\n}\r\n\r\n@Data\r\npublic class Extension {\r\n    private String serviceType;\r\n    private String serviceId;\r\n}\r\n\r\nPayload payload = mapper.readValue(json, Payload.class);\r\nSystem.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(payload));\r\n~~~\r\n\r\n\r\n**Output:** \r\n~~~\r\n{\r\n  &quot;operations&quot; : [ {\r\n    &quot;extension&quot; : {\r\n      &quot;serviceType&quot; : &quot;type&quot;,\r\n      &quot;serviceId&quot; : &quot;id&quot;\r\n    },\r\n    &quot;name&quot; : &quot;name&quot;,\r\n    &quot;tags&quot; : &quot;tags&quot;\r\n  } ]\r\n}\r\n~~~\r\n\r\nThe same mechanism can be applied to other classes you want to be deserialized.\r\n\r\n","title":"Jackson deserialize array of mixed types using @JsonTypeInfo with extra fields","body":"<p>The <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.As.html#WRAPPER_OBJECT\" rel=\"nofollow noreferrer\"><code>JsonTypeInfo.As#WRAPPER_OBJECT</code></a> works only for the serialization process while you are trying to deserialize your json input. In this case you can use the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.Id.html#DEDUCTION\" rel=\"nofollow noreferrer\"><code>JsonTypeInfo.Id#DEDUCTION</code></a> to deduce the correct type from the existing properties. Taking for example a simplified version of your json input like below:</p>\n<pre><code>{\n  &quot;operations&quot;: [\n    {\n      &quot;extension&quot;: {\n        &quot;serviceId&quot;: &quot;id&quot;,\n        &quot;serviceType&quot;: &quot;type&quot;\n      },\n      &quot;name&quot;: &quot;name&quot;,\n      &quot;tags&quot;: &quot;tags&quot;\n    }\n  ]\n}\n</code></pre>\n<p>You have an array containing an anonymous object with the three properties <em>extension, name, tag</em> that can be deserialized like below:</p>\n<pre><code>@Data\npublic class Payload {\n    List&lt;OperationWrapper&gt; operations;\n}\n\n@Data\n@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = ExtensionWrapper.class)\n})\npublic abstract class OperationWrapper {}\n\n@Data\npublic class ExtensionWrapper extends OperationWrapper {\n    private Extension extension;\n    private String name;\n    private String tags;\n}\n\n@Data\npublic class Extension {\n    private String serviceType;\n    private String serviceId;\n}\n\nPayload payload = mapper.readValue(json, Payload.class);\nSystem.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(payload));\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>{\n  &quot;operations&quot; : [ {\n    &quot;extension&quot; : {\n      &quot;serviceType&quot; : &quot;type&quot;,\n      &quot;serviceId&quot; : &quot;id&quot;\n    },\n    &quot;name&quot; : &quot;name&quot;,\n    &quot;tags&quot; : &quot;tags&quot;\n  } ]\n}\n</code></pre>\n<p>The same mechanism can be applied to other classes you want to be deserialized.</p>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75559457,"answer_count":1,"score":1,"last_activity_date":1677258605,"creation_date":1677216158,"question_id":75552870,"body_markdown":"I have a json file which contains an array of mixed types. Its structure look like this:\r\n\r\n    {\r\n      &quot;operations&quot;: [\r\n        {\r\n          &quot;extension&quot;: {\r\n            &quot;serviceId&quot;: &quot;id&quot;,\r\n            &quot;serviceType&quot;: &quot;type&quot;\r\n          },\r\n          &quot;name&quot;: &quot;name&quot;,\r\n          &quot;tags&quot;: &quot;tags&quot;\r\n        },\r\n        {\r\n          &quot;core&quot;: {\r\n            &quot;config&quot;: {\r\n              &quot;a&quot;: 90,\r\n              &quot;b&quot;: 45\r\n            },\r\n            &quot;displayName&quot;: &quot;displayName&quot;\r\n          },\r\n          &quot;name&quot;: &quot;name&quot;,\r\n          &quot;tags&quot;: &quot;tags&quot;\r\n        },\r\n    \t{\r\n          &quot;extension&quot;: {\r\n            &quot;serviceId&quot;: &quot;abc&quot;,\r\n            &quot;serviceType&quot;: &quot;xyz&quot;\r\n          },\r\n          &quot;name&quot;: &quot;name&quot;,\r\n          &quot;tags&quot;: &quot;tags&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nFollow this topic [Stackoverflow][1] I create my model for json mapping of mixed types.\r\n\r\nMy java model:\r\n\r\n    @Data\r\n    public class Payload {\r\n    \r\n      private List&lt;OperationElement&gt; operations;\r\n    \r\n      @Data\r\n      @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)\r\n      @JsonSubTypes({ @JsonSubTypes.Type(value = Extension.class, name = &quot;extension&quot;),\r\n        @JsonSubTypes.Type(value = Core.class, name = &quot;core&quot;) })\r\n      public static abstract class OperationElement {\r\n        private String name;\r\n        private String tags;\r\n      }\r\n    \r\n      @Data\r\n      @JsonRootName(&quot;extension&quot;)\r\n      public static class Extension extends OperationElement {\r\n        private String serviceType;\r\n        private String serviceId;\r\n      }\r\n    \r\n      @Data\r\n      @JsonRootName(&quot;core&quot;)\r\n      public static class Core extends OperationElement {\r\n    \r\n        private Config config;\r\n        private String displayName;\r\n    \r\n        @Data\r\n        public static class Config {\r\n    \r\n          private Long a;\r\n          private Long b;\r\n    \r\n        }\r\n      }\r\n\r\n      public static void main(String[] args) throws Exception {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Payload operationsPayload = mapper.readValue(\r\n          Files.readAllBytes(Paths.get(&quot;C:\\\\desc&quot;, &quot;file.json&quot;)), Payload.class);\r\n        System.out.println(operationsPayload );\r\n      }\r\n    }\r\n\r\nI got this error when trying to parse the json to java model:\r\n\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Unexpected token (FIELD_NAME), expected END_OBJECT: expected closing END_OBJECT after type information and deserialized value\r\n      line: 8, column: 7] (through reference chain: com.pojo.Payload[&quot;operations&quot;]-&gt;java.util.ArrayList[0])\r\n    \tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.wrongTokenException(DeserializationContext.java:1799)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.reportWrongTokenException(DeserializationContext.java:1533)\r\n    \tat com.fasterxml.jackson.databind.jsontype.impl.AsWrapperTypeDeserializer._deserialize(AsWrapperTypeDeserializer.java:124)\r\n    \tat com.fasterxml.jackson.databind.jsontype.impl.AsWrapperTypeDeserializer.deserializeTypedFromObject(AsWrapperTypeDeserializer.java:52)\r\n    \tat com.fasterxml.jackson.databind.deser.AbstractDeserializer.deserializeWithType(AbstractDeserializer.java:263)\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:349)\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\r\n    \tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\r\n    \tat com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\r\n    \tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4593)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3609)\r\n    \r\n\r\nIf I remove\r\n\r\n    &quot;name&quot;: &quot;name&quot;,\r\n    &quot;tags&quot;: &quot;tags&quot;\r\nThe code can run.\r\n\r\nBut I must have both these key-value in the json structure.\r\n\r\nAny solution please suggest me. Thanks in advance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38875940/how-to-deserialize-a-json-array-containing-different-types-of-objects","title":"Jackson deserialize array of mixed types using @JsonTypeInfo with extra fields","body":"<p>I have a json file which contains an array of mixed types. Its structure look like this:</p>\n<pre><code>{\n  &quot;operations&quot;: [\n    {\n      &quot;extension&quot;: {\n        &quot;serviceId&quot;: &quot;id&quot;,\n        &quot;serviceType&quot;: &quot;type&quot;\n      },\n      &quot;name&quot;: &quot;name&quot;,\n      &quot;tags&quot;: &quot;tags&quot;\n    },\n    {\n      &quot;core&quot;: {\n        &quot;config&quot;: {\n          &quot;a&quot;: 90,\n          &quot;b&quot;: 45\n        },\n        &quot;displayName&quot;: &quot;displayName&quot;\n      },\n      &quot;name&quot;: &quot;name&quot;,\n      &quot;tags&quot;: &quot;tags&quot;\n    },\n    {\n      &quot;extension&quot;: {\n        &quot;serviceId&quot;: &quot;abc&quot;,\n        &quot;serviceType&quot;: &quot;xyz&quot;\n      },\n      &quot;name&quot;: &quot;name&quot;,\n      &quot;tags&quot;: &quot;tags&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Follow this topic <a href=\"https://stackoverflow.com/questions/38875940/how-to-deserialize-a-json-array-containing-different-types-of-objects\">Stackoverflow</a> I create my model for json mapping of mixed types.</p>\n<p>My java model:</p>\n<pre><code>@Data\npublic class Payload {\n\n  private List&lt;OperationElement&gt; operations;\n\n  @Data\n  @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.WRAPPER_OBJECT)\n  @JsonSubTypes({ @JsonSubTypes.Type(value = Extension.class, name = &quot;extension&quot;),\n    @JsonSubTypes.Type(value = Core.class, name = &quot;core&quot;) })\n  public static abstract class OperationElement {\n    private String name;\n    private String tags;\n  }\n\n  @Data\n  @JsonRootName(&quot;extension&quot;)\n  public static class Extension extends OperationElement {\n    private String serviceType;\n    private String serviceId;\n  }\n\n  @Data\n  @JsonRootName(&quot;core&quot;)\n  public static class Core extends OperationElement {\n\n    private Config config;\n    private String displayName;\n\n    @Data\n    public static class Config {\n\n      private Long a;\n      private Long b;\n\n    }\n  }\n\n  public static void main(String[] args) throws Exception {\n    ObjectMapper mapper = new ObjectMapper();\n    Payload operationsPayload = mapper.readValue(\n      Files.readAllBytes(Paths.get(&quot;C:\\\\desc&quot;, &quot;file.json&quot;)), Payload.class);\n    System.out.println(operationsPayload );\n  }\n}\n</code></pre>\n<p>I got this error when trying to parse the json to java model:</p>\n<pre><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Unexpected token (FIELD_NAME), expected END_OBJECT: expected closing END_OBJECT after type information and deserialized value\n  line: 8, column: 7] (through reference chain: com.pojo.Payload[&quot;operations&quot;]-&gt;java.util.ArrayList[0])\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\n    at com.fasterxml.jackson.databind.DeserializationContext.wrongTokenException(DeserializationContext.java:1799)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportWrongTokenException(DeserializationContext.java:1533)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsWrapperTypeDeserializer._deserialize(AsWrapperTypeDeserializer.java:124)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsWrapperTypeDeserializer.deserializeTypedFromObject(AsWrapperTypeDeserializer.java:52)\n    at com.fasterxml.jackson.databind.deser.AbstractDeserializer.deserializeWithType(AbstractDeserializer.java:263)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:349)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\n    at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:324)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4593)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3609)\n</code></pre>\n<p>If I remove</p>\n<pre><code>&quot;name&quot;: &quot;name&quot;,\n&quot;tags&quot;: &quot;tags&quot;\n</code></pre>\n<p>The code can run.</p>\n<p>But I must have both these key-value in the json structure.</p>\n<p>Any solution please suggest me. Thanks in advance.</p>\n"},{"tags":["java","jdbc"],"owner":{"account_id":26731173,"reputation":44,"user_id":20333478,"display_name":"JavaUser007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677258882,"answer_count":0,"score":0,"last_activity_date":1677257868,"creation_date":1677257868,"question_id":75559355,"body_markdown":"I have a program which connects to an offline H2 database using\r\n\r\n```java\r\nConnection conn=java.sql.DriverManager.getConnection(&quot;jdbc:h2:C:\\DB\\myDB&quot;);\r\n```\r\n\r\nI want two instances of the program to connect to the same database. But apparently JDBC doesn&#39;t allow multiple Connection to same database. Is there any way to connect? The second connection can also be read-only.","title":"Java JDBC make multiple connections to same database","body":"<p>I have a program which connects to an offline H2 database using</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connection conn=java.sql.DriverManager.getConnection(&quot;jdbc:h2:C:\\DB\\myDB&quot;);\n</code></pre>\n<p>I want two instances of the program to connect to the same database. But apparently JDBC doesn't allow multiple Connection to same database. Is there any way to connect? The second connection can also be read-only.</p>\n"},{"tags":["java","spring","spring-boot","junit"],"comments":[{"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":1,"creation_date":1523116387,"post_id":49708341,"comment_id":86431749,"body_markdown":"you can actually start spring, and load these two beans using `@RunWith(SpringJUnit4ClassRunner.class)`. see this example https://www.mkyong.com/unittest/junit-spring-integration-example/","body":"you can actually start spring, and load these two beans using <code>@RunWith(SpringJUnit4ClassRunner.class)</code>. see this example <a href=\"https://www.mkyong.com/unittest/junit-spring-integration-example/\" rel=\"nofollow noreferrer\">mkyong.com/unittest/junit-spring-integration-example</a>"},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1617177221,"post_id":49708341,"comment_id":118228092,"body_markdown":"also check for more recent Spring Boot versions : https://stackoverflow.com/questions/66166601/springboot-mockito-test-and-autowired-messagesource-in-controller-org-springfram","body":"also check for more recent Spring Boot versions : <a href=\"https://stackoverflow.com/questions/66166601/springboot-mockito-test-and-autowired-messagesource-in-controller-org-springfram\" title=\"springboot mockito test and autowired messagesource in controller org springfram\">stackoverflow.com/questions/66166601/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677257774,"creation_date":1677257774,"answer_id":75559335,"question_id":49708341,"body_markdown":"Add this to your test class:\r\n\r\n```java\r\n@ImportAutoConfiguration(MessageSourceAutoConfiguration.class)\r\n```","title":"Unit Test Spring Boot MessageSource","body":"<p>Add this to your test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ImportAutoConfiguration(MessageSourceAutoConfiguration.class)\n</code></pre>\n"}],"owner":{"account_id":5707387,"reputation":2633,"user_id":4510444,"accept_rate":56,"display_name":"Aaron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5783,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1677257774,"creation_date":1523110864,"question_id":49708341,"body_markdown":"I am using MessageSource in managing my error messages for my application.\r\n\r\nMy error messages are inside the file **error_messages.properties** in **src/main/resources/messages**.\r\n\r\nBelow is my configuration for my MessageSource\r\n\r\n    @Configuration\r\n    @EntityScan(&quot;mypackage&quot;)\r\n    @EnableJpaRepositories(&quot;mypackage&quot;)\r\n    @ComponentScan(basePackages = {\r\n            &quot;mypackage&quot;})\r\n    public class DataConfig {\r\n\r\n        @Bean\r\n        public MessageSource messageSource() {\r\n            ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\r\n            messageSource.setBasenames(&quot;messages/error_messages&quot;);\r\n            messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n            return messageSource;\r\n        }\r\n\r\n    }\r\n\r\nBelow is my component in loading and using the MessageSource (based on [this][1])\r\n\r\n    @Component\r\n    public class ErrorMessages {\r\n\r\n        @Autowired\r\n        private MessageSource messageSource;\r\n\r\n        private MessageSourceAccessor accessor;\r\n\r\n        @PostConstruct\r\n        private void init() {\r\n            accessor = new MessageSourceAccessor(messageSource);\r\n        }\r\n\r\n        public String get(String code) {\r\n            return accessor.getMessage(code);\r\n        }\r\n\r\n    }\r\n\r\nNow this is my Service layer.\r\n\r\n    @Service\r\n    public class MyServiceImpl implements MyService{\r\n\r\n        @Autowired\r\n        private ErrorMessages errorMessages;\r\n\r\n        @Override\r\n        public String getExampleMessage(){\r\n            return String.format(errorMessages.get(&quot;default.error&quot;), &quot;default&quot;);\r\n        }\r\n\r\n    }\r\n\r\nmy properties file\r\n\r\n    default.error=Default error with some default message %s.\r\n\r\nThis works fine when I run the application. Now my problem is when I run this in my unit test, I want it to actually fetch the error message from the property file. Since it&#39;s a MockBean I have to stub a return value for it and I don&#39;t want to do that.\r\n\r\nHow do I do it?\r\n\r\nBelow is my test.\r\n\r\n\r\n    @RunWith(SpringRunner.class)\r\n    public class MyServiceImplTest {\r\n\r\n        @TestConfiguration\r\n        static class MyServiceImplTestContextConfiguration {\r\n            @Bean\r\n            public MyService myService() {\r\n                return new MyServiceImpl();\r\n            }\r\n        }\r\n\r\n        @Autowired\r\n        private MyService myService;\r\n\r\n        // I want to avoid mocking this.\r\n        @MockBean\r\n        private ErrorMessages errorMessages;\r\n\r\n        @Test\r\n        public void testGetExampleMessage() {\r\n            String expected = &quot;Default error with some default message default.&quot;;\r\n            assertEquals(expected, myService.getExampleMessage());\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://gist.github.com/jonikarppinen/0d600b0c82edce890310","title":"Unit Test Spring Boot MessageSource","body":"<p>I am using MessageSource in managing my error messages for my application.</p>\n\n<p>My error messages are inside the file <strong>error_messages.properties</strong> in <strong>src/main/resources/messages</strong>.</p>\n\n<p>Below is my configuration for my MessageSource</p>\n\n<pre><code>@Configuration\n@EntityScan(\"mypackage\")\n@EnableJpaRepositories(\"mypackage\")\n@ComponentScan(basePackages = {\n        \"mypackage\"})\npublic class DataConfig {\n\n    @Bean\n    public MessageSource messageSource() {\n        ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();\n        messageSource.setBasenames(\"messages/error_messages\");\n        messageSource.setDefaultEncoding(\"UTF-8\");\n        return messageSource;\n    }\n\n}\n</code></pre>\n\n<p>Below is my component in loading and using the MessageSource (based on <a href=\"https://gist.github.com/jonikarppinen/0d600b0c82edce890310\" rel=\"nofollow noreferrer\">this</a>)</p>\n\n<pre><code>@Component\npublic class ErrorMessages {\n\n    @Autowired\n    private MessageSource messageSource;\n\n    private MessageSourceAccessor accessor;\n\n    @PostConstruct\n    private void init() {\n        accessor = new MessageSourceAccessor(messageSource);\n    }\n\n    public String get(String code) {\n        return accessor.getMessage(code);\n    }\n\n}\n</code></pre>\n\n<p>Now this is my Service layer.</p>\n\n<pre><code>@Service\npublic class MyServiceImpl implements MyService{\n\n    @Autowired\n    private ErrorMessages errorMessages;\n\n    @Override\n    public String getExampleMessage(){\n        return String.format(errorMessages.get(\"default.error\"), \"default\");\n    }\n\n}\n</code></pre>\n\n<p>my properties file</p>\n\n<pre><code>default.error=Default error with some default message %s.\n</code></pre>\n\n<p>This works fine when I run the application. Now my problem is when I run this in my unit test, I want it to actually fetch the error message from the property file. Since it's a MockBean I have to stub a return value for it and I don't want to do that.</p>\n\n<p>How do I do it?</p>\n\n<p>Below is my test.</p>\n\n<pre><code>@RunWith(SpringRunner.class)\npublic class MyServiceImplTest {\n\n    @TestConfiguration\n    static class MyServiceImplTestContextConfiguration {\n        @Bean\n        public MyService myService() {\n            return new MyServiceImpl();\n        }\n    }\n\n    @Autowired\n    private MyService myService;\n\n    // I want to avoid mocking this.\n    @MockBean\n    private ErrorMessages errorMessages;\n\n    @Test\n    public void testGetExampleMessage() {\n        String expected = \"Default error with some default message default.\";\n        assertEquals(expected, myService.getExampleMessage());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","symfony","encryption","fosuserbundle"],"comments":[{"owner":{"account_id":2606599,"reputation":10341,"user_id":2257664,"accept_rate":94,"display_name":"A.L"},"score":0,"creation_date":1457966093,"post_id":35957617,"comment_id":59633146,"body_markdown":"The salt is generated randomly. Then each password is *salted* and *hashed*. In order to check a password, you have to perform the same steps and check that the hash in the database is the same as the generated hash from the provided password.","body":"The salt is generated randomly. Then each password is <i>salted</i> and <i>hashed</i>. In order to check a password, you have to perform the same steps and check that the hash in the database is the same as the generated hash from the provided password."}],"answers":[{"tags":[],"owner":{"account_id":557212,"reputation":3722,"user_id":919567,"display_name":"Paweł Mikołajczuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457786550,"creation_date":1457786550,"answer_id":35957764,"question_id":35957617,"body_markdown":"Check `FOS\\UserBundle\\Model\\User` `__construct` method:\r\n\r\n    public function __construct()\r\n    {\r\n        $this-&gt;salt = base_convert(sha1(uniqid(mt_rand(), true)), 16, 36);\r\n        $this-&gt;enabled = false;\r\n        $this-&gt;locked = false;\r\n        $this-&gt;expired = false;\r\n        $this-&gt;roles = array();\r\n        $this-&gt;credentialsExpired = false;\r\n    }","title":"Synchronise my java app with the table user of fosuserbundle","body":"<p>Check <code>FOS\\UserBundle\\Model\\User</code> <code>__construct</code> method:</p>\n\n<pre><code>public function __construct()\n{\n    $this-&gt;salt = base_convert(sha1(uniqid(mt_rand(), true)), 16, 36);\n    $this-&gt;enabled = false;\n    $this-&gt;locked = false;\n    $this-&gt;expired = false;\n    $this-&gt;roles = array();\n    $this-&gt;credentialsExpired = false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8017214,"reputation":83,"user_id":6047072,"display_name":"Elyes Mejri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677257272,"creation_date":1457879623,"answer_id":35971504,"question_id":35957617,"body_markdown":"finally i find a solution that makes the field &quot;salt&quot; negligible in the fos_user table:\r\n \r\n\r\n    namespace Symfony\\Component\\Security\\Core\\Encoder;\r\n\r\n        protected function mergePasswordAndSalt($password, $salt)\r\n            {\r\n                if (empty($salt)) {\r\n                    return $password;\r\n                }\r\n        \r\n                if (false !== strrpos($salt, &#39;{&#39;) || false !== strrpos($salt, &#39;}&#39;)) {\r\n                    throw new \\InvalidArgumentException(&#39;Cannot use { or } in salt.&#39;);\r\n                }\r\n        \r\n                return $password;\r\n            \r\n        \r\n            }","title":"Synchronise my java app with the table user of fosuserbundle","body":"<p>finally i find a solution that makes the field &quot;salt&quot; negligible in the fos_user table:</p>\n<pre><code>namespace Symfony\\Component\\Security\\Core\\Encoder;\n\n    protected function mergePasswordAndSalt($password, $salt)\n        {\n            if (empty($salt)) {\n                return $password;\n            }\n    \n            if (false !== strrpos($salt, '{') || false !== strrpos($salt, '}')) {\n                throw new \\InvalidArgumentException('Cannot use { or } in salt.');\n            }\n    \n            return $password;\n        \n    \n        }\n</code></pre>\n"}],"owner":{"account_id":8017214,"reputation":83,"user_id":6047072,"display_name":"Elyes Mejri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":35971504,"answer_count":2,"score":2,"last_activity_date":1677257602,"creation_date":1457785612,"question_id":35957617,"body_markdown":"I am trying to create a Desktop app (using java) that points to the same database of my website (created using symfony 2),and i have a problem that I can&#39;t insert in the columns &quot;password&quot; and &quot;salt&quot; (using the same encryption type `sha512` generated by fosuserBundle),and I don&#39;t know how fosuserBundle generates the &quot;salt&quot; value.\r\n\r\nMy encoder is currently set as:\r\n\r\n    security:\r\n    encoders:\r\n        FOS\\UserBundle\\Model\\UserInterface: sha512\r\n\r\n","title":"Synchronise my java app with the table user of fosuserbundle","body":"<p>I am trying to create a Desktop app (using java) that points to the same database of my website (created using symfony 2),and i have a problem that I can't insert in the columns &quot;password&quot; and &quot;salt&quot; (using the same encryption type <code>sha512</code> generated by fosuserBundle),and I don't know how fosuserBundle generates the &quot;salt&quot; value.</p>\n<p>My encoder is currently set as:</p>\n<pre><code>security:\nencoders:\n    FOS\\UserBundle\\Model\\UserInterface: sha512\n</code></pre>\n"},{"tags":["java","httprequest","okta"],"comments":[{"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"score":0,"creation_date":1571680458,"post_id":58491442,"comment_id":103313443,"body_markdown":"Hrrmm a login endpoint should not require a token to be present.... that would not make very much sense?","body":"Hrrmm a login endpoint should not require a token to be present.... that would not make very much sense?"},{"owner":{"account_id":2365377,"reputation":427,"user_id":2071146,"accept_rate":88,"display_name":"Marcin"},"score":0,"creation_date":1571680867,"post_id":58491442,"comment_id":103313626,"body_markdown":"I don&#39;t understand. Which endpoint? Could you describe a litlle more?","body":"I don&#39;t understand. Which endpoint? Could you describe a litlle more?"},{"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"score":0,"creation_date":1571680996,"post_id":58491442,"comment_id":103313676,"body_markdown":"You are saying you want to hit the `OKTA API` to retrieve an access token (this would be considered a login endpoint).... but you are getting a 401? How can an endpoint that is used to retrieve tokens require a token to be present?","body":"You are saying you want to hit the <code>OKTA API</code> to retrieve an access token (this would be considered a login endpoint).... but you are getting a 401? How can an endpoint that is used to retrieve tokens require a token to be present?"},{"owner":{"account_id":2365377,"reputation":427,"user_id":2071146,"accept_rate":88,"display_name":"Marcin"},"score":0,"creation_date":1571681163,"post_id":58491442,"comment_id":103313753,"body_markdown":"You&#39;re right, but that endpoint needs client_id and client_secret, and few settings to work. Maybe my HTTP request is configured in wrong way, and that&#39;s why I&#39;m getting an error. Because of that, I&#39;m looking for working example of that.","body":"You&#39;re right, but that endpoint needs client_id and client_secret, and few settings to work. Maybe my HTTP request is configured in wrong way, and that&#39;s why I&#39;m getting an error. Because of that, I&#39;m looking for working example of that."},{"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"score":0,"creation_date":1627420661,"post_id":58491442,"comment_id":121151287,"body_markdown":"For future reference, the [okta-oauth-java](https://github.com/okta/okta-auth-java) is the SDK for manually retrieving auth tokens. I know it handles username + pass authn, I don&#39;t know if it can handle your client_id + client_secret = token use case.","body":"For future reference, the <a href=\"https://github.com/okta/okta-auth-java\" rel=\"nofollow noreferrer\">okta-oauth-java</a> is the SDK for manually retrieving auth tokens. I know it handles username + pass authn, I don&#39;t know if it can handle your client_id + client_secret = token use case."}],"answers":[{"tags":[],"owner":{"account_id":2365377,"reputation":427,"user_id":2071146,"accept_rate":88,"display_name":"Marcin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1571811491,"creation_date":1571811491,"answer_id":58516575,"question_id":58491442,"body_markdown":"OK I have a solution. The problem was wrong configuration on OKTA. \r\nFor those who needs working example, I&#39;ll share my tested code (believe me, it works)\r\n\r\n     public String GetToken() throws IOException, InterruptedException {\r\n        HttpClient client = HttpClient.newBuilder()\r\n                .build();\r\n\r\n        HttpRequest httpRequest = HttpRequest.newBuilder()\r\n                .uri(URI.create(&quot;https://YOUR_OKTA_DOMAIN/oauth2/default/v1/token&quot;))\r\n                .headers(&quot;Content-type&quot;, &quot;application/x-www-form-urlencoded&quot;,\r\n                        &quot;Authorization&quot;, &quot;Basic &quot; + Base64.getEncoder().encodeToString(&quot;CLIENT_ID:CLIENT_SECRET&quot;.getBytes()),\r\n                        &quot;Accept&quot;, &quot;application/json&quot;)\r\n                .POST(HttpRequest.BodyPublishers.ofString(\r\n                        &quot;&amp;grant_type=client_credentials&quot; ))\r\n                .build();\r\n\r\n        HttpResponse&lt;?&gt; response = client.send(httpRequest, HttpResponse.BodyHandlers.ofString());       \r\n\r\n        return response.body().toString();\r\n    }\r\n\r\nOn Okta you need to have created additional scope for Authorization Server. This scope should be default, or if you don&#39;t want to set default scope, you have to add it in body as \r\n\r\n    .POST(HttpRequest.BodyPublishers.ofString(\r\n                        &quot;&amp;grant_type=client_credentials&quot; + \r\n\t\t\t\t\t\t&quot;scope=SCOPE_NAME&quot;))","title":"Get token from OKTA API - Java (plain) example","body":"<p>OK I have a solution. The problem was wrong configuration on OKTA. \nFor those who needs working example, I'll share my tested code (believe me, it works)</p>\n\n<pre><code> public String GetToken() throws IOException, InterruptedException {\n    HttpClient client = HttpClient.newBuilder()\n            .build();\n\n    HttpRequest httpRequest = HttpRequest.newBuilder()\n            .uri(URI.create(\"https://YOUR_OKTA_DOMAIN/oauth2/default/v1/token\"))\n            .headers(\"Content-type\", \"application/x-www-form-urlencoded\",\n                    \"Authorization\", \"Basic \" + Base64.getEncoder().encodeToString(\"CLIENT_ID:CLIENT_SECRET\".getBytes()),\n                    \"Accept\", \"application/json\")\n            .POST(HttpRequest.BodyPublishers.ofString(\n                    \"&amp;grant_type=client_credentials\" ))\n            .build();\n\n    HttpResponse&lt;?&gt; response = client.send(httpRequest, HttpResponse.BodyHandlers.ofString());       \n\n    return response.body().toString();\n}\n</code></pre>\n\n<p>On Okta you need to have created additional scope for Authorization Server. This scope should be default, or if you don't want to set default scope, you have to add it in body as </p>\n\n<pre><code>.POST(HttpRequest.BodyPublishers.ofString(\n                    \"&amp;grant_type=client_credentials\" + \n                    \"scope=SCOPE_NAME\"))\n</code></pre>\n"}],"owner":{"account_id":2365377,"reputation":427,"user_id":2071146,"accept_rate":88,"display_name":"Marcin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58516575,"answer_count":1,"score":1,"last_activity_date":1677257114,"creation_date":1571679152,"question_id":58491442,"body_markdown":"I&#39;ve created an account on OKTA environment [here][1].\r\nI searched on the net, but I couldn&#39;t find any examples on how to get access token from OKTA API. I&#39;m looking for some example in &quot;plain&quot; Java code. But if there is something in any SDK, I&#39;ll be happy. \r\nI tried to create an HTTP request (POST), to **/token** endpoint. I&#39;ve used **cliend_id** and **client_secret** - in body. I&#39;ve also tried to put in into header as basic authentication (before that, I encoded **client_id:client_secret** with Base64), but I still getting unauthorized (401). \r\n\n\r\n\r\n  [1]: https://developer.okta.com/","title":"Get token from OKTA API - Java (plain) example","body":"<p>I've created an account on OKTA environment <a href=\"https://developer.okta.com/\" rel=\"nofollow noreferrer\">here</a>.\nI searched on the net, but I couldn't find any examples on how to get access token from OKTA API. I'm looking for some example in \"plain\" Java code. But if there is something in any SDK, I'll be happy. \nI tried to create an HTTP request (POST), to <strong>/token</strong> endpoint. I've used <strong>cliend_id</strong> and <strong>client_secret</strong> - in body. I've also tried to put in into header as basic authentication (before that, I encoded <strong>client_id:client_secret</strong> with Base64), but I still getting unauthorized (401). </p>\n"},{"tags":["java","android","bottomnavigationview"],"answers":[{"tags":[],"owner":{"account_id":27864179,"reputation":350,"user_id":21276039,"display_name":"indyteo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677257013,"creation_date":1677257013,"answer_id":75559191,"question_id":75557601,"body_markdown":"The [`BottomNavigationView`](https://developer.android.com/reference/com/google/android/material/bottomnavigation/BottomNavigationView) element extends [`NavigationBarView`](https://developer.android.com/reference/com/google/android/material/navigation/NavigationBarView) which has a [`getMenu()`](https://developer.android.com/reference/com/google/android/material/navigation/NavigationBarView#getMenu()) method that returns a [`Menu`](https://developer.android.com/reference/android/view/Menu) instance. Once you get your menu, you can retrieve the [`MenuItem`](https://developer.android.com/reference/android/view/MenuItem) you want using [`findItem(id)`](https://developer.android.com/reference/android/view/Menu#findItem(int)) or [`getItem(index)`](https://developer.android.com/reference/android/view/Menu#getItem(int)). Finally, you can alter the icon using the various [`setIcon*()`](https://developer.android.com/reference/android/view/MenuItem#setIcon(int)) methods.\r\n\r\nHowever, notifications should be indicated using the [badges](https://m3.material.io/components/badges/overview). If you want, you can interact with badges at runtime using the [`getOrCreateBadge(menuItemId)`](https://developer.android.com/reference/com/google/android/material/navigation/NavigationBarView#getOrCreateBadge(int)) method on your bottom navigation view directly.","title":"How to change bottom navigation&#39;s item icon at runtime?","body":"<p>The <a href=\"https://developer.android.com/reference/com/google/android/material/bottomnavigation/BottomNavigationView\" rel=\"nofollow noreferrer\"><code>BottomNavigationView</code></a> element extends <a href=\"https://developer.android.com/reference/com/google/android/material/navigation/NavigationBarView\" rel=\"nofollow noreferrer\"><code>NavigationBarView</code></a> which has a <a href=\"https://developer.android.com/reference/com/google/android/material/navigation/NavigationBarView#getMenu()\" rel=\"nofollow noreferrer\"><code>getMenu()</code></a> method that returns a <a href=\"https://developer.android.com/reference/android/view/Menu\" rel=\"nofollow noreferrer\"><code>Menu</code></a> instance. Once you get your menu, you can retrieve the <a href=\"https://developer.android.com/reference/android/view/MenuItem\" rel=\"nofollow noreferrer\"><code>MenuItem</code></a> you want using <a href=\"https://developer.android.com/reference/android/view/Menu#findItem(int)\" rel=\"nofollow noreferrer\"><code>findItem(id)</code></a> or <a href=\"https://developer.android.com/reference/android/view/Menu#getItem(int)\" rel=\"nofollow noreferrer\"><code>getItem(index)</code></a>. Finally, you can alter the icon using the various <a href=\"https://developer.android.com/reference/android/view/MenuItem#setIcon(int)\" rel=\"nofollow noreferrer\"><code>setIcon*()</code></a> methods.</p>\n<p>However, notifications should be indicated using the <a href=\"https://m3.material.io/components/badges/overview\" rel=\"nofollow noreferrer\">badges</a>. If you want, you can interact with badges at runtime using the <a href=\"https://developer.android.com/reference/com/google/android/material/navigation/NavigationBarView#getOrCreateBadge(int)\" rel=\"nofollow noreferrer\"><code>getOrCreateBadge(menuItemId)</code></a> method on your bottom navigation view directly.</p>\n"}],"owner":{"account_id":23606839,"reputation":45,"user_id":17642440,"display_name":"max256"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677257013,"creation_date":1677248121,"question_id":75557601,"body_markdown":"I have a bottom navigation view which has four items (Home, Search, Notification, Profile). I want if the user has an unread notification the icon of the notification item turns to red. Therefore, I need to change the icon or color icon of the notification item using JAVA codes at runtime. So, my question is how can I change icon of a bottom navigation view at runtime?\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottomNavigationView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:menu=&quot;@menu/bottom_nav&quot;/&gt;","title":"How to change bottom navigation&#39;s item icon at runtime?","body":"<p>I have a bottom navigation view which has four items (Home, Search, Notification, Profile). I want if the user has an unread notification the icon of the notification item turns to red. Therefore, I need to change the icon or color icon of the notification item using JAVA codes at runtime. So, my question is how can I change icon of a bottom navigation view at runtime?</p>\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottomNavigationView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:menu=&quot;@menu/bottom_nav&quot;/&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":3,"creation_date":1619945376,"post_id":67354467,"comment_id":119051985,"body_markdown":"Where exactly have you measured those times? How exactly did you call your algorithm in both examples? And what possible differences do you have in the code? Without any examples, it&#39;s not possible to answer properly (any answers right now would be highly speculative about the reasons).","body":"Where exactly have you measured those times? How exactly did you call your algorithm in both examples? And what possible differences do you have in the code? Without any examples, it&#39;s not possible to answer properly (any answers right now would be highly speculative about the reasons)."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1619946351,"post_id":67354467,"comment_id":119052167,"body_markdown":"If you executed the &#39;pure Java code&#39; scenario by calling your algorithm in a loop, it&#39;s quite likely that the way you structured your code made jvm optimize your method call away. To understand what I mean, see [this article](https://www.oracle.com/technical-resources/articles/java/architect-benchmarking.html)","body":"If you executed the &#39;pure Java code&#39; scenario by calling your algorithm in a loop, it&#39;s quite likely that the way you structured your code made jvm optimize your method call away. To understand what I mean, see <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-benchmarking.html\" rel=\"nofollow noreferrer\">this article</a>"},{"owner":{"account_id":10398091,"reputation":65,"user_id":7667292,"display_name":"chrisb89"},"score":0,"creation_date":1620034548,"post_id":67354467,"comment_id":119073072,"body_markdown":"@dunni, crizzis, Eugene: I just updated my description to explain how I measure this. So I am not calling my algorithm in a loop, the algorithm is only triggered once and executed for a number of iterations.","body":"@dunni, crizzis, Eugene: I just updated my description to explain how I measure this. So I am not calling my algorithm in a loop, the algorithm is only triggered once and executed for a number of iterations."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1620056523,"post_id":67354467,"comment_id":119082401,"body_markdown":"the answer that I have provided still stands, even after your update.","body":"the answer that I have provided still stands, even after your update."},{"owner":{"account_id":10398091,"reputation":65,"user_id":7667292,"display_name":"chrisb89"},"score":0,"creation_date":1620226116,"post_id":67354467,"comment_id":119138869,"body_markdown":"@Eugene, if I understand you correctly, Spring creates proxies for the rest controllers. So there is of course some overhead when a `@RestController` is called. However, by the time `optimize()` is triggered, there should no longer be any proxies involved, right? This should simply be my created java code, right? So where does the performance gap come from?","body":"@Eugene, if I understand you correctly, Spring creates proxies for the rest controllers. So there is of course some overhead when a <code>@RestController</code> is called. However, by the time <code>optimize()</code> is triggered, there should no longer be any proxies involved, right? This should simply be my created java code, right? So where does the performance gap come from?"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1620226668,"post_id":67354467,"comment_id":119139179,"body_markdown":"@chrisb89 it will be close to impossible to answer this question without running a profiler, I think. As said in the answer, your are measuring _cold_ start of a method, these kind of measurements are unpredictable and are influenced by a lot of factors.","body":"@chrisb89 it will be close to impossible to answer this question without running a profiler, I think. As said in the answer, your are measuring <i>cold</i> start of a method, these kind of measurements are unpredictable and are influenced by a lot of factors."},{"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"score":0,"creation_date":1671714824,"post_id":67354467,"comment_id":132160369,"body_markdown":"I have exactly the same problem. Using a population based optimization that runs millions of iterations is about 3times slower when triggered through spring rest controller than when triggered by pure java. I wouldn&#39;t consider an algorithm with millions of iterations that runs for minutes to be &quot;cold start&quot;. The CPU load is pretty much the same, so are other settings like GC and memory.","body":"I have exactly the same problem. Using a population based optimization that runs millions of iterations is about 3times slower when triggered through spring rest controller than when triggered by pure java. I wouldn&#39;t consider an algorithm with millions of iterations that runs for minutes to be &quot;cold start&quot;. The CPU load is pretty much the same, so are other settings like GC and memory."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619964510,"creation_date":1619964510,"answer_id":67357294,"question_id":67354467,"body_markdown":"Without knowing the exact way you measured, these numbers could mean exactly zero (as in it is irrelevant what they are). \r\n\r\nIf you simply measured `5` and `100` executions, you have only measured &quot;cold start&quot; of those methods, and the fact that Spring is significantly slower is very expected; if you have an idea how Spring works under the hood. Spring will create proxies for all of your rest controller methods, that will go under a `tomcat` under the hood too... To simplify what I mean, throw an `Exception` in your `@RestController` and look at the stacktrace - you would be surprised of it&#39;s depth, I think. \r\n\r\n\r\nThe good news is that once you have _many_ invocations of those rest methods, the `JVM` will optimize a lot of the things and calls will get a lot faster than the ones you made initially. Still, you will never be able to beat a plain method invocation vs calling it via a spring controller. ","title":"Method executed inside a Spring Rest Controller is significantly slower than in a pure java project","body":"<p>Without knowing the exact way you measured, these numbers could mean exactly zero (as in it is irrelevant what they are).</p>\n<p>If you simply measured <code>5</code> and <code>100</code> executions, you have only measured &quot;cold start&quot; of those methods, and the fact that Spring is significantly slower is very expected; if you have an idea how Spring works under the hood. Spring will create proxies for all of your rest controller methods, that will go under a <code>tomcat</code> under the hood too... To simplify what I mean, throw an <code>Exception</code> in your <code>@RestController</code> and look at the stacktrace - you would be surprised of it's depth, I think.</p>\n<p>The good news is that once you have <em>many</em> invocations of those rest methods, the <code>JVM</code> will optimize a lot of the things and calls will get a lot faster than the ones you made initially. Still, you will never be able to beat a plain method invocation vs calling it via a spring controller.</p>\n"},{"tags":[],"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677256760,"creation_date":1677256760,"answer_id":75559149,"question_id":67354467,"body_markdown":"If you are using IntelliJ, you need to disable launch optimization (it&#39;s spring-specific option in run config). By default, IntelliJ adds the flag `-XX:TieredStopAtLevel=1` for spring apps, which essentially prevents c2 compilation, hence making computation-heavy tasks significantly slower.\r\n\r\nSource: https://youtrack.jetbrains.com/issue/IDEA-297872","title":"Method executed inside a Spring Rest Controller is significantly slower than in a pure java project","body":"<p>If you are using IntelliJ, you need to disable launch optimization (it's spring-specific option in run config). By default, IntelliJ adds the flag <code>-XX:TieredStopAtLevel=1</code> for spring apps, which essentially prevents c2 compilation, hence making computation-heavy tasks significantly slower.</p>\n<p>Source: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-297872\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-297872</a></p>\n"}],"owner":{"account_id":10398091,"reputation":65,"user_id":7667292,"display_name":"chrisb89"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1677256760,"creation_date":1619945190,"question_id":67354467,"body_markdown":"**Background:**\r\nI am working on a spring web application that provides an optimization algorithm to the users. The performance of my algorithm is acceptable when executed in a pure java project. However, calling it via a rest controller in a spring project leads to a massive performance gap which I would like to understand.\r\n\r\n**Test/Observation:**\r\n Of course, all tests are executed on the same hardware. The optimization algorithm is independent of spring, i.e. it receives some basic java objects as input and returns a result. As you can see in the table below, executing my algorithm takes at least twice as long inside spring which holds for 5 iterations and for 100 iterations (i.e. no constant overhead in the beginning). \r\n\r\n| Iterations [No.]  | Pure Java [ms]  | Spring [ms] |\r\n| :----------------:| :--------------:| :----------:|\r\n| 5                 | ~200            | ~ 400       |\r\n| 100               | ~1400           | 3500 - 5000 |\r\n\r\nI totally understand that a web application leads to some overhead on my machine (spring, angular, etc.). However, would you really expect such a massive performance impact? Essentially, this is only a small test data set and real world data sets will be more challenging.\r\n\r\nTo explain how I measured this in more detail:\r\n- I have an `Optimization.class` which contains a `public static Result optimize(Data data){}`. `Data.class` is a POJO without any reference to spring entities.\r\n- `optimize()` is an evolutionary algorithm with 5 or 100 iterations. The time given above is only measured inside `optimize()` but around the loop of iterations using `System.currentTimeInMillis()`. Hence, my method is only triggered once but executed for different number of iterations and I am only measuring how long these iterations in my algorithm take.\r\n- `Pure Java` means that I created a `public static void main(String[] args)` that prepares `Data.class` and calls `optimize()`.\r\n- `Spring` means that I created a rest controller that prepares `Data.class` and calls `optimize()`.\r\n\r\n**Main Questions:**\r\nI would highly appreciate any help to understand this issue in more detail. Currently I am thinking about the following questions:\r\n - Which factors influence the performance of a method executed inside a spring rest controller?\r\n - Can I somehow configure how the given hardware is used by spring?\r\n - Is there any alternative to access an algorithm from the client, i.e. some alternative to the rest controller?\r\n - Would it help to execute my algorithm in some asynchronous way and call the server again later to receive the result?","title":"Method executed inside a Spring Rest Controller is significantly slower than in a pure java project","body":"<p><strong>Background:</strong>\nI am working on a spring web application that provides an optimization algorithm to the users. The performance of my algorithm is acceptable when executed in a pure java project. However, calling it via a rest controller in a spring project leads to a massive performance gap which I would like to understand.</p>\n<p><strong>Test/Observation:</strong>\nOf course, all tests are executed on the same hardware. The optimization algorithm is independent of spring, i.e. it receives some basic java objects as input and returns a result. As you can see in the table below, executing my algorithm takes at least twice as long inside spring which holds for 5 iterations and for 100 iterations (i.e. no constant overhead in the beginning).</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">Iterations [No.]</th>\n<th style=\"text-align: center;\">Pure Java [ms]</th>\n<th style=\"text-align: center;\">Spring [ms]</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">5</td>\n<td style=\"text-align: center;\">~200</td>\n<td style=\"text-align: center;\">~ 400</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">100</td>\n<td style=\"text-align: center;\">~1400</td>\n<td style=\"text-align: center;\">3500 - 5000</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I totally understand that a web application leads to some overhead on my machine (spring, angular, etc.). However, would you really expect such a massive performance impact? Essentially, this is only a small test data set and real world data sets will be more challenging.</p>\n<p>To explain how I measured this in more detail:</p>\n<ul>\n<li>I have an <code>Optimization.class</code> which contains a <code>public static Result optimize(Data data){}</code>. <code>Data.class</code> is a POJO without any reference to spring entities.</li>\n<li><code>optimize()</code> is an evolutionary algorithm with 5 or 100 iterations. The time given above is only measured inside <code>optimize()</code> but around the loop of iterations using <code>System.currentTimeInMillis()</code>. Hence, my method is only triggered once but executed for different number of iterations and I am only measuring how long these iterations in my algorithm take.</li>\n<li><code>Pure Java</code> means that I created a <code>public static void main(String[] args)</code> that prepares <code>Data.class</code> and calls <code>optimize()</code>.</li>\n<li><code>Spring</code> means that I created a rest controller that prepares <code>Data.class</code> and calls <code>optimize()</code>.</li>\n</ul>\n<p><strong>Main Questions:</strong>\nI would highly appreciate any help to understand this issue in more detail. Currently I am thinking about the following questions:</p>\n<ul>\n<li>Which factors influence the performance of a method executed inside a spring rest controller?</li>\n<li>Can I somehow configure how the given hardware is used by spring?</li>\n<li>Is there any alternative to access an algorithm from the client, i.e. some alternative to the rest controller?</li>\n<li>Would it help to execute my algorithm in some asynchronous way and call the server again later to receive the result?</li>\n</ul>\n"},{"tags":["java","http","url","browser","httpclient"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677256128,"post_id":75558802,"comment_id":133308094,"body_markdown":"It&#39;s not a valid URL. Apparently `CloseableHttpClient`&#39;s implementation is very forgiving and parses this anyways.","body":"It&#39;s not a valid URL. Apparently <code>CloseableHttpClient</code>&#39;s implementation is very forgiving and parses this anyways."},{"owner":{"account_id":6589260,"reputation":636,"user_id":5091077,"accept_rate":78,"display_name":"cSharma"},"score":0,"creation_date":1677256899,"post_id":75558802,"comment_id":133308289,"body_markdown":"So this is not good way for customer end right? @f1sh","body":"So this is not good way for customer end right? @f1sh"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677262176,"post_id":75558802,"comment_id":133309618,"body_markdown":"I don&#39;t see how your choice of an http client during testing has an impact on any customer","body":"I don&#39;t see how your choice of an http client during testing has an impact on any customer"}],"owner":{"account_id":6589260,"reputation":636,"user_id":5091077,"accept_rate":78,"display_name":"cSharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677256713,"creation_date":1677254880,"question_id":75558802,"body_markdown":"I am able to get 200 status code for &quot;http://machineName:port..://&lt;relativeURL&gt;&quot;.\r\nBut same url format is not running in postman or normal browser. I have to validate this wrong format url but http response is not throwing any exception so how to solve this problem.\r\nI am using CloseableHttpClient class.\r\nThis url &quot;http://machineName:port[alphanumeric]/&lt;relativeURL&gt;&quot; also passed (got 200 status code).\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rWNIX.jpg\r\n  [2]: https://i.stack.imgur.com/EGR7s.jpg","title":"&quot;http://&lt;machineName&gt;:&lt;port&gt;..://&quot; Is this valid url in CloseableHttpClient?","body":"<p>I am able to get 200 status code for &quot;http://machineName:port..://&quot;.\nBut same url format is not running in postman or normal browser. I have to validate this wrong format url but http response is not throwing any exception so how to solve this problem.\nI am using CloseableHttpClient class.\nThis url &quot;http://machineName:port[alphanumeric]/&quot; also passed (got 200 status code).</p>\n<p><a href=\"https://i.stack.imgur.com/rWNIX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rWNIX.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/EGR7s.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EGR7s.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","postgresql","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677254077,"creation_date":1677253843,"answer_id":75558613,"question_id":75558574,"body_markdown":"[As documented in the manual](https://www.postgresql.org/docs/current/datatype-character.html) the data type `text` accepts no length limit and has a maximum size of 1GB. \r\n\r\nIf you want a constraint to limit the length, use a check constraint on a `text` column or use the `varchar(4000)`. ","title":"What is the max column length of TEXT field in Hibernate?","body":"<p><a href=\"https://www.postgresql.org/docs/current/datatype-character.html\" rel=\"nofollow noreferrer\">As documented in the manual</a> the data type <code>text</code> accepts no length limit and has a maximum size of 1GB.</p>\n<p>If you want a constraint to limit the length, use a check constraint on a <code>text</code> column or use the <code>varchar(4000)</code>.</p>\n"},{"tags":[],"owner":{"account_id":19672763,"reputation":1766,"user_id":15062361,"display_name":"Pepe N O"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677256494,"creation_date":1677255817,"answer_id":75558976,"question_id":75558574,"body_markdown":"Max column length of text type is your RDBMS&#39;s max length for text datatype, in PostgreSQL case is 1Gb. If you want to limit size use \r\n\r\n    @Column (columnDefinition = &quot;VARCHAR (n)&quot; ) \r\n\r\n@Column annotation indicates specific characteristics of the physical database column, and &lt;n&gt; will be enforced by database (PostgreSQL checks and throws an error)\r\n\r\nOr\r\n\r\n    @column(columndefinition=&quot;text&quot;)\r\n\r\nThat will adjust to the limit aforementioned, where length attribute may not work and won&#39;t be necessary.","title":"What is the max column length of TEXT field in Hibernate?","body":"<p>Max column length of text type is your RDBMS's max length for text datatype, in PostgreSQL case is 1Gb. If you want to limit size use</p>\n<pre><code>@Column (columnDefinition = &quot;VARCHAR (n)&quot; ) \n</code></pre>\n<p>@Column annotation indicates specific characteristics of the physical database column, and  will be enforced by database (PostgreSQL checks and throws an error)</p>\n<p>Or</p>\n<pre><code>@column(columndefinition=&quot;text&quot;)\n</code></pre>\n<p>That will adjust to the limit aforementioned, where length attribute may not work and won't be necessary.</p>\n"}],"owner":{"display_name":"user21263160"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75558976,"answer_count":2,"score":0,"last_activity_date":1677256494,"creation_date":1677253545,"question_id":75558574,"body_markdown":"I have a text field in my Hibernate entity as shown below:\r\n\r\n```\r\n@Column(nullable = false, columnDefinition = &quot;TEXT&quot;)\r\nprivate String content;\r\n```\r\n\r\nSo, what is the default and suggested length for this field (it is a content of a blog)? And should I set it using `length` as shown below? \r\n\r\n\r\n```\r\n@Column(nullable = false, columnDefinition = &quot;TEXT&quot;, length = 4000)\r\nprivate String content;\r\n```\r\n\r\nNote: My database is PostgreSQL. \r\n","title":"What is the max column length of TEXT field in Hibernate?","body":"<p>I have a text field in my Hibernate entity as shown below:</p>\n<pre><code>@Column(nullable = false, columnDefinition = &quot;TEXT&quot;)\nprivate String content;\n</code></pre>\n<p>So, what is the default and suggested length for this field (it is a content of a blog)? And should I set it using <code>length</code> as shown below?</p>\n<pre><code>@Column(nullable = false, columnDefinition = &quot;TEXT&quot;, length = 4000)\nprivate String content;\n</code></pre>\n<p>Note: My database is PostgreSQL.</p>\n"},{"tags":["java","maven","jar"],"comments":[{"owner":{"account_id":1546286,"reputation":7588,"user_id":1439771,"accept_rate":75,"display_name":"Alex"},"score":0,"creation_date":1411555931,"post_id":26014840,"comment_id":40744659,"body_markdown":"You need to copy your dependencies into lib folder. In maven configuration you showed us I don&#39;t see this goal.","body":"You need to copy your dependencies into lib folder. In maven configuration you showed us I don&#39;t see this goal."}],"answers":[{"tags":[],"owner":{"account_id":3959361,"reputation":51,"user_id":3266889,"display_name":"chenthil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1411555902,"creation_date":1411555902,"answer_id":26015045,"question_id":26014840,"body_markdown":"use the maven-assembly plugin to build the jar with dependency.\r\n\r\n       &lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;phase&gt;package&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;single&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n      &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n      &lt;descriptorRefs&gt;\r\n        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n      &lt;/descriptorRefs&gt;\r\n    &lt;/configuration&gt;\r\n  &lt;/plugin&gt;\r\n\r\n  ","title":"Class Not Found Exception for a Maven Jar","body":"<p>use the maven-assembly plugin to build the jar with dependency.</p>\n\n<pre><code>   &lt;plugin&gt;\n&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n&lt;executions&gt;\n  &lt;execution&gt;\n    &lt;phase&gt;package&lt;/phase&gt;\n    &lt;goals&gt;\n      &lt;goal&gt;single&lt;/goal&gt;\n    &lt;/goals&gt;\n  &lt;/execution&gt;\n&lt;/executions&gt;\n&lt;configuration&gt;\n  &lt;descriptorRefs&gt;\n    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n  &lt;/descriptorRefs&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":5075975,"reputation":370,"user_id":4073314,"display_name":"Sunil Khokhar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1677256264,"creation_date":1411556385,"answer_id":26015202,"question_id":26014840,"body_markdown":"```\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n          &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;outputDirectory&gt;Mydir/lib&lt;/outputDirectory&gt;\r\n            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n            &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n            &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;outputDirectory&gt;MyDir&lt;/outputDirectory&gt;\r\n        &lt;archive&gt;\r\n          &lt;manifest&gt;\r\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n            &lt;classpathPrefix&gt;lib&lt;/classpathPrefix&gt;\r\n            &lt;mainClass&gt;com.test.entryClassOfJarHavingMainMethod&lt;/mainClass&gt;\r\n          &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nUse these configuration in pom.xml to create jar with lib folder and package as a jar\r\n","title":"Class Not Found Exception for a Maven Jar","body":"<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;copy-dependencies&lt;/id&gt;\n          &lt;phase&gt;prepare-package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n            &lt;outputDirectory&gt;Mydir/lib&lt;/outputDirectory&gt;\n            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n            &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n            &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n          &lt;/configuration&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.4&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;outputDirectory&gt;MyDir&lt;/outputDirectory&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n            &lt;classpathPrefix&gt;lib&lt;/classpathPrefix&gt;\n            &lt;mainClass&gt;com.test.entryClassOfJarHavingMainMethod&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Use these configuration in pom.xml to create jar with lib folder and package as a jar</p>\n"}],"owner":{"account_id":1922053,"reputation":2613,"user_id":1733310,"accept_rate":64,"display_name":"Prasanna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21826,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1677256264,"creation_date":1411555260,"question_id":26014840,"body_markdown":"I use maven to manage dependency in my project. This is my pom.xml\r\n**pom.xml**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.prasanna&lt;/groupId&gt;\r\n      &lt;artifactId&gt;fft-java&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;fft-java&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n              &lt;groupId&gt;junit&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n              &lt;version&gt;4.11&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n              &lt;groupId&gt;com.github.wendykierp&lt;/groupId&gt;\r\n              &lt;artifactId&gt;JTransforms&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;!-- Build an executable JAR --&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                                &lt;mainClass&gt;com.prasanna.TestFFT&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI have only one java class in my application. When I run my class from my application, it runs as expected. Whereas if I make a `mvn package` and try to run it from the terminal as `java -jar test-fft.jar`, I get a `java.lang.ClassNotFoundException: org.jtransforms.fft.DoubleFFT_2D`\r\n\r\nBut this DoubleFFT_2D is a part of JTransforms dependency that I have added. How would I run this jar?","title":"Class Not Found Exception for a Maven Jar","body":"<p>I use maven to manage dependency in my project. This is my pom.xml\n<strong>pom.xml</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.prasanna&lt;/groupId&gt;\n  &lt;artifactId&gt;fft-java&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;fft-java&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;junit&lt;/groupId&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n          &lt;version&gt;4.11&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;com.github.wendykierp&lt;/groupId&gt;\n          &lt;artifactId&gt;JTransforms&lt;/artifactId&gt;\n          &lt;version&gt;3.0&lt;/version&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;com.prasanna.TestFFT&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>I have only one java class in my application. When I run my class from my application, it runs as expected. Whereas if I make a <code>mvn package</code> and try to run it from the terminal as <code>java -jar test-fft.jar</code>, I get a <code>java.lang.ClassNotFoundException: org.jtransforms.fft.DoubleFFT_2D</code></p>\n\n<p>But this DoubleFFT_2D is a part of JTransforms dependency that I have added. How would I run this jar?</p>\n"},{"tags":["java","android","string"],"answers":[{"tags":[],"owner":{"account_id":8822894,"reputation":4923,"user_id":6592058,"accept_rate":86,"display_name":"seekingStillness"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677254318,"creation_date":1677254318,"answer_id":75558703,"question_id":75557242,"body_markdown":"If you can break the `TextView` into separate sections, you can accomplish this by `xml`\r\n\r\n    &lt;TextView\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:text=&quot;Bold Text&quot;\r\n    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n\r\nor you can do it programmatically\r\n\r\n    textView.setTypeface(null, Typeface.BOLD)\r\n","title":"Android bold fragment of textview text","body":"<p>If you can break the <code>TextView</code> into separate sections, you can accomplish this by <code>xml</code></p>\n<pre><code>&lt;TextView\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:text=&quot;Bold Text&quot;\nandroid:textStyle=&quot;bold&quot; /&gt;\n</code></pre>\n<p>or you can do it programmatically</p>\n<pre><code>textView.setTypeface(null, Typeface.BOLD)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8279191,"reputation":36,"user_id":6224408,"display_name":"dangelouss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677256203,"creation_date":1677256203,"answer_id":75559045,"question_id":75557242,"body_markdown":"An idea can be to use the SpannableString.\r\n\r\nFirst of all you have to split your string in two different string resources\r\n\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    &lt;string name=&quot;this_is_base_note_part1&quot;&gt;This is base note of group &lt;/string&gt;\r\n    &lt;string name=&quot;this_is_base_note_part2&quot;&gt;. It cannot be deleted individually but with the rest of the group.&lt;/string&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\nThen you can get your strings, and compose the entire string:\r\n\r\n\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n\r\n    val partOne = getString(R.string.this_is_base_note_part1)\r\n    val partTwo = getString(R.string.this_is_base_note_part2)\r\n    val stringToBeBolded = db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) != null ? &quot; &quot; + db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) : &quot;&quot;)\r\n\r\n    val entireString = partOne + stringToBeBolded + partTwo\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\nNow you are ready to create your SpannableString:\r\n\r\n\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n\r\n    val spannable = SpannableString(entireString)\r\n    val startBold = partOne.length\r\n    val endBold = startBold + stringToBeBolded.length\r\n    spannable.setSpan(StyleSpan(Typeface.BOLD), startBold, endBold, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE) \r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nNow you can set your spannable into your TextView\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n\r\n    textview.text = spannable\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Android bold fragment of textview text","body":"<p>An idea can be to use the SpannableString.</p>\n<p>First of all you have to split your string in two different string resources</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;string name=&quot;this_is_base_note_part1&quot;&gt;This is base note of group &lt;/string&gt;\n&lt;string name=&quot;this_is_base_note_part2&quot;&gt;. It cannot be deleted individually but with the rest of the group.&lt;/string&gt;\n</code></pre>\n\n<p>Then you can get your strings, and compose the entire string:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val partOne = getString(R.string.this_is_base_note_part1)\nval partTwo = getString(R.string.this_is_base_note_part2)\nval stringToBeBolded = db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) != null ? &quot; &quot; + db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) : &quot;&quot;)\n\nval entireString = partOne + stringToBeBolded + partTwo\n</code></pre>\n\n<p>Now you are ready to create your SpannableString:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val spannable = SpannableString(entireString)\nval startBold = partOne.length\nval endBold = startBold + stringToBeBolded.length\nspannable.setSpan(StyleSpan(Typeface.BOLD), startBold, endBold, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE) \n</code></pre>\n\n<p>Now you can set your spannable into your TextView</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>textview.text = spannable\n</code></pre>\n\n"}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75559045,"answer_count":2,"score":0,"last_activity_date":1677256203,"creation_date":1677245903,"question_id":75557242,"body_markdown":"I want to be able to bold a placeholder of my textview text that is `db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder())`\r\n\r\nHere is what I have tried:\r\n\r\n    HtmlCompat.fromHtml(String.format(fragment.getString(R.string.this_is_base_note), db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) != null ? &quot; &quot; + db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) : &quot;&quot;), 0));\r\n\r\nOR changed the end of this code like this (nothing changed):\r\n\r\n    HtmlCompat.fromHtml(String.format(fragment.getString(R.string.this_is_base_note), db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) != null ? &quot; &quot; + db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) : &quot;&quot;), HtmlCompat.FROM_HTML_MODE_LEGACY));\r\n\r\nThis string resource looks like this:\r\n\r\n    &lt;string name=&quot;this_is_base_note&quot;&gt;This is base note of group&lt;b&gt;%1$s&lt;/b&gt;. It cannot be deleted individually but with the rest of the group.&lt;/string&gt;\r\n\r\n\r\nUnfortunately my placeholder is not bold. How to solve that?","title":"Android bold fragment of textview text","body":"<p>I want to be able to bold a placeholder of my textview text that is <code>db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder())</code></p>\n<p>Here is what I have tried:</p>\n<pre><code>HtmlCompat.fromHtml(String.format(fragment.getString(R.string.this_is_base_note), db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) != null ? &quot; &quot; + db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) : &quot;&quot;), 0));\n</code></pre>\n<p>OR changed the end of this code like this (nothing changed):</p>\n<pre><code>HtmlCompat.fromHtml(String.format(fragment.getString(R.string.this_is_base_note), db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) != null ? &quot; &quot; + db.getGroupTitleByExtNoteOrder(noteItemList.get(getAdapterPosition()).getNoteOrder()) : &quot;&quot;), HtmlCompat.FROM_HTML_MODE_LEGACY));\n</code></pre>\n<p>This string resource looks like this:</p>\n<pre><code>&lt;string name=&quot;this_is_base_note&quot;&gt;This is base note of group&lt;b&gt;%1$s&lt;/b&gt;. It cannot be deleted individually but with the rest of the group.&lt;/string&gt;\n</code></pre>\n<p>Unfortunately my placeholder is not bold. How to solve that?</p>\n"},{"tags":["java","elasticsearch","jhipster"],"owner":{"account_id":25538,"reputation":8278,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677255857,"creation_date":1677255857,"question_id":75558985,"body_markdown":"I&#39;m trying to upgrade a JHipster v5 app to v7.9.3. With JHipster 5, I was able to secure Elasticsearch endpoints by adding a filter by the user&#39;s login.\r\n\r\n```java\r\npublic ResponseEntity&lt;List&lt;BloodPressure&gt;&gt; searchBloodPressures(@RequestParam String query, Pageable pageable) {\r\n    log.debug(&quot;REST request to search for a page of BloodPressures for query {}&quot;, query);\r\n    BoolQueryBuilder queryBuilder = QueryBuilders.boolQuery().must(queryStringQuery(query));\r\n    if (SecurityUtils.isAuthenticated() &amp;&amp; !SecurityUtils.isCurrentUserInRole(AuthoritiesConstants.ADMIN)) {\r\n        queryBuilder = queryBuilder.filter(matchQuery(&quot;user.login&quot;,\r\n            SecurityUtils.getCurrentUserLogin().orElse(&quot;&quot;)));\r\n    }\r\n    Page&lt;BloodPressure&gt; page = bloodPressureSearchRepository.search(queryBuilder, pageable);\r\n    HttpHeaders headers = PaginationUtil.generateSearchPaginationHttpHeaders(query, page, &quot;/api/_search/blood-pressures&quot;);\r\n    return new ResponseEntity&lt;&gt;(page.getContent(), headers, HttpStatus.OK);\r\n}\r\n```\r\n\r\nWith JHipster 7, here&#39;s what the method looks like before I try to lock it down.\r\n\r\n```java\r\npublic ResponseEntity&lt;List&lt;BloodPressure&gt;&gt; searchBloodPressures(\r\n    @RequestParam String query,\r\n    @org.springdoc.api.annotations.ParameterObject Pageable pageable\r\n) {\r\n    log.debug(&quot;REST request to search for a page of BloodPressures for query {}&quot;, query);\r\n    Page&lt;BloodPressure&gt; page = bloodPressureSearchRepository.search(query, pageable);\r\n    HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(ServletUriComponentsBuilder.fromCurrentRequest(), page);\r\n    return ResponseEntity.ok().headers(headers).body(page.getContent());\r\n}\r\n```\r\n\r\nJHipster 5 allowed me to pass the `queryBuilder` directly into the `search()` method. However, with JHipster 7, it expects a String. Is it possible to get the query from the `queryBuilder` to make it all work?\r\n\r\nHere&#39;s what I have so far:\r\n\r\n```java\r\npublic ResponseEntity&lt;List&lt;BloodPressure&gt;&gt; searchBloodPressures(\r\n    @RequestParam String query,\r\n    @org.springdoc.api.annotations.ParameterObject Pageable pageable\r\n) {\r\n    log.debug(&quot;REST request to search for a page of BloodPressures for query {}&quot;, query);\r\n    BoolQueryBuilder queryBuilder = QueryBuilders.boolQuery().must(queryStringQuery(query));\r\n    if (SecurityUtils.isAuthenticated() &amp;&amp; !SecurityUtils.hasCurrentUserThisAuthority(AuthoritiesConstants.ADMIN)) {\r\n        queryBuilder = queryBuilder.filter(matchQuery(&quot;user.login&quot;, SecurityUtils.getCurrentUserLogin().orElse(&quot;&quot;)));\r\n    }\r\n    // todo: figure out how to use queryBuilder in search()\r\n    // SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\r\n    // sourceBuilder.query(queryBuilder);\r\n    Page&lt;BloodPressure&gt; page = bloodPressureSearchRepository.search(query, pageable);\r\n    HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(ServletUriComponentsBuilder.fromCurrentRequest(), page);\r\n    return ResponseEntity.ok().headers(headers).body(page.getContent());\r\n}\r\n```\r\n\r\nThe code for the `BloodPressureSearchRepository` is as follows:\r\n\r\n```java\r\npackage org.jhipster.health.repository.search;\r\n\r\nimport static org.elasticsearch.index.query.QueryBuilders.queryStringQuery;\r\n\r\nimport java.util.List;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\nimport org.elasticsearch.search.sort.SortBuilder;\r\nimport org.jhipster.health.domain.BloodPressure;\r\nimport org.jhipster.health.repository.BloodPressureRepository;\r\nimport org.springframework.data.domain.Page;\r\nimport org.springframework.data.domain.PageImpl;\r\nimport org.springframework.data.domain.PageRequest;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate;\r\nimport org.springframework.data.elasticsearch.core.SearchHit;\r\nimport org.springframework.data.elasticsearch.core.SearchHits;\r\nimport org.springframework.data.elasticsearch.core.query.NativeSearchQuery;\r\nimport org.springframework.data.elasticsearch.core.query.NativeSearchQueryBuilder;\r\nimport org.springframework.data.elasticsearch.core.query.Query;\r\nimport org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\r\nimport org.springframework.scheduling.annotation.Async;\r\nimport org.springframework.transaction.annotation.Isolation;\r\nimport org.springframework.transaction.annotation.Propagation;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n/**\r\n * Spring Data Elasticsearch repository for the {@link BloodPressure} entity.\r\n */\r\npublic interface BloodPressureSearchRepository\r\n    extends ElasticsearchRepository&lt;BloodPressure, Long&gt;, BloodPressureSearchRepositoryInternal {}\r\n\r\ninterface BloodPressureSearchRepositoryInternal {\r\n    Page&lt;BloodPressure&gt; search(String query, Pageable pageable);\r\n\r\n    Page&lt;BloodPressure&gt; search(Query query);\r\n\r\n    void index(BloodPressure entity);\r\n}\r\n\r\nclass BloodPressureSearchRepositoryInternalImpl implements BloodPressureSearchRepositoryInternal {\r\n\r\n    private final ElasticsearchRestTemplate elasticsearchTemplate;\r\n    private final BloodPressureRepository repository;\r\n\r\n    BloodPressureSearchRepositoryInternalImpl(ElasticsearchRestTemplate elasticsearchTemplate, BloodPressureRepository repository) {\r\n        this.elasticsearchTemplate = elasticsearchTemplate;\r\n        this.repository = repository;\r\n    }\r\n\r\n    @Override\r\n    public Page&lt;BloodPressure&gt; search(String query, Pageable pageable) {\r\n        NativeSearchQuery nativeSearchQuery = new NativeSearchQuery(queryStringQuery(query));\r\n        return search(nativeSearchQuery.setPageable(pageable));\r\n    }\r\n\r\n    @Override\r\n    public Page&lt;BloodPressure&gt; search(Query query) {\r\n        SearchHits&lt;BloodPressure&gt; searchHits = elasticsearchTemplate.search(query, BloodPressure.class);\r\n        List&lt;BloodPressure&gt; hits = searchHits.map(SearchHit::getContent).stream().collect(Collectors.toList());\r\n        return new PageImpl&lt;&gt;(hits, query.getPageable(), searchHits.getTotalHits());\r\n    }\r\n\r\n    @Override\r\n    public void index(BloodPressure entity) {\r\n        repository.findOneWithEagerRelationships(entity.getId()).ifPresent(elasticsearchTemplate::save);\r\n    }\r\n}\r\n```\r\n\r\nRelated: https://github.com/mraible/21-points-v7/issues/5","title":"Filtering by user with Elasticsearch for more secure endpoints","body":"<p>I'm trying to upgrade a JHipster v5 app to v7.9.3. With JHipster 5, I was able to secure Elasticsearch endpoints by adding a filter by the user's login.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;List&lt;BloodPressure&gt;&gt; searchBloodPressures(@RequestParam String query, Pageable pageable) {\n    log.debug(&quot;REST request to search for a page of BloodPressures for query {}&quot;, query);\n    BoolQueryBuilder queryBuilder = QueryBuilders.boolQuery().must(queryStringQuery(query));\n    if (SecurityUtils.isAuthenticated() &amp;&amp; !SecurityUtils.isCurrentUserInRole(AuthoritiesConstants.ADMIN)) {\n        queryBuilder = queryBuilder.filter(matchQuery(&quot;user.login&quot;,\n            SecurityUtils.getCurrentUserLogin().orElse(&quot;&quot;)));\n    }\n    Page&lt;BloodPressure&gt; page = bloodPressureSearchRepository.search(queryBuilder, pageable);\n    HttpHeaders headers = PaginationUtil.generateSearchPaginationHttpHeaders(query, page, &quot;/api/_search/blood-pressures&quot;);\n    return new ResponseEntity&lt;&gt;(page.getContent(), headers, HttpStatus.OK);\n}\n</code></pre>\n<p>With JHipster 7, here's what the method looks like before I try to lock it down.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;List&lt;BloodPressure&gt;&gt; searchBloodPressures(\n    @RequestParam String query,\n    @org.springdoc.api.annotations.ParameterObject Pageable pageable\n) {\n    log.debug(&quot;REST request to search for a page of BloodPressures for query {}&quot;, query);\n    Page&lt;BloodPressure&gt; page = bloodPressureSearchRepository.search(query, pageable);\n    HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(ServletUriComponentsBuilder.fromCurrentRequest(), page);\n    return ResponseEntity.ok().headers(headers).body(page.getContent());\n}\n</code></pre>\n<p>JHipster 5 allowed me to pass the <code>queryBuilder</code> directly into the <code>search()</code> method. However, with JHipster 7, it expects a String. Is it possible to get the query from the <code>queryBuilder</code> to make it all work?</p>\n<p>Here's what I have so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;List&lt;BloodPressure&gt;&gt; searchBloodPressures(\n    @RequestParam String query,\n    @org.springdoc.api.annotations.ParameterObject Pageable pageable\n) {\n    log.debug(&quot;REST request to search for a page of BloodPressures for query {}&quot;, query);\n    BoolQueryBuilder queryBuilder = QueryBuilders.boolQuery().must(queryStringQuery(query));\n    if (SecurityUtils.isAuthenticated() &amp;&amp; !SecurityUtils.hasCurrentUserThisAuthority(AuthoritiesConstants.ADMIN)) {\n        queryBuilder = queryBuilder.filter(matchQuery(&quot;user.login&quot;, SecurityUtils.getCurrentUserLogin().orElse(&quot;&quot;)));\n    }\n    // todo: figure out how to use queryBuilder in search()\n    // SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\n    // sourceBuilder.query(queryBuilder);\n    Page&lt;BloodPressure&gt; page = bloodPressureSearchRepository.search(query, pageable);\n    HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(ServletUriComponentsBuilder.fromCurrentRequest(), page);\n    return ResponseEntity.ok().headers(headers).body(page.getContent());\n}\n</code></pre>\n<p>The code for the <code>BloodPressureSearchRepository</code> is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.jhipster.health.repository.search;\n\nimport static org.elasticsearch.index.query.QueryBuilders.queryStringQuery;\n\nimport java.util.List;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\nimport org.elasticsearch.search.sort.SortBuilder;\nimport org.jhipster.health.domain.BloodPressure;\nimport org.jhipster.health.repository.BloodPressureRepository;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageImpl;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate;\nimport org.springframework.data.elasticsearch.core.SearchHit;\nimport org.springframework.data.elasticsearch.core.SearchHits;\nimport org.springframework.data.elasticsearch.core.query.NativeSearchQuery;\nimport org.springframework.data.elasticsearch.core.query.NativeSearchQueryBuilder;\nimport org.springframework.data.elasticsearch.core.query.Query;\nimport org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\nimport org.springframework.scheduling.annotation.Async;\nimport org.springframework.transaction.annotation.Isolation;\nimport org.springframework.transaction.annotation.Propagation;\nimport org.springframework.transaction.annotation.Transactional;\n\n/**\n * Spring Data Elasticsearch repository for the {@link BloodPressure} entity.\n */\npublic interface BloodPressureSearchRepository\n    extends ElasticsearchRepository&lt;BloodPressure, Long&gt;, BloodPressureSearchRepositoryInternal {}\n\ninterface BloodPressureSearchRepositoryInternal {\n    Page&lt;BloodPressure&gt; search(String query, Pageable pageable);\n\n    Page&lt;BloodPressure&gt; search(Query query);\n\n    void index(BloodPressure entity);\n}\n\nclass BloodPressureSearchRepositoryInternalImpl implements BloodPressureSearchRepositoryInternal {\n\n    private final ElasticsearchRestTemplate elasticsearchTemplate;\n    private final BloodPressureRepository repository;\n\n    BloodPressureSearchRepositoryInternalImpl(ElasticsearchRestTemplate elasticsearchTemplate, BloodPressureRepository repository) {\n        this.elasticsearchTemplate = elasticsearchTemplate;\n        this.repository = repository;\n    }\n\n    @Override\n    public Page&lt;BloodPressure&gt; search(String query, Pageable pageable) {\n        NativeSearchQuery nativeSearchQuery = new NativeSearchQuery(queryStringQuery(query));\n        return search(nativeSearchQuery.setPageable(pageable));\n    }\n\n    @Override\n    public Page&lt;BloodPressure&gt; search(Query query) {\n        SearchHits&lt;BloodPressure&gt; searchHits = elasticsearchTemplate.search(query, BloodPressure.class);\n        List&lt;BloodPressure&gt; hits = searchHits.map(SearchHit::getContent).stream().collect(Collectors.toList());\n        return new PageImpl&lt;&gt;(hits, query.getPageable(), searchHits.getTotalHits());\n    }\n\n    @Override\n    public void index(BloodPressure entity) {\n        repository.findOneWithEagerRelationships(entity.getId()).ifPresent(elasticsearchTemplate::save);\n    }\n}\n</code></pre>\n<p>Related: <a href=\"https://github.com/mraible/21-points-v7/issues/5\" rel=\"nofollow noreferrer\">https://github.com/mraible/21-points-v7/issues/5</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":1,"creation_date":1677255930,"post_id":75558981,"comment_id":133308019,"body_markdown":"Could it be because you have your decimal point and comma switched around?","body":"Could it be because you have your decimal point and comma switched around?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1677256093,"post_id":75558981,"comment_id":133308080,"body_markdown":"&quot;I have the number &#39;19,476.86&#39; in a text file&quot; - that&#39;s not what your code shows. What&#39;s *actually* in the file?","body":"&quot;I have the number &#39;19,476.86&#39; in a text file&quot; - that&#39;s not what your code shows. What&#39;s <i>actually</i> in the file?"},{"owner":{"account_id":22810863,"reputation":13,"user_id":16962177,"display_name":"imnach2"},"score":0,"creation_date":1677261393,"post_id":75558981,"comment_id":133309423,"body_markdown":"@JonSkeet about the txt file is a simply string what have that number","body":"@JonSkeet about the txt file is a simply string what have that number"},{"owner":{"account_id":22810863,"reputation":13,"user_id":16962177,"display_name":"imnach2"},"score":0,"creation_date":1677261415,"post_id":75558981,"comment_id":133309429,"body_markdown":"@CalvinP. i from Argentina...","body":"@CalvinP. i from Argentina..."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1677262480,"post_id":75558981,"comment_id":133309697,"body_markdown":"I don&#39;t understand your comment. Is the content of the text file &quot;19,476.86&quot; or &quot;19.476,90&quot;? You&#39;ve described one, and then given a different one in your source code. It&#39;s very hard to help with contradictory requirements. (And chances are the duplicate actually contains the answer...)","body":"I don&#39;t understand your comment. Is the content of the text file &quot;19,476.86&quot; or &quot;19.476,90&quot;? You&#39;ve described one, and then given a different one in your source code. It&#39;s very hard to help with contradictory requirements. (And chances are the duplicate actually contains the answer...)"}],"owner":{"account_id":22810863,"reputation":13,"user_id":16962177,"display_name":"imnach2"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677256090,"answer_count":0,"score":0,"last_activity_date":1677255835,"creation_date":1677255835,"question_id":75558981,"body_markdown":"I have the number &#39;19,476.86&#39; in a text file and I would like to use it to perform math operations such as addition, subtraction, multiplication, how do I do it?\r\n\r\n```java\r\n\t\tString s = &quot;19.476,90&quot;;\r\n\t\tDecimalFormat  formateador = new DecimalFormat (&quot;#.00&quot;);\r\n\t\tNumber resultado = formateador.parse(s);\r\n\t\tSystem.out.println(&quot;Resultado: &quot; + resultado);\r\n```\r\n\r\nOutput:\r\n\r\n```txt\r\nResultado: 19.476\r\n```\r\n\r\n\r\nI want to use the full number and not have the &#39;,80&#39; left out\r\n","title":"How can I get this number, from a string, and be able to use it in math operations?","body":"<p>I have the number '19,476.86' in a text file and I would like to use it to perform math operations such as addition, subtraction, multiplication, how do I do it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String s = &quot;19.476,90&quot;;\n        DecimalFormat  formateador = new DecimalFormat (&quot;#.00&quot;);\n        Number resultado = formateador.parse(s);\n        System.out.println(&quot;Resultado: &quot; + resultado);\n</code></pre>\n<p>Output:</p>\n<pre><code>Resultado: 19.476\n</code></pre>\n<p>I want to use the full number and not have the ',80' left out</p>\n"},{"tags":["javascript","java","html","api","cloud"],"owner":{"account_id":26764280,"reputation":11,"user_id":20361695,"display_name":"proxyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677255782,"creation_date":1677255782,"question_id":75558967,"body_markdown":"I am working on a project called &quot;Secure Chat Application with Photo Tracking using SM Cryptography Framework on the Cloud.&quot; The objective of the project is to create a secure chat application that uses SM Cryptography Framework to encrypt and decrypt messages and images. The application will also have a photo tracking feature that enables users to track the photos they send and receive.\r\n\r\nI am wondering if anyone can offer advice on where to start with this project. Specifically, I am interested in knowing what software tools and libraries I should use, how to integrate SM Cryptography Framework into the project, and how to set up the cloud infrastructure for hosting the application.\r\n\r\nAny guidance or resources on how to approach this project would be greatly appreciated. Thank you in advance for your help!","title":"Secure Chat Application with Photo Tracking using SM Cryptography Framework on the Cloud","body":"<p>I am working on a project called &quot;Secure Chat Application with Photo Tracking using SM Cryptography Framework on the Cloud.&quot; The objective of the project is to create a secure chat application that uses SM Cryptography Framework to encrypt and decrypt messages and images. The application will also have a photo tracking feature that enables users to track the photos they send and receive.</p>\n<p>I am wondering if anyone can offer advice on where to start with this project. Specifically, I am interested in knowing what software tools and libraries I should use, how to integrate SM Cryptography Framework into the project, and how to set up the cloud infrastructure for hosting the application.</p>\n<p>Any guidance or resources on how to approach this project would be greatly appreciated. Thank you in advance for your help!</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":1716782,"reputation":266,"user_id":1573682,"display_name":"Peter Verhas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677255672,"creation_date":1677255672,"answer_id":75558947,"question_id":75548156,"body_markdown":"You can link a file the same way you would link anything else.\r\nFor example, I have the following line in an Asciidoc file in my project:\r\n\r\n```\r\nlink:./src/main/java/javax0/jamal/test/examples/Array.java[Array.java]\r\n```\r\n\r\nin an Asciidoc file edited using the IntelliJ asciidoctor-based plugin will show you on the right pane a link. If you click on it in the editor, it will open the Java file.\r\n\r\nThe other way around, having a link in a Java comment pointing to a non-java file: I am not so sure. If you look at the IntelliJ ticket\r\n\r\nhttps://intellij-support.jetbrains.com/hc/en-us/community/posts/206181749-java-Viewing-links-in-source-code-comments\r\n\r\nfrom 2014 it is already commenting on it.","title":"How do I create a non-URL clickable link in Java source file?","body":"<p>You can link a file the same way you would link anything else.\nFor example, I have the following line in an Asciidoc file in my project:</p>\n<pre><code>link:./src/main/java/javax0/jamal/test/examples/Array.java[Array.java]\n</code></pre>\n<p>in an Asciidoc file edited using the IntelliJ asciidoctor-based plugin will show you on the right pane a link. If you click on it in the editor, it will open the Java file.</p>\n<p>The other way around, having a link in a Java comment pointing to a non-java file: I am not so sure. If you look at the IntelliJ ticket</p>\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206181749-java-Viewing-links-in-source-code-comments\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/206181749-java-Viewing-links-in-source-code-comments</a></p>\n<p>from 2014 it is already commenting on it.</p>\n"}],"owner":{"account_id":25946793,"reputation":99,"user_id":19665422,"display_name":"Thorbj&#248;rn Andersen - UFST"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677255672,"creation_date":1677172424,"question_id":75548156,"body_markdown":"I am experimenting with Markdown and AsciiDoc to see if we can provide richer docs-as-code than we do today.   This is very promising.\r\n\r\nIt is possible to link from an AsciiDoc file to a Java source file, so the reader can navigate the rendered version directly.   It is also possible to put a URL in a comment in a Java source file which can be Ctrl-Click&#39;ed to go there.\r\n\r\nIs there a special syntax that is understood by IntelliJ so it can be used in a similar way to easily navigate from a Java source file (Groovy and Kotlin are also interesting) to a non-source file?   I&#39;d prefer one that can be put on any comment like an URL, but if Javadoc can do it that is fine too.","title":"How do I create a non-URL clickable link in Java source file?","body":"<p>I am experimenting with Markdown and AsciiDoc to see if we can provide richer docs-as-code than we do today.   This is very promising.</p>\n<p>It is possible to link from an AsciiDoc file to a Java source file, so the reader can navigate the rendered version directly.   It is also possible to put a URL in a comment in a Java source file which can be Ctrl-Click'ed to go there.</p>\n<p>Is there a special syntax that is understood by IntelliJ so it can be used in a similar way to easily navigate from a Java source file (Groovy and Kotlin are also interesting) to a non-source file?   I'd prefer one that can be put on any comment like an URL, but if Javadoc can do it that is fine too.</p>\n"},{"tags":["java","authentication","spring-security","saml-2.0"],"owner":{"account_id":15820487,"reputation":21,"user_id":11414951,"display_name":"hazardous silence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677255631,"creation_date":1677255631,"question_id":75558935,"body_markdown":"I&#39;m using Spring Security with [SAML2](https://docs.spring.io/spring-security/reference/servlet/saml2/index.html) (spring-boot-starter-security and spring-security-saml2-service-provider with spring boot v2.7.3).\r\nI&#39;m happy with the default behaviour of having sessions but I&#39;ve seen the session only expires based on inactivity duration. My goal is to to make sure that, when trying to access a protected resource, a user must be authenticated and that the security token he used therefore is not expired.\r\n\r\n\r\nI thought this would be as simple as creating a basic filter class that would, during authentication store the expiry date in the session and on authenticated calls filter to make sure that the current date is not past that of the sessions expiry date. Otherwise it should trigger re-auth the same way it does when an un-authenticated access is attempted against a protected resource.\r\nI soon noticed that the authN process in Spring Security is spread out through numerous classes. \r\nUsing the documentation for [authentication](https://docs.spring.io/spring-security/reference/servlet/authentication/index.html) I&#39;ve found a way to add the expiry date to the session and check it :\r\n- First I added a [SessionAuthenticationStrategy](https://docs.spring.io/spring-security/site/docs/6.0.2/api//org/springframework/security/web/authentication/session/SessionAuthenticationStrategy.html)\r\n\r\n```java\r\npublic final class SAML2TokenExpirySessionAuthenticationStrategy implements SessionAuthenticationStrategy {\r\n\tpublic final static String SAML2_TOKEN_EXPIRY = &quot;SAML2_TOKEN_EXPIRY&quot;;\r\n\tprivate XPathExpression notOnOrAfterXPath;\r\n\r\n\tpublic SAML2TokenExpirySessionAuthenticationStrategy() throws XPathExpressionException {\r\n\t\tXPath xPath = XPathFactory.newInstance().newXPath();\r\n\t\tnotOnOrAfterXPath = xPath.compile(\r\n\t\t\t\t&quot;//*[local-name() = &#39;Assertion&#39; and namespace-uri() = &#39;urn:oasis:names:tc:SAML:2.0:assertion&#39;]/*[local-name() = &#39;Conditions&#39; and namespace-uri() = &#39;urn:oasis:names:tc:SAML:2.0:assertion&#39;]/@NotOnOrAfter&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onAuthentication(Authentication authentication, HttpServletRequest request,\r\n\t\t\tHttpServletResponse response) throws SessionAuthenticationException {\r\n\t\tif (authentication instanceof Saml2Authentication) {\r\n\t\t\tObject expiry =  request.getSession().getAttribute(SAML2TokenExpirySessionAuthenticationStrategy.SAML2_TOKEN_EXPIRY);\r\n\t\t\tif (expiry ==null ){\r\n\t\t\t\tSaml2Authentication token = (Saml2Authentication) authentication;\r\n\t\t\t\tInputSource inputXML = new InputSource(new StringReader(token.getSaml2Response()));\r\n\t\t\t\ttry {\r\n\t\t\t\t\tString notOnOrAfter = notOnOrAfterXPath.evaluate(inputXML);\r\n\t\t\t\t\tInstant tokenExpiry = Instant.parse(notOnOrAfter);\r\n\t\t\t\t\trequest.getSession().setAttribute(SAML2_TOKEN_EXPIRY, tokenExpiry);\r\n\t\t\t\t} catch (XPathExpressionException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n- Then I&#39;ve added an [AuthenticationFilter](https://docs.spring.io/spring-security/site/docs/6.0.2/api//org/springframework/security/web/authentication/AuthenticationFilter.html) before the SAML2 filter \r\n```java\r\nhttp.addFilterBefore(new TokenSessionTimeoutFilter(providerManager,saml2AuthenticationTokenConverter(),sessionRegistry()), Saml2WebSsoAuthenticationFilter.class);\r\n```\r\n\r\n```java\r\npublic class TokenSessionTimeoutFilter extends AuthenticationFilter {\r\n    private SessionRegistry sessionRegistry;\r\n\r\n    public TokenSessionTimeoutFilter(AuthenticationManager authenticationManager,\r\n            AuthenticationConverter authenticationConverter,SessionRegistry sessionRegistry) {\r\n        super(authenticationManager, authenticationConverter);\r\n        this.sessionRegistry = sessionRegistry;\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        Instant expiry = (Instant) request.getSession().getAttribute(SAML2TokenExpirySessionAuthenticationStrategy.SAML2_TOKEN_EXPIRY);\r\n        if (expiry != null &amp;&amp; expiry.isBefore(Instant.now())){\r\n                SessionInformation sessionInformation = sessionRegistry.getSessionInformation(request.getSession().getId());\r\n                if (sessionInformation !=null ) {\r\n                    sessionInformation.expireNow();\r\n                }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\nIdeally I would have wanted this filter to apply only when the user tries to access protected resources. \r\nSo for example if in my SecurityFilterChain I have set :\r\n```java\r\n// something before\r\n                .antMatchers(&quot;/api/authenticate&quot;).permitAll()\r\n                .antMatchers(&quot;/api/admin/**&quot;).hasAuthority(AuthoritiesConstants.ADMIN)\r\n                .antMatchers(&quot;/api/**&quot;).authenticated()\r\n//something after\r\n```\r\nThen I would like the filter to apply only on URLs matching &quot;/api/admin/\\*\\*&quot; and &quot;/api/\\*\\*&quot;. I&#39;ve seen the AuthenticationFilter class provides a &quot;getRequestMatcher()&quot; method but it&#39;s default behavior is to match any URLs.\r\n\r\nRegarding the expiry of the session, based on some investigation, I have injected a &quot;new SessionRegistryImpl()&quot; into the filter as this seems to be the only way to obtain a &quot;SessionInformation&quot; object which has an &quot;expireNow()&quot; method. \r\n\r\nI thought this would be sufficient to invalidate the session and trigger a re-authentication but it seems I&#39;m missing something. I also tried using directly the HttpSession &quot;invalidate()&quot; method but this also failed.\r\n\r\nAny help would be very welcome.","title":"How to force session expiry and trigger re-authentication in spring security?","body":"<p>I'm using Spring Security with <a href=\"https://docs.spring.io/spring-security/reference/servlet/saml2/index.html\" rel=\"nofollow noreferrer\">SAML2</a> (spring-boot-starter-security and spring-security-saml2-service-provider with spring boot v2.7.3).\nI'm happy with the default behaviour of having sessions but I've seen the session only expires based on inactivity duration. My goal is to to make sure that, when trying to access a protected resource, a user must be authenticated and that the security token he used therefore is not expired.</p>\n<p>I thought this would be as simple as creating a basic filter class that would, during authentication store the expiry date in the session and on authenticated calls filter to make sure that the current date is not past that of the sessions expiry date. Otherwise it should trigger re-auth the same way it does when an un-authenticated access is attempted against a protected resource.\nI soon noticed that the authN process in Spring Security is spread out through numerous classes.\nUsing the documentation for <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/index.html\" rel=\"nofollow noreferrer\">authentication</a> I've found a way to add the expiry date to the session and check it :</p>\n<ul>\n<li>First I added a <a href=\"https://docs.spring.io/spring-security/site/docs/6.0.2/api//org/springframework/security/web/authentication/session/SessionAuthenticationStrategy.html\" rel=\"nofollow noreferrer\">SessionAuthenticationStrategy</a></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public final class SAML2TokenExpirySessionAuthenticationStrategy implements SessionAuthenticationStrategy {\n    public final static String SAML2_TOKEN_EXPIRY = &quot;SAML2_TOKEN_EXPIRY&quot;;\n    private XPathExpression notOnOrAfterXPath;\n\n    public SAML2TokenExpirySessionAuthenticationStrategy() throws XPathExpressionException {\n        XPath xPath = XPathFactory.newInstance().newXPath();\n        notOnOrAfterXPath = xPath.compile(\n                &quot;//*[local-name() = 'Assertion' and namespace-uri() = 'urn:oasis:names:tc:SAML:2.0:assertion']/*[local-name() = 'Conditions' and namespace-uri() = 'urn:oasis:names:tc:SAML:2.0:assertion']/@NotOnOrAfter&quot;);\n    }\n\n    @Override\n    public void onAuthentication(Authentication authentication, HttpServletRequest request,\n            HttpServletResponse response) throws SessionAuthenticationException {\n        if (authentication instanceof Saml2Authentication) {\n            Object expiry =  request.getSession().getAttribute(SAML2TokenExpirySessionAuthenticationStrategy.SAML2_TOKEN_EXPIRY);\n            if (expiry ==null ){\n                Saml2Authentication token = (Saml2Authentication) authentication;\n                InputSource inputXML = new InputSource(new StringReader(token.getSaml2Response()));\n                try {\n                    String notOnOrAfter = notOnOrAfterXPath.evaluate(inputXML);\n                    Instant tokenExpiry = Instant.parse(notOnOrAfter);\n                    request.getSession().setAttribute(SAML2_TOKEN_EXPIRY, tokenExpiry);\n                } catch (XPathExpressionException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>Then I've added an <a href=\"https://docs.spring.io/spring-security/site/docs/6.0.2/api//org/springframework/security/web/authentication/AuthenticationFilter.html\" rel=\"nofollow noreferrer\">AuthenticationFilter</a> before the SAML2 filter</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>http.addFilterBefore(new TokenSessionTimeoutFilter(providerManager,saml2AuthenticationTokenConverter(),sessionRegistry()), Saml2WebSsoAuthenticationFilter.class);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class TokenSessionTimeoutFilter extends AuthenticationFilter {\n    private SessionRegistry sessionRegistry;\n\n    public TokenSessionTimeoutFilter(AuthenticationManager authenticationManager,\n            AuthenticationConverter authenticationConverter,SessionRegistry sessionRegistry) {\n        super(authenticationManager, authenticationConverter);\n        this.sessionRegistry = sessionRegistry;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        Instant expiry = (Instant) request.getSession().getAttribute(SAML2TokenExpirySessionAuthenticationStrategy.SAML2_TOKEN_EXPIRY);\n        if (expiry != null &amp;&amp; expiry.isBefore(Instant.now())){\n                SessionInformation sessionInformation = sessionRegistry.getSessionInformation(request.getSession().getId());\n                if (sessionInformation !=null ) {\n                    sessionInformation.expireNow();\n                }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>Ideally I would have wanted this filter to apply only when the user tries to access protected resources.\nSo for example if in my SecurityFilterChain I have set :</p>\n<pre class=\"lang-java prettyprint-override\"><code>// something before\n                .antMatchers(&quot;/api/authenticate&quot;).permitAll()\n                .antMatchers(&quot;/api/admin/**&quot;).hasAuthority(AuthoritiesConstants.ADMIN)\n                .antMatchers(&quot;/api/**&quot;).authenticated()\n//something after\n</code></pre>\n<p>Then I would like the filter to apply only on URLs matching &quot;/api/admin/**&quot; and &quot;/api/**&quot;. I've seen the AuthenticationFilter class provides a &quot;getRequestMatcher()&quot; method but it's default behavior is to match any URLs.</p>\n<p>Regarding the expiry of the session, based on some investigation, I have injected a &quot;new SessionRegistryImpl()&quot; into the filter as this seems to be the only way to obtain a &quot;SessionInformation&quot; object which has an &quot;expireNow()&quot; method.</p>\n<p>I thought this would be sufficient to invalidate the session and trigger a re-authentication but it seems I'm missing something. I also tried using directly the HttpSession &quot;invalidate()&quot; method but this also failed.</p>\n<p>Any help would be very welcome.</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":1,"creation_date":1677251400,"post_id":75557711,"comment_id":133306636,"body_markdown":"Why not add a more specific mapping like `@RequestMapping(value = &quot;/swagger&quot;, method = RequestMethod.GET)` ?","body":"Why not add a more specific mapping like <code>@RequestMapping(value = &quot;&#47;swagger&quot;, method = RequestMethod.GET)</code> ?"},{"owner":{"account_id":3273973,"reputation":5791,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"score":0,"creation_date":1677253789,"post_id":75557711,"comment_id":133307341,"body_markdown":"Thx! I hoped for a solution that just allows me to return to the spring default for this path. But yes I guess this is what I&#39;ll do.","body":"Thx! I hoped for a solution that just allows me to return to the spring default for this path. But yes I guess this is what I&#39;ll do."}],"owner":{"account_id":3273973,"reputation":5791,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677253805,"creation_date":1677248762,"question_id":75557711,"body_markdown":"My spring-boot web service with spring-mvc has a quite generic endpoint defined by\r\n\r\n    @RequestMapping(value = &quot;/**&quot;, method = RequestMethod.GET)\r\n\r\nFor legacy/compatibility reasons it is hard to change that.\r\n\r\nMy problem is that this overwrites the out-of-the-box static file serving, namely my auto-generated swagger.json which I have under target/classes/static/swagger.\r\n\r\nIs there any way to exclude my &quot;swagger&quot; directory from that RequestMapping?","title":"Spring boot RequestMapping on root, how to exclude a directory for static file serving?","body":"<p>My spring-boot web service with spring-mvc has a quite generic endpoint defined by</p>\n<pre><code>@RequestMapping(value = &quot;/**&quot;, method = RequestMethod.GET)\n</code></pre>\n<p>For legacy/compatibility reasons it is hard to change that.</p>\n<p>My problem is that this overwrites the out-of-the-box static file serving, namely my auto-generated swagger.json which I have under target/classes/static/swagger.</p>\n<p>Is there any way to exclude my &quot;swagger&quot; directory from that RequestMapping?</p>\n"},{"tags":["java","mysql","spring","docker","maven"],"comments":[{"owner":{"account_id":2449759,"reputation":3319,"user_id":2136319,"display_name":"clement"},"score":1,"creation_date":1677253765,"post_id":75558403,"comment_id":133307330,"body_markdown":"Is it because app tries to talk to mysql even before it is completely up? Can you try adding a healthcheck to mysql and set the depends_on condition accordingly? May be https://stackoverflow.com/questions/42567475/docker-compose-check-if-mysql-connection-is-ready can help.","body":"Is it because app tries to talk to mysql even before it is completely up? Can you try adding a healthcheck to mysql and set the depends_on condition accordingly? May be <a href=\"https://stackoverflow.com/questions/42567475/docker-compose-check-if-mysql-connection-is-ready\" title=\"docker compose check if mysql connection is ready\">stackoverflow.com/questions/42567475/&hellip;</a> can help."},{"owner":{"account_id":4866881,"reputation":20471,"user_id":3924803,"display_name":"Hans Kilian"},"score":0,"creation_date":1677256760,"post_id":75558403,"comment_id":133308254,"body_markdown":"Please don&#39;t use screenshots of text in your questions. Paste in the text and use the formatting tools to format your post. That makes it a lot easier for people to copy/paste your files if they want to try to reproduce your issue.","body":"Please don&#39;t use screenshots of text in your questions. Paste in the text and use the formatting tools to format your post. That makes it a lot easier for people to copy/paste your files if they want to try to reproduce your issue."}],"owner":{"account_id":27821753,"reputation":11,"user_id":21241964,"display_name":"montassar omrani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677252652,"creation_date":1677252652,"question_id":75558403,"body_markdown":"Im trying to use docker-compose to run 2 containers of 2 existing images ( SQL image with a database built in already &amp; spring app container containing a jar file ) , but somehow i couldn&#39;t manage to make them communicate .these are the screenshots :\r\n\r\n[`error-screenshot1`](https://i.stack.imgur.com/VJVnc.png)\r\n[`error-screenshot2`](https://i.stack.imgur.com/2diIf.png)\r\n[`error-screenshot3`](https://i.stack.imgur.com/AjtMw.png)\r\n[`error-screenshot4`](https://i.stack.imgur.com/N2Pfd.png)\r\n[`app.properties-prod`](https://i.stack.imgur.com/rpMgZ.png)\r\n[`docker-compose`](https://i.stack.imgur.com/woc8x.png)\r\n[`dockerfile-DB`](https://i.stack.imgur.com/V6kuM.png)\r\n[`dockerfile-app`](https://i.stack.imgur.com/rNUMC.png)\r\n[`pomXML`](https://i.stack.imgur.com/kfLBx.png)\r\n[`pomXml`](https://i.stack.imgur.com/u95w2.png)\r\n[`pomXml`](https://i.stack.imgur.com/v4HJU.png)` `\r\n\r\ni tried upgrading and downgrading the jdk image but i think the problem is not in the jdk , the application runs fine in a seperated container , so i know the problem is with the jdbc version or something , i upgraded the version of the jdbc in the pom.xml i built the jar file again , and same thing again , the projects is using a lot of plugins , lombok , flyway .... i thought maybe some of those tools is blocking the communication ..","title":"Spring app container cannot communicate with mysql container","body":"<p>Im trying to use docker-compose to run 2 containers of 2 existing images ( SQL image with a database built in already &amp; spring app container containing a jar file ) , but somehow i couldn't manage to make them communicate .these are the screenshots :</p>\n<p><a href=\"https://i.stack.imgur.com/VJVnc.png\" rel=\"nofollow noreferrer\"><code>error-screenshot1</code></a>\n<a href=\"https://i.stack.imgur.com/2diIf.png\" rel=\"nofollow noreferrer\"><code>error-screenshot2</code></a>\n<a href=\"https://i.stack.imgur.com/AjtMw.png\" rel=\"nofollow noreferrer\"><code>error-screenshot3</code></a>\n<a href=\"https://i.stack.imgur.com/N2Pfd.png\" rel=\"nofollow noreferrer\"><code>error-screenshot4</code></a>\n<a href=\"https://i.stack.imgur.com/rpMgZ.png\" rel=\"nofollow noreferrer\"><code>app.properties-prod</code></a>\n<a href=\"https://i.stack.imgur.com/woc8x.png\" rel=\"nofollow noreferrer\"><code>docker-compose</code></a>\n<a href=\"https://i.stack.imgur.com/V6kuM.png\" rel=\"nofollow noreferrer\"><code>dockerfile-DB</code></a>\n<a href=\"https://i.stack.imgur.com/rNUMC.png\" rel=\"nofollow noreferrer\"><code>dockerfile-app</code></a>\n<a href=\"https://i.stack.imgur.com/kfLBx.png\" rel=\"nofollow noreferrer\"><code>pomXML</code></a>\n<a href=\"https://i.stack.imgur.com/u95w2.png\" rel=\"nofollow noreferrer\"><code>pomXml</code></a>\n<a href=\"https://i.stack.imgur.com/v4HJU.png\" rel=\"nofollow noreferrer\"><code>pomXml</code></a><code> </code></p>\n<p>i tried upgrading and downgrading the jdk image but i think the problem is not in the jdk , the application runs fine in a seperated container , so i know the problem is with the jdbc version or something , i upgraded the version of the jdbc in the pom.xml i built the jar file again , and same thing again , the projects is using a lot of plugins , lombok , flyway .... i thought maybe some of those tools is blocking the communication ..</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677255824,"post_id":75558294,"comment_id":133307988,"body_markdown":"It might be helpful to show the rest of the fields from the entity class.","body":"It might be helpful to show the rest of the fields from the entity class."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1677659034,"post_id":75558294,"comment_id":133379381,"body_markdown":"The code you wrote makes no sense. The error is about native queries, but you use the `createQuery` instead of `createNativeQuery` method. Nobody will be able to help you if you post wrong and confusing information.","body":"The code you wrote makes no sense. The error is about native queries, but you use the <code>createQuery</code> instead of <code>createNativeQuery</code> method. Nobody will be able to help you if you post wrong and confusing information."}],"owner":{"account_id":11777864,"reputation":776,"user_id":8618598,"accept_rate":90,"display_name":"Vikram R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677252055,"creation_date":1677252055,"question_id":75558294,"body_markdown":"I have migrated my project from spring boot 2.x to spring boot 3.x and using hibernate 6.1.7\r\n\r\nEntity  \r\n\r\n  \r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator=&quot;SEQ1&quot;)\r\n    \t@SequenceGenerator(name=&quot;SEQ1&quot;, sequenceName=&quot;SEQ1&quot;, allocationSize=1)\r\n        @Column(name = &quot;COL_SK&quot;)\r\n        private Long sk;\r\n\r\n\r\nServiceimpl\r\n\r\n\r\n  \r\n\r\n    @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n    \tprivate static final String CCN_LIST = &quot;select c1 FROM CCN c1 where c1.ccnCode in (:ccnCdList)&quot;;\r\n    \t\r\n    \t@Override\r\n    \tpublic List&lt;CCN&gt; findByCcnCdList(List&lt;String&gt; ccnCdList) {\r\n    \t\tList&lt;CCN&gt; ccns = new ArrayList&lt;CCN&gt;();\r\n    \t\t\r\n    \t\tif (CollectionUtils.isNotEmpty(ccnCdList)) {\r\n    \t\t\tList&lt;List&lt;String&gt;&gt; ccnCdSubLists = ListUtils.partition(ccnCdList, 2000);\r\n    \r\n    \t\t\tQuery query = entityManager.createQuery(CCN_LIST, CCN.class);\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\tfor (List&lt;String&gt; ccnCdSubList : ccnCdSubLists) {\t\t\t\t\r\n    \t\t\t\tquery.setParameter(&quot;ccnCdList&quot;, ccnCdSubList);\r\n    \t\t\t\tccns.addAll(query.getResultList());\t\t\t\t\t\t\t\t\r\n    \t\t\t}\t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn ccns;\r\n    \r\n    \t}\r\n\r\n\r\nBut i am getting an error\r\n\r\norg.springframework.orm.jpa.JpaSystemException: Encountered a duplicated sql alias [COL_SK] during auto-discovery of a native-sql query\r\n\r\n\r\nPlease note: above code working fine in spring boot 2.x","title":"Encountered a duplicated sql alias [col1] during auto-discovery of a native-sql query in spring boot 3","body":"<p>I have migrated my project from spring boot 2.x to spring boot 3.x and using hibernate 6.1.7</p>\n<p>Entity</p>\n<pre><code>    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator=&quot;SEQ1&quot;)\n    @SequenceGenerator(name=&quot;SEQ1&quot;, sequenceName=&quot;SEQ1&quot;, allocationSize=1)\n    @Column(name = &quot;COL_SK&quot;)\n    private Long sk;\n</code></pre>\n<p>Serviceimpl</p>\n<pre><code>@PersistenceContext\n    private EntityManager entityManager;\n\n    private static final String CCN_LIST = &quot;select c1 FROM CCN c1 where c1.ccnCode in (:ccnCdList)&quot;;\n    \n    @Override\n    public List&lt;CCN&gt; findByCcnCdList(List&lt;String&gt; ccnCdList) {\n        List&lt;CCN&gt; ccns = new ArrayList&lt;CCN&gt;();\n        \n        if (CollectionUtils.isNotEmpty(ccnCdList)) {\n            List&lt;List&lt;String&gt;&gt; ccnCdSubLists = ListUtils.partition(ccnCdList, 2000);\n\n            Query query = entityManager.createQuery(CCN_LIST, CCN.class);\n                                        \n            for (List&lt;String&gt; ccnCdSubList : ccnCdSubLists) {               \n                query.setParameter(&quot;ccnCdList&quot;, ccnCdSubList);\n                ccns.addAll(query.getResultList());                             \n            }           \n        }\n        \n        return ccns;\n\n    }\n</code></pre>\n<p>But i am getting an error</p>\n<p>org.springframework.orm.jpa.JpaSystemException: Encountered a duplicated sql alias [COL_SK] during auto-discovery of a native-sql query</p>\n<p>Please note: above code working fine in spring boot 2.x</p>\n"},{"tags":["java","spring","azure","dependency-injection","spring-cloud-function"],"answers":[{"tags":[],"owner":{"account_id":5591785,"reputation":534,"user_id":4430769,"display_name":"tzolov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677251815,"creation_date":1676997860,"answer_id":75523445,"question_id":75516528,"body_markdown":"Staring with Spring Cloud Function `4.0.0` you can use dependency injections like this: \r\n\r\n``` java\r\npackage com.example;\r\n\r\nimport java.util.Optional;\r\nimport java.util.function.Function;\r\n\r\nimport com.example.model.Greeting;\r\nimport com.example.model.User;\r\nimport com.microsoft.azure.functions.ExecutionContext;\r\nimport com.microsoft.azure.functions.HttpMethod;\r\nimport com.microsoft.azure.functions.HttpRequestMessage;\r\nimport com.microsoft.azure.functions.HttpResponseMessage;\r\nimport com.microsoft.azure.functions.HttpStatus;\r\nimport com.microsoft.azure.functions.annotation.AuthorizationLevel;\r\nimport com.microsoft.azure.functions.annotation.FunctionName;\r\nimport com.microsoft.azure.functions.annotation.HttpTrigger;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class HelloHandler {\r\n\r\n    @Autowired    \r\n    Function&lt;Mono&lt;User&gt;, Mono&lt;Greeting&gt;&gt; hello;\r\n    \r\n    @FunctionName(&quot;hello&quot;)\r\n    public HttpResponseMessage execute(\r\n            @HttpTrigger(name = &quot;request&quot;, methods = {HttpMethod.GET, HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS) HttpRequestMessage&lt;Optional&lt;User&gt;&gt; request,\r\n            ExecutionContext context) {\r\n        User user = request.getBody()\r\n                .filter((u -&gt; u.getName() != null))\r\n                .orElseGet(() -&gt; new User(\r\n                        request.getQueryParameters()\r\n                                .getOrDefault(&quot;name&quot;, &quot;world&quot;)));\r\n        \r\n        context.getLogger().info(&quot;DI Greeting user name: &quot; + user.getName());\r\n        \r\n        return request\r\n                .createResponseBuilder(HttpStatus.OK)\r\n                .body(hello.apply(Mono.just(user)).block())\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nE.g. no need to extend `FunctionInvoker`. Just mark the hander as `@Component` and inject all necessary dependencies you need to use in your functions.\r\n\r\nYou can check this [PR][1] that updates the same example code. Note that the [PR code][3] significantly simplifies the pom configurations as well. \r\n\r\n**Update:**\r\n\r\nThis is a new feature recently released by the Azure Java Function Runtime and supported by Spring Cloud Function 4.0.0+. \r\n\r\nHere are the related blog [Spring Cloud Function for Azure Function](https://spring.io/blog/2023/02/24/spring-cloud-function-for-azure-function), the updated [ref. doc](https://docs.spring.io/spring-cloud-function/docs/4.0.2-SNAPSHOT/reference/html/azure.html#_microsoft_azure) and few [samples](https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-azure-di-samples).\r\n\r\nThe [azure-functions-core-tools][2] version `4.0.5030` or newer is required.\r\n\r\n\r\n  [1]: https://github.com/Azure-Samples/hello-spring-function-azure/pull/39\r\n  [2]: https://github.com/Azure/azure-functions-core-tools\r\n  [3]: https://github.com/tzolov/hello-spring-function-azure/tree/di-integration","title":"How can I autowire my beans in Spring Cloud Functions in Azure?","body":"<p>Staring with Spring Cloud Function <code>4.0.0</code> you can use dependency injections like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.util.Optional;\nimport java.util.function.Function;\n\nimport com.example.model.Greeting;\nimport com.example.model.User;\nimport com.microsoft.azure.functions.ExecutionContext;\nimport com.microsoft.azure.functions.HttpMethod;\nimport com.microsoft.azure.functions.HttpRequestMessage;\nimport com.microsoft.azure.functions.HttpResponseMessage;\nimport com.microsoft.azure.functions.HttpStatus;\nimport com.microsoft.azure.functions.annotation.AuthorizationLevel;\nimport com.microsoft.azure.functions.annotation.FunctionName;\nimport com.microsoft.azure.functions.annotation.HttpTrigger;\nimport reactor.core.publisher.Mono;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class HelloHandler {\n\n    @Autowired    \n    Function&lt;Mono&lt;User&gt;, Mono&lt;Greeting&gt;&gt; hello;\n    \n    @FunctionName(&quot;hello&quot;)\n    public HttpResponseMessage execute(\n            @HttpTrigger(name = &quot;request&quot;, methods = {HttpMethod.GET, HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS) HttpRequestMessage&lt;Optional&lt;User&gt;&gt; request,\n            ExecutionContext context) {\n        User user = request.getBody()\n                .filter((u -&gt; u.getName() != null))\n                .orElseGet(() -&gt; new User(\n                        request.getQueryParameters()\n                                .getOrDefault(&quot;name&quot;, &quot;world&quot;)));\n        \n        context.getLogger().info(&quot;DI Greeting user name: &quot; + user.getName());\n        \n        return request\n                .createResponseBuilder(HttpStatus.OK)\n                .body(hello.apply(Mono.just(user)).block())\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .build();\n    }\n}\n</code></pre>\n<p>E.g. no need to extend <code>FunctionInvoker</code>. Just mark the hander as <code>@Component</code> and inject all necessary dependencies you need to use in your functions.</p>\n<p>You can check this <a href=\"https://github.com/Azure-Samples/hello-spring-function-azure/pull/39\" rel=\"nofollow noreferrer\">PR</a> that updates the same example code. Note that the <a href=\"https://github.com/tzolov/hello-spring-function-azure/tree/di-integration\" rel=\"nofollow noreferrer\">PR code</a> significantly simplifies the pom configurations as well.</p>\n<p><strong>Update:</strong></p>\n<p>This is a new feature recently released by the Azure Java Function Runtime and supported by Spring Cloud Function 4.0.0+.</p>\n<p>Here are the related blog <a href=\"https://spring.io/blog/2023/02/24/spring-cloud-function-for-azure-function\" rel=\"nofollow noreferrer\">Spring Cloud Function for Azure Function</a>, the updated <a href=\"https://docs.spring.io/spring-cloud-function/docs/4.0.2-SNAPSHOT/reference/html/azure.html#_microsoft_azure\" rel=\"nofollow noreferrer\">ref. doc</a> and few <a href=\"https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-azure-di-samples\" rel=\"nofollow noreferrer\">samples</a>.</p>\n<p>The <a href=\"https://github.com/Azure/azure-functions-core-tools\" rel=\"nofollow noreferrer\">azure-functions-core-tools</a> version <code>4.0.5030</code> or newer is required.</p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":770,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75523445,"answer_count":1,"score":0,"last_activity_date":1677251815,"creation_date":1676956568,"question_id":75516528,"body_markdown":"Is there any way I can do dependency injection in a Spring Cloud Function that will be running in Azure ?\r\n\r\nFor [example][1]:\r\n\r\n    package com.example;\r\n    \r\n    import com.example.model.Greeting;\r\n    import com.example.model.User;\r\n    import com.microsoft.azure.functions.*;\r\n    import com.microsoft.azure.functions.annotation.AuthorizationLevel;\r\n    import com.microsoft.azure.functions.annotation.FunctionName;\r\n    import com.microsoft.azure.functions.annotation.HttpTrigger;\r\n    import org.springframework.cloud.function.adapter.azure.FunctionInvoker;\r\n    \r\n    import java.util.Optional;\r\n    \r\n    public class HelloHandler extends FunctionInvoker&lt;User, Greeting&gt; {\r\n    \r\n        @FunctionName(&quot;hello&quot;)\r\n        public HttpResponseMessage execute(\r\n            @HttpTrigger(name = &quot;request&quot;, methods = {HttpMethod.GET, HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS) HttpRequestMessage&lt;Optional&lt;User&gt;&gt; request,\r\n            ExecutionContext context) {\r\n            User user = request.getBody()\r\n                               .filter((u -&gt; u.getName() != null))\r\n                               .orElseGet(() -&gt; new User(\r\n                                   request.getQueryParameters()\r\n                                          .getOrDefault(&quot;name&quot;, &quot;world&quot;)));\r\n            context.getLogger().info(&quot;Greeting user name: &quot; + user.getName());\r\n            return request\r\n                .createResponseBuilder(HttpStatus.OK)\r\n                .body(handleRequest(user, context))\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .build();\r\n        }\r\n    }\r\n\r\nHow can I use the `@Autowired` annotation here ? Its evaluated during runtime, right.\r\n\r\n**How can I achieve dependency injection ?**\r\n\r\nI need DI to inject mocks in place my actual beans during testing.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/getting-started-with-spring-cloud-function-in-azure?source=recommendations\r\n","title":"How can I autowire my beans in Spring Cloud Functions in Azure?","body":"<p>Is there any way I can do dependency injection in a Spring Cloud Function that will be running in Azure ?</p>\n<p>For <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/getting-started-with-spring-cloud-function-in-azure?source=recommendations\" rel=\"nofollow noreferrer\">example</a>:</p>\n<pre><code>package com.example;\n\nimport com.example.model.Greeting;\nimport com.example.model.User;\nimport com.microsoft.azure.functions.*;\nimport com.microsoft.azure.functions.annotation.AuthorizationLevel;\nimport com.microsoft.azure.functions.annotation.FunctionName;\nimport com.microsoft.azure.functions.annotation.HttpTrigger;\nimport org.springframework.cloud.function.adapter.azure.FunctionInvoker;\n\nimport java.util.Optional;\n\npublic class HelloHandler extends FunctionInvoker&lt;User, Greeting&gt; {\n\n    @FunctionName(&quot;hello&quot;)\n    public HttpResponseMessage execute(\n        @HttpTrigger(name = &quot;request&quot;, methods = {HttpMethod.GET, HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS) HttpRequestMessage&lt;Optional&lt;User&gt;&gt; request,\n        ExecutionContext context) {\n        User user = request.getBody()\n                           .filter((u -&gt; u.getName() != null))\n                           .orElseGet(() -&gt; new User(\n                               request.getQueryParameters()\n                                      .getOrDefault(&quot;name&quot;, &quot;world&quot;)));\n        context.getLogger().info(&quot;Greeting user name: &quot; + user.getName());\n        return request\n            .createResponseBuilder(HttpStatus.OK)\n            .body(handleRequest(user, context))\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n            .build();\n    }\n}\n</code></pre>\n<p>How can I use the <code>@Autowired</code> annotation here ? Its evaluated during runtime, right.</p>\n<p><strong>How can I achieve dependency injection ?</strong></p>\n<p>I need DI to inject mocks in place my actual beans during testing.</p>\n"},{"tags":["java","google-bigquery","export-to-csv","google-cloud-dataflow","apache-beam"],"owner":{"account_id":27870364,"reputation":1,"user_id":21281025,"display_name":"sana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677251041,"creation_date":1677251041,"question_id":75558120,"body_markdown":"I am Trying  have a GCS bucket with different Queries in different files(Big Query). I am creating a GCP dataflow(Apache beam Java) to read each query, execute and get the results and write them as individual csv&#39;s to a  GCS bucket. Can you suggest any example for the same\r\n\r\nI tried Reading one query from the GCS path, Execute the query and convert the table row to row using a DoFn and then convert table rows to csv using this \r\n\r\n                         \r\n```\r\nMapElements.into(TypeDescriptors.strings()).via(row -&gt; BeamTableUtils.beamRow2CsvLine((Row) row, CSVFormat.EXCEL))\r\n```\r\n\r\n\r\n and then using textIO.write write the results to a csv file in GCS bucket. this gives me a csv file with type &#39;text/csv&#39;\r\n\r\n\r\nBut I want to read multiple Queries and execute the query and save the results on different sink gcs path as &quot;application/csv&quot; type file","title":"Execute Multiple Queries using bQ and store results in cSV","body":"<p>I am Trying  have a GCS bucket with different Queries in different files(Big Query). I am creating a GCP dataflow(Apache beam Java) to read each query, execute and get the results and write them as individual csv's to a  GCS bucket. Can you suggest any example for the same</p>\n<p>I tried Reading one query from the GCS path, Execute the query and convert the table row to row using a DoFn and then convert table rows to csv using this</p>\n<pre><code>MapElements.into(TypeDescriptors.strings()).via(row -&gt; BeamTableUtils.beamRow2CsvLine((Row) row, CSVFormat.EXCEL))\n</code></pre>\n<p>and then using textIO.write write the results to a csv file in GCS bucket. this gives me a csv file with type 'text/csv'</p>\n<p>But I want to read multiple Queries and execute the query and save the results on different sink gcs path as &quot;application/csv&quot; type file</p>\n"},{"tags":["c#","java","desktop-application","push-notification"],"answers":[{"tags":[],"owner":{"account_id":26060,"reputation":5974,"user_id":67520,"accept_rate":65,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1301026360,"creation_date":1301026360,"answer_id":5428470,"question_id":5426982,"body_markdown":"If you want push notifications, you don&#39;t have much choices other than having a process running at all times because the server would need a way to contact your application.\r\n\r\nUsing push notifications, you can either have a permanent connection with the server with sockets for example. When there is an update, the server would notify your application and you do whatever needs to be done.\r\n\r\n\r\nHowever, if your updates are infrequent, a pull solution might be a better idea, because it wouldn&#39;t require a permanent connection.\r\n\r\nSince your program doesn&#39;t need to be open all the time,\r\n\r\n&gt; (Have the program schedule itself as a\r\n&gt; task (either a cron job, or scheduled\r\n&gt; task, or w/e), then check the server\r\n&gt; for updates? Keeping the program\r\n&gt; running in the background at all times\r\n&gt; wouldn&#39;t be an option, because updates\r\n&gt; would be too infrequent.)\r\n\r\nyou might just want to check with the server if an update is available at application startup (depending on your needs, hard to tell only with details from the question).\r\n\r\nIf you want, you might also add polling the server in a background thread wich checks for updates at a fixed interval (one that fits your needs).\r\n","title":"Push notifications for desktop apps?","body":"<p>If you want push notifications, you don't have much choices other than having a process running at all times because the server would need a way to contact your application.</p>\n\n<p>Using push notifications, you can either have a permanent connection with the server with sockets for example. When there is an update, the server would notify your application and you do whatever needs to be done.</p>\n\n<p>However, if your updates are infrequent, a pull solution might be a better idea, because it wouldn't require a permanent connection.</p>\n\n<p>Since your program doesn't need to be open all the time,</p>\n\n<blockquote>\n  <p>(Have the program schedule itself as a\n  task (either a cron job, or scheduled\n  task, or w/e), then check the server\n  for updates? Keeping the program\n  running in the background at all times\n  wouldn't be an option, because updates\n  would be too infrequent.)</p>\n</blockquote>\n\n<p>you might just want to check with the server if an update is available at application startup (depending on your needs, hard to tell only with details from the question).</p>\n\n<p>If you want, you might also add polling the server in a background thread wich checks for updates at a fixed interval (one that fits your needs).</p>\n"},{"tags":[],"owner":{"account_id":5463314,"reputation":1329,"user_id":4344738,"display_name":"Nestor Mata Cuthbert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488410353,"creation_date":1488410353,"answer_id":42543996,"question_id":5426982,"body_markdown":"You could just use a Push/Subscription service like Pusher (or implement it your self).\r\n\r\nWith Pusher you could just have an app, server, or anything that pushes an event and have the clients to be subscribed to Pusher for the specific event type, and then when the event arises it is notified to the clients.","title":"Push notifications for desktop apps?","body":"<p>You could just use a Push/Subscription service like Pusher (or implement it your self).</p>\n\n<p>With Pusher you could just have an app, server, or anything that pushes an event and have the clients to be subscribed to Pusher for the specific event type, and then when the event arises it is notified to the clients.</p>\n"},{"tags":[],"owner":{"account_id":1960391,"reputation":3387,"user_id":1762181,"accept_rate":80,"display_name":"AffluentOwl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677251005,"creation_date":1641352237,"answer_id":70587403,"question_id":5426982,"body_markdown":"Since this question was originally asked, more options have become available. Now the Windows App SDK offers [Push Notifications][1]. This enables:\r\n\r\n&gt; Application Wakeup - Push notifications can be used to wake up your\r\n&gt; application instead of it having to be constantly running which frees\r\n&gt; up user resources.\r\n&gt;\r\n&gt; Real Time Sync - Push notifications can replace polling scenarios for\r\n&gt; your applications by sending push notifications to your clients and\r\n&gt; notifying them to sync with your web service\r\n\r\nThis also makes it unnecessary to have persistent connections. This is made possible by [Windows Push Notification Services (WNS).][2] Equivalent services exist for other platforms:\r\n\r\n - [Android Transport Layer (ATL) via Google Play Services][3]\r\n - [Apple Push Notifications service (APNs)][4]\r\n - [Web Push][5]\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/apps/windows-app-sdk/notifications/push-notifications/\r\n  [2]: https://learn.microsoft.com/en-us/windows/apps/design/shell/tiles-and-notifications/windows-push-notification-services--wns--overview\r\n  [3]: https://firebase.google.com/docs/cloud-messaging/fcm-architecture\r\n  [4]: https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/APNSOverview.html#//apple_ref/doc/uid/TP40008194-CH8-SW1\r\n  [5]: https://developers.google.com/web/ilt/pwa/introduction-to-push-notifications","title":"Push notifications for desktop apps?","body":"<p>Since this question was originally asked, more options have become available. Now the Windows App SDK offers <a href=\"https://learn.microsoft.com/en-us/windows/apps/windows-app-sdk/notifications/push-notifications/\" rel=\"nofollow noreferrer\">Push Notifications</a>. This enables:</p>\n<blockquote>\n<p>Application Wakeup - Push notifications can be used to wake up your\napplication instead of it having to be constantly running which frees\nup user resources.</p>\n<p>Real Time Sync - Push notifications can replace polling scenarios for\nyour applications by sending push notifications to your clients and\nnotifying them to sync with your web service</p>\n</blockquote>\n<p>This also makes it unnecessary to have persistent connections. This is made possible by <a href=\"https://learn.microsoft.com/en-us/windows/apps/design/shell/tiles-and-notifications/windows-push-notification-services--wns--overview\" rel=\"nofollow noreferrer\">Windows Push Notification Services (WNS).</a> Equivalent services exist for other platforms:</p>\n<ul>\n<li><a href=\"https://firebase.google.com/docs/cloud-messaging/fcm-architecture\" rel=\"nofollow noreferrer\">Android Transport Layer (ATL) via Google Play Services</a></li>\n<li><a href=\"https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/APNSOverview.html#//apple_ref/doc/uid/TP40008194-CH8-SW1\" rel=\"nofollow noreferrer\">Apple Push Notifications service (APNs)</a></li>\n<li><a href=\"https://developers.google.com/web/ilt/pwa/introduction-to-push-notifications\" rel=\"nofollow noreferrer\">Web Push</a></li>\n</ul>\n"}],"owner":{"account_id":49568,"reputation":119884,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10211,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":5428470,"answer_count":3,"score":6,"last_activity_date":1677251005,"creation_date":1301010467,"question_id":5426982,"body_markdown":"Push notifications for mobile apps allow for some cool possibilities in terms of user experience. Are similar services available for desktop apps, such as those written in Java or C#?\r\n\r\nMy goal is to let the program take actions based on notifications from a server. If push notifications aren&#39;t available, what are some workarounds I could do? Have the program schedule itself as a task (either a cron job, or scheduled task, or w/e), then check the server for updates? Keeping the program running in the background at all times wouldn&#39;t be an option, because updates would be too infrequent. ","title":"Push notifications for desktop apps?","body":"<p>Push notifications for mobile apps allow for some cool possibilities in terms of user experience. Are similar services available for desktop apps, such as those written in Java or C#?</p>\n\n<p>My goal is to let the program take actions based on notifications from a server. If push notifications aren't available, what are some workarounds I could do? Have the program schedule itself as a task (either a cron job, or scheduled task, or w/e), then check the server for updates? Keeping the program running in the background at all times wouldn't be an option, because updates would be too infrequent. </p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1677228984,"post_id":75553460,"comment_id":133300296,"body_markdown":"What exactly would you like to insert and what is the location where you need to perform the insert operation?","body":"What exactly would you like to insert and what is the location where you need to perform the insert operation?"},{"owner":{"account_id":15504084,"reputation":3,"user_id":12823758,"display_name":"Venise Moises Joseph"},"score":0,"creation_date":1677231325,"post_id":75553460,"comment_id":133300943,"body_markdown":"Teachers\n- Accounts\n   - ID number \n     - Sections\n       -sectionName\n\nunder the sectionname, I wanted to add a subject child","body":"Teachers - Accounts    - ID number       - Sections        -sectionName  under the sectionname, I wanted to add a subject child"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677235826,"creation_date":1677235826,"answer_id":75555636,"question_id":75553460,"body_markdown":"If you want to add a new child in a structure that looks like this:\r\n\r\n    db\r\n    |\r\n    --- Teachers\r\n         |\r\n         --- Accounts\r\n              |\r\n              --- 0000-123455\r\n                   |\r\n                   --- Sections\r\n                        |\r\n                        --- BSIT201A\r\n                             |\r\n                             --- Students\r\n                             |    |\r\n                             |    --- studentName: &quot;Joseph&quot;\r\n                             |\r\n                             --- pSectionName: &quot;BSIT201A&quot;\r\n                             |\r\n                             --- subject: &quot;Subject Name&quot; //&#128072; Newly added.\r\n\r\nThen you have to create a reference that points to the `BSIT201A` node and call [updateChildren()][1], like in the following lines of code:\r\n\r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n\tDatabaseReference secNameRef = db.child(&quot;Teachers/Accounts/0000-123455/Sections/BSIT201A&quot;);\r\n    Map&lt;String, Object&gt; update = new HashMap&lt;&gt;();\r\n    update.put(&quot;subject&quot;, &quot;Subject Name&quot;);\r\n    secNameRef.updateChildren(update);\r\n\r\nI also recommend you attach a complete listener to the updateChildren() operation, to see if something goes wrong.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#updateChildren(java.util.Map%3Cjava.lang.String,java.lang.Object%3E)","title":"How to insert to Realtime Database under the child?","body":"<p>If you want to add a new child in a structure that looks like this:</p>\n<pre><code>db\n|\n--- Teachers\n     |\n     --- Accounts\n          |\n          --- 0000-123455\n               |\n               --- Sections\n                    |\n                    --- BSIT201A\n                         |\n                         --- Students\n                         |    |\n                         |    --- studentName: &quot;Joseph&quot;\n                         |\n                         --- pSectionName: &quot;BSIT201A&quot;\n                         |\n                         --- subject: &quot;Subject Name&quot; //👈 Newly added.\n</code></pre>\n<p>Then you have to create a reference that points to the <code>BSIT201A</code> node and call <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#updateChildren(java.util.Map%3Cjava.lang.String,java.lang.Object%3E)\" rel=\"nofollow noreferrer\">updateChildren()</a>, like in the following lines of code:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference secNameRef = db.child(&quot;Teachers/Accounts/0000-123455/Sections/BSIT201A&quot;);\nMap&lt;String, Object&gt; update = new HashMap&lt;&gt;();\nupdate.put(&quot;subject&quot;, &quot;Subject Name&quot;);\nsecNameRef.updateChildren(update);\n</code></pre>\n<p>I also recommend you attach a complete listener to the updateChildren() operation, to see if something goes wrong.</p>\n"}],"owner":{"account_id":15504084,"reputation":3,"user_id":12823758,"display_name":"Venise Moises Joseph"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75555636,"answer_count":1,"score":0,"last_activity_date":1677250800,"creation_date":1677222087,"question_id":75553460,"body_markdown":"![enter image description here](https://i.stack.imgur.com/drwMe.png)\r\n\r\nHow do I do the code in Java to create an instance like in the image? I am trying to create that but it only inserts under the Teacher parent.\r\n\r\nBelow is the code that I am trying to do.\r\n\r\n```\r\nFirebaseDatabase.getInstance().getReference(&quot;Teachers&quot;).child(&quot;Accounts&quot;)\r\n    .setValue(dataClass).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                Toast.makeText(AddSection.this, &quot;Section added successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                finish();\r\n            }\r\n        }\r\n    }).addOnFailureListener(new OnFailureListener() {\r\n        @Override\r\n        public void onFailure(@NonNull Exception e) {\r\n            Toast.makeText(AddSection.this, e.getMessage().toString(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n}\r\n```","title":"How to insert to Realtime Database under the child?","body":"<p><img src=\"https://i.stack.imgur.com/drwMe.png\" alt=\"enter image description here\" /></p>\n<p>How do I do the code in Java to create an instance like in the image? I am trying to create that but it only inserts under the Teacher parent.</p>\n<p>Below is the code that I am trying to do.</p>\n<pre><code>FirebaseDatabase.getInstance().getReference(&quot;Teachers&quot;).child(&quot;Accounts&quot;)\n    .setValue(dataClass).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n            if (task.isSuccessful()) {\n                Toast.makeText(AddSection.this, &quot;Section added successfully&quot;, Toast.LENGTH_SHORT).show();\n                finish();\n            }\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            Toast.makeText(AddSection.this, e.getMessage().toString(), Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android","network-programming","iot","qualcomm"],"owner":{"account_id":10748769,"reputation":1,"user_id":21281000,"display_name":"Mohammed Fawaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677250665,"creation_date":1677250623,"question_id":75558043,"body_markdown":"I am trying to change the internet mode from the 3G LTE Mode to 3G on my Qualcomm SoC running Android 9. I can do that through the settings but I wanna do that programmatically through the Android application using Java.\r\n\r\nI couldn&#39;t find any Android SDK API to do that. I read [here](https://stackoverflow.com/questions/31387789/how-can-i-turn-off-on-3g-4g-data-programmatically-on-android-5-0) that Google has called this service off since long time, not sure if there is anyway. ","title":"Moving from Enhanced 4G LTE Mode to 3G on Android 9 Programatically","body":"<p>I am trying to change the internet mode from the 3G LTE Mode to 3G on my Qualcomm SoC running Android 9. I can do that through the settings but I wanna do that programmatically through the Android application using Java.</p>\n<p>I couldn't find any Android SDK API to do that. I read <a href=\"https://stackoverflow.com/questions/31387789/how-can-i-turn-off-on-3g-4g-data-programmatically-on-android-5-0\">here</a> that Google has called this service off since long time, not sure if there is anyway.</p>\n"},{"tags":["java","junit","mocking","mockito"],"comments":[{"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"score":1,"creation_date":1423150193,"post_id":28347543,"comment_id":45039755,"body_markdown":"Mockito shouldn&#39;t reduce the number of tests. It makes if easier to write tests for classes that depend on other classes by mocking the behavior of the depending classes.","body":"Mockito shouldn&#39;t reduce the number of tests. It makes if easier to write tests for classes that depend on other classes by mocking the behavior of the depending classes."}],"answers":[{"tags":[],"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1423150175,"creation_date":1423150175,"answer_id":28347818,"question_id":28347543,"body_markdown":"This sounds like homework, but the advantage to using a mocking framework like Mockito is that it allows you to completely separate the functionality of each component when performing tests.  That is, you only need to test the interface presented by `A` and the possible scenarios (various inputs, etc) because you can control what the mocked `B` and `C` classes do.  \r\n\r\nFor example, if you need to test error handling in `A` you can simply have your mock `B` object throw an exception without having to actually generate the error condition in `B` that would have otherwise triggered the exception.\r\n\r\nThe short answer is because it gives you a greater degree of control over the class under test (and that class&#39;s dependencies) and allows you to simulate real-world conditions that would otherwise take a lot more code to generate.\r\n\r\n","title":"How does mockito help in reducing test cases","body":"<p>This sounds like homework, but the advantage to using a mocking framework like Mockito is that it allows you to completely separate the functionality of each component when performing tests.  That is, you only need to test the interface presented by <code>A</code> and the possible scenarios (various inputs, etc) because you can control what the mocked <code>B</code> and <code>C</code> classes do.  </p>\n\n<p>For example, if you need to test error handling in <code>A</code> you can simply have your mock <code>B</code> object throw an exception without having to actually generate the error condition in <code>B</code> that would have otherwise triggered the exception.</p>\n\n<p>The short answer is because it gives you a greater degree of control over the class under test (and that class's dependencies) and allows you to simulate real-world conditions that would otherwise take a lot more code to generate.</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299848,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1423150512,"creation_date":1423150512,"answer_id":28347948,"question_id":28347543,"body_markdown":"Mockito can help you isolate a class&#39; behavior without having to know the internal workings of a collaborating class.\r\n\r\nAssume `C` looks like this:\r\n\r\n    public class C {\r\n        private B b;\r\n    \r\n        public C (B b) {\r\n            this.b = b;\r\n        }\r\n    \r\n        public boolean isLargerThanTen() {\r\n            return b.getSomeCalculation() &gt; 10;\r\n        }\r\n    } \r\n\r\nNow suppose you&#39;re testing `C.isLargerThanTen()`. Without mocking, you&#39;ll have to know how exactly to construct `B` so that its `getSomeCalculation()` returns such a number. E.g.:\r\n\r\n    A a = new A();\r\n    a.setSomething(1);\r\n    a.setSomethingElse(2);\r\n    \r\n    B b = new B(a);\r\n    b.setAnotherThing(999);\r\n    b.setYetAnotherThing(888);\r\n    \r\n    C c = new C(b);\r\n    assertTrue(c.isLargerThanTen());\r\n\r\nThis is problematic on two fronts - first, it&#39;s cumbersome. Second, it makes you know the internal workings of `B` (and in this case, `A`, which `B` depends on too). If `B` were to change its implementation, `C`&#39;s test would break, even though there&#39;s nothing wrong with `C`, just with the (bad) way its test is set up. \r\n\r\nInstead, if you use mocking, you could just simulate the only part of the behavior you care about, without the hassle of understanding the internal implementation details of `B`:\r\n\r\n    B b = Mockito.mock(B.class);\r\n    Mockito.when(b.getSomeCalculation()).thenReturn(11);\r\n    \r\n    C c = new C(b);\r\n    assertTrue(c.isLargerThanTen());\r\n\r\n","title":"How does mockito help in reducing test cases","body":"<p>Mockito can help you isolate a class' behavior without having to know the internal workings of a collaborating class.</p>\n\n<p>Assume <code>C</code> looks like this:</p>\n\n<pre><code>public class C {\n    private B b;\n\n    public C (B b) {\n        this.b = b;\n    }\n\n    public boolean isLargerThanTen() {\n        return b.getSomeCalculation() &gt; 10;\n    }\n} \n</code></pre>\n\n<p>Now suppose you're testing <code>C.isLargerThanTen()</code>. Without mocking, you'll have to know how exactly to construct <code>B</code> so that its <code>getSomeCalculation()</code> returns such a number. E.g.:</p>\n\n<pre><code>A a = new A();\na.setSomething(1);\na.setSomethingElse(2);\n\nB b = new B(a);\nb.setAnotherThing(999);\nb.setYetAnotherThing(888);\n\nC c = new C(b);\nassertTrue(c.isLargerThanTen());\n</code></pre>\n\n<p>This is problematic on two fronts - first, it's cumbersome. Second, it makes you know the internal workings of <code>B</code> (and in this case, <code>A</code>, which <code>B</code> depends on too). If <code>B</code> were to change its implementation, <code>C</code>'s test would break, even though there's nothing wrong with <code>C</code>, just with the (bad) way its test is set up. </p>\n\n<p>Instead, if you use mocking, you could just simulate the only part of the behavior you care about, without the hassle of understanding the internal implementation details of <code>B</code>:</p>\n\n<pre><code>B b = Mockito.mock(B.class);\nMockito.when(b.getSomeCalculation()).thenReturn(11);\n\nC c = new C(b);\nassertTrue(c.isLargerThanTen());\n</code></pre>\n"}],"owner":{"account_id":1491459,"reputation":837,"user_id":1398461,"accept_rate":68,"display_name":"kuldeep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28347948,"answer_count":2,"score":2,"last_activity_date":1677250533,"creation_date":1423149391,"question_id":28347543,"body_markdown":"Assume you have three classes `A`, `B`, and `C` where `A` calls `B` and `B` calls `C` and every class has some number of internal states that influence the result given by the class&#39; methods. Describe how using Mockito can considerably reduce the number of test cases for class A.\r\n\r\nI am new to Mockito. I sort of got the concept of Mockito but stumbled upon the above question for which I do not have an answer.","title":"How does mockito help in reducing test cases","body":"<p>Assume you have three classes <code>A</code>, <code>B</code>, and <code>C</code> where <code>A</code> calls <code>B</code> and <code>B</code> calls <code>C</code> and every class has some number of internal states that influence the result given by the class' methods. Describe how using Mockito can considerably reduce the number of test cases for class A.</p>\n<p>I am new to Mockito. I sort of got the concept of Mockito but stumbled upon the above question for which I do not have an answer.</p>\n"},{"tags":["java","generics","enums"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1674046796,"post_id":75159582,"comment_id":132630619,"body_markdown":"Cast it to an enum class?","body":"Cast it to an enum class?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1674047200,"post_id":75159582,"comment_id":132630729,"body_markdown":"Try `return Enum.valueOf( (Class&lt;? extends Enum&gt;) type, value);`.   (From https://stackoverflow.com/a/4014381/681444 )","body":"Try <code>return Enum.valueOf( (Class&lt;? extends Enum&gt;) type, value);</code>.   (From <a href=\"https://stackoverflow.com/a/4014381/681444\">stackoverflow.com/a/4014381/681444</a> )"},{"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"score":0,"creation_date":1674047620,"post_id":75159582,"comment_id":132630866,"body_markdown":"@racraman Thanks, it works with casting to T before returning, and applying `@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })` to the method to get rid of warnings.","body":"@racraman Thanks, it works with casting to T before returning, and applying <code>@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })</code> to the method to get rid of warnings."}],"answers":[{"tags":[],"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677250408,"creation_date":1677250408,"answer_id":75558003,"question_id":75159582,"body_markdown":"```\r\n@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\nstatic &lt;T&gt; T parse(Class&lt;T&gt; type, String value) {\r\n    if (type.isEnum()) {\r\n        return (T) Enum.valueOf((Class&lt;? extends Enum&gt;) type, value);\r\n    }\r\n    return null; // unimplemented\r\n}\r\n```","title":"How do I apply Enum.valueOf(type, name) after checking type.isEnum()?","body":"<pre><code>@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\nstatic &lt;T&gt; T parse(Class&lt;T&gt; type, String value) {\n    if (type.isEnum()) {\n        return (T) Enum.valueOf((Class&lt;? extends Enum&gt;) type, value);\n    }\n    return null; // unimplemented\n}\n</code></pre>\n"}],"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75558003,"answer_count":1,"score":1,"last_activity_date":1677250408,"creation_date":1674046599,"question_id":75159582,"body_markdown":"\r\n    static &lt;T&gt; T parse(Class&lt;T&gt; type, String value) {\r\n        if (type.isEnum()) {\r\n            return Enum.valueOf(type, value);\r\n        }\r\n        return null; // unimplemented\r\n    }\r\n\r\nThis doesn&#39;t work, because \r\n\r\n&gt; The method valueOf(Class&lt;T extends Enum&lt;T&gt;&gt;, String) in the type Enum\r\n&gt; is not applicable for the arguments (Class&lt;T&gt;, String).\r\n\r\nHow do I get around this?","title":"How do I apply Enum.valueOf(type, name) after checking type.isEnum()?","body":"<pre><code>static &lt;T&gt; T parse(Class&lt;T&gt; type, String value) {\n    if (type.isEnum()) {\n        return Enum.valueOf(type, value);\n    }\n    return null; // unimplemented\n}\n</code></pre>\n<p>This doesn't work, because</p>\n<blockquote>\n<p>The method valueOf(Class&lt;T extends Enum&gt;, String) in the type Enum\nis not applicable for the arguments (Class, String).</p>\n</blockquote>\n<p>How do I get around this?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1677250401,"post_id":75557982,"comment_id":133306305,"body_markdown":"That approach has not worked in several years, for privacy and security reasons.","body":"That approach has not worked in several years, for privacy and security reasons."},{"owner":{"account_id":17390714,"reputation":1,"user_id":12601292,"display_name":"WEASELS"},"score":0,"creation_date":1677250757,"post_id":75557982,"comment_id":133306423,"body_markdown":"@CommonsWare damn.. do you know if there is any way to do this then?","body":"@CommonsWare damn.. do you know if there is any way to do this then?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1677251402,"post_id":75557982,"comment_id":133306637,"body_markdown":"In real time, I hope not, for privacy and security reasons.","body":"In real time, I hope not, for privacy and security reasons."}],"owner":{"account_id":17390714,"reputation":1,"user_id":12601292,"display_name":"WEASELS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677250316,"creation_date":1677250316,"question_id":75557982,"body_markdown":"im trying to check if a certain app is running or not but i dont seem to be able to. (Am i missing something obvious? im not too experienced with android so i might have missed something). \r\n\r\nin order to debug if it is working i wrote this in the onCreate (keep in mind this app is just a test and not an actual project so the code is running in a constant while loop):\r\n\r\n```\r\nActivityManager am = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\r\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; runningAppProcessInfo = am.getRunningAppProcesses();\r\n        while (true) {\r\n            Log.d(TAG, &quot;SIZE IS&quot; + runningAppProcessInfo.size());\r\n            runningAppProcessInfo = am.getRunningAppProcesses();\r\n        }\r\n```\r\n\r\nit gave a size of 1 which was my app, even if other apps are running - which is obviously not ideal.. any idea why? what am i doing wrong? thanks :)\r\n","title":"How do i check if an app is currently running?","body":"<p>im trying to check if a certain app is running or not but i dont seem to be able to. (Am i missing something obvious? im not too experienced with android so i might have missed something).</p>\n<p>in order to debug if it is working i wrote this in the onCreate (keep in mind this app is just a test and not an actual project so the code is running in a constant while loop):</p>\n<pre><code>ActivityManager am = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; runningAppProcessInfo = am.getRunningAppProcesses();\n        while (true) {\n            Log.d(TAG, &quot;SIZE IS&quot; + runningAppProcessInfo.size());\n            runningAppProcessInfo = am.getRunningAppProcesses();\n        }\n</code></pre>\n<p>it gave a size of 1 which was my app, even if other apps are running - which is obviously not ideal.. any idea why? what am i doing wrong? thanks :)</p>\n"},{"tags":["java","apache-spark-sql","lowercase","apache-spark-dataset","spark-java"],"comments":[{"owner":{"account_id":1476224,"reputation":31485,"user_id":1386551,"accept_rate":74,"display_name":"blackbishop"},"score":0,"creation_date":1676991192,"post_id":75521935,"comment_id":133245926,"body_markdown":"The same function is also available in java. I don&#39;t understand which difficulties you&#39;re facing exactly?","body":"The same function is also available in java. I don&#39;t understand which difficulties you&#39;re facing exactly?"},{"owner":{"account_id":11229395,"reputation":2092,"user_id":8237992,"display_name":"Monu"},"score":0,"creation_date":1676992178,"post_id":75521935,"comment_id":133246298,"body_markdown":"how can i use java stream to convert data to lower case instead column ?","body":"how can i use java stream to convert data to lower case instead column ?"},{"owner":{"account_id":1476224,"reputation":31485,"user_id":1386551,"accept_rate":74,"display_name":"blackbishop"},"score":0,"creation_date":1676992525,"post_id":75521935,"comment_id":133246428,"body_markdown":"Why do you want to use stream if you only need to lowercase the column `city`?","body":"Why do you want to use stream if you only need to lowercase the column <code>city</code>?"},{"owner":{"account_id":11229395,"reputation":2092,"user_id":8237992,"display_name":"Monu"},"score":0,"creation_date":1676992734,"post_id":75521935,"comment_id":133246491,"body_markdown":"I am not sure how can i change the colum to lower case without iterating ?","body":"I am not sure how can i change the colum to lower case without iterating ?"},{"owner":{"account_id":1476224,"reputation":31485,"user_id":1386551,"accept_rate":74,"display_name":"blackbishop"},"score":2,"creation_date":1676992916,"post_id":75521935,"comment_id":133246566,"body_markdown":"`import static org.apache.spark.sql.functions.lower;`  then updating the column in your dataframe: `df.withColumn(&quot;city&quot;, lower(df.col(&quot;city&quot;)))`","body":"<code>import static org.apache.spark.sql.functions.lower;</code>  then updating the column in your dataframe: <code>df.withColumn(&quot;city&quot;, lower(df.col(&quot;city&quot;)))</code>"},{"owner":{"account_id":11229395,"reputation":2092,"user_id":8237992,"display_name":"Monu"},"score":0,"creation_date":1676993196,"post_id":75521935,"comment_id":133246659,"body_markdown":"oh okay,  I was trying to import function as below which was giving an error.\n\n```import org.apache.spark.sql.functions.lower;```","body":"oh okay,  I was trying to import function as below which was giving an error.  <code>import org.apache.spark.sql.functions.lower;</code>"}],"answers":[{"tags":[],"owner":{"account_id":11229395,"reputation":2092,"user_id":8237992,"display_name":"Monu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677250187,"creation_date":1677250187,"answer_id":75557954,"question_id":75521935,"body_markdown":"incase someone is looking for answer. \r\nBelow is the solution as per suggestion by @blackbishop\r\n\r\n```\r\nimport static org.apache.spark.sql.functions.lower; \r\ndf=df.withColumn(&quot;city&quot;, lower(df.col(&quot;city&quot;)))\r\n```","title":"Convert a column of Spark dataframe to lowercase","body":"<p>incase someone is looking for answer.\nBelow is the solution as per suggestion by @blackbishop</p>\n<pre><code>import static org.apache.spark.sql.functions.lower; \ndf=df.withColumn(&quot;city&quot;, lower(df.col(&quot;city&quot;)))\n</code></pre>\n"}],"owner":{"account_id":11229395,"reputation":2092,"user_id":8237992,"display_name":"Monu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677250187,"creation_date":1676990057,"question_id":75521935,"body_markdown":"How to convert a column value in Spark dataframe to lowercase/uppercase in Java?\r\n\r\nFor example, below is the input dataframe:\r\n```none\r\nname | country | src        | city       | debit\r\n---------------------------------------------\r\n&quot;foo&quot;| &quot;NZ&quot;    | salary     | &quot;Auckland&quot; | 15.0\r\n&quot;bar&quot;| &quot;Aus&quot;   | investment | &quot;Melbourne&quot;| 12.5\r\n```\r\nI need convert the &#39;city&#39; column to lower case\r\n```none\r\nname | country | src        | city       | debit\r\n------------------------------------------------\r\n&quot;foo&quot;| &quot;NZ&quot;    | salary     | &quot;auckland&quot; | 15.0\r\n&quot;bar&quot;| &quot;Aus&quot;   | investment | &quot;melbourne&quot;| 12.5\r\n```\r\n\r\nI have found solutions in Scala and Python, but not in Java as below\r\n\r\n\r\n&lt;https://stackoverflow.com/questions/43500827/how-to-change-case-of-whole-column-to-lowercase&gt;\r\n\r\n\r\nIn java there is a solution to convert column names, but not its data.\r\n\r\n&lt;https://stackoverflow.com/questions/48675036/how-to-lower-the-case-of-column-names-of-a-data-frame-but-not-its-values&gt;\r\n\r\nHow can I convert column values to lowercase?","title":"Convert a column of Spark dataframe to lowercase","body":"<p>How to convert a column value in Spark dataframe to lowercase/uppercase in Java?</p>\n<p>For example, below is the input dataframe:</p>\n<pre class=\"lang-none prettyprint-override\"><code>name | country | src        | city       | debit\n---------------------------------------------\n&quot;foo&quot;| &quot;NZ&quot;    | salary     | &quot;Auckland&quot; | 15.0\n&quot;bar&quot;| &quot;Aus&quot;   | investment | &quot;Melbourne&quot;| 12.5\n</code></pre>\n<p>I need convert the 'city' column to lower case</p>\n<pre class=\"lang-none prettyprint-override\"><code>name | country | src        | city       | debit\n------------------------------------------------\n&quot;foo&quot;| &quot;NZ&quot;    | salary     | &quot;auckland&quot; | 15.0\n&quot;bar&quot;| &quot;Aus&quot;   | investment | &quot;melbourne&quot;| 12.5\n</code></pre>\n<p>I have found solutions in Scala and Python, but not in Java as below</p>\n<p><a href=\"https://stackoverflow.com/questions/43500827/how-to-change-case-of-whole-column-to-lowercase\">How to change case of whole column to lowercase?</a></p>\n<p>In java there is a solution to convert column names, but not its data.</p>\n<p><a href=\"https://stackoverflow.com/questions/48675036/how-to-lower-the-case-of-column-names-of-a-data-frame-but-not-its-values\">How to lower the case of column names of a data frame but not its values?</a></p>\n<p>How can I convert column values to lowercase?</p>\n"},{"tags":["java","android","kotlin","proguard"],"answers":[{"tags":[],"owner":{"account_id":1544480,"reputation":35685,"user_id":1438339,"accept_rate":75,"display_name":"Adam Johns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677250180,"creation_date":1677250180,"answer_id":75557950,"question_id":75552344,"body_markdown":"`-keepattributes Exceptions` fixed the issue.\r\n\r\nhttps://www.guardsquare.com/manual/configuration/attributes\r\n\r\n&gt; **Exceptions**\r\n&gt;\r\n&gt; Specifies the exceptions that a method may throw. Compilers\r\n&gt; may use this information to enforce catching them.\r\n\r\n","title":"keep @Throws kotlin annotation in proguard?","body":"<p><code>-keepattributes Exceptions</code> fixed the issue.</p>\n<p><a href=\"https://www.guardsquare.com/manual/configuration/attributes\" rel=\"nofollow noreferrer\">https://www.guardsquare.com/manual/configuration/attributes</a></p>\n<blockquote>\n<p><strong>Exceptions</strong></p>\n<p>Specifies the exceptions that a method may throw. Compilers\nmay use this information to enforce catching them.</p>\n</blockquote>\n"}],"owner":{"account_id":1544480,"reputation":35685,"user_id":1438339,"accept_rate":75,"display_name":"Adam Johns"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677250180,"creation_date":1677209004,"question_id":75552344,"body_markdown":"I&#39;m seeing the following compiler error in a client app (java) of my library (kotlin):\r\n\r\n```\r\nerror: exception MyCustomException is never thrown in body of corresponding try statement\r\n            catch (MyCustomException e)\r\n```\r\nBut I only see this error when the client app is consuming the release build of my library\r\n\r\nClient app:\r\n```\r\ntry {\r\n    myLibClassInstance.doSomething()\r\n} catch (MyCustomException e) {\r\n   // do stuff\r\n}\r\n```\r\n\r\nLibrary:\r\n```\r\nclass MyLibClass {\r\n\r\n    @Throws(MyCustomException::class)\r\n    fun doSomething() {\r\n        throw MyCustomException()\r\n    }\r\n}\r\n```\r\n\r\nThere is clearly a library method being called from the client app that is marked with `@Throws(MyCustomException::class)`. Further evidenced by the fact that this again only happens when consuming a release build of the library.\r\n\r\nSo my assumption here is that the `@Throws` annotation is being stripped out leaving the client java code to have no way of knowing its method call can throw a `MyCustomException`.\r\n\r\n**Is there a way to keep the `@Throws` annotation through proguard?** I&#39;ve already tried `-keepattributes *Annotation*` and `-keep class kotlin.**`, but neither worked.","title":"keep @Throws kotlin annotation in proguard?","body":"<p>I'm seeing the following compiler error in a client app (java) of my library (kotlin):</p>\n<pre><code>error: exception MyCustomException is never thrown in body of corresponding try statement\n            catch (MyCustomException e)\n</code></pre>\n<p>But I only see this error when the client app is consuming the release build of my library</p>\n<p>Client app:</p>\n<pre><code>try {\n    myLibClassInstance.doSomething()\n} catch (MyCustomException e) {\n   // do stuff\n}\n</code></pre>\n<p>Library:</p>\n<pre><code>class MyLibClass {\n\n    @Throws(MyCustomException::class)\n    fun doSomething() {\n        throw MyCustomException()\n    }\n}\n</code></pre>\n<p>There is clearly a library method being called from the client app that is marked with <code>@Throws(MyCustomException::class)</code>. Further evidenced by the fact that this again only happens when consuming a release build of the library.</p>\n<p>So my assumption here is that the <code>@Throws</code> annotation is being stripped out leaving the client java code to have no way of knowing its method call can throw a <code>MyCustomException</code>.</p>\n<p><strong>Is there a way to keep the <code>@Throws</code> annotation through proguard?</strong> I've already tried <code>-keepattributes *Annotation*</code> and <code>-keep class kotlin.**</code>, but neither worked.</p>\n"},{"tags":["java","maven","logging","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1677267641,"post_id":75557820,"comment_id":133310882,"body_markdown":"The missing class [`Log4jLoggerAdapter`](https://javadoc.io/static/org.slf4j/slf4j-log4j12/1.7.25/org/slf4j/impl/Log4jLoggerAdapter.html) is part of `log4j-slf4j12`. This means you didn&#39;t entirely exclude this artifact. Check with `mvn dependency:tree`.","body":"The missing class <a href=\"https://javadoc.io/static/org.slf4j/slf4j-log4j12/1.7.25/org/slf4j/impl/Log4jLoggerAdapter.html\" rel=\"nofollow noreferrer\"><code>Log4jLoggerAdapter</code></a> is part of <code>log4j-slf4j12</code>. This means you didn&#39;t entirely exclude this artifact. Check with <code>mvn dependency:tree</code>."}],"owner":{"account_id":27870143,"reputation":1,"user_id":21280848,"display_name":"pieere yu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677249411,"creation_date":1677249411,"question_id":75557820,"body_markdown":"log4j2 performs better, but the jar in my dependencies uses log4j, which causes warnings. Because it depends on slf4j-log4j12. So I follow documents: *https://logging.apache.org/log4j/2.x/manual/migration.html#Log4j1.2Bridge*\r\nThe slf4j-log4j12 dependency is excluded, and the following dependencies are added: When I run the program, the service in the package I depend on doesn&#39;t start, and I get an error:\r\n\r\n```\r\nCaused by: java.lang.ClassNotFoundException: org.slf4j.impl.Log4jLoggerAdapter\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:419)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n```\r\n\r\n```\r\n    &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n```\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.lmax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;disruptor&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\n** What should I do to make sure I&#39;m using log4j2 and still compatible with packaging-dependent log4j**","title":"when i use the Log4j 1.x bridge (log4j-1.2-api)，but Caused by: java.lang.ClassNotFoundException: org.slf4j.impl.Log4jLoggerAdapter","body":"<p>log4j2 performs better, but the jar in my dependencies uses log4j, which causes warnings. Because it depends on slf4j-log4j12. So I follow documents: <em><a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html#Log4j1.2Bridge\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/migration.html#Log4j1.2Bridge</a></em>\nThe slf4j-log4j12 dependency is excluded, and the following dependencies are added: When I run the program, the service in the package I depend on doesn't start, and I get an error:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.slf4j.impl.Log4jLoggerAdapter\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n</code></pre>\n<pre><code>    &lt;exclusion&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n</code></pre>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;${log4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.lmax&lt;/groupId&gt;\n            &lt;artifactId&gt;disruptor&lt;/artifactId&gt;\n            &lt;version&gt;3.4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>** What should I do to make sure I'm using log4j2 and still compatible with packaging-dependent log4j**</p>\n"},{"tags":["java","android","android-camerax"],"owner":{"account_id":2441308,"reputation":325,"user_id":2129757,"accept_rate":38,"display_name":"ENSATE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677249007,"creation_date":1675973844,"question_id":75403991,"body_markdown":"I want to record video using CameraX API, here is my code : \r\n  \r\n\r\n    public class MainActivityCameraX extends Activity implements LifecycleOwner{\r\n        private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture;\r\n        PreviewView previewView;\r\n        ProcessCameraProvider cameraProvider = null;\r\n        private VideoCapture videoCapture;\r\n    \r\n        private LifecycleRegistry mLifecycleRegistry;\r\n    \r\n        @NonNull\r\n        @Override\r\n        public Lifecycle getLifecycle() {\r\n            if (mLifecycleRegistry == null) {\r\n                mLifecycleRegistry = new LifecycleRegistry(this);\r\n                mLifecycleRegistry.markState(Lifecycle.State.CREATED);\r\n            }\r\n            return mLifecycleRegistry;\r\n        }\r\n    \r\n    \r\n        private Executor getExecutor() {\r\n            return ContextCompat.getMainExecutor(this);\r\n        }\r\n    \r\n        \r\n    \r\n    @SuppressLint(&quot;RestrictedApi&quot;)\r\n        private void startCameraX() {\r\n    \r\n            cameraProviderFuture = ProcessCameraProvider.getInstance(this);\r\n    \r\n            if(cameraProviderFuture == null){\r\n               \r\n            } else{\r\n           \r\n                cameraProviderFuture.addListener(() -&gt; {\r\n                    try {\r\n                        cameraProvider = cameraProviderFuture.get();\r\n    \r\n                        cameraProvider.unbindAll();\r\n                        CameraSelector cameraSelector = new CameraSelector.Builder()\r\n                                .requireLensFacing(CameraSelector.LENS_FACING_FRONT)\r\n                                .build();\r\n    \r\n                        Preview preview = new Preview.Builder()\r\n                                //.setTargetAspectRatio(AspectRatio.RATIO_16_9)\r\n                                .setTargetResolution(new Size(WIDTH,HEIGHT))\r\n                                .build();\r\n    \r\n                        preview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n    \r\n                                videoCapture = new VideoCapture.Builder()\r\n                                        .setCameraSelector(cameraSelector)\r\n                                        .setTargetResolution(new Size(3840, 2160))\r\n                                        .setTargetName(&quot;video/avc&quot;)\r\n                                        .setBitRate(10000000)\r\n                                        .setAudioBitRate(64000)\r\n                                        .setAudioSampleRate(44100)\r\n                                        .setAudioChannelCount(2)\r\n                                        .setVideoFrameRate(fps)\r\n                                        .build();\r\n    \r\n    \r\n                        //videoCapture = new VideoCaptureConfig().Builde\r\n    \r\n                        try {\r\n    \r\n                            //use UseCaseGroup to assign viewport to use cases\r\n                            UseCaseGroup useCaseGroup = new UseCaseGroup.Builder()\r\n                                    .addUseCase(preview)\r\n                                    .addUseCase(videoCapture)\r\n                                    .build();\r\n                            // Attach use cases to the camera with the same lifecycle owner\r\n                            Camera camera = cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, useCaseGroup);\r\n    \r\n                            camera.getCameraInfo().getCameraState().observe((LifecycleOwner) this, (state) -&gt; {\r\n                               \r\n                                if (state.getError() != null) {\r\n                                    \r\n                                } else{\r\n    \r\n                                }\r\n                            });\r\n    \r\n    \r\n                            // Connect the preview use case to the previewView\r\n                            preview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n    \r\n                            startRecording();\r\n    \r\n                        } catch (Exception e){\r\n                            e.printStackTrace();\r\n                        }\r\n    \r\n    \r\n    \r\n                        Log.d(&quot;&quot;+TAG,&quot;startCameraX  Finalized&quot;);\r\n    \r\n                    } catch (ExecutionException e) {\r\n                        e.printStackTrace();\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                }, getExecutor());\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onStart() {\r\n            super.onStart();\r\n            mLifecycleRegistry.markState(Lifecycle.State.STARTED);\r\n        }\r\n    \r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                    WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n    \r\n            setContentView(R.layout.activity_camerax);\r\n    \r\n            mLifecycleRegistry = new LifecycleRegistry(this);\r\n            mLifecycleRegistry.markState(Lifecycle.State.CREATED);\r\n    \r\n            previewView = findViewById(R.id.previewView);\r\n    \r\n    }\r\n    \r\n    @SuppressLint(&quot;RestrictedApi&quot;)\r\n        private boolean stopRecording(){\r\n    \r\n            try {\r\n                if(videoCapture == null){\r\n    \r\n                } else{\r\n                    if(isRecording){\r\n                        videoCapture.stopRecording();\r\n                        isRecording = false;\r\n    \r\n                        videoCapture = null;\r\n    \r\n                    } else{\r\n    \r\n                    }\r\n                }\r\n            } catch (Exception e){\r\n                e.printStackTrace();\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n    \r\n    @SuppressLint({&quot;MissingPermission&quot;, &quot;RestrictedApi&quot;})\r\n        private void startRecording() {\r\n    \r\n            if (videoCapture != null) {\r\n              \r\n                File outputFile = null;\r\n    \r\n                Date currentDate = new Date();\r\n                SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;);\r\n                String dateString = dateFormat.format(currentDate);\r\n    \r\n                outputFile = new File(Environment.getExternalStorageDirectory(),FOLDER+File.separator+dateString+&quot;.mp4&quot;);\r\n    \r\n                if(outputFile == null){\r\n                    \r\n                } else{\r\n                    \r\n                    videoCapture.startRecording(\r\n                            new VideoCapture.OutputFileOptions.Builder(outputFile).build(),\r\n                            getExecutor(),\r\n                            new VideoCapture.OnVideoSavedCallback() {\r\n                                @Override\r\n                                public void onVideoSaved(@NonNull VideoCapture.OutputFileResults outputFileResults) {\r\n                                 \r\n                                }\r\n    \r\n                                @Override\r\n                                public void onError(int videoCaptureError, @NonNull String message, @Nullable Throwable cause) {\r\n                                    \r\n                                }\r\n                            }\r\n                    );\r\n    \r\n                    isRecording = true;\r\n                }\r\n    \r\n            } else{\r\n                Log.d(&quot;&quot;+TAG, &quot;startRecording videoCapture null&quot;);\r\n            }\r\n        }\r\n\r\nWhen I stop the recording I get this errors :\r\nE/MPEG4Writer: Stop() called but track is not started or stopped\r\nI/VideoCapture: check Recording Result First Video Key Frame Write: false\r\nI/VideoCapture: The recording result has no key frame.\r\nI/VideoCapture: Delete file.\r\nI/VideoCapture: Video encode thread end.\r\nD/CameraInfo: videoCapture onError The file has no video key frame.","title":"CameraX stop failed the video has no key frame","body":"<p>I want to record video using CameraX API, here is my code :</p>\n<pre><code>public class MainActivityCameraX extends Activity implements LifecycleOwner{\n    private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture;\n    PreviewView previewView;\n    ProcessCameraProvider cameraProvider = null;\n    private VideoCapture videoCapture;\n\n    private LifecycleRegistry mLifecycleRegistry;\n\n    @NonNull\n    @Override\n    public Lifecycle getLifecycle() {\n        if (mLifecycleRegistry == null) {\n            mLifecycleRegistry = new LifecycleRegistry(this);\n            mLifecycleRegistry.markState(Lifecycle.State.CREATED);\n        }\n        return mLifecycleRegistry;\n    }\n\n\n    private Executor getExecutor() {\n        return ContextCompat.getMainExecutor(this);\n    }\n\n    \n\n@SuppressLint(&quot;RestrictedApi&quot;)\n    private void startCameraX() {\n\n        cameraProviderFuture = ProcessCameraProvider.getInstance(this);\n\n        if(cameraProviderFuture == null){\n           \n        } else{\n       \n            cameraProviderFuture.addListener(() -&gt; {\n                try {\n                    cameraProvider = cameraProviderFuture.get();\n\n                    cameraProvider.unbindAll();\n                    CameraSelector cameraSelector = new CameraSelector.Builder()\n                            .requireLensFacing(CameraSelector.LENS_FACING_FRONT)\n                            .build();\n\n                    Preview preview = new Preview.Builder()\n                            //.setTargetAspectRatio(AspectRatio.RATIO_16_9)\n                            .setTargetResolution(new Size(WIDTH,HEIGHT))\n                            .build();\n\n                    preview.setSurfaceProvider(previewView.getSurfaceProvider());\n\n                            videoCapture = new VideoCapture.Builder()\n                                    .setCameraSelector(cameraSelector)\n                                    .setTargetResolution(new Size(3840, 2160))\n                                    .setTargetName(&quot;video/avc&quot;)\n                                    .setBitRate(10000000)\n                                    .setAudioBitRate(64000)\n                                    .setAudioSampleRate(44100)\n                                    .setAudioChannelCount(2)\n                                    .setVideoFrameRate(fps)\n                                    .build();\n\n\n                    //videoCapture = new VideoCaptureConfig().Builde\n\n                    try {\n\n                        //use UseCaseGroup to assign viewport to use cases\n                        UseCaseGroup useCaseGroup = new UseCaseGroup.Builder()\n                                .addUseCase(preview)\n                                .addUseCase(videoCapture)\n                                .build();\n                        // Attach use cases to the camera with the same lifecycle owner\n                        Camera camera = cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, useCaseGroup);\n\n                        camera.getCameraInfo().getCameraState().observe((LifecycleOwner) this, (state) -&gt; {\n                           \n                            if (state.getError() != null) {\n                                \n                            } else{\n\n                            }\n                        });\n\n\n                        // Connect the preview use case to the previewView\n                        preview.setSurfaceProvider(previewView.getSurfaceProvider());\n\n                        startRecording();\n\n                    } catch (Exception e){\n                        e.printStackTrace();\n                    }\n\n\n\n                    Log.d(&quot;&quot;+TAG,&quot;startCameraX  Finalized&quot;);\n\n                } catch (ExecutionException e) {\n                    e.printStackTrace();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n            }, getExecutor());\n        }\n\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        mLifecycleRegistry.markState(Lifecycle.State.STARTED);\n    }\n\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n        setContentView(R.layout.activity_camerax);\n\n        mLifecycleRegistry = new LifecycleRegistry(this);\n        mLifecycleRegistry.markState(Lifecycle.State.CREATED);\n\n        previewView = findViewById(R.id.previewView);\n\n}\n\n@SuppressLint(&quot;RestrictedApi&quot;)\n    private boolean stopRecording(){\n\n        try {\n            if(videoCapture == null){\n\n            } else{\n                if(isRecording){\n                    videoCapture.stopRecording();\n                    isRecording = false;\n\n                    videoCapture = null;\n\n                } else{\n\n                }\n            }\n        } catch (Exception e){\n            e.printStackTrace();\n            return false;\n        }\n        return true;\n    }\n\n\n@SuppressLint({&quot;MissingPermission&quot;, &quot;RestrictedApi&quot;})\n    private void startRecording() {\n\n        if (videoCapture != null) {\n          \n            File outputFile = null;\n\n            Date currentDate = new Date();\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;);\n            String dateString = dateFormat.format(currentDate);\n\n            outputFile = new File(Environment.getExternalStorageDirectory(),FOLDER+File.separator+dateString+&quot;.mp4&quot;);\n\n            if(outputFile == null){\n                \n            } else{\n                \n                videoCapture.startRecording(\n                        new VideoCapture.OutputFileOptions.Builder(outputFile).build(),\n                        getExecutor(),\n                        new VideoCapture.OnVideoSavedCallback() {\n                            @Override\n                            public void onVideoSaved(@NonNull VideoCapture.OutputFileResults outputFileResults) {\n                             \n                            }\n\n                            @Override\n                            public void onError(int videoCaptureError, @NonNull String message, @Nullable Throwable cause) {\n                                \n                            }\n                        }\n                );\n\n                isRecording = true;\n            }\n\n        } else{\n            Log.d(&quot;&quot;+TAG, &quot;startRecording videoCapture null&quot;);\n        }\n    }\n</code></pre>\n<p>When I stop the recording I get this errors :\nE/MPEG4Writer: Stop() called but track is not started or stopped\nI/VideoCapture: check Recording Result First Video Key Frame Write: false\nI/VideoCapture: The recording result has no key frame.\nI/VideoCapture: Delete file.\nI/VideoCapture: Video encode thread end.\nD/CameraInfo: videoCapture onError The file has no video key frame.</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":1595031,"reputation":1442,"user_id":1477418,"display_name":"Islam Elbanna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677172376,"creation_date":1677168390,"answer_id":75547362,"question_id":75547131,"body_markdown":"To make a method generic you need the class to be generic as well\r\n\r\n```java\r\npublic class DemoManager&lt;T&gt; {\r\n\r\n T resultList;\r\n\r\n @SuppressWarnings(&quot;unchecked&quot;)\r\n public void executiveQuery(String sql) {\r\n    ...\r\n    resultList = (T) query.getResultList().get(0);\r\n    ...\r\n }\r\n}\r\n\r\n...\r\n\r\n// And you need to change the creation of the `DemoManager`\r\nDemoManager&lt;DemoEntity&gt; demoManager = new DemoManager&lt;&gt;(...);\r\ndemoManager.executiveQuery(sql);\r\nString testColumn = demoManager.getResultList().getTestColmn();\r\n```\r\n\r\nNoting that if there is a type mismatch during the casting it will throw an error at runtime.\r\n\r\n-----------------------------------------------------------------\r\nAnother option is to have the `executeQuery` as static and get the `session` and the generic class as parameters\r\n```java\r\npublic class DemoManager {\r\n\r\n @SuppressWarnings(&quot;unchecked&quot;)\r\n public &lt;T&gt; static T executiveQuery(Session session, String sql, Class&lt;T&gt; entity) {\r\n    transaction = session.beginTransaction();\r\n    query = session.createNativeQuery(sql, demoEntity);\r\n    return (entity) query.getResultList().get(0);\r\n }\r\n}\r\n\r\n...\r\n\r\nSession session = ...;\r\nDemoEntity entity = DemoManager.executiveQuery(session, sql, DemoEntity.class);\r\nString testColumn = entity.getTestColumn();\r\n```\r\n","title":"Is there a way to make a Java method that maps an SQL result list to an entity class generic?","body":"<p>To make a method generic you need the class to be generic as well</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DemoManager&lt;T&gt; {\n\n T resultList;\n\n @SuppressWarnings(&quot;unchecked&quot;)\n public void executiveQuery(String sql) {\n    ...\n    resultList = (T) query.getResultList().get(0);\n    ...\n }\n}\n\n...\n\n// And you need to change the creation of the `DemoManager`\nDemoManager&lt;DemoEntity&gt; demoManager = new DemoManager&lt;&gt;(...);\ndemoManager.executiveQuery(sql);\nString testColumn = demoManager.getResultList().getTestColmn();\n</code></pre>\n<p>Noting that if there is a type mismatch during the casting it will throw an error at runtime.</p>\n<hr />\n<p>Another option is to have the <code>executeQuery</code> as static and get the <code>session</code> and the generic class as parameters</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DemoManager {\n\n @SuppressWarnings(&quot;unchecked&quot;)\n public &lt;T&gt; static T executiveQuery(Session session, String sql, Class&lt;T&gt; entity) {\n    transaction = session.beginTransaction();\n    query = session.createNativeQuery(sql, demoEntity);\n    return (entity) query.getResultList().get(0);\n }\n}\n\n...\n\nSession session = ...;\nDemoEntity entity = DemoManager.executiveQuery(session, sql, DemoEntity.class);\nString testColumn = entity.getTestColumn();\n</code></pre>\n"}],"owner":{"account_id":7615640,"reputation":622,"user_id":5775158,"accept_rate":37,"display_name":"Testilla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75547362,"answer_count":1,"score":0,"last_activity_date":1677248912,"creation_date":1677167085,"question_id":75547131,"body_markdown":"I have this method that executes a native SQL query successfully. No issues. It maps the result list from the query to the relevant entity class:\r\n\r\n    @Data\r\n    public class DemoManager {\r\n    \r\n      Transaction transaction;\r\n      static Session session;\r\n      Query query;\r\n      DemoEntity demoResultList;\r\n    \r\n    \r\n      String url = &quot;...&quot;;\r\n      String username = &quot;...&quot;;\r\n      String password = &quot;...&quot;;\r\n      Class&lt;DemoEntity&gt; demoEntity = DemoEntity.class;\r\n    \r\n    \r\n      public void executiveQuery(String sql) {\r\n        session = Base.getSessionFactory(url, username, password, demoEntity).openSession();\r\n        transaction = session.beginTransaction();\r\n        query = session.createNativeQuery(sql, demoEntity);\r\n        demoResultList = (DemoEntity) query.getResultList().get(0);\r\n        session.close();\r\n      }\r\n\r\nNow, the problem. I want to make the `executeQuery()` method generic, so that when it is called, any entity class can be passed as an argument, instead of creating a new method whenever there is a new entity. To try achieve that, I tried this:\r\n\r\n    ...\r\n    \r\n    public static Class&lt;T&gt;  resultList;\r\n    Class&lt;T&gt; entity;\r\n    \r\n    ...\r\n    \r\n    public &lt;T&gt; void executiveQuery(String sql, Class&lt;T&gt; entity) {\r\n        session = Base.getSessionFactory(url, username, password, entity).openSession();\r\n        transaction = session.beginTransaction();\r\n        query = session.createNativeQuery(sql, entity);\r\n        resultList = (entity) query.getResultList().get(0); // the entity on this line could not be compiled\r\n        session.close();\r\n      }\r\n\r\n  I couldn&#39;t get that method to compile. How do I make the `executiveQuery()` generic to accept any entity class so that I can get my database column returned in `returnList` like this:\r\n\r\n    public String getTestColmn() {\r\n    return resultList.getTestId();\r\n  }\r\n\r\nAnd then call `executeQuery()` and pass any entity class to it, perhaps something like this:\r\n\r\n    public void callExecuteQuery(String sql, Class&lt;T&gt; entity) {\r\n        demoManager.executeQuery(sql, DemoEntity.class);\r\n      }\r\n\r\n\r\nWhat am I doing wrong?\r\n\r\n","title":"Is there a way to make a Java method that maps an SQL result list to an entity class generic?","body":"<p>I have this method that executes a native SQL query successfully. No issues. It maps the result list from the query to the relevant entity class:</p>\n<pre><code>@Data\npublic class DemoManager {\n\n  Transaction transaction;\n  static Session session;\n  Query query;\n  DemoEntity demoResultList;\n\n\n  String url = &quot;...&quot;;\n  String username = &quot;...&quot;;\n  String password = &quot;...&quot;;\n  Class&lt;DemoEntity&gt; demoEntity = DemoEntity.class;\n\n\n  public void executiveQuery(String sql) {\n    session = Base.getSessionFactory(url, username, password, demoEntity).openSession();\n    transaction = session.beginTransaction();\n    query = session.createNativeQuery(sql, demoEntity);\n    demoResultList = (DemoEntity) query.getResultList().get(0);\n    session.close();\n  }\n</code></pre>\n<p>Now, the problem. I want to make the <code>executeQuery()</code> method generic, so that when it is called, any entity class can be passed as an argument, instead of creating a new method whenever there is a new entity. To try achieve that, I tried this:</p>\n<pre><code>...\n\npublic static Class&lt;T&gt;  resultList;\nClass&lt;T&gt; entity;\n\n...\n\npublic &lt;T&gt; void executiveQuery(String sql, Class&lt;T&gt; entity) {\n    session = Base.getSessionFactory(url, username, password, entity).openSession();\n    transaction = session.beginTransaction();\n    query = session.createNativeQuery(sql, entity);\n    resultList = (entity) query.getResultList().get(0); // the entity on this line could not be compiled\n    session.close();\n  }\n</code></pre>\n<p>I couldn't get that method to compile. How do I make the <code>executiveQuery()</code> generic to accept any entity class so that I can get my database column returned in <code>returnList</code> like this:</p>\n<pre><code>public String getTestColmn() {\nreturn resultList.getTestId();\n</code></pre>\n<p>}</p>\n<p>And then call <code>executeQuery()</code> and pass any entity class to it, perhaps something like this:</p>\n<pre><code>public void callExecuteQuery(String sql, Class&lt;T&gt; entity) {\n    demoManager.executeQuery(sql, DemoEntity.class);\n  }\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","swing","jbutton"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1677164026,"post_id":75546423,"comment_id":133286989,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":16844168,"reputation":13,"user_id":12178800,"display_name":"Aydan Pronovost"},"score":0,"creation_date":1677165132,"post_id":75546423,"comment_id":133287431,"body_markdown":"@camickr Thanks! I hadn&#39;t realized that was how minimum size worked. The GridLayout worked much better.","body":"@camickr Thanks! I hadn&#39;t realized that was how minimum size worked. The GridLayout worked much better."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1677165491,"post_id":75546423,"comment_id":133287575,"body_markdown":"_GridLayout worked much better_ each layoutManager has its own specific behavior, please study the api doc to learn how they re/size their children","body":"<i>GridLayout worked much better</i> each layoutManager has its own specific behavior, please study the api doc to learn how they re/size their children"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1677165984,"post_id":75546423,"comment_id":133287747,"body_markdown":".. also have look at the good ol&#39; oracle layout tutorial: https://docs.oracle.com/javase/tutorial/uiswing/layout/","body":".. also have look at the good ol&#39; oracle layout tutorial: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1677257893,"post_id":75546423,"comment_id":133308569,"body_markdown":"you already know that you have to change the buttons&#39; max (__not__ the min) to unbounded .. what&#39;s left as the problem? btw: good to add an example - but .. reading a file to get data is not quite minimal - simply hard-code some values :)","body":"you already know that you have to change the buttons&#39; max (<b>not</b> the min) to unbounded .. what&#39;s left as the problem? btw: good to add an example - but .. reading a file to get data is not quite minimal - simply hard-code some values :)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1677258111,"post_id":75546423,"comment_id":133308622,"body_markdown":".. or maybe I don&#39;t quite understand the requirement (did it change during the edit?) - you might want to explain the _exact_ behavior you want to achieve, both initial and when resizing the window.","body":".. or maybe I don&#39;t quite understand the requirement (did it change during the edit?) - you might want to explain the <i>exact</i> behavior you want to achieve, both initial and when resizing the window."},{"owner":{"account_id":16844168,"reputation":13,"user_id":12178800,"display_name":"Aydan Pronovost"},"score":0,"creation_date":1677507198,"post_id":75546423,"comment_id":133345629,"body_markdown":"@kleopatra thanks for the advice. the requirement stayed the same, maybe I changed exactly how I implemented it when I edited my post, I&#39;m not sure. I&#39;ve found that I can either stick with BoxLayout and set the maximum size, or use GridLayout and just use the size it gives me","body":"@kleopatra thanks for the advice. the requirement stayed the same, maybe I changed exactly how I implemented it when I edited my post, I&#39;m not sure. I&#39;ve found that I can either stick with BoxLayout and set the maximum size, or use GridLayout and just use the size it gives me"}],"owner":{"account_id":16844168,"reputation":13,"user_id":12178800,"display_name":"Aydan Pronovost"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677248498,"creation_date":1677163766,"question_id":75546423,"body_markdown":"I&#39;m making a small calendar app to refamiliarize myself with Java Swing, and I&#39;m trying to use a `BoxLayout` to display the events I&#39;ve added in order. I&#39;ve got the events displaying one on top of the other, but I can&#39;t resize them.\r\n\r\nI have an `ArrayList` of JButtons called `events` and the size of the window is 400x400px. I have this code:\r\n\r\n*Edit: Updated the code below to be a proper example.*\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\nimport javax.swing.BoxLayout;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class DateDisplay extends JFrame {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew DateDisplay();\r\n\t}\r\n\t\r\n\tpublic DateDisplay() {\r\n\t\tFile file = new File(&quot;2.23.2023.txt&quot;);\r\n\t\tJPanel panel = new JPanel();\r\n\t\tpanel.setBackground(Color.WHITE);\r\n\t\tArrayList&lt;JButton&gt; events = new ArrayList&lt;JButton&gt;();\r\n\t\t\r\n\t\tif(file.exists()) {\r\n\t\t\tScanner reader;\r\n\t\t\ttry {\r\n\t\t\t\treader = new Scanner(file);\r\n\t\t\t\twhile(reader.hasNextLine()) {\r\n\t\t\t\t\tSystem.out.println(&quot;in&quot;);\r\n\t\t\t\t\tevents.add(new JButton(reader.nextLine()));\r\n\t\t\t\t\tpanel.add(events.get(events.size()-1));\r\n\t\t\t\t\treader.nextLine();\r\n\t\t\t\t}\r\n\t\t\t\treader.close();\r\n\t\t\t} catch (FileNotFoundException e2) {\r\n\t\t\t\te2.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor(JButton btn : events) {\r\n\t\t\tbtn.setMinimumSize(new Dimension(400, 40));\r\n\t\t\tpanel.add(btn);\r\n\t\t}\r\n\t\tpanel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));\r\n\t\tadd(panel);\r\n\t\tsetSize(400, 400);\r\n\t\tsetVisible(true);\r\n\t}\r\n}\r\n```\r\n\r\nAs far as I understand, `BoxLayout` should still honor `setMinimumSize()`, but it doesn&#39;t seem to be.\r\n\r\nButtons only being the minimum size to hold the text:\r\n\r\n[![https://i.stack.imgur.com/vpQVJ.png][1]][1]\r\n\r\n*Edit: This is the text of the file I&#39;ve been using for testing purposes.*\r\n```\r\nLaundry - 16:00\r\n\r\nGroceries - 17:00\r\n\r\n\r\n```\r\n\r\nIf the `BoxLayout` was still honoring `setMinimumSize()`, would these buttons not be the width of the frame, or have I done something else wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vpQVJ.png","title":"JButton will not resize using BoxLayout","body":"<p>I'm making a small calendar app to refamiliarize myself with Java Swing, and I'm trying to use a <code>BoxLayout</code> to display the events I've added in order. I've got the events displaying one on top of the other, but I can't resize them.</p>\n<p>I have an <code>ArrayList</code> of JButtons called <code>events</code> and the size of the window is 400x400px. I have this code:</p>\n<p><em>Edit: Updated the code below to be a proper example.</em></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\n\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\nimport javax.swing.BoxLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class DateDisplay extends JFrame {\n\n    public static void main(String[] args) {\n        new DateDisplay();\n    }\n    \n    public DateDisplay() {\n        File file = new File(&quot;2.23.2023.txt&quot;);\n        JPanel panel = new JPanel();\n        panel.setBackground(Color.WHITE);\n        ArrayList&lt;JButton&gt; events = new ArrayList&lt;JButton&gt;();\n        \n        if(file.exists()) {\n            Scanner reader;\n            try {\n                reader = new Scanner(file);\n                while(reader.hasNextLine()) {\n                    System.out.println(&quot;in&quot;);\n                    events.add(new JButton(reader.nextLine()));\n                    panel.add(events.get(events.size()-1));\n                    reader.nextLine();\n                }\n                reader.close();\n            } catch (FileNotFoundException e2) {\n                e2.printStackTrace();\n            }\n        }\n        \n        for(JButton btn : events) {\n            btn.setMinimumSize(new Dimension(400, 40));\n            panel.add(btn);\n        }\n        panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));\n        add(panel);\n        setSize(400, 400);\n        setVisible(true);\n    }\n}\n</code></pre>\n<p>As far as I understand, <code>BoxLayout</code> should still honor <code>setMinimumSize()</code>, but it doesn't seem to be.</p>\n<p>Buttons only being the minimum size to hold the text:</p>\n<p><a href=\"https://i.stack.imgur.com/vpQVJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vpQVJ.png\" alt=\"https://i.stack.imgur.com/vpQVJ.png\" /></a></p>\n<p><em>Edit: This is the text of the file I've been using for testing purposes.</em></p>\n<pre><code>Laundry - 16:00\n\nGroceries - 17:00\n\n\n</code></pre>\n<p>If the <code>BoxLayout</code> was still honoring <code>setMinimumSize()</code>, would these buttons not be the width of the frame, or have I done something else wrong?</p>\n"},{"tags":["java","annotations","osgi","osgi-bundle","equinox"],"comments":[{"owner":{"account_id":3488201,"reputation":927,"user_id":2918516,"accept_rate":100,"display_name":"Peter Kirschner"},"score":0,"creation_date":1677480885,"post_id":75557621,"comment_id":133338806,"body_markdown":"To actually analyse the issue, it would be easier if you share a github repo containing your example. There are many different files involved making the textual analysis and request of files for analysis difficult.","body":"To actually analyse the issue, it would be easier if you share a github repo containing your example. There are many different files involved making the textual analysis and request of files for analysis difficult."},{"owner":{"account_id":27869873,"reputation":1,"user_id":21280647,"display_name":"lennmex"},"score":0,"creation_date":1677753689,"post_id":75557621,"comment_id":133401688,"body_markdown":"Thanks for your answer. You&#39;re right. The problem was not in the code. I actually figured out, what it was. Eclipse never saved my Run Configurations, therefore whenever I started the program, they were set back to default. After I fixed that, everything worked fine.","body":"Thanks for your answer. You&#39;re right. The problem was not in the code. I actually figured out, what it was. Eclipse never saved my Run Configurations, therefore whenever I started the program, they were set back to default. After I fixed that, everything worked fine."}],"owner":{"account_id":27869873,"reputation":1,"user_id":21280647,"display_name":"lennmex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677248223,"creation_date":1677248223,"question_id":75557621,"body_markdown":"I&#39;m working with OSGi and Equinox for the first time and I&#39;m trying to build a simple project. It has two bundles:\r\n\r\n1. A service bundle with a simple MyService interface and an implementing MyServiceImpl class.\r\n2. A consumer bundle with consisting only a MyConsumer class.\r\n\r\nThe service interface looks like this:\r\n\r\n```\r\npackage test.service.osgi.service;\r\n\r\npublic interface MyService {\r\n\t\r\n\tpublic String getMessage();\r\n}\r\n```\r\n\r\nThe implementing class like this: \r\n\r\n\r\n```\r\npackage test.service.osgi.impl;\r\n\r\nimport org.osgi.service.component.annotations.Activate;\r\nimport org.osgi.service.component.annotations.Component;\r\nimport org.osgi.service.component.annotations.Deactivate;\r\n\r\nimport test.service.osgi.service.MyService;\r\n\r\n@Component (immediate = true, service = MyService.class)\r\npublic class MyServiceImpl implements MyService {\r\n\t\r\n\t@Activate\r\n\tpublic void activate() {\r\n\t\tSystem.out.println(&quot;MyService is active!&quot;);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String getMessage() {\r\n\t\t\r\n\t\treturn &quot;Hello world!&quot;;\r\n\t}\r\n\t\r\n\t@Deactivate\r\n\tpublic void deactivate() {\r\n\t\tSystem.out.println(&quot;MyService is no longer active.&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nThe consumer Class of the other bundle looks like this:\r\n\r\n\r\n```\r\npackage org.osgi.service.consumer;\r\n\r\nimport org.osgi.service.component.annotations.Activate;\r\nimport org.osgi.service.component.annotations.Component;\r\nimport org.osgi.service.component.annotations.Reference;\r\n\r\nimport test.service.osgi.service.MyService;\r\n\r\n@Component(immediate = true, service = MyConsumer.class)\r\npublic class MyConsumer {\r\n\r\n\t@Reference\r\n\tMyService myService;\r\n\t\r\n\t@Activate\r\n\tpublic void activate() {\r\n\t\tSystem.out.println(&quot;Activate executed&quot;);\r\n\t\tprintMessage();\r\n\t}\r\n\t\r\n\tpublic void printMessage() {\r\n\t\tif(myService != null ) {\r\n\t\t\tSystem.out.println(myService.getMessage());\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;MyService Reference is null!!!&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI configured both MANIFEST.MF and the Run configurations according to this tutorial: https://www.datainmotion.de/osgi-in-a-nutshell-launch-a-simple-service/ \r\n\r\nBut when I run the project there is no output on the console. it only says &quot;osgi&gt;&quot;.\r\nI can use the commands like &quot;ss&quot; and get &quot;Framework is launched&quot; with the list of the bundles, which are all in ACTIVE state. However, none of the strings from the printing commands appear. \r\n\r\nThe same applies to when I stop and restart the consumer bundle via console command. \r\n\r\nDoes anyone know what the problem is? \r\n\r\nI&#39;ve been trying to get this running for hours but whatever I do, nothing changes. ","title":"OSGi bundle doesn&#39;t start when using declarative service annotations","body":"<p>I'm working with OSGi and Equinox for the first time and I'm trying to build a simple project. It has two bundles:</p>\n<ol>\n<li>A service bundle with a simple MyService interface and an implementing MyServiceImpl class.</li>\n<li>A consumer bundle with consisting only a MyConsumer class.</li>\n</ol>\n<p>The service interface looks like this:</p>\n<pre><code>package test.service.osgi.service;\n\npublic interface MyService {\n    \n    public String getMessage();\n}\n</code></pre>\n<p>The implementing class like this:</p>\n<pre><code>package test.service.osgi.impl;\n\nimport org.osgi.service.component.annotations.Activate;\nimport org.osgi.service.component.annotations.Component;\nimport org.osgi.service.component.annotations.Deactivate;\n\nimport test.service.osgi.service.MyService;\n\n@Component (immediate = true, service = MyService.class)\npublic class MyServiceImpl implements MyService {\n    \n    @Activate\n    public void activate() {\n        System.out.println(&quot;MyService is active!&quot;);\n    }\n    \n    @Override\n    public String getMessage() {\n        \n        return &quot;Hello world!&quot;;\n    }\n    \n    @Deactivate\n    public void deactivate() {\n        System.out.println(&quot;MyService is no longer active.&quot;);\n    }\n}\n</code></pre>\n<p>The consumer Class of the other bundle looks like this:</p>\n<pre><code>package org.osgi.service.consumer;\n\nimport org.osgi.service.component.annotations.Activate;\nimport org.osgi.service.component.annotations.Component;\nimport org.osgi.service.component.annotations.Reference;\n\nimport test.service.osgi.service.MyService;\n\n@Component(immediate = true, service = MyConsumer.class)\npublic class MyConsumer {\n\n    @Reference\n    MyService myService;\n    \n    @Activate\n    public void activate() {\n        System.out.println(&quot;Activate executed&quot;);\n        printMessage();\n    }\n    \n    public void printMessage() {\n        if(myService != null ) {\n            System.out.println(myService.getMessage());\n        } else {\n            System.out.println(&quot;MyService Reference is null!!!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I configured both MANIFEST.MF and the Run configurations according to this tutorial: <a href=\"https://www.datainmotion.de/osgi-in-a-nutshell-launch-a-simple-service/\" rel=\"nofollow noreferrer\">https://www.datainmotion.de/osgi-in-a-nutshell-launch-a-simple-service/</a></p>\n<p>But when I run the project there is no output on the console. it only says &quot;osgi&gt;&quot;.\nI can use the commands like &quot;ss&quot; and get &quot;Framework is launched&quot; with the list of the bundles, which are all in ACTIVE state. However, none of the strings from the printing commands appear.</p>\n<p>The same applies to when I stop and restart the consumer bundle via console command.</p>\n<p>Does anyone know what the problem is?</p>\n<p>I've been trying to get this running for hours but whatever I do, nothing changes.</p>\n"},{"tags":["java","validation","path","uri","unc"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1677253099,"post_id":75557185,"comment_id":133307124,"body_markdown":"Do you want to check if the strings are valid path names, or do you also want to check whether the files exist?  `Path.of(s)` is enough to do the former.  `Files.exists(Path.of(s))` will do the latter.","body":"Do you want to check if the strings are valid path names, or do you also want to check whether the files exist?  <code>Path.of(s)</code> is enough to do the former.  <code>Files.exists(Path.of(s))</code> will do the latter."},{"owner":{"account_id":23947829,"reputation":1,"user_id":17939919,"display_name":"GeorgeT"},"score":0,"creation_date":1677524803,"post_id":75557185,"comment_id":133351297,"body_markdown":"Hi @VGR, I want to validate if the file exists , where the path contains a file otherwise I need to validate the path exists for  either  UNC or  local (mapped drives) folders/files .","body":"Hi @VGR, I want to validate if the file exists , where the path contains a file otherwise I need to validate the path exists for  either  UNC or  local (mapped drives) folders/files ."}],"owner":{"account_id":23947829,"reputation":1,"user_id":17939919,"display_name":"GeorgeT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677247821,"creation_date":1677245627,"question_id":75557185,"body_markdown":"I need to write in java a static method which validates both UNC paths and local files and folders (for mapped drives).\r\nThe method should validate strings like `&quot;\\\\\\\\computer\\\\folder\\\\file.txt&quot;` or `&quot;c:\\folder\\file.txt&quot;` or any other UNC accepted format.\r\nWhat is the best way to do that \r\n\r\nI tried to use `java.net.URI` class but that does not really validated UNC paths and local files but URI formats","title":"How to validate UNC paths and mapped folders paths in Java","body":"<p>I need to write in java a static method which validates both UNC paths and local files and folders (for mapped drives).\nThe method should validate strings like <code>&quot;\\\\\\\\computer\\\\folder\\\\file.txt&quot;</code> or <code>&quot;c:\\folder\\file.txt&quot;</code> or any other UNC accepted format.\nWhat is the best way to do that</p>\n<p>I tried to use <code>java.net.URI</code> class but that does not really validated UNC paths and local files but URI formats</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677247657,"creation_date":1677247657,"answer_id":75557529,"question_id":75557427,"body_markdown":"Short answer: No\r\n\r\nLong answer: The `query` parameter can only contain a DSL query, i.e. whatever goes into the `&quot;query&quot;: {...}` section of the search payload and that doesn&#39;t include `sort`, which can only be at the root level, as a sibling to `query`, or as a query string parameter in the URL.","title":"With the Java High Level API of Elasticsearch, can I ask for a sort order through the SearchSourceBuilder query parameter, instead of its sort method?","body":"<p>Short answer: No</p>\n<p>Long answer: The <code>query</code> parameter can only contain a DSL query, i.e. whatever goes into the <code>&quot;query&quot;: {...}</code> section of the search payload and that doesn't include <code>sort</code>, which can only be at the root level, as a sibling to <code>query</code>, or as a query string parameter in the URL.</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677247657,"creation_date":1677246948,"question_id":75557427,"body_markdown":"I see plenty of examples querying _Elasticsearch_ with some search requests such as:\r\n\r\n```java\r\nSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder()\r\n  .query(queryBuilder)\r\n  .sort(new FieldSortBuilder(&quot;age&quot;).order(SortOrder.DESC))\r\n  .size(size)\r\n  .from(page * size);\r\n```\r\n\r\nBut I have a need that the sort directive comes through the `query` parameter  \r\n(because our customer is telling us: I am the one who decide what I put in my query: if I would like some sorting of the results or not. And we are receiving from him his dsl query, only).\r\n\r\nDoes a way exist that allows to ask for a sort order to be chosen by the mean of the query content? ","title":"With the Java High Level API of Elasticsearch, can I ask for a sort order through the SearchSourceBuilder query parameter, instead of its sort method?","body":"<p>I see plenty of examples querying <em>Elasticsearch</em> with some search requests such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder()\n  .query(queryBuilder)\n  .sort(new FieldSortBuilder(&quot;age&quot;).order(SortOrder.DESC))\n  .size(size)\n  .from(page * size);\n</code></pre>\n<p>But I have a need that the sort directive comes through the <code>query</code> parameter<br />\n(because our customer is telling us: I am the one who decide what I put in my query: if I would like some sorting of the results or not. And we are receiving from him his dsl query, only).</p>\n<p>Does a way exist that allows to ask for a sort order to be chosen by the mean of the query content?</p>\n"},{"tags":["java","spring","rest","spring-mvc"],"comments":[{"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"score":1,"creation_date":1677247114,"post_id":75556813,"comment_id":133305357,"body_markdown":"please share application.yml or application.properties file content and also your configuration file","body":"please share application.yml or application.properties file content and also your configuration file"},{"owner":{"account_id":16379601,"reputation":85,"user_id":11830955,"display_name":"William Sharlaag"},"score":0,"creation_date":1677247482,"post_id":75556813,"comment_id":133305484,"body_markdown":"application.properties file is empty and in pom.xml i use the spring-boot-starter-web which is generated by Spring Initializr.","body":"application.properties file is empty and in pom.xml i use the spring-boot-starter-web which is generated by Spring Initializr."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677252584,"post_id":75556813,"comment_id":133306965,"body_markdown":"Spring Boot 2.x or 3.x ? Maven or Gradle ?","body":"Spring Boot 2.x or 3.x ? Maven or Gradle ?"},{"owner":{"account_id":16379601,"reputation":85,"user_id":11830955,"display_name":"William Sharlaag"},"score":0,"creation_date":1679472786,"post_id":75556813,"comment_id":133726353,"body_markdown":"Spring Boot version 3 with Maven","body":"Spring Boot version 3 with Maven"}],"answers":[{"tags":[],"owner":{"account_id":22878047,"reputation":16,"user_id":17020050,"display_name":"Ali Mnf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677247257,"creation_date":1677247161,"answer_id":75557461,"question_id":75556813,"body_markdown":"I test your code like the one below and get an answer\r\n\r\n```\r\n   @RequestMapping(value = &quot;/hello&quot;,method = RequestMethod.GET)\r\n   public @ResponseBody String hello() {\r\n        return &quot;Hello&quot;;\r\n    }\r\n```\r\n\r\ndoes your project have any context path?\r\n","title":"Access REST API in spring ends in 404 error","body":"<p>I test your code like the one below and get an answer</p>\n<pre><code>   @RequestMapping(value = &quot;/hello&quot;,method = RequestMethod.GET)\n   public @ResponseBody String hello() {\n        return &quot;Hello&quot;;\n    }\n</code></pre>\n<p>does your project have any context path?</p>\n"}],"owner":{"account_id":16379601,"reputation":85,"user_id":11830955,"display_name":"William Sharlaag"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677247257,"creation_date":1677243249,"question_id":75556813,"body_markdown":"I am currently building a REST API in spring. However, I am failing with a simple sample application. I have already read many articles and have tried a lot. Unfortunately without success...\r\n\r\n\r\nI think the problem with this is that the RestController is not found automatically.\r\n\r\n\r\nproject structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nRestdemoApplication (main):\r\n\r\n    package rest.restdemo;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class RestdemoApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(RestdemoApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nRestingController (RestController):\r\n\r\n\r\n    package rest.restdemo;\r\n\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    public class RestingController {\r\n        @RequestMapping(&quot;/hello&quot;)\r\n        String hello() {\r\n            return &quot;Hello&quot;;\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat I have already tried:\r\n- ComponentScan\r\n- changing basePackages and basePackageClasses\r\n- with Configure and CommandLineRunner\r\n- Beans\r\n- GetMapping\r\n- RestdemoApplication (main) defined as RestController (worked here!)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aJLr1.png\r\n  [2]: https://i.stack.imgur.com/CGFIa.png","title":"Access REST API in spring ends in 404 error","body":"<p>I am currently building a REST API in spring. However, I am failing with a simple sample application. I have already read many articles and have tried a lot. Unfortunately without success...</p>\n<p>I think the problem with this is that the RestController is not found automatically.</p>\n<p>project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/aJLr1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aJLr1.png\" alt=\"enter image description here\" /></a></p>\n<p>RestdemoApplication (main):</p>\n<pre><code>package rest.restdemo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class RestdemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(RestdemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>RestingController (RestController):</p>\n<pre><code>package rest.restdemo;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class RestingController {\n    @RequestMapping(&quot;/hello&quot;)\n    String hello() {\n        return &quot;Hello&quot;;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/CGFIa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CGFIa.png\" alt=\"enter image description here\" /></a></p>\n<p>What I have already tried:</p>\n<ul>\n<li>ComponentScan</li>\n<li>changing basePackages and basePackageClasses</li>\n<li>with Configure and CommandLineRunner</li>\n<li>Beans</li>\n<li>GetMapping</li>\n<li>RestdemoApplication (main) defined as RestController (worked here!)</li>\n</ul>\n"},{"tags":["java","docker","maven","jackson"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677246976,"creation_date":1677246976,"answer_id":75557432,"question_id":75556672,"body_markdown":"I believe the root cause is how azure sdk discovers versions of fasterxml:\r\n\r\n[JacksonVersion](https://github.com/Azure/azure-sdk-for-java/blame/b456b452cd762a4fa3c92a8bb8c08c367abc94ac/sdk/core/azure-core/src/main/java/com/azure/core/implementation/jackson/JacksonVersion.java#L44):\r\n\r\n```\r\nannotationsVersion = SemanticVersion.getPackageVersionForClass(&quot;com.fasterxml.jackson.annotation.JsonProperty&quot;);\r\ncoreVersion = SemanticVersion.getPackageVersionForClass(&quot;com.fasterxml.jackson.core.JsonGenerator&quot;);\r\ndatabindVersion = SemanticVersion.getPackageVersionForClass(&quot;com.fasterxml.jackson.databind.ObjectMapper&quot;);\r\nxmlVersion = SemanticVersion.getPackageVersionForClass(&quot;com.fasterxml.jackson.dataformat.xml.XmlMapper&quot;);\r\njsr310Version = SemanticVersion.getPackageVersionForClass(&quot;com.fasterxml.jackson.datatype.jsr310.JavaTimeModule&quot;);\r\ncheckVersion(annotationsVersion, ANNOTATIONS_PACKAGE_NAME);\r\ncheckVersion(coreVersion, CORE_PACKAGE_NAME);\r\ncheckVersion(databindVersion, DATABIND_PACKAGE_NAME);\r\ncheckVersion(xmlVersion, XML_PACKAGE_NAME);\r\ncheckVersion(jsr310Version, JSR310_PACKAGE_NAME);\r\nhelpString = formatHelpString();\r\nLOGGER.info(helpString);\r\n```\r\n\r\n[SemanticVersion](https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/core/azure-core/src/main/java/com/azure/core/implementation/SemanticVersion.java#L110):\r\n\r\n```\r\ntry (JarFile jar = new JarFile(clazz.getProtectionDomain().getCodeSource().getLocation().getFile())) {\r\n  Manifest manifest = jar.getManifest();\r\n  versionStr = manifest.getMainAttributes().getValue(&quot;Implementation-Version&quot;);\r\n  if (versionStr == null) {\r\n     versionStr = manifest.getMainAttributes().getValue(&quot;Bundle-Version&quot;);\r\n  }\r\n  return parse(versionStr);\r\n} catch (IOException | SecurityException ignored) {\r\n  return createInvalid();\r\n}\r\n```\r\n\r\nsince you are using `maven-shade-plugin` final jar does not contain information about actual version of fasterxml libraries anymore.\r\n\r\nyou need to either switch to new version of azure sdk - [they have changed discovery mechanism half year ago](https://github.com/Azure/azure-sdk-for-java/pull/29964) or stop suing `maven-shade-plugin`","title":"Maven/Docker- Parent artifact&#39;s version being used as dependency&#39;s version","body":"<p>I believe the root cause is how azure sdk discovers versions of fasterxml:</p>\n<p><a href=\"https://github.com/Azure/azure-sdk-for-java/blame/b456b452cd762a4fa3c92a8bb8c08c367abc94ac/sdk/core/azure-core/src/main/java/com/azure/core/implementation/jackson/JacksonVersion.java#L44\" rel=\"nofollow noreferrer\">JacksonVersion</a>:</p>\n<pre><code>annotationsVersion = SemanticVersion.getPackageVersionForClass(&quot;com.fasterxml.jackson.annotation.JsonProperty&quot;);\ncoreVersion = SemanticVersion.getPackageVersionForClass(&quot;com.fasterxml.jackson.core.JsonGenerator&quot;);\ndatabindVersion = SemanticVersion.getPackageVersionForClass(&quot;com.fasterxml.jackson.databind.ObjectMapper&quot;);\nxmlVersion = SemanticVersion.getPackageVersionForClass(&quot;com.fasterxml.jackson.dataformat.xml.XmlMapper&quot;);\njsr310Version = SemanticVersion.getPackageVersionForClass(&quot;com.fasterxml.jackson.datatype.jsr310.JavaTimeModule&quot;);\ncheckVersion(annotationsVersion, ANNOTATIONS_PACKAGE_NAME);\ncheckVersion(coreVersion, CORE_PACKAGE_NAME);\ncheckVersion(databindVersion, DATABIND_PACKAGE_NAME);\ncheckVersion(xmlVersion, XML_PACKAGE_NAME);\ncheckVersion(jsr310Version, JSR310_PACKAGE_NAME);\nhelpString = formatHelpString();\nLOGGER.info(helpString);\n</code></pre>\n<p><a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/core/azure-core/src/main/java/com/azure/core/implementation/SemanticVersion.java#L110\" rel=\"nofollow noreferrer\">SemanticVersion</a>:</p>\n<pre><code>try (JarFile jar = new JarFile(clazz.getProtectionDomain().getCodeSource().getLocation().getFile())) {\n  Manifest manifest = jar.getManifest();\n  versionStr = manifest.getMainAttributes().getValue(&quot;Implementation-Version&quot;);\n  if (versionStr == null) {\n     versionStr = manifest.getMainAttributes().getValue(&quot;Bundle-Version&quot;);\n  }\n  return parse(versionStr);\n} catch (IOException | SecurityException ignored) {\n  return createInvalid();\n}\n</code></pre>\n<p>since you are using <code>maven-shade-plugin</code> final jar does not contain information about actual version of fasterxml libraries anymore.</p>\n<p>you need to either switch to new version of azure sdk - <a href=\"https://github.com/Azure/azure-sdk-for-java/pull/29964\" rel=\"nofollow noreferrer\">they have changed discovery mechanism half year ago</a> or stop suing <code>maven-shade-plugin</code></p>\n"}],"owner":{"account_id":10023108,"reputation":127,"user_id":7412119,"display_name":"Enzo Nakamura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677246976,"creation_date":1677242370,"question_id":75556672,"body_markdown":"So I have a Maven project (delivery-record-importer) with the following pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;microservices&lt;/artifactId&gt;\r\n        &lt;groupId&gt;**company_group_id**&lt;/groupId&gt;\r\n        &lt;version&gt;1.1.5-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;delivery-record-importer&lt;/artifactId&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;main.class&gt;company.app.DeliveryRecordImporterApp&lt;/main.class&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;**company_group_id**&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                                    &lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\r\n                                &lt;/transformer&gt;\r\n                                &lt;transformer implementation=&quot;org.springframework.boot.maven.PropertiesMergingResourceTransformer&quot;&gt;\r\n                                    &lt;resource&gt;META-INF/spring.factories&lt;/resource&gt;\r\n                                &lt;/transformer&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                                    &lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\r\n                                &lt;/transformer&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot; /&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\r\n                                    &lt;manifestEntries&gt;\r\n                                        &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\r\n                                    &lt;/manifestEntries&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nThis project depends on another project called core, whose pom.xml is the following:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;alpha&lt;/artifactId&gt;\r\n            &lt;groupId&gt;**company_groupId**&lt;/groupId&gt;\r\n            &lt;version&gt;1.1.5-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n        &lt;name&gt;${project.artifactId}&lt;/name&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;scm&gt;\r\n            ...\r\n        &lt;/scm&gt;\r\n    \r\n        &lt;distributionManagement&gt;\r\n            ...\r\n        &lt;/distributionManagement&gt;\r\n        \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n              &lt;artifactId&gt;azure-spring-boot-bom&lt;/artifactId&gt;\r\n              &lt;version&gt;4.0.0&lt;/version&gt;\r\n              &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;goals&gt;deploy&lt;/goals&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-scm-provider-gitexe&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.12.0&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-scm-api&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.12.0&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nNotice that core has azure-storage-blob as dependency, and this azure dependency has a dependency on a library called **jackson** (version 2.13, which I can currently check with `mvn dependency:tree`). None of the pom.xmls in my project has a direct dependency on **jackson**. This project &quot;delivery-record-importer&quot; is run on a Docker container, from the following Dockerfile:\r\n\r\n    FROM osgeo/gdal\r\n    \r\n    RUN apt-get update &amp;&amp; apt-get install -y openjdk-11-jre-headless\r\n    \r\n    ENV LD_LIBRARY_PATH=/usr/share/java\r\n    \r\n    ARG MODULE\r\n    ARG DIR\r\n    WORKDIR /\r\n    COPY ${DIR}${MODULE}/target/${MODULE}*.jar app.jar\r\n    EXPOSE 5000\r\n    CMD java -jar -Djava.util.concurrent.ForkJoinPool.common.parallelism=8 -Dspring.profiles.active=docker app.jar\r\n\r\nBut the service on this container gives me the following error:  \r\n\r\n&gt; [2023-02-24 10:47:31.889] ERROR pool-4-thread-4        JacksonVersion \r\n&gt; Version &#39;**1.1.5-SNAPSHOT**&#39; of package &#39;jackson-annotations&#39; is not\r\n&gt; supported (older than earliest supported version - `2.10.0`), please\r\n&gt; upgrade. [2023-02-24 10:47:31.890] ERROR pool-4-thread-4       \r\n&gt; JacksonVersion                      Version &#39;**1.1.5-SNAPSHOT**&#39; of\r\n&gt; package &#39;jackson-core&#39; is not supported (older than earliest supported\r\n&gt; version - `2.10.0`), please upgrade. [2023-02-24 10:47:31.890] ERROR\r\n&gt; pool-4-thread-4        JacksonVersion                      Version\r\n&gt; &#39;**1.1.5-SNAPSHOT**&#39; of package &#39;jackson-databind&#39; is not supported (older\r\n&gt; than earliest supported version - `2.10.0`), please upgrade.\r\n&gt; [2023-02-24 10:47:31.890] ERROR pool-4-thread-4        JacksonVersion \r\n&gt; Version &#39;**1.1.5-SNAPSHOT**&#39; of package &#39;jackson-dataformat-xml&#39; is not\r\n&gt; supported (older than earliest supported version - `2.10.0`), please\r\n&gt; upgrade. [2023-02-24 10:47:31.890] ERROR pool-4-thread-4       \r\n&gt; JacksonVersion                      Version &#39;**1.1.5-SNAPSHOT**&#39; of\r\n&gt; package &#39;jackson-datatype-jsr310&#39; is not supported (older than\r\n&gt; earliest supported version - `2.10.0`), please upgrade.\r\n\r\nCan someone explain why **1.1.5-SNAPSHOT** is being indicated as the version of the jackson packages, when **1.1.5-SNAPSHOT** is clearly indicated in the pom.xmls as being the parent artifactId versions and the jackson&#39;s dependencies from azure are installed as 2.13?","title":"Maven/Docker- Parent artifact&#39;s version being used as dependency&#39;s version","body":"<p>So I have a Maven project (delivery-record-importer) with the following pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;parent&gt;\n    &lt;artifactId&gt;microservices&lt;/artifactId&gt;\n    &lt;groupId&gt;**company_group_id**&lt;/groupId&gt;\n    &lt;version&gt;1.1.5-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;artifactId&gt;delivery-record-importer&lt;/artifactId&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;main.class&gt;company.app.DeliveryRecordImporterApp&lt;/main.class&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;**company_group_id**&lt;/groupId&gt;\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;configuration&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                                &lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\n                            &lt;/transformer&gt;\n                            &lt;transformer implementation=&quot;org.springframework.boot.maven.PropertiesMergingResourceTransformer&quot;&gt;\n                                &lt;resource&gt;META-INF/spring.factories&lt;/resource&gt;\n                            &lt;/transformer&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                                &lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\n                            &lt;/transformer&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot; /&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\n                                &lt;manifestEntries&gt;\n                                    &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\n                                &lt;/manifestEntries&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>This project depends on another project called core, whose pom.xml is the following:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;alpha&lt;/artifactId&gt;\n        &lt;groupId&gt;**company_groupId**&lt;/groupId&gt;\n        &lt;version&gt;1.1.5-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\n    &lt;name&gt;${project.artifactId}&lt;/name&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;scm&gt;\n        ...\n    &lt;/scm&gt;\n\n    &lt;distributionManagement&gt;\n        ...\n    &lt;/distributionManagement&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n          &lt;artifactId&gt;azure-spring-boot-bom&lt;/artifactId&gt;\n          &lt;version&gt;4.0.0&lt;/version&gt;\n          &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;goals&gt;deploy&lt;/goals&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-scm-provider-gitexe&lt;/artifactId&gt;\n                        &lt;version&gt;1.12.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.apache.maven.scm&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-scm-api&lt;/artifactId&gt;\n                        &lt;version&gt;1.12.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Notice that core has azure-storage-blob as dependency, and this azure dependency has a dependency on a library called <strong>jackson</strong> (version 2.13, which I can currently check with <code>mvn dependency:tree</code>). None of the pom.xmls in my project has a direct dependency on <strong>jackson</strong>. This project &quot;delivery-record-importer&quot; is run on a Docker container, from the following Dockerfile:</p>\n<pre><code>FROM osgeo/gdal\n\nRUN apt-get update &amp;&amp; apt-get install -y openjdk-11-jre-headless\n\nENV LD_LIBRARY_PATH=/usr/share/java\n\nARG MODULE\nARG DIR\nWORKDIR /\nCOPY ${DIR}${MODULE}/target/${MODULE}*.jar app.jar\nEXPOSE 5000\nCMD java -jar -Djava.util.concurrent.ForkJoinPool.common.parallelism=8 -Dspring.profiles.active=docker app.jar\n</code></pre>\n<p>But the service on this container gives me the following error:</p>\n<blockquote>\n<p>[2023-02-24 10:47:31.889] ERROR pool-4-thread-4        JacksonVersion\nVersion '<strong>1.1.5-SNAPSHOT</strong>' of package 'jackson-annotations' is not\nsupported (older than earliest supported version - <code>2.10.0</code>), please\nupgrade. [2023-02-24 10:47:31.890] ERROR pool-4-thread-4<br />\nJacksonVersion                      Version '<strong>1.1.5-SNAPSHOT</strong>' of\npackage 'jackson-core' is not supported (older than earliest supported\nversion - <code>2.10.0</code>), please upgrade. [2023-02-24 10:47:31.890] ERROR\npool-4-thread-4        JacksonVersion                      Version\n'<strong>1.1.5-SNAPSHOT</strong>' of package 'jackson-databind' is not supported (older\nthan earliest supported version - <code>2.10.0</code>), please upgrade.\n[2023-02-24 10:47:31.890] ERROR pool-4-thread-4        JacksonVersion\nVersion '<strong>1.1.5-SNAPSHOT</strong>' of package 'jackson-dataformat-xml' is not\nsupported (older than earliest supported version - <code>2.10.0</code>), please\nupgrade. [2023-02-24 10:47:31.890] ERROR pool-4-thread-4<br />\nJacksonVersion                      Version '<strong>1.1.5-SNAPSHOT</strong>' of\npackage 'jackson-datatype-jsr310' is not supported (older than\nearliest supported version - <code>2.10.0</code>), please upgrade.</p>\n</blockquote>\n<p>Can someone explain why <strong>1.1.5-SNAPSHOT</strong> is being indicated as the version of the jackson packages, when <strong>1.1.5-SNAPSHOT</strong> is clearly indicated in the pom.xmls as being the parent artifactId versions and the jackson's dependencies from azure are installed as 2.13?</p>\n"},{"tags":["java","list","dictionary","hashmap"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1297339806,"post_id":4956844,"comment_id":5530122,"body_markdown":"possible duplicate of [How to store more than one string in a Map ?](http://stackoverflow.com/questions/3725703/how-to-store-more-than-one-string-in-a-map)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3725703/how-to-store-more-than-one-string-in-a-map\">How to store more than one string in a Map ?</a>"},{"owner":{"account_id":35564,"reputation":2881,"user_id":100777,"accept_rate":55,"display_name":"vidhya"},"score":0,"creation_date":1297345395,"post_id":4956844,"comment_id":5531286,"body_markdown":"Thanks friends...but i have some limitations in using MultiHashMap","body":"Thanks friends...but i have some limitations in using MultiHashMap"},{"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"score":0,"creation_date":1387196978,"post_id":4956844,"comment_id":30842751,"body_markdown":"Possible duplicate of [Map implementation with duplicate keys](http://stackoverflow.com/questions/1062960/map-implementation-with-duplicate-keys)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1062960/map-implementation-with-duplicate-keys\">Map implementation with duplicate keys</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1621890885,"creation_date":1297339661,"answer_id":4956865,"question_id":4956844,"body_markdown":"No, not just as a `HashMap`. You&#39;d basically need a `HashMap` from a key to a collection of values.\r\n\r\nIf you&#39;re happy to use external libraries, [Guava][1] has exactly this concept in [`Multimap`][2] with implementations such as [`ArrayListMultimap`][3], [`HashMultimap`][4], [`LinkedHashMultimap`][5] etc.\r\n\r\n    Multimap&lt;String, Integer&gt; nameToNumbers = HashMultimap.create();\r\n\r\n    System.out.println(nameToNumbers.put(&quot;Ann&quot;, 5)); // true\r\n    System.out.println(nameToNumbers.put(&quot;Ann&quot;, 5)); // false\r\n    nameToNumbers.put(&quot;Ann&quot;, 6);\r\n    nameToNumbers.put(&quot;Sam&quot;, 7);\r\n\r\n    System.out.println(nameToNumbers.size()); // 3\r\n    System.out.println(nameToNumbers.keySet().size()); // 2\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: http://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/collect/Multimap.html\r\n  [3]: http://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/collect/ArrayListMultimap.html\r\n  [4]: http://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/collect/HashMultimap.html\r\n  [5]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/LinkedHashMultimap.html","title":"HashMap with multiple values under the same key","body":"<p>No, not just as a <code>HashMap</code>. You'd basically need a <code>HashMap</code> from a key to a collection of values.</p>\n<p>If you're happy to use external libraries, <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> has exactly this concept in <a href=\"http://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/collect/Multimap.html\" rel=\"noreferrer\"><code>Multimap</code></a> with implementations such as <a href=\"http://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/collect/ArrayListMultimap.html\" rel=\"noreferrer\"><code>ArrayListMultimap</code></a>, <a href=\"http://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/collect/HashMultimap.html\" rel=\"noreferrer\"><code>HashMultimap</code></a>, <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/LinkedHashMultimap.html\" rel=\"noreferrer\"><code>LinkedHashMultimap</code></a> etc.</p>\n<pre><code>Multimap&lt;String, Integer&gt; nameToNumbers = HashMultimap.create();\n\nSystem.out.println(nameToNumbers.put(&quot;Ann&quot;, 5)); // true\nSystem.out.println(nameToNumbers.put(&quot;Ann&quot;, 5)); // false\nnameToNumbers.put(&quot;Ann&quot;, 6);\nnameToNumbers.put(&quot;Sam&quot;, 7);\n\nSystem.out.println(nameToNumbers.size()); // 3\nSystem.out.println(nameToNumbers.keySet().size()); // 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1298,"reputation":24599,"user_id":1730,"accept_rate":100,"display_name":"Nicolas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1297339676,"creation_date":1297339676,"answer_id":4956868,"question_id":4956844,"body_markdown":"Yes and no. The solution is to build a Wrapper clas for your values that contains the 2 (3, or more) values that correspond to your key.","title":"HashMap with multiple values under the same key","body":"<p>Yes and no. The solution is to build a Wrapper clas for your values that contains the 2 (3, or more) values that correspond to your key.</p>\n"},{"tags":[],"owner":{"account_id":30523,"reputation":37697,"user_id":83264,"accept_rate":100,"display_name":"Paul Ruane"},"down_vote_count":1,"up_vote_count":312,"is_accepted":true,"score":311,"last_activity_date":1659528585,"creation_date":1297339691,"answer_id":4956870,"question_id":4956844,"body_markdown":"You could:\r\n\r\n1. Use a map that has a list as the value. `Map&lt;KeyType, List&lt;ValueType&gt;&gt;`.\r\n2. Create a new wrapper class and place instances of this wrapper in the map. `Map&lt;KeyType, WrapperType&gt;`.\r\n3. Use a tuple like class (saves creating lots of wrappers). `Map&lt;KeyType, Tuple&lt;Value1Type, Value2Type&gt;&gt;`.\r\n4. Use mulitple maps side-by-side.\r\n\r\n---\r\n\r\nExamples\r\n---\r\n\r\n**1. Map with list as the value**\r\n\r\n    // create our map\r\n    Map&lt;String, List&lt;Person&gt;&gt; peopleByForename = new HashMap&lt;&gt;();    \r\n\r\n    // populate it\r\n    List&lt;Person&gt; people = new ArrayList&lt;&gt;();\r\n    people.add(new Person(&quot;Bob Smith&quot;));\r\n    people.add(new Person(&quot;Bob Jones&quot;));\r\n    peopleByForename.put(&quot;Bob&quot;, people);\r\n    \r\n    // read from it\r\n    List&lt;Person&gt; bobs = peopleByForename[&quot;Bob&quot;];\r\n    Person bob1 = bobs[0];\r\n    Person bob2 = bobs[1];\r\n\r\nThe disadvantage with this approach is that the list is not bound to exactly two values.\r\n\r\n**2. Using wrapper class**\r\n\r\n    // define our wrapper\r\n    class Wrapper {\r\n        public Wrapper(Person person1, Person person2) {\r\n           this.person1 = person1;\r\n           this.person2 = person2;\r\n        }\r\n\r\n        public Person getPerson1() { return this.person1; }\r\n        public Person getPerson2() { return this.person2; }\r\n\r\n        private Person person1;\r\n        private Person person2;\r\n    }\r\n\r\n    // create our map\r\n    Map&lt;String, Wrapper&gt; peopleByForename = new HashMap&lt;&gt;();\r\n\r\n    // populate it\r\n    peopleByForename.put(&quot;Bob&quot;, new Wrapper(new Person(&quot;Bob Smith&quot;),\r\n                                            new Person(&quot;Bob Jones&quot;));\r\n\r\n    // read from it\r\n    Wrapper bobs = peopleByForename.get(&quot;Bob&quot;);\r\n    Person bob1 = bobs.getPerson1();\r\n    Person bob2 = bobs.getPerson2();\r\n\r\nThe disadvantage to this approach is that you have to write a lot of boiler-plate code for all of these very simple container classes.\r\n\r\n**3. Using a tuple**\r\n\r\n    // you&#39;ll have to write or download a Tuple class in Java, (.NET ships with one)\r\n\r\n    // create our map\r\n    Map&lt;String, Tuple2&lt;Person, Person&gt; peopleByForename = new HashMap&lt;&gt;();\r\n\r\n    // populate it\r\n    peopleByForename.put(&quot;Bob&quot;, new Tuple2(new Person(&quot;Bob Smith&quot;,\r\n                                           new Person(&quot;Bob Jones&quot;));\r\n\r\n    // read from it\r\n    Tuple&lt;Person, Person&gt; bobs = peopleByForename[&quot;Bob&quot;];\r\n    Person bob1 = bobs.Item1;\r\n    Person bob2 = bobs.Item2;\r\n\r\nThis is the best solution in my opinion.\r\n\r\n**4. Multiple maps**\r\n\r\n    // create our maps\r\n    Map&lt;String, Person&gt; firstPersonByForename = new HashMap&lt;&gt;();\r\n    Map&lt;String, Person&gt; secondPersonByForename = new HashMap&lt;&gt;();\r\n\r\n    // populate them\r\n    firstPersonByForename.put(&quot;Bob&quot;, new Person(&quot;Bob Smith&quot;));\r\n    secondPersonByForename.put(&quot;Bob&quot;, new Person(&quot;Bob Jones&quot;));\r\n\r\n    // read from them\r\n    Person bob1 = firstPersonByForename[&quot;Bob&quot;];\r\n    Person bob2 = secondPersonByForename[&quot;Bob&quot;];\r\n\r\nThe disadvantage of this solution is that it&#39;s not obvious that the two maps are related, a programmatic error could see the two maps get out of sync.","title":"HashMap with multiple values under the same key","body":"<p>You could:</p>\n<ol>\n<li>Use a map that has a list as the value. <code>Map&lt;KeyType, List&lt;ValueType&gt;&gt;</code>.</li>\n<li>Create a new wrapper class and place instances of this wrapper in the map. <code>Map&lt;KeyType, WrapperType&gt;</code>.</li>\n<li>Use a tuple like class (saves creating lots of wrappers). <code>Map&lt;KeyType, Tuple&lt;Value1Type, Value2Type&gt;&gt;</code>.</li>\n<li>Use mulitple maps side-by-side.</li>\n</ol>\n<hr />\n<h2>Examples</h2>\n<p><strong>1. Map with list as the value</strong></p>\n<pre><code>// create our map\nMap&lt;String, List&lt;Person&gt;&gt; peopleByForename = new HashMap&lt;&gt;();    \n\n// populate it\nList&lt;Person&gt; people = new ArrayList&lt;&gt;();\npeople.add(new Person(&quot;Bob Smith&quot;));\npeople.add(new Person(&quot;Bob Jones&quot;));\npeopleByForename.put(&quot;Bob&quot;, people);\n\n// read from it\nList&lt;Person&gt; bobs = peopleByForename[&quot;Bob&quot;];\nPerson bob1 = bobs[0];\nPerson bob2 = bobs[1];\n</code></pre>\n<p>The disadvantage with this approach is that the list is not bound to exactly two values.</p>\n<p><strong>2. Using wrapper class</strong></p>\n<pre><code>// define our wrapper\nclass Wrapper {\n    public Wrapper(Person person1, Person person2) {\n       this.person1 = person1;\n       this.person2 = person2;\n    }\n\n    public Person getPerson1() { return this.person1; }\n    public Person getPerson2() { return this.person2; }\n\n    private Person person1;\n    private Person person2;\n}\n\n// create our map\nMap&lt;String, Wrapper&gt; peopleByForename = new HashMap&lt;&gt;();\n\n// populate it\npeopleByForename.put(&quot;Bob&quot;, new Wrapper(new Person(&quot;Bob Smith&quot;),\n                                        new Person(&quot;Bob Jones&quot;));\n\n// read from it\nWrapper bobs = peopleByForename.get(&quot;Bob&quot;);\nPerson bob1 = bobs.getPerson1();\nPerson bob2 = bobs.getPerson2();\n</code></pre>\n<p>The disadvantage to this approach is that you have to write a lot of boiler-plate code for all of these very simple container classes.</p>\n<p><strong>3. Using a tuple</strong></p>\n<pre><code>// you'll have to write or download a Tuple class in Java, (.NET ships with one)\n\n// create our map\nMap&lt;String, Tuple2&lt;Person, Person&gt; peopleByForename = new HashMap&lt;&gt;();\n\n// populate it\npeopleByForename.put(&quot;Bob&quot;, new Tuple2(new Person(&quot;Bob Smith&quot;,\n                                       new Person(&quot;Bob Jones&quot;));\n\n// read from it\nTuple&lt;Person, Person&gt; bobs = peopleByForename[&quot;Bob&quot;];\nPerson bob1 = bobs.Item1;\nPerson bob2 = bobs.Item2;\n</code></pre>\n<p>This is the best solution in my opinion.</p>\n<p><strong>4. Multiple maps</strong></p>\n<pre><code>// create our maps\nMap&lt;String, Person&gt; firstPersonByForename = new HashMap&lt;&gt;();\nMap&lt;String, Person&gt; secondPersonByForename = new HashMap&lt;&gt;();\n\n// populate them\nfirstPersonByForename.put(&quot;Bob&quot;, new Person(&quot;Bob Smith&quot;));\nsecondPersonByForename.put(&quot;Bob&quot;, new Person(&quot;Bob Jones&quot;));\n\n// read from them\nPerson bob1 = firstPersonByForename[&quot;Bob&quot;];\nPerson bob2 = secondPersonByForename[&quot;Bob&quot;];\n</code></pre>\n<p>The disadvantage of this solution is that it's not obvious that the two maps are related, a programmatic error could see the two maps get out of sync.</p>\n"},{"tags":[],"owner":{"account_id":217137,"reputation":37872,"user_id":472792,"accept_rate":50,"display_name":"Arjan Tijms"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1297339706,"creation_date":1297339706,"answer_id":4956874,"question_id":4956844,"body_markdown":"Yes, this is frequently called a ``multimap``.\r\n\r\nSee: http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/Multimap.html","title":"HashMap with multiple values under the same key","body":"<p>Yes, this is frequently called a <code>multimap</code>.</p>\n\n<p>See: <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/Multimap.html\" rel=\"nofollow\">http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/Multimap.html</a></p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1297339726,"creation_date":1297339726,"answer_id":4956879,"question_id":4956844,"body_markdown":"Take a look at `Multimap` from the guava-libraries and its implementation - &lt;a href=&quot;https://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/HashMultimap.html&quot;&gt;`HashMultimap`&lt;/a&gt;\r\n\r\n&gt; A collection similar to a Map, but which may associate multiple values with a single key. If you call put(K, V) twice, with the same key but different values, the multimap contains mappings from the key to both values. ","title":"HashMap with multiple values under the same key","body":"<p>Take a look at <code>Multimap</code> from the guava-libraries and its implementation - <a href=\"https://guava-libraries.googlecode.com/svn/tags/release03/javadoc/com/google/common/collect/HashMultimap.html\" rel=\"noreferrer\"><code>HashMultimap</code></a></p>\n\n<blockquote>\n  <p>A collection similar to a Map, but which may associate multiple values with a single key. If you call put(K, V) twice, with the same key but different values, the multimap contains mappings from the key to both values. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3181592,"reputation":1,"user_id":2688154,"display_name":"Dhruva Mistry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392789447,"creation_date":1392787837,"answer_id":21871888,"question_id":4956844,"body_markdown":"I could not post a reply on Paul&#39;s comment so I am creating new comment for Vidhya here:\r\n\r\nWrapper will be a `SuperClass` for the two classes which we want to store as a value.\r\n\r\nand inside wrapper class, we can put the associations as the instance variable objects for the two class objects.\r\n\r\ne.g.\r\n\r\n    class MyWrapper {\r\n\r\n     Class1 class1obj = new Class1();\r\n     Class2 class2obj = new Class2();\r\n    ...\r\n    }\r\n\r\n\r\nand in **HashMap** we can put in this way,\r\n\r\n    Map&lt;KeyObject, WrapperObject&gt; \r\n\r\n**WrapperObj** will have class variables: `class1Obj, class2Obj`","title":"HashMap with multiple values under the same key","body":"<p>I could not post a reply on Paul's comment so I am creating new comment for Vidhya here:</p>\n\n<p>Wrapper will be a <code>SuperClass</code> for the two classes which we want to store as a value.</p>\n\n<p>and inside wrapper class, we can put the associations as the instance variable objects for the two class objects.</p>\n\n<p>e.g.</p>\n\n<pre><code>class MyWrapper {\n\n Class1 class1obj = new Class1();\n Class2 class2obj = new Class2();\n...\n}\n</code></pre>\n\n<p>and in <strong>HashMap</strong> we can put in this way,</p>\n\n<pre><code>Map&lt;KeyObject, WrapperObject&gt; \n</code></pre>\n\n<p><strong>WrapperObj</strong> will have class variables: <code>class1Obj, class2Obj</code></p>\n"},{"tags":[],"owner":{"account_id":108783,"reputation":8550,"user_id":1399567,"accept_rate":100,"display_name":"Matthew Steven Monkan"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1489461537,"creation_date":1395960176,"answer_id":22700777,"question_id":4956844,"body_markdown":"Another nice choice is to use [MultiValuedMap][1] from Apache Commons. Take a look at the **All Known Implementing Classes** at the top of the page for specialized implementations.\r\n\r\nExample:\r\n\r\n    HashMap&lt;K, ArrayList&lt;String&gt;&gt; map = new HashMap&lt;K, ArrayList&lt;String&gt;&gt;()\r\n\r\ncould be replaced with\r\n\r\n    MultiValuedMap&lt;K, String&gt; map = new MultiValuedHashMap&lt;K, String&gt;();\r\n\r\nSo,\r\n\r\n    map.put(key, &quot;A&quot;);\r\n    map.put(key, &quot;B&quot;);\r\n    map.put(key, &quot;C&quot;);\r\n\r\n    Collection&lt;String&gt; coll = map.get(key);\r\n\r\nwould result in collection `coll` containing &quot;A&quot;, &quot;B&quot;, and &quot;C&quot;.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiValuedMap.html","title":"HashMap with multiple values under the same key","body":"<p>Another nice choice is to use <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiValuedMap.html\" rel=\"noreferrer\">MultiValuedMap</a> from Apache Commons. Take a look at the <strong>All Known Implementing Classes</strong> at the top of the page for specialized implementations.</p>\n\n<p>Example:</p>\n\n<pre><code>HashMap&lt;K, ArrayList&lt;String&gt;&gt; map = new HashMap&lt;K, ArrayList&lt;String&gt;&gt;()\n</code></pre>\n\n<p>could be replaced with</p>\n\n<pre><code>MultiValuedMap&lt;K, String&gt; map = new MultiValuedHashMap&lt;K, String&gt;();\n</code></pre>\n\n<p>So,</p>\n\n<pre><code>map.put(key, \"A\");\nmap.put(key, \"B\");\nmap.put(key, \"C\");\n\nCollection&lt;String&gt; coll = map.get(key);\n</code></pre>\n\n<p>would result in collection <code>coll</code> containing \"A\", \"B\", and \"C\".</p>\n"},{"tags":[],"owner":{"account_id":2217558,"reputation":2569,"user_id":1969874,"display_name":"Sudarshan_SMD"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1435126900,"creation_date":1435126900,"answer_id":31019045,"question_id":4956844,"body_markdown":"I use `Map&lt;KeyType, Object[]&gt;` for associating multiple values with a key in a Map. This way, I can store multiple values of different types associated with a key. You have to take care by maintaining proper order of inserting and retrieving from Object[].\r\n\r\nExample:\r\nConsider, we want to store Student information. Key is id, while we would like to store name, address and email associated to the student.\r\n\r\n           //To make entry into Map\r\n            Map&lt;Integer, String[]&gt; studenMap = new HashMap&lt;Integer, String[]&gt;();\r\n            String[] studentInformationArray = new String[]{&quot;name&quot;, &quot;address&quot;, &quot;email&quot;};\r\n            int studenId = 1;\r\n            studenMap.put(studenId, studentInformationArray);\r\n            \r\n            //To retrieve values from Map\r\n            String name = studenMap.get(studenId)[1];\r\n            String address = studenMap.get(studenId)[2];\r\n            String email = studenMap.get(studenId)[3];","title":"HashMap with multiple values under the same key","body":"<p>I use <code>Map&lt;KeyType, Object[]&gt;</code> for associating multiple values with a key in a Map. This way, I can store multiple values of different types associated with a key. You have to take care by maintaining proper order of inserting and retrieving from Object[].</p>\n\n<p>Example:\nConsider, we want to store Student information. Key is id, while we would like to store name, address and email associated to the student.</p>\n\n<pre><code>       //To make entry into Map\n        Map&lt;Integer, String[]&gt; studenMap = new HashMap&lt;Integer, String[]&gt;();\n        String[] studentInformationArray = new String[]{\"name\", \"address\", \"email\"};\n        int studenId = 1;\n        studenMap.put(studenId, studentInformationArray);\n\n        //To retrieve values from Map\n        String name = studenMap.get(studenId)[1];\n        String address = studenMap.get(studenId)[2];\n        String email = studenMap.get(studenId)[3];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6549220,"reputation":1349,"user_id":5064153,"accept_rate":75,"display_name":"Janarthanan Ramu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1436444029,"creation_date":1436444029,"answer_id":31317169,"question_id":4956844,"body_markdown":"    HashMap&lt;Integer,ArrayList&lt;String&gt;&gt; map = new    HashMap&lt;Integer,ArrayList&lt;String&gt;&gt;();\r\n    \t\t\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    list.add(&quot;abc&quot;);\r\n    list.add(&quot;xyz&quot;);\r\n    map.put(100,list);","title":"HashMap with multiple values under the same key","body":"<pre><code>HashMap&lt;Integer,ArrayList&lt;String&gt;&gt; map = new    HashMap&lt;Integer,ArrayList&lt;String&gt;&gt;();\n\nArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(\"abc\");\nlist.add(\"xyz\");\nmap.put(100,list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6816832,"reputation":222,"user_id":5245215,"display_name":"Veiga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462217549,"creation_date":1462217549,"answer_id":36990254,"question_id":4956844,"body_markdown":"You can do it implicitly.\r\n\r\n    // Create the map. There is no restriction to the size that the array String can have\r\n    HashMap&lt;Integer, String[]&gt; map = new HashMap&lt;Integer, String[]&gt;();\r\n\r\n    //initialize a key chosing the array of String you want for your values\r\n    map.put(1, new String[] { &quot;name1&quot;, &quot;name2&quot; });\r\n\r\n    //edit value of a key\r\n    map.get(1)[0] = &quot;othername&quot;;\r\n\r\nThis is very simple and effective.\r\nIf you want values of diferent classes instead, you can do the following:\r\n\r\n    HashMap&lt;Integer, Object[]&gt; map = new HashMap&lt;Integer, Object[]&gt;();\r\n\r\n","title":"HashMap with multiple values under the same key","body":"<p>You can do it implicitly.</p>\n\n<pre><code>// Create the map. There is no restriction to the size that the array String can have\nHashMap&lt;Integer, String[]&gt; map = new HashMap&lt;Integer, String[]&gt;();\n\n//initialize a key chosing the array of String you want for your values\nmap.put(1, new String[] { \"name1\", \"name2\" });\n\n//edit value of a key\nmap.get(1)[0] = \"othername\";\n</code></pre>\n\n<p>This is very simple and effective.\nIf you want values of diferent classes instead, you can do the following:</p>\n\n<pre><code>HashMap&lt;Integer, Object[]&gt; map = new HashMap&lt;Integer, Object[]&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3746374,"reputation":3934,"user_id":3114959,"accept_rate":64,"display_name":"Stepan Vavra"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1465479282,"creation_date":1465479282,"answer_id":37727526,"question_id":4956844,"body_markdown":"Just for the record, the pure JDK8 solution would be to use `Map::compute` method:\r\n\r\n    map.compute(key, (s, strings) -&gt; strings == null ? new ArrayList&lt;&gt;() : strings).add(value);\r\n\r\nSuch as\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n    \r\n        put(map, &quot;first&quot;, &quot;hello&quot;);\r\n        put(map, &quot;first&quot;, &quot;foo&quot;);\r\n        put(map, &quot;bar&quot;, &quot;foo&quot;);\r\n        put(map, &quot;first&quot;, &quot;hello&quot;);\r\n    \r\n        map.forEach((s, strings) -&gt; {\r\n            System.out.print(s + &quot;: &quot;);\r\n            System.out.println(strings.stream().collect(Collectors.joining(&quot;, &quot;)));\r\n        });\r\n    }\r\n\r\n    private static &lt;KEY, VALUE&gt; void put(Map&lt;KEY, List&lt;VALUE&gt;&gt; map, KEY key, VALUE value) {\r\n        map.compute(key, (s, strings) -&gt; strings == null ? new ArrayList&lt;&gt;() : strings).add(value);\r\n    }\r\n\r\nwith output:\r\n\r\n    bar: foo\r\n    first: hello, foo, hello\r\n\r\nNote that to ensure consistency in case multiple threads access this data structure, `ConcurrentHashMap` and `CopyOnWriteArrayList` for instance need to be used.","title":"HashMap with multiple values under the same key","body":"<p>Just for the record, the pure JDK8 solution would be to use <code>Map::compute</code> method:</p>\n\n<pre><code>map.compute(key, (s, strings) -&gt; strings == null ? new ArrayList&lt;&gt;() : strings).add(value);\n</code></pre>\n\n<p>Such as</p>\n\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\n\n    put(map, \"first\", \"hello\");\n    put(map, \"first\", \"foo\");\n    put(map, \"bar\", \"foo\");\n    put(map, \"first\", \"hello\");\n\n    map.forEach((s, strings) -&gt; {\n        System.out.print(s + \": \");\n        System.out.println(strings.stream().collect(Collectors.joining(\", \")));\n    });\n}\n\nprivate static &lt;KEY, VALUE&gt; void put(Map&lt;KEY, List&lt;VALUE&gt;&gt; map, KEY key, VALUE value) {\n    map.compute(key, (s, strings) -&gt; strings == null ? new ArrayList&lt;&gt;() : strings).add(value);\n}\n</code></pre>\n\n<p>with output:</p>\n\n<pre><code>bar: foo\nfirst: hello, foo, hello\n</code></pre>\n\n<p>Note that to ensure consistency in case multiple threads access this data structure, <code>ConcurrentHashMap</code> and <code>CopyOnWriteArrayList</code> for instance need to be used.</p>\n"},{"tags":[],"owner":{"account_id":4890996,"reputation":1347,"user_id":3942142,"accept_rate":36,"display_name":"jayendra bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470740676,"creation_date":1470740676,"answer_id":38849011,"question_id":4956844,"body_markdown":"Can be done using an identityHashMap, subjected to the condition that the keys comparison will be done by == operator and not equals().\r\n","title":"HashMap with multiple values under the same key","body":"<p>Can be done using an identityHashMap, subjected to the condition that the keys comparison will be done by == operator and not equals().</p>\n"},{"tags":[],"owner":{"account_id":4163585,"reputation":6251,"user_id":3413092,"accept_rate":81,"display_name":"ozgeneral"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474887107,"creation_date":1474887107,"answer_id":39700899,"question_id":4956844,"body_markdown":"I prefer the following to store any number of variables without having to create a separate class. \r\n\r\n\tfinal public static Map&lt;String, Map&lt;String, Float&gt;&gt; myMap    = new HashMap&lt;String, Map&lt;String, Float&gt;&gt;();","title":"HashMap with multiple values under the same key","body":"<p>I prefer the following to store any number of variables without having to create a separate class. </p>\n\n<pre><code>final public static Map&lt;String, Map&lt;String, Float&gt;&gt; myMap    = new HashMap&lt;String, Map&lt;String, Float&gt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8929616,"reputation":92,"user_id":6662666,"display_name":"Shahid Ahmad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583320985,"creation_date":1478788445,"answer_id":40530122,"question_id":4956844,"body_markdown":"\r\n    String key= &quot;services_servicename&quot;\r\n\r\n    ArrayList&lt;String&gt; data;\r\n\r\n    for(int i = 0; i lessthen data.size(); i++) {\r\n        HashMap&lt;String, String&gt; servicesNameHashmap = new HashMap&lt;String, String&gt;();\r\n        servicesNameHashmap.put(key,data.get(i).getServiceName());\r\n        mServiceNameArray.add(i,servicesNameHashmap);\r\n    }\r\n\r\n\r\n\r\nI have got the Best Results.\r\n\r\nYou just have to create new `HashMap` like \r\n\r\n    HashMap&lt;String, String&gt; servicesNameHashmap = new HashMap&lt;String, String&gt;();\r\n\r\nin your `for` loop. It will have same effect like same key and multiple values.\r\n","title":"HashMap with multiple values under the same key","body":"<pre><code>String key= \"services_servicename\"\n\nArrayList&lt;String&gt; data;\n\nfor(int i = 0; i lessthen data.size(); i++) {\n    HashMap&lt;String, String&gt; servicesNameHashmap = new HashMap&lt;String, String&gt;();\n    servicesNameHashmap.put(key,data.get(i).getServiceName());\n    mServiceNameArray.add(i,servicesNameHashmap);\n}\n</code></pre>\n\n<p>I have got the Best Results.</p>\n\n<p>You just have to create new <code>HashMap</code> like </p>\n\n<pre><code>HashMap&lt;String, String&gt; servicesNameHashmap = new HashMap&lt;String, String&gt;();\n</code></pre>\n\n<p>in your <code>for</code> loop. It will have same effect like same key and multiple values.</p>\n"},{"tags":[],"owner":{"account_id":5506908,"reputation":521,"user_id":4374525,"display_name":"Vette"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486666457,"creation_date":1486666457,"answer_id":42144713,"question_id":4956844,"body_markdown":"I am so used to just doing this with a Data Dictionary in Objective C.  It was harder to get a similar result in Java for Android.  I ended up creating a custom class, and then just doing a hashmap of my custom class.\r\n\r\n    public class Test1 {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.addview);\r\n\r\n\t//create the datastring\r\n        HashMap&lt;Integer, myClass&gt; hm = new HashMap&lt;Integer, myClass&gt;();\r\n        hm.put(1, new myClass(&quot;Car&quot;, &quot;Small&quot;, 3000));\r\n        hm.put(2, new myClass(&quot;Truck&quot;, &quot;Large&quot;, 4000));\r\n        hm.put(3, new myClass(&quot;Motorcycle&quot;, &quot;Small&quot;, 1000));\r\n\r\n\t//pull the datastring back for a specific item.\r\n\t//also can edit the data using the set methods.  this just shows getting it for display.\r\n        myClass test1 = hm.get(1);\r\n        String testitem = test1.getItem();\r\n        int testprice = test1.getPrice();\r\n        Log.i(&quot;Class Info Example&quot;,testitem+Integer.toString(testprice));\r\n    }\r\n    }\r\n\r\n    //custom class.  You could make it public to use on several activities, or just include in the activity if using only here\r\n    class myClass{\r\n        private String item;\r\n        private String type;\r\n        private int price;\r\n\r\n        public myClass(String itm, String ty, int pr){\r\n            this.item = itm;\r\n            this.price = pr;\r\n            this.type = ty;\r\n        }\r\n\r\n        public String getItem() {\r\n            return item;\r\n        }\r\n\r\n        public void setItem(String item) {\r\n            this.item = item;\r\n        }\r\n\r\n        public String getType() {\r\n            return item;\r\n        }\r\n\r\n        public void setType(String type) {\r\n            this.type = type;\r\n        }\r\n\r\n        public int getPrice() {\r\n            return price;\r\n        }\r\n\r\n        public void setPrice(int price) {\r\n            this.price = price;\r\n        }\r\n\r\n    }","title":"HashMap with multiple values under the same key","body":"<p>I am so used to just doing this with a Data Dictionary in Objective C.  It was harder to get a similar result in Java for Android.  I ended up creating a custom class, and then just doing a hashmap of my custom class.</p>\n\n<pre><code>public class Test1 {\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.addview);\n\n//create the datastring\n    HashMap&lt;Integer, myClass&gt; hm = new HashMap&lt;Integer, myClass&gt;();\n    hm.put(1, new myClass(\"Car\", \"Small\", 3000));\n    hm.put(2, new myClass(\"Truck\", \"Large\", 4000));\n    hm.put(3, new myClass(\"Motorcycle\", \"Small\", 1000));\n\n//pull the datastring back for a specific item.\n//also can edit the data using the set methods.  this just shows getting it for display.\n    myClass test1 = hm.get(1);\n    String testitem = test1.getItem();\n    int testprice = test1.getPrice();\n    Log.i(\"Class Info Example\",testitem+Integer.toString(testprice));\n}\n}\n\n//custom class.  You could make it public to use on several activities, or just include in the activity if using only here\nclass myClass{\n    private String item;\n    private String type;\n    private int price;\n\n    public myClass(String itm, String ty, int pr){\n        this.item = itm;\n        this.price = pr;\n        this.type = ty;\n    }\n\n    public String getItem() {\n        return item;\n    }\n\n    public void setItem(String item) {\n        this.item = item;\n    }\n\n    public String getType() {\n        return item;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n    public int getPrice() {\n        return price;\n    }\n\n    public void setPrice(int price) {\n        this.price = price;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10976907,"reputation":11,"user_id":8065321,"display_name":"Vikas Pal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495725623,"creation_date":1495719458,"answer_id":44182034,"question_id":4956844,"body_markdown":"We can create a class to have multiple keys or values and the object of this class can be used as a parameter in map.\r\nYou can refer to https://stackoverflow.com/a/44181931/8065321","title":"HashMap with multiple values under the same key","body":"<p>We can create a class to have multiple keys or values and the object of this class can be used as a parameter in map.\nYou can refer to <a href=\"https://stackoverflow.com/a/44181931/8065321\">https://stackoverflow.com/a/44181931/8065321</a></p>\n"},{"tags":[],"owner":{"account_id":9713444,"reputation":692,"user_id":7204574,"display_name":"Jorciney"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1583318510,"creation_date":1499436945,"answer_id":44973031,"question_id":4956844,"body_markdown":"The easiest way would be to use a google collection library:\r\n\r\n    import com.google.common.collect.ArrayListMultimap;\r\n    import com.google.common.collect.Multimap;\r\n\r\n    public class Test {\r\n\r\n        public static void main(final String[] args) {\r\n\r\n            // multimap can handle one key with a list of values\r\n            final Multimap&lt;String, String&gt; cars = ArrayListMultimap.create();\r\n            cars.put(&quot;Nissan&quot;, &quot;Qashqai&quot;);\r\n            cars.put(&quot;Nissan&quot;, &quot;Juke&quot;);\r\n            cars.put(&quot;Bmw&quot;, &quot;M3&quot;);\r\n            cars.put(&quot;Bmw&quot;, &quot;330E&quot;);\r\n            cars.put(&quot;Bmw&quot;, &quot;X6&quot;);\r\n            cars.put(&quot;Bmw&quot;, &quot;X5&quot;);\r\n\r\n            cars.get(&quot;Bmw&quot;).forEach(System.out::println);\r\n\r\n            // It will print the:\r\n            // M3\r\n            // 330E\r\n            // X6\r\n            // X5\r\n        }\r\n\r\n    }\r\n\r\nmaven link: https://mvnrepository.com/artifact/com.google.collections/google-collections/1.0-rc2\r\n\r\nmore on this: http://tomjefferys.blogspot.be/2011/09/multimaps-google-guava.html","title":"HashMap with multiple values under the same key","body":"<p>The easiest way would be to use a google collection library:</p>\n\n<pre><code>import com.google.common.collect.ArrayListMultimap;\nimport com.google.common.collect.Multimap;\n\npublic class Test {\n\n    public static void main(final String[] args) {\n\n        // multimap can handle one key with a list of values\n        final Multimap&lt;String, String&gt; cars = ArrayListMultimap.create();\n        cars.put(\"Nissan\", \"Qashqai\");\n        cars.put(\"Nissan\", \"Juke\");\n        cars.put(\"Bmw\", \"M3\");\n        cars.put(\"Bmw\", \"330E\");\n        cars.put(\"Bmw\", \"X6\");\n        cars.put(\"Bmw\", \"X5\");\n\n        cars.get(\"Bmw\").forEach(System.out::println);\n\n        // It will print the:\n        // M3\n        // 330E\n        // X6\n        // X5\n    }\n\n}\n</code></pre>\n\n<p>maven link: <a href=\"https://mvnrepository.com/artifact/com.google.collections/google-collections/1.0-rc2\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.google.collections/google-collections/1.0-rc2</a></p>\n\n<p>more on this: <a href=\"http://tomjefferys.blogspot.be/2011/09/multimaps-google-guava.html\" rel=\"nofollow noreferrer\">http://tomjefferys.blogspot.be/2011/09/multimaps-google-guava.html</a></p>\n"},{"tags":[],"owner":{"account_id":7667256,"reputation":3111,"user_id":5810648,"accept_rate":75,"display_name":"Ihor Rybak"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1500489502,"creation_date":1500489502,"answer_id":45198580,"question_id":4956844,"body_markdown":"If you use **Spring Framework**. There is: `org.springframework.util.MultiValueMap`.\r\n\r\nTo create unmodifiable multi value map:\r\n\r\n    Map&lt;String,List&lt;String&gt;&gt; map = ...\r\n    MultiValueMap&lt;String, String&gt; multiValueMap = CollectionUtils.toMultiValueMap(map);\r\nOr use `org.springframework.util.LinkedMultiValueMap`\r\n","title":"HashMap with multiple values under the same key","body":"<p>If you use <strong>Spring Framework</strong>. There is: <code>org.springframework.util.MultiValueMap</code>.</p>\n\n<p>To create unmodifiable multi value map:</p>\n\n<pre><code>Map&lt;String,List&lt;String&gt;&gt; map = ...\nMultiValueMap&lt;String, String&gt; multiValueMap = CollectionUtils.toMultiValueMap(map);\n</code></pre>\n\n<p>Or use <code>org.springframework.util.LinkedMultiValueMap</code></p>\n"},{"tags":[],"owner":{"account_id":9756466,"reputation":277,"user_id":7233038,"display_name":"0cnLaroche"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572993109,"creation_date":1572993109,"answer_id":58720454,"question_id":4956844,"body_markdown":"Using Java Collectors\r\n\r\n```java\r\n// Group employees by department\r\nMap&lt;Department, List&lt;Employee&gt;&gt; byDept = employees.stream()\r\n                    .collect(Collectors.groupingBy(Employee::getDepartment));\r\n```\r\nwhere Department is your key","title":"HashMap with multiple values under the same key","body":"<p>Using Java Collectors</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Group employees by department\nMap&lt;Department, List&lt;Employee&gt;&gt; byDept = employees.stream()\n                    .collect(Collectors.groupingBy(Employee::getDepartment));\n</code></pre>\n\n<p>where Department is your key</p>\n"},{"tags":[],"owner":{"account_id":10359110,"reputation":532,"user_id":8119511,"display_name":"Ank_247shbm"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1585115782,"creation_date":1585115782,"answer_id":60843623,"question_id":4956844,"body_markdown":"     import java.io.*;\r\n     import java.util.*;\r\n\r\n     import com.google.common.collect.*;\r\n\r\n     class finTech{\r\n    public static void main(String args[]){\r\n           Multimap&lt;String, String&gt; multimap = ArrayListMultimap.create();\r\n           multimap.put(&quot;1&quot;,&quot;11&quot;);\r\n           multimap.put(&quot;1&quot;,&quot;14&quot;);\r\n           multimap.put(&quot;1&quot;,&quot;12&quot;);\r\n           multimap.put(&quot;1&quot;,&quot;13&quot;);\r\n           multimap.put(&quot;11&quot;,&quot;111&quot;);\r\n           multimap.put(&quot;12&quot;,&quot;121&quot;);\r\n            System.out.println(multimap);\r\n            System.out.println(multimap.get(&quot;11&quot;));\r\n       }                                                                                            \r\n     }                                                                    \r\n \r\n Output: \r\n\r\n         {&quot;1&quot;=[&quot;11&quot;,&quot;12&quot;,&quot;13&quot;,&quot;14&quot;],&quot;11&quot;=[&quot;111&quot;],&quot;12&quot;=[&quot;121&quot;]}\r\n\r\n          [&quot;111&quot;]\r\n\r\nThis is Google-Guava library for utility functionalities. This is the required solution.","title":"HashMap with multiple values under the same key","body":"<pre><code> import java.io.*;\n import java.util.*;\n\n import com.google.common.collect.*;\n\n class finTech{\npublic static void main(String args[]){\n       Multimap&lt;String, String&gt; multimap = ArrayListMultimap.create();\n       multimap.put(\"1\",\"11\");\n       multimap.put(\"1\",\"14\");\n       multimap.put(\"1\",\"12\");\n       multimap.put(\"1\",\"13\");\n       multimap.put(\"11\",\"111\");\n       multimap.put(\"12\",\"121\");\n        System.out.println(multimap);\n        System.out.println(multimap.get(\"11\"));\n   }                                                                                            \n }                                                                    \n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>     {\"1\"=[\"11\",\"12\",\"13\",\"14\"],\"11\"=[\"111\"],\"12\"=[\"121\"]}\n\n      [\"111\"]\n</code></pre>\n\n<p>This is Google-Guava library for utility functionalities. This is the required solution.</p>\n"},{"tags":[],"owner":{"account_id":14255433,"reputation":282,"user_id":10297796,"display_name":"Vikas Piprade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609800000,"creation_date":1596202308,"answer_id":63192856,"question_id":4956844,"body_markdown":"Apache Commons collection classes can implement multiple values under same key.\r\n\r\n    MultiMap multiMapDemo = new MultiValueMap();\r\n\r\n    multiMapDemo .put(&quot;fruit&quot;, &quot;Mango&quot;);\r\n    multiMapDemo .put(&quot;fruit&quot;, &quot;Orange&quot;);\r\n    multiMapDemo.put(&quot;fruit&quot;, &quot;Blueberry&quot;);\r\n\r\n    System.out.println(multiMapDemo.get(&quot;fruit&quot;));\r\n\r\n\r\nMaven Dependency\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n       &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n       &lt;version&gt;4.4&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"HashMap with multiple values under the same key","body":"<p>Apache Commons collection classes can implement multiple values under same key.</p>\n<pre><code>MultiMap multiMapDemo = new MultiValueMap();\n\nmultiMapDemo .put(&quot;fruit&quot;, &quot;Mango&quot;);\nmultiMapDemo .put(&quot;fruit&quot;, &quot;Orange&quot;);\nmultiMapDemo.put(&quot;fruit&quot;, &quot;Blueberry&quot;);\n\nSystem.out.println(multiMapDemo.get(&quot;fruit&quot;));\n</code></pre>\n<p>Maven Dependency</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n   &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n   &lt;version&gt;4.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":35564,"reputation":2881,"user_id":100777,"accept_rate":55,"display_name":"vidhya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705223,"favorite_count":0,"down_vote_count":0,"up_vote_count":247,"accepted_answer_id":4956870,"answer_count":21,"score":247,"last_activity_date":1677246910,"creation_date":1297339572,"question_id":4956844,"body_markdown":"Is it possible to implement a HashMap with one key and two values?  \r\nJust as HashMap&lt;userId, clientID,timeStamp&gt;? \r\n\r\nIf not, is there any other way to implement the storage of multiple values e.g. one key and two values?","title":"HashMap with multiple values under the same key","body":"<p>Is it possible to implement a HashMap with one key and two values?<br />\nJust as HashMap&lt;userId, clientID,timeStamp&gt;?</p>\n<p>If not, is there any other way to implement the storage of multiple values e.g. one key and two values?</p>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677243034,"creation_date":1677242681,"answer_id":75556726,"question_id":75555967,"body_markdown":"The problem is *neither* in your code *nor* in your Maven configuration, but it is your IDE (Spring Tool Suite in your case) which is not &quot;Lombok-aware&quot;.\r\n\r\nLombok works in the way that it generates the code for you in the compile-time, so the code does not exist in your source code files. Hence the IDE cannot suggest you the generated methods, unless it becomes &quot;Lombok-aware&quot; and pre-generates the Lombok-generated code for the suggestion tips.\r\n\r\nFor this you need to install a *Lombok plugin*. Each IDE has its own Lombok plugin, some IDE distributions come with the Lombok plugin bundled. Search for STS if the plugin is pre-installed and if not, how to install it.","title":"Why builder() method of Lombok is not coming in the suggestion for me in Spring tool Suite in Spring Boot Project?","body":"<p>The problem is <em>neither</em> in your code <em>nor</em> in your Maven configuration, but it is your IDE (Spring Tool Suite in your case) which is not &quot;Lombok-aware&quot;.</p>\n<p>Lombok works in the way that it generates the code for you in the compile-time, so the code does not exist in your source code files. Hence the IDE cannot suggest you the generated methods, unless it becomes &quot;Lombok-aware&quot; and pre-generates the Lombok-generated code for the suggestion tips.</p>\n<p>For this you need to install a <em>Lombok plugin</em>. Each IDE has its own Lombok plugin, some IDE distributions come with the Lombok plugin bundled. Search for STS if the plugin is pre-installed and if not, how to install it.</p>\n"}],"owner":{"account_id":26174937,"reputation":27,"user_id":19859254,"display_name":"Sai Chakra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75556726,"answer_count":1,"score":0,"last_activity_date":1677246047,"creation_date":1677237837,"question_id":75555967,"body_markdown":"I am not getting the Suggestion from IDE for Building and Object using the Lombok Builder Feature Please refer the Line Number 34 in the attached Image.\r\n\r\n\r\nBelow is Reference Image please look at Line Number 34 Where it is not showing builder() method for my Entity Class\r\n\r\n\r\n![Below is Reference Image please look at Line Number 34 Where it is not showing builder() method for my Entity Class][1]\r\n\r\n  [1]: https://i.stack.imgur.com/6Qoqu.png\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why builder() method of Lombok is not coming in the suggestion for me in Spring tool Suite in Spring Boot Project?","body":"<p>I am not getting the Suggestion from IDE for Building and Object using the Lombok Builder Feature Please refer the Line Number 34 in the attached Image.</p>\n<p>Below is Reference Image please look at Line Number 34 Where it is not showing builder() method for my Entity Class</p>\n<p><img src=\"https://i.stack.imgur.com/6Qoqu.png\" alt=\"Below is Reference Image please look at Line Number 34 Where it is not showing builder() method for my Entity Class\" /></p>\n"},{"tags":["java","selenium-java"],"answers":[{"tags":[],"owner":{"account_id":27864179,"reputation":350,"user_id":21276039,"display_name":"indyteo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677245985,"creation_date":1677245293,"answer_id":75557138,"question_id":75557004,"body_markdown":"The element `mat-radio-group[@id=&quot;searchType.toggle&quot;]` is the radio button group (only present once in the page).\r\n\r\nOnce you get it, you can select the radio options (&quot;Shipment&quot; and &quot;Work Order&quot;) by using a child selector `./mat-radio-button`:\r\n\r\n```lang-java\r\nWebElement radioButtonGroup = driver.findElement(By.xpath(&quot;//mobileweb-accessorial-tasks-dialog//mobileweb-client-area//mat-radio-group[@id=\\&quot;searchType.toggle\\&quot;]&quot;));\r\nList&lt;WebElement&gt; radioButtons = radioButtonGroup.findElements(By.xpath(&quot;./mat-radio-button&quot;));\r\nradioButtons.get(1).click();\r\n```","title":"get items in radio buttons","body":"<p>The element <code>mat-radio-group[@id=&quot;searchType.toggle&quot;]</code> is the radio button group (only present once in the page).</p>\n<p>Once you get it, you can select the radio options (&quot;Shipment&quot; and &quot;Work Order&quot;) by using a child selector <code>./mat-radio-button</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebElement radioButtonGroup = driver.findElement(By.xpath(&quot;//mobileweb-accessorial-tasks-dialog//mobileweb-client-area//mat-radio-group[@id=\\&quot;searchType.toggle\\&quot;]&quot;));\nList&lt;WebElement&gt; radioButtons = radioButtonGroup.findElements(By.xpath(&quot;./mat-radio-button&quot;));\nradioButtons.get(1).click();\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75557138,"answer_count":1,"score":0,"last_activity_date":1677245985,"creation_date":1677244402,"question_id":75557004,"body_markdown":"I have this html code:\r\n\r\n    &lt;div _ngcontent-ilf-c195=&quot;&quot; class=&quot;datex-form-field&quot;&gt;\r\n       &lt;!----&gt;\r\n       &lt;mat-radio-group _ngcontent-ilf-c195=&quot;&quot; role=&quot;radiogroup&quot; class=&quot;mat-radio-group ng-pristine ng-valid ng-star-inserted ng-touched&quot; id=&quot;searchType.toggle&quot;&gt;\r\n          &lt;mat-radio-button _ngcontent-ilf-c195=&quot;&quot; class=&quot;mat-radio-button datex-radiobutton mat-radio-checked mat-accent ng-star-inserted&quot; id=&quot;mat-radio-5&quot;&gt;&lt;label class=&quot;mat-radio-label&quot; for=&quot;mat-radio-5-input&quot;&gt;&lt;span class=&quot;mat-radio-container&quot;&gt;&lt;span class=&quot;mat-radio-outer-circle&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mat-radio-inner-circle&quot;&gt;&lt;/span&gt;&lt;input type=&quot;radio&quot; class=&quot;mat-radio-input&quot; id=&quot;mat-radio-5-input&quot; name=&quot;mat-radio-group-3&quot; value=&quot;0&quot; tabindex=&quot;0&quot;&gt;&lt;span mat-ripple=&quot;&quot; class=&quot;mat-ripple mat-radio-ripple mat-focus-indicator&quot;&gt;&lt;span class=&quot;mat-ripple-element mat-radio-persistent-ripple&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mat-radio-label-content&quot;&gt;&lt;span style=&quot;display: none;&quot;&gt;&amp;nbsp;&lt;/span&gt;Shipment&lt;/span&gt;&lt;/label&gt;&lt;/mat-radio-button&gt;\r\n          &lt;mat-radio-button _ngcontent-ilf-c195=&quot;&quot; class=&quot;mat-radio-button datex-radiobutton mat-accent ng-star-inserted&quot; id=&quot;mat-radio-6&quot;&gt;&lt;label class=&quot;mat-radio-label&quot; for=&quot;mat-radio-6-input&quot;&gt;&lt;span class=&quot;mat-radio-container&quot;&gt;&lt;span class=&quot;mat-radio-outer-circle&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mat-radio-inner-circle&quot;&gt;&lt;/span&gt;&lt;input type=&quot;radio&quot; class=&quot;mat-radio-input&quot; id=&quot;mat-radio-6-input&quot; name=&quot;mat-radio-group-3&quot; value=&quot;1&quot; tabindex=&quot;-1&quot;&gt;&lt;span mat-ripple=&quot;&quot; class=&quot;mat-ripple mat-radio-ripple mat-focus-indicator&quot;&gt;&lt;span class=&quot;mat-ripple-element mat-radio-persistent-ripple&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mat-radio-label-content&quot;&gt;&lt;span style=&quot;display: none;&quot;&gt;&amp;nbsp;&lt;/span&gt;Work Order&lt;/span&gt;&lt;/label&gt;&lt;/mat-radio-button&gt;\r\n          &lt;!----&gt;\r\n       &lt;/mat-radio-group&gt;\r\n       &lt;!----&gt;\r\n    &lt;/div&gt;\r\n\r\nI tried to get the items under the tag `mat-radio-group` using this code:\r\n\r\n    \r\n\r\n    List&lt;WebElement&gt;list = driver.findElements(By.xpath(&quot;//mobileweb-accessorial-tasks-dialog//mobileweb-client-area//mat-radio-group[@id=\\&quot;searchType.toggle\\&quot;]&quot;));\r\n    list.get(1).click();\r\n\r\n\r\nBut I get `java.lang.IndexOutOfBoundsException: Index: 1, Size: 1` \r\nCan you advise how I can click on the second radio button?","title":"get items in radio buttons","body":"<p>I have this html code:</p>\n<pre><code>&lt;div _ngcontent-ilf-c195=&quot;&quot; class=&quot;datex-form-field&quot;&gt;\n   &lt;!----&gt;\n   &lt;mat-radio-group _ngcontent-ilf-c195=&quot;&quot; role=&quot;radiogroup&quot; class=&quot;mat-radio-group ng-pristine ng-valid ng-star-inserted ng-touched&quot; id=&quot;searchType.toggle&quot;&gt;\n      &lt;mat-radio-button _ngcontent-ilf-c195=&quot;&quot; class=&quot;mat-radio-button datex-radiobutton mat-radio-checked mat-accent ng-star-inserted&quot; id=&quot;mat-radio-5&quot;&gt;&lt;label class=&quot;mat-radio-label&quot; for=&quot;mat-radio-5-input&quot;&gt;&lt;span class=&quot;mat-radio-container&quot;&gt;&lt;span class=&quot;mat-radio-outer-circle&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mat-radio-inner-circle&quot;&gt;&lt;/span&gt;&lt;input type=&quot;radio&quot; class=&quot;mat-radio-input&quot; id=&quot;mat-radio-5-input&quot; name=&quot;mat-radio-group-3&quot; value=&quot;0&quot; tabindex=&quot;0&quot;&gt;&lt;span mat-ripple=&quot;&quot; class=&quot;mat-ripple mat-radio-ripple mat-focus-indicator&quot;&gt;&lt;span class=&quot;mat-ripple-element mat-radio-persistent-ripple&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mat-radio-label-content&quot;&gt;&lt;span style=&quot;display: none;&quot;&gt;&amp;nbsp;&lt;/span&gt;Shipment&lt;/span&gt;&lt;/label&gt;&lt;/mat-radio-button&gt;\n      &lt;mat-radio-button _ngcontent-ilf-c195=&quot;&quot; class=&quot;mat-radio-button datex-radiobutton mat-accent ng-star-inserted&quot; id=&quot;mat-radio-6&quot;&gt;&lt;label class=&quot;mat-radio-label&quot; for=&quot;mat-radio-6-input&quot;&gt;&lt;span class=&quot;mat-radio-container&quot;&gt;&lt;span class=&quot;mat-radio-outer-circle&quot;&gt;&lt;/span&gt;&lt;span class=&quot;mat-radio-inner-circle&quot;&gt;&lt;/span&gt;&lt;input type=&quot;radio&quot; class=&quot;mat-radio-input&quot; id=&quot;mat-radio-6-input&quot; name=&quot;mat-radio-group-3&quot; value=&quot;1&quot; tabindex=&quot;-1&quot;&gt;&lt;span mat-ripple=&quot;&quot; class=&quot;mat-ripple mat-radio-ripple mat-focus-indicator&quot;&gt;&lt;span class=&quot;mat-ripple-element mat-radio-persistent-ripple&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;mat-radio-label-content&quot;&gt;&lt;span style=&quot;display: none;&quot;&gt;&amp;nbsp;&lt;/span&gt;Work Order&lt;/span&gt;&lt;/label&gt;&lt;/mat-radio-button&gt;\n      &lt;!----&gt;\n   &lt;/mat-radio-group&gt;\n   &lt;!----&gt;\n&lt;/div&gt;\n</code></pre>\n<p>I tried to get the items under the tag <code>mat-radio-group</code> using this code:</p>\n<pre><code>List&lt;WebElement&gt;list = driver.findElements(By.xpath(&quot;//mobileweb-accessorial-tasks-dialog//mobileweb-client-area//mat-radio-group[@id=\\&quot;searchType.toggle\\&quot;]&quot;));\nlist.get(1).click();\n</code></pre>\n<p>But I get <code>java.lang.IndexOutOfBoundsException: Index: 1, Size: 1</code>\nCan you advise how I can click on the second radio button?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":11274321,"reputation":404,"user_id":8268774,"display_name":"Vikash Bijarniya"},"score":0,"creation_date":1543906569,"post_id":53607129,"comment_id":94076090,"body_markdown":"Where is `sInstance` declared ?","body":"Where is <code>sInstance</code> declared ?"},{"owner":{"account_id":4018453,"reputation":2008,"user_id":3309687,"display_name":"Andrey T"},"score":0,"creation_date":1543906666,"post_id":53607129,"comment_id":94076136,"body_markdown":"@VikashBijarniya updated the code","body":"@VikashBijarniya updated the code"},{"owner":{"account_id":3365947,"reputation":281,"user_id":2826558,"display_name":"sohaib karim"},"score":0,"creation_date":1543906824,"post_id":53607129,"comment_id":94076197,"body_markdown":"share your manifest also","body":"share your manifest also"},{"owner":{"account_id":4018453,"reputation":2008,"user_id":3309687,"display_name":"Andrey T"},"score":1,"creation_date":1543907066,"post_id":53607129,"comment_id":94076299,"body_markdown":"@sohaibkarim please read the description, I was not able to reproduce the issue on my side, so for the app is working fine. It means that in the application manifest MyApplication is defined.","body":"@sohaibkarim please read the description, I was not able to reproduce the issue on my side, so for the app is working fine. It means that in the application manifest MyApplication is defined."},{"owner":{"account_id":9880137,"reputation":731,"user_id":7316510,"display_name":"Sneha Sarkar"},"score":0,"creation_date":1543907334,"post_id":53607129,"comment_id":94076423,"body_markdown":"Have you added application name as MyApplication in your AndroidManifest file?","body":"Have you added application name as MyApplication in your AndroidManifest file?"},{"owner":{"account_id":14551906,"reputation":3794,"user_id":10510491,"display_name":"Aaron"},"score":0,"creation_date":1543910822,"post_id":53607129,"comment_id":94077869,"body_markdown":"Have you tried getting your application from activity? Would that work for you?","body":"Have you tried getting your application from activity? Would that work for you?"},{"owner":{"account_id":4018453,"reputation":2008,"user_id":3309687,"display_name":"Andrey T"},"score":0,"creation_date":1543912401,"post_id":53607129,"comment_id":94078570,"body_markdown":"@Aaron, thanks, currently I think in this direction and will try to implement some custom solution, which will provide context to the singleton instances in the app.","body":"@Aaron, thanks, currently I think in this direction and will try to implement some custom solution, which will provide context to the singleton instances in the app."},{"owner":{"account_id":14551906,"reputation":3794,"user_id":10510491,"display_name":"Aaron"},"score":0,"creation_date":1543913130,"post_id":53607129,"comment_id":94078918,"body_markdown":"Understood. Your code looks alright, but do you have `android:process` declared on any of your activities in your manifest?","body":"Understood. Your code looks alright, but do you have <code>android:process</code> declared on any of your activities in your manifest?"},{"owner":{"account_id":4018453,"reputation":2008,"user_id":3309687,"display_name":"Andrey T"},"score":0,"creation_date":1543914881,"post_id":53607129,"comment_id":94079860,"body_markdown":"@Aaron Not it is not declared. It is a really difficult riddle.","body":"@Aaron Not it is not declared. It is a really difficult riddle."}],"answers":[{"tags":[],"owner":{"account_id":11274321,"reputation":404,"user_id":8268774,"display_name":"Vikash Bijarniya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1543907044,"creation_date":1543907044,"answer_id":53607403,"question_id":53607129,"body_markdown":"You can use a safe method:\r\n\r\n    public static MyApplication get() {\r\n    if(sInstance == null){\r\n     sInstance = this;\r\n     }\r\n        return sInstance;\r\n    }","title":"Application onCreate called(not called) after Activity onCreate","body":"<p>You can use a safe method:</p>\n\n<pre><code>public static MyApplication get() {\nif(sInstance == null){\n sInstance = this;\n }\n    return sInstance;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677245551,"creation_date":1677245551,"answer_id":75557175,"question_id":53607129,"body_markdown":"Move `sInstance = this;` to constructor.\r\n\r\nonCreate() is too late.\r\n\r\nIn my opinion, this is an Android bug. There is no obvious reason to do anything with the activity if onCreate() of the application has not finished executing.","title":"Application onCreate called(not called) after Activity onCreate","body":"<p>Move <code>sInstance = this;</code> to constructor.</p>\n<p>onCreate() is too late.</p>\n<p>In my opinion, this is an Android bug. There is no obvious reason to do anything with the activity if onCreate() of the application has not finished executing.</p>\n"}],"owner":{"account_id":4018453,"reputation":2008,"user_id":3309687,"display_name":"Andrey T"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677245551,"creation_date":1543906035,"question_id":53607129,"body_markdown":"In crash logs, I&#39;ve found very strange application bug which happens on android 7.0-8.0 for some small amount of users, but quite frequently. I was not able to reproduce the issue, here the code which reflects the current application status.\r\n \r\nI have a static reference to my application class.\r\n\r\n    public class MyApplication extends Application {\r\n       private static MyApplication sInstance;\r\n\r\n       public static MyApplication get() {\r\n          return sInstance;\r\n       }\r\n\r\n       @Override\r\n       public void onCreate() {\r\n          super.onCreate();\r\n          sInstance = this;\r\n       }\r\n    }\r\n\r\nIn the main activity I do initialization of a singleton:\r\n\r\n    public class MainActivity extends AppCompatActivity{\r\n    \r\n        public void onCreate(final Bundle savedInstanceState) {\r\n            initSingletone();\r\n            super.onCreate(createBundleNoFragmentRestore(savedInstanceState))\r\n        }\r\n    \r\n        public void initSingleTone(){\r\n            Singleton singleton = Singleton.getInstance(); \r\n        }\r\n    }\r\nThe singleton:\r\n\r\n    public class Singleton{\r\n    \r\n        public static Singleton instance;\r\n        public static Singleton getInstance(){\r\n            if(instance == null){\r\n                instance = new Singleton();\r\n            }\r\n            return ;\r\n        }\r\n    \r\n        public Singleton(){\r\n            Context context = MyApplication.get();\r\n            final File baseDir = context.getCacheDir();\r\n            ....\r\n        }\r\n    }\r\nThe `NullPointerException` occurs on the following line.\r\n\r\n    final File baseDir = context.getCacheDir();\r\nBecause for some reasons `MyApplication.get()` returns null. \r\nSeems `onCreate` of the `Application` was not called in the moment of `onCreate` of `MainActivity`, really weird.\r\nHave anyone faced with the same problem? \r\nWhat could be a reason for such strange initialization process of the Android components? \r\n\r\n","title":"Application onCreate called(not called) after Activity onCreate","body":"<p>In crash logs, I've found very strange application bug which happens on android 7.0-8.0 for some small amount of users, but quite frequently. I was not able to reproduce the issue, here the code which reflects the current application status.</p>\n\n<p>I have a static reference to my application class.</p>\n\n<pre><code>public class MyApplication extends Application {\n   private static MyApplication sInstance;\n\n   public static MyApplication get() {\n      return sInstance;\n   }\n\n   @Override\n   public void onCreate() {\n      super.onCreate();\n      sInstance = this;\n   }\n}\n</code></pre>\n\n<p>In the main activity I do initialization of a singleton:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity{\n\n    public void onCreate(final Bundle savedInstanceState) {\n        initSingletone();\n        super.onCreate(createBundleNoFragmentRestore(savedInstanceState))\n    }\n\n    public void initSingleTone(){\n        Singleton singleton = Singleton.getInstance(); \n    }\n}\n</code></pre>\n\n<p>The singleton:</p>\n\n<pre><code>public class Singleton{\n\n    public static Singleton instance;\n    public static Singleton getInstance(){\n        if(instance == null){\n            instance = new Singleton();\n        }\n        return ;\n    }\n\n    public Singleton(){\n        Context context = MyApplication.get();\n        final File baseDir = context.getCacheDir();\n        ....\n    }\n}\n</code></pre>\n\n<p>The <code>NullPointerException</code> occurs on the following line.</p>\n\n<pre><code>final File baseDir = context.getCacheDir();\n</code></pre>\n\n<p>Because for some reasons <code>MyApplication.get()</code> returns null. \nSeems <code>onCreate</code> of the <code>Application</code> was not called in the moment of <code>onCreate</code> of <code>MainActivity</code>, really weird.\nHave anyone faced with the same problem? \nWhat could be a reason for such strange initialization process of the Android components? </p>\n"},{"tags":["java","tree","jtree"],"owner":{"account_id":2371261,"reputation":5701,"user_id":2075839,"accept_rate":75,"display_name":"Purus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677245186,"creation_date":1677245186,"question_id":75557125,"body_markdown":"I have created a `javax.swing.tree.DefaultMutableTreeNode` based tree successfully from a JSON source.\r\n\r\nBelow is the simplified version of the DefaultMutableTreeNode tree, where few children are part of the root. The children itself can have few more children to them. I will not be sure how long the depth can be as the JSON response is dynamic from a remote API.\r\n\r\n\r\n```java\r\nDefaultMutableTreeNode root = new DefaultMutableTreeNode(null);\r\nDefaultMutableTreeNode child1 = new DefaultMutableTreeNode(new Record(&quot;child1&quot;));\r\nDefaultMutableTreeNode child2 = new DefaultMutableTreeNode(new Record(&quot;child2&quot;));\r\nDefaultMutableTreeNode child3 = new DefaultMutableTreeNode(new Record(&quot;child3&quot;));\r\n\r\n// more\r\n\r\nroot.add(child1);\r\nroot.add(child2)\r\nroot.add(child3)\r\n\r\nchild1.add(child1a)\r\nchild2.add(child2a)\r\n```\r\n\r\nI want to convert the tree into a different data structure as tree is hard to search (at least for me). I have to find parent sometimes for a given item or find child for some other item.\r\n\r\nPlease suggest if this tree can be converted into some other data structure, so that iteration and searching is easy.\r\n\r\nHow can the tree be converted into a map of maps/list? I can enumerate the nodes as below, but quite not sure how to maintain the parent-child association to the list/map.\r\n\r\n\r\n```\r\n  Enumeration&lt;DefaultMutableTreeNode&gt; en = root.preorderEnumeration();\r\n  while (en.hasMoreElements())\r\n  {\r\n     DefaultMutableTreeNode node = en.nextElement();\r\n     TreeNode[] path = node.getPath();\r\n     System.out.println((node.isLeaf() ? &quot;  - &quot; : &quot;+ &quot;) + path[path.length - 1]);\r\n  }\r\n```","title":"Converting DefaultMutableTreeNode to a map of maps","body":"<p>I have created a <code>javax.swing.tree.DefaultMutableTreeNode</code> based tree successfully from a JSON source.</p>\n<p>Below is the simplified version of the DefaultMutableTreeNode tree, where few children are part of the root. The children itself can have few more children to them. I will not be sure how long the depth can be as the JSON response is dynamic from a remote API.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DefaultMutableTreeNode root = new DefaultMutableTreeNode(null);\nDefaultMutableTreeNode child1 = new DefaultMutableTreeNode(new Record(&quot;child1&quot;));\nDefaultMutableTreeNode child2 = new DefaultMutableTreeNode(new Record(&quot;child2&quot;));\nDefaultMutableTreeNode child3 = new DefaultMutableTreeNode(new Record(&quot;child3&quot;));\n\n// more\n\nroot.add(child1);\nroot.add(child2)\nroot.add(child3)\n\nchild1.add(child1a)\nchild2.add(child2a)\n</code></pre>\n<p>I want to convert the tree into a different data structure as tree is hard to search (at least for me). I have to find parent sometimes for a given item or find child for some other item.</p>\n<p>Please suggest if this tree can be converted into some other data structure, so that iteration and searching is easy.</p>\n<p>How can the tree be converted into a map of maps/list? I can enumerate the nodes as below, but quite not sure how to maintain the parent-child association to the list/map.</p>\n<pre><code>  Enumeration&lt;DefaultMutableTreeNode&gt; en = root.preorderEnumeration();\n  while (en.hasMoreElements())\n  {\n     DefaultMutableTreeNode node = en.nextElement();\n     TreeNode[] path = node.getPath();\n     System.out.println((node.isLeaf() ? &quot;  - &quot; : &quot;+ &quot;) + path[path.length - 1]);\n  }\n</code></pre>\n"},{"tags":["java","maven","netbeans","build","jar"],"comments":[{"owner":{"account_id":24126622,"reputation":103,"user_id":18094834,"display_name":"ian worsley"},"score":0,"creation_date":1677211148,"post_id":75552388,"comment_id":133297349,"body_markdown":"What os you are using?Have you tried running your program from terminal or only netbeans?","body":"What os you are using?Have you tried running your program from terminal or only netbeans?"},{"owner":{"account_id":18724819,"reputation":5,"user_id":13651770,"display_name":"msoper342"},"score":0,"creation_date":1677213284,"post_id":75552388,"comment_id":133297603,"body_markdown":"I use windows 10, I tried to run the  program only on netbeans. I built it on netbeans aswell. I only used Maven because of the tutorial.","body":"I use windows 10, I tried to run the  program only on netbeans. I built it on netbeans aswell. I only used Maven because of the tutorial."},{"owner":{"account_id":24126622,"reputation":103,"user_id":18094834,"display_name":"ian worsley"},"score":0,"creation_date":1677214065,"post_id":75552388,"comment_id":133297690,"body_markdown":"Try to run in the command line may help you get more output of the error.But it looks like your missing a manifest.","body":"Try to run in the command line may help you get more output of the error.But it looks like your missing a manifest."},{"owner":{"account_id":24126622,"reputation":103,"user_id":18094834,"display_name":"ian worsley"},"score":0,"creation_date":1677214245,"post_id":75552388,"comment_id":133297718,"body_markdown":"https://maven.apache.org/plugins/maven-jar-plugin/examples/manifest-customization.html","body":"<a href=\"https://maven.apache.org/plugins/maven-jar-plugin/examples/manifest-customization.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-jar-plugin/examples/&hellip;</a>"},{"owner":{"account_id":18724819,"reputation":5,"user_id":13651770,"display_name":"msoper342"},"score":0,"creation_date":1677215500,"post_id":75552388,"comment_id":133297871,"body_markdown":"how do I do that? running in the command line you mean to say cmd?","body":"how do I do that? running in the command line you mean to say cmd?"},{"owner":{"account_id":24126622,"reputation":103,"user_id":18094834,"display_name":"ian worsley"},"score":0,"creation_date":1677215849,"post_id":75552388,"comment_id":133297905,"body_markdown":"Command prompt on windows i think. Open command prompt in the directory the jar is in type java your-app.jar press enter.I use linux so im no command prompt expert but give it a try.","body":"Command prompt on windows i think. Open command prompt in the directory the jar is in type java your-app.jar press enter.I use linux so im no command prompt expert but give it a try."},{"owner":{"account_id":18724819,"reputation":5,"user_id":13651770,"display_name":"msoper342"},"score":0,"creation_date":1677217536,"post_id":75552388,"comment_id":133298092,"body_markdown":"so it just opens the program but it isn&#39;t showing any errors","body":"so it just opens the program but it isn&#39;t showing any errors"},{"owner":{"account_id":18724819,"reputation":5,"user_id":13651770,"display_name":"msoper342"},"score":0,"creation_date":1677219090,"post_id":75552388,"comment_id":133298267,"body_markdown":"yes, I opened the cmd file at the target folder where the jar is. what happens is if I used the old ANT version with the command, it just runs like double-clicking it, the gui appears aswell as the function. Meanwhile the newer one just like activates the command and makes a new line. No program GUI opens like the program stops overall. \n\nWith the manifest file you linked I haven&#39;t added them because I think it would ocnflict with\n\n ```&lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;``` ?","body":"yes, I opened the cmd file at the target folder where the jar is. what happens is if I used the old ANT version with the command, it just runs like double-clicking it, the gui appears aswell as the function. Meanwhile the newer one just like activates the command and makes a new line. No program GUI opens like the program stops overall.   With the manifest file you linked I haven&#39;t added them because I think it would ocnflict with   <code>&lt;configuration&gt;                     &lt;release&gt;11&lt;&#47;release&gt;                 &lt;&#47;configuration&gt;</code> ?"},{"owner":{"account_id":18724819,"reputation":5,"user_id":13651770,"display_name":"msoper342"},"score":0,"creation_date":1677219219,"post_id":75552388,"comment_id":133298289,"body_markdown":"Any file I make with Maven and built with maven using net beans clean and build results in a program not opening.","body":"Any file I make with Maven and built with maven using net beans clean and build results in a program not opening."},{"owner":{"account_id":18724819,"reputation":5,"user_id":13651770,"display_name":"msoper342"},"score":0,"creation_date":1677222099,"post_id":75552388,"comment_id":133298773,"body_markdown":"Do I have to install Maven like java?and add an environment varaible?","body":"Do I have to install Maven like java?and add an environment varaible?"},{"owner":{"account_id":18724819,"reputation":5,"user_id":13651770,"display_name":"msoper342"},"score":0,"creation_date":1677232860,"post_id":75552388,"comment_id":133301373,"body_markdown":"I have another calculator program with a maven instead of ANT. like my 2nd grocery price lister. If I run it in IDE it works but failts to run as a .jar file unlike ant.","body":"I have another calculator program with a maven instead of ANT. like my 2nd grocery price lister. If I run it in IDE it works but failts to run as a .jar file unlike ant."},{"owner":{"account_id":24126622,"reputation":103,"user_id":18094834,"display_name":"ian worsley"},"score":0,"creation_date":1677242813,"post_id":75552388,"comment_id":133304106,"body_markdown":"Which maven version are you using?","body":"Which maven version are you using?"},{"owner":{"account_id":24126622,"reputation":103,"user_id":18094834,"display_name":"ian worsley"},"score":0,"creation_date":1677243280,"post_id":75552388,"comment_id":133304236,"body_markdown":"mvn -v from command line will check maven version. java -version also from command line to get java version.","body":"mvn -v from command line will check maven version. java -version also from command line to get java version."}],"answers":[{"tags":[],"owner":{"account_id":18724819,"reputation":5,"user_id":13651770,"display_name":"msoper342"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677245183,"creation_date":1677245183,"answer_id":75557124,"question_id":75552388,"body_markdown":"I found an answer it seems. you have to add some plugins just to make it run an executable manifest then collect all dependencies. the maven version is 4.0.0.\r\nthere is a new &lt;build&gt;&lt;/build&gt; encapsulation aswell as cleanup on dependencies.\r\n\r\n```&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.groupself&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ProductPricesLister&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;com.groupself.productpricelister.GroceryProductsLister&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;com.groupself.productpricelister.GroceryProductsLister&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;                         \r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;```","title":"Netbeans Java: Why is my Java with ANT project .jar executable was able to run meanwhile my Java with Maven could not","body":"<p>I found an answer it seems. you have to add some plugins just to make it run an executable manifest then collect all dependencies. the maven version is 4.0.0.\nthere is a new  encapsulation aswell as cleanup on dependencies.</p>\n<pre><code>         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.groupself&lt;/groupId&gt;\n    &lt;artifactId&gt;ProductPricesLister&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;com.groupself.productpricelister.GroceryProductsLister&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.groupself.productpricelister.GroceryProductsLister&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;                         \n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;```\n</code></pre>\n"}],"owner":{"account_id":18724819,"reputation":5,"user_id":13651770,"display_name":"msoper342"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677245183,"creation_date":1677209634,"question_id":75552388,"body_markdown":"I have made a program using NetBeans and using its JFrame customization. The program would be used for storing grocery products data. put the product name, price, VAT, etc and it will calculate the markup and VAT and print its output into a text file. I decided to upgrade my skills and attempt to create an output with an Excel file .xlsx to look more profesional. So I searched Youtube tutorials and turns out you have to build a new Java with Maven project and use pom.xml to add dependencies and libraries that are needed to create a Workbook. With tweaks to its design, code, and success! Now I just have to build the program to an executable .jar file\r\n\r\nI was expecting it to run like my old program but it won&#39;t open. The old version that spits a .txt file and doesn&#39;t need any dependency opens like normal. But my newer one won&#39;t and I have no idea how to debug it.\r\n\r\n1. I tried opening the old program if there is something wrong with my Java installation fortunately there wasn&#39;t and the old program runs.\r\n2. I tried removing all the apache. poi dependencies on my file build it only with its GUI and no functionality and build a jar file. It won&#39;t open.\r\n3. I tried to move that into a project on Java With Ant (where my old program was) and remove all it&#39;s maven dependencies and related code and function only the base GUI. it runs! but I cannot create inputs or an excel worksheet.\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.groupself&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ProductPricesLister&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.3&lt;/version&gt;\r\n            &lt;type&gt;pom.sha512&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.groupself.productpricelister.GroceryProductsLister&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running --&gt;\r\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Configuration for manual attach debugging --&gt;\r\n                        &lt;!-- Usage: mvn clean javafx:run@debug --&gt;\r\n                        &lt;id&gt;debug&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;options&gt;\r\n                                &lt;option&gt;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=localhost:8000&lt;/option&gt;\r\n                            &lt;/options&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Configuration for automatic IDE debugging --&gt;\r\n                        &lt;id&gt;ide-debug&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;options&gt;\r\n                                &lt;option&gt;-agentlib:jdwp=transport=dt_socket,server=n,address=${jpda.address}&lt;/option&gt;\r\n                            &lt;/options&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Configuration for automatic IDE profiling --&gt;\r\n                        &lt;id&gt;ide-profile&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;options&gt;\r\n                                &lt;option&gt;${profiler.jvmargs.arg1}&lt;/option&gt;\r\n                                &lt;option&gt;${profiler.jvmargs.arg2}&lt;/option&gt;\r\n                                &lt;option&gt;${profiler.jvmargs.arg3}&lt;/option&gt;\r\n                                &lt;option&gt;${profiler.jvmargs.arg4}&lt;/option&gt;\r\n                                &lt;option&gt;${profiler.jvmargs.arg5}&lt;/option&gt;\r\n                            &lt;/options&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n","title":"Netbeans Java: Why is my Java with ANT project .jar executable was able to run meanwhile my Java with Maven could not","body":"<p>I have made a program using NetBeans and using its JFrame customization. The program would be used for storing grocery products data. put the product name, price, VAT, etc and it will calculate the markup and VAT and print its output into a text file. I decided to upgrade my skills and attempt to create an output with an Excel file .xlsx to look more profesional. So I searched Youtube tutorials and turns out you have to build a new Java with Maven project and use pom.xml to add dependencies and libraries that are needed to create a Workbook. With tweaks to its design, code, and success! Now I just have to build the program to an executable .jar file</p>\n<p>I was expecting it to run like my old program but it won't open. The old version that spits a .txt file and doesn't need any dependency opens like normal. But my newer one won't and I have no idea how to debug it.</p>\n<ol>\n<li>I tried opening the old program if there is something wrong with my Java installation fortunately there wasn't and the old program runs.</li>\n<li>I tried removing all the apache. poi dependencies on my file build it only with its GUI and no functionality and build a jar file. It won't open.</li>\n<li>I tried to move that into a project on Java With Ant (where my old program was) and remove all it's maven dependencies and related code and function only the base GUI. it runs! but I cannot create inputs or an excel worksheet.</li>\n</ol>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.groupself&lt;/groupId&gt;\n    &lt;artifactId&gt;ProductPricesLister&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n            &lt;type&gt;pom.sha512&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.groupself.productpricelister.GroceryProductsLister&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running --&gt;\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Configuration for manual attach debugging --&gt;\n                        &lt;!-- Usage: mvn clean javafx:run@debug --&gt;\n                        &lt;id&gt;debug&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;options&gt;\n                                &lt;option&gt;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=localhost:8000&lt;/option&gt;\n                            &lt;/options&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Configuration for automatic IDE debugging --&gt;\n                        &lt;id&gt;ide-debug&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;options&gt;\n                                &lt;option&gt;-agentlib:jdwp=transport=dt_socket,server=n,address=${jpda.address}&lt;/option&gt;\n                            &lt;/options&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Configuration for automatic IDE profiling --&gt;\n                        &lt;id&gt;ide-profile&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;options&gt;\n                                &lt;option&gt;${profiler.jvmargs.arg1}&lt;/option&gt;\n                                &lt;option&gt;${profiler.jvmargs.arg2}&lt;/option&gt;\n                                &lt;option&gt;${profiler.jvmargs.arg3}&lt;/option&gt;\n                                &lt;option&gt;${profiler.jvmargs.arg4}&lt;/option&gt;\n                                &lt;option&gt;${profiler.jvmargs.arg5}&lt;/option&gt;\n                            &lt;/options&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","java-18"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1677252524,"post_id":75557068,"comment_id":133306949,"body_markdown":"I would try to remove `.apis(RequestHandlerSelectors.basePackage(&quot;com.web.controller&quot;))` and put Controller into `demomongo`  package.","body":"I would try to remove <code>.apis(RequestHandlerSelectors.basePackage(&quot;com.web.controlle&zwnj;&#8203;r&quot;))</code> and put Controller into <code>demomongo</code>  package."}],"owner":{"account_id":7482446,"reputation":45,"user_id":5686827,"display_name":"KRdg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677244834,"creation_date":1677244834,"question_id":75557068,"body_markdown":"I know this question has been asked many times. However, I have not found the solution to my problem after many attempts.\r\n\r\nI have a Java project (v17) using Spring, MongoDB and Swagger to allow services and exchanges between my front and back. \r\n\r\nHowever, I can&#39;t see the methods of my controller in the GUI of SWAGGER.\r\n\r\nHere is my code: \r\n\r\nRun.class : \r\n\r\n    package demomongo;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    \r\n    import springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n    \r\n    @EnableSwagger2\r\n    @SpringBootApplication\r\n    public class Run implements CommandLineRunner {\r\n        \r\n        @Autowired\r\n        private MongoDBExample mongoDBExample;\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Run.class, args);\r\n        }\r\n    \r\n    \tpublic void run(String... args) throws Exception {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\nMy SwaggerConfig : \r\n\r\n    package demomongo;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import springfox.documentation.builders.ApiInfoBuilder;\r\n    import springfox.documentation.builders.PathSelectors;\r\n    import springfox.documentation.builders.RequestHandlerSelectors;\r\n    import springfox.documentation.service.ApiInfo;\r\n    import springfox.documentation.spi.DocumentationType;\r\n    import springfox.documentation.spring.web.plugins.Docket;\r\n    import springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n    \r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig \r\n    {\r\n       @Bean\r\n       public Docket api() \r\n       {\r\n           return new Docket(DocumentationType.SWAGGER_2)\r\n                   .select()\r\n    .apis(RequestHandlerSelectors.basePackage(&quot;com.web.controller&quot;))\r\n                   .paths(PathSelectors.any())\r\n                   .build();\r\n       }\r\n       \r\n       private ApiInfo apiInfo() {\r\n           return new ApiInfoBuilder()\r\n                   .title(&quot;Your API Title&quot;)\r\n                   .description(&quot;Your API Description&quot;)\r\n                   .version(&quot;1.0.0&quot;)\r\n                   .build();\r\n       }\r\n     }\r\n\r\n\r\nMy controller : \r\n\r\n        package com.web.controller;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import io.swagger.annotations.Api;\r\n    import io.swagger.annotations.ApiOperation;\r\n    \r\n    @RestController\r\n    @Api\r\n    public class Controller {\r\n    \t\r\n    \t  @Autowired\r\n    \t    public Controller() {\r\n    \t        \r\n    \t    }\r\n    \r\n    \t@ApiOperation(value = &quot;Dit bonjour&quot;)\r\n    \t@GetMapping(&quot;/hello&quot;)\r\n    \tpublic String sayHello() {\r\n    \t\treturn &quot;Hello World!&quot;;\r\n    \t}\r\n    \r\n    \t@RequestMapping(value = &quot;/custom&quot;, method = RequestMethod.POST)\r\n    \tpublic String custom() {\r\n    \t\treturn &quot;custom&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nMy POM.XML : \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;demomongo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demomongo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;springfox.version&gt;3.0.0&lt;/springfox.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;${springfox.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;${springfox.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\nThanks !\r\n\r\n\r\n\r\n","title":"Can&#39;t see request from my controller service in Swagger UI","body":"<p>I know this question has been asked many times. However, I have not found the solution to my problem after many attempts.</p>\n<p>I have a Java project (v17) using Spring, MongoDB and Swagger to allow services and exchanges between my front and back.</p>\n<p>However, I can't see the methods of my controller in the GUI of SWAGGER.</p>\n<p>Here is my code:</p>\n<p>Run.class :</p>\n<pre><code>package demomongo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\n\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@EnableSwagger2\n@SpringBootApplication\npublic class Run implements CommandLineRunner {\n    \n    @Autowired\n    private MongoDBExample mongoDBExample;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Run.class, args);\n    }\n\n    public void run(String... args) throws Exception {\n        // TODO Auto-generated method stub\n        \n    }\n\n}\n</code></pre>\n<p>My SwaggerConfig :</p>\n<pre><code>package demomongo;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport springfox.documentation.builders.ApiInfoBuilder;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.service.ApiInfo;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\npublic class SwaggerConfig \n{\n   @Bean\n   public Docket api() \n   {\n       return new Docket(DocumentationType.SWAGGER_2)\n               .select()\n.apis(RequestHandlerSelectors.basePackage(&quot;com.web.controller&quot;))\n               .paths(PathSelectors.any())\n               .build();\n   }\n   \n   private ApiInfo apiInfo() {\n       return new ApiInfoBuilder()\n               .title(&quot;Your API Title&quot;)\n               .description(&quot;Your API Description&quot;)\n               .version(&quot;1.0.0&quot;)\n               .build();\n   }\n }\n</code></pre>\n<p>My controller :</p>\n<pre><code>    package com.web.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport io.swagger.annotations.Api;\nimport io.swagger.annotations.ApiOperation;\n\n@RestController\n@Api\npublic class Controller {\n    \n      @Autowired\n        public Controller() {\n            \n        }\n\n    @ApiOperation(value = &quot;Dit bonjour&quot;)\n    @GetMapping(&quot;/hello&quot;)\n    public String sayHello() {\n        return &quot;Hello World!&quot;;\n    }\n\n    @RequestMapping(value = &quot;/custom&quot;, method = RequestMethod.POST)\n    public String custom() {\n        return &quot;custom&quot;;\n    }\n\n}\n</code></pre>\n<p>My POM.XML :</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.0&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;groupId&gt;demomongo&lt;/groupId&gt;\n&lt;artifactId&gt;demomongo&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;springfox.version&gt;3.0.0&lt;/springfox.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;${springfox.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;${springfox.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.4&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Thanks !</p>\n"},{"tags":["java","jmx","jconsole","jmc"],"answers":[{"tags":[],"owner":{"account_id":214082,"reputation":1684,"user_id":467841,"display_name":"Hirt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422525384,"creation_date":1422525384,"answer_id":28211655,"question_id":28204243,"body_markdown":"Depends. If you just want to get it from a locally running app, you can use the attach API. Here is an example on how to use the attach API to run diagnostic commands:\r\n\r\nhttp://hirt.se/blog/?p=542\r\n\r\nYou can also use the attach API to get at the stub for local JMXRMI communication.\r\n\r\nIf you want to start up the remote agent, you can do that using the jcmd and the ManagementAgent.start diagnostic command.","title":"How do I enable JMX/Management Agent on running JVM?","body":"<p>Depends. If you just want to get it from a locally running app, you can use the attach API. Here is an example on how to use the attach API to run diagnostic commands:</p>\n\n<p><a href=\"http://hirt.se/blog/?p=542\" rel=\"nofollow\">http://hirt.se/blog/?p=542</a></p>\n\n<p>You can also use the attach API to get at the stub for local JMXRMI communication.</p>\n\n<p>If you want to start up the remote agent, you can do that using the jcmd and the ManagementAgent.start diagnostic command.</p>\n"},{"tags":[],"owner":{"account_id":5325338,"reputation":387,"user_id":4247530,"display_name":"Thomas LIMIN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677244463,"creation_date":1676991497,"answer_id":75522219,"question_id":28204243,"body_markdown":"A little bit off-topic for cli app developer, but may be useful for command line users :\r\n\r\nYou can activate / deactivate  &quot;remote listening JMX agent&quot; of a running JVM started without anything particular regarding JMX by using the [jcmd][1] command. Constraint: command must be run on the same host and with same user than the targeted jvm\r\n\r\nenable JMX agent: \r\n\r\n     jcmd &lt;jvm_pid&gt; ManagementAgent.start \\\r\n        jmxremote.port=&lt;listen_on_tcp_port&gt; \\\r\n        jmxremote.authenticate=false \\\r\n        jmxremote.ssl=false\r\n\r\ndisable JMX agent: \r\n\r\n    jcmd &lt;jvm_pid&gt; ManagementAgent.stop\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr006.html\r\n","title":"How do I enable JMX/Management Agent on running JVM?","body":"<p>A little bit off-topic for cli app developer, but may be useful for command line users :</p>\n<p>You can activate / deactivate  &quot;remote listening JMX agent&quot; of a running JVM started without anything particular regarding JMX by using the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr006.html\" rel=\"nofollow noreferrer\">jcmd</a> command. Constraint: command must be run on the same host and with same user than the targeted jvm</p>\n<p>enable JMX agent:</p>\n<pre><code> jcmd &lt;jvm_pid&gt; ManagementAgent.start \\\n    jmxremote.port=&lt;listen_on_tcp_port&gt; \\\n    jmxremote.authenticate=false \\\n    jmxremote.ssl=false\n</code></pre>\n<p>disable JMX agent:</p>\n<pre><code>jcmd &lt;jvm_pid&gt; ManagementAgent.stop\n</code></pre>\n"}],"owner":{"account_id":1729482,"reputation":11,"user_id":1583387,"display_name":"Charlie E."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":949,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1677244463,"creation_date":1422486875,"question_id":28204243,"body_markdown":"I&#39;m trying to get JMX metrics from a currently running JVM. I&#39;d like to be able to do this without having to enable it on the CLI when running the app. I&#39;m trying to write a generic CLI utility, with some features missing from JConsole &amp; JMC. Both JConsole and JMC do this. However there doesn&#39;t seem to be any documentation anywhere on how they are doing it.","title":"How do I enable JMX/Management Agent on running JVM?","body":"<p>I'm trying to get JMX metrics from a currently running JVM. I'd like to be able to do this without having to enable it on the CLI when running the app. I'm trying to write a generic CLI utility, with some features missing from JConsole &amp; JMC. Both JConsole and JMC do this. However there doesn't seem to be any documentation anywhere on how they are doing it.</p>\n"},{"tags":["java","spring","single-sign-on","saml","sap-commerce-cloud"],"owner":{"account_id":11171469,"reputation":47,"user_id":8198318,"display_name":"iamrooovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677244333,"creation_date":1677059406,"question_id":75530920,"body_markdown":"After SAP Upgrade from 2011 to 2211, we&#39;ve had problems logging in with our D2 environment. Basically, what happens is that after typing the email address in Microsoft login page, the expectation is we are redirected to our IdP but what happens is we are redirected back to the Microsoft login page after several seconds. SAP found out in their technical analysis about this particular bean and they commented this line. I&#39;m not sure if this is the reason because we have this bean existing in 2 different XML files. One is in spring-security-config.xml in our storefront extension while the other is in our core extension inside file, samlsinglesignon-spring-security-config.xml. In our local, this issue is not happening by the way.\r\n\r\n    &lt;bean id=&quot;webSSOprofileConsumer&quot; class=&quot;org.springframework.security.saml.websso.WebSSOProfileConsumerImpl&quot;&gt;&lt;property name=&quot;responseSkew&quot; value=&quot;300&quot;/&gt;&lt;/bean&gt;\r\n\r\n**Edit:** I had a discussion with someone from SAP and the issue has nothing to do with the above bean. The issue happens because of InvalidateSessionAndMarkRequestStrategy. Somehow, our session id in the cookie is not being invalidated after authentication. SAP developer also mentioned about HybrisSessionFixationProtectionStrategy which we already have in our spring-security-config.xml. The onAuthentication method of HybrisSessionFixationProtectionStrategy is not called during my debug starting from Microsoft login until landing in our application. Can you please help me finding out why it isn&#39;t called? I don&#39;t have stale session property in our local.properties (SAP confirmed we can use this approach but it is not recommended security-wise).\r\n\r\nspring-security-config.xml:\r\n\r\n    &lt;security:http entry-point-ref=&quot;samlStorefrontEntryPoint&quot; use-expressions=&quot;false&quot;&gt;\r\n\t\t&lt;security:session-management session-authentication-strategy-ref=&quot;fixation&quot; invalid-session-url=&quot;/saml/login&quot; /&gt;...&lt;/security:http&gt;\r\n\r\nspring-mvc-config.xml:\r\n\r\n    &lt;bean id=&quot;fixation&quot; class=&quot;de.hybris.platform.servicelayer.security.spring.HybrisSessionFixationProtectionStrategy&quot;/&gt;","title":"SAML Login Loop after SAP Upgrade","body":"<p>After SAP Upgrade from 2011 to 2211, we've had problems logging in with our D2 environment. Basically, what happens is that after typing the email address in Microsoft login page, the expectation is we are redirected to our IdP but what happens is we are redirected back to the Microsoft login page after several seconds. SAP found out in their technical analysis about this particular bean and they commented this line. I'm not sure if this is the reason because we have this bean existing in 2 different XML files. One is in spring-security-config.xml in our storefront extension while the other is in our core extension inside file, samlsinglesignon-spring-security-config.xml. In our local, this issue is not happening by the way.</p>\n<pre><code>&lt;bean id=&quot;webSSOprofileConsumer&quot; class=&quot;org.springframework.security.saml.websso.WebSSOProfileConsumerImpl&quot;&gt;&lt;property name=&quot;responseSkew&quot; value=&quot;300&quot;/&gt;&lt;/bean&gt;\n</code></pre>\n<p><strong>Edit:</strong> I had a discussion with someone from SAP and the issue has nothing to do with the above bean. The issue happens because of InvalidateSessionAndMarkRequestStrategy. Somehow, our session id in the cookie is not being invalidated after authentication. SAP developer also mentioned about HybrisSessionFixationProtectionStrategy which we already have in our spring-security-config.xml. The onAuthentication method of HybrisSessionFixationProtectionStrategy is not called during my debug starting from Microsoft login until landing in our application. Can you please help me finding out why it isn't called? I don't have stale session property in our local.properties (SAP confirmed we can use this approach but it is not recommended security-wise).</p>\n<p>spring-security-config.xml:</p>\n<pre><code>&lt;security:http entry-point-ref=&quot;samlStorefrontEntryPoint&quot; use-expressions=&quot;false&quot;&gt;\n    &lt;security:session-management session-authentication-strategy-ref=&quot;fixation&quot; invalid-session-url=&quot;/saml/login&quot; /&gt;...&lt;/security:http&gt;\n</code></pre>\n<p>spring-mvc-config.xml:</p>\n<pre><code>&lt;bean id=&quot;fixation&quot; class=&quot;de.hybris.platform.servicelayer.security.spring.HybrisSessionFixationProtectionStrategy&quot;/&gt;\n</code></pre>\n"},{"tags":["java","android","crash","oncreate"],"comments":[{"owner":{"account_id":10199920,"reputation":753,"user_id":7530555,"display_name":"H.Taras"},"score":0,"creation_date":1575628420,"post_id":59211214,"comment_id":104639293,"body_markdown":"Is your MainActivity without launcher intent filter or you didn&#39;t write it here?","body":"Is your MainActivity without launcher intent filter or you didn&#39;t write it here?"},{"owner":{"account_id":3991579,"reputation":19586,"user_id":3290339,"display_name":"Onik"},"score":0,"creation_date":1575630987,"post_id":59211214,"comment_id":104640546,"body_markdown":"Show the _&quot;// init singletone&quot;_ code.","body":"Show the <i>&quot;// init singletone&quot;</i> code."},{"owner":{"account_id":14332664,"reputation":91,"user_id":10353038,"display_name":"Oleksandr Sarapulov"},"score":0,"creation_date":1575884022,"post_id":59211214,"comment_id":104702083,"body_markdown":"@H.Taras, MainAcitity contains launcher intent filter. You&#39;re right, I just did not post it here.\n\n           &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;","body":"@H.Taras, MainAcitity contains launcher intent filter. You&#39;re right, I just did not post it here.             &lt;intent-filter&gt;                 &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;                  &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;             &lt;/intent-filter&gt;"},{"owner":{"account_id":14332664,"reputation":91,"user_id":10353038,"display_name":"Oleksandr Sarapulov"},"score":0,"creation_date":1575884074,"post_id":59211214,"comment_id":104702108,"body_markdown":"@Onik , there just something like new Singleton(Context context).\n\nAnd in Singleton constructor, I just get application context from context. And init Mixpanel analytics from it. That&#39;s it","body":"@Onik , there just something like new Singleton(Context context).  And in Singleton constructor, I just get application context from context. And init Mixpanel analytics from it. That&#39;s it"},{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":0,"creation_date":1677239917,"post_id":59211214,"comment_id":133303262,"body_markdown":"I have the same problem. I realized that the application is not yet fulled initialized when the activity starts. I have a static settings member in my apllication. It&#39;s filled in onCreate(). I&#39;m pretty shure it worked many years. Maybe it&#39;s a problem with AndroidX...","body":"I have the same problem. I realized that the application is not yet fulled initialized when the activity starts. I have a static settings member in my apllication. It&#39;s filled in onCreate(). I&#39;m pretty shure it worked many years. Maybe it&#39;s a problem with AndroidX..."}],"answers":[{"tags":[],"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677244247,"creation_date":1677244247,"answer_id":75556972,"question_id":59211214,"body_markdown":"You have to move `instance = this;` from onCreate() to App&#39;s constructor.","title":"Android Application onCreate is not called before Activity onCreate","body":"<p>You have to move <code>instance = this;</code> from onCreate() to App's constructor.</p>\n"}],"owner":{"account_id":14332664,"reputation":91,"user_id":10353038,"display_name":"Oleksandr Sarapulov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1677244247,"creation_date":1575627716,"question_id":59211214,"body_markdown":"On Google Play I receive a `NullPointerException` when trying to access a static `Application` instance. It appears on different Android OS versions: Android 9, 8, and 6.\r\n\r\nFrom code it seems that `Application.onCreate()` hasn&#39;t been called or is called after `Activity.onCreate()`.\r\n\r\nI saw similar questions but without any useful response:\r\n\r\nhttps://stackoverflow.com/questions/53607129/application-oncreate-callednot-called-after-activity-oncreate\r\n\r\nhttps://stackoverflow.com/questions/56795368/android-activityoncreate-called-before-application-oncreate\r\n\r\nAs a side solution, I&#39;m going to create a separate singleton class depending on `Context` and get it with the `Context`. But, I&#39;m not sure how it will work with Dagger.\r\n\r\nMy questions are:\r\n 1. Is it an Android bug?\r\n 2. Am I doing something wrong?\r\n 3. How have other developers solved it?\r\n\r\n```\r\npublic class App extends androidx.multidex.MultiDexApplication implements Application.ActivityLifecycleCallbacks, ComponentCallbacks2 {\r\n    private static App instance;\r\n\r\n    public static App getInstance() {\r\n        return instance;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        instance = this;\r\n\r\n        // init singletone\r\n    }\r\n\r\n    private Singletone singletone;\r\n\r\n    public Singletone getSingletone() {}\r\n}\r\n\r\npublic class MainActivity extends androidx.appcompat.app.AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        // On Google Play it produces NullPointerException\r\n\r\n        Singletone singletone = App.getInstance().getSingletone();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.package.name&quot;&gt;\r\n    &lt;application\r\n        android:name=&quot;.app.App&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme.NoActionBar&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        &gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.activities.MainActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:launchMode=&quot;singleTask&quot;\r\n            android:windowSoftInputMode=&quot;adjustPan&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar.Launcher&quot;\r\n            &gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n","title":"Android Application onCreate is not called before Activity onCreate","body":"<p>On Google Play I receive a <code>NullPointerException</code> when trying to access a static <code>Application</code> instance. It appears on different Android OS versions: Android 9, 8, and 6.</p>\n<p>From code it seems that <code>Application.onCreate()</code> hasn't been called or is called after <code>Activity.onCreate()</code>.</p>\n<p>I saw similar questions but without any useful response:</p>\n<p><a href=\"https://stackoverflow.com/questions/53607129/application-oncreate-callednot-called-after-activity-oncreate\">Application onCreate called(not called) after Activity onCreate</a></p>\n<p><a href=\"https://stackoverflow.com/questions/56795368/android-activityoncreate-called-before-application-oncreate\">Android Activity::onCreate called before Application.onCreate</a></p>\n<p>As a side solution, I'm going to create a separate singleton class depending on <code>Context</code> and get it with the <code>Context</code>. But, I'm not sure how it will work with Dagger.</p>\n<p>My questions are:</p>\n<ol>\n<li>Is it an Android bug?</li>\n<li>Am I doing something wrong?</li>\n<li>How have other developers solved it?</li>\n</ol>\n<pre><code>public class App extends androidx.multidex.MultiDexApplication implements Application.ActivityLifecycleCallbacks, ComponentCallbacks2 {\n    private static App instance;\n\n    public static App getInstance() {\n        return instance;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        instance = this;\n\n        // init singletone\n    }\n\n    private Singletone singletone;\n\n    public Singletone getSingletone() {}\n}\n\npublic class MainActivity extends androidx.appcompat.app.AppCompatActivity {\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        // On Google Play it produces NullPointerException\n\n        Singletone singletone = App.getInstance().getSingletone();\n    }\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.package.name&quot;&gt;\n    &lt;application\n        android:name=&quot;.app.App&quot;\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme.NoActionBar&quot;\n        android:largeHeap=&quot;true&quot;\n        &gt;\n\n        &lt;activity\n            android:name=&quot;.activities.MainActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:launchMode=&quot;singleTask&quot;\n            android:windowSoftInputMode=&quot;adjustPan&quot;\n            android:theme=&quot;@style/AppTheme.NoActionBar.Launcher&quot;\n            &gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1595031,"reputation":1442,"user_id":1477418,"display_name":"Islam Elbanna"},"score":1,"creation_date":1677162417,"post_id":75546093,"comment_id":133286404,"body_markdown":"Could you share a complete example of the input and output?","body":"Could you share a complete example of the input and output?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1677162970,"post_id":75546093,"comment_id":133286600,"body_markdown":"What if collection B has more than one element satisfying the condition `A.id == B.identifier`?","body":"What if collection B has more than one element satisfying the condition <code>A.id == B.identifier</code>?"}],"answers":[{"tags":[],"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677163534,"creation_date":1677163534,"answer_id":75546377,"question_id":75546093,"body_markdown":"Can you use the temporary collection? If yes, I would suggest to convert `List&lt;B&gt;` into `Map&lt;Identifier, Bar&gt; mapOfB`, so you can much easier and faster find the specified `B.identifier` without need to traverse the B list for each A element.\r\n\r\nThen you can simply do something like:\r\n```java\r\nlistOfA.stream()\r\n.collect(toMap(a -&gt; a, a -&gt; {\r\n    var bar = mapOfB.get(a.getId());\r\n    if (bar == null) {\r\n        bar = getDefault();\r\n    }\r\n    return a.getFoo() + bar;\r\n}));\r\n```\r\n\r\nIf you can&#39;t create the temporary Map:\r\n```\r\nlistOfA.stream()\r\n.collect(toMap(a -&gt; a, a -&gt; {\r\n    var bar = getBarFromBOrDefault(listOfB, a.getId());\r\n    return a.getFoo() + bar;\r\n}))\r\n\r\nprivate Bar getBarFromBOrDefault(List&lt;B&gt; listOfB, Id id) {\r\n    return listOfB.stream()\r\n        .filter(b -&gt; b.getIdentity() == id) // or use .equals() here if it&#39;s not a primitive type\r\n        .findFirst()\r\n        .map(B::getBar)\r\n        .orElseGet(() -&gt; getDefault());\r\n}\r\n```","title":"Traverse two collections looking for matches, falling back to certain value for those elements that didn&#39;t match","body":"<p>Can you use the temporary collection? If yes, I would suggest to convert <code>List&lt;B&gt;</code> into <code>Map&lt;Identifier, Bar&gt; mapOfB</code>, so you can much easier and faster find the specified <code>B.identifier</code> without need to traverse the B list for each A element.</p>\n<p>Then you can simply do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>listOfA.stream()\n.collect(toMap(a -&gt; a, a -&gt; {\n    var bar = mapOfB.get(a.getId());\n    if (bar == null) {\n        bar = getDefault();\n    }\n    return a.getFoo() + bar;\n}));\n</code></pre>\n<p>If you can't create the temporary Map:</p>\n<pre><code>listOfA.stream()\n.collect(toMap(a -&gt; a, a -&gt; {\n    var bar = getBarFromBOrDefault(listOfB, a.getId());\n    return a.getFoo() + bar;\n}))\n\nprivate Bar getBarFromBOrDefault(List&lt;B&gt; listOfB, Id id) {\n    return listOfB.stream()\n        .filter(b -&gt; b.getIdentity() == id) // or use .equals() here if it's not a primitive type\n        .findFirst()\n        .map(B::getBar)\n        .orElseGet(() -&gt; getDefault());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677244117,"creation_date":1677165809,"answer_id":75546849,"question_id":75546093,"body_markdown":"You can map each `A` to the list of matching `B`s:\r\n\r\n    List&lt;A&gt; as = ...\r\n    List&lt;B&gt; bs = ...\r\n\r\n    as.stream()\r\n        .map(a -&gt; new Pair&lt;&gt;(a, bs.stream()\r\n                    .filter(b -&gt; matches(a, b))\r\n                    .toList()))\r\n        .collect(Collectors.toMap(p -&gt; p.fst, p -&gt; p.snd));\r\n\r\nFor this to work you need to declare you own `Pair` type, which is prominently missing from the JDK.\r\n\r\n    record Pair&lt;F, S&gt;(F fst, S snd) {}\r\n\r\nNote that even there is no nested for loops, there is still nested iteration:  each `A` is mapped to a list of `B`s, which is obtained by traversing all `B`s to find the ones that match. \r\n\r\n**Update**\r\n\r\nTo account for the case where you want to return a default value should there be no matches, you can move the joining to a helper method:\r\n\r\n    private List&lt;B&gt; join(A a, List&lt;B&gt; bs, B defaultB) {\r\n        List&lt;B&gt; matchingBs = bs.stream()\r\n            .filter(b -&gt; matches(a, b))\r\n            .toList();\r\n\r\n        return matchingBs.isEmpty()\r\n            ? List.of(defaultB)\r\n            : matchingBs;\r\n    }\r\n\r\nand supply a default value from within the stream processing\r\n\r\n    as.stream()\r\n        .map(a -&gt; new Pair&lt;&gt;(a, join(a, bs, defaultB(a))))\r\n        .collect(Collectors.toMap(p -&gt; p.fst, p -&gt; p.snd));\r\n","title":"Traverse two collections looking for matches, falling back to certain value for those elements that didn&#39;t match","body":"<p>You can map each <code>A</code> to the list of matching <code>B</code>s:</p>\n<pre><code>List&lt;A&gt; as = ...\nList&lt;B&gt; bs = ...\n\nas.stream()\n    .map(a -&gt; new Pair&lt;&gt;(a, bs.stream()\n                .filter(b -&gt; matches(a, b))\n                .toList()))\n    .collect(Collectors.toMap(p -&gt; p.fst, p -&gt; p.snd));\n</code></pre>\n<p>For this to work you need to declare you own <code>Pair</code> type, which is prominently missing from the JDK.</p>\n<pre><code>record Pair&lt;F, S&gt;(F fst, S snd) {}\n</code></pre>\n<p>Note that even there is no nested for loops, there is still nested iteration:  each <code>A</code> is mapped to a list of <code>B</code>s, which is obtained by traversing all <code>B</code>s to find the ones that match.</p>\n<p><strong>Update</strong></p>\n<p>To account for the case where you want to return a default value should there be no matches, you can move the joining to a helper method:</p>\n<pre><code>private List&lt;B&gt; join(A a, List&lt;B&gt; bs, B defaultB) {\n    List&lt;B&gt; matchingBs = bs.stream()\n        .filter(b -&gt; matches(a, b))\n        .toList();\n\n    return matchingBs.isEmpty()\n        ? List.of(defaultB)\n        : matchingBs;\n}\n</code></pre>\n<p>and supply a default value from within the stream processing</p>\n<pre><code>as.stream()\n    .map(a -&gt; new Pair&lt;&gt;(a, join(a, bs, defaultB(a))))\n    .collect(Collectors.toMap(p -&gt; p.fst, p -&gt; p.snd));\n</code></pre>\n"}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75546377,"answer_count":2,"score":3,"last_activity_date":1677244117,"creation_date":1677162102,"question_id":75546093,"body_markdown":"Say I have two collections of `A { id, foo }` and `B { identifier, bar }`.\r\n\r\nInitially I solved this problem using nested `for`-loops, but I did try to solve it (unsuccessful I would say) using the Stream API. Basically I need to traverse both collections looking for matches based on a given condition: `A.id === B.identifier`, in order to create a final map of `A` elements as keys and the values would be the corresponding `A.foo + B.bar` for the matches.\r\n\r\nThe problem for me in the solution using the Stream API was the second part of the requirements: if some element(s) from `A` did not satisfy the condition, a default value should be assigned (based on a function call)... and I don&#39;t know how to plug this while using the Stream API along with the rest of the conditions.\r\n\r\n&gt; Notice that the final collection will have as many elements as (initial) `A` — with the modifications.\r\n\r\nIs there an efficient way to accomplish this using the Stream API rather than using nested `for`-loops and a couple of `if` conditions?","title":"Traverse two collections looking for matches, falling back to certain value for those elements that didn&#39;t match","body":"<p>Say I have two collections of <code>A { id, foo }</code> and <code>B { identifier, bar }</code>.</p>\n<p>Initially I solved this problem using nested <code>for</code>-loops, but I did try to solve it (unsuccessful I would say) using the Stream API. Basically I need to traverse both collections looking for matches based on a given condition: <code>A.id === B.identifier</code>, in order to create a final map of <code>A</code> elements as keys and the values would be the corresponding <code>A.foo + B.bar</code> for the matches.</p>\n<p>The problem for me in the solution using the Stream API was the second part of the requirements: if some element(s) from <code>A</code> did not satisfy the condition, a default value should be assigned (based on a function call)... and I don't know how to plug this while using the Stream API along with the rest of the conditions.</p>\n<blockquote>\n<p>Notice that the final collection will have as many elements as (initial) <code>A</code> — with the modifications.</p>\n</blockquote>\n<p>Is there an efficient way to accomplish this using the Stream API rather than using nested <code>for</code>-loops and a couple of <code>if</code> conditions?</p>\n"},{"tags":["java","kotlin","sandbox"],"owner":{"account_id":19046843,"reputation":1,"user_id":13905850,"display_name":"joval"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677244115,"creation_date":1677243968,"question_id":75556932,"body_markdown":"I&#39;m trying to run a jar using java policy security.\r\n\r\nI am starting with the java security policy and to do this, I created one simple microservice (named **project**) and generated its jar (named `project.jar`) to remove permissions as I go along and get control of the java policy.\r\n\r\nAt first, here is the security policy file I created (project.policy) :\r\n\r\n```\r\n//The codeBase value here is the path to the directory containing my created jar\r\ngrant codeBase &quot;file:/home/joval/Documents/-&quot;{\r\n    permission java.security.AllPermission;\r\n};\r\n```\r\n\r\nIn the folder containing the jar, I copied the `project.policy` file and executed the command: `java -Djava.security.manager -Djava.security.policy=project.policy -Djava.security.debug=access -jar project.jar`, the option `-Djava.security.debug=access` here allows to list all permissions, granted/denied\r\n\r\nThe complete error I get is :\r\n\r\n```\r\nException in thread &quot;main&quot; java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;/home/joval/Documents/project.jar&quot; &quot;read&quot;)\r\n        at java.base/java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\r\n        at java.base/java.security.AccessController.checkPermission(AccessController.java:897)\r\n        at java.base/java.lang.SecurityManager.checkPermission(SecurityManager.java:322)\r\n        at java.base/java.lang.SecurityManager.checkRead(SecurityManager.java:661)\r\n        at java.base/sun.net.www.protocol.jar.JarFileFactory.getCachedJarFile(JarFileFactory.java:137)\r\n        at java.base/sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:81)\r\n        at java.base/sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:125)\r\n        at java.base/sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:155)\r\n        at java.base/java.net.URL.openStream(URL.java:1165)\r\n        at io.micronaut.core.io.service.ServiceScanner.computeStandardServiceTypeNames(ServiceScanner.java:97)\r\n        at io.micronaut.core.io.service.ServiceScanner.access$400(ServiceScanner.java:51)\r\n        at io.micronaut.core.io.service.ServiceScanner$UrlServicesLoader.compute(ServiceScanner.java:261)\r\n        at java.base/java.util.concurrent.RecursiveAction.exec(RecursiveAction.java:189)\r\n        at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\r\n        at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n        at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n        at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n        at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\r\n```\r\n\r\nNote that in the logs I have these lines :\r\n\r\n```\r\naccess: access allowed (&quot;java.io.FilePermission&quot; &quot;/home/joval/Documents/project.jar&quot; &quot;read&quot;)\r\naccess: access denied (&quot;java.io.FilePermission&quot; &quot;/home/joval/Documents/project.jar&quot; &quot;read&quot;)\r\naccess: access denied (&quot;java.io.FilePermission&quot; &quot;/home/joval/Documents/project.jar&quot; &quot;read&quot;)\r\naccess: access allowed (&quot;java.io.FilePermission&quot; &quot;/home/joval/Documents/project.jar&quot; &quot;read&quot;)\r\n```\r\n\r\nEven when I change the file `project.policy` to :\r\n\r\n```\r\ngrant codeBase &quot;file:/home/joval/Documents/-&quot;{\r\n    permission java.security.AllPermission;\r\n    // Although the next 2 lines are useless as I have already given all permissions\r\n    permission java.io.FilePermission &quot;/home/joval/Documents/project.jar&quot;, &quot;read&quot;;\r\n    permission java.io.FilePermission &quot;&lt;&lt;ALL FILES&gt;&quot;, &quot;read, write, delete, execute&quot;;\r\n};\r\n```\r\n\r\nAlso note that when I run the jar without security, everything is OK (using the command `java -jar project.jar`)\r\n\r\nI would please like to know where I am going wrong. Are there any shortcomings in my process?","title":"Permission error when running a jar with -Djava.security.policy","body":"<p>I'm trying to run a jar using java policy security.</p>\n<p>I am starting with the java security policy and to do this, I created one simple microservice (named <strong>project</strong>) and generated its jar (named <code>project.jar</code>) to remove permissions as I go along and get control of the java policy.</p>\n<p>At first, here is the security policy file I created (project.policy) :</p>\n<pre><code>//The codeBase value here is the path to the directory containing my created jar\ngrant codeBase &quot;file:/home/joval/Documents/-&quot;{\n    permission java.security.AllPermission;\n};\n</code></pre>\n<p>In the folder containing the jar, I copied the <code>project.policy</code> file and executed the command: <code>java -Djava.security.manager -Djava.security.policy=project.policy -Djava.security.debug=access -jar project.jar</code>, the option <code>-Djava.security.debug=access</code> here allows to list all permissions, granted/denied</p>\n<p>The complete error I get is :</p>\n<pre><code>Exception in thread &quot;main&quot; java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;/home/joval/Documents/project.jar&quot; &quot;read&quot;)\n        at java.base/java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\n        at java.base/java.security.AccessController.checkPermission(AccessController.java:897)\n        at java.base/java.lang.SecurityManager.checkPermission(SecurityManager.java:322)\n        at java.base/java.lang.SecurityManager.checkRead(SecurityManager.java:661)\n        at java.base/sun.net.www.protocol.jar.JarFileFactory.getCachedJarFile(JarFileFactory.java:137)\n        at java.base/sun.net.www.protocol.jar.JarFileFactory.get(JarFileFactory.java:81)\n        at java.base/sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:125)\n        at java.base/sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:155)\n        at java.base/java.net.URL.openStream(URL.java:1165)\n        at io.micronaut.core.io.service.ServiceScanner.computeStandardServiceTypeNames(ServiceScanner.java:97)\n        at io.micronaut.core.io.service.ServiceScanner.access$400(ServiceScanner.java:51)\n        at io.micronaut.core.io.service.ServiceScanner$UrlServicesLoader.compute(ServiceScanner.java:261)\n        at java.base/java.util.concurrent.RecursiveAction.exec(RecursiveAction.java:189)\n        at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290)\n        at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\n        at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n        at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n        at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\n</code></pre>\n<p>Note that in the logs I have these lines :</p>\n<pre><code>access: access allowed (&quot;java.io.FilePermission&quot; &quot;/home/joval/Documents/project.jar&quot; &quot;read&quot;)\naccess: access denied (&quot;java.io.FilePermission&quot; &quot;/home/joval/Documents/project.jar&quot; &quot;read&quot;)\naccess: access denied (&quot;java.io.FilePermission&quot; &quot;/home/joval/Documents/project.jar&quot; &quot;read&quot;)\naccess: access allowed (&quot;java.io.FilePermission&quot; &quot;/home/joval/Documents/project.jar&quot; &quot;read&quot;)\n</code></pre>\n<p>Even when I change the file <code>project.policy</code> to :</p>\n<pre><code>grant codeBase &quot;file:/home/joval/Documents/-&quot;{\n    permission java.security.AllPermission;\n    // Although the next 2 lines are useless as I have already given all permissions\n    permission java.io.FilePermission &quot;/home/joval/Documents/project.jar&quot;, &quot;read&quot;;\n    permission java.io.FilePermission &quot;&lt;&lt;ALL FILES&gt;&quot;, &quot;read, write, delete, execute&quot;;\n};\n</code></pre>\n<p>Also note that when I run the jar without security, everything is OK (using the command <code>java -jar project.jar</code>)</p>\n<p>I would please like to know where I am going wrong. Are there any shortcomings in my process?</p>\n"},{"tags":["java","jpa","spring-data-jpa","criteria-api"],"owner":{"account_id":3344727,"reputation":2460,"user_id":2810099,"accept_rate":81,"display_name":"Marius Manastireanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677244093,"creation_date":1677244093,"question_id":75556942,"body_markdown":"I have an entity with a collection, such as:\r\n\r\n```java\r\n    @Id\r\n    private UUID id;\r\n\r\n    @ElementCollection\r\n    private Set&lt;String&gt; tags;\r\n\r\n    ...\r\n\r\n```\r\n\r\nAnd I want to build a query which will basically _iterate_ through all tags and will perform a partial match (`tag like %text%`).\r\n\r\nBasically if a record has the following tags: `[&quot;first_tag&quot;, &quot;second_Tag&quot;, &quot;3rd&quot;]`\r\nand I query with the parameter `first` I want that record to be returned.\r\n\r\nOf course this is a stripped down version of the whole situation and the query is more complex and spread on multiple joined tables.\r\n\r\nI cannot use `criteriaBuilder.isMember(...)` because this checks for full match.\r\n\r\nIs there a _clean_ way to achieve this?\r\n","title":"How to perform partial string match in collection using CriteriaBuilder?","body":"<p>I have an entity with a collection, such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Id\n    private UUID id;\n\n    @ElementCollection\n    private Set&lt;String&gt; tags;\n\n    ...\n\n</code></pre>\n<p>And I want to build a query which will basically <em>iterate</em> through all tags and will perform a partial match (<code>tag like %text%</code>).</p>\n<p>Basically if a record has the following tags: <code>[&quot;first_tag&quot;, &quot;second_Tag&quot;, &quot;3rd&quot;]</code>\nand I query with the parameter <code>first</code> I want that record to be returned.</p>\n<p>Of course this is a stripped down version of the whole situation and the query is more complex and spread on multiple joined tables.</p>\n<p>I cannot use <code>criteriaBuilder.isMember(...)</code> because this checks for full match.</p>\n<p>Is there a <em>clean</em> way to achieve this?</p>\n"},{"tags":["java","xml","dom","escaping","invalid-characters"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1577049655,"post_id":59447599,"comment_id":105078800,"body_markdown":"Why do you need any other characters escaped?  Can you demonstrate that characters other than quotes, ampersands, less-than and greater-than are not coming back unaltered?","body":"Why do you need any other characters escaped?  Can you demonstrate that characters other than quotes, ampersands, less-than and greater-than are not coming back unaltered?"},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1577050685,"post_id":59447599,"comment_id":105078997,"body_markdown":"@VGR yes, a ```Document``` containing a ```Text``` node created with ```String.valueOf(&#39;\\uffff&#39;)``` can be transformed to a file but results in an excpetion when the file is parsed.","body":"@VGR yes, a <code>Document</code> containing a <code>Text</code> node created with <code>String.valueOf(&#39;\\uffff&#39;)</code> can be transformed to a file but results in an excpetion when the file is parsed."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1577051046,"post_id":59447599,"comment_id":105079075,"body_markdown":"This question should be reopened (see: edit in the question and the latest comment)","body":"This question should be reopened (see: edit in the question and the latest comment)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1577051847,"post_id":59447599,"comment_id":105079267,"body_markdown":"`\\uffff` is [not a valid character](http://www.fileformat.info/info/unicode/char/ffff/).  Is this really text data, or is it bytes?  Bytes should not be stored as text.","body":"<code>\\uffff</code> is <a href=\"http://www.fileformat.info/info/unicode/char/ffff/\" rel=\"nofollow noreferrer\">not a valid character</a>.  Is this really text data, or is it bytes?  Bytes should not be stored as text."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1577052279,"post_id":59447599,"comment_id":105079360,"body_markdown":"@VGR ```&#39;\\uffff&#39;``` is just one example, ```&#39;\\u0000&#39;``` also does not work. As I have stated in my question, I need a method to store an arbitrary ```String``` in the XML file.","body":"@VGR <code>&#39;\\uffff&#39;</code> is just one example, <code>&#39;\\u0000&#39;</code> also does not work. As I have stated in my question, I need a method to store an arbitrary <code>String</code> in the XML file."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1577052510,"post_id":59447599,"comment_id":105079398,"body_markdown":"Control characters from `\\u0000` to `\\u001f` are also invalid (except for tab, CR and LF), [according to the XML specification](https://www.w3.org/TR/xml/#charsets).  I ask again, are you sure this is really supposed to be text?","body":"Control characters from <code>\\u0000</code> to <code>\\u001f</code> are also invalid (except for tab, CR and LF), <a href=\"https://www.w3.org/TR/xml/#charsets\" rel=\"nofollow noreferrer\">according to the XML specification</a>.  I ask again, are you sure this is really supposed to be text?"},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1577052907,"post_id":59447599,"comment_id":105079468,"body_markdown":"@VGR I know the XML specification and I have also said that in my question that these characters are invalid. I don&#39;t know for which ```String```s the end user uses the API but it should work for an arbitrary ```String```.","body":"@VGR I know the XML specification and I have also said that in my question that these characters are invalid. I don&#39;t know for which <code>String</code>s the end user uses the API but it should work for an arbitrary <code>String</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1577053255,"post_id":59447599,"comment_id":105079522,"body_markdown":"Ah, so you did.  I know this isn’t much of an answer, but I would assume that the data is not really text data at all, so I would store it in a binary format like [base64Binary](https://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#base64Binary).  If you intend to transform the content itself, then you will indeed need to come up with some escape-like mechanism of representing those invalid characters.","body":"Ah, so you did.  I know this isn’t much of an answer, but I would assume that the data is not really text data at all, so I would store it in a binary format like <a href=\"https://www.w3.org/TR/2004/REC-xmlschema-2-20041028/datatypes.html#base64Binary\" rel=\"nofollow noreferrer\">base64Binary</a>.  If you intend to transform the content itself, then you will indeed need to come up with some escape-like mechanism of representing those invalid characters."},{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":1,"creation_date":1577057810,"post_id":59447599,"comment_id":105080294,"body_markdown":"***This material has been covered thoroughly multiple times.***  Either strip the control et. al. characters that are illegal, or encode them in some manner such as Base64.  There are libraries available to help you.  Sorry, but there&#39;s just nothing unique about your question.  Additional duplicates added.  There are many more.","body":"<b><i>This material has been covered thoroughly multiple times.</i></b>  Either strip the control et. al. characters that are illegal, or encode them in some manner such as Base64.  There are libraries available to help you.  Sorry, but there&#39;s just nothing unique about your question.  Additional duplicates added.  There are many more."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1577907207,"post_id":59447599,"comment_id":105279489,"body_markdown":"If it must be XML, I&#39;ll toss out the idea to maybe use a `CDATA` section, perhaps with the encoded Base64.  Seems like the closest fit from the XML spec.","body":"If it must be XML, I&#39;ll toss out the idea to maybe use a <code>CDATA</code> section, perhaps with the encoded Base64.  Seems like the closest fit from the XML spec."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":1,"creation_date":1577907817,"post_id":59447599,"comment_id":105279619,"body_markdown":"@markspace a ```CDATA``` section alone wouldn&#39;t solve the problem at all. Invalid XML characters (Unicode code points which are not in the ranges #x9 | #xA | #xD | [#x20-#xD7FF] | [#xE000-#xFFFD] | [#x10000-#x10FFFF]) are also invalid in a ```CDATA``` section. In combination with Base64 encoding it will work, true. Thanks for suggesting the ```CDATA``` section.","body":"@markspace a <code>CDATA</code> section alone wouldn&#39;t solve the problem at all. Invalid XML characters (Unicode code points which are not in the ranges #x9 | #xA | #xD | [#x20-#xD7FF] | [#xE000-#xFFFD] | [#x10000-#x10FFFF]) are also invalid in a <code>CDATA</code> section. In combination with Base64 encoding it will work, true. Thanks for suggesting the <code>CDATA</code> section."}],"answers":[{"tags":[],"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677243775,"creation_date":1577246049,"answer_id":59475093,"question_id":59447599,"body_markdown":"As @VGR and @kjhughes have pointed out in the comments below the question, Base64 is indeed a possible answer to my question. I do now have a further solution for my problem, which is based on escaping. I have written 2 functions ```escapeInvalidXmlCharacters(String string)``` and ```unescapeInvalidXmlCharacters(String string)``` which can be used in the following way.\r\n\r\n        String string = &quot;text#text##text#0;text&quot; + &#39;\\u0000&#39; + &quot;text&lt;text&amp;text#&quot;;\r\n        Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\r\n        Element element = document.createElement(&quot;element&quot;);\r\n        element.appendChild(document.createTextNode(escapeInvalidXmlCharacters(string)));\r\n        document.appendChild(element);\r\n        TransformerFactory.newInstance().newTransformer().transform(new DOMSource(document), new StreamResult(new File(&quot;test.xml&quot;)));\r\n        // creates &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;element&gt;text##text####text##0;text#0;text&amp;lt;text&amp;amp;text##&lt;/element&gt;\r\n        document = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(new File(&quot;test.xml&quot;));\r\n        System.out.println(unescapeInvalidXmlCharacters(document.getDocumentElement().getTextContent()).equals(string));\r\n        // prints true\r\n\r\n```escapeInvalidXmlCharacters(String string)``` and ```unescapeInvalidXmlCharacters(String string)```:\r\n\r\n    /**\r\n     * Escapes invalid XML Unicode code points in a &lt;code&gt;{@link String}&lt;/code&gt;. The\r\n     * DOM API already escapes predefined entities, such as {@code &quot;}, {@code &amp;},\r\n     * {@code &#39;}, {@code &lt;} and {@code &gt;} for\r\n     * &lt;code&gt;{@link org.w3c.dom.Text Text}&lt;/code&gt; nodes. Therefore, these Unicode\r\n     * code points are ignored by this function. However, there are some other\r\n     * invalid XML Unicode code points, such as {@code &#39;\\u0000&#39;}, which are even\r\n     * invalid in their escaped form, such as {@code &quot;&amp;#0;&quot;}.\r\n     * &lt;p&gt;\r\n     * This function replaces all {@code &#39;#&#39;} by {@code &quot;##&quot;} and all Unicode code\r\n     * points that are not in the ranges #x9 | #xA | #xD | [#x20-#xD7FF] |\r\n     * [#xE000-#xFFFD] | [#x10000-#x10FFFF] by the &lt;code&gt;{@link String}&lt;/code&gt;\r\n     * {@code &quot;#c;&quot;}, where &lt;code&gt;c&lt;/code&gt; is the Unicode code point.\r\n     *\r\n     * @param string the &lt;code&gt;{@link String}&lt;/code&gt; to be escaped\r\n     * @return the escaped &lt;code&gt;{@link String}&lt;/code&gt;\r\n     * @see &lt;code&gt;{@link #unescapeInvalidXmlCharacters(String)}&lt;/code&gt;\r\n     */\r\n    public static final String escapeInvalidXmlCharacters(String string) {\r\n        if (string == null) {\r\n            throw new IllegalArgumentException(&quot;string cannot be null&quot;);\r\n        }\r\n\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n\r\n        for (int i = 0, codePoint = 0; i &lt; string.length(); i += Character.charCount(codePoint)) {\r\n            codePoint = string.codePointAt(i);\r\n\r\n            if (codePoint == &#39;#&#39;) {\r\n                stringBuilder.append(&quot;##&quot;);\r\n            } else if (codePoint == 0x9 || codePoint == 0xA || codePoint == 0xD || codePoint &gt;= 0x20 &amp;&amp; codePoint &lt;= 0xD7FF || codePoint &gt;= 0xE000 &amp;&amp; codePoint &lt;= 0xFFFD || codePoint &gt;= 0x10000 &amp;&amp; codePoint &lt;= 0x10FFFF) {\r\n                stringBuilder.appendCodePoint(codePoint);\r\n            } else {\r\n                stringBuilder.append(&quot;#&quot; + codePoint + &quot;;&quot;);\r\n            }\r\n        }\r\n\r\n        return stringBuilder.toString();\r\n    }\r\n\r\n    /**\r\n     * Unescapes invalid XML Unicode code points in a &lt;code&gt;{@link String}&lt;/code&gt;.\r\n     * Makes &lt;code&gt;{@link #escapeInvalidXmlCharacters(String)}&lt;/code&gt; undone.\r\n     *\r\n     * @param string the &lt;code&gt;{@link String}&lt;/code&gt; to be unescaped\r\n     * @return the unescaped &lt;code&gt;{@link String}&lt;/code&gt;\r\n     * @see &lt;code&gt;{@link #escapeInvalidXmlCharacters(String)}&lt;/code&gt;\r\n     */\r\n    public static final String unescapeInvalidXmlCharacters(String string) {\r\n        if (string == null) {\r\n            throw new IllegalArgumentException(&quot;string cannot be null&quot;);\r\n        }\r\n\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        boolean escaped = false;\r\n\r\n        for (int i = 0, codePoint = 0; i &lt; string.length(); i += Character.charCount(codePoint)) {\r\n            codePoint = string.codePointAt(i);\r\n\r\n            if (escaped) {\r\n                stringBuilder.appendCodePoint(codePoint);\r\n                escaped = false;\r\n            } else if (codePoint == &#39;#&#39;) {\r\n                StringBuilder intBuilder = new StringBuilder();\r\n                int j;\r\n\r\n                for (j = i + 1; j &lt; string.length(); j += Character.charCount(codePoint)) {\r\n                    codePoint = string.codePointAt(j);\r\n\r\n                    if (codePoint == &#39;;&#39;) {\r\n                        escaped = true;\r\n                        break;\r\n                    }\r\n\r\n                    if (codePoint &gt;= 48 &amp;&amp; codePoint &lt;= 57) {\r\n                        intBuilder.appendCodePoint(codePoint);\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (escaped) {\r\n                    try {\r\n                        codePoint = Integer.parseInt(intBuilder.toString());\r\n                        stringBuilder.appendCodePoint(codePoint);\r\n                        escaped = false;\r\n                        i = j;\r\n                    } catch (IllegalArgumentException e) {\r\n                        codePoint = &#39;#&#39;;\r\n                        escaped = true;\r\n                    }\r\n                } else {\r\n                    codePoint = &#39;#&#39;;\r\n                    escaped = true;\r\n                }\r\n            } else {\r\n                stringBuilder.appendCodePoint(codePoint);\r\n            }\r\n        }\r\n\r\n        return stringBuilder.toString();\r\n    }\r\n\r\nNote that these functions are probably very inefficient and can be written in a better way. Feel free to post suggestions to improve the code in the comments.","title":"Java DOM transforming and parsing arbitrary strings with invalid XML characters?","body":"<p>As @VGR and @kjhughes have pointed out in the comments below the question, Base64 is indeed a possible answer to my question. I do now have a further solution for my problem, which is based on escaping. I have written 2 functions <code>escapeInvalidXmlCharacters(String string)</code> and <code>unescapeInvalidXmlCharacters(String string)</code> which can be used in the following way.</p>\n<pre><code>    String string = &quot;text#text##text#0;text&quot; + '\\u0000' + &quot;text&lt;text&amp;text#&quot;;\n    Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();\n    Element element = document.createElement(&quot;element&quot;);\n    element.appendChild(document.createTextNode(escapeInvalidXmlCharacters(string)));\n    document.appendChild(element);\n    TransformerFactory.newInstance().newTransformer().transform(new DOMSource(document), new StreamResult(new File(&quot;test.xml&quot;)));\n    // creates &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;element&gt;text##text####text##0;text#0;text&amp;lt;text&amp;amp;text##&lt;/element&gt;\n    document = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(new File(&quot;test.xml&quot;));\n    System.out.println(unescapeInvalidXmlCharacters(document.getDocumentElement().getTextContent()).equals(string));\n    // prints true\n</code></pre>\n<p><code>escapeInvalidXmlCharacters(String string)</code> and <code>unescapeInvalidXmlCharacters(String string)</code>:</p>\n<pre><code>/**\n * Escapes invalid XML Unicode code points in a &lt;code&gt;{@link String}&lt;/code&gt;. The\n * DOM API already escapes predefined entities, such as {@code &quot;}, {@code &amp;},\n * {@code '}, {@code &lt;} and {@code &gt;} for\n * &lt;code&gt;{@link org.w3c.dom.Text Text}&lt;/code&gt; nodes. Therefore, these Unicode\n * code points are ignored by this function. However, there are some other\n * invalid XML Unicode code points, such as {@code '\\u0000'}, which are even\n * invalid in their escaped form, such as {@code &quot;&amp;#0;&quot;}.\n * &lt;p&gt;\n * This function replaces all {@code '#'} by {@code &quot;##&quot;} and all Unicode code\n * points that are not in the ranges #x9 | #xA | #xD | [#x20-#xD7FF] |\n * [#xE000-#xFFFD] | [#x10000-#x10FFFF] by the &lt;code&gt;{@link String}&lt;/code&gt;\n * {@code &quot;#c;&quot;}, where &lt;code&gt;c&lt;/code&gt; is the Unicode code point.\n *\n * @param string the &lt;code&gt;{@link String}&lt;/code&gt; to be escaped\n * @return the escaped &lt;code&gt;{@link String}&lt;/code&gt;\n * @see &lt;code&gt;{@link #unescapeInvalidXmlCharacters(String)}&lt;/code&gt;\n */\npublic static final String escapeInvalidXmlCharacters(String string) {\n    if (string == null) {\n        throw new IllegalArgumentException(&quot;string cannot be null&quot;);\n    }\n\n    StringBuilder stringBuilder = new StringBuilder();\n\n    for (int i = 0, codePoint = 0; i &lt; string.length(); i += Character.charCount(codePoint)) {\n        codePoint = string.codePointAt(i);\n\n        if (codePoint == '#') {\n            stringBuilder.append(&quot;##&quot;);\n        } else if (codePoint == 0x9 || codePoint == 0xA || codePoint == 0xD || codePoint &gt;= 0x20 &amp;&amp; codePoint &lt;= 0xD7FF || codePoint &gt;= 0xE000 &amp;&amp; codePoint &lt;= 0xFFFD || codePoint &gt;= 0x10000 &amp;&amp; codePoint &lt;= 0x10FFFF) {\n            stringBuilder.appendCodePoint(codePoint);\n        } else {\n            stringBuilder.append(&quot;#&quot; + codePoint + &quot;;&quot;);\n        }\n    }\n\n    return stringBuilder.toString();\n}\n\n/**\n * Unescapes invalid XML Unicode code points in a &lt;code&gt;{@link String}&lt;/code&gt;.\n * Makes &lt;code&gt;{@link #escapeInvalidXmlCharacters(String)}&lt;/code&gt; undone.\n *\n * @param string the &lt;code&gt;{@link String}&lt;/code&gt; to be unescaped\n * @return the unescaped &lt;code&gt;{@link String}&lt;/code&gt;\n * @see &lt;code&gt;{@link #escapeInvalidXmlCharacters(String)}&lt;/code&gt;\n */\npublic static final String unescapeInvalidXmlCharacters(String string) {\n    if (string == null) {\n        throw new IllegalArgumentException(&quot;string cannot be null&quot;);\n    }\n\n    StringBuilder stringBuilder = new StringBuilder();\n    boolean escaped = false;\n\n    for (int i = 0, codePoint = 0; i &lt; string.length(); i += Character.charCount(codePoint)) {\n        codePoint = string.codePointAt(i);\n\n        if (escaped) {\n            stringBuilder.appendCodePoint(codePoint);\n            escaped = false;\n        } else if (codePoint == '#') {\n            StringBuilder intBuilder = new StringBuilder();\n            int j;\n\n            for (j = i + 1; j &lt; string.length(); j += Character.charCount(codePoint)) {\n                codePoint = string.codePointAt(j);\n\n                if (codePoint == ';') {\n                    escaped = true;\n                    break;\n                }\n\n                if (codePoint &gt;= 48 &amp;&amp; codePoint &lt;= 57) {\n                    intBuilder.appendCodePoint(codePoint);\n                } else {\n                    break;\n                }\n            }\n\n            if (escaped) {\n                try {\n                    codePoint = Integer.parseInt(intBuilder.toString());\n                    stringBuilder.appendCodePoint(codePoint);\n                    escaped = false;\n                    i = j;\n                } catch (IllegalArgumentException e) {\n                    codePoint = '#';\n                    escaped = true;\n                }\n            } else {\n                codePoint = '#';\n                escaped = true;\n            }\n        } else {\n            stringBuilder.appendCodePoint(codePoint);\n        }\n    }\n\n    return stringBuilder.toString();\n}\n</code></pre>\n<p>Note that these functions are probably very inefficient and can be written in a better way. Feel free to post suggestions to improve the code in the comments.</p>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1577992468,"creation_date":1577916657,"answer_id":59556497,"question_id":59447599,"body_markdown":"One technique is to encode the whole string as Base64-encoded-UTF8.\r\n\r\nBut if the &quot;special&quot; characters are rare, that&#39;s a significant sacrifice in readability and file size.\r\n\r\nAnother technique is to represent special characters as processing instructions, for example `&lt;?U 0000?&gt;` for codepoint 0.\r\n\r\nAnother would be to use backslash escaping, for example \\u0000 for codepoint 0, and of course \\\\ for backslash itself. This has the advantage that you can probably find existing library routines that do this for you (for example JSON conversion libraries). I can&#39;t imagine why your requirements say you can&#39;t use such libraries; but if you really can&#39;t, then it&#39;s not hard to write the code yourself.","title":"Java DOM transforming and parsing arbitrary strings with invalid XML characters?","body":"<p>One technique is to encode the whole string as Base64-encoded-UTF8.</p>\n\n<p>But if the \"special\" characters are rare, that's a significant sacrifice in readability and file size.</p>\n\n<p>Another technique is to represent special characters as processing instructions, for example <code>&lt;?U 0000?&gt;</code> for codepoint 0.</p>\n\n<p>Another would be to use backslash escaping, for example \\u0000 for codepoint 0, and of course \\ for backslash itself. This has the advantage that you can probably find existing library routines that do this for you (for example JSON conversion libraries). I can't imagine why your requirements say you can't use such libraries; but if you really can't, then it's not hard to write the code yourself.</p>\n"},{"tags":[],"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578000244,"creation_date":1577994155,"answer_id":59569101,"question_id":59447599,"body_markdown":"I think the simplest solution is using XML 1.1 (supported by `org.w3c.dom`) by using this preprocessor:\r\n\r\n&lt;code&gt;&amp;lt;?xml &lt;b&gt;version=1.1&lt;/b&gt; encoding=UTF-8 standalone=yes?&amp;gt;&lt;/code&gt;\r\n\r\nAccording to [Wikipedia](https://en.wikipedia.org/wiki/Valid_characters_in_XML#Characters_allowed_but_discouraged) the only invalid characters in XML 1.1 are U+0000, [surrogates](https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates), [U+FFFE and U+FFFF](https://en.wikipedia.org/wiki/Specials_(Unicode_block)#ref_UFFF0_black)\r\n\r\nThis code snippet ensures you always get a correct XML 1.1 string, omitting illegal chars (might not be what you looks for though if you need the exact same string back):\r\n\r\n    public static String escape(String orig) {\r\n\t\tStringBuilder builder = new StringBuilder();\r\n\r\n\t\tfor (char c : orig.toCharArray()) {\r\n\t\t\tif (c == 0x0 || c == 0xfffe || c == 0xffff || (c &gt;= 0xd800 &amp;&amp; c &lt;= 0xdfff)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (c == &#39;\\&#39;&#39;) {\r\n\t\t\t\tbuilder.append(&quot;&amp;apos;&quot;);\r\n\t\t\t} else if (c == &#39;&quot;&#39;) {\r\n\t\t\t\tbuilder.append(&quot;&amp;quot;&quot;);\r\n\t\t\t} else if (c == &#39;&amp;&#39;) {\r\n\t\t\t\tbuilder.append(&quot;&amp;amp;&quot;);\r\n\t\t\t} else if (c == &#39;&lt;&#39;) {\r\n\t\t\t\tbuilder.append(&quot;&amp;lt;&quot;);\r\n\t\t\t} else if (c == &#39;&gt;&#39;) {\r\n\t\t\t\tbuilder.append(&quot;&amp;gt;&quot;);\r\n\t\t\t} else if (c &lt;= 0x1f) {\r\n\t\t\t\tbuilder.append(&quot;&amp;#&quot; + ((int) c) + &quot;;&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tbuilder.append(c);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn builder.toString();\r\n\t}","title":"Java DOM transforming and parsing arbitrary strings with invalid XML characters?","body":"<p>I think the simplest solution is using XML 1.1 (supported by <code>org.w3c.dom</code>) by using this preprocessor:</p>\n\n<p><code>&lt;?xml <b>version=1.1</b> encoding=UTF-8 standalone=yes?&gt;</code></p>\n\n<p>According to <a href=\"https://en.wikipedia.org/wiki/Valid_characters_in_XML#Characters_allowed_but_discouraged\" rel=\"nofollow noreferrer\">Wikipedia</a> the only invalid characters in XML 1.1 are U+0000, <a href=\"https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\" rel=\"nofollow noreferrer\">surrogates</a>, <a href=\"https://en.wikipedia.org/wiki/Specials_(Unicode_block)#ref_UFFF0_black\" rel=\"nofollow noreferrer\">U+FFFE and U+FFFF</a></p>\n\n<p>This code snippet ensures you always get a correct XML 1.1 string, omitting illegal chars (might not be what you looks for though if you need the exact same string back):</p>\n\n<pre><code>public static String escape(String orig) {\n    StringBuilder builder = new StringBuilder();\n\n    for (char c : orig.toCharArray()) {\n        if (c == 0x0 || c == 0xfffe || c == 0xffff || (c &gt;= 0xd800 &amp;&amp; c &lt;= 0xdfff)) {\n            continue;\n        } else if (c == '\\'') {\n            builder.append(\"&amp;apos;\");\n        } else if (c == '\"') {\n            builder.append(\"&amp;quot;\");\n        } else if (c == '&amp;') {\n            builder.append(\"&amp;amp;\");\n        } else if (c == '&lt;') {\n            builder.append(\"&amp;lt;\");\n        } else if (c == '&gt;') {\n            builder.append(\"&amp;gt;\");\n        } else if (c &lt;= 0x1f) {\n            builder.append(\"&amp;#\" + ((int) c) + \";\");\n        } else {\n            builder.append(c);\n        }\n    }\n\n    return builder.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2484,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":59475093,"answer_count":3,"score":4,"last_activity_date":1677243775,"creation_date":1577044415,"question_id":59447599,"body_markdown":"First of all I want to mention that this is not a duplicate of https://stackoverflow.com/q/44765194/3882565 because I don&#39;t have a given invalid (or not well-formed) XML file but rather a given arbitrary Java ```String``` which may or may not contain an invalid XML character. I want to create a DOM ```Document``` containing a ```Text``` node with the given ```String```, then transform it to a file. When the file is parsed to a DOM ```Document``` I want to get a ```String``` which is equal to the initial given ```String```. I create the ```Text``` node with ```org.w3c.dom.Document#createTextNode(String data)``` and I get the String with ```org.w3c.dom.Node#getTextContent()```.\r\n\r\nAs you can see in https://stackoverflow.com/a/28152666/3882565 there are some invalid characters for ```Text``` nodes in a XML file. Actually there are two different types of &quot;invalid&quot; characters for ```Text``` nodes. There are predefined entities such as ```&quot;```, ```&amp;```, ```&#39;```, ```&lt;``` and ```&gt;``` which are automatically escaped by the DOM API with ```&amp;quot;```, ```&amp;amp;```, ```&amp;apos;```, ```&amp;lt;``` and ```&amp;gt;``` in the resulting file which is undone by the DOM API when the file is parsed. Now the problem is that this is not the case for other invalid characters such as ```&#39;\\u0000&#39;``` or ```&#39;\\uffff&#39;```. An exception occurs when parsing the file because ```&#39;\\u0000&#39;``` and ```&#39;\\uffff&#39;``` are invalid characters.\r\n\r\nProbably I have to implement a method which escapes those characters in the given ```String``` in a unique way before submitting it to the DOM API and undo that later when I get the ```String``` back, right? Is there a better way to do this? Did someone implement those or similar methods in the past?\r\n\r\n**Edit:** This question was marked as duplicate of https://stackoverflow.com/q/439298/3882565. I have now read all of the answers but none of them solves my problem. All of the answers suggest:\r\n\r\n - Using a XML library such as the DOM API which I already do and none of those libraries actually replaces invalid characters except ```&quot;```, ```&amp;```, ```&#39;```, ```&lt;```, ```&gt;``` and a few more.\r\n - Replacing all invalid characters by ```&quot;&amp;#number;&quot;``` which results in an exception for invalid characters such as ```&quot;&amp;#0;&quot;``` when parsing the file.\r\n - Using a third party library with an XML encode method which do not support illegal characters such as ```&quot;&amp;#0;&quot;``` (they are skipped in some libraries).\r\n - Using a CDATA section which doesn&#39;t support invalid characters either.","title":"Java DOM transforming and parsing arbitrary strings with invalid XML characters?","body":"<p>First of all I want to mention that this is not a duplicate of <a href=\"https://stackoverflow.com/q/44765194/3882565\">How to parse invalid (bad / not well-formed) XML?</a> because I don't have a given invalid (or not well-formed) XML file but rather a given arbitrary Java <code>String</code> which may or may not contain an invalid XML character. I want to create a DOM <code>Document</code> containing a <code>Text</code> node with the given <code>String</code>, then transform it to a file. When the file is parsed to a DOM <code>Document</code> I want to get a <code>String</code> which is equal to the initial given <code>String</code>. I create the <code>Text</code> node with <code>org.w3c.dom.Document#createTextNode(String data)</code> and I get the String with <code>org.w3c.dom.Node#getTextContent()</code>.</p>\n\n<p>As you can see in <a href=\"https://stackoverflow.com/a/28152666/3882565\">https://stackoverflow.com/a/28152666/3882565</a> there are some invalid characters for <code>Text</code> nodes in a XML file. Actually there are two different types of \"invalid\" characters for <code>Text</code> nodes. There are predefined entities such as <code>\"</code>, <code>&amp;</code>, <code>'</code>, <code>&lt;</code> and <code>&gt;</code> which are automatically escaped by the DOM API with <code>&amp;quot;</code>, <code>&amp;amp;</code>, <code>&amp;apos;</code>, <code>&amp;lt;</code> and <code>&amp;gt;</code> in the resulting file which is undone by the DOM API when the file is parsed. Now the problem is that this is not the case for other invalid characters such as <code>'\\u0000'</code> or <code>'\\uffff'</code>. An exception occurs when parsing the file because <code>'\\u0000'</code> and <code>'\\uffff'</code> are invalid characters.</p>\n\n<p>Probably I have to implement a method which escapes those characters in the given <code>String</code> in a unique way before submitting it to the DOM API and undo that later when I get the <code>String</code> back, right? Is there a better way to do this? Did someone implement those or similar methods in the past?</p>\n\n<p><strong>Edit:</strong> This question was marked as duplicate of <a href=\"https://stackoverflow.com/q/439298/3882565\">Best way to encode text data for XML in Java?</a>. I have now read all of the answers but none of them solves my problem. All of the answers suggest:</p>\n\n<ul>\n<li>Using a XML library such as the DOM API which I already do and none of those libraries actually replaces invalid characters except <code>\"</code>, <code>&amp;</code>, <code>'</code>, <code>&lt;</code>, <code>&gt;</code> and a few more.</li>\n<li>Replacing all invalid characters by <code>\"&amp;#number;\"</code> which results in an exception for invalid characters such as <code>\"&amp;#0;\"</code> when parsing the file.</li>\n<li>Using a third party library with an XML encode method which do not support illegal characters such as <code>\"&amp;#0;\"</code> (they are skipped in some libraries).</li>\n<li>Using a CDATA section which doesn't support invalid characters either.</li>\n</ul>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":21135111,"reputation":11,"user_id":15538703,"display_name":"Cosmin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677243719,"creation_date":1677243719,"question_id":75556894,"body_markdown":"I have a simple maven project which conects to a postgrewql batabase, and in persistence.xml i wan&#39;t to replace the literal username and password with the values i already setup in environment variables. Is it possible to do this somehow?\r\n\r\ni don&#39;t use Spring, just Java and hibernate.\r\n\r\npersistence.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.1&quot;\r\n             xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n    http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;com.zegasoftware.jpa&quot;\r\n                      transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;class&gt;com.zegasoftware.entities.Movie&lt;/class&gt;\r\n        &lt;class&gt;com.zegasoftware.entities.People&lt;/class&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot;\r\n                      value=&quot;none&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.provider&quot;\r\n                      value=&quot;org.hibernate.jpa.HibernatePersistenceProvider&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot;\r\n                      value=&quot;org.postgresql.Driver&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot;\r\n                      value=&quot;jdbc:postgresql://localhost:5432/&lt;db_name&gt;&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot;\r\n                      value=&quot;&lt;pass&gt;&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;\r\n                      value=&quot;org.hibernate.dialect.PostgreSQL82Dialect&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.zegasoftware&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jpa-movies&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;postgres.version&gt;42.5.4&lt;/postgres.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;${postgres.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.17.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n            &lt;version&gt;3.25.0-GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\nThank you.\r\n\r\nMaven,\r\nJava 18,\r\nHibernate JPA 2,\r\nPostgresQL 15\r\n\r\nI&#39;ve searched online and i cannot find a right answer !","title":"Replace literal user and password from persistence.xml","body":"<p>I have a simple maven project which conects to a postgrewql batabase, and in persistence.xml i wan't to replace the literal username and password with the values i already setup in environment variables. Is it possible to do this somehow?</p>\n<p>i don't use Spring, just Java and hibernate.</p>\n<p>persistence.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot;\n             xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\n    http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;com.zegasoftware.jpa&quot;\n                      transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;class&gt;com.zegasoftware.entities.Movie&lt;/class&gt;\n        &lt;class&gt;com.zegasoftware.entities.People&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot;\n                      value=&quot;none&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.provider&quot;\n                      value=&quot;org.hibernate.jpa.HibernatePersistenceProvider&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot;\n                      value=&quot;org.postgresql.Driver&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot;\n                      value=&quot;jdbc:postgresql://localhost:5432/&lt;db_name&gt;&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot;\n                      value=&quot;&lt;pass&gt;&quot;/&gt;\n            &lt;property name=&quot;hibernate.dialect&quot;\n                      value=&quot;org.hibernate.dialect.PostgreSQL82Dialect&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.zegasoftware&lt;/groupId&gt;\n    &lt;artifactId&gt;jpa-movies&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;postgres.version&gt;42.5.4&lt;/postgres.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;${postgres.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.17.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n            &lt;version&gt;3.25.0-GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Thank you.</p>\n<p>Maven,\nJava 18,\nHibernate JPA 2,\nPostgresQL 15</p>\n<p>I've searched online and i cannot find a right answer !</p>\n"},{"tags":["java","scala","apache-spark","kubernetes","hadoop"],"answers":[{"tags":[],"owner":{"account_id":2366306,"reputation":857,"user_id":2071924,"accept_rate":50,"display_name":"jonas.hartwig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677243611,"creation_date":1677243611,"answer_id":75556875,"question_id":75553553,"body_markdown":"So, lots of testing. This is a solution that works in shell, client and cluster mode with kerberos on kubernetes:\r\n\r\n```\r\nspark-submit ... \\\r\n  --conf spark.executor.extraJavaOptions=-Djava.security.krb5.conf=/opt/spark/conf/krb5.conf \\\r\n  --conf spark.driver.extraJavaOptions=-Djava.security.krb5.conf=/opt/spark/conf/krb5.conf\r\n````\r\n\r\nBut this only works if `hdfs-site.xml`, `core-site.xml` and `krb5.conf` are placed in SPARK_CONF_DIR. The contents are automatically shipped to executors and drivers. As this option works for all scenarios, using the kerberos and hadoop configmaps seems not favorable. If you only need cluster mode. I would go with those though.\r\n\r\nregards","title":"Spark Shell on Kubernetes with Kerberos enabled Cluster","body":"<p>So, lots of testing. This is a solution that works in shell, client and cluster mode with kerberos on kubernetes:</p>\n<pre><code>spark-submit ... \\\n  --conf spark.executor.extraJavaOptions=-Djava.security.krb5.conf=/opt/spark/conf/krb5.conf \\\n  --conf spark.driver.extraJavaOptions=-Djava.security.krb5.conf=/opt/spark/conf/krb5.conf\n</code></pre>\n<p>But this only works if <code>hdfs-site.xml</code>, <code>core-site.xml</code> and <code>krb5.conf</code> are placed in SPARK_CONF_DIR. The contents are automatically shipped to executors and drivers. As this option works for all scenarios, using the kerberos and hadoop configmaps seems not favorable. If you only need cluster mode. I would go with those though.</p>\n<p>regards</p>\n"}],"owner":{"account_id":2366306,"reputation":857,"user_id":2071924,"accept_rate":50,"display_name":"jonas.hartwig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677243611,"creation_date":1677222845,"question_id":75553553,"body_markdown":"I have a hard time to get the spark shell (3.3.1) on kubernetes to work with kerberos. It works in cluster mode and client mode for submit. Here is what we did to get it to work:\r\n\r\ncluster mode (works fine):\r\n1. create a krb5.conf configmap and config map containeing `hdfs-site.xml` and `core-site.xml`\r\n2. create a key tab file and mount it into pod doing spark-submit\r\n3. use `spark.kubernetes.hadoop.configMapName` and `spark.kubernetes.kerberos.krb5.configMapName` to make spark mount them\r\n4. set `spark.kerberos.keytab` and `spark.kerberos.principal`\r\n\r\nclient mode (works fine):\r\n1. mount `hdfs-site.xml` and `core-site.xml` into spark conf dir in submitting pod\r\n2. mount `krb5.conf` into `/etc/krb5.conf`\r\n3. use kinit to get kerberos ticket or set `spark.kerberos.keytab` and `spark.kerberos.principal` (both options work)\r\n\r\nspark shell (does not work):\r\n1. mount `hdfs-site.xml` and `core-site.xml` into spark conf dir in submitting pod\r\n2. mount `krb5.conf` into `/etc/krb5.conf`\r\n3. use kinit to get kerberos ticket or set `spark.kerberos.keytab` and `spark.kerberos.principal` (no options works)\r\n\r\nWhat did we try:\r\n1. use kinit and set `spark.kerberos.renewal.credentials` to `ccache` and set env variable KRB5CCNAME to path to where kinit stores the ticket (no effect)\r\n2. verified that configuration files are loaded in spark history server\r\n3. put krb5.conf into spark conf dir\r\n4. use java env arguments to point to krb5.conf (inside spark conf dir)\r\n\r\nObserved behavior: Spark does not seem to do any kerberos magic at all. It seems to ignore the kerberos security settings. Not that all settings from client and cluster mode still apply. Here is the error we get:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Can&#39;t get Kerberos realm\r\nat org.apache.hadoop.security.HadoopKerberosName.setConfiguration(HadoopKerberosName.java:71)\r\nat org.apache.hadoop.security.UserGroupInformation.initialize(UserGroupInformation.java:315)\r\nat org.apache.hadoop.security.UserGroupInformation.setConfiguration(UserGroupInformation.java:366)\r\nat org.apache.spark.deploy.SparkHadoopUtil.&lt;init&gt;(SparkHadoopUtil.scala:50)\r\nat org.apache.spark.deploy.SparkHadoopUtil$.instance$lzycompute(SparkHadoopUtil.scala:397)\r\nat org.apache.spark.deploy.SparkHadoopUtil$.instance(SparkHadoopUtil.scala:397)\r\nat org.apache.spark.deploy.SparkHadoopUtil$.get(SparkHadoopUtil.scala:418)\r\nat org.apache.spark.executor.CoarseGrainedExecutorBackend$.run(CoarseGrainedExecutorBackend.scala:424)\r\nat org.apache.spark.executor.CoarseGrainedExecutorBackend$.main(CoarseGrainedExecutorBackend.scala:413)\r\nat org.apache.spark.executor.CoarseGrainedExecutorBackend.main(CoarseGrainedExecutorBackend.scala)\r\nCaused by: java.lang.IllegalArgumentException: KrbException: Cannot locate default realm\r\nat javax.security.auth.kerberos.KerberosPrincipal.&lt;init&gt;(KerberosPrincipal.java:159)\r\nat org.apache.hadoop.security.authentication.util.KerberosUtil.getDefaultRealm(KerberosUtil.java:120)\r\nat org.apache.hadoop.security.HadoopKerberosName.setConfiguration(HadoopKerberosName.java:69)\r\n... 9 more\r\n```\r\n\r\nUPDATE:\r\nJust for testing, I put the krb5.conf on all the hosts and mounted it into the executors. Then the above problem disappeared.\r\n\r\n```\r\nspark-shell \\\r\n  --conf spark.kubernetes.executor.volumes.hostPath.krb5.mount.path=/opt/krb5 \\\r\n  --conf spark.kubernetes.executor.volumes.hostPath.krb5.options.path=/etc \\\r\n  --conf spark.executor.extraJavaOptions=&quot;-Djava.security.krb5.conf=/opt/krb5/krb5.conf&quot;\r\n```\r\nThis could find the Kerberos config. So we did a kinit and got this error:\r\n\r\n```\r\njava.io.IOException: org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[TOKEN, KERBEROS]\r\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\nat org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:913)\r\nat org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:888)\r\nat org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1616)\r\nat org.apache.hadoop.ipc.Client.call(Client.java:1558)\r\nat org.apache.hadoop.ipc.Client.call(Client.java:1455)\r\nat org.apache.hadoop.ipc.ProtobufRpcEngine2$Invoker.invoke(ProtobufRpcEngine2.java:242)\r\nat org.apache.hadoop.ipc.ProtobufRpcEngine2$Invoker.invoke(ProtobufRpcEngine2.java:129)\r\nat com.sun.proxy.$Proxy34.getBlockLocations(Unknown Source)\r\nat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getBlockLocations(ClientNamenodeProtocolTranslatorPB.java:333)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)\r\nat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)\r\nat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)\r\nat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)\r\nat org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)\r\nat com.sun.proxy.$Proxy35.getBlockLocations(Unknown Source)\r\nat org.apache.hadoop.hdfs.DFSClient.callGetBlockLocations(DFSClient.java:900)\r\nat org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:889)\r\nat org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:878)\r\nat org.apache.hadoop.hdfs.DFSClient.open(DFSClient.java:1046)\r\nat org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:340)\r\nat org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:336)\r\nat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\r\nat org.apache.hadoop.hdfs.DistributedFileSystem.open(DistributedFileSystem.java:353)\r\nat org.apache.hadoop.fs.FileSystem.lambda$openFileWithOptions$0(FileSystem.java:4633)\r\nat org.apache.hadoop.util.LambdaUtils.eval(LambdaUtils.java:52)\r\nat org.apache.hadoop.fs.FileSystem.openFileWithOptions(FileSystem.java:4631)\r\nat org.apache.hadoop.fs.FileSystem$FSDataInputStreamBuilder.build(FileSystem.java:4768)\r\nat org.apache.hadoop.mapreduce.lib.input.LineRecordReader.initialize(LineRecordReader.java:92)\r\nat org.apache.spark.sql.execution.datasources.HadoopFileLinesReader.&lt;init&gt;(HadoopFileLinesReader.scala:65)\r\nat org.apache.spark.sql.execution.datasources.text.TextFileFormat.$anonfun$readToUnsafeMem$1(TextFileFormat.scala:119)\r\nat org.apache.spark.sql.execution.datasources.FileFormat$$anon$1.apply(FileFormat.scala:149)\r\nat org.apache.spark.sql.execution.datasources.FileFormat$$anon$1.apply(FileFormat.scala:134)\r\nat org.apache.spark.sql.execution.datasources.FileScanRDD$$anon$1.org$apache$spark$sql$execution$datasources$FileScanRDD$$anon$$readCurrentFile(FileScanRDD.scala:209)\r\nat org.apache.spark.sql.execution.datasources.FileScanRDD$$anon$1.nextIterator(FileScanRDD.scala:270)\r\nat org.apache.spark.sql.execution.datasources.FileScanRDD$$anon$1.hasNext(FileScanRDD.scala:116)\r\nat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\r\nat org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\nat org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\nat org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:760)\r\nat org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:364)\r\nat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)\r\nat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)\r\nat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\nat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\r\nat org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\r\nat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\nat org.apache.spark.scheduler.Task.run(Task.scala:136)\r\nat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\nat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\r\nat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\nat java.lang.Thread.run(Thread.java:750)\r\nCaused by: java.io.IOException: org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[TOKEN, KERBEROS]\r\nat org.apache.hadoop.ipc.Client$Connection$1.run(Client.java:798)\r\nat java.security.AccessController.doPrivileged(Native Method)\r\nat javax.security.auth.Subject.doAs(Subject.java:422)\r\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\r\nat org.apache.hadoop.ipc.Client$Connection.handleSaslConnectionFailure(Client.java:752)\r\nat org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:856)\r\nat org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:414)\r\nat org.apache.hadoop.ipc.Client.getConnection(Client.java:1677)\r\nat org.apache.hadoop.ipc.Client.call(Client.java:1502)\r\n... 53 more\r\nCaused by: org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[TOKEN, KERBEROS]\r\nat org.apache.hadoop.security.SaslRpcClient.selectSaslClient(SaslRpcClient.java:179)\r\nat org.apache.hadoop.security.SaslRpcClient.saslConnect(SaslRpcClient.java:392)\r\nat org.apache.hadoop.ipc.Client$Connection.setupSaslConnection(Client.java:623)\r\nat org.apache.hadoop.ipc.Client$Connection.access$2300(Client.java:414)\r\nat org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:843)\r\nat org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:839)\r\nat java.security.AccessController.doPrivileged(Native Method)\r\nat javax.security.auth.Subject.doAs(Subject.java:422)\r\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\r\nat org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:839)\r\n... 56 more\r\n```\r\n\r\nSo then we tried using keytabs:\r\n```\r\nspark-shell \\\r\n  --conf spark.kubernetes.executor.volumes.hostPath.krb5.mount.path=/opt/krb5 \\\r\n  --conf spark.kubernetes.executor.volumes.hostPath.krb5.options.path=/etc \\\r\n  --conf spark.executor.extraJavaOptions=&quot;-Djava.security.krb5.conf=/opt/krb5/krb5.conf&quot; \\\r\n  --conf spark.kerberos.principal=principal \\\r\n  --conf spark.kerberos.keytab=principal.keytab \r\n```\r\nWhich failed with the above error. But it became clear that the keytab is missing on the executors. So we put it there with Spark.\r\n\r\n```\r\nspark-shell \\\r\n  --conf spark.kubernetes.executor.volumes.hostPath.krb5.mount.path=/opt/krb5 \\\r\n  --conf spark.kubernetes.executor.volumes.hostPath.krb5.options.path=/etc \\\r\n  --conf spark.executor.extraJavaOptions=&quot;-Djava.security.krb5.conf=/opt/krb5/krb5.conf&quot; \\\r\n  --conf spark.kerberos.principal=principal \\\r\n  --conf spark.kerberos.keytab=principal.keytab \\\r\n  --files /home/principal/principal.keytab\r\n```\r\n\r\nWe tried putting the `krb5.conf` similar to the keytab, that did not work.\r\n\r\nSo that worked now. But it has a few drawbacks.\r\n1. The `krb5.conf` we need in spark shell is not the same we want on the hosts\r\n2. &lt;strike&gt;uploading the keytab like this is not safe, it can be taken from the spark archive and misused&lt;/strike&gt;\r\n\r\nWhat we would like to have is that this works similar to spark-submit. We would like to mount the `krb5.conf` from a configmap and use the keytab from a secret, or that a secret is created.\r\n\r\nHow can this be done? Any advice is more than welcome.\r\n\r\nThanks","title":"Spark Shell on Kubernetes with Kerberos enabled Cluster","body":"<p>I have a hard time to get the spark shell (3.3.1) on kubernetes to work with kerberos. It works in cluster mode and client mode for submit. Here is what we did to get it to work:</p>\n<p>cluster mode (works fine):</p>\n<ol>\n<li>create a krb5.conf configmap and config map containeing <code>hdfs-site.xml</code> and <code>core-site.xml</code></li>\n<li>create a key tab file and mount it into pod doing spark-submit</li>\n<li>use <code>spark.kubernetes.hadoop.configMapName</code> and <code>spark.kubernetes.kerberos.krb5.configMapName</code> to make spark mount them</li>\n<li>set <code>spark.kerberos.keytab</code> and <code>spark.kerberos.principal</code></li>\n</ol>\n<p>client mode (works fine):</p>\n<ol>\n<li>mount <code>hdfs-site.xml</code> and <code>core-site.xml</code> into spark conf dir in submitting pod</li>\n<li>mount <code>krb5.conf</code> into <code>/etc/krb5.conf</code></li>\n<li>use kinit to get kerberos ticket or set <code>spark.kerberos.keytab</code> and <code>spark.kerberos.principal</code> (both options work)</li>\n</ol>\n<p>spark shell (does not work):</p>\n<ol>\n<li>mount <code>hdfs-site.xml</code> and <code>core-site.xml</code> into spark conf dir in submitting pod</li>\n<li>mount <code>krb5.conf</code> into <code>/etc/krb5.conf</code></li>\n<li>use kinit to get kerberos ticket or set <code>spark.kerberos.keytab</code> and <code>spark.kerberos.principal</code> (no options works)</li>\n</ol>\n<p>What did we try:</p>\n<ol>\n<li>use kinit and set <code>spark.kerberos.renewal.credentials</code> to <code>ccache</code> and set env variable KRB5CCNAME to path to where kinit stores the ticket (no effect)</li>\n<li>verified that configuration files are loaded in spark history server</li>\n<li>put krb5.conf into spark conf dir</li>\n<li>use java env arguments to point to krb5.conf (inside spark conf dir)</li>\n</ol>\n<p>Observed behavior: Spark does not seem to do any kerberos magic at all. It seems to ignore the kerberos security settings. Not that all settings from client and cluster mode still apply. Here is the error we get:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Can't get Kerberos realm\nat org.apache.hadoop.security.HadoopKerberosName.setConfiguration(HadoopKerberosName.java:71)\nat org.apache.hadoop.security.UserGroupInformation.initialize(UserGroupInformation.java:315)\nat org.apache.hadoop.security.UserGroupInformation.setConfiguration(UserGroupInformation.java:366)\nat org.apache.spark.deploy.SparkHadoopUtil.&lt;init&gt;(SparkHadoopUtil.scala:50)\nat org.apache.spark.deploy.SparkHadoopUtil$.instance$lzycompute(SparkHadoopUtil.scala:397)\nat org.apache.spark.deploy.SparkHadoopUtil$.instance(SparkHadoopUtil.scala:397)\nat org.apache.spark.deploy.SparkHadoopUtil$.get(SparkHadoopUtil.scala:418)\nat org.apache.spark.executor.CoarseGrainedExecutorBackend$.run(CoarseGrainedExecutorBackend.scala:424)\nat org.apache.spark.executor.CoarseGrainedExecutorBackend$.main(CoarseGrainedExecutorBackend.scala:413)\nat org.apache.spark.executor.CoarseGrainedExecutorBackend.main(CoarseGrainedExecutorBackend.scala)\nCaused by: java.lang.IllegalArgumentException: KrbException: Cannot locate default realm\nat javax.security.auth.kerberos.KerberosPrincipal.&lt;init&gt;(KerberosPrincipal.java:159)\nat org.apache.hadoop.security.authentication.util.KerberosUtil.getDefaultRealm(KerberosUtil.java:120)\nat org.apache.hadoop.security.HadoopKerberosName.setConfiguration(HadoopKerberosName.java:69)\n... 9 more\n</code></pre>\n<p>UPDATE:\nJust for testing, I put the krb5.conf on all the hosts and mounted it into the executors. Then the above problem disappeared.</p>\n<pre><code>spark-shell \\\n  --conf spark.kubernetes.executor.volumes.hostPath.krb5.mount.path=/opt/krb5 \\\n  --conf spark.kubernetes.executor.volumes.hostPath.krb5.options.path=/etc \\\n  --conf spark.executor.extraJavaOptions=&quot;-Djava.security.krb5.conf=/opt/krb5/krb5.conf&quot;\n</code></pre>\n<p>This could find the Kerberos config. So we did a kinit and got this error:</p>\n<pre><code>java.io.IOException: org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[TOKEN, KERBEROS]\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:913)\nat org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:888)\nat org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1616)\nat org.apache.hadoop.ipc.Client.call(Client.java:1558)\nat org.apache.hadoop.ipc.Client.call(Client.java:1455)\nat org.apache.hadoop.ipc.ProtobufRpcEngine2$Invoker.invoke(ProtobufRpcEngine2.java:242)\nat org.apache.hadoop.ipc.ProtobufRpcEngine2$Invoker.invoke(ProtobufRpcEngine2.java:129)\nat com.sun.proxy.$Proxy34.getBlockLocations(Unknown Source)\nat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getBlockLocations(ClientNamenodeProtocolTranslatorPB.java:333)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)\nat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)\nat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)\nat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)\nat org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)\nat com.sun.proxy.$Proxy35.getBlockLocations(Unknown Source)\nat org.apache.hadoop.hdfs.DFSClient.callGetBlockLocations(DFSClient.java:900)\nat org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:889)\nat org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:878)\nat org.apache.hadoop.hdfs.DFSClient.open(DFSClient.java:1046)\nat org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:340)\nat org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:336)\nat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\nat org.apache.hadoop.hdfs.DistributedFileSystem.open(DistributedFileSystem.java:353)\nat org.apache.hadoop.fs.FileSystem.lambda$openFileWithOptions$0(FileSystem.java:4633)\nat org.apache.hadoop.util.LambdaUtils.eval(LambdaUtils.java:52)\nat org.apache.hadoop.fs.FileSystem.openFileWithOptions(FileSystem.java:4631)\nat org.apache.hadoop.fs.FileSystem$FSDataInputStreamBuilder.build(FileSystem.java:4768)\nat org.apache.hadoop.mapreduce.lib.input.LineRecordReader.initialize(LineRecordReader.java:92)\nat org.apache.spark.sql.execution.datasources.HadoopFileLinesReader.&lt;init&gt;(HadoopFileLinesReader.scala:65)\nat org.apache.spark.sql.execution.datasources.text.TextFileFormat.$anonfun$readToUnsafeMem$1(TextFileFormat.scala:119)\nat org.apache.spark.sql.execution.datasources.FileFormat$$anon$1.apply(FileFormat.scala:149)\nat org.apache.spark.sql.execution.datasources.FileFormat$$anon$1.apply(FileFormat.scala:134)\nat org.apache.spark.sql.execution.datasources.FileScanRDD$$anon$1.org$apache$spark$sql$execution$datasources$FileScanRDD$$anon$$readCurrentFile(FileScanRDD.scala:209)\nat org.apache.spark.sql.execution.datasources.FileScanRDD$$anon$1.nextIterator(FileScanRDD.scala:270)\nat org.apache.spark.sql.execution.datasources.FileScanRDD$$anon$1.hasNext(FileScanRDD.scala:116)\nat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:460)\nat org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\nat org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\nat org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:760)\nat org.apache.spark.sql.execution.SparkPlan.$anonfun$getByteArrayRdd$1(SparkPlan.scala:364)\nat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:890)\nat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:890)\nat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\nat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365)\nat org.apache.spark.rdd.RDD.iterator(RDD.scala:329)\nat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\nat org.apache.spark.scheduler.Task.run(Task.scala:136)\nat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\nat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504)\nat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:750)\nCaused by: java.io.IOException: org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[TOKEN, KERBEROS]\nat org.apache.hadoop.ipc.Client$Connection$1.run(Client.java:798)\nat java.security.AccessController.doPrivileged(Native Method)\nat javax.security.auth.Subject.doAs(Subject.java:422)\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\nat org.apache.hadoop.ipc.Client$Connection.handleSaslConnectionFailure(Client.java:752)\nat org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:856)\nat org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:414)\nat org.apache.hadoop.ipc.Client.getConnection(Client.java:1677)\nat org.apache.hadoop.ipc.Client.call(Client.java:1502)\n... 53 more\nCaused by: org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[TOKEN, KERBEROS]\nat org.apache.hadoop.security.SaslRpcClient.selectSaslClient(SaslRpcClient.java:179)\nat org.apache.hadoop.security.SaslRpcClient.saslConnect(SaslRpcClient.java:392)\nat org.apache.hadoop.ipc.Client$Connection.setupSaslConnection(Client.java:623)\nat org.apache.hadoop.ipc.Client$Connection.access$2300(Client.java:414)\nat org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:843)\nat org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:839)\nat java.security.AccessController.doPrivileged(Native Method)\nat javax.security.auth.Subject.doAs(Subject.java:422)\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\nat org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:839)\n... 56 more\n</code></pre>\n<p>So then we tried using keytabs:</p>\n<pre><code>spark-shell \\\n  --conf spark.kubernetes.executor.volumes.hostPath.krb5.mount.path=/opt/krb5 \\\n  --conf spark.kubernetes.executor.volumes.hostPath.krb5.options.path=/etc \\\n  --conf spark.executor.extraJavaOptions=&quot;-Djava.security.krb5.conf=/opt/krb5/krb5.conf&quot; \\\n  --conf spark.kerberos.principal=principal \\\n  --conf spark.kerberos.keytab=principal.keytab \n</code></pre>\n<p>Which failed with the above error. But it became clear that the keytab is missing on the executors. So we put it there with Spark.</p>\n<pre><code>spark-shell \\\n  --conf spark.kubernetes.executor.volumes.hostPath.krb5.mount.path=/opt/krb5 \\\n  --conf spark.kubernetes.executor.volumes.hostPath.krb5.options.path=/etc \\\n  --conf spark.executor.extraJavaOptions=&quot;-Djava.security.krb5.conf=/opt/krb5/krb5.conf&quot; \\\n  --conf spark.kerberos.principal=principal \\\n  --conf spark.kerberos.keytab=principal.keytab \\\n  --files /home/principal/principal.keytab\n</code></pre>\n<p>We tried putting the <code>krb5.conf</code> similar to the keytab, that did not work.</p>\n<p>So that worked now. But it has a few drawbacks.</p>\n<ol>\n<li>The <code>krb5.conf</code> we need in spark shell is not the same we want on the hosts</li>\n<li><strike>uploading the keytab like this is not safe, it can be taken from the spark archive and misused</strike></li>\n</ol>\n<p>What we would like to have is that this works similar to spark-submit. We would like to mount the <code>krb5.conf</code> from a configmap and use the keytab from a secret, or that a secret is created.</p>\n<p>How can this be done? Any advice is more than welcome.</p>\n<p>Thanks</p>\n"},{"tags":["java","windows","java-8","windows-10"],"comments":[{"owner":{"account_id":4403380,"reputation":301,"user_id":3588406,"accept_rate":64,"display_name":"kushal"},"score":0,"creation_date":1454394581,"post_id":35146443,"comment_id":58012279,"body_markdown":"Seems that your javac.exe is missing somehow. Have you accidentally deleted it ? Or just try reinstalling again.Haven&#39;t faced such a problem with javac yet. And once you install it, add the bin folder to your path.","body":"Seems that your javac.exe is missing somehow. Have you accidentally deleted it ? Or just try reinstalling again.Haven&#39;t faced such a problem with javac yet. And once you install it, add the bin folder to your path."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1454394638,"post_id":35146443,"comment_id":58012301,"body_markdown":"Maybe you have installed a jre not a jdk under a path wich is called jdk?","body":"Maybe you have installed a jre not a jdk under a path wich is called jdk?"},{"owner":{"account_id":6083264,"reputation":15205,"user_id":5399734,"accept_rate":71,"display_name":"nalzok"},"score":0,"creation_date":1454394948,"post_id":35146443,"comment_id":58012421,"body_markdown":"@kushal No, it can&#39;t be, because this is a new installation. In fact, I have already reinstalled it several times. `C:\\Java\\jdk1.8.0_72\\bin\\` is added to `path`, but it still doesn&#39;t work.","body":"@kushal No, it can&#39;t be, because this is a new installation. In fact, I have already reinstalled it several times. <code>C:\\Java\\jdk1.8.0_72\\bin` is added to </code>path`, but it still doesn&#39;t work."},{"owner":{"account_id":6083264,"reputation":15205,"user_id":5399734,"accept_rate":71,"display_name":"nalzok"},"score":0,"creation_date":1454395110,"post_id":35146443,"comment_id":58012479,"body_markdown":"@Jens The installer I&#39;ve downloaded from Oracle is called `jdk-8u72-windows-x64.exe`. Judging from its name, I suppose it&#39;s a JDK installer.","body":"@Jens The installer I&#39;ve downloaded from Oracle is called <code>jdk-8u72-windows-x64.exe</code>. Judging from its name, I suppose it&#39;s a JDK installer."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1454396089,"post_id":35146443,"comment_id":58012892,"body_markdown":"Next time ignore what it says in the book and use the default. Works 100% for me.","body":"Next time ignore what it says in the book and use the default. Works 100% for me."}],"answers":[{"tags":[],"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1454406085,"creation_date":1454395123,"answer_id":35146693,"question_id":35146443,"body_markdown":"It is inside bin directory under your `C:\\Java\\jdk1.8.0_72`.\r\nNow you need to update your Environment variables and append `C:\\Java\\jdk1.8.0_72\\bin` to the Path variable after semi colon. Important: do not delete the existing Path variable, just append `C:\\Java\\jdk1.8.0_72`\r\n\r\nNow reopen the command prompt and type javac. \r\n\r\nEdit:\r\nCould it be that when installer asked you where you want the JRE installed you pointed to the same dir where you told the installer to put JDK? In that case the installer will overwrite the content of bin of JDK by the content of bin of JRE.","title":"`javac.exe` not found in the `jdk\\bin`","body":"<p>It is inside bin directory under your <code>C:\\Java\\jdk1.8.0_72</code>.\nNow you need to update your Environment variables and append <code>C:\\Java\\jdk1.8.0_72\\bin</code> to the Path variable after semi colon. Important: do not delete the existing Path variable, just append <code>C:\\Java\\jdk1.8.0_72</code></p>\n\n<p>Now reopen the command prompt and type javac. </p>\n\n<p>Edit:\nCould it be that when installer asked you where you want the JRE installed you pointed to the same dir where you told the installer to put JDK? In that case the installer will overwrite the content of bin of JDK by the content of bin of JRE.</p>\n"},{"tags":[],"owner":{"account_id":1007950,"reputation":483,"user_id":1021172,"display_name":"Ekrem"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1454395699,"creation_date":1454395699,"answer_id":35146823,"question_id":35146443,"body_markdown":"I have downloaded same file and changed install path assuming you also did it. \r\n\r\nSame thing happened. Java installer installed a jre under the path i have choosen but also installed a jdk under C:\\Program Files\\Java\\jdk1.8.0_72.\r\nPlease check that.\r\n\r\nI do not know why installer behaves like that but i think you can find javac under C:\\Program Files\\Java\\jdk1.8.0_72\\bin\r\n","title":"`javac.exe` not found in the `jdk\\bin`","body":"<p>I have downloaded same file and changed install path assuming you also did it. </p>\n\n<p>Same thing happened. Java installer installed a jre under the path i have choosen but also installed a jdk under C:\\Program Files\\Java\\jdk1.8.0_72.\nPlease check that.</p>\n\n<p>I do not know why installer behaves like that but i think you can find javac under C:\\Program Files\\Java\\jdk1.8.0_72\\bin</p>\n"},{"tags":[],"owner":{"account_id":6083264,"reputation":15205,"user_id":5399734,"accept_rate":71,"display_name":"nalzok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454397361,"creation_date":1454397361,"answer_id":35147251,"question_id":35146443,"body_markdown":"You have to choose **different** destination paths for JDK and JRE, or one will cover another!\r\n\r\nFor example, this works well:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/8jZRr.png\r\n  [2]: http://i.stack.imgur.com/mOg8J.png","title":"`javac.exe` not found in the `jdk\\bin`","body":"<p>You have to choose <strong>different</strong> destination paths for JDK and JRE, or one will cover another!</p>\n\n<p>For example, this works well:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8jZRr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8jZRr.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/mOg8J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mOg8J.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7440271,"reputation":1201,"user_id":5658251,"display_name":"Eswar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531122759,"creation_date":1531122759,"answer_id":51240508,"question_id":35146443,"body_markdown":"I have had the same problem. However I realized that I did not install the java jdk itself and so, I went to this [link][1] and downloaded the windows x64 version and just followed [suit][2].\r\n\r\nIt worked. May be you can uninstall the java jdk and do it afresh.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n  [2]: https://www.youtube.com/watch?v=bVjsFFkPgbo","title":"`javac.exe` not found in the `jdk\\bin`","body":"<p>I have had the same problem. However I realized that I did not install the java jdk itself and so, I went to this <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">link</a> and downloaded the windows x64 version and just followed <a href=\"https://www.youtube.com/watch?v=bVjsFFkPgbo\" rel=\"nofollow noreferrer\">suit</a>.</p>\n\n<p>It worked. May be you can uninstall the java jdk and do it afresh.</p>\n"},{"tags":[],"owner":{"account_id":12974691,"reputation":43,"user_id":9379103,"display_name":"Ujjwal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1540138598,"creation_date":1540138598,"answer_id":52917350,"question_id":35146443,"body_markdown":"Just download the javac.exe from this link &quot;http://originaldll.com/file/javac.exe/31755.html&quot;\r\nand paste it in the bin folder and then add path variables","title":"`javac.exe` not found in the `jdk\\bin`","body":"<p>Just download the javac.exe from this link \"<a href=\"http://originaldll.com/file/javac.exe/31755.html\" rel=\"nofollow noreferrer\">http://originaldll.com/file/javac.exe/31755.html</a>\"\nand paste it in the bin folder and then add path variables</p>\n"},{"tags":[],"owner":{"account_id":9315934,"reputation":11,"user_id":6916289,"display_name":"Mark Bain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551144418,"creation_date":1551144418,"answer_id":54877159,"question_id":35146443,"body_markdown":"I was having the same problem with 1.8. I was trying to &#39;Run&#39; the download through any of the browsers (IE, Firefox, Chrome) all of them did not produce a &#39;Javac.exe&#39; file. So I decided to download and &#39;Save&#39; the install .exe to my local machine and then execute it from there.  When I did this (and I also changed the default install directory) It produced a Javac.exe file.\r\n\r\n\r\nI think the issue here is trying to &quot;install&quot; through a browser.  Download and SAVE the install.exe to your machine and execute it on your machine NOT through the browser.\r\n","title":"`javac.exe` not found in the `jdk\\bin`","body":"<p>I was having the same problem with 1.8. I was trying to 'Run' the download through any of the browsers (IE, Firefox, Chrome) all of them did not produce a 'Javac.exe' file. So I decided to download and 'Save' the install .exe to my local machine and then execute it from there.  When I did this (and I also changed the default install directory) It produced a Javac.exe file.</p>\n\n<p>I think the issue here is trying to \"install\" through a browser.  Download and SAVE the install.exe to your machine and execute it on your machine NOT through the browser.</p>\n"},{"tags":[],"owner":{"account_id":4254061,"reputation":1975,"user_id":3480193,"accept_rate":83,"display_name":"RedDragonWebDesign"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598476368,"creation_date":1598476368,"answer_id":63605814,"question_id":35146443,"body_markdown":"Make sure you install the Java SDK, and not Java RE. I installed Java RE only and it didn&#39;t work, and I was scratching my head.\r\n\r\nJava RE is what is suggested to you by default when you visit java.com. It is an easy mistake to make.","title":"`javac.exe` not found in the `jdk\\bin`","body":"<p>Make sure you install the Java SDK, and not Java RE. I installed Java RE only and it didn't work, and I was scratching my head.</p>\n<p>Java RE is what is suggested to you by default when you visit java.com. It is an easy mistake to make.</p>\n"},{"tags":[],"owner":{"account_id":26712937,"reputation":45,"user_id":20317966,"display_name":"jxon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667514471,"creation_date":1667514471,"answer_id":74310224,"question_id":35146443,"body_markdown":"idk if this was supposed to answer your question but i tried running my 1.19 server .jar and then it took me to this website and i downloaded the .msi file and javac suddenly started working. it never worked even the control panel or the path never works.\r\n\r\n(url)[https://adoptium.net/]\r\n\r\ncredits: gleacc","title":"`javac.exe` not found in the `jdk\\bin`","body":"<p>idk if this was supposed to answer your question but i tried running my 1.19 server .jar and then it took me to this website and i downloaded the .msi file and javac suddenly started working. it never worked even the control panel or the path never works.</p>\n<p>(url)[https://adoptium.net/]</p>\n<p>credits: gleacc</p>\n"},{"tags":[],"owner":{"account_id":27838034,"reputation":1,"user_id":21255061,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677243316,"creation_date":1676952570,"answer_id":75516220,"question_id":35146443,"body_markdown":"I was able to solve this issue by downloading the Windows Java 19 JDK compressed zip file from https://www.oracle.com/java/technologies/downloads/#jdk19-windows. I unzipped the file and added it to the Java folder that was located inside my C:/Program Files (x86).\r\n\r\nNote: Originally, I downloaded a compressed zip file which was jre1.9.0_361, but this was this was the incorrect file.\r\n\r\nAfterwards, I right-clicked Windows &gt; System &gt; Advanced System Settings. I then selected the PATH(Path) variable and clicked edit. I then clicked New and typed in the following:\r\n\r\n;C:\\Windows\\Program Files (x86)\\Java\\jdk-19.0.2\r\n\r\nOnce I did this, I loaded up the ghidraRun.bat file, clicked enter to bring up the dialogue, went to the C:\\Windows\\Program Files (x86)\\Java\\jdk-19.0.2, and I successfully loaded the software.","title":"`javac.exe` not found in the `jdk\\bin`","body":"<p>I was able to solve this issue by downloading the Windows Java 19 JDK compressed zip file from <a href=\"https://www.oracle.com/java/technologies/downloads/#jdk19-windows\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/#jdk19-windows</a>. I unzipped the file and added it to the Java folder that was located inside my C:/Program Files (x86).</p>\n<p>Note: Originally, I downloaded a compressed zip file which was jre1.9.0_361, but this was this was the incorrect file.</p>\n<p>Afterwards, I right-clicked Windows &gt; System &gt; Advanced System Settings. I then selected the PATH(Path) variable and clicked edit. I then clicked New and typed in the following:</p>\n<p>;C:\\Windows\\Program Files (x86)\\Java\\jdk-19.0.2</p>\n<p>Once I did this, I loaded up the ghidraRun.bat file, clicked enter to bring up the dialogue, went to the C:\\Windows\\Program Files (x86)\\Java\\jdk-19.0.2, and I successfully loaded the software.</p>\n"}],"owner":{"account_id":6083264,"reputation":15205,"user_id":5399734,"accept_rate":71,"display_name":"nalzok"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33316,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":35146693,"answer_count":9,"score":10,"last_activity_date":1677243316,"creation_date":1454394111,"question_id":35146443,"body_markdown":"I&#39;m trying installing JDK on my Surface Pro 3, running 64-bit Windows 10.\r\n\r\nAs the authors of _Core Java_ suggest, I installed Java at `C:\\Java\\jdk1.8.0_72\\`, to avoid spaces in the path name. And I swear that I&#39;ve installed a **JDK**(Downloaded from [here][1]), other than a **JRE**.\r\n\r\nHowever, after setting the environment variable `path`, I opened Command Prompt, entered `javac -version`, and it told me `&#39;javac&#39; is not recognized as an internal or external command, operable program or batch file.`. So I checked `C:\\Java\\jdk1.8.0_72\\bin\\`, and there is no executable file called `javac.exe`!\r\n\r\nHow can it be? And what I&#39;m supposed to do now?\r\n\r\n[![`jave -version works well, but `javac -version` does not.`][2]][2]\r\n\r\n[![There is no `javac.exe`][3]][3]\r\n\r\nHere is the CMD output when I ran `dir` under the `jdk\\bin`:\r\n\r\n    Microsoft Windows [版本 10.0.10240]\r\n    (c) 2015 Microsoft Corporation. All rights reserved.\r\n    \r\n    C:\\Users\\sqy&gt;cd C:\\Java\\jdk1.8.0_72\\bin\r\n    \r\n    C:\\Java\\jdk1.8.0_72\\bin&gt;dir\r\n     驱动器 C 中的卷没有标签。\r\n     卷的序列号是 D611-8A7A\r\n    \r\n     C:\\Java\\jdk1.8.0_72\\bin 的目录\r\n    \r\n    2016/02/02  13:28    &lt;DIR&gt;          .\r\n    2016/02/02  13:28    &lt;DIR&gt;          ..\r\n    2016/02/02  13:28         1,182,304 awt.dll\r\n    2016/02/02  13:28            15,456 bci.dll\r\n    2016/02/02  13:28    &lt;DIR&gt;          client\r\n    2016/02/02  13:28           142,944 dcpr.dll\r\n    2016/02/02  13:28            63,584 decora_sse.dll\r\n    2016/02/02  13:28           451,168 deploy.dll\r\n    2016/02/02  13:28    &lt;DIR&gt;          dtplugin\r\n    2016/02/02  13:28            25,184 dt_shmem.dll\r\n    2016/02/02  13:28            21,600 dt_socket.dll\r\n    2016/02/02  13:28           109,152 eula.dll\r\n    2016/02/02  13:28           222,816 fontmanager.dll\r\n    2016/02/02  13:28           151,136 fxplugins.dll\r\n    2016/02/02  13:28           200,800 glass.dll\r\n    2016/02/02  13:28           400,992 glib-lite.dll\r\n    2016/02/02  13:28           514,656 gstreamer-lite.dll\r\n    2016/02/02  13:28           131,680 hprof.dll\r\n    2016/02/02  13:28           115,808 instrument.dll\r\n    2016/02/02  13:28            16,480 j2pcsc.dll\r\n    2016/02/02  13:28            51,296 j2pkcs11.dll\r\n    2016/02/02  13:28            19,552 jaas_nt.dll\r\n    2016/02/02  13:28            30,816 jabswitch.exe\r\n    2016/02/02  13:28            15,968 java-rmi.exe\r\n    2016/02/02  13:28           126,560 java.dll\r\n    2016/02/02  13:28           191,072 java.exe\r\n    2016/02/02  13:28           127,584 JavaAccessBridge.dll\r\n    2016/02/02  13:28           153,088 javacpl.cpl\r\n    2016/02/02  13:28            68,704 javacpl.exe\r\n    2016/02/02  13:28            57,440 javafx_font.dll\r\n    2016/02/02  13:28           444,000 javafx_font_t2k.dll\r\n    2016/02/02  13:28           126,048 javafx_iio.dll\r\n    2016/02/02  13:28           191,584 javaw.exe\r\n    2016/02/02  13:28           268,384 javaws.exe\r\n    2016/02/02  13:28            23,648 java_crw_demo.dll\r\n    2016/02/02  13:28            13,920 jawt.dll\r\n    2016/02/02  13:28            14,944 JAWTAccessBridge.dll\r\n    2016/02/02  13:28           163,936 jdwp.dll\r\n    2016/02/02  13:28            22,624 jfr.dll\r\n    2016/02/02  13:28           115,296 jfxmedia.dll\r\n    2016/02/02  13:28        33,926,240 jfxwebkit.dll\r\n    2016/02/02  13:28            15,968 jjs.exe\r\n    2016/02/02  13:28           158,816 jli.dll\r\n    2016/02/02  13:28           205,920 jp2iexp.dll\r\n    2016/02/02  13:28            77,920 jp2launcher.exe\r\n    2016/02/02  13:28            19,040 jp2native.dll\r\n    2016/02/02  13:28           173,152 jp2ssv.dll\r\n    2016/02/02  13:28           146,016 jpeg.dll\r\n    2016/02/02  13:28            16,480 jsdt.dll\r\n    2016/02/02  13:28            30,816 jsound.dll\r\n    2016/02/02  13:28            27,744 jsoundds.dll\r\n    2016/02/02  13:28           178,272 kcms.dll\r\n    2016/02/02  13:28            15,968 keytool.exe\r\n    2016/02/02  13:28            15,968 kinit.exe\r\n    2016/02/02  13:28            15,968 klist.exe\r\n    2016/02/02  13:28            15,968 ktab.exe\r\n    2016/02/02  13:28           185,952 lcms.dll\r\n    2016/02/02  13:28            33,376 management.dll\r\n    2016/02/02  13:28           574,560 mlib_image.dll\r\n    2016/02/02  13:28           455,328 msvcp120.dll\r\n    2016/02/02  13:28           773,968 msvcr100.dll\r\n    2016/02/02  13:28           970,912 msvcr120.dll\r\n    2016/02/02  13:28            79,968 net.dll\r\n    2016/02/02  13:28            51,296 nio.dll\r\n    2016/02/02  13:28            17,504 npt.dll\r\n    2016/02/02  13:28            16,480 orbd.exe\r\n    2016/02/02  13:28            15,968 pack200.exe\r\n    2016/02/02  13:28    &lt;DIR&gt;          plugin2\r\n    2016/02/02  13:28            15,968 policytool.exe\r\n    2016/02/02  13:28            52,832 prism_common.dll\r\n    2016/02/02  13:28           116,832 prism_d3d.dll\r\n    2016/02/02  13:28            86,112 prism_sw.dll\r\n    2016/02/02  13:28            14,944 resource.dll\r\n    2016/02/02  13:28            15,968 rmid.exe\r\n    2016/02/02  13:28            15,968 rmiregistry.exe\r\n    2016/02/02  13:28            15,968 servertool.exe\r\n    2016/02/02  13:28           177,248 splashscreen.dll\r\n    2016/02/02  13:28           462,432 ssv.dll\r\n    2016/02/02  13:28            51,808 ssvagent.exe\r\n    2016/02/02  13:28           124,000 sunec.dll\r\n    2016/02/02  13:28            25,696 sunmscapi.dll\r\n    2016/02/02  13:28           193,120 t2k.dll\r\n    2016/02/02  13:28            16,480 tnameserv.exe\r\n    2016/02/02  13:28            65,632 unpack.dll\r\n    2016/02/02  13:28           159,328 unpack200.exe\r\n    2016/02/02  13:28            39,520 verify.dll\r\n    2016/02/02  13:28            21,600 w2k_lsa_auth.dll\r\n    2016/02/02  13:28            95,840 WindowsAccessBridge.dll\r\n    2016/02/02  13:28           164,448 wsdetect.dll\r\n    2016/02/02  13:28            69,728 zip.dll\r\n                  85 个文件     46,209,264 字节\r\n                   5 个目录 150,936,281,088 可用字节\r\n    \r\n    C:\\Java\\jdk1.8.0_72\\bin&gt;\r\n\r\nYea, I&#39;m a Chinese, so there are some Chinese characters in the output. I&#39;ve changed the default language to English, and they remain. However, you will still be able to get the information you need, I suppose.\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n  [2]: http://i.stack.imgur.com/agpdB.png\r\n  [3]: http://i.stack.imgur.com/sfljP.png","title":"`javac.exe` not found in the `jdk\\bin`","body":"<p>I'm trying installing JDK on my Surface Pro 3, running 64-bit Windows 10.</p>\n<p>As the authors of <em>Core Java</em> suggest, I installed Java at <code>C:\\Java\\jdk1.8.0_72\\</code>, to avoid spaces in the path name. And I swear that I've installed a <strong>JDK</strong>(Downloaded from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">here</a>), other than a <strong>JRE</strong>.</p>\n<p>However, after setting the environment variable <code>path</code>, I opened Command Prompt, entered <code>javac -version</code>, and it told me <code>'javac' is not recognized as an internal or external command, operable program or batch file.</code>. So I checked <code>C:\\Java\\jdk1.8.0_72\\bin\\</code>, and there is no executable file called <code>javac.exe</code>!</p>\n<p>How can it be? And what I'm supposed to do now?</p>\n<p><a href=\"https://i.stack.imgur.com/agpdB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/agpdB.png\" alt=\"jave -version works well, but javac -version does not.\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/sfljP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sfljP.png\" alt=\"There is no javac.exe\" /></a></p>\n<p>Here is the CMD output when I ran <code>dir</code> under the <code>jdk\\bin</code>:</p>\n<pre><code>Microsoft Windows [版本 10.0.10240]\n(c) 2015 Microsoft Corporation. All rights reserved.\n\nC:\\Users\\sqy&gt;cd C:\\Java\\jdk1.8.0_72\\bin\n\nC:\\Java\\jdk1.8.0_72\\bin&gt;dir\n 驱动器 C 中的卷没有标签。\n 卷的序列号是 D611-8A7A\n\n C:\\Java\\jdk1.8.0_72\\bin 的目录\n\n2016/02/02  13:28    &lt;DIR&gt;          .\n2016/02/02  13:28    &lt;DIR&gt;          ..\n2016/02/02  13:28         1,182,304 awt.dll\n2016/02/02  13:28            15,456 bci.dll\n2016/02/02  13:28    &lt;DIR&gt;          client\n2016/02/02  13:28           142,944 dcpr.dll\n2016/02/02  13:28            63,584 decora_sse.dll\n2016/02/02  13:28           451,168 deploy.dll\n2016/02/02  13:28    &lt;DIR&gt;          dtplugin\n2016/02/02  13:28            25,184 dt_shmem.dll\n2016/02/02  13:28            21,600 dt_socket.dll\n2016/02/02  13:28           109,152 eula.dll\n2016/02/02  13:28           222,816 fontmanager.dll\n2016/02/02  13:28           151,136 fxplugins.dll\n2016/02/02  13:28           200,800 glass.dll\n2016/02/02  13:28           400,992 glib-lite.dll\n2016/02/02  13:28           514,656 gstreamer-lite.dll\n2016/02/02  13:28           131,680 hprof.dll\n2016/02/02  13:28           115,808 instrument.dll\n2016/02/02  13:28            16,480 j2pcsc.dll\n2016/02/02  13:28            51,296 j2pkcs11.dll\n2016/02/02  13:28            19,552 jaas_nt.dll\n2016/02/02  13:28            30,816 jabswitch.exe\n2016/02/02  13:28            15,968 java-rmi.exe\n2016/02/02  13:28           126,560 java.dll\n2016/02/02  13:28           191,072 java.exe\n2016/02/02  13:28           127,584 JavaAccessBridge.dll\n2016/02/02  13:28           153,088 javacpl.cpl\n2016/02/02  13:28            68,704 javacpl.exe\n2016/02/02  13:28            57,440 javafx_font.dll\n2016/02/02  13:28           444,000 javafx_font_t2k.dll\n2016/02/02  13:28           126,048 javafx_iio.dll\n2016/02/02  13:28           191,584 javaw.exe\n2016/02/02  13:28           268,384 javaws.exe\n2016/02/02  13:28            23,648 java_crw_demo.dll\n2016/02/02  13:28            13,920 jawt.dll\n2016/02/02  13:28            14,944 JAWTAccessBridge.dll\n2016/02/02  13:28           163,936 jdwp.dll\n2016/02/02  13:28            22,624 jfr.dll\n2016/02/02  13:28           115,296 jfxmedia.dll\n2016/02/02  13:28        33,926,240 jfxwebkit.dll\n2016/02/02  13:28            15,968 jjs.exe\n2016/02/02  13:28           158,816 jli.dll\n2016/02/02  13:28           205,920 jp2iexp.dll\n2016/02/02  13:28            77,920 jp2launcher.exe\n2016/02/02  13:28            19,040 jp2native.dll\n2016/02/02  13:28           173,152 jp2ssv.dll\n2016/02/02  13:28           146,016 jpeg.dll\n2016/02/02  13:28            16,480 jsdt.dll\n2016/02/02  13:28            30,816 jsound.dll\n2016/02/02  13:28            27,744 jsoundds.dll\n2016/02/02  13:28           178,272 kcms.dll\n2016/02/02  13:28            15,968 keytool.exe\n2016/02/02  13:28            15,968 kinit.exe\n2016/02/02  13:28            15,968 klist.exe\n2016/02/02  13:28            15,968 ktab.exe\n2016/02/02  13:28           185,952 lcms.dll\n2016/02/02  13:28            33,376 management.dll\n2016/02/02  13:28           574,560 mlib_image.dll\n2016/02/02  13:28           455,328 msvcp120.dll\n2016/02/02  13:28           773,968 msvcr100.dll\n2016/02/02  13:28           970,912 msvcr120.dll\n2016/02/02  13:28            79,968 net.dll\n2016/02/02  13:28            51,296 nio.dll\n2016/02/02  13:28            17,504 npt.dll\n2016/02/02  13:28            16,480 orbd.exe\n2016/02/02  13:28            15,968 pack200.exe\n2016/02/02  13:28    &lt;DIR&gt;          plugin2\n2016/02/02  13:28            15,968 policytool.exe\n2016/02/02  13:28            52,832 prism_common.dll\n2016/02/02  13:28           116,832 prism_d3d.dll\n2016/02/02  13:28            86,112 prism_sw.dll\n2016/02/02  13:28            14,944 resource.dll\n2016/02/02  13:28            15,968 rmid.exe\n2016/02/02  13:28            15,968 rmiregistry.exe\n2016/02/02  13:28            15,968 servertool.exe\n2016/02/02  13:28           177,248 splashscreen.dll\n2016/02/02  13:28           462,432 ssv.dll\n2016/02/02  13:28            51,808 ssvagent.exe\n2016/02/02  13:28           124,000 sunec.dll\n2016/02/02  13:28            25,696 sunmscapi.dll\n2016/02/02  13:28           193,120 t2k.dll\n2016/02/02  13:28            16,480 tnameserv.exe\n2016/02/02  13:28            65,632 unpack.dll\n2016/02/02  13:28           159,328 unpack200.exe\n2016/02/02  13:28            39,520 verify.dll\n2016/02/02  13:28            21,600 w2k_lsa_auth.dll\n2016/02/02  13:28            95,840 WindowsAccessBridge.dll\n2016/02/02  13:28           164,448 wsdetect.dll\n2016/02/02  13:28            69,728 zip.dll\n              85 个文件     46,209,264 字节\n               5 个目录 150,936,281,088 可用字节\n\nC:\\Java\\jdk1.8.0_72\\bin&gt;\n</code></pre>\n<p>Yea, I'm a Chinese, so there are some Chinese characters in the output. I've changed the default language to English, and they remain. However, you will still be able to get the information you need, I suppose.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","timestamp"],"answers":[{"tags":[],"owner":{"account_id":27869016,"reputation":24,"user_id":21279966,"display_name":"Erickson Ferreira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677243224,"creation_date":1677243224,"answer_id":75556806,"question_id":75556286,"body_markdown":"@CreationTimestamp is a Hibernate annotation that automatically sets the entity creation timestamp to the current time when the entity is persisted to the database. This annotation works with java.util.Date, java.sql.Date, java.sql.Time, java.sql.Timestamp, and java.time.LocalDateTime types. It is equivalent to setting the value using LocalDateTime.now().\r\n\r\nIf you want to store a timestamp with millisecond precision, then using Instant is a good choice. Instant is a class in the java.time package that represents a point in time, with nanosecond precision, relative to the epoch (January 1, 1970, 00:00:00 UTC).\r\n\r\nTherefore, you can use Instant to store the creation date in your entity class as shown below:\r\n```\r\nprivate Instant createdAt;\r\n```\r\nYou can set the createdAt field with the current timestamp before persisting the entity to the database by using Instant.now().\r\n```\r\nMyEntity entity = new MyEntity();\r\nentity.setCreatedAt(Instant.now());\r\nentityManager.persist(entity);\r\n```\r\nIn summary, you can use Instant to store the creation date in your entity class and set it manually, or use @CreationTimestamp to automatically set the creation timestamp in Hibernate. Both approaches are valid, and the choice depends on your use case and preference.\r\n","title":"Instant or LocalDateTime for creation field in Hibernate?","body":"<p>@CreationTimestamp is a Hibernate annotation that automatically sets the entity creation timestamp to the current time when the entity is persisted to the database. This annotation works with java.util.Date, java.sql.Date, java.sql.Time, java.sql.Timestamp, and java.time.LocalDateTime types. It is equivalent to setting the value using LocalDateTime.now().</p>\n<p>If you want to store a timestamp with millisecond precision, then using Instant is a good choice. Instant is a class in the java.time package that represents a point in time, with nanosecond precision, relative to the epoch (January 1, 1970, 00:00:00 UTC).</p>\n<p>Therefore, you can use Instant to store the creation date in your entity class as shown below:</p>\n<pre><code>private Instant createdAt;\n</code></pre>\n<p>You can set the createdAt field with the current timestamp before persisting the entity to the database by using Instant.now().</p>\n<pre><code>MyEntity entity = new MyEntity();\nentity.setCreatedAt(Instant.now());\nentityManager.persist(entity);\n</code></pre>\n<p>In summary, you can use Instant to store the creation date in your entity class and set it manually, or use @CreationTimestamp to automatically set the creation timestamp in Hibernate. Both approaches are valid, and the choice depends on your use case and preference.</p>\n"}],"owner":{"display_name":"user21263160"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":966,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75556806,"answer_count":1,"score":0,"last_activity_date":1677243224,"creation_date":1677239722,"question_id":75556286,"body_markdown":"In a Spring Booot app, I need to keep creation date of the content. For this purpose, normally ı would use `LocalDateTime`, but I think it is better to use `Instant` as this field is like a timestamp. On the other hand, I have just seen `@CreationTimestamp` and I am confused about the proper usage. \r\n\r\n```\r\n@CreationTimestamp\r\nprivate LocalDateTime createdAt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\nSo, do I need to use @CreationTimestamp for datetime field in Hibernate? Or is it ok using `Instant` for keeping creation date as shown below in my Entity?\r\n\r\n\r\n```\r\nprivate Instant createdAt;\r\n```","title":"Instant or LocalDateTime for creation field in Hibernate?","body":"<p>In a Spring Booot app, I need to keep creation date of the content. For this purpose, normally ı would use <code>LocalDateTime</code>, but I think it is better to use <code>Instant</code> as this field is like a timestamp. On the other hand, I have just seen <code>@CreationTimestamp</code> and I am confused about the proper usage.</p>\n<pre><code>@CreationTimestamp\nprivate LocalDateTime createdAt;\n</code></pre>\n<p>So, do I need to use @CreationTimestamp for datetime field in Hibernate? Or is it ok using <code>Instant</code> for keeping creation date as shown below in my Entity?</p>\n<pre><code>private Instant createdAt;\n</code></pre>\n"},{"tags":["java","testing","jar"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1677252823,"post_id":75556799,"comment_id":133307037,"body_markdown":"You are probably using git ? Create a new branch for this feature and at a later state you can merge the feature into the main artefact.","body":"You are probably using git ? Create a new branch for this feature and at a later state you can merge the feature into the main artefact."},{"owner":{"account_id":18117684,"reputation":21,"user_id":13174147,"display_name":"panda"},"score":0,"creation_date":1677600489,"post_id":75556799,"comment_id":133368180,"body_markdown":"@PeterMmm I will create another package that contains this class, but I need to update the existing jar with this class I posted a new question for this","body":"@PeterMmm I will create another package that contains this class, but I need to update the existing jar with this class I posted a new question for this"}],"owner":{"account_id":18117684,"reputation":21,"user_id":13174147,"display_name":"panda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677243181,"creation_date":1677243181,"question_id":75556799,"body_markdown":"Probleme :\r\n\r\nI have an PLM integration code which means that I have client/server classes. So recently I have done a customization in a class (server classes) to send a message to my application (client). This customization is just a JSON object that contains a String message and ArrayList which can be added or not (its up to the client to choose). So I need to test this customization in futur versions but those changes are not in the class meaning can&#39;t be in other version (has to be added manually if client wants to).\r\n\r\n\r\n My question is : is it possible to create a test using a Jar that simplify for me the task without having to add the code manually ? Or can I have a copy of this class to test it but without doing any modification ?\r\n","title":"A method to create a test using a Jar","body":"<p>Probleme :</p>\n<p>I have an PLM integration code which means that I have client/server classes. So recently I have done a customization in a class (server classes) to send a message to my application (client). This customization is just a JSON object that contains a String message and ArrayList which can be added or not (its up to the client to choose). So I need to test this customization in futur versions but those changes are not in the class meaning can't be in other version (has to be added manually if client wants to).</p>\n<p>My question is : is it possible to create a test using a Jar that simplify for me the task without having to add the code manually ? Or can I have a copy of this class to test it but without doing any modification ?</p>\n"},{"tags":["java","authentication","jwt","quarkus"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1677224873,"post_id":75548516,"comment_id":133299287,"body_markdown":"Quarkus offers some guides about security and RBAC using JWT, read them before all; this question is too generic and most probably will be closed is short time","body":"Quarkus offers some guides about security and RBAC using JWT, read them before all; this question is too generic and most probably will be closed is short time"}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677187052,"creation_date":1677187052,"answer_id":75550407,"question_id":75548516,"body_markdown":"As for `Spring` or `Java Security API`, you can get the user through the `Principal` object. In the case of `Quarkus` or `Spring`, you will get it from the `SecurityContext`.\r\n\r\nBelow is the example from Quarkus [documentation][1]:\r\n\r\n&gt; Finally, implement the /api/users/me endpoint. As you can see from the\r\n&gt; source code example below, we are trusting only users with the user\r\n&gt; role. We are also using SecurityContext to get access to the currently\r\n&gt; authenticated Principal, and we return the user name, all of which is\r\n&gt; loaded from the database.\r\n\r\n    package org.acme.security.jpa;\r\n    \r\n    import javax.annotation.security.RolesAllowed;\r\n    import javax.inject.Inject;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.core.Context;\r\n    import javax.ws.rs.core.SecurityContext;\r\n    \r\n    @Path(&quot;/api/users&quot;)\r\n    public class UserResource {\r\n    \r\n        @GET\r\n        @RolesAllowed(&quot;user&quot;)\r\n        @Path(&quot;/me&quot;)\r\n        public String me(@Context SecurityContext securityContext) {\r\n            return securityContext.getUserPrincipal().getName();\r\n        }\r\n    }\r\n\r\n  [1]: https://quarkus.io/guides/security-basic-authentication-tutorial\r\n","title":"JWT with Quarkus","body":"<p>As for <code>Spring</code> or <code>Java Security API</code>, you can get the user through the <code>Principal</code> object. In the case of <code>Quarkus</code> or <code>Spring</code>, you will get it from the <code>SecurityContext</code>.</p>\n<p>Below is the example from Quarkus <a href=\"https://quarkus.io/guides/security-basic-authentication-tutorial\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Finally, implement the /api/users/me endpoint. As you can see from the\nsource code example below, we are trusting only users with the user\nrole. We are also using SecurityContext to get access to the currently\nauthenticated Principal, and we return the user name, all of which is\nloaded from the database.</p>\n</blockquote>\n<pre><code>package org.acme.security.jpa;\n\nimport javax.annotation.security.RolesAllowed;\nimport javax.inject.Inject;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.SecurityContext;\n\n@Path(&quot;/api/users&quot;)\npublic class UserResource {\n\n    @GET\n    @RolesAllowed(&quot;user&quot;)\n    @Path(&quot;/me&quot;)\n    public String me(@Context SecurityContext securityContext) {\n        return securityContext.getUserPrincipal().getName();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1465269,"reputation":10929,"user_id":1712294,"display_name":"Michal Trojanowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677242714,"creation_date":1677242714,"answer_id":75556730,"question_id":75548516,"body_markdown":"If I understand correctly, Quarkus relies on the `groups` claim to assign the user a role. In your JWT you don&#39;t have the `groups` claim, but the namespaced role claim: `http://schemas.microsoft.com/ws/2008/06/identity/claims/role`\r\n\r\nIt seems that you need to set this configuration property: `smallrye.jwt.path.groups`, this should point to the claim that contains the user&#39;s groups.\r\n\r\nThis should work in your case:\r\n\r\n```yml\r\nsmallrye.jwt.path.groups: &quot;http://schemas.microsoft.com/ws/2008/06/identity/claims/role&quot;\r\n```\r\n\r\nHave a look also at this documentation page: https://quarkus.io/guides/security-jwt It describes in detail how Quarkus works with JWTs.","title":"JWT with Quarkus","body":"<p>If I understand correctly, Quarkus relies on the <code>groups</code> claim to assign the user a role. In your JWT you don't have the <code>groups</code> claim, but the namespaced role claim: <code>http://schemas.microsoft.com/ws/2008/06/identity/claims/role</code></p>\n<p>It seems that you need to set this configuration property: <code>smallrye.jwt.path.groups</code>, this should point to the claim that contains the user's groups.</p>\n<p>This should work in your case:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>smallrye.jwt.path.groups: &quot;http://schemas.microsoft.com/ws/2008/06/identity/claims/role&quot;\n</code></pre>\n<p>Have a look also at this documentation page: <a href=\"https://quarkus.io/guides/security-jwt\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/security-jwt</a> It describes in detail how Quarkus works with JWTs.</p>\n"}],"owner":{"account_id":14803975,"reputation":75,"user_id":10691496,"display_name":"Section"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677242714,"creation_date":1677174535,"question_id":75548516,"body_markdown":"I got the following jwt\r\n\r\n```\r\n{\r\n alg: &quot;http://www.w3.org/2001/04/xmldsig-more#hmac-sha256&quot;,\r\n typ: &quot;JWT&quot;\r\n}.\r\n{\r\n http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: &quot;username&quot;,\r\n http://schemas.microsoft.com/ws/2008/06/identity/claims/userdata: &quot;data&quot;,\r\n http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname: &quot;Jon&quot;,\r\n http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname: &quot;Doe&quot;,\r\n http://schemas.microsoft.com/ws/2008/06/identity/claims/role: [\r\n  &quot;Admin&quot;,\r\n  &quot;Developer&quot;,\r\n ],\r\n exp: 1677257784,\r\n iss: &quot;IMS.company.com&quot;\r\n}.\r\n```\r\n\r\nHow do I check if the user has a specific role when making a request?\r\n\r\n\r\n```\r\n @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Path(&quot;/getAllOverview&quot;)\r\n    @RolesAllowed({&quot;Admin&quot;})\r\n    public String getAllOverview() {\r\n        return &quot;Do Stuff&quot;;\r\n    }\r\n```\r\n\r\nBut this blocks every request to the endpoint.\r\n\r\nI&#39;m obviously pretty new to quarkus and jwt so maybe someone can help me.","title":"JWT with Quarkus","body":"<p>I got the following jwt</p>\n<pre><code>{\n alg: &quot;http://www.w3.org/2001/04/xmldsig-more#hmac-sha256&quot;,\n typ: &quot;JWT&quot;\n}.\n{\n http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: &quot;username&quot;,\n http://schemas.microsoft.com/ws/2008/06/identity/claims/userdata: &quot;data&quot;,\n http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname: &quot;Jon&quot;,\n http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname: &quot;Doe&quot;,\n http://schemas.microsoft.com/ws/2008/06/identity/claims/role: [\n  &quot;Admin&quot;,\n  &quot;Developer&quot;,\n ],\n exp: 1677257784,\n iss: &quot;IMS.company.com&quot;\n}.\n</code></pre>\n<p>How do I check if the user has a specific role when making a request?</p>\n<pre><code> @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    @Path(&quot;/getAllOverview&quot;)\n    @RolesAllowed({&quot;Admin&quot;})\n    public String getAllOverview() {\n        return &quot;Do Stuff&quot;;\n    }\n</code></pre>\n<p>But this blocks every request to the endpoint.</p>\n<p>I'm obviously pretty new to quarkus and jwt so maybe someone can help me.</p>\n"},{"tags":["java","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400189230,"creation_date":1400189230,"answer_id":23688982,"question_id":23688889,"body_markdown":"For some reason, intellij didn&#39;t recognize my directories as packages.  If I created something directly from the java directory, it would give me the correct options.  I fixed this by deleting everything under java/ and recreating it.  This may be an intellij bug.  ","title":"Why isn&#39;t intellij giving me the option to create new classes?","body":"<p>For some reason, intellij didn't recognize my directories as packages.  If I created something directly from the java directory, it would give me the correct options.  I fixed this by deleting everything under java/ and recreating it.  This may be an intellij bug.  </p>\n"},{"tags":[],"owner":{"account_id":9344795,"reputation":31,"user_id":6936337,"display_name":"Bindiya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1475831532,"creation_date":1475831532,"answer_id":39913604,"question_id":23688889,"body_markdown":"The directory or one of the parent directories must be marked as Source Root (In this case, it appears in blue).\r\n\r\nIf this is not the case, right click your root source directory -&gt; Mark As -&gt; Source Root.","title":"Why isn&#39;t intellij giving me the option to create new classes?","body":"<p>The directory or one of the parent directories must be marked as Source Root (In this case, it appears in blue).</p>\n\n<p>If this is not the case, right click your root source directory -> Mark As -> Source Root.</p>\n"},{"tags":[],"owner":{"account_id":18987482,"reputation":31,"user_id":13857436,"display_name":"Pranavi Chaturvedula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623905600,"creation_date":1623905600,"answer_id":68013122,"question_id":23688889,"body_markdown":"This happened when I was trying to add classes to a generated package using xjc plugin. \r\n\r\nIntellij allows to add classes only to packages which are correctly names and have the &quot;source root&quot; status. \r\n\r\nCan be fixed as-&gt; right click on the directory where you&#39;re not able to add classes:\r\n\r\n[Mark sources root][1] \r\nrefer image for clarity\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J7OSl.png","title":"Why isn&#39;t intellij giving me the option to create new classes?","body":"<p>This happened when I was trying to add classes to a generated package using xjc plugin.</p>\n<p>Intellij allows to add classes only to packages which are correctly names and have the &quot;source root&quot; status.</p>\n<p>Can be fixed as-&gt; right click on the directory where you're not able to add classes:</p>\n<p><a href=\"https://i.stack.imgur.com/J7OSl.png\" rel=\"nofollow noreferrer\">Mark sources root</a>\nrefer image for clarity</p>\n"},{"tags":[],"owner":{"account_id":2319339,"reputation":610,"user_id":2035841,"accept_rate":100,"display_name":"Jay Teli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677242419,"creation_date":1677241576,"answer_id":75556564,"question_id":23688889,"body_markdown":"This worked for me : \r\n1. Right click the java folder (myproject/src/main/java)\r\n2. Click &quot;Mark Directory as&quot;\r\n3. Click &quot;Source Root&quot;\r\n4. Right click the myproject folder (myproject/src/main/java)\r\n5. Click &quot;Mark Directory as&quot;\r\n6. Click &quot;Source Root&quot;\r\n\r\nSo basically had to mark some inner folder as Source project and alter mark parent project again as Source project.. \r\nHacky way but this worked for me.\r\n","title":"Why isn&#39;t intellij giving me the option to create new classes?","body":"<p>This worked for me :</p>\n<ol>\n<li>Right click the java folder (myproject/src/main/java)</li>\n<li>Click &quot;Mark Directory as&quot;</li>\n<li>Click &quot;Source Root&quot;</li>\n<li>Right click the myproject folder (myproject/src/main/java)</li>\n<li>Click &quot;Mark Directory as&quot;</li>\n<li>Click &quot;Source Root&quot;</li>\n</ol>\n<p>So basically had to mark some inner folder as Source project and alter mark parent project again as Source project..\nHacky way but this worked for me.</p>\n"}],"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3264,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1677242419,"creation_date":1400188879,"question_id":23688889,"body_markdown":"Here&#39;s what I&#39;m seeing:\r\n\r\n![enter image description here][1]\r\n\r\nNormally I can choose &quot;New Java Class&quot; but for some reason I&#39;m not getting this option.  I created this project by opening an empty directory and building it out from there.  [I&#39;ve seen this question,][2] but that answer didn&#39;t help me.  Here&#39;s my module settings:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nEven if I open my pom.xml directly as a project, it still has this problem.  How do I fix this?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/iIDvs.png\r\n  [2]: https://stackoverflow.com/questions/19384319/intellij-idea-dont-offer-new-class-for-creating\r\n  [3]: http://i.stack.imgur.com/XDVFW.png","title":"Why isn&#39;t intellij giving me the option to create new classes?","body":"<p>Here's what I'm seeing:</p>\n\n<p><img src=\"https://i.stack.imgur.com/iIDvs.png\" alt=\"enter image description here\"></p>\n\n<p>Normally I can choose \"New Java Class\" but for some reason I'm not getting this option.  I created this project by opening an empty directory and building it out from there.  <a href=\"https://stackoverflow.com/questions/19384319/intellij-idea-dont-offer-new-class-for-creating\">I've seen this question,</a> but that answer didn't help me.  Here's my module settings:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XDVFW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XDVFW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Even if I open my pom.xml directly as a project, it still has this problem.  How do I fix this?</p>\n"},{"tags":["java","html","css","reactjs"],"comments":[{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1677177391,"post_id":75521273,"comment_id":133291425,"body_markdown":"Hi! Could you please edit your post to add a question? Right now it&#39;s not clear what you&#39;re really asking :)","body":"Hi! Could you please edit your post to add a question? Right now it&#39;s not clear what you&#39;re really asking :)"}],"owner":{"account_id":21783696,"reputation":21,"user_id":16085071,"display_name":"Nitin Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677242337,"creation_date":1676986601,"question_id":75521273,"body_markdown":"I am creating a carousel with an auto-sliding feature but whenever I am clicking on my button to move to a specific slide, its speed increases.\r\nSo, to move my slides I am using setTimeout function to increase slideindex after every 3500ms. \r\nI have tried hard coding the delay values in my setTimeout function but it didn&#39;t work. I have attached a video link you can check it out and see the issue.\r\n\r\n```\r\nimport React, { useEffect, useState } from &quot;react&quot;;\r\nimport { BsChevronCompactLeft, BsChevronCompactRight } from &quot;react-icons/bs&quot;;\r\nimport { RxDotFilled } from &quot;react-icons/rx&quot;;\r\n\r\nfunction HeroBanner() {\r\n  const slides = [\r\n    {\r\n      url: &quot;https://www.theindiaforum.in/sites/default/files/field/image/2022/06/21/ramkumar-radhakrishnan-wikimedia-1622193304-1622193304.jpeg&quot;,\r\n      text: &quot;Turn your farm into a success with the right labor&quot;,\r\n    },\r\n\r\n    {\r\n      url: &quot;https://images.livemint.com/img/2021/12/02/1600x900/farmers_1638463257211_1638463257385.jpg&quot;,\r\n      text: &quot;The best farmhands are just a click away!&quot;,\r\n    },\r\n\r\n    {\r\n      url: &quot;https://mb.com.ph/wp-content/uploads/2021/11/Main-photo-scaled.jpg&quot;,\r\n      text: &quot;The best farmhands are just a click away!&quot;,\r\n    },\r\n  ];\r\n  const delay = 3500;\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const prevSlide = () =&gt; {\r\n    const isFirstIndex = currentIndex === 0;\r\n    const newIndex = isFirstIndex ? slides.length - 1 : currentIndex - 1;\r\n\r\n    setCurrentIndex(newIndex);\r\n  };\r\n  const nextSlide = () =&gt; {\r\n    const isLastIndex = currentIndex === slides.length - 1;\r\n    const newIndex = isLastIndex ? 0 : currentIndex + 1;\r\n\r\n    setCurrentIndex(newIndex);\r\n  };\r\n\r\n  const goToSlide = (slideIndex) =&gt; {\r\n    setCurrentIndex(slideIndex);\r\n  };\r\n\r\n  useEffect(() =&gt; {\r\n    setTimeout(\r\n      () =&gt;\r\n        setCurrentIndex((prevIndex) =&gt;\r\n          prevIndex === slides.length - 1 ? 0 : prevIndex + 1\r\n        ),\r\n      delay\r\n    );\r\n  }, [currentIndex]);\r\n\r\n  return (\r\n    &lt;div className=&quot;max-w-[1200px] h-[600px] w-full mx-auto py-16 px-4 relative group&quot;&gt;\r\n      &lt;div\r\n        className=&quot;w-full h-full rounded-2xl bg-center bg-cover duration-500&quot;\r\n        style={{ backgroundImage: `url(${slides[currentIndex].url})` }}\r\n      &gt;\r\n        &lt;div className=&quot;mx-auto bg-black/50 w-full h-full rounded-2xl relative&quot;&gt;\r\n          &lt;h1 className=&quot;text-white text-3xl absolute bottom-0 text-center  mb-4&quot;&gt;\r\n            {slides[currentIndex].text}\r\n           &lt;/h1&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n\r\n      {/* Left Arrow */}\r\n      &lt;div className=&quot;absolute top-[50%] -translate-x-0 translate-y-[-50%] left-5 text-2xl rounded-full p-2 group-hover:bg-black/20 text-white cursor-pointer&quot;&gt;\r\n        &lt;BsChevronCompactLeft size={30} onClick={prevSlide} /&gt;\r\n      &lt;/div&gt;\r\n      {/* Right Arrow */}\r\n      &lt;div className=&quot;absolute top-[50%] -translate-x-0 translate-y-[-50%] right-5 text-2xl rounded-full p-2 group-hover:bg-black/20 text-white cursor-pointer&quot;&gt;\r\n        &lt;BsChevronCompactRight size={30} onClick={nextSlide} /&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div className=&quot;flex top-4 justify-center py-2&quot;&gt;\r\n        {slides.map((slide, slideIndex) =&gt; (\r\n          &lt;div\r\n            className=&quot;text-2xl cursor-pointer&quot;\r\n            key={slideIndex}\r\n            onClick={() =&gt; goToSlide(slideIndex)}\r\n          &gt;\r\n            &lt;RxDotFilled /&gt;\r\n          &lt;/div&gt;\r\n        ))}\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  );\r\n}\r\n\r\nexport default HeroBanner;\r\n\r\n```\r\n\r\nI have tried setting delay as a const variable but it didn&#39;t help\r\n\r\nYou can check the output in this video- https://drive.google.com/file/d/1ESpgafXTI58FTcE_r1hPvIanjLwsSfr3/view?usp=sharing\r\nIn this video, you can see after clicking on the buttons slides&#39; speed got increased. \r\n\r\nThanks for helping me out!","title":"The slides speed of my carousel is increasing whenever i click on my buttons to move to a specific slide in my react component","body":"<p>I am creating a carousel with an auto-sliding feature but whenever I am clicking on my button to move to a specific slide, its speed increases.\nSo, to move my slides I am using setTimeout function to increase slideindex after every 3500ms.\nI have tried hard coding the delay values in my setTimeout function but it didn't work. I have attached a video link you can check it out and see the issue.</p>\n<pre><code>import React, { useEffect, useState } from &quot;react&quot;;\nimport { BsChevronCompactLeft, BsChevronCompactRight } from &quot;react-icons/bs&quot;;\nimport { RxDotFilled } from &quot;react-icons/rx&quot;;\n\nfunction HeroBanner() {\n  const slides = [\n    {\n      url: &quot;https://www.theindiaforum.in/sites/default/files/field/image/2022/06/21/ramkumar-radhakrishnan-wikimedia-1622193304-1622193304.jpeg&quot;,\n      text: &quot;Turn your farm into a success with the right labor&quot;,\n    },\n\n    {\n      url: &quot;https://images.livemint.com/img/2021/12/02/1600x900/farmers_1638463257211_1638463257385.jpg&quot;,\n      text: &quot;The best farmhands are just a click away!&quot;,\n    },\n\n    {\n      url: &quot;https://mb.com.ph/wp-content/uploads/2021/11/Main-photo-scaled.jpg&quot;,\n      text: &quot;The best farmhands are just a click away!&quot;,\n    },\n  ];\n  const delay = 3500;\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const prevSlide = () =&gt; {\n    const isFirstIndex = currentIndex === 0;\n    const newIndex = isFirstIndex ? slides.length - 1 : currentIndex - 1;\n\n    setCurrentIndex(newIndex);\n  };\n  const nextSlide = () =&gt; {\n    const isLastIndex = currentIndex === slides.length - 1;\n    const newIndex = isLastIndex ? 0 : currentIndex + 1;\n\n    setCurrentIndex(newIndex);\n  };\n\n  const goToSlide = (slideIndex) =&gt; {\n    setCurrentIndex(slideIndex);\n  };\n\n  useEffect(() =&gt; {\n    setTimeout(\n      () =&gt;\n        setCurrentIndex((prevIndex) =&gt;\n          prevIndex === slides.length - 1 ? 0 : prevIndex + 1\n        ),\n      delay\n    );\n  }, [currentIndex]);\n\n  return (\n    &lt;div className=&quot;max-w-[1200px] h-[600px] w-full mx-auto py-16 px-4 relative group&quot;&gt;\n      &lt;div\n        className=&quot;w-full h-full rounded-2xl bg-center bg-cover duration-500&quot;\n        style={{ backgroundImage: `url(${slides[currentIndex].url})` }}\n      &gt;\n        &lt;div className=&quot;mx-auto bg-black/50 w-full h-full rounded-2xl relative&quot;&gt;\n          &lt;h1 className=&quot;text-white text-3xl absolute bottom-0 text-center  mb-4&quot;&gt;\n            {slides[currentIndex].text}\n           &lt;/h1&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n      {/* Left Arrow */}\n      &lt;div className=&quot;absolute top-[50%] -translate-x-0 translate-y-[-50%] left-5 text-2xl rounded-full p-2 group-hover:bg-black/20 text-white cursor-pointer&quot;&gt;\n        &lt;BsChevronCompactLeft size={30} onClick={prevSlide} /&gt;\n      &lt;/div&gt;\n      {/* Right Arrow */}\n      &lt;div className=&quot;absolute top-[50%] -translate-x-0 translate-y-[-50%] right-5 text-2xl rounded-full p-2 group-hover:bg-black/20 text-white cursor-pointer&quot;&gt;\n        &lt;BsChevronCompactRight size={30} onClick={nextSlide} /&gt;\n      &lt;/div&gt;\n\n      &lt;div className=&quot;flex top-4 justify-center py-2&quot;&gt;\n        {slides.map((slide, slideIndex) =&gt; (\n          &lt;div\n            className=&quot;text-2xl cursor-pointer&quot;\n            key={slideIndex}\n            onClick={() =&gt; goToSlide(slideIndex)}\n          &gt;\n            &lt;RxDotFilled /&gt;\n          &lt;/div&gt;\n        ))}\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n}\n\nexport default HeroBanner;\n\n</code></pre>\n<p>I have tried setting delay as a const variable but it didn't help</p>\n<p>You can check the output in this video- <a href=\"https://drive.google.com/file/d/1ESpgafXTI58FTcE_r1hPvIanjLwsSfr3/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1ESpgafXTI58FTcE_r1hPvIanjLwsSfr3/view?usp=sharing</a>\nIn this video, you can see after clicking on the buttons slides' speed got increased.</p>\n<p>Thanks for helping me out!</p>\n"},{"tags":["java","android","kotlin","mobile","android-recyclerview"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1677253964,"post_id":75556634,"comment_id":133307380,"body_markdown":"Can you show the code for your `viewModel.getAllWebs()` function, and if it calls something in your repo and then your DAO, show those, too?","body":"Can you show the code for your <code>viewModel.getAllWebs()</code> function, and if it calls something in your repo and then your DAO, show those, too?"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1677263976,"post_id":75556634,"comment_id":133310016,"body_markdown":"You don&#39;t actually delete the item from your adapter&#39;s data set, so when you call `notifyItemRemoved` it&#39;s still there. So you&#39;re relying on the `long click callback -&gt; viewModel.deleteWeb` event to generate an update to some data that you&#39;re observing, so the adapter is given a new set of data to display (i.e. the list, but with the deleted item removed). Since it&#39;s working for everything *except the last item*, the problem is probably that your observer checks if the list is empty, and *doesn&#39;t update the adapter* if that&#39;s true. You&#39;d be better pushing the current data every time","body":"You don&#39;t actually delete the item from your adapter&#39;s data set, so when you call <code>notifyItemRemoved</code> it&#39;s still there. So you&#39;re relying on the <code>long click callback -&gt; viewModel.deleteWeb</code> event to generate an update to some data that you&#39;re observing, so the adapter is given a new set of data to display (i.e. the list, but with the deleted item removed). Since it&#39;s working for everything <i>except the last item</i>, the problem is probably that your observer checks if the list is empty, and <i>doesn&#39;t update the adapter</i> if that&#39;s true. You&#39;d be better pushing the current data every time"},{"owner":{"account_id":27869215,"reputation":11,"user_id":21280120,"display_name":"Ridhwanafzn"},"score":0,"creation_date":1677296806,"post_id":75556634,"comment_id":133315075,"body_markdown":"@Tenfour04 , `fun getAllWebs(): LiveData&lt;List&lt;Web&gt;&gt; = mWebRepository.getAllWebs()`","body":"@Tenfour04 , <code>fun getAllWebs(): LiveData&lt;List&lt;Web&gt;&gt; = mWebRepository.getAllWebs()</code>"},{"owner":{"account_id":27869215,"reputation":11,"user_id":21280120,"display_name":"Ridhwanafzn"},"score":0,"creation_date":1677296930,"post_id":75556634,"comment_id":133315089,"body_markdown":"@cactustictacs , Thank you for your help. I solved that now with your advice","body":"@cactustictacs , Thank you for your help. I solved that now with your advice"}],"owner":{"account_id":27869215,"reputation":11,"user_id":21280120,"display_name":"Ridhwanafzn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677242090,"creation_date":1677242090,"question_id":75556634,"body_markdown":"im new here and i also begginer in android development.\r\nEverything is work exepct this one. Technically delete item is also works. but when i deleted the last one item, it removed on the database but still shown in the activity(it&#39;s gone when i restart the app after deleting it)\r\n\r\nHere is my code:\r\n**Here is the problem**\r\n[Before i delete the last item on the list](https://i.stack.imgur.com/ynS5Z.png)\r\n[After I delete the last item](https://i.stack.imgur.com/6Fp2I.png)\r\n\r\n**Here is my repository**\r\n\r\n```\r\nprivate val mWebsDao: WebDao\r\n    private val executorService: ExecutorService = Executors.newSingleThreadExecutor()\r\n\r\ninit {\r\n        val db = WebRoomDatabase.getDatabase(application)\r\n        mWebsDao = db.webDao()\r\n    }\r\n\r\nfun deleteWeb(web: Web) {\r\n        executorService.execute { mWebsDao.deleteWebById(web) }\r\n    }\r\n```\r\n\r\n\r\n**Here is my ViewModel**\r\n\r\n```\r\nprivate val mWebRepository: WebRepository = WebRepository(application)\r\n\r\nfun deleteWeb(web: Web) {\r\n        mWebRepository.deleteWeb(web)\r\n    }\r\n```\r\n\r\n\r\n**Here is MyAdapter**\r\n\r\n```\r\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        val (_, webName, webUrl, webImgColor) = listWeb[position]\r\n\r\n        holder.binding.imgColorWeb.background = ColorDrawable(android.graphics.Color.rgb(webImgColor.r, webImgColor.g, webImgColor.b))\r\n        holder.binding.tvWebName.text = webName\r\n        holder.binding.tvWebLink.text = webUrl\r\n        holder.binding.tvCharWebName.text = webName\r\n\r\n        holder.itemView.setOnClickListener {\r\n            onItemClickCallback.onItemClicked(listWeb[holder.adapterPosition])\r\n        }\r\n\r\n        holder.itemView.setOnLongClickListener {\r\n            val popUpMenu = PopupMenu(holder.itemView.context, holder.itemView)\r\n            popUpMenu.inflate(R.menu.menu_popup_item_pressed)\r\n\r\n            popUpMenu.setOnMenuItemClickListener { menuItem -&gt;\r\n                when (menuItem.itemId) {\r\n                    R.id.action_edit -&gt; {\r\n                        onItemLongClickCallback.onItemLongClickedEdit(listWeb[holder.adapterPosition])\r\n                        true\r\n                    }\r\n                    R.id.action_delete -&gt; {\r\n                        onItemLongClickCallback.onItemLongClickedDelete(listWeb[holder.adapterPosition])\r\n                        notifyItemRemoved(holder.adapterPosition)\r\n                        true\r\n                    }\r\n                    else -&gt; false\r\n                }\r\n            }\r\n\r\n            popUpMenu.show()\r\n            true\r\n        }\r\n    }\r\n\r\n    override fun getItemCount() = listWeb.size\r\n\r\n    interface OnItemClickCallback {\r\n        fun onItemClicked(web: Web)\r\n    }\r\n\r\n    interface OnItemLongClickCallback {\r\n        fun onItemLongClickedEdit(web: Web)\r\n        fun onItemLongClickedDelete(web: Web)\r\n    }\r\n```\r\n\r\n\r\n**Here is MyActivity**\r\n```\r\noverride fun onItemLongClickedDelete(web: Web) {\r\n                        mainViewModel.deleteWeb(web)\r\n\r\n                        Snackbar.make(binding.root, getString(R.string.deleted_web_message), Snackbar.LENGTH_LONG)\r\n                            .setAction(getString(R.string.undo)) {\r\n                                mainViewModel.insertWeb(web)\r\n                            }\r\n                            .show()\r\n                    }\r\n```\r\nshow the list ini activity\r\n\r\n```\r\n mainViewModel.getAllWebs().observe(this) {\r\n            if (it.isNullOrEmpty()) {\r\n                binding.emptyListInfo.alpha = 1f\r\n            } else {\r\n                binding.emptyListInfo.alpha = 0f\r\n                val webs = webList(it)\r\n                val rvWeb = binding.rvListWeb\r\n                rvWeb.layoutManager = LinearLayoutManager(this@MainActivity)\r\n                webAdapter = WebAdapter(webs)\r\n                rvWeb.adapter = webAdapter\r\n```\r\n\r\n\r\n\r\n[want this without restart the app after deleteing the item](https://i.stack.imgur.com/ZLwyl.png)","title":"There is still shown 1 item left after i deleted all the list of items. How to fix this?","body":"<p>im new here and i also begginer in android development.\nEverything is work exepct this one. Technically delete item is also works. but when i deleted the last one item, it removed on the database but still shown in the activity(it's gone when i restart the app after deleting it)</p>\n<p>Here is my code:\n<strong>Here is the problem</strong>\n<a href=\"https://i.stack.imgur.com/ynS5Z.png\" rel=\"nofollow noreferrer\">Before i delete the last item on the list</a>\n<a href=\"https://i.stack.imgur.com/6Fp2I.png\" rel=\"nofollow noreferrer\">After I delete the last item</a></p>\n<p><strong>Here is my repository</strong></p>\n<pre><code>private val mWebsDao: WebDao\n    private val executorService: ExecutorService = Executors.newSingleThreadExecutor()\n\ninit {\n        val db = WebRoomDatabase.getDatabase(application)\n        mWebsDao = db.webDao()\n    }\n\nfun deleteWeb(web: Web) {\n        executorService.execute { mWebsDao.deleteWebById(web) }\n    }\n</code></pre>\n<p><strong>Here is my ViewModel</strong></p>\n<pre><code>private val mWebRepository: WebRepository = WebRepository(application)\n\nfun deleteWeb(web: Web) {\n        mWebRepository.deleteWeb(web)\n    }\n</code></pre>\n<p><strong>Here is MyAdapter</strong></p>\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val (_, webName, webUrl, webImgColor) = listWeb[position]\n\n        holder.binding.imgColorWeb.background = ColorDrawable(android.graphics.Color.rgb(webImgColor.r, webImgColor.g, webImgColor.b))\n        holder.binding.tvWebName.text = webName\n        holder.binding.tvWebLink.text = webUrl\n        holder.binding.tvCharWebName.text = webName\n\n        holder.itemView.setOnClickListener {\n            onItemClickCallback.onItemClicked(listWeb[holder.adapterPosition])\n        }\n\n        holder.itemView.setOnLongClickListener {\n            val popUpMenu = PopupMenu(holder.itemView.context, holder.itemView)\n            popUpMenu.inflate(R.menu.menu_popup_item_pressed)\n\n            popUpMenu.setOnMenuItemClickListener { menuItem -&gt;\n                when (menuItem.itemId) {\n                    R.id.action_edit -&gt; {\n                        onItemLongClickCallback.onItemLongClickedEdit(listWeb[holder.adapterPosition])\n                        true\n                    }\n                    R.id.action_delete -&gt; {\n                        onItemLongClickCallback.onItemLongClickedDelete(listWeb[holder.adapterPosition])\n                        notifyItemRemoved(holder.adapterPosition)\n                        true\n                    }\n                    else -&gt; false\n                }\n            }\n\n            popUpMenu.show()\n            true\n        }\n    }\n\n    override fun getItemCount() = listWeb.size\n\n    interface OnItemClickCallback {\n        fun onItemClicked(web: Web)\n    }\n\n    interface OnItemLongClickCallback {\n        fun onItemLongClickedEdit(web: Web)\n        fun onItemLongClickedDelete(web: Web)\n    }\n</code></pre>\n<p><strong>Here is MyActivity</strong></p>\n<pre><code>override fun onItemLongClickedDelete(web: Web) {\n                        mainViewModel.deleteWeb(web)\n\n                        Snackbar.make(binding.root, getString(R.string.deleted_web_message), Snackbar.LENGTH_LONG)\n                            .setAction(getString(R.string.undo)) {\n                                mainViewModel.insertWeb(web)\n                            }\n                            .show()\n                    }\n</code></pre>\n<p>show the list ini activity</p>\n<pre><code> mainViewModel.getAllWebs().observe(this) {\n            if (it.isNullOrEmpty()) {\n                binding.emptyListInfo.alpha = 1f\n            } else {\n                binding.emptyListInfo.alpha = 0f\n                val webs = webList(it)\n                val rvWeb = binding.rvListWeb\n                rvWeb.layoutManager = LinearLayoutManager(this@MainActivity)\n                webAdapter = WebAdapter(webs)\n                rvWeb.adapter = webAdapter\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZLwyl.png\" rel=\"nofollow noreferrer\">want this without restart the app after deleteing the item</a></p>\n"},{"tags":["java","eclipse","noclassdeffounderror","jsonrpc4j"],"comments":[{"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"score":0,"creation_date":1653654029,"post_id":71457065,"comment_id":127908969,"body_markdown":"Does this answer your question? [What causes and what are the differences between NoClassDefFoundError and ClassNotFoundException?](https://stackoverflow.com/questions/1457863/what-causes-and-what-are-the-differences-between-noclassdeffounderror-and-classn)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1457863/what-causes-and-what-are-the-differences-between-noclassdeffounderror-and-classn\">What causes and what are the differences between NoClassDefFoundError and ClassNotFoundException?</a>"}],"answers":[{"tags":[],"owner":{"account_id":16349174,"reputation":1,"user_id":11808182,"display_name":"The Vikk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677242032,"creation_date":1677242032,"answer_id":75556622,"question_id":71457065,"body_markdown":"I had the exact same issue. Managed to resolve it by adding these 2 dependencies to gradle:\r\n\r\n     // https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api\r\n    implementation(&quot;javax.servlet:javax.servlet-api:4.0.1&quot;)\r\n\r\n    // https://mvnrepository.com/artifact/javax.portlet/portlet-api\r\n    compileOnly(&quot;javax.portlet:portlet-api:3.0.1&quot;)\r\n","title":"Java jsonrpc4j jsonRpcServer NoClassDefFoundError (Eclipse)","body":"<p>I had the exact same issue. Managed to resolve it by adding these 2 dependencies to gradle:</p>\n<pre><code> // https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api\nimplementation(&quot;javax.servlet:javax.servlet-api:4.0.1&quot;)\n\n// https://mvnrepository.com/artifact/javax.portlet/portlet-api\ncompileOnly(&quot;javax.portlet:portlet-api:3.0.1&quot;)\n</code></pre>\n"}],"owner":{"account_id":8400869,"reputation":11,"user_id":11004800,"display_name":"davidvb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677242032,"creation_date":1647177034,"question_id":71457065,"body_markdown":"I want to create a basic JSON-RPC server over TCP. To do this I found the project &lt;https://github.com/briandilley/jsonrpc4j&gt;. When I tried to create in Eclipse a basic Maven project using the jsonRpcServer (see App.java), the exception java.lang.NoClassDefFoundError pops-up. Any hints?\r\n\r\nApp.java\r\n\r\n    package com.sxtlcfi.maven;\r\n    import com.googlecode.jsonrpc4j.JsonRpcServer;\r\n    \r\n    public class App {\r\n    \t\r\n    \tpublic static void main(String args[]){\r\n    \t\t\r\n    \t\t// create the jsonRpcServer\r\n    \t\tUserServiceImpl userService = new UserServiceImpl();\r\n    \t\t\r\n    \t\t// actual runtime\r\n    \t\tString[] arrOfClassPath = System.getProperty(&quot;java.class.path&quot;).split(&quot;;&quot;);\r\n    \t\tfor (String a : arrOfClassPath) System.out.println(a);\r\n    \t\t\r\n    \t\t//Issue: https://code.google.com/archive/p/jsonrpc4j/issues/64\r\n    \t\tJsonRpcServer jsonRpcServer1 = new JsonRpcServer(userService);\r\n    \t\t//Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/servlet/ServletOutputStream\r\n    \t\t//at com.sxtlcfi.maven.App.main(App.java:60)\r\n    \t\t//Caused by: java.lang.ClassNotFoundException: javax.servlet.ServletOutputStream\r\n    \t\t//\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \t\t//\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \t\t//\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t\t//\t... 1 more\r\n    \t\t\r\n    \t\t//System.out.println(UserService.class.getMethods()[0].getName());\r\n    \t\t//JsonRpcServer jsonRpcServer2 = new JsonRpcServer(userService, UserService.class);\r\n    \t}\r\n    }\r\n\r\nUserService.java\r\n\r\n    package com.sxtlcfi.maven;\r\n    public interface UserService {\r\n        User createUser(String userName, String firstName, String password);\r\n        User createUser(String userName, String password);\r\n        User findUserByUserName(String userName);\r\n        int getUserCount();\r\n    }\r\n\r\nUserServiceImpl.java\r\n\r\n    package com.sxtlcfi.maven;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class UserServiceImpl\r\n    \timplements UserService {\r\n    \r\n    \tArrayList&lt;User&gt; database = new ArrayList&lt;User&gt;();\r\n    \t\r\n        public User createUser(String userName, String firstName, String password) {\r\n            User user = new User();\r\n            user.setUserName(userName);\r\n            user.setFirstName(firstName);\r\n            user.setPassword(password);\r\n            \r\n            database.add(user);\r\n            return user;\r\n        }\r\n    \r\n        public User createUser(String userName, String password) {\r\n            return this.createUser(userName, null, password);\r\n        }\r\n    \r\n        public User findUserByUserName(String userName) {\r\n            //return database.findUserByUserName(userName);\r\n        \tfor (int i = 0; i &lt; database.size(); i++) {\r\n    \t\t\tif(database.get(i).getUserName() == userName) {\r\n    \t\t\t\treturn database.get(i);\r\n    \t\t\t}\r\n    \t\t}\r\n        \treturn null;\r\n        }\r\n    \r\n        public int getUserCount() {\r\n            //return database.getUserCount();\r\n        \treturn database.size();\r\n        }\r\n    \r\n    }\r\n\r\nUser.java\r\n\r\n    package com.sxtlcfi.maven;\r\n    \r\n    public class User {\r\n    \r\n    \tprivate String userName;\r\n    \tprivate String firstName;\r\n    \tprivate String password;\r\n    \t\r\n        public void setUserName(String userName) {\r\n        \tthis.userName = userName;\r\n        }\r\n        \r\n        public void setFirstName(String firstName) {\r\n        \tthis.firstName = firstName;\r\n        }\r\n        \r\n        public void setPassword(String password) {\r\n        \tthis.password = password;\r\n        }\r\n        \r\n        public String getUserName() {\r\n        \treturn userName;\r\n        }\r\n        \r\n    }\r\n\r\npom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.sxtlcfi.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-demo&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.13.2&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    \t&lt;!-- https://mvnrepository.com/artifact/com.github.briandilley.jsonrpc4j/jsonrpc4j --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t  &lt;groupId&gt;com.github.briandilley.jsonrpc4j&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;jsonrpc4j&lt;/artifactId&gt;\r\n    \t  &lt;version&gt;1.6&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Java jsonrpc4j jsonRpcServer NoClassDefFoundError (Eclipse)","body":"<p>I want to create a basic JSON-RPC server over TCP. To do this I found the project <a href=\"https://github.com/briandilley/jsonrpc4j\" rel=\"nofollow noreferrer\">https://github.com/briandilley/jsonrpc4j</a>. When I tried to create in Eclipse a basic Maven project using the jsonRpcServer (see App.java), the exception java.lang.NoClassDefFoundError pops-up. Any hints?</p>\n<p>App.java</p>\n<pre><code>package com.sxtlcfi.maven;\nimport com.googlecode.jsonrpc4j.JsonRpcServer;\n\npublic class App {\n    \n    public static void main(String args[]){\n        \n        // create the jsonRpcServer\n        UserServiceImpl userService = new UserServiceImpl();\n        \n        // actual runtime\n        String[] arrOfClassPath = System.getProperty(&quot;java.class.path&quot;).split(&quot;;&quot;);\n        for (String a : arrOfClassPath) System.out.println(a);\n        \n        //Issue: https://code.google.com/archive/p/jsonrpc4j/issues/64\n        JsonRpcServer jsonRpcServer1 = new JsonRpcServer(userService);\n        //Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/servlet/ServletOutputStream\n        //at com.sxtlcfi.maven.App.main(App.java:60)\n        //Caused by: java.lang.ClassNotFoundException: javax.servlet.ServletOutputStream\n        //  at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        //  at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        //  at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        //  ... 1 more\n        \n        //System.out.println(UserService.class.getMethods()[0].getName());\n        //JsonRpcServer jsonRpcServer2 = new JsonRpcServer(userService, UserService.class);\n    }\n}\n</code></pre>\n<p>UserService.java</p>\n<pre><code>package com.sxtlcfi.maven;\npublic interface UserService {\n    User createUser(String userName, String firstName, String password);\n    User createUser(String userName, String password);\n    User findUserByUserName(String userName);\n    int getUserCount();\n}\n</code></pre>\n<p>UserServiceImpl.java</p>\n<pre><code>package com.sxtlcfi.maven;\n\nimport java.util.ArrayList;\n\npublic class UserServiceImpl\n    implements UserService {\n\n    ArrayList&lt;User&gt; database = new ArrayList&lt;User&gt;();\n    \n    public User createUser(String userName, String firstName, String password) {\n        User user = new User();\n        user.setUserName(userName);\n        user.setFirstName(firstName);\n        user.setPassword(password);\n        \n        database.add(user);\n        return user;\n    }\n\n    public User createUser(String userName, String password) {\n        return this.createUser(userName, null, password);\n    }\n\n    public User findUserByUserName(String userName) {\n        //return database.findUserByUserName(userName);\n        for (int i = 0; i &lt; database.size(); i++) {\n            if(database.get(i).getUserName() == userName) {\n                return database.get(i);\n            }\n        }\n        return null;\n    }\n\n    public int getUserCount() {\n        //return database.getUserCount();\n        return database.size();\n    }\n\n}\n</code></pre>\n<p>User.java</p>\n<pre><code>package com.sxtlcfi.maven;\n\npublic class User {\n\n    private String userName;\n    private String firstName;\n    private String password;\n    \n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n    \n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n    \n    public void setPassword(String password) {\n        this.password = password;\n    }\n    \n    public String getUserName() {\n        return userName;\n    }\n    \n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.sxtlcfi.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-demo&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.13.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.github.briandilley.jsonrpc4j/jsonrpc4j --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.github.briandilley.jsonrpc4j&lt;/groupId&gt;\n      &lt;artifactId&gt;jsonrpc4j&lt;/artifactId&gt;\n      &lt;version&gt;1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677241670,"creation_date":1677241670,"answer_id":75556573,"question_id":75555711,"body_markdown":"You can implement a kind of post-check monitor:\r\n```\r\npublic class Monitor implements ApplicationContextAware, InitializingBean {\r\n    private ApplicationContext ctx;\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext ctx) throws BeansException {\r\n        this.ctx = ctx;\r\n    }\r\n\r\n    @Override\r\n    public void afterPropertiesSet() throws Exception {\r\n        System.out.println(Arrays.toString(ctx.getBeanDefinitionNames()));\r\n        // run any checks you need\r\n    }\r\n}\r\n```\r\n\r\nWith `org.springframework.beans.factory.config.BeanFactoryPostProcessor` you can gain even more details and controls before beans actual initialisation.","title":"Is it possible to implement some pre-process or something to check if it bean name present in Enum","body":"<p>You can implement a kind of post-check monitor:</p>\n<pre><code>public class Monitor implements ApplicationContextAware, InitializingBean {\n    private ApplicationContext ctx;\n\n    @Override\n    public void setApplicationContext(ApplicationContext ctx) throws BeansException {\n        this.ctx = ctx;\n    }\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        System.out.println(Arrays.toString(ctx.getBeanDefinitionNames()));\n        // run any checks you need\n    }\n}\n</code></pre>\n<p>With <code>org.springframework.beans.factory.config.BeanFactoryPostProcessor</code> you can gain even more details and controls before beans actual initialisation.</p>\n"}],"owner":{"account_id":5771883,"reputation":3854,"user_id":4555102,"accept_rate":35,"display_name":"shuba.ivan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677241670,"creation_date":1677236290,"question_id":75555711,"body_markdown":"Is it possible to check bean name by Enum name which was delivered from resources? There is Eanum where declared all available bean names which were configured in the project\r\n\r\n    public enum ClientBeanNames {\r\n        DIRECT(&quot;direct-http-client&quot;),\r\n        STATISTIC(&quot;statistic-http-client&quot;);\r\n    }\r\n\r\nand application resource \r\n\r\n\r\n    app:\r\n      clients:\r\n        direct:\r\n          http-client: direct-http-client\r\n        statistic:\r\n          http-client: statistic-http-client\r\n\r\nand my service where I want to inject some of the implementations by bean name\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class Statistic {\r\n    \r\n        @Resource(name = &quot;${app.clients.statistic.http-client}&quot;)\r\n        private Client httpClient;\r\n\r\nand finally configuration class\r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class HttpClientConfiguration {\r\n\r\n    @Bean(name = &quot;direct-http-client&quot;)\r\n    public SplitSdkHttpClient direct() {\r\n        return new DirectHttpClient();\r\n    }\r\n\r\n    @Bean(name = &quot;statistic-http-client&quot;)\r\n    @Profile(&quot;statistic&quot;)\r\n    public HttpClient statistic() throws Exception {\r\n        return new StatisticHttpClient();\r\n    }\r\n\r\n\r\nIs it possible to implement some pre-process or something to check if it bean name present in eanum ? ","title":"Is it possible to implement some pre-process or something to check if it bean name present in Enum","body":"<p>Is it possible to check bean name by Enum name which was delivered from resources? There is Eanum where declared all available bean names which were configured in the project</p>\n<pre><code>public enum ClientBeanNames {\n    DIRECT(&quot;direct-http-client&quot;),\n    STATISTIC(&quot;statistic-http-client&quot;);\n}\n</code></pre>\n<p>and application resource</p>\n<pre><code>app:\n  clients:\n    direct:\n      http-client: direct-http-client\n    statistic:\n      http-client: statistic-http-client\n</code></pre>\n<p>and my service where I want to inject some of the implementations by bean name</p>\n<pre><code>@Component\n@Slf4j\npublic class Statistic {\n\n    @Resource(name = &quot;${app.clients.statistic.http-client}&quot;)\n    private Client httpClient;\n</code></pre>\n<p>and finally configuration class</p>\n<pre><code>@Configuration\n@Slf4j\npublic class HttpClientConfiguration {\n\n@Bean(name = &quot;direct-http-client&quot;)\npublic SplitSdkHttpClient direct() {\n    return new DirectHttpClient();\n}\n\n@Bean(name = &quot;statistic-http-client&quot;)\n@Profile(&quot;statistic&quot;)\npublic HttpClient statistic() throws Exception {\n    return new StatisticHttpClient();\n}\n</code></pre>\n<p>Is it possible to implement some pre-process or something to check if it bean name present in eanum ?</p>\n"},{"tags":["java","grails","mariadb","tomcat8"],"answers":[{"tags":[],"owner":{"account_id":15817305,"reputation":55,"user_id":13603288,"display_name":"MKOCH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677241505,"creation_date":1677241505,"answer_id":75556551,"question_id":75449440,"body_markdown":"Did this just started to occur? How were you keeping the connection alive before? One way to do that is the following:\r\n\r\n    dataSource {\r\n    \tpooled = true\r\n    \tdriverClassName = &quot;com.mysql.jdbc.Driver&quot;\r\n    \tusername = &quot;myuser&quot;\r\n    \tpassword = &quot;mypassword&quot;\r\n    \turl = &quot;jdbc:mysql://localhost/mydatabase&quot;\r\n    \tproperties {\r\n    \t\t// Set validation query to keep connection alive\r\n    \t\tvalidationQuery = &quot;SELECT 1&quot;\r\n    \t\ttestOnBorrow = true\r\n    \t\ttestWhileIdle = true\r\n    \t\ttestOnReturn = false\r\n    \t\tvalidationInterval = 30000\r\n    \t\ttimeBetweenEvictionRunsMillis = 5000\r\n    \t}\r\n    }\r\n\r\nIn this example, the validationQuery is set to &quot;SELECT 1&quot;, which is a simple query that will always return a result. This query will be executed every 30 seconds (as specified by validationInterval) to ensure that the connection is still alive.","title":"SQL Error: -1, SQLState: 08000 not flushing record","body":"<p>Did this just started to occur? How were you keeping the connection alive before? One way to do that is the following:</p>\n<pre><code>dataSource {\n    pooled = true\n    driverClassName = &quot;com.mysql.jdbc.Driver&quot;\n    username = &quot;myuser&quot;\n    password = &quot;mypassword&quot;\n    url = &quot;jdbc:mysql://localhost/mydatabase&quot;\n    properties {\n        // Set validation query to keep connection alive\n        validationQuery = &quot;SELECT 1&quot;\n        testOnBorrow = true\n        testWhileIdle = true\n        testOnReturn = false\n        validationInterval = 30000\n        timeBetweenEvictionRunsMillis = 5000\n    }\n}\n</code></pre>\n<p>In this example, the validationQuery is set to &quot;SELECT 1&quot;, which is a simple query that will always return a result. This query will be executed every 30 seconds (as specified by validationInterval) to ensure that the connection is still alive.</p>\n"}],"owner":{"account_id":19297942,"reputation":1,"user_id":14106520,"display_name":"KeisGSmit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677241505,"creation_date":1676385803,"question_id":75449440,"body_markdown":"Technical background: Groovy 2.5.6 using Java 8. MariaDb database.\r\n\r\nBackground: I have a report system in place. Different Reports are added to a database table. A job executes every 15 minutes and puts a report into a &quot;In progress&quot; state from a &quot;New&quot; state. Then once the job successfully executes the report is updated to a &quot;Done&quot; state. If any exceptions occur the report will put into a &quot;Error&quot; state.\r\n\r\nThe problem is that once the job executes the report fails to save. In the logs I can see I get a `SQL Error: -1, SQLState: 08000` and `(conn=64796) Socket error`. This indicated to me that there is a connection issue with the database. This is followed with `SQL Error: 1220, SQLState: 08000`. \r\n\r\nThere is a problem with the database connection, which has already been closed. The application is failing to generate a report and update a record.\r\n\r\nI put the report again in a &quot;New&quot; state and let the job re-run. The same issue occured again. So I was able to replicate it. I do not really have a clear method to follow to troubleshoot.\r\n\r\nHow do I resolve this error? Is this related to Java 8?","title":"SQL Error: -1, SQLState: 08000 not flushing record","body":"<p>Technical background: Groovy 2.5.6 using Java 8. MariaDb database.</p>\n<p>Background: I have a report system in place. Different Reports are added to a database table. A job executes every 15 minutes and puts a report into a &quot;In progress&quot; state from a &quot;New&quot; state. Then once the job successfully executes the report is updated to a &quot;Done&quot; state. If any exceptions occur the report will put into a &quot;Error&quot; state.</p>\n<p>The problem is that once the job executes the report fails to save. In the logs I can see I get a <code>SQL Error: -1, SQLState: 08000</code> and <code>(conn=64796) Socket error</code>. This indicated to me that there is a connection issue with the database. This is followed with <code>SQL Error: 1220, SQLState: 08000</code>.</p>\n<p>There is a problem with the database connection, which has already been closed. The application is failing to generate a report and update a record.</p>\n<p>I put the report again in a &quot;New&quot; state and let the job re-run. The same issue occured again. So I was able to replicate it. I do not really have a clear method to follow to troubleshoot.</p>\n<p>How do I resolve this error? Is this related to Java 8?</p>\n"},{"tags":["java","android","gson","android-source"],"owner":{"account_id":15993297,"reputation":223,"user_id":11541876,"display_name":"Majedul Islam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677241468,"creation_date":1676460050,"question_id":75459036,"body_markdown":"I added these lines in `Android.mk` file but AOSP source is not build \r\n\r\nLOCAL_PATH := $(call my-dir)\r\n\r\nGSON_PATH := /path/to/gson/library\r\n\r\ninclude $(CLEAR_VARS)\r\n\r\nLOCAL_MODULE := gson\r\n\r\nLOCAL_SRC_FILES := $(GSON_PATH)/gson-2.10.1.jar\r\n\r\ninclude $(PREBUILT_JAR)\r\n\r\nLOCAL_STATIC_JAVA_LIBRARIES := gson\r\n\r\n\r\nThen build the AOSP source and failed build\r\nHow to resolve it? ","title":"How to add GSON dependency in Android.mk file","body":"<p>I added these lines in <code>Android.mk</code> file but AOSP source is not build</p>\n<p>LOCAL_PATH := $(call my-dir)</p>\n<p>GSON_PATH := /path/to/gson/library</p>\n<p>include $(CLEAR_VARS)</p>\n<p>LOCAL_MODULE := gson</p>\n<p>LOCAL_SRC_FILES := $(GSON_PATH)/gson-2.10.1.jar</p>\n<p>include $(PREBUILT_JAR)</p>\n<p>LOCAL_STATIC_JAVA_LIBRARIES := gson</p>\n<p>Then build the AOSP source and failed build\nHow to resolve it?</p>\n"},{"tags":["java","collections","iteration"],"comments":[{"owner":{"account_id":420494,"reputation":1386,"user_id":798223,"display_name":"GKFX"},"score":1,"creation_date":1493973487,"post_id":223918,"comment_id":74640207,"body_markdown":"Note to readers: do have a read of http://docs.oracle.com/javase/tutorial/collections/interfaces/collection.html, it may have an easier way to achieve what you want to do.","body":"Note to readers: do have a read of <a href=\"http://docs.oracle.com/javase/tutorial/collections/interfaces/collection.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/collections/interfaces/&hellip;</a>, it may have an easier way to achieve what you want to do."}],"answers":[{"tags":[],"owner":{"account_id":8372,"reputation":225282,"user_id":15055,"accept_rate":80,"display_name":"Claudiu"},"down_vote_count":1,"up_vote_count":360,"is_accepted":false,"score":359,"last_activity_date":1546511818,"creation_date":1224631591,"answer_id":223927,"question_id":223918,"body_markdown":"This works:\r\n\r\n    Iterator&lt;Integer&gt; iter = l.iterator();\r\n    while (iter.hasNext()) {\r\n        if (iter.next() == 5) {\r\n            iter.remove();\r\n        }\r\n    }\r\n\r\nI assumed that since a foreach loop is syntactic sugar for iterating, using an iterator wouldn&#39;t help... but it gives you this `.remove()` functionality.\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>This works:</p>\n\n<pre><code>Iterator&lt;Integer&gt; iter = l.iterator();\nwhile (iter.hasNext()) {\n    if (iter.next() == 5) {\n        iter.remove();\n    }\n}\n</code></pre>\n\n<p>I assumed that since a foreach loop is syntactic sugar for iterating, using an iterator wouldn't help... but it gives you this <code>.remove()</code> functionality.</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":2,"up_vote_count":1674,"is_accepted":true,"score":1672,"last_activity_date":1539764812,"creation_date":1224631635,"answer_id":223929,"question_id":223918,"body_markdown":"[`Iterator.remove()`][1] is safe, you can use it like this:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    // This is a clever way to create the iterator and call iterator.hasNext() like\r\n    // you would do in a while-loop. It would be the same as doing:\r\n    //     Iterator&lt;String&gt; iterator = list.iterator();\r\n    //     while (iterator.hasNext()) {\r\n    for (Iterator&lt;String&gt; iterator = list.iterator(); iterator.hasNext();) {\r\n        String string = iterator.next();\r\n        if (string.isEmpty()) {\r\n            // Remove the current element from the iterator and the list.\r\n            iterator.remove();\r\n        }\r\n    }\r\n\r\n\r\nNote that [`Iterator.remove()`][1] is the only safe way to modify a collection during iteration; the behavior is unspecified if the underlying collection is modified **in any other way** while the iteration is in progress.\r\n\r\nSource:[ docs.oracle &gt; The Collection Interface][2]\r\n\r\n\r\n----\r\n\r\nAnd similarly, if you have a `ListIterator` and want to *add* items, you can use [`ListIterator#add`][3], for the same reason you can use `Iterator#remove`&amp;nbsp;&amp;mdash; it&#39;s designed to allow it.\r\n\r\n---\r\n\r\nIn your case you tried to remove from a list, but the same restriction applies if trying to `put` into a `Map` while iterating its content. \r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html#remove--\r\n  [2]: http://docs.oracle.com/javase/tutorial/collections/interfaces/collection.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/ListIterator.html#add-E-","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html#remove--\" rel=\"noreferrer\"><code>Iterator.remove()</code></a> is safe, you can use it like this:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n// This is a clever way to create the iterator and call iterator.hasNext() like\n// you would do in a while-loop. It would be the same as doing:\n//     Iterator&lt;String&gt; iterator = list.iterator();\n//     while (iterator.hasNext()) {\nfor (Iterator&lt;String&gt; iterator = list.iterator(); iterator.hasNext();) {\n    String string = iterator.next();\n    if (string.isEmpty()) {\n        // Remove the current element from the iterator and the list.\n        iterator.remove();\n    }\n}\n</code></pre>\n\n<p>Note that <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Iterator.html#remove--\" rel=\"noreferrer\"><code>Iterator.remove()</code></a> is the only safe way to modify a collection during iteration; the behavior is unspecified if the underlying collection is modified <strong>in any other way</strong> while the iteration is in progress.</p>\n\n<p>Source:<a href=\"http://docs.oracle.com/javase/tutorial/collections/interfaces/collection.html\" rel=\"noreferrer\"> docs.oracle > The Collection Interface</a></p>\n\n<hr>\n\n<p>And similarly, if you have a <code>ListIterator</code> and want to <em>add</em> items, you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/ListIterator.html#add-E-\" rel=\"noreferrer\"><code>ListIterator#add</code></a>, for the same reason you can use <code>Iterator#remove</code>&nbsp;&mdash; it's designed to allow it.</p>\n\n<hr>\n\n<p>In your case you tried to remove from a list, but the same restriction applies if trying to <code>put</code> into a <code>Map</code> while iterating its content. </p>\n"},{"tags":[],"owner":{"account_id":721,"reputation":13438,"user_id":943,"accept_rate":81,"display_name":"RodeoClown"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1579892719,"creation_date":1224631937,"answer_id":223942,"question_id":223918,"body_markdown":"You can either use the iterator directly like you mentioned, or else keep a second collection and add each item you want to remove to the new collection, then removeAll at the end. This allows you to keep using the type-safety of the for-each loop at the cost of increased memory use and cpu time (shouldn&#39;t be a huge problem unless you have really, really big lists or a really old computer)\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Collection&lt;Integer&gt; l = new ArrayList&lt;Integer&gt;();\r\n        Collection&lt;Integer&gt; itemsToRemove = new ArrayList&lt;&gt;();\r\n        for (int i=0; i &lt; 10; i++) {\r\n            l.add(Integer.of(4));\r\n            l.add(Integer.of(5));\r\n            l.add(Integer.of(6));\r\n        }\r\n        for (Integer i : l)\r\n        {\r\n            if (i.intValue() == 5) {\r\n                itemsToRemove.add(i);\r\n            }\r\n        }\r\n\r\n        l.removeAll(itemsToRemove);\r\n        System.out.println(l);\r\n    }\r\n\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>You can either use the iterator directly like you mentioned, or else keep a second collection and add each item you want to remove to the new collection, then removeAll at the end. This allows you to keep using the type-safety of the for-each loop at the cost of increased memory use and cpu time (shouldn't be a huge problem unless you have really, really big lists or a really old computer)</p>\n\n<pre><code>public static void main(String[] args)\n{\n    Collection&lt;Integer&gt; l = new ArrayList&lt;Integer&gt;();\n    Collection&lt;Integer&gt; itemsToRemove = new ArrayList&lt;&gt;();\n    for (int i=0; i &lt; 10; i++) {\n        l.add(Integer.of(4));\n        l.add(Integer.of(5));\n        l.add(Integer.of(6));\n    }\n    for (Integer i : l)\n    {\n        if (i.intValue() == 5) {\n            itemsToRemove.add(i);\n        }\n    }\n\n    l.removeAll(itemsToRemove);\n    System.out.println(l);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102574,"reputation":3028,"user_id":275264,"accept_rate":79,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1434709352,"creation_date":1273953476,"answer_id":2841570,"question_id":223918,"body_markdown":"Since the question has been already answered i.e. the best way is to use the remove method of the iterator object, I would go into the specifics of the place where the error `&quot;java.util.ConcurrentModificationException&quot;` is thrown.\r\n\r\nEvery collection class has a private class which implements the Iterator interface and provides methods like `next()`, `remove()` and `hasNext()`.\r\n\r\nThe code for next looks something like this...\r\n\r\n    public E next() {\r\n        checkForComodification();\r\n        try {\r\n        \tE next = get(cursor);\r\n    \t\tlastRet = cursor++;\r\n    \t\treturn next;\r\n        } catch(IndexOutOfBoundsException e) {\r\n    \t\tcheckForComodification();\r\n    \t\tthrow new NoSuchElementException();\r\n        }\r\n    }\r\n\r\nHere the method `checkForComodification` is implemented as \r\n\r\n    final void checkForComodification() {\r\n        if (modCount != expectedModCount)\r\n    \t    throw new ConcurrentModificationException();\r\n    }\r\n\r\nSo, as you can see, if you explicitly try to remove an element from the collection. It results in `modCount` getting different from `expectedModCount`, resulting in the exception `ConcurrentModificationException`.\r\n\r\n\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>Since the question has been already answered i.e. the best way is to use the remove method of the iterator object, I would go into the specifics of the place where the error <code>\"java.util.ConcurrentModificationException\"</code> is thrown.</p>\n\n<p>Every collection class has a private class which implements the Iterator interface and provides methods like <code>next()</code>, <code>remove()</code> and <code>hasNext()</code>.</p>\n\n<p>The code for next looks something like this...</p>\n\n<pre><code>public E next() {\n    checkForComodification();\n    try {\n        E next = get(cursor);\n        lastRet = cursor++;\n        return next;\n    } catch(IndexOutOfBoundsException e) {\n        checkForComodification();\n        throw new NoSuchElementException();\n    }\n}\n</code></pre>\n\n<p>Here the method <code>checkForComodification</code> is implemented as </p>\n\n<pre><code>final void checkForComodification() {\n    if (modCount != expectedModCount)\n        throw new ConcurrentModificationException();\n}\n</code></pre>\n\n<p>So, as you can see, if you explicitly try to remove an element from the collection. It results in <code>modCount</code> getting different from <code>expectedModCount</code>, resulting in the exception <code>ConcurrentModificationException</code>.</p>\n"},{"tags":[],"owner":{"account_id":1484409,"reputation":12963,"user_id":1392956,"accept_rate":62,"display_name":"Priyank Doshi"},"down_vote_count":8,"up_vote_count":19,"is_accepted":false,"score":11,"last_activity_date":1340688515,"creation_date":1340688515,"answer_id":11201224,"question_id":223918,"body_markdown":"Make a copy of existing list and iterate over new copy.\r\n\r\n\r\n    for (String str : new ArrayList&lt;String&gt;(listOfStr))     \r\n    {\r\n        listOfStr.remove(/* object reference or index */);\r\n    }\r\n\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>Make a copy of existing list and iterate over new copy.</p>\n\n<pre><code>for (String str : new ArrayList&lt;String&gt;(listOfStr))     \n{\n    listOfStr.remove(/* object reference or index */);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1573344192,"creation_date":1355872126,"answer_id":13943008,"question_id":223918,"body_markdown":"With [Eclipse Collections][1], the method `removeIf` defined on [MutableCollection][3] will work:\r\n\r\n    MutableList&lt;Integer&gt; list = Lists.mutable.of(1, 2, 3, 4, 5);\r\n    list.removeIf(Predicates.lessThan(3));\r\n    Assert.assertEquals(Lists.mutable.of(3, 4, 5), list);\r\n\r\nWith Java 8 Lambda syntax this can be written as follows:\r\n\r\n    MutableList&lt;Integer&gt; list = Lists.mutable.of(1, 2, 3, 4, 5);\r\n    list.removeIf(Predicates.cast(integer -&gt; integer &lt; 3));\r\n    Assert.assertEquals(Lists.mutable.of(3, 4, 5), list);\r\n\r\nThe call to `Predicates.cast()` is necessary here because a default `removeIf` method was added on the `java.util.Collection` interface in Java 8. \r\n \r\n**Note:** I am a committer for [Eclipse Collections][1].\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/\r\n  [2]: https://github.com/goldmansachs/gs-collections\r\n  [3]: https://github.com/eclipse/eclipse-collections/blob/master/eclipse-collections-api/src/main/java/org/eclipse/collections/api/collection/MutableCollection.java#L236","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>With <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>, the method <code>removeIf</code> defined on <a href=\"https://github.com/eclipse/eclipse-collections/blob/master/eclipse-collections-api/src/main/java/org/eclipse/collections/api/collection/MutableCollection.java#L236\" rel=\"nofollow noreferrer\">MutableCollection</a> will work:</p>\n\n<pre><code>MutableList&lt;Integer&gt; list = Lists.mutable.of(1, 2, 3, 4, 5);\nlist.removeIf(Predicates.lessThan(3));\nAssert.assertEquals(Lists.mutable.of(3, 4, 5), list);\n</code></pre>\n\n<p>With Java 8 Lambda syntax this can be written as follows:</p>\n\n<pre><code>MutableList&lt;Integer&gt; list = Lists.mutable.of(1, 2, 3, 4, 5);\nlist.removeIf(Predicates.cast(integer -&gt; integer &lt; 3));\nAssert.assertEquals(Lists.mutable.of(3, 4, 5), list);\n</code></pre>\n\n<p>The call to <code>Predicates.cast()</code> is necessary here because a default <code>removeIf</code> method was added on the <code>java.util.Collection</code> interface in Java 8. </p>\n\n<p><strong>Note:</strong> I am a committer for <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>.</p>\n"},{"tags":[],"owner":{"account_id":1604963,"reputation":12906,"user_id":1485230,"accept_rate":68,"display_name":"Antzi"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1409305393,"creation_date":1377088785,"answer_id":18357676,"question_id":223918,"body_markdown":"Same answer as [Claudius][1] with a for loop:\r\n\r\n    for (Iterator&lt;Object&gt; it = objects.iterator(); it.hasNext();) {\r\n        Object object = it.next();\r\n        if (test) {\r\n            it.remove();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/223927/1433392","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>Same answer as <a href=\"https://stackoverflow.com/a/223927/1433392\">Claudius</a> with a for loop:</p>\n\n<pre><code>for (Iterator&lt;Object&gt; it = objects.iterator(); it.hasNext();) {\n    Object object = it.next();\n    if (test) {\n        it.remove();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":540621,"reputation":11506,"user_id":908879,"accept_rate":95,"display_name":"ajax333221"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1381553872,"creation_date":1381553872,"answer_id":19330700,"question_id":223918,"body_markdown":"this might not be the best way, but for most of the small cases this should acceptable:\r\n\r\n&gt; *&quot;create a second empty-array and add only the ones you want to keep&quot;*\r\n\r\n&lt;sub&gt;I don&#39;t remeber where I read this from... for justiness I will make this wiki in hope someone finds it or just to don&#39;t earn rep I don&#39;t deserve.&lt;/sub&gt;","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>this might not be the best way, but for most of the small cases this should acceptable:</p>\n\n<blockquote>\n  <p><em>\"create a second empty-array and add only the ones you want to keep\"</em></p>\n</blockquote>\n\n<p><sub>I don't remeber where I read this from... for justiness I will make this wiki in hope someone finds it or just to don't earn rep I don't deserve.</sub></p>\n"},{"tags":[],"owner":{"account_id":1894228,"reputation":370,"user_id":1711555,"display_name":"Nandhan Thiravia"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1418323285,"creation_date":1384852725,"answer_id":20067507,"question_id":223918,"body_markdown":"I have a suggestion for the problem above. No need of secondary list or any extra time. Please find an example which would do the same stuff but in a different way.\r\n\r\n    //&quot;list&quot; is ArrayList&lt;Object&gt;\r\n    //&quot;state&quot; is some boolean variable, which when set to true, Object will be removed from the list\r\n    int index = 0;\r\n    while(index &lt; list.size()) {\r\n    \tObject r = list.get(index);\r\n    \tif( state ) {\r\n    \t\tlist.remove(index);\r\n    \t\tindex = 0;\r\n    \t\tcontinue;\r\n    \t}\r\n    \tindex += 1;\r\n    }\r\n\r\n&lt;code&gt;\r\nThis would avoid the Concurrency Exception.\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>I have a suggestion for the problem above. No need of secondary list or any extra time. Please find an example which would do the same stuff but in a different way.</p>\n\n<pre><code>//\"list\" is ArrayList&lt;Object&gt;\n//\"state\" is some boolean variable, which when set to true, Object will be removed from the list\nint index = 0;\nwhile(index &lt; list.size()) {\n    Object r = list.get(index);\n    if( state ) {\n        list.remove(index);\n        index = 0;\n        continue;\n    }\n    index += 1;\n}\n</code></pre>\n\n<p>\nThis would avoid the Concurrency Exception.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":242,"is_accepted":false,"score":242,"last_activity_date":1677241343,"creation_date":1401271904,"answer_id":23908758,"question_id":223918,"body_markdown":"With Java 8 you can use [the new `removeIf` method][1]. Applied to your example:\r\n\r\n    Collection&lt;Integer&gt; coll = new ArrayList&lt;&gt;();\r\n    //populate\r\n\r\n    coll.removeIf(i -&gt; i == 5);\r\n\r\n [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\r\n\r\nA simple test as example: \r\n\r\n```java\r\n    @Test\r\n    public void testRemoveIfOneList() {\r\n        List&lt;String&gt; outer = new ArrayList&lt;&gt;();\r\n        outer.add(&quot;one&quot;);\r\n        outer.add(&quot;two&quot;);\r\n        outer.add(&quot;three&quot;);\r\n\r\n        outer.removeIf(o -&gt; o.length() == 3);\r\n\r\n        assertEquals(1, outer.size());\r\n    }\r\n````\r\n\r\nIt even works when you compare two lists and want to remove from both. \r\n\r\n```java\r\n    @Test\r\n    public void testRemoveIfTwoLists() {\r\n        List&lt;String&gt; outer = new ArrayList&lt;&gt;();\r\n        outer.add(&quot;one&quot;);\r\n        outer.add(&quot;two&quot;);\r\n        outer.add(&quot;three&quot;);\r\n        List&lt;String&gt; inner = new ArrayList&lt;&gt;();\r\n        inner.addAll(outer);\r\n\r\n        // first, it removes from inner, and if anything is removed, then removeIf() returns true,\r\n        // leading to removing from outer\r\n        outer.removeIf(o -&gt; inner.removeIf(i -&gt; i.equals(o)));\r\n\r\n        assertEquals(0, outer.size());\r\n        assertEquals(0, inner.size());\r\n    }\r\n```\r\n\r\n**However, if one of the list has duplicates, make sure it&#39;s iterated in the inner loop**, because for inner list, it will remove **all** elements meeting the criteria, but for outer list, when **any element** is removed, it will return immediately and stops checking. \r\n\r\nThis test will fail:\r\n\r\n```java\r\n    @Test\r\n    public void testRemoveIfTwoListsInnerHasDuplicates() {\r\n        List&lt;String&gt; outer = new ArrayList&lt;&gt;();\r\n        outer.add(&quot;one&quot;);\r\n        outer.add(&quot;one&quot;);\r\n        outer.add(&quot;two&quot;);\r\n        outer.add(&quot;two&quot;);\r\n        outer.add(&quot;three&quot;);\r\n        outer.add(&quot;three&quot;);\r\n        List&lt;String&gt; inner = new ArrayList&lt;&gt;();\r\n        inner.addAll(outer); // both have duplicates\r\n\r\n        // remove all elements from inner(executed twice), then remove from outer\r\n        // but only once! if anything is removed, it will return immediately!!\r\n        outer.removeIf(o -&gt; inner.removeIf(i -&gt; i.equals(o)));\r\n\r\n        assertEquals(0, inner.size()); // pass, inner all removed\r\n        assertEquals(0, outer.size()); // will fail, outer has size = 3\r\n    }\r\n```\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>With Java 8 you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">the new <code>removeIf</code> method</a>. Applied to your example:</p>\n<pre><code>Collection&lt;Integer&gt; coll = new ArrayList&lt;&gt;();\n//populate\n\ncoll.removeIf(i -&gt; i == 5);\n</code></pre>\n<p>A simple test as example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void testRemoveIfOneList() {\n        List&lt;String&gt; outer = new ArrayList&lt;&gt;();\n        outer.add(&quot;one&quot;);\n        outer.add(&quot;two&quot;);\n        outer.add(&quot;three&quot;);\n\n        outer.removeIf(o -&gt; o.length() == 3);\n\n        assertEquals(1, outer.size());\n    }\n</code></pre>\n<p>It even works when you compare two lists and want to remove from both.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void testRemoveIfTwoLists() {\n        List&lt;String&gt; outer = new ArrayList&lt;&gt;();\n        outer.add(&quot;one&quot;);\n        outer.add(&quot;two&quot;);\n        outer.add(&quot;three&quot;);\n        List&lt;String&gt; inner = new ArrayList&lt;&gt;();\n        inner.addAll(outer);\n\n        // first, it removes from inner, and if anything is removed, then removeIf() returns true,\n        // leading to removing from outer\n        outer.removeIf(o -&gt; inner.removeIf(i -&gt; i.equals(o)));\n\n        assertEquals(0, outer.size());\n        assertEquals(0, inner.size());\n    }\n</code></pre>\n<p><strong>However, if one of the list has duplicates, make sure it's iterated in the inner loop</strong>, because for inner list, it will remove <strong>all</strong> elements meeting the criteria, but for outer list, when <strong>any element</strong> is removed, it will return immediately and stops checking.</p>\n<p>This test will fail:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void testRemoveIfTwoListsInnerHasDuplicates() {\n        List&lt;String&gt; outer = new ArrayList&lt;&gt;();\n        outer.add(&quot;one&quot;);\n        outer.add(&quot;one&quot;);\n        outer.add(&quot;two&quot;);\n        outer.add(&quot;two&quot;);\n        outer.add(&quot;three&quot;);\n        outer.add(&quot;three&quot;);\n        List&lt;String&gt; inner = new ArrayList&lt;&gt;();\n        inner.addAll(outer); // both have duplicates\n\n        // remove all elements from inner(executed twice), then remove from outer\n        // but only once! if anything is removed, it will return immediately!!\n        outer.removeIf(o -&gt; inner.removeIf(i -&gt; i.equals(o)));\n\n        assertEquals(0, inner.size()); // pass, inner all removed\n        assertEquals(0, outer.size()); // will fail, outer has size = 3\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":157346,"reputation":54254,"user_id":375232,"accept_rate":100,"display_name":"Landei"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1409306175,"creation_date":1409306175,"answer_id":25565900,"question_id":223918,"body_markdown":"In such cases a common trick is (was?) to go backwards:\r\n\r\n    for(int i = l.size() - 1; i &gt;= 0; i --) {\r\n      if (l.get(i) == 5) {\r\n        l.remove(i);\r\n      }\r\n    }\r\n\r\nThat said, I&#39;m more than happy that you have better ways in Java 8, e.g. `removeIf` or `filter` on streams.","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>In such cases a common trick is (was?) to go backwards:</p>\n\n<pre><code>for(int i = l.size() - 1; i &gt;= 0; i --) {\n  if (l.get(i) == 5) {\n    l.remove(i);\n  }\n}\n</code></pre>\n\n<p>That said, I'm more than happy that you have better ways in Java 8, e.g. <code>removeIf</code> or <code>filter</code> on streams.</p>\n"},{"tags":[],"owner":{"account_id":3340710,"reputation":727,"user_id":2807072,"display_name":"Nurlan"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1454606728,"creation_date":1454606728,"answer_id":35207600,"question_id":223918,"body_markdown":"In case **ArrayList:remove(int index)**- if(index is last element&#39;s position) it avoids without `System.arraycopy()` and takes not time for this.\r\n\r\narraycopy time increases if(index decreases), by the way elements of list also decreases!\r\n   \r\n\r\n  the best effective remove way is- removing its elements in descending order:\r\n`while(list.size()&gt;0)list.remove(list.size()-1);`//takes O(1)\r\n`while(list.size()&gt;0)list.remove(0);`//takes O(factorial(n))\r\n\r\n            \r\n\r\n    //region prepare data\r\n    ArrayList&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\r\n    ArrayList&lt;Integer&gt; toRemove = new ArrayList&lt;Integer&gt;();\r\n    Random rdm = new Random();\r\n    long millis;\r\n    for (int i = 0; i &lt; 100000; i++) {\r\n        Integer integer = rdm.nextInt();\r\n        ints.add(integer);\r\n    }\r\n    ArrayList&lt;Integer&gt; intsForIndex = new ArrayList&lt;Integer&gt;(ints);\r\n    ArrayList&lt;Integer&gt; intsDescIndex = new ArrayList&lt;Integer&gt;(ints);\r\n    ArrayList&lt;Integer&gt; intsIterator = new ArrayList&lt;Integer&gt;(ints);\r\n    //endregion\r\n    \r\n    // region for index\r\n    millis = System.currentTimeMillis();\r\n    for (int i = 0; i &lt; intsForIndex.size(); i++) \r\n       if (intsForIndex.get(i) % 2 == 0) intsForIndex.remove(i--);\r\n    System.out.println(System.currentTimeMillis() - millis);\r\n    // endregion\r\n    \r\n    // region for index desc\r\n    millis = System.currentTimeMillis();\r\n    for (int i = intsDescIndex.size() - 1; i &gt;= 0; i--) \r\n       if (intsDescIndex.get(i) % 2 == 0) intsDescIndex.remove(i);\r\n    System.out.println(System.currentTimeMillis() - millis);\r\n    //endregion\r\n    \r\n    // region iterator\r\n    millis = System.currentTimeMillis();\r\n    for (Iterator&lt;Integer&gt; iterator = intsIterator.iterator(); iterator.hasNext(); )\r\n        if (iterator.next() % 2 == 0) iterator.remove();\r\n    System.out.println(System.currentTimeMillis() - millis);\r\n    //endregion\r\n\r\n - for index loop: 1090 msec\r\n - for desc index: **519** msec---the best\r\n - for iterator: 1043 msec","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>In case <strong>ArrayList:remove(int index)</strong>- if(index is last element's position) it avoids without <code>System.arraycopy()</code> and takes not time for this.</p>\n\n<p>arraycopy time increases if(index decreases), by the way elements of list also decreases!</p>\n\n<p>the best effective remove way is- removing its elements in descending order:\n<code>while(list.size()&gt;0)list.remove(list.size()-1);</code>//takes O(1)\n<code>while(list.size()&gt;0)list.remove(0);</code>//takes O(factorial(n))</p>\n\n<pre><code>//region prepare data\nArrayList&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\nArrayList&lt;Integer&gt; toRemove = new ArrayList&lt;Integer&gt;();\nRandom rdm = new Random();\nlong millis;\nfor (int i = 0; i &lt; 100000; i++) {\n    Integer integer = rdm.nextInt();\n    ints.add(integer);\n}\nArrayList&lt;Integer&gt; intsForIndex = new ArrayList&lt;Integer&gt;(ints);\nArrayList&lt;Integer&gt; intsDescIndex = new ArrayList&lt;Integer&gt;(ints);\nArrayList&lt;Integer&gt; intsIterator = new ArrayList&lt;Integer&gt;(ints);\n//endregion\n\n// region for index\nmillis = System.currentTimeMillis();\nfor (int i = 0; i &lt; intsForIndex.size(); i++) \n   if (intsForIndex.get(i) % 2 == 0) intsForIndex.remove(i--);\nSystem.out.println(System.currentTimeMillis() - millis);\n// endregion\n\n// region for index desc\nmillis = System.currentTimeMillis();\nfor (int i = intsDescIndex.size() - 1; i &gt;= 0; i--) \n   if (intsDescIndex.get(i) % 2 == 0) intsDescIndex.remove(i);\nSystem.out.println(System.currentTimeMillis() - millis);\n//endregion\n\n// region iterator\nmillis = System.currentTimeMillis();\nfor (Iterator&lt;Integer&gt; iterator = intsIterator.iterator(); iterator.hasNext(); )\n    if (iterator.next() % 2 == 0) iterator.remove();\nSystem.out.println(System.currentTimeMillis() - millis);\n//endregion\n</code></pre>\n\n<ul>\n<li>for index loop: 1090 msec</li>\n<li>for desc index: <strong>519</strong> msec---the best</li>\n<li>for iterator: 1043 msec</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8621303,"reputation":1202,"user_id":6456129,"display_name":"Yessy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466680738,"creation_date":1466680738,"answer_id":37990142,"question_id":223918,"body_markdown":"[ConcurrentHashMap][1] or [ConcurrentLinkedQueue][2] or [ConcurrentSkipListMap][3] may be another option, because they will never throw any ConcurrentModificationException, even if you remove or add item.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListMap.html","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"noreferrer\">ConcurrentHashMap</a> or <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\" rel=\"noreferrer\">ConcurrentLinkedQueue</a> or <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"noreferrer\">ConcurrentSkipListMap</a> may be another option, because they will never throw any ConcurrentModificationException, even if you remove or add item.</p>\n"},{"tags":[],"owner":{"account_id":6383638,"reputation":63,"user_id":4952219,"display_name":"Srinivasan Thoyyeti"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1467271834,"creation_date":1467271489,"answer_id":38116468,"question_id":223918,"body_markdown":"    for (Integer i : l)\r\n    {\r\n        if (i.intValue() == 5){\r\n                itemsToRemove.add(i);\r\n                break;\r\n        }\r\n    }\r\n\r\nThe catch is the after removing the element from the list if you skip the internal iterator.next() call. it still works! Though I dont propose to write code like this it helps to understand the concept behind it :-)\r\n\r\nCheers!\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<pre><code>for (Integer i : l)\n{\n    if (i.intValue() == 5){\n            itemsToRemove.add(i);\n            break;\n    }\n}\n</code></pre>\n\n<p>The catch is the after removing the element from the list if you skip the internal iterator.next() call. it still works! Though I dont propose to write code like this it helps to understand the concept behind it :-)</p>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":10430372,"reputation":4017,"user_id":7690376,"display_name":"from56"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1579991372,"creation_date":1492374546,"answer_id":43441822,"question_id":223918,"body_markdown":"With a traditional for loop\r\n```java\r\nArrayList&lt;String&gt; myArray = new ArrayList&lt;&gt;();\r\n\r\nfor (int i = 0; i &lt; myArray.size(); ) {\r\n    String text = myArray.get(i);\r\n    if (someCondition(text))\r\n        myArray.remove(i);\r\n    else\r\n        i++;   \r\n}\r\n```","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>With a traditional for loop</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; myArray = new ArrayList&lt;&gt;();\n\nfor (int i = 0; i &lt; myArray.size(); ) {\n    String text = myArray.get(i);\n    if (someCondition(text))\n        myArray.remove(i);\n    else\n        i++;   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1507907780,"creation_date":1507907780,"answer_id":46733073,"question_id":223918,"body_markdown":"A `ListIterator` allows you to add or remove items in the list.  Suppose you have a list of `Car` objects:\r\n\r\n    List&lt;Car&gt; cars = ArrayList&lt;&gt;();\r\n    // add cars here...\r\n        \r\n    for (ListIterator&lt;Car&gt; carIterator = cars.listIterator();  carIterator.hasNext(); )\r\n    {\r\n       if (&lt;some-condition&gt;)\r\n       { \r\n          carIterator().remove()\r\n       }\r\n       else if (&lt;some-other-condition&gt;)\r\n       { \r\n          carIterator().add(aNewCar);\r\n       }\r\n    }","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>A <code>ListIterator</code> allows you to add or remove items in the list.  Suppose you have a list of <code>Car</code> objects:</p>\n\n<pre><code>List&lt;Car&gt; cars = ArrayList&lt;&gt;();\n// add cars here...\n\nfor (ListIterator&lt;Car&gt; carIterator = cars.listIterator();  carIterator.hasNext(); )\n{\n   if (&lt;some-condition&gt;)\n   { \n      carIterator().remove()\n   }\n   else if (&lt;some-other-condition&gt;)\n   { \n      carIterator().add(aNewCar);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":463429,"reputation":6493,"user_id":866333,"accept_rate":88,"display_name":"John"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1579619395,"creation_date":1521284550,"answer_id":49335224,"question_id":223918,"body_markdown":"People are asserting one **can&#39;t** remove from a Collection being iterated by a foreach loop. I just wanted to point out that is *technically* incorrect and describe exactly (I know the OP&#39;s question is so advanced as to obviate knowing this) the code behind that assumption:\r\n```java\r\nfor (TouchableObj obj : untouchedSet) {  // &lt;--- This is where ConcurrentModificationException strikes\r\n    if (obj.isTouched()) {\r\n        untouchedSet.remove(obj);\r\n        touchedSt.add(obj);\r\n        break;  // this is key to avoiding returning to the foreach\r\n    }\r\n}\r\n```\r\nIt isn&#39;t that you can&#39;t remove from the iterated `Colletion` rather that you can&#39;t then continue iteration once you do. Hence the `break` in the code above.\r\n\r\nApologies if this answer is a somewhat specialist use-case and more suited to the original [thread][1] I arrived here from, that one is marked as a duplicate (despite this thread appearing more nuanced) of this and locked.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1110404/remove-elements-from-a-hashset-while-iterating","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>People are asserting one <strong>can't</strong> remove from a Collection being iterated by a foreach loop. I just wanted to point out that is <em>technically</em> incorrect and describe exactly (I know the OP's question is so advanced as to obviate knowing this) the code behind that assumption:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>for (TouchableObj obj : untouchedSet) {  // &lt;--- This is where ConcurrentModificationException strikes\n    if (obj.isTouched()) {\n        untouchedSet.remove(obj);\n        touchedSt.add(obj);\n        break;  // this is key to avoiding returning to the foreach\n    }\n}\n</code></pre>\n\n<p>It isn't that you can't remove from the iterated <code>Colletion</code> rather that you can't then continue iteration once you do. Hence the <code>break</code> in the code above.</p>\n\n<p>Apologies if this answer is a somewhat specialist use-case and more suited to the original <a href=\"https://stackoverflow.com/questions/1110404/remove-elements-from-a-hashset-while-iterating\">thread</a> I arrived here from, that one is marked as a duplicate (despite this thread appearing more nuanced) of this and locked.</p>\n"},{"tags":[],"owner":{"account_id":9010688,"reputation":1381,"user_id":6715431,"display_name":"jagdish khetre"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1648793863,"creation_date":1525370375,"answer_id":50161275,"question_id":223918,"body_markdown":"The best way (recommended) is use of `java.util.concurrent` package. By\r\nusing this package you can easily avoid this exception. Refer\r\nModified Code:\r\n```java\r\npublic static void main(String[] args) {\r\n    Collection&lt;Integer&gt; l = new CopyOnWriteArrayList&lt;Integer&gt;();\r\n    \r\n    for (int i=0; i &lt; 10; ++i) {\r\n        l.add(new Integer(4));\r\n    \tl.add(new Integer(5));\r\n    \tl.add(new Integer(6));\r\n    }\r\n    \r\n    for (Integer i : l) {\r\n        if (i.intValue() == 5) {\r\n    \t    l.remove(i);\r\n    \t}\r\n    }\r\n    \r\n    System.out.println(l);\r\n}\r\n```","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>The best way (recommended) is use of <code>java.util.concurrent</code> package. By\nusing this package you can easily avoid this exception. Refer\nModified Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Collection&lt;Integer&gt; l = new CopyOnWriteArrayList&lt;Integer&gt;();\n    \n    for (int i=0; i &lt; 10; ++i) {\n        l.add(new Integer(4));\n        l.add(new Integer(5));\n        l.add(new Integer(6));\n    }\n    \n    for (Integer i : l) {\n        if (i.intValue() == 5) {\n            l.remove(i);\n        }\n    }\n    \n    System.out.println(l);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3014757,"reputation":3692,"user_id":2557258,"display_name":"Yazon2006"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537174982,"creation_date":1537174982,"answer_id":52364161,"question_id":223918,"body_markdown":"Example of thread safe collection modification:\r\n\r\n    public class Example {\r\n        private final List&lt;String&gt; queue = Collections.synchronizedList(new ArrayList&lt;String&gt;());\r\n    \r\n        public void removeFromQueue() {\r\n            synchronized (queue) {\r\n                Iterator&lt;String&gt; iterator = queue.iterator();\r\n                String string = iterator.next();\r\n                if (string.isEmpty()) {\r\n                    iterator.remove();\r\n                }\r\n            }\r\n        }\r\n    }","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>Example of thread safe collection modification:</p>\n\n<pre><code>public class Example {\n    private final List&lt;String&gt; queue = Collections.synchronizedList(new ArrayList&lt;String&gt;());\n\n    public void removeFromQueue() {\n        synchronized (queue) {\n            Iterator&lt;String&gt; iterator = queue.iterator();\n            String string = iterator.next();\n            if (string.isEmpty()) {\n                iterator.remove();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3190994,"reputation":1286,"user_id":2695227,"display_name":"pedram bashiri"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1537992921,"creation_date":1537992921,"answer_id":52525447,"question_id":223918,"body_markdown":"I know this question is too old to be about Java 8, but for those using Java 8 you can easily use removeIf():\r\n\r\n    Collection&lt;Integer&gt; l = new ArrayList&lt;Integer&gt;();\r\n\r\n    for (int i=0; i &lt; 10; ++i) {\r\n        l.add(new Integer(4));\r\n        l.add(new Integer(5));\r\n        l.add(new Integer(6));\r\n    }\r\n\r\n    l.removeIf(i -&gt; i.intValue() == 5);","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>I know this question is too old to be about Java 8, but for those using Java 8 you can easily use removeIf():</p>\n\n<pre><code>Collection&lt;Integer&gt; l = new ArrayList&lt;Integer&gt;();\n\nfor (int i=0; i &lt; 10; ++i) {\n    l.add(new Integer(4));\n    l.add(new Integer(5));\n    l.add(new Integer(6));\n}\n\nl.removeIf(i -&gt; i.intValue() == 5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1545266958,"creation_date":1545262853,"answer_id":53860666,"question_id":223918,"body_markdown":"I know this question assumes just a `Collection`, and not more specifically any `List`.  But **for those reading this question who are indeed working with a `List` reference, you can avoid `ConcurrentModificationException` with a `while`-loop (while modifying within it) instead if you want to avoid `Iterator`** (either if you want to avoid it in general, or avoid it specifically to achieve a looping order different from start-to-end stopping at each element [which I believe is the only order `Iterator` itself can do]):\r\n\r\n***Update: See comments below that clarify the analogous is also achievable with the _traditional_-for-loop.**\r\n\r\n    final List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    for(int i = 0; i &lt; 10; ++i){\r\n        list.add(i);\r\n    }\r\n        \r\n    int i = 1;\r\n    while(i &lt; list.size()){\r\n        if(list.get(i) % 2 == 0){\r\n            list.remove(i++);\r\n\r\n        } else {\r\n            i += 2;\r\n        }\r\n    }\r\n\r\n*No ConcurrentModificationException from that code.*\r\n\r\nThere we see looping not start at the beginning, and not stop at *every* element (which I believe `Iterator` itself can&#39;t do).\r\n\r\nFWIW we also see `get` being called on `list`, which could not be done if its reference was just `Collection` (instead of the more specific `List`-type of `Collection`) - `List` interface includes `get`, but `Collection` interface does not.  If not for that difference, then the `list` reference could instead be a `Collection` [and therefore technically this Answer would then be a direct Answer, instead of a tangential Answer].\r\n\r\nFWIWW same code still works after modified to start at beginning at stop at every element (just like `Iterator` order):\r\n\r\n    final List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    for(int i = 0; i &lt; 10; ++i){\r\n        list.add(i);\r\n    }\r\n\r\n    int i = 0;\r\n    while(i &lt; list.size()){\r\n        if(list.get(i) % 2 == 0){\r\n            list.remove(i);\r\n\r\n        } else {\r\n            ++i;\r\n        }\r\n    }","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>I know this question assumes just a <code>Collection</code>, and not more specifically any <code>List</code>.  But <strong>for those reading this question who are indeed working with a <code>List</code> reference, you can avoid <code>ConcurrentModificationException</code> with a <code>while</code>-loop (while modifying within it) instead if you want to avoid <code>Iterator</code></strong> (either if you want to avoid it in general, or avoid it specifically to achieve a looping order different from start-to-end stopping at each element [which I believe is the only order <code>Iterator</code> itself can do]):</p>\n\n<p><strong>*Update: See comments below that clarify the analogous is also achievable with the <em>traditional</em>-for-loop.</strong></p>\n\n<pre><code>final List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nfor(int i = 0; i &lt; 10; ++i){\n    list.add(i);\n}\n\nint i = 1;\nwhile(i &lt; list.size()){\n    if(list.get(i) % 2 == 0){\n        list.remove(i++);\n\n    } else {\n        i += 2;\n    }\n}\n</code></pre>\n\n<p><em>No ConcurrentModificationException from that code.</em></p>\n\n<p>There we see looping not start at the beginning, and not stop at <em>every</em> element (which I believe <code>Iterator</code> itself can't do).</p>\n\n<p>FWIW we also see <code>get</code> being called on <code>list</code>, which could not be done if its reference was just <code>Collection</code> (instead of the more specific <code>List</code>-type of <code>Collection</code>) - <code>List</code> interface includes <code>get</code>, but <code>Collection</code> interface does not.  If not for that difference, then the <code>list</code> reference could instead be a <code>Collection</code> [and therefore technically this Answer would then be a direct Answer, instead of a tangential Answer].</p>\n\n<p>FWIWW same code still works after modified to start at beginning at stop at every element (just like <code>Iterator</code> order):</p>\n\n<pre><code>final List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nfor(int i = 0; i &lt; 10; ++i){\n    list.add(i);\n}\n\nint i = 0;\nwhile(i &lt; list.size()){\n    if(list.get(i) % 2 == 0){\n        list.remove(i);\n\n    } else {\n        ++i;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1605112816,"creation_date":1552562296,"answer_id":55161143,"question_id":223918,"body_markdown":"Another way is to use a copy of your arrayList just for iteration:\r\n```java\r\nList&lt;Object&gt; l = ...\r\n    \r\nList&lt;Object&gt; iterationList = ImmutableList.copyOf(l);\r\n    \r\nfor (Object curr : iterationList) {\r\n    if (condition(curr)) {\r\n        l.remove(curr);\r\n    }\r\n}\r\n```","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>Another way is to use a copy of your arrayList just for iteration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Object&gt; l = ...\n    \nList&lt;Object&gt; iterationList = ImmutableList.copyOf(l);\n    \nfor (Object curr : iterationList) {\n    if (condition(curr)) {\n        l.remove(curr);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10277734,"reputation":695,"user_id":7584019,"display_name":"Rahul Vala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564604173,"creation_date":1564604173,"answer_id":57298240,"question_id":223918,"body_markdown":"One solution could be to rotate the list and remove the first element to avoid the ConcurrentModificationException or IndexOutOfBoundsException\r\n\r\n    int n = list.size();\r\n    for(int j=0;j&lt;n;j++){\r\n        //you can also put a condition before remove\r\n        list.remove(0);\r\n        Collections.rotate(list, 1);\r\n    }\r\n    Collections.rotate(list, -1);\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>One solution could be to rotate the list and remove the first element to avoid the ConcurrentModificationException or IndexOutOfBoundsException</p>\n\n<pre><code>int n = list.size();\nfor(int j=0;j&lt;n;j++){\n    //you can also put a condition before remove\n    list.remove(0);\n    Collections.rotate(list, 1);\n}\nCollections.rotate(list, -1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9372358,"reputation":111,"user_id":8483269,"display_name":"Oleg Tatarchuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573672538,"creation_date":1573672538,"answer_id":58844056,"question_id":223918,"body_markdown":"Try this one (removes all elements in the list that equal `i`):\r\n\r\n    for (Object i : l) {\r\n        if (condition(i)) {\r\n            l = (l.stream().filter((a) -&gt; a != i)).collect(Collectors.toList());\r\n        }\r\n    }","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>Try this one (removes all elements in the list that equal <code>i</code>):</p>\n\n<pre><code>for (Object i : l) {\n    if (condition(i)) {\n        l = (l.stream().filter((a) -&gt; a != i)).collect(Collectors.toList());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7820615,"reputation":415,"user_id":5913870,"accept_rate":44,"display_name":"Firas Chebbah"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1591277016,"creation_date":1591277016,"answer_id":62195755,"question_id":223918,"body_markdown":"you can also use **Recursion**\r\n\r\nRecursion in java is a process in which a method calls itself continuously. A method in java that calls itself is called recursive method.","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>you can also use <strong>Recursion</strong></p>\n\n<p>Recursion in java is a process in which a method calls itself continuously. A method in java that calls itself is called recursive method.</p>\n"},{"tags":[],"owner":{"account_id":362620,"reputation":216,"user_id":705908,"display_name":"Adil Kara&#246;z"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600784547,"creation_date":1600784547,"answer_id":64011786,"question_id":223918,"body_markdown":"Now, You can remove with the following code\r\n\r\n    l.removeIf(current -&gt; current == 5);","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>Now, You can remove with the following code</p>\n<pre><code>l.removeIf(current -&gt; current == 5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10775305,"reputation":668,"user_id":7927573,"display_name":"Oguzhan Cevik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1609152017,"creation_date":1609152017,"answer_id":65476338,"question_id":223918,"body_markdown":"You can use a while loop.\r\n\r\n    Iterator&lt;Map.Entry&lt;String, String&gt;&gt; iterator = map.entrySet().iterator();\r\n    while(iterator.hasNext()){\r\n        Map.Entry&lt;String, String&gt; entry = iterator.next();\r\n        if(entry.getKey().equals(&quot;test&quot;)) {\r\n            iterator.remove();\r\n        } \r\n    }","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>You can use a while loop.</p>\n<pre><code>Iterator&lt;Map.Entry&lt;String, String&gt;&gt; iterator = map.entrySet().iterator();\nwhile(iterator.hasNext()){\n    Map.Entry&lt;String, String&gt; entry = iterator.next();\n    if(entry.getKey().equals(&quot;test&quot;)) {\n        iterator.remove();\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1644318918,"creation_date":1617199276,"answer_id":66889350,"question_id":223918,"body_markdown":"**Java Concurrent Modification Exception** \r\n\r\n1. Single thread \r\n```\r\nIterator&lt;String&gt; iterator = list.iterator();\r\nwhile (iterator.hasNext()) {\r\n    String value = iter.next()\r\n    if (value == &quot;A&quot;) {\r\n        list.remove(it.next()); //throws ConcurrentModificationException\r\n    }\r\n}\r\n```\r\n\r\nSolution: iterator `remove()` method\r\n```\r\nIterator&lt;String&gt; iterator = list.iterator();\r\nwhile (iterator.hasNext()) {\r\n    String value = iter.next()\r\n    if (value == &quot;A&quot;) {\r\n        it.remove()\r\n    }\r\n}\r\n```\r\n\r\n2. Multi thread \r\n\r\n - copy/convert and iterate over another one collection. For small collections\r\n - `synchronize`[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][1] \r\n - thread safe collection[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59500618/4770877\r\n  [2]: https://stackoverflow.com/a/65410514/4770877","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p><strong>Java Concurrent Modification Exception</strong></p>\n<ol>\n<li>Single thread</li>\n</ol>\n<pre><code>Iterator&lt;String&gt; iterator = list.iterator();\nwhile (iterator.hasNext()) {\n    String value = iter.next()\n    if (value == &quot;A&quot;) {\n        list.remove(it.next()); //throws ConcurrentModificationException\n    }\n}\n</code></pre>\n<p>Solution: iterator <code>remove()</code> method</p>\n<pre><code>Iterator&lt;String&gt; iterator = list.iterator();\nwhile (iterator.hasNext()) {\n    String value = iter.next()\n    if (value == &quot;A&quot;) {\n        it.remove()\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Multi thread</li>\n</ol>\n<ul>\n<li>copy/convert and iterate over another one collection. For small collections</li>\n<li><code>synchronize</code><a href=\"https://stackoverflow.com/a/59500618/4770877\"><sup>[About]</sup></a></li>\n<li>thread safe collection<a href=\"https://stackoverflow.com/a/65410514/4770877\"><sup>[About]</sup></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625339467,"creation_date":1625339467,"answer_id":68239250,"question_id":223918,"body_markdown":"I ended up with this `ConcurrentModificationException`, while iterating the list using `stream().map()` method. However the `for(:)` did not throw the exception while iterating and modifying the the list.\r\n\r\nHere is code snippet , if its of help to anyone: \r\nhere I&#39;m iterating on a `ArrayList&lt;BuildEntity&gt;` , and modifying it using the list.remove(obj)\r\n\r\n     for(BuildEntity build : uniqueBuildEntities){\r\n                if(build!=null){\r\n                    if(isBuildCrashedWithErrors(build)){\r\n                        log.info(&quot;The following build crashed with errors ,  will not be persisted -&gt; \\n{}&quot;\r\n                                ,build.getBuildUrl());\r\n                        uniqueBuildEntities.remove(build);\r\n                        if (uniqueBuildEntities.isEmpty()) return  EMPTY_LIST;\r\n                    }\r\n                }\r\n            }\r\n            if(uniqueBuildEntities.size()&gt;0) {\r\n                dbEntries.addAll(uniqueBuildEntities);\r\n            }","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>I ended up with this <code>ConcurrentModificationException</code>, while iterating the list using <code>stream().map()</code> method. However the <code>for(:)</code> did not throw the exception while iterating and modifying the the list.</p>\n<p>Here is code snippet , if its of help to anyone:\nhere I'm iterating on a <code>ArrayList&lt;BuildEntity&gt;</code> , and modifying it using the list.remove(obj)</p>\n<pre><code> for(BuildEntity build : uniqueBuildEntities){\n            if(build!=null){\n                if(isBuildCrashedWithErrors(build)){\n                    log.info(&quot;The following build crashed with errors ,  will not be persisted -&gt; \\n{}&quot;\n                            ,build.getBuildUrl());\n                    uniqueBuildEntities.remove(build);\n                    if (uniqueBuildEntities.isEmpty()) return  EMPTY_LIST;\n                }\n            }\n        }\n        if(uniqueBuildEntities.size()&gt;0) {\n            dbEntries.addAll(uniqueBuildEntities);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11450501,"reputation":311,"user_id":8423371,"display_name":"SM. Hosseini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638091025,"creation_date":1638091025,"answer_id":70142023,"question_id":223918,"body_markdown":" If using HashMap, in newer versions of Java (8+) you can select each of 3 options:\r\n\r\n    public class UserProfileEntity {\r\n        private String Code;\r\n        private String mobileNumber;\r\n        private LocalDateTime inputDT;\r\n    \t// getters and setters here\r\n    }\r\n    HashMap&lt;String, UserProfileEntity&gt; upMap = new HashMap&lt;&gt;();\r\n\r\n\r\n    // remove by value\r\n    upMap.values().removeIf(value -&gt; !value.getCode().contains(&quot;0005&quot;));\r\n\r\n    // remove by key\r\n    upMap.keySet().removeIf(key -&gt; key.contentEquals(&quot;testUser&quot;));\r\n\r\n    // remove by entry / key + value\r\n    upMap.entrySet().removeIf(entry -&gt; (entry.getKey().endsWith(&quot;admin&quot;) || entry.getValue().getInputDT().isBefore(LocalDateTime.now().minusMinutes(3)));\r\n\r\n\r\n\r\n","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>If using HashMap, in newer versions of Java (8+) you can select each of 3 options:</p>\n<pre><code>public class UserProfileEntity {\n    private String Code;\n    private String mobileNumber;\n    private LocalDateTime inputDT;\n    // getters and setters here\n}\nHashMap&lt;String, UserProfileEntity&gt; upMap = new HashMap&lt;&gt;();\n\n\n// remove by value\nupMap.values().removeIf(value -&gt; !value.getCode().contains(&quot;0005&quot;));\n\n// remove by key\nupMap.keySet().removeIf(key -&gt; key.contentEquals(&quot;testUser&quot;));\n\n// remove by entry / key + value\nupMap.entrySet().removeIf(entry -&gt; (entry.getKey().endsWith(&quot;admin&quot;) || entry.getValue().getInputDT().isBefore(LocalDateTime.now().minusMinutes(3)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1461733,"reputation":2094,"user_id":1375876,"display_name":"Saeed Ir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669186830,"creation_date":1669185976,"answer_id":74542733,"question_id":223918,"body_markdown":"***Iterators*** are not always helpful when another thread also modifies the collection. I had tried many ways but then realized traversing the collection manually is much safer (backward for removal):\r\n\r\n    for (i in myList.size-1 downTo 0) {\r\n        myList.getOrNull(i)?.also {\r\n           if (it == 5)\r\n              myList.remove(it)\r\n        }\r\n    }","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p><em><strong>Iterators</strong></em> are not always helpful when another thread also modifies the collection. I had tried many ways but then realized traversing the collection manually is much safer (backward for removal):</p>\n<pre><code>for (i in myList.size-1 downTo 0) {\n    myList.getOrNull(i)?.also {\n       if (it == 5)\n          myList.remove(it)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8372,"reputation":225282,"user_id":15055,"accept_rate":80,"display_name":"Claudiu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520645,"favorite_count":0,"down_vote_count":0,"up_vote_count":1298,"accepted_answer_id":223929,"answer_count":31,"score":1298,"last_activity_date":1677241343,"creation_date":1224631413,"question_id":223918,"body_markdown":"We all know you can&#39;t do the following because of `ConcurrentModificationException`:\r\n\r\n    for (Object i : l) {\r\n        if (condition(i)) {\r\n            l.remove(i);\r\n        }\r\n    }\r\n\r\nBut this apparently works sometimes, but not always. Here&#39;s some specific code:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static void main(String[] args) {\r\n        Collection&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; 10; ++i) {\r\n            l.add(4);\r\n            l.add(5);\r\n            l.add(6);\r\n        }\r\n\r\n        for (int i : l) {\r\n            if (i == 5) {\r\n                l.remove(i);\r\n            }\r\n        }\r\n\r\n        System.out.println(l);\r\n    }\r\n\r\nThis, of course, results in:\r\n\r\n    Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\r\n\r\nEven though multiple threads aren&#39;t doing it. Anyway.\r\n\r\nWhat&#39;s the best solution to this problem? How can I remove an item from the collection in a loop without throwing this exception?\r\n\r\nI&#39;m also using an arbitrary `Collection` here, not necessarily an `ArrayList`, so you can&#39;t rely on `get`.","title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","body":"<p>We all know you can't do the following because of <code>ConcurrentModificationException</code>:</p>\n\n<pre><code>for (Object i : l) {\n    if (condition(i)) {\n        l.remove(i);\n    }\n}\n</code></pre>\n\n<p>But this apparently works sometimes, but not always. Here's some specific code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Collection&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; 10; ++i) {\n        l.add(4);\n        l.add(5);\n        l.add(6);\n    }\n\n    for (int i : l) {\n        if (i == 5) {\n            l.remove(i);\n        }\n    }\n\n    System.out.println(l);\n}\n</code></pre>\n\n<p>This, of course, results in:</p>\n\n<pre><code>Exception in thread \"main\" java.util.ConcurrentModificationException\n</code></pre>\n\n<p>Even though multiple threads aren't doing it. Anyway.</p>\n\n<p>What's the best solution to this problem? How can I remove an item from the collection in a loop without throwing this exception?</p>\n\n<p>I'm also using an arbitrary <code>Collection</code> here, not necessarily an <code>ArrayList</code>, so you can't rely on <code>get</code>.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":516334,"reputation":4808,"user_id":1680826,"accept_rate":60,"display_name":"botchniaque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677241083,"creation_date":1677232452,"answer_id":75555048,"question_id":75549888,"body_markdown":"How about this:\r\n\r\n    dataset.withColumn(&quot;CountDiff&quot;, dataset.col(&quot;Numfizz&quot;).minus(dataset.col(&quot;Numbuzz&quot;)));\r\n\r\n[The `Column.minus` docs](https://spark.apache.org/docs/3.3.2/api/java/org/apache/spark/sql/Column.html#minus-java.lang.Object-) show examples of both Scala and Java usage, where scala applies it&#39;s magic operator conversion, and Java needs explicit function calls:\r\n\r\n    // Scala: The following selects the difference between people&#39;s height and their weight.\r\n    people.select( people(&quot;height&quot;) - people(&quot;weight&quot;) )\r\n    \r\n    // Java:\r\n    people.select( people.col(&quot;height&quot;).minus(people.col(&quot;weight&quot;)) );\r\n\r\n \r\n## alternatively use SQL \r\n\r\nYou can also use SQL to perform express all the transformations you need:\r\n\r\n    dataset.createOrReplaceTempView(&quot;my_sheet&quot;)\r\n\r\n    session.sql(&quot;\r\n    SELECT\r\n    *, \r\n    Numfizz - Numbuzz as CountDiff,\r\n    ... -- other calculations you may need\r\n    FROM my_sheet \r\n    &quot;).show();\r\n\r\n\r\nWhen working with SQL you will may find the [docs for SQL functions available in spark](https://spark.apache.org/docs/latest/api/sql/index.html) useful.","title":"Java Spark withColumn algebra by example","body":"<p>How about this:</p>\n<pre><code>dataset.withColumn(&quot;CountDiff&quot;, dataset.col(&quot;Numfizz&quot;).minus(dataset.col(&quot;Numbuzz&quot;)));\n</code></pre>\n<p><a href=\"https://spark.apache.org/docs/3.3.2/api/java/org/apache/spark/sql/Column.html#minus-java.lang.Object-\" rel=\"nofollow noreferrer\">The <code>Column.minus</code> docs</a> show examples of both Scala and Java usage, where scala applies it's magic operator conversion, and Java needs explicit function calls:</p>\n<pre><code>// Scala: The following selects the difference between people's height and their weight.\npeople.select( people(&quot;height&quot;) - people(&quot;weight&quot;) )\n\n// Java:\npeople.select( people.col(&quot;height&quot;).minus(people.col(&quot;weight&quot;)) );\n</code></pre>\n<h2>alternatively use SQL</h2>\n<p>You can also use SQL to perform express all the transformations you need:</p>\n<pre><code>dataset.createOrReplaceTempView(&quot;my_sheet&quot;)\n\nsession.sql(&quot;\nSELECT\n*, \nNumfizz - Numbuzz as CountDiff,\n... -- other calculations you may need\nFROM my_sheet \n&quot;).show();\n</code></pre>\n<p>When working with SQL you will may find the <a href=\"https://spark.apache.org/docs/latest/api/sql/index.html\" rel=\"nofollow noreferrer\">docs for SQL functions available in spark</a> useful.</p>\n"}],"owner":{"account_id":21044045,"reputation":39,"user_id":16234460,"display_name":"IamYourFaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75555048,"answer_count":1,"score":0,"last_activity_date":1677241083,"creation_date":1677183334,"question_id":75549888,"body_markdown":"Spark (`spark-core_2.13:3.3.2`) and **Java 11** here (very important, I need Java solutions please, _not_ Scala!).\r\n\r\nI am reading an Excel spreadsheet into a `Dataset` like so:\r\n```\r\npublic void runSpark(MyDataJob dataJob, JavaSparkContext sparkContext) {\r\n\r\n    SparkSession session = SparkSession.builder().sparkContext(sparkContext.sc()).getOrCreate();\r\n\r\n    Dataset&lt;Row&gt; dataset = session.read()\r\n        .format(&quot;com.crealytics.spark.excel&quot;)\r\n        .option(&quot;dataAddress&quot;, &quot;&#39;My Sheet&#39;!B3:C35&quot;)\r\n        .option(&quot;header&quot;, &quot;true&quot;)\r\n        .option(&quot;treatEmptyValuesAsNulls&quot;, &quot;true&quot;)\r\n        .option(&quot;setErrorCellsToFallbackValues&quot;, &quot;true&quot;)\r\n        .option(&quot;usePlainNumberFormat&quot;, &quot;false&quot;)\r\n        .option(&quot;inferSchema&quot;, &quot;true&quot;)\r\n        .option(&quot;addColorColumns&quot;, &quot;true&quot;)\r\n        .option(&quot;timestampFormat&quot;, &quot;MM-dd-yyyy HH:mm:ss&quot;)\r\n        .option(&quot;maxRowsInMemory&quot;, 100)\r\n        .option(&quot;maxByteArraySize&quot;, 2147483647)\r\n        .option(&quot;tempFileThreshold&quot;, 10000000)\r\n        .option(&quot;excerptSize&quot;, 10)\r\n        .load(dataJob.getFileName());\r\n\r\n    dataset.withColumn(&quot;CountDiff&quot;, ???);\r\n\r\n}\r\n```\r\n\r\nThe spreadsheet has 2 columns in it, `NumFizz` and `NumBuzz`, and hence, I&#39;m guessing the `Dataset` has these columns as well. I need to add a new column that is the difference of these values in each row, meaning if a row&#39;s `NumFizz` value is 17, and its `NumBuzz` is 10, then its value in the new column should be 7. Unfortunately, since literally **all** the `withColumn` examples appear to be in Scala, I can&#39;t figure out how to do this in Java. I am also open to using Spark SQL if there&#39;s a simple solution using that as well. I just need a new `CountDiff` column added to my Dataset that has the difference of these two columns.\r\n\r\n**Can anyone nudge me in the right direction?**\r\n\r\nI tried to import the `col` functions and pass them in as args but the lack of viable Java examples is blocking me from making headway.","title":"Java Spark withColumn algebra by example","body":"<p>Spark (<code>spark-core_2.13:3.3.2</code>) and <strong>Java 11</strong> here (very important, I need Java solutions please, <em>not</em> Scala!).</p>\n<p>I am reading an Excel spreadsheet into a <code>Dataset</code> like so:</p>\n<pre><code>public void runSpark(MyDataJob dataJob, JavaSparkContext sparkContext) {\n\n    SparkSession session = SparkSession.builder().sparkContext(sparkContext.sc()).getOrCreate();\n\n    Dataset&lt;Row&gt; dataset = session.read()\n        .format(&quot;com.crealytics.spark.excel&quot;)\n        .option(&quot;dataAddress&quot;, &quot;'My Sheet'!B3:C35&quot;)\n        .option(&quot;header&quot;, &quot;true&quot;)\n        .option(&quot;treatEmptyValuesAsNulls&quot;, &quot;true&quot;)\n        .option(&quot;setErrorCellsToFallbackValues&quot;, &quot;true&quot;)\n        .option(&quot;usePlainNumberFormat&quot;, &quot;false&quot;)\n        .option(&quot;inferSchema&quot;, &quot;true&quot;)\n        .option(&quot;addColorColumns&quot;, &quot;true&quot;)\n        .option(&quot;timestampFormat&quot;, &quot;MM-dd-yyyy HH:mm:ss&quot;)\n        .option(&quot;maxRowsInMemory&quot;, 100)\n        .option(&quot;maxByteArraySize&quot;, 2147483647)\n        .option(&quot;tempFileThreshold&quot;, 10000000)\n        .option(&quot;excerptSize&quot;, 10)\n        .load(dataJob.getFileName());\n\n    dataset.withColumn(&quot;CountDiff&quot;, ???);\n\n}\n</code></pre>\n<p>The spreadsheet has 2 columns in it, <code>NumFizz</code> and <code>NumBuzz</code>, and hence, I'm guessing the <code>Dataset</code> has these columns as well. I need to add a new column that is the difference of these values in each row, meaning if a row's <code>NumFizz</code> value is 17, and its <code>NumBuzz</code> is 10, then its value in the new column should be 7. Unfortunately, since literally <strong>all</strong> the <code>withColumn</code> examples appear to be in Scala, I can't figure out how to do this in Java. I am also open to using Spark SQL if there's a simple solution using that as well. I just need a new <code>CountDiff</code> column added to my Dataset that has the difference of these two columns.</p>\n<p><strong>Can anyone nudge me in the right direction?</strong></p>\n<p>I tried to import the <code>col</code> functions and pass them in as args but the lack of viable Java examples is blocking me from making headway.</p>\n"},{"tags":["java","microsoft-graph-api","microsoft-graph-sdks","microsoft-graph-mail"],"answers":[{"tags":[],"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671711444,"creation_date":1671711444,"answer_id":74888424,"question_id":74887894,"body_markdown":"You need to use [FileAttachment][1] which extends `Attachment` and has property `contentBytes`.\r\n\r\n\r\n  [1]: https://github.com/microsoftgraph/msgraph-sdk-java/blob/4139f70beba18877fbb2dc307700df006d303edb/src/main/java/com/microsoft/graph/models/FileAttachment.java","title":"How to create com.microsoft.graph.models.Message with attachment?","body":"<p>You need to use <a href=\"https://github.com/microsoftgraph/msgraph-sdk-java/blob/4139f70beba18877fbb2dc307700df006d303edb/src/main/java/com/microsoft/graph/models/FileAttachment.java\" rel=\"nofollow noreferrer\">FileAttachment</a> which extends <code>Attachment</code> and has property <code>contentBytes</code>.</p>\n"},{"tags":[],"owner":{"account_id":24134719,"reputation":694,"user_id":18101820,"display_name":"Ivan Gechev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677241016,"creation_date":1677241016,"answer_id":75556474,"question_id":74887894,"body_markdown":"You can do the below in C# to add an inline attachment/s (I know it&#39;s not Java but you should be able to reproduce the same result):\r\n```CSharp\r\nvar message = new Message\r\n{\r\n    Subject = seq.Subject,\r\n    Body = new ItemBody\r\n    {\r\n        ContentType = BodyType.Html,\r\n        Content = &quot;your email body&quot;\r\n    },\r\n    ToRecipients = new List&lt;Recipient&gt;()\r\n    {\r\n        new Recipient\r\n        {\r\n            EmailAddress = new EmailAddress\r\n            {\r\n                Address = &quot;email@address.com&quot;\r\n            }\r\n        }\r\n    },\r\n\tHasAttachments = true,\r\n\tAttachments = new MessageAttachmentsCollectionPage()\r\n\t{\r\n\t\tnew FileAttachment\r\n\t\t{\r\n\t\t\tName = &quot;someImage.png&quot;,\r\n\t\t\tContentId = &quot;someImage.png&quot;,\r\n\t\t\tContentBytes = System.IO.File.ReadAllBytes(&quot;path to someImage.png&quot;),\r\n\t\t\tIsInline = true,\r\n\t\t\tContentType = &quot;image&quot;,\r\n\t\t},\r\n\t\tnew FileAttachment\r\n\t\t{\r\n\t\t\tName = &quot;anotherImage.jpg&quot;,\r\n\t\t\tContentId = &quot;anotherImage.jpg&quot;,\r\n\t\t\tContentBytes = System.IO.File.ReadAllBytes(&quot;path to anotherImage.jpg&quot;),\r\n\t\t\tContentType = &quot;image&quot;,\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to create com.microsoft.graph.models.Message with attachment?","body":"<p>You can do the below in C# to add an inline attachment/s (I know it's not Java but you should be able to reproduce the same result):</p>\n<pre><code>var message = new Message\n{\n    Subject = seq.Subject,\n    Body = new ItemBody\n    {\n        ContentType = BodyType.Html,\n        Content = &quot;your email body&quot;\n    },\n    ToRecipients = new List&lt;Recipient&gt;()\n    {\n        new Recipient\n        {\n            EmailAddress = new EmailAddress\n            {\n                Address = &quot;email@address.com&quot;\n            }\n        }\n    },\n    HasAttachments = true,\n    Attachments = new MessageAttachmentsCollectionPage()\n    {\n        new FileAttachment\n        {\n            Name = &quot;someImage.png&quot;,\n            ContentId = &quot;someImage.png&quot;,\n            ContentBytes = System.IO.File.ReadAllBytes(&quot;path to someImage.png&quot;),\n            IsInline = true,\n            ContentType = &quot;image&quot;,\n        },\n        new FileAttachment\n        {\n            Name = &quot;anotherImage.jpg&quot;,\n            ContentId = &quot;anotherImage.jpg&quot;,\n            ContentBytes = System.IO.File.ReadAllBytes(&quot;path to anotherImage.jpg&quot;),\n            ContentType = &quot;image&quot;,\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12876524,"reputation":13,"user_id":9313046,"display_name":"gregof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":680,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677241016,"creation_date":1671708554,"question_id":74887894,"body_markdown":"I&#39;m trying to send email with inline attachment using MS Graph. I know how to send email without attachment but when I&#39;m trying to send message with attachment I don&#39;t know how can I add this attachment to the message.\r\nHere is my code:\r\n\r\n```\r\n// recipients\r\nRecipient recipient = new Recipient();\r\nEmailAddress emailAddress = new EmailAddress();\r\nemailAddress.address = &quot;tom@mail.com&quot;;\r\nrecipient.emailAddress = emailAddress;\r\nList&lt;Recipient&gt; recipients = List.of(recipient);\r\n\r\n// body\r\nItemBody body = new ItemBody();\r\nbody.contentType = BodyType.HTML;\r\nbody.content = &quot;&lt;html&gt;&lt;body&gt;my image:&lt;br&gt;&lt;img src=&#39;cid:my_image_CID&#39;&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\r\n// inline image\r\nAttachment attachment = new Attachment();\r\nattachment.isInline = true;\r\nattachment.contentType = &quot;.png&quot;;\r\nattachment.id = &quot;my_image_CID&quot;;\r\n//attachment.contentBytes                  - I DON&#39;T SEE THIS FIELD...\r\n\r\n// message\r\nMessage message = new Message();\r\nmessage.subject = &quot;my subject&quot;;\r\nmessage.body = body;\r\nmessage.toRecipients = recipients;\r\n//message.attachments =                    ??? - how to create this object?\r\n```\r\nthere are examples in the internet that I can set attachment.contentBytes but I don&#39;t see this attribute.\r\nFor the message I can set attachments object which is of type \r\n```\r\nAttachmentCollectionPage\r\n```\r\nbut I don&#39;t know how can I create this object.\r\n\r\nI&#39;m using the following versions:\r\n```\r\nMicrosoft Graph Java SDK &#187; 5.42.0\r\nMicrosoft Graph Java Core SDK &#187; 2.0.14\r\n```","title":"How to create com.microsoft.graph.models.Message with attachment?","body":"<p>I'm trying to send email with inline attachment using MS Graph. I know how to send email without attachment but when I'm trying to send message with attachment I don't know how can I add this attachment to the message.\nHere is my code:</p>\n<pre><code>// recipients\nRecipient recipient = new Recipient();\nEmailAddress emailAddress = new EmailAddress();\nemailAddress.address = &quot;tom@mail.com&quot;;\nrecipient.emailAddress = emailAddress;\nList&lt;Recipient&gt; recipients = List.of(recipient);\n\n// body\nItemBody body = new ItemBody();\nbody.contentType = BodyType.HTML;\nbody.content = &quot;&lt;html&gt;&lt;body&gt;my image:&lt;br&gt;&lt;img src='cid:my_image_CID'&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n\n// inline image\nAttachment attachment = new Attachment();\nattachment.isInline = true;\nattachment.contentType = &quot;.png&quot;;\nattachment.id = &quot;my_image_CID&quot;;\n//attachment.contentBytes                  - I DON'T SEE THIS FIELD...\n\n// message\nMessage message = new Message();\nmessage.subject = &quot;my subject&quot;;\nmessage.body = body;\nmessage.toRecipients = recipients;\n//message.attachments =                    ??? - how to create this object?\n</code></pre>\n<p>there are examples in the internet that I can set attachment.contentBytes but I don't see this attribute.\nFor the message I can set attachments object which is of type</p>\n<pre><code>AttachmentCollectionPage\n</code></pre>\n<p>but I don't know how can I create this object.</p>\n<p>I'm using the following versions:</p>\n<pre><code>Microsoft Graph Java SDK » 5.42.0\nMicrosoft Graph Java Core SDK » 2.0.14\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","keycloak"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":4,"creation_date":1677245693,"post_id":75554353,"comment_id":133304908,"body_markdown":"Keycloak adapters for spring where deprecated in early 2022 and are not compatible with Spring Boot 3. Refer to this other answer for solution (it works with boot 2.6 too with almost no change) : https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732","body":"Keycloak adapters for spring where deprecated in early 2022 and are not compatible with Spring Boot 3. Refer to this other answer for solution (it works with boot 2.6 too with almost no change) : <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732\" title=\"use keycloak spring adapter with spring boot 3\">stackoverflow.com/questions/74571191/&hellip;</a>"}],"owner":{"account_id":12519280,"reputation":29,"user_id":9111244,"display_name":"Philipp2706"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677240996,"creation_date":1677228275,"question_id":75554353,"body_markdown":"I have a Spring Boot service that is secured via a Keycloak server. I get the status code &quot;404 Not Found&quot; for every request with no log entries in the Spring Boot Server. So my guess was that the controller classes are not found. I added @ComponentScan annotation and since then I get the error message *&quot;Caused by: java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json&quot;*. No matter if the file exists or not.\r\nI want to read all properties from the application.properties file and I don&#39;t need the keycloack.json file.\r\n\r\n\r\nI am grateful for any tip.\r\n\r\n**main:**\r\n\r\n    @Import({ WebSecurityConfiguration.class})\r\n    @SpringBootApplication\r\n    @ComponentScan({&quot;com.company.xy.controller&quot;,&quot;com.company.xy.client&quot;})\r\n    public class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n**application.properties**\r\n\r\n    spring.datasource.url=jdbc:postgresql://database:5432/db\r\n    spring.datasource.username=db\r\n    spring.datasource.password=db\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.show-sql=false\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL81Dialect\r\n    \r\n    \r\n    server.port=8585\r\n    \r\n    keycloak.realm=realm\r\n    keycloak.auth-server-url=http://localhost:8180\r\n    keycloak.resource=resource\r\n    keycloak.credentials.secret=abc\r\n    keycloak.credentials.username=adm\r\n    keycloak.credentials.password=password\r\n    keycloak.credentials.provider=secret\r\n\r\n    keycloak.public-client=true\r\n    keycloak.bearer-only=true\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n       &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n       &lt;parent&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n          &lt;version&gt;2.6.1&lt;/version&gt;\r\n          &lt;relativePath /&gt;\r\n          &lt;!-- lookup parent from repository --&gt;\r\n       &lt;/parent&gt;\r\n       &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-keycloak&lt;/artifactId&gt;\r\n       &lt;version&gt;1.0.0&lt;/version&gt;\r\n       &lt;name&gt;spring-boot-keycloak&lt;/name&gt;\r\n       &lt;description&gt;Demo project for Spring Boot with Keycloak&lt;/description&gt;\r\n       &lt;properties&gt;\r\n          &lt;java.version&gt;11&lt;/java.version&gt;\r\n          &lt;keycloak.version&gt;17.0.0&lt;/keycloak.version&gt;\r\n       &lt;/properties&gt;\r\n       &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n             &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n             &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n             &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n             &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n             &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n             &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n             &lt;version&gt;19.0.3&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n       &lt;/dependencies&gt;\r\n       &lt;build&gt;\r\n          &lt;plugins&gt;\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n             &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n       &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n**error message**\r\n\r\n    2023-02-24 09:31:56.249 ERROR 8052 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.13.jar:5.3.13]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at com.company.xy.Application.Application.main(Application.java:16) ~[classes/:na]\r\n    Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n            at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:473) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:206) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            ... 8 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;keycloakAuthenticationProcessingFilter&#39; defined in com.company.xy.security.WebSecurityConfiguration: Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;adapterDeploymentContext&#39; defined in com.company.xy.security.WebSecurityConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.keycloak.adapters.AdapterDeploymentContext]: Factory method &#39;adapterDeploymentContext&#39; threw exception; nested exception is java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:212) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:175) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:170) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:155) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:87) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:260) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5219) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\r\n            at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n            at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\r\n            at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n            at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n            at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.1.jar:2.6.1]\r\n            ... 13 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;adapterDeploymentContext&#39; defined in com.company.xy.security.WebSecurityConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.keycloak.adapters.AdapterDeploymentContext]: Factory method &#39;adapterDeploymentContext&#39; threw exception; nested exception is java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:233) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1273) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1234) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:494) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:349) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1172) ~[spring-context-5.3.13.jar:5.3.13]\r\n            at org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter.afterPropertiesSet(KeycloakAuthenticationProcessingFilter.java:134) ~[keycloak-spring-security-adapter-17.0.0.jar:17.0.0]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            ... 51 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.keycloak.adapters.AdapterDeploymentContext]: Factory method &#39;adapterDeploymentContext&#39; threw exception; nested exception is java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            ... 69 common frames omitted\r\n    Caused by: java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json\r\n            at org.keycloak.adapters.springsecurity.AdapterDeploymentContextFactoryBean.loadKeycloakDeployment(AdapterDeploymentContextFactoryBean.java:83) ~[keycloak-spring-security-adapter-17.0.0.jar:17.0.0]\r\n            at org.keycloak.adapters.springsecurity.AdapterDeploymentContextFactoryBean.afterPropertiesSet(AdapterDeploymentContextFactoryBean.java:76) ~[keycloak-spring-security-adapter-17.0.0.jar:17.0.0]\r\n            at org.keycloak.adapters.springsecurity.config.KeycloakWebSecurityConfigurerAdapter.adapterDeploymentContext(KeycloakWebSecurityConfigurerAdapter.java:72) ~[keycloak-spring-security-adapter-17.0.0.jar:17.0.0]\r\n            at com.company.xy.security.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$c632c0df.CGLIB$adapterDeploymentContext$10(&lt;generated&gt;) ~[classes/:na]\r\n            at com.company.xy.security.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$c632c0df$$FastClassBySpringCGLIB$$45b88d07.invoke(&lt;generated&gt;) ~[classes/:na]\r\n            at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.13.jar:5.3.13]\r\n            at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.13.jar:5.3.13]\r\n            at com.company.xy.security.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$c632c0df.adapterDeploymentContext(&lt;generated&gt;) ~[classes/:na]\r\n            at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.13.jar:5.3.13]\r\n            ... 70 common frames omitted\r\n\r\n**I have already implemented the following class so that only the Spring Boot application.properties are used.:**\r\n\r\n    @Configuration\r\n    public class KeycloakConfig {\r\n    \r\n        @Bean\r\n        public KeycloakSpringBootConfigResolver keycloakConfigResolver() {\r\n            return new KeycloakSpringBootConfigResolver();\r\n        }\r\n    }","title":"Unable to locate Keycloak configuration file: keycloak.json","body":"<p>I have a Spring Boot service that is secured via a Keycloak server. I get the status code &quot;404 Not Found&quot; for every request with no log entries in the Spring Boot Server. So my guess was that the controller classes are not found. I added @ComponentScan annotation and since then I get the error message <em>&quot;Caused by: java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json&quot;</em>. No matter if the file exists or not.\nI want to read all properties from the application.properties file and I don't need the keycloack.json file.</p>\n<p>I am grateful for any tip.</p>\n<p><strong>main:</strong></p>\n<pre><code>@Import({ WebSecurityConfiguration.class})\n@SpringBootApplication\n@ComponentScan({&quot;com.company.xy.controller&quot;,&quot;com.company.xy.client&quot;})\npublic class Application {\n\npublic static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:postgresql://database:5432/db\nspring.datasource.username=db\nspring.datasource.password=db\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=false\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL81Dialect\n\n\nserver.port=8585\n\nkeycloak.realm=realm\nkeycloak.auth-server-url=http://localhost:8180\nkeycloak.resource=resource\nkeycloak.credentials.secret=abc\nkeycloak.credentials.username=adm\nkeycloak.credentials.password=password\nkeycloak.credentials.provider=secret\n\nkeycloak.public-client=true\nkeycloak.bearer-only=true\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n      &lt;version&gt;2.6.1&lt;/version&gt;\n      &lt;relativePath /&gt;\n      &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-keycloak&lt;/artifactId&gt;\n   &lt;version&gt;1.0.0&lt;/version&gt;\n   &lt;name&gt;spring-boot-keycloak&lt;/name&gt;\n   &lt;description&gt;Demo project for Spring Boot with Keycloak&lt;/description&gt;\n   &lt;properties&gt;\n      &lt;java.version&gt;11&lt;/java.version&gt;\n      &lt;keycloak.version&gt;17.0.0&lt;/keycloak.version&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n         &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n         &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n         &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n         &lt;version&gt;${keycloak.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n         &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n         &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n         &lt;version&gt;19.0.3&lt;/version&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n   &lt;build&gt;\n      &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n         &lt;/plugin&gt;\n      &lt;/plugins&gt;\n   &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>error message</strong></p>\n<pre><code>2023-02-24 09:31:56.249 ERROR 8052 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.13.jar:5.3.13]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.1.jar:2.6.1]\n        at com.company.xy.Application.Application.main(Application.java:16) ~[classes/:na]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:473) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:206) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.1.jar:2.6.1]\n        ... 8 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'keycloakAuthenticationProcessingFilter' defined in com.company.xy.security.WebSecurityConfiguration: Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'adapterDeploymentContext' defined in com.company.xy.security.WebSecurityConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.keycloak.adapters.AdapterDeploymentContext]: Factory method 'adapterDeploymentContext' threw exception; nested exception is java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:212) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:175) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:170) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:155) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:87) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:260) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:234) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.6.1.jar:2.6.1]\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5219) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\n        at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n        at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n        at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.1.jar:2.6.1]\n        ... 13 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'adapterDeploymentContext' defined in com.company.xy.security.WebSecurityConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.keycloak.adapters.AdapterDeploymentContext]: Factory method 'adapterDeploymentContext' threw exception; nested exception is java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:233) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1273) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1234) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:494) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:349) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1172) ~[spring-context-5.3.13.jar:5.3.13]\n        at org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter.afterPropertiesSet(KeycloakAuthenticationProcessingFilter.java:134) ~[keycloak-spring-security-adapter-17.0.0.jar:17.0.0]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.13.jar:5.3.13]\n        ... 51 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.keycloak.adapters.AdapterDeploymentContext]: Factory method 'adapterDeploymentContext' threw exception; nested exception is java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.13.jar:5.3.13]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.13.jar:5.3.13]\n        ... 69 common frames omitted\nCaused by: java.io.FileNotFoundException: Unable to locate Keycloak configuration file: keycloak.json\n        at org.keycloak.adapters.springsecurity.AdapterDeploymentContextFactoryBean.loadKeycloakDeployment(AdapterDeploymentContextFactoryBean.java:83) ~[keycloak-spring-security-adapter-17.0.0.jar:17.0.0]\n        at org.keycloak.adapters.springsecurity.AdapterDeploymentContextFactoryBean.afterPropertiesSet(AdapterDeploymentContextFactoryBean.java:76) ~[keycloak-spring-security-adapter-17.0.0.jar:17.0.0]\n        at org.keycloak.adapters.springsecurity.config.KeycloakWebSecurityConfigurerAdapter.adapterDeploymentContext(KeycloakWebSecurityConfigurerAdapter.java:72) ~[keycloak-spring-security-adapter-17.0.0.jar:17.0.0]\n        at com.company.xy.security.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$c632c0df.CGLIB$adapterDeploymentContext$10(&lt;generated&gt;) ~[classes/:na]\n        at com.company.xy.security.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$c632c0df$$FastClassBySpringCGLIB$$45b88d07.invoke(&lt;generated&gt;) ~[classes/:na]\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.13.jar:5.3.13]\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.13.jar:5.3.13]\n        at com.company.xy.security.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$c632c0df.adapterDeploymentContext(&lt;generated&gt;) ~[classes/:na]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.13.jar:5.3.13]\n        ... 70 common frames omitted\n</code></pre>\n<p><strong>I have already implemented the following class so that only the Spring Boot application.properties are used.:</strong></p>\n<pre><code>@Configuration\npublic class KeycloakConfig {\n\n    @Bean\n    public KeycloakSpringBootConfigResolver keycloakConfigResolver() {\n        return new KeycloakSpringBootConfigResolver();\n    }\n}\n</code></pre>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":1583005,"reputation":5739,"user_id":1467926,"accept_rate":76,"display_name":"Fermat&#39;s Little Student"},"score":12,"creation_date":1381972774,"post_id":19416644,"comment_id":28783701,"body_markdown":"I believe there should be more restriction, otherwise it is too open.","body":"I believe there should be more restriction, otherwise it is too open."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1382036144,"post_id":19416644,"comment_id":28814293,"body_markdown":"Which parts of the code may you change, if any?","body":"Which parts of the code may you change, if any?"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1382516509,"post_id":19416644,"comment_id":28985197,"body_markdown":"possible duplicate of [How can &quot;while (i == i) ;&quot; be a non-infinite loop in a single threaded application?](http://stackoverflow.com/questions/471296/how-can-while-i-i-be-a-non-infinite-loop-in-a-single-threaded-applicati)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/471296/how-can-while-i-i-be-a-non-infinite-loop-in-a-single-threaded-applicati\">How can &quot;while (i == i) ;&quot; be a non-infinite loop in a single threaded application?</a>"},{"owner":{"account_id":1542737,"reputation":4319,"user_id":1436981,"accept_rate":45,"display_name":"stuXnet"},"score":52,"creation_date":1386158748,"post_id":19416644,"comment_id":30419260,"body_markdown":"Is it as simple as `System.out.println(&quot;Gotcha!&quot;);` instead of the comment? :)","body":"Is it as simple as <code>System.out.println(&quot;Gotcha!&quot;);</code> instead of the comment? :)"},{"owner":{"account_id":83369,"reputation":15890,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"score":2,"creation_date":1386158892,"post_id":19416644,"comment_id":30419344,"body_markdown":"What type is a? String Object double?","body":"What type is a? String Object double?"},{"owner":{"account_id":99481,"reputation":5660,"user_id":268673,"accept_rate":52,"display_name":"AndreDurao"},"score":0,"creation_date":1386159358,"post_id":19416644,"comment_id":30419621,"body_markdown":"Whatever type you want;","body":"Whatever type you want;"},{"owner":{"account_id":83369,"reputation":15890,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"score":7,"creation_date":1386159462,"post_id":19416644,"comment_id":30419687,"body_markdown":"Good, then is double a= Double.NaN the shortest answer and my &quot;hack is just a cheat ;)","body":"Good, then is double a= Double.NaN the shortest answer and my &quot;hack is just a cheat ;)"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":50,"creation_date":1386159561,"post_id":19416644,"comment_id":30419753,"body_markdown":"This is cute Java trivia, but I hope no one will consider making it an interview question.  People considering candidates for employment should be doing the best they can to figure out if the candidate understands programming, not how much trivia he&#39;s accumulated.  I&#39;ve barely used floating point numbers in 17 years of programming in Java, much less the NaN construct, MUCH less knowing how it behaves with the == operator...","body":"This is cute Java trivia, but I hope no one will consider making it an interview question.  People considering candidates for employment should be doing the best they can to figure out if the candidate understands programming, not how much trivia he&#39;s accumulated.  I&#39;ve barely used floating point numbers in 17 years of programming in Java, much less the NaN construct, MUCH less knowing how it behaves with the == operator..."},{"owner":{"account_id":924076,"reputation":12260,"user_id":1386111,"accept_rate":88,"display_name":"Alvin Wong"},"score":1,"creation_date":1386161210,"post_id":19416644,"comment_id":30420791,"body_markdown":"http://stackoverflow.com/questions/471296/how-can-while-i-i-be-a-non-infinite-loop-in-a-single-threaded-applicati and http://stackoverflow.com/questions/18460416/in-which-case-could-a-a-return-true","body":"<a href=\"http://stackoverflow.com/questions/471296/how-can-while-i-i-be-a-non-infinite-loop-in-a-single-threaded-applicati\" title=\"how can while i i be a non infinite loop in a single threaded applicati\">stackoverflow.com/questions/471296/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/18460416/in-which-case-could-a-a-return-true\" title=\"in which case could a a return true\">stackoverflow.com/questions/18460416/&hellip;</a>"},{"owner":{"account_id":1184416,"reputation":1778,"user_id":1158692,"display_name":"Grimm The Opiner"},"score":0,"creation_date":1386168233,"post_id":19416644,"comment_id":30425100,"body_markdown":"A bit over the top would be to define a class that overrides the `==` operator and always returns false, then instaniate that class as `a`","body":"A bit over the top would be to define a class that overrides the <code>==</code> operator and always returns false, then instaniate that class as <code>a</code>"},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":3,"creation_date":1386168508,"post_id":19416644,"comment_id":30425309,"body_markdown":"@user1158692 Within java you can&#39;t override basic operators like `==`","body":"@user1158692 Within java you can&#39;t override basic operators like <code>==</code>"},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":2,"creation_date":1386169827,"post_id":19416644,"comment_id":30426225,"body_markdown":"@user1158692 Take it to slashdot.","body":"@user1158692 Take it to slashdot."},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":8,"creation_date":1386169829,"post_id":19416644,"comment_id":30426230,"body_markdown":"@user1158692 Matter of opinion, I personally hate any programs where the basic operators have been overridden and am glad that any code I recieve in java hasn&#39;t been messed with (I have seen * overridden as the [vector cross product](http://en.wikipedia.org/wiki/Cross_product) and the [dot product](http://en.wikipedia.org/wiki/Dot_product) because both are kinds of vector multiplication; infuriating! Whereas in java one is called `.cross()` and the other is `.dot()` and there is no confusion. Also the fact that &quot;override the == operator and always return false&quot; can&#39;t happen seems pro java","body":"@user1158692 Matter of opinion, I personally hate any programs where the basic operators have been overridden and am glad that any code I recieve in java hasn&#39;t been messed with (I have seen * overridden as the <a href=\"http://en.wikipedia.org/wiki/Cross_product\" rel=\"nofollow noreferrer\">vector cross product</a> and the <a href=\"http://en.wikipedia.org/wiki/Dot_product\" rel=\"nofollow noreferrer\">dot product</a> because both are kinds of vector multiplication; infuriating! Whereas in java one is called <code>.cross()</code> and the other is <code>.dot()</code> and there is no confusion. Also the fact that &quot;override the == operator and always return false&quot; can&#39;t happen seems pro java"},{"owner":{"account_id":99481,"reputation":5660,"user_id":268673,"accept_rate":52,"display_name":"AndreDurao"},"score":0,"creation_date":1386175114,"post_id":19416644,"comment_id":30429787,"body_markdown":"it may be confusing sometimes, but reading myObj == yourObj it&#39;s a bit more clear than myObj.equals(yourObj).","body":"it may be confusing sometimes, but reading myObj == yourObj it&#39;s a bit more clear than myObj.equals(yourObj)."},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":1,"creation_date":1386175306,"post_id":19416644,"comment_id":30429912,"body_markdown":"@AndreDurao Ah but in java `myObj == yourObj`  means **truly and faithfully the same object** whereas `.equals()` means &quot;looks the same&quot;, they are seperate concepts and we need both of them","body":"@AndreDurao Ah but in java <code>myObj == yourObj</code>  means <b>truly and faithfully the same object</b> whereas <code>.equals()</code> means &quot;looks the same&quot;, they are seperate concepts and we need both of them"},{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":3,"creation_date":1386179499,"post_id":19416644,"comment_id":30432458,"body_markdown":"@rcook knowing about NaN, where it comes from, and how it behaves is pretty important. Almost every major language has it (and it behaves in the same way in all) and doing it wrong is liable to add very tricky bugs to any code that does non-integer maths.","body":"@rcook knowing about NaN, where it comes from, and how it behaves is pretty important. Almost every major language has it (and it behaves in the same way in all) and doing it wrong is liable to add very tricky bugs to any code that does non-integer maths."},{"owner":{"account_id":3225384,"reputation":9550,"user_id":2721883,"display_name":"clcto"},"score":0,"creation_date":1386179635,"post_id":19416644,"comment_id":30432534,"body_markdown":"@RichardTingle you can just as easily override the `.equals()` method to always `return false;`","body":"@RichardTingle you can just as easily override the <code>.equals()</code> method to always <code>return false;</code>"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1386179696,"post_id":19416644,"comment_id":30432567,"body_markdown":"in addition to answers given, there&#39;s [this](http://stackoverflow.com/a/19434552/365237)","body":"in addition to answers given, there&#39;s <a href=\"http://stackoverflow.com/a/19434552/365237\">this</a>"},{"owner":{"account_id":405638,"reputation":12454,"user_id":774651,"accept_rate":100,"display_name":"Lol4t0"},"score":0,"creation_date":1386709120,"post_id":19416644,"comment_id":30651752,"body_markdown":"And after questions merged nobody can understand what gotcha everybody is talking about in this post.","body":"And after questions merged nobody can understand what gotcha everybody is talking about in this post."},{"owner":{"account_id":2243577,"reputation":980,"user_id":1977509,"display_name":"Magnus"},"score":0,"creation_date":1386743009,"post_id":19416644,"comment_id":30664317,"body_markdown":"@RichardTingle there&#39;s absolutely no confusion when it comes to overloaded vector cross and dot multiplication, even if you were to throw in matrix multiplication into the mix: the signatures are quite different enough so it&#39;s always obvious which form of multiplication is being applied. That said, what kind of language allows that sort of overloading, anyway? It kinda sounded like a stab at C++, but in C++ you can&#39;t have two overloads with the same argument and different result types...","body":"@RichardTingle there&#39;s absolutely no confusion when it comes to overloaded vector cross and dot multiplication, even if you were to throw in matrix multiplication into the mix: the signatures are quite different enough so it&#39;s always obvious which form of multiplication is being applied. That said, what kind of language allows that sort of overloading, anyway? It kinda sounded like a stab at C++, but in C++ you can&#39;t have two overloads with the same argument and different result types..."},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":0,"creation_date":1386747549,"post_id":19416644,"comment_id":30666194,"body_markdown":"@Magnus I mean one library overloading one way and a **different** library overloading the other way, and I am talking about C++. And it&#39;s just an example;  the point is I like to know what my functions do just from the name; the docs should support that, not be essential","body":"@Magnus I mean one library overloading one way and a <b>different</b> library overloading the other way, and I am talking about C++. And it&#39;s just an example;  the point is I like to know what my functions do just from the name; the docs should support that, not be essential"},{"owner":{"account_id":2243577,"reputation":980,"user_id":1977509,"display_name":"Magnus"},"score":0,"creation_date":1386751143,"post_id":19416644,"comment_id":30667803,"body_markdown":"@RichardTingle I see... well, mathematically speaking it&#39;s perfectly sensible to use the * operator for a dot product because that&#39;s how vector spaces are defined in pretty much any linear algebra textbook, and I was arguing that the types involved tend to make it very clear what an operation does. I know it&#39;s just an example, but I honestly can&#39;t see the confusion because I really do think it&#39;s very clear in that context and it makes the code a lot easier to read. Can&#39;t even think of a really atrocious example either.","body":"@RichardTingle I see... well, mathematically speaking it&#39;s perfectly sensible to use the * operator for a dot product because that&#39;s how vector spaces are defined in pretty much any linear algebra textbook, and I was arguing that the types involved tend to make it very clear what an operation does. I know it&#39;s just an example, but I honestly can&#39;t see the confusion because I really do think it&#39;s very clear in that context and it makes the code a lot easier to read. Can&#39;t even think of a really atrocious example either."},{"owner":{"account_id":906214,"reputation":3979,"user_id":941058,"accept_rate":81,"display_name":"kingdango"},"score":0,"creation_date":1386798869,"post_id":19416644,"comment_id":30697819,"body_markdown":"I&#39;m glad I came across this so I can know how not to ask an absurd &quot;look how smRT&quot; I am question as an instructor. I would strongly question the productivity of the person who designed this question -- oh wait, its a teacher...","body":"I&#39;m glad I came across this so I can know how not to ask an absurd &quot;look how smRT&quot; I am question as an instructor. I would strongly question the productivity of the person who designed this question -- oh wait, its a teacher..."}],"answers":[{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":0,"up_vote_count":177,"is_accepted":true,"score":177,"last_activity_date":1386865158,"creation_date":1381972642,"answer_id":19416665,"question_id":19416644,"body_markdown":"One simple way is to use [`Float.NaN`][1]:\n\n    float x = Float.NaN;  // &lt;--\n\n    if (x == x) {\n        System.out.println(&quot;Ok&quot;);\n    } else {\n        System.out.println(&quot;Not ok&quot;);\n    }\n\n&lt;pre&gt;\nNot ok\n&lt;/pre&gt;\n\nYou can do the same with [`Double.NaN`][2].\n\n---\n\nFrom [**JLS &#167;15.21.1.** Numerical Equality Operators `==` and `!=`][3]:\n\n&gt;Floating-point equality testing is performed in accordance with the rules of the IEEE 754 standard:\n&gt;\n&gt;- If either operand is NaN, then the result of `==` is `false` but the result of `!=` is `true`.  \n&gt;\n&gt;   Indeed, the test `x!=x` is `true` if and only if the value of `x` is NaN.\n&gt;\n&gt;...\n\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#NaN\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#NaN\n  [3]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.21.1","title":"How can a Java variable be different from itself?","body":"<p>One simple way is to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#NaN\" rel=\"noreferrer\"><code>Float.NaN</code></a>:</p>\n<pre><code>float x = Float.NaN;  // &lt;--\n\nif (x == x) {\n    System.out.println(&quot;Ok&quot;);\n} else {\n    System.out.println(&quot;Not ok&quot;);\n}\n</code></pre>\n<pre>\nNot ok\n</pre>\n<p>You can do the same with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#NaN\" rel=\"noreferrer\"><code>Double.NaN</code></a>.</p>\n<hr />\n<p>From <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.21.1\" rel=\"noreferrer\"><strong>JLS §15.21.1.</strong> Numerical Equality Operators <code>==</code> and <code>!=</code></a>:</p>\n<blockquote>\n<p>Floating-point equality testing is performed in accordance with the rules of the IEEE 754 standard:</p>\n<ul>\n<li><p>If either operand is NaN, then the result of <code>==</code> is <code>false</code> but the result of <code>!=</code> is <code>true</code>.</p>\n<p>Indeed, the test <code>x!=x</code> is <code>true</code> if and only if the value of <code>x</code> is NaN.</p>\n</li>\n</ul>\n<p>...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"down_vote_count":7,"up_vote_count":167,"is_accepted":false,"score":160,"last_activity_date":1381972710,"creation_date":1381972710,"answer_id":19416674,"question_id":19416644,"body_markdown":"    int x = 0;\r\n    if (x == x) {\r\n        System.out.println(&quot;Not ok&quot;);\r\n    } else {\r\n        System.out.println(&quot;Ok&quot;);\r\n    }","title":"How can a Java variable be different from itself?","body":"<pre><code>int x = 0;\nif (x == x) {\n    System.out.println(\"Not ok\");\n} else {\n    System.out.println(\"Ok\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1420723913,"creation_date":1381974339,"answer_id":19416907,"question_id":19416644,"body_markdown":"Not sure if this is an option but changing `x` from local variable to a field would allow other thread to change its value between the reading left and right side in `if` statement.\r\n\r\nHere is short demo:\r\n\r\n    class Test {\r\n    \r\n    \tstatic int x = 0;\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \r\n    \t\tThread t = new Thread(new Change());\r\n    \t\tt.setDaemon(true);\r\n    \t\tt.start();\r\n    \r\n    \t\twhile (true) {\r\n    \t\t\tif (x == x) {\r\n    \t\t\t\tSystem.out.println(&quot;Ok&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;Not ok&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    class Change implements Runnable {\r\n    \tpublic void run() {\r\n    \t\twhile (true)\r\n    \t\t\tTest.x++;\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    ⋮\r\n    Ok\r\n    Ok\r\n    Ok\r\n    Ok\r\n    Ok\r\n    Ok\r\n    Ok\r\n    Ok\r\n    Not ok\r\n","title":"How can a Java variable be different from itself?","body":"<p>Not sure if this is an option but changing <code>x</code> from local variable to a field would allow other thread to change its value between the reading left and right side in <code>if</code> statement.</p>\n\n<p>Here is short demo:</p>\n\n<pre><code>class Test {\n\n    static int x = 0;\n\n    public static void main(String[] args) throws Exception {\n\n        Thread t = new Thread(new Change());\n        t.setDaemon(true);\n        t.start();\n\n        while (true) {\n            if (x == x) {\n                System.out.println(\"Ok\");\n            } else {\n                System.out.println(\"Not ok\");\n                break;\n            }\n        }\n    }\n}\n\nclass Change implements Runnable {\n    public void run() {\n        while (true)\n            Test.x++;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>⋮\nOk\nOk\nOk\nOk\nOk\nOk\nOk\nOk\nNot ok\n</code></pre>\n"},{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1611852845,"creation_date":1382034931,"answer_id":19434552,"question_id":19416644,"body_markdown":"There are so many solutions:\r\n\r\n    import java.io.PrintStream;\r\n    \r\n    class A extends PrintStream {\r\n    \tpublic A(PrintStream x) {\r\n    \t\tsuper(x);\r\n    \t}\r\n    \r\n    \tpublic void println(String x) {\r\n    \t\tsuper.println(&quot;Not ok&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.setOut(new A(System.out));\r\n    \t\tint x = 0;\r\n    \t\tif (x == x) {\r\n    \t\t\tSystem.out.println(&quot;Ok&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Not ok&quot;);\r\n    \t\t}\r\n    \t}\r\n    }","title":"How can a Java variable be different from itself?","body":"<p>There are so many solutions:</p>\n<pre><code>import java.io.PrintStream;\n\nclass A extends PrintStream {\n    public A(PrintStream x) {\n        super(x);\n    }\n\n    public void println(String x) {\n        super.println(&quot;Not ok&quot;);\n    }\n\n    public static void main(String[] args) {\n        System.setOut(new A(System.out));\n        int x = 0;\n        if (x == x) {\n            System.out.println(&quot;Ok&quot;);\n        } else {\n            System.out.println(&quot;Not ok&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1034085,"reputation":15781,"user_id":1041822,"accept_rate":100,"display_name":"higuaro"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1382480540,"creation_date":1382480540,"answer_id":19529457,"question_id":19416644,"body_markdown":"Using the same skip/change output approach from another answers:\r\n\r\n    class Condition {\r\n        public static void main(String[] args) {\r\n            try {\r\n                int x = 1 / 0;\r\n                if (x == x) {\r\n                    System.out.println(&quot;Ok&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Not ok&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Not ok&quot;);\r\n            }\r\n        }\r\n    }","title":"How can a Java variable be different from itself?","body":"<p>Using the same skip/change output approach from another answers:</p>\n\n<pre><code>class Condition {\n    public static void main(String[] args) {\n        try {\n            int x = 1 / 0;\n            if (x == x) {\n                System.out.println(\"Ok\");\n            } else {\n                System.out.println(\"Not ok\");\n            }\n        } catch (Exception e) {\n            System.out.println(\"Not ok\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1386227899,"creation_date":1383594725,"answer_id":19775881,"question_id":19416644,"body_markdown":"Create your own class `System` in tha same package with `Condition`.  \r\nIn this case your `System` class will hide `java.lang.System` class\r\n\r\n    class Condition\r\n    {\r\n    \tstatic class System\r\n    \t{\r\n    \t\tstatic class out\r\n    \t\t{\r\n    \t\t\tstatic void println(String ignored)\r\n    \t\t\t{\r\n    \t\t\t\tjava.lang.System.out.println(&quot;Not ok&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main (String[] args) throws java.lang.Exception\r\n    \t{\r\n    \t\tint x = 0;\r\n    \t\tif (x == x) \r\n    \t\t{\r\n               System.out.println(&quot;Not ok&quot;);\r\n            } \r\n            else \r\n            {\r\n               System.out.println(&quot;Ok&quot;);\r\n            }\r\n        }\r\n    }  \r\n[**Ideone DEMO**][1]\r\n\r\n\r\n  [1]: http://ideone.com/F039qY","title":"How can a Java variable be different from itself?","body":"<p>Create your own class <code>System</code> in tha same package with <code>Condition</code>.<br>\nIn this case your <code>System</code> class will hide <code>java.lang.System</code> class</p>\n\n<pre><code>class Condition\n{\n    static class System\n    {\n        static class out\n        {\n            static void println(String ignored)\n            {\n                java.lang.System.out.println(\"Not ok\");\n            }\n        }\n    }\n\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        int x = 0;\n        if (x == x) \n        {\n           System.out.println(\"Not ok\");\n        } \n        else \n        {\n           System.out.println(\"Ok\");\n        }\n    }\n}  \n</code></pre>\n\n<p><a href=\"http://ideone.com/F039qY\" rel=\"noreferrer\"><strong>Ideone DEMO</strong></a></p>\n"},{"tags":[],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"down_vote_count":0,"up_vote_count":148,"is_accepted":false,"score":148,"last_activity_date":1392716655,"creation_date":1386158545,"answer_id":20374855,"question_id":19416644,"body_markdown":"By the [Java Language Specifications][1] `NaN` is not equal to `NaN`.\r\n\r\nTherefore any line that caused `x` to be equal to `NaN` would cause this, such as\r\n\r\n    double x=Math.sqrt(-1);\r\n\r\nFrom the Java Language Specifications:\r\n\r\n&gt; Floating-point operators produce no exceptions (&#167;11). An operation\r\n&gt; that overflows produces a signed infinity, an operation that\r\n&gt; underflows produces a denormalized value or a signed zero, and an\r\n&gt; operation that has no mathematically definite result produces NaN. All\r\n&gt; numeric operations with NaN as an operand produce NaN as a result. As\r\n&gt; has already been described, NaN is unordered, so **a numeric comparison\r\n&gt; operation involving one or two NaNs returns false** and any !=\r\n&gt; comparison involving NaN returns true, including x!=x when x is NaN.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/","title":"How can a Java variable be different from itself?","body":"<p>By the <a href=\"http://docs.oracle.com/javase/specs/\" rel=\"noreferrer\">Java Language Specifications</a> <code>NaN</code> is not equal to <code>NaN</code>.</p>\n\n<p>Therefore any line that caused <code>x</code> to be equal to <code>NaN</code> would cause this, such as</p>\n\n<pre><code>double x=Math.sqrt(-1);\n</code></pre>\n\n<p>From the Java Language Specifications:</p>\n\n<blockquote>\n  <p>Floating-point operators produce no exceptions (§11). An operation\n  that overflows produces a signed infinity, an operation that\n  underflows produces a denormalized value or a signed zero, and an\n  operation that has no mathematically definite result produces NaN. All\n  numeric operations with NaN as an operand produce NaN as a result. As\n  has already been described, NaN is unordered, so <strong>a numeric comparison\n  operation involving one or two NaNs returns false</strong> and any !=\n  comparison involving NaN returns true, including x!=x when x is NaN.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":108288,"reputation":508,"user_id":287503,"display_name":"Mex"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1386716540,"creation_date":1386158810,"answer_id":20374944,"question_id":19416644,"body_markdown":"The replaced line could read.\r\n\r\n    double x = Double.NaN;\r\n\r\nThis would cause the gotcha to be printed.\r\n\r\nJava Language Specification (JLS) says:\r\n\r\n&gt; Floating-point operators produce no exceptions (&#167;11). An operation that overflows produces a signed infinity, an operation that underflows produces a denormalized value or a signed zero, and an operation that has no mathematically definite result produces NaN. All numeric operations with NaN as an operand produce NaN as a result. As has already been described, NaN is unordered, so a numeric comparison operation involving one or two NaNs returns false and any != comparison involving NaN returns true, including x!=x when x is NaN.","title":"How can a Java variable be different from itself?","body":"<p>The replaced line could read.</p>\n\n<pre><code>double x = Double.NaN;\n</code></pre>\n\n<p>This would cause the gotcha to be printed.</p>\n\n<p>Java Language Specification (JLS) says:</p>\n\n<blockquote>\n  <p>Floating-point operators produce no exceptions (§11). An operation that overflows produces a signed infinity, an operation that underflows produces a denormalized value or a signed zero, and an operation that has no mathematically definite result produces NaN. All numeric operations with NaN as an operand produce NaN as a result. As has already been described, NaN is unordered, so a numeric comparison operation involving one or two NaNs returns false and any != comparison involving NaN returns true, including x!=x when x is NaN.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":83369,"reputation":15890,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"down_vote_count":3,"up_vote_count":29,"is_accepted":false,"score":26,"last_activity_date":1386160037,"creation_date":1386158966,"answer_id":20374997,"question_id":19416644,"body_markdown":"One easy solution is:\r\n\r\n    System.out.println(&quot;Gotcha!&quot;);if(false)\r\n    if( a == a ){\r\n      System.out.println(&quot;Not yet...&quot;);\r\n    } else {\r\n      System.out.println(&quot;Gotcha!&quot;);\r\n    }\r\n\r\nBut I don&#39;t know all the rules to this riddle...\r\n\r\n**:)**\r\nI know that this is a cheat, but without knowing all rules, is this the easiest solution to the question :)","title":"How can a Java variable be different from itself?","body":"<p>One easy solution is:</p>\n\n<pre><code>System.out.println(\"Gotcha!\");if(false)\nif( a == a ){\n  System.out.println(\"Not yet...\");\n} else {\n  System.out.println(\"Gotcha!\");\n}\n</code></pre>\n\n<p>But I don't know all the rules to this riddle...</p>\n\n<p><strong>:)</strong>\nI know that this is a cheat, but without knowing all rules, is this the easiest solution to the question :)</p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1386161040,"creation_date":1386159704,"answer_id":20375252,"question_id":19416644,"body_markdown":"I managed to get a `Gotcha!` from this:\r\n\r\n    volatile Object a = new Object();\r\n\r\n    class Flipper implements Runnable {\r\n      Object b = new Object();\r\n\r\n      public void run() {\r\n        while (true)  {\r\n          Object olda = a;\r\n          a = b;\r\n          a = olda;\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    public void test() {\r\n      new Thread(new Flipper()).start();\r\n\r\n      boolean gotcha = false;\r\n      while (!gotcha) {\r\n        // I&#39;ve added everything above this - I would therefore say still legal.\r\n        if (a == a) {\r\n          System.out.println(&quot;Not yet...&quot;);\r\n        } else {\r\n          System.out.println(&quot;Gotcha!&quot;);\r\n          // Uncomment this line when testing or you&#39;ll never terminate.\r\n          //gotcha = true;\r\n        }\r\n      }\r\n    }\r\n","title":"How can a Java variable be different from itself?","body":"<p>I managed to get a <code>Gotcha!</code> from this:</p>\n\n<pre><code>volatile Object a = new Object();\n\nclass Flipper implements Runnable {\n  Object b = new Object();\n\n  public void run() {\n    while (true)  {\n      Object olda = a;\n      a = b;\n      a = olda;\n    }\n  }\n\n}\n\npublic void test() {\n  new Thread(new Flipper()).start();\n\n  boolean gotcha = false;\n  while (!gotcha) {\n    // I've added everything above this - I would therefore say still legal.\n    if (a == a) {\n      System.out.println(\"Not yet...\");\n    } else {\n      System.out.println(\"Gotcha!\");\n      // Uncomment this line when testing or you'll never terminate.\n      //gotcha = true;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677240841,"creation_date":1677239425,"answer_id":75556250,"question_id":19416644,"body_markdown":"&gt; How can you **skip the first case** without modifying the condition itself?\r\n\r\n&quot;E.g.&quot; part in such questions should NOT mislead you. More ideas from my side:\r\n\r\n```\r\nclass Condition1 {\r\n    // you can change in the main\r\n    public static void main(String[] args) { \r\n        int x = 0;\r\n        if (x == x) /*{\r\n            // the most popular method in actual debug, don&#39;t you think?\r\n            System.out.println(&quot;Ok&quot;);\r\n        } else */{\r\n            System.out.println(&quot;Not ok&quot;);\r\n        }\r\n    }\r\n}\r\n\r\nclass Condition2 {\r\n    // you can change in the main\r\n    public static void main(String[] args) { \r\n        int x = 0;\r\n        if (x == x); if (false) {\r\n            System.out.println(&quot;Ok&quot;);\r\n        } else {\r\n            System.out.println(&quot;Not ok&quot;);\r\n        }\r\n    }\r\n}\r\n\r\nclass Condition3 {\r\n    // you can change in the main\r\n    public static void main(String[] args) { \r\n        System.out.println(&quot;Not ok&quot;);\r\n    }\r\n\r\n    private void ignored() {\r\n        int x = 0;\r\n        if (x == x) {\r\n            System.out.println(&quot;Ok&quot;);\r\n        } else {\r\n            System.out.println(&quot;Not ok&quot;);\r\n        }\r\n    }\r\n}\r\n\r\nclass Condition4 {\r\n    // you can change in the main\r\n    public static void main(String[] args) { \r\n        int x = 0;\r\n        if (false) {\r\n            return; // this becomes &quot;the first case&quot; and it&#39;s skipped\r\n        } else {\r\n            System.out.println(&quot;Not ok&quot;);\r\n            return;\r\n        }\r\n        if (x == x) {\r\n            System.out.println(&quot;Ok&quot;);\r\n        } else {\r\n            System.out.println(&quot;Not ok&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nimport static Condition5.Container.x;\r\n\r\nclass Condition5 {\r\n\r\n    static class Container {\r\n        static int x = new Inner().hashCode();\r\n    }\r\n\r\n    private static class Inner {\r\n        public Inner() {\r\n            throw new IllegalStateException();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            {\r\n                int x = 0;\r\n            }\r\n            if (x == x) {\r\n                System.out.println(&quot;Ok&quot;);\r\n            } else {\r\n                System.out.println(&quot;Not ok&quot;);\r\n            }\r\n        } catch (Error e) {\r\n            System.out.println(&quot;Not ok&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"How can a Java variable be different from itself?","body":"<blockquote>\n<p>How can you <strong>skip the first case</strong> without modifying the condition itself?</p>\n</blockquote>\n<p>&quot;E.g.&quot; part in such questions should NOT mislead you. More ideas from my side:</p>\n<pre><code>class Condition1 {\n    // you can change in the main\n    public static void main(String[] args) { \n        int x = 0;\n        if (x == x) /*{\n            // the most popular method in actual debug, don't you think?\n            System.out.println(&quot;Ok&quot;);\n        } else */{\n            System.out.println(&quot;Not ok&quot;);\n        }\n    }\n}\n\nclass Condition2 {\n    // you can change in the main\n    public static void main(String[] args) { \n        int x = 0;\n        if (x == x); if (false) {\n            System.out.println(&quot;Ok&quot;);\n        } else {\n            System.out.println(&quot;Not ok&quot;);\n        }\n    }\n}\n\nclass Condition3 {\n    // you can change in the main\n    public static void main(String[] args) { \n        System.out.println(&quot;Not ok&quot;);\n    }\n\n    private void ignored() {\n        int x = 0;\n        if (x == x) {\n            System.out.println(&quot;Ok&quot;);\n        } else {\n            System.out.println(&quot;Not ok&quot;);\n        }\n    }\n}\n\nclass Condition4 {\n    // you can change in the main\n    public static void main(String[] args) { \n        int x = 0;\n        if (false) {\n            return; // this becomes &quot;the first case&quot; and it's skipped\n        } else {\n            System.out.println(&quot;Not ok&quot;);\n            return;\n        }\n        if (x == x) {\n            System.out.println(&quot;Ok&quot;);\n        } else {\n            System.out.println(&quot;Not ok&quot;);\n        }\n    }\n}\n\n\nimport static Condition5.Container.x;\n\nclass Condition5 {\n\n    static class Container {\n        static int x = new Inner().hashCode();\n    }\n\n    private static class Inner {\n        public Inner() {\n            throw new IllegalStateException();\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            {\n                int x = 0;\n            }\n            if (x == x) {\n                System.out.println(&quot;Ok&quot;);\n            } else {\n                System.out.println(&quot;Not ok&quot;);\n            }\n        } catch (Error e) {\n            System.out.println(&quot;Not ok&quot;);\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1221239,"reputation":2069,"user_id":1187855,"accept_rate":83,"display_name":"Husam"},"comment_count":23,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10466,"favorite_count":0,"down_vote_count":2,"up_vote_count":111,"accepted_answer_id":19416665,"answer_count":11,"score":109,"last_activity_date":1677240841,"creation_date":1381972523,"question_id":19416644,"body_markdown":"I am wondering if this question can be solved in Java (I&#39;m new to the language). This is the code:\r\n\r\n    class Condition {\r\n        // you can change in the main\r\n        public static void main(String[] args) { \r\n            int x = 0;\r\n            if (x == x) {\r\n                System.out.println(&quot;Ok&quot;);\r\n            } else {\r\n                System.out.println(&quot;Not ok&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nI received the following question in my lab:\r\n\r\n*How can you print &quot;Not ok&quot; without modifying the condition?*\r\n\r\n**Edit**\r\n\r\n*How can you skip the first case (i.e. make the `x == x` condition false) without modifying the condition itself?*","title":"How can a Java variable be different from itself?","body":"<p>I am wondering if this question can be solved in Java (I'm new to the language). This is the code:</p>\n<pre><code>class Condition {\n    // you can change in the main\n    public static void main(String[] args) { \n        int x = 0;\n        if (x == x) {\n            System.out.println(&quot;Ok&quot;);\n        } else {\n            System.out.println(&quot;Not ok&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I received the following question in my lab:</p>\n<p><em>How can you print &quot;Not ok&quot; without modifying the condition?</em></p>\n<p><strong>Edit</strong></p>\n<p><em>How can you skip the first case (i.e. make the <code>x == x</code> condition false) without modifying the condition itself?</em></p>\n"},{"tags":["c#","java","php","reflection","junit"],"comments":[{"owner":{"account_id":72299,"reputation":313668,"user_id":208809,"accept_rate":100,"display_name":"Gordon"},"score":19,"creation_date":1279725622,"post_id":3300680,"comment_id":3419176,"body_markdown":"Reflection doesnt break encapsulation. Developers do ;)","body":"Reflection doesnt break encapsulation. Developers do ;)"},{"owner":{"account_id":805058,"reputation":756,"user_id":308816,"display_name":"Ken"},"score":2,"creation_date":1279726128,"post_id":3300680,"comment_id":3419251,"body_markdown":"Likewise, casting breaks the idea of static typing, right?","body":"Likewise, casting breaks the idea of static typing, right?"},{"owner":{"account_id":44869,"reputation":19477,"user_id":131926,"display_name":"Steven Sudit"},"score":0,"creation_date":1279726351,"post_id":3300680,"comment_id":3419294,"body_markdown":"@Ken: Only if it&#39;s C-style casting, without limits.","body":"@Ken: Only if it&#39;s C-style casting, without limits."},{"owner":{"account_id":805058,"reputation":756,"user_id":308816,"display_name":"Ken"},"score":0,"creation_date":1279728762,"post_id":3300680,"comment_id":3419782,"body_markdown":"What about downcasting?  It forces the runtime to do a type check, which defeats the purpose of static typing, i.e., compile-time type checking.","body":"What about downcasting?  It forces the runtime to do a type check, which defeats the purpose of static typing, i.e., compile-time type checking."},{"owner":{"account_id":48878,"reputation":9985,"user_id":145357,"accept_rate":79,"display_name":"Valentin Golev"},"score":0,"creation_date":1279731841,"post_id":3300680,"comment_id":3420380,"body_markdown":"@Steven Sudit, how can it? since then C-style casting converts object to another type in some reasonable way?","body":"@Steven Sudit, how can it? since then C-style casting converts object to another type in some reasonable way?"},{"owner":{"account_id":44869,"reputation":19477,"user_id":131926,"display_name":"Steven Sudit"},"score":0,"creation_date":1279732813,"post_id":3300680,"comment_id":3420572,"body_markdown":"@Ken: Using C-style casting lets you cast anything to anything, at great peril.  If you feel like it, you can take the address and cast it to a `char*`, allowing you to modify the values byte by byte.","body":"@Ken: Using C-style casting lets you cast anything to anything, at great peril.  If you feel like it, you can take the address and cast it to a <code>char*</code>, allowing you to modify the values byte by byte."},{"owner":{"account_id":44869,"reputation":19477,"user_id":131926,"display_name":"Steven Sudit"},"score":0,"creation_date":1279732860,"post_id":3300680,"comment_id":3420579,"body_markdown":"@valya: The whole point is that C-style casting is not obligated to be reasonable.  In contrast, a C++ `dynamic_cast&lt;&gt;` does do a runtime type check (using RTTI), so long as certain constraints are met (such as the existence of a vtable).","body":"@valya: The whole point is that C-style casting is not obligated to be reasonable.  In contrast, a C++ <code>dynamic_cast&lt;&gt;</code> does do a runtime type check (using RTTI), so long as certain constraints are met (such as the existence of a vtable)."},{"owner":{"account_id":48878,"reputation":9985,"user_id":145357,"accept_rate":79,"display_name":"Valentin Golev"},"score":0,"creation_date":1279733347,"post_id":3300680,"comment_id":3420662,"body_markdown":"@Steven Sudit, I mean that if you do something like (int)&quot;123&quot;, it&#39;s not going to work so C-style casting break type system like Hulk breaks your relationship - together with your house","body":"@Steven Sudit, I mean that if you do something like (int)&quot;123&quot;, it&#39;s not going to work so C-style casting break type system like Hulk breaks your relationship - together with your house"},{"owner":{"account_id":44869,"reputation":19477,"user_id":131926,"display_name":"Steven Sudit"},"score":0,"creation_date":1279733491,"post_id":3300680,"comment_id":3420691,"body_markdown":"@valya: If you&#39;re saying that C-style casting breaks whatever it wants to break (much like &quot;Hulk smash&quot;), then yes.","body":"@valya: If you&#39;re saying that C-style casting breaks whatever it wants to break (much like &quot;Hulk smash&quot;), then yes."},{"owner":{"account_id":335069,"reputation":70755,"user_id":661933,"accept_rate":94,"display_name":"nawfal"},"score":0,"creation_date":1382346844,"post_id":3300680,"comment_id":28908408,"body_markdown":".NET specific [why-can-reflection-access-protected-private-member-of-class-in-c](http://stackoverflow.com/questions/2084353/why-can-reflection-access-protected-private-member-of-class-in-c?rq=1)","body":".NET specific <a href=\"http://stackoverflow.com/questions/2084353/why-can-reflection-access-protected-private-member-of-class-in-c?rq=1\">why-can-reflection-access-protected-private-member-of-class-&zwnj;&#8203;in-c</a>"}],"answers":[{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279724679,"creation_date":1279724679,"answer_id":3300725,"question_id":3300680,"body_markdown":"I think this is a matter of opinion, but if you are using reflection to get around the encapsulation put in place by a developer on a class, then you are defeating the purpose.\r\n\r\nSo, to answer your question, it breaks the idea of encapsulation (or information hiding), which simply states that private properties/methods are private so they cant be mucked with outside the class.\r\n\r\n","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>I think this is a matter of opinion, but if you are using reflection to get around the encapsulation put in place by a developer on a class, then you are defeating the purpose.</p>\n\n<p>So, to answer your question, it breaks the idea of encapsulation (or information hiding), which simply states that private properties/methods are private so they cant be mucked with outside the class.</p>\n"},{"tags":[],"owner":{"account_id":104474,"reputation":42579,"user_id":279313,"accept_rate":91,"display_name":"Alex F"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1279724781,"creation_date":1279724781,"answer_id":3300750,"question_id":3300680,"body_markdown":"Yes, reflection breaks this idea. Native languages also have some tricks to break OOP rules, for example, in C++ it is possible to change private class members using pointer tricks. However, by using these tricks, we get the code which can be incompatible with future class versions - this is the price we pay for breaking OOP rules.","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Yes, reflection breaks this idea. Native languages also have some tricks to break OOP rules, for example, in C++ it is possible to change private class members using pointer tricks. However, by using these tricks, we get the code which can be incompatible with future class versions - this is the price we pay for breaking OOP rules.</p>\n"},{"tags":[],"owner":{"account_id":144102,"reputation":7261,"user_id":352898,"accept_rate":100,"display_name":"Arseny"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1279725204,"creation_date":1279724798,"answer_id":3300755,"question_id":3300680,"body_markdown":"Yes. Reflection breaks encapsulation principle. That&#39;s not only to get access to private members but rather expose whole structure of a class.","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Yes. Reflection breaks encapsulation principle. That's not only to get access to private members but rather expose whole structure of a class.</p>\n"},{"tags":[],"owner":{"account_id":44869,"reputation":19477,"user_id":131926,"display_name":"Steven Sudit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1279724864,"creation_date":1279724864,"answer_id":3300773,"question_id":3300680,"body_markdown":"Yes, Reflection *could* be used to violate encapsulation and even cause incorrect behavior.  Keep in mind that the assembly needs to be trusted to perform reflection, so there are still some protections in place.","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Yes, Reflection <em>could</em> be used to violate encapsulation and even cause incorrect behavior.  Keep in mind that the assembly needs to be trusted to perform reflection, so there are still some protections in place.</p>\n"},{"tags":[],"owner":{"account_id":2164,"reputation":25680,"user_id":2979,"display_name":"Tendayi Mawushe"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1279748796,"creation_date":1279724904,"answer_id":3300779,"question_id":3300680,"body_markdown":"Reflection does provide a way to circumvent Java&#39;s Access Protection Modifiers and therefore **violates strict encapsulation** as it realised in C++ and Java. However this does not matter as much as you might think. \r\n\r\nAccess Protection Modifiers are intended to assist programmers to develop modular well factored systems, not to be uncompromising gate keepers. There are sometimes very good reasons to break strict encapsulation such as **[Unit Testing][1] and framework development**.\r\n\r\nWhile it may initially be difficult to stomach the idea that Access Protection Modifiers are easily circumventable, try to remember that there are many languages ([Python][2], [Ruby][3] etc.) that do not have them at all. These languages are used to build large and complex systems just like languages which do provide access protection.\r\n\r\nThere is some debate on whether Access Protection Modifiers are a help or a hindrance. Even if you do value access protection treat it like a helping hand, not the making or breaking of your project.\r\n\r\n\r\n  [1]: http://www.junit.org/node/60\r\n  [2]: http://www.python.org/\r\n  [3]: http://ruby-lang.org/","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Reflection does provide a way to circumvent Java's Access Protection Modifiers and therefore <strong>violates strict encapsulation</strong> as it realised in C++ and Java. However this does not matter as much as you might think. </p>\n\n<p>Access Protection Modifiers are intended to assist programmers to develop modular well factored systems, not to be uncompromising gate keepers. There are sometimes very good reasons to break strict encapsulation such as <strong><a href=\"http://www.junit.org/node/60\" rel=\"noreferrer\">Unit Testing</a> and framework development</strong>.</p>\n\n<p>While it may initially be difficult to stomach the idea that Access Protection Modifiers are easily circumventable, try to remember that there are many languages (<a href=\"http://www.python.org/\" rel=\"noreferrer\">Python</a>, <a href=\"http://ruby-lang.org/\" rel=\"noreferrer\">Ruby</a> etc.) that do not have them at all. These languages are used to build large and complex systems just like languages which do provide access protection.</p>\n\n<p>There is some debate on whether Access Protection Modifiers are a help or a hindrance. Even if you do value access protection treat it like a helping hand, not the making or breaking of your project.</p>\n"},{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1279724976,"creation_date":1279724976,"answer_id":3300794,"question_id":3300680,"body_markdown":"It&#39;s like your house. Locks only keep out honest people, or people who aren&#39;t willing to pick your lock.\r\n\r\nData is data, if someone is determined enough, they can do anything with your code. Literally anything.\r\n\r\nSo yes, reflection will allow people to do things you don&#39;t want them to do with your code, for example access private fields and methods. However, the important thing is that people will not accidentally do this. If they&#39;re using reflection, they know they&#39;re doing something they probably aren&#39;t intended to do, just like no one accidentally picks the lock on your front door.","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>It's like your house. Locks only keep out honest people, or people who aren't willing to pick your lock.</p>\n\n<p>Data is data, if someone is determined enough, they can do anything with your code. Literally anything.</p>\n\n<p>So yes, reflection will allow people to do things you don't want them to do with your code, for example access private fields and methods. However, the important thing is that people will not accidentally do this. If they're using reflection, they know they're doing something they probably aren't intended to do, just like no one accidentally picks the lock on your front door.</p>\n"},{"tags":[],"owner":{"account_id":165022,"reputation":5631,"user_id":388155,"accept_rate":80,"display_name":"samitgaur"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1279736881,"creation_date":1279725219,"answer_id":3300833,"question_id":3300680,"body_markdown":"Yes it breaks the encapsulation, if you want it to. However, it can be put to good use - like writing unit tests for private methods, or sometimes - as I have learned from my own experience - getting around bugs in third party APIs :)\r\n\r\nNote that encapsulation != security. Encapsulation is an object oriented design concept and is only meant for improving the design. For security, there is [SecurityManager][1] in java.\r\n\r\n\r\n  [1]: http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/lang/SecurityManager.html","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Yes it breaks the encapsulation, if you want it to. However, it can be put to good use - like writing unit tests for private methods, or sometimes - as I have learned from my own experience - getting around bugs in third party APIs :)</p>\n\n<p>Note that encapsulation != security. Encapsulation is an object oriented design concept and is only meant for improving the design. For security, there is <a href=\"http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/lang/SecurityManager.html\" rel=\"nofollow noreferrer\">SecurityManager</a> in java.</p>\n"},{"tags":[],"owner":{"account_id":142897,"reputation":3963,"user_id":350891,"accept_rate":100,"display_name":"xor_eq"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1279725339,"creation_date":1279725339,"answer_id":3300849,"question_id":3300680,"body_markdown":"It does, as other already stated. \r\n\r\nHowever, I remember that in Java there can be a security manager active, that could prevent you from accessing any private methods, even with reflection, if you don&#39;t have the rights to do so. If you run your local JVM, such a manager is usually not active.","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>It does, as other already stated. </p>\n\n<p>However, I remember that in Java there can be a security manager active, that could prevent you from accessing any private methods, even with reflection, if you don't have the rights to do so. If you run your local JVM, such a manager is usually not active.</p>\n"},{"tags":[],"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279725370,"creation_date":1279725370,"answer_id":3300855,"question_id":3300680,"body_markdown":"Reflection makes it possible for any CLR class to examine and manipulate properties and fields of other CLR classes, but not necessarily to do so sensibly.  It&#39;s possible for a class to obscure the meaning of properties and fields or protect them against tampering by having them depend in non-obvious fashion upon each other, static fields, underlying OS info, etc.\r\n\r\nFor example, a class could keep in some variable an encrypted version of the OS handle for its main window.  Using reflection, another class could see that variable, but without knowing the encryption method it could not identify the window to which it belonged or make the variable refer to another window.\r\n\r\nI&#39;ve seen classes that claim to act as &quot;universal serializers&quot;; they can be very useful if applied to something like a data-storage-container class which is missing a &quot;serializable&quot; attribute but is otherwise entirely straightforward.  They will produce gobbledygook if applied to any class whose creator has endeavored to obscure things.","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Reflection makes it possible for any CLR class to examine and manipulate properties and fields of other CLR classes, but not necessarily to do so sensibly.  It's possible for a class to obscure the meaning of properties and fields or protect them against tampering by having them depend in non-obvious fashion upon each other, static fields, underlying OS info, etc.</p>\n\n<p>For example, a class could keep in some variable an encrypted version of the OS handle for its main window.  Using reflection, another class could see that variable, but without knowing the encryption method it could not identify the window to which it belonged or make the variable refer to another window.</p>\n\n<p>I've seen classes that claim to act as \"universal serializers\"; they can be very useful if applied to something like a data-storage-container class which is missing a \"serializable\" attribute but is otherwise entirely straightforward.  They will produce gobbledygook if applied to any class whose creator has endeavored to obscure things.</p>\n"},{"tags":[],"owner":{"account_id":24018,"reputation":265558,"user_id":60761,"accept_rate":91,"display_name":"ℍ ℍ"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1375823179,"creation_date":1279725704,"answer_id":3300913,"question_id":3300680,"body_markdown":"Yes, but it is not a problem.\r\n\r\nEncapsulation is not about security or secrets, just about organizing things. \r\n\r\nReflection is not part of &#39;normal&#39; programming. If you want to use it to break encapsulation, you accept the risks (versioning problems etc) \r\n\r\nReflection should only be used when there are no better (less invasive) ways to accomplish something. \r\n\r\nReflection is for system-level &#39;tooling&#39; like persistence mapping and should be tucked away in well tested libraries. I would find any use of reflection in normal application code suspect.\r\n \r\nI started with &quot;it is not a problem&quot;. I meant: as long as you use reflection as intended. And careful.\r\n\r\n\r\n","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Yes, but it is not a problem.</p>\n\n<p>Encapsulation is not about security or secrets, just about organizing things. </p>\n\n<p>Reflection is not part of 'normal' programming. If you want to use it to break encapsulation, you accept the risks (versioning problems etc) </p>\n\n<p>Reflection should only be used when there are no better (less invasive) ways to accomplish something. </p>\n\n<p>Reflection is for system-level 'tooling' like persistence mapping and should be tucked away in well tested libraries. I would find any use of reflection in normal application code suspect.</p>\n\n<p>I started with \"it is not a problem\". I meant: as long as you use reflection as intended. And careful.</p>\n"},{"tags":[],"owner":{"account_id":62733,"reputation":17506,"user_id":186133,"accept_rate":87,"display_name":"Carlos Mu&#241;oz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279725752,"creation_date":1279725752,"answer_id":3300923,"question_id":3300680,"body_markdown":"Yes, it does break encapsulation. But there are many good reasons to use it in some situations.\r\n\r\nFor example:\r\n\r\nI use [MSCaptcha][1] in some websites, but it renders a &lt; div&gt; around the &lt; img &gt; tag that messes with my HTML. Then i can use a standard &lt; img&gt; tag and use reflection to get the value of the captcha&#39;s image id to construct a URL.\r\n\r\nThe image id is a private Property but using reflection i can get that value.\r\n\r\n\r\n\r\n\r\n  [1]: http://www.mondor.org/captcha.aspx","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Yes, it does break encapsulation. But there are many good reasons to use it in some situations.</p>\n\n<p>For example:</p>\n\n<p>I use <a href=\"http://www.mondor.org/captcha.aspx\" rel=\"nofollow noreferrer\">MSCaptcha</a> in some websites, but it renders a &lt; div> around the &lt; img > tag that messes with my HTML. Then i can use a standard &lt; img> tag and use reflection to get the value of the captcha's image id to construct a URL.</p>\n\n<p>The image id is a private Property but using reflection i can get that value.</p>\n"},{"tags":[],"owner":{"account_id":2172,"reputation":364880,"user_id":2988,"display_name":"J&#246;rg W Mittag"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1279735299,"creation_date":1279734913,"answer_id":3302259,"question_id":3300680,"body_markdown":"No, reflection doesn&#39;t break the idea of private methods. At least not per se. There is nothing that says that reflection can&#39;t obey access restrictions.\n\n*Badly designed* reflection breaks the idea of private methods, but that doesn&#39;t have anything to do with reflection per se: *anything* which is badly designed can break the idea of private methods. In particular, a bad design of private methods can also obviously break the idea of private methods.\n\nWhat do I mean by *badly designed*? Well, as I said above, there is nothing stopping you from having a language in which reflection obeys access restrictions. The problem with this is that e.g. debuggers, profilers, coverage tools, IntelliSense, IDEs, tools in general *need* to be able to violate access restrictions. Since there is no way to present different different versions of reflection to different clients, most languages opt for tools over safety. (E is the counterexample, which has absolutely no reflective capabilities whatsoever, as a conscious design choice.)\n\nBut, who says that you cannot present different versions of reflection to different clients? Well, the problem is simply that in the classical implementation of reflection, all objects are reponsible for reflecting on themselves, and since there is only one of every object, there can be only version of reflection.\n\nSo, where does the idea of *bad design* come in? Well, note the word &quot;responsible&quot; in the above paragraph. Every object is responsible for reflecting on itself. Also, every object is responsible for whatever it is that it was written for in the first place. In other words: every object has at least *two* responsibilities. This violates one of the basic principles of object-oriented design: the Single Responsibility Principle.\n\nThe solution is rather simple: break up the object. The original object is simply responsible for whatever it was originally written for. And there is another object (called a *Mirror* because it is an object that reflects other objects) which is responsible for reflection. And now that the responsibility for reflection is broken out into a separate object, what&#39;s stopping us from having not one, but two, three, *many* Mirror Objects? One that respects access restrictions, one that only allows an object to reflect upon itself but not any other objects, one that only allows introspection (i.e. is read-only), one that only allows to reflect on read-only callsite information (i.e. for a profiler), one that gives full access to the entire system including violating access restrictions (for a debugger), one that only gives read-only access to the method names and signatures and respects access restrictions (for IntelliSense) and so on &amp;hellip;\n\nAs a nice bonus, this means that Mirrors are essentially Capabilities (in the capability-security sense of the word) for reflection. IOW: Mirrors are the Holy Grail on the decade-long quest to reconcile security and runtime dynamic metaprogramming.\n\nThe concept of Mirrors was originally invented in [Self][1] from where it carried over into [Animorphic Smalltalk/Strongtalk][2] and then [Newspeak][3]. Interestingly, the Java Debugging Interface is based on Mirrors, so the designers of Java (or rather the JVM) clearly knew about them, but Java&#39;s reflection is broken.\n\n  [1]: http://SelfLanguage.Org/\n  [2]: http://Strongtalk.Org/\n  [3]: http://NewspeakLanguage.Org/","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>No, reflection doesn't break the idea of private methods. At least not per se. There is nothing that says that reflection can't obey access restrictions.</p>\n<p><em>Badly designed</em> reflection breaks the idea of private methods, but that doesn't have anything to do with reflection per se: <em>anything</em> which is badly designed can break the idea of private methods. In particular, a bad design of private methods can also obviously break the idea of private methods.</p>\n<p>What do I mean by <em>badly designed</em>? Well, as I said above, there is nothing stopping you from having a language in which reflection obeys access restrictions. The problem with this is that e.g. debuggers, profilers, coverage tools, IntelliSense, IDEs, tools in general <em>need</em> to be able to violate access restrictions. Since there is no way to present different different versions of reflection to different clients, most languages opt for tools over safety. (E is the counterexample, which has absolutely no reflective capabilities whatsoever, as a conscious design choice.)</p>\n<p>But, who says that you cannot present different versions of reflection to different clients? Well, the problem is simply that in the classical implementation of reflection, all objects are reponsible for reflecting on themselves, and since there is only one of every object, there can be only version of reflection.</p>\n<p>So, where does the idea of <em>bad design</em> come in? Well, note the word &quot;responsible&quot; in the above paragraph. Every object is responsible for reflecting on itself. Also, every object is responsible for whatever it is that it was written for in the first place. In other words: every object has at least <em>two</em> responsibilities. This violates one of the basic principles of object-oriented design: the Single Responsibility Principle.</p>\n<p>The solution is rather simple: break up the object. The original object is simply responsible for whatever it was originally written for. And there is another object (called a <em>Mirror</em> because it is an object that reflects other objects) which is responsible for reflection. And now that the responsibility for reflection is broken out into a separate object, what's stopping us from having not one, but two, three, <em>many</em> Mirror Objects? One that respects access restrictions, one that only allows an object to reflect upon itself but not any other objects, one that only allows introspection (i.e. is read-only), one that only allows to reflect on read-only callsite information (i.e. for a profiler), one that gives full access to the entire system including violating access restrictions (for a debugger), one that only gives read-only access to the method names and signatures and respects access restrictions (for IntelliSense) and so on …</p>\n<p>As a nice bonus, this means that Mirrors are essentially Capabilities (in the capability-security sense of the word) for reflection. IOW: Mirrors are the Holy Grail on the decade-long quest to reconcile security and runtime dynamic metaprogramming.</p>\n<p>The concept of Mirrors was originally invented in <a href=\"http://SelfLanguage.Org/\" rel=\"noreferrer\">Self</a> from where it carried over into <a href=\"http://Strongtalk.Org/\" rel=\"noreferrer\">Animorphic Smalltalk/Strongtalk</a> and then <a href=\"http://NewspeakLanguage.Org/\" rel=\"noreferrer\">Newspeak</a>. Interestingly, the Java Debugging Interface is based on Mirrors, so the designers of Java (or rather the JVM) clearly knew about them, but Java's reflection is broken.</p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1279743131,"creation_date":1279743131,"answer_id":3303407,"question_id":3300680,"body_markdown":"access control through private/protected/package/public is not primarily meant for security.\r\n\r\nit helps good guys to do the right thing, but doesn&#39;t prevent bad guys from doing wrong things.\r\n\r\ngenerally we assume others are good guys, and we include their code into our application without though.\r\n\r\nif you can&#39;t trust the guy of a library you are including, you are screwed.","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>access control through private/protected/package/public is not primarily meant for security.</p>\n\n<p>it helps good guys to do the right thing, but doesn't prevent bad guys from doing wrong things.</p>\n\n<p>generally we assume others are good guys, and we include their code into our application without though.</p>\n\n<p>if you can't trust the guy of a library you are including, you are screwed.</p>\n"},{"tags":[],"owner":{"account_id":32093,"reputation":650733,"user_id":88656,"display_name":"Eric Lippert"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1677240508,"creation_date":1279750799,"answer_id":3304350,"question_id":3300680,"body_markdown":"&gt; do we use private methods only for program logic and not for program security?\r\n\r\nIt is not clear what you mean by &quot;program security&quot;. Security cannot be discussed in a vacuum; what resources are you thinking of protecting against what threats? \r\n\r\nThe CLR code access security system is intended to protect resources of *user data* from the threat of *hostile partially trusted code running on the user&#39;s machine*.  \r\n\r\nThe relationship between reflection, access control and security in the CLR is therefore complicated. Briefly and not entirely accurately, the rules are these:\r\n\r\n* full trust means full trust. **Fully trusted code can access every single bit of memory in the process.** That includes private fields.\r\n\r\n* The ability to reflect on privates in partial trust is controlled by a permission; if it is not granted then partial trust code may not do reflection on privates.\r\n\r\nSee [Link](https://learn.microsoft.com/en-us/archive/blogs/shawnfa/restrictedmemberaccess) for details.\r\n\r\n* The desktop CLR supports a mode called &quot;restricted skip visibility&quot; in which the rules for how reflection and the security system interact are slightly different. Basically,\r\npartially trusted code that has the right to use private reflection may access a private field via reflection if the partially trusted code is accessing a private field from a type that comes from an assembly with *equal* or *less* trust.\r\n\r\nSee\r\n\r\n[Link](https://learn.microsoft.com/en-us/archive/blogs/shawnfa/using-lightweight-codegen-from-partial-trust)\r\n\r\nfor details\r\n \r\nThe executive summary is: you *can* lock partially trusted code down sufficiently that it is not able to use reflection to look at private stuff. You *cannot* lock down full trust code; that&#39;s why it&#39;s called &quot;full trust&quot;. If you want to restrict it then *don&#39;t trust it*.\r\n\r\nSo: does making a field private protect it from the threat of low trust code attempting to read it, and thereby steal user&#39;s data? *Yes*. Does it protect it from the threat of *high trust* code reading it? *No*. If the code is both trusted by the user and hostile to the user *then the user has a big problem*.  They should not have trusted that code. \r\n\r\nNote that for example, making a field private does not protect *a secret in your code* from *a user who has your code and is hostile to you*. The security system protects *good users* from *evil code*. It doesn&#39;t protect *good code* from *evil users*. If you want to make something private to keep it from a *user* then you are on a fool&#39;s errand. If you want to make it private to keep a secret from *evil hackers who have lured the user into running hostile low-trust code* then that is a good technique.\r","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<blockquote>\n<p>do we use private methods only for program logic and not for program security?</p>\n</blockquote>\n<p>It is not clear what you mean by &quot;program security&quot;. Security cannot be discussed in a vacuum; what resources are you thinking of protecting against what threats?</p>\n<p>The CLR code access security system is intended to protect resources of <em>user data</em> from the threat of <em>hostile partially trusted code running on the user's machine</em>.</p>\n<p>The relationship between reflection, access control and security in the CLR is therefore complicated. Briefly and not entirely accurately, the rules are these:</p>\n<ul>\n<li><p>full trust means full trust. <strong>Fully trusted code can access every single bit of memory in the process.</strong> That includes private fields.</p>\n</li>\n<li><p>The ability to reflect on privates in partial trust is controlled by a permission; if it is not granted then partial trust code may not do reflection on privates.</p>\n</li>\n</ul>\n<p>See <a href=\"https://learn.microsoft.com/en-us/archive/blogs/shawnfa/restrictedmemberaccess\" rel=\"nofollow noreferrer\">Link</a> for details.</p>\n<ul>\n<li>The desktop CLR supports a mode called &quot;restricted skip visibility&quot; in which the rules for how reflection and the security system interact are slightly different. Basically,\npartially trusted code that has the right to use private reflection may access a private field via reflection if the partially trusted code is accessing a private field from a type that comes from an assembly with <em>equal</em> or <em>less</em> trust.</li>\n</ul>\n<p>See</p>\n<p><a href=\"https://learn.microsoft.com/en-us/archive/blogs/shawnfa/using-lightweight-codegen-from-partial-trust\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>for details</p>\n<p>The executive summary is: you <em>can</em> lock partially trusted code down sufficiently that it is not able to use reflection to look at private stuff. You <em>cannot</em> lock down full trust code; that's why it's called &quot;full trust&quot;. If you want to restrict it then <em>don't trust it</em>.</p>\n<p>So: does making a field private protect it from the threat of low trust code attempting to read it, and thereby steal user's data? <em>Yes</em>. Does it protect it from the threat of <em>high trust</em> code reading it? <em>No</em>. If the code is both trusted by the user and hostile to the user <em>then the user has a big problem</em>.  They should not have trusted that code.</p>\n<p>Note that for example, making a field private does not protect <em>a secret in your code</em> from <em>a user who has your code and is hostile to you</em>. The security system protects <em>good users</em> from <em>evil code</em>. It doesn't protect <em>good code</em> from <em>evil users</em>. If you want to make something private to keep it from a <em>user</em> then you are on a fool's errand. If you want to make it private to keep a secret from <em>evil hackers who have lured the user into running hostile low-trust code</em> then that is a good technique.</p>\n"}],"owner":{"account_id":138207,"reputation":25529,"user_id":342984,"accept_rate":76,"display_name":"Ben"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6217,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":3304350,"answer_count":14,"score":30,"last_activity_date":1677240508,"creation_date":1279724453,"question_id":3300680,"body_markdown":"Does reflection break the idea of private methods? Because private methods can be accessed from outside of the class? (Maybe I don&#39;t understand the meaning of reflection or miss something else, please tell me)\r\n[http://en.wikipedia.org/wiki/Reflection_%28computer_science%29][1]\r\n\r\n**Edit:**\r\nIf relection breaks the idea of private methods - do we use private methods only for program logic and not for program security?\r\n\r\nThanks\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Reflection_%28computer_science%29","title":"Does reflection breaks the idea of private methods, because private methods can be access outside of the class?","body":"<p>Does reflection break the idea of private methods? Because private methods can be accessed from outside of the class? (Maybe I don't understand the meaning of reflection or miss something else, please tell me)\n<a href=\"http://en.wikipedia.org/wiki/Reflection_%28computer_science%29\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Reflection_%28computer_science%29</a></p>\n\n<p><strong>Edit:</strong>\nIf relection breaks the idea of private methods - do we use private methods only for program logic and not for program security?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","saxon","schematron"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1677231602,"post_id":75546128,"comment_id":133301020,"body_markdown":"It is hard to tell without more details whether this is a bug in the Schematron library you use, its interaction with the Saxon HE library it seems to rely on or a bug in Saxon itself. I would suggest to file a bug or support report on the library producer. If you want to experiment on your own, it seems the 7.1.0 version uses Saxon 12, while 7.0.1 uses Saxon 11 (stable branch), so for testing you could check whether your code runs through with 7.0.1. As an alternative, of course with e.g. Schxslt there are other Schematron implementations for Java https://github.com/schxslt/schxslt","body":"It is hard to tell without more details whether this is a bug in the Schematron library you use, its interaction with the Saxon HE library it seems to rely on or a bug in Saxon itself. I would suggest to file a bug or support report on the library producer. If you want to experiment on your own, it seems the 7.1.0 version uses Saxon 12, while 7.0.1 uses Saxon 11 (stable branch), so for testing you could check whether your code runs through with 7.0.1. As an alternative, of course with e.g. Schxslt there are other Schematron implementations for Java <a href=\"https://github.com/schxslt/schxslt\" rel=\"nofollow noreferrer\">github.com/schxslt/schxslt</a>"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1677232707,"post_id":75546128,"comment_id":133301336,"body_markdown":"Perhaps @PhilipHelger can tell you more.","body":"Perhaps @PhilipHelger can tell you more."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1677233329,"post_id":75546128,"comment_id":133301511,"body_markdown":"His repository seems to be at https://github.com/phax/ph-schematron so perhaps raise an issue there with all the details allowing him tell whether it is a bug in his implementation or some other problem he could fix or just a problem with your schematron schema or instance document.","body":"His repository seems to be at <a href=\"https://github.com/phax/ph-schematron\" rel=\"nofollow noreferrer\">github.com/phax/ph-schematron</a> so perhaps raise an issue there with all the details allowing him tell whether it is a bug in his implementation or some other problem he could fix or just a problem with your schematron schema or instance document."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1677234913,"post_id":75546128,"comment_id":133301928,"body_markdown":"The relevant Saxon code is at https://saxonica.plan.io/projects/saxonmirrorhe/repository/he/revisions/he_mirror_saxon_12_0/entry/src/main/java/net/sf/saxon/expr/sort/GenericAtomicComparer.java#L248, I think, creating a lambda `return (a, b, context) -&gt; a.equals(b);`, the error suggests `a` is null. Hard to tell why that occurs without the sample data triggering the error.","body":"The relevant Saxon code is at <a href=\"https://saxonica.plan.io/projects/saxonmirrorhe/repository/he/revisions/he_mirror_saxon_12_0/entry/src/main/java/net/sf/saxon/expr/sort/GenericAtomicComparer.java#L248\" rel=\"nofollow noreferrer\">saxonica.plan.io/projects/saxonmirrorhe/repository/he/revisi&zwnj;&#8203;ons/&hellip;</a>, I think, creating a lambda <code>return (a, b, context) -&gt; a.equals(b);</code>, the error suggests <code>a</code> is null. Hard to tell why that occurs without the sample data triggering the error."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1677235471,"post_id":75546128,"comment_id":133302066,"body_markdown":"The Saxon code seems to be used from https://github.com/phax/ph-schematron/blob/ph-schematron-parent-pom-7.1.0/ph-schematron-pure/src/main/java/com/helger/schematron/pure/xpath/XPathEvaluationHelper.java#L49.","body":"The Saxon code seems to be used from <a href=\"https://github.com/phax/ph-schematron/blob/ph-schematron-parent-pom-7.1.0/ph-schematron-pure/src/main/java/com/helger/schematron/pure/xpath/XPathEvaluationHelper.java#L49\" rel=\"nofollow noreferrer\">github.com/phax/ph-schematron/blob/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677240499,"creation_date":1677240499,"answer_id":75556388,"question_id":75546128,"body_markdown":"A NullPointerException deep in Saxon code is *prima facie* a bug: even if the caller did something wrong, we should have detected it earlier and produced better diagnostics.\r\n\r\nThe most likely explanation for an NPE at this place in the code is that some expression evaluated to an empty sequence, and Saxon didn&#39;t check for this because its static analysis suggested that an empty result wasn&#39;t possible at that point.\r\n\r\nHappy to look at it if you can construct a repro and submit it at saxonica.plan.io.","title":"Schematron Peppol validation","body":"<p>A NullPointerException deep in Saxon code is <em>prima facie</em> a bug: even if the caller did something wrong, we should have detected it earlier and produced better diagnostics.</p>\n<p>The most likely explanation for an NPE at this place in the code is that some expression evaluated to an empty sequence, and Saxon didn't check for this because its static analysis suggested that an empty result wasn't possible at that point.</p>\n<p>Happy to look at it if you can construct a repro and submit it at saxonica.plan.io.</p>\n"}],"owner":{"account_id":3845096,"reputation":126,"user_id":3186906,"display_name":"viglu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677240499,"creation_date":1677162320,"question_id":75546128,"body_markdown":"I&#39;m using &#39;com.helger.schematron:ph-schematron-pure:7.1.0&#39; and I&#39;m trying to valid my peppol xml agains the schematron file &#39;CEN-EN16931-UBL.sch&#39;\r\n\r\nHere my code to valid and outpout the errors:\r\n\r\n\r\n            final var res = SchematronResourcePure.fromFile(new File(&quot;CEN-EN16931-UBL.sch&quot;));\r\n            //if (!res.isValidSchematron())\r\n            //    throw new IllegalArgumentException(&quot;Invalid Schematron!&quot;);\r\n            res.setErrorHandler(new IPSErrorHandler() {\r\n                @Override\r\n                public void handleError(@Nonnull final IError aError) {\r\n    \r\n                    System.out.println(aError.toString());\r\n                }\r\n            });            \r\n            final SchematronOutputType schematronOutputType = res.applySchematronValidationToSVRL(new StreamSource(new StringReader(xml)));\r\n            SVRLHelper.getAllFailedAssertions(schematronOutputType);\r\n\r\n\r\n\r\nBut I get an NullPointerException. Any idea from where this &quot;null&quot; is coming ?\r\n\r\n\r\n    15:17:00.219 [main] DEBUG com.helger.commons.lang.ServiceLoaderHelper - Finished retrieving all 1 SPI implementations of interface com.helger.commons.hashcode.IHashCodeImplementationRegistrarSPI\r\n    15:17:00.235 [main] DEBUG com.helger.commons.hashcode.HashCodeImplementationRegistry - Reinitialized com.helger.commons.hashcode.HashCodeImplementationRegistry\r\n    15:17:00.793 [main] DEBUG com.helger.schematron.pure.preprocess.PSPreprocessor - Schematron does not need any preprocessing. Returning Schema as-is.\r\n    15:17:00.805 [main] DEBUG com.helger.schematron.pure.bound.xpath.PSXPathBoundSchema - Binding pure Schematron\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;net.sf.saxon.value.AtomicValue.equals(Object)&quot; because &quot;a&quot; is null\r\n    \tat net.sf.saxon.expr.sort.GenericAtomicComparer.lambda$makeAtomicComparisonFunction$6(GenericAtomicComparer.java:248)\r\n    \tat net.sf.saxon.expr.ValueComparison$ValueComparisonElaborator.lambda$elaborateForBoolean$4(ValueComparison.java:620)\r\n    \tat net.sf.saxon.expr.FilterExpression$FilterExprElaborator$SimpleFilteredIterator.next(FilterExpression.java:1391)\r\n    \tat net.sf.saxon.om.SequenceTool.supply(SequenceTool.java:145)\r\n    \tat net.sf.saxon.expr.sort.DocumentOrderIterator.&lt;init&gt;(DocumentOrderIterator.java:41)\r\n    \tat net.sf.saxon.expr.sort.DocumentSorter$DocumentSorterElaborator.lambda$elaborateForPull$0(DocumentSorter.java:331)\r\n    \tat net.sf.saxon.functions.Count$CountFnElaborator.lambda$elaborateForItem$0(Count.java:135)\r\n    \tat net.sf.saxon.expr.ValueComparison$ValueComparisonElaborator.lambda$elaborateForBoolean$4(ValueComparison.java:620)\r\n    \tat net.sf.saxon.xpath.XPathExpressionImpl.evaluate(XPathExpressionImpl.java:181)\r\n    \tat com.helger.schematron.pure.xpath.XPathEvaluationHelper.evaluate(XPathEvaluationHelper.java:63)\r\n    \tat com.helger.schematron.pure.xpath.XPathEvaluationHelper.evaluateAsBoolean(XPathEvaluationHelper.java:70)\r\n    \tat com.helger.schematron.pure.bound.xpath.PSXPathBoundSchema._validateSerial(PSXPathBoundSchema.java:739)\r\n    \tat com.helger.schematron.pure.bound.xpath.PSXPathBoundSchema.validate(PSXPathBoundSchema.java:807)\r\n    \tat com.helger.schematron.pure.bound.AbstractPSBoundSchema.validateComplete(AbstractPSBoundSchema.java:259)\r\n    \tat com.helger.schematron.pure.SchematronResourcePure.applySchematronValidationToSVRL(SchematronResourcePure.java:394)\r\n    \tat com.helger.schematron.AbstractSchematronResource.applySchematronValidationToSVRL(AbstractSchematronResource.java:286)\r\n\r\n\r\n\r\n","title":"Schematron Peppol validation","body":"<p>I'm using 'com.helger.schematron:ph-schematron-pure:7.1.0' and I'm trying to valid my peppol xml agains the schematron file 'CEN-EN16931-UBL.sch'</p>\n<p>Here my code to valid and outpout the errors:</p>\n<pre><code>        final var res = SchematronResourcePure.fromFile(new File(&quot;CEN-EN16931-UBL.sch&quot;));\n        //if (!res.isValidSchematron())\n        //    throw new IllegalArgumentException(&quot;Invalid Schematron!&quot;);\n        res.setErrorHandler(new IPSErrorHandler() {\n            @Override\n            public void handleError(@Nonnull final IError aError) {\n\n                System.out.println(aError.toString());\n            }\n        });            \n        final SchematronOutputType schematronOutputType = res.applySchematronValidationToSVRL(new StreamSource(new StringReader(xml)));\n        SVRLHelper.getAllFailedAssertions(schematronOutputType);\n</code></pre>\n<p>But I get an NullPointerException. Any idea from where this &quot;null&quot; is coming ?</p>\n<pre><code>15:17:00.219 [main] DEBUG com.helger.commons.lang.ServiceLoaderHelper - Finished retrieving all 1 SPI implementations of interface com.helger.commons.hashcode.IHashCodeImplementationRegistrarSPI\n15:17:00.235 [main] DEBUG com.helger.commons.hashcode.HashCodeImplementationRegistry - Reinitialized com.helger.commons.hashcode.HashCodeImplementationRegistry\n15:17:00.793 [main] DEBUG com.helger.schematron.pure.preprocess.PSPreprocessor - Schematron does not need any preprocessing. Returning Schema as-is.\n15:17:00.805 [main] DEBUG com.helger.schematron.pure.bound.xpath.PSXPathBoundSchema - Binding pure Schematron\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;net.sf.saxon.value.AtomicValue.equals(Object)&quot; because &quot;a&quot; is null\n    at net.sf.saxon.expr.sort.GenericAtomicComparer.lambda$makeAtomicComparisonFunction$6(GenericAtomicComparer.java:248)\n    at net.sf.saxon.expr.ValueComparison$ValueComparisonElaborator.lambda$elaborateForBoolean$4(ValueComparison.java:620)\n    at net.sf.saxon.expr.FilterExpression$FilterExprElaborator$SimpleFilteredIterator.next(FilterExpression.java:1391)\n    at net.sf.saxon.om.SequenceTool.supply(SequenceTool.java:145)\n    at net.sf.saxon.expr.sort.DocumentOrderIterator.&lt;init&gt;(DocumentOrderIterator.java:41)\n    at net.sf.saxon.expr.sort.DocumentSorter$DocumentSorterElaborator.lambda$elaborateForPull$0(DocumentSorter.java:331)\n    at net.sf.saxon.functions.Count$CountFnElaborator.lambda$elaborateForItem$0(Count.java:135)\n    at net.sf.saxon.expr.ValueComparison$ValueComparisonElaborator.lambda$elaborateForBoolean$4(ValueComparison.java:620)\n    at net.sf.saxon.xpath.XPathExpressionImpl.evaluate(XPathExpressionImpl.java:181)\n    at com.helger.schematron.pure.xpath.XPathEvaluationHelper.evaluate(XPathEvaluationHelper.java:63)\n    at com.helger.schematron.pure.xpath.XPathEvaluationHelper.evaluateAsBoolean(XPathEvaluationHelper.java:70)\n    at com.helger.schematron.pure.bound.xpath.PSXPathBoundSchema._validateSerial(PSXPathBoundSchema.java:739)\n    at com.helger.schematron.pure.bound.xpath.PSXPathBoundSchema.validate(PSXPathBoundSchema.java:807)\n    at com.helger.schematron.pure.bound.AbstractPSBoundSchema.validateComplete(AbstractPSBoundSchema.java:259)\n    at com.helger.schematron.pure.SchematronResourcePure.applySchematronValidationToSVRL(SchematronResourcePure.java:394)\n    at com.helger.schematron.AbstractSchematronResource.applySchematronValidationToSVRL(AbstractSchematronResource.java:286)\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1677237945,"post_id":75555963,"comment_id":133302767,"body_markdown":"I can comment here that `Lob` and `TEXT` do _not_ do the same thing in Postgres.","body":"I can comment here that <code>Lob</code> and <code>TEXT</code> do <i>not</i> do the same thing in Postgres."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677238502,"post_id":75555963,"comment_id":133302906,"body_markdown":"@Tim Could you explain a little bit more and share your opinion about the most proper one for this scenario?","body":"@Tim Could you explain a little bit more and share your opinion about the most proper one for this scenario?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677240287,"post_id":75555963,"comment_id":133303366,"body_markdown":"@TimBiegeleisen And should I also use `columnDefinition` with `@Lob`? If so, should its value be &quot;TEXT&quot; or &quot;CLOB&quot;?","body":"@TimBiegeleisen And should I also use <code>columnDefinition</code> with <code>@Lob</code>? If so, should its value be &quot;TEXT&quot; or &quot;CLOB&quot;?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677240909,"post_id":75555963,"comment_id":133303540,"body_markdown":"@TimBiegeleisen What would you suggest chico?","body":"@TimBiegeleisen What would you suggest chico?"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1677240956,"post_id":75555963,"comment_id":133303550,"body_markdown":"The behavior is different on each database.  If you want an answer here, you should specify your actual database.","body":"The behavior is different on each database.  If you want an answer here, you should specify your actual database."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677241367,"post_id":75555963,"comment_id":133303664,"body_markdown":"PostgreSQL or MySQL.","body":"PostgreSQL or MySQL."}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677240269,"creation_date":1677237774,"question_id":75555963,"body_markdown":"In my Spring Boot app, I want to keep some text fields e.g. `comment` and as far as I know, I can use `@Lob` or `columnDefinition = &quot;TEXT&quot;` feature in the related Entity column. There are some pros and cons, but I am not sure which one is suitable for using PostgreSQL, MySQL and SQL Server. \r\n\r\nSo, should I use `@Lob` or `columnDefinition = &quot;TEXT&quot;` ? And is the following usage a proper usage for each of these? \r\n\r\n```\r\n@Lob\r\n@org.hibernate.annotations.Type(type = &quot;org.hibernate.type.TextType&quot;)\r\nprivate String instructions;\r\n```\r\n\r\n\r\n\r\nor \r\n\r\n```\r\n@Column(name = &quot;body&quot;, columnDefinition = &quot;TEXT&quot;)\r\nprivate String body;\r\n```\r\n\r\nAnd should I also use `columnDefinition` with `@Lob`? If so, should its value be &quot;TEXT&quot; or &quot;CLOB&quot;?","title":"Mapping LOB Data in Hibernate","body":"<p>In my Spring Boot app, I want to keep some text fields e.g. <code>comment</code> and as far as I know, I can use <code>@Lob</code> or <code>columnDefinition = &quot;TEXT&quot;</code> feature in the related Entity column. There are some pros and cons, but I am not sure which one is suitable for using PostgreSQL, MySQL and SQL Server.</p>\n<p>So, should I use <code>@Lob</code> or <code>columnDefinition = &quot;TEXT&quot;</code> ? And is the following usage a proper usage for each of these?</p>\n<pre><code>@Lob\n@org.hibernate.annotations.Type(type = &quot;org.hibernate.type.TextType&quot;)\nprivate String instructions;\n</code></pre>\n<p>or</p>\n<pre><code>@Column(name = &quot;body&quot;, columnDefinition = &quot;TEXT&quot;)\nprivate String body;\n</code></pre>\n<p>And should I also use <code>columnDefinition</code> with <code>@Lob</code>? If so, should its value be &quot;TEXT&quot; or &quot;CLOB&quot;?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2406105,"reputation":15821,"user_id":2102532,"accept_rate":67,"display_name":"meskobalazs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677240130,"creation_date":1677240130,"answer_id":75556349,"question_id":75556233,"body_markdown":"Annotation values has to be known at compilation time, i.e. you can&#39;t set them dynamically. But in Spring you can use EL expressions to circumvent this, so the value will come from configuration instead. For example see Chapter 8 here: https://www.baeldung.com/spring-scheduled-tasks\r\n\r\nIn this particular case you could use\r\n```\r\n@Scheduled(cron=&quot;${my.cron.expression}&quot;)\r\n```\r\n\r\nthen you should set the property value in XML.\r\n","title":"How to Pass Variable in Annotation attribute","body":"<p>Annotation values has to be known at compilation time, i.e. you can't set them dynamically. But in Spring you can use EL expressions to circumvent this, so the value will come from configuration instead. For example see Chapter 8 here: <a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-scheduled-tasks</a></p>\n<p>In this particular case you could use</p>\n<pre><code>@Scheduled(cron=&quot;${my.cron.expression}&quot;)\n</code></pre>\n<p>then you should set the property value in XML.</p>\n"}],"owner":{"account_id":25252657,"reputation":31,"user_id":19084912,"display_name":"Mustafa_Dahodwala 19_13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677240907,"accepted_answer_id":75556349,"answer_count":1,"score":0,"last_activity_date":1677240227,"creation_date":1677239373,"question_id":75556233,"body_markdown":"How to pass the annotation attribute.\r\nI wanted to add my variable String(ans) in the Cron annotation but i am getting exception can you please suggest me how can i do it.\r\n\r\nI wanted to get the corn pattern from the database and store it to the ans variable which is creating issue.\r\n\r\n        @Service\r\n    public class CronService {\r\n    \t\r\n    \t@Autowired\r\n    \tUserDao userdao;\r\n    \t\r\n    \tString ans=&quot;* * * * * *&quot;;\r\n    \t\r\n    \t@Scheduled(cron=&quot;{ans}&quot;)\r\n    \tpublic void add() {\r\n    \t\tSystem.out.println(&quot;Hello&quot;);\r\n    \t}\r\n    \r\n    }","title":"How to Pass Variable in Annotation attribute","body":"<p>How to pass the annotation attribute.\nI wanted to add my variable String(ans) in the Cron annotation but i am getting exception can you please suggest me how can i do it.</p>\n<p>I wanted to get the corn pattern from the database and store it to the ans variable which is creating issue.</p>\n<pre><code>    @Service\npublic class CronService {\n    \n    @Autowired\n    UserDao userdao;\n    \n    String ans=&quot;* * * * * *&quot;;\n    \n    @Scheduled(cron=&quot;{ans}&quot;)\n    public void add() {\n        System.out.println(&quot;Hello&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","csv"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1421928833,"post_id":28088211,"comment_id":44553710,"body_markdown":"You should avoid reading the empty lines at all. That means, the returned List of String arrays should not contain empty entries. Therefore, update your `readCSVFile` method.","body":"You should avoid reading the empty lines at all. That means, the returned List of String arrays should not contain empty entries. Therefore, update your <code>readCSVFile</code> method."}],"answers":[{"tags":[],"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1421928729,"creation_date":1421928729,"answer_id":28088465,"question_id":28088211,"body_markdown":"You could check the length and the first element. If the line contains only a field separator then the lenght &gt; 1. If the line contains a single `space` character then the first element is not empty.\r\n\r\n    if (rowItemsArray.length == 1 &amp;&amp; rowItemsArray[0].isEmpty()) {\r\n        continue;\r\n    }\r\n","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>You could check the length and the first element. If the line contains only a field separator then the lenght > 1. If the line contains a single <code>space</code> character then the first element is not empty.</p>\n\n<pre><code>if (rowItemsArray.length == 1 &amp;&amp; rowItemsArray[0].isEmpty()) {\n    continue;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3696024,"reputation":1695,"user_id":3077349,"accept_rate":91,"display_name":"chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421929388,"creation_date":1421929388,"answer_id":28088689,"question_id":28088211,"body_markdown":"You could summarize all string values per row after trimming them. If the resulting string is empty, there are no values in any cell. In that case ignore the line.&lt;br&gt;\r\nSomething like this:&lt;br&gt;\r\n\r\n    private boolean onlyEmptyCells(ArrayList&lt;String&gt; check) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (String s : check) {\r\n            sb.append(s.trim());\r\n        }\r\n        return sb.toString().isEmpty(); //&lt;- ignore &#39;check&#39; if this returns true\r\n    }","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>You could summarize all string values per row after trimming them. If the resulting string is empty, there are no values in any cell. In that case ignore the line.<br>\nSomething like this:<br></p>\n\n<pre><code>private boolean onlyEmptyCells(ArrayList&lt;String&gt; check) {\n    StringBuilder sb = new StringBuilder();\n    for (String s : check) {\n        sb.append(s.trim());\n    }\n    return sb.toString().isEmpty(); //&lt;- ignore 'check' if this returns true\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16097177,"reputation":146,"user_id":11649143,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1580717972,"creation_date":1578413504,"answer_id":59632090,"question_id":28088211,"body_markdown":"For opencsv 5.0 there is an API-option to read CSV lines directly into a Bean.\r\n\r\nFor people who prefer using the &quot;CsvToBean&quot; feature, the following solution is using the (sadly deprecated) #withFilter(..) method on CsvToBeanBuilder to skip blank lines in the Inputstream:\r\n\r\n```\r\nInputStream inputStream; // provided\r\nList&lt;MyBean&gt; data = new CsvToBeanBuilder(new BufferedReader(new InputStreamReader(inputStream)))\r\n\t.withType(MyBean.class)\r\n\t.withFilter(new CsvToBeanFilter() {\r\n\t\t/*\r\n\t\t * This filter ignores empty lines from the input\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic boolean allowLine(String[] strings) {\r\n\t\t\tfor (String one : strings) {\r\n\t\t\t\tif (one != null &amp;&amp; one.length() &gt; 0) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}).build().parse();\r\n```\r\n\r\n**Update**: With opencsv Release 5.1 (dated 2/2/2020), CsvToBeanFilter got undeprecated as per feature request [#120][1].\r\n\r\n\r\n  [1]: https://sourceforge.net/p/opencsv/feature-requests/120/","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>For opencsv 5.0 there is an API-option to read CSV lines directly into a Bean.</p>\n\n<p>For people who prefer using the \"CsvToBean\" feature, the following solution is using the (sadly deprecated) #withFilter(..) method on CsvToBeanBuilder to skip blank lines in the Inputstream:</p>\n\n<pre><code>InputStream inputStream; // provided\nList&lt;MyBean&gt; data = new CsvToBeanBuilder(new BufferedReader(new InputStreamReader(inputStream)))\n    .withType(MyBean.class)\n    .withFilter(new CsvToBeanFilter() {\n        /*\n         * This filter ignores empty lines from the input\n         */\n        @Override\n        public boolean allowLine(String[] strings) {\n            for (String one : strings) {\n                if (one != null &amp;&amp; one.length() &gt; 0) {\n                    return true;\n                }\n            }\n            return false;\n        }\n    }).build().parse();\n</code></pre>\n\n<p><strong>Update</strong>: With opencsv Release 5.1 (dated 2/2/2020), CsvToBeanFilter got undeprecated as per feature request <a href=\"https://sourceforge.net/p/opencsv/feature-requests/120/\" rel=\"noreferrer\">#120</a>.</p>\n"},{"tags":[],"owner":{"account_id":14202653,"reputation":77,"user_id":10260158,"display_name":"Patrik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634212753,"creation_date":1634197476,"answer_id":69566863,"question_id":28088211,"body_markdown":"Here is an updated solution with lambdas based on [@Martin][1]&#39;s [solution][2]:\r\n```\r\nInputStream inputStream; // provided\r\nList&lt;MyBean&gt; data = new CsvToBeanBuilder(new BufferedReader(new InputStreamReader(inputStream)))\r\n    .withType(MyBean.class)\r\n    // This filter ignores empty lines from the input\r\n    .withFilter(stringValues -&gt; Arrays.stream(stringValues)\r\n        .anyMatch(value -&gt; value != null &amp;&amp; value.length() &gt; 0))\r\n    .build()\r\n    .parse();\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/11649143/martin\r\n  [2]: https://stackoverflow.com/a/59632090/6045800","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>Here is an updated solution with lambdas based on <a href=\"https://stackoverflow.com/users/11649143/martin\">@Martin</a>'s <a href=\"https://stackoverflow.com/a/59632090/6045800\">solution</a>:</p>\n<pre><code>InputStream inputStream; // provided\nList&lt;MyBean&gt; data = new CsvToBeanBuilder(new BufferedReader(new InputStreamReader(inputStream)))\n    .withType(MyBean.class)\n    // This filter ignores empty lines from the input\n    .withFilter(stringValues -&gt; Arrays.stream(stringValues)\n        .anyMatch(value -&gt; value != null &amp;&amp; value.length() &gt; 0))\n    .build()\n    .parse();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115173,"reputation":3150,"user_id":302517,"display_name":"JiP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635508303,"creation_date":1635508303,"answer_id":69768401,"question_id":28088211,"body_markdown":"If you do not parse into a Bean, you can use Java Streams API to help you with filtering of invalid CSV rows. My approach is like this (where &lt;code&gt;is&lt;/code&gt; is &lt;code&gt;java.io.InputStream&lt;/code&gt; instance with CSV data and &lt;code&gt;YourBean map(String[] row)&lt;/code&gt; is your mapping method that maps a CSV row to a your Java object:\r\n\r\n&lt;pre&gt;\r\nCSVParser csvp = new CSVParserBuilder()\r\n    .withSeparator(&#39;;&#39;)\r\n    .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\r\n    .build();\r\nCSVReader csvr = new CSVReaderBuilder(new InputStreamReader(is))\r\n    .withCSVParser(csvp)\r\n    .build();\r\nList&amp;lt;YourBean&gt; result = StreamSupport.stream(csvr.spliterator(), false)\r\n    .filter(Objects::nonNull)\r\n    .filter(row -&gt; row.length &gt; 0)\r\n    .map(row -&gt; map(row))\r\n    .collect(Collectors.toList());\r\n&lt;/pre&gt;","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>If you do not parse into a Bean, you can use Java Streams API to help you with filtering of invalid CSV rows. My approach is like this (where <code>is</code> is <code>java.io.InputStream</code> instance with CSV data and <code>YourBean map(String[] row)</code> is your mapping method that maps a CSV row to a your Java object:</p>\n<pre>\nCSVParser csvp = new CSVParserBuilder()\n    .withSeparator(';')\n    .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\n    .build();\nCSVReader csvr = new CSVReaderBuilder(new InputStreamReader(is))\n    .withCSVParser(csvp)\n    .build();\nList&lt;YourBean> result = StreamSupport.stream(csvr.spliterator(), false)\n    .filter(Objects::nonNull)\n    .filter(row -> row.length > 0)\n    .map(row -> map(row))\n    .collect(Collectors.toList());\n</pre>\n"},{"tags":[],"owner":{"account_id":1336332,"reputation":3448,"user_id":1279002,"accept_rate":44,"display_name":"theINtoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641977941,"creation_date":1641977941,"answer_id":70678732,"question_id":28088211,"body_markdown":"The JavaDoc for [CsvToBeanFilter][1] states &quot;Here&#39;s an example showing how to use CsvToBean that removes empty lines. Since the parser returns an array with a single empty string for a blank line that is what it is checking.&quot; and lists an example of how to do this:\r\n\r\n```\r\nprivate class EmptyLineFilter implements CsvToBeanFilter {\r\n\r\n \tprivate final MappingStrategy strategy;\r\n\r\n \tpublic EmptyLineFilter(MappingStrategy strategy) {\r\n \t\tthis.strategy = strategy;\r\n    }\r\n\r\n \tpublic boolean allowLine(String[] line) {\r\n \t\tboolean blankLine = line.length == 1 &amp;&amp; line[0].isEmpty();\r\n \t\treturn !blankLine;\r\n    }\r\n\r\n }\r\n\r\n public List&lt;Feature&gt; parseCsv(InputStreamReader streamReader) {\r\n \tHeaderColumnNameTranslateMappingStrategy&lt;Feature&gt; strategy = new HeaderColumnNameTranslateMappingStrategy();\r\n \tMap&lt;String, String&gt; columnMap = new HashMap();\r\n \tcolumnMap.put(&quot;FEATURE_NAME&quot;, &quot;name&quot;);\r\n \tcolumnMap.put(&quot;STATE&quot;, &quot;state&quot;);\r\n \tstrategy.setColumnMapping(columnMap);\r\n \tstrategy.setType(Feature.class);\r\n \tCSVReader reader = new CSVReader(streamReader);\r\n \tCsvToBeanFilter filter = new EmptyLineFilter(strategy);\r\n \treturn new CsvToBean().parse(strategy, reader, filter);\r\n }\r\n```\r\n\r\n\r\n  [1]: http://opencsv.sourceforge.net/apidocs/index.html?com/opencsv/bean/CsvToBeanFilter.html","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>The JavaDoc for <a href=\"http://opencsv.sourceforge.net/apidocs/index.html?com/opencsv/bean/CsvToBeanFilter.html\" rel=\"nofollow noreferrer\">CsvToBeanFilter</a> states &quot;Here's an example showing how to use CsvToBean that removes empty lines. Since the parser returns an array with a single empty string for a blank line that is what it is checking.&quot; and lists an example of how to do this:</p>\n<pre><code>private class EmptyLineFilter implements CsvToBeanFilter {\n\n    private final MappingStrategy strategy;\n\n    public EmptyLineFilter(MappingStrategy strategy) {\n        this.strategy = strategy;\n    }\n\n    public boolean allowLine(String[] line) {\n        boolean blankLine = line.length == 1 &amp;&amp; line[0].isEmpty();\n        return !blankLine;\n    }\n\n }\n\n public List&lt;Feature&gt; parseCsv(InputStreamReader streamReader) {\n    HeaderColumnNameTranslateMappingStrategy&lt;Feature&gt; strategy = new HeaderColumnNameTranslateMappingStrategy();\n    Map&lt;String, String&gt; columnMap = new HashMap();\n    columnMap.put(&quot;FEATURE_NAME&quot;, &quot;name&quot;);\n    columnMap.put(&quot;STATE&quot;, &quot;state&quot;);\n    strategy.setColumnMapping(columnMap);\n    strategy.setType(Feature.class);\n    CSVReader reader = new CSVReader(streamReader);\n    CsvToBeanFilter filter = new EmptyLineFilter(strategy);\n    return new CsvToBean().parse(strategy, reader, filter);\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10182669,"reputation":4457,"user_id":7518849,"display_name":"i.karayel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645724553,"creation_date":1645724553,"answer_id":71256097,"question_id":28088211,"body_markdown":"You can use a filter with lambda: like below: \r\n\r\n \r\n    CsvToBean&lt;T&gt; csvToBean = new CsvToBeanBuilder&lt;T&gt;(new StringReader(CSV_HEADER + &quot;\\n&quot; + lines))\r\n        .withType(clazz)\r\n        .withFieldAsNull(CSVReaderNullFieldIndicator.EMPTY_SEPARATORS)\r\n        .withSeparator(delimiter)\r\n        .withSkipLines(skipLines)\r\n        .withIgnoreLeadingWhiteSpace(true).withFilter(strings -&gt; {\r\n          for (String r : strings) {\r\n            if (r != null &amp;&amp; r.length() &gt; 0) {\r\n              return true;\r\n            }\r\n          }\r\n          return false;\r\n        }).build();\r\n\r\n\r\nYour lambda filter: \r\n\r\n    .withFilter(strings -&gt; {\r\n          for (String r : strings) {\r\n            if (r != null &amp;&amp; r.length() &gt; 0) {\r\n              return true;\r\n            }\r\n          }\r\n          return false;\r\n        })\r\n\r\n\r\n\r\n","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>You can use a filter with lambda: like below:</p>\n<pre><code>CsvToBean&lt;T&gt; csvToBean = new CsvToBeanBuilder&lt;T&gt;(new StringReader(CSV_HEADER + &quot;\\n&quot; + lines))\n    .withType(clazz)\n    .withFieldAsNull(CSVReaderNullFieldIndicator.EMPTY_SEPARATORS)\n    .withSeparator(delimiter)\n    .withSkipLines(skipLines)\n    .withIgnoreLeadingWhiteSpace(true).withFilter(strings -&gt; {\n      for (String r : strings) {\n        if (r != null &amp;&amp; r.length() &gt; 0) {\n          return true;\n        }\n      }\n      return false;\n    }).build();\n</code></pre>\n<p>Your lambda filter:</p>\n<pre><code>.withFilter(strings -&gt; {\n      for (String r : strings) {\n        if (r != null &amp;&amp; r.length() &gt; 0) {\n          return true;\n        }\n      }\n      return false;\n    })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10480901,"reputation":230,"user_id":7725929,"accept_rate":87,"display_name":"Muchtar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677238971,"creation_date":1677238971,"answer_id":75556166,"question_id":28088211,"body_markdown":"Another way to do it, is to override the `allowLine()` method of the Class `CsvToBeanFilter` and pass it to `.withFilter()` when building the bean (example in Kotlin, should also work for Java):\r\n\r\n    import com.opencsv.bean.CsvToBeanFilter\r\n    import com.opencsv.bean.CsvToBeanBuilder\r\n    import java.io.FileReader\r\n    \r\n    class NonBlankLinesFilter : CsvToBeanFilter {\r\n        override fun allowLine(line: Array&lt;String?&gt;?): Boolean {\r\n            if (line == null) {\r\n                return false\r\n            }\r\n            for (value in line) {\r\n                if (!value.isNullOrBlank()) {\r\n                    return true\r\n            }\r\n        }\r\n        return false\r\n      }\r\n    }\r\n    \r\n    fun main() {\r\n      val reader = FileReader(&quot;path/to/csv/file.csv&quot;)\r\n    \r\n      val csvToBean = CsvToBeanBuilder&lt;MyBean&gt;(reader)\r\n            .withType(MyBean::class.java)\r\n            .withSeparator(&#39;,&#39;)\r\n            .withFilter(NonBlankLinesFilter())\r\n            .build()\r\n    \r\n      val uploadList = csvToBean.parse()\r\n    \r\n      println(uploadList)\r\n    }\r\n\r\n","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>Another way to do it, is to override the <code>allowLine()</code> method of the Class <code>CsvToBeanFilter</code> and pass it to <code>.withFilter()</code> when building the bean (example in Kotlin, should also work for Java):</p>\n<pre><code>import com.opencsv.bean.CsvToBeanFilter\nimport com.opencsv.bean.CsvToBeanBuilder\nimport java.io.FileReader\n\nclass NonBlankLinesFilter : CsvToBeanFilter {\n    override fun allowLine(line: Array&lt;String?&gt;?): Boolean {\n        if (line == null) {\n            return false\n        }\n        for (value in line) {\n            if (!value.isNullOrBlank()) {\n                return true\n        }\n    }\n    return false\n  }\n}\n\nfun main() {\n  val reader = FileReader(&quot;path/to/csv/file.csv&quot;)\n\n  val csvToBean = CsvToBeanBuilder&lt;MyBean&gt;(reader)\n        .withType(MyBean::class.java)\n        .withSeparator(',')\n        .withFilter(NonBlankLinesFilter())\n        .build()\n\n  val uploadList = csvToBean.parse()\n\n  println(uploadList)\n}\n</code></pre>\n"}],"owner":{"account_id":3623522,"reputation":1510,"user_id":4636482,"accept_rate":76,"display_name":"Sasha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18742,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":28088465,"answer_count":8,"score":8,"last_activity_date":1677238971,"creation_date":1421927880,"question_id":28088211,"body_markdown":"Good day everyone! \r\nMy target is to make csv reader to skip the blank lines while parsing a file, do nothing basically, only get me the rows with at least one value.\r\nAt the moment I have two methods -&gt; 1st is just reading all rows as List of Strings array and returns it, 2nd converts the result into List of Lists of Strings, both are bellow: \r\n\r\n    private List&lt;String[]&gt; readCSVFile(File filename) throws IOException {\r\n    \r\n        CSVReader reader = new CSVReader(new FileReader(filename));\r\n    \tList&lt;String[]&gt; allRows = reader.readAll();\r\n    \t\t\r\n    \treturn allRows;\r\n    \r\n    }\r\n\r\n    public List&lt;List&lt;String&gt;&gt; readFile(File filename) throws IOException {\r\n    \t\t\r\n    \t\tList&lt;String[]&gt; allRows = readCSVFile(filename);\t\t\r\n    \t\tList&lt;List&lt;String&gt;&gt; allRowsAsLists = new ArrayList&lt;List&lt;String&gt;&gt;();\t\t\r\n    \t\tfor (String[] rowItemsArray :  allRows) {\r\n    \t\t\tList&lt;String&gt; rowItems = new ArrayList&lt;String&gt;();\r\n    \t\t\trowItems.addAll(Arrays.asList(rowItemsArray));\r\n    \t\t\tallRowsAsLists.add(rowItems);\r\n    \t\t\t\r\n    \t\t}\r\n    \treturn allRowsAsLists;\r\n    \t\r\n    }\r\n\r\nMy first thought was to check (in the 2&#39;nd method) the length of an array if its 0 just to ignore it - which would be something like this: \r\n\r\n    for (String[] rowItemsArray :  allRows) {\r\n                **if(rowItemArray.length == 0) continue;**\r\n    \t\t\tList&lt;String&gt; rowItems = new ArrayList&lt;String&gt;();\r\n    \t\t\trowItems.addAll(Arrays.asList(rowItemsArray));\r\n    \t\t\tallRowsAsLists.add(rowItems);\r\n    \t\t\t\r\n    }  \r\n\r\nUnfortunately that didn&#39;t work for the reason that even if the row is blank it still returns an array of elements - empty Strings in fact. Checking an individual String is not an option as there are 100+ columns and this is variable. \r\nPlease suggest what’s the best way to achieve this.\r\nThanks.\r\n\r\n\r\n\r\nSorted it out this way:\r\n\r\n        public List&lt;List&lt;String&gt;&gt; readFile(File filename) throws IOException {\r\n        \t\t\r\n        \t\tList&lt;String[]&gt; allRows = readCSVFile(filename, includeHeaders, trimWhitespacesInFieldValues);\t\t\r\n        \t\tList&lt;List&lt;String&gt;&gt; allRowsAsLists = new ArrayList&lt;List&lt;String&gt;&gt;();\t\t\r\n        \t\tfor (String[] rowItemsArray :  allRows) {\r\n        \t\t\t**if(allValuesInRowAreEmpty(rowItemsArray)) continue;**\r\n        \t\t\tList&lt;String&gt; rowItems = new ArrayList&lt;String&gt;();\r\n        \t\t\trowItems.addAll(Arrays.asList(rowItemsArray));\r\n        \t\t\tallRowsAsLists.add(rowItems);\r\n        \t\t\t\r\n        \t\t}\r\n        \t\treturn allRowsAsLists;\r\n        \t\t\r\n        \t}\r\n    \r\n        private boolean allValuesInRowAreEmpty(String[] row) {\r\n    \t\tboolean returnValue = true;\r\n    \t\tfor (String s : row) {\r\n    \t\t\tif (s.length() != 0) {\r\n    \t\t\t\treturnValue = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn returnValue;\r\n    \t}","title":"Skip blank lines while reading .csv file using opencsv (java)","body":"<p>Good day everyone! \nMy target is to make csv reader to skip the blank lines while parsing a file, do nothing basically, only get me the rows with at least one value.\nAt the moment I have two methods -> 1st is just reading all rows as List of Strings array and returns it, 2nd converts the result into List of Lists of Strings, both are bellow: </p>\n\n<pre><code>private List&lt;String[]&gt; readCSVFile(File filename) throws IOException {\n\n    CSVReader reader = new CSVReader(new FileReader(filename));\n    List&lt;String[]&gt; allRows = reader.readAll();\n\n    return allRows;\n\n}\n\npublic List&lt;List&lt;String&gt;&gt; readFile(File filename) throws IOException {\n\n        List&lt;String[]&gt; allRows = readCSVFile(filename);     \n        List&lt;List&lt;String&gt;&gt; allRowsAsLists = new ArrayList&lt;List&lt;String&gt;&gt;();      \n        for (String[] rowItemsArray :  allRows) {\n            List&lt;String&gt; rowItems = new ArrayList&lt;String&gt;();\n            rowItems.addAll(Arrays.asList(rowItemsArray));\n            allRowsAsLists.add(rowItems);\n\n        }\n    return allRowsAsLists;\n\n}\n</code></pre>\n\n<p>My first thought was to check (in the 2'nd method) the length of an array if its 0 just to ignore it - which would be something like this: </p>\n\n<pre><code>for (String[] rowItemsArray :  allRows) {\n            **if(rowItemArray.length == 0) continue;**\n            List&lt;String&gt; rowItems = new ArrayList&lt;String&gt;();\n            rowItems.addAll(Arrays.asList(rowItemsArray));\n            allRowsAsLists.add(rowItems);\n\n}  \n</code></pre>\n\n<p>Unfortunately that didn't work for the reason that even if the row is blank it still returns an array of elements - empty Strings in fact. Checking an individual String is not an option as there are 100+ columns and this is variable. \nPlease suggest what’s the best way to achieve this.\nThanks.</p>\n\n<p>Sorted it out this way:</p>\n\n<pre><code>    public List&lt;List&lt;String&gt;&gt; readFile(File filename) throws IOException {\n\n            List&lt;String[]&gt; allRows = readCSVFile(filename, includeHeaders, trimWhitespacesInFieldValues);       \n            List&lt;List&lt;String&gt;&gt; allRowsAsLists = new ArrayList&lt;List&lt;String&gt;&gt;();      \n            for (String[] rowItemsArray :  allRows) {\n                **if(allValuesInRowAreEmpty(rowItemsArray)) continue;**\n                List&lt;String&gt; rowItems = new ArrayList&lt;String&gt;();\n                rowItems.addAll(Arrays.asList(rowItemsArray));\n                allRowsAsLists.add(rowItems);\n\n            }\n            return allRowsAsLists;\n\n        }\n\n    private boolean allValuesInRowAreEmpty(String[] row) {\n        boolean returnValue = true;\n        for (String s : row) {\n            if (s.length() != 0) {\n                returnValue = false;\n            }\n        }\n        return returnValue;\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":1,"creation_date":1677239310,"post_id":75556150,"comment_id":133303105,"body_markdown":"Does this answer your question? [How to view the SQL queries issued by JPA?](https://stackoverflow.com/questions/4362876/how-to-view-the-sql-queries-issued-by-jpa)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4362876/how-to-view-the-sql-queries-issued-by-jpa\">How to view the SQL queries issued by JPA?</a>"},{"owner":{"account_id":1028947,"reputation":150,"user_id":1037652,"display_name":"Pete North"},"score":0,"creation_date":1677240502,"post_id":75556150,"comment_id":133303424,"body_markdown":"Sadly not. This is in a bespoke environment, not Java.","body":"Sadly not. This is in a bespoke environment, not Java."},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":1,"creation_date":1677244204,"post_id":75556150,"comment_id":133304482,"body_markdown":"Then I would suggest to add more details here in your question.","body":"Then I would suggest to add more details here in your question."}],"owner":{"account_id":1028947,"reputation":150,"user_id":1037652,"display_name":"Pete North"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677238852,"creation_date":1677238852,"question_id":75556150,"body_markdown":"We have a system built in Java and we can create custom javascript &quot;macros&quot; in it. It uses Java entities but I have zero exposure to Java. I&#39;m trying to debug the following because the sql doesn&#39;t seem to work. In PHP I would use something like var_dump to see what the sql statement actually looks like. \r\n\r\nIs there a way to see what &quot; getEntityManager().createNativeQuery(sqlStr)&quot; is actually sending? \r\n\r\n```\r\nfunction insertTempHeaderRecord(filereadid, lineArray){\r\n\ttry{\r\n\t\tvar sqlStr=&quot;INSERT INTO vl_edisalesorder (filereadid, edifilename, customerid, deladdressid, contactid, &quot;\r\n\t\t&quot;pricelistid, customerref, orderdate, delivercontact, delivertelephone, taillift, bookdelivery, deliveryins, orderid &quot;+\r\n\t\t&quot; VALUES (:param0, :param1, :param2, :param3, :param4, :param5, :param6, :param7, :param8, :param9, :param10, :param11, :param12, :param13) &quot;;\r\n\t\tgetEntityManager().createNativeQuery(sqlStr)\r\n\t\t\t.setParameter(&quot;param0&quot;, filereadid)\t\t\t\r\n\t\t\t.setParameter(&quot;param1&quot;, filereadid)\r\n\t\t\t.setParameter(&quot;param2&quot;, trimTo(lineArray[3],10))  //traderid\r\n\t\t\t.setParameter(&quot;param3&quot;, trimTo(lineArray[4], 10))  //deladd\r\n\t\t\t.setParameter(&quot;param4&quot;, trimTo(lineArray[5],10))   //contactid\r\n\t\t\t.setParameter(&quot;param5&quot;, &quot;0536&quot;)\r\n\t\t\t.setParameter(&quot;param6&quot;, trimTo(lineArray[2],25))   //custref\r\n\t\t\t.setParameter(&quot;param7&quot;, Packages.java.sql.Date(orderdate.getTime()))\r\n\t\t\t.setParameter(&quot;param8&quot;, trimTo(lineArray[8],25))  //delcontact\r\n\t\t\t.setParameter(&quot;param9&quot;, trimTo(lineArray[6],20)) //deltel  \r\n\t\t\t.setParameter(&quot;param10&quot;, importer.Boolean.valueOf(lineArray[9]))  //tlrq\r\n\t\t\t.setParameter(&quot;param11&quot;, importer.Boolean.valueOf(lineArray[10])) //delbook\r\n\t\t\t.setParameter(&quot;param12&quot;, trimTo(lineArray[7],30))    //delinstr \r\n\t\t\t.setParameter(&quot;param13&quot;, importer.Boolean.valueOf(lineArray[10]))   //delivery book in\r\n\t\t\t.executeUpdate();\r\n\t}catch(err){\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\nlogger.info(&quot;Petestestworkflow.xml - this worked ok&quot;);\r\n}\r\n\r\n\r\n ``` ","title":"Debugging createNativeQuery calls in Java based app","body":"<p>We have a system built in Java and we can create custom javascript &quot;macros&quot; in it. It uses Java entities but I have zero exposure to Java. I'm trying to debug the following because the sql doesn't seem to work. In PHP I would use something like var_dump to see what the sql statement actually looks like.</p>\n<p>Is there a way to see what &quot; getEntityManager().createNativeQuery(sqlStr)&quot; is actually sending?</p>\n<pre><code>function insertTempHeaderRecord(filereadid, lineArray){\n    try{\n        var sqlStr=&quot;INSERT INTO vl_edisalesorder (filereadid, edifilename, customerid, deladdressid, contactid, &quot;\n        &quot;pricelistid, customerref, orderdate, delivercontact, delivertelephone, taillift, bookdelivery, deliveryins, orderid &quot;+\n        &quot; VALUES (:param0, :param1, :param2, :param3, :param4, :param5, :param6, :param7, :param8, :param9, :param10, :param11, :param12, :param13) &quot;;\n        getEntityManager().createNativeQuery(sqlStr)\n            .setParameter(&quot;param0&quot;, filereadid)         \n            .setParameter(&quot;param1&quot;, filereadid)\n            .setParameter(&quot;param2&quot;, trimTo(lineArray[3],10))  //traderid\n            .setParameter(&quot;param3&quot;, trimTo(lineArray[4], 10))  //deladd\n            .setParameter(&quot;param4&quot;, trimTo(lineArray[5],10))   //contactid\n            .setParameter(&quot;param5&quot;, &quot;0536&quot;)\n            .setParameter(&quot;param6&quot;, trimTo(lineArray[2],25))   //custref\n            .setParameter(&quot;param7&quot;, Packages.java.sql.Date(orderdate.getTime()))\n            .setParameter(&quot;param8&quot;, trimTo(lineArray[8],25))  //delcontact\n            .setParameter(&quot;param9&quot;, trimTo(lineArray[6],20)) //deltel  \n            .setParameter(&quot;param10&quot;, importer.Boolean.valueOf(lineArray[9]))  //tlrq\n            .setParameter(&quot;param11&quot;, importer.Boolean.valueOf(lineArray[10])) //delbook\n            .setParameter(&quot;param12&quot;, trimTo(lineArray[7],30))    //delinstr \n            .setParameter(&quot;param13&quot;, importer.Boolean.valueOf(lineArray[10]))   //delivery book in\n            .executeUpdate();\n    }catch(err){\n        return false;\n    }\n    return true;\nlogger.info(&quot;Petestestworkflow.xml - this worked ok&quot;);\n}\n\n\n</code></pre>\n"},{"tags":["java","arrays","variables"],"answers":[{"tags":[],"owner":{"account_id":44450,"reputation":39683,"user_id":130515,"display_name":"Mohamed Mansour"},"down_vote_count":0,"up_vote_count":128,"is_accepted":true,"score":128,"last_activity_date":1298700482,"creation_date":1298700482,"answer_id":5125390,"question_id":5125322,"body_markdown":"According to the Cassandra API http://wiki.apache.org/cassandra/API An empty byte array is \r\n\r\n    byte[] emptyArray = new byte[0];","title":"Representing empty byte array through an Int variable?","body":"<p>According to the Cassandra API <a href=\"http://wiki.apache.org/cassandra/API\">http://wiki.apache.org/cassandra/API</a> An empty byte array is </p>\n\n<pre><code>byte[] emptyArray = new byte[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1677218009,"creation_date":1298703201,"answer_id":5125524,"question_id":5125322,"body_markdown":"In general Java terminology, an empty byte array is a byte array with length zero, and can be created with the Java expression `new byte[0]`.  The Casandra API uses the standard terminology.\r\n\r\nWhile is is technically possible (see [this Q&amp;A][1]) to represent a byte array using an integer typed variable, it wouldn&#39;t work here because the Casandra API doesn&#39;t support that kind of thing.  (And neither should it ...)\r\n\r\nThe [accepted answer](https://stackoverflow.com/a/5125390/139985) explains how you *should* represent an empty byte array when using the Casandra APIs.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68750734/could-we-save-space-by-representing-small-byte-arrays-as-integers","title":"Representing empty byte array through an Int variable?","body":"<p>In general Java terminology, an empty byte array is a byte array with length zero, and can be created with the Java expression <code>new byte[0]</code>.  The Casandra API uses the standard terminology.</p>\n<p>While is is technically possible (see <a href=\"https://stackoverflow.com/questions/68750734/could-we-save-space-by-representing-small-byte-arrays-as-integers\">this Q&amp;A</a>) to represent a byte array using an integer typed variable, it wouldn't work here because the Casandra API doesn't support that kind of thing.  (And neither should it ...)</p>\n<p>The <a href=\"https://stackoverflow.com/a/5125390/139985\">accepted answer</a> explains how you <em>should</em> represent an empty byte array when using the Casandra APIs.</p>\n"},{"tags":[],"owner":{"account_id":2288711,"reputation":5650,"user_id":2012163,"accept_rate":69,"display_name":"Abhijeet Ahuja"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1498863545,"creation_date":1498863340,"answer_id":44855772,"question_id":5125322,"body_markdown":"In java, you can create a new array by providing just the length of the desired array \r\n\r\n&gt; `new type[length]`\r\n\r\n   \r\n \r\n\r\n    private byte[] getByteResponse() {\r\n        return new byte[0];\r\n    }\r\n\r\nThis should do.","title":"Representing empty byte array through an Int variable?","body":"<p>In java, you can create a new array by providing just the length of the desired array </p>\n\n<blockquote>\n  <p><code>new type[length]</code></p>\n</blockquote>\n\n<pre><code>private byte[] getByteResponse() {\n    return new byte[0];\n}\n</code></pre>\n\n<p>This should do.</p>\n"}],"owner":{"account_id":252236,"reputation":26021,"user_id":530153,"accept_rate":66,"display_name":"Rajat Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118490,"favorite_count":0,"down_vote_count":1,"up_vote_count":54,"accepted_answer_id":5125390,"answer_count":3,"score":53,"last_activity_date":1677238824,"creation_date":1298699101,"question_id":5125322,"body_markdown":"What value should be assigned to an integer type variable, to represent an empty byte array?  I need this to store an empty byte array in the database, to represent valueless column in Cassandra.","title":"Representing empty byte array through an Int variable?","body":"<p>What value should be assigned to an integer type variable, to represent an empty byte array?  I need this to store an empty byte array in the database, to represent valueless column in Cassandra.</p>\n"},{"tags":["java","final"],"comments":[{"owner":{"account_id":13590,"reputation":115420,"user_id":27423,"accept_rate":89,"display_name":"Daniel Earwicker"},"score":3,"creation_date":1265804586,"post_id":2236599,"comment_id":2192572,"body_markdown":"@Joachim - actually it&#39;s the same as `const` in C! The difference is that in Java a &quot;pointer&quot; to an object doesn&#39;t carry any special `*` syntax. Hence the confusion here. The variable is const/final, the object it points to is not.","body":"@Joachim - actually it&#39;s the same as <code>const</code> in C! The difference is that in Java a &quot;pointer&quot; to an object doesn&#39;t carry any special <code>*</code> syntax. Hence the confusion here. The variable is const/final, the object it points to is not."},{"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"score":0,"creation_date":1265805122,"post_id":2236599,"comment_id":2192633,"body_markdown":"@Earwicker I think I take your point, but I think Joachim&#39;s is much more accurate in saying a &#39;final&#39; method param has no implication for the caller, which is true, but not really what &#39;const&#39; means in general.","body":"@Earwicker I think I take your point, but I think Joachim&#39;s is much more accurate in saying a &#39;final&#39; method param has no implication for the caller, which is true, but not really what &#39;const&#39; means in general."},{"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"score":0,"creation_date":1265805176,"post_id":2236599,"comment_id":2192639,"body_markdown":"As an aside, I think you often see methods declared this way by people who believe, rightly, that it&#39;s clearer and less error-prone to not treat method params as local variables that can change. &#39;final&#39; merely enforces this.","body":"As an aside, I think you often see methods declared this way by people who believe, rightly, that it&#39;s clearer and less error-prone to not treat method params as local variables that can change. &#39;final&#39; merely enforces this."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1265805875,"post_id":2236599,"comment_id":2192723,"body_markdown":"@Earwicker: My C is weak. I thought I remembered that a `const` parameter forced every value that&#39;s passed in to come from a `const` variable as well. It seems that&#39;s wrong. Sorry.","body":"@Earwicker: My C is weak. I thought I remembered that a <code>const</code> parameter forced every value that&#39;s passed in to come from a <code>const</code> variable as well. It seems that&#39;s wrong. Sorry."},{"owner":{"account_id":65605,"reputation":2500,"user_id":192958,"accept_rate":76,"display_name":"Asaf"},"score":1,"creation_date":1265808887,"post_id":2236599,"comment_id":2193085,"body_markdown":"@Sean: _i_ often see it, because our eclipse formatter is set up to do so. it&#39;s an artifact of a whole concept which promotes coding in the most restricted way (w.r.t access modifiers and in general), so when you remove the restriction you need to do so explicitly. my 2 cents.","body":"@Sean: <i>i</i> often see it, because our eclipse formatter is set up to do so. it&#39;s an artifact of a whole concept which promotes coding in the most restricted way (w.r.t access modifiers and in general), so when you remove the restriction you need to do so explicitly. my 2 cents."},{"owner":{"account_id":13590,"reputation":115420,"user_id":27423,"accept_rate":89,"display_name":"Daniel Earwicker"},"score":0,"creation_date":1265813121,"post_id":2236599,"comment_id":2193673,"body_markdown":"@Joachim - the issue is whether the variable is self-contained or is a reference/pointer to something else. This is always explicit in C, but depends on the type in Java. In C, you decide if a pointer variable should be const, or the object it points to, or both. You can put `const` in various places to get the combination you want. `const Obj *p` makes the `Obj` immutable but lets you change `p` to point to a different `Obj`, whereas `Obj * const p` leaves the `Obj` mutable and locks down `p`. Lastly `const Obj * const p` makes both the pointer and the object immutable.","body":"@Joachim - the issue is whether the variable is self-contained or is a reference/pointer to something else. This is always explicit in C, but depends on the type in Java. In C, you decide if a pointer variable should be const, or the object it points to, or both. You can put <code>const</code> in various places to get the combination you want. <code>const Obj *p</code> makes the <code>Obj</code> immutable but lets you change <code>p</code> to point to a different <code>Obj</code>, whereas <code>Obj * const p</code> leaves the <code>Obj</code> mutable and locks down <code>p</code>. Lastly <code>const Obj * const p</code> makes both the pointer and the object immutable."},{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":0,"creation_date":1376089255,"post_id":2236599,"comment_id":26596503,"body_markdown":"@DanielEarwicker: I believe it is more correct to say that `const` in C is similar to `final` in Java, but the semantics of the two keywords are not identical between languages.","body":"@DanielEarwicker: I believe it is more correct to say that <code>const</code> in C is similar to <code>final</code> in Java, but the semantics of the two keywords are not identical between languages."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":2,"up_vote_count":67,"is_accepted":false,"score":65,"last_activity_date":1265804010,"creation_date":1265803681,"answer_id":2236616,"question_id":2236599,"body_markdown":"Java is only pass-by-value. (or better - pass-reference-by-value)\r\n\r\nSo the passed argument and the argument within the method are _two different_ handlers pointing to the same object (value). \r\n\r\nTherefore if you change _the state_ of the object, it is reflected to every other variable that&#39;s referencing it. But if you re-assign a new object (value) to the argument, then other variables pointing to this object (value) do not get re-assigned.","title":"final keyword in method parameters","body":"<p>Java is only pass-by-value. (or better - pass-reference-by-value)</p>\n\n<p>So the passed argument and the argument within the method are <em>two different</em> handlers pointing to the same object (value). </p>\n\n<p>Therefore if you change <em>the state</em> of the object, it is reflected to every other variable that's referencing it. But if you re-assign a new object (value) to the argument, then other variables pointing to this object (value) do not get re-assigned.</p>\n"},{"tags":[],"owner":{"account_id":46475,"reputation":20349,"user_id":137369,"accept_rate":78,"display_name":"Thirler"},"down_vote_count":13,"up_vote_count":266,"is_accepted":true,"score":253,"last_activity_date":1614324407,"creation_date":1265803708,"answer_id":2236620,"question_id":2236599,"body_markdown":"Java always makes a copy of parameters before sending them to methods. This means the final doesn&#39;t mean any difference for the calling code. This only means that inside the method the variables can not be reassigned. \r\n\r\nNote that if you have a final object, you can still change the attributes of the object. This is because objects in Java really are pointers to objects. And only the pointer is copied (and will be final in your method), not the actual object. ","title":"final keyword in method parameters","body":"<p>Java always makes a copy of parameters before sending them to methods. This means the final doesn't mean any difference for the calling code. This only means that inside the method the variables can not be reassigned.</p>\n<p>Note that if you have a final object, you can still change the attributes of the object. This is because objects in Java really are pointers to objects. And only the pointer is copied (and will be final in your method), not the actual object.</p>\n"},{"tags":[],"owner":{"account_id":23037,"reputation":6947,"user_id":57448,"accept_rate":71,"display_name":"Rahel L&#252;thy"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1265804061,"creation_date":1265804061,"answer_id":2236646,"question_id":2236599,"body_markdown":"Consider this implementation of foo():\r\n\r\n    public void foo(final String a) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                System.out.print(a);\r\n            }\r\n        }); \r\n    }\r\n\r\nBecause the `Runnable` instance would outlive the method, this wouldn&#39;t compile without the `final` keyword -- `final` tells the compiler that it&#39;s safe to take a copy of the reference (to refer to it later). Thus, it&#39;s the **reference** that&#39;s considered final, not the **value**. In other words: As a caller, you can&#39;t mess anything up...","title":"final keyword in method parameters","body":"<p>Consider this implementation of foo():</p>\n\n<pre><code>public void foo(final String a) {\n    SwingUtilities.invokeLater(new Runnable() {\n        public void run() {\n            System.out.print(a);\n        }\n    }); \n}\n</code></pre>\n\n<p>Because the <code>Runnable</code> instance would outlive the method, this wouldn't compile without the <code>final</code> keyword -- <code>final</code> tells the compiler that it's safe to take a copy of the reference (to refer to it later). Thus, it's the <strong>reference</strong> that's considered final, not the <strong>value</strong>. In other words: As a caller, you can't mess anything up...</p>\n"},{"tags":[],"owner":{"account_id":95151,"reputation":14008,"user_id":259310,"accept_rate":25,"display_name":"Kilian Foth"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1265804111,"creation_date":1265804111,"answer_id":2236652,"question_id":2236599,"body_markdown":"Strings are immutable, so actully you can&#39;t change the String afterwards (you can only make the variable that held the String object point to a different String object).\r\n\r\nHowever, that is not the reason why you can bind any variable to a `final` parameter. All the compiler checks is that the parameter is not reassigned *within* the method. This is good for documentation purposes, arguably good style, and may even help optimize the byte code for speed (although this seems not to do very much in practice). \r\n\r\nBut even if you do reassign a parameter within a method, the caller doesn&#39;t notice that, because java does all parameter passing by value. After the sequence\r\n\r\n      a = someObject();\r\n      process(a);\r\n\r\nthe fields of a may have changed, but a is still the same object it was before. In pass-by-reference languages this may not be true.\r\n  \r\n","title":"final keyword in method parameters","body":"<p>Strings are immutable, so actully you can't change the String afterwards (you can only make the variable that held the String object point to a different String object).</p>\n\n<p>However, that is not the reason why you can bind any variable to a <code>final</code> parameter. All the compiler checks is that the parameter is not reassigned <em>within</em> the method. This is good for documentation purposes, arguably good style, and may even help optimize the byte code for speed (although this seems not to do very much in practice). </p>\n\n<p>But even if you do reassign a parameter within a method, the caller doesn't notice that, because java does all parameter passing by value. After the sequence</p>\n\n<pre><code>  a = someObject();\n  process(a);\n</code></pre>\n\n<p>the fields of a may have changed, but a is still the same object it was before. In pass-by-reference languages this may not be true.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":100,"is_accepted":false,"score":100,"last_activity_date":1677238682,"creation_date":1265804205,"answer_id":2236657,"question_id":2236599,"body_markdown":"There is a circumstance where you&#39;re **required** to declare it final —otherwise it will result in compile error—, namely passing them through into an anonymous class or a lambda. Here&#39;s a basic example using an anonymous class:\r\n\r\n    public FileFilter createFileExtensionFilter(final String extension) {\r\n        FileFilter fileFilter = new FileFilter() {\r\n            public boolean accept(File file) {\r\n                return file.getName().endsWith(extension);\r\n            }\r\n        };\r\n\r\n        // Imagine what would happen when we&#39;re allowed to change extension here?\r\n        // extension = &quot;foo&quot;;\r\n\r\n        return fileFilter;\r\n    }\r\n\r\nAnd here&#39;s the exact same example in lambda flavor:\r\n\r\n    public FileFilter createFileExtensionFilter(final String extension) {\r\n        FileFilter fileFilter = file -&gt; file.getName().endsWith(extension);\r\n\r\n        // Imagine what would happen when we&#39;re allowed to change extension here?\r\n        // extension = &quot;foo&quot;;\r\n\r\n        return fileFilter;\r\n    }\r\n\r\nRemoving the `final` modifier would result in compile error, because it isn&#39;t guaranteed anymore that the value is a runtime constant. Changing the value after creation of the anonymous class or lambda would namely cause the instance of the anonymous class or lambda to behave different after the moment of creation.","title":"final keyword in method parameters","body":"<p>There is a circumstance where you're <strong>required</strong> to declare it final —otherwise it will result in compile error—, namely passing them through into an anonymous class or a lambda. Here's a basic example using an anonymous class:</p>\n<pre><code>public FileFilter createFileExtensionFilter(final String extension) {\n    FileFilter fileFilter = new FileFilter() {\n        public boolean accept(File file) {\n            return file.getName().endsWith(extension);\n        }\n    };\n\n    // Imagine what would happen when we're allowed to change extension here?\n    // extension = &quot;foo&quot;;\n\n    return fileFilter;\n}\n</code></pre>\n<p>And here's the exact same example in lambda flavor:</p>\n<pre><code>public FileFilter createFileExtensionFilter(final String extension) {\n    FileFilter fileFilter = file -&gt; file.getName().endsWith(extension);\n\n    // Imagine what would happen when we're allowed to change extension here?\n    // extension = &quot;foo&quot;;\n\n    return fileFilter;\n}\n</code></pre>\n<p>Removing the <code>final</code> modifier would result in compile error, because it isn't guaranteed anymore that the value is a runtime constant. Changing the value after creation of the anonymous class or lambda would namely cause the instance of the anonymous class or lambda to behave different after the moment of creation.</p>\n"},{"tags":[],"owner":{"account_id":2244074,"reputation":4893,"user_id":1977887,"accept_rate":75,"display_name":"Erick G. Hagstrom"},"down_vote_count":2,"up_vote_count":61,"is_accepted":false,"score":59,"last_activity_date":1376088640,"creation_date":1376088640,"answer_id":18156816,"question_id":2236599,"body_markdown":"The `final` keyword on a method parameter means absolutely nothing to the caller. It also means absolutely nothing to the running program, since its presence or absence doesn&#39;t change the bytecode. It only ensures that the compiler will complain if the parameter variable is reassigned within the method. That&#39;s all. But that&#39;s enough.\r\n\r\nSome programmers (like me) think that&#39;s a very good thing and use `final` on almost every parameter. It makes it easier to understand a long or complex method (though one could argue that long and complex methods should be refactored.) It also shines a spotlight on method parameters that **aren&#39;t** marked with `final`.","title":"final keyword in method parameters","body":"<p>The <code>final</code> keyword on a method parameter means absolutely nothing to the caller. It also means absolutely nothing to the running program, since its presence or absence doesn't change the bytecode. It only ensures that the compiler will complain if the parameter variable is reassigned within the method. That's all. But that's enough.</p>\n\n<p>Some programmers (like me) think that's a very good thing and use <code>final</code> on almost every parameter. It makes it easier to understand a long or complex method (though one could argue that long and complex methods should be refactored.) It also shines a spotlight on method parameters that <strong>aren't</strong> marked with <code>final</code>.</p>\n"},{"tags":[],"owner":{"account_id":5555763,"reputation":13811,"user_id":4407176,"accept_rate":76,"display_name":"SilentKnight"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1426650320,"creation_date":1426650320,"answer_id":29113793,"question_id":2236599,"body_markdown":"**final** means you can&#39;t change the value of that variable once it was assigned.\r\n\r\nMeanwhile, the use of **final** for the arguments in those methods means *it won&#39;t allow the programmer to change their value during the execution of the method*.\r\nThis only means that inside the method the **final** variables can not be reassigned.","title":"final keyword in method parameters","body":"<p><strong>final</strong> means you can't change the value of that variable once it was assigned.</p>\n\n<p>Meanwhile, the use of <strong>final</strong> for the arguments in those methods means <em>it won't allow the programmer to change their value during the execution of the method</em>.\nThis only means that inside the method the <strong>final</strong> variables can not be reassigned.</p>\n"},{"tags":[],"owner":{"account_id":4321836,"reputation":270,"user_id":3529776,"accept_rate":25,"display_name":"Roopam"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1533311277,"creation_date":1428255469,"answer_id":29460215,"question_id":2236599,"body_markdown":"If you declare any parameter as final, you cannot change the value of it.&lt;br&gt;\r\n\r\n    class Bike11 {  \r\n        int cube(final int n) {  \r\n            n=n+2;//can&#39;t be changed as n is final  \r\n            n*n*n;  \r\n         }  \r\n        public static void main(String args[]) {  \r\n            Bike11 b=new Bike11();  \r\n            b.cube(5);  \r\n        }  \r\n    }   \r\n\r\nOutput: Compile Time Error\r\n\r\nFor more details, please visit my blog: http://javabyroopam.blogspot.com","title":"final keyword in method parameters","body":"<p>If you declare any parameter as final, you cannot change the value of it.<br></p>\n\n<pre><code>class Bike11 {  \n    int cube(final int n) {  \n        n=n+2;//can't be changed as n is final  \n        n*n*n;  \n     }  \n    public static void main(String args[]) {  \n        Bike11 b=new Bike11();  \n        b.cube(5);  \n    }  \n}   \n</code></pre>\n\n<p>Output: Compile Time Error</p>\n\n<p>For more details, please visit my blog: <a href=\"http://javabyroopam.blogspot.com\" rel=\"nofollow noreferrer\">http://javabyroopam.blogspot.com</a></p>\n"},{"tags":[],"owner":{"account_id":2780904,"reputation":417,"user_id":2393477,"accept_rate":0,"display_name":"ttati"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447260058,"creation_date":1447260058,"answer_id":33655383,"question_id":2236599,"body_markdown":"final keyword in the method input parameter is not needed. Java creates a copy of the reference to the object, so putting final on it doesn&#39;t make the object final but just the reference, which doesn&#39;t make sense","title":"final keyword in method parameters","body":"<p>final keyword in the method input parameter is not needed. Java creates a copy of the reference to the object, so putting final on it doesn't make the object final but just the reference, which doesn't make sense</p>\n"}],"owner":{"account_id":79704,"reputation":15955,"user_id":225814,"accept_rate":76,"display_name":"Aly"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209852,"favorite_count":0,"down_vote_count":1,"up_vote_count":187,"closed_date":1449227423,"accepted_answer_id":2236620,"answer_count":9,"score":186,"last_activity_date":1677238682,"creation_date":1265803521,"question_id":2236599,"body_markdown":"I often encounter methods which look like the following:\r\n\r\n    public void foo(final String a, final int[] b, final Object1 c){\r\n    }\r\n\r\nWhat happens if this method is called without passing it final parameters. i.e. an Object1 that is later changed (so is not declared as final) can be passed to this method just fine","title":"final keyword in method parameters","body":"<p>I often encounter methods which look like the following:</p>\n\n<pre><code>public void foo(final String a, final int[] b, final Object1 c){\n}\n</code></pre>\n\n<p>What happens if this method is called without passing it final parameters. i.e. an Object1 that is later changed (so is not declared as final) can be passed to this method just fine</p>\n"},{"tags":["java","c#","selenium","android-studio","appium-android"],"comments":[{"owner":{"account_id":1029918,"reputation":1404,"user_id":1038447,"accept_rate":31,"display_name":"&#193;rp&#225;d Magos&#225;nyi"},"score":0,"creation_date":1677180712,"post_id":65820780,"comment_id":133292311,"body_markdown":"Have the same problem in my CI environment, where the emulator runs reeeaaal slooow.\nCould the problem be that the settings app does not reach some ready state within 5 sec, and concludes it is dead? I see deviceReadyTimeout with 5sec as default in the capabilities: https://appium.io/docs/en/writing-running-appium/caps/","body":"Have the same problem in my CI environment, where the emulator runs reeeaaal slooow. Could the problem be that the settings app does not reach some ready state within 5 sec, and concludes it is dead? I see deviceReadyTimeout with 5sec as default in the capabilities: <a href=\"https://appium.io/docs/en/writing-running-appium/caps/\" rel=\"nofollow noreferrer\">appium.io/docs/en/writing-running-appium/caps</a>"},{"owner":{"account_id":1029918,"reputation":1404,"user_id":1038447,"accept_rate":31,"display_name":"&#193;rp&#225;d Magos&#225;nyi"},"score":0,"creation_date":1677191419,"post_id":65820780,"comment_id":133294858,"body_markdown":"The problem persists with the same message referring to 5000ms after I have increased al timeouts to 1 min.","body":"The problem persists with the same message referring to 5000ms after I have increased al timeouts to 1 min."},{"owner":{"account_id":1029918,"reputation":1404,"user_id":1038447,"accept_rate":31,"display_name":"&#193;rp&#225;d Magos&#225;nyi"},"score":0,"creation_date":1677224221,"post_id":65820780,"comment_id":133299165,"body_markdown":"The timeout is defined in the appium-adb package. With the current code I see no way to configure it.","body":"The timeout is defined in the appium-adb package. With the current code I see no way to configure it."}],"answers":[{"tags":[],"owner":{"account_id":1029918,"reputation":1404,"user_id":1038447,"accept_rate":31,"display_name":"&#193;rp&#225;d Magos&#225;nyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677238315,"creation_date":1677238315,"answer_id":75556050,"question_id":65820780,"body_markdown":"This due to the appium settings app is not reacting within 5000ms, probably due to slow machine. The timeout is hardcoded into appium-adb.\r\nA fix is underway: https://github.com/appium/appium-adb/pull/635\r\n","title":"Appium Settings starting up but not connecting properly with Appium/Visual Studio?","body":"<p>This due to the appium settings app is not reacting within 5000ms, probably due to slow machine. The timeout is hardcoded into appium-adb.\nA fix is underway: <a href=\"https://github.com/appium/appium-adb/pull/635\" rel=\"nofollow noreferrer\">https://github.com/appium/appium-adb/pull/635</a></p>\n"}],"owner":{"account_id":6024972,"reputation":99,"user_id":4730973,"display_name":"Jeremias R&#246;&#223;ner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1633,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677238315,"creation_date":1611199888,"question_id":65820780,"body_markdown":"So Im not quite sure what is happening here. I have installed Appium and Android Studio (using Android Studio only for the emulator). I have also installed jdk is installed and `JAVA_HOME: C:\\Program Files\\Java\\jdk-12` and `ANDROID_HOME: C:\\Android` are both set. My example code looks as such:\r\n\r\n    AndroidDriver&lt;AndroidElement&gt; driver;\r\n    AppiumOptions options = new AppiumOptions();\r\n    options.PlatformName = &quot;Android&quot;;\r\n    options.AddAdditionalCapability(&quot;automationName&quot;, &quot;UiAutomator2&quot;);\r\n    options.AddAdditionalCapability(&quot;platformVersion&quot;, &quot;10&quot;);\r\n    options.AddAdditionalCapability(&quot;deviceName&quot;, &quot;Pixel_3a_API_30_x86_v10&quot;);\r\n    options.AddAdditionalCapability(&quot;app&quot;, @&quot;C:\\Users\\*********\\Desktop\\***********.apk&quot;);\r\n    Uri url = new Uri(&quot;http://127.0.0.1:4723/wd/hub&quot;);\r\n    driver = new AndroidDriver&lt;AndroidElement&gt;(url, options);\r\n    driver.Manage().Timeouts().ImplicitWait = TimeSpan.FromSeconds(10);\r\n    // Some example selectors\r\n    List&lt;AndroidElement&gt; elements = driver.FindElementsByClassName(&quot;android.widget.EditText&quot;).ToList();\r\n    foreach (AndroidElement element in elements)\r\n    {\r\n           element.Clear();\r\n           element.SendKeys(&quot;Testing Successful&quot;);\r\n    }\r\n\r\nI can install the .apk file by just dragging it onto the emulator. I can delete files from the emulator using the adb shell once appium is running. When I run the above code I get the error:\r\n\r\n    OpenQA.Selenium.WebDriverException: &#39;An unknown server-side error occurred while processing the command. Original error: Appium Settings app is not running after 5000ms&#39;\r\n\r\nHowever I can physically see Appium Settings app opening for a second before closing on the emulator when the above code gets run, and then the error gets thrown. I have tried deleting the io.appium.settings using the adb shell and rerunning the code with no avail (It does seem to reinstall io.appium.settings again properly). Weirdly enough io.appium.uiautomator2.server never gets installed on the emulator (not sure if it should be?). My log for the appium server is as follows:\r\n\r\n    [HTTP] Waiting until the server is closed\r\n    [HTTP] Received server close event\r\n    [Appium] Welcome to Appium v1.19.1\r\n    [Appium] Non-default server args:\r\n    [Appium]   relaxedSecurityEnabled: true\r\n    [Appium]   allowInsecure: {\r\n    [Appium]   }\r\n    [Appium]   denyInsecure: {\r\n    [Appium]   }\r\n    [Appium] Appium REST http interface listener started on 0.0.0.0:4723\r\n    [HTTP] --&gt; POST /wd/hub/session\r\n    [HTTP] {&quot;desiredCapabilities&quot;:{&quot;automationName&quot;:&quot;UiAutomator2&quot;,&quot;platformVersion&quot;:&quot;10&quot;,&quot;deviceName&quot;:&quot;Pixel_3a_API_30_x86_v10&quot;,&quot;app&quot;:&quot;C:\\\\Users\\\\*********\\\\Desktop\\\\*********&quot;,&quot;platformName&quot;:&quot;Android&quot;},&quot;capabilities&quot;:{&quot;firstMatch&quot;:[{&quot;platformName&quot;:&quot;Android&quot;}]}}\r\n    [W3C] Calling AppiumDriver.createSession() with args: [{&quot;automationName&quot;:&quot;UiAutomator2&quot;,&quot;platformVersion&quot;:&quot;10&quot;,&quot;deviceName&quot;:&quot;Pixel_3a_API_30_x86_v10&quot;,&quot;app&quot;:&quot;C:\\\\Users\\\\*********\\\\Desktop\\\\*********.apk&quot;,&quot;platformName&quot;:&quot;Android&quot;},null,{&quot;firstMatch&quot;:[{&quot;platformName&quot;:&quot;Android&quot;}]}]\r\n    [BaseDriver] Event &#39;newSessionRequested&#39; logged at 1611198627724 (16:10:27 GMT+1300 (New Zealand Daylight Time))\r\n    [Appium] The following capabilities were provided in the JSONWP desired capabilities that are missing in W3C capabilities: [&quot;automationName&quot;,&quot;platformVersion&quot;,&quot;deviceName&quot;,&quot;app&quot;]\r\n    [Appium] Trying to fix W3C capabilities by merging them with JSONWP caps\r\n    [BaseDriver] The following capabilities are not standard capabilities and should have an extension prefix:\r\n    [BaseDriver]   automationName\r\n    [BaseDriver]   platformVersion\r\n    [BaseDriver]   deviceName\r\n    [BaseDriver]   app\r\n    [Appium] Appium v1.19.1 creating new AndroidUiautomator2Driver (v1.59.0) session\r\n    [Appium] Applying relaxed security to &#39;AndroidUiautomator2Driver&#39; as per server command line argument. All insecure features will be enabled unless explicitly disabled by --deny-insecure\r\n    [BaseDriver] W3C capabilities and MJSONWP desired capabilities were provided\r\n    [BaseDriver] Creating session with W3C capabilities: {\r\n    [BaseDriver]   &quot;alwaysMatch&quot;: {\r\n    [BaseDriver]     &quot;appium:automationName&quot;: &quot;UiAutomator2&quot;,\r\n    [BaseDriver]     &quot;appium:platformVersion&quot;: &quot;10&quot;,\r\n    [BaseDriver]     &quot;appium:deviceName&quot;: &quot;Pixel_3a_API_30_x86_v10&quot;,\r\n    [BaseDriver]     &quot;appium:app&quot;: &quot;C:\\\\Users\\\\*********\\\\Desktop\\\\*********.apk&quot;,\r\n    [BaseDriver]     &quot;platformName&quot;: &quot;Android&quot;\r\n    [BaseDriver]   },\r\n    [BaseDriver]   &quot;firstMatch&quot;: [\r\n    [BaseDriver]     {}\r\n    [BaseDriver]   ]\r\n    [BaseDriver] }\r\n    [BaseDriver] Session created with session id: b9c4d8f7-fa3c-48f9-91b3-3d4ef4080f9c\r\n    [BaseDriver] Using local app &#39;C:\\Users\\*********\\Desktop\\*********.apk&#39;\r\n    [UiAutomator2] Checking whether app is actually present\r\n    [ADB] Using &#39;adb.exe&#39; from &#39;C:\\Android\\adb.exe&#39;\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 start-server&#39;\r\n    [AndroidDriver] Retrieving device list\r\n    [ADB] Trying to find a connected android device\r\n    [ADB] Getting connected devices\r\n    [ADB] Connected devices: [{&quot;udid&quot;:&quot;emulator-5554&quot;,&quot;state&quot;:&quot;device&quot;}]\r\n    [AndroidDriver] Looking for a device with Android &#39;10.0.0&#39;\r\n    [ADB] Setting device id to emulator-5554\r\n    [ADB] Getting device platform version\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell getprop ro.build.version.release&#39;\r\n    [ADB] Current device property &#39;ro.build.version.release&#39;: 10\r\n    [AndroidDriver] Using device: emulator-5554\r\n    [ADB] Using &#39;adb.exe&#39; from &#39;C:\\Android\\adb.exe&#39;\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 start-server&#39;\r\n    [ADB] Setting device id to emulator-5554\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk&#39;\r\n    [ADB] Current device property &#39;ro.build.version.sdk&#39;: 29\r\n    [ADB] Getting device platform version\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell getprop ro.build.version.release&#39;\r\n    [ADB] Current device property &#39;ro.build.version.release&#39;: 10\r\n    [ADB] Device API level: 29\r\n    [UiAutomator2] Relaxing hidden api policy\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell &#39;settings put global hidden_api_policy_pre_p_apps 1;settings put global hidden_api_policy_p_apps 1;settings put global hidden_api_policy 1&#39;&#39;\r\n    [AndroidDriver] Parsing package and activity from app manifest\r\n    [ADB] Package name: &#39;*********&#39;\r\n    [ADB] Main activity name: &#39;crc64fb453ee64b5fe1ef.MainActivity&#39;\r\n    [AndroidDriver] Parsed package and activity are: *********/crc64fb453ee64b5fe1ef.MainActivity\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 wait-for-device&#39;\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell echo ping&#39;\r\n    [AndroidDriver] Pushing settings apk to device...\r\n    [ADB] Getting install status for io.appium.settings\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell dumpsys package io.appium.settings&#39;\r\n    [ADB] &#39;io.appium.settings&#39; is installed\r\n    [ADB] Getting package info for &#39;io.appium.settings&#39;\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell dumpsys package io.appium.settings&#39;\r\n    [ADB] The version name of the installed &#39;io.appium.settings&#39; is greater or equal to the application version name (&#39;3.2.1&#39; &gt;= &#39;3.2.1&#39;)\r\n    [ADB] There is no need to install/upgrade &#39;C:\\Program Files\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\io.appium.settings\\apks\\settings_apk-debug.apk&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell &#39;pgrep --help; echo $?&#39;&#39;\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Starting Appium Settings app\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell am start -n io.appium.settings/.Settings -a android.intent.action.MAIN -c android.intent.category.LAUNCHER&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n    [AndroidDriver] Error: Appium Settings app is not running after 5000ms\r\n    [AndroidDriver]     at ADB.requireRunningSettingsApp (C:\\Program Files\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-adb\\lib\\tools\\settings-client-commands.js:70:11)\r\n    [UiAutomator2] Deleting UiAutomator2 session\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell am force-stop *********&#39;\r\n    [UiAutomator2] Restoring hidden api policy to the device default configuration\r\n    [ADB] Running &#39;C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell &#39;settings delete global hidden_api_policy_pre_p_apps;settings delete global hidden_api_policy_p_apps;settings delete global hidden_api_policy&#39;&#39;\r\n    [BaseDriver] Event &#39;newSessionStarted&#39; logged at 1611198633596 (16:10:33 GMT+1300 (New Zealand Daylight Time))\r\n    [W3C] Encountered internal error running command: Error: Appium Settings app is not running after 5000ms\r\n    [W3C]     at ADB.requireRunningSettingsApp (C:\\Program Files\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-adb\\lib\\tools\\settings-client-commands.js:70:11)\r\n    [W3C] Destroying socket connection\r\n    [HTTP] &lt;-- POST /wd/hub/session 500 5874 ms - 659\r\n    [HTTP]\r\n\r\n\r\nFurthermore, running the command `pgrep -f io\\\\.appium\\\\.settings` in the adb shell returns the number `4281`\r\n\r\nPS. I replaced the user and the application name with *********, these are however all correct in the original log and commands","title":"Appium Settings starting up but not connecting properly with Appium/Visual Studio?","body":"<p>So Im not quite sure what is happening here. I have installed Appium and Android Studio (using Android Studio only for the emulator). I have also installed jdk is installed and <code>JAVA_HOME: C:\\Program Files\\Java\\jdk-12</code> and <code>ANDROID_HOME: C:\\Android</code> are both set. My example code looks as such:</p>\n<pre><code>AndroidDriver&lt;AndroidElement&gt; driver;\nAppiumOptions options = new AppiumOptions();\noptions.PlatformName = &quot;Android&quot;;\noptions.AddAdditionalCapability(&quot;automationName&quot;, &quot;UiAutomator2&quot;);\noptions.AddAdditionalCapability(&quot;platformVersion&quot;, &quot;10&quot;);\noptions.AddAdditionalCapability(&quot;deviceName&quot;, &quot;Pixel_3a_API_30_x86_v10&quot;);\noptions.AddAdditionalCapability(&quot;app&quot;, @&quot;C:\\Users\\*********\\Desktop\\***********.apk&quot;);\nUri url = new Uri(&quot;http://127.0.0.1:4723/wd/hub&quot;);\ndriver = new AndroidDriver&lt;AndroidElement&gt;(url, options);\ndriver.Manage().Timeouts().ImplicitWait = TimeSpan.FromSeconds(10);\n// Some example selectors\nList&lt;AndroidElement&gt; elements = driver.FindElementsByClassName(&quot;android.widget.EditText&quot;).ToList();\nforeach (AndroidElement element in elements)\n{\n       element.Clear();\n       element.SendKeys(&quot;Testing Successful&quot;);\n}\n</code></pre>\n<p>I can install the .apk file by just dragging it onto the emulator. I can delete files from the emulator using the adb shell once appium is running. When I run the above code I get the error:</p>\n<pre><code>OpenQA.Selenium.WebDriverException: 'An unknown server-side error occurred while processing the command. Original error: Appium Settings app is not running after 5000ms'\n</code></pre>\n<p>However I can physically see Appium Settings app opening for a second before closing on the emulator when the above code gets run, and then the error gets thrown. I have tried deleting the io.appium.settings using the adb shell and rerunning the code with no avail (It does seem to reinstall io.appium.settings again properly). Weirdly enough io.appium.uiautomator2.server never gets installed on the emulator (not sure if it should be?). My log for the appium server is as follows:</p>\n<pre><code>[HTTP] Waiting until the server is closed\n[HTTP] Received server close event\n[Appium] Welcome to Appium v1.19.1\n[Appium] Non-default server args:\n[Appium]   relaxedSecurityEnabled: true\n[Appium]   allowInsecure: {\n[Appium]   }\n[Appium]   denyInsecure: {\n[Appium]   }\n[Appium] Appium REST http interface listener started on 0.0.0.0:4723\n[HTTP] --&gt; POST /wd/hub/session\n[HTTP] {&quot;desiredCapabilities&quot;:{&quot;automationName&quot;:&quot;UiAutomator2&quot;,&quot;platformVersion&quot;:&quot;10&quot;,&quot;deviceName&quot;:&quot;Pixel_3a_API_30_x86_v10&quot;,&quot;app&quot;:&quot;C:\\\\Users\\\\*********\\\\Desktop\\\\*********&quot;,&quot;platformName&quot;:&quot;Android&quot;},&quot;capabilities&quot;:{&quot;firstMatch&quot;:[{&quot;platformName&quot;:&quot;Android&quot;}]}}\n[W3C] Calling AppiumDriver.createSession() with args: [{&quot;automationName&quot;:&quot;UiAutomator2&quot;,&quot;platformVersion&quot;:&quot;10&quot;,&quot;deviceName&quot;:&quot;Pixel_3a_API_30_x86_v10&quot;,&quot;app&quot;:&quot;C:\\\\Users\\\\*********\\\\Desktop\\\\*********.apk&quot;,&quot;platformName&quot;:&quot;Android&quot;},null,{&quot;firstMatch&quot;:[{&quot;platformName&quot;:&quot;Android&quot;}]}]\n[BaseDriver] Event 'newSessionRequested' logged at 1611198627724 (16:10:27 GMT+1300 (New Zealand Daylight Time))\n[Appium] The following capabilities were provided in the JSONWP desired capabilities that are missing in W3C capabilities: [&quot;automationName&quot;,&quot;platformVersion&quot;,&quot;deviceName&quot;,&quot;app&quot;]\n[Appium] Trying to fix W3C capabilities by merging them with JSONWP caps\n[BaseDriver] The following capabilities are not standard capabilities and should have an extension prefix:\n[BaseDriver]   automationName\n[BaseDriver]   platformVersion\n[BaseDriver]   deviceName\n[BaseDriver]   app\n[Appium] Appium v1.19.1 creating new AndroidUiautomator2Driver (v1.59.0) session\n[Appium] Applying relaxed security to 'AndroidUiautomator2Driver' as per server command line argument. All insecure features will be enabled unless explicitly disabled by --deny-insecure\n[BaseDriver] W3C capabilities and MJSONWP desired capabilities were provided\n[BaseDriver] Creating session with W3C capabilities: {\n[BaseDriver]   &quot;alwaysMatch&quot;: {\n[BaseDriver]     &quot;appium:automationName&quot;: &quot;UiAutomator2&quot;,\n[BaseDriver]     &quot;appium:platformVersion&quot;: &quot;10&quot;,\n[BaseDriver]     &quot;appium:deviceName&quot;: &quot;Pixel_3a_API_30_x86_v10&quot;,\n[BaseDriver]     &quot;appium:app&quot;: &quot;C:\\\\Users\\\\*********\\\\Desktop\\\\*********.apk&quot;,\n[BaseDriver]     &quot;platformName&quot;: &quot;Android&quot;\n[BaseDriver]   },\n[BaseDriver]   &quot;firstMatch&quot;: [\n[BaseDriver]     {}\n[BaseDriver]   ]\n[BaseDriver] }\n[BaseDriver] Session created with session id: b9c4d8f7-fa3c-48f9-91b3-3d4ef4080f9c\n[BaseDriver] Using local app 'C:\\Users\\*********\\Desktop\\*********.apk'\n[UiAutomator2] Checking whether app is actually present\n[ADB] Using 'adb.exe' from 'C:\\Android\\adb.exe'\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 start-server'\n[AndroidDriver] Retrieving device list\n[ADB] Trying to find a connected android device\n[ADB] Getting connected devices\n[ADB] Connected devices: [{&quot;udid&quot;:&quot;emulator-5554&quot;,&quot;state&quot;:&quot;device&quot;}]\n[AndroidDriver] Looking for a device with Android '10.0.0'\n[ADB] Setting device id to emulator-5554\n[ADB] Getting device platform version\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell getprop ro.build.version.release'\n[ADB] Current device property 'ro.build.version.release': 10\n[AndroidDriver] Using device: emulator-5554\n[ADB] Using 'adb.exe' from 'C:\\Android\\adb.exe'\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 start-server'\n[ADB] Setting device id to emulator-5554\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk'\n[ADB] Current device property 'ro.build.version.sdk': 29\n[ADB] Getting device platform version\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell getprop ro.build.version.release'\n[ADB] Current device property 'ro.build.version.release': 10\n[ADB] Device API level: 29\n[UiAutomator2] Relaxing hidden api policy\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell 'settings put global hidden_api_policy_pre_p_apps 1;settings put global hidden_api_policy_p_apps 1;settings put global hidden_api_policy 1''\n[AndroidDriver] Parsing package and activity from app manifest\n[ADB] Package name: '*********'\n[ADB] Main activity name: 'crc64fb453ee64b5fe1ef.MainActivity'\n[AndroidDriver] Parsed package and activity are: *********/crc64fb453ee64b5fe1ef.MainActivity\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 wait-for-device'\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell echo ping'\n[AndroidDriver] Pushing settings apk to device...\n[ADB] Getting install status for io.appium.settings\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell dumpsys package io.appium.settings'\n[ADB] 'io.appium.settings' is installed\n[ADB] Getting package info for 'io.appium.settings'\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell dumpsys package io.appium.settings'\n[ADB] The version name of the installed 'io.appium.settings' is greater or equal to the application version name ('3.2.1' &gt;= '3.2.1')\n[ADB] There is no need to install/upgrade 'C:\\Program Files\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\io.appium.settings\\apks\\settings_apk-debug.apk'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell 'pgrep --help; echo $?''\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Starting Appium Settings app\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell am start -n io.appium.settings/.Settings -a android.intent.action.MAIN -c android.intent.category.LAUNCHER'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[AndroidDriver] Error: Appium Settings app is not running after 5000ms\n[AndroidDriver]     at ADB.requireRunningSettingsApp (C:\\Program Files\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-adb\\lib\\tools\\settings-client-commands.js:70:11)\n[UiAutomator2] Deleting UiAutomator2 session\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell am force-stop *********'\n[UiAutomator2] Restoring hidden api policy to the device default configuration\n[ADB] Running 'C:\\Android\\adb.exe -P 5037 -s emulator-5554 shell 'settings delete global hidden_api_policy_pre_p_apps;settings delete global hidden_api_policy_p_apps;settings delete global hidden_api_policy''\n[BaseDriver] Event 'newSessionStarted' logged at 1611198633596 (16:10:33 GMT+1300 (New Zealand Daylight Time))\n[W3C] Encountered internal error running command: Error: Appium Settings app is not running after 5000ms\n[W3C]     at ADB.requireRunningSettingsApp (C:\\Program Files\\Appium\\resources\\app\\node_modules\\appium\\node_modules\\appium-adb\\lib\\tools\\settings-client-commands.js:70:11)\n[W3C] Destroying socket connection\n[HTTP] &lt;-- POST /wd/hub/session 500 5874 ms - 659\n[HTTP]\n</code></pre>\n<p>Furthermore, running the command <code>pgrep -f io\\\\.appium\\\\.settings</code> in the adb shell returns the number <code>4281</code></p>\n<p>PS. I replaced the user and the application name with *********, these are however all correct in the original log and commands</p>\n"},{"tags":["java","arrays","indexing"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":1,"creation_date":1677240569,"post_id":75555768,"comment_id":133303449,"body_markdown":"I assume that `days` is your array since you use its length for the loop condition.  You never access it outside of that loop condition.  I have no idea what you are trying to do. There is an array - array of what?  trying to get best series - what is a series in this context?  highest quantity of steps - what are steps in this context?  bigger than standard value - what is a standard value in this context?","body":"I assume that <code>days</code> is your array since you use its length for the loop condition.  You never access it outside of that loop condition.  I have no idea what you are trying to do. There is an array - array of what?  trying to get best series - what is a series in this context?  highest quantity of steps - what are steps in this context?  bigger than standard value - what is a standard value in this context?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1677242650,"post_id":75555768,"comment_id":133304058,"body_markdown":"Perhaps [edit] your question and post a [mcve]. Post code that creates and populates the `days` array. Then post code that calls method `bestSeries`. Then post the expected value for `finalSeries` for the sample value of `goalByStepsPerDay`.","body":"Perhaps <a href=\"https://stackoverflow.com/posts/75555768/edit\">edit</a> your question and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Post code that creates and populates the <code>days</code> array. Then post code that calls method <code>bestSeries</code>. Then post the expected value for <code>finalSeries</code> for the sample value of <code>goalByStepsPerDay</code>."}],"owner":{"account_id":27462033,"reputation":27,"user_id":20952449,"display_name":"Chernosmaga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677237930,"creation_date":1677236652,"question_id":75555768,"body_markdown":"There is an array I&#39;ve got and I&#39;m trying to get best Serie from it (some highest quantity of steps that are bigger than the standart value)\r\n\r\nI tried this code, but it doesn&#39;t work properly. It just shows me days in the month I chose\r\n```\r\n    void bestSeries(int goalByStepsPerDay) {\r\n        int currentSeries = 0;\r\n        int finalSeries = 0;\r\n        for (int i = 0; i &lt; days.length; i++) {\r\n            if (goalByStepsPerDay &gt;= i) {\r\n                if (currentSeries++ &gt; finalSeries) {\r\n                    finalSeries = currentSeries;\r\n                }\r\n                } else {\r\n                    currentSeries = 0;\r\n                }\r\n            }\r\n        System.out.println(&quot;Best Series are:&quot;);\r\n        System.out.println(finalSeries);\r\n    }\r\n```\r\n","title":"Get best Serie from an Array using for","body":"<p>There is an array I've got and I'm trying to get best Serie from it (some highest quantity of steps that are bigger than the standart value)</p>\n<p>I tried this code, but it doesn't work properly. It just shows me days in the month I chose</p>\n<pre><code>    void bestSeries(int goalByStepsPerDay) {\n        int currentSeries = 0;\n        int finalSeries = 0;\n        for (int i = 0; i &lt; days.length; i++) {\n            if (goalByStepsPerDay &gt;= i) {\n                if (currentSeries++ &gt; finalSeries) {\n                    finalSeries = currentSeries;\n                }\n                } else {\n                    currentSeries = 0;\n                }\n            }\n        System.out.println(&quot;Best Series are:&quot;);\n        System.out.println(finalSeries);\n    }\n</code></pre>\n"},{"tags":["java","urlconnection"],"comments":[{"owner":{"account_id":29016,"reputation":5672,"user_id":78054,"accept_rate":93,"display_name":"n00b"},"score":0,"creation_date":1299662094,"post_id":5243505,"comment_id":5902544,"body_markdown":"how are you reading it ? i dont think thats the response :O","body":"how are you reading it ? i dont think thats the response :O"},{"owner":{"account_id":77615,"reputation":9083,"user_id":221397,"accept_rate":79,"display_name":"madd0"},"score":2,"creation_date":1299662951,"post_id":5243505,"comment_id":5902714,"body_markdown":"you need to provide more detail: what technology are you using to access the URL and retrieve the server&#39;s response? what kind of reply are you expecting from the server?","body":"you need to provide more detail: what technology are you using to access the URL and retrieve the server&#39;s response? what kind of reply are you expecting from the server?"},{"owner":{"account_id":183096,"reputation":1351,"user_id":418271,"accept_rate":35,"display_name":"AutoMEta"},"score":0,"creation_date":1299663505,"post_id":5243505,"comment_id":5902842,"body_markdown":"@madd0 BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream())); String line; while ((line = reader.readLine()) != null) { response=response+line; } This is how i am reading a response","body":"@madd0 BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream())); String line; while ((line = reader.readLine()) != null) { response=response+line; } This is how i am reading a response"},{"owner":{"account_id":217137,"reputation":37872,"user_id":472792,"accept_rate":50,"display_name":"Arjan Tijms"},"score":1,"creation_date":1299932375,"post_id":5243505,"comment_id":5952910,"body_markdown":"As an extra hint, I would like to suggest not doing string concatenation is a loop. This can be highly inefficient for non trivial input sizes.","body":"As an extra hint, I would like to suggest not doing string concatenation is a loop. This can be highly inefficient for non trivial input sizes."}],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1299932344,"creation_date":1299932344,"answer_id":5282431,"question_id":5243505,"body_markdown":"You mention that the MIME type of the output data is `application/x-protobuffer`.  In that case, the output you&#39;re getting is probably a &lt;a href=&quot;http://code.google.com/apis/protocolbuffers/&quot;&gt;protocol buffer&lt;/a&gt;.  Protocol buffers are a binary format, and the response you&#39;ve got looks like garbage because you attempted to decode binary data as if it were text.\r\n\r\nYou may need to use Google&#39;s &lt;a href=&quot;http://code.google.com/apis/protocolbuffers/&quot;&gt;Protocol Buffers&lt;/a&gt; code to read this data.","title":"Response from a URL","body":"<p>You mention that the MIME type of the output data is <code>application/x-protobuffer</code>.  In that case, the output you're getting is probably a <a href=\"http://code.google.com/apis/protocolbuffers/\" rel=\"nofollow\">protocol buffer</a>.  Protocol buffers are a binary format, and the response you've got looks like garbage because you attempted to decode binary data as if it were text.</p>\n\n<p>You may need to use Google's <a href=\"http://code.google.com/apis/protocolbuffers/\" rel=\"nofollow\">Protocol Buffers</a> code to read this data.</p>\n"}],"owner":{"account_id":183096,"reputation":1351,"user_id":418271,"accept_rate":35,"display_name":"AutoMEta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1677237772,"creation_date":1299661950,"question_id":5243505,"body_markdown":"I am getting a response from a URL and I am printing on the console.\r\n\r\nThe response is `Š&#232;&#244;;\tfRE&#239;p\\&#244;&#173;`.\r\n\r\nCan anyone tell me how to read this response?\r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\n    String line;\r\n    while ((line = reader.readLine()) != null) {\r\n       response = response + line;\r\n    }\r\n\r\n\r\nThis is how I am reading a response \r\nand the output of ``System.out.println(conn.getContentType());``\r\nis application/x-protobuffer\r\n","title":"Response from a URL","body":"<p>I am getting a response from a URL and I am printing on the console.</p>\n<p>The response is <code>Šèô;   fREïp\\ô­</code>.</p>\n<p>Can anyone tell me how to read this response?</p>\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream()));\nString line;\nwhile ((line = reader.readLine()) != null) {\n   response = response + line;\n}\n</code></pre>\n<p>This is how I am reading a response\nand the output of <code>System.out.println(conn.getContentType());</code>\nis application/x-protobuffer</p>\n"},{"tags":["java","reflection","dynamic-loading"],"comments":[{"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"score":0,"creation_date":1589109915,"post_id":2946338,"comment_id":109156884,"body_markdown":"You can do it but you need to use JDK, not JRE . https://medium.com/@davutgrbz/the-need-history-c91c9d38ec9","body":"You can do it but you need to use JDK, not JRE . <a href=\"https://medium.com/@davutgrbz/the-need-history-c91c9d38ec9\" rel=\"nofollow noreferrer\">medium.com/@davutgrbz/the-need-history-c91c9d38ec9</a>"}],"answers":[{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1275347013,"creation_date":1275347013,"answer_id":2946374,"question_id":2946338,"body_markdown":"Your commented code is correct if you know that the class has a public no-arg constructor. You just have to cast the result, as the compiler can&#39;t know that the class will in fact implement `IDynamicLoad`. So:\r\n\r\n       IDynamicLoad newClass = (IDynamicLoad) Class.forName(class_name).newInstance();\r\n\r\nOf course the class has to be compiled and on the classpath for that to work.\r\n\r\nIf you are looking to dynamically compile a class from source code, that is a whole other kettle of fish.","title":"How do I programmatically compile and instantiate a Java class?","body":"<p>Your commented code is correct if you know that the class has a public no-arg constructor. You just have to cast the result, as the compiler can't know that the class will in fact implement <code>IDynamicLoad</code>. So:</p>\n\n<pre><code>   IDynamicLoad newClass = (IDynamicLoad) Class.forName(class_name).newInstance();\n</code></pre>\n\n<p>Of course the class has to be compiled and on the classpath for that to work.</p>\n\n<p>If you are looking to dynamically compile a class from source code, that is a whole other kettle of fish.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":157,"is_accepted":true,"score":157,"last_activity_date":1677237629,"creation_date":1275347463,"answer_id":2946402,"question_id":2946338,"body_markdown":"&gt; *How do I load a Java Class that is not compiled?*\r\n\r\nYou need to compile it first. This can be done programmatically with the [`javax.tools` API][1]. This only requires the [JDK][2] being installed at the local machine on top of JRE. \r\n\r\nHere&#39;s a basic kickoff example (leaving obvious exception handling aside):\r\n\r\n    // Prepare source somehow.\r\n    String source = &quot;package test; public class Test { static { System.out.println(\\&quot;hello\\&quot;); } public Test() { System.out.println(\\&quot;world\\&quot;); } }&quot;;\r\n\r\n    // Save source in .java file.\r\n    File root = Files.createTempDirectory(&quot;java&quot;).toFile();\r\n    File sourceFile = new File(root, &quot;test/Test.java&quot;);\r\n    sourceFile.getParentFile().mkdirs();\r\n    Files.write(sourceFile.toPath(), source.getBytes(StandardCharsets.UTF_8));\r\n\r\n    // Compile source file.\r\n    JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n    compiler.run(null, null, null, sourceFile.getPath());\r\n\r\n    // Load and instantiate compiled class.\r\n    URLClassLoader classLoader = URLClassLoader.newInstance(new URL[] { root.toURI().toURL() });\r\n    Class&lt;?&gt; cls = Class.forName(&quot;test.Test&quot;, true, classLoader); // Should print &quot;hello&quot;.\r\n    Object instance = cls.getDeclaredConstructor().newInstance(); // Should print &quot;world&quot;.\r\n    System.out.println(instance); // Should print &quot;test.Test@hashcode&quot;.\r\n\r\nWhich yields like\r\n\r\n    hello\r\n    world\r\n    test.Test@cafebabe\r\n\r\nFurther use would be more easy if those classes `implements` a certain interface which is already in the classpath. \r\n\r\n    SomeInterface instance = (SomeInterface) cls.getDeclaredConstructor().newInstance();\r\n\r\nOtherwise you need to involve the [Reflection API][3] to access and invoke the (unknown) methods/fields.\r\n\r\n---\r\n\r\nThat said and unrelated to the actual problem:\r\n\r\n    properties.load(new FileInputStream(new File(&quot;ClassName.properties&quot;)));\r\n\r\nLetting `java.io.File` rely on current working directory is recipe for portability trouble. Don&#39;t do that. Put that file in classpath and use [`ClassLoader#getResourceAsStream()`][4]  with a classpath-relative path. \r\n\r\n    properties.load(Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;ClassName.properties&quot;));\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.compiler/javax/tools/package-summary.html\r\n  [2]: https://www.oracle.com/java/technologies/downloads/\r\n  [3]: https://docs.oracle.com/javase/tutorial/reflect/\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)","title":"How do I programmatically compile and instantiate a Java class?","body":"<blockquote>\n<p><em>How do I load a Java Class that is not compiled?</em></p>\n</blockquote>\n<p>You need to compile it first. This can be done programmatically with the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.compiler/javax/tools/package-summary.html\" rel=\"noreferrer\"><code>javax.tools</code> API</a>. This only requires the <a href=\"https://www.oracle.com/java/technologies/downloads/\" rel=\"noreferrer\">JDK</a> being installed at the local machine on top of JRE.</p>\n<p>Here's a basic kickoff example (leaving obvious exception handling aside):</p>\n<pre><code>// Prepare source somehow.\nString source = &quot;package test; public class Test { static { System.out.println(\\&quot;hello\\&quot;); } public Test() { System.out.println(\\&quot;world\\&quot;); } }&quot;;\n\n// Save source in .java file.\nFile root = Files.createTempDirectory(&quot;java&quot;).toFile();\nFile sourceFile = new File(root, &quot;test/Test.java&quot;);\nsourceFile.getParentFile().mkdirs();\nFiles.write(sourceFile.toPath(), source.getBytes(StandardCharsets.UTF_8));\n\n// Compile source file.\nJavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\ncompiler.run(null, null, null, sourceFile.getPath());\n\n// Load and instantiate compiled class.\nURLClassLoader classLoader = URLClassLoader.newInstance(new URL[] { root.toURI().toURL() });\nClass&lt;?&gt; cls = Class.forName(&quot;test.Test&quot;, true, classLoader); // Should print &quot;hello&quot;.\nObject instance = cls.getDeclaredConstructor().newInstance(); // Should print &quot;world&quot;.\nSystem.out.println(instance); // Should print &quot;test.Test@hashcode&quot;.\n</code></pre>\n<p>Which yields like</p>\n<pre><code>hello\nworld\ntest.Test@cafebabe\n</code></pre>\n<p>Further use would be more easy if those classes <code>implements</code> a certain interface which is already in the classpath.</p>\n<pre><code>SomeInterface instance = (SomeInterface) cls.getDeclaredConstructor().newInstance();\n</code></pre>\n<p>Otherwise you need to involve the <a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"noreferrer\">Reflection API</a> to access and invoke the (unknown) methods/fields.</p>\n<hr />\n<p>That said and unrelated to the actual problem:</p>\n<pre><code>properties.load(new FileInputStream(new File(&quot;ClassName.properties&quot;)));\n</code></pre>\n<p>Letting <code>java.io.File</code> rely on current working directory is recipe for portability trouble. Don't do that. Put that file in classpath and use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)\" rel=\"noreferrer\"><code>ClassLoader#getResourceAsStream()</code></a>  with a classpath-relative path.</p>\n<pre><code>properties.load(Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;ClassName.properties&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":343252,"reputation":1265,"user_id":674855,"display_name":"Sriram Srinivasan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1317957257,"creation_date":1317957257,"answer_id":7682692,"question_id":2946338,"body_markdown":"In the same vein as BalusC&#39;s answer, but a bit more automatic wrapper is here in this piece of code from my kilim distribution.\r\n[https://github.com/kilim/kilim/blob/master/src/kilim/tools/Javac.java][1]\r\n\r\nIt takes a list of strings containing Java source, extracts the package and public class/interface names and creates the corresponding directory/file hierarchy in a tmp directory. It then runs the java compiler on it, and returns a list of name,classfile pairs (the ClassInfo structure). \r\n\r\nHelp yourself to the code. It is MIT licensed.\r\n\r\n  [1]: https://github.com/kilim/kilim/blob/master/src/kilim/tools/Javac.java","title":"How do I programmatically compile and instantiate a Java class?","body":"<p>In the same vein as BalusC's answer, but a bit more automatic wrapper is here in this piece of code from my kilim distribution.\n<a href=\"https://github.com/kilim/kilim/blob/master/src/kilim/tools/Javac.java\" rel=\"noreferrer\">https://github.com/kilim/kilim/blob/master/src/kilim/tools/Javac.java</a></p>\n\n<p>It takes a list of strings containing Java source, extracts the package and public class/interface names and creates the corresponding directory/file hierarchy in a tmp directory. It then runs the java compiler on it, and returns a list of name,classfile pairs (the ClassInfo structure). </p>\n\n<p>Help yourself to the code. It is MIT licensed.</p>\n"}],"owner":{"account_id":30252,"reputation":52431,"user_id":82368,"accept_rate":71,"display_name":"unj2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68449,"favorite_count":0,"down_vote_count":0,"up_vote_count":78,"accepted_answer_id":2946402,"answer_count":3,"score":78,"last_activity_date":1677237629,"creation_date":1275346391,"question_id":2946338,"body_markdown":"I have the class name stored in a property file. I know that the classes store will implement IDynamicLoad. How do I instantiate the class dynamically?\r\n\r\nRight now I have\r\n\r\n         Properties foo = new Properties();\r\n        foo.load(new FileInputStream(new File(&quot;ClassName.properties&quot;)));\r\n        String class_name = foo.getProperty(&quot;class&quot;,&quot;DefaultClass&quot;);\r\n        //IDynamicLoad newClass = Class.forName(class_name).newInstance();\r\n\r\n\r\nDoes the newInstance only load compiled .class files? How do I load a Java Class that is not compiled?","title":"How do I programmatically compile and instantiate a Java class?","body":"<p>I have the class name stored in a property file. I know that the classes store will implement IDynamicLoad. How do I instantiate the class dynamically?</p>\n\n<p>Right now I have</p>\n\n<pre><code>     Properties foo = new Properties();\n    foo.load(new FileInputStream(new File(\"ClassName.properties\")));\n    String class_name = foo.getProperty(\"class\",\"DefaultClass\");\n    //IDynamicLoad newClass = Class.forName(class_name).newInstance();\n</code></pre>\n\n<p>Does the newInstance only load compiled .class files? How do I load a Java Class that is not compiled?</p>\n"},{"tags":["java","spring-boot","hibernate","multi-tenant"],"comments":[{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1677238843,"post_id":75555939,"comment_id":133302992,"body_markdown":"You should re-test with a build of Hibernate from current git main branch. If it doesn&#39;t work, comment on this issue https://hibernate.atlassian.net/browse/HHH-16167","body":"You should re-test with a build of Hibernate from current git main branch. If it doesn&#39;t work, comment on this issue <a href=\"https://hibernate.atlassian.net/browse/HHH-16167\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-16167</a>"}],"owner":{"account_id":5006112,"reputation":881,"user_id":4023726,"accept_rate":92,"display_name":"James Hutchinson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677237609,"creation_date":1677237609,"question_id":75555939,"body_markdown":"I have a composite key for my class which includes TenantId. Upon starting the application I get an exception:\r\n\r\nCaused by: org.hibernate.cfg.NotYetImplementedException: Still need to wire in composite in-memory value generation\r\n\r\n```\r\n&lt;hibernate.version&gt;6.1.7.Final&lt;/hibernate.version&gt;\r\n```\r\n\r\n```\r\n@Entity\r\n@IdClass(NodeId.class)\r\npublic class Node {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private long id;\r\n\r\n    @TenantId\r\n    @Id\r\n    @Column(name = &quot;tenant_id&quot;)\r\n    private String tenantId;\r\n\r\n// other code removed for brevity.\r\n\r\n```\r\n```\r\n@Getter\r\n@Setter\r\npublic class NodeId implements Serializable {\r\n    private long id;\r\n    private String tenantId;\r\n\r\n    private NodeId() {\r\n    }\r\n\r\n    public NodeId(long id, String tenantId) {\r\n        this.id = id;\r\n        this.tenantId = tenantId;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof NodeId)) return false;\r\n        NodeId that = (NodeId) o;\r\n        return Objects.equals(getId(), that.getId()) &amp;&amp;\r\n            Objects.equals(getTenantId(), that.getTenantId());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(getId(), getTenantId());\r\n    }\r\n}\r\n\r\n```\r\n```\r\n\r\njava.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6ddc817f testClass = org.inventory.TagGrpcItTest, locations = [], classes = [org.inventory.InventoryApplication], contextInitializerClasses = [org.inventory.SpringContextTestInitializer], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a7288a3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@68b6f0d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@afd9cfa1, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@65b3a85a, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@72cf2de5, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@df521845, org.springframework.boot.test.context.SpringBootTestAnnotation@1e62ce95], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.cfg.NotYetImplementedException: Still need to wire in composite in-memory value generation\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\r\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\r\n\t... 72 more\r\nCaused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.cfg.NotYetImplementedException: Still need to wire in composite in-memory value generation\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\r\n\t... 93 more\r\nCaused by: org.hibernate.cfg.NotYetImplementedException: Still need to wire in composite in-memory value generation\r\n\tat org.hibernate.tuple.entity.EntityMetamodel$CompositeGenerationStrategyPairBuilder.buildPair(EntityMetamodel.java:601)\r\n\tat org.hibernate.tuple.entity.EntityMetamodel.buildGenerationStrategyPair(EntityMetamodel.java:460)\r\n\tat org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:296)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:728)\r\n\tat org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:152)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:92)\r\n\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:75)\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.processBootEntities(MappingMetamodelImpl.java:278)\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:211)\r\n\tat org.hibernate.metamodel.internal.RuntimeMetamodelsImpl.finishInitialization(RuntimeMetamodelsImpl.java:60)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:311)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1423)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n\t... 97 more\r\n```\r\n\r\nThere is a very similar question here: https://stackoverflow.com/questions/75232660/hibernate-tenantid-annotation-doesnt-work-with-embedded-class\r\n(This is different though, as it uses Embedded class)\r\n\r\nI read elsewhere that GeneratedValue cannot work with an Embedded key, and that I must use IdClass. Also, commenting out @TenantId moves past my error.","title":"Hibernate not working for @TenantId, and @IdClass","body":"<p>I have a composite key for my class which includes TenantId. Upon starting the application I get an exception:</p>\n<p>Caused by: org.hibernate.cfg.NotYetImplementedException: Still need to wire in composite in-memory value generation</p>\n<pre><code>&lt;hibernate.version&gt;6.1.7.Final&lt;/hibernate.version&gt;\n</code></pre>\n<pre><code>@Entity\n@IdClass(NodeId.class)\npublic class Node {\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private long id;\n\n    @TenantId\n    @Id\n    @Column(name = &quot;tenant_id&quot;)\n    private String tenantId;\n\n// other code removed for brevity.\n\n</code></pre>\n<pre><code>@Getter\n@Setter\npublic class NodeId implements Serializable {\n    private long id;\n    private String tenantId;\n\n    private NodeId() {\n    }\n\n    public NodeId(long id, String tenantId) {\n        this.id = id;\n        this.tenantId = tenantId;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof NodeId)) return false;\n        NodeId that = (NodeId) o;\n        return Objects.equals(getId(), that.getId()) &amp;&amp;\n            Objects.equals(getTenantId(), that.getTenantId());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(getId(), getTenantId());\n    }\n}\n\n</code></pre>\n<pre><code>\njava.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6ddc817f testClass = org.inventory.TagGrpcItTest, locations = [], classes = [org.inventory.InventoryApplication], contextInitializerClasses = [org.inventory.SpringContextTestInitializer], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a7288a3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@68b6f0d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@afd9cfa1, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@65b3a85a, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@72cf2de5, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@df521845, org.springframework.boot.test.context.SpringBootTestAnnotation@1e62ce95], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.cfg.NotYetImplementedException: Still need to wire in composite in-memory value generation\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\n    ... 72 more\nCaused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.cfg.NotYetImplementedException: Still need to wire in composite in-memory value generation\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\n    ... 93 more\nCaused by: org.hibernate.cfg.NotYetImplementedException: Still need to wire in composite in-memory value generation\n    at org.hibernate.tuple.entity.EntityMetamodel$CompositeGenerationStrategyPairBuilder.buildPair(EntityMetamodel.java:601)\n    at org.hibernate.tuple.entity.EntityMetamodel.buildGenerationStrategyPair(EntityMetamodel.java:460)\n    at org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:296)\n    at org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:728)\n    at org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:152)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:92)\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:75)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.processBootEntities(MappingMetamodelImpl.java:278)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:211)\n    at org.hibernate.metamodel.internal.RuntimeMetamodelsImpl.finishInitialization(RuntimeMetamodelsImpl.java:60)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:311)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1423)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n    ... 97 more\n</code></pre>\n<p>There is a very similar question here: <a href=\"https://stackoverflow.com/questions/75232660/hibernate-tenantid-annotation-doesnt-work-with-embedded-class\">Hibernate @TenantId annotation doesn&#39;t work with @Embedded class</a>\n(This is different though, as it uses Embedded class)</p>\n<p>I read elsewhere that GeneratedValue cannot work with an Embedded key, and that I must use IdClass. Also, commenting out @TenantId moves past my error.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9372,"page":620,"page_size":100}
