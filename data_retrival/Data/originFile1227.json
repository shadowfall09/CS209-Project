{"items":[{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1656450875,"post_id":72793132,"comment_id":128574734,"body_markdown":"Is there a reason why you have to do all that method concatenation and get the resultset directly? And is there a reason why you can&#39;t set `companyIdsOnBehalf` to a value that would have the same effect as not setting it (i. e. so that part of the where clause ends up as `companyIdsOnBehalf like &#39;%&#39;`). Because if there isn&#39;t, you can set `param1` and `param2`, then set `companyIdsOnBehalf` to whichever value depending on the `addEmail` flag, then do the calls to `.setFirstResult()` etc.","body":"Is there a reason why you have to do all that method concatenation and get the resultset directly? And is there a reason why you can&#39;t set <code>companyIdsOnBehalf</code> to a value that would have the same effect as not setting it (i. e. so that part of the where clause ends up as <code>companyIdsOnBehalf like &#39;%&#39;</code>). Because if there isn&#39;t, you can set <code>param1</code> and <code>param2</code>, then set <code>companyIdsOnBehalf</code> to whichever value depending on the <code>addEmail</code> flag, then do the calls to <code>.setFirstResult()</code> etc."}],"answers":[{"tags":[],"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656453043,"creation_date":1656451562,"answer_id":72793327,"question_id":72793132,"body_markdown":"Wouldn&#39;t this work for you?\r\n\r\n```\r\nvar executionQuery = addEmail ? queryWithEmail : queryNoEmail;\r\n\r\nvar query = em.createNativeQuery(executionQuery)\r\n                .setParameter(&quot;param1&quot;, val1)\r\n                .setParameter(&quot;param2&quot;, val2)\r\n                .setFirstResult(offset)\r\n                .setMaxResults(max);\r\n\r\nif (addEmail) query.setParameter(&quot;param3&quot;, val3);\r\n   \r\nreturn query.getResultList();\r\n```","title":"Java : Is it possible to set paramters selectively?","body":"<p>Wouldn't this work for you?</p>\n<pre><code>var executionQuery = addEmail ? queryWithEmail : queryNoEmail;\n\nvar query = em.createNativeQuery(executionQuery)\n                .setParameter(&quot;param1&quot;, val1)\n                .setParameter(&quot;param2&quot;, val2)\n                .setFirstResult(offset)\n                .setMaxResults(max);\n\nif (addEmail) query.setParameter(&quot;param3&quot;, val3);\n   \nreturn query.getResultList();\n</code></pre>\n"}],"owner":{"account_id":873703,"reputation":2551,"user_id":923988,"accept_rate":88,"display_name":"VictorGram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72793327,"answer_count":1,"score":0,"last_activity_date":1656455924,"creation_date":1656450287,"question_id":72793132,"body_markdown":"Using jdk1.8. I need to set a param in a jpa-native-query based on a boolean value. Something like **(Please see the part where based on &quot;addEmail&quot;&#39;s  true/false value , trying to set/ignore &quot;param3&quot;. em is the entityManager)**:\r\n\r\n    results = em.createNativeQuery(executionQuery)\r\n                    .setParameter(&quot;param1&quot;, val1)\r\n                    .setParameter(&quot;param2&quot;, val2)\r\n                     if (addEmail){ .setParameter(&quot;param3&quot;, val3)}\r\n                    .setFirstResult(offset)\r\n                    .setMaxResults(max)\r\n                    .getResultList();\r\n\r\nis there  a way to do that? I was looking for some QueryOption. Not finding a good example","title":"Java : Is it possible to set paramters selectively?","body":"<p>Using jdk1.8. I need to set a param in a jpa-native-query based on a boolean value. Something like <strong>(Please see the part where based on &quot;addEmail&quot;'s  true/false value , trying to set/ignore &quot;param3&quot;. em is the entityManager)</strong>:</p>\n<pre><code>results = em.createNativeQuery(executionQuery)\n                .setParameter(&quot;param1&quot;, val1)\n                .setParameter(&quot;param2&quot;, val2)\n                 if (addEmail){ .setParameter(&quot;param3&quot;, val3)}\n                .setFirstResult(offset)\n                .setMaxResults(max)\n                .getResultList();\n</code></pre>\n<p>is there  a way to do that? I was looking for some QueryOption. Not finding a good example</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":17079442,"reputation":51,"user_id":19299440,"display_name":"Lekan Swansons"},"score":2,"creation_date":1656449497,"post_id":72792908,"comment_id":128574320,"body_markdown":"Extra line of what. What&#39; the expected behaviour? Hard to explain whats wrong without knwowing whats should be right.","body":"Extra line of what. What&#39; the expected behaviour? Hard to explain whats wrong without knwowing whats should be right."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1656451499,"post_id":72792908,"comment_id":128574888,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6276697,"reputation":56,"user_id":4879179,"display_name":"Bozon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656450271,"creation_date":1656450271,"answer_id":72793130,"question_id":72792908,"body_markdown":"The easiest way, without changing your code structure is not to print until the end. Use a StringBuffer or StringBuilder to hold the output and then clean up what you don&#39;t want before you print.\r\n\r\n```\r\nimport java.util.*;\r\n\r\n\r\npublic class Solution {\r\n\r\n\r\npublic static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    \r\n    int T = scanner.nextInt();\r\n    for(int i = 0; i &lt;= T; i++){\r\n        String SJ = scanner.nextLine();\r\n        \r\n        if(SJ.length() % 2 == 1){\r\n            for(int k = 0; k &lt; (SJ.length()+1)/2; k++){\r\n                //System.out.print(SJ.charAt(k*2));\r\n                sb.append(SJ.charAt(k*2));\r\n            }\r\n            \r\n            //System.out.print(&quot; &quot;);\r\n            sb.append(&quot; &quot;);\r\n            \r\n            for(int j = 0; j &lt; (SJ.length()-1)/2; j++){\r\n                //System.out.print(SJ.charAt(j*2+1));\r\n                sb.append(SJ.charAt(j*2+1));\r\n            }\r\n        }\r\n        else{\r\n            for(int k = 0; k &lt; SJ.length()/2; k++){\r\n                //System.out.print(SJ.charAt(k*2));\r\n                sb.append(SJ.charAt(k*2));\r\n            }\r\n            \r\n            //System.out.print(&quot; &quot;);\r\n            sb.append(&quot; &quot;);\r\n            \r\n            for(int j = 0; j &lt; SJ.length()/2; j++){\r\n                //System.out.print(SJ.charAt(j*2+1));\r\n                sb.append(SJ.charAt(j*2+1));\r\n            }\r\n        }\r\n        \r\n        //System.out.print(&quot;\\n&quot;);\r\n        sb.append(&quot;\\n&quot;);\r\n       \r\n    }\r\n\r\n    String str = sb.toString().replaceFirst(&quot;^\\\\s+&quot;, &quot;&quot;) ;\r\n    \r\n    System.out.print(str) ;\r\n    \r\n    scanner.close();\r\n}\r\n\r\n}\r\n```","title":"Extra line in output","body":"<p>The easiest way, without changing your code structure is not to print until the end. Use a StringBuffer or StringBuilder to hold the output and then clean up what you don't want before you print.</p>\n<pre><code>import java.util.*;\n\n\npublic class Solution {\n\n\npublic static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n\n    StringBuilder sb = new StringBuilder();\n    \n    int T = scanner.nextInt();\n    for(int i = 0; i &lt;= T; i++){\n        String SJ = scanner.nextLine();\n        \n        if(SJ.length() % 2 == 1){\n            for(int k = 0; k &lt; (SJ.length()+1)/2; k++){\n                //System.out.print(SJ.charAt(k*2));\n                sb.append(SJ.charAt(k*2));\n            }\n            \n            //System.out.print(&quot; &quot;);\n            sb.append(&quot; &quot;);\n            \n            for(int j = 0; j &lt; (SJ.length()-1)/2; j++){\n                //System.out.print(SJ.charAt(j*2+1));\n                sb.append(SJ.charAt(j*2+1));\n            }\n        }\n        else{\n            for(int k = 0; k &lt; SJ.length()/2; k++){\n                //System.out.print(SJ.charAt(k*2));\n                sb.append(SJ.charAt(k*2));\n            }\n            \n            //System.out.print(&quot; &quot;);\n            sb.append(&quot; &quot;);\n            \n            for(int j = 0; j &lt; SJ.length()/2; j++){\n                //System.out.print(SJ.charAt(j*2+1));\n                sb.append(SJ.charAt(j*2+1));\n            }\n        }\n        \n        //System.out.print(&quot;\\n&quot;);\n        sb.append(&quot;\\n&quot;);\n       \n    }\n\n    String str = sb.toString().replaceFirst(&quot;^\\\\s+&quot;, &quot;&quot;) ;\n    \n    System.out.print(str) ;\n    \n    scanner.close();\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656452065,"creation_date":1656451217,"answer_id":72793277,"question_id":72792908,"body_markdown":"The problem is that ```scanner.nextInt()``` reads an integer but leaves the linke break &quot;\\n&quot; in the memory buffer.  So, the first iteration of your loop reads the line break.  The extra line is the result of ```sb.append(&quot;\\n&quot;)``` in the first iteration.\r\n\r\n```\r\nint T = scanner.nextInt();\r\nfor(int i = 0; i &lt;= T; i++){\r\n  String SJ = scanner.nextLine();  //first iteration read is the empty line\r\n  ...\r\n  sb.append(&quot;\\n&quot;);\r\n}\r\n```\r\n\r\nYou need to consume the line break so that it&#39;s not read in the loop.\r\n```\r\nint T = scanner.nextInt();  \r\nscanner.nextLine();  // &lt;=== consume line break\r\nfor(int i = 0; i &lt;= T; i++){\r\n  String SJ = scanner.nextLine();  \r\n  ...\r\n  sb.append(&quot;\\n&quot;);\r\n}\r\n```","title":"Extra line in output","body":"<p>The problem is that <code>scanner.nextInt()</code> reads an integer but leaves the linke break &quot;\\n&quot; in the memory buffer.  So, the first iteration of your loop reads the line break.  The extra line is the result of <code>sb.append(&quot;\\n&quot;)</code> in the first iteration.</p>\n<pre><code>int T = scanner.nextInt();\nfor(int i = 0; i &lt;= T; i++){\n  String SJ = scanner.nextLine();  //first iteration read is the empty line\n  ...\n  sb.append(&quot;\\n&quot;);\n}\n</code></pre>\n<p>You need to consume the line break so that it's not read in the loop.</p>\n<pre><code>int T = scanner.nextInt();  \nscanner.nextLine();  // &lt;=== consume line break\nfor(int i = 0; i &lt;= T; i++){\n  String SJ = scanner.nextLine();  \n  ...\n  sb.append(&quot;\\n&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25675253,"reputation":1,"user_id":19438802,"display_name":"toboramai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656454299,"creation_date":1656454299,"answer_id":72793673,"question_id":72792908,"body_markdown":"You can use the formatter option to format the value as currency:\r\n\r\n```\r\nseries: [{\r\n    type: &#39;map&#39;,\r\n    name: &#39;Purchases $&#39;,\r\n    states: {\r\n        hover: {\r\n            color: &#39;#BADA55&#39;,\r\n        },\r\n    },\r\n    dataLabels: {\r\n        enabled: true,\r\n        format: &#39;{point.name}&#39;,\r\n        formatter: function() {\r\n            return &#39;$&#39; + this.y;\r\n        }\r\n    },\r\n    allAreas: true,\r\n    data: this.model,\r\n}],\r\n```\r\nYou can&#39;t access the data directly from the query. You need to use the snapshot listener to get the data.\r\n\r\nYou can use the query method to get the data from the query.\r\n\r\nquery(collectionRef, where(...q), orderBy(...ob), limit(...lmt))\r\n\r\nYou can use the onSnapshot method to get the data from the snapshot listener.\r\n```\r\nonSnapshot(collectionRef, snapshot =&gt; {\r\n    let results = []\r\n    snapshot.docs.forEach(doc =&gt; {\r\n        results.push({ ...doc.data(), id: doc.id })\r\n    })\r\n    // update values\r\n    documents.value = results        \r\n})\r\n```\r\nThe snapshot listener will return the data from the query.\r\n\r\nOne potential issue could be that your CSV file has an extra line at the end. Try removing that extra line and see if that fixes the issue.","title":"Extra line in output","body":"<p>You can use the formatter option to format the value as currency:</p>\n<pre><code>series: [{\n    type: 'map',\n    name: 'Purchases $',\n    states: {\n        hover: {\n            color: '#BADA55',\n        },\n    },\n    dataLabels: {\n        enabled: true,\n        format: '{point.name}',\n        formatter: function() {\n            return '$' + this.y;\n        }\n    },\n    allAreas: true,\n    data: this.model,\n}],\n</code></pre>\n<p>You can't access the data directly from the query. You need to use the snapshot listener to get the data.</p>\n<p>You can use the query method to get the data from the query.</p>\n<p>query(collectionRef, where(...q), orderBy(...ob), limit(...lmt))</p>\n<p>You can use the onSnapshot method to get the data from the snapshot listener.</p>\n<pre><code>onSnapshot(collectionRef, snapshot =&gt; {\n    let results = []\n    snapshot.docs.forEach(doc =&gt; {\n        results.push({ ...doc.data(), id: doc.id })\n    })\n    // update values\n    documents.value = results        \n})\n</code></pre>\n<p>The snapshot listener will return the data from the query.</p>\n<p>One potential issue could be that your CSV file has an extra line at the end. Try removing that extra line and see if that fixes the issue.</p>\n"}],"owner":{"account_id":25583286,"reputation":1,"user_id":19361439,"display_name":"Charis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1656454299,"creation_date":1656448779,"question_id":72792908,"body_markdown":"I have been trying to solve day 6 of Hackerrank&#39;s 30 days of code in Java 8. My output is generally correct, but there is an extra line in the beginning. Is there any way I can get rid of it?\r\n\r\n\r\n    import java.util.*;\r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            \r\n            int T = scanner.nextInt();\r\n            for(int i = 0; i &lt;= T; i++){\r\n                String SJ = scanner.nextLine();\r\n                \r\n                if(SJ.length() % 2 == 1){\r\n                    for(int k = 0; k &lt; (SJ.length()+1)/2; k++){\r\n                        System.out.print(SJ.charAt(k*2));\r\n                    }\r\n                    \r\n                    System.out.print(&quot; &quot;);\r\n                    \r\n                    for(int j = 0; j &lt; (SJ.length()-1)/2; j++){\r\n                        System.out.print(SJ.charAt(j*2+1));\r\n                    }\r\n                }\r\n                else{\r\n                    for(int k = 0; k &lt; SJ.length()/2; k++){\r\n                        System.out.print(SJ.charAt(k*2));\r\n                    }\r\n                    \r\n                    System.out.print(&quot; &quot;);\r\n                    \r\n                    for(int j = 0; j &lt; SJ.length()/2; j++){\r\n                        System.out.print(SJ.charAt(j*2+1));\r\n                    }\r\n                }\r\n                \r\n                System.out.print(&quot;\\n&quot;);\r\n            }\r\n            \r\n            scanner.close();\r\n        }\r\n    }\r\n\r\n","title":"Extra line in output","body":"<p>I have been trying to solve day 6 of Hackerrank's 30 days of code in Java 8. My output is generally correct, but there is an extra line in the beginning. Is there any way I can get rid of it?</p>\n<pre><code>import java.util.*;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        \n        int T = scanner.nextInt();\n        for(int i = 0; i &lt;= T; i++){\n            String SJ = scanner.nextLine();\n            \n            if(SJ.length() % 2 == 1){\n                for(int k = 0; k &lt; (SJ.length()+1)/2; k++){\n                    System.out.print(SJ.charAt(k*2));\n                }\n                \n                System.out.print(&quot; &quot;);\n                \n                for(int j = 0; j &lt; (SJ.length()-1)/2; j++){\n                    System.out.print(SJ.charAt(j*2+1));\n                }\n            }\n            else{\n                for(int k = 0; k &lt; SJ.length()/2; k++){\n                    System.out.print(SJ.charAt(k*2));\n                }\n                \n                System.out.print(&quot; &quot;);\n                \n                for(int j = 0; j &lt; SJ.length()/2; j++){\n                    System.out.print(SJ.charAt(j*2+1));\n                }\n            }\n            \n            System.out.print(&quot;\\n&quot;);\n        }\n        \n        scanner.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"score":1,"creation_date":1498212890,"post_id":44718763,"comment_id":76419784,"body_markdown":"I don&#39;t think you should actually inherit properties. IMO, it is to risky. If you think about it, what happens if you inherit the same property from two differents dependencies ? How can you detect these conflicts ?","body":"I don&#39;t think you should actually inherit properties. IMO, it is to risky. If you think about it, what happens if you inherit the same property from two differents dependencies ? How can you detect these conflicts ?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1498213718,"post_id":44718763,"comment_id":76420337,"body_markdown":"Well, but how could I then add configurations that should apply to all of my projects. Imagine I want to define a company-wide commons project, that sets eg the `Logger` to use, a common `MailSender`, xml configuration etc. Each project inheriting from it should be forced to use this config... Also `spring-boot` itself somehow manages it to define default properties. And they can even be overridden. But how do they achieve this?","body":"Well, but how could I then add configurations that should apply to all of my projects. Imagine I want to define a company-wide commons project, that sets eg the <code>Logger</code> to use, a common <code>MailSender</code>, xml configuration etc. Each project inheriting from it should be forced to use this config... Also <code>spring-boot</code> itself somehow manages it to define default properties. And they can even be overridden. But how do they achieve this?"},{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1498217781,"post_id":44718763,"comment_id":76422979,"body_markdown":"@membersound you got the answer?","body":"@membersound you got the answer?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1498219743,"post_id":44718763,"comment_id":76424270,"body_markdown":"You mean below? Yes, but did not work.","body":"You mean below? Yes, but did not work."},{"owner":{"account_id":6752840,"reputation":2432,"user_id":5202340,"accept_rate":70,"display_name":"Lazar Lazarov"},"score":0,"creation_date":1498221520,"post_id":44718763,"comment_id":76425443,"body_markdown":"You created a library with Spring-Boot and used application.properties ?? The library to include in a project is something static that is not stand alone launchable | =&gt; you should not use this approach. In other case you can just include the library(project) itself into your main one. Of course this is only my opinion.","body":"You created a library with Spring-Boot and used application.properties ?? The library to include in a project is something static that is not stand alone launchable | =&gt; you should not use this approach. In other case you can just include the library(project) itself into your main one. Of course this is only my opinion."}],"answers":[{"tags":[],"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498215508,"creation_date":1498215508,"answer_id":44719758,"question_id":44718763,"body_markdown":"You can try this with Spring.\r\n\r\nYou can define your `src/main/resources/application.properties` in a common module as you mentionned. It will be present in classpath for other project that depends on it.\r\n\r\nThen with Annotation `@PropertySource`, in other projects that depends on common module :\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath*:META-INF/spring/properties/*.properties&quot;)\r\n    public class Config {\r\n      ...\r\n    }\r\n\r\nOr with XML configuration :\r\n\r\n    &lt;context:property-placeholder location=&quot;classpath*:META-INF/spring/properties/*.properties&quot;/&gt;\r\n\r\nIt should import all the configuration files in the give classpath directory.\r\n\r\n**Also, you should be aware that you can&#39;t have two same files in classpath. You will have a conflict.**\r\n\r\nFor instance, this situation will generate a **conflict** :\r\n\r\nProject A (depends on Project B) : \r\n\r\n - `src/main/resources/application.properties`\r\n\r\nProject B : \r\n\r\n - `src/main/resources/application.properties`\r\n\r\nYou will have to rename `application.properties` file or to put it in a different directory.","title":"How to inherit application.properties in Spring?","body":"<p>You can try this with Spring.</p>\n\n<p>You can define your <code>src/main/resources/application.properties</code> in a common module as you mentionned. It will be present in classpath for other project that depends on it.</p>\n\n<p>Then with Annotation <code>@PropertySource</code>, in other projects that depends on common module :</p>\n\n<pre><code>@Configuration\n@PropertySource(\"classpath*:META-INF/spring/properties/*.properties\")\npublic class Config {\n  ...\n}\n</code></pre>\n\n<p>Or with XML configuration :</p>\n\n<pre><code>&lt;context:property-placeholder location=\"classpath*:META-INF/spring/properties/*.properties\"/&gt;\n</code></pre>\n\n<p>It should import all the configuration files in the give classpath directory.</p>\n\n<p><strong>Also, you should be aware that you can't have two same files in classpath. You will have a conflict.</strong></p>\n\n<p>For instance, this situation will generate a <strong>conflict</strong> :</p>\n\n<p>Project A (depends on Project B) : </p>\n\n<ul>\n<li><code>src/main/resources/application.properties</code></li>\n</ul>\n\n<p>Project B : </p>\n\n<ul>\n<li><code>src/main/resources/application.properties</code></li>\n</ul>\n\n<p>You will have to rename <code>application.properties</code> file or to put it in a different directory.</p>\n"},{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1498222498,"creation_date":1498222498,"answer_id":44722003,"question_id":44718763,"body_markdown":"Solution is to include the shared properties using a different name, here `application-shared.properties`\r\n\r\nIn shared library:\r\n\r\n    @SpringBootApplication\r\n    @PropertySource(ResourceUtils.CLASSPATH_URL_PREFIX + &quot;application-shared.properties&quot;) //can be overridden by application.properties\r\n    public class SharedAutoConfiguration {\r\n    }\r\n\r\nIn main app:\r\n\r\n    @SpringBootApplication\r\n    @Import(SharedAutoConfiguration.class)\r\n    public class MainAppConfiguration extends SpringBootServletInitializer {\r\n\r\n    }\r\n\r\nThis way the commons/shared config gets loaded, but is though able to be overridden in application.properties of main app.\r\n\r\nIt does not work with the `spring.main.banner-mode` property (don&#39;t know why), but with all other properties it worked well.\r\n","title":"How to inherit application.properties in Spring?","body":"<p>Solution is to include the shared properties using a different name, here <code>application-shared.properties</code></p>\n\n<p>In shared library:</p>\n\n<pre><code>@SpringBootApplication\n@PropertySource(ResourceUtils.CLASSPATH_URL_PREFIX + \"application-shared.properties\") //can be overridden by application.properties\npublic class SharedAutoConfiguration {\n}\n</code></pre>\n\n<p>In main app:</p>\n\n<pre><code>@SpringBootApplication\n@Import(SharedAutoConfiguration.class)\npublic class MainAppConfiguration extends SpringBootServletInitializer {\n\n}\n</code></pre>\n\n<p>This way the commons/shared config gets loaded, but is though able to be overridden in application.properties of main app.</p>\n\n<p>It does not work with the <code>spring.main.banner-mode</code> property (don't know why), but with all other properties it worked well.</p>\n"},{"tags":[],"owner":{"account_id":8703816,"reputation":961,"user_id":6512661,"accept_rate":61,"display_name":"Silk0vsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656453985,"creation_date":1656453385,"answer_id":72793561,"question_id":44718763,"body_markdown":"I had a same motivation - to extract common configuration for typical service into a separate starter/library. I&#39;ve decided to move with `EnvironmentPostProcessor`\r\n\r\nMy `commons-web` library has its own `application-web.properties` with, lets say, single property:\r\n\r\n    spring.main.banner-mode: off\r\n\r\nAnd `EnvironmentPostProcessor` to pick it up\r\n\r\n    public class DefaultPropertiesEnvironmentPostProcessor implements EnvironmentPostProcessor {\r\n    \r\n      @SneakyThrows\r\n      @Override\r\n      public void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) {\r\n        environment.getPropertySources()\r\n            .addLast(new ResourcePropertySource(&quot;application-web.properties&quot;));\r\n      }\r\n    \r\n    }\r\n\r\nTo make it works you need to specify a post processor (on a library side) in `resources/META-INF/spring.factories` this way:\r\n\r\n    org.springframework.boot.env.EnvironmentPostProcessor=\\\r\n         com.surprise.starter.web.properties.DefaultPropertiesEnvironmentPostProcessor\r\n \r\n\r\n\r\n\r\nWith such solution it&#39;s possible to pick up this config on service side and override it in regular `application.properties`\r\n\r\n____\r\n\r\nI&#39;m not using `@PropertySource` cause there is [nuance][1] with properties ordering &amp; detection:\r\n\r\n&gt; ...\r\n&gt; \r\n&gt; @PropertySource annotations on your @Configuration classes. Please\r\n&gt; note that such property sources are not added to the Environment until\r\n&gt; the application context is being refreshed. This is too late to\r\n&gt; configure certain properties such as logging.* and spring.main.* which\r\n&gt; are read before refresh begins.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config","title":"How to inherit application.properties in Spring?","body":"<p>I had a same motivation - to extract common configuration for typical service into a separate starter/library. I've decided to move with <code>EnvironmentPostProcessor</code></p>\n<p>My <code>commons-web</code> library has its own <code>application-web.properties</code> with, lets say, single property:</p>\n<pre><code>spring.main.banner-mode: off\n</code></pre>\n<p>And <code>EnvironmentPostProcessor</code> to pick it up</p>\n<pre><code>public class DefaultPropertiesEnvironmentPostProcessor implements EnvironmentPostProcessor {\n\n  @SneakyThrows\n  @Override\n  public void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) {\n    environment.getPropertySources()\n        .addLast(new ResourcePropertySource(&quot;application-web.properties&quot;));\n  }\n\n}\n</code></pre>\n<p>To make it works you need to specify a post processor (on a library side) in <code>resources/META-INF/spring.factories</code> this way:</p>\n<pre><code>org.springframework.boot.env.EnvironmentPostProcessor=\\\n     com.surprise.starter.web.properties.DefaultPropertiesEnvironmentPostProcessor\n</code></pre>\n<p>With such solution it's possible to pick up this config on service side and override it in regular <code>application.properties</code></p>\n<hr />\n<p>I'm not using <code>@PropertySource</code> cause there is <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">nuance</a> with properties ordering &amp; detection:</p>\n<blockquote>\n<p>...</p>\n<p>@PropertySource annotations on your @Configuration classes. Please\nnote that such property sources are not added to the Environment until\nthe application context is being refreshed. This is too late to\nconfigure certain properties such as logging.* and spring.main.* which\nare read before refresh begins.</p>\n</blockquote>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21077,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":44722003,"answer_count":3,"score":25,"last_activity_date":1656453985,"creation_date":1498212505,"question_id":44718763,"body_markdown":"If I create a commons library having an `application.properties` defining common configurations. Like:\r\n\r\n`spring.main.banner-mode=off`\r\n\r\nHow can I inherit these properties into another project where I include those commons library?\r\n\r\nMaven:\r\n\r\n    &lt;project ...&gt;\r\n        &lt;groupId&gt;de.mydomain&lt;/groupId&gt;\r\n        &lt;artifactId&gt;my-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;!-- this one holds the common application.properties --&gt;\r\n                &lt;groupId&gt;my.domain&lt;/groupId&gt;\r\n                &lt;artifactId&gt;my-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nHow can I inherit the configuration from `my-commons` to  `my-core`?","title":"How to inherit application.properties in Spring?","body":"<p>If I create a commons library having an <code>application.properties</code> defining common configurations. Like:</p>\n\n<p><code>spring.main.banner-mode=off</code></p>\n\n<p>How can I inherit these properties into another project where I include those commons library?</p>\n\n<p>Maven:</p>\n\n<pre><code>&lt;project ...&gt;\n    &lt;groupId&gt;de.mydomain&lt;/groupId&gt;\n    &lt;artifactId&gt;my-core&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;!-- this one holds the common application.properties --&gt;\n            &lt;groupId&gt;my.domain&lt;/groupId&gt;\n            &lt;artifactId&gt;my-commons&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>How can I inherit the configuration from <code>my-commons</code> to  <code>my-core</code>?</p>\n"},{"tags":["java","vert.x","quarkus","mutiny"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1625150963,"post_id":68210050,"comment_id":120556675,"body_markdown":"Are you sure the client is not setting this header? Have you verified with a network capture tool? Maybe it&#39;s the server that is ignoring it","body":"Are you sure the client is not setting this header? Have you verified with a network capture tool? Maybe it&#39;s the server that is ignoring it"},{"owner":{"account_id":2018464,"reputation":189,"user_id":1805183,"accept_rate":11,"display_name":"mayur_mitkari"},"score":0,"creation_date":1625204735,"post_id":68210050,"comment_id":120570167,"body_markdown":"If I remove setTryUseCompression(true) and add explicit accept-encoding header as gzip, I get the response header as content-encoding. But then web client is not able to decompress the response by default.","body":"If I remove setTryUseCompression(true) and add explicit accept-encoding header as gzip, I get the response header as content-encoding. But then web client is not able to decompress the response by default."}],"answers":[{"tags":[],"owner":{"account_id":3551827,"reputation":335,"user_id":2966517,"display_name":"Julien Viet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626710965,"creation_date":1626710965,"answer_id":68443721,"question_id":68210050,"body_markdown":"you should create the client with the appropriate option independantly of chunking:\r\n\r\n```java\r\nclient = vertx.createHttpClient(createBaseClientOptions().setTryUseCompression(true));\r\n```\r\n\r\nThe `setTryUseCompression` actually tell the client to set an `accept-encoding` header to `gzip` and will decompress the response when the server has set the `content-encoding` header to `gzip`.\r\n\r\nThis is explained in the documentation https://vertx.io/docs/vertx-core/java/#_enabling_compression_on_the_client\r\n","title":"Support for Content-Encoding and Content-Decoding with Vert.x WebClient","body":"<p>you should create the client with the appropriate option independantly of chunking:</p>\n<pre class=\"lang-java prettyprint-override\"><code>client = vertx.createHttpClient(createBaseClientOptions().setTryUseCompression(true));\n</code></pre>\n<p>The <code>setTryUseCompression</code> actually tell the client to set an <code>accept-encoding</code> header to <code>gzip</code> and will decompress the response when the server has set the <code>content-encoding</code> header to <code>gzip</code>.</p>\n<p>This is explained in the documentation <a href=\"https://vertx.io/docs/vertx-core/java/#_enabling_compression_on_the_client\" rel=\"nofollow noreferrer\">https://vertx.io/docs/vertx-core/java/#_enabling_compression_on_the_client</a></p>\n"},{"tags":[],"owner":{"account_id":13338050,"reputation":484,"user_id":9627242,"display_name":"ajain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656453013,"creation_date":1656453013,"answer_id":72793517,"question_id":68210050,"body_markdown":"1. Use `setTryUseCompression= true` while creating your Webclient which tells client to set an accept-encoding header to gzip and will decompress under the hood the response when the server has set the content-encoding header to gzip.\r\n\r\n2. For my use I could not afford to set `setTryUseCompression` on my whole WebClient as it was being used in a complicated application, which in turn was making my other calls to fail.\r\nSo I had to write a custom decoder to decompress the response . Here is what I did. May be it will be helpful for someone in the future.\r\n\r\n```\r\n  private String decompressErrorBody(HttpResponse&lt;Buffer&gt; response) throws IOException {\r\n    if (&quot;gzip&quot;.equals(response.getHeader(&quot;Content-Encoding&quot;))) {\r\n      InputStream is = new ByteArrayInputStream(response.body().getBytes());\r\n      GZIPInputStream zipped = new GZIPInputStream(is);\r\n      BufferedReader r = new BufferedReader(new InputStreamReader(zipped));\r\n      StringWriter responseBody = new StringWriter();\r\n      PrintWriter responseWriter = new PrintWriter(responseBody);\r\n      String line = null;\r\n      while ((line = r.readLine()) != null) {\r\n        responseWriter.println(line);\r\n      }\r\n      return responseBody.toString();\r\n    } else {\r\n      return response.bodyAsString();\r\n    }\r\n  }\r\n```\r\n","title":"Support for Content-Encoding and Content-Decoding with Vert.x WebClient","body":"<ol>\n<li><p>Use <code>setTryUseCompression= true</code> while creating your Webclient which tells client to set an accept-encoding header to gzip and will decompress under the hood the response when the server has set the content-encoding header to gzip.</p>\n</li>\n<li><p>For my use I could not afford to set <code>setTryUseCompression</code> on my whole WebClient as it was being used in a complicated application, which in turn was making my other calls to fail.\nSo I had to write a custom decoder to decompress the response . Here is what I did. May be it will be helpful for someone in the future.</p>\n</li>\n</ol>\n<pre><code>  private String decompressErrorBody(HttpResponse&lt;Buffer&gt; response) throws IOException {\n    if (&quot;gzip&quot;.equals(response.getHeader(&quot;Content-Encoding&quot;))) {\n      InputStream is = new ByteArrayInputStream(response.body().getBytes());\n      GZIPInputStream zipped = new GZIPInputStream(is);\n      BufferedReader r = new BufferedReader(new InputStreamReader(zipped));\n      StringWriter responseBody = new StringWriter();\n      PrintWriter responseWriter = new PrintWriter(responseBody);\n      String line = null;\n      while ((line = r.readLine()) != null) {\n        responseWriter.println(line);\n      }\n      return responseBody.toString();\n    } else {\n      return response.bodyAsString();\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":2018464,"reputation":189,"user_id":1805183,"accept_rate":11,"display_name":"mayur_mitkari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656453013,"creation_date":1625141898,"question_id":68210050,"body_markdown":"\r\n```\r\npublic VertxHttpClient(Vertx vertx) {\r\n    this(vertx, new WebClientOptions().setTryUseCompression(true));\r\n}\r\n```\r\n\r\nwhen I add accept-encoding header to the request.\r\n```\r\nkernelHttpRequest.setHeader(&quot;Accept-Encoding&quot;, &quot;gzip&quot;);\r\n```\r\nThe Vert.x-WebClient/3.9.5 ignores this header and The response which i receive from server does not have &quot;content-encoding&quot; header option.\r\n\r\nRather it have header as  &quot;Transfer-Encoding&quot;: &quot;chunked&quot;.\r\n\r\n```\r\n&quot;headers&quot;: {\r\n        &quot;Transfer-Encoding&quot;: [\r\n            &quot;chunked&quot;\r\n        ],\r\n\r\n```\r\n\r\nHow can i pass accept-encoding = gzip and decompress the response which i am getting from server with Vert.x-WebClient/3.9.5\r\n        ","title":"Support for Content-Encoding and Content-Decoding with Vert.x WebClient","body":"<pre><code>public VertxHttpClient(Vertx vertx) {\n    this(vertx, new WebClientOptions().setTryUseCompression(true));\n}\n</code></pre>\n<p>when I add accept-encoding header to the request.</p>\n<pre><code>kernelHttpRequest.setHeader(&quot;Accept-Encoding&quot;, &quot;gzip&quot;);\n</code></pre>\n<p>The Vert.x-WebClient/3.9.5 ignores this header and The response which i receive from server does not have &quot;content-encoding&quot; header option.</p>\n<p>Rather it have header as  &quot;Transfer-Encoding&quot;: &quot;chunked&quot;.</p>\n<pre><code>&quot;headers&quot;: {\n        &quot;Transfer-Encoding&quot;: [\n            &quot;chunked&quot;\n        ],\n\n</code></pre>\n<p>How can i pass accept-encoding = gzip and decompress the response which i am getting from server with Vert.x-WebClient/3.9.5</p>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":212390,"reputation":26536,"user_id":465179,"accept_rate":99,"display_name":"MatBanik"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1294160300,"creation_date":1294160300,"answer_id":4596230,"question_id":4595950,"body_markdown":"You need to have log4j.properties file in class-path (/WEB-INF/classes/) with following content:\n\n### log4j.properties file\n    datestamp=yyyy-MM-dd/HH:mm:ss.SSS/zzz\n    roll.pattern.hourly=.MM-dd-yyyy.HH\n    roll.pattern.daily=.MM-dd-yyyy\n\n    log4j.rootLogger=INFO, Console\n    log4j.logger=INFO, Console\n\n    log4j.appender.Console=org.apache.log4j.DailyRollingFileAppender\n    log4j.appender.Console.DatePattern=${roll.pattern.daily}\n    log4j.appender.Console.file=${catalina.home}/logs/Console.log\n    log4j.appender.Console.MaxFileSize=800KB\n    log4j.appender.Console.MaxBackupIndex=5\n    log4j.appender.Console.layout=org.apache.log4j.PatternLayout\n    log4j.appender.Console.layout.ConversionPattern=%d{${datestamp}} [%t] %-5p %m%n\n\n    log4j.appender.custom=org.apache.log4j.DailyRollingFileAppender\n    log4j.appender.custom.DatePattern=${roll.pattern.daily}\n    log4j.appender.custom.File=${catalina.home}/logs/custom.log\n    log4j.appender.custom.MaxFileSize=800KB\n    log4j.appender.custom.MaxBackupIndex=5\n    log4j.appender.custom.layout=org.apache.log4j.PatternLayout\n    log4j.appender.custom.layout.ConversionPattern=%d{${datestamp}} [%t] %-5p %m%n\n\n    log4j.logger.net.javax=DEBUG, custom\n\nThis will write your log entries into tomcat home directory /logs/custom.log\n\nHope this will help you.\n","title":"Capture javax.net.debug to file","body":"<p>You need to have log4j.properties file in class-path (/WEB-INF/classes/) with following content:</p>\n<h3>log4j.properties file</h3>\n<pre><code>datestamp=yyyy-MM-dd/HH:mm:ss.SSS/zzz\nroll.pattern.hourly=.MM-dd-yyyy.HH\nroll.pattern.daily=.MM-dd-yyyy\n\nlog4j.rootLogger=INFO, Console\nlog4j.logger=INFO, Console\n\nlog4j.appender.Console=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.Console.DatePattern=${roll.pattern.daily}\nlog4j.appender.Console.file=${catalina.home}/logs/Console.log\nlog4j.appender.Console.MaxFileSize=800KB\nlog4j.appender.Console.MaxBackupIndex=5\nlog4j.appender.Console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.Console.layout.ConversionPattern=%d{${datestamp}} [%t] %-5p %m%n\n\nlog4j.appender.custom=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.custom.DatePattern=${roll.pattern.daily}\nlog4j.appender.custom.File=${catalina.home}/logs/custom.log\nlog4j.appender.custom.MaxFileSize=800KB\nlog4j.appender.custom.MaxBackupIndex=5\nlog4j.appender.custom.layout=org.apache.log4j.PatternLayout\nlog4j.appender.custom.layout.ConversionPattern=%d{${datestamp}} [%t] %-5p %m%n\n\nlog4j.logger.net.javax=DEBUG, custom\n</code></pre>\n<p>This will write your log entries into tomcat home directory /logs/custom.log</p>\n<p>Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":268263,"reputation":4720,"user_id":556919,"accept_rate":86,"display_name":"mtraut"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1294165082,"creation_date":1294160314,"answer_id":4596236,"question_id":4595950,"body_markdown":"Maybe the subsystem makes its copy of the values and you are too late when switching. Try doing this first in your main.\r\n\r\nEDIT\r\n\r\nOK - i missed completely your idiom. I think you should not use this inner class. You should define a PrintStream instance on an OutputStream that creates a new log entry upon every &quot;\\n&quot;. The way you do it now misses a lot of possibilities to &quot;print around&quot; your instance.\r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\npackage de.mit.stackoverflow;\r\n\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\n\r\npublic class LogOutputStream extends OutputStream {\r\n\r\n\tprivate StringBuilder sb = new StringBuilder();\r\n\r\n\t@Override\r\n\tpublic void write(int b) throws IOException {\r\n\t\tif (b == &#39;\\n&#39;) {\r\n\t\t\tlog(sb.toString());\r\n\t\t\tsb.setLength(0);\r\n\t\t} else {\r\n\t\t\tsb.append((char) b);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\nand then do \r\n\r\n\t\tOutputStream os = new LogOutputStream();\r\n\t\tPrintStream ps = new PrintStream(os);\r\n\t\tSystem.setOut(ps);\r\n\r\nYou maybe still want to include a reference to the previous stream - left as excercise :-)","title":"Capture javax.net.debug to file","body":"<p>Maybe the subsystem makes its copy of the values and you are too late when switching. Try doing this first in your main.</p>\n\n<p>EDIT</p>\n\n<p>OK - i missed completely your idiom. I think you should not use this inner class. You should define a PrintStream instance on an OutputStream that creates a new log entry upon every \"\\n\". The way you do it now misses a lot of possibilities to \"print around\" your instance.</p>\n\n<pre>\n<code>\npackage de.mit.stackoverflow;\n\nimport java.io.IOException;\nimport java.io.OutputStream;\n\npublic class LogOutputStream extends OutputStream {\n\n    private StringBuilder sb = new StringBuilder();\n\n    @Override\n    public void write(int b) throws IOException {\n        if (b == '\\n') {\n            log(sb.toString());\n            sb.setLength(0);\n        } else {\n            sb.append((char) b);\n        }\n    }\n\n}\n\n</code>\n</pre>\n\n<p>and then do </p>\n\n<pre><code>    OutputStream os = new LogOutputStream();\n    PrintStream ps = new PrintStream(os);\n    System.setOut(ps);\n</code></pre>\n\n<p>You maybe still want to include a reference to the previous stream - left as excercise :-)</p>\n"},{"tags":[],"owner":{"account_id":4177,"reputation":32472,"user_id":6198,"accept_rate":86,"display_name":"Matt Solnit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1294165031,"creation_date":1294165031,"answer_id":4596940,"question_id":4595950,"body_markdown":"This is a long shot, but it&#39;s possible that overriding `print(String)` is not enough.  For example, there is also `print(Object)`, etc., not to mention the various `append()` and `format()` methods.","title":"Capture javax.net.debug to file","body":"<p>This is a long shot, but it's possible that overriding <code>print(String)</code> is not enough.  For example, there is also <code>print(Object)</code>, etc., not to mention the various <code>append()</code> and <code>format()</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":2024892,"reputation":29,"user_id":5161226,"display_name":"diabolusss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656452722,"creation_date":1656450996,"answer_id":72793234,"question_id":4595950,"body_markdown":"Dedicated for those who came here seeking for a solution and none of those have worked.\r\n I faced this problem with Tomcat 9 application running with jdk8 (source code compliance level is 1.7, configured LOG4J and Tomcat JULI logging), so my solution is based on that, however this tip is universal:\r\n\r\n&gt; Always check documentation and investigate code sources.\r\n\r\nSearching by some specific keywords from ssl trace log i&#39;ve found out that system property &quot;javax.net.debug&quot; is used in [SSLLogger.java][1] (newer jdk, i.e 11) and in [Debug.java][2] (older jdk, i.e. 7).\r\nI was lucky enough to find jdk11 sources first, so there i&#39;ve found descriptive comments (while older haven&#39;t):\r\n\r\n&gt;  If the system property &quot;javax.net.debug&quot; is not defined, the debug\r\n&gt; logging  is turned off.  If the system property &quot;javax.net.debug&quot; is\r\n&gt; defined as empty, the debug logger is specified by\r\n&gt; System.getLogger(&quot;javax.net.ssl&quot;), and applications can customize\r\n&gt; and configure the logger or use external logging mechanisms.  If\r\n&gt; the system property &quot;javax.net.debug&quot; is defined  and non-empty, a\r\n&gt; private debug logger implemented in this class is used.\r\n\r\nI&#39;ve added &quot;-Djavax.net.debug&quot; VM argument to Tomcat server and SSL trace log output have slightly changed (and became less verbose).\r\n\r\nTo control what this package logger will output i&#39;ve modified Tomcat server *logging.properties*:\r\n\r\n - add new logging handler (5 is sequence number, i.e. i had 4 logging handlers before):\r\n\r\n    `5ssl.org.apache.juli.FileHandler.level = FINEST`\r\n\r\n    `5ssl.org.apache.juli.FileHandler.directory = ${catalina.base}/logs`\r\n\r\n    `5ssl.org.apache.juli.FileHandler.prefix = ssl.`\r\n\r\n    `5ssl.org.apache.juli.FileHandler.maxDays = 2`\r\n\r\n - add this handler to handlers property:\r\n\r\n    `handlers = 1catalina.org.apache.juli.FileHandler, 2localhost.org.apache.juli.FileHandler, 3manager.org.apache.juli.FileHandler, 4host-manager.org.apache.juli.FileHandler, 5ssl.org.apache.juli.FileHandler, java.util.logging.ConsoleHandler`\r\n\r\n - and, finally, override SSL default logger:\r\n\r\n    `javax.net.ssl.level = FINEST`\r\n\r\n    `javax.net.ssl.handlers = 5ssl.org.apache.juli.FileHandler`\r\n\r\nNow my custom logger is (almost) working similarly to native SSLLogger with debug level &#39;all&#39;. \r\n\r\n**Important** difference is that more verbose messages like  &#39;ssl,trustmanager&#39; or &#39;ssl,plaintext&#39; are missing. \r\n\r\nNative logger output:\r\n\r\n    javax.net.ssl|FINE|47|http-nio-8081-exec-5|2022-06-28 17:05:43.051 EEST|SSLSocketInputRecord.java:474|Raw read (\r\n      0000: 6B 38 AA 29 C2 5B 2B 22   AD 2B 23 3B A9 EA A8 EA  k8.).[+&quot;.+#;....\r\n      0010: E0 BF 64 4A 0E B3 5E 5C   63 2A 63 EC 85 82 40 DA  ..dJ..^\\c*c...@.\r\n      0020: 4B 9B 73 BE 49 AE 1C 14   D6 E6 C2 9A 06 96 18 21  K.s.I..........!\r\n\r\nCustom logger output:\r\n\r\n    28-Jun-2022 16:26:09.508 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log READ: TLSv1.2 handshake, length = 5712\r\n    28-Jun-2022 16:26:09.508 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log Raw read\r\n    28-Jun-2022 16:26:09.508 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log Raw read\r\n    28-Jun-2022 16:26:09.509 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log Raw read\r\n    28-Jun-2022 16:26:09.509 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log Raw read\r\n    28-Jun-2022 16:26:09.510 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log Raw read\r\n    28-Jun-2022 16:26:09.523 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log Raw read\r\n    28-Jun-2022 16:26:09.524 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log Raw read\r\n    28-Jun-2022 16:26:09.524 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log READ: TLSv1.2 handshake, length = 5712\r\n\r\nAfter checking sources of few files marked in native logger, i.e. [SSLSocketInputRecord.java][3], [X509TrustManagerImpl.java][4] i have noticed that there is additional check for specific logging properties mentioned in logger help (plaintext, record, etc), which is checked like this:\r\n\r\n    if (SSLLogger.isOn &amp;&amp; SSLLogger.isOn(&quot;ssl,trustmanager&quot;)) {\r\n                SSLLogger.fine(&quot;adding as trusted certificates&quot;,\r\n                        (Object[])trustedCerts.toArray(new X509Certificate[0]));\r\n            }\r\nAnd, while using custom logger SSLLogger.isOn is true, no native logging properties are defined, which means that **with custom logger configured no specific verbose messages will be outputted** by SSLLogger...\r\n\r\np.s. i couldn&#39;t manage to use log4j as a custom logger for SSLLogger. (I suppose to do that i need to configure Tomcat to use log4j rather than java.util.logging for all Tomcat&#39;s internal logging as noted in [docs][5].)\r\n\r\n\r\n  [1]: https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/sun/security/ssl/SSLLogger.java\r\n  [2]: https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/sun/security/ssl/Debug.java\r\n  [3]: https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/sun/security/ssl/SSLSocketInputRecord.java\r\n  [4]: https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/sun/security/ssl/X509TrustManagerImpl.java\r\n  [5]: https://tomcat.apache.org/tomcat-8.0-doc/logging.html","title":"Capture javax.net.debug to file","body":"<p>Dedicated for those who came here seeking for a solution and none of those have worked.\nI faced this problem with Tomcat 9 application running with jdk8 (source code compliance level is 1.7, configured LOG4J and Tomcat JULI logging), so my solution is based on that, however this tip is universal:</p>\n<blockquote>\n<p>Always check documentation and investigate code sources.</p>\n</blockquote>\n<p>Searching by some specific keywords from ssl trace log i've found out that system property &quot;javax.net.debug&quot; is used in <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/sun/security/ssl/SSLLogger.java\" rel=\"nofollow noreferrer\">SSLLogger.java</a> (newer jdk, i.e 11) and in <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/sun/security/ssl/Debug.java\" rel=\"nofollow noreferrer\">Debug.java</a> (older jdk, i.e. 7).\nI was lucky enough to find jdk11 sources first, so there i've found descriptive comments (while older haven't):</p>\n<blockquote>\n<p>If the system property &quot;javax.net.debug&quot; is not defined, the debug\nlogging  is turned off.  If the system property &quot;javax.net.debug&quot; is\ndefined as empty, the debug logger is specified by\nSystem.getLogger(&quot;javax.net.ssl&quot;), and applications can customize\nand configure the logger or use external logging mechanisms.  If\nthe system property &quot;javax.net.debug&quot; is defined  and non-empty, a\nprivate debug logger implemented in this class is used.</p>\n</blockquote>\n<p>I've added &quot;-Djavax.net.debug&quot; VM argument to Tomcat server and SSL trace log output have slightly changed (and became less verbose).</p>\n<p>To control what this package logger will output i've modified Tomcat server <em>logging.properties</em>:</p>\n<ul>\n<li><p>add new logging handler (5 is sequence number, i.e. i had 4 logging handlers before):</p>\n<p><code>5ssl.org.apache.juli.FileHandler.level = FINEST</code></p>\n<p><code>5ssl.org.apache.juli.FileHandler.directory = ${catalina.base}/logs</code></p>\n<p><code>5ssl.org.apache.juli.FileHandler.prefix = ssl.</code></p>\n<p><code>5ssl.org.apache.juli.FileHandler.maxDays = 2</code></p>\n</li>\n<li><p>add this handler to handlers property:</p>\n<p><code>handlers = 1catalina.org.apache.juli.FileHandler, 2localhost.org.apache.juli.FileHandler, 3manager.org.apache.juli.FileHandler, 4host-manager.org.apache.juli.FileHandler, 5ssl.org.apache.juli.FileHandler, java.util.logging.ConsoleHandler</code></p>\n</li>\n<li><p>and, finally, override SSL default logger:</p>\n<p><code>javax.net.ssl.level = FINEST</code></p>\n<p><code>javax.net.ssl.handlers = 5ssl.org.apache.juli.FileHandler</code></p>\n</li>\n</ul>\n<p>Now my custom logger is (almost) working similarly to native SSLLogger with debug level 'all'.</p>\n<p><strong>Important</strong> difference is that more verbose messages like  'ssl,trustmanager' or 'ssl,plaintext' are missing.</p>\n<p>Native logger output:</p>\n<pre><code>javax.net.ssl|FINE|47|http-nio-8081-exec-5|2022-06-28 17:05:43.051 EEST|SSLSocketInputRecord.java:474|Raw read (\n  0000: 6B 38 AA 29 C2 5B 2B 22   AD 2B 23 3B A9 EA A8 EA  k8.).[+&quot;.+#;....\n  0010: E0 BF 64 4A 0E B3 5E 5C   63 2A 63 EC 85 82 40 DA  ..dJ..^\\c*c...@.\n  0020: 4B 9B 73 BE 49 AE 1C 14   D6 E6 C2 9A 06 96 18 21  K.s.I..........!\n</code></pre>\n<p>Custom logger output:</p>\n<pre><code>28-Jun-2022 16:26:09.508 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log READ: TLSv1.2 handshake, length = 5712\n28-Jun-2022 16:26:09.508 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log Raw read\n28-Jun-2022 16:26:09.508 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log Raw read\n28-Jun-2022 16:26:09.509 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log Raw read\n28-Jun-2022 16:26:09.509 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log Raw read\n28-Jun-2022 16:26:09.510 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log Raw read\n28-Jun-2022 16:26:09.523 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log Raw read\n28-Jun-2022 16:26:09.524 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log Raw read\n28-Jun-2022 16:26:09.524 FINE [http-nio-8081-exec-5] sun.security.ssl.SSLLogger.log READ: TLSv1.2 handshake, length = 5712\n</code></pre>\n<p>After checking sources of few files marked in native logger, i.e. <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/sun/security/ssl/SSLSocketInputRecord.java\" rel=\"nofollow noreferrer\">SSLSocketInputRecord.java</a>, <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/sun/security/ssl/X509TrustManagerImpl.java\" rel=\"nofollow noreferrer\">X509TrustManagerImpl.java</a> i have noticed that there is additional check for specific logging properties mentioned in logger help (plaintext, record, etc), which is checked like this:</p>\n<pre><code>if (SSLLogger.isOn &amp;&amp; SSLLogger.isOn(&quot;ssl,trustmanager&quot;)) {\n            SSLLogger.fine(&quot;adding as trusted certificates&quot;,\n                    (Object[])trustedCerts.toArray(new X509Certificate[0]));\n        }\n</code></pre>\n<p>And, while using custom logger SSLLogger.isOn is true, no native logging properties are defined, which means that <strong>with custom logger configured no specific verbose messages will be outputted</strong> by SSLLogger...</p>\n<p>p.s. i couldn't manage to use log4j as a custom logger for SSLLogger. (I suppose to do that i need to configure Tomcat to use log4j rather than java.util.logging for all Tomcat's internal logging as noted in <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/logging.html\" rel=\"nofollow noreferrer\">docs</a>.)</p>\n"}],"owner":{"account_id":126691,"reputation":569,"user_id":323358,"accept_rate":62,"display_name":"Loomer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18563,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":4596236,"answer_count":4,"score":11,"last_activity_date":1656452722,"creation_date":1294158739,"question_id":4595950,"body_markdown":"I need to save the javax.net.debug=all output that is created to a file. I&#39;m using log4j and I tried creating a logging proxy as in the code example below; however, it is not picking up the info. I am not sure where the javax.net.debug is being printed to. I tried capturing system.out and system.err this way but neither worked. Thanks for your help.\r\n\r\n    public class StdOutErrLog {\r\n    \r\n        private static final Logger logger = Logger.getLogger(StdOutErrLog.class);\r\n    \r\n        public static void tieSystemOutAndErrToLog() {\r\n            System.setOut(createLoggingProxy(System.out));\r\n            System.setErr(createLoggingProxy(System.err));\r\n        }\r\n    \r\n        public static PrintStream createLoggingProxy(final PrintStream realPrintStream) {\r\n            return new PrintStream(realPrintStream) {\r\n                public void print(final String string) {\r\n                    realPrintStream.print(string);\r\n                    logger.info(string);\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n","title":"Capture javax.net.debug to file","body":"<p>I need to save the javax.net.debug=all output that is created to a file. I'm using log4j and I tried creating a logging proxy as in the code example below; however, it is not picking up the info. I am not sure where the javax.net.debug is being printed to. I tried capturing system.out and system.err this way but neither worked. Thanks for your help.</p>\n\n<pre><code>public class StdOutErrLog {\n\n    private static final Logger logger = Logger.getLogger(StdOutErrLog.class);\n\n    public static void tieSystemOutAndErrToLog() {\n        System.setOut(createLoggingProxy(System.out));\n        System.setErr(createLoggingProxy(System.err));\n    }\n\n    public static PrintStream createLoggingProxy(final PrintStream realPrintStream) {\n        return new PrintStream(realPrintStream) {\n            public void print(final String string) {\n                realPrintStream.print(string);\n                logger.info(string);\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","awt","polygon","store","segment"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1656451552,"post_id":72793303,"comment_id":128574901,"body_markdown":"Can I clarify - when you say &quot;hyperbola&quot;, you just mean a path that doesn&#39;t close off into a polygon?","body":"Can I clarify - when you say &quot;hyperbola&quot;, you just mean a path that doesn&#39;t close off into a polygon?"},{"owner":{"account_id":25674948,"reputation":1,"user_id":19438555,"display_name":"Marsh"},"score":0,"creation_date":1656451783,"post_id":72793303,"comment_id":128574952,"body_markdown":"@DawoodibnKareem right man, maybe I have the wrong term","body":"@DawoodibnKareem right man, maybe I have the wrong term"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1656451916,"post_id":72793303,"comment_id":128574989,"body_markdown":"Yeah, you definitely have the wrong term.  So you could make a `Path` class that contains a `List` of points along with a `boolean` that says whether the path is closed.  Then your drawing could contain a `Set` of `Path` objects.  In the case where you have a bunch of disconnected segments, your `Path` objects each have just two points.","body":"Yeah, you definitely have the wrong term.  So you could make a <code>Path</code> class that contains a <code>List</code> of points along with a <code>boolean</code> that says whether the path is closed.  Then your drawing could contain a <code>Set</code> of <code>Path</code> objects.  In the case where you have a bunch of disconnected segments, your <code>Path</code> objects each have just two points."},{"owner":{"account_id":25674948,"reputation":1,"user_id":19438555,"display_name":"Marsh"},"score":0,"creation_date":1656452789,"post_id":72793303,"comment_id":128575202,"body_markdown":"@DawoodibnKareem maybe I don&#39;t get there but I still can&#39;t understand how I can understand when Im in the 3 cases, especially the case where I find myself drawing a list of consecutive segments that create a Polygon only starting from the n-th segment up to &#39;last","body":"@DawoodibnKareem maybe I don&#39;t get there but I still can&#39;t understand how I can understand when Im in the 3 cases, especially the case where I find myself drawing a list of consecutive segments that create a Polygon only starting from the n-th segment up to &#39;last"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1656455832,"post_id":72793303,"comment_id":128575822,"body_markdown":"So in that case, you&#39;d have two `Path` objects in your set - one for the polygon part and one for the separate part.","body":"So in that case, you&#39;d have two <code>Path</code> objects in your set - one for the polygon part and one for the separate part."},{"owner":{"account_id":25674948,"reputation":1,"user_id":19438555,"display_name":"Marsh"},"score":0,"creation_date":1656598094,"post_id":72793303,"comment_id":128616420,"body_markdown":"@DawoodibnKareem I have thought about it these days but I think that your solution as much as the solutions I had thought of in recent weeks are functional but that do not take into account many borderline cases, the only thing that I really think can be the solution is a graph with oriented weights, the only way to represent a closed area is to represent it as a cycle where the first and last node coincide, but idk im scared to do it","body":"@DawoodibnKareem I have thought about it these days but I think that your solution as much as the solutions I had thought of in recent weeks are functional but that do not take into account many borderline cases, the only thing that I really think can be the solution is a graph with oriented weights, the only way to represent a closed area is to represent it as a cycle where the first and last node coincide, but idk im scared to do it"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1656620046,"post_id":72793303,"comment_id":128623937,"body_markdown":"Then you need to mention what the borderline cases are that you think are difficult.","body":"Then you need to mention what the borderline cases are that you think are difficult."}],"owner":{"account_id":25674948,"reputation":1,"user_id":19438555,"display_name":"Marsh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656452653,"creation_date":1656451373,"question_id":72793303,"body_markdown":"im working on a project and basically i have this thing that draw segments every time, this class segment i have 2 objects PointOnTheArea which show me the two ends of the segment in the plane:\r\n\r\n    public  class PointOnTheArea implements Point {\r\n    \r\n        private final double pointX;\r\n        private final double pointY;\r\n    \r\n    \r\n        public PointOnTheArea(double x, double y){\r\n            this.pointY = y;\r\n            this.pointX = x;\r\n        }\r\n        public double getX(){\r\n            return pointX;\r\n        }\r\n        public double getY(){\r\n            return pointY;\r\n        }\r\n    }\r\n\r\n\r\n    public class Segment {\r\n   \r\n    private PointOnTheArea startingPoint;\r\n    private PointOnTheArea endingPoint;\r\n    private final SegmentType segmentType; // It is just for straight or curve\r\n    private final int radius; // just for curve segments\r\n    private final Direction dir; // direction it was drawn, is only for the plane\r\n    private boolean isTaken = false; // it is already part of a polygon???\r\n    private final int size; // distance between points\r\n    private final Color myColor; // just the color of the line\r\n\r\n\r\n    \r\n    public Segment(int x1, int y1, int x2, int y2, SegmentType type, Direction dir, int radius, Color myColor){\r\n        this.segmentType = type;\r\n        this.radius = radius;\r\n        this.dir = dir;\r\n        setSegment(x1, y1, x2, y2);\r\n        this.myColor = myColor;\r\n        this.size = (int) Math.sqrt(Math.pow(x2-x1,2)+Math.pow(y2-y1,2));\r\n    }\r\n\r\nand im looking to find a way to store this segments and differentiate them in polygons, hyperbole or free segments:\r\n\r\n 1. Hyperbola is a sequence of segments that have a junction point in common (starting point of a segment = endingPoint of another 1)\r\n 2. Polygon is a loop that is created between segments everyone shares his endingPoint with the startingPoint of the next one, you cannot have 2 endingPoing or 2 starting Points in common (note that a polygon could be created starting from the fourth element of a List of segments up to the last one, therefore the first ones three would become a separate hyperbola)\r\n 3. Free segments, i.e. segments that have been created but are not attached to any other segment\r\n\r\n\r\nwhen I started the project I had thought of a LinkedList &lt;Segment&gt; but now I find it difficult to manage everything, as many borderline cases remain uncovered, do u have some ideas? i ll appreciate a lot &lt;3\r\n\r\nAND NO i cannot use java.awt\r\n","title":"best way to recognize a Free segment, hyperbole or a Polygon from segments, no java.awt","body":"<p>im working on a project and basically i have this thing that draw segments every time, this class segment i have 2 objects PointOnTheArea which show me the two ends of the segment in the plane:</p>\n<pre><code>public  class PointOnTheArea implements Point {\n\n    private final double pointX;\n    private final double pointY;\n\n\n    public PointOnTheArea(double x, double y){\n        this.pointY = y;\n        this.pointX = x;\n    }\n    public double getX(){\n        return pointX;\n    }\n    public double getY(){\n        return pointY;\n    }\n}\n\n\npublic class Segment {\n\nprivate PointOnTheArea startingPoint;\nprivate PointOnTheArea endingPoint;\nprivate final SegmentType segmentType; // It is just for straight or curve\nprivate final int radius; // just for curve segments\nprivate final Direction dir; // direction it was drawn, is only for the plane\nprivate boolean isTaken = false; // it is already part of a polygon???\nprivate final int size; // distance between points\nprivate final Color myColor; // just the color of the line\n\n\n\npublic Segment(int x1, int y1, int x2, int y2, SegmentType type, Direction dir, int radius, Color myColor){\n    this.segmentType = type;\n    this.radius = radius;\n    this.dir = dir;\n    setSegment(x1, y1, x2, y2);\n    this.myColor = myColor;\n    this.size = (int) Math.sqrt(Math.pow(x2-x1,2)+Math.pow(y2-y1,2));\n}\n</code></pre>\n<p>and im looking to find a way to store this segments and differentiate them in polygons, hyperbole or free segments:</p>\n<ol>\n<li>Hyperbola is a sequence of segments that have a junction point in common (starting point of a segment = endingPoint of another 1)</li>\n<li>Polygon is a loop that is created between segments everyone shares his endingPoint with the startingPoint of the next one, you cannot have 2 endingPoing or 2 starting Points in common (note that a polygon could be created starting from the fourth element of a List of segments up to the last one, therefore the first ones three would become a separate hyperbola)</li>\n<li>Free segments, i.e. segments that have been created but are not attached to any other segment</li>\n</ol>\n<p>when I started the project I had thought of a LinkedList  but now I find it difficult to manage everything, as many borderline cases remain uncovered, do u have some ideas? i ll appreciate a lot &lt;3</p>\n<p>AND NO i cannot use java.awt</p>\n"},{"tags":["java","unit-testing","junit4","parameterized","parameterized-unit-test"],"answers":[{"tags":[],"owner":{"account_id":4407008,"reputation":44,"user_id":3591105,"display_name":"faisal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656452637,"creation_date":1656440575,"answer_id":72791429,"question_id":72790783,"body_markdown":"To fix the error you are getting, provide delta as the third parameter in assertEquals.\r\n\r\n    @Test\r\n    public void circleTest() {\r\n        assertEquals(expected, Circle.findarea(input), delta);\r\n    }\r\n\r\nDelta is basically the amount of precision. This means if the absolute diff between expected and actual value is less or equal to the delta. It will still consider a match. In short \r\n\r\n`Math.abs(expected - actual) &lt;= delta`. E.g.\r\n\r\n    assertEquals(1.1, 1.2, 0.1); // diff: 0.1, result : true \r\n    assertEquals(1.10, 1.20, 0.09); // diff: 0.1, result : false \r\n    assertEquals(1.9999, 2.0, 0.10); // diff: 0.0001, result:  true \r\n\r\nNote, `assertEquals(double, double)` is deprecated now. More details here  \r\nhttps://stackoverflow.com/questions/33274030/why-is-assertequalsdouble-double-deprecated-in-junit\r\n","title":"JUnit Testing:How to write parameterized test cases for a program to find the area of a circle using JUnit 4?","body":"<p>To fix the error you are getting, provide delta as the third parameter in assertEquals.</p>\n<pre><code>@Test\npublic void circleTest() {\n    assertEquals(expected, Circle.findarea(input), delta);\n}\n</code></pre>\n<p>Delta is basically the amount of precision. This means if the absolute diff between expected and actual value is less or equal to the delta. It will still consider a match. In short</p>\n<p><code>Math.abs(expected - actual) &lt;= delta</code>. E.g.</p>\n<pre><code>assertEquals(1.1, 1.2, 0.1); // diff: 0.1, result : true \nassertEquals(1.10, 1.20, 0.09); // diff: 0.1, result : false \nassertEquals(1.9999, 2.0, 0.10); // diff: 0.0001, result:  true \n</code></pre>\n<p>Note, <code>assertEquals(double, double)</code> is deprecated now. More details here<br />\n<a href=\"https://stackoverflow.com/questions/33274030/why-is-assertequalsdouble-double-deprecated-in-junit\">Why is assertEquals(double,double) deprecated in JUnit?</a></p>\n"}],"owner":{"account_id":25639361,"reputation":1,"user_id":19408518,"display_name":"Julie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72791429,"answer_count":1,"score":0,"last_activity_date":1656452637,"creation_date":1656437039,"question_id":72790783,"body_markdown":"The problem is my input to the program is of integer data type and the output is of double data type.So,while writing parameterized JUnit test cases,assertEquals gets striked off automatically...showing 2 errors.\r\nThey are as follows:\r\n    -The method assertEquals(double, double) from the type Assert is deprecated\r\n\t-The method findarea(int) in the type Circle is not applicable for the arguments (int, \r\n\t double)   \r\nHere the method findarea is my method to find the area of the circle. \r\nHere is my code.\r\n\r\n    package BasicTesting;\r\n        \r\n        import java.io.*;\r\n        class Circle\r\n          {\r\n            public static void main(String args[])throws IOException  {\r\n        \tBufferedReader ob = new BufferedReader(new InputStreamReader(System.in));\r\n        \tint radius ;\r\n                \r\n        \tSystem.out.println(&quot;Enter the radius of circle.. &quot;);\r\n        \tradius=Integer.parseInt(ob.readLine());\r\n        \tCircle a=new Circle();\r\n        \tdouble g=a.findarea(radius);\r\n        \tSystem.out.println(g);\r\n        \t}\r\n            \r\n             \r\n         \r\n        \r\n        \tpublic static double findarea(int radius){\r\n        \t\tdouble area;\r\n        \t\t\r\n        \t\t\r\n        \t\tdouble pi=3.14;\r\n        \t    area = pi * radius * radius;\r\n        \t\t   return area;\r\n        \t\t}\r\n        \t    }\r\n\r\nThis is my test case\r\n\r\n    package BasicTesting;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.junit.runners.Parameterized;\r\n    import org.junit.runners.Parameterized.Parameters;\r\n    \r\n    @RunWith(Parameterized.class)\r\n    \r\n    public class CircleTest {\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic CircleTest(int input, double expected,double delta) {\r\n    \t\tsuper();\r\n    \t\tthis.input = input;\r\n    \t\tthis.expected = expected;\r\n    \t\tthis.delta = delta;\r\n    \t}\r\n    \r\n    \tCircle ob=new Circle();\r\n    \tprivate int input;\r\n    \tprivate double expected;\r\n    \tprivate double delta;\r\n    \t@Parameters\r\n    \t\r\n    \tpublic static Iterable&lt;Object[]&gt; testConditions() {\r\n    \t\t\r\n    \t\treturn Arrays.asList(new Object[][] {{1,3.14d,-2.14d},{2,12.56d,-10.56}});\r\n    \t\t\r\n    \r\n    \t\t\r\n    \t\r\n    \t}\r\n    \r\n    \t\r\n    \r\n    \t\r\n    \r\n    \t@Test\r\n    \tpublic void Circletest() {\r\n    \t\tassertEquals(expected,Circle.findarea(input));\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n    \r\n        \r\n\r\nWhen I tried to run the test case,it shows the following error:\r\njava.lang.AssertionError: Use assertEquals(expected, actual, delta) to compare floating-point numbers.\r\nPlease help me to rewrite this JUnit test case.I have tried several times.Please help me out.Thanks in adavance!\r\n\r\n\t  \t\r\n    \t\t\r\n    \t\t\r\n        \r\n    \t\r\n\r\n\r\n\r\n","title":"JUnit Testing:How to write parameterized test cases for a program to find the area of a circle using JUnit 4?","body":"<p>The problem is my input to the program is of integer data type and the output is of double data type.So,while writing parameterized JUnit test cases,assertEquals gets striked off automatically...showing 2 errors.\nThey are as follows:\n-The method assertEquals(double, double) from the type Assert is deprecated\n-The method findarea(int) in the type Circle is not applicable for the arguments (int,\ndouble)<br />\nHere the method findarea is my method to find the area of the circle.\nHere is my code.</p>\n<pre><code>package BasicTesting;\n    \n    import java.io.*;\n    class Circle\n      {\n        public static void main(String args[])throws IOException  {\n        BufferedReader ob = new BufferedReader(new InputStreamReader(System.in));\n        int radius ;\n            \n        System.out.println(&quot;Enter the radius of circle.. &quot;);\n        radius=Integer.parseInt(ob.readLine());\n        Circle a=new Circle();\n        double g=a.findarea(radius);\n        System.out.println(g);\n        }\n        \n         \n     \n    \n        public static double findarea(int radius){\n            double area;\n            \n            \n            double pi=3.14;\n            area = pi * radius * radius;\n               return area;\n            }\n            }\n</code></pre>\n<p>This is my test case</p>\n<pre><code>package BasicTesting;\n\nimport static org.junit.Assert.assertEquals;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.junit.runners.Parameterized;\nimport org.junit.runners.Parameterized.Parameters;\n\n@RunWith(Parameterized.class)\n\npublic class CircleTest {\n    \n    \n    \n    public CircleTest(int input, double expected,double delta) {\n        super();\n        this.input = input;\n        this.expected = expected;\n        this.delta = delta;\n    }\n\n    Circle ob=new Circle();\n    private int input;\n    private double expected;\n    private double delta;\n    @Parameters\n    \n    public static Iterable&lt;Object[]&gt; testConditions() {\n        \n        return Arrays.asList(new Object[][] {{1,3.14d,-2.14d},{2,12.56d,-10.56}});\n        \n\n        \n    \n    }\n\n    \n\n    \n\n    @Test\n    public void Circletest() {\n        assertEquals(expected,Circle.findarea(input));\n        \n        \n    }\n\n}\n\n    \n</code></pre>\n<p>When I tried to run the test case,it shows the following error:\njava.lang.AssertionError: Use assertEquals(expected, actual, delta) to compare floating-point numbers.\nPlease help me to rewrite this JUnit test case.I have tried several times.Please help me out.Thanks in adavance!</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656452460,"creation_date":1656445721,"answer_id":72792364,"question_id":72791496,"body_markdown":"I think you&#39;re looking for the [`DocumentSnapshot.toObject(Class&lt;T&gt; valueType))` method](https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot#toObject(java.lang.Class%3CT%3E)), which can convert the data to an object of a specific class - as long as the data and class follow the same naming conventions.\r\n\r\nIn your code that&#39;d look like this:\r\n```\r\ndocumentSnapshot.toObject(Communities.class)\r\n```\r\n\r\nNote though that the field names in your document don&#39;t follow the JavaBean naming pattern that Firestore SDK expects, so you will either have to rename the fields (e.g. `communityId` instead of `community_id`) or add [`PropertyName` annotations](https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/PropertyName) in the code of the `Communities` class to tell the SDK how to map the values between the code and database.","title":"Error to cast documentSnapshot to Hashmap","body":"<p>I think you're looking for the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot#toObject(java.lang.Class%3CT%3E)\" rel=\"nofollow noreferrer\"><code>DocumentSnapshot.toObject(Class&lt;T&gt; valueType))</code> method</a>, which can convert the data to an object of a specific class - as long as the data and class follow the same naming conventions.</p>\n<p>In your code that'd look like this:</p>\n<pre><code>documentSnapshot.toObject(Communities.class)\n</code></pre>\n<p>Note though that the field names in your document don't follow the JavaBean naming pattern that Firestore SDK expects, so you will either have to rename the fields (e.g. <code>communityId</code> instead of <code>community_id</code>) or add <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/PropertyName\" rel=\"nofollow noreferrer\"><code>PropertyName</code> annotations</a> in the code of the <code>Communities</code> class to tell the SDK how to map the values between the code and database.</p>\n"}],"owner":{"account_id":8959443,"reputation":119,"user_id":6682656,"display_name":"Gabriel Falieri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72792364,"answer_count":1,"score":0,"last_activity_date":1656452460,"creation_date":1656440912,"question_id":72791496,"body_markdown":"    Java.lang.ClassCastException: java.util.HashMap cannot be cast to com.kornerz.kornerz.Communities\r\n\r\nI&#39;m trying to convert the data that comes from firebase to a list, in order to list a recyclerview\r\nIt turns out that when I try to pull this data to the communites class to supply the recyclerview, the conversion gives an error.\r\n\r\n\r\n\r\nMy Collection it&#39;s like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n This is the class Communities.Java\r\n\r\n    package com.kornerz.kornerz;\r\n    \r\n    import com.google.firebase.firestore.GeoPoint;\r\n    \r\n    public class Communities {\r\n        private String community_id,community_name, community_theme, community_number_members, community_distance;\r\n        private GeoPoint community_location;\r\n    \r\n        public String getCommunityId() {\r\n            return community_id;\r\n        }\r\n    \r\n        public void setCommunityId(String communityId) {\r\n            this.community_id = communityId;\r\n        }\r\n    \r\n    \r\n        public String getCommunityName() {\r\n            return community_name;\r\n        }\r\n    \r\n        public void setCommunityName(String communityName) {\r\n            this.community_name = communityName;\r\n        }\r\n    \r\n        public String getCommunityNumberMembers() {\r\n            return community_number_members;\r\n        }\r\n    \r\n        public void setCommunityNumberMembers(String community_number_members) {\r\n            this.community_number_members = community_number_members;\r\n        }\r\n    \r\n        public String getCommunityDistance() {\r\n            return community_distance;\r\n        }\r\n    \r\n        public void setCommunityDistance(String community_distance) {\r\n            this.community_distance = community_distance;\r\n        }\r\n    \r\n        public void setCommunitName(String community_name) {\r\n            this.community_name = community_name;\r\n        }\r\n    \r\n        public String getCommunityTheme() {\r\n            return community_theme;\r\n        }\r\n    \r\n        public void setCommunityTheme(String community_theme) {\r\n            this.community_theme = community_theme;\r\n        }\r\n    \r\n        public GeoPoint getCommunityLocation() {\r\n            return community_location;\r\n        }\r\n    \r\n        public void setCommunityLocation(GeoPoint community_location) {\r\n            this.community_location = community_location;\r\n        }\r\n    }\r\n\r\n\r\nthis is part of code i need convert and populate the array list\r\n\r\n     communities = new ArrayList&lt;&gt;();\r\n      db.collection(&quot;Rooms&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() { \r\n             @Override                                                                                \r\n             public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {                              \r\n                 if(task.isSuccessful()){                                                             \r\n                     for(QueryDocumentSnapshot documentSnapshot : task.getResult()){                  \r\n                         Communities communityList = (Communities) documentSnapshot.getData();        \r\n                         communities.add(communityList);                                              \r\n                     }                                                                                \r\n                 }                                                                                    \r\n             }                                                                                        \r\n         });   \r\n\r\n  \r\n\r\n                                                                                     \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l3hsB.png\r\n","title":"Error to cast documentSnapshot to Hashmap","body":"<pre><code>Java.lang.ClassCastException: java.util.HashMap cannot be cast to com.kornerz.kornerz.Communities\n</code></pre>\n<p>I'm trying to convert the data that comes from firebase to a list, in order to list a recyclerview\nIt turns out that when I try to pull this data to the communites class to supply the recyclerview, the conversion gives an error.</p>\n<p>My Collection it's like this</p>\n<p><a href=\"https://i.stack.imgur.com/l3hsB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l3hsB.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the class Communities.Java</p>\n<pre><code>package com.kornerz.kornerz;\n\nimport com.google.firebase.firestore.GeoPoint;\n\npublic class Communities {\n    private String community_id,community_name, community_theme, community_number_members, community_distance;\n    private GeoPoint community_location;\n\n    public String getCommunityId() {\n        return community_id;\n    }\n\n    public void setCommunityId(String communityId) {\n        this.community_id = communityId;\n    }\n\n\n    public String getCommunityName() {\n        return community_name;\n    }\n\n    public void setCommunityName(String communityName) {\n        this.community_name = communityName;\n    }\n\n    public String getCommunityNumberMembers() {\n        return community_number_members;\n    }\n\n    public void setCommunityNumberMembers(String community_number_members) {\n        this.community_number_members = community_number_members;\n    }\n\n    public String getCommunityDistance() {\n        return community_distance;\n    }\n\n    public void setCommunityDistance(String community_distance) {\n        this.community_distance = community_distance;\n    }\n\n    public void setCommunitName(String community_name) {\n        this.community_name = community_name;\n    }\n\n    public String getCommunityTheme() {\n        return community_theme;\n    }\n\n    public void setCommunityTheme(String community_theme) {\n        this.community_theme = community_theme;\n    }\n\n    public GeoPoint getCommunityLocation() {\n        return community_location;\n    }\n\n    public void setCommunityLocation(GeoPoint community_location) {\n        this.community_location = community_location;\n    }\n}\n</code></pre>\n<p>this is part of code i need convert and populate the array list</p>\n<pre><code> communities = new ArrayList&lt;&gt;();\n  db.collection(&quot;Rooms&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() { \n         @Override                                                                                \n         public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {                              \n             if(task.isSuccessful()){                                                             \n                 for(QueryDocumentSnapshot documentSnapshot : task.getResult()){                  \n                     Communities communityList = (Communities) documentSnapshot.getData();        \n                     communities.add(communityList);                                              \n                 }                                                                                \n             }                                                                                    \n         }                                                                                        \n     });   \n\n\n\n                                                                                 \n</code></pre>\n"},{"tags":["java","zip","extract","apache-tika"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1364444443,"post_id":15667125,"comment_id":22250180,"body_markdown":"Why not pass the zip file straight to Apache Tika? It&#39;ll then call the recursing parser you supply for each file in the zip, so you don&#39;t have to do anything special!","body":"Why not pass the zip file straight to Apache Tika? It&#39;ll then call the recursing parser you supply for each file in the zip, so you don&#39;t have to do anything special!"},{"owner":{"account_id":534963,"reputation":1523,"user_id":904683,"accept_rate":65,"display_name":"S Jagdeesh"},"score":1,"creation_date":1364452921,"post_id":15667125,"comment_id":22252508,"body_markdown":"That&#39;s what I was wondering but couldn&#39;t get enough tutorial in how to do that. I am also little worried about this - http://www.javamex.com/tutorials/compression/zip_problems.shtml, not sure if Tika address this issue.","body":"That&#39;s what I was wondering but couldn&#39;t get enough tutorial in how to do that. I am also little worried about this - <a href=\"http://www.javamex.com/tutorials/compression/zip_problems.shtml\" rel=\"nofollow noreferrer\">javamex.com/tutorials/compression/zip_problems.shtml</a>, not sure if Tika address this issue."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1364453297,"post_id":15667125,"comment_id":22252645,"body_markdown":"Tika uses commons compress to get around a lot of those issues","body":"Tika uses commons compress to get around a lot of those issues"},{"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"score":3,"creation_date":1532121968,"post_id":15667125,"comment_id":89871513,"body_markdown":"61 Mb for Tika? 61 Mb only for working with ZIP which can be done with ~10 strings?! My app with 15+ activities weights smaller than 4 Mb. I think there&#39;s a disrespection for users to have apps so big only for trivial tasks.","body":"61 Mb for Tika? 61 Mb only for working with ZIP which can be done with ~10 strings?! My app with 15+ activities weights smaller than 4 Mb. I think there&#39;s a disrespection for users to have apps so big only for trivial tasks."}],"answers":[{"tags":[],"owner":{"display_name":"user2030471"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1364410802,"creation_date":1364410802,"answer_id":15667226,"question_id":15667125,"body_markdown":"Because of the condition in `while`, the loop might never break:\r\n\r\n    while (entry != null) {\r\n      // If entry never becomes null here, loop will never break.\r\n    }\r\n\r\nInstead of the `null` check there, you can try this:\r\n\r\n    ZipEntry entry = null;\r\n    while ((entry = zip.getNextEntry()) != null) {\r\n      // Rest of your code\r\n    }","title":"Read Content from Files which are inside Zip file","body":"<p>Because of the condition in <code>while</code>, the loop might never break:</p>\n\n<pre><code>while (entry != null) {\n  // If entry never becomes null here, loop will never break.\n}\n</code></pre>\n\n<p>Instead of the <code>null</code> check there, you can try this:</p>\n\n<pre><code>ZipEntry entry = null;\nwhile ((entry = zip.getNextEntry()) != null) {\n  // Rest of your code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1383489,"reputation":7088,"user_id":1316000,"accept_rate":66,"display_name":"Rodrigo Sasaki"},"down_vote_count":1,"up_vote_count":227,"is_accepted":true,"score":226,"last_activity_date":1364411125,"creation_date":1364411125,"answer_id":15667326,"question_id":15667125,"body_markdown":"If you&#39;re wondering how to get the file content from each `ZipEntry` it&#39;s actually quite simple. Here&#39;s a sample code:\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tZipFile zipFile = new ZipFile(&quot;C:/test.zip&quot;);\r\n\t\t\r\n\t\tEnumeration&lt;? extends ZipEntry&gt; entries = zipFile.entries();\r\n\t\t\r\n\t\twhile(entries.hasMoreElements()){\r\n\t\t\tZipEntry entry = entries.nextElement();\r\n\t\t\tInputStream stream = zipFile.getInputStream(entry);\r\n\t\t}\r\n\t}\r\n\r\nOnce you have the InputStream you can read it however you want. ","title":"Read Content from Files which are inside Zip file","body":"<p>If you're wondering how to get the file content from each <code>ZipEntry</code> it's actually quite simple. Here's a sample code:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    ZipFile zipFile = new ZipFile(\"C:/test.zip\");\n\n    Enumeration&lt;? extends ZipEntry&gt; entries = zipFile.entries();\n\n    while(entries.hasMoreElements()){\n        ZipEntry entry = entries.nextElement();\n        InputStream stream = zipFile.getInputStream(entry);\n    }\n}\n</code></pre>\n\n<p>Once you have the InputStream you can read it however you want. </p>\n"},{"tags":[],"owner":{"account_id":223209,"reputation":333,"user_id":482261,"accept_rate":67,"display_name":"Harinder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387925074,"creation_date":1387924737,"answer_id":20767454,"question_id":15667125,"body_markdown":"Sample code you can use to let Tika take care of container files for you.\r\nhttp://wiki.apache.org/tika/RecursiveMetadata\r\n\r\nForm what I can tell, the accepted solution will not work for cases where there are nested zip files. Tika, however will take care of such situations as well.","title":"Read Content from Files which are inside Zip file","body":"<p>Sample code you can use to let Tika take care of container files for you.\n<a href=\"http://wiki.apache.org/tika/RecursiveMetadata\" rel=\"nofollow\">http://wiki.apache.org/tika/RecursiveMetadata</a></p>\n\n<p>Form what I can tell, the accepted solution will not work for cases where there are nested zip files. Tika, however will take care of such situations as well.</p>\n"},{"tags":[],"owner":{"account_id":7648429,"reputation":77,"user_id":5798170,"display_name":"Vilius"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455900367,"creation_date":1455900367,"answer_id":35510439,"question_id":15667125,"body_markdown":"My way of achieving this is by creating ZipInputStream wrapping class that would handle that would provide only the stream of current entry:\r\n\r\nThe wrapper class:\r\n\r\n    public class ZippedFileInputStream extends InputStream {\r\n\r\n        private ZipInputStream is;\r\n        \r\n        public ZippedFileInputStream(ZipInputStream is){\r\n            this.is = is;\r\n        }\r\n\r\n        @Override\r\n        public int read() throws IOException {\r\n            return is.read();\r\n        }\r\n        \r\n        @Override\r\n        public void close() throws IOException {\r\n            is.closeEntry();\r\n        }\r\n        \r\n}\r\n\r\nThe use of it:\r\n\r\n        ZipInputStream zipInputStream = new ZipInputStream(new FileInputStream(&quot;SomeFile.zip&quot;));\r\n        \r\n        while((entry = zipInputStream.getNextEntry())!= null) {\r\n         \r\n         ZippedFileInputStream archivedFileInputStream = new ZippedFileInputStream(zipInputStream);\r\n         \r\n         //... perform whatever logic you want here with ZippedFileInputStream \r\n        \r\n         // note that this will only close the current entry stream and not the ZipInputStream\r\n         archivedFileInputStream.close();\r\n        \r\n        }\r\n        zipInputStream.close();\r\n\r\nOne advantage of this approach: InputStreams are passed as an arguments to methods that process them and those methods have a tendency to immediately close the input stream after they are done with it.","title":"Read Content from Files which are inside Zip file","body":"<p>My way of achieving this is by creating ZipInputStream wrapping class that would handle that would provide only the stream of current entry:</p>\n\n<p>The wrapper class:</p>\n\n<pre><code>public class ZippedFileInputStream extends InputStream {\n\n    private ZipInputStream is;\n\n    public ZippedFileInputStream(ZipInputStream is){\n        this.is = is;\n    }\n\n    @Override\n    public int read() throws IOException {\n        return is.read();\n    }\n\n    @Override\n    public void close() throws IOException {\n        is.closeEntry();\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>The use of it:</p>\n\n<pre><code>    ZipInputStream zipInputStream = new ZipInputStream(new FileInputStream(\"SomeFile.zip\"));\n\n    while((entry = zipInputStream.getNextEntry())!= null) {\n\n     ZippedFileInputStream archivedFileInputStream = new ZippedFileInputStream(zipInputStream);\n\n     //... perform whatever logic you want here with ZippedFileInputStream \n\n     // note that this will only close the current entry stream and not the ZipInputStream\n     archivedFileInputStream.close();\n\n    }\n    zipInputStream.close();\n</code></pre>\n\n<p>One advantage of this approach: InputStreams are passed as an arguments to methods that process them and those methods have a tendency to immediately close the input stream after they are done with it.</p>\n"},{"tags":[],"owner":{"account_id":29802,"reputation":11140,"user_id":80779,"accept_rate":90,"display_name":"LordOfThePigs"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1656452041,"creation_date":1464092757,"answer_id":37413531,"question_id":15667125,"body_markdown":"As of Java 7, the [NIO ][1]I provides a better and more generic way of accessing the contents of ZIP or JAR files. Actually, it is now a unified API which allows you to treat ZIP files exactly like normal files. \r\n\r\nIn order to extract all of the files contained inside of a ZIP file in this API, you&#39;d do as shown below.      \r\n\r\n### In Java 8\r\n\r\n    private void extractAll(URI fromZip, Path toDirectory) throws IOException {\r\n        FileSystems.newFileSystem(fromZip, Collections.emptyMap())\r\n                .getRootDirectories()\r\n                .forEach(root -&gt; {\r\n                    // in a full implementation, you&#39;d have to\r\n                    // handle directories \r\n                    Files.walk(root).forEach(path -&gt; Files.copy(path, toDirectory));\r\n                });\r\n    }\r\n\r\n\r\n### In Java 7\r\n\r\n    private void extractAll(URI fromZip, Path toDirectory) throws IOException {\r\n        FileSystem zipFs = FileSystems.newFileSystem(fromZip, Collections.emptyMap());\r\n\r\n        for (Path root : zipFs.getRootDirectories()) {\r\n            Files.walkFileTree(root, new SimpleFileVisitor&lt;Path&gt;() {\r\n                @Override\r\n                public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) \r\n                        throws IOException {\r\n                    // You can do anything you want with the path here\r\n                    Files.copy(file, toDirectory);\r\n                    return FileVisitResult.CONTINUE;\r\n                }\r\n\r\n                @Override\r\n                public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) \r\n                        throws IOException {\r\n                    // In a full implementation, you&#39;d need to create each \r\n                    // sub-directory of the destination directory before \r\n                    // copying files into it\r\n                    return super.preVisitDirectory(dir, attrs);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/package-summary.html","title":"Read Content from Files which are inside Zip file","body":"<p>As of Java 7, the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/package-summary.html\" rel=\"noreferrer\">NIO </a>I provides a better and more generic way of accessing the contents of ZIP or JAR files. Actually, it is now a unified API which allows you to treat ZIP files exactly like normal files.</p>\n<p>In order to extract all of the files contained inside of a ZIP file in this API, you'd do as shown below.</p>\n<h3>In Java 8</h3>\n<pre><code>private void extractAll(URI fromZip, Path toDirectory) throws IOException {\n    FileSystems.newFileSystem(fromZip, Collections.emptyMap())\n            .getRootDirectories()\n            .forEach(root -&gt; {\n                // in a full implementation, you'd have to\n                // handle directories \n                Files.walk(root).forEach(path -&gt; Files.copy(path, toDirectory));\n            });\n}\n</code></pre>\n<h3>In Java 7</h3>\n<pre><code>private void extractAll(URI fromZip, Path toDirectory) throws IOException {\n    FileSystem zipFs = FileSystems.newFileSystem(fromZip, Collections.emptyMap());\n\n    for (Path root : zipFs.getRootDirectories()) {\n        Files.walkFileTree(root, new SimpleFileVisitor&lt;Path&gt;() {\n            @Override\n            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) \n                    throws IOException {\n                // You can do anything you want with the path here\n                Files.copy(file, toDirectory);\n                return FileVisitResult.CONTINUE;\n            }\n\n            @Override\n            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) \n                    throws IOException {\n                // In a full implementation, you'd need to create each \n                // sub-directory of the destination directory before \n                // copying files into it\n                return super.preVisitDirectory(dir, attrs);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19057778,"reputation":53,"user_id":13914534,"display_name":"vaimalaviya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617734224,"creation_date":1617734224,"answer_id":66974567,"question_id":15667125,"body_markdown":"i did mine like this  and remember to change url or zip files\r\njdk 15\r\n\r\n``` import java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.util.Scanner;\r\nimport java.util.stream.Stream;\r\nimport java.util.zip.ZipEntry;\r\nimport java.util.zip.ZipFile;\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport java.nio.file.Paths;\r\n\r\nclass Main {\r\n  public static void main(String[] args) throws MalformedURLException,FileNotFoundException,IOException{\r\n    String url,kfile;\r\n    Scanner getkw = new Scanner(System.in);\r\n    System.out.println(&quot; Please Paste Url ::&quot;);\r\n    url = getkw.nextLine();\r\n    System.out.println(&quot;Please enter name of file you want to save as :: &quot;);\r\n    kfile = getkw.nextLine();\r\n    getkw.close();\r\n    Main Dinit = new Main();\r\n    System.out.println(Dinit.dloader(url, kfile));\r\n    ZipFile Vanilla = new ZipFile(new File(&quot;Vanilla.zip&quot;));\r\n    Enumeration&lt;? extends ZipEntry&gt; entries = Vanilla.entries();\r\n\r\n    while(entries.hasMoreElements()){\r\n        ZipEntry entry = entries.nextElement();\r\n//        String nextr =  entries.nextElement();\r\n        InputStream stream = Vanilla.getInputStream(entry);\r\n        FileInputStream inpure= new FileInputStream(&quot;Vanilla.zip&quot;);\r\n        FileOutputStream outter = new FileOutputStream(new File(entry.toString()));\r\n        outter.write(inpure.readAllBytes());\r\n        outter.close();\r\n    }\r\n\r\n  }\r\n  private String dloader(String kurl, String fname)throws IOException{\r\n    String status =&quot;&quot;;\r\n    try {\r\n      URL url = new URL(&quot;URL here&quot;);\r\n      FileOutputStream out = new FileOutputStream(new File(&quot;Vanilla.zip&quot;));         // Output File\r\n      out.write(url.openStream().readAllBytes());\r\n      out.close();\r\n    } catch (MalformedURLException e) {\r\n      status = &quot;Status: MalformedURLException Occured&quot;;\r\n    }catch (IOException e) {\r\n      status = &quot;Status: IOexception Occured&quot;;\r\n    }finally{\r\n      status = &quot;Status: Good&quot;;}\r\n    String path=&quot;\\\\tkwgter5834\\\\&quot;;\r\n    extractor(fname,&quot;tkwgter5834&quot;,path);\r\n    \r\n\r\n    return status;\r\n  }\r\n  private String extractor(String fname,String dir,String path){\r\n    File folder = new File(dir);\r\n    if(!folder.exists()){\r\n      folder.mkdir();\r\n    }\r\n    return &quot;&quot;;\r\n  }\r\n}\r\n ```\r\n\r\n","title":"Read Content from Files which are inside Zip file","body":"<p>i did mine like this  and remember to change url or zip files\njdk 15</p>\n<pre><code>import java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.Scanner;\nimport java.util.stream.Stream;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipFile;\nimport java.io.*;\nimport java.util.*;\nimport java.nio.file.Paths;\n\nclass Main {\n  public static void main(String[] args) throws MalformedURLException,FileNotFoundException,IOException{\n    String url,kfile;\n    Scanner getkw = new Scanner(System.in);\n    System.out.println(&quot; Please Paste Url ::&quot;);\n    url = getkw.nextLine();\n    System.out.println(&quot;Please enter name of file you want to save as :: &quot;);\n    kfile = getkw.nextLine();\n    getkw.close();\n    Main Dinit = new Main();\n    System.out.println(Dinit.dloader(url, kfile));\n    ZipFile Vanilla = new ZipFile(new File(&quot;Vanilla.zip&quot;));\n    Enumeration&lt;? extends ZipEntry&gt; entries = Vanilla.entries();\n\n    while(entries.hasMoreElements()){\n        ZipEntry entry = entries.nextElement();\n//        String nextr =  entries.nextElement();\n        InputStream stream = Vanilla.getInputStream(entry);\n        FileInputStream inpure= new FileInputStream(&quot;Vanilla.zip&quot;);\n        FileOutputStream outter = new FileOutputStream(new File(entry.toString()));\n        outter.write(inpure.readAllBytes());\n        outter.close();\n    }\n\n  }\n  private String dloader(String kurl, String fname)throws IOException{\n    String status =&quot;&quot;;\n    try {\n      URL url = new URL(&quot;URL here&quot;);\n      FileOutputStream out = new FileOutputStream(new File(&quot;Vanilla.zip&quot;));         // Output File\n      out.write(url.openStream().readAllBytes());\n      out.close();\n    } catch (MalformedURLException e) {\n      status = &quot;Status: MalformedURLException Occured&quot;;\n    }catch (IOException e) {\n      status = &quot;Status: IOexception Occured&quot;;\n    }finally{\n      status = &quot;Status: Good&quot;;}\n    String path=&quot;\\\\tkwgter5834\\\\&quot;;\n    extractor(fname,&quot;tkwgter5834&quot;,path);\n    \n\n    return status;\n  }\n  private String extractor(String fname,String dir,String path){\n    File folder = new File(dir);\n    if(!folder.exists()){\n      folder.mkdir();\n    }\n    return &quot;&quot;;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":534963,"reputation":1523,"user_id":904683,"accept_rate":65,"display_name":"S Jagdeesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227148,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":15667326,"answer_count":6,"score":93,"last_activity_date":1656452041,"creation_date":1364410491,"question_id":15667125,"body_markdown":"I am trying to create a simple java program which reads and extracts the content from the file(s) inside zip file. Zip file contains 3 files (txt, pdf, docx). I need to read the contents of all these files and I am using **Apache Tika** for this purpose. \r\n\r\nCan somebody help me out here to achieve the functionality.  I have tried this so far but no success\r\n\r\n**Code Snippet**\r\n\r\n    public class SampleZipExtract {\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tList&lt;String&gt; tempString = new ArrayList&lt;String&gt;();\r\n    \t\tStringBuffer sbf = new StringBuffer();\r\n    \t\t\r\n    \t\tFile file = new File(&quot;C:\\\\Users\\\\xxx\\\\Desktop\\\\abc.zip&quot;);\r\n    \t\tInputStream input;\r\n    \t\ttry {\r\n    \t\t\r\n    \t\t  input = new FileInputStream(file);\r\n    \t\t  ZipInputStream zip = new ZipInputStream(input);\r\n    \t\t  ZipEntry entry = zip.getNextEntry();\r\n    \t\t  \r\n    \t\t  BodyContentHandler textHandler = new BodyContentHandler();\r\n    \t\t  Metadata metadata = new Metadata();\r\n    \r\n    \t      Parser parser = new AutoDetectParser();\r\n    \t       \r\n    \t      while (entry!= null){\r\n    \t    \t\r\n    \t            if(entry.getName().endsWith(&quot;.txt&quot;) || \r\n    \t            \t\t   entry.getName().endsWith(&quot;.pdf&quot;)||\r\n    \t            \t\t   entry.getName().endsWith(&quot;.docx&quot;)){\r\n    \t    \t  System.out.println(&quot;entry=&quot; + entry.getName() + &quot; &quot; + entry.getSize());\r\n    \t            \t parser.parse(input, textHandler, metadata, new ParseContext());\r\n    \t            \t tempString.add(textHandler.toString());\r\n    \t            }\r\n    \t       }\r\n    \t\t   zip.close();\r\n    \t       input.close();\r\n    \t\t   \r\n    \t       for (String text : tempString) {\r\n    \t       System.out.println(&quot;Apache Tika - Converted input string : &quot; + text);\r\n    \t       sbf.append(text);\r\n    \t\t   System.out.println(&quot;Final text from all the three files &quot; + sbf.toString());\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (SAXException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (TikaException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n","title":"Read Content from Files which are inside Zip file","body":"<p>I am trying to create a simple java program which reads and extracts the content from the file(s) inside zip file. Zip file contains 3 files (txt, pdf, docx). I need to read the contents of all these files and I am using <strong>Apache Tika</strong> for this purpose. </p>\n\n<p>Can somebody help me out here to achieve the functionality.  I have tried this so far but no success</p>\n\n<p><strong>Code Snippet</strong></p>\n\n<pre><code>public class SampleZipExtract {\n\n\n    public static void main(String[] args) {\n\n        List&lt;String&gt; tempString = new ArrayList&lt;String&gt;();\n        StringBuffer sbf = new StringBuffer();\n\n        File file = new File(\"C:\\\\Users\\\\xxx\\\\Desktop\\\\abc.zip\");\n        InputStream input;\n        try {\n\n          input = new FileInputStream(file);\n          ZipInputStream zip = new ZipInputStream(input);\n          ZipEntry entry = zip.getNextEntry();\n\n          BodyContentHandler textHandler = new BodyContentHandler();\n          Metadata metadata = new Metadata();\n\n          Parser parser = new AutoDetectParser();\n\n          while (entry!= null){\n\n                if(entry.getName().endsWith(\".txt\") || \n                           entry.getName().endsWith(\".pdf\")||\n                           entry.getName().endsWith(\".docx\")){\n              System.out.println(\"entry=\" + entry.getName() + \" \" + entry.getSize());\n                     parser.parse(input, textHandler, metadata, new ParseContext());\n                     tempString.add(textHandler.toString());\n                }\n           }\n           zip.close();\n           input.close();\n\n           for (String text : tempString) {\n           System.out.println(\"Apache Tika - Converted input string : \" + text);\n           sbf.append(text);\n           System.out.println(\"Final text from all the three files \" + sbf.toString());\n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (SAXException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (TikaException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","gradle","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1527583481,"creation_date":1527583481,"answer_id":50579978,"question_id":50579660,"body_markdown":"add the following to the build.gradle file:\r\n\r\n     implementation &#39;com.google.firebase:firebase-messaging:17.0.0&#39;\r\n     implementation &#39;com.google.firebase:firebase-core:16.0.0&#39;\r\n\r\nmore info here:\r\n\r\nhttps://firebase.google.com/docs/cloud-messaging/android/client#set-up-firebase-and-the-fcm-sdk","title":"FirebaseInstanceId does not exist anymore","body":"<p>add the following to the build.gradle file:</p>\n\n<pre><code> implementation 'com.google.firebase:firebase-messaging:17.0.0'\n implementation 'com.google.firebase:firebase-core:16.0.0'\n</code></pre>\n\n<p>more info here:</p>\n\n<p><a href=\"https://firebase.google.com/docs/cloud-messaging/android/client#set-up-firebase-and-the-fcm-sdk\" rel=\"noreferrer\">https://firebase.google.com/docs/cloud-messaging/android/client#set-up-firebase-and-the-fcm-sdk</a></p>\n"},{"tags":[],"owner":{"account_id":21224853,"reputation":69,"user_id":15610735,"display_name":"Pravin Gupta"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1624627018,"creation_date":1622554667,"answer_id":67789925,"question_id":50579660,"body_markdown":"I was also facing the same problem. Actually, FirebaseInstanceId has been shut down, replaced with Firebase Installation.\r\n\r\nTry:\r\n\r\n    FirebaseInstallations.getToken();","title":"FirebaseInstanceId does not exist anymore","body":"<p>I was also facing the same problem. Actually, FirebaseInstanceId has been shut down, replaced with Firebase Installation.</p>\n<p>Try:</p>\n<pre><code>FirebaseInstallations.getToken();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8855736,"reputation":504,"user_id":6613564,"display_name":"Clean Coder"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1622817290,"creation_date":1622817290,"answer_id":67839100,"question_id":50579660,"body_markdown":"Add into Gradle: \r\n\r\n \r\n\r\n      implementation &#39;com.google.firebase:firebase-messaging:22.0.0&#39;\r\n    \r\n      implementation &#39;com.google.firebase:firebase-core:19.0.0&#39;\r\n\r\nThen add the following code to get the token: \r\n\r\n    public static String returnMeFCMtoken() {\r\n            final String[] token = {&quot;&quot;};\r\n            FirebaseMessaging.getInstance().getToken().addOnCompleteListener(new OnCompleteListener&lt;String&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;String&gt; task) {\r\n                    if(task.isComplete()){\r\n                        token[0] = task.getResult();\r\n                        Log.e(&quot;AppConstants&quot;, &quot;onComplete: new Token got: &quot;+token[0] );\r\n    \r\n                    }\r\n                }\r\n            });\r\n            return token[0];\r\n        }","title":"FirebaseInstanceId does not exist anymore","body":"<p>Add into Gradle:</p>\n<pre><code>  implementation 'com.google.firebase:firebase-messaging:22.0.0'\n\n  implementation 'com.google.firebase:firebase-core:19.0.0'\n</code></pre>\n<p>Then add the following code to get the token:</p>\n<pre><code>public static String returnMeFCMtoken() {\n        final String[] token = {&quot;&quot;};\n        FirebaseMessaging.getInstance().getToken().addOnCompleteListener(new OnCompleteListener&lt;String&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;String&gt; task) {\n                if(task.isComplete()){\n                    token[0] = task.getResult();\n                    Log.e(&quot;AppConstants&quot;, &quot;onComplete: new Token got: &quot;+token[0] );\n\n                }\n            }\n        });\n        return token[0];\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2795344,"reputation":531,"user_id":6629824,"display_name":"Soe Thiha"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1625657608,"creation_date":1625657608,"answer_id":68285224,"question_id":50579660,"body_markdown":"I also faced the same problem. From the [doc][1], it says FirebaseInstanceId is no longer available and says to use FirebaseMessaging.getInstance().token as below\r\n\r\n    FirebaseMessaging.getInstance().token.addOnCompleteListener(OnCompleteListener { task -&gt;\r\n        if (!task.isSuccessful) {\r\n            Log.w(TAG, &quot;Fetching FCM registration token failed&quot;, task.exception)\r\n            return@OnCompleteListener\r\n        }\r\n    \r\n        // Get new FCM registration token\r\n        val token = task.result\r\n    })\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/cloud-messaging/android/client#retrieve-the-current-registration-token","title":"FirebaseInstanceId does not exist anymore","body":"<p>I also faced the same problem. From the <a href=\"https://firebase.google.com/docs/cloud-messaging/android/client#retrieve-the-current-registration-token\" rel=\"noreferrer\">doc</a>, it says FirebaseInstanceId is no longer available and says to use FirebaseMessaging.getInstance().token as below</p>\n<pre><code>FirebaseMessaging.getInstance().token.addOnCompleteListener(OnCompleteListener { task -&gt;\n    if (!task.isSuccessful) {\n        Log.w(TAG, &quot;Fetching FCM registration token failed&quot;, task.exception)\n        return@OnCompleteListener\n    }\n\n    // Get new FCM registration token\n    val token = task.result\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25272284,"reputation":1,"user_id":19101444,"display_name":"micoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655792390,"creation_date":1655721511,"answer_id":72685802,"question_id":50579660,"body_markdown":"try this:\r\n\r\nAdd these dependencies to your gradle file:\r\n\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.0.5&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:21.0.0&#39;\r\n\r\n\r\nGet firebase instance with `FirabaseMessaging`\r\n\r\n    String deviceToken = FirebaseMessaging.getInstance().getToken().toString();","title":"FirebaseInstanceId does not exist anymore","body":"<p>try this:</p>\n<p>Add these dependencies to your gradle file:</p>\n<pre><code>implementation 'com.google.firebase:firebase-messaging:23.0.5'\nimplementation 'com.google.firebase:firebase-core:21.0.0'\n</code></pre>\n<p>Get firebase instance with <code>FirabaseMessaging</code></p>\n<pre><code>String deviceToken = FirebaseMessaging.getInstance().getToken().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21438579,"reputation":1,"user_id":15793592,"display_name":"Fayeq Almabhouh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656451847,"creation_date":1656451802,"answer_id":72793350,"question_id":50579660,"body_markdown":"    fun setNewFcm() {\r\n        FirebaseMessaging.getInstance().token.addOnCompleteListener { task -&gt;\r\n            if (!task.isSuccessful) {\r\n                return@addOnCompleteListener\r\n            }\r\n            if (task.result != null) {\r\n                val token: String = task.result\r\n                AppSharedData.setFcmToken(token)\r\n            }\r\n        }\r\n    }\r\n\r\nOr by using this \r\n\r\n    fun setNewFcm() {\r\n        FirebaseInstallations.getInstance().getToken(true)\r\n            .addOnCompleteListener { task -&gt;\r\n                if (!task.isSuccessful) {\r\n                    return@addOnCompleteListener\r\n                }\r\n                if (task.result != null) {\r\n                    val token: String = task.result.token\r\n                    AppSharedData.setFcmToken(token)\r\n                }\r\n            }\r\n    }\r\n","title":"FirebaseInstanceId does not exist anymore","body":"<pre><code>fun setNewFcm() {\n    FirebaseMessaging.getInstance().token.addOnCompleteListener { task -&gt;\n        if (!task.isSuccessful) {\n            return@addOnCompleteListener\n        }\n        if (task.result != null) {\n            val token: String = task.result\n            AppSharedData.setFcmToken(token)\n        }\n    }\n}\n</code></pre>\n<p>Or by using this</p>\n<pre><code>fun setNewFcm() {\n    FirebaseInstallations.getInstance().getToken(true)\n        .addOnCompleteListener { task -&gt;\n            if (!task.isSuccessful) {\n                return@addOnCompleteListener\n            }\n            if (task.result != null) {\n                val token: String = task.result.token\n                AppSharedData.setFcmToken(token)\n            }\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":10763675,"reputation":2426,"user_id":7919372,"accept_rate":91,"display_name":"Always Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24954,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":50579978,"answer_count":6,"score":27,"last_activity_date":1656451847,"creation_date":1527582406,"question_id":50579660,"body_markdown":"I just did an upgrade to all my Firebase dependencies and I have an issue, `FirebaseInstanceId` is not recognized anymore. I have used it to get the token id like this:\r\n\r\n\r\n    String tokenId = FirebaseInstanceId.getInstance().getToken();\r\n\r\nThis is the error:\r\n\r\n    Cannot resolve symbol &#39;FirebaseInstanceId&#39;\r\n\r\nHere is my build.gradle file:\r\n\r\n    //Firebase\r\n    implementation &#39;com.google.firebase:firebase-auth:16.0.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:16.0.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:17.0.1&#39;\r\n\r\n    //FirebaseUI\r\n    implementation &#39;com.firebaseui:firebase-ui-auth:4.0.0&#39;\r\n    implementation &#39;com.firebaseui:firebase-ui-database:4.0.0&#39;\r\n    implementation &#39;com.firebaseui:firebase-ui-firestore:4.0.0&#39;\r\n\r\n\r\nHow can I get the token id using the latest dependencies?\r\n\r\n","title":"FirebaseInstanceId does not exist anymore","body":"<p>I just did an upgrade to all my Firebase dependencies and I have an issue, <code>FirebaseInstanceId</code> is not recognized anymore. I have used it to get the token id like this:</p>\n\n<pre><code>String tokenId = FirebaseInstanceId.getInstance().getToken();\n</code></pre>\n\n<p>This is the error:</p>\n\n<pre><code>Cannot resolve symbol 'FirebaseInstanceId'\n</code></pre>\n\n<p>Here is my build.gradle file:</p>\n\n<pre><code>//Firebase\nimplementation 'com.google.firebase:firebase-auth:16.0.1'\nimplementation 'com.google.firebase:firebase-database:16.0.1'\nimplementation 'com.google.firebase:firebase-firestore:17.0.1'\n\n//FirebaseUI\nimplementation 'com.firebaseui:firebase-ui-auth:4.0.0'\nimplementation 'com.firebaseui:firebase-ui-database:4.0.0'\nimplementation 'com.firebaseui:firebase-ui-firestore:4.0.0'\n</code></pre>\n\n<p>How can I get the token id using the latest dependencies?</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656450493,"post_id":72793081,"comment_id":128574617,"body_markdown":"What errors? You are double checking if conditions with asserts.","body":"What errors? You are double checking if conditions with asserts."}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656451642,"creation_date":1656451642,"answer_id":72793332,"question_id":72793081,"body_markdown":"If you never throw exceptions, your test will never fail :)\r\n\r\nThis is I would refactor your code:\r\n```\r\nclass Shop {\r\n public void sell(User myUser, String item) {\r\n    if(myUser.getRole() == Roles.CASHIER) {\r\n        for(Product inventory : inventories) {\r\n            if(inventory.getName().equals(item) &amp;&amp; inventory.getPrice() &lt;= myUser.getBalance() ) {\r\n                System.out.println(&quot;sale successful&quot;);\r\n                inventories.remove(inventory);\r\n            }\r\n            else {\r\n                throw new OutOfStockException(item);\r\n            }\r\n        }\r\n    } else {\r\n        throw new CantSellException(myUser);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNow we can test a valid sale it:\r\n```\r\n@Test\r\npublic void testValidSale() {\r\n   User cashier = new User(Roles.CASHIER); // Create a valid User\r\n   List&lt;String&gt; inventories = new ArrayList&lt;&gt;();\r\n   inventories.add(&quot;Vodka&quot;);\r\n   inventories.add(&quot;Beer&quot;);\r\n   inventories.add(&quot;Rum&quot;);\r\n   Shop shop = new Shop();\r\n   shop.sell(cashier, &quot;Vodka&quot;); // An item that exists\r\n   assertEquals(inventories.size(), 2);\r\n   assertFalse(inventories.contains(&quot;Vodka&quot;));\r\n   // You should assert that inventories contains exactly &quot;Beer&quot; and &quot;Rum&quot;\r\n}\r\n\r\n@Test\r\npublic void testOutOfStockException() {\r\n   User cashier = new User(Roles.CASHIER); // Create a valid User\r\n   List&lt;String&gt; inventories = new ArrayList&lt;&gt;();\r\n   inventories.add(&quot;Vodka&quot;);\r\n   inventories.add(&quot;Beer&quot;);\r\n   inventories.add(&quot;Rum&quot;);\r\n   Shop shop = new Shop();\r\n   try {\r\n       shop.sell(&quot;whiskey&quot;); // An item that&#39;s not in the inventory\r\n       Assert.fail(&quot;We expect an exception when the item is out of stock&quot;);\r\n   }\r\n   catch(OutOfStockException e) {\r\n       // Nothing to do: you can test that the error message is correct\r\n       // if you want to\r\n   }\r\n}\r\n\r\npublic  void testUserCannotSell() {\r\n  User customer = new User(Roles.CUSTOMER); // A user that cannot sell\r\n   List&lt;String&gt; inventories = new ArrayList&lt;&gt;();\r\n   inventories.add(&quot;Vodka&quot;);\r\n   Shop shop = new Shop();\r\n   try {\r\n       // This item is not in the inventory\r\n       // but the user cannot sell anything so the other exception should\r\n       // happen first\r\n        shop.sell(&quot;whiskey&quot;); \r\n       Assert.fail(&quot;We expect an exception when the item is out of stock&quot;);\r\n   }\r\n   catch(CantSellException e) {\r\n       // Nothing to do: you can test that the error message is correct\r\n       // if you want to\r\n   }\r\n \r\n}\r\n\r\n```\r\n\r\nThis code is not elegant, but it should give you an idea of what it means to test a method.\r\n\r\n\r\n","title":"My J unit tests keep passing despite deliberate error in the code","body":"<p>If you never throw exceptions, your test will never fail :)</p>\n<p>This is I would refactor your code:</p>\n<pre><code>class Shop {\n public void sell(User myUser, String item) {\n    if(myUser.getRole() == Roles.CASHIER) {\n        for(Product inventory : inventories) {\n            if(inventory.getName().equals(item) &amp;&amp; inventory.getPrice() &lt;= myUser.getBalance() ) {\n                System.out.println(&quot;sale successful&quot;);\n                inventories.remove(inventory);\n            }\n            else {\n                throw new OutOfStockException(item);\n            }\n        }\n    } else {\n        throw new CantSellException(myUser);\n    }\n  }\n}\n</code></pre>\n<p>Now we can test a valid sale it:</p>\n<pre><code>@Test\npublic void testValidSale() {\n   User cashier = new User(Roles.CASHIER); // Create a valid User\n   List&lt;String&gt; inventories = new ArrayList&lt;&gt;();\n   inventories.add(&quot;Vodka&quot;);\n   inventories.add(&quot;Beer&quot;);\n   inventories.add(&quot;Rum&quot;);\n   Shop shop = new Shop();\n   shop.sell(cashier, &quot;Vodka&quot;); // An item that exists\n   assertEquals(inventories.size(), 2);\n   assertFalse(inventories.contains(&quot;Vodka&quot;));\n   // You should assert that inventories contains exactly &quot;Beer&quot; and &quot;Rum&quot;\n}\n\n@Test\npublic void testOutOfStockException() {\n   User cashier = new User(Roles.CASHIER); // Create a valid User\n   List&lt;String&gt; inventories = new ArrayList&lt;&gt;();\n   inventories.add(&quot;Vodka&quot;);\n   inventories.add(&quot;Beer&quot;);\n   inventories.add(&quot;Rum&quot;);\n   Shop shop = new Shop();\n   try {\n       shop.sell(&quot;whiskey&quot;); // An item that's not in the inventory\n       Assert.fail(&quot;We expect an exception when the item is out of stock&quot;);\n   }\n   catch(OutOfStockException e) {\n       // Nothing to do: you can test that the error message is correct\n       // if you want to\n   }\n}\n\npublic  void testUserCannotSell() {\n  User customer = new User(Roles.CUSTOMER); // A user that cannot sell\n   List&lt;String&gt; inventories = new ArrayList&lt;&gt;();\n   inventories.add(&quot;Vodka&quot;);\n   Shop shop = new Shop();\n   try {\n       // This item is not in the inventory\n       // but the user cannot sell anything so the other exception should\n       // happen first\n        shop.sell(&quot;whiskey&quot;); \n       Assert.fail(&quot;We expect an exception when the item is out of stock&quot;);\n   }\n   catch(CantSellException e) {\n       // Nothing to do: you can test that the error message is correct\n       // if you want to\n   }\n \n}\n\n</code></pre>\n<p>This code is not elegant, but it should give you an idea of what it means to test a method.</p>\n"}],"owner":{"account_id":23089625,"reputation":1,"user_id":17200680,"display_name":"Ifeoluwa Clement"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656451642,"creation_date":1656449972,"question_id":72793081,"body_markdown":"Here is the method I&#39;m trying to test. I wrote a test for this method which was passed. But then, I deliberately inserted an error and the test still passed.\r\n\r\n\r\n        public void sell (User myUser, String item) {\r\n        if(myUser.getRole() == Roles.CASHIER) {\r\n            for(Product inventory : inventories) {\r\n                if(inventory.getName().equals(item) &amp;&amp; inventory.getPrice() &lt;= myUser.getBalance() ) {\r\n                    System.out.println(&quot;sale successful&quot;);\r\n                    inventories.remove(inventory);\r\n                }\r\n                else {\r\n                    System.out.println(item +  &quot; is out of stock!&quot;);\r\n                }\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Staff member can&#39;t purchase goods&quot;);\r\n        }\r\n    }\r\n\r\nThis is the test I wrote that&#39;s passing all cases despite deliberate errors in the method. I&#39;m new to J-unit so I&#39;m not even sure I&#39;m doing it right.\r\n\r\n\r\n\r\n        @Test\r\n        void reStock() {\r\n        if(myUser.getRole() == Roles.CASHIER) {\r\n            Assertions.assertEquals(myUser.getRole(), Roles.CASHIER);\r\n            Assertions.assertNotNull(inventories, &quot;Store stock must not be empty&quot;);\r\n            for(Product inventory : inventories) {\r\n                if(inventory.getName().equals(item) &amp;&amp; inventory.getPrice() &lt;= myUser.getBalance() ) {\r\n                    Assertions.assertEquals(inventory.getName(), item);\r\n                    Assertions.assertTrue(inventory.getPrice() &lt;= myUser.getBalance(), &quot;Balance should not be less than the price of the item&quot;);\r\n                    int len = inventories.size();\r\n                    inventories.remove(inventory);\r\n                    Assertions.assertNotEquals(len, (len - 1));\r\n                }\r\n                else {\r\n                    System.out.println(item +  &quot; is out of stock!&quot;);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            System.out.println(&quot;Staff member can&#39;t purchase goods&quot;);\r\n        }\r\n\r\n    }","title":"My J unit tests keep passing despite deliberate error in the code","body":"<p>Here is the method I'm trying to test. I wrote a test for this method which was passed. But then, I deliberately inserted an error and the test still passed.</p>\n<pre><code>    public void sell (User myUser, String item) {\n    if(myUser.getRole() == Roles.CASHIER) {\n        for(Product inventory : inventories) {\n            if(inventory.getName().equals(item) &amp;&amp; inventory.getPrice() &lt;= myUser.getBalance() ) {\n                System.out.println(&quot;sale successful&quot;);\n                inventories.remove(inventory);\n            }\n            else {\n                System.out.println(item +  &quot; is out of stock!&quot;);\n            }\n        }\n    } else {\n        System.out.println(&quot;Staff member can't purchase goods&quot;);\n    }\n}\n</code></pre>\n<p>This is the test I wrote that's passing all cases despite deliberate errors in the method. I'm new to J-unit so I'm not even sure I'm doing it right.</p>\n<pre><code>    @Test\n    void reStock() {\n    if(myUser.getRole() == Roles.CASHIER) {\n        Assertions.assertEquals(myUser.getRole(), Roles.CASHIER);\n        Assertions.assertNotNull(inventories, &quot;Store stock must not be empty&quot;);\n        for(Product inventory : inventories) {\n            if(inventory.getName().equals(item) &amp;&amp; inventory.getPrice() &lt;= myUser.getBalance() ) {\n                Assertions.assertEquals(inventory.getName(), item);\n                Assertions.assertTrue(inventory.getPrice() &lt;= myUser.getBalance(), &quot;Balance should not be less than the price of the item&quot;);\n                int len = inventories.size();\n                inventories.remove(inventory);\n                Assertions.assertNotEquals(len, (len - 1));\n            }\n            else {\n                System.out.println(item +  &quot; is out of stock!&quot;);\n            }\n        }\n    }\n    else {\n        System.out.println(&quot;Staff member can't purchase goods&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":6876031,"reputation":3695,"user_id":5284441,"accept_rate":92,"display_name":"Nayan Srivastava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487689676,"creation_date":1487689676,"answer_id":42370996,"question_id":42370836,"body_markdown":"So, In xml what you put as `id` is an string identifier not actual value, Actual value is automatically generated and stored as `Constant int` in `R` file. Find this file in \r\n\r\n    Module-&gt;build-&gt;generated-&gt;source-&gt;r-&gt;&lt;build_type&gt;-&gt;R.java\r\n\r\n`View.getId()` returns the same value as stored in R file.\r\n\r\nSo the conclusion is:\r\n\r\n* Value present in `xml` is a constant identifier, actual value resides in `R.java` file.\r\n\r\n\r\n*  `view.getId()` returns the actual value that is there in R not the constant string value.\r\n","title":"android:id of View in xml and view.getId()","body":"<p>So, In xml what you put as <code>id</code> is an string identifier not actual value, Actual value is automatically generated and stored as <code>Constant int</code> in <code>R</code> file. Find this file in </p>\n\n<pre><code>Module-&gt;build-&gt;generated-&gt;source-&gt;r-&gt;&lt;build_type&gt;-&gt;R.java\n</code></pre>\n\n<p><code>View.getId()</code> returns the same value as stored in R file.</p>\n\n<p>So the conclusion is:</p>\n\n<ul>\n<li><p>Value present in <code>xml</code> is a constant identifier, actual value resides in <code>R.java</code> file.</p></li>\n<li><p><code>view.getId()</code> returns the actual value that is there in R not the constant string value.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6212984,"reputation":505,"user_id":4838729,"accept_rate":60,"display_name":"Majeed Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487689706,"creation_date":1487689706,"answer_id":42371012,"question_id":42370836,"body_markdown":"view.getId() returns the integer Id generated in the R.java file, this is generated after processing your xml file.\r\n\r\n&gt;  I know that android:id can be obtained in java code via findViewById(R.id.name)\r\n\r\nwrong you dont get the android:id, infact you get the view itself.","title":"android:id of View in xml and view.getId()","body":"<p>view.getId() returns the integer Id generated in the R.java file, this is generated after processing your xml file.</p>\n\n<blockquote>\n  <p>I know that android:id can be obtained in java code via findViewById(R.id.name)</p>\n</blockquote>\n\n<p>wrong you dont get the android:id, infact you get the view itself.</p>\n"},{"tags":[],"owner":{"account_id":7866685,"reputation":501,"user_id":5945316,"accept_rate":67,"display_name":"Alvaro"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1487689805,"creation_date":1487689805,"answer_id":42371050,"question_id":42370836,"body_markdown":"Your `view.getId()` gets the Id that Android manage in the background, is a unique number to know the item. Your Id in the XML file is a name that you give to that item to refer it in your Code, its a friendly name to that item. \r\n\r\nWhen you do `findViewById(R.id.your_friendly_name)` you are getting the View itSelf.\r\n\r\nHope this helps you","title":"android:id of View in xml and view.getId()","body":"<p>Your <code>view.getId()</code> gets the Id that Android manage in the background, is a unique number to know the item. Your Id in the XML file is a name that you give to that item to refer it in your Code, its a friendly name to that item. </p>\n\n<p>When you do <code>findViewById(R.id.your_friendly_name)</code> you are getting the View itSelf.</p>\n\n<p>Hope this helps you</p>\n"},{"tags":[],"owner":{"account_id":25634556,"reputation":1,"user_id":19404351,"display_name":"Alosta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656451539,"creation_date":1656039785,"answer_id":72738563,"question_id":42370836,"body_markdown":"The following code worked fine for me in getting the `id` of a XML file from the XML folder\r\n\r\n\r\n    int xmlFileId = getResources().getIdentifier(&quot;filename&quot;, &quot;xml&quot;, getPackageName());\r\n\r\n\r\n\r\nThe `xmlFileId` has your file id, which is the `&quot;filename&quot;` without `.xml` ","title":"android:id of View in xml and view.getId()","body":"<p>The following code worked fine for me in getting the <code>id</code> of a XML file from the XML folder</p>\n<pre><code>int xmlFileId = getResources().getIdentifier(&quot;filename&quot;, &quot;xml&quot;, getPackageName());\n</code></pre>\n<p>The <code>xmlFileId</code> has your file id, which is the <code>&quot;filename&quot;</code> without <code>.xml</code></p>\n"}],"owner":{"account_id":7616360,"reputation":617,"user_id":6820198,"accept_rate":13,"display_name":"Spectorsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2132,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1656451539,"creation_date":1487689258,"question_id":42370836,"body_markdown":"Sorry for stupid question, but is there some correspondence between `android:id` for view and `view.getId()`? Of course, they are different, of `String` and `int` type respectively. I know that `android:id` can be obtained in java code via `findViewById(R.id.name)`, where `name` is `android:id`, but I couldn&#39;t find value of `view.getId()` in xml file.\r\n\r\n\r\nCorrection\r\n----------\r\n`android:id` is used in java code via `findViewById(R.id.name), this method returns view itself.\r\n\r\n","title":"android:id of View in xml and view.getId()","body":"<p>Sorry for stupid question, but is there some correspondence between <code>android:id</code> for view and <code>view.getId()</code>? Of course, they are different, of <code>String</code> and <code>int</code> type respectively. I know that <code>android:id</code> can be obtained in java code via <code>findViewById(R.id.name)</code>, where <code>name</code> is <code>android:id</code>, but I couldn't find value of <code>view.getId()</code> in xml file.</p>\n\n<h2>Correction</h2>\n\n<p><code>android:id</code> is used in java code via `findViewById(R.id.name), this method returns view itself.</p>\n"},{"tags":["java","cron"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656450824,"creation_date":1656450824,"answer_id":72793209,"question_id":72793010,"body_markdown":"You are not finding out how Java does cron. Instead, you are finding out how Quartz intepretes cron expressions. Quartz is even more powerful than usual Linux cron daemons.\r\n\r\nYou noticed correctly that both expressions fire at the same rhythm. With that you may use one or the other and get the same result.\r\n\r\nAdditionally the documentation may help to understand:\r\nhttp://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/tutorials/tutorial-lesson-06.html","title":"Can the following two cron expressions be used interchangeably?","body":"<p>You are not finding out how Java does cron. Instead, you are finding out how Quartz intepretes cron expressions. Quartz is even more powerful than usual Linux cron daemons.</p>\n<p>You noticed correctly that both expressions fire at the same rhythm. With that you may use one or the other and get the same result.</p>\n<p>Additionally the documentation may help to understand:\n<a href=\"http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/tutorials/tutorial-lesson-06.html\" rel=\"nofollow noreferrer\">http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/tutorials/tutorial-lesson-06.html</a></p>\n"}],"owner":{"account_id":16322936,"reputation":23,"user_id":11986103,"display_name":"rxp3292"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72793209,"answer_count":1,"score":0,"last_activity_date":1656450824,"creation_date":1656449400,"question_id":72793010,"body_markdown":"I am trying to understand how Cron expressions are written and interpreted in Java. I am unable to understand how the two expressions listed below differ in physical sense:  \r\n**Expression 1:** * * * 1/1 * ? *  \r\n**Expression 2:** * * * * * ? *\r\n\r\nI referred to the description provided by [CronExpressionGenerator][1] and their description of the two expressions were as follows:  \r\n**Expression 1:** Runs every second  \r\n**Expression 2:** Runs every second every day  \r\nIn a physical sense, they both run every second. Can they be used interchangeably? \r\n\r\n\r\n  [1]: https://www.programmertools.online/generator/cron_expression.html","title":"Can the following two cron expressions be used interchangeably?","body":"<p>I am trying to understand how Cron expressions are written and interpreted in Java. I am unable to understand how the two expressions listed below differ in physical sense:<br />\n<strong>Expression 1:</strong> * * * 1/1 * ? *<br />\n<strong>Expression 2:</strong> * * * * * ? *</p>\n<p>I referred to the description provided by <a href=\"https://www.programmertools.online/generator/cron_expression.html\" rel=\"nofollow noreferrer\">CronExpressionGenerator</a> and their description of the two expressions were as follows:<br />\n<strong>Expression 1:</strong> Runs every second<br />\n<strong>Expression 2:</strong> Runs every second every day<br />\nIn a physical sense, they both run every second. Can they be used interchangeably?</p>\n"},{"tags":["java","bufferedreader"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1656361719,"post_id":72777844,"comment_id":128549017,"body_markdown":"What version of IntelliJ IDEA are you using?","body":"What version of IntelliJ IDEA are you using?"},{"owner":{"account_id":12184329,"reputation":133,"user_id":8894759,"display_name":"RomanM"},"score":0,"creation_date":1656362145,"post_id":72777844,"comment_id":128549106,"body_markdown":"@k314159 this is IntelliJ IDEA 2022.1.1 Edu version, I&#39;m doing a Hyperskill project.","body":"@k314159 this is IntelliJ IDEA 2022.1.1 Edu version, I&#39;m doing a Hyperskill project."},{"owner":{"account_id":12184329,"reputation":133,"user_id":8894759,"display_name":"RomanM"},"score":0,"creation_date":1656362484,"post_id":72777844,"comment_id":128549202,"body_markdown":"@akarnokd That leading newline char becomes an empty string causing empty credentials to be processed. Then immediately after that actual credentials get processed because it sees a trailing newline and readLine() eats it up following the logic that I intended.","body":"@akarnokd That leading newline char becomes an empty string causing empty credentials to be processed. Then immediately after that actual credentials get processed because it sees a trailing newline and readLine() eats it up following the logic that I intended."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656362946,"creation_date":1656362946,"answer_id":72778139,"question_id":72777844,"body_markdown":"This issue only occurs when you run your program in the IDE. If you run it from the command line, using the command `java [ClassName]`, it should work just fine. \r\n\r\nThe problem is a [bug in IntelliJ IDEA][1] which was fixed in version 2022.1.2, so you might want to upgrade.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-293951","title":"BufferedReader unexpected behavior","body":"<p>This issue only occurs when you run your program in the IDE. If you run it from the command line, using the command <code>java [ClassName]</code>, it should work just fine.</p>\n<p>The problem is a <a href=\"https://youtrack.jetbrains.com/issue/IDEA-293951\" rel=\"nofollow noreferrer\">bug in IntelliJ IDEA</a> which was fixed in version 2022.1.2, so you might want to upgrade.</p>\n"}],"owner":{"account_id":12184329,"reputation":133,"user_id":8894759,"display_name":"RomanM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72778139,"answer_count":1,"score":1,"last_activity_date":1656450664,"creation_date":1656360981,"question_id":72777844,"body_markdown":"I have an unusual problem with BufferedReader in Java 11. I have a simple command-line student tracker application, that reads input from `System.in`, transforms it into the appropriate implementation of `Command` interface, and executes it. \r\n\r\n    void execute() {\r\n        System.out.println(&quot;Learning Progress Tracker&quot;);\r\n        try (reader) { // reader is new BufferedReader(new InputStreamReader(System.in))\r\n            String line;\r\n            while (!shutdown) {\r\n                line = reader.readLine();\r\n                Command command = Command.stringToCommand(line);\r\n                if (command instanceof ExitCommand) {\r\n                    shutdown = true;\r\n                }\r\n                command.execute(reader, db);\r\n            }\r\n        } catch (IOException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\nSome commands simply process the input and print the output to `System.out`, some keep using `reader` to receive additional input. For example, `AddStudentsCommand` implements execution like so:\r\n\r\n\r\n```\r\n public void execute(BufferedReader reader, Database db) {\r\n        String line;\r\n        String[] credentials;\r\n        int numAdded = 0;\r\n        prompt(); // Prints prompt to System.in to enter credentials\r\n        try {\r\n            while (!(line = reader.readLine()).equals(&quot;back&quot;)) {\r\n\r\n                // process input\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\nHere is the weird part. After `while (!(line = reader.readLine()).equals(&quot;back&quot;)) {` line evaluates to true, `reader`&#39;s buffer ends up with leading `\\n` in its buffer, followed by whatever I typed, which causes to `readLine()` to fire up twice. And even weirder, that only happens if I comment out `prompt()` (a simple `System.out.println()`) prior to `readLine()`. If some text gets printed to `System.out` before reading, the buffer behaves correctly and leading `\\n` doesn&#39;t show up. I have recorded a small video to show what I mean: https://www.youtube.com/watch?v=H7PBr6Qpykg.\r\n\r\nI don&#39;t know what I&#39;m doing wrong and can&#39;t understand where that nasty bug is coming from. Can anyone reproduce?","title":"BufferedReader unexpected behavior","body":"<p>I have an unusual problem with BufferedReader in Java 11. I have a simple command-line student tracker application, that reads input from <code>System.in</code>, transforms it into the appropriate implementation of <code>Command</code> interface, and executes it.</p>\n<pre><code>void execute() {\n    System.out.println(&quot;Learning Progress Tracker&quot;);\n    try (reader) { // reader is new BufferedReader(new InputStreamReader(System.in))\n        String line;\n        while (!shutdown) {\n            line = reader.readLine();\n            Command command = Command.stringToCommand(line);\n            if (command instanceof ExitCommand) {\n                shutdown = true;\n            }\n            command.execute(reader, db);\n        }\n    } catch (IOException e) {\n        System.out.println(e.getMessage());\n    }\n}\n</code></pre>\n<p>Some commands simply process the input and print the output to <code>System.out</code>, some keep using <code>reader</code> to receive additional input. For example, <code>AddStudentsCommand</code> implements execution like so:</p>\n<pre><code> public void execute(BufferedReader reader, Database db) {\n        String line;\n        String[] credentials;\n        int numAdded = 0;\n        prompt(); // Prints prompt to System.in to enter credentials\n        try {\n            while (!(line = reader.readLine()).equals(&quot;back&quot;)) {\n\n                // process input\n\n            }\n        }\n\n    }\n</code></pre>\n<p>Here is the weird part. After <code>while (!(line = reader.readLine()).equals(&quot;back&quot;)) {</code> line evaluates to true, <code>reader</code>'s buffer ends up with leading <code>\\n</code> in its buffer, followed by whatever I typed, which causes to <code>readLine()</code> to fire up twice. And even weirder, that only happens if I comment out <code>prompt()</code> (a simple <code>System.out.println()</code>) prior to <code>readLine()</code>. If some text gets printed to <code>System.out</code> before reading, the buffer behaves correctly and leading <code>\\n</code> doesn't show up. I have recorded a small video to show what I mean: <a href=\"https://www.youtube.com/watch?v=H7PBr6Qpykg\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=H7PBr6Qpykg</a>.</p>\n<p>I don't know what I'm doing wrong and can't understand where that nasty bug is coming from. Can anyone reproduce?</p>\n"},{"tags":["java","spring-boot","prometheus","metrics","micrometer"],"comments":[{"owner":{"account_id":5972924,"reputation":3473,"user_id":4694757,"display_name":"I_Al-thamary"},"score":0,"creation_date":1656451546,"post_id":72793031,"comment_id":128574900,"body_markdown":"See [metrics to prometheus java](https://github.com/DataStax-Examples/metrics-to-prometheus-java)  ,[the four types of prometheus metrics](https://tomgregory.com/the-four-types-of-prometheus-metrics/), [this](https://grafana.com/blog/2022/04/26/set-up-and-observe-a-spring-boot-application-with-grafana-cloud-prometheus-and-opentelemetry/), and [this](https://www.tutorialworks.com/spring-boot-prometheus-micrometer/) which may help.","body":"See <a href=\"https://github.com/DataStax-Examples/metrics-to-prometheus-java\" rel=\"nofollow noreferrer\">metrics to prometheus java</a>  ,<a href=\"https://tomgregory.com/the-four-types-of-prometheus-metrics/\" rel=\"nofollow noreferrer\">the four types of prometheus metrics</a>, <a href=\"https://grafana.com/blog/2022/04/26/set-up-and-observe-a-spring-boot-application-with-grafana-cloud-prometheus-and-opentelemetry/\" rel=\"nofollow noreferrer\">this</a>, and <a href=\"https://www.tutorialworks.com/spring-boot-prometheus-micrometer/\" rel=\"nofollow noreferrer\">this</a> which may help."},{"owner":{"account_id":5972924,"reputation":3473,"user_id":4694757,"display_name":"I_Al-thamary"},"score":0,"creation_date":1656451765,"post_id":72793031,"comment_id":128574947,"body_markdown":"I have changed them.","body":"I have changed them."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1656452131,"post_id":72793031,"comment_id":128575043,"body_markdown":"@I_Al-thamary If I am not mistaken 3 links use Micrometer. Not sure about it: https://grafana.com/blog/2022/04/26/set-up-and-observe-a-spring-boot-application-with-grafana-cloud-prometheus-and-opentelemetry/\n\nHave you tried it ?","body":"@I_Al-thamary If I am not mistaken 3 links use Micrometer. Not sure about it: <a href=\"https://grafana.com/blog/2022/04/26/set-up-and-observe-a-spring-boot-application-with-grafana-cloud-prometheus-and-opentelemetry/\" rel=\"nofollow noreferrer\">grafana.com/blog/2022/04/26/&hellip;</a>  Have you tried it ?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1656452610,"post_id":72793031,"comment_id":128575161,"body_markdown":"I would appreciate the whole example","body":"I would appreciate the whole example"},{"owner":{"account_id":942478,"reputation":14367,"user_id":970308,"accept_rate":62,"display_name":"checketts"},"score":0,"creation_date":1656492391,"post_id":72793031,"comment_id":128583465,"body_markdown":"Micrometer can work without Spring Boot. Can you post what you have tried? Perhaps you are trying to PUSH metrics to Prometheus instead of using the typical PULL model?","body":"Micrometer can work without Spring Boot. Can you post what you have tried? Perhaps you are trying to PUSH metrics to Prometheus instead of using the typical PULL model?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1656493203,"post_id":72793031,"comment_id":128583780,"body_markdown":"@checkett I have a bit different aim - I want to expose metrics for Prometheus from java application **without** Micrometer","body":"@checkett I have a bit different aim - I want to expose metrics for Prometheus from java application <b>without</b> Micrometer"},{"owner":{"account_id":942478,"reputation":14367,"user_id":970308,"accept_rate":62,"display_name":"checketts"},"score":0,"creation_date":1656502571,"post_id":72793031,"comment_id":128587453,"body_markdown":"You could use the Prometheus client directly, but it isn&#39;t clear why Micrometer is causing you problems. (https://github.com/prometheus/client_java)","body":"You could use the Prometheus client directly, but it isn&#39;t clear why Micrometer is causing you problems. (<a href=\"https://github.com/prometheus/client_java\" rel=\"nofollow noreferrer\">github.com/prometheus/client_java</a>)"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1656503119,"post_id":72793031,"comment_id":128587691,"body_markdown":"@checketts\nI try to do exactly that but I can&#39;t. Could you please take a look ?\nhttps://stackoverflow.com/questions/72800851/how-to-export-metrics-collected-by-dropwizard-in-prometheus-format-from-java-a\n\nMicrometer is very good software but I need to create 2 applications: 1. with micrometer and 2. WIthout micrometer\n\nFirst one is reasy but the second one is not","body":"@checketts I try to do exactly that but I can&#39;t. Could you please take a look ? <a href=\"https://stackoverflow.com/questions/72800851/how-to-export-metrics-collected-by-dropwizard-in-prometheus-format-from-java-a\" title=\"how to export metrics collected by dropwizard in prometheus format from java a\">stackoverflow.com/questions/72800851/&hellip;</a>  Micrometer is very good software but I need to create 2 applications: 1. with micrometer and 2. WIthout micrometer  First one is reasy but the second one is not"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1656591250,"post_id":72793031,"comment_id":128613493,"body_markdown":"Good example could be found here: https://stackoverflow.com/a/72802084/2674303","body":"Good example could be found here: <a href=\"https://stackoverflow.com/a/72802084/2674303\">stackoverflow.com/a/72802084/2674303</a>"},{"owner":{"account_id":942478,"reputation":14367,"user_id":970308,"accept_rate":62,"display_name":"checketts"},"score":0,"creation_date":1656593662,"post_id":72793031,"comment_id":128614432,"body_markdown":"So you have Prometheus with micrometer working and now you need to do the same thing without micrometer? Can you help me understand why the second app is excluding micrometer? Just trying to understand the usecase","body":"So you have Prometheus with micrometer working and now you need to do the same thing without micrometer? Can you help me understand why the second app is excluding micrometer? Just trying to understand the usecase"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1656450649,"creation_date":1656449532,"question_id":72793031,"body_markdown":"I have 2 things:\r\n\r\n 1. A java application.  \r\n 2. Prometheus server\r\n\r\nMy task is gather application metrics and send then to Prometheus.\r\n\r\nI&#39;ve found only 1 way to do it: using Micrometer. And as a java application it is convenient to take spring boot because it has a good integration with Micrometer and latter has adapter for Prometheus.\r\n\r\n\r\nAre there any other options ? \r\n\r\nP.S. I try to achieve it via dropwizard metrics but I am stuck - there almost no information in google about it.","title":"How can I gather and send metrics from java application to Prometheus without micrometer?","body":"<p>I have 2 things:</p>\n<ol>\n<li>A java application.</li>\n<li>Prometheus server</li>\n</ol>\n<p>My task is gather application metrics and send then to Prometheus.</p>\n<p>I've found only 1 way to do it: using Micrometer. And as a java application it is convenient to take spring boot because it has a good integration with Micrometer and latter has adapter for Prometheus.</p>\n<p>Are there any other options ?</p>\n<p>P.S. I try to achieve it via dropwizard metrics but I am stuck - there almost no information in google about it.</p>\n"},{"tags":["java","keycloak","keycloak-services"],"comments":[{"owner":{"account_id":893101,"reputation":3385,"user_id":931004,"accept_rate":100,"display_name":"Ghokun"},"score":0,"creation_date":1656492110,"post_id":72792953,"comment_id":128583356,"body_markdown":"I am wondering why did you created a new Authorization endpoint instead of extending the username password flow and binding it. Such as this: https://stackoverflow.com/questions/67800071/keycloak-adding-new-authenticator/67808514#67808514","body":"I am wondering why did you created a new Authorization endpoint instead of extending the username password flow and binding it. Such as this: <a href=\"https://stackoverflow.com/questions/67800071/keycloak-adding-new-authenticator/67808514#67808514\" title=\"keycloak adding new authenticator\">stackoverflow.com/questions/67800071/&hellip;</a>"},{"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"score":0,"creation_date":1656664528,"post_id":72792953,"comment_id":128632349,"body_markdown":"I thought about it first, then didn&#39;t complete it, and thought about a new deticated endpoint instead.","body":"I thought about it first, then didn&#39;t complete it, and thought about a new deticated endpoint instead."}],"answers":[{"tags":[],"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656450346,"creation_date":1656450346,"answer_id":72793140,"question_id":72792953,"body_markdown":"I solved by saving the user in the cache (db) if not exist:\r\n\r\n```java\r\nString username = getUsernameFromToken(token);\r\nString userId = &quot;my-&quot; + username;\r\nUserModel userModel = new InMemoryUserAdapter(session, session.getContext().getRealm(), username);\r\nuserModel.setUsername(username);\r\nuserModel.setEnabled(true);\r\n\r\nif (session.users().getUserById(realm, userId) == null) {\r\n    session.userCache().addUser(realm, userId, username, false, false);\r\n}\r\n```","title":"create keycloak endpoint to provide custom authentication","body":"<p>I solved by saving the user in the cache (db) if not exist:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String username = getUsernameFromToken(token);\nString userId = &quot;my-&quot; + username;\nUserModel userModel = new InMemoryUserAdapter(session, session.getContext().getRealm(), username);\nuserModel.setUsername(username);\nuserModel.setEnabled(true);\n\nif (session.users().getUserById(realm, userId) == null) {\n    session.userCache().addUser(realm, userId, username, false, false);\n}\n</code></pre>\n"}],"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":893,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72793140,"answer_count":1,"score":0,"last_activity_date":1656450346,"creation_date":1656449074,"question_id":72792953,"body_markdown":"I am trying to extend keycloak by creating a new endpoint to authenticate users.\r\n\r\nThe point is, user is not stored in keycloak, the user is stored in an external system.\r\n\r\nThe external system will call the new endpoint and provide token (will contains user info), clientId, and clientSecret. and (somehow) we will verify the existence of the user.\r\n\r\nThe challenge I am facing right now is I cannot create a session for the user. (seems the session requires existed user in keycloak, I am using InMemoryUser)\r\n\r\n```\r\npackage com.mhewedy.auth;\r\n\r\nimport org.jboss.logging.Logger;\r\nimport org.jboss.resteasy.spi.HttpRequest;\r\nimport org.jboss.resteasy.spi.ResteasyProviderFactory;\r\nimport org.keycloak.Config;\r\nimport org.keycloak.events.EventBuilder;\r\nimport org.keycloak.models.*;\r\nimport org.keycloak.protocol.AuthorizationEndpointBase;\r\nimport org.keycloak.protocol.oidc.TokenManager;\r\nimport org.keycloak.representations.AccessToken;\r\nimport org.keycloak.representations.AccessTokenResponse;\r\nimport org.keycloak.services.resource.RealmResourceProvider;\r\nimport org.keycloak.services.resource.RealmResourceProviderFactory;\r\nimport org.keycloak.services.resources.Cors;\r\nimport org.keycloak.services.util.DefaultClientSessionContext;\r\nimport org.keycloak.storage.adapter.InMemoryUserAdapter;\r\n\r\nimport javax.ws.rs.*;\r\nimport javax.ws.rs.core.Context;\r\nimport javax.ws.rs.core.MediaType;\r\nimport javax.ws.rs.core.Response;\r\nimport java.util.UUID;\r\n\r\nimport static org.keycloak.services.resources.Cors.ACCESS_CONTROL_ALLOW_ORIGIN;\r\nimport static org.keycloak.utils.MediaType.APPLICATION_JSON_TYPE;\r\n\r\npublic class MyEndpoint extends AuthorizationEndpointBase implements RealmResourceProvider {\r\n\r\n    private final Logger logger = Logger.getLogger(MyEndpoint.class);\r\n\r\n\r\n    private final TokenManager tokenManager = new TokenManager();\r\n\r\n    public MyEndpoint(RealmModel realm, EventBuilder event) {\r\n        super(realm, event);\r\n    }\r\n\r\n    @Override\r\n    public Object getResource() {\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n\r\n    }\r\n\r\n    @GET\r\n    @Path(&quot;authenticate&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\r\n    public Response authenticate(@FormParam(&quot;token&quot;) String token,\r\n                                 @FormParam(&quot;client_id&quot;) String clientId,\r\n                                 @FormParam(&quot;client_secret&quot;) String clientSecret,\r\n                                 @Context HttpRequest request) {\r\n\r\n        // validate client_id &amp; client_secret\r\n        // validate token\r\n\r\n        logger.info(&quot;generating access token...&quot;);\r\n\r\n\r\n        String userId = UUID.randomUUID().toString();\r\n        UserModel userModel =\r\n                new InMemoryUserAdapter(session, session.getContext().getRealm(), userId);\r\n        userModel.setUsername(token);\r\n        userModel.setEnabled(true);\r\n\r\n\r\n        // this session object doesn&#39;t contain the userModel, cause it seems it lookups the user by id and doesn&#39;t find it\r\n        UserSessionModel userSession = session.sessions().createOfflineUserSession(session.sessions().createUserSession(\r\n                session.getContext().getRealm(),\r\n                userModel,\r\n                token,\r\n                &quot;192.168.1.1&quot;,\r\n                &quot;My&quot;,\r\n                false,\r\n                null,\r\n                null\r\n        ));\r\n\r\n        ClientModel clientModel = realm.getClientByClientId(clientId);\r\n\r\n        logger.infof(&quot;Configurable token requested for username=%s and client=%s on realm=%s&quot;,\r\n                userModel.getUsername(), clientModel.getClientId(), realm.getName());\r\n\r\n        AuthenticatedClientSessionModel clientSession = session.sessions().createClientSession(realm, clientModel, userSession);\r\n\r\n        ClientSessionContext clientSessionContext =\r\n                DefaultClientSessionContext.fromClientSessionScopeParameter(clientSession, session);\r\n\r\n        AccessToken newToken = tokenManager\r\n                .createClientAccessToken(session, realm, clientModel, userModel, userSession, clientSessionContext);\r\n\r\n        newToken.expiration(10 * 10 * 10 * 10);\r\n\r\n        EventBuilder eventBuilder = new EventBuilder(realm, session, session.getContext().getConnection());\r\n        AccessTokenResponse response = tokenManager\r\n                .responseBuilder(realm, clientModel, eventBuilder, session, userSession, clientSessionContext)\r\n                .accessToken(newToken)\r\n                .build();\r\n\r\n        return buildCorsResponse(request, response);\r\n    }\r\n\r\n    private Response buildCorsResponse(@Context HttpRequest request, AccessTokenResponse response) {\r\n        Cors cors = Cors.add(request)\r\n                .auth()\r\n                .allowedMethods(&quot;POST&quot;)\r\n                .auth()\r\n                .exposedHeaders(Cors.ACCESS_CONTROL_ALLOW_METHODS, ACCESS_CONTROL_ALLOW_ORIGIN)\r\n                .allowAllOrigins();\r\n        return cors.builder(Response.ok(response).type(APPLICATION_JSON_TYPE)).build();\r\n    }\r\n\r\n    // ----------------------------------------------------------------------------------------------------------------\r\n\r\n    public static class MyEndpointFactory implements RealmResourceProviderFactory {\r\n\r\n        @Override\r\n        public RealmResourceProvider create(KeycloakSession session) {\r\n            KeycloakContext context = session.getContext();\r\n            RealmModel realm = context.getRealm();\r\n            EventBuilder event = new EventBuilder(realm, session, context.getConnection());\r\n            MyEndpoint provider = new MyEndpoint(realm, event);\r\n            ResteasyProviderFactory.getInstance().injectProperties(provider);\r\n            return provider;\r\n        }\r\n\r\n        @Override\r\n        public void init(Config.Scope config) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void postInit(KeycloakSessionFactory factory) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void close() {\r\n\r\n        }\r\n\r\n        @Override\r\n        public String getId() {\r\n            return &quot;MyEndpoint&quot;;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI am using code from [here][1] but the use case is differnt.\r\n\r\n\r\n  [1]: https://github.com/looorent/keycloak-configurable-token-api/blob/master/src/main/java/be/looorent/ConfigurableTokenResourceProvider.java","title":"create keycloak endpoint to provide custom authentication","body":"<p>I am trying to extend keycloak by creating a new endpoint to authenticate users.</p>\n<p>The point is, user is not stored in keycloak, the user is stored in an external system.</p>\n<p>The external system will call the new endpoint and provide token (will contains user info), clientId, and clientSecret. and (somehow) we will verify the existence of the user.</p>\n<p>The challenge I am facing right now is I cannot create a session for the user. (seems the session requires existed user in keycloak, I am using InMemoryUser)</p>\n<pre><code>package com.mhewedy.auth;\n\nimport org.jboss.logging.Logger;\nimport org.jboss.resteasy.spi.HttpRequest;\nimport org.jboss.resteasy.spi.ResteasyProviderFactory;\nimport org.keycloak.Config;\nimport org.keycloak.events.EventBuilder;\nimport org.keycloak.models.*;\nimport org.keycloak.protocol.AuthorizationEndpointBase;\nimport org.keycloak.protocol.oidc.TokenManager;\nimport org.keycloak.representations.AccessToken;\nimport org.keycloak.representations.AccessTokenResponse;\nimport org.keycloak.services.resource.RealmResourceProvider;\nimport org.keycloak.services.resource.RealmResourceProviderFactory;\nimport org.keycloak.services.resources.Cors;\nimport org.keycloak.services.util.DefaultClientSessionContext;\nimport org.keycloak.storage.adapter.InMemoryUserAdapter;\n\nimport javax.ws.rs.*;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport java.util.UUID;\n\nimport static org.keycloak.services.resources.Cors.ACCESS_CONTROL_ALLOW_ORIGIN;\nimport static org.keycloak.utils.MediaType.APPLICATION_JSON_TYPE;\n\npublic class MyEndpoint extends AuthorizationEndpointBase implements RealmResourceProvider {\n\n    private final Logger logger = Logger.getLogger(MyEndpoint.class);\n\n\n    private final TokenManager tokenManager = new TokenManager();\n\n    public MyEndpoint(RealmModel realm, EventBuilder event) {\n        super(realm, event);\n    }\n\n    @Override\n    public Object getResource() {\n        return this;\n    }\n\n    @Override\n    public void close() {\n\n    }\n\n    @GET\n    @Path(&quot;authenticate&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\n    public Response authenticate(@FormParam(&quot;token&quot;) String token,\n                                 @FormParam(&quot;client_id&quot;) String clientId,\n                                 @FormParam(&quot;client_secret&quot;) String clientSecret,\n                                 @Context HttpRequest request) {\n\n        // validate client_id &amp; client_secret\n        // validate token\n\n        logger.info(&quot;generating access token...&quot;);\n\n\n        String userId = UUID.randomUUID().toString();\n        UserModel userModel =\n                new InMemoryUserAdapter(session, session.getContext().getRealm(), userId);\n        userModel.setUsername(token);\n        userModel.setEnabled(true);\n\n\n        // this session object doesn't contain the userModel, cause it seems it lookups the user by id and doesn't find it\n        UserSessionModel userSession = session.sessions().createOfflineUserSession(session.sessions().createUserSession(\n                session.getContext().getRealm(),\n                userModel,\n                token,\n                &quot;192.168.1.1&quot;,\n                &quot;My&quot;,\n                false,\n                null,\n                null\n        ));\n\n        ClientModel clientModel = realm.getClientByClientId(clientId);\n\n        logger.infof(&quot;Configurable token requested for username=%s and client=%s on realm=%s&quot;,\n                userModel.getUsername(), clientModel.getClientId(), realm.getName());\n\n        AuthenticatedClientSessionModel clientSession = session.sessions().createClientSession(realm, clientModel, userSession);\n\n        ClientSessionContext clientSessionContext =\n                DefaultClientSessionContext.fromClientSessionScopeParameter(clientSession, session);\n\n        AccessToken newToken = tokenManager\n                .createClientAccessToken(session, realm, clientModel, userModel, userSession, clientSessionContext);\n\n        newToken.expiration(10 * 10 * 10 * 10);\n\n        EventBuilder eventBuilder = new EventBuilder(realm, session, session.getContext().getConnection());\n        AccessTokenResponse response = tokenManager\n                .responseBuilder(realm, clientModel, eventBuilder, session, userSession, clientSessionContext)\n                .accessToken(newToken)\n                .build();\n\n        return buildCorsResponse(request, response);\n    }\n\n    private Response buildCorsResponse(@Context HttpRequest request, AccessTokenResponse response) {\n        Cors cors = Cors.add(request)\n                .auth()\n                .allowedMethods(&quot;POST&quot;)\n                .auth()\n                .exposedHeaders(Cors.ACCESS_CONTROL_ALLOW_METHODS, ACCESS_CONTROL_ALLOW_ORIGIN)\n                .allowAllOrigins();\n        return cors.builder(Response.ok(response).type(APPLICATION_JSON_TYPE)).build();\n    }\n\n    // ----------------------------------------------------------------------------------------------------------------\n\n    public static class MyEndpointFactory implements RealmResourceProviderFactory {\n\n        @Override\n        public RealmResourceProvider create(KeycloakSession session) {\n            KeycloakContext context = session.getContext();\n            RealmModel realm = context.getRealm();\n            EventBuilder event = new EventBuilder(realm, session, context.getConnection());\n            MyEndpoint provider = new MyEndpoint(realm, event);\n            ResteasyProviderFactory.getInstance().injectProperties(provider);\n            return provider;\n        }\n\n        @Override\n        public void init(Config.Scope config) {\n\n        }\n\n        @Override\n        public void postInit(KeycloakSessionFactory factory) {\n\n        }\n\n        @Override\n        public void close() {\n\n        }\n\n        @Override\n        public String getId() {\n            return &quot;MyEndpoint&quot;;\n        }\n    }\n}\n\n</code></pre>\n<p>I am using code from <a href=\"https://github.com/looorent/keycloak-configurable-token-api/blob/master/src/main/java/be/looorent/ConfigurableTokenResourceProvider.java\" rel=\"nofollow noreferrer\">here</a> but the use case is differnt.</p>\n"},{"tags":["java","json","xml","spring","maven"],"answers":[{"tags":[],"owner":{"account_id":25539720,"reputation":446,"user_id":19326039,"display_name":"Nikolay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656448786,"creation_date":1656448786,"answer_id":72792909,"question_id":72792798,"body_markdown":"You did not mention when the exception is thrown, so I assume it is on calling the endpoints.\r\n\r\nTry adding `produces` parameter to the annotations of the 2 endpoints in the controller, that return `ResponseEntity&lt;Mailbox&gt;`, e.g.\r\n\r\n`@PutMapping(value = &quot;put_in_mail&quot;, consumes = &quot;application/json&quot;, produces=&quot;application/json&quot;)`\r\n\r\nand\r\n\r\n`@GetMapping(&quot;take_all_mail&quot;, produces=&quot;application/json&quot;)`","title":"Java SpringMVC - converter.HttpMessageNotWritableException","body":"<p>You did not mention when the exception is thrown, so I assume it is on calling the endpoints.</p>\n<p>Try adding <code>produces</code> parameter to the annotations of the 2 endpoints in the controller, that return <code>ResponseEntity&lt;Mailbox&gt;</code>, e.g.</p>\n<p><code>@PutMapping(value = &quot;put_in_mail&quot;, consumes = &quot;application/json&quot;, produces=&quot;application/json&quot;)</code></p>\n<p>and</p>\n<p><code>@GetMapping(&quot;take_all_mail&quot;, produces=&quot;application/json&quot;)</code></p>\n"}],"owner":{"account_id":25674680,"reputation":11,"user_id":19438326,"display_name":"Laustrup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656448786,"creation_date":1656448101,"question_id":72792798,"body_markdown":"I&#39;m having an issue of returning a object into an JSON object, from a RESTController of a SpringMVC framework with Tomcat and maven xml, without spring boot.\r\n\r\nHere is the exception, when requesting the URL:\r\n\r\n    org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException\r\n    WARNING: Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class laustrup.models.Mailbox]\r\n\r\nController class:\r\n\r\n    @RestController\r\n    public class MailController {\r\n\t\r\n\tprivate MailService service;\r\n\t\r\n\tpublic MailController() {\r\n\t\tservice = new MailService();\r\n\t}\r\n\t\r\n\t@RequestMapping(&quot;/hallo&quot;)\r\n\tpublic String halloWorld() {\r\n\t\treturn &quot;Hallo World!&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(value = &quot;/check_inbox&quot;, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)\r\n\tpublic ResponseEntity&lt;LinkedList&lt;Mail&gt;&gt; checkInbox() {\r\n\t\treturn service.checkInbox(); \r\n\t}\r\n\t\r\n\t@PutMapping(value = &quot;put_in_mail&quot;, consumes = &quot;application/json&quot;)\r\n\tpublic ResponseEntity&lt;Mailbox&gt; putInMailBox(@RequestBody Mail mail) {\r\n\t\treturn service.putMailInInbox(mail);\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;take_all_mail&quot;)\r\n\tpublic ResponseEntity&lt;Mailbox&gt; takeAllMail() {\r\n\t\treturn service.takeMail();\r\n\t}\r\n    }\r\n\r\nService class:\r\n\r\n\tpackage laustrup.services;\r\n\t\r\n\timport java.util.LinkedList;\r\n\t\r\n\timport org.springframework.http.HttpHeaders;\r\n\timport org.springframework.http.HttpStatus;\r\n\timport org.springframework.http.ResponseEntity;\r\n\timport org.springframework.stereotype.Service;\r\n\t\r\n\timport laustrup.models.Mail;\r\n\timport laustrup.models.Mailbox;\r\n\t\r\n\t@Service\r\n\tpublic class MailService {\r\n\t\t\r\n\t\tprivate Mailbox mailbox;\r\n\t\t\r\n\t\tpublic MailService() {\r\n\t\t\tmailbox = new Mailbox(&quot;Jagtvej 67&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tpublic ResponseEntity&lt;LinkedList&lt;Mail&gt;&gt; checkInbox() {\r\n\t\t\tHttpStatus status = HttpStatus.OK;\r\n\t\t\tif (mailbox.inboxIsEmpty()) { \r\n\t\t\t\tstatus = HttpStatus.NO_CONTENT;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn ResponseEntity.status(status).\r\n\t\t\t\t\theader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;).\r\n\t\t\t\t\tbody(new LinkedList&lt;Mail&gt;());\r\n\t\t}\r\n\t\t\r\n\t\tpublic ResponseEntity&lt;Mailbox&gt; putMailInInbox(Mail mail) {\r\n\t\t\tmailbox.addMail(mail);\r\n\t\t\t\r\n\t\t\tif (mailbox.inboxContains(mail)) {\r\n\t\t\t\treturn new ResponseEntity&lt;Mailbox&gt;(mailbox,HttpStatus.OK);\r\n\t\t\t}\r\n\t\t\treturn new ResponseEntity&lt;Mailbox&gt;(new Mailbox(null),HttpStatus.BAD_REQUEST);\r\n\t\t}\r\n\t\t\r\n\t\tpublic ResponseEntity&lt;Mailbox&gt; takeMail() {\r\n\t\t\tif (mailbox.emptyInbox()) {\r\n\t\t\t\treturn new ResponseEntity&lt;Mailbox&gt;(mailbox,HttpStatus.OK);\r\n\t\t\t}\r\n\t\t\treturn new ResponseEntity&lt;Mailbox&gt;(new Mailbox(null),HttpStatus.BAD_REQUEST);\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nWEB xml: \r\n\r\n\t&lt;!DOCTYPE web-app PUBLIC\r\n\t &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n\t &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\r\n\t\r\n\t&lt;web-app&gt;\r\n\t  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n\t  \r\n\t  &lt;servlet&gt;\r\n\t  \t&lt;servlet-name&gt;frontcontroller&lt;/servlet-name&gt;\r\n\t  \t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t  \t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t  &lt;/servlet&gt;\r\n\t  \r\n\t  &lt;servlet-mapping&gt;\r\n\t  \t&lt;servlet-name&gt;frontcontroller&lt;/servlet-name&gt;\r\n\t  \t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t  &lt;/servlet-mapping&gt;\r\n\t&lt;/web-app&gt;\r\n\r\n\r\nservlet xml:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t\r\n\t&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t\txmlns:ctx=&quot;http://www.springframework.org/schema/context&quot;\r\n\t    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\t    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\t    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n\t        https://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t        \r\n\t        http://www.springframework.org/schema/context\r\n\t        https://www.springframework.org/schema/context/spring-context.xsd\r\n\t        \r\n\t        http://www.springframework.org/schema/mvc\r\n\t        https://www.springframework.org/schema/context/spring-mvc.xsd&quot;\r\n\t    &gt;\r\n\t\r\n\t\t&lt;ctx:annotation-config&gt;&lt;/ctx:annotation-config&gt;\r\n\t\t\r\n\t\t&lt;ctx:component-scan base-package=&quot;laustrup.controllers&quot;&gt;&lt;/ctx:component-scan&gt;\r\n\t\t&lt;ctx:component-scan base-package=&quot;laustrup.models&quot;&gt;&lt;/ctx:component-scan&gt;\r\n\t\t&lt;ctx:component-scan base-package=&quot;laustrup.services&quot;&gt;&lt;/ctx:component-scan&gt;\r\n\t&lt;/beans&gt;\r\n\r\npom xml:\r\n\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t  &lt;groupId&gt;laustrup&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;Mailbox&lt;/artifactId&gt;\r\n\t  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\t  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t  &lt;name&gt;Mailbox Maven Webapp&lt;/name&gt;\r\n\t  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\t\r\n\t  \r\n\t  &lt;dependencies&gt;\r\n\t    &lt;dependency&gt;\r\n\t    \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t    \t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t    \t&lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t    \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t    \t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t    \t&lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t    \t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t    \t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t    \t&lt;version&gt;1.2&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t    \t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t    \t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t    \t &lt;version&gt;2.13.3&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t    \t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t    \t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t    \t &lt;version&gt;2.13.2&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t    \t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t    \t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t    \t &lt;version&gt;2.13.2&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t        &lt;version&gt;2.13.2.2&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t        &lt;version&gt;2.10.5&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    \r\n\t  &lt;/dependencies&gt;\r\n\t  \r\n\t  &lt;build&gt;\r\n\t    &lt;finalName&gt;Mailbox&lt;/finalName&gt;\r\n\t    &lt;!-- To define the plugin version in your parent POM --&gt;\r\n\t    &lt;pluginManagement&gt;\r\n\t      &lt;plugins&gt;\r\n\t        &lt;plugin&gt;\r\n\t          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t          &lt;version&gt;3.3.2&lt;/version&gt;\r\n\t        &lt;/plugin&gt;\r\n\t      &lt;/plugins&gt;\r\n\t    &lt;/pluginManagement&gt;\r\n\t  &lt;/build&gt;\r\n\t&lt;/project&gt;\r\n\r\nIt seems like the issue comes from a wrong dependency of jackson. Is that possible? How do I then fix it?","title":"Java SpringMVC - converter.HttpMessageNotWritableException","body":"<p>I'm having an issue of returning a object into an JSON object, from a RESTController of a SpringMVC framework with Tomcat and maven xml, without spring boot.</p>\n<p>Here is the exception, when requesting the URL:</p>\n<pre><code>org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException\nWARNING: Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter found for return value of type: class laustrup.models.Mailbox]\n</code></pre>\n<p>Controller class:</p>\n<pre><code>@RestController\npublic class MailController {\n\nprivate MailService service;\n\npublic MailController() {\n    service = new MailService();\n}\n\n@RequestMapping(&quot;/hallo&quot;)\npublic String halloWorld() {\n    return &quot;Hallo World!&quot;;\n}\n\n@GetMapping(value = &quot;/check_inbox&quot;, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)\npublic ResponseEntity&lt;LinkedList&lt;Mail&gt;&gt; checkInbox() {\n    return service.checkInbox(); \n}\n\n@PutMapping(value = &quot;put_in_mail&quot;, consumes = &quot;application/json&quot;)\npublic ResponseEntity&lt;Mailbox&gt; putInMailBox(@RequestBody Mail mail) {\n    return service.putMailInInbox(mail);\n}\n\n@GetMapping(&quot;take_all_mail&quot;)\npublic ResponseEntity&lt;Mailbox&gt; takeAllMail() {\n    return service.takeMail();\n}\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>package laustrup.services;\n\nimport java.util.LinkedList;\n\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Service;\n\nimport laustrup.models.Mail;\nimport laustrup.models.Mailbox;\n\n@Service\npublic class MailService {\n    \n    private Mailbox mailbox;\n    \n    public MailService() {\n        mailbox = new Mailbox(&quot;Jagtvej 67&quot;);\n    }\n    \n    public ResponseEntity&lt;LinkedList&lt;Mail&gt;&gt; checkInbox() {\n        HttpStatus status = HttpStatus.OK;\n        if (mailbox.inboxIsEmpty()) { \n            status = HttpStatus.NO_CONTENT;\n        }\n        \n        return ResponseEntity.status(status).\n                header(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;).\n                body(new LinkedList&lt;Mail&gt;());\n    }\n    \n    public ResponseEntity&lt;Mailbox&gt; putMailInInbox(Mail mail) {\n        mailbox.addMail(mail);\n        \n        if (mailbox.inboxContains(mail)) {\n            return new ResponseEntity&lt;Mailbox&gt;(mailbox,HttpStatus.OK);\n        }\n        return new ResponseEntity&lt;Mailbox&gt;(new Mailbox(null),HttpStatus.BAD_REQUEST);\n    }\n    \n    public ResponseEntity&lt;Mailbox&gt; takeMail() {\n        if (mailbox.emptyInbox()) {\n            return new ResponseEntity&lt;Mailbox&gt;(mailbox,HttpStatus.OK);\n        }\n        return new ResponseEntity&lt;Mailbox&gt;(new Mailbox(null),HttpStatus.BAD_REQUEST);\n    }\n\n}\n</code></pre>\n<p>WEB xml:</p>\n<pre><code>&lt;!DOCTYPE web-app PUBLIC\n &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\n &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\n\n&lt;web-app&gt;\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n  \n  &lt;servlet&gt;\n    &lt;servlet-name&gt;frontcontroller&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  \n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;frontcontroller&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>servlet xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:ctx=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        \n        http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\n        \n        http://www.springframework.org/schema/mvc\n        https://www.springframework.org/schema/context/spring-mvc.xsd&quot;\n    &gt;\n\n    &lt;ctx:annotation-config&gt;&lt;/ctx:annotation-config&gt;\n    \n    &lt;ctx:component-scan base-package=&quot;laustrup.controllers&quot;&gt;&lt;/ctx:component-scan&gt;\n    &lt;ctx:component-scan base-package=&quot;laustrup.models&quot;&gt;&lt;/ctx:component-scan&gt;\n    &lt;ctx:component-scan base-package=&quot;laustrup.services&quot;&gt;&lt;/ctx:component-scan&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>pom xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;laustrup&lt;/groupId&gt;\n  &lt;artifactId&gt;Mailbox&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;Mailbox Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n         &lt;version&gt;2.13.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n         &lt;version&gt;2.13.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n         &lt;version&gt;2.13.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.13.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;version&gt;2.10.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n    &lt;finalName&gt;Mailbox&lt;/finalName&gt;\n    &lt;!-- To define the plugin version in your parent POM --&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>It seems like the issue comes from a wrong dependency of jackson. Is that possible? How do I then fix it?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","log4j"],"answers":[{"tags":[],"owner":{"account_id":23515844,"reputation":5,"user_id":17563773,"display_name":"Victor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656448554,"creation_date":1656448554,"answer_id":72792874,"question_id":72791082,"body_markdown":"I saw a post that solved my problem, just put this dependency:\r\n\r\n        \r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n                &lt;version&gt;2.17.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.17.2&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"ERROR: org.apache.logging.log4j.Logger.atDebug()Lorg/apache/logging/log4j/LogBuilder","body":"<p>I saw a post that solved my problem, just put this dependency:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;2.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.17.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":23515844,"reputation":5,"user_id":17563773,"display_name":"Victor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72792874,"answer_count":1,"score":0,"last_activity_date":1656448554,"creation_date":1656438723,"question_id":72791082,"body_markdown":"When I try import a file from front to my api, throws this error: `org.apache.logging.log4j.Logger.atDebug()Lorg/apache/logging/log4j/LogBuilder`\r\n\r\nI just have this log4j dependency in my pom.xml: \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThis is my Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/api/importacao&quot;, produces = { &quot;application/json&quot; })\r\n    @CrossOrigin(&quot;*&quot;)\r\n    public class ImportacaoController {\r\n    \r\n    \t@Autowired\r\n    \tprivate VeiculoService veiculoService;\r\n    \r\n    \t@Autowired\r\n    \tprivate ImportacaoService importService;\r\n    \r\n    \t@PostMapping(&quot;/uploadexcel&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; salvarArquivo(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n    \t\tString caminho = UUID.randomUUID() + &quot;.&quot; + extrairExtensao(file.getOriginalFilename());\r\n    \r\n    \t\ttry {\r\n    \t\t\tList&lt;Veiculo&gt; veiculos = veiculoService.converteArquivo(file);\r\n    \t\t\tveiculos = veiculoService.salvarVeiculos(veiculos);\r\n    \t\t\tFiles.copy(file.getInputStream(), Paths.get(caminho), StandardCopyOption.REPLACE_EXISTING);\r\n    \r\n    \t\t\tImportacao importacao = new Importacao(caminho, LocalDate.now());\r\n    \t\t\timportacao = importService.salvarImportacao(importacao);\r\n    \t\t\treturn new ResponseEntity&lt;&gt;(&quot;{\\&quot;Arquivo carregado com sucesso!\\&quot;}&quot;, HttpStatus.OK);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\treturn new ResponseEntity&lt;&gt;(&quot;{\\&quot;Erro ao carregar o arquivo!\\&quot;}&quot;,\r\n    \t\t\t\t\tHttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t\t}\r\n    \t}\r\n    \r\n    private String extrairExtensao(String nomeArquivo) {\r\n        int i = nomeArquivo.lastIndexOf(&quot;.&quot;);\r\n        return nomeArquivo.substring(i + 1);\r\n    }\r\n\r\nThank you in advance. ","title":"ERROR: org.apache.logging.log4j.Logger.atDebug()Lorg/apache/logging/log4j/LogBuilder","body":"<p>When I try import a file from front to my api, throws this error: <code>org.apache.logging.log4j.Logger.atDebug()Lorg/apache/logging/log4j/LogBuilder</code></p>\n<p>I just have this log4j dependency in my pom.xml:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.25&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This is my Controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/importacao&quot;, produces = { &quot;application/json&quot; })\n@CrossOrigin(&quot;*&quot;)\npublic class ImportacaoController {\n\n    @Autowired\n    private VeiculoService veiculoService;\n\n    @Autowired\n    private ImportacaoService importService;\n\n    @PostMapping(&quot;/uploadexcel&quot;)\n    public ResponseEntity&lt;String&gt; salvarArquivo(@RequestParam(&quot;file&quot;) MultipartFile file) {\n        String caminho = UUID.randomUUID() + &quot;.&quot; + extrairExtensao(file.getOriginalFilename());\n\n        try {\n            List&lt;Veiculo&gt; veiculos = veiculoService.converteArquivo(file);\n            veiculos = veiculoService.salvarVeiculos(veiculos);\n            Files.copy(file.getInputStream(), Paths.get(caminho), StandardCopyOption.REPLACE_EXISTING);\n\n            Importacao importacao = new Importacao(caminho, LocalDate.now());\n            importacao = importService.salvarImportacao(importacao);\n            return new ResponseEntity&lt;&gt;(&quot;{\\&quot;Arquivo carregado com sucesso!\\&quot;}&quot;, HttpStatus.OK);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(&quot;{\\&quot;Erro ao carregar o arquivo!\\&quot;}&quot;,\n                    HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n\nprivate String extrairExtensao(String nomeArquivo) {\n    int i = nomeArquivo.lastIndexOf(&quot;.&quot;);\n    return nomeArquivo.substring(i + 1);\n}\n</code></pre>\n<p>Thank you in advance.</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1656447902,"post_id":72792677,"comment_id":128573786,"body_markdown":"I dont fully understand what you are trying to do. Why needs to wait? What it waits for?","body":"I dont fully understand what you are trying to do. Why needs to wait? What it waits for?"},{"owner":{"account_id":25617078,"reputation":1,"user_id":19389519,"display_name":"FilResto"},"score":0,"creation_date":1656448142,"post_id":72792677,"comment_id":128573873,"body_markdown":"I would like to do something like this, I create many threads but they can&#39;t count 1 to 10 concurrently, only and only 1 can count 1to10, so I think that the others have to wait no?","body":"I would like to do something like this, I create many threads but they can&#39;t count 1 to 10 concurrently, only and only 1 can count 1to10, so I think that the others have to wait no?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1656448172,"post_id":72792677,"comment_id":128573884,"body_markdown":"Unrelated but avoid `class MyTask extends Thread{..}` always prefer `class MyTask implements Runnable{..}`. Extending Thread class involves few mechanisms which you may not want (especially if you are not aware of it).","body":"Unrelated but avoid <code>class MyTask extends Thread{..}</code> always prefer <code>class MyTask implements Runnable{..}</code>. Extending Thread class involves few mechanisms which you may not want (especially if you are not aware of it)."},{"owner":{"account_id":25617078,"reputation":1,"user_id":19389519,"display_name":"FilResto"},"score":0,"creation_date":1656448198,"post_id":72792677,"comment_id":128573894,"body_markdown":"the other threads wait untile a thread finished counting, then the faster thread will enter in the critical section and start counting. BTW my bad not extends thread but implements runnable, ty","body":"the other threads wait untile a thread finished counting, then the faster thread will enter in the critical section and start counting. BTW my bad not extends thread but implements runnable, ty"},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1656448262,"post_id":72792677,"comment_id":128573918,"body_markdown":"So only 1 counts to 10 and others do nothing ?","body":"So only 1 counts to 10 and others do nothing ?"},{"owner":{"account_id":25617078,"reputation":1,"user_id":19389519,"display_name":"FilResto"},"score":0,"creation_date":1656448333,"post_id":72792677,"comment_id":128573939,"body_markdown":"Yes! Only count 1to10","body":"Yes! Only count 1to10"},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1656448440,"post_id":72792677,"comment_id":128573978,"body_markdown":"Mutex needs to be between objects. And if only 1 thread can do the counting you need to add something to kill the others then.","body":"Mutex needs to be between objects. And if only 1 thread can do the counting you need to add something to kill the others then."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1656457755,"post_id":72792677,"comment_id":128576204,"body_markdown":"You said, &quot;I would like to...create many threads but [not let them] count 1 to 10 concurrently.&quot; Concurrency is the _entire point_ of creating threads. It only ever makes sense to create a thread if there is something that it can do concurrently with other threads. You might learn something by doing this exercise, but it&#39;s not something you should ever do in any real program.","body":"You said, &quot;I would like to...create many threads but [not let them] count 1 to 10 concurrently.&quot; Concurrency is the <i>entire point</i> of creating threads. It only ever makes sense to create a thread if there is something that it can do concurrently with other threads. You might learn something by doing this exercise, but it&#39;s not something you should ever do in any real program."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1656939952,"post_id":72792677,"comment_id":128686125,"body_markdown":"So, it&#39;s now looking like you did in fact create a new account for the now deleted question, and then misrepresented this fact","body":"So, it&#39;s now looking like you did in fact create a new account for the now deleted question, and then misrepresented this fact"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656448130,"creation_date":1656448130,"answer_id":72792805,"question_id":72792677,"body_markdown":"&gt;```java\r\n&gt; private Object mutex = new Object();\r\n&gt; ```\r\n\r\nOkay. You create a new object. It has no name (because objects do not have names). You also created a field (which isn&#39;t an object; it&#39;s a pointer to one). It currently points at the new object you made.\r\n\r\nEach of the 10 instances of Count1by1 has a field, and each points to a unique object, given that they all run `new Object()`.\r\n\r\n&gt;```java\r\n&gt; synchronized (mutex) {\r\n&gt;```\r\n\r\nOkay, this takes the field `mutex` follows what its pointing at, finds the object there, and then locks on that. Given that there are 10 unique objects (each Count1by1 instance has its own object), this accomplishes nothing. To have a mutex, at least 2 threads need to lock on the same object.\r\n\r\n## Solution\r\n\r\nMake the lock object in your main and pass it to your threads:\r\n\r\n```\r\nprivate final Object mutex;\r\n\r\npublic Count1by1(int num, Object mutex) {\r\n    this.threadnumber=num;\r\n    this.mutex = mutex;\r\n}\r\n```\r\n\r\nNow there&#39;s one mutex object (hint: Count the number of times the code executes a `new` statement, that&#39;s how many you have). Each of your 10 instances of Count1by1 has its own field, but they are all pointing at the same object (it&#39;s like 10 people having a piece of paper with the same home address written on it: 10 &#39;variables&#39;, just one house), hence, synchronizing on them will do something.\r\n","title":"Count to 10 but thread waits other thread before starting","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>private Object mutex = new Object();\n</code></pre>\n</blockquote>\n<p>Okay. You create a new object. It has no name (because objects do not have names). You also created a field (which isn't an object; it's a pointer to one). It currently points at the new object you made.</p>\n<p>Each of the 10 instances of Count1by1 has a field, and each points to a unique object, given that they all run <code>new Object()</code>.</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>synchronized (mutex) {\n</code></pre>\n</blockquote>\n<p>Okay, this takes the field <code>mutex</code> follows what its pointing at, finds the object there, and then locks on that. Given that there are 10 unique objects (each Count1by1 instance has its own object), this accomplishes nothing. To have a mutex, at least 2 threads need to lock on the same object.</p>\n<h2>Solution</h2>\n<p>Make the lock object in your main and pass it to your threads:</p>\n<pre><code>private final Object mutex;\n\npublic Count1by1(int num, Object mutex) {\n    this.threadnumber=num;\n    this.mutex = mutex;\n}\n</code></pre>\n<p>Now there's one mutex object (hint: Count the number of times the code executes a <code>new</code> statement, that's how many you have). Each of your 10 instances of Count1by1 has its own field, but they are all pointing at the same object (it's like 10 people having a piece of paper with the same home address written on it: 10 'variables', just one house), hence, synchronizing on them will do something.</p>\n"}],"owner":{"account_id":25617078,"reputation":1,"user_id":19389519,"display_name":"FilResto"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1656448303,"creation_date":1656447484,"question_id":72792677,"body_markdown":"I would like to create a program like this:\r\nI start in my main 10 threads like this (My class implements runnable)\r\n\r\n    public class Main {\r\n\r\n\tpublic static void main(String[] ar) {\r\n\t\tfor (int i = 1; i &lt;= 5; i++) {\r\n\t\t\tCount1by1 count1by1 = new Count1by1(i);\r\n\t\t\tThread myThread = new Thread(count1by1);\r\n\t\t\tmyThread.start();\r\n\t\t}\t\r\n\t }\r\n    }\r\n\r\nand I want to create a critical section that if the thread enters it can count to 10, if not it will wait().\r\nI&#39;ve tried many implementations but is not working (cuz every threads count to 10 without waiting...\r\n\r\nThis is the class\r\n\r\n    public class Count1by1 implements Runnable{\r\n\tprivate int threadnumber;\r\n\tprivate Object mutex = new Object();\r\n\t\r\n\t\r\n\tpublic Count1by1(int num) {\r\n\t\tthis.threadnumber=num;\r\n\t\t//this.mutex= new Object();\r\n\t}\r\n\r\n\tpublic void count() {\r\n\t\tsynchronized (mutex) {\r\n\t\t\tfor (int i = 1; i &lt;= 10; i++) {\r\n\t\t\t\tSystem.out.println(&quot;#&quot;+threadnumber + &quot; counts: &quot; + i);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(500);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tSystem.out.println(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tcount();\r\n\t  }\r\n    }\r\n","title":"Count to 10 but thread waits other thread before starting","body":"<p>I would like to create a program like this:\nI start in my main 10 threads like this (My class implements runnable)</p>\n<pre><code>public class Main {\n\npublic static void main(String[] ar) {\n    for (int i = 1; i &lt;= 5; i++) {\n        Count1by1 count1by1 = new Count1by1(i);\n        Thread myThread = new Thread(count1by1);\n        myThread.start();\n    }   \n }\n}\n</code></pre>\n<p>and I want to create a critical section that if the thread enters it can count to 10, if not it will wait().\nI've tried many implementations but is not working (cuz every threads count to 10 without waiting...</p>\n<p>This is the class</p>\n<pre><code>public class Count1by1 implements Runnable{\nprivate int threadnumber;\nprivate Object mutex = new Object();\n\n\npublic Count1by1(int num) {\n    this.threadnumber=num;\n    //this.mutex= new Object();\n}\n\npublic void count() {\n    synchronized (mutex) {\n        for (int i = 1; i &lt;= 10; i++) {\n            System.out.println(&quot;#&quot;+threadnumber + &quot; counts: &quot; + i);\n            try {\n                Thread.sleep(500);\n            } catch (Exception e) {\n                System.out.println(e);\n            }\n        }\n    }\n}\n@Override\npublic void run() {\n    count();\n  }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":25223850,"reputation":1664,"user_id":19059974,"display_name":"Gerard Garcia"},"score":1,"creation_date":1656484801,"post_id":72789702,"comment_id":128580724,"body_markdown":"Kafka offsets and transactions are usually committed when the application performs a checkpoint. Could it be that checkpoint interval is set to more than 1 minute and thus, when it tries to commit, it fails due to the transaction having timed out?","body":"Kafka offsets and transactions are usually committed when the application performs a checkpoint. Could it be that checkpoint interval is set to more than 1 minute and thus, when it tries to commit, it fails due to the transaction having timed out?"}],"owner":{"account_id":5660794,"reputation":743,"user_id":4478526,"accept_rate":36,"display_name":"Vin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656447303,"creation_date":1656431879,"question_id":72789702,"body_markdown":"I&#39;m using Flink 1.15.0. For Kafka integration I wrote\r\n\r\nKafkaSource:\r\n\r\n    public static KafkaSource&lt;String&gt; kafkaSource(String bootstrapServers, String topic, String groupId) {\r\n        return KafkaSource.&lt;String&gt;builder()\r\n                .setBootstrapServers(bootstrapServers)\r\n                .setTopics(topic)              \r\n                .setGroupId(groupId)                \r\n                .setStartingOffsets(OffsetsInitializer.latest())\r\n                .setValueOnlyDeserializer(new SimpleStringSchema())\r\n                .build();\r\n\r\nand KafkaSink:\r\n\r\n    public static KafkaSink&lt;WordCountPojo&gt; kafkaSink(String brokers, String topic, Properties producerProperties) {\r\n        return KafkaSink.&lt;WordCountPojo&gt;builder()\r\n                .setKafkaProducerConfig(producerProperties)\r\n                .setBootstrapServers(brokers)\r\n                .setRecordSerializer(new WordCountPojoSerializer(topic))\r\n                .setDeliverGuarantee(DeliveryGuarantee.EXACTLY_ONCE)\r\n                .setTransactionalIdPrefix(UUID.randomUUID().toString())\r\n                .build();\r\n    }\r\n\r\nfor completeness this is my custom serializer\r\n\r\n    public class WordCountPojoSerializer implements KafkaRecordSerializationSchema&lt;WordCountPojo&gt; {\r\n        private String topic;\r\n        private ObjectMapper mapper;\r\n    \r\n        public WordCountPojoSerializer(String topic) {\r\n            this.topic = topic;\r\n            mapper = new ObjectMapper();\r\n        }\r\n    \r\n        @Override\r\n        public ProducerRecord&lt;byte[], byte[]&gt; serialize(WordCountPojo wordCountPojo, KafkaSinkContext kafkaSinkContext, Long timestamp) {\r\n            try {\r\n                byte[] serializedValue = mapper.writeValueAsBytes(wordCountPojo);\r\n                return new ProducerRecord&lt;&gt;(topic, null,  timestamp,null, serializedValue);\r\n            } catch (JsonProcessingException e) {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\nProperty `transaction.timeout.ms` is set to 60_000ms (1 minute)\r\n\r\nMy application run for a while, then, suddenly, stop with the exception\r\n\r\n    Caused by: org.apache.kafka.common.errors.InvalidProducerEpochException: Producer attempted to produce with an old epoch.\r\n\r\nIt seems that producer tries to produce record between two transaction, but I&#39;m not sure.\r\nI could increase transaction.timeout.ms to max 900_000 (15 minute) but I don&#39;t think this may solve the problem.\r\n\r\nCan you help me please?\r\n","title":"Flink - Kafka Connector EXACTLY ONCE error","body":"<p>I'm using Flink 1.15.0. For Kafka integration I wrote</p>\n<p>KafkaSource:</p>\n<pre><code>public static KafkaSource&lt;String&gt; kafkaSource(String bootstrapServers, String topic, String groupId) {\n    return KafkaSource.&lt;String&gt;builder()\n            .setBootstrapServers(bootstrapServers)\n            .setTopics(topic)              \n            .setGroupId(groupId)                \n            .setStartingOffsets(OffsetsInitializer.latest())\n            .setValueOnlyDeserializer(new SimpleStringSchema())\n            .build();\n</code></pre>\n<p>and KafkaSink:</p>\n<pre><code>public static KafkaSink&lt;WordCountPojo&gt; kafkaSink(String brokers, String topic, Properties producerProperties) {\n    return KafkaSink.&lt;WordCountPojo&gt;builder()\n            .setKafkaProducerConfig(producerProperties)\n            .setBootstrapServers(brokers)\n            .setRecordSerializer(new WordCountPojoSerializer(topic))\n            .setDeliverGuarantee(DeliveryGuarantee.EXACTLY_ONCE)\n            .setTransactionalIdPrefix(UUID.randomUUID().toString())\n            .build();\n}\n</code></pre>\n<p>for completeness this is my custom serializer</p>\n<pre><code>public class WordCountPojoSerializer implements KafkaRecordSerializationSchema&lt;WordCountPojo&gt; {\n    private String topic;\n    private ObjectMapper mapper;\n\n    public WordCountPojoSerializer(String topic) {\n        this.topic = topic;\n        mapper = new ObjectMapper();\n    }\n\n    @Override\n    public ProducerRecord&lt;byte[], byte[]&gt; serialize(WordCountPojo wordCountPojo, KafkaSinkContext kafkaSinkContext, Long timestamp) {\n        try {\n            byte[] serializedValue = mapper.writeValueAsBytes(wordCountPojo);\n            return new ProducerRecord&lt;&gt;(topic, null,  timestamp,null, serializedValue);\n        } catch (JsonProcessingException e) {\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>Property <code>transaction.timeout.ms</code> is set to 60_000ms (1 minute)</p>\n<p>My application run for a while, then, suddenly, stop with the exception</p>\n<pre><code>Caused by: org.apache.kafka.common.errors.InvalidProducerEpochException: Producer attempted to produce with an old epoch.\n</code></pre>\n<p>It seems that producer tries to produce record between two transaction, but I'm not sure.\nI could increase transaction.timeout.ms to max 900_000 (15 minute) but I don't think this may solve the problem.</p>\n<p>Can you help me please?</p>\n"},{"tags":["java","image-processing","processing"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":2,"creation_date":1656381547,"post_id":72779942,"comment_id":128552548,"body_markdown":"The issue is simply that the  `space-shuttle.obj` file can not be found. Where is the `space-shuttle.obj` file located relative to your jar? Is it packaged inside the jar, or in a resource folder, or is it located in the same folder as the jar?","body":"The issue is simply that the  <code>space-shuttle.obj</code> file can not be found. Where is the <code>space-shuttle.obj</code> file located relative to your jar? Is it packaged inside the jar, or in a resource folder, or is it located in the same folder as the jar?"},{"owner":{"account_id":17207699,"reputation":79,"user_id":12457874,"display_name":"miiguell"},"score":0,"creation_date":1656395265,"post_id":72779942,"comment_id":128554645,"body_markdown":"It is inside the data folder of the sketch where the samples say to put it. That&#39;s the same place where I put the 2D image which loaded just fine. That is why I&#39;m a little confused. I&#39;m getting the relative path to it from the jar file would be &quot;./data/space-shuttle.obj&quot;","body":"It is inside the data folder of the sketch where the samples say to put it. That&#39;s the same place where I put the 2D image which loaded just fine. That is why I&#39;m a little confused. I&#39;m getting the relative path to it from the jar file would be &quot;./data/space-shuttle.obj&quot;"}],"answers":[{"tags":[],"owner":{"account_id":17715726,"reputation":2190,"user_id":12862111,"display_name":"apodidae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656447186,"creation_date":1656447186,"answer_id":72792621,"question_id":72779942,"body_markdown":"Shuttle object is here:https://sketchfab.com/3d-models/space-shuttle-ff4b00b7ebb24fdd98fb96b08f2c43c9\r\n\r\nThe following source code should work:\r\n\r\n```\r\nPShape rocket;\r\n\r\nfloat ry;\r\n\r\nvoid setup() {\r\n  size(500, 500, P3D);\r\n  rocket = loadShape(&quot;space-shuttle.obj&quot;);\r\n}\r\n\r\nvoid draw() {\r\n  background(200);\r\n  translate(width/2, height/2, 350);\r\n  rotateZ(PI);\r\n  rotateY(ry);\r\n  shape(rocket);\r\n  ry += 0.02;\r\n}\r\n```\r\nThe .mtl file was not included with the original download, but may be added with the following code:\r\n\r\n```\r\nnewmtl Default\r\nillum 2\r\nNs 96.078431\r\nKa 0.000000 0.000000 0.000000\r\nKd 0.533333 0.533333 0.533333\r\nKs 0.100000 0.100000 0.100000\r\nNi 1.000000\r\nd 1.000000\r\nmap_Kd ShuttleDiffuseMap.jpg\r\n\r\n```\r\nFiles in the &#39;data&#39; folder should look like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1vJI2.png","title":"Processing Importing 3D model using loadShape()","body":"<p>Shuttle object is here:<a href=\"https://sketchfab.com/3d-models/space-shuttle-ff4b00b7ebb24fdd98fb96b08f2c43c9\" rel=\"nofollow noreferrer\">https://sketchfab.com/3d-models/space-shuttle-ff4b00b7ebb24fdd98fb96b08f2c43c9</a></p>\n<p>The following source code should work:</p>\n<pre><code>PShape rocket;\n\nfloat ry;\n\nvoid setup() {\n  size(500, 500, P3D);\n  rocket = loadShape(&quot;space-shuttle.obj&quot;);\n}\n\nvoid draw() {\n  background(200);\n  translate(width/2, height/2, 350);\n  rotateZ(PI);\n  rotateY(ry);\n  shape(rocket);\n  ry += 0.02;\n}\n</code></pre>\n<p>The .mtl file was not included with the original download, but may be added with the following code:</p>\n<pre><code>newmtl Default\nillum 2\nNs 96.078431\nKa 0.000000 0.000000 0.000000\nKd 0.533333 0.533333 0.533333\nKs 0.100000 0.100000 0.100000\nNi 1.000000\nd 1.000000\nmap_Kd ShuttleDiffuseMap.jpg\n\n</code></pre>\n<p>Files in the 'data' folder should look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/1vJI2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1vJI2.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17207699,"reputation":79,"user_id":12457874,"display_name":"miiguell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656447186,"creation_date":1656381365,"question_id":72779942,"body_markdown":"I&#39;m trying to import a 3D model of a space shuttle but processing is giving me a really hard time doing this for some reason. I watched examples and even opened the .OBJ file on ym computer and it renders nicely but processing doesn&#39;t want to open it. The code snippet is really simple as shown below:\r\n\r\n```\r\nPShape rocket;\r\n\r\nint windowSize = 1000; // size of square window\r\n\r\n\r\nvoid setup() {\r\n  size(1000, 1000, P3D);\r\n  rocket = loadShape(&quot;space-shuttle.obj&quot;);\r\n}\r\n\r\nvoid draw() {\r\n  background(100);\r\n  shape(rocket);\r\n}\r\n```\r\n\r\nI made sure I added the file to the data folder and also tried with a .svg in 2D which worked but I need the 3D model for my project. The error that I get is below. Any help would be appreciated! I am using processing 4.0. I had also tried with earlier versions but nothing happened\r\n\r\n```\r\n\r\nThe file &quot;space-shuttle.obj&quot; is missing or inaccessible, make sure the URL is valid or that the file has been added to your sketch and is readable.\r\njava.lang.NullPointerException: Cannot invoke &quot;java.io.BufferedReader.readLine()&quot; because &quot;reader&quot; is null\r\n\tat processing.core.PShapeOBJ.parseOBJ(PShapeOBJ.java:168)\r\n\tat processing.core.PShapeOBJ.&lt;init&gt;(PShapeOBJ.java:40)\r\n\tat processing.core.PShapeOBJ.&lt;init&gt;(PShapeOBJ.java:27)\r\n\tat processing.opengl.PGraphics3D.loadShapeImpl(PGraphics3D.java:128)\r\n\tat processing.opengl.PGraphicsOpenGL.loadShape(PGraphicsOpenGL.java:3382)\r\n\tat processing.core.PApplet.loadShape(PApplet.java:11254)\r\n\tat simulation.setup(simulation.java:30)\r\n\tat processing.core.PApplet.handleDraw(PApplet.java:2142)\r\n\tat processing.opengl.PSurfaceJOGL$DrawListener.display(PSurfaceJOGL.java:825)\r\n\tat jogamp.opengl.GLDrawableHelper.displayImpl(GLDrawableHelper.java:692)\r\n\tat jogamp.opengl.GLDrawableHelper.display(GLDrawableHelper.java:674)\r\n\tat jogamp.opengl.GLAutoDrawableBase$2.run(GLAutoDrawableBase.java:443)\r\n\tat jogamp.opengl.GLDrawableHelper.invokeGLImpl(GLDrawableHelper.java:1293)\r\n\tat jogamp.opengl.GLDrawableHelper.invokeGL(GLDrawableHelper.java:1147)\r\n\tat com.jogamp.newt.opengl.GLWindow.display(GLWindow.java:782)\r\n\tat com.jogamp.opengl.util.AWTAnimatorImpl.display(AWTAnimatorImpl.java:81)\r\n\tat com.jogamp.opengl.util.AnimatorBase.display(AnimatorBase.java:453)\r\n\tat com.jogamp.opengl.util.FPSAnimator$MainTask.run(FPSAnimator.java:178)\r\n\tat java.base/java.util.TimerThread.mainLoop(Timer.java:566)\r\n\tat java.base/java.util.TimerThread.run(Timer.java:516)\r\n```","title":"Processing Importing 3D model using loadShape()","body":"<p>I'm trying to import a 3D model of a space shuttle but processing is giving me a really hard time doing this for some reason. I watched examples and even opened the .OBJ file on ym computer and it renders nicely but processing doesn't want to open it. The code snippet is really simple as shown below:</p>\n<pre><code>PShape rocket;\n\nint windowSize = 1000; // size of square window\n\n\nvoid setup() {\n  size(1000, 1000, P3D);\n  rocket = loadShape(&quot;space-shuttle.obj&quot;);\n}\n\nvoid draw() {\n  background(100);\n  shape(rocket);\n}\n</code></pre>\n<p>I made sure I added the file to the data folder and also tried with a .svg in 2D which worked but I need the 3D model for my project. The error that I get is below. Any help would be appreciated! I am using processing 4.0. I had also tried with earlier versions but nothing happened</p>\n<pre><code>\nThe file &quot;space-shuttle.obj&quot; is missing or inaccessible, make sure the URL is valid or that the file has been added to your sketch and is readable.\njava.lang.NullPointerException: Cannot invoke &quot;java.io.BufferedReader.readLine()&quot; because &quot;reader&quot; is null\n    at processing.core.PShapeOBJ.parseOBJ(PShapeOBJ.java:168)\n    at processing.core.PShapeOBJ.&lt;init&gt;(PShapeOBJ.java:40)\n    at processing.core.PShapeOBJ.&lt;init&gt;(PShapeOBJ.java:27)\n    at processing.opengl.PGraphics3D.loadShapeImpl(PGraphics3D.java:128)\n    at processing.opengl.PGraphicsOpenGL.loadShape(PGraphicsOpenGL.java:3382)\n    at processing.core.PApplet.loadShape(PApplet.java:11254)\n    at simulation.setup(simulation.java:30)\n    at processing.core.PApplet.handleDraw(PApplet.java:2142)\n    at processing.opengl.PSurfaceJOGL$DrawListener.display(PSurfaceJOGL.java:825)\n    at jogamp.opengl.GLDrawableHelper.displayImpl(GLDrawableHelper.java:692)\n    at jogamp.opengl.GLDrawableHelper.display(GLDrawableHelper.java:674)\n    at jogamp.opengl.GLAutoDrawableBase$2.run(GLAutoDrawableBase.java:443)\n    at jogamp.opengl.GLDrawableHelper.invokeGLImpl(GLDrawableHelper.java:1293)\n    at jogamp.opengl.GLDrawableHelper.invokeGL(GLDrawableHelper.java:1147)\n    at com.jogamp.newt.opengl.GLWindow.display(GLWindow.java:782)\n    at com.jogamp.opengl.util.AWTAnimatorImpl.display(AWTAnimatorImpl.java:81)\n    at com.jogamp.opengl.util.AnimatorBase.display(AnimatorBase.java:453)\n    at com.jogamp.opengl.util.FPSAnimator$MainTask.run(FPSAnimator.java:178)\n    at java.base/java.util.TimerThread.mainLoop(Timer.java:566)\n    at java.base/java.util.TimerThread.run(Timer.java:516)\n</code></pre>\n"},{"tags":["java","maven","gradle","sbt","artifactory"],"answers":[{"tags":[],"owner":{"account_id":25638581,"reputation":15,"user_id":19407842,"display_name":"Guy Yuval-Baharav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656445754,"creation_date":1656445754,"answer_id":72792372,"question_id":72791508,"body_markdown":"Seems like performing dependencies cleanup was answered in the following answer:\r\n[Cleaning build directory in setup.py][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1594827/cleaning-build-directory-in-setup-py","title":"Testing Artifactory access locally by refreshing dependencies","body":"<p>Seems like performing dependencies cleanup was answered in the following answer:\n<a href=\"https://stackoverflow.com/questions/1594827/cleaning-build-directory-in-setup-py\">Cleaning build directory in setup.py</a></p>\n"}],"owner":{"account_id":14370996,"reputation":900,"user_id":10380766,"display_name":"Hofbr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656445754,"creation_date":1656440971,"question_id":72791508,"body_markdown":"We have intermittent outages in Artifactoy that we are trying to address. I&#39;ve found that sometimes the issues go unnoticed because many dependencies are already locally cached. So I&#39;ve been running the falling in our `gradle` java projects:\r\n\r\n#### gradle\r\n\r\n`./gradlew build --refresh-dependencies`\r\n\r\nWould these be equivalent in the various build tools? How would something like this be done for an interpreted language like Python?\r\n\r\n#### maven\r\n```java\r\nmvn clean install -U\r\n```\r\n   \r\n#### sbt\r\n```scala\r\nsbt update\r\nsbt clean\r\nsbt compile\r\n```\r\n\r\n\r\n","title":"Testing Artifactory access locally by refreshing dependencies","body":"<p>We have intermittent outages in Artifactoy that we are trying to address. I've found that sometimes the issues go unnoticed because many dependencies are already locally cached. So I've been running the falling in our <code>gradle</code> java projects:</p>\n<h4>gradle</h4>\n<p><code>./gradlew build --refresh-dependencies</code></p>\n<p>Would these be equivalent in the various build tools? How would something like this be done for an interpreted language like Python?</p>\n<h4>maven</h4>\n<pre class=\"lang-java prettyprint-override\"><code>mvn clean install -U\n</code></pre>\n<h4>sbt</h4>\n<pre class=\"lang-scala prettyprint-override\"><code>sbt update\nsbt clean\nsbt compile\n</code></pre>\n"},{"tags":["java","kotlin","kotlin-coroutines"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1656366808,"post_id":72776655,"comment_id":128550357,"body_markdown":"A couple immediate guesses: you need to import the extension function, or it&#39;s not actually a java.util.stream.Stream but some other thing named Stream, or you&#39;re using a version of Kotlin without that function.","body":"A couple immediate guesses: you need to import the extension function, or it&#39;s not actually a java.util.stream.Stream but some other thing named Stream, or you&#39;re using a version of Kotlin without that function."}],"answers":[{"tags":[],"owner":{"account_id":537653,"reputation":1641,"user_id":906048,"accept_rate":89,"display_name":"Ted"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656445677,"creation_date":1656445677,"answer_id":72792355,"question_id":72776655,"body_markdown":"In the build.gradle.kts I was referencing the wrong version of the jdk.  The problem resolved when I imported ```org.jetbrains.kotlin:kotlin-stdlib-jdk8``` as a dependency.  ","title":"Kotlin Stream.asSequence() now requiring Stream.iterator().asSequence()","body":"<p>In the build.gradle.kts I was referencing the wrong version of the jdk.  The problem resolved when I imported <code>org.jetbrains.kotlin:kotlin-stdlib-jdk8</code> as a dependency.</p>\n"}],"owner":{"account_id":537653,"reputation":1641,"user_id":906048,"accept_rate":89,"display_name":"Ted"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72792355,"answer_count":1,"score":0,"last_activity_date":1656445677,"creation_date":1656353556,"question_id":72776655,"body_markdown":"I am using java.net.HttpClient to issue a simple GET request where the response is of type HttpResponse&lt;Stream&lt;String&gt;&gt;.  However, even though Kotlin.streams has an [asSequence() method][1], I now have to first convert the stream to an iterator before calling asSequence(). Why is this the case? \r\n\r\n```\r\nval client = HttpClient.newHttpClient()\r\nval request = HttpRequest.newBuilder().let { builder -&gt;\r\n    builder.uri(URI(&quot;http://localhost:8000/response.txt&quot;))\r\n    builder.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n    builder.GET()\r\n    builder.build()\r\n  }\r\nval resp: HttpResponse&lt;Stream&lt;String&gt;&gt; = client.send(request, HttpResponse.BodyHandlers.ofLines())\r\n  //used to be resp.body().asSequence().map{\r\n  resp.body().iterator().asSequence().map {\r\n    println(&quot;${it.toString()}&quot;)\r\n  }\r\n```\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.streams/java.util.stream.-stream/as-sequence.html","title":"Kotlin Stream.asSequence() now requiring Stream.iterator().asSequence()","body":"<p>I am using java.net.HttpClient to issue a simple GET request where the response is of type HttpResponse&lt;Stream&gt;.  However, even though Kotlin.streams has an <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.streams/java.util.stream.-stream/as-sequence.html\" rel=\"nofollow noreferrer\">asSequence() method</a>, I now have to first convert the stream to an iterator before calling asSequence(). Why is this the case?</p>\n<pre><code>val client = HttpClient.newHttpClient()\nval request = HttpRequest.newBuilder().let { builder -&gt;\n    builder.uri(URI(&quot;http://localhost:8000/response.txt&quot;))\n    builder.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n    builder.GET()\n    builder.build()\n  }\nval resp: HttpResponse&lt;Stream&lt;String&gt;&gt; = client.send(request, HttpResponse.BodyHandlers.ofLines())\n  //used to be resp.body().asSequence().map{\n  resp.body().iterator().asSequence().map {\n    println(&quot;${it.toString()}&quot;)\n  }\n</code></pre>\n"},{"tags":["java","tomcat","java.util.logging"],"answers":[{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656444385,"creation_date":1656444385,"answer_id":72792131,"question_id":72767003,"body_markdown":"In your code you don&#39;t need to call LogManager.readConfiguration under Tomcat.  Per the [docs][1]:\r\n\r\n&gt; JULI is enabled by default, and supports per classloader configuration, in addition to the regular global java.util.logging configuration. This means that logging can be configured at the following layers:\r\n\r\n&gt; - Globally. That is usually done in the ${catalina.base}/conf/logging.properties file. The file is specified by the java.util.logging.config.file System property which is set by the startup scripts. If it is not readable or is not configured, the default is to use the ${java.home}/lib/logging.properties file in the JRE.\r\n&gt; - In the web application. The file will be WEB-INF/classes/logging.properties\r\n\r\nSimply place the logging.properties in WEB-INF/classes.\r\n\r\n\r\n&gt; But when I deploy the app on tomcat, file logging is not working (console logging is working). Only DemoWebAppLogs folder is created but there are no .log or .lck files.\r\n\r\nThe FileHandler was never opened because it wasn&#39;t called, the path is pointing somewhere else, or the open failed.\r\n\r\nThe root logger can delay loading the handlers until it sees a log message.  Try setting the levels to ALL.  Check all of the log files for Tomcat including any console output from the Tomcat process.  If logging failed to load there should be an error message in those logs.\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-9.0-doc/logging.html","title":"java.util.logging.FileHandler is not working after app is deployed to tomcat","body":"<p>In your code you don't need to call LogManager.readConfiguration under Tomcat.  Per the <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/logging.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>JULI is enabled by default, and supports per classloader configuration, in addition to the regular global java.util.logging configuration. This means that logging can be configured at the following layers:</p>\n</blockquote>\n<blockquote>\n<ul>\n<li>Globally. That is usually done in the ${catalina.base}/conf/logging.properties file. The file is specified by the java.util.logging.config.file System property which is set by the startup scripts. If it is not readable or is not configured, the default is to use the ${java.home}/lib/logging.properties file in the JRE.</li>\n<li>In the web application. The file will be WEB-INF/classes/logging.properties</li>\n</ul>\n</blockquote>\n<p>Simply place the logging.properties in WEB-INF/classes.</p>\n<blockquote>\n<p>But when I deploy the app on tomcat, file logging is not working (console logging is working). Only DemoWebAppLogs folder is created but there are no .log or .lck files.</p>\n</blockquote>\n<p>The FileHandler was never opened because it wasn't called, the path is pointing somewhere else, or the open failed.</p>\n<p>The root logger can delay loading the handlers until it sees a log message.  Try setting the levels to ALL.  Check all of the log files for Tomcat including any console output from the Tomcat process.  If logging failed to load there should be an error message in those logs.</p>\n"}],"owner":{"account_id":12454235,"reputation":95,"user_id":9067963,"display_name":"Mahmud Mridul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":720,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72792131,"answer_count":1,"score":1,"last_activity_date":1656444385,"creation_date":1656304066,"question_id":72767003,"body_markdown":"I have a java web application that I deployed to tomcat. I am using java.util.logging for logging. Here is the logging.properties file. \r\n```\r\nhandlers=java.util.logging.FileHandler,org.apache.juli.FileHandler,java.util.logging.ConsoleHandler\r\n\r\njava.util.logging.ConsoleHandler.level = INFO\r\njava.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter\r\n\r\njava.util.logging.FileHandler.level = INFO\r\njava.util.logging.FileHandler.pattern =%h/DemoWebAppLogs/DemoWebApp%u%g.log\r\njava.util.logging.FileHandler.append=true\r\njava.util.logging.FileHandler.limit = 5000\r\njava.util.logging.FileHandler.count = 5000\r\njava.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\r\n\r\n\r\n```\r\nAnd this is [GitHub](https://github.com/MahmudMridul/JavaWebAppTomcatDeploymentDemo) link of my code. &lt;br&gt; \r\nWhen I debug/run the app on eclipse both console and file logging are working fine. \r\n&lt;br&gt; In C:/Users/User DemoWebAppLogs folder is created and DemoWebApp00.log and &lt;br&gt; DemoWebApp00.log.lck file is created. &lt;br&gt; But when I deploy the app on tomcat, file logging is not working (console logging is working). Only DemoWebAppLogs folder is created but there are no .log or .lck files. &lt;br&gt;\r\nI exported DempWebApp.war file using eclipse and put that file in CATALINA_HOME/webapps. I&#39;m using tomcat 9.0.55.   ","title":"java.util.logging.FileHandler is not working after app is deployed to tomcat","body":"<p>I have a java web application that I deployed to tomcat. I am using java.util.logging for logging. Here is the logging.properties file.</p>\n<pre><code>handlers=java.util.logging.FileHandler,org.apache.juli.FileHandler,java.util.logging.ConsoleHandler\n\njava.util.logging.ConsoleHandler.level = INFO\njava.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter\n\njava.util.logging.FileHandler.level = INFO\njava.util.logging.FileHandler.pattern =%h/DemoWebAppLogs/DemoWebApp%u%g.log\njava.util.logging.FileHandler.append=true\njava.util.logging.FileHandler.limit = 5000\njava.util.logging.FileHandler.count = 5000\njava.util.logging.FileHandler.formatter = java.util.logging.SimpleFormatter\n\n\n</code></pre>\n<p>And this is <a href=\"https://github.com/MahmudMridul/JavaWebAppTomcatDeploymentDemo\" rel=\"nofollow noreferrer\">GitHub</a> link of my code. <br>\nWhen I debug/run the app on eclipse both console and file logging are working fine.\n<br> In C:/Users/User DemoWebAppLogs folder is created and DemoWebApp00.log and <br> DemoWebApp00.log.lck file is created. <br> But when I deploy the app on tomcat, file logging is not working (console logging is working). Only DemoWebAppLogs folder is created but there are no .log or .lck files. <br>\nI exported DempWebApp.war file using eclipse and put that file in CATALINA_HOME/webapps. I'm using tomcat 9.0.55.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":182141,"reputation":21047,"user_id":416631,"accept_rate":69,"display_name":"Kenny Wyland"},"score":0,"creation_date":1656170665,"post_id":72749789,"comment_id":128508631,"body_markdown":"@Gardener The code in both projects are in the same Java package. If I explicitly write out the full package name for CoreStuff when declaring the stuff variable, I get exactly the same message. The problem isn&#39;t how I&#39;m referencing the class, the problem is that the classes from the other package aren&#39;t available to my code in the db project.","body":"@Gardener The code in both projects are in the same Java package. If I explicitly write out the full package name for CoreStuff when declaring the stuff variable, I get exactly the same message. The problem isn&#39;t how I&#39;m referencing the class, the problem is that the classes from the other package aren&#39;t available to my code in the db project."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1656366457,"post_id":72749789,"comment_id":128550263,"body_markdown":"So many questions...first, what version of Gradle is this?  What does your top-level `build.gradle` look like?  What about your `settings.gradle`?  What was the precise error you got from Gradle when attempting to build this?","body":"So many questions...first, what version of Gradle is this?  What does your top-level <code>build.gradle</code> look like?  What about your <code>settings.gradle</code>?  What was the precise error you got from Gradle when attempting to build this?"},{"owner":{"account_id":182141,"reputation":21047,"user_id":416631,"accept_rate":69,"display_name":"Kenny Wyland"},"score":0,"creation_date":1656439027,"post_id":72749789,"comment_id":128571003,"body_markdown":"@Makoto Gradle 7.3.3. There isn&#39;t a gradle error message, it&#39;s a javac compile error message which is explicitly included in the above post. The issue is that when trying to build the project, the java code in the `:db` project isn&#39;t able to access the classes from the `:core` project and so javac fails to compile the code in `:db` fails because it cannot find the referenced classes.","body":"@Makoto Gradle 7.3.3. There isn&#39;t a gradle error message, it&#39;s a javac compile error message which is explicitly included in the above post. The issue is that when trying to build the project, the java code in the <code>:db</code> project isn&#39;t able to access the classes from the <code>:core</code> project and so javac fails to compile the code in <code>:db</code> fails because it cannot find the referenced classes."}],"answers":[{"tags":[],"owner":{"account_id":182141,"reputation":21047,"user_id":416631,"accept_rate":69,"display_name":"Kenny Wyland"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1656365971,"creation_date":1656365971,"answer_id":72778569,"question_id":72749789,"body_markdown":"I finally got it to work. I tried following the [documentation on the gradle website][1] itself, but at every turn, their example code failed to even compile. That&#39;s because you need to already understand gradle in order to realize that you need to change their example code, but they don&#39;t really tell how/what you need to change. I mean, they try to tell you inside a paragraph later on, but unless you are already a gradle expert, those instructions don&#39;t make much sense. \r\n\r\nI added this to my core/build.gradle file:\r\n```\r\n// this will create a configuration with the name &quot;instrumentedJars&quot; \r\n// that will include the implementation (i.e. my classes and \r\n// classes from dependencies)\r\nconfigurations {\r\n    instrumentedJars {\r\n        canBeConsumed = true\r\n        canBeResolved = false\r\n        extendsFrom implementation, runtimeOnly\r\n    }\r\n}\r\n\r\n// this will declare an &quot;artifact&quot; (i.e. a produced output) \r\n// for my :core project. It references the configuration name \r\n// &quot;instrumentedJars&quot; and says that it should include the \r\n// outputs of the task named &quot;jar&quot;\r\nartifacts {\r\n    instrumentedJars(jar)\r\n}\r\n```\r\n\r\nThen in my project where I need to include those `core` classes, I added this to my db/build.gradle file:\r\n\r\n```\r\ndependencies {\r\n    implementation(project(path: &quot;:core&quot;, configuration: &#39;instrumentedJars&#39;))\r\n}\r\n```\r\n\r\nThen I can build my `db` project and it is able to find the classes I need. Then when I need to run my main() method, I added a run task to my db/build.gradle:\r\n\r\n```\r\ntask run(type: JavaExec) {\r\n    dependsOn(&quot;:db:compileJava&quot;)\r\n\r\n    mainClass = &#39;com.kenny.db.DBMain&#39;\r\n    classpath = sourceSets.main.runtimeClasspath\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/cross_project_publications.html","title":"Use gradle to include classes from sub-project A in the classpath for sub-project B","body":"<p>I finally got it to work. I tried following the <a href=\"https://docs.gradle.org/current/userguide/cross_project_publications.html\" rel=\"nofollow noreferrer\">documentation on the gradle website</a> itself, but at every turn, their example code failed to even compile. That's because you need to already understand gradle in order to realize that you need to change their example code, but they don't really tell how/what you need to change. I mean, they try to tell you inside a paragraph later on, but unless you are already a gradle expert, those instructions don't make much sense.</p>\n<p>I added this to my core/build.gradle file:</p>\n<pre><code>// this will create a configuration with the name &quot;instrumentedJars&quot; \n// that will include the implementation (i.e. my classes and \n// classes from dependencies)\nconfigurations {\n    instrumentedJars {\n        canBeConsumed = true\n        canBeResolved = false\n        extendsFrom implementation, runtimeOnly\n    }\n}\n\n// this will declare an &quot;artifact&quot; (i.e. a produced output) \n// for my :core project. It references the configuration name \n// &quot;instrumentedJars&quot; and says that it should include the \n// outputs of the task named &quot;jar&quot;\nartifacts {\n    instrumentedJars(jar)\n}\n</code></pre>\n<p>Then in my project where I need to include those <code>core</code> classes, I added this to my db/build.gradle file:</p>\n<pre><code>dependencies {\n    implementation(project(path: &quot;:core&quot;, configuration: 'instrumentedJars'))\n}\n</code></pre>\n<p>Then I can build my <code>db</code> project and it is able to find the classes I need. Then when I need to run my main() method, I added a run task to my db/build.gradle:</p>\n<pre><code>task run(type: JavaExec) {\n    dependsOn(&quot;:db:compileJava&quot;)\n\n    mainClass = 'com.kenny.db.DBMain'\n    classpath = sourceSets.main.runtimeClasspath\n}\n</code></pre>\n"}],"owner":{"account_id":182141,"reputation":21047,"user_id":416631,"accept_rate":69,"display_name":"Kenny Wyland"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72778569,"answer_count":1,"score":0,"last_activity_date":1656444342,"creation_date":1656108090,"question_id":72749789,"body_markdown":"I&#39;m very new to gradle and was [having problems in a more complicated project][1] which provides context to this overall question, so I decided to create a new, simple project to try to get the concept to work, but I still can&#39;t get it to work.\r\n\r\nI have one sub-project called `core` and one sub-project called `db`. I have a class in the `db` project called `com.kenny.db.DBMain` which has a `main()` function that I want to run. `DBMain.main()` needs to use `com.kenny.core.*` classes that are defined in the `core` project.\r\n\r\nI&#39;m able to add a dependency in my `db/build.gradle` so that it depends on `:core`, but my code in `db` isn&#39;t able to see the classes from `core`. \r\n\r\ndb/build.gradle:\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ndependencies {\r\n    project(&quot;:core&quot;)\r\n}\r\n\r\n```\r\n\r\ndb/src/main/java/com/kenny/db/DBMain.java:\r\n```\r\npackage com.kenny.main;\r\n\r\nimport com.kenny.core.*;\r\n\r\npublic class DBMain {\r\n\r\n    public static void main(String[] args) {\r\n        CoreStuff stuff = new CoreStuff();\r\n        System.out.println(&quot;db test, name=&quot;+stuff.name);\r\n    }\r\n}\r\n```\r\n\r\nWhen I try to build DBMain.java, it fails because it can&#39;t find `com.kenny.core.CoreStuff()` which was defined in the `core` project.\r\n\r\n```\r\n/Users/kenny/projects/gradlewtf/db/src/main/java/com/kenny/db/DBMain.java:3: error: cannot find symbol\r\nimport com.kenny.core;\r\n                ^\r\n  symbol:   class core\r\n  location: package com.kenny\r\n```\r\n\r\nHow do I get the classes from `core` available when compiling code in the `db` project?\r\n\r\n--\r\nEdit: Changed the `core` project code package to `com.kenny.core` and the `db` project code package to `com.kenny.db`. Still the same problem, the `db` project isn&#39;t getting the `core` code into the classpath so it cannot compile. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72724166/gradle-cannot-resolve-dependecy-projectapp-from-other-sub-project","title":"Use gradle to include classes from sub-project A in the classpath for sub-project B","body":"<p>I'm very new to gradle and was <a href=\"https://stackoverflow.com/questions/72724166/gradle-cannot-resolve-dependecy-projectapp-from-other-sub-project\">having problems in a more complicated project</a> which provides context to this overall question, so I decided to create a new, simple project to try to get the concept to work, but I still can't get it to work.</p>\n<p>I have one sub-project called <code>core</code> and one sub-project called <code>db</code>. I have a class in the <code>db</code> project called <code>com.kenny.db.DBMain</code> which has a <code>main()</code> function that I want to run. <code>DBMain.main()</code> needs to use <code>com.kenny.core.*</code> classes that are defined in the <code>core</code> project.</p>\n<p>I'm able to add a dependency in my <code>db/build.gradle</code> so that it depends on <code>:core</code>, but my code in <code>db</code> isn't able to see the classes from <code>core</code>.</p>\n<p>db/build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ndependencies {\n    project(&quot;:core&quot;)\n}\n\n</code></pre>\n<p>db/src/main/java/com/kenny/db/DBMain.java:</p>\n<pre><code>package com.kenny.main;\n\nimport com.kenny.core.*;\n\npublic class DBMain {\n\n    public static void main(String[] args) {\n        CoreStuff stuff = new CoreStuff();\n        System.out.println(&quot;db test, name=&quot;+stuff.name);\n    }\n}\n</code></pre>\n<p>When I try to build DBMain.java, it fails because it can't find <code>com.kenny.core.CoreStuff()</code> which was defined in the <code>core</code> project.</p>\n<pre><code>/Users/kenny/projects/gradlewtf/db/src/main/java/com/kenny/db/DBMain.java:3: error: cannot find symbol\nimport com.kenny.core;\n                ^\n  symbol:   class core\n  location: package com.kenny\n</code></pre>\n<p>How do I get the classes from <code>core</code> available when compiling code in the <code>db</code> project?</p>\n<p>--\nEdit: Changed the <code>core</code> project code package to <code>com.kenny.core</code> and the <code>db</code> project code package to <code>com.kenny.db</code>. Still the same problem, the <code>db</code> project isn't getting the <code>core</code> code into the classpath so it cannot compile.</p>\n"},{"tags":["java","scala","case-insensitive"],"comments":[{"owner":{"account_id":169561,"reputation":16485,"user_id":395718,"accept_rate":88,"display_name":"Dialecticus"},"score":2,"creation_date":1656427773,"post_id":72788514,"comment_id":128566843,"body_markdown":"This question shouldn&#39;t be &quot;language agnostic&quot; because the implementation of `equalsIgnoreCase` and `toLowerCase` depends on the language.","body":"This question shouldn&#39;t be &quot;language agnostic&quot; because the implementation of <code>equalsIgnoreCase</code> and <code>toLowerCase</code> depends on the language."},{"owner":{"account_id":279575,"reputation":13685,"user_id":574815,"accept_rate":82,"display_name":"Dylan"},"score":0,"creation_date":1656428837,"post_id":72788514,"comment_id":128567354,"body_markdown":"@Dialecticus For the purposes of this question, assume the two functions are &quot;correct&quot; to the greatest possible extent. E.g. `equalsIgnoreCase` is a true case-insensitive equality check, and `toLowerCase(US)` performs a lowercase conversion the way an American would. I expressed them in terms of the language I happen to be using, but my intent is to find a programming-language-agnostic answer.","body":"@Dialecticus For the purposes of this question, assume the two functions are &quot;correct&quot; to the greatest possible extent. E.g. <code>equalsIgnoreCase</code> is a true case-insensitive equality check, and <code>toLowerCase(US)</code> performs a lowercase conversion the way an American would. I expressed them in terms of the language I happen to be using, but my intent is to find a programming-language-agnostic answer."},{"owner":{"account_id":279575,"reputation":13685,"user_id":574815,"accept_rate":82,"display_name":"Dylan"},"score":0,"creation_date":1656428907,"post_id":72788514,"comment_id":128567382,"body_markdown":"That said, I&#39;m curious now as to how different programming languages would provide different behavior for a locale-specified `toLowerCase` function. Any examples?","body":"That said, I&#39;m curious now as to how different programming languages would provide different behavior for a locale-specified <code>toLowerCase</code> function. Any examples?"},{"owner":{"account_id":169561,"reputation":16485,"user_id":395718,"accept_rate":88,"display_name":"Dialecticus"},"score":3,"creation_date":1656429500,"post_id":72788514,"comment_id":128567615,"body_markdown":"I understood that you have an actual project written in an actual language, and a possible problem in your actual project. It is counterproductive to look for hypothetical language-agnostic solutions if the problem is constrained to actual language. Why do you insist on language agnostic, if you project is written in java? Makes no sense.","body":"I understood that you have an actual project written in an actual language, and a possible problem in your actual project. It is counterproductive to look for hypothetical language-agnostic solutions if the problem is constrained to actual language. Why do you insist on language agnostic, if you project is written in java? Makes no sense."},{"owner":{"account_id":169561,"reputation":16485,"user_id":395718,"accept_rate":88,"display_name":"Dialecticus"},"score":1,"creation_date":1656429659,"post_id":72788514,"comment_id":128567669,"body_markdown":"Java users may answer with &quot;ah yes, I know about this problem, and here&#39;s how I have solved it&quot;. But Java users may not find your question, because it is not tagged with java tag.","body":"Java users may answer with &quot;ah yes, I know about this problem, and here&#39;s how I have solved it&quot;. But Java users may not find your question, because it is not tagged with java tag."},{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":0,"creation_date":1656440287,"post_id":72788514,"comment_id":128571408,"body_markdown":"Did you mean `equals` instead of the second `==` in the title?","body":"Did you mean <code>equals</code> instead of the second <code>==</code> in the title?"},{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":0,"creation_date":1656440345,"post_id":72788514,"comment_id":128571433,"body_markdown":"That depends on how `equalsIgnoreCase` is implemented, no?","body":"That depends on how <code>equalsIgnoreCase</code> is implemented, no?"},{"owner":{"account_id":279575,"reputation":13685,"user_id":574815,"accept_rate":82,"display_name":"Dylan"},"score":0,"creation_date":1656440347,"post_id":72788514,"comment_id":128571435,"body_markdown":"@MadPhysicist For a Java reader, yes. I&#39;m using Scala so `==` and `equals` are the same thing, but someone edited the tags to remove the scala tag","body":"@MadPhysicist For a Java reader, yes. I&#39;m using Scala so <code>==</code> and <code>equals</code> are the same thing, but someone edited the tags to remove the scala tag"},{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":1,"creation_date":1656440529,"post_id":72788514,"comment_id":128571491,"body_markdown":"Relevant: https://stackoverflow.com/q/60196641/2988730","body":"Relevant: <a href=\"https://stackoverflow.com/q/60196641/2988730\">stackoverflow.com/q/60196641/2988730</a>"},{"owner":{"account_id":279575,"reputation":13685,"user_id":574815,"accept_rate":82,"display_name":"Dylan"},"score":0,"creation_date":1656443796,"post_id":72788514,"comment_id":128572513,"body_markdown":"@MadPhysicist I accepted your linked question as a duplicate since it gave me enough information to answer my question; I&#39;ve edited my question to include that info in lieu of adding an answer","body":"@MadPhysicist I accepted your linked question as a duplicate since it gave me enough information to answer my question; I&#39;ve edited my question to include that info in lieu of adding an answer"},{"owner":{"account_id":279575,"reputation":13685,"user_id":574815,"accept_rate":82,"display_name":"Dylan"},"score":0,"creation_date":1656443835,"post_id":72788514,"comment_id":128572518,"body_markdown":"...maybe I should&#39;ve just added an answer, since that apparently was a confusing thing to do.","body":"...maybe I should&#39;ve just added an answer, since that apparently was a confusing thing to do."}],"owner":{"account_id":279575,"reputation":13685,"user_id":574815,"accept_rate":82,"display_name":"Dylan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"closed_date":1656442676,"answer_count":0,"score":4,"last_activity_date":1656443715,"creation_date":1656427179,"question_id":72788514,"body_markdown":"I&#39;m trying to address a hypothetical concern brought up by a coworker, regarding case-insensitive comparisons versus using `toLowerCase`.\r\n\r\nWherever possible, we try to use `equalsIgnoreCase` (or whatever the specific language / environment provides) for case-insensitive string comparisons. But in some cases, we have to compute a hash of the string and compare hashes. We use `hash(s.toLowerCase(Locale.US))` to avoid failing [the Turkey Test](https://stackoverflow.com/questions/796986/what-is-the-turkey-test), but still there is some concern that there could exist a pair of strings for which\r\n\r\n```\r\ns1.equalsIgnoreCase(s2) != (s1.toLowerCase(Locale.US) == s2.toLowerCase(Locale.US))\r\n```\r\ni.e. the case-insensitive comparison says one thing, but the locale-specified lowercase comparison says something else.\r\n\r\nIf such a pair existed, a comparison of hashes generated by `sha(s.toLowerCase(Locale.US))` could tell us that the two strings aren&#39;t equal when in fact they are.\r\n\r\n**Does a pair of strings (s1, s2) exist which satisfies the expression above?**\r\n\r\n---\r\n\r\n*Follow-up edit in lieu of answering my own question, since I accepted a linked answer that was provided in the comments.*\r\n\r\nOne example is the pair of strings, `(&quot;&quot;, &quot;&quot;)` (Theta, and &quot;Small Theta&quot;). Both are considered equal by `equalsIgnoreCase`, but neither are modified by `.toLowerCase(Locale.US)`\r\n\r\nThis hits the edge-case [shown here](https://stackoverflow.com/questions/25513019/string-equalsignorecase-uppercase-v-lowercase)\r\n\r\n```scala\r\nimport java.util.Locale\r\ndef lower(s: String) = s.toLowerCase(Locale.US)\r\ndef upper(s: String) = s.toUpperCase(Locale.US)\r\n\r\nval s1 = &quot;&quot;\r\nval s2 = &quot;&quot;\r\nprintln(s&quot;CI Equals: ${s1 equalsIgnoreCase s2}&quot;) // true\r\nprintln(s&quot;Lower Equals: ${lower(s1) == lower(s2)}&quot;) // false\r\nprintln(s&quot;UpperLower Equals: ${lower(upper(s1)) == lower(upper(s2))}&quot;) // true\r\n```\r\n\r\nTo quote the linked answer,\r\n&gt; a true case insensitive comparison [...] must check the lowercases of the uppercases.\r\n","title":"Are there any strings that break `s1.equalsIgnoreCase(s2) == (s1.toLowerCase(Locale.US) == s2.toLowerCase(Locale.US))`","body":"<p>I'm trying to address a hypothetical concern brought up by a coworker, regarding case-insensitive comparisons versus using <code>toLowerCase</code>.</p>\n<p>Wherever possible, we try to use <code>equalsIgnoreCase</code> (or whatever the specific language / environment provides) for case-insensitive string comparisons. But in some cases, we have to compute a hash of the string and compare hashes. We use <code>hash(s.toLowerCase(Locale.US))</code> to avoid failing <a href=\"https://stackoverflow.com/questions/796986/what-is-the-turkey-test\">the Turkey Test</a>, but still there is some concern that there could exist a pair of strings for which</p>\n<pre><code>s1.equalsIgnoreCase(s2) != (s1.toLowerCase(Locale.US) == s2.toLowerCase(Locale.US))\n</code></pre>\n<p>i.e. the case-insensitive comparison says one thing, but the locale-specified lowercase comparison says something else.</p>\n<p>If such a pair existed, a comparison of hashes generated by <code>sha(s.toLowerCase(Locale.US))</code> could tell us that the two strings aren't equal when in fact they are.</p>\n<p><strong>Does a pair of strings (s1, s2) exist which satisfies the expression above?</strong></p>\n<hr />\n<p><em>Follow-up edit in lieu of answering my own question, since I accepted a linked answer that was provided in the comments.</em></p>\n<p>One example is the pair of strings, <code>(&quot;&quot;, &quot;&quot;)</code> (Theta, and &quot;Small Theta&quot;). Both are considered equal by <code>equalsIgnoreCase</code>, but neither are modified by <code>.toLowerCase(Locale.US)</code></p>\n<p>This hits the edge-case <a href=\"https://stackoverflow.com/questions/25513019/string-equalsignorecase-uppercase-v-lowercase\">shown here</a></p>\n<pre class=\"lang-scala prettyprint-override\"><code>import java.util.Locale\ndef lower(s: String) = s.toLowerCase(Locale.US)\ndef upper(s: String) = s.toUpperCase(Locale.US)\n\nval s1 = &quot;&quot;\nval s2 = &quot;&quot;\nprintln(s&quot;CI Equals: ${s1 equalsIgnoreCase s2}&quot;) // true\nprintln(s&quot;Lower Equals: ${lower(s1) == lower(s2)}&quot;) // false\nprintln(s&quot;UpperLower Equals: ${lower(upper(s1)) == lower(upper(s2))}&quot;) // true\n</code></pre>\n<p>To quote the linked answer,</p>\n<blockquote>\n<p>a true case insensitive comparison [...] must check the lowercases of the uppercases.</p>\n</blockquote>\n"},{"tags":["java","spring","code-injection"],"comments":[{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":1,"creation_date":1656402246,"post_id":72782391,"comment_id":128556513,"body_markdown":"Take a look at this thread. It replies to your problem: https://stackoverflow.com/questions/4093504/resource-vs-autowired","body":"Take a look at this thread. It replies to your problem: <a href=\"https://stackoverflow.com/questions/4093504/resource-vs-autowired\" title=\"resource vs autowired\">stackoverflow.com/questions/4093504/resource-vs-autowired</a>"}],"answers":[{"tags":[],"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656402795,"creation_date":1656402466,"answer_id":72782557,"question_id":72782391,"body_markdown":"Since I see no Reason to JSR-250 annotations (Jarkata EE), I would suggest using @Autowired (Spring) instead.\r\n\r\nIn your `BriefcaseService` class add a constructor annotated with `@Autowired` accepting `NeoEntityService`:\r\n\r\n~~~\r\n@Service(&quot;briefcaseService&quot;)\r\npublic class BriefcaseService {\r\n\r\n    private NeoEntityService neoEntityService;\r\n    \r\n    @Autowired\r\n    public BriefcaseService(NeoEntityService neoEntityService){\r\n        this.neoEntityService = neoEntityService;\r\n    }\r\n\r\n// rest of class\r\n\r\n}\r\n~~~\r\n\r\nPlease take a look at this baeldung tutorial: https://www.baeldung.com/spring-annotations-resource-inject-autowire (especially look at section 5 at the end)\r\n\r\nAlso please avoid using field injection if possible (https://stackoverflow.com/a/40620318/7142748)","title":"Error injecting resources into managed bean &#39;X&#39;","body":"<p>Since I see no Reason to JSR-250 annotations (Jarkata EE), I would suggest using @Autowired (Spring) instead.</p>\n<p>In your <code>BriefcaseService</code> class add a constructor annotated with <code>@Autowired</code> accepting <code>NeoEntityService</code>:</p>\n<pre><code>@Service(&quot;briefcaseService&quot;)\npublic class BriefcaseService {\n\n    private NeoEntityService neoEntityService;\n    \n    @Autowired\n    public BriefcaseService(NeoEntityService neoEntityService){\n        this.neoEntityService = neoEntityService;\n    }\n\n// rest of class\n\n}\n</code></pre>\n<p>Please take a look at this baeldung tutorial: <a href=\"https://www.baeldung.com/spring-annotations-resource-inject-autowire\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-annotations-resource-inject-autowire</a> (especially look at section 5 at the end)</p>\n<p>Also please avoid using field injection if possible (<a href=\"https://stackoverflow.com/a/40620318/7142748\">https://stackoverflow.com/a/40620318/7142748</a>)</p>\n"}],"owner":{"account_id":21088223,"reputation":103,"user_id":19013678,"display_name":"user19013678"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656443289,"creation_date":1656401637,"question_id":72782391,"body_markdown":"I have a class with annotation @Service : \r\n\r\n\r\n    @Service\r\n    public class NeoEntityService {\r\n    \r\n        @Override\r\n        public List&lt;NeoEntity&gt; getRenamedEntitiesForUser(DirectoryUser user, String siloId) throws OxwayException {\r\n            List&lt;NeoEntity&gt; entities = new ArrayList&lt;NeoEntity&gt;(); \r\n            return entities;\r\n        }\r\n    }\r\n\r\nI want to use this service in another class like this : \r\n\r\n\r\n    @Service(&quot;briefcaseService&quot;)\r\n    public class BriefcaseService {\r\n    \r\n    \t@Resource\r\n        private NeoEntityService neoEntityService;\r\n    \t\r\n        public void test(DirectoryUser user, String siloId) {\r\n            try {\r\n                System.out.println(neoEntityService.getRenamedEntitiesForUser(user, siloId).size());\r\n            } catch (OxwayException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nWhen I start my server and try to use my BriefcaseService i have this error : \r\n\r\n\r\n    javax.servlet.ServletException: Error injecting resources into managed bean &#39;BriefcaseService&#39;\r\n\r\nAnd also this one : \r\n\r\n\r\n    java.lang.NullPointerException\r\n    \tcom.ixxo.wms.iface.jsf.pages.briefcase.views.BriefcaseService.test(BriefcaseService.java:9)\r\n\r\n\r\nI&#39;ve tried a lot of things, including adding @Service(&quot;neoEntityService&quot;) in my class NeoEntityService but it still doesn&#39;t work. It seems like BriefcaseService is not able to get NeoEntityService so it&#39;s null when I am using it in BriefcaseService. \r\n\r\nAny idea? \r\n\r\nThanks\r\n\r\nEDIT : \r\nI ran this code on my colleague&#39;s PC and it works on his computer. Any idea why and how? It&#39;s probably not an error of annotation or anything, just an environment problem I guess. ","title":"Error injecting resources into managed bean &#39;X&#39;","body":"<p>I have a class with annotation @Service :</p>\n<pre><code>@Service\npublic class NeoEntityService {\n\n    @Override\n    public List&lt;NeoEntity&gt; getRenamedEntitiesForUser(DirectoryUser user, String siloId) throws OxwayException {\n        List&lt;NeoEntity&gt; entities = new ArrayList&lt;NeoEntity&gt;(); \n        return entities;\n    }\n}\n</code></pre>\n<p>I want to use this service in another class like this :</p>\n<pre><code>@Service(&quot;briefcaseService&quot;)\npublic class BriefcaseService {\n\n    @Resource\n    private NeoEntityService neoEntityService;\n    \n    public void test(DirectoryUser user, String siloId) {\n        try {\n            System.out.println(neoEntityService.getRenamedEntitiesForUser(user, siloId).size());\n        } catch (OxwayException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>When I start my server and try to use my BriefcaseService i have this error :</p>\n<pre><code>javax.servlet.ServletException: Error injecting resources into managed bean 'BriefcaseService'\n</code></pre>\n<p>And also this one :</p>\n<pre><code>java.lang.NullPointerException\n    com.ixxo.wms.iface.jsf.pages.briefcase.views.BriefcaseService.test(BriefcaseService.java:9)\n</code></pre>\n<p>I've tried a lot of things, including adding @Service(&quot;neoEntityService&quot;) in my class NeoEntityService but it still doesn't work. It seems like BriefcaseService is not able to get NeoEntityService so it's null when I am using it in BriefcaseService.</p>\n<p>Any idea?</p>\n<p>Thanks</p>\n<p>EDIT :\nI ran this code on my colleague's PC and it works on his computer. Any idea why and how? It's probably not an error of annotation or anything, just an environment problem I guess.</p>\n"},{"tags":["java","web-scraping","web-crawler","schema","schema.org"],"comments":[{"owner":{"account_id":15071729,"reputation":95,"user_id":10876970,"display_name":"Lun Nguyn Minh"},"score":0,"creation_date":1656439063,"post_id":72790956,"comment_id":128571012,"body_markdown":"So you can use the Selenium for the same result?","body":"So you can use the Selenium for the same result?"},{"owner":{"account_id":22153768,"reputation":49,"user_id":16401875,"display_name":"Cassie Nguyen"},"score":0,"creation_date":1656442641,"post_id":72790956,"comment_id":128572148,"body_markdown":"@LunNguynMinh I have to manually search for the attributes with xpath functions but some websites don&#39;t use the same class names or attributes. I think with schema validator they make the field names the same at least, so it&#39;d be easier to extract the needed info from there.","body":"@LunNguynMinh I have to manually search for the attributes with xpath functions but some websites don&#39;t use the same class names or attributes. I think with schema validator they make the field names the same at least, so it&#39;d be easier to extract the needed info from there."},{"owner":{"account_id":20718629,"reputation":685,"user_id":15213503,"display_name":"MeT"},"score":0,"creation_date":1656443338,"post_id":72790956,"comment_id":128572358,"body_markdown":"@NganNguyen to extract data from Schema validators you need to extract it with xpath or css or pw selectores as you said **&quot;searching for attributes in HTML&quot;**, but do it from validator page and not from product.","body":"@NganNguyen to extract data from Schema validators you need to extract it with xpath or css or pw selectores as you said <b>&quot;searching for attributes in HTML&quot;</b>, but do it from validator page and not from product."}],"owner":{"account_id":22153768,"reputation":49,"user_id":16401875,"display_name":"Cassie Nguyen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656442542,"creation_date":1656438079,"question_id":72790956,"body_markdown":"I want to crawl and collect information about products and their prices from some e-commerce websites like Walmart or Target, and I found using [Schema Markup Validator][1] or [Google&#39;s Rich Result Test][2] to extract structured data like price, description, etc would be easier than searching for attributes in HTML with xpath etc. However I don&#39;t know how to download the extracted data so that I can integrate it in my Java code. \r\nOr better, is there any way I can program this in Java with the help of these schema testing tools? \r\n\r\n\r\n  [1]: https://validator.schema.org/\r\n  [2]: https://search.google.com/test/rich-results","title":"How to download extracted data from Schema Markup Validator","body":"<p>I want to crawl and collect information about products and their prices from some e-commerce websites like Walmart or Target, and I found using <a href=\"https://validator.schema.org/\" rel=\"nofollow noreferrer\">Schema Markup Validator</a> or <a href=\"https://search.google.com/test/rich-results\" rel=\"nofollow noreferrer\">Google's Rich Result Test</a> to extract structured data like price, description, etc would be easier than searching for attributes in HTML with xpath etc. However I don't know how to download the extracted data so that I can integrate it in my Java code.\nOr better, is there any way I can program this in Java with the help of these schema testing tools?</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":2751815,"reputation":667,"user_id":2381424,"accept_rate":25,"display_name":"Roshan"},"score":0,"creation_date":1656443580,"post_id":72791802,"comment_id":128572440,"body_markdown":"you could use a ByteArrayOutputStream  instead of  outStream and then convert the ByteArray to Base64 output. https://stackoverflow.com/questions/42667942/convert-inputstream-to-base64-string , https://stackoverflow.com/questions/5778658/how-to-convert-outputstream-to-inputstream or use Base64OutputStream https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64OutputStream.html","body":"you could use a ByteArrayOutputStream  instead of  outStream and then convert the ByteArray to Base64 output. <a href=\"https://stackoverflow.com/questions/42667942/convert-inputstream-to-base64-string\" title=\"convert inputstream to base64 string\">stackoverflow.com/questions/42667942/&hellip;</a> , <a href=\"https://stackoverflow.com/questions/5778658/how-to-convert-outputstream-to-inputstream\" title=\"how to convert outputstream to inputstream\">stackoverflow.com/questions/5778658/&hellip;</a> or use Base64OutputStream <a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64OutputStream.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-codec/apidocs/org/apache/&hellip;</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1656450772,"post_id":72791802,"comment_id":128574699,"body_markdown":"I&#39;m confused - what does a goal of achieving pdf download have to do with base64?","body":"I&#39;m confused - what does a goal of achieving pdf download have to do with base64?"}],"owner":{"account_id":25674029,"reputation":1,"user_id":19437789,"display_name":"Henry Hernandez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656442431,"creation_date":1656442431,"question_id":72791802,"body_markdown":"Is there a way to convert the outputstream to base64outputstream, everything works except for the last part in which I don&#39;t get anything, neither log nor error, just a blank screen when executed.\r\nIt is supposed that with this the report should be downloaded in pdf format when pressing generate report in the jsp page.\r\n\r\n     //THIS IS A SERVLET\r\n        \tprivate void report(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException, JRException {\r\n        \t\ttry {\r\n        \t\t//LIST FROM DATABASE MYSQL\r\n        \t\tList&lt;Bienes&gt; data = servicio.generarReporte();\r\n        \t\t//LIST TO JRBEANCOLLECTION AS DATASOURCE FOR REPORT\r\n        \t\tJRBeanCollectionDataSource dataSource = new JRBeanCollectionDataSource(data);\r\n        \t\t//REPORT JASPER\r\n        \t\tString file = request.getServletContext().getRealPath(&quot;/webapp/ReporteBienes.jasper&quot;);\r\n        \t\tFileInputStream stream = new FileInputStream(new File(file));\r\n        \t\t//PARAMETERS (nothing for now)\r\n        \t\tMap&lt;String,Object&gt; params = new HashMap&lt;String,Object&gt;();\r\n        \t\tJasperReport jasperReport = (JasperReport) JRLoader.loadObject(stream);\r\n        \t\tJasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, params, dataSource);\r\n        \t\tresponse.setContentType(&quot;application/x-pdf&quot;);\r\n        \t\tresponse.addHeader(&quot;content-disposition&quot;,&quot;attachment;filename=ReporteBienes.pdf&quot;);\r\n        \t\t//HERE IS THE PROBLEM: Type missmatch: cannot convert from ServletOutputStream to Base64.OutputStream\r\n        \t\tOutputStream outStream = response.getOutputStream();    \t\r\n    //exportReportToPdfStream(JasperPrint jasperPrint, OutputStream outputStream)\r\n    //does not accept Servletoutputstream and I get a blank screen for it\r\n        \t\tJasperExportManager.exportReportToPdfStream(jasperPrint, outStream);\r\n        \t\t}\r\n        \t\t\r\n        \t\tcatch(Exception e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n        \t}","title":"convert servletoutstream to base64.outstream in Servlet","body":"<p>Is there a way to convert the outputstream to base64outputstream, everything works except for the last part in which I don't get anything, neither log nor error, just a blank screen when executed.\nIt is supposed that with this the report should be downloaded in pdf format when pressing generate report in the jsp page.</p>\n<pre><code> //THIS IS A SERVLET\n        private void report(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException, JRException {\n            try {\n            //LIST FROM DATABASE MYSQL\n            List&lt;Bienes&gt; data = servicio.generarReporte();\n            //LIST TO JRBEANCOLLECTION AS DATASOURCE FOR REPORT\n            JRBeanCollectionDataSource dataSource = new JRBeanCollectionDataSource(data);\n            //REPORT JASPER\n            String file = request.getServletContext().getRealPath(&quot;/webapp/ReporteBienes.jasper&quot;);\n            FileInputStream stream = new FileInputStream(new File(file));\n            //PARAMETERS (nothing for now)\n            Map&lt;String,Object&gt; params = new HashMap&lt;String,Object&gt;();\n            JasperReport jasperReport = (JasperReport) JRLoader.loadObject(stream);\n            JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, params, dataSource);\n            response.setContentType(&quot;application/x-pdf&quot;);\n            response.addHeader(&quot;content-disposition&quot;,&quot;attachment;filename=ReporteBienes.pdf&quot;);\n            //HERE IS THE PROBLEM: Type missmatch: cannot convert from ServletOutputStream to Base64.OutputStream\n            OutputStream outStream = response.getOutputStream();        \n//exportReportToPdfStream(JasperPrint jasperPrint, OutputStream outputStream)\n//does not accept Servletoutputstream and I get a blank screen for it\n            JasperExportManager.exportReportToPdfStream(jasperPrint, outStream);\n            }\n            \n            catch(Exception e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13636,"reputation":54451,"user_id":27528,"accept_rate":100,"display_name":"Michael Madsen"},"score":17,"creation_date":1327673937,"post_id":9034603,"comment_id":11331690,"body_markdown":"Convert to string, run indexof.","body":"Convert to string, run indexof."},{"owner":{"account_id":18835,"reputation":82182,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":3,"creation_date":1327674671,"post_id":9034603,"comment_id":11331963,"body_markdown":"That is not a very large integer, sir.","body":"That is not a very large integer, sir."},{"owner":{"account_id":49486,"reputation":403,"user_id":147346,"display_name":"Andres F."},"score":1,"creation_date":1327674835,"post_id":9034603,"comment_id":11332024,"body_markdown":"Why the downvotes? It might not obvious to a newbie that he may convert the problem to Strings.","body":"Why the downvotes? It might not obvious to a newbie that he may convert the problem to Strings."},{"owner":{"account_id":322208,"reputation":4663,"user_id":641503,"accept_rate":99,"display_name":"Lunar"},"score":0,"creation_date":1327675355,"post_id":9034603,"comment_id":11332249,"body_markdown":"The idea wasnt to use a built in function, i should have made it clear...","body":"The idea wasnt to use a built in function, i should have made it clear..."},{"owner":{"account_id":49486,"reputation":403,"user_id":147346,"display_name":"Andres F."},"score":0,"creation_date":1327675599,"post_id":9034603,"comment_id":11332331,"body_markdown":"@Lunar Is this homework?","body":"@Lunar Is this homework?"},{"owner":{"account_id":322208,"reputation":4663,"user_id":641503,"accept_rate":99,"display_name":"Lunar"},"score":0,"creation_date":1327676339,"post_id":9034603,"comment_id":11332616,"body_markdown":"No its not home work, its just a simple programming challenge.","body":"No its not home work, its just a simple programming challenge."},{"owner":{"account_id":13636,"reputation":54451,"user_id":27528,"accept_rate":100,"display_name":"Michael Madsen"},"score":1,"creation_date":1327677424,"post_id":9034603,"comment_id":11333009,"body_markdown":"@Lunar: Regardless whether it&#39;s homework or a programming challenge, there is clearly a specific reason you&#39;re not allowed to use indexOf - that can either be because they expect you to implement your *own* indexOf for strings, or because you&#39;re supposed to do it mathematically (using base 10 logarithms, integer division and modulo). We don&#39;t know which of those it is.","body":"@Lunar: Regardless whether it&#39;s homework or a programming challenge, there is clearly a specific reason you&#39;re not allowed to use indexOf - that can either be because they expect you to implement your <i>own</i> indexOf for strings, or because you&#39;re supposed to do it mathematically (using base 10 logarithms, integer division and modulo). We don&#39;t know which of those it is."},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1327678340,"post_id":9034603,"comment_id":11333381,"body_markdown":"It&#39;s easy to write a method yourself that does the same as `String.indexOf`, if you&#39;re not allowed to use that.","body":"It&#39;s easy to write a method yourself that does the same as <code>String.indexOf</code>, if you&#39;re not allowed to use that."}],"answers":[{"tags":[],"owner":{"account_id":1049835,"reputation":3025,"user_id":1054036,"display_name":"Viruzzo"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1656441090,"creation_date":1327673999,"answer_id":9034631,"question_id":9034603,"body_markdown":"\r\n    B.toString().indexOf(A.toString());","title":"Finding int within a int?","body":"<pre><code>B.toString().indexOf(A.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":80298,"reputation":34530,"user_id":227140,"accept_rate":80,"display_name":"beny23"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1327674010,"creation_date":1327674010,"answer_id":9034634,"question_id":9034603,"body_markdown":"    Integer.toString(b).indexOf(Integer.toString(a))","title":"Finding int within a int?","body":"<pre><code>Integer.toString(b).indexOf(Integer.toString(a))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":406517,"reputation":48699,"user_id":776084,"accept_rate":79,"display_name":"RanRag"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1327674243,"creation_date":1327674243,"answer_id":9034693,"question_id":9034603,"body_markdown":"Use  [Integer.toString(int myinteger)][1]  method of Integer class to get the String representation of integer.\r\n\r\n     int i = 1953786;\r\n     int j = 53;\r\n     String str1  = Integer.toString(i);\r\n     String str2 = Integer.toString(j);\r\n     int idx = str1.indexOf(str2);\r\n     System.out.println(idx);\r\n\r\nOutput = `2`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#toString%28int%29","title":"Finding int within a int?","body":"<p>Use  <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Integer.html#toString%28int%29\" rel=\"nofollow\">Integer.toString(int myinteger)</a>  method of Integer class to get the String representation of integer.</p>\n\n<pre><code> int i = 1953786;\n int j = 53;\n String str1  = Integer.toString(i);\n String str2 = Integer.toString(j);\n int idx = str1.indexOf(str2);\n System.out.println(idx);\n</code></pre>\n\n<p>Output = <code>2</code></p>\n"}],"owner":{"account_id":322208,"reputation":4663,"user_id":641503,"accept_rate":99,"display_name":"Lunar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":979,"favorite_count":0,"down_vote_count":5,"up_vote_count":3,"closed_date":1327707252,"accepted_answer_id":9034634,"answer_count":3,"score":-2,"last_activity_date":1656441090,"creation_date":1327673878,"question_id":9034603,"body_markdown":"I need to find the indices of `int` A is within `String` B, for example, given:\r\n\r\nA: 53 and B: &quot;1953786&quot;\r\n\r\nshould return 2.\r\n\r\nWithout using a built in function such as indexOf... The length of the string can be of any length, what sort of algorithm would suit such a search?\r\n","title":"Finding int within a int?","body":"<p>I need to find the indices of <code>int</code> A is within <code>String</code> B, for example, given:</p>\n\n<p>A: 53 and B: \"1953786\"</p>\n\n<p>should return 2.</p>\n\n<p>Without using a built in function such as indexOf... The length of the string can be of any length, what sort of algorithm would suit such a search?</p>\n"},{"tags":["java","file","recursion"],"comments":[{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":3,"creation_date":1656440788,"post_id":72791438,"comment_id":128571564,"body_markdown":"Unfortunately, there is no magic in this world","body":"Unfortunately, there is no magic in this world"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656441079,"creation_date":1656441079,"answer_id":72791524,"question_id":72791438,"body_markdown":"You&#39;ll need to go through each file, but you can make it easy using `Files.walk`:\r\n\r\n```\r\nPath directory = Path.of(&quot;...&quot;);\r\ntry (Stream&lt;Path&gt; stream = Files.walk(directory)) {\r\n    long size = stream.filter(Files::isRegularFile)\r\n            .mapToLong(p -&gt; {\r\n                try {\r\n                    return Files.size(p);\r\n                } catch (IOException e) {\r\n                    throw new UncheckedIOException(e);\r\n                }\r\n            })\r\n            .sum();\r\n}\r\n```\r\n\r\nThe try-catch inside the `mapToLong` is necessary because `Function` doesn&#39;t allow checked exceptions.","title":"How to list the size of all files in directory recursively at once","body":"<p>You'll need to go through each file, but you can make it easy using <code>Files.walk</code>:</p>\n<pre><code>Path directory = Path.of(&quot;...&quot;);\ntry (Stream&lt;Path&gt; stream = Files.walk(directory)) {\n    long size = stream.filter(Files::isRegularFile)\n            .mapToLong(p -&gt; {\n                try {\n                    return Files.size(p);\n                } catch (IOException e) {\n                    throw new UncheckedIOException(e);\n                }\n            })\n            .sum();\n}\n</code></pre>\n<p>The try-catch inside the <code>mapToLong</code> is necessary because <code>Function</code> doesn't allow checked exceptions.</p>\n"}],"owner":{"account_id":25329442,"reputation":11,"user_id":19149473,"display_name":"KKir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1656441079,"creation_date":1656440633,"question_id":72791438,"body_markdown":"I am trying to list the size of all files in directory similar to linux command du -a all at once recursively except in java. Instead of the file going through each file in the directory checking the size one at a time which takes more time\r\n\r\n    String directory = &quot;\r\n    File[] parentfile;\r\n    parentfile = listFiles(directory);\r\n    for (File f:parentfile){\r\n    System.out.println(f.getSize());\r\n    }\r\n\r\n","title":"How to list the size of all files in directory recursively at once","body":"<p>I am trying to list the size of all files in directory similar to linux command du -a all at once recursively except in java. Instead of the file going through each file in the directory checking the size one at a time which takes more time</p>\n<pre><code>String directory = &quot;\nFile[] parentfile;\nparentfile = listFiles(directory);\nfor (File f:parentfile){\nSystem.out.println(f.getSize());\n}\n</code></pre>\n"},{"tags":["java","android","printing","sdk"],"comments":[{"owner":{"account_id":1433002,"reputation":1126,"user_id":1354966,"accept_rate":50,"display_name":"ebolton"},"score":0,"creation_date":1452811975,"post_id":34063193,"comment_id":57345796,"body_markdown":"Did you ever find a solution to this?","body":"Did you ever find a solution to this?"},{"owner":{"account_id":1156194,"reputation":1430,"user_id":1136734,"accept_rate":93,"display_name":"dave"},"score":0,"creation_date":1510581425,"post_id":34063193,"comment_id":81482601,"body_markdown":"I am also looking for a solution to this if anyone has managed it","body":"I am also looking for a solution to this if anyone has managed it"},{"owner":{"account_id":1323783,"reputation":952,"user_id":1269058,"accept_rate":58,"display_name":"Kishore"},"score":0,"creation_date":1571153815,"post_id":34063193,"comment_id":103141935,"body_markdown":"I&#39;m looking for the same. Any leads on this?","body":"I&#39;m looking for the same. Any leads on this?"},{"owner":{"account_id":10596054,"reputation":2501,"user_id":7804719,"accept_rate":67,"display_name":"Jaydip Kalkani"},"score":0,"creation_date":1683898576,"post_id":34063193,"comment_id":134441460,"body_markdown":"I am looking for the same. Any leads guys?","body":"I am looking for the same. Any leads guys?"}],"answers":[{"tags":[],"owner":{"account_id":25673875,"reputation":1,"user_id":19437653,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656440639,"creation_date":1656440639,"answer_id":72791444,"question_id":34063193,"body_markdown":"I got this working\r\nBasically I have a template that I copy to an new file on which I make the changes\r\nThe image object in the template is called imgPart, the other objects are textblocks\r\n\r\n    Dim m_partNum As String = &quot;12345&quot;\r\n    Dim m_PartName As String = &quot;Plate Special 1 x 2&quot; &amp; vbCrLf &amp; &quot;4 Studs&quot;\r\n    Dim m_PartImage As String = &quot;c:\\Danny\\myLego\\Labels\\PartImages\\3033.png&quot;\r\n    Dim m_template As String = &quot;c:\\Danny\\myLego\\Templates\\PRINTME.lbx&quot;\r\n    Dim m_target As String = &quot;c:\\Danny\\myLego\\Templates\\&quot; &amp; m_partNum &amp; &quot;.lbx&quot;\r\n    Dim doc As bpac.DocumentClass = New bpac.DocumentClass\r\n    Try\r\n       File.Copy(m_template, m_target, vbTrue)\r\n       If doc.Open(m_target) &lt;&gt; False Then\r\n          doc.GetObject(&quot;imgPart&quot;).SetData(0, m_PartImage, 4)\r\n          doc.GetObject(&quot;txtPartName&quot;).Text = m_PartName\r\n          doc.GetObject(&quot;txtPartNum&quot;).Text = m_partNum\r\n          doc.Save()\r\n          doc.Close()\r\n             Else\r\n              MsgBox(&quot;Open Error on Receipt with error&quot;)\r\n       End If\r\n    Catch ex As Exception\r\n       MsgBox(&quot;Error occurred :  &quot; &amp; ex.ToString)\r\n    End Try","title":"Change image object on template using Brother print Android SDK","body":"<p>I got this working\nBasically I have a template that I copy to an new file on which I make the changes\nThe image object in the template is called imgPart, the other objects are textblocks</p>\n<pre><code>Dim m_partNum As String = &quot;12345&quot;\nDim m_PartName As String = &quot;Plate Special 1 x 2&quot; &amp; vbCrLf &amp; &quot;4 Studs&quot;\nDim m_PartImage As String = &quot;c:\\Danny\\myLego\\Labels\\PartImages\\3033.png&quot;\nDim m_template As String = &quot;c:\\Danny\\myLego\\Templates\\PRINTME.lbx&quot;\nDim m_target As String = &quot;c:\\Danny\\myLego\\Templates\\&quot; &amp; m_partNum &amp; &quot;.lbx&quot;\nDim doc As bpac.DocumentClass = New bpac.DocumentClass\nTry\n   File.Copy(m_template, m_target, vbTrue)\n   If doc.Open(m_target) &lt;&gt; False Then\n      doc.GetObject(&quot;imgPart&quot;).SetData(0, m_PartImage, 4)\n      doc.GetObject(&quot;txtPartName&quot;).Text = m_PartName\n      doc.GetObject(&quot;txtPartNum&quot;).Text = m_partNum\n      doc.Save()\n      doc.Close()\n         Else\n          MsgBox(&quot;Open Error on Receipt with error&quot;)\n   End If\nCatch ex As Exception\n   MsgBox(&quot;Error occurred :  &quot; &amp; ex.ToString)\nEnd Try\n</code></pre>\n"}],"owner":{"account_id":7405249,"reputation":31,"user_id":5634350,"display_name":"Rich"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1316,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1656440639,"creation_date":1449137637,"question_id":34063193,"body_markdown":"I have set up label printing from our app using the **b-PAC Android SDK (Java)**. Using the code below I can replace the text from my template with what I want.\r\n\r\n    // Start creating P-touch Template command print data\r\n    Boolean val= myPrinter.startPTTPrint(6, null);\r\n    Log.i(&quot;print&quot;, &quot;startPTTPrint &quot;+val);\r\n\r\n    // Replace text\r\n    myPrinter.replaceText(&quot;abcde&quot;);\r\n\r\n    // Trasmit P-touch Template command print data\r\n    PrinterStatus status=myPrinter.flushPTTPrint();\r\n\r\nI am now trying to replace an image object within the template. I know it can be done in VBScript using:\r\n\r\n    bpac.Object ob = doc.GetObject(&quot;Photo&quot;);\r\n    ob.SetData(0, @&quot;C:\\Photo\\635466380534236711.png&quot;, 4);\r\n\r\nI can&#39;t find any Java examples of this within the b-PAC 3.1 SDK help guide and I have only just began coding in Java so I am very much a novice. \r\n\r\n**Does anyone have experience with the Brother SDK/Java who can point me in the right direction?**\r\n\r\nThanks!","title":"Change image object on template using Brother print Android SDK","body":"<p>I have set up label printing from our app using the <strong>b-PAC Android SDK (Java)</strong>. Using the code below I can replace the text from my template with what I want.</p>\n\n<pre><code>// Start creating P-touch Template command print data\nBoolean val= myPrinter.startPTTPrint(6, null);\nLog.i(\"print\", \"startPTTPrint \"+val);\n\n// Replace text\nmyPrinter.replaceText(\"abcde\");\n\n// Trasmit P-touch Template command print data\nPrinterStatus status=myPrinter.flushPTTPrint();\n</code></pre>\n\n<p>I am now trying to replace an image object within the template. I know it can be done in VBScript using:</p>\n\n<pre><code>bpac.Object ob = doc.GetObject(\"Photo\");\nob.SetData(0, @\"C:\\Photo\\635466380534236711.png\", 4);\n</code></pre>\n\n<p>I can't find any Java examples of this within the b-PAC 3.1 SDK help guide and I have only just began coding in Java so I am very much a novice. </p>\n\n<p><strong>Does anyone have experience with the Brother SDK/Java who can point me in the right direction?</strong></p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656417555,"post_id":72785896,"comment_id":128562397,"body_markdown":"Basic Authentication has been the some for about 25+ years so not sure what you want to know about it. How to configure Spring Security is explained in that guide, how to change from `WebSecurityConfigurerAdapter` to the new one is explained in a blog https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter.","body":"Basic Authentication has been the some for about 25+ years so not sure what you want to know about it. How to configure Spring Security is explained in that guide, how to change from <code>WebSecurityConfigurerAdapter</code> to the new one is explained in a blog <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a>."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1656440505,"post_id":72785896,"comment_id":128571482,"body_markdown":"why not just read the official spring security documentation?","body":"why not just read the official spring security documentation?"}],"answers":[{"tags":[],"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656440249,"creation_date":1656440249,"answer_id":72791365,"question_id":72785896,"body_markdown":"In Spring Security 5.7, You need to provide `SecurityFilterChain` bean.\r\n\r\n    @Configuration\r\n    public class SecurityConfiguration {\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                .authorizeHttpRequests((authz) -&gt; authz\r\n                    .anyRequest().authenticated()\r\n                )\r\n                .httpBasic(withDefaults())\r\n                .authenticationManager(new CustomAuthenticationManager());\r\n            return http.build();\r\n        }\r\n    \r\n    }\r\n\r\n**Reference:** https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","title":"Spring boot authentication in 2022","body":"<p>In Spring Security 5.7, You need to provide <code>SecurityFilterChain</code> bean.</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests((authz) -&gt; authz\n                .anyRequest().authenticated()\n            )\n            .httpBasic(withDefaults())\n            .authenticationManager(new CustomAuthenticationManager());\n        return http.build();\n    }\n\n}\n</code></pre>\n<p><strong>Reference:</strong> <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter</a></p>\n"}],"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72791365,"answer_count":1,"score":0,"last_activity_date":1656440249,"creation_date":1656417046,"question_id":72785896,"body_markdown":"I have trouble with figuring out Spring Boot authentication. I am new to Spring Security and recently `WebSecurityConfigurerAdapter` got deprecated. Is there a source where basic authentication is explained and has some implementations of it?\r\n\r\nI wasn&#39;t able to find something that would satisfy my request. New sources that I found, provided general view on it. The old ones were point at `WebSecurityConfigurerAdapter`","title":"Spring boot authentication in 2022","body":"<p>I have trouble with figuring out Spring Boot authentication. I am new to Spring Security and recently <code>WebSecurityConfigurerAdapter</code> got deprecated. Is there a source where basic authentication is explained and has some implementations of it?</p>\n<p>I wasn't able to find something that would satisfy my request. New sources that I found, provided general view on it. The old ones were point at <code>WebSecurityConfigurerAdapter</code></p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":3,"creation_date":1656439079,"post_id":72791038,"comment_id":128571021,"body_markdown":"First, why do you look for `declineReason` when there is no one in the data string ? Do you mean `denyReason` ? You should reword your question, it is not clear what you want.","body":"First, why do you look for <code>declineReason</code> when there is no one in the data string ? Do you mean <code>denyReason</code> ? You should reword your question, it is not clear what you want."},{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1656439508,"post_id":72791038,"comment_id":128571131,"body_markdown":"Agree with I agree with @PeterMmm.. but it looks like you just need to do some string parsing. However, why do you have to store data like that in a string? Can&#39;t use you use another datatype like a map?","body":"Agree with I agree with @PeterMmm.. but it looks like you just need to do some string parsing. However, why do you have to store data like that in a string? Can&#39;t use you use another datatype like a map?"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":1,"creation_date":1656439955,"post_id":72791038,"comment_id":128571301,"body_markdown":"It looks like inbound URL query parameters. Anyway, I&#39;d use a StringTokenizer  with `&amp;`, then on each token, use another tokenizer on `=`. From there, process the results as you go (print out something if a token is present) or store them in a map.","body":"It looks like inbound URL query parameters. Anyway, I&#39;d use a StringTokenizer  with <code>&amp;</code>, then on each token, use another tokenizer on <code>=</code>. From there, process the results as you go (print out something if a token is present) or store them in a map."},{"owner":{"account_id":13460295,"reputation":1223,"user_id":9712582,"display_name":"user9712582"},"score":0,"creation_date":1656441976,"post_id":72791038,"comment_id":128571958,"body_markdown":"It looks like some &#39;&amp;&#39; are missing in the original string above, such as after &#39;test&#39;.  That  might be causing you problems.","body":"It looks like some &#39;&amp;&#39; are missing in the original string above, such as after &#39;test&#39;.  That  might be causing you problems."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656439906,"creation_date":1656439906,"answer_id":72791304,"question_id":72791038,"body_markdown":"I would use a Scanner to extract the values.  \r\nOne scanner to extract the pairs.\r\nAnother scanner to extract the values of the pair.\r\n\r\nSee:\r\n\r\n```\r\nimport java.util.*;\r\npublic class Main{\r\n\tpublic static void main(String[] args) {\r\n      String tmp = &quot;Reason: decision=deny&amp;denyReason=1&amp;denyReasonSubcategory=PoorQuality&amp;subCategoryComments=testsubCategory&quot;;\r\n      Scanner s = new Scanner(tmp).useDelimiter(&quot;\\\\&amp;&quot;);\r\n      while(s.hasNext()){\r\n         Scanner s2 = new Scanner(s.next()).useDelimiter(&quot;=&quot;);\r\n         System.out.println(s2.next() + &quot;:&quot; + s2.next());\r\n      }\r\n\t}\r\n}\r\n```","title":"Retrieve data from a String","body":"<p>I would use a Scanner to extract the values.<br />\nOne scanner to extract the pairs.\nAnother scanner to extract the values of the pair.</p>\n<p>See:</p>\n<pre><code>import java.util.*;\npublic class Main{\n    public static void main(String[] args) {\n      String tmp = &quot;Reason: decision=deny&amp;denyReason=1&amp;denyReasonSubcategory=PoorQuality&amp;subCategoryComments=testsubCategory&quot;;\n      Scanner s = new Scanner(tmp).useDelimiter(&quot;\\\\&amp;&quot;);\n      while(s.hasNext()){\n         Scanner s2 = new Scanner(s.next()).useDelimiter(&quot;=&quot;);\n         System.out.println(s2.next() + &quot;:&quot; + s2.next());\n      }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12835453,"reputation":79,"user_id":9285231,"display_name":"FigureCodeOut"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72791304,"answer_count":1,"score":0,"last_activity_date":1656439906,"creation_date":1656438520,"question_id":72791038,"body_markdown":"I have this String which is coming from form:\r\n\r\n       String tmp = &quot;Reason: decision=deny&amp;denyReason=1&amp;denyReasonSubcategory=PoorQuality&amp;subCategoryComments=testsubCategoryComments=subCategoryComments=denyReasonSubcategory=ReviewAgainsubCategoryComments=hellosubCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryCommen=&amp;subCategoryComments=&amp;subCategoryComments=&amp;subCategoryComments=&amp;subCategoryComments=&quot;;\r\n\r\nFrom the above string I need to retrieve:\r\n\r\n     denyReason=1\r\n     denyReasonSubcategory=PoorQuality  subCategoryComments=test\r\n     denyReasonSubcategory=ReviewAgain   subCategoryComments=hello\r\n\r\nI need to save them as below: \r\n\r\ndeny Reason in an array, so i can find corresponding value.\r\n\r\nRest as:\r\nPoor Quality :test; Review Again:hello\r\n\r\nI have tried following:\r\n\r\n              for (String word : tmp.split(&quot;\\\\&amp;+&quot;)){\r\n               if (word.contains(&quot;declineReason&quot;)){\r\n                    System.out.println(word.indexOf(&quot;declineReason&quot;));\r\n                // coming as 0\r\n               }\r\n              if (word.contains(&quot;declineReasonSubcategory&quot;)){\r\n                    System.out.println(&quot;helloo&quot;);\r\n              }\r\n              if (word.contains(&quot;subCategoryComments&quot;)){\r\n                    System.out.println(&quot;hii&quot;);\r\n              } \r\n             }\r\n            }\r\n\r\nHonestly, it&#39;s been long since I work on string like this and just little lost on how to get the data.","title":"Retrieve data from a String","body":"<p>I have this String which is coming from form:</p>\n<pre><code>   String tmp = &quot;Reason: decision=deny&amp;denyReason=1&amp;denyReasonSubcategory=PoorQuality&amp;subCategoryComments=testsubCategoryComments=subCategoryComments=denyReasonSubcategory=ReviewAgainsubCategoryComments=hellosubCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryComments=subCategoryCommen=&amp;subCategoryComments=&amp;subCategoryComments=&amp;subCategoryComments=&amp;subCategoryComments=&quot;;\n</code></pre>\n<p>From the above string I need to retrieve:</p>\n<pre><code> denyReason=1\n denyReasonSubcategory=PoorQuality  subCategoryComments=test\n denyReasonSubcategory=ReviewAgain   subCategoryComments=hello\n</code></pre>\n<p>I need to save them as below:</p>\n<p>deny Reason in an array, so i can find corresponding value.</p>\n<p>Rest as:\nPoor Quality :test; Review Again:hello</p>\n<p>I have tried following:</p>\n<pre><code>          for (String word : tmp.split(&quot;\\\\&amp;+&quot;)){\n           if (word.contains(&quot;declineReason&quot;)){\n                System.out.println(word.indexOf(&quot;declineReason&quot;));\n            // coming as 0\n           }\n          if (word.contains(&quot;declineReasonSubcategory&quot;)){\n                System.out.println(&quot;helloo&quot;);\n          }\n          if (word.contains(&quot;subCategoryComments&quot;)){\n                System.out.println(&quot;hii&quot;);\n          } \n         }\n        }\n</code></pre>\n<p>Honestly, it's been long since I work on string like this and just little lost on how to get the data.</p>\n"},{"tags":["java","selenium","selenium-chromedriver","descendant","findelement"],"comments":[{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":0,"creation_date":1656430029,"post_id":72789168,"comment_id":128567821,"body_markdown":"Did this answer help: https://stackoverflow.com/questions/103325/what-is-the-correct-xpath-for-choosing-attributes-that-contain-foo","body":"Did this answer help: <a href=\"https://stackoverflow.com/questions/103325/what-is-the-correct-xpath-for-choosing-attributes-that-contain-foo\" title=\"what is the correct xpath for choosing attributes that contain foo\">stackoverflow.com/questions/103325/&hellip;</a>"},{"owner":{"account_id":25531653,"reputation":17,"user_id":19319560,"display_name":"DGStar"},"score":0,"creation_date":1656431624,"post_id":72789168,"comment_id":128568476,"body_markdown":"@AndreyKotov I&#39;m still learning so I didn&#39;t understood both the answer and question there...","body":"@AndreyKotov I&#39;m still learning so I didn&#39;t understood both the answer and question there..."},{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":0,"creation_date":1656431656,"post_id":72789168,"comment_id":128568496,"body_markdown":"ok, then I&#39;ll add an answer for you","body":"ok, then I&#39;ll add an answer for you"},{"owner":{"account_id":25531653,"reputation":17,"user_id":19319560,"display_name":"DGStar"},"score":0,"creation_date":1656434979,"post_id":72789168,"comment_id":128569682,"body_markdown":"Hi, I tried to apply your answer here: sharetext.me/vbfigr5v7z but &#39;profiles&#39; always end up as a null even when there is profiles with that attribute under that ancestor... Am I doing something wrong? @AndreyKotov","body":"Hi, I tried to apply your answer here: sharetext.me/vbfigr5v7z but &#39;profiles&#39; always end up as a null even when there is profiles with that attribute under that ancestor... Am I doing something wrong? @AndreyKotov"},{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":0,"creation_date":1656436284,"post_id":72789168,"comment_id":128570138,"body_markdown":"It is a bit hard to help without knowing website&#39;s structure. Please repost code with the url.","body":"It is a bit hard to help without knowing website&#39;s structure. Please repost code with the url."},{"owner":{"account_id":25531653,"reputation":17,"user_id":19319560,"display_name":"DGStar"},"score":0,"creation_date":1656445079,"post_id":72789168,"comment_id":128572920,"body_markdown":"@AndreyKotov I added an link to a github repository with the code","body":"@AndreyKotov I added an link to a github repository with the code"},{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":0,"creation_date":1656450427,"post_id":72789168,"comment_id":128574592,"body_markdown":"you don&#39;t need actually that variable called `usersAncestor`, you can find anything using direct `xpath`. See my changes. I commented out `usersAncestor` and initialized `profiles = new ArrayList&lt;&gt;()` - otherwise you&#39;ll get `nullPointerException`. On my screenshot you can see that now `elements` list is filled with `WebElement` value (avatar image of user Brad). Code I&#39;ve changed is here - https://pastebin.com/ZNY0X8uX. Screenshot (save and enlarge it)- https://i.imgur.com/FgduOey.png","body":"you don&#39;t need actually that variable called <code>usersAncestor</code>, you can find anything using direct <code>xpath</code>. See my changes. I commented out <code>usersAncestor</code> and initialized <code>profiles = new ArrayList&lt;&gt;()</code> - otherwise you&#39;ll get <code>nullPointerException</code>. On my screenshot you can see that now <code>elements</code> list is filled with <code>WebElement</code> value (avatar image of user Brad). Code I&#39;ve changed is here - <a href=\"https://pastebin.com/ZNY0X8uX\" rel=\"nofollow noreferrer\">pastebin.com/ZNY0X8uX</a>. Screenshot (save and enlarge it)- <a href=\"https://i.imgur.com/FgduOey.png\" rel=\"nofollow noreferrer\">i.imgur.com/FgduOey.png</a>"},{"owner":{"account_id":25531653,"reputation":17,"user_id":19319560,"display_name":"DGStar"},"score":0,"creation_date":1656496667,"post_id":72789168,"comment_id":128585107,"body_markdown":"@AndreyKotov If I don&#39;t need the ancestor how does it now which element decedents are needed?","body":"@AndreyKotov If I don&#39;t need the ancestor how does it now which element decedents are needed?"},{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":0,"creation_date":1656498627,"post_id":72789168,"comment_id":128585894,"body_markdown":"In this case webdriver looks for all decedents from the root element (from the `html` tag) - same as if you give it an absolute path to the element. If we take analogy to the file system, you can tell me absolute path to the file `c:/dir1/dir2/dir3/file.txt` OR if you already in `dir2` then you can tell me a relative path that will be `./dir3/file.txt`. So I suggest to use &#39;absolute XPATHs&#39; everywhere in Selenium, usually it is much simpler.","body":"In this case webdriver looks for all decedents from the root element (from the <code>html</code> tag) - same as if you give it an absolute path to the element. If we take analogy to the file system, you can tell me absolute path to the file <code>c:&#47;dir1&#47;dir2&#47;dir3&#47;file.txt</code> OR if you already in <code>dir2</code> then you can tell me a relative path that will be <code>.&#47;dir3&#47;file.txt</code>. So I suggest to use &#39;absolute XPATHs&#39; everywhere in Selenium, usually it is much simpler."}],"answers":[{"tags":[],"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656431802,"creation_date":1656431802,"answer_id":72789685,"question_id":72789168,"body_markdown":"To find elements with attribute that contains &#39;attributeValue&#39;:\r\n\r\n    List&lt;WebElement&gt; childs = rootWebElement.findElements(By.xpath(&quot;.//*[contains(@attributeName,&#39;attributeValue&#39;)]&quot;));\r\n\r\nTo find elements with attribute that fully matches &#39;attributeValue&#39;:\r\n\r\n    List&lt;WebElement&gt; childs = rootWebElement.findElements(By.xpath(&quot;.//*[@attributeName=&#39;attributeValue&#39;]&quot;));\r\n\r\n\r\n","title":"How can I find all of the descendants with a specific attribute of an web element using ChromeDriver","body":"<p>To find elements with attribute that contains 'attributeValue':</p>\n<pre><code>List&lt;WebElement&gt; childs = rootWebElement.findElements(By.xpath(&quot;.//*[contains(@attributeName,'attributeValue')]&quot;));\n</code></pre>\n<p>To find elements with attribute that fully matches 'attributeValue':</p>\n<pre><code>List&lt;WebElement&gt; childs = rootWebElement.findElements(By.xpath(&quot;.//*[@attributeName='attributeValue']&quot;));\n</code></pre>\n"}],"owner":{"account_id":25531653,"reputation":17,"user_id":19319560,"display_name":"DGStar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72789685,"answer_count":1,"score":1,"last_activity_date":1656439724,"creation_date":1656429702,"question_id":72789168,"body_markdown":"While trying to figure out how to locate a specific group of web elements, I came across [this question][1] and I was wondering if I can do the same action just that it would give me only the descendants elements that contain a specific attribute.\r\n\r\nFor clarification, I know that I might be able to filter it but I&#39;m looking for a way to do it without filtering.\r\n\r\nFurthermore, I&#39;m using java, and as web driver I use chrome driver (and I use Selenium for that, I don&#39;t know if it&#39;s obvious or not as that&#39;s the only web controlling tool that I learned so far...)\r\n\r\n[Github link][2]\r\n\r\nThanks for the answers ahead! \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14052368/how-to-get-all-descendants-of-an-element-using-webdriver\r\n  [2]: https://github.com/DanielChakmon/ImageProcessing.git","title":"How can I find all of the descendants with a specific attribute of an web element using ChromeDriver","body":"<p>While trying to figure out how to locate a specific group of web elements, I came across <a href=\"https://stackoverflow.com/questions/14052368/how-to-get-all-descendants-of-an-element-using-webdriver\">this question</a> and I was wondering if I can do the same action just that it would give me only the descendants elements that contain a specific attribute.</p>\n<p>For clarification, I know that I might be able to filter it but I'm looking for a way to do it without filtering.</p>\n<p>Furthermore, I'm using java, and as web driver I use chrome driver (and I use Selenium for that, I don't know if it's obvious or not as that's the only web controlling tool that I learned so far...)</p>\n<p><a href=\"https://github.com/DanielChakmon/ImageProcessing.git\" rel=\"nofollow noreferrer\">Github link</a></p>\n<p>Thanks for the answers ahead!</p>\n"},{"tags":["java","string","graphics","split","pixel"],"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1554732049,"post_id":55575174,"comment_id":97849249,"body_markdown":"https://stackoverflow.com/questions/18327825/how-do-i-calculate-the-width-of-a-string-in-pixels","body":"<a href=\"https://stackoverflow.com/questions/18327825/how-do-i-calculate-the-width-of-a-string-in-pixels\" title=\"how do i calculate the width of a string in pixels\">stackoverflow.com/questions/18327825/&hellip;</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1554732199,"post_id":55575174,"comment_id":97849348,"body_markdown":"Depends on the font used (if it is not always a fixed sized font). Java swing and JavaFX would use a bit different code. Best would be to let a GUI component take care of it, with word-wrap.","body":"Depends on the font used (if it is not always a fixed sized font). Java swing and JavaFX would use a bit different code. Best would be to let a GUI component take care of it, with word-wrap."},{"owner":{"account_id":14438261,"reputation":51,"user_id":10429696,"display_name":"Pneuma Official"},"score":0,"creation_date":1554732213,"post_id":55575174,"comment_id":97849353,"body_markdown":"@BackSlash I stated that I already know how to find the width of a string in pixels. Its splitting it at a certain width that I am looking for","body":"@BackSlash I stated that I already know how to find the width of a string in pixels. Its splitting it at a certain width that I am looking for"},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1554732410,"post_id":55575174,"comment_id":97849485,"body_markdown":"@PneumaOfficial Once you know how to do that, you can either calculate the with of single letters and sum them up until you reach your maximum width, or you can try going with a percentage comparison.","body":"@PneumaOfficial Once you know how to do that, you can either calculate the with of single letters and sum them up until you reach your maximum width, or you can try going with a percentage comparison."},{"owner":{"account_id":5254523,"reputation":925,"user_id":4197768,"accept_rate":40,"display_name":"Mark Sch&#228;fer"},"score":0,"creation_date":1554732534,"post_id":55575174,"comment_id":97849571,"body_markdown":"Seems that try-and-error is needed. Create a substring at some index and calculate its width, adjust as needed. Use linear interpolation to calculate the initial and all following guesses.","body":"Seems that try-and-error is needed. Create a substring at some index and calculate its width, adjust as needed. Use linear interpolation to calculate the initial and all following guesses."},{"owner":{"account_id":14438261,"reputation":51,"user_id":10429696,"display_name":"Pneuma Official"},"score":0,"creation_date":1554732547,"post_id":55575174,"comment_id":97849582,"body_markdown":"@BackSlash true, I could use a for- loop and create a new string using each word, then when that string width reaches the rectangles width, create a new one...","body":"@BackSlash true, I could use a for- loop and create a new string using each word, then when that string width reaches the rectangles width, create a new one..."},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1554732711,"post_id":55575174,"comment_id":97849693,"body_markdown":"@PneumaOfficial Or, better IMO, use percentages. If your entire string is 25 characters long, 500px wide and you need to break at 100px, you know that you likely need to break something near `100/500px = 20% length = 5 characters`, you can then go back until you find a blank space and use substring. Of course each character has its own width, so this calculation must be tried and adjusted, but it&#39;s a valid starting point.","body":"@PneumaOfficial Or, better IMO, use percentages. If your entire string is 25 characters long, 500px wide and you need to break at 100px, you know that you likely need to break something near <code>100&#47;500px = 20% length = 5 characters</code>, you can then go back until you find a blank space and use substring. Of course each character has its own width, so this calculation must be tried and adjusted, but it&#39;s a valid starting point."},{"owner":{"account_id":2617274,"reputation":6112,"user_id":2266098,"accept_rate":72,"display_name":"NeplatnyUdaj"},"score":0,"creation_date":1554733485,"post_id":55575174,"comment_id":97850159,"body_markdown":"Can&#39;t you just use JTextArea, which already supports text wrapping? https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#setLineWrap(boolean)","body":"Can&#39;t you just use JTextArea, which already supports text wrapping? <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#setLineWrap(boolean)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/javax/swing/&hellip;</a>"},{"owner":{"account_id":14438261,"reputation":51,"user_id":10429696,"display_name":"Pneuma Official"},"score":0,"creation_date":1554739392,"post_id":55575174,"comment_id":97853683,"body_markdown":"@NeplatnyUdaj I would like to keep everything in Graphics","body":"@NeplatnyUdaj I would like to keep everything in Graphics"}],"answers":[{"tags":[],"owner":{"account_id":14438261,"reputation":51,"user_id":10429696,"display_name":"Pneuma Official"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1558994944,"creation_date":1558994944,"answer_id":56332924,"question_id":55575174,"body_markdown":"I know I am super late to stating if I figured it out or not, but I managed to do it myself without a 3rd party API. It isn&#39;t super efficient as if the string length gets too long, the last word is cut off. (You can look at the code if you wish, but I can no longer explain how it works as I have not looked at it in a long time. \r\n\r\n    public class ConsoleLog {\r\n\tprivate static Color c = Color.WHITE;\r\n\tpublic static Color getC() {\r\n\t\treturn c;\r\n\t}\r\n\r\n\tpublic static void setC(Color c) {\r\n\t\tConsoleLog.c = c;\r\n\t}\r\n\r\n\tprivate static int pos;\r\n\tprivate static List&lt;String[]&gt; logs;\r\n\tprivate static List&lt;Point&gt;linesPos = new ArrayList&lt;Point&gt;();\r\n\tprivate static Rectangle r = Main.Main.screenSize;\r\n\tpublic static void log(List &lt;String[]&gt; logs, Graphics g) {\r\n\t\tg.setColor(c);\r\n\t\tConsoleLog.logs = logs;\r\n\t\tsplitConsole(g);\r\n\t}\r\n\t\r\n\tpublic static void splitConsole(Graphics g){\r\n\t\tpos = 0;\r\n\t\tfor(int i = 0; i &lt; (r.height / 2) / 10 - 10; i++) {\r\n\t\t\tlinesPos.add(new Point(10, (i * (r.height / (50 + 3) + 5) + 15)));\r\n\t\t}\r\n\t\tfor(int i = 0; i &lt; logs.size(); i++) {\r\n\t\t\tfor(int ie = 0; ie &lt; logs.get(i).length || pos &lt; logs.get(i).length; ie++) {\r\n\t\t\t\tg.drawString(logs.get(i)[ie], linesPos.get(pos).x, linesPos.get(pos).y);\r\n\t\t\t\tpos++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nTo be clear, I was developing a small game engine and decided to scrap it as it was getting too messy, inefficient, and was built around a clicker game. I am working on a second one that will be able to create any 2D game the user wants and it is very user friendly. It is almost ready for its first version and I am excited to see what can be made out of it! ","title":"Java split string at certain length in pixels","body":"<p>I know I am super late to stating if I figured it out or not, but I managed to do it myself without a 3rd party API. It isn't super efficient as if the string length gets too long, the last word is cut off. (You can look at the code if you wish, but I can no longer explain how it works as I have not looked at it in a long time. </p>\n\n<pre><code>public class ConsoleLog {\nprivate static Color c = Color.WHITE;\npublic static Color getC() {\n    return c;\n}\n\npublic static void setC(Color c) {\n    ConsoleLog.c = c;\n}\n\nprivate static int pos;\nprivate static List&lt;String[]&gt; logs;\nprivate static List&lt;Point&gt;linesPos = new ArrayList&lt;Point&gt;();\nprivate static Rectangle r = Main.Main.screenSize;\npublic static void log(List &lt;String[]&gt; logs, Graphics g) {\n    g.setColor(c);\n    ConsoleLog.logs = logs;\n    splitConsole(g);\n}\n\npublic static void splitConsole(Graphics g){\n    pos = 0;\n    for(int i = 0; i &lt; (r.height / 2) / 10 - 10; i++) {\n        linesPos.add(new Point(10, (i * (r.height / (50 + 3) + 5) + 15)));\n    }\n    for(int i = 0; i &lt; logs.size(); i++) {\n        for(int ie = 0; ie &lt; logs.get(i).length || pos &lt; logs.get(i).length; ie++) {\n            g.drawString(logs.get(i)[ie], linesPos.get(pos).x, linesPos.get(pos).y);\n            pos++;\n        }\n    }\n}\n</code></pre>\n\n<p>To be clear, I was developing a small game engine and decided to scrap it as it was getting too messy, inefficient, and was built around a clicker game. I am working on a second one that will be able to create any 2D game the user wants and it is very user friendly. It is almost ready for its first version and I am excited to see what can be made out of it! </p>\n"},{"tags":[],"owner":{"account_id":10631590,"reputation":51,"user_id":7829568,"display_name":"Todd Hill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656438940,"creation_date":1656436574,"answer_id":72790696,"question_id":55575174,"body_markdown":"A simple solution to &quot;ellipsing&quot; a string to fit a Swing control using [Apache Commons StringUtils][1].\r\n\r\nThis uses the pixel width of both the target and the string. Most Swing controls have getWidth().\r\n\r\n    \r\n     String status = num + &quot; of &quot; + numToCopy + &quot;, &quot; + size + &quot;, &quot; + name;\r\n    \r\n     FontMetrics metrics = myTextField.getFontMetrics(myTextField.getFont());\r\n     int width = metrics.stringWidth(status);\r\n     int max = myTextField.getWidth();\r\n    \r\n     if (width &gt; max)\r\n     {\r\n         String ext = Utils.getFileExtension(status);\r\n         int extLen = metrics.stringWidth(ext);\r\n         // remove file extension\r\n         status = status.substring(0, status.length() - ext.length());\r\n         max = max - extLen;\r\n         // remove end characters until it fits\r\n         while (width &gt; max)\r\n         {\r\n             status = StringUtils.abbreviate(status, status.length() - 1);\r\n             width = metrics.stringWidth(status);\r\n         }\r\n         // add file extension\r\n         status += ext;\r\n     }\r\n     myTextField.setText(status);\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/download_lang.cgi","title":"Java split string at certain length in pixels","body":"<p>A simple solution to &quot;ellipsing&quot; a string to fit a Swing control using <a href=\"https://commons.apache.org/proper/commons-lang/download_lang.cgi\" rel=\"nofollow noreferrer\">Apache Commons StringUtils</a>.</p>\n<p>This uses the pixel width of both the target and the string. Most Swing controls have getWidth().</p>\n<pre><code> String status = num + &quot; of &quot; + numToCopy + &quot;, &quot; + size + &quot;, &quot; + name;\n\n FontMetrics metrics = myTextField.getFontMetrics(myTextField.getFont());\n int width = metrics.stringWidth(status);\n int max = myTextField.getWidth();\n\n if (width &gt; max)\n {\n     String ext = Utils.getFileExtension(status);\n     int extLen = metrics.stringWidth(ext);\n     // remove file extension\n     status = status.substring(0, status.length() - ext.length());\n     max = max - extLen;\n     // remove end characters until it fits\n     while (width &gt; max)\n     {\n         status = StringUtils.abbreviate(status, status.length() - 1);\n         width = metrics.stringWidth(status);\n     }\n     // add file extension\n     status += ext;\n }\n myTextField.setText(status);\n</code></pre>\n"}],"owner":{"account_id":14438261,"reputation":51,"user_id":10429696,"display_name":"Pneuma Official"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56332924,"answer_count":2,"score":1,"last_activity_date":1656438940,"creation_date":1554731881,"question_id":55575174,"body_markdown":"I need to split a String that is going to be displayed in a box using java.awt.Graphics. The problem is, I need the string to automatically be split when it reaches the rectangles width in pixels. For example,\r\n\r\n    &quot;This is an example string. What goes into the string does not matter&quot; \r\n    [----------------------------------------] &lt;-- Hypothetical width of box/rect\r\n\r\nI need the string to be split between &quot;goes&quot; and &quot;into&quot; so I can then have the  rest of the text on a new line:\r\n\r\n    &quot;This is an example string. What goes\r\n    into the string does not matter&quot; \r\n    [----------------------------------------] &lt;-- Hypothetical width of box/rect\r\n\r\nI know how to get the width of a string, but I do not know how to go about splitting it.\r\n","title":"Java split string at certain length in pixels","body":"<p>I need to split a String that is going to be displayed in a box using java.awt.Graphics. The problem is, I need the string to automatically be split when it reaches the rectangles width in pixels. For example,</p>\n\n<pre><code>\"This is an example string. What goes into the string does not matter\" \n[----------------------------------------] &lt;-- Hypothetical width of box/rect\n</code></pre>\n\n<p>I need the string to be split between \"goes\" and \"into\" so I can then have the  rest of the text on a new line:</p>\n\n<pre><code>\"This is an example string. What goes\ninto the string does not matter\" \n[----------------------------------------] &lt;-- Hypothetical width of box/rect\n</code></pre>\n\n<p>I know how to get the width of a string, but I do not know how to go about splitting it.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1656386640,"post_id":72715700,"comment_id":128553277,"body_markdown":"the link has been changed","body":"the link has been changed"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1656439651,"post_id":72715700,"comment_id":128571186,"body_markdown":"I ran both documents with CreateVisibleSignature2.java from the trunk and it worked nicely, i.e. both looked identical. (There is a difference, which is the rotation, you can see it with PDFDebugger)  So my suggestion is that you get CreateVisibleSignature2.java to work, and then modify that one to your needs, and find where it &quot;breaks&quot;.","body":"I ran both documents with CreateVisibleSignature2.java from the trunk and it worked nicely, i.e. both looked identical. (There is a difference, which is the rotation, you can see it with PDFDebugger)  So my suggestion is that you get CreateVisibleSignature2.java to work, and then modify that one to your needs, and find where it &quot;breaks&quot;."},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1656482395,"post_id":72715700,"comment_id":128580067,"body_markdown":"yes the rectangle i was success to right coordinate, but image in the rectangle be Stretch","body":"yes the rectangle i was success to right coordinate, but image in the rectangle be Stretch"},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1656482425,"post_id":72715700,"comment_id":128580082,"body_markdown":"I have to readjust the image","body":"I have to readjust the image"},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1656493713,"post_id":72715700,"comment_id":128583965,"body_markdown":"anyone tryng text in the rectangle got stretch ? how to handle ? cs.showText(title);","body":"anyone tryng text in the rectangle got stretch ? how to handle ? cs.showText(title);"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1656513962,"post_id":72715700,"comment_id":128592402,"body_markdown":"According to your comments you now have different issues. Thus, you may want to adapt your question to these different issues. As there is no actual answer here, such editing won&#39;t render any answer useless.","body":"According to your comments you now have different issues. Thus, you may want to adapt your question to these different issues. As there is no actual answer here, such editing won&#39;t render any answer useless."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1656518223,"post_id":72715700,"comment_id":128594299,"body_markdown":"I&#39;m completely lost. Please create a new question from scratch.","body":"I&#39;m completely lost. Please create a new question from scratch."}],"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1656438935,"creation_date":1655901591,"question_id":72715700,"body_markdown":"Tryng to get PDF orientation to calculated coordinates of signature image, have 2 PDF with same width and height but the orientation not same, this the line of code to get height and width\r\n\r\n    PDPage page = doc.getPage(0);\r\n    PDRectangle pageRect = page.getCropBox();\r\n    System.out.println(&quot;Width page &quot; + pageRect.getWidth());\r\n    System.out.println(&quot;Height page &quot; + pageRect.getHeight());\r\n\r\nsample of PDF\r\n\r\n[0 degree][1]\r\n\r\n  [1]: https://www.dropbox.com/s/1ca9e15gpx3ze14/doc0.pdf?dl=0\r\n\r\n[180 degree][2]\r\n\r\n  [2]: https://www.dropbox.com/s/ldmi71ut7wx7gql/doc180.pdf?dl=0\r\n\r\ndefine coordinates of signature on pdf 0 degree :\r\n\r\n    float lx = (float) 300;\r\n    float ly = (float) 278;\r\n    float rx = (float) 442;\r\n    float ry = (float) 349;\r\n    Rectangle2D humanRect = new Rectangle2D.Float(lx, ry, rx - lx, ry - ly);\r\n    \r\n    float x = (float) humanRect.getX();\r\n\r\n\r\n    float width = (float) humanRect.getWidth();\r\n    float height = (float) humanRect.getHeight();\r\n\r\n    PDPage page = doc.getPage(0);\r\n\r\n    PDRectangle pageRect = page.getCropBox();\r\n    LogSystem.info(&quot;Width page &quot; + pageRect.getWidth());\r\n    LogSystem.info(&quot;Height page &quot; + pageRect.getHeight());\r\n\r\n    float pageWidth = (float) pageRect.getWidth();\r\n    float pageHeigth = (float) pageRect.getHeight();\r\n\r\n    PDRectangle rect = new PDRectangle();\r\n\r\n    float y = pageRect.getHeight() - (float)humanRect.getY();\r\n\r\n    int orientation = page.getRotation();\r\n\r\n    // signing should be at the same position regardless of page rotation.\r\n\r\n    switch (orientation)\r\n    {\r\n            case 90:\r\n                rect.setLowerLeftY(x);\r\n                rect.setUpperRightY(x + width);\r\n                rect.setLowerLeftX(y);\r\n                rect.setUpperRightX(y + height);\r\n                break;\r\n            case 180:\r\n                rect.setUpperRightX(pageWidth - x);\r\n                rect.setLowerLeftX(pageWidth - x - width);\r\n                rect.setLowerLeftY(y);\r\n                rect.setUpperRightY(y + height);\r\n                break;\r\n            case 270:\r\n                rect.setLowerLeftY(pageHeigth - x - width);\r\n                rect.setUpperRightY(pageHeigth - x);\r\n                rect.setLowerLeftX(pageWidth - y - height);\r\n                rect.setUpperRightX(pageWidth - y);\r\n                break;\r\n            case 0:\r\n            default:\r\n                rect.setLowerLeftX(x);\r\n                rect.setUpperRightX(x + width);\r\n                rect.setLowerLeftY(pageHeigth - y - height);\r\n                rect.setUpperRightY(pageHeigth - y);\r\n                break;\r\n        }\r\n        LogSystem.info(&quot;Rect&quot;+rect);\r\n\r\n        return rect;\r\n\r\n\r\nthe algorithm switch from createSignatureRectacle on CreateVisibleSignature2.java\r\n\r\nin PDF 0 degree position of signature was exactly as expected, but with the PDF 180 degree the signature was not exactly expected, this why the signature not precision. Why the result of get orientation not same ? and how to handle it ? \r\n\r\nor can i specify coordinates ignoring orientation (assume document orientation is always 0 degrees) ?","title":"PDFBox Get PDF Orientation not as expected","body":"<p>Tryng to get PDF orientation to calculated coordinates of signature image, have 2 PDF with same width and height but the orientation not same, this the line of code to get height and width</p>\n<pre><code>PDPage page = doc.getPage(0);\nPDRectangle pageRect = page.getCropBox();\nSystem.out.println(&quot;Width page &quot; + pageRect.getWidth());\nSystem.out.println(&quot;Height page &quot; + pageRect.getHeight());\n</code></pre>\n<p>sample of PDF</p>\n<p><a href=\"https://www.dropbox.com/s/1ca9e15gpx3ze14/doc0.pdf?dl=0\" rel=\"nofollow noreferrer\">0 degree</a></p>\n<p><a href=\"https://www.dropbox.com/s/ldmi71ut7wx7gql/doc180.pdf?dl=0\" rel=\"nofollow noreferrer\">180 degree</a></p>\n<p>define coordinates of signature on pdf 0 degree :</p>\n<pre><code>float lx = (float) 300;\nfloat ly = (float) 278;\nfloat rx = (float) 442;\nfloat ry = (float) 349;\nRectangle2D humanRect = new Rectangle2D.Float(lx, ry, rx - lx, ry - ly);\n\nfloat x = (float) humanRect.getX();\n\n\nfloat width = (float) humanRect.getWidth();\nfloat height = (float) humanRect.getHeight();\n\nPDPage page = doc.getPage(0);\n\nPDRectangle pageRect = page.getCropBox();\nLogSystem.info(&quot;Width page &quot; + pageRect.getWidth());\nLogSystem.info(&quot;Height page &quot; + pageRect.getHeight());\n\nfloat pageWidth = (float) pageRect.getWidth();\nfloat pageHeigth = (float) pageRect.getHeight();\n\nPDRectangle rect = new PDRectangle();\n\nfloat y = pageRect.getHeight() - (float)humanRect.getY();\n\nint orientation = page.getRotation();\n\n// signing should be at the same position regardless of page rotation.\n\nswitch (orientation)\n{\n        case 90:\n            rect.setLowerLeftY(x);\n            rect.setUpperRightY(x + width);\n            rect.setLowerLeftX(y);\n            rect.setUpperRightX(y + height);\n            break;\n        case 180:\n            rect.setUpperRightX(pageWidth - x);\n            rect.setLowerLeftX(pageWidth - x - width);\n            rect.setLowerLeftY(y);\n            rect.setUpperRightY(y + height);\n            break;\n        case 270:\n            rect.setLowerLeftY(pageHeigth - x - width);\n            rect.setUpperRightY(pageHeigth - x);\n            rect.setLowerLeftX(pageWidth - y - height);\n            rect.setUpperRightX(pageWidth - y);\n            break;\n        case 0:\n        default:\n            rect.setLowerLeftX(x);\n            rect.setUpperRightX(x + width);\n            rect.setLowerLeftY(pageHeigth - y - height);\n            rect.setUpperRightY(pageHeigth - y);\n            break;\n    }\n    LogSystem.info(&quot;Rect&quot;+rect);\n\n    return rect;\n</code></pre>\n<p>the algorithm switch from createSignatureRectacle on CreateVisibleSignature2.java</p>\n<p>in PDF 0 degree position of signature was exactly as expected, but with the PDF 180 degree the signature was not exactly expected, this why the signature not precision. Why the result of get orientation not same ? and how to handle it ?</p>\n<p>or can i specify coordinates ignoring orientation (assume document orientation is always 0 degrees) ?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1656436665,"post_id":72789433,"comment_id":128570269,"body_markdown":"Have you read the full chapter on jwts in the spring security documentation?","body":"Have you read the full chapter on jwts in the spring security documentation?"},{"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"score":0,"creation_date":1656445071,"post_id":72789433,"comment_id":128572914,"body_markdown":"@Toerktumlare not yet, no spoilers please.","body":"@Toerktumlare not yet, no spoilers please."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1656445325,"post_id":72789433,"comment_id":128572994,"body_markdown":"spoiler alert, JWTs are unsecure and were never ment to be handed out to browsers. Also, if someone steals your JWT in the browser you can&#39;t revoke it","body":"spoiler alert, JWTs are unsecure and were never ment to be handed out to browsers. Also, if someone steals your JWT in the browser you can&#39;t revoke it"},{"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"score":0,"creation_date":1656449826,"post_id":72789433,"comment_id":128574411,"body_markdown":"@Toerktumlare that&#39;s not necessarily true. If you&#39;re persisting the JWTs, you could revoke it via the database and even if you&#39;re not, you could revoke them all by changing the key they&#39;re signed with.","body":"@Toerktumlare that&#39;s not necessarily true. If you&#39;re persisting the JWTs, you could revoke it via the database and even if you&#39;re not, you could revoke them all by changing the key they&#39;re signed with."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1656455557,"post_id":72789433,"comment_id":128575770,"body_markdown":"Revoking the key for all jwts is going to be very popular with customers surely. And great storing all jwts in a db, so i know which db i need to dump to get everyones jwts!","body":"Revoking the key for all jwts is going to be very popular with customers surely. And great storing all jwts in a db, so i know which db i need to dump to get everyones jwts!"},{"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"score":0,"creation_date":1656494144,"post_id":72789433,"comment_id":128584142,"body_markdown":"@Toerktumlare I&#39;m not saying either of these is a perfect solution, but nonetheless your original statement that you can&#39;t revoke a JWT is incorrect","body":"@Toerktumlare I&#39;m not saying either of these is a perfect solution, but nonetheless your original statement that you can&#39;t revoke a JWT is incorrect"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1656496539,"post_id":72789433,"comment_id":128585050,"body_markdown":"No its not incorret. A plain single JWT can not be revoked. As you pointed you either need to revok ALL, or you need to store all JWTs in a database etc etc and implement all functionality that comes with cookie based sessions. So to tell you again, one single plain JWT cannot be revoked. JWT were mever meant to be handed out to browsers, they are less secure that cookie sessions since they are vuln to XSS","body":"No its not incorret. A plain single JWT can not be revoked. As you pointed you either need to revok ALL, or you need to store all JWTs in a database etc etc and implement all functionality that comes with cookie based sessions. So to tell you again, one single plain JWT cannot be revoked. JWT were mever meant to be handed out to browsers, they are less secure that cookie sessions since they are vuln to XSS"}],"answers":[{"tags":[],"owner":{"account_id":9706811,"reputation":2870,"user_id":7200018,"display_name":"GnanaJeyam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1656438581,"creation_date":1656438581,"answer_id":72791049,"question_id":72789433,"body_markdown":"You can provide your own custom `AccessDeniedHandler` implementation.\r\n\r\n    @Bean\r\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n        AuthenticationManager authenticationManager = authenticationConfiguration.getAuthenticationManager();\r\n        var jwtAuthenticationFilter = new JwtAuthenticationFilter(authenticationManager);\r\n\r\n        var jwtAuthorisationFilter = new JwtAuthorisationFilter();\r\n\r\n        http.cors().and().csrf().disable().authorizeRequests()\r\n            .anyRequest().authenticated().and()\r\n            .addFilter(jwtAuthenticationFilter)\r\n            .addFilterAfter(jwtAuthorisationFilter, BasicAuthenticationFilter.class)\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n            .exceptionHandling()\r\n            .accessDeniedHandler( (request, response, exception) -&gt;\r\n                 response.sendError(HttpStatus.UNAUTHORIZED.value(), exception.getMessage()\r\n            ));\r\n\r\n        return http.build();\r\n    }","title":"change Spring Security to return 401 when authentication fails","body":"<p>You can provide your own custom <code>AccessDeniedHandler</code> implementation.</p>\n<pre><code>@Bean\npublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\n    AuthenticationManager authenticationManager = authenticationConfiguration.getAuthenticationManager();\n    var jwtAuthenticationFilter = new JwtAuthenticationFilter(authenticationManager);\n\n    var jwtAuthorisationFilter = new JwtAuthorisationFilter();\n\n    http.cors().and().csrf().disable().authorizeRequests()\n        .anyRequest().authenticated().and()\n        .addFilter(jwtAuthenticationFilter)\n        .addFilterAfter(jwtAuthorisationFilter, BasicAuthenticationFilter.class)\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .exceptionHandling()\n        .accessDeniedHandler( (request, response, exception) -&gt;\n             response.sendError(HttpStatus.UNAUTHORIZED.value(), exception.getMessage()\n        ));\n\n    return http.build();\n}\n</code></pre>\n"}],"owner":{"account_id":6138978,"reputation":2133,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2395,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72791049,"answer_count":1,"score":2,"last_activity_date":1656438581,"creation_date":1656430667,"question_id":72789433,"body_markdown":"In my Spring Boot (v. 2.7.0) app, I&#39;m using Spring Security for authentication. If a user attempts to login with invalid credentials, the server responds with a 403 (Forbidden) status code, but [I would expect 401][1] (Unauthorized) to be used instead.\r\n\r\nI can&#39;t find anything in my configuration that indicates the default behaviour of Spring Security has been overriden, but whether it has or not, I want 401 to be returned when authentication fails.\r\n\r\nI stepped through the relevant Spring Security code and it appears the Spring Security\r\nmethod `SimpleUrlAuthenticationFailureHandler.onAuthenticationFailure` is called when authentication fails. This method includes the line\r\n\r\n    response.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase());\r\n\r\nBut for some reason 403 is returned to the client - so I guess the response is being changed subsequent to the line above.\r\n\r\n**How can I change Spring Security to return 401 when authentication fails?** I&#39;ve included my security configuration below for reference.\r\n\r\n```java\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true, jsr250Enabled = true)\r\npublic class SecurityConfiguration {\r\n\r\n    @Autowired\r\n    private AuthenticationConfiguration authenticationConfiguration;\r\n\r\n    @Bean\r\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n        AuthenticationManager authenticationManager = authenticationConfiguration.getAuthenticationManager();\r\n        var jwtAuthenticationFilter = new JwtAuthenticationFilter(authenticationManager);\r\n\r\n        var jwtAuthorisationFilter = new JwtAuthorisationFilter();\r\n\r\n        http.cors().and().csrf().disable().authorizeRequests()\r\n            .anyRequest().authenticated().and()\r\n            .addFilter(jwtAuthenticationFilter)\r\n            .addFilterAfter(jwtAuthorisationFilter, BasicAuthenticationFilter.class)\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe `JwtAuthenticationFilter` calls `authenticationManager.authenticate` which causes a `org.springframework.security.authentication.BadCredentialsException` to be thrown if the credentials are invalid.\r\n\r\nUpdate\r\n----\r\nI tried adding a custom `AuthenticationFailureHandler` bean as described in [this article][2], but my custom bean is never invoked (the default bean `SimpleUrlAuthenticationFailureHandler` is called instead).\r\n\r\n  [1]: https://stackoverflow.com/questions/3297048/403-forbidden-vs-401-unauthorized-http-responses/6937030#6937030\r\n  [2]: https://www.baeldung.com/spring-security-exceptions","title":"change Spring Security to return 401 when authentication fails","body":"<p>In my Spring Boot (v. 2.7.0) app, I'm using Spring Security for authentication. If a user attempts to login with invalid credentials, the server responds with a 403 (Forbidden) status code, but <a href=\"https://stackoverflow.com/questions/3297048/403-forbidden-vs-401-unauthorized-http-responses/6937030#6937030\">I would expect 401</a> (Unauthorized) to be used instead.</p>\n<p>I can't find anything in my configuration that indicates the default behaviour of Spring Security has been overriden, but whether it has or not, I want 401 to be returned when authentication fails.</p>\n<p>I stepped through the relevant Spring Security code and it appears the Spring Security\nmethod <code>SimpleUrlAuthenticationFailureHandler.onAuthenticationFailure</code> is called when authentication fails. This method includes the line</p>\n<pre><code>response.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase());\n</code></pre>\n<p>But for some reason 403 is returned to the client - so I guess the response is being changed subsequent to the line above.</p>\n<p><strong>How can I change Spring Security to return 401 when authentication fails?</strong> I've included my security configuration below for reference.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true, jsr250Enabled = true)\npublic class SecurityConfiguration {\n\n    @Autowired\n    private AuthenticationConfiguration authenticationConfiguration;\n\n    @Bean\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\n        AuthenticationManager authenticationManager = authenticationConfiguration.getAuthenticationManager();\n        var jwtAuthenticationFilter = new JwtAuthenticationFilter(authenticationManager);\n\n        var jwtAuthorisationFilter = new JwtAuthorisationFilter();\n\n        http.cors().and().csrf().disable().authorizeRequests()\n            .anyRequest().authenticated().and()\n            .addFilter(jwtAuthenticationFilter)\n            .addFilterAfter(jwtAuthorisationFilter, BasicAuthenticationFilter.class)\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>The <code>JwtAuthenticationFilter</code> calls <code>authenticationManager.authenticate</code> which causes a <code>org.springframework.security.authentication.BadCredentialsException</code> to be thrown if the credentials are invalid.</p>\n<h2>Update</h2>\n<p>I tried adding a custom <code>AuthenticationFailureHandler</code> bean as described in <a href=\"https://www.baeldung.com/spring-security-exceptions\" rel=\"nofollow noreferrer\">this article</a>, but my custom bean is never invoked (the default bean <code>SimpleUrlAuthenticationFailureHandler</code> is called instead).</p>\n"},{"tags":["java","swing","background","jframe","jpanel"],"answers":[{"tags":[],"owner":{"account_id":15304588,"reputation":107,"user_id":11041807,"display_name":"P. Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1556244564,"creation_date":1556244564,"answer_id":55859892,"question_id":55859834,"body_markdown":"You are extending from Jframe so you need to change how you set the color, from this\r\n\r\n    setBackground(Color.BLACK);\r\n\r\nto this way\r\n\r\n    getContentPane().setBackground(Color.BLACK);","title":"Why won&#39;t my JPanel background color change?","body":"<p>You are extending from Jframe so you need to change how you set the color, from this</p>\n\n<pre><code>setBackground(Color.BLACK);\n</code></pre>\n\n<p>to this way</p>\n\n<pre><code>getContentPane().setBackground(Color.BLACK);\n</code></pre>\n"}],"owner":{"account_id":15664009,"reputation":47,"user_id":11302267,"display_name":"thesongib"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55859892,"answer_count":1,"score":0,"last_activity_date":1656438281,"creation_date":1556244013,"question_id":55859834,"body_markdown":"I have been trying to make the background of my JPanel in my frame to be black.  I can get my JButtons to show up in the panel, but the background is still not black as I set it.  I am not sure what I am doing wrong.\r\n\r\nI have tried setting the background of the frame and all panels to background color black.  I have made sure I have set everything to be visible.  I have also tried setting setOpaque to true, which did nothing so I removed it.\r\n\r\nThis is my frame class:\r\n```\r\npublic class GUI extends JFrame{\r\n\tpublic static void main(String[] args) {\r\n\t\tGUI frame = new GUI();\r\n\t}\r\n\t\r\n\tGUI(){\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tsetVisible(true);\r\n\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\tsetSize(500,500);\r\n\t\tsetTitle(&quot;Polygon Maker&quot;);\r\n\t\tDrawPane buttonPane = new DrawPane(false);\r\n\t\tadd(&quot;North&quot;, buttonPane);\r\n\t\tDrawPane drawPane = new DrawPane(true);\r\n\t\tadd(&quot;Center&quot;, drawPane);\r\n\t\t}\r\n}\r\n```\r\nAnd this is my panel class:\r\n```\r\n\tDrawPane() {\r\n\t\tdrawPane = false;\r\n\t\tsetLayout(new FlowLayout());\r\n\t\tsetBackground(Color.BLACK);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tDrawPane(boolean draw) {\r\n\t\tdrawPane = draw;\r\n\t\tsetLayout(new FlowLayout());\r\n\t\tsetBackground(Color.BLACK);\r\n\t\tsetVisible(true);\r\n\t\tif (!draw)\r\n\t\t\tbuttonSetup();\r\n\t\telse {\r\n\t\t\taddMouseListener(new Drawing());\r\n\t\t\tcurrent = new DrawPoly();\r\n\r\n\t\t}\r\n\r\n\t}\r\n```\r\n\r\nI am expecting to get a blank black frame with 3 buttons on the top, but instead I get a blank white frame with 3 buttons on the top.  I was trying to avoid the problem but now it is getting it the way of me continuing, and I have no idea what is causing the background not to show up.","title":"Why won&#39;t my JPanel background color change?","body":"<p>I have been trying to make the background of my JPanel in my frame to be black.  I can get my JButtons to show up in the panel, but the background is still not black as I set it.  I am not sure what I am doing wrong.</p>\n\n<p>I have tried setting the background of the frame and all panels to background color black.  I have made sure I have set everything to be visible.  I have also tried setting setOpaque to true, which did nothing so I removed it.</p>\n\n<p>This is my frame class:</p>\n\n<pre><code>public class GUI extends JFrame{\n    public static void main(String[] args) {\n        GUI frame = new GUI();\n    }\n\n    GUI(){\n        setLayout(new BorderLayout());\n        setVisible(true);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setSize(500,500);\n        setTitle(\"Polygon Maker\");\n        DrawPane buttonPane = new DrawPane(false);\n        add(\"North\", buttonPane);\n        DrawPane drawPane = new DrawPane(true);\n        add(\"Center\", drawPane);\n        }\n}\n</code></pre>\n\n<p>And this is my panel class:</p>\n\n<pre><code>    DrawPane() {\n        drawPane = false;\n        setLayout(new FlowLayout());\n        setBackground(Color.BLACK);\n        setVisible(true);\n    }\n\n    DrawPane(boolean draw) {\n        drawPane = draw;\n        setLayout(new FlowLayout());\n        setBackground(Color.BLACK);\n        setVisible(true);\n        if (!draw)\n            buttonSetup();\n        else {\n            addMouseListener(new Drawing());\n            current = new DrawPoly();\n\n        }\n\n    }\n</code></pre>\n\n<p>I am expecting to get a blank black frame with 3 buttons on the top, but instead I get a blank white frame with 3 buttons on the top.  I was trying to avoid the problem but now it is getting it the way of me continuing, and I have no idea what is causing the background not to show up.</p>\n"},{"tags":["java","swing","jpanel","jbutton"],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649873123,"creation_date":1649867962,"answer_id":71861001,"question_id":71860846,"body_markdown":"event.equals(dec) is never going to be true; an ActionEvent is never equals to a JButton. But you can use event.getSource();\r\n\r\n            if(event.getSource().equals(dec))\r\n                count--;\r\n            else count++;\r\n            label.setText(&quot;Value &quot;  + count);\r\n","title":"Incrementing/Decrementing using JPanel and JButton","body":"<p>event.equals(dec) is never going to be true; an ActionEvent is never equals to a JButton. But you can use event.getSource();</p>\n<pre><code>        if(event.getSource().equals(dec))\n            count--;\n        else count++;\n        label.setText(&quot;Value &quot;  + count);\n</code></pre>\n"}],"owner":{"account_id":24928050,"reputation":9,"user_id":18795534,"display_name":"Amir Goziyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656438179,"creation_date":1649867280,"question_id":71860846,"body_markdown":"I have been trying to solve this for quite some time now and I can&#39;t figure out what am I doing wrong here \r\n\r\nHere is the code:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n\r\n\tpublic class PushCounterPanelMath extends JPanel\r\n\t{\r\n\t\tprivate int count;\r\n\t\tprivate JButton inc;\r\n\t\tprivate JButton dec;\r\n\t\tprivate JLabel label;\r\n\r\n\t\tpublic PushCounterPanelMath()\r\n\t\t{\r\n\t\t\tcount = 0;\r\n\t\t\tinc = new JButton(&quot;Increment&quot;);\r\n\t\t\tdec = new JButton(&quot;Decrement&quot;);\r\n\t\t\tlabel = new JLabel();\r\n\t\t\tinc.addActionListener(new ButtonListener());\r\n\t\t\tdec.addActionListener(new ButtonListener());\r\n\t\t\tadd(inc);\r\n\t\t\tadd(dec);\r\n\t\t\tadd(label);\r\n\t\t\tsetBackground(Color.cyan);\r\n\t\t\tsetPreferredSize(new Dimension(300, 40));\r\n\t\t}\r\n\r\n\t\tprivate class ButtonListener implements ActionListener\r\n\t\t{\r\n\t\t\t\r\n\t\t\tpublic void actionPerformed(ActionEvent event)\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tcount++;\r\n\t\t\t\tlabel.setText(&quot;Value: &quot; + count);\r\n\t\t\t\tif(event.equals(dec))\r\n\t\t\t\t\tcount--;\r\n\t\t\t\tlabel.setText(&quot;Value &quot;  + count);\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n   \r\nI am trying to increment and decrement value using two buttons, but for some reason it only increments it whether I press &quot;Increment&quot; or Decrement&quot;\r\nHow can I fix this?","title":"Incrementing/Decrementing using JPanel and JButton","body":"<p>I have been trying to solve this for quite some time now and I can't figure out what am I doing wrong here</p>\n<p>Here is the code:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class PushCounterPanelMath extends JPanel\n{\n    private int count;\n    private JButton inc;\n    private JButton dec;\n    private JLabel label;\n\n    public PushCounterPanelMath()\n    {\n        count = 0;\n        inc = new JButton(&quot;Increment&quot;);\n        dec = new JButton(&quot;Decrement&quot;);\n        label = new JLabel();\n        inc.addActionListener(new ButtonListener());\n        dec.addActionListener(new ButtonListener());\n        add(inc);\n        add(dec);\n        add(label);\n        setBackground(Color.cyan);\n        setPreferredSize(new Dimension(300, 40));\n    }\n\n    private class ButtonListener implements ActionListener\n    {\n        \n        public void actionPerformed(ActionEvent event)\n        {\n            \n            count++;\n            label.setText(&quot;Value: &quot; + count);\n            if(event.equals(dec))\n                count--;\n            label.setText(&quot;Value &quot;  + count);\n        }\n    }\n}\n</code></pre>\n<p>I am trying to increment and decrement value using two buttons, but for some reason it only increments it whether I press &quot;Increment&quot; or Decrement&quot;\nHow can I fix this?</p>\n"},{"tags":["java","swing","jpanel","paintcomponent"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650343497,"creation_date":1650343497,"answer_id":71919792,"question_id":71919650,"body_markdown":"Java is case sensitive.  It&#39;s `mouseDragged`, not `MouseDragged`.  This is why you should always use `@Override` on methods you &quot;think&quot; you&#39;re overriding, this way you get compile time protection.\r\n\r\n# Runnable example...\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Point;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseMotionAdapter;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new PaintPanel());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class PaintPanel extends JPanel {\r\n            private int pointCount = 0;\r\n            // array of 10,000 java.awt.Point references\r\n            private Point[] points = new Point[10000];\r\n            // set up gui and register mouse event handler\r\n\r\n            public PaintPanel() {\r\n                addMouseMotionListener(new MouseMotionAdapter() {\r\n                    // store drag coordinates and repaint\r\n\r\n                    @Override\r\n                    public void mouseDragged(MouseEvent e) {\r\n                        if (pointCount &lt; points.length) {\r\n                            points[pointCount] = e.getPoint();\r\n                            pointCount++;\r\n                            repaint();\r\n                        } // end if\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 200);\r\n            }\r\n\r\n            // draw ovals in a 4 x 4 bounding box at specified location on the window\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);  // clear drawing area\r\n                g.setColor(Color.BLUE);\r\n                // draw all points in the array\r\n                for (int i = 0; i &lt; pointCount; i++) {\r\n                    g.fillOval(points[i].x, points[i].y, 4, 4);\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Mouse Drawing Application: Nothing shows up","body":"<p>Java is case sensitive.  It's <code>mouseDragged</code>, not <code>MouseDragged</code>.  This is why you should always use <code>@Override</code> on methods you &quot;think&quot; you're overriding, this way you get compile time protection.</p>\n<h1>Runnable example...</h1>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Point;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionAdapter;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new PaintPanel());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class PaintPanel extends JPanel {\n        private int pointCount = 0;\n        // array of 10,000 java.awt.Point references\n        private Point[] points = new Point[10000];\n        // set up gui and register mouse event handler\n\n        public PaintPanel() {\n            addMouseMotionListener(new MouseMotionAdapter() {\n                // store drag coordinates and repaint\n\n                @Override\n                public void mouseDragged(MouseEvent e) {\n                    if (pointCount &lt; points.length) {\n                        points[pointCount] = e.getPoint();\n                        pointCount++;\n                        repaint();\n                    } // end if\n                }\n            });\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 200);\n        }\n\n        // draw ovals in a 4 x 4 bounding box at specified location on the window\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);  // clear drawing area\n            g.setColor(Color.BLUE);\n            // draw all points in the array\n            for (int i = 0; i &lt; pointCount; i++) {\n                g.fillOval(points[i].x, points[i].y, 4, 4);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7123850,"reputation":1,"user_id":5447466,"display_name":"stupidmoron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656438154,"creation_date":1650342180,"question_id":71919650,"body_markdown":"This is a word-for-word example straight out of the book Java How to Program by Paul and Harvey Deitel.\r\n\r\nPaintPanel.java\r\n```\r\n// Using class MouseMotionAdapter\r\nimport java.awt.Point;\r\nimport java.awt.Graphics;\r\nimport java.awt.Color;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseMotionAdapter;\r\nimport javax.swing.JPanel;\r\n\r\npublic class PaintPanel extends JPanel {\r\n\tprivate int pointCount = 0;\r\n\t// array of 10,000 java.awt.Point references\r\n\tprivate Point[] points = new Point[10000];\r\n\t// set up gui and register mouse event handler\r\n\tpublic PaintPanel() {\r\n\t\taddMouseMotionListener(new MouseMotionAdapter() {\r\n\t\t\t// store drag coordinates and repaint\r\n\t\t\r\n\t\t\tpublic void MouseDragged(MouseEvent e) {\r\n\t\t\t\tif (pointCount &lt; points.length) {\r\n\t\t\t\t\tpoints[pointCount] = e.getPoint();\r\n\t\t\t\t\tpointCount++;\r\n\t\t\t\t\trepaint();\r\n\t\t\t\t} // end if\r\n\t\t\t}\r\n\t\t}\r\n\t\t);\r\n\t}\r\n\t\r\n\t// draw ovals in a 4 x 4 bounding box at specified location on the window\r\n\t@Override\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);  // clear drawing area\r\n\t\tg.setColor(Color.BLUE);\r\n\t\t// draw all points in the array\r\n\t\tfor(int i = 0; i &lt; pointCount; i++)\r\n\t\t\tg.fillOval(points[i].x, points[i].y, 4, 4);\r\n\t}\r\n}\r\n```\r\nDriver program Painter.java\r\n```\r\nimport java.awt.BorderLayout;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\n\r\npublic class Painter {\r\n\tpublic static void main(String[] args) {\r\n\t\tJFrame app = new JFrame(&quot;A Simple Paint Program&quot;);\r\n\t\tPaintPanel pp = new PaintPanel();\r\n\t\tapp.add(pp, BorderLayout.CENTER);\r\n\t\tapp.add(new JLabel(&quot;Drag the rat to draw&quot;), BorderLayout.SOUTH);\r\n\t\tapp.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tapp.setSize(400, 200);\r\n\t\tapp.setVisible(true);\r\n\t}\r\n}\r\n```\r\nWhen I run it, it shows the drawing panel but nothing happens when I try to draw on it with the mouse.  All code is copied verbatim from the book.  What gives?\t\r\n","title":"Mouse Drawing Application: Nothing shows up","body":"<p>This is a word-for-word example straight out of the book Java How to Program by Paul and Harvey Deitel.</p>\n<p>PaintPanel.java</p>\n<pre><code>// Using class MouseMotionAdapter\nimport java.awt.Point;\nimport java.awt.Graphics;\nimport java.awt.Color;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionAdapter;\nimport javax.swing.JPanel;\n\npublic class PaintPanel extends JPanel {\n    private int pointCount = 0;\n    // array of 10,000 java.awt.Point references\n    private Point[] points = new Point[10000];\n    // set up gui and register mouse event handler\n    public PaintPanel() {\n        addMouseMotionListener(new MouseMotionAdapter() {\n            // store drag coordinates and repaint\n        \n            public void MouseDragged(MouseEvent e) {\n                if (pointCount &lt; points.length) {\n                    points[pointCount] = e.getPoint();\n                    pointCount++;\n                    repaint();\n                } // end if\n            }\n        }\n        );\n    }\n    \n    // draw ovals in a 4 x 4 bounding box at specified location on the window\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);  // clear drawing area\n        g.setColor(Color.BLUE);\n        // draw all points in the array\n        for(int i = 0; i &lt; pointCount; i++)\n            g.fillOval(points[i].x, points[i].y, 4, 4);\n    }\n}\n</code></pre>\n<p>Driver program Painter.java</p>\n<pre><code>import java.awt.BorderLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\n\npublic class Painter {\n    public static void main(String[] args) {\n        JFrame app = new JFrame(&quot;A Simple Paint Program&quot;);\n        PaintPanel pp = new PaintPanel();\n        app.add(pp, BorderLayout.CENTER);\n        app.add(new JLabel(&quot;Drag the rat to draw&quot;), BorderLayout.SOUTH);\n        app.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        app.setSize(400, 200);\n        app.setVisible(true);\n    }\n}\n</code></pre>\n<p>When I run it, it shows the drawing panel but nothing happens when I try to draw on it with the mouse.  All code is copied verbatim from the book.  What gives?</p>\n"},{"tags":["java","multithreading","swing","jpanel","paintcomponent"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1650785549,"post_id":71986309,"comment_id":127200491,"body_markdown":"It&#39;s difficult to tell without a [mre] that we can copy to our IDE, run, and test.  What are the fish supposed to do?","body":"It&#39;s difficult to tell without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we can copy to our IDE, run, and test.  What are the fish supposed to do?"},{"owner":{"account_id":23230684,"reputation":73,"user_id":17321502,"display_name":"Michael ilkanayev"},"score":0,"creation_date":1650786153,"post_id":71986309,"comment_id":127200583,"body_markdown":"I&#39;m creating 5 threads that start to move in the aquarium at different speeds of x and y in the run() method and as soon as I press the button called &quot;food&quot; (located at the bottom of the panel) they should just get to the center of the panel.","body":"I&#39;m creating 5 threads that start to move in the aquarium at different speeds of x and y in the run() method and as soon as I press the button called &quot;food&quot; (located at the bottom of the panel) they should just get to the center of the panel."}],"answers":[{"tags":[],"owner":{"account_id":6350313,"reputation":1134,"user_id":5594167,"display_name":"Mr. Brickowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650790654,"creation_date":1650789446,"answer_id":71986763,"question_id":71986309,"body_markdown":"You only give a very little of your code. From my observation, I think this is that happening.\r\n\r\nThe fish movement is determined by two factors at every tick. The vertical direction and horizontal direction. Seems the fish cannot move pure vertical or horizontal. It has to move diagonally.\r\n\r\nConsider a situation, when a fish sits at the center of the screen above the worm. At the next tick, the fish move forward and downward. When it moves forward, it across the center so it want to turn back because if it keeps it direction, it will swim further away from the worm. At the next tick, it turns back and across the center again. This iteration continue until the worm is eaten. This casts an illusion of the fish bouncing back and forth.\r\n[![enter image description here][1]][1]\r\n\r\nI think this is not only a technical challenge but also a design challenge. How would you design the fish to move when this situation happens? Maybe you would allow the fish to straight descend to the worm? But it might looks unnatural. Or you would order the fish to swim forward a little bit and turn back follow a path? That is up to you.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jMNMg.png\r\n  [2]: https://i.stack.imgur.com/eT4ni.png","title":"How to make a drawing to move to the center of the panel?","body":"<p>You only give a very little of your code. From my observation, I think this is that happening.</p>\n<p>The fish movement is determined by two factors at every tick. The vertical direction and horizontal direction. Seems the fish cannot move pure vertical or horizontal. It has to move diagonally.</p>\n<p>Consider a situation, when a fish sits at the center of the screen above the worm. At the next tick, the fish move forward and downward. When it moves forward, it across the center so it want to turn back because if it keeps it direction, it will swim further away from the worm. At the next tick, it turns back and across the center again. This iteration continue until the worm is eaten. This casts an illusion of the fish bouncing back and forth.\n<a href=\"https://i.stack.imgur.com/jMNMg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jMNMg.png\" alt=\"enter image description here\" /></a></p>\n<p>I think this is not only a technical challenge but also a design challenge. How would you design the fish to move when this situation happens? Maybe you would allow the fish to straight descend to the worm? But it might looks unnatural. Or you would order the fish to swim forward a little bit and turn back follow a path? That is up to you.</p>\n<p><a href=\"https://i.stack.imgur.com/eT4ni.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eT4ni.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23230684,"reputation":73,"user_id":17321502,"display_name":"Michael ilkanayev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656438102,"creation_date":1650784896,"question_id":71986309,"body_markdown":"There is a food button that allows you to feed the fish and jellyfish with a worm and then the animals swim to the center of the panel to eat the worm. I was able to do this but the problem is that sometimes (it depends on the specific place of the drawing in the panel) I have a problem that the fish or jellyfish get stuck from side to side until they reach the center and it does not look good, the question is how can this be fixed?\r\n\r\nI made a video of my program running where you can see the above problem.you can see the problem at the 0:16 of the video with the yellow fish.\r\nlink : https://vimeo.com/702495703\r\n\r\nI attached my code that makes them move to the center of the panel:\r\n```\r\n\tpublic void EatTheWorm() {\r\n\t\t// changing the drection of the fish to the center of the panel\r\n\t\tif(x_front &gt; panel.getWidth()/2)\r\n\t\t   x_dir = -1;\r\n\t\telse\r\n\t\t   x_dir=1;\r\n\t\tif(y_front &gt; panel.getHeight()/2)\r\n\t\t   y_dir = -1;\r\n\t\telse\r\n\t\t   y_dir=1;\r\n\t\tthis.x_front+=horSpeed*x_dir;\r\n\t\tthis.y_front+=verSpeed*y_dir;\r\n\t}\t\t\r\n```\r\nThanks.","title":"How to make a drawing to move to the center of the panel?","body":"<p>There is a food button that allows you to feed the fish and jellyfish with a worm and then the animals swim to the center of the panel to eat the worm. I was able to do this but the problem is that sometimes (it depends on the specific place of the drawing in the panel) I have a problem that the fish or jellyfish get stuck from side to side until they reach the center and it does not look good, the question is how can this be fixed?</p>\n<p>I made a video of my program running where you can see the above problem.you can see the problem at the 0:16 of the video with the yellow fish.\nlink : <a href=\"https://vimeo.com/702495703\" rel=\"nofollow noreferrer\">https://vimeo.com/702495703</a></p>\n<p>I attached my code that makes them move to the center of the panel:</p>\n<pre><code>    public void EatTheWorm() {\n        // changing the drection of the fish to the center of the panel\n        if(x_front &gt; panel.getWidth()/2)\n           x_dir = -1;\n        else\n           x_dir=1;\n        if(y_front &gt; panel.getHeight()/2)\n           y_dir = -1;\n        else\n           y_dir=1;\n        this.x_front+=horSpeed*x_dir;\n        this.y_front+=verSpeed*y_dir;\n    }       \n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","wildfly","infinispan"],"answers":[{"tags":[],"owner":{"account_id":15529162,"reputation":11,"user_id":11203175,"display_name":"Tobias Cervin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656438093,"creation_date":1656438093,"answer_id":72790960,"question_id":69463849,"body_markdown":"That implicit marshaller has been deprectaded. If you want to continue using it add it through this new explicit dependency:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n       &lt;artifactId&gt;infinispan-jboss-marshalling&lt;/artifactId&gt;\r\n       &lt;version&gt;${infinispan.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Upgrade from Infinispan 8 to 12","body":"<p>That implicit marshaller has been deprectaded. If you want to continue using it add it through this new explicit dependency:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n   &lt;artifactId&gt;infinispan-jboss-marshalling&lt;/artifactId&gt;\n   &lt;version&gt;${infinispan.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1584872,"reputation":43,"user_id":1469473,"display_name":"Lluc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656438093,"creation_date":1633515524,"question_id":69463849,"body_markdown":"I am upgrading my project from a simple infinispan cache version 8 to 12, nothing fancy, just storing some serialized java objects on a file.\r\nAfter upgrading to infinispan 12 it is no longer possible to serialize many native java types such as HashMap, resulting in the following error:\r\n\r\n    Caused by: org.infinispan.commons.marshall.NotSerializableException: Object of type class java.util.HashMap expected to be marshallable\r\n\r\nHow should I handle this? Is there a way to provide a marshaller for HashMap and such?\r\n\r\n\r\nI tried without success changing the marshaller in the configuration xml file, like so:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;infinispan xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;urn:infinispan:config:8.1 http://www.infinispan.org/schemas/infinispan-config-8.1.xsd\r\n                            urn:infinispan:config:store:jdbc:8.0 http://www.infinispan.org/schemas/infinispan-cachestore-jpa-config-8.0.xsd&quot;\r\n    xmlns=&quot;urn:infinispan:config:8.1&quot;&gt;\r\n    &lt;cache-container default-cache=&quot;default&quot;&gt;\r\n    \t&lt;serialization marshaller=&quot;org.infinispan.commons.marshall.JavaSerializationMarshaller&quot;&gt;\r\n        &lt;local-cache name=&quot;default&quot;&gt;\r\n\t\t\t&lt;persistence passivation=&quot;false&quot;&gt;\r\n\t\t\t\t&lt;file-store fetch-state=&quot;true&quot; path=&quot;c:\\IFCDatax64\\cache&quot; preload=&quot;true&quot; purge=&quot;false&quot; read-only=&quot;false&quot; shared=&quot;false&quot;&gt;\r\n\t\t\t\t\t&lt;write-behind flush-lock-timeout=&quot;15000&quot; thread-pool-size=&quot;5&quot;/&gt;\r\n\t\t\t\t&lt;/file-store&gt;\r\n\t\t\t&lt;/persistence&gt;\r\n\t\t&lt;/local-cache&gt;\r\n    &lt;/cache-container&gt;\r\n&lt;/infinispan&gt;\r\n\r\nThis resulted in an unnamed module error:\r\n\r\n    org.infinispan.commons.CacheConfigurationException: java.lang.ClassCastException: class org.infinispan.commons.marshall.JavaSerializationMarshaller cannot be cast to class org.infinispan.commons.marshall.Marshaller (org.infinispan.commons.marshall.JavaSerializationMarshaller is in unnamed module of loader &#39;deployment.PFC-1.0.ear&#39; @53818c17; org.infinispan.commons.marshall.Marshaller is in unnamed module of loader &#39;org.infinispan.commons@12.1.4.Final&#39; @4bf5c7a4)\r\n\r\nIs there any other solution? How can I get this fixed as easily as possible?","title":"Upgrade from Infinispan 8 to 12","body":"<p>I am upgrading my project from a simple infinispan cache version 8 to 12, nothing fancy, just storing some serialized java objects on a file.\nAfter upgrading to infinispan 12 it is no longer possible to serialize many native java types such as HashMap, resulting in the following error:</p>\n<pre><code>Caused by: org.infinispan.commons.marshall.NotSerializableException: Object of type class java.util.HashMap expected to be marshallable\n</code></pre>\n<p>How should I handle this? Is there a way to provide a marshaller for HashMap and such?</p>\n<p>I tried without success changing the marshaller in the configuration xml file, like so:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n\n\n\n\n\n\n\n\n\n\n</p>\n<p>This resulted in an unnamed module error:</p>\n<pre><code>org.infinispan.commons.CacheConfigurationException: java.lang.ClassCastException: class org.infinispan.commons.marshall.JavaSerializationMarshaller cannot be cast to class org.infinispan.commons.marshall.Marshaller (org.infinispan.commons.marshall.JavaSerializationMarshaller is in unnamed module of loader 'deployment.PFC-1.0.ear' @53818c17; org.infinispan.commons.marshall.Marshaller is in unnamed module of loader 'org.infinispan.commons@12.1.4.Final' @4bf5c7a4)\n</code></pre>\n<p>Is there any other solution? How can I get this fixed as easily as possible?</p>\n"},{"tags":["java","json","inheritance","casting","parent-child"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1656346726,"post_id":72775257,"comment_id":128544116,"body_markdown":"You&#39;ll need to add a field identifying the type of bike that also gets written to the json, so you can create the correct subtype when deserializing.","body":"You&#39;ll need to add a field identifying the type of bike that also gets written to the json, so you can create the correct subtype when deserializing."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1656347304,"post_id":72775257,"comment_id":128544335,"body_markdown":"Does this answer your question? [How to handle deserializing with polymorphism?](https://stackoverflow.com/questions/15736654/how-to-handle-deserializing-with-polymorphism)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15736654/how-to-handle-deserializing-with-polymorphism\">How to handle deserializing with polymorphism?</a>"},{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1656348151,"post_id":72775257,"comment_id":128544690,"body_markdown":"@daniu I do believe that a custom deserialization method might be necessary.","body":"@daniu I do believe that a custom deserialization method might be necessary."},{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1656348153,"post_id":72775257,"comment_id":128544691,"body_markdown":"@Chaosfire, I can&#39;t use that code in my situation so I am looking for an answer that is not fixing the GSON code. Unless that is the only way to do it.","body":"@Chaosfire, I can&#39;t use that code in my situation so I am looking for an answer that is not fixing the GSON code. Unless that is the only way to do it."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656434053,"creation_date":1656434053,"answer_id":72790203,"question_id":72775257,"body_markdown":"In my knowledge you would need custom serialization/deserialization. I don&#39;t think Gson has functionality add type information to json.\r\n```\r\npublic class BikeTypeAdapter implements JsonSerializer&lt;Bike&gt;, JsonDeserializer&lt;Bike&gt; {\r\n\r\n  private final Gson gson = new Gson();\r\n  private final String typeField = &quot;type&quot;;\r\n\r\n  @Override\r\n  public Bike deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n    String type = ((JsonObject) json).get(this.typeField).getAsString();\r\n    Bike bike;\r\n    try {\r\n      //instantiate with default constructor\r\n      bike = (Bike) Class.forName(type).getConstructor().newInstance();\r\n    } catch (ReflectiveOperationException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n    bike.setColor(((JsonObject) json).get(&quot;color&quot;).getAsString());\r\n    bike.setName(((JsonObject) json).get(&quot;name&quot;).getAsString());\r\n    return bike;\r\n  }\r\n\r\n  @Override\r\n  public JsonElement serialize(Bike src, Type typeOfSrc, JsonSerializationContext context) {\r\n    JsonObject object = this.gson.toJsonTree(src).getAsJsonObject();\r\n    object.addProperty(this.typeField, src.getClass().getCanonicalName());\r\n    return object;\r\n  }\r\n}\r\n```\r\nSomewhat simplified example, which adds property with canonical class name during serialization, and uses it during deserialization to create instance of correct class.\r\n\r\nExample usage:\r\n```\r\npublic static void main(String[] args) {\r\n  Garage garage = new Garage();\r\n  garage.bikes.add(new Bike(&quot;normal&quot;, &quot;red&quot;));\r\n  garage.bikes.add(new TrickBike(&quot;trick&quot;, &quot;blue&quot;));\r\n  garage.bikes.add(new FailBike(&quot;fail&quot;, &quot;green&quot;));\r\n  Gson gson = new GsonBuilder()\r\n          .registerTypeAdapter(Bike.class, new BikeTypeAdapter())\r\n          .create();\r\n  String json = gson.toJson(garage);\r\n  System.out.println(json);\r\n  Garage garage1 = gson.fromJson(json, Garage.class);\r\n  System.out.println(garage1);\r\n}\r\n```","title":"Parent-Child casting after reading back from JSON","body":"<p>In my knowledge you would need custom serialization/deserialization. I don't think Gson has functionality add type information to json.</p>\n<pre><code>public class BikeTypeAdapter implements JsonSerializer&lt;Bike&gt;, JsonDeserializer&lt;Bike&gt; {\n\n  private final Gson gson = new Gson();\n  private final String typeField = &quot;type&quot;;\n\n  @Override\n  public Bike deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n    String type = ((JsonObject) json).get(this.typeField).getAsString();\n    Bike bike;\n    try {\n      //instantiate with default constructor\n      bike = (Bike) Class.forName(type).getConstructor().newInstance();\n    } catch (ReflectiveOperationException e) {\n      throw new RuntimeException(e);\n    }\n    bike.setColor(((JsonObject) json).get(&quot;color&quot;).getAsString());\n    bike.setName(((JsonObject) json).get(&quot;name&quot;).getAsString());\n    return bike;\n  }\n\n  @Override\n  public JsonElement serialize(Bike src, Type typeOfSrc, JsonSerializationContext context) {\n    JsonObject object = this.gson.toJsonTree(src).getAsJsonObject();\n    object.addProperty(this.typeField, src.getClass().getCanonicalName());\n    return object;\n  }\n}\n</code></pre>\n<p>Somewhat simplified example, which adds property with canonical class name during serialization, and uses it during deserialization to create instance of correct class.</p>\n<p>Example usage:</p>\n<pre><code>public static void main(String[] args) {\n  Garage garage = new Garage();\n  garage.bikes.add(new Bike(&quot;normal&quot;, &quot;red&quot;));\n  garage.bikes.add(new TrickBike(&quot;trick&quot;, &quot;blue&quot;));\n  garage.bikes.add(new FailBike(&quot;fail&quot;, &quot;green&quot;));\n  Gson gson = new GsonBuilder()\n          .registerTypeAdapter(Bike.class, new BikeTypeAdapter())\n          .create();\n  String json = gson.toJson(garage);\n  System.out.println(json);\n  Garage garage1 = gson.fromJson(json, Garage.class);\n  System.out.println(garage1);\n}\n</code></pre>\n"}],"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656437832,"creation_date":1656346453,"question_id":72775257,"body_markdown":"I have a parent, lets call it Bike that has a name and a color. \r\n```\r\npublic class Bike(){\r\n    String name;\r\n    String color;\r\n\r\n}\r\n```\r\n\r\nI have 2 children \r\n\r\n```\r\npublic class TrickBike extends Bike(){\r\n    ...\r\n    ...\r\n    public doTrick(){\r\n\r\n    }\r\n}\r\n\r\npublic class FailBike extends Bike(){\r\n   ...\r\n   ...\r\n   public doFail(){\r\n\r\n   }\r\n}\r\n\r\n```\r\nThese all have appropriate construtor super calls and everything. I now have a garage that holds bikes. \r\n\r\n``` \r\npublic class Garage(){\r\n     List&lt;Bike&gt; bikes;\r\n\r\n}\r\n```\r\n\r\nI add a bunch of bikes, all 3 types(```Bike, TrickBike,FailBike```). Now, I write this to a JSON String and dump to file with GSON. I then at a later time get the Garage from the JSON file with GSON and I want to try to ```doTrick()``` on a ```TrickBike```. I can&#39;t cast `Bike` to `TrickBike` now because of the Json conversion (this is from trial and error and getting exception in java). So how do I restore this child functionality? \r\n\r\nIs there a safe way of doing this? An unsafe way? If I try `doTrick()` on a `FailBike` what happens? Can I get the `Bike` to try and `doTrick()`?\r\n\r\nThanks. \r\n\r\nEDIT: I would like to fix this post-GSON read in. @Chaosfire mentioned copying some GSON source code from the linked question but I would not like to do this for a variety of reasons. Also, I am not reading types `TrickBike` and `Bike` or `FailBike` in. I am reading in the `Garage` which merely has a `List&lt;Bike&gt;` so that wouldn&#39;t work. \r\n\r\n\r\n\r\nSOLUTION: I migrated over to using jackson and was able to successfully implement this behavior using annotations and @JsonTypeInfo with type labels. So Jackson &gt; Gson for polymorphism. ","title":"Parent-Child casting after reading back from JSON","body":"<p>I have a parent, lets call it Bike that has a name and a color.</p>\n<pre><code>public class Bike(){\n    String name;\n    String color;\n\n}\n</code></pre>\n<p>I have 2 children</p>\n<pre><code>public class TrickBike extends Bike(){\n    ...\n    ...\n    public doTrick(){\n\n    }\n}\n\npublic class FailBike extends Bike(){\n   ...\n   ...\n   public doFail(){\n\n   }\n}\n\n</code></pre>\n<p>These all have appropriate construtor super calls and everything. I now have a garage that holds bikes.</p>\n<pre><code>public class Garage(){\n     List&lt;Bike&gt; bikes;\n\n}\n</code></pre>\n<p>I add a bunch of bikes, all 3 types(<code>Bike, TrickBike,FailBike</code>). Now, I write this to a JSON String and dump to file with GSON. I then at a later time get the Garage from the JSON file with GSON and I want to try to <code>doTrick()</code> on a <code>TrickBike</code>. I can't cast <code>Bike</code> to <code>TrickBike</code> now because of the Json conversion (this is from trial and error and getting exception in java). So how do I restore this child functionality?</p>\n<p>Is there a safe way of doing this? An unsafe way? If I try <code>doTrick()</code> on a <code>FailBike</code> what happens? Can I get the <code>Bike</code> to try and <code>doTrick()</code>?</p>\n<p>Thanks.</p>\n<p>EDIT: I would like to fix this post-GSON read in. @Chaosfire mentioned copying some GSON source code from the linked question but I would not like to do this for a variety of reasons. Also, I am not reading types <code>TrickBike</code> and <code>Bike</code> or <code>FailBike</code> in. I am reading in the <code>Garage</code> which merely has a <code>List&lt;Bike&gt;</code> so that wouldn't work.</p>\n<p>SOLUTION: I migrated over to using jackson and was able to successfully implement this behavior using annotations and @JsonTypeInfo with type labels. So Jackson &gt; Gson for polymorphism.</p>\n"},{"tags":["java","swing","jpanel","drawing","paint"],"comments":[{"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"score":0,"creation_date":1652473126,"post_id":72234925,"comment_id":127623491,"body_markdown":"You have to use radians for cos and sin functions.","body":"You have to use radians for cos and sin functions."},{"owner":{"account_id":25265391,"reputation":39,"user_id":19095666,"display_name":"Narj"},"score":0,"creation_date":1652477308,"post_id":72234925,"comment_id":127624402,"body_markdown":"@user16320675 I forgot to mention the StackoverflowError, you are right on this, by deleting this and changing to Math.sin(Math.toRadians((i*360/n))) (and cos)! Now I just need to figure out how to move the circle between the points instead of drawing 8 different ones, thank you.","body":"@user16320675 I forgot to mention the StackoverflowError, you are right on this, by deleting this and changing to Math.sin(Math.toRadians((i*360/n))) (and cos)! Now I just need to figure out how to move the circle between the points instead of drawing 8 different ones, thank you."}],"answers":[{"tags":[],"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652478308,"creation_date":1652473221,"answer_id":72235043,"question_id":72234925,"body_markdown":"`Math.sin` and `Math.cos` methods expect a value in radians. You can convert degrees to radians by multiplying with `Math.PI/180`\n\nTherefore, try changing `Math.cos(i * 360 / n)` and `Math.sin(i * 360 / n)` to `Math.cos((i * 360 / n)*(Math.PI/180))` and `Math.sin((i * 360 / n)*(Math.PI/180))`.","title":"Issues my method to get a 2D circle to move in a circle","body":"<p><code>Math.sin</code> and <code>Math.cos</code> methods expect a value in radians. You can convert degrees to radians by multiplying with <code>Math.PI/180</code></p>\n<p>Therefore, try changing <code>Math.cos(i * 360 / n)</code> and <code>Math.sin(i * 360 / n)</code> to <code>Math.cos((i * 360 / n)*(Math.PI/180))</code> and <code>Math.sin((i * 360 / n)*(Math.PI/180))</code>.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652621227,"creation_date":1652482808,"answer_id":72236114,"question_id":72234925,"body_markdown":"This should help you get started.  You can modify it as you see fit. It simply has an outer circle revolve around an inner red dot at the center of the panel.\r\n\r\n- First, rotate the graphics context, and not the circle location around the center.  Thus, no trig is required.\r\n- `Anti-aliasing` simply fools the eye into thinking the graphics are smoother.\r\n- `BasicStroke` sets the thickness of the line\r\n- you need to put the panel in a frame.\r\n- and `super.paintComponent(g)` should be first statement in `paintComponent` to clear panel (and do other things).\r\n- the timer updates the angle by increment and invokes repaint. A larger increment will make a quicker but more &quot;jerky&quot; motion about the center.  If you set the angle to `Math.PI/4`, then you need to increase the timer delay (try about 1000ms).\r\n- Check out the [Java Tutorials](http://docs.oracle.com/javase/tutorial/index.html) for more on painting.\r\n- Anything else I omitted or forgot should be documented in the JavaDocs.\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.RenderingHints;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.Timer;\r\n\r\npublic class DrawCircle extends JPanel {\r\n\tint width = 500, height = 500;\r\n\tfinal int xc = width/2, yc = height/2;\r\n\tint r = 100; // radius from center of panel to center of outer circle\r\n\tint diam = 50; // outer circle diamter\r\n\tdouble inc = Math.PI/360; \r\n\tdouble theta = 0;\r\n\tJFrame f = new JFrame();\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(()-&gt; new DrawCircle().start());\r\n\t}\r\n\r\n\tpublic void start() {\r\n\t\tf.add(this);\r\n\t\tf.pack();\r\n\t\tf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tf.setLocationRelativeTo(null);\r\n\t\tf.setVisible(true);\r\n\t\tTimer timer = new Timer(0, (ae)-&gt; { theta += inc; repaint();});\r\n\t\ttimer.setDelay(20);\r\n\t\ttimer.start();\r\n\t}\r\n\t@Override\r\n\tpublic Dimension getPreferredSize() {\r\n\t\treturn new Dimension(width, height);\r\n\t}\r\n    @Override\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON );\r\n\t\tg2d.rotate(theta, xc, yc);\r\n\t\tg2d.setColor(Color.red);\r\n\t\tg2d.fillOval(xc-3, yc-3, 6, 6); // center of panel\r\n\t\tg2d.setStroke(new BasicStroke(3));\r\n\t\tg2d.setColor(Color.blue);\r\n//\t\tg2d.drawLine(xc,yc, xc+r, yc); // tether between centers \r\n\t\tg2d.drawOval(xc+r-diam/2, yc-diam/2, diam,diam);\r\n\t}\r\n\r\n}\r\n```\r\n**Updated Answer**\r\n\r\nOK, there are two fundamental things you are doing wrong.\r\n- You are not adding `super.paintComponent(g)` as the first statement in your `paintComponent` method.\r\n- you are overridding `paint(Graphics g)` (whether you intend to or not) because it is also public and is inherited by `JPanel` from `JComponent`.  Do not use `paint()` as it isn&#39;t necessary here (maybe in some applications but I have never had the need).  Move all the code in there to `paintComponent`\r\n\r\nYou should also move the timer code outside of `paintComponent`.  It only needs to be defined once and is run in the background. It will continue to call your `ActionListener class` until you stop it.\r\n\r\n\r\nNow, after doing the above you might ask &quot;why is only one circle showing up when I draw?&quot;  The obvious answer is that I only wanted to draw one.  But why doesn&#39;t it get repeated each time?\r\n\r\nBecause `super.paintComponent(g)` clears the `JPanel` each time `paintComponent` is invoked just as it is supposed to.  So if you want to draw multiple circles (or other things), you need to put them in a list and draw them from **within** `paintComponent`. Since all events including painting and your timer are run in series on a single thread (the Event Dispatch Thread) it is important to keep processing to a minimum.  So when possible, most calculations should be done outside of that thread.  `EDT processing should be as simple and as quick as possible.`\r\n\r\nMy first answer showed a circle orbiting a point.  But perhaps that is not what you want.  You may just want to position circles uniformly around the center from a fixed distance. I have provided two methods of doing that.\r\n- Using rotate as before.  Imo, it is the simplest. The angle is fixed and each time rotate is called, it is additive.  So just call that method `nCircle` times and draw the circle.  And remember to compute the `x and y` coordinates to correct for the radius. \r\n- Using trig to calculate the location of the circles. This uses a list of angles based on the `nCircles`. For each iteration, `x and y` are computed based on the radius and current angle.\r\n\r\nBoth of these are shown in different colors to demonstrate their overlay.\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Point;\r\nimport java.awt.RenderingHints;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class DrawCircle2 extends JPanel {\r\n\tint width = 500, height = 500;\r\n\tfinal int xc = width / 2, yc = height / 2;\r\n\tint r = 100; // radius from center of panel to center of outer circle\r\n\tint diam = 50; // outer circle diamter\r\n\tint nCircles = 8; // number of circles\r\n\t\r\n\tdouble theta = Math.PI*2/nCircles;\r\n\t\r\n    List&lt;Point&gt; coords1 = fillForTrig();\r\n\tJFrame f = new JFrame();\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(() -&gt; new DrawCircle2().start());\r\n\t}\r\n\t\r\n\tprivate List&lt;Point&gt; fillForTrig() {\r\n\t\tList&lt;Point&gt; list = new ArrayList&lt;&gt;();\r\n\t\tfor (int i = 0; i &lt; nCircles; i++) {\r\n\t\t\tint x = xc+(int)(r*Math.sin(i*theta));\r\n\t\t\tint y = yc+(int)(r*Math.cos(i*theta));\r\n\t\t\tlist.add(new Point(x,y));\r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n\t\r\n\t\t\r\n\tpublic void start() {\r\n\t\t\r\n\t\tf.add(this);\r\n\t\tf.pack();\r\n\t\tf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tf.setLocationRelativeTo(null);\r\n\t\tf.setVisible(true);\r\n\t}\r\n\r\n\t\r\n\tpublic Dimension getPreferredSize() {\r\n\t\treturn new Dimension(width, height);\r\n\t}\r\n\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\tGraphics2D g2d = (Graphics2D) g;\r\n\t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n\t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\tdrawUsingRotate(g2d);\r\n//\t\tdrawUsingTrig(g2d);\r\n\t}\r\n\r\n\tprivate void drawUsingRotate(Graphics2D g2d) {\r\n\t\tg2d = (Graphics2D)g2d.create();\r\n\t\tg2d.setColor(Color.RED);\r\n\t\t//fixed positions for radius as context is rotated\r\n\t\tint xx =  0;\r\n\t\tint yy  = r;\r\n\t\tfor (int i = 0; i &lt; nCircles;i++) {\r\n\t\t\t g2d.rotate(theta, xc, yc);\r\n\t\t\t // xx-diam/2 just places the center of the orbiting circle at\r\n\t\t\t // the proper radius from the center of the panel. Same for yy.\r\n\t\t\t g2d.drawOval(xc + xx - diam / 2, yc + yy - diam / 2, diam,\r\n\t\t\t\t\t\tdiam);\r\n\t\t\t\r\n\t\t }\r\n\t\t g2d.dispose();\r\n\t}\r\n\tprivate void drawUsingTrig(Graphics2D g2d) {\r\n\t\tg2d = (Graphics2D)g2d.create();\r\n\t\tg2d.setColor(Color.BLUE);\r\n\t\tfor (Point p : coords1) {\r\n\t\t\tint x = (int)p.getX();\r\n\t\t\tint y = (int)p.getY();\r\n\t\t\tg2d.drawOval(x-diam/2, y-diam/2, diam, diam);\r\n\t\t}\r\n\t\tg2d.dispose();\r\n\t}\r\n}\r\n","title":"Issues my method to get a 2D circle to move in a circle","body":"<p>This should help you get started.  You can modify it as you see fit. It simply has an outer circle revolve around an inner red dot at the center of the panel.</p>\n<ul>\n<li>First, rotate the graphics context, and not the circle location around the center.  Thus, no trig is required.</li>\n<li><code>Anti-aliasing</code> simply fools the eye into thinking the graphics are smoother.</li>\n<li><code>BasicStroke</code> sets the thickness of the line</li>\n<li>you need to put the panel in a frame.</li>\n<li>and <code>super.paintComponent(g)</code> should be first statement in <code>paintComponent</code> to clear panel (and do other things).</li>\n<li>the timer updates the angle by increment and invokes repaint. A larger increment will make a quicker but more &quot;jerky&quot; motion about the center.  If you set the angle to <code>Math.PI/4</code>, then you need to increase the timer delay (try about 1000ms).</li>\n<li>Check out the <a href=\"http://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">Java Tutorials</a> for more on painting.</li>\n<li>Anything else I omitted or forgot should be documented in the JavaDocs.</li>\n</ul>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n\npublic class DrawCircle extends JPanel {\n    int width = 500, height = 500;\n    final int xc = width/2, yc = height/2;\n    int r = 100; // radius from center of panel to center of outer circle\n    int diam = 50; // outer circle diamter\n    double inc = Math.PI/360; \n    double theta = 0;\n    JFrame f = new JFrame();\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(()-&gt; new DrawCircle().start());\n    }\n\n    public void start() {\n        f.add(this);\n        f.pack();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n        Timer timer = new Timer(0, (ae)-&gt; { theta += inc; repaint();});\n        timer.setDelay(20);\n        timer.start();\n    }\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(width, height);\n    }\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON );\n        g2d.rotate(theta, xc, yc);\n        g2d.setColor(Color.red);\n        g2d.fillOval(xc-3, yc-3, 6, 6); // center of panel\n        g2d.setStroke(new BasicStroke(3));\n        g2d.setColor(Color.blue);\n//      g2d.drawLine(xc,yc, xc+r, yc); // tether between centers \n        g2d.drawOval(xc+r-diam/2, yc-diam/2, diam,diam);\n    }\n\n}\n</code></pre>\n<p><strong>Updated Answer</strong></p>\n<p>OK, there are two fundamental things you are doing wrong.</p>\n<ul>\n<li>You are not adding <code>super.paintComponent(g)</code> as the first statement in your <code>paintComponent</code> method.</li>\n<li>you are overridding <code>paint(Graphics g)</code> (whether you intend to or not) because it is also public and is inherited by <code>JPanel</code> from <code>JComponent</code>.  Do not use <code>paint()</code> as it isn't necessary here (maybe in some applications but I have never had the need).  Move all the code in there to <code>paintComponent</code></li>\n</ul>\n<p>You should also move the timer code outside of <code>paintComponent</code>.  It only needs to be defined once and is run in the background. It will continue to call your <code>ActionListener class</code> until you stop it.</p>\n<p>Now, after doing the above you might ask &quot;why is only one circle showing up when I draw?&quot;  The obvious answer is that I only wanted to draw one.  But why doesn't it get repeated each time?</p>\n<p>Because <code>super.paintComponent(g)</code> clears the <code>JPanel</code> each time <code>paintComponent</code> is invoked just as it is supposed to.  So if you want to draw multiple circles (or other things), you need to put them in a list and draw them from <strong>within</strong> <code>paintComponent</code>. Since all events including painting and your timer are run in series on a single thread (the Event Dispatch Thread) it is important to keep processing to a minimum.  So when possible, most calculations should be done outside of that thread.  <code>EDT processing should be as simple and as quick as possible.</code></p>\n<p>My first answer showed a circle orbiting a point.  But perhaps that is not what you want.  You may just want to position circles uniformly around the center from a fixed distance. I have provided two methods of doing that.</p>\n<ul>\n<li>Using rotate as before.  Imo, it is the simplest. The angle is fixed and each time rotate is called, it is additive.  So just call that method <code>nCircle</code> times and draw the circle.  And remember to compute the <code>x and y</code> coordinates to correct for the radius.</li>\n<li>Using trig to calculate the location of the circles. This uses a list of angles based on the <code>nCircles</code>. For each iteration, <code>x and y</code> are computed based on the radius and current angle.</li>\n</ul>\n<p>Both of these are shown in different colors to demonstrate their overlay.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.RenderingHints;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class DrawCircle2 extends JPanel {\n    int width = 500, height = 500;\n    final int xc = width / 2, yc = height / 2;\n    int r = 100; // radius from center of panel to center of outer circle\n    int diam = 50; // outer circle diamter\n    int nCircles = 8; // number of circles\n    \n    double theta = Math.PI*2/nCircles;\n    \n    List&lt;Point&gt; coords1 = fillForTrig();\n    JFrame f = new JFrame();\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new DrawCircle2().start());\n    }\n    \n    private List&lt;Point&gt; fillForTrig() {\n        List&lt;Point&gt; list = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; nCircles; i++) {\n            int x = xc+(int)(r*Math.sin(i*theta));\n            int y = yc+(int)(r*Math.cos(i*theta));\n            list.add(new Point(x,y));\n        }\n        return list;\n    }\n    \n        \n    public void start() {\n        \n        f.add(this);\n        f.pack();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n\n    \n    public Dimension getPreferredSize() {\n        return new Dimension(width, height);\n    }\n\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        drawUsingRotate(g2d);\n//      drawUsingTrig(g2d);\n    }\n\n    private void drawUsingRotate(Graphics2D g2d) {\n        g2d = (Graphics2D)g2d.create();\n        g2d.setColor(Color.RED);\n        //fixed positions for radius as context is rotated\n        int xx =  0;\n        int yy  = r;\n        for (int i = 0; i &lt; nCircles;i++) {\n             g2d.rotate(theta, xc, yc);\n             // xx-diam/2 just places the center of the orbiting circle at\n             // the proper radius from the center of the panel. Same for yy.\n             g2d.drawOval(xc + xx - diam / 2, yc + yy - diam / 2, diam,\n                        diam);\n            \n         }\n         g2d.dispose();\n    }\n    private void drawUsingTrig(Graphics2D g2d) {\n        g2d = (Graphics2D)g2d.create();\n        g2d.setColor(Color.BLUE);\n        for (Point p : coords1) {\n            int x = (int)p.getX();\n            int y = (int)p.getY();\n            g2d.drawOval(x-diam/2, y-diam/2, diam, diam);\n        }\n        g2d.dispose();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25265391,"reputation":39,"user_id":19095666,"display_name":"Narj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72236114,"answer_count":2,"score":0,"last_activity_date":1656437653,"creation_date":1652472514,"question_id":72234925,"body_markdown":"OBS! Changed as part of the question has been answered.\r\n\r\nMy math has been fixed due to your help and input, the same with StackOverflowError but I still can get my head around how to make the circle move from one x,y point to another. \r\nCurrently I just repeat the drawing multiple places. \r\n\r\n```\r\npublic class MyFrame extends JPanel {\r\n        int xc = 300, yc = 300, r = 100, diam = 50;\r\n        double inc = Math.PI / 360, theta = 0;\r\n\r\n        public void paintComponent(Graphics g) {\r\n\r\n                Timer timer = new Timer(0, new ActionListener() {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) {\r\n                                theta = theta + inc;\r\n                                repaint();\r\n                        }\r\n                });\r\n                timer.setDelay(2);\r\n                timer.start();\r\n        }\r\n        @Override\r\n        public void paint(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g;\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON ); //smooth the border around the circle\r\n                g2d.rotate(theta, xc, yc);\r\n                g2d.setColor(Color.blue);\r\n                g2d.drawOval(xc + r - diam / 2, yc + r - diam / 2, diam, diam);\r\npaintComponent(g);\r\n        }\r\n}\r\n ```","title":"Issues my method to get a 2D circle to move in a circle","body":"<p>OBS! Changed as part of the question has been answered.</p>\n<p>My math has been fixed due to your help and input, the same with StackOverflowError but I still can get my head around how to make the circle move from one x,y point to another.\nCurrently I just repeat the drawing multiple places.</p>\n<pre><code>public class MyFrame extends JPanel {\n        int xc = 300, yc = 300, r = 100, diam = 50;\n        double inc = Math.PI / 360, theta = 0;\n\n        public void paintComponent(Graphics g) {\n\n                Timer timer = new Timer(0, new ActionListener() {\n                        @Override\n                        public void actionPerformed(ActionEvent e) {\n                                theta = theta + inc;\n                                repaint();\n                        }\n                });\n                timer.setDelay(2);\n                timer.start();\n        }\n        @Override\n        public void paint(Graphics g) {\n                super.paintComponent(g);\n                Graphics2D g2d = (Graphics2D) g;\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON ); //smooth the border around the circle\n                g2d.rotate(theta, xc, yc);\n                g2d.setColor(Color.blue);\n                g2d.drawOval(xc + r - diam / 2, yc + r - diam / 2, diam, diam);\npaintComponent(g);\n        }\n}\n</code></pre>\n"},{"tags":["java","swing","layout","jpanel","scrollable"],"comments":[{"owner":{"account_id":25048022,"reputation":15,"user_id":18904244,"display_name":"Ozgur"},"score":0,"creation_date":1652169132,"post_id":72181297,"comment_id":127534542,"body_markdown":"@ user16320675. Thanks for the corrections. 1) Last line removed; 2) panel is only added to scrPane; 3) preferred size is set for panel; 4) Bounds of scrPane are set; 5) frame is set visible at the last line (I think that&#39;s what you meant). Now, I can see the scrollbars, but I can only scroll a little bit. I need to scroll and see the bottom of the sinusoid. With layout managers I get unexpected results. I can&#39;t put the components to the correct coordinates and I can&#39;t set the size and bounds of components. That&#39;s the reason why I prefer manually adjusting the components.","body":"@ user16320675. Thanks for the corrections. 1) Last line removed; 2) panel is only added to scrPane; 3) preferred size is set for panel; 4) Bounds of scrPane are set; 5) frame is set visible at the last line (I think that&#39;s what you meant). Now, I can see the scrollbars, but I can only scroll a little bit. I need to scroll and see the bottom of the sinusoid. With layout managers I get unexpected results. I can&#39;t put the components to the correct coordinates and I can&#39;t set the size and bounds of components. That&#39;s the reason why I prefer manually adjusting the components."}],"answers":[{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652172482,"creation_date":1652169693,"answer_id":72182664,"question_id":72181297,"body_markdown":"Here a minimal example of how it *can* be done.\r\n\r\nThe component inside the scroll pane must implement the `Scrollable` interface or have the preferred size set, used by the scroll pane to determine the size of its viewport view. \r\n\r\nI preferred overriding `getPreferredSize`, so it *dynamically* changes if the image is changed (not possible in this minimal example) and to avoid having the preferred size *externally* changed by `setPreferredSize()`.\r\n\r\n````java\r\npublic class DrawSinus2 {\r\n\r\n    public static void main(String[] args) {\r\n        // Swing&#39;s Thread Police: All Swing components and related classes, unless\r\n        // otherwise documented, must be accessed on the event dispatching thread.\r\n        SwingUtilities.invokeLater(DrawSinus2::initGUI);\r\n    }\r\n    \r\n    private static void initGUI() {\r\n        // Panel to draw image\r\n        JPanel sinusPanel = new JPanel() {\r\n            private final Image image = generateSinus();\r\n            \r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                if (image != null) {\r\n                    g.drawImage(image, 0, 0, this);\r\n                }\r\n            }\r\n            \r\n            // Preferred size used by scroll pane\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(image.getWidth(this), image.getHeight(this));\r\n            }\r\n        };\r\n\r\n        // Scroll pane containing the image panel\r\n        JScrollPane scrPane = new JScrollPane(sinusPanel);\r\n        scrPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n        scrPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n        scrPane.setBounds(0, 0, 600, 400);\r\n\r\n        // Main frame displaying the scroll pane\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setLayout(null);\r\n        frame.setSize(800, 600);\r\n        frame.add(scrPane);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n    \r\n    private static Image generateSinus() {\r\n        // generate and return some image\r\n    }\r\n}\r\n````\r\n","title":"Scrollable JPanel Without a Layout Manager","body":"<p>Here a minimal example of how it <em>can</em> be done.</p>\n<p>The component inside the scroll pane must implement the <code>Scrollable</code> interface or have the preferred size set, used by the scroll pane to determine the size of its viewport view.</p>\n<p>I preferred overriding <code>getPreferredSize</code>, so it <em>dynamically</em> changes if the image is changed (not possible in this minimal example) and to avoid having the preferred size <em>externally</em> changed by <code>setPreferredSize()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DrawSinus2 {\n\n    public static void main(String[] args) {\n        // Swing's Thread Police: All Swing components and related classes, unless\n        // otherwise documented, must be accessed on the event dispatching thread.\n        SwingUtilities.invokeLater(DrawSinus2::initGUI);\n    }\n    \n    private static void initGUI() {\n        // Panel to draw image\n        JPanel sinusPanel = new JPanel() {\n            private final Image image = generateSinus();\n            \n            @Override\n            protected void paintComponent(Graphics g) {\n                super.paintComponent(g);\n                if (image != null) {\n                    g.drawImage(image, 0, 0, this);\n                }\n            }\n            \n            // Preferred size used by scroll pane\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(image.getWidth(this), image.getHeight(this));\n            }\n        };\n\n        // Scroll pane containing the image panel\n        JScrollPane scrPane = new JScrollPane(sinusPanel);\n        scrPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\n        scrPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        scrPane.setBounds(0, 0, 600, 400);\n\n        // Main frame displaying the scroll pane\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLayout(null);\n        frame.setSize(800, 600);\n        frame.add(scrPane);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n    \n    private static Image generateSinus() {\n        // generate and return some image\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25048022,"reputation":15,"user_id":18904244,"display_name":"Ozgur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72182664,"answer_count":1,"score":1,"last_activity_date":1656437631,"creation_date":1652161817,"question_id":72181297,"body_markdown":"I want to display a sinusoid on a vertically and horizontally scrollable JPanel. How can I achieve this without a layout manager?\r\n\r\nPlease see the code below. I need a vertical scrollbar to see the bottom part of the sinusoid. \r\n\r\nIt is important that layout managers are not used.\r\n\r\nThanks in advance.\r\n\r\n\r\n```\r\npackage drawsinus;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.Image;\r\nimport java.awt.image.BufferedImage;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\n\r\npublic class DrawSinus extends JPanel\r\n{\r\n       private static double[] x;\r\n       private static double[] y;\r\n       private static JFrame frame = new JFrame();\r\n       private static JPanel panel = new DrawSinus(); \r\n       \r\n       public void paintComponent(Graphics g) \r\n       {\r\n             super.paintComponent(g);\r\n      \r\n             Image img = generateSinus();\r\n             g.drawImage(img, 20,20, this);\r\n     \r\n       }\r\n       private Image generateSinus() \r\n       {\r\n      \r\n             BufferedImage bufferedImage = new BufferedImage(600, 600, BufferedImage.TYPE_INT_RGB);\r\n             Graphics g = bufferedImage.getGraphics();\r\n             x = new double[200];\r\n             y = new double[200];\r\n             for (int t=0; t&lt;=199; t++)\r\n             {                 \r\n                 x[t]= (double)t;\r\n                 y[t] = 300*Math.sin(2*Math.PI*1*t/200);              \r\n             }\r\n             for (int t=0; t&lt;x.length; t++)\r\n             {                   \r\n                 g.fillOval((int)x[t] + bufferedImage.getWidth()/2, -1*((int)y[t]) + bufferedImage.getHeight()/2, 20, 20);                         \r\n             }\r\n            \r\n             return bufferedImage;\r\n      \r\n       }\r\n       public static void main(String[] args) \r\n       {\r\n             frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n             frame.setSize(800,600);\r\n             frame.setLayout(null);\r\n             frame.setLocationRelativeTo(null);\r\n             frame.setVisible(true);\r\n\r\n             panel.setLayout(null);\r\n             panel.setBounds(20, 20, 600, 400);\r\n             panel.setBackground(Color.BLACK);\r\n\r\n             frame.add(panel);\r\n\r\n             JScrollPane scrPane = new JScrollPane(panel);\r\n             scrPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n             scrPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n             frame.add(scrPane);\r\n\r\n             new DrawSinus().generateSinus();\r\n            \r\n       }\r\n    \r\n}\r\n\r\n```","title":"Scrollable JPanel Without a Layout Manager","body":"<p>I want to display a sinusoid on a vertically and horizontally scrollable JPanel. How can I achieve this without a layout manager?</p>\n<p>Please see the code below. I need a vertical scrollbar to see the bottom part of the sinusoid.</p>\n<p>It is important that layout managers are not used.</p>\n<p>Thanks in advance.</p>\n<pre><code>package drawsinus;\n\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\n\npublic class DrawSinus extends JPanel\n{\n       private static double[] x;\n       private static double[] y;\n       private static JFrame frame = new JFrame();\n       private static JPanel panel = new DrawSinus(); \n       \n       public void paintComponent(Graphics g) \n       {\n             super.paintComponent(g);\n      \n             Image img = generateSinus();\n             g.drawImage(img, 20,20, this);\n     \n       }\n       private Image generateSinus() \n       {\n      \n             BufferedImage bufferedImage = new BufferedImage(600, 600, BufferedImage.TYPE_INT_RGB);\n             Graphics g = bufferedImage.getGraphics();\n             x = new double[200];\n             y = new double[200];\n             for (int t=0; t&lt;=199; t++)\n             {                 \n                 x[t]= (double)t;\n                 y[t] = 300*Math.sin(2*Math.PI*1*t/200);              \n             }\n             for (int t=0; t&lt;x.length; t++)\n             {                   \n                 g.fillOval((int)x[t] + bufferedImage.getWidth()/2, -1*((int)y[t]) + bufferedImage.getHeight()/2, 20, 20);                         \n             }\n            \n             return bufferedImage;\n      \n       }\n       public static void main(String[] args) \n       {\n             frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n             frame.setSize(800,600);\n             frame.setLayout(null);\n             frame.setLocationRelativeTo(null);\n             frame.setVisible(true);\n\n             panel.setLayout(null);\n             panel.setBounds(20, 20, 600, 400);\n             panel.setBackground(Color.BLACK);\n\n             frame.add(panel);\n\n             JScrollPane scrPane = new JScrollPane(panel);\n             scrPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\n             scrPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n             frame.add(scrPane);\n\n             new DrawSinus().generateSinus();\n            \n       }\n    \n}\n\n</code></pre>\n"},{"tags":["java","swing","layout","jpanel","size"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1654017265,"post_id":72451567,"comment_id":127990383,"body_markdown":"With this kind of question, it is probably a good idea to post a mock-up image of what you want your gui to look like","body":"With this kind of question, it is probably a good idea to post a mock-up image of what you want your gui to look like"},{"owner":{"account_id":14946078,"reputation":41,"user_id":10791320,"display_name":"MineRickStar"},"score":0,"creation_date":1654035108,"post_id":72451567,"comment_id":127995421,"body_markdown":"Thats a bit hard to describe, but something like that all Cards are equally spaced and all the same Size and Ratio, it should resize according to the size of the Component.","body":"Thats a bit hard to describe, but something like that all Cards are equally spaced and all the same Size and Ratio, it should resize according to the size of the Component."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654037932,"post_id":72451567,"comment_id":127995970,"body_markdown":"A `GridBagLayout` should make that doable. Just be careful of `weightx` and `weighty`","body":"A <code>GridBagLayout</code> should make that doable. Just be careful of <code>weightx</code> and <code>weighty</code>"},{"owner":{"account_id":14946078,"reputation":41,"user_id":10791320,"display_name":"MineRickStar"},"score":0,"creation_date":1654081066,"post_id":72451567,"comment_id":128005566,"body_markdown":"It is just not possible from my point of view to tell the Labels to keep the same ratio when  they are able to be scaled as the top component with the GridLayout says.","body":"It is just not possible from my point of view to tell the Labels to keep the same ratio when  they are able to be scaled as the top component with the GridLayout says."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654090461,"creation_date":1654090461,"answer_id":72462761,"question_id":72451567,"body_markdown":"Please run this and tell me if that&#39;s the resizing behaviour you want. If it&#39;s not I&#39;ll delete it\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    import java.io.*;\r\n    \r\n    import java.util.*;\r\n    \r\n    import javax.swing.*;\r\n    \r\n    public class F extends JFrame {\r\n        // NOT the same as GrinBagConstraints.gridwidth/gridheight\r\n        private static final int GRID_WIDTH = 4;\r\n        private static final int GRID_HEIGHT = 2;\r\n    \r\n        private void setGui() {\r\n            try {\r\n                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                Container cp = getContentPane();\r\n                cp.setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.anchor = GridBagConstraints.NORTH;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n                gbc.weightx = 1.0;\r\n                gbc.weighty = 1.0;\r\n                gbc.insets = new Insets(10, 10, 10, 10);\r\n                for (int x = 0; x &lt; F.GRID_WIDTH; x++) {\r\n                    for (int y = 0; y &lt; F.GRID_HEIGHT; y++) {\r\n                        gbc.gridx = x;\r\n                        gbc.gridy = y;\r\n                        cp.add(new Card(), gbc);\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private class Card extends JPanel {\r\n            public Card() {\r\n                super();\r\n                setBackground(new Color((int) (Math.random() * Integer.MAX_VALUE)));\r\n            }\r\n    \r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(80, 80);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                SwingUtilities.invokeAndWait(new Runnable() {\r\n                    public void run() {\r\n                        F f = new F();\r\n                        f.setGui();\r\n                        f.pack();\r\n                        f.setVisible(true);\r\n                    }\r\n                });\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to layout Components when Conponent Size is needed beforehand (Java)","body":"<p>Please run this and tell me if that's the resizing behaviour you want. If it's not I'll delete it</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\n\nimport java.io.*;\n\nimport java.util.*;\n\nimport javax.swing.*;\n\npublic class F extends JFrame {\n    // NOT the same as GrinBagConstraints.gridwidth/gridheight\n    private static final int GRID_WIDTH = 4;\n    private static final int GRID_HEIGHT = 2;\n\n    private void setGui() {\n        try {\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            Container cp = getContentPane();\n            cp.setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.anchor = GridBagConstraints.NORTH;\n            gbc.fill = GridBagConstraints.BOTH;\n            gbc.weightx = 1.0;\n            gbc.weighty = 1.0;\n            gbc.insets = new Insets(10, 10, 10, 10);\n            for (int x = 0; x &lt; F.GRID_WIDTH; x++) {\n                for (int y = 0; y &lt; F.GRID_HEIGHT; y++) {\n                    gbc.gridx = x;\n                    gbc.gridy = y;\n                    cp.add(new Card(), gbc);\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private class Card extends JPanel {\n        public Card() {\n            super();\n            setBackground(new Color((int) (Math.random() * Integer.MAX_VALUE)));\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(80, 80);\n        }\n    }\n\n    public static void main(String[] args) {\n        try {\n            SwingUtilities.invokeAndWait(new Runnable() {\n                public void run() {\n                    F f = new F();\n                    f.setGui();\n                    f.pack();\n                    f.setVisible(true);\n                }\n            });\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14946078,"reputation":41,"user_id":10791320,"display_name":"MineRickStar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656437564,"creation_date":1654016144,"question_id":72451567,"body_markdown":"So the problem is this, I have a Project where I want to layout Components in a Panel and need to know the Size of the Panel beforehand so that I can scale the Panels on the Panel accordingly.\r\nBut as I have read in many posts and blogs it is not goot practice to work with any of the get*Size() Methods, but to let the LayoutManager do all this.\r\nThe Question is how should I tell my Panels how big they need to be and how they need to be resized, it is also neccessary that they keep their ratio at all times.\r\n\r\nSince I can&#39;t really put any CodeSnipped in here because it would not work, I can show the Class which is responsible for calculating the size of the Panels. I altered the Code a little bit.\r\n\r\n```\r\npublic class JColorCardPanel extends JPanel {\r\n\r\n\tprivate static final long serialVersionUID = 7038017071626911475L;\r\n\r\n\tpublic JColorCardPanel() {\r\n\t\tsuper(new GridBagLayout());\r\n\t\tthis.setBackground(Color.LIGHT_GRAY);\r\n\t}\r\n\r\n\tpublic void updateColorCardPanel(int maxPanelHeight) {\r\n\t\tthis.removeAll();\r\n\r\n\t\tMap&lt;TransportMode, SortedMap&lt;Integer, List&lt;ColorCard&gt;&gt;&gt; rankingMap = new HashMap&lt;&gt;();\r\n\t\tSortedMap&lt;Integer, List&lt;ColorCard&gt;&gt; mapTrain = new TreeMap&lt;&gt;();\r\n\t\tmapTrain.put(3, List.of(new ColorCard(MyColor.PURPLE, TransportMode.TRAIN), new ColorCard(MyColor.RAINBOW, TransportMode.TRAIN), new ColorCard(MyColor.YELLOW, TransportMode.TRAIN)));\r\n\t\tmapTrain.put(4, List.of(new ColorCard(MyColor.BLACK, TransportMode.TRAIN), new ColorCard(MyColor.WHITE, TransportMode.TRAIN), new ColorCard(MyColor.RED, TransportMode.TRAIN),\r\n\t\t\t\tnew ColorCard(MyColor.ORANGE, TransportMode.TRAIN), new ColorCard(MyColor.GREEN, TransportMode.TRAIN)));\r\n\t\trankingMap.put(TransportMode.TRAIN, mapTrain);\r\n\t\tSortedMap&lt;Integer, List&lt;ColorCard&gt;&gt; mapShip = new TreeMap&lt;&gt;();\r\n\t\tmapShip.put(2, List.of(new ColorCard(MyColor.PURPLE, TransportMode.SHIP), new ColorCard(MyColor.RAINBOW, TransportMode.SHIP), new ColorCard(MyColor.BLACK, TransportMode.SHIP),\r\n\t\t\t\tnew ColorCard(MyColor.WHITE, TransportMode.SHIP), new ColorCard(MyColor.YELLOW, TransportMode.SHIP)));\r\n\t\tmapShip.put(3, List.of(new ColorCard(MyColor.WHITE, TransportMode.SHIP), new ColorCard(MyColor.RED, TransportMode.SHIP), new ColorCard(MyColor.ORANGE, TransportMode.SHIP),\r\n\t\t\t\tnew ColorCard(MyColor.GREEN, TransportMode.SHIP)));\r\n\t\trankingMap.put(TransportMode.SHIP, mapShip);\r\n\r\n\t\tint padding = 5;\r\n\t\tdouble ratio = 2 / 3.0;\r\n\t\tint maxHeight = 150;\r\n\t\tint maxWidth = (int) (maxHeight * ratio);\r\n\t\tint height = 0;\r\n\t\tint width = 0;\r\n\t\twhile (width &lt;= (padding * 4)) {\r\n\t\t\tint maxColumnCount = rankingMap.values().stream().flatMap(t -&gt; Stream.of(t.values().stream().flatMap(List::stream).toList().size())).mapToInt(i -&gt; i).max().getAsInt();\r\n\t\t\tint maxPossibleHeight = ((maxPanelHeight - 20) / maxColumnCount) - (2 * padding);\r\n\t\t\tint maxRowCount = rankingMap.values().stream().flatMap(t -&gt; Stream.of(new ArrayList&lt;&gt;(t.keySet()).get(0))).reduce(0, (t, u) -&gt; t + u);\r\n\t\t\tint maxPossibleWidth = ((this.getWidth() - 20) / maxRowCount) - (2 * padding);\r\n\t\t\theight = maxPossibleHeight &gt; maxHeight ? maxHeight : maxPossibleHeight;\r\n\t\t\twidth = maxPossibleWidth &gt; maxWidth ? maxWidth : maxPossibleWidth;\r\n\t\t\tdouble proportion = width / (double) height;\r\n\t\t\tif (proportion &lt; ratio) {\r\n\t\t\t\theight = (int) (width / ratio);\r\n\t\t\t} else {\r\n\t\t\t\twidth = (int) (height * ratio);\r\n\t\t\t}\r\n\t\t\tpadding--;\r\n\t\t}\r\n\t\tDimension prefederredDimension = new Dimension(width, height);\r\n\t\tGridBagConstraints gbcTransport = new GridBagConstraints();\r\n\t\tgbcTransport.anchor = GridBagConstraints.NORTH;\r\n\t\tIterator&lt;Entry&lt;TransportMode, SortedMap&lt;Integer, List&lt;ColorCard&gt;&gt;&gt;&gt; iteratorMap = rankingMap.entrySet().iterator();\r\n\t\twhile (iteratorMap.hasNext()) {\r\n\t\t\tJPanel transportPanel = new JPanel(new GridBagLayout());\r\n\t\t\ttransportPanel.setBackground(Color.LIGHT_GRAY);\r\n\t\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\t\t\tgbc.insets = new Insets(padding, padding, padding, padding);\r\n\t\t\tgbc.gridy = 0;\r\n\t\t\tgbc.gridx = 0;\r\n\t\t\tgbc.anchor = GridBagConstraints.NORTH;\r\n\t\t\tgbc.fill = GridBagConstraints.BOTH;\r\n\r\n\t\t\tEntry&lt;TransportMode, SortedMap&lt;Integer, List&lt;ColorCard&gt;&gt;&gt; entryTransportMode = iteratorMap.next();\r\n\t\t\tIterator&lt;Entry&lt;Integer, List&lt;ColorCard&gt;&gt;&gt; it = entryTransportMode.getValue().entrySet().iterator();\r\n\t\t\twhile (it.hasNext()) {\r\n\t\t\t\tEntry&lt;Integer, List&lt;ColorCard&gt;&gt; entry = it.next();\r\n\t\t\t\tJColorCardLabel label;\r\n\t\t\t\tList&lt;ColorCard&gt; cards = entry.getValue();\r\n\t\t\t\tfor (int i = 0, m = cards.size(); i &lt; m; i++) {\r\n\t\t\t\t\tColorCard card = cards.get(i);\r\n\t\t\t\t\tgbc.gridx = 0;\r\n\t\t\t\t\tfor (int j = 0, n = entry.getKey(); j &lt; n; j++) {\r\n\t\t\t\t\t\tif (card.color() == MyColor.RAINBOW) {\r\n\t\t\t\t\t\t\tlabel = new JGradientLabel(card);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlabel = new JColorCardLabel(card);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel.setPreferredSize(prefederredDimension);\r\n\t\t\t\t\t\ttransportPanel.add(label, gbc);\r\n\t\t\t\t\t\tgbc.gridx++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgbc.gridy++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttransportPanel.setBorder(BorderFactory.createTitledBorder(BorderFactory.createRaisedBevelBorder(), entryTransportMode.getKey().getDisplayNameSingular()));\r\n\t\t\tgbcTransport.gridx++;\r\n\t\t\tthis.add(transportPanel, gbcTransport);\r\n\t\t}\r\n\t\tgbcTransport.weightx = 1;\r\n\t\tgbcTransport.weighty = 1;\r\n\t\tgbcTransport.gridx++;\r\n\t\tgbcTransport.fill = GridBagConstraints.BOTH;\r\n\t\tthis.add(new JPanel(), gbcTransport);\r\n\t}\r\n\r\n\tprivate static class JColorCardLabel extends JLabel {\r\n\t\tprivate static final long serialVersionUID = -5607808287807778978L;\r\n\r\n\t\tpublic final ColorCard colorCard;\r\n\r\n\t\tpublic JColorCardLabel(ColorCard colorCard) {\r\n\t\t\tsuper(colorCard.getColorCardString());\r\n\t\t\tthis.colorCard = colorCard;\r\n\t\t\tthis.setForeground(colorCard.color().getComplementaryColor());\r\n\t\t\tthis.setPreferredSize(new Dimension(60, 20));\r\n\t\t\tthis.setBorder(BorderFactory.createLineBorder(Color.BLACK, 4));\r\n\t\t\tthis.setBackground(colorCard.color().realColor);\r\n\t\t\tthis.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\t\tthis.setDoubleBuffered(true);\r\n\t\t\tthis.setFocusable(false);\r\n\t\t\tthis.setOpaque(true);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class JGradientLabel extends JColorCardLabel {\r\n\t\tprivate static final long serialVersionUID = 5469665614084730926L;\r\n\r\n\t\tpublic JGradientLabel(ColorCard colorCard) {\r\n\t\t\tsuper(colorCard);\r\n\t\t\tthis.setForeground(Color.BLACK);\r\n\t\t\tthis.setBackground(null);\r\n\t\t\tthis.setOpaque(false);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void paintComponent(Graphics g) {\r\n\t\t\tGraphics2D g2 = (Graphics2D) g.create();\r\n\r\n\t\t\tMyColor[] colors = MyColor.getNormalMyColors();\r\n\t\t\tint stripHeigth = this.getHeight() / (colors.length - 1);\r\n\r\n\t\t\tfor (int i = 0; i &lt; (colors.length - 1); i++) {\r\n\t\t\t\tg2.setPaint(new GradientPaint(new Point(0, i * stripHeigth), colors[i].realColor, new Point(0, (i + 1) * stripHeigth), colors[i + 1].realColor));\r\n\t\t\t\tg2.fillRect(0, i * stripHeigth, this.getWidth(), (i + 1) * stripHeigth);\r\n\t\t\t}\r\n\t\t\tg2.dispose();\r\n\t\t\tsuper.paintComponent(g);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nAnd here is the neede ColorCard Class:\r\n\r\n```\r\n\r\npublic class ColorCard {\r\n\r\n\tprivate final MyColor color;\r\n\tprivate final TransportMode transportMode;\r\n\r\n\tpublic ColorCard(MyColor color, TransportMode transportMode) {\r\n\t\tthis.color = color;\r\n\t\tthis.transportMode = transportMode;\r\n\t}\r\n\r\n\tpublic MyColor color() {\r\n\t\treturn this.color;\r\n\t}\r\n\r\n\tpublic TransportMode transportMode() {\r\n\t\treturn this.transportMode;\r\n\t}\r\n\r\n\tpublic String getColorCardString() {\r\n\t\treturn &quot;&lt;html&gt;&lt;body&gt;&quot; + this.transportMode().getDisplayNameSingular() + &quot;&lt;br&gt;&quot; + this.color().getColorNameSingular() + &quot;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn Objects.hash(this.color, this.transportMode);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (this == obj) { return true; }\r\n\t\tif (obj == null) { return false; }\r\n\t\tif (this.getClass() != obj.getClass()) { return false; }\r\n\t\tColorCard other = (ColorCard) obj;\r\n\t\treturn (this.color == other.color) &amp;&amp; (this.transportMode == other.transportMode);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;[&quot; + this.color + &quot;, &quot; + this.transportMode + &quot;]&quot;;\r\n\t}\r\n\r\n\tpublic enum MyColor {\r\n\r\n\t\tBLACK(LanguageKey.BLACK, LanguageKey.BLACKPLURAL, Color.BLACK),\r\n\t\tBLUE(LanguageKey.BLUE, LanguageKey.BLUEPLURAL, Color.BLUE),\r\n\t\tRED(LanguageKey.RED, LanguageKey.REDPLURAL, Color.RED),\r\n\t\tGREEN(LanguageKey.GREEN, LanguageKey.GREENPLURAL, Color.GREEN),\r\n\t\tYELLOW(LanguageKey.YELLOW, LanguageKey.YELLOWPLURAL, Color.YELLOW),\r\n\t\tPURPLE(LanguageKey.PURPLE, LanguageKey.PURPLEPLURAL, Color.MAGENTA),\r\n\t\tWHITE(LanguageKey.WHITE, LanguageKey.WHITEPLURAL, Color.WHITE),\r\n\t\tORANGE(LanguageKey.ORANGE, LanguageKey.ORANGEPLURAL, Color.ORANGE),\r\n\t\tGRAY(LanguageKey.GRAY, LanguageKey.GRAY, Color.GRAY),\r\n\t\tRAINBOW(LanguageKey.RAINBOW, LanguageKey.RAINBOW, Color.MAGENTA);\r\n\r\n\t\tprivate final LanguageKey colorNameSingular;\r\n\t\tprivate final LanguageKey colorNamePlural;\r\n\t\tpublic final Color realColor;\r\n\r\n\t\tMyColor(LanguageKey colorNameSingular, LanguageKey colorNamePlural, Color realColor) {\r\n\t\t\tthis.colorNameSingular = colorNameSingular;\r\n\t\t\tthis.colorNamePlural = colorNamePlural;\r\n\t\t\tthis.realColor = realColor;\r\n\t\t}\r\n\r\n\t\tpublic String getColorNameSingular() {\r\n\t\t\treturn Application.resources.getString(this.colorNameSingular);\r\n\t\t}\r\n\r\n\t\tpublic String getColorNamePlural() {\r\n\t\t\treturn Application.resources.getString(this.colorNamePlural);\r\n\t\t}\r\n\r\n\t\tpublic Color getRealColor() {\r\n\t\t\treturn this.realColor;\r\n\t\t}\r\n\r\n\t\tpublic static MyColor getMyColor(String colorName) {\r\n\t\t\treturn MyColor.valueOf(colorName.toUpperCase());\r\n\t\t}\r\n\r\n\t\tpublic static MyColor[] getNormalMyColors() {\r\n\t\t\treturn Stream.of(MyColor.values()).filter(c -&gt; (c != GRAY) &amp;&amp; (c != RAINBOW)).toArray(MyColor[]::new);\r\n\t\t}\r\n\r\n\t\tpublic Color getComplementaryColor() {\r\n\t\t\treturn MyColor.getComplementaryColor(this);\r\n\t\t}\r\n\r\n\t\tpublic static Color getComplementaryColor(MyColor myColor) {\r\n\t\t\tColor color = myColor.realColor;\r\n\t\t\tif (color == Color.WHITE) { return Color.BLACK; }\r\n\t\t\tif (color == Color.BLACK) { return Color.WHITE; }\r\n\t\t\tint r = color.getRed();\r\n\t\t\tint g = color.getGreen();\r\n\t\t\tint b = color.getBlue();\r\n\t\t\tint maxRGB = Math.max(r, Math.max(g, b));\r\n\t\t\tint minRGB = Math.min(r, Math.min(g, b));\r\n\t\t\tint addition = maxRGB + minRGB;\r\n\t\t\treturn new Color(addition - r, addition - g, addition - b);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn this.getColorNameSingular();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic enum TransportMode implements Serializable {\r\n\r\n\t\tTRAIN(LanguageKey.TRAIN, LanguageKey.TRAINS, &quot;t&quot;),\r\n\t\tSHIP(LanguageKey.SHIP, LanguageKey.SHIPS, &quot;s&quot;),\r\n\t\tAIRPLANE(LanguageKey.AIRPLANE, LanguageKey.AIRPLANES, &quot;a&quot;);\r\n\r\n\t\tprivate final LanguageKey displayNameSingular;\r\n\t\tprivate final LanguageKey displayNamePlural;\r\n\t\tpublic final String abbreviation;\r\n\r\n\t\tTransportMode(LanguageKey displayNameSingular, LanguageKey displayNamePlural, String abbreviation) {\r\n\t\t\tthis.displayNameSingular = displayNameSingular;\r\n\t\t\tthis.displayNamePlural = displayNamePlural;\r\n\t\t\tthis.abbreviation = abbreviation;\r\n\t\t}\r\n\r\n\t\tpublic String getDisplayNameSingular() {\r\n\t\t\treturn Application.resources.getString(this.displayNameSingular);\r\n\t\t}\r\n\r\n\t\tpublic String getDisplayNamePlural() {\r\n\t\t\treturn Application.resources.getString(this.displayNamePlural);\r\n\t\t}\r\n\r\n\t\tpublic static TransportMode getTransportMode(String abbreviation) {\r\n\t\t\treturn Stream.of(TransportMode.values()).filter(t -&gt; t.abbreviation.equalsIgnoreCase(abbreviation)).findAny().get();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nMy whole Project can be found on github under\r\nhttps://github.com/MineRickStar/Zug-um-Zug.git\r\n\r\nAny answer or comment on what I could change would be greatly appreciated.","title":"How to layout Components when Conponent Size is needed beforehand (Java)","body":"<p>So the problem is this, I have a Project where I want to layout Components in a Panel and need to know the Size of the Panel beforehand so that I can scale the Panels on the Panel accordingly.\nBut as I have read in many posts and blogs it is not goot practice to work with any of the get*Size() Methods, but to let the LayoutManager do all this.\nThe Question is how should I tell my Panels how big they need to be and how they need to be resized, it is also neccessary that they keep their ratio at all times.</p>\n<p>Since I can't really put any CodeSnipped in here because it would not work, I can show the Class which is responsible for calculating the size of the Panels. I altered the Code a little bit.</p>\n<pre><code>public class JColorCardPanel extends JPanel {\n\n    private static final long serialVersionUID = 7038017071626911475L;\n\n    public JColorCardPanel() {\n        super(new GridBagLayout());\n        this.setBackground(Color.LIGHT_GRAY);\n    }\n\n    public void updateColorCardPanel(int maxPanelHeight) {\n        this.removeAll();\n\n        Map&lt;TransportMode, SortedMap&lt;Integer, List&lt;ColorCard&gt;&gt;&gt; rankingMap = new HashMap&lt;&gt;();\n        SortedMap&lt;Integer, List&lt;ColorCard&gt;&gt; mapTrain = new TreeMap&lt;&gt;();\n        mapTrain.put(3, List.of(new ColorCard(MyColor.PURPLE, TransportMode.TRAIN), new ColorCard(MyColor.RAINBOW, TransportMode.TRAIN), new ColorCard(MyColor.YELLOW, TransportMode.TRAIN)));\n        mapTrain.put(4, List.of(new ColorCard(MyColor.BLACK, TransportMode.TRAIN), new ColorCard(MyColor.WHITE, TransportMode.TRAIN), new ColorCard(MyColor.RED, TransportMode.TRAIN),\n                new ColorCard(MyColor.ORANGE, TransportMode.TRAIN), new ColorCard(MyColor.GREEN, TransportMode.TRAIN)));\n        rankingMap.put(TransportMode.TRAIN, mapTrain);\n        SortedMap&lt;Integer, List&lt;ColorCard&gt;&gt; mapShip = new TreeMap&lt;&gt;();\n        mapShip.put(2, List.of(new ColorCard(MyColor.PURPLE, TransportMode.SHIP), new ColorCard(MyColor.RAINBOW, TransportMode.SHIP), new ColorCard(MyColor.BLACK, TransportMode.SHIP),\n                new ColorCard(MyColor.WHITE, TransportMode.SHIP), new ColorCard(MyColor.YELLOW, TransportMode.SHIP)));\n        mapShip.put(3, List.of(new ColorCard(MyColor.WHITE, TransportMode.SHIP), new ColorCard(MyColor.RED, TransportMode.SHIP), new ColorCard(MyColor.ORANGE, TransportMode.SHIP),\n                new ColorCard(MyColor.GREEN, TransportMode.SHIP)));\n        rankingMap.put(TransportMode.SHIP, mapShip);\n\n        int padding = 5;\n        double ratio = 2 / 3.0;\n        int maxHeight = 150;\n        int maxWidth = (int) (maxHeight * ratio);\n        int height = 0;\n        int width = 0;\n        while (width &lt;= (padding * 4)) {\n            int maxColumnCount = rankingMap.values().stream().flatMap(t -&gt; Stream.of(t.values().stream().flatMap(List::stream).toList().size())).mapToInt(i -&gt; i).max().getAsInt();\n            int maxPossibleHeight = ((maxPanelHeight - 20) / maxColumnCount) - (2 * padding);\n            int maxRowCount = rankingMap.values().stream().flatMap(t -&gt; Stream.of(new ArrayList&lt;&gt;(t.keySet()).get(0))).reduce(0, (t, u) -&gt; t + u);\n            int maxPossibleWidth = ((this.getWidth() - 20) / maxRowCount) - (2 * padding);\n            height = maxPossibleHeight &gt; maxHeight ? maxHeight : maxPossibleHeight;\n            width = maxPossibleWidth &gt; maxWidth ? maxWidth : maxPossibleWidth;\n            double proportion = width / (double) height;\n            if (proportion &lt; ratio) {\n                height = (int) (width / ratio);\n            } else {\n                width = (int) (height * ratio);\n            }\n            padding--;\n        }\n        Dimension prefederredDimension = new Dimension(width, height);\n        GridBagConstraints gbcTransport = new GridBagConstraints();\n        gbcTransport.anchor = GridBagConstraints.NORTH;\n        Iterator&lt;Entry&lt;TransportMode, SortedMap&lt;Integer, List&lt;ColorCard&gt;&gt;&gt;&gt; iteratorMap = rankingMap.entrySet().iterator();\n        while (iteratorMap.hasNext()) {\n            JPanel transportPanel = new JPanel(new GridBagLayout());\n            transportPanel.setBackground(Color.LIGHT_GRAY);\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.insets = new Insets(padding, padding, padding, padding);\n            gbc.gridy = 0;\n            gbc.gridx = 0;\n            gbc.anchor = GridBagConstraints.NORTH;\n            gbc.fill = GridBagConstraints.BOTH;\n\n            Entry&lt;TransportMode, SortedMap&lt;Integer, List&lt;ColorCard&gt;&gt;&gt; entryTransportMode = iteratorMap.next();\n            Iterator&lt;Entry&lt;Integer, List&lt;ColorCard&gt;&gt;&gt; it = entryTransportMode.getValue().entrySet().iterator();\n            while (it.hasNext()) {\n                Entry&lt;Integer, List&lt;ColorCard&gt;&gt; entry = it.next();\n                JColorCardLabel label;\n                List&lt;ColorCard&gt; cards = entry.getValue();\n                for (int i = 0, m = cards.size(); i &lt; m; i++) {\n                    ColorCard card = cards.get(i);\n                    gbc.gridx = 0;\n                    for (int j = 0, n = entry.getKey(); j &lt; n; j++) {\n                        if (card.color() == MyColor.RAINBOW) {\n                            label = new JGradientLabel(card);\n                        } else {\n                            label = new JColorCardLabel(card);\n                        }\n                        label.setPreferredSize(prefederredDimension);\n                        transportPanel.add(label, gbc);\n                        gbc.gridx++;\n                    }\n                    gbc.gridy++;\n                }\n            }\n            transportPanel.setBorder(BorderFactory.createTitledBorder(BorderFactory.createRaisedBevelBorder(), entryTransportMode.getKey().getDisplayNameSingular()));\n            gbcTransport.gridx++;\n            this.add(transportPanel, gbcTransport);\n        }\n        gbcTransport.weightx = 1;\n        gbcTransport.weighty = 1;\n        gbcTransport.gridx++;\n        gbcTransport.fill = GridBagConstraints.BOTH;\n        this.add(new JPanel(), gbcTransport);\n    }\n\n    private static class JColorCardLabel extends JLabel {\n        private static final long serialVersionUID = -5607808287807778978L;\n\n        public final ColorCard colorCard;\n\n        public JColorCardLabel(ColorCard colorCard) {\n            super(colorCard.getColorCardString());\n            this.colorCard = colorCard;\n            this.setForeground(colorCard.color().getComplementaryColor());\n            this.setPreferredSize(new Dimension(60, 20));\n            this.setBorder(BorderFactory.createLineBorder(Color.BLACK, 4));\n            this.setBackground(colorCard.color().realColor);\n            this.setHorizontalAlignment(SwingConstants.CENTER);\n            this.setDoubleBuffered(true);\n            this.setFocusable(false);\n            this.setOpaque(true);\n        }\n    }\n\n    public static class JGradientLabel extends JColorCardLabel {\n        private static final long serialVersionUID = 5469665614084730926L;\n\n        public JGradientLabel(ColorCard colorCard) {\n            super(colorCard);\n            this.setForeground(Color.BLACK);\n            this.setBackground(null);\n            this.setOpaque(false);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            Graphics2D g2 = (Graphics2D) g.create();\n\n            MyColor[] colors = MyColor.getNormalMyColors();\n            int stripHeigth = this.getHeight() / (colors.length - 1);\n\n            for (int i = 0; i &lt; (colors.length - 1); i++) {\n                g2.setPaint(new GradientPaint(new Point(0, i * stripHeigth), colors[i].realColor, new Point(0, (i + 1) * stripHeigth), colors[i + 1].realColor));\n                g2.fillRect(0, i * stripHeigth, this.getWidth(), (i + 1) * stripHeigth);\n            }\n            g2.dispose();\n            super.paintComponent(g);\n        }\n    }\n}\n</code></pre>\n<p>And here is the neede ColorCard Class:</p>\n<pre><code>\npublic class ColorCard {\n\n    private final MyColor color;\n    private final TransportMode transportMode;\n\n    public ColorCard(MyColor color, TransportMode transportMode) {\n        this.color = color;\n        this.transportMode = transportMode;\n    }\n\n    public MyColor color() {\n        return this.color;\n    }\n\n    public TransportMode transportMode() {\n        return this.transportMode;\n    }\n\n    public String getColorCardString() {\n        return &quot;&lt;html&gt;&lt;body&gt;&quot; + this.transportMode().getDisplayNameSingular() + &quot;&lt;br&gt;&quot; + this.color().getColorNameSingular() + &quot;&lt;/body&gt;&lt;/html&gt;&quot;;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(this.color, this.transportMode);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj) { return true; }\n        if (obj == null) { return false; }\n        if (this.getClass() != obj.getClass()) { return false; }\n        ColorCard other = (ColorCard) obj;\n        return (this.color == other.color) &amp;&amp; (this.transportMode == other.transportMode);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;[&quot; + this.color + &quot;, &quot; + this.transportMode + &quot;]&quot;;\n    }\n\n    public enum MyColor {\n\n        BLACK(LanguageKey.BLACK, LanguageKey.BLACKPLURAL, Color.BLACK),\n        BLUE(LanguageKey.BLUE, LanguageKey.BLUEPLURAL, Color.BLUE),\n        RED(LanguageKey.RED, LanguageKey.REDPLURAL, Color.RED),\n        GREEN(LanguageKey.GREEN, LanguageKey.GREENPLURAL, Color.GREEN),\n        YELLOW(LanguageKey.YELLOW, LanguageKey.YELLOWPLURAL, Color.YELLOW),\n        PURPLE(LanguageKey.PURPLE, LanguageKey.PURPLEPLURAL, Color.MAGENTA),\n        WHITE(LanguageKey.WHITE, LanguageKey.WHITEPLURAL, Color.WHITE),\n        ORANGE(LanguageKey.ORANGE, LanguageKey.ORANGEPLURAL, Color.ORANGE),\n        GRAY(LanguageKey.GRAY, LanguageKey.GRAY, Color.GRAY),\n        RAINBOW(LanguageKey.RAINBOW, LanguageKey.RAINBOW, Color.MAGENTA);\n\n        private final LanguageKey colorNameSingular;\n        private final LanguageKey colorNamePlural;\n        public final Color realColor;\n\n        MyColor(LanguageKey colorNameSingular, LanguageKey colorNamePlural, Color realColor) {\n            this.colorNameSingular = colorNameSingular;\n            this.colorNamePlural = colorNamePlural;\n            this.realColor = realColor;\n        }\n\n        public String getColorNameSingular() {\n            return Application.resources.getString(this.colorNameSingular);\n        }\n\n        public String getColorNamePlural() {\n            return Application.resources.getString(this.colorNamePlural);\n        }\n\n        public Color getRealColor() {\n            return this.realColor;\n        }\n\n        public static MyColor getMyColor(String colorName) {\n            return MyColor.valueOf(colorName.toUpperCase());\n        }\n\n        public static MyColor[] getNormalMyColors() {\n            return Stream.of(MyColor.values()).filter(c -&gt; (c != GRAY) &amp;&amp; (c != RAINBOW)).toArray(MyColor[]::new);\n        }\n\n        public Color getComplementaryColor() {\n            return MyColor.getComplementaryColor(this);\n        }\n\n        public static Color getComplementaryColor(MyColor myColor) {\n            Color color = myColor.realColor;\n            if (color == Color.WHITE) { return Color.BLACK; }\n            if (color == Color.BLACK) { return Color.WHITE; }\n            int r = color.getRed();\n            int g = color.getGreen();\n            int b = color.getBlue();\n            int maxRGB = Math.max(r, Math.max(g, b));\n            int minRGB = Math.min(r, Math.min(g, b));\n            int addition = maxRGB + minRGB;\n            return new Color(addition - r, addition - g, addition - b);\n        }\n\n        @Override\n        public String toString() {\n            return this.getColorNameSingular();\n        }\n    }\n\n    public enum TransportMode implements Serializable {\n\n        TRAIN(LanguageKey.TRAIN, LanguageKey.TRAINS, &quot;t&quot;),\n        SHIP(LanguageKey.SHIP, LanguageKey.SHIPS, &quot;s&quot;),\n        AIRPLANE(LanguageKey.AIRPLANE, LanguageKey.AIRPLANES, &quot;a&quot;);\n\n        private final LanguageKey displayNameSingular;\n        private final LanguageKey displayNamePlural;\n        public final String abbreviation;\n\n        TransportMode(LanguageKey displayNameSingular, LanguageKey displayNamePlural, String abbreviation) {\n            this.displayNameSingular = displayNameSingular;\n            this.displayNamePlural = displayNamePlural;\n            this.abbreviation = abbreviation;\n        }\n\n        public String getDisplayNameSingular() {\n            return Application.resources.getString(this.displayNameSingular);\n        }\n\n        public String getDisplayNamePlural() {\n            return Application.resources.getString(this.displayNamePlural);\n        }\n\n        public static TransportMode getTransportMode(String abbreviation) {\n            return Stream.of(TransportMode.values()).filter(t -&gt; t.abbreviation.equalsIgnoreCase(abbreviation)).findAny().get();\n        }\n    }\n}\n\n</code></pre>\n<p>My whole Project can be found on github under\n<a href=\"https://github.com/MineRickStar/Zug-um-Zug.git\" rel=\"nofollow noreferrer\">https://github.com/MineRickStar/Zug-um-Zug.git</a></p>\n<p>Any answer or comment on what I could change would be greatly appreciated.</p>\n"},{"tags":["java","audio","io","wav","sampling"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1557776608,"post_id":56118320,"comment_id":98871008,"body_markdown":"Possible duplicate of [Reading wav file in Java](https://stackoverflow.com/questions/5210147/reading-wav-file-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/5210147/reading-wav-file-in-java\">Reading wav file in Java</a>"},{"owner":{"account_id":3624740,"reputation":71,"user_id":3022690,"display_name":"user3022690"},"score":0,"creation_date":1557802396,"post_id":56118320,"comment_id":98877006,"body_markdown":"@NikolayShevchenko No my question is different. I am attempting to read chunks of data equivalent to a particular time interval. And stuck in calculating the same. \nLet&#39;s say, I read the wav file as mentioned in the other thread and obtain all the data in a byte buffer, how am I pull the data equivalent to 160-microseconds. This is my primary question.","body":"@NikolayShevchenko No my question is different. I am attempting to read chunks of data equivalent to a particular time interval. And stuck in calculating the same.  Let&#39;s say, I read the wav file as mentioned in the other thread and obtain all the data in a byte buffer, how am I pull the data equivalent to 160-microseconds. This is my primary question."}],"answers":[{"tags":[],"owner":{"account_id":1225425,"reputation":1037,"user_id":1191068,"accept_rate":57,"display_name":"John Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656437462,"creation_date":1656437462,"answer_id":72790858,"question_id":56118320,"body_markdown":"The number of sampling intervals, which fit into time window\r\n\r\n    N = length_of_time_window / length_of_sampling_interval =\r\n       = length_of_time_window * sampling_frequency = 0.00016 s * 44100 = 7.056\r\n\r\nObviously, the 160 microseconds interval is not divisible by sampling interval, but you can use 7 samples, which corresponds to 158 microseconds. Since each sample should store data for 2 channels, each using 2 bytes, the number of bytes is\r\n\r\n    Bytes = N * channels * bytes_per_sample = 7 samples * 2 channel * 2 bytes_per_sample\r\n          = 28 bytes","title":"Read .wav file data for every 160 microseconds","body":"<p>The number of sampling intervals, which fit into time window</p>\n<pre><code>N = length_of_time_window / length_of_sampling_interval =\n   = length_of_time_window * sampling_frequency = 0.00016 s * 44100 = 7.056\n</code></pre>\n<p>Obviously, the 160 microseconds interval is not divisible by sampling interval, but you can use 7 samples, which corresponds to 158 microseconds. Since each sample should store data for 2 channels, each using 2 bytes, the number of bytes is</p>\n<pre><code>Bytes = N * channels * bytes_per_sample = 7 samples * 2 channel * 2 bytes_per_sample\n      = 28 bytes\n</code></pre>\n"}],"owner":{"account_id":3624740,"reputation":71,"user_id":3022690,"display_name":"user3022690"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1656437462,"creation_date":1557773599,"question_id":56118320,"body_markdown":"How to extract data corresponding to definite time intervals from a .wav file? \r\n\r\nI have been given a few .wav files and asked to separate the header and data. From the obtained data, samples corresponding to every 160-microseconds should be separated and copied to buffers. \r\n\r\nI have now separated the header and got the following information:\r\n```\r\nChannels: 2, \r\nFrames: 632956\r\nSample Rate: 44100, \r\nBlock Align: 4\r\nValid Bits: 16, \r\nBytes per sample: 2\r\n```\r\nFor separating samples corresponding to every 160-microseconds, I am not able to calculate. I tried the following way:\r\n```\r\nTotal bits per 160-microsecond = ((sampling_rate * bit depth) / (time))\r\n = ((44100 * 16) / (160 * 1000000)) = 0.00441 bits.\r\n```\r\nI am sure that there is a mistake in the above calculation since there exist 44100 samples per second and hence for 160-microseconds there should exist bits count which is a positive natural number and cannot be a decimal value.\r\n\r\nCan someone help with this calculation?\r\nThanks.","title":"Read .wav file data for every 160 microseconds","body":"<p>How to extract data corresponding to definite time intervals from a .wav file? </p>\n\n<p>I have been given a few .wav files and asked to separate the header and data. From the obtained data, samples corresponding to every 160-microseconds should be separated and copied to buffers. </p>\n\n<p>I have now separated the header and got the following information:</p>\n\n<pre><code>Channels: 2, \nFrames: 632956\nSample Rate: 44100, \nBlock Align: 4\nValid Bits: 16, \nBytes per sample: 2\n</code></pre>\n\n<p>For separating samples corresponding to every 160-microseconds, I am not able to calculate. I tried the following way:</p>\n\n<pre><code>Total bits per 160-microsecond = ((sampling_rate * bit depth) / (time))\n = ((44100 * 16) / (160 * 1000000)) = 0.00441 bits.\n</code></pre>\n\n<p>I am sure that there is a mistake in the above calculation since there exist 44100 samples per second and hence for 160-microseconds there should exist bits count which is a positive natural number and cannot be a decimal value.</p>\n\n<p>Can someone help with this calculation?\nThanks.</p>\n"},{"tags":["java","amazon-web-services","spring-boot"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1656437658,"post_id":72790847,"comment_id":128570586,"body_markdown":"There are typically no real folders in S3. They&#39;re virtual, and inferred from the presence of multiple objects with a common prefix ending in forward slash e.g. `dogs/bingo.png` and `dogs/elvis.jpg`.","body":"There are typically no real folders in S3. They&#39;re virtual, and inferred from the presence of multiple objects with a common prefix ending in forward slash e.g. <code>dogs&#47;bingo.png</code> and <code>dogs&#47;elvis.jpg</code>."},{"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"score":0,"creation_date":1656437788,"post_id":72790847,"comment_id":128570613,"body_markdown":"@jarmod I know. But that just changes to question from how I lost one folder to how I lost 164 objects sharing the same prefix at once.","body":"@jarmod I know. But that just changes to question from how I lost one folder to how I lost 164 objects sharing the same prefix at once."},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1656438543,"post_id":72790847,"comment_id":128570853,"body_markdown":"AWS is not deleting the objects. Your code is (or some other code you have running). I would search for all calls to `deleteFile()` or equivalent and make sure they are logged. I would also add an additional unconditional log to make sure you are actually running the same code that you are looking at.","body":"AWS is not deleting the objects. Your code is (or some other code you have running). I would search for all calls to <code>deleteFile()</code> or equivalent and make sure they are logged. I would also add an additional unconditional log to make sure you are actually running the same code that you are looking at."},{"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"score":0,"creation_date":1656438711,"post_id":72790847,"comment_id":128570905,"body_markdown":"@jarmod I will continue to investigate. All my delete commands are logged - and the area of code containing the deletes is never executed due to the exception. But I agree it is very unlikely an S3 issue.","body":"@jarmod I will continue to investigate. All my delete commands are logged - and the area of code containing the deletes is never executed due to the exception. But I agree it is very unlikely an S3 issue."},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1656439015,"post_id":72790847,"comment_id":128571001,"body_markdown":"Be sure to update when you find the root cause but I don&#39;t think it&#39;s in the code we&#39;re seeing here. BTW to test if a file exists in S3 you can simply use HeadObject.","body":"Be sure to update when you find the root cause but I don&#39;t think it&#39;s in the code we&#39;re seeing here. BTW to test if a file exists in S3 you can simply use HeadObject."},{"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"score":0,"creation_date":1656439198,"post_id":72790847,"comment_id":128571054,"body_markdown":"@jarmod thanks! Ill use it instead of the listFiles. Ill also try to remove any code that does any deletion at all and see if the issue is still there. It feels very unclear.","body":"@jarmod thanks! Ill use it instead of the listFiles. Ill also try to remove any code that does any deletion at all and see if the issue is still there. It feels very unclear."},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1656439356,"post_id":72790847,"comment_id":128571092,"body_markdown":"If it becomes really difficult to diagnose, remove s3:DeleteObject permissions from the running process&#39; IAM policies (or simply add a temporary explicit Deny), re-run the test code, and review the exception that should presumably happen.","body":"If it becomes really difficult to diagnose, remove s3:DeleteObject permissions from the running process&#39; IAM policies (or simply add a temporary explicit Deny), re-run the test code, and review the exception that should presumably happen."},{"owner":{"account_id":58377,"reputation":247890,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1656457362,"post_id":72790847,"comment_id":128576125,"body_markdown":"Comment out the `deleteFile(originFile, file);` line and see if the problem still exists. It looks like it is deleting the source file even if the copy failed?","body":"Comment out the <code>deleteFile(originFile, file);</code> line and see if the problem still exists. It looks like it is deleting the source file even if the copy failed?"},{"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"score":0,"creation_date":1656501838,"post_id":72790847,"comment_id":128587158,"body_markdown":"@JohnRotenstein I removed all the delete references - and it worked! So somehow, somewhere a delete took place without any log printouts and without the code seeming to pass through. I&#39;m investigating further to figure out what could trigger this strange behavior.","body":"@JohnRotenstein I removed all the delete references - and it worked! So somehow, somewhere a delete took place without any log printouts and without the code seeming to pass through. I&#39;m investigating further to figure out what could trigger this strange behavior."},{"owner":{"account_id":58377,"reputation":247890,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1656505678,"post_id":72790847,"comment_id":128588650,"body_markdown":"Looks like `deleteOrig` isn&#39;t working the way you expect.","body":"Looks like <code>deleteOrig</code> isn&#39;t working the way you expect."},{"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"score":0,"creation_date":1656523685,"post_id":72790847,"comment_id":128596247,"body_markdown":"@JohnRotenstein I think I fixed it. There was a scheduler who pulled values from the DB and played a part in this - by marking failed runs correctly after the exception that flow didnt run again. Its strange the logs didnt record it but it seems to be running correctly now. Thanks for the perspective and patience.","body":"@JohnRotenstein I think I fixed it. There was a scheduler who pulled values from the DB and played a part in this - by marking failed runs correctly after the exception that flow didnt run again. Its strange the logs didnt record it but it seems to be running correctly now. Thanks for the perspective and patience."}],"owner":{"account_id":4181234,"reputation":3257,"user_id":3426201,"display_name":"Assafs"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656437421,"creation_date":1656437421,"question_id":72790847,"body_markdown":"I&#39;m writing code using AWS Java SDK, and in my Spring Boot application I use it to copy some files from one S3 folder to another. This works well when both origin folder and destination bucket exists. \r\n\r\nHowever, during testing for end-cases, something strange happens: if I change the destination to be a non-existent bucket it throws a BucketNotFound Exception (as expected) but then the origin folder is deleted from S3. \r\n\r\nI checked to confirm I do not delete the folder in the application, nor do I get any printout in the logs that suggest a delete. If I don&#39;t get the exception the origin folder survives with all its files - but if I do, the origin folder is gone.\r\nMy AWS S3 Java SDK dependency in pom.xml is:\r\n\r\n    &lt;dependency&gt;\r\n    \t &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n         &lt;version&gt;1.11.1034&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis is the AmazonS3 bean I use:\r\n\r\n    import com.amazonaws.regions.Regions;\r\n    import com.amazonaws.services.s3.AmazonS3;\r\n    import com.amazonaws.services.s3.AmazonS3ClientBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    @Configuration\r\n    public class AWSConfig {\r\n\r\n        public static final Regions REGION = Regions.US_EAST_1;\r\n\r\n        @Bean\r\n        public AmazonS3 s3Client() {\r\n\r\n            return AmazonS3ClientBuilder.standard().\r\n                withRegion(REGION).\r\n                build();\r\n        }\r\n\r\n    }\r\n\r\nAnd this is the code for the copy: \r\n\r\n    public String copyFile(S3ObjectSummary file, AmazonS3URI originUri, \r\n                            AmazonS3URI destinationUri, boolean deleteOrig) throws Exception {\r\n    \t\tString originFile = &quot;s3://&quot;+file.getBucketName()+&quot;/&quot;+file.getKey();\r\n    \t\tAmazonS3URI origUri = new AmazonS3URI(originFile);\r\n    \t\tlogger.info(&quot;Origin file=&quot;+originFile);\r\n    \t\tString suffix = originFile.substring(originUri.toString().length());\r\n    \t\tif (suffix.startsWith(&quot;/&quot;)) suffix = suffix.substring(1);\r\n    \t\tString destPath = destinationUri.getKey().endsWith(&quot;/&quot;)?\r\n                                   destinationUri.getKey():destinationUri.getKey()+&quot;/&quot;;\r\n    \t\tString destFile = &quot;s3://&quot;+destinationUri.getBucket()+&quot;/&quot;+destPath+suffix;\r\n    \t\tlogger.info(&quot;Destination file=&quot;+destFile);\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t//check origin file exists\r\n    \t\t\tlistFiles(originFile);\r\n    \t\t\t//Check dest bucket exists (this is where the exception will hit)\r\n    \t\t\tlistFiles(&quot;s3://&quot;+destinationUri.getBucket());\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlogger.error(&quot;could not copy from origin &quot;+originFile\r\n                               +&quot; to destination bucket s3://&quot;+destinationUri.getBucket()\r\n                               + &quot; due to exception &quot;,e);\r\n    \t\t\tthrow e; //This exception is clearly shown in the logs\r\n    \t\t}\r\n    \t\t\r\n    \t\tAmazonS3URI destUri = new AmazonS3URI(destFile);\r\n            \r\n            //I originally got the exception here\r\n    \t\ts3Client.copyObject(origUri.getBucket(), origUri.getKey(), destUri.getBucket(), destUri.getKey());\r\n    \t\tif (deleteOrig) { //just to be on the safe side, this is set to false \r\n    \t\t\tdeleteFile(originFile, file);\r\n    \t\t}\r\n    \t\treturn destFile;\r\n    \t}\r\n\r\nAnd the listFiles (which I&#39;ve added recently, to check if a read only command will trigger the same) is here:\r\n\r\n    public List&lt;String&gt; listFiles (String file) throws IOException {\r\n\t\tList&lt;String&gt; fileList = new ArrayList&lt;&gt;();\r\n\t\tif (file.startsWith(&quot;s3&quot;)) {\r\n\t\t\tAmazonS3URI fileURI = new AmazonS3URI(file);\r\n\t\t\tfileList.addAll(s3Client.listObjects(fileURI.getBucket(),fileURI.getKey())\r\n\t\t\t\t\t.getObjectSummaries()\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.map(x-&gt;&quot;s3://&quot;+x.getBucketName()+&quot;/&quot;+x.getKey())\r\n\t\t\t\t\t.collect(Collectors.toList()));\r\n\t\t} else {\r\n\t\t\tfileList.addAll(Files.list(Paths.get(file))\r\n\t\t\t\t\t.map(x-&gt;x.toAbsolutePath().toString())\r\n\t\t\t\t\t.collect(Collectors.toList()));\r\n\t\t}\r\n\t\treturn fileList;\r\n\t}\r\n\r\nAnd this is the log as the exception happens - and just before the folder drops:\r\n\r\n    2022-06-28 17:20:00 [scheduling-1] INFO  c.c.s.c.m.e.s.ETLManagerScheduler - Found 164 output files in smc-results/results/deid, belonging to 1 flows.\r\n    2022-06-28 17:20:00 [scheduling-1] INFO  c.c.s.c.m.e.s.ETLManagerScheduler - copying over files from smc-results/results/deid to smc-resuts/results/...\r\n    2022-06-28 17:20:00 [scheduling-1] INFO  c.c.s.c.m.e.flow.ETLFlowManager - Origin file=s3://smc-results/results/deid...\r\n    2022-06-28 17:20:00 [scheduling-1] INFO  c.c.s.c.m.e.flow.ETLFlowManager - Destination file=s3://smc-resuts/results/...\r\n    2022-06-28 17:20:00 [scheduling-1] ERROR c.c.s.c.m.e.flow.ETLFlowManager - could not copy from origin s3://smc-results/results/deid/... to destination bucket s3://smc-resuts due to exception com.amazonaws.services.s3.model.AmazonS3Exception: The specified bucket does not exist (Service: Amazon S3; Status Code: 404; Error Code: NoSuchBucket; Request ID: NK8A8VRPVW5T0MWJ; S3 Extended Request ID: yWosaeT6c3z3h/JtI/2CCQUAm9mmMM69NW7vvgLAipKqAWqWvHtDmecoV7qc68fvS3HoWU2l2Bw=; Proxy: null)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1819)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleServiceErrorResponse(AmazonHttpClient.java:1403)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1372)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1145)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:802)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:770)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:744)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:704)\r\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:686)\r\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:550)\r\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:530)\r\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5437)\r\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5384)\r\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5378)\r\n        at com.amazonaws.services.s3.AmazonS3Client.listObjects(AmazonS3Client.java:927)\r\n        at com.amazonaws.services.s3.AmazonS3Client.listObjects(AmazonS3Client.java:901)\r\n        at ....listFiles(....java:259)\r\n        at ...copyFile(....java:736)\r\n        at ....copyFiles(....java:197)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.lang.reflect.Method.invoke(Unknown Source)\r\n        at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\r\n        at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n        at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n        at java.util.concurrent.FutureTask.run(Unknown Source)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(Unknown Source)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n        at java.lang.Thread.run(Unknown Source)\r\n    2022-06-28 17:20:00 [scheduling-1] WARN  c.c.s.c.m.e.s.ETLManagerScheduler - Could not list or move files from smc-results/results/deid to smc-resuts/results/... due to exception: com.amazonaws.services.s3.model.AmazonS3Exception: The specified bucket does not exist (Service: Amazon S3; Status Code: 404; Error Code: NoSuchBucket; Request ID: NK8A8VRPVW5T0MWJ; S3 Extended Request ID: yWosaeT6c3z3h/JtI/2CCQUAm9mmMM69NW7vvgLAipKqAWqWvHtDmecoV7qc68fvS3HoWU2l2Bw=; Proxy: null), S3 Extended Request ID: yWosaeT6c3z3h/JtI/2CCQUAm9mmMM69NW7vvgLAipKqAWqWvHtDmecoV7qc68fvS3HoWU2l2Bw=Wa\r\n\r\nI double-checked that the folder exists for a good 10 minutes, but within a minute or two from the exception is vanishes. I even kept hitting &quot;calculate total size&quot; on the folder to confirm the files are there - until they&#39;re not. \r\n\r\nAny ideas what might cause a sudden drop of a folder in S3? I started off thinking it was a copy command issue, but now even list commands cause this side effect.","title":"S3 folder disappears following BucketNotFound exception","body":"<p>I'm writing code using AWS Java SDK, and in my Spring Boot application I use it to copy some files from one S3 folder to another. This works well when both origin folder and destination bucket exists.</p>\n<p>However, during testing for end-cases, something strange happens: if I change the destination to be a non-existent bucket it throws a BucketNotFound Exception (as expected) but then the origin folder is deleted from S3.</p>\n<p>I checked to confirm I do not delete the folder in the application, nor do I get any printout in the logs that suggest a delete. If I don't get the exception the origin folder survives with all its files - but if I do, the origin folder is gone.\nMy AWS S3 Java SDK dependency in pom.xml is:</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n     &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n     &lt;version&gt;1.11.1034&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is the AmazonS3 bean I use:</p>\n<pre><code>import com.amazonaws.regions.Regions;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class AWSConfig {\n\n    public static final Regions REGION = Regions.US_EAST_1;\n\n    @Bean\n    public AmazonS3 s3Client() {\n\n        return AmazonS3ClientBuilder.standard().\n            withRegion(REGION).\n            build();\n    }\n\n}\n</code></pre>\n<p>And this is the code for the copy:</p>\n<pre><code>public String copyFile(S3ObjectSummary file, AmazonS3URI originUri, \n                        AmazonS3URI destinationUri, boolean deleteOrig) throws Exception {\n        String originFile = &quot;s3://&quot;+file.getBucketName()+&quot;/&quot;+file.getKey();\n        AmazonS3URI origUri = new AmazonS3URI(originFile);\n        logger.info(&quot;Origin file=&quot;+originFile);\n        String suffix = originFile.substring(originUri.toString().length());\n        if (suffix.startsWith(&quot;/&quot;)) suffix = suffix.substring(1);\n        String destPath = destinationUri.getKey().endsWith(&quot;/&quot;)?\n                               destinationUri.getKey():destinationUri.getKey()+&quot;/&quot;;\n        String destFile = &quot;s3://&quot;+destinationUri.getBucket()+&quot;/&quot;+destPath+suffix;\n        logger.info(&quot;Destination file=&quot;+destFile);\n        \n        try {\n            //check origin file exists\n            listFiles(originFile);\n            //Check dest bucket exists (this is where the exception will hit)\n            listFiles(&quot;s3://&quot;+destinationUri.getBucket());\n        } catch (Exception e) {\n            logger.error(&quot;could not copy from origin &quot;+originFile\n                           +&quot; to destination bucket s3://&quot;+destinationUri.getBucket()\n                           + &quot; due to exception &quot;,e);\n            throw e; //This exception is clearly shown in the logs\n        }\n        \n        AmazonS3URI destUri = new AmazonS3URI(destFile);\n        \n        //I originally got the exception here\n        s3Client.copyObject(origUri.getBucket(), origUri.getKey(), destUri.getBucket(), destUri.getKey());\n        if (deleteOrig) { //just to be on the safe side, this is set to false \n            deleteFile(originFile, file);\n        }\n        return destFile;\n    }\n</code></pre>\n<p>And the listFiles (which I've added recently, to check if a read only command will trigger the same) is here:</p>\n<pre><code>public List&lt;String&gt; listFiles (String file) throws IOException {\n    List&lt;String&gt; fileList = new ArrayList&lt;&gt;();\n    if (file.startsWith(&quot;s3&quot;)) {\n        AmazonS3URI fileURI = new AmazonS3URI(file);\n        fileList.addAll(s3Client.listObjects(fileURI.getBucket(),fileURI.getKey())\n                .getObjectSummaries()\n                .stream()\n                .map(x-&gt;&quot;s3://&quot;+x.getBucketName()+&quot;/&quot;+x.getKey())\n                .collect(Collectors.toList()));\n    } else {\n        fileList.addAll(Files.list(Paths.get(file))\n                .map(x-&gt;x.toAbsolutePath().toString())\n                .collect(Collectors.toList()));\n    }\n    return fileList;\n}\n</code></pre>\n<p>And this is the log as the exception happens - and just before the folder drops:</p>\n<pre><code>2022-06-28 17:20:00 [scheduling-1] INFO  c.c.s.c.m.e.s.ETLManagerScheduler - Found 164 output files in smc-results/results/deid, belonging to 1 flows.\n2022-06-28 17:20:00 [scheduling-1] INFO  c.c.s.c.m.e.s.ETLManagerScheduler - copying over files from smc-results/results/deid to smc-resuts/results/...\n2022-06-28 17:20:00 [scheduling-1] INFO  c.c.s.c.m.e.flow.ETLFlowManager - Origin file=s3://smc-results/results/deid...\n2022-06-28 17:20:00 [scheduling-1] INFO  c.c.s.c.m.e.flow.ETLFlowManager - Destination file=s3://smc-resuts/results/...\n2022-06-28 17:20:00 [scheduling-1] ERROR c.c.s.c.m.e.flow.ETLFlowManager - could not copy from origin s3://smc-results/results/deid/... to destination bucket s3://smc-resuts due to exception com.amazonaws.services.s3.model.AmazonS3Exception: The specified bucket does not exist (Service: Amazon S3; Status Code: 404; Error Code: NoSuchBucket; Request ID: NK8A8VRPVW5T0MWJ; S3 Extended Request ID: yWosaeT6c3z3h/JtI/2CCQUAm9mmMM69NW7vvgLAipKqAWqWvHtDmecoV7qc68fvS3HoWU2l2Bw=; Proxy: null)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1819)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleServiceErrorResponse(AmazonHttpClient.java:1403)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1372)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1145)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:802)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:770)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:744)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:704)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:686)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:550)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:530)\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5437)\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5384)\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:5378)\n    at com.amazonaws.services.s3.AmazonS3Client.listObjects(AmazonS3Client.java:927)\n    at com.amazonaws.services.s3.AmazonS3Client.listObjects(AmazonS3Client.java:901)\n    at ....listFiles(....java:259)\n    at ...copyFile(....java:736)\n    at ....copyFiles(....java:197)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(Unknown Source)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n2022-06-28 17:20:00 [scheduling-1] WARN  c.c.s.c.m.e.s.ETLManagerScheduler - Could not list or move files from smc-results/results/deid to smc-resuts/results/... due to exception: com.amazonaws.services.s3.model.AmazonS3Exception: The specified bucket does not exist (Service: Amazon S3; Status Code: 404; Error Code: NoSuchBucket; Request ID: NK8A8VRPVW5T0MWJ; S3 Extended Request ID: yWosaeT6c3z3h/JtI/2CCQUAm9mmMM69NW7vvgLAipKqAWqWvHtDmecoV7qc68fvS3HoWU2l2Bw=; Proxy: null), S3 Extended Request ID: yWosaeT6c3z3h/JtI/2CCQUAm9mmMM69NW7vvgLAipKqAWqWvHtDmecoV7qc68fvS3HoWU2l2Bw=Wa\n</code></pre>\n<p>I double-checked that the folder exists for a good 10 minutes, but within a minute or two from the exception is vanishes. I even kept hitting &quot;calculate total size&quot; on the folder to confirm the files are there - until they're not.</p>\n<p>Any ideas what might cause a sudden drop of a folder in S3? I started off thinking it was a copy command issue, but now even list commands cause this side effect.</p>\n"},{"tags":["java","swing","jframe","jpanel"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1656437443,"post_id":72408484,"comment_id":128570517,"body_markdown":"*&quot;I&#39;m trying to figure out the jframe panel dimensions&quot;* . . . ***Why?*** I smell an [X/Y problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem).","body":"<i>&quot;I&#39;m trying to figure out the jframe panel dimensions&quot;</i> . . . <b><i>Why?</i></b> I smell an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">X/Y problem</a>."}],"answers":[{"tags":[],"owner":{"account_id":16921992,"reputation":273,"user_id":13053396,"display_name":"gsharew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653670824,"creation_date":1653670824,"answer_id":72408801,"question_id":72408484,"body_markdown":"you are always printing out the size of the first time your GUI launched.  \r\ni hope this would solve your problem:\r\n\r\n    System.out.printf(&quot;Frame Height: %d\\nFrame Width: %d\\n&quot;, getContentPane().getHeight(),getContentPane().getWidth());","title":"Getting jframe panel dimensions java","body":"<p>you are always printing out the size of the first time your GUI launched.<br />\ni hope this would solve your problem:</p>\n<pre><code>System.out.printf(&quot;Frame Height: %d\\nFrame Width: %d\\n&quot;, getContentPane().getHeight(),getContentPane().getWidth());\n</code></pre>\n"}],"owner":{"account_id":14637191,"reputation":1,"user_id":10570967,"display_name":"KaratemasterXSM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656437412,"creation_date":1653669112,"question_id":72408484,"body_markdown":"Pretty simple, I&#39;m trying to figure out the jframe panel dimensions but whenever I get the dimensions it provides me with my screen dimensions, not the window dimensions. I have tried a multitude of options and have tried searching for a while yet I haven&#39;t been able to find any real solution that would work with the program provided here. \r\n\r\nSource code:\r\n``` java\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class Window extends JFrame{\r\n\r\n\tJButton button;\r\n\r\n\tboolean on = false;\r\n\t\r\n\tpublic Window(){\t\r\n\t\tDimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n\r\n\t\tint screenHeight = screenSize.height;\r\n\t\tint screenWidth = screenSize.width;\r\n\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.setSize(screenWidth,screenHeight);\r\n\t\tthis.setLayout(null);\t\r\n\r\n\t\tDimension size = this.getSize();\r\n\t\t\r\n\t\tint frameHeight = size.height;\r\n\t\tint frameWidth = size.width;\r\n\t\r\n\t\tSystem.out.printf(&quot;Frame Height: %d\\nFrame Width: %d\\n&quot;, frameHeight, frameWidth);\r\n\r\n\t\tbutton = new JButton();\r\n\t\tif (on){\r\n\t\t\tconfigButton(button, Color.GREEN, &quot;On&quot;);\r\n\t\t} else {\r\n\t\t\tconfigButton(button, Color.RED, &quot;Off&quot;);\r\n\t\t}\t\r\n\t\tbutton.setBounds(frameWidth/2, frameHeight/2, 100, 100);\r\n\r\n\t\tbutton.addActionListener(new ActionListener(){\r\n\t\t\tpublic void actionPerformed(ActionEvent e){\r\n            \t\t\ton = !on;\r\n\t\t\t\tSystem.out.printf(&quot;On is: %b\\n&quot;, on);\r\n\t\t\t\tif (on){\r\n\t\t\t\t\tconfigButton(button, Color.GREEN, &quot;On&quot;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconfigButton(button, Color.RED, &quot;Off&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tbutton.setLocation(frameWidth/2, frameHeight/2);\r\n\t\t\t\tSystem.out.printf(&quot;Frame Height: %d\\nFrame Width: %d\\n&quot;, frameHeight, frameWidth);\r\n        \t\t}\r\n    \t\t});\r\n\t\t\r\n\t\tthis.add(button);\r\n\t\tthis.setVisible(true);\r\n\t}\r\n\r\n\tprivate void configButton(JButton b, Color c, String s){\r\n\t\tb.setBackground(c);\r\n\t\tb.setOpaque(true);\r\n\t\tb.setText(s);\r\n\t}\r\n\r\n}\r\n```\r\nAnd then the executing file if that&#39;s needed\r\n```java\r\npublic class test{\r\n\tpublic static void main(String[] args){\r\n\t\tnew Window();\r\n\t}\t\t \r\n}\r\n```","title":"Getting jframe panel dimensions java","body":"<p>Pretty simple, I'm trying to figure out the jframe panel dimensions but whenever I get the dimensions it provides me with my screen dimensions, not the window dimensions. I have tried a multitude of options and have tried searching for a while yet I haven't been able to find any real solution that would work with the program provided here.</p>\n<p>Source code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class Window extends JFrame{\n\n    JButton button;\n\n    boolean on = false;\n    \n    public Window(){    \n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n\n        int screenHeight = screenSize.height;\n        int screenWidth = screenSize.width;\n\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setSize(screenWidth,screenHeight);\n        this.setLayout(null);   \n\n        Dimension size = this.getSize();\n        \n        int frameHeight = size.height;\n        int frameWidth = size.width;\n    \n        System.out.printf(&quot;Frame Height: %d\\nFrame Width: %d\\n&quot;, frameHeight, frameWidth);\n\n        button = new JButton();\n        if (on){\n            configButton(button, Color.GREEN, &quot;On&quot;);\n        } else {\n            configButton(button, Color.RED, &quot;Off&quot;);\n        }   \n        button.setBounds(frameWidth/2, frameHeight/2, 100, 100);\n\n        button.addActionListener(new ActionListener(){\n            public void actionPerformed(ActionEvent e){\n                        on = !on;\n                System.out.printf(&quot;On is: %b\\n&quot;, on);\n                if (on){\n                    configButton(button, Color.GREEN, &quot;On&quot;);\n                } else {\n                    configButton(button, Color.RED, &quot;Off&quot;);\n                }\n                button.setLocation(frameWidth/2, frameHeight/2);\n                System.out.printf(&quot;Frame Height: %d\\nFrame Width: %d\\n&quot;, frameHeight, frameWidth);\n                }\n            });\n        \n        this.add(button);\n        this.setVisible(true);\n    }\n\n    private void configButton(JButton b, Color c, String s){\n        b.setBackground(c);\n        b.setOpaque(true);\n        b.setText(s);\n    }\n\n}\n</code></pre>\n<p>And then the executing file if that's needed</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class test{\n    public static void main(String[] args){\n        new Window();\n    }        \n}\n</code></pre>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1656352061,"post_id":72776337,"comment_id":128546041,"body_markdown":"I don&#39;t fully understand the question, polling a kafka topic will always require &quot;reading single message at a time&quot;. Only after reading &quot;one at a time&quot;, would you be able to &quot;group/filter by key&quot; (your question is not about the Connect API)","body":"I don&#39;t fully understand the question, polling a kafka topic will always require &quot;reading single message at a time&quot;. Only after reading &quot;one at a time&quot;, would you be able to &quot;group/filter by key&quot; (your question is not about the Connect API)"},{"owner":{"account_id":20812072,"reputation":51,"user_id":15285766,"display_name":"sushant shekhar"},"score":0,"creation_date":1656352182,"post_id":72776337,"comment_id":128546087,"body_markdown":"Hi  \n@OneCricketeer,so u r saying no Kafka provided API is there that can read messages having partition key in group?Anything available with kafkaConnect to fulfill this requirement?","body":"Hi   @OneCricketeer,so u r saying no Kafka provided API is there that can read messages having partition key in group?Anything available with kafkaConnect to fulfill this requirement?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1656352226,"post_id":72776337,"comment_id":128546108,"body_markdown":"Connect is built on the Consumer API, but it always calls `subscribe` to read all partitions. From a consumer, you can `assign` a topic partition, and read all data from **one partition**. Is that what you&#39;re asking?","body":"Connect is built on the Consumer API, but it always calls <code>subscribe</code> to read all partitions. From a consumer, you can <code>assign</code> a topic partition, and read all data from <b>one partition</b>. Is that what you&#39;re asking?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1656352341,"post_id":72776337,"comment_id":128546145,"body_markdown":"Regarding Spring-Kafka, you can add `topicPartitions` property to `@KafkaListener` to read from one or many partitions rather than all.","body":"Regarding Spring-Kafka, you can add <code>topicPartitions</code> property to <code>@KafkaListener</code> to read from one or many partitions rather than all."},{"owner":{"account_id":20812072,"reputation":51,"user_id":15285766,"display_name":"sushant shekhar"},"score":0,"creation_date":1656352434,"post_id":72776337,"comment_id":128546173,"body_markdown":"Hi @OneCricketeer .Ya quite similar..But I know only the messagekey.Can I control that my consumer will read only messages having specific key form that partition?","body":"Hi @OneCricketeer .Ya quite similar..But I know only the messagekey.Can I control that my consumer will read only messages having specific key form that partition?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1656352516,"post_id":72776337,"comment_id":128546212,"body_markdown":"If you have multiple keys in the same partition, you would still need to read all messages in one partition, then use `if` statements to look for a specific key","body":"If you have multiple keys in the same partition, you would still need to read all messages in one partition, then use <code>if</code> statements to look for a specific key"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656352762,"creation_date":1656352762,"answer_id":72776504,"question_id":72776337,"body_markdown":"In Kafka Streams, you can `filter` on a specific **_record_** key, but this will read all the partitions. You can also `groupByKey` if you wanted the same logic for all keys, and can query all values from a `KTable`, for example. \r\n\r\nIf you already know (or can compute) the topic partition, you can `assign` (or use  `@KafkaListener` property [`topicPartitions`](https://docs.spring.io/spring-kafka/api/org/springframework/kafka/annotation/KafkaListener.html#topicPartitions())) to make a `Consumer` read one-to-many `TopicPartition`. This will still read all records for that partition, and if you have multiple keys, you would need `if (record.key().equals(partitionKey))`\r\n","title":"kafka API for Reading kafka messages in a Group from topic with same partition key","body":"<p>In Kafka Streams, you can <code>filter</code> on a specific <strong><em>record</em></strong> key, but this will read all the partitions. You can also <code>groupByKey</code> if you wanted the same logic for all keys, and can query all values from a <code>KTable</code>, for example.</p>\n<p>If you already know (or can compute) the topic partition, you can <code>assign</code> (or use  <code>@KafkaListener</code> property <a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/annotation/KafkaListener.html#topicPartitions()\" rel=\"nofollow noreferrer\"><code>topicPartitions</code></a>) to make a <code>Consumer</code> read one-to-many <code>TopicPartition</code>. This will still read all records for that partition, and if you have multiple keys, you would need <code>if (record.key().equals(partitionKey))</code></p>\n"},{"tags":[],"owner":{"account_id":8249479,"reputation":4439,"user_id":6204612,"accept_rate":75,"display_name":"Adam Kotwasinski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656437280,"creation_date":1656437280,"answer_id":72790826,"question_id":72776337,"body_markdown":"Not really, as Kafka does not provide key-driven API. In the end (whether you use KafkaConsumer directly or Streams), you are going to read all records from  the partitions you want.\r\n\r\nIf you know what partition(s) your records are in, then you might set up the consumers to read from these partition(s).\r\n\r\nHowever please remember you might have been impacted by situation like increasing number of partition in a topic (what changes a hash function, unless you use stable hashing partitioner).","title":"kafka API for Reading kafka messages in a Group from topic with same partition key","body":"<p>Not really, as Kafka does not provide key-driven API. In the end (whether you use KafkaConsumer directly or Streams), you are going to read all records from  the partitions you want.</p>\n<p>If you know what partition(s) your records are in, then you might set up the consumers to read from these partition(s).</p>\n<p>However please remember you might have been impacted by situation like increasing number of partition in a topic (what changes a hash function, unless you use stable hashing partitioner).</p>\n"}],"owner":{"account_id":20812072,"reputation":51,"user_id":15285766,"display_name":"sushant shekhar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656437280,"creation_date":1656351899,"question_id":72776337,"body_markdown":"I have 5 million of messages in internal  Kafka Topic.\r\n\r\n    1 million  message with Partition key  -1234-Messge1\r\n    1 million  message with Partition key  -2345-Messge2\r\n    1 million  message with Partition key  -5678-Messge3\r\n    1 million  message with Partition key  -6789-Messge4\r\n    1 million  message with Partition key  -6565-Messge5\r\n\r\nI have to join messages having **same Partitionkey**  as part of single message and send to an consumer Topic [Eg: For key **1234-Messge1**,consumer should receive single message instead of 1 million message]\r\n\r\nIs there any Kafka API available at kafka end ,using which I can read all the messages having same Partition key in a group instead of reading single message at a time like traditional spring boot kafka Listener.","title":"kafka API for Reading kafka messages in a Group from topic with same partition key","body":"<p>I have 5 million of messages in internal  Kafka Topic.</p>\n<pre><code>1 million  message with Partition key  -1234-Messge1\n1 million  message with Partition key  -2345-Messge2\n1 million  message with Partition key  -5678-Messge3\n1 million  message with Partition key  -6789-Messge4\n1 million  message with Partition key  -6565-Messge5\n</code></pre>\n<p>I have to join messages having <strong>same Partitionkey</strong>  as part of single message and send to an consumer Topic [Eg: For key <strong>1234-Messge1</strong>,consumer should receive single message instead of 1 million message]</p>\n<p>Is there any Kafka API available at kafka end ,using which I can read all the messages having same Partition key in a group instead of reading single message at a time like traditional spring boot kafka Listener.</p>\n"},{"tags":["java","swing","jpanel","awt"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1654114543,"post_id":72467503,"comment_id":128017438,"body_markdown":"Don&#39;t tear down your gui like that. Use a `CardLayout`","body":"Don&#39;t tear down your gui like that. Use a <code>CardLayout</code>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1654119768,"post_id":72467503,"comment_id":128018803,"body_markdown":"[How to use CardLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">How to use CardLayout</a>"}],"owner":{"account_id":25449878,"reputation":1,"user_id":19251501,"display_name":"Xavier Hege"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656437261,"creation_date":1654114216,"question_id":72467503,"body_markdown":"I am switching JPanels perfectly fine except I cannot switch back to a JPanel that I have already visited. I have three buttons to switch between three JPanels.\r\nMy buttons look like this:\r\n\r\n    content.removeAll();\r\n    content.add(panel, BorderLayout.CENTER);\r\n    content.validate();\r\n    repaint();\r\nI can go to the panels fine, but I can&#39;t then return to previously visited panels. I would like to be able to go back to those panels, so any help would be appreciated.","title":"How do I switch back and forth between JPanels?","body":"<p>I am switching JPanels perfectly fine except I cannot switch back to a JPanel that I have already visited. I have three buttons to switch between three JPanels.\nMy buttons look like this:</p>\n<pre><code>content.removeAll();\ncontent.add(panel, BorderLayout.CENTER);\ncontent.validate();\nrepaint();\n</code></pre>\n<p>I can go to the panels fine, but I can't then return to previously visited panels. I would like to be able to go back to those panels, so any help would be appreciated.</p>\n"},{"tags":["java","logging","wildfly"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1656428813,"post_id":72788838,"comment_id":128567342,"body_markdown":"`Or is the real cost in the File I/O` I&#39;m no expert but I believe the real cost is in the IO, so you should be fine.  One thing to be aware of is statements like this `logger.debug( &quot;Concat &quot; + i +  &quot; a &quot; + param + &quot; string &quot; + x );` *DO* incur the cost of building a string.  You should substitute a version that doesn&#39;t do the string cocatenation unless the statement is actually logged: `logger.debug( &quot;Concat {0} a {1} string {2}&quot;, i, param, x );`","body":"<code>Or is the real cost in the File I&#47;O</code> I&#39;m no expert but I believe the real cost is in the IO, so you should be fine.  One thing to be aware of is statements like this <code>logger.debug( &quot;Concat &quot; + i +  &quot; a &quot; + param + &quot; string &quot; + x );</code> <i>DO</i> incur the cost of building a string.  You should substitute a version that doesn&#39;t do the string cocatenation unless the statement is actually logged: <code>logger.debug( &quot;Concat {0} a {1} string {2}&quot;, i, param, x );</code>"},{"owner":{"account_id":5883860,"reputation":1346,"user_id":4632462,"accept_rate":100,"display_name":"Phuthib"},"score":0,"creation_date":1656429541,"post_id":72788838,"comment_id":128567634,"body_markdown":"Thanks I had totally overlooked the cost string concat.","body":"Thanks I had totally overlooked the cost string concat."},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":1,"creation_date":1656505535,"post_id":72788838,"comment_id":128588608,"body_markdown":"Depending on the logging framework you use, you might also be able to leverage lambdas to create your logging messages. They will only be invoked if the logger is enabled.","body":"Depending on the logging framework you use, you might also be able to leverage lambdas to create your logging messages. They will only be invoked if the logger is enabled."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656437247,"creation_date":1656430314,"answer_id":72789341,"question_id":72788838,"body_markdown":"When your logging call is low cost such as with string literal (or the String format variant suggested by @markspace) you can use `logger.debug` as you have above:\r\n\r\n    logger.debug(&quot;Some debug message&quot;);\r\n\r\nHowever if the statement has a side effect cost such as:\r\n\r\n    logger.debug(&quot;Value of X=&quot;+x+&quot; extra bits &quot;+someSideEffect(y));\r\n\r\n... then always prefix with a check on logging level before use. Most Logger APIs support `isXYZEnabled` or `logger.isEnabled(Level.XYZ)` to determine whether the log message is used:\r\n\r\n    if(logger.isDebugEnabled())\r\n        logger.debug(&quot;Value of X=&quot;+x+&quot; extra bits &quot;+someSideEffect(y));\r\n\r\nThis avoids any possible impact from the unnecessary String creation and other computations performed by the unused logging levels, and there is no need to comment out debug statements when info level logging is used.","title":"Java logging performance","body":"<p>When your logging call is low cost such as with string literal (or the String format variant suggested by @markspace) you can use <code>logger.debug</code> as you have above:</p>\n<pre><code>logger.debug(&quot;Some debug message&quot;);\n</code></pre>\n<p>However if the statement has a side effect cost such as:</p>\n<pre><code>logger.debug(&quot;Value of X=&quot;+x+&quot; extra bits &quot;+someSideEffect(y));\n</code></pre>\n<p>... then always prefix with a check on logging level before use. Most Logger APIs support <code>isXYZEnabled</code> or <code>logger.isEnabled(Level.XYZ)</code> to determine whether the log message is used:</p>\n<pre><code>if(logger.isDebugEnabled())\n    logger.debug(&quot;Value of X=&quot;+x+&quot; extra bits &quot;+someSideEffect(y));\n</code></pre>\n<p>This avoids any possible impact from the unnecessary String creation and other computations performed by the unused logging levels, and there is no need to comment out debug statements when info level logging is used.</p>\n"}],"owner":{"account_id":5883860,"reputation":1346,"user_id":4632462,"accept_rate":100,"display_name":"Phuthib"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1656437247,"creation_date":1656428441,"question_id":72788838,"body_markdown":"I am using wildfly21 set to log **level=INFO**. In the deployed code there are a lot of logger.debug statements. \r\n\r\ne.g \r\n```\r\nprivate static Logger logger = LogManager.getLogger(getClass.getName());\r\nlogger.debug(&quot;Some debug message&quot;);\r\n```\r\n\r\nThe debug statements are correctly not being logged to file as the logging level is set to INFO.\r\n\r\nMy question is around the performance cost of **logger.debug**. \r\n\r\nIs there any performance cost in keeping the debug statements in code. Or is the real cost in the File I/O and as such there is no harm in leaving the debug statements for troubleshooting purposes when needed.\r\n\r\n","title":"Java logging performance","body":"<p>I am using wildfly21 set to log <strong>level=INFO</strong>. In the deployed code there are a lot of logger.debug statements.</p>\n<p>e.g</p>\n<pre><code>private static Logger logger = LogManager.getLogger(getClass.getName());\nlogger.debug(&quot;Some debug message&quot;);\n</code></pre>\n<p>The debug statements are correctly not being logged to file as the logging level is set to INFO.</p>\n<p>My question is around the performance cost of <strong>logger.debug</strong>.</p>\n<p>Is there any performance cost in keeping the debug statements in code. Or is the real cost in the File I/O and as such there is no harm in leaving the debug statements for troubleshooting purposes when needed.</p>\n"},{"tags":["java","camunda"],"comments":[{"owner":{"account_id":5300168,"reputation":121,"user_id":4230091,"display_name":"Amar Deep Singh"},"score":0,"creation_date":1656404240,"post_id":72775420,"comment_id":128557249,"body_markdown":"Which camunda distribution you are using? Is this Tomcat or Spring boot ? Who created Docker image you or provided by camunda ? Answer will depend based on the distribution.","body":"Which camunda distribution you are using? Is this Tomcat or Spring boot ? Who created Docker image you or provided by camunda ? Answer will depend based on the distribution."},{"owner":{"account_id":7489270,"reputation":713,"user_id":5691548,"accept_rate":60,"display_name":"anil"},"score":0,"creation_date":1656412058,"post_id":72775420,"comment_id":128560292,"body_markdown":"@Sahota we are using docker image provided by the camunda itself.","body":"@Sahota we are using docker image provided by the camunda itself."}],"answers":[{"tags":[],"owner":{"account_id":5300168,"reputation":121,"user_id":4230091,"display_name":"Amar Deep Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656437199,"creation_date":1656437199,"answer_id":72790816,"question_id":72775420,"body_markdown":"As this is Official Docker image from Camunda you can try this \r\n1. Clone the camunda repo https://github.com/camunda/docker-camunda-bpm-platform\r\n2. Switch/checkout to specific version branch/tag 7.11.0 \r\n3. Modify the Dockerfile base docker image to image which has jdk11 built-in and rebuild image .\r\n\r\nI know this requires knowledge of docker/git and how camunda builds their images. You have to reverse engineer this repo as well.","title":"Update java version in Camunda Platform","body":"<p>As this is Official Docker image from Camunda you can try this</p>\n<ol>\n<li>Clone the camunda repo <a href=\"https://github.com/camunda/docker-camunda-bpm-platform\" rel=\"nofollow noreferrer\">https://github.com/camunda/docker-camunda-bpm-platform</a></li>\n<li>Switch/checkout to specific version branch/tag 7.11.0</li>\n<li>Modify the Dockerfile base docker image to image which has jdk11 built-in and rebuild image .</li>\n</ol>\n<p>I know this requires knowledge of docker/git and how camunda builds their images. You have to reverse engineer this repo as well.</p>\n"}],"owner":{"account_id":7489270,"reputation":713,"user_id":5691548,"accept_rate":60,"display_name":"anil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72790816,"answer_count":1,"score":0,"last_activity_date":1656437199,"creation_date":1656347211,"question_id":72775420,"body_markdown":"I would like to upgrade Java JDK from 1.8.0_212 to 1.11.0 in Camunda Platform. I am using Camunda 7.11.0 and deploying it as container. Kindly help me on this.","title":"Update java version in Camunda Platform","body":"<p>I would like to upgrade Java JDK from 1.8.0_212 to 1.11.0 in Camunda Platform. I am using Camunda 7.11.0 and deploying it as container. Kindly help me on this.</p>\n"},{"tags":["java","mysql","spring","junit","h2"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1534767638,"post_id":51930582,"comment_id":90810965,"body_markdown":"That&#39;s the problem with this testing strategy: different databases don&#39;t behave the same way, so your tests only prove that the code works on the test database, but not on the production database, or fail due to the usage of a test database, although they would pass on the production database. For reliable, consistent tests, just use the production database in your tests.","body":"That&#39;s the problem with this testing strategy: different databases don&#39;t behave the same way, so your tests only prove that the code works on the test database, but not on the production database, or fail due to the usage of a test database, although they would pass on the production database. For reliable, consistent tests, just use the production database in your tests."},{"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"score":0,"creation_date":1624531001,"post_id":51930582,"comment_id":120386952,"body_markdown":"did you solve that?","body":"did you solve that?"}],"answers":[{"tags":[],"owner":{"account_id":15573977,"reputation":41,"user_id":11235534,"display_name":"fazouth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656436935,"creation_date":1656436935,"answer_id":72790760,"question_id":51930582,"body_markdown":"As of version 2.1.214, H2 expects index names to be unique per schema. I did not find this mentioned anywhere in the docs. However, I confirmed it by looking at the source code. The `Schema` class uses a `ConcurrentHashMap` to contain all of indexes related to the schema, and the names are not prefixed by a table name to make them unique per table.\r\n\r\nI worked around this limitation by creating the tables as part of the pre-test operations (@Before method in JUnit tests). This is not ideal as I effectively bypassed the code which creates the tables automatically, but it was sufficient for my case, because I was testing a different section of the code.\r\n\r\nLike JB Nizet mentioned, testing using a mock database like H2 has some limitations, and it is not a perfect reflection of the production environment. Whenever I need an exact production like environment, I have resorted to using containerized databases as part of my unit tests.\r\n\r\nHopefully this gives you new perspectives on how to handle your particular scenario, given the current limitations of H2.\r\n","title":"Existing indexes in H2 for unit tests","body":"<p>As of version 2.1.214, H2 expects index names to be unique per schema. I did not find this mentioned anywhere in the docs. However, I confirmed it by looking at the source code. The <code>Schema</code> class uses a <code>ConcurrentHashMap</code> to contain all of indexes related to the schema, and the names are not prefixed by a table name to make them unique per table.</p>\n<p>I worked around this limitation by creating the tables as part of the pre-test operations (@Before method in JUnit tests). This is not ideal as I effectively bypassed the code which creates the tables automatically, but it was sufficient for my case, because I was testing a different section of the code.</p>\n<p>Like JB Nizet mentioned, testing using a mock database like H2 has some limitations, and it is not a perfect reflection of the production environment. Whenever I need an exact production like environment, I have resorted to using containerized databases as part of my unit tests.</p>\n<p>Hopefully this gives you new perspectives on how to handle your particular scenario, given the current limitations of H2.</p>\n"}],"owner":{"account_id":314604,"reputation":4123,"user_id":629868,"accept_rate":58,"display_name":"Neets"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1060,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1656436935,"creation_date":1534767437,"question_id":51930582,"body_markdown":"I have a service that runs on a MySQL database. The service is written in Java and uses Spring &amp; JPA/Hibernate. \r\nWe are using an H2 database for the unit tests. The problem is when we run our tests, in the schema creation phase we see this error:\r\n\r\n    Index &quot;USERNAME_INDEX&quot; already exists; SQL statement: create index userName_index on MyTable1 (userName)\r\n\r\nThe issue seems to be that our domain classes have indexes with the same name for different tables:\r\n\r\n    MyTable : userName_index on column userName\r\n    MyTable1 : userName_index on column userName\r\n\r\nSince we only see the error for MyTable1, our guess is that the index for MyTable is created successfully and then creating the index for MyTable1 fails.\r\n\r\nApparently in H2 index names must be unique per schema, but MySQL allows indexes with the same name as long as they are in different tables.\r\n\r\nWe cannot change the index names. I&#39;ve also tried adding the MySQL mode to the connection URL like this:\r\n\r\n    &quot;jdbc:h2:mem:./MyService;MODE=MySQL;DB_CLOSE_DELAY=-1;&quot;\r\n\r\n\r\nHow can I make unit tests work with H2 with the current index names? ","title":"Existing indexes in H2 for unit tests","body":"<p>I have a service that runs on a MySQL database. The service is written in Java and uses Spring &amp; JPA/Hibernate. \nWe are using an H2 database for the unit tests. The problem is when we run our tests, in the schema creation phase we see this error:</p>\n\n<pre><code>Index \"USERNAME_INDEX\" already exists; SQL statement: create index userName_index on MyTable1 (userName)\n</code></pre>\n\n<p>The issue seems to be that our domain classes have indexes with the same name for different tables:</p>\n\n<pre><code>MyTable : userName_index on column userName\nMyTable1 : userName_index on column userName\n</code></pre>\n\n<p>Since we only see the error for MyTable1, our guess is that the index for MyTable is created successfully and then creating the index for MyTable1 fails.</p>\n\n<p>Apparently in H2 index names must be unique per schema, but MySQL allows indexes with the same name as long as they are in different tables.</p>\n\n<p>We cannot change the index names. I've also tried adding the MySQL mode to the connection URL like this:</p>\n\n<pre><code>\"jdbc:h2:mem:./MyService;MODE=MySQL;DB_CLOSE_DELAY=-1;\"\n</code></pre>\n\n<p>How can I make unit tests work with H2 with the current index names? </p>\n"},{"tags":["java","hardware","hardware-acceleration","integrated"],"answers":[{"tags":[],"owner":{"account_id":1725615,"reputation":353,"user_id":1580369,"accept_rate":17,"display_name":"neptune692"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1359694337,"creation_date":1359694337,"answer_id":14639946,"question_id":14635377,"body_markdown":"I just figured it out for anyone who is having this same issue. It was the type of JRE installed. I had the 32bit JRE environment installed on a 64bit machine and for some reason it wasn&#39;t utilizing the integrated Intel graphics chip. However after installing the appropriate 64bit JRE, page flipping and hardware acceleration work with the Intel integrated chip.\r\n\r\nYou can download other versions of the JRE at: http://www.oracle.com/technetwork/java/javase/downloads/jre7-downloads-1880261.html\r\n\r\nReally strange can&#39;t believe I stumbled upon the answer. Hope this helps someone in the future :)","title":"Java Hardware Acceleration not working with Intel Integrated Graphics","body":"<p>I just figured it out for anyone who is having this same issue. It was the type of JRE installed. I had the 32bit JRE environment installed on a 64bit machine and for some reason it wasn't utilizing the integrated Intel graphics chip. However after installing the appropriate 64bit JRE, page flipping and hardware acceleration work with the Intel integrated chip.</p>\n\n<p>You can download other versions of the JRE at: <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jre7-downloads-1880261.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/jre7-downloads-1880261.html</a></p>\n\n<p>Really strange can't believe I stumbled upon the answer. Hope this helps someone in the future :)</p>\n"},{"tags":[],"owner":{"account_id":3069941,"reputation":31,"user_id":2600864,"display_name":"pwzty"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1374264110,"creation_date":1374264110,"answer_id":17754554,"question_id":14635377,"body_markdown":"Try setting the environmental variable J2D_D3D_NO_HWCHECK to &quot;true&quot;.\r\n\r\n-------------------------------------------------------------------------------------------\r\n\r\nFirst Method\r\n\r\nControl Panel -&gt; System -&gt; Advanced system settings -&gt; Environment Variables -&gt; System variables -&gt; New -&gt; \r\n\r\n             Variable name: J2D_D3D_NO_HWCHECK\r\n             Variable value: true\r\n\r\n-------------------------------------------------------------------------------------------\r\n\r\nSecond Method\r\n\r\nIn the batch file:\r\n\r\n             set J2D_D3D_NO_HWCHECK=true\r\n\r\n             java -jar myapp.jar\r\n\r\n------------------------------------------------------------------------------------------","title":"Java Hardware Acceleration not working with Intel Integrated Graphics","body":"<p>Try setting the environmental variable J2D_D3D_NO_HWCHECK to \"true\".</p>\n\n<hr>\n\n<p>First Method</p>\n\n<p>Control Panel -> System -> Advanced system settings -> Environment Variables -> System variables -> New -> </p>\n\n<pre><code>         Variable name: J2D_D3D_NO_HWCHECK\n         Variable value: true\n</code></pre>\n\n<hr>\n\n<p>Second Method</p>\n\n<p>In the batch file:</p>\n\n<pre><code>         set J2D_D3D_NO_HWCHECK=true\n\n         java -jar myapp.jar\n</code></pre>\n\n<hr>\n"},{"tags":[],"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656436748,"creation_date":1656436748,"answer_id":72790716,"question_id":14635377,"body_markdown":"in 3rd gen intel 4000 gpu applicable only with runtime command:\r\n\r\n     -Dsun.java2d.opengl=true\r\n\r\nwithout it &quot;hardware acceleration not supported&quot;\r\nreference:\r\nhttps://stackoverflow.com/questions/4627320/java-hardware-acceleration","title":"Java Hardware Acceleration not working with Intel Integrated Graphics","body":"<p>in 3rd gen intel 4000 gpu applicable only with runtime command:</p>\n<pre><code> -Dsun.java2d.opengl=true\n</code></pre>\n<p>without it &quot;hardware acceleration not supported&quot;\nreference:\n<a href=\"https://stackoverflow.com/questions/4627320/java-hardware-acceleration\">Java Hardware Acceleration</a></p>\n"}],"owner":{"account_id":1725615,"reputation":353,"user_id":1580369,"accept_rate":17,"display_name":"neptune692"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6504,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1656436748,"creation_date":1359667334,"question_id":14635377,"body_markdown":"Hi everyone I hope someone can help me solve this problem. I&#39;m having trouble getting hardware acceleration to work on a laptop with Intel Integrated Graphics.\r\n\r\n\r\n&lt;h1&gt;The Problem:&lt;/h1&gt;\r\nHardware Acceleration using Java 7 update 11 doesn&#39;t appear to be working with Intel Integrated Graphics on a Windows 7 and 8 machine using a BufferStrategy with a JFrame.\r\n\r\n\r\n----------\r\n\r\n\r\n&lt;h1&gt;Details&lt;/h1&gt;\r\nGraphics Card: Intel(R) HD Graphics 4000&lt;br/&gt;\r\nJRE: Java 7 Update 11&lt;br/&gt;\r\nOS: Windows 7, Windows 8&lt;br/&gt;\r\n\r\n\r\n----------\r\n\r\n&lt;h1&gt;Expected Results&lt;/h1&gt;\r\n![Image of expected results (https://i.stack.imgur.com/PmCoZ.png).][1]\r\n\r\n\r\n----------\r\n\r\n&lt;h1&gt;Actual Results&lt;/h1&gt;\r\n![Image of actual results (https://i.stack.imgur.com/P3gkb.png).][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PmCoZ.png\r\n  [2]: https://i.stack.imgur.com/P3gkb.png\r\n\r\n\r\n----------\r\n&lt;h1&gt; Resources &lt;/h1&gt;\r\nIf you want to verify the problem you can download the app I created for testing at: http://ndcubed.com/downloads/GraphicsTest.zip&lt;br/&gt;&lt;br/&gt;\r\nIf you don&#39;t feel comfortable downloading a compiled JAR file you can compile the app yourself using the following source code:\r\n\r\n\r\n    package graphicstest;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.image.BufferStrategy;\r\n    \r\n    public class GraphicsTest extends JFrame {\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new GraphicsTest();\r\n                }\r\n            });\r\n        }\r\n    \r\n        GraphicsConfiguration gc = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDefaultConfiguration();\r\n        BufferCapabilities bufferCapabilities;\r\n        BufferStrategy bufferStrategy;\r\n    \r\n        int y = 0;\r\n        int delta = 1;\r\n    \r\n        public GraphicsTest() {\r\n    \r\n            setTitle(&quot;Hardware Acceleration Test&quot;);\r\n            setSize(500, 300);\r\n            setLocationRelativeTo(null);\r\n            setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    \r\n            setVisible(true);\r\n    \r\n            createBufferStrategy(2);\r\n            bufferStrategy = getBufferStrategy();\r\n    \r\n            bufferCapabilities = gc.getBufferCapabilities();\r\n    \r\n            new AnimationThread().start();\r\n        }\r\n    \r\n        class AnimationThread extends Thread {\r\n            @Override\r\n            public void run() {\r\n    \r\n                while(true) {\r\n                    Graphics2D g2 = null;\r\n                    try {\r\n                        g2 = (Graphics2D) bufferStrategy.getDrawGraphics();\r\n                        draw(g2);\r\n                    } finally {\r\n                        if(g2 != null) g2.dispose();\r\n                    }\r\n                    bufferStrategy.show();\r\n    \r\n                    try {\r\n                        Thread.sleep(16);\r\n                    } catch(Exception err) {\r\n                        err.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void draw(Graphics2D g2) {\r\n            if(!bufferCapabilities.isPageFlipping() || bufferCapabilities.isFullScreenRequired()) {\r\n                g2.setColor(Color.black);\r\n                g2.fillRect(0, 0, getWidth(), getHeight());\r\n                g2.setColor(Color.red);\r\n                g2.drawString(&quot;Hardware Acceleration is not supported...&quot;, 100, 100);\r\n                g2.setColor(Color.white);\r\n                g2.drawString(&quot;Page Flipping: &quot; + (bufferCapabilities.isPageFlipping() ? &quot;Available&quot; : &quot;Not Supported&quot;), 100, 130);\r\n                g2.drawString(&quot;Full Screen Required: &quot; + (bufferCapabilities.isFullScreenRequired() ? &quot;Required&quot; : &quot;Not Required&quot;), 100, 160);\r\n                g2.drawString(&quot;Multiple Buffer Capable: &quot; + (bufferCapabilities.isMultiBufferAvailable() ? &quot;Yes&quot; : &quot;No&quot;), 100, 190);\r\n            } else {\r\n                g2.setColor(Color.black);\r\n                g2.fillRect(0, 0, getWidth(), getHeight());\r\n                g2.setColor(Color.white);\r\n                g2.drawString(&quot;Hardware Acceleration is Working...&quot;, 100, 100);\r\n                g2.drawString(&quot;Page Flipping: &quot; + (bufferCapabilities.isPageFlipping() ? &quot;Available&quot; : &quot;Not Supported&quot;), 100, 130);\r\n                g2.drawString(&quot;Full Screen Required: &quot; + (bufferCapabilities.isFullScreenRequired() ? &quot;Required&quot; : &quot;Not Required&quot;), 100, 160);\r\n                g2.drawString(&quot;Multiple Buffer Capable: &quot; + (bufferCapabilities.isMultiBufferAvailable() ? &quot;Yes&quot; : &quot;No&quot;), 100, 190);\r\n            }\r\n    \r\n            y += delta;\r\n            if((y + 50) &gt; getHeight() || y &lt; 0) {\r\n                delta *= -1;\r\n            }\r\n    \r\n            g2.setColor(Color.blue);\r\n            g2.fillRect(getWidth()-50, y, 50, 50);\r\n        }\r\n    }\r\n\r\n&lt;h1&gt;Conclusions&lt;/h1&gt;\r\nWithout hardware acceleration a lot of apps that I&#39;ve created that require it run slowly on the machine with Integrated Graphics. Its really baffling to me why its not working specifically with this type of graphics card. Anyway thank you for reading all this hopefully we can get to the bottom of this :)!","title":"Java Hardware Acceleration not working with Intel Integrated Graphics","body":"<p>Hi everyone I hope someone can help me solve this problem. I'm having trouble getting hardware acceleration to work on a laptop with Intel Integrated Graphics.</p>\n\n<h1>The Problem:</h1>\n\n<p>Hardware Acceleration using Java 7 update 11 doesn't appear to be working with Intel Integrated Graphics on a Windows 7 and 8 machine using a BufferStrategy with a JFrame.</p>\n\n<hr>\n\n<h1>Details</h1>\n\n<p>Graphics Card: Intel(R) HD Graphics 4000<br/>\nJRE: Java 7 Update 11<br/>\nOS: Windows 7, Windows 8<br/></p>\n\n<hr>\n\n<h1>Expected Results</h1>\n\n<p><img src=\"https://i.stack.imgur.com/PmCoZ.png\" alt=\"Image of expected results (https://i.stack.imgur.com/PmCoZ.png).\"></p>\n\n<hr>\n\n<h1>Actual Results</h1>\n\n<p><img src=\"https://i.stack.imgur.com/P3gkb.png\" alt=\"Image of actual results (https://i.stack.imgur.com/P3gkb.png).\"></p>\n\n<hr>\n\n<h1> Resources </h1>\n\n<p>If you want to verify the problem you can download the app I created for testing at: <a href=\"http://ndcubed.com/downloads/GraphicsTest.zip\" rel=\"nofollow noreferrer\">http://ndcubed.com/downloads/GraphicsTest.zip</a><br/><br/>\nIf you don't feel comfortable downloading a compiled JAR file you can compile the app yourself using the following source code:</p>\n\n<pre><code>package graphicstest;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.BufferStrategy;\n\npublic class GraphicsTest extends JFrame {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                new GraphicsTest();\n            }\n        });\n    }\n\n    GraphicsConfiguration gc = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDefaultConfiguration();\n    BufferCapabilities bufferCapabilities;\n    BufferStrategy bufferStrategy;\n\n    int y = 0;\n    int delta = 1;\n\n    public GraphicsTest() {\n\n        setTitle(\"Hardware Acceleration Test\");\n        setSize(500, 300);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n\n        setVisible(true);\n\n        createBufferStrategy(2);\n        bufferStrategy = getBufferStrategy();\n\n        bufferCapabilities = gc.getBufferCapabilities();\n\n        new AnimationThread().start();\n    }\n\n    class AnimationThread extends Thread {\n        @Override\n        public void run() {\n\n            while(true) {\n                Graphics2D g2 = null;\n                try {\n                    g2 = (Graphics2D) bufferStrategy.getDrawGraphics();\n                    draw(g2);\n                } finally {\n                    if(g2 != null) g2.dispose();\n                }\n                bufferStrategy.show();\n\n                try {\n                    Thread.sleep(16);\n                } catch(Exception err) {\n                    err.printStackTrace();\n                }\n            }\n        }\n    }\n\n    public void draw(Graphics2D g2) {\n        if(!bufferCapabilities.isPageFlipping() || bufferCapabilities.isFullScreenRequired()) {\n            g2.setColor(Color.black);\n            g2.fillRect(0, 0, getWidth(), getHeight());\n            g2.setColor(Color.red);\n            g2.drawString(\"Hardware Acceleration is not supported...\", 100, 100);\n            g2.setColor(Color.white);\n            g2.drawString(\"Page Flipping: \" + (bufferCapabilities.isPageFlipping() ? \"Available\" : \"Not Supported\"), 100, 130);\n            g2.drawString(\"Full Screen Required: \" + (bufferCapabilities.isFullScreenRequired() ? \"Required\" : \"Not Required\"), 100, 160);\n            g2.drawString(\"Multiple Buffer Capable: \" + (bufferCapabilities.isMultiBufferAvailable() ? \"Yes\" : \"No\"), 100, 190);\n        } else {\n            g2.setColor(Color.black);\n            g2.fillRect(0, 0, getWidth(), getHeight());\n            g2.setColor(Color.white);\n            g2.drawString(\"Hardware Acceleration is Working...\", 100, 100);\n            g2.drawString(\"Page Flipping: \" + (bufferCapabilities.isPageFlipping() ? \"Available\" : \"Not Supported\"), 100, 130);\n            g2.drawString(\"Full Screen Required: \" + (bufferCapabilities.isFullScreenRequired() ? \"Required\" : \"Not Required\"), 100, 160);\n            g2.drawString(\"Multiple Buffer Capable: \" + (bufferCapabilities.isMultiBufferAvailable() ? \"Yes\" : \"No\"), 100, 190);\n        }\n\n        y += delta;\n        if((y + 50) &gt; getHeight() || y &lt; 0) {\n            delta *= -1;\n        }\n\n        g2.setColor(Color.blue);\n        g2.fillRect(getWidth()-50, y, 50, 50);\n    }\n}\n</code></pre>\n\n<h1>Conclusions</h1>\n\n<p>Without hardware acceleration a lot of apps that I've created that require it run slowly on the machine with Integrated Graphics. Its really baffling to me why its not working specifically with this type of graphics card. Anyway thank you for reading all this hopefully we can get to the bottom of this :)!</p>\n"},{"tags":["java","awt","bufferedimage"],"answers":[{"tags":[],"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654549138,"creation_date":1654549138,"answer_id":72523409,"question_id":72522436,"body_markdown":"getSubimage() shares the same image does not create a new one - if you read the doc.\r\n\r\nSo be very very careful with using getSubimage().\r\n\r\nThis is wasteful (since we are talking about this level of detail): \r\n\r\n    leftSlice = new BufferedImage(originalImage.getWidth(),originalImage.getHeight(),BufferedImage.TYPE_INT_ARGB);\r\n    leftSlice = originalImage.getSubimage(0,0,sliceSize,originalImage.getHeight());\r\n\r\ncreating an image by constructor and then going and overwriting that address with something else. But not a big deal if you don&#39;t care about space and in terms of correctness.\r\n\r\ngetSubimage() will affect your correctness as you have seen..\r\n\r\n","title":"Java - Appending to Buffered image via createGraphics is not working","body":"<p>getSubimage() shares the same image does not create a new one - if you read the doc.</p>\n<p>So be very very careful with using getSubimage().</p>\n<p>This is wasteful (since we are talking about this level of detail):</p>\n<pre><code>leftSlice = new BufferedImage(originalImage.getWidth(),originalImage.getHeight(),BufferedImage.TYPE_INT_ARGB);\nleftSlice = originalImage.getSubimage(0,0,sliceSize,originalImage.getHeight());\n</code></pre>\n<p>creating an image by constructor and then going and overwriting that address with something else. But not a big deal if you don't care about space and in terms of correctness.</p>\n<p>getSubimage() will affect your correctness as you have seen..</p>\n"}],"owner":{"account_id":9546953,"reputation":309,"user_id":11484157,"display_name":"Zizzyzizzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72523409,"answer_count":1,"score":0,"last_activity_date":1656436641,"creation_date":1654542593,"question_id":72522436,"body_markdown":"I&#39;m clearly missing something here. I&#39;m trying to cut a slice from an original image, move the remaining larger piece to the left and then append the cut out slice to the right side. Marquee style.\r\n\r\n*In the attached images, the ORIGINAL image is on top and the resulting BufferedImage from the drawImage functions is on the bottom.*\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis works:\r\n\r\n        try {\r\n            originalImage = ImageIO.read(new File(&quot;c:\\\\temp\\\\scanner.png&quot;));\r\n\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n\r\n        int sliceSize = 23;\r\n        scrolledImage = new BufferedImage(originalImage.getWidth(),originalImage.getHeight(),BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D g2 = scrolledImage.createGraphics();\r\n\r\n        leftSlice = new BufferedImage(originalImage.getWidth(),originalImage.getHeight(),BufferedImage.TYPE_INT_ARGB);\r\n        leftSlice = originalImage.getSubimage(0,0,sliceSize,originalImage.getHeight());\r\n        g2.drawImage(leftSlice,originalImage.getWidth()  - sliceSize,0,sliceSize,originalImage.getHeight(),null);\r\n        rightSlice = new BufferedImage(originalImage.getWidth(),originalImage.getHeight(),BufferedImage.TYPE_INT_ARGB);\r\n        rightSlice = originalImage.getSubimage(sliceSize,0,originalImage.getWidth() - sliceSize,originalImage.getHeight());\r\n        g2.drawImage(rightSlice,0,0,originalImage.getWidth() - sliceSize,originalImage.getHeight(),null);\r\n        g2.dispose();\r\n\r\nTrying to append to the leftslice with the rightslice does not work:\r\n\r\n        leftSlice = new BufferedImage(originalImage.getWidth(),originalImage.getHeight(),BufferedImage.TYPE_INT_ARGB);\r\n        leftSlice = originalImage.getSubimage(0,0,sliceSize,originalImage.getHeight());\r\n        Graphics2D left2D = leftSlice.createGraphics();\r\n        rightSlice = new BufferedImage(originalImage.getWidth(),originalImage.getHeight(),BufferedImage.TYPE_INT_ARGB);\r\n        rightSlice = originalImage.getSubimage(sliceSize,0,originalImage.getWidth() - sliceSize,originalImage.getHeight());\r\n        left2D.drawImage(rightSlice,0,0,originalImage.getWidth() - sliceSize,originalImage.getHeight(),null);\r\n        left2D.dispose();\r\n\r\n\r\nThis is what I get with the second code:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5PFrs.png\r\n  [2]: https://i.stack.imgur.com/7Pu7I.png\r\n\r\nSo..it seems to be over-writing the original image. How is that possible when I&#39;ve implicitly created a new BufferedImage (and createGraphics) and then instructed it to write over new one? Something about the getSubimage I suspect...\r\n\r\nI&#39;m just trying to eliminate the need for the extra steps and Buffered images, since this code will be used in many places for small animated elements.","title":"Java - Appending to Buffered image via createGraphics is not working","body":"<p>I'm clearly missing something here. I'm trying to cut a slice from an original image, move the remaining larger piece to the left and then append the cut out slice to the right side. Marquee style.</p>\n<p><em>In the attached images, the ORIGINAL image is on top and the resulting BufferedImage from the drawImage functions is on the bottom.</em></p>\n<p><a href=\"https://i.stack.imgur.com/5PFrs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5PFrs.png\" alt=\"enter image description here\" /></a></p>\n<p>This works:</p>\n<pre><code>    try {\n        originalImage = ImageIO.read(new File(&quot;c:\\\\temp\\\\scanner.png&quot;));\n\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n\n    int sliceSize = 23;\n    scrolledImage = new BufferedImage(originalImage.getWidth(),originalImage.getHeight(),BufferedImage.TYPE_INT_ARGB);\n    Graphics2D g2 = scrolledImage.createGraphics();\n\n    leftSlice = new BufferedImage(originalImage.getWidth(),originalImage.getHeight(),BufferedImage.TYPE_INT_ARGB);\n    leftSlice = originalImage.getSubimage(0,0,sliceSize,originalImage.getHeight());\n    g2.drawImage(leftSlice,originalImage.getWidth()  - sliceSize,0,sliceSize,originalImage.getHeight(),null);\n    rightSlice = new BufferedImage(originalImage.getWidth(),originalImage.getHeight(),BufferedImage.TYPE_INT_ARGB);\n    rightSlice = originalImage.getSubimage(sliceSize,0,originalImage.getWidth() - sliceSize,originalImage.getHeight());\n    g2.drawImage(rightSlice,0,0,originalImage.getWidth() - sliceSize,originalImage.getHeight(),null);\n    g2.dispose();\n</code></pre>\n<p>Trying to append to the leftslice with the rightslice does not work:</p>\n<pre><code>    leftSlice = new BufferedImage(originalImage.getWidth(),originalImage.getHeight(),BufferedImage.TYPE_INT_ARGB);\n    leftSlice = originalImage.getSubimage(0,0,sliceSize,originalImage.getHeight());\n    Graphics2D left2D = leftSlice.createGraphics();\n    rightSlice = new BufferedImage(originalImage.getWidth(),originalImage.getHeight(),BufferedImage.TYPE_INT_ARGB);\n    rightSlice = originalImage.getSubimage(sliceSize,0,originalImage.getWidth() - sliceSize,originalImage.getHeight());\n    left2D.drawImage(rightSlice,0,0,originalImage.getWidth() - sliceSize,originalImage.getHeight(),null);\n    left2D.dispose();\n</code></pre>\n<p>This is what I get with the second code:\n<a href=\"https://i.stack.imgur.com/7Pu7I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Pu7I.png\" alt=\"enter image description here\" /></a></p>\n<p>So..it seems to be over-writing the original image. How is that possible when I've implicitly created a new BufferedImage (and createGraphics) and then instructed it to write over new one? Something about the getSubimage I suspect...</p>\n<p>I'm just trying to eliminate the need for the extra steps and Buffered images, since this code will be used in many places for small animated elements.</p>\n"},{"tags":["java","swing","jpanel","jbutton","actionlistener"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1654799619,"post_id":72565061,"comment_id":128184645,"body_markdown":"You can invoke the `doClick()` method of the button.","body":"You can invoke the <code>doClick()</code> method of the button."},{"owner":{"account_id":20384883,"reputation":131,"user_id":16497497,"display_name":"FishyK"},"score":0,"creation_date":1654852042,"post_id":72565061,"comment_id":128195768,"body_markdown":"Yes that helped me out a lot, thank you!","body":"Yes that helped me out a lot, thank you!"}],"owner":{"account_id":20384883,"reputation":131,"user_id":16497497,"display_name":"FishyK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654857460,"answer_count":0,"score":0,"last_activity_date":1656436577,"creation_date":1654799524,"question_id":72565061,"body_markdown":"So I am trying to make a JButton get activated without it being actually pressed. However, I want this action to be performed only if a rectangle-jcomponent is touched by my player. How can I achieve this? Can I check if the position of my player is the same with the one I need and then maybe use a boolean to activate the button :?\r\n\r\nHere&#39;s how I have handled a &quot;normal&quot; click on the button. Now I additionally want the button to be activated, if the player touches the end-goal...\r\n\r\n````\r\nbuttonarea.goal_1.addActionListener(new ActionListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tcl.show(frame.getContentPane(), &quot;Goal 1 WON&quot;);\r\n\t\t\t\tgamingarea.getPanel().requestFocusInWindow();\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});","title":"How can I activate a button without it being pressed?","body":"<p>So I am trying to make a JButton get activated without it being actually pressed. However, I want this action to be performed only if a rectangle-jcomponent is touched by my player. How can I achieve this? Can I check if the position of my player is the same with the one I need and then maybe use a boolean to activate the button :?</p>\n<p>Here's how I have handled a &quot;normal&quot; click on the button. Now I additionally want the button to be activated, if the player touches the end-goal...</p>\n<pre><code>buttonarea.goal_1.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                cl.show(frame.getContentPane(), &quot;Goal 1 WON&quot;);\n                gamingarea.getPanel().requestFocusInWindow();                       \n            }\n            \n        });\n</code></pre>\n"},{"tags":["java","swing","scroll","jframe","jpanel"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1654801539,"post_id":72565375,"comment_id":128185180,"body_markdown":"Check out `JScrollPane`, and don&#39;t set the bounds of the `JTextArea`. Let is keep its preferred size, but inside the `JScrollPane`. That will make the scrollbars adjust as necessary.","body":"Check out <code>JScrollPane</code>, and don&#39;t set the bounds of the <code>JTextArea</code>. Let is keep its preferred size, but inside the <code>JScrollPane</code>. That will make the scrollbars adjust as necessary."},{"owner":{"account_id":16015998,"reputation":33,"user_id":11558732,"display_name":"Lucas Almeida"},"score":0,"creation_date":1654812166,"post_id":72565375,"comment_id":128188034,"body_markdown":"@RobSpoor I have added it and it has worked perfectly, but the scroll button only appears at them bottom, do you know how to solve this","body":"@RobSpoor I have added it and it has worked perfectly, but the scroll button only appears at them bottom, do you know how to solve this"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1654824936,"post_id":72565375,"comment_id":128190068,"body_markdown":"*but the scroll button only appears at them bottom, do you know how to solve this* - this is the way scroll panes work. Take a look at the scrollpane on this website. you have buttons at the top/bottom to do the scrolling. This is a common look and feel.","body":"<i>but the scroll button only appears at them bottom, do you know how to solve this</i> - this is the way scroll panes work. Take a look at the scrollpane on this website. you have buttons at the top/bottom to do the scrolling. This is a common look and feel."}],"owner":{"account_id":16015998,"reputation":33,"user_id":11558732,"display_name":"Lucas Almeida"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656436483,"creation_date":1654801273,"question_id":72565375,"body_markdown":"I am building this program and I would like to have a square area that is scrollable since the text is long. I&#39;ve tried some methods but it seems to cut out the text out of the length. Could anyone give me a tip on how to do this? \r\n\r\n    package gerador;\r\n    \r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.Scrollable;\r\n    \r\n    public class frameMyPasswords extends JFrame {\r\n    \r\n    \tprivate JPanel contentPane;\r\n    \r\n    \t/**\r\n    \t * Launch the application.\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tframeMyPasswords frame = new frameMyPasswords();\r\n    \t\t\t\t\tframe.setVisible(true);\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Create the frame.\r\n    \t */\r\n    \tpublic frameMyPasswords() {\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetBounds(100, 100, 450, 300);\r\n    \t\tcontentPane = new JPanel();\r\n    \t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n    \t\tsetContentPane(contentPane);\r\n    \t\tcontentPane.setLayout(null);\r\n    \t\t\r\n    \t\tJTextArea txtField = new JTextArea();\r\n    \t\t\r\n    \t\ttxtField.setLineWrap(true);\r\n    \t\ttxtField.setEditable(false);\r\n    \t\ttxtField.setToolTipText(&quot;&quot;);\r\n    \t\ttxtField.setBounds(10, 38, 419, 144);\r\n    \t\ttxtField.setText(&quot;LONG TEXT&quot;);\r\n    \t\tcontentPane.add(txtField);\r\n    \t}\r\n    }\r\n\r\n","title":"Long text scroll in JFrame","body":"<p>I am building this program and I would like to have a square area that is scrollable since the text is long. I've tried some methods but it seems to cut out the text out of the length. Could anyone give me a tip on how to do this?</p>\n<pre><code>package gerador;\n\nimport java.awt.BorderLayout;\nimport java.awt.EventQueue;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.JTextArea;\nimport javax.swing.Scrollable;\n\npublic class frameMyPasswords extends JFrame {\n\n    private JPanel contentPane;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    frameMyPasswords frame = new frameMyPasswords();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public frameMyPasswords() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 450, 300);\n        contentPane = new JPanel();\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        setContentPane(contentPane);\n        contentPane.setLayout(null);\n        \n        JTextArea txtField = new JTextArea();\n        \n        txtField.setLineWrap(true);\n        txtField.setEditable(false);\n        txtField.setToolTipText(&quot;&quot;);\n        txtField.setBounds(10, 38, 419, 144);\n        txtField.setText(&quot;LONG TEXT&quot;);\n        contentPane.add(txtField);\n    }\n}\n</code></pre>\n"},{"tags":["java","class","variables","import"],"answers":[{"tags":[],"owner":{"account_id":25658115,"reputation":79,"user_id":19424202,"display_name":"Daniellllll"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656435384,"creation_date":1656435384,"answer_id":72790482,"question_id":72790275,"body_markdown":"With Java you will have to either have to create a public Getter Method, or make the variable itself public.\r\n\r\nAs a object oriented Language Java differentiates between different access modifiers. More on that here: https://stackoverflow.com/questions/215497/what-is-the-difference-between-public-protected-package-private-and-private-in\r\n\r\nUsually one should use Getter and Setter as accessors for the variables in order to avoid creating Problems.\r\n\r\nMore on why here: https://stackoverflow.com/questions/1568091/why-use-getters-and-setters-accessors\r\n","title":"How to get access to variables from other class","body":"<p>With Java you will have to either have to create a public Getter Method, or make the variable itself public.</p>\n<p>As a object oriented Language Java differentiates between different access modifiers. More on that here: <a href=\"https://stackoverflow.com/questions/215497/what-is-the-difference-between-public-protected-package-private-and-private-in\">What is the difference between public, protected, package-private and private in Java?</a></p>\n<p>Usually one should use Getter and Setter as accessors for the variables in order to avoid creating Problems.</p>\n<p>More on why here: <a href=\"https://stackoverflow.com/questions/1568091/why-use-getters-and-setters-accessors\">Why use getters and setters/accessors?</a></p>\n"},{"tags":[],"owner":{"account_id":25381533,"reputation":56,"user_id":19193856,"display_name":"SarcasticLeo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656436432,"creation_date":1656436432,"answer_id":72790678,"question_id":72790275,"body_markdown":"**&quot;Unused import statement&quot;** Means that you haven&#39;t used your imported class yet.\r\n\r\nIt triggers for any class, like for example, good old `scanner`\r\n\r\n    import java.util.Scanner;\r\n\r\nYou will get the same warning until you use said class it. In this case, by creating a Scanner object:\r\n\r\n    Scanner input = new Scanner(System.in);\r\n\r\nAlso, do you have both of your classes inside the same package? If so, you don&#39;t have to import it, you can just call it.\r\n\r\n(Like Daniel said, I recommend using setters and getters when interacting with your class attributes so you can keep them private)","title":"How to get access to variables from other class","body":"<p><strong>&quot;Unused import statement&quot;</strong> Means that you haven't used your imported class yet.</p>\n<p>It triggers for any class, like for example, good old <code>scanner</code></p>\n<pre><code>import java.util.Scanner;\n</code></pre>\n<p>You will get the same warning until you use said class it. In this case, by creating a Scanner object:</p>\n<pre><code>Scanner input = new Scanner(System.in);\n</code></pre>\n<p>Also, do you have both of your classes inside the same package? If so, you don't have to import it, you can just call it.</p>\n<p>(Like Daniel said, I recommend using setters and getters when interacting with your class attributes so you can keep them private)</p>\n"}],"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72790482,"answer_count":2,"score":1,"last_activity_date":1656436432,"creation_date":1656434469,"question_id":72790275,"body_markdown":"So I would like to use the variable &quot;kierunek&quot; from this class\r\n```\r\npublic class Snake extends JPanel implements ActionListener{\r\nchar kierunek = &#39;D&#39;;\r\n```\r\nto this class\r\n```\r\nimport pl.java.Snake.*;\r\n\r\npublic class MyKeyListener extends KeyAdapter {\r\n```\r\nimporting shows &quot;Unused import statement&quot;, I tried to find soulution, but there is nothing helping me","title":"How to get access to variables from other class","body":"<p>So I would like to use the variable &quot;kierunek&quot; from this class</p>\n<pre><code>public class Snake extends JPanel implements ActionListener{\nchar kierunek = 'D';\n</code></pre>\n<p>to this class</p>\n<pre><code>import pl.java.Snake.*;\n\npublic class MyKeyListener extends KeyAdapter {\n</code></pre>\n<p>importing shows &quot;Unused import statement&quot;, I tried to find soulution, but there is nothing helping me</p>\n"},{"tags":["java","swing","jframe","jpanel","jscrollpane"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1654816355,"post_id":72567541,"comment_id":128188728,"body_markdown":"Don&#39;t use `null` layouts, make use of appropriate layout managers, see [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)","body":"Don&#39;t use <code>null</code> layouts, make use of appropriate layout managers, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1654816517,"post_id":72567541,"comment_id":128188751,"body_markdown":"You&#39;ll find that the scroll bar button positions are determined by the look and feel and aren&#39;t otherwise configurable.  You want to change this, then change to a look and feel which supports your desired intent or write your own scroll bar look and feel delegate - neither scenario is particularly desirable and may just end up confusing users who are otherwise use to these things been in pre-determined places - just saying","body":"You&#39;ll find that the scroll bar button positions are determined by the look and feel and aren&#39;t otherwise configurable.  You want to change this, then change to a look and feel which supports your desired intent or write your own scroll bar look and feel delegate - neither scenario is particularly desirable and may just end up confusing users who are otherwise use to these things been in pre-determined places - just saying"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1654825422,"post_id":72567541,"comment_id":128190153,"body_markdown":"1) Class names should start with an upper case character. All classes in the JDK follow this convention.  2) Swing has a JTextField and JTextArea. Why would you give your JTextArea a variable name of &quot;textField&quot;. That is very confusing. Use meaningful variable names.","body":"1) Class names should start with an upper case character. All classes in the JDK follow this convention.  2) Swing has a JTextField and JTextArea. Why would you give your JTextArea a variable name of &quot;textField&quot;. That is very confusing. Use meaningful variable names."}],"owner":{"account_id":16015998,"reputation":33,"user_id":11558732,"display_name":"Lucas Almeida"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656436350,"creation_date":1654816200,"question_id":72567541,"body_markdown":"I have this `JFrame` that has a `JScrollPane` and a `JTextArea` inside it, it works okay but the scroll button only appears at the bottom, I want it to show at the top as default. How can I change this?\r\n\r\n```\r\npublic class frameMyPasswords extends JFrame {\r\n\r\n\tprivate JPanel contentPane;\r\n\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tframeMyPasswords frame = new frameMyPasswords();\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the frame.\r\n\t */\r\n\tpublic frameMyPasswords() {\r\n\t\tsetDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n\t\tsetBounds(100, 100, 450, 300);\r\n\t\tcontentPane = new JPanel();\r\n\t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\t\tsetContentPane(contentPane);\r\n\t\tcontentPane.setLayout(null);\r\n\t\t\r\n\t\tJScrollPane scrollPane = new JScrollPane();\r\n\t\tscrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\t//scrollPane.getViewport().setViewPosition( new Point(0, 0) );\r\n\t\tscrollPane.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\r\n\t\tscrollPane.getVerticalScrollBar().setValue(0);\r\n\t\tscrollPane.setBounds(10, 45, 414, 194);\r\n\t\tcontentPane.add(scrollPane);\r\n\t\t\r\n\t\tJTextArea txtField = new JTextArea();\r\n\t\tscrollPane.setViewportView(txtField);\r\n\t\t\r\n\t\ttxtField.setLineWrap(true);\r\n\t\ttxtField.setEditable(false);\r\n\t\ttxtField.setToolTipText(&quot;&quot;);\r\n\t\ttxtField.setText(&quot;LONG TEXT&quot;);\r\n\t}\r\n}\r\n```","title":"JScrollPane scroll only appears at bottom","body":"<p>I have this <code>JFrame</code> that has a <code>JScrollPane</code> and a <code>JTextArea</code> inside it, it works okay but the scroll button only appears at the bottom, I want it to show at the top as default. How can I change this?</p>\n<pre><code>public class frameMyPasswords extends JFrame {\n\n    private JPanel contentPane;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    frameMyPasswords frame = new frameMyPasswords();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public frameMyPasswords() {\n        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        setBounds(100, 100, 450, 300);\n        contentPane = new JPanel();\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        setContentPane(contentPane);\n        contentPane.setLayout(null);\n        \n        JScrollPane scrollPane = new JScrollPane();\n        scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n        //scrollPane.getViewport().setViewPosition( new Point(0, 0) );\n        scrollPane.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\n        scrollPane.getVerticalScrollBar().setValue(0);\n        scrollPane.setBounds(10, 45, 414, 194);\n        contentPane.add(scrollPane);\n        \n        JTextArea txtField = new JTextArea();\n        scrollPane.setViewportView(txtField);\n        \n        txtField.setLineWrap(true);\n        txtField.setEditable(false);\n        txtField.setToolTipText(&quot;&quot;);\n        txtField.setText(&quot;LONG TEXT&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","user-interface","cmd","filechooser"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1656408778,"post_id":72783965,"comment_id":128559042,"body_markdown":"what is the use of building a gui if you are going to work through a terminal?","body":"what is the use of building a gui if you are going to work through a terminal?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1656408798,"post_id":72783965,"comment_id":128559049,"body_markdown":"[Run cmd commands through Java](https://stackoverflow.com/questions/15464111/run-cmd-commands-through-java)","body":"<a href=\"https://stackoverflow.com/questions/15464111/run-cmd-commands-through-java\">Run cmd commands through Java</a>"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1656408958,"post_id":72783965,"comment_id":128559110,"body_markdown":"Have a look at SwingWorker to integrate background tasks with a swing GUI.","body":"Have a look at SwingWorker to integrate background tasks with a swing GUI."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1656409322,"post_id":72783965,"comment_id":128559269,"body_markdown":"@Stultuske Perhaps an application to &quot;hide&quot; the terminal behind a presumably more user-friendly GUI?","body":"@Stultuske Perhaps an application to &quot;hide&quot; the terminal behind a presumably more user-friendly GUI?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1656409942,"post_id":72783965,"comment_id":128559494,"body_markdown":"@Slaw yes, but then the terminal usage wouldn&#39;t be there anymore","body":"@Slaw yes, but then the terminal usage wouldn&#39;t be there anymore"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1656410070,"post_id":72783965,"comment_id":128559544,"body_markdown":"@Stultuske But I believe that&#39;s the point. To let the user choose a file via a GUI and then fork a CMD process to execute the needed series of actions.","body":"@Stultuske But I believe that&#39;s the point. To let the user choose a file via a GUI and then fork a CMD process to execute the needed series of actions."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1656412411,"post_id":72783965,"comment_id":128560442,"body_markdown":"I would advice to use [**`ProcessBuilder`**](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessBuilder.html)","body":"I would advice to use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\"><b><code>ProcessBuilder</code></b></a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1656415646,"post_id":72783965,"comment_id":128561678,"body_markdown":"[Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a>"}],"answers":[{"tags":[],"owner":{"account_id":4346982,"reputation":21,"user_id":11317083,"display_name":"itapi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656412053,"creation_date":1656410297,"answer_id":72784379,"question_id":72783965,"body_markdown":"You can try this:\r\n\r\n\r\n    String command = &quot;cd C:\\users&quot;;\r\n    Process p = Runtime.getRuntime().exec(command);\r\n\r\nAnd for multiple commands you can use the `&amp;&amp;` operator\r\n\r\n    Runtime.getRuntime().exec(&quot;cmd /c \\&quot;start somefile.bat &amp;&amp; start other.bat &amp;&amp; cd C:\\\\test &amp;&amp; test.exe\\&quot;&quot;);\r\n","title":"Run cmd commands in the background through java","body":"<p>You can try this:</p>\n<pre><code>String command = &quot;cd C:\\users&quot;;\nProcess p = Runtime.getRuntime().exec(command);\n</code></pre>\n<p>And for multiple commands you can use the <code>&amp;&amp;</code> operator</p>\n<pre><code>Runtime.getRuntime().exec(&quot;cmd /c \\&quot;start somefile.bat &amp;&amp; start other.bat &amp;&amp; cd C:\\\\test &amp;&amp; test.exe\\&quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":23512141,"reputation":39,"user_id":17560591,"display_name":"abc"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656436003,"creation_date":1656408617,"question_id":72783965,"body_markdown":"I am creating a GUI in java that requires a set of commands to be run through the command line one after the other in the background after the user selects a file and clicks a button in the GUI. The commands to be executed will include the path of the file. How can I get the command line to run in the background with a set of commands after the user selects a button?\r\n\r\nThe GUI as of now only includes the file chooser.\r\n```java\r\nimport java.io.File;\r\n\r\nimport javax.swing.JFileChooser;\r\nimport javax.swing.filechooser.FileSystemView;\r\n\r\npublic class GUIProject {\r\n\r\n    public static void main(String[] args) {\r\n        JFileChooser jfc = new JFileChooser(FileSystemView.getFileSystemView().getHomeDirectory());\r\n        int returnValue = jfc.showOpenDialog(null);\r\n        // int returnValue = jfc.showSaveDialog(null);\r\n        if (returnValue == JFileChooser.APPROVE_OPTION) {\r\n            File selectedFile = jfc.getSelectedFile();\r\n            System.out.println(selectedFile.getAbsolutePath()); //Instead of printing send it to cmd and perform more commands \r\n        }\r\n    }\r\n}\r\n```","title":"Run cmd commands in the background through java","body":"<p>I am creating a GUI in java that requires a set of commands to be run through the command line one after the other in the background after the user selects a file and clicks a button in the GUI. The commands to be executed will include the path of the file. How can I get the command line to run in the background with a set of commands after the user selects a button?</p>\n<p>The GUI as of now only includes the file chooser.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\n\nimport javax.swing.JFileChooser;\nimport javax.swing.filechooser.FileSystemView;\n\npublic class GUIProject {\n\n    public static void main(String[] args) {\n        JFileChooser jfc = new JFileChooser(FileSystemView.getFileSystemView().getHomeDirectory());\n        int returnValue = jfc.showOpenDialog(null);\n        // int returnValue = jfc.showSaveDialog(null);\n        if (returnValue == JFileChooser.APPROVE_OPTION) {\n            File selectedFile = jfc.getSelectedFile();\n            System.out.println(selectedFile.getAbsolutePath()); //Instead of printing send it to cmd and perform more commands \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","html","forms","jsp","servlets"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1656435426,"post_id":72790392,"comment_id":128569835,"body_markdown":"The reason is rs.getString is inside the double quote so it&#39;s just part of a string.  You want to contact the result of rs.getString(i) to the string.  For example: ``` &quot;&lt;input type=\\&quot;text\\&quot; name=\\&quot;titel\\&quot; value=\\&quot;&quot; + rs.getString(i) + &quot;\\&quot; + ...```","body":"The reason is rs.getString is inside the double quote so it&#39;s just part of a string.  You want to contact the result of rs.getString(i) to the string.  For example: ``` &quot;&lt;input type=\\&quot;text\\&quot; name=\\&quot;titel\\&quot; value=\\&quot;&quot; + rs.getString(i) + &quot;\\&quot; + ...```"},{"owner":{"display_name":"user19434217"},"score":0,"creation_date":1656435598,"post_id":72790392,"comment_id":128569894,"body_markdown":"Thank you so much! How can i give you credits for your help?","body":"Thank you so much! How can i give you credits for your help?"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1656435823,"post_id":72790392,"comment_id":128569979,"body_markdown":"I will write an answer and you can select it as the answer if it solves your problem.","body":"I will write an answer and you can select it as the answer if it solves your problem."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656435864,"creation_date":1656435864,"answer_id":72790575,"question_id":72790392,"body_markdown":"The reason is ```rs.getString(i)``` is inside the double quote so it&#39;s just part of a string. You want to concat the result of rs.getString(i) to the string. \r\n\r\nFor example: \r\n\r\n``` &quot;&lt;input type=\\&quot;text\\&quot; name=\\&quot;titel\\&quot; value=\\&quot;&quot; + rs.getString(i) + &quot;\\&quot; + ...```","title":"How to submit data via Form in a For-Loop?","body":"<p>The reason is <code>rs.getString(i)</code> is inside the double quote so it's just part of a string. You want to concat the result of rs.getString(i) to the string.</p>\n<p>For example:</p>\n<p><code> &quot;&lt;input type=\\&quot;text\\&quot; name=\\&quot;titel\\&quot; value=\\&quot;&quot; + rs.getString(i) + &quot;\\&quot; + ...</code></p>\n"}],"owner":{"display_name":"user19434217"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72790575,"answer_count":1,"score":0,"last_activity_date":1656435864,"creation_date":1656434990,"question_id":72790392,"body_markdown":"I have a method that prints a table with values of 7 columns. I wanted the data of the fifth columns to be a link, that when i click on them i get directed to another page, where I have more details about that specific value.\r\n\r\n    for (int i = 1; i &lt;= col; i++) {\r\n\t\t\t\t// columnnnames being written\r\n\t\t\t\ttable += &quot;&lt;th&gt;&quot; + firstUpper(rsmd.getColumnName(i)) + &quot;&lt;/th&gt;&quot;;\r\n\t\t\t}\r\n\t\t\t// close head of table\r\n\t\t\ttable += &quot;&lt;/tr&gt;&quot; + &quot;&lt;/thead&gt;&quot;;\r\n\t\t\t// Eigentliche Inhalte werden gefuellt\r\n\t\t\tdo {\r\n\t\t\t\t// Start 1.Row\r\n\t\t\t\ttable += &quot;&lt;tr&gt;&quot;;\r\n\t\t\t\t// For Loop through all values\r\n\t\t\t\tfor (int i = 1; i &lt;= col; i++) {\r\n\t\t\t\t\t// if column 5, put in a form\r\n\t\t\t\t\tif (i == 5) { \r\n\t\t\t\t\t\ttable += &quot;&lt;td&gt;&quot; + &quot;&lt;form method=\\&quot;POST\\&quot; action=\\&quot;seminarDetailansichtServlet\\&quot;&gt;&quot; \r\n\t\t\t\t\t+  &quot;&lt;input type=\\&quot;text\\&quot; name=\\&quot;titel\\&quot; value=\\&quot;rs.getString(i)\\&quot; readonly&gt;&quot; + &quot;&lt;input type=\\&quot;submit\\&quot; value=\\&quot;Detailansicht\\&quot;&gt;&quot;\r\n\t\t\t\t\t+ &quot;&lt;/form&gt;&quot; + &quot;&lt;/td&gt;&quot;;\r\n\t\t\t\t\t\tSystem.err.print(&quot;der kommt an&quot;);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttable += &quot;&lt;td&gt;&quot; + rs.getString(i) + &quot;&lt;/td&gt;&quot;;\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttable += &quot;&lt;/tr&gt;&quot;;\r\n\t\t\t} while (rs.next());\r\n\r\n\r\nso I can submit the specific value i clicked on to get more details of it in my seminarDetailansicht.jsp. But when I&#39;m running my program, it shows in the input fields &quot;rs.getString(i)&quot; instead of the real value (title). \r\nIs there another possibility to submit the value or what am I doing wrong that it doesn&#39;t show the actual value?\r\n\r\nThanks","title":"How to submit data via Form in a For-Loop?","body":"<p>I have a method that prints a table with values of 7 columns. I wanted the data of the fifth columns to be a link, that when i click on them i get directed to another page, where I have more details about that specific value.</p>\n<pre><code>for (int i = 1; i &lt;= col; i++) {\n            // columnnnames being written\n            table += &quot;&lt;th&gt;&quot; + firstUpper(rsmd.getColumnName(i)) + &quot;&lt;/th&gt;&quot;;\n        }\n        // close head of table\n        table += &quot;&lt;/tr&gt;&quot; + &quot;&lt;/thead&gt;&quot;;\n        // Eigentliche Inhalte werden gefuellt\n        do {\n            // Start 1.Row\n            table += &quot;&lt;tr&gt;&quot;;\n            // For Loop through all values\n            for (int i = 1; i &lt;= col; i++) {\n                // if column 5, put in a form\n                if (i == 5) { \n                    table += &quot;&lt;td&gt;&quot; + &quot;&lt;form method=\\&quot;POST\\&quot; action=\\&quot;seminarDetailansichtServlet\\&quot;&gt;&quot; \n                +  &quot;&lt;input type=\\&quot;text\\&quot; name=\\&quot;titel\\&quot; value=\\&quot;rs.getString(i)\\&quot; readonly&gt;&quot; + &quot;&lt;input type=\\&quot;submit\\&quot; value=\\&quot;Detailansicht\\&quot;&gt;&quot;\n                + &quot;&lt;/form&gt;&quot; + &quot;&lt;/td&gt;&quot;;\n                    System.err.print(&quot;der kommt an&quot;);\n                } else {\n                    table += &quot;&lt;td&gt;&quot; + rs.getString(i) + &quot;&lt;/td&gt;&quot;;\n                \n                }\n            }\n            table += &quot;&lt;/tr&gt;&quot;;\n        } while (rs.next());\n</code></pre>\n<p>so I can submit the specific value i clicked on to get more details of it in my seminarDetailansicht.jsp. But when I'm running my program, it shows in the input fields &quot;rs.getString(i)&quot; instead of the real value (title).\nIs there another possibility to submit the value or what am I doing wrong that it doesn't show the actual value?</p>\n<p>Thanks</p>\n"},{"tags":["java","ant","dita-ot"],"comments":[{"owner":{"account_id":1111287,"reputation":1809,"user_id":1101698,"display_name":"Radu Coravu"},"score":1,"creation_date":1656498747,"post_id":72790536,"comment_id":128585945,"body_markdown":"So you are running in the command line just &quot;dita -install&quot;, right? Did you make any changes inside the DITA OT folder after downloading it? Do you have in your environmental CLASSPATH variable a reference to an older Saxon installation?","body":"So you are running in the command line just &quot;dita -install&quot;, right? Did you make any changes inside the DITA OT folder after downloading it? Do you have in your environmental CLASSPATH variable a reference to an older Saxon installation?"},{"owner":{"account_id":1084445,"reputation":60,"user_id":1080506,"display_name":"Jason Coleman"},"score":0,"creation_date":1656525337,"post_id":72790536,"comment_id":128596855,"body_markdown":"@radu-coravu The CLASSPATH variable was the issue pointing to a different (though newer) version of Saxon HE. Saxon HE 10.6 is included in the current build of the DITA OT (v3.7.2) where as I had Saxon HE 11.3 on the CLASSPATH. \n\nI also had the Apache XML Resolver on the CLASSPATH and _did_ try removing that, but didn&#39;t think to remove the link to Saxon, which is where the problem was. Thanks!","body":"@radu-coravu The CLASSPATH variable was the issue pointing to a different (though newer) version of Saxon HE. Saxon HE 10.6 is included in the current build of the DITA OT (v3.7.2) where as I had Saxon HE 11.3 on the CLASSPATH.   I also had the Apache XML Resolver on the CLASSPATH and <i>did</i> try removing that, but didn&#39;t think to remove the link to Saxon, which is where the problem was. Thanks!"},{"owner":{"account_id":1111287,"reputation":1809,"user_id":1101698,"display_name":"Radu Coravu"},"score":2,"creation_date":1656579934,"post_id":72790536,"comment_id":128609416,"body_markdown":"With pleasure, the DITA OT Java code is very much connected to the particular Saxon libraries bundled with it. As Saxon changes its APIs quite often, usually changing the Saxon libraries even to a newer version used by the DITA OT is not an option. There is an opened issue to update the DITA OT to Saxon 11 in the future: https://github.com/dita-ot/dita-ot/issues/3868","body":"With pleasure, the DITA OT Java code is very much connected to the particular Saxon libraries bundled with it. As Saxon changes its APIs quite often, usually changing the Saxon libraries even to a newer version used by the DITA OT is not an option. There is an opened issue to update the DITA OT to Saxon 11 in the future: <a href=\"https://github.com/dita-ot/dita-ot/issues/3868\" rel=\"nofollow noreferrer\">github.com/dita-ot/dita-ot/issues/3868</a>"}],"owner":{"account_id":1084445,"reputation":60,"user_id":1080506,"display_name":"Jason Coleman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656435666,"creation_date":1656435666,"question_id":72790536,"body_markdown":"I&#39;m attempting to run a recent version of the DITA Open Toolkit on a new machine. However, I am getting the following error when using the ```dita install``` command via CL:\r\n&gt;```Error: &#39;net.sf.saxon.Configuration.setURIResolver(javax.xml.transform.URIResolver)&#39; ```\r\n\r\nThis error occurs when running HTML5 and XHTML plus CSS sample ant files as well:\r\n&gt;``` BUILD FAILED\r\n&gt; D:\\DITA\\DITA-OT_3.7.2\\docsrc\\samples\\ant_sample\\sample_xhtml_plus_css.xml:11: The following error occurred while executing this line:\r\n&gt; D:\\DITA\\DITA-OT_3.7.2\\plugins\\org.dita.base\\build.xml:29: The following error occurred while executing this line:\r\n&gt; D:\\DITA\\DITA-OT_3.7.2\\plugins\\org.dita.base\\build_init.xml:73: java.lang.NoSuchMethodError: net.sf.saxon.Configuration.setURIResolver(Ljavax/xml/transform/URIResolver;)V\r\n&gt; \tat org.dita.dost.util.XMLUtils.&lt;init&gt;(XMLUtils.java:85)\r\n&gt; \tat org.dita.dost.ant.InitializeProjectTask.execute(InitializeProjectTask.java:46)\r\n&gt; \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\r\n&gt; \tat sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)\r\n&gt; \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n&gt; \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n&gt; \tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n&gt; \tat org.apache.tools.ant.Task.perform(Task.java:350)\r\n&gt; \tat org.apache.tools.ant.Target.execute(Target.java:449)\r\n&gt; \tat org.apache.tools.ant.Target.performTasks(Target.java:470)\r\n&gt; \tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\r\n&gt; \tat org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:36)\r\n&gt; \tat org.apache.tools.ant.Project.executeTargets(Project.java:1264)\r\n&gt; \tat org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:437)\r\n&gt; \tat org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:106)\r\n&gt; \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\r\n&gt; \tat sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)\r\n&gt; \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n&gt; \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n&gt; \tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n&gt; \tat org.apache.tools.ant.Task.perform(Task.java:350)\r\n&gt; \tat org.apache.tools.ant.Target.execute(Target.java:449)\r\n&gt; \tat org.apache.tools.ant.Target.performTasks(Target.java:470)\r\n&gt; \tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\r\n&gt; \tat org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:36)\r\n&gt; \tat org.apache.tools.ant.Project.executeTargets(Project.java:1264)\r\n&gt; \tat org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:437)\r\n&gt; \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n&gt; \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n&gt; \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n&gt; \tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n&gt; \tat org.apache.tools.ant.Task.perform(Task.java:350)\r\n&gt; \tat org.apache.tools.ant.Target.execute(Target.java:449)\r\n&gt; \tat org.apache.tools.ant.Target.performTasks(Target.java:470)\r\n&gt; \tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\r\n&gt; \tat org.apache.tools.ant.Project.executeTarget(Project.java:1374)\r\n&gt; \tat org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\r\n&gt; \tat org.apache.tools.ant.Project.executeTargets(Project.java:1264)\r\n&gt; \tat org.apache.tools.ant.Main.runBuild(Main.java:818)\r\n&gt; \tat org.apache.tools.ant.Main.startAnt(Main.java:223)\r\n&gt; \tat org.apache.tools.ant.launch.Launcher.run(Launcher.java:284)\r\n&gt; \tat org.apache.tools.ant.launch.Launcher.main(Launcher.java:101)\r\n&gt; \r\n&gt; Total time: 1 second\r\n\r\nI&#39;ve tried using JDK 18, OpenJDK 17, as well as &quot;downgrading&quot; to JDK 13 with the same results (and the same with JRE 1.8).\r\n\r\nI&#39;ve tried with DITA OT builds 3.7.2, 3.6.1, and 3.5.4 all with the same error, as well. I&#39;ve not been able to find anything so far regarding how to troubleshoot this issue nor other options to try. I will note that oXygen 24.1 HTML transformations work normally and I am was able to successfully copy and run the oXygen dita framework independently (though that&#39;s not a practical solution for using the DITA OT).\r\n\r\nSo the question is how can I get the URIResolver to work so that the DITA Open Toolkit will run? TIA.","title":"How do I fix URI Resolver error in DITA OT?","body":"<p>I'm attempting to run a recent version of the DITA Open Toolkit on a new machine. However, I am getting the following error when using the <code>dita install</code> command via CL:</p>\n<blockquote>\n<p><code>Error: 'net.sf.saxon.Configuration.setURIResolver(javax.xml.transform.URIResolver)' </code></p>\n</blockquote>\n<p>This error occurs when running HTML5 and XHTML plus CSS sample ant files as well:</p>\n<blockquote>\n<pre><code>D:\\DITA\\DITA-OT_3.7.2\\docsrc\\samples\\ant_sample\\sample_xhtml_plus_css.xml:11: The following error occurred while executing this line:\nD:\\DITA\\DITA-OT_3.7.2\\plugins\\org.dita.base\\build.xml:29: The following error occurred while executing this line:\nD:\\DITA\\DITA-OT_3.7.2\\plugins\\org.dita.base\\build_init.xml:73: java.lang.NoSuchMethodError: net.sf.saxon.Configuration.setURIResolver(Ljavax/xml/transform/URIResolver;)V\n  at org.dita.dost.util.XMLUtils.&lt;init&gt;(XMLUtils.java:85)\n  at org.dita.dost.ant.InitializeProjectTask.execute(InitializeProjectTask.java:46)\n  at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\n  at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.lang.reflect.Method.invoke(Unknown Source)\n  at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n  at org.apache.tools.ant.Task.perform(Task.java:350)\n  at org.apache.tools.ant.Target.execute(Target.java:449)\n  at org.apache.tools.ant.Target.performTasks(Target.java:470)\n  at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\n  at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:36)\n  at org.apache.tools.ant.Project.executeTargets(Project.java:1264)\n  at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:437)\n  at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:106)\n  at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\n  at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.lang.reflect.Method.invoke(Unknown Source)\n  at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n  at org.apache.tools.ant.Task.perform(Task.java:350)\n  at org.apache.tools.ant.Target.execute(Target.java:449)\n  at org.apache.tools.ant.Target.performTasks(Target.java:470)\n  at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\n  at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:36)\n  at org.apache.tools.ant.Project.executeTargets(Project.java:1264)\n  at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:437)\n  at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:299)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.lang.reflect.Method.invoke(Unknown Source)\n  at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n  at org.apache.tools.ant.Task.perform(Task.java:350)\n  at org.apache.tools.ant.Target.execute(Target.java:449)\n  at org.apache.tools.ant.Target.performTasks(Target.java:470)\n  at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1401)\n  at org.apache.tools.ant.Project.executeTarget(Project.java:1374)\n  at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n  at org.apache.tools.ant.Project.executeTargets(Project.java:1264)\n  at org.apache.tools.ant.Main.runBuild(Main.java:818)\n  at org.apache.tools.ant.Main.startAnt(Main.java:223)\n  at org.apache.tools.ant.launch.Launcher.run(Launcher.java:284)\n  at org.apache.tools.ant.launch.Launcher.main(Launcher.java:101)\n\nTotal time: 1 second\n</code></pre>\n</blockquote>\n<p>I've tried using JDK 18, OpenJDK 17, as well as &quot;downgrading&quot; to JDK 13 with the same results (and the same with JRE 1.8).</p>\n<p>I've tried with DITA OT builds 3.7.2, 3.6.1, and 3.5.4 all with the same error, as well. I've not been able to find anything so far regarding how to troubleshoot this issue nor other options to try. I will note that oXygen 24.1 HTML transformations work normally and I am was able to successfully copy and run the oXygen dita framework independently (though that's not a practical solution for using the DITA OT).</p>\n<p>So the question is how can I get the URIResolver to work so that the DITA Open Toolkit will run? TIA.</p>\n"},{"tags":["java","regex","split","kotlin"],"answers":[{"tags":[],"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1499890831,"creation_date":1499883379,"answer_id":45064905,"question_id":45064788,"body_markdown":"you should using `String#split(Regex)` instead, for example:\r\n\r\n    val str = &quot;12+20*/2-4&quot;;\r\n    val arr = str.split(&quot;\\\\p{Punct}&quot;.toRegex());\r\n    //  ^--- but the result is [&quot;12&quot;,&quot;20&quot;,&quot;&quot;,&quot;2&quot;,&quot;4&quot;]\r\n\r\n    val arr2 = arr.filter{ !it.isBlank() };\r\n    //  ^--- you can filter it as further, and result is: [&quot;12&quot;,&quot;20&quot;,&quot;2&quot;,&quot;4&quot;]\r\n\r\n**OR** you can split more *Punctuation*s by using `\\\\p{Punct}+` , for example:\r\n\r\n    val arr = str.split(&quot;\\\\p{Punct}+&quot;.toRegex())\r\n    //  ^--- result is: [&quot;12&quot;,&quot;20&quot;,&quot;2&quot;,&quot;4&quot;]\r\n\r\n**OR** *invert* the regex and using `Regex#findAll` instead, and you can find out the negative numbers in this way. for example:\r\n\r\n    val str =&quot;12+20*/2+(-4)&quot;;\r\n\r\n    val arr =&quot;(?&lt;!\\\\d)-?[^\\\\p{Punct}]+&quot;.toRegex().findAll(str).map{ it.value }.toList()\r\n    //  ^--- result is [&quot;12&quot;,&quot;20&quot;,&quot;2&quot;,&quot;-4&quot;]\r\n    //   negative number is found   ---^\r\n","title":"Why is Kotlin String.split with a regex string not the same as Java?","body":"<p>you should using <code>String#split(Regex)</code> instead, for example:</p>\n\n<pre><code>val str = \"12+20*/2-4\";\nval arr = str.split(\"\\\\p{Punct}\".toRegex());\n//  ^--- but the result is [\"12\",\"20\",\"\",\"2\",\"4\"]\n\nval arr2 = arr.filter{ !it.isBlank() };\n//  ^--- you can filter it as further, and result is: [\"12\",\"20\",\"2\",\"4\"]\n</code></pre>\n\n<p><strong>OR</strong> you can split more <em>Punctuation</em>s by using <code>\\\\p{Punct}+</code> , for example:</p>\n\n<pre><code>val arr = str.split(\"\\\\p{Punct}+\".toRegex())\n//  ^--- result is: [\"12\",\"20\",\"2\",\"4\"]\n</code></pre>\n\n<p><strong>OR</strong> <em>invert</em> the regex and using <code>Regex#findAll</code> instead, and you can find out the negative numbers in this way. for example:</p>\n\n<pre><code>val str =\"12+20*/2+(-4)\";\n\nval arr =\"(?&lt;!\\\\d)-?[^\\\\p{Punct}]+\".toRegex().findAll(str).map{ it.value }.toList()\n//  ^--- result is [\"12\",\"20\",\"2\",\"-4\"]\n//   negative number is found   ---^\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9485358,"reputation":464,"user_id":7051875,"display_name":"tango24"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499883513,"creation_date":1499883513,"answer_id":45064944,"question_id":45064788,"body_markdown":"You can call \r\n\r\n    str.split(Regex(&quot;{\\\\p{Punct}&quot;))\r\n","title":"Why is Kotlin String.split with a regex string not the same as Java?","body":"<p>You can call </p>\n\n<pre><code>str.split(Regex(\"{\\\\p{Punct}\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4620709,"reputation":8655,"user_id":3745896,"accept_rate":93,"display_name":"River"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1541829649,"creation_date":1499883564,"answer_id":45064960,"question_id":45064788,"body_markdown":"For regex behavior, your argument **must** be of type `Regex`, not merely a `String` containing special regex characters.  \r\n\r\nMost string manipulation methods in Kotlin ([`replace`][2], [`split`][3], etc.) can take both `String` and `Regex` arguments, but you must convert your `String` to `Regex` if you want regex-specific matching.\r\n\r\nThis conversion can be done using `String.toRegex()` or `Regex(String)`:\r\n\r\n    val str = &quot;12+20*/2-4&quot;;\r\n    str.split(&quot;\\\\p{Punct}&quot;.toRegex()) //this\r\n    str.split(Regex(&quot;\\\\p{Punct}&quot;)) //or this\r\n\r\n\r\nCurrently [`split`][3] is treating that first backslash as an escape character instead of recognizing it as a special regex sequence.\r\n\r\n---\r\n\r\nas mentioned by @holi-java in [their answer][4] this will match an empty string between `*` and `/` giving `[&quot;12&quot;,&quot;20&quot;,&quot;&quot;,&quot;2&quot;,&quot;4&quot;]`. You can use `&quot;\\\\p{Punct}+&quot;` as your regex to avoid this. (Though note that Java gives the output *with* this empty string unless a `+` is included there as well.)\r\n\r\n\r\n[1]: https://stackoverflow.com/questions/37070352/how-do-i-replace-duplicate-whitespaces-in-a-string-in-kotlin\r\n[2]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/replace.html\r\n[3]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\r\n[4]: https://stackoverflow.com/a/45064905/3745896","title":"Why is Kotlin String.split with a regex string not the same as Java?","body":"<p>For regex behavior, your argument <strong>must</strong> be of type <code>Regex</code>, not merely a <code>String</code> containing special regex characters.  </p>\n\n<p>Most string manipulation methods in Kotlin (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/replace.html\" rel=\"noreferrer\"><code>replace</code></a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\" rel=\"noreferrer\"><code>split</code></a>, etc.) can take both <code>String</code> and <code>Regex</code> arguments, but you must convert your <code>String</code> to <code>Regex</code> if you want regex-specific matching.</p>\n\n<p>This conversion can be done using <code>String.toRegex()</code> or <code>Regex(String)</code>:</p>\n\n<pre><code>val str = \"12+20*/2-4\";\nstr.split(\"\\\\p{Punct}\".toRegex()) //this\nstr.split(Regex(\"\\\\p{Punct}\")) //or this\n</code></pre>\n\n<p>Currently <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\" rel=\"noreferrer\"><code>split</code></a> is treating that first backslash as an escape character instead of recognizing it as a special regex sequence.</p>\n\n<hr>\n\n<p>as mentioned by @holi-java in <a href=\"https://stackoverflow.com/a/45064905/3745896\">their answer</a> this will match an empty string between <code>*</code> and <code>/</code> giving <code>[\"12\",\"20\",\"\",\"2\",\"4\"]</code>. You can use <code>\"\\\\p{Punct}+\"</code> as your regex to avoid this. (Though note that Java gives the output <em>with</em> this empty string unless a <code>+</code> is included there as well.)</p>\n"},{"tags":[],"owner":{"account_id":2023658,"reputation":4118,"user_id":1809268,"accept_rate":22,"display_name":"Ajith M A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656435486,"creation_date":1656435486,"answer_id":72790504,"question_id":45064788,"body_markdown":"From Kotlin 1.6 there is a better and easier way of doing this.\r\n\r\n\r\n    fun main() {\r\n        val str = &quot;12+20*/2-4&quot;\r\n    \tval regex = &quot;\\\\p{Punct}&quot;.toRegex()\r\n    \tvar arr = str.splitToSequence(regex);\r\n        arr.forEach(){\r\n                println(it.toString())\r\n        }\r\n    }\r\n\r\n**Reference:** https://kotlinlang.org/docs/whatsnew16.html#splitting-regex-into-a-sequence","title":"Why is Kotlin String.split with a regex string not the same as Java?","body":"<p>From Kotlin 1.6 there is a better and easier way of doing this.</p>\n<pre><code>fun main() {\n    val str = &quot;12+20*/2-4&quot;\n    val regex = &quot;\\\\p{Punct}&quot;.toRegex()\n    var arr = str.splitToSequence(regex);\n    arr.forEach(){\n            println(it.toString())\n    }\n}\n</code></pre>\n<p><strong>Reference:</strong> <a href=\"https://kotlinlang.org/docs/whatsnew16.html#splitting-regex-into-a-sequence\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/whatsnew16.html#splitting-regex-into-a-sequence</a></p>\n"}],"owner":{"account_id":10079090,"reputation":287,"user_id":7450104,"accept_rate":75,"display_name":"Ilya Fedoseev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18480,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":45064905,"answer_count":4,"score":25,"last_activity_date":1656435486,"creation_date":1499882960,"question_id":45064788,"body_markdown":"I have the following Java code:\r\n\r\n    String str = &quot;12+20*/2-4&quot;;\r\n    List&lt;String&gt; arr = new ArrayList&lt;&gt;();\r\n\r\n    arr = str.split(&quot;\\\\p{Punct}&quot;);\r\n\r\n    //expected: arr = {12,20,2,4}\r\n\r\nI want the equivalent Kotlin code, but `.split(&quot;\\\\p{Punct}&quot;)` doesn&#39;t work. I don&#39;t understand the documentation here: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\r\n\r\n\r\n    ","title":"Why is Kotlin String.split with a regex string not the same as Java?","body":"<p>I have the following Java code:</p>\n\n<pre><code>String str = \"12+20*/2-4\";\nList&lt;String&gt; arr = new ArrayList&lt;&gt;();\n\narr = str.split(\"\\\\p{Punct}\");\n\n//expected: arr = {12,20,2,4}\n</code></pre>\n\n<p>I want the equivalent Kotlin code, but <code>.split(\"\\\\p{Punct}\")</code> doesn't work. I don't understand the documentation here: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html</a></p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1654857800,"post_id":72572732,"comment_id":128197859,"body_markdown":"Instead of `RenderListener` implement `ExtRenderListener` (which extends the former). This interface also gets informed about drawn paths.","body":"Instead of <code>RenderListener</code> implement <code>ExtRenderListener</code> (which extends the former). This interface also gets informed about drawn paths."},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1654872559,"post_id":72572732,"comment_id":128203404,"body_markdown":"Thanks! I am in the process of using the additional methods in this interface","body":"Thanks! I am in the process of using the additional methods in this interface"}],"answers":[{"tags":[],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656435276,"creation_date":1656435276,"answer_id":72790454,"question_id":72572732,"body_markdown":"Per mkl comment, by using `ExtRenderListener` I am able to get the geometries. I used https://stackoverflow.com/questions/41728853/how-to-extract-the-color-of-a-rectangle-in-a-pdf-with-itext for reference","title":"How to use iText to parse paths (such as lines in the document)","body":"<p>Per mkl comment, by using <code>ExtRenderListener</code> I am able to get the geometries. I used <a href=\"https://stackoverflow.com/questions/41728853/how-to-extract-the-color-of-a-rectangle-in-a-pdf-with-itext\">How to extract the color of a rectangle in a PDF, with iText</a> for reference</p>\n"}],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72790454,"answer_count":1,"score":0,"last_activity_date":1656435276,"creation_date":1654856656,"question_id":72572732,"body_markdown":"I am using iText to parse text in a PDF document, and i am using `PdfContentStreamProcessor` with a `RenderListener`. Such as:\r\n\r\n      PdfReader reader = new PdfReader(file.toURI().toURL());\r\n      int numberOfPages = reader.getNumberOfPages();\r\n      MyRenderListener listener = new MyRenderListener ();\r\n      PdfContentStreamProcessor processor = new PdfContentStreamProcessor(listener);\r\n      for (int pageNumber = 1; pageNumber &lt;= numberOfPages; pageNumber++) {\r\n         PdfDictionary pageDic = reader.getPageN(pageNumber);\r\n         PdfDictionary resourcesDic = pageDic.getAsDict(PdfName.RESOURCES);\r\n         Rectangle pageSize = reader.getPageSize(pageNumber);\r\n         listener.startPage(pageNumber, pageSize);\r\n         processor.processContent(ContentByteUtils.getContentBytesForPage(reader, pageNumber), resourcesDic);\r\n      }\r\n\r\nI have no problem to get the text with the `renderText(TextRenderInfo)` method, but how do I parse the graphic content appart from images? For example in my case I would like to get:\r\n\r\n - Text content which is in a box  \r\n - Horizontal lines","title":"How to use iText to parse paths (such as lines in the document)","body":"<p>I am using iText to parse text in a PDF document, and i am using <code>PdfContentStreamProcessor</code> with a <code>RenderListener</code>. Such as:</p>\n<pre><code>  PdfReader reader = new PdfReader(file.toURI().toURL());\n  int numberOfPages = reader.getNumberOfPages();\n  MyRenderListener listener = new MyRenderListener ();\n  PdfContentStreamProcessor processor = new PdfContentStreamProcessor(listener);\n  for (int pageNumber = 1; pageNumber &lt;= numberOfPages; pageNumber++) {\n     PdfDictionary pageDic = reader.getPageN(pageNumber);\n     PdfDictionary resourcesDic = pageDic.getAsDict(PdfName.RESOURCES);\n     Rectangle pageSize = reader.getPageSize(pageNumber);\n     listener.startPage(pageNumber, pageSize);\n     processor.processContent(ContentByteUtils.getContentBytesForPage(reader, pageNumber), resourcesDic);\n  }\n</code></pre>\n<p>I have no problem to get the text with the <code>renderText(TextRenderInfo)</code> method, but how do I parse the graphic content appart from images? For example in my case I would like to get:</p>\n<ul>\n<li>Text content which is in a box</li>\n<li>Horizontal lines</li>\n</ul>\n"},{"tags":["java","pdf","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1656224518,"post_id":72733501,"comment_id":128516392,"body_markdown":"*&quot;But the color is always null.&quot;* - That may happen if the color in question is not defined in a *DeviceGray*, *DeviceRGB*, or *DeviceCMYK* colorspace but in some other space. Please share your test PDF for analysis.","body":"<i>&quot;But the color is always null.&quot;</i> - That may happen if the color in question is not defined in a <i>DeviceGray</i>, <i>DeviceRGB</i>, or <i>DeviceCMYK</i> colorspace but in some other space. Please share your test PDF for analysis."},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1656338478,"post_id":72733501,"comment_id":128540767,"body_markdown":"You are right I think, I can&#39;t share the PDF, but what I did is printing part of the content of the  file on PDF using Acrobat Reader, and the BaseColor was not null in the resulting PDF. I think that Acrobat convert the colorspace to a &quot;default&quot; colorspace when printing the content, presumably to make sure that the colors are OK on any printers","body":"You are right I think, I can&#39;t share the PDF, but what I did is printing part of the content of the  file on PDF using Acrobat Reader, and the BaseColor was not null in the resulting PDF. I think that Acrobat convert the colorspace to a &quot;default&quot; colorspace when printing the content, presumably to make sure that the colors are OK on any printers"}],"answers":[{"tags":[],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656435166,"creation_date":1656435166,"answer_id":72790431,"question_id":72733501,"body_markdown":"Per mkl remark, I saved the PDF document to another document using Acrobat Reader (print option) or Edge, and I have not null colors in the resulting document.","title":"How to get a BaseColor from a color source in iText","body":"<p>Per mkl remark, I saved the PDF document to another document using Acrobat Reader (print option) or Edge, and I have not null colors in the resulting document.</p>\n"}],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72790431,"answer_count":1,"score":0,"last_activity_date":1656435166,"creation_date":1656001176,"question_id":72733501,"body_markdown":"I am parsing a PDF document with iText, and I want to know the colors for lines and rectangles in the pages. I am using this code which does the parsing:\r\n\r\n\r\n    private PdfDictionary getColorDictionary(PdfDictionary resourcesDic) {\r\n       PdfDictionary colorDict = resourcesDic.getAsDict(PdfName.COLORSPACE);\r\n       return colorDict;\r\n    }\r\n\r\n    public void decode(File file) throws IOException {\r\n       PdfReader reader = new PdfReader(file.toURI().toURL());\r\n       int numberOfPages = reader.getNumberOfPages();\r\n       ProcessorListener listener = new ProcessorListener ();\r\n       PdfContentStreamProcessor processor = new PdfContentStreamProcessor(listener);\r\n       for (int pageNumber = 1; pageNumber &lt;= numberOfPages; pageNumber++) {\r\n          PdfDictionary pageDic = reader.getPageN(pageNumber);\r\n          PdfDictionary resourcesDic = pageDic.getAsDict(PdfName.RESOURCES);\r\n          PdfDictionary colorSpaceDic = getColorDictionary(resourcesDic);\r\n          listener.setResources(colorSpaceDic);\r\n          processor.processContent(ContentByteUtils.getContentBytesForPage(reader, pageNumber), resourcesDic);\r\n       } \r\n    }\r\n\r\nMy listener has the following code, I simplified it to show only the part which gets the graphics elements in each page:\r\n\r\n    public class ProcessorListener implements ExtRenderListener {\r\n      private PdfDictionary colorSpaceDic = null;\r\n\r\n      public void setResources(PdfDictionary colorSpaceDic) {\r\n         this.colorSpaceDic = colorSpaceDic;\r\n      }\r\n\r\n       @Override\r\n       public void beginTextBlock() {\r\n       }\r\n    \r\n       @Override\r\n       public void renderText(TextRenderInfo tri) {\r\n       }\r\n    \r\n       @Override\r\n       public void renderImage(ImageRenderInfo iri) {\r\n       }\r\n    \r\n       @Override\r\n       public Path renderPath(PathPaintingRenderInfo renderInfo) {\r\n          GraphicsState graphicsState;\r\n          try {\r\n             graphicsState = getGraphicsState(renderInfo);\r\n          } catch (NoSuchFieldException | SecurityException | IllegalArgumentException | IllegalAccessException e) {\r\n             return null;\r\n          }\r\n    \r\n          if ((renderInfo.getOperation() &amp; PathPaintingRenderInfo.STROKE) != 0) {\r\n             PdfName resource = graphicsState.getColorSpaceStroke();\r\n             if (resource != null &amp;&amp; colorSpaceDic != null) {\r\n                PdfObject obj = colorSpaceDic.get(resource);\r\n                System.err.println(&quot;STROKE: &quot; + obj);\r\n             }\r\n          }\r\n          if ((renderInfo.getOperation() &amp; PathPaintingRenderInfo.FILL) != 0) {\r\n             PdfName resource = graphicsState.getColorSpaceStroke();\r\n             if (resource != null &amp;&amp; colorSpaceDic != null) {\r\n                PdfObject obj = colorSpaceDic.get(resource);\r\n                System.err.println(&quot;FILL: &quot; + obj);\r\n             }\r\n          }\r\n       }\r\n       return null;\r\n    }\r\n\r\nThis code executes correctly, but each `PDFObject` associated with afill or stroke is a `PRIndirectReference`. How to I get the `BaseColor` associated with this reference?\r\n\r\nAlso I tried to use the following code (for example for the Fill):\r\n\r\n    BaseColor fillColor = graphicsState.getFillColor();\r\n\r\nBut the color is always null. There are not only black shapes in the document (which I assume is the default), but also green or blue lines as well.\r\n\r\n","title":"How to get a BaseColor from a color source in iText","body":"<p>I am parsing a PDF document with iText, and I want to know the colors for lines and rectangles in the pages. I am using this code which does the parsing:</p>\n<pre><code>private PdfDictionary getColorDictionary(PdfDictionary resourcesDic) {\n   PdfDictionary colorDict = resourcesDic.getAsDict(PdfName.COLORSPACE);\n   return colorDict;\n}\n\npublic void decode(File file) throws IOException {\n   PdfReader reader = new PdfReader(file.toURI().toURL());\n   int numberOfPages = reader.getNumberOfPages();\n   ProcessorListener listener = new ProcessorListener ();\n   PdfContentStreamProcessor processor = new PdfContentStreamProcessor(listener);\n   for (int pageNumber = 1; pageNumber &lt;= numberOfPages; pageNumber++) {\n      PdfDictionary pageDic = reader.getPageN(pageNumber);\n      PdfDictionary resourcesDic = pageDic.getAsDict(PdfName.RESOURCES);\n      PdfDictionary colorSpaceDic = getColorDictionary(resourcesDic);\n      listener.setResources(colorSpaceDic);\n      processor.processContent(ContentByteUtils.getContentBytesForPage(reader, pageNumber), resourcesDic);\n   } \n}\n</code></pre>\n<p>My listener has the following code, I simplified it to show only the part which gets the graphics elements in each page:</p>\n<pre><code>public class ProcessorListener implements ExtRenderListener {\n  private PdfDictionary colorSpaceDic = null;\n\n  public void setResources(PdfDictionary colorSpaceDic) {\n     this.colorSpaceDic = colorSpaceDic;\n  }\n\n   @Override\n   public void beginTextBlock() {\n   }\n\n   @Override\n   public void renderText(TextRenderInfo tri) {\n   }\n\n   @Override\n   public void renderImage(ImageRenderInfo iri) {\n   }\n\n   @Override\n   public Path renderPath(PathPaintingRenderInfo renderInfo) {\n      GraphicsState graphicsState;\n      try {\n         graphicsState = getGraphicsState(renderInfo);\n      } catch (NoSuchFieldException | SecurityException | IllegalArgumentException | IllegalAccessException e) {\n         return null;\n      }\n\n      if ((renderInfo.getOperation() &amp; PathPaintingRenderInfo.STROKE) != 0) {\n         PdfName resource = graphicsState.getColorSpaceStroke();\n         if (resource != null &amp;&amp; colorSpaceDic != null) {\n            PdfObject obj = colorSpaceDic.get(resource);\n            System.err.println(&quot;STROKE: &quot; + obj);\n         }\n      }\n      if ((renderInfo.getOperation() &amp; PathPaintingRenderInfo.FILL) != 0) {\n         PdfName resource = graphicsState.getColorSpaceStroke();\n         if (resource != null &amp;&amp; colorSpaceDic != null) {\n            PdfObject obj = colorSpaceDic.get(resource);\n            System.err.println(&quot;FILL: &quot; + obj);\n         }\n      }\n   }\n   return null;\n}\n</code></pre>\n<p>This code executes correctly, but each <code>PDFObject</code> associated with afill or stroke is a <code>PRIndirectReference</code>. How to I get the <code>BaseColor</code> associated with this reference?</p>\n<p>Also I tried to use the following code (for example for the Fill):</p>\n<pre><code>BaseColor fillColor = graphicsState.getFillColor();\n</code></pre>\n<p>But the color is always null. There are not only black shapes in the document (which I assume is the default), but also green or blue lines as well.</p>\n"},{"tags":["java","swing","jpanel","jscrollpane"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1654837777,"post_id":72569208,"comment_id":128191881,"body_markdown":"In your code example, you only add the chatPanel to the scrollPane. If you also want your chat radio buttons (Not JButtons?) in a scroll panel, then you&#39;ll need to create another scrollPane to put them into?","body":"In your code example, you only add the chatPanel to the scrollPane. If you also want your chat radio buttons (Not JButtons?) in a scroll panel, then you&#39;ll need to create another scrollPane to put them into?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1654837870,"post_id":72569208,"comment_id":128191900,"body_markdown":"[How to Use Scroll Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">How to Use Scroll Panes</a>"},{"owner":{"account_id":25521613,"reputation":1,"user_id":19311376,"display_name":"M o"},"score":0,"creation_date":1655148000,"post_id":72569208,"comment_id":128258273,"body_markdown":"My problem isn&#39;t with the JButtons or RadioButtons it&#39;s just that I don&#39;t know how to add a JScrollPane to my Jpanel because whenever I try to do so, nothing shows up. (Not even the JPanel)","body":"My problem isn&#39;t with the JButtons or RadioButtons it&#39;s just that I don&#39;t know how to add a JScrollPane to my Jpanel because whenever I try to do so, nothing shows up. (Not even the JPanel)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1656435220,"post_id":72569208,"comment_id":128569765,"body_markdown":"For better help sooner, [edit] to add a [mre]. And a tip: add @MadProgrammer (or whoever, the `@` is important) to *notify* someone of a new comment.","body":"For better help sooner, <a href=\"https://stackoverflow.com/posts/72569208/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. And a tip: add @MadProgrammer (or whoever, the <code>@</code> is important) to <i>notify</i> someone of a new comment."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1656454003,"post_id":72569208,"comment_id":128575459,"body_markdown":"Don&#39;t do `scrollPane.add(chatPanel);` and make sure you add the scroll pane to something. `setPreferredSize` isn&#39;t a great idea either","body":"Don&#39;t do <code>scrollPane.add(chatPanel);</code> and make sure you add the scroll pane to something. <code>setPreferredSize</code> isn&#39;t a great idea either"}],"owner":{"account_id":25521613,"reputation":1,"user_id":19311376,"display_name":"M o"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656435125,"creation_date":1654836572,"question_id":72569208,"body_markdown":"I am making a chatbot using a Java GUI template and everything works fine it&#39;s just that I am unable to add a `JScrollPane` to a `JPanel` that was created in a customizer class. I want the panel to have a scroll bar only if the number of `JButton` controls (in the form of chats) exceeds the size of the panel. This panel is in the second screen of my GUI. \r\n\r\nDoes it have anything to do with the fact that my GUI has 2 screens? This is the code in my View Outputs and I&#39;m wondering what I can do to make it work?\r\n\r\n```\r\npublic ViewOutputs() {\r\n\r\n        chatPanel.setLayout(new BoxLayout(chatPanel, BoxLayout.PAGE_AXIS));\r\n        chatPanel.setOpaque(true);\r\n\r\n        chatPanel.setPreferredSize(new Dimension(450, 349));\r\n        chatPanel.setBackground(Color.WHITE);\r\n\r\n        chatPanel.setBorder(LineBorder.createBlackLineBorder());\r\n\r\n        JScrollPane scrollPane = new JScrollPane(chatPanel, ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED, ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n\r\n        scrollPane.setPreferredSize(new Dimension(450, 349));\r\n\r\n        scrollPane.add(chatPanel);\r\n        scrollPane.setVisible(true);\r\n\r\n}\r\n```\r\n\r\nThis is what runs without adding any JScrollPane. \r\n[Screen 2 of my Java GUI Chatbot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5hMow.png","title":"How do I add a JScrollPane to this JPanel?","body":"<p>I am making a chatbot using a Java GUI template and everything works fine it's just that I am unable to add a <code>JScrollPane</code> to a <code>JPanel</code> that was created in a customizer class. I want the panel to have a scroll bar only if the number of <code>JButton</code> controls (in the form of chats) exceeds the size of the panel. This panel is in the second screen of my GUI.</p>\n<p>Does it have anything to do with the fact that my GUI has 2 screens? This is the code in my View Outputs and I'm wondering what I can do to make it work?</p>\n<pre><code>public ViewOutputs() {\n\n        chatPanel.setLayout(new BoxLayout(chatPanel, BoxLayout.PAGE_AXIS));\n        chatPanel.setOpaque(true);\n\n        chatPanel.setPreferredSize(new Dimension(450, 349));\n        chatPanel.setBackground(Color.WHITE);\n\n        chatPanel.setBorder(LineBorder.createBlackLineBorder());\n\n        JScrollPane scrollPane = new JScrollPane(chatPanel, ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED, ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n\n        scrollPane.setPreferredSize(new Dimension(450, 349));\n\n        scrollPane.add(chatPanel);\n        scrollPane.setVisible(true);\n\n}\n</code></pre>\n<p>This is what runs without adding any JScrollPane.\n<a href=\"https://i.stack.imgur.com/5hMow.png\" rel=\"nofollow noreferrer\">Screen 2 of my Java GUI Chatbot</a></p>\n"},{"tags":["java","metrics","dropwizard","codahale-metrics"],"comments":[{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1656434264,"post_id":72789820,"comment_id":128569466,"body_markdown":"What is unclear about the getting started guide? It contains examples on how to add metrics in code, and multiple options to retrieve metrics report (console, http or jmx). Please describe the problem youre facing and what you have tried.","body":"What is unclear about the getting started guide? It contains examples on how to add metrics in code, and multiple options to retrieve metrics report (console, http or jmx). Please describe the problem youre facing and what you have tried."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1656434467,"post_id":72789820,"comment_id":128569528,"body_markdown":"@slindenau I have metrics in code and  I see them in console after adding ConsoleReporter. It is clear. Now I want to execute GET request and receive metrics. In guide I&#39;ve found that only dependency is required.  But where I can find metrics ? what URL should I use ?","body":"@slindenau I have metrics in code and  I see them in console after adding ConsoleReporter. It is clear. Now I want to execute GET request and receive metrics. In guide I&#39;ve found that only dependency is required.  But where I can find metrics ? what URL should I use ?"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1656434666,"post_id":72789820,"comment_id":128569590,"body_markdown":"Quote from the bottom of the page: `From there on, you can map the servlet to whatever path you see fit`. Looks like you need to manually map it.","body":"Quote from the bottom of the page: <code>From there on, you can map the servlet to whatever path you see fit</code>. Looks like you need to manually map it."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1656434942,"post_id":72789820,"comment_id":128569672,"body_markdown":"@slindenau\nWhich Servlet ? I AdminServlet ? MetricsServlet ?","body":"@slindenau Which Servlet ? I AdminServlet ? MetricsServlet ?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1656435143,"post_id":72789820,"comment_id":128569731,"body_markdown":"@slindenau Thanks, it helped https://stackoverflow.com/a/72790421/2674303","body":"@slindenau Thanks, it helped <a href=\"https://stackoverflow.com/a/72790421/2674303\">stackoverflow.com/a/72790421/2674303</a>"}],"answers":[{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656435110,"creation_date":1656435110,"answer_id":72790421,"question_id":72789820,"body_markdown":"I was not able to register AdminServlet but this helped me:\r\n\r\n    @Bean\r\n    public ServletRegistrationBean servletRegistrationBean(MetricRegistry metricRegistry){\r\n        return new ServletRegistrationBean(new MetricsServlet(metricRegistry),&quot;/metrics/*&quot;);\r\n    }","title":"How to expose metrics to http in dropwizard?","body":"<p>I was not able to register AdminServlet but this helped me:</p>\n<pre><code>@Bean\npublic ServletRegistrationBean servletRegistrationBean(MetricRegistry metricRegistry){\n    return new ServletRegistrationBean(new MetricsServlet(metricRegistry),&quot;/metrics/*&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72790421,"answer_count":1,"score":0,"last_activity_date":1656435110,"creation_date":1656432370,"question_id":72789820,"body_markdown":"I am reading following document:   \r\nhttps://metrics.dropwizard.io/4.2.0/getting-started.html\r\n\r\n\r\nI&#39;ve added \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\r\n        &lt;artifactId&gt;metrics-servlets&lt;/artifactId&gt;\r\n        &lt;version&gt;${metrics.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nBut what to do next ? How to access metrics ?\r\n","title":"How to expose metrics to http in dropwizard?","body":"<p>I am reading following document:<br />\n<a href=\"https://metrics.dropwizard.io/4.2.0/getting-started.html\" rel=\"nofollow noreferrer\">https://metrics.dropwizard.io/4.2.0/getting-started.html</a></p>\n<p>I've added</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\n    &lt;artifactId&gt;metrics-servlets&lt;/artifactId&gt;\n    &lt;version&gt;${metrics.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But what to do next ? How to access metrics ?</p>\n"},{"tags":["java","spring","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1524170248,"creation_date":1524170248,"answer_id":49929840,"question_id":49917576,"body_markdown":"Try this:\r\n\r\n    attachPart.setContent(filePath.getBytes(), filePath.getContentType());\r\n    attachPart.setFileName(filePath.getOriginalFilename());\r\n    attachPart.setDisposition(Part.ATTACHMENT);\r\n                        ","title":"email sending with multiple attachments using MultipartFile","body":"<p>Try this:</p>\n\n<pre><code>attachPart.setContent(filePath.getBytes(), filePath.getContentType());\nattachPart.setFileName(filePath.getOriginalFilename());\nattachPart.setDisposition(Part.ATTACHMENT);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1682106,"reputation":3953,"user_id":1546137,"accept_rate":67,"display_name":"ihebiheb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557423892,"creation_date":1557423892,"answer_id":56064892,"question_id":49917576,"body_markdown":"In my case, the answer of @Bill Shannon give me the error `&quot;java.io.IOException: text/plain DataContentHandler requires String object, was given object of type class [B&quot;`\r\n\r\nI modified the code like this :\r\n\r\n            \r\n\r\n    DataSource ds = new ByteArrayDataSource(filePath.getBytes(), filePath.getContentType());\r\n    attachPart.setDataHandler(new DataHandler(ds));\r\n    attachPart.setFileName(filePath.getOriginalFilename());\r\n    attachPart.setDisposition(Part.ATTACHMENT);","title":"email sending with multiple attachments using MultipartFile","body":"<p>In my case, the answer of @Bill Shannon give me the error <code>\"java.io.IOException: text/plain DataContentHandler requires String object, was given object of type class [B\"</code></p>\n\n<p>I modified the code like this :</p>\n\n<pre><code>DataSource ds = new ByteArrayDataSource(filePath.getBytes(), filePath.getContentType());\nattachPart.setDataHandler(new DataHandler(ds));\nattachPart.setFileName(filePath.getOriginalFilename());\nattachPart.setDisposition(Part.ATTACHMENT);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1324115,"reputation":844,"user_id":1269333,"accept_rate":50,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619265612,"creation_date":1619265612,"answer_id":67242544,"question_id":49917576,"body_markdown":"If you are using Spring, then you can use `JavaMailSenderImpl` and `MimeMessageHelper`:\r\n\r\n    JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n    MimeMessage mailMessage = mailSender.createMimeMessage();\r\n    MimeMessageHelper helper = new MimeMessageHelper(mailMessage, true);\r\n    helper.addAttachment(&quot;fileName&quot;, filePath);\r\n    mailSender.send(mailMessage);","title":"email sending with multiple attachments using MultipartFile","body":"<p>If you are using Spring, then you can use <code>JavaMailSenderImpl</code> and <code>MimeMessageHelper</code>:</p>\n<pre><code>JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\nMimeMessage mailMessage = mailSender.createMimeMessage();\nMimeMessageHelper helper = new MimeMessageHelper(mailMessage, true);\nhelper.addAttachment(&quot;fileName&quot;, filePath);\nmailSender.send(mailMessage);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8132455,"reputation":423,"user_id":6125259,"display_name":"Vinay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656435088,"creation_date":1656435088,"answer_id":72790415,"question_id":49917576,"body_markdown":"        List&lt;MultipartFile&gt; attachments = /* this will be input for multiple files */\r\n        Multipart multipart = new MimeMultipart();\r\n        MimeBodyPart mimeBodyPart = new MimeBodyPart();\r\n        mimeBodyPart.setContent(/* email content */, &quot;text/html&quot;);\r\n        multipart.addBodyPart(mimeBodyPart);\r\n        for(int i = 0 ; i &lt; attachments.size() ; i++) {\r\n            mimeBodyPart = new MimeBodyPart();\r\n            DataSource source = new ByteArrayDataSource(attachments.get(i).getBytes(), attachments.get(i).getContentType());\r\n            mimeBodyPart.setDataHandler(new DataHandler(source));\r\n            mimeBodyPart.setFileName(attachments.get(i).getOriginalFilename());\r\n            multipart.addBodyPart(mimeBodyPart);\r\n        }\r\n\r\n        email.setContent(multipart);\r\n","title":"email sending with multiple attachments using MultipartFile","body":"<pre><code>    List&lt;MultipartFile&gt; attachments = /* this will be input for multiple files */\n    Multipart multipart = new MimeMultipart();\n    MimeBodyPart mimeBodyPart = new MimeBodyPart();\n    mimeBodyPart.setContent(/* email content */, &quot;text/html&quot;);\n    multipart.addBodyPart(mimeBodyPart);\n    for(int i = 0 ; i &lt; attachments.size() ; i++) {\n        mimeBodyPart = new MimeBodyPart();\n        DataSource source = new ByteArrayDataSource(attachments.get(i).getBytes(), attachments.get(i).getContentType());\n        mimeBodyPart.setDataHandler(new DataHandler(source));\n        mimeBodyPart.setFileName(attachments.get(i).getOriginalFilename());\n        multipart.addBodyPart(mimeBodyPart);\n    }\n\n    email.setContent(multipart);\n</code></pre>\n"}],"owner":{"account_id":7506867,"reputation":31,"user_id":5703122,"display_name":"Mounika Gaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4542,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49929840,"answer_count":4,"score":2,"last_activity_date":1656435088,"creation_date":1524130336,"question_id":49917576,"body_markdown":"I am using MultipartFile to send an email with multiple attachments. my code is working fine but I am storing each file in my project then I am attaching. I don&#39;t want to store that file anywhere instead I want the file directly send to the recipients.\r\nMy code is,\r\n\r\nController:\r\n       \r\n    @RequestMapping(value=&quot;/sendEmailAttachment&quot;,method=RequestMethod.POST)\r\n\tpublic @ResponseBody Response sendEmail(@RequestParam(&quot;file&quot;) MultipartFile[] file,@ModelAttribute Email email) {\r\n\t\tSendEmail mail = new SendEmail();\r\n\t\treturn mail.sendEmail(email,file);\r\n\t}\r\n\r\nService:\r\n\r\n    public Response sendEmail(Email email,MultipartFile[] attachFiles) {\r\n\tusername = email.getUsername();\r\n\tpassword = email.getPassword();\r\n\tswitch (email.getDomain()) {\r\n\tcase &quot;1and1.com&quot;:\r\n\t\thost = &quot;smtp.1and1.com&quot;;\r\n\t\tbreak;\r\n\tcase &quot;gmail.com&quot;:\r\n\t\thost = &quot;smtp.gmail.com&quot;;\r\n\t\tbreak;\r\n\tcase &quot;yahoo.com&quot;:\r\n\t\thost = &quot;smtp.mail.yahoo.com&quot;;\r\n\t\tbreak;\r\n\tcase &quot;rediffmail.com&quot;:\r\n\t\thost = &quot;smtp.rediffmail.com&quot;;\r\n\t\tbreak;\r\n\tdefault:\r\n\t\thost = &quot;smtp.1and1.com&quot;;\r\n\t\tusername=&quot;support@gmail.com&quot;;\r\n\t\tpassword=&quot;************&quot;;\r\n\t\tbreak;\r\n\t}\r\n\tprops.put(&quot;mail.smtp.host&quot;, host);\r\n\t\tResponse response = new Response();\r\n\t\t\t\r\n\t         Session session = Session.getInstance(props,\r\n\t                  new javax.mail.Authenticator() {\r\n\t                    protected PasswordAuthentication getPasswordAuthentication() {\r\n\t                        return new PasswordAuthentication(username, password);\r\n\t                    }\r\n\t                  });\r\n\t         try {\r\n\t             // Create a default MimeMessage object.\r\n\t             Message message = new MimeMessage(session);\r\n\t             InternetAddress[] myToList = InternetAddress.parse(email.getTo());\r\n\t\t            InternetAddress[] myBccList = InternetAddress.parse(email.getBcc());\r\n\t\t            InternetAddress[] myCcList = InternetAddress.parse(email.getCc());\r\n\t             // Set From: header field of the header.\r\n\t             message.setFrom(new InternetAddress(email.getUsername()));\r\n\r\n\t             // Set To: header field of the header.\r\n\t             message.setRecipients(Message.RecipientType.TO,myToList);\r\n\t\t            message.setRecipients(Message.RecipientType.BCC, myBccList);\r\n\t\t            message.setRecipients(Message.RecipientType.CC, myCcList);\r\n\r\n\t             // Set Subject: header field\r\n\t             message.setSubject(email.getSubject());\r\n\r\n\t             // Create the message part\r\n\t             BodyPart messageBodyPart = new MimeBodyPart();\r\n\r\n\t             // Now set the actual message\r\n\t             messageBodyPart.setContent(email.getBody(), &quot;text/html&quot;);\r\n\r\n\t             // Create a multipar message\r\n\t             Multipart multipart = new MimeMultipart();\r\n\r\n\t             // Set text message part\r\n\t             multipart.addBodyPart(messageBodyPart);\r\n\t             \r\n\t             if(attachFiles != null &amp;&amp; attachFiles.length &gt; 0){\r\n\t            \t    for (MultipartFile filePath : attachFiles) {\r\n\t            \t        MimeBodyPart attachPart = new MimeBodyPart();\r\n\t            \t        try {\r\n\t            \t        \tfilePath.transferTo(new File(filePath.getOriginalFilename()).getAbsoluteFile());\r\n\t            \t            attachPart.attachFile(filePath.getOriginalFilename());\r\n\t            \t        } catch (IOException ex) {\r\n\t            \t            ex.printStackTrace();\r\n\t            \t        }\r\n\t            \t        multipart.addBodyPart(attachPart);\r\n\t            \t    }\r\n\t            \t}\r\n\r\n\t             // Send the complete message parts\r\n\t             message.setContent(multipart);\r\n\t        //    Transport.send(message, message.getAllRecipients());\r\n\t        \t Transport.send(message);\r\n\t             \r\n\t             response.setStatus(200);\r\n\t\t         response.setMessage(&quot;Sent Email Successfully&quot;);\r\n\t      \r\n\t          } catch (MessagingException e) {\r\n\t        \t  response.setStatus(-1);\r\n\t\t            response.setMessage(&quot;&quot;+e);\r\n\t\t            response.setObject(e);\r\n\t\t            e.printStackTrace();\r\n\t          }\r\n\r\n\t       \r\n\t        return response;\r\n\t\t\r\n\t}\r\n\r\n\r\nHere I have witten like, \r\n\r\n    filePath.transferTo(new File(filePath.getOriginalFilename()).getAbsoluteFile());\r\n\t            \t        attachPart.attachFile(filePath.getOriginalFilename()); \r\n\r\nI dont want to transfer/save file into the project and attach, I want to send the file directly. any help will appreciated. \r\n","title":"email sending with multiple attachments using MultipartFile","body":"<p>I am using MultipartFile to send an email with multiple attachments. my code is working fine but I am storing each file in my project then I am attaching. I don't want to store that file anywhere instead I want the file directly send to the recipients.\nMy code is,</p>\n\n<p>Controller:</p>\n\n<pre><code>@RequestMapping(value=\"/sendEmailAttachment\",method=RequestMethod.POST)\npublic @ResponseBody Response sendEmail(@RequestParam(\"file\") MultipartFile[] file,@ModelAttribute Email email) {\n    SendEmail mail = new SendEmail();\n    return mail.sendEmail(email,file);\n}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>public Response sendEmail(Email email,MultipartFile[] attachFiles) {\nusername = email.getUsername();\npassword = email.getPassword();\nswitch (email.getDomain()) {\ncase \"1and1.com\":\n    host = \"smtp.1and1.com\";\n    break;\ncase \"gmail.com\":\n    host = \"smtp.gmail.com\";\n    break;\ncase \"yahoo.com\":\n    host = \"smtp.mail.yahoo.com\";\n    break;\ncase \"rediffmail.com\":\n    host = \"smtp.rediffmail.com\";\n    break;\ndefault:\n    host = \"smtp.1and1.com\";\n    username=\"support@gmail.com\";\n    password=\"************\";\n    break;\n}\nprops.put(\"mail.smtp.host\", host);\n    Response response = new Response();\n\n         Session session = Session.getInstance(props,\n                  new javax.mail.Authenticator() {\n                    protected PasswordAuthentication getPasswordAuthentication() {\n                        return new PasswordAuthentication(username, password);\n                    }\n                  });\n         try {\n             // Create a default MimeMessage object.\n             Message message = new MimeMessage(session);\n             InternetAddress[] myToList = InternetAddress.parse(email.getTo());\n                InternetAddress[] myBccList = InternetAddress.parse(email.getBcc());\n                InternetAddress[] myCcList = InternetAddress.parse(email.getCc());\n             // Set From: header field of the header.\n             message.setFrom(new InternetAddress(email.getUsername()));\n\n             // Set To: header field of the header.\n             message.setRecipients(Message.RecipientType.TO,myToList);\n                message.setRecipients(Message.RecipientType.BCC, myBccList);\n                message.setRecipients(Message.RecipientType.CC, myCcList);\n\n             // Set Subject: header field\n             message.setSubject(email.getSubject());\n\n             // Create the message part\n             BodyPart messageBodyPart = new MimeBodyPart();\n\n             // Now set the actual message\n             messageBodyPart.setContent(email.getBody(), \"text/html\");\n\n             // Create a multipar message\n             Multipart multipart = new MimeMultipart();\n\n             // Set text message part\n             multipart.addBodyPart(messageBodyPart);\n\n             if(attachFiles != null &amp;&amp; attachFiles.length &gt; 0){\n                    for (MultipartFile filePath : attachFiles) {\n                        MimeBodyPart attachPart = new MimeBodyPart();\n                        try {\n                            filePath.transferTo(new File(filePath.getOriginalFilename()).getAbsoluteFile());\n                            attachPart.attachFile(filePath.getOriginalFilename());\n                        } catch (IOException ex) {\n                            ex.printStackTrace();\n                        }\n                        multipart.addBodyPart(attachPart);\n                    }\n                }\n\n             // Send the complete message parts\n             message.setContent(multipart);\n        //    Transport.send(message, message.getAllRecipients());\n             Transport.send(message);\n\n             response.setStatus(200);\n             response.setMessage(\"Sent Email Successfully\");\n\n          } catch (MessagingException e) {\n              response.setStatus(-1);\n                response.setMessage(\"\"+e);\n                response.setObject(e);\n                e.printStackTrace();\n          }\n\n\n        return response;\n\n}\n</code></pre>\n\n<p>Here I have witten like, </p>\n\n<pre><code>filePath.transferTo(new File(filePath.getOriginalFilename()).getAbsoluteFile());\n                        attachPart.attachFile(filePath.getOriginalFilename()); \n</code></pre>\n\n<p>I dont want to transfer/save file into the project and attach, I want to send the file directly. any help will appreciated. </p>\n"},{"tags":["java","swing","jframe","jpanel","awt"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1655157904,"post_id":72607869,"comment_id":128261039,"body_markdown":"Don&#39;t use `Thread`, Swing is not thread safe.  Don&#39;t use `getGraphics`, this is not how custom painting is done. Don&#39;t use `KeyListener`, it&#39;s not worth all the random pain (use Key bindings instead)","body":"Don&#39;t use <code>Thread</code>, Swing is not thread safe.  Don&#39;t use <code>getGraphics</code>, this is not how custom painting is done. Don&#39;t use <code>KeyListener</code>, it&#39;s not worth all the random pain (use Key bindings instead)"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655161846,"creation_date":1655159424,"answer_id":72609722,"question_id":72607869,"body_markdown":"Swing is not thread safe, you shouldn&#39;t be updating the UI, or the state the UI relies on, from outside the context of the Event Dispatching Thread.  This means you shouldn&#39;t be using `Thread` as your &quot;game loop&quot;.\r\n\r\nSee [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details and [How to Use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) for the most common solution.\r\n\r\nDon&#39;t use `JPanel#getGraphics`, this is not how painting in Swing is done.  Instead, override `paintComponent`.  See [Painting in AWT and Swing\r\n](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more details.\r\n\r\nDon&#39;t use `KeyListener`, seriously, it&#39;s just not worth all the hacking around to make it work.  Instead, use the [key bindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)\r\n\r\nThe following, simple, example runs at roughly 171 updates a second (it separates the &quot;timer ticks&quot; and &quot;paint ticks&quot;, as in Swing, it&#39;s not really possible to know when something is actually rendered to the screen) in both windowed and full screen\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GraphicsDevice;\r\n    import java.awt.GraphicsEnvironment;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public final class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    GraphicsDevice device = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0];\r\n\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new GamePanel());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n\r\n    //                device.setFullScreenWindow(frame);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GamePanel extends JPanel {\r\n            private Timer timer;\r\n\r\n            private int ticksPerSecond = 0;\r\n            private int paintsPerSecond = 0;\r\n\r\n            private int xDelta = 1;\r\n            private Rectangle boxy = new Rectangle(0, 0, 50, 50);\r\n\r\n            // Graphic Device (used for fullscreen)\r\n            public GamePanel() {\r\n                timer = new Timer(5, new ActionListener() {\r\n                    private Instant lastTick;\r\n                    private int ticks = 0;\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (lastTick == null) {\r\n                            lastTick = Instant.now();\r\n                        }\r\n                        if (Duration.between(lastTick, Instant.now()).toMillis() &gt;= 1000) {\r\n                            ticksPerSecond = ticks;\r\n                            lastTick = Instant.now();\r\n                            ticks = 0;\r\n                        }\r\n                        ticks++;\r\n\r\n                        boxy.x += xDelta;\r\n                        if (boxy.x + boxy.width &gt; getWidth()) {\r\n                            boxy.x = getWidth() - boxy.width;\r\n                            xDelta *= -1;\r\n                        } else if (boxy.x &lt; 0) {\r\n                            boxy.x = 0;\r\n                            xDelta *= -1;\r\n                        }\r\n                        boxy.y = (getHeight() - boxy.height) / 2;\r\n\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                timer.stop();\r\n                super.removeNotify();\r\n            }\r\n\r\n            private Instant lastPaint;\r\n            private int paints = 0;\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                if (lastPaint == null) {\r\n                    lastPaint = Instant.now();\r\n                }\r\n                if (Duration.between(lastPaint, Instant.now()).toMillis() &gt;= 1000) {\r\n                    paintsPerSecond = paints;\r\n                    lastPaint = Instant.now();\r\n                    paints = 0;\r\n                }\r\n                paints++;\r\n\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                g2d.drawString(&quot;Ticks p/s &quot; + ticksPerSecond, 10, 10 + fm.getAscent());\r\n                g2d.drawString(&quot;Paints p/s &quot; + paintsPerSecond, 10, 10 + fm.getAscent() + fm.getHeight());\r\n                g2d.fill(boxy);\r\n                g2d.dispose();\r\n            }\r\n        }\r\n    }\r\n\r\nIf you &quot;really&quot; need absolute control over the painting process, then you should be using a `BufferStrategy`, see [BufferStrategy and BufferCapabilities](https://docs.oracle.com/javase/tutorial/extra/fullscreen/bufferstrategy.html) and the [JavaDocs](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/image/BufferStrategy.html) which has an excellent example of how it should be used.\r\n\r\nLots of things might effect the performance of the paint process, [for example](https://stackoverflow.com/questions/14886232/swing-animation-running-extremely-slow/14902184#14902184)\r\n\r\n# A crazy experiment...\r\n\r\nSo, this example allows you to change the number of entities been rendered on the screen.  Each entity is moving in it&#39;s own direction and is rotating (no collision detection).\r\n\r\nI can get this to run up to roughly 20-25, 0000 entities before I start seeing a (significant) change in the number of updates per second. I rolled it to 100, 000 and it dropped to roughly 42 updates per second.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GraphicsDevice;\r\n    import java.awt.GraphicsEnvironment;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSlider;\r\n    import javax.swing.Timer;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n\r\n    public final class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    GraphicsDevice device = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0];\r\n\r\n                    GamePanel gamePanel = new GamePanel();\r\n                    JSlider slider = new JSlider(1, 100000);\r\n                    slider.setValue(100);\r\n                    slider.addChangeListener(new ChangeListener() {\r\n                        @Override\r\n                        public void stateChanged(ChangeEvent e) {\r\n                            if (slider.getValueIsAdjusting()) {\r\n                                return;\r\n                            }\r\n                            gamePanel.setBoxCount(slider.getValue());\r\n                        }\r\n                    });\r\n\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(gamePanel);\r\n                    frame.add(slider, BorderLayout.SOUTH);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n\r\n                    device.setFullScreenWindow(frame);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GamePanel extends JPanel {\r\n            private Timer timer;\r\n\r\n            private int ticksPerSecond = 0;\r\n            private int paintsPerSecond = 0;\r\n\r\n            private List&lt;Box&gt; boxes = new ArrayList&lt;&gt;(100);\r\n\r\n            // Graphic Device (used for fullscreen)\r\n            public GamePanel() {\r\n                for (int index = 0; index &lt; 100; index++) {\r\n                    boxes.add(new Box());\r\n                }\r\n\r\n                timer = new Timer(5, new ActionListener() {\r\n                    private Instant lastTick;\r\n                    private int ticks = 0;\r\n\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (lastTick == null) {\r\n                            lastTick = Instant.now();\r\n                        }\r\n                        if (Duration.between(lastTick, Instant.now()).toMillis() &gt;= 1000) {\r\n                            ticksPerSecond = ticks;\r\n                            lastTick = Instant.now();\r\n                            ticks = 0;\r\n                        }\r\n                        ticks++;\r\n\r\n                        for (Box box : boxes) {\r\n                            box.update(getSize());\r\n                        }\r\n\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n\r\n            public void setBoxCount(int count) {\r\n                if (count &lt; boxes.size()) {\r\n                    boxes = boxes.subList(0, count);\r\n                    return;\r\n                }\r\n                while (boxes.size() &lt; count) {\r\n                    boxes.add(new Box());\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                timer.stop();\r\n                super.removeNotify();\r\n            }\r\n\r\n            private Instant lastPaint;\r\n            private int paints = 0;\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                if (lastPaint == null) {\r\n                    lastPaint = Instant.now();\r\n                }\r\n                if (Duration.between(lastPaint, Instant.now()).toMillis() &gt;= 1000) {\r\n                    paintsPerSecond = paints;\r\n                    lastPaint = Instant.now();\r\n                    paints = 0;\r\n                }\r\n                paints++;\r\n\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                for (Box box : boxes) {\r\n                    box.paint(g2d);\r\n                }\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                int yPos = 10 + fm.getAscent();\r\n                g2d.drawString(&quot;Ticks p/s &quot; + ticksPerSecond, 10, yPos + fm.getAscent());\r\n                yPos += fm.getHeight();\r\n                g2d.drawString(&quot;Paints p/s &quot; + paintsPerSecond, 10, yPos + fm.getAscent());\r\n                yPos += fm.getHeight();\r\n                g2d.drawString(&quot;Count &quot; + boxes.size(), 10, yPos + fm.getAscent());\r\n                g2d.dispose();\r\n            }\r\n        }\r\n\r\n        private List&lt;Color&gt; colors = new ArrayList&lt;&gt;(Arrays.asList(new Color[]{\r\n            Color.BLACK, Color.BLUE, Color.CYAN, Color.DARK_GRAY, Color.GRAY, Color.GREEN,\r\n            Color.LIGHT_GRAY, Color.MAGENTA, Color.ORANGE, Color.PINK, Color.RED, Color.WHITE,\r\n            Color.YELLOW\r\n        }));\r\n\r\n        public class Box {\r\n            private Color fill;\r\n\r\n            private Rectangle shape;\r\n\r\n            private int x;\r\n            private int y;\r\n\r\n            private int xDelta;\r\n            private int yDelta;\r\n\r\n            private int rotationDelta;\r\n            private int angle = 0;\r\n\r\n            public Box() {\r\n                Random rnd = new Random();\r\n                int width = rnd.nextInt(45) + 5;\r\n                int height = rnd.nextInt(45) + 5;\r\n                x = rnd.nextInt(400) - width;\r\n                y = rnd.nextInt(400) - height;\r\n\r\n                xDelta = rnd.nextInt(2) + 1;\r\n                yDelta = rnd.nextInt(2) + 1;\r\n                if (rnd.nextBoolean()) {\r\n                    xDelta *= -1;\r\n                }\r\n                if (rnd.nextBoolean()) {\r\n                    yDelta *= -1;\r\n                }\r\n\r\n                rotationDelta = rnd.nextInt(5);\r\n                if (rnd.nextBoolean()) {\r\n                    rotationDelta *= -1;\r\n                }\r\n\r\n                shape = new Rectangle(x, y, width, height);\r\n                Collections.shuffle(colors);\r\n                fill = colors.get(0);\r\n\r\n                shape = new Rectangle(0, 0, width, height);\r\n            }\r\n\r\n            public void update(Dimension bounds) {\r\n                x += xDelta;\r\n                y += yDelta;\r\n                angle += rotationDelta;\r\n\r\n                if (x + getWidth() &gt; bounds.width) {\r\n                    x = bounds.width - getWidth();\r\n                    xDelta *= -1;\r\n                } else if (x &lt; 0) {\r\n                    x = 0;\r\n                    xDelta *= -1;\r\n                }\r\n                if (y + getWidth() &gt; bounds.height) {\r\n                    y = bounds.height - getWidth();\r\n                    yDelta *= -1;\r\n                } else if (y &lt; 0) {\r\n                    y = 0;\r\n                    yDelta *= -1;\r\n                }\r\n            }\r\n\r\n            public int getX() {\r\n                return x;\r\n            }\r\n\r\n            public int getY() {\r\n                return y;\r\n            }\r\n\r\n            public int getWidth() {\r\n                return shape.width;\r\n            }\r\n\r\n            public int getHeight() {\r\n                return shape.height;\r\n            }\r\n\r\n            public void paint(Graphics2D g2d) {\r\n                g2d = (Graphics2D) g2d.create();\r\n                g2d.translate(x, y);\r\n                g2d.rotate(Math.toRadians(angle), getWidth() / 2, getHeight() / 2);\r\n                g2d.setColor(fill);\r\n                g2d.fill(shape);\r\n                g2d.dispose();\r\n            }\r\n        }\r\n    }\r\n","title":"Java Game in Fullscreen has way less fps than in window mode","body":"<p>Swing is not thread safe, you shouldn't be updating the UI, or the state the UI relies on, from outside the context of the Event Dispatching Thread.  This means you shouldn't be using <code>Thread</code> as your &quot;game loop&quot;.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a> for the most common solution.</p>\n<p>Don't use <code>JPanel#getGraphics</code>, this is not how painting in Swing is done.  Instead, override <code>paintComponent</code>.  See <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing\n</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for more details.</p>\n<p>Don't use <code>KeyListener</code>, seriously, it's just not worth all the hacking around to make it work.  Instead, use the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings API</a></p>\n<p>The following, simple, example runs at roughly 171 updates a second (it separates the &quot;timer ticks&quot; and &quot;paint ticks&quot;, as in Swing, it's not really possible to know when something is actually rendered to the screen) in both windowed and full screen</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GraphicsDevice;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.time.Duration;\nimport java.time.Instant;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic final class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                GraphicsDevice device = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0];\n\n                JFrame frame = new JFrame();\n                frame.add(new GamePanel());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n\n//                device.setFullScreenWindow(frame);\n            }\n        });\n    }\n\n    public class GamePanel extends JPanel {\n        private Timer timer;\n\n        private int ticksPerSecond = 0;\n        private int paintsPerSecond = 0;\n\n        private int xDelta = 1;\n        private Rectangle boxy = new Rectangle(0, 0, 50, 50);\n\n        // Graphic Device (used for fullscreen)\n        public GamePanel() {\n            timer = new Timer(5, new ActionListener() {\n                private Instant lastTick;\n                private int ticks = 0;\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (lastTick == null) {\n                        lastTick = Instant.now();\n                    }\n                    if (Duration.between(lastTick, Instant.now()).toMillis() &gt;= 1000) {\n                        ticksPerSecond = ticks;\n                        lastTick = Instant.now();\n                        ticks = 0;\n                    }\n                    ticks++;\n\n                    boxy.x += xDelta;\n                    if (boxy.x + boxy.width &gt; getWidth()) {\n                        boxy.x = getWidth() - boxy.width;\n                        xDelta *= -1;\n                    } else if (boxy.x &lt; 0) {\n                        boxy.x = 0;\n                        xDelta *= -1;\n                    }\n                    boxy.y = (getHeight() - boxy.height) / 2;\n\n                    repaint();\n                }\n            });\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        public void addNotify() {\n            super.addNotify();\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            timer.stop();\n            super.removeNotify();\n        }\n\n        private Instant lastPaint;\n        private int paints = 0;\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            if (lastPaint == null) {\n                lastPaint = Instant.now();\n            }\n            if (Duration.between(lastPaint, Instant.now()).toMillis() &gt;= 1000) {\n                paintsPerSecond = paints;\n                lastPaint = Instant.now();\n                paints = 0;\n            }\n            paints++;\n\n            Graphics2D g2d = (Graphics2D) g.create();\n            FontMetrics fm = g2d.getFontMetrics();\n            g2d.drawString(&quot;Ticks p/s &quot; + ticksPerSecond, 10, 10 + fm.getAscent());\n            g2d.drawString(&quot;Paints p/s &quot; + paintsPerSecond, 10, 10 + fm.getAscent() + fm.getHeight());\n            g2d.fill(boxy);\n            g2d.dispose();\n        }\n    }\n}\n</code></pre>\n<p>If you &quot;really&quot; need absolute control over the painting process, then you should be using a <code>BufferStrategy</code>, see <a href=\"https://docs.oracle.com/javase/tutorial/extra/fullscreen/bufferstrategy.html\" rel=\"nofollow noreferrer\">BufferStrategy and BufferCapabilities</a> and the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/image/BufferStrategy.html\" rel=\"nofollow noreferrer\">JavaDocs</a> which has an excellent example of how it should be used.</p>\n<p>Lots of things might effect the performance of the paint process, <a href=\"https://stackoverflow.com/questions/14886232/swing-animation-running-extremely-slow/14902184#14902184\">for example</a></p>\n<h1>A crazy experiment...</h1>\n<p>So, this example allows you to change the number of entities been rendered on the screen.  Each entity is moving in it's own direction and is rotating (no collision detection).</p>\n<p>I can get this to run up to roughly 20-25, 0000 entities before I start seeing a (significant) change in the number of updates per second. I rolled it to 100, 000 and it dropped to roughly 42 updates per second.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GraphicsDevice;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Random;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JSlider;\nimport javax.swing.Timer;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\n\npublic final class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                GraphicsDevice device = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0];\n\n                GamePanel gamePanel = new GamePanel();\n                JSlider slider = new JSlider(1, 100000);\n                slider.setValue(100);\n                slider.addChangeListener(new ChangeListener() {\n                    @Override\n                    public void stateChanged(ChangeEvent e) {\n                        if (slider.getValueIsAdjusting()) {\n                            return;\n                        }\n                        gamePanel.setBoxCount(slider.getValue());\n                    }\n                });\n\n                JFrame frame = new JFrame();\n                frame.add(gamePanel);\n                frame.add(slider, BorderLayout.SOUTH);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n\n                device.setFullScreenWindow(frame);\n            }\n        });\n    }\n\n    public class GamePanel extends JPanel {\n        private Timer timer;\n\n        private int ticksPerSecond = 0;\n        private int paintsPerSecond = 0;\n\n        private List&lt;Box&gt; boxes = new ArrayList&lt;&gt;(100);\n\n        // Graphic Device (used for fullscreen)\n        public GamePanel() {\n            for (int index = 0; index &lt; 100; index++) {\n                boxes.add(new Box());\n            }\n\n            timer = new Timer(5, new ActionListener() {\n                private Instant lastTick;\n                private int ticks = 0;\n\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (lastTick == null) {\n                        lastTick = Instant.now();\n                    }\n                    if (Duration.between(lastTick, Instant.now()).toMillis() &gt;= 1000) {\n                        ticksPerSecond = ticks;\n                        lastTick = Instant.now();\n                        ticks = 0;\n                    }\n                    ticks++;\n\n                    for (Box box : boxes) {\n                        box.update(getSize());\n                    }\n\n                    repaint();\n                }\n            });\n        }\n\n        public void setBoxCount(int count) {\n            if (count &lt; boxes.size()) {\n                boxes = boxes.subList(0, count);\n                return;\n            }\n            while (boxes.size() &lt; count) {\n                boxes.add(new Box());\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        public void addNotify() {\n            super.addNotify();\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            timer.stop();\n            super.removeNotify();\n        }\n\n        private Instant lastPaint;\n        private int paints = 0;\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            if (lastPaint == null) {\n                lastPaint = Instant.now();\n            }\n            if (Duration.between(lastPaint, Instant.now()).toMillis() &gt;= 1000) {\n                paintsPerSecond = paints;\n                lastPaint = Instant.now();\n                paints = 0;\n            }\n            paints++;\n\n            Graphics2D g2d = (Graphics2D) g.create();\n            for (Box box : boxes) {\n                box.paint(g2d);\n            }\n            FontMetrics fm = g2d.getFontMetrics();\n            int yPos = 10 + fm.getAscent();\n            g2d.drawString(&quot;Ticks p/s &quot; + ticksPerSecond, 10, yPos + fm.getAscent());\n            yPos += fm.getHeight();\n            g2d.drawString(&quot;Paints p/s &quot; + paintsPerSecond, 10, yPos + fm.getAscent());\n            yPos += fm.getHeight();\n            g2d.drawString(&quot;Count &quot; + boxes.size(), 10, yPos + fm.getAscent());\n            g2d.dispose();\n        }\n    }\n\n    private List&lt;Color&gt; colors = new ArrayList&lt;&gt;(Arrays.asList(new Color[]{\n        Color.BLACK, Color.BLUE, Color.CYAN, Color.DARK_GRAY, Color.GRAY, Color.GREEN,\n        Color.LIGHT_GRAY, Color.MAGENTA, Color.ORANGE, Color.PINK, Color.RED, Color.WHITE,\n        Color.YELLOW\n    }));\n\n    public class Box {\n        private Color fill;\n\n        private Rectangle shape;\n\n        private int x;\n        private int y;\n\n        private int xDelta;\n        private int yDelta;\n\n        private int rotationDelta;\n        private int angle = 0;\n\n        public Box() {\n            Random rnd = new Random();\n            int width = rnd.nextInt(45) + 5;\n            int height = rnd.nextInt(45) + 5;\n            x = rnd.nextInt(400) - width;\n            y = rnd.nextInt(400) - height;\n\n            xDelta = rnd.nextInt(2) + 1;\n            yDelta = rnd.nextInt(2) + 1;\n            if (rnd.nextBoolean()) {\n                xDelta *= -1;\n            }\n            if (rnd.nextBoolean()) {\n                yDelta *= -1;\n            }\n\n            rotationDelta = rnd.nextInt(5);\n            if (rnd.nextBoolean()) {\n                rotationDelta *= -1;\n            }\n\n            shape = new Rectangle(x, y, width, height);\n            Collections.shuffle(colors);\n            fill = colors.get(0);\n\n            shape = new Rectangle(0, 0, width, height);\n        }\n\n        public void update(Dimension bounds) {\n            x += xDelta;\n            y += yDelta;\n            angle += rotationDelta;\n\n            if (x + getWidth() &gt; bounds.width) {\n                x = bounds.width - getWidth();\n                xDelta *= -1;\n            } else if (x &lt; 0) {\n                x = 0;\n                xDelta *= -1;\n            }\n            if (y + getWidth() &gt; bounds.height) {\n                y = bounds.height - getWidth();\n                yDelta *= -1;\n            } else if (y &lt; 0) {\n                y = 0;\n                yDelta *= -1;\n            }\n        }\n\n        public int getX() {\n            return x;\n        }\n\n        public int getY() {\n            return y;\n        }\n\n        public int getWidth() {\n            return shape.width;\n        }\n\n        public int getHeight() {\n            return shape.height;\n        }\n\n        public void paint(Graphics2D g2d) {\n            g2d = (Graphics2D) g2d.create();\n            g2d.translate(x, y);\n            g2d.rotate(Math.toRadians(angle), getWidth() / 2, getHeight() / 2);\n            g2d.setColor(fill);\n            g2d.fill(shape);\n            g2d.dispose();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25547401,"reputation":1,"user_id":19332487,"display_name":"jang1er"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656435010,"creation_date":1655146967,"question_id":72607869,"body_markdown":"The game runs at about 2000 to 3100 fps in normal window mode. If i set the JFrame component to fullscreen and scale up my JPanel to also the same resolution, the fps drops to 20-70.\r\n(This is a prototype, hardcoded resolutions will be later swapped out)\r\n\r\n\r\nThis is my relevant code (if this is not enough, I can provide more):\r\n\r\nGame.java\r\n\r\n    import javax.swing.JFrame;\r\n    \r\n    public class Game {\r\n    \r\n      public static void main(String[] args) {\r\n          JFrame window = new JFrame(&quot;Platformer Test&quot;);\r\n          window.setContentPane(new GamePanel(window));\r\n          window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n          window.setResizable(true);\r\n          //window.setUndecorated(true);\r\n          window.pack();\r\n          window.setVisible(true);  \r\n      }\r\n    }\r\n\r\nGamePanel.java\r\n\r\n    package Main;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GraphicsDevice;\r\n    import java.awt.GraphicsEnvironment;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    // custom imports\r\n    import GameState.GameStateManager;\r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class GamePanel extends JPanel implements Runnable, KeyListener{\r\n    \r\n      // dimensions\r\n      public static final int WIDTH = 320;\r\n      public static final int HEIGHT = 240;\r\n      public static final int SCALE = 2;\r\n      \r\n      // Graphic Device (used for fullscreen)\r\n      static GraphicsDevice device = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0];\r\n      private JFrame frame;\r\n      \r\n      // game Thread\r\n      private Thread thread;\r\n      private boolean running;\r\n      private double GameTicks = 60;\r\n    \r\n    \r\n      // image\r\n      private BufferedImage image;\r\n      private Graphics2D g;\r\n      boolean renderFPS = false;\r\n      int frames = 0;\r\n    \r\n      // game state manager\r\n      private GameStateManager gsm;\r\n    \r\n    \r\n      public GamePanel(JFrame frame) {\r\n        super();\r\n        this.frame = frame;\r\n        // set Window Size\r\n        setFocusable(true);\r\n        \r\n        setFullscreen(true);    \r\n      }\r\n      \r\n      private void setFullscreen(boolean t) {\r\n    \t  if(t) {\r\n              setPreferredSize(new Dimension(1920, 1080));\r\n    \t\t  device.setFullScreenWindow(frame);\r\n              requestFocus();\r\n    \t  }else {\r\n              setSize(new Dimension(WIDTH * SCALE, HEIGHT * SCALE));\r\n              requestFocus();\r\n    \t  }\r\n      }\r\n    \r\n      public void addNotify() {\r\n        super.addNotify();\r\n        if (thread == null) {\r\n          thread = new Thread(this);\r\n          addKeyListener(this);\r\n          thread.start();\r\n        }\r\n    \r\n      }\r\n    \r\n      private void init() {\r\n    \r\n        // create image --&gt; Game is drawn on here\r\n        image = new BufferedImage(\r\n            WIDTH, HEIGHT,\r\n            BufferedImage.TYPE_INT_RGB\r\n            );\r\n        // get graphics component of game image\r\n        g = (Graphics2D) image.getGraphics();\r\n    \r\n        // starts game clock\r\n        running = true;\r\n    \r\n        // adds new GameStateManager\r\n        gsm = new GameStateManager();\r\n      }\r\n    \r\n      @Override\r\n      public void run() {\r\n    \r\n        init();\r\n    \r\n        //game loop setup\r\n        double ns = 1000000000 / GameTicks;\r\n        double delta = 0;\r\n        long lastTime = System.nanoTime();\r\n        long timer = System.currentTimeMillis();\r\n        int ticks = 0;\r\n    \r\n        // game loop\r\n        while(running) {\r\n          long now = System.nanoTime();\r\n          delta +=  (now - lastTime) / ns;\r\n          lastTime = now;\r\n          while(delta &gt;= 1) {\r\n            update();\r\n            ticks++;\r\n            delta--;\r\n          }\r\n          if(running)\r\n            render();\r\n          frames++;\r\n    \r\n    \r\n          if(System.currentTimeMillis() - timer &gt; 1000) {\r\n            timer += 1000;\r\n            System.out.println(&quot;FPS: &quot; + frames + &quot;, ticks: &quot; + ticks);\r\n            renderFPS = true;\r\n            frames = 0;\r\n            ticks = 0;\r\n          }\r\n        }\r\n    \r\n      }\r\n    \r\n      private void update() {\r\n        gsm.update();\r\n      }\r\n    \r\n      private void render() {\r\n        gsm.render(g);\r\n        int fps = 0;\r\n    \r\n        // Draw To Screen\r\n        Graphics g2 = getGraphics();\r\n        g2.drawImage(image, 0, 0, WIDTH * SCALE, HEIGHT * SCALE, null);\r\n        //g2.drawImage(image, 0, 0, 1920, 1080, null);\r\n        if(renderFPS) {\r\n        \tfps = frames;\r\n        }\r\n        g2.setColor(Color.red);\r\n    \tg2.drawString(&quot;FPS: &quot; + fps, 100,100);\r\n        g2.dispose();\r\n      }\r\n    \r\n    \r\n      @Override\r\n      public void keyTyped(KeyEvent e) {\r\n        // TODO Auto-generated method stub\r\n    \r\n      }\r\n    \r\n    \r\n      @Override\r\n      public void keyPressed(KeyEvent e) {\r\n        // TODO Auto-generated method stub\r\n        gsm.keyPressed(e.getKeyCode());\r\n      }\r\n    \r\n    \r\n      @Override\r\n      public void keyReleased(KeyEvent e) {\r\n        // TODO Auto-generated method stub\r\n        gsm.keyReleased(e.getKeyCode());\r\n    \r\n      }\r\n    \r\n    }\r\n\r\n\r\n","title":"Java Game in Fullscreen has way less fps than in window mode","body":"<p>The game runs at about 2000 to 3100 fps in normal window mode. If i set the JFrame component to fullscreen and scale up my JPanel to also the same resolution, the fps drops to 20-70.\n(This is a prototype, hardcoded resolutions will be later swapped out)</p>\n<p>This is my relevant code (if this is not enough, I can provide more):</p>\n<p>Game.java</p>\n<pre><code>import javax.swing.JFrame;\n\npublic class Game {\n\n  public static void main(String[] args) {\n      JFrame window = new JFrame(&quot;Platformer Test&quot;);\n      window.setContentPane(new GamePanel(window));\n      window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      window.setResizable(true);\n      //window.setUndecorated(true);\n      window.pack();\n      window.setVisible(true);  \n  }\n}\n</code></pre>\n<p>GamePanel.java</p>\n<pre><code>package Main;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GraphicsDevice;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\n// custom imports\nimport GameState.GameStateManager;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class GamePanel extends JPanel implements Runnable, KeyListener{\n\n  // dimensions\n  public static final int WIDTH = 320;\n  public static final int HEIGHT = 240;\n  public static final int SCALE = 2;\n  \n  // Graphic Device (used for fullscreen)\n  static GraphicsDevice device = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()[0];\n  private JFrame frame;\n  \n  // game Thread\n  private Thread thread;\n  private boolean running;\n  private double GameTicks = 60;\n\n\n  // image\n  private BufferedImage image;\n  private Graphics2D g;\n  boolean renderFPS = false;\n  int frames = 0;\n\n  // game state manager\n  private GameStateManager gsm;\n\n\n  public GamePanel(JFrame frame) {\n    super();\n    this.frame = frame;\n    // set Window Size\n    setFocusable(true);\n    \n    setFullscreen(true);    \n  }\n  \n  private void setFullscreen(boolean t) {\n      if(t) {\n          setPreferredSize(new Dimension(1920, 1080));\n          device.setFullScreenWindow(frame);\n          requestFocus();\n      }else {\n          setSize(new Dimension(WIDTH * SCALE, HEIGHT * SCALE));\n          requestFocus();\n      }\n  }\n\n  public void addNotify() {\n    super.addNotify();\n    if (thread == null) {\n      thread = new Thread(this);\n      addKeyListener(this);\n      thread.start();\n    }\n\n  }\n\n  private void init() {\n\n    // create image --&gt; Game is drawn on here\n    image = new BufferedImage(\n        WIDTH, HEIGHT,\n        BufferedImage.TYPE_INT_RGB\n        );\n    // get graphics component of game image\n    g = (Graphics2D) image.getGraphics();\n\n    // starts game clock\n    running = true;\n\n    // adds new GameStateManager\n    gsm = new GameStateManager();\n  }\n\n  @Override\n  public void run() {\n\n    init();\n\n    //game loop setup\n    double ns = 1000000000 / GameTicks;\n    double delta = 0;\n    long lastTime = System.nanoTime();\n    long timer = System.currentTimeMillis();\n    int ticks = 0;\n\n    // game loop\n    while(running) {\n      long now = System.nanoTime();\n      delta +=  (now - lastTime) / ns;\n      lastTime = now;\n      while(delta &gt;= 1) {\n        update();\n        ticks++;\n        delta--;\n      }\n      if(running)\n        render();\n      frames++;\n\n\n      if(System.currentTimeMillis() - timer &gt; 1000) {\n        timer += 1000;\n        System.out.println(&quot;FPS: &quot; + frames + &quot;, ticks: &quot; + ticks);\n        renderFPS = true;\n        frames = 0;\n        ticks = 0;\n      }\n    }\n\n  }\n\n  private void update() {\n    gsm.update();\n  }\n\n  private void render() {\n    gsm.render(g);\n    int fps = 0;\n\n    // Draw To Screen\n    Graphics g2 = getGraphics();\n    g2.drawImage(image, 0, 0, WIDTH * SCALE, HEIGHT * SCALE, null);\n    //g2.drawImage(image, 0, 0, 1920, 1080, null);\n    if(renderFPS) {\n        fps = frames;\n    }\n    g2.setColor(Color.red);\n    g2.drawString(&quot;FPS: &quot; + fps, 100,100);\n    g2.dispose();\n  }\n\n\n  @Override\n  public void keyTyped(KeyEvent e) {\n    // TODO Auto-generated method stub\n\n  }\n\n\n  @Override\n  public void keyPressed(KeyEvent e) {\n    // TODO Auto-generated method stub\n    gsm.keyPressed(e.getKeyCode());\n  }\n\n\n  @Override\n  public void keyReleased(KeyEvent e) {\n    // TODO Auto-generated method stub\n    gsm.keyReleased(e.getKeyCode());\n\n  }\n\n}\n</code></pre>\n"},{"tags":["java","optimization","gis"],"answers":[{"tags":[],"owner":{"account_id":14943184,"reputation":10724,"user_id":10789207,"display_name":"AirSquid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655821641,"creation_date":1655821641,"answer_id":72702552,"question_id":72702155,"body_markdown":"Two suggestions...\r\n\r\n1.  (old trick)...  Don&#39;t do unnecessary math inside of a loop.  You can and should eliminate the `sqrt` function, which is an &quot;expensive&quot; math operation when doing distances.  Just compare to the square of `ovalSize`.  It is mathematically equivalent.\r\n\r\n2.  Is your list sorted in any way?  If there were a convenient point in your program to sort your list (or a copy of it) before displaying, then you could very quickly:\r\n\r\n- Lop off the first and last part that is outside your zoom window in one of the coordinates (say X, if you sorted by X) by doing a binary search for the window boundary\r\n- Tighten up your loop to only look at neighbors within a window of concern, and do a sliding window instead of all-compared-to-all.\r\n\r\n","title":"How can I draw the points of a route equidistant of one another?","body":"<p>Two suggestions...</p>\n<ol>\n<li><p>(old trick)...  Don't do unnecessary math inside of a loop.  You can and should eliminate the <code>sqrt</code> function, which is an &quot;expensive&quot; math operation when doing distances.  Just compare to the square of <code>ovalSize</code>.  It is mathematically equivalent.</p>\n</li>\n<li><p>Is your list sorted in any way?  If there were a convenient point in your program to sort your list (or a copy of it) before displaying, then you could very quickly:</p>\n</li>\n</ol>\n<ul>\n<li>Lop off the first and last part that is outside your zoom window in one of the coordinates (say X, if you sorted by X) by doing a binary search for the window boundary</li>\n<li>Tighten up your loop to only look at neighbors within a window of concern, and do a sliding window instead of all-compared-to-all.</li>\n</ul>\n"}],"owner":{"account_id":16995186,"reputation":105,"user_id":12293801,"display_name":"sushiwithoutsushi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656434590,"creation_date":1655820013,"question_id":72702155,"body_markdown":"I am writing a program that outputs the shortest route between two points on a map. The problem is that if the route is too long and it has many points that define its path it slows the program a lot and I am looking for a way to draw just some points instead of all the points in the array.\r\n\r\nMy approach goes as follows: the map has a zoom, each time the zoom changes check which points overlaps with the others. All the points that doesn&#39;t overlap go into the `routeToDraw` list and then it is drawn.\r\n\r\nTo check if the points overlap or not I have the following function:\r\n\r\n        //route is a list of latitude and longitude points\r\n\r\n        LinkedList&lt;Point.Double&gt; route = MapPanel.this.getGlassPane().getRoute();\r\n        LinkedList&lt;Point.Double&gt; routeToDraw = new LinkedList&lt;Point.Double&gt;();\r\n        int ovalSize = 8;\r\n        boolean compareMorePoints;\r\n        for(int i = 0; i &lt; route.size(); i++) {\r\n        \t Point p1 = getScreenCoordinates(route.get(i).x, route.get(i).y);       \r\n        \t compareMorePoints = true;\r\n        \t int j = i + 1;\r\n        \t while (j &lt; route.size() &amp;&amp; compareMorePoints == true) {\r\n        \t\t Point p2 = getScreenCoordinates(route.get(j).x, route.get(j).y);\r\n        \t\t \r\n        \t\t if (Math.sqrt(Math.pow(p1.x  - p2.x, 2) + Math.pow(p1.y - p2.y, 2)) &gt; ovalSize ) {\r\n        \t\t\t routeToDraw.add(route.get(i));\r\n        \t\t\t compareMorePoints = false;\r\n        \t\t }\r\n        \t\t j++;\r\n        \t }\r\n        }\r\n        MapPanel.this.getGlassPane().setRouteToDraw(routeToDraw);\r\n\r\nThe problem is that this function is [quite expensive][1] and although it does reduce the amount of points to draw and I seem to obtain some speed after calculating `routeToDraw` I don&#39;t think it is worth the wait each time I zoom in or out.\r\n\r\nThe ideal solution would be something like Google Maps&#39; does when routing, drawing a series of equidistant points that modify each time you zoom in or out and look quite nice. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/36402823/12293801","title":"How can I draw the points of a route equidistant of one another?","body":"<p>I am writing a program that outputs the shortest route between two points on a map. The problem is that if the route is too long and it has many points that define its path it slows the program a lot and I am looking for a way to draw just some points instead of all the points in the array.</p>\n<p>My approach goes as follows: the map has a zoom, each time the zoom changes check which points overlaps with the others. All the points that doesn't overlap go into the <code>routeToDraw</code> list and then it is drawn.</p>\n<p>To check if the points overlap or not I have the following function:</p>\n<pre><code>    //route is a list of latitude and longitude points\n\n    LinkedList&lt;Point.Double&gt; route = MapPanel.this.getGlassPane().getRoute();\n    LinkedList&lt;Point.Double&gt; routeToDraw = new LinkedList&lt;Point.Double&gt;();\n    int ovalSize = 8;\n    boolean compareMorePoints;\n    for(int i = 0; i &lt; route.size(); i++) {\n         Point p1 = getScreenCoordinates(route.get(i).x, route.get(i).y);       \n         compareMorePoints = true;\n         int j = i + 1;\n         while (j &lt; route.size() &amp;&amp; compareMorePoints == true) {\n             Point p2 = getScreenCoordinates(route.get(j).x, route.get(j).y);\n             \n             if (Math.sqrt(Math.pow(p1.x  - p2.x, 2) + Math.pow(p1.y - p2.y, 2)) &gt; ovalSize ) {\n                 routeToDraw.add(route.get(i));\n                 compareMorePoints = false;\n             }\n             j++;\n         }\n    }\n    MapPanel.this.getGlassPane().setRouteToDraw(routeToDraw);\n</code></pre>\n<p>The problem is that this function is <a href=\"https://stackoverflow.com/a/36402823/12293801\">quite expensive</a> and although it does reduce the amount of points to draw and I seem to obtain some speed after calculating <code>routeToDraw</code> I don't think it is worth the wait each time I zoom in or out.</p>\n<p>The ideal solution would be something like Google Maps' does when routing, drawing a series of equidistant points that modify each time you zoom in or out and look quite nice.</p>\n"},{"tags":["java","pdfbox","hung"],"answers":[{"tags":[],"owner":{"account_id":11356679,"reputation":63,"user_id":8326098,"display_name":"Th3Gh0st"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656434508,"creation_date":1656434508,"answer_id":72790285,"question_id":72789780,"body_markdown":"Solution:\r\n\r\nI was missing to specify font family, working code:\r\n\r\n    PDFont pdfFont=  new PDType1Font(font_name_3v.HELVETICA_BOLD);\r\n\r\n","title":"PdfBox Alpha 3.0.0-alpha3 , PDType1Font constructor issue","body":"<p>Solution:</p>\n<p>I was missing to specify font family, working code:</p>\n<pre><code>PDFont pdfFont=  new PDType1Font(font_name_3v.HELVETICA_BOLD);\n</code></pre>\n"}],"owner":{"account_id":11356679,"reputation":63,"user_id":8326098,"display_name":"Th3Gh0st"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1722,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656434508,"creation_date":1656432179,"question_id":72789780,"body_markdown":"Good afternoon,\r\n\r\nI recently try to upgrade pdfBox to 3.0.0-alpha3.\r\nI align the using of class PDType1font with new constructor requirements: \r\n\r\n    PDType1Font(Standard14Fonts.FontName baseFont)\r\n\r\n\r\nMy code now is:\r\n\r\n    FontName font_name_3v= Standard14Fonts.getMappedFontName(&quot;HELVETICA_BOLD&quot;);\r\n    PDFont pdfFont=  new PDType1Font(font_name_3v);\r\n\r\nBut it hung infinite on line :   `PDFont pdfFont=  new PDType1Font(font_name_3v);`\r\n\r\n\r\nI follow the documentation:\r\n- https://javadoc.io/static/org.apache.pdfbox/pdfbox/3.0.0-alpha3/org/apache/pdfbox/pdmodel/font/PDType1Font.html#PDType1Font-org.apache.pdfbox.pdmodel.font.Standard14Fonts.FontName-\r\n- https://javadoc.io/doc/org.apache.pdfbox/pdfbox/3.0.0-alpha3/index.html\r\n\r\n\r\nThank you\r\n\r\n\r\n","title":"PdfBox Alpha 3.0.0-alpha3 , PDType1Font constructor issue","body":"<p>Good afternoon,</p>\n<p>I recently try to upgrade pdfBox to 3.0.0-alpha3.\nI align the using of class PDType1font with new constructor requirements:</p>\n<pre><code>PDType1Font(Standard14Fonts.FontName baseFont)\n</code></pre>\n<p>My code now is:</p>\n<pre><code>FontName font_name_3v= Standard14Fonts.getMappedFontName(&quot;HELVETICA_BOLD&quot;);\nPDFont pdfFont=  new PDType1Font(font_name_3v);\n</code></pre>\n<p>But it hung infinite on line :   <code>PDFont pdfFont=  new PDType1Font(font_name_3v);</code></p>\n<p>I follow the documentation:</p>\n<ul>\n<li><a href=\"https://javadoc.io/static/org.apache.pdfbox/pdfbox/3.0.0-alpha3/org/apache/pdfbox/pdmodel/font/PDType1Font.html#PDType1Font-org.apache.pdfbox.pdmodel.font.Standard14Fonts.FontName-\" rel=\"nofollow noreferrer\">https://javadoc.io/static/org.apache.pdfbox/pdfbox/3.0.0-alpha3/org/apache/pdfbox/pdmodel/font/PDType1Font.html#PDType1Font-org.apache.pdfbox.pdmodel.font.Standard14Fonts.FontName-</a></li>\n<li><a href=\"https://javadoc.io/doc/org.apache.pdfbox/pdfbox/3.0.0-alpha3/index.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.apache.pdfbox/pdfbox/3.0.0-alpha3/index.html</a></li>\n</ul>\n<p>Thank you</p>\n"},{"tags":["java","http","servlet-filters"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1656269520,"post_id":72763874,"comment_id":128525090,"body_markdown":"Please explain &quot;Which is not working..&quot;. Show your code and any error messages and the stack trace.","body":"Please explain &quot;Which is not working..&quot;. Show your code and any error messages and the stack trace."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1656332616,"post_id":72763874,"comment_id":128538354,"body_markdown":"The answer is to use a servlet filter instead of a servlet. It&#39;s however very surprising that you basically answered this yourself by using the `[servlet-filters]` tag instead of the `[servlets]` tag on your question. The code which you have there is NOT a servlet filter. It&#39;s a plain servlet.","body":"The answer is to use a servlet filter instead of a servlet. It&#39;s however very surprising that you basically answered this yourself by using the <code>[servlet-filters]</code> tag instead of the <code>[servlets]</code> tag on your question. The code which you have there is NOT a servlet filter. It&#39;s a plain servlet."}],"owner":{"account_id":1762339,"reputation":865,"user_id":2573201,"accept_rate":90,"display_name":"user1609085"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656434382,"creation_date":1656265131,"question_id":72763874,"body_markdown":"Working on a http proxy servlet which is used to forward the request to another remote server. \r\n\r\nNOTE: Cannot change the URL Pattern\r\n\r\nSnippet of web.xml\r\n\r\n    &lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;SomeServlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;SomeServlet&lt;/servlet-class&gt;\r\n\t\t&lt;load-on-startup&gt;0&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;SomeServlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/pattern1/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\nSomeServlet.Java\r\n\r\nValidates the requests to check for specific content in request body and if matches forward to remote server. (Working as expected)\r\n\r\nbut if the condition fails, request processing should continue as is. \r\nwhat I have now,\r\n\r\n    public class proxyServlet extends HttpServlet {\r\n    /* it has all the init other configs*/\r\n    \r\n    @Overrirde\r\n    protected void service(HttpServletRequest servletRequest, HttpServletResponse servletResponse)\r\n    \t\tthrows ServletException, IOException {\r\n    \r\n            /* If true, returns which endpoint for remote server else returns null */\r\n    \t\tString endPoint = checkForConditions(servletRequest);\r\n    \r\n    \t\tif(endPoint == null) {\r\n    \t\t\treturn; // this is not letting the app to continue with flow.\r\n    \t\t} else {\r\n               HttpRequest newR = new BasicHttpRequest(method, endPoint);\r\n               doExecute(servletRequest, newR)\r\n            }\r\n        }\r\n    }\r\n\r\nI cannot create a new request and forward since server will again catch the pattern and do it in a infinite loop. \r\n\r\nWhat is the best way to accomplish this? Any suggestions are greatly appreciated. \r\n\r\nUPDATE-Solved: As per the comment from @balusc, Used servlet-filter and on condition use a HTTPClient to send POST request to remote server else chain.doFilter(...)","title":"Conditional Http Proxy Servlet","body":"<p>Working on a http proxy servlet which is used to forward the request to another remote server.</p>\n<p>NOTE: Cannot change the URL Pattern</p>\n<p>Snippet of web.xml</p>\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;SomeServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;SomeServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;0&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;SomeServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/pattern1/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>SomeServlet.Java</p>\n<p>Validates the requests to check for specific content in request body and if matches forward to remote server. (Working as expected)</p>\n<p>but if the condition fails, request processing should continue as is.\nwhat I have now,</p>\n<pre><code>public class proxyServlet extends HttpServlet {\n/* it has all the init other configs*/\n\n@Overrirde\nprotected void service(HttpServletRequest servletRequest, HttpServletResponse servletResponse)\n        throws ServletException, IOException {\n\n        /* If true, returns which endpoint for remote server else returns null */\n        String endPoint = checkForConditions(servletRequest);\n\n        if(endPoint == null) {\n            return; // this is not letting the app to continue with flow.\n        } else {\n           HttpRequest newR = new BasicHttpRequest(method, endPoint);\n           doExecute(servletRequest, newR)\n        }\n    }\n}\n</code></pre>\n<p>I cannot create a new request and forward since server will again catch the pattern and do it in a infinite loop.</p>\n<p>What is the best way to accomplish this? Any suggestions are greatly appreciated.</p>\n<p>UPDATE-Solved: As per the comment from @balusc, Used servlet-filter and on condition use a HTTPClient to send POST request to remote server else chain.doFilter(...)</p>\n"},{"tags":["javascript","java","react-native"],"answers":[{"tags":[],"owner":{"account_id":24315040,"reputation":136,"user_id":18256370,"display_name":"anti-duhring"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656433794,"creation_date":1656433794,"answer_id":72790144,"question_id":72789880,"body_markdown":"You can remove the HTML tags using `.replace()` method. Try this:\r\n\r\n```javascript\r\n&lt;Text style={[GlobalStyle.EventDescr]}&gt;{eventData.description.replace(/(&lt;([^&gt;]+)&gt;)/ig,&#39;&#39;)}&lt;/Text&gt;\r\n```\r\n\r\nCheck the documentation: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace","title":"Having issue to render html data in react native","body":"<p>You can remove the HTML tags using <code>.replace()</code> method. Try this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>&lt;Text style={[GlobalStyle.EventDescr]}&gt;{eventData.description.replace(/(&lt;([^&gt;]+)&gt;)/ig,'')}&lt;/Text&gt;\n</code></pre>\n<p>Check the documentation: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace</a></p>\n"}],"owner":{"account_id":25668959,"reputation":1,"user_id":19433506,"display_name":"Vesh nair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656433794,"creation_date":1656432631,"question_id":72789880,"body_markdown":"I&#39;m having issue on how to render a HTML API data name description in my react native code. Currently, the API data is in HTML format: [HTML Format Data Image][1] . I want to convert it to normal text like this: [Normal Text Image][2]. Please do help me out to solve this problem.\r\n\r\nGiven HTML API Data name: [Given API Data name Image ][3]\r\n\r\nThis is my code:\r\n\r\n     return (\r\n                &lt;ScrollView style={[GlobalStyle.CustomScrollView]}&gt;\r\n                    &lt;HeaderBar3/&gt;\r\n                    &lt;Text style={[GlobalStyle.EventTitle]}&gt; Event Details&lt;/Text&gt;\r\n                    &lt;View style={[GlobalStyle.EventDetailView]}&gt;\r\n                        &lt;Image style={[GlobalStyle.EventDetailImage]} source={{uri: eventData.main_image}} resizeMode=&quot;contain&quot;/&gt;\r\n                        &lt;Text style={[GlobalStyle.EventSubtitle]}&gt;Date:&lt;/Text&gt;\r\n                        &lt;Text style={[GlobalStyle.EventDate]}&gt;{date}&lt;/Text&gt;\r\n                        &lt;Text style={[GlobalStyle.EventTime]}&gt;{startTime}{&#39;-&#39;}{endTime}&lt;/Text&gt;\r\n                        &lt;Text style={[GlobalStyle.EventSubtitle]}&gt;Venue:&lt;/Text&gt;\r\n                        &lt;Text style={[GlobalStyle.EventDescr]}&gt;{eventData.venue}&lt;/Text&gt;\r\n                        &lt;Text style={[GlobalStyle.EventSubtitle]}&gt;Ticket:&lt;/Text&gt;\r\n                        &lt;Text style={[GlobalStyle.EventTicketPrice]}&gt;{eventData.promotional_price}&lt;/Text&gt;\r\n                        &lt;Text style={[GlobalStyle.EventSubtitle]}&gt;Description:&lt;/Text&gt;\r\n                        &lt;Text style={[GlobalStyle.EventDescr]}&gt;{eventData.description}&lt;/Text&gt;\r\n                &lt;/View&gt;\r\n                &lt;/ScrollView&gt;\r\n            );\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nxnQ2.png\r\n  [2]: https://i.stack.imgur.com/58b57.png\r\n  [3]: https://i.stack.imgur.com/BwsTz.png","title":"Having issue to render html data in react native","body":"<p>I'm having issue on how to render a HTML API data name description in my react native code. Currently, the API data is in HTML format: <a href=\"https://i.stack.imgur.com/nxnQ2.png\" rel=\"nofollow noreferrer\">HTML Format Data Image</a> . I want to convert it to normal text like this: <a href=\"https://i.stack.imgur.com/58b57.png\" rel=\"nofollow noreferrer\">Normal Text Image</a>. Please do help me out to solve this problem.</p>\n<p>Given HTML API Data name: <a href=\"https://i.stack.imgur.com/BwsTz.png\" rel=\"nofollow noreferrer\">Given API Data name Image </a></p>\n<p>This is my code:</p>\n<pre><code> return (\n            &lt;ScrollView style={[GlobalStyle.CustomScrollView]}&gt;\n                &lt;HeaderBar3/&gt;\n                &lt;Text style={[GlobalStyle.EventTitle]}&gt; Event Details&lt;/Text&gt;\n                &lt;View style={[GlobalStyle.EventDetailView]}&gt;\n                    &lt;Image style={[GlobalStyle.EventDetailImage]} source={{uri: eventData.main_image}} resizeMode=&quot;contain&quot;/&gt;\n                    &lt;Text style={[GlobalStyle.EventSubtitle]}&gt;Date:&lt;/Text&gt;\n                    &lt;Text style={[GlobalStyle.EventDate]}&gt;{date}&lt;/Text&gt;\n                    &lt;Text style={[GlobalStyle.EventTime]}&gt;{startTime}{'-'}{endTime}&lt;/Text&gt;\n                    &lt;Text style={[GlobalStyle.EventSubtitle]}&gt;Venue:&lt;/Text&gt;\n                    &lt;Text style={[GlobalStyle.EventDescr]}&gt;{eventData.venue}&lt;/Text&gt;\n                    &lt;Text style={[GlobalStyle.EventSubtitle]}&gt;Ticket:&lt;/Text&gt;\n                    &lt;Text style={[GlobalStyle.EventTicketPrice]}&gt;{eventData.promotional_price}&lt;/Text&gt;\n                    &lt;Text style={[GlobalStyle.EventSubtitle]}&gt;Description:&lt;/Text&gt;\n                    &lt;Text style={[GlobalStyle.EventDescr]}&gt;{eventData.description}&lt;/Text&gt;\n            &lt;/View&gt;\n            &lt;/ScrollView&gt;\n        );\n</code></pre>\n"},{"tags":["java","spring","spring-saml"],"answers":[{"tags":[],"owner":{"account_id":12727030,"reputation":1,"user_id":12055541,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656433666,"creation_date":1656433666,"answer_id":72790115,"question_id":46003747,"body_markdown":"I recently ran into this same issue using CachingMetadataManager. In the [docs][1], it says,\r\n\r\n&gt; Cache is cleaned whenever some of the providers published an observed\r\n&gt; message\r\n\r\nMy current guess is that the IDP either published a message and one of our severs didn&#39;t get it, or that the IDP made changes to the metadata without publishing a message. However, simply rebuilding the environment did fix the issue. \r\n\r\n  [1]: https://docs.spring.io/spring-security-saml/docs/current/api/org/springframework/security/saml/metadata/CachingMetadataManager.html","title":"spring-saml IDPSSODescriptor wasn&#39;t found after time","body":"<p>I recently ran into this same issue using CachingMetadataManager. In the <a href=\"https://docs.spring.io/spring-security-saml/docs/current/api/org/springframework/security/saml/metadata/CachingMetadataManager.html\" rel=\"nofollow noreferrer\">docs</a>, it says,</p>\n<blockquote>\n<p>Cache is cleaned whenever some of the providers published an observed\nmessage</p>\n</blockquote>\n<p>My current guess is that the IDP either published a message and one of our severs didn't get it, or that the IDP made changes to the metadata without publishing a message. However, simply rebuilding the environment did fix the issue.</p>\n"}],"owner":{"account_id":11675016,"reputation":41,"user_id":8548867,"display_name":"Pasquale Daloiso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1824,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1656433666,"creation_date":1504280436,"question_id":46003747,"body_markdown":"I have a system that works, but after certain period of time I have this kind of problem:\r\n\r\n    2017-08-31 15:31:00 ERROR UT005023: Exception handling request to /spring-security-saml2-sample/saml/login: javax.servlet.ServletException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Metadata for entity ****** and role {urn:oasis:names:tc:SAML:2.0:metadata}IDPSSODescriptor wasn&#39;t found\r\n    2017-08-31 15:31:02,922 ERROR [io.undertow.request] (default task-29) UT005023: Exception handling request to /spring-security-saml2-sample/: org.apache.jasper.JasperException: java.lang.NullPointerException\r\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:473)\r\n\r\nMy &quot;express&quot; solution is to restart wildfly but I&#39;d like to resolve it definitively. What can I do?\r\n","title":"spring-saml IDPSSODescriptor wasn&#39;t found after time","body":"<p>I have a system that works, but after certain period of time I have this kind of problem:</p>\n\n<pre><code>2017-08-31 15:31:00 ERROR UT005023: Exception handling request to /spring-security-saml2-sample/saml/login: javax.servlet.ServletException: org.opensaml.saml2.metadata.provider.MetadataProviderException: Metadata for entity ****** and role {urn:oasis:names:tc:SAML:2.0:metadata}IDPSSODescriptor wasn't found\n2017-08-31 15:31:02,922 ERROR [io.undertow.request] (default task-29) UT005023: Exception handling request to /spring-security-saml2-sample/: org.apache.jasper.JasperException: java.lang.NullPointerException\nat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:473)\n</code></pre>\n\n<p>My \"express\" solution is to restart wildfly but I'd like to resolve it definitively. What can I do?</p>\n"},{"tags":["eclipse","java"],"comments":[{"owner":{"account_id":1350225,"reputation":1510,"user_id":1290119,"accept_rate":90,"display_name":"Manoj Kumar"},"score":0,"creation_date":1347634145,"post_id":12426810,"comment_id":16705974,"body_markdown":"best and easy way to do this is to reinstall your java and set the path on eclipse","body":"best and easy way to do this is to reinstall your java and set the path on eclipse"},{"owner":{"account_id":1096523,"reputation":1225,"user_id":1090009,"display_name":"NullReference"},"score":0,"creation_date":1347634337,"post_id":12426810,"comment_id":16706065,"body_markdown":"Nambari - Any reason why the JAVA_HOME variable would suddenly disappear? EDIT: just tried setting the JAVA_HOME env var and still get the error on eclipse startup.","body":"Nambari - Any reason why the JAVA_HOME variable would suddenly disappear? EDIT: just tried setting the JAVA_HOME env var and still get the error on eclipse startup."},{"owner":{"account_id":47072,"reputation":576,"user_id":139289,"display_name":"StellarVortex"},"score":3,"creation_date":1388227649,"post_id":12426810,"comment_id":31208205,"body_markdown":"@Nambari &quot;Eclipse DOES NOT consult the JAVA_HOME environment variable.&quot; [FAQ](http://wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F#Find_the_JVM)","body":"@Nambari &quot;Eclipse DOES NOT consult the JAVA_HOME environment variable.&quot; <a href=\"http://wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F#Find_the_JVM\" rel=\"nofollow noreferrer\">FAQ</a>"},{"owner":{"account_id":2839884,"reputation":948,"user_id":2439701,"accept_rate":83,"display_name":"Pavan Pyati"},"score":0,"creation_date":1429809278,"post_id":12426810,"comment_id":47786853,"body_markdown":"Just set JAVA_HOME and PATH environment variables.","body":"Just set JAVA_HOME and PATH environment variables."}],"answers":[{"tags":[],"owner":{"account_id":314004,"reputation":11829,"user_id":628943,"accept_rate":100,"display_name":"Ajay George"},"down_vote_count":0,"up_vote_count":233,"is_accepted":true,"score":233,"last_activity_date":1547663131,"creation_date":1347634372,"answer_id":12426948,"question_id":12426810,"body_markdown":"Two ways to work around this .\r\n\r\n- **Recommended way** : In your `eclipse.ini` file make sure you are\r\n   pointing -vm to your jdk installation. More on this [here][1]. Make sure to add `-vm` before the `-vmargs` section.\r\n\r\n- Pass in the `vm` flag from command line. http://wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F#Find_the_JVM\r\n\r\n*Note* : Eclipse DOES NOT consult the JAVA_HOME environment variable.\r\n  \r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://wiki.eclipse.org/Eclipse.ini#-vm_value:_Windows_Example","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>Two ways to work around this .</p>\n\n<ul>\n<li><p><strong>Recommended way</strong> : In your <code>eclipse.ini</code> file make sure you are\npointing -vm to your jdk installation. More on this <a href=\"http://wiki.eclipse.org/Eclipse.ini#-vm_value:_Windows_Example\" rel=\"noreferrer\">here</a>. Make sure to add <code>-vm</code> before the <code>-vmargs</code> section.</p></li>\n<li><p>Pass in the <code>vm</code> flag from command line. <a href=\"http://wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F#Find_the_JVM\" rel=\"noreferrer\">http://wiki.eclipse.org/FAQ_How_do_I_run_Eclipse%3F#Find_the_JVM</a></p></li>\n</ul>\n\n<p><em>Note</em> : Eclipse DOES NOT consult the JAVA_HOME environment variable.</p>\n"},{"tags":[],"owner":{"account_id":1748408,"reputation":414,"user_id":1598077,"display_name":"skvalen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361542001,"creation_date":1361542001,"answer_id":15026001,"question_id":12426810,"body_markdown":"I had the same problem. I my case it was a program i&#39;ve install that had destroyed the PATH env variable.\r\n\r\nso check your PATH environment variable.","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>I had the same problem. I my case it was a program i've install that had destroyed the PATH env variable.</p>\n\n<p>so check your PATH environment variable.</p>\n"},{"tags":[],"owner":{"account_id":1001865,"reputation":4245,"user_id":1016544,"accept_rate":27,"display_name":"Wahib Ul Haq"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1369137924,"creation_date":1369137924,"answer_id":16669580,"question_id":12426810,"body_markdown":"In my case i had few things missing. I didnt install JDK and JRE of 64 bit while eclipse was of 64 bit version. Once done and JDK\\bin path was set in PATH variable eclipse worked fine :)","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>In my case i had few things missing. I didnt install JDK and JRE of 64 bit while eclipse was of 64 bit version. Once done and JDK\\bin path was set in PATH variable eclipse worked fine :)</p>\n"},{"tags":[],"owner":{"account_id":1604220,"reputation":161,"user_id":1484626,"display_name":"user1484626"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1371620218,"creation_date":1371620218,"answer_id":17183570,"question_id":12426810,"body_markdown":"Make sure both the Java version and Eclipse are belongs to same architecture.So install 64 bit java for 64 bit eclipse.","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>Make sure both the Java version and Eclipse are belongs to same architecture.So install 64 bit java for 64 bit eclipse.</p>\n"},{"tags":[],"owner":{"account_id":3263540,"reputation":1,"user_id":2748549,"display_name":"Lukas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378329928,"creation_date":1378329928,"answer_id":18624066,"question_id":12426810,"body_markdown":"Try downloading and installing 32-bit version of Java, and then setting the path :)","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>Try downloading and installing 32-bit version of Java, and then setting the path :)</p>\n"},{"tags":[],"owner":{"account_id":157453,"reputation":8234,"user_id":375422,"accept_rate":69,"display_name":"alansiqueira27"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378385857,"creation_date":1378385857,"answer_id":18637003,"question_id":12426810,"body_markdown":"Yeah it happend to me right now. Go to Oracle site, and search for Java SDK. Make sure you use   the same architeture (x86, x64) of Eclipse.","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>Yeah it happend to me right now. Go to Oracle site, and search for Java SDK. Make sure you use   the same architeture (x86, x64) of Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":2886493,"reputation":2377,"user_id":2476238,"accept_rate":60,"display_name":"Pascal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1411597902,"creation_date":1389881878,"answer_id":21164270,"question_id":12426810,"body_markdown":"First \r\n\r\ncheck if you have both java 32 and 64 bit install then \r\n\r\nSetting Path on Windows\r\n\r\nWindows 8\r\n\r\nDrag the Mouse pointer to the Right bottom corner of the screen\r\n\r\nClick on the Search icon and type: Control Panel\r\n\r\nClick on -&gt; Control Panel -&gt; System -&gt; Advanced\r\n\r\nClick on Environment Variables, under System Variables, find PATH, and click on it.\r\n\r\nIn the Edit windows, modify PATH by adding the location of the class to the value for PATH, Or simply make sure that the variable name is in ALL CAPS\r\n\r\nIf you do not have the item PATH, you may select to add a new variable and add PATH as the name and the location of the class as the value.\r\n\r\nClose the window.\r\n\r\nReopen Command prompt window, and run your java code.\r\n","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>First </p>\n\n<p>check if you have both java 32 and 64 bit install then </p>\n\n<p>Setting Path on Windows</p>\n\n<p>Windows 8</p>\n\n<p>Drag the Mouse pointer to the Right bottom corner of the screen</p>\n\n<p>Click on the Search icon and type: Control Panel</p>\n\n<p>Click on -> Control Panel -> System -> Advanced</p>\n\n<p>Click on Environment Variables, under System Variables, find PATH, and click on it.</p>\n\n<p>In the Edit windows, modify PATH by adding the location of the class to the value for PATH, Or simply make sure that the variable name is in ALL CAPS</p>\n\n<p>If you do not have the item PATH, you may select to add a new variable and add PATH as the name and the location of the class as the value.</p>\n\n<p>Close the window.</p>\n\n<p>Reopen Command prompt window, and run your java code.</p>\n"},{"tags":[],"owner":{"account_id":1359054,"reputation":746,"user_id":1296783,"accept_rate":67,"display_name":"yeaaaahhhh..hamf hamf"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1582553514,"creation_date":1395065530,"answer_id":22456604,"question_id":12426810,"body_markdown":"**eclipse.ini:**\r\n\r\n    --launcher.defaultAction  \r\n    --launcher.XXMaxPermSize  \r\n    256M  \r\n    -showsplash\r\n    org.eclipse.platform\r\n    --launcher.XXMaxPermSize&lt;br/&gt;\r\n    256m  \r\n    --launcher.defaultAction  \r\n    openFile  \r\n    -showsplash  \r\n    org.eclipse.platform\r\n    -vm\r\n    C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\bin\\server\\jvm.dll&lt;br/&gt;\r\n    --launcher.XXMaxPermSize  \r\n    256m  \r\n    --launcher.defaultAction  \r\n    openFile  \r\n    -vmargs  \r\n    -Dosgi.requiredJavaVersion=1.7  \r\n   \r\nThat worked for me. It doesnt have to be on the beginning, but surely it cant be at the end of the file.","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p><strong>eclipse.ini:</strong></p>\n\n<pre><code>--launcher.defaultAction  \n--launcher.XXMaxPermSize  \n256M  \n-showsplash\norg.eclipse.platform\n--launcher.XXMaxPermSize&lt;br/&gt;\n256m  \n--launcher.defaultAction  \nopenFile  \n-showsplash  \norg.eclipse.platform\n-vm\nC:\\Program Files\\Java\\jdk1.7.0_21\\jre\\bin\\server\\jvm.dll&lt;br/&gt;\n--launcher.XXMaxPermSize  \n256m  \n--launcher.defaultAction  \nopenFile  \n-vmargs  \n-Dosgi.requiredJavaVersion=1.7  \n</code></pre>\n\n<p>That worked for me. It doesnt have to be on the beginning, but surely it cant be at the end of the file.</p>\n"},{"tags":[],"owner":{"account_id":1960115,"reputation":73,"user_id":1761984,"display_name":"Toxic Brain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408525271,"creation_date":1408525271,"answer_id":25400684,"question_id":12426810,"body_markdown":"This  happened to me also. And I found the javaw.exe in C:\\Windows\\System32 got deleted after the windows update. Copied one more time and Eclipse started all fine.","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>This  happened to me also. And I found the javaw.exe in C:\\Windows\\System32 got deleted after the windows update. Copied one more time and Eclipse started all fine.</p>\n"},{"tags":[],"owner":{"account_id":1824473,"reputation":463,"user_id":1657660,"accept_rate":25,"display_name":"Shan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408951689,"creation_date":1408951689,"answer_id":25480959,"question_id":12426810,"body_markdown":"Chek os,eclipse,and java whether it is 32 or 64 bit\r\n","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>Chek os,eclipse,and java whether it is 32 or 64 bit</p>\n"},{"tags":[],"owner":{"account_id":3899070,"reputation":549,"user_id":3227350,"accept_rate":100,"display_name":"RayanFar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412014791,"creation_date":1412014791,"answer_id":26106317,"question_id":12426810,"body_markdown":"you can also copy your JRE folder to eclipse directory and it will work corectly","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>you can also copy your JRE folder to eclipse directory and it will work corectly</p>\n"},{"tags":[],"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1425996240,"creation_date":1425996240,"answer_id":28965818,"question_id":12426810,"body_markdown":"Open `eclipse.ini` file besides `eclipse.exe`\r\n\r\npaste \r\n\r\n    -vm\r\n    C:\\Program Files\\Java\\jdk1.7.0_21\\jre\\bin\\server\\jvm.dll \r\n     //find it if you are having another JDK version.\r\n\r\non first line. **And you are good to go.**","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>Open <code>eclipse.ini</code> file besides <code>eclipse.exe</code></p>\n\n<p>paste </p>\n\n<pre><code>-vm\nC:\\Program Files\\Java\\jdk1.7.0_21\\jre\\bin\\server\\jvm.dll \n //find it if you are having another JDK version.\n</code></pre>\n\n<p>on first line. <strong>And you are good to go.</strong></p>\n"},{"tags":[],"owner":{"account_id":4869796,"reputation":5586,"user_id":3926727,"accept_rate":100,"display_name":"Rasel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1436634151,"creation_date":1436634151,"answer_id":31359621,"question_id":12426810,"body_markdown":"I had same problem after updating java.\r\nThen I paste \r\n\r\n    -vm\r\n    C:\\Program Files\\Java\\jre6\\bin\\javaw.exe\r\n to show the path of `javaw.exe` in `eclipse.ini` file.\r\n\r\nHope this will help you.","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>I had same problem after updating java.\nThen I paste </p>\n\n<pre><code>-vm\nC:\\Program Files\\Java\\jre6\\bin\\javaw.exe\n</code></pre>\n\n<p>to show the path of <code>javaw.exe</code> in <code>eclipse.ini</code> file.</p>\n\n<p>Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":3577370,"reputation":3514,"user_id":2986279,"accept_rate":50,"display_name":"Gaurav Khurana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451052830,"creation_date":1451052830,"answer_id":34463586,"question_id":12426810,"body_markdown":"The problem occurred on my machine due to Java version got updated(66 from 60). Pay special attention to it. As said above would like to add \r\n\r\nIn this file **eclipse.ini**, which is available where you have installed eclipse search for the line below **-vm** example\r\nC:\\Program Files\\Java\\jre1.8.0_**66**\\bin\r\n\r\nnow try to open this location, in case you are not able to open, that means there is some problem. In my case the version installed was jre1.8.0_**60** . So there was a small difference which may not noticeable(66 instead of 60). Update it you will be able to open.","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>The problem occurred on my machine due to Java version got updated(66 from 60). Pay special attention to it. As said above would like to add </p>\n\n<p>In this file <strong>eclipse.ini</strong>, which is available where you have installed eclipse search for the line below <strong>-vm</strong> example\nC:\\Program Files\\Java\\jre1.8.0_<strong>66</strong>\\bin</p>\n\n<p>now try to open this location, in case you are not able to open, that means there is some problem. In my case the version installed was jre1.8.0_<strong>60</strong> . So there was a small difference which may not noticeable(66 instead of 60). Update it you will be able to open.</p>\n"},{"tags":[],"owner":{"account_id":7588191,"reputation":553,"user_id":5756607,"display_name":"Guna Sekaran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1473839050,"creation_date":1473839050,"answer_id":39485051,"question_id":12426810,"body_markdown":"***Via Puppet ATG installation Centos.***\r\n\r\n**ERROR:**\r\n\r\nNo Java virtual machine could be found from your PATH\r\n\r\n**SOLUTION:**\r\n\r\nDeclear variable **:** \r\n\r\n**$java_home=&quot;/opt/oracle/product/java/jdk1.8.0_45/bin&quot;**\r\n\r\nAdd This **&quot;{$java_home}&quot;** Java Exec \r\n\r\n    require common, java\r\n    Exec {\r\n        path =&gt; [ &quot;${java_home}&quot;, &quot;/usr/bin&quot;, &quot;/bin&quot;, &quot;/usr/sbin&quot;, &quot;${temp_directory}&quot;]\r\n    }\r\n","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p><strong><em>Via Puppet ATG installation Centos.</em></strong></p>\n\n<p><strong>ERROR:</strong></p>\n\n<p>No Java virtual machine could be found from your PATH</p>\n\n<p><strong>SOLUTION:</strong></p>\n\n<p>Declear variable <strong>:</strong> </p>\n\n<p><strong>$java_home=\"/opt/oracle/product/java/jdk1.8.0_45/bin\"</strong></p>\n\n<p>Add This <strong>\"{$java_home}\"</strong> Java Exec </p>\n\n<pre><code>require common, java\nExec {\n    path =&gt; [ \"${java_home}\", \"/usr/bin\", \"/bin\", \"/usr/sbin\", \"${temp_directory}\"]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9549526,"reputation":11,"user_id":7094140,"display_name":"Yi Ming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479440311,"creation_date":1479440311,"answer_id":40668960,"question_id":12426810,"body_markdown":"I came across same issue y&#39;day, with PATH etc configured correctly.\r\nIt can be opened from command line,  just now working by a double click.\r\n\r\nAnd it was working now, by just &quot;**Run as administrator**&quot; :)","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>I came across same issue y'day, with PATH etc configured correctly.\nIt can be opened from command line,  just now working by a double click.</p>\n\n<p>And it was working now, by just \"<strong>Run as administrator</strong>\" :)</p>\n"},{"tags":[],"owner":{"account_id":3664301,"reputation":2938,"user_id":3053228,"display_name":"prashant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480668735,"creation_date":1480668735,"answer_id":40928104,"question_id":12426810,"body_markdown":"Some time this happens when your Java folder get updated.\r\n\r\nOpen Eclipse folder and search file eclipse.ini.\r\nOpen the eclipse.ini file and check whether jre version is same as jre available in your java folder.\r\n\r\nI faced same problem when my jre got changed from jre1.8.0_101 to jre1.8.0_111.\r\n\r\n**C:\\Program Files\\Java\\jre1.8.0_101\\bin\r\nto\r\nC:\\Program Files\\Java\\jre1.8.0_111\\bin**","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>Some time this happens when your Java folder get updated.</p>\n\n<p>Open Eclipse folder and search file eclipse.ini.\nOpen the eclipse.ini file and check whether jre version is same as jre available in your java folder.</p>\n\n<p>I faced same problem when my jre got changed from jre1.8.0_101 to jre1.8.0_111.</p>\n\n<p><strong>C:\\Program Files\\Java\\jre1.8.0_101\\bin\nto\nC:\\Program Files\\Java\\jre1.8.0_111\\bin</strong></p>\n"},{"tags":[],"owner":{"account_id":233021,"reputation":2177,"user_id":498238,"display_name":"Sonata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487584875,"creation_date":1487584875,"answer_id":42341497,"question_id":12426810,"body_markdown":"In my case the problem was that the path was enclosed in quotation marks (&quot;): \r\n\r\n    -vm \r\n    &quot;C:\\Program Files\\Java\\jdk1.8.0_25\\bin&quot;\r\n\r\nRemoving them fixed the problem:\r\n\r\n    -vm \r\n    C:\\Program Files\\Java\\jdk1.8.0_25\\bin\r\n","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>In my case the problem was that the path was enclosed in quotation marks (\"): </p>\n\n<pre><code>-vm \n\"C:\\Program Files\\Java\\jdk1.8.0_25\\bin\"\n</code></pre>\n\n<p>Removing them fixed the problem:</p>\n\n<pre><code>-vm \nC:\\Program Files\\Java\\jdk1.8.0_25\\bin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3695702,"reputation":12519,"user_id":5156075,"accept_rate":100,"display_name":"John Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515166181,"creation_date":1515166181,"answer_id":48116633,"question_id":12426810,"body_markdown":"My solution is **Include JDK&#39;s &quot;bin&quot; Directory in the PATH**\r\n\r\nTo edit the `PATH` environment variable in `Windows 7/8/10:`\r\n\r\n1. Launch &quot;Control Panel&quot;  (Optional) System and Security  System  Click &quot;Advanced system settings&quot; on the left pane.\r\n2. Switch to &quot;Advanced&quot; tab  Push &quot;Environment Variables&quot; button.\r\nUnder &quot;System Variables&quot; (the bottom pane), scroll down to select &quot;Path&quot;  Click &quot;Edit...&quot;.\r\n3. Copy the JDK bin directory from JAVA folder and paste to &quot;Edit...&quot;  ","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>My solution is <strong>Include JDK's \"bin\" Directory in the PATH</strong></p>\n\n<p>To edit the <code>PATH</code> environment variable in <code>Windows 7/8/10:</code></p>\n\n<ol>\n<li>Launch \"Control Panel\"  (Optional) System and Security  System  Click \"Advanced system settings\" on the left pane.</li>\n<li>Switch to \"Advanced\" tab  Push \"Environment Variables\" button.\nUnder \"System Variables\" (the bottom pane), scroll down to select \"Path\"  Click \"Edit...\".</li>\n<li>Copy the JDK bin directory from JAVA folder and paste to \"Edit...\"  </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":267334,"reputation":2179,"user_id":555451,"display_name":"Stuart Cardall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526051522,"creation_date":1526051522,"answer_id":50295329,"question_id":12426810,"body_markdown":"On **Centos 7** I fixed this problem (after a big `yum upgrade`) by changing my setting for `vm` in:\r\n\r\n `~/eclipse/java-oxygen/eclipse/eclipse.ini` \r\n\r\nto:\r\n\r\n    -vm\r\n    /etc/alternatives/jre/bin\r\n\r\n(which will always point to the latest installed `java`)","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>On <strong>Centos 7</strong> I fixed this problem (after a big <code>yum upgrade</code>) by changing my setting for <code>vm</code> in:</p>\n\n<p><code>~/eclipse/java-oxygen/eclipse/eclipse.ini</code> </p>\n\n<p>to:</p>\n\n<pre><code>-vm\n/etc/alternatives/jre/bin\n</code></pre>\n\n<p>(which will always point to the latest installed <code>java</code>)</p>\n"},{"tags":[],"owner":{"account_id":5711291,"reputation":1437,"user_id":4513218,"display_name":"Walterwhites"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538944529,"creation_date":1538944529,"answer_id":52692673,"question_id":12426810,"body_markdown":"you should change the jdk path in eclipse.ini here:\r\n\r\n/Users/you_username/eclipse/jee-photon/Eclipse.app/Contents/Eclipse/eclipse.ini\r\n\r\nafter you should restart eclipse :)","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>you should change the jdk path in eclipse.ini here:</p>\n\n<p>/Users/you_username/eclipse/jee-photon/Eclipse.app/Contents/Eclipse/eclipse.ini</p>\n\n<p>after you should restart eclipse :)</p>\n"},{"tags":[],"owner":{"account_id":11529522,"reputation":4397,"user_id":8448886,"accept_rate":90,"display_name":"Abhishek kumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1559064185,"creation_date":1559064185,"answer_id":56347295,"question_id":12426810,"body_markdown":"After setting Java Path, if you are not able to open your eclipse do below steps:\r\n\r\n1. Go to your Eclipse Folder where you have extracted your eclipse.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2. Open Eclipse file in notepad (by default it will open on notepad)\r\n\r\nEnter two lines\r\n\r\n    -vm\r\n    C:/Program Files/Java/jdk-11.0.2/bin/javaw.exe\r\n\r\n**jdk-11.0.2 ,It should be your Java Version, which you will get by the above location.**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7MmNU.png\r\n  [2]: https://i.stack.imgur.com/01Rpt.png","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>After setting Java Path, if you are not able to open your eclipse do below steps:</p>\n\n<ol>\n<li>Go to your Eclipse Folder where you have extracted your eclipse.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/7MmNU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7MmNU.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>Open Eclipse file in notepad (by default it will open on notepad)</li>\n</ol>\n\n<p>Enter two lines</p>\n\n<pre><code>-vm\nC:/Program Files/Java/jdk-11.0.2/bin/javaw.exe\n</code></pre>\n\n<p><strong>jdk-11.0.2 ,It should be your Java Version, which you will get by the above location.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/01Rpt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/01Rpt.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11269209,"reputation":488,"user_id":8265160,"display_name":"Irshad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656433360,"creation_date":1656433360,"answer_id":72790042,"question_id":12426810,"body_markdown":"\r\nIf Eclipse isn&#39;t finding your JRE/JDK or finding the wrong version, add the following two lines to the beginning of your ***eclipse.ini*** file:\r\n\r\n    -vm\r\n    [your-path-to-java-executable]","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>If Eclipse isn't finding your JRE/JDK or finding the wrong version, add the following two lines to the beginning of your <em><strong>eclipse.ini</strong></em> file:</p>\n<pre><code>-vm\n[your-path-to-java-executable]\n</code></pre>\n"}],"owner":{"account_id":1096523,"reputation":1225,"user_id":1090009,"display_name":"NullReference"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460571,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"accepted_answer_id":12426948,"answer_count":23,"score":107,"last_activity_date":1656433360,"creation_date":1347633888,"question_id":12426810,"body_markdown":"Eclipse was running fine yesterday (and has been since I installed it about a year ago). Now all the sudden I&#39;m getting the following error on startup:\r\n\r\n    &quot;A Java Runtime Environment (JRE) or Java Development Kit (JDK) must be available in order to run Eclipse. No Java virtual machine was found after searching the following locations:\r\n    C:\\Program Files\\eclipse\\jre\\bin\\javaw.exe\r\n    javaw.exe in your current PATH&quot;\r\n\r\nI have not changed anyhing Eclipse/Java related on my machine but a Windows update was applied to my machine yesterday, so maybe that has something to do with it (but I don&#39;t see anything that would affect Java). I&#39;ve looked at all the other posts about adding something to your PATH or adding the -vm option to the Eclipse ini (couldn&#39;t get this to work) or copying the jre folder to eclipse\\jre (this worked but doesn&#39;t seem like a good long term solution). So I&#39;m really trying to figure out how to get things back to the &quot;default&quot; setup without messing stuff up.\r\n\r\nI&#39;m running `Windows 7, Eclipse Helios and Java 1.6.0_26.`","title":"eclipse won&#39;t start - no java virtual machine was found","body":"<p>Eclipse was running fine yesterday (and has been since I installed it about a year ago). Now all the sudden I'm getting the following error on startup:</p>\n\n<pre><code>\"A Java Runtime Environment (JRE) or Java Development Kit (JDK) must be available in order to run Eclipse. No Java virtual machine was found after searching the following locations:\nC:\\Program Files\\eclipse\\jre\\bin\\javaw.exe\njavaw.exe in your current PATH\"\n</code></pre>\n\n<p>I have not changed anyhing Eclipse/Java related on my machine but a Windows update was applied to my machine yesterday, so maybe that has something to do with it (but I don't see anything that would affect Java). I've looked at all the other posts about adding something to your PATH or adding the -vm option to the Eclipse ini (couldn't get this to work) or copying the jre folder to eclipse\\jre (this worked but doesn't seem like a good long term solution). So I'm really trying to figure out how to get things back to the \"default\" setup without messing stuff up.</p>\n\n<p>I'm running <code>Windows 7, Eclipse Helios and Java 1.6.0_26.</code></p>\n"},{"tags":["java","docker","maven","gitlab-ci","nfs"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1656434758,"post_id":72790021,"comment_id":128569619,"body_markdown":"Running build on a NFS share is a problem... also why using `package` as well as `verify` ? Use only `verify` (check the build life cycle)...BTW: Which version of Maven do you use?","body":"Running build on a NFS share is a problem... also why using <code>package</code> as well as <code>verify</code> ? Use only <code>verify</code> (check the build life cycle)...BTW: Which version of Maven do you use?"},{"owner":{"account_id":19863584,"reputation":301,"user_id":14551409,"display_name":"Eduard Frankford"},"score":0,"creation_date":1656435741,"post_id":72790021,"comment_id":128569946,"body_markdown":"Thank you for your answer !\nI am using wrapper/dists/apache-maven-3.8.3 and Java version: 11.0.15","body":"Thank you for your answer ! I am using wrapper/dists/apache-maven-3.8.3 and Java version: 11.0.15"}],"owner":{"account_id":19863584,"reputation":301,"user_id":14551409,"display_name":"Eduard Frankford"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656433256,"creation_date":1656433256,"question_id":72790021,"body_markdown":"When running:\r\n\r\n`./mvnw package -Pprod verify -DskipTests jib:build -Djib.to.image=$IMAGE_TAG -Djib.to.auth.username=gitlab-ci-token  -Djib.to.auth.password=$CI_BUILD_TOKEN -Dmaven.repo.local=$MAVEN_USER_HOME` \r\n\r\nI get an error that says:\r\n\r\n    An unhandled exception occurred: EBUSY: resource busy or locked, unlink &#39;/builds/PATH/target/node/.nfs000000007cb56ba90067282d&#39; \r\n\r\nIt happens when `./mvnw package` reaches:\r\n\r\n    [INFO] &gt; ng build --configuration production\r\n    [INFO] \r\n    [INFO] An unhandled exception occurred: EBUSY: resource busy or locked, unlink &#39;/builds/sharing/codeability-sharing-platform/target/node/.nfs000000007cb56ba90067282d&#39;\r\n\r\nI have tried all possible solutions from here: https://stackoverflow.com/questions/55212864/error-ebusy-resource-busy-or-locked-rmdir\r\n\r\nHowever, none of these solutions worked because they are not executed in a pipeline and during the mvnw package command.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Gitlab CI error when building maven image using jib: EBUSY: resource busy or locked, unlink /target/node/.nfs000000007cb56ba90067282d","body":"<p>When running:</p>\n<p><code>./mvnw package -Pprod verify -DskipTests jib:build -Djib.to.image=$IMAGE_TAG -Djib.to.auth.username=gitlab-ci-token  -Djib.to.auth.password=$CI_BUILD_TOKEN -Dmaven.repo.local=$MAVEN_USER_HOME</code></p>\n<p>I get an error that says:</p>\n<pre><code>An unhandled exception occurred: EBUSY: resource busy or locked, unlink '/builds/PATH/target/node/.nfs000000007cb56ba90067282d' \n</code></pre>\n<p>It happens when <code>./mvnw package</code> reaches:</p>\n<pre><code>[INFO] &gt; ng build --configuration production\n[INFO] \n[INFO] An unhandled exception occurred: EBUSY: resource busy or locked, unlink '/builds/sharing/codeability-sharing-platform/target/node/.nfs000000007cb56ba90067282d'\n</code></pre>\n<p>I have tried all possible solutions from here: <a href=\"https://stackoverflow.com/questions/55212864/error-ebusy-resource-busy-or-locked-rmdir\">Error: EBUSY: resource busy or locked, rmdir</a></p>\n<p>However, none of these solutions worked because they are not executed in a pipeline and during the mvnw package command.</p>\n"},{"tags":["java","spring-boot","keycloak"],"comments":[{"owner":{"account_id":18204838,"reputation":181,"user_id":13248380,"display_name":"Ferdynand Kiepski"},"score":0,"creation_date":1627034947,"post_id":64388494,"comment_id":121055463,"body_markdown":"Have you managed this problem?","body":"Have you managed this problem?"},{"owner":{"account_id":19680795,"reputation":33,"user_id":14407961,"display_name":"ichbintobias2"},"score":0,"creation_date":1627054625,"post_id":64388494,"comment_id":121063083,"body_markdown":"@FerdynandKiepski No, sadly I have no idea what I did with this problem. This thread is 3/4 of a year old and I have barely used Keycloak since.","body":"@FerdynandKiepski No, sadly I have no idea what I did with this problem. This thread is 3/4 of a year old and I have barely used Keycloak since."},{"owner":{"account_id":18204838,"reputation":181,"user_id":13248380,"display_name":"Ferdynand Kiepski"},"score":1,"creation_date":1627054799,"post_id":64388494,"comment_id":121063164,"body_markdown":"For me, it was IntelliJ IDEA problem, invalidation of cache and restart IntelliJ helped. If you were not using IntelliJ, then it was application.properties problem.","body":"For me, it was IntelliJ IDEA problem, invalidation of cache and restart IntelliJ helped. If you were not using IntelliJ, then it was application.properties problem."}],"answers":[{"tags":[],"owner":{"account_id":12205126,"reputation":1,"user_id":8908437,"display_name":"il-Rachdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656433157,"creation_date":1656418670,"answer_id":72786287,"question_id":64388494,"body_markdown":"I had the same problem and managed to solve it by reloading the maven project: \r\nright click on the pom.xml/maven/ and then reload project.","title":"Keycloak java.lang.RuntimeException: Must set &#39;realm&#39; in config?","body":"<p>I had the same problem and managed to solve it by reloading the maven project:\nright click on the pom.xml/maven/ and then reload project.</p>\n"}],"owner":{"account_id":19680795,"reputation":33,"user_id":14407961,"display_name":"ichbintobias2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2418,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656433157,"creation_date":1602848505,"question_id":64388494,"body_markdown":"When I&#39;m sending a request to my Java Spring Boot RESTful webservice for the first time after startup I get the RuntimeException with note &quot;Must set &#39;realm&#39; in config. My configuration looks like those of most tutorials I&#39;ve seen and I found nothing on the internet about this particular error. Does anyone know how to solve this?\r\n\r\nThe full exception looks like this:\r\n\r\n    java.lang.RuntimeException: Must set &#39;realm&#39; in config\r\n\tat org.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:57) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\r\n\tat org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:202) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\r\n\tat org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:39) ~[keycloak-spring-boot-adapter-core-10.0.2.jar:10.0.2]\r\n\tat org.keycloak.adapters.springsecurity.config.KeycloakSpringConfigResolverWrapper.resolve(KeycloakSpringConfigResolverWrapper.java:40) ~[keycloak-spring-security-adapter-10.0.2.jar:10.0.2]\r\n\tat org.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:89) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\r\n\tat org.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:100) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\r\n\tat org.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:75) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\r\n\tat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177) ~[spring-boot-container-bundle-10.0.2.jar:10.0.2]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\nand my application.properties looks like this:\r\n\r\n    # Keycloak Configuration\r\n    keycloak.auth-server-url=http://localhost:9990/auth\r\n    keycloak.realm=webshop\r\n    keycloak.resource=webshop-client\r\n    keycloak.public-client=true\r\n\r\nMaven dependency is\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n        &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWith dependency management\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;10.0.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;","title":"Keycloak java.lang.RuntimeException: Must set &#39;realm&#39; in config?","body":"<p>When I'm sending a request to my Java Spring Boot RESTful webservice for the first time after startup I get the RuntimeException with note &quot;Must set 'realm' in config. My configuration looks like those of most tutorials I've seen and I found nothing on the internet about this particular error. Does anyone know how to solve this?</p>\n<p>The full exception looks like this:</p>\n<pre><code>java.lang.RuntimeException: Must set 'realm' in config\nat org.keycloak.adapters.KeycloakDeploymentBuilder.internalBuild(KeycloakDeploymentBuilder.java:57) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\nat org.keycloak.adapters.KeycloakDeploymentBuilder.build(KeycloakDeploymentBuilder.java:202) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\nat org.keycloak.adapters.springboot.KeycloakSpringBootConfigResolver.resolve(KeycloakSpringBootConfigResolver.java:39) ~[keycloak-spring-boot-adapter-core-10.0.2.jar:10.0.2]\nat org.keycloak.adapters.springsecurity.config.KeycloakSpringConfigResolverWrapper.resolve(KeycloakSpringConfigResolverWrapper.java:40) ~[keycloak-spring-security-adapter-10.0.2.jar:10.0.2]\nat org.keycloak.adapters.AdapterDeploymentContext.resolveDeployment(AdapterDeploymentContext.java:89) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\nat org.keycloak.adapters.PreAuthActionsHandler.preflightCors(PreAuthActionsHandler.java:100) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\nat org.keycloak.adapters.PreAuthActionsHandler.handleRequest(PreAuthActionsHandler.java:75) ~[keycloak-adapter-core-10.0.2.jar:10.0.2]\nat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:177) ~[spring-boot-container-bundle-10.0.2.jar:10.0.2]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\nat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n<p>and my application.properties looks like this:</p>\n<pre><code># Keycloak Configuration\nkeycloak.auth-server-url=http://localhost:9990/auth\nkeycloak.realm=webshop\nkeycloak.resource=webshop-client\nkeycloak.public-client=true\n</code></pre>\n<p>Maven dependency is</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n    &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>With dependency management</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\n            &lt;version&gt;10.0.2&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-jdbc"],"comments":[{"owner":{"account_id":7245190,"reputation":1455,"user_id":5527341,"display_name":"lin"},"score":0,"creation_date":1527842384,"post_id":50639256,"comment_id":88288686,"body_markdown":"https://stackoverflow.com/questions/28609414/spring-mvc-passing-arraylist-back-to-controller  may help","body":"<a href=\"https://stackoverflow.com/questions/28609414/spring-mvc-passing-arraylist-back-to-controller\" title=\"spring mvc passing arraylist back to controller\">stackoverflow.com/questions/28609414/&hellip;</a>  may help"}],"answers":[{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527843113,"creation_date":1527842505,"answer_id":50639395,"question_id":50639256,"body_markdown":"This should do it. \r\n\r\n      @GetMapping(&quot;/{employeeIds}&quot;)\r\n      public void trigger(@PathVariable String employeeIds) {\r\n            List&lt;String&gt; ids = Arrays.asList(employeeIds.split(&quot;,&quot;));\r\n            ..........\r\n      }\r\n\r\nnow you have a list of ids in ***ids*** field.","title":"How to pass multiple ids in API Get method Endpoint using Spring Boot","body":"<p>This should do it. </p>\n\n<pre><code>  @GetMapping(\"/{employeeIds}\")\n  public void trigger(@PathVariable String employeeIds) {\n        List&lt;String&gt; ids = Arrays.asList(employeeIds.split(\",\"));\n        ..........\n  }\n</code></pre>\n\n<p>now you have a list of ids in <strong><em>ids</em></strong> field.</p>\n"},{"tags":[],"owner":{"account_id":9328455,"reputation":110,"user_id":6924937,"display_name":"Dildeep Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1527851261,"creation_date":1527851261,"answer_id":50642072,"question_id":50639256,"body_markdown":"                        you can send a post request to your controller.please follow these steps-:\r\n                        \r\n                        1. **I need to  create a html file because of ajax calling.**\r\n                        &lt;!DOCTYPE html&gt;\r\n                        &lt;html&gt;\r\n                            &lt;head&gt;\r\n                                &lt;title&gt;Ajax Test&lt;/title&gt;\r\n                                &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n                                &lt;script src=&quot;/js/ajaxCall.js&quot;&gt;&lt;/script&gt;\r\n                            &lt;/head&gt;\r\n                        \r\n                            &lt;body&gt;\r\n                                &lt;button type=&quot;button&quot; class=&quot;btn btn-sm btn-update btn-primary&quot; id=&quot;send&quot;&gt;\r\n                        \t\t&lt;span class=&quot;glyphicon glyphicon-ok&quot;&gt;&lt;/span&gt;Send Parameter\r\n                        \t\t&lt;/button&gt;\r\n                            &lt;/body&gt;\r\n                        &lt;/html&gt;\r\n                    \r\n                    2. **create a js file and create a function for ajax calling.**\r\n                    $(document).ready(function() {\r\n                    \t$(&quot;#send&quot;).on(&quot;click&quot;,function(){\r\n                    \t\tvar paramIds = [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;,&quot;5&quot;];\r\n                    \t\tvar parameterData = JSON.stringify({\r\n                    \t\t\t&#39;paramList&#39; :paramIds\r\n                    \t\t});\r\n                    \t\t$.ajax({\r\n                    \t\t\tcontentType: &#39;application/json&#39;,\r\n                    \t\t\tmethod:&#39;post&#39;,\r\n                    \t\t\tdata: parameterData,\r\n                    \t\t\turl: &quot;http://localhost:8080/get&quot;,\r\n                    \t\t\tdataType: &#39;json&#39;,\r\n                    \t\t}).done(function(data, textStatus, xhr, options) {\r\n                    \r\n                    \t\t}).fail(function(xhr, textStatus, errorThrown) {\r\n                    \r\n                    \t\t}).always(function(xhr, textStatus) {\r\n                    \t\t});\r\n                    \t})\t\r\n                    \r\n                    });\r\n                please focus on **JSON.stringify**.JSON.stringify convert javascript object to a string following the JSON notation.\r\n            3. **create a form to accept paramter as a post request.**\r\n            package com.example.demo;\r\n            \r\n            import java.util.List;\r\n            \r\n            import java.util.ArrayList;\r\n            \r\n            import lombok.Data;\r\n            \r\n            @Data\r\n            public class ParameterForm {\r\n            List&lt;String&gt; paramList=new ArrayList&lt;&gt;();\r\n            }\r\n            \r\n                4. **create a controller class for accepting the post request.**\r\n                package com.example.demo;\r\n                \r\n                import java.util.List;\r\n                \r\n                import org.springframework.stereotype.Controller;\r\n                import org.springframework.web.bind.annotation.RequestBody;\r\n                import org.springframework.web.bind.annotation.RequestMapping;\r\n                import org.springframework.web.bind.annotation.RequestMethod;\r\n                import org.springframework.web.bind.annotation.ResponseBody;\r\n                \r\n                @Controller\r\n                public class TestController {\r\n                @RequestMapping(value=&quot;/home&quot;)\r\n                public String checkParam()\r\n                {\r\n                return &quot;test&quot;;\t\r\n                }\r\n                @RequestMapping(value=&quot;/get&quot;,method = RequestMethod.POST)\r\n                @ResponseBody\r\n                public String getId(@RequestBody ParameterForm parameterForm)\r\n                {\r\n                \tList&lt;String&gt; paramList=parameterForm.getParamList();\r\n                \tfor(String param:paramList)\r\n                \t{\r\n                \t\tSystem.out.println(param);\r\n                \t}\r\n                \treturn &quot;success&quot;;\r\n                }\r\n                }\r\n        please focus on getId controller.\r\n        you will find **@RequestBody ParameterForm parameterForm**.This form will accept the parameter which i send in ajax call. \r\n    \r\n    ******************output**********************\r\n    1\r\n    2\r\n    3\r\n    4\r\n    5","title":"How to pass multiple ids in API Get method Endpoint using Spring Boot","body":"<pre><code>                    you can send a post request to your controller.please follow these steps-:\n\n                    1. **I need to  create a html file because of ajax calling.**\n                    &lt;!DOCTYPE html&gt;\n                    &lt;html&gt;\n                        &lt;head&gt;\n                            &lt;title&gt;Ajax Test&lt;/title&gt;\n                            &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js\"&gt;&lt;/script&gt;\n                            &lt;script src=\"/js/ajaxCall.js\"&gt;&lt;/script&gt;\n                        &lt;/head&gt;\n\n                        &lt;body&gt;\n                            &lt;button type=\"button\" class=\"btn btn-sm btn-update btn-primary\" id=\"send\"&gt;\n                            &lt;span class=\"glyphicon glyphicon-ok\"&gt;&lt;/span&gt;Send Parameter\n                            &lt;/button&gt;\n                        &lt;/body&gt;\n                    &lt;/html&gt;\n\n                2. **create a js file and create a function for ajax calling.**\n                $(document).ready(function() {\n                    $(\"#send\").on(\"click\",function(){\n                        var paramIds = [\"1\", \"2\", \"3\", \"4\",\"5\"];\n                        var parameterData = JSON.stringify({\n                            'paramList' :paramIds\n                        });\n                        $.ajax({\n                            contentType: 'application/json',\n                            method:'post',\n                            data: parameterData,\n                            url: \"http://localhost:8080/get\",\n                            dataType: 'json',\n                        }).done(function(data, textStatus, xhr, options) {\n\n                        }).fail(function(xhr, textStatus, errorThrown) {\n\n                        }).always(function(xhr, textStatus) {\n                        });\n                    })  \n\n                });\n            please focus on **JSON.stringify**.JSON.stringify convert javascript object to a string following the JSON notation.\n        3. **create a form to accept paramter as a post request.**\n        package com.example.demo;\n\n        import java.util.List;\n\n        import java.util.ArrayList;\n\n        import lombok.Data;\n\n        @Data\n        public class ParameterForm {\n        List&lt;String&gt; paramList=new ArrayList&lt;&gt;();\n        }\n\n            4. **create a controller class for accepting the post request.**\n            package com.example.demo;\n\n            import java.util.List;\n\n            import org.springframework.stereotype.Controller;\n            import org.springframework.web.bind.annotation.RequestBody;\n            import org.springframework.web.bind.annotation.RequestMapping;\n            import org.springframework.web.bind.annotation.RequestMethod;\n            import org.springframework.web.bind.annotation.ResponseBody;\n\n            @Controller\n            public class TestController {\n            @RequestMapping(value=\"/home\")\n            public String checkParam()\n            {\n            return \"test\";  \n            }\n            @RequestMapping(value=\"/get\",method = RequestMethod.POST)\n            @ResponseBody\n            public String getId(@RequestBody ParameterForm parameterForm)\n            {\n                List&lt;String&gt; paramList=parameterForm.getParamList();\n                for(String param:paramList)\n                {\n                    System.out.println(param);\n                }\n                return \"success\";\n            }\n            }\n    please focus on getId controller.\n    you will find **@RequestBody ParameterForm parameterForm**.This form will accept the parameter which i send in ajax call. \n\n******************output**********************\n1\n2\n3\n4\n5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25670743,"reputation":36,"user_id":19435034,"display_name":"Priyank Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656433018,"creation_date":1656420042,"answer_id":72786627,"question_id":50639256,"body_markdown":"your request should be like this\r\n```\r\n localhost:9363/products/1,2,...   \r\n```\r\n  dont add any kind of brackets, then in your controller class you can create an API like below\r\n    \r\n    @GetMapping(&quot;/products/{Ids}&quot;)\r\n\tpublic List&lt;Product&gt; getProducts(@PathVariable List&lt;Long&gt; Ids) \r\n    {\r\n        return this.service.getProducts(Ids);   // calling the service class as per \r\n                                                       the architecture\r\n\t}\r\n","title":"How to pass multiple ids in API Get method Endpoint using Spring Boot","body":"<p>your request should be like this</p>\n<pre><code> localhost:9363/products/1,2,...   \n</code></pre>\n<p>dont add any kind of brackets, then in your controller class you can create an API like below</p>\n<pre><code>@GetMapping(&quot;/products/{Ids}&quot;)\npublic List&lt;Product&gt; getProducts(@PathVariable List&lt;Long&gt; Ids) \n{\n    return this.service.getProducts(Ids);   // calling the service class as per \n                                                   the architecture\n}\n</code></pre>\n"}],"owner":{"account_id":6896575,"reputation":37,"user_id":5298322,"display_name":"Faisal Jaffri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72786627,"answer_count":3,"score":1,"last_activity_date":1656433018,"creation_date":1527842036,"question_id":50639256,"body_markdown":"I am trying to pass multiple IDs in the GET Endpoint.\r\nFor example: If my database contains details of 10 employees with ID as primary key, and suppose i want to pass more than one id in the Endpoint at a particular point. Is this possible.\r\nSuppose: \r\n\r\n        http://localhost:8080/api/v/listempoloyee/{1,2,3,4}\r\n\r\n{1,2,3,4} being the list of IDs of employess which we want to fetch from  Database.\r\n\r\nIs this possible using Spring Boot and JDBC.","title":"How to pass multiple ids in API Get method Endpoint using Spring Boot","body":"<p>I am trying to pass multiple IDs in the GET Endpoint.\nFor example: If my database contains details of 10 employees with ID as primary key, and suppose i want to pass more than one id in the Endpoint at a particular point. Is this possible.\nSuppose: </p>\n\n<pre><code>    http://localhost:8080/api/v/listempoloyee/{1,2,3,4}\n</code></pre>\n\n<p>{1,2,3,4} being the list of IDs of employess which we want to fetch from  Database.</p>\n\n<p>Is this possible using Spring Boot and JDBC.</p>\n"},{"tags":["java","json","csv"],"comments":[{"owner":{"account_id":945916,"reputation":2856,"user_id":973184,"accept_rate":67,"display_name":"Martin Meeser"},"score":0,"creation_date":1656399307,"post_id":72780786,"comment_id":128555638,"body_markdown":"Can you please fix the format?","body":"Can you please fix the format?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656416089,"post_id":72780786,"comment_id":128561834,"body_markdown":"If you want to write CSV, why are you writing JSON?","body":"If you want to write CSV, why are you writing JSON?"}],"answers":[{"tags":[],"owner":{"account_id":6657506,"reputation":244,"user_id":5137530,"display_name":"mksmanjit"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1656404188,"creation_date":1656393420,"answer_id":72781054,"question_id":72780786,"body_markdown":"        If my understanding is correct, you want to convert the json into csv file but while writing to csv you are getting key value in each row instead of key in the first row and then value in the subsequent rows.\r\n        \r\n        I think if you follow below steps then you will able to achieve this:\r\n        \r\n        1) First convert your Json into the List&lt;Map&lt;String,String&gt;&gt; using below code\r\n        \r\n           \r\n        \r\n        &gt;  ObjectMapper mapper = new ObjectMapper();\r\n        &gt;     List&lt;Map&lt;String, Object&gt;&gt; datas = mapper.readValue(jsonArray.toString(), new\r\n        &gt; TypeReference&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt;(){});\r\n        \r\n        2) Find the keys from the json, which will be used as your column, assuming all the data having same keys.\r\n        \r\n           \r\n        \r\n        &gt;  Set&lt;String&gt; columns = datas.get(0).keySet(); write columns as the\r\n        &gt; first row in the csv file.\r\n        \r\n        3) Iterate over the datas list and start writing the value row wise.\r\n        \r\n\r\n\r\n----------------------------------------------------------------\r\n        \r\n**As you mentioned in the comment you doesn&#39;t not want to use the external library then instead of ObjectMapper you can use your JsonArray.**\r\n        \r\n1) Instead of converting your json Array to List&lt;Map&lt;String,String&gt;&gt; and getting the keys you can do the same thing with JsonObject only as it implement Map only.\r\n        \r\n        Set&lt;String&gt; columns = jsonArray.get(0).keySet();\r\n        this code should be before you are starting the loop.\r\n        \r\n2) Inside the loop you are iterating over the jsonArray, there read the value .\r\n     \r\n\r\n&gt;     \r\n&gt;      Set&lt;String&gt; columns = jsonArray.get(0).keySet();\r\n&gt;               for (Object object : jsonArray) {\r\n&gt;                     JsonObject obj = (JsonObject) object;\r\n&gt;                     List&lt;String&gt; dataRows = new ArrayList();\r\n&gt;                     for(String column :  columns ) {\r\n&gt;                        String value = (String)obj.get(column);\r\n&gt;                        dataRows.add(value);\r\n&gt;                      }\r\n&gt;                      .......\r\n&gt;          //            write the value to file\r\n&gt;                      .......\r\n&gt;                    \r\n&gt;              \r\n&gt;                }\r\n\r\n           \r\n\r\n\r\n**If you are Interested in full solution, you can try this.**\r\n\r\n&gt;     public static void writeFilteredJsonToNewFile(JsonArray jsonArray) {\r\n&gt;     \tList&lt;List&lt;String&gt;&gt; allDatas = new ArrayList&lt;&gt;();\r\n&gt;     \tSet&lt;String&gt; columns = jsonArray.get(0).keySet();\r\n&gt;     \tallDatas.add(new ArrayList&lt;&gt;(columns));\r\n&gt;     \tfor (Object object : jsonArray) {\r\n&gt;     \t\tJsonObject obj = (JsonObject) object;\r\n&gt;     \t\tList&lt;String&gt; dataRows = new ArrayList();\r\n&gt;     \t\tfor(String column :  columns ) {\r\n&gt;     \t\t   String value = (String)obj.get(column);\r\n&gt;     \t\t   dataRows.add(value);\r\n&gt;     \t\t }\r\n&gt;     \t\t allDatas.add(dataRows);         \r\n&gt;     \t}\r\n&gt;     \twriteToCsvFile(allDatas,&quot;,&quot;,&quot;test-file.csv&quot;);\r\n&gt;     }\r\n&gt;     \r\n&gt;     \r\n&gt;     public void writeToCsvFile(List&lt;List&lt;String&gt;&gt; thingsToWrite, String separator, String fileName){\r\n&gt;         try (FileWriter writer = new FileWriter(fileName)){\r\n&gt;             for (List&lt;String&gt; strings : thingsToWrite) {\r\n&gt;                 for (int i = 0; i &lt; strings.size(); i++) {\r\n&gt;                     writer.append(strings[i]);\r\n&gt;                     if(i &lt; (strings.length-1))\r\n&gt;                         writer.append(separator);\r\n&gt;                 }\r\n&gt;                 writer.append(System.lineSeparator());\r\n&gt;             }\r\n&gt;             writer.flush();\r\n&gt;         } catch (IOException e) {\r\n&gt;             e.printStackTrace();\r\n&gt;         }\r\n&gt;     }\r\n\r\n\r\n\r\n\r\n","title":"Convert JsonArray to to csv file in right format without using third party library","body":"<pre><code>    If my understanding is correct, you want to convert the json into csv file but while writing to csv you are getting key value in each row instead of key in the first row and then value in the subsequent rows.\n    \n    I think if you follow below steps then you will able to achieve this:\n    \n    1) First convert your Json into the List&lt;Map&lt;String,String&gt;&gt; using below code\n    \n       \n    \n    &gt;  ObjectMapper mapper = new ObjectMapper();\n    &gt;     List&lt;Map&lt;String, Object&gt;&gt; datas = mapper.readValue(jsonArray.toString(), new\n    &gt; TypeReference&lt;List&lt;Map&lt;String, Object&gt;&gt;&gt;(){});\n    \n    2) Find the keys from the json, which will be used as your column, assuming all the data having same keys.\n    \n       \n    \n    &gt;  Set&lt;String&gt; columns = datas.get(0).keySet(); write columns as the\n    &gt; first row in the csv file.\n    \n    3) Iterate over the datas list and start writing the value row wise.\n    \n</code></pre>\n<hr />\n<p><strong>As you mentioned in the comment you doesn't not want to use the external library then instead of ObjectMapper you can use your JsonArray.</strong></p>\n<ol>\n<li><p>Instead of converting your json Array to List&lt;Map&lt;String,String&gt;&gt; and getting the keys you can do the same thing with JsonObject only as it implement Map only.</p>\n<pre><code> Set&lt;String&gt; columns = jsonArray.get(0).keySet();\n this code should be before you are starting the loop.\n</code></pre>\n</li>\n<li><p>Inside the loop you are iterating over the jsonArray, there read the value .</p>\n</li>\n</ol>\n<blockquote>\n<pre><code> Set&lt;String&gt; columns = jsonArray.get(0).keySet();\n          for (Object object : jsonArray) {\n                JsonObject obj = (JsonObject) object;\n                List&lt;String&gt; dataRows = new ArrayList();\n                for(String column :  columns ) {\n                   String value = (String)obj.get(column);\n                   dataRows.add(value);\n                 }\n                 .......\n     //            write the value to file\n                 .......\n               \n         \n           }\n</code></pre>\n</blockquote>\n<p><strong>If you are Interested in full solution, you can try this.</strong></p>\n<blockquote>\n<pre><code>public static void writeFilteredJsonToNewFile(JsonArray jsonArray) {\n  List&lt;List&lt;String&gt;&gt; allDatas = new ArrayList&lt;&gt;();\n  Set&lt;String&gt; columns = jsonArray.get(0).keySet();\n  allDatas.add(new ArrayList&lt;&gt;(columns));\n  for (Object object : jsonArray) {\n      JsonObject obj = (JsonObject) object;\n      List&lt;String&gt; dataRows = new ArrayList();\n      for(String column :  columns ) {\n         String value = (String)obj.get(column);\n         dataRows.add(value);\n       }\n       allDatas.add(dataRows);         \n  }\n  writeToCsvFile(allDatas,&quot;,&quot;,&quot;test-file.csv&quot;);\n}\n\n\npublic void writeToCsvFile(List&lt;List&lt;String&gt;&gt; thingsToWrite, String separator, String fileName){\n    try (FileWriter writer = new FileWriter(fileName)){\n        for (List&lt;String&gt; strings : thingsToWrite) {\n            for (int i = 0; i &lt; strings.size(); i++) {\n                writer.append(strings[i]);\n                if(i &lt; (strings.length-1))\n                    writer.append(separator);\n            }\n            writer.append(System.lineSeparator());\n        }\n        writer.flush();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":25502779,"reputation":109,"user_id":19295685,"display_name":"seju"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72781054,"answer_count":1,"score":-1,"last_activity_date":1656432954,"creation_date":1656390928,"question_id":72780786,"body_markdown":"My dependency which is not third party\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.json-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nJSon array test\r\n\r\n    [{&quot;name&quot;:&quot;aondx&quot;,&quot;value&quot;:10,&quot;date&quot;:&quot;1999-01-09T14:30:53Z&quot;}]\r\n\r\nI am able to parse/ write into the a create a csv file but the issue is it is not in the right format in my csv file.\r\n\r\n\r\n    public static void writeFilteredJsonToNewFile(JsonArray jsonArray) {\r\n    try {\r\n    \r\n        for (Object object : jsonArray) {\r\n            JsonObject obj = (JsonObject) object;\r\n            StringWriter writer = new StringWriter();\r\n            JsonWriter jsonWriter = Json.createWriter(writer);\r\n            jsonWriter.writeObject(obj);\r\n            writer.close();\r\n    \r\n            FileWriter fileWriter = new FileWriter(diretory + name + &quot;.csv&quot;);\r\n            BufferedWriter bufferedWriter = new BufferedWriter(fileWriter);\r\n            bufferedWriter.write(writer.toString());\r\n            bufferedWriter.close();\r\n            System.out.println(&quot;Created new File!&quot;);\r\n        }\r\n    } catch (IOException e) {\r\n         e.printStackTrace();\r\n    }\r\n}\r\n\r\nResult\r\n\r\n[![enter image description here][1]][1]\r\n \r\n\r\nExpected result (table format) in a csv file\r\n\r\n\r\n| name | value | date |\r\n|:------|:-------:|---------------:|\r\n|aondx |40     |1999-01-09T14:30:53Z|\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hkAjB.png","title":"Convert JsonArray to to csv file in right format without using third party library","body":"<p>My dependency which is not third party</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.json&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.json-api&lt;/artifactId&gt;\n    &lt;version&gt;1.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n    &lt;version&gt;1.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>JSon array test</p>\n<pre><code>[{&quot;name&quot;:&quot;aondx&quot;,&quot;value&quot;:10,&quot;date&quot;:&quot;1999-01-09T14:30:53Z&quot;}]\n</code></pre>\n<p>I am able to parse/ write into the a create a csv file but the issue is it is not in the right format in my csv file.</p>\n<pre><code>public static void writeFilteredJsonToNewFile(JsonArray jsonArray) {\ntry {\n\n    for (Object object : jsonArray) {\n        JsonObject obj = (JsonObject) object;\n        StringWriter writer = new StringWriter();\n        JsonWriter jsonWriter = Json.createWriter(writer);\n        jsonWriter.writeObject(obj);\n        writer.close();\n\n        FileWriter fileWriter = new FileWriter(diretory + name + &quot;.csv&quot;);\n        BufferedWriter bufferedWriter = new BufferedWriter(fileWriter);\n        bufferedWriter.write(writer.toString());\n        bufferedWriter.close();\n        System.out.println(&quot;Created new File!&quot;);\n    }\n} catch (IOException e) {\n     e.printStackTrace();\n}\n</code></pre>\n<p>}</p>\n<p>Result</p>\n<p><a href=\"https://i.stack.imgur.com/hkAjB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hkAjB.png\" alt=\"enter image description here\" /></a></p>\n<p>Expected result (table format) in a csv file</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">name</th>\n<th style=\"text-align: center;\">value</th>\n<th style=\"text-align: right;\">date</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">aondx</td>\n<td style=\"text-align: center;\">40</td>\n<td style=\"text-align: right;\">1999-01-09T14:30:53Z</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1642917090,"post_id":70819124,"comment_id":125198023,"body_markdown":"When dealing with variables created in the `FXML` file, `Button gottomainfromburger = new Button()` in the `Controller` is a no-no. It should be `@FXML Button gottomainfromburger;` Other than that, you should look into [`MCV`](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx). If you use ideas from @James_D answer, that should fix your issue of when changing scenes.","body":"When dealing with variables created in the <code>FXML</code> file, <code>Button gottomainfromburger = new Button()</code> in the <code>Controller</code> is a no-no. It should be <code>@FXML Button gottomainfromburger;</code> Other than that, you should look into <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\"><code>MCV</code></a>. If you use ideas from @James_D answer, that should fix your issue of when changing scenes."},{"owner":{"account_id":20202791,"reputation":11,"user_id":14818051,"display_name":"Antazya Singh Jatrana"},"score":0,"creation_date":1642919356,"post_id":70819124,"comment_id":125198336,"body_markdown":"@Sedrick Thanks for the tip but the variables I am talking about are the int variables which are pizzatotal etc.","body":"@Sedrick Thanks for the tip but the variables I am talking about are the int variables which are pizzatotal etc."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1642922542,"post_id":70819124,"comment_id":125198776,"body_markdown":"Create a [mre] and edit your question to include it. There are so many things wrong in the code you&#39;ve posted, but it&#39;s not complete enough to know which are causing the problems you observe. This is not really answerable as posted.","body":"Create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and edit your question to include it. There are so many things wrong in the code you&#39;ve posted, but it&#39;s not complete enough to know which are causing the problems you observe. This is not really answerable as posted."},{"owner":{"account_id":20202791,"reputation":11,"user_id":14818051,"display_name":"Antazya Singh Jatrana"},"score":0,"creation_date":1642932343,"post_id":70819124,"comment_id":125200530,"body_markdown":"@James_D I have edited the post to much extent and included text to explain the issue I have been facing. Please help me with this issue I have been stuck for two days on this single thing only.","body":"@James_D I have edited the post to much extent and included text to explain the issue I have been facing. Please help me with this issue I have been stuck for two days on this single thing only."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1642936510,"post_id":70819124,"comment_id":125201386,"body_markdown":"please re-read the comment by @James_D, study the referenced help page thoroughly and act accoringly: your code is not reproducible - missing the application - and only near (though not far away) to minimal - containing unrelated fluff in the fxmls. That said: every time you load a controller, you create a _new_ instance of it (which has its fields initialized to their default value). See the first comment for guidance, its link contains the answer to your problem :)","body":"please re-read the comment by @James_D, study the referenced help page thoroughly and act accoringly: your code is not reproducible - missing the application - and only near (though not far away) to minimal - containing unrelated fluff in the fxmls. That said: every time you load a controller, you create a <i>new</i> instance of it (which has its fields initialized to their default value). See the first comment for guidance, its link contains the answer to your problem :)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1642967051,"post_id":70819124,"comment_id":125208969,"body_markdown":"You need to create a class that models the data and share a single instance of it with all the controllers. See the [linked question](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx) (though your model is probably much simpler). Why is `HelloController` a subclass of `PizzaController`; that makes no sense.","body":"You need to create a class that models the data and share a single instance of it with all the controllers. See the <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">linked question</a> (though your model is probably much simpler). Why is <code>HelloController</code> a subclass of <code>PizzaController</code>; that makes no sense."},{"owner":{"account_id":20202791,"reputation":11,"user_id":14818051,"display_name":"Antazya Singh Jatrana"},"score":0,"creation_date":1643028943,"post_id":70819124,"comment_id":125223384,"body_markdown":"Thanks everyone for your input but it is sorted now all I had to do was to change the variables to static.","body":"Thanks everyone for your input but it is sorted now all I had to do was to change the variables to static."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1643031244,"post_id":70819124,"comment_id":125224207,"body_markdown":"that&#39;s not a solution but hacking ;) Instead, learn how to pass parameters between interested parties (see f.i. the reference provided by @Sedrick)","body":"that&#39;s not a solution but hacking ;) Instead, learn how to pass parameters between interested parties (see f.i. the reference provided by @Sedrick)"}],"answers":[{"tags":[],"owner":{"account_id":20202791,"reputation":11,"user_id":14818051,"display_name":"Antazya Singh Jatrana"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643029112,"creation_date":1643029112,"answer_id":70834264,"question_id":70819124,"body_markdown":"Changing the variables to static resolves the issue.\r\n","title":"Variables value reset every time I change scenes in JavaFX","body":"<p>Changing the variables to static resolves the issue.</p>\n"},{"tags":[],"owner":{"account_id":25527584,"reputation":37,"user_id":19316329,"display_name":"Lost"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1656432891,"creation_date":1656417326,"answer_id":72785961,"question_id":70819124,"body_markdown":"You could use a dirty trick.  \r\nLet&#39;s say I have an fxml Line object and I want to make it not visible after an Event (like a mouse click), but when I change the scenes it will return back. To achieve that I will just make a static boolean object like  \r\n````java\r\nprivate static boolean visiblity=true;\r\n````\r\nPlease note that you can&#39;t make @FXML object static.  \r\n\r\nWhen the mouse is clicked I change the boolean object to (false).  \r\nIn the initialize method of the controller I write this  \r\n````java\r\nline.setVisible(visibilty);\r\n````\r\nSo basically, what I am saying is that you can initialize static variables that have the values you want to sustain and send them to the @FXML object.  \r\nIt is a long way solution but that&#39;s what worked for me.","title":"Variables value reset every time I change scenes in JavaFX","body":"<p>You could use a dirty trick.<br />\nLet's say I have an fxml Line object and I want to make it not visible after an Event (like a mouse click), but when I change the scenes it will return back. To achieve that I will just make a static boolean object like</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean visiblity=true;\n</code></pre>\n<p>Please note that you can't make @FXML object static.</p>\n<p>When the mouse is clicked I change the boolean object to (false).<br />\nIn the initialize method of the controller I write this</p>\n<pre class=\"lang-java prettyprint-override\"><code>line.setVisible(visibilty);\n</code></pre>\n<p>So basically, what I am saying is that you can initialize static variables that have the values you want to sustain and send them to the @FXML object.<br />\nIt is a long way solution but that's what worked for me.</p>\n"}],"owner":{"account_id":20202791,"reputation":11,"user_id":14818051,"display_name":"Antazya Singh Jatrana"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":655,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1656432891,"creation_date":1642911986,"question_id":70819124,"body_markdown":"What I have been trying to Achieve is an JavaFX application that computes the cost of the items selected through various categories which in the case are just two: Pizzas and Burgers. \r\n\r\nWhen I click on button with text &#39;pizzas&#39; on it the pizzas.fxml file is loaded where I select an item and thus the variable pizzatotal is incremented and then i come back to the main page. Till this step the value of variable Pizzatotal remains the same as the incremented value it was changed to. But as soon as I click on the button &#39;Burgers&#39; from the main page the value of variable pizzatotal resets to 0. \r\n\r\nI want the value of variable Pizzatotal to remain throughout my navigation between scenes in the application. \r\n\r\nI built a total of 3 fxml files.\r\nOne for the main Page which contains two buttons to navigate to the second and third page respectively. \r\n\r\nThis is the fxml code for the Main Page :\r\n\r\n&quot;&#39;  \r\n   \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n    &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;- \r\n    Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; \r\n    xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; \r\n    fx:controller=&quot;com.example.demo.HelloController&quot;&gt;\r\n    &lt;children&gt;\r\n      &lt;Button layoutX=&quot;32.0&quot; layoutY=&quot;34.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchtoOrderpage&quot; prefHeight=&quot;71.0&quot; prefWidth=&quot;114.0&quot; text=&quot;Pizzas&quot; /&gt;\r\n      &lt;Button layoutX=&quot;166.0&quot; layoutY=&quot;34.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchtoburger&quot; prefHeight=&quot;71.0&quot; prefWidth=&quot;114.0&quot; text=&quot;Burgers&quot; /&gt;\r\n    &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\n\r\n\r\nThe second FXML file contains a grid pane with buttons to execute different methods. Frankly speaking every button on this screen adds the cost of pizza selected to the variable : total. \r\n\r\n\r\n\r\nThe code for the second FXML file is as follows: \r\n\r\n&quot;&#39;  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.GridPane?&gt;\r\n    &lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n\r\n    &lt;GridPane hgap=&quot;50.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; \r\n     minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;1080.0&quot; \r\n     prefWidth=&quot;1922.0&quot; vgap=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; \r\n     xmlns:fx=&quot;http://javafx.com/fxml/1&quot; \r\n     fx:controller=&quot;com.example.demo.PizzaController&quot;&gt;\r\n     &lt;columnConstraints&gt;\r\n     &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;348.1999786376953&quot; \r\n     minWidth=&quot;10.0&quot; prefWidth=&quot;297.0000274658203&quot; /&gt;\r\n     &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;433.80001220703133&quot; \r\n     minWidth=&quot;0.0&quot; prefWidth=&quot;298.7999633789062&quot; /&gt;\r\n     &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;456.0&quot; minWidth=&quot;0.0&quot; \r\n     prefWidth=&quot;314.99990234375&quot; /&gt;\r\n     &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;698.4000122070313&quot; \r\n     minWidth=&quot;10.0&quot; prefWidth=&quot;296.39997558593745&quot; /&gt;\r\n     &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;939.8000610351562&quot; \r\n     minWidth=&quot;10.0&quot; prefWidth=&quot;282.20002441406245&quot; /&gt;\r\n     &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;939.8000610351562&quot; \r\n     minWidth=&quot;10.0&quot; prefWidth=&quot;281.800048828125&quot; /&gt;\r\n     &lt;/columnConstraints&gt;\r\n     &lt;rowConstraints&gt;\r\n     &lt;RowConstraints maxHeight=&quot;238.39998779296874&quot; minHeight=&quot;10.0&quot; \r\n      prefHeight=&quot;238.39998779296874&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n     &lt;RowConstraints maxHeight=&quot;188.80000000000004&quot; minHeight=&quot;0.0&quot; \r\n      prefHeight=&quot;47.800012207031244&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n     &lt;RowConstraints maxHeight=&quot;312.80000000000007&quot; minHeight=&quot;10.0&quot; \r\n      prefHeight=&quot;228.60000000000002&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n     &lt;RowConstraints maxHeight=&quot;312.80000000000007&quot; minHeight=&quot;0.0&quot; \r\n      prefHeight=&quot;52.999987792968795&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n     &lt;RowConstraints maxHeight=&quot;494.6000122070312&quot; \r\n      minHeight=&quot;3.5999755859375&quot; prefHeight=&quot;262.79998779296875&quot; \r\n      vgrow=&quot;SOMETIMES&quot; /&gt;\r\n     &lt;RowConstraints maxHeight=&quot;480.8000122070313&quot; minHeight=&quot;10.0&quot; \r\n      prefHeight=&quot;158.00001220703132&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n      &lt;/rowConstraints&gt;\r\n      &lt;children&gt;\r\n      &lt;Button fx:id=&quot;pizza&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addpizza&quot; \r\n      prefHeight=&quot;54.0&quot; prefWidth=&quot;301.0&quot; text=&quot;Paneer Pizza&quot; \r\n      GridPane.rowIndex=&quot;1&quot; /&gt;\r\n      &lt;Button fx:id=&quot;addMargherita&quot; mnemonicParsing=&quot;false&quot; \r\n      prefHeight=&quot;56.0&quot; prefWidth=&quot;298.0&quot; text=&quot;Margherita Pizza&quot; \r\n      GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\r\n      &lt;Button fx:id=&quot;pizza1&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; \r\n      prefWidth=&quot;301.0&quot; text=&quot;Chicken Pizza&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\r\n      &lt;Button fx:id=&quot;pizza2&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; \r\n      prefWidth=&quot;301.0&quot; text=&quot;Cheese Burst&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Chilli Pizza&quot; GridPane.columnIndex=&quot;2&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\r\n      &lt;Button fx:id=&quot;gotomain&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchtomainpagefromPizza&quot; prefHeight=&quot;157.0&quot; prefWidth=&quot;266.0&quot; text=&quot;Main page&quot; GridPane.columnIndex=&quot;5&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\r\n      &lt;Button layoutX=&quot;645.0&quot; layoutY=&quot;584.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Pan Pizza&quot; GridPane.columnIndex=&quot;3&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;62.0&quot; prefWidth=&quot;395.0&quot; text=&quot;Sicilian Pizza&quot; GridPane.columnIndex=&quot;3&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;47.0&quot; prefWidth=&quot;286.0&quot; text=&quot;Chicago-Style Pizza&quot; GridPane.columnIndex=&quot;4&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;66.0&quot; prefWidth=&quot;266.0&quot; text=&quot;New York - Style Pizza&quot; GridPane.columnIndex=&quot;5&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\r\n      &lt;Button fx:id=&quot;pizza21&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; prefWidth=&quot;301.0&quot; text=&quot;Hawaiian Pizza&quot; GridPane.columnIndex=&quot;2&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\r\n      &lt;Button layoutX=&quot;1022.0&quot; layoutY=&quot;584.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Greek Pizza&quot; GridPane.columnIndex=&quot;4&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Crust Pizza&quot; GridPane.columnIndex=&quot;2&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Momo Pizza&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Corn Pizza&quot; GridPane.columnIndex=&quot;5&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\r\n      &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Prime Pizza&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\r\n      &lt;Button fx:id=&quot;pizza3&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; prefWidth=&quot;301.0&quot; text=&quot;Sauce Pizza&quot; GridPane.columnIndex=&quot;3&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\r\n      &lt;Button fx:id=&quot;pizza4&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; prefWidth=&quot;301.0&quot; text=&quot;Oregano Pizza&quot; GridPane.columnIndex=&quot;4&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\r\n      &lt;/children&gt;\r\n      &lt;/GridPane&gt;\r\n&#39;&quot;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe third FXML file is also exactly similar to this hence I&#39;m not including the code to it to cut it short. \r\n\r\n\r\n\r\n\r\nI have built 3 diff controller classes to control the Main-page, the pizzas page and the Burgers page. \r\n\r\n\r\nThe controller class for the main-page is as follows:\r\n\r\n&quot;&#39;   \r\n    public class HelloController extends  PizzaController{\r\n\r\n    public void switchtopizzapage(ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;pizzas.fxml&quot;));\r\n        Stage stage = (Stage) (((Node) event.getSource()).getScene().getWindow());\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.setFullScreen(false);\r\n        stage.setHeight(400);stage.setWidth(600);\r\n        stage.show();\r\n    }\r\n\r\n\r\n    public  void switchtoburger(ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(HelloController.class.getResource(&quot;Burgers.fxml&quot;));\r\n        Stage stage = (Stage) (((Node) event.getSource()).getScene().getWindow());\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.setFullScreen(false);\r\n        System.out.println(total);\r\n        stage.show();\r\n    }\r\n\r\n\r\n\r\n}&#39;&quot;\r\n\r\n\r\n\r\nThe method &#39;switchtopizzapage&#39; opens the pizza page which is the second FXML scene and the &#39;switchtoburger&#39; opens the third FXML scene.\r\n\r\n\r\nThe main page looks like this: \r\n\r\n[This is the main-page.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/92k8W.png\r\n\r\n\r\n\r\n\r\n\r\nThe controller class for the pizzas.fxml file is given below: \r\n\r\n    public class PizzaController {\r\n\r\n    public  int total;\r\n\r\n\r\n\r\n    public void addpizza(){\r\n        int pizzaCost = 100;\r\n        total = total + pizzaCost;\r\n        System.out.println(total);\r\n    }\r\n\r\n\r\n    public void switchtomainpagefromPizza(ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;Main-Page.fxml&quot;));\r\n        Stage stage = (Stage) (((Node) event.getSource()).getScene().getWindow());\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.setFullScreen(false);\r\n        System.out.println(total);\r\n        stage.show();\r\n    }\r\n}\r\n\r\n\r\n\r\nThe controller class for the Burgers.fxml is given below: \r\n\r\n    public class BurgerController extends PizzaController{\r\n\r\n\r\n\r\n    public  void addChickenBurger(){\r\n        int ChickenBurgerCost = 100;\r\n       total = total+ ChickenBurgerCost;\r\n       System.out.println(total);\r\n\r\n\r\n    }\r\n    public  void switchtomainpagefromBurger(ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;Main-Page.fxml&quot;));\r\n        Stage stage = (Stage) (((Node) event.getSource()).getScene().getWindow());\r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.setFullScreen(false);\r\n        stage.show();\r\n    }\r\n}\r\n","title":"Variables value reset every time I change scenes in JavaFX","body":"<p>What I have been trying to Achieve is an JavaFX application that computes the cost of the items selected through various categories which in the case are just two: Pizzas and Burgers.</p>\n<p>When I click on button with text 'pizzas' on it the pizzas.fxml file is loaded where I select an item and thus the variable pizzatotal is incremented and then i come back to the main page. Till this step the value of variable Pizzatotal remains the same as the incremented value it was changed to. But as soon as I click on the button 'Burgers' from the main page the value of variable pizzatotal resets to 0.</p>\n<p>I want the value of variable Pizzatotal to remain throughout my navigation between scenes in the application.</p>\n<p>I built a total of 3 fxml files.\nOne for the main Page which contains two buttons to navigate to the second and third page respectively.</p>\n<p>This is the fxml code for the Main Page :</p>\n<p>&quot;'</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;- \nInfinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; \nxmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; \nfx:controller=&quot;com.example.demo.HelloController&quot;&gt;\n&lt;children&gt;\n  &lt;Button layoutX=&quot;32.0&quot; layoutY=&quot;34.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchtoOrderpage&quot; prefHeight=&quot;71.0&quot; prefWidth=&quot;114.0&quot; text=&quot;Pizzas&quot; /&gt;\n  &lt;Button layoutX=&quot;166.0&quot; layoutY=&quot;34.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchtoburger&quot; prefHeight=&quot;71.0&quot; prefWidth=&quot;114.0&quot; text=&quot;Burgers&quot; /&gt;\n&lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>The second FXML file contains a grid pane with buttons to execute different methods. Frankly speaking every button on this screen adds the cost of pizza selected to the variable : total.</p>\n<p>The code for the second FXML file is as follows:</p>\n<p>&quot;'  </p>\n<pre><code>&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n\n&lt;GridPane hgap=&quot;50.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; \n minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;1080.0&quot; \n prefWidth=&quot;1922.0&quot; vgap=&quot;20.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; \n xmlns:fx=&quot;http://javafx.com/fxml/1&quot; \n fx:controller=&quot;com.example.demo.PizzaController&quot;&gt;\n &lt;columnConstraints&gt;\n &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;348.1999786376953&quot; \n minWidth=&quot;10.0&quot; prefWidth=&quot;297.0000274658203&quot; /&gt;\n &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;433.80001220703133&quot; \n minWidth=&quot;0.0&quot; prefWidth=&quot;298.7999633789062&quot; /&gt;\n &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;456.0&quot; minWidth=&quot;0.0&quot; \n prefWidth=&quot;314.99990234375&quot; /&gt;\n &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;698.4000122070313&quot; \n minWidth=&quot;10.0&quot; prefWidth=&quot;296.39997558593745&quot; /&gt;\n &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;939.8000610351562&quot; \n minWidth=&quot;10.0&quot; prefWidth=&quot;282.20002441406245&quot; /&gt;\n &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;939.8000610351562&quot; \n minWidth=&quot;10.0&quot; prefWidth=&quot;281.800048828125&quot; /&gt;\n &lt;/columnConstraints&gt;\n &lt;rowConstraints&gt;\n &lt;RowConstraints maxHeight=&quot;238.39998779296874&quot; minHeight=&quot;10.0&quot; \n  prefHeight=&quot;238.39998779296874&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n &lt;RowConstraints maxHeight=&quot;188.80000000000004&quot; minHeight=&quot;0.0&quot; \n  prefHeight=&quot;47.800012207031244&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n &lt;RowConstraints maxHeight=&quot;312.80000000000007&quot; minHeight=&quot;10.0&quot; \n  prefHeight=&quot;228.60000000000002&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n &lt;RowConstraints maxHeight=&quot;312.80000000000007&quot; minHeight=&quot;0.0&quot; \n  prefHeight=&quot;52.999987792968795&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n &lt;RowConstraints maxHeight=&quot;494.6000122070312&quot; \n  minHeight=&quot;3.5999755859375&quot; prefHeight=&quot;262.79998779296875&quot; \n  vgrow=&quot;SOMETIMES&quot; /&gt;\n &lt;RowConstraints maxHeight=&quot;480.8000122070313&quot; minHeight=&quot;10.0&quot; \n  prefHeight=&quot;158.00001220703132&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n  &lt;/rowConstraints&gt;\n  &lt;children&gt;\n  &lt;Button fx:id=&quot;pizza&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addpizza&quot; \n  prefHeight=&quot;54.0&quot; prefWidth=&quot;301.0&quot; text=&quot;Paneer Pizza&quot; \n  GridPane.rowIndex=&quot;1&quot; /&gt;\n  &lt;Button fx:id=&quot;addMargherita&quot; mnemonicParsing=&quot;false&quot; \n  prefHeight=&quot;56.0&quot; prefWidth=&quot;298.0&quot; text=&quot;Margherita Pizza&quot; \n  GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\n  &lt;Button fx:id=&quot;pizza1&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; \n  prefWidth=&quot;301.0&quot; text=&quot;Chicken Pizza&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\n  &lt;Button fx:id=&quot;pizza2&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; \n  prefWidth=&quot;301.0&quot; text=&quot;Cheese Burst&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Chilli Pizza&quot; GridPane.columnIndex=&quot;2&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\n  &lt;Button fx:id=&quot;gotomain&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchtomainpagefromPizza&quot; prefHeight=&quot;157.0&quot; prefWidth=&quot;266.0&quot; text=&quot;Main page&quot; GridPane.columnIndex=&quot;5&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\n  &lt;Button layoutX=&quot;645.0&quot; layoutY=&quot;584.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Pan Pizza&quot; GridPane.columnIndex=&quot;3&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;62.0&quot; prefWidth=&quot;395.0&quot; text=&quot;Sicilian Pizza&quot; GridPane.columnIndex=&quot;3&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;47.0&quot; prefWidth=&quot;286.0&quot; text=&quot;Chicago-Style Pizza&quot; GridPane.columnIndex=&quot;4&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;66.0&quot; prefWidth=&quot;266.0&quot; text=&quot;New York - Style Pizza&quot; GridPane.columnIndex=&quot;5&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\n  &lt;Button fx:id=&quot;pizza21&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; prefWidth=&quot;301.0&quot; text=&quot;Hawaiian Pizza&quot; GridPane.columnIndex=&quot;2&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\n  &lt;Button layoutX=&quot;1022.0&quot; layoutY=&quot;584.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Greek Pizza&quot; GridPane.columnIndex=&quot;4&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Crust Pizza&quot; GridPane.columnIndex=&quot;2&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Momo Pizza&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Corn Pizza&quot; GridPane.columnIndex=&quot;5&quot; GridPane.rowIndex=&quot;3&quot; /&gt;\n  &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;49.0&quot; prefWidth=&quot;358.0&quot; text=&quot;Prime Pizza&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\n  &lt;Button fx:id=&quot;pizza3&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; prefWidth=&quot;301.0&quot; text=&quot;Sauce Pizza&quot; GridPane.columnIndex=&quot;3&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\n  &lt;Button fx:id=&quot;pizza4&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;54.0&quot; prefWidth=&quot;301.0&quot; text=&quot;Oregano Pizza&quot; GridPane.columnIndex=&quot;4&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\n  &lt;/children&gt;\n  &lt;/GridPane&gt;\n</code></pre>\n<p>'&quot;</p>\n<p>The third FXML file is also exactly similar to this hence I'm not including the code to it to cut it short.</p>\n<p>I have built 3 diff controller classes to control the Main-page, the pizzas page and the Burgers page.</p>\n<p>The controller class for the main-page is as follows:</p>\n<p>&quot;'<br />\npublic class HelloController extends  PizzaController{</p>\n<pre><code>public void switchtopizzapage(ActionEvent event) throws IOException {\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;pizzas.fxml&quot;));\n    Stage stage = (Stage) (((Node) event.getSource()).getScene().getWindow());\n    Scene scene = new Scene(root);\n    stage.setScene(scene);\n    stage.setFullScreen(false);\n    stage.setHeight(400);stage.setWidth(600);\n    stage.show();\n}\n\n\npublic  void switchtoburger(ActionEvent event) throws IOException {\n    Parent root = FXMLLoader.load(HelloController.class.getResource(&quot;Burgers.fxml&quot;));\n    Stage stage = (Stage) (((Node) event.getSource()).getScene().getWindow());\n    Scene scene = new Scene(root);\n    stage.setScene(scene);\n    stage.setFullScreen(false);\n    System.out.println(total);\n    stage.show();\n}\n</code></pre>\n<p>}'&quot;</p>\n<p>The method 'switchtopizzapage' opens the pizza page which is the second FXML scene and the 'switchtoburger' opens the third FXML scene.</p>\n<p>The main page looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/92k8W.png\" rel=\"nofollow noreferrer\">This is the main-page.</a></p>\n<p>The controller class for the pizzas.fxml file is given below:</p>\n<pre><code>public class PizzaController {\n\npublic  int total;\n\n\n\npublic void addpizza(){\n    int pizzaCost = 100;\n    total = total + pizzaCost;\n    System.out.println(total);\n}\n\n\npublic void switchtomainpagefromPizza(ActionEvent event) throws IOException {\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;Main-Page.fxml&quot;));\n    Stage stage = (Stage) (((Node) event.getSource()).getScene().getWindow());\n    Scene scene = new Scene(root);\n    stage.setScene(scene);\n    stage.setFullScreen(false);\n    System.out.println(total);\n    stage.show();\n}\n</code></pre>\n<p>}</p>\n<p>The controller class for the Burgers.fxml is given below:</p>\n<pre><code>public class BurgerController extends PizzaController{\n\n\n\npublic  void addChickenBurger(){\n    int ChickenBurgerCost = 100;\n   total = total+ ChickenBurgerCost;\n   System.out.println(total);\n\n\n}\npublic  void switchtomainpagefromBurger(ActionEvent event) throws IOException {\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;Main-Page.fxml&quot;));\n    Stage stage = (Stage) (((Node) event.getSource()).getScene().getWindow());\n    Scene scene = new Scene(root);\n    stage.setScene(scene);\n    stage.setFullScreen(false);\n    stage.show();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","testing","h2"],"answers":[{"tags":[],"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656429607,"creation_date":1656429607,"answer_id":72789148,"question_id":72789062,"body_markdown":"You need configure the application.properties / yaml, like that:\r\n\r\n    spring.datasource.url=jdbc:h2:mem:dbtest\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=user\r\n    spring.datasource.password=password\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\nYou can see more here: https://www.baeldung.com/spring-boot-h2-database","title":"Spring doesn&#39;t use h2 databases for testing","body":"<p>You need configure the application.properties / yaml, like that:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:dbtest\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=user\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p>You can see more here: <a href=\"https://www.baeldung.com/spring-boot-h2-database\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-h2-database</a></p>\n"},{"tags":[],"owner":{"account_id":14461800,"reputation":177,"user_id":10446433,"display_name":"SimpleJack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656432665,"creation_date":1656431871,"answer_id":72789699,"question_id":72789062,"body_markdown":"If you&#39;re using [Spring Boot with Gradle][1] (what I can assume from your posted `build.gradle` file) &amp; want strictly seperate test environment &amp; production/development, you have to add a new `application.properties` in your `test/resources` directory.\r\nThis application file will then be used, in your test environment.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**ATTENTION:** Every necessary entry that is not present in this file, will fall back to the property file in your `src` directory. This can lead to some inconsitencies in your application setup.\r\n\r\n**--- The following part does also work with none Gradle builds: ---**\r\n\r\nIf you want to use a specific property in a specific test, you can use the [@TestPropertySource][3] annotation.\r\n\r\nWith this you can now define a default properties for the majority of your tests &amp; speceific properties for specific tests, meaning the `@TestPropertySource` annotations are of higher order than the `application.properties` in the test directory &amp; overwrite them.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/gradle/\r\n  [2]: https://i.stack.imgur.com/t3IiP.png\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#spring-testing-annotation-testpropertysource","title":"Spring doesn&#39;t use h2 databases for testing","body":"<p>If you're using <a href=\"https://spring.io/guides/gs/gradle/\" rel=\"nofollow noreferrer\">Spring Boot with Gradle</a> (what I can assume from your posted <code>build.gradle</code> file) &amp; want strictly seperate test environment &amp; production/development, you have to add a new <code>application.properties</code> in your <code>test/resources</code> directory.\nThis application file will then be used, in your test environment.</p>\n<p><a href=\"https://i.stack.imgur.com/t3IiP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t3IiP.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>ATTENTION:</strong> Every necessary entry that is not present in this file, will fall back to the property file in your <code>src</code> directory. This can lead to some inconsitencies in your application setup.</p>\n<p><strong>--- The following part does also work with none Gradle builds: ---</strong></p>\n<p>If you want to use a specific property in a specific test, you can use the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#spring-testing-annotation-testpropertysource\" rel=\"nofollow noreferrer\">@TestPropertySource</a> annotation.</p>\n<p>With this you can now define a default properties for the majority of your tests &amp; speceific properties for specific tests, meaning the <code>@TestPropertySource</code> annotations are of higher order than the <code>application.properties</code> in the test directory &amp; overwrite them.</p>\n"}],"owner":{"account_id":25672194,"reputation":13,"user_id":19436250,"display_name":"GeoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1876,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72789699,"answer_count":2,"score":1,"last_activity_date":1656432665,"creation_date":1656429258,"question_id":72789062,"body_markdown":"I have a small database application running on mySQL.\r\n\r\nI want to use the H2 for testing.\r\n\r\nI added the necessary dependency to build.gradle:\r\n\r\nruntimeOnly &#39;com.h2database: h2&#39;\r\n\r\n        plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.7.0&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n        id &#39;idea&#39;\r\n    }\r\n    \r\n    group = &#39;com.myprojects&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter:2.7.0&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;javax.validation:validation-api:2.0.1.Final&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web:2.7.0&#39;\r\n        implementation &#39;org.jetbrains:annotations:23.0.0&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-test:2.7.0&#39;\r\n        implementation &#39;junit:junit:4.13.2&#39;\r\n    \r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n    \r\n        runtimeOnly &#39;mysql:mysql-connector-java&#39;\r\n        runtimeOnly &#39;com.h2database:h2&#39;\r\n    \r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    }\r\n    \r\n    jar {\r\n        enabled = false\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nHowever, I noticed that after doing the tests, my mySQL database contains the fields generated during the tests, as if spring was not using H2.\r\n\r\nWhat&#39;s the problem?","title":"Spring doesn&#39;t use h2 databases for testing","body":"<p>I have a small database application running on mySQL.</p>\n<p>I want to use the H2 for testing.</p>\n<p>I added the necessary dependency to build.gradle:</p>\n<p>runtimeOnly 'com.h2database: h2'</p>\n<pre><code>    plugins {\n    id 'org.springframework.boot' version '2.7.0'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id 'idea'\n}\n\ngroup = 'com.myprojects'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter:2.7.0'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'javax.validation:validation-api:2.0.1.Final'\n    implementation 'org.springframework.boot:spring-boot-starter-web:2.7.0'\n    implementation 'org.jetbrains:annotations:23.0.0'\n    implementation 'org.springframework.boot:spring-boot-starter-test:2.7.0'\n    implementation 'junit:junit:4.13.2'\n\n    testImplementation 'junit:junit:4.13.2'\n\n    runtimeOnly 'mysql:mysql-connector-java'\n    runtimeOnly 'com.h2database:h2'\n\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n}\n\njar {\n    enabled = false\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>However, I noticed that after doing the tests, my mySQL database contains the fields generated during the tests, as if spring was not using H2.</p>\n<p>What's the problem?</p>\n"},{"tags":["java","protocol-buffers","grpc","grpc-java","proto"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656432605,"creation_date":1656432605,"answer_id":72789872,"question_id":72789726,"body_markdown":"In the code snippet of the command, we see:\r\n```\r\njava_out=%OUTPUT_DIR%\r\n```\r\n\r\nIt should be a flag:\r\n```\r\n--java_out=%OUTPUT_DIR%\r\n```","title":"Could not make proto path relative: java_out=C:\\proto\\: No such file or directory","body":"<p>In the code snippet of the command, we see:</p>\n<pre><code>java_out=%OUTPUT_DIR%\n</code></pre>\n<p>It should be a flag:</p>\n<pre><code>--java_out=%OUTPUT_DIR%\n</code></pre>\n"}],"owner":{"account_id":7382849,"reputation":3,"user_id":14751769,"display_name":"Farshad Fallah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72789872,"answer_count":1,"score":0,"last_activity_date":1656432605,"creation_date":1656431949,"question_id":72789726,"body_markdown":"&lt;br&gt;\r\nI&#39;m learning gRPC and this is my first app.&lt;br&gt;\r\nI&#39;m using windows 10, java Graalvm 11.&lt;br&gt;\r\nmy proto file\r\n\r\n```\r\nsyntax = &quot;proto3&quot;;\r\n\r\npackage example;\r\n\r\noption java_package = &quot;ir.farshad.services&quot;;\r\noption java_multiple_files = true;\r\n\r\n\r\nservice EmployeeService{\r\n    rpc getEmployee (EmployeeRequest) returns (EmployeeeResponse);\r\n}\r\n\r\nmessage EmployeeRequest{\r\n    int64 id = 1;\r\n}\r\n\r\nmessage EmployeeeResponse{\r\n    int64 id = 1;\r\n    string name = 2;\r\n    string designation = 3;\r\n}\r\n\r\n```\r\n\r\nmy run command\r\n\r\n```\r\nset PROTO_FOLDER_PATH=C:\\proto\\empoloyee\r\nset PROTO_PLUGIN_PATH=C:\\proto\\protoc-gen-grpc-java-1.47.0-windows-x86_64.exe\r\nset OUTPUT_DIR=C:\\proto\r\n\r\n\r\nprotoc --proto_path=%PROTO_FOLDER_PATH% --plugin=protoc-gen-grpc-java=%PROTO_PLUGIN_PATH% --grpc-java_out=%OUTPUT_DIR% java_out=%OUTPUT_DIR%  %PROTO_FOLDER_PATH%\\employee.proto\r\n\r\n```\r\n\r\nand I get this Error\r\n\r\n```\r\nCould not make proto path relative: java_out=C:\\proto\\: No such file or directory\r\n\r\n```\r\n&lt;br&gt;\r\n\r\nmy folder tree is\r\n\r\n```\r\nC:\\PROTO\r\n   protoc-gen-grpc-java-1.47.0-windows-x86_64.exe\r\n\r\nempoloyee\r\n        employee.proto\r\n        run.bat\r\n\r\n```\r\n\r\nthank you in advance","title":"Could not make proto path relative: java_out=C:\\proto\\: No such file or directory","body":"<br>\nI'm learning gRPC and this is my first app.<br>\nI'm using windows 10, java Graalvm 11.<br>\nmy proto file\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage example;\n\noption java_package = &quot;ir.farshad.services&quot;;\noption java_multiple_files = true;\n\n\nservice EmployeeService{\n    rpc getEmployee (EmployeeRequest) returns (EmployeeeResponse);\n}\n\nmessage EmployeeRequest{\n    int64 id = 1;\n}\n\nmessage EmployeeeResponse{\n    int64 id = 1;\n    string name = 2;\n    string designation = 3;\n}\n\n</code></pre>\n<p>my run command</p>\n<pre><code>set PROTO_FOLDER_PATH=C:\\proto\\empoloyee\nset PROTO_PLUGIN_PATH=C:\\proto\\protoc-gen-grpc-java-1.47.0-windows-x86_64.exe\nset OUTPUT_DIR=C:\\proto\n\n\nprotoc --proto_path=%PROTO_FOLDER_PATH% --plugin=protoc-gen-grpc-java=%PROTO_PLUGIN_PATH% --grpc-java_out=%OUTPUT_DIR% java_out=%OUTPUT_DIR%  %PROTO_FOLDER_PATH%\\employee.proto\n\n</code></pre>\n<p>and I get this Error</p>\n<pre><code>Could not make proto path relative: java_out=C:\\proto\\: No such file or directory\n\n</code></pre>\n<br>\n<p>my folder tree is</p>\n<pre><code>C:\\PROTO\n   protoc-gen-grpc-java-1.47.0-windows-x86_64.exe\n\nempoloyee\n        employee.proto\n        run.bat\n\n</code></pre>\n<p>thank you in advance</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":18269519,"reputation":1064,"user_id":13300553,"display_name":"Prathamesh"},"score":0,"creation_date":1656426755,"post_id":72788026,"comment_id":128566364,"body_markdown":"It would be helpful if you can include a screenshot of your output!","body":"It would be helpful if you can include a screenshot of your output!"},{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1656426970,"post_id":72788026,"comment_id":128566444,"body_markdown":"Perfect use case for header/footer implementation with recycler view. Here is how you can do it. [code labs](https://developer.android.com/codelabs/kotlin-android-training-headers#0)","body":"Perfect use case for header/footer implementation with recycler view. Here is how you can do it. <a href=\"https://developer.android.com/codelabs/kotlin-android-training-headers#0\" rel=\"nofollow noreferrer\">code labs</a>"}],"answers":[{"tags":[],"owner":{"account_id":2197099,"reputation":2498,"user_id":1942463,"display_name":"Rajasekaran M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656427068,"creation_date":1656426501,"answer_id":72788314,"question_id":72788026,"body_markdown":"you have to use else for reset the value if position is not 0 or n-1 because views are reusing \r\n\r\n    @Override\r\n    public void getItemOffsets(@NonNull Rect outRect, @NonNull View view, RecyclerView parent,\r\n                               @NonNull RecyclerView.State state) {\r\n        if (parent.getChildAdapterPosition(view) == 0)\r\n            outRect.left = horizontalSpaceWidth;\r\n        else if (parent.getChildAdapterPosition(view) == parent.getChildCount() - 1)\r\n            outRect.right = horizontalSpaceWidth;\r\n       else {\r\n           outRect.right = 0;\r\n           outRect.left = 0;\r\n       }\r\n    }\r\n\r\n","title":"How can I add space in the RecyclerView?","body":"<p>you have to use else for reset the value if position is not 0 or n-1 because views are reusing</p>\n<pre><code>@Override\npublic void getItemOffsets(@NonNull Rect outRect, @NonNull View view, RecyclerView parent,\n                           @NonNull RecyclerView.State state) {\n    if (parent.getChildAdapterPosition(view) == 0)\n        outRect.left = horizontalSpaceWidth;\n    else if (parent.getChildAdapterPosition(view) == parent.getChildCount() - 1)\n        outRect.right = horizontalSpaceWidth;\n   else {\n       outRect.right = 0;\n       outRect.left = 0;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23263280,"reputation":29,"user_id":18424680,"display_name":"Couver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656432514,"creation_date":1656432514,"answer_id":72789846,"question_id":72788026,"body_markdown":"Found the solution by setting LayoutParams to items&#39; parent views. Not the best way I guess, but it works fine for me.\r\n\r\n    RecyclerView.LayoutParams params = new RecyclerView.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n        if (position == 0 || position == 14) {\r\n            if (position == 0) params.setMargins(spaceWidth, 0, 0, 0);\r\n            else params.setMargins(0, 0, spaceWidth, 0);\r\n        } else params.setMargins(0, 0, 0, 0);\r\n        holder.background.setLayoutParams(params);\r\n\r\n*14 is adapter item count - 1","title":"How can I add space in the RecyclerView?","body":"<p>Found the solution by setting LayoutParams to items' parent views. Not the best way I guess, but it works fine for me.</p>\n<pre><code>RecyclerView.LayoutParams params = new RecyclerView.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n    if (position == 0 || position == 14) {\n        if (position == 0) params.setMargins(spaceWidth, 0, 0, 0);\n        else params.setMargins(0, 0, spaceWidth, 0);\n    } else params.setMargins(0, 0, 0, 0);\n    holder.background.setLayoutParams(params);\n</code></pre>\n<p>*14 is adapter item count - 1</p>\n"}],"owner":{"account_id":23263280,"reputation":29,"user_id":18424680,"display_name":"Couver"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72789846,"answer_count":2,"score":1,"last_activity_date":1656432552,"creation_date":1656425496,"question_id":72788026,"body_markdown":"I need to add some space to start of the first item and to end of the last item of RecyclerView, so they can scroll to edge of the screen (as they can&#39;t with RecyclerView&#39;s margin or padding)\r\n\r\nThe problem is spacing between items should be different, so I can&#39;t just add this &quot;space&quot; to item layout. Now I&#39;m trying to add ItemDecoration to my Recycler, but thats what happens:\r\n1) Before I even touch it spacing appears letterarily randomly:\r\n[Random spacing][1]\r\n2) Then, when I scroll to the end and go back, required space appears after last item that fits on the screen, not after the last one of my Recycler.\r\n[The space right after the last item that fits on the screen][2]\r\n[No space for the real last item][3]\r\n\r\nMy ItemDecoration class:\r\n\r\n    public class HorizontalItemDecoration extends RecyclerView.ItemDecoration {\r\n\r\n    private final int horizontalSpaceWidth;\r\n\r\n    public HorizontalItemDecoration(int horizontalSpaceWidth) {\r\n        this.horizontalSpaceWidth = horizontalSpaceWidth;\r\n    }\r\n\r\n    @Override\r\n    public void getItemOffsets(@NonNull Rect outRect, @NonNull View view, RecyclerView parent,\r\n                               @NonNull RecyclerView.State state) {\r\n        if (parent.getChildAdapterPosition(view) == 0)\r\n            outRect.left = horizontalSpaceWidth;\r\n        else if (parent.getChildAdapterPosition(view) == parent.getChildCount() - 1)\r\n            outRect.right = horizontalSpaceWidth;\r\n    }\r\n    }\r\n*horizontalSpaceWidth is 16dp, default spacing betsween items is 4dp.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5tcg3.png\r\n  [2]: https://i.stack.imgur.com/oTts8.png\r\n  [3]: https://i.stack.imgur.com/L2cAs.png","title":"How can I add space in the RecyclerView?","body":"<p>I need to add some space to start of the first item and to end of the last item of RecyclerView, so they can scroll to edge of the screen (as they can't with RecyclerView's margin or padding)</p>\n<p>The problem is spacing between items should be different, so I can't just add this &quot;space&quot; to item layout. Now I'm trying to add ItemDecoration to my Recycler, but thats what happens:</p>\n<ol>\n<li>Before I even touch it spacing appears letterarily randomly:\n<a href=\"https://i.stack.imgur.com/5tcg3.png\" rel=\"nofollow noreferrer\">Random spacing</a></li>\n<li>Then, when I scroll to the end and go back, required space appears after last item that fits on the screen, not after the last one of my Recycler.\n<a href=\"https://i.stack.imgur.com/oTts8.png\" rel=\"nofollow noreferrer\">The space right after the last item that fits on the screen</a>\n<a href=\"https://i.stack.imgur.com/L2cAs.png\" rel=\"nofollow noreferrer\">No space for the real last item</a></li>\n</ol>\n<p>My ItemDecoration class:</p>\n<pre><code>public class HorizontalItemDecoration extends RecyclerView.ItemDecoration {\n\nprivate final int horizontalSpaceWidth;\n\npublic HorizontalItemDecoration(int horizontalSpaceWidth) {\n    this.horizontalSpaceWidth = horizontalSpaceWidth;\n}\n\n@Override\npublic void getItemOffsets(@NonNull Rect outRect, @NonNull View view, RecyclerView parent,\n                           @NonNull RecyclerView.State state) {\n    if (parent.getChildAdapterPosition(view) == 0)\n        outRect.left = horizontalSpaceWidth;\n    else if (parent.getChildAdapterPosition(view) == parent.getChildCount() - 1)\n        outRect.right = horizontalSpaceWidth;\n}\n}\n</code></pre>\n<p>*horizontalSpaceWidth is 16dp, default spacing betsween items is 4dp.</p>\n"},{"tags":["java","list","java-stream","integer-overflow"],"comments":[{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1656350307,"post_id":72776010,"comment_id":128545465,"body_markdown":"Looks like you are overflowing.","body":"Looks like you are overflowing."},{"owner":{"account_id":18237870,"reputation":15,"user_id":13275464,"display_name":"Nasri"},"score":0,"creation_date":1656350475,"post_id":72776010,"comment_id":128545518,"body_markdown":"Hmm even beyond the long capacity? would the use of BigInteger help?","body":"Hmm even beyond the long capacity? would the use of BigInteger help?"},{"owner":{"account_id":14155962,"reputation":578,"user_id":10226695,"display_name":"Shavk with a Hoon"},"score":0,"creation_date":1656350765,"post_id":72776010,"comment_id":128545618,"body_markdown":"potentially. Generally when you get a negative you have overflowed. The max long is 9,223,372,036,854,775,807 which seems way bigger than your testing values so not sure exactly","body":"potentially. Generally when you get a negative you have overflowed. The max long is 9,223,372,036,854,775,807 which seems way bigger than your testing values so not sure exactly"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1656437561,"post_id":72776010,"comment_id":128570560,"body_markdown":"Streams are not always the best solution.  Especially if you want efficiency.  Of course for only five values, it doesn&#39;t make much difference.","body":"Streams are not always the best solution.  Especially if you want efficiency.  Of course for only five values, it doesn&#39;t make much difference."}],"answers":[{"tags":[],"owner":{"account_id":22211311,"reputation":66,"user_id":16450438,"display_name":"ShinyMustard22"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656432400,"creation_date":1656351613,"answer_id":72776286,"question_id":72776010,"body_markdown":"As @Benjamin W. has said, there seems to be some overflowing occurring here. It might have to do with the list containing Integer objects instead of longs, but you would have to look into it further. Your buffered reader seams like it is working perfectly fine.\r\n\r\nIf you just want a simple solution, you could just find the smallest number in the list, and omit it from the largest sum, and find the largest element from the list, and omit it from the smallest sum.\r\n\r\n```\r\npublic static void minmaxSum(List&lt;Integer&gt; arr) {\r\n    if (arr.size() == 0) return;\r\n\r\n    long max = arr.get(0):\r\n    long min = arr.get(0);\r\n\r\n    long maxSum = 0;\r\n    long minSum = 0;\r\n\r\n    for (Integer num : arr) {\r\n        long longNum = (long) num.intValue();\r\n        \r\n        maxSum += longNum;\r\n        minSum += longNum;\r\n\r\n        if (longNum &lt; min) min = longNum;\r\n        if (longNum &gt; max) max = longNum;\r\n    }\r\n\r\n    maxSum -= min;\r\n    minSum -= max;\r\n\r\n    System.out.println(minSum + &quot; &quot; + maxSum);\r\n}       \r\n```\r\n\r\nBesides, code like this is much more clear anyway.","title":"Calculating Min and Max sums from a List of Integer using Java 8 streams","body":"<p>As @Benjamin W. has said, there seems to be some overflowing occurring here. It might have to do with the list containing Integer objects instead of longs, but you would have to look into it further. Your buffered reader seams like it is working perfectly fine.</p>\n<p>If you just want a simple solution, you could just find the smallest number in the list, and omit it from the largest sum, and find the largest element from the list, and omit it from the smallest sum.</p>\n<pre><code>public static void minmaxSum(List&lt;Integer&gt; arr) {\n    if (arr.size() == 0) return;\n\n    long max = arr.get(0):\n    long min = arr.get(0);\n\n    long maxSum = 0;\n    long minSum = 0;\n\n    for (Integer num : arr) {\n        long longNum = (long) num.intValue();\n        \n        maxSum += longNum;\n        minSum += longNum;\n\n        if (longNum &lt; min) min = longNum;\n        if (longNum &gt; max) max = longNum;\n    }\n\n    maxSum -= min;\n    minSum -= max;\n\n    System.out.println(minSum + &quot; &quot; + maxSum);\n}       \n</code></pre>\n<p>Besides, code like this is much more clear anyway.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656380899,"creation_date":1656380899,"answer_id":72779889,"question_id":72776010,"body_markdown":"# `Math.addExact`\r\n\r\nAs explained in the [Answer by ShinyMustard22][1], you seem to be encountering problems with overflowing the limits of your integer type. \r\n\r\nAn overflow occurs with no warning to you. If you want to be informed when an overflow occurs, and you should want that, use the `Exact` methods found on the [`Math`][2] class. If an overflow occurs during the operation, an exception is thrown. You trap for that exception to resolve the situation in a manner of your choosing.\r\n\r\nFor example, [`Math.addExact( long x , long y )`][3]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72776286/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#addExact(long,long)","title":"Calculating Min and Max sums from a List of Integer using Java 8 streams","body":"<h1><code>Math.addExact</code></h1>\n<p>As explained in the <a href=\"https://stackoverflow.com/a/72776286/642706\">Answer by ShinyMustard22</a>, you seem to be encountering problems with overflowing the limits of your integer type.</p>\n<p>An overflow occurs with no warning to you. If you want to be informed when an overflow occurs, and you should want that, use the <code>Exact</code> methods found on the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html\" rel=\"nofollow noreferrer\"><code>Math</code></a> class. If an overflow occurs during the operation, an exception is thrown. You trap for that exception to resolve the situation in a manner of your choosing.</p>\n<p>For example, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#addExact(long,long)\" rel=\"nofollow noreferrer\"><code>Math.addExact( long x , long y )</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656412694,"creation_date":1656410591,"answer_id":72784445,"question_id":72776010,"body_markdown":"The overflow occurs because you are performing reduction on a stream of `Integer`, i.e. *accumulator* of the `reduce()` operation deals with `Interger` objects, and then you&#39;re assigning the overflown result of the calculation to a variable of type `long`.\r\n\r\n&lt;h3&gt;LongSummaryStatistics &amp; LongStream&lt;/h3&gt;\r\n\r\nSince only one value should be discarded in both cases (*for* **min** *and* **max** *sum*), we can approach this problem by calculating the *total* of all elements and subtracting the value of the *lowest element* to obtain the *maximum sum* and subtracting the value of the *highest element* to get the *minimum sum*.\r\n\r\nThere&#39;s no need to apply sorting and hard-code the value of `4` in the stream. If you don&#39;t want to develop bad habits, try to design your solutions to be clean and generalized.\r\n\r\nWe can get all three values (*total*, the *lowest element*, the *highest element*) by performing a single iteration over the given list. It can be done &quot;manually&quot; by tracking these values while iterating with a `for` loop, or we can make use of one of the *summary statistics* classes from the JDK to get this job done for us. \r\n\r\nFrom the *summary statistics* object we can extract information about the total sum, minimum and maximum values, using its methods `getSum()`, getMin() and `getMax()`. To avoid `int` overflow we have to use [`LongSummaryStatistics`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LongSummaryStatistics.html). And we can obtain this object from a `LongStream` by applying `summaryStatistics()` as a terminal operation.\r\n\r\n    public static void miniMaxSum(List&lt;Integer&gt; arr) {\r\n        LongSummaryStatistics statistics = arr.stream()\r\n            .mapToLong(i -&gt; i)\r\n            .summaryStatistics();\r\n        \r\n        long max = statistics.getSum() - statistics.getMin();\r\n        long min = statistics.getSum() - statistics.getMax();\r\n        \r\n        System.out.println(min + &quot; &quot; + max);\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        miniMaxSum(List.of(256741038, 623958417, 467905213, 714532089, 938071625));\r\n    }\r\n\r\n*Output:*\r\n```\r\n2063136757 2744467344\r\n```","title":"Calculating Min and Max sums from a List of Integer using Java 8 streams","body":"<p>The overflow occurs because you are performing reduction on a stream of <code>Integer</code>, i.e. <em>accumulator</em> of the <code>reduce()</code> operation deals with <code>Interger</code> objects, and then you're assigning the overflown result of the calculation to a variable of type <code>long</code>.</p>\n<h3>LongSummaryStatistics & LongStream</h3>\n<p>Since only one value should be discarded in both cases (<em>for</em> <strong>min</strong> <em>and</em> <strong>max</strong> <em>sum</em>), we can approach this problem by calculating the <em>total</em> of all elements and subtracting the value of the <em>lowest element</em> to obtain the <em>maximum sum</em> and subtracting the value of the <em>highest element</em> to get the <em>minimum sum</em>.</p>\n<p>There's no need to apply sorting and hard-code the value of <code>4</code> in the stream. If you don't want to develop bad habits, try to design your solutions to be clean and generalized.</p>\n<p>We can get all three values (<em>total</em>, the <em>lowest element</em>, the <em>highest element</em>) by performing a single iteration over the given list. It can be done &quot;manually&quot; by tracking these values while iterating with a <code>for</code> loop, or we can make use of one of the <em>summary statistics</em> classes from the JDK to get this job done for us.</p>\n<p>From the <em>summary statistics</em> object we can extract information about the total sum, minimum and maximum values, using its methods <code>getSum()</code>, getMin() and <code>getMax()</code>. To avoid <code>int</code> overflow we have to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LongSummaryStatistics.html\" rel=\"nofollow noreferrer\"><code>LongSummaryStatistics</code></a>. And we can obtain this object from a <code>LongStream</code> by applying <code>summaryStatistics()</code> as a terminal operation.</p>\n<pre><code>public static void miniMaxSum(List&lt;Integer&gt; arr) {\n    LongSummaryStatistics statistics = arr.stream()\n        .mapToLong(i -&gt; i)\n        .summaryStatistics();\n    \n    long max = statistics.getSum() - statistics.getMin();\n    long min = statistics.getSum() - statistics.getMax();\n    \n    System.out.println(min + &quot; &quot; + max);\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    miniMaxSum(List.of(256741038, 623958417, 467905213, 714532089, 938071625));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>2063136757 2744467344\n</code></pre>\n"}],"owner":{"account_id":18237870,"reputation":15,"user_id":13275464,"display_name":"Nasri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72784445,"answer_count":3,"score":1,"last_activity_date":1656432400,"creation_date":1656350165,"question_id":72776010,"body_markdown":"I am trying to solve the following challenge: \r\n\r\n&gt; Given five positive integers, find the minimum and maximum values that\r\n&gt; can be calculated by summing exactly four of the five integers. Then\r\n&gt; print the respective **minimum** and **maximum** values as a single line of\r\n&gt; two space-separated `long` integers.\r\n\r\nMy code which can be seen below is able to handle some test cases but fails others which I cannot seem to figure out, the issue seems to lie with the ```long max``` assignment statement, and probably with the ```.sorted(Collections.reverseOrder())``` component as that is the only tangible difference between the min vs max statements. \r\n\r\nExample test case where it works:\r\n\r\n```\r\nInput = [1, 2, 3, 4, 5]\r\n\r\nOutput = 10 (minimum), 14 (maximum)\r\n```\r\nExample test case where it **does not** work:\r\n\r\n```\r\nInput = [256741038, 623958417, \r\n   467905213, 714532089, 938071625]\r\n\r\nOutput = 2063136757 (minimum), \r\n  -1550499952 (maximum)\r\n\r\nExpected Output = 2063136757 \r\n  (minimum), 2744467344 (maximum)\r\n```\r\n\r\n*My code:*\r\n\r\n```\r\nclass Result {\r\n\t\r\n\t/*\r\n\t * Complete the &#39;miniMaxSum&#39; function below.\r\n\t *\r\n\t * The function accepts. INTEGER_ARRAY arr as parameter.\r\n\t */\r\n\t\r\n\tpublic static void miniMaxSum(List&lt;Integer&gt; arr) {\r\n\t\tlong max = arr.stream().sorted(Collections.reverseOrder())\r\n\t\t\t\t.limit(4)\r\n\t\t\t\t.reduce(0, (subtotal, element) -&gt; subtotal + element);\r\n\t\tlong min = arr.stream().sorted().limit(4).reduce(0,\r\n\t\t\t\t(subtotal, element) -&gt; subtotal + element);\r\n\t\tSystem.out.println(min + &quot; &quot; + max);\r\n\t}\r\n}\r\n\r\npublic class Solution {\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tBufferedReader bufferedReader =\r\n\t\t\t\tnew BufferedReader(new InputStreamReader(System.in));\r\n\t\t\r\n\t\tList&lt;Integer&gt; arr = Stream\r\n\t\t\t\t.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;)\r\n\t\t\t\t\t\t.split(&quot; &quot;))\r\n\t\t\t\t.map(Integer::parseInt).collect(toList());\r\n\t\t\r\n\t\tResult.miniMaxSum(arr);\r\n\t\t\r\n\t\tbufferedReader.close();\r\n\t}\r\n}\r\n","title":"Calculating Min and Max sums from a List of Integer using Java 8 streams","body":"<p>I am trying to solve the following challenge:</p>\n<blockquote>\n<p>Given five positive integers, find the minimum and maximum values that\ncan be calculated by summing exactly four of the five integers. Then\nprint the respective <strong>minimum</strong> and <strong>maximum</strong> values as a single line of\ntwo space-separated <code>long</code> integers.</p>\n</blockquote>\n<p>My code which can be seen below is able to handle some test cases but fails others which I cannot seem to figure out, the issue seems to lie with the <code>long max</code> assignment statement, and probably with the <code>.sorted(Collections.reverseOrder())</code> component as that is the only tangible difference between the min vs max statements.</p>\n<p>Example test case where it works:</p>\n<pre><code>Input = [1, 2, 3, 4, 5]\n\nOutput = 10 (minimum), 14 (maximum)\n</code></pre>\n<p>Example test case where it <strong>does not</strong> work:</p>\n<pre><code>Input = [256741038, 623958417, \n   467905213, 714532089, 938071625]\n\nOutput = 2063136757 (minimum), \n  -1550499952 (maximum)\n\nExpected Output = 2063136757 \n  (minimum), 2744467344 (maximum)\n</code></pre>\n<p><em>My code:</em></p>\n<pre><code>class Result {\n    \n    /*\n     * Complete the 'miniMaxSum' function below.\n     *\n     * The function accepts. INTEGER_ARRAY arr as parameter.\n     */\n    \n    public static void miniMaxSum(List&lt;Integer&gt; arr) {\n        long max = arr.stream().sorted(Collections.reverseOrder())\n                .limit(4)\n                .reduce(0, (subtotal, element) -&gt; subtotal + element);\n        long min = arr.stream().sorted().limit(4).reduce(0,\n                (subtotal, element) -&gt; subtotal + element);\n        System.out.println(min + &quot; &quot; + max);\n    }\n}\n\npublic class Solution {\n    public static void main(String[] args) throws IOException {\n        BufferedReader bufferedReader =\n                new BufferedReader(new InputStreamReader(System.in));\n        \n        List&lt;Integer&gt; arr = Stream\n                .of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;)\n                        .split(&quot; &quot;))\n                .map(Integer::parseInt).collect(toList());\n        \n        Result.miniMaxSum(arr);\n        \n        bufferedReader.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","aspose","aspose-cells"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656407291,"post_id":72783584,"comment_id":128558445,"body_markdown":"How do you run the JAR? Are all dependent libraries listed in the `Class-Path` attribute of the `META-INF/MANIFEST.MF`, and in the right position relative to the JAR? Or did you create an uberjar?","body":"How do you run the JAR? Are all dependent libraries listed in the <code>Class-Path</code> attribute of the <code>META-INF&#47;MANIFEST.MF</code>, and in the right position relative to the JAR? Or did you create an uberjar?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656407305,"post_id":72783584,"comment_id":128558454,"body_markdown":"Did you bundle or reference the aspose library with your jar?","body":"Did you bundle or reference the aspose library with your jar?"},{"owner":{"account_id":22696564,"reputation":1,"user_id":16864604,"display_name":"Tvrsier"},"score":0,"creation_date":1656407426,"post_id":72783584,"comment_id":128558490,"body_markdown":"simply by java -jar file.jar\nthis is the .MF\nManifest-Version: 1.0\nCreated-By: Maven JAR Plugin 3.2.2\nBuild-Jdk-Spec: 11\nClass-Path: aspose-cells-22.6.jar\nMain-Class: src.main.java.MainClass","body":"simply by java -jar file.jar this is the .MF Manifest-Version: 1.0 Created-By: Maven JAR Plugin 3.2.2 Build-Jdk-Spec: 11 Class-Path: aspose-cells-22.6.jar Main-Class: src.main.java.MainClass"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656407826,"post_id":72783584,"comment_id":128558631,"body_markdown":"Please [edit] your question instead of adding details in the comments. Is aspose-cells-22.6.jar located in the same directory as your jar?","body":"Please <a href=\"https://stackoverflow.com/posts/72783584/edit\">edit</a> your question instead of adding details in the comments. Is aspose-cells-22.6.jar located in the same directory as your jar?"},{"owner":{"account_id":22696564,"reputation":1,"user_id":16864604,"display_name":"Tvrsier"},"score":0,"creation_date":1656409237,"post_id":72783584,"comment_id":128559228,"body_markdown":"No, there isn&#39;t the aspose jar in the directory","body":"No, there isn&#39;t the aspose jar in the directory"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656411708,"post_id":72783584,"comment_id":128560167,"body_markdown":"Then there is your problem (as an aside, if you want people to get notified, use `@&lt;username&gt;`). Configure Maven to copy the dependencies to the output directory, or do it yourself, or create an uberjar (aka fatjar) instead.","body":"Then there is your problem (as an aside, if you want people to get notified, use <code>@&lt;username&gt;</code>). Configure Maven to copy the dependencies to the output directory, or do it yourself, or create an uberjar (aka fatjar) instead."}],"answers":[{"tags":[],"owner":{"account_id":22696564,"reputation":1,"user_id":16864604,"display_name":"Tvrsier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656432392,"creation_date":1656432392,"answer_id":72789824,"question_id":72783584,"body_markdown":"I solved this by changing the build in my pom.xml\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;eu.tvrsier.MainClass&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;jar-with-dependencies&lt;/descriptorRefs&gt;\r\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;eu.tvrsier.MainClass&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nbefore those changes i was creating a package, so i had maven-plugin instead of maven-assembly-plugin in the artifact ID, and I&#39;ve added the executions block too","title":"NoClassDefFoundError, but the code works and the class exists","body":"<p>I solved this by changing the build in my pom.xml</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;mainClass&gt;eu.tvrsier.MainClass&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;descriptorRefs&gt;jar-with-dependencies&lt;/descriptorRefs&gt;\n                &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.0.8&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                    &lt;id&gt;default-cli&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;eu.tvrsier.MainClass&lt;/mainClass&gt;\n                        &lt;launcher&gt;app&lt;/launcher&gt;\n                        &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                        &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                        &lt;noManPages&gt;true&lt;/noManPages&gt;\n                        &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                        &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>before those changes i was creating a package, so i had maven-plugin instead of maven-assembly-plugin in the artifact ID, and I've added the executions block too</p>\n"}],"owner":{"account_id":22696564,"reputation":1,"user_id":16864604,"display_name":"Tvrsier"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656432392,"creation_date":1656406881,"question_id":72783584,"body_markdown":"I have a Maven project and I&#39;m using Aspose cells to manipulate an xlsx file. Aspose is configured through the POM\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n[...]\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;AsposeJavaAPI&lt;/id&gt;\r\n            &lt;name&gt;Aspose Java API&lt;/name&gt;\r\n            &lt;url&gt;https://repository.aspose.com/repo/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aspose&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspose-cells&lt;/artifactId&gt;\r\n            &lt;version&gt;22.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nNow, when I test the project as a Java application there is no error. The code runs successfully, but when I execute the generated JAR this is what I get:\r\n\r\n    descrizione sconto\r\n    descrizione\r\n    codice sconto\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/aspose/cells/SaveOptions\r\n            at src.main.java.MainClass.main(MainClass.java:44)\r\n    Caused by: java.lang.ClassNotFoundException: com.aspose.cells.SaveOptions\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n            ... 1 more\r\n\r\nThe first three rows are the console output of the project, the output files are created too, but that error shows up.\r\n\r\nI&#39;m using IntelliJ IDEA, Java version: JDK17.0.2, Maven version: Maven 3.8.1\r\n","title":"NoClassDefFoundError, but the code works and the class exists","body":"<p>I have a Maven project and I'm using Aspose cells to manipulate an xlsx file. Aspose is configured through the POM</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n[...]\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;AsposeJavaAPI&lt;/id&gt;\n            &lt;name&gt;Aspose Java API&lt;/name&gt;\n            &lt;url&gt;https://repository.aspose.com/repo/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aspose&lt;/groupId&gt;\n            &lt;artifactId&gt;aspose-cells&lt;/artifactId&gt;\n            &lt;version&gt;22.6&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Now, when I test the project as a Java application there is no error. The code runs successfully, but when I execute the generated JAR this is what I get:</p>\n<pre><code>descrizione sconto\ndescrizione\ncodice sconto\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/aspose/cells/SaveOptions\n        at src.main.java.MainClass.main(MainClass.java:44)\nCaused by: java.lang.ClassNotFoundException: com.aspose.cells.SaveOptions\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 1 more\n</code></pre>\n<p>The first three rows are the console output of the project, the output files are created too, but that error shows up.</p>\n<p>I'm using IntelliJ IDEA, Java version: JDK17.0.2, Maven version: Maven 3.8.1</p>\n"},{"tags":["java","json","hide"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1656432884,"post_id":72789761,"comment_id":128568967,"body_markdown":"Which json library do you use? If you use jackson, did you try putting `@JsonIgnore` on the method(either abstract or concrete implementation)? If you use something else did you try its&#39; `@JsonIgnore` equivalent.","body":"Which json library do you use? If you use jackson, did you try putting <code>@JsonIgnore</code> on the method(either abstract or concrete implementation)? If you use something else did you try its&#39; <code>@JsonIgnore</code> equivalent."},{"owner":{"account_id":22190110,"reputation":11,"user_id":16432442,"display_name":"Thomas"},"score":0,"creation_date":1656433429,"post_id":72789761,"comment_id":128569196,"body_markdown":"@Chaosfire Hey. How can I check which one json library I have?","body":"@Chaosfire Hey. How can I check which one json library I have?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1656434496,"post_id":72789761,"comment_id":128569536,"body_markdown":"Depends on your build tool, `pom.xml` for maven, `build.gradle` for gradle, if it&#39;s something else i don&#39;t know. Keep in mind it&#39;s probably transitive dependency, so it might not be directly visible.","body":"Depends on your build tool, <code>pom.xml</code> for maven, <code>build.gradle</code> for gradle, if it&#39;s something else i don&#39;t know. Keep in mind it&#39;s probably transitive dependency, so it might not be directly visible."}],"owner":{"account_id":22190110,"reputation":11,"user_id":16432442,"display_name":"Thomas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656432112,"creation_date":1656432112,"question_id":72789761,"body_markdown":"Is it possible to hide in Json `getCount()`? I need to use it in my code for counting, but don&#39;t want to see it in Json. I wanted to use `transient`, but for `public abstract` it doesn&#39;t allow. Any ideas how can I reach my goal?\r\n\r\n`public abstract class` code:\r\n\r\n    \t@Override\r\n    \tpublic int compareTo(Plan that) {\r\n    \t\tBigDecimal thisValue = this.getCount();\r\n    \t\tif (thisValue == null) {\r\n    \t\t\treturn 1;\r\n    \t\t}\r\n    \t\tBigDecimal thatValue = that.getCount();\r\n    \t\tif (thatValue == null) {\r\n    \t\t\treturn -1;\r\n    \t\t}\r\n    \t\treturn thisValue.compareTo(thatValue);\r\n    \t}\r\n    \r\n    public abstract BigDecimal getCount();\r\n\r\nAnd another `public class` with code:\r\n\r\n    @Override\r\n    public final BigDecimal getCount() {\r\n    \tif (exists != null) {\r\n    \t\treturn plan.getCount();\r\n    \t}\r\n    \treturn null;\r\n    }","title":"How to hide Java public abstract class field?","body":"<p>Is it possible to hide in Json <code>getCount()</code>? I need to use it in my code for counting, but don't want to see it in Json. I wanted to use <code>transient</code>, but for <code>public abstract</code> it doesn't allow. Any ideas how can I reach my goal?</p>\n<p><code>public abstract class</code> code:</p>\n<pre><code>    @Override\n    public int compareTo(Plan that) {\n        BigDecimal thisValue = this.getCount();\n        if (thisValue == null) {\n            return 1;\n        }\n        BigDecimal thatValue = that.getCount();\n        if (thatValue == null) {\n            return -1;\n        }\n        return thisValue.compareTo(thatValue);\n    }\n\npublic abstract BigDecimal getCount();\n</code></pre>\n<p>And another <code>public class</code> with code:</p>\n<pre><code>@Override\npublic final BigDecimal getCount() {\n    if (exists != null) {\n        return plan.getCount();\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","dropwizard","codahale-metrics"],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656431599,"creation_date":1656431599,"question_id":72789641,"body_markdown":"I try to implement simple sring boot application with dropwizard metrics\r\n\r\n**My codebase**:\r\n\r\n    @SpringBootApplication\r\n    @EnableMetrics(proxyTargetClass = true)\r\n    public class DemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n    \t\tMetricRegistry metricRegistry = new MetricRegistry();\r\n    \r\n    \t\tMeter meter = metricRegistry.meter(&quot;meter&quot;);\r\n    \t\tmeter.mark();\r\n    \t\tmeter.mark(200);\r\n    \t\tConsoleReporter reporter = ConsoleReporter.forRegistry(metricRegistry).build();\r\n    \t\treporter.start(5, TimeUnit.SECONDS);\r\n    \t\treporter.report();\r\n    \r\n    \t\tCounter counter = metricRegistry.counter(&quot;counter&quot;);\r\n    \t\tcounter.inc();\r\n    \t\tcounter.dec();\r\n    \r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    \r\n    }\r\n    \r\n    @RestController\r\n    public class HelloController {\r\n        private AtomicLong atomicLong = new AtomicLong();\r\n    \r\n        @GetMapping(&quot;/hello&quot;)\r\n        @Timed\r\n        public String index() {\r\n            return &quot;Greetings from Spring Boot!. count=&quot; + atomicLong.incrementAndGet();\r\n        }\r\n    \r\n    }\r\n\r\n**build.gradle:**\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.7.1&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\r\n    \t// Minimum required for metrics.\r\n    \timplementation (&#39;com.ryantenney.metrics:metrics-spring:3.1.3&#39;) {\r\n    \t\texclude group: &#39;com.codahale.metrics&#39;\r\n    \t\texclude group: &#39;org.springframework&#39;\r\n    \t}\r\n    \timplementation &#39;io.dropwizard.metrics:metrics-core:4.2.9&#39;\r\n    \timplementation &#39;io.dropwizard.metrics:metrics-annotation:4.2.9&#39;\r\n    \timplementation &#39;io.dropwizard.metrics:metrics-servlets:4.2.9&#39;\r\n    \r\n    \timplementation &#39;io.prometheus:simpleclient_dropwizard:0.15.0&#39;\r\n    \timplementation &#39;io.prometheus:simpleclient_servlet:0.15.0&#39;\r\n    \timplementation &#39;io.dropwizard:dropwizard-core:2.1.0&#39;\r\n    \r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\n\r\nThis code produces following output to logs:\r\n\r\n\r\n    28.06.2022, 18:46:19 ===========================================================\r\n    \r\n    -- Counters --------------------------------------------------------------------\r\n    counter\r\n                 count = 0\r\n    \r\n    -- Meters ----------------------------------------------------------------------\r\n    meter\r\n                 count = 201\r\n             mean rate = 5,69 events/second\r\n         1-minute rate = 24,38 events/second\r\n         5-minute rate = 36,37 events/second\r\n        15-minute rate = 38,88 events/second\r\n\r\n\r\n\r\nI don&#39;t see any mentiones of this endpoint calls. How can I fix it ?     \r\n   \r\n\r\n     @GetMapping(&quot;/hello&quot;)\r\n        @Timed\r\n        public String index() {\r\n            return &quot;Greetings from Spring Boot!. count=&quot; + atomicLong.incrementAndGet();\r\n        }","title":"Method marked with @Timed is not a part of ConsoleReporter output","body":"<p>I try to implement simple sring boot application with dropwizard metrics</p>\n<p><strong>My codebase</strong>:</p>\n<pre><code>@SpringBootApplication\n@EnableMetrics(proxyTargetClass = true)\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        MetricRegistry metricRegistry = new MetricRegistry();\n\n        Meter meter = metricRegistry.meter(&quot;meter&quot;);\n        meter.mark();\n        meter.mark(200);\n        ConsoleReporter reporter = ConsoleReporter.forRegistry(metricRegistry).build();\n        reporter.start(5, TimeUnit.SECONDS);\n        reporter.report();\n\n        Counter counter = metricRegistry.counter(&quot;counter&quot;);\n        counter.inc();\n        counter.dec();\n\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n\n@RestController\npublic class HelloController {\n    private AtomicLong atomicLong = new AtomicLong();\n\n    @GetMapping(&quot;/hello&quot;)\n    @Timed\n    public String index() {\n        return &quot;Greetings from Spring Boot!. count=&quot; + atomicLong.incrementAndGet();\n    }\n\n}\n</code></pre>\n<p><strong>build.gradle:</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.1'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\n    // Minimum required for metrics.\n    implementation ('com.ryantenney.metrics:metrics-spring:3.1.3') {\n        exclude group: 'com.codahale.metrics'\n        exclude group: 'org.springframework'\n    }\n    implementation 'io.dropwizard.metrics:metrics-core:4.2.9'\n    implementation 'io.dropwizard.metrics:metrics-annotation:4.2.9'\n    implementation 'io.dropwizard.metrics:metrics-servlets:4.2.9'\n\n    implementation 'io.prometheus:simpleclient_dropwizard:0.15.0'\n    implementation 'io.prometheus:simpleclient_servlet:0.15.0'\n    implementation 'io.dropwizard:dropwizard-core:2.1.0'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>This code produces following output to logs:</p>\n<pre><code>28.06.2022, 18:46:19 ===========================================================\n\n-- Counters --------------------------------------------------------------------\ncounter\n             count = 0\n\n-- Meters ----------------------------------------------------------------------\nmeter\n             count = 201\n         mean rate = 5,69 events/second\n     1-minute rate = 24,38 events/second\n     5-minute rate = 36,37 events/second\n    15-minute rate = 38,88 events/second\n</code></pre>\n<p>I don't see any mentiones of this endpoint calls. How can I fix it ?</p>\n<pre><code> @GetMapping(&quot;/hello&quot;)\n    @Timed\n    public String index() {\n        return &quot;Greetings from Spring Boot!. count=&quot; + atomicLong.incrementAndGet();\n    }\n</code></pre>\n"},{"tags":["java","javafx","keyboard"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1656364476,"post_id":72778007,"comment_id":128549761,"body_markdown":"The `Robot` or `FXRobot` class may be the perfect solution here because it works system wide. For examples see [Robot and keyPress](https://stackoverflow.com/questions/18165493/robot-and-keypress) and [Use a robot to type characters in Java](https://stackoverflow.com/questions/6641962/use-a-robot-to-type-characters-in-java)","body":"The <code>Robot</code> or <code>FXRobot</code> class may be the perfect solution here because it works system wide. For examples see <a href=\"https://stackoverflow.com/questions/18165493/robot-and-keypress\">Robot and keyPress</a> and <a href=\"https://stackoverflow.com/questions/6641962/use-a-robot-to-type-characters-in-java\">Use a robot to type characters in Java</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1656366770,"post_id":72778007,"comment_id":128550346,"body_markdown":"Without knowing the interfaces and protocols the other machine provides for remote communication and how to make use of them, I don&#39;t think this can be answered, even then I think it is unlikely to be answerable in the StackOverflow context.  If you are lucky, and sorifend&#39;s robot solution works for you, then, great, if not, well, not so great ;-)","body":"Without knowing the interfaces and protocols the other machine provides for remote communication and how to make use of them, I don&#39;t think this can be answered, even then I think it is unlikely to be answerable in the StackOverflow context.  If you are lucky, and sorifend&#39;s robot solution works for you, then, great, if not, well, not so great ;-)"},{"owner":{"account_id":17216137,"reputation":31,"user_id":16906770,"display_name":"Armin Brki"},"score":0,"creation_date":1656426884,"post_id":72778007,"comment_id":128566412,"body_markdown":"I tried like this\n\nFXRobot robot = FXRobotFactory.createRobot(background.getScene());\n            robot.keyPress(javafx.scene.input.KeyCode.WINDOWS);\nBut windows can&#39;t see that click","body":"I tried like this  FXRobot robot = FXRobotFactory.createRobot(background.getScene());             robot.keyPress(javafx.scene.input.KeyCode.WINDOWS); But windows can&#39;t see that click"}],"owner":{"account_id":17216137,"reputation":31,"user_id":16906770,"display_name":"Armin Brki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656431047,"creation_date":1656362133,"question_id":72778007,"body_markdown":"I want to make a custom keyboard to control the CNC machine. The keyboard on the machine itself was damaged and my idea is to replace it with a touch screen. I made a program that looks similar to a keyboard, the keys I click work but only within my program.\r\n\r\nHow do I pass the clicks on my virtual keyboard to Windows / another program?\r\n\r\nHere is UI\r\n[my UI][1]\r\n\r\nKey listeners\r\n\r\n    @FXML\r\n    void clickOnZero(TouchEvent event) {\r\n        KeyEvent press = new KeyEvent(zero_btn, zero_btn, KeyEvent.KEY_PRESSED, &quot;&quot;, &quot;&quot;, KeyCode.DIGIT0, false, false, false, false);\r\n        shift_btn.fireEvent(press);\r\n    }\r\n\r\nEDIT\r\n\r\nTo be a little clearer. My program is a keyboard and separately is the original program for CNC. I would split the screen in two and it would work that way. My problem is how to click on a key in my program to simulate the keystroke on an actual keyboard so that the CNC program can see it\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bu9d8.png","title":"JavaFX custom keyboard forward clicks to other programs","body":"<p>I want to make a custom keyboard to control the CNC machine. The keyboard on the machine itself was damaged and my idea is to replace it with a touch screen. I made a program that looks similar to a keyboard, the keys I click work but only within my program.</p>\n<p>How do I pass the clicks on my virtual keyboard to Windows / another program?</p>\n<p>Here is UI\n<a href=\"https://i.stack.imgur.com/bu9d8.png\" rel=\"nofollow noreferrer\">my UI</a></p>\n<p>Key listeners</p>\n<pre><code>@FXML\nvoid clickOnZero(TouchEvent event) {\n    KeyEvent press = new KeyEvent(zero_btn, zero_btn, KeyEvent.KEY_PRESSED, &quot;&quot;, &quot;&quot;, KeyCode.DIGIT0, false, false, false, false);\n    shift_btn.fireEvent(press);\n}\n</code></pre>\n<p>EDIT</p>\n<p>To be a little clearer. My program is a keyboard and separately is the original program for CNC. I would split the screen in two and it would work that way. My problem is how to click on a key in my program to simulate the keystroke on an actual keyboard so that the CNC program can see it</p>\n"},{"tags":["java","string","date"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1656429365,"post_id":72789048,"comment_id":128567562,"body_markdown":"My idea would be to take a look at the java.time classes, and learn the basics of parsing and formatting with those classes: [Java string to date conversion](https://stackoverflow.com/questions/4216745/java-string-to-date-conversion)","body":"My idea would be to take a look at the java.time classes, and learn the basics of parsing and formatting with those classes: <a href=\"https://stackoverflow.com/questions/4216745/java-string-to-date-conversion\">Java string to date conversion</a>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656429489,"post_id":72789048,"comment_id":128567609,"body_markdown":"if you have a String like `January`, then you can do `Month.valueOf(&quot;January&quot;.toUpperCase()).getValue()` to get the numeric value","body":"if you have a String like <code>January</code>, then you can do <code>Month.valueOf(&quot;January&quot;.toUpperCase()).getValue()</code> to get the numeric value"}],"owner":{"account_id":5368006,"reputation":2152,"user_id":4277293,"accept_rate":62,"display_name":"RishiKesh Pathak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656431588,"answer_count":0,"score":0,"last_activity_date":1656430715,"creation_date":1656429212,"question_id":72789048,"body_markdown":"For JAVA: I need a method that takes a date with the month in letters like &quot;January&quot; or &quot;JAN&quot; and finds it&#39;s correspondent &quot;01&quot;. \r\n\r\nCan you give me any ideas?","title":"How to transform a String &quot;JUN 28, 2022&quot; in another string &quot;06-28-2022&quot;","body":"<p>For JAVA: I need a method that takes a date with the month in letters like &quot;January&quot; or &quot;JAN&quot; and finds it's correspondent &quot;01&quot;.</p>\n<p>Can you give me any ideas?</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":1,"creation_date":1656425541,"post_id":72784976,"comment_id":128565869,"body_markdown":"The `saveAll` method does not delete anything, it only saves(insert or updates) whatever is in the `Iterable` you pass as an argument. Also, what do you mean by &quot;creation date&quot;? If it&#39;s a field in the Database, you simply do not modify it in your code. What have you tried? How did you come to the conclusion that `saveAll` deletes anything? More details would be helpful.","body":"The <code>saveAll</code> method does not delete anything, it only saves(insert or updates) whatever is in the <code>Iterable</code> you pass as an argument. Also, what do you mean by &quot;creation date&quot;? If it&#39;s a field in the Database, you simply do not modify it in your code. What have you tried? How did you come to the conclusion that <code>saveAll</code> deletes anything? More details would be helpful."},{"owner":{"account_id":20222092,"reputation":109,"user_id":14831240,"display_name":"kiki keke"},"score":0,"creation_date":1656430701,"post_id":72784976,"comment_id":128568101,"body_markdown":"I have fewer rows after my second call from my batch","body":"I have fewer rows after my second call from my batch"}],"owner":{"account_id":20222092,"reputation":109,"user_id":14831240,"display_name":"kiki keke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656430486,"creation_date":1656412833,"question_id":72784976,"body_markdown":"I want a function that massively updates and inserts data for better performance.\r\nAnd I don&#39;t want to delete everything, like the default saveAll function. \r\nAnd above all the function must not change the creation date.\r\n\r\nsaveAll(list&lt;myObjetc&gt; changeOrNewOjects)\r\n\r\n``````java\r\n@Entity\r\n@DynamicUpdate\r\n@EntityListeners(AuditingEntityListener.class)\r\npublic class Dom {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate int id;\r\n\t// more attribute\r\n\t@CreatedDate\r\n\t@Column(updatable = false)\r\n\tprivate Date dateCreation;\r\n\t//Getter and setter\r\n    // contuctors\r\n\t}\r\n\r\n\r\n\r\n}\r\npublic interface  DomRepository extends CrudRepository&lt;Dom, String&gt; {\r\n}\r\n``````\r\ndatabase.dom -&gt; 2500 rows\r\n\r\n`lstDomData.size()` -&gt; 154\r\n\r\n`domServices.savAll(lstDomData);`\r\n\r\ndatabase.dom -&gt; 154 rows\r\n","title":"How make saveAll with jparepository with no delete only updates or insert?","body":"<p>I want a function that massively updates and inserts data for better performance.\nAnd I don't want to delete everything, like the default saveAll function.\nAnd above all the function must not change the creation date.</p>\n<p>saveAll(list changeOrNewOjects)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@DynamicUpdate\n@EntityListeners(AuditingEntityListener.class)\npublic class Dom {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private int id;\n    // more attribute\n    @CreatedDate\n    @Column(updatable = false)\n    private Date dateCreation;\n    //Getter and setter\n    // contuctors\n    }\n\n\n\n}\npublic interface  DomRepository extends CrudRepository&lt;Dom, String&gt; {\n}\n</code></pre>\n<p>database.dom -&gt; 2500 rows</p>\n<p><code>lstDomData.size()</code> -&gt; 154</p>\n<p><code>domServices.savAll(lstDomData);</code></p>\n<p>database.dom -&gt; 154 rows</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11951164,"reputation":2403,"user_id":9935369,"display_name":"Roberto Manfreda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656414036,"creation_date":1656414036,"answer_id":72785251,"question_id":72781828,"body_markdown":"I think rotating-fos could be a good solution.  \r\nAnyway if you want to do it manually you can improve your code by combining two classes (`Logger` and `FileHandler`) from the `java.util.logging` package.\r\n\r\nI wrote a little PoC, try to play around with it if you think that can be helpful.\r\n\r\n```java\r\npublic static void main(String[] args) throws IOException {\r\n    FileHandler fileHandler = new FileHandler(&quot;the_log.json&quot;, 100, 100, true);\r\n    fileHandler.setFormatter(new Formatter() {\r\n      @Override\r\n      public String format(LogRecord record) {\r\n        // here you could pretty print the content or doing elaborations on the content...\r\n        return record.getMessage();\r\n      }\r\n    });\r\n\r\n    Logger jsonLogger = Logger.getLogger(&quot;MyJsonLogger&quot;);\r\n    jsonLogger.setLevel(Level.ALL);\r\n    jsonLogger.addHandler(fileHandler);\r\n\r\n    for (int i = 0; i &lt; 999; i++) {\r\n      jsonLogger.log(Level.ALL, i + &quot;\\n&quot;);\r\n    }\r\n}\r\n```\r\n\r\nPlease note that the `FileHandler` input parameters are a little bit tricky, here&#39;s the [docs][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/logging/FileHandler.html#FileHandler(java.lang.String,%20int,%20int,%20boolean)","title":"Writing json data to text file and creating new file dynamically when size limit is reached for first file","body":"<p>I think rotating-fos could be a good solution.<br />\nAnyway if you want to do it manually you can improve your code by combining two classes (<code>Logger</code> and <code>FileHandler</code>) from the <code>java.util.logging</code> package.</p>\n<p>I wrote a little PoC, try to play around with it if you think that can be helpful.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException {\n    FileHandler fileHandler = new FileHandler(&quot;the_log.json&quot;, 100, 100, true);\n    fileHandler.setFormatter(new Formatter() {\n      @Override\n      public String format(LogRecord record) {\n        // here you could pretty print the content or doing elaborations on the content...\n        return record.getMessage();\n      }\n    });\n\n    Logger jsonLogger = Logger.getLogger(&quot;MyJsonLogger&quot;);\n    jsonLogger.setLevel(Level.ALL);\n    jsonLogger.addHandler(fileHandler);\n\n    for (int i = 0; i &lt; 999; i++) {\n      jsonLogger.log(Level.ALL, i + &quot;\\n&quot;);\n    }\n}\n</code></pre>\n<p>Please note that the <code>FileHandler</code> input parameters are a little bit tricky, here's the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/logging/FileHandler.html#FileHandler(java.lang.String,%20int,%20int,%20boolean)\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656414769,"creation_date":1656414769,"answer_id":72785418,"question_id":72781828,"body_markdown":"JSON files should be in UTF-8 encoding. `FileWriter` is a convenience class using the default operating system encoding. So non-portable.\r\nFor UUIDs (ASCII) that would function, but it is a ticking time bomb.\r\n\r\nJust appending UUIDs misses spacing or such.\r\n\r\n    writer.append(UUID.randomUUID().toString()).append(&quot;\\r\\n&quot;);\r\n\r\nYou can use a logger for rolling file appenders. The hander can be tied to your class, so there is no interference.\r\n","title":"Writing json data to text file and creating new file dynamically when size limit is reached for first file","body":"<p>JSON files should be in UTF-8 encoding. <code>FileWriter</code> is a convenience class using the default operating system encoding. So non-portable.\nFor UUIDs (ASCII) that would function, but it is a ticking time bomb.</p>\n<p>Just appending UUIDs misses spacing or such.</p>\n<pre><code>writer.append(UUID.randomUUID().toString()).append(&quot;\\r\\n&quot;);\n</code></pre>\n<p>You can use a logger for rolling file appenders. The hander can be tied to your class, so there is no interference.</p>\n"}],"owner":{"account_id":13747594,"reputation":754,"user_id":9920733,"display_name":"Akki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1656430091,"creation_date":1656398809,"question_id":72781828,"body_markdown":"I have a spring-boot application which is constantly writing JSON data to text file in a given location.\r\nNow, I also want to create new text files dynamically, once the size limit is reached.\r\n\r\nI was thinking of handling above things manually with code something like this\r\n\r\n\t\tfor (int i = 1; i &lt; 1000; i++) {\r\n\t\t\ttry {\r\n\t\t\t\tFile f = new File(FILE_LOCATION + fileName);\r\n\t\t\t\tfileSize = Files.size(f.toPath());\r\n\t\t\t\tSystem.out.println(&quot;filesize: &quot; + fileSize);\r\n\r\n\t\t\t\tif (f.exists()) {\r\n\t\t\t\t\tif (fileSize &gt; SIZE_1KB) {\r\n\t\t\t\t\t\twriter = new FileWriter(FILE_LOCATION + &quot;00&quot; + i + &quot;.txt&quot;);\r\n\t\t\t\t\t\tfileName = &quot;00&quot; + i + &quot;.txt&quot;;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\twriter = new FileWriter(FILE_LOCATION + fileName, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\twriter = new FileWriter(FILE_LOCATION + fileName);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// use writer to write data\r\n\r\n\t\t\t\tif (f.exists()) {\r\n\t\t\t\t\tfor (int j = 0; j &lt; 10; j++)\r\n\t\t\t\t\t\twriter.append(UUID.randomUUID().toString());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (int j = 0; j &lt; 10; j++)\r\n\t\t\t\t\t\twriter.write(UUID.randomUUID().toString());\r\n\t\t\t\t}\r\n\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\r\n**This is just a piece of code that I created to post the question here.** \r\nBut, the logic of writing data to file is similar to the one I was using in spring-boot application.\r\n\r\nAlso, if I want to handle things manually, I&#39;ll have to handle lot of things myself apart from creating new files when size limit is reached. Things like moving files to archived folder, when date if changed, deleting older files from archived folder when size limit of archived folder is reached, etc.\r\n\r\nI&#39;ve also looked into logback.xml configuration, but that&#39;s already being used for rolling out log files. So, I don&#39;t think I can use that here.\r\n\r\nAt this point, I feel like there might be a better way to do all this instead of handling it on our own manually. If anyone can suggest any library or framework or anything, it will be a great help.\r\n\r\n**Edit:**\r\nOkay, have come across [rotating-fos][1]. Trying to determine appropriate configuration, which can meet my general requirements of rotating based on size, date, deleting old records and when size limit reached.\r\n\r\n**Edit 2:**\r\nI&#39;ve currently used rotating-fos library to achieve all the things mentioned above except deletion of files. Since, in my use case, text files are pushed to a data pipeline via separate procedure, which will again take care of removal of those files.\r\n\r\n\tprivate void processEntry(Map&lt;String, Object&gt; entry) {\r\n\t\ttry {\r\n\t\t\tString path = jsonProcessingPath + &quot;/&quot; + CALL_DATA + &quot;/&quot;;\r\n\t\t\tSimpleDateFormat format = new SimpleDateFormat(DATE_FORMAT);\r\n\t\t\tFile dir = new File(path + format.format(new Date()));\r\n\r\n\t\t\tif (!dir.exists())\r\n\t\t\t\tdir.mkdir();\r\n\r\n\t\t\tString fileName = CALL_DATA_FILE_NAME;\r\n\t\t\tFile file = new File(dir.getAbsolutePath() + &quot;//&quot; + fileName);\r\n\t\t\tif (!file.exists())\r\n\t\t\t\tfile.createNewFile();\r\n\r\n\t\t\tRotationConfig config = RotationConfig.builder().file(file.getAbsolutePath())\r\n\t\t\t\t\t.filePattern(dir + &quot;/&quot; + CALL_DATA_FILE_NAME + &quot;.%d{HHmmss}.txt&quot;)\r\n\t\t\t\t\t.policy(new SizeBasedRotationPolicy(Long.parseLong(SIZE_LIMIT)))\r\n\t\t\t\t\t.policy(DailyRotationPolicy.getInstance()).build();\r\n\t\t\tRotatingFileOutputStream outputStream = new RotatingFileOutputStream(config);\r\n\r\n\t\t\tGson gson = new Gson();\r\n\t\t\tString json = gson.toJson(entry);\r\n\t\t\tint currentId = gson.fromJson(json, JsonObject.class).get(ID).getAsInt();\r\n\r\n\t\t\tlog.debug(&quot;Writing entry of report_data_calls table&quot;);\r\n\t\t\toutputStream.write(json.getBytes());\r\n\t\t\toutputStream.close();\r\n\r\n\t\t\texampleSchedulerService.updateJobDataMapInfo(ProcessCallDataJob.class, CALL_DATA_LAST_ID, currentId);\r\n\t\t\tlog.debug(&quot;Updated last processed call id to be: &quot; + currentId);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(&quot;error: {}&quot;, e);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/vy/rotating-fos","title":"Writing json data to text file and creating new file dynamically when size limit is reached for first file","body":"<p>I have a spring-boot application which is constantly writing JSON data to text file in a given location.\nNow, I also want to create new text files dynamically, once the size limit is reached.</p>\n<p>I was thinking of handling above things manually with code something like this</p>\n<pre><code>    for (int i = 1; i &lt; 1000; i++) {\n        try {\n            File f = new File(FILE_LOCATION + fileName);\n            fileSize = Files.size(f.toPath());\n            System.out.println(&quot;filesize: &quot; + fileSize);\n\n            if (f.exists()) {\n                if (fileSize &gt; SIZE_1KB) {\n                    writer = new FileWriter(FILE_LOCATION + &quot;00&quot; + i + &quot;.txt&quot;);\n                    fileName = &quot;00&quot; + i + &quot;.txt&quot;;\n                } else {\n                    writer = new FileWriter(FILE_LOCATION + fileName, true);\n                }\n            } else {\n                writer = new FileWriter(FILE_LOCATION + fileName);\n            }\n\n            // use writer to write data\n\n            if (f.exists()) {\n                for (int j = 0; j &lt; 10; j++)\n                    writer.append(UUID.randomUUID().toString());\n            } else {\n                for (int j = 0; j &lt; 10; j++)\n                    writer.write(UUID.randomUUID().toString());\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p><strong>This is just a piece of code that I created to post the question here.</strong>\nBut, the logic of writing data to file is similar to the one I was using in spring-boot application.</p>\n<p>Also, if I want to handle things manually, I'll have to handle lot of things myself apart from creating new files when size limit is reached. Things like moving files to archived folder, when date if changed, deleting older files from archived folder when size limit of archived folder is reached, etc.</p>\n<p>I've also looked into logback.xml configuration, but that's already being used for rolling out log files. So, I don't think I can use that here.</p>\n<p>At this point, I feel like there might be a better way to do all this instead of handling it on our own manually. If anyone can suggest any library or framework or anything, it will be a great help.</p>\n<p><strong>Edit:</strong>\nOkay, have come across <a href=\"https://github.com/vy/rotating-fos\" rel=\"nofollow noreferrer\">rotating-fos</a>. Trying to determine appropriate configuration, which can meet my general requirements of rotating based on size, date, deleting old records and when size limit reached.</p>\n<p><strong>Edit 2:</strong>\nI've currently used rotating-fos library to achieve all the things mentioned above except deletion of files. Since, in my use case, text files are pushed to a data pipeline via separate procedure, which will again take care of removal of those files.</p>\n<pre><code>private void processEntry(Map&lt;String, Object&gt; entry) {\n    try {\n        String path = jsonProcessingPath + &quot;/&quot; + CALL_DATA + &quot;/&quot;;\n        SimpleDateFormat format = new SimpleDateFormat(DATE_FORMAT);\n        File dir = new File(path + format.format(new Date()));\n\n        if (!dir.exists())\n            dir.mkdir();\n\n        String fileName = CALL_DATA_FILE_NAME;\n        File file = new File(dir.getAbsolutePath() + &quot;//&quot; + fileName);\n        if (!file.exists())\n            file.createNewFile();\n\n        RotationConfig config = RotationConfig.builder().file(file.getAbsolutePath())\n                .filePattern(dir + &quot;/&quot; + CALL_DATA_FILE_NAME + &quot;.%d{HHmmss}.txt&quot;)\n                .policy(new SizeBasedRotationPolicy(Long.parseLong(SIZE_LIMIT)))\n                .policy(DailyRotationPolicy.getInstance()).build();\n        RotatingFileOutputStream outputStream = new RotatingFileOutputStream(config);\n\n        Gson gson = new Gson();\n        String json = gson.toJson(entry);\n        int currentId = gson.fromJson(json, JsonObject.class).get(ID).getAsInt();\n\n        log.debug(&quot;Writing entry of report_data_calls table&quot;);\n        outputStream.write(json.getBytes());\n        outputStream.close();\n\n        exampleSchedulerService.updateJobDataMapInfo(ProcessCallDataJob.class, CALL_DATA_LAST_ID, currentId);\n        log.debug(&quot;Updated last processed call id to be: &quot; + currentId);\n    } catch (Exception e) {\n        log.error(&quot;error: {}&quot;, e);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-jdbc","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":1195114,"reputation":848,"user_id":1167021,"display_name":"leftbit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656429745,"creation_date":1656429745,"answer_id":72789177,"question_id":72788536,"body_markdown":"Either specify the schema for each call or add the schema to the [search path][1].\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/ddl-schemas.html#DDL-SCHEMAS-PATH","title":"Use of SimpleJdbcCall to call stored procedure not using the current schema","body":"<p>Either specify the schema for each call or add the schema to the <a href=\"https://www.postgresql.org/docs/current/ddl-schemas.html#DDL-SCHEMAS-PATH\" rel=\"nofollow noreferrer\">search path</a>.</p>\n"}],"owner":{"account_id":5898520,"reputation":382,"user_id":4642911,"accept_rate":44,"display_name":"Hyukchan Kwon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656429745,"creation_date":1656427310,"question_id":72788536,"body_markdown":"I&#39;m trying to use Spring JDBC Template to call a stored procedure inside a postgres database.\r\nThe connection is done from the yaml configuration file to indicate the current schema to use: \r\n\r\n`jdbc:postgresql://localhost:5455/userdb?currentSchema=customschema`\r\n\r\nEvery queries done directly from jdbc template is using the correct current schema &quot;customschema&quot;.\r\nHowever, only executions done from SimpleJdbcCall to call a stored procedure is done in postgres default schema which is &quot;public&quot;, and I can&#39;t understand why.\r\n\r\nHere is the execution code:\r\n\r\n```\r\nnew SimpleJdbcCall(jdbcTemplate).withFunctionName(&quot;custom_stored_procedure_name&quot;).execute();\r\n```\r\n\r\nWhile debugging, if I look at that `jdbcTemplate.getDataSource().getConnection().getSchema()`, it returns the correct schema which is &quot;customschema&quot;.\r\n\r\nI need to force the schema with `.withSchemaName(&quot;customschema&quot;)` for this execution to work with the correct schema instead of &quot;public&quot;.\r\n\r\nI can&#39;t find any documentation online regarding this behavior.\r\n\r\nIs it an issue from the library itself ?","title":"Use of SimpleJdbcCall to call stored procedure not using the current schema","body":"<p>I'm trying to use Spring JDBC Template to call a stored procedure inside a postgres database.\nThe connection is done from the yaml configuration file to indicate the current schema to use:</p>\n<p><code>jdbc:postgresql://localhost:5455/userdb?currentSchema=customschema</code></p>\n<p>Every queries done directly from jdbc template is using the correct current schema &quot;customschema&quot;.\nHowever, only executions done from SimpleJdbcCall to call a stored procedure is done in postgres default schema which is &quot;public&quot;, and I can't understand why.</p>\n<p>Here is the execution code:</p>\n<pre><code>new SimpleJdbcCall(jdbcTemplate).withFunctionName(&quot;custom_stored_procedure_name&quot;).execute();\n</code></pre>\n<p>While debugging, if I look at that <code>jdbcTemplate.getDataSource().getConnection().getSchema()</code>, it returns the correct schema which is &quot;customschema&quot;.</p>\n<p>I need to force the schema with <code>.withSchemaName(&quot;customschema&quot;)</code> for this execution to work with the correct schema instead of &quot;public&quot;.</p>\n<p>I can't find any documentation online regarding this behavior.</p>\n<p>Is it an issue from the library itself ?</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":15014315,"reputation":634,"user_id":10837776,"display_name":"Ibrahim AlTamimi"},"score":1,"creation_date":1656447059,"post_id":72789038,"comment_id":128573540,"body_markdown":"Provide more details about the working module and the other one, on this way the engineers here will provide you a quick answers.","body":"Provide more details about the working module and the other one, on this way the engineers here will provide you a quick answers."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1656447241,"post_id":72789038,"comment_id":128573591,"body_markdown":"Your logs say nothing about the consumer being started. So, seems your consumer module is not actually used/started. A simple dependency addition in Maven will not do this. You will want to have some `@Service` or `@Component` that is used by the application scanner to start the consumer containers. That being said, multi-modules shouldn&#39;t matter (and I know they work correctly, when you configure them)","body":"Your logs say nothing about the consumer being started. So, seems your consumer module is not actually used/started. A simple dependency addition in Maven will not do this. You will want to have some <code>@Service</code> or <code>@Component</code> that is used by the application scanner to start the consumer containers. That being said, multi-modules shouldn&#39;t matter (and I know they work correctly, when you configure them)"},{"owner":{"account_id":14655333,"reputation":600,"user_id":10584061,"display_name":"ChristDist"},"score":0,"creation_date":1656465596,"post_id":72789038,"comment_id":128577379,"body_markdown":"Kindly share your Spring Boot Starter Class. Looks like something is wrong with you CommandLiner or Runnable class.","body":"Kindly share your Spring Boot Starter Class. Looks like something is wrong with you CommandLiner or Runnable class."}],"owner":{"account_id":25672165,"reputation":9,"user_id":19436228,"display_name":"Checker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1656429373,"creation_date":1656429156,"question_id":72789038,"body_markdown":"I am trying to build a Kafka Consumer using Spring Boot. It&#39;s a multi-module Maven project where consumer-app is the SpringBoot application and rest of the modules are added as dependencies to the parent project.\r\n\r\nWith this, I am able to build the project and run the app as well. But the app is not connecting to the Kafka broker (bootstrap server on my local).\r\n\r\nLog ends as this:\r\n\r\n          .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::       (v2.3.12.RELEASE)\r\n    \r\n    2022-06-28 20:26:50.849  INFO 17284 --- [  restartedMain] c.t.c.c.c.CardConsumerApplication        : Starting CardConsumerApplication on WorkIsOn with PID 17284 (C:\\Users\\myuser\\Workspace\\card-consumer\\card-consumer\\target\\classes started by myuser in C:\\Users\\myuser\\Workspace\\card-consumer)\r\n    2022-06-28 20:26:50.851  INFO 17284 --- [  restartedMain] c.t.c.c.c.CardConsumerApplication        : No active profile set, falling back to default profiles: default\r\n    2022-06-28 20:26:50.900  INFO 17284 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n    2022-06-28 20:26:50.901  INFO 17284 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n    2022-06-28 20:26:51.778  INFO 17284 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)\r\n    2022-06-28 20:26:51.784  INFO 17284 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-06-28 20:26:51.785  INFO 17284 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]\r\n    2022-06-28 20:26:51.850  INFO 17284 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-06-28 20:26:51.850  INFO 17284 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 949 ms\r\n    2022-06-28 20:26:51.977  INFO 17284 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2022-06-28 20:26:52.157  INFO 17284 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n    2022-06-28 20:26:52.182  INFO 17284 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path &#39;&#39;\r\n    2022-06-28 20:26:52.189  INFO 17284 --- [  restartedMain] c.t.c.c.c.CardConsumerApplication        : Started CardConsumerApplication in 1.688 seconds (JVM running for 3.215)\r\n\r\nNow, I made another app with the code of Kafka consumer module in a non-multi-module Maven project, I am able to connect to the Kafka&#39;s bootstrap server and this app is able to get the message as well. \r\n\r\nI have same SpringBoot configuration placed in both the application/project.\r\n\r\nPlease help me understand how to make this multi-module Maven app work.","title":"Maven Multi-module project - SpringBoot - Kafka Consumer Not connecting to Broker","body":"<p>I am trying to build a Kafka Consumer using Spring Boot. It's a multi-module Maven project where consumer-app is the SpringBoot application and rest of the modules are added as dependencies to the parent project.</p>\n<p>With this, I am able to build the project and run the app as well. But the app is not connecting to the Kafka broker (bootstrap server on my local).</p>\n<p>Log ends as this:</p>\n<pre><code>      .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::       (v2.3.12.RELEASE)\n\n2022-06-28 20:26:50.849  INFO 17284 --- [  restartedMain] c.t.c.c.c.CardConsumerApplication        : Starting CardConsumerApplication on WorkIsOn with PID 17284 (C:\\Users\\myuser\\Workspace\\card-consumer\\card-consumer\\target\\classes started by myuser in C:\\Users\\myuser\\Workspace\\card-consumer)\n2022-06-28 20:26:50.851  INFO 17284 --- [  restartedMain] c.t.c.c.c.CardConsumerApplication        : No active profile set, falling back to default profiles: default\n2022-06-28 20:26:50.900  INFO 17284 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2022-06-28 20:26:50.901  INFO 17284 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2022-06-28 20:26:51.778  INFO 17284 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9090 (http)\n2022-06-28 20:26:51.784  INFO 17284 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-06-28 20:26:51.785  INFO 17284 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]\n2022-06-28 20:26:51.850  INFO 17284 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-06-28 20:26:51.850  INFO 17284 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 949 ms\n2022-06-28 20:26:51.977  INFO 17284 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2022-06-28 20:26:52.157  INFO 17284 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2022-06-28 20:26:52.182  INFO 17284 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 9090 (http) with context path ''\n2022-06-28 20:26:52.189  INFO 17284 --- [  restartedMain] c.t.c.c.c.CardConsumerApplication        : Started CardConsumerApplication in 1.688 seconds (JVM running for 3.215)\n</code></pre>\n<p>Now, I made another app with the code of Kafka consumer module in a non-multi-module Maven project, I am able to connect to the Kafka's bootstrap server and this app is able to get the message as well.</p>\n<p>I have same SpringBoot configuration placed in both the application/project.</p>\n<p>Please help me understand how to make this multi-module Maven app work.</p>\n"},{"tags":["java","spring-boot","tomcat","servlet-filters","multipart"],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656234552,"creation_date":1656234552,"answer_id":72760241,"question_id":72725654,"body_markdown":"To enable the `allowCasualMultipartParsing` property of the Tomcat [`Context`](https://tomcat.apache.org/tomcat-8.0-doc/api/org/apache/catalina/Context.html),\r\nyou can inject a custom [`TomcatServletWebServerFactory`](https://docs.spring.io/spring-boot/docs/2.7.0/api/org/springframework/boot/web/embedded/tomcat/TomcatServletWebServerFactory.html)\r\ninto your application (Spring Boot 2):\r\n\r\n``` lang-java\r\nimport org.apache.catalina.Context;\r\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\n\r\n@Bean\r\npublic TomcatServletWebServerFactory tomcatFactory()\r\n{\r\n\treturn new TomcatServletWebServerFactory()\r\n\t{\r\n\t\t@Override\r\n\t\tprotected void postProcessContext(Context context)\r\n\t\t{\r\n\t\t\tcontext.setAllowCasualMultipartParsing(true);\r\n\t\t}\r\n\t};\r\n}\r\n```\r\n\r\nFor Spring Boot 1, the factory class is [`TomcatEmbeddedServletContainerFactory`](https://docs.spring.io/spring-boot/docs/1.2.1.RELEASE/api/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedServletContainerFactory.html).\r\n","title":"Resolving multi-part request in additinal servlet Filter without losing uploaded content","body":"<p>To enable the <code>allowCasualMultipartParsing</code> property of the Tomcat <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/api/org/apache/catalina/Context.html\" rel=\"nofollow noreferrer\"><code>Context</code></a>,\nyou can inject a custom <a href=\"https://docs.spring.io/spring-boot/docs/2.7.0/api/org/springframework/boot/web/embedded/tomcat/TomcatServletWebServerFactory.html\" rel=\"nofollow noreferrer\"><code>TomcatServletWebServerFactory</code></a>\ninto your application (Spring Boot 2):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.catalina.Context;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\n\n@Bean\npublic TomcatServletWebServerFactory tomcatFactory()\n{\n    return new TomcatServletWebServerFactory()\n    {\n        @Override\n        protected void postProcessContext(Context context)\n        {\n            context.setAllowCasualMultipartParsing(true);\n        }\n    };\n}\n</code></pre>\n<p>For Spring Boot 1, the factory class is <a href=\"https://docs.spring.io/spring-boot/docs/1.2.1.RELEASE/api/org/springframework/boot/context/embedded/tomcat/TomcatEmbeddedServletContainerFactory.html\" rel=\"nofollow noreferrer\"><code>TomcatEmbeddedServletContainerFactory</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656429115,"creation_date":1656429115,"answer_id":72789020,"question_id":72725654,"body_markdown":"Looking at the remainder of the question (or &#39;I am hoping for a cleaner solution adding the filter, without copying the request&#39;), I seriously doubt there is one.\r\n\r\nThe request is sent over the network once only. It contains multipart data, and once this is consumed (i.e. read from the stream) how would the stream now get forwarded to the next processor with the complete data?\r\n\r\nThat&#39;s where I guess generic solutions just receive the whole data, decide where to forward it to and then send the whole data. It will not work without having stored the data inbetween, what is labelled as &#39;copying the request&#39; by you.","title":"Resolving multi-part request in additinal servlet Filter without losing uploaded content","body":"<p>Looking at the remainder of the question (or 'I am hoping for a cleaner solution adding the filter, without copying the request'), I seriously doubt there is one.</p>\n<p>The request is sent over the network once only. It contains multipart data, and once this is consumed (i.e. read from the stream) how would the stream now get forwarded to the next processor with the complete data?</p>\n<p>That's where I guess generic solutions just receive the whole data, decide where to forward it to and then send the whole data. It will not work without having stored the data inbetween, what is labelled as 'copying the request' by you.</p>\n"}],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":714,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1656429115,"creation_date":1655966618,"question_id":72725654,"body_markdown":"My Filter inspects multi-part posts and potentially rejects them before they reach the actual endpoint (jersey, outside my control). Allowing casual multipart parsing (as shown in answer below) solves the exception: Unable to process parts as no multi-part configuration has been provided\r\n\r\nA custom CommonsMultipartResolver or the existing resolver work without the error when the property is set. However, the content gets lost after accessing / resolving it.\r\n\r\nI could use a custom CommonsMultipartResolver and deal with the lost information as suggested here: https://stackoverflow.com/questions/35392795/resolving-multipart-form-data-request-in-spring-filter. However, I am hoping for a cleaner solution adding the filter, without copying the request.","title":"Resolving multi-part request in additinal servlet Filter without losing uploaded content","body":"<p>My Filter inspects multi-part posts and potentially rejects them before they reach the actual endpoint (jersey, outside my control). Allowing casual multipart parsing (as shown in answer below) solves the exception: Unable to process parts as no multi-part configuration has been provided</p>\n<p>A custom CommonsMultipartResolver or the existing resolver work without the error when the property is set. However, the content gets lost after accessing / resolving it.</p>\n<p>I could use a custom CommonsMultipartResolver and deal with the lost information as suggested here: <a href=\"https://stackoverflow.com/questions/35392795/resolving-multipart-form-data-request-in-spring-filter\">Resolving multipart/form-data request in spring filter</a>. However, I am hoping for a cleaner solution adding the filter, without copying the request.</p>\n"},{"tags":["java","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":3086395,"reputation":327,"user_id":2613428,"display_name":"Harisha K P"},"score":0,"creation_date":1655306705,"post_id":69312306,"comment_id":128302751,"body_markdown":"Did you find an answer to your problem? I have the same question right now where my client class uses UriComponentsBuilder and I&#39;m unable to mock it and test .","body":"Did you find an answer to your problem? I have the same question right now where my client class uses UriComponentsBuilder and I&#39;m unable to mock it and test ."}],"answers":[{"tags":[],"owner":{"account_id":9263211,"reputation":383,"user_id":6879502,"display_name":"Panos Nikolos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656428869,"creation_date":1656414808,"answer_id":72785428,"question_id":69312306,"body_markdown":"Try something like\r\n\r\n    @Mock\r\n    UriComponentsBuilder uriComponentsBuilder;\r\n    @Mock\r\n    UriComponents uriComponents;\r\n\r\n        Mockito.when(uriComponentsBuilder.path(any())).thenReturn(uriComponentsBuilder);\r\n        Mockito.when(uriComponentsBuilder.buildAndExpand(anyLong())).thenReturn(uriComponents);\r\n\r\nfor the anyLong use the type that you use..","title":"How to mock URIComponentsBuilder in junit","body":"<p>Try something like</p>\n<pre><code>@Mock\nUriComponentsBuilder uriComponentsBuilder;\n@Mock\nUriComponents uriComponents;\n\n    Mockito.when(uriComponentsBuilder.path(any())).thenReturn(uriComponentsBuilder);\n    Mockito.when(uriComponentsBuilder.buildAndExpand(anyLong())).thenReturn(uriComponents);\n</code></pre>\n<p>for the anyLong use the type that you use..</p>\n"}],"owner":{"account_id":22828462,"reputation":11,"user_id":16977363,"display_name":"Rajesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2914,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656428869,"creation_date":1632474094,"question_id":69312306,"body_markdown":"I have this code:\r\n```\r\nUriComponentsBuilder uriBuilder = UriComponentsBuilder.fromHttpUrl(baseUrl).queryParam(&quot;externalReference&quot;, key);\r\n```\r\n\r\nif I use below statement in junit:\r\n```\r\nMockito.when(uriComponentsBuilder.fromHttpUrl(ArgumentMatchers.anyString()).queryParam(ArgumentMatchers.anyString(),ArgumentMatchers.any(Object.class))).thenReturn(uriBuilder);\r\n```\r\nI will get exception like: HTTP url cannot be null.\r\n      \r\nHow to mock this in JUnit?","title":"How to mock URIComponentsBuilder in junit","body":"<p>I have this code:</p>\n<pre><code>UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromHttpUrl(baseUrl).queryParam(&quot;externalReference&quot;, key);\n</code></pre>\n<p>if I use below statement in junit:</p>\n<pre><code>Mockito.when(uriComponentsBuilder.fromHttpUrl(ArgumentMatchers.anyString()).queryParam(ArgumentMatchers.anyString(),ArgumentMatchers.any(Object.class))).thenReturn(uriBuilder);\n</code></pre>\n<p>I will get exception like: HTTP url cannot be null.</p>\n<p>How to mock this in JUnit?</p>\n"},{"tags":["java","multithreading","junit"],"comments":[{"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"score":0,"creation_date":1638292399,"post_id":70168386,"comment_id":124047747,"body_markdown":"Could you clarify what you are trying to accomplish with running tests this way? I think [this answer](https://stackoverflow.com/a/2248203/12092416) might help though I don&#39;t understand completely what result you want to achieve.","body":"Could you clarify what you are trying to accomplish with running tests this way? I think <a href=\"https://stackoverflow.com/a/2248203/12092416\">this answer</a> might help though I don&#39;t understand completely what result you want to achieve."}],"answers":[{"tags":[],"owner":{"account_id":1137016,"reputation":5916,"user_id":1121883,"display_name":"Liviu Stirb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638294567,"creation_date":1638294567,"answer_id":70173900,"question_id":70168386,"body_markdown":"You can do this with an external state that both threads can access. Please note `latch.countDown();` should be added after you changed the state\r\n\r\n        \r\n        private volatile boolean failed  = false;\r\n    \t\r\n    \t@Test\r\n    \tpublic void test() throws InterruptedException {\r\n    \t\tvar latch = new CountDownLatch(1);\r\n    \r\n    \t\tExecutors.newSingleThreadExecutor().execute(() -&gt; {\r\n    \t\t\tfailed = true;//or false depending on the use case\r\n    \t\t\tlatch.countDown();\r\n    \t\t\t\r\n    \t\t});\r\n    \r\n    \t\tlatch.await();\r\n    \t\tif(failed){\r\n    \t\t\tAssert.fail(&quot;Doesn&#39;t fail the test&quot;);\r\n    \t\t}\r\n    \t}","title":"How to fail JUnit test from another thread","body":"<p>You can do this with an external state that both threads can access. Please note <code>latch.countDown();</code> should be added after you changed the state</p>\n<pre><code>    private volatile boolean failed  = false;\n    \n    @Test\n    public void test() throws InterruptedException {\n        var latch = new CountDownLatch(1);\n\n        Executors.newSingleThreadExecutor().execute(() -&gt; {\n            failed = true;//or false depending on the use case\n            latch.countDown();\n            \n        });\n\n        latch.await();\n        if(failed){\n            Assert.fail(&quot;Doesn't fail the test&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121188,"reputation":5073,"user_id":314089,"accept_rate":60,"display_name":"icyerasor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656428640,"creation_date":1656428640,"answer_id":72788890,"question_id":70168386,"body_markdown":"You could also use shutdown + awaitTermination to make sure all tasks are finished and use a try-catch and an AtomicBoolean to assert no AssertionErrors were raised &quot;inside&quot;.\r\n\r\n\r\n\r\n    AtomicBoolean failed = new AtomicBoolean(false);\r\n    ExecutorService executorService = Executors.newFixedThreadPool(PARALLEL_POOL_SIZE);\r\n\r\n    // start tasks.. maybe in a loop to generate load..\r\n    executorService.execute(() -&gt; {\r\n      try {\r\n        // Test something\r\n        // ..\r\n        // Validate\r\n        assertThat(actual, equalTo(EXPECTED));\r\n      } catch (AssertionError e) {\r\n        failed.set(true);\r\n        throw e;\r\n      }\r\n    });\r\n\r\n    executorService.shutdown();\r\n    boolean terminatedInTime = executorService.awaitTermination(5, TimeUnit.SECONDS);\r\n    assertTrue(terminatedInTime);\r\n    assertFalse(failed.get());","title":"How to fail JUnit test from another thread","body":"<p>You could also use shutdown + awaitTermination to make sure all tasks are finished and use a try-catch and an AtomicBoolean to assert no AssertionErrors were raised &quot;inside&quot;.</p>\n<pre><code>AtomicBoolean failed = new AtomicBoolean(false);\nExecutorService executorService = Executors.newFixedThreadPool(PARALLEL_POOL_SIZE);\n\n// start tasks.. maybe in a loop to generate load..\nexecutorService.execute(() -&gt; {\n  try {\n    // Test something\n    // ..\n    // Validate\n    assertThat(actual, equalTo(EXPECTED));\n  } catch (AssertionError e) {\n    failed.set(true);\n    throw e;\n  }\n});\n\nexecutorService.shutdown();\nboolean terminatedInTime = executorService.awaitTermination(5, TimeUnit.SECONDS);\nassertTrue(terminatedInTime);\nassertFalse(failed.get());\n</code></pre>\n"}],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":999,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656428640,"creation_date":1638270780,"question_id":70168386,"body_markdown":"Consider following test code:\r\n\r\n```java\r\n@Test\r\npublic void test() throws InterruptedException {\r\n    var latch = new CountDownLatch(1);\r\n\r\n    Executors.newSingleThreadExecutor().execute(() -&gt; {\r\n        latch.countDown();\r\n        Assert.fail(&quot;Doesn&#39;t fail the test&quot;);\r\n    });\r\n\r\n    latch.await();\r\n}\r\n```\r\nIt prints exception, but passes.\r\n\r\n&gt; Exception in thread &quot;pool-1-thread-1&quot; java.lang.AssertionError:\r\n&gt; Doesn&#39;t fail the test at\r\n&gt; org.junit.Assert.fail(Assert.java:89) at\r\n&gt; MyTest.lambda$test$0(MyTest.java:55) at\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) at\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) at\r\n&gt; java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nI have tried to set custom uncaught exception handler `setUncaughtExceptionHandler((t, e) -&gt; Assert.fail(e.getMessage()))`, but this didn&#39;t help.\r\n","title":"How to fail JUnit test from another thread","body":"<p>Consider following test code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test() throws InterruptedException {\n    var latch = new CountDownLatch(1);\n\n    Executors.newSingleThreadExecutor().execute(() -&gt; {\n        latch.countDown();\n        Assert.fail(&quot;Doesn't fail the test&quot;);\n    });\n\n    latch.await();\n}\n</code></pre>\n<p>It prints exception, but passes.</p>\n<blockquote>\n<p>Exception in thread &quot;pool-1-thread-1&quot; java.lang.AssertionError:\nDoesn't fail the test at\norg.junit.Assert.fail(Assert.java:89) at\nMyTest.lambda$test$0(MyTest.java:55) at\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) at\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) at\njava.base/java.lang.Thread.run(Thread.java:834)</p>\n</blockquote>\n<p>I have tried to set custom uncaught exception handler <code>setUncaughtExceptionHandler((t, e) -&gt; Assert.fail(e.getMessage()))</code>, but this didn't help.</p>\n"},{"tags":["java","conditional-statements","conditional-operator"],"comments":[{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":1,"creation_date":1656424397,"post_id":72787686,"comment_id":128565358,"body_markdown":"Are you trying to return that? (from a function that returns void)","body":"Are you trying to return that? (from a function that returns void)"},{"owner":{"account_id":10474057,"reputation":187,"user_id":7721117,"display_name":"M Usama Alvi"},"score":0,"creation_date":1656424457,"post_id":72787686,"comment_id":128565389,"body_markdown":"@XtremeBaumer That&#39;s just a copy paste thing here. Editted it.","body":"@XtremeBaumer That&#39;s just a copy paste thing here. Editted it."},{"owner":{"account_id":3421530,"reputation":3695,"user_id":2868955,"accept_rate":85,"display_name":"Evdzhan Mustafa"},"score":0,"creation_date":1656424533,"post_id":72787686,"comment_id":128565423,"body_markdown":"Is this compile issue or runtime issue? When does the error show itself?","body":"Is this compile issue or runtime issue? When does the error show itself?"},{"owner":{"account_id":10474057,"reputation":187,"user_id":7721117,"display_name":"M Usama Alvi"},"score":0,"creation_date":1656424941,"post_id":72787686,"comment_id":128565617,"body_markdown":"@EvdzhanMustafa It&#39;s runtime.","body":"@EvdzhanMustafa It&#39;s runtime."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1656425922,"post_id":72787686,"comment_id":128566009,"body_markdown":"What version of Java are you using? Are those methods form [this json](https://mvnrepository.com/artifact/org.json/json) library?","body":"What version of Java are you using? Are those methods form <a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">this json</a> library?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1656428106,"post_id":72787686,"comment_id":128567012,"body_markdown":"Can you show us the full stack trace attached to the error message?","body":"Can you show us the full stack trace attached to the error message?"},{"owner":{"account_id":10474057,"reputation":187,"user_id":7721117,"display_name":"M Usama Alvi"},"score":0,"creation_date":1656430451,"post_id":72787686,"comment_id":128567995,"body_markdown":"@JettoMart&#237;nez They are from `io.vertx.core.json.JsonArray`. Java 17.","body":"@JettoMart&#237;nez They are from <code>io.vertx.core.json.JsonArray</code>. Java 17."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1656431712,"post_id":72787686,"comment_id":128568516,"body_markdown":"`JsonArray.getJsonObject` takes an `int` argument, but you&#39;re passing a `String` instead. Are you sure the error message isn&#39;t &quot;cannot convert from String to **int**&quot;?","body":"<code>JsonArray.getJsonObject</code> takes an <code>int</code> argument, but you&#39;re passing a <code>String</code> instead. Are you sure the error message isn&#39;t &quot;cannot convert from String to <b>int</b>&quot;?"},{"owner":{"account_id":10474057,"reputation":187,"user_id":7721117,"display_name":"M Usama Alvi"},"score":0,"creation_date":1656433454,"post_id":72787686,"comment_id":128569205,"body_markdown":"@k314159 This function takes string in order to return the object for that string key value. `JsonObject io.vertx.core.json.JsonObject.getJsonObject(String key)`","body":"@k314159 This function takes string in order to return the object for that string key value. <code>JsonObject io.vertx.core.json.JsonObject.getJsonObject(String key)</code>"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1656433733,"post_id":72787686,"comment_id":128569296,"body_markdown":"You are probably returning a string from a method with a void return type.","body":"You are probably returning a string from a method with a void return type."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1656434872,"post_id":72787686,"comment_id":128569654,"body_markdown":"But you said this is a runtime error, not a compile-time one? Can you just reconfirm? If it really is a runtime error, is there a stack trace you can show?","body":"But you said this is a runtime error, not a compile-time one? Can you just reconfirm? If it really is a runtime error, is there a stack trace you can show?"}],"answers":[{"tags":[],"owner":{"account_id":18269519,"reputation":1064,"user_id":13300553,"display_name":"Prathamesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656428490,"creation_date":1656427674,"answer_id":72788633,"question_id":72787686,"body_markdown":"From the code and error that has been provided it is not clear that what could cause the error!\r\n\r\n    obj.getJsonObject(&quot;impact&quot;).getJsonObject(&quot;baseMetricV2&quot;).getString(&quot;severity&quot;);\r\n\r\n \r\n\r\nBut looking at what has been provided, the `.getString(&quot;severity&quot;)` is probably returning void , that means the return type of getString() is void;\r\n\r\nCheck return type of getString() method!\r\n\r\n","title":"Java - Type mismatch: cannot convert from String to void","body":"<p>From the code and error that has been provided it is not clear that what could cause the error!</p>\n<pre><code>obj.getJsonObject(&quot;impact&quot;).getJsonObject(&quot;baseMetricV2&quot;).getString(&quot;severity&quot;);\n</code></pre>\n<p>But looking at what has been provided, the <code>.getString(&quot;severity&quot;)</code> is probably returning void , that means the return type of getString() is void;</p>\n<p>Check return type of getString() method!</p>\n"}],"owner":{"account_id":10474057,"reputation":187,"user_id":7721117,"display_name":"M Usama Alvi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":822,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656428490,"creation_date":1656424280,"question_id":72787686,"body_markdown":"I&#39;m using java and this seems like a very straightforward ternary condition.\r\n\r\n```\r\nString severity = obj.getJsonObject(&quot;impact&quot;).isEmpty() ? &quot;N/A&quot; : obj.getJsonObject(&quot;impact&quot;).getJsonObject(&quot;baseMetricV2&quot;).getString(&quot;severity&quot;);\r\n```\r\nThis is the error it throws me on this: \r\n```\r\nType mismatch: cannot convert from String to void\r\n```\r\nI have come from C# background so maybe I&#39;m missing something very obvious. \r\n","title":"Java - Type mismatch: cannot convert from String to void","body":"<p>I'm using java and this seems like a very straightforward ternary condition.</p>\n<pre><code>String severity = obj.getJsonObject(&quot;impact&quot;).isEmpty() ? &quot;N/A&quot; : obj.getJsonObject(&quot;impact&quot;).getJsonObject(&quot;baseMetricV2&quot;).getString(&quot;severity&quot;);\n</code></pre>\n<p>This is the error it throws me on this:</p>\n<pre><code>Type mismatch: cannot convert from String to void\n</code></pre>\n<p>I have come from C# background so maybe I'm missing something very obvious.</p>\n"},{"tags":["java","spring","spring-boot","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":16101320,"reputation":121,"user_id":11622006,"display_name":"Slongtong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656428072,"creation_date":1656415786,"answer_id":72785625,"question_id":72784064,"body_markdown":"You should use correct field names in query. Field with name &#39;forecasterName&#39; doesn&#39;t exists.\r\n\r\nquery example:\r\n\r\n    http://localhost:8080/?status=OK&amp;forecastId=1&amp;forecastName=name&amp;createdBy=owner&amp;page=2&amp;size=11&amp;sort=a,desc&amp;sort=b\r\n\r\nresponse example:\r\n\r\n    {\r\n      &quot;criteria&quot;: {\r\n        &quot;forecastId&quot;: &quot;1&quot;,\r\n        &quot;forecastName&quot;: &quot;name&quot;,\r\n        &quot;forecastGroupName&quot;: null,\r\n        &quot;latestVersion&quot;: null,\r\n        &quot;status&quot;: &quot;OK&quot;,\r\n        &quot;forecasterName&quot;: null,\r\n        &quot;createdAt&quot;: null,\r\n        &quot;modifiedAt&quot;: null,\r\n        &quot;createdBy&quot;: &quot;owner&quot;,\r\n        &quot;modifiedBy&quot;: null\r\n      },\r\n      &quot;pageable&quot;: {\r\n        &quot;sort&quot;: {\r\n          &quot;empty&quot;: false,\r\n          &quot;sorted&quot;: true,\r\n          &quot;unsorted&quot;: false\r\n        },\r\n        &quot;offset&quot;: 22,\r\n        &quot;pageSize&quot;: 11,\r\n        &quot;pageNumber&quot;: 2,\r\n        &quot;paged&quot;: true,\r\n        &quot;unpaged&quot;: false\r\n      }\r\n    }\r\n\r\n\r\nfilled objects (pageable and criteria) in controller (debug mode):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\napplication:\r\n\r\n    package com.example.demo;\r\n    \r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n        public enum ForecastStatus {\r\n            OK,\r\n            UNKNOWN\r\n        }\r\n    \r\n        @Data\r\n        @Builder\r\n        public static class ForecastFilterCriteria {\r\n            //\r\n            //query parameters names should be equal to fields names\r\n            //\r\n            private String forecastId;\r\n            private String forecastName;\r\n            private String forecastGroupName;\r\n            private String latestVersion;\r\n            private ForecastStatus status;\r\n            private String forecasterName;\r\n            private Long createdAt;\r\n            private Long modifiedAt;\r\n            private String createdBy;\r\n            private String modifiedBy;\r\n        }\r\n    \r\n        @RestController\r\n        @RequestMapping(&quot;/&quot;)\r\n        public static class Controller {\r\n    \r\n            @GetMapping\r\n            public Map&lt;String, Object&gt; get(ForecastFilterCriteria criteria, Pageable pageable) {\r\n                HashMap&lt;String, Object&gt; values = new HashMap&lt;&gt;();\r\n                values.put(&quot;criteria&quot;, criteria);\r\n                values.put(&quot;pageable&quot;, pageable);\r\n                return values;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    \r\n    }\r\n    \r\npom.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.1&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;demo&lt;/name&gt;\r\n        &lt;description&gt;demo&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n    \r\n\r\nproject structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xtZPM.png\r\n  [2]: https://i.stack.imgur.com/Yahvv.png","title":"Filtering data using query parameters as object not working Springboot","body":"<p>You should use correct field names in query. Field with name 'forecasterName' doesn't exists.</p>\n<p>query example:</p>\n<pre><code>http://localhost:8080/?status=OK&amp;forecastId=1&amp;forecastName=name&amp;createdBy=owner&amp;page=2&amp;size=11&amp;sort=a,desc&amp;sort=b\n</code></pre>\n<p>response example:</p>\n<pre><code>{\n  &quot;criteria&quot;: {\n    &quot;forecastId&quot;: &quot;1&quot;,\n    &quot;forecastName&quot;: &quot;name&quot;,\n    &quot;forecastGroupName&quot;: null,\n    &quot;latestVersion&quot;: null,\n    &quot;status&quot;: &quot;OK&quot;,\n    &quot;forecasterName&quot;: null,\n    &quot;createdAt&quot;: null,\n    &quot;modifiedAt&quot;: null,\n    &quot;createdBy&quot;: &quot;owner&quot;,\n    &quot;modifiedBy&quot;: null\n  },\n  &quot;pageable&quot;: {\n    &quot;sort&quot;: {\n      &quot;empty&quot;: false,\n      &quot;sorted&quot;: true,\n      &quot;unsorted&quot;: false\n    },\n    &quot;offset&quot;: 22,\n    &quot;pageSize&quot;: 11,\n    &quot;pageNumber&quot;: 2,\n    &quot;paged&quot;: true,\n    &quot;unpaged&quot;: false\n  }\n}\n</code></pre>\n<p>filled objects (pageable and criteria) in controller (debug mode):</p>\n<p><a href=\"https://i.stack.imgur.com/xtZPM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xtZPM.png\" alt=\"enter image description here\" /></a></p>\n<p>application:</p>\n<pre><code>package com.example.demo;\n\nimport lombok.Builder;\nimport lombok.Data;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public enum ForecastStatus {\n        OK,\n        UNKNOWN\n    }\n\n    @Data\n    @Builder\n    public static class ForecastFilterCriteria {\n        //\n        //query parameters names should be equal to fields names\n        //\n        private String forecastId;\n        private String forecastName;\n        private String forecastGroupName;\n        private String latestVersion;\n        private ForecastStatus status;\n        private String forecasterName;\n        private Long createdAt;\n        private Long modifiedAt;\n        private String createdBy;\n        private String modifiedBy;\n    }\n\n    @RestController\n    @RequestMapping(&quot;/&quot;)\n    public static class Controller {\n\n        @GetMapping\n        public Map&lt;String, Object&gt; get(ForecastFilterCriteria criteria, Pageable pageable) {\n            HashMap&lt;String, Object&gt; values = new HashMap&lt;&gt;();\n            values.put(&quot;criteria&quot;, criteria);\n            values.put(&quot;pageable&quot;, pageable);\n            return values;\n        }\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>pom.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;demo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/Yahvv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yahvv.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6557464,"reputation":4145,"user_id":5069746,"accept_rate":50,"display_name":"Kshitij Kohli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1469,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656428072,"creation_date":1656408990,"question_id":72784064,"body_markdown":"I am trying to build a &#39;list all with filters&#39; API. What I am trying to do is get the parameters from which to filter by as query parameters and then pass them forward to criteria API. I have created a Filter object in which i have added all the fields with which I would want to filter my results by, but passing the object as query parameter it is not getting mapped to the java object correctly and the fields are still null. Attaching my code snippet below.\r\n\r\n```\r\npublic Page&lt;ForecastResponse&gt; listForecast(ForecastFilterCriteria forecastFilterCriteria,@NotNull final Pageable pageable) {\r\n        logger.info(&quot;Got the following as pageable request &quot;+pageable.toString());\r\n        logger.info(&quot;Got the following filters &quot;+forecastFilterCriteria.toString());\r\n        return listForecastUsecase.forecasts( forecastFilterCriteria,pageable);\r\n    }\r\n\r\n```\r\n\r\n```\r\n@Data\r\n@Builder\r\npublic class ForecastFilterCriteria {\r\n    private String forecastId;\r\n    private String forecastName;\r\n    private String forecastGroupName;\r\n    private String latestVersion;\r\n    private ForecastStatus status;\r\n    private PlanHorizon planHorizon;\r\n    private Interval interval;\r\n    private String  forecasterName;\r\n    private Long createdAt;\r\n    private Long modifiedAt;\r\n    private String createdBy;\r\n    private String modifiedBy;\r\n}\r\n\r\n```\r\nCurl commands I have tried so far\r\n```\r\n1. curl http://localhost:8443/v2/forecast/?page=2&amp;size=5\r\n2. curl http://localhost:8443/v2/forecast/?forecasterName=Pradeep&amp;page=1&amp;size=10\r\n3. curl http://localhost:8443/v2/forecast/?forecastFilterCriteria={&quot;forecasterName&quot;:&quot;Pradeep&quot;}&amp;page=1&amp;size=10\r\n4. curl http://localhost:8443/v2/forecast/?forecasterName=Pradeep&amp;forecastId=myId&amp;page=1&amp;size=10\r\n\r\n```\r\n\r\nMy Observations :\r\n\r\n Only the first parameter is what gets initialized correctly ie if I pass parameters as in the 4th curl command, only the name gets initialized correctly, forecastId remains null and page and size parameters are taking what I believe default values of 0 and 20. What am I missing?\r\n\r\n\r\n**Edit :** Attaching the screenshot\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KkIAL.png","title":"Filtering data using query parameters as object not working Springboot","body":"<p>I am trying to build a 'list all with filters' API. What I am trying to do is get the parameters from which to filter by as query parameters and then pass them forward to criteria API. I have created a Filter object in which i have added all the fields with which I would want to filter my results by, but passing the object as query parameter it is not getting mapped to the java object correctly and the fields are still null. Attaching my code snippet below.</p>\n<pre><code>public Page&lt;ForecastResponse&gt; listForecast(ForecastFilterCriteria forecastFilterCriteria,@NotNull final Pageable pageable) {\n        logger.info(&quot;Got the following as pageable request &quot;+pageable.toString());\n        logger.info(&quot;Got the following filters &quot;+forecastFilterCriteria.toString());\n        return listForecastUsecase.forecasts( forecastFilterCriteria,pageable);\n    }\n\n</code></pre>\n<pre><code>@Data\n@Builder\npublic class ForecastFilterCriteria {\n    private String forecastId;\n    private String forecastName;\n    private String forecastGroupName;\n    private String latestVersion;\n    private ForecastStatus status;\n    private PlanHorizon planHorizon;\n    private Interval interval;\n    private String  forecasterName;\n    private Long createdAt;\n    private Long modifiedAt;\n    private String createdBy;\n    private String modifiedBy;\n}\n\n</code></pre>\n<p>Curl commands I have tried so far</p>\n<pre><code>1. curl http://localhost:8443/v2/forecast/?page=2&amp;size=5\n2. curl http://localhost:8443/v2/forecast/?forecasterName=Pradeep&amp;page=1&amp;size=10\n3. curl http://localhost:8443/v2/forecast/?forecastFilterCriteria={&quot;forecasterName&quot;:&quot;Pradeep&quot;}&amp;page=1&amp;size=10\n4. curl http://localhost:8443/v2/forecast/?forecasterName=Pradeep&amp;forecastId=myId&amp;page=1&amp;size=10\n\n</code></pre>\n<p>My Observations :</p>\n<p> Only the first parameter is what gets initialized correctly ie if I pass parameters as in the 4th curl command, only the name gets initialized correctly, forecastId remains null and page and size parameters are taking what I believe default values of 0 and 20. What am I missing?</p>\n<p><strong>Edit :</strong> Attaching the screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/KkIAL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KkIAL.png\" alt=\"enter image description here\" /></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8765,"page":1227,"page_size":100}
